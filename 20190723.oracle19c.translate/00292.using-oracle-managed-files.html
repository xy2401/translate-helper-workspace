<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="Oracle Database can manage the files that comprise the database."></meta>
      <meta name="description" content="Oracle Database can manage the files that comprise the database."></meta>
      <title>使用Oracle托管文件</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Database Administrator’s Guide "></meta>
      <meta property="og:description" content="Oracle Database can manage the files that comprise the database."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Database Administrator’s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-administrators-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-03-14T11:02:35-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96348-04"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="managing-undo.html" title="Previous" type="text/html"></link>
      <link rel="next" href="schema-objects.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Administrator&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="ADMIN"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="managing-undo.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="schema-objects.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">数据库管理员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="oracle-database-structure-and-storage.html" property="item" typeof="WebPage"><span property="name">Oracle数据库结构和存储</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">使用Oracle托管文件</li>
            </ol>
            <a id="GUID-4A3C4616-0D81-4BBA-8EAD-FCAA8AD5C15A" name="GUID-4A3C4616-0D81-4BBA-8EAD-FCAA8AD5C15A"></a><a id="ADMIN003"></a>
            
            <h2 id="ADMIN-GUID-4A3C4616-0D81-4BBA-8EAD-FCAA8AD5C15A" class="sect2"><span class="enumeration_chapter">17</span>使用Oracle托管文件</h2>
         </header>
         <div class="ind">
            <p>Oracle数据库可以管理组成数据库的文件。</p>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="using-oracle-managed-files.html#GUID-57C50259-9472-4ED0-8818-DB9ABA96EC8E">关于Oracle托管文件</a><br>Oracle Managed Files简化了数据库管理，减少了错误并减少了浪费的磁盘空间。
                  </li>
                  <li class="ulchildlink"><a href="using-oracle-managed-files.html#GUID-17E03974-563A-4FA8-A8BE-2D1F4C1083B5">启用Oracle托管文件的创建和使用</a><br>您可以设置某些初始化参数以启用和使用Oracle Managed Files。
                  </li>
                  <li class="ulchildlink"><a href="using-oracle-managed-files.html#GUID-B916E968-F2FB-460B-81DE-41423B114211">创建Oracle托管文件</a><br>您可以使用Oracle Managed Files来创建数据文件，临时文件，控制文件，重做日志文件和存档日志。
                  </li>
                  <li class="ulchildlink"><a href="using-oracle-managed-files.html#GUID-A01F7705-083F-4978-9B96-BE2FE8A5C6B3">Oracle托管文件的操作</a><br>只要使用文件名标识现有文件，就会在SQL语句中接受Oracle Managed Files的文件名。
                  </li>
                  <li class="ulchildlink"><a href="using-oracle-managed-files.html#GUID-1FA2DD6E-361C-4A6C-B359-F6E974568AEA">使用Oracle托管文件的方案</a><br>场景说明了如何使用Oracle托管文件。
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>父主题：</strong> <a href="oracle-database-structure-and-storage.html#GUID-F11D30A7-BF12-4D8F-A1C2-D7437D38F8C7" title="您可以创建和管理数据库结构和存储组件。">Oracle数据库结构和存储</a></p>
                  </div>
               </div>
            </div>
            
            <div class="sect2"><a id="GUID-57C50259-9472-4ED0-8818-DB9ABA96EC8E" name="GUID-57C50259-9472-4ED0-8818-DB9ABA96EC8E"></a><h3 id="ADMIN-GUID-57C50259-9472-4ED0-8818-DB9ABA96EC8E" class="sect3"><span class="enumeration_section">17.1</span>关于Oracle托管文件</h3>
               <p>Oracle Managed Files简化了数据库管理，减少了错误并减少了浪费的磁盘空间。</p>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="using-oracle-managed-files.html#GUID-A6661644-8688-4391-B833-B117DD7105DA">什么是Oracle托管文件？</a><br>使用Oracle Managed Files简化了Oracle数据库的管理。Oracle Managed Files使您（DBA）无需直接管理组成Oracle数据库的操作系统文件。
                     </li>
                     <li class="ulchildlink"><a href="using-oracle-managed-files.html#GUID-F2D27430-201B-4404-9DB2-42AB3B65F433">谁可以使用Oracle托管文件？</a><br>Oracle Managed Files对某些类型的数据库最有用。
                     </li>
                     <li class="ulchildlink"><a href="using-oracle-managed-files.html#GUID-DDC14F5D-9777-48D4-95B3-E9D921E1B9A3">什么是逻辑卷管理器？</a><br>逻辑卷管理器（LVM）是大多数操作系统都可用的软件包。有时它被称为逻辑磁盘管理器（LDM）。它允许将多个物理磁盘的各个部分组合成一个连续的地址空间，该地址空间作为一个磁盘显示在更高层的软件上。
                     </li>
                     <li class="ulchildlink"><a href="using-oracle-managed-files.html#GUID-DCD41D65-042B-4DA1-A4D9-15725FC39961">什么是文件系统？</a><br>文件系统是在连续磁盘地址空间内构建的数据结构。文件管理器（FM）是一个操作文件系统的软件包，但它有时也称为文件系统。
                     </li>
                     <li class="ulchildlink"><a href="using-oracle-managed-files.html#GUID-6CD87D40-9D7D-4ECD-9592-CA853CB97341">使用Oracle托管文件的好处</a><br>Oracle Managed Files提供了多种好处。
                     </li>
                     <li class="ulchildlink"><a href="using-oracle-managed-files.html#GUID-1126EF86-4300-4AF8-A62F-78EB69022DDD">Oracle托管文件和现有功能</a><br>使用Oracle Managed Files不会消除任何现有功能。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="using-oracle-managed-files.html#GUID-4A3C4616-0D81-4BBA-8EAD-FCAA8AD5C15A" title="Oracle数据库可以管理组成数据库的文件。">使用Oracle托管文件</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN11481"></a><div class="props_rev_3"><a id="GUID-A6661644-8688-4391-B833-B117DD7105DA" name="GUID-A6661644-8688-4391-B833-B117DD7105DA"></a><h4 id="ADMIN-GUID-A6661644-8688-4391-B833-B117DD7105DA" class="sect4"><span class="enumeration_section">17.1.1</span>什么是Oracle托管文件？
                  </h4>
                  <div>
                     <p>使用Oracle Managed Files简化了Oracle数据库的管理。Oracle Managed Files使您（DBA）无需直接管理组成Oracle数据库的操作系统文件。</p>
                     <p>使用Oracle Managed Files，您可以指定数据库在数据库对象级别自动创建，命名和管理文件的文件系统目录。例如，您只需要指定要创建表空间;您不需要使用<code class="codeph">DATAFILE</code>子句指定表空间的数据文件的名称和路径。此功能适用于逻辑卷管理器（LVM）。
                     </p>
                     <p>数据库内部使用标准文件系统接口根据以下数据库结构的需要创建和删除文件：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>表空间</p>
                        </li>
                        <li>
                           <p>重做日志文件</p>
                        </li>
                        <li>
                           <p>控制文件</p>
                        </li>
                        <li>
                           <p>存档日志</p>
                        </li>
                        <li>
                           <p>阻止更改跟踪文件</p>
                        </li>
                        <li>
                           <p>闪回日志</p>
                        </li>
                        <li>
                           <p>RMAN备份</p>
                        </li>
                     </ul>
                     <p>通过初始化参数，指定要用于特定类型文件的文件系统目录。然后，数据库确保在不再需要时创建和删除唯一文件（Oracle托管文件）。</p>
                     <p>此功能不会影响管理文件的创建或命名，例如跟踪文件，审计文件，警报日志和核心文件。</p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-A6661644-8688-4391-B833-B117DD7105DA__GUID-BD5C3617-9B2C-4783-B36B-96E07B11506E">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="../ostmg/index.html" target="_blank"><span class="italic">“Oracle自动存储管理管理员指南”</span></a> ，提供有关Oracle自动存储管理（Oracle ASM），Oracle数据库集成文件系统和卷管理器的信息，该管理器可扩展Oracle托管文件的功能。使用Oracle Managed Files，可以自动为您创建和管理文件，但使用Oracle ASM，您可以获得条带化，软件镜像和动态存储配置等其他功能，而无需购买第三方逻辑卷管理器。
                        </p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="using-oracle-managed-files.html#GUID-57C50259-9472-4ED0-8818-DB9ABA96EC8E" title="Oracle Managed Files简化了数据库管理，减少了错误并减少了浪费的磁盘空间。">关于Oracle托管文件</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11482"></a><div class="props_rev_3"><a id="GUID-F2D27430-201B-4404-9DB2-42AB3B65F433" name="GUID-F2D27430-201B-4404-9DB2-42AB3B65F433"></a><h4 id="ADMIN-GUID-F2D27430-201B-4404-9DB2-42AB3B65F433" class="sect4"><span class="enumeration_section">17.1.2</span>谁可以使用Oracle托管文件？
                  </h4>
                  <div>
                     <p>Oracle Managed Files对某些类型的数据库最有用。</p>
                     <p>Oracle Managed Files对以下类型的数据库最有用：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>以下支持的数据库：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>逻辑卷管理器，支持条带化/ RAID和动态可扩展的逻辑卷</p>
                              </li>
                              <li>
                                 <p>提供大型可扩展文件的文件系统</p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p>低端或测试数据库</p>
                        </li>
                     </ul>
                     <p>由于Oracle托管文件要求您使用操作系统文件系统，因此您无法控制文件在磁盘上的布局方式，因此会丢失一些I / O调整功能。</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="using-oracle-managed-files.html#GUID-57C50259-9472-4ED0-8818-DB9ABA96EC8E" title="Oracle Managed Files简化了数据库管理，减少了错误并减少了浪费的磁盘空间。">关于Oracle托管文件</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11483"></a><div class="props_rev_3"><a id="GUID-DDC14F5D-9777-48D4-95B3-E9D921E1B9A3" name="GUID-DDC14F5D-9777-48D4-95B3-E9D921E1B9A3"></a><h4 id="ADMIN-GUID-DDC14F5D-9777-48D4-95B3-E9D921E1B9A3" class="sect4"><span class="enumeration_section">17.1.3</span>什么是逻辑卷管理器？
                  </h4>
                  <div>
                     <p>逻辑卷管理器（LVM）是大多数操作系统都可用的软件包。有时它被称为逻辑磁盘管理器（LDM）。它允许将多个物理磁盘的各个部分组合成一个连续的地址空间，该地址空间作为一个磁盘显示在更高层的软件上。</p>
                     <p>LVM可以使逻辑卷具有比任何底层物理磁盘更好的容量，性能，可靠性和可用性特征。它使用镜像，条带化，串联和RAID 5等技术来实现这些特性。</p>
                     <p>某些LVM允许在创建逻辑卷后更改其特性，即使在使用它时也是如此。卷可以调整大小或镜像，也可以重新定位到不同的物理磁盘。</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="using-oracle-managed-files.html#GUID-57C50259-9472-4ED0-8818-DB9ABA96EC8E" title="Oracle Managed Files简化了数据库管理，减少了错误并减少了浪费的磁盘空间。">关于Oracle托管文件</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11484"></a><div class="props_rev_3"><a id="GUID-DCD41D65-042B-4DA1-A4D9-15725FC39961" name="GUID-DCD41D65-042B-4DA1-A4D9-15725FC39961"></a><h4 id="ADMIN-GUID-DCD41D65-042B-4DA1-A4D9-15725FC39961" class="sect4"><span class="enumeration_section">17.1.4</span>什么是文件系统？
                  </h4>
                  <div>
                     <p>文件系统是在连续磁盘地址空间内构建的数据结构。文件管理器（FM）是一个操作文件系统的软件包，但它有时也称为文件系统。</p>
                     <p>所有操作系统都有文件管理器。文件管理器的主要任务是将磁盘空间分配和释放到文件系统中的文件中。</p>
                     <p>文件系统允许将磁盘空间分配给大量文件。每个文件都显示为Oracle数据库等应用程序的连续地址空间。这些文件在文件系统的磁盘空间内实际上可能不是连续的。可以创建，读取，写入，调整大小和删除文件。每个文件都有一个与之关联的名称，用于引用该文件。</p>
                     <p>文件系统通常构建在由LVM构建的逻辑卷之上。因此，特定文件系统中的所有文件都具有从底层逻辑卷继承的相同性能，可靠性和可用性特征。文件系统是由文件系统中的所有文件共享的单个存储池。如果文件系统空间不足，则该文件系统中的所有文件都不会增长。一个文件系统中的可用空间不会影响另一个文件系统中的空间。但是，某些LVM / FM组合允许在文件系统中添加或删除空间。</p>
                     <p>操作系统可以支持多个文件系统。构建多个文件系统以为不同文件提供不同的存储特性，以及将可用磁盘空间划分为不会相互影响的池。</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="using-oracle-managed-files.html#GUID-57C50259-9472-4ED0-8818-DB9ABA96EC8E" title="Oracle Managed Files简化了数据库管理，减少了错误并减少了浪费的磁盘空间。">关于Oracle托管文件</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11485"></a><div class="props_rev_3"><a id="GUID-6CD87D40-9D7D-4ECD-9592-CA853CB97341" name="GUID-6CD87D40-9D7D-4ECD-9592-CA853CB97341"></a><h4 id="ADMIN-GUID-6CD87D40-9D7D-4ECD-9592-CA853CB97341" class="sect4"><span class="enumeration_section">17.1.5</span>使用Oracle托管文件的好处</h4>
                  <div>
                     <p>Oracle Managed Files提供了多种好处。</p>
                     <p>请考虑使用Oracle托管文件的以下好处：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>它们使数据库的管理更容易。</p>
                           <p>无需创建文件名并定义特定的存储要求。一组一致的规则用于命名所有相关文件。文件系统定义存储的特征以及分配它的池。</p>
                        </li>
                        <li>
                           <p>它们可以减少管理员指定错误文件所导致的损坏。</p>
                           <p>每个Oracle托管文件和文件名都是唯一的。在两个不同的数据库中使用相同的文件是一个常见错误，可能导致非常大的停机时间和丢失已提交的事务。使用引用同一文件的两个不同名称是另一个导致严重损坏的错误。</p>
                        </li>
                        <li>
                           <p>它们减少了过时文件所浪费的磁盘空间。</p>
                           <p>Oracle Database在不再需要时会自动删除旧的Oracle Managed Files。大型系统中浪费了大量磁盘空间，因为没有人确定是否仍然需要特定文件。这还简化了删除磁盘上不再需要的文件的管理任务，并防止了删除错误文件的错误。</p>
                        </li>
                        <li>
                           <p>它们简化了测试和开发数据库的创建。</p>
                           <p>您可以最大限度地减少在文件结构和命名方面做出决策所花费的时间，并且您可以减少文件管理任务。您可以更好地专注于满足测试或开发数据库的实际要求。</p>
                        </li>
                        <li>
                           <p>Oracle Managed Files使便携式第三方工具的开发变得更加容易。</p>
                           <p>Oracle Managed Files消除了在SQL脚本中放置特定于操作系统的文件名的需要。</p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="using-oracle-managed-files.html#GUID-57C50259-9472-4ED0-8818-DB9ABA96EC8E" title="Oracle Managed Files简化了数据库管理，减少了错误并减少了浪费的磁盘空间。">关于Oracle托管文件</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11486"></a><div class="props_rev_3"><a id="GUID-1126EF86-4300-4AF8-A62F-78EB69022DDD" name="GUID-1126EF86-4300-4AF8-A62F-78EB69022DDD"></a><h4 id="ADMIN-GUID-1126EF86-4300-4AF8-A62F-78EB69022DDD" class="sect4"><span class="enumeration_section">17.1.6</span> Oracle托管文件和现有功能</h4>
                  <div>
                     <p>使用Oracle Managed Files不会消除任何现有功能。</p>
                     <p>现有数据库能够像往常一样运行。新文件可以创建为托管文件，而旧文件则以旧方式管理。因此，数据库可以混合使用Oracle托管和非托管文件。</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="using-oracle-managed-files.html#GUID-57C50259-9472-4ED0-8818-DB9ABA96EC8E" title="Oracle Managed Files简化了数据库管理，减少了错误并减少了浪费的磁盘空间。">关于Oracle托管文件</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
            <div class="sect2"><a id="GUID-17E03974-563A-4FA8-A8BE-2D1F4C1083B5" name="GUID-17E03974-563A-4FA8-A8BE-2D1F4C1083B5"></a><h3 id="ADMIN-GUID-17E03974-563A-4FA8-A8BE-2D1F4C1083B5" class="sect3"><span class="enumeration_section">17.2</span>启用Oracle托管文件的创建和使用</h3>
               <p>您可以设置某些初始化参数以启用和使用Oracle Managed Files。</p>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="using-oracle-managed-files.html#GUID-A26D0DF1-5C64-4F01-9B11-DF972916688E">启用Oracle托管文件的初始化参数</a><br>下表列出了允许使用Oracle Managed Files的初始化参数。
                     </li>
                     <li class="ulchildlink"><a href="using-oracle-managed-files.html#GUID-9166B5E4-C5C4-4E83-B03B-B704E50078F8">设置DB_CREATE_FILE_DEST初始化参数</a><br><code class="codeph">DB_CREATE_FILE_DEST</code>初始化参数指定重要数据库文件的位置。
                     </li>
                     <li class="ulchildlink"><a href="using-oracle-managed-files.html#GUID-B0F00D0C-6C82-44B6-9484-61E2564E43FC">设置DB_RECOVERY_FILE_DEST参数</a><br>在初始化参数文件中包含<code class="codeph">DB_RECOVERY_FILE_DEST</code>和<code class="codeph">DB_RECOVERY_FILE_DEST_SIZE</code>参数，以标识快速恢复区的默认位置。
                     </li>
                     <li class="ulchildlink"><a href="using-oracle-managed-files.html#GUID-B8E6A2AC-A575-40B1-851F-4C8870ECAC92">设置DB_CREATE_ONLINE_LOG_DEST_n初始化参数</a><br><code class="codeph">DB_CREATE_ONLINE_LOG_DEST_</code> <span class="italic"><code class="codeph">n</code></span>初始化参数指定重做日志文件和控制文件的位置。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="using-oracle-managed-files.html#GUID-4A3C4616-0D81-4BBA-8EAD-FCAA8AD5C15A" title="Oracle数据库可以管理组成数据库的文件。">使用Oracle托管文件</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN11487"></a><div class="props_rev_3"><a id="GUID-A26D0DF1-5C64-4F01-9B11-DF972916688E" name="GUID-A26D0DF1-5C64-4F01-9B11-DF972916688E"></a><h4 id="ADMIN-GUID-A26D0DF1-5C64-4F01-9B11-DF972916688E" class="sect4"><span class="enumeration_section">17.2.1</span>启用Oracle托管文件的初始化参数</h4>
                  <div>
                     <p>下表列出了允许使用Oracle Managed Files的初始化参数。</p>
                     <div class="tblformal" id="GUID-A26D0DF1-5C64-4F01-9B11-DF972916688E__GUID-531710CC-C9B7-483A-A4FF-9A5EE67031DC">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="In column 1 this table lists the initialization parameters that enable the Oracle Managed Files feature. Column 2 describes each parameter." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="34%" id="d171393e597">初始化参数</th>
                                 <th align="left" valign="bottom" width="66%" id="d171393e600">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="34%" id="d171393e605" headers="d171393e597 ">
                                    <p><code class="codeph">DB_CREATE_FILE_DEST</code></p>
                                 </td>
                                 <td align="left" valign="top" width="66%" headers="d171393e605 d171393e600 ">
                                    <p>定义默认文件系统目录或Oracle ASM磁盘组的位置，当创建操作中未指定文件规范时，数据库将创建数据文件或临时文件。如果未指定<code class="codeph">DB_CREATE_ONLINE_LOG_DEST_</code> <span class="italic"><code class="codeph">n</code></span> ， <code class="codeph">DB_CREATE_ONLINE_LOG_DEST_</code>用作重做日志和控制文件的缺省位置。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="34%" id="d171393e619" headers="d171393e597 ">
                                    <p><code class="codeph">DB_CREATE_ONLINE_LOG_DEST_</code> <span class="italic"><code class="codeph">n</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="66%" headers="d171393e619 d171393e600 ">
                                    <p>在创建操作中未指定文件规范时，为重做日志文件和控制文件创建定义默认文件系统目录或Oracle ASM磁盘组的位置。通过更改<span class="italic"><code class="codeph">n</code></span> ，您可以多次使用此初始化参数，其中<span class="italic"><code class="codeph">n</code></span>指定重做日志或控制文件的多路复用副本。您最多可以指定五个多路复用副本。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="34%" id="d171393e638" headers="d171393e597 ">
                                    <p><code class="codeph">DB_RECOVERY_FILE_DEST</code></p>
                                 </td>
                                 <td align="left" valign="top" width="66%" headers="d171393e638 d171393e600 ">
                                    <p>定义的位置<a id="d171393e645" class="indexterm-anchor"></a>快速恢复区，它是默认文件系统目录或Oracle ASM磁盘组，其中数据库在未使用格式选项时创建RMAN备份，未配置其他本地目标时的归档日志以及闪回日志。如果未指定<code class="codeph">DB_CREATE_ONLINE_LOG_DEST_</code> <span class="italic"><code class="codeph">n</code></span> ，还用作重做日志和控制文件的默认位置或重做日志和控制文件的多路复用副本。指定此参数时，还必须指定<code class="codeph">DB_RECOVERY_FILE_DEST_SIZE</code>初始化参数。
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>这些参数指定的文件系统目录必须已存在;数据库不会创建它们。该目录还必须具有允许数据库在其中创建文件的权限。</p>
                     <p>只要没有为创建文件的操作明确指定位置，就会使用默认位置。数据库创建文件名，因此创建的文件是Oracle托管文件。</p>
                     <p>这两个初始化参数都是动态的，可以使用<code class="codeph">ALTER SYSTEM</code>或<code class="codeph">ALTER SESSION</code>语句进行设置。
                     </p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-A26D0DF1-5C64-4F01-9B11-DF972916688E__GUID-45D18851-9745-4179-9280-4AC71130767E">
                        <p class="notep1">也可以看看：</p>
                        <p></p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>有关初始化参数的其他信息，请参阅<a href="../refrn/initialization-parameters.html#REFRN001" target="_blank"><span class="italic">Oracle Database Reference</span></a></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="using-oracle-managed-files.html#GUID-54F98D4C-BB88-4CF3-9435-0878099EC5CA" title="Oracle Managed Files的文件名符合文件命名的Optimal Flexible Architecture（OFA）标准。">如何命名Oracle托管文件</a> ”</span></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="using-oracle-managed-files.html#GUID-17E03974-563A-4FA8-A8BE-2D1F4C1083B5" title="您可以设置某些初始化参数以启用和使用Oracle Managed Files。">启用Oracle托管文件的创建和使用</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11488"></a><div class="props_rev_3"><a id="GUID-9166B5E4-C5C4-4E83-B03B-B704E50078F8" name="GUID-9166B5E4-C5C4-4E83-B03B-B704E50078F8"></a><h4 id="ADMIN-GUID-9166B5E4-C5C4-4E83-B03B-B704E50078F8" class="sect4"><span class="enumeration_section">17.2.2</span>设置DB_CREATE_FILE_DEST初始化参数</h4>
                  <div>
                     <p><code class="codeph">DB_CREATE_FILE_DEST</code>初始化参数指定重要数据库文件的位置。
                     </p>
                     <div class="section">
                        <p>在初始化参数文件中包含<code class="codeph">DB_CREATE_FILE_DEST</code>初始化参数，以标识要创建的数据库服务器的缺省位置：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>数据文件</p>
                           </li>
                           <li>
                              <p>临时文件</p>
                           </li>
                           <li>
                              <p>重做日志文件</p>
                           </li>
                           <li>
                              <p>控制文件</p>
                           </li>
                           <li>
                              <p>阻止更改跟踪文件</p>
                           </li>
                        </ul>
                        <p>您可以指定文件系统目录的名称，该目录将成为为这些实体创建操作系统文件的默认位置。以下示例将<code class="codeph">/u01/app/oracle/oradata</code>为创建Oracle托管文件时使用的默认目录：</p><pre class="oac_no_warn" dir="ltr">DB_CREATE_FILE_DEST ='/ u01 / app / oracle / oradata'</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="using-oracle-managed-files.html#GUID-17E03974-563A-4FA8-A8BE-2D1F4C1083B5" title="您可以设置某些初始化参数以启用和使用Oracle Managed Files。">启用Oracle托管文件的创建和使用</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11489"></a><div class="props_rev_3"><a id="GUID-B0F00D0C-6C82-44B6-9484-61E2564E43FC" name="GUID-B0F00D0C-6C82-44B6-9484-61E2564E43FC"></a><h4 id="ADMIN-GUID-B0F00D0C-6C82-44B6-9484-61E2564E43FC" class="sect4"><span class="enumeration_section">17.2.3</span>设置DB_RECOVERY_FILE_DEST参数</h4>
                  <div>
                     <p>在初始化参数文件中包含<code class="codeph">DB_RECOVERY_FILE_DEST</code>和<code class="codeph">DB_RECOVERY_FILE_DEST_SIZE</code>参数，以标识快速恢复区的默认位置。
                     </p>
                     <div class="section">
                        <p>快速恢复区包含：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>重做日志文件或重做日志文件的多路复用副本</p>
                           </li>
                           <li>
                              <p>控制文件或控制文件的多路复用副本</p>
                           </li>
                           <li>
                              <p>RMAN备份（数据文件副本，控制文件副本，备份片段，控制文件自动备份）</p>
                           </li>
                           <li>
                              <p>存档日志</p>
                           </li>
                           <li>
                              <p>闪回日志</p>
                           </li>
                        </ul>
                        <p>您指定文件系统目录的名称，该目录将成为为这些实体创建操作系统文件的默认位置。例如：</p><pre class="oac_no_warn" dir="ltr">DB_RECOVERY_FILE_DEST ='/ u01 / app / oracle / fast_recovery_area'DB_RECOVERY_FILE_DEST_SIZE = 20G</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="using-oracle-managed-files.html#GUID-17E03974-563A-4FA8-A8BE-2D1F4C1083B5" title="您可以设置某些初始化参数以启用和使用Oracle Managed Files。">启用Oracle托管文件的创建和使用</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11490"></a><div class="props_rev_3"><a id="GUID-B8E6A2AC-A575-40B1-851F-4C8870ECAC92" name="GUID-B8E6A2AC-A575-40B1-851F-4C8870ECAC92"></a><h4 id="ADMIN-GUID-B8E6A2AC-A575-40B1-851F-4C8870ECAC92" class="sect4"><span class="enumeration_section">17.2.4</span>设置DB_CREATE_ONLINE_LOG_DEST_n初始化参数</h4>
                  <div>
                     <p><code class="codeph">DB_CREATE_ONLINE_LOG_DEST_</code> <span class="italic"><code class="codeph">n</code></span>初始化参数指定重做日志文件和控制文件的位置。
                     </p>
                     <div class="section">
                        <p>在初始化参数文件中包含<code class="codeph">DB_CREATE_ONLINE_LOG_DEST_</code> <span class="italic"><code class="codeph">n</code></span>初始化参数，以标识要创建的数据库服务器的缺省位置：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>重做日志文件</p>
                           </li>
                           <li>
                              <p>控制文件</p>
                           </li>
                        </ul>
                        <p>您可以指定文件系统目录或Oracle ASM磁盘组的名称，该磁盘组将成为为这些实体创建文件的默认位置。您最多可以指定五个多路复用位置。</p>
                        <p><span class="italic">对于仅创建重做日志文件和控制文件</span> ，此参数将覆盖<code class="codeph">DB_CREATE_FILE_DEST</code>和<code class="codeph">DB_RECOVERY_FILE_DEST</code>初始化参数中指定的任何缺省位置。如果未指定<code class="codeph">DB_CREATE_FILE_DEST</code>参数，但指定了<code class="codeph">DB_CREATE_ONLINE_LOG_DEST_</code> <span class="italic"><code class="codeph">n</code></span>参数，则只能将重做日志文件和控制文件创建为Oracle Managed Files。
                        </p>
                        <p>建议您至少指定两个参数。例如：</p><pre class="oac_no_warn" dir="ltr">DB_CREATE_ONLINE_LOG_DEST_1 ='/ u02 / oradata'DB_CREATE_ONLINE_LOG_DEST_2 ='/ u03 / oradata'</pre><p>这允许多路复用，如果其中一个目标发生故障，它将为重做日志和控制文件提供更高的容错能力。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="using-oracle-managed-files.html#GUID-17E03974-563A-4FA8-A8BE-2D1F4C1083B5" title="您可以设置某些初始化参数以启用和使用Oracle Managed Files。">启用Oracle托管文件的创建和使用</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADMIN11491"></a><div class="props_rev_3"><a id="GUID-B916E968-F2FB-460B-81DE-41423B114211" name="GUID-B916E968-F2FB-460B-81DE-41423B114211"></a><h3 id="ADMIN-GUID-B916E968-F2FB-460B-81DE-41423B114211" class="sect3"><span class="enumeration_section">17.3</span>创建Oracle托管文件</h3>
               <p>您可以使用Oracle Managed Files来创建数据文件，临时文件，控制文件，重做日志文件和存档日志。</p>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="using-oracle-managed-files.html#GUID-1776A4E1-8E8B-43C0-B7AB-2FB7015B9220">Oracle数据库创建Oracle托管文件时</a><br>满足特定条件时，Oracle数据库会创建Oracle托管文件。
                     </li>
                     <li class="ulchildlink"><a href="using-oracle-managed-files.html#GUID-54F98D4C-BB88-4CF3-9435-0878099EC5CA">如何命名Oracle托管文件</a><br>Oracle Managed Files的文件名符合文件命名的Optimal Flexible Architecture（OFA）标准。
                     </li>
                     <li class="ulchildlink"><a href="using-oracle-managed-files.html#GUID-0AD8D0D8-FC79-4F84-BD43-098E433F22BC">在数据库创建时创建Oracle托管文件</a><br><code class="codeph">CREATE DATABASE</code>语句可以执行与Oracle Managed Files相关的操作。
                     </li>
                     <li class="ulchildlink"><a href="using-oracle-managed-files.html#GUID-C90E5151-9B33-4F95-9BFE-D21DCD270CE8">使用Oracle托管文件为表空间创建数据文件</a><br>当满足某些条件时，Oracle数据库可以使用Oracle Managed Files为表空间创建数据文件。
                     </li>
                     <li class="ulchildlink"><a href="using-oracle-managed-files.html#GUID-834E2381-6D9E-4924-B73B-5C9E58AFB3DA">使用Oracle托管文件为临时表空间创建临时文件</a><br>当满足某些条件时，Oracle数据库可以使用Oracle Managed Files为临时表空间创建临时文件。
                     </li>
                     <li class="ulchildlink"><a href="using-oracle-managed-files.html#GUID-600F8B64-CE2C-4B1D-A944-6E05459428BB">使用Oracle托管文件创建控制文件</a><br>当满足某些条件时，Oracle数据库可以使用Oracle Managed Files创建控制文件。
                     </li>
                     <li class="ulchildlink"><a href="using-oracle-managed-files.html#GUID-E3DD5403-B4E9-4EAB-A0A8-967BC0EE9F31">使用Oracle托管文件创建重做日志文件</a><br>重做日志文件是在数据库创建时创建的。当您发出以下任一语句时，也可以创建它们： <code class="codeph">ALTER DATABASE ADD LOGFILE</code>和<code class="codeph">ALTER DATABASE OPEN RESETLOGS</code> 。</li>
                     <li class="ulchildlink"><a href="using-oracle-managed-files.html#GUID-BA56EC5D-EBD1-4643-9034-467573023DED">使用Oracle托管文件创建存档日志</a><br>存档日志由后台进程或SQL语句创建。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="using-oracle-managed-files.html#GUID-4A3C4616-0D81-4BBA-8EAD-FCAA8AD5C15A" title="Oracle数据库可以管理组成数据库的文件。">使用Oracle托管文件</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="sect3"><a id="GUID-1776A4E1-8E8B-43C0-B7AB-2FB7015B9220" name="GUID-1776A4E1-8E8B-43C0-B7AB-2FB7015B9220"></a><h4 id="ADMIN-GUID-1776A4E1-8E8B-43C0-B7AB-2FB7015B9220" class="sect4"><span class="enumeration_section">17.3.1</span> Oracle数据库创建Oracle托管文件时</h4>
                  <div>
                     <p>满足特定条件时，Oracle数据库会创建Oracle托管文件。</p>
                     <p>如果您满足以下任何条件，则在创建操作中未指定文件规范时，Oracle数据库会根据需要为您创建Oracle托管文件：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>您已在初始化参数文件中包含任何<code class="codeph">DB_CREATE_FILE_DEST</code> ， <code class="codeph">DB_RECOVERY_FILE_DEST</code>或<code class="codeph">DB_CREATE_ONLINE_LOG_DEST_</code> <span class="italic"><code class="codeph">n</code></span>初始化参数。
                           </p>
                        </li>
                        <li>
                           <p>您已发出<code class="codeph">ALTER SYSTEM</code>语句以动态设置<code class="codeph">DB_RECOVERY_FILE_DEST</code> ， <code class="codeph">DB_CREATE_FILE_DEST</code>或<code class="codeph">DB_CREATE_ONLINE_LOG_DEST_</code> <span class="italic"><code class="codeph">n</code></span>初始化参数中的任何一个</p>
                        </li>
                        <li>
                           <p>您已发出<code class="codeph">ALTER SESSION</code>语句以动态设置任何<code class="codeph">DB_CREATE_FILE_DEST</code> ， <code class="codeph">DB_RECOVERY_FILE_DEST</code>或<code class="codeph">DB_CREATE_ONLINE_LOG_DEST_</code> <span class="italic"><code class="codeph">n</code></span>初始化参数。
                           </p>
                        </li>
                     </ul>
                     <p>如果创建Oracle托管文件的语句发现错误或由于某些故障而未完成，则该语句创建的任何Oracle托管文件将在恢复错误或失败时自动删除。但是，由于文件系统和存储子系统可能发生大量潜在错误，因此可能存在必须使用操作系统命令手动删除文件的情况。</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="using-oracle-managed-files.html#GUID-B916E968-F2FB-460B-81DE-41423B114211" title="您可以使用Oracle Managed Files来创建数据文件，临时文件，控制文件，重做日志文件和存档日志。">创建Oracle托管文件</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11492"></a><div class="props_rev_3"><a id="GUID-54F98D4C-BB88-4CF3-9435-0878099EC5CA" name="GUID-54F98D4C-BB88-4CF3-9435-0878099EC5CA"></a><h4 id="ADMIN-GUID-54F98D4C-BB88-4CF3-9435-0878099EC5CA" class="sect4"><span class="enumeration_section">17.3.2</span> Oracle托管文件的命名方式</h4>
                  <div>
                     <p>Oracle Managed Files的文件名符合文件命名的Optimal Flexible Architecture（OFA）标准。</p>
                     <div class="infoboxnote" id="GUID-54F98D4C-BB88-4CF3-9435-0878099EC5CA__GUID-E2FB1483-7C3A-4818-B08B-617530452139">
                        <p class="notep1">注意：</p>
                        <p>本节中描述的命名方案仅适用于在操作系统文件系统中创建的文件。<a href="../ostmg/asm-files-directories-templates.html#OSTMG10264" target="_blank"><span class="italic">Oracle自动存储管理管理员指南中</span></a>介绍了在Oracle自动存储管理（Oracle ASM）磁盘组中创建的文件的命名方案。
                        </p>
                     </div>
                     <p>指定的名称旨在满足以下要求：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>数据库文件很容易与所有其他文件区分开来。</p>
                        </li>
                        <li>
                           <p>一种数据库类型的文件很容易与其他数据库类型区分开来。</p>
                        </li>
                        <li>
                           <p>文件明确与特定于文件类型的重要属性相关联。例如，数据文件名可以包括表空间名称以允许容易地将数据文件关联到表空间，或者存档的日志名称可以包括线程，序列和创建日期。</p>
                        </li>
                     </ul>
                     <p>没有两个Oracle托管文件具有相同的名称。用于创建Oracle托管文件的名称由三个来源构成：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>默认创建位置</p>
                        </li>
                        <li>
                           <p>根据文件类型选择的文件名模板。该模板还取决于操作系统平台以及是否使用Oracle自动存储管理。</p>
                        </li>
                        <li>
                           <p>由Oracle数据库或操作系统创建的唯一字符串。这可确保文件创建不会损坏现有文件，并且文件不会被误认为是其他文件。</p>
                        </li>
                     </ul>
                     <p>作为一个具体示例，Oracle Managed Files的文件名在Solaris文件系统上具有以下格式：</p><pre class="oac_no_warn" dir="ltr"><span class="italic">destination_prefix</span> /o1_mf_%t_%u_.dbf</pre><p>哪里：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="italic"><code class="codeph">destination_prefix</code></span>是<span class="italic"><code class="codeph">destination_location</code></span> / <span class="italic"><code class="codeph">db_unique_name</code></span> / <span class="italic"><code class="codeph">datafile</code></span></p>
                           <p>哪里：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="italic"><code class="codeph">destination_location</code></span>是<code class="codeph">DB_CREATE_FILE_DEST</code>指定的位置</p>
                              </li>
                              <li>
                                 <p><span class="italic"><code class="codeph">db_unique_name</code></span>是目标数据库的全局唯一名称（ <code class="codeph">DB_UNIQUE_NAME</code>初始化参数）。如果没有<code class="codeph">DB_UNIQUE_NAME</code>参数，则使用<code class="codeph">DB_NAME</code>初始化参数值。
                                 </p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p>％t是表空间名称。</p>
                        </li>
                        <li>
                           <p>％u是一个八字符的字符串，保证唯一性</p>
                        </li>
                     </ul>
                     <p>例如，假设以下参数设置：</p><pre class="oac_no_warn" dir="ltr">DB_CREATE_FILE_DEST = / u01 / app / oracle / oradata DB_UNIQUE_NAME = PAYROLL</pre><p>那么示例数据文件名将是：</p><pre class="oac_no_warn" dir="ltr">/u01/app/oracle/oradata/PAYROLL/datafile/o1_mf_tbs1_2ixh90q_.dbf</pre><p>其他文件类型的名称类似。其他平台上的名称也类似，受限于平台的命名规则。</p>
                     <p>以下页面中的示例使用Oracle托管文件名，因为它们可能与Solaris文件系统一起显示为OMF目标。</p>
                     <div class="infoboxnote" id="GUID-54F98D4C-BB88-4CF3-9435-0878099EC5CA__GUID-640C0280-1CF5-413A-AA6F-DEA698967ADC">
                        <p class="notep1">注意：</p>
                        <p>不要重命名Oracle托管文件。数据库根据其名称标识Oracle托管文件。如果重命名该文件，则数据库不再能够将其识别为Oracle托管文件，并且不会相应地管理该文件。</p>
                     </div>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="using-oracle-managed-files.html#GUID-B916E968-F2FB-460B-81DE-41423B114211" title="您可以使用Oracle Managed Files来创建数据文件，临时文件，控制文件，重做日志文件和存档日志。">创建Oracle托管文件</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11493"></a><div class="props_rev_3"><a id="GUID-0AD8D0D8-FC79-4F84-BD43-098E433F22BC" name="GUID-0AD8D0D8-FC79-4F84-BD43-098E433F22BC"></a><h4 id="ADMIN-GUID-0AD8D0D8-FC79-4F84-BD43-098E433F22BC" class="sect4"><span class="enumeration_section">17.3.3</span>在数据库创建时创建Oracle托管文件</h4>
                  <div>
                     <p><code class="codeph">CREATE DATABASE</code>语句可以执行与Oracle Managed Files相关的操作。
                     </p>
                     <p></p>
                     <div class="infoboxnote" id="GUID-0AD8D0D8-FC79-4F84-BD43-098E433F22BC__GUID-FA5F8811-B363-4C15-8EEA-BFE6979369AF">
                        <p class="notep1">注意：</p>
                        <p>本节中的规则和默认值也适用于使用Database Configuration Assistant（DBCA）创建数据库。使用DBCA，您可以使用图形界面来启用Oracle Managed Files，并指定与本节中描述的初始化参数相对应的文件位置。</p>
                     </div>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="using-oracle-managed-files.html#GUID-68D39857-A6CA-4A8C-BD5B-068D657B2EBD">在数据库创建时指定控制文件</a><br>在数据库创建时，控制文件在<code class="codeph">CONTROL_FILES</code>初始化参数指定的文件中创建。
                        </li>
                        <li class="ulchildlink"><a href="using-oracle-managed-files.html#GUID-A188682C-A3CF-428B-9296-7A75A46A6A5E">在数据库创建时指定重做日志文件</a><br><code class="codeph">CREATE DATABASE</code>语句中不需要<code class="codeph">LOGFILE</code>子句，省略它提供了创建Oracle托管重做日志文件的简单方法。
                        </li>
                        <li class="ulchildlink"><a href="using-oracle-managed-files.html#GUID-6DA3135B-6177-49AE-AF62-BFE04A7A9CA3">在数据库创建时指定SYSTEM和SYSAUX表空间数据文件</a><br><code class="codeph">CREATE DATABASE</code>语句中不需要<code class="codeph">DATAFILE</code>或<code class="codeph">SYSAUX</code> <code class="codeph">DATAFILE</code>子句，省略它提供了为<code class="codeph">SYSTEM</code>和<code class="codeph">SYSAUX</code>表空间创建Oracle托管数据文件的简单方法。
                        </li>
                        <li class="ulchildlink"><a href="using-oracle-managed-files.html#GUID-61F60FFE-41C7-4845-A5E3-CB7E8471DABA">在数据库创建时指定撤消表空间数据文件</a><br><code class="codeph">UNDO TABLESPACE</code>子句的<code class="codeph">DATAFILE</code>子句是可选的，文件规范中不需要文件名。
                        </li>
                        <li class="ulchildlink"><a href="using-oracle-managed-files.html#GUID-0DE4E4BC-FC64-49DB-8DD7-7FD68BD2062E">在数据库创建时指定默认临时表空间临时文件</a><br>对于<code class="codeph">DEFAULT TEMPORARY TABLESPACE</code>子句， <code class="codeph">TEMPFILE</code>子句是可选的，文件规范中不需要文件名。
                        </li>
                        <li class="ulchildlink"><a href="using-oracle-managed-files.html#GUID-9E04D83B-4758-4E7D-B2A7-673B123F3989">使用Oracle托管文件创建DATABASE语句：示例</a><br>示例说明了在使用Oracle Managed Files功能时使用<code class="codeph">CREATE DATABASE</code>语句<code class="codeph">CREATE DATABASE</code> 。
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-0AD8D0D8-FC79-4F84-BD43-098E433F22BC__GUID-BAC3B53A-8ED2-47A9-97AE-D39B0DAB5590">
                        <p class="notep1">也可以看看：</p>
                        <p>有关<code class="codeph">CREATE DATABASE</code>语句的说明，请<a href="../sqlrf/CREATE-DATABASE.html#SQLRF01204" target="_blank"><span class="italic">参见Oracle数据库SQL语言参考</span></a></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="using-oracle-managed-files.html#GUID-B916E968-F2FB-460B-81DE-41423B114211" title="您可以使用Oracle Managed Files来创建数据文件，临时文件，控制文件，重做日志文件和存档日志。">创建Oracle托管文件</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADMIN11494"></a><div class="props_rev_3"><a id="GUID-68D39857-A6CA-4A8C-BD5B-068D657B2EBD" name="GUID-68D39857-A6CA-4A8C-BD5B-068D657B2EBD"></a><h5 id="ADMIN-GUID-68D39857-A6CA-4A8C-BD5B-068D657B2EBD" class="sect5"><span class="enumeration_section">17.3.3.1</span>在数据库创建时指定控制文件</h5>
                     <div>
                        <p>在数据库创建时，控制文件在<code class="codeph">CONTROL_FILES</code>初始化参数指定的文件中创建。
                        </p>
                        <div class="section">
                           <p>如果未设置<code class="codeph">CONTROL_FILES</code>参数并且至少设置了创建Oracle Managed Files所需的一个初始化参数，则会在默认控制文件目标中创建Oracle托管控制文件。按优先顺序，默认目标定义如下：</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">DB_CREATE_ONLINE_LOG_DEST_</code> <span class="italic"><code class="codeph">n</code></span>初始化参数中指定的一个或多个控制文件。第一个目录中的文件是主控制文件。指定<code class="codeph">DB_CREATE_ONLINE_LOG_DEST_</code> <span class="italic"><code class="codeph">n</code></span> ，数据库不会在<code class="codeph">DB_CREATE_FILE_DEST</code>或<code class="codeph">DB_RECOVERY_FILE_DEST</code> （快速恢复区）中创建控制文件。
                                 </p>
                              </li>
                              <li>
                                 <p>如果没有为<code class="codeph">DB_CREATE_ONLINE_LOG_DEST_</code> <span class="italic"><code class="codeph">n</code></span>指定值，但为<code class="codeph">DB_CREATE_FILE_DEST</code>和<code class="codeph">DB_RECOVERY_FILE_DEST</code>设置了值，则数据库会在每个位置创建一个控制文件。<code class="codeph">DB_CREATE_FILE_DEST</code>指定的位置是主控制文件。
                                 </p>
                              </li>
                              <li>
                                 <p>如果仅为<code class="codeph">DB_CREATE_FILE_DEST</code>指定了值，则数据库将在该位置创建一个控制文件。
                                 </p>
                              </li>
                              <li>
                                 <p>如果仅为<code class="codeph">DB_RECOVERY_FILE_DEST</code>指定了值，则数据库将在该位置创建一个控制文件。
                                 </p>
                              </li>
                           </ul>
                           <p>如果未设置<code class="codeph">CONTROL_FILES</code>参数且未设置这些初始化参数，则Oracle数据库默认操作取决于操作系统。在操作系统相关的默认位置中创建至少一个控制文件的副本。以这种方式创建的控制文件的任何副本都不是Oracle Managed Files，您必须将<code class="codeph">CONTROL_FILES</code>初始化参数添加到任何初始化参数文件。
                           </p>
                           <p>如果数据库创建Oracle托管控制文件，并且存在服务器参数文件，则数据库会在服务器参数文件中创建<code class="codeph">CONTROL_FILES</code>初始化参数条目。如果没有服务器参数文件，则必须在文本初始化参数文件中手动包含<code class="codeph">CONTROL_FILES</code>初始化参数条目。
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-68D39857-A6CA-4A8C-BD5B-068D657B2EBD__GUID-E05322EF-D3F2-4029-BF48-D92DB8B08597">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="managing-control-files.html#GUID-5F6F9382-6921-4992-9789-E63B18E99C5F" title="您可以创建，备份和删除控制文件。">管理控制文件</a></p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="using-oracle-managed-files.html#GUID-0AD8D0D8-FC79-4F84-BD43-098E433F22BC" title="CREATE DATABASE语句可以执行与Oracle Managed Files相关的操作。">在数据库创建时创建Oracle托管文件</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11495"></a><div class="props_rev_3"><a id="GUID-A188682C-A3CF-428B-9296-7A75A46A6A5E" name="GUID-A188682C-A3CF-428B-9296-7A75A46A6A5E"></a><h5 id="ADMIN-GUID-A188682C-A3CF-428B-9296-7A75A46A6A5E" class="sect5"><span class="enumeration_section">17.3.3.2</span>在数据库创建时指定重做日志文件</h5>
                     <div>
                        <p><code class="codeph">CREATE DATABASE</code>语句中不需要<code class="codeph">LOGFILE</code>子句，省略它提供了创建Oracle托管重做日志文件的简单方法。
                        </p>
                        <div class="section">
                           <p>如果省略<code class="codeph">LOGFILE</code>子句，则会在缺省重做日志文件目标中创建重做日志文件。按优先顺序，默认目标定义如下：</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>如果设置了<code class="codeph">DB_CREATE_ONLINE_LOG_DEST_</code> <span class="italic"><code class="codeph">n</code></span> ，则数据库会在指定的每个目录中创建一个日志文件成员，最多为<code class="codeph">MAXLOGMEMBERS</code>初始化参数的值。
                                 </p>
                              </li>
                              <li>
                                 <p>如果未设置<code class="codeph">DB_CREATE_ONLINE_LOG_DEST_</code> <span class="italic"><code class="codeph">n</code></span>参数，但同时设置了<code class="codeph">DB_CREATE_FILE_DEST</code>和<code class="codeph">DB_RECOVERY_FILE_DEST</code>初始化参数，则数据库将在每个位置创建一个Oracle托管日志文件成员。<code class="codeph">DB_CREATE_FILE_DEST</code>目标中的日志文件是第一个成员。
                                 </p>
                              </li>
                              <li>
                                 <p>如果仅指定了<code class="codeph">DB_CREATE_FILE_DEST</code>初始化参数，则数据库将在该位置创建日志文件成员。
                                 </p>
                              </li>
                              <li>
                                 <p>如果仅指定了<code class="codeph">DB_RECOVERY_FILE_DEST</code>初始化参数，则数据库将在该位置创建日志文件成员。
                                 </p>
                              </li>
                           </ul>
                           <p>Oracle托管重做日志文件的默认大小为100 MB。</p>
                           <p>（可选）您可以创建Oracle托管重做日志文件，并通过包含<code class="codeph">LOGFILE</code>子句但忽略文件名来覆盖默认属性。重做日志文件的创建方式相同，但以下情况除外：如果<code class="codeph">CREATE DATABASE</code>的<code class="codeph">LOGFILE</code>子句中未提供文件名，并且未提供创建Oracle管理文件所需的任何初始化参数，则<code class="codeph">CREATE DATABASE</code>语句将失败。
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-A188682C-A3CF-428B-9296-7A75A46A6A5E__GUID-298E56C2-88FA-49AD-BDAE-BEEC11E00A24">
                           <p class="notep1">也可以看看：</p>
                           <p><span class="q">“ <a href="managing-the-redo-log.html#GUID-BC1F1762-0BB1-4218-B7AF-6160C395AAE4" title="您可以通过完成诸如创建重做日志组和成员，重定位和重命名重做日志成员，删除重做日志组和成员以及强制日志切换等任务来管理重做日志。">管理重做日志</a> ”</span></p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="using-oracle-managed-files.html#GUID-0AD8D0D8-FC79-4F84-BD43-098E433F22BC" title="CREATE DATABASE语句可以执行与Oracle Managed Files相关的操作。">在数据库创建时创建Oracle托管文件</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11496"></a><div class="props_rev_3"><a id="GUID-6DA3135B-6177-49AE-AF62-BFE04A7A9CA3" name="GUID-6DA3135B-6177-49AE-AF62-BFE04A7A9CA3"></a><h5 id="ADMIN-GUID-6DA3135B-6177-49AE-AF62-BFE04A7A9CA3" class="sect5"><span class="enumeration_section">17.3.3.3</span>在数据库创建时指定SYSTEM和SYSAUX表空间数据文件</h5>
                     <div>
                        <p><code class="codeph">CREATE DATABASE</code>语句中不需要<code class="codeph">DATAFILE</code>或<code class="codeph">SYSAUX</code> <code class="codeph">DATAFILE</code>子句，省略它提供了为<code class="codeph">SYSTEM</code>和<code class="codeph">SYSAUX</code>表空间创建Oracle托管数据文件的简单方法。
                        </p>
                        <div class="section">
                           <p>如果省略<code class="codeph">DATAFILE</code>子句，则会发生以下操作之一：</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>如果设置了<code class="codeph">DB_CREATE_FILE_DEST</code> ，则会在<code class="codeph">DB_CREATE_FILE_DEST</code>目录中创建<code class="codeph">SYSTEM</code>表空间的一个Oracle托管数据文件和<code class="codeph">SYSAUX</code>表空间的另一个Oracle托管数据文件。
                                 </p>
                              </li>
                              <li>
                                 <p>如果未设置<code class="codeph">DB_CREATE_FILE_DEST</code> ，则数据库将创建一个<code class="codeph">SYSTEM</code>和一个<code class="codeph">SYSAUX</code>表空间数据文件，其名称和大小取决于操作系统。以这种方式创建的任何<code class="codeph">SYSTEM</code>或<code class="codeph">SYSAUX</code>表空间数据文件都不是Oracle托管文件。
                                 </p>
                              </li>
                           </ul>
                           <p>默认情况下，Oracle托管数据文件（包括<code class="codeph">SYSTEM</code>和<code class="codeph">SYSAUX</code>表空间的文件）为100MB且可自动扩展。当需要autoextension时，数据库将数据文件扩展为现有大小或100 MB（以较小者为准）。在指定数据文件时（在<code class="codeph">CREATE</code>或<code class="codeph">ALTER TABLESPACE</code>操作中），还可以使用<code class="codeph">STORAGE</code>子句的<code class="codeph">NEXT</code>参数显式指定autoextensible单元。
                           </p>
                           <p>（可选）您可以为<code class="codeph">SYSTEM</code>或<code class="codeph">SYSAUX</code>表空间创建Oracle托管数据文件，并覆盖默认属性。这是通过包含<code class="codeph">DATAFILE</code>子句，省略文件名，但指定覆盖属性来完成的。如果未提供文件名且设置了<code class="codeph">DB_CREATE_FILE_DEST</code>参数，则会在<code class="codeph">DB_CREATE_FILE_DEST</code>目录中创建<code class="codeph">SYSTEM</code>或<code class="codeph">SYSAUX</code>表空间的Oracle托管数据文件，并覆盖指定的属性。但是，如果未提供文件名且未设置<code class="codeph">DB_CREATE_FILE_DEST</code>参数，则<code class="codeph">CREATE DATABASE</code>语句将失败。
                           </p>
                           <p>覆盖Oracle托管文件的默认属性时，如果指定了<code class="codeph">SIZE</code>值但未指定<code class="codeph">AUTOEXTEND</code>子句，则数据文件<span class="italic">不可</span>自动扩展。
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="using-oracle-managed-files.html#GUID-0AD8D0D8-FC79-4F84-BD43-098E433F22BC" title="CREATE DATABASE语句可以执行与Oracle Managed Files相关的操作。">在数据库创建时创建Oracle托管文件</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11497"></a><div class="props_rev_3"><a id="GUID-61F60FFE-41C7-4845-A5E3-CB7E8471DABA" name="GUID-61F60FFE-41C7-4845-A5E3-CB7E8471DABA"></a><h5 id="ADMIN-GUID-61F60FFE-41C7-4845-A5E3-CB7E8471DABA" class="sect5"><span class="enumeration_section">17.3.3.4</span>在数据库创建时指定撤消表空间数据文件</h5>
                     <div>
                        <p><code class="codeph">UNDO TABLESPACE</code>子句的<code class="codeph">DATAFILE</code>子句是可选的，文件规范中不需要文件名。
                        </p>
                        <div class="section">
                           <p>如果未提供文件名且设置了<code class="codeph">DB_CREATE_FILE_DEST</code>参数，则会在<code class="codeph">DB_CREATE_FILE_DEST</code>目录中创建Oracle托管数据文件。如果未设置<code class="codeph">DB_CREATE_FILE_DEST</code> ，则语句将失败并出现语法错误。
                           </p>
                           <p><code class="codeph">UNDO TABLESPACE</code>子句本身在<code class="codeph">CREATE DATABASE</code>语句中是可选的。如果未提供，并且启用了自动撤消管理模式（默认设置），则会创建名为<code class="codeph">SYS_UNDOTS</code>的默认撤消表空间，并按如下方式分配可自动扩展的20 MB数据文件：</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>如果设置了<code class="codeph">DB_CREATE_FILE_DEST</code> ，则会在指定的目录中创建Oracle托管数据文件。
                                 </p>
                              </li>
                              <li>
                                 <p>如果未设置<code class="codeph">DB_CREATE_FILE_DEST</code> ，则数据文件位置是特定于操作系统的。
                                 </p>
                                 <div class="infoboxnotealso" id="GUID-61F60FFE-41C7-4845-A5E3-CB7E8471DABA__GUID-6A25AD9E-77E8-4391-9281-0F5B751727A3">
                                    <p class="notep1">也可以看看：</p>
                                    <p><span class="q">“ <a href="managing-undo.html#GUID-2C865CF9-A8B5-4BF1-A451-E8C08D3611F0" title="对于默认安装，Oracle数据库会自动管理撤消。通常不需要DBA干预。但是，如果您的安装使用Oracle闪回操作，则可能需要执行一些撤消管理任务以确保这些操作成功。">管理撤消</a> ”</span></p>
                                 </div>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="using-oracle-managed-files.html#GUID-0AD8D0D8-FC79-4F84-BD43-098E433F22BC" title="CREATE DATABASE语句可以执行与Oracle Managed Files相关的操作。">在数据库创建时创建Oracle托管文件</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11498"></a><div class="props_rev_3"><a id="GUID-0DE4E4BC-FC64-49DB-8DD7-7FD68BD2062E" name="GUID-0DE4E4BC-FC64-49DB-8DD7-7FD68BD2062E"></a><h5 id="ADMIN-GUID-0DE4E4BC-FC64-49DB-8DD7-7FD68BD2062E" class="sect5"><span class="enumeration_section">17.3.3.5</span>在数据库创建时指定默认临时表空间临时文件</h5>
                     <div>
                        <p>对于<code class="codeph">DEFAULT TEMPORARY TABLESPACE</code>子句， <code class="codeph">TEMPFILE</code>子句是可选的，文件规范中不需要文件名。
                        </p>
                        <div class="section">
                           <p>如果未提供文件名且设置了<code class="codeph">DB_CREATE_FILE_DEST</code>参数，则会在<code class="codeph">DB_CREATE_FILE_DEST</code>目录中创建Oracle托管临时文件。如果未设置<code class="codeph">DB_CREATE_FILE_DEST</code> ，则<code class="codeph">CREATE DATABASE</code>语句将失败并出现语法错误。
                           </p>
                           <p><code class="codeph">DEFAULT TEMPORARY TABLESPACE</code>子句本身是可选的。如果未指定，则不会创建默认临时表空间。
                           </p>
                           <p>Oracle托管临时文件的默认大小为100 MB，文件可自动扩展，最大大小不受限制。</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="using-oracle-managed-files.html#GUID-0AD8D0D8-FC79-4F84-BD43-098E433F22BC" title="CREATE DATABASE语句可以执行与Oracle Managed Files相关的操作。">在数据库创建时创建Oracle托管文件</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN12609"></a><a id="ADMIN12610"></a><a id="ADMIN12611"></a><a id="ADMIN11499"></a><div class="props_rev_3"><a id="GUID-9E04D83B-4758-4E7D-B2A7-673B123F3989" name="GUID-9E04D83B-4758-4E7D-B2A7-673B123F3989"></a><h5 id="ADMIN-GUID-9E04D83B-4758-4E7D-B2A7-673B123F3989" class="sect5"><span class="enumeration_section">17.3.3.6</span>使用Oracle托管文件创建DATABASE语句：示例</h5>
                     <div>
                        <p>示例说明了在使用Oracle Managed Files功能时使用<code class="codeph">CREATE DATABASE</code>语句<code class="codeph">CREATE DATABASE</code> 。
                        </p>
                        <div class="section">
                           <p></p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-9E04D83B-4758-4E7D-B2A7-673B123F3989__GUID-3AF8BE9D-062E-49F8-A4E6-0F9DE9656834">CREATE DATABASE：示例1</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>此示例使用以下Oracle托管文件创建数据库：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>目录<code class="codeph">/u01/app/oracle/oradata</code>中的<code class="codeph">SYSTEM</code>表空间数据文件，可自动扩展，大小不限。
                                 </p>
                              </li>
                              <li>
                                 <p>目录<code class="codeph">/u01/app/oracle/oradata</code>中的<code class="codeph">SYSAUX</code>表空间数据文件，可自动扩展到无限大小。表空间在本地管理，具有自动段空间管理功能。
                                 </p>
                              </li>
                           </ul>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>两个在线日志组，每个组成员100 MB，每个在<code class="codeph">/u02/oradata</code>和<code class="codeph">/u03/oradata.</code> 
                                 </p>
                              </li>
                              <li>
                                 <p>如果启用了自动撤消管理模式（默认），则目录<code class="codeph">/u01/app/oracle/oradata</code>中的撤消表空间数据文件为20 MB，可自动扩展，大小不限。创建名为<code class="codeph">SYS_UNDOTS</code>的撤消表空间。
                                 </p>
                              </li>
                              <li>
                                 <p>如果未指定<code class="codeph">CONTROL_FILES</code>初始化参数，则为两个控制文件，分别位于<code class="codeph">/u02/oradata</code>和<code class="codeph">/u03/oradata</code> 。<code class="codeph">/u02/oradata</code>中的控制文件是主控制文件。
                                 </p>
                              </li>
                           </ul>
                           <p>以下与Oracle Managed Files相关的参数设置包含在初始化参数文件中：</p><pre class="oac_no_warn" dir="ltr">DB_CREATE_FILE_DEST ='/ u01 / app / oracle / oradata'DB_CREATE_ONLINE_LOG_DEST_1 ='/ u02 / oradata'DB_CREATE_ONLINE_LOG_DEST_2 ='/ u03 / oradata'</pre><p>SQL提示符处发出以下语句：</p><pre class="oac_no_warn" dir="ltr">CREATE DATABASE样本;</pre><p>要使用本地管理的<code class="codeph">SYSTEM</code>表空间创建数据库，请添加<code class="codeph">EXTENT</code> <code class="codeph">MANAGEMENT</code> <code class="codeph">LOCAL</code>子句：</p><pre class="oac_no_warn" dir="ltr">创建数据库示例EXTENT MANAGEMENT LOCAL;</pre><p>没有此子句， <code class="codeph">SYSTEM</code>表空间是字典管理的。Oracle建议您创建本地管理的<code class="codeph">SYSTEM</code>表空间。
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-9E04D83B-4758-4E7D-B2A7-673B123F3989__GUID-FC73CA49-5CC2-4317-8F9B-8EC0607D8BF2">创建数据库：示例2</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>此示例使用以下Oracle托管文件创建数据库：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>目录<code class="codeph">/u01/app/oracle/oradata</code>中的<code class="codeph">SYSTEM</code>表空间数据文件，可自动扩展，大小不限。
                                 </p>
                              </li>
                              <li>
                                 <p>目录<code class="codeph">/u01/app/oracle/oradata</code>中的<code class="codeph">SYSAUX</code>表空间数据文件，可自动扩展到无限大小。表空间在本地管理，具有自动段空间管理功能。
                                 </p>
                              </li>
                           </ul>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>目录<code class="codeph">/u01/app/oracle/oradata.</code>每个100 MB的两个重做日志文件<code class="codeph">/u01/app/oracle/oradata.</code>它们不是多路复用的。
                                 </p>
                              </li>
                              <li>
                                 <p>目录<code class="codeph">/u01/app/oracle/oradata</code>中的undo表空间数据文件，大小为20 MB，可自动扩展，大小不限。创建名为<code class="codeph">SYS_UNDOTS</code>的撤消表空间。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">/u01/app/oracle/oradata</code>控制文件。
                                 </p>
                              </li>
                           </ul>
                           <p>在此示例中，假设：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>在初始化参数文件中未指定<code class="codeph">DB_CREATE_ONLINE_LOG_DEST_</code> <span class="italic"><code class="codeph">n</code></span>初始化参数。
                                 </p>
                              </li>
                              <li>
                                 <p>初始化参数文件中未指定<code class="codeph">CONTROL_FILES</code>初始化参数。
                                 </p>
                              </li>
                              <li>
                                 <p>启用自动撤消管理模式。</p>
                              </li>
                           </ul>
                           <p>SQL提示符处发出以下语句：</p><pre class="oac_no_warn" dir="ltr">ALTER SYSTEM SET DB_CREATE_FILE_DEST ='/ u01 / app / oracle / oradata';创建数据库sample2 EXTENT MANAGEMENT LOCAL;</pre><p>建议不要将此数据库配置用于生产数据库。该示例说明了如何轻松创建非常低端的数据库或简单的测试数据库。为了更好地保护此数据库免于出现故障，应至少再创建一个控制文件，并且应该重复使用重做日志。</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-9E04D83B-4758-4E7D-B2A7-673B123F3989__GUID-DDDB4DD3-DA1F-4249-BC94-CA5FB8C8303B">创建数据库：示例3</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>在此示例中，指定了默认临时表空间和撤消表空间的Oracle Managed Files的文件大小。创建具有以下Oracle托管文件的数据库：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>目录<code class="codeph">/u01/app/oracle/oradata</code>的400 MB <code class="codeph">SYSTEM</code>表空间数据文件。因为指定了<code class="codeph">SIZE</code> ，所以该文件不可自动扩展。
                                 </p>
                              </li>
                              <li>
                                 <p>目录<code class="codeph">/u01/app/oracle/oradata.</code>的200 MB <code class="codeph">SYSAUX</code>表空间数据文件<code class="codeph">/u01/app/oracle/oradata.</code> 因为指定了<code class="codeph">SIZE</code> ，所以该文件不可自动扩展。表空间在本地管理，具有自动段空间管理功能。
                                 </p>
                              </li>
                              <li>
                                 <p>两个重做日志组，每个组有两个100 MB的成员，每个目录为<code class="codeph">/u02/oradata</code>和<code class="codeph">/u03/oradata.</code></p>
                              </li>
                              <li>
                                 <p>对于默认临时表空间<code class="codeph">dflt_ts</code> ，目录为<code class="codeph">/u01/app/oracle/oradata</code>的10 MB临时文件。因为指定了<code class="codeph">SIZE</code> ，所以该文件不可自动扩展。
                                 </p>
                              </li>
                              <li>
                                 <p>对于undo tablespace <code class="codeph">undo_ts</code> ，目录为<code class="codeph">/u01/app/oracle/oradata</code>的100 MB数据文件。由于指定了<code class="codeph">SIZE</code> ，因此该文件不可自动扩展。
                                 </p>
                              </li>
                              <li>
                                 <p>如果未指定<code class="codeph">CONTROL_FILES</code>初始化参数，则指定两个控制文件，分别位于目录<code class="codeph">/u02/oradata</code>和<code class="codeph">/u03/oradata</code> 。<code class="codeph">/u02/oradata</code>中的控制文件是主控制文件。
                                 </p>
                              </li>
                           </ul>
                           <p>初始化参数文件中包含以下参数设置：</p><pre class="oac_no_warn" dir="ltr">DB_CREATE_FILE_DEST ='/ u01 / app / oracle / oradata'DB_CREATE_ONLINE_LOG_DEST_1 ='/ u02 / oradata'DB_CREATE_ONLINE_LOG_DEST_2 ='/ u03 / oradata'</pre><p>SQL提示符处发出以下语句：</p><pre class="oac_no_warn" dir="ltr">创建数据库sample3 EXTENT MANAGEMENT本地数据文件大小400M SYSAUX数据文件大小200M默认临时表空间dflt_ts TEMPFILE SIZE 10M UNDO TABLESPACE undo_ts DATAFILE SIZE 100M;</pre></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-9E04D83B-4758-4E7D-B2A7-673B123F3989__GUID-1FEF8ED6-7820-47D7-8875-4F7858109947">
                           <p class="notep1">也可以看看：</p>
                           <p><span class="q">“ <a href="creating-and-configuring-an-oracle-database.html#GUID-D8061728-6A13-4F30-AA91-EBE52F276AC3" title="在数据库创建期间，创建本地管理的SYSTEM表空间。本地管理的表空间使用存储在每个数据文件中的位图来管理范围。">创建本地管理的SYSTEM表空间</a> ”</span></p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="using-oracle-managed-files.html#GUID-0AD8D0D8-FC79-4F84-BD43-098E433F22BC" title="CREATE DATABASE语句可以执行与Oracle Managed Files相关的操作。">在数据库创建时创建Oracle托管文件</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
               <div class="sect3"><a id="GUID-C90E5151-9B33-4F95-9BFE-D21DCD270CE8" name="GUID-C90E5151-9B33-4F95-9BFE-D21DCD270CE8"></a><h4 id="ADMIN-GUID-C90E5151-9B33-4F95-9BFE-D21DCD270CE8" class="sect4"><span class="enumeration_section">17.3.4</span>使用Oracle托管文件为表空间创建数据文件</h4>
                  <p>当满足某些条件时，Oracle数据库可以使用Oracle Managed Files为表空间创建数据文件。</p>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="using-oracle-managed-files.html#GUID-D5C4F978-E3C9-4DFF-A076-B0FE75065F32">关于使用Oracle托管文件为表空间创建数据文件</a><br>满足某些条件时，以下SQL语句可以使用Oracle托管文件为表空间创建数据文件： <code class="codeph">CREATE TABLESPACE</code> ， <code class="codeph">CREATE UNDO TABLESPACE</code>和<code class="codeph">ALTER TABLESPACE ...ADD DATAFILE</code> 。</li>
                        <li class="ulchildlink"><a href="using-oracle-managed-files.html#GUID-1E70A3B8-38B5-4B6C-880E-C49EE51243DB">CREATE TABLESPACE：示例</a><br>示例说明如何使用Oracle Managed Files创建表空间。
                        </li>
                        <li class="ulchildlink"><a href="using-oracle-managed-files.html#GUID-3D86C488-E836-4CA5-B6D3-62AFEC3B658D">创建UNDO TABLESPACE：示例</a><br>示例说明了如何创建撤消表空间。
                        </li>
                        <li class="ulchildlink"><a href="using-oracle-managed-files.html#GUID-D5CB02CF-9DD0-457D-817D-97B361E376BA">ALTER TABLESPACE：示例</a><br>示例说明了如何将Oracle托管的自动扩展数据文件添加到表空间。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="using-oracle-managed-files.html#GUID-B916E968-F2FB-460B-81DE-41423B114211" title="您可以使用Oracle Managed Files来创建数据文件，临时文件，控制文件，重做日志文件和存档日志。">创建Oracle托管文件</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADMIN11500"></a><div class="props_rev_3"><a id="GUID-D5C4F978-E3C9-4DFF-A076-B0FE75065F32" name="GUID-D5C4F978-E3C9-4DFF-A076-B0FE75065F32"></a><h5 id="ADMIN-GUID-D5C4F978-E3C9-4DFF-A076-B0FE75065F32" class="sect5"><span class="enumeration_section">17.3.4.1</span>关于使用Oracle Managed Files创建表空间的数据文件</h5>
                     <div>
                        <p>满足某些条件时，以下SQL语句可以使用Oracle托管文件为表空间创建数据文件： <code class="codeph">CREATE TABLESPACE</code> ， <code class="codeph">CREATE UNDO TABLESPACE</code>和<code class="codeph">ALTER TABLESPACE ...ADD DATAFILE</code> 。</p>
                        <p>以下语句可以创建数据文件：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">CREATE</code> <code class="codeph">TABLESPACE</code> 
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">CREATE</code> <code class="codeph">UNDO</code> <code class="codeph">TABLESPACE</code> 
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">ALTER</code> <code class="codeph">TABLESPACE</code> ...<code class="codeph">ADD</code> <code class="codeph">DATAFILE</code> 
                              </p>
                           </li>
                        </ul>
                        <p>在创建表空间（永久表空间或撤消表空间）时， <code class="codeph">DATAFILE</code>子句是可选的。包含<code class="codeph">DATAFILE</code>子句时，文件名是可选的。如果未提供<code class="codeph">DATAFILE</code>子句或文件名，则适用以下规则：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>如果指定了<code class="codeph">DB_CREATE_FILE_DEST</code>初始化参数，则会在参数指定的位置创建Oracle托管数据文件。
                              </p>
                           </li>
                           <li>
                              <p>如果未指定<code class="codeph">DB_CREATE_FILE_DEST</code>初始化参数，则创建数据文件的语句将失败。
                              </p>
                           </li>
                        </ul>
                        <p>使用<code class="codeph">ALTER TABLESPACE...将数据文件添加到表空间时<code class="codeph">ALTER TABLESPACE...ADD DATAFILE</code>语句文件名是可选的。如果未指定文件名，则应用相同的规则，如上一段中所述。
                        </p>
                        <p>默认情况下，永久表空间的Oracle托管数据文件为100 MB，可自动扩展，最大大小不受限制。但是，如果在<code class="codeph">DATAFILE</code>子句中通过指定<code class="codeph">SIZE</code>值（并且没有<code class="codeph">AUTOEXTEND</code>子句）来覆盖这些默认值，则数据文件<span class="italic">不可</span>自动扩展。
                        </p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-D5C4F978-E3C9-4DFF-A076-B0FE75065F32__GUID-370C4177-EC03-44F1-A0A8-43784582F875">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="q">“ <a href="using-oracle-managed-files.html#GUID-6DA3135B-6177-49AE-AF62-BFE04A7A9CA3" title="CREATE DATABASE语句中不需要DATAFILE或SYSAUX DATAFILE子句，省略它提供了为SYSTEM和SYSAUX表空间创建Oracle托管数据文件的简单方法。">在数据库创建时指定SYSTEM和SYSAUX表空间数据文件</a> ”</span></p>
                              </li>
                              <li>
                                 <p><span class="q">“ <a href="using-oracle-managed-files.html#GUID-61F60FFE-41C7-4845-A5E3-CB7E8471DABA" title="UNDO TABLESPACE子句的DATAFILE子句是可选的，文件规范中不需要文件名。">在数据库创建时指定撤消表空间数据文件</a> ”</span></p>
                              </li>
                              <li>
                                 <p><span class="q">“ <a href="managing-tablespaces.html#GUID-1C162C60-6698-44F2-B2A9-F3E2D2958D88" title="表空间是一个数据库存储单元，它将相关的逻辑结构组合在一起。数据库数据文件存储在表空间中。">管理表空间</a> ”</span></p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="using-oracle-managed-files.html#GUID-C90E5151-9B33-4F95-9BFE-D21DCD270CE8" title="当满足某些条件时，Oracle数据库可以使用Oracle Managed Files为表空间创建数据文件。">使用Oracle托管文件为表空间创建数据文件</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN12612"></a><a id="ADMIN12613"></a><a id="ADMIN12614"></a><a id="ADMIN12615"></a><a id="ADMIN11501"></a><div class="props_rev_3"><a id="GUID-1E70A3B8-38B5-4B6C-880E-C49EE51243DB" name="GUID-1E70A3B8-38B5-4B6C-880E-C49EE51243DB"></a><h5 id="ADMIN-GUID-1E70A3B8-38B5-4B6C-880E-C49EE51243DB" class="sect5"><span class="enumeration_section">17.3.4.2</span> CREATE TABLESPACE：示例</h5>
                     <div>
                        <p>示例说明如何使用Oracle Managed Files创建表空间。</p>
                        <div class="section">
                           <p></p>
                           <div class="infoboxnotealso" id="GUID-1E70A3B8-38B5-4B6C-880E-C49EE51243DB__GUID-1B52899F-FB83-4711-AE23-302823A01C1D">
                              <p class="notep1">也可以看看：</p>
                              <p>有关<code class="codeph">CREATE TABLESPACE</code>语句的说明，请<a href="../sqlrf/CREATE-TABLESPACE.html#SQLRF01403" target="_blank"><span class="italic">参见Oracle数据库SQL语言参考</span></a></p>
                           </div>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-1E70A3B8-38B5-4B6C-880E-C49EE51243DB__GUID-9ADB51C7-D518-4F4E-A6D6-4069A1F530E6">CREATE TABLESPACE：示例1</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>以下示例将数据文件创建的默认位置设置为<code class="codeph">/u01/oradata</code> ，然后在该位置创建一个包含数据文件的表空间<code class="codeph">tbs_1</code> 。数据文件为100 MB，可自动扩展，最大大小不受限制。
                           </p><pre class="oac_no_warn" dir="ltr">SQL&gt; ALTER SYSTEM SET DB_CREATE_FILE_DEST ='/ u01 / oradata'; SQL&gt; CREATE TABLESPACE tbs_1;</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-1E70A3B8-38B5-4B6C-880E-C49EE51243DB__GUID-60407B10-CCCD-4DE0-8D4E-7610D627B23F">CREATE TABLESPACE：示例2</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>此示例在目录<code class="codeph">/u01/oradata</code>创建一个名为<code class="codeph">tbs_2</code>的表空间， <code class="codeph">tbs_2</code>包含一个数据文件。数据文件初始大小为400 MB，并且由于指定了SIZE子句，因此数据文件不可自动扩展。
                           </p>
                           <p>初始化参数文件中包含以下参数设置：</p><pre class="oac_no_warn" dir="ltr">DB_CREATE_FILE_DEST ='/ u01 / oradata'</pre><p>SQL提示符处发出以下语句：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; CREATE TABLESPACE tbs_2 DATAFILE SIZE 400M;</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-1E70A3B8-38B5-4B6C-880E-C49EE51243DB__GUID-229A4C88-B998-4E64-9FC6-DE2CDFE3B81F">CREATE TABLESPACE：例3</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>此示例在目录<code class="codeph">/u01/oradata</code>创建一个名为<code class="codeph">tbs_3</code>的表空间， <code class="codeph">tbs_3</code>包含一个可自动扩展的数据文件，最大大小为800 MB，初始大小为100 MB：</p>
                           <p>初始化参数文件中包含以下参数设置：</p><pre class="oac_no_warn" dir="ltr">DB_CREATE_FILE_DEST ='/ u01 / oradata'</pre><p>SQL提示符处发出以下语句：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; CREATE TABLESPACE tbs_3 DATAFILE AUTOEXTEND MAXSIZE 800M;</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-1E70A3B8-38B5-4B6C-880E-C49EE51243DB__GUID-104B9C77-6A7A-45E9-9AF3-9AFBA909A449">CREATE TABLESPACE：例4</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>以下示例将数据文件创建的默认位置设置为<code class="codeph">/u01/oradata</code> ，然后在该目录中使用两个数据文件创建名为<code class="codeph">tbs_4</code>的表空间。两个数据文件的初始大小均为200 MB，并且由于指定了<code class="codeph">SIZE</code>值，因此它们不可自动扩展</p><pre class="oac_no_warn" dir="ltr">SQL&gt; ALTER SYSTEM SET DB_CREATE_FILE_DEST ='/ u01 / oradata'; SQL&gt; CREATE TABLESPACE tbs_4 DATAFILE SIZE 200M，SIZE 200M;</pre></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="using-oracle-managed-files.html#GUID-C90E5151-9B33-4F95-9BFE-D21DCD270CE8" title="当满足某些条件时，Oracle数据库可以使用Oracle Managed Files为表空间创建数据文件。">使用Oracle托管文件为表空间创建数据文件</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11502"></a><div class="props_rev_3"><a id="GUID-3D86C488-E836-4CA5-B6D3-62AFEC3B658D" name="GUID-3D86C488-E836-4CA5-B6D3-62AFEC3B658D"></a><h5 id="ADMIN-GUID-3D86C488-E836-4CA5-B6D3-62AFEC3B658D" class="sect5"><span class="enumeration_section">17.3.4.3在表格下</span>创建：示例</h5>
                     <div>
                        <p>示例说明了如何创建撤消表空间。</p>
                        <div class="section">
                           <p>以下示例使用目录<code class="codeph">/u01/oradata</code>的数据文件创建名为<code class="codeph">undotbs_1</code>的撤消表空间。撤消表空间的数据文件为100 MB，可自动扩展，最大大小不受限制。
                           </p>
                           <ol>
                              <li>
                                 <p>设置以下初始化参数：</p><pre class="oac_no_warn" dir="ltr">DB_CREATE_FILE_DEST ='/ u01 / oradata'</pre></li>
                              <li>
                                 <p>发出以下SQL语句：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; CREATE UNDO TABLESPACE undotbs_1;</pre></li>
                           </ol>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-3D86C488-E836-4CA5-B6D3-62AFEC3B658D__GUID-2ADBCEE0-91FC-43FD-99BE-C634919E24DC">
                           <p class="notep1">也可以看看：</p>
                           <p>有关<code class="codeph">CREATE UNDO TABLESPACE</code>语句的说明，请<a href="../sqlrf/CREATE-TABLESPACE.html#SQLRF01403" target="_blank"><span class="italic">参见Oracle数据库SQL语言参考</span></a></p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="using-oracle-managed-files.html#GUID-C90E5151-9B33-4F95-9BFE-D21DCD270CE8" title="当满足某些条件时，Oracle数据库可以使用Oracle Managed Files为表空间创建数据文件。">使用Oracle托管文件为表空间创建数据文件</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11503"></a><div class="props_rev_3"><a id="GUID-D5CB02CF-9DD0-457D-817D-97B361E376BA" name="GUID-D5CB02CF-9DD0-457D-817D-97B361E376BA"></a><h5 id="ADMIN-GUID-D5CB02CF-9DD0-457D-817D-97B361E376BA" class="sect5"><span class="enumeration_section">17.3.4.4</span> ALTER TABLESPACE：示例</h5>
                     <div>
                        <p>示例说明了如何将Oracle托管的自动扩展数据文件添加到表空间。</p>
                        <div class="section">
                           <p>此示例将Oracle托管的可自动扩展数据文件添加到<code class="codeph">tbs_1</code>表空间。数据文件的初始大小为100 MB，最大大小为800 MB。</p>
                           <ol>
                              <li>
                                 <p>设置以下初始化参数：</p><pre class="oac_no_warn" dir="ltr">DB_CREATE_FILE_DEST ='/ u01 / oradata'</pre></li>
                              <li>
                                 <p>发出以下SQL语句：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; ALTER TABLESPACE tbs_1在MAXSIZE 800M上添加DATAFILE AUTOEXTEND;</pre></li>
                           </ol>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-D5CB02CF-9DD0-457D-817D-97B361E376BA__GUID-BFB54F21-E666-426D-8F72-F744AE4970FD">
                           <p class="notep1">也可以看看：</p>
                           <p>有关<code class="codeph">ALTER TABLESPACE</code>语句的说明，请<a href="../sqlrf/ALTER-TABLESPACE.html#SQLRF01002" target="_blank"><span class="italic">参见Oracle数据库SQL语言参考</span></a></p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="using-oracle-managed-files.html#GUID-C90E5151-9B33-4F95-9BFE-D21DCD270CE8" title="当满足某些条件时，Oracle数据库可以使用Oracle Managed Files为表空间创建数据文件。">使用Oracle托管文件为表空间创建数据文件</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
               <div class="sect3"><a id="GUID-834E2381-6D9E-4924-B73B-5C9E58AFB3DA" name="GUID-834E2381-6D9E-4924-B73B-5C9E58AFB3DA"></a><h4 id="ADMIN-GUID-834E2381-6D9E-4924-B73B-5C9E58AFB3DA" class="sect4"><span class="enumeration_section">17.3.5</span>使用Oracle托管文件为临时表空间创建临时文件</h4>
                  <p>当满足某些条件时，Oracle数据库可以使用Oracle Managed Files为临时表空间创建临时文件。</p>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="using-oracle-managed-files.html#GUID-03760128-13D8-4E9D-AE26-677198E70C49">关于使用Oracle托管文件为临时表空间创建临时文件</a><br>满足某些条件时，以下SQL语句可以使用Oracle Managed Files为表空间创建临时文件： <code class="codeph">CREATE TEMPORARY TABLESPACE</code>和<code class="codeph">ALTER TABLESPACE ...ADD TEMPFILE</code> 。</li>
                        <li class="ulchildlink"><a href="using-oracle-managed-files.html#GUID-4B1A10BB-FA03-4846-89F3-19442F9911DA">CREATE TEMPORARY TABLESPACE：示例</a><br>示例说明了如何创建临时表空间。
                        </li>
                        <li class="ulchildlink"><a href="using-oracle-managed-files.html#GUID-F2F79ADC-41DE-4DFC-9473-E639FC6DE888">ALTER TABLESPACE ...ADD TEMPFILE：示例</a><br>示例说明了如何将临时表空间添加到临时表空间。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="using-oracle-managed-files.html#GUID-B916E968-F2FB-460B-81DE-41423B114211" title="您可以使用Oracle Managed Files来创建数据文件，临时文件，控制文件，重做日志文件和存档日志。">创建Oracle托管文件</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADMIN11504"></a><div class="props_rev_3"><a id="GUID-03760128-13D8-4E9D-AE26-677198E70C49" name="GUID-03760128-13D8-4E9D-AE26-677198E70C49"></a><h5 id="ADMIN-GUID-03760128-13D8-4E9D-AE26-677198E70C49" class="sect5"><span class="enumeration_section">17.3.5.1</span>关于使用Oracle Managed Files为临时表空间创建临时文件</h5>
                     <div>
                        <p>满足某些条件时，以下SQL语句可以使用Oracle Managed Files为表空间创建临时文件： <code class="codeph">CREATE TEMPORARY TABLESPACE</code>和<code class="codeph">ALTER TABLESPACE ...ADD TEMPFILE</code> 。</p>
                        <p>以下创建临时文件的语句与本节中的讨论相关：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">CREATE</code> <code class="codeph">TEMPORARY</code> <code class="codeph">TABLESPACE</code> 
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">ALTER</code> <code class="codeph">TABLESPACE</code> ...<code class="codeph">ADD</code> <code class="codeph">TEMPFILE</code> 
                              </p>
                           </li>
                        </ul>
                        <p>创建临时表空间时， <code class="codeph">TEMPFILE</code>子句是可选的。如果包含<code class="codeph">TEMPFILE</code>子句，则文件名是可选的。如果未提供<code class="codeph">TEMPFILE</code>子句或文件名，则适用以下规则：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>如果指定了<code class="codeph">DB_CREATE_FILE_DEST</code>初始化参数，则会在参数指定的位置创建Oracle托管临时文件。
                              </p>
                           </li>
                           <li>
                              <p>如果未指定<code class="codeph">DB_CREATE_FILE_DEST</code>初始化参数，则创建临时文件的语句将失败。
                              </p>
                           </li>
                        </ul>
                        <p>使用<code class="codeph">ALTER TABLESPACE...将临时文件添加到表空间时<code class="codeph">ALTER TABLESPACE...ADD TEMPFILE</code>语句文件名是可选的。如果未指定文件名，则应用相同的规则，如上一段中所述。
                        </p>
                        <p>覆盖Oracle托管文件的默认属性时，如果指定了<code class="codeph">SIZE</code>值但未指定<code class="codeph">AUTOEXTEND</code>子句，则数据文件<span class="italic">不可</span>自动扩展。
                        </p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-03760128-13D8-4E9D-AE26-677198E70C49__GUID-DF1A587A-C678-4E20-905B-C12165DE7DED">
                           <p class="notep1">也可以看看：</p>
                           <p><span class="q">“ <a href="using-oracle-managed-files.html#GUID-0DE4E4BC-FC64-49DB-8DD7-7FD68BD2062E" title="对于DEFAULT TEMPORARY TABLESPACE子句，TEMPFILE子句是可选的，文件规范中不需要文件名。">在数据库创建时指定默认临时表空间临时文件</a> ”</span></p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="using-oracle-managed-files.html#GUID-834E2381-6D9E-4924-B73B-5C9E58AFB3DA" title="当满足某些条件时，Oracle数据库可以使用Oracle Managed Files为临时表空间创建临时文件。">使用Oracle托管文件为临时表空间创建临时文件</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11505"></a><div class="props_rev_3"><a id="GUID-4B1A10BB-FA03-4846-89F3-19442F9911DA" name="GUID-4B1A10BB-FA03-4846-89F3-19442F9911DA"></a><h5 id="ADMIN-GUID-4B1A10BB-FA03-4846-89F3-19442F9911DA" class="sect5"><span class="enumeration_section">17.3.5.2</span>创建临时<span class="enumeration_section">表格</span> ：示例</h5>
                     <div>
                        <p>示例说明了如何创建临时表空间。</p>
                        <div class="section">
                           <p>以下示例将数据文件创建的默认位置设置为<code class="codeph">/u01/oradata</code> ，然后在该位置创建一个名为<code class="codeph">temptbs_1</code>的表空间，其中包含临时文件。临时文件为100 MB，可自动扩展，最大大小不受限制。
                           </p><pre class="oac_no_warn" dir="ltr">SQL&gt; ALTER SYSTEM SET DB_CREATE_FILE_DEST ='/ u01 / oradata'; SQL&gt; CREATE TEMPORARY TABLESPACE temptbs_1;</pre></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-4B1A10BB-FA03-4846-89F3-19442F9911DA__GUID-6FEC9201-A794-4A9F-87E6-CBDA544F91C9">
                           <p class="notep1">也可以看看：</p>
                           <p>有关<code class="codeph">CREATE TABLESPACE</code>语句的说明，请<a href="../sqlrf/CREATE-TABLESPACE.html#SQLRF01403" target="_blank"><span class="italic">参见Oracle数据库SQL语言参考</span></a></p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="using-oracle-managed-files.html#GUID-834E2381-6D9E-4924-B73B-5C9E58AFB3DA" title="当满足某些条件时，Oracle数据库可以使用Oracle Managed Files为临时表空间创建临时文件。">使用Oracle托管文件为临时表空间创建临时文件</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11506"></a><div class="props_rev_3"><a id="GUID-F2F79ADC-41DE-4DFC-9473-E639FC6DE888" name="GUID-F2F79ADC-41DE-4DFC-9473-E639FC6DE888"></a><h5 id="ADMIN-GUID-F2F79ADC-41DE-4DFC-9473-E639FC6DE888" class="sect5"><span class="enumeration_section">17.3.5.3</span> ALTER TABLESPACE ...ADD TEMPFILE：示例</h5>
                     <div>
                        <p>示例说明了如何将临时表空间添加到临时表空间。</p>
                        <div class="section">
                           <p>以下示例将数据文件创建的默认位置设置为<code class="codeph">/u03/oradata</code> ，然后将默认位置的临时文件添加到名为<code class="codeph">temptbs_1</code>的表空间。临时文件初始大小为100 MB。它是可自动扩展的，具有无限的最大尺寸。
                           </p><pre class="oac_no_warn" dir="ltr">SQL&gt; ALTER SYSTEM SET DB_CREATE_FILE_DEST ='/ u03 / oradata'; SQL&gt; ALTER TABLESPACE TBS_1添加TEMPFILE;</pre></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-F2F79ADC-41DE-4DFC-9473-E639FC6DE888__GUID-CC9574CF-5EB7-4501-B531-4093459EE3D2">
                           <p class="notep1">也可以看看：</p>
                           <p>有关<code class="codeph">ALTER TABLESPACE</code>语句的说明，请<a href="../sqlrf/ALTER-TABLESPACE.html#SQLRF01002" target="_blank"><span class="italic">参见Oracle数据库SQL语言参考</span></a></p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="using-oracle-managed-files.html#GUID-834E2381-6D9E-4924-B73B-5C9E58AFB3DA" title="当满足某些条件时，Oracle数据库可以使用Oracle Managed Files为临时表空间创建临时文件。">使用Oracle托管文件为临时表空间创建临时文件</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
               <div class="sect3"><a id="GUID-600F8B64-CE2C-4B1D-A944-6E05459428BB" name="GUID-600F8B64-CE2C-4B1D-A944-6E05459428BB"></a><h4 id="ADMIN-GUID-600F8B64-CE2C-4B1D-A944-6E05459428BB" class="sect4"><span class="enumeration_section">17.3.6</span>使用Oracle托管文件创建控制文件</h4>
                  <p>当满足某些条件时，Oracle数据库可以使用Oracle Managed Files创建控制文件。</p>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="using-oracle-managed-files.html#GUID-C9D2A28F-1FA3-4744-B2AC-2F08914DA3E0">关于使用Oracle托管文件创建控制文件</a><br>满足某些条件时， <code class="codeph">CREATE CONTROLFILE</code> SQL语句可以使用Oracle Managed Files创建控制文件。
                        </li>
                        <li class="ulchildlink"><a href="using-oracle-managed-files.html#GUID-BB4075A6-4931-4791-8B80-2CE1199CDE4C">CREATE CONTROLFILE使用NORESETLOGS关键字：示例</a><br>示例说明了如何使用带有<code class="codeph">NORESETLOGS</code>关键字的<code class="codeph">CREATE CONTROLFILE</code>语句创建控制文件。
                        </li>
                        <li class="ulchildlink"><a href="using-oracle-managed-files.html#GUID-6CB757B4-39E0-4864-8206-B7858F736AC8">CREATE CONTROLFILE使用RESETLOGS关键字：示例</a><br>示例说明了如何使用带有<code class="codeph">RESETLOGS</code>关键字的<code class="codeph">CREATE CONTROLFILE</code>语句创建控制文件。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="using-oracle-managed-files.html#GUID-B916E968-F2FB-460B-81DE-41423B114211" title="您可以使用Oracle Managed Files来创建数据文件，临时文件，控制文件，重做日志文件和存档日志。">创建Oracle托管文件</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADMIN11507"></a><div class="props_rev_3"><a id="GUID-C9D2A28F-1FA3-4744-B2AC-2F08914DA3E0" name="GUID-C9D2A28F-1FA3-4744-B2AC-2F08914DA3E0"></a><h5 id="ADMIN-GUID-C9D2A28F-1FA3-4744-B2AC-2F08914DA3E0" class="sect5"><span class="enumeration_section">17.3.6.1</span>关于使用Oracle Managed Files创建控制文件</h5>
                     <div>
                        <p>满足某些条件时， <code class="codeph">CREATE CONTROLFILE</code> SQL语句可以使用Oracle Managed Files创建控制文件。
                        </p>
                        <p>发出<code class="codeph">CREATE CONTROLFILE</code>语句时，将在<code class="codeph">CONTROL_FILES</code>初始化参数指定的文件中创建（或重用，如果指定了<code class="codeph">REUSE</code> ）控制文件。如果未设置<code class="codeph">CONTROL_FILES</code>参数，则在默认控制文件目标中创建控制文件。默认目标是根据<span class="q">“ <a href="using-oracle-managed-files.html#GUID-68D39857-A6CA-4A8C-BD5B-068D657B2EBD" title="在数据库创建时，控制文件在CONTROL_FILES初始化参数指定的文件中创建。">在数据库创建时指定控制文件</a> ”中</span>记录的优先级确定的。
                        </p>
                        <p>如果Oracle数据库创建Oracle托管控制文件，并且存在服务器参数文件，则数据库会为服务器参数文件创建<code class="codeph">CONTROL_FILES</code>初始化参数。如果没有服务器参数文件，则必须手动创建<code class="codeph">CONTROL_FILES</code>初始化参数并将其包含在初始化参数文件中。
                        </p>
                        <p>如果数据库中的数据文件是Oracle Managed Files，则必须在语句的<code class="codeph">DATAFILE</code>子句中提供数据库生成的文件的文件名。
                        </p>
                        <p>如果重做日志文件是Oracle Managed Files，则<code class="codeph">NORESETLOGS</code>或<code class="codeph">RESETLOGS</code>关键字确定<code class="codeph">LOGFILE</code>子句中可以提供的内容：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>如果使用<code class="codeph">NORESETLOGS</code>关键字，则必须在<code class="codeph">LOGFILE</code>子句中提供Oracle托管重做日志文件的数据库生成文件名。
                              </p>
                           </li>
                           <li>
                              <p>如果使用<code class="codeph">RESETLOGS</code>关键字，则可以像<code class="codeph">CREATE DATABASE</code>语句一样提供重做日志文件名。请参阅<span class="q">“ <a href="using-oracle-managed-files.html#GUID-A188682C-A3CF-428B-9296-7A75A46A6A5E" title="CREATE DATABASE语句中不需要LOGFILE子句，省略它提供了创建Oracle托管重做日志文件的简单方法。">在创建数据库时指定重做日志文件</a> ”</span> 。
                              </p>
                           </li>
                        </ul>
                        <p>以下各节包含将<code class="codeph">CREATE CONTROLFILE</code>语句与Oracle Managed Files一起使用的示例。
                        </p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-C9D2A28F-1FA3-4744-B2AC-2F08914DA3E0__GUID-3537CCA2-EDE3-4F1A-9380-66268D37A626">
                           <p class="notep1">也可以看看：</p>
                           <p></p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>有关<code class="codeph">CREATE CONTROLFILE</code>语句的说明，请<a href="../sqlrf/CREATE-CONTROLFILE.html#SQLRF01203" target="_blank"><span class="italic">参见Oracle数据库SQL语言参考</span></a></p>
                              </li>
                              <li>
                                 <p><span class="q">“ <a href="using-oracle-managed-files.html#GUID-68D39857-A6CA-4A8C-BD5B-068D657B2EBD" title="在数据库创建时，控制文件在CONTROL_FILES初始化参数指定的文件中创建。">在数据库创建时指定控制文件</a> ”</span></p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="using-oracle-managed-files.html#GUID-600F8B64-CE2C-4B1D-A944-6E05459428BB" title="当满足某些条件时，Oracle数据库可以使用Oracle Managed Files创建控制文件。">使用Oracle托管文件创建控制文件</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11508"></a><div class="props_rev_3"><a id="GUID-BB4075A6-4931-4791-8B80-2CE1199CDE4C" name="GUID-BB4075A6-4931-4791-8B80-2CE1199CDE4C"></a><h5 id="ADMIN-GUID-BB4075A6-4931-4791-8B80-2CE1199CDE4C" class="sect5"><span class="enumeration_section">17.3.6.2</span>创建CONTROLFILE使用NORESETLOGS关键字：示例</h5>
                     <div>
                        <p>示例说明了如何使用带有<code class="codeph">NORESETLOGS</code>关键字的<code class="codeph">CREATE CONTROLFILE</code>语句创建控制文件。
                        </p>
                        <div class="section">
                           <p>对于具有Oracle托管数据文件和重做日志文件的数据库， <code class="codeph">ALTER DATABASE BACKUP CONTROLFILE TO TRACE</code>语句生成以下<code class="codeph">CREATE CONTROLFILE</code>语句：</p><pre class="oac_no_warn" dir="ltr">CREATE CONTROLFILE DATABASE示例LOGFILE GROUP 1（'/ u01/oradata/SAMPLE/onlinelog/o1_mf_1_o220rtt9_.log'，'/ u02 / oradata / SAMPLE / onlinelog / o1_mf_1_v2o0b2i3_.log'）SIZE 100M，GROUP 2（'/ u01 / oradata / SAMPLE / onlinelog / o1_mf_2_p22056iw_.log'，'/ u02 / oradata / SAMPLE / onlinelog / o1_mf_2_p02rcyg3_.log'）SIZE 100M NORESETLOGS DATAFILE'/u01/oradata/SAMPLE/datafile/o1_mf_system_xu34ybm2_.dbf'SIZE 100M,'/ u01 / oradata /SAMPLE/datafile/o1_mf_sysaux_aawbmz51_.dbf'SIZE 100M,'/u01/oradata/SAMPLE/datafile/o1_mf_sys_undo_apqbmz51_.dbf'SIZE 100M MAXLOGFILES 5 MAXLOGHISTORY 100 MAXDATAFILES 10 MAXINSTANCES 2 ARCHIVELOG;</pre></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="using-oracle-managed-files.html#GUID-600F8B64-CE2C-4B1D-A944-6E05459428BB" title="当满足某些条件时，Oracle数据库可以使用Oracle Managed Files创建控制文件。">使用Oracle托管文件创建控制文件</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11509"></a><div class="props_rev_3"><a id="GUID-6CB757B4-39E0-4864-8206-B7858F736AC8" name="GUID-6CB757B4-39E0-4864-8206-B7858F736AC8"></a><h5 id="ADMIN-GUID-6CB757B4-39E0-4864-8206-B7858F736AC8" class="sect5"><span class="enumeration_section">17.3.6.3</span>使用RESETLOGS创建CONTROLFILE关键字：示例</h5>
                     <div>
                        <p>示例说明了如何使用带有<code class="codeph">RESETLOGS</code>关键字的<code class="codeph">CREATE CONTROLFILE</code>语句创建控制文件。
                        </p>
                        <div class="section">
                           <p>以下是带有<code class="codeph">RESETLOGS</code>选项的<code class="codeph">CREATE CONTROLFILE</code>语句的示例。必须设置<code class="codeph">DB_CREATE_FILE_DEST</code> ， <code class="codeph">DB_RECOVERY_FILE_DEST</code>和<code class="codeph">DB_CREATE_ONLINE_LOG_DEST_</code> <span class="italic"><code class="codeph">n</code></span>某种组合。
                           </p><pre class="oac_no_warn" dir="ltr">CREATE CONTROLFILE DATABASE示例RESETLOGS DATAFILE'/ u01/oradata/SAMPLE/datafile/o1_mf_system_aawbmz51_.dbf'，'/ u01 / oradata / SAMPLE / dataata / o1_mf_sysaux_axybmz51_.dbf'，'/ u01 / oradata / SAMPLE / dataata / o1_mf_sys_undo_azzbmz51_.dbf'尺寸100M MAXLOGFILES 5 MAXLOGHISTORY 100 MAXDATAFILES 10 MAXINSTANCES 2 ARCHIVELOG;</pre><p>稍后，您必须发出<code class="codeph">ALTER DATABASE OPEN RESETLOGS</code>语句以重新创建重做日志文件。这在<span class="q">“ <a href="using-oracle-managed-files.html#GUID-73FA95E0-5F17-493C-9E55-2AAB04DE79F2" title="如果先前创建了指定RESETLOGS的控制文件，并且未指定文件名或指定的不存在的文件名，则在发出ALTER DATABASE OPEN RESETLOGS语句时，数据库会为您创建重做日志文件。">使用ALTER DATABASE OPEN RESETLOGS语句</a> ”中讨论</span> 。如果以前的日志文件是Oracle托管文件，则不会删除它们。
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="using-oracle-managed-files.html#GUID-600F8B64-CE2C-4B1D-A944-6E05459428BB" title="当满足某些条件时，Oracle数据库可以使用Oracle Managed Files创建控制文件。">使用Oracle托管文件创建控制文件</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="ADMIN11510"></a><div class="props_rev_3"><a id="GUID-E3DD5403-B4E9-4EAB-A0A8-967BC0EE9F31" name="GUID-E3DD5403-B4E9-4EAB-A0A8-967BC0EE9F31"></a><h4 id="ADMIN-GUID-E3DD5403-B4E9-4EAB-A0A8-967BC0EE9F31" class="sect4"><span class="enumeration_section">17.3.7</span>使用Oracle托管文件创建重做日志文件</h4>
                  <div>
                     <p>重做日志文件是在数据库创建时创建的。当您发出以下任一语句时，也可以创建它们： <code class="codeph">ALTER DATABASE ADD LOGFILE</code>和<code class="codeph">ALTER DATABASE OPEN RESETLOGS</code> 。</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="using-oracle-managed-files.html#GUID-0A69461B-5A1F-462B-BBCE-DB38EA0DA2FA">使用ALTER DATABASE ADD LOGFILE语句</a><br><code class="codeph">ALTER DATABASE ADD LOGFILE</code>语句允许您稍后将新组添加到当前重做日志中。
                        </li>
                        <li class="ulchildlink"><a href="using-oracle-managed-files.html#GUID-73FA95E0-5F17-493C-9E55-2AAB04DE79F2">使用ALTER DATABASE OPEN RESETLOGS语句</a><br>如果先前创建了指定<code class="codeph">RESETLOGS</code>的控制文件，并且未指定文件名或指定的不存在的文件名，则在发出<code class="codeph">ALTER DATABASE OPEN RESETLOGS</code>语句时，数据库会为您创建重做日志文件。
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-E3DD5403-B4E9-4EAB-A0A8-967BC0EE9F31__GUID-1ABEC26C-DE4B-4FFE-BC3A-4AE39EF57788">
                        <p class="notep1">也可以看看：</p>
                        <p>有关<code class="codeph">ALTER DATABASE</code>语句的说明，请<a href="../sqlrf/ALTER-DATABASE.html#SQLRF00802" target="_blank"><span class="italic">参见“Oracle数据库SQL语言参考</span></a> ”</p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="using-oracle-managed-files.html#GUID-B916E968-F2FB-460B-81DE-41423B114211" title="您可以使用Oracle Managed Files来创建数据文件，临时文件，控制文件，重做日志文件和存档日志。">创建Oracle托管文件</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADMIN12616"></a><a id="ADMIN11511"></a><div class="props_rev_3"><a id="GUID-0A69461B-5A1F-462B-BBCE-DB38EA0DA2FA" name="GUID-0A69461B-5A1F-462B-BBCE-DB38EA0DA2FA"></a><h5 id="ADMIN-GUID-0A69461B-5A1F-462B-BBCE-DB38EA0DA2FA" class="sect5"><span class="enumeration_section">17.3.7.1</span>使用ALTER DATABASE ADD LOGFILE语句</h5>
                     <div>
                        <p><code class="codeph">ALTER DATABASE ADD LOGFILE</code>语句允许您稍后将新组添加到当前重做日志中。
                        </p>
                        <div class="section">
                           <p>如果您使用的是Oracle Managed Files，则<code class="codeph">ADD LOGFILE</code>子句中的文件名是可选的。如果未提供文件名，则会在默认日志文件目标中创建重做日志文件。默认目标是根据<span class="q">“ <a href="using-oracle-managed-files.html#GUID-A188682C-A3CF-428B-9296-7A75A46A6A5E" title="The LOGFILE clause is not required in the CREATE DATABASE statement, and omitting it provides a simple means of creating Oracle managed redo log files.">在数据库创建时指定重做日志文件</a> ”中<a href="using-oracle-managed-files.html#GUID-A188682C-A3CF-428B-9296-7A75A46A6A5E" title="CREATE DATABASE语句中不需要LOGFILE子句，省略它提供了创建Oracle托管重做日志文件的简单方法。">记录</a></span>的优先级确定的。
                           </p>
                           <p>如果未提供文件名且您未提供创建Oracle Managed Files所需的初始化参数之一，则该语句将返回错误。</p>
                           <p>Oracle托管日志文件的默认大小为100 MB。</p>
                           <p>您可以通过指定完整的文件名继续添加和删除重做日志文件成员。</p>
                           <div class="infoboxnotealso" id="GUID-0A69461B-5A1F-462B-BBCE-DB38EA0DA2FA__GUID-33217317-E06C-4DDC-9BA0-8F8F9BEA14D3">
                              <p class="notep1">也可以看看：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><span class="q">“ <a href="using-oracle-managed-files.html#GUID-A188682C-A3CF-428B-9296-7A75A46A6A5E" title="CREATE DATABASE语句中不需要LOGFILE子句，省略它提供了创建Oracle托管重做日志文件的简单方法。">在数据库创建时指定重做日志文件</a> ”</span></p>
                                 </li>
                                 <li>
                                    <p><span class="q">“ <a href="using-oracle-managed-files.html#GUID-C9D2A28F-1FA3-4744-B2AC-2F08914DA3E0" title="满足某些条件时，CREATE CONTROLFILE SQL语句可以使用Oracle Managed Files创建控制文件。">关于使用Oracle托管文件创建控制文件</a> ”</span></p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-0A69461B-5A1F-462B-BBCE-DB38EA0DA2FA__GUID-5235F9B9-F8D1-4014-816D-2FCA000C16E9">添加新的重做日志文件：示例</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>以下示例创建一个日志组，其中包含<code class="codeph">/u01/oradata</code>成员和<code class="codeph">/u02/oradata</code>另一个成员。每个日志文件的大小为100 MB。</p>
                           <p>初始化参数文件中包含以下参数设置：</p><pre class="oac_no_warn" dir="ltr">DB_CREATE_ONLINE_LOG_DEST_1 ='/ u01 / oradata'DB_CREATE_ONLINE_LOG_DEST_2 ='/ u02 / oradata'</pre><p>SQL提示符处发出以下语句：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; ALTER DATABASE ADD LOGFILE;</pre></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="using-oracle-managed-files.html#GUID-E3DD5403-B4E9-4EAB-A0A8-967BC0EE9F31" title="重做日志文件是在数据库创建时创建的。当您发出以下任一语句时，也可以创建它们：ALTER DATABASE ADD LOGFILE和ALTER DATABASE OPEN RESETLOGS。">使用Oracle Managed Files创建重做日志文件</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11512"></a><div class="props_rev_3"><a id="GUID-73FA95E0-5F17-493C-9E55-2AAB04DE79F2" name="GUID-73FA95E0-5F17-493C-9E55-2AAB04DE79F2"></a><h5 id="ADMIN-GUID-73FA95E0-5F17-493C-9E55-2AAB04DE79F2" class="sect5"><span class="enumeration_section">17.3.7.2</span>使用ALTER DATABASE OPEN RESETLOGS语句</h5>
                     <div>
                        <p>如果先前创建了指定<code class="codeph">RESETLOGS</code>的控制文件，并且未指定文件名或指定的不存在的文件名，则在发出<code class="codeph">ALTER DATABASE OPEN RESETLOGS</code>语句时，数据库会为您创建重做日志文件。
                        </p>
                        <div class="section">
                           <p>当控制文件中未指定任何目录时，确定存储重做日志文件的目录的规则与<span class="q">“ <a href="using-oracle-managed-files.html#GUID-A188682C-A3CF-428B-9296-7A75A46A6A5E" title="CREATE DATABASE语句中不需要LOGFILE子句，省略它提供了创建Oracle托管重做日志文件的简单方法。">在数据库创建时指定重做日志文件</a> ”中</span>讨论的相同。
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="using-oracle-managed-files.html#GUID-E3DD5403-B4E9-4EAB-A0A8-967BC0EE9F31" title="重做日志文件是在数据库创建时创建的。当您发出以下任一语句时，也可以创建它们：ALTER DATABASE ADD LOGFILE和ALTER DATABASE OPEN RESETLOGS。">使用Oracle Managed Files创建重做日志文件</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="ADMIN11513"></a><div class="props_rev_3"><a id="GUID-BA56EC5D-EBD1-4643-9034-467573023DED" name="GUID-BA56EC5D-EBD1-4643-9034-467573023DED"></a><h4 id="ADMIN-GUID-BA56EC5D-EBD1-4643-9034-467573023DED" class="sect4"><span class="enumeration_section">17.3.8</span>使用Oracle托管文件创建存档日志</h4>
                  <div>
                     <p>存档日志由后台进程或SQL语句创建。</p>
                     <div class="section">
                        <p>在以下情况下，在<code class="codeph">DB_RECOVERY_FILE_DEST</code>位置创建存档日志：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">ARC</code>或<code class="codeph">LGWR</code>后台进程存档联机重做日志或</p>
                           </li>
                           <li>
                              <p>发出<code class="codeph">ALTER SYSTEM ARCHIVE LOG CURRENT</code>语句。
                              </p>
                           </li>
                        </ul>
                        <p>例如，假设初始化参数文件中包含以下参数设置：</p><pre class="oac_no_warn" dir="ltr">DB_RECOVERY_FILE_DEST_SIZE = 20G DB_RECOVERY_FILE_DEST ='/ u01 / oradata'LOG_ARCHIVE_DEST_1 ='LOCATION = USE_DB_RECOVERY_FILE_DEST'</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="using-oracle-managed-files.html#GUID-B916E968-F2FB-460B-81DE-41423B114211" title="您可以使用Oracle Managed Files来创建数据文件，临时文件，控制文件，重做日志文件和存档日志。">创建Oracle托管文件</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADMIN11514"></a><div class="props_rev_3"><a id="GUID-A01F7705-083F-4978-9B96-BE2FE8A5C6B3" name="GUID-A01F7705-083F-4978-9B96-BE2FE8A5C6B3"></a><h3 id="ADMIN-GUID-A01F7705-083F-4978-9B96-BE2FE8A5C6B3" class="sect3"><span class="enumeration_section">17.4</span> Oracle托管文件的操作</h3>
               <div>
                  <p>只要使用文件名标识现有文件，就会在SQL语句中接受Oracle Managed Files的文件名。</p>
                  <p>与其他文件名一样，这些文件名存储在控制文件中，如果使用Recovery Manager（RMAN）进行备份和恢复，则存储在RMAN目录中。它们在可用于监视数据文件和临时文件的所有常用固定和动态性能视图中都可见（例如， <code class="codeph">V$DATAFILE</code>或<code class="codeph">DBA_DATA_FILES</code> ）。
                  </p>
                  <p>以下是使用数据库生成的文件名的语句的一些示例：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; ALTER DATABASE 2&gt; RENAME FILE'/u01/oradata/mydb/datafile/o1_mf_tbs01_ziw3bopb_.dbf'3&gt; TO'/u01/oradata/mydb/tbs0101.dbf'; SQL&gt; ALTER DATABASE 2&gt; DROP LOGFILE'/u01/oradata/mydb/onlinelog/o1_mf_1_wo94n2xi_.log'; SQL&gt; ALTER TABLE emp 2&gt; ALLOCATE EXTENT 3&gt;（DATAFILE'/u01/oradata/mydb/datafile/o1_mf_tbs1_2ixfh90q_.dbf'）;</pre><p>您可以像对应的非Oracle托管文件一样备份和还原Oracle托管数据文件，临时文件和控制文件。使用数据库生成的文件名不会影响逻辑备份文件（如导出文件）的使用。这对于表空间时间点恢复（TSPITR）和可传输表空间导出文件尤为重要。</p>
                  <p>在某些情况下，Oracle Managed Files的行为方式不同，包括删除文件或重命名文件的操作，以及涉及备用数据库的操作。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="using-oracle-managed-files.html#GUID-08B480B6-12FD-4BF8-9DBD-86FDF9B98EBE">删除数据文件和临时文件</a><br>与不由数据库管理的文件不同，当删除Oracle托管数据文件或临时文件时，将从控制文件中删除文件名，并自动从文件系统中删除该文件。
                     </li>
                     <li class="ulchildlink"><a href="using-oracle-managed-files.html#GUID-8003EF69-151D-44BA-BAE9-A719D8923550">删除重做日志文件</a><br>删除Oracle托管重做日志文件时，将删除其Oracle托管文件。您指定要删除的组或成员。
                     </li>
                     <li class="ulchildlink"><a href="using-oracle-managed-files.html#GUID-28DC70B4-727E-4FF7-9C02-47C2ED6FD634">重命名文件</a><br>对于Oracle Managed Files，重命名文件的SQL语句实际上并不重命名操作系统上的文件，而是更改控制文件中的名称。
                     </li>
                     <li class="ulchildlink"><a href="using-oracle-managed-files.html#GUID-46C09D38-5801-4E02-90DE-70FAF788D922">管理备用数据库</a><br>备用数据库中的数据文件，控制文件和重做日志文件可以由数据库管理。这与Oracle Managed Files是否在主数据库上使用无关。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="using-oracle-managed-files.html#GUID-4A3C4616-0D81-4BBA-8EAD-FCAA8AD5C15A" title="Oracle数据库可以管理组成数据库的文件。">使用Oracle托管文件</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN11515"></a><div class="props_rev_3"><a id="GUID-08B480B6-12FD-4BF8-9DBD-86FDF9B98EBE" name="GUID-08B480B6-12FD-4BF8-9DBD-86FDF9B98EBE"></a><h4 id="ADMIN-GUID-08B480B6-12FD-4BF8-9DBD-86FDF9B98EBE" class="sect4"><span class="enumeration_section">17.4.1</span>删除数据文件和临时文件</h4>
                  <div>
                     <p>与不由数据库管理的文件不同，当删除Oracle托管数据文件或临时文件时，将从控制文件中删除文件名，并自动从文件系统中删除该文件。</p>
                     <div class="section">
                        <p>删除Oracle托管文件时删除的语句包括：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">DROP</code> <code class="codeph">TABLESPACE</code> 
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">ALTER</code> <code class="codeph">DATABASE</code> <code class="codeph">TEMPFILE</code> ...<code class="codeph">下降</code> 
                              </p>
                           </li>
                        </ul>
                        <p>您也可以使用这些语句，这些语句总是删除文件，Oracle是否管理过：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">ALTER</code> <code class="codeph">TABLESPACE</code> ...<code class="codeph">DROP</code> <code class="codeph">DATAFILE</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">ALTER</code> <code class="codeph">TABLESPACE</code> ...<code class="codeph">DROP</code> <code class="codeph">TEMPFILE</code></p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="using-oracle-managed-files.html#GUID-A01F7705-083F-4978-9B96-BE2FE8A5C6B3" title="只要使用文件名标识现有文件，就会在SQL语句中接受Oracle Managed Files的文件名。">Oracle托管文件的操作</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11516"></a><div class="props_rev_3"><a id="GUID-8003EF69-151D-44BA-BAE9-A719D8923550" name="GUID-8003EF69-151D-44BA-BAE9-A719D8923550"></a><h4 id="ADMIN-GUID-8003EF69-151D-44BA-BAE9-A719D8923550" class="sect4"><span class="enumeration_section">17.4.2</span>删除重做日志文件</h4>
                  <div>
                     <p>删除Oracle托管重做日志文件时，将删除其Oracle托管文件。您指定要删除的组或成员。</p>
                     <div class="section">
                        <p>以下语句删除并删除重做日志文件：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">ALTER</code> <code class="codeph">DATABASE</code> <code class="codeph">DROP</code> <code class="codeph">LOGFILE</code> 
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">ALTER</code> <code class="codeph">DATABASE</code> <code class="codeph">DROP</code> <code class="codeph">LOGFILE</code> <code class="codeph">MEMBER</code> 
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="using-oracle-managed-files.html#GUID-A01F7705-083F-4978-9B96-BE2FE8A5C6B3" title="只要使用文件名标识现有文件，就会在SQL语句中接受Oracle Managed Files的文件名。">Oracle托管文件的操作</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11517"></a><div class="props_rev_3"><a id="GUID-28DC70B4-727E-4FF7-9C02-47C2ED6FD634" name="GUID-28DC70B4-727E-4FF7-9C02-47C2ED6FD634"></a><h4 id="ADMIN-GUID-28DC70B4-727E-4FF7-9C02-47C2ED6FD634" class="sect4"><span class="enumeration_section">17.4.3</span>重命名文件</h4>
                  <div>
                     <p>对于Oracle Managed Files，重命名文件的SQL语句实际上并不重命名操作系统上的文件，而是更改控制文件中的名称。</p>
                     <div class="section">
                        <p>以下语句用于重命名文件：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">ALTER</code> <code class="codeph">DATABASE</code> <code class="codeph">RENAME</code> <code class="codeph">FILE</code> 
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">ALTER</code> <code class="codeph">TABLESPACE</code> ...<code class="codeph">RENAME</code> <code class="codeph">DATAFILE</code> 
                              </p>
                           </li>
                        </ul>
                        <p>如果旧文件是Oracle托管文件且存在，则将其删除。发出此语句时，必须使用操作系统上文件名的约定指定每个文件名。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="using-oracle-managed-files.html#GUID-A01F7705-083F-4978-9B96-BE2FE8A5C6B3" title="只要使用文件名标识现有文件，就会在SQL语句中接受Oracle Managed Files的文件名。">Oracle托管文件的操作</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11518"></a><div class="props_rev_3"><a id="GUID-46C09D38-5801-4E02-90DE-70FAF788D922" name="GUID-46C09D38-5801-4E02-90DE-70FAF788D922"></a><h4 id="ADMIN-GUID-46C09D38-5801-4E02-90DE-70FAF788D922" class="sect4"><span class="enumeration_section">17.4.4</span>管理备用数据库</h4>
                  <div>
                     <p>备用数据库中的数据文件，控制文件和重做日志文件可以由数据库管理。这与Oracle Managed Files是否在主数据库上使用无关。</p>
                     <p>当恢复备用数据库遇到重做以创建数据文件时，如果数据文件是Oracle托管文件，则恢复过程会在本地默认文件系统位置创建一个空文件。这允许在不进行任何人为干预的情况下立即应用新文件的重做。</p>
                     <p>当恢复备用数据库遇到重做以删除表空间时，它会删除本地文件系统中的所有Oracle托管数据文件。请注意，这与主数据库中发出的<code class="codeph">INCLUDING DATAFILES</code>选项无关。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="using-oracle-managed-files.html#GUID-A01F7705-083F-4978-9B96-BE2FE8A5C6B3" title="只要使用文件名标识现有文件，就会在SQL语句中接受Oracle Managed Files的文件名。">Oracle托管文件的操作</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADMIN11519"></a><div class="props_rev_3"><a id="GUID-1FA2DD6E-361C-4A6C-B359-F6E974568AEA" name="GUID-1FA2DD6E-361C-4A6C-B359-F6E974568AEA"></a><h3 id="ADMIN-GUID-1FA2DD6E-361C-4A6C-B359-F6E974568AEA" class="sect3"><span class="enumeration_section">17.5</span>使用Oracle托管文件的方案</h3>
               <p>场景说明了如何使用Oracle托管文件。</p>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="using-oracle-managed-files.html#GUID-1A7B0ED0-15BA-4E18-931E-D6161B77B49C">方案1：使用多路复用重做日志创建和管理数据库</a><br>示例说明了使用多路复用重做日志创建和管理数据库。
                     </li>
                     <li class="ulchildlink"><a href="using-oracle-managed-files.html#GUID-8920D141-039D-40D9-8795-18039DC9F0A4">场景2：使用数据库和快速恢复区创建和管理数据库</a><br>一个示例说明了使用数据库和快速恢复区域创建和管理数据库。
                     </li>
                     <li class="ulchildlink"><a href="using-oracle-managed-files.html#GUID-125F3043-A63D-42FF-A1F0-707BCDFAE1D7">方案3：将Oracle托管文件添加到现有数据库</a><br>示例说明了如何将Oracle Managed Files添加到现有数据库。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="using-oracle-managed-files.html#GUID-4A3C4616-0D81-4BBA-8EAD-FCAA8AD5C15A" title="Oracle数据库可以管理组成数据库的文件。">使用Oracle托管文件</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN11520"></a><div class="props_rev_3"><a id="GUID-1A7B0ED0-15BA-4E18-931E-D6161B77B49C" name="GUID-1A7B0ED0-15BA-4E18-931E-D6161B77B49C"></a><h4 id="ADMIN-GUID-1A7B0ED0-15BA-4E18-931E-D6161B77B49C" class="sect4"><span class="enumeration_section">17.5.1</span>场景1：使用多路复用重做日志创建和管理数据库</h4>
                  <div>
                     <p>示例说明了使用多路复用重做日志创建和管理数据库。</p>
                     <div class="section">
                        <p>在此方案中，DBA创建一个数据库，其中数据文件和重做日志文件在不同的目录中创建。重做日志文件和控制文件是多路复用的。数据库使用撤消表空间，并具有默认临时表空间。以下是创建和维护此数据库所涉及的任务。</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>设置初始化参数</span><div>
                              <p>在创建数据库之前，DBA在初始化参数文件中包含三个通用文件创建默认值。还指定了自动撤消管理模式（默认）。</p><pre class="oac_no_warn" dir="ltr">DB_CREATE_FILE_DEST ='/ u01 / oradata'DB_CREATE_ONLINE_LOG_DEST_1 ='/ u02 / oradata'DB_CREATE_ONLINE_LOG_DEST_2 ='/ u03 / oradata'UNDO_MANAGEMENT = AUTO</pre><p><code class="codeph">DB_CREATE_FILE_DEST</code>参数设置数据文件和临时文件的缺省文件系统目录。
                              </p>
                              <p><code class="codeph">DB_CREATE_ONLINE_LOG_DEST_1</code>和<code class="codeph">DB_CREATE_ONLINE_LOG_DEST_2</code>参数设置重做日志文件和控制文件创建的默认文件系统目录。每个重做日志文件和控制文件在两个目录中进行多路复用。
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>创建数据库</span><div>
                              <p>设置初始化参数后，可以使用以下语句创建数据库：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; CREATE DATABASE示例2&gt; DEFAULT TEMPORARY TABLESPACE dflttmp;</pre><p>由于<code class="codeph">DATAFILE</code>子句不存在且设置了<code class="codeph">DB_CREATE_FILE_DEST</code>初始化参数，因此将在缺省文件系统（此方案中为<code class="codeph">/u01/oradata</code>中创建<code class="codeph">SYSTEM</code>表空间数据文件。文件名由数据库唯一生成。该文件是可自动扩展的，初始大小为100 MB，最大大小不受限制。该文件是Oracle托管文件。为<code class="codeph">SYSAUX</code>表空间创建了类似的数据文件。
                              </p>
                              <p>由于不存在<code class="codeph">LOGFILE</code>子句，因此会创建两个重做日志组。每个日志组都有两个成员，其中一个成员位于<code class="codeph">DB_CREATE_ONLINE_LOG_DEST_1</code>位置，另一个成员位于<code class="codeph">DB_CREATE_ONLINE_LOG_DEST_2</code>位置。文件名由数据库唯一生成。创建的日志文件大小为100 MB。日志文件成员是Oracle托管文件。
                              </p>
                              <p>同样，由于<code class="codeph">CONTROL_FILES</code>初始化参数不存在，并且指定了两个<code class="codeph">DB_CREATE_ONLINE_LOG_DEST_</code> <span class="italic"><code class="codeph">n</code></span>初始化参数，因此会创建两个控制文件。位于<code class="codeph">DB_CREATE_ONLINE_LOG_DEST_1</code>位置的控制文件是主控制文件;位于<code class="codeph">DB_CREATE_ONLINE_LOG_DEST_2</code>位置的控制文件是多路复用的副本。文件名由数据库唯一生成。它们是Oracle托管文件。假设存在服务器参数文件，则生成<code class="codeph">CONTROL_FILES</code>初始化参数。
                              </p>
                              <p>自动撤销管理模式中指定，但因为没有指定一个撤销表空间和<code class="codeph">DB_CREATE_FILE_DEST</code>初始化参数设置，默认撤消的表空间<code class="codeph">UNDOTBS</code>中所指定的目录中创建<code class="codeph">DB_CREATE_FILE_DEST</code> 。数据文件是一个可自动扩展的20 MB数据文件。它是Oracle托管文件。
                              </p>
                              <p>最后，指定了名为<code class="codeph">dflttmp</code>的默认临时表空间。因为<code class="codeph">DB_CREATE_FILE_DEST</code>包含在参数文件中，所以<code class="codeph">dflttmp</code>的临时文件是在该参数指定的目录中创建的。临时文件为100 MB，可自动扩展，最大大小不受限制。它是Oracle托管文件。
                              </p>
                              <p>生成的文件名生成的文件树如下所示：</p><pre class="oac_no_warn" dir="ltr">/ U01 / ORADATA / SAMPLE /数据文件/o1_mf_system_cmr7t30p_.dbf /o1_mf_sysaux_cmr7t88p_.dbf /o1_mf_sys_undo_2ixfh90q_.dbf /o1_mf_dflttmp_157se6ff_.tmp / U02 / ORADATA / SAMPLE / onlinelog /o1_mf_1_0orrm31z_.log /o1_mf_2_2xyz16am_.log /控制文件/o1_mf_cmr7t30p_.ctl / U03 / ORADATA / SAMPLE / onlinelog /o1_mf_1_ixfvm8w9_.log /o1_mf_2_q89tmp28_.log / controlfile /o1_mf_x1sr8t36_.ctl</pre><p>从通常视图中进行选择时，可以看到内部生成的文件名。例如：</p><pre class="oac_no_warn" dir="ltr">SQL&gt;从V $ DATAFILE中选择名称;名称  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  - - --- /u01/oradata/SAMPLE/datafile/o1_mf_system_cmr7t30p_.dbf /u01/oradata/SAMPLE/datafile/o1_mf_sysaux_cmr7t88p_.dbf /u01/oradata/SAMPLE/datafile/o1_mf_sys_undo_2ixfh90q_.dbf选择3行</pre></div>
                        </li>
                        <li class="stepexpand"><span>管理控制文件</span><div>
                              <p>生成数据库时创建了控制文件，并将<code class="codeph">CONTROL_FILES</code>初始化参数添加到参数文件中。如果需要，DBA可以使用<code class="codeph">CREATE CONTROLFILE</code>语句重新创建控制文件或为数据库构建新文件。
                              </p>
                              <p>必须在<code class="codeph">DATAFILE</code>和<code class="codeph">LOGFILE</code>子句中使用正确的Oracle托管文件名。<code class="codeph">ALTER DATABASE BACKUP CONTROLFILE TO TRACE</code>语句生成具有正确文件名的脚本。或者，可以通过从<code class="codeph">V$DATAFILE</code> ， <code class="codeph">V$TEMPFILE</code>和<code class="codeph">V$LOGFILE</code>视图中进行选择来找到文件名。以下示例为示例数据库重新创建控制文件：</p><pre class="oac_no_warn" dir="ltr">CREATE CONTROLFILE REUSE DATABASE示例LOGFILE GROUP 1（'/ u02 / oradata / SAMPLE / onlinelog / o1_mf_1_0orrm31z_.log'，'/ u03 / oradata / Sample_onlinelog / o1_mf_1_ixfvm8w9_.log'），GROUP 2（'/ u02 / oradata / SAMPLE /onlinelog/o1_mf_2_2xyz16am_.log'，'/ u03 / oradata / Sample/onlinelog / o1_mf_2_q89tmp28_.log'）NORESETLOGS DATAFILE'/u01/oradata/SAMPLE/datafile/o1_mf_system_cmr7t30p_.dbf'，'/ u01 / oradata / SAMPLE / datafile / o1_mf_sysaux_cmr7t88p_.dbf'，'/ u01 / odata / Sample / dataata / o1_mf_sys_undo_2ixfh90q_.dbf'，'/ u01 / oradata / SAMPLE / dataata / o1_mf_dflttmp_157se6ff_.tmp'MAXLOGFILES 5 MAXLOGHISTORY 100 MAXDATAFILES 10 MAXINSTANCES 2 ARCHIVELOG;</pre><p>此语句创建的控制文件的位置由创建数据库时生成的<code class="codeph">CONTROL_FILES</code>初始化参数指定。<code class="codeph">REUSE</code>子句导致覆盖任何现有文件。
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>管理重做日志</span><div>
                              <p>要创建一组新的重做日志文件，DBA可以使用<code class="codeph">ALTER DATABASE ADD LOGFILE</code>语句。以下语句添加一个日志文件，其中包含<code class="codeph">DB_CREATE_ONLINE_LOG_DEST_1</code>位置中的成员以及<code class="codeph">DB_CREATE_ONLINE_LOG_DEST_2</code>位置中的成员。这些文件是Oracle托管文件。
                              </p><pre class="oac_no_warn" dir="ltr">SQL&gt; ALTER DATABASE ADD LOGFILE;</pre><p>通过指定完整的文件名继续添加和删除日志文件成员。</p>
                              <p><code class="codeph">GROUP</code>子句可用于删除日志组。在以下示例中，将自动删除与每个Oracle托管日志文件成员关联的操作系统文件。
                              </p><pre class="oac_no_warn" dir="ltr">SQL&gt; ALTER DATABASE DROP LOGFILE GROUP 3;</pre></div>
                        </li>
                        <li class="stepexpand"><span>管理表空间</span><div>
                              <p><code class="codeph">sample</code>数据库中未来表空间创建的所有数据文件的缺省存储是<code class="codeph">DB_CREATE_FILE_DEST</code>初始化参数（在此方案中为<code class="codeph">/u01/oradata</code> ）指定的位置。在初始化参数<code class="codeph">DB_CREATE_FILE_DEST</code>指定的文件系统中创建未指定文件名的任何数据文件。例如：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; CREATE TABLESPACE tbs_1;</pre><p>前面的语句创建一个表空间，其存储位于<code class="codeph">/u01/oradata</code> 。创建一个初始值为100 MB的数据文件，它是可自动扩展的，具有无限的最大大小。数据文件是Oracle托管文件。
                              </p>
                              <p>删除表空间后，将自动删除表空间的Oracle Managed Files。以下语句删除了用于其存储的表空间和所有Oracle托管文件：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; DROP TABLESPACE tbs_1;</pre><p>第一个数据文件填满后，数据库不会自动创建新的数据文件。通过添加另一个Oracle托管数据文件，可以向表空间添加更多空间。以下语句在<code class="codeph">DB_CREATE_FILE_DEST</code>指定的位置添加另一个数据文件：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; ALTER TABLESPACE tbs_1添加数据文件;</pre><p>可以通过更改初始化参数来更改默认文件系统。这不会更改任何现有数据文件。它只会影响未来的创作。这可以使用以下语句动态完成：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; ALTER SYSTEM SET DB_CREATE_FILE_DEST ='/ u04 / oradata';</pre></div>
                        </li>
                        <li class="stepexpand"><span>存档重做信息</span><div>
                              <p>对于Oracle托管文件，重做日志文件的归档与非托管文件的归档没有区别。可以使用<code class="codeph">LOG_ARCHIVE_DEST_</code> <span class="italic"><code class="codeph">n</code></span>初始化参数指定归档重做日志文件的文件系统位置。文件名基于<code class="codeph">LOG_ARCHIVE_FORMAT</code>参数或其默认值形成。存档日志不是Oracle管理文件。
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>备份，还原和恢复</span><div>
                              <p>由于Oracle托管文件与标准操作系统文件兼容，因此您可以使用操作系统实用程序来备份或还原Oracle托管文件。所有用于备份，还原和恢复数据库的现有方法都适用于Oracle托管文件。</p>
                           </div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="using-oracle-managed-files.html#GUID-1FA2DD6E-361C-4A6C-B359-F6E974568AEA" title="场景说明了如何使用Oracle托管文件。">使用Oracle托管文件的方案</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11521"></a><div class="props_rev_3"><a id="GUID-8920D141-039D-40D9-8795-18039DC9F0A4" name="GUID-8920D141-039D-40D9-8795-18039DC9F0A4"></a><h4 id="ADMIN-GUID-8920D141-039D-40D9-8795-18039DC9F0A4" class="sect4"><span class="enumeration_section">17.5.2</span>场景2：使用数据库和快速恢复区创建和管理数据库</h4>
                  <div>
                     <p>一个示例说明了使用数据库和快速恢复区域创建和管理数据库。</p>
                     <div class="section">
                        <p>在此方案中，DBA创建一个数据库，其中多路复用控制文件和重做日志文件。存档日志和RMAN备份在快速恢复区中创建。创建和维护此数据库涉及以下任务：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>设置初始化参数</span><div>
                              <p>DBA包括以下通用文件创建默认值：</p><pre class="oac_no_warn" dir="ltr">DB_CREATE_FILE_DEST ='/ u01 / oradata'DB_RECOVERY_FILE_DEST_SIZE = 10G DB_RECOVERY_FILE_DEST ='/ u02 / oradata'LOG_ARCHIVE_DEST_1 ='LOCATION = USE_DB_RECOVERY_FILE_DEST'</pre><p><code class="codeph">DB_CREATE_FILE_DEST</code>参数设置数据文件，临时文件，控制文件和重做日志的缺省文件系统目录。
                              </p>
                              <p><code class="codeph">DB_RECOVERY_FILE_DEST</code>参数设置控制文件，重做日志和RMAN备份的默认文件系统目录。
                              </p>
                              <p><code class="codeph">LOG_ARCHIVE_DEST_1</code>配置' <code class="codeph">LOCATION=USE_DB_RECOVERY_FILE_DEST</code> '将归档日志重定向到<code class="codeph">DB_RECOVERY_FILE_DEST</code>位置。
                              </p>
                              <p><code class="codeph">DB_CREATE_FILE_DEST</code>和<code class="codeph">DB_RECOVERY_FILE_DEST</code>参数设置日志文件和控制文件创建的默认目录。每个重做日志和控制文件在两个目录中进行多路复用。
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>创建数据库</span></li>
                        <li class="stepexpand"><span>管理控制文件</span></li>
                        <li class="stepexpand"><span>管理重做日志</span></li>
                        <li class="stepexpand"><span>管理表空间</span><div>
                              <p>任务2,3,4和5与方案1中的相同，只是控制文件和重做日志跨<code class="codeph">DB_CREATE_FILE_DEST</code>和<code class="codeph">DB_RECOVERY_FILE_DEST</code>位置进行多路复用。
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>归档重做日志信息</span><div>
                              <p>对于Oracle托管文件，在线日志的归档与对非托管文件的归档日志没有区别。归档日志在<code class="codeph">DB_RECOVERY_FILE_DEST</code>中创建，并且是Oracle托管文件。
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>备份，还原和恢复</span><div>
                              <p>Oracle托管文件与标准操作系统文件兼容，因此您可以使用操作系统实用程序来备份或还原Oracle托管文件。所有用于备份，还原和恢复数据库的现有方法都适用于Oracle托管文件。如果未指定format选项，则RMAN的所有磁盘备份都将在<code class="codeph">DB_RECOVERY_FILE_DEST</code>位置创建。备份是Oracle托管文件。
                              </p>
                           </div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="using-oracle-managed-files.html#GUID-1FA2DD6E-361C-4A6C-B359-F6E974568AEA" title="场景说明了如何使用Oracle托管文件。">使用Oracle托管文件的方案</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11522"></a><div class="props_rev_3"><a id="GUID-125F3043-A63D-42FF-A1F0-707BCDFAE1D7" name="GUID-125F3043-A63D-42FF-A1F0-707BCDFAE1D7"></a><h4 id="ADMIN-GUID-125F3043-A63D-42FF-A1F0-707BCDFAE1D7" class="sect4"><span class="enumeration_section">17.5.3</span>方案3：将Oracle托管文件添加到现有数据库</h4>
                  <div>
                     <p>示例说明了如何将Oracle Managed Files添加到现有数据库。</p>
                     <div class="section">
                        <p>在这种情况下假设现有数据库没有任何Oracle托管文件，但DBA希望使用Oracle托管文件创建新的表空间，并将它们放在目录<code class="codeph">/u03/oradata</code> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>设置初始化参数</span><div>
                              <p>要允许自动创建数据文件，请将<code class="codeph">DB_CREATE_FILE_DEST</code>初始化参数设置为要在其中创建数据文件的文件系统目录。这可以动态完成，如下所示：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; ALTER SYSTEM SET DB_CREATE_FILE_DEST ='/ u03 / oradata';</pre></div>
                        </li>
                        <li class="stepexpand"><span>创建表空间</span><div>
                              <p>设置<code class="codeph">DB_CREATE_FILE_DEST</code> ，可以从<code class="codeph">CREATE TABLESPACE</code>语句中省略<code class="codeph">DATAFILE</code>子句。默认情况下，数据文件在<code class="codeph">DB_CREATE_FILE_DEST</code>指定的位置创建。例如：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; CREATE TABLESPACE tbs_2;</pre><p>删除<code class="codeph">tbs_2</code>表空间后，将自动删除其数据文件。
                              </p>
                           </div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="using-oracle-managed-files.html#GUID-1FA2DD6E-361C-4A6C-B359-F6E974568AEA" title="场景说明了如何使用Oracle托管文件。">使用Oracle托管文件的方案</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
         </div>
      </article>
   </body>
</html>