<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="This chapter explains the nature of an Oracle database instance, the parameter and diagnostic files associated with an instance, and what occurs during instance creation and the opening and closing of a database."></meta>
      <meta name="description" content="This chapter explains the nature of an Oracle database instance, the parameter and diagnostic files associated with an instance, and what occurs during instance creation and the opening and closing of a database."></meta>
      <title>Oracle数据库实例</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Database Concepts"></meta>
      <meta property="og:description" content="This chapter explains the nature of an Oracle database instance, the parameter and diagnostic files associated with an instance, and what occurs during instance creation and the opening and closing of a database."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Database Concepts"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-concepts.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-09T07:47:16-08:00"></meta>
      <meta name="dcterms.title" content="Database Concepts"></meta>
      <meta name="dcterms.dateCopyrighted" content="1993, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96138-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="oracle-instance-architecture.html" title="Previous" type="text/html"></link>
      <link rel="next" href="memory-architecture.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="CNCPT"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="oracle-instance-architecture.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="memory-architecture.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">数据库概念</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="oracle-instance-architecture.html" property="item" typeof="WebPage"><span property="name">Oracle实例架构</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Oracle数据库实例</li>
            </ol>
            <a id="GUID-67247052-CE3F-44D2-BA3E-7067DEF4B6D5" name="GUID-67247052-CE3F-44D2-BA3E-7067DEF4B6D5"></a><a id="CNCPT005"></a>
            
            <h2 id="CNCPT-GUID-67247052-CE3F-44D2-BA3E-7067DEF4B6D5" class="sect2"><span class="enumeration_chapter">13</span> Oracle数据库实例</h2>
         </header>
         <div class="ind">
            <div>
               <p>本章介绍Oracle数据库实例的性质，与实例关联的参数和诊断文件，以及在实例创建和打开和关闭数据库期间发生的情况。</p>
               <p>本章包含以下部分：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="oracle-database-instance.html#GUID-2942B648-70FA-47B4-8950-0CC6884B1F80" title="数据库实例是一组管理数据库文件的内存结构。">Oracle数据库实例简介</a></p>
                  </li>
                  <li>
                     <p><a href="oracle-database-instance.html#GUID-5FCFB104-8365-4E7B-87A1-736E65D6658F" title="数据库实例提供用户对数据库的访问权限。实例和数据库可以处于各种状态。">数据库实例启动和关闭概述</a></p>
                  </li>
                  <li>
                     <p><a href="oracle-database-instance.html#GUID-A6959126-0ECF-40A2-880D-D74A1BFB5BC4" title="检查点通常是一致的数据库关闭，实例恢复和Oracle数据库操作的关键机制。">检查点概述</a></p>
                  </li>
                  <li>
                     <p><a href="oracle-database-instance.html#GUID-728C6BE1-5687-4DC5-B570-D2042C88F935" title="实例恢复是将联机重做日志中的记录应用于数据文件以重建最近检查点之后所做更改的过程。">实例恢复概述</a></p>
                  </li>
                  <li>
                     <p><a href="oracle-database-instance.html#GUID-BB6ADD85-55FD-42C4-A847-80F0BACDE790" title="要启动数据库实例，Oracle数据库必须读取建议的服务器参数文件或文本初始化参数文件（这是遗留实现）。这些文件包含配置参数列表。">参数文件概述</a></p>
                  </li>
                  <li>
                     <p><a href="oracle-database-instance.html#GUID-E329D228-F334-4506-84C1-EC030032C228" title="Oracle数据库包括用于预防，检测，诊断和解决数据库问题的故障诊断基础结构。问题包括严重错误，例如代码错误，元数据损坏和客户数据损坏。">诊断文件概述</a></p>
                  </li>
               </ul>
            </div><a id="CNCPT601"></a><div class="props_rev_3"><a id="GUID-2942B648-70FA-47B4-8950-0CC6884B1F80" name="GUID-2942B648-70FA-47B4-8950-0CC6884B1F80"></a><h3 id="CNCPT-GUID-2942B648-70FA-47B4-8950-0CC6884B1F80" class="sect3">Oracle数据库实例简介</h3>
               <div>
                  <p><span class="bold">数据库实例</span>是一组管理数据库文件的内存结构。
                  </p>
                  <p>数据库是由<code class="codeph">CREATE DATABASE</code>语句创建的磁盘上的一组物理文件。该实例管理其关联数据并为数据库的用户提供服务。
                  </p>
                  <p>每个正在运行的Oracle数据库都与至少一个Oracle数据库实例相关联。由于实例存在于内存中且磁盘上存在数据库，因此实例可以在没有数据库的情况下存在，并且数据库可以在没有实例的情况下存在。</p>
               </div><a id="CNCPT89032"></a><a id="CNCPT89031"></a><div class="props_rev_3"><a id="GUID-824DB02D-D382-4B23-9A94-85A3E816B75E" name="GUID-824DB02D-D382-4B23-9A94-85A3E816B75E"></a><h4 id="CNCPT-GUID-824DB02D-D382-4B23-9A94-85A3E816B75E" class="sect4">数据库实例结构</h4>
                  <div>
                     <p>启动实例时，Oracle数据库会分配一个称为<span class="bold">系统全局区域（SGA）</span>的内存区域，并启动一个或多个<span class="bold">后台进程</span> 。
                     </p>
                     <p>SGA有多种用途，包括：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>维护许多进程和线程同时访问的内部数据结构</p>
                        </li>
                        <li>
                           <p>缓存从磁盘读取的数据块</p>
                        </li>
                        <li>
                           <p>在将重做数据写入联机重做日志文件之前对其进行缓冲</p>
                        </li>
                        <li>
                           <p>存储SQL执行计划</p>
                        </li>
                     </ul>
                     <p>在单台计算机上运行的Oracle进程共享SGA。 Oracle进程与SGA关联的方式因操作系统而异。</p>
                     <p>数据库实例包括后台进程。服务器进程以及在这些进程中分配的进程内存也存在于实例中。当服务器进程终止时，实例继续运行。</p>
                     <p>下图显示了Oracle数据库实例的主要组件。</p>
                     <div class="figure" id="GUID-824DB02D-D382-4B23-9A94-85A3E816B75E__I1332">
                        <p class="titleinfigure">图13-1数据库实例</p><img src="img/cncpt325.gif" alt="下面是图13-1的描述" title="下面是图13-1的描述" longdesc="img_text/cncpt325.html"><br><a href="img_text/cncpt325.html">“图13-1数据库实例”的说明</a></div>
                     <!-- class="figure" -->
                     <div class="infoboxnotealso" id="GUID-824DB02D-D382-4B23-9A94-85A3E816B75E__GUID-0A7E72BD-9FB6-4AA6-8922-5F31A42BD0D9">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="memory-architecture.html#GUID-24EDB8CD-8279-4CED-82AF-642FC01A4A73" title="SGA是一个读/写内存区域，与Oracle后台进程一起构成一个数据库实例。">系统全球区域（SGA）概述</a> ”</span></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="process-architecture.html#GUID-D8AE1B78-69D5-4F0F-8BE3-C91AA2514F2D" title="后台进程是多进程Oracle数据库使用的其他进程。后台进程执行操作数据库所需的维护任务，并最大限度地提高多个用户的性能。">背景过程概述</a> ”</span></p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="CNCPT89034"></a><a id="CNCPT89033"></a><div class="props_rev_3"><a id="GUID-1A8EA852-BC7F-4324-9318-ED3D72B4F127" name="GUID-1A8EA852-BC7F-4324-9318-ED3D72B4F127"></a><h4 id="CNCPT-GUID-1A8EA852-BC7F-4324-9318-ED3D72B4F127" class="sect4">数据库实例配置</h4>
                  <div>
                     <p>Oracle数据库可在单实例配置或Oracle Real Application Clusters（Oracle RAC）配置中运行。这些配置是互斥的。</p>
                     <p>在单实例配置中，数据库与数据库实例之间存在一对一的关系。在Oracle RAC中，数据库和数据库实例之间存在一对多关系。</p>
                     <p>下图显示了可能的数据库实例配置。</p>
                     <div class="figure" id="GUID-1A8EA852-BC7F-4324-9318-ED3D72B4F127__BABIEDFC">
                        <p class="titleinfigure">图13-2数据库实例配置</p><img src="img/cncpt296.gif" alt="下面是图13-2的描述" title="下面是图13-2的描述" longdesc="img_text/cncpt296.html"><br><a href="img_text/cncpt296.html">“图13-2数据库实例配置”的说明</a></div>
                     <!-- class="figure" -->
                     <p>无论是在单实例还是Oracle RAC配置中，数据库实例一次只与一个数据库相关联。您可以启动数据库实例并<span class="bold">装载</span> （将实例与之关联）一个数据库，但不能同时使用同一实例装入两个数据库。
                     </p>
                     <div class="infoboxnote" id="GUID-1A8EA852-BC7F-4324-9318-ED3D72B4F127__GUID-F5B30592-3BEA-4331-86FD-7B39FEBB1A46">
                        <p class="notep1">注意：</p>
                        <p>除非另有说明，否则本章将讨论单实例数据库配置。</p>
                     </div>
                     <p>多个实例可以在同一台计算机上并发运行，每个实例都访问自己的数据库。例如，一个计算机可以承载两个不同的数据库： <code class="codeph">prod1</code>和<code class="codeph">prod2</code> 。一个数据库实例管理<code class="codeph">prod1</code> ，而一个单独的实例管理<code class="codeph">prod2</code> 。
                     </p>
                     <div class="infoboxnotealso" id="GUID-1A8EA852-BC7F-4324-9318-ED3D72B4F127__GUID-DC9C3DB9-B0FE-4D77-8C31-7A92767FA2FA">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="../racad/administering-database-instances-and-cluster-databases.html#RACAD900" target="_blank"><span><cite>“Oracle Real Application Clusters管理和部署指南”</cite></span></a> ，了解Oracle RAC的特定信息</p>
                     </div>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-04EF1A27-8001-46D8-9516-69C9DC9A81BF" name="GUID-04EF1A27-8001-46D8-9516-69C9DC9A81BF"></a><h4 id="CNCPT-GUID-04EF1A27-8001-46D8-9516-69C9DC9A81BF" class="sect4">读/写和只读实例</h4>
                  <div>
                     <p>每个数据库实例都是读/写或只读。</p>
                     <p><a href="glossary.html#GUID-5C6F9AB8-385E-409E-A7EB-60FD4CAF893C"><span class="xrefglossterm">读/写数据库实例</span></a> （默认情况下）可以处理DML并支持来自客户端应用程序的直接连接。相反， <a href="glossary.html#GUID-2BC0C5BC-491A-4DAD-849A-04C8F8E4AC3A"><span class="xrefglossterm">只读数据库实例</span></a>可以处理查询，但不支持修改DML（ <code class="codeph">UPDATE</code> ， <code class="codeph">DELETE</code> ， <code class="codeph">INSERT</code>和<code class="codeph">MERGE</code> ）或直接客户端连接。
                     </p>
                     <div class="infoboxnote" id="GUID-04EF1A27-8001-46D8-9516-69C9DC9A81BF__GUID-C96E5B47-F596-4F32-B1B1-0A4E7825FE3B">
                        <p class="notep1">注意：</p>
                        <p>除非本手册另有说明，否则对数据库实例的所有引用都是读/写实例。</p>
                     </div>
                     <p>在以前的版本中，所有数据库实例 - 除非它们访问备用数据库 - 都是可读/写的。从<span>Oracle Database 12c</span>第2版（12.2）开始，只读和读/写实例可以在单个数据库中共存。此配置对于查询和修改数据的并行SQL语句非常有用，因为读/写实例都可以在读/写实例进行查询时进行查询。
                     </p>
                     <p>与读/写实例不同，只读实例具有以下特征：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>只能打开已由读/写实例打开的数据库</p>
                        </li>
                        <li>
                           <p>禁用许多后台进程，包括检查点和归档进程，这些都不是必需的</p>
                        </li>
                        <li>
                           <p>可以挂载禁用的重做线程或没有任何<a href="glossary.html#GUID-2A8BC112-AB70-4B06-9F85-FE975861CEE0"><span class="xrefglossterm">联机重做日志</span></a>的线程</p>
                        </li>
                     </ul>
                     <p>要将实例指定为只读，请将<code class="codeph">INSTANCE_MODE</code>初始化参数设置为<code class="codeph">READ_ONLY</code> 。参数的默认值为<code class="codeph">READ_WRITE</code> 。</p>
                     <div class="infoboxnotealso" id="GUID-04EF1A27-8001-46D8-9516-69C9DC9A81BF__GUID-6F96AB6C-8749-4A6C-BAC5-751103CDDE02">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="process-architecture.html#GUID-D8AE1B78-69D5-4F0F-8BE3-C91AA2514F2D" title="后台进程是多进程Oracle数据库使用的其他进程。后台进程执行操作数据库所需的维护任务，并最大限度地提高多个用户的性能。">后台进程概述</a> ”</span>以了解有关检查点和归档后台进程的更多信息</p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="physical-storage-structures.html#GUID-47557C86-E551-46B5-B28E-28D6C500694E" title="最重要的恢复结构是联机重做日志，它由两个或多个预分配文件组成，这些文件在数据库发生变化时存储更改。联机重做日志记录对数据文件的更改。">在线重做日志概述</a> ”</span></p>
                           </li>
                           <li>
                              <p><a href="../refrn/INSTANCE_GROUPS.html#REFRN-GUID-E4995F56-001F-4124-8CC0-30EACD6794E3" target="_blank"><span><cite>Oracle Database Reference</cite></span></a>了解有关<code class="codeph">INSTANCE_MODE</code>初始化参数的更多信息</p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="CNCPT89036"></a><a id="CNCPT89035"></a><div class="props_rev_3"><a id="GUID-6074B991-B875-4054-BF0D-063BCF0843BA" name="GUID-6074B991-B875-4054-BF0D-063BCF0843BA"></a><h4 id="CNCPT-GUID-6074B991-B875-4054-BF0D-063BCF0843BA" class="sect4">数据库实例的持续时间</h4>
                  <div>
                     <p>数据库实例在使用<code class="codeph">STARTUP</code>命令创建时开始，在终止时结束。
                     </p>
                     <p>在此期间，数据库实例可以将自己与一个且仅一个数据库相关联。此外，实例只能挂载一次数据库，只挂载一次，并只打开一次。关闭或关闭数据库后，必须启动<span class="italic">另一个</span>实例才能装入并打开此数据库。
                     </p>
                     <p>下表说明了尝试重新打开先前关闭的数据库的数据库实例。</p>
                     <div class="tblformalwide" id="GUID-6074B991-B875-4054-BF0D-063BCF0843BA__DURATIONOFANINSTANCE-1BF5E351">
                        <p class="titleintable">表13-1实例的持续时间</p>
                        <table cellpadding="4" cellspacing="0" class="FormalWide" title="实例的持续时间" width="100%" border="1" summary="This table shows a database instance attempting to reopen a database that it previously closed." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="20%" id="d69441e1897">声明</th>
                                 <th align="left" valign="bottom" width="20%" id="d69441e1900">说明</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d69441e1905" headers="d69441e1897 "><pre class="pre codeblock"><code>SQL&gt; STARTUP ORACLE实例已启动。系统全局总面积468729856字节固定大小1333556字节可变大小440403660字节数据库缓冲区16777216字节重做缓冲区10215424字节数据库已装入。数据库已打开</code></pre></td>
                                 <td align="left" valign="top" width="20%" headers="d69441e1905 d69441e1900 ">
                                    <p><code class="codeph">STARTUP</code>命令创建一个实例，用于安装和打开数据库。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d69441e1915" headers="d69441e1897 "><pre class="pre codeblock"><code>SQL&gt; SELECT TO_CHAR（STARTUP_TIME，'MON-DD-RR HH24：MI：SS'）AS“Inst Start Time”FROM V $ INSTANCE; Inst Start Time ------------------ JUN-18-14 <span class="bold">13:14:48</span></code></pre></td>
                                 <td align="left" valign="top" width="20%" headers="d69441e1915 d69441e1900 ">
                                    <p>此查询显示当前实例的启动时间。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d69441e1924" headers="d69441e1897 "><pre class="pre codeblock"><code>SQL&gt; SHUTDOWN IMMEDIATE</code></pre></td>
                                 <td align="left" valign="top" width="20%" headers="d69441e1924 d69441e1900 ">
                                    <p>该实例关闭数据库并关闭，结束此实例的生命周期。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d69441e1931" headers="d69441e1897 "><pre class="pre codeblock"><code>SQL&gt; STARTUP Oracle实例已启动。。 。 。</code></pre></td>
                                 <td align="left" valign="top" width="20%" headers="d69441e1931 d69441e1900 ">
                                    <p><code class="codeph">STARTUP</code>命令创建一个新实例并安装并打开数据库。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d69441e1941" headers="d69441e1897 "><pre class="pre codeblock"><code>SQL&gt; SELECT TO_CHAR（STARTUP_TIME，'MON-DD-RR HH24：MI：SS'）AS“Inst Start Time”FROM V $ INSTANCE; Inst Start Time ------------------ JUN-18-14 <span class="bold">13:16:40</span></code></pre></td>
                                 <td align="left" valign="top" width="20%" headers="d69441e1941 d69441e1900 ">
                                    <p>此查询显示当前实例的启动时间。不同的开始时间显示此实例与关闭数据库的实例不同。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-2719AD6A-EC8D-4049-BECA-57DD1A6DC5D7" name="GUID-2719AD6A-EC8D-4049-BECA-57DD1A6DC5D7"></a><h4 id="CNCPT-GUID-2719AD6A-EC8D-4049-BECA-57DD1A6DC5D7" class="sect4">识别数据库实例</h4>
                  <div>
                     <p>多个数据库实例可以驻留在单个主机上。因此，您必须具有指定要访问的实例的方法。</p>
                     <p><a href="glossary.html#GUID-D8B36584-1666-43AB-84A4-AB6D662AA952"><span class="xrefglossterm">Oracle Optimal Flexible Architecture（OFA）</span></a>规则是一组配置准则，旨在确保组织良好的Oracle安装。本节中的示例假设OFA体系结构。
                     </p>
                     <p>本节包含以下主题：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="oracle-database-instance.html#GUID-3801CE55-0C42-479A-8A56-B47321706BD4" title="Oracle基本目录存储Oracle产品的二进制文件。">Oracle基目录</a></p>
                        </li>
                        <li>
                           <p><a href="oracle-database-instance.html#GUID-4CFE4386-F75B-44B0-805A-2944F4ADF833" title="Oracle主目录是Oracle数据库的软件位置。">Oracle主目录</a></p>
                        </li>
                        <li>
                           <p><a href="oracle-database-instance.html#GUID-8BB8140D-63ED-454E-AAC3-1964F80D102D" title="系统标识符（SID）是特定主机上的Oracle数据库实例的唯一名称。">Oracle系统标识符（SID）</a></p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-2719AD6A-EC8D-4049-BECA-57DD1A6DC5D7__GUID-2C7A281A-351A-4BF0-B41E-D46C2A2D8D3A">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="../cwlin/optimal-flexible-architecture.html#GUID-34434C8B-EBEE-497A-BB92-26B43561B6B1" target="_blank"><span><cite>适用于Linux的Oracle数据库安装指南，</cite></span></a>概述了OFA</p>
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-3801CE55-0C42-479A-8A56-B47321706BD4" name="GUID-3801CE55-0C42-479A-8A56-B47321706BD4"></a><h5 id="CNCPT-GUID-3801CE55-0C42-479A-8A56-B47321706BD4" class="sect5">Oracle基目录</h5>
                     <div>
                        <p>Oracle基本目录存储Oracle产品的二进制文件。</p>
                        <p>Oracle Base目录是Oracle数据库安装所有者的数据库主目录。主机上可以安装许多Oracle数据库，以及许多Oracle数据库软件安装所有者。</p>
                        <p>以下示例显示操作系统用户帐户<code class="codeph">oracle</code>的Oracle基本目录：</p><pre class="pre codeblock"><code>/ U01 /应用/ ORACLE</code></pre><p>在前面的路径中， <code class="codeph">/u01/</code>是挂载点， <code class="codeph">/u01/app/</code>是应用程序软件的子树。
                        </p>
                        <div class="infoboxnotealso" id="GUID-3801CE55-0C42-479A-8A56-B47321706BD4__GUID-3E65B41A-54A3-4AFA-BFA2-7B567DF76737">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="../ladbi/oracle-base-directory-naming-convention.html#LADBI-GUID-3B198883-0AD1-4AB2-9007-059AE32240F0" target="_blank"><span><cite>适用于Linux的Oracle数据库安装指南，以</cite></span></a>获取Oracle基础的概述</p>
                        </div>
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-4CFE4386-F75B-44B0-805A-2944F4ADF833" name="GUID-4CFE4386-F75B-44B0-805A-2944F4ADF833"></a><h5 id="CNCPT-GUID-4CFE4386-F75B-44B0-805A-2944F4ADF833" class="sect5">Oracle主目录</h5>
                     <div>
                        <p><strong class="term">Oracle主目录</strong>是Oracle数据库的软件位置。
                        </p>
                        <p>您必须为每个新安装的Oracle数据库软件指定一个新的Oracle主目录。默认情况下，Oracle主目录是Oracle基础（ <code class="codeph">ORACLE_BASE</code> ）目录树中的后代。
                        </p>
                        <p>您可以在同一主机上多次在单个Oracle库中的不同Oracle主目录中安装此版本或更早版本的数据库软件。不同版本且由不同用户帐户拥有的多个数据库可以同时共存。</p>
                        <p>以下示例显示了三个不同Oracle主目录的完整路径名，所有这些都位于<code class="codeph">/u01/app/oracle/</code>的同一Oracle基本目录中：</p><pre class="pre codeblock"><code><span class="bold">/ u01 / app / oracle /</span> product / 12.1.0 / dbhome_1 <span class="bold">/ u01 / app / oracle /</span> product / 12.1.0 / dbhome_2 <span class="bold">/ u01 / app / oracle /</span> product / 18.0.0 / dbhome_1</code></pre><p>Oracle基础之后的路径名称部分（ <code class="codeph">/u01/app/oracle/</code> ）包括产品版本号（例如， <code class="codeph">12.1.0</code> ）和Oracle主目录相关目录（例如， <code class="codeph">dbhome_1</code> ）。<code class="codeph">/u01/app/oracle/product/12.1.0/</code>目录包含两个独立的Oracle主目录： <code class="codeph">dbhome_1</code>和<code class="codeph">dbhome_2</code> 。
                        </p>
                        <p>从<span>Oracle Database 18c开始</span> ，您可以创建只读Oracle主目录作为软件映像。只读Oracle主目录存储二进制文件等静态文件。<a href="glossary.html#GUID-EF78DA71-8FC0-4E6D-B554-CCA1D036D59F"><span class="xrefglossterm">Oracle基本主</span></a>目录（ <code class="codeph">ORACLE_BASE_HOME</code> ）位于<code class="codeph">ORACLE_BASE/homes/ <span class="codeinlineitalic">home_name</span></code> ，用于存储特定于Oracle主目录的动态文件。Oracle基本配置目录（ <code class="codeph">ORACLE_BASE_CONFIG</code> ）由Oracle基础中的所有Oracle主目录共享，用于存储特定于实例的动态文件。
                        </p>
                        <p>在以下示例中，第一个路径是只读Oracle主目录，第二个路径是此Oracle主目录的Oracle基本主目录：</p><pre class="pre codeblock"><code>/u01/app/oracle/product/18.0.0/ro_dbhome_1 / u01 / app / oracle / homes / ro_dbhome_1</code></pre><div class="infoboxnotealso" id="GUID-4CFE4386-F75B-44B0-805A-2944F4ADF833__GUID-43D867B2-13D3-4DD0-A2D1-6F584311F3AD">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="../ladbi/oracle-home-directory-naming-convention.html#LADBI-GUID-8599FF25-C020-4E03-93D2-8D92ADA240A8" target="_blank"><span><cite>适用于Linux的Oracle数据库安装指南，以</cite></span></a>获取Oracle主目录的概述</p>
                        </div>
                     </div>
                  </div><a id="CNCPT89037"></a><div class="props_rev_3"><a id="GUID-8BB8140D-63ED-454E-AAC3-1964F80D102D" name="GUID-8BB8140D-63ED-454E-AAC3-1964F80D102D"></a><h5 id="CNCPT-GUID-8BB8140D-63ED-454E-AAC3-1964F80D102D" class="sect5">Oracle系统标识符（SID）</h5>
                     <div>
                        <p><span class="bold">系统标识符（SID）</span>是特定主机上的Oracle数据库实例的唯一名称。
                        </p>
                        <p>在UNIX和Linux上，Oracle数据库使用SID和Oracle主目录值来创建共享内存的密钥。此外，Oracle数据库默认使用SID来查找初始化参数文件，该文件定位相关文件，例如数据库控制文件。</p>
                        <p>在大多数平台上， <code class="codeph">ORACLE_SID</code>环境变量设置SID， <code class="codeph">ORACLE_HOME</code>变量设置Oracle主目录。连接到数据库实例时，客户端可以在Oracle Net连接中指定SID或使用网络服务名称。Oracle数据库将服务名称转换为<code class="codeph">ORACLE_HOME</code>和<code class="codeph">ORACLE_SID</code> 。</p>
                        <p>传统的读写Oracle主目录包含特定于实例的文件。但是，当Oracle主目录为只读时，特定于实例的文件将单独存储在Oracle基础中。在任何一种情况下，名称包含SID的文件都驻留在Oracle基本配置目录（ <code class="codeph">ORACLE_BASE_CONFIG</code> ）的<code class="codeph">dbs</code>子目录中。由于这种分离，用户可以使用现有只读Oracle主目录中的软件创建数据库，然后使用驻留在新的只读Oracle主目录中的软件为该数据库启动实例。
                        </p>
                        <div class="infoboxnotealso" id="GUID-8BB8140D-63ED-454E-AAC3-1964F80D102D__GUID-66882AB1-DC25-4D82-B632-F54D5D8EA2F0">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="q">“ <a href="application-and-networking-architecture.html#GUID-C931A159-E1FE-4DB3-A811-510C42516683" title="服务名称是用于客户端连接的服务的逻辑表示。">服务名称</a> ”</span></p>
                              </li>
                              <li>
                                 <p><a href="../admin/creating-and-configuring-an-oracle-database.html#ADMIN11074" target="_blank"><span><cite>Oracle数据库管理员指南</cite></span></a> ，了解如何指定Oracle SID</p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div>
               </div>
            </div><a id="CNCPT955"></a><div class="props_rev_3"><a id="GUID-5FCFB104-8365-4E7B-87A1-736E65D6658F" name="GUID-5FCFB104-8365-4E7B-87A1-736E65D6658F"></a><h3 id="CNCPT-GUID-5FCFB104-8365-4E7B-87A1-736E65D6658F" class="sect3">数据库实例启动和关闭概述</h3>
               <div>
                  <p><span class="bold">数据库实例</span>提供用户对数据库的访问权限。实例和数据库可以处于各种状态。
                  </p>
               </div><a id="CNCPT89038"></a><a id="CNCPT602"></a><div class="props_rev_3"><a id="GUID-B3A8DB74-211A-453C-8B73-B61824DC56F6" name="GUID-B3A8DB74-211A-453C-8B73-B61824DC56F6"></a><h4 id="CNCPT-GUID-B3A8DB74-211A-453C-8B73-B61824DC56F6" class="sect4">实例和数据库启动概述</h4>
                  <div>
                     <p>通常，您手动启动实例，然后装入并打开数据库，使其可供用户使用。您可以使用SQL * Plus <code class="codeph">STARTUP</code>命令，Oracle Enterprise Manager（企业管理器）或SRVCTL实用程序来执行这些步骤。
                     </p>
                     <p>要使用Oracle Net启动数据库实例，必须满足以下条件：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>数据库静态注册Oracle Net侦听器。</p>
                        </li>
                        <li>
                           <p>您的客户端使用<code class="codeph">SYSDBA</code>权限连接到数据库。
                           </p>
                        </li>
                     </ul>
                     <p>侦听器创建一个专用服务器，可以启动数据库实例。</p>
                     <p>下图显示了数据库从关闭状态进展到打开状态。</p>
                     <div class="figure" id="GUID-B3A8DB74-211A-453C-8B73-B61824DC56F6__BABICCFJ">
                        <p class="titleinfigure">图13-3实例和数据库启动顺序</p><img src="img/cncpt212.gif" alt="下面是图13-3的描述" title="下面是图13-3的描述" longdesc="img_text/cncpt212.html"><br><a href="img_text/cncpt212.html">“图13-3实例和数据库启动顺序”的说明</a></div>
                     <!-- class="figure" -->
                     <p>当数据库从关闭状态进入打开的数据库状态时，数据库将经历以下阶段。</p>
                     <div class="tblformal" id="GUID-B3A8DB74-211A-453C-8B73-B61824DC56F6__GUID-8ED52166-583C-49E3-BC43-0E13F77259D5">
                        <p class="titleintable">表13-2实例启动步骤</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="实例启动中的步骤" border="1" summary="This table describes the steps in an instance startup" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="20%" id="d69441e3780">相</th>
                                 <th align="left" valign="bottom" width="20%" id="d69441e3782">山国</th>
                                 <th align="left" valign="bottom" width="20%" id="d69441e3784">描述</th>
                                 <th align="left" valign="bottom" width="20%" id="d69441e3786">了解更多</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d69441e3790" headers="d69441e3780 ">1</td>
                                 <td align="left" valign="top" width="20%" headers="d69441e3790 d69441e3782 ">
                                    <p>实例启动时没有安装数据库</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d69441e3790 d69441e3784 ">
                                    <p>实例已启动，但尚未与数据库关联。</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d69441e3790 d69441e3786 "><span class="q">“ <a href="oracle-database-instance.html#GUID-189ADDB5-1E71-4924-8371-F5B2EFB5B304" title="当Oracle数据库启动实例时，它将继续执行各个阶段。">如何启动实例</a> ”</span></td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d69441e3806" headers="d69441e3780 ">2</td>
                                 <td align="left" valign="top" width="20%" headers="d69441e3806 d69441e3782 ">
                                    <p>数据库已安装</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d69441e3806 d69441e3784 ">
                                    <p>该实例已启动，并通过读取其<a href="glossary.html#GUID-DF498605-D186-451B-87AA-73DF396AD599"><span class="xrefglossterm">控制文件</span></a>与数据库关联。数据库对用户不开放。
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d69441e3806 d69441e3786 "><span class="q">“ <a href="oracle-database-instance.html#GUID-8180290B-A8B5-493D-91F0-EAE677A6A319" title="该实例安装数据库以将数据库与此实例相关联。">如何安装数据库</a> ”</span></td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d69441e3828" headers="d69441e3780 ">3</td>
                                 <td align="left" valign="top" width="20%" headers="d69441e3828 d69441e3782 ">
                                    <p>数据库打开</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d69441e3828 d69441e3784 ">
                                    <p>该实例已启动并与打开的数据库相关联。授权用户可以访问数据文件中包含的数据。</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d69441e3828 d69441e3786 ">
                                    <p><span class="q">“ <a href="oracle-database-instance.html#GUID-46EC6A61-6065-4CE8-BBDA-5A969FE54D36" title="打开已装入的数据库使其可用于正常的数据库操作。">如何打开数据库</a> ”</span></p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="infoboxnotealso" id="GUID-B3A8DB74-211A-453C-8B73-B61824DC56F6__GUID-E7396332-60E3-43FE-9648-3766FF31A72F">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="application-and-networking-architecture.html#GUID-D6E2465E-E8E6-4B95-95D3-B9581E264ED1" title="Oracle Net Listener（侦听器）是一个服务器端进程，它侦听传入的客户端连接请求并管理数据库的流量。当数据库实例启动时，以及在其生命周期的不同时间，实例联系侦听器并建立与此实例的通信路径。">Oracle Net Listener</a> ”</span></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="physical-storage-structures.html#GUID-90EAC9F2-B396-4C59-9821-B03BF7B6BCD0" title="数据库控制文件是仅与一个数据库关联的小型二进制文件。尽管允许多个相同的副本，但每个数据库都有一个唯一的控制文件。">控制文件概述</a> ”</span></p>
                           </li>
                           <li>
                              <p><a href="../admin/starting-up-and-shutting-down.html#ADMIN10063" target="_blank"><span><cite>Oracle数据库管理员指南</cite></span></a> ，了解如何启动实例</p>
                           </li>
                           <li>
                              <p><a href="../admin/configuring-automatic-restart-of-an-oracle-database.html#ADMIN5032" target="_blank"><span><cite>Oracle数据库管理员指南</cite></span></a> ，了解如何使用SRVCTL</p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="CNCPT1289"></a><div class="props_rev_3"><a id="GUID-921ADB75-43B0-4F84-BAA5-F90EE649877F" name="GUID-921ADB75-43B0-4F84-BAA5-F90EE649877F"></a><h5 id="CNCPT-GUID-921ADB75-43B0-4F84-BAA5-F90EE649877F" class="sect5">与管理员权限的连接</h5>
                     <div>
                        <p>数据库启动和关闭是强大的管理选项，仅限于以管理员权限连接到Oracle数据库的用户。</p>
                        <p>普通用户无法控制Oracle数据库的当前状态。根据操作系统的不同，以下条件之一会为用户建立管理员权限：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>用户的操作系统权限允许他或她使用管理员权限进行连接。</p>
                           </li>
                           <li>
                              <p>用户被授予特殊系统特权，数据库使用密码文件通过网络对数据库管理员进行身份验证。</p>
                           </li>
                        </ul>
                        <p>即使数据库未打开，以下特殊系统特权也可以访问数据库实例：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">SYSDBA</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">SYSOPER</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">SYSBACKUP</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">SYSDG</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">SYSKM</code></p>
                           </li>
                        </ul>
                        <p>对先前权限的控制在数据库本身之外。使用<code class="codeph">SYSDBA</code>系统特权连接到数据库时，您将处于<code class="codeph">SYS</code>拥有的架构中。当您以<code class="codeph">SYSOPER</code>身份连接时，您处于公共架构中。<code class="codeph">SYSOPER</code>权限是<code class="codeph">SYSDBA</code>权限的子集。
                        </p>
                        <div class="infoboxnotealso" id="GUID-921ADB75-43B0-4F84-BAA5-F90EE649877F__GUID-BED12021-4F75-4E42-960F-6EABD2E88C56">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="q">“ <a href="tables-and-table-clusters.html#GUID-97709804-7430-4BD0-AFF4-727B74F6997E" title="所有Oracle数据库都包含默认管理帐户。">SYS和SYSTEM架构</a> ”</span></p>
                              </li>
                              <li>
                                 <p><span class="q">“ <a href="topics-for-database-administrators-and-developers.html#GUID-4D6D2B67-1B65-476D-852A-976E9D153EEC" title="通常，数据库安全性涉及用户身份验证，加密，访问控制和监视。">数据库安全概述</a> ”</span> ，了解数据库管理员的密码文件和身份验证</p>
                              </li>
                              <li>
                                 <p><a href="../dbseg/configuring-privilege-and-role-authorization.html#DBSEG577" target="_blank"><span><cite>Oracle数据库安全指南</cite></span></a>了解管理管理权限</p>
                              </li>
                              <li>
                                 <p><a href="../admin/getting-started-with-database-administration.html#ADMIN11048" target="_blank"><span><cite>Oracle数据库管理员指南</cite></span></a> ，了解系统权限</p>
                              </li>
                              <li>
                                 <p><a href="../install-and-upgrade.html" target="_blank"><span><cite>“Oracle数据库安装指南”</cite></span></a>以了解有关操作系统权限组的更多信息</p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div><a id="CNCPT1293"></a><div class="props_rev_3"><a id="GUID-189ADDB5-1E71-4924-8371-F5B2EFB5B304" name="GUID-189ADDB5-1E71-4924-8371-F5B2EFB5B304"></a><h5 id="CNCPT-GUID-189ADDB5-1E71-4924-8371-F5B2EFB5B304" class="sect5">实例如何启动</h5>
                     <div>
                        <p>当Oracle数据库启动实例时，它将继续执行各个阶段。</p>
                        <p>阶段如下：</p>
                        <ol>
                           <li>
                              <p>在特定于平台的默认位置搜索<a href="glossary.html#GUID-D068D7A7-ECF5-49F2-A055-B6F668E96D0C"><span class="xrefglossterm">服务器参数文件</span></a> ，如果未找到，则搜索文本<a href="glossary.html#GUID-96DC327C-8DBE-4B23-BEA5-9207A5CCD83E"><span class="xrefglossterm">初始化参数文件</span></a> （使用<code class="codeph">SPFILE</code>或<code class="codeph">PFILE</code>参数指定<code class="codeph">STARTUP</code>会覆盖默认行为）</p>
                           </li>
                           <li>
                              <p>读取参数文件以确定初始化参数的值</p>
                           </li>
                           <li>
                              <p>根据初始化参数设置分配SGA</p>
                           </li>
                           <li>
                              <p>启动Oracle后台进程</p>
                           </li>
                           <li>
                              <p>打开<a href="glossary.html#GUID-ACC7727F-41AE-47B1-AADB-2585EE828792"><span class="xrefglossterm">警报日志</span></a>和跟踪文件，并使用有效的参数语法将所有显式参数设置写入警报日志</p>
                           </li>
                        </ol>
                        <p>在此阶段，没有数据库与实例关联。需要<code class="codeph">NOMOUNT</code>状态的方案包括数据库创建和某些备份和恢复操作。
                        </p>
                        <div class="infoboxnotealso" id="GUID-189ADDB5-1E71-4924-8371-F5B2EFB5B304__GUID-F34C4EC3-4602-4339-B055-D4D31A4E9124">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="../admin/creating-and-configuring-an-oracle-database.html#ADMIN00202" target="_blank"><span><cite>Oracle数据库管理员指南</cite></span></a> ，了解如何使用服务器参数文件管理初始化参数</p>
                        </div>
                     </div>
                  </div><a id="CNCPT1296"></a><div class="props_rev_3"><a id="GUID-8180290B-A8B5-493D-91F0-EAE677A6A319" name="GUID-8180290B-A8B5-493D-91F0-EAE677A6A319"></a><h5 id="CNCPT-GUID-8180290B-A8B5-493D-91F0-EAE677A6A319" class="sect5">如何安装数据库</h5>
                     <div>
                        <p>该实例<span class="bold">安装</span>数据库以将数据库与此实例相关联。
                        </p>
                        <p>要装入数据库，实例将获取<code class="codeph">CONTROL_FILES</code>初始化参数中指定的数据库控制文件的名称并打开文件。Oracle数据库读取控制文件以查找打开数据库时它将尝试访问的数据文件的名称和联机重做日志文件。
                        </p>
                        <p>在<a href="glossary.html#GUID-FEB61320-F0D4-404D-A25B-E9C1D61E066B"><span class="xrefglossterm">装入的数据库中</span></a> ，数据库已关闭，只能由数据库管理员访问。管理员可以在完成特定维护操作时保持数据库关闭。但是，数据库不可用于正常操作。
                        </p>
                        <p>如果Oracle数据库允许多个实例同时挂载同一个数据库，则<code class="codeph">CLUSTER_DATABASE</code>初始化参数设置可以使数据库可用于多个实例。数据库行为取决于设置：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>如果装入数据库的第一个实例的<code class="codeph">CLUSTER_DATABASE</code>为<code class="codeph">false</code> （默认值），则只有此实例可以装入数据库。
                              </p>
                           </li>
                           <li>
                              <p>如果第一个实例的<code class="codeph">CLUSTER_DATABASE</code>为<code class="codeph">true</code> ，则其他实例可以在其<code class="codeph">CLUSTER_DATABASE</code>参数设置为<code class="codeph">true</code> <code class="codeph">CLUSTER_DATABASE</code>入数据库。可以装入数据库的实例数受创建数据库时指定的预定最大值的限制。
                              </p>
                           </li>
                        </ul>
                        <div class="infoboxnotealso" id="GUID-8180290B-A8B5-493D-91F0-EAE677A6A319__GUID-F2064D33-AB34-478C-8BA9-C629D2454FD6">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><a href="../admin/starting-up-and-shutting-down.html#ADMIN11152" target="_blank"><span><cite>Oracle数据库管理员指南</cite></span></a> ，了解如何安装数据库</p>
                              </li>
                              <li>
                                 <p>有关在单个数据库中使用多个实例的详细信息<a href="../racad/administering-database-instances-and-cluster-databases.html#GUID-1A66952C-D02A-4465-9D7A-0EFEDF809F4E" target="_blank"><span><cite>，请参见“Oracle Real Application Clusters管理和部署指南”</cite></span></a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div><a id="CNCPT1300"></a><div class="props_rev_3"><a id="GUID-46EC6A61-6065-4CE8-BBDA-5A969FE54D36" name="GUID-46EC6A61-6065-4CE8-BBDA-5A969FE54D36"></a><h5 id="CNCPT-GUID-46EC6A61-6065-4CE8-BBDA-5A969FE54D36" class="sect5">如何打开数据库</h5>
                     <div>
                        <p>打开已装入的数据库使其可用于正常的数据库操作。</p>
                        <p>任何有效用户都可以连接到开放数据库并访问其信息。通常，数据库管理员打开数据库以使其可供一般使用。</p>
                        <p>打开数据库时，Oracle数据库将执行以下操作：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>在undo表空间以外的表空间中打开在线数据文件</p>
                              <p>如果在先前关闭数据库时表空间处于脱机状态，则在重新打开数据库时，表空间及其相应的数据文件将处于脱机状态。</p>
                           </li>
                           <li>
                              <p>获取撤消表空间</p>
                              <p>如果存在多个撤消表空间，则<code class="codeph">UNDO_TABLESPACE</code>初始化参数指定要使用的撤消表空间。如果未设置此参数，则选择第一个可用的撤消表空间。
                              </p>
                           </li>
                           <li>
                              <p>打开在线重做日志文件</p>
                           </li>
                        </ul>
                        <div class="infoboxnotealso" id="GUID-46EC6A61-6065-4CE8-BBDA-5A969FE54D36__GUID-2459C724-50F5-4F22-889D-12EC6FC5E095">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="q">“ <a href="logical-storage-structures.html#GUID-DBE61726-0DE6-4A85-A49B-9F5587234A87" title="每当数据库打开时，表空间都可以在线（可访问）或脱机（不可访问）。">在线和离线表空间</a> ”</span></p>
                              </li>
                              <li>
                                 <p><span class="q">“ <a href="concepts-for-database-administrators.html#GUID-BCE6455B-0E49-4835-B9AB-2BC70F673F88" title="虽然有几个问题可以阻止数据库的正常运行或影响I / O操作，但只有一些问题需要DBA干预和数据修复。">数据修复</a> ”</span></p>
                              </li>
                           </ul>
                        </div>
                     </div><a id="CNCPT1306"></a><div class="props_rev_3"><a id="GUID-D42BA45D-5213-4454-A7E5-CEEA2ED6D934" name="GUID-D42BA45D-5213-4454-A7E5-CEEA2ED6D934"></a><h6 id="CNCPT-GUID-D42BA45D-5213-4454-A7E5-CEEA2ED6D934" class="sect6">只读模式</h6>
                        <div>
                           <p>默认情况下，数据库以<span class="bold">读/写模式</span>打开。在此模式下，用户可以更改数据，在联机重做日志中生成重做。或者，您可以以<span class="bold">只读模式</span>打开，以防止用户事务修改数据。
                           </p>
                           <div class="infoboxnote" id="GUID-D42BA45D-5213-4454-A7E5-CEEA2ED6D934__GUID-5B391503-580A-4395-830E-383ED75B88C8">
                              <p class="notep1">注意：</p>
                              <p>默认情况下，物理<a href="glossary.html#GUID-728D4956-0F56-4D39-A63A-2E3FF5CCEDE4"><span class="xrefglossterm">备用数据库</span></a>以只读模式打开。
                              </p>
                           </div>
                           <p>只读模式限制数据库访问只读事务，这些事务无法写入数据文件或联机重做日志文件。但是，数据库可以执行恢复或操作以更改数据库状态而不生成重做。例如，在只读模式下：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>数据文件可以脱机和联机。但是，您无法使永久表空间脱机。</p>
                              </li>
                              <li>
                                 <p>可以恢复脱机数据文件和表空间。</p>
                              </li>
                              <li>
                                 <p>控制文件仍可用于有关数据库状态的更新。</p>
                              </li>
                              <li>
                                 <p>使用<code class="codeph">CREATE TEMPORARY TABLESPACE</code>语句创建的临时表空间是可读/写的。
                                 </p>
                              </li>
                              <li>
                                 <p>可以继续写入操作系统审计跟踪，跟踪文件和警报日志。</p>
                              </li>
                           </ul>
                           <div class="infoboxnotealso" id="GUID-D42BA45D-5213-4454-A7E5-CEEA2ED6D934__GUID-EEE8934A-94F4-46C5-AFC9-C5C47D5D734E">
                              <p class="notep1">也可以看看：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><a href="../admin/starting-up-and-shutting-down.html#ADMIN11154" target="_blank"><span><cite>Oracle数据库管理员指南</cite></span></a> ，了解如何以只读模式打开数据库</p>
                                 </li>
                                 <li>
                                    <p><a href="../sbydb/managing-oracle-data-guard-physical-standby-databases.html#SBYDB00706" target="_blank"><span><cite>Oracle Data Guard概念和管理</cite></span></a></p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                     </div><a id="CNCPT89039"></a><div class="props_rev_3"><a id="GUID-650763F3-A9E0-4E3E-9BCE-245D9E09DADF" name="GUID-650763F3-A9E0-4E3E-9BCE-245D9E09DADF"></a><h6 id="CNCPT-GUID-650763F3-A9E0-4E3E-9BCE-245D9E09DADF" class="sect6">数据库文件检查</h6>
                        <div>
                           <p>如果实例尝试打开数据库时没有任何数据文件或重做日志文件，或者文件存在但失败一致性测试，则数据库将返回错误。可能需要恢复媒体。</p>
                           <div class="infoboxnotealso" id="GUID-650763F3-A9E0-4E3E-9BCE-245D9E09DADF__GUID-18C48A2C-B56A-4BC5-9504-4BEFE967D11A">
                              <p class="notep1">也可以看看：</p>
                              <p><span class="q">“ <a href="concepts-for-database-administrators.html#GUID-DCE361D9-B486-43B4-B4FD-5722A93203F0" title="备份和恢复是保护数据库免受介质故障或用户错误导致的数据丢失所涉及的一组概念，过程和策略。通常，备份和恢复策略的目的是保护数据库免受数据丢失和重建丢失的数据。">备份和恢复</a> ”</span></p>
                           </div>
                        </div>
                     </div>
                  </div>
               </div><a id="CNCPT89040"></a><a id="CNCPT603"></a><div class="props_rev_3"><a id="GUID-ADFF9AAC-EDA9-4F3C-8AD7-156BB620E812" name="GUID-ADFF9AAC-EDA9-4F3C-8AD7-156BB620E812"></a><h4 id="CNCPT-GUID-ADFF9AAC-EDA9-4F3C-8AD7-156BB620E812" class="sect4">数据库和实例关闭概述</h4>
                  <div>
                     <p>在典型的用例中，您手动关闭数据库，使其在执行维护或其他管理任务时对用户不可用。您可以使用SQL * Plus <code class="codeph">SHUTDOWN</code>命令或企业管理器来执行这些步骤。
                     </p>
                     <p>下图显示了从打开状态到一致关闭的过程。</p>
                     <div class="figure" id="GUID-ADFF9AAC-EDA9-4F3C-8AD7-156BB620E812__BABHIDBH">
                        <p class="titleinfigure">图13-4实例和数据库关闭顺序</p><img src="img/cncpt281.gif" alt="下面是图13-4的描述" title="下面是图13-4的描述" longdesc="img_text/cncpt281.html"><br><a href="img_text/cncpt281.html">“图13-4实例和数据库关闭顺序”的说明</a></div>
                     <!-- class="figure" -->
                     <p>每当开放数据库一致关闭时，Oracle数据库会自动执行以下步骤。</p>
                     <div class="tblformal" id="GUID-ADFF9AAC-EDA9-4F3C-8AD7-156BB620E812__GUID-BF3A4620-954B-4CAF-B837-EE185E46EA4C">
                        <p class="titleintable">表13-3一致关闭的步骤</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="一致停机的步骤" border="1" summary="This table describes the phases of a database instance shutdown." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="20%" id="d69441e6173">相</th>
                                 <th align="left" valign="bottom" width="20%" id="d69441e6175">山国</th>
                                 <th align="left" valign="bottom" width="20%" id="d69441e6177">描述</th>
                                 <th align="left" valign="bottom" width="20%" id="d69441e6179">了解更多</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d69441e6183" headers="d69441e6173 ">1</td>
                                 <td align="left" valign="top" width="20%" headers="d69441e6183 d69441e6175 ">
                                    <p>数据库关闭</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d69441e6183 d69441e6177 ">
                                    <p>已装入数据库，但将关闭联机数据文件和重做日志文件。</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d69441e6183 d69441e6179 "><span class="q">“ <a href="oracle-database-instance.html#GUID-B4C89F06-EED1-448C-AA14-41DF2BD07B3A" title="数据库关闭操作隐含在数据库关闭中。操作的性质取决于数据库关闭是正常还是异常。">数据库如何关闭</a> ”</span></td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d69441e6199" headers="d69441e6173 ">2</td>
                                 <td align="left" valign="top" width="20%" headers="d69441e6199 d69441e6175 ">
                                    <p>数据库未安装</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d69441e6199 d69441e6177 ">
                                    <p>实例已启动，但不再与数据库的控制文件关联。</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d69441e6199 d69441e6179 "><span class="q">“ <a href="oracle-database-instance.html#GUID-949F8140-35AD-4BF8-AFA8-AD1F525D4CAF" title="关闭数据库后，Oracle数据库将卸载数据库以使其与实例取消关联。">如何卸载数据库</a> ”</span></td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d69441e6215" headers="d69441e6173 ">3</td>
                                 <td align="left" valign="top" width="20%" headers="d69441e6215 d69441e6175 ">
                                    <p>数据库实例关闭</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d69441e6215 d69441e6177 ">
                                    <p>数据库实例不再启动。</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d69441e6215 d69441e6179 "><span class="q">“ <a href="oracle-database-instance.html#GUID-425B8CA6-73A1-47A0-972C-2D0802A57DE5" title="数据库关闭的最后一步是关闭实例。当数据库实例关闭时，SGA停止占用内存，后台进程终止。">实例如何关闭</a> ”</span></td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>Oracle数据库不会在实例故障或<code class="codeph">SHUTDOWN ABORT</code>中执行上述所有步骤，这会立即终止实例。
                     </p>
                     <div class="infoboxnotealso" id="GUID-ADFF9AAC-EDA9-4F3C-8AD7-156BB620E812__GUID-CE4F12CF-2B00-4D57-8D93-B3F720F7DB00">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="../admin/starting-up-and-shutting-down.html#ADMIN11156" target="_blank"><span><cite>Oracle数据库管理员指南</cite></span></a> ，了解如何关闭数据库</p>
                     </div>
                  </div><a id="CNCPT89042"></a><a id="CNCPT89041"></a><div class="props_rev_3"><a id="GUID-CD115A39-2FAE-4B94-BB3E-59818AD42803" name="GUID-CD115A39-2FAE-4B94-BB3E-59818AD42803"></a><h5 id="CNCPT-GUID-CD115A39-2FAE-4B94-BB3E-59818AD42803" class="sect5">关机模式</h5>
                     <div>
                        <p>具有<code class="codeph">SYSDBA</code>或<code class="codeph">SYSOPER</code>权限的数据库管理员可以使用SQL * Plus <code class="codeph">SHUTDOWN</code>命令或企业管理器关闭数据库。<code class="codeph">SHUTDOWN</code>命令具有确定关闭行为的选项。
                        </p>
                        <p>下表总结了不同关闭模式的行为。</p>
                        <div class="tblformal" id="GUID-CD115A39-2FAE-4B94-BB3E-59818AD42803__DATABASEBEHAVIORABORTIMMEDIATETRANS-1BF3E109">
                           <p class="titleintable">表13-4数据库关闭模式</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="数据库关闭模式" width="100%" border="1" summary="This table summarizes the behavior of the ABORT, IMMEDIATE, TRANSACTIONAL, and NORMAL shutdown modes." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="20%" id="d69441e6546">数据库行为</th>
                                    <th align="left" valign="bottom" width="20%" id="d69441e6549">中止</th>
                                    <th align="left" valign="bottom" width="20%" id="d69441e6552">即时</th>
                                    <th align="left" valign="bottom" width="20%" id="d69441e6555">TRANSACTIONAL</th>
                                    <th align="left" valign="bottom" width="20%" id="d69441e6558">正常</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d69441e6563" headers="d69441e6546 ">
                                       <p>允许新的用户连接</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d69441e6563 d69441e6549 ">
                                       <p>没有</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d69441e6563 d69441e6552 ">
                                       <p>没有</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d69441e6563 d69441e6555 ">
                                       <p>没有</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d69441e6563 d69441e6558 ">
                                       <p>没有</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d69441e6579" headers="d69441e6546 ">
                                       <p>等到当前会话结束</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d69441e6579 d69441e6549 ">
                                       <p>没有</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d69441e6579 d69441e6552 ">
                                       <p>没有</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d69441e6579 d69441e6555 ">
                                       <p>没有</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d69441e6579 d69441e6558 ">
                                       <p>是</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d69441e6595" headers="d69441e6546 ">
                                       <p>等到当前交易结束</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d69441e6595 d69441e6549 ">
                                       <p>没有</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d69441e6595 d69441e6552 ">
                                       <p>没有</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d69441e6595 d69441e6555 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d69441e6595 d69441e6558 ">
                                       <p>是</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d69441e6611" headers="d69441e6546 ">
                                       <p>执行<a href="glossary.html#GUID-95DBDA37-4C57-444F-B660-D52B4A99D919"><span class="xrefglossterm">检查点</span></a>并关闭打开的文件</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d69441e6611 d69441e6549 ">
                                       <p>没有</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d69441e6611 d69441e6552 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d69441e6611 d69441e6555 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d69441e6611 d69441e6558 ">
                                       <p>是</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>可能的<code class="codeph">SHUTDOWN</code>语句是：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">关闭中止</code></p>
                              <p>此模式适用于紧急情况，例如没有其他形式的关闭成功时。这种关机模式是最快的。但是，此数据库的后续打开可能需要相当长的时间，因为必须执行实例恢复才能使数据文件保持一致。</p>
                              <p>由于<code class="codeph">SHUTDOWN</code> <code class="codeph">ABORT</code>不检查打开的数据文件，因此在数据库重新打开之前必须进行实例恢复。在数据库重新打开之前，其他关闭模式不需要实例恢复。
                              </p>
                              <div class="infoboxnote" id="GUID-CD115A39-2FAE-4B94-BB3E-59818AD42803__GUID-F7320FC6-0B56-4A15-8D8E-2FDE94ABA271">
                                 <p class="notep1">注意：</p>
                                 <p>在CDB中，在PDB上发出<code class="codeph">SHUTDOWN ABORT</code>相当于在非CDB上发出<code class="codeph">SHUTDOWN IMMEDIATE</code> 。</p>
                              </div>
                           </li>
                           <li>
                              <p><code class="codeph">立即关闭</code></p>
                              <p>此模式通常是<code class="codeph">SHUTDOWN</code> <code class="codeph">ABORT</code>旁边最快的模式。 Oracle数据库终止所有正在执行的SQL语句并断开用户连接。活动事务终止，并且回滚未提交的更改。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">关闭交易</code></p>
                              <p>此模式可防止用户启动新事务，但在关闭之前等待所有当前事务完成。此模式可能需要很长时间，具体取决于当前事务的性质。</p>
                           </li>
                           <li>
                              <p><code class="codeph">SHUTDOWN NORMAL</code></p>
                              <p>这是关机的默认模式。在关闭之前，数据库会等待所有连接的用户断开连接。</p>
                           </li>
                        </ul>
                        <div class="infoboxnotealso" id="GUID-CD115A39-2FAE-4B94-BB3E-59818AD42803__GUID-7D19C28F-5E02-4870-9E51-01C98E642208">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><a href="../admin/starting-up-and-shutting-down.html#ADMIN11156" target="_blank"><span><cite>“Oracle数据库管理员指南”</cite></span></a>了解不同的关闭模式</p>
                              </li>
                              <li>
                                 <p><a href="../sqpug/SHOW.html#SQPUG124" target="_blank"><span><cite>SQL * Plus用户指南和参考</cite></span></a>了解<code class="codeph">SHUTDOWN</code>命令</p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div><a id="CNCPT1307"></a><div class="props_rev_3"><a id="GUID-B4C89F06-EED1-448C-AA14-41DF2BD07B3A" name="GUID-B4C89F06-EED1-448C-AA14-41DF2BD07B3A"></a><h5 id="CNCPT-GUID-B4C89F06-EED1-448C-AA14-41DF2BD07B3A" class="sect5">数据库是如何关闭的</h5>
                     <div>
                        <p>数据库关闭操作隐含在数据库关闭中。操作的性质取决于数据库关闭是正常还是异常。</p>
                     </div><a id="CNCPT1391"></a><div class="props_rev_3"><a id="GUID-5C5DF42E-49FC-4F3F-8622-EBA7ABA2610B" name="GUID-5C5DF42E-49FC-4F3F-8622-EBA7ABA2610B"></a><h6 id="CNCPT-GUID-5C5DF42E-49FC-4F3F-8622-EBA7ABA2610B" class="sect6">正常关机期间数据库如何关闭</h6>
                        <div>
                           <p>当数据库作为<code class="codeph">SHUTDOWN</code>一部分以<code class="codeph">ABORT</code>以外的任何选项关闭时，Oracle数据库会将SGA中的数据写入数据文件和联机重做日志文件。
                           </p>
                           <p>之后，数据库关闭在线数据文件和在线重做日志文件。离线表空间的任何脱机数据文件已经关闭。重新打开数据库时，任何脱机的表空间都将保持脱机状态。</p>
                           <p>在此阶段，数据库已关闭，无法进行正常操作。数据库关闭后，控制文件仍保持打开状态。</p>
                        </div>
                     </div><a id="CNCPT1392"></a><div class="props_rev_3"><a id="GUID-E78B28B6-79D2-4C14-A157-5CDBF75FAB25" name="GUID-E78B28B6-79D2-4C14-A157-5CDBF75FAB25"></a><h6 id="CNCPT-GUID-E78B28B6-79D2-4C14-A157-5CDBF75FAB25" class="sect6">异常关机期间数据库如何关闭</h6>
                        <div>
                           <p>如果发生<code class="codeph">SHUTDOWN ABORT</code>或异常终止，则打开数据库的实例将立即关闭并关闭数据库。
                           </p>
                           <p>在异常关闭时，Oracle数据库不会将SGA缓冲区中的数据写入数据文件和重做日志文件。随后重新打开数据库需要实例恢复，Oracle Database会自动执行该实例。</p>
                        </div>
                     </div>
                  </div><a id="CNCPT1309"></a><div class="props_rev_3"><a id="GUID-949F8140-35AD-4BF8-AFA8-AD1F525D4CAF" name="GUID-949F8140-35AD-4BF8-AFA8-AD1F525D4CAF"></a><h5 id="CNCPT-GUID-949F8140-35AD-4BF8-AFA8-AD1F525D4CAF" class="sect5">如何卸载数据库</h5>
                     <div>
                        <p>关闭数据库后，Oracle数据库将卸载数据库以使其与实例取消关联。</p>
                        <p>卸载数据库后，Oracle数据库将关闭数据库的控制文件。此时，数据库实例仍保留在内存中。</p>
                     </div>
                  </div><a id="CNCPT1310"></a><div class="props_rev_3"><a id="GUID-425B8CA6-73A1-47A0-972C-2D0802A57DE5" name="GUID-425B8CA6-73A1-47A0-972C-2D0802A57DE5"></a><h5 id="CNCPT-GUID-425B8CA6-73A1-47A0-972C-2D0802A57DE5" class="sect5">实例如何关闭</h5>
                     <div>
                        <p>数据库关闭的最后一步是关闭实例。当数据库实例关闭时，SGA停止占用内存，后台进程终止。</p>
                        <p>在特殊情况下，数据库实例的关闭可能不会干净地发生。可能无法从内存中删除内存结构，或者可能无法终止其中一个后台进程。当存在先前实例的残余时，后续实例启动可能会失败。在这种情况下，您可以通过删除先前实例的残余然后启动新实例或通过发出<code class="codeph">SHUTDOWN ABORT</code>语句来强制启动新实例。
                        </p>
                        <p>在某些情况下，进程清理本身可能会遇到错误，这可能导致进程监视器（PMON）或实例的终止。动态初始化参数<code class="codeph">INSTANCE_ABORT_DELAY_TIME</code>指定延迟内部生成的实例故障的秒数。这种延迟让您有机会做出回应。启动延迟终止时，数据库会将消息写入<a href="glossary.html#GUID-ACC7727F-41AE-47B1-AADB-2585EE828792"><span class="xrefglossterm">警报日志</span></a> 。在某些情况下，通过允许隔离某些数据库资源，该实例可以避免终止。
                        </p>
                        <div class="infoboxnotealso" id="GUID-425B8CA6-73A1-47A0-972C-2D0802A57DE5__GUID-C890C998-2B8C-4B0A-9297-B0B19193BC41">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>有关数据库关闭的详细信息，请参见<a href="../admin/starting-up-and-shutting-down.html#ADMIN11156" target="_blank"><span><cite>“Oracle数据库管理员指南”</cite></span></a></p>
                              </li>
                              <li>
                                 <p><a href="../refrn/INSTANCE_ABORT_DELAY_TIME.html#REFRN-GUID-F15A6EC9-1F4F-4DB7-9981-FFC1F181559F" target="_blank"><span><cite>Oracle Database Reference</cite></span></a>了解有关<code class="codeph">INSTANCE_ABORT_DELAY_TIME</code>初始化参数的更多信息</p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div>
               </div>
            </div><a id="CNCPT89043"></a><div class="props_rev_3"><a id="GUID-A6959126-0ECF-40A2-880D-D74A1BFB5BC4" name="GUID-A6959126-0ECF-40A2-880D-D74A1BFB5BC4"></a><h3 id="CNCPT-GUID-A6959126-0ECF-40A2-880D-D74A1BFB5BC4" class="sect3">检查点概述</h3>
               <div>
                  <p><span class="bold">检查点</span>通常是一致的数据库关闭，实例恢复和Oracle数据库操作的关键机制。
                  </p>
                  <p>该术语具有以下相关含义：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>一种指示<span class="bold">检查点位置的</span>数据结构，它是重做流中必须开始实例恢复的<a href="glossary.html#GUID-4B14A746-A8B3-4123-A02A-3FC1C293042C"><span class="xrefglossterm">SCN</span></a></p>
                        <p>检查点位置由数据库缓冲区高速缓存中最旧的脏缓冲区确定。检查点位置充当指向重做流的指针，并存储在控制文件和每个数据文件头中。</p>
                     </li>
                     <li>
                        <p>将修改后的数据库缓冲区写入<a href="glossary.html#GUID-7913177D-8183-4CC5-8F59-816FE66DA363"><span class="xrefglossterm">数据库缓冲区缓存</span></a>到磁盘</p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-A6959126-0ECF-40A2-880D-D74A1BFB5BC4__GUID-48C4566A-75E3-4999-B1F1-BD13D74AD255">
                     <p class="notep1">也可以看看：</p>
                     <p><span class="q">“ <a href="transactions.html#GUID-A2615547-94D2-4346-B156-64C534C5E9E4" title="系统更改编号（SCN）是Oracle数据库使用的逻辑内部时间戳。">系统变更编号（SCN）</a> ”</span></p>
                  </div>
               </div><a id="CNCPT89044"></a><div class="props_rev_3"><a id="GUID-4EC2658A-9519-4188-90C6-AA79F14D85D2" name="GUID-4EC2658A-9519-4188-90C6-AA79F14D85D2"></a><h4 id="CNCPT-GUID-4EC2658A-9519-4188-90C6-AA79F14D85D2" class="sect4">检查站的目的</h4>
                  <div>
                     <p>Oracle数据库使用检查点来实现多个目标。</p>
                     <p>目标包括以下内容：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>在实例或介质发生故障的情况下，减少恢复所需的时间</p>
                        </li>
                        <li>
                           <p>确保数据库定期将缓冲区高速缓存中的脏缓冲区写入磁盘</p>
                        </li>
                        <li>
                           <p>确保数据库在一致关闭期间将所有已提交的数据写入磁盘</p>
                        </li>
                     </ul>
                  </div>
               </div><a id="CNCPT89045"></a><div class="props_rev_3"><a id="GUID-A3FAC5B6-928C-474C-9D4C-E5C5B27544E9" name="GUID-A3FAC5B6-928C-474C-9D4C-E5C5B27544E9"></a><h4 id="CNCPT-GUID-A3FAC5B6-928C-474C-9D4C-E5C5B27544E9" class="sect4">Oracle数据库启动检查点时</h4>
                  <div>
                     <p><span class="bold">检查点进程（CKPT）</span>负责将检查点写入数据文件头和控制文件。
                     </p>
                     <p>检查点发生在各种情况下。例如，Oracle数据库使用以下类型的检查点：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>线程检查点</p>
                           <p>数据库在特定目标之前将特定线程中由重做修改的所有缓冲区写入磁盘。数据库中所有实例上的线程检查点集是<span class="bold">数据库检查点</span> 。线程检查点在以下情况下发生：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>一致的数据库关闭</p>
                              </li>
                              <li>
                                 <p><code class="codeph">ALTER SYSTEM CHECKPOINT</code>语句</p>
                              </li>
                              <li>
                                 <p>在线重做日志切换</p>
                              </li>
                              <li>
                                 <p><code class="codeph">ALTER DATABASE BEGIN BACKUP</code>语句</p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p>表空间和数据文件检查点</p>
                           <p>数据库将特定目标之前由redo修改的所有缓冲区写入磁盘。表空间检查点是一组数据文件检查点，一个用于表空间中的每个数据文件。这些检查点在各种情况下发生，包括使表空间为只读或使其脱机正常，缩小数据文件或执行<code class="codeph">ALTER TABLESPACE BEGIN BACKUP</code> 。</p>
                        </li>
                        <li>
                           <p>增量检查点</p>
                           <p>增量检查点是一种线程检查点，部分旨在避免在联机重做日志交换机上写入大量块。DBW至少每三秒检查一次，以确定它是否有工作要做。当DBW写入脏缓冲区时，它会提前检查点位置，导致CKPT将检查点位置写入控制文件，但不会写入数据文件头。</p>
                        </li>
                     </ul>
                     <p>其他类型的检查点包括删除或截断模式对象时的实例和介质恢复检查点和检查点。</p>
                     <div class="infoboxnotealso" id="GUID-A3FAC5B6-928C-474C-9D4C-E5C5B27544E9__GUID-B9A9EF30-43D9-4FE9-BE67-5F47EDE1DE53">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="process-architecture.html#GUID-D3174B3E-BCCA-473F-961E-84A36FD5C372" title="检查点进程（CKPT）使用检查点信息更新控制文件和数据文件头，并向DBW发送信号以将块写入磁盘。检查点信息包括检查点位置，SCN和联机重做日志中的位置以开始恢复。">检查点流程（CKPT）</a> ”</span></p>
                           </li>
                           <li>
                              <p><a href="../racad/administering-database-instances-and-cluster-databases.html#RACAD039" target="_blank"><span><cite>“Oracle Real Application Clusters管理和部署指南”，</cite></span></a>以获取有关Oracle RAC中全局检查点的信息</p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div>
            </div><a id="CNCPT1301"></a><div class="props_rev_3"><a id="GUID-728C6BE1-5687-4DC5-B570-D2042C88F935" name="GUID-728C6BE1-5687-4DC5-B570-D2042C88F935"></a><h3 id="CNCPT-GUID-728C6BE1-5687-4DC5-B570-D2042C88F935" class="sect3">实例恢复概述</h3>
               <div>
                  <p><span class="bold">实例恢复</span>是将联机重做日志中的记录应用于数据文件以重建最近检查点之后所做更改的过程。
                  </p>
                  <p>当管理员尝试打开以前不一致关闭的数据库时，将自动进行实例恢复。</p>
               </div><a id="CNCPT89046"></a><div class="props_rev_3"><a id="GUID-43485736-3663-4E5C-AD1B-2FA6C9A98452" name="GUID-43485736-3663-4E5C-AD1B-2FA6C9A98452"></a><h4 id="CNCPT-GUID-43485736-3663-4E5C-AD1B-2FA6C9A98452" class="sect4">实例恢复的目的</h4>
                  <div>
                     <p>实例恢复可确保在实例发生故障后数据库处于一致状态。由于Oracle数据库管理数据库更改的方式，数据库的文件可能会处于不一致状态。</p>
                     <p><a href="glossary.html#GUID-68F9BFC2-703C-48FF-BE8C-236FE3BC8977"><span class="xrefglossterm">重做线程</span></a>是实例生成的所有更改的记录。单实例数据库有一个重做线程，而Oracle RAC数据库有多个重做线程，每个数据库实例一个。
                     </p>
                     <p>提交<a href="glossary.html#GUID-212D8EA1-D704-4D7B-A72D-72001965CE45"><span class="xrefglossterm">事务时</span></a> ， <a href="glossary.html#GUID-E96BC851-0B78-4250-8EAB-26EBDF4FE5A6"><span class="xrefglossterm">日志写入器进程（LGWR）</span></a>将内存中剩余的重做条目和事务SCN写入<a href="glossary.html#GUID-2A8BC112-AB70-4B06-9F85-FE975861CEE0"><span class="xrefglossterm">联机重做日志</span></a> 。但是，只要<a href="glossary.html#GUID-C27AAA54-E60B-49BC-AB04-7B3848EBAFD6"><span class="xrefglossterm">数据库</span></a>编写器<a href="glossary.html#GUID-C27AAA54-E60B-49BC-AB04-7B3848EBAFD6"><span class="xrefglossterm">（DBW）</span></a>进程最有效，它就会将修改后的数据块写入数据文件。因此，数据文件中可能暂时存在未提交的更改，而数据文件中尚不存在已提交的更改。
                     </p>
                     <p>如果打开的数据库实例因<code class="codeph">SHUTDOWN ABORT</code>语句或异常终止而失败，则可能导致以下情况：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>事务提交的数据块不会写入数据文件，只会出现在<a href="glossary.html#GUID-2A8BC112-AB70-4B06-9F85-FE975861CEE0"><span class="xrefglossterm">联机重做日志中</span></a> 。必须将这些更改重新应用于数据文件。
                           </p>
                        </li>
                        <li>
                           <p>数据文件包含实例失败时尚未提交的更改。必须回滚这些更改以确保事务一致性。</p>
                        </li>
                     </ul>
                     <p>实例恢复仅使用联机重做日志文件和当前联机数据文件来同步数据文件并确保它们是一致的。</p>
                     <div class="infoboxnotealso" id="GUID-43485736-3663-4E5C-AD1B-2FA6C9A98452__GUID-B33F5A95-2562-49DF-8829-079F6A8BA5E7">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="process-architecture.html#GUID-DC9CBDED-3978-450A-9D7A-0A94CE8FF233" title="数据库写程序进程（DBW）将数据库缓冲区的内容写入数据文件。DBW进程将数据库缓冲区高速缓存中的修改缓冲区写入磁盘。">数据库写程序进程（DBW）</a> ”</span>和<span class="q">“ <a href="memory-architecture.html#GUID-4FF66585-E469-4631-9225-29D75594CD14" title="数据库缓冲区高速缓存（也称为缓冲区高速缓存）是存储从数据文件读取的数据块副本的存储区。">数据库缓冲区高速缓存</a> ”</span></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="data-concurrency-and-consistency.html#GUID-7AD41DFA-04E5-4738-B744-C4407170411C" title="在单用户数据库中，用户可以修改数据，而无需考虑同时修改相同数据的其他用户。但是，在多用户数据库中，多个并发事务中的语句可能会更新相同的数据。同时执行的事务必须产生有意义且一致的结果">数据并发和一致性简介</a> ”</span></p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="CNCPT89047"></a><div class="props_rev_3"><a id="GUID-6F20EBD4-CD7A-41BA-823B-BB3B25C7C99E" name="GUID-6F20EBD4-CD7A-41BA-823B-BB3B25C7C99E"></a><h4 id="CNCPT-GUID-6F20EBD4-CD7A-41BA-823B-BB3B25C7C99E" class="sect4">Oracle数据库执行实例恢复时</h4>
                  <div>
                     <p>是否需要实例恢复取决于重做线程的状态。</p>
                     <p>当数据库实例以读/写模式打开时，控制文件中的重做线程被标记为打开，并且在实例一致关闭时标记为已关闭。如果重做线程在控制文件中标记为打开，但没有实时实例保持线程对应于这些线程的队列，则数据库需要实例恢复。</p>
                     <p>Oracle数据库在以下情况下自动执行实例恢复：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>在单实例数据库或Oracle RAC数据库的所有实例发生故障后，数据库首次打开。这种形式的实例恢复也称为<span class="bold">崩溃恢复</span> 。Oracle数据库一起恢复已终止实例的联机重做线程。
                           </p>
                        </li>
                        <li>
                           <p>Oracle RAC数据库的部分但并非所有实例都会失败。实例恢复由配置中的幸存实例自动执行。</p>
                        </li>
                     </ul>
                     <p>SMON后台进程执行实例恢复，自动应用在线重做。无需用户干预。</p>
                     <div class="infoboxnotealso" id="GUID-6F20EBD4-CD7A-41BA-823B-BB3B25C7C99E__GUID-A55490FB-C30D-4010-A242-45275942D9C6">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="process-architecture.html#GUID-21393D94-CA2D-4551-BD20-28BEFDC98631" title="系统监视器进程（SMON）负责各种系统级清理任务。">系统监控过程（SMON）</a> ”</span></p>
                           </li>
                           <li>
                              <p><a href="../racad/managing-backup-and-recovery.html#RACAD063" target="_blank"><span><cite>“Oracle Real Application Clusters管理和部署指南”</cite></span></a>了解Oracle RAC数据库中的实例恢复</p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="CNCPT89049"></a><a id="CNCPT89048"></a><div class="props_rev_3"><a id="GUID-19F515DA-AA77-4138-853B-1C41A759D76E" name="GUID-19F515DA-AA77-4138-853B-1C41A759D76E"></a><h4 id="CNCPT-GUID-19F515DA-AA77-4138-853B-1C41A759D76E" class="sect4">检查点对实例恢复的重要性</h4>
                  <div>
                     <p>实例恢复使用检查点来确定必须对数据文件应用哪些更改。检查点位置保证SCN <span class="italic">低于</span>检查点SCN的每个已提交更改都保存到数据文件中。
                     </p>
                     <p>下图描绘了联机重做日志中的重做线程。</p>
                     <div class="figure" id="GUID-19F515DA-AA77-4138-853B-1C41A759D76E__BABFHDCH">
                        <p class="titleinfigure">图13-5在线重做日志中的检查点位置</p><img src="img/cncpt282.gif" alt="下面是图13-5的描述" title="下面是图13-5的描述" longdesc="img_text/cncpt282.html"><br><a href="img_text/cncpt282.html">“图13-5在线重做日志中的检查点位置”的说明</a></div>
                     <!-- class="figure" -->
                     <p>在实例恢复期间，数据库必须应用检查点位置和重做线程结束之间发生的更改。<a href="oracle-database-instance.html#GUID-19F515DA-AA77-4138-853B-1C41A759D76E__BABFHDCH">如图13-5</a>所示，某些更改可能已经写入数据文件。但是，只有SCN低于检查点位置的更改才能<span class="italic">保证</span>在磁盘上。
                     </p>
                     <div class="infoboxnotealso" id="GUID-19F515DA-AA77-4138-853B-1C41A759D76E__GUID-ECB531A3-AB4B-43A5-967A-985793D2F079">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="../tgdba/instance-tuning-using-performance-views.html#GUID-E281EB31-5762-4945-9497-BBB923A6FF50" target="_blank"><span><cite>Oracle数据库性能调优指南</cite></span></a> ，了解如何限制实例恢复时间</p>
                     </div>
                  </div>
               </div><a id="CNCPT89051"></a><a id="CNCPT89050"></a><div class="props_rev_3"><a id="GUID-EC07F1A7-EAB6-4B56-8065-CDDEA6969D1E" name="GUID-EC07F1A7-EAB6-4B56-8065-CDDEA6969D1E"></a><h4 id="CNCPT-GUID-EC07F1A7-EAB6-4B56-8065-CDDEA6969D1E" class="sect4">实例恢复阶段</h4>
                  <div>
                     <p>实例恢复的第一阶段称为<strong class="term">缓存恢复</strong>或前<strong class="term">滚</strong> ，并将在线重做日志中记录的所有更改重新应用于数据文件。
                     </p>
                     <p>由于联机重做日志包含撤消数据，因此前滚也会重新生成相应的撤消段。前滚通过必要的在线重做日志文件继续进行，以便及时推进数据库。前滚后，数据块包含联机重做日志文件中记录的所有已提交更改。这些文件还可能包含未提交的更改，这些更改在发生故障之前保存到数据文件中，或者记录在联机重做日志中并在高速缓存恢复期间引入。</p>
                     <p>前滚后，任何未提交的更改都必须撤消。Oracle数据库使用检查点位置，这可确保SCN低于检查点SCN的每个已提交更改都保存在磁盘上。Oracle数据库应用撤消块来回滚在故障之前写入或在缓存恢复期间引入的数据块中未提交的更改。此阶段称为<strong class="term">回滚</strong>或<a href="glossary.html#GUID-C71AA6BE-1272-4B2C-BEDD-1A1F5720046E"><span class="xrefglossterm">事务恢复</span></a> 。
                     </p>
                     <p>下图说明了前滚和后滚，从数据库实例故障中恢复所需的两个步骤。</p>
                     <div class="figure" id="GUID-EC07F1A7-EAB6-4B56-8065-CDDEA6969D1E__BABBBFFG">
                        <p class="titleinfigure">图13-6基本实例恢复步骤：前滚和后退</p><img src="img/cncpt196.gif" alt="下面是图13-6的描述" title="下面是图13-6的描述" longdesc="img_text/cncpt196.html"><br><a href="img_text/cncpt196.html">“图13-6基本实例恢复步骤：前滚和后退”的说明</a></div>
                     <!-- class="figure" -->
                     <p>Oracle数据库可以根据需要同时回滚多个事务。在失败时处于活动状态的所有事务都标记为已终止。新事务可以自行回滚各个块以获取所需数据，而不是等待SMON进程回滚已终止的事务。</p>
                     <div class="infoboxnotealso" id="GUID-EC07F1A7-EAB6-4B56-8065-CDDEA6969D1E__GUID-0CC37987-D7A1-4D41-8FCC-A8D89B39D50D">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="logical-storage-structures.html#GUID-6E206D3A-E0E7-4B23-9C41-516FB35BC3FE" title="Oracle数据库维护事务操作的记录，统称为撤消数据。">撤消细分</a> ”</span>以了解有关撤消数据的更多信息</p>
                           </li>
                           <li>
                              <p><a href="../tgdba/instance-tuning-using-performance-views.html#GUID-75455F43-DE5E-456C-BBC7-A28A782EE9D9" target="_blank"><span><cite>Oracle数据库性能调优指南，</cite></span></a>用于讨论实例恢复机制和调优</p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div>
            </div><a id="CNCPT1290"></a><div class="props_rev_3"><a id="GUID-BB6ADD85-55FD-42C4-A847-80F0BACDE790" name="GUID-BB6ADD85-55FD-42C4-A847-80F0BACDE790"></a><h3 id="CNCPT-GUID-BB6ADD85-55FD-42C4-A847-80F0BACDE790" class="sect3">参数文件概述</h3>
               <div>
                  <p>要启动数据库实例，Oracle数据库必须读取建议的<strong class="term">服务器参数文件</strong>或<strong class="term">文本初始化参数文件</strong> （这是遗留实现）。这些文件包含配置参数列表。
                  </p>
                  <p>要手动创建数据库，必须使用参数文件启动实例，然后发出<code class="codeph">CREATE DATABASE</code>语句。因此，即使数据库本身不存在，实例和参数文件也可以存在。
                  </p>
               </div><a id="CNCPT89052"></a><div class="props_rev_3"><a id="GUID-901E7F62-4D36-4478-879E-8D9A9C6DE5E7" name="GUID-901E7F62-4D36-4478-879E-8D9A9C6DE5E7"></a><h4 id="CNCPT-GUID-901E7F62-4D36-4478-879E-8D9A9C6DE5E7" class="sect4">初始化参数</h4>
                  <div>
                     <p><span class="bold">初始化参数</span>是影响实例基本操作的配置参数。该实例在启动时从文件中读取初始化参数。
                     </p>
                     <p>Oracle Database提供了许多初始化参数，以优化其在不同环境中的操作。只有少数这些参数必须明确设置，因为默认值通常是足够的。</p>
                  </div><a id="CNCPT89053"></a><div class="props_rev_3"><a id="GUID-269000AB-F115-4137-BF40-64CFE029D747" name="GUID-269000AB-F115-4137-BF40-64CFE029D747"></a><h5 id="CNCPT-GUID-269000AB-F115-4137-BF40-64CFE029D747" class="sect5">初始化参数的功能组</h5>
                     <div>
                        <p>初始化参数属于不同的功能组。</p>
                        <p>大多数初始化参数属于以下组之一：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>命名实体（如文件或目录）的参数</p>
                           </li>
                           <li>
                              <p>为进程，数据库资源或数据库本身设置限制的参数</p>
                           </li>
                           <li>
                              <p>影响容量的参数，例如SGA的大小（这些参数称为<span class="bold">变量参数</span> ）</p>
                           </li>
                        </ul>
                        <p>变量参数对数据库管理员特别重要，因为他们可以使用这些参数来提高数据库性能。</p>
                     </div>
                  </div><a id="CNCPT89054"></a><div class="props_rev_3"><a id="GUID-99ACD9FE-74A0-4AC3-BD5E-C7EE76C33268" name="GUID-99ACD9FE-74A0-4AC3-BD5E-C7EE76C33268"></a><h5 id="CNCPT-GUID-99ACD9FE-74A0-4AC3-BD5E-C7EE76C33268" class="sect5">基本和高级初始化参数</h5>
                     <div>
                        <p>初始化参数分为两组：基本和高级。</p>
                        <p>通常，您必须仅设置和调整大约30个基本参数以获得合理的性能。基本参数设置特征，例如数据库名称，控制文件的位置，数据库块大小和撤消表空间。</p>
                        <p>在极少数情况下，可能需要修改高级参数才能获得最佳性能。高级参数使专家DBA能够调整Oracle数据库的行为以满足独特的要求。</p>
                        <p>Oracle数据库提供随数据库软件提供的初始化初始化参数文件中的值，或者由Database Configuration Assistant为您创建的值。您可以编辑这些Oracle提供的初始化参数并添加其他参数，具体取决于您的配置以及计划如何调整数据库。对于参数文件中未包含的相关初始化参数，Oracle数据库提供默认值。</p>
                        <div class="infoboxnotealso" id="GUID-99ACD9FE-74A0-4AC3-BD5E-C7EE76C33268__GUID-AB3442A0-995D-4A5B-80CF-AF7B39311774">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p> <span class="q">“ <a href="concepts-for-database-administrators.html#GUID-87ACF317-FEBC-418C-9BE6-253F2C43F482" title="Oracle提供了多种工具来简化安装和配置Oracle数据库软件的任务。">数据库安装和配置工具</a> ”</span></p>
                              </li>
                              <li>
                                 <p><a href="../admin/creating-and-configuring-an-oracle-database.html#ADMIN12541" target="_blank"><span><cite>Oracle数据库管理员指南</cite></span></a> ，了解如何指定初始化参数</p>
                              </li>
                              <li>
                                 <p><a href="../refrn/initialization-parameters.html#REFRN001" target="_blank"><span><cite>Oracle Database Reference，</cite></span></a>用于解释初始化参数的类型</p>
                              </li>
                              <li>
                                 <p>有关<code class="codeph">V$PARAMETER</code>和<a href="../sqpug/SET-system-variable-summary.html#SQPUG123" target="_blank"><span><cite>SQL * Plus用户指南和</cite></span></a> <code class="codeph">SHOW PARAMETER</code>语法<a href="../sqpug/SET-system-variable-summary.html#SQPUG123" target="_blank"><span><cite>参考的</cite></span></a> <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/cncpt&amp;id=REFRN30176" target="_blank"><span><cite>Oracle Database Reference</cite></span></a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div>
               </div><a id="CNCPT89055"></a><div class="props_rev_3"><a id="GUID-8A6C47D3-0A17-40B7-992D-798A28BF3AF8" name="GUID-8A6C47D3-0A17-40B7-992D-798A28BF3AF8"></a><h4 id="CNCPT-GUID-8A6C47D3-0A17-40B7-992D-798A28BF3AF8" class="sect4">服务器参数文件</h4>
                  <div>
                     <p><strong class="term">服务器参数文件</strong>是初始化参数的存储库。
                     </p>
                     <p>服务器参数文件具有以下主要特征：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>只有Oracle数据库读取和写入服务器参数文件。</p>
                        </li>
                        <li>
                           <p>数据库只存在一个服务器参数文件。该文件必须驻留在数据库主机上。</p>
                        </li>
                        <li>
                           <p>服务器参数文件是二进制文件，无法通过文本编辑器进行修改。</p>
                        </li>
                        <li>
                           <p>存储在服务器参数文件中的初始化参数是持久的。在数据库实例运行时对参数所做的任何更改都可以在实例关闭和启动时保持不变。</p>
                        </li>
                     </ul>
                     <p>服务器参数文件消除了为客户端应用程序维护多个文本初始化参数文件的需要。最初使用<code class="codeph">CREATE SPFILE</code>语句从文本初始化参数文件构建服务器参数文件。它也可以由Database Configuration Assistant直接创建。
                     </p>
                     <div class="infoboxnotealso" id="GUID-8A6C47D3-0A17-40B7-992D-798A28BF3AF8__GUID-B4F4B1C6-9EFF-4569-90A4-AC3143A5C7D1">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="../admin/creating-and-configuring-an-oracle-database.html#ADMIN11115" target="_blank"><span><cite>Oracle数据库管理员指南</cite></span></a> ，了解有关服务器参数文件的更多信息</p>
                           </li>
                           <li>
                              <p><a href="../sqlrf/CREATE-SPFILE.html#SQLRF01315" target="_blank"><span><cite>Oracle Database SQL语言参考</cite></span></a> ，了解<code class="codeph">CREATE SPFILE</code></p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="CNCPT89057"></a><a id="CNCPT89056"></a><div class="props_rev_3"><a id="GUID-2F760754-174C-4A30-800C-8A147561B64C" name="GUID-2F760754-174C-4A30-800C-8A147561B64C"></a><h4 id="CNCPT-GUID-2F760754-174C-4A30-800C-8A147561B64C" class="sect4">文本初始化参数文件</h4>
                  <div>
                     <p><span class="bold">文本初始化参数文件</span>是包含初始化参数列表的文本文件。
                     </p>
                     <p>这种类型的参数文件是参数文件的遗留实现，具有以下主要特征：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>启动或关闭数据库时，文本初始化参数文件必须与连接到数据库的客户端应用程序驻留在同一主机上。</p>
                        </li>
                        <li>
                           <p>文本初始化参数文件是基于文本的，而不是二进制的。</p>
                        </li>
                        <li>
                           <p>Oracle数据库可以读取但不能写入文本初始化参数文件。要更改参数值，必须使用文本编辑器手动更改文件。</p>
                        </li>
                        <li>
                           <p><code class="codeph">ALTER SYSTEM</code>对初始化参数值的<code class="codeph">ALTER SYSTEM</code>仅对当前实例有效。您必须手动更新文本初始化参数文件并重新启动实例才能知道更改。
                           </p>
                        </li>
                     </ul>
                     <p>文本初始化参数文件包含一系列<code class="codeph">key=value</code>对，每行一个。例如，初始化参数文件的一部分可能如下所示：</p><pre class="pre codeblock"><code>db_name = sample control_files = / disk1 / oradata / sample_cf.dbf db_block_size = 8192 open_cursors = 52 undo_management = auto shared_pool_size = 280M pga_aggregate_target = 29M。。。
</code></pre><p>为了说明文本参数文件可以创建的可管理性问题，假设您使用计算机<code class="codeph">clienta</code>和<code class="codeph">clientb</code>并且必须能够在任一计算机上使用SQL * Plus启动数据库。在这种情况下，必须存在两个单独的文本初始化参数文件，每个计算机一个， <a href="oracle-database-instance.html#GUID-2F760754-174C-4A30-800C-8A147561B64C__BABEEAJB">如图13-7</a>所示。服务器参数文件解决了参数文件激增的问题。
                     </p>
                     <div class="figure" id="GUID-2F760754-174C-4A30-800C-8A147561B64C__BABEEAJB">
                        <p class="titleinfigure">图13-7多个初始化参数文件</p><img src="img/cncpt247.gif" alt="下面是图13-7的描述" title="下面是图13-7的描述" longdesc="img_text/cncpt247.html"><br><a href="img_text/cncpt247.html">“图13-7多个初始化参数文件”的说明</a></div>
                     <!-- class="figure" -->
                     <div class="infoboxnotealso" id="GUID-2F760754-174C-4A30-800C-8A147561B64C__GUID-C5B82CBC-CA52-4F61-ADD8-CD6AB1695FA1">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="../admin/creating-and-configuring-an-oracle-database.html#ADMIN11099" target="_blank"><span><cite>Oracle数据库管理员指南</cite></span></a> ，了解有关文本初始化参数文件的更多信息</p>
                           </li>
                           <li>
                              <p><a href="../sqlrf/CREATE-PFILE.html#SQLRF01308" target="_blank"><span><cite>Oracle Database SQL语言参考</cite></span></a> ，了解<code class="codeph">CREATE PFILE</code></p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="CNCPT89058"></a><a id="CNCPT1292"></a><div class="props_rev_3"><a id="GUID-2D1DC65D-42D8-41FD-925F-850D0D57A862" name="GUID-2D1DC65D-42D8-41FD-925F-850D0D57A862"></a><h4 id="CNCPT-GUID-2D1DC65D-42D8-41FD-925F-850D0D57A862" class="sect4">初始化参数值的修改</h4>
                  <div>
                     <p>您可以调整初始化参数以修改数据库的行为。将参数分类为<span class="bold">静态</span>或<span class="bold">动态</span>决定了它们的修改方式。
                     </p>
                     <p>下表总结了这些差异。</p>
                     <div class="tblformal" id="GUID-2D1DC65D-42D8-41FD-925F-850D0D57A862__STATICANDDYNAMICINITIALIZATIONPARAM-1BF6912F">
                        <p class="titleintable">表13-5静态和动态初始化参数</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="静态和动态初始化参数" width="100%" border="1" summary="This table summarizes the differences between static and dynamic initialization parameters." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="20%" id="d69441e12723">特性</th>
                                 <th align="left" valign="bottom" width="20%" id="d69441e12726">静态的</th>
                                 <th align="left" valign="bottom" width="20%" id="d69441e12729">动态</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d69441e12734" headers="d69441e12723 ">
                                    <p>需要修改参数文件（文本或服务器）</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d69441e12734 d69441e12726 ">
                                    <p>是</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d69441e12734 d69441e12729 ">
                                    <p>没有</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d69441e12744" headers="d69441e12723 ">
                                    <p>在设置生效之前需要重新启动数据库实例</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d69441e12744 d69441e12726 ">
                                    <p>是</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d69441e12744 d69441e12729 ">
                                    <p>没有</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d69441e12754" headers="d69441e12723 ">
                                    <p>在<a href="../refrn/changing-parameter-values-in-a-parameter-file.html#REFRN00102" target="_blank"><span><cite>Oracle Database Reference</cite></span></a>初始化参数条目中描述为“可修改”</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d69441e12754 d69441e12726 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d69441e12754 d69441e12729 ">
                                    <p>是</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d69441e12770" headers="d69441e12723 ">
                                    <p>仅可以对数据库或实例进行修改</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d69441e12770 d69441e12726 ">
                                    <p>是</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d69441e12770 d69441e12729 ">
                                    <p>没有</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>静态参数包括<code class="codeph">DB_BLOCK_SIZE</code> ， <code class="codeph">DB_NAME</code>和<code class="codeph">COMPATIBLE</code> 。动态参数分组为<span class="bold">会话级参数</span> （仅影响当前用户会话）和<span class="bold">系统级参数</span> （影响数据库和所有会话）。例如， <code class="codeph">MEMORY_TARGET</code>是系统级参数，而<code class="codeph">NLS_DATE_FORMAT</code>是会话级参数。
                     </p>
                     <p>参数更改的<span class="bold">范围</span>取决于更改何时生效。使用服务器参数文件启动实例时，可以使用<code class="codeph">ALTER SYSTEM SET</code>语句更改系统级参数的值，如下所示：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">SCOPE = MEMORY</code></p>
                           <p>更改仅适用于数据库实例。如果关闭并重新启动数据库，则更改将不会保留。</p>
                        </li>
                        <li>
                           <p><code class="codeph">SCOPE = SPFILE</code></p>
                           <p>更改适用于服务器参数文件，但不影响当前实例。因此，在重新启动实例之前，更改不会生效。</p>
                           <div class="infoboxnote" id="GUID-2D1DC65D-42D8-41FD-925F-850D0D57A862__GUID-C8FFD72C-2E6A-46B1-95DA-A2F88AE6AE51">
                              <p class="notep1">注意：</p>
                              <p>更改<a href="../refrn/changing-parameter-values-in-a-parameter-file.html#REFRN00102" target="_blank"><span><cite>Oracle Database Reference中</cite></span></a>描述为不可修改的参数值时，必须指定<code class="codeph">SPFILE</code> 。
                              </p>
                           </div>
                        </li>
                        <li>
                           <p><code class="codeph">SCOPE = BOTH</code></p>
                           <p>Oracle数据库将更改写入内存和服务器参数文件。这是数据库使用服务器参数文件时的默认范围。</p>
                        </li>
                     </ul>
                     <p>数据库将新值和初始化参数的旧值打印到警报日志中。作为预防措施，数据库验证基本参数的更改，以防止将无效值写入服务器参数文件。</p>
                     <div class="infoboxnotealso" id="GUID-2D1DC65D-42D8-41FD-925F-850D0D57A862__GUID-B4866C50-24CB-480D-9C58-9FD32822D2BB">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p> <span class="q">“ <a href="concepts-for-database-developers.html#GUID-FD06164D-2938-497D-B26D-D7603D08B3AD" title="区域设置是运行系统或程序的语言和文化环境。NLS参数确定客户端和数据库上的特定于语言环境的行为。">特定于区域设置</a> ”</span></p>
                           </li>
                           <li>
                              <p><a href="../admin/creating-and-configuring-an-oracle-database.html#ADMIN11119" target="_blank"><span><cite>Oracle数据库管理员指南</cite></span></a> ，了解如何更改初始化参数设置</p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/cncpt&amp;id=REFRN001" target="_blank"><span><cite>Oracle Database Reference，</cite></span></a>用于描述所有初始化参数</p>
                           </li>
                           <li>
                              <p>用于<code class="codeph">ALTER SYSTEM</code>语法和语义的<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/cncpt&amp;id=SQLRF00902" target="_blank"><span><cite>Oracle数据库SQL语言参考</cite></span></a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div>
            </div><a id="CNCPT1912"></a><div class="props_rev_3"><a id="GUID-E329D228-F334-4506-84C1-EC030032C228" name="GUID-E329D228-F334-4506-84C1-EC030032C228"></a><h3 id="CNCPT-GUID-E329D228-F334-4506-84C1-EC030032C228" class="sect3">诊断文件概述</h3>
               <div>
                  <p>Oracle数据库包括用于预防，检测，诊断和解决数据库问题的<span class="bold">故障诊断基础结构</span> 。问题包括严重错误，例如代码错误，元数据损坏和客户数据损坏。
                  </p>
                  <p>高级故障诊断基础架构的目标如下：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>主动发现问题</p>
                     </li>
                     <li>
                        <p>检测到问题后限制损坏和中断</p>
                     </li>
                     <li>
                        <p>减少问题诊断和解决时间</p>
                     </li>
                     <li>
                        <p>通过启用跟踪文件进行分区来提高可管理性，允许用户定义每个部件的大小和要保留的最大件数，并在达到用户指定的磁盘空间限制后禁用跟踪</p>
                     </li>
                     <li>
                        <p>简化客户与Oracle支持的互动</p>
                     </li>
                  </ul>
                  <p>多租户容器数据库（CDB）和非CDB具有架构差异。除非另有说明，否则本节假定非CDB的体系结构。</p>
                  <div class="infoboxnotealso" id="GUID-E329D228-F334-4506-84C1-EC030032C228__GUID-99A5246A-F7A4-47C5-A1AC-7329E9DBCA98">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/cncpt&amp;id=ADMIN13884" target="_blank"><span><cite>Oracle数据库管理员指南</cite></span></a> ，了解如何管理CDB中的诊断文件</p>
                  </div>
               </div><a id="CNCPT1913"></a><div class="props_rev_3"><a id="GUID-8E4BC033-4704-4FF5-A459-0E1EBF2D35B8" name="GUID-8E4BC033-4704-4FF5-A459-0E1EBF2D35B8"></a><h4 id="CNCPT-GUID-8E4BC033-4704-4FF5-A459-0E1EBF2D35B8" class="sect4">自动诊断存储库</h4>
                  <div>
                     <p><span class="bold">自动诊断存储库（ADR）</span>是一个基于文件的存储库，用于存储数据库诊断数据，如跟踪文件，警报日志，DDL日志和Health Monitor报告。
                     </p>
                     <p>ADR的主要特征包括：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>统一目录结构</p>
                        </li>
                        <li>
                           <p>一致的诊断数据格式</p>
                        </li>
                        <li>
                           <p>统一工具集</p>
                        </li>
                     </ul>
                     <p>上述特性使客户和Oracle支持人员能够跨多个Oracle实例，组件和产品关联和分析诊断数据。</p>
                     <p>ADR位于数据库<span class="italic">之外</span> ，这使Oracle数据库能够在物理数据库不可用时访问和管理ADR。数据库实例可以在创建数据库之前创建ADR。
                     </p>
                  </div><a id="CNCPT89059"></a><div class="props_rev_3"><a id="GUID-EF16D3AE-EE25-4396-B33A-C3002308A7DD" name="GUID-EF16D3AE-EE25-4396-B33A-C3002308A7DD"></a><h5 id="CNCPT-GUID-EF16D3AE-EE25-4396-B33A-C3002308A7DD" class="sect5">问题和事故</h5>
                     <div>
                        <p>ADR主动跟踪<span class="bold">问题</span> ，这些<span class="bold">问题</span>是数据库中的关键错误。
                        </p>
                        <p>严重错误表现为内部错误，例如<code class="codeph">ORA-600</code>或其他严重错误。每个问题都有一个<span class="bold">问题键</span> ，它是描述问题的文本字符串。
                        </p>
                        <p>当多次出现问题时，ADR会为每次出现创建带时间戳的<span class="bold">事件</span> 。事件由数字<span class="bold">事件ID</span>唯一标识。发生事件时，ADR会向企业管理器发送<span class="bold">事件警报</span> 。诊断和解决严重错误通常始于事件警报。
                        </p>
                        <p>由于问题可能在短时间内产生许多事件，因此ADR会在达到某些阈值后对事件生成应用洪水控制。<span class="bold">洪水控制事件会</span>生成警报日志条目，但不会生成事件转储。通过这种方式，ADR会通知您正在发生严重错误，而不会使系统过载诊断数据。
                        </p>
                        <div class="infoboxnotealso" id="GUID-EF16D3AE-EE25-4396-B33A-C3002308A7DD__GUID-3F7EFFFD-5C0F-4095-BCEE-762670BE1343">
                           <p class="notep1">也可以看看：</p>
                           <p>有关故障可诊断性基础结构的详细信息，请参见<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/cncpt&amp;id=ADMIN11257" target="_blank"><span><cite>“Oracle数据库管理员指南”</cite></span></a></p>
                        </div>
                     </div>
                  </div><a id="CNCPT89061"></a><a id="CNCPT89062"></a><a id="CNCPT89060"></a><div class="props_rev_3"><a id="GUID-C1510B39-9583-4B97-8E69-8A5B7EB7B356" name="GUID-C1510B39-9583-4B97-8E69-8A5B7EB7B356"></a><h5 id="CNCPT-GUID-C1510B39-9583-4B97-8E69-8A5B7EB7B356" class="sect5">ADR结构</h5>
                     <div>
                        <p><span class="bold">ADR基础</span>是ADR根目录。
                        </p>
                        <p>ADR基础可以包含多个ADR <a href="glossary.html#GUID-89658C05-F8DE-4DEC-9F79-E28B229C87CC"><span class="xrefglossterm">主</span></a>目录，其中每个<a href="glossary.html#GUID-89658C05-F8DE-4DEC-9F79-E28B229C87CC"><span class="xrefglossterm">ADR主</span></a>目录是所有诊断数据跟踪，转储，警报日志等的根目录，用于Oracle产品或组件的实例。例如，在具有共享存储和Oracle ASM的Oracle RAC环境中，每个数据库实例和每个Oracle ASM实例都有自己的ADR主目录。
                        </p>
                        <p><a href="oracle-database-instance.html#GUID-C1510B39-9583-4B97-8E69-8A5B7EB7B356__BABBCEEE">图13-8</a>说明了数据库实例的ADR目录层次结构。其他Oracle产品或组件（如Oracle ASM或Oracle Net Services）的其他ADR主目录可以存在于此层次结构中，位于相同的ADR基础之下。
                        </p>
                        <div class="figure" id="GUID-C1510B39-9583-4B97-8E69-8A5B7EB7B356__BABBCEEE">
                           <p class="titleinfigure">图13-8 Oracle数据库实例的ADR目录结构</p><img src="img/admin077.gif" alt="下面是图13-8的描述" title="下面是图13-8的描述" longdesc="img_text/admin077.html"><br><a href="img_text/admin077.html">“图13-8 Oracle数据库实例的ADR目录结构”的说明</a></div>
                        <!-- class="figure" -->
                        <p>如以下Linux示例所示， <span class="italic">在</span>创建数据库<span class="italic">之前</span>启动具有唯一SID和数据库名称的实例时，Oracle数据库默认情况下会将ADR创建为主机文件系统中的目录结构。SID和数据库名称构成ADR Home中文件的路径名的一部分。
                        </p>
                        <div class="example" id="GUID-C1510B39-9583-4B97-8E69-8A5B7EB7B356__BABGCIDC">
                           <p class="titleinexample">例13-1创建ADR</p><pre class="pre codeblock"><code>％setenv ORACLE_SID osi％echo“DB_NAME = dbn”&gt; init.ora％sqlplus / as sysdba。。。连接到空闲实例。SQL&gt; STARTUP NOMOUNT PFILE =“./ init.ora”ORACLE实例已启动。系统全局总面积146472960字节固定大小1317424字节可变大小92276176字节数据库缓冲区50331648字节重做缓冲区2547712字节SQL&gt; COL名称格式a21 SQL&gt; COL值格式a60 SQL&gt; SELECT NAME，VALUE FROM V $ DIAG_INFO; NAME VALUE --------------------- --------------------------- ----------------------------- Diag Enabled TRUE ADR Base / d1 / 3910926111 / oracle / log ADR Home / d1 / 3910926111 / oracle / log / diag / rdbms / dbn / osi Diag Trace / d1 / 3910926111 / oracle / log / diag / rdbms / dbn / osi / trace Diag Alert / d1 / 3910926111 / oracle / log / diag / rdbms / dbn / osi / alert Diag Incident / d1 / 3910926111 / oracle / log / diag / rdbms / dbn / osi / incident Diag Cdump / d1 / 3910926111 / oracle / log / diag / rdbms / dbn / osi / cdump Health Monitor / d1 / 3910926111 / oracle / log / diag / rdbms / dbn / osi / hm默认跟踪文件/ d1 / 3910926111 / oracle / log ... osi / trace / osi_ora_6825.trc活动问题计数0活动事件计数0</code></pre></div>
                        <!-- class="example" -->
                     </div>
                  </div>
               </div><a id="CNCPT89063"></a><div class="props_rev_3"><a id="GUID-01C37B10-EB2D-454F-A211-8B159B429DBC" name="GUID-01C37B10-EB2D-454F-A211-8B159B429DBC"></a><h4 id="CNCPT-GUID-01C37B10-EB2D-454F-A211-8B159B429DBC" class="sect4">警报日志</h4>
                  <div>
                     <p>每个数据库都有一个<strong class="term">警报日志</strong> ，这是一个XML文件，包含数据库消息和错误的时间顺序日志。
                     </p>
                     <p>警报日志内容包括以下内容：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>所有内部错误（ <code class="codeph">ORA-600</code> ），块损坏错误（ <code class="codeph">ORA-1578</code> ）和<a href="glossary.html#GUID-E33D1853-7F99-4FDD-9CC7-D6308E943D61"><span class="xrefglossterm">死锁</span></a>错误（ <code class="codeph">ORA-60</code> ）</p>
                        </li>
                        <li>
                           <p>SQL * Plus等管理操作命令<code class="codeph">STARTUP</code> ， <code class="codeph">SHUTDOWN</code> ， <code class="codeph">ARCHIVE LOG</code>和<code class="codeph">RECOVER</code></p>
                        </li>
                        <li>
                           <p>与共享服务器和调度程序进程的功能相关的若干消息和错误</p>
                        </li>
                        <li>
                           <p>自动刷新物化视图期间的错误</p>
                        </li>
                     </ul>
                     <p>Oracle数据库使用警报日志替代在企业管理器GUI中显示信息。如果管理操作成功，则Oracle数据库会将消息作为“已完成”和时间戳写入警报日志。</p>
                     <p>当您第一次启动数据库实例时，即使尚未创建任何数据库，Oracle数据库也会在<a href="oracle-database-instance.html#GUID-C1510B39-9583-4B97-8E69-8A5B7EB7B356__BABBCEEE">图13-8</a>所示的<code class="codeph">alert</code>子目录中创建警报日志。该文件采用XML格式。trace子目录包含纯文本警报日志，其中一部分显示在以下示例中：</p><pre class="pre codeblock"><code>Fri Nov 02 12:41:58 2014 SMP系统发现。 enable_NUMA_support已禁用（FALSE）正在启动ORACLE实例（正常）CLI通知程序numLatches：3 maxDescs：189 LICENSE_MAX_SESSION = 0 LICENSE_SESSIONS_WARNING = 0 CPU的初始数量为2系统中的处理器核心数为2系统中的处理器插槽数为2内存段，例如监控创建，Picked latch-free SCN方案3使用LOG_ARCHIVE_DEST_1参数默认值为/ disk1 / oracle / dbs / arch启用撤消保留的自动调整功能。IMODE = BR ILAT = 10 LICENSE_MAX_USERS = 0 SYS审计被禁用注意：远程asm模式是本地的（模式0x1;来自集群类型）启动：Oracle Database 12c企业版12.1.0.1.0版 - 使用分区进行64位生产，高级分析和实际应用程序测试选项。。。。在客户端pfile中使用参数设置具有非默认值的系统参数：processes = 100 sessions = 172</code></pre><p>如<a href="oracle-database-instance.html#GUID-C1510B39-9583-4B97-8E69-8A5B7EB7B356__BABGCIDC">例13-1</a>所示，查询<code class="codeph">V$DIAG_INFO</code>以找到警报日志。
                     </p>
                  </div>
               </div><a id="CNCPT89299"></a><div class="props_rev_3"><a id="GUID-18417D71-3774-4E71-B011-26B9F340AD7C" name="GUID-18417D71-3774-4E71-B011-26B9F340AD7C"></a><h4 id="CNCPT-GUID-18417D71-3774-4E71-B011-26B9F340AD7C" class="sect4">DDL日志</h4>
                  <div>
                     <p><span class="bold">DDL日志</span>与警报<span class="bold">日志</span>具有相同的格式和基本行为，但仅包含DDL语句和详细信息。数据库将DDL信息写入其自己的文件，以减少警报日志中的混乱。
                     </p>
                     <p>DDL日志记录是DDL文本，可选择使用补充信息进行扩充。每个DDL语句都存在一条日志记录。DDL日志存储在ADR主目录的<code class="codeph">log/ddl</code>子目录中。
                     </p>
                  </div>
               </div><a id="CNCPT1260"></a><div class="props_rev_3"><a id="GUID-5206D90F-E288-4B60-83E9-F92A0C6E94AD" name="GUID-5206D90F-E288-4B60-83E9-F92A0C6E94AD"></a><h4 id="CNCPT-GUID-5206D90F-E288-4B60-83E9-F92A0C6E94AD" class="sect4">跟踪文件</h4>
                  <div>
                     <p><span class="bold">跟踪文件</span>是包含用于调查问题的诊断数据的文件。此外，跟踪文件可以为调整应用程序或实例提供指导。
                     </p>
                     <div class="infoboxnotealso" id="GUID-5206D90F-E288-4B60-83E9-F92A0C6E94AD__GUID-FEDE3C6B-1156-4B79-BEB2-87055851592A">
                        <p class="notep1">也可以看看：</p>
                        <p><span class="q">“ <a href="concepts-for-database-administrators.html#GUID-045B9963-F53D-427C-87B7-04858B22D4D8" title="作为DBA，您负责Oracle数据库的性能。通常，性能问题是由不可接受的响应时间引起的，响应时间是完成指定工作负载的时间，或吞吐量，即可在指定时间内完成的工作量。">性能和调整</a> ”</span></p>
                     </div>
                  </div><a id="CNCPT89064"></a><div class="props_rev_3"><a id="GUID-14D27A80-C67F-4B89-9B31-BE5C2EE86F56" name="GUID-14D27A80-C67F-4B89-9B31-BE5C2EE86F56"></a><h5 id="CNCPT-GUID-14D27A80-C67F-4B89-9B31-BE5C2EE86F56" class="sect5">跟踪文件的类型</h5>
                     <div>
                        <p>每个服务器和后台进程都可以定期写入关联的跟踪文件。这些文件包含有关进程环境，状态，活动和错误的信息。</p>
                        <p>SQL跟踪工具还会创建跟踪文件，这些文件提供有关各个SQL语句的性能信息。您可以通过各种方式为客户端标识符，服务，模块，操作，会话，实例或数据库启用跟踪。例如，您可以在<code class="codeph">DBMS_MONITOR</code>包中执行适当的过程或设置事件。
                        </p>
                        <div class="infoboxnotealso" id="GUID-14D27A80-C67F-4B89-9B31-BE5C2EE86F56__GUID-D243738A-2334-407D-A170-90C4A7BEE6F5">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="q">“ <a href="sql.html#GUID-261BEAAC-0897-465D-9137-D201CE80675C" title="会话控制语句动态管理用户会话的属性。">会话控制声明</a> ”</span></p>
                              </li>
                              <li>
                                 <p><a href="../admin/diagnosing-and-resolving-problems.html#ADMIN11263" target="_blank"><span><cite>Oracle数据库管理员指南</cite></span></a> ，了解跟踪文件，转储和核心文件</p>
                              </li>
                              <li>
                                 <p><a href="../tgsql/performing-application-tracing.html#TGSQL791" target="_blank"><span><cite>Oracle数据库SQL调优指南</cite></span></a> ，了解应用程序跟踪</p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div><a id="CNCPT89065"></a><div class="props_rev_3"><a id="GUID-3BABFDE3-1508-4912-879E-1E35CECE5053" name="GUID-3BABFDE3-1508-4912-879E-1E35CECE5053"></a><h5 id="CNCPT-GUID-3BABFDE3-1508-4912-879E-1E35CECE5053" class="sect5">跟踪文件的位置</h5>
                     <div>
                        <p>ADR将跟踪文件存储在<code class="codeph">trace</code>子目录中。跟踪文件名与平台有关，并使用扩展名<code class="codeph">.trc</code> 。
                        </p>
                        <p>通常，数据库后台进程跟踪文件名包含Oracle SID，后台进程名称和操作系统进程号。<code class="codeph">RECO</code>进程的跟踪文件示例是<code class="codeph">mytest_reco_10355.trc</code> 。
                        </p>
                        <p>服务器进程跟踪文件名包含Oracle SID，字符串<code class="codeph">ora</code>和操作系统进程号。服务器进程跟踪文件名的示例是<code class="codeph">mytest_ora_10304.trc</code> 。
                        </p>
                        <p>有时跟踪文件具有相应的跟踪元数据文件，以扩展名<code class="codeph">.trm</code> 。这些文件包含称为<span class="bold">跟踪映射的</span>结构信息，数据库用于搜索和导航。
                        </p>
                        <div class="infoboxnotealso" id="GUID-3BABFDE3-1508-4912-879E-1E35CECE5053__GUID-6223BFC3-7DCC-4ED6-B7DF-1550AF5AC29A">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="q">“ <a href="oracle-database-instance.html#GUID-C1510B39-9583-4B97-8E69-8A5B7EB7B356__BABBCEEE">图13-8</a> ”</span></p>
                              </li>
                              <li>
                                 <p><a href="../admin/diagnosing-and-resolving-problems.html#ADMIN12484" target="_blank"><span><cite>Oracle数据库管理员指南</cite></span></a> ，了解如何查找跟踪文件</p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div><a id="CNCPT89455"></a><div class="props_rev_3"><a id="GUID-077AC8D0-1DC0-413C-9AC0-8391B366B038" name="GUID-077AC8D0-1DC0-413C-9AC0-8391B366B038"></a><h5 id="CNCPT-GUID-077AC8D0-1DC0-413C-9AC0-8391B366B038" class="sect5">跟踪文件的分段</h5>
                     <div>
                        <p>当跟踪文件大小有限时，数据库可能会自动将其拆分为最多五个段。段是与活动跟踪文件同名的单独文件，但附加了段号，如<code class="codeph">ora_1234_2.trc</code> 。
                        </p>
                        <p>每个段通常是<code class="codeph">MAX_DUMP_FILE_SIZE</code>设置的限制的20％。当所有段的组合大小超过限制时，数据库将删除最旧的段（尽管从不是第一段，其中可能包含有关该过程初始状态的相关信息），然后创建一个新的空段。
                        </p>
                        <div class="infoboxnotealso" id="GUID-077AC8D0-1DC0-413C-9AC0-8391B366B038__GUID-C76F6E0D-E591-4610-B027-175E730B1423">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="../admin/monitoring-the-database.html#ADMIN11244" target="_blank"><span><cite>Oracle数据库管理员指南</cite></span></a> ，了解如何控制跟踪文件的大小</p>
                        </div>
                     </div>
                  </div>
               </div><a id="CNCPT89301"></a><div class="props_rev_3"><a id="GUID-1CE79EC6-6B04-4BB2-BBF1-77A2D47A1CE6" name="GUID-1CE79EC6-6B04-4BB2-BBF1-77A2D47A1CE6"></a><h4 id="CNCPT-GUID-1CE79EC6-6B04-4BB2-BBF1-77A2D47A1CE6" class="sect4">诊断转储</h4>
                  <div>
                     <p><span class="bold">诊断转储文件</span>是一种特殊类型的跟踪文件，其中包含有关状态或结构的详细时间点信息。
                     </p>
                     <p>跟踪倾向于连续输出诊断数据。相反，转储通常是响应于事件的诊断数据的一次性输出。</p>
                  </div><a id="CNCPT89302"></a><div class="props_rev_3"><a id="GUID-9EE8697E-B25C-4502-969D-D32D09F9D8A0" name="GUID-9EE8697E-B25C-4502-969D-D32D09F9D8A0"></a><h5 id="CNCPT-GUID-9EE8697E-B25C-4502-969D-D32D09F9D8A0" class="sect5">跟踪转储和事件</h5>
                     <div>
                        <p>大多数转储都是由于事故而发生的。</p>
                        <p>发生事件时，数据库会将一个或多个转储写入为事件创建的事件目录。事件转储还包含文件名中的事件编号。</p>
                        <p>在事件创建期间，应用程序可能会将堆或系统状态转储作为操作的一部分。在这种情况下，数据库会将转储名称附加到事件文件名而不是默认的跟踪文件名。例如，由于进程中发生事件，数据库会创建文件<code class="codeph">prod_ora_90348.trc</code> 。事件中的转储生成文件<code class="codeph">prod_ora_90348_ <span class="codeinlineitalic">incident_id</span> .trc</code> ，其中<code class="codeph"><span class="codeinlineitalic">incident_id</span></code>是<code class="codeph"><span class="codeinlineitalic">incident_id</span></code>的数字ID。作为事件的一部分创建的堆转储操作会生<code class="codeph">prod_ora_90348_ <span class="codeinlineitalic">incident_id</span> _ <span class="codeinlineitalic">dump_id</span> .trc</code>转储文件<code class="codeph">prod_ora_90348_ <span class="codeinlineitalic">incident_id</span> _ <span class="codeinlineitalic">dump_id</span> .trc</code> ，其中<code class="codeph"><span class="codeinlineitalic">dump_id</span></code>是跟踪转储的数字ID。
                        </p>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>