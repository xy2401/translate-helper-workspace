<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Type Constructor Expressions</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="SQL Language Reference ">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="SQL Language Reference">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="sql-language-reference.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-02-12T15:36:36-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96310-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="Scalar-Subquery-Expressions.html" title="Previous" type="text/html">
      <link rel="next" href="Expression-Lists.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="SQL Language Reference">
    <meta name="dcterms.isVersionOf" content="SQLRF">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="Scalar-Subquery-Expressions.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="Expression-Lists.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">SQL Language Reference </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="Expressions.html" property="item" typeof="WebPage"><span property="name"> Expressions</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Type Constructor Expressions </li>
            </ol>
            <a id="GUID-E8A491DE-18BA-4A1E-8CE2-BBA43E5C52D6" name="GUID-E8A491DE-18BA-4A1E-8CE2-BBA43E5C52D6"></a><a id="SQLRF52095"></a><a id="SQLRF52096"></a><a id="SQLRF52097"></a><a id="SQLRF52098"></a><a id="SQLRF52094"></a>
            
            <h2 id="SQLRF-GUID-E8A491DE-18BA-4A1E-8CE2-BBA43E5C52D6" class="sect2">Type Constructor Expressions </h2>
         </header>
         <div class="ind">
            <div>
               <div class="section">
                  <p>A type constructor expression specifies a call to a constructor method. The argument to the type constructor is any expression. Type constructors can be invoked anywhere functions are invoked.</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-E8A491DE-18BA-4A1E-8CE2-BBA43E5C52D6__GUID-A71CDA49-E300-4216-9E16-6F7B47DF371A"><span class="italic">type_constructor_expression</span>::=
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <div class="figure" id="GUID-E8A491DE-18BA-4A1E-8CE2-BBA43E5C52D6__GUID-B66CE0C5-A307-49D0-A9D2-06162412360A"><img src="img/type_constructor_expression.gif" alt="Description of type_constructor_expression.eps follows" title="Description of type_constructor_expression.eps follows" longdesc="img_text/type_constructor_expression.html"><br><a href="img_text/type_constructor_expression.html">Description of the illustration type_constructor_expression.eps</a></div>
                  <!-- class="figure" -->
                  <p>The <code class="codeph">NEW</code> keyword applies to constructors for object types but not for collection types. It instructs Oracle to construct a new object by invoking an appropriate constructor. The use of the <code class="codeph">NEW</code> keyword is optional, but it is good practice to specify it.
                  </p>
                  <p>If <span class="italic"><code class="codeph">type_name</code></span> is an <span class="bold">object type</span>, then the expressions must be an ordered list, where the first argument<span class="underline"> </span>is a value whose type matches the first attribute of the object type, the second argument is a value whose type matches the second attribute of the object type, and so on. The total number of arguments to the constructor must match the total number of attributes of the object type. 
                  </p>
                  <p>If <span class="italic"><code class="codeph">type_name</code></span> is a <span class="bold">varray</span> or <span class="bold">nested table type</span>, then the expression list can contain zero or more arguments. Zero arguments implies construction of an empty collection. Otherwise, each argument corresponds to an element value whose type is the element type of the collection type. 
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-E8A491DE-18BA-4A1E-8CE2-BBA43E5C52D6__GUID-90714F88-54C2-42B6-864B-3CD8F09832F7">Restriction on Type Constructor Invocation</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p>In an invocation of a type constructor method, the number of parameters (<span class="italic"><code class="codeph">expr</code></span>) specified cannot exceed 999, even if the object type has more than 999 attributes. This limitation applies only when the constructor is called from SQL. For calls from PL/SQL, the PL/SQL limitations apply.
                  </p>
                  <div class="infoboxnotealso" id="GUID-E8A491DE-18BA-4A1E-8CE2-BBA43E5C52D6__GUID-625DD585-2F98-4A1D-BA96-A9CEB5E57C91">
                     <p class="notep1">See Also:</p>
                     <p><a href="../adobj/basic-components-of-oracle-objects.html#ADOBJ002" target="_blank"><span><cite>Oracle Database Object-Relational Developer's Guide</cite></span></a> for additional information on constructor methods and <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=LNPLS018" target="_blank"><span><cite>Oracle Database PL/SQL Language Reference</cite></span></a> for information on PL/SQL limitations on calls to type constructors 
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-E8A491DE-18BA-4A1E-8CE2-BBA43E5C52D6__GUID-373DB435-A366-4F5B-9330-6A4517406A02">Expression Example</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p>This example uses the <code class="codeph">cust_address_typ</code> type in the sample <code class="codeph">oe</code> schema to show the use of an expression in the call to a constructor method (the PL/SQL is shown in italics):
                  </p><pre class="oac_no_warn" dir="ltr">CREATE TYPE address_book_t AS TABLE OF cust_address_typ; 
<span class="italic">DECLARE</span> 
<span class="italic">   myaddr cust_address_typ := cust_address_typ(</span> 
<span class="italic">     '500 Oracle Parkway', 94065, 'Redwood Shores', 'CA','USA');</span> 
<span class="italic">   alladdr address_book_t := address_book_t();</span> 
<span class="italic">BEGIN</span> 
<span class="italic">   INSERT INTO customers VALUES (</span> 
<span class="italic">      666999, 'Joe', 'Smith', myaddr, NULL, NULL, NULL, NULL,</span> 
<span class="italic">      NULL, NULL, NULL, NULL, NULL, NULL, NULL);</span> 
<span class="italic">END;</span> 
/</pre></div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-E8A491DE-18BA-4A1E-8CE2-BBA43E5C52D6__GUID-68F04B35-13F9-4C4C-B5A0-602DCF820E20">Subquery Example</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p>This example uses the <code class="codeph">warehouse_typ</code> type in the sample schema <code class="codeph">oe</code> to illustrate the use of a subquery in the call to the constructor method.
                  </p><pre class="oac_no_warn" dir="ltr">CREATE TABLE warehouse_tab OF warehouse_typ;

INSERT INTO warehouse_tab 
   VALUES (warehouse_typ(101, 'new_wh', 201));

CREATE TYPE facility_typ AS OBJECT (
   facility_id NUMBER,
   warehouse_ref REF warehouse_typ);
   
CREATE TABLE buildings (b_id NUMBER, building facility_typ);

INSERT INTO buildings VALUES (10, facility_typ(102, 
   (SELECT REF(w) FROM warehouse_tab w 
      WHERE warehouse_name = 'new_wh')));

SELECT b.b_id, b.building.facility_id "FAC_ID",
   DEREF(b.building.warehouse_ref) "WH" FROM buildings b;

      B_ID     FAC_ID WH(WAREHOUSE_ID, WAREHOUSE_NAME, LOCATION_ID)
---------- ---------- ---------------------------------------------
        10        102 WAREHOUSE_TYP(101, 'new_wh', 201)</pre></div>
               <!-- class="section" -->
            </div>
         </div>
      </article>
   </body>
</html>