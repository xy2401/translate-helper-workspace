<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="This chapter describes the most important components of the multitenant architecture."></meta>
      <meta name="description" content="This chapter describes the most important components of the multitenant architecture."></meta>
      <title>多租户架构概述</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Administrator’s Guide "></meta>
      <meta property="og:description" content="This chapter describes the most important components of the multitenant architecture."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Administrator’s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="multitenant-administrators-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-03-20T09:59:22-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2017, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96136-03"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="introduction-to-the-multitenant-architecture.html" title="Previous" type="text/html"></link>
      <link rel="next" href="creating-and-configuring-a-multitenant-environment.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Multitenant Administrator&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="MULTI"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="introduction-to-the-multitenant-architecture.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="creating-and-configuring-a-multitenant-environment.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">管理员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="multitenant-architecture.html" property="item" typeof="WebPage"><span property="name">多租户架构</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">多租户架构概述</li>
            </ol>
            <a id="GUID-7F629DD8-D4DE-4FD7-9C35-38AC016DDCDC" name="GUID-7F629DD8-D4DE-4FD7-9C35-38AC016DDCDC"></a><a id="CNCPT89248"></a>
            
            <h2 id="MULTI-GUID-7F629DD8-D4DE-4FD7-9C35-38AC016DDCDC" class="sect2"><span class="enumeration_chapter">2</span>多租户架构概述</h2>
         </header>
         <div class="ind"><script type="text/javascript">window.name='overview-of-the-multitenant-architecture'</script><script type="text/javascript">
    function footdisplay(footnum,footnote) {
    var msg = window.open('about:blank', 'NewWindow' + footnum,
        'directories=no,height=100,location=no,menubar=no,resizable=yes,' +
        'scrollbars=yes,status=no,toolbar=no,width=598');
    msg.document.open('text/html');
    msg.document.write('<!DOCTYPE html ');
    msg.document.write('PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" ');
    msg.document.write('"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">'); 
    msg.document.write('<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us" dir="ltr"><head><title>');
   
    msg.document.write('Footnote&nbsp; ' + footnum);
    msg.document.write('<\/title><meta http-equiv="Content-Type" ');
    msg.document.write('content="text/html; charset=utf-8" />');
    msg.document.write('<meta http-equiv="Content-Script-Type" ');
    msg.document.write('content="text/javascript" />');
    msg.document.write('<style type="text/css"> <![CDATA[ ');
    msg.document.write('h1 {text-align: center; font-size: 14pt;}');
    msg.document.write('fieldset {border: none;}');
    msg.document.write('form {text-align: center;}');
    msg.document.write(' ]]u003e </style>');
    msg.document.write('<\/head><body><div id="footnote"><h1>Footnote&nbsp; ' + footnum + '<\/h1><p>');
    msg.document.write(footnote);
    msg.document.write('<\/p><form action="" method="post"><fieldset>');
    msg.document.write('<input type="button" value="OK" ');
    msg.document.write('onclick="window.close();" />');
    msg.document.write('<\/fieldset><\/form><\/div><\/body><\/html>');
    msg.document.close();
    setTimeout(function() {
        var height = msg.document.getElementById('footnote').offsetHeight;
        msg.resizeTo(598, height + 100);
    }
    , 100);
    msg.focus();
}
            </script><noscript>
               <p>此页面上的脚本内容仅用于导航目的，不会以任何方式更改内容。</p>
            </noscript>
            <div>
               <p>本章介绍了多租户架构中最重要的组件。</p>
               <p>该部分包含以下主题：</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-5C339A60-2163-4ECE-B7A9-4D67D3D894FB">CDB中的容器概述</a><br><span class="bold">容器</span>是<span class="bold">多租户容器数据库（CDB）中</span>的模式，对象和相关结构的集合。在CDB中，每个容器都有唯一的ID和名称。
                  </li>
                  <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-B8A0393D-EB92-4020-81EA-7773EE60330C">国家开发银行的共性概述</a><br>在CDB中，每个用户，角色或对象都是公共的或本地的。类似地，通常或本地授予特权。
                  </li>
                  <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-B964031E-8ACE-4603-8F1E-DD173BE5BA01">应用程序容器中的应用程序概述</a><br>在应用程序容器中， <strong class="term">应用程序</strong>是存储在应用程序根目录中的命名的，版本化的公共数据和元数据集。
                  </li>
                  <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-5660AC5E-BFD4-41BE-8404-C31870FE4D48">CDB中的服务概述</a><br>客户端必须使用服务连接到PDB或应用程序根。
                  </li>
                  <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-5902ABDC-40BE-4CF4-9917-A5D7F4C396F1">CDB中的表空间和数据库文件概述</a><br>CDB具有与非CDB相同的结构，除了每个PDB和应用程序根都有自己的一组表空间，包括它自己的<code class="codeph">SYSTEM</code> ， <code class="codeph">SYSAUX</code>和undo表空间。
                  </li>
                  <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-75748FBA-79BE-44E6-8336-0A644FBC58A1">CDB中的可用性概述</a><br>对于非CDB存在的许多可用性特征也存在于CDB内的各个PDB中。</li>
                  <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-EFAD745A-D76B-4218-AC5F-3B72F4D4C277">CDB中的Oracle Resource Manager概述</a><br>使用Oracle Resource Manager（资源管理器），您可以创建CDB资源计划并设置初始化参数以将资源分配给PDB。
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>父主题：</strong> <a href="multitenant-architecture.html#GUID-BBAD3448-8A5A-4397-BD3A-F05D945DB7F8" title="多租户架构使Oracle数据库可用作多租户容器数据库（CDB）。">多租户架构</a></p>
                  </div>
               </div>
            </div>
            <a id="CNCPT89249"></a><div class="props_rev_3"><a id="GUID-5C339A60-2163-4ECE-B7A9-4D67D3D894FB" name="GUID-5C339A60-2163-4ECE-B7A9-4D67D3D894FB"></a><h3 id="MULTI-GUID-5C339A60-2163-4ECE-B7A9-4D67D3D894FB" class="sect3"><span class="enumeration_section">2.1</span> CDB中容器概述</h3>
               <div>
                  <p><span class="bold">容器</span>是<span class="bold">多租户容器数据库（CDB）中</span>的模式，对象和相关结构的集合。在CDB中，每个容器都有唯一的ID和名称。
                  </p>
                  <p>本节包含以下主题：</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-4311CC75-87D3-4548-A7CE-11FE5141C9E3">CDB根和系统容器</a><br><span class="bold">CDB根</span> （也简称<span class="italic">为根</span> ）是所有PDB所属的模式，模式对象和非模式对象的集合。
                     </li>
                     <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-49C0C90D-5A72-4131-8C3D-B07341C75CB2">PDBS</a><br><span class="bold">PDB</span>是用户创建的一组模式，对象和相关结构，它们作为单独的数据库逻辑地显示在客户端应用程序中。
                     </li>
                     <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-A356382A-413A-4A42-98DC-6C2464808202">CDB中的数据字典体系结构</a><br>从用户和应用程序的角度来看，CDB中每个容器中的数据字典是独立的，就像在非CDB中一样。</li>
                     <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-2278B77D-9D81-46A8-9F57-6F5F8B96964C">当前容器</a><br>对于给定的会话，当前容器是会话正在运行的容器。当前容器可以是CDB根，应用程序根或PDB。</li>
                     <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-05B15BE7-D8CD-4D8C-A33F-38C1BB09D893">跨集装箱运营</a><br><strong class="term">跨容器操作</strong>是一次影响多个容器的DDL或DML语句。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-7F629DD8-D4DE-4FD7-9C35-38AC016DDCDC" title="本章介绍了多租户架构中最重要的组件。">多租户架构概述</a></p>
                     </div>
                  </div>
               </div>
               <a id="CNCPT89250"></a><div class="props_rev_3"><a id="GUID-4311CC75-87D3-4548-A7CE-11FE5141C9E3" name="GUID-4311CC75-87D3-4548-A7CE-11FE5141C9E3"></a><h4 id="MULTI-GUID-4311CC75-87D3-4548-A7CE-11FE5141C9E3" class="sect4"><span class="enumeration_section">2.1.1</span> CDB根和系统容器</h4>
                  <div>
                     <p><span class="bold">CDB根</span> （也简称<span class="italic">为根</span> ）是所有PDB所属的模式，模式对象和非模式对象的集合。
                     </p>
                     <p>每个CDB都有一个且只有一个名为<code class="codeph">CDB$ROOT</code>根容器。根存储管理PDB所需的系统元数据。所有PDB都属于根。<a href="glossary.html#GUID-0E3286DF-A941-47D6-A2C8-333D9B4644B3"><span class="xrefglossterm">系统容器</span></a>是CDB根和属于此根的所有PDB。
                     </p>
                     <p>CDB根目录不存储用户数据。Oracle建议您<span class="italic">不要</span>在根共同对象添加到根或修改Oracle提供的架构。但是，您可以为数据库管理创建公共用户和角色。具有必要权限的普通用户可以在容器之间切换。
                     </p>
                     <p>Oracle建议使用AL32UTF8作为根字符集。具有不同字符集的PDB可以驻留在同一CDB中，而不需要字符集转换。</p>
                     <div class="example" id="GUID-4311CC75-87D3-4548-A7CE-11FE5141C9E3__GUID-7EED704F-9B40-4930-B63F-14EE48273B7A">
                        <p class="titleinexample">示例2-1 CDB中的所有容器</p>
                        <p>由连接到CDB根的管理用户发出的以下查询列出了由<code class="codeph">CON_ID</code>排序的CDB中的所有容器（包括种子和CDB根）。</p><pre class="pre codeblock"><code>SQL&gt; COL NAME FORMAT A15 SQL&gt; SELECT NAME，CON_ID，DBID，CON_UID，GUID FROM V $ CONTAINERS ORDER BY CON_ID;名称CON_ID DBID CON_UID GUID --------------- ---------- ---------- ---------- -------------------------------- CDB $ ROOT 1 1895287725 1 2003321EDD4F60D6E0534E40E40A41C5 PDB $ SEED 2 2795386505 2795386505 ICAC $ 2 200B4CE0A8DC1D24E05396C0E40AF8EE SALESPDB 4 3692549634 3692549634 200B4928319C1BCCE05396C0E40A2432 HRPDB 5 3784483090 3784483090 200B4928319D1BCCE05396C0E40A2432</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-4311CC75-87D3-4548-A7CE-11FE5141C9E3__GUID-05C78509-1FE1-40AF-A8C2-B7ABFC24C922">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="overview-of-the-multitenant-architecture.html#GUID-19337B94-645B-45E8-842C-762BBC544B13" title="在系统容器（CDB）或应用程序容器的上下文中，公共用户是在根容器中以及此容器内的每个现有和将来的PDB中具有相同标识的数据库用户。">CDB中的普通用户</a> ”</span></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="overview-of-managing-a-multitenant-environment.html#GUID-528FBE02-2B84-4E97-BD87-36AEF9EA524D" title="熟悉与配置和管理多租户环境相关的基本概念。">配置和管理多租户环境概述</a> ”</span></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-5C339A60-2163-4ECE-B7A9-4D67D3D894FB" title="容器是多租户容器数据库（CDB）中的模式，对象和相关结构的集合。在CDB中，每个容器都有唯一的ID和名称。">CDB中的容器概述</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="CNCPT89251"></a><div class="props_rev_3"><a id="GUID-49C0C90D-5A72-4131-8C3D-B07341C75CB2" name="GUID-49C0C90D-5A72-4131-8C3D-B07341C75CB2"></a><h4 id="MULTI-GUID-49C0C90D-5A72-4131-8C3D-B07341C75CB2" class="sect4"><span class="enumeration_section">2.1.2</span> PDB</h4>
                  <div>
                     <p><span class="bold">PDB</span>是用户创建的一组模式，对象和相关结构，它们作为单独的数据库逻辑地显示在客户端应用程序中。
                     </p>
                     <p>无论哪个用户创建了PDB，每个PDB都归<code class="codeph">SYS</code>所有。 <code class="codeph">SYS</code>是CDB中的<a href="glossary.html#GUID-879D936A-45FE-4E4D-8099-5060F3F55353"><span class="xrefglossterm">普通用户</span></a> 。</p>
                     <p>本节包含以下主题：</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-D0F40745-FC70-4BE0-85D3-3745DE3312AC">PDB的类型</a><br>除了<code class="codeph">PDB$SEED</code> （Oracle提供）之外，所有PDB都是使用<code class="codeph">CREATE PLUGGABLE DATABASE</code>语句由用户创建的。
                        </li>
                        <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-962835F2-3DD2-4D00-8817-2E63532E00AE">PDB的目的</a><br>从应用程序的角度来看，PDB是一个独立的，功能齐全的Oracle数据库。您可以将PDB整合到单个CDB中以实现规模经济，同时保持PDB之间的隔离。
                        </li>
                        <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-893AB508-9113-405E-BE45-E73CC76994C3">代理PDB</a><br><span class="bold">代理PDB</span>指的是远程PDB，称为<span class="bold">引用的PDB</span> 。</li>
                        <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-F3ECBB59-C43F-4C1D-93FC-80BDFE2233E6">PDB的名称</a><br>CDB中的容器共享相同的命名空间，这意味着它们必须在此命名空间中具有唯一的名称。
                        </li>
                        <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-C3B11701-F23A-4781-91EE-C907F0AF2527">PDB之间的数据库链接</a><br>默认情况下，连接到一个PDB的用户必须使用数据库链接来访问不同PDB中的对象。此行为直接类似于非CDB中的用户访问不同非CDB中的对象。</li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-5C339A60-2163-4ECE-B7A9-4D67D3D894FB" title="容器是多租户容器数据库（CDB）中的模式，对象和相关结构的集合。在CDB中，每个容器都有唯一的ID和名称。">CDB中的容器概述</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="sect4"><a id="GUID-D0F40745-FC70-4BE0-85D3-3745DE3312AC" name="GUID-D0F40745-FC70-4BE0-85D3-3745DE3312AC"></a><h5 id="MULTI-GUID-D0F40745-FC70-4BE0-85D3-3745DE3312AC" class="sect5"><span class="enumeration_section">2.1.2.1</span> PDB的类型</h5>
                     <div>
                        <p>除了<code class="codeph">PDB$SEED</code> （Oracle提供）之外，所有PDB都是使用<code class="codeph">CREATE PLUGGABLE DATABASE</code>语句由用户创建的。
                        </p>
                        <p>您可以创建以下类型的PDB。</p>
                        <div class="section">
                           <p class="subhead3" id="GUID-D0F40745-FC70-4BE0-85D3-3745DE3312AC__GUID-BC633CFF-FA40-4CEC-A4A0-5DB9C0156DEF">标准PDB</p>
                           <p>这种类型的PDB源于运行<code class="codeph">CREATE PLUGGABLE DATABASE</code> <span class="italic">而不</span>将PDB指定为种子，代理PDB或<a href="glossary.html#GUID-66EC71A6-6AC1-4BC2-B30A-A0DCA68AEE28"><span class="xrefglossterm">应用程序根</span></a> 。它的功能取决于您创建它的容器：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>PDB插入<a href="glossary.html#GUID-1C63428A-905A-4918-95AA-F3BBA3D2B825"><span class="xrefglossterm">CDB根目录</span></a></p>
                                 <p>此PDB属于CDB根容器，而不是<a href="glossary.html#GUID-F939B8E5-8DCE-4831-9B81-224C1D6DC1AA"><span class="xrefglossterm">应用程序容器</span></a> 。这种类型的PDB不能使用应用程序常用对象。请参阅<span class="q">“ <a href="overview-of-the-multitenant-architecture.html#GUID-9900D18F-989B-4746-A5CE-04A8D9F9751C" title="应用程序公共对象是在应用程序根目录中的应用程序中创建的公共对象。公共对象是数据链接的或元数据链接的。">应用程序通用对象</a> ”</span> 。
                                 </p>
                              </li>
                              <li>
                                 <p>应用程序PDB</p>
                                 <p><a href="glossary.html#GUID-E9DA1D6D-DBFC-41C5-B24E-F508B671BF06"><span class="xrefglossterm">应用程序PDB</span></a>恰好属于一个应用程序容器。与插入CDB根目录的PDB不同，应用程序PDB可以在应用程序容器内共享主<a href="glossary.html#GUID-27F7A936-A99F-44F5-AA9F-03599741AB62"><span class="xrefglossterm">应用程序</span></a>定义。例如，应用程序根目录中的<code class="codeph">usa_zipcodes</code>表可能是<a href="glossary.html#GUID-AC86D2B2-13FB-4FF5-B272-41FF0C6254CB"><span class="xrefglossterm">数据链接的公共对象</span></a> ，这意味着它包含插入此根目录的所有应用程序PDB都可访问的数据。不驻留在应用程序容器中的PDB无法访问其应用程序公共对象。
                                 </p>
                              </li>
                           </ul>
                           <p><a href="glossary.html#GUID-AD8CD34D-E890-45AE-BA10-54888E5FEE2D"><span class="xrefglossterm">可刷新克隆PDB</span></a>是源PDB的只读克隆，可以从源PDB接收增量更改。您可以将克隆PDB配置为自动接收更改或仅手动接收更改。
                           </p>
                           <p>使用存储级快照创建<a href="glossary.html#GUID-1CF16750-4F79-460A-A2AC-20B838A9B345"><span class="xrefglossterm">快照复制PDB</span></a> 。与标准PDB克隆不同，无法拔出快照复制PDB。
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-D0F40745-FC70-4BE0-85D3-3745DE3312AC__GUID-1A2A6181-511D-4317-9C26-0918A0C77129">应用程序根</p>
                           <p>将应用程序根视为特定于应用程序的根容器。它充当应用程序后端的主定义的存储库，包括公共数据和元数据。要创建应用程序根目录，请连接到CDB根目录，并在<code class="codeph">CREATE PLUGGABLE DATABASE</code>语句中指定<code class="codeph">AS APPLICATION CONTAINER</code>子句。请参见<span class="q">“ <a href="overview-of-the-multitenant-architecture.html#GUID-CA425AC1-CA1C-498C-BC09-AD246BA67346" title="应用程序容器只有一个应用程序根，它是容器中应用程序PDB的父级。">应用程序根</a> ”</span> 。
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-D0F40745-FC70-4BE0-85D3-3745DE3312AC__GUID-EA281E34-FBEB-4DBB-9D77-0674BEC2A055">种子PDB</p>
                           <p>与标准PDB不同，种子PDB不用于支持应用程序。相反，种子是用于创建支持应用程序的PDB的<span class="italic">模板</span> 。种子可以是以下任何一种：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>种子PDB插入CDB根目录（ <code class="codeph">PDB$SEED</code> ）</p>
                                 <p>您可以使用此系统提供的模板在应用程序容器或系统容器中创建新的PDB。系统容器只包含一个PDB种子。您不能删除<code class="codeph">PDB$SEED</code> ，也不能在其中添加对象或修改对象。
                                 </p>
                              </li>
                              <li>
                                 <p>应用种子PDB</p>
                                 <p>要加速在应用程序容器中创建应用程序PDB，可以创建可选的<a href="glossary.html#GUID-BCC6BCFA-FFA1-4C84-8804-1CC13BF86350"><span class="xrefglossterm">应用程序种子</span></a> 。应用程序容器包含零个或一个应用程序种子。
                                 </p>
                                 <p>您可以通过连接到应用程序容器并执行<code class="codeph">CREATE PLUGGABLE DATABASE ...来创建应用程序种子<code class="codeph">CREATE PLUGGABLE DATABASE ...AS SEED</code>声明。请参阅<span class="q">“ <a href="overview-of-the-multitenant-architecture.html#GUID-AF521189-BA10-4321-8A54-5BC2AFFD05A5" title="应用程序种子是应用程序容器中用户创建的可选PDB。应用程序容器具有零个或一个应用程序种子。">应用种子</a> ”</span> 。
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-D0F40745-FC70-4BE0-85D3-3745DE3312AC__GUID-FF686A7D-C6C0-48BA-A380-34D96C5614EF">代理PDB</p>
                           <p><a href="glossary.html#GUID-57D0350C-AA01-441A-AB35-E7E76065BA21"><span class="xrefglossterm">代理PDB</span></a>是使用数据库链接引用远程CDB中的PDB的PDB。在PDB打开时在代理PDB中发出语句时，语句将在引用的PDB中执行。</p>
                           <p>您必须在连接到CDB根目录或应用程序根目录时创建代理PDB。您可以像标准PDB一样更改或删除代理PDB。</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-D0F40745-FC70-4BE0-85D3-3745DE3312AC__ORACLEDATABASEADMINISTRATORSGUIDE-7BDE3FE7">
                           <p class="notep1">也可以看看：</p>
                           <p><span class="q">“ <a href="overview-of-pdb-creation.html#GUID-C95E8613-C556-4818-BE64-B2129AC2F8A2" title="CDB支持多种创建PDB的技术。">PDB创建概述</a> ”</span></p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-49C0C90D-5A72-4131-8C3D-B07341C75CB2" title="PDB是用户创建的一组模式，对象和相关结构，它们作为单独的数据库逻辑地显示在客户端应用程序中。">PDB</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="CNCPT89345"></a><div class="props_rev_3"><a id="GUID-962835F2-3DD2-4D00-8817-2E63532E00AE" name="GUID-962835F2-3DD2-4D00-8817-2E63532E00AE"></a><h5 id="MULTI-GUID-962835F2-3DD2-4D00-8817-2E63532E00AE" class="sect5"><span class="enumeration_section">2.1.2.2</span> PDB的目的</h5>
                     <div>
                        <p>从应用程序的角度来看，PDB是一个独立的，功能齐全的Oracle数据库。您可以将PDB整合到单个CDB中以实现规模经济，同时保持PDB之间的隔离。</p>
                        <p>您可以使用PDB实现以下目标：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>存储特定于应用程序的数据</p>
                              <p>例如，销售应用程序可以拥有自己的专用PDB，人力资源应用程序可以拥有自己的专用PDB。或者，您可以创建一个<a href="glossary.html#GUID-F939B8E5-8DCE-4831-9B81-224C1D6DC1AA"><span class="xrefglossterm">应用程序容器</span></a> ，它是一个命名的PDB集合，用于存储包含公共数据和元数据的应用程序后端（请参阅<span class="q">“ <a href="overview-of-the-multitenant-architecture.html#GUID-8F8979E3-9B81-4293-B3CF-ACCF42A0B2D6" title="应用程序容器是用户创建的可选CDB组件，用于存储一个或多个应用程序后端的数据和元数据。CDB包括零个或多个应用程序容器。">关于应用程序容器</a> ”</span> ）。
                              </p>
                           </li>
                           <li>
                              <p>将数据移动到不同的CDB中</p>
                              <p>数据库是“可插入的”，因为您可以将其打包为一个独立的单元，称为未<a href="glossary.html#GUID-86A738EE-AD59-4371-9E1B-7C82232520AA"><span class="xrefglossterm">插入的PDB</span></a> ，然后将其移动到另一个CDB中。</p>
                           </li>
                           <li>
                              <p>执行快速升级</p>
                              <p>您可以在较低的Oracle数据库版本中从CDB拔出PDB，然后将其插入更高版本的CDB。</p>
                           </li>
                           <li>
                              <p>快速复制数据而不会丢失可用性</p>
                              <p>对于测试和开发，您可以在PDB保持打开时克隆PDB，将克隆存储在相同或不同的CDB中。 （可选）您可以将PDB指定为<a href="glossary.html#GUID-AD8CD34D-E890-45AE-BA10-54888E5FEE2D"><span class="xrefglossterm">可刷新克隆PDB</span></a> 。或者，您使用Oracle提供的<a href="glossary.html#GUID-D05C6A55-5452-4C82-942C-59DB245671BE"><span class="xrefglossterm">种子PDB</span></a>或用户创建的<a href="glossary.html#GUID-BCC6BCFA-FFA1-4C84-8804-1CC13BF86350"><span class="xrefglossterm">应用程序种子</span></a>来复制新的PDB。
                              </p>
                           </li>
                           <li>
                              <p>不同CDB中的参考数据</p>
                              <p>您可以在同一CDB或单独的CDB中创建引用不同PDB的<a href="glossary.html#GUID-57D0350C-AA01-441A-AB35-E7E76065BA21"><span class="xrefglossterm">代理PDB</span></a> 。在代理PDB中发出语句时，它们在引用的PDB中执行。</p>
                           </li>
                           <li>
                              <p>在PDB中隔离拨款</p>
                              <p>具有适当权限的本地或公共用户可以将模式对象的<code class="codeph">EXECUTE</code>特权授予单个PDB中的<code class="codeph">PUBLIC</code> 。</p>
                           </li>
                        </ul>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-962835F2-3DD2-4D00-8817-2E63532E00AE__GUID-05C78509-1FE1-40AF-A8C2-B7ABFC24C922">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="q">“ <a href="introduction-to-the-multitenant-architecture.html#GUID-31CE5970-4A53-44E0-AEA0-D2F7AE09D7E7" title="多租户架构解决了传统非CDB架构带来的几个问题。">多租户架构的好处</a> ”</span></p>
                              </li>
                              <li>
                                 <p><a href="../dbseg/configuring-privilege-and-role-authorization.html#DBSEG588" target="_blank"><span class="italic">Oracle数据库安全指南</span></a> ，了解如何在CDB中授予角色和权限</p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-49C0C90D-5A72-4131-8C3D-B07341C75CB2" title="PDB是用户创建的一组模式，对象和相关结构，它们作为单独的数据库逻辑地显示在客户端应用程序中。">PDB</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-893AB508-9113-405E-BE45-E73CC76994C3" name="GUID-893AB508-9113-405E-BE45-E73CC76994C3"></a><h5 id="MULTI-GUID-893AB508-9113-405E-BE45-E73CC76994C3" class="sect5"><span class="enumeration_section">2.1.2.3</span>代理PDB</h5>
                     <div>
                        <p><span class="bold">代理PDB</span>指的是远程PDB，称为<span class="bold">引用的PDB</span> 。</p>
                        <p>虽然您在代理（引用）PDB中发出SQL语句，但语句在引用的PDB中执行。在这方面，代理PDB与Linux中的符号链接文件非常类似。</p>
                        <p>代理PDB提供以下好处：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>汇总来自多个应用程序模型的数据</p>
                              <p>代理PDB使您能够构建位置透明的应用程序，这些应用程序可以聚合来自多个源的数据。这些源可以位于同一数据中心，也可以分布在数据中心。</p>
                           </li>
                           <li>
                              <p>在一个CDB中启用应用程序根，以将应用程序更改传播到其他应用程序根目录</p>
                              <p>假设CDB <code class="codeph">cdb_prod</code>和<code class="codeph">cdb_test</code>具有相同的应用程序模型。您可以创建在一个应用程序容器的代理PDB <code class="codeph">cdb_prod</code>是指应用程序根目录中<code class="codeph">cdb_test</code> 。当您在<code class="codeph">cdb_prod</code>中的应用程序根目录中运行安装和升级脚本时，Oracle数据库<code class="codeph">cdb_prod</code>这些语句传播到代理PDB，代理PDB又将它们远程发送到<code class="codeph">cdb_test</code>的应用程序根目录。通过这种方式， <code class="codeph">cdb_test</code>中的应用程序根目录成为<code class="codeph">cdb_prod</code>应用程序根目录的<code class="codeph">cdb_prod</code> 。
                              </p>
                           </li>
                        </ul>
                        <p>要创建代理PDB，请使用<code class="codeph">AS PROXY FROM</code>子句执行<code class="codeph">CREATE PLUGGABLE DATABASE</code> ，其中<code class="codeph">FROM</code>指定引用的PDB名称和数据库链接。creation语句仅复制属于<code class="codeph">SYSTEM</code>和<code class="codeph">SYSAUX</code>表空间的数据文件。
                        </p>
                        <div class="example" id="GUID-893AB508-9113-405E-BE45-E73CC76994C3__GUID-31A83B47-C1A2-490C-830B-27CBA5E2670A">
                           <p class="titleinexample">示例2-2创建代理PDB</p>
                           <p>此示例连接到本地生产CDB中的容器<code class="codeph">saas_sales_ac</code> 。 <code class="codeph">sales_admin</code>公共用户创建名为<code class="codeph">sales_sync_pdb</code>的代理PDB。此应用程序PDB在远程开发CDB中引用名为<code class="codeph">saas_sales_test_ac</code>的应用程序根，它使用<code class="codeph">cdb_dev_rem</code>数据库链接进行访问。在生产CDB中的<code class="codeph">saas_sales_ac</code>中进行应用程序升级时，升级会自动传播到远程开发CDB中的应用程序根<code class="codeph">saas_sales_test_ac</code> 。</p><pre class="pre codeblock"><code>CONNECT sales_admin @ saas_sales_ac密码：*********** CREATE PLUGGABLE DATABASE sales_sync_pdb AS来自saas_sales_test_ac @ cdb_dev_rem;</code></pre><div class="infoboxnote" id="GUID-893AB508-9113-405E-BE45-E73CC76994C3__GUID-A7CF8F0A-0219-42E0-AF48-C20445887311">
                              <p class="notep1">注意：</p>
                              <p><span class="q">“ <a href="creating-a-proxy-pdb.html#GUID-4453DF44-5D16-4581-9CBF-0C7BCA85DE82" title="通过引用不同CDB中的PDB来创建代理PDB。">创建代理PDB</a> ”</span></p>
                           </div>
                        </div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-49C0C90D-5A72-4131-8C3D-B07341C75CB2" title="PDB是用户创建的一组模式，对象和相关结构，它们作为单独的数据库逻辑地显示在客户端应用程序中。">PDB</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="CNCPT89395"></a><div class="props_rev_3"><a id="GUID-F3ECBB59-C43F-4C1D-93FC-80BDFE2233E6" name="GUID-F3ECBB59-C43F-4C1D-93FC-80BDFE2233E6"></a><h5 id="MULTI-GUID-F3ECBB59-C43F-4C1D-93FC-80BDFE2233E6" class="sect5"><span class="enumeration_section">2.1.2.4</span> PDB的名称</h5>
                     <div>
                        <p>CDB中的容器共享相同的命名空间，这意味着它们必须在此命名空间中具有唯一的名称。</p>
                        <p>以下容器的名称不得在同一CDB中发生冲突：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>CDB根</p>
                           </li>
                           <li>
                              <p>PDB插入CDB根目录</p>
                           </li>
                           <li>
                              <p>应用根源</p>
                           </li>
                           <li>
                              <p>应用程序PDB</p>
                           </li>
                        </ul>
                        <p>例如，如果相同的CDB包含应用程序容器<code class="codeph">saas_sales_ac</code>和<code class="codeph">saas_sales_test_ac</code> ，则两个名为<code class="codeph">cust1</code>应用程序PDB不能同时驻留在两个容器中。命名空间规则还会阻止在CDB根目录中创建名为<code class="codeph">cust1pdb</code>的PDB， <code class="codeph">cust1pdb</code>在应用程序根目录中创建名为<code class="codeph">cust1pdb</code>的PDB。
                        </p>
                        <p>PDB和应用程序根容器必须遵循与服务名称相同的命名规则。此外，由于PDB或应用程序根目录具有自己的名称，因此容器名称在所有通过特定侦听器公开其服务的CDB中必须是唯一的。用户创建的容器名称的第一个字符必须是字母数字，其余字符可以是字母数字或下划线（ <code class="codeph">_</code> ）。由于服务名称不区分大小写，因此容器名称不区分大小写，即使使用分隔标识符指定，也是大写的。
                        </p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-F3ECBB59-C43F-4C1D-93FC-80BDFE2233E6__GUID-3D4E8984-289C-4E86-A8A4-D4B5F513C78A">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>有关服务名称规则的<a href="../netrf/syntax-rules-configuration-files.html#NETRF-GUID-6DEC930F-6A19-4C75-8E6B-61CF288A2241" target="_blank"><span><cite>Oracle数据库网络服务参考</cite></span></a></p>
                              </li>
                              <li>
                                 <p><span class="q">“ <a href="overview-of-pdb-creation.html#GUID-B26D56E1-B958-444F-864C-8AFDFF1566A6" title="在创建PDB之前，您必须满足某些先决条件。">创建PDB的一般先决条件</a> ”</span></p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-49C0C90D-5A72-4131-8C3D-B07341C75CB2" title="PDB是用户创建的一组模式，对象和相关结构，它们作为单独的数据库逻辑地显示在客户端应用程序中。">PDB</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="CNCPT89253"></a><div class="props_rev_3"><a id="GUID-C3B11701-F23A-4781-91EE-C907F0AF2527" name="GUID-C3B11701-F23A-4781-91EE-C907F0AF2527"></a><h5 id="MULTI-GUID-C3B11701-F23A-4781-91EE-C907F0AF2527" class="sect5"><span class="enumeration_section">2.1.2.5</span> PDB之间的数据库链接</h5>
                     <div>
                        <p>默认情况下，连接到一个PDB的用户必须使用数据库链接来访问不同PDB中的对象。此行为直接类似于非CDB中的用户访问不同非CDB中的对象。</p>
                        <div class="figure" id="GUID-C3B11701-F23A-4781-91EE-C907F0AF2527__GUID-5D8CFBD3-9B15-4EDC-9F38-46DBB055B40F">
                           <p class="titleinfigure">图2-1 PDB之间的数据库链接</p>
                           <p>在此图中，PDB管理员连接到名为<code class="codeph">hrpdb1</code>的PDB。默认情况下，在此用户会话期间， <code class="codeph">c##dba</code>无法在未指定数据库链接的情况下查询<code class="codeph">hrpdb2</code>的<code class="codeph">emp2</code>表。
                           </p><img src="img/cncpt384.png" alt="下面描述图2-1" title="下面描述图2-1" longdesc="img_text/cncpt384.html"><br><a href="img_text/cncpt384.html">“图2-1 PDB之间的数据库链接”的描述</a></div>
                        <!-- class="figure" -->
                        <p>该规则的例外情况包括：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="glossary.html#GUID-AC86D2B2-13FB-4FF5-B272-41FF0C6254CB"><span class="xrefglossterm">数据链接的公共对象</span></a> ，可由包含指向此对象的<a href="glossary.html#GUID-58284157-F969-4848-92A2-6484C64A2CD3"><span class="xrefglossterm">数据链接</span></a>的所有应用程序PDB访问。例如，应用程序容器<code class="codeph">saas_sales_ac</code>可能在其应用程序中包含数据链接表<code class="codeph">usa_zipcodes</code> 。在这种情况下，常见的CDB用户<code class="codeph">c##dba</code>可以连接到此容器中的应用程序PDB，然后查询<code class="codeph">usa_zipcodes</code>即使实际表位于应用程序根目录中。在这种情况下，不需要数据库链接。
                              </p>
                           </li>
                           <li>
                              <p>SQL中的<code class="codeph">CONTAINERS()</code>子句从CDB根或应用程序根发出。使用此子句，您可以查询插入根目录的所有PDB中的数据。
                              </p>
                           </li>
                        </ul>
                        <p>创建代理PDB时，必须在<code class="codeph">CREATE PLUGGABLE DATABASE ...的<code class="codeph">FROM</code>子句中指定数据库链接名称<code class="codeph">CREATE PLUGGABLE DATABASE ...AS PROXY</code>声明。如果代理PDB和引用的PDB驻留在单独的CDB中，则必须在将包含代理PDB的CDB的根中定义数据库链接。数据库链接必须连接到远程引用的PDB或远程CDB的CDB根目录。</p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-C3B11701-F23A-4781-91EE-C907F0AF2527__GUID-A9FDA945-DCB3-4534-8847-27822699013B">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="q">“ <a href="overview-of-the-multitenant-architecture.html#GUID-8B4B4F8B-1C2B-42C3-BE77-E9AA25CA397A" title="公共对象在CDB根目录或应用程序根目录中定义，可以使用元数据链接或对象链接进行引用。本地对象是不是常见对象的每个对象。">CDB中的公共和本地对象概述</a> ”</span></p>
                              </li>
                              <li>
                                 <p><span class="q">“ <a href="administering-pdbs-with-sql-plus.html#GUID-426C14AC-7628-4934-9C9E-0ECAEBCBF93C" title="管理可插拔数据库（PDB）涉及管理非CDB所需的子任务。">关于PDB管理</a> ”</span> ，了解如何使用数据库链接访问其他PDB中的对象</p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-49C0C90D-5A72-4131-8C3D-B07341C75CB2" title="PDB是用户创建的一组模式，对象和相关结构，它们作为单独的数据库逻辑地显示在客户端应用程序中。">PDB</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="CNCPT89255"></a><div class="props_rev_3"><a id="GUID-A356382A-413A-4A42-98DC-6C2464808202" name="GUID-A356382A-413A-4A42-98DC-6C2464808202"></a><h4 id="MULTI-GUID-A356382A-413A-4A42-98DC-6C2464808202" class="sect4"><span class="enumeration_section">2.1.3</span> CDB中的数据字典体系结构</h4>
                  <div>
                     <p>从用户和应用程序的角度来看，CDB中每个容器中的数据字典是独立的，就像在非CDB中一样。</p>
                     <p>例如，每个PDB中的<code class="codeph">DBA_OBJECTS</code>视图可以显示不同的行数。这种字典分离使Oracle数据库能够彼此独立地管理PDB。
                     </p>
                     <p>本节包含以下主题：</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-0AF14A64-DD38-4755-94ED-2021CE137A90">数据字典分离的目的</a><br>在新创建的尚未包含用户数据的非CDB中，数据字典仅包含系统元数据。例如， <code class="codeph">TAB$</code>表包含仅描述Oracle提供的表的行，例如<code class="codeph">TRIGGER$</code>和<code class="codeph">SERVICE$</code> 。
                        </li>
                        <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-C7F5F6BD-E905-4402-A685-D4A79CF565EA">元数据和数据链接</a><br>CDB使用内部链接机制来分离数据字典信息。
                        </li>
                        <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-1A22B2C5-B302-450E-BB41-6CB6B1AE75B0">CDB中的容器数据对象</a><br><span class="bold">容器数据对象</span>是包含与多个容器或整个CDB有关的数据的表或视图。</li>
                        <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-F9CD5EAB-66EB-4450-9136-93C7DB27E316">CDB中的数据字典存储</a><br>存储整个CDB的元数据的数据字典仅存储在系统表空间中。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-5C339A60-2163-4ECE-B7A9-4D67D3D894FB" title="容器是多租户容器数据库（CDB）中的模式，对象和相关结构的集合。在CDB中，每个容器都有唯一的ID和名称。">CDB中的容器概述</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="CNCPT89347"></a><a id="CNCPT89346"></a><div class="props_rev_3"><a id="GUID-0AF14A64-DD38-4755-94ED-2021CE137A90" name="GUID-0AF14A64-DD38-4755-94ED-2021CE137A90"></a><h5 id="MULTI-GUID-0AF14A64-DD38-4755-94ED-2021CE137A90" class="sect5"><span class="enumeration_section">2.1.3.1</span>数据字典分离的目的</h5>
                     <div>
                        <p>在新创建的尚未包含用户数据的非CDB中，数据字典仅包含系统元数据。例如， <code class="codeph">TAB$</code>表包含仅描述Oracle提供的表的行，例如<code class="codeph">TRIGGER$</code>和<code class="codeph">SERVICE$</code> 。
                        </p>
                        <p>下图描绘了三个基础数据字典表，红色条表示描述系统的行。</p>
                        <div class="figure" id="GUID-0AF14A64-DD38-4755-94ED-2021CE137A90__GUID-647E292D-76FB-4248-A891-1FCB55388CEA">
                           <p class="titleinfigure">图2-2非CDB中未混合的数据字典元数据</p><img src="img/cncpt_vm_363.png" alt="下面是图2-2的描述" title="下面是图2-2的描述" longdesc="img_text/cncpt_vm_363.html"><br><a href="img_text/cncpt_vm_363.html">“图2-2非CDB中未混合数据字典元数据”的描述</a></div>
                        <!-- class="figure" -->
                        <p>如果用户在此非CDB中创建自己的模式和表，则数据字典现在包含一些描述Oracle提供的实体的行，以及描述用户创建的实体的其他行。例如， <code class="codeph">TAB$</code>字典表现在有一行描述<code class="codeph">employees</code> ，一行描述<code class="codeph">departments</code> 。
                        </p>
                        <div class="figure" id="GUID-0AF14A64-DD38-4755-94ED-2021CE137A90__GUID-A14C0DC8-58A4-47EA-9C82-90FF2CAFA591">
                           <p class="titleinfigure">图2-3非CDB中的混合数据字典元数据</p><img src="img/cncpt_vm_362.png" alt="下面是图2-3的描述" title="下面是图2-3的描述" longdesc="img_text/cncpt_vm_362.html"><br><a href="img_text/cncpt_vm_362.html">“图2-3非CDB中的混合数据字典元数据”的描述</a></div>
                        <!-- class="figure" -->
                        <p>在CDB中，数据字典元数据在根和PDB之间分开。在下图中， <code class="codeph">employees</code>和<code class="codeph">departments</code>表位于PDB中。该用户数据的数据字典也驻留在PDB中。因此，PDB中的<code class="codeph">TAB$</code>表具有<code class="codeph">employees</code>表的行和<code class="codeph">departments</code>表的行。
                        </p>
                        <div class="figure" id="GUID-0AF14A64-DD38-4755-94ED-2021CE137A90__CIHBJBFA">
                           <p class="titleinfigure">图2-4 CDB中的数据字典体系结构</p><img src="img/cncpt_vm_361.png" alt="下面是图2-4的描述" title="下面是图2-4的描述" longdesc="img_text/cncpt_vm_361.html"><br><a href="img_text/cncpt_vm_361.html">“图2-4数据字典体系结构在CDB中”的描述</a></div>
                        <!-- class="figure" -->
                        <p>上图显示PDB中的数据字典包含指向根中数据字典的指针。在内部，Oracle提供的对象（如数据字典表定义和PL / SQL包） <span class="italic">仅</span>在根中表示。该架构在CDB中实现了两个主要目标：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>减少重复</p>
                              <p>例如，CDB不是在每个PDB中存储<code class="codeph">DBMS_ADVISOR</code> PL / SQL包的源代码，而是仅将其存储在<code class="codeph">CDB$ROOT</code> ，这样可以节省磁盘空间。
                              </p>
                           </li>
                           <li>
                              <p>易于数据库升级</p>
                              <p>如果每个PDB中都存在数据字典表的定义，并且如果要在新版本中更改定义，则需要单独升级每个PDB以捕获更改。仅在根中存储一次表定义可以消除此问题。</p>
                           </li>
                        </ul>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-A356382A-413A-4A42-98DC-6C2464808202" title="从用户和应用程序的角度来看，CDB中每个容器中的数据字典是独立的，就像在非CDB中一样。">CDB中的数据字典体系结构</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="CNCPT89348"></a><div class="props_rev_3"><a id="GUID-C7F5F6BD-E905-4402-A685-D4A79CF565EA" name="GUID-C7F5F6BD-E905-4402-A685-D4A79CF565EA"></a><h5 id="MULTI-GUID-C7F5F6BD-E905-4402-A685-D4A79CF565EA" class="sect5"><span class="enumeration_section">2.1.3.2</span>元数据和数据链接</h5>
                     <div>
                        <p>CDB使用内部链接机制来分离数据字典信息。</p>
                        <p>具体来说，Oracle数据库使用以下自动管理的指针：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>元数据链接</p>
                              <p>Oracle数据库仅在CDB根目录中存储有关字典对象的元数据。例如，作为<code class="codeph">DBA_OBJECTS</code>数据字典视图基础的<code class="codeph">OBJ$</code>字典表的列定义仅存在于根中。<a href="overview-of-the-multitenant-architecture.html#GUID-0AF14A64-DD38-4755-94ED-2021CE137A90__CIHBJBFA">如图2-4</a>所示，每个PDB中的<code class="codeph">OBJ$</code>表使用称为<a href="glossary.html#GUID-CFF95408-C548-4FE2-AFBA-39F647E3AC32"><span class="xrefglossterm">元数据链接</span></a>的内部机制来指向存储在根中的<code class="codeph">OBJ$</code>的定义。
                              </p>
                              <p>对应于元数据的链接<span class="italic">数据</span>驻留在其PDB，而不是在根。例如，如果在<code class="codeph">hrpdb</code>创建表<code class="codeph">mytable</code> <code class="codeph">hrpdb</code>其添加行，则行将存储在PDB数据文件中。PDB和根中的数据字典视图包含不同的行。例如，描述<code class="codeph">mytable</code>的新行存在于<code class="codeph">hrpdb</code>的<code class="codeph">OBJ$</code>表中，但不存在于CDB根目录的<code class="codeph">OBJ$</code>表中。因此，查询<code class="codeph">DBA_OBJECTS</code>在CDB根和<code class="codeph">DBA_OBJECTS</code>在<code class="codeph">hrdpb</code>示出了不同的结果。
                              </p>
                           </li>
                           <li>
                              <p>数据链接</p>
                              <div class="infoboxnote" id="GUID-C7F5F6BD-E905-4402-A685-D4A79CF565EA__GUID-E53587C7-7F99-4F0F-B386-2C21894E9696">
                                 <p class="notep1">注意：</p>
                                 <p>数据链接在<span>Oracle Database 12c</span>第1版（12.1.0.2）中称为<span class="italic">对象链接</span> 。
                                 </p>
                              </div>
                              <p>在某些情况下，Oracle数据库仅在应用程序根目录中存储对象的数据（不仅仅是元数据）。应用程序PDB使用称为<a href="glossary.html#GUID-58284157-F969-4848-92A2-6484C64A2CD3"><span class="xrefglossterm">数据链接</span></a>的内部机制来引用应用程序根目录中的对象。创建数据链接的应用程序PDB也存储数据链接描述。数据链接继承它引用的对象的数据类型。
                              </p>
                           </li>
                           <li>
                              <p>扩展数据链接</p>
                              <p>扩展数据链路是数据链路和元数据链路的混合。与数据链接一样，扩展数据链接指的是应用程序根目录中的对象。但是，扩展数据链接也指应用程序PDB中的相应对象。与元数据链接一样，应用程序PDB中的对象从应用程序根目录中的相应对象继承元数据。</p>
                              <p>在应用程序根目录中查询时，扩展的数据链接对象仅从应用程序根目录中获取行。但是，在应用程序PDB中查询时，扩展数据链接对象从应用程序根目录和应用程序PDB中获取行。</p>
                           </li>
                        </ul>
                        <p>Oracle数据库自动创建和管理<code class="codeph">CDB$ROOT</code>元数据和数据链接。用户无法添加，修改或删除这些链接。
                        </p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-C7F5F6BD-E905-4402-A685-D4A79CF565EA__GUID-4ADFA3B9-13F6-4209-A271-3240352DD3AA">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="q">“ <a href="overview-of-the-multitenant-architecture.html#GUID-9900D18F-989B-4746-A5CE-04A8D9F9751C" title="应用程序公共对象是在应用程序根目录中的应用程序中创建的公共对象。公共对象是数据链接的或元数据链接的。">应用程序通用对象</a> ”</span></p>
                              </li>
                              <li>
                                 <p><a href="../cncpt/data-dictionary-and-dynamic-performance-views.html#CNCPT-GUID-9B9ABE1C-A1E3-464F-8936-978250DC3E1F" target="_blank"><span><cite>Oracle Database Concepts，</cite></span></a>用于概述数据字典</p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-A356382A-413A-4A42-98DC-6C2464808202" title="从用户和应用程序的角度来看，CDB中每个容器中的数据字典是独立的，就像在非CDB中一样。">CDB中的数据字典体系结构</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="CNCPT89350"></a><a id="CNCPT89351"></a><a id="CNCPT89349"></a><div class="props_rev_3"><a id="GUID-1A22B2C5-B302-450E-BB41-6CB6B1AE75B0" name="GUID-1A22B2C5-B302-450E-BB41-6CB6B1AE75B0"></a><h5 id="MULTI-GUID-1A22B2C5-B302-450E-BB41-6CB6B1AE75B0" class="sect5"><span class="enumeration_section">2.1.3.3</span> CDB中的容器数据对象</h5>
                     <div>
                        <p><span class="bold">容器数据对象</span>是包含与多个容器或整个CDB有关的数据的表或视图。</p>
                        <p>容器数据特权支持一般要求，其中多个PDB驻留在单个CDB中，但具有不同的本地管理要求。例如，如果应用程序DBA不想在本地管理，那么他们可以将适当视图的容器数据权限授予普通用户。在这种情况下，CDB管理员可以访问这些PDB的数据。相反，不希望CDB管理员访问其数据的PDB管理员不授予容器数据权限。</p>
                        <p>容器数据对象的示例是Oracle提供的视图，其名称以<code class="codeph">V$</code>和<code class="codeph">CDB_</code> 。所有容器数据对象都有一个<code class="codeph">CON_ID</code>列。下表显示了此列的值的含义。
                        </p>
                        <div class="tblformal" id="GUID-1A22B2C5-B302-450E-BB41-6CB6B1AE75B0__CIHGEJIG">
                           <p class="titleintable">表2-1容器ID值</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="容器ID值" width="100%" border="1" summary="This table shows the meaning of the values for the CON_ID column." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="19%" id="d10378e2238">货柜ID</th>
                                    <th align="left" valign="bottom" width="81%" id="d10378e2241">行属于</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d10378e2246" headers="d10378e2238 ">
                                       <p><code class="codeph">0</code></p>
                                    </td>
                                    <td align="left" valign="top" width="81%" headers="d10378e2246 d10378e2241 ">
                                       <p>整个CDB，或非CDB</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d10378e2254" headers="d10378e2238 ">
                                       <p><code class="codeph">1</code></p>
                                    </td>
                                    <td align="left" valign="top" width="81%" headers="d10378e2254 d10378e2241 ">
                                       <p><code class="codeph">CDB $ ROOT</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d10378e2263" headers="d10378e2238 ">
                                       <p><code class="codeph">2</code></p>
                                    </td>
                                    <td align="left" valign="top" width="81%" headers="d10378e2263 d10378e2241 ">
                                       <p><code class="codeph">PDB $ SEED</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d10378e2272" headers="d10378e2238 ">
                                       <p>所有其他ID</p>
                                    </td>
                                    <td align="left" valign="top" width="81%" headers="d10378e2272 d10378e2241 ">
                                       <p>用户创建的PDB，应用程序根或应用程序种子</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>在CDB中，对于每个<code class="codeph">DBA_</code>视图，都存在相应的<code class="codeph">CDB_</code>视图。<code class="codeph">CDB_</code>视图的所有者是相应<code class="codeph">DBA_</code>视图的所有者。下图显示了不同类别的字典视图之间的关系：</p>
                        <div class="figure" id="GUID-1A22B2C5-B302-450E-BB41-6CB6B1AE75B0__GUID-BD297D24-43B1-4578-B925-E525E1D2E762">
                           <p class="titleinfigure">图2-5 CDB中的字典视图</p><img src="img/cncpt_vm_366.png" alt="下面是图2-5的描述" title="下面是图2-5的描述" longdesc="img_text/cncpt_vm_366.html"><br><a href="img_text/cncpt_vm_366.html">“图2-5 CDB中的字典视图”的描述</a></div>
                        <!-- class="figure" -->
                        <p>当前容器是PDB时，用户只能查看当前PDB的数据字典信息。对于连接到PDB的应用程序，数据字典显示为非CDB的数据字典。但是，当前容器是根时，普通用户可以查询<code class="codeph">CDB_</code>视图以查看根用户和此用户具有特权的PDB的元数据。
                        </p>
                        <div class="infoboxnote" id="GUID-1A22B2C5-B302-450E-BB41-6CB6B1AE75B0__GUID-B45166E6-CFFD-406B-BA9F-730C0A7D99CA">
                           <p class="notep1">注意：</p>
                           <p>从根容器查询时， <code class="codeph">CDB_</code>和<code class="codeph">V$</code>视图隐式地将数据转换为AL32UTF8字符集。如果字符集在转换为AL32UTF8时需要更多字节来表示字符，并且如果视图列宽度无法容纳来自特定PDB的数据，则可以进行数据截断。
                           </p>
                        </div>
                        <p>下表显示了涉及<code class="codeph">CDB_</code>视图查询的<code class="codeph">CDB_</code> 。每行描述在前一行中的操作之后发生的操作。
                        </p>
                        <div class="tblformalwide" id="GUID-1A22B2C5-B302-450E-BB41-6CB6B1AE75B0__QUERYINGCDB_VIEWS-1BFA3C28">
                           <p class="titleintable">表2-2查询CDB_视图</p>
                           <table cellpadding="4" cellspacing="0" class="FormalWide" title="查询CDB_视图" width="100%" border="1" summary="Querying CDB_ views" frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="20%" id="d10378e2326">手术</th>
                                    <th align="left" valign="bottom" width="20%" id="d10378e2329">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d10378e2334" headers="d10378e2326 "><pre class="pre codeblock"><code>SQL&gt; CONNECT SYSTEM输入密码：********已连接。</code></pre></td>
                                    <td align="left" valign="top" width="20%" headers="d10378e2334 d10378e2329 ">
                                       <p><code class="codeph">SYSTEM</code>用户（CDB中的所有容器都是通用的）连接到根（请参阅<span class="q">“ <a href="overview-of-the-multitenant-architecture.html#GUID-19337B94-645B-45E8-842C-762BBC544B13" title="在系统容器（CDB）或应用程序容器的上下文中，公共用户是在根容器中以及此容器内的每个现有和将来的PDB中具有相同标识的数据库用户。">CDB中的普通用户</a> ”</span> ）。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d10378e2354" headers="d10378e2326 "><pre class="pre codeblock"><code>SQL&gt; SELECT COUNT（*）FROM CDB_USERS WHERE CON_ID = 1; COUNT（*）-------- 41</code></pre></td>
                                    <td align="left" valign="top" width="20%" headers="d10378e2354 d10378e2329 ">
                                       <p><code class="codeph">SYSTEM</code>查询<code class="codeph">CDB_USERS</code>以获取CDB中的公共用户数。输出表明存在41个普通用户。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d10378e2366" headers="d10378e2326 "><pre class="pre codeblock"><code>SQL&gt; SELECT COUNT（DISTINCT（CON_ID））FROM CDB_USERS; COUNT（DISTINCT（CON_ID））----------------------- 4</code></pre></td>
                                    <td align="left" valign="top" width="20%" headers="d10378e2366 d10378e2329 ">
                                       <p><code class="codeph">SYSTEM</code>查询<code class="codeph">CDB_USERS</code>以确定CDB中不同容器的数量。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d10378e2378" headers="d10378e2326 "><pre class="pre codeblock"><code>SQL&gt; CONNECT SYSTEM @hrdb输入密码：********已连接。</code></pre></td>
                                    <td align="left" valign="top" width="20%" headers="d10378e2378 d10378e2329 ">
                                       <p><code class="codeph">SYSTEM</code>用户现在连接到名为<code class="codeph">hrpdb</code>的PDB。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d10378e2391" headers="d10378e2326 "><pre class="pre codeblock"><code>SQL&gt; SELECT COUNT（*）FROM CDB_USERS; COUNT（*）---------- 45</code></pre></td>
                                    <td align="left" valign="top" width="20%" headers="d10378e2391 d10378e2329 ">
                                       <p><code class="codeph">SYSTEM</code>查询<code class="codeph">CDB_USERS</code> 。输出表明存在45个用户。由于<code class="codeph">SYSTEM</code>未连接到根，因此<code class="codeph">CDB_USERS</code>视图显示与<code class="codeph">DBA_USERS</code>相同的输出。因为<code class="codeph">DBA_USERS</code>仅显示<span class="italic">当前</span>容器中的用户，所以它显示45。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-1A22B2C5-B302-450E-BB41-6CB6B1AE75B0__GUID-D1A3621E-4DA2-4421-857E-011179130C32">
                           <p class="notep1">也可以看看：</p>
                           <p><span class="q">“ <a href="viewing-information-about-cdbs-and-pdbs-with-sql-plus.html#GUID-EA8E7462-1083-4C16-B958-E3F7D4BBDFB9" title="在CDB中，数据字典表和视图定义的元数据仅存储在根中。">关于视图中的CDB和容器信息</a> ”</span>以了解有关容器数据对象的更多信息</p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-A356382A-413A-4A42-98DC-6C2464808202" title="从用户和应用程序的角度来看，CDB中每个容器中的数据字典是独立的，就像在非CDB中一样。">CDB中的数据字典体系结构</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="CNCPT89456"></a><div class="props_rev_3"><a id="GUID-F9CD5EAB-66EB-4450-9136-93C7DB27E316" name="GUID-F9CD5EAB-66EB-4450-9136-93C7DB27E316"></a><h5 id="MULTI-GUID-F9CD5EAB-66EB-4450-9136-93C7DB27E316" class="sect5"><span class="enumeration_section">2.1.3.4</span> CDB中的数据字典存储</h5>
                     <div>
                        <p>存储整个CDB的元数据的数据字典仅存储在系统表空间中。</p>
                        <p>存储特定PDB的元数据的数据字典存储在专用于该PDB的独立表空间中。 PDB表空间包含应用程序后端的数据和元数据。因此，每组数据字典表存储在其自己的专用表空间集中。</p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-F9CD5EAB-66EB-4450-9136-93C7DB27E316__GUID-EA807B3E-A81D-4866-8B1D-2DF7066B81A8">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><a href="../cncpt/data-dictionary-and-dynamic-performance-views.html#CNCPT-GUID-9B9ABE1C-A1E3-464F-8936-978250DC3E1F" target="_blank"><span><cite>Oracle Database Concepts，</cite></span></a>用于概述数据字典</p>
                              </li>
                              <li>
                                 <p><span class="q">“ <a href="overview-of-the-multitenant-architecture.html#GUID-5902ABDC-40BE-4CF4-9917-A5D7F4C396F1" title="CDB具有与非CDB相同的结构，除了每个PDB和应用程序根都有自己的一组表空间，包括它自己的SYSTEM，SYSAUX和undo表空间。">CDB中的表空间和数据库文件概述</a> ”</span></p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-A356382A-413A-4A42-98DC-6C2464808202" title="从用户和应用程序的角度来看，CDB中每个容器中的数据字典是独立的，就像在非CDB中一样。">CDB中的数据字典体系结构</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="CNCPT89457"></a><div class="props_rev_3"><a id="GUID-2278B77D-9D81-46A8-9F57-6F5F8B96964C" name="GUID-2278B77D-9D81-46A8-9F57-6F5F8B96964C"></a><h4 id="MULTI-GUID-2278B77D-9D81-46A8-9F57-6F5F8B96964C" class="sect4"><span class="enumeration_section">2.1.4</span>现有集装箱</h4>
                  <div>
                     <p>对于给定的会话，当前容器是会话正在运行的容器。当前容器可以是CDB根，应用程序根或PDB。</p>
                     <p>每个会话在任何时间点都只有一个当前容器。由于每个容器中的数据字典是独立的，因此Oracle数据库使用当前容器中的数据字典进行名称解析和权限授权。</p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-2278B77D-9D81-46A8-9F57-6F5F8B96964C__GUID-1F0ED68E-075B-467B-8034-EDEAEF5BC09C">
                        <p class="notep1">也可以看看：</p>
                        <p><span class="q">“ <a href="administering-a-cdb-with-sql-plus.html#GUID-E1BBCE0F-76CA-49F3-9A6B-AC6B13AB9AC5" title="CDB中每个容器中的数据字典是独立的，当前容器是其数据字典用于名称解析和权限授权的容器。">关于当前的容器</a> ”</span></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-5C339A60-2163-4ECE-B7A9-4D67D3D894FB" title="容器是多租户容器数据库（CDB）中的模式，对象和相关结构的集合。在CDB中，每个容器都有唯一的ID和名称。">CDB中的容器概述</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="CNCPT89304"></a><div class="props_rev_3"><a id="GUID-05B15BE7-D8CD-4D8C-A33F-38C1BB09D893" name="GUID-05B15BE7-D8CD-4D8C-A33F-38C1BB09D893"></a><h4 id="MULTI-GUID-05B15BE7-D8CD-4D8C-A33F-38C1BB09D893" class="sect4"><span class="enumeration_section">2.1.5</span>跨集装箱运营</h4>
                  <div>
                     <p><strong class="term">跨容器操作</strong>是一次影响多个容器的DDL或DML语句。
                     </p>
                     <p>只有连接到CDB根目录或应用程序根目录的普通用户才能执行跨容器操作。跨容器操作可能会影响：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>CDB本身</p>
                        </li>
                        <li>
                           <p>CDB中的多个容器</p>
                        </li>
                        <li>
                           <p>多个现象，例如在多个容器中表示的普通用户或公共角色</p>
                        </li>
                        <li>
                           <p>发出DDL或DML语句的用户当前未连接的容器</p>
                        </li>
                     </ul>
                     <p>跨容器DDL操作的示例包括用户<code class="codeph">SYSTEM</code>通常向另一个普通用户授予权限（请参阅<span class="q">“ <a href="overview-of-the-multitenant-architecture.html#GUID-30BAB0BC-3FCA-469C-A578-161271EAEB05" title="可以共同授予特权和共同角色。">CDB中常见的角色和权限</a> ”</span> ）和<code class="codeph">ALTER DATABASE . . .适用于整个CDB的RECOVER</code>语句。</p>
                     <p>当您连接到CDB根目录或应用程序根目录时，您可以执行单个DML语句来修改容器内多个PDB中的表或视图。数据库根据DML语句中指定的<code class="codeph">CON_ID</code>列的值推断目标PDB。如果未指定<code class="codeph">CON_ID</code> ，则数据库使用<code class="codeph">ALTER PLUGGABLE DATABASE CONTAINERS DEFAULT TARGET</code>语句指定的<code class="codeph">CONTAINERS_DEFAULT_TARGET</code>属性。
                     </p>
                     <div class="example" id="GUID-05B15BE7-D8CD-4D8C-A33F-38C1BB09D893__GUID-6F7E5F2F-BB2F-4446-A5C8-B3F2292C94C8">
                        <p class="titleinexample">示例2-3在单个DML语句中更新多个PDB</p>
                        <p>在此示例中，您的目标是在<code class="codeph">sh.sales</code>表中将<code class="codeph">country_name</code>列设置为值<code class="codeph">USA</code> 。该表存在于两个单独的PDB中，容器ID为<code class="codeph">7</code>和<code class="codeph">8</code> 。两个PDB都位于名为<code class="codeph">saas_sales_ac</code>的应用程序容器中。您可以以管理员身份连接到应用程序根目录，并按如下方式进行更新：</p><pre class="pre codeblock"><code>CONNECT sales_admin @ saas_sales_ac密码：******* UPDATE CONTAINERS（sh.sales）sal SET sal.country_name ='USA'WHERE sal。CON_ID IN（7,8）;</code></pre><p>在前面的<code class="codeph">UPDATE</code>语句中， <code class="codeph">sal</code>是<code class="codeph">CONTAINERS(sh.sales)</code>的别名。
                        </p>
                     </div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-05B15BE7-D8CD-4D8C-A33F-38C1BB09D893__GUID-A0F7587A-AE63-43EC-A4DF-13DFF4D1DF30">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="overview-of-the-multitenant-architecture.html#GUID-19337B94-645B-45E8-842C-762BBC544B13" title="在系统容器（CDB）或应用程序容器的上下文中，公共用户是在根容器中以及此容器内的每个现有和将来的PDB中具有相同标识的数据库用户。">CDB中的普通用户</a> ”</span></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="administering-a-cdb-with-sql-plus.html#GUID-2E5025EE-BED3-45A4-9EAA-B05C8DA66F97" title="管理多租户容器数据库（CDB）包括访问容器，修改CDB，执行DDL语句以及运行Oracle提供的SQL脚本等任务。">管理CDB</a> ”</span></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-5C339A60-2163-4ECE-B7A9-4D67D3D894FB" title="容器是多租户容器数据库（CDB）中的模式，对象和相关结构的集合。在CDB中，每个容器都有唯一的ID和名称。">CDB中的容器概述</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="CNCPT89352"></a><div class="props_rev_3"><a id="GUID-B8A0393D-EB92-4020-81EA-7773EE60330C" name="GUID-B8A0393D-EB92-4020-81EA-7773EE60330C"></a><h3 id="MULTI-GUID-B8A0393D-EB92-4020-81EA-7773EE60330C" class="sect3"><span class="enumeration_section">2.2</span>国家开发银行的共性概述</h3>
               <div>
                  <p>在CDB中，每个用户，角色或对象都是公共的或本地的。类似地，通常或本地授予特权。</p>
                  <p>本节包含以下主题：</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-B14FD999-8FB2-428E-9122-BCB55DE516B8">关于CDB的共性</a><br>在根中定义的常见现象在插入此根的所有容器中都是相同的。
                     </li>
                     <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-3BB161DA-9CC0-4D61-A2C1-5D3662E0DECF">CDB中的公共和本地用户概述</a><br>如果用户帐户拥有定义数据库的对象，则此用户帐户很常见。<span class="italic">非</span> Oracle提供的用户帐户是本地帐户或常用帐户。
                     </li>
                     <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-19E279FC-9E50-4AE7-B852-1C6409066BC1">CDB中的常见和本地角色概述</a><br>用户创建的角色是本地角色或常见角色。常见角色可以是CDB本身或特定应用程序容器共有的。
                     </li>
                     <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-16473474-7F47-4E40-A592-01836E7D911C">CDB中的权限和角色授予概述</a><br>就像在非CDB中一样，CDB中的用户可以授予并被授予角色和权限。但是，CDB中的角色和特权要么是本地的，要么是普遍授予的。
                     </li>
                     <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-8B4B4F8B-1C2B-42C3-BE77-E9AA25CA397A">CDB中的公共和本地对象概述</a><br><span class="bold">公共对象</span>在CDB根目录或应用程序根目录中定义，可以使用元数据链接或对象链接进行引用。本地对象是不是常见对象的每个对象。
                     </li>
                     <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-232E8018-9BA8-4412-BAA6-98FC9B19D8E3">通用审计配置概述</a><br>对于混合模式和统一审核，可以在所有PDB中查看和实施<span class="bold">通用审核配置</span> 。
                     </li>
                     <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-1F6D3E4F-786A-47A0-A36C-83BAB75FCDAE">PDB锁定配置文件概述</a><br><strong class="term">PDB锁定配置文件</strong>是一组命名功能，用于控制连接到PDB的用户可用的操作。例如，PDB锁定配置文件可以禁用<code class="codeph">ALTER SYSTEM</code>语句附带的权限。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-7F629DD8-D4DE-4FD7-9C35-38AC016DDCDC" title="本章介绍了多租户架构中最重要的组件。">多租户架构概述</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="sect3"><a id="GUID-B14FD999-8FB2-428E-9122-BCB55DE516B8" name="GUID-B14FD999-8FB2-428E-9122-BCB55DE516B8"></a><h4 id="MULTI-GUID-B14FD999-8FB2-428E-9122-BCB55DE516B8" class="sect4"><span class="enumeration_section">2.2.1</span>关于CDB的共性</h4>
                  <div>
                     <p>在根中定义的常见现象在插入此根的所有容器中都是相同的。</p>
                     <p>本节包含以下主题：</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-F90E5678-24A5-47B8-A507-FB5EAF162FB2">共性原则</a><br>在CDB中，现象在系统容器（CDB本身）内或在特定应用程序容器内是常见的。
                        </li>
                        <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-6A7183B5-E0AA-47E1-992C-838FDF21C3D9">CDB中的命名空间</a><br>在CDB中，每个对象的命名空间都限定在其容器中。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-B8A0393D-EB92-4020-81EA-7773EE60330C" title="在CDB中，每个用户，角色或对象都是公共的或本地的。类似地，通常或本地授予特权。">CDB中的通用性概述</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="sect4"><a id="GUID-F90E5678-24A5-47B8-A507-FB5EAF162FB2" name="GUID-F90E5678-24A5-47B8-A507-FB5EAF162FB2"></a><h5 id="MULTI-GUID-F90E5678-24A5-47B8-A507-FB5EAF162FB2" class="sect5"><span class="enumeration_section">2.2.1.1</span>共性原则</h5>
                     <div>
                        <p>在CDB中，现象在系统容器（CDB本身）内或在特定应用程序容器内是常见的。</p>
                        <p>例如，如果在连接到<code class="codeph">CDB$ROOT</code>时创建公共用户帐户，则此用户帐户对于CDB中的所有PDB和应用程序根是通用的。但是，如果在连接到应用程序根目录时创建应用程序通用用户帐户，则此用户帐户仅对此应用程序容器中的PDB通用。
                        </p>
                        <p>在<code class="codeph">CDB$ROOT</code>或应用程序根的上下文中，共性原则如下：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>每个现有和未来的容器中都会出现相同的现象。</p>
                              <p>因此，CDB根目录中定义的普通用户在插入CDB根目录的每个PDB中具有相同的标识;应用程序根目录中定义的公共用户在插入此应用程序根目录的每个应用程序PDB中具有相同的标识。相反，局部现象的范围仅限于一个现有容器。</p>
                           </li>
                           <li>
                              <p>只有普通用户才能改变普通现象的存在。</p>
                              <p>更准确地说，只有登录到CDB根目录或应用程序根目录的普通用户才能创建，销毁或修改当前容器共有的用户，角色或对象的属性。</p>
                           </li>
                        </ul>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-B14FD999-8FB2-428E-9122-BCB55DE516B8" title="在根中定义的常见现象在插入此根的所有容器中都是相同的。">关于CDB中的通用性</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="CNCPT89396"></a><div class="props_rev_3"><a id="GUID-6A7183B5-E0AA-47E1-992C-838FDF21C3D9" name="GUID-6A7183B5-E0AA-47E1-992C-838FDF21C3D9"></a><h5 id="MULTI-GUID-6A7183B5-E0AA-47E1-992C-838FDF21C3D9" class="sect5"><span class="enumeration_section">2.2.1.2</span> CDB中的命名空间</h5>
                     <div>
                        <p>在CDB中，每个对象的命名空间都限定在其容器中。</p>
                        <p>以下原则总结了范围规则：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>从应用程序的角度来看，PDB与非CDB无法区分。</p>
                           </li>
                           <li>
                              <p>局部现象在单个容器内创建并限制在单个容器内。</p>
                              <div class="infoboxnote" id="GUID-6A7183B5-E0AA-47E1-992C-838FDF21C3D9__GUID-39CA8044-DD75-47A2-A5D0-3F1EB3ED1CB5">
                                 <p class="notep1">注意：</p>
                                 <p>在本主题中，“现象”一词表示“用户帐户，角色或数据库对象”。</p>
                              </div>
                           </li>
                           <li>
                              <p>常见现象在CDB根目录或应用程序根目录中定义，并且存在于将插入或将插入此根目录的所有PDB中。</p>
                           </li>
                        </ul>
                        <p>前述原则对局部和普通现象有影响。</p>
                        <div class="section">
                           <p class="subhead3" id="GUID-6A7183B5-E0AA-47E1-992C-838FDF21C3D9__GUID-1EA7443F-1AC0-4D7B-9E31-5CB33558E2DE">地方现象</p>
                           <p>必须<span class="italic">在</span>容器中唯一地命名本地现象，但不能在CDB中的所有容器中命名。不同容器中同名的局部现象是截然不同的。例如，本地用户<code class="codeph">sh</code>在一个PDB不与本地用户发生冲突<code class="codeph">sh</code>在另一个PDB。</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-6A7183B5-E0AA-47E1-992C-838FDF21C3D9__GUID-DDFEAFB7-FF7F-4A6E-A5FD-4721B93A8EDD">CDB $ ROOT常见现象</p>
                           <p><code class="codeph">CDB$ROOT</code>定义的常见现象存在于多个容器中，并且在每个命名空间中必须是唯一的。例如，CDB根包括预定义的公共用户，例如<code class="codeph">SYSTEM</code>和<code class="codeph">SYS</code> 。为确保命名空间分离，Oracle数据库禁止在另一个容器中创建<code class="codeph">SYSTEM</code>用户。
                           </p>
                           <p>为确保命名空间分离，CDB根目录中用户创建的公共现象的名称必须以<code class="codeph">COMMON_USER_PREFIX</code>初始化参数指定的值开头。默认前缀是<code class="codeph">c##</code>或<code class="codeph">C##</code> 。所有<span class="italic">其他</span>用户创建的现象的名称<span class="italic">不得</span>以<code class="codeph">c##</code>或<code class="codeph">C##</code>开头。例如，您无法在名为<code class="codeph">c##hr</code> <code class="codeph">hrpdb</code>创建本地用户，也无法在名为<code class="codeph">hr</code>的CDB根目录中创建公共用户。
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-6A7183B5-E0AA-47E1-992C-838FDF21C3D9__GUID-A5C2C9F3-302D-4BCC-B137-F25A782979D1">应用常见现象</p>
                           <p>在应用程序容器中，本地和应用程序常见现象的名称不得冲突。</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>应用程序常见用户和角色</p>
                                 <p>相同的原则适用于应用普通用户和CDB普通用户。不同之处在于，对于CDB普通用户，公共用户前缀的默认值为<code class="codeph">c##</code>或<code class="codeph">C##</code> ，而在应用程序根目录中，公共用户前缀的默认值为空字符串。
                                 </p>
                                 <p>多租户架构假定您从应用程序根创建应用程序PDB，或将单租户应用程序转换为多租户应用程序。</p>
                              </li>
                              <li>
                                 <p>应用常用对象</p>
                                 <p>多租户架构假定您在应用程序根目录中创建应用程序公共对象。稍后，您将在应用程序PDB中本地添加数据。但是，Oracle数据库支持在应用程序PDB中创建<span class="italic">本地</span>表。在这种情况下，本地表与应用程序PDB中的应用程序公共对象驻留在同一名称空间中。</p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-6A7183B5-E0AA-47E1-992C-838FDF21C3D9__ORACLEDATABASESECURITYTOLEARNMOREAB-7C55A216">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="../dbseg/managing-security-for-oracle-database-users.html#DBSEG830" target="_blank"><span><cite>Oracle数据库安全指南</cite></span></a>了解有关常见用户和角色的更多信息</p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-B14FD999-8FB2-428E-9122-BCB55DE516B8" title="在根中定义的常见现象在插入此根的所有容器中都是相同的。">关于CDB中的通用性</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="CNCPT89397"></a><a id="CNCPT89257"></a><div class="props_rev_3"><a id="GUID-3BB161DA-9CC0-4D61-A2C1-5D3662E0DECF" name="GUID-3BB161DA-9CC0-4D61-A2C1-5D3662E0DECF"></a><h4 id="MULTI-GUID-3BB161DA-9CC0-4D61-A2C1-5D3662E0DECF" class="sect4"><span class="enumeration_section">2.2.2</span> CDB中普通用户和本地用户概述</h4>
                  <div>
                     <p>如果用户帐户拥有定义数据库的对象，则此用户帐户很常见。<span class="italic">非</span> Oracle提供的用户帐户是本地帐户或常用帐户。
                     </p>
                     <p>CDB普通用户是在<a href="glossary.html#GUID-1C63428A-905A-4918-95AA-F3BBA3D2B825"><span class="xrefglossterm">CDB根目录中</span></a>创建的普通用户。<a href="glossary.html#GUID-57DA85A0-ECFD-4C16-8553-ADC602A7CCC6"><span class="xrefglossterm">应用程序公共用户</span></a>是在应用程序根目录中创建的用户，并且仅在此应用程序容器中是常见的。
                     </p>
                     <p>下图显示了CDB中可能的用户帐户类型。</p>
                     <div class="figure" id="GUID-3BB161DA-9CC0-4D61-A2C1-5D3662E0DECF__CIHIDFJD">
                        <p class="titleinfigure">图2-6 CDB中的用户帐户</p><img src="img/cncpt370.png" alt="下面是图2-6的描述" title="下面是图2-6的描述" longdesc="img_text/cncpt370.html"><br><a href="img_text/cncpt370.html">“图2-6 CDB中的用户帐户”的说明</a></div>
                     <!-- class="figure" -->
                     <p>CDB普通用户可以连接到CDB中具有足够权限的<span class="italic">任何</span>容器。相反，应用程序通用用户只能连接到创建它的应用程序根目录，或者连接到此应用程序根目录的PDB，具体取决于其权限。
                     </p>
                     <p>本节包含以下主题：</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-19337B94-645B-45E8-842C-762BBC544B13">CDB中的普通用户</a><br>在系统容器（CDB）或应用程序容器的上下文中， <span class="bold">公共用户</span>是在根容器中以及此容器内的每个现有和将来的PDB中具有相同标识的数据库用户。
                        </li>
                        <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-44E8518A-E02C-429C-9B06-16078EB3251A">CDB中的本地用户</a><br><strong class="term">本地用户</strong>是不常见的数据库用户，只能在单个PDB中运行。</li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-3BB161DA-9CC0-4D61-A2C1-5D3662E0DECF__GUID-9D953C13-EA7B-4AA4-A34E-04910814EC01">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="../dbseg/managing-security-for-oracle-database-users.html#GUID-BBBD9904-F2F3-442B-9AFC-8ACDD9A588D8" target="_blank"><span><cite>“Oracle数据库安全指南”</cite></span></a> ，了解常见用户和本地用户的概述</p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-B8A0393D-EB92-4020-81EA-7773EE60330C" title="在CDB中，每个用户，角色或对象都是公共的或本地的。类似地，通常或本地授予特权。">CDB中的通用性概述</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="CNCPT89258"></a><a id="CNCPT89259"></a><div class="props_rev_3"><a id="GUID-19337B94-645B-45E8-842C-762BBC544B13" name="GUID-19337B94-645B-45E8-842C-762BBC544B13"></a><h5 id="MULTI-GUID-19337B94-645B-45E8-842C-762BBC544B13" class="sect5"><span class="enumeration_section">2.2.2.1</span> CDB中的普通用户</h5>
                     <div>
                        <p>在系统容器（CDB）或应用程序容器的上下文中， <span class="bold">公共用户</span>是在根容器中以及此容器内的每个现有和将来的PDB中具有相同标识的数据库用户。
                        </p>
                        <p>每个普通用户都可以在其容器的根目录内以及在具有足够权限的任何PDB内连接并执行操作。某些管理任务必须由普通用户执行。示例包括创建PDB和拔出PDB。</p>
                        <p>例如， <code class="codeph">SYSTEM</code>是具有DBA权限的CDB普通用户。因此， <code class="codeph">SYSTEM</code>可以连接到CDB根目录和数据库中的任何PDB。您可以在<code class="codeph">saas_sales</code>应用程序容器中创建公共用户<code class="codeph">saas_sales_admin</code> 。在这种情况下， <code class="codeph">saas_sales_admin</code>用户<span class="italic">只能</span>连接到<code class="codeph">saas_sales</code>应用程序根目录或<code class="codeph">saas_sales</code>应用程序容器中的应用程序PDB。
                        </p>
                        <p>每个普通用户都是Oracle提供的或用户创建的。Oracle提供的普通用户的示例是<code class="codeph">SYS</code>和<code class="codeph">SYSTEM</code> 。每个用户创建的普通用户都是CDB普通用户或应用程序普通用户。
                        </p>
                        <p><a href="overview-of-the-multitenant-architecture.html#GUID-19337B94-645B-45E8-842C-762BBC544B13__CEGJAAGC">图2-7</a>显示了两个PDB中的示例用户和模式： <code class="codeph">hrpdb</code>和<code class="codeph">salespdb</code> 。<code class="codeph">SYS</code>和<code class="codeph">c##dba</code>是在<code class="codeph">CDB$ROOT</code> ， <code class="codeph">hrpdb</code>和<code class="codeph">salespdb</code>具有模式的CDB普通用户。本地用户<code class="codeph">hr</code>和<code class="codeph">rep</code>存在于<code class="codeph">hrpdb</code> 。本地用户<code class="codeph">hr</code>和<code class="codeph">rep</code>也存在于<code class="codeph">salespdb</code> 。
                        </p>
                        <div class="figure" id="GUID-19337B94-645B-45E8-842C-762BBC544B13__CEGJAAGC">
                           <p class="titleinfigure">图2-7 CDB中的用户和模式</p><img src="img/cncpt340.png" width="594" alt="下面是图2-7的描述" title="下面是图2-7的描述" longdesc="img_text/cncpt340.html"><br><a href="img_text/cncpt340.html">“图2-7 CDB中的用户和模式”的描述</a></div>
                        <!-- class="figure" -->
                        <p>普通用户具有以下特征：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>普通用户可以登录到具有<code class="codeph">CREATE SESSION</code>权限的任何容器（包括<code class="codeph">CDB$ROOT</code> ）。
                              </p>
                              <p>普通用户不需要在每个容器中具有相同的权限。例如， <code class="codeph">c##dba</code>用户可能有权在<code class="codeph">hrpdb</code>和root中创建会话，但<span class="italic">不能</span>在<code class="codeph">salespdb</code>创建会话。由于具有适当权限的普通用户可以在容器之间切换，因此根目录中的普通用户可以管理PDB。
                              </p>
                           </li>
                           <li>
                              <p>应用程序通用用户在其自己的应用程序容器外的任何容器中都没有<code class="codeph">CREATE SESSION</code>权限。
                              </p>
                              <p>因此，应用程序公共用户被限制在其自己的应用程序容器中。例如，在<code class="codeph">saas_sales</code>应用程序中创建的应用程序通用用户只能连接到应用程序根目录和<code class="codeph">saas_sales</code>应用程序容器中的PDB。
                              </p>
                           </li>
                           <li>
                              <p>用户创建的CDB公共用户的名称必须遵循其他数据库用户的命名规则。此外，名称必须以<code class="codeph">COMMON_USER_PREFIX</code>初始化参数指定的字符开头，默认情况下为<code class="codeph">c##</code>或<code class="codeph">C##</code> 。Oracle提供的通用用户名和用户创建的应用程序通用用户名没有此限制。
                              </p>
                              <p>没有本地用户名可以以字符<code class="codeph">c##</code>或<code class="codeph">C##</code>开头。
                              </p>
                           </li>
                           <li>
                              <p>每个公共用户都在容器（系统容器或特定应用程序容器）中创建它的所有PDB中唯一命名。</p>
                              <p>CDB通用用户在CDB根目录中定义，但必须能够连接到具有相同标识的每个PDB。应用程序公共用户驻留在应用程序根目录中，并且可以使用相同的标识连接到<span class="italic">其容器中的</span>每个应用程序PDB。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-19337B94-645B-45E8-842C-762BBC544B13__GUID-E48B4236-84A7-47E4-A01D-F744986D5B78">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><a href="../dbseg/managing-security-for-oracle-database-users.html#DBSEG580" target="_blank"><span><cite>Oracle数据库安全指南</cite></span></a>了解常见用户帐户</p>
                              </li>
                              <li>
                                 <p><a href="../refrn/COMMON_USER_PREFIX.html#GUID-516ADCCF-3661-4B54-908A-7041854EA14F" target="_blank"><span><cite>Oracle Database Reference</cite></span></a>了解<code class="codeph">COMMON_USER_PREFIX</code></p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-3BB161DA-9CC0-4D61-A2C1-5D3662E0DECF" title="如果用户帐户拥有定义数据库的对象，则此用户帐户很常见。非Oracle提供的用户帐户是本地帐户或常用帐户。">CDB中的公共和本地用户概述</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="CNCPT89353"></a><a id="CNCPT89260"></a><div class="props_rev_3"><a id="GUID-44E8518A-E02C-429C-9B06-16078EB3251A" name="GUID-44E8518A-E02C-429C-9B06-16078EB3251A"></a><h5 id="MULTI-GUID-44E8518A-E02C-429C-9B06-16078EB3251A" class="sect5"><span class="enumeration_section">2.2.2.2</span> CDB中的本地用户</h5>
                     <div>
                        <p><strong class="term">本地用户</strong>是不常见的数据库用户，只能在单个PDB中运行。</p>
                        <p>本地用户具有以下特征：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>本地用户特定于PDB，并且可能拥有此PDB中的架构。</p>
                              <p>在<a href="overview-of-the-multitenant-architecture.html#GUID-19337B94-645B-45E8-842C-762BBC544B13__CEGJAAGC">图2-7中</a> ， <code class="codeph">hrpdb</code>上的本地用户<code class="codeph">hr</code>拥有<code class="codeph">hr</code>模式。在<code class="codeph">salespdb</code> ，本地用户<code class="codeph">rep</code>拥有<code class="codeph">rep</code>模式，本地用户<code class="codeph">hr</code>拥有<code class="codeph">hr</code>模式。
                              </p>
                           </li>
                           <li>
                              <p>本地用户可以管理PDB，包括打开和关闭它。</p>
                              <p>具有<code class="codeph">SYSDBA</code>权限的普通用户可以向本地用户授予<code class="codeph">SYSDBA</code>权限。在这种情况下，特权用户保持本地。
                              </p>
                           </li>
                           <li>
                              <p>一个PDB中的本地用户无法登录到另一个PDB或CDB根目录。</p>
                              <p>例如，当本地用户<code class="codeph">hr</code>连接到<code class="codeph">hrpdb</code> ， <code class="codeph">hr</code>无法使用数据库链接访问驻留在<code class="codeph">salespdb</code>数据库中的<code class="codeph">sh</code>模式中的对象。同样，当本地用户<code class="codeph">sh</code>连接到<code class="codeph">salespdb</code> PDB时， <code class="codeph">sh</code>无法在不使用数据库链接的情况下访问驻留在<code class="codeph">hrpdb</code>中的<code class="codeph">hr</code>模式中的对象。
                              </p>
                           </li>
                           <li>
                              <p>本地用户的名称不得以字符<code class="codeph">c##</code>或<code class="codeph">C##</code>开头。
                              </p>
                           </li>
                           <li>
                              <p>本地用户的名称在其PDB中必须是唯一的。</p>
                              <p>用户名和包含该用户架构的PDB确定唯一的本地用户。<a href="overview-of-the-multitenant-architecture.html#GUID-19337B94-645B-45E8-842C-762BBC544B13__CEGJAAGC">图2-7</a>显示了<code class="codeph">hrpdb</code>存在名为<code class="codeph">rep</code>的本地用户和模式。<code class="codeph">salespdb</code> PDB上存在一个完全独立的本地用户和名为<code class="codeph">rep</code>模式。</p>
                           </li>
                        </ul>
                        <p>下表描述了涉及<a href="overview-of-the-multitenant-architecture.html#GUID-19337B94-645B-45E8-842C-762BBC544B13__CEGJAAGC">图2-7中</a> CDB的方案。每行描述在前一行中的操作之后发生的操作。通用用户<code class="codeph">SYSTEM</code>在两个PDB中创建本地用户。
                        </p>
                        <div class="tblformalwide" id="GUID-44E8518A-E02C-429C-9B06-16078EB3251A__OPERATIONDESCRIPTIONSQLCONNECTSYSTE-1BFC3C7B">
                           <p class="titleintable">表2-3 CDB中的本地用户</p>
                           <table cellpadding="4" cellspacing="0" class="FormalWide" title="CDB中的本地用户" width="100%" border="1" summary="This table describes a scenario involving the CDB. Each row describes an action that occurs after the action in the preceding row. " frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="20%" id="d10378e4104">手术</th>
                                    <th align="left" valign="bottom" width="20%" id="d10378e4107">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d10378e4112" headers="d10378e4104 "><pre class="pre codeblock"><code>SQL&gt; CONNECT SYSTEM @hrpdb输入密码：********已连接。</code></pre></td>
                                    <td align="left" valign="top" width="20%" headers="d10378e4112 d10378e4107 ">
                                       <p><code class="codeph">SYSTEM</code>使用服务名称<code class="codeph">hrpdb</code>连接到<code class="codeph">hrpdb</code>容器。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d10378e4127" headers="d10378e4104 "><pre class="pre codeblock"><code>SQL&gt; CREATE USER rep IDENTIFIED BY <span class="italic">password</span> ;用户创建。SQL&gt; GRANT CREATE SESSION to rep;格兰特成功了。</code></pre></td>
                                    <td align="left" valign="top" width="20%" headers="d10378e4127 d10378e4107 ">
                                       <p><code class="codeph">SYSTEM</code>现在创建本地用户<code class="codeph">rep</code>并将此PDB中的<code class="codeph">CREATE SESSION</code>权限授予此用户。用户是本地用户，因为普通用户只能由连接到根的普通用户创建。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d10378e4145" headers="d10378e4104 "><pre class="pre codeblock"><code>SQL&gt; CONNECT rep @ salespdb输入密码：******* ERROR：ORA-01017：用户名/密码无效;登录被拒绝</code></pre></td>
                                    <td align="left" valign="top" width="20%" headers="d10378e4145 d10378e4107 ">
                                       <p><code class="codeph">rep</code>用户（ <code class="codeph">hrpdb</code>本地用户）尝试连接到<code class="codeph">salespdb</code> 。尝试失败，因为PDB <code class="codeph">salespdb</code>中不存在<code class="codeph">rep</code> 。此行为模仿非CDB的行为。一个非CDB上的用户帐户独立于不同非CDB上的用户帐户。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d10378e4167" headers="d10378e4104 "><pre class="pre codeblock"><code>SQL&gt; CONNECT SYSTEM @ salespdb输入密码：********已连接。</code></pre></td>
                                    <td align="left" valign="top" width="20%" headers="d10378e4167 d10378e4107 ">
                                       <p><code class="codeph">SYSTEM</code>使用服务名称<code class="codeph">salespdb</code>连接到<code class="codeph">salespdb</code>容器。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d10378e4182" headers="d10378e4104 "><pre class="pre codeblock"><code>SQL&gt; CREATE USER rep IDENTIFIED BY <span class="italic">password</span> ;用户创建。SQL&gt; GRANT CREATE SESSION to rep;格兰特成功了。</code></pre></td>
                                    <td align="left" valign="top" width="20%" headers="d10378e4182 d10378e4107 ">
                                       <p><code class="codeph">SYSTEM</code>在<code class="codeph">salespdb</code>创建本地用户<code class="codeph">rep</code> ， <code class="codeph">salespdb</code>此PDB中的<code class="codeph">CREATE SESSION</code>权限授予此用户。由于本地用户的名称在其PDB中必须唯一，因此<code class="codeph">salespdb</code>和<code class="codeph">hrpdb</code>中都可以存在名为<code class="codeph">rep</code>的用户。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d10378e4213" headers="d10378e4104 "><pre class="pre codeblock"><code>SQL&gt; CONNECT rep @ salespdb输入密码：*******已连接。</code></pre></td>
                                    <td align="left" valign="top" width="20%" headers="d10378e4213 d10378e4107 ">
                                       <p><code class="codeph">rep</code>用户成功登录到<code class="codeph">salespdb</code> 。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-44E8518A-E02C-429C-9B06-16078EB3251A__GUID-2B5FD5EB-276B-4599-85C7-FE18C5AB74B2">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="../dbseg/managing-security-for-oracle-database-users.html#DBSEG581" target="_blank"><span><cite>Oracle数据库安全指南</cite></span></a>了解本地用户帐户</p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-3BB161DA-9CC0-4D61-A2C1-5D3662E0DECF" title="如果用户帐户拥有定义数据库的对象，则此用户帐户很常见。非Oracle提供的用户帐户是本地帐户或常用帐户。">CDB中的公共和本地用户概述</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="CNCPT89398"></a><div class="props_rev_3"><a id="GUID-19E279FC-9E50-4AE7-B852-1C6409066BC1" name="GUID-19E279FC-9E50-4AE7-B852-1C6409066BC1"></a><h4 id="MULTI-GUID-19E279FC-9E50-4AE7-B852-1C6409066BC1" class="sect4"><span class="enumeration_section">2.2.3</span> CDB中的共同和本地角色概述</h4>
                  <div>
                     <p>用户创建的角色是本地角色或常见角色。常见角色可以是CDB本身或特定应用程序容器共有的。</p>
                     <p>每个Oracle提供的角色都很常见，例如，预定义的<code class="codeph">DBA</code>角色。在Oracle提供的脚本中，授予Oracle提供的用户和角色的每个权限或角色都是通常授予的，但有一个例外：系统权限在本地授予公共角色<code class="codeph">PUBLIC</code> 。</p>
                     <p>本节包含以下主题：</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-41E5D1A9-30D4-4FFF-A74F-F1173D8B1BF7">CDB中的常见角色</a><br>CDB根目录或应用程序根目录中存在<span class="bold">共同角色</span> ，并且适用于根容器（CDB或应用程序容器）中的每个PDB。
                        </li>
                        <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-243E6C32-C69E-4829-A419-1CF1E8FE3892">CDB中的本地角色</a><br><span class="bold">本地角色</span>仅存在于单个PDB中，就像非CDB中的角色仅存在于非CDB中一样。</li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-19E279FC-9E50-4AE7-B852-1C6409066BC1__GRANTSTOPUBLICINACDB-79A830F6">
                        <p class="notep1">也可以看看：</p>
                        <p><span class="q">“ <a href="overview-of-the-multitenant-architecture.html#GUID-B0D2B368-83B2-4876-A06E-A6A86046530C" title="在CDB中，PUBLIC是一个共同的角色。在PDB中，本地授予PUBLIC的权限允许所有本地和公共用户帐户仅在此PDB中执行这些权限。">在CDB向PUBLIC拨款</a> ”</span></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-B8A0393D-EB92-4020-81EA-7773EE60330C" title="在CDB中，每个用户，角色或对象都是公共的或本地的。类似地，通常或本地授予特权。">CDB中的通用性概述</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="CNCPT89265"></a><div class="props_rev_3"><a id="GUID-41E5D1A9-30D4-4FFF-A74F-F1173D8B1BF7" name="GUID-41E5D1A9-30D4-4FFF-A74F-F1173D8B1BF7"></a><h5 id="MULTI-GUID-41E5D1A9-30D4-4FFF-A74F-F1173D8B1BF7" class="sect5"><span class="enumeration_section">2.2.3.1</span> CDB中的常见角色</h5>
                     <div>
                        <p>CDB根目录或应用程序根目录中存在<span class="bold">共同角色</span> ，并且适用于根容器（CDB或应用程序容器）中的每个PDB。
                        </p>
                        <p>常见角色对跨容器操作很有用，可确保普通用户在每个PDB中都有角色。每个常见角色都是以下类型之一：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>Oracle提供</p>
                              <p>所有Oracle提供的角色（如<code class="codeph">DBA</code>和<code class="codeph">PUBLIC</code> ）都是CDB的共同角色。</p>
                           </li>
                           <li>
                              <p>用户创建</p>
                              <p>通过执行<code class="codeph">CREATE ROLE ...创建一个共同的角色<code class="codeph">CREATE ROLE ...CDB根或应用程序根目录中的CONTAINER=ALL</code> ，它确定角色所共有的容器。标准命名约定适用。此外，CDB公共角色的名称必须以<code class="codeph">COMMON_USER_PREFIX</code>初始化参数指定的字符开头，默认情况下为<code class="codeph">c##</code>或<code class="codeph">C##</code> 。
                              </p>
                           </li>
                        </ul>
                        <p>角色的范围是定义它的根的范围。如果您在<code class="codeph">CDB$ROOT</code>定义角色，则其范围是整个CDB。如果在应用程序根目录中定义角色，则其范围是应用程序容器。
                        </p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-41E5D1A9-30D4-4FFF-A74F-F1173D8B1BF7__GUID-D4A22D52-4971-4C0F-9850-B06341E44F16">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="q">“ <a href="overview-of-the-multitenant-architecture.html#GUID-05B15BE7-D8CD-4D8C-A33F-38C1BB09D893" title="跨容器操作是一次影响多个容器的DDL或DML语句。">跨集装箱运营</a> ”</span></p>
                              </li>
                              <li>
                                 <p><a href="../dbseg/configuring-privilege-and-role-authorization.html#DBSEG761" target="_blank"><span><cite>Oracle数据库安全指南</cite></span></a> ，了解如何管理常见角色</p>
                              </li>
                              <li>
                                 <p><a href="../sqlrf/CREATE-ROLE.html#SQLRF01311" target="_blank"><span><cite>Oracle Database SQL语言参考</cite></span></a> ，了解<code class="codeph">CREATE ROLE</code>语句</p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-19E279FC-9E50-4AE7-B852-1C6409066BC1" title="用户创建的角色是本地角色或常见角色。常见角色可以是CDB本身或特定应用程序容器共有的。">CDB中的公共角色和本地角色概述</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="CNCPT89354"></a><div class="props_rev_3"><a id="GUID-243E6C32-C69E-4829-A419-1CF1E8FE3892" name="GUID-243E6C32-C69E-4829-A419-1CF1E8FE3892"></a><h5 id="MULTI-GUID-243E6C32-C69E-4829-A419-1CF1E8FE3892" class="sect5"><span class="enumeration_section">2.2.3.2</span> CDB中的本地角色</h5>
                     <div>
                        <p><span class="bold">本地角色</span>仅存在于单个PDB中，就像非CDB中的角色仅存在于非CDB中一样。</p>
                        <p>本地角色只能包含在角色所在的容器中应用的角色和权限。例如，如果在<code class="codeph">hrpdb</code>创建本地角色<code class="codeph">pdbadmin</code> ，则此角色的范围仅限于此PDB。</p>
                        <p>同一CDB中或同一应用程序容器中的PDB可能包含具有相同名称的本地角色。例如，用户创建的角色<code class="codeph">pdbadmin</code>可能同时存在于<code class="codeph">hrpdb</code>和<code class="codeph">salespdb</code> 。但是，这些角色完全相互独立，就像它们在不同的非CDB中一样。
                        </p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-243E6C32-C69E-4829-A419-1CF1E8FE3892__GUID-71376A80-117C-4462-A08C-DBBFB2D16905">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="../dbseg/configuring-privilege-and-role-authorization.html#DBSEG761" target="_blank"><span><cite>Oracle数据库安全指南</cite></span></a> ，了解如何管理本地角色</p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-19E279FC-9E50-4AE7-B852-1C6409066BC1" title="用户创建的角色是本地角色或常见角色。常见角色可以是CDB本身或特定应用程序容器共有的。">CDB中的公共角色和本地角色概述</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="CNCPT89261"></a><div class="props_rev_3"><a id="GUID-16473474-7F47-4E40-A592-01836E7D911C" name="GUID-16473474-7F47-4E40-A592-01836E7D911C"></a><h4 id="MULTI-GUID-16473474-7F47-4E40-A592-01836E7D911C" class="sect4"><span class="enumeration_section">2.2.4</span> CDB中的权限和角色授权概述</h4>
                  <div>
                     <p>就像在非CDB中一样，CDB中的用户可以授予并被授予角色和权限。但是，CDB中的角色和特权要么是本地的，要么是普遍授予的。</p>
                     <p>本地授予的特权或角色只能在授予其的PDB中行使。通常授予的权限或角色可在容器中的每个现有和未来PDB中执行 -  CDB或授予它的应用程序容器。</p>
                     <p>用户和角色可以是普通的或本地的。但是，特权<span class="italic">本身</span>既不是普通的，也不是地方的。如果用户使用<code class="codeph">CONTAINER=CURRENT</code>子句在本地授予权限， <code class="codeph">CONTAINER=CURRENT</code>授权者只能在当前容器中执行权限。如果用户连接到CDB根目录或应用程序根目录，并且此用户通常使用<code class="codeph">CONTAINER=ALL</code>子句授予权限，则被授权者在当前容器中的任何现有或将来的PDB中具有此权限。
                     </p>
                     <p>本节包含以下主题：</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-EA93A258-63A2-481D-A1E1-B6F06EC9EDBC">国家开发银行的特权原则和角色授予</a><br>在国家开发银行中，每一项授权行为，无论是本地授权还是普通授权，都发生在一个集装箱内。容器可以是CDB根，应用程序根或PDB。</li>
                        <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-3E2C71F3-1B94-4D3E-A7E7-92BB76511D73">CDB本地授予的特权和角色</a><br><span class="italic">无论</span>被授予者，授权者或角色是本地的还是普通的，都可以在本地向用户和角色授予角色和特权。
                        </li>
                        <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-30BAB0BC-3FCA-469C-A578-161271EAEB05">CDB中常见的角色和特权</a><br>可以共同授予特权和共同角色。
                        </li>
                        <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-B0D2B368-83B2-4876-A06E-A6A86046530C">向CDB的PUBLIC拨款</a><br>在CDB中， <code class="codeph">PUBLIC</code>是一个共同的角色。在PDB中，本地授予<code class="codeph">PUBLIC</code>权限允许所有本地和公共用户帐户仅在此PDB中执行这些权限。
                        </li>
                        <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-8F48CCCC-200B-46C1-8C0D-9410FF54CEA7">特权和角色的授予：场景</a><br>在此方案中， <code class="codeph">SYSTEM</code>创建公共用户<code class="codeph">c##dba</code>并尝试授予此用户查询<code class="codeph">hrpdb</code> <code class="codeph">hr</code>模式中的表的权限。
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-16473474-7F47-4E40-A592-01836E7D911C__GUID-A4FC120A-DCAD-470D-9444-4485760E2D05">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="managing-security-for-a-multitenant-environment.html#GUID-C8A812E3-EF89-4273-ADA4-0633A289C82B" target="_blank"><span><cite>Oracle数据库安全指南</cite></span></a> ，了解如何管理公共权限</p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-B8A0393D-EB92-4020-81EA-7773EE60330C" title="在CDB中，每个用户，角色或对象都是公共的或本地的。类似地，通常或本地授予特权。">CDB中的通用性概述</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="CNCPT89355"></a><div class="props_rev_3"><a id="GUID-EA93A258-63A2-481D-A1E1-B6F06EC9EDBC" name="GUID-EA93A258-63A2-481D-A1E1-B6F06EC9EDBC"></a><h5 id="MULTI-GUID-EA93A258-63A2-481D-A1E1-B6F06EC9EDBC" class="sect5"><span class="enumeration_section">2.2.4.1</span> CDB中的特权和角色授权原则</h5>
                     <div>
                        <p>在国家开发银行中，每一项授权行为，无论是本地授权还是普通授权，都发生在一个集装箱内。容器可以是CDB根，应用程序根或PDB。</p>
                        <p>如果当前容器是CDB根，则通常授予意味着授予CDB中的所有容器。但是，如果当前容器是应用程序根目录，那么通常授予意味着授予当前应用程序容器中的所有PDB。</p>
                        <p>授予的基本原则如下：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>普通和地方现象都可以在当地授予和授予。</p>
                           </li>
                           <li>
                              <p>只有普通现象可以一般授予或授予。</p>
                           </li>
                        </ul>
                        <p>本地用户，角色和权限仅限于特定的PDB。因此，本地用户可能不会共同授予角色和特权，并且可能不会普遍授予本地角色和特权。</p>
                        <p>以下部分描述了前述原则的含义。</p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-16473474-7F47-4E40-A592-01836E7D911C" title="就像在非CDB中一样，CDB中的用户可以授予并被授予角色和权限。但是，CDB中的角色和特权要么是本地的，要么是普遍授予的。">CDB中的权限和角色授予概述</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="CNCPT89356"></a><a id="CNCPT89262"></a><div class="props_rev_3"><a id="GUID-3E2C71F3-1B94-4D3E-A7E7-92BB76511D73" name="GUID-3E2C71F3-1B94-4D3E-A7E7-92BB76511D73"></a><h5 id="MULTI-GUID-3E2C71F3-1B94-4D3E-A7E7-92BB76511D73" class="sect5"><span class="enumeration_section">2.2.4.2</span> CDB中本地授予的权限和角色</h5>
                     <div>
                        <p><span class="italic">无论</span>被授予者，授权者或角色是本地的还是普通的，都可以在本地向用户和角色授予角色和特权。
                        </p>
                        <p>下表说明了本地授予的角色和权限的有效可能性。</p>
                        <div class="tblformal" id="GUID-3E2C71F3-1B94-4D3E-A7E7-92BB76511D73__CIHIDGBB">
                           <p class="titleintable">表2-4本地拨款</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="当地补助金" width="100%" border="1" summary="This table explains the valid possibilities for locally granted roles and privileges." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="25%" id="d10378e5070">现象</th>
                                    <th align="left" valign="bottom" width="25%" id="d10378e5073">May Grant本地</th>
                                    <th align="left" valign="bottom" width="25%" id="d10378e5076">可以在当地授予</th>
                                    <th align="left" valign="bottom" width="25%" id="d10378e5079">可能会在本地获得角色或权限</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d10378e5084" headers="d10378e5070 ">
                                       <p>普通用户</p>
                                    </td>
                                    <td align="left" valign="top" width="25%" headers="d10378e5084 d10378e5073 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="25%" headers="d10378e5084 d10378e5076 ">
                                       <p>N / A</p>
                                    </td>
                                    <td align="left" valign="top" width="25%" headers="d10378e5084 d10378e5079 ">
                                       <p>是</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d10378e5097" headers="d10378e5070 ">
                                       <p>本地用户</p>
                                    </td>
                                    <td align="left" valign="top" width="25%" headers="d10378e5097 d10378e5073 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="25%" headers="d10378e5097 d10378e5076 ">
                                       <p>N / A</p>
                                    </td>
                                    <td align="left" valign="top" width="25%" headers="d10378e5097 d10378e5079 ">
                                       <p>是</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d10378e5110" headers="d10378e5070 ">
                                       <p>共同角色</p>
                                    </td>
                                    <td align="left" valign="top" width="25%" headers="d10378e5110 d10378e5073 ">
                                       <p>N / A</p>
                                    </td>
                                    <td align="left" valign="top" width="25%" headers="d10378e5110 d10378e5076 ">
                                       <p>是<a id="fn_1" name="fn_1" href="#fn_1" privileges="" in="" this="" role="" are="" available="" to="" the="" grantee="" only="" container="" which="" was="" granted,="" regardless="" of="" whether="" were="" granted="" locally="" or="" commonly=")" ="" onclick="footdisplay(1, "><sup>脚1</sup></a></p>
                                    </td>
                                    <td align="left" valign="top" width="25%" headers="d10378e5110 d10378e5079 ">
                                       <p>是</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d10378e5126" headers="d10378e5070 ">
                                       <p>本地角色</p>
                                    </td>
                                    <td align="left" valign="top" width="25%" headers="d10378e5126 d10378e5073 ">
                                       <p>N / A</p>
                                    </td>
                                    <td align="left" valign="top" width="25%" headers="d10378e5126 d10378e5076 ">
                                       <p>是<a id="fn_2" name="fn_2" href="#fn_2" privileges="" in="" this="" role="" are="" available="" to="" the="" grantee="" only="" container="" which="" was="" granted="" and="" created=")" ="" onclick="footdisplay(2, "><sup>脚2</sup></a></p>
                                    </td>
                                    <td align="left" valign="top" width="25%" headers="d10378e5126 d10378e5079 ">
                                       <p>是</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d10378e5142" headers="d10378e5070 ">
                                       <p>特权</p>
                                    </td>
                                    <td align="left" valign="top" width="25%" headers="d10378e5142 d10378e5073 ">
                                       <p>N / A</p>
                                    </td>
                                    <td align="left" valign="top" width="25%" headers="d10378e5142 d10378e5076 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="25%" headers="d10378e5142 d10378e5079 ">
                                       <p>N / A</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p class="tablefootnote"><sup class="tablefootnote">脚注1</sup></p><p>只有在授予角色的容器中，此角色的权限才可供授予者使用，无论权限是在本地还是通常授予角色。</p>
                        <p></p>
                        <p class="tablefootnote"><sup class="tablefootnote">脚注2</sup></p><p>只有在授予和创建角色的容器中，受助者才能使用此角色中的权限。</p>
                        <p></p>
                        <p>本节包含以下主题：</p>
                     </div>
                     <div>
                        <ul class="ullinks">
                           <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-32330FD6-C021-4E5A-82D7-C745F58913E6">什么使特权或角色授予本地</a><br>要在本地授予角色或特权，请将<code class="codeph">GRANT</code>语句与<code class="codeph">CONTAINER=CURRENT</code>子句一起使用，这是默认值。
                           </li>
                           <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-4DE0907B-4F26-450E-8A4C-1D19A2563561">本地授予的角色和特权</a><br>用户或角色可以在本地被授予<span class="italic">特权</span> （ <code class="codeph">CONTAINER=CURRENT</code> ）。
                           </li>
                        </ul>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-16473474-7F47-4E40-A592-01836E7D911C" title="就像在非CDB中一样，CDB中的用户可以授予并被授予角色和权限。但是，CDB中的角色和特权要么是本地的，要么是普遍授予的。">CDB中的权限和角色授予概述</a></p>
                           </div>
                        </div>
                     </div>
                     <a id="CNCPT89357"></a><div class="props_rev_3"><a id="GUID-32330FD6-C021-4E5A-82D7-C745F58913E6" name="GUID-32330FD6-C021-4E5A-82D7-C745F58913E6"></a><h6 id="MULTI-GUID-32330FD6-C021-4E5A-82D7-C745F58913E6" class="sect6"><span class="enumeration_section">2.2.4.2.1</span>什么使权限或角色授予本地</h6>
                        <div>
                           <p>要在本地授予角色或特权，请将<code class="codeph">GRANT</code>语句与<code class="codeph">CONTAINER=CURRENT</code>子句一起使用，这是默认值。
                           </p>
                           <p>具体而言，仅在满足以下条件时才在本地授予角色或权限：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>授予者具有授予指定角色的必要权限。</p>
                                 <p>对于系统角色和特权，授予者必须具有授予角色或特权的<code class="codeph">ADMIN OPTION</code> 。对于对象权限，授予者必须具有授予权限的<code class="codeph">GRANT OPTION</code> 。
                                 </p>
                              </li>
                              <li>
                                 <p>该授权仅适用于一个容器。</p>
                                 <p>默认情况下， <code class="codeph">GRANT</code>语句包含<code class="codeph">CONTAINER=CURRENT</code>子句，该子句指示在本地授予权限或角色。
                                 </p>
                              </li>
                           </ul>
                           <div class="example" id="GUID-32330FD6-C021-4E5A-82D7-C745F58913E6__GUID-B0B2F7E8-CA96-47ED-A20E-ED55940226FD">
                              <p class="titleinexample">示例2-4本地授予权限</p>
                              <p>在此示例中， <code class="codeph">SYSTEM</code>和<code class="codeph">c##hr_admin</code>都是普通用户。该示例以<code class="codeph">SYSTEM</code> （具有管理员权限）的身份连接到<code class="codeph">hrpdb</code> ，然后在本地将<code class="codeph">employees</code>表的读取权限授予<code class="codeph">c##hr_admin</code> 。这笔赠款<span class="italic">仅</span>适用于<code class="codeph">c##hr_admin</code>内<code class="codeph">hrpdb</code> ，不在任何其他PDBS。
                              </p><pre class="pre codeblock"><code>CONNECT SYSTEM @ hrpdb输入密码： <span class="italic">密码</span>已连接。授予员工权限c ## hr_admin CONTAINER = CURRENT;</code></pre></div>
                           <!-- class="example" -->
                        </div>
                        <div>
                           <div class="infoboxnotealso" id="GUID-32330FD6-C021-4E5A-82D7-C745F58913E6__GUID-D6AA2BAB-07F7-4505-9619-1BA2C79019A5">
                              <p class="notep1">也可以看看：</p>
                              <p><a href="managing-security-for-a-multitenant-environment.html#GUID-0EF81AD5-7102-499A-81F3-74ECCDFC2926" target="_blank"><span><cite>“Oracle数据库安全指南”</cite></span></a>了解有关授予本地角色和权限的更多信息</p>
                           </div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-3E2C71F3-1B94-4D3E-A7E7-92BB76511D73" title="无论被授予者，授权者或角色是本地的还是普通的，都可以在本地向用户和角色授予角色和特权。">CDB中本地授予的权限和角色</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div><a id="CNCPT89358"></a><div class="props_rev_3"><a id="GUID-4DE0907B-4F26-450E-8A4C-1D19A2563561" name="GUID-4DE0907B-4F26-450E-8A4C-1D19A2563561"></a><h6 id="MULTI-GUID-4DE0907B-4F26-450E-8A4C-1D19A2563561" class="sect6"><span class="enumeration_section">2.2.4.2.2</span>本地授予的角色和权限</h6>
                        <div>
                           <p>用户或角色可以在本地被授予<span class="italic">特权</span> （ <code class="codeph">CONTAINER=CURRENT</code> ）。
                           </p>
                           <p>例如，本地授予<code class="codeph">hrpdb</code>本地用户或普通用户的<code class="codeph">READ ANY TABLE</code>权限仅适用<span class="italic">于此</span> PDB中的<span class="italic">此</span>用户。类似地，在非CDB中授予用户<code class="codeph">hr</code>的<code class="codeph">READ ANY TABLE</code>特权与存在于单独的非CDB中的<code class="codeph">hr</code>用户的特权无关。</p>
                           <p>用户或角色可以在本地被授予<span class="italic">角色</span> （ <code class="codeph">CONTAINER=CURRENT</code> ）。如<a href="overview-of-the-multitenant-architecture.html#GUID-3E2C71F3-1B94-4D3E-A7E7-92BB76511D73__CIHIDGBB" title="此表说明了本地授予的角色和权限的有效可能性。">表2-4</a>所示， <span class="italic">共同</span>角色可能会收到<span class="italic">本地</span>授予的权限。例如，公共角色<code class="codeph">c##dba</code>可以在<code class="codeph">hrpdb</code>本地授予<code class="codeph">READ ANY TABLE</code>特权。如果在本地授予<code class="codeph">c##cdb</code> common角色，则角色中的权限<span class="italic">仅</span>适用于授予角色的容器。在此示例中，具有<code class="codeph">c##cdba</code>角色的普通用户由于在<code class="codeph">hrpdb</code>本地授予此角色的<code class="codeph">hrpdb</code> ，因此无权在除<code class="codeph">hrpdb</code>之外的任何PDB中执行此权限。
                           </p>
                        </div>
                        <div>
                           <div class="infoboxnotealso" id="GUID-4DE0907B-4F26-450E-8A4C-1D19A2563561__GUID-EACE83F6-4C19-40B0-BBE0-B6DB0D1794CB">
                              <p class="notep1">也可以看看：</p>
                              <p><a href="../dbseg/configuring-privilege-and-role-authorization.html#DBSEG588" target="_blank"><span><cite>Oracle数据库安全指南</cite></span></a> ，了解如何在CDB中授予角色和权限</p>
                           </div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-3E2C71F3-1B94-4D3E-A7E7-92BB76511D73" title="无论被授予者，授权者或角色是本地的还是普通的，都可以在本地向用户和角色授予角色和特权。">CDB中本地授予的权限和角色</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                  </div><a id="CNCPT89360"></a><a id="CNCPT89359"></a><div class="props_rev_3"><a id="GUID-30BAB0BC-3FCA-469C-A578-161271EAEB05" name="GUID-30BAB0BC-3FCA-469C-A578-161271EAEB05"></a><h5 id="MULTI-GUID-30BAB0BC-3FCA-469C-A578-161271EAEB05" class="sect5"><span class="enumeration_section">2.2.4.3</span> CDB中常见的角色和权限</h5>
                     <div>
                        <p>可以共同授予特权和共同角色。</p>
                        <p>只有当受让人和授权人都很<span class="italic">常见时，</span>才可以为用户帐户或角色授予角色和权限。如果角色被普遍授予，那么角色本身必须是共同的。下表解释了共同拨款的可能性。
                        </p>
                        <div class="tblformal" id="GUID-30BAB0BC-3FCA-469C-A578-161271EAEB05__CIHCHGGB">
                           <p class="titleintable">表2-5普通拨款</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="普通补助金" width="100%" border="1" summary="This table  explains the possibilities for common grants." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="19%" id="d10378e5667">现象</th>
                                    <th align="left" valign="bottom" width="22%" id="d10378e5670">梅格兰特</th>
                                    <th align="left" valign="bottom" width="23%" id="d10378e5673">可能会被普遍承担</th>
                                    <th align="left" valign="bottom" width="35%" id="d10378e5676">可能会获得通常授予的角色和权限</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d10378e5681" headers="d10378e5667 ">
                                       <p>普通用户帐户</p>
                                    </td>
                                    <td align="left" valign="top" width="22%" headers="d10378e5681 d10378e5670 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="23%" headers="d10378e5681 d10378e5673 ">
                                       <p>N / A</p>
                                    </td>
                                    <td align="left" valign="top" width="35%" headers="d10378e5681 d10378e5676 ">
                                       <p>是</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d10378e5694" headers="d10378e5667 ">
                                       <p>本地用户帐户</p>
                                    </td>
                                    <td align="left" valign="top" width="22%" headers="d10378e5694 d10378e5670 ">
                                       <p>没有</p>
                                    </td>
                                    <td align="left" valign="top" width="23%" headers="d10378e5694 d10378e5673 ">
                                       <p>N / A</p>
                                    </td>
                                    <td align="left" valign="top" width="35%" headers="d10378e5694 d10378e5676 ">
                                       <p>没有</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d10378e5707" headers="d10378e5667 ">
                                       <p>共同角色</p>
                                    </td>
                                    <td align="left" valign="top" width="22%" headers="d10378e5707 d10378e5670 ">
                                       <p>N / A</p>
                                    </td>
                                    <td align="left" valign="top" width="23%" headers="d10378e5707 d10378e5673 ">
                                       <p>是<a id="fn_3" name="fn_3" href="#fn_3" privileges="" that="" were="" granted="" commonly="" to="" a="" common="" role="" are="" available="" the="" grantee="" across="" all="" containers.="" in="" addition,="" any="" privilege="" locally="" is="" only="" container="" which="" was="" role=")" ="" onclick="footdisplay(3, "><sup>脚3</sup></a></p>
                                    </td>
                                    <td align="left" valign="top" width="35%" headers="d10378e5707 d10378e5676 ">
                                       <p>是</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d10378e5723" headers="d10378e5667 ">
                                       <p>本地角色</p>
                                    </td>
                                    <td align="left" valign="top" width="22%" headers="d10378e5723 d10378e5670 ">
                                       <p>N / A</p>
                                    </td>
                                    <td align="left" valign="top" width="23%" headers="d10378e5723 d10378e5673 ">
                                       <p>没有</p>
                                    </td>
                                    <td align="left" valign="top" width="35%" headers="d10378e5723 d10378e5676 ">
                                       <p>没有</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d10378e5736" headers="d10378e5667 ">
                                       <p>特权</p>
                                    </td>
                                    <td align="left" valign="top" width="22%" headers="d10378e5736 d10378e5670 ">
                                       <p>N / A</p>
                                    </td>
                                    <td align="left" valign="top" width="23%" headers="d10378e5736 d10378e5673 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="35%" headers="d10378e5736 d10378e5676 ">
                                       <p>N / A</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p class="tablefootnote"><sup class="tablefootnote">脚注3</sup></p><p>通常授予共同角色的权限可供所有容器中的被授予者使用。此外，只有在为该公共角色授予该特权的容器中，被授权者才能获得本地授予公共角色的任何特权。</p>
                        <p></p>
                        <p>本节包含以下主题：</p>
                     </div>
                     <div>
                        <ul class="ullinks">
                           <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-0AD54CDC-69C9-4ED3-B98C-BD397B06D0DE">什么使得资助共同</a><br><code class="codeph">CONTAINER=ALL</code>子句指定通常授予权限或角色。
                           </li>
                           <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-13FAB488-8475-4B7B-A153-5C4BF61D834F">共同承担的角色和特权</a><br>通常的用户帐户或角色通常可以被授予<span class="italic">特权</span> （ <code class="codeph">CONTAINER=ALL</code> ）。
                           </li>
                        </ul>
                        <div class="infoboxnotealso" id="GUID-30BAB0BC-3FCA-469C-A578-161271EAEB05__GUID-5D05879E-C26F-41A5-B8E8-83EA7F5FF43C">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="managing-security-for-a-multitenant-environment.html#GUID-0EF81AD5-7102-499A-81F3-74ECCDFC2926" target="_blank"><span><cite>“Oracle数据库安全指南”</cite></span></a>了解有关常见授权的更多信息</p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-16473474-7F47-4E40-A592-01836E7D911C" title="就像在非CDB中一样，CDB中的用户可以授予并被授予角色和权限。但是，CDB中的角色和特权要么是本地的，要么是普遍授予的。">CDB中的权限和角色授予概述</a></p>
                           </div>
                        </div>
                     </div>
                     <a id="CNCPT89361"></a><div class="props_rev_3"><a id="GUID-0AD54CDC-69C9-4ED3-B98C-BD397B06D0DE" name="GUID-0AD54CDC-69C9-4ED3-B98C-BD397B06D0DE"></a><h6 id="MULTI-GUID-0AD54CDC-69C9-4ED3-B98C-BD397B06D0DE" class="sect6"><span class="enumeration_section">2.2.4.3.1</span>什么使得资助共同</h6>
                        <div>
                           <p><code class="codeph">CONTAINER=ALL</code>子句指定通常授予权限或角色。
                           </p>
                           <p>满足以下条件时，通常会授予角色或权限：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>设保人是普通用户。</p>
                                 <p>执行授权的用户要么是CDB本身共有的，要么是特定应用程序容器所共有的。</p>
                              </li>
                              <li>
                                 <p>受让人是共同的用户或共同角色。</p>
                                 <p>授权的接收者要么是CDB本身共有的，要么是特定应用容器共有的。</p>
                              </li>
                              <li>
                                 <p>授予者具有授予指定角色的必要权限。</p>
                                 <p>对于系统角色和特权，授予者必须具有授予角色或特权的<code class="codeph">ADMIN OPTION</code> 。对于对象权限，授予者必须具有授予权限的<code class="codeph">GRANT OPTION</code> 。
                                 </p>
                              </li>
                              <li>
                                 <p>该授权适用于授权发生的容器（CDB或应用程序容器）内的所有PDB。</p>
                                 <p><code class="codeph">GRANT</code>语句包含<code class="codeph">CONTAINER=ALL</code>子句，指定通常授予权限或角色。
                                 </p>
                              </li>
                              <li>
                                 <p>如果授予角色，则它必须是通用的，并且如果授予了对象权限，则授予该权限的对象必须是通用的。</p>
                              </li>
                           </ul>
                           <div class="example" id="GUID-0AD54CDC-69C9-4ED3-B98C-BD397B06D0DE__GUID-B0B2F7E8-CA96-47ED-A20E-ED55940226FD">
                              <p class="titleinexample">示例2-5通常授予权限</p>
                              <p>在此示例中， <code class="codeph">SYSTEM</code>和<code class="codeph">c##hr_admin</code>都是普通用户。<code class="codeph">SYSTEM</code>连接到CDB根，然后通常将<code class="codeph">CREATE ANY TABLE</code>权限授予<code class="codeph">c##hr_admin</code> 。在这种情况下， <code class="codeph">c##hr_admin</code>现在可以在CDB中的任何PDB中创建一个表。</p><pre class="pre codeblock"><code>CONNECT SYSTEM @ root输入密码：密码已连接。GRANT创建任何表到c ## hr_admin CONTAINER = ALL;</code></pre></div>
                           <!-- class="example" -->
                        </div>
                        <div>
                           <div class="infoboxnotealso" id="GUID-0AD54CDC-69C9-4ED3-B98C-BD397B06D0DE__GUID-36DD9204-985C-4E27-A599-CACCAB1A4419">
                              <p class="notep1">也可以看看：</p>
                              <p><a href="managing-security-for-a-multitenant-environment.html#GUID-06F73CD9-A36C-47F9-86DD-643ED9DE8ABD" target="_blank"><span><cite>Oracle数据库安全指南</cite></span></a> ，了解如何授予共同权限</p>
                           </div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-30BAB0BC-3FCA-469C-A578-161271EAEB05" title="可以共同授予特权和共同角色。">CDB中常见的角色和权限</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div><a id="CNCPT89362"></a><div class="props_rev_3"><a id="GUID-13FAB488-8475-4B7B-A153-5C4BF61D834F" name="GUID-13FAB488-8475-4B7B-A153-5C4BF61D834F"></a><h6 id="MULTI-GUID-13FAB488-8475-4B7B-A153-5C4BF61D834F" class="sect6"><span class="enumeration_section">2.2.4.3.2</span>共同<span class="enumeration_section">承担的</span>角色和特权</h6>
                        <div>
                           <p>通常的用户帐户或角色通常可以被授予<span class="italic">特权</span> （ <code class="codeph">CONTAINER=ALL</code> ）。
                           </p>
                           <p>在CDB根目录或应用程序根目录的上下文中，该权限被授予当前容器内所有现有和未来PDB中的此公共用户帐户或角色。例如，如果<code class="codeph">SYSTEM</code>连接到CDB根并且通常向CDB公共用户帐户<code class="codeph">c##dba</code>授予<code class="codeph">SELECT ANY TABLE</code>特权，则<code class="codeph">c##dba</code>用户在CDB中的所有PDB中具有此特权。 <span class="italic">通常</span>授予的角色或权限不能在<span class="italic">本地</span>撤销。
                           </p>
                           <p>用户或角色可以接收通常授予的共同角色。如<a href="overview-of-the-multitenant-architecture.html#GUID-30BAB0BC-3FCA-469C-A578-161271EAEB05__CIHCHGGB" title="该表解释了共同拨款的可能性。">表2-5</a>中的脚注所述，共同角色可能会获得本地授予的权限。因此，可以为普通用户授予共同角色，并且此角色可以包含本地授予的权限。
                           </p>
                           <p>例如，可以为公共角色<code class="codeph">c##admin</code>授予对<code class="codeph">hrpdb</code>本地的<code class="codeph">SELECT ANY TABLE</code>特权。本地授予的共同角色权限<span class="italic">仅</span>适用于授予权限的容器。因此，具有<code class="codeph">c##admin</code>角色的普通用户无权在<code class="codeph">salespdb</code>或除<code class="codeph">hrpdb</code>之外的任何PDB中执行<code class="codeph">salespdb</code> <code class="codeph">hrpdb</code>权限。
                           </p>
                           <p></p>
                        </div>
                        <div>
                           <div class="infoboxnotealso" id="GUID-13FAB488-8475-4B7B-A153-5C4BF61D834F__GUID-C56B0D25-0458-4FE5-B2D3-5853EFDAF22C">
                              <p class="notep1">也可以看看：</p>
                              <p><a href="../dbseg/configuring-privilege-and-role-authorization.html#DBSEG588" target="_blank"><span><cite>Oracle数据库安全指南</cite></span></a> ，了解如何在CDB中授予角色和权限</p>
                           </div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-30BAB0BC-3FCA-469C-A578-161271EAEB05" title="可以共同授予特权和共同角色。">CDB中常见的角色和权限</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                  </div><a id="CNCPT89363"></a><div class="props_rev_3"><a id="GUID-B0D2B368-83B2-4876-A06E-A6A86046530C" name="GUID-B0D2B368-83B2-4876-A06E-A6A86046530C"></a><h5 id="MULTI-GUID-B0D2B368-83B2-4876-A06E-A6A86046530C" class="sect5"><span class="enumeration_section">2.2.4.4</span> CDB对PUBLIC的拨款</h5>
                     <div>
                        <p>在CDB中， <code class="codeph">PUBLIC</code>是一个共同的角色。在PDB中，本地授予<code class="codeph">PUBLIC</code>权限允许所有本地和公共用户帐户仅在此PDB中执行这些权限。
                        </p>
                        <p>授予Oracle提供的用户和角色的每个权限和角色通常都被授予，但授予<code class="codeph">PUBLIC</code>系统权限除外，这些权限在本地授予。存在此异常是因为您可能希望撤消Oracle数据库中默认包含的某些授权，例如<code class="codeph">SYS.UTL_FILE</code>包中的<code class="codeph">EXECUTE</code> 。
                        </p>
                        <p>假设<code class="codeph">hrpdb</code>存在本地用户帐户<code class="codeph">hr</code> 。此用户在本地将<code class="codeph">hr.employees</code>的<code class="codeph">SELECT</code>权限授予<code class="codeph">PUBLIC</code> 。 <code class="codeph">hrpdb</code>公共和本地用户可以行使授予<code class="codeph">PUBLIC</code>的权限。 <code class="codeph">salespdb</code>或任何其他PDB中的用户帐户没有权限查询<code class="codeph">hr.employees</code>中的<code class="codeph">hrpdb</code> 。
                        </p>
                        <p>通常授予<code class="codeph">PUBLIC</code>权限允许所有本地用户在其各自的PDB中行使授予的权限，并使所有普通用户能够在他们有权访问的PDB中行使此权限。Oracle建议用户通常不向<code class="codeph">PUBLIC</code>授予权限和角色。</p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-B0D2B368-83B2-4876-A06E-A6A86046530C__GUID-B9F2FF6E-D53E-4326-803C-47B48E4C5745">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="managing-security-for-a-multitenant-environment.html#GUID-8386733A-6F0E-41D0-9E77-4E767FFE91C9" target="_blank"><span><cite>Oracle数据库安全指南</cite></span></a> ，了解<code class="codeph">PUBLIC</code>角色在多租户环境中的工作方式</p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-16473474-7F47-4E40-A592-01836E7D911C" title="就像在非CDB中一样，CDB中的用户可以授予并被授予角色和权限。但是，CDB中的角色和特权要么是本地的，要么是普遍授予的。">CDB中的权限和角色授予概述</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="CNCPT89365"></a><a id="CNCPT89364"></a><div class="props_rev_3"><a id="GUID-8F48CCCC-200B-46C1-8C0D-9410FF54CEA7" name="GUID-8F48CCCC-200B-46C1-8C0D-9410FF54CEA7"></a><h5 id="MULTI-GUID-8F48CCCC-200B-46C1-8C0D-9410FF54CEA7" class="sect5"><span class="enumeration_section">2.2.4.5</span>特权和角色的授予：场景</h5>
                     <div>
                        <p>在此方案中， <code class="codeph">SYSTEM</code>创建公共用户<code class="codeph">c##dba</code>并尝试授予此用户查询<code class="codeph">hrpdb</code> <code class="codeph">hr</code>模式中的表的权限。
                        </p>
                        <p>该场景显示了<code class="codeph">CONTAINER</code>子句如何影响角色和权限的授予。第一列显示了<code class="codeph">CDB$ROOT</code>中的操作。第二列显示了<code class="codeph">hrpdb</code>中的操作。
                        </p>
                        <div class="tblformalwide" id="GUID-8F48CCCC-200B-46C1-8C0D-9410FF54CEA7__GRANTINGROLESANDPRIVILEGES-1BFD50E8">
                           <p class="titleintable">表2-6授予CDB中的角色和权限</p>
                           <table cellpadding="4" cellspacing="0" class="FormalWide" title="在CDB中授予角色和权限" width="100%" border="1" summary="This table shows the grants of roles and privileges in a CDB. " frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="20%" id="d10378e6409">Ť</th>
                                    <th align="left" valign="bottom" width="20%" id="d10378e6412">CDB $ ROOT中的操作</th>
                                    <th align="left" valign="bottom" width="20%" id="d10378e6415">hrpdb中的操作</th>
                                    <th align="left" valign="bottom" width="20%" id="d10378e6418">说明</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d10378e6423" headers="d10378e6409 ">
                                       <p>T1</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d10378e6423 d10378e6412 "><pre class="pre codeblock"><code>SQL&gt; CONNECT SYSTEM @ root输入密码：*******已连接。</code></pre></td>
                                    <td align="left" valign="top" width="20%" headers="d10378e6423 d10378e6415 ">
                                       <p>N / A</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d10378e6423 d10378e6418 ">
                                       <p>通用用户<code class="codeph">SYSTEM</code>连接到根容器。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d10378e6439" headers="d10378e6409 ">
                                       <p>T2</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d10378e6439 d10378e6412 "><pre class="pre codeblock"><code>SQL&gt; CREATE USER c ## dba IDENTIFIED BY <span class="italic">password</span> CONTAINER = ALL;</code></pre></td>
                                    <td align="left" valign="top" width="20%" headers="d10378e6439 d10378e6415 ">
                                       <p>N / A</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d10378e6439 d10378e6418 ">
                                       <p><code class="codeph">SYSTEM</code>创建普通用户<code class="codeph">c##dba</code> 。<code class="codeph">CONTAINER=ALL</code>子句使用户成为普通用户。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d10378e6463" headers="d10378e6409 ">
                                       <p>T3</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d10378e6463 d10378e6412 "><pre class="pre codeblock"><code>SQL&gt; GRANT创建会话到c ## dba;</code></pre></td>
                                    <td align="left" valign="top" width="20%" headers="d10378e6463 d10378e6415 ">
                                       <p>N / A</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d10378e6463 d10378e6418 ">
                                       <p><code class="codeph">SYSTEM</code>将<code class="codeph">CREATE SESSION</code>系统特权授予<code class="codeph">c##dba</code> 。因为子句<code class="codeph">CONTAINER=ALL</code>是不存在，该权限本地授予并因此<span class="italic">仅</span>适用于根，这是当前的容器。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d10378e6490" headers="d10378e6409 ">
                                       <p>T4</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d10378e6490 d10378e6412 "><pre class="pre codeblock"><code>SQL&gt; CREATE ROLE c ## admin CONTAINER = ALL;</code></pre></td>
                                    <td align="left" valign="top" width="20%" headers="d10378e6490 d10378e6415 ">
                                       <p>N / A</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d10378e6490 d10378e6418 ">
                                       <p><code class="codeph">SYSTEM</code>创建一个名为<code class="codeph">c##admin</code>的公共角色。条款<code class="codeph">CONTAINER=ALL</code>使角色成为共同的角色。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d10378e6511" headers="d10378e6409 ">
                                       <p>T5</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d10378e6511 d10378e6412 "><pre class="pre codeblock"><code>SQL&gt; GRANT SELECT ANY TABLE to c ## admin;格兰特成功了。</code></pre></td>
                                    <td align="left" valign="top" width="20%" headers="d10378e6511 d10378e6415 ">
                                       <p>N / A</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d10378e6511 d10378e6418 ">
                                       <p><code class="codeph">SYSTEM</code>将<code class="codeph">SELECT ANY TABLE</code>权限授予<code class="codeph">c##admin</code>角色。缺少<code class="codeph">CONTAINER=ALL</code>子句会使根权限本地化。因此，此共同角色包含仅可在根中执行的权限。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d10378e6535" headers="d10378e6409 ">
                                       <p>T6</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d10378e6535 d10378e6412 "><pre class="pre codeblock"><code>SQL&gt; GRANT c ## admin TO c ## dba; SQL&gt; EXIT;</code></pre></td>
                                    <td align="left" valign="top" width="20%" headers="d10378e6535 d10378e6415 ">
                                       <p>N / A</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d10378e6535 d10378e6418 ">
                                       <p><code class="codeph">SYSTEM</code>将<code class="codeph">c##admin</code>角色授予<code class="codeph">c##dba</code> 。由于<code class="codeph">CONTAINER=ALL</code>子句是不存在的，作用<span class="italic">仅</span>适用于当前的容器，即使它是一种常见的角色。如果<code class="codeph">c##dba</code>连接到PDB，则<code class="codeph">c##dba</code>没有此角色。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d10378e6569" headers="d10378e6409 ">
                                       <p>T7</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d10378e6569 d10378e6412 ">
                                       <p>N / A</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d10378e6569 d10378e6415 "><pre class="pre codeblock"><code>SQL&gt; CONNECT c ## dba @hrpdb输入密码：******* ERROR：ORA-01045：用户c ## dba缺少CREATE SESSION权限;登录被拒绝</code></pre></td>
                                    <td align="left" valign="top" width="20%" headers="d10378e6569 d10378e6418 ">
                                       <p><code class="codeph">c##dba</code>无法连接到<code class="codeph">hrpdb</code>因为t3的授权是root的本地授权。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d10378e6587" headers="d10378e6409 ">
                                       <p>T8</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d10378e6587 d10378e6412 ">
                                       <p>N / A</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d10378e6587 d10378e6415 "><pre class="pre codeblock"><code>SQL&gt; CONNECT SYSTEM @hrpdb输入密码：*******已连接。</code></pre></td>
                                    <td align="left" valign="top" width="20%" headers="d10378e6587 d10378e6418 ">
                                       <p><code class="codeph">SYSTEM</code>连接到<code class="codeph">hrpdb</code> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d10378e6605" headers="d10378e6409 ">
                                       <p>T9</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d10378e6605 d10378e6412 ">
                                       <p>N / A</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d10378e6605 d10378e6415 "><pre class="pre codeblock"><code>SQL&gt; GRANT CONNECT，RESOURCE to c ## dba;格兰特成功了。SQL&gt; EXIT</code></pre></td>
                                    <td align="left" valign="top" width="20%" headers="d10378e6605 d10378e6418 ">
                                       <p><code class="codeph">SYSTEM</code>将<code class="codeph">CONNECT</code>和<code class="codeph">RESOURCE</code>角色授予普通用户<code class="codeph">c##dba</code> 。因为没有子句<code class="codeph">CONTAINER=ALL</code> ，所以授权是<code class="codeph">hrpdb</code>本地。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d10378e6635" headers="d10378e6409 ">
                                       <p>T10</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d10378e6635 d10378e6412 ">
                                       <p>N / A</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d10378e6635 d10378e6415 "><pre class="pre codeblock"><code>SQL&gt; CONNECT c ## dba @hrpdb输入密码：*******已连接。</code></pre></td>
                                    <td align="left" valign="top" width="20%" headers="d10378e6635 d10378e6418 ">
                                       <p>普通用户<code class="codeph">c##dba</code>连接到<code class="codeph">hrpdb</code> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d10378e6654" headers="d10378e6409 ">
                                       <p>T11</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d10378e6654 d10378e6412 ">
                                       <p>N / A</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d10378e6654 d10378e6415 "><pre class="pre codeblock"><code>SQL&gt; SELECT COUNT（*）FROM hr.employees; select * from hr.employees * ERROR at line 1：ORA-00942：table或view不存在</code></pre></td>
                                    <td align="left" valign="top" width="20%" headers="d10378e6654 d10378e6418 ">
                                       <p><code class="codeph">hr.employees</code>的查询仍然返回错误，因为<code class="codeph">c##dba</code>对<code class="codeph">hrpdb</code>表没有select权限。在t5本地授予的<code class="codeph">SELECT ANY TABLE</code>特权仅限于root，因此不适用于<code class="codeph">hrpdb</code> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d10378e6683" headers="d10378e6409 ">
                                       <p>T12</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d10378e6683 d10378e6412 "><pre class="pre codeblock"><code>SQL&gt; CONNECT SYSTEM @ root输入密码：*******已连接。</code></pre></td>
                                    <td align="left" valign="top" width="20%" headers="d10378e6683 d10378e6415 ">
                                       <p>N / A</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d10378e6683 d10378e6418 ">
                                       <p>通用用户<code class="codeph">SYSTEM</code>连接到根容器。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d10378e6699" headers="d10378e6409 ">
                                       <p>T13</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d10378e6699 d10378e6412 "><pre class="pre codeblock"><code>SQL&gt; GRANT SELECT ANY TABLE to c ## admin CONTAINER = ALL;格兰特成功了。</code></pre></td>
                                    <td align="left" valign="top" width="20%" headers="d10378e6699 d10378e6415 ">
                                       <p>N / A</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d10378e6699 d10378e6418 ">
                                       <p><code class="codeph">SYSTEM</code>将<code class="codeph">SELECT ANY TABLE</code>权限授予<code class="codeph">c##admin</code>角色。<code class="codeph">CONTAINER=ALL</code>的存在意味着特权通常被授予。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d10378e6723" headers="d10378e6409 ">
                                       <p>T14</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d10378e6723 d10378e6412 ">
                                       <p>N / A</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d10378e6723 d10378e6415 "><pre class="pre codeblock"><code>SQL&gt; SELECT COUNT（*）FROM hr.employees; select * from hr.employees * ERROR at line 1：ORA-00942：table或view不存在</code></pre></td>
                                    <td align="left" valign="top" width="20%" headers="d10378e6723 d10378e6418 ">
                                       <p><code class="codeph">hr.employees</code>的查询仍然会返回错误。原因是在t6时， <code class="codeph">c##admin</code>共同角色仅授予root中的<code class="codeph">c##dba</code> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d10378e6745" headers="d10378e6409 ">
                                       <p>T15</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d10378e6745 d10378e6412 "><pre class="pre codeblock"><code>SQL&gt; GRANT c ## admin TO c ## dba CONTAINER = ALL;格兰特成功了。</code></pre></td>
                                    <td align="left" valign="top" width="20%" headers="d10378e6745 d10378e6415 ">
                                       <p>N / A</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d10378e6745 d10378e6418 ">
                                       <p><code class="codeph">SYSTEM</code>将名为<code class="codeph">c##admin</code>的公共角色授予<code class="codeph">c##admin</code> <code class="codeph">c##dba</code> ，指定<code class="codeph">CONTAINER=ALL</code> 。现在用户<code class="codeph">c##dba</code>在<span class="italic">所有</span>容器中都有角色，而不仅仅是root。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d10378e6775" headers="d10378e6409 ">
                                       <p>T17</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d10378e6775 d10378e6412 ">
                                       <p>N / A</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d10378e6775 d10378e6415 "><pre class="pre codeblock"><code>SQL&gt; SELECT COUNT（*）FROM hr.employees; COUNT（*）---------- 107</code></pre></td>
                                    <td align="left" valign="top" width="20%" headers="d10378e6775 d10378e6418 ">
                                       <p>查询成功。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-8F48CCCC-200B-46C1-8C0D-9410FF54CEA7__GUID-A1BE1E0C-89BD-4466-A30C-5EC8CA7F186F">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="../dbseg/configuring-privilege-and-role-authorization.html#DBSEG761" target="_blank"><span><cite>Oracle数据库安全指南</cite></span></a> ，了解如何管理常见和本地角色</p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-16473474-7F47-4E40-A592-01836E7D911C" title="就像在非CDB中一样，CDB中的用户可以授予并被授予角色和权限。但是，CDB中的角色和特权要么是本地的，要么是普遍授予的。">CDB中的权限和角色授予概述</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
               <div class="sect3"><a id="GUID-8B4B4F8B-1C2B-42C3-BE77-E9AA25CA397A" name="GUID-8B4B4F8B-1C2B-42C3-BE77-E9AA25CA397A"></a><h4 id="MULTI-GUID-8B4B4F8B-1C2B-42C3-BE77-E9AA25CA397A" class="sect4"><span class="enumeration_section">2.2.5</span> CDB中的公共和本地对象概述</h4>
                  <div>
                     <p><span class="bold">公共对象</span>在CDB根目录或应用程序根目录中定义，可以使用元数据链接或对象链接进行引用。本地对象是不是常见对象的每个对象。
                     </p>
                     <p>数据库提供的公共对象在<code class="codeph">CDB$ROOT</code>中定义，无法更改。Oracle数据库不支持在<code class="codeph">CDB$ROOT</code>创建公共对象。</p>
                     <p>您可以创建大多数模式对象（如表，视图，PL / SQL和Java程序单元，序列等），作为应用程序根目录中的公共对象。如果对象存在于应用程序根目录中，则称其为<a href="glossary.html#GUID-550AAB97-0A61-4668-B778-9DCD67B5D674"><span class="xrefglossterm">应用程序公共对象</span></a> 。
                     </p>
                     <p>本地用户可以拥有一个公共对象。此外，普通用户可以拥有本地对象，但仅当对象不是数据链接或元数据链接时，并且既不是元数据链接也不是数据链接。</p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-8B4B4F8B-1C2B-42C3-BE77-E9AA25CA397A__GUID-6F3E7F8F-5D8C-488B-82C9-EA56EFE66D20">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="overview-of-the-multitenant-architecture.html#GUID-9900D18F-989B-4746-A5CE-04A8D9F9751C" title="应用程序公共对象是在应用程序根目录中的应用程序中创建的公共对象。公共对象是数据链接的或元数据链接的。">应用程序通用对象</a> ”</span></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="administering-application-containers-with-sql-plus.html#GUID-76B6E6D4-F478-4EBE-9D9D-D10758835192" title="应用程序公共对象在应用程序根目录中创建，并与属于应用程序根目录的应用程序PDB共享。">关于应用程序通用对象</a> ”</span></p>
                           </li>
                           <li>
                              <p><a href="../dbseg/configuring-privilege-and-role-authorization.html#GUID-D3336A29-71A4-42C3-BCBB-8E6738627539" target="_blank"><span><cite>“Oracle数据库安全指南”</cite></span></a>了解有关常见对象的权限管理的更多信息</p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-B8A0393D-EB92-4020-81EA-7773EE60330C" title="在CDB中，每个用户，角色或对象都是公共的或本地的。类似地，通常或本地授予特权。">CDB中的通用性概述</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="CNCPT89267"></a><div class="props_rev_3"><a id="GUID-232E8018-9BA8-4412-BAA6-98FC9B19D8E3" name="GUID-232E8018-9BA8-4412-BAA6-98FC9B19D8E3"></a><h4 id="MULTI-GUID-232E8018-9BA8-4412-BAA6-98FC9B19D8E3" class="sect4"><span class="enumeration_section">2.2.6</span>通用审计配置概述</h4>
                  <div>
                     <p>对于混合模式和统一审核，可以在所有PDB中查看和实施<span class="bold">通用审核配置</span> 。
                     </p>
                     <p>审计配置是本地的或常见的。适用于其他本地或常见现象（例如用户和角色）的范围规则都适用于审计配置。</p>
                     <div class="infoboxnote" id="GUID-232E8018-9BA8-4412-BAA6-98FC9B19D8E3__GUID-681F518D-E24D-43BC-92EB-974F813DF239">
                        <p class="notep1">注意：</p>
                        <p>审计初始化参数存在于CDB级别而不存在于每个PDB中。</p>
                     </div>
                     <p>PDB支持以下审核选项：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>对象审计</p>
                           <p>对象审计是指特定对象的审计配置。只有公共对象才能成为通用审计配置的一部分。本地审计配置不能包含公共对象。</p>
                        </li>
                        <li>
                           <p>审计政策</p>
                           <p>审计政策可以是本地的或共同的：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>本地审计政策</p>
                                 <p>本地审核策略适用于单个PDB。您只能为此PDB中的本地和普通用户强制执行本地审核策略。尝试跨所有容器强制执行本地审核策略会导致错误。</p>
                                 <p>在所有情况下，执行本地审计策略都是本地审计框架的一部分。</p>
                              </li>
                              <li>
                                 <p>共同的审计政策</p>
                                 <p>通用审核策略适用于所有容器。此策略只能包含操作，系统特权，公共角色和公共对象。您只能将常用审核策略应用于普通用户。尝试跨所有容器为本地用户强制执行通用审核策略会导致错误。</p>
                              </li>
                           </ul>
                        </li>
                     </ul>
                     <p>常见的审计配置存储在根的<code class="codeph">SYS</code>模式中。本地审计配置存储在它应用的PDB的<code class="codeph">SYS</code>模式中。
                     </p>
                     <p>审计跟踪存储在相关PDB的<code class="codeph">SYS</code>或<code class="codeph">AUDSYS</code>模式中。PDB的操作系统和XML审计跟踪存储在<code class="codeph">AUDIT_FILE_DEST</code>初始化参数指定的目录的子目录中。
                     </p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-232E8018-9BA8-4412-BAA6-98FC9B19D8E3__GUID-A12F38D1-D41E-4997-ACD8-FEF29578082F">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>有关数据库审计的信息，请参见<a href="../cncpt/topics-for-database-administrators-and-developers.html#CNCPT-GUID-377114CE-BCB9-4135-A8EE-44FFA43F1D6E" target="_blank"><span><cite>Oracle数据库概念</cite></span></a></p>
                           </li>
                           <li>
                              <p><a href="../dbseg/introduction-to-auditing.html#DBSEG617" target="_blank"><span><cite>Oracle数据库安全指南</cite></span></a> ，了解常见的审计配置</p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-B8A0393D-EB92-4020-81EA-7773EE60330C" title="在CDB中，每个用户，角色或对象都是公共的或本地的。类似地，通常或本地授予特权。">CDB中的通用性概述</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-1F6D3E4F-786A-47A0-A36C-83BAB75FCDAE" name="GUID-1F6D3E4F-786A-47A0-A36C-83BAB75FCDAE"></a><h4 id="MULTI-GUID-1F6D3E4F-786A-47A0-A36C-83BAB75FCDAE" class="sect4"><span class="enumeration_section">2.2.7</span> PDB锁定配置文件概述</h4>
                  <div>
                     <p><strong class="term">PDB锁定配置文件</strong>是一组命名功能，用于控制连接到PDB的用户可用的操作。例如，PDB锁定配置文件可以禁用<code class="codeph">ALTER SYSTEM</code>语句附带的权限。
                     </p>
                     <p>当PDB共享身份时，存在提升权限的可能性。例如，身份可以在网络级别共享，或者当PDB访问公共对象或通过数据库链接连接时。为了提高安全性，CDB管理员可能希望划分访问，从而限制用户可以在PDB中执行的操作。</p>
                     <p>用例可能是在高，中，低级别创建锁定配置文件。高级别可能会极大地限制访问，而低级别可能会启用访问。</p>
                     <p>您可以限制以下类型的访问：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>网络访问</p>
                           <p>例如，限制对<code class="codeph">UTL_HTTP</code>或<code class="codeph">UTL_MAIL</code>访问。</p>
                        </li>
                        <li>
                           <p>常见用户和公共对象访问</p>
                           <p>例如，限制PDB中的本地用户可以通过公共用户进行代理或访问公共模式中的对象的操作。</p>
                        </li>
                        <li>
                           <p>操作系统访问</p>
                           <p>例如，限制对<code class="codeph">UTL_FILE</code>或<code class="codeph">DBMS_FILE_TRANSFER</code> PL / SQL包的访问。
                           </p>
                        </li>
                        <li>
                           <p>连接</p>
                           <p>例如，您可以限制普通用户连接到PDB，或者可以限制具有<code class="codeph">SYSOPER</code>管理权限的本地用户连接到以受限模式打开的PDB。
                           </p>
                        </li>
                        <li>
                           <p>行政功能</p>
                           <p>例如，您可以限制使用<code class="codeph">ALTER SYSTEM</code> ， <code class="codeph">ALTER SESSION</code>和<code class="codeph">ALTER DATABASE</code> 。</p>
                        </li>
                        <li>
                           <p>数据库选项</p>
                           <p>例如，您可以使用锁定配置文件禁用对Oracle分区或Oracle数据库高级队列等数据库选项的访问。</p>
                        </li>
                     </ul>
                     <p>登录到CDB根目录或应用程序根目录后，通过发出<code class="codeph">CREATE LOCKDOWN PROFILE</code>语句来创建锁定概要文件，该语句支持以下可选子句：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">FROM <span class="codeinlineitalic">static_base_profile</span></code>使用现有概要文件中的值创建新的锁定概要文件。对现有配置文件的任何后续更改都不会影响新配置文件。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">INCLUDING <span class="codeinlineitalic">dynamic_base_profile</span></code>通过使用现有概要文件中的值创建新的锁定概要文件，但新的锁定概要文件继承了包含基本概要文件的<code class="codeph">DISABLE STATEMENT</code>规则以及对基本概要文件的任何后续更改。
                           </p>
                        </li>
                     </ul>
                     <p>发出语句的用户必须在当前容器中具有<code class="codeph">CREATE LOCKDOWN PROFILE</code>系统特权。您可以使用<code class="codeph">ALTER LOCKDOWN PROFILE</code>语句添加和删除限制。用户必须在CDB根目录或应用程序根目录中发出<code class="codeph">ALTER</code>语句，并且必须在当前容器中具有<code class="codeph">ALTER LOCKDOWN PROFILE</code>系统特权。
                     </p>
                     <p>使用<code class="codeph">PDB_LOCKDOWN</code>初始化参数指定锁定配置文件。此参数确定PDB锁定配置文件是否适用于给定的PDB。您可以在以下级别设置此参数：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>PDB</p>
                           <p>该配置文件仅适用于设置它的PDB。</p>
                        </li>
                        <li>
                           <p>应用容器</p>
                           <p>该配置文件适用于应用程序容器中的所有应用程序PDB。的值只能由谁拥有应用共同的应用程序共同用户修改<code class="codeph">SYSDBA</code>或共同<code class="codeph">ALTER SYSTEM</code>特权或谁具有共用的CDB公共用户<code class="codeph">SYSDBA</code>或共同<code class="codeph">ALTER SYSTEM</code>特权。
                           </p>
                        </li>
                        <li>
                           <p>CDB</p>
                           <p>该配置文件适用于所有PDB。具有通用<code class="codeph">SYSDBA</code>或通用<code class="codeph">ALTER SYSTEM</code>权限的普通用户可以覆盖特定PDB的CDB范围设置。</p>
                        </li>
                     </ul>
                     <p>如果PDB中的<code class="codeph">PDB_LOCKDOWN</code>参数设置为与此PDB（CDB或应用程序容器）的容器不同的锁定配置文件的名称，则一组规则控制限制之间的交互。
                     </p>
                     <div class="example" id="GUID-1F6D3E4F-786A-47A0-A36C-83BAB75FCDAE__GUID-AD907A15-AC08-4765-AE35-EFF48AE4014E">
                        <p class="titleinexample">示例2-6创建PDB锁定配置文件</p>
                        <p>在此示例中，您以具有<code class="codeph">CREATE LOCKDOWN PROFILE</code>权限的普通用户身份连接到CDB根目录。您创建一个名为medium的配置文件，禁用除<code class="codeph">ALTER SYSTEM FLUSH SHARED POOL</code>之外的所有<code class="codeph">ALTER SYSTEM</code>语句：</p><pre class="pre codeblock"><code>CREATE LOCKDOWN PROFILE medium; ALTER LOCKDOWN PROFILE medium DISABLE STATEMENT =（'ALTER SYSTEM'）; ALTER LOCKDOWN PROFILE medium ENABLE STATEMENT =（'ALTER SYSTEM'）CLAUSE =（'FLUSH SHARED POOL'）;</code></pre><p>您可以作为相同的公共用户连接到需要此配置文件的每个PDB，然后使用<code class="codeph">ALTER SYSTEM</code>将<code class="codeph">PDB_LOCKDOWN</code>初始化参数设置为<code class="codeph">medium</code> 。例如，您可以设置<code class="codeph">PDB_LOCKDOWN</code>到<code class="codeph">medium</code>的<code class="codeph">hrpdb</code> ，但不<code class="codeph">salespdb</code> 。
                        </p>
                        <p>以下示例从<code class="codeph">medium</code>创建<code class="codeph">medium2</code>配置文件：</p><pre class="pre codeblock"><code>CREATE LOCKDOWN PROFILE medium2 FROM medium;</code></pre><div class="infoboxnote" id="GUID-1F6D3E4F-786A-47A0-A36C-83BAB75FCDAE__GUID-52C97E02-DB29-4D8F-BFAD-4BA4320DBBF5">
                           <p class="notep1">注意：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="q">“ <a href="administering-a-cdb-with-sql-plus.html#GUID-3B2EF996-3BE8-413D-968C-14339FACFC12" title="有几种方法可以限制PDB用户以增强安全性。">关于限制PDB用户以增强安全性</a> ”</span>以了解有关PDB锁定配置文件的更多信息</p>
                              </li>
                              <li>
                                 <p><a href="managing-security-for-a-multitenant-environment.html#GUID-AB5E62DB-7E2A-4B5A-BA96-A2BD2DF15275" target="_blank"><span><cite>Oracle数据库安全指南</cite></span></a> ，了解如何创建，启用和删除PDB锁定配置文件</p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-B8A0393D-EB92-4020-81EA-7773EE60330C" title="在CDB中，每个用户，角色或对象都是公共的或本地的。类似地，通常或本地授予特权。">CDB中的通用性概述</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
            <div class="sect2"><a id="GUID-B964031E-8ACE-4603-8F1E-DD173BE5BA01" name="GUID-B964031E-8ACE-4603-8F1E-DD173BE5BA01"></a><h3 id="MULTI-GUID-B964031E-8ACE-4603-8F1E-DD173BE5BA01" class="sect3"><span class="enumeration_section">2.3</span>应用程序容器中的应用程序概述</h3>
               <div>
                  <p>在应用程序容器中， <strong class="term">应用程序</strong>是存储在应用程序根目录中的命名的，版本化的公共数据和元数据集。
                  </p>
                  <p>在应用程序容器的上下文中，术语“应用程序”表示“主应用程序定义”。例如，应用程序可能包含表，视图和包的定义。</p>
                  <p>本节包含以下主题：</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-8F8979E3-9B81-4293-B3CF-ACCF42A0B2D6">关于应用程序容器</a><br><span><strong class="term">应用程序容器</strong>是用户创建的可选CDB组件，用于存储一个或多个应用程序后端的数据和元数据。CDB包括零个或多个应用程序容器。</span></li>
                     <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-9900D18F-989B-4746-A5CE-04A8D9F9751C">应用通用对象</a><br><strong class="term">应用程序公共对象</strong>是在应用程序根目录中的应用程序中创建的公共对象。公共对象是数据链接的或元数据链接的。
                     </li>
                     <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-9327F698-36F7-45CC-9964-4685D48FF254">应用维护</a><br>在此上下文中， <strong class="term">应用程序维护</strong>是指安装，卸载，升级或修补应用程序。
                     </li>
                     <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-F5FDD7A0-06D9-4EE9-87C2-9C89FA44E458">迁移现有应用程序</a><br>您可以将PDB中安装的应用程序迁移到应用程序根目录或应用程序PDB。</li>
                     <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-7E280093-E132-4C04-AEE4-883CDD25E9B4">隐式创建的应用程序</a><br>除了用户创建的应用程序，应用程序容器还可以包含隐式创建的应用程序。
                     </li>
                     <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-66F29699-D5C8-42B2-AEA5-E2805BA9346E">应用程序同步</a><br>在应用程序PDB中，同步是用户启动的应用程序更新到应用程序根目录中的最新版本和修补程序。
                     </li>
                     <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-C0FE90F8-EE93-4835-8ED4-A0FBC7518BB5">容器地图</a><br><strong class="term">容器映射</strong>使连接到应用程序根目录的会话能够发出路由到相应PDB的SQL语句，具体取决于SQL语句中使用的谓词的值。
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-B964031E-8ACE-4603-8F1E-DD173BE5BA01__TOLEARNABOUTCOMMONOBJECTS-94797156">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="q">“ <a href="overview-of-the-multitenant-architecture.html#GUID-8B4B4F8B-1C2B-42C3-BE77-E9AA25CA397A" title="公共对象在CDB根目录或应用程序根目录中定义，可以使用元数据链接或对象链接进行引用。本地对象是不是常见对象的每个对象。">CDB中的公共和本地对象概述</a> ”</span>以了解应用程序常见对象</p>
                        </li>
                        <li>
                           <p><span class="q">“ <a href="creating-removing-application-containers-seeds-with-sql-plus.html#GUID-E2B95068-D16D-438D-9A0B-974540988990" title="您可以通过多种不同方式创建应用程序容器和应用程序种子您还可以从CDB中删除应用程序容器，并且可以从应用程序容器中删除应用程序种子。">创建和删除应用程序容器和种子</a> ”</span></p>
                        </li>
                        <li>
                           <p><span class="q">“ <a href="administering-application-containers-with-sql-plus.html#GUID-1AFD0268-6A2B-4F84-BB4D-4D36976DE53B" title="您可以管理应用程序容器，包括应用程序根和应用程序PDB。您还可以管理应用程序容器中安装的应用程序。">管理应用程序容器</a> ”</span></p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-7F629DD8-D4DE-4FD7-9C35-38AC016DDCDC" title="本章介绍了多租户架构中最重要的组件。">多租户架构概述</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="sect3"><a id="GUID-8F8979E3-9B81-4293-B3CF-ACCF42A0B2D6" name="GUID-8F8979E3-9B81-4293-B3CF-ACCF42A0B2D6"></a><h4 id="MULTI-GUID-8F8979E3-9B81-4293-B3CF-ACCF42A0B2D6" class="sect4"><span class="enumeration_section">2.3.1</span>关于应用程序容器</h4>
                  <div>
                     <p><span><strong class="term">应用程序容器</strong>是用户创建的可选CDB组件，用于存储一个或多个应用程序后端的数据和元数据。CDB包括零个或多个应用程序容器。</span></p>
                     <p>例如，您可以在一个应用程序容器中创建多个与销售相关的PDB，这些PDB共享一个应用程序后端，该后端由一组公共表和表定义组成。您可以在单独的应用程序容器中存储多个与HR相关的PDB，并使用它们自己的公用表和表定义。</p>
                     <p>带有<code class="codeph">AS APPLICATION CONTAINER</code>子句的<code class="codeph">CREATE PLUGGABLE DATABASE</code>语句创建应用程序容器的应用程序根目录，从而隐式创建应用程序容器本身。首次创建应用程序容器时，它不包含任何PDB。要创建应用程序PDB，必须连接到应用程序根目录，然后执行<code class="codeph">CREATE PLUGGABLE DATABASE</code>语句。
                     </p>
                     <p>在<code class="codeph">CREATE PLUGGABLE DATABASE</code>语句中，必须指定容器名称（与应用程序根名称相同），例如<code class="codeph">saas_sales_ac</code> 。应用程序容器名称在CDB中必须是唯一的，并且在通过特定侦听器到达其实例的所有CDB的范围内。每个应用程序容器都有一个与应用程序容器同名的默认服务。
                     </p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-4ED7F2E2-C649-47C0-B92A-E0050DED252D">应用程序容器的用途</a><br>在某些方面，应用程序容器<span class="italic">在</span> CDB中充当特定<span class="italic">于</span>应用程序的CDB。应用程序容器（如CDB本身）可以包含多个PDB，并使这些PDB能够共享元数据和数据。
                        </li>
                        <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-CA425AC1-CA1C-498C-BC09-AD246BA67346">应用程序根</a><br>应用程序容器只有一个<span class="bold">应用程序根</span> ，它是容器中应用程序PDB的父级。
                        </li>
                        <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-A9D4EC8D-9810-49C5-8EC7-157C1E0381BF">应用程序PDB</a><br><span class="bold">应用程序PDB</span>是驻留在应用程序容器中的PDB。CDB中的每个PDB都驻留在零个或一个应用程序容器中。
                        </li>
                        <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-AF521189-BA10-4321-8A54-5BC2AFFD05A5">应用种子</a><br><strong class="term">应用程序种子</strong>是应用程序容器中用户创建的可选PDB。应用程序容器具有零个或一个应用程序种子。
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-8F8979E3-9B81-4293-B3CF-ACCF42A0B2D6__GUID-3D610F4D-C804-4FDD-85E2-313F36EB8EEC">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="overview-of-the-multitenant-architecture.html#GUID-B964031E-8ACE-4603-8F1E-DD173BE5BA01" title="在应用程序容器中，应用程序是存储在应用程序根目录中的命名的，版本化的公共数据和元数据集。">应用程序容器中的应用程序概述</a> ”</span></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="creating-removing-application-containers-seeds-with-sql-plus.html#GUID-E2B95068-D16D-438D-9A0B-974540988990" title="您可以通过多种不同方式创建应用程序容器和应用程序种子您还可以从CDB中删除应用程序容器，并且可以从应用程序容器中删除应用程序种子。">创建和删除应用程序容器和种子</a> ”</span></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="administering-application-containers-with-sql-plus.html#GUID-1AFD0268-6A2B-4F84-BB4D-4D36976DE53B" title="您可以管理应用程序容器，包括应用程序根和应用程序PDB。您还可以管理应用程序容器中安装的应用程序。">管理应用程序容器</a> ”</span></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-B964031E-8ACE-4603-8F1E-DD173BE5BA01" title="在应用程序容器中，应用程序是存储在应用程序根目录中的命名的，版本化的公共数据和元数据集。">应用程序容器中的应用程序概述</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="sect4"><a id="GUID-4ED7F2E2-C649-47C0-B92A-E0050DED252D" name="GUID-4ED7F2E2-C649-47C0-B92A-E0050DED252D"></a><h5 id="MULTI-GUID-4ED7F2E2-C649-47C0-B92A-E0050DED252D" class="sect5"><span class="enumeration_section">2.3.1.1</span>应用容器的用途</h5>
                     <div>
                        <p>在某些方面，应用程序容器<span class="italic">在</span> CDB中充当特定<span class="italic">于</span>应用程序的CDB。应用程序容器（如CDB本身）可以包含多个PDB，并使这些PDB能够共享元数据和数据。
                        </p>
                        <p>应用程序根使应用程序PDB能够共享<a href="glossary.html#GUID-27F7A936-A99F-44F5-AA9F-03599741AB62"><span class="xrefglossterm">应用程序</span></a> ，在此上下文中，这意味着一组命名的，版本化的公共元数据和数据集。典型的应用程序安装应用程序公共用户，元数据链接的公共对象和数据链接的公共对象。
                        </p>
                        <p>本节包含以下主题：</p>
                     </div>
                     <div>
                        <ul class="ullinks">
                           <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-045D7B79-4BF5-465B-BCFF-E0D7DA324A22">应用程序容器的主要优点</a><br>与将每个应用程序存储在单独的PDB中相比，应用程序容</li>
                           <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-8C2E6389-7AFF-4071-8948-E44372E66050">应用程序容器用例：SaaS</a><br>SaaS部署可以使用多个应用程序PDB，每个应用程序PDB用于共享元数据和数据的单独客户。
                           </li>
                           <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-A3EA839E-29BC-47D1-955D-336DA34B86DE">应用程序容器用例：逻辑数据仓库</a><br>客户可以使用多个应用程序PDB来解决数据主权问题。
                           </li>
                        </ul>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-8F8979E3-9B81-4293-B3CF-ACCF42A0B2D6" title="应用程序容器是用户创建的可选CDB组件，用于存储一个或多个应用程序后端的数据和元数据。CDB包括零个或多个应用程序容器。">关于应用程序容器</a></p>
                           </div>
                        </div>
                     </div>
                     
                     <div class="sect5"><a id="GUID-045D7B79-4BF5-465B-BCFF-E0D7DA324A22" name="GUID-045D7B79-4BF5-465B-BCFF-E0D7DA324A22"></a><h6 id="MULTI-GUID-045D7B79-4BF5-465B-BCFF-E0D7DA324A22" class="sect6"><span class="enumeration_section">2.3.1.1.1</span>应用程序容器的主要优点</h6>
                        <div>
                           <p>与将每个应用程序存储在单独的PDB中相比，应用程序容</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>应用程序根存储所有应用程序PDB可以共享的元数据和数据。</p>
                                 <p>例如，所有应用程序PDB都可以在中央表中共享数据，例如列出的表默认应用程序角色。此外，所有PDB都可以共享一个表定义，并为其添加特定于PDB的行。</p>
                              </li>
                              <li>
                                 <p>您可以在应用程序根目录中维护主应用程序定义，而不是在每个PDB中维护单独的副本。</p>
                                 <p>如果在应用程序根目录中升级应用程序，则更改将自动传播到所有应用程序PDB。应用程序后端可能包含<a href="glossary.html#GUID-AC86D2B2-13FB-4FF5-B272-41FF0C6254CB"><span class="xrefglossterm">数据链接的公共对象</span></a> <code class="codeph">app_roles</code> ，它是一个列出默认角色的表： <code class="codeph">admin</code> ， <code class="codeph">manager</code> ， <code class="codeph">sales_rep</code>等。连接到任何应用程序PDB的用户可以查询此表。
                                 </p>
                              </li>
                              <li>
                                 <p>应用程序容器可以包括应用程序种子，应用程序PDB和代理PDB（其指代其他CDB中的PDB）。</p>
                              </li>
                              <li>
                                 <p>您可以从<a href="glossary.html#GUID-BCC6BCFA-FFA1-4C84-8804-1CC13BF86350"><span class="xrefglossterm">应用程序种子</span></a>快速创建新的应用程序PDB。
                                 </p>
                              </li>
                              <li>
                                 <p>您可以查询报告应用程序容器中所有PDB的视图。</p>
                              </li>
                              <li>
                                 <p>连接到应用程序根目录时，可以使用<code class="codeph">CONTAINERS</code>函数对多个PDB中的对象执行DML。
                                 </p>
                                 <p>例如，如果<code class="codeph">products</code>表存在于每个应用程序PDB中，则可以使用单个<code class="codeph">SELECT</code>语句连接到应用程序根目录并查询所有应用程序PDB中的产品。
                                 </p>
                              </li>
                              <li>
                                 <p>您可以从应用程序根目录中拔出PDB，然后将其插入较高Oracle数据库发行版中的应用程序根目录。因此，PDB在Oracle数据库升级中很有用。</p>
                              </li>
                           </ul>
                        </div>
                        <div>
                           <div class="infoboxnotealso" id="GUID-045D7B79-4BF5-465B-BCFF-E0D7DA324A22__ORACLEDATABASEADMINISTRATORSGUIDETO-7CC974AC">
                              <p class="notep1">也可以看看：</p>
                              <p><span class="q">“ <a href="overview-of-the-multitenant-architecture.html#GUID-B964031E-8ACE-4603-8F1E-DD173BE5BA01" title="在应用程序容器中，应用程序是存储在应用程序根目录中的命名的，版本化的公共数据和元数据集。">应用程序容器中的应用程序概述</a> ”</span></p>
                           </div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-4ED7F2E2-C649-47C0-B92A-E0050DED252D" title="在某些方面，应用程序容器在CDB中充当特定于应用程序的CDB。应用程序容器（如CDB本身）可以包含多个PDB，并使这些PDB能够共享元数据和数据。">应用程序容器的用途</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                     <div class="sect5"><a id="GUID-8C2E6389-7AFF-4071-8948-E44372E66050" name="GUID-8C2E6389-7AFF-4071-8948-E44372E66050"></a><h6 id="MULTI-GUID-8C2E6389-7AFF-4071-8948-E44372E66050" class="sect6"><span class="enumeration_section">2.3.1.1.2</span>应用程序容器用例：SaaS</h6>
                        <div>
                           <p>SaaS部署可以使用多个应用程序PDB，每个应用程序PDB用于共享元数据和数据的单独客户。</p>
                           <p>在纯SaaS环境中，主应用程序定义驻留在应用程序根目录中，但客户特定数据驻留在其自己的应用程序PDB中。例如， <code class="codeph">sales_app</code>是应用程序根目录中的应用程序模型。名为<code class="codeph">cust1_pdb</code>的应用程序PDB <code class="codeph">cust1_pdb</code>包含客户1的销售数据，而名为<code class="codeph">cust2_pdb</code>的应用程序PDB <code class="codeph">cust2_pdb</code>包含客户2的销售数据。各个客户PDB可以使用插入，拔出，克隆和其他PDB级操作。
                           </p>
                           <div class="figure" id="GUID-8C2E6389-7AFF-4071-8948-E44372E66050__GUID-9BE66397-4419-4D22-A63F-EA960C90E7A2">
                              <p class="titleinfigure">图2-8 SaaS用例</p><img src="img/cncpt389.png" alt="下面是图2-8的描述" title="下面是图2-8的描述" longdesc="img_text/cncpt389.html"><br><a href="img_text/cncpt389.html">“图2-8 SaaS用例”的说明</a></div>
                           <!-- class="figure" -->
                           <p>纯SaaS配置具有以下优势：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>性能</p>
                              </li>
                              <li>
                                 <p>安全</p>
                              </li>
                              <li>
                                 <p>支持多个客户</p>
                                 <p>每个客户的数据都驻留在自己的容器中，但是已整合，以便您可以集体管理许多客户。该模型将多个管理的规模经济扩展到应用程序管理员，而不仅仅是DBA。</p>
                              </li>
                           </ul>
                        </div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-4ED7F2E2-C649-47C0-B92A-E0050DED252D" title="在某些方面，应用程序容器在CDB中充当特定于应用程序的CDB。应用程序容器（如CDB本身）可以包含多个PDB，并使这些PDB能够共享元数据和数据。">应用程序容器的用途</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                     <div class="sect5"><a id="GUID-A3EA839E-29BC-47D1-955D-336DA34B86DE" name="GUID-A3EA839E-29BC-47D1-955D-336DA34B86DE"></a><h6 id="MULTI-GUID-A3EA839E-29BC-47D1-955D-336DA34B86DE" class="sect6"><span class="enumeration_section">2.3.1.1.3</span>应用程序容器用例：逻辑数据仓库</h6>
                        <div>
                           <p>客户可以使用多个应用程序PDB来解决数据主权问题。</p>
                           <p>在示例用例中，公司将特定于每个财务季度的数据放在单独的PDB中。例如，名为<code class="codeph">sales_ac</code>的应用程序容器包括<code class="codeph">q1_2016_pdb</code> ， <code class="codeph">q2_2016_pdb</code> ， <code class="codeph">q3_2016_pdb</code>和<code class="codeph">q4_2016_pdb</code> 。您可以在PDB中定义与关联季度相对应的每个事务。要生成一年中汇总性能的报告，请使用<code class="codeph">CONTAINERS()</code>子句在四个PDB中进行聚合。
                           </p>
                           <p>这种逻辑仓库设计的好处包括：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>特定于单个PDB的数据的ETL不会影响其他PDB。</p>
                              </li>
                              <li>
                                 <p>执行计划更有效，因为它们基于实际数据分布。</p>
                              </li>
                           </ul>
                        </div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-4ED7F2E2-C649-47C0-B92A-E0050DED252D" title="在某些方面，应用程序容器在CDB中充当特定于应用程序的CDB。应用程序容器（如CDB本身）可以包含多个PDB，并使这些PDB能够共享元数据和数据。">应用程序容器的用途</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-CA425AC1-CA1C-498C-BC09-AD246BA67346" name="GUID-CA425AC1-CA1C-498C-BC09-AD246BA67346"></a><h5 id="MULTI-GUID-CA425AC1-CA1C-498C-BC09-AD246BA67346" class="sect5"><span class="enumeration_section">2.3.1.2</span>应用程序根目录</h5>
                     <div>
                        <p>应用程序容器只有一个<span class="bold">应用程序根</span> ，它是容器中应用程序PDB的父级。
                        </p>
                        <p>作为应用程序根的属性是在创建时建立的，不能更改。应用程序根所属的唯一容器是CDB根。应用程序根在某些方面类似于CDB根，而在其他方面类似于PDB：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>与CDB根一样，应用程序根用作插入其中的PDB的父容器。连接到应用程序根目录时，您可以管理公共用户和权限，创建应用程序PDB，切换容器以及发出适用于应用程序容器中所有PDB的DDL。</p>
                           </li>
                           <li>
                              <p>与PDB一样，您使用<code class="codeph">CREATE PLUGGABLE DATABASE</code>语句创建应用程序根，使用<code class="codeph">ALTER PLUGGABLE DATABASE</code>更改它，并使用<code class="codeph">STARTUP</code>和<code class="codeph">SHUTDOWN</code>更改其可用性。您可以使用DDL来插入，拔出和删除应用程序根目录。应用程序根目录有自己的服务名称，用户可以像连接到PDB一样连接到应用程序根目录。</p>
                           </li>
                        </ul>
                        <p>应用程序根目录与CDB根目录和标准PDB不同，因为它可以存储<span class="italic">用户创建的</span>公共对象，这些对象称为<span class="bold">应用程序公共对象</span> 。插入应用程序根目录的应用程序PDB可以访问应用程序公共对象。应用程序公共对象对CDB根，其他应用程序根或不属于应用程序根目录的PDB不可见。
                        </p>
                        <div class="infoboxnotealso" id="GUID-CA425AC1-CA1C-498C-BC09-AD246BA67346__GUID-98D9D9AC-CFE9-4A3F-990A-1F523CE24B0A">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="q">“ <a href="creating-removing-application-containers-seeds-with-sql-plus.html#GUID-E2B95068-D16D-438D-9A0B-974540988990" title="您可以通过多种不同方式创建应用程序容器和应用程序种子您还可以从CDB中删除应用程序容器，并且可以从应用程序容器中删除应用程序种子。">创建和删除应用程序容器和种子</a> ”</span></p>
                              </li>
                              <li>
                                 <p><span class="q">“ <a href="administering-application-containers-with-sql-plus.html#GUID-1AFD0268-6A2B-4F84-BB4D-4D36976DE53B" title="您可以管理应用程序容器，包括应用程序根和应用程序PDB。您还可以管理应用程序容器中安装的应用程序。">管理应用程序容器</a> ”</span></p>
                              </li>
                           </ul>
                        </div>
                        <div class="example" id="GUID-CA425AC1-CA1C-498C-BC09-AD246BA67346__GUID-4ECD2B46-AFCD-414D-BC6B-4B13B3D05028">
                           <p class="titleinexample">示例2-7创建应用程序根目录</p>
                           <p>在此示例中，您以管理公共用户<code class="codeph">c##system</code>身份登录CDB根目录。您创建名为<code class="codeph">saas_sales_ac</code>的应用程序容器，然后打开与容器同名的应用程序根目录。
                           </p><pre class="pre codeblock"><code>- 创建名为saas_sales_ac的应用程序容器CREATE PLUGGABLE DATABASE saas_sales_ac AS APPLICATION CONTAINER ADMIN USER saas_sales_ac_adm IDENTIFIED BY manager; - 打开应用程序根ALTER PLUGGABLE DATABASE saas_sales_ac OPEN;</code></pre><p>您将当前容器设置为<code class="codeph">saas_sales_ac</code> ，然后验证此容器是否为应用程序根目录：</p><pre class="pre codeblock"><code>- 将当前容器设置为saas_sales_ac ALTER SESSION SET CONTAINER = saas_sales_ac; COL NAME FORMAT a15 COL ROOT FORMAT a4 SELECT CON_ID，NAME，APPLICATION_ROOT AS ROOT，APPLICATION_PDB AS PDB，FROM V $ CONTAINERS; CON_ID NAME ROOT PDB ---------- --------------- ---- --- 3 SAAS_SALES_AC是否</code></pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-8F8979E3-9B81-4293-B3CF-ACCF42A0B2D6" title="应用程序容器是用户创建的可选CDB组件，用于存储一个或多个应用程序后端的数据和元数据。CDB包括零个或多个应用程序容器。">关于应用程序容器</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-A9D4EC8D-9810-49C5-8EC7-157C1E0381BF" name="GUID-A9D4EC8D-9810-49C5-8EC7-157C1E0381BF"></a><h5 id="MULTI-GUID-A9D4EC8D-9810-49C5-8EC7-157C1E0381BF" class="sect5"><span class="enumeration_section">2.3.1.3</span>应用程序PDB</h5>
                     <div>
                        <p><span class="bold">应用程序PDB</span>是驻留在应用程序容器中的PDB。CDB中的每个PDB都驻留在零个或一个应用程序容器中。
                        </p>
                        <p>例如， <code class="codeph">saas_sales_ac</code>应用程序容器可能支持多个客户，每个客户应用程序将其数据存储在单独的PDB中。应用程序PDB <code class="codeph">cust1_sales_pdb</code>和<code class="codeph">cust2_sales_pdb</code>可能驻留在<code class="codeph">saas_sales_ac</code> ，在这种情况下，它们不属于任何其他应用程序容器（尽管它们也必须属于CDB根目录的PDB）。
                        </p>
                        <p>通过在连接到应用程序根目录时执行<code class="codeph">CREATE PLUGGABLE DATABASE</code>来创建应用程序PDB。您可以从种子创建应用程序PDB，也可以克隆PDB或插入未插入的PDB。与插入CDB根目录的PDB一样，您可以克隆，拔出或删除应用程序PDB。但是，应用程序PDB必须始终属于应用程序根目录。
                        </p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-A9D4EC8D-9810-49C5-8EC7-157C1E0381BF__GUID-411EF3D3-8A59-423E-8A6E-B8CDF83BDD41">
                           <p class="notep1">也可以看看：</p>
                           <p><span class="q">“ <a href="creating-removing-application-containers-seeds-with-sql-plus.html#GUID-E2B95068-D16D-438D-9A0B-974540988990" title="您可以通过多种不同方式创建应用程序容器和应用程序种子您还可以从CDB中删除应用程序容器，并且可以从应用程序容器中删除应用程序种子。">创建和删除应用程序容器和种子</a> ”</span></p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-8F8979E3-9B81-4293-B3CF-ACCF42A0B2D6" title="应用程序容器是用户创建的可选CDB组件，用于存储一个或多个应用程序后端的数据和元数据。CDB包括零个或多个应用程序容器。">关于应用程序容器</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-AF521189-BA10-4321-8A54-5BC2AFFD05A5" name="GUID-AF521189-BA10-4321-8A54-5BC2AFFD05A5"></a><h5 id="MULTI-GUID-AF521189-BA10-4321-8A54-5BC2AFFD05A5" class="sect5"><span class="enumeration_section">2.3.1.4</span>应用种子</h5>
                     <div>
                        <p><strong class="term">应用程序种子</strong>是应用程序容器中用户创建的可选PDB。应用程序容器具有零个或一个应用程序种子。
                        </p>
                        <p>应用程序种子使您可以快速创建应用程序PDB。它在应用程序容器中起着相同的作用，因为<code class="codeph">PDB$SEED</code>在CDB本身内服务。
                        </p>
                        <p>应用程序种子名称始终为<code class="codeph"><span class="codeinlineitalic">application_container_name</span> $SEED</code> ，其中<code class="codeph"><span class="codeinlineitalic">application_container_name</span></code>是应用程序容器的名称。例如，使用<code class="codeph">CREATE PDB ...AS SEED</code>语句在<code class="codeph">saas_sales_ac</code>应用程序容器中创建<code class="codeph">saas_sales_ac$SEED</code> 。
                        </p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-AF521189-BA10-4321-8A54-5BC2AFFD05A5__GUID-180ED461-15FC-471D-8468-061767E76007">
                           <p class="notep1">也可以看看：</p>
                           <p><span class="q">“ <a href="creating-removing-application-containers-seeds-with-sql-plus.html#GUID-93AAE6F0-7969-4D05-B10B-F2514CB39417" title="您可以通过多种不同方式创建应用程序种子，包括使用PDB种子，克隆现有PDB或非CDB，以及插入未插入的PDB。您还可以从应用程序容器中删除应用程序种子">创建和删除应用程序种子</a> ”</span></p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-8F8979E3-9B81-4293-B3CF-ACCF42A0B2D6" title="应用程序容器是用户创建的可选CDB组件，用于存储一个或多个应用程序后端的数据和元数据。CDB包括零个或多个应用程序容器。">关于应用程序容器</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
               <div class="sect3"><a id="GUID-9900D18F-989B-4746-A5CE-04A8D9F9751C" name="GUID-9900D18F-989B-4746-A5CE-04A8D9F9751C"></a><h4 id="MULTI-GUID-9900D18F-989B-4746-A5CE-04A8D9F9751C" class="sect4"><span class="enumeration_section">2.3.2</span>应用程序通用对象</h4>
                  <div>
                     <p><strong class="term">应用程序公共对象</strong>是在应用程序根目录中的应用程序中创建的公共对象。公共对象是数据链接的或元数据链接的。
                     </p>
                     <p>对于<a href="glossary.html#GUID-AC86D2B2-13FB-4FF5-B272-41FF0C6254CB"><span class="xrefglossterm">数据链接的公共对象</span></a> ，应用程序PDB共享一组数据。例如， <code class="codeph">saas_sales_ac</code>应用程序容器的应用程序名为<code class="codeph">saas_sales_app</code> ，版本为<code class="codeph">1.0</code> ，并包含数据链接的<code class="codeph">usa_zipcodes</code>表。在这种情况下，行在应用程序根目录中的表中存储一次，但在所有应用程序PDB中都可见。
                     </p>
                     <p>对于<a href="glossary.html#GUID-1EA028DA-51C5-403A-84FA-39BE3A59D6E0"><span class="xrefglossterm">元数据链接的公共对象</span></a> ，应用程序PDB仅共享元数据，但包含不同的数据集。例如，元数据链接的<code class="codeph">products</code>表在每个应用程序PDB中具有相同的定义，但行本身特定于PDB。名为<code class="codeph">cust1pdb</code>的应用程序PDB可能具有包含书籍的<code class="codeph">products</code>表，而名为<code class="codeph">cust2pdb</code>的应用程序PDB可能具有包含汽车部件的<code class="codeph">products</code>表。
                     </p>
                     <p>本节包含以下主题：</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-D9FDDB3D-E3B8-40FA-9EC5-F88467733C92">创建应用程序通用对象</a><br>要创建公共对象，请连接到应用程序根目录，然后执行指定共享属性的<code class="codeph">CREATE</code>语句。
                        </li>
                        <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-67FAED93-8AEE-491B-B261-29084154D5BF">元数据链接的应用程序通用对象</a><br><span class="bold">元数据链接</span>是一个字典对象，支持引用应用程序容器中所有PDB共享的公共元数据并授予其权限。
                        </li>
                        <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-149FF4FC-114C-4D45-995C-D719D49B9AA8">数据链接应用程序通用对象</a><br><span class="bold">数据链接对象</span>是其元数据和数据驻留在应用程序根目录中的对象，可从此应用程序容器中的所有应用程序PDB访问。
                        </li>
                        <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-18DA6C1F-F318-49F9-9ECA-9EF3D7C32DDD">扩展的数据链接应用程序对象</a><br><strong class="term">扩展的数据链接对象</strong>是数据链接对象和元数据链接对象的混合。
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-9900D18F-989B-4746-A5CE-04A8D9F9751C__GUID-A6924694-AF1D-4A93-BF06-C805059776EF">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="overview-of-the-multitenant-architecture.html#GUID-8B4B4F8B-1C2B-42C3-BE77-E9AA25CA397A" title="公共对象在CDB根目录或应用程序根目录中定义，可以使用元数据链接或对象链接进行引用。本地对象是不是常见对象的每个对象。">CDB中的公共和本地对象概述</a> ”</span>以了解常见对象</p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="administering-application-containers-with-sql-plus.html#GUID-76B6E6D4-F478-4EBE-9D9D-D10758835192" title="应用程序公共对象在应用程序根目录中创建，并与属于应用程序根目录的应用程序PDB共享。">关于应用程序通用对象</a> ”</span></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-B964031E-8ACE-4603-8F1E-DD173BE5BA01" title="在应用程序容器中，应用程序是存储在应用程序根目录中的命名的，版本化的公共数据和元数据集。">应用程序容器中的应用程序概述</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="sect4"><a id="GUID-D9FDDB3D-E3B8-40FA-9EC5-F88467733C92" name="GUID-D9FDDB3D-E3B8-40FA-9EC5-F88467733C92"></a><h5 id="MULTI-GUID-D9FDDB3D-E3B8-40FA-9EC5-F88467733C92" class="sect5"><span class="enumeration_section">2.3.2.1</span>创建应用程序通用对象</h5>
                     <div>
                        <p>要创建公共对象，请连接到应用程序根目录，然后执行指定共享属性的<code class="codeph">CREATE</code>语句。
                        </p>
                        <p>您只能在应用程序安装，升级或修补程序中创建或更改应用程序公共对象。您可以通过以下方式指定共享：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">DEFAULT_SHARING</code>初始化参数</p>
                              <p>该设置是在根中创建的受支持类型的所有数据库对象的默认共享属性。</p>
                           </li>
                           <li>
                              <p><code class="codeph">SHARING</code>条款</p>
                              <p>您可以在<code class="codeph">CREATE</code>语句本身中指定此子句。当<code class="codeph">SHARING</code>子句包含在SQL语句中时，它优先于<code class="codeph">DEFAULT_SHARING</code>初始化参数中指定的值。可能的值有<code class="codeph">METADATA</code> ， <code class="codeph">DATA</code> ， <code class="codeph">EXTENDED DATA</code>和<code class="codeph">NONE</code> 。</p>
                           </li>
                        </ul>
                        <p>下表显示了应用程序公共对象的类型以及存储数据和元数据的位置。</p>
                        <div class="tblformal" id="GUID-D9FDDB3D-E3B8-40FA-9EC5-F88467733C92__GUID-B65311EF-47DB-4D20-A3FB-21B579765223">
                           <p class="titleintable">表2-7应用程序通用对象</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="应用通用对象" width="100%" border="1" summary="This table shows the types of application common objects, and where the data and metadata is stored." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="20%" id="d10378e9125">对象类型</th>
                                    <th align="left" valign="bottom" width="20%" id="d10378e9127">共享价值</th>
                                    <th align="left" valign="bottom" width="20%" id="d10378e9129">元数据存储</th>
                                    <th align="left" valign="bottom" width="20%" id="d10378e9131">数据存储</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d10378e9135" headers="d10378e9125 ">数据链接</td>
                                    <td align="left" valign="top" width="20%" headers="d10378e9135 d10378e9127 "><code class="codeph">数据</code></td>
                                    <td align="left" valign="top" width="20%" headers="d10378e9135 d10378e9129 ">应用程序根</td>
                                    <td align="left" valign="top" width="20%" headers="d10378e9135 d10378e9131 ">应用程序根</td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d10378e9145" headers="d10378e9125 ">扩展数据链接</td>
                                    <td align="left" valign="top" width="20%" headers="d10378e9145 d10378e9127 "><code class="codeph">扩展数据</code></td>
                                    <td align="left" valign="top" width="20%" headers="d10378e9145 d10378e9129 ">应用程序根</td>
                                    <td align="left" valign="top" width="20%" headers="d10378e9145 d10378e9131 ">应用程序根和应用程序PDB</td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d10378e9155" headers="d10378e9125 ">元数据挂钩</td>
                                    <td align="left" valign="top" width="20%" headers="d10378e9155 d10378e9127 "><code class="codeph">元数据</code></td>
                                    <td align="left" valign="top" width="20%" headers="d10378e9155 d10378e9129 ">应用程序根</td>
                                    <td align="left" valign="top" width="20%" headers="d10378e9155 d10378e9131 ">应用程序PDB</td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-D9FDDB3D-E3B8-40FA-9EC5-F88467733C92__GUID-88259161-1190-4831-8204-B2DA431F1C8E">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="q">“ <a href="administering-application-containers-with-sql-plus.html#GUID-388FB5AD-A2DE-4951-833B-A98239F99F50" title="通过确保将DEFAULT_SHARING初始化参数设置为正确的值或在CREATE SQL语句中包含SHARING子句，可以在应用程序根目录中创建应用程序公共对象。">创建应用程序通用对象</a> ”</span></p>
                              </li>
                              <li>
                                 <p><a href="../dbseg/configuring-privilege-and-role-authorization.html#GUID-D3336A29-71A4-42C3-BCBB-8E6738627539" target="_blank"><span><cite>Oracle数据库安全指南</cite></span></a> ，了解如何管理公共对象的权限</p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-9900D18F-989B-4746-A5CE-04A8D9F9751C" title="应用程序公共对象是在应用程序根目录中的应用程序中创建的公共对象。公共对象是数据链接的或元数据链接的。">应用程序通用对象</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-67FAED93-8AEE-491B-B261-29084154D5BF" name="GUID-67FAED93-8AEE-491B-B261-29084154D5BF"></a><h5 id="MULTI-GUID-67FAED93-8AEE-491B-B261-29084154D5BF" class="sect5"><span class="enumeration_section">2.3.2.2</span>元数据链接的应用程序通用对象</h5>
                     <div>
                        <p><span class="bold">元数据链接</span>是一个字典对象，支持引用应用程序容器中所有PDB共享的公共元数据并授予其权限。
                        </p>
                        <p>在<code class="codeph">SHARING</code>子句或<code class="codeph">DEFAULT_SHARING</code>初始化参数中指定<code class="codeph">METADATA</code>值指定了对象元<a href="glossary.html#GUID-1EA028DA-51C5-403A-84FA-39BE3A59D6E0"><span class="xrefglossterm">数据的链接</span></a> ，称为<a href="glossary.html#GUID-1EA028DA-51C5-403A-84FA-39BE3A59D6E0"><span class="xrefglossterm">元数据链接的公共对象</span></a> 。对象的元数据在应用程序根目录中存储一次。
                        </p>
                        <p>表，视图和代码对象（例如PL / SQL过程）可以共享元数据。在此上下文中，“元数据”包括列定义，约束，触发器和代码。例如，如果<code class="codeph">sales_mlt</code>是元数据链接的公用表，则所有应用程序PDB都通过元数据链接访问该表的<span class="italic">相同</span>定义，该表存储在应用程序根目录中。<code class="codeph">sales_mlt</code>中的行在每个应用程序PDB中都不同，但列定义相同。
                        </p>
                        <p>通常，应用程序中的大多数对象都是元数据链接的。因此，您只需要维护一个主应用程序定义。此方法将应用程序的管理集中在多个应用程序PDB中。</p>
                        <div class="example" id="GUID-67FAED93-8AEE-491B-B261-29084154D5BF__GUID-F8FA1E2E-F1C3-4520-A20C-1D8864223305">
                           <p class="titleinexample">示例2-8创建元数据链接的公共对象</p>
                           <p>在此示例中， <code class="codeph">SYSTEM</code>用户登录<code class="codeph">saas_sales_ac</code>应用程序容器。<code class="codeph">SYSTEM</code>在版本1.0中安装名为<code class="codeph">saas_sales_app</code>的应用程序（请参阅<span class="q">“ <a href="overview-of-the-multitenant-architecture.html#GUID-9327F698-36F7-45CC-9964-4685D48FF254" title="在此上下文中，应用程序维护是指安装，卸载，升级或修补应用程序。">应用程序维护</a> ”</span> ）。此应用程序创建一个名为<code class="codeph">saas_sales_adm</code>的公共用户帐户。该架构包含名为<code class="codeph">sales_mlt</code>的元数据链接公用表。
                           </p><pre class="pre codeblock"><code>- 开始安装saas_sales_app ALTER PLUGGABLE DATABASE APPLICATION saas_sales_app BEGIN INSTALL'1.0'; - 为应用创建表空间CREATE TABLESPACE saas_sales_tbs DATAFILE SIZE 100M AUTOEXTEND ON NEXT 10M MAXSIZE 200M; - 创建用户帐户saas_sales_adm，该帐户将拥有应用程序CREATE USER saas_sales_adm IDENTIFIED BY ****** CONTAINER = ALL; - 为此用户帐户授予必要的权限GRANT CREATE SESSION，DBA to saas_sales_adm; - 使刚刚创建的表空间成为saas_sales_adm的默认值ALTER USER saas_sales_adm DEFAULT TABLESPACE saas_sales_tbs; - 现在连接为应用程序所有者CONNECT saas_sales_adm / ****** @ saas_sales_ac  - 创建元数据链接表CREATE TABLE saas_sales_adm.sales_mlt SHARING = METADATA（YEAR NUMBER（4），REGION VARCHAR2（10），QUARTER VARCHAR2 （4），收入数字）; - 结束应用程序安装ALTER PLUGGABLE DATABASE APPLICATION saas_sales_app END INSTALL'1.0';</code></pre><p>您可以使用<code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION ...SYNC</code>语句用于同步应用程序PDB以使用相同的主应用程序定义。通过这种方式，每个应用程序PDB都具有指向<code class="codeph">saas_sales_adm.sales_mlt</code>公用表的元数据链接。该更新中间层代码<code class="codeph">sales_mlt</code>的PDB命名内<code class="codeph">cust1_pdb</code>添加行此表的<code class="codeph">cust1_pdb</code> ，而该更新的中间层代码<code class="codeph">sales_mlt</code>在<code class="codeph">cust2_pdb</code>添加行此表的副本<code class="codeph">cust2_pdb</code> 。仅共享存储在应用程序根目录中的表元数据。
                           </p>
                           <div class="infoboxnote" id="GUID-67FAED93-8AEE-491B-B261-29084154D5BF__GUID-C6B56652-3742-48EE-820F-EC87CC626E97">
                              <p class="notep1">注意：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><span class="q">“ <a href="administering-application-containers-with-sql-plus.html#GUID-76B6E6D4-F478-4EBE-9D9D-D10758835192" title="应用程序公共对象在应用程序根目录中创建，并与属于应用程序根目录的应用程序PDB共享。">关于应用程序通用对象</a> ”</span></p>
                                 </li>
                                 <li>
                                    <p><a href="managing-security-for-a-multitenant-environment.html#GUID-A804A571-D104-451E-83E0-8CEF716DBC68" target="_blank"><span><cite>“Oracle数据库安全指南”</cite></span></a> ，了解有关通常授予的对象权限如何工作的更</p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <ul class="ullinks">
                           <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-778F5D33-7B90-47B1-B242-2C11CC4F13AA">元数据链接</a><br>对于元数据链接的应用程序公共对象，对象的元数据在应用程序根目录中存储一次。元数据链接是字典对象，其对象类型与其共享的元数据相同。
                           </li>
                        </ul>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-9900D18F-989B-4746-A5CE-04A8D9F9751C" title="应用程序公共对象是在应用程序根目录中的应用程序中创建的公共对象。公共对象是数据链接的或元数据链接的。">应用程序通用对象</a></p>
                           </div>
                        </div>
                     </div>
                     
                     <div class="sect5"><a id="GUID-778F5D33-7B90-47B1-B242-2C11CC4F13AA" name="GUID-778F5D33-7B90-47B1-B242-2C11CC4F13AA"></a><h6 id="MULTI-GUID-778F5D33-7B90-47B1-B242-2C11CC4F13AA" class="sect6"><span class="enumeration_section">2.3.2.2.1</span>元数据链接</h6>
                        <div>
                           <p>对于元数据链接的应用程序公共对象，对象的元数据在应用程序根目录中存储一次。元数据链接是字典对象，其对象类型与其共享的元数据相同。</p>
                           <p>元数据链接的描述存储在创建它的PDB的数据字典中。元数据链接必须由应用程序通用用户拥有。您只能使用元数据链接来共享其创建者在CDB根目录或应用程序根目录中拥有的公共对象的元数据。</p>
                           <p>与数据链接不同，元数据链接<span class="italic">仅</span>依赖于公共数据。例如，如果应用程序在应用程序根目录中包含本地表<code class="codeph">dow_close_lt</code>和<code class="codeph">nasdaq_close_lt</code> ，则普通用户无法创建指向这些对象的元数据链接。但是，名为<code class="codeph">sales_mlt</code>的应用程序公用表可能是元数据链接的。
                           </p>
                           <p>例如，如果特权公共用户更改<code class="codeph">sales_mlt</code>的元数据， <code class="codeph">sales_mlt</code>向表中添加一列，然后此更改将传播到元数据链接。应用程序PDB用户可能不会更改元数据链接中的元数据。例如，管理名为<code class="codeph">cust1_pdb</code>的应用程序PDB的DBA不能仅在此PDB中向<code class="codeph">sales_mlt</code>添加列：此类元数据更改只能在应用程序根目录中进行。
                           </p>
                        </div>
                        <div>
                           <div class="infoboxnotealso" id="GUID-778F5D33-7B90-47B1-B242-2C11CC4F13AA__GUID-7B9DC06E-7AE9-4380-BCC7-035F1A415E79">
                              <p class="notep1">也可以看看：</p>
                              <p><span class="q">“ <a href="administering-application-containers-with-sql-plus.html#GUID-76B6E6D4-F478-4EBE-9D9D-D10758835192" title="应用程序公共对象在应用程序根目录中创建，并与属于应用程序根目录的应用程序PDB共享。">关于应用程序通用对象</a> ”</span></p>
                           </div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-67FAED93-8AEE-491B-B261-29084154D5BF" title="元数据链接是一个字典对象，支持引用应用程序容器中所有PDB共享的公共元数据并授予其权限。">元数据链接的应用程序公共对象</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-149FF4FC-114C-4D45-995C-D719D49B9AA8" name="GUID-149FF4FC-114C-4D45-995C-D719D49B9AA8"></a><h5 id="MULTI-GUID-149FF4FC-114C-4D45-995C-D719D49B9AA8" class="sect5"><span class="enumeration_section">2.3.2.3</span>数据链接的应用程序通用对象</h5>
                     <div>
                        <p><span class="bold">数据链接对象</span>是其元数据和数据驻留在应用程序根目录中的对象，可从此应用程序容器中的所有应用程序PDB访问。
                        </p>
                        <p>在<code class="codeph">SHARING</code>子句或<code class="codeph">DEFAULT_SHARING</code>初始化参数中指定<code class="codeph">DATA</code>值指定到公共对象的链接，称为<a href="glossary.html#GUID-AC86D2B2-13FB-4FF5-B272-41FF0C6254CB"><span class="xrefglossterm">数据链接的公共对象</span></a> 。数据仓库中的维度表通常是数据链接公共表的良好候选者。
                        </p>
                        <p>数据链接是一个字典对象，其功能与同义词非常相似。例如，如果<code class="codeph">countries</code>是应用程序公用表，则所有应用程序PDB都通过数据链接访问此表的<span class="italic">同一</span>副本。如果将一行添加到此表，则此行在所有应用程序PDB中都可见。
                        </p>
                        <p>数据链接必须由应用程序通用用户拥有。该链接从它所指向的对象继承对象类型。数据链接的描述存储在创建它的PDB的字典中。例如，如果应用程序容器包含10个应用程序PDB，并且每个PDB包含指向<code class="codeph">countries</code>应用程序公用表的链接，则所有10个PDB都包含此链接的字典定义。
                        </p>
                        <div class="example" id="GUID-149FF4FC-114C-4D45-995C-D719D49B9AA8__GUID-F8FA1E2E-F1C3-4520-A20C-1D8864223305">
                           <p class="titleinexample">示例2-9创建数据链接对象</p>
                           <p>在此示例中， <code class="codeph">SYSTEM</code>连接到<code class="codeph">saas_sales_ac</code>应用程序容器。<code class="codeph">SYSTEM</code>将名为<code class="codeph">saas_sales_app</code>的应用程序从版本<code class="codeph">1.0</code>升级到<code class="codeph">2.0</code> 。此应用程序升级以普通用户<code class="codeph">saas_sales_adm</code>身份登录到容器，创建名为<code class="codeph">countries_dlt</code>的数据链接表，然后在其中插入行。
                           </p><pre class="pre codeblock"><code>- 开始升级应用程序ALTER PLUGGABLE DATABASE APPLICATION saas_sales_app BEGIN UPGRADE'1.0'到'2.0'; - 作为应用程序所有者连接到应用程序根目录CONNECT saas_sales_adm / manager @ saas_sales_ac  - 创建名为countries_dlt的数据链接表CREATE TABLE countries_dlt SHARING = DATA（country_id NUMBER，country_name VARCHAR2（20））; - 将记录插入countries_dlt INSERT INTO countries_dlt VALUES（1，'USA'）; INSERT INTO countries_dlt VALUES（44，'UK'）; INSERT INTO countries_dlt VALUES（86，'China'）; INSERT INTO countries_dlt VALUES（91，'India'）; - 结束应用程序升级ALTER PLUGGABLE DATABASE APPLICATION saas_sales_app END UPGRADE TO'2.0';</code></pre><p>使用<code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION ...用于将应用程序PDB与应用程序根同步的SYNC</code>语句（请参阅<span class="q">“ <a href="overview-of-the-multitenant-architecture.html#GUID-66F29699-D5C8-42B2-AEA5-E2805BA9346E" title="在应用程序PDB中，同步是用户启动的应用程序更新到应用程序根目录中的最新版本和修补程序。">应用程序同步</a> ”</span> ）。这样，每个同步的应用程序PDB都具有到<code class="codeph">saas_sales_adm.countries_dlt</code>数据链接表的数据链接。
                           </p>
                           <div class="infoboxnote" id="GUID-149FF4FC-114C-4D45-995C-D719D49B9AA8__GUID-A05C5156-4D8C-4A22-888E-E458042AC120">
                              <p class="notep1">注意：</p>
                              <p><span class="q">“ <a href="administering-application-containers-with-sql-plus.html#GUID-76B6E6D4-F478-4EBE-9D9D-D10758835192" title="应用程序公共对象在应用程序根目录中创建，并与属于应用程序根目录的应用程序PDB共享。">关于应用程序通用对象</a> ”</span></p>
                           </div>
                        </div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-9900D18F-989B-4746-A5CE-04A8D9F9751C" title="应用程序公共对象是在应用程序根目录中的应用程序中创建的公共对象。公共对象是数据链接的或元数据链接的。">应用程序通用对象</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-18DA6C1F-F318-49F9-9ECA-9EF3D7C32DDD" name="GUID-18DA6C1F-F318-49F9-9ECA-9EF3D7C32DDD"></a><h5 id="MULTI-GUID-18DA6C1F-F318-49F9-9ECA-9EF3D7C32DDD" class="sect5"><span class="enumeration_section">2.3.2.4</span>扩展的数据链接应用程序对象</h5>
                     <div>
                        <p><strong class="term">扩展的数据链接对象</strong>是数据链接对象和元数据链接对象的混合。
                        </p>
                        <p>在扩展的数据链接对象中，存储在应用程序根目录中的数据对于所有应用程序PDB是通用的，并且所有PDB都可以访问该数据。但是，每个应用程序PDB可以在共享应用程序根目录中的公共数据的同时创建自己的PDB特定数据。因此，PDB用他们自己的数据补充公共数据。</p>
                        <p>例如，销售应用程序可能支持多个应用程序PDB。所有申请PDB都需要美国的邮政编码。在这种情况下，您可以在应用程序根目录中创建<code class="codeph">zipcodes_edt</code>扩展数据链接表。应用程序根目录存储美国邮政编码，因此所有应用程序PDB都可以访问它们。但是，一个申请PDB需要美国和加拿大的邮政编码。此应用程序PDB可以将加拿大的邮政编码存储在应用程序PDB中的扩展数据链接对象中，而不是存储在应用程序根目录中。
                        </p>
                        <p>通过连接到应用程序根目录并在<code class="codeph">CREATE</code>语句中指定<code class="codeph">SHARING=EXTENDED DATA</code>关键字来创建扩展的数据链接对象。
                        </p>
                        <div class="example" id="GUID-18DA6C1F-F318-49F9-9ECA-9EF3D7C32DDD__GUID-C8F5D1F2-0E78-494E-B6B8-AC34988AACAB">
                           <p class="titleinexample">示例2-10创建扩展数据对象</p>
                           <p>在此示例中， <code class="codeph">SYSTEM</code>连接到<code class="codeph">saas_sales_ac</code>应用程序容器，然后将名为<code class="codeph">saas_sales_app</code>的应用程序（在<span class="q">“ <a href="overview-of-the-multitenant-architecture.html#GUID-67FAED93-8AEE-491B-B261-29084154D5BF__GUID-F8FA1E2E-F1C3-4520-A20C-1D8864223305">示例2-8</a> ”中</span>创建）从版本<code class="codeph">2.0</code>升级到<code class="codeph">3.0</code> 。在向容器作为公共用户这个应用日志<code class="codeph">saas_sales_adm</code> ，创建了一个扩展数据链接表命名<code class="codeph">zipcodes_edt</code> ，然后将行插入它。
                           </p><pre class="pre codeblock"><code>- 开始升级应用程序ALTER PLUGGABLE DATABASE APPLICATION saas_sales_app BEGIN UPGRADE'2.0'到'3.0'; - 作为app owner连接到app root CONNECT saas_sales_adm / manager @ saas_sales_ac  - 创建一个名为zipcodes_edt的公共数据表CREATE TABLE zipcodes_edt SHARING = EXTENDED DATA（code VARCHAR2（5），country_id NUMBER，region VARCHAR2（10））; - 将行加载到zipcodes_edt INSERT INTO zipcodes_edt VALUES（'08820'，'1'，'East'）; INSERT INTO zipcodes_edt VALUES（'10005'，'1'，'East'）; INSERT INTO zipcodes_edt VALUES（'44332'，'1'，'North'）; INSERT INTO zipcodes_edt VALUES（'94065'，'1'，'West'）; INSERT INTO zipcodes_edt VALUES（'73301'，'1'，'South'）;承诺; - 结束应用程序升级ALTER PLUGGABLE DATABASE APPLICATION saas_sales_app END UPGRADE TO'3.0';</code></pre><p>使用<code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION ...用于将应用程序PDB与应用程序同步的SYNC</code>语句（请参阅<span class="q">“ <a href="overview-of-the-multitenant-architecture.html#GUID-66F29699-D5C8-42B2-AEA5-E2805BA9346E" title="在应用程序PDB中，同步是用户启动的应用程序更新到应用程序根目录中的最新版本和修补程序。">应用程序同步</a> ”</span> ）。这样，每个同步的应用程序PDB都具有到<code class="codeph">saas_sales_adm.zipcodes_edt</code>数据链接表的数据链接。连接到这些PDB的应用程序可以查看在应用程序升级期间插入<code class="codeph">zipcodes_edt</code>的邮政编码，但也可以将自己的邮政编码插入此表中。
                           </p>
                           <div class="infoboxnote" id="GUID-18DA6C1F-F318-49F9-9ECA-9EF3D7C32DDD__GUID-82C08769-A483-4A8B-9B38-BF83CC8069CD">
                              <p class="notep1">注意：</p>
                              <p><span class="q">“ <a href="administering-application-containers-with-sql-plus.html#GUID-76B6E6D4-F478-4EBE-9D9D-D10758835192" title="应用程序公共对象在应用程序根目录中创建，并与属于应用程序根目录的应用程序PDB共享。">关于应用程序通用对象</a> ”</span></p>
                           </div>
                        </div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-9900D18F-989B-4746-A5CE-04A8D9F9751C" title="应用程序公共对象是在应用程序根目录中的应用程序中创建的公共对象。公共对象是数据链接的或元数据链接的。">应用程序通用对象</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-9327F698-36F7-45CC-9964-4685D48FF254" name="GUID-9327F698-36F7-45CC-9964-4685D48FF254"></a><h4 id="MULTI-GUID-9327F698-36F7-45CC-9964-4685D48FF254" class="sect4"><span class="enumeration_section">2.3.3</span>应用程序维护</h4>
                  <div>
                     <p>在此上下文中， <strong class="term">应用程序维护</strong>是指安装，卸载，升级或修补应用程序。
                     </p>
                     <p>应用程序必须具有名称和版本号。这些属性组合决定了您可以执行的维护操作。在所有维护操作中，执行以下步骤：</p>
                     <ol>
                        <li>
                           <p>首先执行<code class="codeph">ALTER PLUGGABLE DATABASE ...带有<code class="codeph">BEGIN INSTALL</code> ， <code class="codeph">BEGIN UPGRADE</code>或<code class="codeph">BEGIN PATCH</code>子句的APPLICATION</code>声明。
                           </p>
                        </li>
                        <li>
                           <p>执行语句以更改应用程序。</p>
                        </li>
                        <li>
                           <p>最后执行<code class="codeph">ALTER PLUGGABLE DATABASE ...带有<code class="codeph">END INSTALL</code> ， <code class="codeph">END UPGRADE</code>或<code class="codeph">END PATCH</code>子句的APPLICATION</code>语句。
                           </p>
                        </li>
                     </ol>
                     <p>随着应用程序的发展，应用程序容器会维护所有版本和修补程序更改。</p>
                     <p>本节包含以下主题：</p>
                     <div class="infoboxnote" id="GUID-9327F698-36F7-45CC-9964-4685D48FF254__GUID-1DBF92D8-F735-4DCC-8475-99873883AAD8">
                        <p class="notep1">注意：</p>
                        <p><span class="q">“ <a href="administering-application-containers-with-sql-plus.html#GUID-9FE49E60-32D9-40BB-BD56-9FC53ED696AC" title="在应用程序容器中，应用程序是一组命名的，版本化的应用程序元数据和公共数据集。应用程序存储在应用程序根目录中。">关于应用程序管理</a> ”</span></p>
                     </div>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-2C40633B-3749-40D3-8ABD-F507957C8EED">关于应用维护</a><br>使用<code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION</code>语句执行应用程序安装，升级和修补操作。
                        </li>
                        <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-5DBE5EE7-AE5F-43E2-AA43-9288CA5E3DA3">应用安装</a><br><span class="bold">应用程序安装</span>是主应用程序定义的初始创建。典型安装会创建用户帐户，表和PL / SQL包。
                        </li>
                        <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-99A0CCB3-7051-4C21-BAED-DB13F075CCAC">应用升级</a><br><strong class="term">应用程序升级</strong>是对已安装应用程序的重大更改。
                        </li>
                        <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-0E8235B2-4BED-4A91-9F24-CE9C9174BCB4">应用程序补丁</a><br><span class="bold">应用程序补丁</span>是对<span class="bold">应用程序</span>的微小更改。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-B964031E-8ACE-4603-8F1E-DD173BE5BA01" title="在应用程序容器中，应用程序是存储在应用程序根目录中的命名的，版本化的公共数据和元数据集。">应用程序容器中的应用程序概述</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="props_rev_3"><a id="GUID-2C40633B-3749-40D3-8ABD-F507957C8EED" name="GUID-2C40633B-3749-40D3-8ABD-F507957C8EED"></a><h5 id="MULTI-GUID-2C40633B-3749-40D3-8ABD-F507957C8EED" class="sect5"><span class="enumeration_section">2.3.3.1</span>关于应用程序维护</h5>
                     <div>
                        <p>使用<code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION</code>语句执行应用程序安装，升级和修补操作。
                        </p>
                        <p>应用程序维护的基本步骤如下：</p>
                        <ol>
                           <li>
                              <p>登录应用程序根目录。</p>
                           </li>
                           <li>
                              <p>使用<code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION ...开始操作<code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION ...应用程序根目录中的BEGIN</code>语句。
                              </p>
                           </li>
                           <li>
                              <p>执行应用程序维护声明。</p>
                           </li>
                           <li>
                              <p>使用<code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION ...结束操作<code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION ...END</code>声明。
                              </p>
                           </li>
                        </ol>
                        <p>使用脚本，SQL语句或GUI工具执行维护。</p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-2C40633B-3749-40D3-8ABD-F507957C8EED__GUID-25C4D53E-CB9E-4C87-B3C7-9F9ECA8B4D2B">
                           <p class="notep1">也可以看看：</p>
                           <p><span class="q">“ <a href="administering-application-containers-with-sql-plus.html#GUID-9FE49E60-32D9-40BB-BD56-9FC53ED696AC" title="在应用程序容器中，应用程序是一组命名的，版本化的应用程序元数据和公共数据集。应用程序存储在应用程序根目录中。">关于应用程序管理</a> ”</span></p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-9327F698-36F7-45CC-9964-4685D48FF254" title="在此上下文中，应用程序维护是指安装，卸载，升级或修补应用程序。">应用程序维护</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="props_rev_3"><a id="GUID-5DBE5EE7-AE5F-43E2-AA43-9288CA5E3DA3" name="GUID-5DBE5EE7-AE5F-43E2-AA43-9288CA5E3DA3"></a><h5 id="MULTI-GUID-5DBE5EE7-AE5F-43E2-AA43-9288CA5E3DA3" class="sect5"><span class="enumeration_section">2.3.3.2</span>应用程序安装</h5>
                     <div>
                        <p><span class="bold">应用程序安装</span>是主应用程序定义的初始创建。典型安装会创建用户帐户，表和PL / SQL包。
                        </p>
                        <p>要安装应用程序，请在<code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION</code>语句中指定以下内容：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>申请名称</p>
                           </li>
                           <li>
                              <p>应用程序版本号</p>
                           </li>
                        </ul>
                        <div class="example" id="GUID-5DBE5EE7-AE5F-43E2-AA43-9288CA5E3DA3__GUID-2E23E76C-0BC3-47A6-9311-87B877FB4893">
                           <p class="titleinexample">示例2-11安装应用程序</p>
                           <p>此示例假定您已登录到名为<code class="codeph">saas_sales_ac</code>的应用程序容器中。该示例在版本1.0中安装名为<code class="codeph">saas_sales_app</code>的应用程序。请注意，您使用字符串而不是数字指定版本。应用程序创建名为<code class="codeph">saas_sales_adm</code>的应用程序通用用户，授予必要的权限，然后以此用户身份连接到应用程序根目录。此用户创建名为<code class="codeph">sales_mlt</code>的元数据链接表。
                           </p><pre class="pre codeblock"><code>- 开始安装saas_sales_app ALTER PLUGGABLE DATABASE APPLICATION saas_sales_app BEGIN INSTALL'1.0'; - 为应用创建表空间CREATE TABLESPACE saas_sales_tbs DATAFILE SIZE 100M AUTOEXTEND ON NEXT 10M MAXSIZE 200M; - 创建用户帐户saas_sales_adm，该帐户将拥有应用程序CREATE USER saas_sales_adm IDENTIFIED BY manager CONTAINER = ALL; - 为此用户帐户授予必要的权限GRANT CREATE SESSION，DBA to saas_sales_adm; - 使刚刚创建的表空间成为saas_sales_adm的默认值ALTER USER saas_sales_adm DEFAULT TABLESPACE saas_sales_tbs; - 现在连接为应用程序所有者CONNECT saas_sales_adm / manager @ saas_sales_ac  - 创建元数据链接表CREATE TABLE saas_sales_adm.sales_mlt SHARING = METADATA（YEAR NUMBER（4），REGION VARCHAR2（10），QUARTER VARCHAR2（4），REVENUE数）; - 结束应用程序安装ALTER PLUGGABLE DATABASE APPLICATION saas_sales_app END INSTALL'1.0';</code></pre> <p><a href="glossary.html#GUID-7D57C61B-4D4A-41D2-80BF-5E9BEA806183"><span class="xrefglossterm">PDB同步</span></a>是应用程序根目录中应用程序PDB的用户启动更新。将应用程序PDB与<code class="codeph">saas_sales_app</code>应用程序同步后，每个应用程序PDB将包含一个名为<code class="codeph">products_mlt</code>的空表。应用程序可以连接到应用程序PDB，然后将PDB特定的行插入此表。
                           </p>
                        </div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-5DBE5EE7-AE5F-43E2-AA43-9288CA5E3DA3__GUID-4BEC3B3D-F254-448F-9507-ECBDD59140FE">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="q">“ <a href="overview-of-the-multitenant-architecture.html#GUID-66F29699-D5C8-42B2-AEA5-E2805BA9346E" title="在应用程序PDB中，同步是用户启动的应用程序更新到应用程序根目录中的最新版本和修补程序。">应用程序同步</a> ”</span></p>
                              </li>
                              <li>
                                 <p><span class="q">“ <a href="administering-application-containers-with-sql-plus.html#GUID-D06AD868-A2BA-449D-9C73-884F0378D175" title="在自动传播中，应用程序安装在与应用程序根目录中的应用程序同步的应用程序PDB中。">使用自动传播在应用程序容器中安装应用程序</a> ”</span></p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-9327F698-36F7-45CC-9964-4685D48FF254" title="在此上下文中，应用程序维护是指安装，卸载，升级或修补应用程序。">应用程序维护</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="props_rev_3"><a id="GUID-99A0CCB3-7051-4C21-BAED-DB13F075CCAC" name="GUID-99A0CCB3-7051-4C21-BAED-DB13F075CCAC"></a><h5 id="MULTI-GUID-99A0CCB3-7051-4C21-BAED-DB13F075CCAC" class="sect5"><span class="enumeration_section">2.3.3.3</span>应用程序升级</h5>
                     <div>
                        <p><strong class="term">应用程序升级</strong>是对已安装应用程序的重大更改。
                        </p>
                        <p>通常，升级会更改应用程序的物理体系结构。例如，升级可能会添加新的用户帐户，表和包，或者更改现有对象的定义。</p>
                        <p>要升级应用程序，必须在<code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION</code>语句中指定以下内容：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>申请名称</p>
                           </li>
                           <li>
                              <p>旧应用程序版本号</p>
                           </li>
                           <li>
                              <p>新的应用程序版本号</p>
                           </li>
                        </ul>
                        <div class="example" id="GUID-99A0CCB3-7051-4C21-BAED-DB13F075CCAC__UPGRADINGANAPPLICATIONUSINGTHEAUTOM-8EDB8801">
                           <p class="titleinexample">示例2-12使用自动化技术升级应用程序</p>
                           <p>在此示例中，您以管理员身份连接到应用程序根目录，然后将应用程序<code class="codeph">saas_sales_app</code>从版本1.0升级到版本2.0。升级会创建一个名为<code class="codeph">countries_dlt</code>的数据链接表，然后向其中添加行。它还会创建一个名为<code class="codeph">zipcodes_edt</code>的扩展数据链接表，然后向其中添加行。
                           </p><pre class="pre codeblock"><code>- 开始升级应用程序ALTER PLUGGABLE DATABASE APPLICATION saas_sales_app BEGIN UPGRADE'1.0'到'2.0'; - 作为应用程序所有者连接到应用程序根CONNECT saas_sales_adm / manager @ saas_sales_ac  - 创建名为countries_dlt的数据链接表CREATE TABLE countries_dlt SHARING = DATA（country_id NUMBER，country_name VARCHAR2（20））; - 将记录插入countries_dlt INSERT INTO countries_dlt VALUES（1，'USA'）; INSERT INTO countries_dlt VALUES（44，'UK'）; INSERT INTO countries_dlt VALUES（86，'China'）; INSERT INTO countries_dlt VALUES（91，'India'）; - 创建名为zipcodes_edt的扩展数据链接表CREATE TABLE zipcodes_edt SHARING = EXTENDED DATA（代码VARCHAR2（5），country_id NUMBER，区域VARCHAR2（10））; - 将行加载到zipcodes_edt INSERT INTO zipcodes_edt VALUES（'08820'，'1'，'East'）; INSERT INTO zipcodes_edt VALUES（'10005'，'1'，'East'）; INSERT INTO zipcodes_edt VALUES（'44332'，'1'，'North'）; INSERT INTO zipcodes_edt VALUES（'94065'，'1'，'West'）; INSERT INTO zipcodes_edt VALUES（'73301'，'1'，'South'）;承诺; - 结束应用程序升级ALTER PLUGGABLE DATABASE APPLICATION saas_sales_app END UPGRADE TO'2.0';</code></pre><p>本节包含以下主题：</p>
                        </div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <ul class="ullinks">
                           <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-52FB2130-DE12-485E-81F0-835295FD4818">应用程序升级如何工作</a><br>在应用程序升级期间，应用程序仍然可用。为了实现此可用性，Oracle数据库克隆了应用程序根目录。
                           </li>
                           <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-AF6B72CB-4BE3-4809-99A1-21DB2EACC7B1">不同版本的应用程序</a><br>不同的应用程序PDB可能使用不同版本的应用程序。
                           </li>
                        </ul>
                        <div class="infoboxnotealso" id="GUID-99A0CCB3-7051-4C21-BAED-DB13F075CCAC__GUID-3A319A97-49D8-4DF0-94D3-EDBFC511A3DC">
                           <p class="notep1">也可以看看：</p>
                           <p><span class="q">“ <a href="administering-application-containers-with-sql-plus.html#GUID-07C8EC31-0A4B-4F63-A40A-E87031858545" title="应用程序的主要更改构成应用程序升级。您可以在应用程序容器中升级应用程序。">升级应用程序容器中的应用程序</a> ”</span></p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-9327F698-36F7-45CC-9964-4685D48FF254" title="在此上下文中，应用程序维护是指安装，卸载，升级或修补应用程序。">应用程序维护</a></p>
                           </div>
                        </div>
                     </div>
                     
                     <div class="props_rev_3"><a id="GUID-52FB2130-DE12-485E-81F0-835295FD4818" name="GUID-52FB2130-DE12-485E-81F0-835295FD4818"></a><h6 id="MULTI-GUID-52FB2130-DE12-485E-81F0-835295FD4818" class="sect6"><span class="enumeration_section">2.3.3.3.1</span>应用程序升级的工作<span class="enumeration_section">原理</span></h6>
                        <div>
                           <p>在应用程序升级期间，应用程序仍然可用。为了实现此可用性，Oracle数据库克隆了应用程序根目录。</p>
                           <p>下图概述了应用程序升级过程。</p>
                           <div class="figure" id="GUID-52FB2130-DE12-485E-81F0-835295FD4818__GUID-C25732E4-B41E-4821-92A0-34D6AD1DAA61">
                              <p class="titleinfigure">图2-9应用程序升级</p><img src="img/admin122.png" alt="下面是图2-9的描述" title="下面是图2-9的描述" longdesc="img_text/admin122.html"><br><a href="img_text/admin122.html">“图2-9应用程序升级”的说明</a></div>
                           <!-- class="figure" -->
                           <p>升级发生如下：</p>
                           <ol>
                              <li>
                                 <p>在初始状态中，应用程序根目录具有特定版本的应用程序。</p>
                              </li>
                              <li>
                                 <p>用户执行<code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION BEGIN UPGRADE</code>语句，然后发出应用程序升级语句。
                                 </p>
                                 <p>在升级期间，数据库会自动执行以下操作：</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p>克隆应用程序根目录</p>
                                       <p>例如，如果<code class="codeph">saas_sales_app</code>应用程序在应用程序根目录中的版本为1.0，则克隆版本也为1.0</p>
                                    </li>
                                    <li>
                                       <p>将应用程序PDB指向应用程序根克隆</p>
                                       <p>克隆处于只读模式。该应用程序仍可供应用程序PDB使用。</p>
                                    </li>
                                 </ul>
                              </li>
                              <li>
                                 <p>用户执行<code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION END UPGRADE</code>语句。
                                 </p>
                                 <p>在此阶段，应用程序PDB仍指向应用程序根克隆，并且原始应用程序根目录为新版本。例如，如果<code class="codeph">saas_sales_app</code>应用程序在应用程序根目录中的版本为1.0，则升级可能会将其带到2.0版。但是，应用程序根克隆仍为1.0版。
                                 </p>
                              </li>
                              <li>
                                 <p>（可选）用户通过发出带有<code class="codeph">SYNC</code>子句的<code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION</code>语句来同步应用程序PDB和已升级的应用程序根。
                                 </p>
                                 <p>例如，在同步之后，某些应用程序PDB将插入到2.0版的应用程序根目录中。但是，应用程序根克隆继续支持必须保留在1.0版的应用程序PDB，或者在1.0版本中插入应用程序根目录的任何新应用程序PDB。</p>
                              </li>
                           </ol>
                        </div>
                        <div>
                           <div class="infoboxnotealso" id="GUID-52FB2130-DE12-485E-81F0-835295FD4818__GUID-BFF47259-D1D1-43FC-A726-2DB8BD158B80">
                              <p class="notep1">也可以看看：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><span class="q">“ <a href="overview-of-the-multitenant-architecture.html#GUID-66F29699-D5C8-42B2-AEA5-E2805BA9346E" title="在应用程序PDB中，同步是用户启动的应用程序更新到应用程序根目录中的最新版本和修补程序。">应用程序同步</a> ”</span></p>
                                 </li>
                                 <li>
                                    <p><span class="q">“ <a href="administering-application-containers-with-sql-plus.html#GUID-07C8EC31-0A4B-4F63-A40A-E87031858545" title="应用程序的主要更改构成应用程序升级。您可以在应用程序容器中升级应用程序。">升级应用程序容器中的应用程序</a> ”</span></p>
                                 </li>
                              </ul>
                           </div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-99A0CCB3-7051-4C21-BAED-DB13F075CCAC" title="应用程序升级是对已安装应用程序的重大更改。">应用程序升级</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                     <div class="props_rev_3"><a id="GUID-AF6B72CB-4BE3-4809-99A1-21DB2EACC7B1" name="GUID-AF6B72CB-4BE3-4809-99A1-21DB2EACC7B1"></a><h6 id="MULTI-GUID-AF6B72CB-4BE3-4809-99A1-21DB2EACC7B1" class="sect6"><span class="enumeration_section">2.3.3.3.2</span>不同版本的应用程序</h6>
                        <div>
                           <p>不同的应用程序PDB可能使用不同版本的应用程序。</p>
                           <p>例如，一个应用程序PDB可能具有<code class="codeph">saas_sales_app</code> 1.0版。在同一个应用程序容器中，另一个应用程序PDB具有此应用程序的2.0版。
                           </p>
                           <p>用例是提供给不同客户的SaaS应用程序。如果每个客户都有自己的应用程序PDB，则某些客户可能需要等待更长时间才能升级应用程序。在这种情况下，某些应用程序PDB可能使用最新版本的应用程序，而其他应用程序PDB使用较旧版本。</p>
                        </div>
                        <div>
                           <div class="infoboxnotealso" id="GUID-AF6B72CB-4BE3-4809-99A1-21DB2EACC7B1__GUID-D6E4276D-7716-44DA-8461-B39A8D078B5F">
                              <p class="notep1">也可以看看：</p>
                              <p><span class="q">“ <a href="administering-application-containers-with-sql-plus.html#GUID-07C8EC31-0A4B-4F63-A40A-E87031858545" title="应用程序的主要更改构成应用程序升级。您可以在应用程序容器中升级应用程序。">升级应用程序容器中的应用程序</a> ”</span>以了解有关不同版本的应用程序的更多信息</p>
                           </div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-99A0CCB3-7051-4C21-BAED-DB13F075CCAC" title="应用程序升级是对已安装应用程序的重大更改。">应用程序升级</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                  </div>
                  <div class="props_rev_3"><a id="GUID-0E8235B2-4BED-4A91-9F24-CE9C9174BCB4" name="GUID-0E8235B2-4BED-4A91-9F24-CE9C9174BCB4"></a><h5 id="MULTI-GUID-0E8235B2-4BED-4A91-9F24-CE9C9174BCB4" class="sect5"><span class="enumeration_section">2.3.3.4</span>应用程序补丁</h5>
                     <div>
                        <p><span class="bold">应用程序补丁</span>是对<span class="bold">应用程序</span>的微小更改。
                        </p>
                        <p>应用程序修补的典型示例包括错误修复和安全修补程序。补丁中允许使用新功能和包。</p>
                        <p>通常，不允许进行破坏性操作。例如，修补程序不能包含<code class="codeph">DROP</code>语句或删除列或更改数据类型的<code class="codeph">ALTER TABLE</code>语句。
                        </p>
                        <p>正如Oracle数据库修补过程限制Oracle数据库修补程序中允许的操作类型一样，应用程序修补过程会限制应用程序修补程序中允许的操作。如果修复程序包含引发“应用程序修补程序中不支持的操作”错误的操作，则执行<a href="glossary.html#GUID-6F1C59CA-F479-47B5-B122-A6BE21AF485B"><span class="xrefglossterm">应用程序升级</span></a> 。
                        </p>
                        <div class="infoboxnote" id="GUID-0E8235B2-4BED-4A91-9F24-CE9C9174BCB4__GUID-C3245603-0D43-4F51-B0E7-EFC49F2D31B8">
                           <p class="notep1">注意：</p>
                           <p>当另一个应用程序补丁或升级正在进行时，您无法修补应用程序。</p>
                        </div>
                        <p>要修补应用程序，请在<code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION</code>语句中指定应用程序名称和修补程序编号。（可选）您可以指定应用程序最低版本。
                        </p>
                        <div class="example" id="GUID-0E8235B2-4BED-4A91-9F24-CE9C9174BCB4__UPGRADINGANAPPLICATIONUSINGTHEAUTOM-8EDB8801">
                           <p class="titleinexample">示例2-13使用自动化技术修补应用程序</p>
                           <p>在此示例中， <code class="codeph">SYSTEM</code>登录到应用程序根目录，然后将应用程序<code class="codeph">saas_sales_app</code>修补为1.0或更高版本。修补程序101以<code class="codeph">saas_sales_adm</code>登录到应用程序容器，然后创建名为<code class="codeph">get_total_revenue</code>的元数据链接PL / SQL函数。
                           </p><pre class="pre codeblock"><code>ALTER PLUGGABLE DATABASE APPLICATION saas_sales_app BEGIN PATCH 101 MINIMUM VERSION'1.0'; - 以saas_sales_adm身份连接到saas_sales_ac容器，拥有应用程序CONNECT saas_sales_adm / ******* @ saas_sales_ac  - 现在安装get_total_revenue（）函数CREATE FUNCTION get_total_revenue SHARING = METADATA（p_year IN NUMBER）返回SYS_REFCURSOR作为c1_cursor SYS_REFCURSOR; BEGIN OPEN c1_cursor FOR SELECT a.year，sum（a.revenue）FROM containers（sales_data）a WHERE a.year = p_year GROUP BY a.year; RETURN c1_cursor;结束; /  - 结束补丁ALTER PLUGGABLE DATABASE APPLICATION saas_sales_app END PATCH 101;</code></pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-0E8235B2-4BED-4A91-9F24-CE9C9174BCB4__GUID-9F12F3D1-7F39-4DB6-9E91-8258EAEBD554">
                           <p class="notep1">也可以看看：</p>
                           <p><span class="q">“ <a href="administering-application-containers-with-sql-plus.html#GUID-05F9AE85-20F2-451F-92DF-6EE1BB37C397" title="对应用程序的微小更改构成应用程序补丁">在应用程序容器中修补应用程序</a> ”</span></p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-9327F698-36F7-45CC-9964-4685D48FF254" title="在此上下文中，应用程序维护是指安装，卸载，升级或修补应用程序。">应用程序维护</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-F5FDD7A0-06D9-4EE9-87C2-9C89FA44E458" name="GUID-F5FDD7A0-06D9-4EE9-87C2-9C89FA44E458"></a><h4 id="MULTI-GUID-F5FDD7A0-06D9-4EE9-87C2-9C89FA44E458" class="sect4"><span class="enumeration_section">2.3.4</span>迁移现有应用程序</h4>
                  <div>
                     <p>您可以将PDB中安装的应用程序迁移到应用程序根目录或应用程序PDB。</p>
                     <p>迁移预先存在的应用程序的典型原因包括：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>使用安装程序的应用程序</p>
                           <p>某些应用程序使用安装程序而不是脚本。在这种情况下，您可以在新的应用程序根目录中运行安装程序，然后使用<code class="codeph">DBMS_PDB_ALTER_SHARING</code>程序包将对象设置为适当的共享模式： <code class="codeph">METADATA</code> ， <code class="codeph">DATA</code>或<code class="codeph">EXTENDED DATA</code> 。根目录会自动将更改传播到应用程序PDB。Oracle数据库会创建安装的语句日志，因此可以将具有先前应用程序版本的PDB插入应用程序根目录。
                           </p>
                        </li>
                        <li>
                           <p>在每个PDB中单独定义的应用程序</p>
                           <p>某些应用程序在每个PDB中定义，但不存在应用程序容器。在这种情况下，您可以更新安装脚本以设置适当的共享模式。您创建应用程序根目录，然后在此根目录中创建主应用程序定义。您可以将现有PDB作为应用程序PDB通过将它们插入应用程序根目录，然后运行SQL脚本以使用对公共定义的引用来替换完整定义。</p>
                        </li>
                     </ul>
                     <p>例如，您可以将安装在插入Oracle Database 12c CDB的PDB中的应用程序迁移到Oracle Database 18c CDB中的应用程序容器。</p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-F5FDD7A0-06D9-4EE9-87C2-9C89FA44E458__GUID-93D31F63-75F5-40FA-8FA7-2307FA9B215D">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="administering-application-containers-with-sql-plus.html#GUID-9FE49E60-32D9-40BB-BD56-9FC53ED696AC" title="在应用程序容器中，应用程序是一组命名的，版本化的应用程序元数据和公共数据集。应用程序存储在应用程序根目录中。">关于应用程序管理</a> ”</span>以了解如何迁移现有应用程序</p>
                           </li>
                           <li>
                              <p><a href="../arpls/DBMS_PDB_ALTER_SHARING.html#GUID-05B1F7C6-E827-4C13-8405-4C68EBEF30D2" target="_blank"><span><cite>Oracle Database PL / SQL包和类型参考，</cite></span></a>以了解有关<code class="codeph">DBMS_PDB_ALTER_SHARING</code>包的更多信息</p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-B964031E-8ACE-4603-8F1E-DD173BE5BA01" title="在应用程序容器中，应用程序是存储在应用程序根目录中的命名的，版本化的公共数据和元数据集。">应用程序容器中的应用程序概述</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-7E280093-E132-4C04-AEE4-883CDD25E9B4" name="GUID-7E280093-E132-4C04-AEE4-883CDD25E9B4"></a><h4 id="MULTI-GUID-7E280093-E132-4C04-AEE4-883CDD25E9B4" class="sect4"><span class="enumeration_section">2.3.5</span>隐式创建的应用程序</h4>
                  <div>
                     <p>除了用户创建的应用程序，应用程序容器还可以包含隐式创建的应用程序。</p>
                     <p>当使用<code class="codeph">CONTAINER=ALL</code>子句发出应用程序公共用户操作而不在<code class="codeph">ALTER PLUGGABLE DATABASE BEGIN</code>语句之前时，应用程序在应用程序根中隐式创建。
                     </p>
                     <p>应用程序常用用户操作包括诸如使用<code class="codeph">CREATE USER</code>语句创建公共用户或使用<code class="codeph">ALTER USER</code>语句更改公共用户等操作。数据库自动命名隐式应用程序<code class="codeph">APP$ <span class="codeinlineitalic">guid</span></code> ，其中<code class="codeph"><span class="codeinlineitalic">guid</span></code>是应用程序根目录的全局唯一ID。首次打开应用程序根目录时会创建隐式应用程序。
                     </p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-7E280093-E132-4C04-AEE4-883CDD25E9B4__GUID-2CDC7A0B-3E8C-4905-9A92-339EA32BF624">
                        <p class="notep1">也可以看看：</p>
                        <p><span class="q">“ <a href="administering-application-containers-with-sql-plus.html#GUID-27A78D0C-B90B-4BB9-A8D2-787353A667B1" title="同步应用程序会将应用程序PDB中的应用程序更新为应用程序根目录中的最新版本和修补程序。">在应用程序PDB中同步应用程序</a> ”</span>以了解有关隐式创建的应用程序的更多信息</p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-B964031E-8ACE-4603-8F1E-DD173BE5BA01" title="在应用程序容器中，应用程序是存储在应用程序根目录中的命名的，版本化的公共数据和元数据集。">应用程序容器中的应用程序概述</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-66F29699-D5C8-42B2-AEA5-E2805BA9346E" name="GUID-66F29699-D5C8-42B2-AEA5-E2805BA9346E"></a><h4 id="MULTI-GUID-66F29699-D5C8-42B2-AEA5-E2805BA9346E" class="sect4"><span class="enumeration_section">2.3.6</span>应用程序同步</h4>
                  <div>
                     <p>在应用程序PDB中，同步是用户启动的应用程序更新到应用程序根目录中的最新版本和修补程序。</p>
                     <p>连接到应用程序PDB时，通过发出带有<code class="codeph">SYNC</code>关键字的<code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION</code>语句来同步应用程序。如果在<code class="codeph">SYNC</code>之前指定应用程序名称，则数据库仅同步指定的应用程序。如果未指定应用程序名称，或者指定了<code class="codeph">ALL SYNC</code> ，则数据库将同步所有应用程序，包括隐式创建的应用程序。
                     </p>
                     <div class="infoboxnote" id="GUID-66F29699-D5C8-42B2-AEA5-E2805BA9346E__GUID-EA0A850A-1622-44E3-B310-485A19986904">
                        <p class="notep1">注意：</p>
                        <p>连接到应用程序根目录时，安装，升级和修补应用程序的操作不会自动将更改传播到应用程序PDB。</p>
                     </div>
                     <div class="example" id="GUID-66F29699-D5C8-42B2-AEA5-E2805BA9346E__GUID-C75C5939-7ECC-4CD9-BA64-FD2EB39F785C">
                        <p class="titleinexample">示例2-14在应用程序PDB中同步特定应用程序</p>
                        <p>以下语句将名为<code class="codeph">saas_sales_app</code>的应用程序与应用程序根目录中的最新应用程序更改同步：</p><pre class="pre codeblock"><code>ALTER PLUGGABLE DATABASE APPLICATION saas_sales_app SYNC;</code></pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-66F29699-D5C8-42B2-AEA5-E2805BA9346E__SYNCHRONIZINGASPECIFICAPPLICATIONIN-144-36C6967C">
                        <p class="titleinexample">示例2-15将特定应用程序与应用程序PDB中的修补程序同步</p>
                        <p>以下语句将名为<code class="codeph">saas_sales_app</code>的应用程序与应用程序根目录中的修补程序100同步：</p><pre class="pre codeblock"><code>ALTER PLUGGABLE DATABASE APPLICATION saas_sales_app SYNC TO PATCH 100;</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-66F29699-D5C8-42B2-AEA5-E2805BA9346E__ORACLEDATABASEADMINISTRATORSGUIDETO-36C6967C">
                        <p class="notep1">也可以看看：</p>
                        <p><span class="q">“ <a href="administering-application-containers-with-sql-plus.html#GUID-27A78D0C-B90B-4BB9-A8D2-787353A667B1" title="同步应用程序会将应用程序PDB中的应用程序更新为应用程序根目录中的最新版本和修补程序。">在应用程序PDB中同步应用程序</a> ”</span></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-B964031E-8ACE-4603-8F1E-DD173BE5BA01" title="在应用程序容器中，应用程序是存储在应用程序根目录中的命名的，版本化的公共数据和元数据集。">应用程序容器中的应用程序概述</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-C0FE90F8-EE93-4835-8ED4-A0FBC7518BB5" name="GUID-C0FE90F8-EE93-4835-8ED4-A0FBC7518BB5"></a><h4 id="MULTI-GUID-C0FE90F8-EE93-4835-8ED4-A0FBC7518BB5" class="sect4"><span class="enumeration_section">2.3.7</span>容器地图</h4>
                  <div>
                     <p><strong class="term">容器映射</strong>使连接到应用程序根目录的会话能够发出路由到相应PDB的SQL语句，具体取决于SQL语句中使用的谓词的值。
                     </p>
                     <p>映射表指定元数据链接公用表中的列，并使用分区将不同的应用程序PDB与不同的列值相关联。通过这种方式，当数据未在表级进行物理分区时，容器映射可以在PDB级别对数据进行分区。</p>
                     <p>使用容器映射的关键组件是：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>元数据链接表</p>
                           <p>此表旨在使用容器映射进行查询。例如，您可以创建名为<code class="codeph">countries_mlt</code>的元数据链接表，该表在每个应用程序PDB中存储不同的数据。在<code class="codeph">amer_pdb</code> ， <code class="codeph">countries_mlt.cname</code>列存储北美国家/地区名称;在<code class="codeph">euro_pdb</code> ， <code class="codeph">countries_mlt.cname</code>列存储欧洲国家/地区名称;在<code class="codeph">asia_pdb</code> ， <code class="codeph">countries_mlt.cname</code>列存储亚洲国家/地区名称。
                           </p>
                        </li>
                        <li>
                           <p>地图表</p>
                           <p>在应用程序根目录中，您将创建按列表，散列或范围分区的单列映射表。映射表允许使用容器映射启用的分区策略查询元数据链接表。映射对象表中分区的名称必须与应用程序容器中的应用程序PDB的名称匹配。</p>
                           <p>例如，名为<code class="codeph">pdb_map_tbl</code>的映射表可以按<code class="codeph">cname</code>列上的列表进行分区。名为<code class="codeph">amer_pdb</code> ， <code class="codeph">euro_pdb</code>和<code class="codeph">asia_pdb</code>的分区对应于应用程序PDB的名称。每个分区中的值是国家/地区的名称，例如， <code class="codeph">PARTITION amer_pdb VALUES ('US','MEXICO','CANADA')</code> 。
                           </p>
                           <p>从<span>Oracle Database 18c开始</span> ，对于使用映射的<code class="codeph">CONTAINERS()</code>查询，映射表中的分区列不需要与元数据链接表中的列匹配。假设为容器映射<code class="codeph">pdb_map_tbl</code>启用了表<code class="codeph">sh.sales</code> ，而<code class="codeph">cname</code>是映射表的分区列。即使<code class="codeph">sh.sales</code> <span class="italic">不</span>包括<code class="codeph">cname</code>列，映射表的路由以下查询到相应的PDB： <code class="codeph">SELECT * FROM CONTAINERS(sh.sales) WHERE cname = 'US' ORDER BY time_id</code> 。
                           </p>
                        </li>
                        <li>
                           <p>集装箱地图</p>
                           <p>容器映射是指定映射表的数据库属性。要设置该属性，请连接到应用程序根目录并执行<code class="codeph">ALTER PLUGGABLE DATABASE SET CONTAINER_MAP= <span class="codeinlineitalic">map_table</span></code>语句，其中<code class="codeph"><span class="codeinlineitalic">map_table</span></code>是映射表的名称。
                           </p>
                        </li>
                     </ul>
                     <div class="example" id="GUID-C0FE90F8-EE93-4835-8ED4-A0FBC7518BB5__CREATINGACONTAINERMAP-8E4B81D5">
                        <p class="titleinexample">示例2-16创建元数据链接表，映射表和容器映射：第1部分</p>
                        <p>在此示例中，您以应用程序管理员身份登录到应用程序根目录。假设应用程序容器有三个应用程序PDB： <code class="codeph">amer_pdb</code> ， <code class="codeph">euro_pdb</code>和<code class="codeph">asia_pdb</code> 。每个应用程序PDB存储不同区域的国家/地区名称。名为<code class="codeph">oe.countries_mlt</code>元数据链接表具有存储国家/地区名称的<code class="codeph">cname</code>列。对于此分区策略，您可以使用分区依据列表创建名为<code class="codeph">salesadm.pdb_map_tbl</code>的映射对象，该对象为每个区域创建分区。国家/地区名称决定了该地区。
                        </p><pre class="pre codeblock"><code>ALTER PLUGGABLE DATABASE APPLICATION saas_sales_app BEGIN INSTALL'1.0'; - 创建元数据链接表。CREATE TABLE oe.countries_mlt SHARING = METADATA（region VARCHAR2（30），cname VARCHAR2（30））; - 创建分区映射表，该表是在cname列上分区的列表。- 分区的名称是应用程序PDB的名称。CREATE TABLE salesadm.pdb_map_tbl（cname VARCHAR2（30）NOT NULL）PARTITION BY LIST（cname）（PARTITION amer_pdb VALUES（'US'，'MEXICO'，'CANADA'），PARTITION euro_pdb VALUES（'UK'，'FRANCE'， '德国'），PARTITION asia_pdb VALUES（'INDIA'，'CHINA'，'JAPAN'））; - 将CONTAINER_MAP数据库属性设置为地图对象。ALTER PLUGGABLE DATABASE SET CONTAINER_MAP ='salesadm.pdb_map_tbl'; - 启用要查询的元数据链接表的容器映射。ALTER TABLE oe.countries_mlt ENABLE CONTAINER_MAP; - 确保为CONTAINERS子句启用了要查询的表。ALTER TABLE oe.countries_mlt ENABLE CONTAINERS_DEFAULT; - 结束应用程序安装。ALTER PLUGGABLE DATABASE APPLICATION saas_sales_app END INSTALL'1.0';</code></pre><div class="infoboxnote" id="GUID-C0FE90F8-EE93-4835-8ED4-A0FBC7518BB5__GUID-998F67F5-AC26-42FE-AF8B-FAA2E82F67D0">
                           <p class="notep1">注意：</p>
                           <p>虽然您使用分区语法创建容器映射，但数据库不使用分区功能。定义容器映射不需要Oracle分区。</p>
                        </div>
                        <p>在上面的脚本中， <code class="codeph">ALTER TABLE oe.countries_mlt ENABLE CONTAINERS_DEFAULT</code>语句指定在应用程序根目录中发出的查询和DML语句默认情况下必须对数据库对象使用<code class="codeph">CONTAINERS()</code>子句。
                        </p>
                     </div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-C0FE90F8-EE93-4835-8ED4-A0FBC7518BB5__GUID-785D8102-83B3-4574-AF6F-3A7104B1A192">
                        <p class="titleinexample">示例2-17同步应用程序和添加数据：第2部分</p>
                        <p>此示例继续前一个示例。连接到应用程序根目录时，依次将当前容器切换到每个PDB，同步<code class="codeph">saas_sales_app</code>应用程序，然后将特定于PDB的数据添加到<code class="codeph">oe.countries_mlt</code>表。
                        </p><pre class="pre codeblock"><code>ALTER SESSION SET CONTAINER = amer_pdb; ALTER PLUGGABLE DATABASE APPLICATION saas_sales_app SYNC; INSERT INTO oe.countries_mlt VALUES（'AMER'，'US'）; INSERT INTO oe.countries_mlt VALUES（'AMER'，'MEXICO'）; INSERT INTO oe.countries_mlt VALUES（'AMER'，'CANADA'）;承诺; ALTER SESSION SET CONTAINER = euro_pdb; ALTER PLUGGABLE DATABASE APPLICATION saas_sales_app SYNC; INSERT INTO oe.countries_mlt VALUES（'EURO'，'UK'）; INSERT INTO oe.countries_mlt VALUES（'EURO'，'FRANCE'）; INSERT INTO oe.countries_mlt VALUES（'EURO'，'GERMANY'）;承诺; ALTER SESSION SET CONTAINER = asia_pdb; ALTER PLUGGABLE DATABASE APPLICATION saas_sales_app SYNC; INSERT INTO oe.countries_mlt VALUES（'ASIA'，'INDIA'）; INSERT INTO oe.countries_mlt VALUES（'ASIA'，'CHINA'）; INSERT INTO oe.countries_mlt VALUES（'ASIA'，'JAPAN'）;承诺;</code></pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-C0FE90F8-EE93-4835-8ED4-A0FBC7518BB5__GUID-61B5FD24-4977-4659-AED6-E61F369305CD">
                        <p class="titleinexample">示例2-18查询元数据链接表：第3部分</p>
                        <p>此示例继续前一个示例。连接到应用程序根目录，然后多次查询<code class="codeph">oe.countries_mlt</code> ，在<code class="codeph">WHERE</code>子句中指定不同的国家/地区。查询从<code class="codeph">oe.countries_mlt.region</code>列返回正确的值。
                        </p><pre class="pre codeblock"><code>ALTER SESSION SET CONTAINER = saas_sales_ac; SELECT region FROM oe.countries_mlt WHERE cname ='MEXICO'; REGION ------ AMER SELECT region FROM oe.countries_mlt WHERE cname ='GERMANY'; REGION ------ EURO SELECT region FROM oe.countries_mlt WHERE cname ='JAPAN';地区------亚洲</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-C0FE90F8-EE93-4835-8ED4-A0FBC7518BB5__GUID-E457973E-F08F-4320-8FEE-4D87D5A7278B">
                        <p class="notep1">也可以看看：</p>
                        <p><span class="q">“ <a href="administering-application-containers-with-sql-plus.html#GUID-AAF93A02-7C70-4024-8758-E351C213543E" title="当数据未在表级进行物理分区时，容器映射可以在应用程序PDB级别对数据进行分区。">PDB与容器地图分区</a> ”</span></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-B964031E-8ACE-4603-8F1E-DD173BE5BA01" title="在应用程序容器中，应用程序是存储在应用程序根目录中的命名的，版本化的公共数据和元数据集。">应用程序容器中的应用程序概述</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="CNCPT89271"></a><a id="CNCPT89270"></a><div class="props_rev_3"><a id="GUID-5660AC5E-BFD4-41BE-8404-C31870FE4D48" name="GUID-5660AC5E-BFD4-41BE-8404-C31870FE4D48"></a><h3 id="MULTI-GUID-5660AC5E-BFD4-41BE-8404-C31870FE4D48" class="sect3"><span class="enumeration_section">2.4</span>国家开发银行服务概述</h3>
               <div>
                  <p>客户端必须使用服务连接到PDB或应用程序根。</p>
                  <p>使用服务名称的连接在PDB或应用程序根目录中启动新会话。前景进程以及会话在其生命周期的每个时刻都具有唯一定义的当前容器。</p>
                  <p>下图显示了使用两个不同侦听器连接到PDB的两个客户端。</p>
                  <div class="figure" id="GUID-5660AC5E-BFD4-41BE-8404-C31870FE4D48__CEGCEABG">
                     <p class="titleinfigure">图2-10 CDB中的服务</p><img src="img/cncpt368.png" alt="下面是图2-10的描述" title="下面是图2-10的描述" longdesc="img_text/cncpt368.html"><br><a href="img_text/cncpt368.html">“图2-10 CDB中的服务”的描述</a></div>
                  <!-- class="figure" -->
                  <p>本节包含以下主题：</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-7400E086-28A3-4089-88AB-7E270AA33ABE">在CDB中创建服务</a><br>执行<code class="codeph">CREATE PLUGGABLE DATABASE</code>语句以创建PDB时，数据库会自动在CDB中创建并启动服务。</li>
                     <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-A0449CA4-1704-415E-8D85-964517943159">与CDB中容器的连接</a><br>通常，CDB管理员必须具有适当的权限来配置PDB并连接到各种容器。CDB管理员是普通用户。
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-5660AC5E-BFD4-41BE-8404-C31870FE4D48__GUID-9DF4BF14-5E95-48A5-A2B1-25F8B2D05765">
                     <p class="notep1">也可以看看：</p>
                     <p><span class="q">“ <a href="administering-pdbs-with-sql-plus.html#GUID-6FDBCEFC-29DF-4CBB-A000-B105A7328955" title="您可以为PDB创建，修改或删除服务。">管理PDB服务</a> ”</span></p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-7F629DD8-D4DE-4FD7-9C35-38AC016DDCDC" title="本章介绍了多租户架构中最重要的组件。">多租户架构概述</a></p>
                     </div>
                  </div>
               </div>
               <a id="CNCPT89458"></a><div class="props_rev_3"><a id="GUID-7400E086-28A3-4089-88AB-7E270AA33ABE" name="GUID-7400E086-28A3-4089-88AB-7E270AA33ABE"></a><h4 id="MULTI-GUID-7400E086-28A3-4089-88AB-7E270AA33ABE" class="sect4"><span class="enumeration_section">2.4.1</span> CDB中的服务创建</h4>
                  <div>
                     <p>执行<code class="codeph">CREATE PLUGGABLE DATABASE</code>语句以创建PDB时，数据库会自动在CDB中创建并启动服务。</p>
                     <p>默认服务具有一个属性，该属性将PDB标识为服务的初始当前容器。该属性显示在<code class="codeph">DBA_SERVICES.PDB</code>列中。
                     </p>
                     <p>本节包含以下主题：</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-3CBC5516-022E-4009-818A-43B9CAA13B47">CDB中的默认服务</a><br>默认服务与PDB具有相同的名称。 PDB名称必须是有效的服务名称，在CDB中必须是唯一的。</li>
                        <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-3D50B9D0-C1A9-4608-BD24-7B7CA5F41247">CDB中的非默认服务</a><br>您可以为每个PDB创建其他服务，最高可达每CDB最多10,000个。每个附加服务将其PDB表示为初始当前容器。
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-7400E086-28A3-4089-88AB-7E270AA33ABE__GUID-B6817910-9C7B-46AB-BD48-7D415D09A20E">
                        <p class="notep1">也可以看看：</p>
                        <p><span class="q">“ <a href="administering-pdbs-with-sql-plus.html#GUID-6FDBCEFC-29DF-4CBB-A000-B105A7328955" title="您可以为PDB创建，修改或删除服务。">管理PDB服务</a> ”</span></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-5660AC5E-BFD4-41BE-8404-C31870FE4D48" title="客户端必须使用服务连接到PDB或应用程序根。">CDB中的服务概述</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="sect4"><a id="GUID-3CBC5516-022E-4009-818A-43B9CAA13B47" name="GUID-3CBC5516-022E-4009-818A-43B9CAA13B47"></a><h5 id="MULTI-GUID-3CBC5516-022E-4009-818A-43B9CAA13B47" class="sect5"><span class="enumeration_section">2.4.1.1</span> CDB中的默认服务</h5>
                     <div>
                        <p>默认服务与PDB具有相同的名称。 PDB名称必须是有效的服务名称，在CDB中必须是唯一的。</p>
                        <p>在创建需要指定<code class="codeph">AS APPLICATION CONTAINER</code>子句的应用程序容器时，Oracle数据库会自动为应用程序根目录创建新的默认服务。该服务与应用程序容器具有相同的名称。必须正确配置Oracle Net Services才能使客户端访问此服务。类似地，每个应用程序PDB都有自己的默认服务名称，应用程序种子PDB具有自己的默认服务名称。
                        </p>
                        <div class="example" id="GUID-3CBC5516-022E-4009-818A-43B9CAA13B47__GUID-45F808D4-32A5-4288-BE6C-AC9E28ED9DDA">
                           <p class="titleinexample">示例2-19使用默认服务切换到PDB</p>
                           <p>此示例使用默认服务切换到PDB名称<code class="codeph">salespdb</code> ，该服务与PDB同名：</p><pre class="pre codeblock"><code>ALTER SESSION SET CONTAINER = salespdb;</code></pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-3CBC5516-022E-4009-818A-43B9CAA13B47__GUID-091AAC84-DD80-49F8-A2F2-623BC5C76401">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>有关服务名称的信息，请参阅<a href="../cncpt/application-and-networking-architecture.html#CNCPT-GUID-C931A159-E1FE-4DB3-A811-510C42516683" target="_blank"><span><cite>Oracle Database Concepts</cite></span></a></p>
                              </li>
                              <li>
                                 <p><span class="q">“ <a href="administering-pdbs-with-sql-plus.html#GUID-6FDBCEFC-29DF-4CBB-A000-B105A7328955" title="您可以为PDB创建，修改或删除服务。">管理PDB服务</a> ”</span></p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-7400E086-28A3-4089-88AB-7E270AA33ABE" title="执行CREATE PLUGGABLE DATABASE语句以创建PDB时，数据库会自动在CDB中创建并启动服务。">CDB中的服务创建</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-3D50B9D0-C1A9-4608-BD24-7B7CA5F41247" name="GUID-3D50B9D0-C1A9-4608-BD24-7B7CA5F41247"></a><h5 id="MULTI-GUID-3D50B9D0-C1A9-4608-BD24-7B7CA5F41247" class="sect5"><span class="enumeration_section">2.4.1.2</span> CDB中的非默认服务</h5>
                     <div>
                        <p>您可以为每个PDB创建其他服务，最高可达每CDB最多10,000个。每个附加服务将其PDB表示为初始当前容器。</p>
                        <p>在<a href="overview-of-the-multitenant-architecture.html#GUID-5660AC5E-BFD4-41BE-8404-C31870FE4D48__CEGCEABG">图2-10中</a> ， <code class="codeph">erppdb</code>和<code class="codeph">hrpdb</code>存在非默认服务。使用您在非CDB中使用的相同技术创建，维护和删除其他服务。</p>
                        <p>例如，在<a href="overview-of-the-multitenant-architecture.html#GUID-5660AC5E-BFD4-41BE-8404-C31870FE4D48__CEGCEABG">图2-10</a>中PDB命名<code class="codeph">hrpdb</code>有一个名为默认服务<code class="codeph">hrpdb</code> 。无法删除默认服务。
                        </p>
                        <p>使用<code class="codeph">ALTER SESSION SET CONTAINER</code>切换到<code class="codeph">ALTER SESSION SET CONTAINER</code> ，会话将使用<code class="codeph">ALTER SESSION SET CONTAINER</code>的默认服务。（可选）您可以通过指定<code class="codeph">SERVICE = <span class="codeinlineitalic">service_name</span></code>为容器使用不同的服务，其中<code class="codeph"><span class="codeinlineitalic">service_name</span></code>是服务的名称。您可能希望使用特定服务，以便会话可以利用其服务属性和功能，例如服务指标，负载平衡，资源管理器设置等。
                        </p>
                        <div class="example" id="GUID-3D50B9D0-C1A9-4608-BD24-7B7CA5F41247__GUID-59C97C72-ED53-4780-9650-4409401F4027">
                           <p class="titleinexample">示例2-20使用非默认服务切换到PDB</p>
                           <p>在此示例中， <code class="codeph">hrpdb</code>的默认服务不支持所有服务属性和功能，例如服务指标，FAN，负载平衡，Oracle数据库资源管理器，事务防护，应用程序连续性等。您切换到非默认服务，如下所示：</p><pre class="pre codeblock"><code>ALTER SESSION SET CONTAINER = hrpdb SERVICE = hrpdb_full;</code></pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-7400E086-28A3-4089-88AB-7E270AA33ABE" title="执行CREATE PLUGGABLE DATABASE语句以创建PDB时，数据库会自动在CDB中创建并启动服务。">CDB中的服务创建</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="CNCPT89252"></a><a id="CNCPT89459"></a><div class="props_rev_3"><a id="GUID-A0449CA4-1704-415E-8D85-964517943159" name="GUID-A0449CA4-1704-415E-8D85-964517943159"></a><h4 id="MULTI-GUID-A0449CA4-1704-415E-8D85-964517943159" class="sect4"><span class="enumeration_section">2.4.2</span>与CDB中容器的连接</h4>
                  <div>
                     <p>通常，CDB管理员必须具有适当的权限来配置PDB并连接到各种容器。CDB管理员是普通用户。</p>
                     <p>CDB管理员可以使用以下任一技术：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>直接连接到PDB或应用程序根目录。</p>
                           <p>用户需要容器中的<code class="codeph">CREATE SESSION</code>权限。
                           </p>
                        </li>
                        <li>
                           <p>使用<code class="codeph">ALTER SESSION SET CONTAINER</code>语句，该语句对于连接池和高级CDB管理都很有用，可以在容器之间切换。语法为<code class="codeph">ALTER SESSION SET CONTAINER = <span class="codeinlineitalic">container_name</span> [SERVICE = <span class="codeinlineitalic">service_name</span> ]</code> 。
                           </p>
                           <p>例如，CDB管理员可以在一个会话中连接到根，然后在同一会话中切换到PDB。在这种情况下，用户需要<code class="codeph">SET CONTAINER</code>的<code class="codeph">SET CONTAINER</code>系统特权。
                           </p>
                        </li>
                     </ul>
                     <p>下表描述了涉及<a href="overview-of-the-multitenant-architecture.html#GUID-5660AC5E-BFD4-41BE-8404-C31870FE4D48__CEGCEABG">图2-10中</a> CDB的方案。每行描述在前一行中的操作之后发生的操作。通用用户<code class="codeph">SYSTEM</code>查询当前容器的名称和CDB中PDB的名称。</p>
                     <div class="tblformal" id="GUID-A0449CA4-1704-415E-8D85-964517943159__SERVICESINACDB-1BFABC43">
                        <p class="titleintable">表2-8 CDB中的服务</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="国家开发银行的服务" width="100%" border="1" summary="This table describes the operation in a scenario involving a CDB. " frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="20%" id="d10378e12339">手术</th>
                                 <th align="left" valign="bottom" width="20%" id="d10378e12342">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d10378e12347" headers="d10378e12339 "><pre class="pre codeblock"><code>SQL&gt; CONNECT SYSTEM @ prod输入密码：********已连接。</code></pre></td>
                                 <td align="left" valign="top" width="20%" headers="d10378e12347 d10378e12342 ">
                                    <p><code class="codeph">SYSTEM</code>用户（CDB中的所有容器都是通用的）使用名为<code class="codeph">prod</code>服务连接到根。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d10378e12360" headers="d10378e12339 "><pre class="pre codeblock"><code>SQL&gt; SHOW CON_NAME CON_NAME -------- CDB $ ROOT</code></pre></td>
                                 <td align="left" valign="top" width="20%" headers="d10378e12360 d10378e12342 ">
                                    <p><code class="codeph">SYSTEM</code>使用SQL * Plus命令<code class="codeph">SHOW</code> <code class="codeph">CON_NAME</code>列出用户当前连接的容器的名称。<code class="codeph">CDB$ROOT</code>是根容器的名称。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d10378e12378" headers="d10378e12339 "><pre class="pre codeblock"><code>SQL&gt; SELECT NAME，PDB FROM V $ SERVICES 2 ORDER BY PDB，NAME; NAME PDB ---------------------- -------- SYS $ BACKGROUND CDB $ ROOT SYS $ USERS CDB $ ROOT prod.example.com CDB $ ROOT erppdb.example.com ERPPDB erp.example.com ERPPDB hr.example.com HRPDB hrpdb.example.com HRPDB salespdb.example.com SALESPDB选择了8行。</code></pre></td>
                                 <td align="left" valign="top" width="20%" headers="d10378e12378 d10378e12342 ">
                                    <p>对<code class="codeph">V$SERVICES</code>查询显示存在三个PDB，其服务名称与PDB名称匹配。<code class="codeph">hrpdb</code>和<code class="codeph">erppdb</code>都有一个额外的服务。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d10378e12394" headers="d10378e12339 "><pre class="pre codeblock"><code>SQL&gt; ALTER SESSION SET CONTAINER = hrpdb;会话改变了。</code></pre></td>
                                 <td align="left" valign="top" width="20%" headers="d10378e12394 d10378e12342 ">
                                    <p><code class="codeph">SYSTEM</code>使用<code class="codeph">ALTER SESSION</code>连接到<code class="codeph">hrpdb</code> 。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d10378e12409" headers="d10378e12339 "><pre class="pre codeblock"><code>SQL&gt; SELECT SYS_CONTEXT 2（'USERENV'，'CON_NAME'）3 AS CUR_CONTAINER FROM DUAL; CUR_CONTAINER ------------- HRPDB</code></pre></td>
                                 <td align="left" valign="top" width="20%" headers="d10378e12409 d10378e12342 ">
                                    <p>查询确认当前容器现在是<code class="codeph">hrpdb</code> 。
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-A0449CA4-1704-415E-8D85-964517943159__GUID-5808523D-3D39-471C-9AC3-D1072F954C84">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="administering-pdbs-with-sql-plus.html#GUID-EA62913A-8033-4D76-8835-055FB3076D09" title="您可以使用多种技术通过SQL * Plus CONNECT命令连接到PDB。">连接到PDB</a> ”</span></p>
                           </li>
                           <li>
                              <p><a href="../sqlrf/ALTER-SESSION.html#SQLRF56526" target="_blank"><span><cite>Oracle数据库SQL语言参考，</cite></span></a>用于<code class="codeph">ALTER SESSION SET CONTAINER</code>的语法和语义</p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-5660AC5E-BFD4-41BE-8404-C31870FE4D48" title="客户端必须使用服务连接到PDB或应用程序根。">CDB中的服务概述</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="CNCPT89269"></a><a id="CNCPT89268"></a><div class="props_rev_3"><a id="GUID-5902ABDC-40BE-4CF4-9917-A5D7F4C396F1" name="GUID-5902ABDC-40BE-4CF4-9917-A5D7F4C396F1"></a><h3 id="MULTI-GUID-5902ABDC-40BE-4CF4-9917-A5D7F4C396F1" class="sect3"><span class="enumeration_section">2.5</span> CDB中的表空间和数据库文件概述</h3>
               <div>
                  <p>CDB具有与非CDB相同的结构，除了每个PDB和应用程序根都有自己的一组表空间，包括它自己的<code class="codeph">SYSTEM</code> ， <code class="codeph">SYSAUX</code>和undo表空间。
                  </p>
                  <p>CDB包含以下文件：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>一个控制文件</p>
                     </li>
                     <li>
                        <p>一个在线重做日志</p>
                     </li>
                     <li>
                        <p>一个或多个撤消表空间</p>
                        <p>只有具有适当权限且当前容器为root的普通用户才能创建撤消表空间。在任何给定时间，CDB都处于以下任一撤消模式：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>本地撤消模式</p>
                              <p>在这种情况下，每个PDB都有自己的撤销表空间。如果CDB使用本地撤消模式，则数据库会在每个PDB中自动创建撤消表空间。本地撤消提供诸如执行PDB的热克隆的能力以及加速PDB的重定位的优点。此外，本地撤消可提供隔离级别，并可实现更快的拔出和时间点恢复操作。</p>
                              <p>PDB处于打开状态的Oracle Real Application Clusters（RAC）群集中的每个节点都需要本地撤消表空间。例如，如果将PDB从双节点群集移动到四节点群集，并且PDB在所有节点中都处于打开状态，则数据库会自动创建其他所需的撤消表空间。如果再次移回PDB，则可以删除冗余的撤消表空间。</p>
                              <div class="infoboxnote" id="GUID-5902ABDC-40BE-4CF4-9917-A5D7F4C396F1__GUID-9CEAE4D9-4BB1-4863-AD57-F207C89F1B1E">
                                 <p class="notep1">注意：</p>
                                 <p>默认情况下，Database Configuration Assistant（DBCA）会创建启用了本地撤消的新CDB。</p>
                              </div>
                           </li>
                           <li>
                              <p>共享撤消模式</p>
                              <p>在单实例CDB中，只存在一个活动的撤消表空间。对于Oracle RAC CDB，每个实例都存在一个活动的撤消表空间。所有撤消表空间都在数据字典和所有容器的相关视图中可见。</p>
                           </li>
                        </ul>
                        <p>撤消模式适用于整个CDB，这意味着每个容器都使用共享撤消，或者每个容器都使用本地撤消。您可以在CDB中切换撤消模式，这需要重新启动数据库。</p>
                     </li>
                     <li>
                        <p>每个容器的<code class="codeph">SYSTEM</code>和<code class="codeph">SYSAUX</code>表空间</p>
                        <p>CDB和非CDB之间的主要物理差异是<code class="codeph">SYSTEM</code>和<code class="codeph">SYSAUX</code>的数据文件。非CDB只有一个<code class="codeph">SYSTEM</code>表空间和一个<code class="codeph">SYSAUX</code>表空间。相反，CDB根，每个<a href="glossary.html#GUID-66EC71A6-6AC1-4BC2-B30A-A0DCA68AEE28"><span class="xrefglossterm">应用程序根</span></a>和CDB中的每个PDB都有自己的<code class="codeph">SYSTEM</code>和<code class="codeph">SYSAUX</code>表空间。每个容器还有自己的一组字典表，用于描述容器中的对象。
                        </p>
                     </li>
                     <li>
                        <p>零个或多个用户创建的表空间</p>
                        <p>在典型的用例中，每个PDB都有自己的一组非系统表空间。这些表空间包含PDB中用户定义的模式和对象的数据。</p>
                        <p>在PDB中，您可以像在非CDB中管理永久和临时表空间一样管理永久和临时表空间。您还可以使用<code class="codeph">CREATE PLUGGABLE DATABASE</code>或<code class="codeph">ALTER PLUGGABLE DATABASE</code>语句中的<code class="codeph">STORAGE</code>子句限制PDB的数据文件使用的<code class="codeph">STORAGE</code> 。
                        </p>
                        <p>在PDB内存储数据字典使其可以移植。您可以从CDB拔出PDB，然后将其插入另一个CDB。</p>
                     </li>
                     <li>
                        <p>每个容器的一组临时文件</p>
                        <p>CDB根存在一个默认临时表空间，每个<a href="glossary.html#GUID-66EC71A6-6AC1-4BC2-B30A-A0DCA68AEE28"><span class="xrefglossterm">应用程序根</span></a> ， <a href="glossary.html#GUID-E9DA1D6D-DBFC-41C5-B24E-F508B671BF06"><span class="xrefglossterm">应用程序PDB</span></a>和PDB存在一个默认临时表空间。</p>
                     </li>
                  </ul>
                  <div class="example" id="GUID-5902ABDC-40BE-4CF4-9917-A5D7F4C396F1__GUID-4A5BA283-A419-4FB9-8541-8B6C7DB4FE6F">
                     <p class="titleinexample">示例2-21本地撤消模式下的CDB</p>
                     <p>此示例显示了具有两个PDB的CDB的物理存储体系结构的各个方面： <code class="codeph">hrpdb</code>和<code class="codeph">salespdb</code> 。在此示例中，数据库使用本地撤消模式，因此CDB根， <code class="codeph">hrpdb</code>和<code class="codeph">salespdb</code>中的撤消数据文件也是<code class="codeph">salespdb</code> 。
                     </p>
                     <div class="figure" id="GUID-5902ABDC-40BE-4CF4-9917-A5D7F4C396F1__PHYSICALARCHITECTUREOFACDBINLOCALUN-8EEE013A">
                        <p class="titleinfigure">图2-11本地撤销模式下CDB的物理架构</p><img src="img/cncpt386.png" width="576" alt="下面是图2-11的描述" title="下面是图2-11的描述" longdesc="img_text/cncpt386.html"><br><a href="img_text/cncpt386.html">“图2-11本地撤销模式下CDB的物理体系结构”的说明</a></div>
                     <!-- class="figure" -->
                  </div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-5902ABDC-40BE-4CF4-9917-A5D7F4C396F1__GUID-C37EF760-7083-4C71-83D4-274EC03E1D3B">
                     <p class="notep1">也可以看看：</p>
                     <div class="p">
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="overview-of-the-multitenant-architecture.html#GUID-A356382A-413A-4A42-98DC-6C2464808202" title="从用户和应用程序的角度来看，CDB中每个容器中的数据字典是独立的，就像在非CDB中一样。">CDB中的数据字典架构</a> ”</span></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="creating-and-configuring-a-cdb.html#GUID-0FCC4914-8FFF-41AD-BA5E-74698931F078" title="After creation, a CDB consists of the root and the PDB seed.">创建CDB后</a> ”</span>了解<span class="q"><a href="creating-and-configuring-a-cdb.html#GUID-0FCC4914-8FFF-41AD-BA5E-74698931F078" title="创建后，CDB由根和PDB种子组成。">创建后CDB</a></span>的状态</p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-7F629DD8-D4DE-4FD7-9C35-38AC016DDCDC" title="本章介绍了多租户架构中最重要的组件。">多租户架构概述</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-75748FBA-79BE-44E6-8336-0A644FBC58A1" name="GUID-75748FBA-79BE-44E6-8336-0A644FBC58A1"></a><h3 id="MULTI-GUID-75748FBA-79BE-44E6-8336-0A644FBC58A1" class="sect3"><span class="enumeration_section">2.6</span> CDB可用性概述</h3>
               <div>
                  <p>对于非CDB存在的许多可用性特征也存在于CDB内的各个PDB中。</p>
                  <p>本节包含以下主题：</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-E65FCF2C-8813-456A-85AE-179EA3FDD101">CDB中的备份和恢复概述</a><br>RMAN和Oracle Enterprise Manager Cloud Control为多租户环境中的备份和恢复提供全面支持。
                     </li>
                     <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-9A6F4C1A-1330-49B0-946F-CE1493339182">CDB中闪回PDB概述</a><br>您可以使用SQL或Recovery Manager中的<code class="codeph">FLASHBACK PLUGGABLE DATABASE</code>命令来回绕PDB。此命令类似于非CDB中的<code class="codeph">FLASHBACK DATABASE</code> 。</li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-7F629DD8-D4DE-4FD7-9C35-38AC016DDCDC" title="本章介绍了多租户架构中最重要的组件。">多租户架构概述</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="sect3"><a id="GUID-E65FCF2C-8813-456A-85AE-179EA3FDD101" name="GUID-E65FCF2C-8813-456A-85AE-179EA3FDD101"></a><h4 id="MULTI-GUID-E65FCF2C-8813-456A-85AE-179EA3FDD101" class="sect4"><span class="enumeration_section">2.6.1</span> CDB中的备份和恢复概述</h4>
                  <div>
                     <p>RMAN和Oracle Enterprise Manager Cloud Control为多租户环境中的备份和恢复提供全面支持。</p>
                     <p>您可以备份和恢复整个CDB，仅root用户或一个或多个PDB。您还可以备份和恢复PDB中的各个表空间和数据文件。</p>
                     <p>从恢复的角度来看，单独备份根和所有PDB相当于备份整个CDB。主要区别在于您必须输入的RMAN命令数和恢复时间。恢复整个CDB所需的时间比恢复CDB根和所有PDB所需的时间短。</p>
                     <p>您可以执行一个或多个PDB的完全恢复，而不会影响其他打开的PDB的操作。RMAN还为PDB级别的时间点恢复提供支持。该过程类似于非CDB的时间点恢复过程。</p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-E65FCF2C-8813-456A-85AE-179EA3FDD101__NOTE-143-46ADD52E">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="../bradv/backing-up-database.html#BRADV730" target="_blank"><span><cite>“Oracle数据库备份和恢复用户指南”</cite></span></a> ，了解创建后CDB的状态</p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-75748FBA-79BE-44E6-8336-0A644FBC58A1" title="对于非CDB存在的许多可用性特征也存在于CDB内的各个PDB中。">CDB中的可用性概述</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-9A6F4C1A-1330-49B0-946F-CE1493339182" name="GUID-9A6F4C1A-1330-49B0-946F-CE1493339182"></a><h4 id="MULTI-GUID-9A6F4C1A-1330-49B0-946F-CE1493339182" class="sect4"><span class="enumeration_section">2.6.2</span> CDB中闪回PDB概述</h4>
                  <div>
                     <p>您可以使用SQL或Recovery Manager中的<code class="codeph">FLASHBACK PLUGGABLE DATABASE</code>命令来回绕PDB。此命令类似于非CDB中的<code class="codeph">FLASHBACK DATABASE</code> 。</p>
                     <p>闪回PDB可保护单个PDB免受数据损坏，广泛的用户错误和重做损坏。该操作不会倒回CDB中其他PDB中的数据。</p>
                     <p>在<span>Oracle Database 12c</span>第2版（12.2）之前的版本中，您可以创建一个还原点 - 仅在连接到根目录时为SCN创建别名。现在您可以使用<code class="codeph">CREATE RESTORE POINT ...FOR PLUGGABLE DATABASE</code>创建<a href="glossary.html#GUID-D756A71D-5645-45AD-AC2E-5925E908F73C"><span class="xrefglossterm">PDB还原点</span></a> ，该<a href="glossary.html#GUID-D756A71D-5645-45AD-AC2E-5925E908F73C"><span class="xrefglossterm">点</span></a>仅在指定的PDB中可用。与CDB还原点一样，PDB还原点可以正常或保证。保证还原点永远不会超出控制文件的范围，必须明确删除。如果连接到root，并且未指定<code class="codeph">FOR PLUGGABLE DATABASE</code>子句，则创建<a href="glossary.html#GUID-D7CADC4A-D7A6-42F4-8BDF-BDC865C1A492"><span class="xrefglossterm">CDB还原点</span></a> ，可供所有PDB使用。
                     </p>
                     <p>特殊类型的PDB还原点是<a href="glossary.html#GUID-E272C11B-073E-4938-959C-348BC3ED4FEA"><span class="xrefglossterm">干净还原点</span></a> ，只能在PDB关闭时创建。对于具有共享撤消的PDB，将PDB倒带到干净的还原点可以保持数据库一致性并提高性能。数据库避免使用自动基础结构，这会降低性能。
                     </p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-9A6F4C1A-1330-49B0-946F-CE1493339182__GUID-C37EF760-7083-4C71-83D4-274EC03E1D3B">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="../bradv/rman-performing-flashback-dbpitr.html#BRADV8702" target="_blank"><span><cite>Oracle数据库备份和恢复用户指南</cite></span></a> ，了解如何使用<code class="codeph">FLASHBACK PLUGGABLE DATABASE</code></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-75748FBA-79BE-44E6-8336-0A644FBC58A1" title="对于非CDB存在的许多可用性特征也存在于CDB内的各个PDB中。">CDB中的可用性概述</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
            <div class="sect2"><a id="GUID-EFAD745A-D76B-4218-AC5F-3B72F4D4C277" name="GUID-EFAD745A-D76B-4218-AC5F-3B72F4D4C277"></a><h3 id="MULTI-GUID-EFAD745A-D76B-4218-AC5F-3B72F4D4C277" class="sect3"><span class="enumeration_section">2.7</span> CDB中的Oracle Resource Manager概述</h3>
               <div>
                  <p>使用Oracle Resource Manager（资源管理器），您可以创建CDB资源计划并设置初始化参数以将资源分配给PDB。</p>
                  <p>在非CDB中，您可以使用资源管理器来管理争用系统和数据库资源的多个工作负载。因此，在CDB中，多个PDB内的多个工作负载也可以完成系统和CDB资源。</p>
                  <p>在CDB中，资源管理器可以在两个级别上管理资源：CDB和PDB。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-EFAD745A-D76B-4218-AC5F-3B72F4D4C277__GUID-27636BA8-AA57-4E42-9D7A-62AB95FC3CBF">CDB资源计划</p>
                     <p>CDB资源计划根据其资源计划指令集（指令）为其PDB分配资源。CDB资源计划与其指令之间存在父子关系。每个资源计划指令都引用一组PDB或单个PDB。</p>
                     <p>性能配置文件指定一组PDB的系统资源份额。PDB性能配置文件使您可以通过为配置文件而不是单个PDB指定资源管理器指令来管理大量PDB的资源。</p>
                     <p>指令控制CPU和并行执行服务器的分配。指令可以根据您为每个PDB或PDB性能配置文件指定的共享值来控制对PDB的资源分配。较高的股票价值会带来更多有保证的资源。对于PDB和PDB性能配置文件，您还可以设置CPU和并行服务器的利用率限制。</p>
                     <p>您可以使用<code class="codeph">DBMS_RESOURCE_MANAGER</code> PL / SQL包中的<code class="codeph">CREATE_CDB_PLAN</code>过程创建CDB资源计划，并使用<code class="codeph">RESOURCE_MANAGER_PLAN</code>参数设置CDB资源计划。您可以使用<code class="codeph">CREATE_CDB_PLAN_DIRECTIVE</code>过程为CDB资源计划创建指令。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-EFAD745A-D76B-4218-AC5F-3B72F4D4C277__GUID-68E7747B-1741-487D-8F0D-B38206FB9A8F">PDB资源计划</p>
                     <p>CDB资源计划将一部分系统资源分配给PDB。 PDB资源计划确定如何在PDB中分配该部分。</p>
                     <p>创建PDB资源计划的方式与为非CDB创建资源计划的方式相同：通过使用<code class="codeph">DBMS_RESOURCE_MANAGER</code>包中的<code class="codeph">DBMS_RESOURCE_MANAGER</code>来创建计划。
                     </p>
                     <p>您可以使用<code class="codeph">DBMS_RESOURCE_MANAGER</code> PL / SQL包中的<code class="codeph">CREATE_PLAN</code>过程创建PDB资源计划，并使用<code class="codeph">RESOURCE_MANAGER_PLAN</code>参数设置PDB资源计划。您可以使用<code class="codeph">CREATE_PLAN_DIRECTIVE</code>过程为PDB资源计划创建指令。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-EFAD745A-D76B-4218-AC5F-3B72F4D4C277__GUID-D2CAEC8C-1F61-4F07-B3DE-584897122753">PDB级内存控件</p>
                     <p>在CDB中，PDB可以争用SGA或PGA存储器。几个初始化参数可以控制PDB的内存使用，保证内存或限制内存。当您使用PDB作为当前容器设置以下初始化参数时，这些参数控制当前PDB的内存使用情况。</p>
                     <p>重要参数的示例包括：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">SGA_MIN_SIZE</code>设置PDB的最小保证SGA大小。</p>
                        </li>
                        <li>
                           <p><code class="codeph">SGA_TARGET</code>指定PDB可以随时使用的最大SGA。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">PGA_AGGREGATE_LIMIT</code>设置PDB可以随时使用的最大PGA。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-EFAD745A-D76B-4218-AC5F-3B72F4D4C277__GUID-5A15BD6A-CCAA-4779-9C77-67CB671F7BCD">PDB级I / O控制</p>
                     <p>密集的磁盘I / O可能会导致性能下降。有几个因素可能导致磁盘I / O过多，例如设计不佳的SQL或大批量事务中的索引和表扫描。如果一个PDB生成过多的磁盘I / O，则会降低同一CDB中其他PDB的性能。</p>
                     <p>在非工程系统上，使用以下一个或两个初始化参数来限制特定PDB生成的I / O：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">MAX_IOPS</code>限制<code class="codeph">MAX_IOPS</code>的I / O操作数。
                           </p>
                        </li>
                        <li>
                           <p> <code class="codeph">MAX_MBPS</code>限制I / O操作的MB / s。
                           </p>
                        </li>
                     </ul>
                     <p>对于工程系统，使用I / O资源管理管理PDB I / O.</p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-EFAD745A-D76B-4218-AC5F-3B72F4D4C277__GUID-00ACCB35-C278-4DF1-996A-5E76FED54730">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="../cncpt/concepts-for-database-administrators.html#CNCPT-GUID-308CCFA9-830F-442B-BA81-F03B9B6BCE49" target="_blank"><span><cite>Oracle Database Concepts</cite></span></a>有关数据库资源管理器的信息</p>
                        </li>
                        <li>
                           <p><span class="q">“ <a href="using-oracle-resource-manager-for-pdbs-with-sql-plus.html#GUID-2708E76D-E18B-4586-920A-BD4B904AE14D" title="使用PL / SQL包过程来管理Oracle Resource Manager（资源管理器），以便将资源分配给多租户容器数据库（CDB）中的可插拔数据库（PDB）。">将Oracle Resource Manager用于PDB</a> ”</span></p>
                        </li>
                        <li>
                           <p><a href="../refrn/DB_CACHE_SIZE.html#GUID-68F83472-D74F-4C1D-B515-FC80C40CC61B" target="_blank"><span><cite>Oracle Database Reference</cite></span></a>了解有关<code class="codeph">DB_CACHE_SIZE</code>和其他初始化参数的更多信息</p>
                        </li>
                        <li>
                           <p><a href="../arpls/DBMS_RESOURCE_MANAGER.html#GUID-9876C289-99E4-416B-AB6F-D8318642053E" target="_blank"><span><cite>Oracle Database PL / SQL包和类型参考，</cite></span></a>以了解有关<code class="codeph">DBMS_RESOURCE_MANAGER</code>包的更多信息</p>
                        </li>
                        <li>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/multi&amp;id=SAGUG20421" target="_blank"><span class="italic">Oracle Exadata存储服务器软件用户指南</span></a> ，了解有关I / O资源管理的更多信息</p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-7F629DD8-D4DE-4FD7-9C35-38AC016DDCDC" title="本章介绍了多租户架构中最重要的组件。">多租户架构概述</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html>