<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="You can configure, manage, monitor, and troubleshoot Oracle Scheduler."></meta>
      <meta name="description" content="You can configure, manage, monitor, and troubleshoot Oracle Scheduler."></meta>
      <title>管理Oracle Scheduler</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Database Administrator’s Guide "></meta>
      <meta property="og:description" content="You can configure, manage, monitor, and troubleshoot Oracle Scheduler."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Database Administrator’s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-administrators-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-03-14T11:02:35-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96348-04"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="scheduling-jobs-with-oracle-scheduler.html" title="Previous" type="text/html"></link>
      <link rel="next" href="distributed-database-management.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Administrator&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="ADMIN"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="scheduling-jobs-with-oracle-scheduler.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="distributed-database-management.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">数据库管理员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="database-resource-management-and-task-scheduling.html" property="item" typeof="WebPage"><span property="name">数据库资源管理和任务调度</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">管理Oracle Scheduler</li>
            </ol>
            <a id="GUID-5271609E-3476-4E4A-A28F-8E9776D2B20A" name="GUID-5271609E-3476-4E4A-A28F-8E9776D2B20A"></a><a id="ADMIN035"></a>
            
            <h2 id="ADMIN-GUID-5271609E-3476-4E4A-A28F-8E9776D2B20A" class="sect2"><span class="enumeration_chapter">30</span>管理Oracle Scheduler</h2>
         </header>
         <div class="ind">
            <div>
               <p>您可以配置，管理，监视Oracle Scheduler并对其进行故障排除。</p>
               <div class="infoboxnote" id="GUID-5271609E-3476-4E4A-A28F-8E9776D2B20A__GUID-EDF5AEA7-B21A-4FA4-BB42-31A50A889601">
                  <p class="notep1">注意：</p>
                  <p>本章介绍如何使用<code class="codeph">DBMS_SCHEDULER</code>程序包管理Oracle Scheduler。您可以使用Oracle Enterprise Manager Cloud Control完成许多相同的任务。
                  </p>
                  <p>有关<a href="../arpls/DBMS_SCHEDULER.html#ARPLS72235" target="_blank"><span class="italic">Oracle</span></a> Scheduler页面的信息，请参阅有关<code class="codeph">DBMS_SCHEDULER</code>信息的<a href="../arpls/DBMS_SCHEDULER.html#ARPLS72235" target="_blank"><span class="italic">Oracle数据库PL / SQL包和类型参考</span></a>以及Cloud Control联机帮助。
                  </p>
                  <p>有关将Oracle Scheduler与CDB一起使用的信息，请参阅“ <a href="../multi/using-oracle-scheduler-with-a-cdb.html#MULTI-GUID-5BD1ACC9-D10D-4573-860F-5F8A65AE8554" target="_blank"><span><cite>Oracle Multitenant管理员指南”</cite></span></a> 。</p>
               </div>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="administering-oracle-scheduler.html#GUID-1D70068B-8247-4D1B-BA4B-6DE33D2A11E0">配置Oracle Scheduler</a><br>配置Oracle Scheduler包括诸如设置权限和首选项以及使用Oracle Scheduler代理运行远程作业等任务。
                  </li>
                  <li class="ulchildlink"><a href="administering-oracle-scheduler.html#GUID-A141EC1B-0610-4C9F-B312-966E334B16D8">监视和管理调度程序</a><br>您可以查看当前活动的窗口以及与其关联的资源计划，查看有关当前正在运行的作业的信息，监视和管理窗口和作业日志以及管理计划程序安全性。
                  </li>
                  <li class="ulchildlink"><a href="administering-oracle-scheduler.html#GUID-D44BB9BD-68FE-40AE-B302-30820B769415">导入/导出和调度程序</a><br>您必须使用数据泵实用程序（ <code class="codeph">impdp</code>和<code class="codeph">expdp</code> ）来导出Scheduler对象。
                  </li>
                  <li class="ulchildlink"><a href="administering-oracle-scheduler.html#GUID-E26BCDEC-7ACB-4410-A0DC-8CF03F6C0B2B">排定程序故障排除</a><br>您可以解决Scheduler问题。
                  </li>
                  <li class="ulchildlink"><a href="administering-oracle-scheduler.html#GUID-45C400A8-4B2D-4855-961F-7D2A2573A235">使用调度程序的示例</a><br>示例说明使用Scheduler。
                  </li>
                  <li class="ulchildlink"><a href="administering-oracle-scheduler.html#GUID-8981EAB4-B308-4CE1-80BF-069C3F4F44BD">调度程序参考</a><br>有几个与Scheduler相关的权限和数据字典视图。
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>父主题：</strong> <a href="database-resource-management-and-task-scheduling.html#GUID-50F0AB88-007D-4A11-BCBC-78AE0367F8FD" title="您可以管理自动数据库维护任务，数据库资源和任务计划。">数据库资源管理和任务调度</a></p>
                  </div>
               </div>
            </div>
            <a id="ADMIN12035"></a><div class="props_rev_3"><a id="GUID-1D70068B-8247-4D1B-BA4B-6DE33D2A11E0" name="GUID-1D70068B-8247-4D1B-BA4B-6DE33D2A11E0"></a><h3 id="ADMIN-GUID-1D70068B-8247-4D1B-BA4B-6DE33D2A11E0" class="sect3"><span class="enumeration_section">30.1</span>配置Oracle Scheduler</h3>
               <p>配置Oracle Scheduler包括诸如设置权限和首选项以及使用Oracle Scheduler代理运行远程作业等任务。</p>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="administering-oracle-scheduler.html#GUID-1A717964-7183-4E30-8BB8-661A61557613">设置Oracle Scheduler权限</a><br>您必须具有<code class="codeph">SCHEDULER_ADMIN</code>角色才能执行所有Oracle Scheduler管理任务。通常，数据库管理员已将此角色与<code class="codeph">ADMIN</code>选项一起作为<code class="codeph">DBA</code>角色的一部分。
                     </li>
                     <li class="ulchildlink"><a href="administering-oracle-scheduler.html#GUID-76FB80A7-737C-4B0F-BE97-FE9F57B6E88C">设置计划程序首选项</a><br>您可以设置多个系统范围的Scheduler首选项。您可以通过在<code class="codeph">DBMS_SCHEDULER</code>包中使用<code class="codeph">SET_SCHEDULER_ATTRIBUTE</code>过程设置Scheduler属性来设置这些首选项。
                     </li>
                     <li class="ulchildlink"><a href="administering-oracle-scheduler.html#GUID-73A41E67-CF87-458E-9FA8-157349AA4E3A">使用Oracle Scheduler代理运行远程作业</a><br>Oracle Scheduler代理可以计划和运行远程作业。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="administering-oracle-scheduler.html#GUID-5271609E-3476-4E4A-A28F-8E9776D2B20A" title="您可以配置，管理，监视Oracle Scheduler并对其进行故障排除。">管理Oracle Scheduler</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN12696"></a><a id="ADMIN13305"></a><div class="props_rev_3"><a id="GUID-1A717964-7183-4E30-8BB8-661A61557613" name="GUID-1A717964-7183-4E30-8BB8-661A61557613"></a><h4 id="ADMIN-GUID-1A717964-7183-4E30-8BB8-661A61557613" class="sect4"><span class="enumeration_section">30.1.1</span>设置Oracle Scheduler权限</h4>
                  <div>
                     <p>您必须具有<code class="codeph">SCHEDULER_ADMIN</code>角色才能执行所有Oracle Scheduler管理任务。通常，数据库管理员已将此角色与<code class="codeph">ADMIN</code>选项一起作为<code class="codeph">DBA</code>角色的一部分。
                     </p>
                     <div class="section">
                        <p>例如，用户<code class="codeph">SYS</code>和<code class="codeph">SYSTEM</code>被授予<code class="codeph">DBA</code>角色。您可以通过发出以下语句将此角色授予其他管理员：</p><pre class="oac_no_warn" dir="ltr">用户名授予GRANT SCHEDULER_ADMIN;</pre><p>由于<code class="codeph">SCHEDULER_ADMIN</code>角色是一个强大的角色，允许被授权者以任何用户身份执行代码，因此您应该考虑授予单个调度程序系统特权。使用常规SQL授权语法授予对象和系统特权，例如，如果数据库管理员发出以下语句：</p><pre class="oac_no_warn" dir="ltr">斯科特创造就业机会;</pre><p>执行此语句后， <code class="codeph">scott</code>可以在其架构中创建作业，计划，程序和文件监视器。作为另一个示例，数据库管理员可以发出以下语句：</p><pre class="oac_no_warn" dir="ltr">adam管理计划员;</pre><p>执行此语句后， <code class="codeph">adam</code>可以创建，更改或删除窗口，作业类或窗口组。 <code class="codeph">adam</code>还可以设置和检索Scheduler属性并清除Scheduler日志。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-1A717964-7183-4E30-8BB8-661A61557613__BAJBEDFI">
                        <p class="subhead3" id="GUID-1A717964-7183-4E30-8BB8-661A61557613__GUID-11FC7B3D-E003-4B5F-890B-FA3738EECCC5">设置链权限</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>调度程序链使用基础Oracle Rules Engine对象及其相关权限。要在自己的模式中创建链，除了在自己的模式中创建规则，规则集和评估上下文所需的规则引擎权限之外，用户还必须具有<code class="codeph">CREATE</code> <code class="codeph">JOB</code>权限。这些可以通过发出以下声明来授予：</p><pre class="oac_no_warn" dir="ltr">授予创建规则，创建规则集，为<span class="italic">用户</span>创建评估上下文;</pre><p>要在不同的模式中创建链，除了在自己以外的模式中创建规则，规则集和评估上下文所需的特权之外，用户还必须具有<code class="codeph">CREATE</code> <code class="codeph">ANY</code> <code class="codeph">JOB</code>特权。这些可以通过发出以下声明来授予：</p><pre class="oac_no_warn" dir="ltr">授予创建任何规则，创建任何规则集，为<span class="italic">用户</span>创建任何评估上下文;</pre><p>在用户模式以外的模式中更改或删除链需要相应的规则，规则集和评估上下文的系统规则引擎权限。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-1A717964-7183-4E30-8BB8-661A61557613__GUID-1C9164C1-E7D8-4E15-A5EC-1C1823FEE62D">
                        <p class="notep1">也可以看看：</p>
                        <p>关于连锁特权的更多信息， <span class="q">“ <a href="scheduling-jobs-with-oracle-scheduler.html#GUID-A9F2DA2A-9C5D-43CD-8536-9B4EDD604986" title="您可以使用DBMS_SCHEDULER包中的过程来管理常见的链任务。">连锁任务及其程序</a> ”</span> 。
                        </p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="administering-oracle-scheduler.html#GUID-1D70068B-8247-4D1B-BA4B-6DE33D2A11E0" title="配置Oracle Scheduler包括诸如设置权限和首选项以及使用Oracle Scheduler代理运行远程作业等任务。">配置Oracle Scheduler</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN13306"></a><div class="props_rev_3"><a id="GUID-76FB80A7-737C-4B0F-BE97-FE9F57B6E88C" name="GUID-76FB80A7-737C-4B0F-BE97-FE9F57B6E88C"></a><h4 id="ADMIN-GUID-76FB80A7-737C-4B0F-BE97-FE9F57B6E88C" class="sect4"><span class="enumeration_section">30.1.2</span>设置调度程序首选项</h4>
                  <div>
                     <p>您可以设置多个系统范围的Scheduler首选项。您可以通过在<code class="codeph">DBMS_SCHEDULER</code>包中使用<code class="codeph">SET_SCHEDULER_ATTRIBUTE</code>过程设置Scheduler属性来设置这些首选项。
                     </p>
                     <div class="section">
                        <p>设置这些属性需要<code class="codeph">MANAGE</code> <code class="codeph">SCHEDULER</code>权限。属性是：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">default_timezone</code></p>
                              <p>设置此属性非常重要。重复使用日历语法的作业和窗口需要知道哪个时区用于重复间隔。请参阅<span class="q">“ <a href="scheduling-jobs-with-oracle-scheduler.html#GUID-041A5002-4176-4C93-99C2-09E2E889BB1F" title="设置作业重复频率的主要方法是使用Scheduler日历表达式设置repeat_interval属性。">使用调度程序日历语法</a> ”</span> 。它们通常从<code class="codeph">start_date</code>检索时区，但如果没有提供<code class="codeph">start_date</code> （这并不罕见），它们将从<code class="codeph">default_timezone</code> Scheduler属性中检索时区。
                              </p>
                              <p>Scheduler从操作系统环境中获取<code class="codeph">default_timezone</code>的值。如果调度程序找不到操作系统的兼容值，则将<code class="codeph">default_timezone</code>设置为<code class="codeph">NULL</code> 。</p>
                              <p>验证<code class="codeph">default_timezone</code>是否设置正确，如果没有，则设置它是至关重要的。要验证它，请运行以下查询：</p><pre class="oac_no_warn" dir="ltr">SELECT DBMS_SCHEDULER.STIME FROM DUAL; STIME ------------------------------------------------- -------------------------- 28-FEB-12 09.04.10.308959000 PM UTC</pre><p>为确保遵循夏令时调整，建议您将<code class="codeph">default_timezone</code>设置为区域名称，而不是像'-8：00'那样的绝对时区偏移。例如，如果您的数据库位于美国佛罗里达州的迈阿密，请发出以下语句：</p><pre class="oac_no_warn" dir="ltr">DBMS_SCHEDULER.SET_SCHEDULER_ATTRIBUTE（ 'default_timezone'， '美/东'）;</pre><p>同样，如果您的数据库驻留在巴黎，则应将此属性设置为<code class="codeph">'Europe/Warsaw'</code> 。要查看有效区域名称列表，请运行以下查询：</p><pre class="oac_no_warn" dir="ltr">从V $ TIMEZONE_NAMES中选择DISTINCT TZNAME;</pre><p>如果未正确设置<code class="codeph">default_timezone</code> ，重复作业和窗口的默认时区将是从<code class="codeph">SYSTIMESTAMP</code> （数据库的操作系统环境的时区）检索的绝对偏移量，这意味着重复的作业和窗口没有他们的<code class="codeph">start_date</code>设置不会遵循夏令时调整。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">email_server</code></p>
                              <p>此属性指定调度程序用于发送作业状态事件的电子邮件通知的SMTP服务器地址。它采用以下格式：</p><pre class="oac_no_warn" dir="ltr"><span class="italic">主持人</span> [： <span class="italic">port</span> ]</pre><p>哪里：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><span class="italic"><code class="codeph">host</code></span>是SMTP服务器的主机名或IP地址。
                                    </p>
                                 </li>
                                 <li>
                                    <p><span class="italic"><code class="codeph">port</code></span>是SMTP服务器侦听的TCP端口。如果未指定，则使用默认端口25。
                                    </p>
                                 </li>
                              </ul>
                              <p>如果未指定此属性，设置为<code class="codeph">NULL</code>或设置为无效的SMTP服务器地址，则计划程序无法发送作业状态电子邮件通知。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">EMAIL_SENDER</code></p>
                              <p>此属性指定作业状态电子邮件通知的发件人的默认电子邮件地址。它必须是有效的电子邮件地址。如果未设置此属性或将其设置为<code class="codeph">NULL</code> ，则未指定发件人地址的作业状态电子邮件通知在电子邮件标头中没有FROM地址。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">email_server_credential</code></p>
                              <p>此属性指定现有凭据对象的架构和名称。默认值为<code class="codeph">NULL</code> 。</p>
                              <p>当电子邮件通知发出时，调度程序会确定<code class="codeph">email_server_credential</code>指向<code class="codeph">SYS</code>具有执行对象权限的有效凭据对象。如果<code class="codeph">email_server</code>属性中指定的SMTP服务器需要身份验证，则Scheduler将使用存储在指定凭据对象中的用户名和密码对电子邮件服务器进行身份验证。
                              </p>
                              <p>如果指定了<code class="codeph">email_server_credential</code> ，则<code class="codeph">email_server</code>属性必须指定需要身份验证的SMTP服务器。
                              </p>
                              <p>如果未指定<code class="codeph">email_server_credential</code> ，则调度程序支持通过未配置身份验证的SMTP服务器发送通知电子邮件。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">email_server_encryption</code></p>
                              <p>此属性指示是否为此SMTP服务器连接启用加密，如果启用，则加密启动的时间点以及使用哪种协议。</p>
                              <p><code class="codeph">email_server_encryption</code> ：</p>
                              <p><code class="codeph">NONE</code> ：默认值，表示不加密。
                              </p>
                              <p><code class="codeph">SSL_TLS:</code>表示从连接开始使用<code class="codeph">SSL</code>或<code class="codeph">TLS</code> 。双方确定哪种协议最安全。这是此参数的最常见设置。
                              </p>
                              <p><code class="codeph">STARTTLS</code> ：表示连接以未加密状态启动，但命令<code class="codeph">STARTTLS</code>指示电子邮件服务器使用<code class="codeph">TLS</code>开始加密。</p>
                           </li>
                           <li>
                              <p><code class="codeph">event_expiry_time</code></p>
                              <p>使用此属性可以设置计划程序生成的作业状态事件到期之前的秒数（从计划程序事件队列中自动清除）。如果为<code class="codeph">NULL</code> ，则作业状态事件在24小时后到期。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">LOG_HISTORY</code> 
                              </p>
                              <p>此属性控制保留作业日志和窗口日志的日志条目的天数。它有助于防止日志不加区分地增长。有效值的范围是0到1000000。如果设置为0，则不保留历史记录。默认值为30。您可以通过为作业类的<code class="codeph">log_history</code>属性设置值来在作业类级别覆盖此值。
                              </p>
                           </li>
                        </ul>
                        <p>有关<code class="codeph">SET_SCHEDULER_ATTRIBUTE</code>过程的语法，请参阅<a href="../arpls/DBMS_SCHEDULER.html#ARPLS72433" target="_blank"><span class="italic">Oracle数据库PL / SQL包和类型参考</span></a> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="administering-oracle-scheduler.html#GUID-1D70068B-8247-4D1B-BA4B-6DE33D2A11E0" title="配置Oracle Scheduler包括诸如设置权限和首选项以及使用Oracle Scheduler代理运行远程作业等任务。">配置Oracle Scheduler</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN12048"></a><div class="props_rev_3"><a id="GUID-73A41E67-CF87-458E-9FA8-157349AA4E3A" name="GUID-73A41E67-CF87-458E-9FA8-157349AA4E3A"></a><h4 id="ADMIN-GUID-73A41E67-CF87-458E-9FA8-157349AA4E3A" class="sect4"><span class="enumeration_section">30.1.3</span>使用Oracle Scheduler代理运行远程作业</h4>
                  <div>
                     <p>Oracle Scheduler代理可以计划和运行远程作业。</p>
                     <div class="section">
                        <p>使用Oracle Scheduler代理，Scheduler可以调度和运行两种类型的远程作业：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>远程数据库作业：必须通过Oracle Scheduler代理运行远程数据库作业。Oracle建议将代理安装在与远程数据库相同的主机上。</p>
                              <p>如果要运行远程数据库作业，则Scheduler代理必须是Oracle Database <span class="italic">11g</span>第2版（11.2）或更高版本。
                              </p>
                           </li>
                           <li>
                              <p>远程外部作业：远程外部作业在安装了Scheduler代理的同一主机上运行。</p>
                              <p>如果您只想运行远程外部作业，则调度程序代理的Oracle Database <span class="italic">11g</span>第1版（11.1）就足够了。
                              </p>
                           </li>
                        </ul>
                        <p>您必须在将运行远程外部作业的所有主机上安装Scheduler代理。您应该在运行远程数据库的所有主机上安装Scheduler代理，以便运行远程数据库作业。</p>
                        <p>运行远程作业的每个数据库都需要初始设置，以启用数据库和远程调度程序代理之间的安全通信，如<span class="q">“ <a href="administering-oracle-scheduler.html#GUID-3DC17579-FA23-4D98-911F-7C6D5EE14C19" title="在数据库可以使用远程Scheduler代理运行作业之前，必须正确配置数据库，并且必须向数据库注册代理。">为远程作业设置数据库</a> ”中所述</span> 。
                        </p>
                        <p>启用远程作业涉及以下步骤：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li><span><a href="administering-oracle-scheduler.html#GUID-EC2A7EE4-1459-4627-93E7-7EF80F14355B" title="您可以为远程作业设置数据库并禁用远程作业的数据库。">为远程作业启用和禁用数据库</a></span></li>
                        <li><span><a href="administering-oracle-scheduler.html#GUID-68793240-9241-42D4-95E7-21C66DD6B305" title="在特定主机上运行远程作业之前，必须安装和配置Scheduler代理。">在远程主机上安装和配置Scheduler Agent</a></span></li>
                        <li><span><a href="administering-oracle-scheduler.html#GUID-DB23873A-5900-40DB-B477-2D6F2721E679" title="Scheduler代理程序是一个独立程序，使您可以在远程主机上计划和运行外部和数据库作业。使用UNIX和Linux上的schagent实用程序以及Windows上的OracleSchedulerExecutionAgent服务启动和停止Scheduler代理。">使用计划程序代理执行任务</a></span></li>
                     </ol>
                     <div class="section"></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="administering-oracle-scheduler.html#GUID-EC2A7EE4-1459-4627-93E7-7EF80F14355B">为远程作业启用和禁用数据库</a><br>您可以为远程作业设置数据库并禁用远程作业的数据库。
                        </li>
                        <li class="ulchildlink"><a href="administering-oracle-scheduler.html#GUID-68793240-9241-42D4-95E7-21C66DD6B305">在远程主机上安装和配置Scheduler Agent</a><br>在特定主机上运行远程作业之前，必须安装和配置Scheduler代理。
                        </li>
                        <li class="ulchildlink"><a href="administering-oracle-scheduler.html#GUID-DB23873A-5900-40DB-B477-2D6F2721E679">使用计划程序代理执行任务</a><br>Scheduler代理程序是一个独立程序，使您可以在远程主机上计划和运行外部和数据库作业。使用UNIX和Linux上的<code class="codeph">schagent</code>实用程序以及Windows上的<code class="codeph">OracleSchedulerExecutionAgent</code>服务启动和停止Scheduler代理。
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-73A41E67-CF87-458E-9FA8-157349AA4E3A__GUID-275345F7-EE80-44FD-8941-97E878F2C58E">
                        <p class="notep1">也可以看看：</p>
                        <p></p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="oracle-scheduler-concepts.html#GUID-B6867333-AF08-4B4F-9CA4-05E39761D8A3" title="远程外部作业在远程主机上运行其外部可执行文件。远程主机可能安装了Oracle数据库，也可能没有。">关于远程外部作业</a> ”</span></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="oracle-scheduler-concepts.html#GUID-EE262962-38E1-4B35-8549-BA557835A2D8" title="数据库作业运行Oracle数据库程序单元，包括PL / SQL匿名块，PL / SQL存储过程和Java存储过程。">数据库作业</a> ”</span>有关远程数据库作业的更多信息</p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="administering-oracle-scheduler.html#GUID-1D70068B-8247-4D1B-BA4B-6DE33D2A11E0" title="配置Oracle Scheduler包括诸如设置权限和首选项以及使用Oracle Scheduler代理运行远程作业等任务。">配置Oracle Scheduler</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADMIN12503"></a><div class="props_rev_3"><a id="GUID-EC2A7EE4-1459-4627-93E7-7EF80F14355B" name="GUID-EC2A7EE4-1459-4627-93E7-7EF80F14355B"></a><h5 id="ADMIN-GUID-EC2A7EE4-1459-4627-93E7-7EF80F14355B" class="sect5"><span class="enumeration_section">30.1.3.1</span>为远程作业启用和禁用数据库</h5>
                     <p>您可以为远程作业设置数据库并禁用远程作业的数据库。</p>
                     <div>
                        <ul class="ullinks">
                           <li class="ulchildlink"><a href="administering-oracle-scheduler.html#GUID-3DC17579-FA23-4D98-911F-7C6D5EE14C19">为远程作业设置数据库</a><br>在数据库可以使用远程Scheduler代理运行作业之前，必须正确配置数据库，并且必须向数据库注册代理。
                           </li>
                           <li class="ulchildlink"><a href="administering-oracle-scheduler.html#GUID-6EBA76A1-5411-4720-9C87-7B2C15610989">禁用远程作业</a><br>您可以通过删除<code class="codeph">REMOTE_SCHEDULER_AGENT</code>用户来禁用数据库上的远程作业。
                           </li>
                        </ul>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="administering-oracle-scheduler.html#GUID-73A41E67-CF87-458E-9FA8-157349AA4E3A" title="Oracle Scheduler代理可以计划和运行远程作业。">使用Oracle Scheduler代理运行远程作业</a></p>
                           </div>
                        </div>
                     </div>
                     <a id="ADMIN13499"></a><div class="props_rev_3"><a id="GUID-3DC17579-FA23-4D98-911F-7C6D5EE14C19" name="GUID-3DC17579-FA23-4D98-911F-7C6D5EE14C19"></a><h6 id="ADMIN-GUID-3DC17579-FA23-4D98-911F-7C6D5EE14C19" class="sect6"><span class="enumeration_section">30.1.3.1.1</span>为远程作业设置数据库</h6>
                        <div>
                           <p>在数据库可以使用远程Scheduler代理运行作业之前，必须正确配置数据库，并且必须向数据库注册代理。</p>
                           <div class="section">
                              <p>本节介绍配置，包括数据库中所需的代理注册密码。稍后您将注册数据库，如<span class="q">“ <a href="administering-oracle-scheduler.html#GUID-F5109C9D-04C9-488C-A6E4-1DAF66ECB4ED" title="完成Scheduler Agent的配置后，可以在一个或多个要运行远程作业的数据库上注册Agent。">使用数据库注册调度程序代理</a> ”中所示</span> 。
                              </p>
                              <p>您可以限制可以注册的Scheduler代理的数量，并且可以将密码设置为在指定的持续时间后过期。</p>
                              <p>对于创建和运行远程作业的每个数据库，请完成以下步骤。</p>
                              <p>要设置数据库以创建和运行远程作业：</p>
                              <ol>
                                 <li>
                                    <p>确保已启用共享服务器。</p>
                                    <p>请参阅<span class="q">“ <a href="managing-processes.html#GUID-1EC99B97-38DC-4061-A2F5-3890828616B5" title="通过将SHARED_SERVERS初始化参数设置为大于0的值来启用共享服务器。不需要设置其他共享服务器初始化参数。">启用共享服务器</a> ”</span> 。
                                    </p>
                                    <p>如果多个Scheduler代理程序与同一数据库一起使用，请将<code class="codeph">SHARED_SERVERS</code>数据库初始化参数的值设置得足够高，以避免在所有这些代理程序尝试并行工作时出错。
                                    </p>
                                    <div class="infoboxnote" id="GUID-3DC17579-FA23-4D98-911F-7C6D5EE14C19__GUID-B49D9FE7-91B0-4CE1-ABE8-53650AF6D8F8">
                                       <p class="notep1">注意：</p>
                                       <p>如果您在多租户模式下运行，则必须以<code class="codeph">CDB$ROOT</code>解锁匿名帐户。</p>
                                       <p>使用SQL * Plus，以<code class="codeph">SYS</code>用户身份连接到<code class="codeph">CDB$ROOT</code> ，并输入以下命令：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; alter session set container = CDB $ ROOT; SQL&gt; alter user匿名帐户解锁容器=当前;</pre></div>
                                 </li>
                                 <li>
                                    <p>使用SQL * Plus，以<code class="codeph">SYS</code>用户身份连接到数据库（在多租户模式下指定可插拔数据库）。
                                    </p>
                                 </li>
                                 <li>
                                    <p>输入以下命令以验证是否已安装XML DB选项：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; DESC RESOURCE_VIEW</pre><p>如果未安装XML DB，则此命令将返回“对象不存在”错误。</p>
                                    <div class="infoboxnote" id="GUID-3DC17579-FA23-4D98-911F-7C6D5EE14C19__GUID-FA986B8B-6A68-4F47-A49E-A405519B630F">
                                       <p class="notep1">注意：</p>
                                       <p>如果未安装XML DB，则必须先安装它，然后再继续。</p>
                                    </div>
                                 </li>
                                 <li>
                                    <p>如果您使用的是HTTPS连接，请将证书添加到数据库钱包，如下所示：</p>
                                    <div class="infoboxnote" id="GUID-3DC17579-FA23-4D98-911F-7C6D5EE14C19__GUID-C28AECE3-C3D7-4E7C-A3F1-DEC723B40492">
                                       <p class="notep1">注意：</p>
                                       <p>在添加证书时检查数据库是否未使用钱包，或者在添加证书时关闭数据库，然后启动数据库。</p>
                                    </div>
                                    <ol type="a">
                                       <li>
                                          <p>如果<code class="codeph">ORACLE_HOME/admin/$ORACLE_SID/xdb_wallet</code>目录中没有现有数据库钱包，则使用<code class="codeph">orapki</code>命令行实用程序创建一个。例如：</p><pre class="pre codeblock"><code>orapki wallet create -wallet $ ORACLE_HOME / admin / $ ORACLE_SID / xdb_wallet -pwd <span class="italic">wallet_password</span> -auto_login</code></pre></li>
                                       <li>
                                          <p>使用<code class="codeph">orapki</code>命令行实用程序将证书添加到钱包。例如：</p><pre class="pre codeblock"><code>orapki wallet add -wallet $ ORACLE_HOME / admin / $ ORACLE_SID / xdb_wallet -dn CN = <span class="italic">fully_qualified_domain_name</span> -self_signed -pwd <span class="italic">wallet_password</span> -validity <span class="italic">number_of_days</span> -keysize <span class="italic">key_size_for_the_certificate（512 | 1024 | 2048）</span></code></pre></li>
                                    </ol>
                                    <div class="infoboxnotealso" id="GUID-3DC17579-FA23-4D98-911F-7C6D5EE14C19__GUID-4AF51346-B086-4284-94D7-29D4079BA0FC">
                                       <p class="notep1">也可以看看：</p>
                                       <p>有关使用<code class="codeph">orapki</code>实用程序将证书添加到数据库钱包的更多信息，请<code class="codeph">orapki</code> <a href="../dbseg/using-the-orapki-utility-to-manage-pki-elements.html#DBSEG-GUID-7F43F506-CEB9-48F3-A4D2-B49762D412B9" target="_blank"><span><cite>“Oracle数据库安全指南”</cite></span></a></p>
                                    </div>
                                 </li>
                                 <li>
                                    <p>启用与数据库的HTTP（S）连接，如下所示：</p>
                                    <ol type="a">
                                       <li>
                                          <p>确定是否已启用Oracle XML DBM HTTP（S）服务器：</p>
                                          <p>对HTTP连接运行以下命令：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT DBMS_XDB_CONFIG.GETHTTPPORT（）FROM DUAL;</pre><p>对HTTPS连接运行以下命令：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT DBMS_XDB_CONFIG.GETHTTPSPORT（）FROM DUAL;</pre><p>如果语句返回<code class="codeph">0</code> ，则禁用Oracle XML DBM HTTP（S）服务器。
                                          </p>
                                       </li>
                                       <li>
                                          <p>通过以<code class="codeph">SYS</code>身份登录并在非零端口上启用Oracle XML DB HTTP（S）服务器并运行以下命令：</p>
                                          <p>如果您使用HTTP连接：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; EXEC DBMS_XDB_CONFIG.SETHTTPPORT（ <span class="italic">port</span> ）; SQL&gt; COMMIT;</pre><p>如果您使用的是HTTPS连接：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; EXEC DBMS_XDB_CONFIG.SETHTTPSPORT（ <span class="italic">port</span> ）; SQL&gt; COMMIT;</pre><p>其中<span class="italic"><code class="codeph">port</code></span>是您希望数据库侦听HTTP（S）连接的TCP端口号。
                                          </p>
                                          <p><span class="italic"><code class="codeph">port</code></span>必须是1到65536之间的整数，而UNIX和Linux必须大于1023。选择尚未使用的端口号。
                                          </p>
                                          <p>每个可插拔数据库必须使用唯一的端口号，以便调度程序代理可以在代理注册过程中稍后确定可确定的可插拔数据库。</p>
                                          <div class="infoboxnote" id="GUID-3DC17579-FA23-4D98-911F-7C6D5EE14C19__GUID-55355F7A-98B2-43C3-B18E-49179D41AE84">
                                             <p class="notep1">注意：</p>
                                             <ul style="list-style-type:disc">
                                                <li>
                                                   <p>这将在Oracle Real Application Clusters数据库的所有实例上启用HTTP（S）连接。</p>
                                                </li>
                                                <li>
                                                   <p>Oracle Scheduler代理支持从Oracle Database 18c开始的HTTPS连接。</p>
                                                </li>
                                             </ul>
                                          </div>
                                       </li>
                                    </ol>
                                 </li>
                                 <li>
                                    <p>使用以下命令运行脚本<code class="codeph">prvtrsch.plb</code> ：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; @？/rdbms/admin/prvtrsch.plb</pre></li>
                                 <li>
                                    <p>使用<code class="codeph">SET_AGENT_REGISTRATION_PASS</code>过程为Scheduler代理设置注册密码。
                                    </p>
                                    <p>以下示例将代理注册密码设置为<code class="codeph">mypassword</code> 。
                                    </p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_SCHEDULER.SET_AGENT_REGISTRATION_PASS（'mypassword'）;结束; /</pre><div class="infoboxnote" id="GUID-3DC17579-FA23-4D98-911F-7C6D5EE14C19__GUID-9278E0D3-DFB7-44A4-929B-E8B72A31F10E">
                                       <p class="notep1">注意：</p>
                                       <p>您必须具有<code class="codeph">MANAGE SCHEDULER</code>权限才能设置代理注册密码。有关<code class="codeph">SET_AGENT_REGISTRATION_PASS</code>过程的详细信息，请参阅<a href="../arpls/DBMS_SCHEDULER.html#ARPLS72397" target="_blank"><span class="italic">Oracle数据库PL / SQL包和类型参考</span></a> 。
                                       </p>
                                    </div>
                                    <p>您将在<span class="q">“ <a href="administering-oracle-scheduler.html#GUID-F5109C9D-04C9-488C-A6E4-1DAF66ECB4ED" title="完成Scheduler Agent的配置后，可以在一个或多个要运行远程作业的数据库上注册Agent。">使用数据库注册调度程序代理</a> ”中</span>进一步进行实际注册。
                                    </p>
                                 </li>
                              </ol>
                           </div>
                           <!-- class="section" -->
                        </div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="administering-oracle-scheduler.html#GUID-EC2A7EE4-1459-4627-93E7-7EF80F14355B" title="您可以为远程作业设置数据库并禁用远程作业的数据库。">为远程作业启用和禁用数据库</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div><a id="ADMIN12505"></a><div class="props_rev_3"><a id="GUID-6EBA76A1-5411-4720-9C87-7B2C15610989" name="GUID-6EBA76A1-5411-4720-9C87-7B2C15610989"></a><h6 id="ADMIN-GUID-6EBA76A1-5411-4720-9C87-7B2C15610989" class="sect6"><span class="enumeration_section">30.1.3.1.2</span>禁用远程作业</h6>
                        <div>
                           <p>您可以通过删除<code class="codeph">REMOTE_SCHEDULER_AGENT</code>用户来禁用数据库上的远程作业。
                           </p>
                           <div class="section">
                              <p>要禁用远程作业：</p>
                           </div>
                           <!-- class="section" -->
                           <div class="section">
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>提交以下SQL语句：</p><pre class="oac_no_warn" dir="ltr">DROP USER REMOTE_SCHEDULER_AGENT CASCADE;</pre></li>
                              </ul>
                              <p>在再次运行<code class="codeph">prvtrsch.plb</code>之前，将禁用新调度程序代理的注册和远程作业的执行。
                              </p>
                           </div>
                           <!-- class="section" -->
                        </div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="administering-oracle-scheduler.html#GUID-EC2A7EE4-1459-4627-93E7-7EF80F14355B" title="您可以为远程作业设置数据库并禁用远程作业的数据库。">为远程作业启用和禁用数据库</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                  </div><a id="ADMIN12050"></a><div class="props_rev_3"><a id="GUID-68793240-9241-42D4-95E7-21C66DD6B305" name="GUID-68793240-9241-42D4-95E7-21C66DD6B305"></a><h5 id="ADMIN-GUID-68793240-9241-42D4-95E7-21C66DD6B305" class="sect5"><span class="enumeration_section">30.1.3.2</span>在远程主机上安装和配置Scheduler Agent</h5>
                     <div>
                        <p>在特定主机上运行远程作业之前，必须安装和配置Scheduler代理。</p>
                        <div class="section">
                           <p>安装和配置Scheduler代理后，必须在主机上注册并启动Scheduler代理，如<span class="q">“ <a href="administering-oracle-scheduler.html#GUID-DB23873A-5900-40DB-B477-2D6F2721E679" title="Scheduler代理程序是一个独立程序，使您可以在远程主机上计划和运行外部和数据库作业。使用UNIX和Linux上的schagent实用程序以及Windows上的OracleSchedulerExecutionAgent服务启动和停止Scheduler代理。">使用Scheduler Agent执行任务</a> ”中所述</span> 。Scheduler代理也必须安装在自己的Oracle主目录中。
                           </p>
                           <p>要在远程主机上安装和配置Scheduler代理：</p>
                           <ol>
                              <li>
                                 <p>下载或检索调度程序代理软件，该软件可在数据库媒体包中包含的Oracle数据库客户端媒体上获得，并可在线访问：</p>
                                 <p><a href="http://www.oracle.com/technology/software/products/database" target="_blank"><code class="codeph">http://www.oracle.com/technology/software/products/database</code></a></p>
                              </li>
                              <li>
                                 <p>确保首先正确设置要注册代理的任何数据库。</p>
                                 <p>有关说明，请参阅<span class="q">“ <a href="administering-oracle-scheduler.html#GUID-EC2A7EE4-1459-4627-93E7-7EF80F14355B" title="您可以为远程作业设置数据库并禁用远程作业的数据库。">为远程作业启用和禁用数据库</a> ”</span> 。
                                 </p>
                              </li>
                              <li>
                                 <p>登录要安装Scheduler Agent的主机。该主机运行远程作业。</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p>对于Windows，请以管理员身份登录。</p>
                                    </li>
                                    <li>
                                       <p>对于UNIX和Linux，请以希望Scheduler代理运行的用户身份登录。该用户不需要特殊权限。</p>
                                    </li>
                                 </ul>
                              </li>
                              <li>
                                 <p>从Oracle Database Client的安装介质运行Oracle Universal Installer（OUI）。</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p>对于Windows，请运行<code class="codeph">setup.exe</code> 。
                                       </p>
                                    </li>
                                    <li>
                                       <p>对于UNIX和Linux，请使用以下命令：</p><pre class="oac_no_warn" dir="ltr">/ <span class="italic">directory_path</span> / runInstaller</pre></li>
                                 </ul>
                                 <p>其中<span class="italic"><code class="codeph">directory_path</code></span>是Oracle数据库客户端安装介质的路径。
                                 </p>
                              </li>
                              <li>
                                 <p>在“选择安装类型”页上，选择“ <span class="bold">自定义”</span> ，然后单击“ <span class="bold">下一步”</span> 。
                                 </p>
                              </li>
                              <li>
                                 <p>在“选择产品语言”页面上，选择所需的语言，然后单击“ <span class="bold">下一步”</span> 。
                                 </p>
                              </li>
                              <li>
                                 <p>在“指定安装位置”页上，输入代理的新Oracle主目录的路径，然后单击“ <span class="bold">下一步”</span> 。
                                 </p>
                              </li>
                              <li>
                                 <p>在Available Product Components页面上，选择<span class="bold">Oracle Scheduler Agent</span> ，然后单击<span class="bold">Next</span> 。
                                 </p>
                              </li>
                              <li>
                                 <p>在Oracle Database Scheduler代理页面上：</p>
                                 <ol type="a">
                                    <li>
                                       <p>在“计划程序代理主机名”字段中，输入安装计划程序代理的计算机的主机名。</p>
                                    </li>
                                    <li>
                                       <p>在“计划程序代理程序端口号”字段中，输入计划程序代理程序要侦听连接的TCP端口号，或接受默认值，然后单击“ <span class="bold">下一步”</span> 。
                                       </p>
                                       <p>选择1到65535之间的整数。在UNIX和Linux上，该数字必须大于1023。确保端口号尚未使用。</p>
                                       <p>OUI执行一系列先决条件检查。如果任何先决条件检查失败，请解决问题，然后单击“ <span class="bold">下一步”</span> 。
                                       </p>
                                    </li>
                                 </ol>
                              </li>
                              <li>
                                 <p>在“摘要”页面上，单击“ <span class="bold">完成”</span> 。
                                 </p>
                              </li>
                              <li>
                                 <p>（仅限UNIX和Linux）当OUI提示您运行脚本<code class="codeph">root.sh</code> ，请以<code class="codeph">root</code>用户身份输入以下命令：</p><pre class="oac_no_warn" dir="ltr"><span class="italic">script_path</span> /root.sh</pre><p>该脚本位于您为代理安装选择的目录中。</p>
                                 <p>脚本完成后，在“执行配置脚本”对话框中单击“ <span class="bold">确定</span> ”。
                                 </p>
                              </li>
                              <li>
                                 <p>安装完成后，单击“ <span class="bold">关闭”</span>以退出OUI。
                                 </p>
                              </li>
                              <li>
                                 <p>使用文本编辑器查看代理配置参数文件<code class="codeph">schagent.conf</code> ，该文件位于Scheduler代理主目录中，并验证<code class="codeph">PORT=</code>指令中的端口号。
                                 </p>
                              </li>
                              <li>
                                 <p>确保远程主机上的任何防火墙软件或保护该主机的任何其他防火墙都有例外，以容纳调度程序代理。</p>
                              </li>
                           </ol>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="administering-oracle-scheduler.html#GUID-73A41E67-CF87-458E-9FA8-157349AA4E3A" title="Oracle Scheduler代理可以计划和运行远程作业。">使用Oracle Scheduler代理运行远程作业</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN13500"></a><div class="props_rev_3"><a id="GUID-DB23873A-5900-40DB-B477-2D6F2721E679" name="GUID-DB23873A-5900-40DB-B477-2D6F2721E679"></a><h5 id="ADMIN-GUID-DB23873A-5900-40DB-B477-2D6F2721E679" class="sect5"><span class="enumeration_section">30.1.3.3</span>使用调度程序代理执行任务</h5>
                     <p>Scheduler代理程序是一个独立程序，使您可以在远程主机上计划和运行外部和数据库作业。使用UNIX和Linux上的<code class="codeph">schagent</code>实用程序以及Windows上的<code class="codeph">OracleSchedulerExecutionAgent</code>服务启动和停止Scheduler代理。
                     </p>
                     <div>
                        <ul class="ullinks">
                           <li class="ulchildlink"><a href="administering-oracle-scheduler.html#GUID-3A288684-0237-4E06-9913-E0F52C98DB8B">关于schagent实用程序</a><br>可执行实用程序<code class="codeph">schagent</code>在Windows，UNIX和Linux上为代理执行某些任务。
                           </li>
                           <li class="ulchildlink"><a href="administering-oracle-scheduler.html#GUID-DA0D1B50-D434-40B8-BABF-DCA28F727B38">在Windows上使用Scheduler Agent</a><br>在安装期间自动创建并启动Windows Scheduler代理服务。服务名称以<code class="codeph">OracleSchedulerExecutionAgent</code> 。
                           </li>
                           <li class="ulchildlink"><a href="administering-oracle-scheduler.html#GUID-A241CC1F-0269-464B-9D4E-35E30CB8D7B5">启动Scheduler Agent</a><br>启动Scheduler代理可使其所在的主机运行远程作业。
                           </li>
                           <li class="ulchildlink"><a href="administering-oracle-scheduler.html#GUID-CBEE59AB-5D41-4B24-9053-9035A330AE3D">停止调度程序代理</a><br>停止Scheduler代理会阻止它所在的主机运行远程作业。
                           </li>
                           <li class="ulchildlink"><a href="administering-oracle-scheduler.html#GUID-F5109C9D-04C9-488C-A6E4-1DAF66ECB4ED">使用数据库注册调度程序代理</a><br>完成Scheduler Agent的配置后，可以在一个或多个要运行远程作业的数据库上注册Agent。
                           </li>
                        </ul>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="administering-oracle-scheduler.html#GUID-73A41E67-CF87-458E-9FA8-157349AA4E3A" title="Oracle Scheduler代理可以计划和运行远程作业。">使用Oracle Scheduler代理运行远程作业</a></p>
                           </div>
                        </div>
                     </div>
                     <a id="ADMIN13503"></a><a id="ADMIN13502"></a><div class="props_rev_3"><a id="GUID-3A288684-0237-4E06-9913-E0F52C98DB8B" name="GUID-3A288684-0237-4E06-9913-E0F52C98DB8B"></a><h6 id="ADMIN-GUID-3A288684-0237-4E06-9913-E0F52C98DB8B" class="sect6"><span class="enumeration_section">30.1.3.3.1</span>关于schagent实用程序</h6>
                        <div>
                           <p>可执行实用程序<code class="codeph">schagent</code>在Windows，UNIX和Linux上为代理执行某些任务。
                           </p>
                           <div class="section">
                              <p><code class="codeph">schagent</code>的选项<code class="codeph">schagent</code> <a href="administering-oracle-scheduler.html#GUID-3A288684-0237-4E06-9913-E0F52C98DB8B__BAJBFAEG" title="行是选项;第一列是名称，第二列是描述符">表30-1所示</a> 。
                              </p>
                              <p>使用具有适当语法和选项的<code class="codeph">schagent</code> ，如下所示：</p>
                              <p>例如：</p>
                              <p>UNIX和Linux： <span class="italic">AGENT_HOME</span> <code class="codeph">/bin/schagent -status</code></p>
                              <p>Windows： <span class="italic">AGENT_HOME</span> <code class="codeph">/bin/schagent.exe -status</code></p>
                           </div>
                           <!-- class="section" -->
                           <div class="tblformal" id="GUID-3A288684-0237-4E06-9913-E0F52C98DB8B__BAJBFAEG">
                              <p class="titleintable">表30-1 schagent选项</p>
                              <table cellpadding="4" cellspacing="0" class="Formal" title="schagent选项" width="100%" border="1" summary="rows are options; first column is name, second column descripton" frame="hsides" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="34%" id="d289610e1519">选项</th>
                                       <th align="left" valign="bottom" width="66%" id="d289610e1522">描述</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="34%" id="d289610e1527" headers="d289610e1519 ">
                                          <p><code class="codeph">-开始</code></p>
                                       </td>
                                       <td align="left" valign="top" width="66%" headers="d289610e1527 d289610e1522 ">
                                          <p>启动Scheduler Agent。</p>
                                          <p><span class="italic">仅限UNIX和Linux</span></p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="34%" id="d289610e1538" headers="d289610e1519 ">
                                          <p><code class="codeph">-停</code></p>
                                       </td>
                                       <td align="left" valign="top" width="66%" headers="d289610e1538 d289610e1522 ">
                                          <p>提示Scheduler代理停止所有当前正在运行的作业，然后正常停止执行。</p>
                                          <p><span class="italic">仅限UNIX和Linux</span></p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="34%" id="d289610e1549" headers="d289610e1519 ">
                                          <p><code class="codeph">-abort</code></p>
                                       </td>
                                       <td align="left" valign="top" width="66%" headers="d289610e1549 d289610e1522 ">
                                          <p>强制停止调度程序代理，即不先停止作业。来自Oracle Database <span class="italic">11g</span>第2版（11.2）。
                                          </p>
                                          <p><span class="italic">仅限UNIX和Linux</span></p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="34%" id="d289610e1563" headers="d289610e1519 ">
                                          <p><code class="codeph">-状态</code></p>
                                       </td>
                                       <td align="left" valign="top" width="66%" headers="d289610e1563 d289610e1522 ">
                                          <p>返回有关本地运行的调度程序代理的信息：版本，正常运行时间，自代理启动以来运行的作业总数，当前正在运行的作业数及其描述。</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="34%" id="d289610e1571" headers="d289610e1519 ">
                                          <p><code class="codeph">-registerdatabase</code></p>
                                       </td>
                                       <td align="left" valign="top" width="66%" headers="d289610e1571 d289610e1522 ">
                                          <p>将Scheduler代理注册到基本数据库或要在代理的主机上运行远程作业的其他数据库。</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="34%" id="d289610e1579" headers="d289610e1519 ">
                                          <p><code class="codeph">-unregisterdatabase</code></p>
                                       </td>
                                       <td align="left" valign="top" width="66%" headers="d289610e1579 d289610e1522 ">
                                          <p>从数据库中注销代理。</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                        </div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="administering-oracle-scheduler.html#GUID-DB23873A-5900-40DB-B477-2D6F2721E679" title="Scheduler代理程序是一个独立程序，使您可以在远程主机上计划和运行外部和数据库作业。使用UNIX和Linux上的schagent实用程序以及Windows上的OracleSchedulerExecutionAgent服务启动和停止Scheduler代理。">使用Scheduler Agent执行任务</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div><a id="ADMIN13501"></a><div class="props_rev_3"><a id="GUID-DA0D1B50-D434-40B8-BABF-DCA28F727B38" name="GUID-DA0D1B50-D434-40B8-BABF-DCA28F727B38"></a><h6 id="ADMIN-GUID-DA0D1B50-D434-40B8-BABF-DCA28F727B38" class="sect6"><span class="enumeration_section">30.1.3.3.2</span>在Windows上使用Scheduler Agent</h6>
                        <div>
                           <p>在安装期间自动创建并启动Windows Scheduler代理服务。服务名称以<code class="codeph">OracleSchedulerExecutionAgent</code> 。
                           </p>
                           <div class="infoboxnote" id="GUID-DA0D1B50-D434-40B8-BABF-DCA28F727B38__GUID-9A10573B-A79C-46EA-9939-1A278559D871">
                              <p class="notep1">注意：</p>
                              <p>不要将此服务与在安装了Oracle数据库的Windows计算机上运行的<code class="codeph">OracleJobScheduler</code>服务混淆，并管理没有凭据的本地外部作业的运行。
                              </p>
                           </div>
                        </div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="administering-oracle-scheduler.html#GUID-DB23873A-5900-40DB-B477-2D6F2721E679" title="Scheduler代理程序是一个独立程序，使您可以在远程主机上计划和运行外部和数据库作业。使用UNIX和Linux上的schagent实用程序以及Windows上的OracleSchedulerExecutionAgent服务启动和停止Scheduler代理。">使用Scheduler Agent执行任务</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div><a id="ADMIN13504"></a><div class="props_rev_3"><a id="GUID-A241CC1F-0269-464B-9D4E-35E30CB8D7B5" name="GUID-A241CC1F-0269-464B-9D4E-35E30CB8D7B5"></a><h6 id="ADMIN-GUID-A241CC1F-0269-464B-9D4E-35E30CB8D7B5" class="sect6"><span class="enumeration_section">30.1.3.3.3</span>启动调度程序代理</h6>
                        <div>
                           <p>启动Scheduler代理可使其所在的主机运行远程作业。</p>
                           <div class="section">
                              <p>要启动Scheduler代理程序：</p>
                           </div>
                           <!-- class="section" -->
                           <div class="section">
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>执行以下操作之一：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p>在UNIX和Linux上，运行以下命令：</p><pre class="oac_no_warn" dir="ltr"><span class="italic">AGENT_HOME</span> / bin / schagent -start</pre></li>
                                       <li>
                                          <p>在Windows上，启动名称以<code class="codeph">OracleSchedulerExecutionAgent</code>结尾的服务。
                                          </p>
                                       </li>
                                    </ul>
                                 </li>
                              </ul>
                           </div>
                           <!-- class="section" -->
                        </div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="administering-oracle-scheduler.html#GUID-DB23873A-5900-40DB-B477-2D6F2721E679" title="Scheduler代理程序是一个独立程序，使您可以在远程主机上计划和运行外部和数据库作业。使用UNIX和Linux上的schagent实用程序以及Windows上的OracleSchedulerExecutionAgent服务启动和停止Scheduler代理。">使用Scheduler Agent执行任务</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div><a id="ADMIN12504"></a><div class="props_rev_3"><a id="GUID-CBEE59AB-5D41-4B24-9053-9035A330AE3D" name="GUID-CBEE59AB-5D41-4B24-9053-9035A330AE3D"></a><h6 id="ADMIN-GUID-CBEE59AB-5D41-4B24-9053-9035A330AE3D" class="sect6"><span class="enumeration_section">30.1.3.3.4</span>停止调度代理</h6>
                        <div>
                           <p>停止Scheduler代理会阻止它所在的主机运行远程作业。</p>
                           <div class="section">
                              <p>要停止Scheduler代理：</p>
                           </div>
                           <!-- class="section" -->
                           <div class="section">
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>执行以下操作之一：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p>在UNIX和Linux上，使用<code class="codeph">-stop</code>或<code class="codeph">-abort</code>选项运行<code class="codeph">schagent</code>实用程序，如<a href="administering-oracle-scheduler.html#GUID-3A288684-0237-4E06-9913-E0F52C98DB8B__BAJBFAEG" title="行是选项;第一列是名称，第二列是描述符">表30-1中所述</a> ：</p><pre class="oac_no_warn" dir="ltr"><span class="italic">AGENT_HOME</span> / bin / schagent -stop</pre></li>
                                       <li>
                                          <p>在Windows上，停止名称以<code class="codeph">OracleSchedulerExecutionAgent</code>结尾的服务。这相当于<code class="codeph">-abort</code>选项。
                                          </p>
                                       </li>
                                    </ul>
                                 </li>
                              </ul>
                           </div>
                           <!-- class="section" -->
                        </div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="administering-oracle-scheduler.html#GUID-DB23873A-5900-40DB-B477-2D6F2721E679" title="Scheduler代理程序是一个独立程序，使您可以在远程主机上计划和运行外部和数据库作业。使用UNIX和Linux上的schagent实用程序以及Windows上的OracleSchedulerExecutionAgent服务启动和停止Scheduler代理。">使用Scheduler Agent执行任务</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div><a id="ADMIN13505"></a><div class="props_rev_3"><a id="GUID-F5109C9D-04C9-488C-A6E4-1DAF66ECB4ED" name="GUID-F5109C9D-04C9-488C-A6E4-1DAF66ECB4ED"></a><h6 id="ADMIN-GUID-F5109C9D-04C9-488C-A6E4-1DAF66ECB4ED" class="sect6"><span class="enumeration_section">30.1.3.3.5</span>使用数据库注册调度程序代理程序</h6>
                        <div>
                           <p>完成Scheduler Agent的配置后，可以在一个或多个要运行远程作业的数据库上注册Agent。</p>
                           <div class="section">
                              <p>您也可以稍后登录并使用其他数据库注册代理。</p>
                           </div>
                           <!-- class="section" -->
                           <ol>
                              <li class="stepexpand"><span>如果您已经注销，则登录到运行Scheduler代理的主机，如下所示：</span><div>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p>对于Windows，请以管理员身份登录。</p>
                                       </li>
                                       <li>
                                          <p>对于UNIX和Linux，请以安装Scheduler代理的用户身份登录。</p>
                                       </li>
                                    </ul>
                                 </div>
                              </li>
                              <li class="stepexpand"><span>对要在其上注册Scheduler代理的每个数据库使用以下命令：</span><div>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p>在UNIX和Linux上，运行以下命令：</p><pre class="oac_no_warn" dir="ltr"><span class="italic">AGENT_HOME</span> / bin / schagent <span class="italic">-registerdatabase</span> <span class="italic">db_host db_http（s）_port</span>
</pre></li>
                                       <li>
                                          <p>在Windows上，运行以下命令：</p><pre class="oac_no_warn" dir="ltr"><span class="italic">AGENT_HOME /bin/schagent.exe</span> -registerdatabase <span class="italic">db_host</span> <span class="italic">db_http（s）_port</span>
</pre></li>
                                    </ul>
                                    <p>哪里：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p><span class="italic"><code class="codeph">db_host</code></span>是数据库所在主机的主机名或IP地址。在Oracle Real Application Clusters环境中，您可以指定任何节点。
                                          </p>
                                       </li>
                                       <li>
                                          <p><span class="italic"><code class="codeph">db_http(s)_port</code></span>是数据库侦听HTTP（S）连接的端口号。您可以在<span class="q">“ <a href="administering-oracle-scheduler.html#GUID-EC2A7EE4-1459-4627-93E7-7EF80F14355B" title="您可以为远程作业设置数据库并禁用远程作业的数据库。">启用和禁用远程作业的数据库</a> ”中</span>先前设置此参数。您可以通过向数据库提交以下SQL语句来检查端口号：</p>
                                          <p>对于HTTP连接：</p><pre class="oac_no_warn" dir="ltr">SELECT DBMS_XDB_CONFIG.GETHTTPPORT（）FROM DUAL;</pre><p>对于HTTPS连接：</p><pre class="oac_no_warn" dir="ltr">SELECT DBMS_XDB_CONFIG.GETHTTPSPORT（）FROM DUAL;</pre><p>端口号为0表示禁用HTTP（S）连接。</p>
                                       </li>
                                    </ul>
                                    <p>代理会提示您输入在<span class="q">“ <a href="administering-oracle-scheduler.html#GUID-EC2A7EE4-1459-4627-93E7-7EF80F14355B" title="您可以为远程作业设置数据库并禁用远程作业的数据库。">为远程作业启用和禁用数据库</a> ”中</span>设置的代理注册密码。
                                    </p>
                                    <p>从Oracle Database 18c开始，代理会自动确定端口是否配置为使用HTTP或HTTPS连接。对于HTTPS连接，代理还会提示您选择要添加为受信任证书的任何不受信任的证书。</p>
                                 </div>
                              </li>
                              <li class="stepexpand"><span>对任何其他数据库重复上述步骤，以在代理程序的主机上运行远程作业。</span></li>
                           </ol>
                        </div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="administering-oracle-scheduler.html#GUID-DB23873A-5900-40DB-B477-2D6F2721E679" title="Scheduler代理程序是一个独立程序，使您可以在远程主机上计划和运行外部和数据库作业。使用UNIX和Linux上的schagent实用程序以及Windows上的OracleSchedulerExecutionAgent服务启动和停止Scheduler代理。">使用Scheduler Agent执行任务</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                  </div>
               </div>
            </div><a id="ADMIN12036"></a><div class="props_rev_3"><a id="GUID-A141EC1B-0610-4C9F-B312-966E334B16D8" name="GUID-A141EC1B-0610-4C9F-B312-966E334B16D8"></a><h3 id="ADMIN-GUID-A141EC1B-0610-4C9F-B312-966E334B16D8" class="sect3"><span class="enumeration_section">30.2</span>监视和管理调度程序</h3>
               <p>您可以查看当前活动的窗口以及与其关联的资源计划，查看有关当前正在运行的作业的信息，监视和管理窗口和作业日志以及管理计划程序安全性。</p>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="administering-oracle-scheduler.html#GUID-B07A35E9-7F3A-4C38-A6C6-DF0FD8AFC446">查看当前活动的窗口和资源计划</a><br>您可以通过查询<code class="codeph">DBA_SCHEDULER_WINDOWS</code>视图来查看当前活动的窗口以及与之关联的计划。
                     </li>
                     <li class="ulchildlink"><a href="administering-oracle-scheduler.html#GUID-587763F2-9D41-4CAD-871E-DB2BA8711BF0">查找有关当前正在运行的作业的信息</a><br>您可以通过查询<code class="codeph">DBA_SCHEDULER_JOBS</code>视图来检查作业的状态。
                     </li>
                     <li class="ulchildlink"><a href="administering-oracle-scheduler.html#GUID-70A0379C-99CE-4508-947F-BE7EA3D45A13">监视和管理窗口和作业日志</a><br>Scheduler支持两种日志：作业日志和窗口日志。
                     </li>
                     <li class="ulchildlink"><a href="administering-oracle-scheduler.html#GUID-1B04DF9A-8C22-4608-BC4A-442831B9B447">管理调度程序安全性</a><br>您应该根据用户将执行的调度程序操作向用户授予适当的权限。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="administering-oracle-scheduler.html#GUID-5271609E-3476-4E4A-A28F-8E9776D2B20A" title="您可以配置，管理，监视Oracle Scheduler并对其进行故障排除。">管理Oracle Scheduler</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN12037"></a><div class="props_rev_3"><a id="GUID-B07A35E9-7F3A-4C38-A6C6-DF0FD8AFC446" name="GUID-B07A35E9-7F3A-4C38-A6C6-DF0FD8AFC446"></a><h4 id="ADMIN-GUID-B07A35E9-7F3A-4C38-A6C6-DF0FD8AFC446" class="sect4"><span class="enumeration_section">30.2.1</span>查看当前活动的窗口和资源计划</h4>
                  <div>
                     <p>您可以通过查询<code class="codeph">DBA_SCHEDULER_WINDOWS</code>视图来查看当前活动的窗口以及与之关联的计划。
                     </p>
                     <div class="section">
                        <p>例如，发出以下语句：</p><pre class="oac_no_warn" dir="ltr">SELECT WINDOW_NAME，RESOURCE_PLAN FROM DBA_SCHEDULER_WINDOWS WHERE ACTIVE ='TRUE'; WINDOW_NAME RESOURCE_PLAN ------------------------------ ------------------ -------- MY_WINDOW10 MY_RESOURCEPLAN1</pre><p>如果没有活动窗口，您可以通过发出以下语句来查看活动资源计划：</p><pre class="oac_no_warn" dir="ltr">SELECT * FROM V $ RSRC_PLAN;</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="administering-oracle-scheduler.html#GUID-A141EC1B-0610-4C9F-B312-966E334B16D8" title="您可以查看当前活动的窗口以及与其关联的资源计划，查看有关当前正在运行的作业的信息，监视和管理窗口和作业日志以及管理计划程序安全性。">监视和管理调度程序</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN13110"></a><a id="ADMIN12038"></a><div class="props_rev_3"><a id="GUID-587763F2-9D41-4CAD-871E-DB2BA8711BF0" name="GUID-587763F2-9D41-4CAD-871E-DB2BA8711BF0"></a><h4 id="ADMIN-GUID-587763F2-9D41-4CAD-871E-DB2BA8711BF0" class="sect4"><span class="enumeration_section">30.2.2</span>查找当前正在运行的作业的信息</h4>
                  <div>
                     <p>您可以通过查询<code class="codeph">DBA_SCHEDULER_JOBS</code>视图来检查作业的状态。
                     </p>
                     <div class="section">
                        <p>例如，发出以下语句：</p><pre class="oac_no_warn" dir="ltr">SELECT JOB_NAME，STATE FROM DBA_SCHEDULER_JOBS WHERE JOB_NAME ='MY_EMP_JOB1'; JOB_NAME STATE ------------------------------ --------- MY_EMP_JOB1 DISABLED</pre><p>在这种情况下，您可以使用<code class="codeph">ENABLE</code>过程启用作业。<a href="administering-oracle-scheduler.html#GUID-587763F2-9D41-4CAD-871E-DB2BA8711BF0__G1017472" title="第1列包含作业状态的可能值，第2列解释了状态的含义。">表30-2</a>显示了作业状态的有效值。
                        </p>
                        <div class="tblformal" id="GUID-587763F2-9D41-4CAD-871E-DB2BA8711BF0__G1017472">
                           <p class="titleintable">表30-2作业状态</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="工作国" width="100%" border="1" summary="Column 1 contains possible vallues for job state, column 2 explains the meaning of the state." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="25%" id="d289610e2128">工作状态</th>
                                    <th align="left" valign="bottom" width="75%" id="d289610e2131">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d289610e2136" headers="d289610e2128 ">
                                       <p><code class="codeph">残</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d289610e2136 d289610e2131 ">
                                       <p>该工作被禁用。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d289610e2144" headers="d289610e2128 ">
                                       <p><code class="codeph">计划</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d289610e2144 d289610e2131 ">
                                       <p>该作业计划执行。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d289610e2152" headers="d289610e2128 ">
                                       <p><code class="codeph">赛跑</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d289610e2152 d289610e2131 ">
                                       <p>该工作目前正在运行。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d289610e2160" headers="d289610e2128 ">
                                       <p><code class="codeph">完成</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d289610e2160 d289610e2131 ">
                                       <p>作业已完成，并且未安排再次运行。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d289610e2168" headers="d289610e2128 ">
                                       <p><code class="codeph">停止</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d289610e2168 d289610e2131 ">
                                       <p>该作业计划运行一次，并在运行时停止。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d289610e2176" headers="d289610e2128 ">
                                       <p><code class="codeph">破碎</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d289610e2176 d289610e2131 ">
                                       <p>工作被打破了。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d289610e2184" headers="d289610e2128 ">
                                       <p><code class="codeph">失败</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d289610e2184 d289610e2131 ">
                                       <p>该工作计划运行一次并失败。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d289610e2192" headers="d289610e2128 ">
                                       <p><code class="codeph">retry</code> <code class="codeph">scheduled</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d289610e2192 d289610e2131 ">
                                       <p>作业至少失败了一次，并且计划执行重试。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d289610e2203" headers="d289610e2128 ">
                                       <p><code class="codeph">成功</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d289610e2203 d289610e2131 ">
                                       <p>该工作计划运行一次并成功完成。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d289610e2211" headers="d289610e2128 ">
                                       <p><code class="codeph">chain_stalled</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d289610e2211 d289610e2131 ">
                                       <p>作业是类型链，没有步骤运行，没有计划运行的步骤，没有事件步骤等待事件，链的<code class="codeph">evaluation_interval</code>设置为<code class="codeph">NULL</code> 。除非有人工干预，否则链中不会取得任何进展。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>您可以通过发出以下语句来检查当前正在运行的作业的进度：</p><pre class="oac_no_warn" dir="ltr">SELECT * FROM ALL_SCHEDULER_RUNNING_JOBS;</pre><p>请注意，要使列<code class="codeph">CPU_USED</code>显示有效数据，必须将初始化参数<code class="codeph">RESOURCE_LIMIT</code>设置为<code class="codeph">true</code> 。
                        </p>
                        <p>您可以在以下位置查看所有工作的状态<a id="d289610e2241" class="indexterm-anchor"></a><a id="d289610e2245" class="indexterm-anchor"></a>通过发出以下语句来访问所有远程和本地目标：</p><pre class="oac_no_warn" dir="ltr">SELECT * FROM DBA_SCHEDULER_JOB_DESTS;</pre><p>您可以通过发出以下语句找到有关作为运行链一部分的作业的信息：</p><pre class="oac_no_warn" dir="ltr">SELECT * FROM ALL_SCHEDULER_RUNNING_CHAINS WHERE JOB_NAME ='MY_JOB1';</pre><p>您可以通过搜索<code class="codeph">cjqNNN</code>表单的进程来检查作业协调器是否正在运行。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-587763F2-9D41-4CAD-871E-DB2BA8711BF0__GUID-48ED3F2D-EA55-4551-B616-258C6A33175E">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="oracle-scheduler-concepts.html#GUID-6834E451-C8C9-425E-A93D-264733E36A76" title="多目标作业是一个作业，其实例在多个目标数据库或主机上运行，但可以从一个中央数据库进行控制和监视。">多目标工作</a> ”</span></p>
                           </li>
                           <li>
                              <p>有关<code class="codeph">*_SCHEDULER_RUNNING_JOBS</code>视图的详细信息，请<a href="../refrn/ALL_SCHEDULER_RUNNING_JOBS.html#REFRN20387" target="_blank"><span class="italic">参见Oracle数据库参考</span></a></p>
                           </li>
                           <li>
                              <p>有关<code class="codeph">*_SCHEDULER_JOBS</code>视图的详细信息，请<a href="../refrn/ALL_SCHEDULER_JOBS.html#REFRN20348" target="_blank"><span class="italic">参见Oracle数据库参考</span></a></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="administering-oracle-scheduler.html#GUID-A141EC1B-0610-4C9F-B312-966E334B16D8" title="您可以查看当前活动的窗口以及与其关联的资源计划，查看有关当前正在运行的作业的信息，监视和管理窗口和作业日志以及管理计划程序安全性。">监视和管理调度程序</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN12039"></a><div class="props_rev_3"><a id="GUID-70A0379C-99CE-4508-947F-BE7EA3D45A13" name="GUID-70A0379C-99CE-4508-947F-BE7EA3D45A13"></a><h4 id="ADMIN-GUID-70A0379C-99CE-4508-947F-BE7EA3D45A13" class="sect4"><span class="enumeration_section">30.2.3</span>监视和管理窗口和作业日志</h4>
                  <p>Scheduler支持两种日志：作业日志和窗口日志。</p>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="administering-oracle-scheduler.html#GUID-2CAEED36-8990-4852-88D7-95438DA6758B">工作日志</a><br>您可以在作业日志中查看有关作业运行，作业状态更改和作业失败的信息。
                        </li>
                        <li class="ulchildlink"><a href="administering-oracle-scheduler.html#GUID-2CAA0211-0F4E-4AE5-96E5-6F259474982B">窗口日志</a><br>窗口日志记录窗口上的操作。
                        </li>
                        <li class="ulchildlink"><a href="administering-oracle-scheduler.html#GUID-4C70E8AE-0494-4862-8F85-C9F37ACC3884">清除日志</a><br>要防止作业和窗口日志不加区分地增长，请使用<code class="codeph">SET_SCHEDULER_ATTRIBUTE</code>过程指定要保留的历史记录（以天为单位）。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="administering-oracle-scheduler.html#GUID-A141EC1B-0610-4C9F-B312-966E334B16D8" title="您可以查看当前活动的窗口以及与其关联的资源计划，查看有关当前正在运行的作业的信息，监视和管理窗口和作业日志以及管理计划程序安全性。">监视和管理调度程序</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADMIN12520"></a><div class="props_rev_3"><a id="GUID-2CAEED36-8990-4852-88D7-95438DA6758B" name="GUID-2CAEED36-8990-4852-88D7-95438DA6758B"></a><h5 id="ADMIN-GUID-2CAEED36-8990-4852-88D7-95438DA6758B" class="sect5"><span class="enumeration_section">30.2.3.1</span>工作日志</h5>
                     <div>
                        <p>您可以在作业日志中查看有关作业运行，作业状态更改和作业失败的信息。</p>
                        <div class="section">
                           <p>作业日志实现为以下两个数据字典视图：</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">* _SCHEDULER_JOB_LOG</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">* _SCHEDULER_JOB_RUN_DETAILS</code></p>
                              </li>
                           </ul>
                           <p>您可以控制调度程序在作业类和单个作业级别的作业上执行的日志记录量。通常，您可以在类级别控制日志记录，因为这样可以更好地控制类中作业的日志记录。</p>
                           <p>有关各种日志记录级别的定义以及有关作业与其作业类之间的日志记录级别优先级的信息，请参阅<span class="q">“ <a href="scheduling-jobs-with-oracle-scheduler.html#GUID-90A26490-435F-42C9-ADCB-D3D81AB2E81C" title="您可以在作业日志中查看有关作业运行，作业状态更改和作业失败的信息。作业日志显示本地和远程作业的结果。">查看作业日志</a> ”</span> 。默认情况下，作业类的日志记录级别为<code class="codeph">LOGGING_RUNS</code> ，这会导致记录所有作业运行。
                           </p>
                           <p>您可以在创建作业类时设置<code class="codeph">logging_level</code>属性，也可以使用<code class="codeph">SET_ATTRIBUTE</code>过程稍后更改日志记录级别。以下示例将<code class="codeph">myclass1</code>作业类中作业的日志记录级别设置为<code class="codeph">LOGGING_FAILED_RUNS</code> ，这意味着仅记录失败的运行。请注意，所有作业类都在<code class="codeph">SYS</code>模式中。
                           </p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_SCHEDULER.SET_ATTRIBUTE（'sys.myclass1'，'logging_level'，DBMS_SCHEDULER.LOGGING_FAILED_RUNS）;结束; /</pre><p>必须授予<code class="codeph">MANAGE</code> <code class="codeph">SCHEDULER</code>权限才能设置作业类的日志记录级别。
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-2CAEED36-8990-4852-88D7-95438DA6758B__GUID-F01B39FE-CAF6-4493-B994-12F3C3A4E2A8">
                           <p class="notep1">也可以看看：</p>
                           <p></p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="q">“ <a href="scheduling-jobs-with-oracle-scheduler.html#GUID-90A26490-435F-42C9-ADCB-D3D81AB2E81C" title="您可以在作业日志中查看有关作业运行，作业状态更改和作业失败的信息。作业日志显示本地和远程作业的结果。">查看作业日志</a> ”</span>以获取有关作业日志的更多详细信息以及针对作业日志视图的查询示例</p>
                              </li>
                              <li>
                                 <p>有关<code class="codeph">*_SCHEDULER_JOB_LOG</code>视图的详细信息，请参阅<a href="../refrn/ALL_SCHEDULER_JOB_LOG.html#REFRN20347" target="_blank"><span class="italic">Oracle数据库参考</span></a></p>
                              </li>
                              <li>
                                 <p>有关<code class="codeph">*_SCHEDULER_JOB_RUN_DETAILS</code>视图的详细信息，请参阅<a href="../refrn/ALL_SCHEDULER_JOB_RUN_DETAILS.html#REFRN20386" target="_blank"><span class="italic">Oracle数据库参考</span></a></p>
                              </li>
                              <li>
                                 <p>有关<code class="codeph">CREATE_JOB_CLASS</code>和<code class="codeph">SET_ATTRIBUTE</code>过程的详细信息，请<code class="codeph">CREATE_JOB_CLASS</code> <a href="../arpls/DBMS_SCHEDULER.html#ARPLS72273" target="_blank"><span class="italic">Oracle Database PL / SQL包和类型参考</span></a></p>
                              </li>
                              <li>
                                 <p><span class="q">“ <a href="administering-oracle-scheduler.html#GUID-76FB80A7-737C-4B0F-BE97-FE9F57B6E88C" title="您可以设置多个系统范围的Scheduler首选项。您可以通过在DBMS_SCHEDULER包中使用SET_SCHEDULER_ATTRIBUTE过程设置Scheduler属性来设置这些首选项。">设置计划程序首选项</a> ”</span>以获取有关设置日志条目保留的信息</p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="administering-oracle-scheduler.html#GUID-70A0379C-99CE-4508-947F-BE7EA3D45A13" title="Scheduler支持两种日志：作业日志和窗口日志。">监视和管理窗口和作业日志</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN12043"></a><div class="props_rev_3"><a id="GUID-2CAA0211-0F4E-4AE5-96E5-6F259474982B" name="GUID-2CAA0211-0F4E-4AE5-96E5-6F259474982B"></a><h5 id="ADMIN-GUID-2CAA0211-0F4E-4AE5-96E5-6F259474982B" class="sect5"><span class="enumeration_section">30.2.3.2</span>窗口日志</h5>
                     <div>
                        <p>窗口日志记录窗口上的操作。</p>
                        <div class="section">
                           <p>每次调度程序在窗口日志中生成一个条目：</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>您可以创建或删除窗口</p>
                              </li>
                              <li>
                                 <p>一个窗口打开</p>
                              </li>
                              <li>
                                 <p>窗户关闭</p>
                              </li>
                              <li>
                                 <p>Windows重叠</p>
                              </li>
                              <li>
                                 <p>您启用或禁用窗口</p>
                              </li>
                           </ul>
                           <p>窗口活动日志记录没有日志记录级别。</p>
                           <p>要查看窗口日志的内容，请查询<code class="codeph">DBA_SCHEDULER_WINDOW_LOG</code>视图。以下语句显示此视图的示例输出：</p><pre class="oac_no_warn" dir="ltr">SELECT log_id，to_char（log_date，'DD-MON-YY HH24：MI：SS'）时间戳，window_name，操作FROM DBA_SCHEDULER_WINDOW_LOG; LOG_ID TIMESTAMP WINDOW_NAME操作---------- -------------------- ---------------- -  -------- 4 10/01/2004 15:29:23 WEEKEND_WINDOW CREATE 5 10/01/2004 15:33:01 WEEKEND_WINDOW UPDATE 22 10/06/2004 22:02:48 WEEKNIGHT_WINDOW OPEN 25 10 / 07/2004 06:59:37 WEEKNIGHT_WINDOW CLOSE 26 10/07/2004 22:01:37 WEEKNIGHT_WINDOW OPEN 29 10/08/2004 06:59:51 WEEKNIGHT_WINDOW CLOSE</pre><p><code class="codeph">DBA_SCHEDULER_WINDOWS_DETAILS</code>视图提供有关每个活动窗口的信息，现在已关闭（已完成）。以下语句显示该视图的示例输出：</p><pre class="oac_no_warn" dir="ltr">从DBA_SCHEDULER_WINDOW_DETAILS中选择LOG_ID，WINDOW_NAME，ACTUAL_START_DATE，ACTUAL_DURATION; LOG_ID WINDOW_NAME ACTUAL_START_DATE ACTUAL_DURATION ---------- ---------------- -------------------- ---------------- --------------- 25 WEEKNIGHT_WINDOW 06-OCT-04 10：02.48.832438 PM PST8PDT +000 01:02 ：32 29 WEEKNIGHT_WINDOW 07-OCT-04 10.01.37.025704 PM PST8PDT +000 03:02:00</pre><p>请注意，日志ID在这两种观点相对应，并且在这种情况下，在该行<code class="codeph">DBA_SCHEDULER_WINDOWS_DETAILS</code>查看对应<code class="codeph">CLOSE</code>的操作<code class="codeph">DBA_SCHEDULER_WINDOW_LOG</code>视图。
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-2CAA0211-0F4E-4AE5-96E5-6F259474982B__GUID-38BD5704-326D-4CA4-BB1B-0496D92EE499">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>有关<code class="codeph">*_SCHEDULER_WINDOW_LOG</code>视图的详细信息，请参阅<a href="../refrn/ALL_SCHEDULER_WINDOW_LOG.html#REFRN20351" target="_blank"><span class="italic">Oracle数据库参考</span></a></p>
                              </li>
                              <li>
                                 <p>有关<code class="codeph">DBA_SCHEDULER_WINDOWS_DETAILS</code>视图的详细信息，请<code class="codeph">DBA_SCHEDULER_WINDOWS_DETAILS</code> <a href="../refrn/ALL_SCHEDULER_WINDOW_DETAILS.html#REFRN20388" target="_blank"><span class="italic">Oracle数据库参考</span></a></p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="administering-oracle-scheduler.html#GUID-70A0379C-99CE-4508-947F-BE7EA3D45A13" title="Scheduler支持两种日志：作业日志和窗口日志。">监视和管理窗口和作业日志</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN12703"></a><a id="ADMIN12044"></a><div class="props_rev_3"><a id="GUID-4C70E8AE-0494-4862-8F85-C9F37ACC3884" name="GUID-4C70E8AE-0494-4862-8F85-C9F37ACC3884"></a><h5 id="ADMIN-GUID-4C70E8AE-0494-4862-8F85-C9F37ACC3884" class="sect5"><span class="enumeration_section">30.2.3.3</span>清除日志</h5>
                     <div>
                        <p>要防止作业和窗口日志不加区分地增长，请使用<code class="codeph">SET_SCHEDULER_ATTRIBUTE</code>过程指定要保留的历史记录（以天为单位）。
                        </p>
                        <div class="section">
                           <p>每天一次，Scheduler会自动从作业日志和窗口日志中清除所有早于指定历史记录周期的日志条目。默认历史记录周期为30天。例如，要将历史记录期更改为90天，请发出以下声明：</p><pre class="oac_no_warn" dir="ltr">DBMS_SCHEDULER.SET_SCHEDULER_ATTRIBUTE（ 'LOG_HISTORY'， '90'）;</pre><p>有些工作班比其他班级更重要。因此，您可以使用特定于类的设置覆盖此全局历史记录设置。例如，假设有三个作业类（ <code class="codeph">class1</code> ， <code class="codeph">class2</code>和<code class="codeph">class3</code> ），并且您希望为窗口日志， <code class="codeph">class1</code>和<code class="codeph">class3</code>保留10天的历史记录，而对于<code class="codeph">class2</code> <code class="codeph">class3</code> 30天。为此，请发出以下声明：</p><pre class="oac_no_warn" dir="ltr">DBMS_SCHEDULER.SET_SCHEDULER_ATTRIBUTE（ 'LOG_HISTORY'， '10'）; DBMS_SCHEDULER.SET_ATTRIBUTE（ '等级2'， 'LOG_HISTORY'， '30'）;</pre><p>您还可以在创建作业类时设置特定于类的历史记录。</p>
                           <p>请注意，在清除主链作业的条目之前，不会清除与链运行步骤相关的日志条目。</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-4C70E8AE-0494-4862-8F85-C9F37ACC3884__GUID-1AD60146-3730-45BC-A7FB-7AC4C9C47955">手动清除日志</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p><code class="codeph">PURGE_LOG</code>过程使您可以手动清除日志。例如，以下语句将清除作业和窗口日志中的所有条目：</p><pre class="oac_no_warn" dir="ltr">DBMS_SCHEDULER.PURGE_LOG（）;</pre><p>另一个示例如下，它清除了慢跑日志中超过三天的所有条目。窗口日志不受此语句的影响。</p><pre class="oac_no_warn" dir="ltr">DBMS_SCHEDULER.PURGE_LOG（log_history =&gt; 3，which_log =&gt;'JOB_LOG'）;</pre><p>以下语句清除所有超过10天的窗口日志条目以及与<code class="codeph">job1</code>和<code class="codeph">class2</code>的作业相关的所有超过10天的作业日志条目：</p><pre class="oac_no_warn" dir="ltr">DBMS_SCHEDULER.PURGE_LOG（log_history =&gt; 10，job_name =&gt;'job1，sys.class2'）;</pre></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="administering-oracle-scheduler.html#GUID-70A0379C-99CE-4508-947F-BE7EA3D45A13" title="Scheduler支持两种日志：作业日志和窗口日志。">监视和管理窗口和作业日志</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="ADMIN12047"></a><div class="props_rev_3"><a id="GUID-1B04DF9A-8C22-4608-BC4A-442831B9B447" name="GUID-1B04DF9A-8C22-4608-BC4A-442831B9B447"></a><h4 id="ADMIN-GUID-1B04DF9A-8C22-4608-BC4A-442831B9B447" class="sect4"><span class="enumeration_section">30.2.4</span>管理调度程序安全性</h4>
                  <div>
                     <p>您应该根据用户将执行的调度程序操作向用户授予适当的权限。</p>
                     <p>您应该将<code class="codeph">CREATE</code> <code class="codeph">JOB</code>系统特权授予需要能够使用调度程序来计划和运行作业的常规用户。您应该将<code class="codeph">MANAGE</code> <code class="codeph">SCHEDULER</code>授予需要管理系统资源的任何数据库管理员。严格授予任何其他Scheduler系统特权或角色。特别是， <code class="codeph">CREATE</code> <code class="codeph">ANY</code> <code class="codeph">JOB</code>系统特权和包含它的<code class="codeph">SCHEDULER_ADMIN</code>角色非常强大，因为它们允许像任何用户一样执行代码。它们只应授予非常强大的角色或用户。
                     </p>
                     <p>从安全角度来看，处理外部工作是一个特别重要的问题。只有那些需要在数据库之外运行作业的用户才能被授予<code class="codeph">CREATE EXTERNAL JOB</code>系统特权，允许他们这样做。调度程序的安全性没有其他特殊要求。有关安全性的详细信息，请参见<a href="../dbseg/index.html" target="_blank"><span class="italic">Oracle Database Security Guide</span></a> 。
                     </p>
                     <p>如果用户需要创建凭据以将其作业验证到操作系统或远程数据库，请为其授予<code class="codeph">CREATE</code> <code class="codeph">CREDENTIAL</code>系统特权。
                     </p>
                     <div class="infoboxnote" id="GUID-1B04DF9A-8C22-4608-BC4A-442831B9B447__GUID-213CEF46-A07E-42D2-99DD-72505611A58D">
                        <p class="notep1">注意：</p>
                        <p>从Oracle数据库<span class="italic">10g</span>第1版（10.1）升级到Oracle数据库<span class="italic">10g</span>第2版（10.2）或更高版本时， <code class="codeph">CREATE EXTERNAL JOB</code>会自动授予具有<code class="codeph">CREATE JOB</code>权限的所有用户和角色。Oracle建议您从不需要它的用户撤消此权限。
                        </p>
                     </div>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="administering-oracle-scheduler.html#GUID-A141EC1B-0610-4C9F-B312-966E334B16D8" title="您可以查看当前活动的窗口以及与其关联的资源计划，查看有关当前正在运行的作业的信息，监视和管理窗口和作业日志以及管理计划程序安全性。">监视和管理调度程序</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADMIN12052"></a><div class="props_rev_3"><a id="GUID-D44BB9BD-68FE-40AE-B302-30820B769415" name="GUID-D44BB9BD-68FE-40AE-B302-30820B769415"></a><h3 id="ADMIN-GUID-D44BB9BD-68FE-40AE-B302-30820B769415" class="sect3"><span class="enumeration_section">30.3</span>导入/导出和调度程序</h3>
               <div>
                  <p>您必须使用数据泵实用程序（ <code class="codeph">impdp</code>和<code class="codeph">expdp</code> ）来导出Scheduler对象。
                  </p>
                  <p>您不能将早期的导入/导出实用程序（ <code class="codeph">IMP</code>和<code class="codeph">EXP</code> ）与调度程序一起使用。此外，在数据库处于只读模式时，无法导出Scheduler对象。
                  </p>
                  <p>导出生成用于创建Scheduler对象的DDL。导出所有属性。导入完成后，将在新数据库中重新创建所有数据库对象。所有计划都与其时区一起存储，这些时区在新数据库中维护。例如，如果将其导出并导入德国的数据库，则“旧金山数据库中的太平洋标准时间下午1点”的计划表将是相同的。</p>
                  <p>虽然导出了Scheduler凭据，但出于安全原因，不会导出这些凭据中的密码。导入调度程序凭据后，必须使用<code class="codeph">DBMS_SCHEDULER</code>程序包的<code class="codeph">SET_ATTRIBUTE</code>过程重置密码。
                  </p>
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-D44BB9BD-68FE-40AE-B302-30820B769415__GUID-15220068-39BB-436A-8273-91B7E9EF71A9">
                     <p class="notep1">也可以看看：</p>
                     <p>有关Data Pump的详细信息，请参见<a href="../sutil/oracle-data-pump.html#SUTIL2877" target="_blank"><span class="italic">Oracle数据库实用程</span></a></p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="administering-oracle-scheduler.html#GUID-5271609E-3476-4E4A-A28F-8E9776D2B20A" title="您可以配置，管理，监视Oracle Scheduler并对其进行故障排除。">管理Oracle Scheduler</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADMIN12053"></a><div class="props_rev_3"><a id="GUID-E26BCDEC-7ACB-4410-A0DC-8CF03F6C0B2B" name="GUID-E26BCDEC-7ACB-4410-A0DC-8CF03F6C0B2B"></a><h3 id="ADMIN-GUID-E26BCDEC-7ACB-4410-A0DC-8CF03F6C0B2B" class="sect3"><span class="enumeration_section">30.4</span>排定计划程序故障</h3>
               <p>您可以解决Scheduler问题。</p>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="administering-oracle-scheduler.html#GUID-34EB5A12-246F-4504-9A89-5550E6835817">作业无法运行</a><br>由于多种原因，工作可能无法运行。
                     </li>
                     <li class="ulchildlink"><a href="administering-oracle-scheduler.html#GUID-F0BAA825-1981-4B30-AA41-EFE5C010BD86">程序被禁用</a><br>如果删除程序参数或更改<code class="codeph">number_of_arguments</code>以便不再定义所有参数，则可以禁用程序。
                     </li>
                     <li class="ulchildlink"><a href="administering-oracle-scheduler.html#GUID-F46E7F4E-0006-431A-9448-58B4D4152423">窗口无法生效</a><br>窗口因各种原因无法生效。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="administering-oracle-scheduler.html#GUID-5271609E-3476-4E4A-A28F-8E9776D2B20A" title="您可以配置，管理，监视Oracle Scheduler并对其进行故障排除。">管理Oracle Scheduler</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN12054"></a><div class="props_rev_3"><a id="GUID-34EB5A12-246F-4504-9A89-5550E6835817" name="GUID-34EB5A12-246F-4504-9A89-5550E6835817"></a><h4 id="ADMIN-GUID-34EB5A12-246F-4504-9A89-5550E6835817" class="sect4"><span class="enumeration_section">30.4.1</span>作业无法运行</h4>
                  <div>
                     <p>由于多种原因，工作可能无法运行。</p>
                     <p>要开始对您怀疑未运行的作业进行故障排除，请通过发出以下语句来检查作业状态：</p><pre class="oac_no_warn" dir="ltr">SELECT JOB_NAME，STATE FROM DBA_SCHEDULER_JOBS;</pre><p>典型输出类似于以下内容：</p><pre class="oac_no_warn" dir="ltr">JOB_NAME STATE ------------------------------ --------- MY_EMP_JOB DISABLED MY_EMP_JOB1 FAILED MY_NEW_JOB1已禁用MY_NEW_JOB2已取消MY_NEW_JOB3已完成</pre></div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="administering-oracle-scheduler.html#GUID-3F592972-E264-4C67-B861-DB0829966DA9">关于工作国</a><br>如果作业未运行，则它可能处于以下状态之一：失败，损坏，禁用或已完成。
                        </li>
                        <li class="ulchildlink"><a href="administering-oracle-scheduler.html#GUID-7362B34E-A577-4244-BDCF-084BE9A5BCCE">查看作业日志</a><br>作业日志是一个重要的故障排除工具。
                        </li>
                        <li class="ulchildlink"><a href="administering-oracle-scheduler.html#GUID-75AA55B1-D135-47FB-ABA7-61510B018C29">远程作业疑难解答</a><br>远程作业必须与远程主机上的Scheduler代理成功通信。如果远程作业未运行，请首先检查<code class="codeph">DBA_SCHEDULER_JOBS</code>视图和作业日志。
                        </li>
                        <li class="ulchildlink"><a href="administering-oracle-scheduler.html#GUID-A96D6E20-120D-4F7A-B365-8E4163E40152">关于失败后的工作恢复</a><br>调度程序可以尝试恢复中断的作业。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="administering-oracle-scheduler.html#GUID-E26BCDEC-7ACB-4410-A0DC-8CF03F6C0B2B" title="您可以解决Scheduler问题。">调度程序故障排除</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADMIN13338"></a><div class="props_rev_3"><a id="GUID-3F592972-E264-4C67-B861-DB0829966DA9" name="GUID-3F592972-E264-4C67-B861-DB0829966DA9"></a><h5 id="ADMIN-GUID-3F592972-E264-4C67-B861-DB0829966DA9" class="sect5"><span class="enumeration_section">30.4.1.1</span>关于工作状态</h5>
                     <p>如果作业未运行，则它可能处于以下状态之一：失败，损坏，禁用或已完成。</p>
                     <div>
                        <ul class="ullinks">
                           <li class="ulchildlink"><a href="administering-oracle-scheduler.html#GUID-9F33A340-9AB4-45A2-A2C1-79CA40979361">工作失败</a><br>如果作业在作业表中的状态为<code class="codeph">FAILED</code> ，则计划运行一次但执行失败。如果作业被指定为可重新启动，则所有重试都失败。
                           </li>
                           <li class="ulchildlink"><a href="administering-oracle-scheduler.html#GUID-9D84819E-6B75-4CC1-B906-A22759068AAE">破碎的工作</a><br>破碎的工作是超过一定数量的失败的工作。此数字在<code class="codeph">max_failures</code>设置，可以更改。
                           </li>
                           <li class="ulchildlink"><a href="administering-oracle-scheduler.html#GUID-2A621112-D621-40D1-807B-32E26C7D183C">残疾人工作</a><br>由于多种原因，工作可能会被禁用。
                           </li>
                           <li class="ulchildlink"><a href="administering-oracle-scheduler.html#GUID-08C2B9C2-1021-46A6-9587-7321A05B1D38">完成工作</a><br>如果达到<code class="codeph">end_date</code>或<code class="codeph">max_runs</code>则将完成作业。
                           </li>
                        </ul>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="administering-oracle-scheduler.html#GUID-34EB5A12-246F-4504-9A89-5550E6835817" title="由于多种原因，工作可能无法运行。">作业不运行</a></p>
                           </div>
                        </div>
                     </div>
                     <a id="ADMIN12055"></a><div class="props_rev_3"><a id="GUID-9F33A340-9AB4-45A2-A2C1-79CA40979361" name="GUID-9F33A340-9AB4-45A2-A2C1-79CA40979361"></a><h6 id="ADMIN-GUID-9F33A340-9AB4-45A2-A2C1-79CA40979361" class="sect6"><span class="enumeration_section">30.4.1.1.1</span>失败的工作</h6>
                        <div>
                           <p>如果作业在作业表中的状态为<code class="codeph">FAILED</code> ，则计划运行一次但执行失败。如果作业被指定为可重新启动，则所有重试都失败。
                           </p>
                           <p>如果作业在执行过程中失败，则仅回滚该作业的最后一个事务。如果您的作业执行多个事务，那么您必须小心将<code class="codeph">restartable</code>设置为<code class="codeph">TRUE</code> 。您可以通过查询<code class="codeph">*_SCHEDULER_JOB_RUN_DETAILS</code>视图来查询失败的作业。
                           </p>
                        </div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="administering-oracle-scheduler.html#GUID-3F592972-E264-4C67-B861-DB0829966DA9" title="如果作业未运行，则它可能处于以下状态之一：失败，损坏，禁用或已完成。">关于作业状态</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div><a id="ADMIN12056"></a><div class="props_rev_3"><a id="GUID-9D84819E-6B75-4CC1-B906-A22759068AAE" name="GUID-9D84819E-6B75-4CC1-B906-A22759068AAE"></a><h6 id="ADMIN-GUID-9D84819E-6B75-4CC1-B906-A22759068AAE" class="sect6"><span class="enumeration_section">30.4.1.1.2</span>工作中断</h6>
                        <div>
                           <p>破碎的工作是超过一定数量的失败的工作。此数字在<code class="codeph">max_failures</code>设置，可以更改。
                           </p>
                           <p>如果作业中断，整个作业都会中断，并且在修复之后才会运行。对于调试和测试，您可以使用<code class="codeph">RUN_JOB</code>过程。
                           </p>
                           <p>您可以通过查询<code class="codeph">*_SCHEDULER_JOBS</code>和<code class="codeph">*_SCHEDULER_JOB_LOG</code>视图来查询损坏的作业。
                           </p>
                        </div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="administering-oracle-scheduler.html#GUID-3F592972-E264-4C67-B861-DB0829966DA9" title="如果作业未运行，则它可能处于以下状态之一：失败，损坏，禁用或已完成。">关于作业状态</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div><a id="ADMIN12057"></a><div class="props_rev_3"><a id="GUID-2A621112-D621-40D1-807B-32E26C7D183C" name="GUID-2A621112-D621-40D1-807B-32E26C7D183C"></a><h6 id="ADMIN-GUID-2A621112-D621-40D1-807B-32E26C7D183C" class="sect6"><span class="enumeration_section">30.4.1.1.3</span>禁用作业</h6>
                        <div>
                           <p>由于多种原因，工作可能会被禁用。</p>
                           <p>原因包括：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>该作业被手动禁用</p>
                              </li>
                              <li>
                                 <p>它所属的工作类已被删除</p>
                              </li>
                              <li>
                                 <p>它指向的程序，链或计划被删除</p>
                              </li>
                              <li>
                                 <p>窗口或窗口组是其计划，并且窗口或窗口组被删除</p>
                              </li>
                           </ul>
                        </div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="administering-oracle-scheduler.html#GUID-3F592972-E264-4C67-B861-DB0829966DA9" title="如果作业未运行，则它可能处于以下状态之一：失败，损坏，禁用或已完成。">关于作业状态</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div><a id="ADMIN12058"></a><div class="props_rev_3"><a id="GUID-08C2B9C2-1021-46A6-9587-7321A05B1D38" name="GUID-08C2B9C2-1021-46A6-9587-7321A05B1D38"></a><h6 id="ADMIN-GUID-08C2B9C2-1021-46A6-9587-7321A05B1D38" class="sect6"><span class="enumeration_section">30.4.1.1.4</span>完成的工作</h6>
                        <div>
                           <p>如果达到<code class="codeph">end_date</code>或<code class="codeph">max_runs</code>则将完成作业。
                           </p>
                           <p>如果作业最近成功完成但计划再次运行，则作业状态为<code class="codeph">SCHEDULED</code> 。</p>
                        </div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="administering-oracle-scheduler.html#GUID-3F592972-E264-4C67-B861-DB0829966DA9" title="如果作业未运行，则它可能处于以下状态之一：失败，损坏，禁用或已完成。">关于作业状态</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                  </div><a id="ADMIN13339"></a><div class="props_rev_3"><a id="GUID-7362B34E-A577-4244-BDCF-084BE9A5BCCE" name="GUID-7362B34E-A577-4244-BDCF-084BE9A5BCCE"></a><h5 id="ADMIN-GUID-7362B34E-A577-4244-BDCF-084BE9A5BCCE" class="sect5"><span class="enumeration_section">30.4.1.2</span>查看作业日志</h5>
                     <div>
                        <p>作业日志是一个重要的故障排除工具。</p>
                        <p>有关详细信息和说明，请参阅<span class="q">“ <a href="scheduling-jobs-with-oracle-scheduler.html#GUID-90A26490-435F-42C9-ADCB-D3D81AB2E81C" title="您可以在作业日志中查看有关作业运行，作业状态更改和作业失败的信息。作业日志显示本地和远程作业的结果。">查看作业日志</a> ”</span> 。
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="administering-oracle-scheduler.html#GUID-34EB5A12-246F-4504-9A89-5550E6835817" title="由于多种原因，工作可能无法运行。">作业不运行</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN13340"></a><div class="props_rev_3"><a id="GUID-75AA55B1-D135-47FB-ABA7-61510B018C29" name="GUID-75AA55B1-D135-47FB-ABA7-61510B018C29"></a><h5 id="ADMIN-GUID-75AA55B1-D135-47FB-ABA7-61510B018C29" class="sect5"><span class="enumeration_section">30.4.1.3</span>远程作业故障排除</h5>
                     <div>
                        <p>远程作业必须与远程主机上的Scheduler代理成功通信。如果远程作业未运行，请首先检查<code class="codeph">DBA_SCHEDULER_JOBS</code>视图和作业日志。
                        </p>
                        <div class="section">
                           <p>然后执行以下任务：</p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>使用<code class="codeph">nslookup</code>和<code class="codeph">ping</code>等工具检查远程系统是否可通过网络访问。</span></li>
                           <li class="stepexpand"><span>通过调用<code class="codeph">GET_AGENT_VERSION</code>包过程来检查远程主机上的Scheduler代理的状态。</span><div><pre class="oac_no_warn" dir="ltr">DECLARE versionnum VARCHAR2（30）; BEGIN versionnum：= DBMS_SCHEDULER.GET_AGENT_VERSION（'remote_host.example.com'）; DBMS_OUTPUT.PUT_LINE（versionnum）;结束; /</pre><p>如果生成错误，则可能未安装代理或未向本地数据库注册代理。有关安装，注册和启动Scheduler代理的说明，请参阅<span class="q">“ <a href="administering-oracle-scheduler.html#GUID-73A41E67-CF87-458E-9FA8-157349AA4E3A" title="Oracle Scheduler代理可以计划和运行远程作业。">使用Oracle Scheduler代理运行远程作业</a> ”</span> 。
                                 </p>
                              </div>
                           </li>
                        </ol>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="administering-oracle-scheduler.html#GUID-34EB5A12-246F-4504-9A89-5550E6835817" title="由于多种原因，工作可能无法运行。">作业不运行</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN12059"></a><div class="props_rev_3"><a id="GUID-A96D6E20-120D-4F7A-B365-8E4163E40152" name="GUID-A96D6E20-120D-4F7A-B365-8E4163E40152"></a><h5 id="ADMIN-GUID-A96D6E20-120D-4F7A-B365-8E4163E40152" class="sect5"><span class="enumeration_section">30.4.1.4</span>关于失败后的作业恢复</h5>
                     <div>
                        <p>调度程序可以尝试恢复中断的作业。</p>
                        <p>调度程序尝试恢复在以下情况下中断的作业：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>数据库异常关闭</p>
                           </li>
                           <li>
                              <p>作业从属进程被终止或以其他方式失败</p>
                           </li>
                           <li>
                              <p>对于外部作业，启动可执行文件或脚本的外部作业进程将被终止或以其他方式失败。（外部作业进程在UNIX上是<code class="codeph">extjob</code> 。在Windows上，它是外部作业服务。）
                              </p>
                           </li>
                           <li>
                              <p>对于外部作业，运行最终用户可执行文件或脚本的进程将被终止或以其他方式失败。</p>
                           </li>
                        </ul>
                        <p>工作回收进行如下：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>调度程序为作业日志添加一个条目，用于发生故障时正在运行的作业实例。在日志条目中， <code class="codeph">OPERATION</code>为“ <code class="codeph">RUN</code> ”， <code class="codeph">STATUS</code>为“ <code class="codeph">STOPPED</code> ”， <code class="codeph">ADDITIONAL_INFO</code>包含以下内容之一：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">原因=“作业从属进程终止”</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">REASON =“ORA-01014：ORACLE正在关机”</code></p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p>如果作业的<code class="codeph">restartable</code>设置为<code class="codeph">TRUE</code> ，则重新启动作业。
                              </p>
                           </li>
                           <li>
                              <p>如果作业的<code class="codeph">restartable</code>设置为<code class="codeph">FALSE</code> ：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>如果作业是一次运行作业并且<code class="codeph">auto_drop</code>设置为<code class="codeph">TRUE</code> ，则作业运行完成并且作业被删除。
                                    </p>
                                 </li>
                                 <li>
                                    <p>如果作业是一次运行作业并且<code class="codeph">auto_drop</code>设置为<code class="codeph">FALSE</code> ，则禁用作业并将作业<code class="codeph">state</code>设置为“ <code class="codeph">STOPPED</code> ”。
                                    </p>
                                 </li>
                                 <li>
                                    <p>如果作业是重复作业，调度调度下一个作业运行和工作<code class="codeph">state</code>被设定为“ <code class="codeph">SCHEDULED</code> ”。
                                    </p>
                                 </li>
                              </ul>
                           </li>
                        </ul>
                        <p>作为此恢复过程的结果重新启动作业时，将使用“ <code class="codeph">RECOVERY_RUN</code> ”操作将新运行输入到作业日志中。
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="administering-oracle-scheduler.html#GUID-34EB5A12-246F-4504-9A89-5550E6835817" title="由于多种原因，工作可能无法运行。">作业不运行</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="ADMIN12060"></a><div class="props_rev_3"><a id="GUID-F0BAA825-1981-4B30-AA41-EFE5C010BD86" name="GUID-F0BAA825-1981-4B30-AA41-EFE5C010BD86"></a><h4 id="ADMIN-GUID-F0BAA825-1981-4B30-AA41-EFE5C010BD86" class="sect4"><span class="enumeration_section">30.4.2</span>程序被禁用</h4>
                  <div>
                     <p>如果删除程序参数或更改<code class="codeph">number_of_arguments</code>以便不再定义所有参数，则可以禁用程序。
                     </p>
                     <p>有关<span class="q"><a href="scheduling-jobs-with-oracle-scheduler.html#GUID-4ADA6AC6-FEBA-4D06-8B55-672A88481DEE" title="A program is a collection of metadata about a particular task. You optionally use a program to help define a job.">程序</a></span>的详细信息，请参阅<span class="q">“ <a href="scheduling-jobs-with-oracle-scheduler.html#GUID-4ADA6AC6-FEBA-4D06-8B55-672A88481DEE" title="程序是关于特定任务的元数据的集合。您可以选择使用程序来帮助定义作业。">创建和管理程序以定义作业</a> ”</span> 。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="administering-oracle-scheduler.html#GUID-E26BCDEC-7ACB-4410-A0DC-8CF03F6C0B2B" title="您可以解决Scheduler问题。">调度程序故障排除</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN12061"></a><div class="props_rev_3"><a id="GUID-F46E7F4E-0006-431A-9448-58B4D4152423" name="GUID-F46E7F4E-0006-431A-9448-58B4D4152423"></a><h4 id="ADMIN-GUID-F46E7F4E-0006-431A-9448-58B4D4152423" class="sect4"><span class="enumeration_section">30.4.3</span>窗口无法<span class="enumeration_section">生效</span></h4>
                  <div>
                     <p>窗口因各种原因无法生效。</p>
                     <p>由于以下原因，窗口无法生效：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>当一个窗口在其计划结束时被禁用</p>
                        </li>
                        <li>
                           <p>将禁用指向不再存在的计划的窗口</p>
                        </li>
                     </ul>
                     <p>有关<span class="q"><a href="scheduling-jobs-with-oracle-scheduler.html#GUID-15FA5A41-C7F0-4DFA-A668-07C0265F9550" title="Windows provide a way to automatically activate different resource plans at different times. Running jobs can then see a change in the resources that are allocated to them when there is a change in resource plan.">Windows</a></span>的更多信息，请参阅<span class="q">“ <a href="scheduling-jobs-with-oracle-scheduler.html#GUID-15FA5A41-C7F0-4DFA-A668-07C0265F9550" title="Windows提供了一种在不同时间自动激活不同资源计划的方法。然后，当资源计划发生更改时，正在运行的作业可以看到分配给它们的资源发生更改。">使用Windows管理作业调度和作业优先级</a> ”</span> 。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="administering-oracle-scheduler.html#GUID-E26BCDEC-7ACB-4410-A0DC-8CF03F6C0B2B" title="您可以解决Scheduler问题。">调度程序故障排除</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADMIN12062"></a><div class="props_rev_3"><a id="GUID-45C400A8-4B2D-4855-961F-7D2A2573A235" name="GUID-45C400A8-4B2D-4855-961F-7D2A2573A235"></a><h3 id="ADMIN-GUID-45C400A8-4B2D-4855-961F-7D2A2573A235" class="sect3"><span class="enumeration_section">30.5</span>使用调度程序的示例</h3>
               <p>示例说明使用Scheduler。</p>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="administering-oracle-scheduler.html#GUID-C8467F13-0FA6-4864-A9E3-214562D5E0E3">创建作业类的示例</a><br>示例说明了创建作业类。
                     </li>
                     <li class="ulchildlink"><a href="administering-oracle-scheduler.html#GUID-9C213F8F-7336-4437-B96C-16BF8D085FFB">设置属性的示例</a><br>示例说明了设置属性。
                     </li>
                     <li class="ulchildlink"><a href="administering-oracle-scheduler.html#GUID-8DCF609E-6427-443D-87C6-5B163DE5A410">创建链的示例</a><br>示例说明了创建链。
                     </li>
                     <li class="ulchildlink"><a href="administering-oracle-scheduler.html#GUID-6637FA7A-A8F7-4EA8-9388-939046C7A229">基于事件创建作业和计划的示例</a><br>示例说明了创建基于事件的作业和事件计划。
                     </li>
                     <li class="ulchildlink"><a href="administering-oracle-scheduler.html#GUID-4F4CA1F1-E24C-4C57-AD43-967DDC6677AF">在Oracle Data Guard环境中创建作业的示例</a><br>在Oracle Data Guard环境中，Scheduler包括对两个数据库角色的额外支持：主要和逻辑备用。您可以将作业配置为仅在数据库处于主角色时运行，或仅在数据库处于逻辑备用角色时运行。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="administering-oracle-scheduler.html#GUID-5271609E-3476-4E4A-A28F-8E9776D2B20A" title="您可以配置，管理，监视Oracle Scheduler并对其进行故障排除。">管理Oracle Scheduler</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN13113"></a><a id="ADMIN13114"></a><a id="ADMIN12064"></a><div class="props_rev_3"><a id="GUID-C8467F13-0FA6-4864-A9E3-214562D5E0E3" name="GUID-C8467F13-0FA6-4864-A9E3-214562D5E0E3"></a><h4 id="ADMIN-GUID-C8467F13-0FA6-4864-A9E3-214562D5E0E3" class="sect4"><span class="enumeration_section">30.5.1</span>创建作业类的示例</h4>
                  <div>
                     <p>示例说明了创建作业类。</p>
                     <div class="section">
                        <p>要创建作业类，请使用<code class="codeph">CREATE_JOB_CLASS</code>过程。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-C8467F13-0FA6-4864-A9E3-214562D5E0E3__GUID-F1CDA5C0-6C42-4590-B255-8728F4D451B9">
                        <p class="titleinexample">示例30-1创建作业类</p>
                        <p>以下语句创建一个作业类：</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_SCHEDULER.CREATE_JOB_CLASS（job_class_name =&gt;'my_class1'，service =&gt;'my_service1'，comments =&gt;'这是我的第一个工作班'）;结束; /</pre><p>这<code class="codeph">my_class1</code>在<code class="codeph">SYS</code>创建<code class="codeph">my_class1</code> 。它使用名为<code class="codeph">my_service1</code>的服务。要验证是否已创建作业类，请发出以下语句：</p><pre class="oac_no_warn" dir="ltr">SELECT JOB_CLASS_NAME FROM DBA_SCHEDULER_JOB_CLASSES WHERE JOB_CLASS_NAME ='MY_CLASS1'; JOB_CLASS_NAME ------------------------------ MY_CLASS1</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-C8467F13-0FA6-4864-A9E3-214562D5E0E3__GUID-8CF3167C-43B1-414E-B759-49588F20FAFF">
                        <p class="titleinexample">示例30-2创建作业类</p>
                        <p>以下语句创建一个作业类：</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_SCHEDULER.CREATE_JOB_CLASS（job_class_name =&gt;'finance_jobs'，resource_consumer_group =&gt;'finance_group'，service =&gt;'accounting'，comments =&gt;'所有财务工作'）;结束; /</pre><p>这会在<code class="codeph">SYS</code>创建<code class="codeph">finance_jobs</code> 。它分配名为<code class="codeph">finance_group</code>的资源使用者组，并为<code class="codeph">accounting</code>服务指定服务关联。请注意，如果<code class="codeph">accounting</code>服务映射到<code class="codeph">finance_group</code>以外的资源使用者组，则<code class="codeph">finance_group</code>中的作业将在<code class="codeph">finance_group</code>使用者组下运行，因为<code class="codeph">resource_consumer_group</code>属性优先。
                        </p>
                     </div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-C8467F13-0FA6-4864-A9E3-214562D5E0E3__GUID-A6942EEC-AAEB-43A3-8FA0-E68741673270">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="../arpls/DBMS_SCHEDULER.html#ARPLS72302" target="_blank"><span class="italic">Oracle Database PL / SQL包和类型参考</span></a>有关<code class="codeph">CREATE_JOB_CLASS</code>过程和<span class="q">“ <a href="scheduling-jobs-with-oracle-scheduler.html#GUID-8E370FA8-5CEE-4354-9EB0-71224C6E4938" title="您可以使用DBMS_SCHEDULER包或Cloud Control中的CREATE_JOB_CLASS过程创建作业类。始终在SYS模式中创建作业类。">创建作业类</a> ”</span>的详细信息，以获取更多信息</p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="administering-oracle-scheduler.html#GUID-45C400A8-4B2D-4855-961F-7D2A2573A235" title="示例说明使用Scheduler。">使用调度程序的示例</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN13120"></a><a id="ADMIN13125"></a><a id="ADMIN12068"></a><div class="props_rev_3"><a id="GUID-9C213F8F-7336-4437-B96C-16BF8D085FFB" name="GUID-9C213F8F-7336-4437-B96C-16BF8D085FFB"></a><h4 id="ADMIN-GUID-9C213F8F-7336-4437-B96C-16BF8D085FFB" class="sect4"><span class="enumeration_section">30.5.2</span>设置属性示例</h4>
                  <div>
                     <p>示例说明了设置属性。</p>
                     <div class="section">
                        <p>要设置属性，请使用<code class="codeph">SET_ATTRIBUTE</code>和<code class="codeph">SET_SCHEDULER_ATTRIBUTE</code>过程。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-9C213F8F-7336-4437-B96C-16BF8D085FFB__GUID-8E966BA8-BB12-47C6-A4C9-392F727D8B1D">
                        <p class="titleinexample">示例30-3设置重复间隔属性</p>
                        <p>以下示例重置<code class="codeph">my_emp_job1</code>每天运行的频率：</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_SCHEDULER.SET_ATTRIBUTE（name =&gt;'my_emp_job1'，attribute =&gt;'repeat_interval'，value =&gt;'FREQ = DAILY'）;结束; /</pre><p>要验证更改，请发出以下声明：</p><pre class="oac_no_warn" dir="ltr">SELECT JOB_NAME，REPEAT_INTERVAL FROM DBA_SCHEDULER_JOBS WHERE JOB_NAME ='MY_EMP_JOB1'; JOB_NAME REPEAT_INTERVAL ---------------- --------------- MY_EMP_JOB1 FREQ = DAILY</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-9C213F8F-7336-4437-B96C-16BF8D085FFB__GUID-62F53001-DDA4-4D02-9EBD-1F9B7496C572">
                        <p class="titleinexample">示例30-4为一组作业设置多个作业属性</p>
                        <p>以下示例为五个作业中的每一个设置四个不同的属性：</p><pre class="oac_no_warn" dir="ltr">DECLARE newattr sys.jobattr; newattrarr sys.jobattr_array; j号; BEGIN  - 创建新的JOBATTR数组newattrarr：= sys.jobattr_array（）; - 在数组newattrarr.extend（20）中分配足够的空间; j：= 1; FOR i IN 1..5 LOOP  - 创建并初始化JOBATTR对象类型newattr：= sys.jobattr（job_name =&gt;'TESTJOB'|| to_char（i），attr_name =&gt;'MAX_FAILURES'，attr_value =&gt; 5）; - 将其添加到数组中。newattrarr（j）：= newattr; j：= j + 1; newattr：= sys.jobattr（job_name =&gt;'TESTJOB'|| to_char（i），attr_name =&gt;'COMMENTS'，attr_value =&gt;'测试工作'）; newattrarr（j）：= newattr; j：= j + 1; newattr：= sys.jobattr（job_name =&gt;'TESTJOB'|| to_char（i），attr_name =&gt;'END_DATE'，attr_value =&gt; systimestamp + interval'24'小时）; newattrarr（j）：= newattr; j：= j + 1; newattr：= sys.jobattr（job_name =&gt;'TESTJOB'|| to_char（i），attr_name =&gt;'SCHEDULE_LIMIT'，attr_value =&gt; interval'1'小时）; newattrarr（j）：= newattr; j：= j + 1;结束循环; - 调用SET_JOB_ATTRIBUTES在一个事务DBMS_SCHEDULER.SET_JOB_ATTRIBUTES（newattrarr，'TRANSACTIONAL'）中设置所有20个设置属性;结束; /</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-9C213F8F-7336-4437-B96C-16BF8D085FFB__GUID-54236A82-3ABF-467D-AEE1-7B6869F331AC">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="../arpls/DBMS_SCHEDULER.html#ARPLS72433" target="_blank"><span class="italic">Oracle Database PL / SQL包和类型参考</span></a>有关<code class="codeph">SET_SCHEDULER_ATTRIBUTE</code>过程和<span class="q">“ <a href="administering-oracle-scheduler.html#GUID-76FB80A7-737C-4B0F-BE97-FE9F57B6E88C" title="您可以设置多个系统范围的Scheduler首选项。您可以通过在DBMS_SCHEDULER包中使用SET_SCHEDULER_ATTRIBUTE过程设置Scheduler属性来设置这些首选项。">设置调度程序首选项</a> ”的</span>详细信息</p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="administering-oracle-scheduler.html#GUID-45C400A8-4B2D-4855-961F-7D2A2573A235" title="示例说明使用Scheduler。">使用调度程序的示例</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN13126"></a><a id="ADMIN13127"></a><a id="ADMIN12069"></a><div class="props_rev_3"><a id="GUID-8DCF609E-6427-443D-87C6-5B163DE5A410" name="GUID-8DCF609E-6427-443D-87C6-5B163DE5A410"></a><h4 id="ADMIN-GUID-8DCF609E-6427-443D-87C6-5B163DE5A410" class="sect4"><span class="enumeration_section">30.5.3</span>创建链的示例</h4>
                  <div>
                     <p>示例说明了创建链。</p>
                     <div class="section">
                        <p>要创建链，请使用<code class="codeph">CREATE_CHAIN</code>过程。创建一个链条后，添加步骤与链<code class="codeph">DEFINE_CHAIN_STEP</code>或<code class="codeph">DEFINE_CHAIN_EVENT_STEP</code>程序和定义与规则<code class="codeph">DEFINE_CHAIN_RULE</code>程序。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-8DCF609E-6427-443D-87C6-5B163DE5A410__GUID-906690CB-4184-41E3-A5F5-AF1133254152">
                        <p class="titleinexample">示例30-5创建链</p>
                        <p>以下示例创建一个链，其中<code class="codeph">my_program1</code>在<code class="codeph">my_program2</code>和<code class="codeph">my_program3</code>之前运行。在<code class="codeph">my_program1</code>完成后， <code class="codeph">my_program2</code>和<code class="codeph">my_program3</code>并行运行。
                        </p>
                        <p>此示例的用户必须具有<code class="codeph">CREATE</code> <code class="codeph">EVALUATION</code> <code class="codeph">CONTEXT</code> ， <code class="codeph">CREATE</code> <code class="codeph">RULE</code>和<code class="codeph">CREATE</code> <code class="codeph">RULE</code> <code class="codeph">SET</code>权限。有关详细信息，请参阅<span class="q">“ <a href="administering-oracle-scheduler.html#GUID-1A717964-7183-4E30-8BB8-661A61557613__BAJBEDFI">设置链权限</a> ”</span> 。
                        </p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_SCHEDULER.CREATE_CHAIN（chain_name =&gt;'my_chain1'，rule_set_name =&gt; NULL，evaluation_interval =&gt; NULL，comments =&gt; NULL）;结束; / ---为此链定义三个步骤。必须启用引用的程序。BEGIN DBMS_SCHEDULER.DEFINE_CHAIN_STEP（'my_chain1'，'stepA'，'my_program1'）; DBMS_SCHEDULER.DEFINE_CHAIN_STEP（'my_chain1'，'stepB'，'my_program2'）; DBMS_SCHEDULER.DEFINE_CHAIN_STEP（'my_chain1'，'stepC'，'my_program3'）;结束; / ---为链定义相应的规则。BEGIN DBMS_SCHEDULER.DEFINE_CHAIN_RULE（'my_chain1'，'TRUE'，'START stepA'）; DBMS_SCHEDULER.DEFINE_CHAIN_RULE（'my_chain1'，'stepA COMPLETED'，'启动步骤B，步骤C'）; DBMS_SCHEDULER.DEFINE_CHAIN_RULE（'my_chain1'，'stepB已完成且stepC已完成'，'结束'）;结束; / ---启用链BEGIN DBMS_SCHEDULER.ENABLE（'my_chain1'）;结束; / ---创建一个连锁作业，每天下午1:00启动链.BEGIN DBMS_SCHEDULER.CREATE_JOB（job_name =&gt;'chain_job_1'，job_type =&gt;'CHAIN'，job_action =&gt;'my_chain1'，repeat_interval =&gt;'freq =每日; byhour = 13; byminute = 0; bysecond = 0'，enabled =&gt; TRUE）;结束; /</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-8DCF609E-6427-443D-87C6-5B163DE5A410__GUID-16C66894-2C93-413A-8E00-621B11D390FE">
                        <p class="titleinexample">示例30-6创建链</p>
                        <p>以下示例创建一个首先运行<code class="codeph">my_program1</code>的链。如果成功， <code class="codeph">my_program2</code>运行;否则， <code class="codeph">my_program3</code>运行。
                        </p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_SCHEDULER.CREATE_CHAIN（chain_name =&gt;'my_chain2'，rule_set_name =&gt; NULL，evaluation_interval =&gt; NULL，comments =&gt; NULL）;结束; / ---为此链定义三个步骤。BEGIN DBMS_SCHEDULER.DEFINE_CHAIN_STEP（'my_chain2'，'step1'，'my_program1'）; DBMS_SCHEDULER.DEFINE_CHAIN_STEP（'my_chain2'，'step2'，'my_program2'）; DBMS_SCHEDULER.DEFINE_CHAIN_STEP（'my_chain2'，'step3'，'my_program3'）;结束; / ---为链定义相应的规则。BEGIN DBMS_SCHEDULER.DEFINE_CHAIN_RULE（'my_chain2'，'TRUE'，'START step1'）; DBMS_SCHEDULER.DEFINE_CHAIN_RULE（'my_chain2'，'step1 SUCCEEDED'，'Start step2'）; DBMS_SCHEDULER.DEFINE_CHAIN_RULE（'my_chain2'，'step1已完成且step1未成功'，'开始步骤3'）; DBMS_SCHEDULER.DEFINE_CHAIN_RULE（'my_chain2'，'step2已完成或步骤3已完成'，'结束'）;结束; /</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-8DCF609E-6427-443D-87C6-5B163DE5A410__GUID-A1EC77E0-E5F5-4DB2-8B38-3094839AB967">
                        <p class="notep1">也可以看看：</p>
                        <p>有关<code class="codeph">CREATE_CHAIN</code> ， <code class="codeph">DEFINE_CHAIN_STEP</code>和<code class="codeph">DEFINE_CHAIN_RULE</code>过程以及<span class="q">“ <a href="administering-oracle-scheduler.html#GUID-76FB80A7-737C-4B0F-BE97-FE9F57B6E88C" title="您可以设置多个系统范围的Scheduler首选项。您可以通过在DBMS_SCHEDULER包中使用SET_SCHEDULER_ATTRIBUTE过程设置Scheduler属性来设置这些首选项。">设置调度程序首选项</a> ”的</span>详细信息，请<code class="codeph">CREATE_CHAIN</code> <a href="../arpls/DBMS_SCHEDULER.html#ARPLS72290" target="_blank"><span class="italic">Oracle Database PL / SQL包和类型参考</span></a></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="administering-oracle-scheduler.html#GUID-45C400A8-4B2D-4855-961F-7D2A2573A235" title="示例说明使用Scheduler。">使用调度程序的示例</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN13128"></a><a id="ADMIN13129"></a><a id="ADMIN12070"></a><div class="props_rev_3"><a id="GUID-6637FA7A-A8F7-4EA8-9388-939046C7A229" name="GUID-6637FA7A-A8F7-4EA8-9388-939046C7A229"></a><h4 id="ADMIN-GUID-6637FA7A-A8F7-4EA8-9388-939046C7A229" class="sect4"><span class="enumeration_section">30.5.4</span>基于事件创建作业和计划的示例</h4>
                  <div>
                     <p>示例说明了创建基于事件的作业和事件计划。</p>
                     <div class="section">
                        <p>要创建基于事件的作业，请使用<code class="codeph">CREATE_JOB</code>过程。要创建基于事件的计划，请使用<code class="codeph">CREATE_EVENT_SCHEDULE</code>过程。
                        </p>
                        <p>这些示例假设存在一个应用程序，当它检测到文件到达系统时，将事件排入队列<code class="codeph">my_events_q</code> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-6637FA7A-A8F7-4EA8-9388-939046C7A229__GUID-647E11BE-3E0D-4021-96CE-C2786019F74D">
                        <p class="titleinexample">示例30-7创建基于事件的计划</p>
                        <p>以下示例说明了每当Scheduler收到指示文件在9AM之前到达系统的事件时，创建可用于启动作业的调度：</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_SCHEDULER.CREATE_EVENT_SCHEDULE（schedule_name =&gt;'scott.file_arrival'，start_date =&gt; systimestamp，event_condition =&gt;'tab.user_data.object_owner =''SCOTT''和tab.user_data.event_name =''FILE_ARRIVAL''并从中提取小时tab.user_data.event_timestamp &lt;9'，queue_spec =&gt;'my_events_q'）;结束; /</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-6637FA7A-A8F7-4EA8-9388-939046C7A229__GUID-8FBF7F42-4582-4052-A4CA-6F952CB82AD1">
                        <p class="titleinexample">示例30-8创建基于事件的作业</p>
                        <p>以下示例创建一个作业，该作业在Scheduler收到指示文件到达系统的事件时启动：</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_SCHEDULER.CREATE_JOB（job_name =&gt; my_job，program_name =&gt; my_program，start_date =&gt; '15 -JUL-04 1.00.00AM US / Pacific'，event_condition =&gt;'tab.user_data.event_name =''LOW_INVENTORY'''，queue_spec &gt;''my_events_q'enabled =&gt; TRUE，comments =&gt;'我的基于事件的工作'）;结束; /</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-6637FA7A-A8F7-4EA8-9388-939046C7A229__GUID-35258168-9F0C-4236-8835-F2567438E143">
                        <p class="notep1">也可以看看：</p>
                        <p>有关<code class="codeph">CREATE_JOB</code>和<code class="codeph">CREATE_EVENT_SCHEDULE</code>过程的详细信息，请<code class="codeph">CREATE_JOB</code> <a href="../arpls/DBMS_SCHEDULER.html#ARPLS72273" target="_blank"><span class="italic">Oracle Database PL / SQL包和类型参考</span></a></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="administering-oracle-scheduler.html#GUID-45C400A8-4B2D-4855-961F-7D2A2573A235" title="示例说明使用Scheduler。">使用调度程序的示例</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN12506"></a><div class="props_rev_3"><a id="GUID-4F4CA1F1-E24C-4C57-AD43-967DDC6677AF" name="GUID-4F4CA1F1-E24C-4C57-AD43-967DDC6677AF"></a><h4 id="ADMIN-GUID-4F4CA1F1-E24C-4C57-AD43-967DDC6677AF" class="sect4"><span class="enumeration_section">30.5.5</span>在Oracle Data Guard环境中创建作业的示例</h4>
                  <div>
                     <p>在Oracle Data Guard环境中，Scheduler包括对两个数据库角色的额外支持：主要和逻辑备用。您可以将作业配置为仅在数据库处于主角色时运行，或仅在数据库处于逻辑备用角色时运行。</p>
                     <div class="section">
                        <p>为此，请设置<code class="codeph">database_role</code>属性。此示例说明如何使作业能够在两个数据库角色中运行。使用的方法是创建作业的两个副本，并为每个作业分配不同的<code class="codeph">database_role</code>属性。
                        </p>
                        <p>默认情况下，作业在数据库处于创建作业时所处的角色时运行。您可以使用以下步骤在两个角色中运行相同的作业：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li><span>复制工作</span></li>
                        <li><span>启用新作业</span></li>
                        <li><span>将新作业的<code class="codeph">database_role</code>属性更改为所需角色</span></li>
                     </ol>
                     <div class="section">
                        <p>该示例首先在主数据库上创建名为<code class="codeph">primary_job</code>的作业。然后它创建此作业的副本并将其<code class="codeph">database_role</code>属性设置为“ <code class="codeph">LOGICAL</code> <code class="codeph">STANDBY</code> ”。如果主数据库随后成为逻辑备用数据库，则作业将根据其计划继续运行。
                        </p>
                        <p>复制作业时，将禁用新作业，因此必须启用新作业。</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_SCHEDULER.CREATE_JOB（job_name =&gt;'primary_job'，program_name =&gt;'my_prog'，schedule_name =&gt;'my_sched'）; DBMS_SCHEDULER.COPY_JOB（ 'primary_job'， 'standby_job'）; DBMS_SCHEDULER.ENABLE（name =&gt;'standby_job'，commit_semantics =&gt;'ABSORB_ERRORS'）; DBMS_SCHEDULER.SET_ATTRIBUTE（'standby_job'，'database_role'，'LOGICAL STANDBY'）;结束; /</pre><p>执行此示例后， <code class="codeph">DBA_SCHEDULER_JOB_ROLES</code>视图中的数据如下所示：</p><pre class="oac_no_warn" dir="ltr">SELECT JOB_NAME，DATABASE_ROLE FROM DBA_SCHEDULER_JOB_ROLES WHERE JOB_NAME IN（'PRIMARY_JOB'，'STANDBY_JOB'）; JOB_NAME DATABASE_ROLE -------- ---------------- PRIMARY_JOB PRIMARY STABDBY_JOB LOGICAL STANDBY</pre><div class="infoboxnote" id="GUID-4F4CA1F1-E24C-4C57-AD43-967DDC6677AF__GUID-D325482F-1BC5-43F8-BCEC-97918F8DAAC6">
                           <p class="notep1">注意：</p>
                           <p>对于物理备用数据库，对Scheduler对象所做的任何更改或主数据库上的Scheduler作业所做的任何数据库更改都会像任何其他数据库更改一样应用于物理备用数据库。</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="administering-oracle-scheduler.html#GUID-45C400A8-4B2D-4855-961F-7D2A2573A235" title="示例说明使用Scheduler。">使用调度程序的示例</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADMIN12071"></a><div class="props_rev_3"><a id="GUID-8981EAB4-B308-4CE1-80BF-069C3F4F44BD" name="GUID-8981EAB4-B308-4CE1-80BF-069C3F4F44BD"></a><h3 id="ADMIN-GUID-8981EAB4-B308-4CE1-80BF-069C3F4F44BD" class="sect3"><span class="enumeration_section">30.6</span>调度程序参考</h3>
               <p>有几个与Scheduler相关的权限和数据字典视图。</p>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="administering-oracle-scheduler.html#GUID-7E0B2F16-EE4F-42F3-BF73-82C147D5E8F1">调度程序权限</a><br>可以为用户授予各种Scheduler权限。
                     </li>
                     <li class="ulchildlink"><a href="administering-oracle-scheduler.html#GUID-3ADE1320-1D33-4550-9ECA-A7779CAFF93F">调度程序数据字典视图</a><br>您可以查询一组视图以获取有关Scheduler的信息。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="administering-oracle-scheduler.html#GUID-5271609E-3476-4E4A-A28F-8E9776D2B20A" title="您可以配置，管理，监视Oracle Scheduler并对其进行故障排除。">管理Oracle Scheduler</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN13130"></a><a id="ADMIN13308"></a><a id="ADMIN12072"></a><div class="props_rev_3"><a id="GUID-7E0B2F16-EE4F-42F3-BF73-82C147D5E8F1" name="GUID-7E0B2F16-EE4F-42F3-BF73-82C147D5E8F1"></a><h4 id="ADMIN-GUID-7E0B2F16-EE4F-42F3-BF73-82C147D5E8F1" class="sect4"><span class="enumeration_section">30.6.1</span>调度程序权限</h4>
                  <div>
                     <p>可以为用户授予各种Scheduler权限。</p>
                     <div class="section">
                        <p><a href="administering-oracle-scheduler.html#GUID-7E0B2F16-EE4F-42F3-BF73-82C147D5E8F1__BAJJEEFJ" title="第1列列出了使用调度程序时重要的权限，第2列显示了每个权限授权的操作。">表30-3</a>和<a href="administering-oracle-scheduler.html#GUID-7E0B2F16-EE4F-42F3-BF73-82C147D5E8F1__CHDJGACI" title="olumn 1列出了使用Scheduler时重要的权限，第2列显示了每个权限授权的操作。">表30-4</a>介绍了各种Scheduler权限。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformalwide" id="GUID-7E0B2F16-EE4F-42F3-BF73-82C147D5E8F1__BAJJEEFJ">
                        <p class="titleintable">表30-3计划程序系统权限</p>
                        <table cellpadding="4" cellspacing="0" class="FormalWide" title="调度程序系统权限" width="100%" border="1" summary="Column 1 lists privileges that are important when using the Scheduler, column 2 displays the operations that are authorized by each privilege." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="37%" id="d289610e4395">特权名称</th>
                                 <th align="left" valign="bottom" width="63%" id="d289610e4398">运营授权</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="37%" id="d289610e4403" headers="d289610e4395 ">
                                    <p><code class="codeph">CREATE</code> <code class="codeph">JOB</code></p>
                                 </td>
                                 <td align="left" valign="top" width="63%" headers="d289610e4403 d289610e4398 ">
                                    <p>此权限使您可以在自己的架构中创建作业，链，计划，程序，文件监视器，目标和组。即使您没有<code class="codeph">CREATE</code> <code class="codeph">JOB</code>权限，也可以随时在自己的模式中更改和删除这些对象。在这种情况下，对象将由另一个具有<code class="codeph">CREATE</code> <code class="codeph">ANY</code> <code class="codeph">JOB</code>权限的用户在您的模式中<code class="codeph">CREATE</code> 。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="37%" id="d289610e4429" headers="d289610e4395 ">
                                    <p><code class="codeph">CREATE</code> <code class="codeph">ANY</code> <code class="codeph">JOB</code></p>
                                 </td>
                                 <td align="left" valign="top" width="63%" headers="d289610e4429 d289610e4398 ">
                                    <p>此权限使您可以在除<code class="codeph">SYS</code>之外的任何模式中创建，更改和删除作业，链，计划，程序，文件监视器，目标和组。此权限非常强大，应谨慎使用，因为它允许被授权者像任何其他数据库用户一样执行任何PL / SQL代码。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="37%" id="d289610e4446" headers="d289610e4395 ">
                                    <p><code class="codeph">CREATE</code> <code class="codeph">EXTERNAL</code> <code class="codeph">JOB</code></p>
                                 </td>
                                 <td align="left" valign="top" width="63%" headers="d289610e4446 d289610e4398 ">
                                    <p>创建在数据库外部运行的作业需要此权限。类型“的工作所有者<code class="codeph">EXECUTABLE</code> ”或工作那点式“的节目<code class="codeph">EXECUTABLE</code> ”需要此特权。要运行“ <code class="codeph">EXECUTABLE</code> ”类型的作业，您必须具有此权限和<code class="codeph">CREATE</code> <code class="codeph">JOB</code>权限。从远程主机检索文件并将文件保存到一个或多个远程主机也需要此权限。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="37%" id="d289610e4475" headers="d289610e4395 ">
                                    <p><code class="codeph">EXECUTE</code> <code class="codeph">ANY</code> <code class="codeph">PROGRAM</code></p>
                                 </td>
                                 <td align="left" valign="top" width="63%" headers="d289610e4475 d289610e4398 ">
                                    <p>此权限使您的作业可以使用任何架构中的程序或链。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="37%" id="d289610e4489" headers="d289610e4395 ">
                                    <p><code class="codeph">EXECUTE</code> <code class="codeph">ANY</code> <code class="codeph">CLASS</code></p>
                                 </td>
                                 <td align="left" valign="top" width="63%" headers="d289610e4489 d289610e4398 ">
                                    <p>此权限使您的作业可以在任何作业类下运行。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="37%" id="d289610e4503" headers="d289610e4395 ">
                                    <p><code class="codeph">MANAGE</code> <code class="codeph">SCHEDULER</code></p>
                                 </td>
                                 <td align="left" valign="top" width="63%" headers="d289610e4503 d289610e4398 ">
                                    <p>这是管理调度程序的最重要权限。它使您可以创建，更改和删除作业类，窗口和窗口组，并使用<code class="codeph">force</code>选项停止作业。它还允许您设置和检索Scheduler属性，清除Scheduler日志以及设置数据库的代理密码。
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="tblformalwide" id="GUID-7E0B2F16-EE4F-42F3-BF73-82C147D5E8F1__CHDJGACI">
                        <p class="titleintable">表30-4计划程序对象权限</p>
                        <table cellpadding="4" cellspacing="0" class="FormalWide" title="调度程序对象权限" width="100%" border="1" summary="olumn 1 lists privileges that are important when using the Scheduler, column 2 displays the operations that are authorized by each privilege." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="22%" id="d289610e4526">特权名称</th>
                                 <th align="left" valign="bottom" width="78%" id="d289610e4529">运营授权</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d289610e4534" headers="d289610e4526 ">
                                    <p><code class="codeph">选择</code></p>
                                 </td>
                                 <td align="left" valign="top" width="78%" headers="d289610e4534 d289610e4529 ">
                                    <p>您可以通过在组上授予<code class="codeph">SELECT</code> ，将组的对象权限授予其他用户。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d289610e4545" headers="d289610e4526 ">
                                    <p><code class="codeph">执行</code></p>
                                 </td>
                                 <td align="left" valign="top" width="78%" headers="d289610e4545 d289610e4529 ">
                                    <p>您只能在程序，链，文件监视器，凭据和作业类上授予此权限。<code class="codeph">EXECUTE</code>特权使您可以引用作业中的对象。如果未在架构中创建对象，还可以查看对象。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d289610e4556" headers="d289610e4526 ">
                                    <p><code class="codeph">改变</code></p>
                                 </td>
                                 <td align="left" valign="top" width="78%" headers="d289610e4556 d289610e4529 ">
                                    <p>此权限使您可以更改或删除授予它的对象。更改包括启用，禁用，定义或删除程序参数，设置或重置作业参数值以及运行作业等操作。使用<code class="codeph">ALTER</code>对象权限无法更改作业类型<code class="codeph">EXECUTABLE</code>的作业的某些受限属性。这些包括<code class="codeph">job_type</code> ， <code class="codeph">job_action</code> ， <code class="codeph">number_of_arguments</code> ， <code class="codeph">event_spec</code> ，以及将PL / SQL日期函数设置为计划。
                                    </p>
                                    <p>对于程序，作业，链，文件监视器和凭证，此权限还允许不拥有这些对象的模式查看它们。可以在作业，链，程序，计划，文件监视器和凭据上授予此权限。对于其他类型的Scheduler对象，您必须授予<code class="codeph">MANAGE</code> <code class="codeph">SCHEDULER</code>系统特权。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d289610e4591" headers="d289610e4526 ">
                                    <p><code class="codeph">所有</code></p>
                                 </td>
                                 <td align="left" valign="top" width="78%" headers="d289610e4591 d289610e4529 ">
                                    <p>此权限授予给定对象可能的所有其他对象权限所允许的操作。它可以在作业，程序，链，计划，文件监视器，凭据和作业类上授予。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <div class="infoboxnote" id="GUID-7E0B2F16-EE4F-42F3-BF73-82C147D5E8F1__GUID-CA26F4BA-B25E-4055-87B0-380B249B49C3">
                           <p class="notep1">注意：</p>
                           <p>使用其他用户创建的目标对象不需要对象权限。</p>
                        </div>
                        <p>使用<a href="administering-oracle-scheduler.html#GUID-7E0B2F16-EE4F-42F3-BF73-82C147D5E8F1__BAJJEEFJ" title="第1列列出了使用调度程序时重要的权限，第2列显示了每个权限授权的操作。">表30-3中</a>显示的所有系统特权（使用<code class="codeph">ADMIN</code>选项）创建<code class="codeph">SCHEDULER_ADMIN</code>角色。<code class="codeph">SCHEDULER_ADMIN</code>角色被授予<code class="codeph">DBA</code> （使用<code class="codeph">ADMIN</code>选项）。
                        </p>
                        <p>从定义者权限PL / SQL块调用<code class="codeph">DBMS_SCHEDULER</code>过程和函数时，必须直接向调用用户授予对象特权。与所有PL / SQL存储过程一样，DBMS_SCHEDULER忽略从定义者权限PL / SQL块调用时通过数据库对象上的角色授予的权限。
                        </p>
                        <p>为<code class="codeph">PUBLIC</code>授予以下对象权限： <code class="codeph">SELECT</code> <code class="codeph">ALL_SCHEDULER_*</code> views， <code class="codeph">SELECT</code> <code class="codeph">USER_SCHEDULER_*</code> views， <code class="codeph">SELECT</code> <code class="codeph">SYS.SCHEDULER$_JOBSUFFIX_S</code> （用于生成作业名称）和<code class="codeph">EXECUTE</code> <code class="codeph">SYS.DEFAULT_JOB_CLASS</code> 。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="administering-oracle-scheduler.html#GUID-8981EAB4-B308-4CE1-80BF-069C3F4F44BD" title="有几个与Scheduler相关的权限和数据字典视图。">调度程序参考</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN13131"></a><a id="ADMIN12073"></a><div class="props_rev_3"><a id="GUID-3ADE1320-1D33-4550-9ECA-A7779CAFF93F" name="GUID-3ADE1320-1D33-4550-9ECA-A7779CAFF93F"></a><h4 id="ADMIN-GUID-3ADE1320-1D33-4550-9ECA-A7779CAFF93F" class="sect4"><span class="enumeration_section">30.6.2</span>调度程序数据字典视图</h4>
                  <div>
                     <p>您可以查询一组视图以获取有关Scheduler的信息。</p>
                     <div class="section">
                        <p>以下示例显示了<code class="codeph">my_job1</code>已完成实例的<code class="codeph">my_job1</code> ：</p><pre class="oac_no_warn" dir="ltr">SELECT JOB_NAME，STATUS，ERROR＃FROM DBA_SCHEDULER_JOB_RUN_DETAILS WHERE JOB_NAME ='MY_JOB1'; JOB_NAME状态错误＃-------- -------------- ------ MY_JOB1 FAILURE 20000</pre><p><a href="administering-oracle-scheduler.html#GUID-3ADE1320-1D33-4550-9ECA-A7779CAFF93F__G1017380" title="第1列列出了与Scheduler关联的视图，第2列包含每个视图的描述。">表30-5</a>包含与计划程序关联的视图。<code class="codeph">*_SCHEDULER_JOBS</code> ， <code class="codeph">*_SCHEDULER_SCHEDULES</code> ， <code class="codeph">*_SCHEDULER_PROGRAMS</code> ， <code class="codeph">*_SCHEDULER_RUNNING_JOBS</code> ， <code class="codeph">*_SCHEDULER_JOB_LOG</code> ， <code class="codeph">*_SCHEDULER_JOB_RUN_DETAILS</code>视图对于管理作业特别有用。有关Scheduler视图的详细信息，请参见<a href="../refrn/index.html" target="_blank"><span class="italic">Oracle Database Reference</span></a> 。
                        </p>
                        <div class="infoboxnote" id="GUID-3ADE1320-1D33-4550-9ECA-A7779CAFF93F__GUID-55B2A7BA-9AB5-46D2-BC18-A5A4941B8CB2">
                           <p class="notep1">注意：</p>
                           <p>在下表中，视图名称开头的星号可以替换为<code class="codeph">DBA</code> ， <code class="codeph">ALL</code>或<code class="codeph">USER</code> 。</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformalwide" id="GUID-3ADE1320-1D33-4550-9ECA-A7779CAFF93F__G1017380">
                        <p class="titleintable">表30-5调度程序视图</p>
                        <table cellpadding="4" cellspacing="0" class="FormalWide" title="调度程序视图" width="100%" border="1" summary="Column 1 lists the views associated with the Scheduler, column 2 contains a description of each view." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" id="d289610e4771">视图</th>
                                 <th align="left" valign="bottom" id="d289610e4774">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d289610e4779" headers="d289610e4771 "><pre class="oac_no_warn" dir="ltr">* _SCHEDULER_CHAIN_RULES</pre></td>
                                 <td align="left" valign="top" headers="d289610e4779 d289610e4774 ">
                                    <p>这些视图显示了所有链的所有规则。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d289610e4786" headers="d289610e4771 "><pre class="oac_no_warn" dir="ltr">* _SCHEDULER_CHAIN_STEPS</pre></td>
                                 <td align="left" valign="top" headers="d289610e4786 d289610e4774 ">
                                    <p>这些视图显示了所有链的所有步骤。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d289610e4793" headers="d289610e4771 "><pre class="oac_no_warn" dir="ltr">* _SCHEDULER_CHAINS</pre></td>
                                 <td align="left" valign="top" headers="d289610e4793 d289610e4774 ">
                                    <p>这些视图显示了所有链。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d289610e4800" headers="d289610e4771 "><pre class="oac_no_warn" dir="ltr">* _SCHEDULER_CREDENTIALS * _CREDENTIALS</pre></td>
                                 <td align="left" valign="top" headers="d289610e4800 d289610e4774 ">
                                    <p>这些视图显示所有凭据。</p>
                                    <p>** * <code class="codeph">_SCHEDULER_CREDENTIALS</code>在Oracle Database 12 <span class="italic">c中</span>已弃用，但由于向后兼容性原因仍然可用。
                                    </p>
                                    <p>建议的视图是* _CREDENTIALS。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d289610e4817" headers="d289610e4771 "><pre class="oac_no_warn" dir="ltr">* _SCHEDULER_DB_DESTS</pre></td>
                                 <td align="left" valign="top" headers="d289610e4817 d289610e4774 ">
                                    <p>这些视图显示所有数据库目标。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d289610e4824" headers="d289610e4771 "><pre class="oac_no_warn" dir="ltr">* _SCHEDULER_DESTS</pre></td>
                                 <td align="left" valign="top" headers="d289610e4824 d289610e4774 ">
                                    <p>这些视图显示所有目标，包括数据库和外部。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d289610e4831" headers="d289610e4771 "><pre class="oac_no_warn" dir="ltr">* _SCHEDULER_EXTERNAL_DESTS</pre></td>
                                 <td align="left" valign="top" headers="d289610e4831 d289610e4774 ">
                                    <p>这些视图显示所有外部目的地。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d289610e4838" headers="d289610e4771 "><pre class="oac_no_warn" dir="ltr">* _SCHEDULER_FILE_WATCHERS</pre></td>
                                 <td align="left" valign="top" headers="d289610e4838 d289610e4774 ">
                                    <p>这些视图显示了所有文件观察者。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d289610e4845" headers="d289610e4771 "><pre class="oac_no_warn" dir="ltr">* _SCHEDULER_GLOBAL_ATTRIBUTE</pre></td>
                                 <td align="left" valign="top" headers="d289610e4845 d289610e4774 ">
                                    <p>这些视图显示Scheduler属性的当前值。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d289610e4852" headers="d289610e4771 "><pre class="oac_no_warn" dir="ltr">* _SCHEDULER_GROUP_MEMBERS</pre></td>
                                 <td align="left" valign="top" headers="d289610e4852 d289610e4774 ">
                                    <p>这些视图显示所有组中的所有组成员。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d289610e4859" headers="d289610e4771 "><pre class="oac_no_warn" dir="ltr">* _SCHEDULER_GROUPS</pre></td>
                                 <td align="left" valign="top" headers="d289610e4859 d289610e4774 ">
                                    <p>这些视图显示所有组。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d289610e4867" headers="d289610e4771 ">
                                    <p><code class="codeph">* _SCHEDULER_INCOMPATIBILITY</code></p>
                                 </td>
                                 <td align="left" valign="top" headers="d289610e4867 d289610e4774 ">
                                    <p>这些视图显示作为不兼容定义成员的所有程序或作业。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d289610e4875" headers="d289610e4771 "><pre class="oac_no_warn" dir="ltr">* _SCHEDULER_JOB_ARGS</pre></td>
                                 <td align="left" valign="top" headers="d289610e4875 d289610e4774 ">
                                    <p>这些视图显示所有作业的所有设置参数值。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d289610e4882" headers="d289610e4771 "><pre class="oac_no_warn" dir="ltr">* _SCHEDULER_JOB_CLASSES</pre></td>
                                 <td align="left" valign="top" headers="d289610e4882 d289610e4774 ">
                                    <p>这些视图显示所有工作类。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d289610e4889" headers="d289610e4771 "><pre class="oac_no_warn" dir="ltr">* _SCHEDULER_JOB_DESTS</pre></td>
                                 <td align="left" valign="top" headers="d289610e4889 d289610e4774 ">
                                    <p>这些视图显示远程目标的本地作业和作业的状态，包括多目标作业的子作业。您可以从这些视图中获取作业目标ID（ <code class="codeph">job_dest_id</code> ）。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d289610e4899" headers="d289610e4771 "><pre class="oac_no_warn" dir="ltr">* _SCHEDULER_JOB_LOG</pre></td>
                                 <td align="left" valign="top" headers="d289610e4899 d289610e4774 ">
                                    <p>这些视图显示作业运行和状态更改，具体取决于日志记录级别集。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d289610e4906" headers="d289610e4771 "><pre class="oac_no_warn" dir="ltr">* _SCHEDULER_JOB_ROLES</pre></td>
                                 <td align="left" valign="top" headers="d289610e4906 d289610e4774 ">
                                    <p>这些视图显示Oracle Data Guard数据库角色的所有作业。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d289610e4913" headers="d289610e4771 "><pre class="oac_no_warn" dir="ltr">* _SCHEDULER_JOB_RUN_DETAILS</pre></td>
                                 <td align="left" valign="top" headers="d289610e4913 d289610e4774 ">
                                    <p>这些视图显示所有已完成（失败或成功）的作业运行。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d289610e4920" headers="d289610e4771 "><pre class="oac_no_warn" dir="ltr">* _SCHEDULER_JOBS</pre></td>
                                 <td align="left" valign="top" headers="d289610e4920 d289610e4774 ">
                                    <p>这些视图显示所有作业，启用和禁用。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d289610e4927" headers="d289610e4771 "><pre class="oac_no_warn" dir="ltr">* _SCHEDULER_NOTIFICATIONS</pre></td>
                                 <td align="left" valign="top" headers="d289610e4927 d289610e4774 ">
                                    <p>这些视图显示所有作业状态电子邮件通知。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d289610e4934" headers="d289610e4771 "><pre class="oac_no_warn" dir="ltr">* _SCHEDULER_PROGRAM_ARGS</pre></td>
                                 <td align="left" valign="top" headers="d289610e4934 d289610e4774 ">
                                    <p>这些视图显示为所有程序定义的所有参数以及默认值（如果存在）。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d289610e4941" headers="d289610e4771 "><pre class="oac_no_warn" dir="ltr">* _SCHEDULER_PROGRAMS</pre></td>
                                 <td align="left" valign="top" headers="d289610e4941 d289610e4774 ">
                                    <p>这些视图显示所有程序。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d289610e4949" headers="d289610e4771 ">
                                    <p><code class="codeph">* _SCHEDULER_REMOTE_DATABASES</code></p>
                                 </td>
                                 <td align="left" valign="top" headers="d289610e4949 d289610e4774 ">
                                    <p>这些视图显示有关当前用户可访问的远程数据库的信息，这些远程数据库已注册为远程数据库作业的源和目标。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d289610e4957" headers="d289610e4771 ">
                                    <p><code class="codeph">* _SCHEDULER_REMOTE_JOBSTATE</code></p>
                                 </td>
                                 <td align="left" valign="top" headers="d289610e4957 d289610e4774 ">
                                    <p>这些视图显示有关远程数据库中当前用户可访问的作业状态的信息。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d289610e4965" headers="d289610e4771 ">
                                    <p><code class="codeph">* _SCHEDULER_RESOURCES</code></p>
                                 </td>
                                 <td align="left" valign="top" headers="d289610e4965 d289610e4774 ">
                                    <p>这些视图描述了资源元数据。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d289610e4973" headers="d289610e4771 "><pre class="oac_no_warn" dir="ltr">* _SCHEDULER_RUNNING_CHAINS</pre></td>
                                 <td align="left" valign="top" headers="d289610e4973 d289610e4774 ">
                                    <p>这些视图显示正在运行的所有链。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d289610e4980" headers="d289610e4771 "><pre class="oac_no_warn" dir="ltr">* _SCHEDULER_RUNNING_JOBS</pre></td>
                                 <td align="left" valign="top" headers="d289610e4980 d289610e4774 ">
                                    <p>这些视图显示当前正在运行的所有作业的状态信息。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d289610e4987" headers="d289610e4771 ">
                                    <p><code class="codeph">* _SCHEDULER_RSRC_CONSTRAINTS</code></p>
                                 </td>
                                 <td align="left" valign="top" headers="d289610e4987 d289610e4774 ">
                                    <p>这些视图显示作业或程序使用的资源类型以及所需的每个资源的单元数。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d289610e4995" headers="d289610e4771 "><pre class="oac_no_warn" dir="ltr">* _SCHEDULER_SCHEDULES</pre></td>
                                 <td align="left" valign="top" headers="d289610e4995 d289610e4774 ">
                                    <p>这些视图显示所有计划。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d289610e5002" headers="d289610e4771 "><pre class="oac_no_warn" dir="ltr">* _SCHEDULER_WINDOW_DETAILS</pre></td>
                                 <td align="left" valign="top" headers="d289610e5002 d289610e4774 ">
                                    <p>这些视图显示所有已完成的窗口运行</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d289610e5009" headers="d289610e4771 "><pre class="oac_no_warn" dir="ltr">* _SCHEDULER_WINDOW_GROUPS</pre></td>
                                 <td align="left" valign="top" headers="d289610e5009 d289610e4774 ">
                                    <p>这些视图显示所有窗口组。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d289610e5016" headers="d289610e4771 "><pre class="oac_no_warn" dir="ltr">* _SCHEDULER_WINDOW_LOG</pre></td>
                                 <td align="left" valign="top" headers="d289610e5016 d289610e4774 ">
                                    <p>这些视图显示对窗口所做的所有状态更改。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d289610e5023" headers="d289610e4771 "><pre class="oac_no_warn" dir="ltr">* _SCHEDULER_WINDOWS</pre></td>
                                 <td align="left" valign="top" headers="d289610e5023 d289610e4774 ">
                                    <p>这些视图显示所有窗口。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d289610e5031" headers="d289610e4771 "><pre class="oac_no_warn" dir="ltr">* _SCHEDULER_WINGROUP_MEMBERS</pre></td>
                                 <td align="left" valign="top" headers="d289610e5031 d289610e4774 ">
                                    <p>这些视图显示所有窗口组的成员，每个组成员一行。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="administering-oracle-scheduler.html#GUID-8981EAB4-B308-4CE1-80BF-069C3F4F44BD" title="有几个与Scheduler相关的权限和数据字典视图。">调度程序参考</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
         </div>
      </article>
   </body>
</html>