<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>Oracle Messaging Gateway入门</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Advanced Queuing User&#39;s Guide "></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Advanced Queuing User&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="oracle-database-advanced-queuing.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-02-12T10:53:09-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96511-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="omg-introduction.html" title="Previous" type="text/html"></link>
      <link rel="next" href="omg-working.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Oracle® Database Advanced Queuing"></meta>
    <meta name="dcterms.isVersionOf" content="ADQUE"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="omg-introduction.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="omg-working.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">高级排队用户指南</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Oracle Messaging Gateway入门</li>
            </ol>
            <a id="GUID-8063C7DD-EBA7-4E2B-A192-DA9A55465A05" name="GUID-8063C7DD-EBA7-4E2B-A192-DA9A55465A05"></a><a id="ADQUE1800"></a>
            
            <h2 id="ADQUE-GUID-8063C7DD-EBA7-4E2B-A192-DA9A55465A05" class="sect2"><span class="enumeration_chapter">18</span> Oracle Messaging Gateway入门</h2>
         </header>
         <div class="ind">
            <div>
               <p>以下主题介绍了Oracle Messaging Gateway（MGW）的先决条件以及如何加载，设置和卸载Messaging Gateway。它们还描述了如何设置和修改<code class="codeph">mgw.ora</code>初始化文件。
               </p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="omg-getting-started.html#GUID-AB429614-BF0C-4178-BE84-D73E629A3432">Oracle Messaging Gateway先决条件</a></p>
                  </li>
                  <li>
                     <p><a href="omg-getting-started.html#GUID-CC253557-05CF-49E2-BF8A-7748F1B2856A">加载和设置Oracle Messaging Gateway</a></p>
                  </li>
                  <li>
                     <p><a href="omg-getting-started.html#GUID-897D2EAF-3F4B-4E0F-9905-7E9200F7D7B6">设置非Oracle Messaging Systems</a></p>
                  </li>
                  <li>
                     <p><a href="omg-getting-started.html#GUID-9A8733CB-5B13-4F35-840C-49D69E58154B">验证Oracle Messaging Gateway设置</a></p>
                  </li>
                  <li>
                     <p><a href="omg-getting-started.html#GUID-6169598D-EC49-4D38-B0BD-7861AC523705">卸载Oracle Messaging Gateway</a></p>
                  </li>
                  <li>
                     <p><a href="omg-getting-started.html#GUID-C4283E28-1745-4690-BEA3-432F323669BC">了解mgw.ora初始化文件</a></p>
                  </li>
               </ul>
            </div><a id="ADQUE3203"></a><div class="props_rev_3"><a id="GUID-AB429614-BF0C-4178-BE84-D73E629A3432" name="GUID-AB429614-BF0C-4178-BE84-D73E629A3432"></a><h3 id="ADQUE-GUID-AB429614-BF0C-4178-BE84-D73E629A3432" class="sect3"><span class="enumeration_section">18.1</span> Oracle Messaging Gateway先决条件</h3>
               <div>
                  <p>Messaging Gateway为每个Messaging Gateway代理使用一个Oracle Scheduler作业。如果<code class="codeph">JOB_QUEUE_PROCESSES</code>数据库初始化参数的值为零，则不会运行任何Oracle Scheduler作业。如果该值不为零，则它实际上成为可以并发运行的Scheduler作业和作业队列作业的最大数量。
                  </p>
                  <p>验证是否已设置非零值，并且该值足以容纳要启动的每个Messaging Gateway代理的Scheduler作业。</p>
               </div>
            </div><a id="ADQUE3204"></a><div class="props_rev_3"><a id="GUID-CC253557-05CF-49E2-BF8A-7748F1B2856A" name="GUID-CC253557-05CF-49E2-BF8A-7748F1B2856A"></a><h3 id="ADQUE-GUID-CC253557-05CF-49E2-BF8A-7748F1B2856A" class="sect3"><span class="enumeration_section">18.2</span>加载和设置Oracle Messaging Gateway</h3>
               <div>
                  <div class="section">
                     <p>在运行Messaging Gateway之前，请执行以下过程：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="omg-getting-started.html#GUID-505CD7DD-031F-499D-8EA1-3A3524E2010D">将数据库对象加载到数据库中</a></p>
                        </li>
                        <li>
                           <p><a href="omg-getting-started.html#GUID-F8860306-649F-4846-AD39-5C6B875809C7">修改外部过程的listener.ora</a></p>
                        </li>
                        <li>
                           <p><a href="omg-getting-started.html#GUID-B4C478BF-6893-4E9A-A482-E4F759DB81B5">修改外部过程的tnsnames.ora</a></p>
                        </li>
                        <li>
                           <p><a href="omg-getting-started.html#GUID-0B9C83DB-707F-4459-B7B3-8E218FBB82B5">设置mgw.ora初始化文件</a></p>
                        </li>
                        <li>
                           <p><a href="omg-getting-started.html#GUID-944AD852-DEFC-4F01-96E2-96058099693B">创建Oracle Messaging Gateway管理员用户</a></p>
                        </li>
                        <li>
                           <p><a href="omg-getting-started.html#GUID-BB129DD5-BC20-4A95-96FB-21456BFD0847">创建Oracle Messaging Gateway代理用户</a></p>
                        </li>
                        <li>
                           <p><a href="omg-getting-started.html#GUID-3DF538CA-4D27-42DE-A454-FC74DDA2FE1D">配置Oracle Messaging Gateway连接信息</a></p>
                        </li>
                        <li>
                           <p><a href="omg-getting-started.html#GUID-5750995E-6CE1-4CF5-90F3-06D54287F0F2">在Oracle RAC环境中配置Oracle Messaging Gateway</a></p>
                           <div class="infoboxnote" id="GUID-CC253557-05CF-49E2-BF8A-7748F1B2856A__GUID-B1D2E9E5-92C1-4A1F-B7CC-8CEA736AF924">
                              <p class="notep1">注意：</p>
                              <p>这些设置说明特定于32位和64位版本的Windows和64位版本的基于Unix的操作系统。这些任务适用于Windows和基于Unix的操作系统，除非指示“仅限Windows操作系统”或“仅限Linux操作系统”。对于其他操作系统，请参阅特定于操作系统的文档。</p>
                           </div>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div><a id="ADQUE3205"></a><div class="props_rev_3"><a id="GUID-505CD7DD-031F-499D-8EA1-3A3524E2010D" name="GUID-505CD7DD-031F-499D-8EA1-3A3524E2010D"></a><h4 id="ADQUE-GUID-505CD7DD-031F-499D-8EA1-3A3524E2010D" class="sect4"><span class="enumeration_section">18.2.1将</span>数据库对象加载到数据库中</h4>
                  <div>
                     <div class="section">
                        <p>使用SQL * Plus，以用户<code class="codeph">SYS</code>作为<code class="codeph">SYSDBA</code>运行<span class="italic"><code class="codeph">ORACLE_HOME</code></span> <code class="codeph">/mgw/admin/catmgw.sql</code> 。此脚本加载Messaging Gateway所需的数据库对象，包括角色，表，视图，对象类型和PL / SQL包。它为Messaging Gateway PL / SQL包创建公共同义词。它创建了两个角色， <code class="codeph">MGW_ADMINISTRATOR_ROLE</code>和<code class="codeph">MGW_AGENT_ROLE,</code>并授予了某些权限。所有对象都归<code class="codeph">SYS</code>所有。</p>
                        <div class="infoboxnote" id="GUID-505CD7DD-031F-499D-8EA1-3A3524E2010D__GUID-7472AC96-8FD1-4740-81A2-E09237CDC169">
                           <p class="notep1">注意：</p>
                           <p>在CDB环境中，将<span class="italic"><code class="codeph">ORACLE_HOME</code></span> <code class="codeph">/mgw/admin/catmgw.sql</code>作为PDB root运行。
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADQUE3208"></a><a id="ADQUE3207"></a><a id="ADQUE3206"></a><div class="props_rev_3"><a id="GUID-F8860306-649F-4846-AD39-5C6B875809C7" name="GUID-F8860306-649F-4846-AD39-5C6B875809C7"></a><h4 id="ADQUE-GUID-F8860306-649F-4846-AD39-5C6B875809C7" class="sect4"><span class="enumeration_section">18.2.2</span>修改外部过程的listener.ora</h4>
                  <div>
                     <div class="section">
                        <p>此过程仅适用于基于Unix的操作系统。Windows操作系统上不需要监听器的静态服务信息。</p>
                        <p>您必须修改<code class="codeph">listener.ora</code>以便Messaging Gateway PL / SQL包可以调用外部过程。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>验证是否已设置外部过程的默认<a href="glossary.html#GUID-0318DCE6-62FD-4DF5-88E9-84139310F831"><span class="xrefglossterm">进程间通信</span></a> （IPC）协议地址。</span><div><pre class="oac_no_warn" dir="ltr">LISTENER =（ADDRESS_LIST =（ADDRESS =（PROTOCOL = IPC）（KEY = EXTPROC））</pre></div>
                        </li>
                        <li class="stepexpand"><span>在步骤1中为侦听器添加静态服务信息。这涉及为侦听器设置<code class="codeph">SID_DESC</code> 。在<code class="codeph">SID_DESC</code> ， <a href="omg-getting-started.html#GUID-F8860306-649F-4846-AD39-5C6B875809C7__g1009355" title="行对应于参数。第一列是参数名称，第二列是其描述。">表18-1</a>中描述的参数对于Messaging Gateway非常重要，必须根据您自己的情况进行指定。</span></li>
                     </ol>
                     <div class="example" id="GUID-F8860306-649F-4846-AD39-5C6B875809C7__i1006902">
                        <p class="titleinexample">示例18-1为监听器添加静态服务信息</p><pre class="oac_no_warn" dir="ltr">＃添加SID_DESC SID_LIST_LISTENER =（SID_LIST =（SID_DESC =（SID_NAME = mgwextproc）（ENVS =“LD_LIBRARY_PATH = <span class="italic">JRE_HOME</span> / lib / amd64： <span class="italic">JRE_HOME</span> / lib / amd64 / server： <span class="italic">ORACLE_HOME</span> / lib”）（ORACLE_HOME = <span class="italic">ORACLE_HOME</span> ）（PROGRAM = EXTPROC））</pre></div>
                     <!-- class="example" -->
                     <div class="section">
                        <div class="tblformal" id="GUID-F8860306-649F-4846-AD39-5C6B875809C7__g1009355">
                           <p class="titleintable">表18-1 SID_DESC参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SID_DESC参数" width="100%" border="1" summary="Rows correspond to parameters. The first column is the parameter name, and the second column is its description." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="18%" id="d101329e445">参数</th>
                                    <th align="left" valign="bottom" width="82%" id="d101329e448">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="18%" id="d101329e453" headers="d101329e445 ">
                                       <p><code class="codeph">SID_NAME</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="82%" headers="d101329e453 d101329e448 ">
                                       <p>在<code class="codeph">tnsnames.ora</code>中的网络服务名称中指定的SID。在以下示例中， <code class="codeph">SID_NAME</code>是<code class="codeph">mgwextproc</code> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="18%" id="d101329e471" headers="d101329e445 ">
                                       <p><code class="codeph">ENVS</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="82%" headers="d101329e471 d101329e448 ">
                                       <p>设置外部过程运行所需的<code class="codeph">LD_LIBRARY_PATH</code>环境。<code class="codeph">LD_LIBRARY_PATH</code>必须包含以下路径：</p><pre class="oac_no_warn" dir="ltr"><span class="italic">JRE_HOME</span> / lib / <span class="italic">PLATFORM_TYPE</span> <span class="italic">JRE_HOME</span> / lib / <span class="italic">PLATFORM_TYPE</span> / server <span class="italic">ORACLE_HOME</span> / lib</pre><p>它还应包含第三方邮件系统所需的任何其他库。请参阅<span class="q">“ <a href="omg-getting-started.html#GUID-897D2EAF-3F4B-4E0F-9905-7E9200F7D7B6">设置非Oracle Messaging Systems</a> ”</span> 。
                                       </p>
                                       <p>对于SPARC上的Oracle Solaris（64位）和x86-64（64位）上的Oracle Solaris，POWER系统上的IBM AIX的<code class="codeph">LIBPATH</code>以及其余平台的<code class="codeph">LD_LIBRARY_PATH</code> ， <code class="codeph">ENVS</code>值为<code class="codeph">LD_LIBRARY_PATH_64</code> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="18%" id="d101329e523" headers="d101329e445 ">
                                       <p><code class="codeph">ORACLE_HOME</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="82%" headers="d101329e523 d101329e448 ">
                                       <p>您的Oracle主目录。使用<code class="codeph">$ORACLE_HOME</code>不起作用。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="18%" id="d101329e535" headers="d101329e445 ">
                                       <p><code class="codeph">程序</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="82%" headers="d101329e535 d101329e448 ">
                                       <p>外部过程代理的名称，即<code class="codeph">extproc</code> 
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="infoboxnote" id="GUID-F8860306-649F-4846-AD39-5C6B875809C7__GUID-E0F53D04-4986-4665-9F4E-647B26725BFB">
                           <p class="notep1">注意：</p>
                           <p><span class="italic"><code class="codeph">JRE_HOME</code></span>表示JRE安装的根目录，就像<span class="italic"><code class="codeph">ORACLE_HOME</code></span>表示Oracle安装的根目录一样。Oracle建议您使用随Oracle Database一起安装的JRE。
                           </p>
                        </div>
                        <p><a href="omg-getting-started.html#GUID-F8860306-649F-4846-AD39-5C6B875809C7__i1006902">例18-1</a>将<code class="codeph">SID_NAME</code> <code class="codeph">mgwextproc</code>添加到Linux x86的listener.ora文件中。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADQUE3210"></a><a id="ADQUE3209"></a><div class="props_rev_3"><a id="GUID-B4C478BF-6893-4E9A-A482-E4F759DB81B5" name="GUID-B4C478BF-6893-4E9A-A482-E4F759DB81B5"></a><h4 id="ADQUE-GUID-B4C478BF-6893-4E9A-A482-E4F759DB81B5" class="sect4"><span class="enumeration_section">18.2.3</span>修改外部过程的tnsnames.ora</h4>
                  <div>
                     <div class="section">
                        <p>对于外部过程，在<code class="codeph">tnsnames.ora</code>配置网络服务名称<code class="codeph">MGW_AGENT</code> ，其连接描述符与<code class="codeph">listener.ora</code>配置的信息匹配，如<a href="omg-getting-started.html#GUID-B4C478BF-6893-4E9A-A482-E4F759DB81B5__i1005782">例18-2</a>所示。网络服务名称必须是<code class="codeph">MGW_AGENT</code> （此值已修复）。的<code class="codeph">KEY</code>值必须匹配<code class="codeph">KEY</code>在IPC协议指定的值<code class="codeph">listener.ora</code> 。SID值必须与<code class="codeph">listener.ora</code> <code class="codeph">SID_DESC</code>条目的<code class="codeph">SID_NAME</code>指定的值匹配。
                        </p>
                        <div class="infoboxnote" id="GUID-B4C478BF-6893-4E9A-A482-E4F759DB81B5__GUID-6AD9724D-675C-48FE-A958-F615CD37DB21">
                           <p class="notep1">注意：</p>
                           <p>如果已使用<code class="codeph">sqlnet.ora</code>的<code class="codeph">names.default_domain</code>参数设置默认域，则必须将该域附加到<code class="codeph">tnsnames.ora</code>的<code class="codeph">MGW_AGENT</code>网络服务名称。例如，如果<code class="codeph">sqlnet.ora</code>包含条目<code class="codeph">names.default_domain=acme.com</code> ，则<code class="codeph">tnsnames.ora</code>的网络服务名称必须为<code class="codeph">MGW_AGENT.acme.com</code> 。
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-B4C478BF-6893-4E9A-A482-E4F759DB81B5__i1005782">
                        <p class="titleinexample">示例18-2配置MGW_AGENT</p><pre class="oac_no_warn" dir="ltr">MGW_AGENT =（DESCRIPTION =（ADDRESS_LIST =（ADDRESS =（PROTOCOL = IPC）（KEY = EXTPROC）））（CONNECT_DATA =（SID = mgwextproc）））</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADQUE3211"></a><div class="props_rev_3"><a id="GUID-0B9C83DB-707F-4459-B7B3-8E218FBB82B5" name="GUID-0B9C83DB-707F-4459-B7B3-8E218FBB82B5"></a><h4 id="ADQUE-GUID-0B9C83DB-707F-4459-B7B3-8E218FBB82B5" class="sect4"><span class="enumeration_section">18.2.4</span>设置mgw.ora初始化文件</h4>
                  <div>
                     <div class="section">
                        <p>Messaging Gateway默认初始化文件<span class="italic"><code class="codeph">ORACLE_HOME</code></span> <code class="codeph">/mgw/admin/mgw.ora</code>是一个文本文件。Messaging Gateway外部过程使用它来获取初始化参数以启动Messaging Gateway代理。将<span class="italic"><code class="codeph">ORACLE_HOME</code></span> <code class="codeph">/mgw/admin/sample_mgw.ora</code>复制到<code class="codeph">mgw.ora</code>并根据您的具体情况进行修改。
                        </p>
                        <p>以下过程设置Messaging Gateway所有应用程序所需的环境变量和其他参数：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span><span class="bold">仅限Windows操作系统：</span>设置<code class="codeph">MGW_PRE_PATH</code>变量。它的值是<code class="codeph">jvm.dll</code>库的路径：</span><div><pre class="oac_no_warn" dir="ltr">设置MGW_PRE_PATH = <span class="italic">JRE_HOME</span> \ bin \ client</pre><p>此变量前置于Messaging Gateway代理进程继承的路径。</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>将<code class="codeph">CLASSPATH</code>设置为至少包含以下内容：</span><div>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>JRE运行时类：</p><pre class="oac_no_warn" dir="ltr"><span class="italic">JRE_HOME</span> /lib/rt.jar</pre></li>
                                 <li>
                                    <p>Oracle JDBC类：</p><pre class="oac_no_warn" dir="ltr"><span class="italic">ORACLE_HOME</span> /jdbc/lib/ojdbc6.jar</pre></li>
                                 <li>
                                    <p>Oracle国际化课程：</p><pre class="oac_no_warn" dir="ltr"><span class="italic">ORACLE_HOME</span> /jlib/orai18n.jar</pre></li>
                                 <li>
                                    <p>SQLJ运行时：</p><pre class="oac_no_warn" dir="ltr"><span class="italic">ORACLE_HOME</span> /sqlj/lib/runtime12.jar</pre></li>
                                 <li>
                                    <p><a href="glossary.html#GUID-3A98EBD4-296B-4BE8-82AE-5B42D07E9894"><span class="xrefglossterm">Java消息服务</span></a> （JMS）接口</p><pre class="oac_no_warn" dir="ltr"><span class="italic">ORACLE_HOME</span> /rdbms/jlib/jmscommon.jar</pre></li>
                                 <li>
                                    <p>Oracle JMS实现类</p><pre class="oac_no_warn" dir="ltr"><span class="italic">ORACLE_HOME</span> /rdbms/jlib/aqapi.jar</pre></li>
                                 <li>
                                    <p>Java事务<a href="glossary.html#GUID-2003BA71-5534-477C-990D-5ABE432A5907"><span class="xrefglossterm">API</span></a></p><pre class="oac_no_warn" dir="ltr"><span class="italic">ORACLE_HOME</span> /jlib/jta.jar</pre></li>
                                 <li>
                                    <p>Messaging Gateway访问非Oracle邮件系统所需的任何其他类</p>
                                    <div class="infoboxnote" id="GUID-0B9C83DB-707F-4459-B7B3-8E218FBB82B5__GUID-B7F114D2-238C-4882-AC9C-4B0F2331633F">
                                       <p class="notep1">注意：</p>
                                       <p>将<span class="italic"><code class="codeph">ORACLE_HOME</code></span>替换为适当的拼写值。例如，使用<code class="codeph">$ORACLE_HOME</code>不起作用。
                                       </p>
                                       <p>Windows操作系统的用户必须使用Windows操作系统路径语法设置<code class="codeph">CLASSPATH</code> 。
                                       </p>
                                    </div>
                                    <div class="infoboxnotealso" id="GUID-0B9C83DB-707F-4459-B7B3-8E218FBB82B5__GUID-AA767002-2A80-49A3-939C-F1B50E285962">
                                       <p class="notep1">也可以看看：</p>
                                       <p><span class="q">“ <a href="omg-getting-started.html#GUID-897D2EAF-3F4B-4E0F-9905-7E9200F7D7B6">设置非Oracle Messaging系统</a> ”</span></p>
                                    </div>
                                 </li>
                              </ul>
                           </div>
                        </li>
                     </ol>
                  </div>
               </div><a id="ADQUE3213"></a><a id="ADQUE3212"></a><div class="props_rev_3"><a id="GUID-944AD852-DEFC-4F01-96E2-96058099693B" name="GUID-944AD852-DEFC-4F01-96E2-96058099693B"></a><h4 id="ADQUE-GUID-944AD852-DEFC-4F01-96E2-96058099693B" class="sect4"><span class="enumeration_section">18.2.5</span>创建Oracle Messaging Gateway管理员用户</h4>
                  <div>
                     <div class="section">
                        <p>要执行Messaging Gateway管理工作，必须使用<code class="codeph">MGW_ADMINISTRATOR_ROLE</code>权限创建数据库用户，如<a href="omg-getting-started.html#GUID-944AD852-DEFC-4F01-96E2-96058099693B__CIHEABFH">例18-3</a>所示。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-944AD852-DEFC-4F01-96E2-96058099693B__CIHEABFH">
                        <p class="titleinexample">示例18-3创建Messaging Gateway管理员用户</p><pre class="oac_no_warn" dir="ltr">CREATE USER <span class="italic">admin_user</span> IDENTIFIED BY <span class="italic">admin_password</span> ; GRANT创建会话到<span class="italic">admin_user</span> ; GRANT MGW_ADMINISTRATOR_ROLE to <span class="italic">admin_user</span> ;</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADQUE3215"></a><a id="ADQUE3214"></a><div class="props_rev_3"><a id="GUID-BB129DD5-BC20-4A95-96FB-21456BFD0847" name="GUID-BB129DD5-BC20-4A95-96FB-21456BFD0847"></a><h4 id="ADQUE-GUID-BB129DD5-BC20-4A95-96FB-21456BFD0847" class="sect4"><span class="enumeration_section">18.2.6</span>创建Oracle Messaging Gateway代理用户</h4>
                  <div>
                     <div class="section">
                        <p>要将Messaging Gateway代理连接建立回数据库，必须创建具有<code class="codeph">MGW_AGENT_ROLE</code>特权的数据库用户，如<a href="omg-getting-started.html#GUID-BB129DD5-BC20-4A95-96FB-21456BFD0847__i1006008">例18-4</a>所示。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-BB129DD5-BC20-4A95-96FB-21456BFD0847__i1006008">
                        <p class="titleinexample">示例18-4创建Messaging Gateway代理用户</p><pre class="oac_no_warn" dir="ltr">CREATE USER <span class="italic">agent_user</span> IDENTIFIED BY <span class="italic">agent_password</span> ; GRANT创建会话到<span class="italic">agent_user</span> ; GRANT MGW_AGENT_ROLE到<span class="italic">agent_user</span> ;</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADQUE3217"></a><a id="ADQUE3216"></a><div class="props_rev_3"><a id="GUID-3DF538CA-4D27-42DE-A454-FC74DDA2FE1D" name="GUID-3DF538CA-4D27-42DE-A454-FC74DDA2FE1D"></a><h4 id="ADQUE-GUID-3DF538CA-4D27-42DE-A454-FC74DDA2FE1D" class="sect4"><span class="enumeration_section">18.2.7</span>配置Oracle Messaging Gateway连接信息</h4>
                  <div>
                     <div class="section">
                        <p>创建Messaging Gateway代理用户后，管理用户使用<code class="codeph">DBMS_MGWADM.ALTER_AGENT</code>配置Messaging Gateway，其中包含Messaging Gateway代理用于连接回数据库的用户名，密码和数据库连接字符串，如<a href="omg-getting-started.html#GUID-3DF538CA-4D27-42DE-A454-FC74DDA2FE1D__i1006051">示例18</a>所示 - <a href="omg-getting-started.html#GUID-3DF538CA-4D27-42DE-A454-FC74DDA2FE1D__i1006051">5</a> 。使用您在<span class="q">“ <a href="omg-getting-started.html#GUID-BB129DD5-BC20-4A95-96FB-21456BFD0847">创建Oracle Messaging Gateway代理用户</a> ”中<a href="omg-getting-started.html#GUID-BB129DD5-BC20-4A95-96FB-21456BFD0847">创建</a></span>的Messaging Gateway用户名和密码。数据库连接字符串参数可以设置为<code class="codeph">tnsnames.ora</code>的网络服务名称（使用IPC协议以获得更好的性能）或<code class="codeph">NULL</code> 。如果为<code class="codeph">NULL</code> ，则必须在<code class="codeph">mgw.ora</code>设置<code class="codeph">oracle_sid</code>参数。
                        </p>
                        <p>对于此版本，在调用<code class="codeph">DBMS_MGWADM.ALTER_AGENT</code>时，始终为数据库连接字符串参数指定非<code class="codeph">NULL</code>值。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-3DF538CA-4D27-42DE-A454-FC74DDA2FE1D__i1006051">
                        <p class="titleinexample">示例18-5配置Messaging Gateway连接信息</p><pre class="oac_no_warn" dir="ltr">set echo off set verify off connect admin_user ACCEPT password CHAR PROMPT'输入AGENT_USER的密码：'HIDE EXEC DBMS_MGWADM.ALTER_AGENT（agent_name =&gt;'default_agent'，username =&gt;'agent_user'，password =&gt;'＆password'，database =&gt; 'agent_database'）;</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADQUE3218"></a><div class="props_rev_3"><a id="GUID-5750995E-6CE1-4CF5-90F3-06D54287F0F2" name="GUID-5750995E-6CE1-4CF5-90F3-06D54287F0F2"></a><h4 id="ADQUE-GUID-5750995E-6CE1-4CF5-90F3-06D54287F0F2" class="sect4"><span class="enumeration_section">18.2.8</span>在Oracle RAC环境中配置Oracle Messaging Gateway</h4>
                  <div>
                     <p>本节包含以下主题：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="omg-getting-started.html#GUID-A7326FF5-D5E7-41C0-B0C6-112F015AC99D">配置MGW代理连接的连接信息</a></p>
                        </li>
                        <li>
                           <p><a href="omg-getting-started.html#GUID-BD69DF84-F6EB-4AD2-8440-C4765CCAD4EC">为Messaging Gateway代理设置Oracle RAC实例</a></p>
                        </li>
                     </ul>
                  </div><a id="ADQUE3219"></a><div class="props_rev_3"><a id="GUID-A7326FF5-D5E7-41C0-B0C6-112F015AC99D" name="GUID-A7326FF5-D5E7-41C0-B0C6-112F015AC99D"></a><h5 id="ADQUE-GUID-A7326FF5-D5E7-41C0-B0C6-112F015AC99D" class="sect5"><span class="enumeration_section">18.2.8.1</span>配置MGW代理连接的连接信息</h5>
                     <div>
                        <div class="section">
                           <p>您必须将Messaging Gateway代理建立的所有数据库连接建立到运行Messaging Gateway代理进程的实例。这可确保Oracle RAC环境中的正确故障转移行为。您可以通过使实例使用稍微不同的<code class="codeph">tnsnames.ora</code>文件来以这种方式配置连接。每个文件都包含具有相同网络服务名称的条目，但连接数据仅指与该<code class="codeph">tnsnames.ora</code>文件关联的实例。当<code class="codeph">DBMS_MGWADM.ALTER_AGENT</code>用于配置Messaging Gateway代理数据库连接信息时，将使用公共网络服务名称作为数据库参数。
                           </p>
                           <p>例如，在具有实例<code class="codeph">OraDB1</code>和<code class="codeph">OraDB2</code>的双实例Oracle RAC环境中，其中将使用网络服务名称<code class="codeph">AGENT_DB</code> ，例如<code class="codeph">OraDB1</code>的<code class="codeph">tnsnames.ora</code>将如下所示：</p><pre class="oac_no_warn" dir="ltr">AGENT_DB =（DESCRIPTION =（ADDRESS =（PROTOCOL = TCP）（HOST = myhost1.mycorp.com）（PORT = 1521））（CONNECT_DATA =（SERVER = DEDICATED）（SERVICE_NAME = OraDB10.mycorp.com）（INSTANCE_NAME = OraDB1） ））</pre><p><code class="codeph">OraDB2</code>的<code class="codeph">tnsnames.ora</code>看起来像这样：</p><pre class="oac_no_warn" dir="ltr">AGENT_DB =（DESCRIPTION =（ADDRESS =（PROTOCOL = TCP）（HOST = myhost2.mycorp.com）（PORT = 1521））（CONNECT_DATA =（SERVER = DEDICATED）（SERVICE_NAME = OraDB10.mycorp.com）（INSTANCE_NAME = OraDB2） ））</pre><p>然后，您可以通过运行以下命令来配置Messaging Gateway代理用户连接信息：</p><pre class="oac_no_warn" dir="ltr">EXEC DBMS_MGWADM.ALTER_AGENT（agent_name =&gt;'default_agent'，username =&gt;'agent_user'，password =&gt;'agent_password'，database =&gt;'agent_db'）;</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="ADQUE3220"></a><div class="props_rev_3"><a id="GUID-BD69DF84-F6EB-4AD2-8440-C4765CCAD4EC" name="GUID-BD69DF84-F6EB-4AD2-8440-C4765CCAD4EC"></a><h5 id="ADQUE-GUID-BD69DF84-F6EB-4AD2-8440-C4765CCAD4EC" class="sect5"><span class="enumeration_section">18.2.8.2</span>为Messaging Gateway代理设置Oracle RAC实例</h5>
                     <div>
                        <div class="section">
                           <p>Messaging Gateway通过利用Oracle Scheduler的数据库服务支持为Messaging Gateway代理外部进程提供服务亲缘关系。默认情况下，Messaging Gateway代理将使用映射到所有实例的默认数据库服务。如果希望Messaging Gateway代理在选定的一组数据库实例上启动，则必须为这些实例创建数据库服务，然后使用<code class="codeph">DBMS_MGWADM</code>的<code class="codeph">SERVICE</code>参数将数据库服务分配给Messaging Gateway代理。 <code class="codeph">CREATE_AGENT</code>或<code class="codeph">DBMS_MGWADM</code> 。 <code class="codeph">ALTER_AGENT</code>程序。<code class="codeph">DBMS_MGWADM</code> 。 <code class="codeph">STARTUP</code>过程提交Oracle Scheduler作业，该作业在执行Scheduler作业时启动Messaging Gateway代理外部进程。Scheduler作业将使用为Messaging Gateway代理配置的数据库服务。
                           </p>
                           <p><code class="codeph">SERVICE</code>参数指定的数据库服务仅用于Oracle Scheduler作业的服务亲缘关系，因此也用于Messaging Gateway外部进程的服务亲缘关系。它不用于Messaging Gateway代理用户进行的数据库连接。这些JDBC客户端连接基于为<code class="codeph">DATABASE</code>和<code class="codeph">CONNTYPE</code>参数指定的值。
                           </p>
                           <div class="infoboxnotealso" id="GUID-BD69DF84-F6EB-4AD2-8440-C4765CCAD4EC__GUID-EFF9EE9B-B30E-4EB8-9E78-BB00FCF42E5E">
                              <p class="notep1">也可以看看：</p>
                              <p><span class="q">“ <a href="omg-working.html#GUID-F3956570-38AF-4373-867D-5BAB8FDD9852">在Oracle RAC上运行Oracle Messaging Gateway代理</a> ”</span></p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div>
            </div><a id="ADQUE3221"></a><div class="props_rev_3"><a id="GUID-897D2EAF-3F4B-4E0F-9905-7E9200F7D7B6" name="GUID-897D2EAF-3F4B-4E0F-9905-7E9200F7D7B6"></a><h3 id="ADQUE-GUID-897D2EAF-3F4B-4E0F-9905-7E9200F7D7B6" class="sect3"><span class="enumeration_section">18.3</span>设置非Oracle Messaging Systems</h3>
               <div>
                  <p>本节包含以下主题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="omg-getting-started.html#GUID-77F1212A-FEE6-4B24-B2FD-A8450D3383A8">设置TIB / Rendezvous</a></p>
                     </li>
                     <li>
                        <p><a href="omg-getting-started.html#GUID-6396EFCF-99D2-4553-88B4-25191ADAD3C2">设置WebSphere MQ Base Java或JMS</a></p>
                     </li>
                  </ul>
               </div><a id="ADQUE3223"></a><a id="ADQUE3224"></a><a id="ADQUE3225"></a><a id="ADQUE3222"></a><div class="props_rev_3"><a id="GUID-77F1212A-FEE6-4B24-B2FD-A8450D3383A8" name="GUID-77F1212A-FEE6-4B24-B2FD-A8450D3383A8"></a><h4 id="ADQUE-GUID-77F1212A-FEE6-4B24-B2FD-A8450D3383A8" class="sect4"><span class="enumeration_section">18.3.1</span>设置TIB / Rendezvous</h4>
                  <div>
                     <div class="section">
                        <p>Messaging Gateway代理作为TIB / Rendezvous Java客户端应用程序运行，需要在运行Messaging Gateway代理的计算机上安装TIB / Rendezvous软件。在本节中， <span class="italic"><code class="codeph">TIBRV_HOME</code></span>指的是已安装的TIB / Rendezvous软件位置。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-77F1212A-FEE6-4B24-B2FD-A8450D3383A8__GUID-3BCAC18A-6DB5-4C6B-A148-D04F2B41969F">修改listener.ora</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>在Linux操作系统上，Messaging Gateway条目中的<code class="codeph">LD_LIBRARY_PATH</code>必须包含<span class="italic"><code class="codeph">TIBRV_HOME</code></span> <code class="codeph">/lib</code> ，以便代理访问TIB / Rendezvous共享库文件。
                        </p>
                        <div class="infoboxnotealso" id="GUID-77F1212A-FEE6-4B24-B2FD-A8450D3383A8__GUID-D6EB4096-7DAD-4DD6-8A5C-750E898FD948">
                           <p class="notep1">也可以看看：</p>
                           <p><span class="q">“ <a href="omg-getting-started.html#GUID-F8860306-649F-4846-AD39-5C6B875809C7">修改外部过程的listener.ora</a> ”</span></p>
                        </div>
                        <p>在Windows操作系统上，您无需修改<code class="codeph">listener.ora</code> 。但系统环境变量<code class="codeph">PATH</code>必须包含<span class="italic"><code class="codeph">TIBRV_HOME</code></span> <code class="codeph">\bin</code> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-77F1212A-FEE6-4B24-B2FD-A8450D3383A8__GUID-AE69D34E-D9B2-4943-9B9F-BC39D90EBAB8">修改mgw.ora</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><code class="codeph">MGW_PRE_PATH</code>必须包含包含TIB / Rendezvous许可证票证文件（ <code class="codeph">tibrv.tkt</code> ）的目录，该文件通常位于<span class="italic"><code class="codeph">TIBRV_HOME/bin</code></span> 。
                        </p>
                        <p><code class="codeph">CLASSPATH</code>必须包含TIB / Rendezvous jar文件<span class="italic"><code class="codeph">TIBRV_HOME</code></span> <code class="codeph">/lib/tibrvj.jar</code> 。如果您使用自己的自定义TIB / Rendezvous建议消息回调，则还必须包含回调类的位置。
                        </p>
                        <p>您可以设置以下Java属性以更改默认设置：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">oracle.mgw.tibrv.encoding</code> 
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">oracle.mgw.tibrv.intraProcAdvSubjects</code> 
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">oracle.mgw.tibrv.advMsgCallback</code> 
                              </p>
                              <div class="infoboxnotealso" id="GUID-77F1212A-FEE6-4B24-B2FD-A8450D3383A8__GUID-35CB55FA-CF23-4BCA-BE4B-9CAAD9241C7D">
                                 <p class="notep1">也可以看看：</p>
                                 <p><span class="q">“ <a href="omg-getting-started.html#GUID-C4283E28-1745-4690-BEA3-432F323669BC">了解mgw.ora初始化文件</a> ”</span></p>
                              </div>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-77F1212A-FEE6-4B24-B2FD-A8450D3383A8__GUID-97A441C1-7C48-4E98-9405-7FFBB08E25A2">
                        <p class="titleinexample">示例18-6设置Java属性</p><pre class="oac_no_warn" dir="ltr">setJavaProp oracle.mgw.tibrv.encoding = ISO8859_1 setJavaProp oracle.mgw.tibrv.intraProcAdvSubjects = _RV。&gt; setJavaProp oracle.mgw.tibrv.advMsgCallback = MyadvCallback</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADQUE3227"></a><a id="ADQUE3228"></a><a id="ADQUE3226"></a><div class="props_rev_3"><a id="GUID-6396EFCF-99D2-4553-88B4-25191ADAD3C2" name="GUID-6396EFCF-99D2-4553-88B4-25191ADAD3C2"></a><h4 id="ADQUE-GUID-6396EFCF-99D2-4553-88B4-25191ADAD3C2" class="sect4"><span class="enumeration_section">18.3.2</span>设置WebSphere MQ Base Java或JMS</h4>
                  <div>
                     <div class="section">
                        <p>必须在运行Messaging Gateway代理的计算机上安装WebSphere MQ客户机和Java和JMS的WebSphere MQ类。在本节中， <span class="italic"><code class="codeph">MQ_HOME</code></span>指的是已安装客户端的位置。在Linux操作系统上，此位置始终为<code class="codeph">/opt/mqm</code> 。在Windows操作系统上，安装位置可能会有所不同。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6396EFCF-99D2-4553-88B4-25191ADAD3C2__GUID-7AEEB80E-08AB-4A27-A550-C57A678546F1">修改listener.ora</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>对于Messaging Gateway来说，不需要对<code class="codeph">listener.ora</code>额外修改即可访问WebSphere MQ。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6396EFCF-99D2-4553-88B4-25191ADAD3C2__GUID-0A6CA897-FB77-46EC-A2E3-20B07B683D74">修改mgw.ora</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>使用WebSphere MQ Base Java（非JMS）接口时，将<code class="codeph">CLASSPATH</code>设置为至少包含以下内容（除了<span class="q">“ <a href="omg-getting-started.html#GUID-0B9C83DB-707F-4459-B7B3-8E218FBB82B5">设置mgw.ora初始化文件</a> ”中的那些</span> ）：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="italic"><code class="codeph">MQ_HOME</code></span> <code class="codeph">/java/lib/com.ibm.mq.jar</code> 
                              </p>
                           </li>
                           <li>
                              <p><span class="italic"><code class="codeph">MQ_HOME</code></span> <code class="codeph">/java/lib/connector.jar</code> 
                              </p>
                           </li>
                        </ul>
                        <p>使用WebSphere MQ JMS接口时，将<code class="codeph">CLASSPATH</code>设置为至少包含以下内容（除了<span class="q">“ <a href="omg-getting-started.html#GUID-0B9C83DB-707F-4459-B7B3-8E218FBB82B5">设置mgw.ora初始化文件</a> ”中的内容之外</span> ）：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="italic"><code class="codeph">MQ_HOME</code></span> <code class="codeph">/java/lib/com.ibm.mqjms.jar</code> 
                              </p>
                           </li>
                           <li>
                              <p><span class="italic"><code class="codeph">MQ_HOME</code></span> <code class="codeph">/java/lib/com.ibm.mq.jar</code> 
                              </p>
                           </li>
                           <li>
                              <p><span class="italic"><code class="codeph">MQ_HOME</code></span> <code class="codeph">/java/lib/connector.jar</code> 
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="ADQUE3229"></a><div class="props_rev_3"><a id="GUID-9A8733CB-5B13-4F35-840C-49D69E58154B" name="GUID-9A8733CB-5B13-4F35-840C-49D69E58154B"></a><h3 id="ADQUE-GUID-9A8733CB-5B13-4F35-840C-49D69E58154B" class="sect3"><span class="enumeration_section">18.4</span>验证Oracle Messaging Gateway设置</h3>
               <div>
                  <div class="section">
                     <p>以下过程验证设置，并包括Messaging Gateway代理的简单启动和关闭：</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>启动数据库侦听器。</span><div>
                           <p>启动外部过程的侦听器和常规数据库连接的其他侦听器。</p>
                        </div>
                     </li>
                     <li class="stepexpand"><span>测试Messaging Gateway代理用户的数据库连接字符串。</span><div>
                           <p>运行<code class="codeph">sqlplus</code> <span class="italic"><code class="codeph">agent_user</code></span> <code class="codeph">/</code> <span class="italic"><code class="codeph">agent_password</code></span> <code class="codeph">@</code> <span class="italic"><code class="codeph">agent_database</code></span> 。
                           </p>
                           <p>如果成功，则Messaging Gateway代理可以连接到数据库。</p>
                        </div>
                     </li>
                     <li class="stepexpand"><span><span class="bold">仅限Linux操作系统：</span>测试用于调用外部过程的网络服务条目。</span><div>
                           <p>运行<code class="codeph">sqlplus</code> <span class="italic"><code class="codeph">agent_user</code></span> <code class="codeph">/</code> <span class="italic"><code class="codeph">agent_password</code></span> <code class="codeph">@</code> <code class="codeph">MGW_AGENT</code> 。</p>
                           <p>这应该失败“ORA-28547：连接到服务器失败，可能是Oracle Net管理员错误”。任何其他错误都表示<code class="codeph">tnsnames.ora</code> ， <code class="codeph">listener.ora</code>或两者都不正确。
                           </p>
                        </div>
                     </li>
                     <li class="stepexpand"><span>以<span class="italic"><code class="codeph">admin_user</code></span>连接并调用<code class="codeph">DBMS_MGWADM.STARTUP</code>以启动Messaging Gateway代理。</span></li>
                     <li class="stepexpand"><span>使用<code class="codeph">MGW_GATEWAY</code>视图，等待<code class="codeph">AGENT_STATUS</code>更改为<code class="codeph">RUNNING</code>并<code class="codeph">AGENT_PING</code>更改为<code class="codeph">REACHABLE</code> 。</span></li>
                     <li class="stepexpand"><span>以<span class="italic"><code class="codeph">admin_user</code></span>连接并调用<code class="codeph">DBMS_MGWADM.SHUTDOWN</code>以关闭Messaging Gateway代理。</span></li>
                     <li class="stepexpand"><span>使用<code class="codeph">MGW_GATEWAY</code>视图，等待<code class="codeph">AGENT_STATUS</code>更改为<code class="codeph">NOT_STARTED</code> 。</span></li>
                  </ol>
               </div>
            </div><a id="ADQUE3230"></a><div class="props_rev_3"><a id="GUID-6169598D-EC49-4D38-B0BD-7861AC523705" name="GUID-6169598D-EC49-4D38-B0BD-7861AC523705"></a><h3 id="ADQUE-GUID-6169598D-EC49-4D38-B0BD-7861AC523705" class="sect3"><span class="enumeration_section">18.5</span>卸载Oracle Messaging Gateway</h3>
               <div>
                  <div class="section">
                     <p>使用此过程卸载Messaging Gateway：</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>关闭Messaging Gateway。</span></li>
                     <li class="stepexpand"><span>删除其有效内容为Messaging Gateway <a href="glossary.html#GUID-F4F4838D-1672-4364-A9E8-EF21D7473749"><span class="xrefglossterm">规范</span></a>类型的任何用户创建的队列（例如， <code class="codeph">SYS.MGW_BASIC_MSG_T</code> ）。</span></li>
                     <li class="stepexpand"><span>使用SQL * Plus，以用户<code class="codeph">SYS</code>作为<code class="codeph">SYSDBA</code>运行<span class="italic"><code class="codeph">ORACLE_HOME</code></span> <code class="codeph">/mgw/admin/catnomgw.sql</code> 。</span><div>
                           <p>这将删除Messaging Gateway使用的数据库对象，包括角色，表，视图，包，对象类型和同义词。</p>
                        </div>
                     </li>
                     <li class="stepexpand"><span>删除在<code class="codeph">listener.ora</code>和<code class="codeph">tnsnames.ora</code>创建的Messaging Gateway的条目。</span></li>
                  </ol>
               </div>
            </div><a id="ADQUE3231"></a><div class="props_rev_3"><a id="GUID-C4283E28-1745-4690-BEA3-432F323669BC" name="GUID-C4283E28-1745-4690-BEA3-432F323669BC"></a><h3 id="ADQUE-GUID-C4283E28-1745-4690-BEA3-432F323669BC" class="sect3"><span class="enumeration_section">18.6</span>了解mgw.ora初始化文件</h3>
               <div>
                  <p>Messaging Gateway代理启动时，Messaging Gateway会从文本文件中读取初始化信息。初始化文件包含用于设置初始化参数，环境变量和Java属性的行。必须在一行中指定每个实体。在所有情况下都会修剪前导空格。</p>
                  <p>Messaging Gateway管理员可以通过<code class="codeph">DBMS_MGWADM</code>指定要用于Messaging Gateway代理的初始化文件。 <code class="codeph">CREATE_AGENT</code>和<code class="codeph">DBMS_MGWADM</code> 。 <code class="codeph">ALTER_AGENT</code> 。如果未指定初始化文件，则将使用默认初始化文件。
                  </p>
                  <p>默认代理的默认初始化文件是<code class="codeph">ORACLE_HOME/mgw/admin/mgw.ora</code> 。
                  </p>
                  <p>命名代理的默认初始化文件是<code class="codeph">ORACLE_HOME</code> / <code class="codeph">mgw</code> / <code class="codeph">admin</code> / <code class="codeph">mgw_AGENTNAME</code> 。 <code class="codeph">ora</code>其中<code class="codeph">AGENTNAME</code>是Messaging Gateway代理的大写名称。例如，如果代理名称为<code class="codeph">my_agent</code>则代理的默认初始化文件的名称为<code class="codeph">ORACLE_HOME</code> / <code class="codeph">mgw</code> / <code class="codeph">admin</code> / <code class="codeph">mgw_MY_AGENT</code> 。 <code class="codeph">ora</code> 。如果找不到指定代理的默认初始化文件，则<code class="codeph">ORACLE_HOME</code> / <code class="codeph">mgw</code> / <code class="codeph">admin</code> / <code class="codeph">mgw</code> 。 <code class="codeph">ora</code>将被使用。
                  </p>
               </div><a id="ADQUE3233"></a><a id="ADQUE3234"></a><a id="ADQUE3235"></a><a id="ADQUE3236"></a><a id="ADQUE3237"></a><a id="ADQUE3238"></a><a id="ADQUE3239"></a><a id="ADQUE3240"></a><a id="ADQUE3241"></a><a id="ADQUE3242"></a><a id="ADQUE3232"></a><div class="props_rev_3"><a id="GUID-439CA534-67A2-4845-9026-A9CC01E6100E" name="GUID-439CA534-67A2-4845-9026-A9CC01E6100E"></a><h4 id="ADQUE-GUID-439CA534-67A2-4845-9026-A9CC01E6100E" class="sect4"><span class="enumeration_section">18.6.1</span> mgw.ora初始化参数</h4>
                  <div>
                     <p>初始化参数通常由具有“ <span class="italic"><code class="codeph">name</code></span> <code class="codeph">=</code> <span class="italic"><code class="codeph">value</code></span> <code class="codeph">&lt;NL&gt;</code> ”格式的行指定，其中<span class="italic"><code class="codeph">name</code></span>表示参数名称， <span class="italic"><code class="codeph">value</code></span>表示其值， <code class="codeph">&lt;NL&gt;</code>表示新行。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-439CA534-67A2-4845-9026-A9CC01E6100E__GUID-1C257582-2D3C-4A79-BFDE-A6BACB0592EF">log_directory目录</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-439CA534-67A2-4845-9026-A9CC01E6100E__GUID-C5E63AAB-4593-4DE7-9372-B16106128345">用法：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>指定创建Messaging Gateway日志/跟踪文件的目录。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-439CA534-67A2-4845-9026-A9CC01E6100E__GUID-A230AA5D-6FE5-49C0-8784-65E46960F6F8">格式：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">log_directory = <span class="italic">value</span></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-439CA534-67A2-4845-9026-A9CC01E6100E__GUID-8B6D46E0-364C-4EB9-9B8E-130DB65C458C">默认：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr"><span class="italic">ORACLE_HOME</span> / mgw / log</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-439CA534-67A2-4845-9026-A9CC01E6100E__GUID-C3495F47-49DB-4B64-9687-29EDFC16E73F">例：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">log_directory = / private / mgwlog</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-439CA534-67A2-4845-9026-A9CC01E6100E__GUID-B347D9B6-D4C8-4A97-89A2-63BD5EE9CA05">LOG_LEVEL</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-439CA534-67A2-4845-9026-A9CC01E6100E__GUID-065E524A-8152-4E36-92B6-5FFB3E3BAAE6">用法：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>指定Messaging Gateway代理记录的日志记录详细信息的级别。可以通过在Messaging Gateway代理运行时调用<code class="codeph">DBMS_MGWADM.SET_LOG_LEVEL</code>来动态更改日志记录级别。Oracle建议始终使用日志级别<code class="codeph">0</code> （默认值）。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-439CA534-67A2-4845-9026-A9CC01E6100E__GUID-8D850731-5D45-4D1E-84EA-95DB25D633B4">格式：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">log_level = <span class="italic">value</span></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-439CA534-67A2-4845-9026-A9CC01E6100E__GUID-32933899-61E1-4158-8E28-1A54918791B0">价值观：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p></p>
                        <p><code class="codeph">0</code>表示基本记录;相当于<code class="codeph">DBMS_MGWADM.BASIC_LOGGING</code></p>
                        <p><code class="codeph">1</code>用于追光;相当于<code class="codeph">DBMS_MGWADM.TRACE_LITE_LOGGING</code></p>
                        <p><code class="codeph">2</code>用于高追踪;相当于<code class="codeph">DBMS_MGWADM.TRACE_HIGH_LOGGING</code></p>
                        <p><code class="codeph">3</code>用于调试跟踪;相当于<code class="codeph">DBMS_MGWADM.TRACE_DEBUG_LOGGING</code></p>
                        <p><code class="codeph">4</code>用于高调试跟踪;相当于<code class="codeph">DBMS_MGWADM.TRACE_DEBUG_HIGH_LOGGING</code></p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-439CA534-67A2-4845-9026-A9CC01E6100E__GUID-26838624-CD65-493A-A48B-D588A97EF27C">例：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">log_level = 0</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADQUE3244"></a><a id="ADQUE3245"></a><a id="ADQUE3246"></a><a id="ADQUE3247"></a><a id="ADQUE3248"></a><a id="ADQUE3249"></a><a id="ADQUE3250"></a><a id="ADQUE3251"></a><a id="ADQUE3252"></a><a id="ADQUE3253"></a><a id="ADQUE3254"></a><a id="ADQUE3255"></a><a id="ADQUE3243"></a><div class="props_rev_3"><a id="GUID-9EE26C09-F79A-4F36-83FA-F04378D7191A" name="GUID-9EE26C09-F79A-4F36-83FA-F04378D7191A"></a><h4 id="ADQUE-GUID-9EE26C09-F79A-4F36-83FA-F04378D7191A" class="sect4"><span class="enumeration_section">18.6.2</span> mgw.ora环境变量</h4>
                  <div>
                     <p>由于Messaging Gateway进程环境不在用户的直接控制之下，因此应使用初始化文件设置某些环境变量。Messaging Gateway代理当前使用的环境变量是<code class="codeph">CLASSPATH</code> ， <code class="codeph">MGW_PRE_PATH</code>和<code class="codeph">ORACLE_SID</code> 。</p>
                     <p>设置了<code class="codeph">CLASSPATH</code>和<code class="codeph">MGW_PRE_PATH</code>等环境变量，以便Messaging Gateway代理可以找到所需的共享对象，Java类等。环境变量由具有<code class="codeph">"set</code> <span class="italic"><code class="codeph">env_var</code></span> <code class="codeph">=value</code> <code class="codeph">&lt;NL&gt;"</code>或<code class="codeph">"setenv</code> <span class="italic"><code class="codeph">env_var</code></span> <code class="codeph">=</code> <span class="italic"><code class="codeph">value</code></span> <code class="codeph">&lt;NL&gt;"</code>格式的行指定，其中<span class="italic"><code class="codeph">env_var</code></span>表示要设置的环境变量的名称， <span class="italic"><code class="codeph">value</code></span>表示环境变量的值，以及<code class="codeph">&lt;NL&gt;</code>表示新行。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-9EE26C09-F79A-4F36-83FA-F04378D7191A__GUID-514B0799-8F59-423B-8BD7-5627A76A049E">CLASSPATH</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9EE26C09-F79A-4F36-83FA-F04378D7191A__GUID-1015CD5A-59A1-45D6-8E2F-90E8FA5FEB3C">用法：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>由<a href="glossary.html#GUID-A164150F-BD11-449E-9BDC-28E2A1D9CD52"><span class="xrefglossterm">Java虚拟机</span></a>用于查找Messaging Gateway代理程序所需的Java类，以便在Oracle Database Advanced Queuing和非Oracle消息传递系统之间进行<a href="glossary.html#GUID-DE5B852F-823C-4DC8-B6BB-4825D688A00A"><span class="xrefglossterm">传播</span></a> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9EE26C09-F79A-4F36-83FA-F04378D7191A__GUID-6D273F4C-D9D8-4AE8-A54A-BABBCFB0A862">格式：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">设置CLASSPATH = <span class="italic">value</span>
</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9EE26C09-F79A-4F36-83FA-F04378D7191A__GUID-8F9C0F2D-3A44-44EF-B449-6351E23A1B44">例：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">集CLASSPATH = <span class="italic">ORACLE_HOME</span> <span class="italic">/jdbc/lib/ojdbc6.jar：JRE_HOME</span> <span class="italic">/lib/rt.jar：ORACLE_HOME</span> <span class="italic">/sqlj/lib/runtime12.jar：ORACLE_H</span> <span class="italic">OME</span> <span class="italic">/jlib/orai18n.jar：ORACLE_HOME</span> / RDBMS / jlib / jmscommon.jar： <span class="italic">ORACLE_HOME</span> <span class="italic">/rdbms/jlib/aqapi.jar：ORACLE_HOME</span> /jlib/jta.jar：/opt/mqm/java/lib/com.ibm.mq.jar:/opt/mqm/java/lib/com.ibm.mqjms。 jar：/ opt / mqm / java /lib/connector.jar</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9EE26C09-F79A-4F36-83FA-F04378D7191A__GUID-99B209F0-7DDB-4D68-99BB-849075A2A470">MGW_PRE_PATH</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9EE26C09-F79A-4F36-83FA-F04378D7191A__GUID-83516CF5-3766-40E4-8EF4-982CB1DA78D4">用法：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>附加到Messaging Gateway进程继承的路径的前端。对于Windows操作系统，必须设置此变量以指示库<code class="codeph">jvm.dll</code>位置。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9EE26C09-F79A-4F36-83FA-F04378D7191A__GUID-A20D3BF4-3B8F-4E22-B4BD-4E051984EB6C">格式：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">设置MGW_PRE_PATH = <span class="italic">值</span></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9EE26C09-F79A-4F36-83FA-F04378D7191A__GUID-76361C49-8896-4C22-AE81-FD6EB80A7A0B">例：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">设置MGW_PRE_PATH = <span class="italic">JRE_HOME</span> \ bin \ client</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9EE26C09-F79A-4F36-83FA-F04378D7191A__GUID-05BCF86B-F2FC-4680-8DBA-38CD0364009A">ORACLE_SID</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9EE26C09-F79A-4F36-83FA-F04378D7191A__GUID-111890C0-3202-4B96-B810-8943F18AF7F7">用法：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>在配置Messaging Gateway时未指定服务名称时可以使用。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9EE26C09-F79A-4F36-83FA-F04378D7191A__GUID-04415E14-8C8B-4C58-BC76-966AD9CD2433">格式：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">设置ORACLE_SID = <span class="italic">value</span></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9EE26C09-F79A-4F36-83FA-F04378D7191A__GUID-A93D6C4C-37F1-4CF8-8247-705BA1A29FE4">例：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">设置ORACLE_SID = my_sid</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADQUE3257"></a><a id="ADQUE3258"></a><a id="ADQUE3259"></a><a id="ADQUE3260"></a><a id="ADQUE3261"></a><a id="ADQUE3262"></a><a id="ADQUE3263"></a><a id="ADQUE3264"></a><a id="ADQUE3265"></a><a id="ADQUE3266"></a><a id="ADQUE3267"></a><a id="ADQUE3268"></a><a id="ADQUE3269"></a><a id="ADQUE3270"></a><a id="ADQUE3271"></a><a id="ADQUE3272"></a><a id="ADQUE3273"></a><a id="ADQUE3274"></a><a id="ADQUE3275"></a><a id="ADQUE3276"></a><a id="ADQUE3277"></a><a id="ADQUE3278"></a><a id="ADQUE3279"></a><a id="ADQUE3280"></a><a id="ADQUE3256"></a><div class="props_rev_3"><a id="GUID-00E3933A-C58D-4D4A-A7A2-7CDFF418163D" name="GUID-00E3933A-C58D-4D4A-A7A2-7CDFF418163D"></a><h4 id="ADQUE-GUID-00E3933A-C58D-4D4A-A7A2-7CDFF418163D" class="sect4"><span class="enumeration_section">18.6.3</span> mgw.ora Java属性</h4>
                  <div>
                     <p>在使用TIB / Rendezvous主题时，必须为Messaging Gateway JVM指定Java系统属性。您可以使用Messaging Gateway初始化文件的<code class="codeph">setJavaProp</code>参数。Java属性由具有<code class="codeph">"setJavaProp</code> <span class="italic"><code class="codeph">prop_name</code></span> <code class="codeph">=</code> <span class="italic"><code class="codeph">value</code></span> <code class="codeph">&lt;NL&gt;"</code>格式的行指定，其中<span class="italic"><code class="codeph">prop_name</code></span>表示要设置的Java属性的名称， <span class="italic"><code class="codeph">value</code></span>表示Java属性的值， <code class="codeph">&lt;NL&gt;</code>表示新行字符。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-00E3933A-C58D-4D4A-A7A2-7CDFF418163D__GUID-86300438-40B9-4575-BFA1-FE302A1F0B88">oracle.mgw.batch_size</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-00E3933A-C58D-4D4A-A7A2-7CDFF418163D__GUID-631B8077-033B-4953-B0AD-BFE2F978378C">用法：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>此Java属性表示在一个事务中传播的最大消息数。如果未指定Messaging Gateway作业选项<code class="codeph">MsgBatchSize</code> ，则它将用作默认值。如果从默认的改变，那么应考虑到预期的<a href="glossary.html#GUID-2028AECF-DB3E-40E2-99B6-A35674C08038"><span class="xrefglossterm">消息</span></a>大小和消息网关代理内存（见<code class="codeph">max_memory</code>的参数<code class="codeph">DBMS_MGWADM.ALTER_AGENT</code> ）。此Java属性的最小值为1，最大值为100，默认值为30。
                        </p>
                        <div class="infoboxnotealso" id="GUID-00E3933A-C58D-4D4A-A7A2-7CDFF418163D__GUID-E82CB0F7-3DC1-4FB9-9420-F29CCDCAA22C">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="../arpls/DBMS_MGWADM.html#ARPLS364" target="_blank"><span class="italic">Oracle Database PL / SQL包和类型参考中的</span></a> “DBMS_MGWADM”</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-00E3933A-C58D-4D4A-A7A2-7CDFF418163D__GUID-8DBFC378-9476-4B6A-874F-272F2066BD7E">句法：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">setJavaProp oracle.mgw.batch_size = <span class="italic">value</span></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-00E3933A-C58D-4D4A-A7A2-7CDFF418163D__GUID-03AA9014-1222-44B8-A3D6-65FB4120D9ED">例：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">setJavaProp oracle.mgw.batch_size = 10</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-00E3933A-C58D-4D4A-A7A2-7CDFF418163D__GUID-C6C0584B-5608-406F-B3A5-4AE4D36640CF">oracle.mgw.polling_interval</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-00E3933A-C58D-4D4A-A7A2-7CDFF418163D__GUID-53FA20C1-8AAB-4845-A47D-8E4A631EF325">用法：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>此参数指定传播源<a href="glossary.html#GUID-583DEF67-C9BC-4B83-B8DC-2375A5BE08BB"><span class="xrefglossterm">队列的</span></a>可用消息的轮询之间必须经过的时间（以毫秒为单位）。Messaging Gateway使用的默认轮询间隔为5000毫秒（5秒）。此Java属性的最小值为100毫秒，最大值为60秒。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-00E3933A-C58D-4D4A-A7A2-7CDFF418163D__GUID-229231DC-1871-47BC-A610-DA7849384A2D">句法：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">setJavaProp oracle.mgw.polling_interval = <span class="italic">value</span> </pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-00E3933A-C58D-4D4A-A7A2-7CDFF418163D__GUID-8DB41465-B0E2-42C7-B5BE-2B0699F6E533">例：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">setJavaProp oracle.mgw.polling_interval = 1000</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-00E3933A-C58D-4D4A-A7A2-7CDFF418163D__GUID-804301E3-B056-42E5-8184-229A5DD052F3">oracle.mgw.tibrv.encoding</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-00E3933A-C58D-4D4A-A7A2-7CDFF418163D__GUID-CAED5855-D46D-4A63-BD0C-44CF2D9B42EF">用法：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>此参数指定TIB / Rendezvous消息传递系统链接要使用的字符编码。由于TIB / Rendezvous限制，仅允许为所有已配置的TIB / Rendezvous链接设置一个字符集。默认值为ISO 8859-1或Java系统属性<code class="codeph">file.encoding</code>指定的字符集。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-00E3933A-C58D-4D4A-A7A2-7CDFF418163D__GUID-C53FB85F-1D93-4E52-8309-4245D50BC3D1">句法：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">setJavaProp oracle.mgw.tibrv.encoding = <span class="italic">value</span> </pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-00E3933A-C58D-4D4A-A7A2-7CDFF418163D__GUID-9F92FA3B-0A75-434C-8B85-A1D24C8909AB">例：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">setJavaProp oracle.mgw.tibrv.encoding = ISO8859_1</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-00E3933A-C58D-4D4A-A7A2-7CDFF418163D__GUID-0BA23A2D-3375-4145-A4E2-6492A48FA685">oracle.mgw.tibrv.intraProcAdvSubjects</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-00E3933A-C58D-4D4A-A7A2-7CDFF418163D__GUID-DE0E07EF-A59E-44A9-B5A7-F090A8656239">用法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>用于所有TIB / Rendezvous消息传递系统链接，此参数指定进程内传输上存在的系统通报主题的名称。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-00E3933A-C58D-4D4A-A7A2-7CDFF418163D__GUID-DE2DC4B9-7FA8-4653-A76E-5D570F158FA5">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">setJavaProp oracle.mgw.tibrv.intraProcAdvSubjects = <span class="italic">advisorySubjectName</span> [： <span class="italic">advisorySubjectName</span> ]</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-00E3933A-C58D-4D4A-A7A2-7CDFF418163D__GUID-A5523018-D5B4-4E2C-9AF7-8D1A7B55FBF2">例：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">setJavaProp oracle.mgw.tibrv.intraProcAdvSubjects = _RV。&gt;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-00E3933A-C58D-4D4A-A7A2-7CDFF418163D__GUID-D5DA9797-ADA2-4712-A763-AF7955086C74">oracle.mgw.tibrv.advMsgCallback</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-00E3933A-C58D-4D4A-A7A2-7CDFF418163D__GUID-10DFFC66-8F0B-4DE3-9C3B-39210411A1FB">用法：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>此参数用于所有TIB / Rendezvous消息传递系统链接，指定实现<code class="codeph">TibrvMsgCallback</code>接口以处理系统建议消息的Java类的名称。如果未指定，则使用Messaging Gateway提供的默认系统建议消息处理程序，该处理程序将系统建议消息写入Messaging Gateway日志文件。如果已指定，则存储类文件的目录必须包含在<code class="codeph">mgw.ora</code>中的<code class="codeph">CLASSPATH</code>中。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-00E3933A-C58D-4D4A-A7A2-7CDFF418163D__GUID-D865E448-2740-468F-8E93-CF3FE00BBD00">句法：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">setJavaProp oracle.mgw.tibrv.advMsgCallback = <span class="italic">className</span></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-00E3933A-C58D-4D4A-A7A2-7CDFF418163D__GUID-77228238-B309-4BCA-8AD5-2A4A96B23A67">例：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">setJavaProp oracle.mgw.tibrv.advMsgCallback = MyAdvCallback</pre></div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-00E3933A-C58D-4D4A-A7A2-7CDFF418163D__BABDFCFI">
                        <p class="subhead3" id="GUID-00E3933A-C58D-4D4A-A7A2-7CDFF418163D__GUID-E4E89306-545A-4BB1-BA3A-21027A1DAB24">oracle.net.tns_admin</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-00E3933A-C58D-4D4A-A7A2-7CDFF418163D__GUID-72FBD6BE-1167-4D16-AE84-15540CADCB79">用法：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>此参数指定tnsnames.ora文件的目录。如果将Messaging Gateway代理配置为使用JDBC Thin驱动程序并且代理连接信息的数据库说明符是TNSNames别名，则必须将其设置。如果使用JDBC OCI驱动程序或数据库说明符不是TNSNames别名，则不需要设置此项。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-00E3933A-C58D-4D4A-A7A2-7CDFF418163D__GUID-51C85032-0820-4E0D-AAE7-5D11E75F16F4">句法：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">setJavaProp oracle.net.tns_admin = <span class="italic">value</span></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-00E3933A-C58D-4D4A-A7A2-7CDFF418163D__GUID-A050C0A7-459C-4F57-B143-14985ABA4A44">例：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">setJavaProp oracle.net.tns_admin = / myoraclehome / network / admin</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADQUE3281"></a><div class="props_rev_3"><a id="GUID-9315C185-2B91-4CEF-97FD-DF04012666EB" name="GUID-9315C185-2B91-4CEF-97FD-DF04012666EB"></a><h4 id="ADQUE-GUID-9315C185-2B91-4CEF-97FD-DF04012666EB" class="sect4"><span class="enumeration_section">18.6.4</span> mgw.ora注释行</h4>
                  <div>
                     <p>注释行用<code class="codeph">#</code>字符作为行的第一个字符。
                     </p>
                     <p></p>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>