<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>格式化SQL * Plus报告</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="User&#39;s Guide and Reference"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="User&#39;s Guide and Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="sqlplus-users-guide-and-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-04-25T05:48:09-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96459-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="using-scripts-in-SQL-Plus.html" title="Previous" type="text/html"></link>
      <link rel="next" href="generating-HTML-reports-from-SQL-Plus.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="SQL*Plus User&#39;s Guide and Reference"></meta>
    <meta name="dcterms.isVersionOf" content="SQPUG"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="using-scripts-in-SQL-Plus.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="generating-HTML-reports-from-SQL-Plus.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">用户指南和参考</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="using-SQL-Plus.html" property="item" typeof="WebPage"><span property="name">使用SQL * Plus</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">格式化SQL * Plus报告</li>
            </ol>
            <a id="GUID-823CB4FD-A882-4C28-9DD3-C53A73ECDBEC" name="GUID-823CB4FD-A882-4C28-9DD3-C53A73ECDBEC"></a><a id="SQPUG016"></a>
            
            <h2 id="SQPUG-GUID-823CB4FD-A882-4C28-9DD3-C53A73ECDBEC" class="sect2"><span class="enumeration_chapter">6</span>格式化SQL * Plus报告</h2>
         </header>
         <div class="ind">
            <div>
               <p>本章介绍如何格式化查询结果以生成完成的报告。本章不讨论HTML输出，但包括以下主题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="formatting-SQL-Plus-reports.html#GUID-C148E006-E537-46D3-B396-E2AA20C98451">关于格式化列</a></p>
                  </li>
                  <li>
                     <p><a href="formatting-SQL-Plus-reports.html#GUID-6E7DC1AB-5886-4841-AC40-695FDBCA9BA9">关于使用间距和汇总行澄清报表</a></p>
                  </li>
                  <li>
                     <p><a href="formatting-SQL-Plus-reports.html#GUID-59489A36-AAC7-4A46-ABB1-B41FB61C012C">关于定义页面和报告标题和维度</a></p>
                  </li>
                  <li>
                     <p><a href="formatting-SQL-Plus-reports.html#GUID-C090CF51-7A15-4372-8504-5EF1232B8DBB">关于存储和打印查询结果</a></p>
                  </li>
               </ul>
               <p>坐在您的计算机上阅读本章并尝试显示的示例。在开始之前，请确保您可以访问HR <a id="d13690e43" class="indexterm-anchor"></a><a id="d13690e47" class="indexterm-anchor"></a> <a href="SQL-Plus-quick-start.html#GUID-BF1995BD-EF9B-4EA2-9B32-7BFACDEB79DA">SQL * Plus快速入门中</a>描述的示例模式。
               </p>
            </div><a id="SQPUG462"></a><div class="props_rev_3"><a id="GUID-C148E006-E537-46D3-B396-E2AA20C98451" name="GUID-C148E006-E537-46D3-B396-E2AA20C98451"></a><h3 id="SQPUG-GUID-C148E006-E537-46D3-B396-E2AA20C98451" class="sect3"><span class="enumeration_section">6.1</span>关于格式化列</h3>
               <div>
                  <p>通过SQL * Plus COLUMN <a id="d13690e78" class="indexterm-anchor"></a>命令，您可以更改列标题并重新格式化列<a id="d13690e81" class="indexterm-anchor"></a>查询结果中的数据。
                  </p>
               </div><a id="SQPUG463"></a><div class="props_rev_3"><a id="GUID-3FDCC3BE-5082-4E99-BF82-089730299FA9" name="GUID-3FDCC3BE-5082-4E99-BF82-089730299FA9"></a><h4 id="SQPUG-GUID-3FDCC3BE-5082-4E99-BF82-089730299FA9" class="sect4"><span class="enumeration_section">6.1.1</span>关于更改列标题</h4>
                  <div>
                     <p>显示列标题时，您可以使用默认标题，也可以使用COLUMN命令进行更改。以下部分描述了如何派生默认标题以及如何使用COLUMN命令更改它们。有关更多详细信息，请参阅<a href="COLUMN.html#GUID-643B665F-B134-4A0B-88F7-10400D6D199E">COLUMN</a>命令。
                     </p>
                  </div><a id="SQPUG464"></a><div class="props_rev_3"><a id="GUID-95A97D2A-CE19-4D24-B0BC-476E4AAD054F" name="GUID-95A97D2A-CE19-4D24-B0BC-476E4AAD054F"></a><h5 id="SQPUG-GUID-95A97D2A-CE19-4D24-B0BC-476E4AAD054F" class="sect5"><span class="enumeration_section">6.1.1.1</span>默认标题</h5>
                     <div>
                        <p>SQL * Plus使用列或表达式名称作为默认列标题<a id="d13690e134" class="indexterm-anchor"></a>显示查询结果时但是，列名通常很短且含糊不清，而且表达式很难理解。
                        </p>
                     </div>
                  </div><a id="SQPUG466"></a><a id="SQPUG467"></a><a id="SQPUG468"></a><a id="SQPUG465"></a><div class="props_rev_3"><a id="GUID-19AF6141-096F-42CF-89A2-C9BD32E8EC1C" name="GUID-19AF6141-096F-42CF-89A2-C9BD32E8EC1C"></a><h5 id="SQPUG-GUID-19AF6141-096F-42CF-89A2-C9BD32E8EC1C" class="sect5"><span class="enumeration_section">6.1.1.2</span>更改默认标题</h5>
                     <div>
                        <div class="section">
                           <p>您<a id="d13690e165" class="indexterm-anchor"></a>可以使用HEADING定义更有用的列标题<a id="d13690e170" class="indexterm-anchor"></a> COLUMN的条款<a id="d13690e173" class="indexterm-anchor"></a>命令，格式如下：</p><pre class="oac_no_warn" dir="ltr">COLUMN column_name HEADING column_heading</pre><pre class="pre codeblock"><code>最后一个月的薪酬委员会------------------------- -------------- ------ ---- Russell 14000 .4 Partners 13500 .3 Errazuriz 12000 .3 Cambrault 11000 .3 Zlotkey 10500 .2</code></pre><div class="infoboxnote" id="GUID-19AF6141-096F-42CF-89A2-C9BD32E8EC1C__GUID-95585D4D-1862-4556-AC11-BBFBE6FF03A1">
                              <p class="notep1">注意：</p>
                              <p>新标题将保持有效，直到您输入不同的标题，重置每列的格式或退出SQL * Plus。</p>
                           </div>
                           <p>要更改列标题<a id="d13690e187" class="indexterm-anchor"></a>在输入COLUMN命令时，将两个或多个单词括在单引号或双引号中。显示列标题<a id="d13690e192" class="indexterm-anchor"></a>在多行上，使用竖线（|）来开始一个新行。（通过更改HEADSEP的设置，您可以使用垂直条以外的字符<a id="d13690e197" class="indexterm-anchor"></a> SET的变量<a id="d13690e202" class="indexterm-anchor"></a>命令。有关更多信息，请参阅<a href="SET.html#GUID-9095C4FF-F4EB-4218-84AA-83061186625F">SET</a>命令。）
                           </p><pre class="pre codeblock"><code>最近一个月的名称SALARY COMMISSION ------------------------- ---------- ---------- Russell 14000 .4 Partners 13500 .3 Errazuriz 12000 .3 Cambrault 11000 .3 Zlotkey 10500 .2</code></pre><pre class="pre codeblock"><code>最近一个月的姓名薪酬委员会========================= ========== ========== Russell 14000 .4 Partners 13500 .3 Errazuriz 12000 .3 Cambrault 11000 .3 Zlotkey 10500 .2</code></pre><p>现在将下划线字符更改为短划线：</p><pre class="oac_no_warn" dir="ltr">SET UNDERLINE' - '</pre><div class="infoboxnote" id="GUID-19AF6141-096F-42CF-89A2-C9BD32E8EC1C__GUID-A6453439-FEE5-4A17-AAFB-D81053D7A005">
                              <p class="notep1">注意：</p>
                              <p>您必须将短划线括在引号中;否则，SQL * Plus会将破折号解释为连字符，表示您希望在另一行上继续执行该命令。</p>
                           </div>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-19AF6141-096F-42CF-89A2-C9BD32E8EC1C__GUID-CADDBB9E-9542-4CCD-BC71-1B342AB41FCF">
                           <p class="titleinexample">例6-1更改列标题</p>
                           <p>要使用为LAST_NAME，SALARY和COMMISSION_PCT指定的新标题从EMP_DETAILS_VIEW生成报告，请输入以下命令：</p><pre class="oac_no_warn" dir="ltr">COLUMN LAST_NAME标题'最后一个名称'专栏项目标题'每月薪水'专栏委员会负责委员会选举LAST_NAME，SALARY，COMMISSION_PCT来自EMP_DETAILS_VIEW WHERE JOB_ID ='SA_MAN';</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-19AF6141-096F-42CF-89A2-C9BD32E8EC1C__GUID-B06A58E9-1876-456D-A64E-4DA8D9A05EA4">
                           <p class="titleinexample">例6-2拆分列标题</p>
                           <p>要分别为SALARY和LAST_NAME列标题MONTHLY SALARY和LAST NAME，并将新标题拆分为两行，请输入</p><pre class="oac_no_warn" dir="ltr">COLUMN SALARY HEADING'MONTHLY | SALARY'COLUMN LAST_NAME'HEADING'LAST | NAME'</pre><p>现在使用斜杠（/）命令重新运行查询：</p><pre class="oac_no_warn" dir="ltr">/</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-19AF6141-096F-42CF-89A2-C9BD32E8EC1C__GUID-3E8A3D3F-5AC4-4CA1-96DF-9CBF0153F3F7">
                           <p class="titleinexample">示例6-3设置下划线字符</p>
                           <p>要将用于标题标题的字符更改为等号并重新运行查询，请输入以下命令：</p><pre class="oac_no_warn" dir="ltr">SET UNDERLINE = /</pre></div>
                        <!-- class="example" -->
                     </div>
                  </div>
               </div><a id="SQPUG469"></a><div class="props_rev_3"><a id="GUID-F51DC363-E372-4A6A-803E-EAEF5BDF60B3" name="GUID-F51DC363-E372-4A6A-803E-EAEF5BDF60B3"></a><h4 id="SQPUG-GUID-F51DC363-E372-4A6A-803E-EAEF5BDF60B3" class="sect4"><span class="enumeration_section">6.1.2</span>关于格式化NUMBER列</h4>
                  <div>
                     <p>显示NUMBER列时，您可以接受SQL * Plus默认显示宽度，也可以使用COLUMN命令更改它。后面的部分描述了默认显示以及如何使用COLUMN命令对其进行更改。格式模型将保持有效，直到您输入新格式，重置列的格式</p><pre class="oac_no_warn" dir="ltr">COLUMN <span class="italic">column_name</span> CLEAR</pre><p>或退出SQL * Plus。</p>
                  </div><a id="SQPUG470"></a><div class="props_rev_3"><a id="GUID-781619DB-FE22-481A-A324-B3B5C0814273" name="GUID-781619DB-FE22-481A-A324-B3B5C0814273"></a><h5 id="SQPUG-GUID-781619DB-FE22-481A-A324-B3B5C0814273" class="sect5"><span class="enumeration_section">6.1.2.1</span>默认显示</h5>
                     <div>
                        <p>一个号码<a id="d13690e298" class="indexterm-anchor"></a>列的宽度等于标题的宽度或FORMAT的宽度加上符号的一个空格<a id="d13690e303" class="indexterm-anchor"></a> ，以较大者为准。如果未明确使用FORMAT，则列的宽度始终至少为SET NUMWIDTH的值<a id="d13690e308" class="indexterm-anchor"></a><a id="d13690e312" class="indexterm-anchor"></a><a id="d13690e316" class="indexterm-anchor"></a> 。</p>
                        <p>SQL * Plus通常显示的数字与精度所需的位数一样多，最多可达标准显示宽度，该宽度由SET命令的NUMWIDTH变量值（通常为10）决定。如果数字大于SET NUMWIDTH的值，则SQL * Plus会将数字向上或向下舍入到可能的最大字符数，或者如果数字太大则显示哈希值。</p>
                        <p>您可以为任何NUMBER选择不同的格式<a id="d13690e325" class="indexterm-anchor"></a>柱<a id="d13690e330" class="indexterm-anchor"></a>通过使用COLUMN中的格式模型<a id="d13690e335" class="indexterm-anchor"></a>命令。格式模型表示您希望列中的数字显示的方式，使用9s表示数字。
                        </p>
                     </div>
                  </div><a id="SQPUG472"></a><a id="SQPUG471"></a><div class="props_rev_3"><a id="GUID-A9E6346D-D89A-4E9A-9A65-341FB5044A66" name="GUID-A9E6346D-D89A-4E9A-9A65-341FB5044A66"></a><h5 id="SQPUG-GUID-A9E6346D-D89A-4E9A-9A65-341FB5044A66" class="sect5"><span class="enumeration_section">6.1.2.2</span>更改默认显示</h5>
                     <div>
                        <div class="section">
                           <p>COLUMN命令标识要格式化的列和要使用的模型，如下所示：</p><pre class="oac_no_warn" dir="ltr">柱<a id="d13690e366" class="indexterm-anchor"></a> <span class="italic">column_name</span> FORMAT <a id="d13690e374" class="indexterm-anchor"></a> <span class="italic">模型</span></pre><p>使用格式模型<a id="d13690e383" class="indexterm-anchor"></a>添加逗号，美元符号，尖括号（在负值附近），并在给定列中的数字前导零。您还可以将值舍入到给定的小数位数，在负值的右侧显示减号（而不是向左），并以指数表示法显示值。
                           </p>
                           <p>要为单个列使用多个格式模型，请在一个COLUMN命令中组合所需的模型（请参见<a href="formatting-SQL-Plus-reports.html#GUID-A9E6346D-D89A-4E9A-9A65-341FB5044A66__I1081201">示例6-4</a> ）。有关格式模型的完整列表和更多详细信息，请参见<a href="COLUMN.html#GUID-643B665F-B134-4A0B-88F7-10400D6D199E">COLUMN</a> 。
                           </p><pre class="pre codeblock"><code>最近一个月的姓名薪酬委员会------------------------- -------- ----------罗素$ 14,000 .4合作伙伴$ 13,500 .3 Errazuriz $ 12,000 .3 Cambrault $ 11,000 .3 Zlotkey $ 10,500 .2</code></pre><p>如图所示，当您使用其他格式（如美元符号）并希望显示零代替零值的空白时，请在格式模型中使用零。</p>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-A9E6346D-D89A-4E9A-9A65-341FB5044A66__I1081201">
                           <p class="titleinexample">示例6-4格式化NUMBER列</p>
                           <p>用美元显示SALARY <a id="d13690e403" class="indexterm-anchor"></a>标志<a id="d13690e408" class="indexterm-anchor"></a> ， 一个<a id="d13690e411" class="indexterm-anchor"></a>逗号<a id="d13690e416" class="indexterm-anchor"></a>和数字<a id="d13690e419" class="indexterm-anchor"></a>零<a id="d13690e425" class="indexterm-anchor"></a>如果没有任何零值的空白，请输入以下内容<a id="d13690e428" class="indexterm-anchor"></a>命令：<a id="d13690e433" class="indexterm-anchor"></a></p><pre class="oac_no_warn" dir="ltr">COLUMN SALARY FORMAT $ 99,990</pre><p>现在重新运行当前查询：</p><pre class="oac_no_warn" dir="ltr">/</pre></div>
                        <!-- class="example" -->
                     </div>
                  </div>
               </div><a id="SQPUG473"></a><div class="props_rev_3"><a id="GUID-9BBC7176-EE1C-4C40-89EC-A8042D26A482" name="GUID-9BBC7176-EE1C-4C40-89EC-A8042D26A482"></a><h4 id="SQPUG-GUID-9BBC7176-EE1C-4C40-89EC-A8042D26A482" class="sect4"><span class="enumeration_section">6.1.3</span>关于格式化数据类型</h4>
                  <div>
                     <p>显示数据类型时，您可以接受SQL * Plus默认显示宽度，也可以使用COLUMN命令更改它。格式模型将保持有效，直到您输入新格式，重置列的格式</p><pre class="oac_no_warn" dir="ltr">COLUMN <span class="italic">column_name</span> CLEAR</pre><p>或退出SQL * Plus。本手册中的数据类型包括以下类型：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>CHAR</p>
                        </li>
                        <li>
                           <p>NCHAR</p>
                        </li>
                        <li>
                           <p>VARCHAR2（VARCHAR）</p>
                        </li>
                        <li>
                           <p>NVARCHAR2（NCHAR VARYING）</p>
                        </li>
                        <li>
                           <p>日期</p>
                        </li>
                        <li>
                           <p>长</p>
                        </li>
                        <li>
                           <p>BLOB</p>
                           <p>BFILE<a id="d13690e495" class="indexterm-anchor"></a></p>
                        </li>
                        <li>
                           <p>CLOB</p>
                        </li>
                        <li>
                           <p>NCLOB</p>
                        </li>
                        <li>
                           <p>的XMLType<a id="d13690e508" class="indexterm-anchor"></a></p>
                        </li>
                     </ul>
                  </div><a id="SQPUG474"></a><div class="props_rev_3"><a id="GUID-4EBE3318-D450-4071-9473-51B74C43C658" name="GUID-4EBE3318-D450-4071-9473-51B74C43C658"></a><h5 id="SQPUG-GUID-4EBE3318-D450-4071-9473-51B74C43C658" class="sect5"><span class="enumeration_section">6.1.3.1</span>默认显示</h5>
                     <div>
                        <p>默认宽度为<a id="d13690e534" class="indexterm-anchor"></a><a id="d13690e538" class="indexterm-anchor"></a><a id="d13690e542" class="indexterm-anchor"></a><a id="d13690e546" class="indexterm-anchor"></a><a id="d13690e550" class="indexterm-anchor"></a><a id="d13690e554" class="indexterm-anchor"></a><a id="d13690e558" class="indexterm-anchor"></a> datatype列是数据库中列的宽度。LONG，BLOB，BFILE，CLOB，NCLOB或XMLType的列宽<a id="d13690e563" class="indexterm-anchor"></a><a id="d13690e567" class="indexterm-anchor"></a>默认为SET的值<a id="d13690e573" class="indexterm-anchor"></a> LONGCHUNKSIZE或SET LONG，以较小者为准。
                        </p>
                        <p>SQL * Plus中未格式化的DATE列的默认宽度和格式<a id="d13690e578" class="indexterm-anchor"></a>由数据库NLS_DATE_FORMAT参数确定。否则，默认格式宽度为A9。有关格式化DATE列的详细信息，请参阅<a href="COLUMN.html#GUID-643B665F-B134-4A0B-88F7-10400D6D199E">COLUMN</a>命令的FORMAT子句。
                        </p>
                        <p>左对齐是数据类型的默认值。</p>
                     </div>
                  </div><a id="SQPUG476"></a><a id="SQPUG477"></a><a id="SQPUG475"></a><div class="props_rev_3"><a id="GUID-DBC817C5-B6A6-46EA-8399-615280BEF121" name="GUID-DBC817C5-B6A6-46EA-8399-615280BEF121"></a><h5 id="SQPUG-GUID-DBC817C5-B6A6-46EA-8399-615280BEF121" class="sect5"><span class="enumeration_section">6.1.3.2</span>更改默认显示</h5>
                     <div>
                        <div class="section">
                           <p>您可以使用COLUMN命令更改数据类型或DATE的显示宽度，格式模型包含字母A（对于字母数字），后跟一个表示字符宽度的数字。</p>
                           <p>在COLUMN命令中，标识要格式化的列和要使用的模型：</p><pre class="oac_no_warn" dir="ltr">柱<a id="d13690e618" class="indexterm-anchor"></a> <span class="italic">column_name</span> FORMAT <a id="d13690e626" class="indexterm-anchor"></a> <span class="italic">模型</span></pre><p>如果指定的宽度小于列<a id="d13690e635" class="indexterm-anchor"></a>标题<a id="d13690e640" class="indexterm-anchor"></a> ，SQL * Plus截断标题。有关更多详细信息，请参阅<a href="COLUMN.html#GUID-643B665F-B134-4A0B-88F7-10400D6D199E">COLUMN</a>命令。
                           </p><pre class="pre codeblock"><code>最近一个月的姓名薪酬委员会---- -------- ---------- Russ $ 14,000 .4 el $ 13,500 .3 ners Erra $ 12,000 .3 zuri z上一个月的姓名薪酬委员会 -  -  -------- ---------- Camb $ 11,000 .3 raul t Zlot $ 10,500 .2 key</code></pre><p>如果是WRAP <a id="d13690e653" class="indexterm-anchor"></a> SET的变量<a id="d13690e656" class="indexterm-anchor"></a>命令设置为ON（其默认值），员工姓名<a id="d13690e661" class="indexterm-anchor"></a>换行到第四个字符后面的下一行，如<a href="formatting-SQL-Plus-reports.html#GUID-DBC817C5-B6A6-46EA-8399-615280BEF121__I1081303">例6-5</a>所示。如果WRAP设置为OFF，则为名称<a id="d13690e668" class="indexterm-anchor"></a>在第四个字符后被截断（切断）。
                           </p>
                           <p>系统变量WRAP控制所有列;你可以通过改写覆盖给定列的WRAP设置<a id="d13690e675" class="indexterm-anchor"></a>包裹<a id="d13690e680" class="indexterm-anchor"></a> ，WORD_WRAPPED <a id="d13690e683" class="indexterm-anchor"></a> ，和<a id="d13690e686" class="indexterm-anchor"></a> TRUNCATED <a id="d13690e691" class="indexterm-anchor"></a>的条款<a id="d13690e695" class="indexterm-anchor"></a>柱<a id="d13690e700" class="indexterm-anchor"></a><a id="d13690e704" class="indexterm-anchor"></a>命令。有关这些子句的更多信息，请参见<a href="COLUMN.html#GUID-643B665F-B134-4A0B-88F7-10400D6D199E">COLUMN</a>命令。您将在本章后面使用COLUMN的WORD_WRAPPED子句。
                           </p>
                           <p>无法使用WORD_WRAPPED选项格式化NCLOB，BLOB，BFILE或多字节CLOB列。如果使用COLUMN WORD_WRAPPED格式化NCLOB，BLOB，BFILE或多字节CLOB列，则列数据的行为就像应用了COLUMN WRAPPED一样。</p>
                           <div class="infoboxnote" id="GUID-DBC817C5-B6A6-46EA-8399-615280BEF121__GUID-E24F9240-4905-4BE6-9D93-97D84840B12B">
                              <p class="notep1">注意：</p>
                              <p>无论WRAP或任何COLUMN命令子句的设置如何，都会截断列标题。</p>
                           </div>
                           <p>现在将列恢复为以前的格式：</p><pre class="oac_no_warn" dir="ltr">COLUMN LAST_NAME格式A10</pre><pre class="pre codeblock"><code>建设--------------------拥有</code></pre><p>有关createXML，extract，text和getStringVal函数以及有关创建和操作XMLType数据的更多信息，请参阅<a href="../arpls/XMLTYPE.html#ARPLS71959" target="_blank"><span class="italic">Oracle Database PL / SQL包和类型参考</span></a> 。
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-DBC817C5-B6A6-46EA-8399-615280BEF121__I1081303">
                           <p class="titleinexample">示例6-5格式化字符列</p>
                           <p>要将列LAST_NAME的宽度设置为四个字符并重新运行当前查询，请输入</p><pre class="oac_no_warn" dir="ltr">COLUMN LAST_NAME格式A4 /</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-DBC817C5-B6A6-46EA-8399-615280BEF121__GUID-0033B5DE-1A7A-45A1-A24C-7ABB28CF0D6A">
                           <p class="titleinexample">示例6-6格式化XMLType列</p>
                           <p><a id="d13690e743" class="indexterm-anchor"></a><a id="d13690e747" class="indexterm-anchor"></a><a id="d13690e751" class="indexterm-anchor"></a><a id="d13690e755" class="indexterm-anchor"></a>在说明如何格式化XMLType列之前，必须创建一个包含XMLType列定义的表，并将一些数据插入表中。您可以像任何其他用户定义的列一样创建XMLType列。要创建包含XMLType列的表，请输入</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE仓库（warehouse_id NUMBER（3），warehouse_spec SYS.XMLTYPE，warehouse_name VARCHAR2（35），location_id NUMBER（4））;</pre><p>要将包含warehouse_id和warehouse_spec值的新记录插入新仓库表，请输入</p><pre class="oac_no_warn" dir="ltr">插入仓库（warehouse_id，warehouse_spec）VALUES（100，sys。XMLTYPE.createXML（'&lt;Warehouse whNo =“100”&gt; &lt;Building&gt; Owned &lt;/ Building&gt; &lt;/ Warehouse&gt;'））;</pre><p>要将XMLType列宽设置为20个字符，然后选择XMLType列，请输入</p><pre class="oac_no_warn" dir="ltr">COLUMN Building FORMAT A20 SELECT w.warehouse_spec.extract（'/ Warehouse / Building / text（）'）。getStringVal（）“Building”FROM warehouses w;</pre></div>
                        <!-- class="example" -->
                     </div>
                  </div>
               </div><a id="SQPUG479"></a><a id="SQPUG478"></a><div class="props_rev_3"><a id="GUID-E320BFDA-EC00-4DD3-B85C-0B9DD27D2FEB" name="GUID-E320BFDA-EC00-4DD3-B85C-0B9DD27D2FEB"></a><h4 id="SQPUG-GUID-E320BFDA-EC00-4DD3-B85C-0B9DD27D2FEB" class="sect4"><span class="enumeration_section">6.1.4</span>复制列显示属性</h4>
                  <div>
                     <div class="section">
                        <p>当您想要提供多个列时<a id="d13690e794" class="indexterm-anchor"></a>在相同的显示属性中，您可以使用LIKE减少必须输入的命令的长度<a id="d13690e799" class="indexterm-anchor"></a> COLUMN的条款<a id="d13690e802" class="indexterm-anchor"></a>命令。LIKE子句告诉SQL * Plus将先前定义的列的显示属性复制到新列，但同一命令中的其他子句所做的更改除外。
                        </p><pre class="pre codeblock"><code>最近一个月的名称SALARY奖金---------- -------- -------- Russell $ 14,000 $ 0合作伙伴$ 13,500 $ 0 Errazuriz $ 12,000 $ 0 Cambrault $ 11,000 $ 0 Zlotkey $ 10,500 $ 0</code></pre></div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-E320BFDA-EC00-4DD3-B85C-0B9DD27D2FEB__GUID-CD60F208-0082-48C6-A5AC-3360B7D9D05D">
                        <p class="titleinexample">示例6-7复制列的显示属性</p>
                        <p>要为列COMMISSION_PCT提供与SALARY相同的显示属性，但要指定其他标题，请输入以下命令：</p><pre class="oac_no_warn" dir="ltr">COLUMN COMMISSION_PCT类似于薪金奖金</pre><p>重新运行查询：</p><pre class="oac_no_warn" dir="ltr">/</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="SQPUG481"></a><a id="SQPUG480"></a><div class="props_rev_3"><a id="GUID-38061A36-4B9E-461A-A72D-FC8AF1B3E731" name="GUID-38061A36-4B9E-461A-A72D-FC8AF1B3E731"></a><h4 id="SQPUG-GUID-38061A36-4B9E-461A-A72D-FC8AF1B3E731" class="sect4"><span class="enumeration_section">6.1.5</span>列出和重置列显示属性</h4>
                  <div>
                     <div class="section">
                        <p>列出给定列的当前显示属性<a id="d13690e844" class="indexterm-anchor"></a> ，使用COLUMN <a id="d13690e849" class="indexterm-anchor"></a>命令后跟列名，如下所示：</p><pre class="oac_no_warn" dir="ltr">COLUMN <span class="italic">column_name</span></pre><p>列出所有列的当前显示属性<a id="d13690e860" class="indexterm-anchor"></a> ，输入COLUMN <a id="d13690e865" class="indexterm-anchor"></a>命令后面没有列名或子句：</p><pre class="oac_no_warn" dir="ltr">柱</pre><p>重置列的显示属性<a id="d13690e874" class="indexterm-anchor"></a>到默认值，使用CLEAR <a id="d13690e879" class="indexterm-anchor"></a>的条款<a id="d13690e882" class="indexterm-anchor"></a>柱<a id="d13690e887" class="indexterm-anchor"></a>命令如图所示：</p><pre class="oac_no_warn" dir="ltr">COLUMN <span class="italic">column_name</span> CLEAR</pre><pre class="pre codeblock"><code>列已清除</code></pre></div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-38061A36-4B9E-461A-A72D-FC8AF1B3E731__GUID-518187C0-460F-49C1-B18D-8F4ED8AF27D1">
                        <p class="titleinexample">示例6-8将列显示属性重置为其默认值</p>
                        <p>要将所有列显示属性重置为其默认值，请输入：</p><pre class="oac_no_warn" dir="ltr">清晰的栏目</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="SQPUG482"></a><div class="props_rev_3"><a id="GUID-9C0B66FF-E18D-4FF8-84FA-720BFBA3477D" name="GUID-9C0B66FF-E18D-4FF8-84FA-720BFBA3477D"></a><h4 id="SQPUG-GUID-9C0B66FF-E18D-4FF8-84FA-720BFBA3477D" class="sect4"><span class="enumeration_section">6.1.6</span>关于抑制和恢复列显示属性</h4>
                  <div>
                     <p>您可以抑制和恢复给定特定列的显示属性。要禁止列的显示属性，请输入COLUMN <a id="d13690e934" class="indexterm-anchor"></a>命令格式如下：</p><pre class="oac_no_warn" dir="ltr">柱<a id="d13690e941" class="indexterm-anchor"></a> <span class="italic">column_name</span> OFF<a id="d13690e949" class="indexterm-anchor"></a></pre><p>OFF告诉SQL * Plus使用列的默认显示属性，但不删除通过COLUMN命令定义的属性。恢复您定义的属性<a id="d13690e955" class="indexterm-anchor"></a>柱<a id="d13690e960" class="indexterm-anchor"></a> ，使用ON子句：</p><pre class="oac_no_warn" dir="ltr">柱<a id="d13690e967" class="indexterm-anchor"></a> <span class="italic">column_name</span> ON<a id="d13690e975" class="indexterm-anchor"></a></pre></div>
               </div><a id="SQPUG484"></a><a id="SQPUG483"></a><div class="props_rev_3"><a id="GUID-1FD5E2FB-2C33-4765-9B4A-2E78013895D0" name="GUID-1FD5E2FB-2C33-4765-9B4A-2E78013895D0"></a><h4 id="SQPUG-GUID-1FD5E2FB-2C33-4765-9B4A-2E78013895D0" class="sect4"><span class="enumeration_section">6.1.7</span>在包装的列值后打印一行字符</h4>
                  <div>
                     <div class="section">
                        <p>如您所见，默认情况下，当值不符合列宽时，SQL * Plus会将列值包装到其他行。如果要插入记录分隔符<a id="d13690e1003" class="indexterm-anchor"></a> （一行字符<a id="d13690e1006" class="indexterm-anchor"></a>在每个包装的输出行之后（或每行之后），使用RECSEP <a id="d13690e1011" class="indexterm-anchor"></a>和RECSEPCHAR <a id="d13690e1014" class="indexterm-anchor"></a>的变量<a id="d13690e1017" class="indexterm-anchor"></a>组<a id="d13690e1023" class="indexterm-anchor"></a>命令。
                        </p>
                        <p>RECSEP确定何时打印字符行;将RECSEP设置为EACH以在每行后打印，WRAPPED在包装线后打印，并设置为OFF以禁止打印。RECSEP的默认设置是WRAPPED。</p>
                        <p>RECSEPCHAR设置每行打印的字符。您可以将RECSEPCHAR设置为任何字符。</p>
                        <p>您可能希望在列中将整个单词换行到其他行<a id="d13690e1034" class="indexterm-anchor"></a>值包装到其他行。为此，请使用WORD_WRAPPED <a id="d13690e1039" class="indexterm-anchor"></a> COLUMN的条款<a id="d13690e1042" class="indexterm-anchor"></a>命令如图所示：</p><pre class="oac_no_warn" dir="ltr">COLUMN <span class="italic">column_name</span> WORD_WRAPPED</pre><pre class="pre codeblock"><code>LAST_NAME JOB_TITLE CITY ------------------------- --------------------  - ------西雅图科赫尔国王总统西雅图总统副总统------------------------------------ -------------------德哈恩政府副西雅图总统------------------------- ------------------------------罗素销售经理牛津合伙人销售经理牛津哈茨坦市场经理多伦多6排选中。</code></pre><p>如果将RECSEP设置为EACH，则SQL * Plus会在每行之后打印一行字符（在每个部门之后，对于上面的示例）。</p>
                        <p>在继续之前，将RECSEP设置为OFF以禁止打印记录分隔符：</p><pre class="oac_no_warn" dir="ltr">SET RECSEP OFF</pre></div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-1FD5E2FB-2C33-4765-9B4A-2E78013895D0__GUID-EDAD31C4-1C04-4336-808E-A2224DEB6937">
                        <p class="titleinexample">示例6-9在包装的列值后打印一行字符</p>
                        <p>要在每个包装的列值之后打印一行破折号，请输入以下命令：</p><pre class="oac_no_warn" dir="ltr">SET RECSEP WRAPPED SET RECSEPCHAR“ - ”</pre><p>最后，输入以下查询：</p><pre class="oac_no_warn" dir="ltr">SELECT LAST_NAME，JOB_TITLE，CITY FROM EMP_DETAILS_VIEW WHERE SALARY&gt; 12000;</pre><p>现在限制列JOB_TITLE的宽度，并告诉SQL * Plus在必要时将整个单词包装到其他行：</p><pre class="oac_no_warn" dir="ltr">COLUMN JOB_TITLE格式A20 WORD_WRAPPED</pre><p>运行查询：</p><pre class="oac_no_warn" dir="ltr">/</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div><a id="SQPUG485"></a><div class="props_rev_3"><a id="GUID-6E7DC1AB-5886-4841-AC40-695FDBCA9BA9" name="GUID-6E7DC1AB-5886-4841-AC40-695FDBCA9BA9"></a><h3 id="SQPUG-GUID-6E7DC1AB-5886-4841-AC40-695FDBCA9BA9" class="sect3"><span class="enumeration_section">6.2</span>关于使用间距和汇总行澄清报表</h3>
               <div>
                  <p>使用ORDER BY时<a id="d13690e1101" class="indexterm-anchor"></a> SQL中的子句<a id="d13690e1106" class="indexterm-anchor"></a><a id="d13690e1111" class="indexterm-anchor"></a>选择<a id="d13690e1116" class="indexterm-anchor"></a>命令，有序列（或表达式）中具有相同值的行将一起显示在输出中。你可以做这个输出<a id="d13690e1121" class="indexterm-anchor"></a>通过使用SQL * Plus BREAK对用户更有用<a id="d13690e1127" class="indexterm-anchor"></a>和COMPUTE命令用于创建记录子集，并在每个子集后添加空格或汇总行。
                  </p>
                  <p>您在BREAK中指定的列<a id="d13690e1134" class="indexterm-anchor"></a>命令称为中断列。 <a id="d13690e1137" class="indexterm-anchor"></a> 通过在ORDER BY子句中包含break列，可以在输出中创建有意义的记录子集。然后，您可以在同一BREAK命令中向子集添加格式，并通过在COMPUTE中指定break列添加摘要行（包含总计，平均值等） <a id="d13690e1140" class="indexterm-anchor"></a>命令。
                  </p><pre class="oac_no_warn" dir="ltr">SELECT DEPARTMENT_ID，LAST_NAME，SALARY FROM EMP_DETAILS_VIEW WHERE SALARY&gt; 12000 ORDER BY DEPARTMENT_ID;</pre><pre class="pre codeblock"><code>DEPARTMENT_ID LAST_NAME SALARY ------------- ------------------------- --------- -  20 Hartstein 13000 80 Russell 14000 80合作伙伴13500 90 King 24000 90 Kochhar 17000 90 De Haan 17000 6行入选。</code></pre><p>要使此报告更有用，您可以使用BREAK将DEPARTMENT_ID设置为中断列。通过BREAK，您可以在DEPARTMENT_ID中禁用重复值，并在部门之间放置空行或开始新页面。您可以将BREAK与COMPUTE结合使用来计算和打印包含每个部门和所有部门的总薪水的汇总行。您还可以打印包含平均值，最大值，最小值，标准差，方差或行数的汇总行。</p>
               </div><a id="SQPUG487"></a><a id="SQPUG486"></a><div class="props_rev_3"><a id="GUID-72E73196-1BE3-4F18-B7FA-2ECF6EC37396" name="GUID-72E73196-1BE3-4F18-B7FA-2ECF6EC37396"></a><h4 id="SQPUG-GUID-72E73196-1BE3-4F18-B7FA-2ECF6EC37396" class="sect4"><span class="enumeration_section">6.2.1</span>抑制中断列中的重复值</h4>
                  <div>
                     <div class="section">
                        <p>BREAK <a id="d13690e1173" class="indexterm-anchor"></a>命令抑制<a id="d13690e1178" class="indexterm-anchor"></a>默认情况下，在您命名的列或表达式中重复值。因此，要抑制ORDER BY子句中指定的列中的重复值，请以最简单的形式使用BREAK命令：</p><pre class="oac_no_warn" dir="ltr">打破<a id="d13690e1185" class="indexterm-anchor"></a> ON <span class="italic">break_column</span></pre><div class="infoboxnote" id="GUID-72E73196-1BE3-4F18-B7FA-2ECF6EC37396__GUID-9871FB13-9CC0-4E02-8550-FE4B883CFCE2">
                           <p class="notep1">注意：</p>
                           <p>每当您在BREAK中指定列或表达式时<a id="d13690e1195" class="indexterm-anchor"></a>命令，使用指定相同列或表达式的ORDER BY子句。如果不这样做，每次列值更改时都会发生中断。
                           </p>
                        </div><pre class="pre codeblock"><code>DEPARTMENT_ID LAST_NAME SALARY ------------- ------------------------- --------- -  20 Hartstein 13000 80 Russell 14000合作伙伴13500 90 King 24000 Kochhar 17000 De Haan 17000 6行入选。</code></pre></div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-72E73196-1BE3-4F18-B7FA-2ECF6EC37396__GUID-20D549CA-0E79-47FE-BF69-EA0CBB9ADF6E">
                        <p class="titleinexample">示例6-10抑制中断列中的重复值</p>
                        <p>要禁止在显示的查询结果中显示重复的部门编号，请输入以下命令：</p><pre class="oac_no_warn" dir="ltr">在DEPARTMENT_ID上休息;</pre><p>对于以下查询（这是存储在缓冲区中的当前查询）：</p><pre class="oac_no_warn" dir="ltr">SELECT DEPARTMENT_ID，LAST_NAME，SALARY FROM EMP_DETAILS_VIEW WHERE SALARY&gt; 12000 ORDER BY DEPARTMENT_ID;</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="SQPUG489"></a><a id="SQPUG488"></a><div class="props_rev_3"><a id="GUID-BB1377B7-2BF0-44A3-B26F-B0F97B54E6CE" name="GUID-BB1377B7-2BF0-44A3-B26F-B0F97B54E6CE"></a><h4 id="SQPUG-GUID-BB1377B7-2BF0-44A3-B26F-B0F97B54E6CE" class="sect4"><span class="enumeration_section">6.2.2</span>当断点列的值发生变化时插入空格</h4>
                  <div>
                     <div class="section">
                        <p>每次在break列中更改值时，都可以插入空行或开始新页面<a id="d13690e1237" class="indexterm-anchor"></a> 。要插入<span class="italic">n个</span>空白行，请使用BREAK <a id="d13690e1245" class="indexterm-anchor"></a>命令格式如下：</p><pre class="oac_no_warn" dir="ltr">打破<a id="d13690e1252" class="indexterm-anchor"></a> ON <span class="italic">break_column</span>跳过<a id="d13690e1260" class="indexterm-anchor"></a> <span class="italic">ñ</span></pre><p>要跳过页面，请使用以下格式的命令：</p><pre class="oac_no_warn" dir="ltr">打破<a id="d13690e1271" class="indexterm-anchor"></a> ON <span class="italic">break_column</span> SKIP PAGE<a id="d13690e1279" class="indexterm-anchor"></a></pre><pre class="pre codeblock"><code>DEPARTMENT_ID LAST_NAME SALARY ------------- ------------------------- --------- -  20 Hartstein 13000 80 Russell 14000合作伙伴13500 90 King 24000 Kochhar 17000 De Haan 17000 6行入选。</code></pre></div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-BB1377B7-2BF0-44A3-B26F-B0F97B54E6CE__GUID-CF32D15A-541A-4F8A-9F45-433FC315CDDA">
                        <p class="titleinexample">示例6-11在中断列的值更改时插入空格</p>
                        <p>要在部门之间放置一个空行，请输入以下命令：</p><pre class="oac_no_warn" dir="ltr">打开DEPARTMENT_ID SKIP 1</pre><p>现在重新运行查询：</p><pre class="oac_no_warn" dir="ltr">/</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="SQPUG490"></a><div class="props_rev_3"><a id="GUID-272AF87A-9E21-474F-B73A-6C7A3FD98F55" name="GUID-272AF87A-9E21-474F-B73A-6C7A3FD98F55"></a><h4 id="SQPUG-GUID-272AF87A-9E21-474F-B73A-6C7A3FD98F55" class="sect4"><span class="enumeration_section">6.2.3</span>每行后插入空格</h4>
                  <div>
                     <div class="section">
                        <p>您可能希望在每行后插入空白行或空白页。要在每行后跳过n行，请使用BREAK <a id="d13690e1318" class="indexterm-anchor"></a>采用以下形式：</p><pre class="oac_no_warn" dir="ltr">打破<a id="d13690e1325" class="indexterm-anchor"></a><a id="d13690e1329" class="indexterm-anchor"></a>在行<a id="d13690e1334" class="indexterm-anchor"></a>跳跃<a id="d13690e1339" class="indexterm-anchor"></a> <span class="italic">ñ</span></pre><p>要在每行后跳过页面，请使用</p><pre class="oac_no_warn" dir="ltr">打破<a id="d13690e1350" class="indexterm-anchor"></a>在行程跳过页面<a id="d13690e1355" class="indexterm-anchor"></a></pre><div class="infoboxnote" id="GUID-272AF87A-9E21-474F-B73A-6C7A3FD98F55__GUID-8C57EE5D-BD8D-40DE-82B7-8153A9A6AE0E">
                           <p class="notep1">注意：</p>
                           <p>SKIP PAGE不会导致生成物理分页符，除非您还指定了NEWPAGE 0。</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="SQPUG492"></a><a id="SQPUG491"></a><div class="props_rev_3"><a id="GUID-E93F16B9-CC1D-4F06-9798-16C447A9AF6B" name="GUID-E93F16B9-CC1D-4F06-9798-16C447A9AF6B"></a><h4 id="SQPUG-GUID-E93F16B9-CC1D-4F06-9798-16C447A9AF6B" class="sect4"><span class="enumeration_section">6.2.4</span>使用多种间距技术</h4>
                  <div>
                     <div class="section">
                        <p>假设<a id="d13690e1384" class="indexterm-anchor"></a>您的ORDER BY子句中有多个列，并希望在每个列的值更改时插入空格。每个BREAK <a id="d13690e1389" class="indexterm-anchor"></a>您输入的命令将替换上一个命令。因此，如果要在一个报表中使用不同的间距技术，或者在多个有序列中的值更改后插入空格，则必须在单个BREAK中指定多个列和操作<a id="d13690e1394" class="indexterm-anchor"></a>命令。
                        </p><pre class="pre codeblock"><code>页：1 DEPARTMENT_ID JOB_ID LAST_NAME SALARY ------------- ---------- -------------------- ----- ---------- 20 MK_MAN Hartstein 13000页：2 DEPARTMENT_ID JOB_ID LAST_NAME SALARY ------------- ----------- ------------------------ ---------- 80 SA_MAN Russell 14000 Partners 13500页面：3 DEPARTMENT_ID JOB_ID LAST_NAME SALARY --- ---------- ---------- ------------------------- ----- ----- 90 AD_PRES King 24000 AD_VP Kochhar 17000 De Haan 17000 6行入选。</code></pre></div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-E93F16B9-CC1D-4F06-9798-16C447A9AF6B__GUID-4B5FB7BC-5A83-4CDD-BEFE-75660D657570">
                        <p class="titleinexample">示例6-12组合间距技术</p>
                        <p>输入以下内容：</p><pre class="oac_no_warn" dir="ltr">SELECT DEPARTMENT_ID，JOB_ID，LAST_NAME，SALARY FROM EMP_DETAILS_VIEW WHERE SALARY&gt; 12000 ORDER BY DEPARTMENT_ID，JOB_ID;</pre><p>现在，要在DEPARTMENT_ID的值更改时跳过页面，而在JOB_ID的值更改时跳过一行，请输入以下命令：</p><pre class="oac_no_warn" dir="ltr">在JOB_ID SKIP 1上打开DEPARTMENT_ID跳过页面</pre><p>要显示SKIP PAGE已生效，请创建一个带有的TTITLE <a id="d13690e1414" class="indexterm-anchor"></a>页码：</p><pre class="oac_no_warn" dir="ltr">TTITLE COL 35 FORMAT 9'页面：'SQL.PNO</pre><p>运行新查询以查看结果：</p>
                     </div>
                     <!-- class="example" -->
                  </div>
               </div><a id="SQPUG493"></a><div class="props_rev_3"><a id="GUID-4705D236-DA34-44FB-A7D1-20ACCCBE0E51" name="GUID-4705D236-DA34-44FB-A7D1-20ACCCBE0E51"></a><h4 id="SQPUG-GUID-4705D236-DA34-44FB-A7D1-20ACCCBE0E51" class="sect4"><span class="enumeration_section">6.2.5</span>列出和删除中断定义</h4>
                  <div>
                     <div class="section">
                        <p>在继续之前，请关闭顶部标题显示而不更改其定义：</p><pre class="oac_no_warn" dir="ltr">TTITLE OFF</pre><p>您可以列出当前的中断定义<a id="d13690e1448" class="indexterm-anchor"></a>进入BREAK <a id="d13690e1453" class="indexterm-anchor"></a>命令没有子句：</p><pre class="oac_no_warn" dir="ltr">打破</pre><p>你可以删除<a id="d13690e1462" class="indexterm-anchor"></a>通过输入CLEAR来确定当前的中断定义<a id="d13690e1467" class="indexterm-anchor"></a>用BREAKS命令<a id="d13690e1472" class="indexterm-anchor"></a>条款：</p><pre class="oac_no_warn" dir="ltr">明确的休息</pre><p>您可能希望放置命令<a id="d13690e1479" class="indexterm-anchor"></a>每个脚本开头的CLEAR BREAK，以确保先前输入的BREAK命令不会影响您在给定文件中运行的查询。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="SQPUG495"></a><a id="SQPUG496"></a><a id="SQPUG494"></a><div class="props_rev_3"><a id="GUID-8D56E526-AD0E-407C-9648-65FA54C08295" name="GUID-8D56E526-AD0E-407C-9648-65FA54C08295"></a><h4 id="SQPUG-GUID-8D56E526-AD0E-407C-9648-65FA54C08295" class="sect4"><span class="enumeration_section">6.2.6</span>当中断列的值发生变化时计算汇总行</h4>
                  <div>
                     <div class="section">
                        <p>如果你<a id="d13690e1510" class="indexterm-anchor"></a>使用BREAK将报告行组织到子集中<a id="d13690e1515" class="indexterm-anchor"></a>命令，您可以对行执行各种计算<a id="d13690e1520" class="indexterm-anchor"></a>在每个子集中。您可以使用SQL * Plus COMPUTE的功能执行此操作<a id="d13690e1525" class="indexterm-anchor"></a>命令。使用BREAK和COMPUTE <a id="d13690e1530" class="indexterm-anchor"></a>以下列形式一起命令：</p><pre class="oac_no_warn" dir="ltr">BREAK ON <span class="italic">break_column</span> COMPUTE <a id="d13690e1540" class="indexterm-anchor"></a>函数LABEL <span class="italic">label_name</span> OF <a id="d13690e1548" class="indexterm-anchor"></a> <span class="italic">列</span> <span class="italic">列</span> <span class="italic">列</span> <a id="d13690e1560" class="indexterm-anchor"></a> ...上<a id="d13690e1565" class="indexterm-anchor"></a> <span class="italic">break_column</span></pre><p>您可以包含多个中断列和操作，例如在BREAK命令中跳过行，只要在COMPRE命令中在ON之后命名的列也在BREAK命令中的ON之后出现。要在与COMPUTE结合使用时在BREAK中包含多个中断列和操作，请使用以下格式的这些命令：</p><pre class="oac_no_warn" dir="ltr">BREAK ON <span class="italic">break_column_1</span> SKIP PAGE ON <span class="italic">break_column_2</span> SKIP 1 COMPUTE函数LABEL <span class="italic">label_name</span> OF <span class="italic">列</span> <span class="italic">列</span> <span class="italic">列</span> ...ON <span class="italic">break_column_2</span></pre><p>没有相应的BREAK命令，COMPUTE命令无效。</p>
                        <p>您可以在NUMBER列上进行COMPUTE，在某些情况下，可以在所有类型的列上进行COMPUTE。有关更多信息，请参阅<a href="COMPUTE.html#GUID-F9E6205D-4C14-4D61-9B90-F6BB1AC08A8C">COMPUTE</a>命令。
                        </p>
                        <p>下表列出了计算功能及其效果</p>
                        <div class="tblformal" id="GUID-8D56E526-AD0E-407C-9648-65FA54C08295__GUID-0723920F-F28F-4C52-9A34-967A50FDA351">
                           <p class="titleintable">表6-1计算功能</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="计算功能" width="100%" border="1" summary="Shows the COMPUTE functions and descriptions." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="23%" id="d13690e1617">功能...</th>
                                    <th align="left" valign="bottom" width="77%" id="d13690e1620">计算......</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d13690e1625" headers="d13690e1617 "><pre class="oac_no_warn" dir="ltr">和</pre></td>
                                    <td align="left" valign="top" width="77%" headers="d13690e1625 d13690e1620 ">
                                       <p><a id="d13690e1630" class="indexterm-anchor"></a>列中值的总和。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d13690e1634" headers="d13690e1617 "><pre class="oac_no_warn" dir="ltr">最低</pre></td>
                                    <td align="left" valign="top" width="77%" headers="d13690e1634 d13690e1620 ">
                                       <p>列中的最小值。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d13690e1641" headers="d13690e1617 "><pre class="oac_no_warn" dir="ltr">最大值</pre></td>
                                    <td align="left" valign="top" width="77%" headers="d13690e1641 d13690e1620 ">
                                       <p>列中的最大值。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d13690e1648" headers="d13690e1617 "><pre class="oac_no_warn" dir="ltr">AVG</pre></td>
                                    <td align="left" valign="top" width="77%" headers="d13690e1648 d13690e1620 ">
                                       <p>列中值的平均值。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d13690e1655" headers="d13690e1617 "><pre class="oac_no_warn" dir="ltr">STD</pre></td>
                                    <td align="left" valign="top" width="77%" headers="d13690e1655 d13690e1620 ">
                                       <p>列中值的标准偏差。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d13690e1662" headers="d13690e1617 "><pre class="oac_no_warn" dir="ltr">方差</pre></td>
                                    <td align="left" valign="top" width="77%" headers="d13690e1662 d13690e1620 ">
                                       <p>列中值的变化。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d13690e1669" headers="d13690e1617 "><pre class="oac_no_warn" dir="ltr">计数</pre></td>
                                    <td align="left" valign="top" width="77%" headers="d13690e1669 d13690e1620 ">
                                       <p>列中的非空值数。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d13690e1676" headers="d13690e1617 "><pre class="oac_no_warn" dir="ltr">数</pre></td>
                                    <td align="left" valign="top" width="77%" headers="d13690e1676 d13690e1620 ">
                                       <p>列中的行数。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>您在COMPUTE命令中指定的功能适用于您在OF之后和ON之前输入的所有列。当有序列的值更改时，计算值将在单独的行上打印。</p>
                        <p>ON REPORT和ON ROW计算的标签出现在第一列;否则，它们出现在ON子句中指定的列中。</p>
                        <p>您可以使用更改计算标签<a id="d13690e1688" class="indexterm-anchor"></a>计算标签。如果你不<a id="d13690e1693" class="indexterm-anchor"></a>为计算值定义标签，SQL * Plus打印未缩写的函数关键字。
                        </p>
                        <p>可以使用。来抑制计算标签<a id="d13690e1701" class="indexterm-anchor"></a>中断列上COLUMN命令的NOPRINT选项。有关更多详细信息，请参阅<a href="COMPUTE.html#GUID-F9E6205D-4C14-4D61-9B90-F6BB1AC08A8C">COMPUTE</a>命令。如果对正在执行COMPUTE的列使用NOPRINT选项，则也会抑制COMPUTE结果。
                        </p><pre class="pre codeblock"><code>在JOB_ID跳过1 nodup上的DEPARTMENT_ID页面上的中断</code></pre><p>现在输入以下COMPUTE命令并运行当前查询：</p><pre class="oac_no_warn" dir="ltr">DEPARTMENT_ID上SALUAL的COMPUTE SUM</pre><pre class="pre codeblock"><code>DEPARTMENT_ID JOB_ID LAST_NAME SALARY ------------- ---------- ----------------------- -  ---------- 20 MK_MAN Hartstein 13000 ************* ********** ----------总和13000 DEPARTMENT_ID JOB_ID LAST_NAME SALARY ------------- ---------- ---------------------- --- ---------- 80 SA_MAN Russell 14000合作伙伴13500 ************* ********** -------- - 总和27500 DEPARTMENT_ID JOB_ID LAST_NAME SALARY ------------- ---------- ------------------- ------ ---------- 90 AD_PRES King 24000 AD_VP Kochhar 17000 De Haan 17000 ************* **********  - ---------总和58000 6行选中。</code></pre><p>要在不打印计算标签的情况下计算部门10和20的工资总和：</p><pre class="oac_no_warn" dir="ltr">COLUMN DUMMY NOPRINT;关于虚假的薪酬的计算和;打破DUMMY SKIP 1; SELECT DEPARTMENT_ID DUMMY，DEPARTMENT_ID，LAST_NAME，SALARY FROM EMP_DETAILS_VIEW WHERE SALARY&gt; 12000 ORDER BY DEPARTMENT_ID;</pre><pre class="pre codeblock"><code>DEPARTMENT_ID LAST_NAME SALARY ------------- ------------------------- --------- -  20 Hartstein 13000 ---------- 13000 80 Russell 14000 80 Partners 13500 ---------- 27500 90 King 24000 90 Kochhar 17000 90 De Haan 17000 -------- - 选择58000 6行。</code></pre><p>要计算报告末尾的工资：</p><pre class="oac_no_warn" dir="ltr">COLUMN DUMMY NOPRINT;关于虚假的薪酬的计算和;打破DUMMY; SELECT NULL DUMMY，DEPARTMENT_ID，LAST_NAME，SALARY FROM EMP_DETAILS_VIEW WHERE SALARY&gt; 12000 ORDER BY DEPARTMENT_ID;</pre><pre class="pre codeblock"><code>DEPARTMENT_ID LAST_NAME SALARY ------------- ------------------------- --------- -  20 Hartstein 13000 80 Russell 14000 80合作伙伴13500 90 King 24000 90 Kochhar 17000 90 De Haan 17000 ---------- 98500 6行选择。</code></pre><p>建立NUMBER列的格式时，必须考虑报告中包含的总和的大小。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-8D56E526-AD0E-407C-9648-65FA54C08295__GUID-974B0F42-C107-4056-B470-32391A96CFBD">
                        <p class="titleinexample">例6-13计算和打印小计</p>
                        <p>要按部门计算SALARY的总数，首先列出当前的BREAK定义：</p><pre class="oac_no_warn" dir="ltr">打破</pre><p>它显示当前的BREAK定义：</p>
                     </div>
                     <!-- class="example" -->
                  </div>
               </div><a id="SQPUG498"></a><a id="SQPUG497"></a><div class="props_rev_3"><a id="GUID-A4F72BFE-9263-40C6-A200-EF74D2B22A4A" name="GUID-A4F72BFE-9263-40C6-A200-EF74D2B22A4A"></a><h4 id="SQPUG-GUID-A4F72BFE-9263-40C6-A200-EF74D2B22A4A" class="sect4"><span class="enumeration_section">6.2.7</span>报告结尾处的计算摘要行</h4>
                  <div>
                     <div class="section">
                        <p>您可以计算和打印摘要行<a id="d13690e1764" class="indexterm-anchor"></a>使用BREAK基于列中的所有值<a id="d13690e1769" class="indexterm-anchor"></a>和COMPUTE <a id="d13690e1774" class="indexterm-anchor"></a>以下形式：</p><pre class="oac_no_warn" dir="ltr">打破<a id="d13690e1781" class="indexterm-anchor"></a>报告<a id="d13690e1786" class="indexterm-anchor"></a>计算<a id="d13690e1791" class="indexterm-anchor"></a>函数LABEL <span class="italic">label_name</span> OF <span class="italic">列</span> <span class="italic">列</span> <span class="italic">列</span> ...报告<a id="d13690e1809" class="indexterm-anchor"></a></pre><pre class="pre codeblock"><code>LAST_NAME SALARY ------------------------- ---------- Russell 14000 Partners 13500 Errazuriz 12000 Cambrault 11000 Zlotkey 10500 --- -------总计61000</code></pre><p>打印<a id="d13690e1817" class="indexterm-anchor"></a>除了小计（或小平均等）之外，总计（或大平均值，最大值等），包括BREAK中的中断列和ON REPORT子句<a id="d13690e1822" class="indexterm-anchor"></a>命令。然后，输入一个COMPUTE <a id="d13690e1827" class="indexterm-anchor"></a> break列的命令和另一个计算ON REPORT的命令：</p><pre class="oac_no_warn" dir="ltr">BREAK ON break_column ON REPORT COMPUTE函数LABEL label_name OF列ON break_column COMPUTE函数LABEL label_name OF列ON REPORT</pre></div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-A4F72BFE-9263-40C6-A200-EF74D2B22A4A__I1081949">
                        <p class="titleinexample">例6-14计算和打印总计</p>
                        <p>要计算并打印所有销售人员的工资总额并更改计算标签，请先输入以下BREAK和<a id="d13690e1839" class="indexterm-anchor"></a> COMPUTE命令：</p><pre class="oac_no_warn" dir="ltr">报告计算报表上的报表累计报表总计</pre><p>接下来，输入并运行一个新查询：</p><pre class="oac_no_warn" dir="ltr">SELECT LAST_NAME，SALARY FROM EMP_DETAILS_VIEW WHERE JOB_ID ='SA_MAN';</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="SQPUG500"></a><a id="SQPUG501"></a><a id="SQPUG499"></a><div class="props_rev_3"><a id="GUID-E6964F91-0663-42F0-A414-36D4FE278C39" name="GUID-E6964F91-0663-42F0-A414-36D4FE278C39"></a><h4 id="SQPUG-GUID-E6964F91-0663-42F0-A414-36D4FE278C39" class="sect4"><span class="enumeration_section">6.2.8</span>计算多个汇总值和行</h4>
                  <div>
                     <div class="section">
                        <p>您可以计算和打印相同类型的摘要<a id="d13690e1875" class="indexterm-anchor"></a>不同列上的值。为此，请输入单独的COMPUTE <a id="d13690e1880" class="indexterm-anchor"></a>每列的命令。
                        </p><pre class="pre codeblock"><code>1 * SELECT LAST_NAME，SALARY</code></pre><pre class="oac_no_warn" dir="ltr">APPEND，COMMISSION_PCT;</pre><p>最后，运行修订后的查询以查看结果：</p><pre class="oac_no_warn" dir="ltr">/</pre><pre class="pre codeblock"><code>LAST_NAME SALARY COMMISSION_PCT ------------------------- ---------- ------------ -  Russell 14000 .4 Partners 13500 .3 Errazuriz 12000 .3 Cambrault 11000 .3 Zlotkey 10500 .2 ---------- -------------- sum 61000 1.5</code></pre><p>您还可以打印多个摘要行<a id="d13690e1897" class="indexterm-anchor"></a>在同一个休息栏上。为此，请在COMPUTE中包含每个汇总行的功能<a id="d13690e1902" class="indexterm-anchor"></a>命令如下：</p><pre class="oac_no_warn" dir="ltr">COMPUTE <span class="italic">函数</span> LABEL <span class="italic">label_name</span> <span class="italic">函数</span> LABEL <span class="italic">label_name</span> <span class="italic">函数</span> LABEL <span class="italic">label_name</span> ...OF列<span class="italic">break_column</span></pre><p>如果在OF之后和ON之前包含多个列，COMPUTE将计算并打印您指定的每个列的值。</p><pre class="pre codeblock"><code>DEPARTMENT_ID LAST_NAME SALARY ------------- ------------------------- --------- -  30 Colmenares 2500 Himuro 2600 Tobias 2800 Baida 2900 Khoo 3100 Raphaely 11000 ************* ---------- avg 4150 sum 24900 6行选择。</code></pre></div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-E6964F91-0663-42F0-A414-36D4FE278C39__GUID-142AFF7F-D7A0-4347-87B2-30125D92DCD5">
                        <p class="titleinexample">示例6-15在不同列上计算相同类型的汇总值</p>
                        <p>要打印所有销售人员的工资和佣金总额，请先输入以下COMPUTE命令：</p><pre class="oac_no_warn" dir="ltr">关于薪酬委员会的报告_报告</pre><p>您不必输入BREAK命令;您在<a href="formatting-SQL-Plus-reports.html#GUID-A4F72BFE-9263-40C6-A200-EF74D2B22A4A__I1081949">示例6-14中</a>输入的BREAK仍然有效。现在，更改select查询的第一行以包含COMMISSION_PCT：</p><pre class="oac_no_warn" dir="ltr">1</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-E6964F91-0663-42F0-A414-36D4FE278C39__GUID-FD86ECF9-E70F-481F-BAA9-71074054BAF8">
                        <p class="titleinexample">示例6-16在同一个拆分列上计算多个汇总行</p>
                        <p>要计算销售部门的工资平均值和总和，请先输入以下BREAK和COMPUTE命令：</p><pre class="oac_no_warn" dir="ltr">在DEPARTMENT_ID上的DEPARTMENT_ID COMPUTE AVG SUM支持</pre><p>现在，输入并运行以下查询：</p><pre class="oac_no_warn" dir="ltr">SELECT DEPARTMENT_ID，LAST_NAME，SALAL FROM EMP_DETAILS_VIEW WHERE DEPARTMENT_ID = 30 ORDER BY DEPARTMENT_ID，SALARY;</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="SQPUG503"></a><a id="SQPUG502"></a><div class="props_rev_3"><a id="GUID-6E7DF163-BB0B-4C84-AED1-878595129837" name="GUID-6E7DF163-BB0B-4C84-AED1-878595129837"></a><h4 id="SQPUG-GUID-6E7DF163-BB0B-4C84-AED1-878595129837" class="sect4"><span class="enumeration_section">6.2.9</span>列出和删除COMPUTE定义</h4>
                  <div>
                     <div class="section">
                        <p>您可以列出当前的COMPUTE <a id="d13690e1983" class="indexterm-anchor"></a>通过输入带有子句的COMPUTE命令来定义：</p><pre class="oac_no_warn" dir="ltr">计算</pre><pre class="pre codeblock"><code>打破了</code></pre><pre class="oac_no_warn" dir="ltr">清晰的计算</pre><pre class="pre codeblock"><code>计算清除</code></pre><p>您可能希望在每个脚本的开头放置命令CLEAR BREAKS和CLEAR COMPUTES，以确保先前输入的BREAK和COMPUTE命令不会影响您在给定文件中运行的查询。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-6E7DF163-BB0B-4C84-AED1-878595129837__GUID-D1564C33-F8A9-4B8A-926D-63C92C1FF30B">
                        <p class="titleinexample">示例6-17删除COMPUTE定义</p>
                        <p>删除所有COMPUTE <a id="d13690e2003" class="indexterm-anchor"></a>定义和随附的BREAK定义，输入以下命令：</p><pre class="oac_no_warn" dir="ltr">明确的休息</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div><a id="SQPUG504"></a><div class="props_rev_3"><a id="GUID-59489A36-AAC7-4A46-ABB1-B41FB61C012C" name="GUID-59489A36-AAC7-4A46-ABB1-B41FB61C012C"></a><h3 id="SQPUG-GUID-59489A36-AAC7-4A46-ABB1-B41FB61C012C" class="sect3"><span class="enumeration_section">6.3</span>关于定义页面和报告标题和维度</h3>
               <div>
                  <p><a id="d13690e2032" class="indexterm-anchor"></a>该<a id="d13690e2037" class="indexterm-anchor"></a>字<a id="d13690e2042" class="indexterm-anchor"></a>页面是指屏幕上显示的信息，或者是一个假脱机（打印）报告的页面。你可以放置<a id="d13690e2047" class="indexterm-anchor"></a>顶部和<a id="d13690e2052" class="indexterm-anchor"></a>每页的底部标题，设置每页的行数，并确定每行的宽度。
                  </p>
                  <p><a id="d13690e2058" class="indexterm-anchor"></a><a id="d13690e2062" class="indexterm-anchor"></a><a id="d13690e2066" class="indexterm-anchor"></a><a id="d13690e2070" class="indexterm-anchor"></a>单词报告指的是查询的完整结果。您还可以在每个报表上放置页眉和页脚，并以与页面上的顶部和底部标题相同的方式对其进行格式化。
                  </p>
               </div><a id="SQPUG506"></a><a id="SQPUG507"></a><a id="SQPUG505"></a><div class="props_rev_3"><a id="GUID-395AB20D-5074-4F49-B332-333A59E175BB" name="GUID-395AB20D-5074-4F49-B332-333A59E175BB"></a><h4 id="SQPUG-GUID-395AB20D-5074-4F49-B332-333A59E175BB" class="sect4"><span class="enumeration_section">6.3.1</span>设置顶部和底部标题以及页眉和页脚</h4>
                  <div>
                     <div class="section">
                        <p>如您所见，您可以设置标题以显示在报告的每个页面的顶部。您还可以设置标题以显示在每页的底部。TTITLE <a id="d13690e2100" class="indexterm-anchor"></a>命令定义顶部标题; BTITLE <a id="d13690e2103" class="indexterm-anchor"></a>命令定义底部标题。
                        </p>
                        <p>您还可以为每个报告设置页眉和页脚。该<a id="d13690e2108" class="indexterm-anchor"></a> REPHEADER命令定义报告头;该<a id="d13690e2111" class="indexterm-anchor"></a> REPFOOTER命令定义报告页脚。
                        </p>
                        <p>TTITLE，BTITLE，REPHEADER或REPFOOTER命令由命令名称后跟一个或多个子句组成，这些子句指定您希望放置在该位置或给出该格式的位置或格式以及CHAR值。您可以包含多组子句和CHAR值：</p><pre class="oac_no_warn" dir="ltr">TTITLE <span class="italic">position_clause</span> （s） <span class="italic">char_value</span> <span class="italic">position_clause</span> （s） <span class="italic">char_value</span> ...BTITLE <span class="italic">position_clause</span> （s） <span class="italic">char_value</span> <span class="italic">position_clause</span> （s） <span class="italic">char_value</span> ...REPHEADER <span class="italic">position_clause</span> （s） <span class="italic">char_value</span> <span class="italic">position_clause</span> （s） <span class="italic">char_value</span> ...REPFOOTER <span class="italic">position_clause</span> （s） <span class="italic">char_value</span> <span class="italic">position_clause</span> （s） <span class="italic">char_value</span> ...</pre><p>有关所有TTITLE，BTITLE，REPHEADER和REPFOOTER子句的说明，请参阅<a href="TTITLE.html#GUID-16B746C2-40EF-440B-AD75-CC94F5506B53">TTITLE</a>命令和<a href="REPHEADER.html#GUID-EBD326DA-D46D-4225-8249-8EB5F6B9A7D9">REPHEADER</a>命令。
                        </p><pre class="pre codeblock"><code>ACME SALES DEPARTMENT PERSONNEL REPORTMENT_ID LAST_NAME SALARY ------------- ------------------------- ---- ------ 30 Colmenares 2500 30 Himuro 2600 30 Tobias 2800 30 Baida 2900 30 Khoo 3100 30 Raphaely 11000 COMPANY CONFIDENTIAL选择6行。</code></pre><pre class="pre codeblock"><code>ACME销售部门人员报告完美的WIDGETS公司机密ACME销售部门人事报告DEPARTMENT_ID LAST_NAME SALARY ------------- -------------------- ----- ---------- 30 Colmenares 2500 30 Himuro 2600 30 Tobias 2800 30 Baida 2900 30 Khoo 3100 30 Raphaely 11000 COMPANY CONFIDENTIAL选择6行。</code></pre><p>至<a id="d13690e2184" class="indexterm-anchor"></a>在不更改其定义的情况下禁止报告标题，输入</p><pre class="oac_no_warn" dir="ltr">REPHEADER关闭</pre></div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-395AB20D-5074-4F49-B332-333A59E175BB__GUID-77FC4363-FAE4-4CCB-8E0C-9B636BD29E85">
                        <p class="titleinexample">示例6-18在页面上放置顶部和底部标题</p>
                        <p>要将标题放在报表每页的顶部和底部，请输入</p><pre class="oac_no_warn" dir="ltr">TTITLE CENTER  - “ACME SALES DEPARTMENT PERSONNEL REPORT”BTITLE CENTER“COMPANY CONFIDENTIAL”</pre><p>现在运行当前查询：</p><pre class="oac_no_warn" dir="ltr">/</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-395AB20D-5074-4F49-B332-333A59E175BB__GUID-9DAD4C5E-7CEB-46F4-B63A-0D8140A43584">
                        <p class="titleinexample">示例6-19在报表上放置标题</p>
                        <p>要将报告标题放在单独的页面上，并将其居中，请输入</p><pre class="oac_no_warn" dir="ltr">REPHEADER PAGE CENTER'完美的小工具'</pre><p>现在运行当前查询：</p><pre class="oac_no_warn" dir="ltr">/</pre><p>显示以下两页输出，第一页显示新的REPHEADER：</p>
                     </div>
                     <!-- class="example" -->
                  </div><a id="SQPUG509"></a><a id="SQPUG508"></a><div class="props_rev_3"><a id="GUID-1F7384C6-BF67-4F1F-B538-2398B16D27F5" name="GUID-1F7384C6-BF67-4F1F-B538-2398B16D27F5"></a><h5 id="SQPUG-GUID-1F7384C6-BF67-4F1F-B538-2398B16D27F5" class="sect5"><span class="enumeration_section">6.3.1.1</span>定位标题元素</h5>
                     <div>
                        <div class="section">
                           <p>如果您更加强调公司名称并将报告类型和部门名称放在单独行的任一端，则前面练习中的报告可能看起来更具吸引力。它也可能有助于减小线条大小，从而使标题居中<a id="d13690e2239" class="indexterm-anchor"></a><a id="d13690e2243" class="indexterm-anchor"></a>更紧密地围绕数据。
                           </p>
                           <p>您可以通过向TTITLE添加一些子句来完成这些更改<a id="d13690e2250" class="indexterm-anchor"></a>命令和重置系统变量<a id="d13690e2255" class="indexterm-anchor"></a> LINESIZE <a id="d13690e2260" class="indexterm-anchor"></a> ，如下例所示。
                           </p>
                           <p>您可以使用与BTITLE和TTITLE相同的方式设置报表页眉和页脚的格式<a id="d13690e2265" class="indexterm-anchor"></a> REPHEADER和REPFOOTER命令。
                           </p><pre class="pre codeblock"><code>ACMEWIDGET ====================人事报告销售部门部门_ID LAST_NAME SALARY ------------- --------- ---------------- ---------- 30 Colmenares 2500 30 Himuro 2600 30 Tobias 2800 30 Baida 2900 30 Khoo 3100 30 Raphaely 11000 COMPANY CONFIDENTIAL选择6行。</code></pre><p>该<a id="d13690e2274" class="indexterm-anchor"></a>剩下<a id="d13690e2279" class="indexterm-anchor"></a> ， <a id="d13690e2282" class="indexterm-anchor"></a>对<a id="d13690e2287" class="indexterm-anchor"></a> ，和<a id="d13690e2290" class="indexterm-anchor"></a>中央<a id="d13690e2296" class="indexterm-anchor"></a>子句将以下值放在行的开头，结尾和中心。该<a id="d13690e2299" class="indexterm-anchor"></a>跳跃<a id="d13690e2304" class="indexterm-anchor"></a>子句告诉SQL * Plus向下移动一行或多行。
                           </p>
                           <p>请注意，结果的最后一行与底部标题之间不再有任何空格。底部标题的最后一行打印在页面的最后一行。报告的最后一行与底部标题之间的空间量<a id="d13690e2311" class="indexterm-anchor"></a>取决于整个页面大小，顶部标题占用的行数以及给定页面中的行数。在上面的示例中，顶部标题占用的行数比前一个示例中的顶部标题多三行。您将学习如何在本章后面设置每页的行数。
                           </p>
                           <p>要始终在底部标题之前打印n个空白行，请使用SKIP <a id="d13690e2318" class="indexterm-anchor"></a> BTITLE开头的n条款<a id="d13690e2323" class="indexterm-anchor"></a>命令。例如，要跳过上例中底部标题之前的一行，您可以输入以下命令：</p><pre class="oac_no_warn" dir="ltr">BTITLE SKIP 1 CENTER'COMMANY CONFIDENTIAL'</pre></div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-1F7384C6-BF67-4F1F-B538-2398B16D27F5__GUID-69527FEB-388B-4F0F-884E-EAE3BD34D77C">
                           <p class="titleinexample">示例6-20定位标题元素</p>
                           <p>要使用重新定位的顶部标题重新显示人事报告，请输入以下命令：</p><pre class="oac_no_warn" dir="ltr">TTITLE CENTER'ACMEWIDGE T'跳过1  - 中心====================跳过1个“人事报告” - 正确的“销售部门”跳过2套LINESIZE 60 /</pre></div>
                        <!-- class="example" -->
                     </div>
                  </div><a id="SQPUG511"></a><a id="SQPUG510"></a><div class="props_rev_3"><a id="GUID-18815D7E-06EE-43BA-A499-887616767C26" name="GUID-18815D7E-06EE-43BA-A499-887616767C26"></a><h5 id="SQPUG-GUID-18815D7E-06EE-43BA-A499-887616767C26" class="sect5"><span class="enumeration_section">6.3.1.2</span>缩进标题元素</h5>
                     <div>
                        <div class="section">
                           <p>你可以使用COL <a id="d13690e2361" class="indexterm-anchor"></a>条款<a id="d13690e2364" class="indexterm-anchor"></a> TTITLE <a id="d13690e2369" class="indexterm-anchor"></a>或BTITLE缩进标题<a id="d13690e2374" class="indexterm-anchor"></a>元素一个特定的空格数。例如，COL 1将以下值放在第一个字符位置，因此等效于LEFT或缩进为零。COL 15将title元素放在第15个字符位置，将其缩进14个空格。
                           </p><pre class="pre codeblock"><code>ACME WIDGET SALES DEPARTMENT PERSONNEL REPORTMENT_ID LAST_NAME SALARY ------------- ------------------------- --- ------- 30 Colmenares 2500 30 Himuro 2600 30 Tobias 2800 30 Baida 2900 30 Khoo 3100 30 Raphaely 11000 COMPANY CONFIDENTIAL 6行选择。</code></pre></div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-18815D7E-06EE-43BA-A499-887616767C26__GUID-400ED5F6-ACB9-4C97-9D32-0D8EBD86C4C9">
                           <p class="titleinexample">例6-21缩进标题元素</p>
                           <p>要打印与报表名称左对齐的公司名称，请在下一行中缩进五个空格，然后输入</p><pre class="oac_no_warn" dir="ltr">TTITLE LEFT'ACME WIDGET'跳过1  -  COL 6'销售部门人员报告'跳过2</pre><p>现在重新运行当前查询以查看结果：</p><pre class="oac_no_warn" dir="ltr">/</pre></div>
                        <!-- class="example" -->
                     </div>
                  </div><a id="SQPUG512"></a><div class="props_rev_3"><a id="GUID-83DE3245-B76C-4BD2-BC8F-F704B71C427F" name="GUID-83DE3245-B76C-4BD2-BC8F-F704B71C427F"></a><h5 id="SQPUG-GUID-83DE3245-B76C-4BD2-BC8F-F704B71C427F" class="sect5"><span class="enumeration_section">6.3.1.3</span>输入长标题</h5>
                     <div>
                        <div class="section">
                           <p>如果需要输入长度超过500个字符的标题，可以使用SQL * Plus命令DEFINE将标题每行的文本放在单独的替换变量中：</p><pre class="oac_no_warn" dir="ltr">DEFINE LINE1 ='这是第一行......'DEFINE LINE2 ='这是第二行......'DEFINE LINE3 ='这是第三行......“</pre><p>然后，在TTITLE或BTITLE命令中引用变量，如下所示：</p><pre class="oac_no_warn" dir="ltr">TTITLE CENTER LINE1 SKIP 1 CENTER LINE2 SKIP 1  -  CENTER LINE3</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div><a id="SQPUG514"></a><a id="SQPUG515"></a><a id="SQPUG513"></a><div class="props_rev_3"><a id="GUID-CFEE3E3D-5071-4014-BFF3-3380E378FF0D" name="GUID-CFEE3E3D-5071-4014-BFF3-3380E378FF0D"></a><h4 id="SQPUG-GUID-CFEE3E3D-5071-4014-BFF3-3380E378FF0D" class="sect4"><span class="enumeration_section">6.3.2</span>在标题中显示系统维护的值</h4>
                  <div>
                     <div class="section">
                        <p>您可以显示当前页码<a id="d13690e2447" class="indexterm-anchor"></a>和其他系统维护<a id="d13690e2450" class="indexterm-anchor"></a>你的价值观<a id="d13690e2455" class="indexterm-anchor"></a>标题<a id="d13690e2460" class="indexterm-anchor"></a>通过输入系统值名称作为标题元素，例如：</p><pre class="oac_no_warn" dir="ltr">TTITLE LEFT <span class="italic">system-maintain_value_name</span></pre><p>您可以在标题中显示五个系统维护的值，其中最常用的是SQL.PNO <a id="d13690e2471" class="indexterm-anchor"></a> （当前页码）。有关可以在标题中显示的系统维护值的列表，请参阅<a href="TTITLE.html#GUID-16B746C2-40EF-440B-AD75-CC94F5506B53">TTITLE</a> 。
                        </p><pre class="pre codeblock"><code>ACMEWIDGET PAGE：1 DEPARTMENT_ID LAST_NAME SALARY ------------- ------------------------- ----- ----- 30 Colmenares 2500 30 Himuro 2600 30 Tobias 2800 30 Baida 2900 30 Khoo 3100 30 Raphaely 11000 COMPANY CONFIDENTIAL选择6行。</code></pre><p>请注意，SQL.PNO的格式为十个空格宽。您可以使用FORMAT更改此格式<a id="d13690e2482" class="indexterm-anchor"></a> TTITLE的条款<a id="d13690e2487" class="indexterm-anchor"></a> （或BTITLE）。
                        </p><pre class="pre codeblock"><code>ACME WIDGET'PAGE：'1 DEPARTMENT_ID LAST_NAME SALARY ------------- -------------------------  - -------- 30 Colmenares 2500 30 Himuro 2600 30 Tobias 2800 30 Baida 2900 30 Khoo 3100 30 Raphaely 11000 COMPANY CONFIDENTIAL选择6行。</code></pre></div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-CFEE3E3D-5071-4014-BFF3-3380E378FF0D__GUID-45637E4F-B4C7-4CD3-8E02-F5AE24AA05D9">
                        <p class="titleinexample">例6-22显示标题中的当前页码</p>
                        <p>要显示每页顶部的当前页码以及公司名称，请输入以下命令：</p><pre class="oac_no_warn" dir="ltr">TTITLE LEFT'ACME WIDGET'正确'页面：'SQL.PNO SKIP 2</pre><p>现在重新运行当前查询：</p><pre class="oac_no_warn" dir="ltr">/</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-CFEE3E3D-5071-4014-BFF3-3380E378FF0D__GUID-575EDBD4-6B2F-476E-B475-B50CDFD02251">
                        <p class="titleinexample">示例6-23在标题中格式化系统维护的值</p>
                        <p>至<a id="d13690e2510" class="indexterm-anchor"></a>关<a id="d13690e2515" class="indexterm-anchor"></a>在PAGE：和页码之间的空格处，重新输入TTITLE命令，如下所示：</p><pre class="oac_no_warn" dir="ltr">TTITLE LEFT'ACME WIDGET'正确'页面：'格式999  -  SQL.PNO SKIP 2</pre><p>现在重新运行查询：</p><pre class="oac_no_warn" dir="ltr">/</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="SQPUG516"></a><div class="props_rev_3"><a id="GUID-55A63840-28B2-48AA-A303-AC5A6EA1C85D" name="GUID-55A63840-28B2-48AA-A303-AC5A6EA1C85D"></a><h4 id="SQPUG-GUID-55A63840-28B2-48AA-A303-AC5A6EA1C85D" class="sect4"><span class="enumeration_section">6.3.3</span>列出，抑制和恢复页面标题定义</h4>
                  <div>
                     <div class="section">
                        <p>列出页面标题<a id="d13690e2550" class="indexterm-anchor"></a>定义，输入没有子句的相应title命令：</p><pre class="oac_no_warn" dir="ltr">TTITLE <a id="d13690e2557" class="indexterm-anchor"></a> BTITLE</pre><p>压制标题<a id="d13690e2564" class="indexterm-anchor"></a>定义，输入：</p><pre class="oac_no_warn" dir="ltr">TTITLE <a id="d13690e2571" class="indexterm-anchor"></a><a id="d13690e2576" class="indexterm-anchor"></a>关闭<a id="d13690e2581" class="indexterm-anchor"></a> BTITLE OFF</pre><p>这些命令导致SQL * Plus停止在报表上显示标题，但不清除标题的当前定义。 <a id="d13690e2588" class="indexterm-anchor"></a> 您可以输入以下命令恢复当前定义：</p><pre class="oac_no_warn" dir="ltr">TTITLE <a id="d13690e2595" class="indexterm-anchor"></a><a id="d13690e2600" class="indexterm-anchor"></a>上<a id="d13690e2605" class="indexterm-anchor"></a> BTITLE ON</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="SQPUG518"></a><a id="SQPUG517"></a><div class="props_rev_3"><a id="GUID-25BBD108-B443-46E9-BE49-9AE60805DC9D" name="GUID-25BBD108-B443-46E9-BE49-9AE60805DC9D"></a><h4 id="SQPUG-GUID-25BBD108-B443-46E9-BE49-9AE60805DC9D" class="sect4"><span class="enumeration_section">6.3.4</span>在标题中显示列值</h4>
                  <div>
                     <div class="section">
                        <p>您<a id="d13690e2634" class="indexterm-anchor"></a>可能希望创建主/详细报告<a id="d13690e2639" class="indexterm-anchor"></a>显示更改的主列<a id="d13690e2644" class="indexterm-anchor"></a>每个页面顶部的值，下面是该值的详细查询结果。您可以通过将所需值存储在变量中并引用TTITLE中的变量来引用顶部标题中的列值<a id="d13690e2649" class="indexterm-anchor"></a>命令。使用以下形式<a id="d13690e2654" class="indexterm-anchor"></a>柱<a id="d13690e2660" class="indexterm-anchor"></a><a id="d13690e2664" class="indexterm-anchor"></a>用于定义变量的命令：</p><pre class="oac_no_warn" dir="ltr">COLUMN <span class="italic">column_name</span> NEW_VALUE <a id="d13690e2674" class="indexterm-anchor"></a> <span class="italic">变量名</span></pre><p>您必须在ORDER BY中包含主列<a id="d13690e2681" class="indexterm-anchor"></a>条款和BREAK <a id="d13690e2686" class="indexterm-anchor"></a>命令使用SKIP PAGE子句。
                        </p><pre class="pre codeblock"><code>经理：101 DEPARTMENT_ID LAST_NAME SALARY ------------- ------------------------- ------ ---- 10 Whalen 4400 40 Mavris 6500 70 Baer 10000 100 Greenberg 12000 110 Higgins 12000经理：201 DEPARTMENT_ID LAST_NAME SALARY ------------- ------------ ------------- ---------- 20 Fay 6000 6行选中。</code></pre><p>如果要打印列的值<a id="d13690e2695" class="indexterm-anchor"></a>在页面底部，您可以使用COLUMN <a id="d13690e2700" class="indexterm-anchor"></a>命令格式如下：</p><pre class="oac_no_warn" dir="ltr">柱<a id="d13690e2707" class="indexterm-anchor"></a> <span class="italic">column_name</span> OLD_VALUE <a id="d13690e2715" class="indexterm-anchor"></a> <span class="italic">变量名</span></pre><p>在查找主列的新值之后，SQL * Plus将打印底部标题作为打破新页面的过程的一部分。因此，如果您只是引用了主列的NEW_VALUE，那么您将获得下一组详细信息的值。OLD_VALUE会记住在分页开始之前生效的主列的值。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-25BBD108-B443-46E9-BE49-9AE60805DC9D__GUID-A09107BE-C512-4080-AD05-8AE1C770B8DC">
                        <p class="titleinexample">示例6-24创建主/明细报告</p>
                        <p>假设您要创建一个报告，该报告显示两个不同经理的员工编号，每个编号位于单独页面的顶部，并且人员在与经理员工编号相同的页面上向经理报告。首先创建一个变量MGRVAR，以保存当前经理的员工编号的值：</p><pre class="oac_no_warn" dir="ltr">COLUMN MANAGER_ID NEW_VALUE MGRVAR NOPRINT</pre><p>因为您只会在标题中显示经理的员工编号，所以您不希望它们作为详细信息的一部分进行打印。该<a id="d13690e2731" class="indexterm-anchor"></a> NOPRINT <a id="d13690e2736" class="indexterm-anchor"></a>您在上面输入的子句告诉SQL * Plus不打印列<a id="d13690e2739" class="indexterm-anchor"></a> MANAGER_ID。</p>
                        <p>接下来，在页面标题中包含标签和值，输入正确的BREAK命令，并取消上一个示例中的底部标题：</p><pre class="oac_no_warn" dir="ltr">TTITLE LEFT'经理：'MGRVAR SKIP 2 BREAK ON MANAGER_ID SKIP PAGE BTITLE OFF</pre><p>最后，输入并运行以下查询：</p><pre class="oac_no_warn" dir="ltr">SELECT MANAGER_ID，DEPARTMENT_ID，LAST_NAME，SALARY FROM EMP_DETAILS_VIEW WHERE MANAGER_ID IN（101,201）ORDER BY MANAGER_ID，DEPARTMENT_ID;</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="SQPUG519"></a><div class="props_rev_3"><a id="GUID-3F499C6E-8F69-4CA1-B82A-320FB38C9AC2" name="GUID-3F499C6E-8F69-4CA1-B82A-320FB38C9AC2"></a><h4 id="SQPUG-GUID-3F499C6E-8F69-4CA1-B82A-320FB38C9AC2" class="sect4"><span class="enumeration_section">6.3.5</span>关于在标题中显示当前日期</h4>
                  <div>
                     <p>当然，你可以约会<a id="d13690e2774" class="indexterm-anchor"></a>只需在标题中键入一个值即可生成报告<a id="d13690e2777" class="indexterm-anchor"></a> 。这对于即席报表来说是令人满意的，但如果要重复运行相同的报表，则可能希望在运行报表时自动显示日期。您可以通过创建一个变量来保存当前日期来完成此操作。
                     </p>
                     <p>您可以引用预定义的替换变量_DATE来显示标题中的当前日期，就像任何其他变量一样。</p>
                     <p>包含在LOGIN文件或SELECT语句中的日期格式模型决定了SQL * Plus显示日期的格式。有关日期格式模型的更多信息，请参见<a href="../sqlrf/index.html" target="_blank"><span class="italic">Oracle数据库SQL语言参考</span></a> 。有关<a href="configuring-SQL-Plus.html#GUID-ABEF3448-F0AD-4A19-8688-877ED1086347">LOGIN文件</a>的更多信息，请参见<a href="configuring-SQL-Plus.html#GUID-ABEF3448-F0AD-4A19-8688-877ED1086347">修改您</a>的LOGIN文件。
                     </p>
                     <p>您也可以以交互方式输入这些命令。有关更多信息，请参见<a href="COLUMN.html#GUID-643B665F-B134-4A0B-88F7-10400D6D199E">COLUMN</a> 。
                     </p>
                  </div>
               </div><a id="SQPUG521"></a><a id="SQPUG520"></a><div class="props_rev_3"><a id="GUID-DD6ABEB1-CEF8-4EA2-A352-799387D862CE" name="GUID-DD6ABEB1-CEF8-4EA2-A352-799387D862CE"></a><h4 id="SQPUG-GUID-DD6ABEB1-CEF8-4EA2-A352-799387D862CE" class="sect4"><span class="enumeration_section">6.3.6</span>设置页面尺寸</h4>
                  <div>
                     <div class="section">
                        <p>通常，报表的页面包含SET命令的NEWPAGE变量中设置的空白行数，顶部标题，列标题，查询结果和底部标题。SQL * Plus显示的报告太长，无法放在几个连续页面上的一个页面上，每个页面都有自己的标题和列标题。SQL * Plus在每个页面上显示的数据量取决于当前页面尺寸。</p>
                        <p>默认页面<a id="d13690e2828" class="indexterm-anchor"></a>尺寸<a id="d13690e2833" class="indexterm-anchor"></a> SQL * Plus使用的内容如下所示：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>顶部标题前的行数：1</p>
                           </li>
                           <li>
                              <p>每页的行数，从顶部标题到页面底部：14</p>
                           </li>
                           <li>
                              <p>每行字符数：80</p>
                           </li>
                        </ul>
                        <p>您<a id="d13690e2851" class="indexterm-anchor"></a>可以更改这些设置以匹配计算机屏幕的大小，或者，对于打印，可以更改一张纸的大小。
                        </p>
                        <p>您可以更改页面长度<a id="d13690e2858" class="indexterm-anchor"></a>使用系统变量PAGESIZE。例如，您可能希望在打印报告时这样做。
                        </p>
                        <p>设置每页开头和顶部标题之间的行数<a id="d13690e2865" class="indexterm-anchor"></a> ，使用NEWPAGE <a id="d13690e2870" class="indexterm-anchor"></a> SET的变量<a id="d13690e2873" class="indexterm-anchor"></a>命令：</p><pre class="oac_no_warn" dir="ltr">设置NEWPAGE <span class="italic">number_of_lines</span></pre><p>如果将NEWPAGE设置为零，则SQL * Plus将跳过零行并显示并打印换页<a id="d13690e2884" class="indexterm-anchor"></a>开始新页面的字符。在大多数类型的计算机屏幕上，换页符清除屏幕并将光标移动到第一行的开头。当您打印报告时，即使整个页面长度小于纸张的长度，换页符也会使打印机移动到新纸张的顶部。如果将NEWPAGE设置为NONE，则SQL * Plus不会在报告页面之间打印空行或换页。
                        </p>
                        <p>要设置页面上的行数，请使用PAGESIZE <a id="d13690e2889" class="indexterm-anchor"></a> SET的变量<a id="d13690e2892" class="indexterm-anchor"></a>命令：</p><pre class="oac_no_warn" dir="ltr">SET PAGESIZE <span class="italic">number_of_lines</span></pre><p>您可能希望缩小线条大小以使标题在输出上正确居中，或者您可能希望增加在宽幅纸张上打印的线条尺寸。你可以改变这条线<a id="d13690e2903" class="indexterm-anchor"></a>使用LINESIZE的宽度<a id="d13690e2908" class="indexterm-anchor"></a> SET的变量<a id="d13690e2911" class="indexterm-anchor"></a>命令：</p><pre class="oac_no_warn" dir="ltr">SET LINESIZE <span class="italic">number_of_characters</span></pre><pre class="pre codeblock"><code>ACME WIDGET人事报告01-JAN-2001第一个上个月的第一个部门_名称姓名SALARY ------------- --------------------  - ------------------------ -------- 90 Steven King $ 24,000 90 Neena Kochhar $ 17,000 90 Lex De Haan $ 17,000 80 John Russell $ 14,000 80 Karen Partners $ 13,500 20 Michael Hartstein选择13,000美元6行。</code></pre><p>现在将PAGESIZE，NEWPAGE和LINESIZE重置为默认值：</p><pre class="oac_no_warn" dir="ltr">SET PAGESIZE 14 SET NEWPAGE 1 SET LINESIZE 80</pre><p>要列出这些变量的当前值，请使用SHOW <a id="d13690e2929" class="indexterm-anchor"></a>命令：</p><pre class="oac_no_warn" dir="ltr">SHOW PAGESIZE SHOW NEWPAGE SHOW LINESIZE</pre><p>通过SQL * Plus命令SPOOL <a id="d13690e2938" class="indexterm-anchor"></a> ，您可以将查询结果存储在文件中，或将其打印在计算机的默认打印机上。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-DD6ABEB1-CEF8-4EA2-A352-799387D862CE__GUID-745B326A-8AE3-4271-BCBB-F2A509312B3C">
                        <p class="titleinexample">示例6-25设置页面尺寸</p>
                        <p>要将页面大小设置为66行，请在每页开头清除屏幕（或将打印机前进到新纸张），并将行大小设置为70，然后输入以下命令：</p><pre class="oac_no_warn" dir="ltr">SET PAGESIZE 66 SET NEWPAGE 0 SET LINESIZE 70</pre><p>现在输入并运行以下命令以查看结果：</p><pre class="oac_no_warn" dir="ltr">TTITLE CENTER'ACME WIDGET人员报告'跳过1  - 中心'01 -JAN-2001'跳过2</pre><p>现在运行以下查询：</p><pre class="oac_no_warn" dir="ltr">COLUMN FIRST_NAME'HEADING'First | NAME'; COLUMN LAST_NAME'最后'姓名'; COLUMN SALARY HEADING'每月| SALARY'格式$ 99,999; SELECT DEPARTMENT_ID，FIRST_NAME，LAST_NAME，SALARY FROM EMP_DETAILS_VIEW WHERE SALARY&gt; 12000;</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div><a id="SQPUG522"></a><div class="props_rev_3"><a id="GUID-C090CF51-7A15-4372-8504-5EF1232B8DBB" name="GUID-C090CF51-7A15-4372-8504-5EF1232B8DBB"></a><h3 id="SQPUG-GUID-C090CF51-7A15-4372-8504-5EF1232B8DBB" class="sect3"><span class="enumeration_section">6.4</span>关于存储和打印查询结果</h3>
               <div>
                  <p>如果要在打印前使用文字处理器编辑查询结果或将其包含在信函，电子邮件或其他文档中，请将查询结果发送到文件。</p>
                  <p>要将查询结果存储在文件中并仍然在屏幕上显示它们，请按以下格式输入SPOOL命令：</p><pre class="oac_no_warn" dir="ltr">SPOOL <span class="italic">file_name</span></pre><p>如果不使用带有句点和扩展名的文件名，SPOOL会在文件名中添加默认文件扩展名，以将其标识为输出文件。默认值因操作系统而异;在大多数主机上它是LST或LIS。当您假脱机到系统生成的文件（例如/ dev / null和/ dev / stderr）时，不会附加扩展名。有关详细信息，请参阅为您的操作系统提供的特定于平台的Oracle文档。</p>
                  <p>SQL * Plus继续将信息假脱机到文件，直到您使用以下形式的SPOOL关闭假脱机<a id="d13690e2988" class="indexterm-anchor"></a> ：</p><pre class="oac_no_warn" dir="ltr">SPOOL <a id="d13690e2995" class="indexterm-anchor"></a>关闭<a id="d13690e3000" class="indexterm-anchor"></a></pre></div><a id="SQPUG523"></a><div class="props_rev_3"><a id="GUID-7BA2CDBE-9AB6-47D3-8A92-27A49B3BA5B7" name="GUID-7BA2CDBE-9AB6-47D3-8A92-27A49B3BA5B7"></a><h4 id="SQPUG-GUID-7BA2CDBE-9AB6-47D3-8A92-27A49B3BA5B7" class="sect4"><span class="enumeration_section">6.4.1</span>创建平面文件</h4>
                  <div>
                     <div class="section">
                        <p><a id="d13690e3026" class="indexterm-anchor"></a><a id="d13690e3028" class="indexterm-anchor"></a><a id="d13690e3032" class="indexterm-anchor"></a>在不同软件产品之间移动数据时，有时需要使用“平面”文件（没有转义字符，标题或嵌入的额外字符的操作系统文件）。例如，如果您没有Oracle Net，则需要创建一个平面文件，以便在将数据从Oracle9 <span class="italic">i</span>移动到Oracle Database 10 <span class="italic">g</span>时与SQL * Loader一起使用。
                        </p>
                        <p>要使用SQL * Plus创建平面文件，首先必须输入以下SET命令：</p><pre class="oac_no_warn" dir="ltr">SET NEWPAGE 0 SET SPACE 0 SET LINESIZE 80 SET PAGESIZE 0 SET ECHO OFF SET FEEDBACK OFF SET VERIFY OFF SET HEADING OFF SET MARKUP HTML OFF SPOOL OFF</pre><p>输入这些命令后，使用上一节中显示的SPOOL命令创建平面文件。</p>
                        <p>该<a id="d13690e3049" class="indexterm-anchor"></a> SET COLSEP命令可用于描述列。有关更多信息，请参阅<a href="SET.html#GUID-9095C4FF-F4EB-4218-84AA-83061186625F">SET</a>命令。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="SQPUG524"></a><div class="props_rev_3"><a id="GUID-A30A631D-0EBB-40D7-A15F-C1661E6E0B61" name="GUID-A30A631D-0EBB-40D7-A15F-C1661E6E0B61"></a><h4 id="SQPUG-GUID-A30A631D-0EBB-40D7-A15F-C1661E6E0B61" class="sect4"><span class="enumeration_section">6.4.2将</span>结果发送到文件</h4>
                  <div>
                     <div class="section">
                        <p>存储结果<a id="d13690e3081" class="indexterm-anchor"></a>一个文件中的查询 - 并仍然在屏幕上显示它们 - 按以下格式输入SPOOL命令：</p><pre class="oac_no_warn" dir="ltr">SPOOL <a id="d13690e3088" class="indexterm-anchor"></a> <span class="italic">文件名</span><a id="d13690e3095" class="indexterm-anchor"></a></pre><p>在您指定的文件中输入SPOOL命令后，SQL * Plus会存储屏幕上显示的所有信息。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="SQPUG526"></a><a id="SQPUG525"></a><div class="props_rev_3"><a id="GUID-556D19AF-CE9D-43D5-9055-CA718A1916FE" name="GUID-556D19AF-CE9D-43D5-9055-CA718A1916FE"></a><h4 id="SQPUG-GUID-556D19AF-CE9D-43D5-9055-CA718A1916FE" class="sect4"><span class="enumeration_section">6.4.3将</span>结果发送到打印机</h4>
                  <div>
                     <div class="section">
                        <p>打印查询结果<a id="d13690e3126" class="indexterm-anchor"></a> ，将它们假脱机到文件，如上一节所述。然后，不使用SPOOL OFF，而是以下列形式输入命令：</p><pre class="oac_no_warn" dir="ltr">SPOOL <a id="d13690e3133" class="indexterm-anchor"></a> OUT<a id="d13690e3138" class="indexterm-anchor"></a></pre><p>SQL * Plus停止假脱机并将假脱机文件的内容复制到计算机的标准（默认）打印机。SPOOL OUT在打印后不会删除假脱机文件。</p><pre class="pre codeblock"><code>ACMEWIDGET员工报告页面：1部门最后一个月的薪水---------- ------------------------- ---- ---------- 20 Hartstein $ 13,000 ********** --------------总计$ 13,000 80 Russell $ 14,000合作伙伴$ 13,500 ****** **** --------------总计$ 27,500 90 King $ 24,000 Kochhar $ 17,000 De Haan $ 17,000 ********** ------------ - 总计$ 58,000 --------------总计$ 98,500公司机密6行被选中。</code></pre></div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-556D19AF-CE9D-43D5-9055-CA718A1916FE__GUID-92330E73-E02A-4F6F-A276-D4B5CD6599A8">
                        <p class="titleinexample">示例6-26将查询结果发送到打印机</p>
                        <p>要生成最终报告并假脱机并打印结果，请创建一个名为EMPRPT的脚本，其中包含以下命令。</p>
                        <p>首先，使用EDIT使用操作系统文本编辑器创建脚本。</p><pre class="oac_no_warn" dir="ltr">编辑EMPRPT</pre><p>接下来，使用文本编辑器在文件中输入以下命令：</p><pre class="oac_no_warn" dir="ltr">SPOL TEMP CLEAR COLUMNS CLEAR BREAKS CLEAR COMPUTES COLUMN DEPARTMENT_ID HEADING DEPARTMENT COLUMN LAST_NAME标题'姓名'栏目标题'每月SALAL'格式$ 99,999在DEPARTMENT_ID上跳过跳过1报告计算部门上的薪酬数据_报表上的薪酬数据计算表PAGESIZE 24设置NEWPAGE 0设置LINESIZE 70 TTITLE CENTER'ACMEWIDGE T'跳过2  - 左'员工报告'右'页'：' - 格式999 SQL.PNO SKIP 2 BTITLE CENTER'公司机密'选择DEPARTMENT_ID，LAST_NAME，SALARY从EMP_DETAILS_VIEW SALERE&gt; 12000 BYDER DEPARTMENT_ID; SPOOL OFF</pre><p>如果您不想在屏幕上看到输出，还可以将SET TERMOUT OFF添加到文件的开头，将SET TERMOUT ON添加到文件的末尾。在文本编辑器中保存并关闭文件（您将自动返回到SQL * Plus）。现在，运行脚本EMPRPT：</p><pre class="oac_no_warn" dir="ltr">@EMPRPT</pre><p>SQL * Plus在屏幕上显示输出（除非您将TERMOUT设置为OFF），并将其假脱机到文件TEMP：</p>
                     </div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>