<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="Linear referencing is a natural and convenient means to associate attributes or events to locations or portions of a linear feature. It has been widely used in transportation applications (such as for highways, railroads, and transit routes) and utilities applications (such as for gas and oil pipelines)."></meta>
      <meta name="description" content="Linear referencing is a natural and convenient means to associate attributes or events to locations or portions of a linear feature. It has been widely used in transportation applications (such as for highways, railroads, and transit routes) and utilities applications (such as for gas and oil pipelines)."></meta>
      <title>线性参考系统</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Developer&#39;s Guide "></meta>
      <meta property="og:description" content="Linear referencing is a natural and convenient means to associate attributes or events to locations or portions of a linear feature. It has been widely used in transportation applications (such as for highways, railroads, and transit routes) and utilities applications (such as for gas and oil pipelines)."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Developer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="spatial-and-graph-developers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-10T14:11:51-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1999, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E94799-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="coordinate-systems-concepts.html" title="Previous" type="text/html"></link>
      <link rel="next" href="location-tracking-server-concepts.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Spatial and Graph Developer&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="SPATL"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="coordinate-systems-concepts.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="location-tracking-server-concepts.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">开发人员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="spatial-concepts-usage.html" property="item" typeof="WebPage"><span property="name">概念和使用信息</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">线性参考系统</li>
            </ol>
            <a id="GUID-9793361B-6C73-41E1-8389-85D8788ED083" name="GUID-9793361B-6C73-41E1-8389-85D8788ED083"></a><a id="SPATL060"></a>
            
            <h2 id="SPATL-GUID-9793361B-6C73-41E1-8389-85D8788ED083" class="sect2"><span class="enumeration_chapter">7</span>线性参考系统</h2>
         </header>
         <div class="ind">
            <div>
               <p>线性参考是将属性或事件与线性要素的位置或部分相关联的自然且方便的手段。它已广泛用于运输应用（如高速公路，铁路和运输路线）和公用设施应用（如天然气和石油管道）。</p>
               <p><a id="d62565e50" class="indexterm-anchor"></a><a id="d62565e54" class="indexterm-anchor"></a>线性参考的主要优点是它能够沿着线性要素定位属性和事件，只有一个参数（通常称为<span class="italic">度量</span> ）而不是两个（例如笛卡尔空间中的<span class="italic">经度/纬度</span>或<span class="italic">x / y</span> ）。通过指示沿着要素的起始位置和结束位置而不显式存储它们，可以动态地引用和创建线性要素的截面。
               </p>
               <p>Oracle Spatial and Graph中的线性参考系统（LRS）应用程序编程接口（API）在制图级别提供服务器端LRS功能。线性度量信息直接集成到Oracle Spatial and Graph几何结构中。Oracle Spatial and Graph LRS API为动态分段提供支持，它可作为第三方或中间层应用程序开发的基础，几乎可用于任何坐标系中的任何线性参考方法和模型。</p>
               <p>有关LRS的示例，请参阅<a href="lrs-linear-referencing-system-concepts.html#GUID-699CED71-3497-4826-A4A5-60BF13CD3770" title="本节介绍使用LRS功能的简化示例。">LRS功能示例</a> 。但是，您可能希望首先阅读本章的其余部分，以了解该示例所说明的概念。
               </p>
               <p>有关LRS功能和过程的参考信息，请参阅<a href="SDO_LRS-reference.html#GUID-38A5534F-0B2D-410B-8210-3DFFD4E4AE5B" title="MDSYS.SDO_LRS包中包含用于创建，修改，查询和转换线性引用元素的子程序。">SDO_LRS包（线性参考系统）</a> 。
               </p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="lrs-linear-referencing-system-concepts.html#GUID-606C936B-DB4F-4FE0-A5F6-3C1C15FA30C2">LRS术语和概念</a><br>本主题介绍与Oracle Spatial and Graph中的线性引用支持相关的重要术语和概念。
                  </li>
                  <li class="ulchildlink"><a href="lrs-linear-referencing-system-concepts.html#GUID-34C0AE0E-09AD-4765-A426-8AEBB7CE5A20">LRS数据模型</a><br>Oracle Spatial and Graph LRS数据模型将度量信息合并到点级别的几何表示中。
                  </li>
                  <li class="ulchildlink"><a href="lrs-linear-referencing-system-concepts.html#GUID-CA7D44D7-CB40-4C33-9345-2C84F43CF8CA">LRS数据的索引</a><br>如果LRS数据具有四个维度（三个加上M维度），并且如果需要索引所有三个非度量维度，则必须使用空间R树索引来索引数据。
                  </li>
                  <li class="ulchildlink"><a href="lrs-linear-referencing-system-concepts.html#GUID-E392761D-EF47-4764-8287-8E3D1D799D53">LRS函数的三维格式</a><br>大多数LRS函数的格式以<span class="italic">_3D</span>结尾：例如，DEFINE_GEOM_SEGMENT_3D，CLIP_GEOM_SEGMENT_3D，FIND_MEASURE_3D和LOCATE_PT_3D。如果函数具有<span class="italic">3D</span>格式，则在功能参考主题的使用说明中标识该函数。
                  </li>
                  <li class="ulchildlink"><a href="lrs-linear-referencing-system-concepts.html#GUID-247E53DE-3F27-4BE2-97D6-363F10814985">LRS运营</a><br>本主题描述了Oracle Spatial and Graph LRS API支持的几种线性引用操作。</li>
                  <li class="ulchildlink"><a href="lrs-linear-referencing-system-concepts.html#GUID-2A6BC86B-0BE8-43F5-98D9-44E08ADF692C">具有LRS函数的容差值</a><br>许多LRS函数要求您指定公差值或一个或多个维数组。
                  </li>
                  <li class="ulchildlink"><a href="lrs-linear-referencing-system-concepts.html#GUID-699CED71-3497-4826-A4A5-60BF13CD3770">LRS功能示例</a><br>本节介绍使用LRS功能的简化示例。
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>父主题：</strong> <a href="spatial-concepts-usage.html#GUID-EEEED709-34A1-46EA-9AF3-869FD06E3076">概念和使用信息</a></p>
                  </div>
               </div>
            </div>
            <a id="SPATL739"></a><div class="props_rev_3"><a id="GUID-606C936B-DB4F-4FE0-A5F6-3C1C15FA30C2" name="GUID-606C936B-DB4F-4FE0-A5F6-3C1C15FA30C2"></a><h3 id="SPATL-GUID-606C936B-DB4F-4FE0-A5F6-3C1C15FA30C2" class="sect3"><span class="enumeration_section">7.1</span> LRS术语和概念</h3>
               <div>
                  <p>本主题介绍与Oracle Spatial and Graph中的线性引用支持相关的重要术语和概念。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="lrs-linear-referencing-system-concepts.html#GUID-FF93B930-F0C4-4CAF-8C13-52FFD8EFAE1D">几何段（LRS段）</a><br></li>
                     <li class="ulchildlink"><a href="lrs-linear-referencing-system-concepts.html#GUID-2EF4D152-9019-4F02-9ABB-F6DE633BB7C7">形状点</a><br></li>
                     <li class="ulchildlink"><a href="lrs-linear-referencing-system-concepts.html#GUID-A76A863C-C1D1-4993-8D9B-B3BB12C69CE5">几何段的方向</a><br></li>
                     <li class="ulchildlink"><a href="lrs-linear-referencing-system-concepts.html#GUID-7420725A-15C0-47FC-AE35-4E42BAA642AD">测量（线性测量）</a><br></li>
                     <li class="ulchildlink"><a href="lrs-linear-referencing-system-concepts.html#GUID-2D8CA0D9-2EFC-4992-A4B3-9063668277E3">抵消</a><br></li>
                     <li class="ulchildlink"><a href="lrs-linear-referencing-system-concepts.html#GUID-D3C81EE9-F7E0-4932-A0E0-56CFFA59375C">测量填充</a><br></li>
                     <li class="ulchildlink"><a href="lrs-linear-referencing-system-concepts.html#GUID-1A64AD0D-14D7-48FE-A1F1-B056DECD752E">测量几何段的范围</a><br></li>
                     <li class="ulchildlink"><a href="lrs-linear-referencing-system-concepts.html#GUID-3AF241F0-0AF5-4F2B-9BF2-955E7360E7CE">投影</a><br></li>
                     <li class="ulchildlink"><a href="lrs-linear-referencing-system-concepts.html#GUID-B1959CB1-088F-4494-8800-5E89EEC3E11F">LRS点</a><br></li>
                     <li class="ulchildlink"><a href="lrs-linear-referencing-system-concepts.html#GUID-F8B373AA-9F41-4586-BB3E-57FA4EBC21BE">线性特征</a><br></li>
                     <li class="ulchildlink"><a href="lrs-linear-referencing-system-concepts.html#GUID-B5434407-EC9A-4F49-A048-253544EBA930">多线串和带孔多边形的测量</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="lrs-linear-referencing-system-concepts.html#GUID-9793361B-6C73-41E1-8389-85D8788ED083" title="线性参考是将属性或事件与线性要素的位置或部分相关联的自然且方便的手段。它已广泛用于运输应用（如高速公路，铁路和运输路线）和公用设施应用（如天然气和石油管道）。">线性参考系统</a></p>
                     </div>
                  </div>
               </div>
               <a id="SPATL741"></a><a id="SPATL740"></a><div class="props_rev_3"><a id="GUID-FF93B930-F0C4-4CAF-8C13-52FFD8EFAE1D" name="GUID-FF93B930-F0C4-4CAF-8C13-52FFD8EFAE1D"></a><h4 id="SPATL-GUID-FF93B930-F0C4-4CAF-8C13-52FFD8EFAE1D" class="sect4"><span class="enumeration_section">7.1.1</span>几何段（LRS段）</h4>
                  <div>
                     <p><a id="d62565e340" class="indexterm-anchor"></a><a id="d62565e344" class="indexterm-anchor"></a><a id="d62565e348" class="indexterm-anchor"></a> <span class="bold">几何段</span>是Oracle Spatial and Graph中的基本LRS元素。几何段可以是以下任何一种：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>线串：有序，非分支和连续几何（例如，简单的道路）</p>
                        </li>
                        <li>
                           <p>多线字符串：未连接的线串（例如，由湖泊或旁路引起的间隙的高速公路）</p>
                        </li>
                        <li>
                           <p>多边形（例如，在同一点开始和结束的赛道或景区游览路线）</p>
                        </li>
                     </ul>
                     <p>几何段必须至少包含其起点和终点的开始和结束度量。还可以指定几何段上的兴趣点（例如高速公路出口）的度量。这些度量由用户指定或从现有几何段派生。<a href="lrs-linear-referencing-system-concepts.html#GUID-FF93B930-F0C4-4CAF-8C13-52FFD8EFAE1D__I884952">图7-1</a>显示了具有四个线段和一个弧的几何段。几何段上的点由三元组（x，y，m）表示，其中<span class="italic">x</span>和<span class="italic">y</span>描述位置， <span class="italic">m</span>表示度量（ <a href="lrs-linear-referencing-system-concepts.html#GUID-FF93B930-F0C4-4CAF-8C13-52FFD8EFAE1D__I884952">图7-1中的</a>每个度量值加下划线）。
                     </p>
                     <div class="figure" id="GUID-FF93B930-F0C4-4CAF-8C13-52FFD8EFAE1D__I884952">
                        <p class="titleinfigure">图7-1几何段</p><img src="img/geoseg.gif" alt="下面是图7-1的描述" title="下面是图7-1的描述" longdesc="img_text/geoseg.html"><br><a href="img_text/geoseg.html">“图7-1几何段”的描述</a></div>
                     <!-- class="figure" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="lrs-linear-referencing-system-concepts.html#GUID-606C936B-DB4F-4FE0-A5F6-3C1C15FA30C2" title="本主题介绍与Oracle Spatial and Graph中的线性引用支持相关的重要术语和概念。">LRS术语和概念</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SPATL742"></a><div class="props_rev_3"><a id="GUID-2EF4D152-9019-4F02-9ABB-F6DE633BB7C7" name="GUID-2EF4D152-9019-4F02-9ABB-F6DE633BB7C7"></a><h4 id="SPATL-GUID-2EF4D152-9019-4F02-9ABB-F6DE633BB7C7" class="sect4"><span class="enumeration_section">7.1.2</span>形状点</h4>
                  <div>
                     <p><a id="d62565e447" class="indexterm-anchor"></a><a id="d62565e449" class="indexterm-anchor"></a> <span class="bold">形状点</span>是在构建LRS段时指定的点，并且是指定的度量信息。在Oracle Spatial and Graph中，线段由其起点和终点表示，弧由三个点表示：弧的起点，中点和终点。您必须将这些点指定为形状点，但如果需要为这些点存储测量信息（例如，在高速公路直线部分中间的出口），您还可以将其他点指定为形状点。
                     </p>
                     <p>因此，形状点可以用于以下目的中的一个或两个：指示段的方向（例如，转弯或弯曲），以及识别要存储测量信息的兴趣点。</p>
                     <p>形状点可能与LRS中的里程碑或参考文献没有直接关系;它们被用作内部参考点。使用<a href="SDO_LRS-reference.html#GUID-9A02C622-CEBA-4C2C-84F6-43D916011AE8">SDO_LRS.DEFINE_GEOM_SEGMENT</a>过程定义LRS段时，将自动填充形状点的度量信息，该过程在<a href="SDO_LRS-reference.html#GUID-38A5534F-0B2D-410B-8210-3DFFD4E4AE5B" title="MDSYS.SDO_LRS包中包含用于创建，修改，查询和转换线性引用元素的子程序。">SDO_LRS包（线性参考系统）中进行了描述</a> 。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="lrs-linear-referencing-system-concepts.html#GUID-606C936B-DB4F-4FE0-A5F6-3C1C15FA30C2" title="本主题介绍与Oracle Spatial and Graph中的线性引用支持相关的重要术语和概念。">LRS术语和概念</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SPATL743"></a><div class="props_rev_3"><a id="GUID-A76A863C-C1D1-4993-8D9B-B3BB12C69CE5" name="GUID-A76A863C-C1D1-4993-8D9B-B3BB12C69CE5"></a><h4 id="SPATL-GUID-A76A863C-C1D1-4993-8D9B-B3BB12C69CE5" class="sect4"><span class="enumeration_section">7.1.3</span>几何段的方向</h4>
                  <div>
                     <p><a id="d62565e532" class="indexterm-anchor"></a><a id="d62565e534" class="indexterm-anchor"></a>从几何段的起点到终点指示几何段的<span class="bold">方向</span> 。方向由几何定义中的顶点（从起点到终点）的顺序确定。几何段上的点的测量总是沿着几何段的方向增大或减小。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="lrs-linear-referencing-system-concepts.html#GUID-606C936B-DB4F-4FE0-A5F6-3C1C15FA30C2" title="本主题介绍与Oracle Spatial and Graph中的线性引用支持相关的重要术语和概念。">LRS术语和概念</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SPATL744"></a><div class="props_rev_3"><a id="GUID-7420725A-15C0-47FC-AE35-4E42BAA642AD" name="GUID-7420725A-15C0-47FC-AE35-4E42BAA642AD"></a><h4 id="SPATL-GUID-7420725A-15C0-47FC-AE35-4E42BAA642AD" class="sect4"><span class="enumeration_section">7.1.4</span>测量（线性测量）</h4>
                  <div>
                     <p><a id="d62565e603" class="indexterm-anchor"></a><a id="d62565e605" class="indexterm-anchor"></a>沿着几何段的点的<span class="bold">度量</span>是从几何段的起点（对于增加值）或终点（对于减小的值） <span class="bold">测量</span>的点的线性距离（在测量维度中）。度量信息不一定必须与距离具有相同的比例。但是，始终保持测量和距离之间的线性映射关系。
                     </p>
                     <p>一些LRS函数使用<span class="italic">偏移</span>而不是度量来表示沿线性特征的测量距离。虽然其他一些线性参考系统可能使用偏移来表示Oracle Spatial和Graph LRS所指的度量值，但偏移量在Oracle Spatial and Graph中与度量具有不同的含义，如<a href="lrs-linear-referencing-system-concepts.html#GUID-2D8CA0D9-2EFC-4992-A4B3-9063668277E3">偏移量中所述</a> 。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="lrs-linear-referencing-system-concepts.html#GUID-606C936B-DB4F-4FE0-A5F6-3C1C15FA30C2" title="本主题介绍与Oracle Spatial and Graph中的线性引用支持相关的重要术语和概念。">LRS术语和概念</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SPATL746"></a><a id="SPATL745"></a><div class="props_rev_3"><a id="GUID-2D8CA0D9-2EFC-4992-A4B3-9063668277E3" name="GUID-2D8CA0D9-2EFC-4992-A4B3-9063668277E3"></a><h4 id="SPATL-GUID-2D8CA0D9-2EFC-4992-A4B3-9063668277E3" class="sect4"><span class="enumeration_section">7.1.5</span>偏移量</h4>
                  <div>
                     <p><a id="d62565e683" class="indexterm-anchor"></a>沿几何段的点的<span class="bold">偏移</span>是该点与几何段之间的垂直距离。如果点位于沿线段方向的左侧，则偏移为正，如果它们位于右侧，则偏移为负。如果它们对段的偏移为零，则点在几何段上。
                     </p>
                     <p>偏移的测量单位与与几何段相关联的坐标系相同。对于大地测量数据，默认测量单位是米。</p>
                     <p><a href="lrs-linear-referencing-system-concepts.html#GUID-2D8CA0D9-2EFC-4992-A4B3-9063668277E3__I891553">图7-2</a>显示了如何使用测量和偏移信息沿着几何线段定位点。通过将偏移与度量一起分配，不仅可以定位几何分段上的点，而且可以定位垂直于几何分段的点。
                     </p>
                     <div class="figure" id="GUID-2D8CA0D9-2EFC-4992-A4B3-9063668277E3__I891553">
                        <p class="titleinfigure">图7-2使用度量和偏移描述沿着段的点</p><img src="img/point.gif" alt="下面是图7-2的描述" title="下面是图7-2的描述" longdesc="img_text/point.html"><br><a href="img_text/point.html">“图7-2描述具有测量和偏移的段的点”的描述</a></div>
                     <!-- class="figure" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="lrs-linear-referencing-system-concepts.html#GUID-606C936B-DB4F-4FE0-A5F6-3C1C15FA30C2" title="本主题介绍与Oracle Spatial and Graph中的线性引用支持相关的重要术语和概念。">LRS术语和概念</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SPATL748"></a><a id="SPATL749"></a><a id="SPATL750"></a><a id="SPATL747"></a><div class="props_rev_3"><a id="GUID-D3C81EE9-F7E0-4932-A0E0-56CFFA59375C" name="GUID-D3C81EE9-F7E0-4932-A0E0-56CFFA59375C"></a><h4 id="SPATL-GUID-D3C81EE9-F7E0-4932-A0E0-56CFFA59375C" class="sect4"><span class="enumeration_section">7.1.6</span>测量<span class="enumeration_section">填充</span></h4>
                  <div>
                     <p><a id="d62565e763" class="indexterm-anchor"></a><a id="d62565e767" class="indexterm-anchor"></a>几何段的任何未分配度量将根据其距离分布自动填充。这是在针对具有未知度量的几何段的任何LRS操作之前完成的（Oracle Spatial and Graph中为NULL）。来自任何LRS操作的所得几何片段返回与几何片段相关联的测量信息。可以基于其先前和下一已知测量或位置之间的线性映射关系来获得几何片段上的点的度量。请参<a href="lrs-linear-referencing-system-concepts.html#GUID-D3C81EE9-F7E0-4932-A0E0-56CFFA59375C__I884936">见图7-3中</a>的算法表示和<a href="lrs-linear-referencing-system-concepts.html#GUID-D3C81EE9-F7E0-4932-A0E0-56CFFA59375C__I888540">图7-4中</a>的示例。
                     </p>
                     <div class="figure" id="GUID-D3C81EE9-F7E0-4932-A0E0-56CFFA59375C__I884936">
                        <p class="titleinfigure">图7-3度量，距离及其映射关系</p><img src="img/maprel.gif" alt="下面是图7-3的描述" title="下面是图7-3的描述" longdesc="img_text/maprel.html"><br><a href="img_text/maprel.html">“图7-3度量，距离及其映射关系”的描述</a></div>
                     <!-- class="figure" -->
                     <div class="figure" id="GUID-D3C81EE9-F7E0-4932-A0E0-56CFFA59375C__I888540">
                        <p class="titleinfigure">图7-4测量几何段的填充</p><img src="img/measpop.gif" alt="下面是图7-4的描述" title="下面是图7-4的描述" longdesc="img_text/measpop.html"><br><a href="img_text/measpop.html">“图7-4测量几何段的填充”的描述</a></div>
                     <!-- class="figure" -->
                     <p>度量在指定的度量之间均匀分布。然而，几何段上的关注点的指定度量不需要均匀间隔。这可以消除错误累积的问题并解决数据源的不准确性。</p>
                     <p>此外，指定的措施甚至不需要反映实际距离（例如，它们可以反映估计的驾驶时间）;它们可以是度量范围内的任何有效值。<a href="lrs-linear-referencing-system-concepts.html#GUID-D3C81EE9-F7E0-4932-A0E0-56CFFA59375C__I889839">图7-5</a>显示了当指定的测量值不成比例并且反映差异很大时产生的测量数量。
                     </p>
                     <div class="figure" id="GUID-D3C81EE9-F7E0-4932-A0E0-56CFFA59375C__I889839">
                        <p class="titleinfigure">图7-5使用不成比例的分配度量测量填充</p><img src="img/disprop.gif" alt="下面是图7-5的描述" title="下面是图7-5的描述" longdesc="img_text/disprop.html"><br><a href="img_text/disprop.html">“图7-5使用不成比例分配的度量进行填充测量”的描述</a></div>
                     <!-- class="figure" -->
                     <p>在所有情况下，测量填充是沿着段方向以增量方式完成的。这改善了当前和随后的LRS操作的性能。</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="lrs-linear-referencing-system-concepts.html#GUID-606C936B-DB4F-4FE0-A5F6-3C1C15FA30C2" title="本主题介绍与Oracle Spatial and Graph中的线性引用支持相关的重要术语和概念。">LRS术语和概念</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SPATL751"></a><div class="props_rev_3"><a id="GUID-1A64AD0D-14D7-48FE-A1F1-B056DECD752E" name="GUID-1A64AD0D-14D7-48FE-A1F1-B056DECD752E"></a><h4 id="SPATL-GUID-1A64AD0D-14D7-48FE-A1F1-B056DECD752E" class="sect4"><span class="enumeration_section">7.1.7</span>测量几何段的范围</h4>
                  <div>
                     <p><a id="d62565e860" class="indexterm-anchor"></a><a id="d62565e862" class="indexterm-anchor"></a>几何段的开始和结束度量定义几何段的线性<span class="bold">度量范围</span> 。几何段的任何有效LRS度量必须落在其线性度量范围内。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="lrs-linear-referencing-system-concepts.html#GUID-606C936B-DB4F-4FE0-A5F6-3C1C15FA30C2" title="本主题介绍与Oracle Spatial and Graph中的线性引用支持相关的重要术语和概念。">LRS术语和概念</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SPATL752"></a><div class="props_rev_3"><a id="GUID-3AF241F0-0AF5-4F2B-9BF2-955E7360E7CE" name="GUID-3AF241F0-0AF5-4F2B-9BF2-955E7360E7CE"></a><h4 id="SPATL-GUID-3AF241F0-0AF5-4F2B-9BF2-955E7360E7CE" class="sect4"><span class="enumeration_section">7.1.8</span>投影</h4>
                  <div>
                     <p><a id="d62565e932" class="indexterm-anchor"></a><a id="d62565e934" class="indexterm-anchor"></a>沿几何线段的点的<span class="bold">投影</span>是几何线段上与指定点的距离最小的点。结果点的测量信息也在点几何中返回。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="lrs-linear-referencing-system-concepts.html#GUID-606C936B-DB4F-4FE0-A5F6-3C1C15FA30C2" title="本主题介绍与Oracle Spatial and Graph中的线性引用支持相关的重要术语和概念。">LRS术语和概念</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SPATL753"></a><div class="props_rev_3"><a id="GUID-B1959CB1-088F-4494-8800-5E89EEC3E11F" name="GUID-B1959CB1-088F-4494-8800-5E89EEC3E11F"></a><h4 id="SPATL-GUID-B1959CB1-088F-4494-8800-5E89EEC3E11F" class="sect4"><span class="enumeration_section">7.1.9</span> LRS点</h4>
                  <div>
                     <p><a id="d62565e1003" class="indexterm-anchor"></a><a id="d62565e1007" class="indexterm-anchor"></a><a id="d62565e1009" class="indexterm-anchor"></a> <span class="bold">LRS点</span>是沿几何段具有线性测量信息的点。有效的LRS点是具有度量信息的点几何。
                     </p>
                     <p>所有LRS点数据必须存储在SDO_ELEM_INFO_ARRAY和SDO_ORDINATE_ARRAY中，并且不能存储在SDO_GEOMETRY定义点中的SDO_POINT字段中。</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="lrs-linear-referencing-system-concepts.html#GUID-606C936B-DB4F-4FE0-A5F6-3C1C15FA30C2" title="本主题介绍与Oracle Spatial and Graph中的线性引用支持相关的重要术语和概念。">LRS术语和概念</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SPATL755"></a><a id="SPATL754"></a><div class="props_rev_3"><a id="GUID-F8B373AA-9F41-4586-BB3E-57FA4EBC21BE" name="GUID-F8B373AA-9F41-4586-BB3E-57FA4EBC21BE"></a><h4 id="SPATL-GUID-F8B373AA-9F41-4586-BB3E-57FA4EBC21BE" class="sect4"><span class="enumeration_section">7.1.10</span>线性特征</h4>
                  <div>
                     <p><a id="d62565e1080" class="indexterm-anchor"></a><a id="d62565e1082" class="indexterm-anchor"></a> <span class="bold">线性</span>要素是可以被视为一组逻辑线性段的空间对象。线性特征的示例是运输应用中的高速公路和公用事业行业中的管道。线性特征，几何分段和LRS点的关系<a href="lrs-linear-referencing-system-concepts.html#GUID-F8B373AA-9F41-4586-BB3E-57FA4EBC21BE__I884386">如图7-6</a>所示，其中单个线性特征由三个几何分段组成，并且在第一个分段上显示三个LRS点。
                     </p>
                     <div class="figure" id="GUID-F8B373AA-9F41-4586-BB3E-57FA4EBC21BE__I884386">
                        <p class="titleinfigure">图7-6线性特征，几何分段和LRS点</p><img src="img/linear.gif" alt="下面是图7-6的描述" title="下面是图7-6的描述" longdesc="img_text/linear.html"><br><a href="img_text/linear.html">“图7-6线性特征，几何分段和LRS点”的描述</a></div>
                     <!-- class="figure" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="lrs-linear-referencing-system-concepts.html#GUID-606C936B-DB4F-4FE0-A5F6-3C1C15FA30C2" title="本主题介绍与Oracle Spatial and Graph中的线性引用支持相关的重要术语和概念。">LRS术语和概念</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SPATL756"></a><div class="props_rev_3"><a id="GUID-B5434407-EC9A-4F49-A048-253544EBA930" name="GUID-B5434407-EC9A-4F49-A048-253544EBA930"></a><h4 id="SPATL-GUID-B5434407-EC9A-4F49-A048-253544EBA930" class="sect4"><span class="enumeration_section">7.1.11</span>多线串和带孔多边形的测量</h4>
                  <div>
                     <p>对于具有孔LRS几何的多线字符串或多边形， <a href="SDO_LRS-reference.html#GUID-9A02C622-CEBA-4C2C-84F6-43D916011AE8">SDO_LRS.DEFINE_GEOM_SEGMENT</a>过程和<a href="SDO_LRS-reference.html#GUID-70E4BB1A-250F-413E-B06C-D134C6B8E33D">SDO_LRS.CONVERT_TO_LRS_GEOM</a>函数默认情况下将相同的度量值分配给一个段的终点和下一个段的起点（由间隙分隔），虽然您可以稍后为点指定不同的度量值。因此，默认情况下，对于此类几何，将在不同的段中重复测量值。在这种情况下，LRS子程序使用具有指定度量的第一个点，除非这样做会导致无效的几何。
                     </p>
                     <p>例如，假设在多线串LRS几何中，第一段是从度量0到100，第二段是从度量100到150。如果使用<a href="SDO_LRS-reference.html#GUID-0A7398C5-9112-415D-9F75-38DFF40DEEBA">SDO_LRS.LOCATE_PT</a>函数查找度量100处的点，则返回的点将在第一个段中的度量为100处。如果使用<a href="SDO_LRS-reference.html#GUID-FC99FDEA-8CCD-47A0-B43C-59A6523D98A6">SDO_LRS.CLIP_GEOM_SEGMENT</a> ， <a href="SDO_LRS-reference.html#GUID-EF61FA31-92A2-4333-B2B3-3D19B8B29EB8">SDO_LRS.DYNAMIC_SEGMENT</a>或<a href="SDO_LRS-reference.html#GUID-26627C35-104C-42A1-9F0D-0388109A85CE">SDO_LRS.OFFSET_GEOM_SEGMENT</a>函数在度量75和125之间返回几何对象，则结果是由两个段组成的多行字符串几何。如果使用相同的函数在度量100和125之间返回几何对象，则忽略第一个段中度量100处的点，结果是沿度量值100到125的第二个段的线串。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="lrs-linear-referencing-system-concepts.html#GUID-606C936B-DB4F-4FE0-A5F6-3C1C15FA30C2" title="本主题介绍与Oracle Spatial and Graph中的线性引用支持相关的重要术语和概念。">LRS术语和概念</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="SPATL759"></a><a id="SPATL758"></a><a id="SPATL757"></a><div class="props_rev_3"><a id="GUID-34C0AE0E-09AD-4765-A426-8AEBB7CE5A20" name="GUID-34C0AE0E-09AD-4765-A426-8AEBB7CE5A20"></a><h3 id="SPATL-GUID-34C0AE0E-09AD-4765-A426-8AEBB7CE5A20" class="sect3"><span class="enumeration_section">7.2</span> LRS数据模型</h3>
               <div>
                  <p>Oracle Spatial and Graph LRS数据模型将度量信息合并到点级别的几何表示中。</p>
                  <p><a id="d62565e1265" class="indexterm-anchor"></a><a id="d62565e1269" class="indexterm-anchor"></a>度量信息直接集成到Oracle Spatial and Graph模型中。要实现此目的，必须在Oracle Spatial and Graph元数据中添加其他<span class="italic">度量</span>维度。
                  </p>
                  <p>Oracle Spatial and Graph LRS支持会影响空间元数据和数据（几何）。<a href="lrs-linear-referencing-system-concepts.html#GUID-34C0AE0E-09AD-4765-A426-8AEBB7CE5A20__I885124">示例7-1</a>显示了如何将度量维度添加到空间元数据中的二维几何。度量维度必须是空间对象定义中SDO_DIM_ARRAY的最后一个元素（在<a href="lrs-linear-referencing-system-concepts.html#GUID-34C0AE0E-09AD-4765-A426-8AEBB7CE5A20__I885124">例7-1</a>中以粗体显示）。
                  </p>
                  <div class="figure" id="GUID-34C0AE0E-09AD-4765-A426-8AEBB7CE5A20__I884481">
                     <p class="titleinfigure">图7-7创建几何段</p><img src="img/creating.gif" alt="下面是图7-7的描述" title="下面是图7-7的描述" longdesc="img_text/creating.html"><br><a href="img_text/creating.html">“图7-7创建几何段”的说明</a></div>
                  <!-- class="figure" -->
                  <p>在<a href="lrs-linear-referencing-system-concepts.html#GUID-34C0AE0E-09AD-4765-A426-8AEBB7CE5A20__I884481">图7-7中</a> ，几何段具有以下定义（测量值带下划线）：</p><pre class="oac_no_warn" dir="ltr"><span class="underline"><span class="underline"><span class="underline"><span class="underline">SDO_GEOMETRY（3302，NULL，NULL，SDO_ELEM_INFO_ARRAY（1,2,1），SDO_ORDINATE_ARRAY（5,10，0，20,5，NULL，35,10，NULL，55,10，100））</span></span></span></span></pre><p>无论何时定义几何段，其开始和结束度量必须从某个现有几何段定义或导出。将自动填充几何段上所有形状点的无符号度量。</p>
                  <p>与LRS函数一起使用的任何点几何的SDO_GTYPE必须为3301。</p>
                  <div class="example" id="GUID-34C0AE0E-09AD-4765-A426-8AEBB7CE5A20__I885124">
                     <p class="titleinexample">示例7-1在空间元数据中包括LRS度量维度</p><pre class="oac_no_warn" dir="ltr">INSERT INTO user_sdo_geom_metadata（TABLE_NAME，COLUMN_NAME，DIMINFO，SRID）VALUES（'LRS_ROUTES'，'GEOMETRY'，SDO_DIM_ARRAY（SDO_DIM_ELEMENT（'X'，0,20,1.005），SDO_DIM_ELEMENT（'Y'，0,20,0.005）， <span class="bold">SDO_DIM_ELEMENT（'M'，0,100,0.005）</span> ），NULL）;</pre><p>在添加新度量维度之后，可以表示具有度量信息（例如几何段和LRS点）的几何。创建具有三个线段的几何段的示例<a href="lrs-linear-referencing-system-concepts.html#GUID-34C0AE0E-09AD-4765-A426-8AEBB7CE5A20__I884481">如图7-7</a>所示。
                     </p>
                  </div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="lrs-linear-referencing-system-concepts.html#GUID-9793361B-6C73-41E1-8389-85D8788ED083" title="线性参考是将属性或事件与线性要素的位置或部分相关联的自然且方便的手段。它已广泛用于运输应用（如高速公路，铁路和运输路线）和公用设施应用（如天然气和石油管道）。">线性参考系统</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL760"></a><div class="props_rev_3"><a id="GUID-CA7D44D7-CB40-4C33-9345-2C84F43CF8CA" name="GUID-CA7D44D7-CB40-4C33-9345-2C84F43CF8CA"></a><h3 id="SPATL-GUID-CA7D44D7-CB40-4C33-9345-2C84F43CF8CA" class="sect3"><span class="enumeration_section">7.3</span> LRS数据的索引</h3>
               <div>
                  <p>如果LRS数据具有四个维度（三个加上M维度），并且如果需要索引所有三个非度量维度，则必须使用空间R树索引来索引数据。</p>
                  <p>您还必须在<a href="sql-indexing-spatial-data.html#GUID-BB6D7C9E-277B-4F49-BDD4-539CFE88D12C">CREATE INDEX</a>语句中指定PARAMETERS（'sdo_indx_dims = 3'）以确保索引前三个维度。但请注意，如果指定<code class="codeph">sdo_indx_dims</code>值为3或更高，则只能考虑所有三个维度<a href="spatial-concepts.html#GUID-6F3A9C6E-3617-47D9-AE61-CF9F1770555A" title="Oracle Spatial and Graph支持三维空间数据的存储和检索，包括点，点云（点集合），线，多边形，曲面和实体。">的三维空间对象中</a>列出的那些运算符可用于索引几何;不能使用<a href="spatial-operators-reference.html#GUID-85422854-5133-4F1D-BF0E-228CA6EDAF87" title="This chapter describes the operators that you can use when working with the spatial object data type.">Spatial Operators中</a>描述的其他运算<a href="spatial-operators-reference.html#GUID-85422854-5133-4F1D-BF0E-228CA6EDAF87" title="本章介绍了使用空间对象数据类型时可以使用的运算符。">符</a> 。（ <code class="codeph">sdo_indx_dims</code>关键字的默认值为2，这将导致仅对前两个维度建立索引。）例如，如果尺寸为X，Y，Z和M，则指定<code class="codeph">sdo_indx_dims=3</code>以索引X，Y和Z尺寸，但不指定尺寸（M）尺寸。不要在空间索引中包含度量维度，因为这会导致额外的处理开销并且不会产生任何好处。
                  </p>
                  <p>有关<a href="sql-indexing-spatial-data.html#GUID-BB6D7C9E-277B-4F49-BDD4-539CFE88D12C">CREATE INDEX</a>语句及其参数和关键字的信息位于<a href="sql-indexing-spatial-data.html#GUID-E356011F-BC91-44EC-9E86-E5E786EDC2BC" title="本章介绍使用空间对象数据类型时使用的SQL语句。">SQL语句索引空间数据中</a> 。
                  </p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="lrs-linear-referencing-system-concepts.html#GUID-9793361B-6C73-41E1-8389-85D8788ED083" title="线性参考是将属性或事件与线性要素的位置或部分相关联的自然且方便的手段。它已广泛用于运输应用（如高速公路，铁路和运输路线）和公用设施应用（如天然气和石油管道）。">线性参考系统</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL761"></a><div class="props_rev_3"><a id="GUID-E392761D-EF47-4764-8287-8E3D1D799D53" name="GUID-E392761D-EF47-4764-8287-8E3D1D799D53"></a><h3 id="SPATL-GUID-E392761D-EF47-4764-8287-8E3D1D799D53" class="sect3"><span class="enumeration_section">7.4</span> LRS函数的3D格式</h3>
               <div>
                  <p>大多数LRS函数的格式以<span class="italic">_3D</span>结尾：例如，DEFINE_GEOM_SEGMENT_3D，CLIP_GEOM_SEGMENT_3D，FIND_MEASURE_3D和LOCATE_PT_3D。如果函数具有<span class="italic">3D</span>格式，则在功能参考主题的使用说明中标识该函数。
                  </p>
                  <p>仅支持线串和多线串几何的<span class="italic">3D</span>格式。（多边形，圆弧或圆圈不支持它们。）仅当几何对象具有四个维度且第四个维度是度量（例如，X，Y，Z和M）时，才应使用<span class="italic">3D</span>格式，并且仅当您希望函数考虑前三个维度时（对于例如，X，Y和Z）。如果在具有四个维度的几何体上使用函数的标准格式（即，没有<span class="italic">_3D</span> ），则该函数仅考虑前两个维度（例如，X和Y）。
                  </p>
                  <p>例如，以下格式在执行剪辑操作时考虑指定GEOM对象的X，Y和Z维度：</p><pre class="oac_no_warn" dir="ltr">SELECT SDO_LRS.CLIP_GEOM_SEGMENT_3D（a.geom，m.diminfo，5,10）FROM routes r，user_sdo_geom_metadata m WHERE m.table_name ='ROUTES'和m.column_name ='GEOM'AND r.route_id = 1;</pre><p>但是，以下格式仅考虑X和Y维度，并在执行剪辑操作时忽略指定GEOM对象的Z维度：</p><pre class="oac_no_warn" dir="ltr">SELECT SDO_LRS.CLIP_GEOM_SEGMENT（a.geom，m.diminfo，5,10）FROM routes r，user_sdo_geom_metadata m WHERE m.table_name ='ROUTES'和m.column_name ='GEOM'AND r.route_id = 1;</pre><p>任何函数的标准和<span class="italic">3D</span>格式的参数都是相同的，并且使用说明适用于这两种格式。
                  </p>
                  <p>如果LRS函数的参数包括线（或多线）字符串和点（LRS点），则线字符串和点必须具有相同的维数。例如：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>对于<a href="SDO_LRS-reference.html#GUID-BBCE2843-7303-4FB6-B832-F335925F4F8B">SDO_LRS.PROJECT_PT</a>功能，输入<code class="codeph">geom_segment</code> （线）必须具有两个维度（XY）加上度量维度，并且所述输入<code class="codeph">point</code>点必须是二维LRS点几何与度量维度（SDO_GTYPE = 3301）。（在该函数的示例中就是这种情况。）
                        </p>
                     </li>
                     <li>
                        <p>对于SDO_LRS.PROJECT_PT_3D函数。输入<code class="codeph">geom_segment</code>必须具有三个维度（X，Y，Z）加上度量维度，并且输入<code class="codeph">point</code>点必须是三维LRS点几何与度量维度（SDO_GTYPE = 3401）。
                        </p>
                     </li>
                  </ul>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="lrs-linear-referencing-system-concepts.html#GUID-9793361B-6C73-41E1-8389-85D8788ED083" title="线性参考是将属性或事件与线性要素的位置或部分相关联的自然且方便的手段。它已广泛用于运输应用（如高速公路，铁路和运输路线）和公用设施应用（如天然气和石油管道）。">线性参考系统</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL762"></a><div class="props_rev_3"><a id="GUID-247E53DE-3F27-4BE2-97D6-363F10814985" name="GUID-247E53DE-3F27-4BE2-97D6-363F10814985"></a><h3 id="SPATL-GUID-247E53DE-3F27-4BE2-97D6-363F10814985" class="sect3"><span class="enumeration_section">7.5</span> LRS操作</h3>
               <div>
                  <p>本主题描述了Oracle Spatial and Graph LRS API支持的几种线性引用操作。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="lrs-linear-referencing-system-concepts.html#GUID-8B79B6E2-469D-4E6B-9B1B-394ED1E6EE66">定义几何段</a><br></li>
                     <li class="ulchildlink"><a href="lrs-linear-referencing-system-concepts.html#GUID-3E2F0C1F-1040-4340-A259-DCB8A81EC584">重新定义几何段</a><br></li>
                     <li class="ulchildlink"><a href="lrs-linear-referencing-system-concepts.html#GUID-C3E5E1B7-D0D9-4DCB-A325-86F3C926EFBC">剪切几何段（动态分段）</a><br></li>
                     <li class="ulchildlink"><a href="lrs-linear-referencing-system-concepts.html#GUID-443BF6B9-1AB9-431E-AEEC-CCB8376D6B86">拆分几何部分</a><br></li>
                     <li class="ulchildlink"><a href="lrs-linear-referencing-system-concepts.html#GUID-AAF5BEE8-6FFB-439B-A64D-1C629487B1BC">连接几何段</a><br></li>
                     <li class="ulchildlink"><a href="lrs-linear-referencing-system-concepts.html#GUID-E0961173-0F8E-4F74-9B7A-B8ACFDFE1D38">缩放几何片段</a><br></li>
                     <li class="ulchildlink"><a href="lrs-linear-referencing-system-concepts.html#GUID-6FF6530A-59CE-4756-BDDE-5D095CCE190F">偏移几何段</a><br></li>
                     <li class="ulchildlink"><a href="lrs-linear-referencing-system-concepts.html#GUID-DF662D84-9717-4C13-95F8-1E71B67114C9">在几何段上定位点</a><br></li>
                     <li class="ulchildlink"><a href="lrs-linear-referencing-system-concepts.html#GUID-AE76EA98-4709-48E4-8B6C-21BB5DE288DC">将点投影到几何段上</a><br></li>
                     <li class="ulchildlink"><a href="lrs-linear-referencing-system-concepts.html#GUID-108C0A77-9D9A-40ED-BE79-0FCBC5172299">转换LRS几何图形</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="lrs-linear-referencing-system-concepts.html#GUID-9793361B-6C73-41E1-8389-85D8788ED083" title="线性参考是将属性或事件与线性要素的位置或部分相关联的自然且方便的手段。它已广泛用于运输应用（如高速公路，铁路和运输路线）和公用设施应用（如天然气和石油管道）。">线性参考系统</a></p>
                     </div>
                  </div>
               </div>
               <a id="SPATL764"></a><a id="SPATL763"></a><div class="props_rev_3"><a id="GUID-8B79B6E2-469D-4E6B-9B1B-394ED1E6EE66" name="GUID-8B79B6E2-469D-4E6B-9B1B-394ED1E6EE66"></a><h4 id="SPATL-GUID-8B79B6E2-469D-4E6B-9B1B-394ED1E6EE66" class="sect4"><span class="enumeration_section">7.5.1</span>定义几何段</h4>
                  <div>
                     <p><a id="d62565e1751" class="indexterm-anchor"></a><a id="d62565e1755" class="indexterm-anchor"></a>有两种方法可以使用度量信息创建几何段：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>构造几何段并明确指定度量。</p>
                        </li>
                        <li>
                           <p>使用指定的开始和结束以及任何其他度量以升序或降序定义几何段。将根据位置和距离分布自动填充几何段中具有未知（未指定）度量（空值）的形状点的度量。</p>
                        </li>
                     </ul>
                     <p><a href="lrs-linear-referencing-system-concepts.html#GUID-8B79B6E2-469D-4E6B-9B1B-394ED1E6EE66__I887823">图7-8</a>显示了定义几何段的不同方法：</p>
                     <div class="figure" id="GUID-8B79B6E2-469D-4E6B-9B1B-394ED1E6EE66__I887823">
                        <p class="titleinfigure">图7-8定义几何段</p><img src="img/defining.gif" alt="下面是图7-8的描述" title="下面是图7-8的描述" longdesc="img_text/defining.html"><br><a href="img_text/defining.html">“图7-8定义几何段”的说明</a></div>
                     <!-- class="figure" -->
                     <p>在任何LRS操作可以继续之前，必须定义（或必须已经存在）LRS段。也就是说，必须存在开始，结束和任何其他分配的度量以从指定度量导出位置。如果未分配测量值，将自动填充中间形状点的测量信息。</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="lrs-linear-referencing-system-concepts.html#GUID-247E53DE-3F27-4BE2-97D6-363F10814985" title="本主题描述了Oracle Spatial and Graph LRS API支持的几种线性引用操作。">LRS操作</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SPATL766"></a><a id="SPATL765"></a><div class="props_rev_3"><a id="GUID-3E2F0C1F-1040-4340-A259-DCB8A81EC584" name="GUID-3E2F0C1F-1040-4340-A259-DCB8A81EC584"></a><h4 id="SPATL-GUID-3E2F0C1F-1040-4340-A259-DCB8A81EC584" class="sect4"><span class="enumeration_section">7.5.2</span>重新定义几何段</h4>
                  <div>
                     <p><a id="d62565e1840" class="indexterm-anchor"></a><a id="d62565e1844" class="indexterm-anchor"></a>您可以使用自动计算的度量重新定义几何线段，以替换起点和终点之间所有形状点的现有度量。如果在一个或多个显式度量分配中出现错误，并且您希望从按比例分配的度量重新开始，则重新定义段可能很有用。
                     </p>
                     <p><a href="lrs-linear-referencing-system-concepts.html#GUID-3E2F0C1F-1040-4340-A259-DCB8A81EC584__I889831">图7-9</a>显示了一个段的重新定义，其中现有（之前）分配的度量值不成比例并反映了广泛变化的间隙。
                     </p>
                     <div class="figure" id="GUID-3E2F0C1F-1040-4340-A259-DCB8A81EC584__I889831">
                        <p class="titleinfigure">图7-9重新定义几何段</p><img src="img/redefining.gif" alt="下面是图7-9的描述" title="下面是图7-9的描述" longdesc="img_text/redefining.html"><br><a href="img_text/redefining.html">“图7-9重新定义几何段”的说明</a></div>
                     <!-- class="figure" -->
                     <p>在<a href="lrs-linear-referencing-system-concepts.html#GUID-3E2F0C1F-1040-4340-A259-DCB8A81EC584__I889831">图7-9中</a>的段重新定义之后，填充的度量反映了沿段的比例距离。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="lrs-linear-referencing-system-concepts.html#GUID-247E53DE-3F27-4BE2-97D6-363F10814985" title="本主题描述了Oracle Spatial and Graph LRS API支持的几种线性引用操作。">LRS操作</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SPATL768"></a><a id="SPATL767"></a><div class="props_rev_3"><a id="GUID-C3E5E1B7-D0D9-4DCB-A325-86F3C926EFBC" name="GUID-C3E5E1B7-D0D9-4DCB-A325-86F3C926EFBC"></a><h4 id="SPATL-GUID-C3E5E1B7-D0D9-4DCB-A325-86F3C926EFBC" class="sect4"><span class="enumeration_section">7.5.3</span>剪切几何段（动态分段）</h4>
                  <div>
                     <p><a id="d62565e1923" class="indexterm-anchor"></a><a id="d62565e1927" class="indexterm-anchor"></a><a id="d62565e1931" class="indexterm-anchor"></a>您可以剪切几何线段以从现有几何线段创建新的几何线段， <a href="lrs-linear-referencing-system-concepts.html#GUID-C3E5E1B7-D0D9-4DCB-A325-86F3C926EFBC__I890600">如图7-10中的</a> a部分所示。
                     </p>
                     <div class="figure" id="GUID-C3E5E1B7-D0D9-4DCB-A325-86F3C926EFBC__I890600">
                        <p class="titleinfigure">图7-10剪切，拆分和连接几何段</p><img src="img/clipping.gif" alt="下面是图7-10的描述" title="下面是图7-10的描述" longdesc="img_text/clipping.html"><br><a href="img_text/clipping.html">“图7-10剪切，拆分和连接几何段”的说明</a></div>
                     <!-- class="figure" -->
                     <p>在<a href="lrs-linear-referencing-system-concepts.html#GUID-C3E5E1B7-D0D9-4DCB-A325-86F3C926EFBC__I890600">图7-10中</a> ，a部分是从较大段的一部分创建的段。新段具有自己的起点和终点，方向与原始较大段中的方向相同。
                     </p>
                     <p>通过剪切片段，您可以执行<span class="bold">动态分割</span> ，在此处剪切特定测量值的线条。这种使用的场景将是创建道路状况表，其中对于给定道路，一些段被指定为处于良好状态而其他段被指定为处于不良状况。例如，措施100和120之间的段可能处于良好状态，但是措施120和125之间的段可能处于不良状态。请参阅同义函数<a href="SDO_LRS-reference.html#GUID-FC99FDEA-8CCD-47A0-B43C-59A6523D98A6">SDO_LRS.CLIP_GEOM_SEGMENT</a>和<a href="SDO_LRS-reference.html#GUID-EF61FA31-92A2-4333-B2B3-3D19B8B29EB8">SDO_LRS.DYNAMIC_SEGMENT</a>的参考信息。</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="lrs-linear-referencing-system-concepts.html#GUID-247E53DE-3F27-4BE2-97D6-363F10814985" title="本主题描述了Oracle Spatial and Graph LRS API支持的几种线性引用操作。">LRS操作</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SPATL769"></a><div class="props_rev_3"><a id="GUID-443BF6B9-1AB9-431E-AEEC-CCB8376D6B86" name="GUID-443BF6B9-1AB9-431E-AEEC-CCB8376D6B86"></a><h4 id="SPATL-GUID-443BF6B9-1AB9-431E-AEEC-CCB8376D6B86" class="sect4"><span class="enumeration_section">7.5.4</span>拆分几何段</h4>
                  <div>
                     <p><a id="d62565e2017" class="indexterm-anchor"></a><a id="d62565e2021" class="indexterm-anchor"></a>您可以通过拆分几何线段来创建两个新的几何线段，如“ <a href="lrs-linear-referencing-system-concepts.html#GUID-C3E5E1B7-D0D9-4DCB-A325-86F3C926EFBC">剪切几何线段（动态分段）”</a>中的图所示，b部分。每个新段的方向与原始段相同。
                     </p>
                     <div class="infoboxnote" id="GUID-443BF6B9-1AB9-431E-AEEC-CCB8376D6B86__GUID-1B55FD84-1FBD-436E-959C-B5D07AD348B4">
                        <p class="notep1">注意：</p>
                        <p>在<a href="lrs-linear-referencing-system-concepts.html#GUID-C3E5E1B7-D0D9-4DCB-A325-86F3C926EFBC">剪切几何片段（动态分割）</a>和其他主题中，片段之间的小间隙用于片段分割和连接的轮廓。每个差距只是强调了涉及两个不同部分的事实。然而，实际上连接了两个段（例如， <a href="lrs-linear-referencing-system-concepts.html#GUID-C3E5E1B7-D0D9-4DCB-A325-86F3C926EFBC">剪切几何段（动态分段）中的</a>段1和段2，部分b和c）。在确定是否连接段时，会考虑<a href="spatial-concepts.html#GUID-7469388B-6D23-4294-904F-78CA3B7191D3">容</a>差（请参阅<a href="spatial-concepts.html#GUID-7469388B-6D23-4294-904F-78CA3B7191D3">容</a>差）。
                        </p>
                     </div>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="lrs-linear-referencing-system-concepts.html#GUID-247E53DE-3F27-4BE2-97D6-363F10814985" title="本主题描述了Oracle Spatial and Graph LRS API支持的几种线性引用操作。">LRS操作</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SPATL771"></a><a id="SPATL772"></a><a id="SPATL770"></a><div class="props_rev_3"><a id="GUID-AAF5BEE8-6FFB-439B-A64D-1C629487B1BC" name="GUID-AAF5BEE8-6FFB-439B-A64D-1C629487B1BC"></a><h4 id="SPATL-GUID-AAF5BEE8-6FFB-439B-A64D-1C629487B1BC" class="sect4"><span class="enumeration_section">7.5.5</span>连接几何段</h4>
                  <div>
                     <p><a id="d62565e2106" class="indexterm-anchor"></a><a id="d62565e2110" class="indexterm-anchor"></a>您可以通过连接两个几何段来创建新的几何段，如<a href="lrs-linear-referencing-system-concepts.html#GUID-C3E5E1B7-D0D9-4DCB-A325-86F3C926EFBC">剪切几何段（动态分段）中</a>图的c部分所示。几何段不需要在空间上连接，尽管它们在该图的部分c中的图示中连接。（如果段没有空间连接，则连接结果是多行字符串。）移动第二几何段的度量，使得第一段的结束度量与第二段的开始度量相同。由串联产生的段的方向与两个原始段中的相同。
                     </p>
                     <p>下图中显示了<a href="lrs-linear-referencing-system-concepts.html#GUID-C3E5E1B7-D0D9-4DCB-A325-86F3C926EFBC">剪切几何段（动态分段）</a>中图中剪切，拆分和连接操作的测量分配。测量信息和分段方向以一致的方式保留。操作完成后，分配将自动完成。
                     </p>
                     <div class="figure" id="GUID-AAF5BEE8-6FFB-439B-A64D-1C629487B1BC__I887072">
                        <p class="titleinfigure">图7-11几何段操作中的测量分配</p><img src="img/geosegoper.gif" alt="下面是图7-11的描述" title="下面是图7-11的描述" longdesc="img_text/geosegoper.html"><br><a href="img_text/geosegoper.html">“图7-11几何段操作中的测量分配”的描述</a></div>
                     <!-- class="figure" -->
                     <p><a id="d62565e2129" class="indexterm-anchor"></a><a id="d62565e2133" class="indexterm-anchor"></a>从级联生成的几何段的方向始终是第一个段（方向<code class="codeph">geom_segment1</code>在调用<a href="SDO_LRS-reference.html#GUID-F6BA9668-821C-4674-9533-0C0EF5E918D3">SDO_LRS.CONCATENATE_GEOM_SEGMENTS</a>功能），如示于下图。
                     </p>
                     <div class="figure" id="GUID-AAF5BEE8-6FFB-439B-A64D-1C629487B1BC__I892282">
                        <p class="titleinfigure">图7-12带连接的段方向</p><img src="img/concat.gif" alt="下面是图7-12的描述" title="下面是图7-12的描述" longdesc="img_text/concat.html"><br><a href="img_text/concat.html">“图7-12带串联的段方向”的描述</a></div>
                     <!-- class="figure" -->
                     <p><a id="d62565e2151" class="indexterm-anchor"></a><a id="d62565e2155" class="indexterm-anchor"></a>除了使用<a href="SDO_LRS-reference.html#GUID-F6BA9668-821C-4674-9533-0C0EF5E918D3">SDO_LRS.CONCATENATE_GEOM_SEGMENTS</a>函数显式连接两个连接的段<a href="SDO_LRS-reference.html#GUID-F6BA9668-821C-4674-9533-0C0EF5E918D3">之外</a> ，还可以执行聚合连接：即，可以使用<a href="spatial-aggregate-functions.html#GUID-FFB228EB-A6DF-4ACC-9E18-28723C9E56E7">SDO_AGGR_LRS_CONCAT</a>空间聚合函数连接列（层）中的所有连接的几何段。（见的说明和示例<a href="spatial-aggregate-functions.html#GUID-FFB228EB-A6DF-4ACC-9E18-28723C9E56E7">SDO_AGGR_LRS_CONCAT</a>在空间聚集函数<a href="spatial-aggregate-functions.html#GUID-F6D76405-3876-4834-9FAB-75F97BDF4BD9" title="本章包含空间聚合函数的参考和用法信息。">空间聚集函数</a> 。）
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="lrs-linear-referencing-system-concepts.html#GUID-247E53DE-3F27-4BE2-97D6-363F10814985" title="本主题描述了Oracle Spatial and Graph LRS API支持的几种线性引用操作。">LRS操作</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SPATL774"></a><a id="SPATL773"></a><div class="props_rev_3"><a id="GUID-E0961173-0F8E-4F74-9B7A-B8ACFDFE1D38" name="GUID-E0961173-0F8E-4F74-9B7A-B8ACFDFE1D38"></a><h4 id="SPATL-GUID-E0961173-0F8E-4F74-9B7A-B8ACFDFE1D38" class="sect4"><span class="enumeration_section">7.5.6</span>缩放几何段</h4>
                  <div>
                     <p><a id="d62565e2243" class="indexterm-anchor"></a><a id="d62565e2247" class="indexterm-anchor"></a>您可以通过对几何线段执行线性缩放操作来创建新的几何线段。<a href="lrs-linear-referencing-system-concepts.html#GUID-E0961173-0F8E-4F74-9B7A-B8ACFDFE1D38__I884764">图7-13</a>显示了几何段缩放的映射关系。
                     </p>
                     <div class="figure" id="GUID-E0961173-0F8E-4F74-9B7A-B8ACFDFE1D38__I884764">
                        <p class="titleinfigure">图7-13缩放几何段</p><img src="img/scaling.gif" alt="下面是图7-13的描述" title="下面是图7-13的描述" longdesc="img_text/scaling.html"><br><a href="img_text/scaling.html">“图7-13缩放几何段”的说明</a></div>
                     <!-- class="figure" -->
                     <p>通常，缩放几何片段仅涉及重新布置新创建的几何片段的度量。但是，如果缩放因子为负，则需要反转形状点的顺序，以使测量沿着几何段的方向（由形状点的顺序定义）增加。</p>
                     <p>缩放操作可以执行以下操作的任意组合：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>翻译（转移）测量信息。（例如，向Ms和Me添加相同的值以获得M和M'。）</p>
                        </li>
                        <li>
                           <p>反转措施信息。（设M = Me，M'e = Ms，Mshift = 0。）</p>
                        </li>
                        <li>
                           <p>执行度量信息的简单缩放。（让Mshift = 0.）</p>
                        </li>
                     </ul>
                     <p>有关这些操作的示例，请参阅<a href="SDO_LRS-reference.html#GUID-38A5534F-0B2D-410B-8210-3DFFD4E4AE5B" title="MDSYS.SDO_LRS包中包含用于创建，修改，查询和转换线性引用元素的子程序。">SDO_LRS包（线性参考系统）中</a>的<a href="SDO_LRS-reference.html#GUID-7FB461F0-C221-490C-94BF-AE49ACE42828">SDO_LRS.SCALE_GEOM_SEGMENT</a> ， <a href="SDO_LRS-reference.html#GUID-3633A045-B824-4275-B6B3-5A6155F12415">SDO_LRS.TRANSLATE_MEASURE</a> ， <a href="SDO_LRS-reference.html#GUID-94B55D69-FAC9-4FF3-8EC2-084FA21D305B">SDO_LRS.REVERSE_GEOMETRY</a>和<a href="SDO_LRS-reference.html#GUID-EF05083F-E47C-4AB4-BCF0-FA39A3B9A25B">SDO_LRS.REDEFINE_GEOM_SEGMENT</a>子程序的使用说明和示例。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="lrs-linear-referencing-system-concepts.html#GUID-247E53DE-3F27-4BE2-97D6-363F10814985" title="本主题描述了Oracle Spatial and Graph LRS API支持的几种线性引用操作。">LRS操作</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SPATL776"></a><a id="SPATL775"></a><div class="props_rev_3"><a id="GUID-6FF6530A-59CE-4756-BDDE-5D095CCE190F" name="GUID-6FF6530A-59CE-4756-BDDE-5D095CCE190F"></a><h4 id="SPATL-GUID-6FF6530A-59CE-4756-BDDE-5D095CCE190F" class="sect4"><span class="enumeration_section">7.5.7</span>偏移几何段</h4>
                  <div>
                     <p><a id="d62565e2360" class="indexterm-anchor"></a><a id="d62565e2364" class="indexterm-anchor"></a>您可以通过对几何线段执行偏移操作来创建新的几何线段。<a href="lrs-linear-referencing-system-concepts.html#GUID-6FF6530A-59CE-4756-BDDE-5D095CCE190F__I892782">图7-14</a>显示了几何段偏移的映射关系。
                     </p>
                     <div class="figure" id="GUID-6FF6530A-59CE-4756-BDDE-5D095CCE190F__I892782">
                        <p class="titleinfigure">图7-14偏移几何段</p><img src="img/offsetting.gif" alt="下面是图7-14的描述" title="下面是图7-14的描述" longdesc="img_text/offsetting.html"><br><a href="img_text/offsetting.html">“图7-14偏移几何段”的描述</a></div>
                     <!-- class="figure" -->
                     <p>在<a href="lrs-linear-referencing-system-concepts.html#GUID-6FF6530A-59CE-4756-BDDE-5D095CCE190F__I892782">图7-14</a>所示的偏移操作中，得到的几何段与原始段的指定开始和结束度量<a href="lrs-linear-referencing-system-concepts.html#GUID-6FF6530A-59CE-4756-BDDE-5D095CCE190F__I892782">相差</a> 5个单位。
                     </p>
                     <p>有关更多信息，请参阅<a href="SDO_LRS-reference.html#GUID-38A5534F-0B2D-410B-8210-3DFFD4E4AE5B" title="MDSYS.SDO_LRS包中包含用于创建，修改，查询和转换线性引用元素的子程序。">SDO_LRS包（线性参考系统）中</a> <a href="SDO_LRS-reference.html#GUID-26627C35-104C-42A1-9F0D-0388109A85CE">SDO_LRS.OFFSET_GEOM_SEGMENT</a>函数的使用说明和示例。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="lrs-linear-referencing-system-concepts.html#GUID-247E53DE-3F27-4BE2-97D6-363F10814985" title="本主题描述了Oracle Spatial and Graph LRS API支持的几种线性引用操作。">LRS操作</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SPATL778"></a><a id="SPATL779"></a><a id="SPATL777"></a><div class="props_rev_3"><a id="GUID-DF662D84-9717-4C13-95F8-1E71B67114C9" name="GUID-DF662D84-9717-4C13-95F8-1E71B67114C9"></a><h4 id="SPATL-GUID-DF662D84-9717-4C13-95F8-1E71B67114C9" class="sect4"><span class="enumeration_section">7.5.8</span>在几何段上定位点</h4>
                  <div>
                     <p><a id="d62565e2457" class="indexterm-anchor"></a><a id="d62565e2461" class="indexterm-anchor"></a>您可以在几何段上找到由度量描述的点的位置和偏移（参见<a href="lrs-linear-referencing-system-concepts.html#GUID-DF662D84-9717-4C13-95F8-1E71B67114C9__I884817">图7-15</a> ）。
                     </p>
                     <div class="figure" id="GUID-DF662D84-9717-4C13-95F8-1E71B67114C9__I884817">
                        <p class="titleinfigure">图7-15使用度量和偏移量定位沿段的点</p><img src="img/point_offset.gif" alt="下面是图7-15的描述" title="下面是图7-15的描述" longdesc="img_text/point_offset.html"><br><a href="img_text/point_offset.html">“图7-15沿着具有测量和偏移的段定位点”的描述</a></div>
                     <!-- class="figure" -->
                     <p>总是有一个独特的位置，在几何段上有特定的度量。当给出偏移并且测量所描述的点落在几何段的形状点上时会出现模糊（ <a href="lrs-linear-referencing-system-concepts.html#GUID-DF662D84-9717-4C13-95F8-1E71B67114C9__I884861">见图7-16</a> ）。
                     </p>
                     <div class="figure" id="GUID-DF662D84-9717-4C13-95F8-1E71B67114C9__I884861">
                        <p class="titleinfigure">图7-16带偏移的位置参考模糊度</p><img src="img/ambiguity.gif" alt="下面是图7-16的描述" title="下面是图7-16的描述" longdesc="img_text/ambiguity.html"><br><a href="img_text/ambiguity.html">“图7-16带偏移的位置参考中的模糊度”的描述</a></div>
                     <!-- class="figure" -->
                     <p><a href="lrs-linear-referencing-system-concepts.html#GUID-DF662D84-9717-4C13-95F8-1E71B67114C9__I884861">如图7-16</a>所示，几何线段上的形状点的偏移弧是所有点与形状点具有相同最小距离的弧。结果，偏移弧上的所有点都由相同（测量，偏移）对表示。要解决此一对多映射问题，将返回偏移弧上的中间点。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="lrs-linear-referencing-system-concepts.html#GUID-247E53DE-3F27-4BE2-97D6-363F10814985" title="本主题描述了Oracle Spatial and Graph LRS API支持的几种线性引用操作。">LRS操作</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SPATL781"></a><a id="SPATL780"></a><div class="props_rev_3"><a id="GUID-AE76EA98-4709-48E4-8B6C-21BB5DE288DC" name="GUID-AE76EA98-4709-48E4-8B6C-21BB5DE288DC"></a><h4 id="SPATL-GUID-AE76EA98-4709-48E4-8B6C-21BB5DE288DC" class="sect4"><span class="enumeration_section">7.5.9</span>将点投影到几何段上</h4>
                  <div>
                     <p><a id="d62565e2548" class="indexterm-anchor"></a><a id="d62565e2550" class="indexterm-anchor"></a><a id="d62565e2554" class="indexterm-anchor"></a>您可以找到相对于几何线段的点的投影点。要投影的点可以在段上或下。如果该点位于该段上，则该点及其投影点是相同的。
                     </p>
                     <p>投影是点定位操作的反向操作， <a href="lrs-linear-referencing-system-concepts.html#GUID-DF662D84-9717-4C13-95F8-1E71B67114C9__I884817">如图7-15</a>所示。与点定位操作类似，形状点的偏移弧上的所有点将具有相同的投影点（即形状点本身），测量和偏移（参见<a href="lrs-linear-referencing-system-concepts.html#GUID-DF662D84-9717-4C13-95F8-1E71B67114C9__I884861">图7-16</a> ）。如果某个点有多个投影点，则返回从起点开始的第一个投影点（ <a href="lrs-linear-referencing-system-concepts.html#GUID-AE76EA98-4709-48E4-8B6C-21BB5DE288DC__I884057">图7-17</a>中两个插图中的投影点1）。
                     </p>
                     <div class="figure" id="GUID-AE76EA98-4709-48E4-8B6C-21BB5DE288DC__I884057">
                        <p class="titleinfigure">图7-17多个投影点</p><img src="img/multiprojpts.gif" alt="下面是图7-17的描述" title="下面是图7-17的描述" longdesc="img_text/multiprojpts.html"><br><a href="img_text/multiprojpts.html">“图7-17多个投影点”的说明</a></div>
                     <!-- class="figure" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="lrs-linear-referencing-system-concepts.html#GUID-247E53DE-3F27-4BE2-97D6-363F10814985" title="本主题描述了Oracle Spatial and Graph LRS API支持的几种线性引用操作。">LRS操作</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SPATL783"></a><a id="SPATL782"></a><div class="props_rev_3"><a id="GUID-108C0A77-9D9A-40ED-BE79-0FCBC5172299" name="GUID-108C0A77-9D9A-40ED-BE79-0FCBC5172299"></a><h4 id="SPATL-GUID-108C0A77-9D9A-40ED-BE79-0FCBC5172299" class="sect4"><span class="enumeration_section">7.5.10</span>转换LRS几何图形</h4>
                  <div>
                     <p><a id="d62565e2634" class="indexterm-anchor"></a><a id="d62565e2638" class="indexterm-anchor"></a>您可以将几何图形从标准线字符串格式转换为LRS格式，反之亦然。如果您有大量现有的行字符串数据，则可能会发生转换函数的主要用途，在这种情况下，转换是手动创建所有LRS段的便捷替代方法。但是，如果您需要将LRS段转换为某些应用程序的标准线字符串，则还会提供该功能。
                     </p>
                     <p>提供的功能是转换：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>单独的线串或点</p>
                           <p>对于从标准格式到LRS格式的转换，添加度量维度（默认名称为<span class="italic">M</span> ），并为每个点提供度量信息。对于从LRS格式到标准格式的转换，将删除度量维度和信息。在这两种情况下，USER_SDO_GEOM_METADATA视图中的维度信息（DIMINFO）元数据都不受影响。
                           </p>
                        </li>
                        <li>
                           <p>图层（列中的所有几何图形）</p>
                           <p>对于从标准格式到LRS格式的转换，添加了度量维度（默认名称为<span class="italic">M</span> ），但没有为每个点提供度量信息。对于从LRS格式到标准格式的转换，将删除度量维度和信息。在这两种情况下，USER_SDO_GEOM_METADATA视图中的尺寸信息（DIMINFO）元数据都会根据需要进行修改。
                           </p>
                        </li>
                        <li>
                           <p>尺寸信息（DIMINFO）</p>
                           <p>USER_SDO_GEOM_METADATA视图中的尺寸信息（DIMINFO）元数据将根据需要进行修改。例如，将具有X和Y维度（SDO_DIM_ELEMENT）的标准维数组转换为LRS维数组会导致添加M维（SDO_DIM_ELEMENT）。</p>
                        </li>
                     </ul>
                     <p><a href="lrs-linear-referencing-system-concepts.html#GUID-108C0A77-9D9A-40ED-BE79-0FCBC5172299__I890004">图7-18</a>显示了将标准行字符串转换为LRS行字符串时使用<a href="SDO_LRS-reference.html#GUID-70E4BB1A-250F-413E-B06C-D134C6B8E33D">SDO_LRS.CONVERT_TO_LRS_GEOM</a>函数添加度量信息。度量维度值在<a href="lrs-linear-referencing-system-concepts.html#GUID-108C0A77-9D9A-40ED-BE79-0FCBC5172299__I890004">图7-18</a>中加下划线。
                     </p>
                     <div class="figure" id="GUID-108C0A77-9D9A-40ED-BE79-0FCBC5172299__I890004">
                        <p class="titleinfigure">图7-18从标准转换为LRS线串</p><img src="img/conversion.gif" alt="下面是图7-18的描述" title="下面是图7-18的描述" longdesc="img_text/conversion.html"><br><a href="img_text/conversion.html">“图7-18从标准线转换为LRS线串”的说明</a></div>
                     <!-- class="figure" -->
                     <p>对于点几何的转换，返回几何中的SDO_POINT属性（在<a href="spatial-datatypes-metadata.html#GUID-1BEDE913-87BA-4EBD-BFFB-09C95C93A04E">SDO_POINT</a>中描述）受影响如下：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>如果标准点转换为LRS点，则输入几何中的SDO_POINT属性信息用于在生成的几何中设置SDO_ELEM_INFO和SDO_ORDINATES属性（在<a href="spatial-datatypes-metadata.html#GUID-270AE39D-7B83-46D0-9DD6-E5D99C045021">SDO_ELEM_INFO</a>和<a href="spatial-datatypes-metadata.html#GUID-79D7620B-5526-40FD-9604-9642B79908F2">SDO_ORDINATES中</a>描述），并在结果几何中设置SDO_POINT属性为空。
                           </p>
                        </li>
                        <li>
                           <p>如果将LRS点转换为标准点，则输入几何中的SDO_ELEM_INFO和SDO_ORDINATES属性（在<a href="spatial-datatypes-metadata.html#GUID-270AE39D-7B83-46D0-9DD6-E5D99C045021">SDO_ELEM_INFO</a>和<a href="spatial-datatypes-metadata.html#GUID-79D7620B-5526-40FD-9604-9642B79908F2">SDO_ORDINATES中</a>描述）中的信息用于在生成的几何中设置SDO_POINT属性信息，并在SDO_ELEM_INFO和SDO_ORDINATES属性中设置SDO_POINT属性信息。生成的几何体设置为null。
                           </p>
                        </li>
                     </ul>
                     <p>转换功能列在<a href="SDO_LRS-reference.html#GUID-38A5534F-0B2D-410B-8210-3DFFD4E4AE5B" title="MDSYS.SDO_LRS包中包含用于创建，修改，查询和转换线性引用元素的子程序。">SDO_LRS包（线性参考系统）中</a> 。另请参阅<a href="SDO_LRS-reference.html#GUID-38A5534F-0B2D-410B-8210-3DFFD4E4AE5B" title="MDSYS.SDO_LRS包中包含用于创建，修改，查询和转换线性引用元素的子程序。">SDO_LRS包（线性参考系统）中</a>有关每个转换函数的参考信息。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="lrs-linear-referencing-system-concepts.html#GUID-247E53DE-3F27-4BE2-97D6-363F10814985" title="本主题描述了Oracle Spatial and Graph LRS API支持的几种线性引用操作。">LRS操作</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="SPATL785"></a><a id="SPATL784"></a><div class="props_rev_3"><a id="GUID-2A6BC86B-0BE8-43F5-98D9-44E08ADF692C" name="GUID-2A6BC86B-0BE8-43F5-98D9-44E08ADF692C"></a><h3 id="SPATL-GUID-2A6BC86B-0BE8-43F5-98D9-44E08ADF692C" class="sect3"><span class="enumeration_section">7.6</span>具有LRS函数的容差值</h3>
               <div>
                  <p>许多LRS函数要求您指定公差值或一个或多个维数组。</p>
                  <p>因此，您可以控制是为所有非度量维度指定单个容差值，还是使用与维度数组或数组中的每个非度量维度关联的容差。公差仅应用于数据的几何部分，而不应用于度量维度。大地测量数据的容差值以米为单位，对于非大地测量数据，它是与数据相关的测量单位。（有关公差的详细讨论，请参阅<a href="spatial-concepts.html#GUID-7469388B-6D23-4294-904F-78CA3B7191D3">公差</a> 。）
                  </p>
                  <p>确保使用的公差值适合数据和目的。如果LRS函数的结果看起来不精确或不正确，则可能需要指定较小的公差值。</p>
                  <p>对于剪辑操作（请参阅<a href="lrs-linear-referencing-system-concepts.html#GUID-C3E5E1B7-D0D9-4DCB-A325-86F3C926EFBC">剪切几何线段</a> ）和偏移操作（请参见偏移<a href="lrs-linear-referencing-system-concepts.html#GUID-6FF6530A-59CE-4756-BDDE-5D095CCE190F">几何线段</a> ），如果返回的线段在输入几何线段的公差值范围内具有任何形状点，则可能是起点或终点。返回的段，形状点用作返回段的起点或终点。这样做是为了确保生成的几何体不包含任何冗余顶点，这将导致几何体无效。例如，假设与<a href="lrs-linear-referencing-system-concepts.html#GUID-2A6BC86B-0BE8-43F5-98D9-44E08ADF692C__CIHGJHBI">图7-19中</a>的几何段（非大地测量数据）相关的容差为0.5。
                  </p>
                  <div class="figure" id="GUID-2A6BC86B-0BE8-43F5-98D9-44E08ADF692C__CIHGJHBI">
                     <p class="titleinfigure">图7-19受容差影响的剪辑操作段</p><img src="img/lrs_tol.gif" alt="下面是图7-19的描述" title="下面是图7-19的描述" longdesc="img_text/lrs_tol.html"><br><a href="img_text/lrs_tol.html">“图7-19受容差影响的剪辑操作段”的说明</a></div>
                  <!-- class="figure" -->
                  <p>如果请求剪辑操作以返回测量值0（起点）和<a href="lrs-linear-referencing-system-concepts.html#GUID-2A6BC86B-0BE8-43F5-98D9-44E08ADF692C__CIHGJHBI">图7-19中的</a> 61.5之间的段，并且如果与测量值61.5和61.257相关联的点之间的距离小于0.5公差值，则返回段的终点是（35,10,61.257）。
                  </p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="lrs-linear-referencing-system-concepts.html#GUID-9793361B-6C73-41E1-8389-85D8788ED083" title="线性参考是将属性或事件与线性要素的位置或部分相关联的自然且方便的手段。它已广泛用于运输应用（如高速公路，铁路和运输路线）和公用设施应用（如天然气和石油管道）。">线性参考系统</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL787"></a><a id="SPATL788"></a><a id="SPATL789"></a><a id="SPATL790"></a><a id="SPATL786"></a><div class="props_rev_3"><a id="GUID-699CED71-3497-4826-A4A5-60BF13CD3770" name="GUID-699CED71-3497-4826-A4A5-60BF13CD3770"></a><h3 id="SPATL-GUID-699CED71-3497-4826-A4A5-60BF13CD3770" class="sect3"><span class="enumeration_section">7.7</span> LRS功能示例</h3>
               <div>
                  <p>本节介绍使用LRS功能的简化示例。</p>
                  <p><a id="d62565e2897" class="indexterm-anchor"></a><a id="d62565e2901" class="indexterm-anchor"></a>它指的是本章中介绍的概念，并使用<a href="SDO_LRS-reference.html#GUID-38A5534F-0B2D-410B-8210-3DFFD4E4AE5B" title="MDSYS.SDO_LRS包中包含用于创建，修改，查询和转换线性引用元素的子程序。">SDO_LRS包（线性参考系统）中记录的功能</a> 。
                  </p>
                  <p>此示例使用<a href="lrs-linear-referencing-system-concepts.html#GUID-699CED71-3497-4826-A4A5-60BF13CD3770__I888413">图7-20</a>中<a href="lrs-linear-referencing-system-concepts.html#GUID-699CED71-3497-4826-A4A5-60BF13CD3770__I888413">所示</a>的道路。
                  </p>
                  <div class="figure" id="GUID-699CED71-3497-4826-A4A5-60BF13CD3770__I888413">
                     <p class="titleinfigure">图7-20简化LRS示例：高速公路</p><img src="img/highway.gif" alt="下面是图7-20的描述" title="下面是图7-20的描述" longdesc="img_text/highway.html"><br><a href="img_text/highway.html">“图7-20简化LRS示例：公路”的描述</a></div>
                  <!-- class="figure" -->
                  <p>在<a href="lrs-linear-referencing-system-concepts.html#GUID-699CED71-3497-4826-A4A5-60BF13CD3770__I888413">图7-20中</a> ，高速公路（路线1）从点2,2开始，到达点5,14，沿着所示路径，并有六个入口 - 出口点（出口1到出口6）。为简单起见，图表上的每个单位代表一个度量单位，因此从开始到结束的度量是27（从出口5到出口6的段是3-4-5直角三角形的斜边）。
                  </p>
                  <p><a href="lrs-linear-referencing-system-concepts.html#GUID-699CED71-3497-4826-A4A5-60BF13CD3770__BABECGJD" title="这是高速公路特征和LRS对应物（相应特征）的表格。">表7-1</a>中的每一行都列出了与高速公路相关的实际特征以及与其对应或可用于表示它的LRS特征。
                  </p>
                  <div class="tblformal" id="GUID-699CED71-3497-4826-A4A5-60BF13CD3770__BABECGJD">
                     <p class="titleintable">表7-1公路特征和LRS对应部分</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="公路特点和LRS对应物" width="100%" border="1" summary="This is a table of Highway Features and LRS Counterparts (corresponding features)." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="53%" id="d62565e2943">公路特色</th>
                              <th align="left" valign="bottom" width="47%" id="d62565e2946">LRS功能</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="53%" id="d62565e2951" headers="d62565e2943 ">
                                 <p>命名路线，道路或街道</p>
                              </td>
                              <td align="left" valign="top" width="47%" headers="d62565e2951 d62565e2946 ">
                                 <p>LRS段或线性要素（段的逻辑集）</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="53%" id="d62565e2958" headers="d62565e2943 ">
                                 <p>英里或公里标记</p>
                              </td>
                              <td align="left" valign="top" width="47%" headers="d62565e2958 d62565e2946 ">
                                 <p>测量</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="53%" id="d62565e2965" headers="d62565e2943 ">
                                 <p>事故报告和位置跟踪</p>
                              </td>
                              <td align="left" valign="top" width="47%" headers="d62565e2965 d62565e2946 ">
                                 <p><a href="SDO_LRS-reference.html#GUID-0A7398C5-9112-415D-9F75-38DFF40DEEBA">SDO_LRS.LOCATE_PT</a>函数</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="53%" id="d62565e2975" headers="d62565e2943 ">
                                 <p>施工区（道路的一部分）</p>
                              </td>
                              <td align="left" valign="top" width="47%" headers="d62565e2975 d62565e2946 ">
                                 <p><a href="SDO_LRS-reference.html#GUID-FC99FDEA-8CCD-47A0-B43C-59A6523D98A6">SDO_LRS.CLIP_GEOM_SEGMENT</a>函数</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="53%" id="d62565e2985" headers="d62565e2943 ">
                                 <p>道路延伸（在开始或结束时添加）或组合（指定或重命名作为一条道路相遇的两条道路）</p>
                              </td>
                              <td align="left" valign="top" width="47%" headers="d62565e2985 d62565e2946 ">
                                 <p><a href="SDO_LRS-reference.html#GUID-F6BA9668-821C-4674-9533-0C0EF5E918D3">SDO_LRS.CONCATENATE_GEOM_SEGMENTS</a>函数</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="53%" id="d62565e2995" headers="d62565e2943 ">
                                 <p>道路重建或分裂（从一条命名道路产生两条命名道路）</p>
                              </td>
                              <td align="left" valign="top" width="47%" headers="d62565e2995 d62565e2946 ">
                                 <p><a href="SDO_LRS-reference.html#GUID-1CEF3B63-70D9-4A2B-9388-B4B33D710B24">SDO_LRS.SPLIT_GEOM_SEGMENT</a>过程</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="53%" id="d62565e3005" headers="d62565e2943 ">
                                 <p>找到离道路一点的道路上的最近点（例如建筑物）</p>
                              </td>
                              <td align="left" valign="top" width="47%" headers="d62565e3005 d62565e2946 ">
                                 <p><a href="SDO_LRS-reference.html#GUID-BBCE2843-7303-4FB6-B832-F335925F4F8B">SDO_LRS.PROJECT_PT</a>函数</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="53%" id="d62565e3015" headers="d62565e2943 ">
                                 <p>护栏或围栏沿着道路</p>
                              </td>
                              <td align="left" valign="top" width="47%" headers="d62565e3015 d62565e2946 ">
                                 <p><a href="SDO_LRS-reference.html#GUID-26627C35-104C-42A1-9F0D-0388109A85CE">SDO_LRS.OFFSET_GEOM_SEGMENT</a>函数</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p><a href="lrs-linear-referencing-system-concepts.html#GUID-699CED71-3497-4826-A4A5-60BF13CD3770__BABFDJGE">例7-2</a>执行以下操作：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>创建一个表来保存<a href="lrs-linear-referencing-system-concepts.html#GUID-699CED71-3497-4826-A4A5-60BF13CD3770__I888413">图7-20</a>中<a href="lrs-linear-referencing-system-concepts.html#GUID-699CED71-3497-4826-A4A5-60BF13CD3770__I888413">所示</a>的段</p>
                     </li>
                     <li>
                        <p>将<a href="lrs-linear-referencing-system-concepts.html#GUID-699CED71-3497-4826-A4A5-60BF13CD3770__I888413">图7-20</a>中描述的高速公路的定义插入表中</p>
                     </li>
                     <li>
                        <p>将必要的元数据插入USER_SDO_GEOM_METADATA视图</p>
                     </li>
                     <li>
                        <p>使用PL / SQL和SQL语句定义段并对其执行操作</p>
                     </li>
                  </ul>
                  <div class="example" id="GUID-699CED71-3497-4826-A4A5-60BF13CD3770__BABFDJGE">
                     <p class="titleinexample">例7-2简化示例：高速公路</p><pre class="oac_no_warn" dir="ltr">- 为路线（高速公路）创建一个表。CREATE TABLE lrs_routes（route_id NUMBER PRIMARY KEY，route_name VARCHAR2（32），route_geometry SDO_GEOMETRY）; - 为此示例仅使用一个路径填充表。INSERT INTO lrs_routes VALUES（1，'Route1'，SDO_GEOMETRY（3302， - 行字符串，3维：X，Y，M NULL，NULL，SDO_ELEM_INFO_ARRAY（1,2,1）， - 一行字符串，直段SDO_ORDINATE_ARRAY （2,2,0， - 起点 - 退出1; 0是从开始测量。2,4,2， -  Exit2; 2是从开始测量的。8,4,8， -  Exit3; 8是从开始的量度。12,4,12， -  Exit4; 12是从开始的量度。12,10，NULL， - 不是退出;测量自动计算和填充。8,10,22， -  Exit5; 22是从开始的量度。5,14,27） - 终点（Exit6）; 27是从开始的量度。））; - 更新空间元数据。INSERT INTO user_sdo_geom_metadata（TABLE_NAME，COLUMN_NAME，DIMINFO，SRID）VALUES（'lrs_routes'，'route_geometry'，SDO_DIM_ARRAY（ -  20X20网格SDO_DIM_ELEMENT（'X'，0,20,1.005），SDO_DIM_ELEMENT（'Y'，0,20） ，0.005），SDO_DIM_ELEMENT（'M'，0,20,0.005） - 测量尺寸），NULL  -  SRID）; - 创建空间索引。CREATE INDEX lrs_routes_idx ON lrs_routes（route_geometry）INDEXTYPE IS MDSYS.SPATIAL_INDEX_V2; - 测试LRS程序。DECLARE geom_segment SDO_GEOMETRY; line_string SDO_GEOMETRY; dim_array SDO_DIM_ARRAY; result_geom_1 SDO_GEOMETRY; result_geom_2 SDO_GEOMETRY; result_geom_3 SDO_GEOMETRY; BEGIN选择a.route_geometry到geom_segment FROM lrs_routes a WHERE a.route_name ='Route1';从user_sdo_geom_metadata中选择m.diminfo到dim_array m WHERE m.table_name ='LRS_ROUTES'和m.column_name ='ROUTE_GEOMETRY'; - 为Route1定义LRS段。这将填充任何null度量。- 无需指定开始和结束度量，因为它们已在几何中定义。SDO_LRS.DEFINE_GEOM_SEGMENT（geom_segment，dim_array）; SELECT a.route_geometry INTO line_string FROM lrs_routes a WHERE a.route_name ='Route1'; - 将Route1拆分为两个部分。SDO_LRS.SPLIT_GEOM_SEGMENT（line_string，dim_array，5，result_geom_1，result_geom_2）; - 连接刚拆分的段。result_geom_3：= SDO_LRS.CONCATENATE_GEOM_SEGMENTS（result_geom_1，dim_array，result_geom_2，dim_array）; - 更新并将几何图形插入表格中，以便稍后显示。UPDATE lrs_routes SET a.route_geometry = geom_segment WHERE a.route_id = 1; INSERT INTO lrs_routes VALUES（11，'result_geom_1'，result_geom_1）; INSERT INTO lrs_routes VALUES（12，'result_geom_2'，result_geom_2）; INSERT INTO lrs_routes VALUES（13，'result_geom_3'，result_geom_3）;结束; /  - 首先，在LRS表中显示数据。SELECT route_id，route_name，route_geometry FROM lrs_routes; -  result_geom_1和result_geom2是否已连接？SELECT SDO_LRS.CONNECTED_GEOM_SEGMENTS（a.route_geometry，b.route_geometry，0.005）FROM lrs_routes a，lrs_routes b WHERE a.route_id = 11 AND b.route_id = 12; -  Route1段是否有效？SELECT SDO_LRS.VALID_GEOM_SEGMENT（route_geometry）FROM lrs_routes WHERE route_id = 1; -  50是Route1的有效措施吗？（应返回FALSE;最高Route1度量为27.）SELECT SDO_LRS.VALID_MEASURE（route_geometry，50）FROM lrs_routes WHERE route_id = 1; - 是否定义了Route1段？SELECT SDO_LRS.IS_GEOM_SEGMENT_DEFINED（route_geometry）FROM lrs_routes WHERE route_id = 1; -  Route1有多长？SELECT SDO_LRS.GEOM_SEGMENT_LENGTH（route_geometry）FROM lrs_routes WHERE route_id = 1; -  Route1的起始措施是什么？SELECT SDO_LRS.GEOM_SEGMENT_START_MEASURE（route_geometry）FROM lrs_routes WHERE route_id = 1; -  Route1的最终衡量标准是什么？SELECT SDO_LRS.GEOM_SEGMENT_END_MEASURE（route_geometry）FROM lrs_routes WHERE route_id = 1; -  Route1的起点是什么？SELECT SDO_LRS.GEOM_SEGMENT_START_PT（route_geometry）FROM lrs_routes WHERE route_id = 1; -  Route1的终点是什么？SELECT SDO_LRS.GEOM_SEGMENT_END_PT（route_geometry）FROM lrs_routes WHERE route_id = 1; - 翻译（班次测量值）（+10）。- 首先，显示原始段;然后，翻译。SELECT a.route_geometry FROM lrs_routes a WHERE a.route_id = 1; SELECT SDO_LRS.TRANSLATE_MEASURE（a.route_geometry，m.diminfo，10）FROM lrs_routes a，user_sdo_geom_metadata m WHERE m.table_name ='LRS_ROUTES'AND m.column_name ='ROUTE_GEOMETRY'AND a.route_id = 1; - 重新定义几何段以“转换”英里数公里DECLARE geom_segment SDO_GEOMETRY; dim_array SDO_DIM_ARRAY; BEGIN选择a.route_geometry到geom_segment FROM lrs_routes a WHERE a.route_name ='Route1';从user_sdo_geom_metadata中选择m.diminfo到dim_array m WHERE m.table_name ='LRS_ROUTES'和m.column_name ='ROUTE_GEOMETRY'; - 将“里程”转换为公里（27 * 1.609 = 43.443）。SDO_LRS.REDEFINE_GEOM_SEGMENT（geom_segment，dim_array，0， - 零启动度量：LRS段从路径开始处开始。43.443）; -  LRS段结束。 27英里= 43.443公里。- 更新并将几何图形插入表格中，以便稍后显示。UPDATE lrs_routes SET a.route_geometry = geom_segment WHERE a.route_id = 1; END; /  - 显示重新定义的段，所有度量均为“已转换”。 SELECT a.route_geometry FROM lrs_routes a WHERE a.route_id = 1; - 剪一条Route1。SELECT SDO_LRS.CLIP_GEOM_SEGMENT（route_geometry，5,10）FROM lrs_routes WHERE route_id = 1; -  Point（9,3，NULL）不在路上;应该返回（9,4,9）。SELECT SDO_LRS.PROJECT_PT（route_geometry，SDO_GEOMETRY（3301，NULL，NULL，SDO_ELEM_INFO_ARRAY（1,1,1），SDO_ORDINATE_ARRAY（9,3，NULL）））FROM lrs_routes WHERE route_id = 1; - 返回投影点的度量。SELECT SDO_LRS.GET_MEASURE（SDO_LRS.PROJECT_PT（a.route_geometry，m.diminfo，SDO_GEOMETRY（3301，NULL，NULL，SDO_ELEM_INFO_ARRAY（1,1,1），SDO_ORDINATE_ARRAY（9，3，NULL））），m.diminfo）FROM lrs_routes a，user_sdo_geom_metadata m WHERE m.table_name ='LRS_ROUTES'和m.column_name ='ROUTE_GEOMETRY'和a.route_id = 1; - 点（9,3，NULL）是否是有效的LRS点？（应该返回TRUE。）SELECT SDO_LRS.VALID_LRS_PT（SDO_GEOMETRY（3301，NULL，NULL，SDO_ELEM_INFO_ARRAY（1,1,1），SDO_ORDINATE_ARRAY（9，3，NULL）），m.diminfo）FROM lrs_routes a，user_sdo_geom_metadata m WHERE m.table_name ='LRS_ROUTES' AND m.column_name ='ROUTE_GEOMETRY'和a.route_id = 1; - 在度量9，偏移0处找到Route1上的点。SELECT SDO_LRS.LOCATE_PT（route_geometry，9,0）FROM lrs_routes WHERE route_id = 1;</pre><p><a href="lrs-linear-referencing-system-concepts.html#GUID-699CED71-3497-4826-A4A5-60BF13CD3770__BABGFEHE">例7-3</a>显示了<a href="lrs-linear-referencing-system-concepts.html#GUID-699CED71-3497-4826-A4A5-60BF13CD3770__BABFDJGE">例7-2中</a> SELECT语句的输出。
                     </p>
                  </div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-699CED71-3497-4826-A4A5-60BF13CD3770__BABGFEHE">
                     <p class="titleinexample">示例7-3简化示例：SELECT语句的输出</p><pre class="oac_no_warn" dir="ltr">SQL&gt;  - 首先，在LRS表中显示数据。SQL&gt; SELECT route_id，route_name，route_geometry FROM lrs_routes; ROUTE_ID ROUTE_NAME ---------- -------------------------------- ROUTE_GEOMETRY（SDO_GTYPE，SDO_SRID， SDO_POINT（X，Y，Z），SDO_ELEM_INFO，SDO_ORDIN -------------------------------------- ------------------------------------------ 1 Route1 SDO_GEOMETRY（3302，NULL， NULL，SDO_ELEM_INFO_ARRAY（1,2,1），SDO_ORDINATE_ARRAY（2,2,0,2,4,2,8,4,8,12,4,12,12,10,18,8,10,22,5 ，14,27））11 result_geom_1 SDO_GEOMETRY（3302，NULL，NULL，SDO_ELEM_INFO_ARRAY（1,2,1），SDO_ORDINATE_ARRAY（2,2,0,2,4,2,5,4,5））12 result_geom_2 ROUTE_ID ROUTE_NAME ---------- -------------------------------- ROUTE_GEOMETRY（SDO_GTYPE，SDO_SRID，SDO_POINT（ X，Y，Z），SDO_ELEM_INFO，SDO_ORDIN ---------------------------------------- ---------------------------------------- SDO_GEOMETRY（3302，NULL，NULL，SDO_ELEM_INFO_ARRAY（ 1,2,1），SDO_ORDINATE_ARRAY（5,4,5,8,4,8,12,4,12,12,10,18,8,10,22,5,14,27））13 result_geom_3 SDO_GEOMETRY（ 3302，NULL，NULL，SDO_ELEM_INFO_ARRAY（1,2,1），SDO_ORDINATE_ARRAY（ 2,2,0,2,4,2,5,4,5,8,4,8,12,4,12,12,10,18,8,10,22,5,14,27））SQL &gt;  - 是否连接了result_geom_1和result_geom2？SQL&gt; SELECT SDO_LRS.CONNECTED_GEOM_SEGMENTS（a.route_geometry，2 b.route_geometry，0.005）3 FROM lrs_routes a，lrs_routes b 4 WHERE a.route_id = 11 AND b.route_id = 12; SDO_LRS.CONNECTED_GEOM_SEGMENTS（A.ROUTE_GEOMETRY，B.ROUTE_GEOMETRY，0.005）------------------------------------ -------------------------------------------- TRUE SQL&gt;  - 是Route1段有效吗？SQL&gt; SELECT SDO_LRS.VALID_GEOM_SEGMENT（route_geometry）2 FROM lrs_routes WHERE route_id = 1; SDO_LRS.VALID_GEOM_SEGMENT（ROUTE_GEOMETRY）-------------------------------------------- ------------------------------------ TRUE SQL&gt;  -  50是Route1上的有效度量吗？（应返回FALSE;最高Route1度量为27.）SQL&gt; SELECT SDO_LRS.VALID_MEASURE（route_geometry，50）2 FROM lrs_routes WHERE route_id = 1; SDO_LRS.VALID_MEASURE（ROUTE_GEOMETRY，50）------------------------------------------ -------------------------------------- FALSE SQL&gt;  - 是否定义了Route1段？SQL&gt; SELECT SDO_LRS.IS_GEOM_SEGMENT_DEFINED（route_geometry）2 FROM lrs_routes WHERE route_id = 1; SDO_LRS.IS_GEOM_SEGMENT_DEFINED（ROUTE_GEOMETRY）-------------------------------------------- ------------------------------------ TRUE SQL&gt;  -  Route1有多长？SQL&gt; SELECT SDO_LRS.GEOM_SEGMENT_LENGTH（route_geometry）2 FROM lrs_routes WHERE route_id = 1; SDO_LRS.GEOM_SEGMENT_LENGTH（ROUTE_GEOMETRY）------------------------------------------- 27 SQL&gt;  -  Route1的起始衡量标准是什么？SQL&gt; SELECT SDO_LRS.GEOM_SEGMENT_START_MEASURE（route_geometry）2 FROM lrs_routes WHERE route_id = 1; SDO_LRS.GEOM_SEGMENT_START_MEASURE（ROUTE_GEOMETRY）-------------------------------------------- ------ 0 SQL&gt;  -  Route1的最终衡量标准是什么？SQL&gt; SELECT SDO_LRS.GEOM_SEGMENT_END_MEASURE（route_geometry）2 FROM lrs_routes WHERE route_id = 1; SDO_LRS.GEOM_SEGMENT_END_MEASURE（ROUTE_GEOMETRY）-------------------------------------------- ---- 27 SQL&gt;  -  Route1的起点是什么？SQL&gt; SELECT SDO_LRS.GEOM_SEGMENT_START_PT（route_geometry）2 FROM lrs_routes WHERE route_id = 1; SDO_LRS.GEOM_SEGMENT_START_PT（ROUTE_GEOMETRY）（SDO_GTYPE，SDO_SRID，SDO_POINT（X，-----------------------------------） --------------------------------------------- SDO_GEOMETRY（3301，NULL ，NULL，SDO_ELEM_INFO_ARRAY（1,1,1），SDO_ORDINATE_ARRAY（2,2,0））SQL&gt;  -  Route1的终点是什么？SQL&gt; SELECT SDO_LRS.GEOM_SEGMENT_END_PT（route_geometry）2 FROM lrs_routes WHERE route_id = 1; SDO_LRS.GEOM_SEGMENT_END_PT（ROUTE_GEOMETRY）（SDO_GTYPE，SDO_SRID，SDO_POINT（X，Y，---------------------------------） ----------------------------------------------- SDO_GEOMETRY（3301 ，NULL，NULL，SDO_ELEM_INFO_ARRAY（1,1,1），SDO_ORDINATE_ARRAY（5,14,27））SQL&gt;  - 转换（移位度量值）（+10）。SQL&gt;  - 首先，显示原始段;然后，翻译。SQL&gt; SELECT a.route_geometry FROM lrs_routes a WHERE a.route_id = 1; ROUTE_GEOMETRY（SDO_GTYPE，SDO_SRID，SDO_POINT（X，Y，Z），SDO_ELEM_INFO，SDO_ORDIN -------------------------------- ------------------------------------------------ SDO_GEOMETRY（ 3302，NULL，NULL，SDO_ELEM_INFO_ARRAY（1,2,1），SDO_ORDINATE_ARRAY（2,2,0,2,4,2,8,4,8,12,4,12,12,10,18,8,10） ，22,5,14,27））SQL&gt; SELECT SDO_LRS.TRANSLATE_MEASURE（a.route_geometry，m.diminfo，10）2 FROM lrs_routes a，user_sdo_geom_metadata m 3 WHERE m.table_name ='LRS_ROUTES'AND m.column_name ='ROUTE_GEOMETRY '4 AND a.route_id = 1; SDO_LRS.TRANSLATE_MEASURE（A.ROUTE_GEOMETRY，M.DIMINFO，10）（SDO_GTYPE，SDO_SRID，SD --------------------- -------------------------------------------------- --------- SDO_GEOMETRY（3302，NULL，NULL，SDO_ELEM_INFO_ARRAY（1,2,1），SDO_ORDINATE_ARRAY（2,2,10,2,4,12,8,4,18,12,4， 22,12,10,28,8,10,32,5,14,37））SQL&gt;  - 重新定义几何段以“转换”英里到公里SQL&gt; DECLARE 2 geom_segment SDO_GEOMETRY; 3 dim_array SDO_DIM_ARRAY; 4 5 BEGIN 6 7 SE将a.route_geometry放入geom_segment FROM lrs_routes a 8 WHERE a.route_name ='Route1'; 9从m中选择m.diminfo到dim_array中10 user_sdo_geom_metadata m 11 WHERE m.table_name ='LRS_ROUTES'和m.column_name ='ROUTE_GEOMETRY'; 12 13  - 将“里程”转换为公里（27 * 1.609 = 43.443）。14 SDO_LRS.REDEFINE_GEOM_SEGMENT（geom_segment，15 dim_array，16 0， - 零起始测量：LRS段在路径开始时开始。17 43.443）; -  LRS段结束。 27英里= 43.443公里。18 19  - 更新并将几何图形插入表格中，以便稍后显示。20 UPDATE lrs_routes SET a.route_geometry = geom_segment 21 WHERE a.route_id = 1; 22 23结束; 24 / PL / SQL过程成功完成。SQL&gt;  - 显示重新定义的段，所有度量都“已转换”。 SQL&gt; SELECT a.route_geometry FROM lrs_routes a WHERE a.route_id = 1; ROUTE_GEOMETRY（SDO_GTYPE，SDO_SRID，SDO_POINT（X，Y，Z），SDO_ELEM_INFO，SDO_ORDIN -------------------------------- ------------------------------------------------ SDO_GEOMETRY（ 3302，NULL，NULL，SDO_ELEM_INFO_ARRAY（1,2,1），SDO_ORDINATE_ARRAY（2,2,0,2,4,3.218,8,4,12.872,12,4,19,308,12,10,28.962,8,10 ，35.398,5,14,43.443））SQL&gt;  - 剪切一段Route1。SQL&gt; SELECT SDO_LRS.CLIP_GEOM_SEGMENT（route_geometry，5,10）2 FROM lrs_routes WHERE route_id = 1; SDO_LRS.CLIP_GEOM_SEGMENT（ROUTE_GEOMETRY，5,10）（SDO_GTYPE，SDO_SRID，SDO_POINT（X，------------------------------- ------------------------------------------------- SDO_GEOMETRY （3302，NULL，NULL，SDO_ELEM_INFO_ARRAY（1,2,1），SDO_ORDINATE_ARRAY（5,4,5,8,4,8,10,4,10））SQL&gt;  -  Point（9,3，NULL）是在路上;应该返回（9,4,9）。SQL&gt; SELECT SDO_LRS.PROJECT_PT（route_geometry，2 SDO_GEOMETRY（3301，NULL，NULL，3 SDO_ELEM_INFO_ARRAY（1,1,1），4 SDO_ORDINATE_ARRAY（9,3，NULL）））5 FROM lrs_routes WHERE route_id = 1; SDO_LRS.PROJECT_PT（ROUTE_GEOMETRY，SDO_GEOMETRY（3301，NULL，NULL，SDO_EL ----------------------------------- --------------------------------------------- SDO_GEOMETRY（3301，NULL ，NULL，SDO_ELEM_INFO_ARRAY（1,1,1），SDO_ORDINATE_ARRAY（9,4,9））SQL&gt;  - 返回投影点的度量。SQL&gt; SELECT SDO_LRS.GET_MEASURE（2 SDO_LRS.PROJECT_PT（a.route_geometry，m.diminfo，3 SDO_GEOMETRY（3301，NULL，NULL，4 SDO_ELEM_INFO_ARRAY（1,1,1），5 SDO_ORDINATE_ARRAY（9,3，NULL））） ，6 m.diminfo）7 FROM lrs_routes a，user_sdo_geom_metadata m 8 WHERE m.table_name ='LRS_ROUTES'AND m.column_name ='ROUTE_GEOMETRY'9 AND a.route_id = 1; SDO_LRS.GET_MEASURE（SDO_LRS.PROJECT_PT（A.ROUTE_GEOMETRY，M.DIMINFO，SDO_GEOM ---------------------------------） ----------------------------------------------- 9 SQL&gt; - 点（9,3，NULL）是否是有效的LRS点？（应该返回TRUE。）SQL&gt; SELECT SDO_LRS.VALID_LRS_PT（2 SDO_GEOMETRY（3301，NULL，NULL，3 SDO_ELEM_INFO_ARRAY（1,1,1），4 SDO_ORDINATE_ARRAY（9，3，NULL）），5 m.diminfo）6 FROM lrs_routes a，user_sdo_geom_metadata m 7 WHERE m.table_name ='LRS_ROUTES'和m.column_name ='ROUTE_GEOMETRY'8和a.route_id = 1; SDO_LRS.VALID_LRS_PT（SDO_GEOMETRY（3301，NULL，NULL，SDO_ELEM_INFO_ARRAY -------------------------------------） ----------------------------------------- TRUE SQL&gt;  - 找到该点Route1在度量9处，偏移0。SQL&gt; SELECT SDO_LRS.LOCATE_PT（route_geometry，9,0）2 FROM lrs_routes WHERE route_id = 1; SDO_LRS.LOCATE_PT（ROUTE_GEOMETRY，9,0）（SDO_GTYPE，SDO_SRID，SDO_POINT（X，Y，Z），S ------------------------- -------------------------------------------------- ----- SDO_GEOMETRY（3301，NULL，NULL，SDO_ELEM_INFO_ARRAY（1,1,1），SDO_ORDINATE_ARRAY（9,4,9））</pre><p></p>
                  </div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="lrs-linear-referencing-system-concepts.html#GUID-9793361B-6C73-41E1-8389-85D8788ED083" title="线性参考是将属性或事件与线性要素的位置或部分相关联的自然且方便的手段。它已广泛用于运输应用（如高速公路，铁路和运输路线）和公用设施应用（如天然气和石油管道）。">线性参考系统</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html>