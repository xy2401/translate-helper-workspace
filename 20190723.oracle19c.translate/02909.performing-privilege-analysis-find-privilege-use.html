<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="Privilege analysis dynamically analyzes the privileges and roles that users use and do not use."></meta>
      <meta name="description" content="Privilege analysis dynamically analyzes the privileges and roles that users use and do not use."></meta>
      <title>执行权限分析以查找权限使用</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Security Guide "></meta>
      <meta property="og:description" content="Privilege analysis dynamically analyzes the privileges and roles that users use and do not use."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Security Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-security-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-02-28T14:57:12-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96299-04"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="configuring-privilege-and-role-authorization.html" title="Previous" type="text/html"></link>
      <link rel="next" href="integrating_mads_with_oracle_database.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Security Guide"></meta>
    <meta name="dcterms.isVersionOf" content="DBSEG"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="configuring-privilege-and-role-authorization.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="integrating_mads_with_oracle_database.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">安全指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="part_1.html" property="item" typeof="WebPage"><span property="name">管理用户身份验证和授权</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">执行权限分析以查找权限使用</li>
            </ol>
            <a id="GUID-44CB644B-7B59-4B3B-B375-9F9B96F60186" name="GUID-44CB644B-7B59-4B3B-B375-9F9B96F60186"></a>
            
            <h2 id="DBSEG-GUID-44CB644B-7B59-4B3B-B375-9F9B96F60186" class="sect2"><span class="enumeration_chapter">5</span>执行权限分析以查找权限使用</h2>
         </header>
         <div class="ind">
            <div>
               <p>权限分析动态分析用户使用和不使用的权限和角色。</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-624BEE71-EE04-450F-9E8D-E5DF9788D18C">什么是特权分析？</a><br>权限分析通过帮助您实现数据库角色和权限的最小权限最佳实践，提高了应用程序和数据库操作的安全性。
                  </li>
                  <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-442371F1-541D-4A1E-BCBF-180C0D88517D">创建和管理权限分析策略</a><br>您可以在SQL * Plus或Enterprise Manager Cloud Control中创建和管理权限分析策略。
                  </li>
                  <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-819C319D-2A16-4F3B-BC4E-6D216418F6CA">使用云控制创建角色和管理权限</a><br>您可以使用权限分析报告中的权限创建新角色，然后将此角色授予用户。
                  </li>
                  <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-0A2B341F-FDFB-486E-9F93-B2063F82CC13">教程：使用Capture运行分析任何特权使用</a><br>本教程演示了如何创建捕获运行以分析<code class="codeph">READ ANY TABLE</code>系统特权的使用。
                  </li>
                  <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-3AA55C7A-CD73-4B28-AE02-9D80A69E8B6E">教程：分析具有DBA角色的用户的权限使用</a><br>本教程演示如何分析具有<code class="codeph">DBA</code>角色的用户的权限使用并执行数据库调整操作。
                  </li>
                  <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-2F1929EB-8EB5-4678-BBC9-EE4A8056D112">权限分析策略和报告数据字典视图</a><br>Oracle数据库提供数据字典视图，显示有关已分析权限的信息。
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>父主题：</strong> <a href="part_1.html" title="第一部分介绍了如何管理用户身份验证和授权。">管理用户身份验证和授权</a></p>
                  </div>
               </div>
            </div>
            
            <div class="props_rev_3"><a id="GUID-624BEE71-EE04-450F-9E8D-E5DF9788D18C" name="GUID-624BEE71-EE04-450F-9E8D-E5DF9788D18C"></a><h3 id="DBSEG-GUID-624BEE71-EE04-450F-9E8D-E5DF9788D18C" class="sect3">什么是特权分析？</h3>
               <div>
                  <p>权限分析通过帮助您实现数据库角色和权限的最小权限最佳实践，提高了应用程序和数据库操作的安全性。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-DE3DC8D3-4357-4DC7-B66F-62356911076E">关于权限分析</a><br>通过在Oracle数据库内核中运行，权限分析有助于通过识别已使用和未使用的权限来实现最小权限模型，从而减少用户，工具和应用程序帐户的攻击面。
                     </li>
                     <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-280C672A-5399-4823-8F8B-09F3135DF5DD">特权分析的好处和用例</a><br>分析权限使用有助于查找不必要的权限并实现最低权限最佳实践。
                     </li>
                     <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-43F5F696-8414-4A47-B609-F9FB134C9175">谁可以执行权限分析？</a><br>要使用权限分析，必须授予<code class="codeph">CAPTURE_ADMIN</code>角色。
                     </li>
                     <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-087DF0BE-E64E-4097-815D-49FF86703F6D">特权分析的类型</a><br>您可以创建不同类型的权限分析策略以实现特定目标。
                     </li>
                     <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-AD683DDB-D345-4702-B1F4-37B79F276B66">多租户环境如何影响权限分析？</a><br>您可以在多租户环境中创建和使用权限分析策略。
                     </li>
                     <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-77961026-AD82-4BD2-98B0-70A74DD3FAA0">权限分析如何与预编译的数据库对象一起使用</a><br>权限分析可用于捕获已对预编译的数据库对象执行的权限。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-44CB644B-7B59-4B3B-B375-9F9B96F60186" title="权限分析动态分析用户使用和不使用的权限和角色。">执行权限分析以查找权限使用</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="props_rev_3"><a id="GUID-DE3DC8D3-4357-4DC7-B66F-62356911076E" name="GUID-DE3DC8D3-4357-4DC7-B66F-62356911076E"></a><h4 id="DBSEG-GUID-DE3DC8D3-4357-4DC7-B66F-62356911076E" class="sect4">关于权限分析</h4>
                  <div>
                     <p>通过在Oracle数据库内核中运行，权限分析有助于通过识别已使用和未使用的权限来实现最小权限模型，从而减少用户，工具和应用程序帐户的攻击面。</p>
                     <p>权限分析动态捕获数据库用户和应用程序使用的权限。使用权限分析有助于快速有效地实施最低权限准则。在最小特权模型中，仅为用户提供他们完成工作所需的权限和访问权限。通常，即使用户执行不同的任务，用户也被授予相同的一组强大权限。如果没有权限分析，找出每个用户必须拥有的权限可能会很困难，在很多情况下，即使用户有不同的任务，用户也可能会得到一些共同的权限。即使在管理权限的组织中，用户也会随着时间的推移积累特权，很少会失去任何特权。职责分离将单个流程分解为针对不同用户的单独任务。最少权限强制执行分离，因此用户只能执行所需的任务。执行职责分离有利于内部控制，但也降低了窃取特权凭证的恶意用户的风险。</p>
                     <p>权限分析捕获数据库用户和应用程序在运行时使用的权限，并将其结果写入您可以查询的数据字典视图。如果您的应用程序包含定义者权限和调用者权限过程，则权限分析会捕获编译过程并执行过程所需的权限，即使在创建和启用权限捕获之前编译过程也是如此。</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-624BEE71-EE04-450F-9E8D-E5DF9788D18C" title="权限分析通过帮助您实现数据库角色和权限的最小权限最佳实践，提高了应用程序和数据库操作的安全性。">什么是权限分析？</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-280C672A-5399-4823-8F8B-09F3135DF5DD" name="GUID-280C672A-5399-4823-8F8B-09F3135DF5DD"></a><h4 id="DBSEG-GUID-280C672A-5399-4823-8F8B-09F3135DF5DD" class="sect4">特权分析的好处和用例</h4>
                  <div>
                     <p>分析权限使用有助于查找不必要的权限并实现最低权限最佳实践。</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-A67ECE4F-0FDB-45B8-A202-6C15C0F15960">最低权限最佳实践</a><br>访问数据库的帐户的权限应限于应用程序或用户严格要求的权限。
                        </li>
                        <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-46EDA5CF-3C7F-4C24-9EC6-C227F7BD306C">开发安全应用程序</a><br>在应用程序开发阶段，一些管理员可以向应用程序开发人员授予许多强大的系统特权和角色
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-624BEE71-EE04-450F-9E8D-E5DF9788D18C" title="权限分析通过帮助您实现数据库角色和权限的最小权限最佳实践，提高了应用程序和数据库操作的安全性。">什么是权限分析？</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="props_rev_3"><a id="GUID-A67ECE4F-0FDB-45B8-A202-6C15C0F15960" name="GUID-A67ECE4F-0FDB-45B8-A202-6C15C0F15960"></a><h5 id="DBSEG-GUID-A67ECE4F-0FDB-45B8-A202-6C15C0F15960" class="sect5">最低权限最佳实践</h5>
                     <div>
                        <p>访问数据库的帐户的权限应限于应用程序或用户严格要求的权限。</p>
                        <p>但是，当开发应用程序时，尤其是第三方开发应用程序时，为方便起见，可以向应用程序连接池帐户授予比必要更多的权限。此外，一些开发人员向<code class="codeph">PUBLIC</code>角色授予系统和应用程序对象权限。
                        </p>
                        <p>例如，要从应用程序数据中选择并运行应用程序过程，系统权限<code class="codeph">SELECT ANY TABLE</code>和<code class="codeph">EXECUTE ANY PROCEDURE</code>被授予应用程序帐户<code class="codeph">appsys</code> 。帐户<code class="codeph">appsys</code>现在可以访问非应用程序数据，即使他或她不打算这样做。在这种情况下，您可以分析用户<code class="codeph">appsys</code>的权限使用情况，然后根据结果，根据需要撤消和授予权限。
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-280C672A-5399-4823-8F8B-09F3135DF5DD" title="分析权限使用有助于查找不必要的权限并实现最低权限最佳实践。">权限分析的优点和用例</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="props_rev_3"><a id="GUID-46EDA5CF-3C7F-4C24-9EC6-C227F7BD306C" name="GUID-46EDA5CF-3C7F-4C24-9EC6-C227F7BD306C"></a><h5 id="DBSEG-GUID-46EDA5CF-3C7F-4C24-9EC6-C227F7BD306C" class="sect5">开发安全应用程序</h5>
                     <div>
                        <p>在应用程序开发阶段，一些管理员可以向应用程序开发人员授予许多强大的系统特权和角色</p>
                        <p>管理员可能会这样做，因为在那个阶段他们可能不知道应用程序开发人员需要什么特权。</p>
                        <p>应用程序开发和运行后，应用程序开发人员需要 - 而且不需要 - 的权限变得更加明显。那时，安全管理员可以开始撤销不必要的权限。但是，应用程序开发人员可能会在应用程序当前正常工作的基础上抵制这一想法。管理员可以使用权限分析来检查应用程序使用的每个权限，以确保在他或她撤销任何权限时，应用程序将继续工作。</p>
                        <p>例如， <code class="codeph">app_owner</code>是应用程序连接到数据库的应用程序数据库用户。用户<code class="codeph">app_owner</code>必须查询<code class="codeph">OE</code> ， <code class="codeph">SH</code>和<code class="codeph">PM</code>模式中的表。安全管理员<code class="codeph">app_owner</code>在这些模式中的每个表上授予<code class="codeph">SELECT</code>对象特权，而是将<code class="codeph">SELECT ANY TABLE</code>特权授予<code class="codeph">app_owner</code> 。一段时间后，将创建一个新模式<code class="codeph">HR</code> ，并将敏感数据插入<code class="codeph">HR.EMPLOYEES</code>表中。由于用户<code class="codeph">app_owner</code>具有<code class="codeph">SELECT ANY TABLE</code>权限，因此他可以查询此表以访问其敏感数据，这是一个安全问题。不是授予系统权限（特别是<code class="codeph">ANY</code>权限），而是为特定表授予对象权限要好得多。
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-280C672A-5399-4823-8F8B-09F3135DF5DD" title="分析权限使用有助于查找不必要的权限并实现最低权限最佳实践。">权限分析的优点和用例</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-43F5F696-8414-4A47-B609-F9FB134C9175" name="GUID-43F5F696-8414-4A47-B609-F9FB134C9175"></a><h4 id="DBSEG-GUID-43F5F696-8414-4A47-B609-F9FB134C9175" class="sect4">谁可以执行权限分析？</h4>
                  <div>
                     <p>要使用权限分析，必须授予<code class="codeph">CAPTURE_ADMIN</code>角色。
                     </p>
                     <p>您使用<code class="codeph">DBMS_PRIVILEGE_CAPTURE</code> PL / SQL包来管理权限捕获。您可以使用权限分析提供的数据字典视图来分析您的权限使用情况。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-624BEE71-EE04-450F-9E8D-E5DF9788D18C" title="权限分析通过帮助您实现数据库角色和权限的最小权限最佳实践，提高了应用程序和数据库操作的安全性。">什么是权限分析？</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-087DF0BE-E64E-4097-815D-49FF86703F6D" name="GUID-087DF0BE-E64E-4097-815D-49FF86703F6D"></a><h4 id="DBSEG-GUID-087DF0BE-E64E-4097-815D-49FF86703F6D" class="sect4">特权分析的类型</h4>
                  <div>
                     <p>您可以创建不同类型的权限分析策略以实现特定目标。</p>
                     <p></p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="bold">基于角色的权限使用捕获。</span> 您必须提供角色列表。如果在数据库会话中启用了列表中的角色，则将捕获会话的已使用权限。您可以捕获以下类型角色的权限使用：Oracle默认角色，用户创建的角色，基于代码的访问控制（CBAC）角色和安全应用程序角色。
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">基于上下文的权限使用捕获。</span> 必须仅使用<code class="codeph">SYS_CONTEXT</code>函数指定布尔表达式。如果条件评估为<code class="codeph">TRUE</code>则将捕获使用的权限。此方法可用于通过在<code class="codeph">SYS_CONTEXT</code>指定用户来捕获数据库用户使用的特权和角色。</p>
                        </li>
                        <li>
                           <p><span class="bold">基于角色和上下文的权限使用捕获。</span> 您必须提供已启用的角色列表和条件的<code class="codeph">SYS_CONTEXT</code>布尔表达式。在会话中启用任何这些角色并满足给定的上下文条件时，权限分析将开始捕获权限使用。
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">数据库范围的权限捕获。</span> 如果未在权限分析策略中指定任何类型，则将捕获数据库中使用的权限，但用户<code class="codeph">SYS</code>除外。 （这也称为无条件分析，因为它在没有任何条件的情况下打开。）
                           </p>
                        </li>
                     </ul>
                     <p>请注意以下限制：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>您一次只能启用一个权限分析策略。唯一的例外是您可以在非数据库范围的权限分析策略（例如角色或上下文属性驱动的分析策略）的同时启用数据库范围的权限分析策略。</p>
                        </li>
                        <li>
                           <p>您无法分析<code class="codeph">SYS</code>用户的权限。
                           </p>
                        </li>
                        <li>
                           <p>权限分析显示权限的授予路径，但不建议保留哪个授权路径。</p>
                        </li>
                        <li>
                           <p>如果已删除角色，用户或对象，则还会删除反映特权分析数据字典视图中这些特权捕获的特权的值。</p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-624BEE71-EE04-450F-9E8D-E5DF9788D18C" title="权限分析通过帮助您实现数据库角色和权限的最小权限最佳实践，提高了应用程序和数据库操作的安全性。">什么是权限分析？</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-AD683DDB-D345-4702-B1F4-37B79F276B66" name="GUID-AD683DDB-D345-4702-B1F4-37B79F276B66"></a><h4 id="DBSEG-GUID-AD683DDB-D345-4702-B1F4-37B79F276B66" class="sect4">多租户环境如何影响权限分析？</h4>
                  <div>
                     <p>您可以在多租户环境中创建和使用权限分析策略。</p>
                     <p>如果您使用的是多租户环境，则可以在CDB根目录或单个PDB中创建权限分析策略。权限分析策略仅适用于创建它的容器，可以是CDB根目录或应用程序根目录中使用的权限，也可以是PDB中使用的权限。它不能在整个多租户环境中全局应用。您可以将<code class="codeph">CAPTURE_ADMIN</code>角色本地授予本地用户或普通用户。您可以将<code class="codeph">CAPTURE_ADMIN</code>角色通常授予普通用户。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-624BEE71-EE04-450F-9E8D-E5DF9788D18C" title="权限分析通过帮助您实现数据库角色和权限的最小权限最佳实践，提高了应用程序和数据库操作的安全性。">什么是权限分析？</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-77961026-AD82-4BD2-98B0-70A74DD3FAA0" name="GUID-77961026-AD82-4BD2-98B0-70A74DD3FAA0"></a><h4 id="DBSEG-GUID-77961026-AD82-4BD2-98B0-70A74DD3FAA0" class="sect4">权限分析如何与预编译的数据库对象一起使用</h4>
                  <div>
                     <p>权限分析可用于捕获已对预编译的数据库对象执行的权限。</p>
                     <p>这些对象的示例是PL / SQL包，过程，函数，视图，触发器以及Java类和数据。</p>
                     <p>由于在调用存储过程的运行时可能无法执行这些权限，因此在为任何数据库范围的捕获生成结果时会收集这些权限，以及运行时捕获的权限。如果未在预编译的数据库对象或运行时捕获中使用该特权，则该特权将被视为未使用的特权，并且该特权将保存在运行时捕获名称下。如果将特权用于预编译的数据库对象，则它将以捕获名称<code class="codeph">ORA$DEPENDENCY</code>保存。如果在运行时捕获了权限，则会以运行时捕获名称保存该权限。如果您想知道预编译数据库对象和运行时使用的使用权限，那么您必须同时查询<code class="codeph">ORA$DEPENDENCY</code>和运行时捕获。对于未使用的权限，您只需要使用运行时捕获名称进行查询。
                     </p>
                     <p>要查找可以使用权限分析的预编译对象的完整列表，请查询<code class="codeph">ALL_DEPENDENCIES</code>数据字典视图的<code class="codeph">TYPE</code>列。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-624BEE71-EE04-450F-9E8D-E5DF9788D18C" title="权限分析通过帮助您实现数据库角色和权限的最小权限最佳实践，提高了应用程序和数据库操作的安全性。">什么是权限分析？</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-442371F1-541D-4A1E-BCBF-180C0D88517D" name="GUID-442371F1-541D-4A1E-BCBF-180C0D88517D"></a><h3 id="DBSEG-GUID-442371F1-541D-4A1E-BCBF-180C0D88517D" class="sect3">创建和管理权限分析策略</h3>
               <div>
                  <p>您可以在SQL * Plus或Enterprise Manager Cloud Control中创建和管理权限分析策略。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-E3297105-B1F5-4B49-9CB7-7361EE17E8CE">关于创建和管理权限分析策略</a><br>您可以使用Oracle Enterprise Manager Cloud Control或<code class="codeph">DBMS_PRIVILEGE_CAPTURE</code> PL / SQL包来分析权限。
                     </li>
                     <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-41B8439B-2713-43C0-BF51-4FE50A70B705">管理权限分析的一般步骤</a><br>您必须遵循一般步骤来分析权限。
                     </li>
                     <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-C4084ACD-81A0-484A-B668-813CD374AEDD">创建权限分析策略</a><br>您可以使用<code class="codeph">DBMS_PRIVILEGE_CAPTURE.CREATE_CAPTURE</code>过程来创建权限分析策略。
                     </li>
                     <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-C4A9E2B3-0051-4190-BD23-1F24052B352C">启用权限分析策略</a><br>创建权限分析策略后，必须启用它以捕获权限使用。
                     </li>
                     <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-C347E3C2-37DC-44C3-BC9B-1FFAFEEFD1F6">创建和启用权限分析策略的示例</a><br>您可以创建各种权限分析策略。
                     </li>
                     <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-ECD0AC5D-0EDD-4AF0-84D9-401749659786">禁用权限分析策略</a><br>必须先禁用权限分析策略，然后才能生成权限分析报告。
                     </li>
                     <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-09B5E21E-5C5B-4171-B6D7-32DDF7EA1222">生成权限分析报告</a><br>您可以使用<code class="codeph">DBMS_PRIVILEGE_CAPTURE</code> PL / SQL包使用Enterprise Manager Cloud Control或SQL * Plus生成权限分析策略报告。
                     </li>
                     <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-403B206F-71B5-481E-8FF7-6FEBA2DE1D75">删除权限分析策略</a><br>在删除权限分析策略之前，必须先禁用它。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-44CB644B-7B59-4B3B-B375-9F9B96F60186" title="权限分析动态分析用户使用和不使用的权限和角色。">执行权限分析以查找权限使用</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="props_rev_3"><a id="GUID-E3297105-B1F5-4B49-9CB7-7361EE17E8CE" name="GUID-E3297105-B1F5-4B49-9CB7-7361EE17E8CE"></a><h4 id="DBSEG-GUID-E3297105-B1F5-4B49-9CB7-7361EE17E8CE" class="sect4">关于创建和管理权限分析策略</h4>
                  <div>
                     <p>您可以使用Oracle Enterprise Manager Cloud Control或<code class="codeph">DBMS_PRIVILEGE_CAPTURE</code> PL / SQL包来分析权限。
                     </p>
                     <p>在您这样做之前，您必须被授予<code class="codeph">CAPTURE_ADMIN</code>角色。<code class="codeph">DBMS_PRIVILEGE_CAPTURE</code>包使您可以创建，启用，禁用和删除权限分析策略。它还会生成显示权限使用情况的报告，您可以在<code class="codeph">DBA_*</code>视图中查看这些权限。
                     </p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="../arpls/index.html" target="_blank"><span><cite>Oracle数据库PL / SQL包和类型参考</cite></span></a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-442371F1-541D-4A1E-BCBF-180C0D88517D" title="您可以在SQL * Plus或Enterprise Manager Cloud Control中创建和管理权限分析策略。">创建和管理权限分析策略</a></p>
                        </div>
                     </div>
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-41B8439B-2713-43C0-BF51-4FE50A70B705" name="GUID-41B8439B-2713-43C0-BF51-4FE50A70B705"></a><h4 id="DBSEG-GUID-41B8439B-2713-43C0-BF51-4FE50A70B705" class="sect4">管理权限分析的一般步骤</h4>
                  <div>
                     <p>您必须遵循一般步骤来分析权限。</p>
                     <ol>
                        <li class="stepexpand"><span>定义权限分析策略。</span></li>
                        <li class="stepexpand"><span>启用权限分析策略。</span><div>
                              <p>此步骤开始记录策略定义的权限使用。（可选）为此捕获运行指定名称。每次启用权限分析策略时，都可以为其创建不同的捕获运行。通过这种方式，您可以创建多个命名捕获运行，以便稍后进行比较分析。</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>（可选）如果要捕获定义者权限和调用者权限程序单元使用的权限，请启用策略以捕获相关权限。</span></li>
                        <li class="stepexpand"><span>在足够长的时间收集数据后，禁用权限分析策略记录的权限使用。</span><div>
                              <p>此步骤将停止捕获策略的权限使用。</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>生成权限分析结果。</span><div>
                              <p>此步骤将结果写入权限分析策略并报告数据字典视图。</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>（可选）禁用然后删除权限分析策略并捕获运行。</span><div>
                              <p>删除权限分析策略会删除策略捕获的数据。</p>
                           </div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="performing-privilege-analysis-find-privilege-use.html#GUID-2F1929EB-8EB5-4678-BBC9-EE4A8056D112" title="Oracle数据库提供数据字典视图，显示有关已分析权限的信息。">权限分析策略和报告数据字典视图</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-442371F1-541D-4A1E-BCBF-180C0D88517D" title="您可以在SQL * Plus或Enterprise Manager Cloud Control中创建和管理权限分析策略。">创建和管理权限分析策略</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-C4084ACD-81A0-484A-B668-813CD374AEDD" name="GUID-C4084ACD-81A0-484A-B668-813CD374AEDD"></a><h4 id="DBSEG-GUID-C4084ACD-81A0-484A-B668-813CD374AEDD" class="sect4">创建权限分析策略</h4>
                  <div>
                     <p>您可以使用<code class="codeph">DBMS_PRIVILEGE_CAPTURE.CREATE_CAPTURE</code>过程来创建权限分析策略。
                     </p>
                     <div class="section">
                        <p>创建权限分析策略后，您可以在<code class="codeph">DBA_PRIV_CAPTURES</code>数据字典视图中找到它。创建策略时，它驻留在Oracle数据字典和<code class="codeph">SYS</code>模式中。但是， <code class="codeph">SYS</code>和创建策略的用户都可以删除它。创建策略后，必须手动启用它，以便它可以开始分析权限使用。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ol id="GUID-C4084ACD-81A0-484A-B668-813CD374AEDD__OL_IL3_SWH_SFB">
                           <li>以具有<code class="codeph">CAPTURE_ADMIN</code>角色的用户身份登录数据库实例。
                           </li>
                           <li>对<code class="codeph">DBMS_PRIVILEGE_CAPTURE.CREATE_CAPTURE</code>过程使用以下语法：<pre class="oac_no_warn" dir="ltr">DBMS_PRIVILEGE_CAPTURE.CREATE_CAPTURE（名称VARCHAR2，描述VARCHAR2 DEFAULT NULL， <span class="italic"> </span>键入NUMBER DEFAULT DBMS_PRIVILEGE_CAPTURE.G_DATABASE，角色ROLE_NAME_LIST DEFAULT ROLE_NAME_LIST（），条件VARCHAR2 DEFAULT NULL）;</pre><p>在本规范中：</p>
                              <ul id="GUID-C4084ACD-81A0-484A-B668-813CD374AEDD__UL_KDF_ZWH_SFB" style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">name</code> ：指定要创建的权限分析策略的名称。确保此名称唯一且不超过128个字符。您可以在名称中包含空格，但只要引用该名称，就必须在单引号中包含该名称。要查找现有策略的名称，请查询<code class="codeph">DBA_PRIV_CAPTURES</code>视图的<code class="codeph">NAME</code>列。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">description</code> ：描述特权分析策略的用途，混合大小写字母最多1024个字符。可选的。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">type</code> ：指定捕获条件的类型。如果省略<code class="codeph">type</code>参数，则默认值为<code class="codeph">DBMS_PRIVILEGE_CAPTURE.G_DATABASE</code> 。可选的。
                                    </p>
                                    <p>输入以下类型之一：</p>
                                    <ul id="GUID-C4084ACD-81A0-484A-B668-813CD374AEDD__UL_LDF_ZWH_SFB" style="list-style-type:disc">
                                       <li>
                                          <p><code class="codeph">DBMS_PRIVILEGE_CAPTURE.G_DATABASE</code> ：捕获整个数据库中使用的所有权限，但用户<code class="codeph">SYS</code>权限除外。</p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">DBMS_PRIVILEGE_CAPTURE.G_ROLE</code> ：捕获已启用角色的会话的权限。如果为<code class="codeph">type</code>参数输入<code class="codeph">DBMS_PRIVILEGE_CAPTURE.G_ROLE</code> ，则还必须指定<code class="codeph">roles</code>参数。对于多个角色，请使用逗号分隔每个角色名称。
                                          </p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">DBMS_PRIVILEGE_CAPTURE.G_CONTEXT</code> ：捕获<code class="codeph">condition</code>参数评估为<code class="codeph">TRUE</code>的<code class="codeph">condition</code>的会话的权限。如果为<code class="codeph">type</code>参数输入<code class="codeph">DBMS_PRIVILEGE_CAPTURE.G_CONTEXT</code> ，则还必须指定<code class="codeph">condition</code>参数。
                                          </p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">DBMS_PRIVILEGE_CAPTURE.G_ROLE_AND_CONTEXT</code> ：捕获已启用角色且上下文条件评估为<code class="codeph">TRUE</code>的会话的权限。如果为<code class="codeph">type</code>参数输入<code class="codeph">DBMS_PRIVILEGE_CAPTURE.G_ROLE_AND_CONTEXT</code> ，则还必须同时指定<code class="codeph">roles</code>和<code class="codeph">condition</code>参数。
                                          </p>
                                       </li>
                                    </ul>
                                 </li>
                                 <li>
                                    <p><code class="codeph">roles</code> ：指定将分析其使用权限的角色。也就是说，如果使用来自其中一个给定角色的特权，则将分析该特权。如果为<code class="codeph">type</code>参数指定<code class="codeph">DBMS_PRIVILEGE_CAPTURE.G_ROLE</code>或<code class="codeph">DBMS_PRIVILEGE_CAPTURE.G_ROLE_AND_CONTEXT</code> ，则必须指定此参数。您输入的每个角色都必须存在于数据库中。（您可以通过查询<code class="codeph">DBA_ROLES</code>数据字典视图来查找现有角色。）对于多个角色，请使用varray type <code class="codeph">role_name_list</code>输入角色名称。您最多可以指定10个角色。
                                    </p>
                                    <p>例如，要指定两个角色：</p><pre class="oac_no_warn" dir="ltr">roles =&gt; role_name_list（'role1'，'role2'），</pre></li>
                                 <li>
                                    <p><code class="codeph">condition</code> ：指定最多4000个字符的布尔表达式。如果为<code class="codeph">type</code>参数指定<code class="codeph">DBMS_PRIVILEGE_CAPTURE.G_CONTEXT</code>或<code class="codeph">DBMS_PRIVILEGE_CAPTURE.G_ROLE_AND_CONTEXT</code> ，则必须指定此参数。此<code class="codeph">SYS_CONTEXT</code>表达式中只<code class="codeph">SYS_CONTEXT</code>使用带有关系运算符（ <code class="codeph">==</code> ， <code class="codeph">&gt;</code> ， <code class="codeph">&gt;=</code> ， <code class="codeph">&lt;</code> ， <code class="codeph">&lt;=</code> ， <code class="codeph">&lt;&gt;</code> ， <code class="codeph">BETWEEN</code>和<code class="codeph">IN</code> ）的<code class="codeph">SYS_CONTEXT</code>表达式。
                                    </p>
                                    <p><code class="codeph">condition</code>表达式语法如下：</p><pre class="oac_no_warn" dir="ltr">predicate :: = SYS_CONTEXT（ <span class="italic">namespace</span> ， <span class="italic">attribute</span> ）relop <span class="italic">constant_value</span> | SYS_CONTEXT（ <span class="italic">名称空间</span> ， <span class="italic">属性</span> ）BETWEEN <span class="italic">constant_value</span> AND <span class="italic">constant_value</span> | SYS_CONTEXT（ <span class="italic">名称空间</span> ， <span class="italic">属性</span> ）IN { <span class="italic">constant_value</span> （， <span class="italic">constant_value</span> ）*} relop :: = = | &lt;| &lt;= | &gt; | &gt; = | &lt;&gt; context_expression :: =谓词| （context_expression）AND（context_expression）| （context_expression）OR（context_expression）</pre><p>例如，要使用条件指定IP地址<code class="codeph">192.0.2.1</code> ：</p><pre class="oac_no_warn" dir="ltr">condition =&gt;'SYS_CONTEXT（''USERENV''，''IP_ADDRESS''）='''192.0.2.1''';</pre></li>
                              </ul>
                              <p>创建权限分析策略后，必须启用策略以开始捕获权限和角色使用。</p>
                           </li>
                        </ol>
                        <p>*您可以根据需要添加任意数量的常量值（例如， <code class="codeph">IN {</code> <span class="italic"><code class="codeph">constant_value1</code></span> <code class="codeph">}</code>或<code class="codeph">IN {</code> <span class="italic"><code class="codeph">constant_value1</code></span> <code class="codeph">,</code> <span class="italic"><code class="codeph">constant_value2</code></span> <code class="codeph">,</code> <span class="italic"><code class="codeph">constant_value3</code></span> <code class="codeph">}</code> ）。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="performing-privilege-analysis-find-privilege-use.html#GUID-C4A9E2B3-0051-4190-BD23-1F24052B352C" title="创建权限分析策略后，必须启用它以捕获权限使用。">启用权限分析策略</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-442371F1-541D-4A1E-BCBF-180C0D88517D" title="您可以在SQL * Plus或Enterprise Manager Cloud Control中创建和管理权限分析策略。">创建和管理权限分析策略</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-C4A9E2B3-0051-4190-BD23-1F24052B352C" name="GUID-C4A9E2B3-0051-4190-BD23-1F24052B352C"></a><h4 id="DBSEG-GUID-C4A9E2B3-0051-4190-BD23-1F24052B352C" class="sect4">启用权限分析策略</h4>
                  <div>
                     <p>创建权限分析策略后，必须启用它以捕获权限使用。</p>
                     <div class="section"><code class="codeph">DBMS_PRIVILEGE_CAPTURE.ENABLE_CAPTURE</code>过程启用权限策略并为其创建捕获运行名称。运行名称定义捕获发生的时间段。
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>以具有<code class="codeph">CAPTURE_ADMIN</code>角色的用户身份登录数据库实例。</span></li>
                        <li class="stepexpand"><span>查询<code class="codeph">DBA_PRIV_CAPTURES</code>数据字典视图的<code class="codeph">NAME</code>和<code class="codeph">ENABLED</code>列，以查找现有的权限分析策略以及它们当前是否已启用。</span></li>
                        <li class="stepexpand"><span>运行<code class="codeph">DBMS_PRIVILEGE_CAPTURE.ENABLE_CAPTURE</code>过程以启用策略，并可选择为捕获运行创建名称。</span><div>
                              <p>例如，要启用权限分析策略<code class="codeph">logon_users_analysis</code> ：</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_PRIVILEGE_CAPTURE.ENABLE_CAPTURE（name =&gt;'logon_users_analysis_pol'，run_name =&gt;'logon_users_04092016'）;结束; /</pre></div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-442371F1-541D-4A1E-BCBF-180C0D88517D" title="您可以在SQL * Plus或Enterprise Manager Cloud Control中创建和管理权限分析策略。">创建和管理权限分析策略</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-C347E3C2-37DC-44C3-BC9B-1FFAFEEFD1F6" name="GUID-C347E3C2-37DC-44C3-BC9B-1FFAFEEFD1F6"></a><h4 id="DBSEG-GUID-C347E3C2-37DC-44C3-BC9B-1FFAFEEFD1F6" class="sect4">创建和启用权限分析策略的示例</h4>
                  <div>
                     <p>您可以创建各种权限分析策略。</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-22A1DF70-95F3-4F77-8C8B-4F5E6BBBE23C">示例：数据库范围权限的权限分析</a><br><code class="codeph">DBMS_PRIVILEGE_CAPTURE.CREATE_CAPTURE</code>可用于分析数据库范围的权限。
                        </li>
                        <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-FA1DF4BF-B906-4D88-8E13-96D29F62AAED">示例：两个角色的权限使用权限分析</a><br><code class="codeph">DBMS_PRIVILEGE_CAPTURE.CREATE_CAPTURE</code>过程可用于分析多个角色的权限使用情况。
                        </li>
                        <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-F66B66E1-4EDF-497F-88FF-0464202F794C">示例：SQL * Plus使用期间权限的权限分析</a><br><code class="codeph">DBMS_PRIVILEGE_CAPTURE.CREATE_CAPTURE</code>过程可用于捕获分析权限。
                        </li>
                        <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-6D534AD9-E7A9-4BDE-843B-C3A3B1C14B3B">示例：SQL * Plus访问期间PSMITH权限的权限分析</a><br>当用户运行SQL * Plus时， <code class="codeph">DBMS_PRIVILEGE_CAPTURE.CREATE_CAPTURE</code>可用于分析用户访问。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-442371F1-541D-4A1E-BCBF-180C0D88517D" title="您可以在SQL * Plus或Enterprise Manager Cloud Control中创建和管理权限分析策略。">创建和管理权限分析策略</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="props_rev_3"><a id="GUID-22A1DF70-95F3-4F77-8C8B-4F5E6BBBE23C" name="GUID-22A1DF70-95F3-4F77-8C8B-4F5E6BBBE23C"></a><h5 id="DBSEG-GUID-22A1DF70-95F3-4F77-8C8B-4F5E6BBBE23C" class="sect5">示例：数据库范围权限的权限分析</h5>
                     <div>
                        <p><code class="codeph">DBMS_PRIVILEGE_CAPTURE.CREATE_CAPTURE</code>可用于分析数据库范围的权限。
                        </p>
                        <p><a href="performing-privilege-analysis-find-privilege-use.html#GUID-22A1DF70-95F3-4F77-8C8B-4F5E6BBBE23C__CACFHIEB">示例5-1</a>显示了如何使用<code class="codeph">DBMS_PRIVILEGE_CAPTURE</code>包创建和启用权限分析策略以记录数据库中的所有权限使用。
                        </p>
                        <div class="example" id="GUID-22A1DF70-95F3-4F77-8C8B-4F5E6BBBE23C__CACFHIEB">
                           <p class="titleinexample">示例5-1数据库范围特权的权限分析</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_PRIVILEGE_CAPTURE.CREATE_CAPTURE（name =&gt;'db_wide_capture_pol'，description =&gt;'Captures database-wide privileges'，type =&gt; DBMS_PRIVILEGE_CAPTURE.G_DATABASE）;结束; / EXEC DBMS_PRIVILEGE_CAPTURE.ENABLE_CAPTURE（'db_wide_capture_pol'）;</pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-C347E3C2-37DC-44C3-BC9B-1FFAFEEFD1F6" title="您可以创建各种权限分析策略。">创建和启用权限分析策略的示例</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="props_rev_3"><a id="GUID-FA1DF4BF-B906-4D88-8E13-96D29F62AAED" name="GUID-FA1DF4BF-B906-4D88-8E13-96D29F62AAED"></a><h5 id="DBSEG-GUID-FA1DF4BF-B906-4D88-8E13-96D29F62AAED" class="sect5">示例：两个角色的权限使用权限分析</h5>
                     <div>
                        <p><code class="codeph">DBMS_PRIVILEGE_CAPTURE.CREATE_CAPTURE</code>过程可用于分析多个角色的权限使用情况。
                        </p>
                        <p><a href="performing-privilege-analysis-find-privilege-use.html#GUID-FA1DF4BF-B906-4D88-8E13-96D29F62AAED__CACJDHBE">示例5-2</a>显示了如何分析两个角色的权限使用情况。
                        </p>
                        <div class="example" id="GUID-FA1DF4BF-B906-4D88-8E13-96D29F62AAED__CACJDHBE">
                           <p class="titleinexample">例5-2两个角色的权限使用特权分析</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_PRIVILEGE_CAPTURE.CREATE_CAPTURE（name =&gt;'dba_roles_capture_pol'，description =&gt;'Captures DBA and LBAC_DBA role use'，type =&gt; DBMS_PRIVILEGE_CAPTURE.G_ROLE，roles =&gt; role_name_list（'dba'，'lbac_dba'））;结束; / EXEC DBMS_PRIVILEGE_CAPTURE.ENABLE_CAPTURE（'dba_roles_capture_pol'）;</pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-C347E3C2-37DC-44C3-BC9B-1FFAFEEFD1F6" title="您可以创建各种权限分析策略。">创建和启用权限分析策略的示例</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="props_rev_3"><a id="GUID-F66B66E1-4EDF-497F-88FF-0464202F794C" name="GUID-F66B66E1-4EDF-497F-88FF-0464202F794C"></a><h5 id="DBSEG-GUID-F66B66E1-4EDF-497F-88FF-0464202F794C" class="sect5">示例：SQL * Plus使用期间权限的权限分析</h5>
                     <div>
                        <p><code class="codeph">DBMS_PRIVILEGE_CAPTURE.CREATE_CAPTURE</code>过程可用于捕获分析权限。
                        </p>
                        <p><a href="performing-privilege-analysis-find-privilege-use.html#GUID-F66B66E1-4EDF-497F-88FF-0464202F794C__CACGIABC">例5-3</a>显示了如何分析用于运行SQL * Plus的权限。
                        </p>
                        <div class="example" id="GUID-F66B66E1-4EDF-497F-88FF-0464202F794C__CACGIABC">
                           <p class="titleinexample">示例5-3 SQL * Plus使用期间权限的权限分析</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_PRIVILEGE_CAPTURE.CREATE_CAPTURE（name =&gt;'sqlplus_capture_pol'，description =&gt;'在SQL * Plus使用期间捕获权限使用'，键入=&gt; DBMS_PRIVILEGE_CAPTURE.G_CONTEXT，condition =&gt;'SYS_CONTEXT（''USERENV''，''MODULE'' ）= '' sqlplus中 '''）;结束; / EXEC DBMS_PRIVILEGE_CAPTURE.ENABLE_CAPTURE（'sqlplus_capture_pol'）;</pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-C347E3C2-37DC-44C3-BC9B-1FFAFEEFD1F6" title="您可以创建各种权限分析策略。">创建和启用权限分析策略的示例</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="props_rev_3"><a id="GUID-6D534AD9-E7A9-4BDE-843B-C3A3B1C14B3B" name="GUID-6D534AD9-E7A9-4BDE-843B-C3A3B1C14B3B"></a><h5 id="DBSEG-GUID-6D534AD9-E7A9-4BDE-843B-C3A3B1C14B3B" class="sect5">示例：SQL * Plus访问期间PSMITH权限的权限分析</h5>
                     <div>
                        <p>当用户运行SQL * Plus时， <code class="codeph">DBMS_PRIVILEGE_CAPTURE.CREATE_CAPTURE</code>可用于分析用户访问。
                        </p>
                        <p><a href="performing-privilege-analysis-find-privilege-use.html#GUID-6D534AD9-E7A9-4BDE-843B-C3A3B1C14B3B__CACCDFFI">示例5-4</a>显示了在运行SQL * Plus时如何分析会话用户<code class="codeph">PSMITH</code>使用的权限。
                        </p>
                        <div class="example" id="GUID-6D534AD9-E7A9-4BDE-843B-C3A3B1C14B3B__CACCDFFI">
                           <p class="titleinexample">示例5-4 SQL * Plus访问期间PSMITH权限的权限分析</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_PRIVILEGE_CAPTURE.CREATE_CAPTURE（name =&gt;'psmith_sqlplus_analysis_pol'，description =&gt;'分析PSMITH角色私有用于SQL * Plus模块'，类型=&gt; DBMS_PRIVILEGE_CAPTURE.G_CONTEXT，condition =&gt;'SYS_CONTEXT（''USERENV''，''MODULE ''）=''sqlplus''和SYS_CONTEXT（''USERENV''，''SESSION_USER''）='''PSMITH'''）;结束; / EXEC DBMS_PRIVILEGE_CAPTURE.ENABLE_CAPTURE（'psmith_sqlplus_analysis_pol'）;</pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-C347E3C2-37DC-44C3-BC9B-1FFAFEEFD1F6" title="您可以创建各种权限分析策略。">创建和启用权限分析策略的示例</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-ECD0AC5D-0EDD-4AF0-84D9-401749659786" name="GUID-ECD0AC5D-0EDD-4AF0-84D9-401749659786"></a><h4 id="DBSEG-GUID-ECD0AC5D-0EDD-4AF0-84D9-401749659786" class="sect4">禁用权限分析策略</h4>
                  <div>
                     <p>必须先禁用权限分析策略，然后才能生成权限分析报告。</p>
                     <div class="section">禁用策略后，将不再记录权限。禁用权限分析策略会立即对禁用权限分析策略之前和之后登录的用户会话生效。您可以使用<code class="codeph">DBMS_PRIVILEGE_CAPTURE.DISABLE_CAPTURE</code>过程来禁用权限分析策略。
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>以具有<code class="codeph">CAPTURE_ADMIN</code>角色的用户身份登录数据库实例。</span></li>
                        <li class="stepexpand"><span>查询<code class="codeph">DBA_PRIV_CAPTURES</code>数据字典视图的<code class="codeph">NAME</code>和<code class="codeph">ENABLED</code>列，以查找现有权限分析策略以及它们当前是否已禁用。</span></li>
                        <li class="stepexpand"><span>运行<code class="codeph">DBMS_PRIVILEGE_CAPTURE.DISBLE_CAPTURE</code>过程以启用策略。</span><div>
                              <p>例如，要禁用权限分析策略<code class="codeph">logon_users_analysis</code> ：</p><pre class="oac_no_warn" dir="ltr">EXEC DBMS_PRIVILEGE_CAPTURE.DISABLE_CAPTURE（'logon_users_analysis_pol'）;</pre></div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-442371F1-541D-4A1E-BCBF-180C0D88517D" title="您可以在SQL * Plus或Enterprise Manager Cloud Control中创建和管理权限分析策略。">创建和管理权限分析策略</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-09B5E21E-5C5B-4171-B6D7-32DDF7EA1222" name="GUID-09B5E21E-5C5B-4171-B6D7-32DDF7EA1222"></a><h4 id="DBSEG-GUID-09B5E21E-5C5B-4171-B6D7-32DDF7EA1222" class="sect4">生成权限分析报告</h4>
                  <div>
                     <p>您可以使用<code class="codeph">DBMS_PRIVILEGE_CAPTURE</code> PL / SQL包使用Enterprise Manager Cloud Control或SQL * Plus生成权限分析策略报告。
                     </p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-AFC16E86-D7BF-4AD7-A127-CDA6D04A9077">关于生成权限分析报告</a><br>禁用权限分析策略后，您可以根据为权限分析策略创建的捕获运行生成报告。
                        </li>
                        <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-3A08AAD2-A90F-4DE8-B5F9-88E2C3CF822F">管理多个命名捕获运行的一般过程</a><br>启用权限分析策略时，可以为策略的发现创建命名的捕获运行。
                        </li>
                        <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-67406253-7709-4F74-B962-EDFCA1CCB2F9">使用DBMS_PRIVILEGE_CAPTURE生成权限分析报告</a><br><code class="codeph">DBMS_PRIVILEGE_CAPTURE.GENERATE_RESULT</code>过程生成一个报告，显示特权捕获的结果。
                        </li>
                        <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-27D2232F-38AF-415A-BD64-69D368FB0FC0">使用云控制生成权限分析报告</a><br>您可以使用Cloud Control生成权限分析报告。
                        </li>
                        <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-E44DCDB5-9687-4355-93CA-3836ACBF9AA5">使用云控制访问权限分析报告</a><br>权限分析报告提供有关已使用和未使用权限的信息。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-442371F1-541D-4A1E-BCBF-180C0D88517D" title="您可以在SQL * Plus或Enterprise Manager Cloud Control中创建和管理权限分析策略。">创建和管理权限分析策略</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="props_rev_3"><a id="GUID-AFC16E86-D7BF-4AD7-A127-CDA6D04A9077" name="GUID-AFC16E86-D7BF-4AD7-A127-CDA6D04A9077"></a><h5 id="DBSEG-GUID-AFC16E86-D7BF-4AD7-A127-CDA6D04A9077" class="sect5">关于生成权限分析报告</h5>
                     <div>
                        <p>禁用权限分析策略后，您可以根据为权限分析策略创建的捕获运行生成报告。</p>
                        <p>要在SQL * Plus中查看报告结果，请查询特定于权限分析的数据字典视图。在Enterprise Manager云控制中，您可以从“权限分析”页面“ <span class="bold">操作”</span>菜单查看报告，并从那里根据需要撤消和重新授予角色和权限。如果在权限分析过程中使用权限，然后在生成报告之前撤消该权限，则该权限仍会报告为已使用的权限，但没有权限授予路径。
                        </p>
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>相关话题</strong></p>
                           <ul>
                              <li><a href="performing-privilege-analysis-find-privilege-use.html#GUID-2F1929EB-8EB5-4678-BBC9-EE4A8056D112" title="Oracle数据库提供数据字典视图，显示有关已分析权限的信息。">权限分析策略和报告数据字典视图</a></li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-09B5E21E-5C5B-4171-B6D7-32DDF7EA1222" title="您可以使用DBMS_PRIVILEGE_CAPTURE PL / SQL包使用Enterprise Manager Cloud Control或SQL * Plus生成权限分析策略报告。">生成权限分析报告</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-3A08AAD2-A90F-4DE8-B5F9-88E2C3CF822F" name="GUID-3A08AAD2-A90F-4DE8-B5F9-88E2C3CF822F"></a><h5 id="DBSEG-GUID-3A08AAD2-A90F-4DE8-B5F9-88E2C3CF822F" class="sect5">管理多个命名捕获运行的一般过程</h5>
                     <div>
                        <p>启用权限分析策略时，可以为策略的发现创建命名的捕获运行。</p>
                        <p>捕获运行定义从启用（开始）捕获到禁用（停止）捕获的时间段。这样，您可以创建多个运行，然后在生成权限捕获结果时对它们进行比较。<a href="performing-privilege-analysis-find-privilege-use.html#GUID-0A2B341F-FDFB-486E-9F93-B2063F82CC13" title="本教程演示了如何创建捕获运行以分析READ ANY TABLE系统特权的使用。">教程：使用Capture运行分析任何特权使用</a>提供了一个如何创建和生成多个捕获运行的示例。
                        </p>
                        <p>管理多个命名捕获运行的一般过程如下：</p>
                        <ol id="GUID-3A08AAD2-A90F-4DE8-B5F9-88E2C3CF822F__OL_N4C_5Z4_LGB">
                           <li>
                              <p>创建策略。</p>
                           </li>
                           <li>
                              <p>为第一次运行启用策略。</p>
                           </li>
                           <li>
                              <p>经过一段时间收集用户行为数据后，请禁用此策略及其运行。</p>
                           </li>
                           <li>
                              <p>生成结果，然后查询权限分析数据字典视图，以获取有关此捕获运行的信息。</p>
                              <p>如果省略<code class="codeph">DBMS_PRIVILEGE_CAPTURE.GENERATE_RESULT</code>过程中的<code class="codeph">run_name</code>参数，则此过程将查看所有记录作为整体，然后对其进行分析。
                              </p>
                           </li>
                           <li>
                              <p>重新启用第二次运行的策略。如果尚未首先禁用策略，则无法创建新的捕获运行。</p>
                           </li>
                           <li>
                              <p>收集用户数据后，禁用策略和第二次运行。</p>
                           </li>
                           <li>
                              <p>生成结果。</p>
                           </li>
                           <li>
                              <p>查询权限分析数据字典视图。两个捕获运行的结果都可以在视图中找到。如果您只想显示其中一个捕获运行的结果，则可以重新生成结果并重新查询权限分析视图。</p>
                           </li>
                        </ol>
                        <p>启用后，权限分析策略将在满足条件时开始记录权限使用情况。在任何给定时间，只能启用数据库中的一个权限分析策略。唯一的例外是可以使用不同类型的权限分析同时启用<code class="codeph">DBMS_PRIVILEGE_CAPTURE.G_DATABASE</code>类型的权限分析策略。
                        </p>
                        <p>删除权限分析策略时，其关联的捕获运行也将被删除，并且不会反映在权限分析数据字典视图中。</p>
                        <p>重新启动数据库不会更改权限分析的状态。例如，如果在数据库关闭之前启用了权限分析策略，则在数据库关闭并重新启动后仍会启用该策略。</p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-09B5E21E-5C5B-4171-B6D7-32DDF7EA1222" title="您可以使用DBMS_PRIVILEGE_CAPTURE PL / SQL包使用Enterprise Manager Cloud Control或SQL * Plus生成权限分析策略报告。">生成权限分析报告</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="props_rev_3"><a id="GUID-67406253-7709-4F74-B962-EDFCA1CCB2F9" name="GUID-67406253-7709-4F74-B962-EDFCA1CCB2F9"></a><h5 id="DBSEG-GUID-67406253-7709-4F74-B962-EDFCA1CCB2F9" class="sect5">使用DBMS_PRIVILEGE_CAPTURE生成权限分析报告</h5>
                     <div>
                        <p><code class="codeph">DBMS_PRIVILEGE_CAPTURE.GENERATE_RESULT</code>过程生成一个报告，显示特权捕获的结果。
                        </p>
                        <ol>
                           <li class="stepexpand"><span>以具有<code class="codeph">CAPTURE_ADMIN</code>角色的用户身份登录数据库实例。</span></li>
                           <li class="stepexpand"><span>查询<code class="codeph">DBA_PRIV_CAPTURES</code>数据字典视图的<code class="codeph">NAME</code>和<code class="codeph">ENABLED</code>列，以查找现有权限分析策略以及它们当前是否已禁用。</span><div>
                                 <p>必须先禁用权限分析策略，然后才能生成权限分析报告。</p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>使用以下语法运行<code class="codeph">DBMS_PRIVILEGE_CAPTURE.GENERATE_RESULT</code>过程：</span><div><pre class="oac_no_warn" dir="ltr">DBMS_PRIVILEGE_CAPTURE.GENERATE_RESULT（名称VARCHAR2，run_name VARCHAR2 DEFAULT NULL，依赖BOOLEAN DEFAULT NULL）;</pre></div>
                              <div>
                                 <p>在本规范中：</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p><code class="codeph">name</code> ：指定权限分析策略的名称。<kbd class="userinput">DBA_PRIV_CAPTURES</kbd>数据字典视图列出了现有策略的名称。
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">run_name</code> ：指定必须计算的权限捕获的运行名称的名称。如果省略此设置，则计算给定权限捕获的所有运行。
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">dependency</code> ：输入<code class="codeph">Y</code> （是）或<code class="codeph">N</code> （否）以指定是否应在报告中包含PL / SQL计算权限用法。
                                       </p>
                                    </li>
                                 </ul>
                              </div>
                              <div>
                                 <p>例如，要为权限分析策略<code class="codeph">logon_users_analysis</code>生成报告：</p><pre class="oac_no_warn" dir="ltr">EXEC DBMS_PRIVILEGE_CAPTURE.GENERATE_RESULT（'logon_users_analysis'）;</pre></div>
                           </li>
                           <li class="stepexpand"><span>使用权限授予路径从<code class="codeph">DBA_USED_*</code>数据字典视图查询已使用的权限。</span></li>
                        </ol>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-09B5E21E-5C5B-4171-B6D7-32DDF7EA1222" title="您可以使用DBMS_PRIVILEGE_CAPTURE PL / SQL包使用Enterprise Manager Cloud Control或SQL * Plus生成权限分析策略报告。">生成权限分析报告</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="props_rev_3"><a id="GUID-27D2232F-38AF-415A-BD64-69D368FB0FC0" name="GUID-27D2232F-38AF-415A-BD64-69D368FB0FC0"></a><h5 id="DBSEG-GUID-27D2232F-38AF-415A-BD64-69D368FB0FC0" class="sect5">使用云控制生成权限分析报告</h5>
                     <div>
                        <p>您可以使用Cloud Control生成权限分析报告。</p>
                        <ol>
                           <li class="stepexpand"><span>以已授予<code class="codeph">CAPTURE_ADMIN</code>角色和<code class="codeph">SELECT ANY DICTIONARY</code>权限的用户身份登录Cloud Control。<a href="../admqs/getting-started-with-database-administration.html#ADMQS033" target="_blank"><span><cite>Oracle Database 2 Day DBA</cite></span></a>解释了如何登录。</span></li>
                           <li class="stepexpand"><span>从“ <span class="bold">安全性”</span>菜单中，选择“ <span class="bold">权限分析”</span> 。</span></li>
                           <li class="stepexpand"><span>在“策略”下，选择要生成其报告的策略。</span></li>
                           <li class="stepexpand"><span>选择<span class="bold">生成报告</span> 。</span></li>
                           <li class="stepexpand"><span>在“权限分析：生成报告”对话框中，指定生成报告的时间。</span><div>
                                 <p>要<span class="bold">立即</span>生成报告，请选择<span class="bold">立即</span> 。要稍后生成报告，请选择“ <span class="bold">稍后”</span> ，然后指定要生成的报告的小时，分钟，秒和时区。
                                 </p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>单击<span class="bold">确定</span> 。</span><div>
                                 <p>在“权限分析”页面中，“确认”消息会通知您已提交报告。您可以刷新页面，直到作业完成。要查看报告，请选择策略名称，然后单击“ <span class="uicontrol bold">查看报告”</span> 。
                                 </p>
                              </div>
                           </li>
                        </ol>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-09B5E21E-5C5B-4171-B6D7-32DDF7EA1222" title="您可以使用DBMS_PRIVILEGE_CAPTURE PL / SQL包使用Enterprise Manager Cloud Control或SQL * Plus生成权限分析策略报告。">生成权限分析报告</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="props_rev_3"><a id="GUID-E44DCDB5-9687-4355-93CA-3836ACBF9AA5" name="GUID-E44DCDB5-9687-4355-93CA-3836ACBF9AA5"></a><h5 id="DBSEG-GUID-E44DCDB5-9687-4355-93CA-3836ACBF9AA5" class="sect5">使用云控制访问权限分析报告</h5>
                     <div>
                        <p>权限分析报告提供有关已使用和未使用权限的信息。</p>
                        <ol>
                           <li class="stepexpand"><span>生成权限分析报告。</span><div>
                                 <p>有关详细信息，请参阅<a href="performing-privilege-analysis-find-privilege-use.html#GUID-27D2232F-38AF-415A-BD64-69D368FB0FC0" title="您可以使用Cloud Control生成权限分析报告。">使用Cloud Control生成权限分析报告</a> 。
                                 </p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>在“权限分析”页面中，选择生成报告的策略。</span></li>
                           <li class="stepexpand"><span>选择<span class="uicontrol bold">查看报告</span> 。</span><div>
                                 <p>将显示“权限分析报告”页面。</p>
                                 <div class="figure" id="GUID-E44DCDB5-9687-4355-93CA-3836ACBF9AA5__GUID-5EDDDF9E-DC70-4756-8C7F-4FF48CA3E4BB"><img src="img/priv_analysis_report122.png" alt="priv_analysis_report122.png的描述如下" title="priv_analysis_report122.png的描述如下" longdesc="img_text/priv_analysis_report122.html"><br><a href="img_text/priv_analysis_report122.html">说明priv_analysis_report122.png的说明</a></div>
                                 <!-- class="figure" -->
                              </div>
                           </li>
                           <li class="stepexpand"><span>要查看报告，请执行以下操作：</span><ul>
                                 <li>默认情况下，将显示所选报告，但要搜索其他策略的报告，请使用“搜索”区域查找其他报告，或者为当前选定的策略选择其他受赠者。</li>
                                 <li>要查看未使用的权限，请选择“ <span class="uicontrol bold">未使用”</span>选项卡;要查看已使用的权限，请选择已<span class="uicontrol bold">使用</span> 。要查看两者的摘要，请选择“ <span class="uicontrol bold">摘要”</span> 。
                                 </li>
                              </ul>
                              <div>
                                 <p>从这里，您可以根据需要选择要撤消或重新授予用户的角色。要做到这一点，下<span class="uicontrol bold">承授人</span> ，选择角色，然后单击<span class="bold">撤销</span>或<span class="bold">重新批准</span> 。
                                 </p>
                              </div>
                           </li>
                        </ol>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-09B5E21E-5C5B-4171-B6D7-32DDF7EA1222" title="您可以使用DBMS_PRIVILEGE_CAPTURE PL / SQL包使用Enterprise Manager Cloud Control或SQL * Plus生成权限分析策略报告。">生成权限分析报告</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-403B206F-71B5-481E-8FF7-6FEBA2DE1D75" name="GUID-403B206F-71B5-481E-8FF7-6FEBA2DE1D75"></a><h4 id="DBSEG-GUID-403B206F-71B5-481E-8FF7-6FEBA2DE1D75" class="sect4">删除权限分析策略</h4>
                  <div>
                     <p>在删除权限分析策略之前，必须先禁用它。</p>
                     <div class="section">删除权限分析策略还会删除与此权限分析关联的所有已使用和未使用的权限记录。如果您为策略创建了捕获运行，则在删除策略时将删除它们。</div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>以具有<code class="codeph">CAPTURE_ADMIN</code>角色的用户身份登录数据库实例。</span></li>
                        <li class="stepexpand"><span>查询<code class="codeph">DBA_PRIV_CAPTURES</code>数据字典视图的<code class="codeph">NAME</code>和<code class="codeph">ENABLE</code>列以查找策略并检查它是启用还是禁用。</span></li>
                        <li class="stepexpand"><span>如果启用该策略，则禁用它。</span><div>
                              <p>例如：</p><pre class="oac_no_warn" dir="ltr">EXEC DBMS_PRIVILEGE_CAPTURE.DISABLE_CAPTURE（'logon_users_analysis_pol'）;</pre></div>
                        </li>
                        <li class="stepexpand"><span>运行<code class="codeph">DBMS_PRIVILEGE_CAPTURE.DROP_CAPTURE</code>过程以删除策略。</span><div>
                              <p>例如：</p><pre class="oac_no_warn" dir="ltr">EXEC DBMS_PRIVILEGE_CAPTURE.DROP_CAPTURE（'logon_users_analysis_pol'）;</pre><p>如果您已使用捕获运行启用策略，则也会删除捕获运行。要单独删除捕获运行，可以运行<code class="codeph">DBMS_PRIVILEGE_CAPTURE.DELETE_RUN</code>过程，但策略必须存在才能运行此语句。
                              </p>
                           </div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="performing-privilege-analysis-find-privilege-use.html#GUID-ECD0AC5D-0EDD-4AF0-84D9-401749659786" title="必须先禁用权限分析策略，然后才能生成权限分析报告。">禁用权限分析策略</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-442371F1-541D-4A1E-BCBF-180C0D88517D" title="您可以在SQL * Plus或Enterprise Manager Cloud Control中创建和管理权限分析策略。">创建和管理权限分析策略</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-819C319D-2A16-4F3B-BC4E-6D216418F6CA" name="GUID-819C319D-2A16-4F3B-BC4E-6D216418F6CA"></a><h3 id="DBSEG-GUID-819C319D-2A16-4F3B-BC4E-6D216418F6CA" class="sect3">使用云控制创建角色和管理权限</h3>
               <div>
                  <p>您可以使用权限分析报告中的权限创建新角色，然后将此角色授予用户。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-32E2ACC1-CF16-4843-8149-0DAFA8A659EE">从Cloud Control中的权限分析报告创建角色</a><br>您可以使用报告摘要查找应用程序所需的最少权限数，并将这些权限封装到角色中。
                     </li>
                     <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-7FEDBD68-0F3F-4856-9D48-B90AEB692361">使用云控制撤消和重新授予角色和权限</a><br>您可以使用Enterprise Manager Cloud Control撤消和重新授予用户角色和权限。
                     </li>
                     <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-52659855-2B5E-4E93-80EE-174679594BE9">使用云控制生成撤消或重新制作脚本</a><br>您可以根据权限分析报告的结果生成一个脚本，用于撤消或向用户重新授予权限。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-44CB644B-7B59-4B3B-B375-9F9B96F60186" title="权限分析动态分析用户使用和不使用的权限和角色。">执行权限分析以查找权限使用</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="props_rev_3"><a id="GUID-32E2ACC1-CF16-4843-8149-0DAFA8A659EE" name="GUID-32E2ACC1-CF16-4843-8149-0DAFA8A659EE"></a><h4 id="DBSEG-GUID-32E2ACC1-CF16-4843-8149-0DAFA8A659EE" class="sect4">从Cloud Control中的权限分析报告创建角色</h4>
                  <div>
                     <p>您可以使用报告摘要查找应用程序所需的最少权限数，并将这些权限封装到角色中。</p>
                     <ol>
                        <li class="stepexpand"><span>以已授予<code class="codeph">CAPTURE_ADMIN</code>角色和<code class="codeph">SELECT ANY DICTIONARY</code>权限的用户身份登录Cloud Control。<a href="../admqs/getting-started-with-database-administration.html#ADMQS033" target="_blank"><span><cite>Oracle Database 2 Day DBA</cite></span></a>解释了如何登录。</span></li>
                        <li class="stepexpand"><span>在“权限分析”页面上，选择策略名称，然后从“ <span class="bold">操作”</span>菜单中单击“ <span class="bold">创建角色”</span> 。</span></li>
                        <li class="stepexpand"><span>在“创建角色”页面上，提供以下详细信息，然后单击“ <span class="bold">确定”</span> ：</span><div>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>选择您要从中创建新角色的策略。</p>
                                 </li>
                                 <li>
                                    <p>输入要创建的新角色的唯一名称。</p>
                                 </li>
                                 <li>
                                    <p>选中“已<span class="bold">使用”</span>或“ <span class="bold">未使用”</span>复选框，具体取决于您的角色必须封装的内容。该角色可以使用或未使用的系统和对象特权和角色。
                                    </p>
                                 </li>
                                 <li>
                                    <p>为“ <span class="bold">直接授予的系统特权”</span> ，“ <span class="bold">直接授予的对象特权</span> ”和“ <span class="bold">直接授予的角色”</span>选择相应的单选按钮。
                                    </p>
                                    <p>例如，如果选中“ <span class="bold">使用”</span>复选框，则选择：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p><span class="bold">所有</span>系统权限，然后捕获的所有已使用系统权限都包含在您正在创建的新角色中。
                                          </p>
                                       </li>
                                       <li>
                                          <p>对于角色<span class="bold">无</span> ，则在新角色中不会使用策略中捕获的任何角色。
                                          </p>
                                       </li>
                                       <li>
                                          <p><span class="bold">自定义</span>对象权限，然后显示捕获的可用已使用对象的权限列表，您需要从列表中选择要分配给该角色的权限。
                                          </p>
                                       </li>
                                    </ul>
                                 </li>
                              </ul>
                           </div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-819C319D-2A16-4F3B-BC4E-6D216418F6CA" title="您可以使用权限分析报告中的权限创建新角色，然后将此角色授予用户。">使用Cloud Control创建角色和管理权限</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-7FEDBD68-0F3F-4856-9D48-B90AEB692361" name="GUID-7FEDBD68-0F3F-4856-9D48-B90AEB692361"></a><h4 id="DBSEG-GUID-7FEDBD68-0F3F-4856-9D48-B90AEB692361" class="sect4">使用云控制撤消和重新授予角色和权限</h4>
                  <div>
                     <p>您可以使用Enterprise Manager Cloud Control撤消和重新授予用户角色和权限。</p>
                     <ol>
                        <li class="stepexpand"><span>如果启用了Oracle Database Vault，请确保您被授权为Oracle System Privilege和Role Management领域的所有者。</span><div>
                              <p>在SQL * Plus中，已被授予<code class="codeph">DV_OWNER</code>角色的用户可以通过查询<code class="codeph">DBA_DV_REALM_AUTH</code>数据字典视图来检查授权。要授予用户授权，请使用<code class="codeph">DBMS_MACADM.ADD_AUTH_TO_REALM</code>过程。
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>生成权限分析报告。</span></li>
                        <li class="stepexpand"><span>在“权限分析”页面中，选择生成报告的策略。</span></li>
                        <li class="stepexpand"><span>选择<span class="uicontrol bold">查看报告</span> 。</span></li>
                        <li class="stepexpand"><span>在“权限分析：报告”页面中，选择“ <span class="uicontrol bold">摘要”</span>选项卡。</span></li>
                        <li class="stepexpand"><span>在“搜索”下，确保已设置“ <span class="uicontrol bold">策略”</span>和“ <span class="uicontrol bold">Grantee”</span>菜单选项。</span></li>
                        <li class="stepexpand"><span>在Grantee区域下，展开受让人选项。</span><div>例如，对于名为<code class="codeph">HR_ADMIN</code>角色的角色的角色权限分析报告，您将展开<code class="codeph">HR_ADMIN</code>角色以显示与其关联的权限。
                           </div>
                        </li>
                        <li class="stepexpand"><span>选择要撤消的每个权限，然后单击“ <span class="uicontrol bold">撤消”</span> ，或选择“ <span class="uicontrol bold">重新授予”</span>以将该权限重新授予该角色。</span></li>
                     </ol>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="performing-privilege-analysis-find-privilege-use.html#GUID-27D2232F-38AF-415A-BD64-69D368FB0FC0" title="您可以使用Cloud Control生成权限分析报告。">使用云控制生成权限分析报告</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-819C319D-2A16-4F3B-BC4E-6D216418F6CA" title="您可以使用权限分析报告中的权限创建新角色，然后将此角色授予用户。">使用Cloud Control创建角色和管理权限</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-52659855-2B5E-4E93-80EE-174679594BE9" name="GUID-52659855-2B5E-4E93-80EE-174679594BE9"></a><h4 id="DBSEG-GUID-52659855-2B5E-4E93-80EE-174679594BE9" class="sect4">使用云控制生成撤消或重新制作脚本</h4>
                  <div>
                     <p>您可以根据权限分析报告的结果生成一个脚本，用于撤消或向用户重新授予权限。</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-BAF8C605-D14A-49A8-B819-B39EC18D0FAE">关于生成撤销和重新制作脚本</a><br>您可以使用可在生成权限分析后下载的脚本来批量撤销未使用的系统和对象权限和角色。
                        </li>
                        <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-D7DD58E0-6884-4A7E-B593-1A6CC5612081">生成撤销脚本</a><br>您可以使用Enterprise Manager Cloud Control生成撤消用户权限的脚本。
                        </li>
                        <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-80C2B380-C315-43BD-AC09-077FF7F4F09B">生成Regrant脚本</a><br>您可以使用Enterprise Manager Cloud Control生成一个脚本，该脚本将重新授予已从用户撤消的权限。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-819C319D-2A16-4F3B-BC4E-6D216418F6CA" title="您可以使用权限分析报告中的权限创建新角色，然后将此角色授予用户。">使用Cloud Control创建角色和管理权限</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="props_rev_3"><a id="GUID-BAF8C605-D14A-49A8-B819-B39EC18D0FAE" name="GUID-BAF8C605-D14A-49A8-B819-B39EC18D0FAE"></a><h5 id="DBSEG-GUID-BAF8C605-D14A-49A8-B819-B39EC18D0FAE" class="sect5">关于生成撤销和重新制作脚本</h5>
                     <div>
                        <p>您可以使用可在生成权限分析后下载的脚本来批量撤销未使用的系统和对象权限和角色。</p>
                        <p>稍后，如果要将这些权限重新授予用户，则可以生成regrant脚本。要生成regrant脚本，您必须具有相应的撤消脚本。</p>
                        <p>在开发或测试环境中执行撤消脚本。请注意，您无法撤消Oracle提供的帐户和角色中的权限和角色。</p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-52659855-2B5E-4E93-80EE-174679594BE9" title="您可以根据权限分析报告的结果生成一个脚本，用于撤消或向用户重新授予权限。">使用Cloud Control生成撤消或重新创建脚本</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="props_rev_3"><a id="GUID-D7DD58E0-6884-4A7E-B593-1A6CC5612081" name="GUID-D7DD58E0-6884-4A7E-B593-1A6CC5612081"></a><h5 id="DBSEG-GUID-D7DD58E0-6884-4A7E-B593-1A6CC5612081" class="sect5">生成撤销脚本</h5>
                     <div>
                        <p>您可以使用Enterprise Manager Cloud Control生成撤消用户权限的脚本。</p>
                        <ol>
                           <li class="stepexpand"><span>如果启用了Oracle Database Vault，请确保您被授权为Oracle System Privilege和Role Management领域的所有者。</span><div>
                                 <p>在SQL * Plus中，已被授予<code class="codeph">DV_OWNER</code>角色的用户可以通过查询<code class="codeph">DBA_DV_REALM_AUTH</code>数据字典视图来检查授权。要授予用户授权，请使用<code class="codeph">DBMS_MACADM.ADD_AUTH_TO_REALM</code>过程。
                                 </p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>在Enterprise Manager中，以已被授予<code class="codeph">CAPTURE_ADMIN</code>角色和<code class="codeph">SELECT ANY DICTIONARY</code>权限的用户身份访问目标数据库主页。</span><div>
                                 <p>有关更多信息，请参见<a href="../admqs/getting-started-with-database-administration.html#ADMQS033" target="_blank"><span class="italic">Oracle Database 2 Day DBA</span></a> 。
                                 </p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>从“ <span class="bold">安全性”</span>菜单中，选择“ <span class="bold">权限分析”</span> 。</span></li>
                           <li class="stepexpand"><span>确保已生成所需的权限分析报告。</span></li>
                           <li class="stepexpand"><span>在“权限分析”页面的“ <span class="bold">操作”</span>菜单中，选择“ <span class="bold">撤消脚本”</span> 。</span></li>
                           <li class="stepexpand"><span>在“撤消脚本”页面上，单击“ <span class="bold">生成”</span> 。</span><div>
                                 <p>将显示“生成撤消脚本详细信息”向导。</p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>在“脚本详细信息”页面中，执行以下操作：从“ <span class="uicontrol bold">策略名称”</span>菜单中选择需要为其准备撤消脚本的<span class="uicontrol bold">策略名称</span> 。</span></li>
                           <li class="stepexpand"><span>在“ <span class="uicontrol bold">脚本名称”</span>字段中，输入唯一名称，对于“ <span class="uicontrol bold">描述”</span> ，输入脚本的说明。</span><div>
                                 <p>例如，如果要撤消所有未使用的权限，请为所有未使用的权限和角色选择“ <span class="bold">全部”</span>选项，然后单击“ <span class="bold">下一步”</span> 。
                                 </p>
                                 <p>根据您的选择和可用权限，将撤消所有未使用的系统权限，对象权限和要撤消的角色。</p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>对于<span class="uicontrol bold">Grantee（用户/角色）</span> ，请选择“ <span class="uicontrol bold">全部”</span>或“ <span class="uicontrol bold">自定义”</span> 。</span></li>
                           <li class="stepexpand"><span>为“ <span class="uicontrol bold">未使用的系统权限”</span> ，“ <span class="uicontrol bold">未使用的对象权限</span> ”和“ <span class="uicontrol bold">未使用的角色”</span>设置选择“ <span class="uicontrol bold">全部”</span> ，“ <span class="uicontrol bold">无</span> ”或“ <span class="uicontrol bold">自定义</span> ”。</span></li>
                           <li class="stepexpand"><span>单击<span class="bold">下一步</span> 。</span><div>
                                 <p>显示的下一页取决于您选择的<span class="uicontrol bold">全部</span> ， <span class="uicontrol bold">无</span>或<span class="uicontrol bold">自定义</span> 。如果您选择了全部，则页面将显示权限列表。如果您选择“ <span class="uicontrol bold">无”</span> ，则会绕过该页面。如果选择“ <span class="uicontrol bold">自定义”</span> ，则可以单独选择要撤消的权限。出现的最后一页是Review页面。
                                 </p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>单击<span class="bold">保存</span> 。</span><div>
                                 <p>将出现“撤消脚本”页面。</p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>在“撤消脚本”页面中，选择新创建的SQL脚本，然后单击“ <span class="bold">下载撤消脚本”</span>以下载此脚本，该脚本包含每个权限或角色的<code class="codeph">REVOKE</code> SQL语句。</span><div>
                                 <p>要查看脚本，请单击“ <span class="uicontrol bold">查看撤消脚本”</span>按钮。
                                 </p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>要返回“权限分析”页面，请单击“ <span class="uicontrol bold">返回”</span> 。</span></li>
                        </ol>
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>相关话题</strong></p>
                           <ul>
                              <li><a href="performing-privilege-analysis-find-privilege-use.html#GUID-27D2232F-38AF-415A-BD64-69D368FB0FC0" title="您可以使用Cloud Control生成权限分析报告。">使用云控制生成权限分析报告</a></li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-52659855-2B5E-4E93-80EE-174679594BE9" title="您可以根据权限分析报告的结果生成一个脚本，用于撤消或向用户重新授予权限。">使用Cloud Control生成撤消或重新创建脚本</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="props_rev_3"><a id="GUID-80C2B380-C315-43BD-AC09-077FF7F4F09B" name="GUID-80C2B380-C315-43BD-AC09-077FF7F4F09B"></a><h5 id="DBSEG-GUID-80C2B380-C315-43BD-AC09-077FF7F4F09B" class="sect5">生成Regrant脚本</h5>
                     <div>
                        <p>您可以使用Enterprise Manager Cloud Control生成一个脚本，该脚本将重新授予已从用户撤消的权限。</p>
                        <ol>
                           <li class="stepexpand"><span>如果启用了Oracle Database Vault，请确保您被授权为Oracle System Privilege和Role Management领域的所有者。</span><div>
                                 <p>在SQL * Plus中，已被授予<code class="codeph">DV_OWNER</code>角色的用户可以通过查询<code class="codeph">DBA_DV_REALM_AUTH</code>数据字典视图来检查授权。要授予用户授权，请使用<code class="codeph">DBMS_MACADM.ADD_AUTH_TO_REALM</code>过程。
                                 </p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>在Enterprise Manager中，以已被授予<code class="codeph">CAPTURE_ADMIN</code>角色和<code class="codeph">SELECT ANY DICTIONARY</code>权限的用户身份访问目标数据库主页。</span><div>
                                 <p>有关更多信息，请参见<a href="../admqs/getting-started-with-database-administration.html#ADMQS033" target="_blank"><span class="italic">Oracle Database 2 Day DBA</span></a> 。
                                 </p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>从“ <span class="bold">安全性”</span>菜单中，选择“ <span class="bold">权限分析”</span> 。</span></li>
                           <li class="stepexpand"><span>确保已生成所需的报告。</span><div>
                                 <p>有关详细信息，请参阅<a href="performing-privilege-analysis-find-privilege-use.html#GUID-27D2232F-38AF-415A-BD64-69D368FB0FC0" title="您可以使用Cloud Control生成权限分析报告。">使用Cloud Control生成权限分析报告</a> 。
                                 </p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>在“权限分析”页面中，选择撤消脚本所基于的策略。</span></li>
                           <li class="stepexpand"><span>从“ <span class="bold">操作”</span>菜单中，选择“ <span class="bold">撤消脚本”</span> 。</span></li>
                           <li class="stepexpand"><span>在“撤消脚本”页面中，选择先前创建的策略名称，然后单击“ <span class="bold">下载重新映射脚本”</span>以下载此脚本。</span><div>
                                 <p>您可以通过选择<span class="uicontrol bold">View Revoke Script</span>和<span class="uicontrol bold">View Regrant Script</span>按钮来<span class="uicontrol bold">查看</span>与策略关联的<span class="uicontrol bold">脚本</span> 。
                                 </p>
                              </div>
                           </li>
                        </ol>
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>相关话题</strong></p>
                           <ul>
                              <li><a href="performing-privilege-analysis-find-privilege-use.html#GUID-27D2232F-38AF-415A-BD64-69D368FB0FC0" title="您可以使用Cloud Control生成权限分析报告。">使用云控制生成权限分析报告</a></li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-52659855-2B5E-4E93-80EE-174679594BE9" title="您可以根据权限分析报告的结果生成一个脚本，用于撤消或向用户重新授予权限。">使用Cloud Control生成撤消或重新创建脚本</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-0A2B341F-FDFB-486E-9F93-B2063F82CC13" name="GUID-0A2B341F-FDFB-486E-9F93-B2063F82CC13"></a><h3 id="DBSEG-GUID-0A2B341F-FDFB-486E-9F93-B2063F82CC13" class="sect3">教程：使用Capture运行分析任何特权使用</h3>
               <div>
                  <p>本教程演示了如何创建捕获运行以分析<code class="codeph">READ ANY TABLE</code>系统特权的使用。
                  </p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-E6A53756-A25B-4AA9-8CFA-A90E0B5009CF">第1步：创建用户帐户</a><br>您必须创建两个用户，一个用户创建策略，另一个用户将分析其权限。
                     </li>
                     <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-7D38155B-51F7-4FF9-B24D-1FBDF64F923A">第2步：创建并启用权限分析策略</a><br>用户<code class="codeph">pa_admin</code>必须创建并启用权限分析策略。
                     </li>
                     <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-5DAB3004-561B-424C-A473-71000980E578">第3步：使用READ ANY TABLE系统权限</a><br>用户<code class="codeph">app_user</code>使用<code class="codeph">READ ANY TABLE</code>系统特权。
                     </li>
                     <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-A7FF0521-F296-4821-84F1-3F4580E281A6">第4步：禁用权限分析策略</a><br>您必须先禁用该策略，然后才能生成捕获用户<code class="codeph">app_user</code>操作的<code class="codeph">app_user</code> 。
                     </li>
                     <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-B3D1C54B-9FFB-4376-B767-12A631E3F66D">第5步：生成并查看权限分析报告</a><br>禁用权限分析策略后，用户<code class="codeph">pa_admin</code>就可以生成并查看权限分析报告。
                     </li>
                     <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-CAFA7DFC-287E-4186-B475-811F5C611121">第6步：创建第二次捕获运行</a><br>接下来，您可以为<code class="codeph">ANY_priv_analysis_pol</code>权限分析策略创建第二个捕获运行。
                     </li>
                     <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-1FA9F206-75C2-4FC9-BA53-A17118A2C934">第7步：删除本教程的组件</a><br>如果不再需要，可以删除为本教程创建的组件。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-44CB644B-7B59-4B3B-B375-9F9B96F60186" title="权限分析动态分析用户使用和不使用的权限和角色。">执行权限分析以查找权限使用</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="props_rev_3"><a id="GUID-E6A53756-A25B-4AA9-8CFA-A90E0B5009CF" name="GUID-E6A53756-A25B-4AA9-8CFA-A90E0B5009CF"></a><h4 id="DBSEG-GUID-E6A53756-A25B-4AA9-8CFA-A90E0B5009CF" class="sect4">第1步：创建用户帐户</h4>
                  <div>
                     <p>您必须创建两个用户，一个用户创建策略，另一个用户将分析其权限。</p>
                     <ol>
                        <li class="stepexpand"><span>以具有<code class="codeph">CREATE USER</code>系统特权的用户身份登录数据库实例。</span><div>
                              <p>例如：</p><pre class="oac_no_warn" dir="ltr">sqlplus sec_admin输入密码： <span class="italic">密码</span>
</pre><p>在多租户环境中，您必须连接到相应的可插拔数据库（PDB）。</p>
                              <p>例如：</p><pre class="oac_no_warn" dir="ltr">sqlplus sec_admin @hrpdb输入密码： <span class="italic">密码</span>
</pre><p>要查找可用的PDB，请查询<code class="codeph">DBA_PDBS</code>数据字典视图。要检查当前PDB，请运行<code class="codeph">show con_name</code>命令。
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>创建以下用户：</span><div><pre class="oac_no_warn" dir="ltr">CREATE USER pa_admin IDENTIFIED BY <span class="italic">password</span> ; CREATE USER app_user IDENTIFIED BY <span class="italic">password</span> ;</pre></div>
                        </li>
                        <li class="stepexpand"><span>以具有为其他用户授予角色和系统权限的权限的用户身份进行连接，并且已授予谁为Oracle系统权限和角色管理域授予所有者权限。（默认情况下，用户<code class="codeph">SYS</code>具有这些权限。）</span><div>
                              <p>例如：</p><pre class="oac_no_warn" dir="ltr">CONNECT dba_psmith <span class="italic">- 或者，CONNECT dba_psmith @hrpdb</span>输入密码： <span class="italic">password</span>
</pre><p>在SQL * Plus中，已被授予<code class="codeph">DV_OWNER</code>角色的用户可以通过查询<code class="codeph">DBA_DV_REALM_AUTH</code>数据字典视图来检查授权。要授予用户授权，请使用<code class="codeph">DBMS_MACADM.ADD_AUTH_TO_REALM</code>过程。
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>为用户授予以下角色和权限。</span><div><pre class="oac_no_warn" dir="ltr">GRANT CREATE SESSION，CAPTURE_ADMIN TO pa_admin;授予创建会话，为app_user读取任何表格;</pre><p>用户<code class="codeph">pa_admin</code>将创建权限分析策略，该策略将分析用户<code class="codeph">app_user</code>将执行的<code class="codeph">READ ANY TABLE</code>查询。
                              </p>
                           </div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-0A2B341F-FDFB-486E-9F93-B2063F82CC13" title="本教程演示了如何创建捕获运行以分析READ ANY TABLE系统特权的使用。">教程：使用Capture运行分析任何特权使用</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-7D38155B-51F7-4FF9-B24D-1FBDF64F923A" name="GUID-7D38155B-51F7-4FF9-B24D-1FBDF64F923A"></a><h4 id="DBSEG-GUID-7D38155B-51F7-4FF9-B24D-1FBDF64F923A" class="sect4">第2步：创建并启用权限分析策略</h4>
                  <div>
                     <p>用户<code class="codeph">pa_admin</code>必须创建并启用权限分析策略。
                     </p>
                     <ol>
                        <li class="stepexpand"><span>以用户<code class="codeph">pa_admin</code>连接。</span><div><pre class="oac_no_warn" dir="ltr">CONNECT pa_admin <span class="italic">- 或者，CONNECT pa_admin @hrpdb</span>输入密码： <span class="italic">password</span>
</pre></div>
                        </li>
                        <li class="stepexpand"><span>创建以下权限分析策略：</span><div><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_PRIVILEGE_CAPTURE.CREATE_CAPTURE（name =&gt;'ANY_priv_analysis_pol'，description =&gt;'Analyses system privilege use'，type =&gt; DBMS_PRIVILEGE_CAPTURE.G_CONTEXT，condition =&gt;'SYS_CONTEXT（''USERENV''，''SESSION_USER''）='' APP_USER '''）;结束; /</pre><p>在这个例子中：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">type</code>指定由<code class="codeph">condition</code>参数定义的捕获条件的类型，如下所述。在此策略中，类型是基于上下文的条件。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">condition</code>使用布尔表达式指定条件，该布尔表达式必须求值为<code class="codeph">TRUE</code>才能使策略生效。在这种情况下，条件检查会话用户是否为<code class="codeph">app_user</code> 。
                                    </p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                        <li class="stepexpand"><span>启用策略并为其创建捕获运行。</span><div><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_PRIVILEGE_CAPTURE.ENABLE_CAPTURE（name =&gt;'ANY_priv_analysis_pol'，run_name =&gt;'ANY_priv_pol_run_1'）;结束; /</pre><p>此时，策略已准备好开始记录用户<code class="codeph">app_user</code>的操作。
                              </p>
                           </div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-0A2B341F-FDFB-486E-9F93-B2063F82CC13" title="本教程演示了如何创建捕获运行以分析READ ANY TABLE系统特权的使用。">教程：使用Capture运行分析任何特权使用</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-5DAB3004-561B-424C-A473-71000980E578" name="GUID-5DAB3004-561B-424C-A473-71000980E578"></a><h4 id="DBSEG-GUID-5DAB3004-561B-424C-A473-71000980E578" class="sect4">第3步：使用READ ANY TABLE系统权限</h4>
                  <div>
                     <p>用户<code class="codeph">app_user</code>使用<code class="codeph">READ ANY TABLE</code>系统特权。
                     </p>
                     <ol>
                        <li class="stepexpand"><span>以用户<code class="codeph">app_user</code>连接。</span><div><pre class="oac_no_warn" dir="ltr">CONNECT app_user <span class="italic">- 或者，CONNECT app_user @hrpdb</span>输入密码： <span class="italic">password</span>
</pre></div>
                        </li>
                        <li class="stepexpand"><span>查询<code class="codeph">HR.EMPLOYEES</code>表。</span><div><pre class="oac_no_warn" dir="ltr">选择FIRST_NAME，LAST_NAME，来自HR.EMPLOYEES的SALARY&gt; SALER&gt; 12000 OR SALARY DESC; FIRST_NAME LAST_NAME SALARY -------------------- -------------------------  - -------- Steven King 24000 Neena Kochhar 17000 Lex De Haan 17000 John Russell 14000 Karen Partners 13500 Michael Hartstein 13000 Shelley Higgins 12008 Nancy Greenberg 12008</pre></div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-0A2B341F-FDFB-486E-9F93-B2063F82CC13" title="本教程演示了如何创建捕获运行以分析READ ANY TABLE系统特权的使用。">教程：使用Capture运行分析任何特权使用</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-A7FF0521-F296-4821-84F1-3F4580E281A6" name="GUID-A7FF0521-F296-4821-84F1-3F4580E281A6"></a><h4 id="DBSEG-GUID-A7FF0521-F296-4821-84F1-3F4580E281A6" class="sect4">第4步：禁用权限分析策略</h4>
                  <div>
                     <p>您必须先禁用该策略，然后才能生成捕获用户<code class="codeph">app_user</code>操作的<code class="codeph">app_user</code> 。
                     </p>
                     <ol>
                        <li class="stepexpand"><span>以用户<code class="codeph">pa_admin</code>连接。</span><div><pre class="oac_no_warn" dir="ltr">CONNECT pa_admin <span class="italic">- 或者，CONNECT pa_admin @hrpdb</span>输入密码： <span class="italic">password</span>
</pre></div>
                        </li>
                        <li class="stepexpand"><span>禁用<code class="codeph">ANY_priv_analysis_pol</code>权限策略。</span><div><pre class="oac_no_warn" dir="ltr">EXEC DBMS_PRIVILEGE_CAPTURE.DISABLE_CAPTURE（'ANY_priv_analysis_pol'）;</pre></div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-0A2B341F-FDFB-486E-9F93-B2063F82CC13" title="本教程演示了如何创建捕获运行以分析READ ANY TABLE系统特权的使用。">教程：使用Capture运行分析任何特权使用</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-B3D1C54B-9FFB-4376-B767-12A631E3F66D" name="GUID-B3D1C54B-9FFB-4376-B767-12A631E3F66D"></a><h4 id="DBSEG-GUID-B3D1C54B-9FFB-4376-B767-12A631E3F66D" class="sect4">第5步：生成并查看权限分析报告</h4>
                  <div>
                     <p>禁用权限分析策略后，用户<code class="codeph">pa_admin</code>就可以生成并查看权限分析报告。
                     </p>
                     <ol>
                        <li class="stepexpand"><span>作为用户<code class="codeph">pa_admin</code> ，生成权限分析结果。</span><div><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_PRIVILEGE_CAPTURE.GENERATE_RESULT（name =&gt;'ANY_priv_analysis_pol'，run_name =&gt;'ANY_priv_pol_run_1'）;结束; /</pre><p>生成的结果存储在特权分析数据字典视图中。</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>输入以下命令以格式化数据字典视图输出：</span><div><pre class="oac_no_warn" dir="ltr">col用户名格式a10 col sys_priv格式a16 col object_owner格式a13 col object_name格式a23 col run_name格式a27</pre></div>
                        </li>
                        <li class="stepexpand"><span>在特权分析期间，查找<code class="codeph">app_user</code>使用的系统特权以及他使用它们的对象。</span><div><pre class="oac_no_warn" dir="ltr">SELECT SYS_PRIV，OBJECT_OWNER，OBJECT_NAME，RUN_NAME FROM DBA_USED_PRIVS WHERE USERNAME ='APP_USER';</pre><p>输出类似于以下内容。第一行显示<code class="codeph">app_user</code>在<code class="codeph">HR.EMPLOYEES</code>表上使用了<code class="codeph">READ ANY TABLE</code>特权。
                              </p><pre class="oac_no_warn" dir="ltr">SYS_PRIV OBJECT_OWNER OBJECT_NAME RUN_NAME ---------------- ------------- ----------------- ------ ------------------ SYSTEM PRODUCT_PRIVS ANY_PRIV_POL_RUN_1 SYS DUAL ANY_PRIV_POL_RUN_1 SYS DUAL ANY_PRIV_POL_RUN_1创建会话ANY_PRIV_POL_RUN_1 SYS DBMS_APPLICATION_INFO ANY_PRIV_POL_RUN_1读取任何表HR人员ANY_PRIV_POL_RUN_1</pre></div>
                        </li>
                     </ol>
                     <div class="section">在此阶段，即使您将来创建其他捕获运行，权限分析结果仍可在权限分析数据字典视图中使用。</div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-0A2B341F-FDFB-486E-9F93-B2063F82CC13" title="本教程演示了如何创建捕获运行以分析READ ANY TABLE系统特权的使用。">教程：使用Capture运行分析任何特权使用</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-CAFA7DFC-287E-4186-B475-811F5C611121" name="GUID-CAFA7DFC-287E-4186-B475-811F5C611121"></a><h4 id="DBSEG-GUID-CAFA7DFC-287E-4186-B475-811F5C611121" class="sect4">第6步：创建第二次捕获运行</h4>
                  <div>
                     <p>接下来，您可以为<code class="codeph">ANY_priv_analysis_pol</code>权限分析策略创建第二个捕获运行。
                     </p>
                     <ol>
                        <li class="stepexpand"><span>作为用户<code class="codeph">pa_admin</code> ，启用<code class="codeph">ANY_priv_analysis_pol</code>权限分析策略以使用捕获运行<code class="codeph">ANY_priv_pol_run_1</code> 。</span><div><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_PRIVILEGE_CAPTURE.ENABLE_CAPTURE（name =&gt;'ANY_priv_analysis_pol'，run_name =&gt;'ANY_priv_pol_run_2'）;结束; /</pre></div>
                        </li>
                        <li class="stepexpand"><span>以用户<code class="codeph">app_user</code>连接。</span><div><pre class="oac_no_warn" dir="ltr">CONNECT app_user <span class="italic">- 或者，CONNECT app_user @hrpdb</span>输入密码： <span class="italic">password</span>
</pre></div>
                        </li>
                        <li class="stepexpand"><span>查询<code class="codeph">HR.JOBS</code>表。</span><div><pre class="oac_no_warn" dir="ltr">SELECT MAX_SALARY FROM HR.JOBS WHERE MAX_SALARY&gt; 20000;</pre></div>
                        </li>
                        <li class="stepexpand"><span>以用户<code class="codeph">pa_admin</code>连接。</span><div><pre class="oac_no_warn" dir="ltr">CONNECT pa_admin <span class="italic">- 或者，CONNECT pa_admin @hrpdb</span>输入密码： <span class="italic">password</span></pre></div>
                        </li>
                        <li class="stepexpand"><span>禁用<code class="codeph">ANY_priv_analysis_pol</code>权限策略。</span><div><pre class="oac_no_warn" dir="ltr">EXEC DBMS_PRIVILEGE_CAPTURE.DISABLE_CAPTURE（'ANY_priv_analysis_pol'）;</pre></div>
                        </li>
                        <li class="stepexpand"><span>生成第二个权限分析报告。</span><div><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_PRIVILEGE_CAPTURE.GENERATE_RESULT（name =&gt;'ANY_priv_analysis_pol'，run_name =&gt;'ANY_priv_pol_run_2'）;结束; /</pre></div>
                        </li>
                        <li class="stepexpand"><span>在特权分析期间，查找<code class="codeph">app_user</code>使用的系统特权以及他使用它们的对象。</span><div><pre class="oac_no_warn" dir="ltr">SELECT SYS_PRIV，OBJECT_OWNER，OBJECT_NAME，RUN_NAME FROM DBA_USED_PRIVS WHERE USERNAME ='APP_USER'ORDER BY RUN_NAME;</pre><p>出现类似于以下的输出，现在显示用户<code class="codeph">pa_admin</code>创建的两个捕获运行的结果。
                              </p><pre class="oac_no_warn" dir="ltr">SYS_PRIV OBJECT_OWNER OBJECT_NAME RUN_NAME ---------------- ------------- ----------------- ------ ----------------------阅读任何表HR人员ANY_PRIV_POL_RUN_1 SYS DUAL ANY_PRIV_POL_RUN_1创建会话ANY_PRIV_POL_RUN_1 SYS DUAL ANY_PRIV_POL_RUN_1 SYSTEM PRODUCT_PRIVS ANY_PRIV_POL_RUN_1 SYS DBMS_APPLICATION_INFO ANY_PRIV_POL_RUN_1 SYS DUAL ANY_PRIV_POL_RUN_2 SYS DBMS_APPLICATION_INFO ANY_PRIV_POL_RUN_2 SYSTEM PRODUCT_PRIVS ANY_PRIV_POL_RUN_2 SYS DUAL ANY_PRIV_POL_RUN_2 READ ANY TABLE HR JOBS ANY_PRIV_POL_RUN_2</pre></div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-0A2B341F-FDFB-486E-9F93-B2063F82CC13" title="本教程演示了如何创建捕获运行以分析READ ANY TABLE系统特权的使用。">教程：使用Capture运行分析任何特权使用</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-1FA9F206-75C2-4FC9-BA53-A17118A2C934" name="GUID-1FA9F206-75C2-4FC9-BA53-A17118A2C934"></a><h4 id="DBSEG-GUID-1FA9F206-75C2-4FC9-BA53-A17118A2C934" class="sect4">第7步：删除本教程的组件</h4>
                  <div>
                     <p>如果不再需要，可以删除为本教程创建的组件。</p>
                     <ol>
                        <li class="stepexpand"><span>作为用户<code class="codeph">pa_admin</code> ，删除<code class="codeph">ANY_priv_analysis_pol</code>权限分析策略及其关联的捕获运行。</span><div><pre class="oac_no_warn" dir="ltr">EXEC DBMS_PRIVILEGE_CAPTURE.DROP_CAPTURE（'ANY_priv_analysis_pol'）;</pre><p>运行<code class="codeph">DBMS_PRIVILEGE_CAPTURE.DROP_CAPTURE</code>过程时，将自动删除与此策略关联的任何捕获运行。
                              </p>
                              <p>即使在接下来的步骤中您将删除<code class="codeph">pa_admin</code>用户（包括在此用户的架构中创建的任何对象），您必须手动删除<code class="codeph">ANY_priv_analysis_pol</code>权限分析策略，因为此对象驻留在<code class="codeph">SYS</code>架构中。
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>以创建用户帐户的用户身份进行连接。</span><div>
                              <p>例如：</p><pre class="oac_no_warn" dir="ltr">CONNECT sec_admin <span class="italic">- 或者，CONNECT sec_admin @hrpdb</span>输入密码： <span class="italic">password</span>
</pre></div>
                        </li>
                        <li class="stepexpand"><span>删除用户<code class="codeph">pa_admin</code>和<code class="codeph">app_user</code> 。</span><div><pre class="oac_no_warn" dir="ltr">DROP USER pa_admin; DROP USER app_user;</pre></div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-0A2B341F-FDFB-486E-9F93-B2063F82CC13" title="本教程演示了如何创建捕获运行以分析READ ANY TABLE系统特权的使用。">教程：使用Capture运行分析任何特权使用</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-3AA55C7A-CD73-4B28-AE02-9D80A69E8B6E" name="GUID-3AA55C7A-CD73-4B28-AE02-9D80A69E8B6E"></a><h3 id="DBSEG-GUID-3AA55C7A-CD73-4B28-AE02-9D80A69E8B6E" class="sect3">教程：分析具有DBA角色的用户的权限使用</h3>
               <div>
                  <p>本教程演示如何分析具有<code class="codeph">DBA</code>角色的用户的权限使用并执行数据库调整操作。
                  </p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-63EFFFC3-A68E-41B1-95BD-7147A0F53E4A">第1步：创建用户帐户</a><br>您必须创建两个用户，一个用于创建权限分析策略，另一个用户将分析其权限使用。
                     </li>
                     <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-8CEAD3FE-9F33-4E2A-9196-31DBA3E59AD6">第2步：创建并启用权限分析策略</a><br>用户<code class="codeph">pa_admin</code>必须创建并启用权限分析策略。
                     </li>
                     <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-5ED78334-FB5B-4A37-932D-9D5C5CBD2ED4">第3步：执行数据库调整操作</a><br>用户<code class="codeph">tjones</code>使用<code class="codeph">DBA</code>角色执行数据库调整操作。
                     </li>
                     <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-11D7DE54-BCAC-49F7-A92D-FB0F8B9C7A6A">第4步：禁用权限分析策略</a><br>您必须先禁用该策略，然后才能生成捕获用户<code class="codeph">tjones</code>操作的<code class="codeph">tjones</code> 。
                     </li>
                     <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-3BB21726-7D0B-4853-8C44-8A1C9BD8E4B9">第5步：生成和查看权限分析报告</a><br>禁用权限分析策略后，用户<code class="codeph">pa_admin</code>可以生成和查看权限分析报告。
                     </li>
                     <li class="ulchildlink"><a href="performing-privilege-analysis-find-privilege-use.html#GUID-7B824C23-9990-418E-AD33-0D92702EBD3D">第6步：删除本教程的组件</a><br>如果不再需要，可以删除为本教程创建的组件。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-44CB644B-7B59-4B3B-B375-9F9B96F60186" title="权限分析动态分析用户使用和不使用的权限和角色。">执行权限分析以查找权限使用</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="props_rev_3"><a id="GUID-63EFFFC3-A68E-41B1-95BD-7147A0F53E4A" name="GUID-63EFFFC3-A68E-41B1-95BD-7147A0F53E4A"></a><h4 id="DBSEG-GUID-63EFFFC3-A68E-41B1-95BD-7147A0F53E4A" class="sect4">第1步：创建用户帐户</h4>
                  <div>
                     <p>您必须创建两个用户，一个用于创建权限分析策略，另一个用户将分析其权限使用。</p>
                     <ol>
                        <li class="stepexpand"><span>以具有<code class="codeph">CREATE USER</code>系统特权的用户身份登录数据库实例。</span><div>
                              <p>例如：</p><pre class="oac_no_warn" dir="ltr">sqlplus sec_admin输入密码： <span class="italic">密码</span>
</pre><p>在多租户环境中，您必须登录到相应的可插拔数据库（PDB）。</p>
                              <p>例如：</p><pre class="oac_no_warn" dir="ltr">sqlplus sec_admin @hrpdb输入密码： <span class="italic">密码</span>
</pre><p>要查找可用的PDB，请查询<code class="codeph">DBA_PDBS</code>数据字典视图。要检查当前PDB，请运行<code class="codeph">show con_name</code>命令。
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>创建以下用户：</span><div><pre class="oac_no_warn" dir="ltr">CREATE USER pa_admin IDENTIFIED BY <span class="italic">password</span> ; CREATE USER tjones IDENTIFIED BY <span class="italic">password</span> ;</pre></div>
                        </li>
                        <li class="stepexpand"><span>以具有为其他用户授予角色和系统权限的权限的用户身份进行连接，并且已授予谁为Oracle系统权限和角色管理域授予所有者权限。（默认情况下，用户<code class="codeph">SYS</code>具有这些权限。）</span><div>
                              <p>例如：</p><pre class="oac_no_warn" dir="ltr">CONNECT dba_psmith <span class="italic">- 或者，CONNECT dba_psmith @hrpdb</span>输入密码： <span class="italic">password</span>
</pre><p>在SQL * Plus中，已被授予<code class="codeph">DV_OWNER</code>角色的用户可以通过查询<code class="codeph">DBA_DV_REALM_AUTH</code>数据字典视图来检查授权。要授予用户授权，请使用<code class="codeph">DBMS_MACADM.ADD_AUTH_TO_REALM</code>过程。
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>为用户授予以下角色和权限。</span><div><pre class="oac_no_warn" dir="ltr">GRANT CREATE SESSION，CAPTURE_ADMIN TO pa_admin; GRANT CREATE SESSION，DBA to tjones;</pre><p>用户<code class="codeph">pa_admin</code>将创建权限分析策略，该策略将分析用户<code class="codeph">tjones</code>将执行的数据库调整操作。
                              </p>
                           </div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-3AA55C7A-CD73-4B28-AE02-9D80A69E8B6E" title="本教程演示如何分析具有DBA角色的用户的权限使用并执行数据库调整操作。">教程：分析具有DBA角色的用户的权限使用</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-8CEAD3FE-9F33-4E2A-9196-31DBA3E59AD6" name="GUID-8CEAD3FE-9F33-4E2A-9196-31DBA3E59AD6"></a><h4 id="DBSEG-GUID-8CEAD3FE-9F33-4E2A-9196-31DBA3E59AD6" class="sect4">第2步：创建并启用权限分析策略</h4>
                  <div>
                     <p>用户<code class="codeph">pa_admin</code>必须创建并启用权限分析策略。
                     </p>
                     <ol>
                        <li class="stepexpand"><span>以用户<code class="codeph">pa_admin</code>连接。</span><div><pre class="oac_no_warn" dir="ltr">CONNECT pa_admin <span class="italic">- 或者，CONNECT pa_admin @hrpdb</span>输入密码： <span class="italic">password</span>
</pre></div>
                        </li>
                        <li class="stepexpand"><span>创建以下权限分析策略：</span><div><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_PRIVILEGE_CAPTURE.CREATE_CAPTURE（name =&gt;'dba_tuning_priv_analysis_pol'，description =&gt;'Analyses DBA tuning privilege use'，type =&gt; DBMS_PRIVILEGE_CAPTURE.G_CONTEXT，condition =&gt;'SYS_CONTEXT（''USERENV''，''SESSION_USER''）=' 'TJONES' ''）;结束; /</pre><p>在这个例子中：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">type</code>指定由<code class="codeph">condition</code>参数定义的捕获条件的类型，如下所述。在此策略中，类型是基于上下文的条件。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">condition</code>使用布尔表达式指定条件，该布尔表达式必须求值为<code class="codeph">TRUE</code>才能使策略生效。在这种情况下，条件检查会话用户是否为<code class="codeph">tjones</code> 。
                                    </p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                        <li class="stepexpand"><span>启用该策略。</span><div><pre class="oac_no_warn" dir="ltr">EXEC DBMS_PRIVILEGE_CAPTURE.ENABLE_CAPTURE（'dba_tuning_priv_analysis_pol'）;</pre><p>此时，策略已准备好开始记录用户<code class="codeph">tjones</code>的操作。
                              </p>
                           </div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-3AA55C7A-CD73-4B28-AE02-9D80A69E8B6E" title="本教程演示如何分析具有DBA角色的用户的权限使用并执行数据库调整操作。">教程：分析具有DBA角色的用户的权限使用</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-5ED78334-FB5B-4A37-932D-9D5C5CBD2ED4" name="GUID-5ED78334-FB5B-4A37-932D-9D5C5CBD2ED4"></a><h4 id="DBSEG-GUID-5ED78334-FB5B-4A37-932D-9D5C5CBD2ED4" class="sect4">第3步：执行数据库调整操作</h4>
                  <div>
                     <p>用户<code class="codeph">tjones</code>使用<code class="codeph">DBA</code>角色执行数据库调整操作。
                     </p>
                     <ol>
                        <li class="stepexpand"><span>以用户<code class="codeph">tjones</code>连接。</span><div><pre class="oac_no_warn" dir="ltr">CONNECT tjones <span class="italic">- 或者，CONNECT tjones @hrpdb</span>输入密码： <span class="italic">password</span>
</pre></div>
                        </li>
                        <li class="stepexpand"><span>运行以下脚本以创建<code class="codeph">PLAN_TABLE</code>表。</span><div><pre class="oac_no_warn" dir="ltr">@ $ ORACLE_HOME / RDBMS /管理/ utlxplan.sql</pre><p>此脚本的位置可能因操作系统而异。此脚本在<code class="codeph">tjones</code>模式中创建<code class="codeph">PLAN_TABLE</code>表。
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>在<code class="codeph">HR.EMPLOYEES</code>表上运行以下<code class="codeph">EXPLAIN PLAN</code> SQL语句：</span><div><pre class="oac_no_warn" dir="ltr">EXPLAIN PLAN SET STATEMENT_ID ='在东京提升'INTO PLAN_TABLE用于更新HR.EMPLOYEES SET SALARY = SALARY * 1.10在哪里DEPARTMENT_ID =（从HR.DEPARTMENTS中选择DEPARTMENT_ID，其中LOCATION_ID = 110）;</pre><p>接下来，用户<code class="codeph">tjones</code>将分析<code class="codeph">HR.EMPLOYEES</code>表。
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>运行以下任一脚本以创建<code class="codeph">CHAINED_ROWS</code>表</span><div><pre class="oac_no_warn" dir="ltr">@ $ ORACLE_HOME / RDBMS /管理/ UTLCHAIN.SQL</pre><p>要么</p><pre class="oac_no_warn" dir="ltr">@ $ ORACLE_HOME / RDBMS /管理/ utlchn1.sql</pre></div>
                        </li>
                        <li class="stepexpand"><span>在<code class="codeph">HR.EMPLOYEES</code>表上运行<code class="codeph">ANALYZE TABLE</code>语句。</span><div><pre class="oac_no_warn" dir="ltr">分析表HR.EMPLOYEES列出链接到CHAINED_ROWS;</pre></div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-3AA55C7A-CD73-4B28-AE02-9D80A69E8B6E" title="本教程演示如何分析具有DBA角色的用户的权限使用并执行数据库调整操作。">教程：分析具有DBA角色的用户的权限使用</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-11D7DE54-BCAC-49F7-A92D-FB0F8B9C7A6A" name="GUID-11D7DE54-BCAC-49F7-A92D-FB0F8B9C7A6A"></a><h4 id="DBSEG-GUID-11D7DE54-BCAC-49F7-A92D-FB0F8B9C7A6A" class="sect4">第4步：禁用权限分析策略</h4>
                  <div>
                     <p>您必须先禁用该策略，然后才能生成捕获用户<code class="codeph">tjones</code>操作的<code class="codeph">tjones</code> 。
                     </p>
                     <ol>
                        <li class="stepexpand"><span>以用户<code class="codeph">pa_admin</code>连接。</span><div><pre class="oac_no_warn" dir="ltr">CONNECT pa_admin <span class="italic">- 或者，CONNECT pa_admin @hrpdb</span>输入密码： <span class="italic">password</span>
</pre></div>
                        </li>
                        <li class="stepexpand"><span>禁用<code class="codeph">dba_tuning_priv_analysis_pol</code>权限策略。</span><div><pre class="oac_no_warn" dir="ltr">EXEC DBMS_PRIVILEGE_CAPTURE.DISABLE_CAPTURE（'dba_tuning_priv_analysis_pol'）;</pre></div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-3AA55C7A-CD73-4B28-AE02-9D80A69E8B6E" title="本教程演示如何分析具有DBA角色的用户的权限使用并执行数据库调整操作。">教程：分析具有DBA角色的用户的权限使用</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-3BB21726-7D0B-4853-8C44-8A1C9BD8E4B9" name="GUID-3BB21726-7D0B-4853-8C44-8A1C9BD8E4B9"></a><h4 id="DBSEG-GUID-3BB21726-7D0B-4853-8C44-8A1C9BD8E4B9" class="sect4">第5步：生成和查看权限分析报告</h4>
                  <div>
                     <p>禁用权限分析策略后，用户<code class="codeph">pa_admin</code>可以生成和查看权限分析报告。
                     </p>
                     <ol>
                        <li class="stepexpand"><span>作为用户<code class="codeph">pa_admin</code> ，生成权限分析结果。</span><div><pre class="oac_no_warn" dir="ltr">EXEC DBMS_PRIVILEGE_CAPTURE.GENERATE_RESULT（'dba_tuning_priv_analysis_pol'）;</pre><p>生成的结果存储在特权分析数据字典视图中。</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>输入以下命令以格式化数据字典视图输出：</span><div><pre class="oac_no_warn" dir="ltr">col用户名格式a8 col sys_priv格式a18 col used_role格式a20 col路径格式a150 col obj_priv格式a10 col object_owner格式a10 col object_name格式a10 col object_type格式a10</pre></div>
                        </li>
                        <li class="stepexpand"><span>查找用户<code class="codeph">tjones</code>在权限分析期间使用的系统权限和角色。</span><div><pre class="oac_no_warn" dir="ltr">SELECT USERNAME，SYS_PRIV，USED_ROLE，PATH FROM DBA_USED_SYSPRIVS_PATH WHERE USERNAME ='TJONES'Order 1,2,3;</pre><p>输出类似于以下内容：</p><pre class="oac_no_warn" dir="ltr">USERNAME SYS_PRIV USED_ROLE -------- ------------------ -------------------- PATH -------------------------------------------------- ----------------------------- TJONES分析任何IMP_FULL_DATABASE GRANT_PATH（'TJONES'，'DBA'）TJONES分析任何IMP_FULL_DATABASE GRANT_PATH（' TJONES'，'DBA'，'IMP_FULL_DATABASE'）TJONES分析任何IMP_FULL_DATABASE GRANT_PATH（'TJONES'，'DBA'，'DATAPUMP_IMP_FULL_DATABASE'，'IMP_FULL_DATABASE'）......</pre><pre class="oac_no_warn" dir="ltr"></pre></div>
                        </li>
                        <li class="stepexpand"><span>查找用户<code class="codeph">tjones</code>在权限分析期间使用的对象权限和角色。</span><div><pre class="oac_no_warn" dir="ltr">col用户名格式a9 col used_role格式a10 col object_name格式a22 col object_type格式a12 SELECT USERNAME，OBJ_PRIV，USED_ROLE，OBJECT_OWNER，OBJECT_NAME，OBJECT_TYPE FROM DBA_USED_OBJPRIVS WHERE USERNAME ='TJONES'ORDER BY 1,2,3,4,5,6;</pre><p>输出类似于以下内容：</p><pre class="oac_no_warn" dir="ltr">USERNAME OBJ_PRIV USED_ROLE OBJECT_OWN OBJECT_NAME OBJECT_TYPE --------- ---------- ---------- ---------- ----- ----------------- ------------ TJONES EXECUTE PUBLIC SYS DBMS_APPLICATION_INFO PACKAGE TJONES SELECT PUBLIC SYS DUAL TABLE TJONES SELECT PUBLIC SYS DUAL TABLE TJONES SELECT PUBLIC SYSTEM PRODUCT_PRIVS VIEW ...
</pre></div>
                        </li>
                        <li class="stepexpand"><span>查找用户<code class="codeph">tjones</code>的未使用系统权限。</span><div><pre class="oac_no_warn" dir="ltr">col用户名格式a9 col sys_priv格式a35 SELECT USERNAME，SYS_PRIV FROM DBA_UNUSED_SYSPRIVS WHERE USERNAME ='TJONES'Order 1,2; USERNAME SYS_PRIV -------- ------------------------------ TJONES管理任何SQL TUNING SET TJONES ADMINISTER DATABASE TRIGGER TJONES管理员资源管理器TJONES管理员SQL调整设置TJONES改变任何组件TJONES COMMIT REFRESH ...</pre></div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-3AA55C7A-CD73-4B28-AE02-9D80A69E8B6E" title="本教程演示如何分析具有DBA角色的用户的权限使用并执行数据库调整操作。">教程：分析具有DBA角色的用户的权限使用</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-7B824C23-9990-418E-AD33-0D92702EBD3D" name="GUID-7B824C23-9990-418E-AD33-0D92702EBD3D"></a><h4 id="DBSEG-GUID-7B824C23-9990-418E-AD33-0D92702EBD3D" class="sect4">第6步：删除本教程的组件</h4>
                  <div>
                     <p>如果不再需要，可以删除为本教程创建的组件。</p>
                     <ol>
                        <li class="stepexpand"><span>作为用户<code class="codeph">pa_admin</code> ，删除<code class="codeph">dba_tuning_priv_analysis_pol</code>权限分析策略。</span><div><pre class="oac_no_warn" dir="ltr">EXEC DBMS_PRIVILEGE_CAPTURE.DROP_CAPTURE（'dba_tuning_priv_analysis_pol'）;</pre><p>即使在接下来的步骤中您将删除<code class="codeph">pa_admin</code>用户（包括在此用户的架构中创建的任何对象），您必须手动删除<code class="codeph">dba_tuning_priv_analysis_pol</code>权限分析策略，因为此对象驻留在<code class="codeph">SYS</code>架构中。
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>以创建用户帐户的用户身份进行连接。</span><div>
                              <p>例如：</p><pre class="oac_no_warn" dir="ltr">CONNECT sec_admin <span class="italic">- 或者，CONNECT sec_admin @hrpdb</span>输入密码： <span class="italic">password</span>
</pre></div>
                        </li>
                        <li class="stepexpand"><span>删除用户<code class="codeph">pa_admin</code>和<code class="codeph">tjones</code> 。</span><div><pre class="oac_no_warn" dir="ltr">DROP USER pa_admin; DROP USER tjones CASCADE;</pre></div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-3AA55C7A-CD73-4B28-AE02-9D80A69E8B6E" title="本教程演示如何分析具有DBA角色的用户的权限使用并执行数据库调整操作。">教程：分析具有DBA角色的用户的权限使用</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-2F1929EB-8EB5-4678-BBC9-EE4A8056D112" name="GUID-2F1929EB-8EB5-4678-BBC9-EE4A8056D112"></a><h3 id="DBSEG-GUID-2F1929EB-8EB5-4678-BBC9-EE4A8056D112" class="sect3">权限分析策略和报告数据字典视图</h3>
               <div>
                  <p>Oracle数据库提供数据字典视图，显示有关已分析权限的信息。</p>
                  <div class="section">
                     <p><a href="performing-privilege-analysis-find-privilege-use.html#GUID-2F1929EB-8EB5-4678-BBC9-EE4A8056D112__CACIIEGE" title="权限分析数据字典视图">表5-1</a>列出了这些数据字典视图。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-2F1929EB-8EB5-4678-BBC9-EE4A8056D112__CACIIEGE">
                     <p class="titleintable">表5-1显示权限分析信息的数据字典视图</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="显示权限分析信息的数据字典视图" width="100%" border="1" summary="Privilege Analysis Data Dictionary Views" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="46%" id="d56845e8387">视图</th>
                              <th align="left" valign="bottom" width="54%" id="d56845e8390">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="46%" id="d56845e8395" headers="d56845e8387 ">
                                 <p><code class="codeph">DBA_PRIV_CAPTURES</code></p>
                              </td>
                              <td align="left" valign="top" width="54%" headers="d56845e8395 d56845e8390 ">
                                 <p>列出有关现有权限分析策略的信息</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="46%" id="d56845e8403" headers="d56845e8387 ">
                                 <p><code class="codeph">DBA_USED_PRIVS</code></p>
                              </td>
                              <td align="left" valign="top" width="54%" headers="d56845e8403 d56845e8390 ">
                                 <p>列出已用于报告的权限分析策略的权限和捕获运行</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="46%" id="d56845e8411" headers="d56845e8387 ">
                                 <p><code class="codeph">DBA_UNUSED_GRANTS</code></p>
                              </td>
                              <td align="left" valign="top" width="54%" headers="d56845e8411 d56845e8390 ">
                                 <p>列出尚未使用的权限授予</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="46%" id="d56845e8419" headers="d56845e8387 ">
                                 <p><code class="codeph">DBA_UNUSED_PRIVS</code></p>
                              </td>
                              <td align="left" valign="top" width="54%" headers="d56845e8419 d56845e8390 ">
                                 <p>列出尚未用于报告的权限分析策略的权限和捕获运行</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="46%" id="d56845e8427" headers="d56845e8387 ">
                                 <p><code class="codeph">DBA_USED_OBJPRIVS</code></p>
                              </td>
                              <td align="left" valign="top" width="54%" headers="d56845e8427 d56845e8390 ">
                                 <p>列出已用于报告的权限分析策略的对象权限和捕获运行。它不包括对象授予路径。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="46%" id="d56845e8435" headers="d56845e8387 ">
                                 <p><code class="codeph">DBA_UNUSED_OBJPRIVS</code></p>
                              </td>
                              <td align="left" valign="top" width="54%" headers="d56845e8435 d56845e8390 ">
                                 <p>列出对象权限并捕获尚未用于报告的权限分析策略的运行。它不包括对象权限授予路径。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="46%" id="d56845e8443" headers="d56845e8387 ">
                                 <p><code class="codeph">DBA_USED_OBJPRIVS_PATH</code></p>
                              </td>
                              <td align="left" valign="top" width="54%" headers="d56845e8443 d56845e8390 ">
                                 <p>列出已用于报告的权限分析策略的对象权限和捕获运行。它包括对象权限授予路径。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="46%" id="d56845e8451" headers="d56845e8387 ">
                                 <p><code class="codeph">DBA_UNUSED_OBJPRIVS_PATH</code></p>
                              </td>
                              <td align="left" valign="top" width="54%" headers="d56845e8451 d56845e8390 ">
                                 <p>列出对象权限并捕获尚未用于报告的权限分析策略的运行。它包括对象权限授予路径。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="46%" id="d56845e8459" headers="d56845e8387 ">
                                 <p><code class="codeph">DBA_USED_SYSPRIVS</code></p>
                              </td>
                              <td align="left" valign="top" width="54%" headers="d56845e8459 d56845e8390 ">
                                 <p>列出系统特权并捕获已用于报告的特权分析策略的运行。它不包括系统特权授予路径。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="46%" id="d56845e8467" headers="d56845e8387 ">
                                 <p><code class="codeph">DBA_UNUSED_SYSPRIVS</code></p>
                              </td>
                              <td align="left" valign="top" width="54%" headers="d56845e8467 d56845e8390 ">
                                 <p>列出系统权限并捕获尚未用于报告的权限分析策略的运行。它不包括系统特权授予路径。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="46%" id="d56845e8475" headers="d56845e8387 ">
                                 <p><code class="codeph">DBA_USED_SYSPRIVS_PATH</code></p>
                              </td>
                              <td align="left" valign="top" width="54%" headers="d56845e8475 d56845e8390 ">
                                 <p>列出系统特权并捕获已用于报告的特权分析策略的运行。它包括系统特权授予路径。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="46%" id="d56845e8484" headers="d56845e8387 ">
                                 <p><code class="codeph">DBA_UNUSED_SYSPRIVS_PATH</code></p>
                              </td>
                              <td align="left" valign="top" width="54%" headers="d56845e8484 d56845e8390 ">
                                 <p>列出系统权限并捕获尚未用于报告的权限分析策略的运行。它包括系统特权授予路径</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="46%" id="d56845e8492" headers="d56845e8387 ">
                                 <p><code class="codeph">DBA_USED_PUBPRIVS</code></p>
                              </td>
                              <td align="left" valign="top" width="54%" headers="d56845e8492 d56845e8390 ">
                                 <p>列出已用于报告的权限分析策略的<code class="codeph">PUBLIC</code>角色的所有权限和捕获运行</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="46%" id="d56845e8503" headers="d56845e8387 ">
                                 <p><code class="codeph">DBA_USED_USERPRIVS</code></p>
                              </td>
                              <td align="left" valign="top" width="54%" headers="d56845e8503 d56845e8390 ">
                                 <p>列出用户权限并捕获已用于报告的权限分析策略的运行。它不包括用户权限授予路径。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="46%" id="d56845e8511" headers="d56845e8387 ">
                                 <p><code class="codeph">DBA_UNUSED_USERPRIVS</code></p>
                              </td>
                              <td align="left" valign="top" width="54%" headers="d56845e8511 d56845e8390 ">
                                 <p>列出用户权限并捕获尚未用于报告的权限分析策略的运行。它不包括用户权限授予路径。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="46%" id="d56845e8519" headers="d56845e8387 ">
                                 <p><code class="codeph">DBA_USED_USERPRIVS_PATH</code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="54%" headers="d56845e8519 d56845e8390 ">
                                 <p>列出用户权限并捕获已用于报告的权限分析策略的运行。它包括用户权限授予路径。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="46%" id="d56845e8528" headers="d56845e8387 ">
                                 <p><code class="codeph">DBA_UNUSED_USERPRIVS_PATH</code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="54%" headers="d56845e8528 d56845e8390 ">
                                 <p>列出尚未用于报告的权限分析策略的权限和捕获运行。它包括用户权限授予路径。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section"></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="../refrn/static-data-dictionary-views.html#REFRN-GUID-8865F65B-EF6D-44A5-B0A1-3179EFF0C36A" target="_blank"><span><cite>Oracle数据库参考</cite></span></a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="performing-privilege-analysis-find-privilege-use.html#GUID-44CB644B-7B59-4B3B-B375-9F9B96F60186" title="权限分析动态分析用户使用和不使用的权限和角色。">执行权限分析以查找权限使用</a></p>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>