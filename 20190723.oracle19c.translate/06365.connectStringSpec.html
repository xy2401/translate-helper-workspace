<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>connectStringSpec</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Backup and Recovery Reference"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Backup and Recovery Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-backup-and-recovery-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-09T19:31:58-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2003, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96242-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="completedTimeSpec.html" title="Previous" type="text/html"></link>
      <link rel="next" href="datafileSpec.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Backup and Recovery Reference"></meta>
    <meta name="dcterms.isVersionOf" content="RCMRF"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="completedTimeSpec.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="datafileSpec.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">备份和恢复参考</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="rman-subclauses.html" property="item" typeof="WebPage"><span property="name">RMAN子条款</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">connectStringSpec</li>
            </ol>
            <a id="GUID-DAA7D54B-1954-4AA3-A423-E1AB9F68A2FD" name="GUID-DAA7D54B-1954-4AA3-A423-E1AB9F68A2FD"></a><a id="RCMRF90429"></a><a id="RCMRF90430"></a><a id="RCMRF90431"></a><a id="RCMRF90432"></a><a id="RCMRF115"></a>
            
            <h2 id="RCMRF-GUID-DAA7D54B-1954-4AA3-A423-E1AB9F68A2FD" class="sect2"><span class="enumeration_section">4.4</span> connectStringSpec</h2>
         </header>
         <div class="ind">
            <div>
               <div class="section">
                  <p class="subhead1" id="GUID-DAA7D54B-1954-4AA3-A423-E1AB9F68A2FD__GUID-74F828BE-5C6C-46DA-8FB0-1D66829D9C29">目的</p>
                  <p>使用<span class="italic"><code class="codeph">connectStringSpec</code></span>子句指定用于连接到目标，恢复目录或辅助数据库的用户名，密码和网络服务名称。必须连接才能对用户进行身份验证并识别数据库。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-DAA7D54B-1954-4AA3-A423-E1AB9F68A2FD__GUID-E0FB864F-7509-40E1-9566-A90B3496C162">先决条件</p>
                  <p>您必须具有<code class="codeph">SYSBACKUP</code>或<code class="codeph">SYSDBA</code>权限才能<code class="codeph"><a href="CONNECT.html#GUID-64ECF1B8-4F70-413E-BEBE-1D5E8CD48B67">CONNECT</a></code>到目标或辅助数据库。
                  </p>
                  <p>不要以<code class="codeph">SYS</code>用户或具有<code class="codeph">SYSDBA</code>或<code class="codeph">SYSBACKUP</code>权限的用户身份连接到恢复目录数据库。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-DAA7D54B-1954-4AA3-A423-E1AB9F68A2FD__GUID-70B190FA-FCEC-4641-B73E-E1E3778B3CF3">使用说明</p>
                  <p>指定和验证与数据库的RMAN连接的方式与SQL * Plus与数据库的连接相同。唯一的区别是RMAN与目标或辅助数据库的连接需要<a id="d115313e169" class="indexterm-anchor"></a><a id="d115313e171" class="indexterm-anchor"></a> <code class="codeph">SYSBACKUP</code>或<code class="codeph">SYSDBA</code>权限。
                  </p>
                  <p><code class="codeph">SYSBACKUP</code>授予备份和恢复所需的最低权限。它授予对数据库目录视图和动态性能视图的<code class="codeph">SELECT</code>权限，但不授予用户表和视图的权限，例如<code class="codeph">SELECT ANY TABLE</code> 。如果以特权用户身份连接到RMAN（例如具有<code class="codeph">SYSBACKUP</code>权限的<code class="codeph">OE</code> ），则会话的用户名为<code class="codeph">SYSBACKUP</code> 。因此，您没有<code class="codeph">OE</code>或任何其他用户拥有的表和视图的权限。
                  </p>
                  <p>通过在连接字符串中指定<code class="codeph">AS SYSBACKUP</code>进行连接时，使用的默认模式为<code class="codeph">SYSBACKUP</code> ，会话用户名为<code class="codeph">SYSBACKUP</code> ，默认模式为<code class="codeph">SYS</code> 。在所有其他情况下，默认模式为<code class="codeph">SYSDBA</code> ，会话用户名为<code class="codeph">SYS</code> ，默认模式为<code class="codeph">SYS</code> 。</p>
                  <div class="infoboxnotealso" id="GUID-DAA7D54B-1954-4AA3-A423-E1AB9F68A2FD__GUID-E90C07CB-8CA0-46D2-88D9-65E04A22E391">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="../admin/getting-started-with-database-administration.html#ADMIN-GUID-7842AF72-DA25-4559-A8E7-9883D0C63BF2" target="_blank"><span><cite>Oracle数据库管理员指南</cite></span></a> ，了解使用SQL * Plus时的数据库连接选项</p>
                        </li>
                        <li>
                           <p><a href="../bradv/starting-interacting-with-rman-client.html#BRADV8123" target="_blank"><span><cite>Oracle数据库备份和恢复用户指南</cite></span></a> ，了解如何使用<code class="codeph">SYSBACKUP</code>或<code class="codeph">SYSDBA</code>管理权限</p>
                        </li>
                     </ul>
                  </div>
                  <div class="infoboxnote" id="GUID-DAA7D54B-1954-4AA3-A423-E1AB9F68A2FD__GUID-DC9E8CC5-A683-4FCB-B3DB-C49FC4E834AA">
                     <p class="notep1">警告：</p>
                     <p>良好的安全性要求不要在命令行上以纯文本形式输入密码。仅在RMAN提示请求时在RMAN中输入密码。请参阅<a href="../dbseg/configuring-authentication.html#DBSEG0032" target="_blank"><span><cite>Oracle数据库安全指南</cite></span></a>以了解密码保护。
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-DAA7D54B-1954-4AA3-A423-E1AB9F68A2FD__GUID-6B021044-0FFB-4F9B-921F-6CC75C5B535A">句法</p>
                  <p id="GUID-DAA7D54B-1954-4AA3-A423-E1AB9F68A2FD__BABHGJJD"><span class="bold"><span class="italic">connectStringSpec</span> :: =</span></p>
                  <div class="figure" id="GUID-DAA7D54B-1954-4AA3-A423-E1AB9F68A2FD__GUID-575AA9ED-D639-4F14-A884-6CB97DB58E94"><img src="img/connectstringspec.gif" alt="接下来是连接字符串.eps的描述" title="接下来是连接字符串.eps的描述" longdesc="img_text/connectstringspec.html"><br><a href="img_text/connectstringspec.html">插图描述connectionstringspec.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-DAA7D54B-1954-4AA3-A423-E1AB9F68A2FD__GUID-907366F3-1911-477D-AE95-BE77F9E9A38E">语义</p>
                  <div class="tblformalwide" id="GUID-DAA7D54B-1954-4AA3-A423-E1AB9F68A2FD__GUID-504E7433-E004-4209-B29C-9E1E24F6915E">
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="" width="100%" border="1" summary="Describes connectStringSpec subclause parameters" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="29%" id="d115313e281">语法元素</th>
                              <th align="left" valign="bottom" width="71%" id="d115313e284">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d115313e289" headers="d115313e281 ">
                                 <p><code class="codeph">/</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d115313e289 d115313e284 ">
                                 <p>如果在连接到目标数据库时未指定用户标识或密码，则斜杠使用操作系统身份验证使用<code class="codeph">SYSDBA</code>权限建立连接（请参阅<a href="connectStringSpec.html#GUID-DAA7D54B-1954-4AA3-A423-E1AB9F68A2FD__BABIIAIF">示例4-12</a> ）。
                                 </p>
                                 <p>在多租户容器数据库（CDB）中，使用<code class="codeph">SYSDBA</code>权限与根建立连接。
                                 </p>
                                 <p><span class="bold">注意：</span>斜杠取决于特定于平台的环境变量。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d115313e311" headers="d115313e281 ">
                                 <p><span class="italic"><code class="codeph">用户身份</code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d115313e311 d115313e284 ">
                                 <p>为指定用户建立与数据库的连接。</p>
                                 <p>连接到<a id="d115313e321" class="indexterm-anchor"></a><a id="d115313e325" class="indexterm-anchor"></a>在CDB中，用户必须是具有公共<code class="codeph">SYSBACKUP</code>或<code class="codeph">SYSDBA</code>权限的公共用户。
                                 </p>
                                 <p>要连接到<a id="d115313e338" class="indexterm-anchor"></a><a id="d115313e342" class="indexterm-anchor"></a>可插拔数据库（PDB），用户必须是以下之一：</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p>具有通用<code class="codeph">SYSBACKUP</code>或<code class="codeph">SYSDBA</code>权限的普通用户</p>
                                    </li>
                                    <li>
                                       <p>在指定的PDB中具有<code class="codeph">SYSBACKUP</code>或<code class="codeph">SYSDBA</code>权限的公共用户</p>
                                    </li>
                                    <li>
                                       <p>PDB中定义的本地用户，并授予<code class="codeph">SYSBACKUP</code>或<code class="codeph">SYSDBA</code>权限</p>
                                    </li>
                                 </ul>
                                 <p>有关连接到CDB和PDB的示例，请参见“ <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/rcmrf&amp;id=BRADV-GUID-E07231B2-F213-4F8F-8D02-E410A6DAE94C" target="_blank"><span><cite>Oracle数据库备份和恢复用户指南”</cite></span></a> 。
                                 </p>
                                 <p>连接到恢复目录时，请勿使用<code class="codeph">SYSDBA</code>等特权帐户。
                                 </p>
                                 <p><span class="bold">注意：</span>连接字符串不能包含任何空格，但它可以包含标点符号，如斜杠（ <code class="codeph">/</code> ）和at符号（ <code class="codeph">@</code> ）。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d115313e399" headers="d115313e281 ">
                                 <p><code class="codeph">/</code> <span class="italic"><code class="codeph">password</code></span> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d115313e399 d115313e284 ">
                                 <p>使用密码为指定用户建立连接。如果目标数据库未打开，则必须存在密码文件。</p>
                                 <p><span class="bold">警告：</span>在命令行上以纯文本形式输入的密码是一个安全漏洞。而是从命令行中省略密码并输入它以响应提示（参见<a href="connectStringSpec.html#GUID-DAA7D54B-1954-4AA3-A423-E1AB9F68A2FD__BABFGCAI">示例4-11</a> ）。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d115313e417" headers="d115313e281 ">
                                 <p><code class="codeph">@</code> <span class="italic"><code class="codeph">net_service_name</code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d115313e417 d115313e284 ">
                                 <p>通过可选的Oracle Net网络服务名称建立与数据库的连接（请参阅<a href="connectStringSpec.html#GUID-DAA7D54B-1954-4AA3-A423-E1AB9F68A2FD__BABJHEHI">示例4-10</a> ）。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d115313e430" headers="d115313e281 ">
                                 <p><code class="codeph">AS {SYSDBA | SYSBACKUP}</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d115313e430 d115313e284 ">
                                 <p>调用已授予<code class="codeph">/</code>或<span class="italic"><code class="codeph">userid</code></span>的管理权限。连接默认权限不需要此子句。对于表空间时间点恢复（TSPITR），请使用与目标数据库连接相同的模式。省略此子句时， <code class="codeph">SYSDBA</code>用作默认值。
                                 </p>
                                 <p>连接到恢复目录时，请勿使用此子句。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-DAA7D54B-1954-4AA3-A423-E1AB9F68A2FD__GUID-242C9A8D-D890-4B9F-93C7-05C32A0F8719">例子</p>
               </div>
               <!-- class="section" -->
               <div class="example" id="GUID-DAA7D54B-1954-4AA3-A423-E1AB9F68A2FD__BABJHEHI">
                  <p class="titleinexample">示例4-10在没有恢复目录的情况下连接到目标数据库</p>
                  <p>此示例在不指定数据库连接的情况下启动RMAN。<code class="codeph"><a href="CONNECT.html#GUID-64ECF1B8-4F70-413E-BEBE-1D5E8CD48B67">CONNECT</a></code>命令使用默认<code class="codeph">NOCATALOG</code>模式下的Oracle Net服务名称<code class="codeph">PROD</code>连接到目标数据库。 <code class="codeph">sbu</code>是被授予<code class="codeph">SYSBACKUP</code>权限的用户。输入<code class="codeph">sbu</code>密码以响应提示。
                  </p><pre class="oac_no_warn" dir="ltr">％rman RMAN&gt; CONNECT TARGET“sbu @ prod AS SYSBACKUP”目标数据库密码：连接到目标数据库的<span class="italic">密码</span> ：PROD（DBID = 39525561）</pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-DAA7D54B-1954-4AA3-A423-E1AB9F68A2FD__BABFGCAI">
                  <p class="titleinexample">示例4-11在操作系统命令行中连接到目标数据库</p>
                  <p>此示例在操作系统命令行中以用户<code class="codeph">SBU</code>身份连接到目标数据库，但未指定密码。RMAN提示输入密码。
                  </p><pre class="oac_no_warn" dir="ltr">％rman TARGET SBU恢复管理器：版本12.1.0.1.0  - 生产于2013年1月11日星期五09:15:53版权所有（c）1982,2013，Oracle和/或其附属公司。版权所有。目标数据库密码： <span class="italic">密码</span></pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-DAA7D54B-1954-4AA3-A423-E1AB9F68A2FD__BABIIAIF">
                  <p class="titleinexample">示例4-12使用操作系统身份验证连接到目标数据库</p>
                  <p>此示例启动RMAN，然后使用操作系统身份验证连接到目标数据库<code class="codeph">PROD</code> 。该示例还使用网络服务名称连接到恢复目录数据库<code class="codeph">CATDB</code> 。
                  </p><pre class="oac_no_warn" dir="ltr">％rman RMAN&gt; CONNECT TARGET /连接到目标数据库：PROD（DBID = 39525561）RMAN&gt; CONNECT CATALOG rco @ catdb恢复目录数据库密码：连接到恢复目录数据库的<span class="italic">密码</span></pre></div>
               <!-- class="example" -->
            </div>
         </div>
      </article>
   </body>
</html>