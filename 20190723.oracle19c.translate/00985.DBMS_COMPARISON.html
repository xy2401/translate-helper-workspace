<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="The DBMS_COMPARISON package provides interfaces to compare and converge database objects at different databases."></meta>
      <meta name="description" content="The DBMS_COMPARISON package provides interfaces to compare and converge database objects at different databases."></meta>
      <title>DBMS_COMPARISON</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="PL/SQL Packages and Types Reference"></meta>
      <meta property="og:description" content="The DBMS_COMPARISON package provides interfaces to compare and converge database objects at different databases."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="PL/SQL Packages and Types Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-pl-sql-packages-and-types-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-03-25T11:24:34-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96430-03"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="DBMS_CAPTURE_ADM.html" title="Previous" type="text/html"></link>
      <link rel="next" href="DBMS_COMPRESSION.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database PL/SQL Packages and Types Reference"></meta>
    <meta name="dcterms.isVersionOf" content="ARPLS"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="DBMS_CAPTURE_ADM.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="DBMS_COMPRESSION.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">PL / SQL包和类型参考</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">DBMS_COMPARISON</li>
            </ol>
            <a id="GUID-5197C17C-7197-4AE2-844E-8751D75E5879" name="GUID-5197C17C-7197-4AE2-844E-8751D75E5879"></a><a id="ARPLS868"></a><a id="ARPLS868"></a>
            
            <h2 id="ARPLS-GUID-5197C17C-7197-4AE2-844E-8751D75E5879" class="sect2"><span class="enumeration_chapter">34</span> DBMS_COMPARISON</h2>
         </header>
         <div class="ind">
            <div>
               <p><code class="codeph">DBMS_COMPARISON</code>包提供了在不同数据库中比较和聚合数据库对象的接口。
               </p>
               <p>本章包含以下主题：<a id="d173891e89" class="indexterm-anchor"></a><a id="d173891e91" class="indexterm-anchor"></a><a id="d173891e95" class="indexterm-anchor"></a><a id="d173891e99" class="indexterm-anchor"></a><a id="d173891e103" class="indexterm-anchor"></a></p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="DBMS_COMPARISON.html#GUID-EB01DAAB-AF33-415D-B3A0-C13140AFAA4E" title="DBMS_COMPARISON包是Oracle提供的包，可用于比较两个数据库中的数据库对象。此包还使您可以聚合数据库对象，以便它们在不同的数据库中保持一致。通常，此程序包用于在多个数据库中共享数据库对象的环境中。当多个数据库中存在相同数据库对象的副本时，数据库对象是共享数据库对象。多个数据字典视图包含有关使用DBMS_COMPARISON包进行比较的信息。">概观</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_COMPARISON.html#GUID-CEFE5BDC-A6C4-484B-A8E9-A7D838ECDAC7" title="可以通过两种方式之一控制此程序包的安全性。">安全模型</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_COMPARISON.html#GUID-E680EDE7-7B75-46AE-975D-C59547C657FC" title="DBMS_COMPARISON包定义了几个用于指定参数值的枚举常量。枚举常量必须以包名称为前缀。例如，DBMS_COMPARISON.CMP_SCAN_MODE_FULL。">常量</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_COMPARISON.html#GUID-09DE3F0A-C447-48FA-99AE-59150DD86E33" title="DBMS_COMPARISON包使用多个视图。">查看</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_COMPARISON.html#GUID-28FF3FBE-2072-4148-A6C5-B486B4F45816" title="DBMS_COMPARISON包具有某些要求和操作说明。">操作说明</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_COMPARISON.html#GUID-4876F3C2-B410-49DF-8823-38963163D899" title="DBMS_COMPARISON包定义了RECORD类型。">数据结构</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_COMPARISON.html#GUID-A3A896D2-0118-487F-8B66-69CD7810BCA5" title="此表列出了DBMS_COMPARISON子程序并简要描述了它们。">DBMS_COMPARISON子程序摘要</a></p>
                  </li>
               </ul>
            </div><a id="ARPLS65573"></a><a id="ARPLS65573"></a><div class="props_rev_3"><a id="GUID-EB01DAAB-AF33-415D-B3A0-C13140AFAA4E" name="GUID-EB01DAAB-AF33-415D-B3A0-C13140AFAA4E"></a><h3 id="ARPLS-GUID-EB01DAAB-AF33-415D-B3A0-C13140AFAA4E" class="sect3"><span class="enumeration_section">34.1</span> DBMS_COMPARISON概述</h3>
               <div>
                  <p><code class="codeph">DBMS_COMPARISON</code>包是Oracle提供的包，可用于比较两个数据库中的数据库对象。此包还使您可以聚合数据库对象，以便它们在不同的数据库中保持一致。通常，此程序包用于在多个数据库中共享数据库对象的环境中。当多个数据库中存在相同数据库对象的副本时，数据库对象是<span class="bold">共享数据库对象</span> 。多个数据字典视图包含有关使用<code class="codeph">DBMS_COMPARISON</code>包进行比较的信息。
                  </p>
                  <div class="section">
                     <p>共享数据库对象可能由数据复制维护。例如，物化视图或Oracle Streams组件可能会复制数据库对象并将其维护在多个数据库中。自定义应用程序也可能维护共享数据库对象。共享数据库对象时，它可以在共享它的数据库中发散。您可以使用此包来标识共享数据库对象中的差异。确定差异后，您可以选择使用此程序包同步共享数据库对象。</p>
                     <p>要比较在两个不同数据库中共享的数据库对象，请完成以下常规步骤：</p>
                     <ol>
                        <li>
                           <p>运行此程序包中的<a href="DBMS_COMPARISON.html#GUID-04ABD84A-9526-462D-A30B-F086CB6EAF60" title="此过程创建比较。">CREATE_COMPARISON过程</a>以创建<span class="bold">比较</span> 。比较标识要比较的数据库对象，并指定比较参数。
                           </p>
                        </li>
                        <li>
                           <p>运行此程序包中的<a href="DBMS_COMPARISON.html#GUID-E375D97F-ABC9-4F5A-9062-9057A2B2E9C4" title="此函数执行指定的比较。">COMPARE函数</a>以比较两个数据库中的数据库对象并识别差异。当没有找到差异时，此函数返回<code class="codeph">TRUE</code>当找到差异时，此函数返回<code class="codeph">FALSE</code> 。此函数还会使用比较结果填充数据字典视图。为每次执行<code class="codeph">COMPARE</code>功能生成单独的比较结果。
                           </p>
                        </li>
                        <li>
                           <p>如果要检查比较结果，请查询以下数据字典视图：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">DBA_COMPARISON_SCAN</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">USER_COMPARISON_SCAN</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">DBA_COMPARISON_SCAN_VALUES</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">USER_COMPARISON_SCAN_VALUES</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">DBA_COMPARISON_ROW_DIF</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">USER_COMPARISON_ROW_DIF</code></p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p>如果存在差异，并且您希望在两个数据库中同步数据库对象，则在此程序包中运行<code class="codeph">CONVERGE</code>过程。
                           </p>
                        </li>
                     </ol>
                     <p>在<code class="codeph">DBMS_COMPARISON</code>包中创建与<code class="codeph">CREATE_COMPARISON</code>过程的比较后，可以使用<code class="codeph">COMPARE</code>函数随时运行比较。每次运行<code class="codeph">COMPARE</code>函数时，它都会在相应的数据字典视图中记录比较结果。当调用此包中的子程序并指定比较结果中的扫描时，可能会修改比较结果。例如，运行<code class="codeph">RECHECK</code>函数时可能会修改比较结果。
                     </p>
                     <p>单次执行<code class="codeph">COMPARE</code>功能的比较结果可以包括一次或多次<span class="bold">扫描</span> 。扫描会在单个时间点检查共享数据库对象中某些或所有行的差异。您可以多次比较数据库对象，并且唯一的扫描ID可识别比较结果中的每个扫描。
                     </p>
                     <p><span class="bold">存储桶</span>是正在比较的数据库对象中的一系列行。通过将数据库对象拆分为范围并独立比较范围，存储桶可以提高性能。每次比较将要比较的行划分为适当数量的桶，并通过扫描比较每个桶。
                     </p>
                     <p>每次<code class="codeph">COMPARE</code>功能将桶拆分成较小的桶时，它会对较小的桶执行新的扫描。分析较大存储桶的<span class="bold">扫描</span>是每次扫描的<span class="bold">父扫描</span> ，该扫描分析较大存储桶被拆分的较小存储桶。比较结果中的<span class="bold">根扫描</span>是最高级别的父扫描。根扫描没有父级。
                     </p>
                     <p>您可以使用<code class="codeph">RECHECK</code>功能重新检查扫描，并且可以使用<code class="codeph">CONVERGE</code>过程收敛扫描。如果要重新检查或收敛所有行比较结果，请在相应的子程序中指定比较结果的根扫描ID。如果要在比较结果中重新检查或收集部分行，请指定包含差异的扫描的扫描ID。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-CEFE5BDC-A6C4-484B-A8E9-A7D838ECDAC7" name="GUID-CEFE5BDC-A6C4-484B-A8E9-A7D838ECDAC7"></a><h3 id="ARPLS-GUID-CEFE5BDC-A6C4-484B-A8E9-A7D838ECDAC7" class="sect3"><span class="enumeration_section">34.2</span> DBMS_COMPARISON安全模型</h3>
               <div>
                  <p>可以通过两种方式之一控制此程序包的安全性。</p>
                  <div class="section">
                     <ul style="list-style-type:disc">
                        <li>
                           <p>将此程序包上的<code class="codeph">EXECUTE</code>授予选定的用户或角色。
                           </p>
                        </li>
                        <li>
                           <p>向选定的用户或角色授予<code class="codeph">EXECUTE_CATALOG_ROLE</code> 。
                           </p>
                        </li>
                     </ul>
                     <p>如果程序包中的子程序是从存储过程中运行的，则必须直接为程序包授予运行子程序的用户<code class="codeph">EXECUTE</code>特权。它不能通过角色授予。
                     </p>
                     <p><code class="codeph">DBMS_COMPARISON</code>包中的每个子程序都有一个<code class="codeph">comparison_name</code>参数。当前用户必须是指定比较的所有者才能在<code class="codeph">DBMS_COMPARISON</code>包中运行子程序。
                     </p>
                     <p>要运行<code class="codeph">COMPARE</code>函数， <code class="codeph">RECHECK</code>函数或<code class="codeph">CONVERGE</code>过程，以下用户必须对共享数据库对象的每个副本具有<code class="codeph">SELECT</code>或<code class="codeph">READ</code>权限：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>本地数据库中的比较所有者</p>
                        </li>
                        <li>
                           <p>使用数据库链接时，比较所有者通过数据库链接连接的远程数据库中的用户</p>
                        </li>
                     </ul>
                     <p><code class="codeph">CONVERGE</code>过程还需要为数据库中的其中一个用户提供额外的权限，以便对共享数据库对象进行更改。用户必须对此数据库上的共享数据库对象具有<code class="codeph">INSERT</code> ， <code class="codeph">UPDATE</code>和<code class="codeph">DELETE</code>权限。
                     </p>
                     <p>此外，在将<code class="codeph">local_converge_tag</code>或<code class="codeph">remote_converge_tag</code>参数设置为非<code class="codeph">NULL</code>值的情况下运行<code class="codeph">CONVERGE</code>过程时，必须满足以下附加要求：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>如果本地表“wins”，那么<code class="codeph">CONVERGE</code>过程的调用者通过数据库链接连接的远程数据库的用户必须被授予<code class="codeph">DBMS_STREAMS_ADM</code>包的<code class="codeph">EXECUTE_CATALOG_ROLE</code>或<code class="codeph">EXECUTE</code>特权。
                           </p>
                        </li>
                        <li>
                           <p>如果远程表“wins”，则必须在本地数据库上的<code class="codeph">CONVERGE</code>过程的调用者授予<code class="codeph">DBMS_STREAMS_ADM</code>包的<code class="codeph">EXECUTE_CATALOG_ROLE</code>或<code class="codeph">EXECUTE</code>特权。
                           </p>
                        </li>
                     </ul>
                     <div class="infoboxnote" id="GUID-CEFE5BDC-A6C4-484B-A8E9-A7D838ECDAC7__GUID-1F8101D6-BFBB-483D-8597-3C188E8CE684">
                        <p class="notep1">注意：</p>
                        <p>数据库管理员（DBA）可以控制其他用户拥有的某些<code class="codeph">DBMS_COMPARISON</code>功能和过程。此控件适用于<code class="codeph">DROP_COMPARISON</code>和<code class="codeph">PURGE_COMPARISON</code> 。当需要删除由另一个用户创建的比较时，此DBA覆盖在清理操作中特别有用</p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS65575"></a><a id="ARPLS65576"></a><a id="ARPLS65576"></a><a id="ARPLS65575"></a><div class="props_rev_3"><a id="GUID-E680EDE7-7B75-46AE-975D-C59547C657FC" name="GUID-E680EDE7-7B75-46AE-975D-C59547C657FC"></a><h3 id="ARPLS-GUID-E680EDE7-7B75-46AE-975D-C59547C657FC" class="sect3"><span class="enumeration_section">34.3</span> DBMS_COMPARISON常量</h3>
               <div>
                  <p><code class="codeph">DBMS_COMPARISON</code>包定义了几个用于指定参数值的枚举常量。枚举常量必须以包名称为前缀。例如， <code class="codeph">DBMS_COMPARISON.CMP_SCAN_MODE_FULL</code> 。</p>
                  <div class="section">
                     <p><a href="DBMS_COMPARISON.html#GUID-E680EDE7-7B75-46AE-975D-C59547C657FC__CHDIGIAC" title="此表按字母顺序列出了带枚举常量的DBMS_COMPARISON子程序参数，并简要描述了枚举常量。">表34-1</a>列出了参数和枚举常量。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformalwide" id="GUID-E680EDE7-7B75-46AE-975D-C59547C657FC__CHDIGIAC">
                     <p class="titleintable">表34-1具有枚举常量的DBMS_COMPARISON参数</p>
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="具有枚举常量的DBMS_COMPARISON参数" width="100%" border="1" summary="This table lists the DBMS_COMPARISON subprogram parameters with enumerated constants in alphabetical order and briefly describes the enumerated constants." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="24%" id="d173891e738">参数</th>
                              <th align="left" valign="bottom" width="28%" id="d173891e741">选项</th>
                              <th align="left" valign="bottom" width="17%" id="d173891e744">类型</th>
                              <th align="left" valign="bottom" width="31%" id="d173891e747">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="24%" id="d173891e752" headers="d173891e738 ">
                                 <p><code class="codeph">comparison_mode</code></p>
                              </td>
                              <td align="left" valign="top" width="28%" headers="d173891e752 d173891e741 ">
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p><code class="codeph">CMP_COMPARE_MODE_OBJECT</code></p>
                                    </li>
                                 </ul>
                              </td>
                              <td align="left" valign="top" width="17%" headers="d173891e752 d173891e744 ">
                                 <p><code class="codeph">VARCHAR2（30）</code></p>
                              </td>
                              <td align="left" valign="top" width="31%" headers="d173891e752 d173891e747 ">
                                 <p><code class="codeph">CMP_COMPARE_MODE_OBJECT</code>是一个数据库对象。该常量可以指定为<code class="codeph">'OBJECT'</code> 。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="24%" id="d173891e775" headers="d173891e738 ">
                                 <p><code class="codeph">scan_mode</code></p>
                              </td>
                              <td align="left" valign="top" width="28%" headers="d173891e775 d173891e741 ">
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p><code class="codeph">CMP_SCAN_MODE_FULL</code></p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">CMP_SCAN_MODE_RANDOM</code></p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">CMP_SCAN_MODE_CYCLIC</code></p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">CMP_SCAN_MODE_CUSTOM</code></p>
                                    </li>
                                 </ul>
                              </td>
                              <td align="left" valign="top" width="17%" headers="d173891e775 d173891e744 ">
                                 <p><code class="codeph">VARCHAR2（30）</code></p>
                              </td>
                              <td align="left" valign="top" width="31%" headers="d173891e775 d173891e747 ">
                                 <p><code class="codeph">CMP_SCAN_MODE_FULL</code>指示比较整个数据库对象。该常量可以指定为<code class="codeph">'FULL'</code> 。
                                 </p>
                                 <p><code class="codeph">CMP_SCAN_MODE_RANDOM</code>指示比较数据库对象的随机部分。该常量可以指定为<code class="codeph">'RANDOM'</code> 。
                                 </p>
                                 <p><code class="codeph">CMP_SCAN_MODE_CYCLIC</code>指示在执行单个比较时比较数据库对象的一部分。再次比较数据库对象时，将比较数据库对象的另一部分，从最后一次比较结束开始。该常量可以指定为<code class="codeph">'CYCLIC'</code> 。
                                 </p>
                                 <p><code class="codeph">CMP_SCAN_MODE_CUSTOM</code>指示运行子程序的用户指定数据库对象中要比较的范围。该常量可以指定为<code class="codeph">'CUSTOM'</code> 。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="24%" id="d173891e831" headers="d173891e738 ">
                                 <p><code class="codeph">converge_options</code></p>
                              </td>
                              <td align="left" valign="top" width="28%" headers="d173891e831 d173891e741 ">
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p><code class="codeph">CMP_CONVERGE_LOCAL_WINS</code></p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">CMP_CONVERGE_REMOTE_WINS</code></p>
                                    </li>
                                 </ul>
                              </td>
                              <td align="left" valign="top" width="17%" headers="d173891e831 d173891e744 ">
                                 <p><code class="codeph">VARCHAR2（30）</code></p>
                              </td>
                              <td align="left" valign="top" width="31%" headers="d173891e831 d173891e747 ">
                                 <p><code class="codeph">CMP_CONVERGE_LOCAL_WINS</code>指示当这些列值不同时，本地数据库中的列值将替换远程数据库中的列值。该常量可以指定为<code class="codeph">'LOCAL'</code> 。
                                 </p>
                                 <p><code class="codeph">CMP_CONVERGE_REMOTE_WINS</code>指示当这些列值不同时，远程数据库中的列值将替换本地数据库中的列值。该常量可以指定为<code class="codeph">'REMOTE'</code> 。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="24%" id="d173891e865" headers="d173891e738 ">
                                 <p><code class="codeph">null_value</code></p>
                              </td>
                              <td align="left" valign="top" width="28%" headers="d173891e865 d173891e741 ">
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p><code class="codeph">CMP_NULL_VALUE_DEF</code></p>
                                    </li>
                                 </ul>
                              </td>
                              <td align="left" valign="top" width="17%" headers="d173891e865 d173891e744 ">
                                 <p><code class="codeph">VARCHAR2（100）</code></p>
                              </td>
                              <td align="left" valign="top" width="31%" headers="d173891e865 d173891e747 ">
                                 <p><code class="codeph">CMP_NULL_VALUE_DEF</code>表示在比较期间<code class="codeph">ORA$STREAMS$NV</code>替换数据库对象中的<code class="codeph">NULL</code>值。该常量可以指定为<code class="codeph">'ORA$STREAMS$NV'</code> 。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="24%" id="d173891e894" headers="d173891e738 ">
                                 <p><code class="codeph">max_num_buckets</code></p>
                              </td>
                              <td align="left" valign="top" width="28%" headers="d173891e894 d173891e741 ">
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p><code class="codeph">CMP_MAX_NUM_BUCKETS</code></p>
                                    </li>
                                 </ul>
                              </td>
                              <td align="left" valign="top" width="17%" headers="d173891e894 d173891e744 ">
                                 <p><code class="codeph">整数</code></p>
                              </td>
                              <td align="left" valign="top" width="31%" headers="d173891e894 d173891e747 ">
                                 <p><code class="codeph">CMP_MAX_NUM_BUCKETS</code>表示最大桶数为1,000。该常量可以指定为<code class="codeph">1000</code> 。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="24%" id="d173891e917" headers="d173891e738 ">
                                 <p><code class="codeph">min_rows_in_bucket</code></p>
                              </td>
                              <td align="left" valign="top" width="28%" headers="d173891e917 d173891e741 ">
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p><code class="codeph">CMP_MIN_ROWS_IN_BUCKET</code></p>
                                    </li>
                                 </ul>
                              </td>
                              <td align="left" valign="top" width="17%" headers="d173891e917 d173891e744 ">
                                 <p><code class="codeph">整数</code></p>
                              </td>
                              <td align="left" valign="top" width="31%" headers="d173891e917 d173891e747 ">
                                 <p><code class="codeph">CMP_MIN_ROWS_IN_BUCKET</code>表示存储桶中的最小行数为10,000。该常量可以指定为<code class="codeph">10000</code> 。
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="ARPLS65577"></a><a id="ARPLS65577"></a><div class="props_rev_3"><a id="GUID-09DE3F0A-C447-48FA-99AE-59150DD86E33" name="GUID-09DE3F0A-C447-48FA-99AE-59150DD86E33"></a><h3 id="ARPLS-GUID-09DE3F0A-C447-48FA-99AE-59150DD86E33" class="sect3"><span class="enumeration_section">34.4</span> DBMS_COMPARISON视图</h3>
               <div>
                  <p><code class="codeph">DBMS_COMPARISON</code>包使用多个视图。
                  </p>
                  <div class="section">
                     <p>这些视图如下：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">DBA_COMPARISON</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">USER_COMPARISON</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">DBA_COMPARISON_COLUMNS</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">USER_COMPARISON_COLUMNS</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">DBA_COMPARISON_SCAN</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">USER_COMPARISON_SCAN</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">DBA_COMPARISON_SCAN_VALUES</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">USER_COMPARISON_SCAN_VALUES</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">DBA_COMPARISON_ROW_DIF</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">USER_COMPARISON_ROW_DIF</code></p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-09DE3F0A-C447-48FA-99AE-59150DD86E33__GUID-E7670497-C8E5-4384-B9CD-BB97EDF15E93">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="../refrn/static-data-dictionary-views.html#REFRN-GUID-8865F65B-EF6D-44A5-B0A1-3179EFF0C36A" target="_blank"><span><cite>Oracle数据库参考</cite></span></a></p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-28FF3FBE-2072-4148-A6C5-B486B4F45816" name="GUID-28FF3FBE-2072-4148-A6C5-B486B4F45816"></a><h3 id="ARPLS-GUID-28FF3FBE-2072-4148-A6C5-B486B4F45816" class="sect3"><span class="enumeration_section">34.5</span> DBMS_COMPARISON操作说明</h3>
               <div>
                  <p><code class="codeph">DBMS_COMPARISON</code>包具有某些要求和操作说明。
                  </p>
                  <div class="section">
                     <p>这些包括以下内容：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>DBMS_COMPARISON包的Oracle数据库发行版要求</p>
                        </li>
                        <li>
                           <p>DBMS_COMPARISON包的数据库字符集要求</p>
                        </li>
                        <li>
                           <p>DBMS_COMPARISON包的数据库对象要求</p>
                        </li>
                        <li>
                           <p>DBMS_COMPARISON包的索引列要求</p>
                        </li>
                        <li>
                           <p>DBMS_COMPARISON包的数据类型要求</p>
                        </li>
                        <li>
                           <p>只有未更新的Converge行</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-28FF3FBE-2072-4148-A6C5-B486B4F45816__ORACLEDATABASERELEASEREQUIREMENTSFO-C139743B">
                     <p class="subhead2" id="GUID-28FF3FBE-2072-4148-A6C5-B486B4F45816__GUID-1C52C78E-1AF6-446F-BE02-4888A3450299">DBMS_COMPARISON包的Oracle数据库发行版要求</p>
                     <p>在<code class="codeph">DBMS_COMPARISON</code>包中运行子程序时，请满足以下Oracle数据库发行版要求：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>运行<code class="codeph">DBMS_COMPARISON</code>程序包中的子程序的本地数据库必须是Oracle Database <span class="italic">11g</span>第1版（11.1）数据库。
                           </p>
                        </li>
                        <li>
                           <p>远程数据库必须是Oracle数据库<span class="italic">10g</span>第1版（10.1）或更高版本的数据库。此版本之前的Oracle数据库和非Oracle数据库不受支持。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-28FF3FBE-2072-4148-A6C5-B486B4F45816__DATABASECHARACTERSETREQUIREMENTSFOR-C13976C8">
                     <p class="subhead2" id="GUID-28FF3FBE-2072-4148-A6C5-B486B4F45816__GUID-5C7298B9-E9E1-4490-AD70-1326BF47F884">DBMS_COMPARISON包的数据库字符集要求</p>
                     <p>对于包含要比较的数据库对象的数据库，数据库字符集必须相同。</p>
                     <div class="infoboxnotealso" id="GUID-28FF3FBE-2072-4148-A6C5-B486B4F45816__GUID-7CC31EDB-1078-48F8-8049-05EAF02B9754">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="../nlspg/overview-of-globalization-support.html#NLSPG-GUID-4530259E-9CA6-4FC3-A024-3EB6C2D90DAE" target="_blank"><span><cite>“Oracle数据库全球化支持指南”，</cite></span></a>以获取有关数据库字符集</p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-28FF3FBE-2072-4148-A6C5-B486B4F45816__DATABASEOBJECTREQUIREMENTSFORTHEDBM-C1397EBC">
                     <p class="subhead2" id="GUID-28FF3FBE-2072-4148-A6C5-B486B4F45816__GUID-B7B78F96-BE98-4264-9C75-66AF5FA9004D">DBMS_COMPARISON包的数据库对象要求</p>
                     <p><code class="codeph">DBMS_COMPARISON</code>包可以比较以下类型的数据库对象：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>表</p>
                        </li>
                        <li>
                           <p>单表视图</p>
                        </li>
                        <li>
                           <p>物化观点</p>
                        </li>
                        <li>
                           <p>表，单表视图和物化视图的同义词</p>
                        </li>
                     </ul>
                     <p>可以在不同的数据库中比较和聚合不同类型的数据库对象。例如，可以比较一个数据库中的表和另一个数据库中的物化视图，并将其与此包收敛。</p>
                     <p>要在<code class="codeph">DBMS_COMPARISON</code>包中运行子程序，指定的数据库对象在每个数据库中必须具有相同的形状。具体而言，数据库对象在每个数据库中必须具有相同的列数，并且相应列的数据类型必须匹配。
                     </p>
                     <p>如果要比较的数据库对象包含其他数据库对象中不存在的列，则可以通过在比较创建期间排除额外的列来比较数据库对象。使用<code class="codeph">CREATE_COMPARISON</code>过程中的<code class="codeph">column_list</code>参数仅列出两个数据库对象中存在的列。
                     </p>
                     <div class="infoboxnotealso" id="GUID-28FF3FBE-2072-4148-A6C5-B486B4F45816__GUID-D9B7EFF2-FC59-4D95-8FC5-319368852A42">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="DBMS_COMPARISON.html#GUID-04ABD84A-9526-462D-A30B-F086CB6EAF60" title="此过程创建比较。">CREATE_COMPARISON程序</a></p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-28FF3FBE-2072-4148-A6C5-B486B4F45816__INDEXCOLUMNREQUIREMENTSFORTHEDBMS_C-C13980F7">
                     <p class="subhead2" id="GUID-28FF3FBE-2072-4148-A6C5-B486B4F45816__GUID-7C373695-ED1A-4F20-B97D-FC169B0452F9">DBMS_COMPARISON包的索引列要求</p>
                     <p>本节讨论数字，时间戳和间隔列。其中包括以下数据类型：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>数字列具有以下数据类型： <code class="codeph">NUMBER</code> ， <code class="codeph">FLOAT</code> ， <code class="codeph">BINARY_FLOAT</code>和<code class="codeph">BINARY_DOUBLE</code> 。</p>
                        </li>
                        <li>
                           <p>时间戳列具有以下数据类型： <code class="codeph">TIMESTAMP</code> ， <code class="codeph">TIMESTAMP</code> <code class="codeph">WITH</code> <code class="codeph">TIME</code> <code class="codeph">ZONE</code>和<code class="codeph">TIMESTAMP</code> <code class="codeph">WITH</code> <code class="codeph">LOCAL</code> <code class="codeph">TIME</code> <code class="codeph">ZONE</code></p>
                        </li>
                        <li>
                           <p>间隔列有以下几种数据类型： <code class="codeph">INTERVAL</code> <code class="codeph">YEAR</code> <code class="codeph">TO</code> <code class="codeph">MONTH</code>和<code class="codeph">INTERVAL</code> <code class="codeph">DAY</code> <code class="codeph">TO</code> <code class="codeph">SECOND</code> 。</p>
                        </li>
                     </ul>
                     <p>对于<code class="codeph">DBMS_COMPARISON</code>程序包支持的所有扫描模式，数据库对象必须具有以下类型的索引之一：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>数字，时间戳，间隔或<code class="codeph">DATE</code>数据类型列上的单列索引</p>
                        </li>
                        <li>
                           <p>仅包含数字，时间戳，间隔或<code class="codeph">DATE</code>数据类型列的组合索引。复合索引中的每一列必须具有<code class="codeph">NOT</code> <code class="codeph">NULL</code>约束或者是主键的一部分。
                           </p>
                        </li>
                     </ul>
                     <p>对于支持扫描模式<code class="codeph">CMP_SCAN_MODE_FULL</code>和<code class="codeph">CMP_SCAN_MODE_CUSTOM</code> ，数据库对象必须具有以下类型的索引之一：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>数字，时间戳，间隔， <code class="codeph">DATE</code> ， <code class="codeph">VARCHAR2</code>或<code class="codeph">CHAR</code>数据类型列上的单列索引</p>
                        </li>
                        <li>
                           <p>仅包含数字，时间戳，间隔， <code class="codeph">DATE</code> ， <code class="codeph">VARCHAR2</code>或<code class="codeph">CHAR</code>列的组合索引。复合索引中的每一列必须具有<code class="codeph">NOT</code> <code class="codeph">NULL</code>约束或者是主键的一部分。
                           </p>
                        </li>
                     </ul>
                     <p>如果数据库对象没有这些类型的索引之一，则<code class="codeph">DBMS_COMPARISON</code>包不支持数据库对象。例如，如果数据库对象在<code class="codeph">NVARCHAR2</code>列上只有一个索引，则<code class="codeph">DBMS_COMPARISON</code>包不支持它们。或者，如果数据库对象只有一个索引，并且它是包含<code class="codeph">NUMBER</code>列和<code class="codeph">NCHAR</code>列的复合索引，则<code class="codeph">DBMS_COMPARISON</code>包不支持它们。
                     </p>
                     <p>使用<code class="codeph">CREATE_COMPARISON</code>过程中的<code class="codeph">index_schema_name</code>和<code class="codeph">index_name</code>参数创建比较时，可以指定索引。如果指定索引，请确保索引中的列满足用于比较的扫描模式的要求。
                     </p>
                     <p>比较中的索引列必须唯一标识比较中涉及的每一行。以下约束满足此要求：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>主键约束</p>
                        </li>
                        <li>
                           <p>对一个或多个非<code class="codeph">NULL</code>列的唯一约束</p>
                        </li>
                     </ul>
                     <p>如果表上不存在这些约束，则使用<code class="codeph">CREATE_COMPARISON</code>过程中的<code class="codeph">index_schema_name</code>和<code class="codeph">index_name</code>参数指定其列满足此要求的索引。
                     </p>
                     <p>当单个索引值同时标识本地行和远程行时，这两行必须是复制表中同一行的副本。此外，同一行的每对副本必须始终具有相同的索引值。</p>
                     <p>所述<code class="codeph">DBMS_COMPARISON</code>包可以使用索引仅当所有在索引列被包括在<code class="codeph">column_list</code>参数当与被创建的比较<code class="codeph">CREATE_COMPARISON</code>过程。
                     </p>
                     <p>创建比较后，您可以通过运行以下查询来确定它的索引列：</p><pre class="oac_no_warn" dir="ltr">SELECT COLUMN_NAME，COLUMN_POSITION FROM DBA_COMPARISON_COLUMNS，其中COMPARISON_NAME ='COMPARE_CUSTOM'和INDEX_COLUMN ='Y';</pre><p>如果有多个索引列，则<code class="codeph">COLUMN_POSITION</code>的索引<code class="codeph">COLUMN_POSITION</code> <code class="codeph">1</code> ，是复合索引中的前导索引列。
                     </p>
                     <div class="infoboxnotealso" id="GUID-28FF3FBE-2072-4148-A6C5-B486B4F45816__GUID-A3C84CF2-8BB7-44DA-A8B9-66D6973B6AC9">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>有关扫描模式信息的<span class="q">“ <a href="DBMS_COMPARISON.html#GUID-E680EDE7-7B75-46AE-975D-C59547C657FC" title="DBMS_COMPARISON包定义了几个用于指定参数值的枚举常量。枚举常量必须以包名称为前缀。例如，DBMS_COMPARISON.CMP_SCAN_MODE_FULL。">常量</a> ”</span></p>
                           </li>
                           <li>
                              <p><a href="DBMS_COMPARISON.html#GUID-04ABD84A-9526-462D-A30B-F086CB6EAF60" title="This procedure creates a comparison.">CREATE_COMPARISON</a>有关指定比较索引的信息的<a href="DBMS_COMPARISON.html#GUID-04ABD84A-9526-462D-A30B-F086CB6EAF60" title="此过程创建比较。">过程</a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-28FF3FBE-2072-4148-A6C5-B486B4F45816__DATATYPEREQUIREMENTSFORTHEDBMS_COMP-C13983CB">
                     <p class="subhead2" id="GUID-28FF3FBE-2072-4148-A6C5-B486B4F45816__GUID-2A557994-6EB0-4B2D-AB2E-9D5383945C54">DBMS_COMPARISON包的数据类型要求</p>
                     <p><code class="codeph">DBMS_COMPARISON</code>包可以比较以下数据类型的列中的数据：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">VARCHAR2</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">NVARCHAR2</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">数</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">浮动</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">日期</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">BINARY_FLOAT</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">BINARY_DOUBLE</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">TIMESTAMP</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">TIMESTAMP</code> <code class="codeph">WITH</code> <code class="codeph">TIME</code> <code class="codeph">ZONE</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">TIMESTAMP</code> <code class="codeph">WITH</code> <code class="codeph">LOCAL</code> <code class="codeph">TIME</code> <code class="codeph">ZONE</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">INTERVAL</code> <code class="codeph">YEAR</code> <code class="codeph">TO</code> <code class="codeph">MONTH</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">INTERVAL</code> <code class="codeph">DAY</code> <code class="codeph">TO</code> <code class="codeph">SECOND</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">生的</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">CHAR</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">NCHAR</code></p>
                        </li>
                     </ul>
                     <p>如果比较具有数据类型<code class="codeph">TIMESTAMP</code> <code class="codeph">WITH</code> <code class="codeph">LOCAL</code> <code class="codeph">TIME</code> <code class="codeph">ZONE</code>的列，则两个数据库必须使用相同的时区。此外，如果比较具有数据类型<code class="codeph">NVARCHAR2</code>或<code class="codeph">NCHAR</code>的列，则两个数据库必须使用相同的国家字符集。
                     </p>
                     <p><code class="codeph">DBMS_COMPARISON</code>包无法比较以下数据类型的列中的数据：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">长</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">LONG</code> <code class="codeph">RAW</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ROWID</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">UROWID</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">CLOB</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">NCLOB</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">BLOB</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">BFILE</code></p>
                        </li>
                        <li>
                           <p>用户定义的类型（包括对象类型， <code class="codeph">REF</code> ，varrays和嵌套表）</p>
                        </li>
                        <li>
                           <p>Oracle提供的类型（包括任何类型，XML类型，空间类型和媒体类型）</p>
                        </li>
                     </ul>
                     <p>通过在比较创建期间排除不受支持的列，可以比较包含不受支持的列的数据库对象。使用<code class="codeph">CREATE_COMPARISON</code>过程中的<code class="codeph">column_list</code>参数仅列出共享数据库对象中支持的列。
                     </p>
                     <div class="infoboxnotealso" id="GUID-28FF3FBE-2072-4148-A6C5-B486B4F45816__GUID-99714006-B975-4A28-B415-F8B098507C1A">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="DBMS_COMPARISON.html#GUID-04ABD84A-9526-462D-A30B-F086CB6EAF60" title="此过程创建比较。">CREATE_COMPARISON程序</a></p>
                           </li>
                           <li>
                              <p>有关数据类型的详细信息，请<a href="../sqlrf/Basic-Elements-of-Oracle-SQL.html#SQLRF002" target="_blank"><span class="italic">参见Oracle数据库SQL语言参考</span></a></p>
                           </li>
                           <li>
                              <p>有关国家字符集的信息，请<a href="../nlspg/overview-of-globalization-support.html#NLSPG-GUID-4530259E-9CA6-4FC3-A024-3EB6C2D90DAE" target="_blank"><span><cite>参见“Oracle数据库全球化支持指南</cite></span></a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-28FF3FBE-2072-4148-A6C5-B486B4F45816__ONLYCONVERGEROWSTHATARENOTBEINGUPDA-C13986A5">
                     <p class="subhead2" id="GUID-28FF3FBE-2072-4148-A6C5-B486B4F45816__GUID-6322BCAC-FC74-446F-A7E4-D050F2C9574F">只有未更新的Converge行</p>
                     <p>您应该只汇聚在任一数据库上未更新的行。例如，如果复制组件更新了共享数据库对象，则只汇聚已应用复制更改的行，并确保在为这些行复制的过程中没有新的更改。如果比较复制的数据库对象，则通常最好在很少或没有复制活动的时间比较它们，以识别持久性差异。</p>
                     <div class="infoboxnote" id="GUID-28FF3FBE-2072-4148-A6C5-B486B4F45816__GUID-5725AE5B-8AE7-40CE-82A4-BAE6BF83453C">
                        <p class="notep1">注意：</p>
                        <p>如果扫描在两个数据库中识别共享数据库对象中的行不同，并且在扫描后修改了该行，则在运行<code class="codeph">CONVERGE</code>过程后，该行可能会导致行中出现意外数据。
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS65584"></a><a id="ARPLS65584"></a><div class="props_rev_3"><a id="GUID-4876F3C2-B410-49DF-8823-38963163D899" name="GUID-4876F3C2-B410-49DF-8823-38963163D899"></a><h3 id="ARPLS-GUID-4876F3C2-B410-49DF-8823-38963163D899" class="sect3"><span class="enumeration_section">34.6</span> DBMS_COMPARISON数据结构</h3>
               <div>
                  <p><code class="codeph">DBMS_COMPARISON</code>包定义了<code class="codeph">RECORD</code>类型。
                  </p>
                  <div class="section">
                     <p>包含<code class="codeph">DBMS_COMPARISON</code>包中的<code class="codeph">COMPARE</code>函数或<code class="codeph">CONVERGE</code>过程返回的信息。
                     </p>
                     <div class="infoboxnote" id="GUID-4876F3C2-B410-49DF-8823-38963163D899__GUID-EC74EC55-E6BA-49B8-9E92-65989D2438C4">
                        <p class="notep1">注意：</p>
                        <p><code class="codeph">COMPARE</code>函数仅返回<code class="codeph">scan_id</code>字段的值。
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div><a id="ARPLS65585"></a><a id="ARPLS65585"></a><div class="props_rev_3"><a id="GUID-DD41738D-2CF5-4831-BAD0-765F09B0FB10" name="GUID-DD41738D-2CF5-4831-BAD0-765F09B0FB10"></a><h4 id="ARPLS-GUID-DD41738D-2CF5-4831-BAD0-765F09B0FB10" class="sect4"><span class="enumeration_section">34.6.1</span> COMPARISON_TYPE记录类型</h4>
                  <div>
                     <p>此记录类型包含<code class="codeph">DBMS_COMPARISON</code>包中的<code class="codeph">COMPARE</code>函数或<code class="codeph">CONVERGE</code>过程返回的信息。
                     </p>
                     <div class="section">
                        <div class="infoboxnote" id="GUID-DD41738D-2CF5-4831-BAD0-765F09B0FB10__GUID-EC74EC55-E6BA-49B8-9E92-65989D2438C4">
                           <p class="notep1">注意：</p>
                           <p><code class="codeph">COMPARE</code>函数仅返回<code class="codeph">scan_id</code>字段的值。
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-DD41738D-2CF5-4831-BAD0-765F09B0FB10__GUID-8469D326-605D-4CDF-9A51-7AC75A7C40BD">句法</p><pre class="oac_no_warn" dir="ltr">TYPE COMPARISON_TYPE是RECORD（scan_id NUMBER，loc_rows_merged NUMBER，rmt_rows_merged NUMBER，loc_rows_deleted NUMBER，rmt_rows_deleted NUMBER）;</pre></div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-DD41738D-2CF5-4831-BAD0-765F09B0FB10__GUID-D607458A-2A20-4EB8-A9BB-61ACA50B9D3B">
                        <p class="titleintable">表34-2 COMPARISON_TYPE属性</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="COMPARISON_TYPE属性" width="100%" border="1" summary="This table describes the fields of the Record type COMPARISON_TYPE and briefly describes them." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="25%" id="d173891e2021">领域</th>
                                 <th align="left" valign="bottom" width="75%" id="d173891e2024">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d173891e2029" headers="d173891e2021 ">
                                    <p><code class="codeph">SCAN_ID</code></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d173891e2029 d173891e2024 ">
                                    <p>扫描的扫描ID</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d173891e2037" headers="d173891e2021 ">
                                    <p><code class="codeph">loc_rows_merged</code></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d173891e2037 d173891e2024 ">
                                    <p>使用远程站点上的数据库对象中的信息更新本地数据库对象中的行数</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d173891e2045" headers="d173891e2021 ">
                                    <p><code class="codeph">rmt_rows_merged</code></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d173891e2045 d173891e2024 ">
                                    <p>远程站点上更新的数据库对象中的行数，以及来自本地站点的数据库对象的信息</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d173891e2053" headers="d173891e2021 ">
                                    <p><code class="codeph">loc_rows_deleted</code></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d173891e2053 d173891e2024 ">
                                    <p>从本地数据库对象中删除的行数</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d173891e2061" headers="d173891e2021 ">
                                    <p><code class="codeph">rmt_rows_deleted</code></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d173891e2061 d173891e2024 ">
                                    <p>从远程数据库对象中删除的行数</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
               </div>
            </div><a id="ARPLS869"></a><a id="ARPLS65589"></a><a id="ARPLS65589"></a><a id="ARPLS869"></a><div class="props_rev_3"><a id="GUID-A3A896D2-0118-487F-8B66-69CD7810BCA5" name="GUID-A3A896D2-0118-487F-8B66-69CD7810BCA5"></a><h3 id="ARPLS-GUID-A3A896D2-0118-487F-8B66-69CD7810BCA5" class="sect3"><span class="enumeration_section">34.7</span> DBMS_COMPARISON子程序摘要</h3>
               <div>
                  <p>此表列出了<code class="codeph">DBMS_COMPARISON</code>子程序并简要描述了它们。
                  </p>
                  <div class="tblformal" id="GUID-A3A896D2-0118-487F-8B66-69CD7810BCA5__GUID-E98AA273-34B4-4109-A76D-5D9982034D1D">
                     <p class="titleintable">表34-3 DBMS_COMPARISON包子程序</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_COMPARISON包子程序" width="100%" border="1" summary="This table lists the DBMS_COMPARISON subprograms in alphabetical order and briefly describes them." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="45%" id="d173891e2175">子程序</th>
                              <th align="left" valign="bottom" width="55%" id="d173891e2178">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="45%" id="d173891e2183" headers="d173891e2175 ">
                                 <p><a href="DBMS_COMPARISON.html#GUID-E375D97F-ABC9-4F5A-9062-9057A2B2E9C4" title="此函数执行指定的比较。">比较功能</a></p>
                              </td>
                              <td align="left" valign="top" width="55%" headers="d173891e2183 d173891e2178 ">
                                 <p>执行指定的比较</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="45%" id="d173891e2195" headers="d173891e2175 ">
                                 <p><a href="DBMS_COMPARISON.html#GUID-449EB946-6489-4BD9-88E9-6B5A151CF24E" title="此过程执行数据操作语言（DML）更改，以同步在指定扫描中比较的数据库对象部分。">CONVERGE程序</a></p>
                              </td>
                              <td align="left" valign="top" width="55%" headers="d173891e2195 d173891e2178 ">
                                 <p>执行数据操作语言（DML）更改以同步在指定扫描中比较的数据库对象部分</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="45%" id="d173891e2207" headers="d173891e2175 ">
                                 <p><a href="DBMS_COMPARISON.html#GUID-04ABD84A-9526-462D-A30B-F086CB6EAF60" title="此过程创建比较。">CREATE_COMPARISON程序</a></p>
                              </td>
                              <td align="left" valign="top" width="55%" headers="d173891e2207 d173891e2178 ">
                                 <p>创建一个比较</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="45%" id="d173891e2219" headers="d173891e2175 ">
                                 <p><a href="DBMS_COMPARISON.html#GUID-3EF8D0BA-4E57-4ACB-B3D3-0F5D44CCC197" title="此过程将进行比较。">DROP_COMPARISON程序</a></p>
                              </td>
                              <td align="left" valign="top" width="55%" headers="d173891e2219 d173891e2178 ">
                                 <p>下降比较</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="45%" id="d173891e2231" headers="d173891e2175 ">
                                 <p><a href="DBMS_COMPARISON.html#GUID-77130B31-1F24-4EFE-A439-BDFCEB5987E0" title="此过程清除比较结果或比较结果的子集，以进行比较。">PURGE_COMPARISON程序</a></p>
                              </td>
                              <td align="left" valign="top" width="55%" headers="d173891e2231 d173891e2178 ">
                                 <p>清除比较结果或比较结果的子集，以进行比较</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="45%" id="d173891e2243" headers="d173891e2175 ">
                                 <p><a href="DBMS_COMPARISON.html#GUID-509AA61C-9EB4-4897-893F-BBAAF1B226B4" title="此功能将重新检查指定扫描中的差异以进行比较。">RECHECK功能</a></p>
                              </td>
                              <td align="left" valign="top" width="55%" headers="d173891e2243 d173891e2178 ">
                                 <p>重新检查指定扫描中的差异以进行比较</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div><a id="ARPLS870"></a><a id="ARPLS65590"></a><a id="ARPLS65590"></a><a id="ARPLS870"></a><div class="props_rev_3"><a id="GUID-E375D97F-ABC9-4F5A-9062-9057A2B2E9C4" name="GUID-E375D97F-ABC9-4F5A-9062-9057A2B2E9C4"></a><h4 id="ARPLS-GUID-E375D97F-ABC9-4F5A-9062-9057A2B2E9C4" class="sect4"><span class="enumeration_section">34.7.1</span>比较功能</h4>
                  <div>
                     <p>此函数执行指定的比较。</p>
                     <div class="section">
                        <p>每次执行比较时，都会导致至少一次新扫描，并且每次扫描都具有唯一的扫描ID。您可以使用<code class="codeph">CREATE_COMPARISON</code>过程定义和命名比较。
                        </p>
                        <div class="infoboxnotealso" id="GUID-E375D97F-ABC9-4F5A-9062-9057A2B2E9C4__GUID-1E705E51-6CD6-41FB-A468-2A788E0336EF">
                           <p class="notep1">也可以看看：</p>
                           <p></p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="q">“ <a href="DBMS_COMPARISON.html#GUID-EB01DAAB-AF33-415D-B3A0-C13140AFAA4E" title="DBMS_COMPARISON包是Oracle提供的包，可用于比较两个数据库中的数据库对象。此包还使您可以聚合数据库对象，以便它们在不同的数据库中保持一致。通常，此程序包用于在多个数据库中共享数据库对象的环境中。当多个数据库中存在相同数据库对象的副本时，数据库对象是共享数据库对象。多个数据字典视图包含有关使用DBMS_COMPARISON包进行比较的信息。">概述</a> ”</span></p>
                              </li>
                              <li>
                                 <p><a href="DBMS_COMPARISON.html#GUID-04ABD84A-9526-462D-A30B-F086CB6EAF60" title="此过程创建比较。">CREATE_COMPARISON程序</a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E375D97F-ABC9-4F5A-9062-9057A2B2E9C4__GUID-6E106302-3234-47AD-82A8-006BAB619462">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_COMPARISON.COMPARE（comparison_name IN VARCHAR2，scan_info OUT COMPARISON_TYPE，min_value IN VARCHAR2 DEFAULT NULL，max_value IN VARCHAR2 DEFAULT NULL，perform_row_dif IN BOOLEAN DEFAULT FALSE）RETURN BOOLEAN;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E375D97F-ABC9-4F5A-9062-9057A2B2E9C4__GUID-83DA03BC-4022-4ADD-9EC0-C17CB88725D1">参数</p>
                        <div class="tblformal" id="GUID-E375D97F-ABC9-4F5A-9062-9057A2B2E9C4__GUID-BCA736EE-17E4-44E5-A8F2-B90BF07EDD8D">
                           <p class="titleintable">表34-4 COMPARE功能参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="比较功能参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_COMPARISON.COMPARE subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="23%" id="d173891e2399">参数</th>
                                    <th align="left" valign="bottom" width="77%" id="d173891e2402">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d173891e2407" headers="d173891e2399 ">
                                       <p><code class="codeph">comparison_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="77%" headers="d173891e2407 d173891e2402 ">
                                       <p>比较的名称。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d173891e2415" headers="d173891e2399 ">
                                       <p><code class="codeph">scan_info</code></p>
                                    </td>
                                    <td align="left" valign="top" width="77%" headers="d173891e2415 d173891e2402 ">
                                       <p>有关<code class="codeph">COMPARISON_TYPE</code>数据类型返回的比较操作的信息。
                                       </p>
                                       <p>请参见<a href="DBMS_COMPARISON.html#GUID-DD41738D-2CF5-4831-BAD0-765F09B0FB10" title="此记录类型包含DBMS_COMPARISON包中的COMPARE函数或CONVERGE过程返回的信息。">COMPARISON_TYPE记录类型</a> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d173891e2444" headers="d173891e2399 ">
                                       <p><code class="codeph">MIN_VALUE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="77%" headers="d173891e2444 d173891e2402 ">
                                       <p>当比较的扫描模式设置为<code class="codeph">CMP_SCAN_MODE_CUSTOM</code> ，请为要比较的行范围指定最小索引列值。要确定比较的索引列，请查询<code class="codeph">DBA_COMPARISON_COLUMNS</code>数据字典视图。用于复合指数，指定用于与所述列中的值<code class="codeph">column_position</code>等于<code class="codeph">1</code>在<code class="codeph">DBA_COMPARISON_COLUMNS</code>视图。请参阅<a href="DBMS_COMPARISON.html#GUID-28FF3FBE-2072-4148-A6C5-B486B4F45816" title="DBMS_COMPARISON包具有某些要求和操作说明。">DBMS_COMPARISON操作说明</a>下的索引列要求。
                                       </p>
                                       <p>如果扫描模式设置为<code class="codeph">CMP_SCAN_MODE_CUSTOM</code>以外的值，则此参数必须设置为<code class="codeph">NULL</code> 。</p>
                                       <p>如果为<code class="codeph">NULL</code>且<code class="codeph">scan_mode</code>参数设置为<code class="codeph">CMP_SCAN_MODE_CUSTOM</code> ，则会引发错误。
                                       </p>
                                       <p>要确定比较的扫描模式，请查询<code class="codeph">DBA_COMPARISON</code>数据字典视图。
                                       </p>
                                       <p>有关扫描模式的信息，请参阅<a href="DBMS_COMPARISON.html#GUID-E680EDE7-7B75-46AE-975D-C59547C657FC" title="DBMS_COMPARISON包定义了几个用于指定参数值的枚举常量。枚举常量必须以包名称为前缀。例如，DBMS_COMPARISON.CMP_SCAN_MODE_FULL。">DBMS_COMPARISON常量</a> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d173891e2517" headers="d173891e2399 ">
                                       <p><code class="codeph">MAX_VALUE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="77%" headers="d173891e2517 d173891e2402 ">
                                       <p>当比较的扫描模式设置为<code class="codeph">CMP_SCAN_MODE_CUSTOM</code> ，请指定要比较的行范围的最大索引列值。要确定比较的索引列，请查询<code class="codeph">DBA_COMPARISON_COLUMNS</code>数据字典视图。用于复合指数，指定用于与所述列中的值<code class="codeph">column_position</code>等于<code class="codeph">1</code>在<code class="codeph">DBA_COMPARISON_COLUMNS</code>视图。请参阅<a href="DBMS_COMPARISON.html#GUID-28FF3FBE-2072-4148-A6C5-B486B4F45816" title="DBMS_COMPARISON包具有某些要求和操作说明。">DBMS_COMPARISON操作说明</a>下的索引列要求。
                                       </p>
                                       <p>如果扫描模式设置为<code class="codeph">CMP_SCAN_MODE_CUSTOM</code>以外的值，则此参数必须设置为<code class="codeph">NULL</code> 。</p>
                                       <p>如果为<code class="codeph">NULL</code>且scan_mode参数设置为<code class="codeph">CMP_SCAN_MODE_CUSTOM</code> ，则会引发错误。
                                       </p>
                                       <p>要确定比较的扫描模式，请查询<code class="codeph">DBA_COMPARISON</code>数据字典视图。
                                       </p>
                                       <p>有关扫描模式的信息，请参阅<a href="DBMS_COMPARISON.html#GUID-E680EDE7-7B75-46AE-975D-C59547C657FC" title="DBMS_COMPARISON包定义了几个用于指定参数值的枚举常量。枚举常量必须以包名称为前缀。例如，DBMS_COMPARISON.CMP_SCAN_MODE_FULL。">DBMS_COMPARISON常量</a> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d173891e2587" headers="d173891e2399 ">
                                       <p><code class="codeph">perform_row_dif</code></p>
                                    </td>
                                    <td align="left" valign="top" width="77%" headers="d173891e2587 d173891e2402 ">
                                       <p>如果为<code class="codeph">TRUE</code> ，则在达到用于比较的最小可能桶之后，在比较的数据库对象中单独比较每一行。
                                       </p>
                                       <p>如果为<code class="codeph">FALSE</code> ，则比较存储桶的差异，但在最小可能存储桶中找到差异时，不会单独比较每一行。
                                       </p>
                                       <p>有关<a href="DBMS_COMPARISON.html#GUID-EB01DAAB-AF33-415D-B3A0-C13140AFAA4E" title="The DBMS_COMPARISON package is an Oracle-supplied package that you can use to compare database objects at two databases. This package also enables you converge the database objects so that they are consistent at different databases. Typically, this package is used in environments that share a database object at multiple databases. When copies of the same database object exist at multiple databases, the database object is a shared database object. Several data dictionary views contain information about comparisons made with the DBMS_COMPARISON package.">存储区</a>的信息，请参阅<a href="DBMS_COMPARISON.html#GUID-EB01DAAB-AF33-415D-B3A0-C13140AFAA4E" title="DBMS_COMPARISON包是Oracle提供的包，可用于比较两个数据库中的数据库对象。此包还使您可以聚合数据库对象，以便它们在不同的数据库中保持一致。通常，此程序包用于在多个数据库中共享数据库对象的环境中。当多个数据库中存在相同数据库对象的副本时，数据库对象是共享数据库对象。多个数据字典视图包含有关使用DBMS_COMPARISON包进行比较的信息。">DBMS_COMPARISON概述</a> 。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E375D97F-ABC9-4F5A-9062-9057A2B2E9C4__GUID-ED580FD7-ED54-44E9-80DF-8B1869BADE97">返回值</p>
                        <p>当在比较的数据库对象中没有发现差异时，此函数返回<code class="codeph">TRUE</code> 。当在比较的数据库对象中发现差异时，此函数返回<code class="codeph">FALSE</code> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS871"></a><a id="ARPLS65591"></a><a id="ARPLS65591"></a><a id="ARPLS871"></a><div class="props_rev_3"><a id="GUID-449EB946-6489-4BD9-88E9-6B5A151CF24E" name="GUID-449EB946-6489-4BD9-88E9-6B5A151CF24E"></a><h4 id="ARPLS-GUID-449EB946-6489-4BD9-88E9-6B5A151CF24E" class="sect4"><span class="enumeration_section">34.7.2</span> CONVERGE程序</h4>
                  <div>
                     <p>此过程执行数据操作语言（DML）更改，以同步在指定扫描中比较的数据库对象部分。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-449EB946-6489-4BD9-88E9-6B5A151CF24E__GUID-5FA087AB-3376-4658-B731-22ADEC38A3DD">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_COMPARISON.CONVERGE（comparison_name IN VARCHAR2，scan_id IN NUMBER，scan_info OUT COMPARISON_TYPE，converge_options IN VARCHAR2 DEFAULT CMP_CONVERGE_LOCAL_WINS，perform_commit IN BOOLEAN DEFAULT TRUE，local_converge_tag IN RAW DEFAULT NULL，remote_converge_tag IN RAW DEFAULT NULL）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-449EB946-6489-4BD9-88E9-6B5A151CF24E__GUID-4CE83CF6-7EA0-4491-B660-F015C7083578">参数</p>
                        <div class="tblformal" id="GUID-449EB946-6489-4BD9-88E9-6B5A151CF24E__GUID-7AA22136-4F76-489C-9D3A-0969CD56E243">
                           <p class="titleintable">表34-5 CONVERGE过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="CONVERGE过程参数" width="100%" border="1" summary="This table describes the parameters of DBMS_COMPARISON.CONVERGE subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="28%" id="d173891e2742">参数</th>
                                    <th align="left" valign="bottom" width="72%" id="d173891e2745">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="28%" id="d173891e2750" headers="d173891e2742 ">
                                       <p><code class="codeph">comparison_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="72%" headers="d173891e2750 d173891e2745 ">
                                       <p>比较的名称。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="28%" id="d173891e2758" headers="d173891e2742 ">
                                       <p><code class="codeph">SCAN_ID</code></p>
                                    </td>
                                    <td align="left" valign="top" width="72%" headers="d173891e2758 d173891e2745 ">
                                       <p>扫描的标识符，包含正在收敛的数据库对象之间的差异。</p>
                                       <p>有关在此参数中指定扫描ID的详细信息，请参阅<span class="q">“ <a href="DBMS_COMPARISON.html#GUID-EB01DAAB-AF33-415D-B3A0-C13140AFAA4E" title="DBMS_COMPARISON包是Oracle提供的包，可用于比较两个数据库中的数据库对象。此包还使您可以聚合数据库对象，以便它们在不同的数据库中保持一致。通常，此程序包用于在多个数据库中共享数据库对象的环境中。当多个数据库中存在相同数据库对象的副本时，数据库对象是共享数据库对象。多个数据字典视图包含有关使用DBMS_COMPARISON包进行比较的信息。">概述</a> ”</span> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="28%" id="d173891e2785" headers="d173891e2742 ">
                                       <p><code class="codeph">scan_info</code></p>
                                    </td>
                                    <td align="left" valign="top" width="72%" headers="d173891e2785 d173891e2745 ">
                                       <p>有关<code class="codeph">COMPARISON_TYPE</code>数据类型返回的聚合操作的信息。
                                       </p>
                                       <p>请参见<a href="DBMS_COMPARISON.html#GUID-DD41738D-2CF5-4831-BAD0-765F09B0FB10" title="此记录类型包含DBMS_COMPARISON包中的COMPARE函数或CONVERGE过程返回的信息。">COMPARISON_TYPE记录类型</a> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="28%" id="d173891e2814" headers="d173891e2742 ">
                                       <p><code class="codeph">converge_options</code></p>
                                    </td>
                                    <td align="left" valign="top" width="72%" headers="d173891e2814 d173891e2745 ">
                                       <p><code class="codeph">CMP_CONVERGE_LOCAL_WINS</code>常量或<code class="codeph">CMP_CONVERGE_REMOTE_WINS</code>常量。
                                       </p>
                                       <p>有关这些常量的信息，请参见<span class="q">“ <a href="DBMS_COMPARISON.html#GUID-E680EDE7-7B75-46AE-975D-C59547C657FC" title="DBMS_COMPARISON包定义了几个用于指定参数值的枚举常量。枚举常量必须以包名称为前缀。例如，DBMS_COMPARISON.CMP_SCAN_MODE_FULL。">常量</a> ”</span> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="28%" id="d173891e2844" headers="d173891e2742 ">
                                       <p><code class="codeph">perform_commit</code></p>
                                    </td>
                                    <td align="left" valign="top" width="72%" headers="d173891e2844 d173891e2745 ">
                                       <p>如果为<code class="codeph">TRUE</code> ，则在进行DML更改时定期执行<code class="codeph">COMMIT</code> 。当此参数设置为<code class="codeph">TRUE</code>时， <code class="codeph">CONVERGE</code>过程可能会执行多个<code class="codeph">COMMIT</code> 。</p>
                                       <p>如果为<code class="codeph">FALSE</code> ，则在进行DML更改后不执行<code class="codeph">COMMIT</code> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="28%" id="d173891e2875" headers="d173891e2742 ">
                                       <p><code class="codeph">local_converge_tag</code></p>
                                    </td>
                                    <td align="left" valign="top" width="72%" headers="d173891e2875 d173891e2745 ">
                                       <p>在执行任何更改以在收敛的数据库对象中聚合数据之前，要在本地数据库的会话中设置的复制标记。</p>
                                       <p>如果为非<code class="codeph">NULL</code> ，则此参数设置优先于创建比较的<code class="codeph">CREATE_COMPARISON</code>过程中的<code class="codeph">local_converge_tag</code>参数。
                                       </p>
                                       <p>如果为<code class="codeph">NULL</code> ，则忽略此参数，并使用<code class="codeph">CREATE_COMPARISON</code>过程中创建比较的<code class="codeph">local_converge_tag</code>参数。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="28%" id="d173891e2905" headers="d173891e2742 ">
                                       <p><code class="codeph">remote_converge_tag</code></p>
                                    </td>
                                    <td align="left" valign="top" width="72%" headers="d173891e2905 d173891e2745 ">
                                       <p>要在远程数据库的会话中设置的Replication标记，然后执行任何更改以将数据聚合到正在聚合的数据库对象中。</p>
                                       <p>如果为非<code class="codeph">NULL</code> ，则此参数设置优先于创建比较的<code class="codeph">CREATE_COMPARISON</code>过程中的<code class="codeph">remote_converge_tag</code>参数。
                                       </p>
                                       <p>如果为<code class="codeph">NULL</code> ，则忽略此参数，并使用<code class="codeph">CREATE_COMPARISON</code>过程中创建比较的<code class="codeph">remote_converge_tag</code>参数。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-449EB946-6489-4BD9-88E9-6B5A151CF24E__GUID-41337A13-1028-4757-A4F1-1E5178A41272">使用说明</p>
                        <p>如果正在收敛的其中一个数据库对象是只读的物化视图，则必须设置<code class="codeph">converge_options</code>参数以确保只读物化视图在收敛操作中“获胜”。如果<code class="codeph">CONVERGE</code>过程尝试更改只读的物化视图，则会引发错误。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS872"></a><a id="ARPLS65592"></a><a id="ARPLS65593"></a><a id="ARPLS65594"></a><a id="ARPLS65592"></a><a id="ARPLS65593"></a><a id="ARPLS65594"></a><a id="ARPLS872"></a><div class="props_rev_3"><a id="GUID-04ABD84A-9526-462D-A30B-F086CB6EAF60" name="GUID-04ABD84A-9526-462D-A30B-F086CB6EAF60"></a><h4 id="ARPLS-GUID-04ABD84A-9526-462D-A30B-F086CB6EAF60" class="sect4"><span class="enumeration_section">34.7.3</span> CREATE_COMPARISON过程</h4>
                  <div>
                     <p>此过程创建比较。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-04ABD84A-9526-462D-A30B-F086CB6EAF60__GUID-F3FB4E9D-3D2A-4C33-BEDA-9096A0F4EFA4">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_COMPARISON.CREATE_COMPARISON（comparison_name IN VARCHAR2，schema_name IN VARCHAR2，object_name IN VARCHAR2，dblink_name IN VARCHAR2，index_schema_name IN VARCHAR2 DEFAULT NULL，index_name IN VARCHAR2 DEFAULT NULL，remote_schema_name IN VARCHAR2 DEFAULT NULL，remote_object_name IN VARCHAR2 DEFAULT NULL，comparison_mode IN VARCHAR2 DEFAULT CMP_COMPARE_MODE_OBJECT， column_list中IN VARCHAR2 DEFAULT '*'，scan_mode IN VARCHAR2 DEFAULT CMP_SCAN_MODE_FULL，scan_percent在数量DEFAULT NULL，null_value IN VARCHAR2 DEFAULT CMP_NULL_VALUE_DEF，local_converge_tag IN RAW DEFAULT NULL，remote_converge_tag IN RAW DEFAULT NULL，max_num_buckets在数量DEFAULT CMP_MAX_NUM_BUCKETS，min_rows_in_bucket IN NUMBER DEFAULT CMP_MIN_ROWS_IN_BUCKET） ;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-04ABD84A-9526-462D-A30B-F086CB6EAF60__GUID-AF31AF48-1A4A-4D1B-AD4B-9DCFACEB672F">参数</p>
                        <div class="tblformal" id="GUID-04ABD84A-9526-462D-A30B-F086CB6EAF60__GUID-131B3C06-CC2E-4A73-BE06-1DA5384CDA6B">
                           <p class="titleintable">表34-6 CREATE_COMPARISON过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="CREATE_COMPARISON过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_COMPARISON.CREATE_COMPARISON subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d173891e3059">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d173891e3062">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d173891e3067" headers="d173891e3059 ">
                                       <p><code class="codeph">comparison_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d173891e3067 d173891e3062 ">
                                       <p>比较的名称。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d173891e3075" headers="d173891e3059 ">
                                       <p><code class="codeph">SCHEMA_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d173891e3075 d173891e3062 ">
                                       <p>包含要比较的本地数据库对象的模式的名称。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d173891e3083" headers="d173891e3059 ">
                                       <p><code class="codeph">OBJECT_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d173891e3083 d173891e3062 ">
                                       <p>要比较的本地数据库对象的名称。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d173891e3091" headers="d173891e3059 ">
                                       <p><code class="codeph">dblink_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d173891e3091 d173891e3062 ">
                                       <p>数据库链接到远程数据库。将远程数据库中的指定数据库对象与本地数据库中的数据库对象进行比较。</p>
                                       <p>如果为<code class="codeph">NULL</code> ，则将比较配置为比较本地数据库中的两个数据库对象。在这种情况下，指定远程数据库对象的参数将应用于比较中的第二个数据库对象以及第二个数据库对象上的操作。例如，使用<code class="codeph">remote_schema_name</code>和<code class="codeph">remote_object_name</code>参数在此过程中指定第二个数据库对象。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d173891e3110" headers="d173891e3059 ">
                                       <p><code class="codeph">index_schema_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d173891e3110 d173891e3062 ">
                                       <p>包含索引的架构的名称。</p>
                                       <p>如果为<code class="codeph">NULL</code> ，则使用<code class="codeph">schema_name</code>参数中指定的模式。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d173891e3126" headers="d173891e3059 ">
                                       <p><code class="codeph">INDEX_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d173891e3126 d173891e3062 ">
                                       <p>索引的名称。</p>
                                       <p>如果为<code class="codeph">NULL</code> ，则系统自动确定比较的索引列。
                                       </p>
                                       <p>如果<code class="codeph">index_schema_name</code>参数为非<code class="codeph">NULL</code> ，则<code class="codeph">index_name</code>参数也必须为非<code class="codeph">NULL</code> 。否则，会引发错误。
                                       </p>
                                       <p><span class="bold">另请参阅：</span> <span class="q">“ <a href="DBMS_COMPARISON.html#GUID-04ABD84A-9526-462D-A30B-F086CB6EAF60__CJHDJCEI">使用说明</a> ”</span> ，以获取有关指定索引的更多信息</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d173891e3161" headers="d173891e3059 ">
                                       <p><code class="codeph">remote_schema_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d173891e3161 d173891e3062 ">
                                       <p>包含远程数据库中的数据库对象的模式的名称。如果两个数据库的模式名称不同，请指定非<code class="codeph">NULL</code>值。
                                       </p>
                                       <p>如果为<code class="codeph">NULL</code> ，则使用<code class="codeph">schema_name</code>参数中指定的模式。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d173891e3180" headers="d173891e3059 ">
                                       <p><code class="codeph">remote_object_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d173891e3180 d173891e3062 ">
                                       <p>远程数据库中数据库对象的名称。如果两个数据库的数据库对象名称不同，请指定非<code class="codeph">NULL</code>值。
                                       </p>
                                       <p>如果为<code class="codeph">NULL</code> ，则使用<code class="codeph">object_name</code>参数中指定的数据库对象。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d173891e3199" headers="d173891e3059 ">
                                       <p><code class="codeph">comparison_mode</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d173891e3199 d173891e3062 ">
                                       <p>指定默认值<code class="codeph">CMP_COMPARE_MODE_OBJECT</code> 。在将来的版本中可能会添加其他模式。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d173891e3210" headers="d173891e3059 ">
                                       <p><code class="codeph">column_list中</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d173891e3210 d173891e3062 ">
                                       <p>指定<code class="codeph">'*'</code>以包括要比较的数据库对象中的所有列。
                                       </p>
                                       <p>要比较数据库对象中的列子集，请指定要检查的列的逗号分隔列表。在比较和收敛期间，将忽略列表中不存在的任何列。</p>
                                       <p>有关<code class="codeph">column_list</code>参数中所需列的信息，请参阅<span class="q">“ <a href="DBMS_COMPARISON.html#GUID-04ABD84A-9526-462D-A30B-F086CB6EAF60__CJHDJCEI">使用说明</a> ”</span> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d173891e3232" headers="d173891e3059 ">
                                       <p><code class="codeph">scan_mode</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d173891e3232 d173891e3062 ">
                                       <p><code class="codeph">CMP_SCAN_MODE_FULL</code> ， <code class="codeph">CMP_SCAN_MODE_RANDOM</code> ， <code class="codeph">CMP_SCAN_MODE_CYCLIC</code>或<code class="codeph">CMP_SCAN_MODE_CUSTOM</code> 。</p>
                                       <p>如果指定<code class="codeph">CMP_SCAN_MODE_CUSTOM</code> ，请确保使用<code class="codeph">index_schema_name</code>和<code class="codeph">index_name</code>参数指定索引。指定索引确保您可以指定正确的<code class="codeph">min_value</code>和<code class="codeph">max_value</code>当您运行的领先指标列<code class="codeph">COMPARE</code>或<code class="codeph">RECHECK</code>功能。
                                       </p>
                                       <p>有关这些常量的信息，请参见<span class="q">“ <a href="DBMS_COMPARISON.html#GUID-E680EDE7-7B75-46AE-975D-C59547C657FC" title="DBMS_COMPARISON包定义了几个用于指定参数值的枚举常量。枚举常量必须以包名称为前缀。例如，DBMS_COMPARISON.CMP_SCAN_MODE_FULL。">常量</a> ”</span> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d173891e3293" headers="d173891e3059 ">
                                       <p><code class="codeph">scan_percent</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d173891e3293 d173891e3062 ">
                                       <p>当<code class="codeph">scan_mode</code>参数设置为<code class="codeph">CMP_SCAN_MODE_RANDOM</code>或<code class="codeph">CMP_SCAN_MODE_CYCLIC</code>时，要扫描以进行比较的数据库对象的百分比。对于这些<code class="codeph">scan_mode</code>设置，需要大于0（零）且小于100的非<code class="codeph">NULL</code>值。
                                       </p>
                                       <p>如果为<code class="codeph">NULL</code>且<code class="codeph">scan_mode</code>参数设置为<code class="codeph">CMP_SCAN_MODE_FULL</code> ，则扫描整个数据库对象以进行比较。
                                       </p>
                                       <p>如果为<code class="codeph">NULL</code>且<code class="codeph">scan_mode</code>参数设置为<code class="codeph">CMP_SCAN_MODE_CUSTOM</code> ，则在运行<code class="codeph">COMPARE</code>函数时指定扫描用于比较的数据库对象部分。
                                       </p>
                                       <p>如果非<code class="codeph">NULL</code>且<code class="codeph">scan_mode</code>参数设置为<code class="codeph">CMP_SCAN_MODE_FULL</code>或<code class="codeph">CMP_SCAN_MODE_CUSTOM</code> ，则忽略<code class="codeph">scan_percent</code>参数。
                                       </p>
                                       <p><span class="bold">注意：</span>如果<code class="codeph">scan_percent</code>参数为非<code class="codeph">NULL</code> ，并且比较的前导索引列未均匀分布数据库对象中的行，则比较的数据库对象部分可能小于或大于指定的<code class="codeph">scan_percent</code>值。有关前导索引列的<code class="codeph">DBMS_COMPARISON</code>程序包索引要求的详细信息，请参阅<a href="DBMS_COMPARISON.html#GUID-28FF3FBE-2072-4148-A6C5-B486B4F45816" title="DBMS_COMPARISON包具有某些要求和操作说明。">DBMS_COMPARISON操作说明</a> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d173891e3384" headers="d173891e3059 ">
                                       <p><code class="codeph">null_value</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d173891e3384 d173891e3062 ">
                                       <p>替换要比较的数据库对象中的每个<code class="codeph">NULL</code>的值。指定值或使用<code class="codeph">CMP_NULL_VALUE_DEF</code>常量。
                                       </p>
                                       <p>如果要比较的列可以包含<code class="codeph">NULL</code> s，则为此参数指定的值必须与列中的任何非<code class="codeph">NULL</code>值不同。否则，如果为此参数指定的值可以出现在列中，则可能找不到某些行差异。
                                       </p>
                                       <p>有关此常量的信息，请参见<span class="q">“ <a href="DBMS_COMPARISON.html#GUID-E680EDE7-7B75-46AE-975D-C59547C657FC" title="DBMS_COMPARISON包定义了几个用于指定参数值的枚举常量。枚举常量必须以包名称为前缀。例如，DBMS_COMPARISON.CMP_SCAN_MODE_FULL。">常量</a> ”</span> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d173891e3422" headers="d173891e3059 ">
                                       <p><code class="codeph">local_converge_tag</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d173891e3422 d173891e3062 ">
                                       <p>在执行任何更改之前，要在本地数据库的会话中设置Oracle Replication标记，以将数据聚合到要比较的数据库对象中。</p>
                                       <p>如果<code class="codeph">local_converge_tag</code>参数是非<code class="codeph">NULL</code>中<code class="codeph">CONVERGE</code>过程时进行这种比较的比较结果被会聚，然后在设定<code class="codeph">CONVERGE</code>程序优先。有关更多信息，请参阅<a href="DBMS_COMPARISON.html#GUID-449EB946-6489-4BD9-88E9-6B5A151CF24E" title="此过程执行数据操作语言（DML）更改，以同步在指定扫描中比较的数据库对象部分。">CONVERGE过程</a> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d173891e3451" headers="d173891e3059 ">
                                       <p><code class="codeph">remote_converge_tag</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d173891e3451 d173891e3062 ">
                                       <p>要在远程数据库的会话中设置的Oracle Replication标记，然后执行任何更改以将数据聚合到要比较的数据库对象中。</p>
                                       <p>如果<code class="codeph">remote_converge_tag</code>参数是非<code class="codeph">NULL</code>中<code class="codeph">CONVERGE</code>过程时进行这种比较的比较结果被会聚，然后在设定<code class="codeph">CONVERGE</code>程序优先。有关更多信息，请参阅<a href="DBMS_COMPARISON.html#GUID-449EB946-6489-4BD9-88E9-6B5A151CF24E" title="此过程执行数据操作语言（DML）更改，以同步在指定扫描中比较的数据库对象部分。">CONVERGE过程</a> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d173891e3480" headers="d173891e3059 ">
                                       <p><code class="codeph">max_num_buckets</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d173891e3480 d173891e3062 ">
                                       <p>指定要使用的最大存储桶数。指定值或使用<code class="codeph">CMP_MAX_NUM_BUCKETS</code>常量。有关此常量的信息，请参见<span class="q">“ <a href="DBMS_COMPARISON.html#GUID-E680EDE7-7B75-46AE-975D-C59547C657FC" title="DBMS_COMPARISON包定义了几个用于指定参数值的枚举常量。枚举常量必须以包名称为前缀。例如，DBMS_COMPARISON.CMP_SCAN_MODE_FULL。">常量</a> ”</span> 。
                                       </p>
                                       <p>有关存储桶的信息，请参阅<span class="q">“ <a href="DBMS_COMPARISON.html#GUID-EB01DAAB-AF33-415D-B3A0-C13140AFAA4E" title="DBMS_COMPARISON包是Oracle提供的包，可用于比较两个数据库中的数据库对象。此包还使您可以聚合数据库对象，以便它们在不同的数据库中保持一致。通常，此程序包用于在多个数据库中共享数据库对象的环境中。当多个数据库中存在相同数据库对象的副本时，数据库对象是共享数据库对象。多个数据字典视图包含有关使用DBMS_COMPARISON包进行比较的信息。">概述</a> ”</span> 。
                                       </p>
                                       <p><span class="bold">注意：</span>如果比较的索引列是<code class="codeph">VARCHAR2</code>或<code class="codeph">CHAR</code>列，则桶的数量可能会超过为<code class="codeph">max_num_buckets</code>参数指定的值。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d173891e3537" headers="d173891e3059 ">
                                       <p><code class="codeph">min_rows_in_bucket</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d173891e3537 d173891e3062 ">
                                       <p>指定每个存储桶中的最小行数。指定值或使用<code class="codeph">CMP_MIN_ROWS_IN_BUCKET</code>常量。有关此常量的信息，请参见<span class="q">“ <a href="DBMS_COMPARISON.html#GUID-E680EDE7-7B75-46AE-975D-C59547C657FC" title="DBMS_COMPARISON包定义了几个用于指定参数值的枚举常量。枚举常量必须以包名称为前缀。例如，DBMS_COMPARISON.CMP_SCAN_MODE_FULL。">常量</a> ”</span> 。
                                       </p>
                                       <p>有关存储桶的信息，请参阅<span class="q">“ <a href="DBMS_COMPARISON.html#GUID-EB01DAAB-AF33-415D-B3A0-C13140AFAA4E" title="DBMS_COMPARISON包是Oracle提供的包，可用于比较两个数据库中的数据库对象。此包还使您可以聚合数据库对象，以便它们在不同的数据库中保持一致。通常，此程序包用于在多个数据库中共享数据库对象的环境中。当多个数据库中存在相同数据库对象的副本时，数据库对象是共享数据库对象。多个数据字典视图包含有关使用DBMS_COMPARISON包进行比较的信息。">概述</a> ”</span> 。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-04ABD84A-9526-462D-A30B-F086CB6EAF60__CJHDJCEI">
                        <p class="subhead3" id="GUID-04ABD84A-9526-462D-A30B-F086CB6EAF60__GUID-458CB54C-CE6C-4388-96B3-173CD6CAC71C">使用说明</p>
                        <p>本节包含<code class="codeph">CREATE_COMPARISON</code>过程的用法说明。
                        </p>
                        <p><span class="bold">index_schema_name和index_name参数的用法说明</span></p>
                        <p>指定与<code class="codeph">index_schema_name</code>和<code class="codeph">index_name</code>参数进行比较的索引时，指定的索引将确定比较的索引列及其顺序。索引中列的顺序决定了比较的索引列顺序。因此，索引中列位置1的列是比较的前导列。
                        </p>
                        <p>索引列及其顺序会影响为比较生成和执行的每个SQL语句的详细信息。对于每个SQL语句，优化程序决定是否使用索引。如果优化程序决定使用索引，则优化程序将决定使用哪些特定索引。可能会也可能不会使用<code class="codeph">column_list</code>参数中指定的索引。
                        </p>
                        <p>指定索引中的列必须满足<a href="DBMS_COMPARISON.html#GUID-28FF3FBE-2072-4148-A6C5-B486B4F45816" title="DBMS_COMPARISON包具有某些要求和操作说明。">DBMS_COMPARISON操作说明中</a>描述的要求。如果索引列不满足这些要求，则会引发错误。
                        </p>
                        <div class="infoboxnote" id="GUID-04ABD84A-9526-462D-A30B-F086CB6EAF60__GUID-991BCB47-89A0-42AC-B852-1E60F98CAC6B">
                           <p class="notep1">注意：</p>
                           <p>如果在创建比较时未指定索引，则<code class="codeph">CREATE_COMPARISON</code>过程将选择主键（如果存在）或现有唯一索引。该过程从不选择非唯一索引。但是，如果指定索引，则<code class="codeph">CREATE_COMPARISON</code>过程不会检查其唯一性。因此，如果指定了非唯一索引，并且存在重复索引键，则<code class="codeph">CONVERGE</code>过程同步数据时结果可能不正确。
                           </p>
                        </div>
                        <p><span class="bold">column_list参数的用法说明</span></p>
                        <p>当<code class="codeph">column_list</code>参数被设定为比其它的值<code class="codeph">'*'</code> ，以下各列都需要在<code class="codeph">column_list</code>参数：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>满足<code class="codeph">DBMS_COMPARISON</code>包的索引列要求所需的任何列。如果<code class="codeph">index_name</code>参数为非<code class="codeph">NULL</code> ，则指定索引中的列必须位于列列表中。如果<code class="codeph">index_name</code>参数为<code class="codeph">NULL</code> ，则有关<code class="codeph">DBMS_COMPARISON</code>索引要求的信息，请参阅<a href="DBMS_COMPARISON.html#GUID-28FF3FBE-2072-4148-A6C5-B486B4F45816" title="DBMS_COMPARISON包具有某些要求和操作说明。">DBMS_COMPARISON操作说明</a> 。
                              </p>
                           </li>
                           <li>
                              <p>如果计划使用<code class="codeph">CONVERGE</code>过程根据比较对数据库对象进行更改，则此列表中包含<code class="codeph">NOT</code> <code class="codeph">NULL</code>约束但没有默认值的任何列都必须包含在列列表中。如果未包含这些列，则<code class="codeph">CONVERGE</code>过程将返回错误。请参阅<a href="DBMS_COMPARISON.html#GUID-449EB946-6489-4BD9-88E9-6B5A151CF24E" title="此过程执行数据操作语言（DML）更改，以同步在指定扫描中比较的数据库对象部分。">CONVERGE程序</a> 。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS874"></a><a id="ARPLS65595"></a><a id="ARPLS65595"></a><a id="ARPLS874"></a><div class="props_rev_3"><a id="GUID-3EF8D0BA-4E57-4ACB-B3D3-0F5D44CCC197" name="GUID-3EF8D0BA-4E57-4ACB-B3D3-0F5D44CCC197"></a><h4 id="ARPLS-GUID-3EF8D0BA-4E57-4ACB-B3D3-0F5D44CCC197" class="sect4"><span class="enumeration_section">34.7.4</span> DROP_COMPARISON过程</h4>
                  <div>
                     <p>此过程将进行比较。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-3EF8D0BA-4E57-4ACB-B3D3-0F5D44CCC197__GUID-0C955A24-A244-4284-B6B0-CFFFF5A47B20">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_COMPARISON.DROP_COMPARISON（comparison_name IN VARCHAR2）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-3EF8D0BA-4E57-4ACB-B3D3-0F5D44CCC197__GUID-D496BC6F-2DCE-42F8-84A4-8521E944CAAA">参数</p>
                        <div class="tblformal" id="GUID-3EF8D0BA-4E57-4ACB-B3D3-0F5D44CCC197__GUID-EC73625A-D100-48FF-97F8-DC2EED652C54">
                           <p class="titleintable">表34-7 DROP_COMPARISON过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="DROP_COMPARISON过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_COMPARISON.DROP_COMPARISON subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="23%" id="d173891e3807">参数</th>
                                    <th align="left" valign="bottom" width="77%" id="d173891e3810">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d173891e3815" headers="d173891e3807 ">
                                       <p><code class="codeph">comparison_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="77%" headers="d173891e3815 d173891e3810 ">
                                       <p>比较的名称。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS875"></a><a id="ARPLS65596"></a><a id="ARPLS65596"></a><a id="ARPLS875"></a><div class="props_rev_3"><a id="GUID-77130B31-1F24-4EFE-A439-BDFCEB5987E0" name="GUID-77130B31-1F24-4EFE-A439-BDFCEB5987E0"></a><h4 id="ARPLS-GUID-77130B31-1F24-4EFE-A439-BDFCEB5987E0" class="sect4"><span class="enumeration_section">34.7.5</span> PURGE_COMPARISON程序</h4>
                  <div>
                     <p>此过程清除比较结果或比较结果的子集，以进行比较。</p>
                     <div class="section">
                        <div class="infoboxnote" id="GUID-77130B31-1F24-4EFE-A439-BDFCEB5987E0__GUID-9FB9EBB9-62AE-4805-9E88-C00B52913C81">
                           <p class="notep1">注意：</p>
                           <p>必须至少将以下参数之一设置为<code class="codeph">NULL</code> ： <code class="codeph">scan_id</code>或<code class="codeph">purge_time</code> 。如果<code class="codeph">scan_id</code>和<code class="codeph">purge_time</code>参数均为<code class="codeph">NULL</code> ，则此过程将清除比较的所有比较结果。
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-77130B31-1F24-4EFE-A439-BDFCEB5987E0__GUID-8B749AA3-9712-4371-98F5-4AC021D424D2">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_COMPARISON.PURGE_COMPARISON（comparison_name IN VARCHAR2，scan_id IN NUMBER DEFAULT NULL，purge_time IN TIMESTAMP DEFAULT NULL）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-77130B31-1F24-4EFE-A439-BDFCEB5987E0__GUID-CA53B82A-7966-4E6F-829A-DADF1768FA75">参数</p>
                        <div class="tblformal" id="GUID-77130B31-1F24-4EFE-A439-BDFCEB5987E0__GUID-732F529E-4EE5-42B3-B7DB-EE8BAD0B7E92">
                           <p class="titleintable">表34-8 PURGE_COMPARISON过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="PURGE_COMPARISON过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_COMPARISON.PURGE_COMPARISON subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="23%" id="d173891e3956">参数</th>
                                    <th align="left" valign="bottom" width="77%" id="d173891e3959">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d173891e3964" headers="d173891e3956 ">
                                       <p><code class="codeph">comparison_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="77%" headers="d173891e3964 d173891e3959 ">
                                       <p>比较的名称。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d173891e3972" headers="d173891e3956 ">
                                       <p><code class="codeph">SCAN_ID</code></p>
                                    </td>
                                    <td align="left" valign="top" width="77%" headers="d173891e3972 d173891e3959 ">
                                       <p>清除结果的扫描的扫描ID。扫描ID必须标识根扫描。如果扫描ID未标识根扫描，则会引发错误。指定根扫描标识时，将清除它，并清除指定根扫描的所有直接和间接子扫描。</p>
                                       <p>如果为<code class="codeph">NULL</code> ，则在清除比较结果时不考虑扫描ID。
                                       </p>
                                       <p>有关扫描的信息，请参阅<span class="q">“ <a href="DBMS_COMPARISON.html#GUID-EB01DAAB-AF33-415D-B3A0-C13140AFAA4E" title="DBMS_COMPARISON包是Oracle提供的包，可用于比较两个数据库中的数据库对象。此包还使您可以聚合数据库对象，以便它们在不同的数据库中保持一致。通常，此程序包用于在多个数据库中共享数据库对象的环境中。当多个数据库中存在相同数据库对象的副本时，数据库对象是共享数据库对象。多个数据字典视图包含有关使用DBMS_COMPARISON包进行比较的信息。">概述</a> ”</span> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d173891e4004" headers="d173891e3956 ">
                                       <p><code class="codeph">purge_time</code></p>
                                    </td>
                                    <td align="left" valign="top" width="77%" headers="d173891e4004 d173891e3959 ">
                                       <p>清除结果的日期。</p>
                                       <p>如果为<code class="codeph">NULL</code> ，则在清除比较结果时不考虑日期。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS876"></a><a id="ARPLS65597"></a><a id="ARPLS65597"></a><a id="ARPLS876"></a><div class="props_rev_3"><a id="GUID-509AA61C-9EB4-4897-893F-BBAAF1B226B4" name="GUID-509AA61C-9EB4-4897-893F-BBAAF1B226B4"></a><h4 id="ARPLS-GUID-509AA61C-9EB4-4897-893F-BBAAF1B226B4" class="sect4"><span class="enumeration_section">34.7.6</span> RECHECK功能</h4>
                  <div>
                     <p>此功能将重新检查指定扫描中的差异以进行比较。</p>
                     <div class="section">
                        <p>此函数执行以下操作之一：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>如果指定的扫描在上次运行时成功完成，则此功能将检查先前识别的扫描差异。</p>
                           </li>
                           <li>
                              <p>如果指定的扫描部分完成，则此函数继续从上一次扫描结束的点检查数据库对象。</p>
                           </li>
                        </ul>
                        <div class="infoboxnote" id="GUID-509AA61C-9EB4-4897-893F-BBAAF1B226B4__GUID-F6BA324D-66F3-4180-9FC6-924039E1E240">
                           <p class="notep1">注意：</p>
                           <p>此功能不会将共享数据库对象与未在指定的比较扫描中记录的差异进行比较。要检查这些差异，请运行<code class="codeph">COMPARE</code>功能。
                           </p>
                        </div>
                        <div class="infoboxnotealso" id="GUID-509AA61C-9EB4-4897-893F-BBAAF1B226B4__GUID-F07A7673-A2C9-4BDD-BA02-27A5BB9B82EA">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="DBMS_COMPARISON.html#GUID-E375D97F-ABC9-4F5A-9062-9057A2B2E9C4" title="此函数执行指定的比较。">比较功能</a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-509AA61C-9EB4-4897-893F-BBAAF1B226B4__GUID-2288B1FC-D76A-4278-A517-F6CBB63268C2">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_COMPARISON.RECHECK（comparison_name IN VARCHAR2，scan_id IN NUMBER，perform_row_dif IN BOOLEAN DEFAULT FALSE）RETURN BOOLEAN;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-509AA61C-9EB4-4897-893F-BBAAF1B226B4__GUID-3814CCE3-91C6-4C63-B7EE-B1E46E76D16B">参数</p>
                        <div class="tblformal" id="GUID-509AA61C-9EB4-4897-893F-BBAAF1B226B4__GUID-4AB077FB-4120-47F1-AE87-B026E7E08A9F">
                           <p class="titleintable">表34-9 RECHECK功能参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="RECHECK功能参数" width="100%" border="1" summary="This table describes the parameters of DBMS_COMPARISON.RECHECK subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="23%" id="d173891e4150">参数</th>
                                    <th align="left" valign="bottom" width="77%" id="d173891e4153">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d173891e4158" headers="d173891e4150 ">
                                       <p><code class="codeph">comparison_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="77%" headers="d173891e4158 d173891e4153 ">
                                       <p>比较的名称。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d173891e4166" headers="d173891e4150 ">
                                       <p><code class="codeph">SCAN_ID</code></p>
                                    </td>
                                    <td align="left" valign="top" width="77%" headers="d173891e4166 d173891e4153 ">
                                       <p>要重新检查的扫描的扫描ID。</p>
                                       <p>有关在此参数中指定扫描ID的详细信息，请参阅<span class="q">“ <a href="DBMS_COMPARISON.html#GUID-EB01DAAB-AF33-415D-B3A0-C13140AFAA4E" title="DBMS_COMPARISON包是Oracle提供的包，可用于比较两个数据库中的数据库对象。此包还使您可以聚合数据库对象，以便它们在不同的数据库中保持一致。通常，此程序包用于在多个数据库中共享数据库对象的环境中。当多个数据库中存在相同数据库对象的副本时，数据库对象是共享数据库对象。多个数据字典视图包含有关使用DBMS_COMPARISON包进行比较的信息。">概述</a> ”</span> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d173891e4193" headers="d173891e4150 ">
                                       <p><code class="codeph">perform_row_dif</code></p>
                                    </td>
                                    <td align="left" valign="top" width="77%" headers="d173891e4193 d173891e4153 ">
                                       <p>如果为<code class="codeph">TRUE</code> ，则在达到用于比较的最小可能桶之后，在比较的数据库对象中单独比较每一行。
                                       </p>
                                       <p>如果为<code class="codeph">FALSE</code> ，则比较存储桶的差异，但在最小可能存储桶中找到差异时，不会单独比较每一行。
                                       </p>
                                       <p>有关存储桶的信息，请参阅<span class="q">“ <a href="DBMS_COMPARISON.html#GUID-EB01DAAB-AF33-415D-B3A0-C13140AFAA4E" title="DBMS_COMPARISON包是Oracle提供的包，可用于比较两个数据库中的数据库对象。此包还使您可以聚合数据库对象，以便它们在不同的数据库中保持一致。通常，此程序包用于在多个数据库中共享数据库对象的环境中。当多个数据库中存在相同数据库对象的副本时，数据库对象是共享数据库对象。多个数据字典视图包含有关使用DBMS_COMPARISON包进行比较的信息。">概述</a> ”</span> 。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-509AA61C-9EB4-4897-893F-BBAAF1B226B4__GUID-79329957-E666-4FCA-AF2D-DCBC56FD6F08">返回值</p>
                        <p>当在比较的数据库对象中没有发现差异时，此函数返回<code class="codeph">TRUE</code> 。当在比较的数据库对象中发现差异时，此函数返回<code class="codeph">FALSE</code> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>