<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>Sybase网关功能和限制</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content=" User&#39;s Guide "></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="User&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-gateway-sybase-users-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-04-16T17:28:14-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2007, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="F18237-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="database-gateway-sybase-introduction.html" title="Previous" type="text/html"></link>
      <link rel="next" href="database-gateway-sybase-case-studies.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Gateway for Sybase User&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="TGSYU"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="database-gateway-sybase-introduction.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="database-gateway-sybase-case-studies.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">用户指导</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Sybase网关功能和限制</li>
            </ol>
            <a id="GUID-CFB6D407-A926-4763-B6E7-F2F6705CFB16" name="GUID-CFB6D407-A926-4763-B6E7-F2F6705CFB16"></a><a id="TGSYU200"></a>
            
            <h2 id="TGSYU-GUID-CFB6D407-A926-4763-B6E7-F2F6705CFB16" class="sect2"><span class="enumeration_chapter">2</span> Sybase Gateway功能和限制</h2>
         </header>
         <div class="ind">
            <div>
               <p>安装和配置网关后，可以使用网关访问Sybase数据，将Sybase命令从应用程序传递到Sybase数据库，执行分布式查询以及复制数据。</p>
               <p>话题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="database-gateway-sybase-features.html#GUID-513FBA3C-3458-4129-93E4-38DB2DF97F7A" title="远程插入行源功能允许远程插入，要求本地Oracle数据通过Oracle数据库和Oracle数据库网关工作。此功能要求Oracle数据库和Oracle Database Gateway为12.2或更高版本。">远程插入Rowsource</a></p>
                  </li>
                  <li>
                     <p><a href="database-gateway-sybase-features.html#GUID-1B2EA918-D70D-4D1B-9228-15F925D01C05">使用传递功能</a></p>
                  </li>
                  <li>
                     <p><a href="database-gateway-sybase-features.html#GUID-3A2CB44E-5A6F-45B7-A67B-BF043CEEAF8F">执行存储过程和函数</a></p>
                  </li>
                  <li>
                     <p><a href="database-gateway-sybase-features.html#GUID-15E36EB6-400C-40A2-B9C1-02E8E7F1C5C1">CHAR语义学</a></p>
                  </li>
                  <li>
                     <p><a href="database-gateway-sybase-features.html#GUID-5B78184A-33B2-42E4-AF70-4571BAE38FF4">多字节字符集比率抑制</a></p>
                  </li>
                  <li>
                     <p><a href="database-gateway-sybase-features.html#GUID-6C58A72D-6DC2-400B-8633-6B849D96C0C1">IPv6支持</a></p>
                  </li>
                  <li>
                     <p><a href="database-gateway-sybase-features.html#GUID-5F63126A-637A-46F4-AB73-59EE3B17AB46">网关会话IDLE超时</a></p>
                  </li>
                  <li>
                     <p><a href="database-gateway-sybase-features.html#GUID-FD4FEED3-3EAF-4EB1-A135-ED757DD185E5">Sybase的数据库兼容性问题</a></p>
                  </li>
                  <li>
                     <p><a href="database-gateway-sybase-features.html#GUID-F68B4168-F105-4F4E-ABC6-8D08DF973331">已知的限制</a></p>
                  </li>
                  <li>
                     <p><a href="database-gateway-sybase-features.html#GUID-43A40ADA-3E5E-4F32-A070-2D472F234F01">已知问题</a></p>
                  </li>
               </ul>
            </div>
            <div class="sect2"><a id="GUID-513FBA3C-3458-4129-93E4-38DB2DF97F7A" name="GUID-513FBA3C-3458-4129-93E4-38DB2DF97F7A"></a><h3 id="TGSYU-GUID-513FBA3C-3458-4129-93E4-38DB2DF97F7A" class="sect3">远程插入Rowsource</h3>
               <div>
                  <p>远程插入行源功能允许远程插入，要求本地Oracle数据通过Oracle数据库和Oracle数据库网关工作。此功能要求Oracle数据库和Oracle Database Gateway为12.2或更高版本。</p>
                  <p>通过Oracle数据库设计，必须在数据库链接站点执行某些分布式语句。但在某些情况下，执行这些查询所需的数据必须从原始Oracle数据库中获取。在同构连接下，远程Oracle数据库将回调源Oracle数据库以获取此类数据。但是在异构连接中，这是不可行的，因为这意味着外部数据存储必须查询只能由发出查询的Oracle实例提供的回调函数或数据。通常，这些类型的语句不能通过Oracle数据库网关支持。</p>
                  <p>以下类别的SQL语句会导致回调：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>任何带有子选择的DML，它指的是Oracle数据库中的一个表。</p>
                     </li>
                     <li>
                        <p>任何<code class="codeph">DELETE</code> ， <code class="codeph">INSERT</code> ， <code class="codeph">UPDATE</code>或“ <code class="codeph">SELECT...FOR UPDATE..."</code>包含需要在原始Oracle数据库中执行的SQL函数或语句的SQL语句。
                        </p>
                        <p>这些SQL函数包括<code class="codeph">USER</code> ， <code class="codeph">USERENV</code>和<code class="codeph">SYSDATE</code> ;并涉及从原始Oracle数据库中选择数据。
                        </p>
                     </li>
                     <li>
                        <p>任何涉及Oracle数据库中的表以及远程表中的<code class="codeph">LONG</code>或<code class="codeph">LOB</code>列的SQL语句。
                        </p>
                     </li>
                  </ul>
                  <p>可以通过远程插入行源功能工作的远程<code class="codeph">INSERT</code>语句的示例如下：</p><pre class="oac_no_warn" dir="ltr">INSERT INTO <span class="italic">gateway_table</span> @gateway_link select * from <span class="italic">local_table</span> ;</pre></div>
            </div><a id="TGSYU704"></a><div class="props_rev_3"><a id="GUID-1B2EA918-D70D-4D1B-9228-15F925D01C05" name="GUID-1B2EA918-D70D-4D1B-9228-15F925D01C05"></a><h3 id="TGSYU-GUID-1B2EA918-D70D-4D1B-9228-15F925D01C05" class="sect3">使用传递功能</h3>
               <div>
                  <div class="section">
                     <p>网关可以使用<code class="codeph">DBMS_HS_PASSTHROUGH</code>程序包将Sybase命令或语句从应用程序传递到Sybase数据库。
                     </p>
                     <p>使用PL / SQL块中的<code class="codeph">DBMS_HS_PASSTHROUGH</code>包指定要传递给Sybase数据库的语句，如下所示：</p><pre class="oac_no_warn" dir="ltr">DECLARE num_rows INTEGER; BEGIN num_rows：= DBMS_HS_PASSTHROUGH.EXECUTE_IMMEDIATE@SYBS（' <span class="italic">command</span> '）;结束; /</pre><p>其中<span class="italic">command</span>不能是以下之一：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">开始交易</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">承诺</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ROLLBACK</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">保存</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">关掉</code></p>
                        </li>
                        <li>
                           <p>Sybase工具命令</p>
                        </li>
                     </ul>
                     <p><code class="codeph">DBMS_HS_PASSTHROUGH</code>包支持传递绑定值和执行<code class="codeph">SELECT</code>语句。
                     </p>
                     <div class="infoboxnote" id="GUID-1B2EA918-D70D-4D1B-9228-15F925D01C05__GUID-4BA2BFB1-C137-406A-B7E6-3842E1254053">
                        <p class="notep1">注意：</p>
                        <p><code class="codeph">TRUNCATE</code>不能用于传递语句。
                        </p>
                     </div>
                     <div class="infoboxnotealso" id="GUID-1B2EA918-D70D-4D1B-9228-15F925D01C05__GUID-0BB80AD8-C642-4EDA-9EA1-AB15E59939EF">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="../arpls/DBMS_HS_PASSTHROUGH.html#ARPLS017" target="_blank"><span class="italic">Oracle数据库PL / SQL包和类型参考</span></a>和<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tgsyu&amp;id=HETER003" target="_blank">第3章，Oracle数据库网关的功能，</a> <span class="italic">Oracle数据库异构连接用户指南</span> ，以获取有关<code class="codeph">DBMS_HS_PASSTHROUGH</code>包的更多信息。
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="TGSYU705"></a><div class="props_rev_3"><a id="GUID-3A2CB44E-5A6F-45B7-A67B-BF043CEEAF8F" name="GUID-3A2CB44E-5A6F-45B7-A67B-BF043CEEAF8F"></a><h3 id="TGSYU-GUID-3A2CB44E-5A6F-45B7-A67B-BF043CEEAF8F" class="sect3">执行存储过程和函数</h3>
               <div>
                  <div class="section">
                     <p>使用过程功能，网关可以执行Sybase数据库中定义的存储过程。没有必要重新链接网关或将过程定义到网关，但过程的访问权限必须允许网关访问。</p>
                     <p>标准PL / SQL语句用于执行存储过程。</p>
                     <p>网关支持三种互斥模式的存储过程：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type:disc">
                        <li>
                           <p>普通模式：只能访问<code class="codeph">IN</code> / <code class="codeph">OUT</code>参数</p>
                        </li>
                        <li>
                           <p>返回值模式：具有所有存储过程的返回值</p>
                        </li>
                        <li>
                           <p>结果集模式：输出值可用作最后结果集</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div><a id="TGSYU706"></a><div class="props_rev_3"><a id="GUID-4EBE98C4-3A4C-4996-968D-1B30AE79396F" name="GUID-4EBE98C4-3A4C-4996-968D-1B30AE79396F"></a><h4 id="TGSYU-GUID-4EBE98C4-3A4C-4996-968D-1B30AE79396F" class="sect4">返回值和存储过程</h4>
                  <div>
                     <p>默认情况下，所有存储过程和函数都不会向用户返回返回值。要启用返回值，请在初始化参数文件中设置<code class="codeph">HS_FDS_PROC_IS_FUNC</code>参数。
                     </p>
                     <div class="infoboxnotealso" id="GUID-4EBE98C4-3A4C-4996-968D-1B30AE79396F__GUID-5E021613-FACF-4BC8-98CF-99D8904BE91D">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="database-gateway-sybase-initialization-parameters.html#GUID-F1D90A28-69A0-4D6B-9A46-AA52A0D7246B">初始化</a>有关编辑初始化参数文件和<code class="codeph">HS_FDS_PROC_IS_FUNC</code>参数的<code class="codeph">HS_FDS_PROC_IS_FUNC</code>参数。
                        </p>
                     </div>
                     <div class="infoboxnote" id="GUID-4EBE98C4-3A4C-4996-968D-1B30AE79396F__GUID-08F68BA8-8FAE-49A5-9A7E-70ED126CA230">
                        <p class="notep1">注意：</p>
                        <p>如果设置<code class="codeph">HS_FDS_PROC_IS_FUNC</code>网关初始化参数，则必须更改所有现有存储过程的过程execute语句的语法。
                        </p>
                     </div>
                     <p>在以下示例中，将员工姓名<code class="codeph">JOHN SMYTHE</code>传递给Sybase存储过程<code class="codeph">REVISE_SALARY</code> 。存储过程从Sybase数据库中检索工资值，以计算<code class="codeph">JOHN SMYTHE</code>的新年薪。 <code class="codeph">RESULT</code>返回的修订工资用于更新Oracle数据库表中的<code class="codeph">EMP</code> ：</p><pre class="oac_no_warn" dir="ltr">DECLARE INPUT VARCHAR2（15）;结果编号（8,2）; BEGIN INPUT：='JOHN SMYTHE';结果：= REVISE_SALARY @ SYBS（INPUT）; UPDATE EMP SET SAL =结果ENAME =：INPUT;结束; /</pre><p>过程功能自动将非Oracle数据类型转换为PL / SQL数据类型和从PL / SQL数据类型转换。</p>
                  </div>
               </div><a id="TGSYU707"></a><div class="props_rev_3"><a id="GUID-3FB9797A-BFFA-48B2-BBB6-A7FDBC13C192" name="GUID-3FB9797A-BFFA-48B2-BBB6-A7FDBC13C192"></a><h4 id="TGSYU-GUID-3FB9797A-BFFA-48B2-BBB6-A7FDBC13C192" class="sect4">结果集和存储过程</h4>
                  <div>
                     <p>Oracle Database Gateway for Sybase为返回结果集的存储过程提供支持。</p>
                     <p>默认情况下，所有存储过程和函数都不会将结果集返回给用户。要启用结果集，请在初始化参数文件中设置<code class="codeph">HS_FDS_RESULTSET_SUPPORT</code>参数。
                     </p>
                     <div class="infoboxnotealso" id="GUID-3FB9797A-BFFA-48B2-BBB6-A7FDBC13C192__GUID-4F66410E-4F2E-4317-BE25-B9430CD26B3D">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="database-gateway-sybase-initialization-parameters.html#GUID-F1D90A28-69A0-4D6B-9A46-AA52A0D7246B">初始化</a>有关编辑初始化参数文件和<code class="codeph">HS_FDS_RESULTSET_SUPPORT</code>参数的<code class="codeph">HS_FDS_RESULTSET_SUPPORT</code>参数。有关Oracle对非Oracle数据库中的结果集的支持的详细信息，请参阅“ <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tgsyu&amp;id=HETER4061" target="_blank"><span class="italic">Oracle数据库异构连接用户指南”</span></a> 。
                        </p>
                     </div>
                     <div class="infoboxnote" id="GUID-3FB9797A-BFFA-48B2-BBB6-A7FDBC13C192__GUID-F722595D-74E6-4D2F-A378-D432BF232D7C">
                        <p class="notep1">注意：</p>
                        <p>如果设置<code class="codeph">HS_FDS_RESULTSET_SUPPORT</code>网关初始化参数，则必须更改所有现有存储过程的过程execute语句的语法，否则将发生错误。
                        </p>
                     </div>
                     <p>通过Oracle Database Gateway for Sybase访问带有结果集的存储过程时，您将处于异构服务的顺序模式。</p>
                     <p>Oracle Database Gateway for Sybase在过程描述期间将以下信息返回到异构服务：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>远程存储过程的所有输入参数</p>
                        </li>
                        <li>
                           <p>没有输出参数</p>
                        </li>
                        <li>
                           <p>类型引用游标的一个out参数（对应于存储过程返回的第一个结果集）</p>
                        </li>
                     </ul>
                     <p>客户端程序必须使用虚拟包函数<code class="codeph">dbms_hs_result_set.get_next_result_set</code>来获取后续结果集的引用游标。返回的最后一个结果集是过程中的out参数。
                     </p>
                     <p>访问结果集的限制如下：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>必须按照将它们放置在线路上的顺序检索远程存储过程返回的结果集</p>
                        </li>
                        <li>
                           <p>在执行存储过程时，将关闭先前执行的存储过程返回的所有结果集（无论数据是否已完全</p>
                        </li>
                     </ul>
                     <p>在以下示例中，执行Sybase存储过程以从Sybase获取<code class="codeph">emp</code>和<code class="codeph">dept</code>表的内容：</p><pre class="oac_no_warn" dir="ltr">创建过程REFCURPROC（@ arg1 varchar（255），@ arg2 varchar（255）输出）作为select @ arg2 = @ arg1 select * from EMP select * from DEPT go</pre><p>此存储过程将输入参数arg1分配给输出参数arg2，在ref cursor rc1中打开查询<code class="codeph">SELECT * FROM EMP</code> ，并在ref cursor <code class="codeph">rc2</code>打开查询<code class="codeph">SELECT * FROM DEPT</code> 。
                     </p>
                     <div class="infoboxnote" id="GUID-3FB9797A-BFFA-48B2-BBB6-A7FDBC13C192__GUID-433E3623-2510-4620-B296-E113DB245E16">
                        <p class="notep1">注意：</p>
                        <p>必须在创建存储过程之前设置链接模式。在Sybase中发出以下命令： <code class="codeph">set chained on</code></p>
                     </div>
                  </div><a id="TGSYU708"></a><div class="props_rev_3"><a id="GUID-937C769C-3F43-491A-A2AA-79930359A995" name="GUID-937C769C-3F43-491A-A2AA-79930359A995"></a><h5 id="TGSYU-GUID-937C769C-3F43-491A-A2AA-79930359A995" class="sect5">OCI程序从顺序模式的结果集中获取</h5>
                     <div>
                        <p>以下示例显示了在顺序模式下从结果集中提取OCI程序：</p><pre class="oac_no_warn" dir="ltr">OCIEnv * ENVH; OCISvcCtx * SVCH; OCIStmt * STMH; OCIError * ERRH; OCIBind * BNDH [3]; OraText arg1 [20]; OraText arg2 [255]; OCIResult * rset; OCIStmt * rstmt; ub2 rcode [3]; ub2 rlens [3]; sb2 inds [3]; OraText * stmt =（OraText *）“begin refcurproc @ SYBS（：1，：2，：3）; end;”; OraText * n_rs_stm =（OraText *）“begin：ret：= DBMS_HS_RESULT_SET.GET_NEXT_RESULT_SET@SYBS; end;”; / *准备过程调用语句* / / *处理初始化代码跳过* / OCIStmtPrepare（STMH，ERRH，stmt，strlen（stmt），OCI_NTV_SYNTAX，OCI_DEFAULT）; / *绑定过程参数* / inds [0] = 0; strcpy（（char *）arg1，“Hello World”）; rlens [0] = strlen（arg1）; OCIBindByPos（STMH，＆BNDH [0]，ERRH，1，（dvoid *）arg1,20，SQLT_CHR，（dvoid *）＆（inds [0]），＆（rlens [0]），＆（rcode [0]） ，0，（ub4 *）0，OCI_DEFAULT）; inds [1] = -1; OCIBindByPos（STMH，＆BNDH [1]，ERRH，1，（dvoid *）arg2,20，SQLT_CHR，（dvoid *）＆（inds [1]），＆（rlens [1]），＆（rcode [1]） ，0，（ub4 *）0，OCI_DEFAULT）; inds [2] = 0; rlens [2] = 0; OCIDescriptorAlloc（ENVH，（dvoid **）＆rset，OCI_DTYPE_RSET，0，（dvoid **）0）; OCIBindByPos（STMH，＆BNDH [2]，ERRH，2，（dvoid *）rset，0，SQLT_RSET，（dvoid *）＆（inds [2]），＆（rlens [2]），＆（rcode [2]） ，0，（ub4 *）0，OCI_DEFAULT）; / *执行过程* / OCIStmtExecute（SVCH，STMH，ERRH，1,0，（CONST OCISnapshot *）0，（OCISnapshot *）0，OCI_DEFAULT）; / *将结果集转换为语句句柄* / OCIResultSetToStmt（rset，ERRH）; rstmt =（OCIStmt *）rset; / *在此之后，用户可以从rstmt * / / * get get_next_result_set调用来获取next_result set * / / *准备获取下一个结果集过程调用* / OCIStmtPrepare（STMH，ERRH，n_rs_stm，strlen（n_rs_stm），OCI_NTV_SYNTAX ，OCI_DEFAULT）; / *绑定返回值* / OCIBindByPos（STMH，＆BNDH [1]，ERRH，1，（dvoid *）rset，0，SQLT_RSET，（dvoid *）＆（inds [1]），＆（rlens [1]）， ＆（rcode [1]），0，（ub4 *）0，OCI_DEFAULT）; / *执行语句获取下一个结果集* / OCIStmtExecute（SVCH，STMH，ERRH，1,0，（CONST OCISnapshot *）0，（OCISnapshot *）0，OCI_DEFAULT）; / *将下一个结果集转换为语句句柄* / OCIResultSetToStmt（rset，ERRH）; rstmt =（OCIStmt *）rset; / *现在rstmt将指向远程存储过程返回的第二个结果集* / / *重复执行get_next_result_set以获取输出参数* /</pre></div>
                  </div><a id="TGSYU709"></a><div class="props_rev_3"><a id="GUID-F7875611-3416-435A-9867-70224E16CB83" name="GUID-F7875611-3416-435A-9867-70224E16CB83"></a><h5 id="TGSYU-GUID-F7875611-3416-435A-9867-70224E16CB83" class="sect5">从顺序模式的结果集中获取PL / SQL程序</h5>
                     <div>
                        <p>假设表<code class="codeph">loc_emp</code>是一个与Sybase emp表完全相同的本地表。同样的假设适用于<code class="codeph">loc_dept</code> 。 <code class="codeph">outargs</code>是一个表，其列对应于Sybase存储过程的out参数。
                        </p><pre class="oac_no_warn" dir="ltr">创建或替换包rcpackage是类型RCTYPE是ref游标;结束rcpackage; /</pre><pre class="oac_no_warn" dir="ltr">声明rc1 rcpackage.rctype; rec1 loc_emp％rowtype; rc2 rcpackage.rctype; rec2 loc_dept％rowtype; rc3 rcpackage.rctype; rec3 outargs％rowtype; out_arg varchar2（255）; begin  - 执行过程out_arg：= null; refcurproc @ SYBS（'Hello World'，out_arg，rc1）; - 从远程emp表中获取20行，并将它们插入到loc_emp中，以便在1 ... 20循环中将rc1提取到rec1;插入loc_emp（rec1.empno，rec1.ename，rec1.job，rec1.mgr，rec1.hiredate，rec1.sal，rec1.comm，rec1.deptno）;结束循环; - 关闭参考光标关闭rc1; - 获取存储过程返回的下一个结果集rc2：= dbms_hs_result_set.get_next_result_set@SYBS; - 从远程dept表中获取5行，并将它们插入到loc_dept中，用于i中的1 ... 5循环获取rc2到rec2;插入loc_dept值（rec2.deptno，rec2.dname，rec2.loc）;结束循环; - 关闭引用光标关闭rc2; - 从远程存储过程获取输出参数 - 由于我们处于顺序模式，它们将以结果集的形式返回rc3：= dbms_hs_result_set.get_next_result_set@SYBS; - 获取它们并将它们插入到outarguments表中，将rc3读入rec3;插入outargs（rec3.outarg，rec3.retval）; - 关闭参考光标关闭rc3;结束; /</pre></div>
                  </div>
               </div>
            </div><a id="TGSYU825"></a><div class="props_rev_3"><a id="GUID-15E36EB6-400C-40A2-B9C1-02E8E7F1C5C1" name="GUID-15E36EB6-400C-40A2-B9C1-02E8E7F1C5C1"></a><h3 id="TGSYU-GUID-15E36EB6-400C-40A2-B9C1-02E8E7F1C5C1" class="sect3">CHAR语义学</h3>
               <div>
                  <p>此功能允许网关可选地在<code class="codeph">CHAR</code>语义模式下运行。此功能不是将Sybase <code class="codeph">CHAR</code>列描述为<code class="codeph">CHAR(n BYTE)</code> ，而是将它们描述为<code class="codeph">CHAR(n CHAR)</code>和<code class="codeph">VARCHAR(n CHAR)</code> 。该概念类似于Oracle数据库<code class="codeph">CHAR</code> Semantics。您需要指定<code class="codeph">HS_NLS_LENGTH_SEMANTICS=CHAR</code>网关参数以激活此选项。有关更多详细信息，请参阅<a href="database-gateway-sybase-initialization-parameters.html#GUID-F1D90A28-69A0-4D6B-9A46-AA52A0D7246B">初始化参数</a> 。
                  </p>
               </div>
            </div><a id="TGSYU826"></a><div class="props_rev_3"><a id="GUID-5B78184A-33B2-42E4-AF70-4571BAE38FF4" name="GUID-5B78184A-33B2-42E4-AF70-4571BAE38FF4"></a><h3 id="TGSYU-GUID-5B78184A-33B2-42E4-AF70-4571BAE38FF4" class="sect3">多字节字符集比率抑制</h3>
               <div>
                  <p>此功能可选地禁止从Sybase数据库扩展到涉及多字节字符集的Oracle数据库的比率。默认情况下，Oracle网关采用最差的比率来防止数据被截断或缓冲区大小不足。但是，如果您具有Sybase数据库的特定知识并且不希望进行扩展，则可以指定<code class="codeph">HS_KEEP_REMOTE_COLUMN_SIZE</code>参数以禁止扩展。有关更多详细信息，请参阅<a href="database-gateway-sybase-initialization-parameters.html#GUID-F1D90A28-69A0-4D6B-9A46-AA52A0D7246B">初始化参数</a> 。
                  </p>
               </div>
            </div><a id="TGSYU827"></a><div class="props_rev_3"><a id="GUID-6C58A72D-6DC2-400B-8633-6B849D96C0C1" name="GUID-6C58A72D-6DC2-400B-8633-6B849D96C0C1"></a><h3 id="TGSYU-GUID-6C58A72D-6DC2-400B-8633-6B849D96C0C1" class="sect3">IPv6支持</h3>
               <div>
                  <p>除了Oracle数据库和网关之间的完全IPv6支持外，此网关和Sybase数据库之间也支持IPv6。有关更多详细信息，请参阅<a href="database-gateway-sybase-initialization-parameters.html#GUID-F1D90A28-69A0-4D6B-9A46-AA52A0D7246B">初始化参数中</a>的<code class="codeph">HS_FDS_CONNECT_INFO</code>参数。
                  </p>
               </div>
            </div><a id="TGSYU828"></a><div class="props_rev_3"><a id="GUID-5F63126A-637A-46F4-AB73-59EE3B17AB46" name="GUID-5F63126A-637A-46F4-AB73-59EE3B17AB46"></a><h3 id="TGSYU-GUID-5F63126A-637A-46F4-AB73-59EE3B17AB46" class="sect3">网关会话IDLE超时</h3>
               <div>
                  <p>您可以选择使用网关参数<code class="codeph">HS_IDLE_TIMEOUT</code>自动终止长空闲网关会话。具体来说，当网关会话空闲超过指定的时间限制时，网关会话将终止，并回滚任何挂起的更新。
                  </p>
               </div>
            </div><a id="TGSYU710"></a><div class="props_rev_3"><a id="GUID-FD4FEED3-3EAF-4EB1-A135-ED757DD185E5" name="GUID-FD4FEED3-3EAF-4EB1-A135-ED757DD185E5"></a><h3 id="TGSYU-GUID-FD4FEED3-3EAF-4EB1-A135-ED757DD185E5" class="sect3">Sybase的数据库兼容性问题</h3>
               <div>
                  <p>Sybase和Oracle数据库在某些方面的功能不同，导致兼容性问题，如下所示：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="database-gateway-sybase-features.html#GUID-762CE1AA-7851-4CA6-939A-9C2E6DA3FB86">链式模式</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-sybase-features.html#GUID-ED529C72-88A0-40EE-931A-BFFDDD88BE59">列定义</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-sybase-features.html#GUID-3A4D7100-8846-43E3-8D8E-6A56F8123AD5">命名规则</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-sybase-features.html#GUID-FA7F6492-C872-4278-B51F-825CA36C4DA6">数据类型</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-sybase-features.html#GUID-6A362818-FAC8-41AB-BAA1-86B8E0C01883">查询</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-sybase-features.html#GUID-1DE3B1D7-BD6D-43B6-8127-BF4220DA3436">锁定</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-sybase-features.html#GUID-166C6B2E-C5B2-433B-AA4B-7FCA54EC162B">Sybase标识符长度限制</a></p>
                     </li>
                  </ul>
               </div><a id="TGSYU711"></a><div class="props_rev_3"><a id="GUID-762CE1AA-7851-4CA6-939A-9C2E6DA3FB86" name="GUID-762CE1AA-7851-4CA6-939A-9C2E6DA3FB86"></a><h4 id="TGSYU-GUID-762CE1AA-7851-4CA6-939A-9C2E6DA3FB86" class="sect4">链式模式</h4>
                  <div>
                     <p><a id="d2102e882" class="indexterm-anchor"></a><a id="d2102e884" class="indexterm-anchor"></a>网关支持ANSI标准链接模式。必须为此模式编写Sybase存储过程。以链式模式运行允许网关将Oracle两阶段提交保护扩展到更新Oracle和Sybase数据库的事务。
                     </p>
                  </div>
               </div><a id="TGSYU712"></a><div class="props_rev_3"><a id="GUID-ED529C72-88A0-40EE-931A-BFFDDD88BE59" name="GUID-ED529C72-88A0-40EE-931A-BFFDDD88BE59"></a><h4 id="TGSYU-GUID-ED529C72-88A0-40EE-931A-BFFDDD88BE59" class="sect4">列定义</h4>
                  <div>
                     <p><a id="d2102e920" class="indexterm-anchor"></a>缺省情况下，Sybase表列不能包含空值，除非在列定义中指定了<code class="codeph">NULL</code> 。根据ANSI标准，可以将Sybase数据库选项“默认情况下允许空值”设置为true，以将默认列定义更改为<code class="codeph">NULL</code> 。</p>
                     <p>对于Oracle表，除非在列定义中指定<code class="codeph">NOT NULL</code>否则列中允许使用空值。
                     </p>
                  </div>
               </div><a id="TGSYU713"></a><div class="props_rev_3"><a id="GUID-3A4D7100-8846-43E3-8D8E-6A56F8123AD5" name="GUID-3A4D7100-8846-43E3-8D8E-6A56F8123AD5"></a><h4 id="TGSYU-GUID-3A4D7100-8846-43E3-8D8E-6A56F8123AD5" class="sect4">命名规则</h4>
                  <div>
                     <p>命名规则问题包括以下内容：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="database-gateway-sybase-features.html#GUID-87A010B5-4DB6-4B03-9618-90EF3B1853ED">命名对象的规则</a></p>
                        </li>
                        <li>
                           <p><a href="database-gateway-sybase-features.html#GUID-2466F5F3-E009-40D4-8021-C17FFE60C20F">区分大小写</a></p>
                        </li>
                     </ul>
                  </div><a id="TGSYU714"></a><div class="props_rev_3"><a id="GUID-87A010B5-4DB6-4B03-9618-90EF3B1853ED" name="GUID-87A010B5-4DB6-4B03-9618-90EF3B1853ED"></a><h5 id="TGSYU-GUID-87A010B5-4DB6-4B03-9618-90EF3B1853ED" class="sect5">命名对象的规则</h5>
                     <div>
                        <p>Oracle和Sybase使用不同的数据库对象命名规则。例如，每个对象名称允许的最大字符数可以不同。此外，使用单引号和双引号，区分大小写以及使用字母数字字符都可以不同。</p>
                        <div class="infoboxnotealso" id="GUID-87A010B5-4DB6-4B03-9618-90EF3B1853ED__GUID-68DFD59B-AD31-4BE0-AD9C-FB59E9F2F532">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="../refrn/index.html" target="_blank"><span class="italic">Oracle数据库参考</span></a>和Sybase文档。
                           </p>
                        </div>
                     </div>
                  </div><a id="TGSYU715"></a><div class="props_rev_3"><a id="GUID-2466F5F3-E009-40D4-8021-C17FFE60C20F" name="GUID-2466F5F3-E009-40D4-8021-C17FFE60C20F"></a><h5 id="TGSYU-GUID-2466F5F3-E009-40D4-8021-C17FFE60C20F" class="sect5">区分大小写</h5>
                     <div>
                        <p>除非您使用双引号字符包围标识符，否则Oracle数据库默认为大写。例如，要引用名为<code class="codeph">emp</code>的Sybase表，请输入带双引号字符的名称，如下所示：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT * FROM“emp”@SYBS;</pre><p>但是，要从Oracle应用程序引用<code class="codeph">SCOTT</code>拥有的名为<code class="codeph">emp</code>的Sybase表，请输入以下内容：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT * FROM“Scott”。“emp”@SYBS;</pre><p>如果名为<code class="codeph">emp</code>的Sybase表由<code class="codeph">SCOTT</code>拥有（表所有者名称为大写字母），则可以输入不带双引号字符的所有者名称，如下所示：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT * FROM SCOTT。“emp”@SYBS;</pre><p>要么</p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT * FROM scott。“emp”@SYBS;</pre><p>Oracle建议您使用双引号字符包围所有Sybase对象名称，并使用Sybase数据字典中显示的对象名称的确切字母大小写。参照中列出的支持的Oracle数据字典的表或视图时，则不需要此约定<a href="database-gateway-sybase-data-dictionary.html#GUID-E2DD24BF-4852-4B60-8494-26E4D0B000DD">数据字典</a> 。
                        </p>
                        <p>如果无法根据这些约定更改现有应用程序，请在Oracle中创建视图以将Sybase名称与正确的字母大小写相关联。例如，要仅使用大写名称从现有Oracle应用程序引用Sybase表<code class="codeph">emp</code> ，请定义以下视图：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; CREATE VIEW EMP（EMPNO，ENAME，SAL，HIREDATE）AS SELECT“empno”，“ename”，“sal”，“hiredate”FROM“emp”@SYBS;</pre><p>使用此视图，应用程序可以发出如下语句：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT EMPNO，ENAME FROM EMP;</pre><p>使用视图是一种解决方案，它复制源自Sybase数据字典的数据字典信息。只要在Sybase数据库中更改了相应表的数据定义，就必须准备好更新Oracle视图定义。</p>
                     </div>
                  </div>
               </div><a id="TGSYU716"></a><div class="props_rev_3"><a id="GUID-FA7F6492-C872-4278-B51F-825CA36C4DA6" name="GUID-FA7F6492-C872-4278-B51F-825CA36C4DA6"></a><h4 id="TGSYU-GUID-FA7F6492-C872-4278-B51F-825CA36C4DA6" class="sect4">数据类型</h4>
                  <div>
                     <p>数据类型问题包括以下内容：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="database-gateway-sybase-features.html#GUID-7A240833-3297-455C-9E73-4F0FDC430CF9">二进制文字表示法</a></p>
                        </li>
                        <li>
                           <p><a href="database-gateway-sybase-features.html#GUID-8D591454-5203-45BC-A53F-153CD43FCC86">数据类型转换</a></p>
                        </li>
                     </ul>
                  </div><a id="TGSYU717"></a><div class="props_rev_3"><a id="GUID-7A240833-3297-455C-9E73-4F0FDC430CF9" name="GUID-7A240833-3297-455C-9E73-4F0FDC430CF9"></a><h5 id="TGSYU-GUID-7A240833-3297-455C-9E73-4F0FDC430CF9" class="sect5">二进制文字表示法</h5>
                     <div>
                        <p>Oracle SQL使用由单引号括起的十六进制数字来表示要比较或插入到定义为数据类型<code class="codeph">RAW</code>列中的文字值。</p>
                        <p><a id="d2102e1185" class="indexterm-anchor"></a>此表示法未转换为与Sybase <code class="codeph">VARBINARY</code>和<code class="codeph">BINARY</code>数据类型兼容的语法（0x后跟十六进制数字，由单引号括起）。
                        </p>
                        <p>例如，不支持以下语句：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; INSERT INTO BINARY_TAB @ SYBS VALUES（'0xff'）</pre><p>其中<code class="codeph">BINARY_TAB</code>包含数据类型为<code class="codeph">VARBINARY</code>或<code class="codeph">BINARY</code>的列。插入或更新<code class="codeph">VARBINARY</code>和<code class="codeph">BINARY</code>数据类型时使用绑定变量。
                        </p>
                     </div>
                  </div><a id="TGSYU718"></a><div class="props_rev_3"><a id="GUID-8D591454-5203-45BC-A53F-153CD43FCC86" name="GUID-8D591454-5203-45BC-A53F-153CD43FCC86"></a><h5 id="TGSYU-GUID-8D591454-5203-45BC-A53F-153CD43FCC86" class="sect5">数据类型转换</h5>
                     <div>
                        <p>Sybase不支持隐式日期转换。此类转换必须明确。</p>
                        <p>例如，网关为以下<code class="codeph">SELECT</code>语句发出错误：</p><pre class="oac_no_warn" dir="ltr">SELECT TATE_COL FROM TEST @ SYBS WHERE DATE_COL =“1-JAN-2001”;</pre><p>要避免隐式转换出现问题，请添加显式转换，如下所示：</p><pre class="oac_no_warn" dir="ltr">从TEST @ SYBS WHERE DATE_COL = TO_DATE（“1-JAN-2001”）中选择DATE_COL</pre><div class="infoboxnotealso" id="GUID-8D591454-5203-45BC-A53F-153CD43FCC86__GUID-5A582B33-C014-4797-9066-61466323DF3D">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="database-gateway-sybase-data-type-conversion.html#GUID-815363B3-5372-4C85-AF55-BFB5EA0F7F98">数据类型转换</a>有关数据类型限制的更多信息。
                           </p>
                        </div>
                     </div>
                  </div>
               </div><a id="TGSYU719"></a><div class="props_rev_3"><a id="GUID-6A362818-FAC8-41AB-BAA1-86B8E0C01883" name="GUID-6A362818-FAC8-41AB-BAA1-86B8E0C01883"></a><h4 id="TGSYU-GUID-6A362818-FAC8-41AB-BAA1-86B8E0C01883" class="sect4">查询</h4>
                  <div>
                     <p>查询问题包括以下内容：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="database-gateway-sybase-features.html#GUID-554E8EB3-2FB2-4640-B069-1FDC392D9420">行选择</a></p>
                        </li>
                        <li>
                           <p><a href="database-gateway-sybase-features.html#GUID-11D2483A-E45F-44B2-A8BD-4DC419632FF9">空字符串</a></p>
                        </li>
                        <li>
                           <p><a href="database-gateway-sybase-features.html#GUID-0F1F8A14-703C-4CD7-91E4-4C66560B4EDF">空绑定变量</a></p>
                        </li>
                     </ul>
                  </div><a id="TGSYU720"></a><div class="props_rev_3"><a id="GUID-554E8EB3-2FB2-4640-B069-1FDC392D9420" name="GUID-554E8EB3-2FB2-4640-B069-1FDC392D9420"></a><h5 id="TGSYU-GUID-554E8EB3-2FB2-4640-B069-1FDC392D9420" class="sect5">行选择</h5>
                     <div>
                        <p>Sybase在返回任何行之前评估所有选定行的查询条件。如果一个或多个行的评估过程中存在错误，则即使其余行满足条件，也不会返回任何行。</p>
                        <p>Oracle逐行评估查询条件，并在评估成功时返回一行。返回行直到一行未通过评估。</p>
                     </div>
                  </div><a id="TGSYU721"></a><div class="props_rev_3"><a id="GUID-11D2483A-E45F-44B2-A8BD-4DC419632FF9" name="GUID-11D2483A-E45F-44B2-A8BD-4DC419632FF9"></a><h5 id="TGSYU-GUID-11D2483A-E45F-44B2-A8BD-4DC419632FF9" class="sect5">空字符串</h5>
                     <div>
                        <p>Oracle将SQL语句中的空字符串作为空值处理。Sybase将空字符串作为空字符串处理。</p>
                        <p>比较空字符串时，网关将文字空字符串传递给Sybase数据库，而不进行任何转换。如果您希望空字符串表示空值，Sybase不会以这种方式处理该语句;它使用空字符串。</p>
                        <p>您可以通过在SQL语句中使用<code class="codeph">NULL</code>或<code class="codeph">IS NULL</code>而不是空字符串语法来避免此问题，如下例所示：</p><pre class="oac_no_warn" dir="ltr">SELECT * from“emp”@SYBS，其中“ename”为IS NULL;</pre><p>选择一个空字符串</p>
                        <p>对于<code class="codeph">VARCHAR</code>列，网关将空字符串作为<code class="codeph">NULL</code>值返回到Oracle数据库。
                        </p>
                        <p>对于<code class="codeph">CHAR</code>列，网关返回列的完整大小，每个字符为空格（''）。
                        </p>
                     </div>
                  </div><a id="TGSYU722"></a><div class="props_rev_3"><a id="GUID-0F1F8A14-703C-4CD7-91E4-4C66560B4EDF" name="GUID-0F1F8A14-703C-4CD7-91E4-4C66560B4EDF"></a><h5 id="TGSYU-GUID-0F1F8A14-703C-4CD7-91E4-4C66560B4EDF" class="sect5">空绑定变量</h5>
                     <div>
                        <p>对于<code class="codeph">VARCHAR</code>绑定变量，网关将空绑定变量作为<code class="codeph">NULL</code>值传递给Sybase数据库。
                        </p>
                     </div>
                  </div>
               </div><a id="TGSYU723"></a><div class="props_rev_3"><a id="GUID-1DE3B1D7-BD6D-43B6-8127-BF4220DA3436" name="GUID-1DE3B1D7-BD6D-43B6-8127-BF4220DA3436"></a><h4 id="TGSYU-GUID-1DE3B1D7-BD6D-43B6-8127-BF4220DA3436" class="sect4">锁定</h4>
                  <div>
                     <p>Sybase数据库的锁定模型与Oracle模型有很大不同。网关依赖于Sybase的基本行为，因此通过网关访问Sybase的Oracle应用程序可能会受到以下可能情况的影响：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>读访问可能会阻止写访问</p>
                        </li>
                        <li>
                           <p>写访问可能会阻止读访问</p>
                        </li>
                        <li>
                           <p>语句级读取一致性无法保证</p>
                           <div class="infoboxnotealso" id="GUID-1DE3B1D7-BD6D-43B6-8127-BF4220DA3436__GUID-4164D2C6-B5A7-4AFB-ACE3-87E01AF66931">
                              <p class="notep1">也可以看看：</p>
                              <p>有关Sybase锁定模型的信息，请参见Sybase文档。</p>
                           </div>
                        </li>
                     </ul>
                  </div>
               </div><a id="TGSYU829"></a><div class="props_rev_3"><a id="GUID-166C6B2E-C5B2-433B-AA4B-7FCA54EC162B" name="GUID-166C6B2E-C5B2-433B-AA4B-7FCA54EC162B"></a><h4 id="TGSYU-GUID-166C6B2E-C5B2-433B-AA4B-7FCA54EC162B" class="sect4">Sybase标识符长度限制</h4>
                  <div>
                     <p>默认情况下，网关将始终引用标识符。但是，某些Sybase版本对于表或列名称等标识符的限制为30个字符，并且在检查此限制时，引号被视为名称的一部分。因此，使用引号时，只能指定28个字符。为了支持这些Sybase版本中的最大长度限制，您需要在网关初始化参数文件中指定<code class="codeph">HS_FDS_QUOTE_IDENTIFIER=FALSE</code> 。设置此初始化参数将使网关发送不带引号的标识符。但是，它具有排除使用包含点（。）或空格的标识符的副作用，并且标识符将遵循所使用的Sybase数据库的区分大小写。
                     </p>
                  </div>
               </div>
            </div><a id="TGSYU724"></a><div class="props_rev_3"><a id="GUID-F68B4168-F105-4F4E-ABC6-8D08DF973331" name="GUID-F68B4168-F105-4F4E-ABC6-8D08DF973331"></a><h3 id="TGSYU-GUID-F68B4168-F105-4F4E-ABC6-8D08DF973331" class="sect3">已知的限制</h3>
               <div>
                  <p>如果遇到本节或<span class="q">“ <a href="database-gateway-sybase-features.html#GUID-43A40ADA-3E5E-4F32-A070-2D472F234F01">已知问题</a> ”中</span>未列出的不兼容问题，请与Oracle支持服务联系。以下部分描述了已知的限制，并包括在可能的情况下处理它们的建议：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="database-gateway-sybase-features.html#GUID-C5D89B64-1A0C-4343-88A0-871B2FDA381B">交易诚信</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-sybase-features.html#GUID-AD2A40D0-EDEB-4973-89F6-62F1254E69CC">交易能力</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-sybase-features.html#GUID-B4C4699D-084D-4A17-BE95-9261CF0566C9">PL / SQL游标循环中的COMMIT或ROLLBACK关闭打开游标</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-sybase-features.html#GUID-1206D772-5969-4CDA-B321-C27C97AF2AEF">存储过程</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-sybase-features.html#GUID-8BDE3120-0401-42AD-889D-D6EC12C1FBE3">传递功能</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-sybase-features.html#GUID-3E756805-B67F-49D2-A4FB-3E2C87676758">Sybase NCHAR和NVARCHAR数据类型</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-sybase-features.html#GUID-FE84730A-B9AD-4399-8A79-1FC21346AE7C">SQL语法</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-sybase-features.html#GUID-DA57D529-D68B-4D91-99D8-83330D1C0FA9">带有小写表名的SQL * Plus COPY命令</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-sybase-features.html#GUID-9AB95238-30AC-4AB7-8D7C-7B0E8B8A3AD1">数据库链接</a></p>
                     </li>
                  </ul>
                  <p>以下限制也适用：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>当负数用作<code class="codeph">SUBSTR</code>函数中的第二个参数时，将返回不正确的结果。这是由于Oracle <code class="codeph">SUBSTR</code>功能与Sybase中的等效功能不兼容。
                        </p>
                        <div class="infoboxnote" id="GUID-F68B4168-F105-4F4E-ABC6-8D08DF973331__GUID-60C6EBC9-0132-4451-99AD-8956476EEBED">
                           <p class="notep1">注意：</p>
                           <p>如果您对这些限制有任何疑问或疑虑，请联系Oracle支持服务。</p>
                        </div>
                     </li>
                  </ul>
               </div><a id="TGSYU725"></a><div class="props_rev_3"><a id="GUID-C5D89B64-1A0C-4343-88A0-871B2FDA381B" name="GUID-C5D89B64-1A0C-4343-88A0-871B2FDA381B"></a><h4 id="TGSYU-GUID-C5D89B64-1A0C-4343-88A0-871B2FDA381B" class="sect4">交易诚信</h4>
                  <div>
                     <p>在以下情况下，网关无法保证事务完整性：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>当网关处理的语句导致目标数据库中的隐式提交时</p>
                        </li>
                        <li>
                           <p>目标数据库配置为在自动提交模式下工作时</p>
                           <div class="infoboxnote" id="GUID-C5D89B64-1A0C-4343-88A0-871B2FDA381B__GUID-88C634D4-2E9B-4E22-BDF1-510A0F8DDDE3">
                              <p class="notep1">注意：</p>
                              <p>Oracle强烈建议如下：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>如果您知道执行特定语句会导致目标数据库中的隐式提交，请确保在其自己的事务中执行此语句。</p>
                                 </li>
                                 <li>
                                    <p>不要将目标数据库配置为在自动提交模式下工作。</p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                     </ul>
                  </div>
               </div><a id="TGSYU726"></a><div class="props_rev_3"><a id="GUID-AD2A40D0-EDEB-4973-89F6-62F1254E69CC" name="GUID-AD2A40D0-EDEB-4973-89F6-62F1254E69CC"></a><h4 id="TGSYU-GUID-AD2A40D0-EDEB-4973-89F6-62F1254E69CC" class="sect4">交易能力</h4>
                  <div>
                     <p><a id="d2102e1726" class="indexterm-anchor"></a>网关不支持保存点。如果涉及网关的分布式更新事务正在进行并且用户尝试创建保存点，则会发生以下错误：</p><pre class="oac_no_warn" dir="ltr"><a id="d2102e1730" class="indexterm-anchor"></a> ORA-02070：数据库dblink在此上下文中不支持savepoint <a id="d2102e1733" class="indexterm-anchor"></a>
</pre><p><a id="d2102e1739" class="indexterm-anchor"></a>默认情况下，网关配置为<code class="codeph">COMMIT_CONFIRM</code> ，它始终是<a id="d2102e1745" class="indexterm-anchor"></a>事务更新Sybase数据库时的提交点站点。
                     </p>
                  </div>
               </div><a id="TGSYU727"></a><div class="props_rev_3"><a id="GUID-B4C4699D-084D-4A17-BE95-9261CF0566C9" name="GUID-B4C4699D-084D-4A17-BE95-9261CF0566C9"></a><h4 id="TGSYU-GUID-B4C4699D-084D-4A17-BE95-9261CF0566C9" class="sect4">PL / SQL游标循环中的COMMIT或ROLLBACK关闭打开游标</h4>
                  <div>
                     <p>在PL / SQL游标循环中发出的任何<code class="codeph">COMMIT</code>或<code class="codeph">ROLLBACK</code>关闭所有打开的游标，这可能导致以下错误：</p><pre class="oac_no_warn" dir="ltr">ORA-1002：取消顺序</pre><p>要防止此错误，请在游标循环外移动<code class="codeph">COMMIT</code>或<code class="codeph">ROLLBACK</code>语句。
                     </p>
                  </div>
               </div><a id="TGSYU728"></a><div class="props_rev_3"><a id="GUID-1206D772-5969-4CDA-B321-C27C97AF2AEF" name="GUID-1206D772-5969-4CDA-B321-C27C97AF2AEF"></a><h4 id="TGSYU-GUID-1206D772-5969-4CDA-B321-C27C97AF2AEF" class="sect4">存储过程</h4>
                  <div>
                     <p>通过嵌入提交或回滚的存储过程发出的更改不能由Oracle事务管理器或Oracle <code class="codeph">COMMIT</code>或<code class="codeph">ROLLBACK</code>命令控制。
                     </p>
                     <p>通过Oracle Database Gateway for Sybase访问带有结果集的存储过程时，必须使用异构服务的顺序模式。</p>
                     <p>通过Oracle Database Gateway for Sybase访问具有多个结果集的存储过程时，必须先读取所有结果集，然后再继续。</p>
                     <p>必须将存储过程的输出参数初始化为<code class="codeph">NULL</code>值。
                     </p>
                     <p>Oracle Database Gateway for Sybase在传递查询中不支持带输出参数的输出参数或存储过程。</p>
                  </div>
               </div><a id="TGSYU729"></a><div class="props_rev_3"><a id="GUID-8BDE3120-0401-42AD-889D-D6EC12C1FBE3" name="GUID-8BDE3120-0401-42AD-889D-D6EC12C1FBE3"></a><h4 id="TGSYU-GUID-8BDE3120-0401-42AD-889D-D6EC12C1FBE3" class="sect4">传递功能</h4>
                  <div>
                     <p>Sybase使用网关执行的DDL语句<a id="d2102e1896" class="indexterm-anchor"></a>如果它们位于多语句事务中，则传递功能可能会失败。设置Sybase选项“ddl in tran”以允许事务中的DDL语句。
                     </p>
                     <p>Oracle建议您放置一个<a id="d2102e1901" class="indexterm-anchor"></a>使用传递功能执行此类语句时，DDL语句在其自己的事务中。必须在DDL语句之后发出显式<code class="codeph">COMMIT</code> 。
                     </p>
                     <p><a id="d2102e1908" class="indexterm-anchor"></a>如果通过网关传递的SQL语句导致Sybase数据库中的隐式提交，则Oracle事务管理器不会意识到提交，并且Oracle <code class="codeph">ROLLBACK</code>命令不能用于回滚事务。
                     </p>
                  </div>
               </div><a id="TGSYU730"></a><div class="props_rev_3"><a id="GUID-3E756805-B67F-49D2-A4FB-3E2C87676758" name="GUID-3E756805-B67F-49D2-A4FB-3E2C87676758"></a><h4 id="TGSYU-GUID-3E756805-B67F-49D2-A4FB-3E2C87676758" class="sect4">Sybase NCHAR和NVARCHAR数据类型</h4>
                  <div>
                     <p>网关无法选择使用Sybase <code class="codeph">NCHAR</code>或<code class="codeph">NVARCHAR</code>数据类型定义的列。
                     </p>
                  </div>
               </div><a id="TGSYU731"></a><div class="props_rev_3"><a id="GUID-FE84730A-B9AD-4399-8A79-1FC21346AE7C" name="GUID-FE84730A-B9AD-4399-8A79-1FC21346AE7C"></a><h4 id="TGSYU-GUID-FE84730A-B9AD-4399-8A79-1FC21346AE7C" class="sect4">SQL语法</h4>
                  <div>
                     <p>SQL语法的限制如下：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="database-gateway-sybase-features.html#GUID-A82DE02F-345F-4647-A62E-91F4F41CF91E">条款的当前条款</a></p>
                        </li>
                        <li>
                           <p><a href="database-gateway-sybase-features.html#GUID-7C089AEA-A094-4242-A58E-776B96C9F4E7">通过条款连接</a></p>
                        </li>
                        <li>
                           <p><a href="database-gateway-sybase-features.html#GUID-F2163EA1-E8CE-4140-B2EA-D3448866F071">ROWID</a></p>
                        </li>
                        <li>
                           <p><a href="database-gateway-sybase-features.html#GUID-A0E56148-7576-4A73-93DA-4EDAB603339B">INSERT语句中的子查询</a></p>
                        </li>
                        <li>
                           <p><a href="database-gateway-sybase-features.html#GUID-2B5F7861-B8A6-496B-A1EB-79A814117790">解释计划声明</a></p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-FE84730A-B9AD-4399-8A79-1FC21346AE7C__GUID-7985B3F7-A3B6-43C6-B609-B671A1BFAB99">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="database-gateway-sybase-supported-sqlsyntax-function.html#GUID-55F1375A-ACD9-4606-BE3B-AA63FEE172AE">支持的SQL语法和函数</a> ，以获取有关SQL语法限制的更多信息。
                        </p>
                     </div>
                  </div><a id="TGSYU732"></a><div class="props_rev_3"><a id="GUID-A82DE02F-345F-4647-A62E-91F4F41CF91E" name="GUID-A82DE02F-345F-4647-A62E-91F4F41CF91E"></a><h5 id="TGSYU-GUID-A82DE02F-345F-4647-A62E-91F4F41CF91E" class="sect5">条款的当前条款</h5>
                     <div>
                        <p>网关不支持带有<code class="codeph">WHERE CURRENT OF</code>子句的<code class="codeph">UPDATE</code>和<code class="codeph">DELETE</code>语句，因为它们依赖于Oracle <a id="d2102e2061" class="indexterm-anchor"></a> <code class="codeph">ROWID</code>实现。要通过网关更新或删除特定行，必须使用条件样式<code class="codeph">WHERE</code>子句。
                        </p>
                     </div>
                  </div><a id="TGSYU733"></a><div class="props_rev_3"><a id="GUID-7C089AEA-A094-4242-A58E-776B96C9F4E7" name="GUID-7C089AEA-A094-4242-A58E-776B96C9F4E7"></a><h5 id="TGSYU-GUID-7C089AEA-A094-4242-A58E-776B96C9F4E7" class="sect5">通过条款连接</h5>
                     <div>
                        <p>网关不支持<code class="codeph">SELECT</code>语句中的<code class="codeph">CONNECT BY</code>子句。
                        </p>
                     </div>
                  </div><a id="TGSYU734"></a><div class="props_rev_3"><a id="GUID-F2163EA1-E8CE-4140-B2EA-D3448866F071" name="GUID-F2163EA1-E8CE-4140-B2EA-D3448866F071"></a><h5 id="TGSYU-GUID-F2163EA1-E8CE-4140-B2EA-D3448866F071" class="sect5">ROWID</h5>
                     <div>
                        <p>不支持Oracle <code class="codeph">ROWID</code>实现。
                        </p>
                     </div>
                  </div><a id="TGSYU735"></a><div class="props_rev_3"><a id="GUID-A0E56148-7576-4A73-93DA-4EDAB603339B" name="GUID-A0E56148-7576-4A73-93DA-4EDAB603339B"></a><h5 id="TGSYU-GUID-A0E56148-7576-4A73-93DA-4EDAB603339B" class="sect5">INSERT语句中的子查询</h5>
                     <div>
                        <p><code class="codeph">INSERT</code>语句的子查询不能对同一个表使用多个别名。例如，不支持以下语句：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; INSERT INTO“emp_target”@SYBS SELECT a。“empno”FROM“emp_source”@SYBS a，“emp_source”@SYBS b WHERE b。“empno”= 9999</pre></div>
                  </div><a id="TGSYU736"></a><div class="props_rev_3"><a id="GUID-2B5F7861-B8A6-496B-A1EB-79A814117790" name="GUID-2B5F7861-B8A6-496B-A1EB-79A814117790"></a><h5 id="TGSYU-GUID-2B5F7861-B8A6-496B-A1EB-79A814117790" class="sect5">解释计划声明</h5>
                     <div>
                        <p>不支持<code class="codeph">EXPLAIN PLAN</code>语句。
                        </p>
                     </div>
                  </div>
               </div><a id="TGSYU738"></a><div class="props_rev_3"><a id="GUID-DA57D529-D68B-4D91-99D8-83330D1C0FA9" name="GUID-DA57D529-D68B-4D91-99D8-83330D1C0FA9"></a><h4 id="TGSYU-GUID-DA57D529-D68B-4D91-99D8-83330D1C0FA9" class="sect4">带有小写表名的SQL * Plus COPY命令</h4>
                  <div>
                     <p>您需要使用双引号来包装小写表名。</p>
                     <p>例如：</p><pre class="oac_no_warn" dir="ltr">复制自tkhouser / tkhouser @ inst1使用select * from“tkhodept”@ holink2插入loc_tkhodept;</pre></div>
               </div><a id="TGSYU739"></a><div class="props_rev_3"><a id="GUID-9AB95238-30AC-4AB7-8D7C-7B0E8B8A3AD1" name="GUID-9AB95238-30AC-4AB7-8D7C-7B0E8B8A3AD1"></a><h4 id="TGSYU-GUID-9AB95238-30AC-4AB7-8D7C-7B0E8B8A3AD1" class="sect4">数据库链接</h4>
                  <div>
                     <p>网关不是多线程的，不支持共享数据库链接。每个网关会话都会生成一个单独的网关进程，并且无法共享连接。</p>
                  </div>
               </div>
            </div><a id="TGSYU740"></a><div class="props_rev_3"><a id="GUID-43A40ADA-3E5E-4F32-A070-2D472F234F01" name="GUID-43A40ADA-3E5E-4F32-A070-2D472F234F01"></a><h3 id="TGSYU-GUID-43A40ADA-3E5E-4F32-A070-2D472F234F01" class="sect3">已知问题</h3>
               <div>
                  <p>本节介绍已知问题，并包括在可能的情况下进行纠正的建议。如果您对问题有任何疑问或疑虑，请联系Oracle支持服务。可在线获取当前的问题列表。有关访问列表的信息，请与当地的Oracle办事处联系。</p>
                  <p>已知问题如下：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="database-gateway-sybase-features.html#GUID-22D3B18B-3414-4BDA-8CCB-109DE9763939">加密格式登录</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-sybase-features.html#GUID-DFBCD7A4-742B-40A2-8CEC-9BC22C1131A8">日期算术</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-sybase-features.html#GUID-9B6A69F6-3D35-498F-9122-E4D22CE2C827">Sybase IMAGE和TEXT数据类型</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-sybase-features.html#GUID-9FCA8C8C-BEAD-4155-84FC-B73D8CD0DE07">字符串函数</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-sybase-features.html#GUID-0081DC7C-A0DD-4848-83E2-A069C6386C3E">架构名称和PL / SQL</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-sybase-features.html#GUID-8FAA9284-10BB-49D3-B4BF-E300EA76C798">数据字典视图和PL / SQL</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-sybase-features.html#GUID-C0B7E445-BF8F-478E-80E2-90DCF980DDF2">存储过程</a></p>
                     </li>
                  </ul>
               </div><a id="TGSYU741"></a><div class="props_rev_3"><a id="GUID-22D3B18B-3414-4BDA-8CCB-109DE9763939" name="GUID-22D3B18B-3414-4BDA-8CCB-109DE9763939"></a><h4 id="TGSYU-GUID-22D3B18B-3414-4BDA-8CCB-109DE9763939" class="sect4">加密格式登录</h4>
                  <div>
                     <p>Oracle数据库不再支持初始化参数<code class="codeph">DBLINK_ENCRYPT_LOGIN</code> 。直到版本7.3，此参数的默认TRUE值阻止了通过网络发送登录用户ID的密码（以明文形式）。更高版本会自动加密密码。
                     </p>
                  </div>
               </div><a id="TGSYU742"></a><div class="props_rev_3"><a id="GUID-DFBCD7A4-742B-40A2-8CEC-9BC22C1131A8" name="GUID-DFBCD7A4-742B-40A2-8CEC-9BC22C1131A8"></a><h4 id="TGSYU-GUID-DFBCD7A4-742B-40A2-8CEC-9BC22C1131A8" class="sect4">日期算术</h4>
                  <div>
                     <p>以下SQL表达式无法与网关正常运行：</p><pre class="oac_no_warn" dir="ltr"><span class="italic">date</span> + <span class="italic">numbernumber</span> + <span class="italic">datedate  -  numberdate1  -  date2</span>
</pre><p>具有前面表达式的语句将发送到Sybase数据库，而不进行任何转换。由于Sybase不支持这些日期算术函数，因此语句会返回错误。</p>
                  </div>
               </div><a id="TGSYU743"></a><div class="props_rev_3"><a id="GUID-9B6A69F6-3D35-498F-9122-E4D22CE2C827" name="GUID-9B6A69F6-3D35-498F-9122-E4D22CE2C827"></a><h4 id="TGSYU-GUID-9B6A69F6-3D35-498F-9122-E4D22CE2C827" class="sect4">Sybase IMAGE和TEXT数据类型</h4>
                  <div>
                     <p>使用<code class="codeph">IMAGE</code>和<code class="codeph">TEXT</code>数据类型时，以下限制适用：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>不支持的SQL函数不能在访问定义为Sybase数据类型<code class="codeph">IMAGE</code>或<code class="codeph">TEXT</code>的列的SQL语句中使用。</p>
                        </li>
                        <li>
                           <p>当数据长度超过80个字符时，不能使用SQL * Plus从定义为Sybase数据类型<code class="codeph">IMAGE</code>或<code class="codeph">TEXT</code>的列中选择数据。Oracle建议使用Pro * C或Oracle Call Interface在Sybase数据库中访问此类数据。
                           </p>
                        </li>
                        <li>
                           <p>无法通过传递查询读取<code class="codeph">IMAGE</code>和<code class="codeph">TEXT</code>数据。
                           </p>
                        </li>
                     </ul>
                     <p>网关不支持<code class="codeph">DBMS_SQL</code>包的PL / SQL函数<code class="codeph">COLUMN_VALUE_LONG</code> 。
                     </p>
                     <div class="infoboxnotealso" id="GUID-9B6A69F6-3D35-498F-9122-E4D22CE2C827__GUID-90E0CA7F-B5FF-4172-86F6-96294885E095">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="database-gateway-sybase-supported-sqlsyntax-function.html#GUID-55F1375A-ACD9-4606-BE3B-AA63FEE172AE">支持的SQL语法和函数</a> ，以获取有关SQL语法限制的更多信息。
                        </p>
                     </div>
                  </div>
               </div><a id="TGSYU744"></a><div class="props_rev_3"><a id="GUID-9FCA8C8C-BEAD-4155-84FC-B73D8CD0DE07" name="GUID-9FCA8C8C-BEAD-4155-84FC-B73D8CD0DE07"></a><h4 id="TGSYU-GUID-9FCA8C8C-BEAD-4155-84FC-B73D8CD0DE07" class="sect4">字符串函数</h4>
                  <div>
                     <p>如果使用“ <code class="codeph">||</code> ”连接数字文字<a id="d2102e2574" class="indexterm-anchor"></a>运算符在使用网关查询Sybase数据库时，结果是算术加法。例如，以下语句的结果为18：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT 9 || 9 FROM DUAL @ SYBS;</pre><p>使用Oracle查询Oracle数据库时，结果为<code class="codeph">99</code> 。
                     </p>
                  </div>
               </div><a id="TGSYU745"></a><div class="props_rev_3"><a id="GUID-0081DC7C-A0DD-4848-83E2-A069C6386C3E" name="GUID-0081DC7C-A0DD-4848-83E2-A069C6386C3E"></a><h4 id="TGSYU-GUID-0081DC7C-A0DD-4848-83E2-A069C6386C3E" class="sect4">架构名称和PL / SQL</h4>
                  <div>
                     <p>如果在PL / SQL块的SQL语句中没有为Sybase数据库对象添加其模式名称，则会出现以下错误消息：</p><pre class="oac_no_warn" dir="ltr">必须声明ORA-6550 PLS-201标识符<span class="italic">table_name</span> 。
</pre><p>更改SQL语句以包括对象的模式名称。</p>
                  </div>
               </div><a id="TGSYU746"></a><div class="props_rev_3"><a id="GUID-8FAA9284-10BB-49D3-B4BF-E300EA76C798" name="GUID-8FAA9284-10BB-49D3-B4BF-E300EA76C798"></a><h4 id="TGSYU-GUID-8FAA9284-10BB-49D3-B4BF-E300EA76C798" class="sect4">数据字典视图和PL / SQL</h4>
                  <div>
                     <p>您不能在PL / SQL块内的SQL语句中引用数据字典视图。</p>
                  </div>
               </div><a id="TGSYU747"></a><div class="props_rev_3"><a id="GUID-C0B7E445-BF8F-478E-80E2-90DCF980DDF2" name="GUID-C0B7E445-BF8F-478E-80E2-90DCF980DDF2"></a><h4 id="TGSYU-GUID-C0B7E445-BF8F-478E-80E2-90DCF980DDF2" class="sect4">存储过程</h4>
                  <div>
                     <p>返回结果集的存储过程的返回值不正确。</p>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>