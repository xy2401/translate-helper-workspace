<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="WALLET_ROOT specifies the path to the root of a directory tree containing a subdirectory for each pluggable database (PDB), under which a directory structure similar to the Oracle ASM wallet storage directory structure is used to store the various wallets associated with the PDB."></meta>
      <meta name="description" content="WALLET_ROOT specifies the path to the root of a directory tree containing a subdirectory for each pluggable database (PDB), under which a directory structure similar to the Oracle ASM wallet storage directory structure is used to store the various wallets associated with the PDB."></meta>
      <title>WALLET_ROOT</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Database Reference"></meta>
      <meta property="og:description" content="WALLET_ROOT specifies the path to the root of a directory tree containing a subdirectory for each pluggable database (PDB), under which a directory structure similar to the Oracle ASM wallet storage directory structure is used to store the various wallets associated with the PDB."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Database Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-02-10T14:59:27-08:00"></meta>
      <meta name="dcterms.title" content="Database Reference"></meta>
      <meta name="dcterms.dateCopyrighted" content="2002, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96196-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="USER_DUMP_DEST.html" title="Previous" type="text/html"></link>
      <link rel="next" href="WORKAREA_SIZE_POLICY.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="REFRN"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="USER_DUMP_DEST.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="WORKAREA_SIZE_POLICY.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">数据库参考</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="initialization-parameters.html" property="item" typeof="WebPage"><span property="name">初始化参数</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="initialization-parameters-2.html" property="item" typeof="WebPage"><span property="name">初始化参数</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">WALLET_ROOT</li>
            </ol>
            <a id="GUID-37347728-3D24-444A-A9ED-5B981C4EA2D3" name="GUID-37347728-3D24-444A-A9ED-5B981C4EA2D3"></a>
            
            <h2 id="REFRN-GUID-37347728-3D24-444A-A9ED-5B981C4EA2D3" class="sect2"><span class="enumeration_section">1.353</span> WALLET_ROOT</h2>
         </header>
         <div class="ind">
            <div>
               <p><code class="codeph">WALLET_ROOT</code>指定目录树根目录的路径，该目录树包含每个可插拔数据库（PDB）的子目录，在该目录树下，类似于Oracle ASM钱包存储目录结构的目录结构用于存储与PDB关联的各种钱包。</p>
               <div class="section">
                  <div class="tblformal" id="GUID-37347728-3D24-444A-A9ED-5B981C4EA2D3__GUID-AC9A6E4A-9272-45BA-BB81-8D0706E961FA">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="This table describes the properties for this initialization parameter." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="25%" id="d206221e172">属性</th>
                              <th align="left" valign="bottom" width="75%" id="d206221e176">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d206221e182" headers="d206221e172 ">
                                 <p><span class="bold">参数类型</span></p> 
                              </td>
                              <td align="left" valign="top" width="75%" headers="d206221e182 d206221e176 ">
                                 <p>串</p> 
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d206221e192" headers="d206221e172 ">
                                 <p><span class="bold">句法</span></p> 
                              </td>
                              <td align="left" valign="top" width="75%" headers="d206221e192 d206221e176 ">
                                 <p><code class="codeph">WALLET_ROOT = wallet-root-directory-path</code></p> 
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d206221e203" headers="d206221e172 ">
                                 <p><span class="bold">默认值</span></p> 
                              </td>
                              <td align="left" valign="top" width="75%" headers="d206221e203 d206221e176 ">
                                 <p>没有默认值。</p> 
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d206221e213" headers="d206221e172 ">
                                 <p><span class="bold">可修改</span></p> 
                              </td>
                              <td align="left" valign="top" width="75%" headers="d206221e213 d206221e176 ">
                                 <p>没有</p> 
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d206221e223" headers="d206221e172 ">
                                 <p><span class="bold">可在PDB中修改</span></p> 
                              </td>
                              <td align="left" valign="top" width="75%" headers="d206221e223 d206221e176 ">
                                 <p>没有</p> 
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d206221e233" headers="d206221e172 ">
                                 <p><span class="bold">基本</span></p> 
                              </td>
                              <td align="left" valign="top" width="75%" headers="d206221e233 d206221e176 ">
                                 <p>没有</p> 
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d206221e243" headers="d206221e172 ">
                                 <p><span class="bold">Oracle RAC</span></p> 
                              </td>
                              <td align="left" valign="top" width="75%" headers="d206221e243 d206221e176 ">
                                 <p>可以在不同的Oracle RAC实例上使用不同的值。</p> 
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" --> 
                  <p>无论与其关联的组件如何，各种钱包文件的名称始终相同。每个组件的钱包都存储在<code class="codeph">WALLET_ROOT</code>目录结构中每个PDB GUID目录下的名称基于组件名称的目录中。例如，对于TDE组件，子目录名称为<code class="codeph">tde</code> 。
                  </p>
                  <p>如果<code class="codeph">WALLET_ROOT</code>没有设置参数，则<code class="codeph">SQLNET.ENCRYPTION_WALLET_LOCATION</code>参数用于（如在之前的<span>Oracle数据库18c的</span> Oracle数据库的版本），但除非可以使用没有孤立的密钥库<code class="codeph">WALLET_ROOT</code>参数设置。除非还设置了<code class="codeph">WALLET_ROOT</code>参数，否则<code class="codeph">TDE_CONFIGURATION</code>初始化参数不能用于将任何PDB配置为在隔离模式下运行。
                  </p>
                  <div class="infoboxnote" id="GUID-37347728-3D24-444A-A9ED-5B981C4EA2D3__GUID-C793EBE9-BDB9-475B-ADD9-63A6731D9F5E">
                     <p class="notep1">注意：</p>
                     <p><span>Oracle Database 18c中</span>不推荐使用<code class="codeph">SQLNET.ENCRYPTION_WALLET_LOCATION</code>参数。
                     </p>
                  </div>
                  <p>例如， <code class="codeph">WALLET_ROOT</code>初始化参数指定的位置的目录内容可能如下所示，其中<span class="variable" translate="no">wallet-root</span>是<code class="codeph">WALLET_ROOT</code>参数指定的目录：</p><pre class="pre codeblock"><code><span class="italic">wallet-root</span> /eus/ewallet.p12 <span class="italic">wallet-root</span> /tde/ewallet.p12 <span class="italic">wallet-root</span> /tde/ewallet_2016120918333644.p12 <span class="italic">wallet-root</span> /tde_seps/cwallet.sso <span class="italic">wallet-root</span> /tls/ewallet.p12 <span class="italic">wallet-root</span> / xdb_wallet /ewallet.p12 <span class="italic">钱包根</span> /3FD1C95B48205D0FE053C5A0E40AEF8C/tde/ewallet.p12 <span class="italic">钱包根</span> /3FD1C95B48205D0FE053C5A0E40AEF8C/tde/ewallet_2016110918331622.p12 <span class="italic">钱包根</span> /3FD1C95B48205D0FE053C5A0E40AEF8C/tde/ewallet_2016110918332363.p12 <span class="italic">钱包根</span> /3FD1C95B48205D0FE053C5A0E40AEF8C/tde_seps/cwallet.sso <span class="italic">wallet- root</span> /3FD1C95B48205D0FE053C5A0E40AEF8C/tls/cwallet.sso <span class="italic">wallet-root</span> /3FD1C95B48205D0FE053C5A0E40AEF8C/tls/ewallet.p12</code></pre><p>设置<code class="codeph">WALLET_ROOT</code>参数后，可以省略某些<code class="codeph">ADMINISTER KEY MANAGEMENT</code>命令的路径。
                  </p>
                  <p><code class="codeph">WALLET_ROOT</code>值可以包含对环境变量的引用。以下示例使用<code class="codeph">ORACLE_BASE</code>环境变量的值来设置wallet目录层次结构的根目录：</p><pre class="pre codeblock"><code>WALLET_ROOT = $ ORACLE_BASE /管理/ ORCL /钱包</code></pre><p>如果<code class="codeph">ORACLE_BASE</code>环境变量具有值<code class="codeph">/app/oracle</code> ，那么由上面的<code class="codeph">WALLET_ROOT</code>实例初始化参数设置产生的TDE使用的<code class="codeph">WALLET_ROOT</code>路径将是<code class="codeph">/app/oracle/admin/orcl/wallet</code> 。
                  </p>
                  <div class="infoboxnote" id="GUID-37347728-3D24-444A-A9ED-5B981C4EA2D3__GUID-ECD2F420-5AC9-4EFF-83C1-EA7F7DB30C66">
                     <p class="notep1">注意：</p>
                     <p>使用<code class="codeph">WALLET_ROOT</code>参数指定的<code class="codeph">wallet-root-directory-name</code>的规范化长度不能超过255个字符，否则将显示以下错误消息集之一：</p>
                     <div class="p"><pre class="pre codeblock"><code>ORA-46693：WALLET_ROOT位置缺失或无效。ORA-32021：参数值超过255个字符ORA-01078：处理系统参数失败</code></pre></div>
                     <div class="p"><pre class="pre codeblock"><code>ORA-46693：WALLET_ROOT位置缺失或无效。ORA-07204：sltln：由于缺少输出缓冲区空间，名称转换失败。ORA-01078：处理系统参数失败</code></pre></div>
                     <p>标准化长度包括使用<code class="codeph">WALLET_ROOT</code>参数指定的扩展环境变量的长度。启动实例的用户的环境变量值用于<code class="codeph">WALLET_ROOT</code>参数的规范化。
                     </p>
                     <p><code class="codeph">SHOW PARAMETER WALLET_ROOT</code>命令始终显示规范化值（扩展了所有环境变量）。
                     </p>
                  </div>
                  <p>对于非ASM文件系统，当为PDB创建任何透明数据加密（TDE）钱包时，将在<code class="codeph">WALLET_ROOT</code>参数指定的目录下自动创建TDE组件的PDB GUID扩展路径。</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-37347728-3D24-444A-A9ED-5B981C4EA2D3__GUID-2911E6CA-A38C-4E9F-84B2-9505FDBA1202">在WALLET_ROOT下启用目录的自动创建</p>
                  <p>通过使用以下每个子部分中描述的<code class="codeph">WALLET_ROOT</code>的特定配置，可以将Oracle数据库配置为在<code class="codeph">WALLET_ROOT</code>目录路径下自动创建必需的<span class="variable" translate="no">pdb-guid</span>和<span class="variable" translate="no">component name</span>目录。允许<code class="codeph">WALLET_ROOT</code>其他设置，但不会导致ASM OMF层自动创建必要的子目录。
                  </p>
                  <p><span class="bold">必需的设置，以便为不使用Oracle ASM的数据库启用自动目录创建</span></p>
                  <p>对于不使用Oracle ASM文件系统的数据库，需要按如下方式设置<code class="codeph">WALLET_ROOT</code>参数：</p><pre class="oac_no_warn" dir="ltr">WALLET_ROOT =钱包根目录的路径</pre><p>这会将wallet目录层次结构的根目录设置为<code class="codeph">wallet-root-directory-path</code>指定<code class="codeph">wallet-root-directory-path</code> ：</p><pre class="oac_no_warn" dir="ltr">钱包根目录路径</pre><p>完成此操作后，Oracle数据库会在以下位置自动为CDB $ ROOT的TDE钱包创建目录（其中<span class="variable" translate="no">wallet-root</span>是<code class="codeph">WALLET_ROOT</code>参数指定的目录）：</p><pre class="oac_no_warn" dir="ltr"><span class="italic">wallet-root</span> / tde</pre><p>对于PDB，Oracle数据库自动创建用于保存PDB的TDE钱包的目录将包括<span class="variable" translate="no">pdb-guid</span> ：</p><pre class="oac_no_warn" dir="ltr"><span class="italic">wallet-root</span> / <span class="italic">pdb-guid</span> / tde</pre><p><span class="bold">使用Oracle ASM和Oracle Managed Files为非CDB启用自动目录创建所需的设置</span></p>
                  <p>对于使用带OMF的ASM的非CDB， <code class="codeph">WALLET_ROOT</code>参数需要以加号后跟磁盘组名称开头，其中<span class="variable" translate="no">disk-group-name</span>是磁盘组的名称。例如：</p><pre class="oac_no_warn" dir="ltr">WALLET_ROOT = + <span class="italic">disk-group-name</span> / OMF</pre><p>完成此操作后，Oracle数据库会根据OMF准则自动在ASM文件系统中创建必要的目录，其中<span class="variable" translate="no">disk-group-name</span>是磁盘组的名称：</p><pre class="oac_no_warn" dir="ltr">+ <span class="italic">disk-group-name</span> / OMF / tde</pre><p><span class="bold">使用Oracle ASM和Oracle托管文件的CDB所需的设置</span></p>
                  <p>对于使用ASM和OMF的CDB， <code class="codeph">WALLET_ROOT</code>参数需要以加号开头，后跟磁盘组名称和<code class="codeph">DB_UNIQUE_NAME</code>初始化参数的值。在下面的示例中， <span class="variable" translate="no">disk-group-name</span>是磁盘组的名称， <span class="variable" translate="no">db-unique-name</span>是<code class="codeph">DB_UNIQUE_NAME</code>初始化参数的值：</p><pre class="oac_no_warn" dir="ltr">WALLET_ROOT = + <span class="italic">disk-group-name</span> / <span class="italic">db-unique-name</span></pre><p>换句话说， <code class="codeph">WALLET_ROOT</code>参数需要以加号开头，后跟磁盘组名称和<code class="codeph">DB_UNIQUE_NAME</code>实例初始化参数的值。
                  </p>
                  <p>完成此操作后，Oracle数据库会在以下位置自动为CDB $ ROOT的TDE钱包创建目录：</p><pre class="oac_no_warn" dir="ltr">+ <span class="italic">disk-group-name</span> / <span class="italic">db-unique-name</span> / tde</pre><p>对于PDB，Oracle数据库自动创建用于保存PDB的TDE钱包的目录将包括<span class="variable" translate="no">pdb-guid</span> ：</p><pre class="oac_no_warn" dir="ltr">+ <span class="italic">disk-group-name</span> / <span class="italic">db-unique-name</span> / <span class="italic">pdb-guid</span> / tde</pre><div class="infoboxnotealso" id="GUID-37347728-3D24-444A-A9ED-5B981C4EA2D3__GUID-C89BB2DB-B06E-4F19-9742-F0B3A9B1ABA3">
                     <p class="notep1">也可以看看：</p>
                     <p><span class="q">“ <a href="TDE_CONFIGURATION.html#GUID-285A9BCE-22AE-4DE4-A76E-1319B7BB91BC" title="TDE_CONFIGURATION用于透明数据加密（TDE）的每PDB配置。在Oracle Database 18c之前，每个PDB将其单独的加密密钥存储在CDB的密钥库（联合模式）中。从Oracle Database 18c开始，PDB可以选择将其加密密钥存储在单独的密钥库（隔离模式）中，从而允许通过单独的密钥库密码进行保护。必须设置WALLET_ROOT初始化参数才能使TDE_CONFIGURATION生效。">TDE_CONFIGURATION</a> ”</span></p>
                  </div>
               </div>
               <!-- class="section" -->
            </div>
         </div>
      </article>
   </body>
</html>