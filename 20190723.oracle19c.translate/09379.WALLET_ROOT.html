<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="WALLET_ROOT specifies the path to the root of a directory tree containing a subdirectory for each pluggable database (PDB), under which a directory structure similar to the Oracle ASM wallet storage directory structure is used to store the various wallets associated with the PDB.">
      <meta name="description" content="WALLET_ROOT specifies the path to the root of a directory tree containing a subdirectory for each pluggable database (PDB), under which a directory structure similar to the Oracle ASM wallet storage directory structure is used to store the various wallets associated with the PDB.">
      <title>WALLET_ROOT</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Database Reference">
      <meta property="og:description" content="WALLET_ROOT specifies the path to the root of a directory tree containing a subdirectory for each pluggable database (PDB), under which a directory structure similar to the Oracle ASM wallet storage directory structure is used to store the various wallets associated with the PDB.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Database Reference">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-reference.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-02-10T14:59:27-08:00">
      <meta name="dcterms.title" content="Database Reference">
      <meta name="dcterms.dateCopyrighted" content="2002, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96196-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="USER_DUMP_DEST.html" title="Previous" type="text/html">
      <link rel="next" href="WORKAREA_SIZE_POLICY.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="REFRN">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="USER_DUMP_DEST.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="WORKAREA_SIZE_POLICY.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Database Reference</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="initialization-parameters.html" property="item" typeof="WebPage"><span property="name"> Initialization Parameters</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="initialization-parameters-2.html" property="item" typeof="WebPage"><span property="name"> Initialization Parameters</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">WALLET_ROOT</li>
            </ol>
            <a id="GUID-37347728-3D24-444A-A9ED-5B981C4EA2D3" name="GUID-37347728-3D24-444A-A9ED-5B981C4EA2D3"></a>
            
            <h2 id="REFRN-GUID-37347728-3D24-444A-A9ED-5B981C4EA2D3" class="sect2"><span class="enumeration_section">1.353 </span>WALLET_ROOT
            </h2>
         </header>
         <div class="ind">
            <div>
               <p><code class="codeph">WALLET_ROOT</code> specifies the path to the root of a directory tree containing a subdirectory for each pluggable database (PDB), under which a directory structure similar to the Oracle ASM wallet storage directory structure is used to store the various wallets associated with the PDB.
               </p>
               <div class="section">
                  <div class="tblformal" id="GUID-37347728-3D24-444A-A9ED-5B981C4EA2D3__GUID-AC9A6E4A-9272-45BA-BB81-8D0706E961FA">
                     <table cellpadding="4" cellspacing="0" class="Formal" title summary="This table describes the properties for this initialization parameter." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="25%" id="d206221e172">Property </th>
                              <th align="left" valign="bottom" width="75%" id="d206221e176">Description </th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d206221e182" headers="d206221e172 ">
                                 <p><span class="bold">Parameter type</span></p> 
                              </td>
                              <td align="left" valign="top" width="75%" headers="d206221e182 d206221e176 ">
                                 <p>String</p> 
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d206221e192" headers="d206221e172 ">
                                 <p><span class="bold">Syntax</span></p> 
                              </td>
                              <td align="left" valign="top" width="75%" headers="d206221e192 d206221e176 ">
                                 <p><code class="codeph">WALLET_ROOT = wallet-root-directory-path</code></p> 
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d206221e203" headers="d206221e172 ">
                                 <p><span class="bold">Default value</span></p> 
                              </td>
                              <td align="left" valign="top" width="75%" headers="d206221e203 d206221e176 ">
                                 <p>There is no default value.</p> 
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d206221e213" headers="d206221e172 ">
                                 <p><span class="bold">Modifiable</span></p> 
                              </td>
                              <td align="left" valign="top" width="75%" headers="d206221e213 d206221e176 ">
                                 <p>No</p> 
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d206221e223" headers="d206221e172 ">
                                 <p><span class="bold">Modifiable in a PDB</span></p> 
                              </td>
                              <td align="left" valign="top" width="75%" headers="d206221e223 d206221e176 ">
                                 <p>No</p> 
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d206221e233" headers="d206221e172 ">
                                 <p><span class="bold">Basic</span></p> 
                              </td>
                              <td align="left" valign="top" width="75%" headers="d206221e233 d206221e176 ">
                                 <p>No</p> 
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d206221e243" headers="d206221e172 ">
                                 <p><span class="bold">Oracle RAC</span></p> 
                              </td>
                              <td align="left" valign="top" width="75%" headers="d206221e243 d206221e176 ">
                                 <p>Different values can be used on different Oracle RAC instances.</p> 
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" --> 
                  <p>The name of the various wallet files is always the same, regardless of the component they are associated with. The wallets for each component are stored under each PDB GUID directory within the <code class="codeph">WALLET_ROOT</code> directory structure in a directory whose name is based on the component name. For example, for the TDE component, the subdirectory name is <code class="codeph">tde</code>.
                  </p>
                  <p>If the <code class="codeph">WALLET_ROOT</code> parameter is not set, the <code class="codeph">SQLNET.ENCRYPTION_WALLET_LOCATION</code> parameter is used (as in Oracle Database releases prior to <span>Oracle Database 18c</span>), but no isolated keystore can be used unless the <code class="codeph">WALLET_ROOT</code> parameter is set. The <code class="codeph">TDE_CONFIGURATION</code> initialization parameter cannot be used to configure any PDB to run in isolated mode unless the <code class="codeph">WALLET_ROOT</code> parameter is also set.
                  </p>
                  <div class="infoboxnote" id="GUID-37347728-3D24-444A-A9ED-5B981C4EA2D3__GUID-C793EBE9-BDB9-475B-ADD9-63A6731D9F5E">
                     <p class="notep1">Note:</p>
                     <p>The <code class="codeph">SQLNET.ENCRYPTION_WALLET_LOCATION</code> parameter is deprecated in <span>Oracle Database 18c</span>.
                     </p>
                  </div>
                  <p>For example, the contents of the directory at the location specified by the <code class="codeph">WALLET_ROOT</code> initialization parameter could look as follows, where <span class="variable" translate="no">wallet-root</span> is the directory specified by the <code class="codeph">WALLET_ROOT</code> parameter:
                  </p><pre class="pre codeblock"><code><span class="italic">wallet-root</span>/eus/ewallet.p12
<span class="italic">wallet-root</span>/tde/ewallet.p12
<span class="italic">wallet-root</span>/tde/ewallet_2016120918333644.p12
<span class="italic">wallet-root</span>/tde_seps/cwallet.sso
<span class="italic">wallet-root</span>/tls/ewallet.p12
<span class="italic">wallet-root</span>/xdb_wallet/ewallet.p12
<span class="italic">wallet-root</span>/3FD1C95B48205D0FE053C5A0E40AEF8C/tde/ewallet.p12
<span class="italic">wallet-root</span>/3FD1C95B48205D0FE053C5A0E40AEF8C/tde/ewallet_2016110918331622.p12
<span class="italic">wallet-root</span>/3FD1C95B48205D0FE053C5A0E40AEF8C/tde/ewallet_2016110918332363.p12
<span class="italic">wallet-root</span>/3FD1C95B48205D0FE053C5A0E40AEF8C/tde_seps/cwallet.sso
<span class="italic">wallet-root</span>/3FD1C95B48205D0FE053C5A0E40AEF8C/tls/cwallet.sso
<span class="italic">wallet-root</span>/3FD1C95B48205D0FE053C5A0E40AEF8C/tls/ewallet.p12</code></pre><p>When the <code class="codeph">WALLET_ROOT</code> parameter is set, you can omit the path from some <code class="codeph">ADMINISTER KEY MANAGEMENT</code> commands.
                  </p>
                  <p>The <code class="codeph">WALLET_ROOT</code> value can include references to environment variables. The following example uses the value of the <code class="codeph">ORACLE_BASE</code> environment variable to set the root of the wallet directory hierarchy:
                  </p><pre class="pre codeblock"><code>WALLET_ROOT=$ORACLE_BASE/admin/orcl/wallet</code></pre><p>If the <code class="codeph">ORACLE_BASE</code> environment variable had the value <code class="codeph">/app/oracle</code>, then the <code class="codeph">WALLET_ROOT</code> path used by TDE resulting from the above setting of the <code class="codeph">WALLET_ROOT</code> instance initialization parameter would be <code class="codeph">/app/oracle/admin/orcl/wallet</code>.
                  </p>
                  <div class="infoboxnote" id="GUID-37347728-3D24-444A-A9ED-5B981C4EA2D3__GUID-ECD2F420-5AC9-4EFF-83C1-EA7F7DB30C66">
                     <p class="notep1">Note:</p>
                     <p>The normalized length of the <code class="codeph">wallet-root-directory-name</code> that is specified with the <code class="codeph">WALLET_ROOT</code> parameter cannot exceed 255 characters, otherwise one of the following sets of error messages is displayed:
                     </p>
                     <div class="p"><pre class="pre codeblock"><code>ORA-46693: The WALLET_ROOT location is missing or invalid.
ORA-32021: parameter value longer than 255 characters
ORA-01078: failure in processing system parameters</code></pre></div>
                     <div class="p"><pre class="pre codeblock"><code>ORA-46693: The WALLET_ROOT location is missing or invalid.
ORA-07204: sltln: name translation failed due to lack of output buffer space.
ORA-01078: failure in processing system parameters</code></pre></div>
                     <p>The normalized length includes the length of expanded environment variables specified with the <code class="codeph">WALLET_ROOT</code> parameter. The values of the environment variables of the user who starts the instance are used in the normalization of the <code class="codeph">WALLET_ROOT</code> parameter.
                     </p>
                     <p>The <code class="codeph">SHOW PARAMETER WALLET_ROOT</code> command always displays the normalized value (with all the environment variables expanded).
                     </p>
                  </div>
                  <p>For non-ASM file systems, the PDB GUID-extended paths for the TDE component are created automatically under the directory specified by the <code class="codeph">WALLET_ROOT</code> parameter when any Transparent Data Encryption (TDE) wallet is created for a PDB.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-37347728-3D24-444A-A9ED-5B981C4EA2D3__GUID-2911E6CA-A38C-4E9F-84B2-9505FDBA1202">Enabling Automatic Creation of Directories Under WALLET_ROOT</p>
                  <p>By using the specific configuration of <code class="codeph">WALLET_ROOT</code> described in each of the following sub-sections, Oracle Database can be configured to automatically create the necessary <span class="variable" translate="no">pdb-guid</span> and <span class="variable" translate="no">component name</span> directories under the <code class="codeph">WALLET_ROOT</code> directory path. Other settings of <code class="codeph">WALLET_ROOT</code> are allowed, but would not result in the automatic creation of the necessary sub-directories by the ASM OMF layer.
                  </p>
                  <p><span class="bold">Required setting to enable auto-directory creation for a database not using Oracle ASM</span></p>
                  <p>For a database not using Oracle ASM filesystems, the <code class="codeph">WALLET_ROOT</code> parameter needs to be set as follows:
                  </p><pre class="oac_no_warn" dir="ltr">WALLET_ROOT=wallet-root-directory-path</pre><p>This sets the root of the wallet directory hierarchy to the directory specified by <code class="codeph">wallet-root-directory-path</code>:
                  </p><pre class="oac_no_warn" dir="ltr">wallet-root-directory-path</pre><p>When this is done, Oracle Database automatically creates the directory for the TDE wallet of a CDB$ROOT at the following location (where <span class="variable" translate="no">wallet-root</span> is the directory specified by the <code class="codeph">WALLET_ROOT</code> parameter):
                  </p><pre class="oac_no_warn" dir="ltr"><span class="italic">wallet-root</span>/tde</pre><p>For PDBs, the directories that Oracle Database automatically creates for holding the TDE wallets of PDBs will include the <span class="variable" translate="no">pdb-guid</span>:
                  </p><pre class="oac_no_warn" dir="ltr"><span class="italic">wallet-root</span>/<span class="italic">pdb-guid</span>/tde</pre><p><span class="bold">Required setting to enable auto-directory creation for a non-CDB using Oracle ASM with Oracle Managed Files</span></p>
                  <p>For a non-CDB using ASM with OMF, the <code class="codeph">WALLET_ROOT</code> parameter needs to begin with a plus sign followed by a disk group name, where <span class="variable" translate="no">disk-group-name</span> is the name of a disk group. For example:
                  </p><pre class="oac_no_warn" dir="ltr">WALLET_ROOT=+<span class="italic">disk-group-name</span>/OMF</pre><p>When this is done, Oracle Database automatically creates the necessary directory within the ASM filesystem, following the OMF guidelines, where <span class="variable" translate="no">disk-group-name</span> is the name of a disk group:
                  </p><pre class="oac_no_warn" dir="ltr"> +<span class="italic">disk-group-name</span>/OMF/tde</pre><p><span class="bold">Required setting for a CDB using Oracle ASM with Oracle Managed Files</span></p>
                  <p>For a CDB using ASM with OMF, the <code class="codeph">WALLET_ROOT</code> parameter needs to begin with a plus sign followed by a disk group name and the value of the <code class="codeph">DB_UNIQUE_NAME</code> initialization parameter. In the example below, <span class="variable" translate="no">disk-group-name</span> is the name of a disk group and <span class="variable" translate="no">db-unique-name</span> is the value of the <code class="codeph">DB_UNIQUE_NAME</code> initialization parameter:
                  </p><pre class="oac_no_warn" dir="ltr">WALLET_ROOT=+<span class="italic">disk-group-name</span>/<span class="italic">db-unique-name</span></pre><p>In other words, the <code class="codeph">WALLET_ROOT</code> parameter needs to start with a plus sign, followed by a disk group name and the value of the <code class="codeph">DB_UNIQUE_NAME</code> instance initialization parameter.
                  </p>
                  <p>When this is done, Oracle Database automatically creates the directory for the TDE wallet of a CDB$ROOT at the following location:</p><pre class="oac_no_warn" dir="ltr">+<span class="italic">disk-group-name</span>/<span class="italic">db-unique-name</span>/tde</pre><p>For PDBs, the directories that Oracle Database automatically creates for holding the TDE wallets of PDBs will include the <span class="variable" translate="no">pdb-guid</span>:
                  </p><pre class="oac_no_warn" dir="ltr">+<span class="italic">disk-group-name</span>/<span class="italic">db-unique-name</span>/<span class="italic">pdb-guid</span>/tde</pre><div class="infoboxnotealso" id="GUID-37347728-3D24-444A-A9ED-5B981C4EA2D3__GUID-C89BB2DB-B06E-4F19-9742-F0B3A9B1ABA3">
                     <p class="notep1">See Also:</p>
                     <p><span class="q">"<a href="TDE_CONFIGURATION.html#GUID-285A9BCE-22AE-4DE4-A76E-1319B7BB91BC" title="TDE_CONFIGURATION is used for per-PDB configuration for Transparent Data Encryption (TDE). Before Oracle Database 18c, each PDB stored their separate encryption keys in the CDB’s keystore (united mode). Starting with Oracle Database 18c, a PDB can optionally store its encryption keys in a separate keystore (isolation mode), thus allowing protection by a separate keystore password. The WALLET_ROOT initialization parameter must be set for TDE_CONFIGURATION to take effect.">TDE_CONFIGURATION</a>"</span></p>
                  </div>
               </div>
               <!-- class="section" -->
            </div>
         </div>
      </article>
   </body>
</html>