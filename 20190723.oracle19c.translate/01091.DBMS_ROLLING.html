<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="The DBMS_ROLLING PL/SQL package is used to implement the Rolling Upgrade Using Active Data Guard feature, which streamlines the process of upgrading Oracle Database software in a Data Guard configuration in a rolling fashion. The Rolling Upgrade Using Active Data Guard feature requires a license for the Oracle Active Data Guard option, and can be used for database version upgrades starting with the first patchset of Oracle Database 12c."></meta>
      <meta name="description" content="The DBMS_ROLLING PL/SQL package is used to implement the Rolling Upgrade Using Active Data Guard feature, which streamlines the process of upgrading Oracle Database software in a Data Guard configuration in a rolling fashion. The Rolling Upgrade Using Active Data Guard feature requires a license for the Oracle Active Data Guard option, and can be used for database version upgrades starting with the first patchset of Oracle Database 12c."></meta>
      <title>DBMS_ROLLING</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="PL/SQL Packages and Types Reference"></meta>
      <meta property="og:description" content="The DBMS_ROLLING PL/SQL package is used to implement the Rolling Upgrade Using Active Data Guard feature, which streamlines the process of upgrading Oracle Database software in a Data Guard configuration in a rolling fashion. The Rolling Upgrade Using Active Data Guard feature requires a license for the Oracle Active Data Guard option, and can be used for database version upgrades starting with the first patchset of Oracle Database 12c."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="PL/SQL Packages and Types Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-pl-sql-packages-and-types-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-03-25T11:24:34-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96430-03"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="DBMS_RLS.html" title="Previous" type="text/html"></link>
      <link rel="next" href="DBMS_ROWID.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database PL/SQL Packages and Types Reference"></meta>
    <meta name="dcterms.isVersionOf" content="ARPLS"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="DBMS_RLS.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="DBMS_ROWID.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">PL / SQL包和类型参考</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">DBMS_ROLLING</li>
            </ol>
            <a id="GUID-097F1B39-E623-43B5-BA30-DF377BFE05CF" name="GUID-097F1B39-E623-43B5-BA30-DF377BFE05CF"></a><a id="ARPLS73534"></a><a id="ARPLS73534"></a>
            
            <h2 id="ARPLS-GUID-097F1B39-E623-43B5-BA30-DF377BFE05CF" class="sect2"><span class="enumeration_chapter">141</span> DBMS_ROLLING</h2>
         </header>
         <div class="ind">
            <div>
               <p><code class="codeph">DBMS_ROLLING</code> PL / SQL包用于实现使用Active Data Guard滚动升级功能，该功能简化了以滚动方式在Data Guard配置中升级Oracle数据库软件的过程。使用Active Data Guard功能进行滚动升级需要Oracle Active Data Guard选项的许可证，并且可以用于从Oracle Database 12 <span class="italic">c</span>的第一个补丁集开始的数据库版本升级。
               </p>
               <p>此外，您可以立即将此功能用于其他数据库维护任务。执行维护的数据库必须至少在Oracle Database 12 <span class="italic">c</span>第1版（12.1）中运行。此类维护任务包括：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p>将分区添加到非分区表</p>
                  </li>
                  <li>
                     <p>将BasicFiles LOB更改为SecureFiles LOB</p>
                  </li>
                  <li>
                     <p>将存储为<code class="codeph">CLOB</code> <code class="codeph">XMLType</code>更改为存储为二进制XML的<code class="codeph">XMLtype</code></p>
                  </li>
                  <li>
                     <p>将表更改为OLTP压缩</p>
                  </li>
               </ul>
               <p>本章包含以下主题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="DBMS_ROLLING.html#GUID-1784149A-5D61-48EF-9191-D9A1BE52263C" title="DBMS_ROLLING PL / SQL包提供了一些过程，您可以使用这些过程以滚动方式在整个Data Guard配置中执行任何更改，包括滚动升级Oracle数据库软件。虽然本文档的重点是滚动升级操作，但该内容适用于任何滚动更改的部署。">概观</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_ROLLING.html#GUID-9A52B338-3E98-4547-9560-17C35BE241FD" title="DBMS_ROLLING包可供已被授予DBA角色的用户使用。">安全模型</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_ROLLING.html#GUID-BD5AAE3D-6DEA-4CD2-A2AC-21AA82868709" title="此表列出并简要描述了DBMS_ROLLING包子程序。">DBMS_ROLLING子程序摘要</a></p>
                  </li>
               </ul>
               <div class="infoboxnotealso" id="GUID-097F1B39-E623-43B5-BA30-DF377BFE05CF__GUID-73788194-A192-477D-A7D1-7069BF186B44">
                  <p class="notep1">也可以看看：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>有关使用<code class="codeph">DBMS_ROLLING</code>执行滚动升级的信息，请<code class="codeph">DBMS_ROLLING</code> <a href="../sbydb/using-DBMS_ROLLING-to-perform-rolling-upgrade.html#SBYDB5214" target="_blank"><span class="italic">Oracle Data Guard概念和管理</span></a></p>
                     </li>
                  </ul>
               </div>
            </div><a id="ARPLS73536"></a><a id="ARPLS73536"></a><div class="props_rev_3"><a id="GUID-1784149A-5D61-48EF-9191-D9A1BE52263C" name="GUID-1784149A-5D61-48EF-9191-D9A1BE52263C"></a><h3 id="ARPLS-GUID-1784149A-5D61-48EF-9191-D9A1BE52263C" class="sect3"><span class="enumeration_section">141.1</span> DBMS_ROLLING概述</h3>
               <div>
                  <p><code class="codeph">DBMS_ROLLING</code> PL / SQL包提供了一些过程，您可以使用这些过程以滚动方式在整个Data Guard配置中执行任何更改，包括滚动升级Oracle数据库软件。虽然本文档的重点是滚动升级操作，但该内容适用于任何滚动更改的部署。
                  </p>
                  <div class="section">
                     <p>所有过程都在当前主数据库中执行，这消除了在远程数据库之间移动以执行与滚动升级相关的各种操作的潜在混淆。如有必要，可以再次调用所有过程以在错误或中断后恢复滚动升级。（升级脚本仍必须在备用数据库上运行。）</p>
                     <p>该程序包还提供了一个过程，允许您在用户希望放弃滚动升级的情况下将Data Guard配置返回到其原始的升级前状态。</p>
                     <p>滚动升级的实际执行已减少到三个步骤（不包括Oracle数据库软件本身的升级和新Oracle数据库软件的磁盘设置）。无论Data Guard配置的大小如何，步骤数都保持不变。</p>
                     <p>从概念上讲，出于<code class="codeph">DBMS_ROLLING</code>包的目的，您将Data Guard配置分为两组：前导组和尾随组。领先组中的数据库首先进行升级操作（或您正在部署的任何其他更改）。只有在切换操作之后，尾随组中的数据库才会升级Oracle数据库软件（或您正在部署的任何其他更改）。这使他们免于升级，并让您有时间评估领导组数据库中更改的效果。
                     </p>
                     <p>每个组都有一个master数据库： <code class="codeph">DBMS_ROLLING.INIT_PLAN</code>过程中指定的未来主数据库是前导组的主服务器，称为Leading Group Master（LGM），而原始主数据库是尾随组的主服务器，称为Trailing Group大师（TGM）。您可以配置数据库以保护LGM和TGM。指定用于保护LGM的备用电池被称为领先集团备用电源（LGS）。指定用于保护TGM的备用电池称为拖尾组备用电池（TGS）。本文档中使用了这些术语。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS73537"></a><a id="ARPLS73537"></a><div class="props_rev_3"><a id="GUID-9A52B338-3E98-4547-9560-17C35BE241FD" name="GUID-9A52B338-3E98-4547-9560-17C35BE241FD"></a><h3 id="ARPLS-GUID-9A52B338-3E98-4547-9560-17C35BE241FD" class="sect3"><span class="enumeration_section">141.2</span> DBMS_ROLLING安全模型</h3>
               <div>
                  <p><code class="codeph">DBMS_ROLLING</code>包可供已被授予DBA角色的用户使用。
                  </p>
               </div>
            </div><a id="ARPLS73538"></a><a id="ARPLS73539"></a><a id="ARPLS73539"></a><a id="ARPLS73538"></a><div class="props_rev_3"><a id="GUID-BD5AAE3D-6DEA-4CD2-A2AC-21AA82868709" name="GUID-BD5AAE3D-6DEA-4CD2-A2AC-21AA82868709"></a><h3 id="ARPLS-GUID-BD5AAE3D-6DEA-4CD2-A2AC-21AA82868709" class="sect3"><span class="enumeration_section">141.3</span> DBMS_ROLLING子程序摘要</h3>
               <div>
                  <p>此表列出并简要描述了<code class="codeph">DBMS_ROLLING</code>程序。
                  </p>
                  <div class="tblformal" id="GUID-BD5AAE3D-6DEA-4CD2-A2AC-21AA82868709__GUID-3CDAE35F-6A9B-4FD3-B409-56923C0D87AB">
                     <p class="titleintable">表141-1 DBMS_ROLLING包子程序</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_ROLLING包子程序" width="100%" border="1" summary="This table lists and briefly describes the DBMS_ROLLING package subprograms." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="30%" id="d747078e462">子程序</th>
                              <th align="left" valign="bottom" width="70%" id="d747078e465">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d747078e470" headers="d747078e462 ">
                                 <p><a href="DBMS_ROLLING.html#GUID-4FE0468A-BA32-4F33-A577-24AF62CEB367" title="此过程使用系统生成的默认值初始化滚动操作计划。">INIT_PLAN程序</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d747078e470 d747078e465 ">
                                 <p>使用系统生成的默认值初始化滚动操作计划。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d747078e482" headers="d747078e462 ">
                                 <p><a href="DBMS_ROLLING.html#GUID-9C58F633-0C0F-4934-A7AE-768929E2D2D0" title="此过程会破坏任何现有升级计划，其参数以及与滚动操作关联的所有资源。">DESTROY_PLAN程序</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d747078e482 d747078e465 ">
                                 <p>销毁任何现有的轧制操作计划，其参数以及与轧制操作相关的所有资源。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d747078e494" headers="d747078e462 ">
                                 <p><a href="DBMS_ROLLING.html#GUID-A773C9FB-2C9E-4410-A6E4-0B50EA58510E" title="此过程验证计划参数并创建或修改滚动操作计划。">BUILD_PLAN程序</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d747078e494 d747078e465 ">
                                 <p>验证计划参数并创建或修改滚动操作计划。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d747078e506" headers="d747078e462 ">
                                 <p><a href="DBMS_ROLLING.html#GUID-FD92CC47-DD49-49CF-BDBA-AA3D90FFC872" title="此过程修改滚动操作参数。">SET_PARAMETER过程</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d747078e506 d747078e465 ">
                                 <p>修改滚动操作参数。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d747078e518" headers="d747078e462 ">
                                 <p><a href="DBMS_ROLLING.html#GUID-8A7F9761-40B2-4E7D-BB8C-85C65B01A098" title="此过程开始滚动操作。必须在主数据库上执行此过程才能正式启动滚动操作。">START_PLAN过程</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d747078e518 d747078e465 ">
                                 <p>开始滚动操作。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d747078e530" headers="d747078e462 ">
                                 <p><a href="DBMS_ROLLING.html#GUID-108D1FDB-F151-4BA8-B059-81BAF1961D25" title="此过程在当前主数据库（也称为TGM）和瞬态逻辑备用数据库（也称为LGM）之间执行切换。">SWITCHOVER程序</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d747078e530 d747078e465 ">
                                 <p>在当前主数据库和临时逻辑备用数据库之间执行切换。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d747078e542" headers="d747078e462 ">
                                 <p><a href="DBMS_ROLLING.html#GUID-13AFC6DD-1FA9-4EAE-A0FE-8B33C4F5167F" title="此过程完成滚动操作。">FINISH_PLAN程序</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d747078e542 d747078e465 ">
                                 <p>完成轧制操作。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d747078e554" headers="d747078e462 ">
                                 <p><a href="DBMS_ROLLING.html#GUID-29B8A996-4D3B-4783-8415-BD9C9BB5FDFD" title="此过程回滚整个配置范围的滚动操作。">ROLLBACK_PLAN程序</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d747078e554 d747078e465 ">
                                 <p>完全回滚轧制操作。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div><a id="ARPLS73540"></a><a id="ARPLS73541"></a><a id="ARPLS73541"></a><a id="ARPLS73540"></a><div class="props_rev_3"><a id="GUID-4FE0468A-BA32-4F33-A577-24AF62CEB367" name="GUID-4FE0468A-BA32-4F33-A577-24AF62CEB367"></a><h4 id="ARPLS-GUID-4FE0468A-BA32-4F33-A577-24AF62CEB367" class="sect4"><span class="enumeration_section">141.3.1</span> INIT_PLAN过程</h4>
                  <div>
                     <p>此过程使用系统生成的默认值初始化滚动操作计划。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-4FE0468A-BA32-4F33-A577-24AF62CEB367__GUID-0960A81B-2C67-4C51-90C9-146432C9A43B">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_ROLLING.INIT_PLAN（future_primary IN VARCHAR2）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-4FE0468A-BA32-4F33-A577-24AF62CEB367__GUID-21E85CC2-4718-42A7-9BEC-A56EF1CAF02C">参数</p>
                        <div class="tblformal" id="GUID-4FE0468A-BA32-4F33-A577-24AF62CEB367__GUID-84BA0096-648D-4F14-8A35-BB10651F3B1D">
                           <p class="titleintable">表<span class="italic"><span class="bold">141-2 INIT_PLAN过程参数</span></span></p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="INIT_PLAN过程参数" width="100%" border="1" summary="This table describes the parameters of the DBMS_ROLLING.INIT_PLAN subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d747078e673">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d747078e676">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d747078e681" headers="d747078e673 ">
                                       <p><code class="codeph">future_primary</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d747078e681 d747078e676 ">
                                       <p>未来主要的<code class="codeph">DB_UNIQUE_NAME</code> （也称为领导小组大师（LGM））</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-4FE0468A-BA32-4F33-A577-24AF62CEB367__GUID-3DAF8B3F-8985-498E-8470-45D0AD92A6C7">例外</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">ORA-45400</code> ：当前数据库不允许操作</p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-45401</code> ：升级计划已经激活</p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-45402</code> ： <code class="codeph">LOG_ARCHIVE_CONFIG</code>必须包含<code class="codeph">DG_CONFIG</code>属性</p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-45403</code> ：必须在<code class="codeph">DG_CONFIG</code>指定数据库％s</p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-45411</code> ：操作需要额外的参数</p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-65040</code> ：不允许在可插拔数据库中进行操作</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-4FE0468A-BA32-4F33-A577-24AF62CEB367__GUID-8CD196B8-3CEB-4299-8F5E-408A0CFC9531">使用说明</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>必须先准备好计划，然后才能定制任何参数。</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS74603"></a><a id="ARPLS74603"></a><div class="props_rev_3"><a id="GUID-9C58F633-0C0F-4934-A7AE-768929E2D2D0" name="GUID-9C58F633-0C0F-4934-A7AE-768929E2D2D0"></a><h4 id="ARPLS-GUID-9C58F633-0C0F-4934-A7AE-768929E2D2D0" class="sect4"><span class="enumeration_section">141.3.2</span> DESTROY_PLAN过程</h4>
                  <div>
                     <p>此过程会破坏任何现有升级计划，其参数以及与滚动操作关联的所有资源。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-9C58F633-0C0F-4934-A7AE-768929E2D2D0__GUID-E9205FE3-4411-4B45-8316-66F21A74E4EF">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_ROLLING.DESTROY_PLAN（）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9C58F633-0C0F-4934-A7AE-768929E2D2D0__GUID-38FF0F63-DF07-4F23-9790-2824A096F7DD">参数</p>
                        <p>此过程没有参数。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9C58F633-0C0F-4934-A7AE-768929E2D2D0__GUID-E7516264-E96A-48F5-9F4D-E7FA8C40E6FA">例外</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">ORA-45422</code> ：操作需要现有计划</p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-65040</code> ：不允许在可插拔数据库中进行操作</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9C58F633-0C0F-4934-A7AE-768929E2D2D0__GUID-2CBD828B-EEF4-4B89-8788-C75B09F06F88">使用说明</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>当滚动操作完成时，可以调用此过程以完全清除与滚动操作相关的所有状态。</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS74604"></a><a id="ARPLS74604"></a><div class="props_rev_3"><a id="GUID-A773C9FB-2C9E-4410-A6E4-0B50EA58510E" name="GUID-A773C9FB-2C9E-4410-A6E4-0B50EA58510E"></a><h4 id="ARPLS-GUID-A773C9FB-2C9E-4410-A6E4-0B50EA58510E" class="sect4"><span class="enumeration_section">141.3.3</span> BUILD_PLAN过程</h4>
                  <div>
                     <p>此过程验证计划参数并创建或修改滚动操作计划。</p>
                     <div class="section">
                        <p>为了执行滚动操作，需要成功构建的计划。在调用<code class="codeph">START_PLAN</code>过程以开始滚动操作之前，此过程必须成功返回。创建计划后进行的参数更改可能需要调用<code class="codeph">BUILD_PLAN</code>过程来修改现有计划。<code class="codeph">DBA_ROLLING_EVENTS</code>视图将指示是否任何<code class="codeph">SET_PARAMETER</code>过程的调用需要计划重建。尝试恢复滚动操作时，无法重建计划将导致<code class="codeph">ORA-45416</code>错误。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A773C9FB-2C9E-4410-A6E4-0B50EA58510E__GUID-AF42455D-9EB5-4BD9-8179-43F8FC1DEA32">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_ROLLING.BUILD_PLAN（）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A773C9FB-2C9E-4410-A6E4-0B50EA58510E__GUID-DCC99518-E7B0-479B-8F89-3AC9CEF8C7E3">参数</p>
                        <p>此过程没有参数。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A773C9FB-2C9E-4410-A6E4-0B50EA58510E__GUID-7E673072-3901-4BFC-A438-48FFBA11623A">例外</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">ORA-45400</code> ：当前数据库不允许操作</p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-45403</code> ：必须在<code class="codeph">DG_CONFIG</code>指定数据库％s</p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-45414</code> ：无法连接到远程数据库</p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-45419</code> ：必须指定<code class="codeph">DB_UNIQUE_NAME</code>参数</p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-45433</code> ：在不受支持的数据库上检测到故障转移</p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-45434</code> ：检测到相同类型的多个故障转移</p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-65040</code> ：不允许在可插拔数据库中进行操作</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A773C9FB-2C9E-4410-A6E4-0B50EA58510E__GUID-4E78F68F-893C-43E0-9081-9AA7B5EF0417">使用说明</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>此过程连接到指定为计划参数的数据库。必须安装或打开这些实例，并且必须可通过网络访问。</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS74605"></a><a id="ARPLS74606"></a><a id="ARPLS74607"></a><a id="ARPLS74606"></a><a id="ARPLS74607"></a><a id="ARPLS74605"></a><div class="props_rev_3"><a id="GUID-FD92CC47-DD49-49CF-BDBA-AA3D90FFC872" name="GUID-FD92CC47-DD49-49CF-BDBA-AA3D90FFC872"></a><h4 id="ARPLS-GUID-FD92CC47-DD49-49CF-BDBA-AA3D90FFC872" class="sect4"><span class="enumeration_section">141.3.4</span> SET_PARAMETER过程</h4>
                  <div>
                     <p>此过程修改滚动操作参数。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-FD92CC47-DD49-49CF-BDBA-AA3D90FFC872__GUID-896BE2BD-2BE9-4106-942B-38D682CB7729">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_ROLLING.SET_PARAMETER（范围IN VARCHAR2 DEFAULT NULL，名称IN NUMBER，值IN VARCHAR2）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-FD92CC47-DD49-49CF-BDBA-AA3D90FFC872__GUID-39E7BDA1-D7CD-4CA4-88D1-F60BE3C2C12E">参数</p>
                        <div class="tblformal" id="GUID-FD92CC47-DD49-49CF-BDBA-AA3D90FFC872__GUID-D35699B7-5B88-4EDA-9A81-C768549D80B8">
                           <p class="titleintable">表<span class="italic"><span class="bold">141-3 SET_PARAMETER过程参数</span></span></p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SET_PARAMETER过程参数" width="100%" border="1" summary="This table describes the parameters of the DBMS_ROLLING package." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d747078e1136">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d747078e1139">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d747078e1144" headers="d747078e1136 ">
                                       <p><code class="codeph">范围</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d747078e1144 d747078e1139 ">
                                       <p>参数范围。对于全局参数，它可以是NULL，对于本地参数，它可以是特定数据库的<code class="codeph">DB_UNIQUE_NAME</code> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d747078e1155" headers="d747078e1136 ">
                                       <p><code class="codeph">名称</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d747078e1155 d747078e1139 ">
                                       <p>给定参数的<code class="codeph">DBMS_ROLLING</code>常量。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d747078e1166" headers="d747078e1136 ">
                                       <p><code class="codeph">值</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d747078e1166 d747078e1139 ">
                                       <p>参数的新值或NULL以恢复为默认值。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-FD92CC47-DD49-49CF-BDBA-AA3D90FFC872__GUID-D1739EDA-3C8C-4A34-89A8-6B33B91B046F">例外</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">ORA-45400</code> ：当前数据库不允许操作</p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-45408</code> ：参数名称未知</p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-45409</code> ：参数值无效或超出范围</p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-45410</code> ：参数可能无法修改</p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-45411</code> ：操作需要额外的参数</p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-45412</code> ：参数范围参数未知</p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-45413</code> ：参数没有默认值</p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-45414</code> ：无法连接到远程数据库</p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-65040</code> ：不允许在可插拔数据库中进行操作</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-FD92CC47-DD49-49CF-BDBA-AA3D90FFC872__GUID-B5C79D90-27EC-47F5-B8B7-BB06E8F211AA">使用说明</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>对参数值的更改可能需要调用<code class="codeph">DBMS_ROLLING.BUILD_PLAN</code>过程来修改现有计划。用户应在设置参数后检查<code class="codeph">DBA_ROLLING_EVENTS</code>视图，以确定是否需要重建。
                              </p>
                           </li>
                           <li>
                              <p><a href="DBMS_ROLLING.html#GUID-FD92CC47-DD49-49CF-BDBA-AA3D90FFC872__BCGGIIEE" title="DBMS_ROLLING.SET_PARAMETER过程的有效值">表141-4</a>列出了所有可用参数及其说明。表中描述的参数名称和值都是<code class="codeph">VARCHAR2</code>类型。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">DBA_ROLLING_PARAMETERS</code>视图中的<code class="codeph">MINVAL</code>和<code class="codeph">MAXVAL</code>列标识参数的有效值范围。在成功调用<code class="codeph">DBMS_ROLLING.INIT_PLAN</code>过程之前，视图不包含任何参数。
                              </p>
                           </li>
                        </ul>
                        <div class="tblformalwide" id="GUID-FD92CC47-DD49-49CF-BDBA-AA3D90FFC872__BCGGIIEE">
                           <p class="titleintable">表141-4 DBMS_ROLLING.SET_PARAMETER过程的有效值</p>
                           <table cellpadding="4" cellspacing="0" class="FormalWide" title="DBMS_ROLLING.SET_PARAMETER过程的有效值" width="100%" border="1" summary="Valid values for DBMS_ROLLING.SET_PARAMETER procedure" frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="25%" id="d747078e1272">参数名称</th>
                                    <th align="left" valign="bottom" width="9%" id="d747078e1275">全球？</th>
                                    <th align="left" valign="bottom" width="52%" id="d747078e1278">描述</th>
                                    <th align="left" valign="bottom" width="14%" id="d747078e1281">默认</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d747078e1286" headers="d747078e1272 ">
                                       <p><code class="codeph">ACTIVE_SESSIONS_TIMEOUT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="9%" headers="d747078e1286 d747078e1275 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="52%" headers="d747078e1286 d747078e1278 ">
                                       <p>在暂停滚动升级之前强制执行<code class="codeph">ACTIVE_SESSIONS_WAIT</code>的最长时间（以秒为单位）。仅当<code class="codeph">ACTIVE_SESSIONS_WAIT</code>设置为1时，此参数才有效。
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="14%" headers="d747078e1286 d747078e1281 ">
                                       <p>3600</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d747078e1306" headers="d747078e1272 ">
                                       <p><code class="codeph">ACTIVE_SESSIONS_WAIT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="9%" headers="d747078e1306 d747078e1275 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="52%" headers="d747078e1306 d747078e1278 ">
                                       <p>切换操作是否等待活动会话完成。如果设置为1，则<code class="codeph">SWITCHOVER</code>过程将等待活动会话进行竞争。如果设置为0，则<code class="codeph">SWITCHOVER</code>过程会终止活动会话以加快切换。
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="14%" headers="d747078e1306 d747078e1281 ">
                                       <p>0</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d747078e1326" headers="d747078e1272 ">
                                       <p><code class="codeph">BACKUP_CONTROLFILE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="9%" headers="d747078e1326 d747078e1275 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="52%" headers="d747078e1326 d747078e1278 ">
                                       <p>滚动升级期间创建的备份控制文件的文件名。</p>
                                    </td>
                                    <td align="left" valign="top" width="14%" headers="d747078e1326 d747078e1281 ">
                                       <p>rolling_change_backup.f</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d747078e1340" headers="d747078e1272 "><code class="codeph">DGBROKER</code></td>
                                    <td align="left" valign="top" width="9%" headers="d747078e1340 d747078e1275 ">是</td>
                                    <td align="left" valign="top" width="52%" headers="d747078e1340 d747078e1278 ">使用Data Guard代理管理应用，恢复和日志归档目标。</td>
                                    <td align="left" valign="top" width="14%" headers="d747078e1340 d747078e1281 ">如果启用了代理，则为1，否则为0。</td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d747078e1350" headers="d747078e1272 ">
                                       <p><code class="codeph">DICTIONARY_LOAD_TIMEOUT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="9%" headers="d747078e1350 d747078e1275 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="52%" headers="d747078e1350 d747078e1278 ">
                                       <p>在暂停滚动升级之前强制执行<code class="codeph">DICTIONARY_LOAD_WAIT</code>的最长时间（以秒为单位）。仅当<code class="codeph">DICTIONARY_LOAD_WAIT</code>设置为1时，此参数才有效。
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="14%" headers="d747078e1350 d747078e1281 ">
                                       <p>3600</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d747078e1370" headers="d747078e1272 ">
                                       <p><code class="codeph">DICTIONARY_LOAD_WAIT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="9%" headers="d747078e1370 d747078e1275 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="52%" headers="d747078e1370 d747078e1278 ">
                                       <p>临时逻辑备用数据库的实例化是否包括等待重做完整加载数据字典快照。如果设置为1，则在字典完全加载之前， <code class="codeph">START_PLAN</code>过程将不会返回。如果设置为0，则<code class="codeph">START_PLAN</code>过程将仅验证字典的加载是否已开始。
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="14%" headers="d747078e1370 d747078e1281 ">
                                       <p><code class="codeph">0</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d747078e1391" headers="d747078e1272 ">
                                       <p><code class="codeph">DICTIONARY_PLS_WAIT_INIT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="9%" headers="d747078e1391 d747078e1275 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="52%" headers="d747078e1391 d747078e1278 ">
                                       <p>在尝试停止PL / SQL活动以便将数据字典写入重做之间等待的时间（以秒为单位）。</p>
                                    </td>
                                    <td align="left" valign="top" width="14%" headers="d747078e1391 d747078e1281 ">
                                       <p>300</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d747078e1405" headers="d747078e1272 ">
                                       <p><code class="codeph">DICTIONARY_PLS_WAIT_TIMEOUT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="9%" headers="d747078e1405 d747078e1275 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="52%" headers="d747078e1405 d747078e1278 ">
                                       <p>尝试静默PL / SQL活动以将数据字典写入重做的最长时间（以秒为单位）。</p>
                                    </td>
                                    <td align="left" valign="top" width="14%" headers="d747078e1405 d747078e1281 ">
                                       <p>3600</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d747078e1419" headers="d747078e1272 ">
                                       <p><code class="codeph">EVENT_RECORDS</code></p>
                                    </td>
                                    <td align="left" valign="top" width="9%" headers="d747078e1419 d747078e1275 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="52%" headers="d747078e1419 d747078e1278 ">
                                       <p><code class="codeph">DBA_ROLLING_EVENTS</code>允许的最大记录数</p>
                                    </td>
                                    <td align="left" valign="top" width="14%" headers="d747078e1419 d747078e1281 ">
                                       <p><code class="codeph">10000</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d747078e1436" headers="d747078e1272 ">
                                       <p><code class="codeph">故障切换</code></p>
                                    </td>
                                    <td align="left" valign="top" width="9%" headers="d747078e1436 d747078e1275 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="52%" headers="d747078e1436 d747078e1278 ">
                                       <p>由于故障转移事件，自动尝试调整升级计划。在完成对<code class="codeph">BUILD_PLAN</code>的后续调用后，此参数将其值重置为0。</p>
                                    </td>
                                    <td align="left" valign="top" width="14%" headers="d747078e1436 d747078e1281 ">
                                       <p><code class="codeph">0</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d747078e1454" headers="d747078e1272 ">
                                       <p><code class="codeph">GRP_PREFIX</code></p>
                                    </td>
                                    <td align="left" valign="top" width="9%" headers="d747078e1454 d747078e1275 ">
                                       <p></p>
                                    </td>
                                    <td align="left" valign="top" width="52%" headers="d747078e1454 d747078e1278 ">
                                       <p>在<code class="codeph">DBMS_ROLLING</code>执行过程<code class="codeph">DBMS_ROLLING</code>导致在参与Data Guard配置的各种数据库中采用许多保证还原点（GRP）。所有这些GRP的名称都有相同的前缀。您可以使用此参数覆盖默认前缀。
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="14%" headers="d747078e1454 d747078e1281 ">
                                       <p><code class="codeph">DBMSRU</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d747078e1472" headers="d747078e1272 ">
                                       <p><code class="codeph">IGNORE_BUILD_WARNINGS</code></p>
                                    </td>
                                    <td align="left" valign="top" width="9%" headers="d747078e1472 d747078e1275 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="52%" headers="d747078e1472 d747078e1278 ">
                                       <p>忽略在执行<code class="codeph">BUILD_PLAN</code>过程期间会引发异常的警告。
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="14%" headers="d747078e1472 d747078e1281 ">
                                       <p><code class="codeph">1</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d747078e1490" headers="d747078e1272 ">
                                       <p><code class="codeph">IGNORE_LAST_ERROR</code></p>
                                    </td>
                                    <td align="left" valign="top" width="9%" headers="d747078e1490 d747078e1275 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="52%" headers="d747078e1490 d747078e1278 ">
                                       <p>忽略上次遇到的错误，启动下一次滚动操作。在调用重新开始滚动升级的过程调用时，此参数将其值重置为0。</p>
                                    </td>
                                    <td align="left" valign="top" width="14%" headers="d747078e1490 d747078e1281 ">
                                       <p><code class="codeph">0</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d747078e1505" headers="d747078e1272 ">
                                       <p><code class="codeph">LAD_ENABLED_TIMEOUT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="9%" headers="d747078e1505 d747078e1275 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="52%" headers="d747078e1505 d747078e1278 ">
                                       <p>等待最近启用的日志归档目标达到VALID状态的最长时间（以秒为单位）。</p>
                                    </td>
                                    <td align="left" valign="top" width="14%" headers="d747078e1505 d747078e1281 ">
                                       <p>600</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d747078e1519" headers="d747078e1272 ">
                                       <p><code class="codeph">LOG_LEVEL</code></p>
                                    </td>
                                    <td align="left" valign="top" width="9%" headers="d747078e1519 d747078e1275 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="52%" headers="d747078e1519 d747078e1278 ">
                                       <p><code class="codeph">DBS_ROLLING</code> PL / SQL包的日志记录级别。<code class="codeph">INFO</code>的值会导致记录错误和相关的非致命警告。值<code class="codeph">FULL</code>导致记录所有事件。
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="14%" headers="d747078e1519 d747078e1281 ">
                                       <p><code class="codeph">信息</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d747078e1543" headers="d747078e1272 ">
                                       <p><code class="codeph">会员</code></p>
                                    </td>
                                    <td align="left" valign="top" width="9%" headers="d747078e1543 d747078e1275 ">
                                       <p>没有</p>
                                    </td>
                                    <td align="left" valign="top" width="52%" headers="d747078e1543 d747078e1278 ">
                                       <p>指定数据库所属的升级组。</p>
                                       <p>值<code class="codeph">LEADING</code>表示备用数据库是主要升级组的成员。因此，它是领导小组大师（LGM）的备用。LGM是转换为临时逻辑备用数据库的数据库，在切换后成为新的主数据库。
                                       </p>
                                       <p>值<code class="codeph">TRAILING</code>表示备用数据库是尾随升级组的成员。因此，它是尾随组主（TGM）的备用。TGM是原始主数据库。
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="14%" headers="d747078e1543 d747078e1281 ">
                                       <p><code class="codeph">领导</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d747078e1568" headers="d747078e1272 ">
                                       <p><code class="codeph">READY_LGM_LAG_TIME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="9%" headers="d747078e1568 d747078e1275 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="52%" headers="d747078e1568 d747078e1278 ">
                                       <p>与<code class="codeph">READY_LGM_LAG_WAIT</code>参数关联的应用延迟时间（以秒为<code class="codeph">READY_LGM_LAG_WAIT</code> 。
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="14%" headers="d747078e1568 d747078e1281 ">
                                       <p>600</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d747078e1585" headers="d747078e1272 ">
                                       <p><code class="codeph">READY_LGM_LAG_TIMEOUT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="9%" headers="d747078e1585 d747078e1275 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="52%" headers="d747078e1585 d747078e1278 ">
                                       <p>在暂停滚动升级之前强制执行<code class="codeph">READY_LGM_LAG_WAIT</code>的最长时间（以秒为<code class="codeph">READY_LGM_LAG_WAIT</code> 。仅当<code class="codeph">READY_LGM_LAG_WAIT</code>设置为1时，此参数才有效。
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="14%" headers="d747078e1585 d747078e1281 ">
                                       <p>60</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d747078e1605" headers="d747078e1272 ">
                                       <p><code class="codeph">READY_LGM_LAG_WAIT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="9%" headers="d747078e1605 d747078e1275 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="52%" headers="d747078e1605 d747078e1278 ">
                                       <p>在将控制权返回给用户之前， <code class="codeph">START_PLAN</code>过程是否会等待前导组主机上的应用延迟低于<code class="codeph">READY_LGM_LAG_TIME</code>秒。如果设置为1，则执行等待。如果设置为0，则不执行等待。
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="14%" headers="d747078e1605 d747078e1281 ">
                                       <p>0</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d747078e1625" headers="d747078e1272 ">
                                       <p><code class="codeph">SWITCH_LGM_LAG_TIME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="9%" headers="d747078e1625 d747078e1275 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="52%" headers="d747078e1625 d747078e1278 ">
                                       <p>与<code class="codeph">SWITCH_LGM_LAG_WAIT</code>参数关联的应用延迟时间（以秒为单位）。
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="14%" headers="d747078e1625 d747078e1281 ">
                                       <p>600</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d747078e1642" headers="d747078e1272 ">
                                       <p><code class="codeph">SWITCH_LGM_LAG_TIMEOUT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="9%" headers="d747078e1642 d747078e1275 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="52%" headers="d747078e1642 d747078e1278 ">
                                       <p>在暂停滚动升级之前强制执行<code class="codeph">SWITCH_LGM_LAG_WAIT</code>的最长时间（以秒为单位）。仅当<code class="codeph">SWITCH_LGM_LAG_WAIT</code>设置为1时，此参数才有效。
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="14%" headers="d747078e1642 d747078e1281 ">
                                       <p>60</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d747078e1662" headers="d747078e1272 ">
                                       <p><code class="codeph">SWITCH_LGM_LAG_WAIT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="9%" headers="d747078e1662 d747078e1275 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="52%" headers="d747078e1662 d747078e1278 ">
                                       <p>在启动切换之前， <code class="codeph">SWITCHOVER</code>过程是否将等待前导组主机上的应用延迟降至<code class="codeph">SWITCH_LGM_LAG_TIME</code>秒以下。如果设置为1，则执行等待。如果设置为0，则不执行等待。
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="14%" headers="d747078e1662 d747078e1281 ">
                                       <p>1</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d747078e1683" headers="d747078e1272 ">
                                       <p><code class="codeph">SWITCH_LGS_LAG_TIME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="9%" headers="d747078e1683 d747078e1275 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="52%" headers="d747078e1683 d747078e1278 ">
                                       <p>与<code class="codeph">SWITCH_LGS_LAG_WAIT</code>参数关联的应用延迟时间（以秒为单位）。
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="14%" headers="d747078e1683 d747078e1281 ">
                                       <p>60</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d747078e1700" headers="d747078e1272 ">
                                       <p><code class="codeph">SWITCH_LGS_LAG_TIMEOUT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="9%" headers="d747078e1700 d747078e1275 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="52%" headers="d747078e1700 d747078e1278 ">
                                       <p>在暂停滚动升级之前强制执行<code class="codeph">SWITCH_LGS_LAG_WAIT</code>的最长时间（以秒为单位）。仅当<code class="codeph">SWITCH_LGS_LAG_WAIT</code>设置为1时，此参数才有效。
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="14%" headers="d747078e1700 d747078e1281 ">
                                       <p>60</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d747078e1720" headers="d747078e1272 ">
                                       <p><code class="codeph">SWITCH_LGS_LAG_WAIT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="9%" headers="d747078e1720 d747078e1275 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="52%" headers="d747078e1720 d747078e1278 ">
                                       <p>在是否<code class="codeph">SWITCHOVER</code>程序将等待在领导小组的备用应用滞后跌破<code class="codeph">SWITCH_LGS_LAG_TIME</code>启动切换之前秒。如果设置为1，则执行等待。如果设置为0，则不执行等待。
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="14%" headers="d747078e1720 d747078e1281 ">
                                       <p>0</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d747078e1740" headers="d747078e1272 ">
                                       <p><code class="codeph">UPDATED_LGS_TIMEOUT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="9%" headers="d747078e1740 d747078e1275 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="52%" headers="d747078e1740 d747078e1278 ">
                                       <p>在暂停滚动升级之前强制执行<code class="codeph">UPDATED_LGS_WAIT</code>的最长时间（以秒为<code class="codeph">UPDATED_LGS_WAIT</code> 。仅当<code class="codeph">UPDATED_LGS_WAIT</code>设置为1时，此参数才有效。
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="14%" headers="d747078e1740 d747078e1281 ">
                                       <p>10800</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d747078e1760" headers="d747078e1272 ">
                                       <p><code class="codeph">UPDATED_LGS_WAIT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="9%" headers="d747078e1760 d747078e1275 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="52%" headers="d747078e1760 d747078e1278 ">
                                       <p>在是否<code class="codeph">SWITCHOVER</code>程序将等待领导小组备用启动切换之前完成所有升级重做的恢复。如果设置为1，则执行等待。如果设置为0，则不执行等待</p>
                                    </td>
                                    <td align="left" valign="top" width="14%" headers="d747078e1760 d747078e1281 ">
                                       <p>1</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d747078e1777" headers="d747078e1272 ">
                                       <p><code class="codeph">UPDATED_TGS_TIMEOUT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="9%" headers="d747078e1777 d747078e1275 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="52%" headers="d747078e1777 d747078e1278 ">
                                       <p>在暂停滚动升级之前强制执行<code class="codeph">UPDATED_TGS_WAIT</code>的最长时间（以秒为<code class="codeph">UPDATED_TGS_WAIT</code> 。仅当<code class="codeph">UPDATED_TGS_WAIT</code>设置为1时，此参数才有效。
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="14%" headers="d747078e1777 d747078e1281 ">
                                       <p>10800</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d747078e1797" headers="d747078e1272 ">
                                       <p><code class="codeph">UPDATED_TGS_WAIT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="9%" headers="d747078e1797 d747078e1275 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="52%" headers="d747078e1797 d747078e1278 ">
                                       <p>在将控制权返回给用户之前， <code class="codeph">FINISH_PLAN</code>过程是否将等待尾随组备用以完成所有升级重做的恢复。如果设置为1，则执行等待。如果设置为0，则不执行等待。
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="14%" headers="d747078e1797 d747078e1281 ">
                                       <p>1</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS74608"></a><a id="ARPLS74608"></a><div class="props_rev_3"><a id="GUID-8A7F9761-40B2-4E7D-BB8C-85C65B01A098" name="GUID-8A7F9761-40B2-4E7D-BB8C-85C65B01A098"></a><h4 id="ARPLS-GUID-8A7F9761-40B2-4E7D-BB8C-85C65B01A098" class="sect4"><span class="enumeration_section">141.3.5</span> START_PLAN过程</h4>
                  <div>
                     <p>此过程开始滚动操作。必须在主数据库上执行此过程才能正式启动滚动操作。</p>
                     <div class="section">
                        <p>当<code class="codeph">START_PLAN</code>过程完成时，LGM（在<code class="codeph">INIT_PLAN</code>过程中使用<code class="codeph">future_primary</code>参数标识）将转换为完全配置的瞬态逻辑备用数据库。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-8A7F9761-40B2-4E7D-BB8C-85C65B01A098__GUID-D32D85B2-DF1F-4DD4-94D9-AF63276DA410">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_ROLLING.START_PLAN（）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-8A7F9761-40B2-4E7D-BB8C-85C65B01A098__GUID-DC3A7C4F-9999-4B0B-ADC4-524AFF8D08F9">参数</p>
                        <p>此过程没有参数。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-8A7F9761-40B2-4E7D-BB8C-85C65B01A098__GUID-4E4E2AE0-E985-4CCC-9720-1335122A9BDA">例外</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">ORA-45400</code> ：当前数据库不允许操作</p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-45414</code> ：无法连接到远程数据库</p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-45415</code> ：指令执行失败</p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-45416</code> ：在计划重建之前无法启动操作</p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-45417</code> ：由于当前阶段不是％s，因此不允许操作</p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-45422</code> ：操作需要现有计划</p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-45426</code> ：托管恢复过程未运行</p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-45427</code> ：逻辑备用Redo Apply进程未运行</p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-45428</code> ：数据库不在预期的数据库角色中</p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-45435</code> ：托管恢复过程正在运行</p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-45436</code> ：逻辑备用Redo Apply进程正在运行</p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-45438</code> ：数据库未处于装入模式</p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-45439</code> ：数据库未处于打开的读/写模式</p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-45486</code> ：数据库更新进度不一致</p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-65040</code> ：不允许在可插拔数据库中进行操作</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-8A7F9761-40B2-4E7D-BB8C-85C65B01A098__GUID-B9A64BC7-1A82-4294-B913-47ED00BCDC76">使用说明</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>必须先通过<code class="codeph">BUILD_PLAN</code>过程生成滚动操作计划。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS74609"></a><a id="ARPLS74609"></a><div class="props_rev_3"><a id="GUID-108D1FDB-F151-4BA8-B059-81BAF1961D25" name="GUID-108D1FDB-F151-4BA8-B059-81BAF1961D25"></a><h4 id="ARPLS-GUID-108D1FDB-F151-4BA8-B059-81BAF1961D25" class="sect4"><span class="enumeration_section">141.3.6 SWITCHOVER</span>程序</h4>
                  <div>
                     <p>此过程在当前主数据库（也称为TGM）和瞬态逻辑备用数据库（也称为LGM）之间执行切换。</p>
                     <div class="section">
                        <p>成功完成该过程后，LGM将承担Data Guard配置的主要角色。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-108D1FDB-F151-4BA8-B059-81BAF1961D25__GUID-0F5A93A9-B65B-4B0D-BB04-A486E9F54B91">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_ROLLING.SWITCHOVER（）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-108D1FDB-F151-4BA8-B059-81BAF1961D25__GUID-D60ED418-AAC6-49C7-BF43-B1C859208D4A">参数</p>
                        <p>此过程没有参数。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-108D1FDB-F151-4BA8-B059-81BAF1961D25__GUID-2FB03200-0F70-41D6-802E-EF61B42591C4">例外</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">ORA-45400</code> ：当前数据库不允许操作</p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-45414</code> ：无法连接到远程数据库</p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-45415</code> ：指令执行失败</p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-45416</code> ：在计划重建之前无法启动操作</p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-45417</code> ：由于当前阶段不是％s，因此不允许操作</p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-45422</code> ：操作需要现有计划</p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-45426</code> ：托管恢复过程未运行</p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-45427</code> ：逻辑备用Redo Apply进程未运行</p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-45428</code> ：数据库不在预期的数据库角色中</p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-45435</code> ：托管恢复过程正在运行</p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-45436</code> ：逻辑备用Redo Apply进程正在运行</p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-45438</code> ：数据库未处于装入模式</p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-45439</code> ：数据库未处于打开的读/写模式</p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-45486</code> ：数据库更新进度不一致</p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-65040</code> ：不允许在可插拔数据库中进行操作</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-108D1FDB-F151-4BA8-B059-81BAF1961D25__GUID-3F377A93-F8BB-4E6A-A6A4-17B13533C2E9">使用说明</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>只有在手动升级瞬态逻辑备用数据库并在较高的Oracle数据库版本上打开它后，才能调用此过程。</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS74610"></a><a id="ARPLS74610"></a><div class="props_rev_3"><a id="GUID-13AFC6DD-1FA9-4EAE-A0FE-8B33C4F5167F" name="GUID-13AFC6DD-1FA9-4EAE-A0FE-8B33C4F5167F"></a><h4 id="ARPLS-GUID-13AFC6DD-1FA9-4EAE-A0FE-8B33C4F5167F" class="sect4"><span class="enumeration_section">141.3.7</span> FINISH_PLAN程序</h4>
                  <div>
                     <p>此过程完成滚动操作。</p>
                     <div class="section">
                        <p>它将前一个主服务器（也称为TGM）配置为物理备用服务器，并配置剩余的物理备用服务器以从将来的主服务器恢复升级重做。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-13AFC6DD-1FA9-4EAE-A0FE-8B33C4F5167F__GUID-B2C6B865-0D8A-4B31-A13E-2603D87C690F">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_ROLLING.FINISH_PLAN（）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-13AFC6DD-1FA9-4EAE-A0FE-8B33C4F5167F__GUID-C2A6A8E3-5BDD-4733-BB26-B0EEBA49E8F2">参数</p>
                        <p>此过程没有参数。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-13AFC6DD-1FA9-4EAE-A0FE-8B33C4F5167F__GUID-7641467E-A20E-4060-8620-EE9EB6E2643F">例外</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">ORA-45400</code> ：当前数据库不允许操作</p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-45414</code> ：无法连接到远程数据库</p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-45415</code> ：指令执行失败</p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-45416</code> ：在计划重建之前无法启动操作</p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-45417</code> ：由于当前阶段不是％s，因此不允许操作</p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-45422</code> ：操作需要现有计划</p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-45426</code> ：托管恢复过程未运行</p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-45427</code> ：逻辑备用Redo Apply进程未运行</p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-45428</code> ：数据库不在预期的数据库角色中</p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-45435</code> ：托管恢复过程正在运行</p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-45436</code> ：逻辑备用Redo Apply进程正在运行</p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-45438</code> ：数据库未处于装入模式</p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-45439</code> ：数据库未处于打开的读/写模式</p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-45486</code> ：数据库更新进度不一致</p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-65040</code> ：不允许在可插拔数据库中进行操作</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-13AFC6DD-1FA9-4EAE-A0FE-8B33C4F5167F__GUID-9E3578FF-6ADB-42DC-9B8E-AF254E47A3E8">使用说明</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>只有在较高的Oracle数据库版本上重新装入以前的主要和剩余物理备用数据库后，才能调用此过程。</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS74611"></a><a id="ARPLS74611"></a><div class="props_rev_3"><a id="GUID-29B8A996-4D3B-4783-8415-BD9C9BB5FDFD" name="GUID-29B8A996-4D3B-4783-8415-BD9C9BB5FDFD"></a><h4 id="ARPLS-GUID-29B8A996-4D3B-4783-8415-BD9C9BB5FDFD" class="sect4"><span class="enumeration_section">141.3.8</span> ROLLBACK_PLAN过程</h4>
                  <div>
                     <p>此过程回滚整个配置范围的滚动操作。</p>
                     <div class="section">
                        <p>完成后，前导组中的所有数据库都将成为原始主数据库的物理备用数据库。只有在调用<code class="codeph">START_PLAN</code>过程后配置尚未进行切换操作时， <code class="codeph">START_PLAN</code>调用<code class="codeph">START_PLAN</code>过程。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-29B8A996-4D3B-4783-8415-BD9C9BB5FDFD__GUID-9F59E205-AC2C-49D2-9023-87FE274097B2">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_ROLLING.ROLLBACK_PLAN;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-29B8A996-4D3B-4783-8415-BD9C9BB5FDFD__GUID-09ECD832-A26A-4F76-80B5-DBA9F51FBF4E">参数</p>
                        <p>此过程没有参数。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-29B8A996-4D3B-4783-8415-BD9C9BB5FDFD__GUID-9D65C0E4-18AC-49AE-9744-84F1EF792131">例外</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">ORA-45400</code> ：当前数据库不允许操作</p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-45414</code> ：无法连接到远程数据库</p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-45415</code> ：指令执行失败</p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-45441</code> ：没有符合回滚条件的数据库</p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-45442</code> ：角色更改后不允许回滚</p>
                           </li>
                           <li>
                              <p><code class="codeph">ORA-65040</code> ：不允许在可插拔数据库中进行操作</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-29B8A996-4D3B-4783-8415-BD9C9BB5FDFD__GUID-AD692C9A-FEEB-4774-AAE5-C9644253477F">使用说明</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>如果已执行临时逻辑备用数据库的升级，则必须在较低的Oracle数据库版本上手动重新启动介质恢复。</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>