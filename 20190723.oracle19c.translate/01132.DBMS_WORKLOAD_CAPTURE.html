<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="The DBMS_WORKLOAD_CAPTURE package configures the Workload Capture system and produce the workload capture data."></meta>
      <meta name="description" content="The DBMS_WORKLOAD_CAPTURE package configures the Workload Capture system and produce the workload capture data."></meta>
      <title>DBMS_WORKLOAD_CAPTURE</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="PL/SQL Packages and Types Reference"></meta>
      <meta property="og:description" content="The DBMS_WORKLOAD_CAPTURE package configures the Workload Capture system and produce the workload capture data."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="PL/SQL Packages and Types Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-pl-sql-packages-and-types-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-03-25T11:24:34-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96430-03"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="DBMS_WM.html" title="Previous" type="text/html"></link>
      <link rel="next" href="DBMS_WORKLOAD_REPLAY.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database PL/SQL Packages and Types Reference"></meta>
    <meta name="dcterms.isVersionOf" content="ARPLS"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="DBMS_WM.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="DBMS_WORKLOAD_REPLAY.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">PL / SQL包和类型参考</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">DBMS_WORKLOAD_CAPTURE</li>
            </ol>
            <a id="GUID-77C6507C-3DE6-4FB4-B180-530BEB840BE8" name="GUID-77C6507C-3DE6-4FB4-B180-530BEB840BE8"></a><a id="ARPLS207"></a><a id="ARPLS207"></a>
            
            <h2 id="ARPLS-GUID-77C6507C-3DE6-4FB4-B180-530BEB840BE8" class="sect2"><span class="enumeration_chapter">182</span> DBMS_WORKLOAD_CAPTURE</h2>
         </header>
         <div class="ind">
            <div>
               <p><code class="codeph">DBMS_WORKLOAD_CAPTURE</code>包配置Workload Capture系统并生成工作负载捕获数据。
               </p>
               <p>通过<a href="DBMS_WORKLOAD_REPLAY.html#GUID-FE03A123-2257-41FF-BA90-AD0114DC1A4F" title="DBMS_WORKLOAD_REPLAY包提供重播工作负载捕获的接口。">DBMS_WORKLOAD_REPLAY</a>包实现此捕获的重放。
               </p>
               <p>本章包含以下主题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="DBMS_WORKLOAD_CAPTURE.html#GUID-6B74444C-4C8B-4EA2-B0AC-2CCBD859BD40" title="由于捕获基础结构是实例范围的（并且也在Oracle Real Application Clusters（Oracle RAC）中），因此在任何时间点都只生成一个工作负载捕获。因此，捕获接口不需要作为参数传入的状态对象，因为在任何时间点都存在一个单个状态。这意味着所有子程序都不能是对象的方法，而是包广泛的PL / SQL子程序。">概观</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_WORKLOAD_CAPTURE.html#GUID-78A40A84-D5A5-47FA-92DC-B2AAD6A3AA06" title="安全模型描述了使用DBMS_WORKLOAD_CAPTURE所需的权限。">安全模型</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_WORKLOAD_CAPTURE.html#GUID-3BD7600B-BF41-48F5-AA71-1F0E288991B6" title="此表按字母顺序列出DBMS_WORKLOAD_CAPTURE包子程序。">DBMS_WORKLOAD_CAPTURE子程序摘要</a></p>
                  </li>
               </ul>
               <div class="infoboxnotealso" id="GUID-77C6507C-3DE6-4FB4-B180-530BEB840BE8__GUID-4399A1E4-5442-40F3-83F0-A6372081C49D">
                  <p class="notep1">也可以看看：</p>
                  <p>有关数据库重放的详细信息，请参见<a href="../ratug/database-replay.html#RATUG-GUID-C5CAF3E6-0F1C-4BD6-BC03-F71744AD600E" target="_blank"><span><cite>Oracle数据库测试指南</cite></span></a></p>
               </div>
            </div><a id="ARPLS69042"></a><a id="ARPLS69042"></a><div class="props_rev_3"><a id="GUID-6B74444C-4C8B-4EA2-B0AC-2CCBD859BD40" name="GUID-6B74444C-4C8B-4EA2-B0AC-2CCBD859BD40"></a><h3 id="ARPLS-GUID-6B74444C-4C8B-4EA2-B0AC-2CCBD859BD40" class="sect3"><span class="enumeration_section">182.1</span> DBMS_WORKLOAD_CAPTURE概述</h3>
               <div>
                  <p>由于捕获基础结构是实例范围的（并且也在Oracle Real Application Clusters（Oracle RAC）中），因此在任何时间点都只生成一个工作负载捕获。因此，捕获接口不需要作为参数传入的状态对象，因为在任何时间点都存在一个单个状态。这意味着所有子程序都不能是对象的方法，而是包广泛的PL / SQL子程序。</p>
               </div>
            </div><a id="ARPLS69043"></a><a id="ARPLS69043"></a><div class="props_rev_3"><a id="GUID-78A40A84-D5A5-47FA-92DC-B2AAD6A3AA06" name="GUID-78A40A84-D5A5-47FA-92DC-B2AAD6A3AA06"></a><h3 id="ARPLS-GUID-78A40A84-D5A5-47FA-92DC-B2AAD6A3AA06" class="sect3"><span class="enumeration_section">182.2</span> DBMS_WORKLOAD_CAPTURE安全模型</h3>
               <div>
                  <p>安全模型描述了使用<code class="codeph">DBMS_WORKLOAD_CAPTURE</code>所需的权限。</p>
                  <div class="section">
                     <p>以下代码描述了以下所需的最小权限集：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>创建目录对象</p>
                        </li>
                        <li>
                           <p>操作<code class="codeph">DBMS_WORKLOAD_CAPTURE</code>和<code class="codeph">DBMS_WORKLOAD_REPLAY</code>包提供的接口</p>
                        </li>
                        <li>
                           <p>充当重播客户端用户（wrc <code class="codeph">someuser</code> / <code class="codeph">somepassword</code>或wrc <code class="codeph">USER=someuser</code> <code class="codeph">PASSWORD=somepassword</code> ）</p>
                        </li>
                     </ul><pre class="oac_no_warn" dir="ltr">DROP USER rom1 CASCADE;由rom1识别的CREATE USER rom1;在DBMS_WORKLOAD_CAPTURE上执行GRANT EXECUTE到rom1;在DBMS_WORKLOAD_REPLAY上执行GRANT EXECUTE到rom1;授予rom1的会员资格;授予创建任何目录rom1; GRANT SELECT_CATALOG_ROLE到rom1;授予用户rom1;</pre><p>在捕获和重放系统上访问和操作文件和目录需要适当的操作系统权限。这意味着Oracle进程和执行捕获或重放的OS用户必须能够访问和操作至少一个可从运行实例的主机访问的公共目录。此外，执行重放的OS用户应该能够在用于重放客户端的主机上执行wrc，并且能够适当地访问文件系统，以便在需要时将捕获复制到重放客户端的主机。</p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS69044"></a><a id="ARPLS69045"></a><a id="ARPLS69045"></a><a id="ARPLS69044"></a><div class="props_rev_3"><a id="GUID-3BD7600B-BF41-48F5-AA71-1F0E288991B6" name="GUID-3BD7600B-BF41-48F5-AA71-1F0E288991B6"></a><h3 id="ARPLS-GUID-3BD7600B-BF41-48F5-AA71-1F0E288991B6" class="sect3"><span class="enumeration_section">182.3</span> DBMS_WORKLOAD_CAPTURE子程序摘要</h3>
               <div>
                  <p>此表按字母顺序列出<code class="codeph">DBMS_WORKLOAD_CAPTURE</code>程序。
                  </p>
                  <div class="tblformal" id="GUID-3BD7600B-BF41-48F5-AA71-1F0E288991B6__GUID-3E05187F-BDA5-41FE-A61E-88910327B8F3">
                     <p class="titleintable">表182-1 DBMS_WORKLOAD_CAPTURE包子程序</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_WORKLOAD_CAPTURE包子程序" width="100%" border="1" summary="This table lists the DBMS_WORKLOAD_CAPTURE subprograms in alphabetical order and briefly describes them." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="30%" id="d1091056e456">子程序</th>
                              <th align="left" valign="bottom" width="70%" id="d1091056e459">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d1091056e464" headers="d1091056e456 ">
                                 <p><a href="DBMS_WORKLOAD_CAPTURE.html#GUID-C688CCA4-C471-4D2E-8E95-C3BD7A0A6A35" title="此过程添加了一个过滤器以捕获工作负载的子集。">ADD_FILTER程序</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d1091056e464 d1091056e459 ">
                                 <p>添加指定的过滤器</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d1091056e475" headers="d1091056e456 ">
                                 <p><a href="DBMS_WORKLOAD_CAPTURE.html#GUID-FF5E0954-DD22-4BE5-85F2-A720858C5A06" title="此过程解密使用各种高级加密标准（如AES128，AES192或AES256）加密的工作负载捕获中的敏感数据。">DECRYPT_CAPTURE程序</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d1091056e475 d1091056e459 ">
                                 <p>此过程解密使用各种高级加密标准（如<code class="codeph">AES128</code> ， <code class="codeph">AES192</code>或<code class="codeph">AES256</code> ）加密的工作负载捕获中的敏感数据。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d1091056e495" headers="d1091056e456 ">
                                 <p><a href="DBMS_WORKLOAD_CAPTURE.html#GUID-E61B5E13-0602-4124-B941-5696BA640EE9" title="此过程将删除DBA_WORKLOAD_CAPTURES和DBA_WORKLOAD_FILTERS视图中与给定工作负载捕获ID对应的行。">DELETE_CAPTURE_INFO过程</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d1091056e495 d1091056e459 ">
                                 <p>删除与给定工作负载捕获ID对应的<code class="codeph">DBA_WORKLOAD_CAPTURES</code>和<code class="codeph">DBA_WORKLOAD_FILTERS</code>视图中的行</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d1091056e518" headers="d1091056e456 ">
                                 <p><a href="DBMS_WORKLOAD_CAPTURE.html#GUID-44B2949A-9BE4-4380-8EA9-6F9B31B406E0" title="此过程删除指定的过滤器。">DELETE_FILTER过程</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d1091056e518 d1091056e459 ">
                                 <p>删除指定的过滤器</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d1091056e529" headers="d1091056e456 ">
                                 <p><a href="DBMS_WORKLOAD_CAPTURE.html#GUID-14CC7E0D-BAD1-4FBE-B018-9C3341563E21" title="此过程使用各种高级加密标准（如AES128，AES192或AES256）加密工作负载捕获中的敏感数据。要动态加密捕获，请在START_CAPTURE过程中使用加密参数。">ENCRYPT_CAPTURE程序</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d1091056e529 d1091056e459 ">
                                 <p>此过程使用各种高级加密标准（如<code class="codeph">AES128</code> ， <code class="codeph">AES192</code>或<code class="codeph">AES256</code>加密工作负载捕获中的敏感数据。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d1091056e549" headers="d1091056e456 ">
                                 <p><a href="DBMS_WORKLOAD_CAPTURE.html#GUID-56386444-D26C-4A44-8907-DC994913A55E" title="此过程导出与给定捕获ID关联的AWR快照。">EXPORT_AWR程序</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d1091056e549 d1091056e459 ">
                                 <p>导出与给定捕获ID关联的AWR快照</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d1091056e560" headers="d1091056e456 ">
                                 <p><a href="DBMS_WORKLOAD_CAPTURE.html#GUID-A062BC7C-1077-4DCB-94EE-900CFE7C837C" title="此过程通知所有连接的会话以停止工作负载捕获并停止捕获对数据库的未来请求。">FINISH_CAPTURE程序</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d1091056e560 d1091056e459 ">
                                 <p>通过发信号通知所有连接的会话来停止捕获来完成工作负载捕获，并阻止将来捕获数据库的请求</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d1091056e571" headers="d1091056e456 ">
                                 <p><a href="DBMS_WORKLOAD_CAPTURE.html#GUID-528AB56B-D07E-4A40-AAE5-FBDFFF517395" title="此过程检索有关规定目录中存在的工作负载捕获的所有信息，将信息导入DBA_WORKLOAD_CAPTURES和DBA_WORKLOAD_FILTERS视图，并返回相应的DBA_WORKLOAD_CAPTURES.ID">GET_CAPTURE_INFO函数</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d1091056e571 d1091056e459 ">
                                 <p>检索有关规定目录中存在的工作负载捕获的所有信息，将信息导入<code class="codeph">DBA_WORKLOAD_CAPTURES</code>和<code class="codeph">DBA_WORKLOAD_FILTERS</code>视图，并返回相应的<code class="codeph">DBA_WORKLOAD_CAPTURES</code> 。 <code class="codeph">ID</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d1091056e605" headers="d1091056e456 ">
                                 <p><a href="DBMS_WORKLOAD_CAPTURE.html#GUID-0081475D-A909-4466-A247-C83633DC0213" title="此过程导入与给定捕获ID关联的AWR快照，前提是这些AWR快照先前使用EXPORT_AWR过程从原始捕获系统导出。">IMPORT_AWR功能</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d1091056e605 d1091056e459 ">
                                 <p>导入与给定捕获ID关联的AWR快照</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d1091056e619" headers="d1091056e456 ">
                                 <p><a href="DBMS_WORKLOAD_CAPTURE.html#GUID-16048E89-39F6-4ADC-823F-6F0CF108FC98" title="此函数生成有关规定的工作负载捕获的报告。">报告功能</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d1091056e619 d1091056e459 ">
                                 <p>使用一个或多个不同的源返回有关正在考虑的工作负载捕获的报告</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d1091056e630" headers="d1091056e456 ">
                                 <p><a href="DBMS_WORKLOAD_CAPTURE.html#GUID-DE768343-F206-445B-A6BF-3126F85367DE" title="此过程在所有实例上启动工作负载捕获。">START_CAPTURE程序</a> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d1091056e630 d1091056e459 ">
                                 <p>在所有实例上启动工作负载捕获</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div><a id="ARPLS69046"></a><a id="ARPLS69047"></a><a id="ARPLS69047"></a><a id="ARPLS69046"></a><div class="props_rev_3"><a id="GUID-C688CCA4-C471-4D2E-8E95-C3BD7A0A6A35" name="GUID-C688CCA4-C471-4D2E-8E95-C3BD7A0A6A35"></a><h4 id="ARPLS-GUID-C688CCA4-C471-4D2E-8E95-C3BD7A0A6A35" class="sect4"><span class="enumeration_section">182.3.1</span> ADD_FILTER程序</h4>
                  <div>
                     <p>此过程添加了一个过滤器以捕获工作负载的子集。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-C688CCA4-C471-4D2E-8E95-C3BD7A0A6A35__GUID-DF8316FD-B26E-4525-98A1-20A66DEEB09B">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_WORKLOAD_CAPTURE.ADD_FILTER（fname IN VARCHAR2 NOT NULL，fattribute IN VARCHAR2 NOT NULL，fvalue IN VARCHAR2 NOT NULL）;</pre><pre class="oac_no_warn" dir="ltr">DBMS_WORKLOAD_CAPTURE.ADD_FILTER（fname IN VARCHAR2 NOT NULL，fattribute IN VARCHAR2 NOT NULL，fvalue IN NUMBER NOT NULL）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-C688CCA4-C471-4D2E-8E95-C3BD7A0A6A35__GUID-49388577-4D5E-4A54-A1D6-A3EAD6DB0D5A">参数</p>
                        <div class="tblformal" id="GUID-C688CCA4-C471-4D2E-8E95-C3BD7A0A6A35__GUID-700AD448-30E5-496D-BD6E-09E7643F19CE">
                           <p class="titleintable">表182-2 ADD_FILTER过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="ADD_FILTER过程参数" width="100%" border="1" summary="This table describes the parameters of DBMS_WORKLOAD_CAPTURE.ADD_FILTER." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="33%" id="d1091056e753">参数</th>
                                    <th align="left" valign="bottom" width="67%" id="d1091056e756">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1091056e761" headers="d1091056e753 ">
                                       <p><code class="codeph">FNAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1091056e761 d1091056e756 ">
                                       <p>要添加的过滤器的名称。如果不需要，可以在以后删除过滤器。（必须）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1091056e769" headers="d1091056e753 ">
                                       <p><code class="codeph">fattribute</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1091056e769 d1091056e756 ">
                                       <p>指定需要应用过滤器的属性（必需）。可能的值是：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">INSTANCE_NUMBER</code> - 输入<code class="codeph">NUMBER</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">USER</code> - 键入<code class="codeph">STRING</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">MODULE</code> - 类型<code class="codeph">STRING</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">ACTION</code> - 键入<code class="codeph">STRING</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">PROGRAM</code> - 键入<code class="codeph">STRING</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">SERVICE</code> - 键入<code class="codeph">STRING</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">PDB_NAME</code> - 输入<code class="codeph">STRING</code></p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1091056e827" headers="d1091056e753 ">
                                       <p><code class="codeph">F值</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1091056e827 d1091056e756 ">
                                       <p>指定给定属性应等于的值，以使过滤器被视为活动。对于<code class="codeph">STRING</code>类型的所有属性，可以使用'％'等通配符。这意味着<code class="codeph">NUMBER</code>属性的过滤器被解析为“attribute = value”， <code class="codeph">STRING</code>属性的过滤器被解析为“像value一样的属性”（必需）。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-C688CCA4-C471-4D2E-8E95-C3BD7A0A6A35__GUID-F6B883C5-796A-4D8E-B901-B9CE86C5CD9F">使用说明</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>工作负载捕获筛选器在<code class="codeph">DEFAULT</code> <code class="codeph">INCLUSION</code>或<code class="codeph">DEFAULT</code> <code class="codeph">EXCLUSION</code>模式下工作，由<a href="DBMS_WORKLOAD_CAPTURE.html#GUID-DE768343-F206-445B-A6BF-3126F85367DE" title="此过程在所有实例上启动工作负载捕获。">START_CAPTURE过程</a>的<code class="codeph">default_action</code>输入确定。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">ADD_FILTER</code>添加了一个影响下一次工作负载捕获的新过滤器，以及过滤器是否被视为<code class="codeph">INCLUSION</code>过滤器或<code class="codeph">EXCLUSION</code>过滤器取决于对<a href="DBMS_WORKLOAD_CAPTURE.html#GUID-DE768343-F206-445B-A6BF-3126F85367DE" title="此过程在所有实例上启动工作负载捕获。">START_CAPTURE过程</a>的default_action输入的值。
                              </p>
                           </li>
                           <li>
                              <p>指定的过滤器仅对下一次工作负载捕获有效。如果需要使用同一组过滤器进行后续捕获，则每次执行<a href="DBMS_WORKLOAD_CAPTURE.html#GUID-DE768343-F206-445B-A6BF-3126F85367DE" title="此过程在所有实例上启动工作负载捕获。">START_CAPTURE过程</a>之前都需要指定它们。
                              </p>
                           </li>
                           <li>
                              <p>所有过滤器都列在<code class="codeph">DBA_WORKLOAD_FILTERS</code>视图中。
                              </p>
                           </li>
                           <li>
                              <p>您可以通过指定PDB类型的过滤器来捕获特定PDB的工作负载。</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-C688CCA4-C471-4D2E-8E95-C3BD7A0A6A35__GUID-892B0D16-C46F-43F9-B1CD-6A6BB6B5C10F">例子</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>默认情况下，捕获在<code class="codeph">INCLUSION</code>模式下工作，该模式记录除满足指定过滤条件的请求之外的所有内容。例如，如果要从<code class="codeph">SCOTT</code>排除所有请求，可以在开始捕获之前添加以下过滤器。
                              </p><pre class="oac_no_warn" dir="ltr">EXEC DBMS_WORKLOAD_CAPTURE.ADD_FILTER（'过滤用户1'，'用户'，'SCOTT'）;</pre></li>
                           <li>
                              <p>根据逻辑析取运算符<code class="codeph">OR</code>评估多个滤波器。因此，如果要记录<code class="codeph">SCOTT</code>和<code class="codeph">JOHN</code>工作负载，可以添加其他过滤器：</p><pre class="oac_no_warn" dir="ltr">EXEC DBMS_WORKLOAD_CAPTURE.ADD_FILTER（'过滤用户2'，'用户'，'约翰'）;</pre></li>
                           <li>
                              <p>在CDB中，您可以通过筛选器排除特定PDB的工作负载：</p><pre class="oac_no_warn" dir="ltr">EXEC DBMS_WORKLOAD_CAPTURE.ADD_FILTER（'过滤器pdb工作负载'，'PDB_NAME'，'CDB1_PDB1'）;</pre></li>
                           <li>
                              <p>要使用<a href="DBMS_APPLICATION_INFO.html#GUID-14484F86-44F2-4B34-B34E-0C873D323EAD" title="应用程序开发人员可以将DBMS_APPLICATION_INFO程序包与Oracle Trace和SQL跟踪工具一起使用，以记录数据库中正在执行的模块或事务的名称，以便以后在跟踪各种模块的性能和调试时使用。">DBMS_APPLICATION_INFO</a>标识发布到数据库的工作负载，请执行以下操作：</p><pre class="oac_no_warn" dir="ltr">DBMS_APPLICATION_INFO.SET_MODULE（'ORDER_ENTRY'，NULL）; - 在这里运行一些SQL DBMS_APPLICATION_INFO.SET_ACTION（'ORDER_ENTRY_LOG'）; - 运行日志记录SQL</pre></li>
                           <li>
                              <p>如果已捕获工作负载，则要从捕获的数据库中排除日志记录SQL，请指定用于捕获的过滤器：</p><pre class="oac_no_warn" dir="ltr">DBMS_WORKLOAD_CAPTURE.ADD_FILTER（'过滤日志操作'，'行动'，'ORDER_ENTRY_LOG'）;</pre></li>
                           <li>
                              <p>要过滤掉完整的订单输入事务，请定义过滤器：</p><pre class="oac_no_warn" dir="ltr">DBMS_WORKLOAD_CAPTURE.ADD_FILTER（'过滤器订单输入'，'MODULE'，'ORDER_ENTRY'）;</pre></li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-FF5E0954-DD22-4BE5-85F2-A720858C5A06" name="GUID-FF5E0954-DD22-4BE5-85F2-A720858C5A06"></a><h4 id="ARPLS-GUID-FF5E0954-DD22-4BE5-85F2-A720858C5A06" class="sect4"><span class="enumeration_section">182.3.2</span> DECRYPT_CAPTURE程序</h4>
                  <div>
                     <p>此过程解密使用各种高级加密标准（如AES128，AES192或AES256）加密的工作负载捕获中的敏感数据。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-FF5E0954-DD22-4BE5-85F2-A720858C5A06__GUID-82DD9128-A177-4C87-8A25-2A5DC3306DD5">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_WORKLOAD_CAPTURE.DECRYPT_CAPTURE（src_dir IN VARCHAR2，dst_dir IN VARCHAR2）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-FF5E0954-DD22-4BE5-85F2-A720858C5A06__GUID-9D1A78D4-0958-48A2-AE8C-9894F60FAC3E">参数</p>
                        <div class="tblformal" id="GUID-FF5E0954-DD22-4BE5-85F2-A720858C5A06__GUID-FCF7BA4F-D29C-415F-99D0-7E6B0B84EBBD">
                           <p class="titleintable">表182-3 DECRYPT_CAPTURE过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="DECRYPT_CAPTURE过程参数" width="100%" border="1" summary="This table describes the parameters of DBMS_WORKLOAD_CAPTURE.DECRYPT_CAPTURE." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" id="d1091056e1076">参数</th>
                                    <th align="left" valign="bottom" id="d1091056e1079">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d1091056e1084" headers="d1091056e1076 ">
                                       <p><code class="codeph">src_dir</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d1091056e1084 d1091056e1079 ">
                                       <p>指向要解密的工作负载捕获的目录对象。</p>
                                       <p>此参数区分大小写。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d1091056e1094" headers="d1091056e1076 ">
                                       <p><code class="codeph">dst_dir</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d1091056e1094 d1091056e1079 ">
                                       <p>指向具有写入权限的OS路径的目录对象。解密的捕获文件将写入此目录</p>
                                       <p>此参数区分大小写。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-FF5E0954-DD22-4BE5-85F2-A720858C5A06__GUID-BC61B3B5-785C-4306-9093-D90E9DC095D8">使用说明</p>
                        <p>此过程依赖于软件密钥库。标识符为<code class="codeph">oracle.rat.database_replay.encryption</code> （区分大小写）。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS69048"></a><a id="ARPLS69049"></a><a id="ARPLS69049"></a><a id="ARPLS69048"></a><div class="props_rev_3"><a id="GUID-E61B5E13-0602-4124-B941-5696BA640EE9" name="GUID-E61B5E13-0602-4124-B941-5696BA640EE9"></a><h4 id="ARPLS-GUID-E61B5E13-0602-4124-B941-5696BA640EE9" class="sect4"><span class="enumeration_section">182.3.3</span> DELETE_CAPTURE_INFO过程</h4>
                  <div>
                     <p>此过程将删除<code class="codeph">DBA_WORKLOAD_CAPTURES</code>和<code class="codeph">DBA_WORKLOAD_FILTERS</code>视图中与给定工作负载捕获ID对应的行。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-E61B5E13-0602-4124-B941-5696BA640EE9__GUID-3A3F2959-51AD-4F42-A2CD-474ADF68A259">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_WORKLOAD_CAPTURE.DELETE_CAPTURE_INFO capture_id IN NUMBER）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E61B5E13-0602-4124-B941-5696BA640EE9__GUID-CB424181-7E5F-451F-B156-74787956314F">参数</p>
                        <div class="tblformal" id="GUID-E61B5E13-0602-4124-B941-5696BA640EE9__GUID-B5B85B5C-C785-4327-9C08-1D3A345BA583">
                           <p class="titleintable">表182-4 DELETE_CAPTURE_INFO过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="DELETE_CAPTURE_INFO过程参数" width="100%" border="1" summary="This table describes the parameters of DBMS_WORKLOAD_CAPTURE.DELETE_CAPTURE_INFO." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="100%" id="d1091056e1227">参数</th>
                                    <th align="left" valign="bottom" id="d1091056e1230">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="100%" id="d1091056e1235" headers="d1091056e1227 ">
                                       <p><code class="codeph">capture_id</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d1091056e1235 d1091056e1230 ">
                                       <p>需要删除的工作负载捕获的ID。对应于<code class="codeph">DBA_WORKLOAD_CAPTURES</code> 。 <code class="codeph">ID</code> 。 （强制性）</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E61B5E13-0602-4124-B941-5696BA640EE9__GUID-184AA8E1-1EFF-4E1A-A560-4159005AD5CB">使用说明</p>
                        <p>传递正在进行的捕获的ID将首先自动停止捕获。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS69050"></a><a id="ARPLS69051"></a><a id="ARPLS69051"></a><a id="ARPLS69050"></a><div class="props_rev_3"><a id="GUID-44B2949A-9BE4-4380-8EA9-6F9B31B406E0" name="GUID-44B2949A-9BE4-4380-8EA9-6F9B31B406E0"></a><h4 id="ARPLS-GUID-44B2949A-9BE4-4380-8EA9-6F9B31B406E0" class="sect4"><span class="enumeration_section">182.3.4</span> DELETE_FILTER过程</h4>
                  <div>
                     <p>此过程删除指定的过滤器。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-44B2949A-9BE4-4380-8EA9-6F9B31B406E0__GUID-BD8D8DC8-D72F-49E9-A3C4-A8866D43D893">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_WORKLOAD_CAPTURE.DELETE_FILTER（filter_name IN VARCHAR2（40）NOT NULL）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-44B2949A-9BE4-4380-8EA9-6F9B31B406E0__GUID-B8B39993-72C3-4408-905C-9607186C5926">参数</p>
                        <div class="tblformal" id="GUID-44B2949A-9BE4-4380-8EA9-6F9B31B406E0__GUID-20CE30E4-F2AA-4DB1-99F2-9D0000A19520">
                           <p class="titleintable">表182-5 DELETE_FILTER过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="DELETE_FILTER过程参数" width="100%" border="1" summary="This table describes the parameters of DBMS_WORKLOAD_CAPTURE.DELETE_FILTER." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="33%" id="d1091056e1363">参数</th>
                                    <th align="left" valign="bottom" width="67%" id="d1091056e1366">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1091056e1371" headers="d1091056e1363 ">
                                       <p><code class="codeph">FILTER_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1091056e1371 d1091056e1366 ">
                                       <p>要删除的过滤器</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-44B2949A-9BE4-4380-8EA9-6F9B31B406E0__GUID-B7ED13C5-B0E8-4673-801E-234EBA90C33C">使用说明</p>
                        <p><code class="codeph">DELETE_FILTER</code>过程仅影响以前捕获未使用的过滤器。因此，只有在任何捕获完成后使用<a href="DBMS_WORKLOAD_CAPTURE.html#GUID-C688CCA4-C471-4D2E-8E95-C3BD7A0A6A35" title="此过程添加了一个过滤器以捕获工作负载的子集。">ADD_FILTER过程</a>添加过滤器时，才能删除过滤器。已使用添加了过滤器<code class="codeph">ADD_FILTER</code>一个前<code class="codeph">START_CAPTURE</code>和<code class="codeph">FINISH_CAPTURE</code>不能被删除<code class="codeph">anymore</code>使用该子程序。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-14CC7E0D-BAD1-4FBE-B018-9C3341563E21" name="GUID-14CC7E0D-BAD1-4FBE-B018-9C3341563E21"></a><h4 id="ARPLS-GUID-14CC7E0D-BAD1-4FBE-B018-9C3341563E21" class="sect4"><span class="enumeration_section">182.3.5</span> ENCRYPT_CAPTURE程序</h4>
                  <div>
                     <p>此过程使用各种高级加密标准（如AES128，AES192或AES256）加密工作负载捕获中的敏感数据。要动态加密捕获，请在START_CAPTURE过程中使用加密参数。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-14CC7E0D-BAD1-4FBE-B018-9C3341563E21__GUID-510BF0CC-39E1-4DD1-B44A-ACF787754F0D">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_WORKLOAD_CAPTURE.ENCRYPT_CAPTURE src_dir IN VARCHAR2，dst_dir IN VARCHAR2，加密IN VARCHAR2 DEFAULT'AES256'）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-14CC7E0D-BAD1-4FBE-B018-9C3341563E21__GUID-C956A10F-3508-4482-A024-4BA3A9942BE0">参数</p>
                        <div class="tblformal" id="GUID-14CC7E0D-BAD1-4FBE-B018-9C3341563E21__ENCRYPT_CAPTUREPROCEDUREPARAMETERS-EFDEFA8D">
                           <p class="titleintable">表182-6 ENCRYPT_CAPTURE过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="ENCRYPT_CAPTURE过程参数" width="100%" border="1" summary="This table describes the parameters of DBMS_WORKLOAD_CAPTURE.ENCRYPT_CAPTURE." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" id="d1091056e1513">参数</th>
                                    <th align="left" valign="bottom" id="d1091056e1516">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d1091056e1521" headers="d1091056e1513 ">
                                       <p><code class="codeph">src_dir</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d1091056e1521 d1091056e1516 ">
                                       <p>指向要加密的工作负载捕获的目录对象。参数值区分大小写。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d1091056e1529" headers="d1091056e1513 ">
                                       <p><code class="codeph">dst_dir</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d1091056e1529 d1091056e1516 ">
                                       <p>指向具有写入权限的OS路径的目录对象。</p>
                                       <p>加密的捕获文件将写入此目录。参数值区分大小写。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d1091056e1539" headers="d1091056e1513 ">
                                       <p><code class="codeph">加密</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d1091056e1539 d1091056e1516 ">
                                       <p>指定工作负载捕获中的敏感数据是否已加密。</p>
                                       <p>可能的值为： <code class="codeph">AES128</code> ， <code class="codeph">AES192</code>和<code class="codeph">AES256</code> 。
                                       </p>
                                       <p>默认值为<code class="codeph">AES256</code> 。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-14CC7E0D-BAD1-4FBE-B018-9C3341563E21__GUID-03087192-1741-434A-9624-A15261AD8B6F">使用说明</p>
                        <p>对于加密捕获， <code class="codeph">ENCRYPT_CAPTURE</code>过程依赖于软件密钥库。标识符为<code class="codeph">oracle.rat.database_replay.encryption</code> （区分大小写）。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS69052"></a><a id="ARPLS69053"></a><a id="ARPLS69053"></a><a id="ARPLS69052"></a><div class="props_rev_3"><a id="GUID-56386444-D26C-4A44-8907-DC994913A55E" name="GUID-56386444-D26C-4A44-8907-DC994913A55E"></a><h4 id="ARPLS-GUID-56386444-D26C-4A44-8907-DC994913A55E" class="sect4"><span class="enumeration_section">182.3.6</span> EXPORT_AWR程序</h4>
                  <div>
                     <p>此过程导出与给定捕获ID关联的AWR快照。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-56386444-D26C-4A44-8907-DC994913A55E__GUID-54866CBA-1441-4C24-832A-82860C5D719E">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_WORKLOAD_CAPTURE.EXPORT_AWR（capture_id IN NUMBER）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-56386444-D26C-4A44-8907-DC994913A55E__GUID-AE1C3471-164B-4A54-BEBE-0E745D808105">参数</p>
                        <div class="tblformal" id="GUID-56386444-D26C-4A44-8907-DC994913A55E__GUID-BB0DE462-93C4-4753-87D6-8258D65D007E">
                           <p class="titleintable">表182-7 EXPORT_AWR过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="EXPORT_AWR过程参数" width="100%" border="1" summary="This table describes the parameters of DBMS_WORKLOAD_CAPTURE.EXPORT_AWR." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="33%" id="d1091056e1683">参数</th>
                                    <th align="left" valign="bottom" width="67%" id="d1091056e1686">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1091056e1691" headers="d1091056e1683 ">
                                       <p><code class="codeph">capture_id</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1091056e1691 d1091056e1686 ">
                                       <p>要导出AWR快照的捕获的ID。（必须）</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-56386444-D26C-4A44-8907-DC994913A55E__GUID-6B51351D-1052-4B60-88E3-A15A23005A8E">使用说明</p>
                        <p>仅当在当前数据库中执行相应的工作负载捕获时，此过程才有效（意味着<code class="codeph">DBA_WORKLOAD_CAPTURES</code>中的相应行未通过调用<a href="DBMS_WORKLOAD_CAPTURE.html#GUID-528AB56B-D07E-4A40-AAE5-FBDFFF517395" title="此过程检索有关规定目录中存在的工作负载捕获的所有信息，将信息导入DBA_WORKLOAD_CAPTURES和DBA_WORKLOAD_FILTERS视图，并返回相应的DBA_WORKLOAD_CAPTURES.ID">GET_CAPTURE_INFO函数</a>创建），并且仍然可以使用与原始捕获时间段对应的AWR快照。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS69054"></a><a id="ARPLS69055"></a><a id="ARPLS69055"></a><a id="ARPLS69054"></a><div class="props_rev_3"><a id="GUID-A062BC7C-1077-4DCB-94EE-900CFE7C837C" name="GUID-A062BC7C-1077-4DCB-94EE-900CFE7C837C"></a><h4 id="ARPLS-GUID-A062BC7C-1077-4DCB-94EE-900CFE7C837C" class="sect4"><span class="enumeration_section">182.3.7</span> FINISH_CAPTURE程序</h4>
                  <div>
                     <p>此过程通知所有连接的会话以停止工作负载捕获并停止捕获对数据库的未来请求。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-A062BC7C-1077-4DCB-94EE-900CFE7C837C__GUID-07B45155-0EC6-4A41-9C96-850B4992338A">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_WORKLOAD_CAPTURE.FINISH_CAPTURE超时IN NUMBER DEFAULT 30原因IN VARCHAR2 DEFAULT NULL）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A062BC7C-1077-4DCB-94EE-900CFE7C837C__GUID-FB8D2BDB-328C-48B0-AC86-538DD55D19EE">参数</p>
                        <div class="tblformal" id="GUID-A062BC7C-1077-4DCB-94EE-900CFE7C837C__GUID-8AB74E12-B239-40A1-A6CE-AA04B623C180">
                           <p class="titleintable">表182-8 FINISH_CAPTURE过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="FINISH_CAPTURE过程参数" width="100%" border="1" summary="This table describes the parameters of DBMS_WORKLOAD_CAPTURE.FINISH_CAPTURE." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="33%" id="d1091056e1835">参数</th>
                                    <th align="left" valign="bottom" width="67%" id="d1091056e1838">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1091056e1843" headers="d1091056e1835 ">
                                       <p><code class="codeph">超时</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1091056e1843 d1091056e1838 ">
                                       <p>指定过程在超时之前应等待的时间（以秒为单位）。如果要取消当前工作负载捕获而不等待任何会话刷新其捕获缓冲区，则传递0。默认值：30秒</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1091056e1851" headers="d1091056e1835 ">
                                       <p><code class="codeph">原因</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1091056e1851 d1091056e1838 ">
                                       <p>指定调用过程的原因。原因显示在视图<code class="codeph">DBA_WORKLOAD_CAPTURES</code> <code class="codeph">ERROR_MESSAGE</code>列中。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A062BC7C-1077-4DCB-94EE-900CFE7C837C__GUID-862A1B2C-057E-42B5-AF32-CBE5DFC2B67F">使用说明</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>默认情况下， <code class="codeph">FINISH_CAPTURE</code>等待30秒以在超时之前从数据库群集中的所有会话接收成功的确认。
                              </p>
                           </li>
                           <li>
                              <p>所有会话都处于执行用户请求或收到新用户请求的过程中，而<code class="codeph">FINISH_CAPTURE</code>正在等待确认，刷新缓冲区并将其确认发送回<code class="codeph">FINISH_CAPTURE</code> 。</p>
                           </li>
                           <li>
                              <p>如果数据库会话在<code class="codeph">FINISH_CAPTURE</code>期间保持空闲（等待下一个用户请求），则会话可能具有未<code class="codeph">FINISH_CAPTURE</code>捕获缓冲区，并且不会将其确认发送到<code class="codeph">FINISH_CAPTURE</code> 。</p>
                              <p>为避免这种情况，请在调用<code class="codeph">FINISH_CAPTURE</code>保持空闲的会话（等待下一个用户请求）。在运行<code class="codeph">FINISH_CAPTURE</code>之前关闭数据库会话，或者在<code class="codeph">FINISH_CAPTURE</code>期间向这些会话发送新的数据库请求。</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS69056"></a><a id="ARPLS69057"></a><a id="ARPLS69057"></a><a id="ARPLS69056"></a><div class="props_rev_3"><a id="GUID-528AB56B-D07E-4A40-AAE5-FBDFFF517395" name="GUID-528AB56B-D07E-4A40-AAE5-FBDFFF517395"></a><h4 id="ARPLS-GUID-528AB56B-D07E-4A40-AAE5-FBDFFF517395" class="sect4"><span class="enumeration_section">182.3.8</span> GET_CAPTURE_INFO函数</h4>
                  <div>
                     <p>此过程检索有关规定目录中存在的工作负载捕获的所有信息，将信息导入<code class="codeph">DBA_WORKLOAD_CAPTURES</code>和<code class="codeph">DBA_WORKLOAD_FILTERS</code>视图，并返回相应的<code class="codeph">DBA_WORKLOAD_CAPTURES</code> 。 <code class="codeph">ID</code> 
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-528AB56B-D07E-4A40-AAE5-FBDFFF517395__GUID-932D4F8D-3032-4BDB-ABD2-866E0C62AD97">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_WORKLOAD_CAPTURE.GET_CAPTURE_INFO目录在VARCHAR2中）返回号码;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-528AB56B-D07E-4A40-AAE5-FBDFFF517395__GUID-6863161D-86DA-4F44-AA05-7DE70F9DDF7A">参数</p>
                        <div class="tblformal" id="GUID-528AB56B-D07E-4A40-AAE5-FBDFFF517395__GUID-F2395DB0-231C-4E36-AB0D-6A6B4C2EF1B6">
                           <p class="titleintable">表182-9 GET_CAPTURE_INFO函数参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="GET_CAPTURE_INFO函数参数" width="100%" border="1" summary="This table describes the parameters of DBMS_WORKLOAD_CAPTURE.GET_CAPTURE_INFO." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="33%" id="d1091056e2026">参数</th>
                                    <th align="left" valign="bottom" width="67%" id="d1091056e2029">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1091056e2034" headers="d1091056e2026 ">
                                       <p><code class="codeph">DIR</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1091056e2034 d1091056e2029 ">
                                       <p>所有工作负载捕获文件所在的<code class="codeph">DIRECTORY</code>对象的名称（区分大小写）（必需）</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-528AB56B-D07E-4A40-AAE5-FBDFFF517395__GUID-5F1446EB-123B-4FCD-A316-EF8BA8CCFB63">使用说明</p>
                        <p>如果在<code class="codeph">DBA_WORKLOAD_CAPTURES</code>已经存在描述规定目录中的捕获的适当行，则<a href="DBMS_WORKLOAD_CAPTURE.html#GUID-528AB56B-D07E-4A40-AAE5-FBDFFF517395" title="此过程检索有关规定目录中存在的工作负载捕获的所有信息，将信息导入DBA_WORKLOAD_CAPTURES和DBA_WORKLOAD_FILTERS视图，并返回相应的DBA_WORKLOAD_CAPTURES.ID">GET_CAPTURE_INFO函数</a>只返回该行的<code class="codeph">DBA_WORKLOAD_CAPTURES</code> 。 <code class="codeph">ID</code> 。如果现有行与规定目录中的捕获不匹配，则会向<code class="codeph">DBA_WORKLOAD_CAPTURES</code>插入一个新行，并返回该行的<code class="codeph">ID</code> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS69058"></a><a id="ARPLS69059"></a><a id="ARPLS69059"></a><a id="ARPLS69058"></a><div class="props_rev_3"><a id="GUID-0081475D-A909-4466-A247-C83633DC0213" name="GUID-0081475D-A909-4466-A247-C83633DC0213"></a><h4 id="ARPLS-GUID-0081475D-A909-4466-A247-C83633DC0213" class="sect4"><span class="enumeration_section">182.3.9</span> IMPORT_AWR功能</h4>
                  <div>
                     <p>此过程导入与给定捕获ID关联的AWR快照，前提是这些AWR快照先前使用<code class="codeph">EXPORT_AWR</code>过程从原始捕获系统导出。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-0081475D-A909-4466-A247-C83633DC0213__GUID-4CFE5A7B-10C1-407C-BF61-448D6AA36392">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_WORKLOAD_CAPTURE.IMPORT_AWR（capture_id IN NUMBER，staging_schema IN VARCHAR2，force_cleanup IN BOOLEAN DEFAULT FALSE）返回号码;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-0081475D-A909-4466-A247-C83633DC0213__GUID-FDC24FED-532A-485C-9C1A-93175AA96296">参数</p>
                        <div class="tblformal" id="GUID-0081475D-A909-4466-A247-C83633DC0213__GUID-F3DD1AA3-43AE-48C0-8A25-4E14F48CC623">
                           <p class="titleintable">表182-10 IMPORT_AWR功能参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="IMPORT_AWR函数参数" width="100%" border="1" summary="This table describes the parameters of DBMS_WORKLOAD_CAPTURE.IMPORT_AWR." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="33%" id="d1091056e2197">参数</th>
                                    <th align="left" valign="bottom" width="67%" id="d1091056e2200">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1091056e2205" headers="d1091056e2197 ">
                                       <p><code class="codeph">capture_id</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1091056e2205 d1091056e2200 ">
                                       <p>应导入AWR快照的捕获的ID。（必须）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1091056e2213" headers="d1091056e2197 ">
                                       <p><code class="codeph">staging_schema</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1091056e2213 d1091056e2200 ">
                                       <p>当前数据库中有效模式的名称，可以在将AWR快照从捕获目录导入<code class="codeph">SYS</code> <code class="codeph">AWR</code>模式时用作临时区域。<code class="codeph">SYS</code>架构不是有效输入。（强制性，区分大小写）。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1091056e2230" headers="d1091056e2197 ">
                                       <p><code class="codeph">force_cleanup</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1091056e2230 d1091056e2200 ">
                                       <p>价值观：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">TRUE</code> - 在实际导入操作之前删除给定<code class="codeph">staging_schema</code>中存在的任何AWR数据。在实际导入之前，将删除所有名称与AWR中的任何表匹配的表。这通常等同于删除以下SQL返回的所有表：</p><pre class="oac_no_warn" dir="ltr">SELECT table_name FROM dba_tables WHERE owner = staging_schema AND table_name like'WR _ $％';</pre><p>仅当您确定<code class="codeph">staging_schema</code>中的任何此类表中没有重要数据时，才使用此选项。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">FALSE</code> - （默认）在导入操作之前没有从<code class="codeph">staging_schema</code>删除表</p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-0081475D-A909-4466-A247-C83633DC0213__GUID-BA6EFDF3-FB03-4CAD-A410-985CCA804A72">返回值</p>
                        <p>返回用于导入AWR快照的新随机生成的数据库ID。可以在<code class="codeph">DBA_WORKLOAD_CAPTURES</code>视图的<code class="codeph">AWR_DBID</code>列中找到相同的值。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-0081475D-A909-4466-A247-C83633DC0213__GUID-58C060A3-B715-4BCF-B29B-6FC76D1D1F1B">使用说明</p>
                        <p><code class="codeph">IMPORT_AWR</code>如果失败<code class="codeph">staging_schema</code>作为输入提供包含具有相同名称的任何AWR表，如任何表<code class="codeph">WRM$_SNAPSHOT</code>或<code class="codeph">WRH$_PARAMETER</code> 。请顺路的任何此类表<code class="codeph">staging_schema</code>调用之前<code class="codeph">IMPORT_AWR</code> 。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="DBMS_WORKLOAD_CAPTURE.html#GUID-56386444-D26C-4A44-8907-DC994913A55E" title="此过程导出与给定捕获ID关联的AWR快照。">EXPORT_AWR程序</a></li>
                        </ul>
                     </div>
                  </div>
               </div><a id="ARPLS69062"></a><a id="ARPLS69063"></a><a id="ARPLS69064"></a><a id="ARPLS69063"></a><a id="ARPLS69064"></a><a id="ARPLS69062"></a><div class="props_rev_3"><a id="GUID-16048E89-39F6-4ADC-823F-6F0CF108FC98" name="GUID-16048E89-39F6-4ADC-823F-6F0CF108FC98"></a><h4 id="ARPLS-GUID-16048E89-39F6-4ADC-823F-6F0CF108FC98" class="sect4"><span class="enumeration_section">182.3.10</span>报告功能</h4>
                  <div>
                     <p>此函数生成有关规定的工作负载捕获的报告。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-16048E89-39F6-4ADC-823F-6F0CF108FC98__GUID-01F651D9-1950-49D0-8D5B-9E0C695CB751">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_WORKLOAD_CAPTURE.REPORT（capture_id IN NUMBER，格式为IN VARCHAR2）RETURN CLOB;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-16048E89-39F6-4ADC-823F-6F0CF108FC98__GUID-664F1D8E-0359-4015-8FFF-6E9A2665E857">参数</p>
                        <div class="tblformal" id="GUID-16048E89-39F6-4ADC-823F-6F0CF108FC98__GUID-DEE69D71-0D24-43A2-AA45-72D54ABACFC8">
                           <p class="titleintable">表182-11 REPORT功能参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="报告功能参数" width="100%" border="1" summary="This table describes the parameters of DBMS_WORKLOAD_CAPTURE.REPORT." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="33%" id="d1091056e2414">参数</th>
                                    <th align="left" valign="bottom" width="67%" id="d1091056e2417">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1091056e2422" headers="d1091056e2414 ">
                                       <p><code class="codeph">capture_id</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1091056e2422 d1091056e2417 ">
                                       <p>需要捕获报告的工作负载捕获的ID。（必须）</p>
                                       <p>这涉及包含需要生成报告的工作负载捕获的目录。应该是一个有效的<code class="codeph">DIRECTORY</code>对象，指向包含工作负载捕获的主机系统中的有效目录。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1091056e2435" headers="d1091056e2414 ">
                                       <p><code class="codeph">格式</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1091056e2435 d1091056e2417 ">
                                       <p>指定报告格式。有效值为<code class="codeph">DBMS_WORKLOAD_CAPTURE</code> 。 <code class="codeph">TYPE_TEXT</code>和<code class="codeph">DBMS_WORKLOAD_CAPTURE</code> 。 <code class="codeph">TYPE_HTML</code> 。（强制性）</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-16048E89-39F6-4ADC-823F-6F0CF108FC98__GUID-5D638E11-E47B-4B70-A0CA-9DA24B4B1CFC">返回值</p>
                        <p>所需格式的报告正文作为<code class="codeph">CLOB</code>返回。</p>
                        <div class="tblformal" id="GUID-16048E89-39F6-4ADC-823F-6F0CF108FC98__GUID-427B89F3-1BF8-4380-977C-8E2475932A34">
                           <p class="titleintable">表182-12报告功能使用的常量</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="报表函数使用的常量" width="100%" border="1" summary="Constants used by Report Function" frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="25%" id="d1091056e2474">不变</th>
                                    <th align="left" valign="bottom" width="25%" id="d1091056e2477">类型</th>
                                    <th align="left" valign="bottom" width="16%" id="d1091056e2480">值</th>
                                    <th align="left" valign="bottom" width="34%" id="d1091056e2483">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d1091056e2488" headers="d1091056e2474 ">
                                       <p><code class="codeph">TYPE_HTML</code></p>
                                    </td>
                                    <td align="left" valign="top" width="25%" headers="d1091056e2488 d1091056e2477 ">
                                       <p><code class="codeph">VARCHAR2（4）</code></p>
                                    </td>
                                    <td align="left" valign="top" width="16%" headers="d1091056e2488 d1091056e2480 ">
                                       <p>'HTML'</p>
                                    </td>
                                    <td align="left" valign="top" width="34%" headers="d1091056e2488 d1091056e2483 ">
                                       <p>生成报告的HTML版本</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d1091056e2503" headers="d1091056e2474 ">
                                       <p><code class="codeph">TYPE_TEXT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="25%" headers="d1091056e2503 d1091056e2477 ">
                                       <p><code class="codeph">VARCHAR2（4）</code></p>
                                    </td>
                                    <td align="left" valign="top" width="16%" headers="d1091056e2503 d1091056e2480 ">
                                       <p>'文本'</p>
                                    </td>
                                    <td align="left" valign="top" width="34%" headers="d1091056e2503 d1091056e2483 ">
                                       <p>用作<code class="codeph">format</code>参数的输入以生成报告的文本版本</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS69065"></a><a id="ARPLS69066"></a><a id="ARPLS69066"></a><a id="ARPLS69065"></a><div class="props_rev_3"><a id="GUID-DE768343-F206-445B-A6BF-3126F85367DE" name="GUID-DE768343-F206-445B-A6BF-3126F85367DE"></a><h4 id="ARPLS-GUID-DE768343-F206-445B-A6BF-3126F85367DE" class="sect4"><span class="enumeration_section">182.3.11</span> START_CAPTURE程序</h4>
                  <div>
                     <p>此过程在所有实例上启动工作负载捕获。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-DE768343-F206-445B-A6BF-3126F85367DE__GUID-BED9F26F-B44C-454E-8B11-A041A64F3023">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_WORKLOAD_CAPTURE.START_CAPTURE（名称IN VARCHAR2，dir IN VARCHAR2，持续时间IN NUMBER DEFAULT NULL，default_action IN VARCHAR2 DEFAULT'INCLUDE'，auto_unrestrict IN BOOLEAN DEFAULT TRUE，capture_sts IN BOOLEAN DEFAULT FALSE，sts_cap_interval IN NUMBER DEFAULT 300，plsql_mode IN VARCHAR2 DEFAULT'TOP_LEVEL '，加密IN VARCHAR2 DEFAULT NULL）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-DE768343-F206-445B-A6BF-3126F85367DE__GUID-AE48E8C8-CF3A-48D9-8AA2-13E14E53E34A">参数</p>
                        <div class="tblformal" id="GUID-DE768343-F206-445B-A6BF-3126F85367DE__GUID-3C7A92EA-7D0F-4889-98ED-C98050694E83">
                           <p class="titleintable">表182-13 START_CAPTURE过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="START_CAPTURE过程参数" width="100%" border="1" summary="This table describes the parameters of DBMS_WORKLOAD_CAPTURE.START." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="33%" id="d1091056e2631">参数</th>
                                    <th align="left" valign="bottom" width="67%" id="d1091056e2634">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1091056e2639" headers="d1091056e2631 ">
                                       <p><code class="codeph">名称</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1091056e2639 d1091056e2634 ">
                                       <p>工作负载捕获的名称。允许为工作负载捕获提供标签，例如“感恩节周末”或“圣诞节峰值工作负载”以供将来参考。工作负载捕获的名称与捕获的工作负载操作一起保留。（必须）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1091056e2647" headers="d1091056e2631 ">
                                       <p><code class="codeph">DIR</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1091056e2647 d1091056e2634 ">
                                       <p>存储所有工作负载捕获文件的<code class="codeph">DIRECTORY</code>对象的名称（区分大小写）。应包含足够的空间来容纳所有工作负载捕获文件。（必须）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1091056e2658" headers="d1091056e2631 ">
                                       <p><code class="codeph">持续时间</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1091056e2658 d1091056e2634 ">
                                       <p>可选输入，用于指定需要捕获工作负载的持续时间（以秒为单位）。<code class="codeph">DEFAULT</code>为<code class="codeph">NULL</code> ，这意味着工作负载捕获将继续，直到用户执行<code class="codeph">DBMS_WORKLOAD_CAPTURE</code> 。 <code class="codeph">FINISH_CAPTURE</code> 。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1091056e2678" headers="d1091056e2631 ">
                                       <p><code class="codeph">default_action</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1091056e2678 d1091056e2634 ">
                                       <p>可以是<code class="codeph">INCLUDE</code>也可以是<code class="codeph">EXCLUDE</code> 。确定默认情况下是否应捕获每个用户请求。还确定指定的工作负载过滤器是否应被视为<code class="codeph">INCLUSION</code>过滤器或<code class="codeph">EXCLUSION</code>过滤器。
                                       </p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p>如果<code class="codeph">INCLUDE</code> ，则默认情况下会捕获对数据库的所有用户请求，但过滤器定义的工作负载部分除外。在这种情况下，使用<a href="DBMS_WORKLOAD_CAPTURE.html#GUID-C688CCA4-C471-4D2E-8E95-C3BD7A0A6A35" title="此过程添加了一个过滤器以捕获工作负载的子集。">ADD_FILTER过程</a>指定的所有过滤器都被视为<code class="codeph">EXCLUSION</code>过滤器，确定未捕获的工作负载。（ <code class="codeph">DEFAULT</code> ，因此指定的所有过滤器都假定为<code class="codeph">EXCLUSION</code>过滤器。）
                                             </p>
                                          </li>
                                          <li>
                                             <p>如果是<code class="codeph">EXCLUDE</code> ，则默认情况下不会捕获对数据库的用户请求，但过滤器定义的工作负载部分除外。在这种情况下，所有的过滤器使用指定的<a href="DBMS_WORKLOAD_CAPTURE.html#GUID-C688CCA4-C471-4D2E-8E95-C3BD7A0A6A35" title="此过程添加了一个过滤器以捕获工作负载的子集。">程序的add_filter</a>被视为<code class="codeph">INCLUSION</code>过滤器，确定所捕获的工作量。
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1091056e2737" headers="d1091056e2631 ">
                                       <p><code class="codeph">auto_unrestrict</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1091056e2737 d1091056e2634 ">
                                       <p>可以是<code class="codeph">TRUE</code>或<code class="codeph">FALSE</code> 。</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p>如果为<code class="codeph">TRUE</code> ，则使用<code class="codeph">STARTUP</code> <code class="codeph">RESTRICT</code>在<code class="codeph">RESTRICTED</code>模式下启动的所有实例在<code class="codeph">START_CAPTURE</code>成功后自动不受限制。 （<code class="codeph">DEFAULT</code> ）</p>
                                          </li>
                                          <li>
                                             <p>如果为<code class="codeph">FALSE</code> ，则不会自动不限制数据库实例。
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1091056e2780" headers="d1091056e2631 ">
                                       <p><code class="codeph">capture_sts</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1091056e2780 d1091056e2634 ">
                                       <p>如果此参数为<code class="codeph">TRUE</code> ，则还会在工作负载捕获的同时启动SQL调优集捕获。可以使用<a href="DBMS_WORKLOAD_CAPTURE.html#GUID-56386444-D26C-4A44-8907-DC994913A55E" title="此过程导出与给定捕获ID关联的AWR快照。">EXPORT_AWR过程</a>以及AWR数据导出生成的SQL调整集。目前，Oracle RAC环境不支持并行STS捕获，因此如果在该上下文中使用此参数，则此参数无效。使用<code class="codeph">DBMS_WORKLOAD_REPLAY</code>接口定义的捕获筛选器不适用于SQL调整集捕获。主叫用户必须具有适当的权限（' <code class="codeph">ADMINISTER SQL TUNING SET</code> '）。
                                       </p>
                                       <p>如果启动SQL集捕获失败，则会停止工作负载捕获。原因存储在<code class="codeph">DBA_WORKLOAD_CAPTURES</code> 。 <code class="codeph">ERROR_MESSAGE</code> 。默认值为<code class="codeph">FALSE</code> 。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1091056e2815" headers="d1091056e2631 ">
                                       <p><code class="codeph">sts_cap_interval</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1091056e2815 d1091056e2634 ">
                                       <p>指定从游标缓存中捕获SQL集的捕获间隔（以秒为单位）。默认值为300。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1091056e2823" headers="d1091056e2631 ">
                                       <p><code class="codeph">plsql_mode</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1091056e2823 d1091056e2634 ">
                                       <p>指定PL / SQL捕获模式：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">TOP_LEVEL</code> - 仅捕获顶级PL / SQL调用</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">EXTENDED</code> - 捕获顶级PL / SQL调用和从PL / SQL调用的SQL</p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1091056e2842" headers="d1091056e2631 ">
                                       <p><code class="codeph">加密</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1091056e2842 d1091056e2634 ">
                                       <p>指定工作负载捕获中的敏感数据是否已加密。</p>
                                       <p>可能的值是：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">NULL</code> - 捕获文件未加密</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">AES128</code> - 使用<code class="codeph">AES128</code>加密捕获文件</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">AES192</code> - 使用<code class="codeph">AES192</code>加密捕获文件</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">AES256</code> - 使用<code class="codeph">AES256</code>加密捕获文件</p>
                                          </li>
                                       </ul>
                                       <p>默认值为<code class="codeph">NULL</code> 。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-DE768343-F206-445B-A6BF-3126F85367DE__GUID-7E739DD9-143C-4CE0-8FA2-C68FF8273685">使用说明</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>成功调用<code class="codeph">START_CAPTURE</code>后发送到数据库的所有用户请求都会在给定的<code class="codeph">dir</code>目录中记录给定的持续时间，前提是指定了一个。如果未指定持续时间，则捕获将无限期持续，直到执行<a href="DBMS_WORKLOAD_CAPTURE.html#GUID-A062BC7C-1077-4DCB-94EE-900CFE7C837C" title="此过程通知所有连接的会话以停止工作负载捕获并停止捕获对数据库的未来请求。">FINISH_CAPTURE过程</a> 。
                              </p>
                           </li>
                           <li>
                              <p>工作负载捕获一旦开始，将继续记录跨数据库实例关闭和启动的用户请求达指定的持续时间，或直到执行<code class="codeph">FINISH_CAPTURE</code> ，以先发生者为准。
                              </p>
                           </li>
                           <li>
                              <p>可以使用工作负载过滤器（如关于<a href="DBMS_WORKLOAD_CAPTURE.html#GUID-C688CCA4-C471-4D2E-8E95-C3BD7A0A6A35" title="此过程添加了一个过滤器以捕获工作负载的子集。">ADD_FILTER过程</a>所描述的）来仅捕获发送到数据库的用户请求的子集。默认情况下，如果未定义工作负载筛选器，则会捕获所有用户请求。
                              </p>
                           </li>
                           <li>
                              <p>无论如何定义工作负载过滤器，都不会捕获从Oracle数据库后台进程（如<code class="codeph">SMON</code> ， <code class="codeph">PMON</code> ， <code class="codeph">MMON</code> ）和Oracle数据库调度程序作业（如<a href="DBMS_SCHEDULER.html#GUID-A24DEB5D-2EAF-4C0B-8715-30DC947B3F87" title="DBMS_SCHEDULER包提供了一组可以从任何PL / SQL程序调用的调度函数和过程。">DBMS_SCHEDULER</a>程序包中详述）启动的工作负载。这些活动应在适当配置的重播系统上自动进行。
                              </p>
                           </li>
                           <li>
                              <p>默认情况下，是在启动所有数据库实例<code class="codeph">RESTRICTED</code>使用模式<code class="codeph">STARTUP</code> <code class="codeph">RESTRICT</code>是<code class="codeph">UNRESTRICTED</code>在成功调用<code class="codeph">START_CAPTURE</code>使用<code class="codeph">FALSE</code>的<code class="codeph">auto_unrestrict</code>输入参数，如果你不希望这种行为。
                              </p>
                           </li>
                           <li>
                              <p>为工作负载定义明确的起点非常重要，这样在重新启动捕获的工作负载之前，可以将重放系统恢复到该点。要为工作负载捕获定义明确的起点，最好在执行<code class="codeph">START_CAPTURE</code>时不要有任何活动的用户会话。如果正在进行的会话具有正在进行的事务，则在后续数据库重放中不会正确地重放这些事务，因为仅重放在<code class="codeph">START_CAPTURE</code>之后执行调用的事务的那部分。
                              </p>
                           </li>
                           <li>
                              <p>对于加密捕获， <code class="codeph">START_CAPTURE</code>过程依赖于软件密钥库。标识符为<code class="codeph">oracle.rat.database_replay.encryption</code> （区分大小写）。
                              </p>
                           </li>
                           <li>
                              <p>您必须在<code class="codeph">auto-login</code>模式下配置软件密钥库。否则，如果数据库在捕获期间被退回，则捕获将自动终止。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>