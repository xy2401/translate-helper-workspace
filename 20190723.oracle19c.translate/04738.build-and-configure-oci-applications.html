<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="This chapter describes features about building and configuring OCI applications on Linux, UNIX, and Windows operating systems."></meta>
      <meta name="description" content="This chapter describes features about building and configuring OCI applications on Linux, UNIX, and Windows operating systems."></meta>
      <title>构建和配置OCI应用程序</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Programmer&#39;s Guide"></meta>
      <meta property="og:description" content="This chapter describes features about building and configuring OCI applications on Linux, UNIX, and Windows operating systems."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Programmer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="oracle-call-interface-programmers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-14T08:46:00-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96204-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="instant-client.html" title="Previous" type="text/html"></link>
      <link rel="next" href="oci-programming-basics.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Oracle Call Interface Programmer&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="LNOCI"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="instant-client.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="oci-programming-basics.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">程序员指南</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">构建和配置OCI应用程序</li>
            </ol>
            <a id="GUID-7DC38FFE-0AA2-4736-8D0C-CE5792F68493" name="GUID-7DC38FFE-0AA2-4736-8D0C-CE5792F68493"></a>
            
            <h2 id="LNOCI-GUID-7DC38FFE-0AA2-4736-8D0C-CE5792F68493" class="sect2"><span class="enumeration_chapter">3</span>构建和配置OCI应用程序</h2>
         </header>
         <div class="ind"><script type="text/javascript">window.name='build-and-configure-oci-applications'</script><script type="text/javascript">
    function footdisplay(footnum,footnote) {
    var msg = window.open('about:blank', 'NewWindow' + footnum,
        'directories=no,height=100,location=no,menubar=no,resizable=yes,' +
        'scrollbars=yes,status=no,toolbar=no,width=598');
    msg.document.open('text/html');
    msg.document.write('<!DOCTYPE html ');
    msg.document.write('PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" ');
    msg.document.write('"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">'); 
    msg.document.write('<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us" dir="ltr"><head><title>');
   
    msg.document.write('Footnote&nbsp; ' + footnum);
    msg.document.write('<\/title><meta http-equiv="Content-Type" ');
    msg.document.write('content="text/html; charset=utf-8" />');
    msg.document.write('<meta http-equiv="Content-Script-Type" ');
    msg.document.write('content="text/javascript" />');
    msg.document.write('<style type="text/css"> <![CDATA[ ');
    msg.document.write('h1 {text-align: center; font-size: 14pt;}');
    msg.document.write('fieldset {border: none;}');
    msg.document.write('form {text-align: center;}');
    msg.document.write(' ]]u003e </style>');
    msg.document.write('<\/head><body><div id="footnote"><h1>Footnote&nbsp; ' + footnum + '<\/h1><p>');
    msg.document.write(footnote);
    msg.document.write('<\/p><form action="" method="post"><fieldset>');
    msg.document.write('<input type="button" value="OK" ');
    msg.document.write('onclick="window.close();" />');
    msg.document.write('<\/fieldset><\/form><\/div><\/body><\/html>');
    msg.document.close();
    setTimeout(function() {
        var height = msg.document.getElementById('footnote').offsetHeight;
        msg.resizeTo(598, height + 100);
    }
    , 100);
    msg.focus();
}
            </script><noscript>
               <p>此页面上的脚本内容仅用于导航目的，不会以任何方式更改内容。</p>
            </noscript>
            <div>
               <p>本章介绍有关在Linux，UNIX和Windows操作系统上构建和配置OCI应用程序的功能。</p>
               <p>有关其他支持的操作系统，请参阅平台特定的安装指南以获取更多信息。</p>
               <div class="p">本章包括以下主题：<ul style="list-style-type:disc">
                     <li>
                        <p><a href="build-and-configure-oci-applications.html#GUID-8C6B6022-89EC-4E53-8CA4-AE415326D0E4" title="在Linux和UNIX操作系统上进行OCI和OCCI客户端应用程序开发所需的OCI和OCCI头文件位于$ ORACLE_HOME / rdbms / public目录中。">头文件和Makefile位置</a></p>
                     </li>
                     <li>
                        <p><a href="build-and-configure-oci-applications.html#GUID-D6379B9A-80A6-4439-B96A-D31264DF0100" title="如何在Linux和UNIX上构建OCI应用程序。">在Linux和UNIX上构建OCI应用程序</a></p>
                     </li>
                     <li>
                        <p><a href="build-and-configure-oci-applications.html#GUID-A8CD434E-D9E2-4718-AA25-123CE7C030EB" title="如何在Windows上构建OCI应用程序。">在Windows上构建应用程序</a></p>
                     </li>
                     <li>
                        <p><a href="build-and-configure-oci-applications.html#GUID-D1C1272A-8538-40ED-961D-8C872CAA18AE" title="本主题描述不使用ORACLE_BASE_HOME的Oracle Net命名方法，或ORACLE_HOME（用于查找配置文件，如tnsnames.ora，sqlnet.ora或oraaccess.xml）。">数据库连接字符串</a></p>
                     </li>
                     <li>
                        <p><a href="build-and-configure-oci-applications.html#GUID-AB481881-FE50-4617-BB45-0C817815EAA9" title="在Oracle Database 11.2（或更高版本）中，您可以在客户端和服务器上使用不同版本的时区文件; Oracle Database 11.2之前不支持此操作模式。">使用不同版本的时区文件运行的客户端和服务器</a></p>
                     </li>
                     <li>
                        <p><a href="build-and-configure-oci-applications.html#GUID-9D12F489-EC02-46BE-8CD4-5AECED0E2BA2" title="本主题使用oraaccess.xml描述OCI客户端部署参数。">OCI客户端部署参数使用oraaccess.xml</a></p>
                     </li>
                     <li>
                        <p><a href="build-and-configure-oci-applications.html#GUID-1B41866A-7D99-4335-8E73-E0BCF54CB532" title="以下部分讨论有关OCI客户端和服务器的不同版本之间的兼容性，OCI库例程中的更改以及将应用程序从7.x OCI版本升级到当前版本的OCI的问题：">关于兼容性和升级</a></p>
                     </li>
                     <li>
                        <p><a href="build-and-configure-oci-applications.html#GUID-0A4A1E6C-F321-4858-A535-E47240DC9EA1" title="Oracle Database 11g第1版（11.1）中的OCI引入了故障诊断功能。描述如何确定ADR基础的位置。ADRCI是一个命令行工具，使您可以在ADR中查看诊断数据，并将事件和问题信息打包到一个zip文件中供Oracle支持人员使用。介绍如何使用sqlnet.ora控制ADR创建和禁用故障诊断。">OCI中的故障可诊断性</a></p>
                     </li>
                  </ul>
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-8C6B6022-89EC-4E53-8CA4-AE415326D0E4" name="GUID-8C6B6022-89EC-4E53-8CA4-AE415326D0E4"></a><h3 id="LNOCI-GUID-8C6B6022-89EC-4E53-8CA4-AE415326D0E4" class="sect3"><span class="enumeration_section">3.1</span>头文件和Makefile位置</h3>
               <div>
                  <p>在Linux和UNIX操作系统上进行OCI和OCCI客户端应用程序开发所需的OCI和OCCI头文件位于<code class="codeph">$ORACLE_HOME/rdbms/public</code>目录中。
                  </p>
                  <p>这些文件既可以安装Oracle数据库服务器，也可以安装Oracle数据库客户端管理和自定义安装。有关包含C和C ++头文件的<a href="instant-client.html#GUID-16475230-7573-4A14-B76A-31E4F4CEEBCA" title="The software development kit (SDK) is a set of development tools that allows the creation of applications can be downloaded from the Instant Client link URL on the Oracle Technology Network website:">SDK</a>以及用于在Instant Client环境中开发OCI和OCCI应用程序的Makefile的信息，请参阅<a href="instant-client.html#GUID-16475230-7573-4A14-B76A-31E4F4CEEBCA" title="软件开发工具包（SDK）是一组开发工具，可以从Oracle Technology Network网站上的Instant Client链接URL下载创建应用程序：">SDK for Oracle Instant Client</a> 。
                  </p>
                  <p>安装后，所有演示程序及其相关头文件都驻留在<code class="codeph">$ORACLE_HOME/rdbms/demo</code>目录中。这些演示文件只能从Examples媒体安装。有关这些程序的名称及其用途，请参阅<a href="oci-demo-programs.html#GUID-75E18629-0C54-4495-A747-AFB346034F26" title="列出示例程序，其中包含示例代码，用于演示OCI句柄的分配和使用。">OCI演示程序</a> 。
                  </p>
                  <p><code class="codeph">demo</code>目录中提供了几个makefile。每个makefile都包含注释，其中包含有关在构建OCI可执行文件时使用的说明。Oracle建议您尽可能使用这些演示makefile以避免编译和链接中的错误。
                  </p>
                  <p><code class="codeph">demo</code>目录中的<code class="codeph">demo_rdbms.mk</code>文件是一个示例makefile。请参阅有关如何构建演示OCI程序的评论。<code class="codeph">demo_rdbms.mk</code>文件包含<code class="codeph">$ORACLE_HOME/rdbms/public</code>目录。确保您自己的自定义makefile在<code class="codeph">INCLUDE</code>路径中具有<code class="codeph">$ORACLE_HOME/rdbms/public</code>目录。
                  </p>
                  <p><code class="codeph">ociucb.mk</code>文件是<code class="codeph">demo</code>用于构建回调共享库的makefile。
                  </p>
               </div>
            </div>
            <div class="sect2"><a id="GUID-D6379B9A-80A6-4439-B96A-D31264DF0100" name="GUID-D6379B9A-80A6-4439-B96A-D31264DF0100"></a><h3 id="LNOCI-GUID-D6379B9A-80A6-4439-B96A-D31264DF0100" class="sect3"><span class="enumeration_section">3.2</span>在Linux和UNIX上构建OCI应用程序</h3>
               <div>
                  <p>如何在Linux和UNIX上构建OCI应用程序。</p>
                  <div class="p">本主题描述了适用于在Linux和UNIX上构建应用程序的OCI的功能，主题如下：<ul style="list-style-type:disc">
                        <li>
                           <p><a href="build-and-configure-oci-applications.html#GUID-39B702E1-1893-4A6A-838A-ACE749C533AC" title="$ ORACLE_HOME目录包含下表中描述的与OCI相关的以下目录。">Oracle目录结构</a></p>
                        </li>
                        <li>
                           <p><a href="build-and-configure-oci-applications.html#GUID-D5AD28D8-9518-491C-9AD0-B29F92EFC88F" title="在Oracle数据库安装之后，可选择安装一组OCI演示程序及其相应的项目文件，并在ORACLE_BASE / ORACLE_HOME / demo子目录中进行设置。">示范OCI计划</a></p>
                        </li>
                     </ul>
                  </div>
                  <p></p>
                  <div class="infoboxnotealso" id="GUID-D6379B9A-80A6-4439-B96A-D31264DF0100__GUID-6C417E4C-5BBA-44BA-9C19-07DC3A6BC1C0">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span><cite>适用于Linux的Oracle数据库客户端安装指南，</cite></span>适用于x86-64 Linux平台的操作系统要求，支持x86-64平台的Oracle Linux和Red Hat Enterprise发行版，以及适用于Linux x86-64的编程环境的安装要求</p>
                        </li>
                        <li>
                           <p><span class="italic">适用于Apple Mac OS X（Intel）的Oracle Database Instant Client安装指南，</span>用于检查软件要求</p>
                        </li>
                     </ul>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-39B702E1-1893-4A6A-838A-ACE749C533AC" name="GUID-39B702E1-1893-4A6A-838A-ACE749C533AC"></a><h4 id="LNOCI-GUID-39B702E1-1893-4A6A-838A-ACE749C533AC" class="sect4"><span class="enumeration_section">3.2.1</span> Oracle目录结构</h4>
                  <div>
                     <p><code class="codeph">$ORACLE_HOME</code>目录包含下表中描述的与OCI相关的以下目录。</p>
                     <p>这些目录适用于完整客户端和Oracle数据库，但不适用于Oracle Instant Client。这些文件包括链接和运行OCI应用程序以及与其他Oracle产品链接所需的库文件。</p>
                     <div class="tblformal" id="GUID-39B702E1-1893-4A6A-838A-ACE749C533AC__GUID-0AADB555-4FE5-43D5-B3A5-74D83F3AA1DD">
                        <p class="titleintable">表3-1 ORACLE_HOME目录和内容</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="ORACLE_HOME目录和内容" border="1" summary="This table contains 2 columns named Directory Name and Contents." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" id="d20286e945">目录名称</th>
                                 <th align="left" valign="bottom" id="d20286e947">内容</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d20286e951" headers="d20286e945 ">
                                    <p><code class="codeph">/管理员</code></p>
                                 </td>
                                 <td align="left" valign="top" headers="d20286e951 d20286e947 ">
                                    <p>配置文件</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d20286e959" headers="d20286e945 ">
                                    <p><code class="codeph">/演示</code></p>
                                 </td>
                                 <td align="left" valign="top" headers="d20286e959 d20286e947 ">
                                    <p>示例程序，make文件，SQL文件等</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d20286e967" headers="d20286e945 ">
                                    <p><code class="codeph">/ imclude</code></p>
                                 </td>
                                 <td align="left" valign="top" headers="d20286e967 d20286e947 ">
                                    <p>头文件</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d20286e975" headers="d20286e945 ">
                                    <p><code class="codeph">/ lib目录</code></p>
                                 </td>
                                 <td align="left" valign="top" headers="d20286e975 d20286e947 ">
                                    <p>库文件</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d20286e983" headers="d20286e945 ">
                                    <p><code class="codeph">/ MESG</code></p>
                                 </td>
                                 <td align="left" valign="top" headers="d20286e983 d20286e947 ">
                                    <p>消息文件</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d20286e991" headers="d20286e945 ">
                                    <p><code class="codeph">/上市</code></p>
                                 </td>
                                 <td align="left" valign="top" headers="d20286e991 d20286e947 ">
                                    <p>公共头文件</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-D5AD28D8-9518-491C-9AD0-B29F92EFC88F" name="GUID-D5AD28D8-9518-491C-9AD0-B29F92EFC88F"></a><h4 id="LNOCI-GUID-D5AD28D8-9518-491C-9AD0-B29F92EFC88F" class="sect4"><span class="enumeration_section">3.2.2</span>示范OCI计划</h4>
                  <div>
                     <p>在Oracle数据库安装之后，可选择安装一组OCI演示程序及其相应的项目文件，并在<code class="codeph"><span class="codeinlineitalic">ORACLE_BASE/ORACLE_HOME</span></code> <code class="codeph">/demo</code>子目录中进行设置。
                     </p>
                     <p></p>
                     <p>构建并运行这些OCI演示程序，以熟悉开发OCI应用程序所涉及的步骤。</p>
                     <div class="p">要构建演示OCI程序，请运行位于<code class="codeph">/demo</code>目录中的<code class="codeph">make</code>文件（ <code class="codeph">demo_rdbms.mk</code> ）。例如，要构建单个OCI演示，请使用以下<code class="codeph">make</code>命令语法：<pre class="pre codeblock"><code>make -f demo_rdbms.mk build EXE = demo OBJS =“demo.o ...”</code></pre>例如，要构建OCI <code class="codeph">cdemo81.c</code>程序，请输入以下<code class="codeph">make</code>命令：</div><pre class="pre codeblock"><code>make -f demo_rdbms.mk build EXE = cdemo81 OBJS = cdemo81.o</code></pre><p>在此示例中，可从目标文件创建或更新可执行文件，而目标文件又通过编译源文件<code class="codeph">cdemo81.c</code> 。
                     </p>
                     <div class="infoboxnotealso" id="GUID-D5AD28D8-9518-491C-9AD0-B29F92EFC88F__GUID-B531FBC7-7202-426C-ACC6-BD3AEED7CC96">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>有关使用Oracle Universal Installer安装演示OCI程序的信息，请参见“ <a href="../exmpl/index.html#GUID-08474A8D-D3A5-4DF6-A920-3A17E87A1953" target="_blank"><span><cite>Oracle数据库示例安装指南”</cite></span></a></p>
                           </li>
                           <li>
                              <p><a href="http://www.oracle.com/technetwork/database/enterprise-edition/downloads/oracle12c-linux-12201-3608234.html" target="_blank">下载：Oracle Database 12 <span class="italic">c</span>第2版（12.2.0.1.0）标准版2和企业版，</a>用于链接到Oracle数据库12 <span class="italic">c</span>第2版用于Linux x86-64的示例（12.2.0.1.0） <code class="codeph">linuxx64_12201_examples.zip</code></p>
                           </li>
                           <li>
                              <p>查看<code class="codeph">demo_rdbms.mk</code>文件的内容，以了解有关运行<code class="codeph">demo</code>子目录中提供的许多其他OCI演示程序的更多信息。
                              </p>
                           </li>
                           <li>
                              <p><a href="oci-demo-programs.html#GUID-75E18629-0C54-4495-A747-AFB346034F26" title="Lists example programs with sample code demonstrating the allocation and use of OCI handles.">OCI演示程序</a> ，了解有关<a href="oci-demo-programs.html#GUID-75E18629-0C54-4495-A747-AFB346034F26" title="列出示例程序，其中包含示例代码，用于演示OCI句柄的分配和使用。">OCI演示程序</a>的更多信息</p>
                           </li>
                        </ul>
                     </div>
                     <p></p>
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-A8CD434E-D9E2-4718-AA25-123CE7C030EB" name="GUID-A8CD434E-D9E2-4718-AA25-123CE7C030EB"></a><h3 id="LNOCI-GUID-A8CD434E-D9E2-4718-AA25-123CE7C030EB" class="sect3"><span class="enumeration_section">3.3</span>在Windows上构建应用程序</h3>
               <div>
                  <p>如何在Windows上构建OCI应用程序。</p>
                  <p>有关完整信息，请参阅<a href="getting-started-with-oci-for-windows.html#GUID-AF5B9CF0-EA9A-4786-80AF-1FEF13363C88" title="如何开始使用OCI for Windows。">OCI for Windows入门</a> 。
                  </p>
                  <div class="infoboxnotealso" id="GUID-A8CD434E-D9E2-4718-AA25-123CE7C030EB__GUID-DF93DDE1-8A02-4CC3-8372-215B224C3515">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/lnoci&amp;id=NTCLI-GUID-CE270350-A201-4DAA-8373-A19408C9EF7D" target="_blank"><span><cite>适用于Microsoft Windows的Oracle数据库客户端安装指南，</cite></span></a>以获取有关Oracle数据库软件客户端要
                     </p>
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-D1C1272A-8538-40ED-961D-8C872CAA18AE" name="GUID-D1C1272A-8538-40ED-961D-8C872CAA18AE"></a><h3 id="LNOCI-GUID-D1C1272A-8538-40ED-961D-8C872CAA18AE" class="sect3"><span class="enumeration_section">3.4</span>数据库连接字符串</h3>
               <div>
                  <p>本主题描述不使用<code class="codeph">ORACLE_BASE_HOME</code> Oracle Net命名方法，或<code class="codeph">ORACLE_HOME</code> （用于查找配置文件，如<code class="codeph">tnsnames.ora</code> ， <code class="codeph">sqlnet.ora</code>或<code class="codeph">oraaccess.xml</code> ）。
                  </p>
                  <p>特别是， <code class="codeph">OCIServerAttach()</code>调用中的<code class="codeph">connect_identifier</code>可以使用以下格式指定：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        
                        <p>一个简单的连接命名字符串的形式如下：</p>
                        <pre class="pre codeblock"><code>[[协议：//] host1的{，} host12 [：端口1] {，主机2：端口2} [/ SERVICE_NAME] [：服务器] [/ INSTANCE_NAME] [？PARAMETER_NAME =值{＆PARAMETER_NAME =值}]</code></pre>
                        <p>从Oracle Database Release 19c开始，扩展了简易连接命名语法，请参阅<a href="../admqs/configuring-the-network-environment.html#ADMQS-GUID-81B7DEEB-E5BF-4F90-9B72-679F1832F342" target="_blank">Easy Connect命名增强功能</a> 。
                        </p>
                     </li>
                     <li>
                        <p>作为本地命名参数的<code class="codeph">tnsnames.ora</code>配置文件条目的形式：</p><pre class="oac_no_warn" dir="ltr">net_service_name =（DESCRIPTION =（ADDRESS =（protocol_address_information））（CONNECT_DATA =（SERVICE_NAME = service_name）））</pre></li>
                     <li>
                        <p>作为表单的Oracle Net连接描述符：</p><pre class="oac_no_warn" dir="ltr">“（DESCRIPTION =（ADDRESS =（PROTOCOL = <span class="italic">protocol-name</span> ）（HOST = <span class="italic">host-name</span> ）（PORT = <span class="italic">port-number</span> ））（CONNECT_DATA =（SERVICE_NAME = <span class="italic">service-name</span> ）））”</pre></li>
                     <li>
                        <p>通过目录命名解析的连接名称，其中为LDAP服务器发现配置了站点。</p>
                     </li>
                  </ul>
                  <p>要使命名方法（如<code class="codeph">tnsnames.ora</code>和目录命名）起作用，还可以设置<code class="codeph">TNS_ADMIN</code>环境变量。
                  </p>
                  <p>如果未设置<code class="codeph">TNS_ADMIN</code>环境变量，并且使用<code class="codeph">tnsnames.ora</code>条目（例如<code class="codeph">inst1</code>等），则必须设置<code class="codeph">ORACLE_HOME</code>变量，并且配置文件应位于<code class="codeph">$ORACLE_HOME/network/admin</code>目录中。请注意，在这种情况下， <code class="codeph">ORACLE_HOME</code>变量仅用于查找Oracle Net配置文件，客户端代码库（OCI，NLS等）的其他组件不使用<code class="codeph">ORACLE_HOME</code>的值。因此，设置<code class="codeph">TNS_ADMIN</code>环境变量以建立<code class="codeph">tnsnames.ora</code>文件的位置是首选<code class="codeph">TNS_ADMIN</code>容易的。
                  </p>
                  <p>如果在<code class="codeph">OCIServerAttach()</code>调用<code class="codeph">OCIServerAttach()</code> <code class="codeph">NULL</code>字符串“”用作连接字符串，则可以将<code class="codeph">TWO_TASK</code>环境变量设置为<code class="codeph">connect_identifier</code> 。在Windows操作系统上，使用<code class="codeph">LOCAL</code>环境变量而不是<code class="codeph">TWO_TASK</code> 。</p>
                  <p>类似地，对于诸如SQL * Plus的OCI应用程序，可以将<code class="codeph">TWO_TASK</code> （或Windows上的<code class="codeph">LOCAL</code> ）环境变量设置为connect_identifier。它的值可以是在典型的连接字符串上出现在'@'右侧的任何值。
                  </p>
                  <div class="infoboxnotealso" id="GUID-D1C1272A-8538-40ED-961D-8C872CAA18AE__GUID-F49DFA6A-B11E-416D-ACC5-24A98381D4FE">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>有关连接描述符的更多信息，请参阅“ <a href="../netag/configuring-naming-methods.html#NETAG008" target="_blank"><span><cite>Oracle数据库网络服务管理员指南</cite></span></a> ”中有关“配置命名方法”的章节</p>
                        </li>
                     </ul>
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-E97921AA-A166-44EB-97B7-9EEFE3A23ED3" name="GUID-E97921AA-A166-44EB-97B7-9EEFE3A23ED3"></a><h4 id="LNOCI-GUID-E97921AA-A166-44EB-97B7-9EEFE3A23ED3" class="sect4"><span class="enumeration_section">3.4.1</span> Oracle数据库连接字符串连接标识符的示例</h4>
                  <div>
                     <p>如果您正在使用OCI应用程序，例如SQL * Plus，那么您可以通过以下方式指定数据库连接字符串：</p>
                     <p>如果Oracle数据库上的<code class="codeph">listener.ora</code>文件包含以下内容：</p><pre class="oac_no_warn" dir="ltr">LISTENER =（ADDRESS_LIST =（ADDRESS =（PROTOCOL = tcp）（HOST = server6）（PORT = 1573）））SID_LIST_LISTENER =（SID_LIST =（SID_DESC =（SID_NAME = rdbms3）（GLOBAL_DBNAME = rdbms3.server6.us.alchemy.com ）（ORACLE_HOME = / home / dba / rdbms3 / oracle）））</pre><p>OCI应用程序，连接标识符是：</p><pre class="oac_no_warn" dir="ltr">“服务器6：1573 / rdbms3.server6.us.alchemy.com”</pre><p>连接标识符也可以指定为：</p><pre class="oac_no_warn" dir="ltr">“（DESCRIPTION =（ADDRESS =（PROTOCOL = tcp）（HOST = server6）（PORT = 1573））（CONNECT_DATA =（SERVICE_NAME = rdbms3.server6.us.alchemy.com）））”</pre><p>或者，您可以将<code class="codeph">TWO_TASK</code>环境变量设置为任何先前的连接标识符，并在不指定连接标识符的情况下进行连接。例如：</p><pre class="oac_no_warn" dir="ltr">export TWO_TASK = // server6：1573 / rdbms3.server6.us.alchemy.com</pre><p>您还可以将<code class="codeph">TWO_TASK</code>环境变量指定为：</p><pre class="oac_no_warn" dir="ltr">export TWO_TASK =（DESCRIPTION =（ADDRESS =（PROTOCOL = tcp）（HOST = server6）（PORT = 1573））（CONNECT_DATA =（SERVICE_NAME = rdbms3.server6.us.alchemy.com）））</pre><p>然后，您可以使用空连接标识符调用OCI应用程序。例如，要运行SQL * Plus：</p><pre class="oac_no_warn" dir="ltr">sqlplus <span class="italic">用户</span>
</pre><p>连接描述符也可以存储在<code class="codeph">tnsnames.ora</code>文件中。例如，如果<code class="codeph">tnsnames.ora</code>文件包含以下连接描述符：</p><pre class="oac_no_warn" dir="ltr">conn_str =（DESCRIPTION =（ADDRESS =（PROTOCOL = tcp）（HOST = server6）（PORT = 1573））（CONNECT_DATA =（SERVICE_NAME = rdbms3.server6.us.alchemy.com）））</pre><p>如果<code class="codeph">tnsnames.ora</code>文件位于<code class="codeph">/home/webuser/myconfigs</code>目录中，则可以将变量<code class="codeph">TNS_ADMIN</code> （或Windows上的<code class="codeph">LOCAL</code> ）设置为：</p><pre class="oac_no_warn" dir="ltr">export TNS_ADMIN = / home / webuser / myconfigs</pre><p>然后，您可以使用连接标识符<code class="codeph">conn_str</code>来调用OCI应用程序，例如SQL * Plus，或者用于OCI连接。
                     </p>
                     <div class="infoboxnote" id="GUID-E97921AA-A166-44EB-97B7-9EEFE3A23ED3__GUID-732F59D2-62DC-425C-94BB-CEA2B973C8FC">
                        <p class="notep1">注意：</p>
                        <p><code class="codeph">TNS_ADMIN</code>指定<code class="codeph">tnsnames.ora</code>文件所在的目录， <code class="codeph">TNS_ADMIN</code>不是<code class="codeph">tnsnames.ora</code>文件的完整路径。
                        </p>
                     </div>
                     <p>如果前面的<code class="codeph">tnsnames.ora</code>文件位于基于安装的Oracle主目录中，则在/ <code class="codeph">network/server6/home/dba/oracle/network/admin</code>目录中，则可以将<code class="codeph">ORACLE_HOME</code>环境变量设置如下，并将OCI应用程序设置为可以像以前一样使用标识符<code class="codeph">conn_str</code>调用SQL * Plus：</p><pre class="oac_no_warn" dir="ltr">export ORACLE_HOME = / network / server6 / home / dba / oracle</pre><p>最后，如果<code class="codeph">tnsnames.ora</code>可以通过<code class="codeph">TNS_ADMIN</code>或<code class="codeph">ORACLE_HOME</code> ，那么<code class="codeph">TWO_TASK</code>环境变量可以设置如下，使您可以调用OCI应用程序，例如没有连接标识符的SQL * Plus：</p><pre class="oac_no_warn" dir="ltr">export TWO_TASK = conn_str</pre></div>
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-AB481881-FE50-4617-BB45-0C817815EAA9" name="GUID-AB481881-FE50-4617-BB45-0C817815EAA9"></a><h3 id="LNOCI-GUID-AB481881-FE50-4617-BB45-0C817815EAA9" class="sect3"><span class="enumeration_section">3.5</span>使用不同版本的时区文件操作的客户端和服务器</h3>
               <div>
                  <p>在Oracle Database 11.2（或更高版本）中，您可以在客户端和服务器上使用不同版本的时区文件; Oracle Database 11.2之前不支持此操作模式。</p>
                  <p>客户端和服务器都必须是11.2或更高版本才能以这种混合模式运行。本节讨论在这种模式下运行的后果。为避免这些后果，请为客户端和服务器使用相同的时区文件版本。</p>
                  <p>当客户端和服务器使用不同的时区文件版本时，会出现以下行为。请注意，使用不同的时区文件版本只会影响<code class="codeph">TIMESTAMP</code> <code class="codeph">WITH</code> <code class="codeph">TIMEZONE</code> （ <code class="codeph">TSTZ</code> ）数据类型值的处理。
                  </p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>当输入参数为<code class="codeph">TSTZ</code>类型时，此处列出的OCI日期时间和间隔API无条件地引发错误。这是因为这些操作依赖于客户端上与数据库不同步的本地时区文件。继续这种配置中的计算可能导致客户端和数据库层之间的计算不一致。
                        </p><pre class="oac_no_warn" dir="ltr"><a href="oci-date-datetime-and-interval-functions.html#GUID-5FFD4B08-30E1-461E-8E55-940787D6D8EC" title="比较两个日期时间值。">OCIDateTimeCompare（）</a> <a href="oci-date-datetime-and-interval-functions.html#GUID-FC053036-BE93-42D7-A82C-4DDB6843E167" title="构造一个datetime描述符。">OCIDateTimeConstruct（）</a> <a href="oci-date-datetime-and-interval-functions.html#GUID-744793B2-CD2F-47AC-825A-6FF5BEE12BAB" title="将一个日期时间类型转换为另一个。">OCIDateTimeConvert（）</a> <a href="oci-date-datetime-and-interval-functions.html#GUID-BD2F6432-81FF-4CD6-9C3D-85E401894528" title="将两个日期时间作为输入并将其差异存储在一个间隔中。">OCIDateTimeSubtract（）</a> <a href="oci-date-datetime-and-interval-functions.html#GUID-0E4AF4DD-5EEB-434D-BA3A-F4EDE7038FF5" title="添加两个间隔以生成结果间隔。">OCIIntervalAdd（）</a> <a href="oci-date-datetime-and-interval-functions.html#GUID-2D0465BC-B8EA-4F41-B200-587F49D0B2CB" title="减去两个间隔并将结果存储在一个间隔中。">OCIIntervalSubtract（）</a> <a href="oci-date-datetime-and-interval-functions.html#GUID-12B19818-0001-42F1-8B2C-FD96B7C3231C" title="返回数据类型为OCIInterval的OCI_DTYPE_INTERVAL_DS，其中区域ID已设置（如果在输入字符串中指定了区域）和当前绝对偏移量，或者区域ID设置为0的绝对偏移量。">OCIIntervalFromTZ（）</a> <a href="oci-date-datetime-and-interval-functions.html#GUID-489C51F6-43DB-43DB-980F-2A42AFAFB332" title="获取datetime值的时区名称部分。">OCIDateTimeGetTimeZoneName（）</a> <a href="oci-date-datetime-and-interval-functions.html#GUID-B8DA860B-FD7D-481B-8347-156969B6EE04" title="获取日期时间值的时区（小时，分钟）部分。">脚本</a> <a id="fn_1" name="fn_1" href="#fn_1" returns="" an="" ora-01805="" error="" when="" timezone="" files="" on="" the="" client="" and="" server="" do="" not="" match="" (regions="" are="" synchronized);="" oci_success="" region="" time="" zone="" values="" same="" (represent="" instant="" in="" utc),="" though="" offsets="" different=")" ="" onclick="footdisplay(1, "><sup>1</sup></a> <a href="oci-date-datetime-and-interval-functions.html#GUID-086776F8-1153-417D-ABC6-A864A2A62788" title="获取系统当前日期和时间作为带时区的时间戳。">OCIDateTimeSysTimeStamp（）</a>
</pre></li>
                     <li>
                        <p>检索或修改<code class="codeph">TSTZ</code>值时会有性能损失。由于使用不同时区文件版本补偿客户端和服务器所需的额外转换，因此产生性能损失。
                        </p>
                     </li>
                     <li>
                        <p>如果更新的时区文件定义了新的时区区域，则可以看到在属于新区域的<code class="codeph">TIMESTAMP</code> <code class="codeph">WITH</code> <code class="codeph">TIMEZONE</code>值上运行的错误，该节点具有无法识别新时区的时区文件版本区域。
                        </p>
                     </li>
                  </ul>
                  <p>操作opaque类型或<code class="codeph">XMLType</code>实例或包含<code class="codeph">TSTZ</code>类型属性的应用程序必须在客户端和服务器上使用相同的时区文件版本，以避免数据丢失。
                  </p>
                  <div class="infoboxnotealso" id="GUID-AB481881-FE50-4617-BB45-0C817815EAA9__GUID-C7AEE111-2B3B-42B6-B09A-9DD956F6D927">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="../nlspg/datetime-data-types-and-time-zone-support.html#NLSPG259" target="_blank"><span><cite>“Oracle数据库全球化支持指南”，</cite></span></a>以获取有关使用时区数据升级时区文件和时间戳的信息</p>
                  </div>
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-9D12F489-EC02-46BE-8CD4-5AECED0E2BA2" name="GUID-9D12F489-EC02-46BE-8CD4-5AECED0E2BA2"></a><h3 id="LNOCI-GUID-9D12F489-EC02-46BE-8CD4-5AECED0E2BA2" class="sect3"><span class="enumeration_section">3.6</span>使用oraaccess.xml的OCI客户端部署参数</h3>
               <div>
                  <p>本主题使用oraaccess.xml描述OCI客户端部署参数。</p>
                  <div class="p">本节包括以下主题：<ul style="list-style-type:disc">
                        <li>
                           <p><a href="build-and-configure-oci-applications.html#GUID-CD599644-135A-4116-8B3B-40A9BA172E5C" title="从Oracle Database Release 12c第1版（12.1）开始，Oracle提供了oraaccess.xml文件，即客户端配置文件。">关于oraaccess.xml</a></p>
                        </li>
                        <li>
                           <p><a href="build-and-configure-oci-applications.html#GUID-7F47F9F7-EF51-4D68-8B2A-2443C837710B" title="在sqlnet.ora和oraaccess.xml文件中同时设置等效参数时，oraaccess.xml文件设置优先于相应的sqlnet.ora文件设置。">关于oraaccess.xml中指定的客户端部署参数</a></p>
                        </li>
                        <li>
                           <p><a href="build-and-configure-oci-applications.html#GUID-8D28AB6C-C04A-4C63-AC3A-25B18AB99B06" title="描述oraaccess.xml文件的高级结构。">oraaccess.xml的高级结构</a></p>
                        </li>
                        <li>
                           <p><a href="build-and-configure-oci-applications.html#GUID-4B68F0BB-16FA-40C6-BA13-CFD9A2B110A8" title="如上所述，&lt;default_parameters&gt;标记允许为各种OCI参数指定默认值。">关于在oraaccess.xml中指定全局参数</a></p>
                        </li>
                        <li>
                           <p><a href="build-and-configure-oci-applications.html#GUID-6C76054A-0E0A-4783-B00D-9B65C80C24B0" title="描述可以为跨连接共享的连接参数设置的默认值。">关于指定连接参数的默认值</a></p>
                        </li>
                        <li>
                           <p><a href="build-and-configure-oci-applications.html#GUID-D436C5B8-0B9A-4E21-95D2-29D984186528" title="使用oraaccess.xml文件还允许您在连接字符串级别覆盖同一组特定于连接的参数。">在连接字符串级别覆盖连接参数</a></p>
                        </li>
                        <li>
                           <p><a href="build-and-configure-oci-applications.html#GUID-C171A50B-BB76-4A2F-9E9D-F96CE23BFAF7" title="从Oracle Database 18c版本18.1开始，可以使用oraaccess.xml客户端配置文件设置OCI会话池配置。">关于oraaccess.xml中的OCI会话池配置</a></p>
                        </li>
                        <li>
                           <p><a href="build-and-configure-oci-applications.html#GUID-B8A13EE4-0D42-4856-A4F4-FE438650D691" title="为简单起见，列出了有关oraaccess.xml文件语法的一些高级规则。">文件（oraaccess.xml）属性</a></p>
                        </li>
                     </ul>
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-CD599644-135A-4116-8B3B-40A9BA172E5C" name="GUID-CD599644-135A-4116-8B3B-40A9BA172E5C"></a><h4 id="LNOCI-GUID-CD599644-135A-4116-8B3B-40A9BA172E5C" class="sect4"><span class="enumeration_section">3.6.1</span>关于oraaccess.xml</h4>
                  <div>
                     <p>从Oracle Database Release 12 <span class="italic">c</span>第1版（12.1）开始，Oracle提供了<code class="codeph">oraaccess.xml</code>文件，即客户端配置文件。
                     </p>
                     <p>您可以使用<code class="codeph">oraaccess.xml</code>文件来配置所选的OCI参数（其中一些参数在各种OCI API调用中以编程方式接受），从而允许在部署期间更改OCI行为，而无需修改调用OCI的源代码。</p>
                     <p>对<code class="codeph">oraaccess.xml</code>文件的更新不会影响已在运行的客户端。为了获取<code class="codeph">oraaccess.xml</code>文件的任何更新，需要重新启动已运行的客户端。
                     </p>
                     <p>在常规和即时客户端安装中，从<code class="codeph">TNS_ADMIN</code>环境变量指定的目录中读取<code class="codeph">oraaccess.xml</code>文件。如果在常规客户端安装中未设置<code class="codeph">TNS_ADMIN</code> ，则这是UNIX操作系统上的<span class="italic"><code class="codeph">$ORACLE_HOME</code></span> <code class="codeph">/network/admin</code>目录和Microsoft Windows操作系统上的<span class="italic"><code class="codeph">%ORACLE_HOME%</code></span> <code class="codeph">\NETWORK\ADMIN</code>目录。
                     </p>
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-7F47F9F7-EF51-4D68-8B2A-2443C837710B" name="GUID-7F47F9F7-EF51-4D68-8B2A-2443C837710B"></a><h4 id="LNOCI-GUID-7F47F9F7-EF51-4D68-8B2A-2443C837710B" class="sect4"><span class="enumeration_section">3.6.2</span>关于oraaccess.xml中指定的客户端部署参数</h4>
                  <div>
                     <p>在<code class="codeph">sqlnet.ora</code>和<code class="codeph">oraaccess.xml</code>文件中同时设置等效参数时， <code class="codeph">oraaccess.xml</code>文件设置优先于相应的<code class="codeph">sqlnet.ora</code>文件设置。
                     </p>
                     <p></p>
                     <p>在这种情况下，Oracle建议使用<code class="codeph">oraaccess.xml</code>文件设置。对于任何网络配置， <code class="codeph">sqlnet.ora</code>文件仍然是主文件，因为<code class="codeph">oraaccess.xml</code>文件中不支持网络级别设置。
                     </p>
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-8D28AB6C-C04A-4C63-AC3A-25B18AB99B06" name="GUID-8D28AB6C-C04A-4C63-AC3A-25B18AB99B06"></a><h4 id="LNOCI-GUID-8D28AB6C-C04A-4C63-AC3A-25B18AB99B06" class="sect4"><span class="enumeration_section">3.6.3</span> oraaccess.xml的高级结构</h4>
                  <div>
                     <p>描述<code class="codeph">oraaccess.xml</code>文件的高级结构。
                     </p>
                     <p><code class="codeph">oraaccess.xml</code>文件有一个顶级节点<code class="codeph">&lt;oraaccess&gt;</code> ，包含以下三个元素：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">&lt;default_parameters&gt;</code> - 此元素描述跨连接共享的任何默认参数设置。这些默认参数包括：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>全局参数的默认值 - 这些全局参数只能指定一次，因此适用于所有连接，并且不能在连接级别覆盖。使用以下标记指定这些参数：</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p><code class="codeph">&lt;events&gt;</code> - 以<code class="codeph">OCI_EVENTS</code>模式创建OCI环境，这是快速应用程序通知（FAN）和运行时连接负载平衡所必需的</p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">&lt;result_cache&gt;</code> - 设置OCI客户端结果缓存参数</p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">&lt;diag&gt;</code> - 设置OCI故障可诊断性参数</p>
                                    </li>
                                 </ul>
                              </li>
                              <li>
                                 <p>特定于连接的参数的默认值 - 可以将连接参数设置为特定连接的不同值。但是，它们也可以默认，并根据需要在每个连接字符串的基础上覆盖。这些默认值在所有连接之间共享（除非在连接级别覆盖，后面是<code class="codeph">&lt;config_descriptions&gt;</code>列表项中描述）。这些默认值由以下标记指定：</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p><code class="codeph">&lt;prefetch&gt;</code> - 设置所有查询的预取行数;使用<code class="codeph">&lt;rows&gt;</code>参数指定。
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">&lt;statement_cache&gt;</code> - 设置每个会话可以缓存的最大语句数;使用<code class="codeph">&lt;size&gt;</code>参数指定。
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">&lt;auto tune&gt;</code> - 包括： <code class="codeph">&lt;enable&gt;</code>打开或关闭自动调谐; <code class="codeph">&lt;ram_threshold&gt;</code> ，它设置当客户端系统上的可用物理内存达到此阈值时，自动调整的内存阈值以停止使用更多内存;和<code class="codeph">&lt;memory_target&gt;</code> ，它设置OCI自动调整可以为每个客户端进程使用的内存限制。
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">&lt;fan_subscription_failure_action&gt;</code> - 将订阅失败时的操作设置为值<code class="codeph">trace</code>或<code class="codeph">error</code> 。
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">&lt;ons&gt;</code> - 设置用于FAN通知的各种ONS客户端部署配置参数。
                                       </p>
                                    </li>
                                 </ul>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p><code class="codeph">&lt;config_descriptions&gt;</code> - 此元素将配置别名元素（ <code class="codeph">&lt;config_alias&gt;</code> ）（基本上是名称）与包含一个或多个连接参数的特定参数集（ <code class="codeph">&lt;parameters&gt;</code> ）相关联。这些连接参数与前面描述的元素<code class="codeph">&lt;default_parameters&gt;</code>中的连接参数相同，即： <code class="codeph">&lt;prefetch&gt;</code> ， <code class="codeph">&lt;statement_cache&gt;</code> ， <code class="codeph">&lt;auto_tune&gt;</code> ， <code class="codeph">&lt;fan_subscription_failure_action&gt;</code>和<code class="codeph">&lt;ons&gt;</code> 。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">&lt;connection_configs&gt;</code> - 此元素将应用程序使用的一个或多个连接字符串与配置别名相关联，从而允许多个连接字符串元素共享同一组参数。
                           </p>
                           <p>连接配置元素（ <code class="codeph">&lt;connection_config&gt;</code> ）将连接字符串元素（ <code class="codeph">&lt;connection_string&gt;</code> ）与配置别名元素（ <code class="codeph">&lt;config_alias&gt;</code> ）相关联。
                           </p>
                           <p>连接字符串通过配置别名与一组参数间接关联，这允许多个连接字符串元素共享同一组参数。</p>
                        </li>
                     </ul>
                     <p>以下各节更详细地描述了这些客户端部署参数。</p>
                     <div class="infoboxnotealso" id="GUID-8D28AB6C-C04A-4C63-AC3A-25B18AB99B06__GUID-4BA6A0B8-C4EE-4F12-8CAA-966EED83E479">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="build-and-configure-oci-applications.html#GUID-6C76054A-0E0A-4783-B00D-9B65C80C24B0" title="描述可以为跨连接共享的连接参数设置的默认值。">关于指定连接参数的默认值</a></p>
                     </div>
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-4B68F0BB-16FA-40C6-BA13-CFD9A2B110A8" name="GUID-4B68F0BB-16FA-40C6-BA13-CFD9A2B110A8"></a><h4 id="LNOCI-GUID-4B68F0BB-16FA-40C6-BA13-CFD9A2B110A8" class="sect4"><span class="enumeration_section">3.6.4</span>关于在oraaccess.xml中指定全局参数</h4>
                  <div>
                     <p>如上所述， <code class="codeph">&lt;default_parameters&gt;</code>标记允许为各种OCI参数指定默认值。
                     </p>
                     <p>其中，一些参数只能指定一次，因此适用于所有连接。使用以下标记描述这些全局参数：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">&lt;活动&gt;</code></p>
                           <p>这将在<code class="codeph">OCI_EVENTS</code>模式下创建OCI环境，这是快速应用程序通知（FAN）和运行时连接负载平衡所必需的。
                           </p><pre class="oac_no_warn" dir="ltr">&lt;events&gt; true &lt;！ -  value也可能是false  - &gt; &lt;/ events&gt;</pre></li>
                        <li>
                           <p><code class="codeph">&lt;RESULT_CACHE&gt;</code></p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">&lt;max_rset_rows&gt;</code> - 每进程查询缓存中行中任何结果集的最大大小。等效于<code class="codeph">sqlnet.ora</code>文件中的<code class="codeph">OCI_RESULT_CACHE_MAX_RSET_ROWS</code> 。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">&lt;max_rset_size&gt;</code> - 最大客户端结果缓存大小。将大小设置为32,768字节（32千字节（KB））或更大。等效于<code class="codeph">sqlnet.ora</code>文件中的<code class="codeph">OCI_RESULT_CACHE_MAX_RSET_SIZE</code> 。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">&lt;max_size&gt;</code> - 每进程查询缓存的最大大小（以字节为单位）。在客户端中指定小于32,768的大小会禁用客户端结果缓存功能。等效于<code class="codeph">sqlnet.ora</code>文件中的<code class="codeph">OCI_RESULT_CACHE_MAX_SIZE</code> 。
                                 </p>
                              </li>
                           </ul><pre class="oac_no_warn" dir="ltr">&lt;result_cache&gt; &lt;max_rset_rows&gt; 10 &lt;/ max_rset_rows&gt; &lt;max_rset_size&gt; 65535 &lt;/ max_rset_size&gt; &lt;max_size&gt; 65535 &lt;/ max_size&gt; &lt;/ result_cache&gt;</pre><p>在<code class="codeph">sqlnet.ora</code>和<code class="codeph">oraaccess.xml</code>文件中同时设置等效参数时， <code class="codeph">oraaccess.xml</code>文件设置优先于相应的<code class="codeph">sqlnet.ora</code>文件设置。
                           </p>
                           <p>有关等效OCI参数设置的列表，请参阅<a href="build-and-configure-oci-applications.html#GUID-4B68F0BB-16FA-40C6-BA13-CFD9A2B110A8__CEGHBFHB" title="此表有3列，并列出了oraaccess.xml和sqlnet.ora配置文件的等效OCI参数设置。第1列是OCI参数组，第2列是其等效的oraaccess.xml参数设置，第3列是其等效的sqlnet.ora参数设置。">表3-2</a> 。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">&lt;DIAG&gt;</code></p>
                           <p>您可以指定以下元素：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">&lt;adr_enabled&gt;</code> - 启用或禁用可诊断性。相当于<code class="codeph">sqlnet.ora</code>文件中的<code class="codeph">DIAG_ADR_ENABLED</code> 。值：true或false。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">&lt;dde_enabled&gt;</code> - 启用或禁用DDE。值：true或false。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">&lt;adr_base&gt;</code> - 设置ADR基目录，该目录是系统相关的目录路径字符串，用于指定要在当前ADRCI会话中使用的ADR基址的位置。等效于<code class="codeph">sqlnet.ora</code>文件中的<code class="codeph">ADR_BASE</code> 。值：ADR基目录的目录路径。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">&lt;sighandler_enabled&gt;</code> - 启用或禁用OCI信号处理程序。值：true或false。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">&lt;restricted&gt;</code> - 启用或禁用完整转储文件。Oracle数据库客户端包含用于诊断问题的高级功能，包括在检测到重要错误时转储诊断信息的功能。默认情况下，这些转储仅限于一小部分可用信息，以确保不转储应用程序数据。但是，在许多安装中，可以配置转储文件的安全位置，以确保此类日志的隐私。在这种情况下，建议打开完全转储;这可以大大加快问题的解决速度。可以通过指定false值来启用完全转储。值：true或false。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">&lt;trace_events&gt;</code> - 表示跟踪事件编号和要生效的跟踪级别。目前仅支持事件10883。可用级别为5和10。
                                 </p>
                              </li>
                           </ul><pre class="oac_no_warn" dir="ltr">&lt;diag&gt; &lt;adr_enabled&gt; false &lt;/ adr_enabled&gt; &lt;dde_enabled&gt; false &lt;/ dde_enabled&gt; &lt;adr_base&gt; / foo / adr &lt;/ adr_base&gt; &lt;sighandler_enabled&gt; false &lt;/ sighandler_enabled&gt; &lt;restricted&gt; true &lt;/ restricted&gt; &lt;trace_events&gt; &lt; trace_event&gt; &lt;number&gt; 10883 &lt;/ number&gt; &lt;level&gt; 5 &lt;/ level&gt; &lt;/ trace_event&gt; &lt;/ trace_events&gt; &lt;/ diag&gt;</pre><p>在<code class="codeph">sqlnet.ora</code>和<code class="codeph">oraaccess.xml</code>文件中同时设置等效参数时， <code class="codeph">oraaccess.xml</code>文件设置优先于相应的<code class="codeph">sqlnet.ora</code>文件设置。
                           </p>
                           <p>有关等效OCI参数设置的列表，请参阅<a href="build-and-configure-oci-applications.html#GUID-4B68F0BB-16FA-40C6-BA13-CFD9A2B110A8__CEGHBFHB" title="此表有3列，并列出了oraaccess.xml和sqlnet.ora配置文件的等效OCI参数设置。第1列是OCI参数组，第2列是其等效的oraaccess.xml参数设置，第3列是其等效的sqlnet.ora参数设置。">表3-2</a> 。
                           </p>
                           <div class="tblformal" id="GUID-4B68F0BB-16FA-40C6-BA13-CFD9A2B110A8__CEGHBFHB">
                              <p class="titleintable">表3-2 oraaccess.xml和sqlnet.ora中的等效OCI参数设置</p>
                              <table cellpadding="4" cellspacing="0" class="Formal" title="oraaccess.xml和sqlnet.ora中的等效OCI参数设置" width="90%" border="1" summary="This table has 3 columns and lists the equivalent OCI parameter settings for the oraaccess.xml and sqlnet.ora configuration files. Column 1 is the OCI parameter group, column 2 is its equivalent oraaccess.xml parameter setting , and column 3 is its equivalent sqlnet.ora parameter setting. " frame="hsides" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="25%" id="d20286e3824">参数组</th>
                                       <th align="left" valign="bottom" width="25%" id="d20286e3827">oraaccess.xml参数</th>
                                       <th align="left" valign="bottom" width="50%" id="d20286e3830">sqlnet.ora参数</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="25%" id="d20286e3835" headers="d20286e3824 ">
                                          <p>OCI客户端结果缓存</p>
                                       </td>
                                       <td align="left" valign="top" width="25%" headers="d20286e3835 d20286e3827 ">
                                          <p><code class="codeph">&lt;max_rset_rows&gt;</code></p>
                                       </td>
                                       <td align="left" valign="top" width="50%" headers="d20286e3835 d20286e3830 ">
                                          <p><code class="codeph">OCI_RESULT_CACHE_MAX_RSET_ROWS</code></p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="25%" id="d20286e3847" headers="d20286e3824 ">
                                          <p>OCI客户端结果缓存</p>
                                       </td>
                                       <td align="left" valign="top" width="25%" headers="d20286e3847 d20286e3827 ">
                                          <p><code class="codeph">&lt;max_rset_size&gt;</code></p>
                                       </td>
                                       <td align="left" valign="top" width="50%" headers="d20286e3847 d20286e3830 ">
                                          <p><code class="codeph">OCI_RESULT_CACHE_MAX_RSET_SIZE</code></p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="25%" id="d20286e3859" headers="d20286e3824 ">
                                          <p>OCI客户端结果缓存</p>
                                       </td>
                                       <td align="left" valign="top" width="25%" headers="d20286e3859 d20286e3827 ">
                                          <p><code class="codeph">&lt;MAX_SIZE&gt;</code></p>
                                       </td>
                                       <td align="left" valign="top" width="50%" headers="d20286e3859 d20286e3830 ">
                                          <p><code class="codeph">OCI_RESULT_CACHE_MAX_SIZE</code></p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="25%" id="d20286e3871" headers="d20286e3824 ">
                                          <p>OCI故障诊断</p>
                                       </td>
                                       <td align="left" valign="top" width="25%" headers="d20286e3871 d20286e3827 ">
                                          <p><code class="codeph">&lt;adr_enabled&gt;</code></p>
                                       </td>
                                       <td align="left" valign="top" width="50%" headers="d20286e3871 d20286e3830 ">
                                          <p><code class="codeph">DIAG_ADR_ENABLED</code></p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="25%" id="d20286e3883" headers="d20286e3824 ">
                                          <p>OCI故障诊断</p>
                                       </td>
                                       <td align="left" valign="top" width="25%" headers="d20286e3883 d20286e3827 ">
                                          <p><code class="codeph">&lt;dde_enabled&gt;</code></p>
                                       </td>
                                       <td align="left" valign="top" width="50%" headers="d20286e3883 d20286e3830 ">
                                          <p><code class="codeph">DIAG_DDE_ENABLED</code></p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="25%" id="d20286e3895" headers="d20286e3824 ">
                                          <p>OCI故障诊断</p>
                                       </td>
                                       <td align="left" valign="top" width="25%" headers="d20286e3895 d20286e3827 ">
                                          <p><code class="codeph">&lt;adr_base&gt;</code></p>
                                       </td>
                                       <td align="left" valign="top" width="50%" headers="d20286e3895 d20286e3830 ">
                                          <p><code class="codeph">ADR_BASE</code></p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-4B68F0BB-16FA-40C6-BA13-CFD9A2B110A8__GUID-AE7680E8-9D18-484B-B6FE-0892A5F3709E">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="../adfns/performance-and-scalability.html#ADFNS213" target="_blank"><span><cite>“Oracle数据库开发指南”</cite></span></a> ，了解有关客户端结果缓存和客户端配置文件参数的部署时间设置</p>
                           </li>
                           <li>
                              <p>有关<code class="codeph">sqlnet.ora</code>文件中ADR诊断参数的详细信息，请参阅<a href="../netrf/index.html" target="_blank"><span><cite>Oracle数据库网络服务参考</cite></span></a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-6C76054A-0E0A-4783-B00D-9B65C80C24B0" name="GUID-6C76054A-0E0A-4783-B00D-9B65C80C24B0"></a><h4 id="LNOCI-GUID-6C76054A-0E0A-4783-B00D-9B65C80C24B0" class="sect4"><span class="enumeration_section">3.6.5</span>关于指定连接参数的默认值</h4>
                  <div>
                     <p>描述可以为跨连接共享的连接参数设置的默认值。</p>
                     <p>您可以指定跨连接共享的以下连接参数：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">&lt;prefetch&gt;</code> - 指定<code class="codeph">SELECT</code>语句的预取行数。
                           </p><pre class="oac_no_warn" dir="ltr">&lt;prefetch&gt; &lt;rows&gt; 100 &lt;/ rows&gt; &lt;/ prefetch&gt;</pre><p>适当地设置此参数有助于减少到数据库的往返，从而提高应用程序性能。</p>
                           <p>请注意，这只会覆盖<code class="codeph">OCI_ATTR_PREFETCH_ROWS</code>参数（无论是否由应用程序明确指定）。如果应用程序明确指定了<code class="codeph">OCI_ATTR_PREFETCH_MEMORY</code> ，则将通过使用两个约束来确定实际的预取行计数。无法在<code class="codeph">oraaccess.xml</code>文件中指定<code class="codeph">OCI_ATTR_PREFETCH_MEMORY</code>约束等效约束。
                           </p>
                           <p>另请注意，如果<code class="codeph">SELECT</code>语句获取特定数据类型的列，则仍可能禁用OCI预取。有关更多详细信息，请参阅<a href="using-sql_statements-in-oci.html#GUID-E0EAF0A9-2C7D-468D-BF43-C9056F3497E6" title="如果OCI应用程序已处理查询，则通常需要在语句完成执行后使用OCIStmtFetch2（）获取结果。">关于获取结果</a>以获取有关OCI预取限制的信息。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">&lt;statement_cache&gt;</code> - 指定每个会话可以缓存的OCI语句句柄数。
                           </p><pre class="oac_no_warn" dir="ltr">&lt;statement_cache&gt; &lt;size&gt; 100 &lt;/ size&gt; &lt;/ statement_cache&gt;</pre><p>缓存语句句柄通过减少客户端和服务器端CPU消耗和网络流量来提高重复执行性能。</p>
                           <p>请注意，要使此参数生效，必须将应用程序编程为使用<code class="codeph">OCIStatementPrepare2()</code>和<code class="codeph">OCIStatementRelease()</code>调用（而不是旧的<code class="codeph">OCISatementPrepare()</code>和<code class="codeph">OCIHandleFree()</code>等效项来获取和处理语句句柄。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">&lt;auto_tune&gt;</code> - 用于启用OCI自动调整。
                           </p><pre class="oac_no_warn" dir="ltr">&lt;auto_tune&gt; &lt;enable&gt; true &lt;/ enable&gt; &lt;ram_threshold&gt; 0.1 &lt;/ ram_threshold&gt; &lt;！ -  percentage  - &gt; &lt;memory target&gt; 2M &lt;/ memory_target&gt; &lt;/ auto_tune&gt;</pre><p>启用自动调整可以帮助OCI根据指定的内存约束自动调整语句高速缓存大小。这有助于根据运行时应用程序特征和可用内存资源动态地将语句高速缓存大小调整为适当的值。</p>
                           <p>请注意，对于自动调整OCI语句高速缓存，应用程序必须编程为使用<code class="codeph">OCIStatementPrepare2()</code>和<code class="codeph">OCIStatementRelease()</code>调用（而不是旧的<code class="codeph">OCISatementPrepare()</code>和<code class="codeph">OCIHandleFree()</code>等效项来获取和处理语句句柄。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">&lt;fan_subscription_failure_action&gt;</code> - 用于确定OCI如何响应订阅FAN通知的失败。
                           </p>
                           <p><code class="codeph">trace</code>值记录任何未能在跟踪文件中订阅FAN通知（如果启用了FAN）并且OCI继续忽略失败。如果尝试订阅FAN通知失败，则<code class="codeph">error</code>值会使OCI返回错误。
                           </p><pre class="oac_no_warn" dir="ltr">&lt;fan&gt; &lt;！ - 只有可能的值是“trace”和“error” - &gt; &lt;subscription_failure_action&gt; trace &lt;/ subscription_failure_action&gt; &lt;/ fan&gt;</pre></li>
                        <li>
                           <p><code class="codeph">&lt;ons&gt;</code> - 设置Oracle Notification Service（ONS）参数。
                           </p>
                           <p>您可以指定以下连接参数：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">&lt;subscription_wait_timeout&gt;</code> - 客户端等待其订阅ONS服务器的时间长度（以秒为单位）。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">&lt;auto_config&gt;</code> -  true或false。如果为true，则本节中指定的配置将扩充客户端从数据库接收的自动配置信息。如果为false，它将覆盖相同的值。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">&lt;thread_stack_size&gt;</code> - 事件通知线程堆栈的大小（以字节为单位）。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">&lt;debug&gt;</code> -  true或false。调试模式是打开（true）还是关闭（false）。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">&lt;wallet_location&gt;</code> - 包含安全ONS订阅的自动登录钱包文件的目录。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">&lt;servers&gt;</code> - 具有端口和连接分配的主机列表。
                                 </p>
                              </li>
                           </ul><pre class="oac_no_warn" dir="ltr">&lt;ons&gt; &lt;！ -  values或以秒为单位 - &gt; &lt;subscription_wait_timeout&gt; 5 &lt;/ subscription_wait_timeout&gt; &lt;auto_config&gt; true &lt;/ auto_config&gt; &lt;！ -  boolean  - &gt; &lt;threadstacksize&gt; 100k &lt;/ threadstacksize&gt; &lt;debug&gt; true &lt;/ debug&gt; &lt;wallet_location&gt; / etc / oracle / wallets / &lt;/ wallet_location&gt; &lt;servers&gt; &lt;address_list&gt; &lt;name&gt; pacific &lt;/ name&gt; &lt;max_connections&gt; 3 &lt;\ max_connections&gt; &lt;hosts&gt; 10.228.215.121：25293,10.228 .215.122：25293 &lt;/ hosts&gt; &lt;/ address_list&gt; &lt;address_list&gt; &lt;name&gt; Europe &lt;/ name&gt; &lt;max_connections&gt; 3 &lt;\ max_connections&gt; &lt;hosts&gt; myhost1.mydomain.com:25273,myhost2.mydomain.com:25298, myhost3.mydomain.com:30004 &lt;/ hosts&gt; &lt;/ address_list&gt; &lt;/ servers&gt; &lt;/ ons&gt;</pre></li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-6C76054A-0E0A-4783-B00D-9B65C80C24B0__GUID-50D0D8A4-F91E-493E-865E-69ED39355E31">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="performance-topics.html#GUID-12F398F1-FEB6-490F-B7A3-7BAE48DCA8D4" title="本节指定自动调整参数。">&lt;auto_tune&gt;</a></p>
                           </li>
                           <li>
                              <p><a href="performance-topics.html#GUID-93048857-C168-4BA9-A126-CE06DA8F2D33" title="此参数是可选的。">&lt;ram_threshold&gt;</a></p>
                           </li>
                           <li>
                              <p><a href="performance-topics.html#GUID-F624661F-FAC7-41F7-8F41-F2451EC2B47F" title="此参数是可选的。">&lt;MEMORY_TARGET&gt;</a></p>
                           </li>
                           <li>
                              <p>有关ONS配置参数的信息，请参阅<a href="../jjucp/fast-connection-failover.html#JJUCP8275" target="_blank"><span><cite>“Oracle通用连接池开发人员指南”</cite></span></a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-D436C5B8-0B9A-4E21-95D2-29D984186528" name="GUID-D436C5B8-0B9A-4E21-95D2-29D984186528"></a><h4 id="LNOCI-GUID-D436C5B8-0B9A-4E21-95D2-29D984186528" class="sect4"><span class="enumeration_section">3.6.6</span>在连接字符串级别覆盖连接参数</h4>
                  <div>
                     <p>使用<code class="codeph">oraaccess.xml</code>文件还允许您在连接字符串级别覆盖同一组特定于连接的参数。
                     </p>
                     <div class="section">
                        <p>这允许根据各个应用程序的要求覆盖那些特定于连接的参数。</p>
                        <p>使用<code class="codeph">&lt;config_descriptions&gt;</code>标记，可以指定一组与配置别名关联的特定于连接的参数（ <code class="codeph">&lt;parameters&gt;</code> ）（ <code class="codeph">&lt;config_alias&gt;</code> ，它创建一组命名的连接特定参数）。此后，使用<code class="codeph">&lt;connection_configs&gt;</code>标记，可以将一个或多个连接字符串（使用<code class="codeph">&lt;connection-string&gt;</code>标记指定）与<code class="codeph">&lt;config_alias&gt;</code> 。这允许一个间接级别，允许多个<code class="codeph">&lt;connection_string&gt;</code>元素共享同一组<code class="codeph">&lt;parameters&gt;</code> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D436C5B8-0B9A-4E21-95D2-29D984186528__GUID-D4304ACE-97EE-4F7F-B5F2-F99F2C1D2C00">例1</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>此示例显示了一个非常简单的<code class="codeph">oraaccess.xml</code>文件配置，该配置突出显示了适用于所有连接的全局和连接参数的默认值。
                        </p><pre class="oac_no_warn" dir="ltr">&lt;？xml version =“1.0”encoding =“ASCII”？&gt; &lt;！ - 这是oraaccess.xml的示例。这显示了跨所有连接的全局和连接参数的默认值。- &gt; &lt;oraaccess xmlns =“http://xmlns.oracle.com/oci/oraaccess”xmlns：oci =“http://xmlns.oracle.com/oci/oraaccess”schemaLocation =“http：// xmlns。 oracle.com/oci/oraaccess http://xmlns.oracle.com/oci/oraaccess.xsd“&gt; &lt;default_parameters&gt; &lt;prefetch&gt; &lt;rows&gt; 50 &lt;/ rows&gt; &lt;/ prefetch&gt; &lt;statement_cache&gt; &lt;size&gt; 100 &lt; / size&gt; &lt;/ statement_cache&gt; &lt;result_cache&gt; &lt;max_rset_rows&gt; 100 &lt;/ max_rset_rows&gt; &lt;max_rset_size&gt; 10K &lt;/ max_rset_size&gt; &lt;max_size&gt; 64M &lt;/ max_size&gt; &lt;/ result_cache&gt; &lt;/ default_parameters&gt; &lt;/ oraaccess&gt;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D436C5B8-0B9A-4E21-95D2-29D984186528__GUID-88B8EA66-7A63-4503-855E-00AAF2432321">例2</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>此示例显示在连接级别覆盖的连接参数。</p><pre class="oac_no_warn" dir="ltr">&lt;？xml version =“1.0”encoding =“ASCII”？&gt; &lt;！ - 这是oraaccess.xml的示例。这突出显示了在连接级别覆盖的一些连接参数 - &gt; &lt;oraaccess xmlns =“http://xmlns.oracle.com/oci/oraaccess”xmlns：oci =“http://xmlns.oracle.com/oci/ oraaccess“schemaLocation =”http://xmlns.oracle.com/oci/oraaccess http://xmlns.oracle.com/oci/oraaccess.xsd“&gt; &lt;default_parameters&gt; &lt;prefetch&gt; &lt;rows&gt; 50 &lt;/ rows&gt; &lt; / prefetch&gt; &lt;statement_cache&gt; &lt;size&gt; 100 &lt;/ size&gt; &lt;/ statement_cache&gt; &lt;auto_tune&gt; &lt;enable&gt; true &lt;/ enable&gt; &lt;ram_threshold&gt; 2.67 &lt;/ ram_threshold&gt; &lt;memory_target&gt; 204800 &lt;/ memory_target&gt; &lt;/ auto_tune&gt; &lt; result_cache&gt; &lt;max_rset_rows&gt; 100 &lt;/ max_rset_rows&gt; &lt;max_rset_size&gt; 10K &lt;/ max_rset_size&gt; &lt;max_size&gt; 64M &lt;/ max_size&gt; &lt;/ result_cache&gt; &lt;/ default_parameters&gt; &lt;！ - 创建配置描述，这些描述是与之关联的连接参数组一个config_alias。- &gt; &lt;config_descriptions&gt; &lt;config_description&gt; &lt;config_alias&gt; bar &lt;/ config_alias&gt; &lt;parameters&gt; &lt;prefetch&gt; &lt;rows&gt; 20 &lt;/ rows&gt; &lt;/ prefetch&gt; &lt;/ parameters&gt; &lt;/ config_description&gt; &lt;config_description&gt; &lt;config_alias&gt; foo &lt;/ config_alias&gt; &lt;parameters&gt; &lt;statement_cache&gt; &lt;size&gt; 15 &lt;/ size&gt; &lt;/ statement_cache&gt; &lt;/ parameters&gt; &lt;/ config_description&gt; &lt;/ config_descriptions&gt; &lt;！ - 现在使用config_alias映射应用程序使用的连接字符串。- &gt; &lt;connection_configs&gt; &lt;connection_config&gt; &lt;connection_string&gt; hr_db &lt;/ connection_string&gt; &lt;config_alias&gt; foo &lt;/ config_alias&gt; &lt;/ connection_config&gt; &lt;connection_config&gt; &lt;connection_string&gt; finance_db &lt;/ connection_string&gt; &lt;config_alias&gt; bar &lt;/ config_alias&gt; &lt;/ connection_config&gt; &lt;/ connection_configs&gt; &lt;/ oraaccess&gt;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D436C5B8-0B9A-4E21-95D2-29D984186528__GUID-A8DDB40D-832A-49BE-8B0F-D1ED765C88FD">例3</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>此示例突出显示FAN通知的设置。</p><pre class="oac_no_warn" dir="ltr">&lt;？xml version =“1.0”encoding =“ASCII”？&gt; &lt;！ - 以下是oraaccess.xml的示例，用于设置FAN通知。- &gt; &lt;oraaccess xmlns =“http://xmlns.oracle.com/oci/oraaccess”xmlns：oci =“http://xmlns.oracle.com/oci/oraaccess”schemaLocation =“http：// xmlns。 oracle.com/oci/oraaccess http://xmlns.oracle.com/oci/oraaccess.xsd“&gt; &lt;default_parameters&gt; &lt;fan&gt; &lt;！ - 只有可能的值是”trace“或”error“ - &gt; &lt;subscription_failure_action &gt; error &lt;/ subscription_failure_action&gt; &lt;/ fan&gt; &lt;ons&gt; &lt;subscription_wait_timeout&gt; 5 &lt;/ subscription_wait_timeout&gt; &lt;auto_config&gt; true &lt;/ auto_config&gt; &lt;/ ons&gt; &lt;events&gt; true &lt;/ events&gt; &lt;/ default_parameters&gt; &lt;/ oraaccess&gt;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D436C5B8-0B9A-4E21-95D2-29D984186528__GUID-7433CAC9-66D0-4ADD-BCBB-5F3F7D95B48B">例4</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>此示例突出显示了具有手动ONS设置的高级<code class="codeph">oraaccess.xml</code>文件配置用法。应该很少使用手动ONS设置。
                        </p><pre class="oac_no_warn" dir="ltr">&lt;？xml version =“1.0”encoding =“ASCII”？&gt; &lt;！ - 以下是oraaccess.xml的示例，其中突出显示了手动ONS设置。- &gt; &lt;oraaccess xmlns =“http://xmlns.oracle.com/oci/oraaccess”xmlns：oci =“http://xmlns.oracle.com/oci/oraaccess”schemaLocation =“http：// xmlns。 oracle.com/oci/oraaccess http://xmlns.oracle.com/oci/oraaccess.xsd“&gt; &lt;default_parameters&gt; &lt;fan&gt; &lt;！ - 只有可能的值是”trace“或”error“ - &gt; &lt;subscription_failure_action &gt; error &lt;/ subscription_failure_action&gt; &lt;/ fan&gt; &lt;ons&gt; &lt;subscription_wait_timeout&gt; 5 &lt;/ subscription_wait_timeout&gt; &lt;auto_config&gt; true &lt;/ auto_config&gt; &lt;！ - 这提供了ONS的手动配置。请注意，不需要使用此功能，因为auto_config通常可以发现此信息。 - &gt; &lt;servers&gt; &lt;address_list&gt; &lt;name&gt; pacific &lt;/ name&gt; &lt;max_connections&gt; 3 &lt;/ max_connections&gt; &lt;hosts&gt; 10.228.215.121:25293,10.228.215.122:25293 &lt;/ hosts&gt; &lt;/ address_list&gt; &lt;address_list&gt; &lt;name&gt; Europe &lt;/ name&gt; &lt;max_connections&gt; 3 &lt;/ max_connections&gt; &lt;hosts&gt; myhost1.mydomain.com:25273,myhost2.mydomain.com:25298,myhost3.mydomain.com:30004 &lt;/ hosts&gt; &lt;/ address_list&gt; &lt;/ servers&gt; &lt;/ ons&gt; &lt;events&gt; true &lt;/ events&gt; &lt;/ default_parameters&gt; &lt;/ oraaccess&gt;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-D436C5B8-0B9A-4E21-95D2-29D984186528__GUID-F506AE50-2ADE-4582-8CC8-7289925F3AD8">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="build-and-configure-oci-applications.html#GUID-6C76054A-0E0A-4783-B00D-9B65C80C24B0" title="描述可以为跨连接共享的连接参数设置的默认值。">关于指定连接参数的默认值</a>有关在连接字符串级别覆盖同一组特定于连接的参数</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-C171A50B-BB76-4A2F-9E9D-F96CE23BFAF7" name="GUID-C171A50B-BB76-4A2F-9E9D-F96CE23BFAF7"></a><h4 id="LNOCI-GUID-C171A50B-BB76-4A2F-9E9D-F96CE23BFAF7" class="sect4"><span class="enumeration_section">3.6.7</span>关于oraaccess.xml中的OCI会话池配置</h4>
                  <div>
                     <p>从Oracle Database 18c版本18.1开始，可以使用oraaccess.xml客户端配置文件设置OCI会话池配置。</p>
                     <div class="p">通过在<code class="codeph">oraaccess.xml</code>配置文件中指定以下参数集来配置OCI会话池。可以在默认参数部分或配置描述部分中指定这些参数。如果在默认参数部分中指定，则它适用于应用程序中的所有会话池。这些设置可以使任何OCI会话池受益，从而允许覆盖OCI会话池设置。
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">&lt;session_pool&gt;</code> - 设置会话池参数。
                              </p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">&lt;enable&gt;</code> - 将此设置为true可使会话池配置生效。这是必需参数，这意味着，如果配置了<code class="codeph">&lt;session_pool&gt;</code>参数，则还必须配置<code class="codeph">&lt;enable&gt;</code>参数。
                                    </p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p><code class="codeph">&lt;min_size&gt;</code> - 池中的最小连接数。默认值为0。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">&lt;max_size&gt;</code> - 池中的最大连接数。这是必需参数，这意味着，如果配置了<code class="codeph">&lt;session_pool&gt;</code>参数，则还必须配置<code class="codeph">&lt;max_size&gt;</code>参数。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">&lt;increment&gt;</code> - 池扩展时池中连接数的增加量。默认值为1。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">&lt;inactivity_timeout&gt;</code> - 连接在池中保持空闲的最长时间（以秒为单位），之后终止。默认值为0，这意味着连接在池中保持空闲没有限制。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">&lt;max_use_session&gt;</code> - 可以获取和释放连接到池的最大次数。默认值为0，表示连接和释放到池没有限制。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">&lt;max_life_time_session&gt;</code> - 在池中创建连接后，连接将保持的时间（以秒为单位）。默认值为0，这表示在池中创建连接后没有限制。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div class="p">使用<code class="codeph">oraaccess.xml</code>文件可以为每个所需的连接服务配置OCI会话池。以下示例显示了与其各自的配置别名<code class="codeph">sales_config</code>和<code class="codeph">hr_config</code>关联的两组连接参数，其中应用程序使用的每个连接字符串都使用其各自的配置别名进行映射，从而提供两个OCI会话池。<pre class="pre codeblock"><code>&lt;oraaccess xmlns =“http://xmlns.oracle.com/oci/oraaccess”xmlns：oci =“http://xmlns.oracle.com/oci/oraaccess”schemaLocation =“http://xmlns.oracle.com / oci / oraaccess http://xmlns.oracle.com/oci/oraaccess.xsd“&gt; &lt;default_parameters&gt; &lt;/ default_parameters&gt; &lt;！ - 创建配置描述，这些描述是与config_alias关联的连接参数组。- &gt; &lt;config_descriptions&gt; &lt;config_description&gt; &lt;config_alias&gt; sales_config &lt;/ config_alias&gt; &lt;parameters&gt; &lt;session_pool&gt; &lt;enable&gt; true &lt;/ enable&gt; &lt;min_size&gt; 10 &lt;/ min_size&gt; &lt;max_size&gt; 100 &lt;/ max_size&gt; &lt;increment&gt; 5 &lt;/ increment&gt; &lt;/ session_pool&gt; &lt;/ parameters&gt; &lt;/ config_description&gt; &lt;config_description&gt; &lt;config_alias&gt; hr_config &lt;/ config_alias&gt; &lt;parameters&gt; &lt;session_pool&gt; &lt;enable&gt; true &lt;/ enable&gt; &lt;max_size&gt; 10 &lt;/ max_size&gt; &lt;/ session_pool&gt; &lt;/ parameters&gt; &lt;/ config_description&gt; &lt;/ config_descriptions&gt; &lt;！ - 现在使用config_alias映射应用程序使用的连接字符串。- &gt; &lt;connection_configs&gt; &lt;connection_config&gt; &lt;connection_string&gt; sales.us.acme.com &lt;/ connection_string&gt; &lt;config_alias&gt; sales_config &lt;/ config_alias&gt; &lt;/ connection_config&gt; &lt;connection_config&gt; &lt;connection_string&gt; hr.us.acme.com &lt;/ connection_string&gt; &lt;config_alias&gt; hr_config &lt;/ config_alias&gt; &lt;/ connection_config&gt; &lt;/ connection_configs&gt; &lt;/ oraaccess&gt;</code></pre></div>
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-B8A13EE4-0D42-4856-A4F4-FE438650D691" name="GUID-B8A13EE4-0D42-4856-A4F4-FE438650D691"></a><h4 id="LNOCI-GUID-B8A13EE4-0D42-4856-A4F4-FE438650D691" class="sect4"><span class="enumeration_section">3.6.8</span>文件（oraaccess.xml）属性</h4>
                  <div>
                     <p>为简单起见，列出了有关<code class="codeph">oraaccess.xml</code>文件语法的一些高级规则。
                     </p>
                     <p><code class="codeph">oraaccess.xsd</code>文件中指定的XML模式是oraaccess语法的最终形式参考：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>该文件的内容区分大小写，所有元素（标签，参数名称）均为小写。</p>
                        </li>
                        <li>
                           <p>参数（节点）之间允许注释;例如，评论“&lt;！ -  comments  - &gt;”。</p>
                        </li>
                        <li>
                           <p>有关参数顺序的语法，请参阅XML Schema： <code class="codeph">oraaccess.xsd</code>文件（有关此列表中稍后的<code class="codeph">oraaccess.xsd</code>文件的信息）。
                           </p>
                        </li>
                        <li>
                           <p>对于内存大小，有效值和格式为100,100k，100K，1000M和1121m。这意味着只允许后缀'M'，'m'，'K'，'k'或无后缀。'K'或'k'表示千字节，'M'或'm'表示兆字节。没有后缀表示大小以字节为单位。</p>
                        </li>
                        <li>
                           <p>&lt;ram_threshold&gt;应为0到100之间的十进制数，表示百分比值。</p>
                        </li>
                        <li>
                           <p>如果预期数字，则只允许正无符号整数;没有迹象是允许的。有效数字用法的示例是<code class="codeph">&lt;statement_cache&gt; &lt;size&gt;100&lt;/size&gt; &lt;/statement_cache&gt;</code> ）。
                           </p>
                        </li>
                        <li>
                           <p>配置别名（ <code class="codeph">&lt;config_alias&gt;foo&lt;/config_alias&gt;</code> ）不区分大小写</p>
                        </li>
                        <li>
                           <p>预计不会引用字符串参数（例如<code class="codeph">&lt;config_alias&gt;</code> ）。
                           </p>
                        </li>
                        <li>
                           <p>这些规则都封装在模式定义中。</p>
                        </li>
                        <li>
                           <p>如果为OCI提供了无效的<code class="codeph">oraaccess.xml</code>文件，OCI将报告错误。
                           </p>
                        </li>
                        <li>
                           <p>在部署<code class="codeph">oraaccess.xml</code>文件之前，Oracle建议您使用Oracle提供的XML模式文件对其进行验证： <code class="codeph">oraaccess.xsd</code> 。模式文件安装在常规客户端中的<code class="codeph">ORACLE_HOME/rdbms/admin</code> ，并在<code class="codeph">instantclient_12_2/sdk/admin</code>在即时客户端SDK中。客户可以在修改<code class="codeph">oraaccess.xml</code>文件后使用自己喜欢的XML验证工具来执行验证。
                           </p>
                        </li>
                        <li>
                           <p>示例<code class="codeph">oraaccess.xml</code>文件可以在常规客户端的<code class="codeph">ORACLE_HOME/rdbms/demo</code>目录中找到，也可以在<code class="codeph">oraaccess.xml</code> Client中的<code class="codeph">instantclient_12_2/sdk/demo</code>中找到。这些文件中的参数仅用于演示目的，在部署之前应根据应用程序的要求进行修改和测试。
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-1B41866A-7D99-4335-8E73-E0BCF54CB532" name="GUID-1B41866A-7D99-4335-8E73-E0BCF54CB532"></a><h3 id="LNOCI-GUID-1B41866A-7D99-4335-8E73-E0BCF54CB532" class="sect3"><span class="enumeration_section">3.7</span>关于兼容性和升级</h3>
               <div>
                  <p>以下部分讨论有关OCI客户端和服务器的不同版本之间的兼容性，OCI库例程中的更改以及将应用程序从版本7. <span class="italic">x</span> OCI升级到当前版本的OCI的问题：</p>
                  <div class="p">
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="build-and-configure-oci-applications.html#GUID-AB5389F7-6DD7-4959-9F23-0E626FE77FDB" title="作为一般指南，Oracle客户端和服务器版本与多个版本的交叉版本兼容。">Oracle客户端和服务器交叉版本兼容性</a></p>
                        </li>
                        <li>
                           <p><a href="build-and-configure-oci-applications.html#GUID-44C7F521-5578-498E-AAC4-713F3E5C7C94" title="以下是重新发布新版本的规则。">静态链接和动态链接的应用程序的版本兼容性</a></p>
                        </li>
                        <li>
                           <p><a href="build-and-configure-oci-applications.html#GUID-D849EF63-969E-44AE-A6B1-2FC3B669406D" title="自OCI发布7以来，OCI已经有很多功能得到了显着改进。">关于升级现有的OCI Release 7应用程序</a></p>
                        </li>
                        <li>
                           <p><a href="build-and-configure-oci-applications.html#GUID-8291144F-63BE-45EF-8197-FEAFFE9616F3" title="OCI的8.0版引入了一套全新的功能，这些功能在7.3版本中不可用。">过时的OCI例程</a></p>
                        </li>
                        <li>
                           <p><a href="build-and-configure-oci-applications.html#GUID-02E4847A-28D8-410C-B40D-17E60CDE29D0" title="当前版本不支持以前版本的OCI中提供的一些OCI例程。">不支持OCI例程</a></p>
                        </li>
                     </ul>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-AB5389F7-6DD7-4959-9F23-0E626FE77FDB" name="GUID-AB5389F7-6DD7-4959-9F23-0E626FE77FDB"></a><h4 id="LNOCI-GUID-AB5389F7-6DD7-4959-9F23-0E626FE77FDB" class="sect4"><span class="enumeration_section">3.7.1</span> Oracle客户端和服务器交叉版本兼容性</h4>
                  <div>
                     <p>作为一般指南，Oracle客户端和服务器版本与多个版本的交叉版本兼容。</p>
                     <p>这意味着您可以连接到某些较旧版本和较新版本的数据库，并且不必始终同时升级客户端和服务器。</p>
                     <p>但是，某些产品或实用程序可能会对特定于产品或实用程序的受支持组合施加额外限制。</p>
                     <div class="infoboxnotealso" id="GUID-AB5389F7-6DD7-4959-9F23-0E626FE77FDB__GUID-5B5B1074-0608-4B6E-9AA5-53C600E5D6F7">
                        <p class="notep1">也可以看看：</p>
                        <p>有关不同Oracle版本的客户端和服务器互操作性支持矩阵的信息，请<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/lnoci&amp;id=mos_doc_207303_1" target="_blank">参阅</a> My Oracle Support <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/lnoci&amp;id=mos_doc_207303_1" target="_blank">Document 207303.1</a> 。
                        </p>
                     </div>
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-44C7F521-5578-498E-AAC4-713F3E5C7C94" name="GUID-44C7F521-5578-498E-AAC4-713F3E5C7C94"></a><h4 id="LNOCI-GUID-44C7F521-5578-498E-AAC4-713F3E5C7C94" class="sect4"><span class="enumeration_section">3.7.2</span>静态链接和动态链接应用程序的版本兼容性</h4>
                  <div>
                     <p>以下是重新发布新版本的规则。</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>静态链接的OCI应用程序：</p>
                           <p>必须为主要版本和次要版本重新链接静态链接的OCI应用程序，因为静态链接的Oracle数据库客户端库代码可能与升级的Oracle主目录中的错误消息不兼容。例如，如果使用其他参数更新了错误消息，则它将不再与静态链接代码兼容。</p>
                        </li>
                        <li>
                           <p>动态链接的OCI应用程序：</p>
                           <p>无需重新链接Oracle Database <span class="italic">10g</span>及更高版本中的动态链接OCI应用程序。也就是说，Oracle数据库客户端动态库与以前版本的库向上兼容。Oracle Universal Installer为解析为当前版本的库的先前版本创建符号链接。因此，不需要重新链接与先前版本的Oracle数据库客户端动态库动态链接的应用程序，以便与当前版本的Oracle数据库客户端库一起运行。
                           </p>
                           <div class="infoboxnote" id="GUID-44C7F521-5578-498E-AAC4-713F3E5C7C94__GUID-FDDA2AAE-DA81-46B6-AB20-6AE703515D55">
                              <p class="notep1">注意：</p>
                              <p>如果应用程序与运行时库搜索路径（例如Linux上的<code class="codeph">-rpath</code> ）链接，则应用程序仍可以与链接的Oracle数据库客户端库版本一起运行。要使用当前版本的Oracle数据库客户端库运行，必须重新链接。
                              </p>
                           </div>
                           <div class="infoboxnotealso" id="GUID-44C7F521-5578-498E-AAC4-713F3E5C7C94__GUID-A5E9D897-B4F0-4688-A287-01E162AFE35E">
                              <p class="notep1">也可以看看：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><a href="../upgrd/compatibility-interoperability-between-database-releases.html#UPGRD005" target="_blank"><span><cite>“Oracle数据库升级指南”</cite></span></a> ，了解有关兼容性和升级</p>
                                 </li>
                                 <li>
                                    <p>当前支持的服务器版本可在My Oracle Support <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/lnoci&amp;id=mos_doc_207303_1" target="_blank">Document 207303.1中找到</a></p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                     </ul>
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-D849EF63-969E-44AE-A6B1-2FC3B669406D" name="GUID-D849EF63-969E-44AE-A6B1-2FC3B669406D"></a><h4 id="LNOCI-GUID-D849EF63-969E-44AE-A6B1-2FC3B669406D" class="sect4"><span class="enumeration_section">3.7.3</span>关于升级现有的OCI第7版应用程序</h4>
                  <div>
                     <p>自OCI发布7以来，OCI已经有很多功能得到了显着改进。</p>
                     <p>使用OCI版本7.3 API的应用程序在当前版本的Oracle数据库中保持不变。它们确实需要与当前的客户端库链接。但是，OCI版本7.3 API已被弃用，此选项在将来的Oracle版本中将不可用。</p>
                     <p>OCI版本7和此版本的OCI调用可以在同一个应用程序和同一事务中混合，前提是它们不在同一语句执行中混合。因此，在迁移现有OCI版本7应用程序时，您有以下两种选择：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>升级到当前的OCI客户端，但不修改应用程序：如果选择从Oracle版本7 OCI客户端升级到当前版本OCI客户端，只需要链接OCI库的新版本， <span class="italic">不需要</span>重新编译应用程序。重新链接的Oracle数据库版本7 OCI应用程序与当前的Oracle数据库保持不变。此选项已弃用，在将来的Oracle版本中将不可用。
                           </p>
                        </li>
                        <li>
                           <p>升级到当前的OCI客户端并修改应用程序：但是，要使用当前OCI提供的性能和可伸缩性优势，您必须修改现有的应用程序以使用当前的OCI编程范例，使用当前的OCI库重建和重新链接它们，并针对当前版本的Oracle数据库运行它们。</p>
                        </li>
                     </ul>
                     <p>如果要使用当前Oracle数据库发行版的任何对象功能，则必须将客户端升级到当前版本的OCI。</p>
                     <div class="infoboxnote" id="GUID-D849EF63-969E-44AE-A6B1-2FC3B669406D__GUID-10CC6FFD-D522-415B-BA94-A0CE6DE70DA3">
                        <p class="notep1">注意：</p>
                        <p>默认情况下，使用版本7 API的应用程序将无法连接到Oracle Database 12 <span class="italic">c</span> 。愿意连接到Oracle Database 12 <span class="italic">c的</span>此类应用程序必须将<code class="codeph">sqlnet.allowed_logon_version</code>设置为<code class="codeph">8</code> 。
                        </p>
                        <p>在Oracle Database <span class="italic">12c</span>第2版（12.2）中，Oracle数据库支持的标识符长度已从30个字节增加到128个字节。通过此数据库更改，可能需要更改使用不推荐使用的V7 API <code class="codeph">odessp()</code> OCI应用程序。在参数<code class="codeph">argnam</code> <code class="codeph">odessp()</code>中，应用程序需要传递二维数组，该数组可以容纳长度为128字节的标识符，该标识符之前是30字节。
                        </p>
                        <p>在Oracle Database 12 <span class="italic">c</span>第2版（12.2）中，可能还需要使用长标识符更改使用UPI API <code class="codeph">upidpr()</code>应用程序。在参数<code class="codeph">argument_name</code> <code class="codeph">upidpr()</code>中，应用程序需要传递二维数组，该数组可以容纳长度为128字节的标识符，该标识符之前是30字节。
                        </p>
                     </div>
                     <div class="infoboxnotealso" id="GUID-D849EF63-969E-44AE-A6B1-2FC3B669406D__GUID-1FD538DB-4F13-45E5-93D5-F749B5749FC7">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/lnoci&amp;id=oracle7_documentation" target="_blank">Oracle 7文档中</a>的Oracle7服务器调用接口程序员指南。
                        </p>
                     </div>
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-8291144F-63BE-45EF-8197-FEAFFE9616F3" name="GUID-8291144F-63BE-45EF-8197-FEAFFE9616F3"></a><h4 id="LNOCI-GUID-8291144F-63BE-45EF-8197-FEAFFE9616F3" class="sect4"><span class="enumeration_section">3.7.4</span>过时的OCI例程</h4>
                  <div>
                     <p>OCI的8.0版引入了一套全新的功能，这些功能在7.3版本中不可用。</p>
                     <div class="section">
                        <p>Oracle强烈建议新应用程序使用新调用来提高性能并提供增强的功能。Oracle的未来版本将不支持7.3版本。</p>
                        <p><a href="build-and-configure-oci-applications.html#GUID-8291144F-63BE-45EF-8197-FEAFFE9616F3__G435463" title="该表有2列。第1列是7.x OCI例程名称，第2列是其等效或类似的后续OCI例程名称。">表3-3</a>列出了7. <span class="italic">x</span> OCI调用及其后续等价物。有关OCI调用的更多信息，请参阅本指南中的功能说明。有关7 <span class="italic">.x</span>调用的更多信息，请参阅<span class="italic">Oracle调用接口程序员指南，版本7.3</span> 。
                        </p>
                        <div class="infoboxnote" id="GUID-8291144F-63BE-45EF-8197-FEAFFE9616F3__GUID-5C677D27-42F2-425C-8DCA-9FFDEA84B714">
                           <p class="notep1">注意：</p>
                           <p>在许多情况下，新的或现有OCI程序不直接映射到7 <span class="italic">X</span>程序，所以它几乎是不可能的简单替换一个函数调用和参数列表与另一个。在进行新的或当前的呼叫之前或之后可能需要附加的程序逻辑。有关详细信息，请参阅其余章节，特别是本指南的<a href="oci-programming-basics.html#GUID-4CFB8AF7-EF05-4E0F-847F-2D0710E552C5" title="本章介绍了使用OCI进行编程所涉及的概念和过程。">OCI编程基础知识</a> 。
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-8291144F-63BE-45EF-8197-FEAFFE9616F3__G435463">
                        <p class="titleintable">表3-3过时的OCI功能</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="过时的OCI功能" width="100%" border="1" summary="This table has 2 columns. Column 1 is the 7.x OCI routine name and column 2 is its equivalent or similar later OCI routine name." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="30%" id="d20286e6234">7.x OCI例程</th>
                                 <th align="left" valign="bottom" width="70%" id="d20286e6240">等效或类似的后期OCI例程</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d20286e6245" headers="d20286e6234 ">
                                    <p><code class="codeph">obindps（），obndra（），obndrn（），obndrv（）</code></p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d20286e6245 d20286e6240 ">
                                    <p><code class="codeph">OCIBindByName()</code>或<code class="codeph">OCIBindByName2()</code> ， <code class="codeph">OCIBindByPos()</code>或<code class="codeph">OCIBindByPos2()</code> （注意：某些数据类型可能需要额外的绑定调用）</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d20286e6264" headers="d20286e6234 ">
                                    <p><code class="codeph">obreak（）</code></p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d20286e6264 d20286e6240 ">
                                    <p><code class="codeph">OCIBreak（）</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d20286e6273" headers="d20286e6234 ">
                                    <p><code class="codeph">ocan（）</code></p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d20286e6273 d20286e6240 ">
                                    <p>没有</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d20286e6281" headers="d20286e6234 ">
                                    <p><code class="codeph">oclose（）</code></p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d20286e6281 d20286e6240 ">
                                    <p>注意：版本8中未使用游标<span class="italic">。</span> x或更高版本</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d20286e6292" headers="d20286e6234 ">
                                    <p><code class="codeph">ocof（），ocon（）</code></p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d20286e6292 d20286e6240 ">
                                    <p><code class="codeph">OCIStmtExecute()</code>具有<code class="codeph">OCI_COMMIT_ON_SUCCESS</code>模式</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d20286e6305" headers="d20286e6234 ">
                                    <p><code class="codeph">OCOM（）</code></p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d20286e6305 d20286e6240 ">
                                    <p><code class="codeph">OCITransCommit（）</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d20286e6314" headers="d20286e6234 ">
                                    <p><code class="codeph">odefin（），odefinps（）</code></p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d20286e6314 d20286e6240 ">
                                    <p><code class="codeph">OCIDefineByPos()</code>或<code class="codeph">OCIDefineByPos2()</code> （注意：某些数据类型可能需要额外的定义调用）</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d20286e6327" headers="d20286e6234 ">
                                    <p><code class="codeph">odescr（）</code></p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d20286e6327 d20286e6240 ">
                                    <p>注意：使用OCIDescribeAny（）描述模式对象。在说明，在发行7 <span class="italic">x</span>一起使用，通常由SQL语句执行后的语句句柄调用OCIAttrGet（）来完成。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d20286e6338" headers="d20286e6234 ">
                                    <p><code class="codeph">odessp（）</code></p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d20286e6338 d20286e6240 ">
                                    <p><code class="codeph">OCIDescribeAny（）</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d20286e6347" headers="d20286e6234 ">
                                    <p><code class="codeph">oerhms（）</code></p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d20286e6347 d20286e6240 ">
                                    <p><code class="codeph">OCIErrorGet（）</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d20286e6356" headers="d20286e6234 ">
                                    <p><code class="codeph">oexec（），oexn（）</code></p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d20286e6356 d20286e6240 ">
                                    <p><code class="codeph">OCIStmtExecute（）</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d20286e6366" headers="d20286e6234 ">
                                    <p><code class="codeph">oexfet（）</code></p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d20286e6366 d20286e6240 ">
                                    <p><code class="codeph">OCIStmtExecute()</code> ， <code class="codeph">OCIStmtFetch2()</code> （注意：结果集行可以隐式预取）</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d20286e6379" headers="d20286e6234 ">
                                    <p><code class="codeph">ofen()</code> ， <code class="codeph">ofetch()</code></p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d20286e6379 d20286e6240 ">
                                    <p><code class="codeph">OCIStmtFetch2（）</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d20286e6391" headers="d20286e6234 ">
                                    <p><code class="codeph">oflng（）</code></p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d20286e6391 d20286e6240 ">
                                    <p>没有</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d20286e6399" headers="d20286e6234 ">
                                    <p><code class="codeph">ogetpi（）</code></p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d20286e6399 d20286e6240 ">
                                    <p><code class="codeph">OCIStmtGetPieceInfo（）</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d20286e6408" headers="d20286e6234 ">
                                    <p><code class="codeph">olog（）</code></p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d20286e6408 d20286e6240 ">
                                    <p><code class="codeph">OCILogon()</code>或<code class="codeph">OCILogon2()</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d20286e6420" headers="d20286e6234 ">
                                    <p><code class="codeph">ologof（）</code></p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d20286e6420 d20286e6240 ">
                                    <p><code class="codeph">OCILogoff（）</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d20286e6429" headers="d20286e6234 ">
                                    <p><code class="codeph">onbclr（），onbset（），onbtst（）</code></p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d20286e6429 d20286e6240 ">
                                    <p>注意：可以通过在服务器上下文句柄或服务上下文句柄上调用<code class="codeph">OCIAttrSet()</code>或<code class="codeph">OCIAttrGet()</code>来设置或检查非阻塞模式</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d20286e6443" headers="d20286e6234 ">
                                    <p><code class="codeph">OOPEN（）</code></p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d20286e6443 d20286e6240 ">
                                    <p>注意：版本8. <span class="italic">x</span>或更高版本中不使用游标</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d20286e6454" headers="d20286e6234 ">
                                    <p><code class="codeph">oopt（）</code></p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d20286e6454 d20286e6240 ">
                                    <p>没有</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d20286e6462" headers="d20286e6234 ">
                                    <p><code class="codeph">oparse（）</code></p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d20286e6462 d20286e6240 ">
                                    <p><code class="codeph">OCIStmtPrepare2()</code> ;但是，它都是本地的</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d20286e6472" headers="d20286e6234 ">
                                    <p><code class="codeph">opinit（）</code></p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d20286e6472 d20286e6240 ">
                                    <p><code class="codeph">OCIEnvCreate（）</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d20286e6482" headers="d20286e6234 ">
                                    <p><code class="codeph">orol（）</code></p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d20286e6482 d20286e6240 ">
                                    <p><code class="codeph">OCITransRollback（）</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d20286e6491" headers="d20286e6234 ">
                                    <p><code class="codeph">osetpi（）</code></p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d20286e6491 d20286e6240 ">
                                    <p><code class="codeph">OCIStmtSetPieceInfo（）</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d20286e6500" headers="d20286e6234 ">
                                    <p><code class="codeph">sqlld2（）</code></p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d20286e6500 d20286e6240 ">
                                    <p><code class="codeph">SQLSvcCtxGet或SQLEnvGet</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d20286e6509" headers="d20286e6234 ">
                                    <p><code class="codeph">sqllda（）</code></p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d20286e6509 d20286e6240 ">
                                    <p><code class="codeph">SQLSvcCtxGet或SQLEnvGet</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d20286e6518" headers="d20286e6234 ">
                                    <p><code class="codeph">ODSC（）</code></p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d20286e6518 d20286e6240 ">
                                    <p>注意：请参阅前面的odescr（）</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d20286e6526" headers="d20286e6234 ">
                                    <p><code class="codeph">oermsg（）</code></p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d20286e6526 d20286e6240 ">
                                    <p><code class="codeph">OCIErrorGet（）</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d20286e6535" headers="d20286e6234 ">
                                    <p><code class="codeph">敖（）</code></p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d20286e6535 d20286e6240 ">
                                    <p><code class="codeph">OCILogon（）</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d20286e6544" headers="d20286e6234 ">
                                    <p><code class="codeph">腈纶（）</code></p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d20286e6544 d20286e6240 ">
                                    <p><code class="codeph">OCILogon（）</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d20286e6553" headers="d20286e6234 ">
                                    <p><code class="codeph">ONAME（）</code></p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d20286e6553 d20286e6240 ">
                                    <p>注意：请参阅前面的<code class="codeph">odescr()</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d20286e6564" headers="d20286e6234 ">
                                    <p><code class="codeph">osql3（）</code></p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d20286e6564 d20286e6240 ">
                                    <p>注意：请参阅前面的<code class="codeph">oparse()</code></p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <div class="infoboxnote" id="GUID-8291144F-63BE-45EF-8197-FEAFFE9616F3__GUID-478B2E46-394D-40A1-8B93-914BF39D3922">
                           <p class="notep1">注意：</p>
                           <p>使用<code class="codeph">size_t</code>定义传递给OCI 7调用的主机区域（ <code class="codeph">hda</code> ）的应用程序可能由于数据未对齐而在某些平台上崩溃。在这种情况下，应该使用<code class="codeph">Hda_Def</code>而不是<code class="codeph">size_t</code> 。如果无法修改应用程序，则可以在SPARC平台上使用编译器和链接器标志<code class="codeph">misalign</code> 。有关更多信息，请参阅演示和以下文档： <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/lnoci&amp;id=misaligned_data_info" target="_blank">Sun Studio 12：C ++用户指南A.2.53 -misalign</a> 。
                           </p>
                        </div>
                        <div class="infoboxnotealso" id="GUID-8291144F-63BE-45EF-8197-FEAFFE9616F3__GUID-64E8D133-2C5F-4845-BD7E-4E9EACF5C7A6">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><a href="oci-programming-basics.html#GUID-4CFB8AF7-EF05-4E0F-847F-2D0710E552C5" title="本章介绍了使用OCI进行编程所涉及的概念和过程。">OCI编程基础知识，</a>用于了解在进行新呼叫或当前呼叫之前或之后可能需要的附加程序逻辑。
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-02E4847A-28D8-410C-B40D-17E60CDE29D0" name="GUID-02E4847A-28D8-410C-B40D-17E60CDE29D0"></a><h4 id="LNOCI-GUID-02E4847A-28D8-410C-B40D-17E60CDE29D0" class="sect4"><span class="enumeration_section">3.7.5</span>不支持OCI例程</h4>
                  <div>
                     <p>当前版本不支持以前版本的OCI中提供的一些OCI例程。</p>
                     <div class="section">
                        <p>它们列于<a href="build-and-configure-oci-applications.html#GUID-02E4847A-28D8-410C-B40D-17E60CDE29D0__G435610" title="该表有2列。第1列是OCI例程名称，第2列是其等效或类似的后续OCI例程名称。">表3-4中</a> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-02E4847A-28D8-410C-B40D-17E60CDE29D0__G435610">
                        <p class="titleintable">表3-4不支持OCI功能</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="不支持OCI功能" width="100%" border="1" summary="This table has 2 columns. Column 1 is the OCI routine name and column 2 is its equivalent or similar later OCI routine name." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="36%" id="d20286e6817">OCI常规</th>
                                 <th align="left" valign="bottom" width="64%" id="d20286e6820">等效或类似的后期OCI例程</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="36%" id="d20286e6825" headers="d20286e6817 ">
                                    <p><code class="codeph">obind（）</code></p>
                                 </td>
                                 <td align="left" valign="top" width="64%" headers="d20286e6825 d20286e6820 ">
                                    <p><code class="codeph">OCIBindByName()</code> ， <code class="codeph">OCIBindByPos()</code> （注意：某些数据类型可能需要额外的绑定调用）</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="36%" id="d20286e6838" headers="d20286e6817 ">
                                    <p><code class="codeph">obindn（）</code></p>
                                 </td>
                                 <td align="left" valign="top" width="64%" headers="d20286e6838 d20286e6820 ">
                                    <p><code class="codeph">OCIBindByName()</code> ， <code class="codeph">OCIBindByPos()</code> （注意：某些数据类型可能需要额外的绑定调用）</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="36%" id="d20286e6851" headers="d20286e6817 ">
                                    <p><code class="codeph">odfinn（）</code></p>
                                 </td>
                                 <td align="left" valign="top" width="64%" headers="d20286e6851 d20286e6820 ">
                                    <p><code class="codeph">OCIDefineByPos()</code> （注意：某些数据类型可能需要额外的定义调用）</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="36%" id="d20286e6861" headers="d20286e6817 ">
                                    <p><code class="codeph">odsrbn（）</code></p>
                                 </td>
                                 <td align="left" valign="top" width="64%" headers="d20286e6861 d20286e6820 ">
                                    <p>注意：请参阅<a href="build-and-configure-oci-applications.html#GUID-8291144F-63BE-45EF-8197-FEAFFE9616F3__G435463" title="该表有2列。第1列是7.x OCI例程名称，第2列是其等效或类似的后续OCI例程名称。">表3-3中的</a> <code class="codeph">odescr()</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="36%" id="d20286e6876" headers="d20286e6817 ">
                                    <p><code class="codeph">ologon（）</code></p>
                                 </td>
                                 <td align="left" valign="top" width="64%" headers="d20286e6876 d20286e6820 ">
                                    <p><code class="codeph">OCILogon（）</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="36%" id="d20286e6885" headers="d20286e6817 ">
                                    <p><code class="codeph">OSQL（）</code></p>
                                 </td>
                                 <td align="left" valign="top" width="64%" headers="d20286e6885 d20286e6820 ">
                                    <p>注意：请参阅<code class="codeph">oparse()</code> <a href="build-and-configure-oci-applications.html#GUID-8291144F-63BE-45EF-8197-FEAFFE9616F3__G435463" title="该表有2列。第1列是7.x OCI例程名称，第2列是其等效或类似的后续OCI例程名称。">表3-3</a></p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-0A4A1E6C-F321-4858-A535-E47240DC9EA1" name="GUID-0A4A1E6C-F321-4858-A535-E47240DC9EA1"></a><h3 id="LNOCI-GUID-0A4A1E6C-F321-4858-A535-E47240DC9EA1" class="sect3"><span class="enumeration_section">3.8</span> OCI中的故障可诊断性</h3>
               <div>
                  <div class="p">本节介绍以下主题：<ul style="list-style-type:disc">
                        <li>
                           <p><a href="build-and-configure-oci-applications.html#GUID-A2945AF1-36DE-4C87-8C19-DA82B352F176" title="Oracle Database 11g第1版（11.1）中的OCI引入了故障诊断功能。">关于OCI中的故障可诊断性</a></p>
                        </li>
                        <li>
                           <p><a href="build-and-configure-oci-applications.html#GUID-6C60D154-9576-4C84-80F3-04DE75063C00" title="描述如何确定ADR基础的位置。">ADR基地位置</a></p>
                        </li>
                        <li>
                           <p><a href="build-and-configure-oci-applications.html#GUID-DBD82938-E07E-4A6A-B563-0FFED4F55D47" title="ADRCI是一个命令行工具，使您可以在ADR中查看诊断数据，并将事件和问题信息打包到一个zip文件中供Oracle支持人员使用。">使用ADRCI</a></p>
                        </li>
                        <li>
                           <p><a href="build-and-configure-oci-applications.html#GUID-E100960D-1E4F-4C3D-A6A3-0D5A5FB06B4C" title="介绍如何使用sqlnet.ora控制ADR创建和禁用故障诊断。">使用sqlnet.ora控制ADR创建和禁用故障诊断</a></p>
                        </li>
                     </ul>
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-A2945AF1-36DE-4C87-8C19-DA82B352F176" name="GUID-A2945AF1-36DE-4C87-8C19-DA82B352F176"></a><h4 id="LNOCI-GUID-A2945AF1-36DE-4C87-8C19-DA82B352F176" class="sect4"><span class="enumeration_section">3.8.1</span>关于OCI中的故障可诊断性</h4>
                  <div>
                     <p>在Oracle Database <span class="italic">11g</span>第1版（11.1）中将故障可诊断性引入OCI。
                     </p>
                     <p>无需用户干预以诊断数据的形式捕获OCI客户端上的事件（发生问题）：转储文件或核心转储文件。直到版本11.2.0.1，诊断数据存储在为事件创建的自动诊断存储库（ADR）子目录中。例如，如果Linux或UNIX应用程序失败并带有<code class="codeph">NULL</code>指针引用，则核心文件将写入ADR主目录（如果存在）而不是操作系统目录。ADR子目录结构和处理输出的实用程序ADR命令解释器（ADRCI）将在以下各节中讨论。但是，从版本11.2.0.2开始，诊断数据存储在当前目录中。
                     </p>
                     <p>ADR主目录是特定产品（例如OCI）和特定操作系统用户的实例的所有诊断数据的根目录。ADR家庭分组在相同的根目录ADR基础下。</p>
                     <p>Oracle数据库管理员指南中有关管理诊断数据的讨论中详细介绍了Oracle数据库的故障可诊断性和ADR结构。</p>
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-6C60D154-9576-4C84-80F3-04DE75063C00" name="GUID-6C60D154-9576-4C84-80F3-04DE75063C00"></a><h4 id="LNOCI-GUID-6C60D154-9576-4C84-80F3-04DE75063C00" class="sect4"><span class="enumeration_section">3.8.2</span> ADR基地位置</h4>
                  <div>
                     <p>描述如何确定ADR基础的位置。</p>
                     <p>ADR基地的位置由OCI按以下顺序确定：</p>
                     <ol>
                        <li>
                           <p>对于所有可诊断性参数，OCI首先查找文件<code class="codeph">oraaccess.xml</code> 。如果没有在那里设置这些参数，那么OCI会在<code class="codeph">sqlnet.ora</code> （如果存在）中查找下一个语句，例如（Linux或UNIX）：</p><pre class="oac_no_warn" dir="ltr">ADR_BASE = <span class="italic">/ foo / adr</span>
</pre><p><code class="codeph">adr</code> （目录的名称）必须存在并且可由执行OCI应用程序并希望共享相同ADR基础的所有操作系统用户写入。 <code class="codeph">foo</code>代表路径名。<code class="codeph">sqlnet.ora</code>的位置在<code class="codeph">$TNS_ADMIN</code>目录中给出（Windows上为<code class="codeph">%TNS_ADMIN%</code> ）。如果没有<code class="codeph">$TNS_ADMIN</code>则使用当前目录。如果设置了<code class="codeph">ADR_BASE</code>并且所有用户共享了一个<code class="codeph">sqlnet.ora</code> ，则当目录<code class="codeph">adr</code>不存在或用户无法写入时，OCI将停止搜索。如果未设置<code class="codeph">ADR_BASE</code> ，则OCI继续搜索，测试是否存在某些目录。
                           </p>
                           <p>例如，如果<code class="codeph">sqlnet.ora</code>包含条目<code class="codeph">ADR_BASE=/home/chuck/test</code>那么ADR基础是<code class="codeph">/home/chuck/test/oradiag_chuck</code> ，ADR home可能是<code class="codeph">/home/chuck/test/oradiag_chuck/diag/clients/user_chuck/host_4144260688_11</code> 。
                           </p>
                        </li>
                        <li>
                           <p><span class="italic"><code class="codeph">$ORACLE_BASE</code></span> （Windows上的<span class="italic"><code class="codeph">%ORACLE_BASE%</code></span> ）存在。在这种情况下，客户端子目录存在，因为它是在使用Oracle Universal Installer安装数据库期间创建的。
                           </p>
                           <p>例如，如果<span class="italic"><code class="codeph">$ORACLE_BASE</code></span>是<code class="codeph">/home/chuck/obase</code>那么ADR基地是<code class="codeph">/home/chuck/obase</code> ，ADR home可能类似于<code class="codeph">/home/chuck/obase/diag/clients/user_chuck/host_4144260688_11</code> 。
                           </p>
                        </li>
                        <li>
                           <p><span class="italic"><code class="codeph">$ORACLE_HOME</code></span> <span class="italic"><code class="codeph">(%ORACLE_BASE%</code></span> Windows上为<span class="italic"><code class="codeph">(%ORACLE_BASE%</code></span> ）存在。在这种情况下，客户端子目录存在，因为它是在使用Oracle Universal Installer安装数据库期间创建的。
                           </p>
                           <p>例如，如果<span class="italic"><code class="codeph">$ORACLE_HOME</code></span>是<code class="codeph">/ade/chuck_l1/oracle</code>那么ADR基地是<code class="codeph">/ade/chuck_l1/oracle/log</code> ，ADR home可能类似于<code class="codeph">/ade/chuck_l1/oracle/log/diag/clients/user_chuck/host_4144260688_11</code> 。
                           </p>
                        </li>
                        <li>
                           <p>操作系统主目录：Linux或UNIX上的<span class="italic"><code class="codeph">$HOME</code></span> ，或Windows上的<span class="italic"><code class="codeph">%USERPROFILE%</code></span> 。在Linux或UNIX上，用户<code class="codeph">chuck</code>的位置可能是这样的： <code class="codeph">/home/chuck/oradiag_chuck</code> 。在Windows上，在<code class="codeph">C:\Documents and Settings\chuck</code>下创建名为<code class="codeph">Oracle</code> <code class="codeph">C:\Documents and Settings\chuck</code> 。
                           </p>
                           <p>例如，在Instant Client中，如果<span class="italic"><code class="codeph">$HOME</code></span>是<code class="codeph">/home/chuck</code>那么ADR基础是<code class="codeph">/home/chuck/oradiag_chuck</code> ，ADR home可以是<code class="codeph">/home/chuck/oradiag_chuck/diag/clients/user_chuck/host_4144260688_11</code> 。
                           </p>
                        </li>
                        <li>
                           <p>在Windows上，如果应用程序作为服务运行，则会跳过主目录选项。</p>
                        </li>
                        <li>
                           <p>Linux或UNIX操作系统中的临时目录： <code class="codeph">/var/tmp</code> 。
                           </p>
                           <p>例如，在Instant Client中，如果<span class="italic"><code class="codeph">$HOME</code></span>不可写，则ADR基数为<code class="codeph">/var/tmp/oradiag_chuck</code> ，ADR主页可以是<code class="codeph">/var/tmp/oradiag_chuck/diag/clients/user_chuck/host_4144260688_11</code> 。
                           </p>
                           <p>Windows操作系统中的临时目录，按以下顺序搜索：</p>
                           <ol type="a">
                              <li>
                                 <p><span class="italic"><code class="codeph">％TMP％</code></span></p>
                              </li>
                              <li>
                                 <p><span class="italic"><code class="codeph">％TEMP％</code></span></p>
                              </li>
                              <li>
                                 <p><span class="italic"><code class="codeph">％用户资料％</code></span></p>
                              </li>
                              <li>
                                 <p>Windows系统目录</p>
                              </li>
                           </ol>
                        </li>
                     </ol>
                     <p>如果这些目录选项都不可用且不可写，或者未创建ADR基础且没有诊断。</p>
                     <div class="infoboxnotealso" id="GUID-6C60D154-9576-4C84-80F3-04DE75063C00__GUID-8E70175E-E386-4DAD-B646-7D3ED6AAE3BD">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="instant-client.html#GUID-6895DB45-97AA-4738-9959-BD677D610186" title="Oracle Instant Client提供必要的Oracle数据库客户端文件，以创建和运行OCI，OCCI，ODBC和JDBC OCI应用程序。还提供有用的命令行实用程序，包括SQL * Plus，SQL * Loader和Oracle Data Pump。Oracle Instant Client消除了客户端计算机上对Oracle主目录的需求，从而简化了应用程序的部署。">关于Oracle Instant Client</a></p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/lnoci&amp;id=NETRF398" target="_blank"><span><cite>Oracle数据库网络服务参考</cite></span></a></p>
                           </li>
                        </ul>
                        <p></p>
                     </div>
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-DBD82938-E07E-4A6A-B563-0FFED4F55D47" name="GUID-DBD82938-E07E-4A6A-B563-0FFED4F55D47"></a><h4 id="LNOCI-GUID-DBD82938-E07E-4A6A-B563-0FFED4F55D47" class="sect4"><span class="enumeration_section">3.8.3</span>使用ADRCI</h4>
                  <div>
                     <p>ADRCI是一个命令行工具，使您可以在ADR中查看诊断数据，并将事件和问题信息打包到一个zip文件中供Oracle支持人员使用。</p>
                     <div class="section">
                        <p>您可以以交互方式和脚本使用ADRCI。<span class="italic">问题</span>是OCI或客户端的严重错误。每个问题都有一个问题关键。<span class="italic">事件</span>是一次出现问题，并由唯一的数字事件ID标识。每个事件都有一个问题键，它是一组属性： <code class="codeph">ORA</code>错误号，错误参数值和其他信息。如果问题键匹配，则两个事件具有相同的根本原因。
                        </p>
                        <p>接下来是在Linux系统中启动ADRCI，使用<code class="codeph">SHOW</code> <code class="codeph">BASE</code>命令的<code class="codeph">HELP</code>命令，然后使用带有选项<code class="codeph">-PRODUCT</code> <code class="codeph">CLIENT</code>的<code class="codeph">SHOW</code> <code class="codeph">BASE</code>命令，这是OCI应用程序所必需的。ADRCI命令不区分大小写。用户输入以粗体显示。
                        </p><pre class="oac_no_warn" dir="ltr">％ <span class="bold">adrci</span> ADRCI：版本12.2.0.0.0  -  2015年12月2日星期三18:26:29发展版权所有（c）1982,2015，Oracle。版权所有。ADR base =“/ u01 / app / oracle / log”adrci&gt; <span class="bold">help show base</span>用法：SHOW BASE [-product &lt;product_name&gt;]目的：显示当前的ADR基本设置。选项：[ -  product &lt;product_name&gt;]：此选项允许用户显示给定产品的ADR Base位置。目前注册的产品是“客户”和“ADRCI”。示例：show base -product client show base adrci&gt; <span class="bold">show base -product client</span> ADR base =“/ u01 / app / oracle / log”</pre><p>接下来，描述<code class="codeph">SET</code> <code class="codeph">BASE</code>命令：</p><pre class="oac_no_warn" dir="ltr">adrci&gt; <span class="bold">help set base</span>用法：SET BASE &lt;base_str&gt; | -product &lt;product_name&gt;目的：设置ADR基数以在当前ADRCI会话中使用。如果基地下有有效的ADR住宅，所有住宅将被添加到当前的ADRCI会话中。参数：&lt;base_str&gt;：它是ADR基目录，它是一个依赖于系统的目录路径字符串。-product &lt;product_name&gt;：此选项允许用户设置给定产品的ADR Base位置。目前注册的产品是“客户”和“ADRCI”。注意：在使用“。”的平台上。表示当前工作目录，它可以用作base_str。示例：set base / net / sttttd1 / scratch / someone / view_storage / someone_v1 / log set base -product client set base。adrci&gt; <span class="bold">退出</span>
</pre><p>启动<code class="codeph">ADRCI</code>时，默认ADR基础用于<code class="codeph">rdbms</code>服务器。<span class="italic"><code class="codeph">$ORACLE_HOME</code></span>设置为<code class="codeph">"/u01/app/oracle/"</code> ：</p><pre class="oac_no_warn" dir="ltr">％ <span class="bold">adrci</span> ADRCI：版本12.2.0.0.0  -  2015年12月2日星期三18:26:29发展版权所有（c）1982,2015，Oracle。版权所有。ADR base =“/ u01 / app / oracle / log”adrci&gt;</pre><p>对于OCI应用程序事件，您必须检查并设置基数：</p><pre class="oac_no_warn" dir="ltr">adrci&gt; <span class="bold">show base -product client</span> ADR base is“/ u01 / app / oracle / log”adrci&gt; <span class="bold">set base / home / chuck_13 / oradiag_chuck</span>
</pre><p>对于Instant Client，没有<span class="italic"><code class="codeph">$ORACLE_HOME</code></span> ，因此默认基数是用户的主目录：</p><pre class="oac_no_warn" dir="ltr">adrci&gt; <span class="bold">show base -product client</span> ADR base is“/ home / chuck_13 / oradiag_chuck”adrci&gt; <span class="bold">set base / home / chuck / oradiag_chuck</span> adrci&gt; <span class="bold">show incidents</span> ADR Home = / home / chuck / oradiag_chuck / diag / clients / user_chuck / host_4144260688_11： ************************************************** *********************** INCIDENT_ID PROBLEM_KEY CREATE_TIME ------------------------ ------------------------------------------------- 1 oci 24550 [6] 2015-12-02 17：20：02.803697 -07：00 1行取adrci&gt;</pre><div class="infoboxnotealso" id="GUID-DBD82938-E07E-4A6A-B563-0FFED4F55D47__GUID-67B4CAD8-0E50-4FF6-8ACE-416AC11DE685">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="instant-client.html#GUID-6895DB45-97AA-4738-9959-BD677D610186" title="Oracle Instant Client提供必要的Oracle数据库客户端文件，以创建和运行OCI，OCCI，ODBC和JDBC OCI应用程序。还提供有用的命令行实用程序，包括SQL * Plus，SQL * Loader和Oracle Data Pump。Oracle Instant Client消除了客户端计算机上对Oracle主目录的需求，从而简化了应用程序的部署。">关于Oracle Instant Client</a></p>
                           <p><a href="../sutil/oracle-adr-command-interpreter-adrci.html#SUTIL700" target="_blank"><span><cite>Oracle数据库实用程序</cite></span></a> ，介绍ADRCI</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-E100960D-1E4F-4C3D-A6A3-0D5A5FB06B4C" name="GUID-E100960D-1E4F-4C3D-A6A3-0D5A5FB06B4C"></a><h4 id="LNOCI-GUID-E100960D-1E4F-4C3D-A6A3-0D5A5FB06B4C" class="sect4"><span class="enumeration_section">3.8.4</span>使用sqlnet.ora控制ADR创建和禁用故障诊断</h4>
                  <div>
                     <p>介绍如何使用sqlnet.ora控制ADR创建和禁用故障诊断。</p>
                     <div class="section">
                        <p>要禁用可诊断性，请通过在<code class="codeph">sqlnet.ora</code>设置以下参数来关闭诊断程序（默认值为<code class="codeph">TRUE</code> ）：</p><pre class="oac_no_warn" dir="ltr">DIAG_ADR_ENABLED = FALSE DIAG_DDE_ENABLED = FALSE</pre><p>要关闭OCI信号处理程序并重新启用标准操作系统故障处理，请在<code class="codeph">sqlnet.ora</code>放置以下参数设置：</p><pre class="oac_no_warn" dir="ltr">DIAG_SIGHANDLER_ENABLED = FALSE</pre><p>如前所述，在<code class="codeph">sqlnet.ora</code>使用<code class="codeph">ADR_BASE</code>来设置ADR基址的位置。
                        </p>
                        <p>Oracle数据库客户端包含用于诊断问题的高级功能，包括在检测到重要错误时转储诊断信息的功能。默认情况下，这些转储仅限于一小部分可用信息，以确保不转储应用程序数据。但是，在许多安装中，可以配置转储文件的安全位置，以确保此类日志的隐私。在这种情况下，建议打开完全转储;这可以大大加快问题的解决速度。通过将以下行添加到Oracle数据库客户端安装使用的<code class="codeph">sqlnet.ora</code>文件中，可以启用完全转储：</p><pre class="oac_no_warn" dir="ltr">DIAG_RESTRICTED = FALSE</pre><p>要验证可诊断功能是否正常工作：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li><span>升级您的应用程序以使用最新的客户端库。</span></li>
                        <li><span>开始申请。</span></li>
                        <li><span>检查应用程序的<code class="codeph">TNS_ADMIN</code>目录中的文件<code class="codeph">sqlnet.log</code>以获取指示无法启动可诊断性的错误消息（通常这是由于无效的目录名称或权限）。</span></li>
                     </ol>
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-E100960D-1E4F-4C3D-A6A3-0D5A5FB06B4C__GUID-AB4CAD3A-85E2-462F-ACC5-B291C777163D">
                           <p class="notep1">也可以看看：</p>
                           <p> </p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">sqlnet.ora</code> ADR参数设置的<a href="../netrf/index.html" target="_blank"><span><cite>Oracle数据库网络服务参考</cite></span></a></p>
                              </li>
                              <li>
                                 <p>有关ADR结构的详细信息，请参见<a href="../netag/troubleshooting-oracle-net-services.html#NETAG1524" target="_blank"><span><cite>“Oracle数据库网络服务管理员指南”</cite></span></a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
            <hr><br><p style="text-decoration:underline">脚注图例</p>脚注1：<p>当客户端和服务器上的时区文件不匹配（区域未同步）时，返回<code class="codeph">ORA-01805</code>错误;当区域时区值相同时（以UTC表示相同的时刻）返回<code class="codeph">OCI_SUCCESS</code> ，但<code class="codeph">TIME ZONE</code>偏移量不同。
            </p><br></div>
      </article>
   </body>
</html>