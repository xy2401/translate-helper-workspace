<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="Monitoring the performance of a database and ensuring that it performs optimally is an important task for a database administrator. This chapter discusses the features and functions included in Oracle Database that make it easy to monitor database health, identify performance problems, and implement any corrective actions."></meta>
      <meta name="description" content="Monitoring the performance of a database and ensuring that it performs optimally is an important task for a database administrator. This chapter discusses the features and functions included in Oracle Database that make it easy to monitor database health, identify performance problems, and implement any corrective actions."></meta>
      <title>监视和调整数据库</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="2 Day DBA"></meta>
      <meta property="og:description" content="Monitoring the performance of a database and ensuring that it performs optimally is an important task for a database administrator. This chapter discusses the features and functions included in Oracle Database that make it easy to monitor database health, identify performance problems, and implement any corrective actions."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="2 Day DBA"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="2-day-dba.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-04-23T23:13:13-07:00"></meta>
      <meta name="dcterms.title" content="2 Day DBA"></meta>
      <meta name="dcterms.dateCopyrighted" content="2004, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96197-03"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="performing-backup-and-recovery.html" title="Previous" type="text/html"></link>
      <link rel="next" href="analyzing-database-changes-sql-performance.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="ADMQS"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="performing-backup-and-recovery.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="analyzing-database-changes-sql-performance.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">2天DBA</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">监视和调整数据库</li>
            </ol>
            <a id="GUID-95716F9A-C500-4CCD-AC3F-6541E3191E40" name="GUID-95716F9A-C500-4CCD-AC3F-6541E3191E40"></a><a id="ADMQS010"></a>
            
            <h2 id="ADMQS-GUID-95716F9A-C500-4CCD-AC3F-6541E3191E40" class="sect2"><span class="enumeration_chapter">10</span>监视和调整数据库</h2>
         </header>
         <div class="ind"><script type="text/javascript">window.name='monitoring-and-tuning-the-database'</script><script type="text/javascript">
    function footdisplay(footnum,footnote) {
    var msg = window.open('about:blank', 'NewWindow' + footnum,
        'directories=no,height=100,location=no,menubar=no,resizable=yes,' +
        'scrollbars=yes,status=no,toolbar=no,width=598');
    msg.document.open('text/html');
    msg.document.write('<!DOCTYPE html ');
    msg.document.write('PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" ');
    msg.document.write('"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">'); 
    msg.document.write('<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us" dir="ltr"><head><title>');
   
    msg.document.write('Footnote&nbsp; ' + footnum);
    msg.document.write('<\/title><meta http-equiv="Content-Type" ');
    msg.document.write('content="text/html; charset=utf-8" />');
    msg.document.write('<meta http-equiv="Content-Script-Type" ');
    msg.document.write('content="text/javascript" />');
    msg.document.write('<style type="text/css"> <![CDATA[ ');
    msg.document.write('h1 {text-align: center; font-size: 14pt;}');
    msg.document.write('fieldset {border: none;}');
    msg.document.write('form {text-align: center;}');
    msg.document.write(' ]]u003e </style>');
    msg.document.write('<\/head><body><div id="footnote"><h1>Footnote&nbsp; ' + footnum + '<\/h1><p>');
    msg.document.write(footnote);
    msg.document.write('<\/p><form action="" method="post"><fieldset>');
    msg.document.write('<input type="button" value="OK" ');
    msg.document.write('onclick="window.close();" />');
    msg.document.write('<\/fieldset><\/form><\/div><\/body><\/html>');
    msg.document.close();
    setTimeout(function() {
        var height = msg.document.getElementById('footnote').offsetHeight;
        msg.resizeTo(598, height + 100);
    }
    , 100);
    msg.focus();
}
            </script><noscript>
               <p>此页面上的脚本内容仅用于导航目的，不会以任何方式更改内容。</p>
            </noscript>
            <div>
               <p>监视数据库的性能并确保其以最佳状态执行是数据库管理员的一项重要任务。本章讨论Oracle数据库中包含的特性和功能，这些特性和功能可以轻松监控数据库运行状况，识别性能问题并实施任何纠正措施。</p>
               <p>本章包含以下主题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="monitoring-and-tuning-the-database.html#GUID-FB3DFE40-F067-4607-9B4B-306B08B13580" title="Oracle数据库使您可以轻松监控数据库的运行状况和性能。它监视与数据库运行状况和性能相关的生命体征（或指标），分析针对数据库运行的工作负载，并自动识别需要您作为管理员注意的任何问题。">主动数据库监控</a></p>
                  </li>
                  <li>
                     <p><a href="monitoring-and-tuning-the-database.html#GUID-CC51D765-6777-4E0B-AD8C-F85CF5C017DE" title="有时会出现需要诊断和纠正的数据库性能问题。通常，ADDM会引起您注意这些问题，ADDM会分析不同时间段的数据。">使用ADDM诊断性能问题</a></p>
                  </li>
                  <li>
                     <p><a href="monitoring-and-tuning-the-database.html#GUID-DF745D65-228F-405B-9CAB-AE6798DA971B" title="Oracle数据库包括一组顾问程序，可帮助您管理和调整数据库。本节包含有关这些顾问的背景信息及其使用说明。">使用顾问优化数据库性能</a></p>
                  </li>
                  <li>
                     <p><a href="monitoring-and-tuning-the-database.html#GUID-85B11186-F4AA-4D72-BB16-D9747FEE8C24" title="Oracle示例（OBE）有一系列关于Oracle Database 2 Day DBA指南的系列文章。本OBE将引导您完成本节中的任务，并包含带注释的屏幕截图。">监视和调优数据库：Oracle示例系列</a></p>
                  </li>
               </ul>
            </div><a id="ADMQS1001"></a><div class="props_rev_3"><a id="GUID-FB3DFE40-F067-4607-9B4B-306B08B13580" name="GUID-FB3DFE40-F067-4607-9B4B-306B08B13580"></a><h3 id="ADMQS-GUID-FB3DFE40-F067-4607-9B4B-306B08B13580" class="sect3"><span class="enumeration_section">10.1</span>主动数据库监控</h3>
               <div>
                  <div><span>Oracle数据库使您可以轻松监控数据库的运行状况和性能。它监视与数据库运行状况和性能相关的生命体征（或指标），分析针对数据库运行的工作负载，并自动识别需要您作为管理员注意的任何问题。</span> 在EM Express的数据库主页上报告任何事件（数据库中的严重错误）。
                  </div>
                  <p>本节讨论以下主题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="monitoring-and-tuning-the-database.html#GUID-002351F6-5C0A-411B-9E1E-869878AC16A1" title="Database Home页面使您可以监视数据库的状态和工作负载。它为一般数据库状态信息提供了一个中心位置，并定期更新。">监视常规数据库状态和工作负载</a></p>
                     </li>
                     <li>
                        <p><a href="monitoring-and-tuning-the-database.html#GUID-573F73E4-EF1C-46F2-9BAB-73DA08E7D364" title="Performance Hub允许您查看指定时间段内可用的所有性能数据。选择时间段后，将根据性能主题区域收集和显示性能信息。">使用性能中心监控性能</a></p>
                     </li>
                     <li>
                        <p><a href="monitoring-and-tuning-the-database.html#GUID-C30257DD-94B5-41C1-BBDC-0859161D7A34" title="您可以使用EM Express Performance Hub在Oracle Active Data Guard环境中查看备用数据库的性能统计信息。">关于在备用数据库上查看性能统计信息</a></p>
                     </li>
                     <li>
                        <p><a href="monitoring-and-tuning-the-database.html#GUID-4451EB5B-165F-4333-8941-489E5E5B3ECE" title="Oracle数据库包括一个名为自动数据库诊断监视器（ADDM）的自诊断引擎。ADDM使Oracle数据库可以诊断其自身的性能并确定如何解决已识别的问题。">性能自诊断：自动数据库诊断监视器</a></p>
                     </li>
                  </ul>
               </div><a id="ADMQS12242"></a><a id="ADMQS1013"></a><div class="props_rev_3"><a id="GUID-002351F6-5C0A-411B-9E1E-869878AC16A1" name="GUID-002351F6-5C0A-411B-9E1E-869878AC16A1"></a><h4 id="ADMQS-GUID-002351F6-5C0A-411B-9E1E-869878AC16A1" class="sect4"><span class="enumeration_section">10.1.1</span>监视一般数据库状态和工作负载</h4>
                  <div>
                     <p>Database Home页面使您可以监视数据库的状态和工作负载。它为一般数据库状态信息提供了一个中心位置，并定期更新。</p>
                     <div class="section">
                        <div class="figure" id="GUID-002351F6-5C0A-411B-9E1E-869878AC16A1__GUID-EF892DE1-B1EA-49CA-B79E-7A783E3548EC"><img src="img/exp_db_home_page2.gif" width="509" alt="下面是exp_db_home_page2.gif的描述" title="下面是exp_db_home_page2.gif的描述" longdesc="img_text/exp_db_home_page2.html"><br><a href="img_text/exp_db_home_page2.html">插图描述exp_db_home_page2.gif</a></div>
                        <!-- class="figure" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-002351F6-5C0A-411B-9E1E-869878AC16A1__GUID-C8F992A0-693F-4AF6-9D33-80D4E07DEFB3">要监视常规数据库状态和工作负载：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>转到数据库主页。</span><div>
                              <p>请参阅<span class="q">“ <a href="getting-started-with-database-administration.html#GUID-E2807CDE-1401-4A79-8131-EBC6D45C71B4" title="Database Home页面是Oracle Enterprise Manager Database Express（EM Express）中的主数据库管理页面。">访问数据库主页</a> ”</span> 。
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>（可选）单击“ <span class="bold">自动刷新”</span>列表所选刷新间隔右侧的“刷新”图标以更新显示的信息。</span><div>
                              <p>上次从数据库收集数据库主页的时间显示在页面右上角附近。</p>
                              <p>默认情况下，数据库主页每60秒自动刷新一次。您可以通过在页面右上角的“ <span class="bold">自动刷新”</span>列表中选择“ <span class="bold">关闭”</span>来阻止自动刷新。然后，您必须单击“刷新”图标以查看最新信息。
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>在“状态”部分快速浏览数据库状态，其中包括以下信息：</span><div>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>时间</p>
                                    <p>有关数据库已启动多长时间的信息</p>
                                 </li>
                                 <li>
                                    <p>类型</p>
                                    <p>数据库类型。类型可以是单实例数据库（CDB或非CDB）或Oracle RAC数据库（或群集数据库）。</p>
                                    <p>如果数据库类型是CDB，则下一行将数据库标识为CDB并指定CDB中的PDB数。 <span class="bold">CDB（n PDB）</span>行是Containeriners页面的链接，该页面显示CDB中的容器列表（不包括PDB $ SEED），以及有关容器的状态，性能和资源信息。
                                    </p>
                                 </li>
                                 <li>
                                    <p>版</p>
                                    <p>数据库版本号</p>
                                 </li>
                                 <li>
                                    <p>数据库名称</p>
                                    <p>数据库名称</p>
                                 </li>
                                 <li>
                                    <p>实例名称</p>
                                    <p>数据库实例的名称</p>
                                 </li>
                                 <li>
                                    <p>平台名称</p>
                                    <p>运行数据库的平台</p>
                                 </li>
                                 <li>
                                    <p>主机名</p>
                                    <p>运行数据库的主机系统的名称</p>
                                 </li>
                                 <li>
                                    <p>线</p>
                                    <p>数据库的重做日志线程</p>
                                 </li>
                                 <li>
                                    <p>归档</p>
                                    <p>归档程序的状态</p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                        <li class="stepexpand"><span>在“性能”部分中查看活动会话信息。“性能”部分显示过去一小时的趋势信息。</span><div>
                              <p>活动类图表显示过去一小时内活动的平均数据库会话数。该图表显示了每个会话的活动类型（在CPU上，等待I / O或等待其他资源）。</p>
                              <p>“服务”图表显示数据库服务过去一小时内活动的平均数据库会话数。</p>
                              <p>对于Oracle RAC，“活动类”图表显示了在群集中的所有实例上聚合的活动。此外，还会显示Oracle RAC的实例图表，其中显示每个实例的平均活动会话数。</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>在“资源”部分中查看最新数据点（最后一分钟）的资源利用率。参考资料部分包括以下信息：</span><div>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>主机CPU图表</p>
                                    <p>此图表显示数据库实例和最后一分钟内其他进程使用的CPU时间百分比。将光标放在实例数据上，以查看前台和后台实例进程使用的CPU百分比。</p>
                                    <p>如果其他进程占用了大部分CPU时间，则表明在数据库主机上运行的某些其他应用程序可能会导致性能问题。</p>
                                 </li>
                                 <li>
                                    <p>活动会话图表</p>
                                    <p>此图表显示了最后一分钟的平均活动会话数，按等待，用户I / O和CPU分类。</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p>等待</p>
                                          <p>这是所有等待类的值，不包括用户I / O和空闲等待事件。<span class="bold">等待类</span>是基于<span class="bold">等待类型</span>的等待事件的分组。
                                          </p>
                                          <p>转到Performance Hub并单击“活动”选项卡以查看有关等待的更多信息。</p>
                                       </li>
                                       <li>
                                          <p>用户I / O.</p>
                                          <p>这是等待用户I / O的平均活动会话数。用户I / O意味着源自用户的工作负载导致数据库从磁盘读取数据或将数据写入磁盘。</p>
                                          <p>转到Performance Hub并单击Summary选项卡以查看有关I / O的更多信息。</p>
                                       </li>
                                       <li>
                                          <p>中央处理器</p>
                                          <p>这是使用CPU的平均活动会话。</p>
                                          <p>转到Performance Hub并单击Summary选项卡以查看有关CPU使用率的更多信息。</p>
                                       </li>
                                    </ul>
                                 </li>
                                 <li>
                                    <p>内存（GB）</p>
                                    <p>此图表显示数据库共享池，Java池，缓冲区高速缓存，PGA和其他SGA组件分解的当前内存利用率（截至最新刷新时间）。</p>
                                 </li>
                                 <li>
                                    <p>数据存储（GB）</p>
                                    <p>此图表显示了由用户数据，数据库日志文件，撤消表空间以及临时，SYSAUX和SYSTEM表空间划分的当前空间使用情况（截至最新刷新时间）。</p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                        <li class="stepexpand"><span>在SQL Monitor部分中查看SQL活动：</span><div>
                              <p>本节中的表显示有关受监视的SQL语句执行的信息。如果“状态”列中有绿色旋转图标，则受监视的语句仍在运行。如果“状态”列中有复选标记，则该语句已完成其执行。</p>
                              <p>只有在消耗了至少5秒的CPU或I / O时间时才会监视SQL语句。</p>
                              <p>对于每个SQL语句，该表提供“状态”，“持续时间”，“SQL ID”，“会话ID”，“并行”，“数据库时间”和“SQL文本”列中的信息。</p>
                              <p>单击SQL ID以显示“SQL详细信息”页面，其中包含有关该SQL语句的更多信息。</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>“事件 - 最近24小时”部分显示一个表，该表提供有关过去24小时内发生的数据库事件的信息。该表具有“实例”，“时间”，“突发事件”，“问题”和“错误”列。</span><div>
                              <p>事件是数据库中发生严重错误。“事件 - 最近24小时”表中的每个事件都记录在自动诊断存储库（ADR）中，这是一个位于数据库外部的目录结构，即使在数据库关闭时也可用于诊断问题。您可以使用ADR命令解释器（ADRCI）实用程序调查严重错误。</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>“正在运行的作业”部分显示一个表，显示当前正在运行的数据库作业。该表具有Instance，Owner，Name，Elapsed和Started列。</span><div>
                              <div class="infoboxnotealso" id="GUID-002351F6-5C0A-411B-9E1E-869878AC16A1__GUID-3B4DF5F7-A52E-4C1C-A9BA-2AFC1AAEC0EC">
                                 <p class="notep1">也可以看看：</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p><a href="../tgsql/monitoring-database-operations.html#TGSQL94608" target="_blank"><span><cite>“Oracle数据库SQL调整指南”</cite></span></a> ，以获取有关受监视的SQL执行的企业管理器页面的更多信息</p>
                                    </li>
                                    <li>
                                       <p><span class="q">“ <a href="monitoring-and-tuning-the-database.html#GUID-DD26C6DE-F66F-4B04-9D6B-1491F2371EE9" title="The SQL Tuning Advisor examines a given SQL statement or a set of SQL statements and provides recommendations to improve efficiency.">关于SQL Tuning Advisor</a> ”</span>有关<span class="q"><a href="monitoring-and-tuning-the-database.html#GUID-DD26C6DE-F66F-4B04-9D6B-1491F2371EE9" title="SQL Tuning Advisor检查给定的SQL语句或一组SQL语句，并提供提高效率的建议。">SQL Tuning Advisor</a></span>的介绍</p>
                                    </li>
                                    <li>
                                       <p><span class="q">“ <a href="monitoring-and-tuning-the-database.html#GUID-F6635C5A-3EE2-4B7A-9A3F-0E2C1CE11026" title="SQL Tuning Advisor在系统维护窗口（时间段）期间自动运行，作为维护任务。">关于自动SQL调优顾问</a> ”</span> ，了解自动SQL调优顾问</p>
                                    </li>
                                    <li>
                                       <p><span class="q">“ <a href="monitoring-and-tuning-the-database.html#GUID-15FA1315-30FA-4FA9-BD2A-066392F9165A" title="使用SQL Tuning Advisor调优SQL语句。通常，您运行此顾问程序以响应建议使用它的ADDM性能结果。">运行SQL Tuning Advisor</a> ”</span>以获取使用SQL Tuning Advisor调整SQL语句的示例</p>
                                    </li>
                                    <li>
                                       <p>有关使用ADRCI调查问题的信息，请参见<a href="../admin/diagnosing-and-resolving-problems.html#ADMIN11266" target="_blank"><span><cite>“Oracle数据库管理员指南”</cite></span></a> 。</p>
                                    </li>
                                 </ul>
                              </div>
                           </div>
                        </li>
                     </ol>
                  </div>
               </div><a id="ADMQS12243"></a><a id="ADMQS12446"></a><div class="props_rev_3"><a id="GUID-573F73E4-EF1C-46F2-9BAB-73DA08E7D364" name="GUID-573F73E4-EF1C-46F2-9BAB-73DA08E7D364"></a><h4 id="ADMQS-GUID-573F73E4-EF1C-46F2-9BAB-73DA08E7D364" class="sect4"><span class="enumeration_section">10.1.2</span>使用Performance Hub监控性能</h4>
                  <div>
                     <p>Performance Hub允许您查看指定时间段内可用的所有性能数据。选择时间段后，将根据性能主题区域收集和显示性能信息。</p>
                     <div class="section">
                        <p>本节包括以下主题：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="monitoring-and-tuning-the-database.html#GUID-408CA297-5598-4E8A-A290-5CD511AB45E6" title="在实时：最后一小时模式中，Performance Hub中的数据来自活动会话历史记录（ASH）。当ASH缓冲区被填满或1小时后，ASH数据被写入磁盘，并作为AWR框架的一部分存储。">指定显示统计信息的时间段</a></p>
                           </li>
                        </ul>
                        <p>选择实时数据时，会显示更精细的数据（因为数据点每分钟都可用）。</p>
                        <p>选择历史数据时，会显示更详细的数据（按不同的度量标准细分），但数据点将平均到自动工作负载存储库（AWR）间隔（通常为一小时）。</p>
                        <p>Performance Hub中提供了不同的选项卡，具体取决于是否为该时间段选择了实时数据或历史数据。</p>
                        <p>下表介绍了Performance Hub选项卡，并指示选择实时数据或选择历史数据时是否可用选项卡，或两者。</p>
                        <div class="tblformal" id="GUID-573F73E4-EF1C-46F2-9BAB-73DA08E7D364__GUID-8995D061-0AF9-428B-865E-4DF01236404D">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="This table describes the tabs in the Performance Hub" frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="22%" id="d45003e449">Performance Hub选项卡名称</th>
                                    <th align="left" valign="bottom" width="50%" id="d45003e452">描述</th>
                                    <th align="left" valign="bottom" width="28%" id="d45003e455">可用时间</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d45003e460" headers="d45003e449 ">
                                       <p>摘要</p>
                                    </td>
                                    <td align="left" valign="top" width="50%" headers="d45003e460 d45003e452 ">
                                       <p>“摘要”选项卡提供指定时间段内系统性能的总体视图。</p>
                                       <p>当Performance Hub页面中显示最后一小时的实时数据时，此选项卡显示过去一小时内正在运行的进程，内存分配，按类别的数据库活动和I / O数据的摘要。</p>
                                       <p>当Performance Hub页面中显示历史数据时，此选项卡显示按类别，每秒负载配置文件，活动会话活动，数据库实例的主机CPU使用情况和其他进程，I / O读取和写入的平均活动会话等待的摘要每秒请求数，以及所选时间段内的内存使用情况。</p>
                                    </td>
                                    <td align="left" valign="top" width="28%" headers="d45003e460 d45003e455 ">
                                       <p>在“选择时间段”字段中为非CDB，CDB或PDB选择实时数据或历史数据</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d45003e474" headers="d45003e449 ">
                                       <p>RAC</p>
                                    </td>
                                    <td align="left" valign="top" width="50%" headers="d45003e474 d45003e452 ">
                                       <p>仅当EM Express与Oracle RAC数据库（或群集数据库）一起使用时，才会显示RAC选项卡。</p>
                                       <p>选择实时数据时，此选项卡显示全局缓存活动信息以及每个实例的活动细分（平均活动会话）和资源使用情况（CPU，I / O，内存）。</p>
                                       <p>选择历史数据时，此选项卡显示全局缓存活动信息以及所选时间段内每个实例的活动细分（平均活动会话）和资源使用情况（CPU，I / O，内存）。</p>
                                    </td>
                                    <td align="left" valign="top" width="28%" headers="d45003e474 d45003e455 ">
                                       <p>在“选择时间段”字段中选择实时数据或历史数据</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d45003e488" headers="d45003e449 ">
                                       <p>活动</p>
                                    </td>
                                    <td align="left" valign="top" width="50%" headers="d45003e488 d45003e452 ">
                                       <p>“活动”选项卡显示活动会话历史记录（ASH）分析。它允许详细深入查看在选定时间段内ASH的平均活动会话。</p>
                                       <p>通过此选项卡，您可以选择平均活动会话维度，并查看选定时间段内该维度的最高活动。例如，您可以查看在所选时间段内具有最高平均活动会话活动的SQL语句和用户会话。</p>
                                    </td>
                                    <td align="left" valign="top" width="28%" headers="d45003e488 d45003e455 ">
                                       <p>在“选择时间段”字段中为非CDB，CDB或PDB选择实时数据或历史数据</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d45003e500" headers="d45003e449 ">
                                       <p>工作负荷</p>
                                    </td>
                                    <td align="left" valign="top" width="50%" headers="d45003e500 d45003e452 ">
                                       <p>工作负载配置文件图表以实时模式显示过去60分钟内用户调用，解析调用，重做大小和SQL * Net的模式。会话图表显示登录率，当前登录和打开游标。单击SQL_ID将显示“SQL详细信息”页面，其中包含有关该SQL语句的更多信息。</p>
                                    </td>
                                    <td align="left" valign="top" width="28%" headers="d45003e500 d45003e455 ">
                                       <p>在“选择时间段”字段中为非CDB，CDB或PDB选择实时数据或历史数据</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d45003e510" headers="d45003e449 ">
                                       <p>受监控的SQL</p>
                                    </td>
                                    <td align="left" valign="top" width="50%" headers="d45003e510 d45003e452 ">
                                       <p>使用此选项卡可以查看有关正在执行或在所选时间段内完成的受监视SQL语句的信息。</p>
                                       <p>该表显示有关受监视的SQL语句执行的信息。如果“状态”列中有绿色旋转图标，则在所选时间段内未监控的语句未完成。红叉表示SQL由于错误或会话终止而未完成。如果“状态”列中有复选标记，则语句在选定的时间段内完成执行。</p>
                                       <p>只有在消耗了至少5秒的CPU或I / O时间时才会监视SQL语句。</p>
                                       <p>您可以查看诸如语句状态，持续时间，类型（SQL，PL / SQL或DBOP），SQL ID，SQL计划哈希，发布它的用户，是否作为序列或parallel statement，数据库用于执行语句的CPU活动，I / O或其他活动的时间，与语句关联的读取和写入请求和字节，以及语句的开始和结束时间。</p>
                                       <p>单击SQL ID以显示“SQL详细信息”页面，其中包含有关该SQL语句的更多信息。</p>
                                    </td>
                                    <td align="left" valign="top" width="28%" headers="d45003e510 d45003e455 ">
                                       <p>在“选择时间段”字段中为非CDB，CDB或PDB选择实时数据或历史数据</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d45003e528" headers="d45003e449 ">
                                       <p>ADDM</p>
                                    </td>
                                    <td align="left" valign="top" width="50%" headers="d45003e528 d45003e452 ">
                                       <p>通过ADDM选项卡，您可以查看自动数据库诊断监视器（ADDM）在所选时间段内在数据库中执行的任务所找到的性能结果和建议。</p>
                                       <p>有关ADDM功能的详细信息，请参阅<span class="q">“ <a href="monitoring-and-tuning-the-database.html#GUID-4451EB5B-165F-4333-8941-489E5E5B3ECE" title="Oracle数据库包括一个名为自动数据库诊断监视器（ADDM）的自诊断引擎。ADDM使Oracle数据库可以诊断其自身的性能并确定如何解决已识别的问题。">性能自诊断：自动数据库诊断监视器</a> ”</span> 。
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="28%" headers="d45003e528 d45003e455 ">
                                       <p>在非CDB或CDB的“选择时间段”字段中选择实时数据或历史数据。</p>
                                       <p>仅当CDB管理员登录CDB并导航（向下钻取）到PDB时，此选项卡才可用于PDB。当PDB管理员直接登录到PDB时，该选项卡不可用。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d45003e549" headers="d45003e449 ">
                                       <p>数据库时间</p>
                                    </td>
                                    <td align="left" valign="top" width="50%" headers="d45003e549 d45003e452 ">
                                       <p>通过“数据库时间”选项卡，您可以按类别查看各种度量标准的等待事件，以及查看所选时间段内各种度量标准的时间统计信息。</p>
                                    </td>
                                    <td align="left" valign="top" width="28%" headers="d45003e549 d45003e455 ">
                                       <p>在“选择时间段”字段中为非CDB，CDB或PDB选择历史数据。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d45003e559" headers="d45003e449 ">
                                       <p>资源</p>
                                    </td>
                                    <td align="left" valign="top" width="50%" headers="d45003e559 d45003e452 ">
                                       <p>使用“资源”选项卡可以查看所选时间段的操作系统资源使用情况统计信息，I / O资源使用情况统计信息和内存使用情况统计信息。</p>
                                    </td>
                                    <td align="left" valign="top" width="28%" headers="d45003e559 d45003e455 ">
                                       <p>在“选择时间段”字段中为非CDB，CDB或PDB选择历史数据。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d45003e569" headers="d45003e449 ">
                                       <p>系统统计</p>
                                    </td>
                                    <td align="left" valign="top" width="50%" headers="d45003e569 d45003e452 ">
                                       <p>通过“系统统计信息”选项卡，您可以按所选时间段的值，每个事务或每秒查看数据库统计信息。</p>
                                    </td>
                                    <td align="left" valign="top" width="28%" headers="d45003e569 d45003e455 ">
                                       <p>在“选择时间段”字段中为非CDB，CDB或PDB选择历史数据。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d45003e579" headers="d45003e449 ">
                                       <p>集装箱</p>
                                    </td>
                                    <td align="left" valign="top" width="50%" headers="d45003e579 d45003e452 ">
                                       <p>通过Containers选项卡，您可以查看CDB中PDB的开放时间，活动会话，使用的内存，I / O请求和I / O吞吐量信息。</p>
                                    </td>
                                    <td align="left" valign="top" width="28%" headers="d45003e579 d45003e455 ">
                                       <p>在CDB的“选择时间段”字段中选择实时数据或历史数据。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>下图显示了选择实时 - 最后一小时数据时的性能中心。</p>
                        <div class="figure" id="GUID-573F73E4-EF1C-46F2-9BAB-73DA08E7D364__GUID-18AD4F3E-64B4-4A82-918C-DBD42D818874"><img src="img/perf_hub_real_time.gif" width="611" alt="perf_hub_real_time.gif的描述如下" title="perf_hub_real_time.gif的描述如下" longdesc="img_text/perf_hub_real_time.html"><br><a href="img_text/perf_hub_real_time.html">perf_hub_real_time.gif插图的描述</a></div>
                        <!-- class="figure" -->
                        <p>下图显示了选择历史数据时的Performance Hub。</p>
                        <div class="figure" id="GUID-573F73E4-EF1C-46F2-9BAB-73DA08E7D364__GUID-0E98602B-E62F-42EC-A141-AC3B3A8E9E0D"><img src="img/perf_hub_summary_hist.gif" width="614" alt="perf_hub_summary_hist.gif的描述如下" title="perf_hub_summary_hist.gif的描述如下" longdesc="img_text/perf_hub_summary_hist.html"><br><a href="img_text/perf_hub_summary_hist.html">perf_hub_summary_hist.gif插图的描述</a></div>
                        <!-- class="figure" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-573F73E4-EF1C-46F2-9BAB-73DA08E7D364__GUID-6B6E5B42-A0CF-4484-B1E4-C20FF4BC1BD9">要查看Performance Hub数据：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>在Database Home页面的顶部，从<span class="bold">Performance</span>菜单中选择<span class="bold">Performance Hub</span> 。</span><div>
                              <p>将显示“性能中心”页面，并显示“摘要”选项卡。默认情况下，Performance Hub中会显示最后一小时的实时数据。</p>
                              <p>如果要在Performance Hub中查看历史数据而不是实时数据，可以在“ <span class="bold">选择时间</span>段”字段中选择不同的时间段。
                              </p>
                              <p>在上图中，在“ <span class="bold">选择时间</span>段”字段中<span class="bold">选择了“</span> <span class="bold">历史 - 全部”</span> 。
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>时间选择器显示在“ <span class="bold">选择时间</span>段”字段下方。</span><div>
                              <p>时间选择器中的阴影块区域标识当前在Performance Hub中显示性能统计信息的时间段。这是您在“选择时间段”字段中选择的时间段的子集。</p>
                              <p>在Performance Hub中显示历史数据时，可以通过单击并拖动阴影块区域两端的用户控件来增大或减小阴影块区域的大小。</p>
                              <p>阴影块区域是统计信息在所有Performance Hub选项卡上显示的时间段，而不仅仅是在当前选定的选项卡上。</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>单击Performance Hub中显示的任何选项卡以在选项卡上查看性能数据。</span></li>
                        <li class="stepexpand"><span>单击“ <span class="bold">PerfHub报告”</span>按钮以生成性能中心<a id="d45003e649" class="indexterm-anchor"></a><a id="d45003e653" class="indexterm-anchor"></a>活动报告，其中包含HTML文件中Performance Hub选项卡的内容。单击“ <span class="bold">PerfHub报告”后</span> ，系统会提示您为Performance Hub活动报告选择以下报告类型之一：</span><div>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>基本：所有选项卡的基本信息都保存在报告中。</p>
                                 </li>
                                 <li>
                                    <p>典型：保存基本报告的所有信息。此外，还会保存“受监视的SQL”选项卡中顶级SQL的SQL监视器信息，并保存ADDM报告。</p>
                                 </li>
                                 <li>
                                    <p>全部：保存基本报告的所有信息。此外，还会保存“受监控的SQL”选项卡中所有SQL的SQL监视器信息（不仅仅是顶级SQL），并保存所有选项卡中的所有详细报告。</p>
                                 </li>
                              </ul>
                              <p>然后，系统会提示您输入活动报告的位置和文件名，并在该文件和位置生成报告。您可以使用Web浏览器查看报告并导航报告中的Performance Hub选项卡。</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>在Performance Hub中选择历史数据后，您可以单击<span class="bold">AWR报告</span>按钮以生成所选时间段的AWR报告。</span><div>
                              <p>系统将提示您输入AWR报告的位置和文件名，并在该文件和位置生成报告。您使用Web浏览器查看报告。</p>
                              <div class="infoboxnotealso" id="GUID-573F73E4-EF1C-46F2-9BAB-73DA08E7D364__GUID-329F68A6-CC53-4CCF-94A8-997038771682">
                                 <p class="notep1">也可以看看：</p>
                                 <p>有关AWR的详细信息，请参见<a href="../tgdba/gathering-database-statistics.html#TGDBA167" target="_blank"><span><cite>“Oracle数据库性能调整指南”</cite></span></a></p>
                              </div>
                           </div>
                        </li>
                     </ol>
                  </div><a id="ADMQS12449"></a><div class="props_rev_3"><a id="GUID-408CA297-5598-4E8A-A290-5CD511AB45E6" name="GUID-408CA297-5598-4E8A-A290-5CD511AB45E6"></a><h5 id="ADMQS-GUID-408CA297-5598-4E8A-A290-5CD511AB45E6" class="sect5"><span class="enumeration_section">10.1.2.1</span>指定显示统计信息的时间段</h5>
                     <div>
                        <p>在实时：最后一小时模式中，Performance Hub中的数据来自活动会话历史记录（ASH）。当ASH缓冲区被填满或1小时后，ASH数据被写入磁盘，并作为AWR框架的一部分存储。</p>
                        <div class="section">
                           <p>默认情况下，AWR的保留期为8天。在Performance Hub中查看历史数据时，您将查看作为AWR中每小时快照的一部分收集的统计信息。</p>
                           <p>您可以使用Performance Hub中的“选择时间段”字段来确定可供查看统计信息的时间段。由于Oracle数据库统计信息在内存中存储了一个小时，因此“实时 - 最后一小时”选项始终显示在“选择时间段”列表中。</p>
                           <p>“选择时间段”列表中可用的历史数据选项会根据AWR中可用数据的时间段而更改，如下表所示：</p>
                           <div class="tblformal" id="GUID-408CA297-5598-4E8A-A290-5CD511AB45E6__GUID-27203984-F389-458E-B701-37546CE83BE1">
                              <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Historical options available in Time Period list based on the data available in AWR" frame="hsides" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="42%" id="d45003e730">AWR数据可用的时间段</th>
                                       <th align="left" valign="bottom" width="58%" id="d45003e733">选择时间段列表中的历史选项</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="42%" id="d45003e738" headers="d45003e730 ">
                                          <p>不到24小时</p>
                                       </td>
                                       <td align="left" valign="top" width="58%" headers="d45003e738 d45003e733 ">
                                          <p>历史 - 全<a id="GUID-408CA297-5598-4E8A-A290-5CD511AB45E6__CHDIFEGI" name="GUID-408CA297-5598-4E8A-A290-5CD511AB45E6__CHDIFEGI" href="#GUID-408CA297-5598-4E8A-A290-5CD511AB45E6__CHDIFEGI" data="" this="" option="" is="" available="" only="" when="" less="" than="" one="" day's="" or="" week's="" in="" awr.="" database="" statistics="" that="" are="" stored="" memory="" flushed="" to="" awr="" after="" hour=")" ="" onclick="footdisplay(1, "><sup>脚1</sup></a></p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="42%" id="d45003e748" headers="d45003e730 ">
                                          <p>超过24小时，但不到7天</p>
                                       </td>
                                       <td align="left" valign="top" width="58%" headers="d45003e748 d45003e733 ">
                                          <p>历史 - 日</p>
                                          <p>历史 - 所有<a id="fnsrc_d45003e756" name="fnsrc_d45003e756" href="#fnsrc_d45003e756" data="" this="" option="" is="" available="" only="" when="" less="" than="" one="" day's="" or="" week's="" in="" awr.="" database="" statistics="" that="" are="" stored="" memory="" flushed="" to="" awr="" after="" hour=")" ="" onclick="footdisplay(1, "><sup>Footref 1</sup></a></p>
                                          <p>历史 - 习俗</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="42%" id="d45003e761" headers="d45003e730 ">
                                          <p>7天</p>
                                       </td>
                                       <td align="left" valign="top" width="58%" headers="d45003e761 d45003e733 ">
                                          <p>历史 - 日</p>
                                          <p>历史 - 周</p>
                                          <p>历史 - 习俗</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="42%" id="d45003e772" headers="d45003e730 ">
                                          <p>8天或更长时间<a id="fn_2" name="fn_2" href="#fn_2" data="" the="" default="" awr="" retention="" period="" is="" 8="" days,="" so="" you="" must="" change="" to="" store="" more="" than="" a="" week="" of="" in="" aw=")" ="" onclick="footdisplay(2, "><sup>2</sup></a></p>
                                       </td>
                                       <td align="left" valign="top" width="58%" headers="d45003e772 d45003e733 ">
                                          <p>历史 - 日</p>
                                          <p>历史 - 周</p>
                                          <p>历史 - 习俗</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                           <p class="tablefootnote"><sup class="tablefootnote">脚注1</sup></p><p>只有在AWR中提供少于一天的数据或少于一周的数据时，此选项才可用。存储在内存中的数据库统计信息会在一小时后刷新到AWR。</p>
                           <p></p>
                           <p class="tablefootnote"><sup class="tablefootnote">脚注2</sup></p><p>默认AWR保留期为8天，因此您必须更改默认AWR保留期以在AWR中存储超过一周的数据</p>
                           <p></p>
                           <p>从“选择时间段”字段中选择历史选项后，可以使用时间选择器指定在“性能中心”选项卡中显示数据的时间段。</p>
                           <p>下表描述了在Performance Hub的“选择时间段”字段中选择了不同的值时，时间选择器中显示和可供选择的数据：</p>
                           <div class="tblformal" id="GUID-408CA297-5598-4E8A-A290-5CD511AB45E6__GUID-0ECB8703-5D94-4097-A9A8-A57E25E5C5A7">
                              <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Describes the time picker display for different Time Period selections" frame="hsides" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="24%" id="d45003e798">选定的时间段</th>
                                       <th align="left" valign="bottom" width="24%" id="d45003e801">时间选择器</th>
                                       <th align="left" valign="bottom" width="51%" id="d45003e804">描述</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="24%" id="d45003e809" headers="d45003e798 ">
                                          <p>实时 - 最后一小时</p>
                                       </td>
                                       <td align="left" valign="top" width="24%" headers="d45003e809 d45003e801 ">
                                          <p>显示内存中过去一小时的统计信息</p>
                                       </td>
                                       <td align="left" valign="top" width="51%" headers="d45003e809 d45003e804 ">
                                          <p>数据以时间选择器中的5分钟块显示。使用时间选择器选择要在Performance Hub中显示的1分钟到60分钟的数据。</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="24%" id="d45003e819" headers="d45003e798 ">
                                          <p>历史 - 日</p>
                                       </td>
                                       <td align="left" valign="top" width="24%" headers="d45003e819 d45003e801 ">
                                          <p>显示AWR从一小时到24小时的统计数据</p>
                                       </td>
                                       <td align="left" valign="top" width="51%" headers="d45003e819 d45003e804 ">
                                          <p>数据以时间选择器中的1小时块显示。使用时间选择器选择要在Performance Hub中显示的1小时到24小时的数据。</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="24%" id="d45003e829" headers="d45003e798 ">
                                          <p>历史 - 全部</p>
                                       </td>
                                       <td align="left" valign="top" width="24%" headers="d45003e829 d45003e801 ">
                                          <p>显示AWR统计信息存在的时间长度的统计信息</p>
                                       </td>
                                       <td align="left" valign="top" width="51%" headers="d45003e829 d45003e804 ">
                                          <p>仅在AWR中提供少于一天的数据或少于一周的数据时出现。历史 - 全部选项仅在没有足够的AWR数据提供历史 - 日选项或历史 - 周选项时可用。</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="24%" id="d45003e839" headers="d45003e798 ">
                                          <p>历史 - 周</p>
                                       </td>
                                       <td align="left" valign="top" width="24%" headers="d45003e839 d45003e801 ">
                                          <p>显示AWR从一天到最多7天的统计数据</p>
                                       </td>
                                       <td align="left" valign="top" width="51%" headers="d45003e839 d45003e804 ">
                                          <p>数据以时间选择器中的1天块显示。使用时间选择器选择要在Performance Hub中显示的1天到7天的数据。</p>
                                          <p>选择历史 - 周时，默认情况下，AWR数据的当前周出现在时间选择器中。要在时间选择器中查看上周的AWR数据，请使用时间选择器中的&lt;按钮。</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="24%" id="d45003e851" headers="d45003e798 ">
                                          <p>历史 - 习俗</p>
                                       </td>
                                       <td align="left" valign="top" width="24%" headers="d45003e851 d45003e801 ">
                                          <p>在选择“历史 - 自定义”选项后，显示在“选择时间段”对话框中选择的时间长度的AWR统计信息</p>
                                       </td>
                                       <td align="left" valign="top" width="51%" headers="d45003e851 d45003e804 ">
                                          <p>使用时间选择器选择要在Performance Hub中显示统计信息的时间段。</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                           <div class="infoboxnotealso" id="GUID-408CA297-5598-4E8A-A290-5CD511AB45E6__GUID-7B6D371A-D98C-47AB-985D-98527E834224">
                              <p class="notep1">也可以看看：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>有关ASH的更多信息，请参见<a href="../cncpt/concepts-for-database-administrators.html#CNCPT852" target="_blank"><span><cite>Oracle数据库概念</cite></span></a></p>
                                 </li>
                                 <li>
                                    <p>有关更改默认AWR保留期的详细信息，请<a href="../tgdba/index.html" target="_blank"><span><cite>参见“Oracle数据库性能调整指南”</cite></span></a></p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-C30257DD-94B5-41C1-BBDC-0859161D7A34" name="GUID-C30257DD-94B5-41C1-BBDC-0859161D7A34"></a><h4 id="ADMQS-GUID-C30257DD-94B5-41C1-BBDC-0859161D7A34" class="sect4"><span class="enumeration_section">10.1.3</span>关于查看备用数据库的性能统计信息</h4>
                  <div>
                     <p>您可以使用EM Express Performance Hub在Oracle Active Data Guard环境中查看备用数据库的性能统计信息。</p>
                     <p>当您使用EM Express在Oracle Active Data Guard环境中查看备用数据库时，EM Express菜单栏的左上部分显示备用数据库的名称，数据库的版本号以及字符串“standby”。例如，下图显示了名为ADG for Oracle Database 12 <span class="italic">c</span> Release 2（12.2.0.1.0）的备用数据库的菜单栏：</p><br><img id="GUID-C30257DD-94B5-41C1-BBDC-0859161D7A34__GUID-6657025C-F495-4319-AA91-DBEFBE-349D793C" src="img/standby_db.png" alt="随后是standby_db.png的描述" title="随后是standby_db.png的描述" longdesc="img_text/standby_db.html"><br><a href="img_text/standby_db.html">插图描述standby_db.png</a><br><p>Oracle Active Data Guard重做应用机制将实时和历史数据从主数据库应用到备用数据库。但是，由于您不太可能希望从备用数据库的Performance Hub中的主数据库查看历史性能数据，因此无法在Performance Hub中选择备用数据库的历史数据。Performance Hub中的“选择时间段”按钮对于备用数据库不可用，这意味着只能在Performance Hub中查看备用数据库的实时数据。</p>
                     <div class="infoboxnote" id="GUID-C30257DD-94B5-41C1-BBDC-0859161D7A34__GUID-6E797A1B-F91D-4791-84EB-E533B9BA2B5F">
                        <p class="notep1">注意：</p>
                        <p>您必须拥有Oracle Active Data Guard选项的许可证才能查看备用数据库的性能统计信息。</p>
                     </div>
                     <div class="infoboxnotealso" id="GUID-C30257DD-94B5-41C1-BBDC-0859161D7A34__GUID-C7386388-4ABD-4956-A6BA-6A137B11635D">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="monitoring-and-tuning-the-database.html#GUID-573F73E4-EF1C-46F2-9BAB-73DA08E7D364" title="Performance Hub允许您查看指定时间段内可用的所有性能数据。选择时间段后，将根据性能主题区域收集和显示性能信息。">使用Performance Hub监控性能</a> ”</span></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="monitoring-and-tuning-the-database.html#GUID-408CA297-5598-4E8A-A290-5CD511AB45E6" title="在实时：最后一小时模式中，Performance Hub中的数据来自活动会话历史记录（ASH）。当ASH缓冲区被填满或1小时后，ASH数据被写入磁盘，并作为AWR框架的一部分存储。">指定显示统计信息的时间段</a> ”</span></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="monitoring-and-tuning-the-database.html#GUID-0A4573CD-4DF7-44D0-BA7F-09B4F7A4C39E" title="在Oracle Active Data Guard环境中，可以在主数据库上执行读/写查询，而在备用数据库上执行只读SQL查询。您可以使用EM Express中的SQL Tuning Advisor来调整备用数据库上昂贵的只读SQL查询。">关于在备用数据库上调优SQL语句</a> ”</span></p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="ADMQS12469"></a><a id="ADMQS12470"></a><a id="ADMQS12471"></a><a id="ADMQS12472"></a><a id="ADMQS1012"></a><div class="props_rev_3"><a id="GUID-4451EB5B-165F-4333-8941-489E5E5B3ECE" name="GUID-4451EB5B-165F-4333-8941-489E5E5B3ECE"></a><h4 id="ADMQS-GUID-4451EB5B-165F-4333-8941-489E5E5B3ECE" class="sect4"><span class="enumeration_section">10.1.4</span>性能自诊断：自动数据库诊断监视器</h4>
                  <div>
                     <p>Oracle数据库包括一个名为自动数据库诊断监视器（ADDM）的自诊断引擎。ADDM使Oracle数据库可以诊断其自身的性能并确定如何解决已识别的问题。</p>
                     <p><a id="d45003e984" class="indexterm-anchor"></a><a id="d45003e986" class="indexterm-anchor"></a>为了便于使用ADDM进行自动性能诊断，Oracle数据库会定期收集数据库状态和工作负载的快照。<span class="bold">快照</span>是特定时间段的历史数据集，用于ADDM进行性能比较。快照提供了某个时间点系统状态的统计摘要。这些快照存储在自动工作负载存储库（AWR）中，驻留在<code class="codeph">SYSAUX</code>表空间中。快照在清除之前存储在此存储库中一段时间（默认为8天），以便为新快照腾出空间。
                     </p>
                     <p><a id="d45003e998" class="indexterm-anchor"></a> ADDM分析数据以确定系统中的主要问题，并可推荐解决方案并量化预期收益。ADDM分析结果表示为一组<span class="bold">发现</span> 。
                     </p>
                     <p>EM Express提供两种类型的ADDM结果。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-4451EB5B-165F-4333-8941-489E5E5B3ECE__GUID-096E4F08-ACAE-4D45-AA15-88E5476C9E68">ADDM</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>ADDM对已捕获并存储在AWR中的数据执行分析。对于ADDM，快照的默认收集时间间隔为一小时。</p>
                        <p>通常，ADDM用于识别系统范围的系统性问题。它提请注意性能问题，包括：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>资源争用（瓶颈），例如当数据库由于高负载SQL语句而使用大量CPU时间或内存时</p>
                           </li>
                           <li>
                              <p>连接管理不良，例如当您的应用程序对数据库进行过多登录时</p>
                           </li>
                           <li>
                              <p>在多用户环境中锁定争用，例如当一个用户进程获取锁以安全地更新表中的数据时，导致必须获取针对同一表的锁的其他用户进程等待，从而导致数据库性能降低</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-4451EB5B-165F-4333-8941-489E5E5B3ECE__GUID-B99491DE-81BC-48B9-96F8-E1105B02604C">实时ADDM</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>实时ADDM实时自动监控数据库。</p>
                        <p>实时ADDM在威胁应用程序性能之前主动检测和诊断瞬态高影响问题，例如：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>高CPU</p>
                           </li>
                           <li>
                              <p>I / O峰值</p>
                           </li>
                           <li>
                              <p>记忆</p>
                           </li>
                           <li>
                              <p>互连问题</p>
                           </li>
                           <li>
                              <p>挂起和死锁</p>
                           </li>
                        </ul>
                        <p>当实时ADDM检测到可能的性能问题时，它会触发数据收集。数据保存在报告存储库（AWR的一部分）中。当您从EM Express查看实时ADDM报告时，将执行分析，并进行调查和建议。由于实时ADDM报告存储在AWR中，因此它们可以帮助您识别问题随时间的重复发生。</p>
                        <p><a href="monitoring-and-tuning-the-database.html#GUID-4451EB5B-165F-4333-8941-489E5E5B3ECE__CHDFCJII" title="此表显示EM Express中可用的ADDM功能。">表10-1</a>提供了EM Express中可用的ADDM功能的摘要。
                        </p>
                        <div class="tblformal" id="GUID-4451EB5B-165F-4333-8941-489E5E5B3ECE__CHDFCJII">
                           <p class="titleintable">表10-1 EM Express中的ADDM功能</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="EM Express中的ADDM功能" width="100%" border="1" summary="This table shows the ADDM features available in EM Express." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d45003e1071">特征</th>
                                    <th align="left" valign="bottom" width="11%" id="d45003e1074">新？</th>
                                    <th align="left" valign="bottom" width="24%" id="d45003e1077">描述</th>
                                    <th align="left" valign="bottom" width="17%" id="d45003e1080">分析期</th>
                                    <th align="left" valign="bottom" width="24%" id="d45003e1083">查看分析结果</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d45003e1088" headers="d45003e1071 ">
                                       <p>ADDM</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d45003e1088 d45003e1074 ">
                                       <p>没有</p>
                                    </td>
                                    <td align="left" valign="top" width="24%" headers="d45003e1088 d45003e1077 ">
                                       <p>这是以前的数据库版本中存在的传统ADDM。ADDM任务显示在Performance Hub的ADDM选项卡上。</p>
                                    </td>
                                    <td align="left" valign="top" width="17%" headers="d45003e1088 d45003e1080 ">
                                       <p>AWR间隔，默认为1小时</p>
                                    </td>
                                    <td align="left" valign="top" width="24%" headers="d45003e1088 d45003e1083 ">
                                       <p>在“ADDM”选项卡上的“ADDM任务”表中，单击“ <span class="bold">任务名称”</span> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d45003e1107" headers="d45003e1071 ">
                                       <p>实时ADDM</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d45003e1107 d45003e1074 ">
                                       <p>是</p>
                                    </td>
                                    <td align="left" valign="top" width="24%" headers="d45003e1107 d45003e1077 ">
                                       <p>实时主动检测和诊断瞬态高影响问题。实时ADDM报告显示在Performance Hub的ADDM选项卡上。</p>
                                    </td>
                                    <td align="left" valign="top" width="17%" headers="d45003e1107 d45003e1080 ">
                                       <p>即时的</p>
                                    </td>
                                    <td align="left" valign="top" width="24%" headers="d45003e1107 d45003e1083 ">
                                       <p>在“ADDM”选项卡上的“实时ADDM报告”表中，选择一个报告，然后单击“ <span class="bold">查看性能报告”</span> 。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="infoboxnotealso" id="GUID-4451EB5B-165F-4333-8941-489E5E5B3ECE__GUID-E63CA491-0724-4761-89FF-992B4C57446D">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>有关自动数据库性能监视的详细信息，请参阅<a href="../tdppt/automatic-database-performance-monitoring.html#TDPPT020" target="_blank"><span><cite>“Oracle数据库2天+性能调整指南”</cite></span></a></p>
                              </li>
                              <li>
                                 <p><span class="q">“ <a href="monitoring-and-tuning-the-database.html#GUID-CC51D765-6777-4E0B-AD8C-F85CF5C017DE" title="有时会出现需要诊断和纠正的数据库性能问题。通常，ADDM会引起您注意这些问题，ADDM会分析不同时间段的数据。">使用ADDM诊断性能问题</a> ”</span></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="ADMQS102"></a><div class="props_rev_3"><a id="GUID-CC51D765-6777-4E0B-AD8C-F85CF5C017DE" name="GUID-CC51D765-6777-4E0B-AD8C-F85CF5C017DE"></a><h3 id="ADMQS-GUID-CC51D765-6777-4E0B-AD8C-F85CF5C017DE" class="sect3"><span class="enumeration_section">10.2</span>使用ADDM诊断性能问题</h3>
               <div>
                  <p>有时会出现需要诊断和纠正的数据库性能问题。通常，ADDM会引起您注意这些问题，ADDM会分析不同时间段的数据。</p>
                  <p>本节包含以下主题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="monitoring-and-tuning-the-database.html#GUID-F927A0BD-F872-49D9-A707-E7A9488A31B4" title="ADDM分析结果包括每个发现的描述和建议的操作。您可以查看结果摘要及其对系统的影响。">查看ADDM性能结果摘要</a></p>
                     </li>
                     <li>
                        <p><a href="monitoring-and-tuning-the-database.html#GUID-374EFD6B-80BD-40A5-8380-4C10EE659273" title="您可以根据ADDM性能结果提供的建议采取相应措施。">响应ADDM性能调查结果</a></p>
                     </li>
                     <li>
                        <p><a href="monitoring-and-tuning-the-database.html#GUID-0A28303C-0455-46C7-BDA0-EB9132E20BC3" title="实时ADDM结果包括每个发现的描述以及在生成实时ADDM报告时的某些发现的建议操作。您可以查看结果摘要及其对系统的影响。">查看实时ADDM结果摘要</a></p>
                     </li>
                     <li>
                        <p><a href="monitoring-and-tuning-the-database.html#GUID-DE332014-B947-42FC-ADF1-DB61EFD56F96" title="您可以在实时ADDM报告中查看结果。">响应实时ADDM结果</a></p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-CC51D765-6777-4E0B-AD8C-F85CF5C017DE__GUID-087A6F4A-180E-44E8-AB3F-2B62EE80BC52">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="../tdppt/automatic-database-performance-monitoring.html#TDPPT020" target="_blank"><span><cite>Oracle数据库2天+性能调优指南</cite></span></a></p>
                  </div>
               </div><a id="ADMQS12248"></a><a id="ADMQS1021"></a><div class="props_rev_3"><a id="GUID-F927A0BD-F872-49D9-A707-E7A9488A31B4" name="GUID-F927A0BD-F872-49D9-A707-E7A9488A31B4"></a><h4 id="ADMQS-GUID-F927A0BD-F872-49D9-A707-E7A9488A31B4" class="sect4"><span class="enumeration_section">10.2.1</span>查看ADDM性能结果摘要</h4>
                  <div>
                     <p>ADDM分析结果包括每个发现的描述和建议的操作。您可以查看结果摘要及其对系统的影响。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-F927A0BD-F872-49D9-A707-E7A9488A31B4__GUID-CBD8DBB8-C34D-4CE0-A938-D47A75CDBAB1">要查看ADDM性能结果的摘要：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>在EM Express中，从“ <span class="bold">性能”</span>菜单中选择“ <span class="bold">性能中心”</span> 。</span><div>
                              <p>Performance Hub页面将显示在Performance Hub页面上的选项卡列表中。</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>在“ <span class="bold">选择时间</span>段”字段中，选择其中一个时间段值以查看该时间段的性能数据。页面标题将更改以指示所选时间段。</span></li>
                        <li class="stepexpand"><span>单击“ADDM”选项卡。</span><div>
                              <p>所选时间段的ADDM任务显示在ADDM选项卡上的ADDM Tasks表中。</p>
                              <div class="figure" id="GUID-F927A0BD-F872-49D9-A707-E7A9488A31B4__GUID-6A40DF21-0143-4195-9AF8-B2F6FD06C923"><img src="img/perf_hub_period_addm.gif" width="613" alt="perf_hub_period_addm.gif的描述如下" title="perf_hub_period_addm.gif的描述如下" longdesc="img_text/perf_hub_period_addm.html"><br><a href="img_text/perf_hub_period_addm.html">perf_hub_period_addm.gif插图的描述</a></div>
                              <!-- class="figure" -->
                           </div>
                        </li>
                        <li class="stepexpand"><span>单击ADDM任务的“ <span class="bold">任务名称”</span>列中的链接以查看有关该任务的更多信息。</span><div>
                              <div class="infoboxnotealso" id="GUID-F927A0BD-F872-49D9-A707-E7A9488A31B4__GUID-4CDCD72D-747F-4273-9624-B1707EC12D90">
                                 <p class="notep1">也可以看看：</p>
                                 <p><span class="q">“ <a href="monitoring-and-tuning-the-database.html#GUID-4451EB5B-165F-4333-8941-489E5E5B3ECE" title="Oracle数据库包括一个名为自动数据库诊断监视器（ADDM）的自诊断引擎。ADDM使Oracle数据库可以诊断其自身的性能并确定如何解决已识别的问题。">性能自诊断：自动数据库诊断监视器</a> ”</span></p>
                              </div>
                           </div>
                        </li>
                     </ol>
                  </div>
               </div><a id="ADMQS12249"></a><a id="ADMQS1022"></a><div class="props_rev_3"><a id="GUID-374EFD6B-80BD-40A5-8380-4C10EE659273" name="GUID-374EFD6B-80BD-40A5-8380-4C10EE659273"></a><h4 id="ADMQS-GUID-374EFD6B-80BD-40A5-8380-4C10EE659273" class="sect4"><span class="enumeration_section">10.2.2</span>响应ADDM性能调查结果</h4>
                  <div>
                     <p>您可以根据ADDM性能结果提供的建议采取相应措施。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-374EFD6B-80BD-40A5-8380-4C10EE659273__GUID-12AADB09-F568-4443-B2EB-9FB699CD2F3E">为响应ADDM性能调查结果：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>在Performance Hub页面的ADDM选项卡上的ADDM Tasks表中，单击<span class="bold">Task Name</span>列中的链接以查看该任务的性能结果。</span><div>
                              <p>将出现“自动数据库诊断监视器（ADDM）”页面。</p>
                              <div class="figure" id="GUID-374EFD6B-80BD-40A5-8380-4C10EE659273__GUID-0998AA3F-CC42-4B0B-A992-BC62BCE91789"><img src="img/perf_hub_paddm_perf.gif" width="605" alt="perf_hub_paddm_perf.gif的描述如下" title="perf_hub_paddm_perf.gif的描述如下" longdesc="img_text/perf_hub_paddm_perf.html"><br><a href="img_text/perf_hub_paddm_perf.html">perf_hub_paddm_perf.gif插图的描述</a></div>
                              <!-- class="figure" -->
                              <p>ADDM任务的性能结果和每个发现的性能影响（％）列在“结果”表中。</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>单击特定查找的“ <span class="bold">查找”</span>列中的链接，以查看与其关联的查找和建议（如果有）。</span><div>
                              <p>将显示“性能查找详细信息”页面。</p>
                              <div class="figure" id="GUID-374EFD6B-80BD-40A5-8380-4C10EE659273__GUID-6D891981-093D-4230-87DD-FD3E8F856F42"><img src="img/perf_paddm_findings_det.gif" width="597" alt="perf_paddm_findings_det.gif的描述如下" title="perf_paddm_findings_det.gif的描述如下" longdesc="img_text/perf_paddm_findings_det.html"><br><a href="img_text/perf_paddm_findings_det.html">perf_paddm_findings_det.gif插图的描述</a></div>
                              <!-- class="figure" -->
                              <p>性能结果表列出了ADDM任务的性能结果。对于每个发现，该表显示了发现类别，建议的行动，建议的理由以及实施建议的预期收益。</p>
                              <p>当您选择具有可以使用ADDM实施的建议的查找时，“实施”按钮可用于该查找。</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>对于具有您要使用ADDM实施的建议的查找，请选择查找并单击“ <span class="bold">实施”</span> 。</span><div>
                              <p>对于此示例，将显示Schedule SQL Tuning Advisor页面，系统将提示您输入在所选SQL语句上运行SQL Tuning Advisor所需的信息。</p>
                           </div>
                        </li>
                     </ol>
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-374EFD6B-80BD-40A5-8380-4C10EE659273__GUID-7FAF36FA-0015-4D51-A04C-53B40FE03A2B">
                           <p class="notep1">也可以看看：</p>
                           <p><span class="q">“ <a href="monitoring-and-tuning-the-database.html#GUID-4451EB5B-165F-4333-8941-489E5E5B3ECE" title="Oracle数据库包括一个名为自动数据库诊断监视器（ADDM）的自诊断引擎。ADDM使Oracle数据库可以诊断其自身的性能并确定如何解决已识别的问题。">性能自诊断：自动数据库诊断监视器</a> ”</span></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADMQS12474"></a><a id="ADMQS12473"></a><div class="props_rev_3"><a id="GUID-0A28303C-0455-46C7-BDA0-EB9132E20BC3" name="GUID-0A28303C-0455-46C7-BDA0-EB9132E20BC3"></a><h4 id="ADMQS-GUID-0A28303C-0455-46C7-BDA0-EB9132E20BC3" class="sect4"><span class="enumeration_section">10.2.3</span>查看实时ADDM结果摘要</h4>
                  <div>
                     <p>实时ADDM结果包括每个发现的描述以及在生成实时ADDM报告时的某些发现的建议操作。您可以查看结果摘要及其对系统的影响。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-0A28303C-0455-46C7-BDA0-EB9132E20BC3__GUID-AF2C0C57-125E-4526-B48C-E1468004E3FA">要查看实时ADDM性能结果的摘要：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>在EM Express中，从“ <span class="bold">性能”</span>菜单中选择“ <span class="bold">性能中心”</span> 。</span><div>
                              <p>Performance Hub页面将显示在Performance Hub页面上的选项卡列表中。</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>在“ <span class="bold">选择时间</span>段”字段中，选择其中一个时间段值以查看该时间段的性能数据。页面标题将更改以指示所选时间段。</span></li>
                        <li class="stepexpand"><span>单击“ADDM”选项卡。</span><div>
                              <p>如果所选时间段内有实时ADDM报告，则报告将显示在ADDM选项卡底部的“实时ADDM报告”表中。</p>
                              <div class="figure" id="GUID-0A28303C-0455-46C7-BDA0-EB9132E20BC3__GUID-A0C4B266-5BF4-47F4-9052-AF60B95D4547"><img src="img/perf_hub_rt_addm_report.gif" width="574" alt="perf_hub_rt_addm_report.gif的描述如下" title="perf_hub_rt_addm_report.gif的描述如下" longdesc="img_text/perf_hub_rt_addm_report.html"><br><a href="img_text/perf_hub_rt_addm_report.html">perf_hub_rt_addm_report.gif插图的描述</a></div>
                              <!-- class="figure" -->
                           </div>
                        </li>
                        <li class="stepexpand"><span>要查看表中的特定报告，请在“ <span class="bold">报告名称”</span>字段中单击报告的链接，或选择表格行，然后单击“ <span class="bold">显示性能报告”</span> 。</span></li>
                     </ol>
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-0A28303C-0455-46C7-BDA0-EB9132E20BC3__GUID-D0688FF5-DDDA-4CC6-8D6F-07137D8BA022">
                           <p class="notep1">也可以看看：</p>
                           <p><span class="q">“ <a href="monitoring-and-tuning-the-database.html#GUID-4451EB5B-165F-4333-8941-489E5E5B3ECE" title="Oracle数据库包括一个名为自动数据库诊断监视器（ADDM）的自诊断引擎。ADDM使Oracle数据库可以诊断其自身的性能并确定如何解决已识别的问题。">性能自诊断：自动数据库诊断监视器</a> ”</span></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADMQS12476"></a><a id="ADMQS12475"></a><div class="props_rev_3"><a id="GUID-DE332014-B947-42FC-ADF1-DB61EFD56F96" name="GUID-DE332014-B947-42FC-ADF1-DB61EFD56F96"></a><h4 id="ADMQS-GUID-DE332014-B947-42FC-ADF1-DB61EFD56F96" class="sect4"><span class="enumeration_section">10.2.4</span>响应实时ADDM结果</h4>
                  <div>
                     <p>您可以在实时ADDM报告中查看结果。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-DE332014-B947-42FC-ADF1-DB61EFD56F96__GUID-B6A95F55-8B91-4A86-A879-A532CA3C4C35">要响应实时ADDM性能结果：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>要在“实时ADDM报告”表中查看特定报告，请在“ <span class="bold">报告名称”</span>字段中单击报告的链接，或选择表格行，然后单击“ <span class="bold">显示性能报告”</span> 。</span><div>
                              <p>将显示“实时ADDM报告”页面。</p>
                              <div class="figure" id="GUID-DE332014-B947-42FC-ADF1-DB61EFD56F96__GUID-792D8B90-49A4-42B2-A7E6-1FDCA37AB658"><img src="img/perf_hub_rt_addm_report_det.gif" width="603" alt="perf_hub_rt_addm_report_det.gif的描述如下" title="perf_hub_rt_addm_report_det.gif的描述如下" longdesc="img_text/perf_hub_rt_addm_report_det.html"><br><a href="img_text/perf_hub_rt_addm_report_det.html">perf_hub_rt_addm_report_det.gif插图的描述</a></div>
                              <!-- class="figure" -->
                           </div>
                        </li>
                        <li class="stepexpand"><span>在Findings表中，显示报告的结果以及每个发现的影响。在“结果”表中选择查找时，“查找”表下方的“建议详细信息”和“查找详细信息”部分中将显示该查找的建议详细信息和查找详细信息。</span></li>
                     </ol>
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-DE332014-B947-42FC-ADF1-DB61EFD56F96__GUID-B113EF61-480B-491F-AA31-9E70AB0EF111">
                           <p class="notep1">也可以看看：</p>
                           <p><span class="q">“ <a href="monitoring-and-tuning-the-database.html#GUID-4451EB5B-165F-4333-8941-489E5E5B3ECE" title="Oracle数据库包括一个名为自动数据库诊断监视器（ADDM）的自诊断引擎。ADDM使Oracle数据库可以诊断其自身的性能并确定如何解决已识别的问题。">性能自诊断：自动数据库诊断监视器</a> ”</span></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="ADMQS103"></a><div class="props_rev_3"><a id="GUID-DF745D65-228F-405B-9CAB-AE6798DA971B" name="GUID-DF745D65-228F-405B-9CAB-AE6798DA971B"></a><h3 id="ADMQS-GUID-DF745D65-228F-405B-9CAB-AE6798DA971B" class="sect3"><span class="enumeration_section">10.3</span>使用顾问优化数据库性能</h3>
               <div>
                  <div><span>Oracle数据库包括一组<span class="italic">顾问程序</span> ，可帮助您管理和调整数据库。本节包含有关这些顾问的背景信息及其使用说明。</span> 涵盖以下主题：</div>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="monitoring-and-tuning-the-database.html#GUID-8DE70F1D-E161-45D2-BE01-E9972883BCEC" title="顾问是数据库管理的强大工具。他们就如何应对关键管理挑战提供具体建议，涉及广泛的领域，包括空间，性能和撤销管理。">关于顾问</a></p>
                     </li>
                     <li>
                        <p><a href="monitoring-and-tuning-the-database.html#GUID-DD26C6DE-F66F-4B04-9D6B-1491F2371EE9" title="SQL Tuning Advisor检查给定的SQL语句或一组SQL语句，并提供提高效率的建议。">关于SQL Tuning Advisor</a></p>
                     </li>
                     <li>
                        <p><a href="monitoring-and-tuning-the-database.html#GUID-F6635C5A-3EE2-4B7A-9A3F-0E2C1CE11026" title="SQL Tuning Advisor在系统维护窗口（时间段）期间自动运行，作为维护任务。">关于自动SQL调整顾问</a></p>
                     </li>
                     <li>
                        <p><a href="monitoring-and-tuning-the-database.html#GUID-AB077F2A-033B-4881-A916-ADBA1B20A8AC" title="以下是您可能要为Automatic SQL Tuning Advisor执行的一些配置任务：">配置自动SQL调整顾问</a></p>
                     </li>
                     <li>
                        <p><a href="monitoring-and-tuning-the-database.html#GUID-5591790E-1E07-4D7A-853E-3DB0F3D57AF4" title="您可以使用EM Express跟踪自动SQL调整顾问的活动。">查看自动SQL调整结果</a></p>
                     </li>
                     <li>
                        <p><a href="monitoring-and-tuning-the-database.html#GUID-15FA1315-30FA-4FA9-BD2A-066392F9165A" title="使用SQL Tuning Advisor调优SQL语句。通常，您运行此顾问程序以响应建议使用它的ADDM性能结果。">运行SQL Tuning Advisor</a></p>
                     </li>
                     <li>
                        <p><a href="monitoring-and-tuning-the-database.html#GUID-0A4573CD-4DF7-44D0-BA7F-09B4F7A4C39E" title="在Oracle Active Data Guard环境中，可以在主数据库上执行读/写查询，而在备用数据库上执行只读SQL查询。您可以使用EM Express中的SQL Tuning Advisor来调整备用数据库上昂贵的只读SQL查询。">关于在备用数据库上调优SQL语句</a></p>
                     </li>
                     <li>
                        <p><a href="monitoring-and-tuning-the-database.html#GUID-9EC479AF-E92A-4868-9D0E-156D7F7B64AB" title="本节包含有关内存顾问的信息。">使用Memory Advisor优化内存使用</a></p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-DF745D65-228F-405B-9CAB-AE6798DA971B__GUID-15B5EBEF-3F99-4AF7-80CE-A3EBC9E7F40C">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="../tdppt/introduction.html#TDPPT005" target="_blank"><span><cite>Oracle数据库2天+性能调优指南</cite></span></a></p>
                  </div>
               </div><a id="ADMQS12347"></a><a id="ADMQS1031"></a><div class="props_rev_3"><a id="GUID-8DE70F1D-E161-45D2-BE01-E9972883BCEC" name="GUID-8DE70F1D-E161-45D2-BE01-E9972883BCEC"></a><h4 id="ADMQS-GUID-8DE70F1D-E161-45D2-BE01-E9972883BCEC" class="sect4"><span class="enumeration_section">10.3.1</span>关于顾问</h4>
                  <div>
                     <div><span>顾问是数据库管理的强大工具。他们就如何应对关键管理挑战提供具体建议，涉及广泛的领域，包括空间，性能和撤销管理。</span> 一般而言，顾问会提出比警报更全面的建议。这是因为警报生成旨在降低成本并且对性能的影响最小，而顾问则消耗更多资源并执行更详细的分析。这与一些顾问的假设能力一起提供了无法从任何其他来源获得的调整的重要信息。一些顾问会自动运行。
                     </div>
                     <p><a id="d45003e1656" class="indexterm-anchor"></a><a id="d45003e1662" class="indexterm-anchor"></a>提供顾问以帮助您提高数据库性能。这些顾问包括自动数据库诊断监视器（ADDM），SQL顾问程序和内存顾问程序。例如，SGA Advisor以图形方式显示更改系统全局区域（SGA）大小对性能的影响。
                     </p>
                     <p>遇到以下情况时，您可以运行绩效顾问：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>您希望解决特定区域中的问题，例如，确定给定SQL语句占用50％CPU时间的原因以及如何减少其资源消耗。您可以使用SQL Tuning Advisor。</p>
                        </li>
                        <li>
                           <p>您计划为系统添加内存。您可以使用Memory Advisor确定增加SGA或PGA（程序全局区域）对数据库性能的影响。</p>
                        </li>
                     </ul>
                     <p>您还可以从Performance Hub页面或通过ADDM的建议调用某些顾问程序。</p>
                     <p><a href="monitoring-and-tuning-the-database.html#GUID-8DE70F1D-E161-45D2-BE01-E9972883BCEC__CHDHDGJA" title="该表包含三行，每种类型的顾问对应一行。这两列是Advisor和Description。这三行描述了ADDM，SQL Advisors和Memory Advisors">表10-2</a>介绍了性能顾问。
                     </p>
                     <div class="tblformal" id="GUID-8DE70F1D-E161-45D2-BE01-E9972883BCEC__CHDHDGJA">
                        <p class="titleintable">表10-2绩效顾问</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="绩效顾问" width="100%" border="1" summary="This table contains three rows, one for each type of advisor. The two columns are Advisor and Description. The three rows describe ADDM, the SQL Advisors, and the Memory Advisors" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="33%" id="d45003e1694">顾问</th>
                                 <th align="left" valign="bottom" width="67%" id="d45003e1697">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d45003e1702" headers="d45003e1694 ">
                                    <p>自动数据库诊断监视器（ADDM）</p><a id="d45003e1705" class="indexterm-anchor"></a><a id="d45003e1709" class="indexterm-anchor"></a></td>
                                 <td align="left" valign="top" width="67%" headers="d45003e1702 d45003e1697 ">
                                    <p>ADDM使Oracle数据库可以诊断其自身的性能并确定如何解决任何已识别的问题。请参阅<span class="q">“ <a href="monitoring-and-tuning-the-database.html#GUID-4451EB5B-165F-4333-8941-489E5E5B3ECE" title="Oracle数据库包括一个名为自动数据库诊断监视器（ADDM）的自诊断引擎。ADDM使Oracle数据库可以诊断其自身的性能并确定如何解决已识别的问题。">性能自我诊断：自动数据库诊断监视器</a> ”</span>和<span class="q">“ <a href="monitoring-and-tuning-the-database.html#GUID-CC51D765-6777-4E0B-AD8C-F85CF5C017DE" title="有时会出现需要诊断和纠正的数据库性能问题。通常，ADDM会引起您注意这些问题，ADDM会分析不同时间段的数据。">使用ADDM诊断性能问题</a> ”。</span></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d45003e1731" headers="d45003e1694 ">
                                    <p>SQL Tuning Advisor</p><a id="d45003e1734" class="indexterm-anchor"></a><a id="d45003e1738" class="indexterm-anchor"></a></td>
                                 <td align="left" valign="top" width="67%" headers="d45003e1731 d45003e1697 ">
                                    <p>SQL Tuning Advisor分析一个或多个SQL语句，并提出改进性能的建议。该顾问程序在维护期间自动运行，但也可以手动运行。请参阅<span class="q">“ <a href="monitoring-and-tuning-the-database.html#GUID-F6635C5A-3EE2-4B7A-9A3F-0E2C1CE11026" title="SQL Tuning Advisor在系统维护窗口（时间段）期间自动运行，作为维护任务。">关于自动SQL调优顾问</a> ”</span>和<span class="q">“ <a href="monitoring-and-tuning-the-database.html#GUID-15FA1315-30FA-4FA9-BD2A-066392F9165A" title="使用SQL Tuning Advisor调优SQL语句。通常，您运行此顾问程序以响应建议使用它的ADDM性能结果。">运行SQL调优顾问”</a> 。</span></p>
                                    <p>有关数据库的维护时段（时间段）的详细信息，请参阅<a href="../refrn/DBA_AUTOTASK_WINDOW_CLIENTS.html#REFRN23597" target="_blank"><span><cite>Oracle数据库参考</cite></span></a> 。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d45003e1768" headers="d45003e1694 ">
                                    <p>记忆顾问</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p>记忆顾问</p>
                                       </li>
                                       <li>
                                          <p>SGA顾问</p>
                                       </li>
                                       <li>
                                          <p>缓冲区缓存顾问</p>
                                       </li>
                                       <li>
                                          <p>PGA顾问</p>
                                       </li>
                                    </ul><a id="d45003e1784" class="indexterm-anchor"></a><a id="d45003e1788" class="indexterm-anchor"></a><a id="d45003e1792" class="indexterm-anchor"></a><a id="d45003e1796" class="indexterm-anchor"></a><a id="d45003e1800" class="indexterm-anchor"></a> <a id="d45003e1805" class="indexterm-anchor"></a><a id="d45003e1809" class="indexterm-anchor"></a><a id="d45003e1813" class="indexterm-anchor"></a><a id="d45003e1818" class="indexterm-anchor"></a><a id="d45003e1822" class="indexterm-anchor"></a><a id="d45003e1826" class="indexterm-anchor"></a><a id="d45003e1830" class="indexterm-anchor"></a></td>
                                 <td align="left" valign="top" width="67%" headers="d45003e1768 d45003e1697 ">
                                    <p>Memory Advisors提供总内存目标设置，SGA和PGA目标设置或SGA组件大小设置的图形分析。您可以使用这些分析来调整数据库性能和假设计划。根据当前的内存管理模式，可以使用不同的内存顾问程序。</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p>如果启用了自动内存管理，则可以使用Memory Advisor。此顾问程序为实例的总内存目标提供建议。</p>
                                       </li>
                                       <li>
                                          <p>如果启用了自动共享内存管理，则可以使用SGA Advisor和PGA Advisor。</p>
                                       </li>
                                       <li>
                                          <p>如果启用了手动共享内存管理和自动PGA内存，则可以使用缓冲区高速缓存顾问和PGA Advisor。</p>
                                       </li>
                                    </ul>
                                    <p>有关<span class="q"><a href="monitoring-and-tuning-the-database.html#GUID-9EC479AF-E92A-4868-9D0E-156D7F7B64AB" title="This section includes information about memory advisors.">内存顾问</a></span>程序的详细信息，请参阅<span class="q">“</span> <span class="q"><a href="monitoring-and-tuning-the-database.html#GUID-9EC479AF-E92A-4868-9D0E-156D7F7B64AB" title="本节包含有关内存顾问的信息。">使用内存顾问优化内存使用情况</a></span> <span class="q">”</span> ，有关内存管理模式的详细信息，请参阅<span class="q">“ <a href="managing-the-oracle-instance.html#GUID-8BDFF6EB-2EDE-4307-9393-D159E2F1E84F" title="本节提供有关管理Oracle实例内存的背景信息，并包含有关如何调整Oracle实例的内存分配的说明。">管理内存</a> ”</span> 。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d45003e1864" headers="d45003e1694 ">
                                    <p>撤消顾问</p><a id="d45003e1867" class="indexterm-anchor"></a><a id="d45003e1871" class="indexterm-anchor"></a></td>
                                 <td align="left" valign="top" width="67%" headers="d45003e1864 d45003e1697 ">
                                    <p>Undo Advisor有助于正确调整撤消表空间的大小。Undo Advisor还可用于为任何Oracle闪回要求设置撤消保留期的低阈值。请参阅<span class="q">“ <a href="managing-database-storage-structures.html#GUID-5801E369-B27D-4DF0-B291-68C37D641C43" title="如果必须将撤消表空间更改为固定大小，请使用Oracle Enterprise Manager Database Express（EM Express）中的“撤消顾问”来帮助确定所需的最小大小。您还可以使用Undo Advisor设置最小撤消保留期。">使用撤消顾问计算最小撤消表空间大小</a> ”。</span></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d45003e1886" headers="d45003e1694 ">
                                    <p>优化器统计顾问</p><a id="d45003e1889" class="indexterm-anchor"></a><a id="d45003e1893" class="indexterm-anchor"></a></td>
                                 <td align="left" valign="top" width="67%" headers="d45003e1886 d45003e1697 ">
                                    <p>Optimizer Statistics Advisor是内置的诊断软件，可分析统计数据和统计相关任务的质量。顾问程序任务在维护窗口中自动运行，但您也可以按需运行它。然后，您可以查看顾问报告。如果顾问程序提出建议，那么在某些情况下，您可以运行系统生成的脚本来实现它们。</p>
                                    <p>有关使用Optimizer Statistics Advisor的信息，请参见“ <a href="../tgsql/optimizer-statistics-advisor.html#TGSQL-GUID-054F4B76-DD57-46EE-98EA-0FF04F49D1B3" target="_blank"><span><cite>Oracle数据库SQL调优指南”</cite></span></a></p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="infoboxnotealso" id="GUID-8DE70F1D-E161-45D2-BE01-E9972883BCEC__GUID-BF804897-EAB8-4E1E-AF7B-A8A327FBE0F8">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="../tdppt/introduction.html#TDPPT005" target="_blank"><span><cite>Oracle数据库2天+性能调优指南</cite></span></a></p>
                     </div>
                  </div>
               </div><a id="ADMQS1036"></a><div class="props_rev_3"><a id="GUID-DD26C6DE-F66F-4B04-9D6B-1491F2371EE9" name="GUID-DD26C6DE-F66F-4B04-9D6B-1491F2371EE9"></a><h4 id="ADMQS-GUID-DD26C6DE-F66F-4B04-9D6B-1491F2371EE9" class="sect4"><span class="enumeration_section">10.3.2</span>关于SQL Tuning Advisor</h4>
                  <div>
                     <div><span>SQL Tuning Advisor检查给定的SQL语句或一组SQL语句，并提供提高效率的建议。</span> 它可以提出各种类型的建议，例如创建<span class="bold">SQL配置文件</span> （使查询优化器能够为SQL语句创建最佳执行计划的信息集合），重构SQL语句以及刷新优化程序统计信息。SQL Tuning Advisor还允许您从过去选择备用执行计划（存储在AWR中）并将其与SQL语句一起使用，还可以推荐并行度配置文件。只需点击几下鼠标，EM Express即可接受并实施其中的许多建议。
                     </div>
                     <p>您可以使用SQL Tuning Advisor调整单个SQL语句或多个SQL语句。通常，您运行SQL Tuning Advisor以响应建议使用它的ADDM性能发现。您还可以在资源最密集的SQL语句和SQL工作负载上定期运行它。</p>
                     <p>调整多个SQL语句时，SQL Tuning Advisor无法识别SQL语句之间的相互依赖性。它通过识别单个SQL语句的问题来解决SQL性能问题，例如性能不佳的优化器计划或错误使用某些SQL结构。</p>
                     <p>您可以针对以下来源运行SQL Tuning Advisor：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>活动 - 性能中心的“活动”选项卡上显示的最后一小时内执行的资源最密集的SQL语句可能导致最近的性能问题。</p>
                        </li>
                        <li>
                           <p>当在“ <span class="bold">选择时间</span>段”字段中<span class="bold">选择</span>其中一个历史设置时，Performance Hub的“活动”选项卡上显示的最后一天，一周或一个月的历史SQL-A SQL语句。使用此选项可主动调整SQL语句。
                           </p>
                        </li>
                        <li>
                           <p>来自ADDM的历史SQL  - 您在分析Performance Hub的ADDM选项卡上的任务时发现的ADDM任务的资源密集型SQL语句。</p>
                        </li>
                        <li>
                           <p>SQL Tuning Advisor中的SQL语句 - 一种资源密集型SQL语句，在SQL Tuning Advisor中显示为调优任务。</p>
                        </li>
                        <li>
                           <p>SQL调优集（STS） - 您提供的一组SQL语句。可以从AWR快照或SQL工作负载捕获的SQL语句创建STS。</p>
                        </li>
                     </ul>
                     <div class="infoboxnote" id="GUID-DD26C6DE-F66F-4B04-9D6B-1491F2371EE9__GUID-48F02519-7971-46A8-97BB-EB10ED93CB91">
                        <p class="notep1">注意：</p>
                        <p>您无法使用EM Express创建STS。有关创建STS的信息，请参见“ <a href="../tgsql/managing-sql-tuning-sets.html#TGSQL516" target="_blank"><span><cite>Oracle数据库SQL调优指南”</cite></span></a> 。</p>
                     </div>
                     <div class="infoboxnotealso" id="GUID-DD26C6DE-F66F-4B04-9D6B-1491F2371EE9__GUID-3B6068E1-746E-4BC6-9BCA-421DC0F9AA4D">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>有关使用SQL Tuning Advisor调整SQL语句的详细信息，请参阅<a href="../tdppt/tuning-sql-statements.html#TDPPT161" target="_blank"><span><cite>“Oracle数据库2天+性能调优指南”</cite></span></a></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="monitoring-and-tuning-the-database.html#GUID-15FA1315-30FA-4FA9-BD2A-066392F9165A" title="使用SQL Tuning Advisor调优SQL语句。通常，您运行此顾问程序以响应建议使用它的ADDM性能结果。">运行SQL Tuning Advisor</a> ”</span></p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="ADMQS1037"></a><div class="props_rev_3"><a id="GUID-F6635C5A-3EE2-4B7A-9A3F-0E2C1CE11026" name="GUID-F6635C5A-3EE2-4B7A-9A3F-0E2C1CE11026"></a><h4 id="ADMQS-GUID-F6635C5A-3EE2-4B7A-9A3F-0E2C1CE11026" class="sect4"><span class="enumeration_section">10.3.3</span>关于自动SQL Tuning Advisor</h4>
                  <div>
                     <div><span>SQL Tuning Advisor在系统维护窗口（时间段）期间自动运行，作为维护任务。</span> 在每次自动运行期间，顾问程序在系统中选择高负载SQL查询，并生成有关如何调整这些查询的建议。
                     </div>
                     <p><a id="d45003e2040" class="indexterm-anchor"></a>可以将Automatic SQL Tuning Advisor配置为自动实现SQL配置文件建议。<span class="bold">SQL配置文件</span>包含特定于SQL语句的其他SQL统计信息，并使查询优化器能够在运行时生成明显更好的执行计划。如果启用自动实现，则顾问程序仅为那些性能改进至少为三倍的SQL语句创建SQL配置文件。其他类型的建议（例如创建新索引，刷新优化程序统计信息或重构SQL）只能手动实现。自动SQL调优顾问不会考虑使用DML语句进行调优。
                     </p>
                     <p>您可以查看自动SQL调优结果的摘要，以及有关SQL Tuning Advisor已处理的所有SQL语句的建议的详细报告。然后，您可以实施所选的建议。您还可以查看自动实施的建议。</p>
                     <p>如果需要，您可以禁用自动SQL调整顾问。</p>
                     <div class="infoboxnotealso" id="GUID-F6635C5A-3EE2-4B7A-9A3F-0E2C1CE11026__GUID-6FF7AD19-5000-4DBD-B37F-05534DD4AA8F">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="monitoring-and-tuning-the-database.html#GUID-5591790E-1E07-4D7A-853E-3DB0F3D57AF4" title="您可以使用EM Express跟踪自动SQL调整顾问的活动。">查看自动SQL调整结果</a> ”</span></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="monitoring-and-tuning-the-database.html#GUID-AB077F2A-033B-4881-A916-ADBA1B20A8AC" title="以下是您可能要为Automatic SQL Tuning Advisor执行的一些配置任务：">配置自动SQL调整顾问</a> ”</span></p>
                           </li>
                           <li>
                              <p><a href="../tdppt/tuning-sql-statements.html#TDPPT161" target="_blank"><span><cite>Oracle数据库2天+性能调优指南</cite></span></a></p>
                           </li>
                           <li>
                              <p><a href="../admin/managing-automated-database-maintenance-tasks.html#ADMIN0235" target="_blank"><span><cite>“Oracle数据库管理员指南”</cite></span></a> ，了解有关自动维护任务的更多信息</p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="ADMQS12255"></a><a id="ADMQS1038"></a><div class="props_rev_3"><a id="GUID-AB077F2A-033B-4881-A916-ADBA1B20A8AC" name="GUID-AB077F2A-033B-4881-A916-ADBA1B20A8AC"></a><h4 id="ADMQS-GUID-AB077F2A-033B-4881-A916-ADBA1B20A8AC" class="sect4"><span class="enumeration_section">10.3.4</span>配置自动SQL Tuning Advisor</h4>
                  <div>
                     <p>以下是您可能要为Automatic SQL Tuning Advisor执行的一些配置任务：</p>
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>启用SQL配置文件建议的自动实现。</p>
                              <p>默认情况下禁用自动实现。</p>
                           </li>
                           <li>
                              <p>更改一次运行SQL Tuning Advisor期间实现的最大SQL配置文件数</p>
                              <p>启用SQL配置文件建议的自动实现时，默认情况下，在运行SQL Tuning Advisor期间会实施20个SQL配置文件。</p>
                           </li>
                           <li>
                              <p>更改可以实现的最大SQL配置文件数。</p>
                              <p>启用SQL配置文件建议的自动实现时，默认情况下，SQL Tuning Advisor总共可以实现10000个SQL配置文件。</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-AB077F2A-033B-4881-A916-ADBA1B20A8AC__GUID-55AB1570-0346-4D98-A65B-89907CB4049B">配置自动SQL调整顾问：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>以具有<code class="codeph">EM_EXPRESS_ALL</code>角色的用户身份登录EM Express。</span><div>
                              <p>有关<code class="codeph">EM_EXPRESS_ALL</code>角色的详细信息，请参阅<span class="q">“ <a href="getting-started-with-database-administration.html#GUID-E01797C6-B9D5-4124-BF24-092CE93F34B9" title="作为数据库管理员，您可以使用SYS或SYSTEM用户帐户登录Oracle Enterprise Manager Database Express（EM Express）以执行管理和其他任务。非管理用户可能还希望登录EM Express。">为非管理用户授予对EM Express的访问权限</a> ”</span> 。
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>在EM Express中，从<span class="bold">Performance</span>菜单中选择<span class="bold">SQL Tuning Advisor</span> 。</span><div>
                              <p>将出现“SQL Tuning Advisor”页面，其中显示“自动”选项卡。</p>
                              <p>“自动”选项卡上显示的SQL调整任务是<code class="codeph">SYS_AUTO_SQL_TUNING_TASK</code> 。此调整任务由Automatic SQL Tuning Advisor每天创建。该任务包括自动SQL调优顾问为其生成调优建议的任何高负载SQL查询。
                              </p>
                              <div class="figure" id="GUID-AB077F2A-033B-4881-A916-ADBA1B20A8AC__GUID-FB0C27D8-E05C-4348-AB95-7A31384814C1"><img src="img/auto_sqlt_advisor.gif" width="613" alt="auto_sqlt_advisor.gif的描述如下" title="auto_sqlt_advisor.gif的描述如下" longdesc="img_text/auto_sqlt_advisor.html"><br><a href="img_text/auto_sqlt_advisor.html">auto_sqlt_advisor.gif插图的描述</a></div>
                              <!-- class="figure" -->
                           </div>
                        </li>
                        <li class="stepexpand"><span>单击“ <span class="bold">配置”</span>按钮。</span><div>
                              <p>将出现“SQL调整设置”对话框。</p>
                              <div class="figure" id="GUID-AB077F2A-033B-4881-A916-ADBA1B20A8AC__GUID-9FF57B52-C820-456B-A1B3-B92D4C9F58A9"><img src="img/sql_tuning_settings_dibox.gif" width="405" alt="下面是sql_tuning_settings_dibox.gif的描述" title="下面是sql_tuning_settings_dibox.gif的描述" longdesc="img_text/sql_tuning_settings_dibox.html"><br><a href="img_text/sql_tuning_settings_dibox.html">插图说明sql_tuning_settings_dibox.gif</a></div>
                              <!-- class="figure" -->
                           </div>
                        </li>
                        <li class="stepexpand"><span>（可选）要禁用“自动SQL调整顾问程序”，请删除“ <span class="bold">自动SQL调整”</span>选项的复选标记。</span><div>
                              <div class="infoboxnote" id="GUID-AB077F2A-033B-4881-A916-ADBA1B20A8AC__GUID-EBF55370-9A26-4725-BE0A-F212B1E0913E">
                                 <p class="notep1">注意：</p>
                                 <p>如果禁用“ <span class="bold">自动SQL调整”</span>选项，则“SQL调整设置”对话框中的任何其他选项都不起作用。
                                 </p>
                              </div>
                           </div>
                        </li>
                        <li class="stepexpand"><span>（可选）在“ <span class="bold">每个语句</span>的<span class="bold">时间限制（秒）”</span>字段中，输入SQL Tuning Advisor调整任何单个SQL语句所需的最长时间（以秒为单位）。</span></li>
                        <li class="stepexpand"><span>（可选）在“ <span class="bold">自动实现SQL配置文件”</span>字段中，输入复选标记以启用SQL配置文件的自动实现，或者删除复选标记以禁用SQL配置文件的自动实现。</span><div>
                              <div class="infoboxnote" id="GUID-AB077F2A-033B-4881-A916-ADBA1B20A8AC__GUID-9ECC2842-76D8-4BA6-903D-E19C74834ADE">
                                 <p class="notep1">注意：</p>
                                 <p>如果禁用“ <span class="bold">自动实现SQL配置文件”</span>选项，则<span class="bold">“每个执行实施</span>的<span class="bold">最大SQL配置文件”</span>和<span class="bold">“已实施的最大SQL配置文件”（总体）</span>选项的设置无效。
                                 </p>
                              </div>
                           </div>
                        </li>
                        <li class="stepexpand"><span>（可选）在“ <span class="bold">每次执行</span>的<span class="bold">最大SQL配置文件”</span>字段中，输入在SQL Tuning Advisor的每日运行期间可以实现的SQL配置文件的总数。默认值为20。</span></li>
                        <li class="stepexpand"><span>（可选）在<span class="bold">“已实施</span>的<span class="bold">最大SQL配置文件（总体）”</span>字段中，输入可以整体实施的SQL配置文件总数。默认值为10000。</span></li>
                        <li class="stepexpand"><span>单击<span class="bold">确定</span> 。</span><div>
                              <p>出现确认页面。</p>
                           </div>
                        </li>
                     </ol>
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-AB077F2A-033B-4881-A916-ADBA1B20A8AC__GUID-92BBCD17-0835-4F77-88E2-0A771E5949E6">
                           <p class="notep1">也可以看看：</p>
                           <p>有关SQL配置文件的详细信息，请参阅<span class="q">“ <a href="monitoring-and-tuning-the-database.html#GUID-F6635C5A-3EE2-4B7A-9A3F-0E2C1CE11026" title="SQL Tuning Advisor在系统维护窗口（时间段）期间自动运行，作为维护任务。">关于自动SQL调优顾问</a> ”</span></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADMQS12256"></a><a id="ADMQS1035"></a><div class="props_rev_3"><a id="GUID-5591790E-1E07-4D7A-853E-3DB0F3D57AF4" name="GUID-5591790E-1E07-4D7A-853E-3DB0F3D57AF4"></a><h4 id="ADMQS-GUID-5591790E-1E07-4D7A-853E-3DB0F3D57AF4" class="sect4"><span class="enumeration_section">10.3.5</span>查看自动SQL调整结果</h4>
                  <div>
                     <p>您可以使用EM Express跟踪自动SQL调整顾问的活动。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-5591790E-1E07-4D7A-853E-3DB0F3D57AF4__GUID-8FDAB3EF-2624-45B6-9F82-F7A2573E3331">要查看自动SQL调优结果：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>在EM Express中，从<span class="bold">Performance</span>菜单中选择<span class="bold">SQL Tuning Advisor</span> 。</span><div>
                              <p>将出现“SQL Tuning Advisor”页面，其中显示“自动”选项卡。</p>
                              <p>“自动”选项卡上显示的SQL调整任务是<code class="codeph">SYS_AUTO_SQL_TUNING_TASK</code> 。此调整任务由Automatic SQL Tuning Advisor每天创建。该任务包括自动SQL调优顾问为其生成调优建议的任何高负载SQL查询。
                              </p>
                              <div class="figure" id="GUID-5591790E-1E07-4D7A-853E-3DB0F3D57AF4__GUID-A0ACBB83-EBF8-459F-97A2-CDD15BAA8901"><img src="img/auto_sqlt_advisor.gif" width="613" alt="auto_sqlt_advisor.gif的描述如下" title="auto_sqlt_advisor.gif的描述如下" longdesc="img_text/auto_sqlt_advisor.html"><br><a href="img_text/auto_sqlt_advisor.html">auto_sqlt_advisor.gif插图的描述</a></div>
                              <!-- class="figure" -->
                              <p>如果您将Automatic SQL Tuning Advisor配置为自动实现SQL配置文件建议，则SQL Tuning Advisor页面的Automatic选项卡上的SQL Profile Potential DB Time Benefit图表将包含一个Implemented栏。单击“已实现”栏以查看自动实现的所有SQL配置文件。</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>在“Top SQL Statements”表中，选择包含要查看其调整建议的SQL语句的行，然后单击“ <span class="bold">查看详细信息”</span> 。</span><div>
                              <p>在此示例中，选择了SQL ID为<code class="codeph">ffy1dpzphwuud</code>的SELECT语句，并单击了“ <span class="bold">查看详细信息”</span> 。
                              </p>
                              <p>将显示“SQL的调优结果”页面，其中显示了所选SQL语句的调优建议的摘要。</p>
                              <div class="figure" id="GUID-5591790E-1E07-4D7A-853E-3DB0F3D57AF4__GUID-F1544C3A-5CF5-463E-A134-CA368FEA7ADE"><img src="img/sqlta_auto_start.gif" width="614" alt="下面是sqlta_auto_start.gif的描述" title="下面是sqlta_auto_start.gif的描述" longdesc="img_text/sqlta_auto_start.html"><br><a href="img_text/sqlta_auto_start.html">说明sqlta_auto_start.gif的说明</a></div>
                              <!-- class="figure" -->
                           </div>
                        </li>
                        <li class="stepexpand"><span>选择建议部分建议只应在页面上实施一个建议。</span><div>
                              <p>要实施建议，请在表中选择它，然后单击“ <span class="bold">实施”</span> 。系统将提示您提供实施建议所需的信息。
                              </p>
                              <p>为了帮助您确定要实施哪些（如果有）建议，您可能希望查看有关每个建议的更多详细信息。</p>
                              <p>要查看有关建议的更多详细信息，请在表中选择它，然后单击“ <span class="bold">查看详细信息”</span> 。在此示例中，选择了SQL配置文件建议。
                              </p>
                              <p>出现“建议详细信息”页面</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>本页的顶部描述了性能建议，该部分以推荐类型命名。此部分的一些可能名称是“陈旧或缺失统计信息”，“重组SQL”和“SQL配置文件”。本节概述了该建议。</span><div>
                              <div class="figure" id="GUID-5591790E-1E07-4D7A-853E-3DB0F3D57AF4__GUID-34A8CE81-F7A4-47D3-9511-E104C7CBE907"><img src="img/sqlta_auto_1_stmt_recomd.gif" width="614" alt="下面是sqlta_auto_1_stmt_recomd.gif的说明" title="下面是sqlta_auto_1_stmt_recomd.gif的说明" longdesc="img_text/sqlta_auto_1_stmt_recomd.html"><br><a href="img_text/sqlta_auto_1_stmt_recomd.html">说明sqlta_auto_1_stmt_recomd.gif的说明</a></div>
                              <!-- class="figure" -->
                              <p>页面底部的“比较说明计划”部分包含一些选项卡，使您可以查看所选语句的一个或多个执行计划。可以显示的四个选项卡是原始计划，具有调整成本的原始计划，使用SQL配置文件计划和备选计划选项卡。使用“图形”和“表格”按钮，您可以以图形或表格格式显示执行计划。在此示例中，执行计划以表格格式显示。</p>
                              <p>对于不包含可能更好的执行计划的建议，仅显示“原始计划”选项卡，并且选项卡上将显示原始计划的操作。</p>
                              <p>单击带有调整成本的原始计划选项卡时，执行计划步骤与原始计划步骤相同，但具有调整成本的原始计划步骤具有不同的步骤成本（如“ <span class="bold">操作成本”</span>列中所示）。
                              </p>
                              <p>如果单击“使用SQL配置文件计划”选项卡，则步骤与“原始计划”步骤不同，并且步骤具有不同的成本（如“ <span class="bold">操作成本”</span>列中所示）。
                              </p>
                              <p>当找不到原始计划的执行历史记录时，将显示“备用计划”按钮。在这种情况下，如果您知道SQL Tuning Advisor建议的备用计划优于原始计划，则可以为备用计划创建SQL计划基准，以便Oracle优化程序将在将来为该语句选择备用计划。</p>
                              <p>单击“建议详细信息”页面顶部的“ <span class="bold">实施”</span>按钮以实施建议。
                              </p>
                           </div>
                        </li>
                     </ol>
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-5591790E-1E07-4D7A-853E-3DB0F3D57AF4__GUID-DD518FAC-A3C1-4C93-8E59-19DA80EB5635">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p> <a href="../tdppt/monitoring-real-time-database-performance.html#TDPPT331" target="_blank"><span><cite>Oracle数据库2天+性能调优指南</cite></span></a></p>
                              </li>
                              <li>
                                 <p><span class="q">“ <a href="monitoring-and-tuning-the-database.html#GUID-F6635C5A-3EE2-4B7A-9A3F-0E2C1CE11026" title="SQL Tuning Advisor在系统维护窗口（时间段）期间自动运行，作为维护任务。">关于自动SQL调优顾问</a> ”</span></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADMQS12257"></a><a id="ADMQS1032"></a><div class="props_rev_3"><a id="GUID-15FA1315-30FA-4FA9-BD2A-066392F9165A" name="GUID-15FA1315-30FA-4FA9-BD2A-066392F9165A"></a><h4 id="ADMQS-GUID-15FA1315-30FA-4FA9-BD2A-066392F9165A" class="sect4"><span class="enumeration_section">10.3.6</span>运行SQL Tuning Advisor</h4>
                  <div>
                     <div><span>使用SQL Tuning Advisor调优SQL语句。通常，您运行此顾问程序以响应建议使用它的ADDM性能结果。</span> 您也可以手动启动SQL Tuning Advisor。一个原因是调整Automatic SQL Tuning Advisor未考虑进行调优的语句。
                     </div>
                     <div class="section">
                        <p>如<span class="q">“ <a href="monitoring-and-tuning-the-database.html#GUID-DD26C6DE-F66F-4B04-9D6B-1491F2371EE9" title="SQL Tuning Advisor检查给定的SQL语句或一组SQL语句，并提供提高效率的建议。">关于SQL Tuning Advisor</a> ”中</span>所述，SQL Tuning Advisor可以选择SQL语句来从多个源进行调优。以下方案假定您要调整活动最多的SQL语句：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-15FA1315-30FA-4FA9-BD2A-066392F9165A__GUID-0540147D-FB77-4350-AA28-EB65A5E1375E">要运行SQL Tuning Advisor：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>在EM Express中，从“ <span class="bold">性能”</span>菜单中选择“ <span class="bold">性能中心”</span> 。</span><div>
                              <p>将出现Performance Hub页面。</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>在“ <span class="bold">选择时间</span>段”字段中，选择所需的时间段。</span><div>
                              <p>在此示例中，已在“ <span class="bold">选择时间</span>段”字段中<span class="bold">选择“</span> <span class="bold">历史 - 全部”</span> 。
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>选择<span class="bold">活动</span> 。</span><div>
                              <p>出现“活动”选项卡。</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>在“活动”选项卡底部的表中，选择包含要调整的SQL语句的行，然后单击“ <span class="bold">调整SQL”</span>按钮。</span><div>
                              <p>在此示例中，选择表的第六行中的SQL语句。</p>
                              <div class="figure" id="GUID-15FA1315-30FA-4FA9-BD2A-066392F9165A__GUID-F8719FD4-F87A-4677-8714-E9E31FD17F3E"><img src="img/row6_sqlta.gif" width="611" alt="row6_sqlta.gif的描述如下" title="row6_sqlta.gif的描述如下" longdesc="img_text/row6_sqlta.html"><br><a href="img_text/row6_sqlta.html">插图描述row6_sqlta.gif</a></div>
                              <!-- class="figure" -->
                           </div>
                        </li>
                        <li class="stepexpand"><span>将出现Schedule SQL Tuning Advisor向导，其中显示Task Information页面。</span><div>
                              <div class="figure" id="GUID-15FA1315-30FA-4FA9-BD2A-066392F9165A__GUID-2F72C359-E737-40C6-84E1-83BF930421D0"><img src="img/row6_sqlta_sched1.gif" width="418" alt="下面是row6_sqlta_sched1.gif的描述" title="下面是row6_sqlta_sched1.gif的描述" longdesc="img_text/row6_sqlta_sched1.html"><br><a href="img_text/row6_sqlta_sched1.html">插图描述row6_sqlta_sched1.gif</a></div>
                              <!-- class="figure" -->
                              <p>在“任务信息”页面上，您可以接受系统生成的调整任务名称，也可以输入您为所选SQL语句创建的调优任务所选的名称。您还可以选择输入调整任务的说明。</p>
                              <p>单击向右箭头按钮。</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>出现“范围”页面。指定SQL Tuning Advisor应用于分析语句的总时间（默认值为Unlimited）和分析范围（Comprehensive或Limited）。</span><div>
                              <div class="figure" id="GUID-15FA1315-30FA-4FA9-BD2A-066392F9165A__GUID-40BCA1EB-2E5E-42B1-AD3B-E27C1C3B407F"><img src="img/row4_sqlta_sched2.gif" width="402" alt="下面是row4_sqlta_sched2.gif的描述" title="下面是row4_sqlta_sched2.gif的描述" longdesc="img_text/row4_sqlta_sched2.html"><br><a href="img_text/row4_sqlta_sched2.html">插图描述row4_sqlta_sched2.gif</a></div>
                              <!-- class="figure" -->
                              <p>单击向右箭头按钮。</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>出现“计划”页面。在此页面上，您可以安排SQL Tuning Advisor立即或稍后分析语句。如果您选择让SQL Tuning Advisor稍后分析该语句，请指定您希望SQL Tuning Advisor分析该语句的时间。</span><div>
                              <div class="figure" id="GUID-15FA1315-30FA-4FA9-BD2A-066392F9165A__GUID-0B296647-EA4D-4CD0-BFE4-AF264DF90AE6"><img src="img/row4_sqlta_sched3.gif" width="402" alt="下面是row4_sqlta_sched3.gif的描述" title="下面是row4_sqlta_sched3.gif的描述" longdesc="img_text/row4_sqlta_sched3.html"><br><a href="img_text/row4_sqlta_sched3.html">插图描述row4_sqlta_sched3.gif</a></div>
                              <!-- class="figure" -->
                              <p>单击“ <span class="bold">确定”</span>以开始SQL Tuning Advisor为所选SQL语句创建调优任务。
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>当SQL Tuning Advisor完成分析SQL语句时，“ <span class="bold">完成”</span> （复选标记）图标将显示在“SQL Tuning Advisor”页面的“ <span class="bold">状态”</span>列中。</span><div>
                              <p>选择包含SQL Tuning Advisor已完成分析的SQL语句的行，然后单击“ <span class="bold">查看结果”</span>以查看SQL Tuning Advisor对此SQL语句的建议。在此示例中，选择第一行。
                              </p>
                              <div class="figure" id="GUID-15FA1315-30FA-4FA9-BD2A-066392F9165A__GUID-831210A8-5197-4BCC-897C-72ED6CA41C2E"><img src="img/row6_sqlta_manual_tab.gif" width="613" alt="row6_sqlta_manual_tab.gif的描述如下" title="row6_sqlta_manual_tab.gif的描述如下" longdesc="img_text/row6_sqlta_manual_tab.html"><br><a href="img_text/row6_sqlta_manual_tab.html">插图描述row6_sqlta_manual_tab.gif</a></div>
                              <!-- class="figure" -->
                              <p>将显示SQL的调优结果：SQLID页面，其中显示了所选SQL语句的调优建议的摘要。</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>页面底部的Select Recommendation部分显示了调整SQL语句的建议。</span><div>
                              <p>如果页面上有多个建议，则只应实施其中一个。</p>
                              <p>要实施建议，请在表中选择它，然后单击“ <span class="bold">实施”</span> 。系统将提示您提供实施建议所需的信息。
                              </p>
                              <p>为了帮助您确定要实施哪些（如果有）建议，您可能希望查看有关每个建议的更多详细信息。</p>
                              <div class="infoboxnote" id="GUID-15FA1315-30FA-4FA9-BD2A-066392F9165A__GUID-95872FC1-A14E-4955-8C2A-08652605EA07">
                                 <p class="notep1">注意：</p>
                                 <p>某些SQL语句可能具有SQL配置文件建议，这意味着SQL Tuning Advisor建议为该语句创建SQL配置文件。当为语句推荐SQL配置文件时，“选择建议”部分在“类型”列中包含值为“ <span class="uicontrol bold">SQL配置文件”</span>的建议，以及“ <span class="uicontrol bold">使用SPA验证”</span>按钮。要验证为语句实现SQL配置文件的影响，请选择SQL配置文件建议，然后单击“ <span class="uicontrol bold">使用SPA验证”</span> 。</p>
                              </div>
                              <p>要查看有关建议的更多详细信息，请在表中选择它，然后单击“ <span class="bold">查看详细信息”</span> 。
                              </p>
                              <p>在此示例中， <span class="bold">通过搜索系统的实时和历史性能数据</span>建议<span class="bold">，找到了此语句</span>的<span class="bold">一些替代执行计划</span> 。
                              </p>
                              <div class="figure" id="GUID-15FA1315-30FA-4FA9-BD2A-066392F9165A__GUID-45080C98-37C4-4A9F-AB6E-366C6E7F58A6"><img src="img/row6_sqlta_tun_results.gif" width="613" alt="row6_sqlta_tun_results.gif的描述如下" title="row6_sqlta_tun_results.gif的描述如下" longdesc="img_text/row6_sqlta_tun_results.html"><br><a href="img_text/row6_sqlta_tun_results.html">插图描述row6_sqlta_tun_results.gif</a></div>
                              <!-- class="figure" -->
                              <p>出现“建议详细信息”页面</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>本页的顶部描述了性能建议，该部分以推荐类型命名。此部分的一些可能名称是“备用计划”，“陈旧或缺失统计”，“重组SQL”和“SQL配置文件”。本节概述了该建议。</span><div>
                              <div class="figure" id="GUID-15FA1315-30FA-4FA9-BD2A-066392F9165A__GUID-F5CA65F2-76EC-499B-B469-9970A2791DB9"><img src="img/row6_sqlta_tun_recs.gif" width="611" alt="下面是row6_sqlta_tun_recs.gif的描述" title="下面是row6_sqlta_tun_recs.gif的描述" longdesc="img_text/row6_sqlta_tun_recs.html"><br><a href="img_text/row6_sqlta_tun_recs.html">插图描述row6_sqlta_tun_recs.gif</a></div>
                              <!-- class="figure" -->
                              <p>页面底部的“比较说明计划”部分包含一个或多个选项卡，使您可以查看所选语句的一个或多个执行计划。可以显示的四个选项卡是原始计划，具有调整成本的原始计划，使用SQL配置文件计划和备选计划选项卡。使用表格和图形按钮，您可以以表格或图形格式显示执行计划。在此示例中，执行计划以表格格式显示。</p>
                              <p>对于不包含可能更好的执行计划的建议，仅显示“原始计划”选项卡，原始计划的操作将显示在“原始计划”子页面上。</p>
                              <p>在具有调整成本子页面的原始计划中，执行计划步骤与原始计划步骤相同，但具有调整成本的原始计划步骤具有不同的步骤成本（如“ <span class="bold">操作成本”</span>列中所示）。
                              </p>
                              <p>在计划使用SQL配置文件子页面上，步骤与原始计划步骤不同，步骤具有不同的成本（如“ <span class="bold">操作成本”</span>列中所示）。
                              </p>
                              <p>无法找到原始计划的执行历史记录时，可以使用“替代计划”子页面。在这种情况下，如果您知道SQL Tuning Advisor建议的备用计划优于原始计划，则可以单击“ <span class="bold">创建SQL计划基准”</span>按钮为备用计划创建SQL计划基准，以便Oracle优化程序将选择未来声明的替代计划。
                              </p>
                              <p>要实施建议，请单击浏览器中的“ <span class="bold">返回”</span>按钮，然后在“调整结果”页面上实施建议。
                              </p>
                           </div>
                        </li>
                     </ol>
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-15FA1315-30FA-4FA9-BD2A-066392F9165A__GUID-ED974ACF-0C5E-465F-B0BC-8D0F5841F3F8">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="q">“ <a href="monitoring-and-tuning-the-database.html#GUID-DD26C6DE-F66F-4B04-9D6B-1491F2371EE9" title="SQL Tuning Advisor检查给定的SQL语句或一组SQL语句，并提供提高效率的建议。">关于SQL Tuning Advisor</a> ”</span></p>
                              </li>
                              <li>
                                 <p><span class="q">“ <a href="monitoring-and-tuning-the-database.html#GUID-F6635C5A-3EE2-4B7A-9A3F-0E2C1CE11026" title="SQL Tuning Advisor在系统维护窗口（时间段）期间自动运行，作为维护任务。">关于自动SQL调优顾问</a> ”</span></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-0A4573CD-4DF7-44D0-BA7F-09B4F7A4C39E" name="GUID-0A4573CD-4DF7-44D0-BA7F-09B4F7A4C39E"></a><h4 id="ADMQS-GUID-0A4573CD-4DF7-44D0-BA7F-09B4F7A4C39E" class="sect4"><span class="enumeration_section">10.3.7</span>关于在备用数据库<span class="enumeration_section">上调</span>优SQL语句</h4>
                  <div>
                     <p>在Oracle Active Data Guard环境中，可以在主数据库上执行读/写查询，而在备用数据库上执行只读SQL查询。您可以使用EM Express中的SQL Tuning Advisor来调整备用数据库上昂贵的只读SQL查询。</p>
                     <p>使用SQL Tuning Advisor调整Oracle Active Data Guard工作负载时，整个SQL调整过程在备用数据库本地执行，同时保持备用数据库的只读性质。这是通过使用从备用数据库到主数据库的数据库链接来完成的，以将任何数据库状态更改（例如SQL配置文件实现）写入主数据库。通过Oracle Data Guard重做应用在主数据库上实现的建议应用于备用数据库。</p>
                     <div class="infoboxnote" id="GUID-0A4573CD-4DF7-44D0-BA7F-09B4F7A4C39E__GUID-78AB4E74-755D-47FB-923F-46AE91F52BAD">
                        <p class="notep1">注意：</p>
                        <p>您必须拥有Oracle Active Data Guard选项的许可证才能调整备用数据库上的SQL语句。</p>
                     </div>
                     <div class="infoboxnotealso" id="GUID-0A4573CD-4DF7-44D0-BA7F-09B4F7A4C39E__GUID-2C33EA44-D5AF-4765-8C82-3893E1919B98">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="monitoring-and-tuning-the-database.html#GUID-F65145B5-9E46-4552-A8B0-BFEF2D1C3D93" title="您可以使用EM Express中的SQL Tuning Advisor调整Oracle Active Data Guard环境中备用数据库的SQL语句。">在备用数据库上调整SQL语句</a> ”</span></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="monitoring-and-tuning-the-database.html#GUID-C30257DD-94B5-41C1-BBDC-0859161D7A34" title="您可以使用EM Express Performance Hub在Oracle Active Data Guard环境中查看备用数据库的性能统计信息。">关于在备用数据库上查看性能统计信息</a> ”</span></p>
                           </li>
                           <li>
                              <p><a href="../tgsql/sql-tuning-advisor.html#TGSQL-GUID-642877C5-40BE-4736-8302-17F849933038" target="_blank"><span><cite>“Oracle数据库SQL调优指南”</cite></span></a> ，介绍如何在远程数据库上调优SQL，包括在备用数据库上创建数据库链接到主数据库的示例</p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-F65145B5-9E46-4552-A8B0-BFEF2D1C3D93" name="GUID-F65145B5-9E46-4552-A8B0-BFEF2D1C3D93"></a><h5 id="ADMQS-GUID-F65145B5-9E46-4552-A8B0-BFEF2D1C3D93" class="sect5"><span class="enumeration_section">10.3.7.1</span>在备用数据库<span class="enumeration_section">上调</span>优SQL语句</h5>
                     <div>
                        <p>您可以使用EM Express中的SQL Tuning Advisor调整Oracle Active Data Guard环境中备用数据库的SQL语句。</p>
                        <div class="section">
                           <div class="infoboxnote" id="GUID-F65145B5-9E46-4552-A8B0-BFEF2D1C3D93__GUID-7D21E015-96A8-4B07-A3E2-C807E31A94F6">
                              <p class="notep1">注意：</p>
                              <p>您必须拥有Oracle Active Data Guard选项的许可证才能调整备用数据库上的SQL语句。</p>
                           </div>
                           <p>本主题假定您熟悉<span class="q">“ <a href="monitoring-and-tuning-the-database.html#GUID-15FA1315-30FA-4FA9-BD2A-066392F9165A" title="使用SQL Tuning Advisor调优SQL语句。通常，您运行此顾问程序以响应建议使用它的ADDM性能结果。">运行SQL Tuning Advisor</a> ”</span>主题中的SQL Tuning Advisor说明。
                           </p>
                           <p>要运行SQL Tuning Advisor以调整Oracle Active Data Guard环境中备用数据库的SQL语句，请执行以下操作：</p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>在EM Express中，从“ <span class="uicontrol bold">性能”</span>菜单中选择“ <span class="uicontrol bold">性能中心”</span> 。</span><div>将出现Performance Hub页面。“ <span class="uicontrol bold">选择时间</span>段”字段不可用。您只能调整在备用数据库上实时执行的那些SQL语句。
                              </div>
                           </li>
                           <li class="stepexpand"><span>选择<span class="uicontrol bold">活动</span> 。</span><div>出现“活动”选项卡。</div>
                           </li>
                           <li class="stepexpand"><span>在“活动”选项卡底部的表中，选择包含要调整的SQL语句的行，然后单击“ <span class="uicontrol bold">调整SQL”</span>按钮。</span><div>将出现SQL Tuning Advisor的“任务信息”页面。</div>
                           </li>
                           <li class="stepexpand"><span>在“任务信息”页面上，为这些字段提供值：</span><div>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p><span class="uicontrol bold">名称</span> ：接受系统生成的调整任务名称，或输入您为所选SQL语句创建的调整任务所选的名称。
                                       </p>
                                    </li>
                                    <li>
                                       <p><span class="uicontrol bold">描述</span> ：您还可以选择输入调整任务的描述。
                                       </p>
                                    </li>
                                    <li>
                                       <p><span class="uicontrol bold">源数据库链接</span> ：单击搜索按钮，将出现“选择数据库链接”对话框，其中列出了此备用数据库上存在的数据库链接，并指向主数据库。选择用于将SQL调优任务写入主数据库上的SQL调优表的数据库链接。然后单击<span class="uicontrol bold">确定</span> 。</p>
                                    </li>
                                 </ul>
                              </div>
                           </li>
                           <li class="stepexpand"><span>在“任务信息”页面上，单击向右箭头按钮。</span></li>
                           <li class="stepexpand"><span>出现SQL Tuning Advisor的Scope页面。指定SQL Tuning Advisor用于分析语句的总时间（默认值为<span class="uicontrol bold">Unlimited</span> ）和分析范围（ <span class="uicontrol bold">Comprehensive</span>或<span class="uicontrol bold">Limited</span> ）。</span><div>
                                 <p>单击“ <span class="uicontrol bold">确定”</span>以开始SQL Tuning Advisor为所选SQL语句创建调优任务。
                                 </p>
                                 <p>EM Express重定向到SQL Tuning Advisor页面，该页面显示SQL调优任务列表。</p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>当SQL Tuning Advisor完成分析SQL语句时，“ <span class="uicontrol bold">完成”</span> （复选标记）图标将显示在“SQL Tuning Advisor”页面的“ <span class="uicontrol bold">状态”</span>列中。</span><div>
                                 <p>选择包含SQL Tuning Advisor已完成分析的SQL语句的行，然后单击“ <span class="uicontrol bold">查看结果”</span>以查看SQL Tuning Advisor对此SQL语句的建议。
                                 </p>
                                 <p>将显示SQL的调优结果：SQLID页面，其中显示了所选SQL语句的调优建议的摘要。</p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>页面底部的Select Recommendation部分显示了调整SQL语句的建议。</span><div>
                                 <p>如果页面上有多个建议，则只应实施其中一个。</p>
                                 <p>要实施建议，请在表中选择它，然后单击“ <span class="uicontrol bold">实施”</span> 。系统将提示您提供实施建议所需的信息。请注意，建议是使用您在“任务信息”页面的“ <span class="uicontrol bold">源数据库链接”</span>字段中指定的数据库链接在主数据库上实现的。
                                 </p>
                                 <p>为了帮助您确定要实施哪些（如果有）建议，您可能希望查看有关每个建议的更多详细信息。</p>
                                 <div class="infoboxnote" id="GUID-F65145B5-9E46-4552-A8B0-BFEF2D1C3D93__GUID-C66100DE-CDB8-4C6C-84FC-0E579BF6F32B">
                                    <p class="notep1">注意：</p>
                                    <p>某些SQL语句可能具有SQL配置文件建议，这意味着SQL Tuning Advisor建议为该语句创建SQL配置文件。当为语句推荐SQL配置文件时，“选择建议”部分在“ <span class="uicontrol bold">类型”</span>列中包含值为“ <span class="uicontrol bold">SQL配置文件”</span>的建议，以及“ <span class="uicontrol bold">使用SPA验证”</span>按钮。“ <span class="uicontrol bold">使用SPA验证”</span>按钮在备用数据库中不可用，因为备用数据库是只读数据库。
                                    </p>
                                 </div>
                                 <p>要查看有关建议的更多详细信息，请在表中选择它，然后单击“ <span class="uicontrol bold">查看详细信息”</span> 。然后，您可以在“建议详细信息”页面上查看建议。
                                 </p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>在实施建议并且SQL Tuning Advisor使用备用数据库上的数据库链接将其写入主数据库之后，建议将通过Oracle Data Guard重做应用机制传播到备用数据库。</span><div>从现在开始，当在备用数据库上执行调优的SQL语句时，将使用使用SQL Tuning Advisor实现的新建议执行该语句。
                                 <div class="infoboxnotealso" id="GUID-F65145B5-9E46-4552-A8B0-BFEF2D1C3D93__GUID-AA1B5CA8-9776-4EDB-A62E-5F169BF73B2B">
                                    <p class="notep1">也可以看看：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p><span class="q">“ <a href="monitoring-and-tuning-the-database.html#GUID-0A4573CD-4DF7-44D0-BA7F-09B4F7A4C39E" title="在Oracle Active Data Guard环境中，可以在主数据库上执行读/写查询，而在备用数据库上执行只读SQL查询。您可以使用EM Express中的SQL Tuning Advisor来调整备用数据库上昂贵的只读SQL查询。">关于在备用数据库上调优SQL语句</a> ”</span></p>
                                       </li>
                                       <li>
                                          <p><span class="q">“ <a href="monitoring-and-tuning-the-database.html#GUID-C30257DD-94B5-41C1-BBDC-0859161D7A34" title="您可以使用EM Express Performance Hub在Oracle Active Data Guard环境中查看备用数据库的性能统计信息。">关于在备用数据库上查看性能统计信息</a> ”</span></p>
                                       </li>
                                       <li>
                                          <p><a href="../tgsql/sql-tuning-advisor.html#TGSQL-GUID-642877C5-40BE-4736-8302-17F849933038" target="_blank"><span><cite>“Oracle数据库SQL调优指南”</cite></span></a> ，介绍如何在远程数据库上调优SQL，包括在备用数据库上创建数据库链接到主数据库的示例</p>
                                       </li>
                                    </ul>
                                 </div>
                              </div>
                           </li>
                        </ol>
                     </div>
                  </div>
               </div><a id="ADMQS1034"></a><div class="props_rev_3"><a id="GUID-9EC479AF-E92A-4868-9D0E-156D7F7B64AB" name="GUID-9EC479AF-E92A-4868-9D0E-156D7F7B64AB"></a><h4 id="ADMQS-GUID-9EC479AF-E92A-4868-9D0E-156D7F7B64AB" class="sect4"><span class="enumeration_section">10.3.8</span>使用Memory Advisor优化内存使用</h4>
                  <div>
                     <p>本节包含有关内存顾问的信息。</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="monitoring-and-tuning-the-database.html#GUID-EF2702E2-F15E-4CCA-A1DE-B88228B437FD" title="充足的物理内存会对Oracle数据库的性能产生重大影响。">关于记忆顾问</a></p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-9EC479AF-E92A-4868-9D0E-156D7F7B64AB__GUID-E5B0F43A-B009-48B0-9A23-9F4A83C67C8A">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="managing-the-oracle-instance.html#GUID-8BDFF6EB-2EDE-4307-9393-D159E2F1E84F" title="本节提供有关管理Oracle实例内存的背景信息，并包含有关如何调整Oracle实例的内存分配的说明。">管理记忆</a> ”</span></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="monitoring-and-tuning-the-database.html#GUID-8DE70F1D-E161-45D2-BE01-E9972883BCEC" title="顾问是数据库管理的强大工具。他们就如何应对关键管理挑战提供具体建议，涉及广泛的领域，包括空间，性能和撤销管理。">关于顾问</a> ”</span></p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="ADMQS12321"></a><div class="props_rev_3"><a id="GUID-EF2702E2-F15E-4CCA-A1DE-B88228B437FD" name="GUID-EF2702E2-F15E-4CCA-A1DE-B88228B437FD"></a><h5 id="ADMQS-GUID-EF2702E2-F15E-4CCA-A1DE-B88228B437FD" class="sect5"><span class="enumeration_section">10.3.8.1</span>关于记忆顾问</h5>
                     <div>
                        <div><span>充足的物理内存会对Oracle数据库的性能产生重大影响。</span> 凭借其自动内存管理功能，Oracle数据库可以自动调整各种SGA和PGA组件之间的内存分配，以获得最佳性能。这些调整是在您分配给数据库的内存总量的边界内进行的。
                        </div>
                        <p>ADDM会定期评估数据库的性能，以确定性能问题。如果ADDM发现当前可用内存量不足并对性能产生负面影响，则可以建议您增加内存分配。您可以使用Memory Advisors选择新的内存分配。</p>
                        <p>此外，您可以使用Memory Advisors对以下内容执行假设分析：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>将物理内存添加到数据库的数据库性能优势</p>
                           </li>
                           <li>
                              <p>数据库性能对减少数据库可用物理内存的影响</p>
                           </li>
                        </ul>
                        <p>使用Memory Advisors，您可以获得内存大小调整建议，如下所示：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>如果启用了自动内存管理，则可以通过使用Oracle实例的不同目标内存大小设置来预测节省的时间百分比。</p>
                              <p>有关详细信息，请参阅<span class="q">“ <a href="managing-the-oracle-instance.html#GUID-6ADFFF05-1FFC-42CB-91FD-679A7B767C0D" title="在修改自动内存管理的内存设置之前，请使用Oracle Enterprise Manager Database Express（EM Express）中的Memory Advisor图来预测使用不同目标内存大小设置所节省的时间百分比。">修改内存设置 - 自动内存管理</a> ”</span> 。
                              </p>
                           </li>
                           <li>
                              <p>如果禁用了自动内存管理并启用了自动共享内存管理，则可以使用不同的总SGA大小预测节省的时间百分比。</p>
                              <p>有关详细信息，请参阅<span class="q">“ <a href="managing-the-oracle-instance.html#GUID-5C8A0A90-28C9-444A-A382-9D5445F0A7D9">修改内存设置 - 自动共享内存管理</a> ”</span> 。
                              </p>
                           </li>
                           <li>
                              <p>如果仅启用了手动共享内存管理，则可以使用不同的数据库缓存大小预测保存的读取百分比。</p>
                              <p>有关详细信息，请参阅<span class="q">“ <a href="managing-the-oracle-instance.html#GUID-0DBFE80D-826B-43FF-AE92-1C4B710807B2">修改内存设置 - 手动共享内存管理</a> ”</span> 。
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div>
            </div><a id="ADMQS104"></a><div class="props_rev_3"><a id="GUID-85B11186-F4AA-4D72-BB16-D9747FEE8C24" name="GUID-85B11186-F4AA-4D72-BB16-D9747FEE8C24"></a><h3 id="ADMQS-GUID-85B11186-F4AA-4D72-BB16-D9747FEE8C24" class="sect3"><span class="enumeration_section">10.4</span>监视和调优数据库：Oracle示例系列</h3>
               <div>
                  <p>Oracle示例（OBE）有一系列关于<span class="italic">Oracle Database 2 Day DBA</span>指南的系列文章。本OBE将引导您完成本节中的任务，并包含带注释的屏幕截图。
                  </p>
                  <div class="section">
                     <p>要查看监视和调整数据库OBE，请在Web浏览器中输入以下URL：</p>
                     <p><a href="https://apexapps.oracle.com/pls/apex/f?p=44785:24:::NO:24:P24_CONTENT_ID:16833" target="_blank"><code class="codeph">https://apexapps.oracle.com/pls/apex/f?p=44785:24:::NO:24:P24_CONTENT_ID:16833</code></a></p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html>