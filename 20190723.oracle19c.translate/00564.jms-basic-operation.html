<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>Oracle Java消息服务基本操作</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Advanced Queuing User&#39;s Guide "></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Advanced Queuing User&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="oracle-database-advanced-queuing.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-02-12T10:53:09-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96511-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="jms-introduction.html" title="Previous" type="text/html"></link>
      <link rel="next" href="jms-point-to-point.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Oracle® Database Advanced Queuing"></meta>
    <meta name="dcterms.isVersionOf" content="ADQUE"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="jms-introduction.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="jms-point-to-point.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">高级排队用户指南</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Oracle Java消息服务基本操作</li>
            </ol>
            <a id="GUID-5A5BF079-B078-46FD-A29E-41192DC459B0" name="GUID-5A5BF079-B078-46FD-A29E-41192DC459B0"></a><a id="ADQUE1200"></a>
            
            <h2 id="ADQUE-GUID-5A5BF079-B078-46FD-A29E-41192DC459B0" class="sect2"><span class="enumeration_chapter">12</span> Oracle Java消息服务基本操作</h2>
         </header>
         <div class="ind">
            <div>
               <p>以下主题描述了Oracle数据库高级队列（AQ）的基本操作<a href="glossary.html#GUID-3A98EBD4-296B-4BE8-82AE-5B42D07E9894"><span class="xrefglossterm">Java消息服务</span></a> （JMS）管理界面。
               </p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="jms-basic-operation.html#GUID-8B40F957-13A1-430A-BC95-344AE4E66F55">DBMS_AQIN上的EXECUTE特权</a></p>
                  </li>
                  <li>
                     <p><a href="jms-basic-operation.html#GUID-39A4A122-2DED-4CFC-B9F2-7757A2A900F1">注册ConnectionFactory</a></p>
                  </li>
                  <li>
                     <p><a href="jms-basic-operation.html#GUID-46B979D5-6D78-483D-AF29-B1D2DBAF9B19">取消注册队列/主题ConnectionFactory</a></p>
                  </li>
                  <li>
                     <p><a href="jms-basic-operation.html#GUID-584FEE3F-7C94-4EC4-8500-128D47BFDA74">获取QueueConnectionFactory或TopicConnectionFactory</a></p>
                  </li>
                  <li>
                     <p><a href="jms-basic-operation.html#GUID-2F381380-8A18-40CB-918B-70544AB610CA">在LDAP中获取队列或主题</a></p>
                  </li>
                  <li>
                     <p><a href="jms-basic-operation.html#GUID-CAE40CF5-1060-45AE-96A0-8FB7016D038E">创建非分片队列表</a></p>
                  </li>
                  <li>
                     <p><a href="jms-basic-operation.html#GUID-C5773BA3-31DD-4860-B894-579F97C4581D">创建队列</a></p>
                  </li>
                  <li>
                     <p><a href="jms-basic-operation.html#GUID-225E5EC1-1D99-432D-A031-5959005D953A">获取非分片队列表</a></p>
                  </li>
                  <li>
                     <p><a href="jms-basic-operation.html#GUID-E1BE8E40-4CB2-4366-B161-DCB4F6E62DC0">授予和撤销权限</a></p>
                  </li>
                  <li>
                     <p><a href="jms-basic-operation.html#GUID-3F0936CB-2532-4C08-A620-F2054BDD7160">管理目的地</a></p>
                  </li>
                  <li>
                     <p><a href="jms-basic-operation.html#GUID-5916ED2D-BF69-4033-8E5C-1CF00657966A">传播时间表</a></p>
                  </li>
               </ul>
            </div><a id="ADQUE2935"></a><div class="props_rev_3"><a id="GUID-8B40F957-13A1-430A-BC95-344AE4E66F55" name="GUID-8B40F957-13A1-430A-BC95-344AE4E66F55"></a><h3 id="ADQUE-GUID-8B40F957-13A1-430A-BC95-344AE4E66F55" class="sect3"><span class="enumeration_section">12.1</span> DBMS_AQIN上的EXECUTE特权</h3>
               <div>
                  <p>用户永远不应该直接调用<code class="codeph">DBMS_AQIN</code>包中的方法，但是他们确实需要<code class="codeph">DBMS_AQIN</code>的<code class="codeph">EXECUTE</code>特权。使用以下语法来完成此任务：</p><pre class="oac_no_warn" dir="ltr">向<span class="italic">用户</span>授予DBMS_AQIN执行<span class="italic">权限</span> ;</pre></div>
            </div><a id="ADQUE2936"></a><div class="props_rev_3"><a id="GUID-39A4A122-2DED-4CFC-B9F2-7757A2A900F1" name="GUID-39A4A122-2DED-4CFC-B9F2-7757A2A900F1"></a><h3 id="ADQUE-GUID-39A4A122-2DED-4CFC-B9F2-7757A2A900F1" class="sect3"><span class="enumeration_section">12.2</span>注册ConnectionFactory</h3>
               <div>
                  <p>您可以通过以下四种方式注册<a href="glossary.html#GUID-BA2DFFB2-5E44-4256-9DDD-D5B2AE0D81B9"><span class="xrefglossterm">ConnectionFactory</span></a> ：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="jms-basic-operation.html#GUID-B05B8B15-C664-4BC5-A134-BAFFAF4E65EC">使用JDBC连接参数通过数据库注册</a></p>
                     </li>
                     <li>
                        <p><a href="jms-basic-operation.html#GUID-63C09F7B-EC9F-4509-8B52-9C41FA220A7B">使用JDBC URL通过数据库注册</a></p>
                     </li>
                     <li>
                        <p><a href="jms-basic-operation.html#GUID-6ADF431B-AEEF-41FD-86DA-D0733E1BB751">使用JDBC连接参数通过LDAP注册</a></p>
                     </li>
                     <li>
                        <p><a href="jms-basic-operation.html#GUID-27A881D3-1755-4CF6-8288-607A8DE62C2B">使用JDBC URL通过LDAP注册</a></p>
                     </li>
                  </ul>
               </div><a id="ADQUE2938"></a><a id="ADQUE2937"></a><div class="props_rev_3"><a id="GUID-B05B8B15-C664-4BC5-A134-BAFFAF4E65EC" name="GUID-B05B8B15-C664-4BC5-A134-BAFFAF4E65EC"></a><h4 id="ADQUE-GUID-B05B8B15-C664-4BC5-A134-BAFFAF4E65EC" class="sect4"><span class="enumeration_section">12.2.1</span>使用JDBC连接参数通过数据库注册</h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public static int registerConnectionFactory（java.sql。连接连接，java.lang。String conn_name，java.lang。字符串主机名，java.lang。String oracle_sid，int portno，java.lang。字符串驱动程序，java.lang。String type）抛出JMSException</pre><p>此方法通过数据库将<code class="codeph">QueueConnectionFactory</code>或TopicConnectionFactory注册到具有JDBC连接参数的<a href="glossary.html#GUID-6BF3485C-E98F-4344-A7DE-64950BCCE160"><span class="xrefglossterm">轻量级目录访问协议</span></a> （LDAP）服务器。此方法是静态的，具有以下参数：</p>
                        <div class="tblformal" id="GUID-B05B8B15-C664-4BC5-A134-BAFFAF4E65EC__GUID-037FD542-5649-4D1F-861C-76675EE958FE">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="The first column is the name of a parameter. The second column describes it." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d78385e329">参数</th>
                                    <th align="left" valign="bottom" width="76%" id="d78385e332">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e337" headers="d78385e329 ">
                                       <p><code class="codeph">连接</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e337 d78385e332 ">
                                       <p>注册时使用的JDBC连接</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e345" headers="d78385e329 ">
                                       <p><code class="codeph">conn_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e345 d78385e332 ">
                                       <p>要注册的连接的名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e353" headers="d78385e329 ">
                                       <p><code class="codeph">主机名</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e353 d78385e332 ">
                                       <p>运行Oracle数据库高级队列的主机的名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e361" headers="d78385e329 ">
                                       <p><code class="codeph">ORACLE_SID</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e361 d78385e332 ">
                                       <p>Oracle系统标识符</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e369" headers="d78385e329 ">
                                       <p><code class="codeph">PORTNO</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e369 d78385e332 ">
                                       <p>端口号</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e377" headers="d78385e329 ">
                                       <p><code class="codeph">司机</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e377 d78385e332 ">
                                       <p>JDBC驱动程序类型</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e385" headers="d78385e329 ">
                                       <p><code class="codeph">类型</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e385 d78385e332 ">
                                       <p>连接工厂类型（ <code class="codeph">QUEUE</code>或<code class="codeph">TOPIC</code> ）</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>传递给<code class="codeph">registerConnectionFactory</code>的数据库连接必须被授予<code class="codeph">AQ_ADMINISTRATOR_ROLE</code> 。注册后，您可以使用<a href="glossary.html#GUID-73476CA0-7AD9-41B9-97E6-7A34F0D4161F"><span class="xrefglossterm">Java命名和目录接口</span></a> （JNDI）查找连接工厂。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-B05B8B15-C664-4BC5-A134-BAFFAF4E65EC__GUID-51558DD1-7D10-4FC6-987A-2FDD2B96C69E">
                        <p class="titleinexample">示例12-1使用JDBC连接参数注册数据库</p><pre class="oac_no_warn" dir="ltr">字符串网址; java.sql.connection db_conn; url =“jdbc：oracle：thin：@ sun-123：1521：db1”; db_conn = DriverManager.getConnection（url，“scott”，“tiger”）; AQjmsFactory.registerConnectionFactory（db_conn，“queue_conn1”，“sun-123”，“db1”，1521，“thin”，“queue”）;</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADQUE2940"></a><a id="ADQUE2939"></a><div class="props_rev_3"><a id="GUID-63C09F7B-EC9F-4509-8B52-9C41FA220A7B" name="GUID-63C09F7B-EC9F-4509-8B52-9C41FA220A7B"></a><h4 id="ADQUE-GUID-63C09F7B-EC9F-4509-8B52-9C41FA220A7B" class="sect4"><span class="enumeration_section">12.2.2</span>使用JDBC URL通过数据库注册</h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public static int registerConnectionFactory（java.sql。连接连接，java.lang。String conn_name，java.lang。字符串jdbc_url，java.util。属性信息，java.lang。String type）抛出JMSException</pre><p>此方法通过数据库向LDAP注册<code class="codeph">QueueConnectionFactory</code>或TopicConnectionFactory。它是静态的，具有以下参数：</p>
                        <div class="tblformal" id="GUID-63C09F7B-EC9F-4509-8B52-9C41FA220A7B__GUID-96F5E9A8-166D-4217-8D8A-D6F1A5FDE085">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="The first column is the name of a parameter. The second column describes it." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d78385e507">参数</th>
                                    <th align="left" valign="bottom" width="76%" id="d78385e510">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e515" headers="d78385e507 ">
                                       <p><code class="codeph">连接</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e515 d78385e510 ">
                                       <p>注册时使用的JDBC连接</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e523" headers="d78385e507 ">
                                       <p><code class="codeph">conn_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e523 d78385e510 ">
                                       <p>要注册的连接的名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e531" headers="d78385e507 ">
                                       <p><code class="codeph">jdbc_url</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e531 d78385e510 ">
                                       <p>要连接的URL</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e539" headers="d78385e507 ">
                                       <p><code class="codeph">信息</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e539 d78385e510 ">
                                       <p>属性信息</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e547" headers="d78385e507 ">
                                       <p><code class="codeph">PORTNO</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e547 d78385e510 ">
                                       <p>端口号</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e555" headers="d78385e507 ">
                                       <p><code class="codeph">类型</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e555 d78385e510 ">
                                       <p>连接工厂类型（ <code class="codeph">QUEUE</code>或<code class="codeph">TOPIC</code> ）</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p><a id="d78385e569" class="indexterm-anchor"></a><a id="d78385e573" class="indexterm-anchor"></a><a id="d78385e577" class="indexterm-anchor"></a>传递给<code class="codeph">registerConnectionFactory</code>的数据库连接必须被授予<code class="codeph">AQ_ADMINISTRATOR_ROLE</code> 。注册后，您可以使用JNDI查找连接工厂。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-63C09F7B-EC9F-4509-8B52-9C41FA220A7B__GUID-35985DC7-913A-4774-A20A-E2D41B916EB2">
                        <p class="titleinexample">示例12-2使用JDBC URL通过数据库注册</p><pre class="oac_no_warn" dir="ltr">字符串网址; java.sql.connection db_conn; url =“jdbc：oracle：thin：@ sun-123：1521：db1”; db_conn = DriverManager.getConnection（url，“scott”，“tiger”）; AQjmsFactory.registerConnectionFactory（db_conn，“topic_conn1”，url，null，“topic”）;</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADQUE2942"></a><a id="ADQUE2941"></a><div class="props_rev_3"><a id="GUID-6ADF431B-AEEF-41FD-86DA-D0733E1BB751" name="GUID-6ADF431B-AEEF-41FD-86DA-D0733E1BB751"></a><h4 id="ADQUE-GUID-6ADF431B-AEEF-41FD-86DA-D0733E1BB751" class="sect4"><span class="enumeration_section">12.2.3</span>使用JDBC连接参数通过LDAP注册</h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public static int registerConnectionFactory（java.util。Hashtable env，java.lang。String conn_name，java.lang。字符串主机名，java.lang。String oracle_sid，int portno，java.lang。字符串驱动程序，java.lang。String type）抛出JMSException</pre><p>此方法通过LDAP将JDBC连接参数注册到LDAP的<code class="codeph">QueueConnectionFactory</code>或TopicConnectionFactory。它是静态的，具有以下参数：</p>
                        <div class="tblformal" id="GUID-6ADF431B-AEEF-41FD-86DA-D0733E1BB751__GUID-F8836CD9-E623-4FC3-83F0-A60747EE606C">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="The first column is the name of a parameter. The second column describes it." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d78385e682">参数</th>
                                    <th align="left" valign="bottom" width="76%" id="d78385e685">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e690" headers="d78385e682 ">
                                       <p><code class="codeph">ENV</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e690 d78385e685 ">
                                       <p>LDAP连接的环境</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e698" headers="d78385e682 ">
                                       <p><code class="codeph">conn_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e698 d78385e685 ">
                                       <p>要注册的连接的名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e706" headers="d78385e682 ">
                                       <p><code class="codeph">主机名</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e706 d78385e685 ">
                                       <p>运行Oracle数据库高级队列的主机的名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e714" headers="d78385e682 ">
                                       <p><code class="codeph">ORACLE_SID</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e714 d78385e685 ">
                                       <p>Oracle系统标识符</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e722" headers="d78385e682 ">
                                       <p><code class="codeph">PORTNO</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e722 d78385e685 ">
                                       <p>端口号</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e730" headers="d78385e682 ">
                                       <p><code class="codeph">司机</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e730 d78385e685 ">
                                       <p>JDBC驱动程序类型</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e738" headers="d78385e682 ">
                                       <p><code class="codeph">类型</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e738 d78385e685 ">
                                       <p>连接工厂类型（ <code class="codeph">QUEUE</code>或<code class="codeph">TOPIC</code> ）</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p><a id="d78385e752" class="indexterm-anchor"></a><a id="d78385e756" class="indexterm-anchor"></a><a id="d78385e760" class="indexterm-anchor"></a>传递给<code class="codeph">registerConnectionFactory()</code>的哈希表必须包含建立与LDAP服务器的有效连接的所有信息。此外，连接必须具有对LDAP服务器中连接工厂条目的写访问权（这要求LDAP用户是数据库本身或被授予<code class="codeph">GLOBAL_AQ_USER_ROLE</code> ）。注册后，使用JNDI查找连接工厂。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-6ADF431B-AEEF-41FD-86DA-D0733E1BB751__GUID-D0B36527-243B-403D-91CD-7FD936D31C62">
                        <p class="titleinexample">示例12-3使用JDBC连接参数通过LDAP注册</p><pre class="oac_no_warn" dir="ltr">Hashtable env = new Hashtable（5,0.75f）; / *以下语句在哈希表env中设置：*服务提供程序包* ldap服务器的URL *数据库服务器的可分辨名称*身份验证方法（简单）* LDAP用户名* LDAP用户密码* / env.put （上下文。INITIAL_CONTEXT_FACTORY，“com.sun.jndi.ldap。LdapCtxFactory“）; env.put（Context。PROVIDER_URL，“ldap：// sun-456：389”）; env.put（“searchbase”，“cn = db1，cn = Oraclecontext，cn = acme，cn = com”）; env.put（上下文。SECURITY_AUTHENTICATION，“简单”）; env.put（上下文。SECURITY_PRINCIPAL，“cn = db1aqadmin，cn = acme，cn = com”）; env.put（上下文。SECURITY_CREDENTIALS，“欢迎”）; AQjmsFactory.registerConnectionFactory（env，“queue_conn1”，“sun-123”，“db1”，1521，“thin”，“queue”）;</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADQUE2944"></a><a id="ADQUE2943"></a><div class="props_rev_3"><a id="GUID-27A881D3-1755-4CF6-8288-607A8DE62C2B" name="GUID-27A881D3-1755-4CF6-8288-607A8DE62C2B"></a><h4 id="ADQUE-GUID-27A881D3-1755-4CF6-8288-607A8DE62C2B" class="sect4"><span class="enumeration_section">12.2.4</span>使用JDBC URL通过LDAP注册</h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public static int registerConnectionFactory（java.util。Hashtable env，java.lang。String conn_name，java.lang。字符串jdbc_url，java.util。属性信息，java.lang。String type）抛出JMSException</pre><p>此方法通过LDAP将JDBC连接参数注册到LDAP的<code class="codeph">QueueConnectionFactory</code>或TopicConnectionFactory。它是静态的，具有以下参数：</p>
                        <div class="tblformal" id="GUID-27A881D3-1755-4CF6-8288-607A8DE62C2B__GUID-5030AF3B-7578-4203-AE1F-BFE35ECB2574">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="The first column is the name of a parameter. The second column describes it." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d78385e868">参数</th>
                                    <th align="left" valign="bottom" width="76%" id="d78385e871">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e876" headers="d78385e868 ">
                                       <p><code class="codeph">ENV</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e876 d78385e871 ">
                                       <p>LDAP连接的环境</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e884" headers="d78385e868 ">
                                       <p><code class="codeph">conn_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e884 d78385e871 ">
                                       <p>要注册的连接的名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e892" headers="d78385e868 ">
                                       <p><code class="codeph">jdbc_url</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e892 d78385e871 ">
                                       <p>要连接的URL</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e900" headers="d78385e868 ">
                                       <p>信息</p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e900 d78385e871 ">
                                       <p>属性信息</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e907" headers="d78385e868 ">
                                       <p><code class="codeph">类型</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e907 d78385e871 ">
                                       <p>连接工厂类型（ <code class="codeph">QUEUE</code>或<code class="codeph">TOPIC</code> ）</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>传递给<code class="codeph">registerConnectionFactory()</code>的哈希表必须包含建立与LDAP服务器的有效连接的所有信息。此外，连接必须具有对LDAP服务器中连接工厂条目的写访问权（这要求LDAP用户是数据库本身或被授予<code class="codeph">GLOBAL_AQ_USER_ROLE)</code> 。注册后，使用JNDI查找连接工厂。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-27A881D3-1755-4CF6-8288-607A8DE62C2B__GUID-B85D2DA7-0D60-4E4E-BB54-C0DF68C3BDE4">
                        <p class="titleinexample">示例12-4使用JDBC URL通过LDAP注册</p><pre class="oac_no_warn" dir="ltr">字符串网址; Hashtable env = new Hashtable（5,0.75f）; / *以下语句在哈希表env中设置：*服务提供程序包* ldap服务器的URL *数据库服务器的可分辨名称*身份验证方法（简单）* LDAP用户名* LDAP用户密码* / env.put （上下文。INITIAL_CONTEXT_FACTORY，“com.sun.jndi.ldap。LdapCtxFactory“）; env.put（Context。PROVIDER_URL，“ldap：// sun-456：389”）; env.put（“searchbase”，“cn = db1，cn = Oraclecontext，cn = acme，cn = com”）; env.put（上下文。SECURITY_AUTHENTICATION，“简单”）; env.put（上下文。SECURITY_PRINCIPAL，“cn = db1aqadmin，cn = acme，cn = com”）; env.put（上下文。SECURITY_CREDENTIALS，“欢迎”）; url =“jdbc：oracle：thin：@ sun-123：1521：db1”; AQjmsFactory.registerConnectionFactory（env，“topic_conn1”，url，null，“topic”）;</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div><a id="ADQUE2945"></a><div class="props_rev_3"><a id="GUID-46B979D5-6D78-483D-AF29-B1D2DBAF9B19" name="GUID-46B979D5-6D78-483D-AF29-B1D2DBAF9B19"></a><h3 id="ADQUE-GUID-46B979D5-6D78-483D-AF29-B1D2DBAF9B19" class="sect3"><span class="enumeration_section">12.3</span>取消注册队列/主题ConnectionFactory</h3>
               <div>
                  <div class="section">
                     <p>您可以通过两种方式在LDAP中取消注册队列/主题<code class="codeph">ConnectionFactory</code> ：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="jms-basic-operation.html#GUID-54F0C563-919E-4AB6-B852-A9E06614732D">通过数据库取消注册</a></p>
                        </li>
                        <li>
                           <p><a href="jms-basic-operation.html#GUID-23ECDDCA-FC09-4536-B8CD-B8FD3559AB0B">通过LDAP取消注册</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div><a id="ADQUE2947"></a><a id="ADQUE2946"></a><div class="props_rev_3"><a id="GUID-54F0C563-919E-4AB6-B852-A9E06614732D" name="GUID-54F0C563-919E-4AB6-B852-A9E06614732D"></a><h4 id="ADQUE-GUID-54F0C563-919E-4AB6-B852-A9E06614732D" class="sect4"><span class="enumeration_section">12.3.1</span>通过数据库取消注册</h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public static int unregisterConnectionFactory（java.sql。连接连接，java.lang。String conn_name）抛出JMSException</pre><p>此方法在LDAP中取消注册<code class="codeph">QueueConnectionFactory</code>或<code class="codeph">TopicConnectionFactory</code> 。它是静态的，具有以下参数：</p>
                        <div class="tblformal" id="GUID-54F0C563-919E-4AB6-B852-A9E06614732D__GUID-2DC684E6-4461-45EF-8328-1F3B00991342">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="The first column is the name of a parameter. The second column describes it." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d78385e1092">参数</th>
                                    <th align="left" valign="bottom" width="76%" id="d78385e1095">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e1100" headers="d78385e1092 ">
                                       <p><code class="codeph">连接</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e1100 d78385e1095 ">
                                       <p>注册时使用的JDBC连接</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e1108" headers="d78385e1092 ">
                                       <p><code class="codeph">conn_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e1108 d78385e1095 ">
                                       <p>要注册的连接的名称</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>传递给<code class="codeph">unregisterConnectionFactory()</code>的数据库连接必须被授予<code class="codeph">AQ_ADMINISTRATOR_ROLE</code> 。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-54F0C563-919E-4AB6-B852-A9E06614732D__GUID-83092A18-4582-4898-93CB-A78EE1247E78">
                        <p class="titleinexample">示例12-5通过数据库取消注册</p><pre class="oac_no_warn" dir="ltr">字符串网址; java.sql.connection db_conn; url =“jdbc：oracle：thin：@ sun-123：1521：db1”; db_conn = DriverManager.getConnection（url，“scott”，“tiger”）; AQjmsFactory.unregisterConnectionFactory（db_conn，“topic_conn1”）;</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADQUE2949"></a><a id="ADQUE2948"></a><div class="props_rev_3"><a id="GUID-23ECDDCA-FC09-4536-B8CD-B8FD3559AB0B" name="GUID-23ECDDCA-FC09-4536-B8CD-B8FD3559AB0B"></a><h4 id="ADQUE-GUID-23ECDDCA-FC09-4536-B8CD-B8FD3559AB0B" class="sect4"><span class="enumeration_section">12.3.2</span>通过LDAP取消注册</h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public static int unregisterConnectionFactory（java.util。Hashtable env，java.lang。String conn_name）抛出JMSException</pre><p>此方法在LDAP中取消注册<code class="codeph">QueueConnectionFactory</code>或TopicConnectionFactory。它是静态的，具有以下参数：</p>
                        <div class="tblformal" id="GUID-23ECDDCA-FC09-4536-B8CD-B8FD3559AB0B__GUID-4B933D40-1058-48C6-AA64-EE836B1E1F47">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="The first column is the name of a parameter. The second column describes it." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d78385e1218">参数</th>
                                    <th align="left" valign="bottom" width="76%" id="d78385e1221">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e1226" headers="d78385e1218 ">
                                       <p><code class="codeph">ENV</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e1226 d78385e1221 ">
                                       <p>LDAP连接的环境</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e1234" headers="d78385e1218 ">
                                       <p><code class="codeph">conn_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e1234 d78385e1221 ">
                                       <p>要注册的连接的名称</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>传递给<code class="codeph">unregisterConnectionFactory()</code>的哈希表必须包含建立与LDAP服务器的有效连接的所有信息。此外，连接必须具有对LDAP服务器中连接工厂条目的写访问权（这要求LDAP用户是数据库本身或被授予<code class="codeph">GLOBAL_AQ_USER_ROLE</code> ）。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-23ECDDCA-FC09-4536-B8CD-B8FD3559AB0B__GUID-21DB945E-8024-4EE5-802B-AF30B03008F5">
                        <p class="titleinexample">示例12-6通过LDAP取消注册</p><pre class="oac_no_warn" dir="ltr">Hashtable env = new Hashtable（5,0.75f）; / *以下语句在哈希表env中设置：*服务提供程序包*数据库服务器的可分辨名称*身份验证方法（简单）* LDAP用户名* LDAP用户密码* / env.put（上下文。INITIAL_CONTEXT_FACTORY，“com.sun.jndi.ldap。LdapCtxFactory“）; env.put（Context。PROVIDER_URL，“ldap：// sun-456：389”）; env.put（“searchbase”，“cn = db1，cn = Oraclecontext，cn = acme，cn = com”）; env.put（上下文。SECURITY_AUTHENTICATION，“简单”）; env.put（上下文。SECURITY_PRINCIPAL，“cn = db1aqadmin，cn = acme，cn = com”）; env.put（上下文。SECURITY_CREDENTIALS，“欢迎”）; url =“jdbc：oracle：thin：@ sun-123：1521：db1”; AQjmsFactory.unregisterConnectionFactory（env，“queue_conn1”）;</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div><a id="ADQUE2950"></a><div class="props_rev_3"><a id="GUID-584FEE3F-7C94-4EC4-8500-128D47BFDA74" name="GUID-584FEE3F-7C94-4EC4-8500-128D47BFDA74"></a><h3 id="ADQUE-GUID-584FEE3F-7C94-4EC4-8500-128D47BFDA74" class="sect3"><span class="enumeration_section">12.4</span>获取QueueConnectionFactory或TopicConnectionFactory</h3>
               <div>
                  <div class="section">
                     <p>本节包含以下主题：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="jms-basic-operation.html#GUID-3C6BB70B-A655-4EDC-BA2B-11137CD64177">使用JDBC URL获取QueueConnectionFactory</a></p>
                        </li>
                        <li>
                           <p><a href="jms-basic-operation.html#GUID-5F834FCA-61D5-4530-9824-CDEFDD025E3B">使用JDBC连接参数获取QueueConnectionFactory</a></p>
                        </li>
                        <li>
                           <p><a href="jms-basic-operation.html#GUID-B7BE60B5-CA40-43AC-800F-AAF54B944454">使用JDBC URL获取TopicConnectionFactory</a></p>
                        </li>
                        <li>
                           <p><a href="jms-basic-operation.html#GUID-B80C7CFE-7821-4093-A49E-A6268D3988F4">使用JDBC连接参数获取TopicConnectionFactory</a></p>
                        </li>
                        <li>
                           <p><a href="jms-basic-operation.html#GUID-03035D18-B86B-49B1-A204-F985E27AF491">在LDAP中获取QueueConnectionFactory或TopicConnectionFactory</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div><a id="ADQUE2952"></a><a id="ADQUE2951"></a><div class="props_rev_3"><a id="GUID-3C6BB70B-A655-4EDC-BA2B-11137CD64177" name="GUID-3C6BB70B-A655-4EDC-BA2B-11137CD64177"></a><h4 id="ADQUE-GUID-3C6BB70B-A655-4EDC-BA2B-11137CD64177" class="sect4"><span class="enumeration_section">12.4.1</span>使用JDBC URL获取QueueConnectionFactory</h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public static javax.jms。QueueConnectionFactory getQueueConnectionFactory（java.lang。字符串jdbc_url，java.util。属性信息）抛出JMSException</pre><p>此方法获取带有JDBC URL的<code class="codeph">QueueConnectionFactory</code> 。它是静态的，具有以下参数：</p>
                        <div class="tblformal" id="GUID-3C6BB70B-A655-4EDC-BA2B-11137CD64177__GUID-A8B7D6CF-51C7-4FBD-9B9D-01FAACFA0559">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="The first column is the name of a parameter. The second column describes it." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d78385e1413">参数</th>
                                    <th align="left" valign="bottom" width="76%" id="d78385e1416">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e1421" headers="d78385e1413 ">
                                       <p><code class="codeph">jdbc_url</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e1421 d78385e1416 ">
                                       <p>要连接的URL</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e1429" headers="d78385e1413 ">
                                       <p>信息</p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e1429 d78385e1416 ">
                                       <p>属性信息</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-3C6BB70B-A655-4EDC-BA2B-11137CD64177__GUID-28D6670A-A1C5-46C0-BEE3-C01327AA8E0E">
                        <p class="titleinexample">示例12-7使用JDBC URL获取QueueConnectionFactory</p><pre class="oac_no_warn" dir="ltr">String url =“jdbc：oracle：oci10：internal / oracle”属性info = new Properties（）; QueueConnectionFactory qc_fact; info.put（“internal_logon”，“sysdba”）; qc_fact = AQjmsFactory.getQueueConnectionFactory（url，info）;</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADQUE2954"></a><a id="ADQUE2953"></a><div class="props_rev_3"><a id="GUID-5F834FCA-61D5-4530-9824-CDEFDD025E3B" name="GUID-5F834FCA-61D5-4530-9824-CDEFDD025E3B"></a><h4 id="ADQUE-GUID-5F834FCA-61D5-4530-9824-CDEFDD025E3B" class="sect4"><span class="enumeration_section">12.4.2</span>使用JDBC连接参数获取QueueConnectionFactory</h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public static javax.jms。QueueConnectionFactory getQueueConnectionFactory（java.lang。字符串主机名，java.lang。String oracle_sid，int portno，java.lang。字符串驱动程序）抛出JMSException</pre><p>此方法获取带有JDBC连接参数的<code class="codeph">QueueConnectionFactory</code> 。它是静态的，具有以下参数：</p>
                        <div class="tblformal" id="GUID-5F834FCA-61D5-4530-9824-CDEFDD025E3B__GUID-C147AAA7-BB51-4E87-AE40-9FF1D0F0E161">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="The first column is the name of a parameter. The second column describes it." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d78385e1512">参数</th>
                                    <th align="left" valign="bottom" width="76%" id="d78385e1515">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e1520" headers="d78385e1512 ">
                                       <p><code class="codeph">主机名</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e1520 d78385e1515 ">
                                       <p>运行Oracle数据库高级队列的主机的名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e1528" headers="d78385e1512 ">
                                       <p><code class="codeph">ORACLE_SID</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e1528 d78385e1515 ">
                                       <p>Oracle系统标识符</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e1536" headers="d78385e1512 ">
                                       <p><code class="codeph">PORTNO</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e1536 d78385e1515 ">
                                       <p>端口号</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e1544" headers="d78385e1512 ">
                                       <p><code class="codeph">司机</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e1544 d78385e1515 ">
                                       <p>JDBC驱动程序类型</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-5F834FCA-61D5-4530-9824-CDEFDD025E3B__GUID-81C1D1C2-0964-48F1-9FA9-659E6F3A65FC">
                        <p class="titleinexample">示例12-8使用JDBC连接参数获取QueueConnectionFactory</p><pre class="oac_no_warn" dir="ltr">String host =“dlsun”; String ora_sid =“rdbms10i”String driver =“thin”; int port = 5521; QueueConnectionFactory qc_fact; qc_fact = AQjmsFactory.getQueueConnectionFactory（host，ora_sid，port，driver）;</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADQUE2956"></a><a id="ADQUE2955"></a><div class="props_rev_3"><a id="GUID-B7BE60B5-CA40-43AC-800F-AAF54B944454" name="GUID-B7BE60B5-CA40-43AC-800F-AAF54B944454"></a><h4 id="ADQUE-GUID-B7BE60B5-CA40-43AC-800F-AAF54B944454" class="sect4"><span class="enumeration_section">12.4.3</span>使用JDBC URL获取TopicConnectionFactory</h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public static javax.jms。QueueConnectionFactory getQueueConnectionFactory（java.lang。字符串jdbc_url，java.util。属性信息）抛出JMSException</pre><p>此方法获取带有JDBC URL的<code class="codeph">TopicConnectionFactory</code> 。它是静态的，具有以下参数：</p>
                        <div class="tblformal" id="GUID-B7BE60B5-CA40-43AC-800F-AAF54B944454__GUID-C2D18EE2-0C45-4748-8873-F4D9BC0E1C08">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="The first column is the name of a parameter. The second column describes it." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d78385e1631">参数</th>
                                    <th align="left" valign="bottom" width="76%" id="d78385e1634">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e1639" headers="d78385e1631 ">
                                       <p><code class="codeph">jdbc_url</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e1639 d78385e1634 ">
                                       <p>要连接的URL</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e1647" headers="d78385e1631 ">
                                       <p>信息</p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e1647 d78385e1634 ">
                                       <p>属性信息</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-B7BE60B5-CA40-43AC-800F-AAF54B944454__GUID-42409D94-EBEC-406E-9692-060589366A17">
                        <p class="titleinexample">示例12-9使用JDBC URL获取TopicConnectionFactory</p><pre class="oac_no_warn" dir="ltr">String url =“jdbc：oracle：oci10：internal / oracle”属性info = new Properties（）; TopicConnectionFactory tc_fact; info.put（“internal_logon”，“sysdba”）; tc_fact = AQjmsFactory.getTopicConnectionFactory（url，info）;</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADQUE2958"></a><a id="ADQUE2957"></a><div class="props_rev_3"><a id="GUID-B80C7CFE-7821-4093-A49E-A6268D3988F4" name="GUID-B80C7CFE-7821-4093-A49E-A6268D3988F4"></a><h4 id="ADQUE-GUID-B80C7CFE-7821-4093-A49E-A6268D3988F4" class="sect4"><span class="enumeration_section">12.4.4</span>使用JDBC连接参数获取TopicConnectionFactory</h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public static javax.jms。TopicConnectionFactory getTopicConnectionFactory（java.lang。字符串主机名，java.lang。String oracle_sid，int portno，java.lang。字符串驱动程序）抛出JMSException</pre><p>此方法获取带有JDBC连接参数的<code class="codeph">TopicConnectionFactory</code> 。它是静态的，具有以下参数：</p>
                        <div class="tblformal" id="GUID-B80C7CFE-7821-4093-A49E-A6268D3988F4__GUID-A2F81B94-8C2B-4B58-9E0D-9D6DC3BF3922">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="The first column is the name of a parameter. The second column describes it." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d78385e1732">参数</th>
                                    <th align="left" valign="bottom" width="76%" id="d78385e1735">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e1740" headers="d78385e1732 ">
                                       <p><code class="codeph">主机名</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e1740 d78385e1735 ">
                                       <p>运行Oracle数据库高级队列的主机的名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e1748" headers="d78385e1732 ">
                                       <p><code class="codeph">ORACLE_SID</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e1748 d78385e1735 ">
                                       <p>Oracle系统标识符</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e1756" headers="d78385e1732 ">
                                       <p><code class="codeph">PORTNO</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e1756 d78385e1735 ">
                                       <p>端口号</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e1764" headers="d78385e1732 ">
                                       <p><code class="codeph">司机</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e1764 d78385e1735 ">
                                       <p>JDBC驱动程序类型</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-B80C7CFE-7821-4093-A49E-A6268D3988F4__GUID-19E0781F-6B26-49B5-90B2-3D3B79488D56">
                        <p class="titleinexample">示例12-10使用JDBC连接参数获取TopicConnectionFactory</p><pre class="oac_no_warn" dir="ltr">String host =“dlsun”; String ora_sid =“rdbms10i”String driver =“thin”; int port = 5521; TopicConnectionFactory tc_fact; tc_fact = AQjmsFactory.getTopicConnectionFactory（host，ora_sid，port，driver）;</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADQUE2960"></a><a id="ADQUE2959"></a><div class="props_rev_3"><a id="GUID-03035D18-B86B-49B1-A204-F985E27AF491" name="GUID-03035D18-B86B-49B1-A204-F985E27AF491"></a><h4 id="ADQUE-GUID-03035D18-B86B-49B1-A204-F985E27AF491" class="sect4"><span class="enumeration_section">12.4.5</span>在LDAP中获取QueueConnectionFactory或TopicConnectionFactory</h4>
                  <div>
                     <div class="section">
                        <p>此方法从LDAP获取<code class="codeph">QueueConnectionFactory</code>或<code class="codeph">TopicConnectionFactory</code> 。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-03035D18-B86B-49B1-A204-F985E27AF491__GUID-21D83AA0-16E9-4B1E-9E86-4BBBC5C943B0">
                        <p class="titleinexample">示例12-11在LDAP中获取QueueConnectionFactory或TopicConnectionFactory</p><pre class="oac_no_warn" dir="ltr">Hashtable env = new Hashtable（5,0.75f）; DirContext ctx; queueConnectionFactory qc_fact; / *以下语句在哈希表env中设置：*服务提供程序包* ldap服务器的URL *数据库服务器的可分辨名称*身份验证方法（简单）* LDAP用户名* LDAP用户密码* / env.put （上下文。INITIAL_CONTEXT_FACTORY，“com.sun.jndi.ldap。LdapCtxFactory“）; env.put（Context。PROVIDER_URL，“ldap：// sun-456：389”）; env.put（上下文。SECURITY_AUTHENTICATION，“简单”）; env.put（上下文。SECURITY_PRINCIPAL，“cn = db1aquser1，cn = acme，cn = com”）; env.put（上下文。SECURITY_CREDENTIALS，“欢迎”）; ctx = new InitialDirContext（env）; ctx =（DirContext）ctx.lookup（“cn = OracleDBConnections，cn = db1，cn = Oraclecontext，cn = acme，cn = com”）; qc_fact =（queueConnectionFactory）ctx.lookup（“cn = queue_conn1”）;</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div><a id="ADQUE2962"></a><a id="ADQUE2961"></a><div class="props_rev_3"><a id="GUID-2F381380-8A18-40CB-918B-70544AB610CA" name="GUID-2F381380-8A18-40CB-918B-70544AB610CA"></a><h3 id="ADQUE-GUID-2F381380-8A18-40CB-918B-70544AB610CA" class="sect3"><span class="enumeration_section">12.5</span>在LDAP中获取队列或主题</h3>
               <div>
                  <div class="section">
                     <p>此方法从LDAP获取队列或主题。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-2F381380-8A18-40CB-918B-70544AB610CA__GUID-F9D198B9-2CC2-41BF-A911-4208E8A46D06">
                     <p class="titleinexample">示例12-12在LDAP中获取队列或主题</p><pre class="oac_no_warn" dir="ltr">Hashtable env = new Hashtable（5,0.75f）; DirContext ctx;话题topic_1; / *以下语句在哈希表env中设置：*服务提供程序包* ldap服务器的URL *数据库服务器的可分辨名称*身份验证方法（简单）* LDAP用户名* LDAP用户密码* / env.put （上下文。INITIAL_CONTEXT_FACTORY，“com.sun.jndi.ldap。LdapCtxFactory“）; env.put（Context。PROVIDER_URL，“ldap：// sun-456：389”）; env.put（上下文。SECURITY_AUTHENTICATION，“简单”）; env.put（上下文。SECURITY_PRINCIPAL，“cn = db1aquser1，cn = acme，cn = com”）; env.put（上下文。SECURITY_CREDENTIALS，“欢迎”）; ctx = new InitialDirContext（env）; ctx =（DirContext）ctx.lookup（“cn = OracleDBQueues，cn = db1，cn = Oraclecontext，cn = acme，cn = com”）; topic_1 =（topic）ctx.lookup（“cn = topic_1”）;</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="ADQUE2964"></a><a id="ADQUE2963"></a><div class="props_rev_3"><a id="GUID-CAE40CF5-1060-45AE-96A0-8FB7016D038E" name="GUID-CAE40CF5-1060-45AE-96A0-8FB7016D038E"></a><h3 id="ADQUE-GUID-CAE40CF5-1060-45AE-96A0-8FB7016D038E" class="sect3"><span class="enumeration_section">12.6</span>创建非分片队列表</h3>
               <div>
                  <div class="section"><pre class="oac_no_warn" dir="ltr">公共神谕。AQ.AQQueueTable createQueueTable（java.lang。字符串所有者，java.lang。字符串名称，oracle。AQ.AQQueueTableProperty属性）抛出JMSException</pre><p>此方法创建一个<a href="glossary.html#GUID-45894F1F-4871-4A00-9171-2743821BAD3A"><span class="xrefglossterm">队列表</span></a> 。它具有以下参数：</p>
                     <div class="tblformal" id="GUID-CAE40CF5-1060-45AE-96A0-8FB7016D038E__GUID-6C77926E-2E43-4E59-96AD-7B18216DF47C">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="The first column is the name of a parameter. The second column describes it." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="24%" id="d78385e2020">参数</th>
                                 <th align="left" valign="bottom" width="76%" id="d78385e2023">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d78385e2028" headers="d78385e2020 ">
                                    <p><code class="codeph">所有者</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d78385e2028 d78385e2023 ">
                                    <p>队列表所有者（ <a href="glossary.html#GUID-CBE1EC43-DFD2-4701-B758-DCE2C98C277A"><span class="xrefglossterm">架构</span></a> ）</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d78385e2040" headers="d78385e2020 ">
                                    <p>名称</p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d78385e2040 d78385e2023 ">
                                    <p>队列表名称</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d78385e2047" headers="d78385e2020 ">
                                    <p>属性</p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d78385e2047 d78385e2023 ">
                                    <p>队列表属性</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>如果队列表用于保存队列，则队列表不能启用多消费者（默认）。如果队列表用于保存主题，则队列表必须启用多个消费者。</p>
                     <p><a href="glossary.html#GUID-6A19CAEE-F2E5-435D-B582-2ECB47FD4D06"><span class="xrefglossterm">CLOB</span></a> ， <a href="glossary.html#GUID-A62D4CF7-C903-40B3-89DC-0D6E4233D7C9"><span class="xrefglossterm">BLOB</span></a>和<a href="glossary.html#GUID-A8B4B248-A9A3-462C-A52B-517BCFAEE0ED"><span class="xrefglossterm">BFILE</span></a>对象是Oracle数据库高级队列<a href="glossary.html#GUID-5A1E34E2-9B71-497D-879B-E355EDCF7108"><span class="xrefglossterm">对象类型</span></a>加载的有效属性。但是，在Oracle8 <span class="italic">i</span>及更高版本中，只能使用Oracle数据库高级队列<a href="glossary.html#GUID-DE5B852F-823C-4DC8-B6BB-4825D688A00A"><span class="xrefglossterm">传播</span></a>来传播CLOB和BLOB。
                     </p>
                     <div class="infoboxnote" id="GUID-CAE40CF5-1060-45AE-96A0-8FB7016D038E__GUID-077D28C3-32A5-4316-938F-7682683C227D">
                        <p class="notep1">注意：</p>
                        <p>目前，只能通过<code class="codeph">DBMS_AQADM</code> PL / SQL API创建和删除JMS Sharded Queues。</p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-CAE40CF5-1060-45AE-96A0-8FB7016D038E__GUID-810C1B17-91C8-4A7E-B6D3-BECD5C085CBA">
                     <p class="titleinexample">示例12-13创建队列表</p><pre class="oac_no_warn" dir="ltr">QueueSession q_sess = null; AQQueueTable q_table = null; AQQueueTableProperty qt_prop = null; qt_prop = new AQQueueTableProperty（“SYS.AQ $ _JMS_BYTES_MESSAGE”）; q_table =（（AQjmsSession）q_sess）.createQueueTable（“boluser”，“bol_ship_queue_table”，qt_prop）;</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="ADQUE2967"></a><div class="props_rev_3"><a id="GUID-C5773BA3-31DD-4860-B894-579F97C4581D" name="GUID-C5773BA3-31DD-4860-B894-579F97C4581D"></a><h3 id="ADQUE-GUID-C5773BA3-31DD-4860-B894-579F97C4581D" class="sect3"><span class="enumeration_section">12.7</span>创建队列</h3>
               <div>
                  <p>本节包含以下主题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="jms-basic-operation.html#GUID-7FBF80A4-ABD8-47FD-AAC4-EF17C732A12E">创建点对点队列</a></p>
                     </li>
                     <li>
                        <p><a href="jms-basic-operation.html#GUID-B484260C-4585-4FD0-954F-7D32B80A3DB3">创建发布/订阅主题</a></p>
                     </li>
                     <li>
                        <p><a href="jms-basic-operation.html#GUID-FC3FA789-8ECD-4259-A9F5-AD3BB3A6F48E">为点对点队列和发布/订阅主题创建分片队列</a></p>
                     </li>
                  </ul>
               </div><a id="ADQUE2969"></a><a id="ADQUE2968"></a><div class="props_rev_3"><a id="GUID-7FBF80A4-ABD8-47FD-AAC4-EF17C732A12E" name="GUID-7FBF80A4-ABD8-47FD-AAC4-EF17C732A12E"></a><h4 id="ADQUE-GUID-7FBF80A4-ABD8-47FD-AAC4-EF17C732A12E" class="sect4"><span class="enumeration_section">12.7.1</span>创建点对点队列</h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public javax.jms。队列createQueue（oracle。AQ.AQQueueTable q_table，java.lang。String queue_name，oracle.jms。AQjmsDestinationProperty dest_property）抛出JMSException</pre><p>此方法在指定的队列表中创建队列。它具有以下参数：</p>
                        <div class="tblformal" id="GUID-7FBF80A4-ABD8-47FD-AAC4-EF17C732A12E__GUID-29378977-5F78-49AC-84C9-C2490ADD7DDE">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="The first column is the name of a parameter. The second column describes it." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d78385e2237">参数</th>
                                    <th align="left" valign="bottom" width="76%" id="d78385e2240">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e2245" headers="d78385e2237 ">
                                       <p><code class="codeph">q_table</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e2245 d78385e2240 ">
                                       <p>要在其中创建队列的队列表。队列表必须是单用户。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e2253" headers="d78385e2237 ">
                                       <p><code class="codeph">queue_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e2253 d78385e2240 ">
                                       <p>要创建的队列的名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e2261" headers="d78385e2237 ">
                                       <p><code class="codeph">dest_property</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e2261 d78385e2240 ">
                                       <p>队列属性</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>此方法特定于Oracle JMS。您不能使用标准Java <code class="codeph">javax.jms.Session</code>对象与它。相反，您必须将标准类型<code class="codeph">oracle.jms.转换为Oracle JMS具体类<code class="codeph">oracle.jms.AQjmsSession</code> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-7FBF80A4-ABD8-47FD-AAC4-EF17C732A12E__GUID-90EADA94-A112-4902-B126-86517492638D">
                        <p class="titleinexample">示例12-14创建点对点队列</p><pre class="oac_no_warn" dir="ltr">QueueSession q_sess; AQQueueTable q_table; AqjmsDestinationProperty dest_prop;队列队列; queue =（（AQjmsSession）q_sess）。createQueue（q_table，“jms_q1”，dest_prop）;</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADQUE2971"></a><a id="ADQUE2972"></a><a id="ADQUE2970"></a><div class="props_rev_3"><a id="GUID-B484260C-4585-4FD0-954F-7D32B80A3DB3" name="GUID-B484260C-4585-4FD0-954F-7D32B80A3DB3"></a><h4 id="ADQUE-GUID-B484260C-4585-4FD0-954F-7D32B80A3DB3" class="sect4"><span class="enumeration_section">12.7.2</span>创建发布/订阅主题</h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public javax.jms。主题createTopic（oracle。AQ.AQQueueTable q_table，java.lang。String topic_name，oracle.jms。AQjmsDestinationProperty dest_property）抛出JMSException</pre><p>此方法在<a href="glossary.html#GUID-C1099A1A-C20D-4C9C-AD73-BBF6BC8939B5"><span class="xrefglossterm">发布/订阅</span></a>模型中创建主题。它具有以下参数：</p>
                        <div class="tblformal" id="GUID-B484260C-4585-4FD0-954F-7D32B80A3DB3__GUID-F76FAA7F-BD5A-418E-AFD6-760CB01B9943">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="The first column is the name of a parameter. The second column describes it." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d78385e2353">参数</th>
                                    <th align="left" valign="bottom" width="76%" id="d78385e2356">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e2361" headers="d78385e2353 ">
                                       <p><code class="codeph">q_table</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e2361 d78385e2356 ">
                                       <p>要在其中创建队列的队列表。队列表必须是多个用户。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e2369" headers="d78385e2353 ">
                                       <p><code class="codeph">queue_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e2369 d78385e2356 ">
                                       <p>要创建的队列的名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e2377" headers="d78385e2353 ">
                                       <p><code class="codeph">dest_property</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e2377 d78385e2356 ">
                                       <p>队列属性</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>此方法特定于Oracle JMS。您不能使用标准Java <code class="codeph">javax.jms.Session</code>对象与它。相反，您必须将标准类型<code class="codeph">oracle.jms.转换为Oracle JMS具体类<code class="codeph">oracle.jms.AQjmsSession</code> 。
                        </p>
                        <p>在<a href="jms-basic-operation.html#GUID-B484260C-4585-4FD0-954F-7D32B80A3DB3__CHDIGCAE">例12-16中</a> ，如果由于库存不足而无法填写订单，则终止处理订单的交易。<code class="codeph">bookedorders</code>主题设置为<code class="codeph">max_retries</code> = 4和<code class="codeph">retry_delay</code> = 12小时。因此，如果订单未在两天内填满，则会将其移至异常队列。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-B484260C-4585-4FD0-954F-7D32B80A3DB3__GUID-EAD1FE4F-058B-493A-8C39-5FC4FB484189">
                        <p class="titleinexample">示例12-15创建发布/订阅主题</p><pre class="oac_no_warn" dir="ltr">TopicSession t_sess; AQQueueTable q_table; AqjmsDestinationProperty dest_prop;主题话题; topic =（（AQjmsSessa）t_sess）。createTopic（q_table，“jms_t1”，dest_prop）;</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-B484260C-4585-4FD0-954F-7D32B80A3DB3__CHDIGCAE">
                        <p class="titleinexample">示例12-16指定消息中的最大重试次数和最大延迟次数</p><pre class="oac_no_warn" dir="ltr">public BolOrder process_booked_order（TopicSession jms_session）{主题; TopicSubscriber tsubs; ObjectMessage obj_message; BolCustomer客户; BolOrder booked_order = null;字符串国家; int i = 0;尝试{/ *获取OE_bookedorders_topic的句柄* / topic =（（AQjmsSession）jms_session）.getTopic（“WS”，“WS_bookedorders_topic”）; / *创建本地订阅者 - 跟踪Western Region的消息* / tsubs = jms_session.createDurableSubscriber（topic，“SUBS1”，“Region ='Western'”，false）; / *等待主题中显示的消息* / obj_message =（ObjectMessage）tsubs.receive（10）; booked_order =（BolOrder）obj_message.getObject（）; customer = booked_order.getCustomer（）; country = customer.getCountry（）; if（country ==“US”）{jms_session.commit（）; } else {jms_session.rollback（）; booked_order = null; catch（JMSException ex）{System.out.println（“Exception”+ ex）;} return booked_order; }</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-FC3FA789-8ECD-4259-A9F5-AD3BB3A6F48E" name="GUID-FC3FA789-8ECD-4259-A9F5-AD3BB3A6F48E"></a><h4 id="ADQUE-GUID-FC3FA789-8ECD-4259-A9F5-AD3BB3A6F48E" class="sect4"><span class="enumeration_section">12.7.3</span>为点对点队列和发布/订阅主题创建分片队列</h4>
                  <div>
                     <div class="section">
                        <p>AQ JMS定义了一个新的API来创建和删除分片队列。JMS中没有alter queue API。签名如下：</p><pre class="oac_no_warn" dir="ltr">/ ** *创建JMS分片队列。它还在内部基于此名称创建相关的队列*对象（表，索引）。* * @param queueName要创建的队列的名称，格式为<span class="italic">schema</span> 。 <span class="italic">queueName</span> *（其中<span class="italic">schema</span> 。是可选的* @param isMultipleConsumer标志，用于指示队列是*多消费者队列还是单消费者队列* @return javax.jms。Destination * @throws JMSException如果无法创建队列* / public synchronized javax.jms。目标createJMSShardedQueue（String queueName，boolean isMultipleConsumer）抛出JMSException {return createJMSShardedQueue（queueName，isMultipleConsumer，null，0，null）; }</pre><pre class="oac_no_warn" dir="ltr">/ ** *创建JMS分片队列。它还在内部基于此名称创建相关的队列*对象（表，索引）。* * @param queueName要创建的队列的名称，格式为<span class="italic">schema</span> 。 <span class="italic">queueName</span> *（其中<span class="italic">schema</span> 。是可选的* @param isMultipleConsumer标志，用于指示队列是*多用户还是单用户队列* @param storageClause附加存储子句* @param maxRetries重试计数，然后在出队时跳过消息* @param评论队列的评论* @return javax.jms。Destination * @throws JMSException如果无法创建队列* / public Destination createJMSShardedQueue（java.lang。String queueName，boolean isMultipleConsumer，java.lang。String storageClause，int maxRetries，java.lang。String comment）抛出JMSException</pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="ADQUE2966"></a><a id="ADQUE2965"></a><div class="props_rev_3"><a id="GUID-225E5EC1-1D99-432D-A031-5959005D953A" name="GUID-225E5EC1-1D99-432D-A031-5959005D953A"></a><h3 id="ADQUE-GUID-225E5EC1-1D99-432D-A031-5959005D953A" class="sect3"><span class="enumeration_section">12.8</span>获取非分片队列表</h3>
               <div>
                  <div class="section"><pre class="oac_no_warn" dir="ltr">公共神谕。AQ.AQQueueTable getQueueTable（java.lang。字符串所有者，java.lang。String name）抛出JMSException</pre><p>此方法获取非分片队列的队列表。它具有以下参数：</p>
                     <div class="tblformal" id="GUID-225E5EC1-1D99-432D-A031-5959005D953A__GUID-F9E22AEA-2E6B-4F10-A39C-6C40DBB860A2">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="The first column is the name of a parameter. The second column describes it." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="24%" id="d78385e2568">参数</th>
                                 <th align="left" valign="bottom" width="76%" id="d78385e2571">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d78385e2576" headers="d78385e2568 ">
                                    <p><code class="codeph">所有者</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d78385e2576 d78385e2571 ">
                                    <p>队列表所有者（ <a href="glossary.html#GUID-CBE1EC43-DFD2-4701-B758-DCE2C98C277A"><span class="xrefglossterm">架构</span></a> ）</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d78385e2588" headers="d78385e2568 ">
                                    <p>名称</p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d78385e2588 d78385e2571 ">
                                    <p>队列表名称</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>如果打开连接的调用方不是队列表的所有者，则调用方必须具有<a href="glossary.html#GUID-BC8D60E8-953A-4C6C-8163-F7AE187B768B"><span class="xrefglossterm">队列表</span></a>中队列/主题的Oracle数据库高级<a href="glossary.html#GUID-BC8D60E8-953A-4C6C-8163-F7AE187B768B"><span class="xrefglossterm">队</span></a>列入<a href="glossary.html#GUID-B21E60F7-4BFA-42A2-9A8F-B781C2A55ED9"><span class="xrefglossterm">队</span></a> / <a href="glossary.html#GUID-BC8D60E8-953A-4C6C-8163-F7AE187B768B"><span class="xrefglossterm">出</span></a>列队列权限。否则，不返回队列表。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-225E5EC1-1D99-432D-A031-5959005D953A__GUID-8EC710C3-4DA7-48EF-AC2B-8ED34FCE599B">
                     <p class="titleinexample">示例12-17获取队列表</p><pre class="oac_no_warn" dir="ltr">QueueSession q_sess; AQQueueTable q_table; q_table =（（AQjmsSession）q_sess）.getQueueTable（“boluser”，“bol_ship_queue_table”）;</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="ADQUE2973"></a><div class="props_rev_3"><a id="GUID-E1BE8E40-4CB2-4366-B161-DCB4F6E62DC0" name="GUID-E1BE8E40-4CB2-4366-B161-DCB4F6E62DC0"></a><h3 id="ADQUE-GUID-E1BE8E40-4CB2-4366-B161-DCB4F6E62DC0" class="sect3"><span class="enumeration_section">12.9</span>授予和撤销权限</h3>
               <div>
                  <p>本节包含以下主题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="jms-basic-operation.html#GUID-28C0E4D2-57DC-40F4-82A7-1342DCC0E77D">授予Oracle数据库高级排队系统权限</a></p>
                     </li>
                     <li>
                        <p><a href="jms-basic-operation.html#GUID-6FCA0DB4-8716-4780-8F64-B02DFE35A7F1">撤销Oracle数据库高级排队系统权限</a></p>
                     </li>
                     <li>
                        <p><a href="jms-basic-operation.html#GUID-831E4DC7-9EBC-446E-BC55-B5C39C56ED6A">授予发布/订阅主题权限</a></p>
                     </li>
                     <li>
                        <p><a href="jms-basic-operation.html#GUID-54BD1CAE-E66F-4E1C-8398-22FDEB3F6166">撤消发布/订阅主题权限</a></p>
                     </li>
                     <li>
                        <p><a href="jms-basic-operation.html#GUID-FDD257B4-ACBA-43E7-940C-E515F6946081">授予点对点队列权限</a></p>
                     </li>
                     <li>
                        <p><a href="jms-basic-operation.html#GUID-CF07D682-06AF-4F6D-958C-81415605E540">撤销点对点队列权限</a></p>
                     </li>
                  </ul>
               </div><a id="ADQUE2975"></a><a id="ADQUE2974"></a><div class="props_rev_3"><a id="GUID-28C0E4D2-57DC-40F4-82A7-1342DCC0E77D" name="GUID-28C0E4D2-57DC-40F4-82A7-1342DCC0E77D"></a><h4 id="ADQUE-GUID-28C0E4D2-57DC-40F4-82A7-1342DCC0E77D" class="sect4"><span class="enumeration_section">12.9.1</span>授予Oracle数据库高级排队系统权限</h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public void grantSystemPrivilege（java.lang。字符串特权，java.lang。String grantee，boolean admin_option）抛出JMSException</pre><p>此方法为用户或角色授予Oracle数据库高级队列系统特权。</p>
                        <div class="tblformal" id="GUID-28C0E4D2-57DC-40F4-82A7-1342DCC0E77D__GUID-B67A7907-7484-4B4C-8235-4FE9498682F3">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="The first column is the name of a parameter. The second column describes it." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d78385e2769">参数</th>
                                    <th align="left" valign="bottom" width="76%" id="d78385e2772">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e2777" headers="d78385e2769 ">
                                       <p><code class="codeph">特权</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e2777 d78385e2772 ">
                                       <p><code class="codeph">ENQUEUE_ANY</code> ， <code class="codeph">DEQUEUE_ANY</code>或<code class="codeph">MANAGE_ANY</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e2792" headers="d78385e2769 ">
                                       <p><code class="codeph">受让人</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e2792 d78385e2772 ">
                                       <p>受赠人（用户，角色或<code class="codeph">PUBLIC</code> ）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e2803" headers="d78385e2769 ">
                                       <p><code class="codeph">ADMIN_OPTION</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e2803 d78385e2772 ">
                                       <p>如果将此设置为true，则允许被授权者使用此过程将系统特权授予其他用户或角色</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>最初只有<code class="codeph">SYS</code>和<code class="codeph">SYSTEM</code>才能成功使用此过程。允许授予<code class="codeph">ENQUEUE_ANY</code>权限的用户将消息排入数据库中的任何队列。允许授予<code class="codeph">DEQUEUE_ANY</code>权限的用户从数据库中的任何队列中出列消息。允许授予<code class="codeph">MANAGE_ANY</code>权限的用户对数据库中的任何模式运行<code class="codeph">DBMS_AQADM</code>调用。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-28C0E4D2-57DC-40F4-82A7-1342DCC0E77D__GUID-BF561370-2569-40A1-AAC1-AD3414CFAE66">
                        <p class="titleinexample">示例12-18授予Oracle数据库高级排队系统权限</p><pre class="oac_no_warn" dir="ltr">TopicSession t_sess; （（AQjmsSession）t_sess）.grantSystemPrivilege（“ENQUEUE_ANY”，“scott”，false）;</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADQUE2977"></a><a id="ADQUE2976"></a><div class="props_rev_3"><a id="GUID-6FCA0DB4-8716-4780-8F64-B02DFE35A7F1" name="GUID-6FCA0DB4-8716-4780-8F64-B02DFE35A7F1"></a><h4 id="ADQUE-GUID-6FCA0DB4-8716-4780-8F64-B02DFE35A7F1" class="sect4"><span class="enumeration_section">12.9.2</span>撤销Oracle数据库高级排队系统权限</h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public void revokeSystemPrivilege（java.lang。字符串特权，java.lang。String grantee）抛出JMSException</pre><p>此方法从用户或角色撤消Oracle数据库高级队列系统特权。它具有以下参数：</p>
                        <div class="tblformal" id="GUID-6FCA0DB4-8716-4780-8F64-B02DFE35A7F1__GUID-41E5FE8D-1357-4D5B-A3B1-384834A69DA9">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="The first column is the name of a parameter. The second column describes it." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d78385e2919">参数</th>
                                    <th align="left" valign="bottom" width="76%" id="d78385e2922">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e2927" headers="d78385e2919 ">
                                       <p><code class="codeph">特权</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e2927 d78385e2922 ">
                                       <p><code class="codeph">ENQUEUE_ANY</code> ， <code class="codeph">DEQUEUE_ANY</code>或<code class="codeph">MANAGE_ANY</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e2942" headers="d78385e2919 ">
                                       <p><code class="codeph">受让人</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e2942 d78385e2922 ">
                                       <p>受赠人（用户，角色或<code class="codeph">PUBLIC</code> ）</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>允许授予<code class="codeph">ENQUEUE_ANY</code>权限的用户将消息排入数据库中的任何队列。允许授予<code class="codeph">DEQUEUE_ANY</code>权限的用户从数据库中的任何队列中出列消息。允许授予<code class="codeph">MANAGE_ANY</code>权限的用户对数据库中的任何模式运行<code class="codeph">DBMS_AQADM</code>调用。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-6FCA0DB4-8716-4780-8F64-B02DFE35A7F1__GUID-4ADD89C9-6599-4B6D-BFFF-7E614D2B9FA0">
                        <p class="titleinexample">示例12-19撤消Oracle数据库高级排队系统权限</p><pre class="oac_no_warn" dir="ltr">TopicSession t_sess; （（AQjmsSession）t_sess）.revokeSystemPrivilege（“ENQUEUE_ANY”，“scott”）;</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADQUE2979"></a><a id="ADQUE2978"></a><div class="props_rev_3"><a id="GUID-831E4DC7-9EBC-446E-BC55-B5C39C56ED6A" name="GUID-831E4DC7-9EBC-446E-BC55-B5C39C56ED6A"></a><h4 id="ADQUE-GUID-831E4DC7-9EBC-446E-BC55-B5C39C56ED6A" class="sect4"><span class="enumeration_section">12.9.3</span>授予发布/订阅主题权限</h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public void grantTopicPrivilege（javax.jms。会话会话，java.lang。字符串特权，java.lang。String grantee，boolean grant_option）抛出JMSException</pre><p>此方法在发布/订阅模型中授予主题权限。最初，只有队列表所有者才能使用此过程授予该主题的权限。它具有以下参数：</p>
                        <div class="tblformal" id="GUID-831E4DC7-9EBC-446E-BC55-B5C39C56ED6A__GUID-BAA7C31A-D222-402C-88F0-F74D686737A3">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="The first column is the name of a parameter. The second column describes it." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d78385e3045">参数</th>
                                    <th align="left" valign="bottom" width="76%" id="d78385e3048">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e3053" headers="d78385e3045 ">
                                       <p><code class="codeph">会议</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e3053 d78385e3048 ">
                                       <p><a href="glossary.html#GUID-F7331CE7-BF82-4FA0-81B3-42D454068F03"><span class="xrefglossterm">JMS会话</span></a></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e3063" headers="d78385e3045 ">
                                       <p><code class="codeph">特权</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e3063 d78385e3048 ">
                                       <p><code class="codeph">ENQUEUE</code> ， <code class="codeph">DEQUEUE,</code>或<code class="codeph">ALL</code> （ <code class="codeph">ALL</code>表示两者。）
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e3082" headers="d78385e3045 ">
                                       <p><code class="codeph">受让人</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e3082 d78385e3048 ">
                                       <p>受赠人（用户，角色或<code class="codeph">PUBLIC</code> ）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e3093" headers="d78385e3045 ">
                                       <p><code class="codeph">grant_option</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e3093 d78385e3048 ">
                                       <p>如果将此设置为true，则允许被授权者使用此过程将系统特权授予其他用户或角色</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-831E4DC7-9EBC-446E-BC55-B5C39C56ED6A__GUID-FE472CD9-F2B8-4C42-A692-6C1FBEAF4DE8">
                        <p class="titleinexample">示例12-20授予发布/订阅主题权限</p><pre class="oac_no_warn" dir="ltr">TopicSession t_sess;主题话题; （（AQjmsDestination）主题）.grantTopicPrivilege（t_sess，“ENQUEUE”，“scott”，false）;</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADQUE2981"></a><a id="ADQUE2980"></a><div class="props_rev_3"><a id="GUID-54BD1CAE-E66F-4E1C-8398-22FDEB3F6166" name="GUID-54BD1CAE-E66F-4E1C-8398-22FDEB3F6166"></a><h4 id="ADQUE-GUID-54BD1CAE-E66F-4E1C-8398-22FDEB3F6166" class="sect4"><span class="enumeration_section">12.9.4</span>撤消发布/订阅主题权限</h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public void revokeTopicPrivilege（javax.jms。会话会话，java.lang。字符串特权，java.lang。String grantee）抛出JMSException</pre><p>此方法撤消发布/订阅模型中的主题权限。它具有以下参数：</p>
                        <div class="tblformal" id="GUID-54BD1CAE-E66F-4E1C-8398-22FDEB3F6166__GUID-69BAAB69-58DE-4EBF-B82A-F219A9BCE61F">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="The first column is the name of a parameter. The second column describes it." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d78385e3174">参数</th>
                                    <th align="left" valign="bottom" width="76%" id="d78385e3177">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e3182" headers="d78385e3174 ">
                                       <p><code class="codeph">会议</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e3182 d78385e3177 ">
                                       <p>JMS会话</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e3190" headers="d78385e3174 ">
                                       <p><code class="codeph">特权</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e3190 d78385e3177 ">
                                       <p><code class="codeph">ENQUEUE</code> ， <code class="codeph">DEQUEUE,</code>或<code class="codeph">ALL</code> （ <code class="codeph">ALL</code>表示两者。）
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e3209" headers="d78385e3174 ">
                                       <p><code class="codeph">受让人</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e3209 d78385e3177 ">
                                       <p>撤销被授予者（用户，角色或<code class="codeph">PUBLIC</code> ）</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-54BD1CAE-E66F-4E1C-8398-22FDEB3F6166__GUID-0342E667-71DD-4383-80C8-8D2155622DBB">
                        <p class="titleinexample">示例12-21撤消发布/订阅主题权限</p><pre class="oac_no_warn" dir="ltr">TopicSession t_sess;主题话题; （（AQjmsDestination）主题）.revokeTopicPrivilege（t_sess，“ENQUEUE”，“scott”）;</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADQUE2983"></a><a id="ADQUE2982"></a><div class="props_rev_3"><a id="GUID-FDD257B4-ACBA-43E7-940C-E515F6946081" name="GUID-FDD257B4-ACBA-43E7-940C-E515F6946081"></a><h4 id="ADQUE-GUID-FDD257B4-ACBA-43E7-940C-E515F6946081" class="sect4"><span class="enumeration_section">12.9.5</span>授予点对点队列权限</h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public void grantQueuePrivilege（javax.jms。会话会话，java.lang。字符串特权，java.lang。String grantee，boolean grant_option）抛出JMSException</pre><p>此方法在点对点模型中授予队列特权。最初，只有队列表所有者才能使用此过程为队列授予权限。它具有以下参数：</p>
                        <div class="tblformal" id="GUID-FDD257B4-ACBA-43E7-940C-E515F6946081__GUID-D14E7410-DE6C-4CFD-8E9F-D903372839FF">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="The first column is the name of a parameter. The second column describes it." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d78385e3301">参数</th>
                                    <th align="left" valign="bottom" width="76%" id="d78385e3304">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e3309" headers="d78385e3301 ">
                                       <p><code class="codeph">会议</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e3309 d78385e3304 ">
                                       <p>JMS会话</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e3317" headers="d78385e3301 ">
                                       <p><code class="codeph">特权</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e3317 d78385e3304 ">
                                       <p><code class="codeph">ENQUEUE</code> ， <code class="codeph">DEQUEUE,</code>或<code class="codeph">ALL</code> （ <code class="codeph">ALL</code>表示两者。）
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e3336" headers="d78385e3301 ">
                                       <p><code class="codeph">受让人</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e3336 d78385e3304 ">
                                       <p>受赠人（用户，角色或<code class="codeph">PUBLIC</code> ）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e3347" headers="d78385e3301 ">
                                       <p><code class="codeph">grant_option</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e3347 d78385e3304 ">
                                       <p>如果将此设置为true，则允许被授权者使用此过程将系统特权授予其他用户或角色</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-FDD257B4-ACBA-43E7-940C-E515F6946081__GUID-D46FDB5E-FFDB-4B99-8634-84F67109B78B">
                        <p class="titleinexample">示例12-22授予点对点队列权限</p><pre class="oac_no_warn" dir="ltr">QueueSession q_sess;队列队列; （（AQjmsDestination）队列）.grantQueuePrivilege（q_sess，“ENQUEUE”，“scott”，false）;</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADQUE2985"></a><a id="ADQUE2984"></a><div class="props_rev_3"><a id="GUID-CF07D682-06AF-4F6D-958C-81415605E540" name="GUID-CF07D682-06AF-4F6D-958C-81415605E540"></a><h4 id="ADQUE-GUID-CF07D682-06AF-4F6D-958C-81415605E540" class="sect4"><span class="enumeration_section">12.9.6</span>撤销点对点队列权限</h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public void revokeQueuePrivilege（javax.jms。会话会话，java.lang。字符串特权，java.lang。String grantee）抛出JMSException</pre><p>此方法撤消点对点模型中的队列特权。最初，只有队列表所有者才能使用此过程为队列授予权限。它具有以下参数：</p>
                        <div class="tblformal" id="GUID-CF07D682-06AF-4F6D-958C-81415605E540__GUID-A2A791EE-1D96-4E70-B604-60A2647DF74A">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="The first column is the name of a parameter. The second column describes it." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d78385e3437">参数</th>
                                    <th align="left" valign="bottom" width="76%" id="d78385e3440">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e3445" headers="d78385e3437 ">
                                       <p><code class="codeph">会议</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e3445 d78385e3440 ">
                                       <p>JMS会话</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e3453" headers="d78385e3437 ">
                                       <p><code class="codeph">特权</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e3453 d78385e3440 ">
                                       <p><code class="codeph">ENQUEUE</code> ， <code class="codeph">DEQUEUE,</code>或<code class="codeph">ALL</code> （ <code class="codeph">ALL</code>表示两者。）
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e3472" headers="d78385e3437 ">
                                       <p><code class="codeph">受让人</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e3472 d78385e3440 ">
                                       <p>撤销被授予者（用户，角色或<code class="codeph">PUBLIC</code> ）</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>要撤销特权，撤销者必须是特权的原始设保人。如果授予者权限也被撤销，则通过<code class="codeph">GRANT</code>选项传播的权限将被撤销。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-CF07D682-06AF-4F6D-958C-81415605E540__GUID-B1E470C3-D99A-468F-A117-4499CDC1F79A">
                        <p class="titleinexample">示例12-23撤消点对点队列权限</p><pre class="oac_no_warn" dir="ltr">QueueSession q_sess;队列队列; （（AQjmsDestination）队列）.revokeQueuePrivilege（q_sess，“ENQUEUE”，“scott”）;</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div><a id="ADQUE2986"></a><div class="props_rev_3"><a id="GUID-3F0936CB-2532-4C08-A620-F2054BDD7160" name="GUID-3F0936CB-2532-4C08-A620-F2054BDD7160"></a><h3 id="ADQUE-GUID-3F0936CB-2532-4C08-A620-F2054BDD7160" class="sect3"><span class="enumeration_section">12.10</span>管理目的地</h3>
               <div>
                  <p>本节包含以下主题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="jms-basic-operation.html#GUID-671472A1-A13F-4BEA-BCDF-F336838800B8">启动目的地</a></p>
                     </li>
                     <li>
                        <p><a href="jms-basic-operation.html#GUID-667929DA-D743-4A84-8B4C-DFEA44871DFE">停止目的地</a></p>
                     </li>
                     <li>
                        <p><a href="jms-basic-operation.html#GUID-EE2368BC-8B0D-4FD6-9B1D-4B966702D0CB">改变目的地</a></p>
                     </li>
                     <li>
                        <p><a href="jms-basic-operation.html#GUID-6A77B510-BA26-483F-B55F-4CCB69AF14B9">删除目的地</a></p>
                     </li>
                  </ul>
                  <div class="infoboxnote" id="GUID-3F0936CB-2532-4C08-A620-F2054BDD7160__GUID-3DA62304-F8B9-4308-BF74-E59082BB3F98">
                     <p class="notep1">注意：</p>
                     <p>目前，只能通过<code class="codeph">DBMS_AQADM</code> PL / SQL API管理JMS Sharded Queues。</p>
                  </div>
               </div><a id="ADQUE2988"></a><a id="ADQUE2987"></a><div class="props_rev_3"><a id="GUID-671472A1-A13F-4BEA-BCDF-F336838800B8" name="GUID-671472A1-A13F-4BEA-BCDF-F336838800B8"></a><h4 id="ADQUE-GUID-671472A1-A13F-4BEA-BCDF-F336838800B8" class="sect4"><span class="enumeration_section">12.10.1</span>启动目的地</h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public void start（javax.jms。Session session，boolean enqueue，boolean dequeue）抛出JMSException</pre><p>此方法启动目标。它具有以下参数：</p>
                        <div class="tblformal" id="GUID-671472A1-A13F-4BEA-BCDF-F336838800B8__GUID-A663B8CF-903B-4143-A605-91F1807DF963">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="The first column is the name of a parameter. The second column describes it." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d78385e3633">参数</th>
                                    <th align="left" valign="bottom" width="76%" id="d78385e3636">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e3641" headers="d78385e3633 ">
                                       <p><code class="codeph">会议</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e3641 d78385e3636 ">
                                       <p>JMS会话</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e3649" headers="d78385e3633 ">
                                       <p><code class="codeph">排队</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e3649 d78385e3636 ">
                                       <p>如果设置为<code class="codeph">TRUE</code> ，则启用enqueue</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e3660" headers="d78385e3633 ">
                                       <p>出队</p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e3660 d78385e3636 ">
                                       <p>如果设置为<code class="codeph">TRUE</code> ，则启用出列</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-671472A1-A13F-4BEA-BCDF-F336838800B8__GUID-8851156D-C798-4FC2-98BB-4630875D8BA2">
                        <p class="titleinexample">示例12-24启动目标</p><pre class="oac_no_warn" dir="ltr">TopicSession t_sess; QueueSession q_sess;主题话题;队列队列; （AQjmsDestination）topic.start（t_sess，true，true）; （AQjmsDestination）queue.start（q_sess，true，true）;</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADQUE2990"></a><a id="ADQUE2989"></a><div class="props_rev_3"><a id="GUID-667929DA-D743-4A84-8B4C-DFEA44871DFE" name="GUID-667929DA-D743-4A84-8B4C-DFEA44871DFE"></a><h4 id="ADQUE-GUID-667929DA-D743-4A84-8B4C-DFEA44871DFE" class="sect4"><span class="enumeration_section">12.10.2</span>停止目的地</h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public void stop（javax.jms。Session session，boolean enqueue，boolean dequeue，boolean wait）抛出JMSException</pre><p>此方法停止目的地。它具有以下参数：</p>
                        <div class="tblformal" id="GUID-667929DA-D743-4A84-8B4C-DFEA44871DFE__GUID-1568D617-184D-4812-8322-CD2A7E674DE9">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="The first column is the name of a parameter. The second column describes it." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d78385e3737">参数</th>
                                    <th align="left" valign="bottom" width="76%" id="d78385e3740">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e3745" headers="d78385e3737 ">
                                       <p><code class="codeph">会议</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e3745 d78385e3740 ">
                                       <p>JMS会话</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e3753" headers="d78385e3737 ">
                                       <p><code class="codeph">排队</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e3753 d78385e3740 ">
                                       <p>如果设置为<code class="codeph">TRUE</code> ，则禁用入队</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e3764" headers="d78385e3737 ">
                                       <p>出队</p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e3764 d78385e3740 ">
                                       <p>如果设置为<code class="codeph">TRUE</code> ，则禁用出列</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e3774" headers="d78385e3737 ">
                                       <p><code class="codeph">等待</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e3774 d78385e3740 ">
                                       <p>如果设置为true，则允许在目标停止之前完成队列/主题上的挂起事务</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-667929DA-D743-4A84-8B4C-DFEA44871DFE__GUID-DD6C8480-734F-452F-AC28-2A6F8646077F">
                        <p class="titleinexample">示例12-25停止目标</p><pre class="oac_no_warn" dir="ltr">TopicSession t_sess;主题话题; （（AQjmsDestination）主题）.stop（t_sess，true，false）;</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADQUE2992"></a><a id="ADQUE2991"></a><div class="props_rev_3"><a id="GUID-EE2368BC-8B0D-4FD6-9B1D-4B966702D0CB" name="GUID-EE2368BC-8B0D-4FD6-9B1D-4B966702D0CB"></a><h4 id="ADQUE-GUID-EE2368BC-8B0D-4FD6-9B1D-4B966702D0CB" class="sect4"><span class="enumeration_section">12.10.3</span>更改目的地</h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public void alter（javax.jms。会话会话，oracle.jms。AQjmsDestinationProperty dest_property）抛出JMSException</pre><p>此方法更改目的地。它具有以下属性：</p>
                        <div class="tblformal" id="GUID-EE2368BC-8B0D-4FD6-9B1D-4B966702D0CB__GUID-01E065BC-89A2-4190-91CD-375F149E35E7">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="The first column is the name of a parameter. The second column describes it." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d78385e3850">参数</th>
                                    <th align="left" valign="bottom" width="76%" id="d78385e3853">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e3858" headers="d78385e3850 ">
                                       <p><code class="codeph">会议</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e3858 d78385e3853 ">
                                       <p>JMS会话</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e3866" headers="d78385e3850 ">
                                       <p>dest_property</p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e3866 d78385e3853 ">
                                       <p>队列或主题的新属性</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-EE2368BC-8B0D-4FD6-9B1D-4B966702D0CB__GUID-DEB9C472-FDA6-4C50-8D95-6E41CFD26797">
                        <p class="titleinexample">示例12-26更改目标</p><pre class="oac_no_warn" dir="ltr">QueueSession q_sess;队列队列; TopicSession t_sess;主题话题; AQjmsDestionationProperty dest_prop1，dest_prop2; （（AQjmsDestination）队列）.alter（dest_prop1）; （（AQjmsDestination）主题）.alter（dest_prop2）;</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADQUE2994"></a><a id="ADQUE2993"></a><div class="props_rev_3"><a id="GUID-6A77B510-BA26-483F-B55F-4CCB69AF14B9" name="GUID-6A77B510-BA26-483F-B55F-4CCB69AF14B9"></a><h4 id="ADQUE-GUID-6A77B510-BA26-483F-B55F-4CCB69AF14B9" class="sect4"><span class="enumeration_section">12.10.4</span>删除目的地</h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public void drop（javax.jms。会话会话）抛出JMSException</pre><p>此方法删除目标。它有以下参数：</p>
                        <div class="tblformal" id="GUID-6A77B510-BA26-483F-B55F-4CCB69AF14B9__GUID-7BA5199B-C1F6-4012-8A35-F466FC019EFF">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="The first column is the name of a parameter. The second column describes it." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d78385e3940">参数</th>
                                    <th align="left" valign="bottom" width="76%" id="d78385e3943">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e3948" headers="d78385e3940 ">
                                       <p><code class="codeph">会议</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e3948 d78385e3943 ">
                                       <p>JMS会话</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-6A77B510-BA26-483F-B55F-4CCB69AF14B9__GUID-5DAF65BD-69B4-40A3-8C9A-1C50BE0CEB55">
                        <p class="titleinexample">示例12-27删除目标</p><pre class="oac_no_warn" dir="ltr">QueueSession q_sess;队列队列; TopicSession t_sess;主题话题; （（AQjmsDestionation）队列）.drop（q_sess）; （（AQjmsDestionation）主题）.drop（t_sess）;</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div><a id="ADQUE2995"></a><div class="props_rev_3"><a id="GUID-5916ED2D-BF69-4033-8E5C-1CF00657966A" name="GUID-5916ED2D-BF69-4033-8E5C-1CF00657966A"></a><h3 id="ADQUE-GUID-5916ED2D-BF69-4033-8E5C-1CF00657966A" class="sect3"><span class="enumeration_section">12.11</span>传播时间表</h3>
               <div>
                  <p>本节包含以下主题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="jms-basic-operation.html#GUID-6AE9BA1A-2413-4656-855D-62470AD0328D">调度传播</a></p>
                     </li>
                     <li>
                        <p><a href="jms-basic-operation.html#GUID-D66614E3-6291-4C23-B60C-5D150AE769E3">启用传播计划</a></p>
                     </li>
                     <li>
                        <p><a href="jms-basic-operation.html#GUID-C27DC562-4602-4862-A64F-15DD4FF5BFF7">改变传播时间表</a></p>
                     </li>
                     <li>
                        <p><a href="jms-basic-operation.html#GUID-DA8925B2-A76D-45E6-AA05-638A0386C2F1">禁用传播计划</a></p>
                     </li>
                     <li>
                        <p><a href="jms-basic-operation.html#GUID-2CB43510-0940-4866-8F24-87DF05C01D2C">不安排传播</a></p>
                     </li>
                  </ul>
                  <div class="infoboxnote" id="GUID-5916ED2D-BF69-4033-8E5C-1CF00657966A__GUID-55963588-65F5-4B96-AFE5-7C8F43F9BEA2">
                     <p class="notep1">注意：</p>
                     <p>JMS Sharded Queues目前仅通过<code class="codeph">DBMS_AQADM</code> PL / SQL API进行管理，不支持传播。
                     </p>
                  </div>
               </div><a id="ADQUE2997"></a><a id="ADQUE2996"></a><div class="props_rev_3"><a id="GUID-6AE9BA1A-2413-4656-855D-62470AD0328D" name="GUID-6AE9BA1A-2413-4656-855D-62470AD0328D"></a><h4 id="ADQUE-GUID-6AE9BA1A-2413-4656-855D-62470AD0328D" class="sect4"><span class="enumeration_section">12.11.1</span>调度传播</h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public void schedulePropagation（javax.jms。会话会话，java.lang。字符串目标，java.util。日期start_time，java.lang。双持续时间，java.lang。String next_time，java.lang。双延迟）抛出JMSException</pre><p>该方法调度传播。它具有以下参数：</p>
                        <div class="tblformal" id="GUID-6AE9BA1A-2413-4656-855D-62470AD0328D__GUID-EDB18AF0-CF3F-4100-8798-5F6FAC51316C">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="The first column is the name of a parameter. The second column describes it." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d78385e4118">参数</th>
                                    <th align="left" valign="bottom" width="76%" id="d78385e4121">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e4126" headers="d78385e4118 ">
                                       <p><code class="codeph">会议</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e4126 d78385e4121 ">
                                       <p>JMS会话</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e4134" headers="d78385e4118 ">
                                       <p><code class="codeph">目的地</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e4134 d78385e4121 ">
                                       <p>正在调度传播的远程数据库的数据库链接。空字符串表示为主题数据库中的所有订户调度传播。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e4142" headers="d78385e4118 ">
                                       <p><code class="codeph">开始时间</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e4142 d78385e4121 ">
                                       <p>时间传播开始</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e4150" headers="d78385e4118 ">
                                       <p><code class="codeph">持续时间</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e4150 d78385e4121 ">
                                       <p>传播持续时间</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e4158" headers="d78385e4118 ">
                                       <p><code class="codeph">下次</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e4158 d78385e4121 ">
                                       <p>下次传播开始</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e4166" headers="d78385e4118 ">
                                       <p><code class="codeph">潜伏</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e4166 d78385e4121 ">
                                       <p>可以容忍的延迟（以秒为单位）。延迟是消息入队的时间与传播时间之间的差异。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>如果<a href="glossary.html#GUID-2028AECF-DB3E-40E2-99B6-A35674C08038"><span class="xrefglossterm">邮件</span></a>在相同或不同队列中的同一目标上有多个收件人，则它会同时传播到所有这些收件人。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-6AE9BA1A-2413-4656-855D-62470AD0328D__GUID-8CD6BDE0-EF59-44C7-9F29-128452AA59C2">
                        <p class="titleinexample">例12-28调度传播</p><pre class="oac_no_warn" dir="ltr">TopicSession t_sess;主题话题; （（AQjmsDestination）主题）.schedulePropagation（t_sess，null，null，null，null，new Double（0））;</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADQUE2999"></a><a id="ADQUE2998"></a><div class="props_rev_3"><a id="GUID-D66614E3-6291-4C23-B60C-5D150AE769E3" name="GUID-D66614E3-6291-4C23-B60C-5D150AE769E3"></a><h4 id="ADQUE-GUID-D66614E3-6291-4C23-B60C-5D150AE769E3" class="sect4"><span class="enumeration_section">12.11.2</span>启用传播计划</h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public void enablePropagationSchedule（javax.jms。会话会话，java.lang。String destination）抛出JMSException</pre><p>该方法实现了传播计划。它具有以下参数：</p>
                        <div class="tblformal" id="GUID-D66614E3-6291-4C23-B60C-5D150AE769E3__GUID-02935B7E-707F-4F5E-AEB2-71FBAE0E15A1">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="The first column is the name of a parameter. The second column describes it." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d78385e4253">参数</th>
                                    <th align="left" valign="bottom" width="76%" id="d78385e4256">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e4261" headers="d78385e4253 ">
                                       <p><code class="codeph">会议</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e4261 d78385e4256 ">
                                       <p>JMS会话</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e4269" headers="d78385e4253 ">
                                       <p><code class="codeph">目的地</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e4269 d78385e4256 ">
                                       <p>目标数据库的数据库链接。空字符串表示传播到本地数据库。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-D66614E3-6291-4C23-B60C-5D150AE769E3__GUID-20CE848D-23A7-4FCA-8C42-2E5247D9A816">
                        <p class="titleinexample">示例12-29启用传播计划</p><pre class="oac_no_warn" dir="ltr">TopicSession t_sess;主题话题; （（AQjmsDestination）主题）.enablePropagationSchedule（t_sess，“dbs1”）;</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADQUE3001"></a><a id="ADQUE3000"></a><div class="props_rev_3"><a id="GUID-C27DC562-4602-4862-A64F-15DD4FF5BFF7" name="GUID-C27DC562-4602-4862-A64F-15DD4FF5BFF7"></a><h4 id="ADQUE-GUID-C27DC562-4602-4862-A64F-15DD4FF5BFF7" class="sect4"><span class="enumeration_section">12.11.3</span>改变传播时间表</h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public void alterPropagationSchedule（javax.jms。会话会话，java.lang。字符串目标，java.lang。双持续时间，java.lang。String next_time，java.lang。双延迟）抛出JMSException</pre><p>该方法改变了传播时间表。它具有以下参数：</p>
                        <div class="tblformal" id="GUID-C27DC562-4602-4862-A64F-15DD4FF5BFF7__GUID-C540F04B-58A9-4336-A1E4-58338E07D5EE">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="The first column is the name of a parameter. The second column describes it." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d78385e4351">参数</th>
                                    <th align="left" valign="bottom" width="76%" id="d78385e4354">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e4359" headers="d78385e4351 ">
                                       <p><code class="codeph">会议</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e4359 d78385e4354 ">
                                       <p>JMS会话</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e4367" headers="d78385e4351 ">
                                       <p><code class="codeph">目的地</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e4367 d78385e4354 ">
                                       <p>正在调度传播的远程数据库的数据库链接。空字符串表示为主题数据库中的所有订户调度传播。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e4375" headers="d78385e4351 ">
                                       <p><code class="codeph">持续时间</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e4375 d78385e4354 ">
                                       <p>传播持续时间</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e4383" headers="d78385e4351 ">
                                       <p><code class="codeph">下次</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e4383 d78385e4354 ">
                                       <p>下次传播开始</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e4391" headers="d78385e4351 ">
                                       <p><code class="codeph">潜伏</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e4391 d78385e4354 ">
                                       <p>可以容忍的延迟（以秒为单位）。延迟是消息入队的时间与传播时间之间的差异。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-C27DC562-4602-4862-A64F-15DD4FF5BFF7__GUID-252688D0-3FBA-497F-8CEA-EE44850D8191">
                        <p class="titleinexample">例12-30改变传播时间表</p><pre class="oac_no_warn" dir="ltr">TopicSession t_sess;主题话题; （（AQjmsDestination）主题）.alterPropagationSchedule（t_sess，null，30，null，new Double（30））;</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADQUE3003"></a><a id="ADQUE3002"></a><div class="props_rev_3"><a id="GUID-DA8925B2-A76D-45E6-AA05-638A0386C2F1" name="GUID-DA8925B2-A76D-45E6-AA05-638A0386C2F1"></a><h4 id="ADQUE-GUID-DA8925B2-A76D-45E6-AA05-638A0386C2F1" class="sect4"><span class="enumeration_section">12.11.4</span>禁用传播计划</h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public void disablePropagationSchedule（javax.jms。会话会话，java.lang。String destination）抛出JMSException</pre><p>此方法禁用传播计划。它具有以下参数：</p>
                        <div class="tblformal" id="GUID-DA8925B2-A76D-45E6-AA05-638A0386C2F1__GUID-0F96EC9A-AE53-498B-B41B-4FCC7C72D02B">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="The first column is the name of a parameter. The second column describes it." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d78385e4472">参数</th>
                                    <th align="left" valign="bottom" width="76%" id="d78385e4475">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e4480" headers="d78385e4472 ">
                                       <p><code class="codeph">会议</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e4480 d78385e4475 ">
                                       <p>JMS会话</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e4488" headers="d78385e4472 ">
                                       <p><code class="codeph">目的地</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e4488 d78385e4475 ">
                                       <p>目标数据库的数据库链接。空字符串表示传播到本地数据库。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-DA8925B2-A76D-45E6-AA05-638A0386C2F1__GUID-EA8430E5-50AD-4736-BA3D-9160C187E388">
                        <p class="titleinexample">示例12-31禁用传播计划</p><pre class="oac_no_warn" dir="ltr">TopicSession t_sess;主题话题; （（AQjmsDestination）主题）.disablePropagationSchedule（t_sess，“dbs1”）;</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADQUE3005"></a><a id="ADQUE3004"></a><div class="props_rev_3"><a id="GUID-2CB43510-0940-4866-8F24-87DF05C01D2C" name="GUID-2CB43510-0940-4866-8F24-87DF05C01D2C"></a><h4 id="ADQUE-GUID-2CB43510-0940-4866-8F24-87DF05C01D2C" class="sect4"><span class="enumeration_section">12.11.5不安排</span>传播</h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public void unschedulePropagation（javax.jms。会话会话，java.lang。String destination）抛出JMSException</pre><p>此方法取消预先安排先前安排的传播。它具有以下参数：</p>
                        <div class="tblformal" id="GUID-2CB43510-0940-4866-8F24-87DF05C01D2C__GUID-7E5F9698-A3D1-4C37-879B-29842D494F37">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="The first column is the name of a parameter. The second column describes it." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d78385e4575">参数</th>
                                    <th align="left" valign="bottom" width="76%" id="d78385e4578">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e4583" headers="d78385e4575 ">
                                       <p><code class="codeph">会议</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e4583 d78385e4578 ">
                                       <p>JMS会话</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e4591" headers="d78385e4575 ">
                                       <p><code class="codeph">目的地</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e4591 d78385e4578 ">
                                       <p>目标数据库的数据库链接。空字符串表示传播到本地数据库。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-2CB43510-0940-4866-8F24-87DF05C01D2C__GUID-A5FDF52A-5ECA-4A70-991B-0B1497BFAB17">
                        <p class="titleinexample">例12-32取消传播传播</p><pre class="oac_no_warn" dir="ltr">TopicSession t_sess;主题话题; （（AQjmsDestination）主题）.unschedulePropagation（t_sess，“dbs1”）;</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>