<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="This chapter describes the operators that you can use when working with the spatial object data type."></meta>
      <meta name="description" content="This chapter describes the operators that you can use when working with the spatial object data type."></meta>
      <title>空间运算符</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Developer&#39;s Guide "></meta>
      <meta property="og:description" content="This chapter describes the operators that you can use when working with the spatial object data type."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Developer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="spatial-and-graph-developers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-10T14:11:51-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1999, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E94799-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="sql-indexing-spatial-data.html" title="Previous" type="text/html"></link>
      <link rel="next" href="spatial-aggregate-functions.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Spatial and Graph Developer&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="SPATL"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="sql-indexing-spatial-data.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="spatial-aggregate-functions.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">开发人员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="spatial-reference-information.html" property="item" typeof="WebPage"><span property="name">参考信息</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">空间运算符</li>
            </ol>
            <a id="GUID-85422854-5133-4F1D-BF0E-228CA6EDAF87" name="GUID-85422854-5133-4F1D-BF0E-228CA6EDAF87"></a><a id="SPATL1021"></a><a id="SPATL1022"></a><a id="SPATL110"></a>
            
            <h2 id="SPATL-GUID-85422854-5133-4F1D-BF0E-228CA6EDAF87" class="sect2"><span class="enumeration_chapter">20个</span>空间算子</h2>
         </header>
         <div class="ind">
            <div>
               <p>本章介绍了使用空间对象数据类型时可以使用的运算符。</p>
               <p>有关空间运算符的概述，包括它们与空间过程和函数的不同之处，请参阅<a href="spatial-concepts.html#GUID-2CFC33C7-D5A6-4360-B9EB-9A147188C244" title="The Spatial and Graph PL/SQL application programming interface (API) includes several operators and many procedures and functions.">空间运算符</a> _过程_ <a href="spatial-concepts.html#GUID-2CFC33C7-D5A6-4360-B9EB-9A147188C244" title="Spatial和Graph PL / SQL应用程序编程接口（API）包括几个运算符和许多过程和函数。">和函数</a> 。<a href="spatial-operators-reference.html#GUID-85422854-5133-4F1D-BF0E-228CA6EDAF87__G996892" title="主要空间算子">表20-1</a>列出了主要运算符。
               </p>
               <div class="tblformal" id="GUID-85422854-5133-4F1D-BF0E-228CA6EDAF87__G996892">
                  <p class="titleintable">表20-1主要空间运算符</p>
                  <table cellpadding="4" cellspacing="0" class="Formal" title="主要空间算子" width="100%" border="1" summary="Main Spatial Operators" frame="hsides" rules="rows">
                     <thead>
                        <tr align="left" valign="top">
                           <th align="left" valign="bottom" width="32%" id="d115835e75">操作者</th>
                           <th align="left" valign="bottom" width="68%" id="d115835e78">描述</th>
                        </tr>
                     </thead>
                     <tbody>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="32%" id="d115835e83" headers="d115835e75 ">
                              <p><a href="spatial-operators-reference.html#GUID-9AB42477-D0C0-4A87-826F-1BDDF1CA1FE5">SDO_FILTER</a></p>
                           </td>
                           <td align="left" valign="top" width="68%" headers="d115835e83 d115835e78 ">
                              <p>指定哪些几何可以与给定几何体交互。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="32%" id="d115835e92" headers="d115835e75 ">
                              <p><a href="spatial-operators-reference.html#GUID-4D9DD9EF-DD9C-4198-A416-37B900B4E32F">SDO_JOIN</a></p>
                           </td>
                           <td align="left" valign="top" width="68%" headers="d115835e92 d115835e78 ">
                              <p>基于一个或多个拓扑关系执行空间连接。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="32%" id="d115835e101" headers="d115835e75 ">
                              <p><a href="spatial-operators-reference.html#GUID-41E6B1FA-1A03-480B-996F-830E8566661D">SDO_NN</a></p>
                           </td>
                           <td align="left" valign="top" width="68%" headers="d115835e101 d115835e78 ">
                              <p>确定几何的最近邻几何。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="32%" id="d115835e110" headers="d115835e75 ">
                              <p><a href="spatial-operators-reference.html#GUID-4CD900B5-E2FB-4802-B843-E66D5D86BE64">SDO_NN_DISTANCE</a></p>
                           </td>
                           <td align="left" valign="top" width="68%" headers="d115835e110 d115835e78 ">
                              <p>返回<a href="spatial-operators-reference.html#GUID-41E6B1FA-1A03-480B-996F-830E8566661D">SDO_NN</a>运算符返回的对象的距离。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="32%" id="d115835e123" headers="d115835e75 ">
                              <p><a href="spatial-operators-reference.html#GUID-959C15D2-509C-4511-ADEB-1ADA6FBA8D0A">SDO_POINTINPOLYGON</a></p>
                           </td>
                           <td align="left" valign="top" width="68%" headers="d115835e123 d115835e78 ">
                              <p>采用一组行，其第一列是点的x坐标值，第二列是点的y坐标值，并返回指定多边形几何中的行。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="32%" id="d115835e132" headers="d115835e75 ">
                              <p><a href="spatial-operators-reference.html#GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02">SDO_RELATE</a></p>
                           </td>
                           <td align="left" valign="top" width="68%" headers="d115835e132 d115835e78 ">
                              <p>确定两个几何是否以指定方式交互。（有关执行特定掩码值操作的便捷替代运算符，另请<a href="spatial-operators-reference.html#GUID-85422854-5133-4F1D-BF0E-228CA6EDAF87__BGEBCFBE" title="SDO_RELATE操作的便捷操作员">参见表20-2</a> 。）
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="32%" id="d115835e146" headers="d115835e75 ">
                              <p><a href="spatial-operators-reference.html#GUID-682B258F-1604-4BE8-824D-F6E05376E7EC">SDO_WITHIN_DISTANCE</a></p>
                           </td>
                           <td align="left" valign="top" width="68%" headers="d115835e146 d115835e78 ">
                              <p>确定两个几何是否在彼此指定的距离内。</p>
                           </td>
                        </tr>
                     </tbody>
                  </table>
               </div>
               <!-- class="inftblhruleinformal" -->
               <p><a href="spatial-operators-reference.html#GUID-85422854-5133-4F1D-BF0E-228CA6EDAF87__BGEBCFBE" title="SDO_RELATE操作的便捷操作员">表20-2</a>列出了为方便起见而执行特定掩码类型的<a href="spatial-operators-reference.html#GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02">SDO_RELATE</a>操作的运算符。
               </p>
               <div class="tblformal" id="GUID-85422854-5133-4F1D-BF0E-228CA6EDAF87__BGEBCFBE">
                  <p class="titleintable">表20-2 SDO_RELATE操作的便捷操作符</p>
                  <table cellpadding="4" cellspacing="0" class="Formal" title="SDO_RELATE操作的便捷操作员" width="100%" border="1" summary="Convenience Operators for SDO_RELATE Operations" frame="hsides" rules="rows">
                     <thead>
                        <tr align="left" valign="top">
                           <th align="left" valign="bottom" width="32%" id="d115835e174">操作者</th>
                           <th align="left" valign="bottom" width="68%" id="d115835e177">描述</th>
                        </tr>
                     </thead>
                     <tbody>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="32%" id="d115835e182" headers="d115835e174 ">
                              <p><a href="spatial-operators-reference.html#GUID-A0695FED-9497-4896-95FB-A90E28B38C7F">SDO_ANYINTERACT</a></p>
                           </td>
                           <td align="left" valign="top" width="68%" headers="d115835e182 d115835e177 ">
                              <p>检查表中的任何几何是否具有与指定几何的ANYINTERACT拓扑关系。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="32%" id="d115835e191" headers="d115835e174 ">
                              <p><a href="spatial-operators-reference.html#GUID-CD3E09BC-4533-4D3F-BB5D-8D6DCDF5C5FF">SDO_CONTAINS</a></p>
                           </td>
                           <td align="left" valign="top" width="68%" headers="d115835e191 d115835e177 ">
                              <p>检查表中的任何几何是否具有与指定几何的CONTAINS拓扑关系。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="32%" id="d115835e200" headers="d115835e174 ">
                              <p><a href="spatial-operators-reference.html#GUID-1D2E2B05-6260-43BA-9BCB-3D384FF6140C">SDO_COVEREDBY</a></p>
                           </td>
                           <td align="left" valign="top" width="68%" headers="d115835e200 d115835e177 ">
                              <p>检查表中的任何几何是否具有与指定几何的COVEREDBY拓扑关系。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="32%" id="d115835e209" headers="d115835e174 ">
                              <p><a href="spatial-operators-reference.html#GUID-A409003B-D529-4664-9942-DBE5F7AD9562">SDO_COVERS</a></p>
                           </td>
                           <td align="left" valign="top" width="68%" headers="d115835e209 d115835e177 ">
                              <p>检查表中的任何几何是否具有与指定几何的COVERS拓扑关系。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="32%" id="d115835e218" headers="d115835e174 ">
                              <p><a href="spatial-operators-reference.html#GUID-661BBD6D-8172-4397-86AD-B21C8C87E829">SDO_EQUAL</a></p>
                           </td>
                           <td align="left" valign="top" width="68%" headers="d115835e218 d115835e177 ">
                              <p>检查表中的任何几何是否具有与指定几何的EQUAL拓扑关系。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="32%" id="d115835e227" headers="d115835e174 ">
                              <p><a href="spatial-operators-reference.html#GUID-0080FCAB-C640-4E50-9639-9EE273E411FB">SDO_INSIDE</a></p>
                           </td>
                           <td align="left" valign="top" width="68%" headers="d115835e227 d115835e177 ">
                              <p>检查表中的任何几何是否具有与指定几何体的INSIDE拓扑关系。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="32%" id="d115835e236" headers="d115835e174 ">
                              <p><a href="spatial-operators-reference.html#GUID-29EAF480-8E3D-497A-B87E-BC698EEF9A21">SDO_ON</a></p>
                           </td>
                           <td align="left" valign="top" width="68%" headers="d115835e236 d115835e177 ">
                              <p>检查表中的任何几何是否与指定几何具有ON拓扑关系。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="32%" id="d115835e245" headers="d115835e174 ">
                              <p><a href="spatial-operators-reference.html#GUID-149B266E-2135-43DA-80E9-8C7767BDE138">SDO_OVERLAPBDYDISJOINT</a></p>
                           </td>
                           <td align="left" valign="top" width="68%" headers="d115835e245 d115835e177 ">
                              <p>检查表中的任何几何是否具有与指定几何的OVERLAPBDYDISJOINT拓扑关系。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="32%" id="d115835e254" headers="d115835e174 ">
                              <p><a href="spatial-operators-reference.html#GUID-133DD2F7-7A95-4B91-BFDA-9D7F0E8A9DF6">SDO_OVERLAPBDYINTERSECT</a></p>
                           </td>
                           <td align="left" valign="top" width="68%" headers="d115835e254 d115835e177 ">
                              <p>检查表中的任何几何是否具有与指定几何的OVERLAPBDYINTERSECT拓扑关系。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="32%" id="d115835e263" headers="d115835e174 ">
                              <p><a href="spatial-operators-reference.html#GUID-C1336951-3F2B-472D-96E6-8141BC0CB8E3">SDO_OVERLAPS</a></p>
                           </td>
                           <td align="left" valign="top" width="68%" headers="d115835e263 d115835e177 ">
                              <p>检查表中的任何几何是否与指定的几何重叠（即具有OVERLAPBDYDISJOINT或OVERLAPBDYINTERSECT拓扑关系）。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="32%" id="d115835e272" headers="d115835e174 ">
                              <p><a href="spatial-operators-reference.html#GUID-93B1E298-BE8D-45B9-A1D4-9B310ABB1252">SDO_TOUCH</a></p>
                           </td>
                           <td align="left" valign="top" width="68%" headers="d115835e272 d115835e177 ">
                              <p>检查表中的任何几何是否具有与指定几何的TOUCH拓扑关系。</p>
                           </td>
                        </tr>
                     </tbody>
                  </table>
               </div>
               <!-- class="inftblhruleinformal" -->
               <div class="infoboxnote" id="GUID-85422854-5133-4F1D-BF0E-228CA6EDAF87__GUID-BA1DE986-CE03-4118-9515-31A2C9066C41">
                  <p class="notep1">注意：</p>
                  <p>对于空间和图形运算符和子程序的字符串（VARCHAR2）参数中的任何数字，无论区域设置如何，句点（。）必须用于任何小数点。示例： <code class="codeph">'distance=3.7'</code></p>
               </div>
               <p>本章的其余部分提供有关运算符的参考信息，按字母顺序列出。</p>
               <p>有关在拓扑中使用运算符的信息，请参阅<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/spatl&amp;id=TOPOL300" target="_blank"><span class="italic">Oracle Spatial and Graph拓扑数据模型和网络数据模型图开发人员指南</span></a> 。
               </p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="spatial-operators-reference.html#GUID-A0695FED-9497-4896-95FB-A90E28B38C7F">SDO_ANYINTERACT</a><br></li>
                  <li class="ulchildlink"><a href="spatial-operators-reference.html#GUID-CD3E09BC-4533-4D3F-BB5D-8D6DCDF5C5FF">SDO_CONTAINS</a><br></li>
                  <li class="ulchildlink"><a href="spatial-operators-reference.html#GUID-1D2E2B05-6260-43BA-9BCB-3D384FF6140C">SDO_COVEREDBY</a><br></li>
                  <li class="ulchildlink"><a href="spatial-operators-reference.html#GUID-A409003B-D529-4664-9942-DBE5F7AD9562">SDO_COVERS</a><br></li>
                  <li class="ulchildlink"><a href="spatial-operators-reference.html#GUID-661BBD6D-8172-4397-86AD-B21C8C87E829">SDO_EQUAL</a><br></li>
                  <li class="ulchildlink"><a href="spatial-operators-reference.html#GUID-9AB42477-D0C0-4A87-826F-1BDDF1CA1FE5">SDO_FILTER</a><br></li>
                  <li class="ulchildlink"><a href="spatial-operators-reference.html#GUID-0080FCAB-C640-4E50-9639-9EE273E411FB">SDO_INSIDE</a><br></li>
                  <li class="ulchildlink"><a href="spatial-operators-reference.html#GUID-4D9DD9EF-DD9C-4198-A416-37B900B4E32F">SDO_JOIN</a><br></li>
                  <li class="ulchildlink"><a href="spatial-operators-reference.html#GUID-41E6B1FA-1A03-480B-996F-830E8566661D">SDO_NN</a><br></li>
                  <li class="ulchildlink"><a href="spatial-operators-reference.html#GUID-4CD900B5-E2FB-4802-B843-E66D5D86BE64">SDO_NN_DISTANCE</a><br></li>
                  <li class="ulchildlink"><a href="spatial-operators-reference.html#GUID-29EAF480-8E3D-497A-B87E-BC698EEF9A21">SDO_ON</a><br></li>
                  <li class="ulchildlink"><a href="spatial-operators-reference.html#GUID-149B266E-2135-43DA-80E9-8C7767BDE138">SDO_OVERLAPBDYDISJOINT</a><br></li>
                  <li class="ulchildlink"><a href="spatial-operators-reference.html#GUID-133DD2F7-7A95-4B91-BFDA-9D7F0E8A9DF6">SDO_OVERLAPBDYINTERSECT</a><br></li>
                  <li class="ulchildlink"><a href="spatial-operators-reference.html#GUID-C1336951-3F2B-472D-96E6-8141BC0CB8E3">SDO_OVERLAPS</a><br></li>
                  <li class="ulchildlink"><a href="spatial-operators-reference.html#GUID-959C15D2-509C-4511-ADEB-1ADA6FBA8D0A">SDO_POINTINPOLYGON</a><br></li>
                  <li class="ulchildlink"><a href="spatial-operators-reference.html#GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02">SDO_RELATE</a><br></li>
                  <li class="ulchildlink"><a href="spatial-operators-reference.html#GUID-93B1E298-BE8D-45B9-A1D4-9B310ABB1252">SDO_TOUCH</a><br></li>
                  <li class="ulchildlink"><a href="spatial-operators-reference.html#GUID-682B258F-1604-4BE8-824D-F6E05376E7EC">SDO_WITHIN_DISTANCE</a><br></li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>父主题：</strong> <a href="spatial-reference-information.html#GUID-343C3A98-6564-49CF-AA31-F86C5AEAAF02">参考信息</a></p>
                  </div>
               </div>
            </div>
            <a id="SPATL1023"></a><div class="props_rev_3"><a id="GUID-A0695FED-9497-4896-95FB-A90E28B38C7F" name="GUID-A0695FED-9497-4896-95FB-A90E28B38C7F"></a><h3 id="SPATL-GUID-A0695FED-9497-4896-95FB-A90E28B38C7F" class="sect3"><span class="enumeration_section">20.1</span> SDO_ANYINTERACT</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-A0695FED-9497-4896-95FB-A90E28B38C7F__GUID-B293D4FF-8112-47EC-B716-99A672F45497">格式</p><pre class="oac_no_warn" dir="ltr">SDO_ANYINTERACT（geometry1，geometry2）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-A0695FED-9497-4896-95FB-A90E28B38C7F__GUID-8058F5DD-3B81-431C-9FDB-E57B7D17CCCA">描述</p>
                     <p>检查表中的任何几何是否具有与指定几何的ANYINTERACT拓扑关系。相当于使用<code class="codeph">'mask=ANYINTERACT'</code>指定<a href="spatial-operators-reference.html#GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02">SDO_RELATE</a>运算符。
                     </p>
                     <p>有关此运算符执行的操作和使用要求的信息，请参阅本章中有关<a href="spatial-operators-reference.html#GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02">SDO_RELATE</a>运算符的部分。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-A0695FED-9497-4896-95FB-A90E28B38C7F__GUID-4C2725D4-CC44-47B9-929E-A79952C44076">关键词和参数</p>
                     <div class="tblformal" id="GUID-A0695FED-9497-4896-95FB-A90E28B38C7F__GUID-F3BFFF9C-8E70-4259-8BDD-FD09B2F2FDA5">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameters  and descriptions for SDO_ANYINTERACT operator" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="19%" id="d115835e508">值</th>
                                 <th align="left" valign="bottom" width="81%" id="d115835e511">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d115835e516" headers="d115835e508 ">
                                    <p>geometry1</p>
                                 </td>
                                 <td align="left" valign="top" width="81%" headers="d115835e516 d115835e511 ">
                                    <p>指定表中的几何列。建议使用此列的空间索引。数据类型为SDO_GEOMETRY。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d115835e525" headers="d115835e508 ">
                                    <p>geometry2</p>
                                 </td>
                                 <td align="left" valign="top" width="81%" headers="d115835e525 d115835e511 ">
                                    <p>指定表中的几何或几何的瞬态实例。（使用绑定变量或SDO_GEOMETRY构造函数指定。）数据类型为SDO_GEOMETRY。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-A0695FED-9497-4896-95FB-A90E28B38C7F__GUID-9BC6172D-8413-403D-9CA3-89B31C57734E">返回</p>
                     <p>对于具有ANYINTERACT拓扑关系的对象，表达式SDO_ANYINTERACT（geometry1，geometry2）='TRUE'的计算结果为TRUE，否则为FALSE。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-A0695FED-9497-4896-95FB-A90E28B38C7F__GUID-4439562E-AF9F-4E2F-BE4D-D2F58F1632EC">使用说明</p>
                     <p>请参阅本章中<a href="spatial-operators-reference.html#GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02">SDO_RELATE</a>运算符的使用说明。
                     </p>
                     <p>有关拓扑关系和空间和图形使用的九交点模型的说明，请参阅<a href="spatial-concepts.html#GUID-FA71CB03-FFF0-4529-BA07-AD0605DA7A89" title="Spatial和Graph使用辅助过滤器来确定数据库中实体之间的空间关系。空间关系基于几何位置。">空间关系和过滤</a> 。
                     </p>
                     <p>有关使用空间运算符（运算符在其计算中考虑并且不考虑所有三个维度）的3D支持的信息，请参阅<a href="spatial-concepts.html#GUID-6F3A9C6E-3617-47D9-AE61-CF9F1770555A" title="Oracle Spatial and Graph支持三维空间数据的存储和检索，包括点，点云（点集合），线，多边形，曲面和实体。">三维空间对象</a> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-A0695FED-9497-4896-95FB-A90E28B38C7F__GUID-EF69BBF9-AEBB-41CC-8430-992237C40B73">例子</p>
                     <p>以下示例查找与查询窗口具有ANYINTERACT关系的几何（此处为左下角，右上角坐标为4,6,8,8的矩形）。（该示例使用<a href="spatial-datatypes-metadata.html#GUID-51A767CA-82EE-4475-8C8B-13E685C04934" title="This topic presents a simple example of creating a spatial table, inserting data, creating the spatial index, and performing spatial queries">简单示例中</a>描述和说明的定义和数据<a href="spatial-datatypes-metadata.html#GUID-51A767CA-82EE-4475-8C8B-13E685C04934" title="本主题提供了创建空间表，插入数据，创建空间索引和执行空间查询的简单示例">：Inserting_ Indexing_和查询空间数据</a> 。）
                     </p><pre class="oac_no_warn" dir="ltr">SELECT c.mkt_id，c.name FROM cola_markets c WHERE SDO_ANYINTERACT（c.shape，SDO_GEOMETRY（2003，NULL，NULL，SDO_ELEM_INFO_ARRAY（1,1003,3），SDO_ORDINATE_ARRAY（4,6,8,8）））='TRUE “; MKT_ID NAME ---------- -------------------------------- 2 cola_b 1 cola_a 4 cola_d</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="spatial-operators-reference.html#GUID-85422854-5133-4F1D-BF0E-228CA6EDAF87" title="本章介绍了使用空间对象数据类型时可以使用的运算符。">空间运算符</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL1024"></a><div class="props_rev_3"><a id="GUID-CD3E09BC-4533-4D3F-BB5D-8D6DCDF5C5FF" name="GUID-CD3E09BC-4533-4D3F-BB5D-8D6DCDF5C5FF"></a><h3 id="SPATL-GUID-CD3E09BC-4533-4D3F-BB5D-8D6DCDF5C5FF" class="sect3"><span class="enumeration_section">20.2</span> SDO_CONTAINS</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-CD3E09BC-4533-4D3F-BB5D-8D6DCDF5C5FF__GUID-1B766E08-2CBD-469C-A6B9-82B41A403D14">格式</p><pre class="oac_no_warn" dir="ltr">SDO_CONTAINS（geometry1，geometry2）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-CD3E09BC-4533-4D3F-BB5D-8D6DCDF5C5FF__GUID-48A947DF-1277-4F28-AB00-4F1C9E1BFFE8">描述</p>
                     <p>检查表中的任何几何是否具有与指定几何的CONTAINS拓扑关系。相当于使用<code class="codeph">'mask=CONTAINS'</code>指定<a href="spatial-operators-reference.html#GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02">SDO_RELATE</a>运算符。
                     </p>
                     <p>有关此运算符执行的操作和使用要求的信息，请参阅本章中有关<a href="spatial-operators-reference.html#GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02">SDO_RELATE</a>运算符的部分。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-CD3E09BC-4533-4D3F-BB5D-8D6DCDF5C5FF__GUID-911907F5-4CD8-484D-8B21-556BE7B2E079">关键词和参数</p>
                     <div class="tblformal" id="GUID-CD3E09BC-4533-4D3F-BB5D-8D6DCDF5C5FF__GUID-72A6316D-0C25-4199-AB72-598E3C0EB74A">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameters and descriptions for SDO_CONTAINS operator" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="19%" id="d115835e686">值</th>
                                 <th align="left" valign="bottom" width="81%" id="d115835e689">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d115835e694" headers="d115835e686 ">
                                    <p>geometry1</p>
                                 </td>
                                 <td align="left" valign="top" width="81%" headers="d115835e694 d115835e689 ">
                                    <p>指定表中的几何列。建议使用此列的空间索引。数据类型为SDO_GEOMETRY。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d115835e703" headers="d115835e686 ">
                                    <p>geometry2</p>
                                 </td>
                                 <td align="left" valign="top" width="81%" headers="d115835e703 d115835e689 ">
                                    <p>指定表中的几何或几何的瞬态实例。（使用绑定变量或SDO_GEOMETRY构造函数指定。）数据类型为SDO_GEOMETRY。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-CD3E09BC-4533-4D3F-BB5D-8D6DCDF5C5FF__GUID-ECAD5204-41A2-4DCC-9452-376E2C41E86C">返回</p>
                     <p>对于具有CONTAINS拓扑关系的对象，表达式SDO_CONTAINS（geometry1，geometry2）='TRUE'的计算结果为TRUE，否则为FALSE。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-CD3E09BC-4533-4D3F-BB5D-8D6DCDF5C5FF__GUID-A5C30821-3DEB-4267-A5E7-6178627AD9E0">使用说明</p>
                     <p>请参阅本章中<a href="spatial-operators-reference.html#GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02">SDO_RELATE</a>运算符的使用说明。
                     </p>
                     <p>有关拓扑关系和空间和图形使用的九交点模型的说明，请参阅<a href="spatial-concepts.html#GUID-FA71CB03-FFF0-4529-BA07-AD0605DA7A89" title="Spatial和Graph使用辅助过滤器来确定数据库中实体之间的空间关系。空间关系基于几何位置。">空间关系和过滤</a> 。
                     </p>
                     <p>有关使用空间运算符（运算符在其计算中考虑并且不考虑所有三个维度）的3D支持的信息，请参阅<a href="spatial-concepts.html#GUID-6F3A9C6E-3617-47D9-AE61-CF9F1770555A" title="Oracle Spatial and Graph支持三维空间数据的存储和检索，包括点，点云（点集合），线，多边形，曲面和实体。">三维空间对象</a> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-CD3E09BC-4533-4D3F-BB5D-8D6DCDF5C5FF__GUID-EB7EA0C9-BDF2-448F-B31F-219F823EC11A">例子</p>
                     <p>以下示例查找与查询窗口具有CONTAINS关系的几何（此处为左下角，右上角坐标为2,2,4,6的矩形）。（该示例使用<a href="spatial-datatypes-metadata.html#GUID-51A767CA-82EE-4475-8C8B-13E685C04934" title="This topic presents a simple example of creating a spatial table, inserting data, creating the spatial index, and performing spatial queries">简单示例中</a>描述和说明的定义和数据<a href="spatial-datatypes-metadata.html#GUID-51A767CA-82EE-4475-8C8B-13E685C04934" title="本主题提供了创建空间表，插入数据，创建空间索引和执行空间查询的简单示例">：Inserting_ Indexing_和查询空间数据</a> 。）在此示例中，只有<code class="codeph">cola_a</code>包含查询窗口几何。
                     </p><pre class="oac_no_warn" dir="ltr">SELECT c.mkt_id，c.name FROM cola_markets c WHERE SDO_CONTAINS（c.shape，SDO_GEOMETRY（2003，NULL，NULL，SDO_ELEM_INFO_ARRAY（1,1003,3），SDO_ORDINATE_ARRAY（2,2,4,6）））='TRUE “; MKT_ID NAME ---------- -------------------------------- 1 cola_a</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="spatial-operators-reference.html#GUID-85422854-5133-4F1D-BF0E-228CA6EDAF87" title="本章介绍了使用空间对象数据类型时可以使用的运算符。">空间运算符</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL1025"></a><div class="props_rev_3"><a id="GUID-1D2E2B05-6260-43BA-9BCB-3D384FF6140C" name="GUID-1D2E2B05-6260-43BA-9BCB-3D384FF6140C"></a><h3 id="SPATL-GUID-1D2E2B05-6260-43BA-9BCB-3D384FF6140C" class="sect3"><span class="enumeration_section">20.3</span> SDO_COVEREDBY</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-1D2E2B05-6260-43BA-9BCB-3D384FF6140C__GUID-D3B9BEF1-5B1A-4E98-B7AC-B97B6F469772">格式</p><pre class="oac_no_warn" dir="ltr">SDO_COVEREDBY（geometry1，geometry2）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1D2E2B05-6260-43BA-9BCB-3D384FF6140C__GUID-2E8CCF38-B6A4-4E8E-8FF2-3802067544C3">描述</p>
                     <p>检查表中的任何几何是否具有与指定几何的COVEREDBY拓扑关系。相当于使用<code class="codeph">'mask=COVEREDBY'</code>指定<a href="spatial-operators-reference.html#GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02">SDO_RELATE</a>运算符。
                     </p>
                     <p>有关此运算符执行的操作和使用要求的信息，请参阅本章中有关<a href="spatial-operators-reference.html#GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02">SDO_RELATE</a>运算符的部分。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1D2E2B05-6260-43BA-9BCB-3D384FF6140C__GUID-43C21730-81C8-40BC-B0F3-3473CD0648E3">关键词和参数</p>
                     <div class="tblformal" id="GUID-1D2E2B05-6260-43BA-9BCB-3D384FF6140C__GUID-1BE72F73-E703-4BFF-9E05-BFB52EF67B46">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameters and descriptions for SDO_COVEREDBY operator" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="19%" id="d115835e866">值</th>
                                 <th align="left" valign="bottom" width="81%" id="d115835e869">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d115835e874" headers="d115835e866 ">
                                    <p>geometry1</p>
                                 </td>
                                 <td align="left" valign="top" width="81%" headers="d115835e874 d115835e869 ">
                                    <p>指定表中的几何列。建议使用此列的空间索引。数据类型为SDO_GEOMETRY。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d115835e883" headers="d115835e866 ">
                                    <p>geometry2</p>
                                 </td>
                                 <td align="left" valign="top" width="81%" headers="d115835e883 d115835e869 ">
                                    <p>指定表中的几何或几何的瞬态实例。（使用绑定变量或SDO_GEOMETRY构造函数指定。）数据类型为SDO_GEOMETRY。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1D2E2B05-6260-43BA-9BCB-3D384FF6140C__GUID-5A1A11D0-310B-46B6-ABE9-6313ECDA9D67">返回</p>
                     <p>对于具有COVEREDBY拓扑关系的对象，表达式SDO_COVEREDBY（geometry1，geometry2）='TRUE'的计算结果为TRUE，否则为FALSE。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1D2E2B05-6260-43BA-9BCB-3D384FF6140C__GUID-F35763DA-A5E6-4113-B76B-2145204561F6">使用说明</p>
                     <p>请参阅本章中<a href="spatial-operators-reference.html#GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02">SDO_RELATE</a>运算符的使用说明。
                     </p>
                     <p>有关拓扑关系和空间和图形使用的九交点模型的说明，请参阅<a href="spatial-concepts.html#GUID-FA71CB03-FFF0-4529-BA07-AD0605DA7A89" title="Spatial和Graph使用辅助过滤器来确定数据库中实体之间的空间关系。空间关系基于几何位置。">空间关系和过滤</a> 。
                     </p>
                     <p>有关使用空间运算符（运算符在其计算中考虑并且不考虑所有三个维度）的3D支持的信息，请参阅<a href="spatial-concepts.html#GUID-6F3A9C6E-3617-47D9-AE61-CF9F1770555A" title="Oracle Spatial and Graph支持三维空间数据的存储和检索，包括点，点云（点集合），线，多边形，曲面和实体。">三维空间对象</a> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1D2E2B05-6260-43BA-9BCB-3D384FF6140C__GUID-AF0852B8-B0BA-4F7B-9A5E-C195B93DA2D6">例子</p>
                     <p>以下示例查找与查询窗口具有COVEREDBY关系的几何（此处为左下角，右上角坐标为1,1,5,8的矩形）。（该示例使用<a href="spatial-datatypes-metadata.html#GUID-51A767CA-82EE-4475-8C8B-13E685C04934" title="This topic presents a simple example of creating a spatial table, inserting data, creating the spatial index, and performing spatial queries">简单示例中</a>描述和说明的定义和数据<a href="spatial-datatypes-metadata.html#GUID-51A767CA-82EE-4475-8C8B-13E685C04934" title="本主题提供了创建空间表，插入数据，创建空间索引和执行空间查询的简单示例">：Inserting_ Indexing_和查询空间数据</a> 。）在此示例中，查询窗口几何体仅覆盖<code class="codeph">cola_a</code> 。
                     </p><pre class="oac_no_warn" dir="ltr">SELECT c.mkt_id，c.name FROM cola_markets c WHERE SDO_COVEREDBY（c.shape，SDO_GEOMETRY（2003，NULL，NULL，SDO_ELEM_INFO_ARRAY（1,1003,3），SDO_ORDINATE_ARRAY（1,1,5,8）））='TRUE “; MKT_ID NAME ---------- -------------------------------- 1 cola_a</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="spatial-operators-reference.html#GUID-85422854-5133-4F1D-BF0E-228CA6EDAF87" title="本章介绍了使用空间对象数据类型时可以使用的运算符。">空间运算符</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL1026"></a><div class="props_rev_3"><a id="GUID-A409003B-D529-4664-9942-DBE5F7AD9562" name="GUID-A409003B-D529-4664-9942-DBE5F7AD9562"></a><h3 id="SPATL-GUID-A409003B-D529-4664-9942-DBE5F7AD9562" class="sect3"><span class="enumeration_section">20.4</span> SDO_COVERS</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-A409003B-D529-4664-9942-DBE5F7AD9562__GUID-86C8BAD8-03CF-4F1C-B04B-785254EB92ED">格式</p><pre class="oac_no_warn" dir="ltr">SDO_COVERS（geometry1，geometry2）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-A409003B-D529-4664-9942-DBE5F7AD9562__GUID-4C4D253D-713F-4A49-B81A-EE37CD804824">描述</p>
                     <p>检查表中的任何几何是否具有与指定几何的COVERS拓扑关系。相当于使用<code class="codeph">'mask=COVERS'</code>指定<a href="spatial-operators-reference.html#GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02">SDO_RELATE</a>运算符。
                     </p>
                     <p>有关此运算符执行的操作和使用要求的信息，请参阅本章中有关<a href="spatial-operators-reference.html#GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02">SDO_RELATE</a>运算符的部分。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-A409003B-D529-4664-9942-DBE5F7AD9562__GUID-8CE3C26B-112D-4721-ADE6-6534F50550F7">关键词和参数</p>
                     <div class="tblformal" id="GUID-A409003B-D529-4664-9942-DBE5F7AD9562__GUID-E1FAF163-F9AA-46A8-92B0-A6346A2AB28B">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameters and descriptions for SDO_COVERS operator" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="19%" id="d115835e1046">值</th>
                                 <th align="left" valign="bottom" width="81%" id="d115835e1049">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d115835e1054" headers="d115835e1046 ">
                                    <p>geometry1</p>
                                 </td>
                                 <td align="left" valign="top" width="81%" headers="d115835e1054 d115835e1049 ">
                                    <p>指定表中的几何列。建议使用此列的空间索引。数据类型为SDO_GEOMETRY。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d115835e1063" headers="d115835e1046 ">
                                    <p>geometry2</p>
                                 </td>
                                 <td align="left" valign="top" width="81%" headers="d115835e1063 d115835e1049 ">
                                    <p>指定表中的几何或几何的瞬态实例。（使用绑定变量或SDO_GEOMETRY构造函数指定。）数据类型为SDO_GEOMETRY。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-A409003B-D529-4664-9942-DBE5F7AD9562__GUID-75BC4BE7-CD75-47DE-8FD8-8A098ECDAACE">返回</p>
                     <p>对于具有COVERS拓扑关系的对象，表达式SDO_COVERS（geometry1，geometry2）='TRUE'的计算结果为TRUE，否则为FALSE。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-A409003B-D529-4664-9942-DBE5F7AD9562__GUID-E7F8CD11-8506-4A1E-A86B-C5A968DD30D0">使用说明</p>
                     <p>请参阅本章中<a href="spatial-operators-reference.html#GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02">SDO_RELATE</a>运算符的使用说明。
                     </p>
                     <p>有关拓扑关系和空间和图形使用的九交点模型的说明，请参阅<a href="spatial-concepts.html#GUID-FA71CB03-FFF0-4529-BA07-AD0605DA7A89" title="Spatial和Graph使用辅助过滤器来确定数据库中实体之间的空间关系。空间关系基于几何位置。">空间关系和过滤</a> 。
                     </p>
                     <p>有关使用空间运算符（运算符在其计算中考虑并且不考虑所有三个维度）的3D支持的信息，请参阅<a href="spatial-concepts.html#GUID-6F3A9C6E-3617-47D9-AE61-CF9F1770555A" title="Oracle Spatial and Graph支持三维空间数据的存储和检索，包括点，点云（点集合），线，多边形，曲面和实体。">三维空间对象</a> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-A409003B-D529-4664-9942-DBE5F7AD9562__GUID-01524E96-96F6-4DA5-9CF5-8D1D0A36FF8F">例子</p>
                     <p>以下示例查找与查询窗口具有COVERS关系的几何（此处为左下角，右上角坐标为1,1,4,6的矩形）。（该示例使用<a href="spatial-datatypes-metadata.html#GUID-51A767CA-82EE-4475-8C8B-13E685C04934" title="This topic presents a simple example of creating a spatial table, inserting data, creating the spatial index, and performing spatial queries">简单示例中</a>描述和说明的定义和数据<a href="spatial-datatypes-metadata.html#GUID-51A767CA-82EE-4475-8C8B-13E685C04934" title="本主题提供了创建空间表，插入数据，创建空间索引和执行空间查询的简单示例">：Inserting_ Indexing_和查询空间数据</a> 。）在此示例中，只有<code class="codeph">cola_a</code>覆盖查询窗口几何体。
                     </p><pre class="oac_no_warn" dir="ltr">SELECT c.mkt_id，c.name FROM cola_markets c WHERE SDO_COVERS（c.shape，SDO_GEOMETRY（2003，NULL，NULL，SDO_ELEM_INFO_ARRAY（1,1003,3），SDO_ORDINATE_ARRAY（1,1,4,6）））='TRUE “; MKT_ID NAME ---------- -------------------------------- 1 cola_a</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="spatial-operators-reference.html#GUID-85422854-5133-4F1D-BF0E-228CA6EDAF87" title="本章介绍了使用空间对象数据类型时可以使用的运算符。">空间运算符</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL1027"></a><div class="props_rev_3"><a id="GUID-661BBD6D-8172-4397-86AD-B21C8C87E829" name="GUID-661BBD6D-8172-4397-86AD-B21C8C87E829"></a><h3 id="SPATL-GUID-661BBD6D-8172-4397-86AD-B21C8C87E829" class="sect3"><span class="enumeration_section">20.5</span> SDO_EQUAL</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-661BBD6D-8172-4397-86AD-B21C8C87E829__GUID-2CA3E9A5-6D7C-4CD0-AF7D-C8B4CD80382B">格式</p><pre class="oac_no_warn" dir="ltr">SDO_EQUAL（geometry1，geometry2）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-661BBD6D-8172-4397-86AD-B21C8C87E829__GUID-63873022-AD36-42CD-A232-4C64ABF76897">描述</p>
                     <p>检查表中的任何几何是否具有与指定几何的EQUAL拓扑关系。相当于使用<code class="codeph">'mask=EQUAL'</code>指定<a href="spatial-operators-reference.html#GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02">SDO_RELATE</a>运算符。
                     </p>
                     <p>有关此运算符执行的操作和使用要求的信息，请参阅本章中有关<a href="spatial-operators-reference.html#GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02">SDO_RELATE</a>运算符的部分。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-661BBD6D-8172-4397-86AD-B21C8C87E829__GUID-0BAA55ED-1D73-4F4A-AC45-AC2EEC9EADAF">关键词和参数</p>
                     <div class="tblformal" id="GUID-661BBD6D-8172-4397-86AD-B21C8C87E829__GUID-2226BABA-17FF-41A2-9741-5221ECA8B6BF">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameters and descriptions for SDO_EQUAL operator" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="19%" id="d115835e1227">值</th>
                                 <th align="left" valign="bottom" width="81%" id="d115835e1230">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d115835e1235" headers="d115835e1227 ">
                                    <p>geometry1</p>
                                 </td>
                                 <td align="left" valign="top" width="81%" headers="d115835e1235 d115835e1230 ">
                                    <p>指定表中的几何列。建议使用此列的空间索引。数据类型为SDO_GEOMETRY。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d115835e1244" headers="d115835e1227 ">
                                    <p>geometry2</p>
                                 </td>
                                 <td align="left" valign="top" width="81%" headers="d115835e1244 d115835e1230 ">
                                    <p>指定表中的几何或几何的瞬态实例。（使用绑定变量或SDO_GEOMETRY构造函数指定。）数据类型为SDO_GEOMETRY。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-661BBD6D-8172-4397-86AD-B21C8C87E829__GUID-7FA47275-58B2-436A-95AD-899052D7431C">返回</p>
                     <p>对于具有EQUAL拓扑关系的对象，表达式SDO_EQUAL（geometry1，geometry2）='TRUE'的计算结果为TRUE，否则为FALSE。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-661BBD6D-8172-4397-86AD-B21C8C87E829__GUID-D88DB813-BE56-4B49-828E-5F1AF5E65BA1">使用说明</p>
                     <p>请参阅本章中<a href="spatial-operators-reference.html#GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02">SDO_RELATE</a>运算符的使用说明。
                     </p>
                     <p>有关拓扑关系和空间和图形使用的九交点模型的说明，请参阅<a href="spatial-concepts.html#GUID-FA71CB03-FFF0-4529-BA07-AD0605DA7A89" title="Spatial和Graph使用辅助过滤器来确定数据库中实体之间的空间关系。空间关系基于几何位置。">空间关系和过滤</a> 。
                     </p>
                     <p>有关使用空间运算符（运算符在其计算中考虑并且不考虑所有三个维度）的3D支持的信息，请参阅<a href="spatial-concepts.html#GUID-6F3A9C6E-3617-47D9-AE61-CF9F1770555A" title="Oracle Spatial and Graph支持三维空间数据的存储和检索，包括点，点云（点集合），线，多边形，曲面和实体。">三维空间对象</a> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-661BBD6D-8172-4397-86AD-B21C8C87E829__GUID-E662A273-2693-4BDF-85CB-5559FEC7E0B2">例子</p>
                     <p>以下示例查找与查询窗口具有EQUAL关系的几何（此处为具有左下角，右上角坐标1,1,5,7的矩形）。（该示例使用<a href="spatial-datatypes-metadata.html#GUID-51A767CA-82EE-4475-8C8B-13E685C04934" title="This topic presents a simple example of creating a spatial table, inserting data, creating the spatial index, and performing spatial queries">简单示例中</a>描述和说明的定义和数据<a href="spatial-datatypes-metadata.html#GUID-51A767CA-82EE-4475-8C8B-13E685C04934" title="本主题提供了创建空间表，插入数据，创建空间索引和执行空间查询的简单示例">：Inserting_ Indexing_和查询空间数据</a> 。）在此示例中， <code class="codeph">cola_a</code> （和仅<code class="codeph">cola_a</code> ）具有与查询窗口几何相同的边界和内部。
                     </p><pre class="oac_no_warn" dir="ltr">SELECT c.mkt_id，c.name FROM cola_markets c WHERE SDO_EQUAL（c.shape，SDO_GEOMETRY（2003，NULL，NULL，SDO_ELEM_INFO_ARRAY（1,1003,3），SDO_ORDINATE_ARRAY（1,1,5,7）））='TRUE “; MKT_ID NAME ---------- -------------------------------- 1 cola_a</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="spatial-operators-reference.html#GUID-85422854-5133-4F1D-BF0E-228CA6EDAF87" title="本章介绍了使用空间对象数据类型时可以使用的运算符。">空间运算符</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL1028"></a><div class="props_rev_3"><a id="GUID-9AB42477-D0C0-4A87-826F-1BDDF1CA1FE5" name="GUID-9AB42477-D0C0-4A87-826F-1BDDF1CA1FE5"></a><h3 id="SPATL-GUID-9AB42477-D0C0-4A87-826F-1BDDF1CA1FE5" class="sect3"><span class="enumeration_section">20.6</span> SDO_FILTER</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-9AB42477-D0C0-4A87-826F-1BDDF1CA1FE5__GUID-F62AB68B-97CB-4BF2-A8F3-9EBF8CC24675">格式</p><pre class="oac_no_warn" dir="ltr">SDO_FILTER（ <span>geometry1，geometry2</span> ，param）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-9AB42477-D0C0-4A87-826F-1BDDF1CA1FE5__GUID-ECE09280-CDD4-4D51-AC27-744BD3FD1BFF">描述</p>
                     <p>使用空间索引来识别可能与给定对象（例如感兴趣区域）在空间上相互作用的空间对象集合，或者可能在空间上相互作用的空间对象对。如果对象不是不相交的，则它们在空间上相互作用。</p>
                     <p>此运算符仅执行主过滤操作。由<a href="spatial-operators-reference.html#GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02">SDO_RELATE</a>运算符执行的二次过滤操作可用于确定对象是否在空间上相互作用。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-9AB42477-D0C0-4A87-826F-1BDDF1CA1FE5__GUID-C0ADEB03-0172-47D3-A2A3-CE318C09F28F">关键词和参数</p>
                     <div class="tblformal" id="GUID-9AB42477-D0C0-4A87-826F-1BDDF1CA1FE5__GUID-FF842EE5-C744-48BB-B7AE-261338D32F91">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameters and descriptions for SDO_FILTER operator" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="16%" id="d115835e1406">值</th>
                                 <th align="left" valign="bottom" width="84%" id="d115835e1409">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="16%" id="d115835e1414" headers="d115835e1406 ">
                                    <p>geometry1</p>
                                 </td>
                                 <td align="left" valign="top" width="84%" headers="d115835e1414 d115835e1409 ">
                                    <p>指定表中的几何列。建议使用此列的空间索引。数据类型为SDO_GEOMETRY。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="16%" id="d115835e1423" headers="d115835e1406 ">
                                    <p>geometry2</p>
                                 </td>
                                 <td align="left" valign="top" width="84%" headers="d115835e1423 d115835e1409 ">
                                    <p>指定表中的几何或几何的瞬态实例。（使用绑定变量或SDO_GEOMETRY构造函数指定。）数据类型为SDO_GEOMETRY。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="16%" id="d115835e1432" headers="d115835e1406 ">
                                    <p>PARAM</p>
                                 </td>
                                 <td align="left" valign="top" width="84%" headers="d115835e1432 d115835e1409 ">
                                    <p>（可选）指定<code class="codeph">min_resolution</code>和<code class="codeph">max_resolution</code>关键字中的一个或两个。数据类型是VARCHAR2。
                                    </p>
                                    <p><code class="codeph">min_resolution</code>关键字仅包括几何的MBR的至少一侧等于或大于指定值的几何。例如， <code class="codeph">min_resolution=10</code>仅包括几何的MBR的宽度或高度（或两者）至少为10的几何。（此关键字可用于排除太小而无法感兴趣的几何图形。）
                                    </p>
                                    <p><code class="codeph">max_resolution</code>关键字仅包含几何的MBR小于或等于指定值的几何。例如， <code class="codeph">max_resolution=10</code>仅包括几何的MBR的宽度或高度（或两者）小于或等于10的几何。（此关键字可用于排除太大而无法引起兴趣的几何图形。）
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-9AB42477-D0C0-4A87-826F-1BDDF1CA1FE5__GUID-21C7CB55-FB73-466F-AB78-8B6A8A5DBC86">返回</p>
                     <p>对于非不相交的对象对，表达式SDO_FILTER（geometry1，geometry2）='TRUE'的计算结果为TRUE，否则为FALSE。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-9AB42477-D0C0-4A87-826F-1BDDF1CA1FE5__GUID-F5A68A64-D327-46C3-A771-716A8C7DFC45">使用说明</p>
                     <p>必须始终在WHERE子句中使用SDO_FILTER运算符，并且包含运算符的条件应该是SDO_FILTER（arg1，arg2）='TRUE'形式的表达式。（表达式不能等同于“TRUE”以外的任何值。）</p>
                     <p><code class="codeph">geometry2</code>可以来自表，也可以是瞬态SDO_GEOMETRY对象，例如绑定变量或SDO_GEOMETRY构造函数。
                     </p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>如果<code class="codeph">geometry2</code>列未进行空间索引，则运算符会将查询窗口编入内存索引，并且性能非常好。
                           </p>
                        </li>
                        <li>
                           <p><a id="d115835e1485" class="indexterm-anchor"></a><a id="d115835e1491" class="indexterm-anchor"></a><a id="d115835e1495" class="indexterm-anchor"></a>如果将<code class="codeph">geometry2</code>中的两个或多个几何传递给运算符，则必须指定ORDERED优化程序提示，并且必须首先在FROM子句中指定<code class="codeph">geometry2</code>的表。
                           </p>
                        </li>
                     </ul>
                     <p>如果<code class="codeph">geometry1</code>和<code class="codeph">geometry2</code>基于不同的坐标系统， <code class="codeph">geometry2</code>暂时变换到的坐标系<code class="codeph">geometry1</code>为要执行的操作，如在<a href="coordinate-systems-concepts.html#GUID-F1C8A225-2FA0-4338-B5A6-05455C18B1E8">用于与运算符和函数的几何结构不同的坐标系</a> 。
                     </p>
                     <div class="infoboxnote" id="GUID-9AB42477-D0C0-4A87-826F-1BDDF1CA1FE5__GUID-8CB4D15E-795B-4BE1-83B0-9C94945FA6A5">
                        <p class="notep1">注意：</p>
                        <p>如果已使用DBMS_RLS.ADD_POLICY过程向表或视图添加细粒度访问控制策略，并且指定的策略函数使用空间运算符，则运算符必须为SDO_FILTER。在该上下文中不支持其他空间运算符。</p>
                     </div>
                     <p>有关使用空间运算符（运算符在其计算中考虑并且不考虑所有三个维度）的3D支持的信息，请参阅<a href="spatial-concepts.html#GUID-6F3A9C6E-3617-47D9-AE61-CF9F1770555A" title="Oracle Spatial and Graph支持三维空间数据的存储和检索，包括点，点云（点集合），线，多边形，曲面和实体。">三维空间对象</a> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-9AB42477-D0C0-4A87-826F-1BDDF1CA1FE5__GUID-4C49E788-B7D9-4AC4-9F12-DA6256E24ACC">例子</p>
                     <p>以下示例选择可能与查询窗口交互的几何（此处为左下角，右上角坐标为4,6,8,8的矩形）。（该示例使用<a href="spatial-datatypes-metadata.html#GUID-51A767CA-82EE-4475-8C8B-13E685C04934" title="This topic presents a simple example of creating a spatial table, inserting data, creating the spatial index, and performing spatial queries">简单示例中</a>描述和说明的定义和数据<a href="spatial-datatypes-metadata.html#GUID-51A767CA-82EE-4475-8C8B-13E685C04934" title="本主题提供了创建空间表，插入数据，创建空间索引和执行空间查询的简单示例">：Inserting_ Indexing_和查询空间数据</a> 。）
                     </p><pre class="oac_no_warn" dir="ltr">SELECT c.mkt_id，c.name FROM cola_markets c WHERE SDO_FILTER（c.shape，SDO_GEOMETRY（2003，NULL，NULL，SDO_ELEM_INFO_ARRAY（1,1003,3），SDO_ORDINATE_ARRAY（4,6,8,8）））='TRUE “; MKT_ID NAME ---------- -------------------------------- 2 cola_b 1 cola_a 4 cola_d</pre><p>以下示例与前面的示例相同，不同之处在于它仅包含几何图形，其中几何图形的MBR的至少一侧等于或大于4.1。在这种情况下，仅返回<code class="codeph">cola_a</code>和<code class="codeph">cola_b</code> ，因为它们的MBR至少有一侧长度大于或等于4.1。圆圈<code class="codeph">cola_d</code>被排除在外，因为它的MBR是一个边长为4的正方形。
                     </p><pre class="oac_no_warn" dir="ltr">SELECT c.mkt_id，c.name FROM cola_markets c WHERE SDO_FILTER（c.shape，SDO_GEOMETRY（2003，NULL，NULL，SDO_ELEM_INFO_ARRAY（1,1003,3），SDO_ORDINATE_ARRAY（4,6,8,8）），'min_resolution = 4.1'）='正确'; MKT_ID NAME ---------- -------------------------------- 2 cola_b 1 cola_a</pre><p>以下示例从POLYGONS表中选择GID值，其中GEOMETRY列对象可能在空间上与QUERY_POLYS表中具有GID值1的GEOMETRY列对象进行交互。</p><pre class="oac_no_warn" dir="ltr">SELECT A.gid FROM Polygons A，query_polys B WHERE B.gid = 1 AND SDO_FILTER（A.Geometry，B.Geometry）='TRUE';</pre><p>以下示例从POLYGONS表中选择GID值，其中GEOMETRY列对象可能在空间上与存储在<code class="codeph">aGeom</code>变量中的几何体进行交互。
                     </p><pre class="oac_no_warn" dir="ltr">选择A.Gid FROM Polygons A WHERE SDO_FILTER（A.Geometry，：aGeom）='TRUE';</pre><p>以下示例从POLYGONS表中选择GID值，其中GEOMETRY列对象可能在空间上与具有左下坐标（x1，y1）和右上坐标（x2，y2）的指定矩形进行交互。</p><pre class="oac_no_warn" dir="ltr">选择A.Gid FROM Polygons A WHERE SDO_FILTER（A.Geometry，sdo_geometry（2003，NULL，NULL，sdo_elem_info_array（1,1003,3），sdo_ordinate_array（x1，y1，x2，y2）））='TRUE';</pre><p>以下示例从POLYGONS表中选择GID值，其中GEOMETRY列对象可能在空间上与QUERY_POLYS表中的任何GEOMETRY列对象进行交互。在此示例中，使用了ORDERED优化程序提示，并且首先在FROM子句中指定了QUERY_POLYS（ <code class="codeph">geometry2</code> ）表，因为涉及<code class="codeph">geometry2</code>中的多个几何（请参阅用法说明）。
                     </p><pre class="oac_no_warn" dir="ltr">SELECT / * + ORDERED * / A.gid FROM query_polys B，polygons A WHERE SDO_FILTER（A.Geometry，B.Geometry）='TRUE';</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-9AB42477-D0C0-4A87-826F-1BDDF1CA1FE5__GUID-3630D4B2-F16F-40E9-92BC-5C16D23C593A">相关话题</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="spatial-operators-reference.html#GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02">SDO_RELATE</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="spatial-operators-reference.html#GUID-85422854-5133-4F1D-BF0E-228CA6EDAF87" title="本章介绍了使用空间对象数据类型时可以使用的运算符。">空间运算符</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL1029"></a><div class="props_rev_3"><a id="GUID-0080FCAB-C640-4E50-9639-9EE273E411FB" name="GUID-0080FCAB-C640-4E50-9639-9EE273E411FB"></a><h3 id="SPATL-GUID-0080FCAB-C640-4E50-9639-9EE273E411FB" class="sect3"><span class="enumeration_section">20.7</span> SDO_INSIDE</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-0080FCAB-C640-4E50-9639-9EE273E411FB__GUID-D90B9D74-2F0A-496B-AFF8-C9651D698236">格式</p><pre class="oac_no_warn" dir="ltr">SDO_INSIDE（geometry1，geometry2）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-0080FCAB-C640-4E50-9639-9EE273E411FB__GUID-B115A468-4D98-4AE3-9BD2-45D6DAA32003">描述</p>
                     <p>检查表中的任何几何是否具有与指定几何体的INSIDE拓扑关系。相当于使用<code class="codeph">'mask=INSIDE'</code>指定<a href="spatial-operators-reference.html#GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02">SDO_RELATE</a>运算符。
                     </p>
                     <p>有关此运算符执行的操作和使用要求的信息，请参阅本章中有关<a href="spatial-operators-reference.html#GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02">SDO_RELATE</a>运算符的部分。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-0080FCAB-C640-4E50-9639-9EE273E411FB__GUID-3351E6BC-0DCC-416D-902C-291A8E61BF5F">关键词和参数</p>
                     <div class="tblformal" id="GUID-0080FCAB-C640-4E50-9639-9EE273E411FB__GUID-54E64B94-044C-4AE5-957F-29A19F711E82">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameters and descriptions for SDO_INSIDE operator" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="19%" id="d115835e1704">值</th>
                                 <th align="left" valign="bottom" width="81%" id="d115835e1707">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d115835e1712" headers="d115835e1704 ">
                                    <p>geometry1</p>
                                 </td>
                                 <td align="left" valign="top" width="81%" headers="d115835e1712 d115835e1707 ">
                                    <p>指定表中的几何列。建议使用此列的空间索引。数据类型为SDO_GEOMETRY。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d115835e1721" headers="d115835e1704 ">
                                    <p>geometry2</p>
                                 </td>
                                 <td align="left" valign="top" width="81%" headers="d115835e1721 d115835e1707 ">
                                    <p>指定表中的几何或几何的瞬态实例。（使用绑定变量或SDO_GEOMETRY构造函数指定。）数据类型为SDO_GEOMETRY。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-0080FCAB-C640-4E50-9639-9EE273E411FB__GUID-AF753BF7-C6A8-46B6-BEB4-FCE41604401C">返回</p>
                     <p>对于具有INSIDE拓扑关系的对象，表达式SDO_INSIDE（geometry1，geometry2）='TRUE'的计算结果为TRUE，否则为FALSE。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-0080FCAB-C640-4E50-9639-9EE273E411FB__GUID-00DF4955-EC43-4329-A309-E0300B839437">使用说明</p>
                     <p>请参阅本章中<a href="spatial-operators-reference.html#GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02">SDO_RELATE</a>运算符的使用说明。
                     </p>
                     <p>有关拓扑关系和空间和图形使用的九交点模型的说明，请参阅<a href="spatial-concepts.html#GUID-FA71CB03-FFF0-4529-BA07-AD0605DA7A89" title="Spatial和Graph使用辅助过滤器来确定数据库中实体之间的空间关系。空间关系基于几何位置。">空间关系和过滤</a> 。
                     </p>
                     <p>有关使用空间运算符（运算符在其计算中考虑并且不考虑所有三个维度）的3D支持的信息，请参阅<a href="spatial-concepts.html#GUID-6F3A9C6E-3617-47D9-AE61-CF9F1770555A" title="Oracle Spatial and Graph支持三维空间数据的存储和检索，包括点，点云（点集合），线，多边形，曲面和实体。">三维空间对象</a> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-0080FCAB-C640-4E50-9639-9EE273E411FB__GUID-D10A4EB7-85F2-4915-BAD7-AEB4D0ADC425">例子</p>
                     <p>以下示例查找与查询窗口具有INSIDE关系的几何（此处为左下角，右上角坐标为5,6,12,12的矩形）。（该示例使用<a href="spatial-datatypes-metadata.html#GUID-51A767CA-82EE-4475-8C8B-13E685C04934" title="This topic presents a simple example of creating a spatial table, inserting data, creating the spatial index, and performing spatial queries">简单示例中</a>描述和说明的定义和数据<a href="spatial-datatypes-metadata.html#GUID-51A767CA-82EE-4475-8C8B-13E685C04934" title="本主题提供了创建空间表，插入数据，创建空间索引和执行空间查询的简单示例">：Inserting_ Indexing_和查询空间数据</a> 。）在此示例中，只有<code class="codeph">cola_d</code> （圆圈）位于查询窗口几何体内。
                     </p><pre class="oac_no_warn" dir="ltr">SELECT c.mkt_id，c.name FROM cola_markets c WHERE SDO_INSIDE（c.shape，SDO_GEOMETRY（2003，NULL，NULL，SDO_ELEM_INFO_ARRAY（1,1003,3），SDO_ORDINATE_ARRAY（5,6,12,12）））='TRUE “; MKT_ID NAME ---------- -------------------------------- 4 cola_d</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="spatial-operators-reference.html#GUID-85422854-5133-4F1D-BF0E-228CA6EDAF87" title="本章介绍了使用空间对象数据类型时可以使用的运算符。">空间运算符</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL1031"></a><a id="SPATL1030"></a><div class="props_rev_3"><a id="GUID-4D9DD9EF-DD9C-4198-A416-37B900B4E32F" name="GUID-4D9DD9EF-DD9C-4198-A416-37B900B4E32F"></a><h3 id="SPATL-GUID-4D9DD9EF-DD9C-4198-A416-37B900B4E32F" class="sect3"><span class="enumeration_section">20.8</span> SDO_JOIN</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-4D9DD9EF-DD9C-4198-A416-37B900B4E32F__GUID-ED2ED24B-1102-4BC6-84EC-6C5DCF7F4D88">格式</p><pre class="oac_no_warn" dir="ltr">SDO_JOIN（table_name1，column_name1，table_name2，column_name2，params，preserve_join_order，table1_partition，table2_partition）RETURN SDO_ROWIDSET;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-4D9DD9EF-DD9C-4198-A416-37B900B4E32F__GUID-0088D502-8D66-4813-823D-9DE222E93F79">描述</p>
                     <p>基于一个或多个拓扑关系执行空间连接。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-4D9DD9EF-DD9C-4198-A416-37B900B4E32F__GUID-69D8F3A3-254A-417B-9990-B94D1A16044D">关键词和参数</p>
                     <div class="tblformal" id="GUID-4D9DD9EF-DD9C-4198-A416-37B900B4E32F__GUID-854AAC36-7452-4A69-8DF8-7B331FB4BBA8">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameters and descriptions for SDO_JOIN operator" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="19%" id="d115835e1891">值</th>
                                 <th align="left" valign="bottom" width="81%" id="d115835e1894">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d115835e1899" headers="d115835e1891 ">
                                    <p>table_name1</p>
                                 </td>
                                 <td align="left" valign="top" width="81%" headers="d115835e1899 d115835e1894 ">
                                    <p>要在空间连接操作中使用的第一个表的名称。该表必须具有SDO_GEOMETRY类型的列。数据类型是VARCHAR2。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d115835e1908" headers="d115835e1891 ">
                                    <p>column_name1</p>
                                 </td>
                                 <td align="left" valign="top" width="81%" headers="d115835e1908 d115835e1894 ">
                                    <p><code class="codeph">table_name1</code> SDO_GEOMETRY类型的空间列的名称。必须在此列上定义空间R树索引。数据类型是VARCHAR2。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d115835e1920" headers="d115835e1891 ">
                                    <p>table_name2</p>
                                 </td>
                                 <td align="left" valign="top" width="81%" headers="d115835e1920 d115835e1894 ">
                                    <p>要在空间连接操作中使用的第二个表的名称。（它可以与<code class="codeph">table_name1</code>相同或不同。如果<code class="codeph">table_name2</code>与<code class="codeph">table_name1</code>相同，请参阅本节中的<span class="q">“ <a href="spatial-operators-reference.html#GUID-4D9DD9EF-DD9C-4198-A416-37B900B4E32F__CHDEHJAH">优化自联接</a> ”</span> 。）该表必须具有SDO_GEOMETRY类型的列。数据类型是VARCHAR2。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d115835e1942" headers="d115835e1891 ">
                                    <p>column_name2</p>
                                 </td>
                                 <td align="left" valign="top" width="81%" headers="d115835e1942 d115835e1894 ">
                                    <p><code class="codeph">table_name2</code> SDO_GEOMETRY类型的空间列的名称。必须在此列上定义空间R树索引。数据类型是VARCHAR2。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d115835e1954" headers="d115835e1891 ">
                                    <p>PARAMS</p>
                                 </td>
                                 <td align="left" valign="top" width="81%" headers="d115835e1954 d115835e1894 ">
                                    <p>关键字和值的可选参数字符串;仅在<code class="codeph">mask=ANYINTERACT</code> 。确定运算符的行为。有关可用关键字的信息，请参阅“使用说明”中的<a href="spatial-operators-reference.html#GUID-4D9DD9EF-DD9C-4198-A416-37B900B4E32F__BGEEACJD" title="SDO_JOIN运算符的关键字和说明">表20-3</a> 。数据类型是VARCHAR2。默认值为NULL。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d115835e1971" headers="d115835e1891 ">
                                    <p>preserve_join_order</p>
                                 </td>
                                 <td align="left" valign="top" width="81%" headers="d115835e1971 d115835e1894 ">
                                    <p>可选参数，用于指定在处理运算符期间是否保证保留连接顺序。如果值为<code class="codeph">0</code> （默认值），则表的顺序可能会更改;如果值为<code class="codeph">1</code> ，则表的顺序不会更改。数据类型为NUMBER。默认值为0。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d115835e1986" headers="d115835e1891 ">
                                    <p>table1_partition</p>
                                 </td>
                                 <td align="left" valign="top" width="81%" headers="d115835e1986 d115835e1894 ">
                                    <p><code class="codeph">table_name1</code>中表分区的名称。如果表具有分区空间索引，则必须指定;如果表没有分区空间索引，则必须为null。（有关使用分区空间索引的信息，请参阅<a href="indexing-querying-spatial-data.html#GUID-DB52CEB5-4A4D-44E5-B6F6-F80E00A39E61">使用分区空间索引</a> 。）数据类型是VARCHAR2。默认值为null。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d115835e2002" headers="d115835e1891 ">
                                    <p>table2_partition</p>
                                 </td>
                                 <td align="left" valign="top" width="81%" headers="d115835e2002 d115835e1894 ">
                                    <p><code class="codeph">table_name2</code>中表分区的名称。如果表具有分区空间索引，则必须指定;如果表没有分区空间索引，则必须为null。（有关使用分区空间索引的信息，请参阅<a href="indexing-querying-spatial-data.html#GUID-DB52CEB5-4A4D-44E5-B6F6-F80E00A39E61">使用分区空间索引</a> 。）数据类型是VARCHAR2。默认值为null。
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-4D9DD9EF-DD9C-4198-A416-37B900B4E32F__GUID-55F14D94-E58D-4CD3-B51F-055962FF81BD">返回</p>
                     <p><a id="d115835e2021" class="indexterm-anchor"></a><a id="d115835e2023" class="indexterm-anchor"></a> SDO_JOIN返回SDO_ROWIDSET的对象，该对象由SDO_ROWIDPAIR的对象表组成。 Oracle Spatial and Graph将SDO_ROWIDSET类型定义为：</p><pre class="oac_no_warn" dir="ltr">CREATE TYPE sdo_rowidset作为表sdo_rowidpair;</pre><p>Oracle Spatial and Graph将对象类型SDO_ROWIDPAIR定义为：</p><pre class="oac_no_warn" dir="ltr">CREATE TYPE sdo_rowidpair AS OBJECT（rowid1 VARCHAR2（24），rowid2 VARCHAR2（24））;</pre><p>在SDO_ROWIDPAIR定义， <code class="codeph">rowid1</code>指的是从一个rowid <code class="codeph">table_name1</code> ，和<code class="codeph">rowid2</code>指的是从一个rowid <code class="codeph">table_name2</code> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-4D9DD9EF-DD9C-4198-A416-37B900B4E32F__GUID-53E1095F-A9C1-4AB2-8730-C245D5D2BAEC">使用说明</p>
                     <p>SDO_JOIN在技术上不是运算符，而是表函数。（有关表函数的说明，请参阅<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/spatl&amp;id=LNPLS915" target="_blank"><span class="italic">Oracle Database PL / SQL语言参考</span></a> 。）但是，它在带有空间运算符的章节中介绍，因为它的用法类似于运算符的用法，因为它不是包含其他函数和过程的包的一部分。
                     </p>
                     <p>当您需要执行全表连接时，建议使用此表函数。</p>
                     <p><code class="codeph">column_name1</code>和<code class="codeph">column_name2</code>的几何必须具有相同的SRID（坐标系）值和相同的维数。
                     </p>
                     <p><a id="d115835e2067" class="indexterm-anchor"></a><a id="d115835e2073" class="indexterm-anchor"></a><a id="d115835e2077" class="indexterm-anchor"></a>为获得最佳性能，请使用<code class="codeph">/*+ ORDERED */</code> optimizer提示，并在FROM子句中首先指定SDO_JOIN表函数。
                     </p>
                     <p>如果表启用了版本（使用工作区管理器功能），则必须指定由Workspace Manager创建的<span class="italic"><code class="codeph">&lt;table_name&gt;</code></span> <code class="codeph">_LT</code>表。例如，如果COLA_MARKETS表启用了版本，并且您想要对该表执行空间连接操作，请使用SDO_JOIN表函数指定COLA_MARKETS_LT（而不是COLA_MARKETS）。（但是，对于所有其他空间函数，过程和运算符，请不要使用<span class="italic"><code class="codeph">&lt;table_name&gt;</code></span> <code class="codeph">_LT</code>名称。）
                     </p>
                     <p><a href="spatial-operators-reference.html#GUID-4D9DD9EF-DD9C-4198-A416-37B900B4E32F__BGEEACJD" title="SDO_JOIN运算符的关键字和说明">表20-3</a>显示了<code class="codeph">params</code>参数的关键字。
                     </p>
                     <div class="tblformal" id="GUID-4D9DD9EF-DD9C-4198-A416-37B900B4E32F__BGEEACJD">
                        <p class="titleintable">表20-3 SDO_JOIN运算符的params关键字</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="params SDO_JOIN运算符的关键字" width="100%" border="1" summary="Keywords and descriptions for the SDO_JOIN Operator" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="32%" id="d115835e2118">关键词</th>
                                 <th align="left" valign="bottom" width="68%" id="d115835e2121">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="32%" id="d115835e2126" headers="d115835e2118 ">
                                    <p>面具</p>
                                 </td>
                                 <td align="left" valign="top" width="68%" headers="d115835e2126 d115835e2121 ">
                                    <p><a id="d115835e2131" class="indexterm-anchor"></a>感兴趣的拓扑关系。有效值为'mask = <span class="italic">&lt;value&gt;</span> '，其中<span class="italic">&lt;value&gt;</span>是一个或多个对<a href="spatial-operators-reference.html#GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02">SDO_RELATE</a>运算符有效的掩码值（ <code class="codeph">TOUCH</code> ， <code class="codeph">OVERLAPBDYDISJOINT</code> ， <code class="codeph">OVERLAPBDYINTERSECT</code> ， <code class="codeph">EQUAL</code> ， <code class="codeph">INSIDE</code> ， <code class="codeph">COVEREDBY</code> ， <code class="codeph">CONTAINS</code> ， <code class="codeph">COVERS</code> ， <code class="codeph">ANYINTERACT</code> ， <code class="codeph">ON</code> ）或<code class="codeph">FILTER</code> ，用于检查MBR（滤波器级近似值）是否相交。多个掩码与逻辑布尔运算符OR组合（例如， <code class="codeph">'mask=inside+touch'</code> ）;但是， <code class="codeph">FILTER</code>不能与任何其他掩码组合使用。
                                    </p>
                                    <p>如果此参数为null或包含空字符串，则假定为<code class="codeph">mask=FILTER</code> 。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="32%" id="d115835e2191" headers="d115835e2118 ">
                                    <p>距离</p>
                                 </td>
                                 <td align="left" valign="top" width="68%" headers="d115835e2191 d115835e2121 ">
                                    <p>指定在执行关系检查之前添加到容差值（在<a href="spatial-concepts.html#GUID-7469388B-6D23-4294-904F-78CA3B7191D3">容</a>差中说明）的数字距离值。例如，如果公差为10米并且您指定<code class="codeph">'distance=100 unit=meter'</code> ，则如果两个对象彼此<code class="codeph">'distance=100 unit=meter'</code> 110米，则认为它们具有空间交互。如果指定<code class="codeph">distance</code>但不指定<code class="codeph">unit</code> ，则假定与数据关联的度量单位。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="32%" id="d115835e2211" headers="d115835e2118 ">
                                    <p>单元</p>
                                 </td>
                                 <td align="left" valign="top" width="68%" headers="d115835e2211 d115835e2121 ">
                                    <p>指定与距离值关联的度量单位（例如， <code class="codeph">'distance=100 unit=meter'</code> ）。有关<a href="spatial-datatypes-metadata.html#GUID-5984C12A-0A22-4BFD-B777-7C837D3CBB99" title="Geometry functions that involve measurement allow an optional unit parameter to specify the unit of measurement for a specified distance or area, if a georeferenced coordinate system (SDO_SRID value) is associated with the input geometry or geometries.">测量</a>单位规范的更多信息，请参见<a href="spatial-datatypes-metadata.html#GUID-5984C12A-0A22-4BFD-B777-7C837D3CBB99" title="如果地理参考坐标系（SDO_SRID值）与输入几何或几何相关联，则涉及测量的几何函数允许可选单位参数指定指定距离或区域的测量单位。">测量支持</a>单位。如果指定<code class="codeph">unit</code> ，则还必须指定<code class="codeph">distance</code> 。数据类型是VARCHAR2。默认值=与数据关联的度量单位。对于大地测量数据，默认值为米。
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>在调用SDO_JOIN之前，必须在会话中提交任何以前的DML语句。否则，将返回以下错误： <code class="codeph">ORA-13236: internal error in R-tree processing: [SDO_Join in active txns not supported]</code></p>
                     <p>有关使用空间运算符（运算符在其计算中考虑并且不考虑所有三个维度）的3D支持的信息，请参阅<a href="spatial-concepts.html#GUID-6F3A9C6E-3617-47D9-AE61-CF9F1770555A" title="Oracle Spatial and Graph支持三维空间数据的存储和检索，包括点，点云（点集合），线，多边形，曲面和实体。">三维空间对象</a> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-4D9DD9EF-DD9C-4198-A416-37B900B4E32F__CHDEHJAH">
                     <p class="subhead2" id="GUID-4D9DD9EF-DD9C-4198-A416-37B900B4E32F__GUID-E381E43E-D32B-486F-85E9-E047D7B20E65">优化自我联接</p>
                     <p>如果要执行自联接（即，如果<code class="codeph">table_name1</code>和<code class="codeph">table_name2</code>指定相同的表），则可以通过优化自联接来提高性能。
                     </p>
                     <p>如果在没有掩码（例如， <code class="codeph">ANYINTERACT</code> ）或距离规范的情况下调用<code class="codeph">ANYINTERACT</code> ，则它仅比较要连接的两个几何列的索引结构。这可以快速识别“可能”进行交互的几何对。如果使用掩码或距离规范调用SDO_JOIN，则在使用索引识别可能相互作用的几何对之后，还会比较几何坐标以查看几何对是否实际相互作用。坐标比较是SDO_JOIN操作中最昂贵的部分。
                     </p>
                     <p>在自连接中，将相同的几何列与自身进行比较，每个几何对在结果集中返回两次。例如：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>对于具有ID值（1,2）的几何对，还返回对（2,1）。SDO_JOIN中的不良效果是相同几何对的坐标被比较两次，而不是一次。</p>
                        </li>
                        <li>
                           <p>相等的ID对返回两次。例如，具有50,000行的表将返回ID对（1,1）两次，ID对（2,2）两次，依此类推。这也是不希望的效果。</p>
                        </li>
                     </ul>
                     <p>在自连接方案中调用SDO_JOIN时，可以通过消除几何对的重复比较以及对的ID值匹配的所有坐标比较来消除不需要的效果。此优化仅将SDO_JOIN用于主过滤器，并调用<a href="SDO_GEOM-reference.html#GUID-E1209A71-F5D8-42A9-A93E-72657B115579">SDO_GEOM.RELATE</a>函数来比较几何坐标。以下语句通过将“ <code class="codeph">AND b.rowid &lt; c.rowid</code> ”作为谓词添加到<code class="codeph">WHERE</code>子句来完成此优化。
                     </p><pre class="oac_no_warn" dir="ltr">SQL&gt; set autotrace trace explain SQL&gt; SELECT / * + ordered use_nl（a，b）use_nl（a，c）* / b.id，c.id FROM TABLE（sdo_join（'GEOD_STATES'，'GEOM'，'GEOD_STATES' ，'GEOM'））a，GEOD_STATES b，GEOD_STATES c WHERE a.rowid1 = b.rowid AND a.rowid2 = c.rowid AND b.rowid &lt;c.rowid AND SDO_GEOM.RELATE（b.geom，'ANYINTERACT'， c.geom，.05）='TRUE'执行计划------------------------------------- ---------------------计划哈希值：1412731386 ------------------------ -------------------------------------------------- ------------------------- | Id |操作|名称|行|字节|成本（％CPU）|时间| -------------------------------------------------- ------------------------------------------------- | 0 |选择声明| | 1 | 1124 | 12787（1）| 00:02:34 | | 1 | NESTED LOOPS | | 1 | 1124 | 12787（1）| 00:02:34 | | 2 | NESTED LOOPS | | 4574 | 2514K | 8206（1）| 00:01:39 | | 3 |收集ITERATOR PICKLER FETCH | SDO_JOIN | | || | | * 4 |通过USER ROWID表的访问权限| GEOD_STATES | 1 | 561 | 1（0）| 00:00:01 | | * 5 |通过USER ROWID表的访问权限| GEOD_STATES | 1 | 561 | 1（0）| 00:00:01 |谓词信息（由操作ID标识）：----------------------------------------- ---------- 4  - 访问（CHARTOROWID（VALUE（KOKBF $）））5  - 访问（CHARTOROWID（VALUE（KOKBF $）））过滤器（“B”。ROWID &lt; “C”。ROWID和“SDO_GEOM”。“RELATE”（“B”。“GEOM”，“ANYINTERACT”，“C”。“GEOM”，。05）=“TRUE”）SQL&gt;设置autotrace off</pre><p>在前面的示例中， <code class="codeph">AND b.rowid &lt; c.rowid</code>在<code class="codeph">WHERE</code>子句中调用<a href="SDO_GEOM-reference.html#GUID-E1209A71-F5D8-42A9-A93E-72657B115579">SDO_GEOM.RELATE</a>之前非常重要。这将省略调用<a href="SDO_GEOM-reference.html#GUID-E1209A71-F5D8-42A9-A93E-72657B115579">SDO_GEOM.RELATE</a>函数的不良方案。另请注意，该示例使用<code class="codeph">ORDERED</code>和<code class="codeph">USE_NL</code>提示，并且执行计划不包含<code class="codeph">TABLE ACCESS FULL</code>或<code class="codeph">HASH JOIN</code> 。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-4D9DD9EF-DD9C-4198-A416-37B900B4E32F__BABBFGFE">
                     <p class="subhead2" id="GUID-4D9DD9EF-DD9C-4198-A416-37B900B4E32F__GUID-EE7131F7-505B-4BC0-9784-C5C7CE02DA5D">SDO_JOIN的跨模式调用</p>
                     <p>如果已授予对空间表和空间索引上创建的空间索引的索引表的SELECT访问权限，则可以在不在模式中的索引表上调用SDO_JOIN表函数。要查找空间索引的索引表的名称，请在USER_SDO_INDEX_METADATA视图中查询SDO_INDEX_TABLE列。例如，以下语句返回COLA_MARKETS_IDX空间索引的索引表的名称：</p><pre class="oac_no_warn" dir="ltr">SELECT sdo_index_table FROM user_sdo_index_metadata WHERE sdo_index_name ='COLA_SPATIAL_IDX';</pre><p>假设用户A拥有空间表T1（具有索引表MDRT_F9AA $），并且该用户B拥有空间表T2并且想要连接来自T1和T2的几何。还假设两个表中的几何列都命名为GEOMETRY。</p>
                     <p>用户A或具有适当权限的用户必须以用户A身份连接并执行以下语句：</p><pre class="oac_no_warn" dir="ltr">GRANT选择T1到B; GRANT选择MDRT_F9AA $到B;</pre><p>用户B现在可以连接并执行SDO_JOIN查询，如下所示：</p><pre class="oac_no_warn" dir="ltr">SELECT COUNT（*）FROM（SELECT * FROM TABLE（SDO_JOIN（'A.T1'，'GEOMETRY'，'B.T2'，'GEOMETRY'，'mask = anyinteract'）））;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-4D9DD9EF-DD9C-4198-A416-37B900B4E32F__GUID-9343E86D-FEE9-41D2-AB72-7BE82A33CA79">例子</p>
                     <p>以下示例将COLA_MARKETS表与其自身连接，以便为每个几何体查找与其具有任何空间交互的所有其他几何。（该示例使用<a href="spatial-datatypes-metadata.html#GUID-51A767CA-82EE-4475-8C8B-13E685C04934" title="This topic presents a simple example of creating a spatial table, inserting data, creating the spatial index, and performing spatial queries">简单示例中</a>的定义和数据<a href="spatial-datatypes-metadata.html#GUID-51A767CA-82EE-4475-8C8B-13E685C04934" title="本主题提供了创建空间表，插入数据，创建空间索引和执行空间查询的简单示例">：Inserting_ Indexing_和查询空间数据</a> 。）在此示例中， <code class="codeph">rowid1</code>和<code class="codeph">rowid2</code>对应于SDO_ROWIDPAIR类型定义中的属性名称。请注意，在输出中， <code class="codeph">cola_d</code> （圆圈）仅与自身交互，而不与任何其他几何交互。
                     </p><pre class="oac_no_warn" dir="ltr">SELECT / * + ordered * / a.name，b.name FROM TABLE（SDO_JOIN（'COLA_MARKETS'，'SHAPE'，'COLA_MARKETS'，'SHAPE'，'mask = ANYINTERACT'））c，cola_markets a，cola_markets b WHERE c.rowid1 = a.rowid AND c.rowid2 = b.rowid ORDER BY a.name;姓名：-------------------------------- ---------------- ---------------- cola_a cola_c cola_a cola_b cola_a cola_a cola_b cola_c cola_b cola_b cola_b cola_a cola_c cola_c cola_c cola_b cola_c cola_a cola_d cola_d选择10行。</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-4D9DD9EF-DD9C-4198-A416-37B900B4E32F__GUID-9235E3CE-BB8E-4672-86BA-B6E4B7C91922">相关话题</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="spatial-operators-reference.html#GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02">SDO_RELATE</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="spatial-operators-reference.html#GUID-85422854-5133-4F1D-BF0E-228CA6EDAF87" title="本章介绍了使用空间对象数据类型时可以使用的运算符。">空间运算符</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL1033"></a><a id="SPATL1032"></a><div class="props_rev_3"><a id="GUID-41E6B1FA-1A03-480B-996F-830E8566661D" name="GUID-41E6B1FA-1A03-480B-996F-830E8566661D"></a><h3 id="SPATL-GUID-41E6B1FA-1A03-480B-996F-830E8566661D" class="sect3"><span class="enumeration_section">20.9</span> SDO_NN</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-41E6B1FA-1A03-480B-996F-830E8566661D__GUID-5C8909BA-F367-46B6-855F-DE5CDD16240A">格式</p><pre class="oac_no_warn" dir="ltr">SDO_NN（geometry1，geometry2，param [，number]）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-41E6B1FA-1A03-480B-996F-830E8566661D__GUID-85E07D30-24DF-41E0-8018-7363D18ECF1A">描述</p>
                     <p>使用空间索引标识几何的最近邻居。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-41E6B1FA-1A03-480B-996F-830E8566661D__GUID-2D677BA9-D134-4CAB-AEA6-1451E623EC11">关键词和参数</p>
                     <div class="tblformal" id="GUID-41E6B1FA-1A03-480B-996F-830E8566661D__GUID-EC6B5964-0D56-4250-B313-CC3CDEF5FC75">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameters and descriptions for SDO_NN operator" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="16%" id="d115835e2460">值</th>
                                 <th align="left" valign="bottom" width="84%" id="d115835e2463">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="16%" id="d115835e2468" headers="d115835e2460 ">
                                    <p>geometry1</p>
                                 </td>
                                 <td align="left" valign="top" width="84%" headers="d115835e2468 d115835e2463 ">
                                    <p>指定表中的几何列。建议使用此列的空间索引。数据类型为SDO_GEOMETRY。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="16%" id="d115835e2477" headers="d115835e2460 ">
                                    <p>geometry2</p>
                                 </td>
                                 <td align="left" valign="top" width="84%" headers="d115835e2477 d115835e2463 ">
                                    <p>指定表中的几何或几何的瞬态实例。最近的邻居或邻居<code class="codeph">geometry2</code>将返回<code class="codeph">geometry1</code> 。 （ <code class="codeph">geometry2</code>是使用绑定变量或SDO_GEOMETRY构造函数指定的。）数据类型为SDO_GEOMETRY。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="16%" id="d115835e2495" headers="d115835e2460 ">
                                    <p>PARAM</p>
                                 </td>
                                 <td align="left" valign="top" width="84%" headers="d115835e2495 d115835e2463 ">
                                    <p>确定运算符的行为。<a href="spatial-operators-reference.html#GUID-41E6B1FA-1A03-480B-996F-830E8566661D__G996876" title="SDO_NN参数的关键字和描述">表20-4</a>列出了可用的关键字。如果未指定此参数，则操作符将以<code class="codeph">geometry2</code>递增距离顺序返回所有行。数据类型是VARCHAR2。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="16%" id="d115835e2512" headers="d115835e2460 ">
                                    <p>数</p>
                                 </td>
                                 <td align="left" valign="top" width="84%" headers="d115835e2512 d115835e2463 ">
                                    <p>如果<a href="spatial-operators-reference.html#GUID-4CD900B5-E2FB-4802-B843-E66D5D86BE64">SDO_NN_DISTANCE</a>辅助操作包括在调用SDO_NN，指定在调用中使用相同数量的<a href="spatial-operators-reference.html#GUID-4CD900B5-E2FB-4802-B843-E66D5D86BE64">SDO_NN_DISTANCE</a> 。数据类型为NUMBER。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p><a href="spatial-operators-reference.html#GUID-41E6B1FA-1A03-480B-996F-830E8566661D__G996876" title="SDO_NN参数的关键字和描述">表20-4</a>列出了<code class="codeph">param</code>参数的关键字。
                     </p>
                     <div class="tblformal" id="GUID-41E6B1FA-1A03-480B-996F-830E8566661D__G996876">
                        <p class="titleintable">表20-4 SDO_NN参数的关键字</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="SDO_NN参数的关键字" width="100%" border="1" summary="Keywords and descriptions for the SDO_NN Param Parameter" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="18%" id="d115835e2547">关键词</th>
                                 <th align="left" valign="bottom" width="82%" id="d115835e2550">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="18%" id="d115835e2555" headers="d115835e2547 ">
                                    <p>距离</p>
                                 </td>
                                 <td align="left" valign="top" width="82%" headers="d115835e2555 d115835e2550 ">
                                    <p>指定停止搜索最近邻居的距离单位数。如果您还未指定<code class="codeph">unit</code>关键字，则默认值是与数据关联的度量单位。数据类型为NUMBER。</p>
                                    <p>例如：'距离= 10单位=英里'</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="18%" id="d115835e2569" headers="d115835e2547 ">
                                    <p>椭圆形</p>
                                 </td>
                                 <td align="left" valign="top" width="82%" headers="d115835e2569 d115835e2550 ">
                                    <p>指定椭圆体距离是否始终与大地测量数据一起使用（ <code class="codeph">true</code> ），或者在某些情况下是否使用球形距离（ <code class="codeph">false</code> ，默认值）。请参阅<a href="coordinate-systems-concepts.html#GUID-A5727F9D-FA87-467F-851D-50B11A016460">距离：球面与椭球与大地测量数据</a> 。
                                    </p>
                                    <p>例如：'ellipsoidal = true'</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="18%" id="d115835e2587" headers="d115835e2547 ">
                                    <p>SDO_BATCH_SIZE</p>
                                 </td>
                                 <td align="left" valign="top" width="82%" headers="d115835e2587 d115835e2550 ">
                                    <p>指定可能需要多次计算SDO_NN表达式时要计算的行数，以便返回满足WHERE子句的所需数量的结果。仅在使用R树索引时可用。如果指定<code class="codeph">sdo_batch_size=0</code> （或者如果完全省略<code class="codeph">param</code>参数），则Spatial和Graph会计算适合结果集大小的批处理大小。有关更多信息，请参阅使用说明和示例。数据类型为NUMBER。</p>
                                    <p>例如：'sdo_batch_size = 10'</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="18%" id="d115835e2604" headers="d115835e2547 ">
                                    <p>SDO_NUM_RES</p>
                                 </td>
                                 <td align="left" valign="top" width="82%" headers="d115835e2604 d115835e2550 ">
                                    <p>指定要返回的结果数（最近邻居）。如果既未指定<code class="codeph">sdo_batch_size</code>也<code class="codeph">sdo_num_res</code>指定<code class="codeph">sdo_num_res</code> ，则这相当于指定sdo_batch_size = 0。有关更多信息，请参阅使用说明和示例。数据类型为NUMBER。</p>
                                    <p>例如：'sdo_num_res = 5'</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="18%" id="d115835e2621" headers="d115835e2547 ">
                                    <p>单元</p>
                                 </td>
                                 <td align="left" valign="top" width="82%" headers="d115835e2621 d115835e2550 ">
                                    <p>如果在<a href="spatial-operators-reference.html#GUID-4CD900B5-E2FB-4802-B843-E66D5D86BE64">SDO_NN</a>调用中包含<code class="codeph">distance</code>关键字或<a href="spatial-operators-reference.html#GUID-4CD900B5-E2FB-4802-B843-E66D5D86BE64">SDO_NN_DISTANCE</a>辅助运算符，则指定度量单位：带有<code class="codeph">unit=</code>带引号的字符串和来自MDSYS.SDO_DIST_UNITS表的SDO_UNIT值。有关<a href="spatial-datatypes-metadata.html#GUID-5984C12A-0A22-4BFD-B777-7C837D3CBB99" title="Geometry functions that involve measurement allow an optional unit parameter to specify the unit of measurement for a specified distance or area, if a georeferenced coordinate system (SDO_SRID value) is associated with the input geometry or geometries.">测量</a>单位规范的更多信息，请参见<a href="spatial-datatypes-metadata.html#GUID-5984C12A-0A22-4BFD-B777-7C837D3CBB99" title="如果地理参考坐标系（SDO_SRID值）与输入几何或几何相关联，则涉及测量的几何函数允许可选单位参数指定指定距离或区域的测量单位。">测量支持</a>单位。数据类型是VARCHAR2。默认值=与数据关联的度量单位。对于大地测量数据，默认值为米。
                                    </p>
                                    <p>例如：'unit = KM'</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-41E6B1FA-1A03-480B-996F-830E8566661D__GUID-1D42B597-1668-40D7-93C9-65F2EB17A249">返回</p>
                     <p>此运算符返回<code class="codeph">geometry1</code>中最接近<code class="codeph">geometry2</code>的<code class="codeph">sdo_num_res</code>个对象数。在确定两个几何对象的接近程度时，使用每个对象表面上任意两点之间的最短可能距离。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-41E6B1FA-1A03-480B-996F-830E8566661D__GUID-1F90D144-4515-48A6-8183-9A94C8A11D17">使用说明</p>
                     <p>如果表没有空间索引，或者查询窗口的维数与创建索引时指定的维数不匹配，则禁用运算符。</p>
                     <p>必须始终在WHERE子句中使用运算符，并且包含运算符的条件应该是SDO_NN形式的表达式（arg1，arg2，'&lt;some_parameter&gt;'）='TRUE'。（表达式不能等同于“TRUE”以外的任何值。）</p>
                     <p>操作员可以通过以下方式使用：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>如果图层中的所有几何都是候选，请使用<code class="codeph">sdo_num_res</code>关键字指定返回的几何数。
                           </p>
                           <p>当您只关注邻近度时（例如，三个最接近的银行，无论银行名称如何）， <code class="codeph">sdo_num_res</code>关键字特别有用。
                           </p>
                        </li>
                        <li>
                           <p>如果表中的任何几何可能比WHERE子句中指定的几何更近，请使用<code class="codeph">sdo_batch_size</code>关键字并使用WHERE子句（包括ROWNUM伪列）来限制返回的几何数。
                           </p>
                           <p>当您需要考虑WHERE子句中最近邻居搜索列的<span class="italic"><span class="bold">同一个</span></span>表中的一个或多个列时（例如，名称中包含<span class="italic">MegaBank</span>的三个最接近的银行）， <code class="codeph">sdo_batch_size</code>关键字特别有用。
                           </p>
                        </li>
                        <li>
                           <p>您还可以指定<code class="codeph">sdo_num_res</code>和<code class="codeph">sdo_batch_size</code>关键字，如后面这些使用说明中所述。
                           </p>
                        </li>
                     </ul>
                     <p>作为<code class="codeph">sdo_batch_size</code>关键字的示例，假设RESTAURANTS表包含不同类型的餐馆，并且您希望找到距离酒店最近的两家意大利餐厅，但<code class="codeph">sdo_batch_size</code>是它们距离酒店不到两英里。查询可能如下所示：</p><pre class="oac_no_warn" dir="ltr">SELECT r.name FROM restaurants r WHERE SDO_NN（r.geometry，：my_hotel，'sdo_batch_size = 10 distance = 2 unit = mile'）='TRUE'和r.cuisine ='Italian'AND ROWNUM &lt;= 2;</pre><p>在此示例中， <code class="codeph">ROWNUM &lt;=2</code>子句是必要的，以将返回的结果数限制为不超过2，其中CUISINE是<code class="codeph">Italian</code> 。但是，如果在此示例中未指定<code class="codeph">sdo_batch_size</code>关键字，并且如果指定<code class="codeph">sdo_num_res=2</code>而不是<code class="codeph">ROWNUM &lt;=2</code> ，则只考虑两英里内最近的两家餐馆，无论其CUISINE值如何;如果这两行的CUISINE值不是<code class="codeph">Italian</code> ，则查询可能不返回任何行。
                     </p>
                     <p><code class="codeph">sdo_batch_size</code>值可以影响最近邻查询的性能。一个好的一般准则是指定可能满足WHERE子句的候选行数。使用前面的意大利餐馆查询示例，如果距离酒店最近的餐馆中约有20％是意大利餐馆，如果您想要2家餐馆，则<code class="codeph">sdo_batch_size</code>值为10可能会带来最佳表现。另一方面，如果距离酒店最近的餐馆中只有大约5％是意大利餐馆，如果你想要2家餐馆，那么<code class="codeph">sdo_batch_size</code>值为40会更好。
                     </p>
                     <p>您可以指定<code class="codeph">sdo_batch_size=0</code> ，这会导致Spatial和Graph计算适合结果集大小的批量大小。但是，计算出的批量大小可能不是最优的，并且计算会产生一些处理开销;如果您可以为查询确定一个好的<code class="codeph">sdo_batch_size</code>值，那么性能可能会比指定<code class="codeph">sdo_batch_size=0</code>更好。
                     </p>
                     <p>仅当您在<a href="spatial-operators-reference.html#GUID-4CD900B5-E2FB-4802-B843-E66D5D86BE64">SDO_NN</a>调用中使用<a href="spatial-operators-reference.html#GUID-4CD900B5-E2FB-4802-B843-E66D5D86BE64">SDO_NN_DISTANCE</a>辅助运算符时，才指定<code class="codeph">number</code>参数。请参阅本章中有关<a href="spatial-operators-reference.html#GUID-4CD900B5-E2FB-4802-B843-E66D5D86BE64">SDO_NN_DISTANCE</a>运算符的信息。
                     </p>
                     <p>如果来自两个或多个对象<code class="codeph">geometry1</code>是从一个相等的距离<code class="codeph">geometry2</code> ，任何对象都可以在给函数的任何呼叫被退回。例如，如果<code class="codeph">item_a</code> ， <code class="codeph">item_b</code>和<code class="codeph">item_c</code>最接近且<code class="codeph">item_c</code>与<code class="codeph">geometry2,</code>相等<code class="codeph">geometry2,</code>并且如果<code class="codeph">sdo_num_res=2</code> ，则返回这三个对象中的两个，但它们可以是三个中的任何两个。
                     </p>
                     <p>如果SDO_NN运算符使用分区空间索引（请参阅<a href="indexing-querying-spatial-data.html#GUID-DB52CEB5-4A4D-44E5-B6F6-F80E00A39E61">使用分区空间索引</a> ），则会根据查询条件为包含候选行的<span class="italic">每个</span>分区返回请求的几何数。例如，如果您要求5个最近的餐馆到一个点，并且空间索引有4个分区，则操作员最多返回20（5 * 4）个几何。在这种情况下，您必须使用ROWNUM伪列（此处， <code class="codeph">WHERE ROWNUM &lt;=5</code> ）返回最近的5家餐厅。
                     </p>
                     <p>如果<code class="codeph">geometry1</code>和<code class="codeph">geometry2</code>基于不同的坐标系统， <code class="codeph">geometry2</code>暂时变换到的坐标系<code class="codeph">geometry1</code>为要执行的操作，如在<a href="coordinate-systems-concepts.html#GUID-F1C8A225-2FA0-4338-B5A6-05455C18B1E8">用于与运算符和函数的几何结构不同的坐标系</a> 。
                     </p>
                     <p>空间连接不支持SDO_NN。</p>
                     <p><a id="d115835e2834" class="indexterm-anchor"></a>在某些情况下，除非优化程序提示强制使用索引，否则SDO_NN运算符将不使用空间索引。当查询涉及连接时，可能会发生这种情况;如果在这种情况下不使用优化程序提示，则会发生内部错误。要防止此类错误，您应始终指定优化程序提示以将空间索引与SDO_NN运算符一起使用，无论查询的简单性或复杂程度如何。例如，以下摘自摘要指定使用COLA_MARKETS表上定义的COLA_SPATIAL_IDX索引：</p><pre class="oac_no_warn" dir="ltr">SELECT / * + INDEX（c cola_spatial_idx）* / c.mkt_id，c.name，...来自cola_markets c，...;</pre><p>但是，如果WHERE子句中的列谓词指定了具有关联索引的<code class="codeph">geometry1</code>的表中的任何非空间列，请确保通过为该索引指定NO_INDEX提示来不使用此索引。例如，如果在NAME列上定义了名为COLA_NAME_IDX的索引，则需要在上面的示例中指定提示，如下所示：</p><pre class="oac_no_warn" dir="ltr">SELECT / * + INDEX（c cola_spatial_idx）NO_INDEX（c cola_name_idx）* / c.mkt_id，c.name，...来自cola_markets c，...;</pre><p>（请注意，在<a href="spatial-datatypes-metadata.html#GUID-51A767CA-82EE-4475-8C8B-13E685C04934" title="This topic presents a simple example of creating a spatial table, inserting data, creating the spatial index, and performing spatial queries">简单示例</a>的示例中没有名为COLA_NAME_IDX的<a href="spatial-datatypes-metadata.html#GUID-51A767CA-82EE-4475-8C8B-13E685C04934" title="This topic presents a simple example of creating a spatial table, inserting data, creating the spatial index, and performing spatial queries">索引：Inserting_ Indexing_和</a> Querying <a href="spatial-datatypes-metadata.html#GUID-51A767CA-82EE-4475-8C8B-13E685C04934" title="本主题提供了创建空间表，插入数据，创建空间索引和执行空间查询的简单示例">Spatial Data</a> 。）
                     </p>
                     <p>如果使用SDO_NN运算符和<code class="codeph">sdo_num_res</code>关键字连接两个或多个表，请指定外部表的LEADING提示，USE_NL提示具有嵌套循环连接，以及内部表的INDEX提示（具有空间索引的表） 。例如：</p><pre class="oac_no_warn" dir="ltr">SELECT / * + LEADING（b）USE_NL（ba）INDEX（a cola_spatial_idx）* / a.gid FROM cola_qry b，cola_markets a WHERE SDO_NN（a.shape，b.shape，'sdo_num_res = 1'）='TRUE';</pre><p>但是，如果使用SDO_NN运算符， <code class="codeph">sdo_batch_size</code>关键字和ROWNUM子句连接两个或多个表，则实现逻辑的最佳方法是使用PL / SQL块。例如：</p><pre class="oac_no_warn" dir="ltr">BEGIN FOR item IN（SELECT b.shape FROM cola_qry b）LOOP SELECT / * + INDEX（a cola_spatial_idx）* / a.gid INTO local_gid FROM cola_markets a WHERE SDO_NN（a.shape，item.shape，'sdo_batch_size = 10'） ='TRUE'和a.name，如'cola％'和ROWNUM &lt;2;结束循环;结束;</pre><p>有关使用优化程序提示的详细信息，请参阅“ <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/spatl&amp;id=TGSQL259" target="_blank"><span class="italic">Oracle数据库SQL调整指南”</span></a> 。
                     </p>
                     <p>有关使用空间运算符（运算符在其计算中考虑并且不考虑所有三个维度）的3D支持的信息，请参阅<a href="spatial-concepts.html#GUID-6F3A9C6E-3617-47D9-AE61-CF9F1770555A" title="Oracle Spatial and Graph支持三维空间数据的存储和检索，包括点，点云（点集合），线，多边形，曲面和实体。">三维空间对象</a> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-41E6B1FA-1A03-480B-996F-830E8566661D__GUID-F38C45A8-9435-4FDF-98B1-A0B2CEC26B1C">例子</p>
                     <p>以下示例从COLA_MARKETS表中的SHAPE列中查找最接近指定点（10,7）的两个对象。（该示例使用<a href="spatial-datatypes-metadata.html#GUID-51A767CA-82EE-4475-8C8B-13E685C04934" title="This topic presents a simple example of creating a spatial table, inserting data, creating the spatial index, and performing spatial queries">简单示例中</a>描述和说明的定义和数据<a href="spatial-datatypes-metadata.html#GUID-51A767CA-82EE-4475-8C8B-13E685C04934" title="本主题提供了创建空间表，插入数据，创建空间索引和执行空间查询的简单示例">：Inserting_ Indexing_和查询空间数据</a> 。）
                     </p><pre class="oac_no_warn" dir="ltr">SELECT / * + INDEX（c cola_spatial_idx）* / c.mkt_id，c.name FROM cola_markets c WHERE SDO_NN（c.shape，sdo_geometry（2001，NULL，sdo_point_type（10,7，NULL），NULL，NULL），'sdo_num_res = 2'）='正确'; MKT_ID NAME ---------- -------------------------------- 2 cola_b 4 cola_d</pre><p>以下示例使用<code class="codeph">sdo_batch_size</code>关键字从COLA_MARKETS表中最接近指定点（10,7）的SHAPE列中查找NAME值小于'cola_d'的两个对象（ROWNUM &lt;= 2）。<code class="codeph">sdo_batch_size</code>的值3表示在满足WHERE子句条件之前需要计算的最近几何的数量的最佳猜测。（该示例使用<a href="spatial-datatypes-metadata.html#GUID-51A767CA-82EE-4475-8C8B-13E685C04934" title="This topic presents a simple example of creating a spatial table, inserting data, creating the spatial index, and performing spatial queries">简单示例中</a>的定义和数据<a href="spatial-datatypes-metadata.html#GUID-51A767CA-82EE-4475-8C8B-13E685C04934" title="本主题提供了创建空间表，插入数据，创建空间索引和执行空间查询的简单示例">：Inserting_ Indexing_和查询空间数据</a> 。）
                     </p><pre class="oac_no_warn" dir="ltr">SELECT / * + INDEX（c cola_spatial_idx）* / c.mkt_id，c.name FROM cola_markets c WHERE SDO_NN（c.shape，sdo_geometry（2001，NULL，sdo_point_type（10,7，NULL），NULL，NULL），'sdo_batch_size = 3'）='TRUE'和c.name &lt;'cola_d'和ROWNUM &lt;= 2; MKT_ID NAME ---------- -------------------------------- 2 cola_b 3 cola_c</pre><p>还看到更为复杂的例子SDO_NN <a href="complex-spatial-queries.html#GUID-C4BE15BF-04AC-41EC-BEE1-F6DDA2A29E79">SDO_NN例子</a> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-41E6B1FA-1A03-480B-996F-830E8566661D__GUID-CD7A86CE-E04D-409B-B64B-934E0B947CFD">相关话题</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="spatial-operators-reference.html#GUID-4CD900B5-E2FB-4802-B843-E66D5D86BE64">SDO_NN_DISTANCE</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="spatial-operators-reference.html#GUID-85422854-5133-4F1D-BF0E-228CA6EDAF87" title="本章介绍了使用空间对象数据类型时可以使用的运算符。">空间运算符</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL1034"></a><div class="props_rev_3"><a id="GUID-4CD900B5-E2FB-4802-B843-E66D5D86BE64" name="GUID-4CD900B5-E2FB-4802-B843-E66D5D86BE64"></a><h3 id="SPATL-GUID-4CD900B5-E2FB-4802-B843-E66D5D86BE64" class="sect3"><span class="enumeration_section">20.10</span> SDO_NN_DISTANCE</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-4CD900B5-E2FB-4802-B843-E66D5D86BE64__GUID-78206B3F-0253-4251-8582-D043B19C6834">格式</p><pre class="oac_no_warn" dir="ltr">SDO_NN_DISTANCE（数）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-4CD900B5-E2FB-4802-B843-E66D5D86BE64__GUID-66B74119-D3F9-4D27-85E5-71E79F75B822">描述</p>
                     <p>返回<a href="spatial-operators-reference.html#GUID-41E6B1FA-1A03-480B-996F-830E8566661D">SDO_NN</a>运算符返回的对象的距离。仅在调用<a href="spatial-operators-reference.html#GUID-41E6B1FA-1A03-480B-996F-830E8566661D">SDO_NN</a>运算符时有效。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-4CD900B5-E2FB-4802-B843-E66D5D86BE64__GUID-104D1ED2-4AB8-43A6-B06A-41E84B8424D8">关键词和参数</p>
                     <div class="tblformal" id="GUID-4CD900B5-E2FB-4802-B843-E66D5D86BE64__GUID-6D2D19E1-91BB-4E77-9368-B127BCD02699">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameters and descriptions for SDO_NN_DISTANCE operator" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="13%" id="d115835e3039">值</th>
                                 <th align="left" valign="bottom" width="87%" id="d115835e3042">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="13%" id="d115835e3047" headers="d115835e3039 ">
                                    <p>数</p>
                                 </td>
                                 <td align="left" valign="top" width="87%" headers="d115835e3047 d115835e3042 ">
                                    <p>指定一个必须与传递给<a href="spatial-operators-reference.html#GUID-41E6B1FA-1A03-480B-996F-830E8566661D">SDO_NN</a>运算符的最后一个参数相同的<a href="spatial-operators-reference.html#GUID-41E6B1FA-1A03-480B-996F-830E8566661D">数字</a> 。数据类型为NUMBER。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-4CD900B5-E2FB-4802-B843-E66D5D86BE64__GUID-5A7199DA-8879-473A-A2F8-1CB71D62D37D">返回</p>
                     <p>此运算符返回<a href="spatial-operators-reference.html#GUID-41E6B1FA-1A03-480B-996F-830E8566661D">SDO_NN</a>运算符返回的对象的距离。在确定两个几何对象的接近程度时，使用每个对象表面上任意两点之间的最短可能距离。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-4CD900B5-E2FB-4802-B843-E66D5D86BE64__GUID-5C0B4E88-EE6E-47FC-8E9D-F98CD80071FF">使用说明</p>
                     <p>SDO_NN_DISTANCE是<a href="spatial-operators-reference.html#GUID-41E6B1FA-1A03-480B-996F-830E8566661D">SDO_NN</a>运算符的辅助运算符。它返回指定几何与最近邻居对象之间的距离。该距离作为辅助数据传递给<a href="spatial-operators-reference.html#GUID-41E6B1FA-1A03-480B-996F-830E8566661D">SDO_NN</a>运算符。（有关操作员如何使用辅助数据的说明，请参阅<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/spatl&amp;id=ADDCI4542" target="_blank"><span class="italic">Oracle数据库数据盒开发人员指南中</span></a>有关辅助数据的部分。）
                     </p>
                     <p>您可以为<code class="codeph">number</code>参数选择任意数字。唯一的要求是它必须匹配对<a href="spatial-operators-reference.html#GUID-41E6B1FA-1A03-480B-996F-830E8566661D">SDO_NN</a>运算符的调用中的最后一个参数。
                     </p>
                     <p>使用绑定变量来存储和操作距离值。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-4CD900B5-E2FB-4802-B843-E66D5D86BE64__GUID-2DC523DA-4C5A-428C-B067-BC258AFC61B4">例子</p>
                     <p>以下示例从COLA_MARKETS表中的SHAPE列中找到最接近指定点（10,7）的两个对象，并找到每个对象与该点之间的距离。（该示例使用<a href="spatial-datatypes-metadata.html#GUID-51A767CA-82EE-4475-8C8B-13E685C04934" title="This topic presents a simple example of creating a spatial table, inserting data, creating the spatial index, and performing spatial queries">简单示例中</a>描述和说明的定义和数据<a href="spatial-datatypes-metadata.html#GUID-51A767CA-82EE-4475-8C8B-13E685C04934" title="本主题提供了创建空间表，插入数据，创建空间索引和执行空间查询的简单示例">：Inserting_ Indexing_和查询空间数据</a> 。）
                     </p><pre class="oac_no_warn" dir="ltr">SELECT / * + INDEX（c cola_spatial_idx）* / c.mkt_id，c.name，SDO_NN_DISTANCE（1）dist FROM cola_markets c WHERE SDO_NN（c.shape，sdo_geometry（2001，NULL，sdo_point_type（10,7，NULL），NULL ，NULL），'sdo_num_res = 2'，1）='TRUE'ORDER BY dist; MKT_ID NAME DIST ---------- -------------------------------- ----- ----- 4 cola_d .828427125 2 cola_b 2.23606798</pre><p>请注意以下关于此示例：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>1用作SDO_NN_DISTANCE的<code class="codeph">number</code>参数，1也被指定为<a href="spatial-operators-reference.html#GUID-41E6B1FA-1A03-480B-996F-830E8566661D">SDO_NN</a>的最后一个参数（在<code class="codeph">'sdo_num_res=2'</code> ）。
                           </p>
                        </li>
                        <li>
                           <p>列别名<code class="codeph">dist</code>保持对象和点之间的距离。（对于大地测量数据，距离单位为米;对于非大地测量数据，距离单位是与数据相关联的单位。）
                           </p>
                        </li>
                     </ul>
                     <p>以下示例使用<code class="codeph">sdo_batch_size</code>关键字从包含不同类型的业务的YELLOW_PAGES表中选择距离酒店最近的两家意大利餐厅：</p><pre class="oac_no_warn" dir="ltr">SELECT * FROM（SELECT / * + FIRST_ROWS * / y.name FROM YELLOW_PAGES y WHERE SDO_NN（y.geometry，：my_hotel，'sdo_batch_size = 100'，1）='TRUE'和y.business ='意大利餐厅'订购SDO_NN_DISTANCE（1））WHERE ROWNUM &lt;= 10;</pre><p>在前面的查询中，FIRST_ROWS提示使优化器能够通过将ORDER BY操作推入空间索引来提高性能。 <code class="codeph">:my_hotel</code>可以是绑定变量或文字值。
                     </p>
                     <p>FIRST_ROWS提示也可用于本地分区空间索引。在前面的示例中，如果YELLOW_PAGES表按名称分区，则查询将按如下方式执行：</p>
                     <ol>
                        <li>
                           <p>对于每个分区，使用空间索引处理ORDER BY操作，直到找到10行。</p>
                        </li>
                        <li>
                           <p>完成所有分区后，将对上一步中找到的所有行进行排序，并返回前10行。</p>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-4CD900B5-E2FB-4802-B843-E66D5D86BE64__GUID-B8DAEA23-00F9-4ECA-9464-54AFD5285BD7">相关话题</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="spatial-operators-reference.html#GUID-41E6B1FA-1A03-480B-996F-830E8566661D">SDO_NN</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="spatial-operators-reference.html#GUID-85422854-5133-4F1D-BF0E-228CA6EDAF87" title="本章介绍了使用空间对象数据类型时可以使用的运算符。">空间运算符</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL1035"></a><div class="props_rev_3"><a id="GUID-29EAF480-8E3D-497A-B87E-BC698EEF9A21" name="GUID-29EAF480-8E3D-497A-B87E-BC698EEF9A21"></a><h3 id="SPATL-GUID-29EAF480-8E3D-497A-B87E-BC698EEF9A21" class="sect3"><span class="enumeration_section">20.11</span> SDO_ON</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-29EAF480-8E3D-497A-B87E-BC698EEF9A21__GUID-6D4009AF-1661-473D-AD20-5B809050B23B">格式</p><pre class="oac_no_warn" dir="ltr">SDO_ON（geometry1，geometry2）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-29EAF480-8E3D-497A-B87E-BC698EEF9A21__GUID-85D72812-E227-4360-B319-39F4DBBF55CA">描述</p>
                     <p>检查表中的任何几何是否与指定几何具有ON拓扑关系。相当于使用<code class="codeph">'mask=ON'</code>指定<a href="spatial-operators-reference.html#GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02">SDO_RELATE</a>运算符。
                     </p>
                     <p>有关此运算符执行的操作和使用要求的信息，请参阅本章中有关<a href="spatial-operators-reference.html#GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02">SDO_RELATE</a>运算符的部分。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-29EAF480-8E3D-497A-B87E-BC698EEF9A21__GUID-3AD04D41-5724-463C-8519-F343DABACD3F">关键词和参数</p>
                     <div class="tblformal" id="GUID-29EAF480-8E3D-497A-B87E-BC698EEF9A21__GUID-5F168AF0-4B55-4B95-BEDE-7E4F810E623E">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameters and descriptions for SDO_ON operator" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="19%" id="d115835e3270">值</th>
                                 <th align="left" valign="bottom" width="81%" id="d115835e3273">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d115835e3278" headers="d115835e3270 ">
                                    <p>geometry1</p>
                                 </td>
                                 <td align="left" valign="top" width="81%" headers="d115835e3278 d115835e3273 ">
                                    <p>指定表中的几何列。建议使用此列的空间索引。数据类型为SDO_GEOMETRY。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d115835e3287" headers="d115835e3270 ">
                                    <p>geometry2</p>
                                 </td>
                                 <td align="left" valign="top" width="81%" headers="d115835e3287 d115835e3273 ">
                                    <p>指定表中的几何或几何的瞬态实例。（使用绑定变量或SDO_GEOMETRY构造函数指定。）数据类型为SDO_GEOMETRY。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-29EAF480-8E3D-497A-B87E-BC698EEF9A21__GUID-F2E9F7EE-07C3-45D8-94FB-1BF08C804362">返回</p>
                     <p>对于具有ON拓扑关系的对象，表达式SDO_ON（geometry1，geometry2）='TRUE'的计算结果为TRUE，否则为FALSE。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-29EAF480-8E3D-497A-B87E-BC698EEF9A21__GUID-E2D7D504-3ABB-4AE9-92ED-DD0C17832035">使用说明</p>
                     <p>请参阅本章中<a href="spatial-operators-reference.html#GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02">SDO_RELATE</a>运算符的使用说明。
                     </p>
                     <p>有关拓扑关系和空间和图形使用的九交点模型的说明，请参阅<a href="spatial-concepts.html#GUID-FA71CB03-FFF0-4529-BA07-AD0605DA7A89" title="Spatial和Graph使用辅助过滤器来确定数据库中实体之间的空间关系。空间关系基于几何位置。">空间关系和过滤</a> 。
                     </p>
                     <p>有关使用空间运算符（运算符在其计算中考虑并且不考虑所有三个维度）的3D支持的信息，请参阅<a href="spatial-concepts.html#GUID-6F3A9C6E-3617-47D9-AE61-CF9F1770555A" title="Oracle Spatial and Graph支持三维空间数据的存储和检索，包括点，点云（点集合），线，多边形，曲面和实体。">三维空间对象</a> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-29EAF480-8E3D-497A-B87E-BC698EEF9A21__GUID-E635CD18-C491-4AB6-9D87-C80019C15AF5">例子</p>
                     <p>以下示例查找与查询窗口具有ON关系的几何（此处为左下角，右上角坐标为4,6,8,8的矩形）。（该示例使用<a href="spatial-datatypes-metadata.html#GUID-51A767CA-82EE-4475-8C8B-13E685C04934" title="This topic presents a simple example of creating a spatial table, inserting data, creating the spatial index, and performing spatial queries">简单示例中</a>描述和说明的定义和数据<a href="spatial-datatypes-metadata.html#GUID-51A767CA-82EE-4475-8C8B-13E685C04934" title="本主题提供了创建空间表，插入数据，创建空间索引和执行空间查询的简单示例">：Inserting_ Indexing_和查询空间数据</a> 。）此示例不返回任何行，因为SHAPE列中没有行字符串几何。
                     </p><pre class="oac_no_warn" dir="ltr">SELECT c.mkt_id，c.name FROM cola_markets c WHERE SDO_ON（c.shape，SDO_GEOMETRY（2003，NULL，NULL，SDO_ELEM_INFO_ARRAY（1,1003,3），SDO_ORDINATE_ARRAY（4,6,8,8）））='TRUE “;没有选择任何行</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="spatial-operators-reference.html#GUID-85422854-5133-4F1D-BF0E-228CA6EDAF87" title="本章介绍了使用空间对象数据类型时可以使用的运算符。">空间运算符</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL1036"></a><div class="props_rev_3"><a id="GUID-149B266E-2135-43DA-80E9-8C7767BDE138" name="GUID-149B266E-2135-43DA-80E9-8C7767BDE138"></a><h3 id="SPATL-GUID-149B266E-2135-43DA-80E9-8C7767BDE138" class="sect3"><span class="enumeration_section">20.12</span> SDO_OVERLAPBDYDISJOINT</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-149B266E-2135-43DA-80E9-8C7767BDE138__GUID-0CE4DEE7-5AE4-4644-9163-FA7D178C0E5B">格式</p><pre class="oac_no_warn" dir="ltr">SDO_OVERLAPBDYDISJOINT（geometry1，geometry2）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-149B266E-2135-43DA-80E9-8C7767BDE138__GUID-C5E1687A-81BE-463A-8F98-7519DF35F750">描述</p>
                     <p>检查表中的任何几何是否具有与指定几何的OVERLAPBDYDISJOINT拓扑关系。相当于使用<code class="codeph">'mask=OVERLAPBDYDISJOINT'</code>指定<a href="spatial-operators-reference.html#GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02">SDO_RELATE</a>运算符。
                     </p>
                     <p>有关此运算符执行的操作和使用要求的信息，请参阅本章中有关<a href="spatial-operators-reference.html#GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02">SDO_RELATE</a>运算符的部分。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-149B266E-2135-43DA-80E9-8C7767BDE138__GUID-156FD7DD-EDB3-4CAA-A9A7-3F7E12CDBA26">关键词和参数</p>
                     <div class="tblformal" id="GUID-149B266E-2135-43DA-80E9-8C7767BDE138__GUID-C98ED93D-34B0-4C5B-B9EF-985F139D202F">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameters and descriptions for SDO_OVERLAPBDYDISJOINT operator" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="19%" id="d115835e3447">值</th>
                                 <th align="left" valign="bottom" width="81%" id="d115835e3450">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d115835e3455" headers="d115835e3447 ">
                                    <p>geometry1</p>
                                 </td>
                                 <td align="left" valign="top" width="81%" headers="d115835e3455 d115835e3450 ">
                                    <p>指定表中的几何列。建议使用此列的空间索引。数据类型为SDO_GEOMETRY。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d115835e3464" headers="d115835e3447 ">
                                    <p>geometry2</p>
                                 </td>
                                 <td align="left" valign="top" width="81%" headers="d115835e3464 d115835e3450 ">
                                    <p>指定表中的几何或几何的瞬态实例。（使用绑定变量或SDO_GEOMETRY构造函数指定。）数据类型为SDO_GEOMETRY。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-149B266E-2135-43DA-80E9-8C7767BDE138__GUID-5987577B-D8E5-40A2-8AEB-CC913B1031BF">返回</p>
                     <p>对于具有OVERLAPBDYDISJOINT拓扑关系的对象对，表达式SDO_OVERLAPBDYDISJOINT（geometry1，geometry2）='TRUE'的计算结果为TRUE，否则为FALSE。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-149B266E-2135-43DA-80E9-8C7767BDE138__GUID-29D7FFE3-C74F-4B1F-9916-D26D26C2C546">使用说明</p>
                     <p>请参阅本章中<a href="spatial-operators-reference.html#GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02">SDO_RELATE</a>运算符的使用说明。
                     </p>
                     <p>有关拓扑关系和空间和图形使用的九交点模型的说明，请参阅<a href="spatial-concepts.html#GUID-FA71CB03-FFF0-4529-BA07-AD0605DA7A89" title="Spatial和Graph使用辅助过滤器来确定数据库中实体之间的空间关系。空间关系基于几何位置。">空间关系和过滤</a> 。
                     </p>
                     <p>有关使用空间运算符（运算符在其计算中考虑并且不考虑所有三个维度）的3D支持的信息，请参阅<a href="spatial-concepts.html#GUID-6F3A9C6E-3617-47D9-AE61-CF9F1770555A" title="Oracle Spatial and Graph支持三维空间数据的存储和检索，包括点，点云（点集合），线，多边形，曲面和实体。">三维空间对象</a> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-149B266E-2135-43DA-80E9-8C7767BDE138__GUID-34BE1F5B-3C79-4D8C-8E8E-8040C2462D22">例子</p>
                     <p>以下示例查找与线串几何具有OVERLAPBDYDISJOINT关系的几何（此处为从0.6到2,6的水平线）。（该示例使用<a href="spatial-datatypes-metadata.html#GUID-51A767CA-82EE-4475-8C8B-13E685C04934" title="This topic presents a simple example of creating a spatial table, inserting data, creating the spatial index, and performing spatial queries">简单示例中</a>描述和说明的定义和数据<a href="spatial-datatypes-metadata.html#GUID-51A767CA-82EE-4475-8C8B-13E685C04934" title="本主题提供了创建空间表，插入数据，创建空间索引和执行空间查询的简单示例">：Inserting_ Indexing_和查询空间数据</a> 。）在此示例中，只有<code class="codeph">cola_a</code>与线串几何具有OVERLAPBDYDISJOINT关系。
                     </p><pre class="oac_no_warn" dir="ltr">SELECT c.mkt_id，c.name FROM cola_markets c WHERE SDO_OVERLAPBDYDISJOINT（c.shape，SDO_GEOMETRY（2002，NULL，NULL，SDO_ELEM_INFO_ARRAY（1,2,1），SDO_ORDINATE_ARRAY（0,6,2,6）））='TRUE “; MKT_ID NAME ---------- -------------------------------- 1 cola_a</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="spatial-operators-reference.html#GUID-85422854-5133-4F1D-BF0E-228CA6EDAF87" title="本章介绍了使用空间对象数据类型时可以使用的运算符。">空间运算符</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL1037"></a><div class="props_rev_3"><a id="GUID-133DD2F7-7A95-4B91-BFDA-9D7F0E8A9DF6" name="GUID-133DD2F7-7A95-4B91-BFDA-9D7F0E8A9DF6"></a><h3 id="SPATL-GUID-133DD2F7-7A95-4B91-BFDA-9D7F0E8A9DF6" class="sect3"><span class="enumeration_section">20.13</span> SDO_OVERLAPBDYINTERSECT</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-133DD2F7-7A95-4B91-BFDA-9D7F0E8A9DF6__GUID-A8DF789A-88A5-4787-BFBF-641910AB2056">格式</p><pre class="oac_no_warn" dir="ltr">SDO_OVERLAPBDYINTERSECT（geometry1，geometry2）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-133DD2F7-7A95-4B91-BFDA-9D7F0E8A9DF6__GUID-DD0E9D10-BE66-4E42-94A6-0990FFDA9C14">描述</p>
                     <p>检查表中的任何几何是否具有与指定几何的OVERLAPBDYINTERSECT拓扑关系。相当于使用<code class="codeph">'mask=OVERLAPBDYINTERSECT'</code>指定<a href="spatial-operators-reference.html#GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02">SDO_RELATE</a>运算符。
                     </p>
                     <p>有关此运算符执行的操作和使用要求的信息，请参阅本章中有关<a href="spatial-operators-reference.html#GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02">SDO_RELATE</a>运算符的部分。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-133DD2F7-7A95-4B91-BFDA-9D7F0E8A9DF6__GUID-6B7A16C1-3C60-4C07-AE32-C81B38582F4E">关键词和参数</p>
                     <div class="tblformal" id="GUID-133DD2F7-7A95-4B91-BFDA-9D7F0E8A9DF6__GUID-7C491695-EAFD-445F-80FA-66264B282FD9">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameters and descriptions for SDO_OVERLAPBDYINTERSECToperator" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="19%" id="d115835e3627">值</th>
                                 <th align="left" valign="bottom" width="81%" id="d115835e3630">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d115835e3635" headers="d115835e3627 ">
                                    <p>geometry1</p>
                                 </td>
                                 <td align="left" valign="top" width="81%" headers="d115835e3635 d115835e3630 ">
                                    <p>指定表中的几何列。建议使用此列的空间索引。数据类型为SDO_GEOMETRY。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d115835e3644" headers="d115835e3627 ">
                                    <p>geometry2</p>
                                 </td>
                                 <td align="left" valign="top" width="81%" headers="d115835e3644 d115835e3630 ">
                                    <p>指定表中的几何或几何的瞬态实例。（使用绑定变量或SDO_GEOMETRY构造函数指定。）数据类型为SDO_GEOMETRY。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-133DD2F7-7A95-4B91-BFDA-9D7F0E8A9DF6__GUID-F4926BD9-463B-4C97-8AFE-2A82D7B720CF">返回</p>
                     <p>对于具有OVERLAPBDYINTERSECT拓扑关系的对象对，表达式SDO_OVERLAPBDYINTERSECT（geometry1，geometry2）='TRUE'的计算结果为TRUE，否则为FALSE。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-133DD2F7-7A95-4B91-BFDA-9D7F0E8A9DF6__GUID-180D7749-BE53-4925-B313-0A9844288DF0">使用说明</p>
                     <p>请参阅本章中<a href="spatial-operators-reference.html#GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02">SDO_RELATE</a>运算符的使用说明。
                     </p>
                     <p>有关拓扑关系和空间和图形使用的九交点模型的说明，请参阅<a href="spatial-concepts.html#GUID-FA71CB03-FFF0-4529-BA07-AD0605DA7A89" title="Spatial和Graph使用辅助过滤器来确定数据库中实体之间的空间关系。空间关系基于几何位置。">空间关系和过滤</a> 。
                     </p>
                     <p>有关使用空间运算符（运算符在其计算中考虑并且不考虑所有三个维度）的3D支持的信息，请参阅<a href="spatial-concepts.html#GUID-6F3A9C6E-3617-47D9-AE61-CF9F1770555A" title="Oracle Spatial and Graph支持三维空间数据的存储和检索，包括点，点云（点集合），线，多边形，曲面和实体。">三维空间对象</a> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-133DD2F7-7A95-4B91-BFDA-9D7F0E8A9DF6__GUID-8D4FC1D0-6256-4253-B2F0-270746BD48D3">例子</p>
                     <p>以下示例查找与查询窗口具有OVERLAPBDYINTERSECT关系的几何（此处为左下角，右上角坐标为4,6,8,8的矩形）。（该示例使用<a href="spatial-datatypes-metadata.html#GUID-51A767CA-82EE-4475-8C8B-13E685C04934" title="This topic presents a simple example of creating a spatial table, inserting data, creating the spatial index, and performing spatial queries">简单示例中</a>描述和说明的定义和数据<a href="spatial-datatypes-metadata.html#GUID-51A767CA-82EE-4475-8C8B-13E685C04934" title="本主题提供了创建空间表，插入数据，创建空间索引和执行空间查询的简单示例">：Inserting_ Indexing_和查询空间数据</a> 。）在此示例中， <code class="codeph">cola_a</code> ， <code class="codeph">cola_b</code>和<code class="codeph">cola_d</code>与查询窗口几何体具有OVERLAPBDYINTERSECT关系。
                     </p><pre class="oac_no_warn" dir="ltr">SELECT c.mkt_id，c.name FROM cola_markets c WHERE SDO_OVERLAPBDYINTERSECT（c.shape，SDO_GEOMETRY（2003，NULL，NULL，SDO_ELEM_INFO_ARRAY（1,1003,3），SDO_ORDINATE_ARRAY（4,6,8,8）））='TRUE “; MKT_ID NAME ---------- -------------------------------- 2 cola_b 1 cola_a 4 cola_d</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="spatial-operators-reference.html#GUID-85422854-5133-4F1D-BF0E-228CA6EDAF87" title="本章介绍了使用空间对象数据类型时可以使用的运算符。">空间运算符</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL1038"></a><div class="props_rev_3"><a id="GUID-C1336951-3F2B-472D-96E6-8141BC0CB8E3" name="GUID-C1336951-3F2B-472D-96E6-8141BC0CB8E3"></a><h3 id="SPATL-GUID-C1336951-3F2B-472D-96E6-8141BC0CB8E3" class="sect3"><span class="enumeration_section">20.14</span> SDO_OVERLAPS</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-C1336951-3F2B-472D-96E6-8141BC0CB8E3__GUID-E7DFBD38-4D7B-4307-A83E-F8101DF7806B">格式</p><pre class="oac_no_warn" dir="ltr">SDO_OVERLAPS（geometry1，geometry2）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C1336951-3F2B-472D-96E6-8141BC0CB8E3__GUID-5BCD8881-2C4D-48CF-B5C5-35E9C378C899">描述</p>
                     <p>检查表中的任何几何是否与指定的几何重叠（即具有OVERLAPBDYDISJOINT或OVERLAPBDYINTERSECT拓扑关系）。相当于使用<code class="codeph">'mask=OVERLAPBDYDISJOINT+OVERLAPBDYINTERSECT'</code>指定<a href="spatial-operators-reference.html#GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02">SDO_RELATE</a>运算符。
                     </p>
                     <p>有关此运算符执行的操作和使用要求的信息，请参阅本章中有关<a href="spatial-operators-reference.html#GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02">SDO_RELATE</a>运算符的部分。
                     </p>
                     <p>有关使用空间和图形运算符（运算符在其计算中考虑并且不考虑所有三个维度）的3D支持的信息，请参阅<a href="spatial-concepts.html#GUID-6F3A9C6E-3617-47D9-AE61-CF9F1770555A" title="Oracle Spatial and Graph支持三维空间数据的存储和检索，包括点，点云（点集合），线，多边形，曲面和实体。">三维空间对象</a> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C1336951-3F2B-472D-96E6-8141BC0CB8E3__GUID-57C15E9C-5803-4252-A2A3-153771CB58D5">关键词和参数</p>
                     <div class="tblformal" id="GUID-C1336951-3F2B-472D-96E6-8141BC0CB8E3__GUID-A2ADC93A-3A54-4A07-9EE7-2BDF16659C08">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameters and descriptions for SDO_OVERLAPS operator" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="19%" id="d115835e3823">值</th>
                                 <th align="left" valign="bottom" width="81%" id="d115835e3826">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d115835e3831" headers="d115835e3823 ">
                                    <p>geometry1</p>
                                 </td>
                                 <td align="left" valign="top" width="81%" headers="d115835e3831 d115835e3826 ">
                                    <p>指定表中的几何列。建议使用此列的空间索引。数据类型为SDO_GEOMETRY。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d115835e3840" headers="d115835e3823 ">
                                    <p>geometry2</p>
                                 </td>
                                 <td align="left" valign="top" width="81%" headers="d115835e3840 d115835e3826 ">
                                    <p>指定表中的几何或几何的瞬态实例。（使用绑定变量或SDO_GEOMETRY构造函数指定。）数据类型为SDO_GEOMETRY。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C1336951-3F2B-472D-96E6-8141BC0CB8E3__GUID-CDEBED9F-A3DF-4D5D-8DE7-E449D722B1FC">返回</p>
                     <p>对于具有OVERLAPBDYDISJOINT或OVERLAPBDYINTERSECT拓扑关系的对象对，表达式SDO_OVERLAPS（geometry1，geometry2）='TRUE'的计算结果为TRUE，否则为FALSE。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C1336951-3F2B-472D-96E6-8141BC0CB8E3__GUID-3D158A7B-9232-45FF-AA7C-33D98CA9261A">使用说明</p>
                     <p>请参阅本章中<a href="spatial-operators-reference.html#GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02">SDO_RELATE</a>运算符的使用说明。
                     </p>
                     <p>有关拓扑关系和空间和图形使用的九交点模型的说明，请参阅<a href="spatial-concepts.html#GUID-FA71CB03-FFF0-4529-BA07-AD0605DA7A89" title="Spatial和Graph使用辅助过滤器来确定数据库中实体之间的空间关系。空间关系基于几何位置。">空间关系和过滤</a> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C1336951-3F2B-472D-96E6-8141BC0CB8E3__GUID-5DE92617-56C2-4C04-A82E-21DD7F0CA8D1">例子</p>
                     <p>以下示例查找与查询窗口重叠的几何（此处为左下角，右上角坐标为4,6,8,8的矩形）。（该示例使用<a href="spatial-datatypes-metadata.html#GUID-51A767CA-82EE-4475-8C8B-13E685C04934" title="This topic presents a simple example of creating a spatial table, inserting data, creating the spatial index, and performing spatial queries">简单示例中</a>描述和说明的定义和数据<a href="spatial-datatypes-metadata.html#GUID-51A767CA-82EE-4475-8C8B-13E685C04934" title="本主题提供了创建空间表，插入数据，创建空间索引和执行空间查询的简单示例">：Inserting_ Indexing_和查询空间数据</a> 。）在此示例中，SHAPE列中的三个几何与查询窗口几何重叠。
                     </p><pre class="oac_no_warn" dir="ltr">SELECT c.mkt_id，c.name FROM cola_markets c WHERE SDO_OVERLAPS（c.shape，SDO_GEOMETRY（2003，NULL，NULL，SDO_ELEM_INFO_ARRAY（1,1003,3），SDO_ORDINATE_ARRAY（4,6,8,8）））='TRUE “; MKT_ID NAME ---------- -------------------------------- 2 cola_b 1 cola_a 4 cola_d</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="spatial-operators-reference.html#GUID-85422854-5133-4F1D-BF0E-228CA6EDAF87" title="本章介绍了使用空间对象数据类型时可以使用的运算符。">空间运算符</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL1512"></a><a id="SPATL1507"></a><div class="props_rev_3"><a id="GUID-959C15D2-509C-4511-ADEB-1ADA6FBA8D0A" name="GUID-959C15D2-509C-4511-ADEB-1ADA6FBA8D0A"></a><h3 id="SPATL-GUID-959C15D2-509C-4511-ADEB-1ADA6FBA8D0A" class="sect3"><span class="enumeration_section">20.15</span> SDO_POINTINPOLYGON</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-959C15D2-509C-4511-ADEB-1ADA6FBA8D0A__GUID-F36859C7-1818-4D2F-A054-322552152CBC">格式</p><pre class="oac_no_warn" dir="ltr">SDO_POINTINPOLYGON（cur，geom_obj，tol，params）返回ANYDATASET;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-959C15D2-509C-4511-ADEB-1ADA6FBA8D0A__GUID-A7E018BF-BEB7-44A1-9382-843FBDECEE5C">描述</p>
                     <p>获取一组行，并返回指定多边形几何中的行。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-959C15D2-509C-4511-ADEB-1ADA6FBA8D0A__GUID-F42DC64E-C687-4F6D-A888-F09781C9666C">关键词和参数</p>
                     <div class="tblformal" id="GUID-959C15D2-509C-4511-ADEB-1ADA6FBA8D0A__GUID-9DB4E1C9-4E6C-4237-9430-36B38DD6C925">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameters and descriptions for SDO_JOIN operator" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="19%" id="d115835e3975">值</th>
                                 <th align="left" valign="bottom" width="81%" id="d115835e3978">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d115835e3983" headers="d115835e3975 ">
                                    <p>CUR</p>
                                 </td>
                                 <td align="left" valign="top" width="81%" headers="d115835e3983 d115835e3978 ">
                                    <p>以下之一：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p>REF游标：SQL for ref_cursor的SELECT中的前两列必须是来自用户表的X和Y点坐标对。这两列必须是NUMBER类型。 （任何其他列可以是数字，字符和日期类型）。数据类型为SYS_REFCURSOR。</p>
                                       </li>
                                       <li>
                                          <p>REF游标：ref游标的SQL的SELECT中的第一列必须是来自用户表的空间几何对象。该列必须是SDO_GEOMETRY类型。 （任何其他列可以是数字，字符和日期类型）。数据类型为SYS_REFCURSOR。</p>
                                       </li>
                                    </ul>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d115835e3999" headers="d115835e3975 ">
                                    <p>geom_obj</p>
                                 </td>
                                 <td align="left" valign="top" width="81%" headers="d115835e3999 d115835e3978 ">
                                    <p>空间几何对象：来自表格的几何图形或几何图形的瞬态实例，将检查来自<code class="codeph">cur</code>所有选定点。数据类型为SDO_GEOMETRY。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d115835e4011" headers="d115835e3975 ">
                                    <p>TOL</p>
                                 </td>
                                 <td align="left" valign="top" width="81%" headers="d115835e4011 d115835e3978 ">
                                    <p>公差值（见<a href="spatial-concepts.html#GUID-7469388B-6D23-4294-904F-78CA3B7191D3">公差</a> ）。必须大于0.0。数据类型为NUMBER。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d115835e4024" headers="d115835e3975 ">
                                    <p>PARAMS</p>
                                 </td>
                                 <td align="left" valign="top" width="81%" headers="d115835e4024 d115835e3978 ">
                                    <p>关键字和值的可选参数字符串。确定运算符的行为。有关可用关键字的信息，请参阅“使用说明”中的<a href="spatial-operators-reference.html#GUID-959C15D2-509C-4511-ADEB-1ADA6FBA8D0A__BABHEGGI" title="SDO_POINTINPOLYGON运算符的关键字和说明">表20-5</a> 。数据类型是VARCHAR2。默认值为NULL。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-959C15D2-509C-4511-ADEB-1ADA6FBA8D0A__GUID-598570BD-E1A3-428D-9A29-1868BC3F371B">返回</p>
                     <p>SDO_POINTINPOLYGON返回ANYDATASET TYPE的对象，该对象在<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/spatl&amp;id=ARPLS078" target="_blank"><span class="italic">Oracle Database PL / SQL包和类型参考中进行了描述</span></a> 。ANYDATASET输出列是<code class="codeph">cur</code>参数指定的列。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-959C15D2-509C-4511-ADEB-1ADA6FBA8D0A__GUID-61082C0F-AE32-476F-9F47-435BB01AB20E">使用说明</p>
                     <p>SDO_POINTINPOLYGON在技术上不是运算符，而是表函数。（有关表函数的说明，请参阅<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/spatl&amp;id=LNPLS915" target="_blank"><span class="italic">Oracle Database PL / SQL语言参考</span></a> 。）但是，它在带有空间运算符的章节中介绍，因为它的用法类似于运算符的用法，因为它不是包含其他函数和过程的包的一部分。
                     </p>
                     <p><code class="codeph">cur</code>参数中使用的SQL语句可以在WHERE子句中包含任意数量的谓词。在将结果行传递到SDO_POINTINPOLYGON运算符之前，此功能可用于过滤其他属性上的数据。
                     </p>
                     <p>输出列与输入列相同，但返回的唯一行是与选择条件匹配的行。</p>
                     <p><a href="spatial-operators-reference.html#GUID-959C15D2-509C-4511-ADEB-1ADA6FBA8D0A__BABHEGGI" title="SDO_POINTINPOLYGON运算符的关键字和说明">表20-5</a>显示了<code class="codeph">params</code>参数的关键字。
                     </p>
                     <div class="tblformal" id="GUID-959C15D2-509C-4511-ADEB-1ADA6FBA8D0A__BABHEGGI">
                        <p class="titleintable">表20-5 param关键字SDO_POINTINPOLYGON运算符</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="params SDO_POINTINPOLYGON运算符的关键字" width="100%" border="1" summary="Keywords and descriptions for the SDO_POINTINPOLYGON Operator" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="32%" id="d115835e4086">关键词</th>
                                 <th align="left" valign="bottom" width="68%" id="d115835e4089">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="32%" id="d115835e4094" headers="d115835e4086 ">
                                    <p>面具</p>
                                 </td>
                                 <td align="left" valign="top" width="68%" headers="d115835e4094 d115835e4089 ">
                                    <p>感兴趣的拓扑关系。有效值为'mask = <span class="italic">&lt;value&gt;</span> '，其中<span class="italic">&lt;value&gt;</span>是以下一项或多项： <code class="codeph">TOUCH</code> ， <code class="codeph">OVERLAPBDYDISJOINT</code> ， <code class="codeph">OVERLAPBDYINTERSECT</code> ， <code class="codeph">EQUAL</code> ， <code class="codeph">INSIDE</code> ， <code class="codeph">COVEREDBY</code> ， <code class="codeph">CONTAINS</code> ， <code class="codeph">COVERS</code> ， <code class="codeph">ANYINTERACT</code> ， <code class="codeph">ON</code> 。多个掩码与逻辑布尔运算符OR组合，例如，' <code class="codeph">mask=inside+touch'</code> 。有关九交点关系模式的说明，请参阅<a href="spatial-concepts.html#GUID-FA71CB03-FFF0-4529-BA07-AD0605DA7A89" title="Spatial和Graph使用辅助过滤器来确定数据库中实体之间的空间关系。空间关系基于几何位置。">空间关系和过滤</a> 。
                                    </p>
                                    <p>如果<code class="codeph">cur</code>是一对X和Y点坐标，则<code class="codeph">TOUCH</code>和<code class="codeph">ON</code>是同义词。
                                    </p>
                                    <p>如果此参数为null或包含空字符串，则假定为<code class="codeph">mask=ANYINTERACT</code> 。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="32%" id="d115835e4165" headers="d115835e4086 ">
                                    <p>SDO_BATCH_SIZE</p>
                                 </td>
                                 <td align="left" valign="top" width="68%" headers="d115835e4165 d115835e4089 ">
                                    <p>指定批处理中处理的最大行数。默认值为4000，最大值为32768。数据类型为NUMBER。</p>
                                    <p>例如：'sdo_batch_size = 5000'</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>要使用并行查询服务器，您必须执行以下任一操作：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>指定<code class="codeph">/*+ PARALLEL(</code> <span class="italic"><code class="codeph">&lt;table alias&gt;, &lt;n&gt;</code></span> <code class="codeph">) */</code> optimizer提示，其中<span class="italic">&lt;table_alias</span> &gt;是指定的表别名， <span class="italic">&lt;n&gt;</span>是并行度。
                           </p>
                        </li>
                        <li>
                           <p>通过从适当特权帐户输入以下命令来启用并行查询执行：</p><pre class="oac_no_warn" dir="ltr">ALTER SESSION FORCE PARALLEL QUERY;</pre></li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-959C15D2-509C-4511-ADEB-1ADA6FBA8D0A__GUID-FBD23B27-680C-4856-808D-D64651CA3D7F">例子</p>
                     <p>以下示例基于COLA_MARKETS表中的数据创建名为COLA_MARKET_POINTS的新表，该表在<a href="spatial-datatypes-metadata.html#GUID-51A767CA-82EE-4475-8C8B-13E685C04934" title="本主题提供了创建空间表，插入数据，创建空间索引和执行空间查询的简单示例">简单示例：Inserting_ Indexing_和Querying Spatial Data中进行了</a>描述和说明。然后，该示例选择每个几何体中MKT_ID列值大于1的点。（它使用<a href="SDO_UTIL-reference.html#GUID-1974B94C-375A-46F6-ACD5-5887EF2B5A7B">SDO_UTIL.INTERIOR_POINT</a>函数来获取保证位于与查询条件匹配的每个几何体内的点。）
                     </p><pre class="oac_no_warn" dir="ltr">- 根据-COLA_MARKETS表中的数据创建一个具有不同名称的新表。该表有四列：X，Y，MKT_ID和NAME。 CREATE TABLE cola_market_points AS SELECT a.point.sdo_point.x X，a.point.sdo_point.y Y，MKT_ID，NAME FROM（SELECT mkt_id，name，sdo_util.interior_point（shape）point FROM cola_markets）a; - 限制为MKT_ID&gt; 1。另外，使用PARALLEL提示。SELECT / * + PARALLEL（a，4）* / * FROM TABLE（sdo_PointInPolygon（CURSOR（select * from cola_market_points，其中mkt_id&gt; 1），SDO_GEOMETRY（2003，NULL，NULL，MDSYS.SDO_ELEM_INFO_ARRAY（1,1003,1），MDSYS .SDO_ORDINATE_ARRAY（1,1,8,1,8,6,5,7,1,1）），0.05））a; XY MKT_ID名称---------- ---------- ---------- ----------------- --------------- 6.3125 2.875 2 cola_b 4.6875 3.875 3 cola_c</pre><p>以下示例执行与上一个相同的SDO_POINTINPOLYGON查询，但无需创建COLA_MARKET_POINTS表，并且对于MKT_ID列值大于1的每一行，返回点几何，而不是仅返回X和Y坐标对。（为了便于阅读，输出已重新格式化。）</p><pre class="oac_no_warn" dir="ltr">- 限制为MKT_ID&gt; 1。另外，使用PARALLEL提示。SELECT / * + PARALLEL（a，4）* / name，mkt_id，指向FROM TABLE（sdo_PointInPolygon（CURSOR（选择sdo_util.interior_point（形状）点，mkt_id，来自cola_markets的名称，其中mkt_id&gt; 1），SDO_GEOMETRY 2003，NULL，NULL ，MDSYS.SDO_ELEM_INFO_ARRAY（1,1003,1），MDSYS.SDO_ORDINATE_ARRAY（1,1,8,1,8,6,5,7,1,1）），0.05））a;名称MKT_ID POINT（SDO_GTYPE，SDO_SRID，SDO_POINT（X，Y，Z），SDO_ELEM_INFO，SDO_ORDINATES）------ ------- ---------------- -------------------------------------------------- ---------- cola_b 2 SDO_GEOMETRY（2001，NULL，SDO_POINT_TYPE（6.3125,2.875，NULL），NULL，NULL）cola_c 3 SDO_GEOMETRY（2001，NULL，SDO_POINT_TYPE（4.6875,3.875，NULL），NULL，空值）</pre><p>以下示例在WHERE子句中使用绑定变量，并指定<code class="codeph">params</code>字符串。它假定存在一个名为PIP_DATA的表。</p><pre class="oac_no_warn" dir="ltr">DECLARE my_cursor SYS_REFCURSOR; my_pip_cursor SYS_REFCURSOR; stmt varchar2（2000）; cnt号码; BEGIN stmt：='SELECT count（*）FROM'|| 'TABLE（Sdo_PointInPolygon（'||'CURSOR（选择*来自pip_data，其中x &lt;：x1），'||'：g1，：tol，''mask = DISJOINT sdo_batch_size = 6000''））';使用100打开my_cursor for stmt， - ：x1 SDO_GEOMETRY（2003，NULL，NULL，SDO_ELEM_INFO_ARRAY（1,1003,1），SDO_ORDINATE_ARRAY（10,10,70,10,70,70,50,70,40,50， 20,70,10,70,10,10））， - ：g1 0.05; - ：将FETCH的my_cursor转换成cnt; DBMS_OUTPUT.PUT_LINE（TO_CHAR（CNT））;结束; /</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-959C15D2-509C-4511-ADEB-1ADA6FBA8D0A__GUID-1083ACD8-F826-4FC8-A447-0E96E1CC022F">相关话题</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="SDO_UTIL-reference.html#GUID-1974B94C-375A-46F6-ACD5-5887EF2B5A7B">SDO_UTIL.INTERIOR_POINT</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="spatial-operators-reference.html#GUID-85422854-5133-4F1D-BF0E-228CA6EDAF87" title="本章介绍了使用空间对象数据类型时可以使用的运算符。">空间运算符</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL1039"></a><div class="props_rev_3"><a id="GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02" name="GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02"></a><h3 id="SPATL-GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02" class="sect3"><span class="enumeration_section">20.16</span> SDO_RELATE</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02__GUID-006FE4A9-3CB5-42A7-9526-5648A3AFC822">格式</p><pre class="oac_no_warn" dir="ltr">SDO_RELATE（geometry1，geometry2，param）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02__GUID-35D96B01-0CF3-401E-A92A-747A0FB4D616">描述</p>
                     <p>使用空间索引来识别与给定对象（例如感兴趣的区域）或具有特定空间交互的空间对象对具有特定空间交互的空间对象。</p>
                     <p>此运算符执行主过滤操作和二次过滤操作。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02__GUID-19FD8214-77CE-40CF-9C5C-02E330510239">关键词和参数</p>
                     <div class="tblformal" id="GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02__GUID-60569FE9-1200-499A-93AB-C80F8A9FB6D1">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameters and descriptions for SDO_RELATE operator" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="19%" id="d115835e4329">值</th>
                                 <th align="left" valign="bottom" width="81%" id="d115835e4332">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d115835e4337" headers="d115835e4329 ">
                                    <p>geometry1</p>
                                 </td>
                                 <td align="left" valign="top" width="81%" headers="d115835e4337 d115835e4332 ">
                                    <p>指定表中的几何列。建议使用此列的空间索引。数据类型为SDO_GEOMETRY。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d115835e4346" headers="d115835e4329 ">
                                    <p>geometry2</p>
                                 </td>
                                 <td align="left" valign="top" width="81%" headers="d115835e4346 d115835e4332 ">
                                    <p>指定表中的几何或几何的瞬态实例。（使用绑定变量或SDO_GEOMETRY构造函数指定。）数据类型为SDO_GEOMETRY。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d115835e4355" headers="d115835e4329 ">
                                    <p>PARAM</p>
                                 </td>
                                 <td align="left" valign="top" width="81%" headers="d115835e4355 d115835e4332 ">
                                    <p>指定<code class="codeph">mask</code>关键字，以及<code class="codeph">min_resolution</code>和<code class="codeph">max_resolution</code>关键字中的任意一个或两者。此参数的数据类型为VARCHAR2。
                                    </p>
                                    <p><code class="codeph">mask</code>关键字指定感兴趣的拓扑关系。这是一个必需的参数。有效<code class="codeph">mask</code>关键字值是九交叉模式中的以下一个或多个： <code class="codeph">TOUCH</code> ， <code class="codeph">OVERLAPBDYDISJOINT</code> ， <code class="codeph">OVERLAPBDYINTERSECT</code> ， <code class="codeph">EQUAL</code> ， <code class="codeph">INSIDE</code> ， <code class="codeph">COVEREDBY</code> ， <code class="codeph">CONTAINS</code> ， <code class="codeph">COVERS</code> ， <code class="codeph">ANYINTERACT</code> ， <code class="codeph">ON</code> 。多个掩码与逻辑布尔运算符OR组合，例如，' <code class="codeph">mask=inside+touch'</code> 。有关九交点关系模式的说明，请参阅<a href="spatial-concepts.html#GUID-FA71CB03-FFF0-4529-BA07-AD0605DA7A89" title="Spatial和Graph使用辅助过滤器来确定数据库中实体之间的空间关系。空间关系基于几何位置。">空间关系和过滤</a> 。
                                    </p>
                                    <p><code class="codeph">min_resolution</code>关键字仅包括几何的MBR的至少一侧等于或大于指定值的几何。例如， <code class="codeph">min_resolution=10</code>仅包括几何的MBR的宽度或高度（或两者）至少为10的几何。（此关键字可用于排除太小而无法感兴趣的几何图形。）
                                    </p>
                                    <p><code class="codeph">max_resolution</code>关键字仅包含几何的MBR小于或等于指定值的几何。例如， <code class="codeph">max_resolution=10</code>仅包括几何的MBR的宽度或高度（或两者）小于或等于10的几何。（此关键字可用于排除太大而无法引起兴趣的几何图形。）
                                    </p>
                                    <p>为了向后兼容，在10.1版之前支持的<code class="codeph">param</code>参数的任何其他关键字仍然有效;但是，不鼓励使用这些关键字，并且不支持运营商的新用途。
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02__GUID-5A4BDCF6-D237-46CC-B693-0CF173216854">返回</p>
                     <p>对于具有由&lt;some_mask_val&gt;指定的拓扑关系的对象对，表达式SDO_RELATE（geometry1，geometry2，'mask = &lt;some_mask_val&gt;'）='TRUE'的计算结果为TRUE，否则为FALSE。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02__GUID-F786D64E-2384-4552-8495-B4B84CDB5D35">使用说明</p>
                     <p>如果表没有空间索引，或者查询窗口的维数与创建索引时指定的维数不匹配，则禁用运算符。</p>
                     <p>必须始终在WHERE子句中使用运算符，并且包含运算符的条件应该是SDO_RELATE形式的表达式（arg1，arg2，'mask = &lt;some_mask_val&gt;'）='TRUE'。（表达式不能等同于“TRUE”以外的任何值。）</p>
                     <p><code class="codeph">geometry2</code>可以来自表，也可以是瞬态SDO_GEOMETRY对象，例如绑定变量或SDO_GEOMETRY构造函数。
                     </p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>如果<code class="codeph">geometry2</code>列未进行空间索引，则运算符会将查询窗口编入内存索引，并且性能非常好。
                           </p>
                        </li>
                        <li>
                           <p>如果将<code class="codeph">geometry2</code>中的两个或多个几何传递给运算符，则必须指定ORDERED优化程序提示，并且必须首先在FROM子句中指定<code class="codeph">geometry2</code>的表。
                           </p>
                        </li>
                     </ul>
                     <p>如果<code class="codeph">geometry1</code>和<code class="codeph">geometry2</code>基于不同的坐标系统， <code class="codeph">geometry2</code>暂时变换到的坐标系<code class="codeph">geometry1</code>为要执行的操作，如在<a href="coordinate-systems-concepts.html#GUID-F1C8A225-2FA0-4338-B5A6-05455C18B1E8">用于与运算符和函数的几何结构不同的坐标系</a> 。
                     </p>
                     <p>与<a href="SDO_GEOM-reference.html#GUID-E1209A71-F5D8-42A9-A93E-72657B115579">SDO_GEOM.RELATE</a>函数不同，在SDO_RELATE运算符的关系掩码中不允许使用DISJOINT和DETERMINE掩码。这是因为SDO_RELATE使用空间索引来查找可能相互作用的候选项，并且索引中不存在满足DISJOINT或DETERMINE的信息。
                     </p>
                     <p>可以使用逻辑布尔运算符OR组合多个掩码，例如， <code class="codeph">'mask=touch+coveredby'</code> 。从版本12.1开始，如果将SPATIAL_VECTOR_ACCELERATION系统参数设置为<code class="codeph">TRUE</code> （强烈建议，如<a href="spatial-concepts.html#GUID-E813A365-6433-4CB8-B155-A5ACA8AAD669" title="要加速空间运算符的性能，建议您通过将SPATIAL_VECTOR_ACCELERATION数据库系统参数设置为值TRUE来启用向量性能加速器（VPA）功能。 （此功能和关联的系统参数仅授权由许可的Oracle Spatial和Graph用户使用，参数的默认值为FALSE。）">SPATIAL_VECTOR_ACCELERATION系统参数中所述</a> ），则不需要对此类掩码使用UNION ALL。但是，如果<span class="italic"><span class="bold">未</span></span>将SPATIAL_VECTOR_ACCELERATION设置为<code class="codeph">TRUE</code> ，则如果空间查询单独指定每个掩码并使用UNION ALL语法组合结果，则可能会产生更好的性能。这是因为当单独指定掩码而不是在同一SDO_RELATE运算符调用中分组时，Spatial和Graph可以在某些条件下应用内部优化。（有两个例外， <code class="codeph">inside+coveredby</code>和<code class="codeph">contains+covers</code> ，其中组合的性能优于UNION ALL备选方案。）
                     </p>
                     <p>例如，请考虑以下查询使用逻辑布尔运算符OR对多个掩码进行分组：</p><pre class="oac_no_warn" dir="ltr">SELECT a.gid FROM polygons a，query_polys B WHERE B.gid = 1 AND SDO_RELATE（A.Geometry，B.Geometry，'mask = touch + coveredby'）='TRUE';</pre><p>如果SPATIAL_VECTOR_ACCELERATION为<code class="codeph">TRUE</code> ，则前面的查询最简单且性能最佳。但是，如果SPATIAL_VECTOR_ACCELEERATION为<code class="codeph">FALSE</code> ，则前面的查询可能会产生更好的性能，如果它表示如下，使用UNION ALL组合多个SDO_RELATE操作员调用的结果，每个操作符调用都有一个掩码：</p><pre class="oac_no_warn" dir="ltr">SELECT a.gid FROM polygons a，query_polys B WHERE B.gid = 1 AND SDO_RELATE（A.Geometry，B.Geometry，'mask = touch'）='TRUE'UNION ALL SELECT a.gid FROM polygons a，query_polys B WHERE B.gid = 1 AND SDO_RELATE（A.Geometry，B.Geometry，'mask = coveredby'）='TRUE';</pre><p>以下注意事项适用于线与多点几何（点集中的点）之间的关系。假设由三个点组成的直线和多点几何（例如，SDO_GTYPE = 2005）的示例。</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>如果所有点都没有与该线相互作用，则线与点簇之间的关系为DISJOINT。</p>
                        </li>
                        <li>
                           <p>如果其中一个点位于线的内部，而另外两个点不相交，则线与点簇之间的关系为OVERLAPBDYDISJOINT。</p>
                        </li>
                        <li>
                           <p>如果其中一个点位于线的边界上（即，如果它位于线的起点或终点上）并且其他两个点不相交，则线与点簇之间的关系为TOUCH。</p>
                        </li>
                        <li>
                           <p>如果其中一个点位于线的边界上（即，如果它位于线的起点或终点上），则另一个点位于线的内部，第三个点是不相交的，关系线和点簇之间是OVERLAPBDYDISJOINT（不是OVERLAPBDYINTERSECT）。</p>
                        </li>
                     </ul>
                     <p>有关使用空间运算符（运算符在其计算中考虑并且不考虑所有三个维度）的3D支持的信息，请参阅<a href="spatial-concepts.html#GUID-6F3A9C6E-3617-47D9-AE61-CF9F1770555A" title="Oracle Spatial and Graph支持三维空间数据的存储和检索，包括点，点云（点集合），线，多边形，曲面和实体。">三维空间对象</a> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02__GUID-AE8A8DAB-D437-4E66-B2AE-1A170A1165DA">例子</p>
                     <p>以下示例与<a href="spatial-operators-reference.html#GUID-9AB42477-D0C0-4A87-826F-1BDDF1CA1FE5">SDO_FILTER</a>运算符的示例类似;然而，它们识别特定类型的交互（使用<code class="codeph">mask</code>关键字），并且如果发生空间交互，它们肯定地确定（不仅仅是可能性）。
                     </p>
                     <p>以下示例选择与查询窗口进行任何交互的几何（此处为左下角，右上角坐标为4,6,8,8的矩形）。（该示例使用<a href="spatial-datatypes-metadata.html#GUID-51A767CA-82EE-4475-8C8B-13E685C04934" title="This topic presents a simple example of creating a spatial table, inserting data, creating the spatial index, and performing spatial queries">简单示例中</a>描述和说明的定义和数据<a href="spatial-datatypes-metadata.html#GUID-51A767CA-82EE-4475-8C8B-13E685C04934" title="本主题提供了创建空间表，插入数据，创建空间索引和执行空间查询的简单示例">：Inserting_ Indexing_和查询空间数据</a> 。）
                     </p><pre class="oac_no_warn" dir="ltr">SELECT c.mkt_id，c.name FROM cola_markets c WHERE SDO_RELATE（c.shape，SDO_GEOMETRY（2003，NULL，NULL，SDO_ELEM_INFO_ARRAY（1,1003,3），SDO_ORDINATE_ARRAY（4,6,8,8）），'mask = anyinteract'）='TRUE'; MKT_ID NAME ---------- -------------------------------- 2 cola_b 1 cola_a 4 cola_d</pre><p>以下示例与前面的示例相同，不同之处在于它仅包含几何图形，其中几何图形的MBR的至少一侧等于或大于4.1。在这种情况下，仅返回<code class="codeph">cola_a</code>和<code class="codeph">cola_b</code> ，因为它们的MBR至少有一侧长度大于或等于4.1。圆圈<code class="codeph">cola_d</code>被排除在外，因为它的MBR是一个边长为4的正方形。
                     </p><pre class="oac_no_warn" dir="ltr">SELECT c.mkt_id，c.name FROM cola_markets c WHERE SDO_RELATE（c.shape，SDO_GEOMETRY（2003，NULL，NULL，SDO_ELEM_INFO_ARRAY（1,1003,3），SDO_ORDINATE_ARRAY（4,6,8,8）），'mask = anyinteract min_resolution = 4.1'）='TRUE'; MKT_ID NAME ---------- -------------------------------- 2 cola_b 1 cola_a</pre><p>以下示例从POLYGONS表中选择GID值，其中GEOMETRY列对象与QUERY_POLYS表中具有GID值1的GEOMETRY列对象进行任何空间交互。</p><pre class="oac_no_warn" dir="ltr">SELECT A.gid FROM Polygons A，query_polys B WHERE B.gid = 1 AND SDO_RELATE（A.Geometry，B.Geometry，'mask = ANYINTERACT'）='TRUE';</pre><p>以下示例从POLYGONS表中选择GID值，其中GEOMETRY列对象与存储在<code class="codeph">aGeom</code>变量中的几何体具有任何空间交互。
                     </p><pre class="oac_no_warn" dir="ltr">SELECT A.Gid FROM Polygons A WHERE SDO_RELATE（A.Geometry，：aGeom，'mask = ANYINTERACT'）='TRUE';</pre><p>以下示例从POLYGONS表中选择GID值，其中GEOMETRY列对象与具有左下坐标（x1，y1）和右上坐标（x2，y2）的指定矩形具有任何空间交互。</p><pre class="oac_no_warn" dir="ltr">SELECT A.Gid FROM Polygons A WHERE SDO_RELATE（A.Geometry，sdo_geometry（2003，NULL，NULL，sdo_elem_info_array（1,1003,3），sdo_ordinate_array（x1，y1，x2，y2）），'mask = ANYINTERACT'）= '真正';</pre><p>以下示例从POLYGONS表中选择GID值，其中GEOMETRY列对象与QUERY_POLYS表中的任何GEOMETRY列对象进行任何空间交互。在此示例中，使用了ORDERED优化程序提示，并且首先在FROM子句中指定了QUERY_POLYS（ <code class="codeph">geometry2</code> ）表，因为涉及<code class="codeph">geometry2</code>中的多个几何（请参阅用法说明）。
                     </p><pre class="oac_no_warn" dir="ltr">SELECT / * + ORDERED * / A.gid FROM query_polys B，polygons A WHERE SDO_RELATE（A.Geometry，B.Geometry，'mask = ANYINTERACT'）='TRUE';</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02__GUID-36CBFD3E-BE2C-401A-92C8-AE3FBC4E435F">相关话题</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="spatial-operators-reference.html#GUID-9AB42477-D0C0-4A87-826F-1BDDF1CA1FE5">SDO_FILTER</a></p>
                        </li>
                        <li>
                           <p><a href="spatial-operators-reference.html#GUID-4D9DD9EF-DD9C-4198-A416-37B900B4E32F">SDO_JOIN</a></p>
                        </li>
                        <li>
                           <p><a href="spatial-operators-reference.html#GUID-682B258F-1604-4BE8-824D-F6E05376E7EC">SDO_WITHIN_DISTANCE</a></p>
                        </li>
                        <li>
                           <p><a href="SDO_GEOM-reference.html#GUID-E1209A71-F5D8-42A9-A93E-72657B115579">SDO_GEOM.RELATE</a>函数</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="spatial-operators-reference.html#GUID-85422854-5133-4F1D-BF0E-228CA6EDAF87" title="本章介绍了使用空间对象数据类型时可以使用的运算符。">空间运算符</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL1040"></a><div class="props_rev_3"><a id="GUID-93B1E298-BE8D-45B9-A1D4-9B310ABB1252" name="GUID-93B1E298-BE8D-45B9-A1D4-9B310ABB1252"></a><h3 id="SPATL-GUID-93B1E298-BE8D-45B9-A1D4-9B310ABB1252" class="sect3"><span class="enumeration_section">20.17</span> SDO_TOUCH</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-93B1E298-BE8D-45B9-A1D4-9B310ABB1252__GUID-54AB2EE7-F868-40E5-828B-0CEBB185FDE1">格式</p><pre class="oac_no_warn" dir="ltr">SDO_TOUCH（geometry1，geometry2）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-93B1E298-BE8D-45B9-A1D4-9B310ABB1252__GUID-191D6195-EFE8-4B5B-84B1-DEE1BFCB1BFD">描述</p>
                     <p>检查表中的任何几何是否具有与指定几何的TOUCH拓扑关系。相当于使用<code class="codeph">'mask=TOUCH'</code>指定<a href="spatial-operators-reference.html#GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02">SDO_RELATE</a>运算符。
                     </p>
                     <p>有关此运算符执行的操作和使用要求的信息，请参阅本章中有关<a href="spatial-operators-reference.html#GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02">SDO_RELATE</a>运算符的部分。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-93B1E298-BE8D-45B9-A1D4-9B310ABB1252__GUID-E26ACD03-32F7-4AEF-AE59-2543E1133C89">关键词和参数</p>
                     <div class="tblformal" id="GUID-93B1E298-BE8D-45B9-A1D4-9B310ABB1252__GUID-AF44B06B-CD95-4EFC-B441-C921C39DCDF0">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameters and descriptions for SDO_TOUCH operator" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="19%" id="d115835e4765">值</th>
                                 <th align="left" valign="bottom" width="81%" id="d115835e4768">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d115835e4773" headers="d115835e4765 ">
                                    <p>geometry1</p>
                                 </td>
                                 <td align="left" valign="top" width="81%" headers="d115835e4773 d115835e4768 ">
                                    <p>指定表中的几何列。建议使用此列的空间索引。数据类型为SDO_GEOMETRY。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d115835e4782" headers="d115835e4765 ">
                                    <p>geometry2</p>
                                 </td>
                                 <td align="left" valign="top" width="81%" headers="d115835e4782 d115835e4768 ">
                                    <p>指定表中的几何或几何的瞬态实例。（使用绑定变量或SDO_GEOMETRY构造函数指定。）数据类型为SDO_GEOMETRY。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-93B1E298-BE8D-45B9-A1D4-9B310ABB1252__GUID-9F2E38CC-758B-4CBE-9AC0-2CABFBDFBB90">返回</p>
                     <p>对于具有TOUCH拓扑关系的对象，表达式SDO_TOUCH（geometry1，geometry2）='TRUE'的计算结果为TRUE，否则为FALSE。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-93B1E298-BE8D-45B9-A1D4-9B310ABB1252__GUID-A15F20E1-0F14-48E2-8A81-9887CD71C2CC">使用说明</p>
                     <p>请参阅本章中<a href="spatial-operators-reference.html#GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02">SDO_RELATE</a>运算符的使用说明。
                     </p>
                     <p>有关拓扑关系和空间和图形使用的九交点模型的说明，请参阅<a href="spatial-concepts.html#GUID-FA71CB03-FFF0-4529-BA07-AD0605DA7A89" title="Spatial和Graph使用辅助过滤器来确定数据库中实体之间的空间关系。空间关系基于几何位置。">空间关系和过滤</a> 。
                     </p>
                     <p>有关使用空间运算符（运算符在其计算中考虑并且不考虑所有三个维度）的3D支持的信息，请参阅<a href="spatial-concepts.html#GUID-6F3A9C6E-3617-47D9-AE61-CF9F1770555A" title="Oracle Spatial and Graph支持三维空间数据的存储和检索，包括点，点云（点集合），线，多边形，曲面和实体。">三维空间对象</a> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-93B1E298-BE8D-45B9-A1D4-9B310ABB1252__GUID-D764AA74-9A86-4836-9622-AE35B8C99DB6">例子</p>
                     <p>以下示例查找与查询窗口具有TOUCH关系的几何（此处为具有左下角，右上角坐标1,1,5,7的矩形）。（该示例使用<a href="spatial-datatypes-metadata.html#GUID-51A767CA-82EE-4475-8C8B-13E685C04934" title="This topic presents a simple example of creating a spatial table, inserting data, creating the spatial index, and performing spatial queries">简单示例中</a>的定义和数据<a href="spatial-datatypes-metadata.html#GUID-51A767CA-82EE-4475-8C8B-13E685C04934" title="本主题提供了创建空间表，插入数据，创建空间索引和执行空间查询的简单示例">：Inserting_ Indexing_和查询空间数据</a> 。）在此示例中，只有<code class="codeph">cola_b</code>与查询窗口几何体具有TOUCH关系。
                     </p><pre class="oac_no_warn" dir="ltr">SELECT c.mkt_id，c.name FROM cola_markets c WHERE SDO_TOUCH（c.shape，SDO_GEOMETRY（2003，NULL，NULL，SDO_ELEM_INFO_ARRAY（1,1003,3），SDO_ORDINATE_ARRAY（1,1,5,7）））='TRUE “;来自cola_markets c MKT_ID NAME ---------- -------------------------------- 2 cola_b</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="spatial-operators-reference.html#GUID-85422854-5133-4F1D-BF0E-228CA6EDAF87" title="本章介绍了使用空间对象数据类型时可以使用的运算符。">空间运算符</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL1041"></a><div class="props_rev_3"><a id="GUID-682B258F-1604-4BE8-824D-F6E05376E7EC" name="GUID-682B258F-1604-4BE8-824D-F6E05376E7EC"></a><h3 id="SPATL-GUID-682B258F-1604-4BE8-824D-F6E05376E7EC" class="sect3"><span class="enumeration_section">20.18</span> SDO_WITHIN_DISTANCE</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-682B258F-1604-4BE8-824D-F6E05376E7EC__GUID-5AAEB9F1-9D9E-4FB7-99C2-844DCC9754DC">格式</p><pre class="oac_no_warn" dir="ltr">SDO_WITHIN_DISTANCE（geometry1，aGeom，params）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-682B258F-1604-4BE8-824D-F6E05376E7EC__GUID-8864BAA9-D927-46C5-AA77-B09F7CA5E393">描述</p>
                     <p>使用空间索引来标识在给定对象的某个指定距离内的空间对象集合，例如感兴趣的区域或感兴趣的点。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-682B258F-1604-4BE8-824D-F6E05376E7EC__GUID-CDFB52CF-8100-40D2-8D63-F581D467A28B">关键词和参数</p>
                     <div class="tblformal" id="GUID-682B258F-1604-4BE8-824D-F6E05376E7EC__GUID-3903D758-8F80-4773-A689-B751FEE5B0C6">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Parameters and descriptions for SDO_WITHIN_DISTANCE operator" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="19%" id="d115835e4928">值</th>
                                 <th align="left" valign="bottom" width="81%" id="d115835e4931">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d115835e4936" headers="d115835e4928 ">
                                    <p>geometry1</p>
                                 </td>
                                 <td align="left" valign="top" width="81%" headers="d115835e4936 d115835e4931 ">
                                    <p>指定表中的几何列。该列具有一组几何对象，这些对象将被操作以确定它们是否在给定对象（ <code class="codeph">aGeom</code> ）的指定距离内。建议使用此列的空间索引。数据类型为SDO_GEOMETRY。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d115835e4948" headers="d115835e4928 ">
                                    <p>aGeom</p>
                                 </td>
                                 <td align="left" valign="top" width="81%" headers="d115835e4948 d115835e4931 ">
                                    <p>指定要检查几何体1中<code class="codeph">geometry1</code>对象的距离的对象。指定表中的几何（使用绑定变量）或几何的瞬态实例（使用SDO_GEOMETRY构造函数）。数据类型为SDO_GEOMETRY。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d115835e4960" headers="d115835e4928 ">
                                    <p><span>PARAMS</span></p>
                                 </td>
                                 <td align="left" valign="top" width="81%" headers="d115835e4960 d115835e4931 ">
                                    <p>带引号的字符串，包含一个或多个用于确定运算符行为的关键字（带有值）。其余项（ <code class="codeph">distance</code> ， <code class="codeph">ellipsoidal</code> ， <code class="codeph">max_resolution</code> ， <code class="codeph">min_resolution</code> ， <code class="codeph">querytype</code>和<code class="codeph">unit</code> ）是<code class="codeph">params</code>参数的潜在关键字。数据类型是VARCHAR2。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d115835e4992" headers="d115835e4928 ">
                                    <p>距离</p>
                                 </td>
                                 <td align="left" valign="top" width="81%" headers="d115835e4992 d115835e4931 ">
                                    <p>指定距离值。如果坐标系与几何相关联，则假定距离单位是与坐标系相关联的单位。这是必需的关键字。数据类型为NUMBER。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d115835e5001" headers="d115835e4928 ">
                                    <p>椭圆形</p>
                                 </td>
                                 <td align="left" valign="top" width="81%" headers="d115835e5001 d115835e4931 ">
                                    <p>指定椭圆体距离是否始终与大地测量数据一起使用（ <code class="codeph">true</code> ），或者在某些情况下是否使用球形距离（ <code class="codeph">false</code> ，默认值）。请参阅<a href="coordinate-systems-concepts.html#GUID-A5727F9D-FA87-467F-851D-50B11A016460">距离：球面与椭球与大地测量数据</a> 。
                                    </p>
                                    <p>例如：'ellipsoidal = true'</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d115835e5019" headers="d115835e4928 ">
                                    <p>max_resolution</p>
                                 </td>
                                 <td align="left" valign="top" width="81%" headers="d115835e5019 d115835e4931 ">
                                    <p>仅包含几何图形的MBR小于或等于指定值的几何图形。例如， <code class="codeph">max_resolution=10</code>仅包括几何的MBR的宽度或高度（或两者）小于或等于10的几何。（此关键字可用于排除太大而无法引起兴趣的几何图形。）
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d115835e5029" headers="d115835e4928 ">
                                    <p>min_resolution</p>
                                 </td>
                                 <td align="left" valign="top" width="81%" headers="d115835e5029 d115835e4931 ">
                                    <p>仅包含几何图形的MBR的至少一侧等于或大于指定值的几何图形。例如， <code class="codeph">min_resolution=10</code>仅包括几何的MBR的宽度或高度（或两者）至少为10的几何。（此关键字可用于排除太小而无法感兴趣的几何图形。）
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d115835e5039" headers="d115835e4928 ">
                                    <p>查询类型</p>
                                 </td>
                                 <td align="left" valign="top" width="81%" headers="d115835e5039 d115835e4931 ">
                                    <p>将<code class="codeph">'querytype=FILTER'</code>为仅执行主过滤操作。如果未指定<code class="codeph">querytype</code> ，则执行主要和辅助过滤器操作（默认）。数据类型是VARCHAR2。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d115835e5054" headers="d115835e4928 ">
                                    <p>单元</p>
                                 </td>
                                 <td align="left" valign="top" width="81%" headers="d115835e5054 d115835e4931 ">
                                    <p>指定度量单位：带有<code class="codeph">unit=</code>带引号的字符串和来自MDSYS.SDO_DIST_UNITS表的SDO_UNIT值（例如， <code class="codeph">'unit=KM'</code> ）。有关<a href="spatial-datatypes-metadata.html#GUID-5984C12A-0A22-4BFD-B777-7C837D3CBB99" title="Geometry functions that involve measurement allow an optional unit parameter to specify the unit of measurement for a specified distance or area, if a georeferenced coordinate system (SDO_SRID value) is associated with the input geometry or geometries.">测量</a>单位规范的更多信息，请参见<a href="spatial-datatypes-metadata.html#GUID-5984C12A-0A22-4BFD-B777-7C837D3CBB99" title="如果地理参考坐标系（SDO_SRID值）与输入几何或几何相关联，则涉及测量的几何函数允许可选单位参数指定指定距离或区域的测量单位。">测量支持</a>单位。数据类型为NUMBER。默认值=与数据关联的度量单位。对于大地测量数据，默认值为米。
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-682B258F-1604-4BE8-824D-F6E05376E7EC__GUID-544CDBDB-AE0D-4554-9301-3B47EDB1286E">返回</p>
                     <p>对于在指定距离内的对象对，表达式SDO_WITHIN_DISTANCE（arg1，arg2，arg3）='TRUE'的计算结果为TRUE，否则为FALSE。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-682B258F-1604-4BE8-824D-F6E05376E7EC__GUID-0DBA1271-7E61-4A44-8824-6EA2E4DD2319">使用说明</p>
                     <p>两个扩展对象（诸如线和多边形之类的非点对象）之间的距离被定义为这两个对象之间的最小距离。两个相邻多边形之间的距离为零。</p>
                     <p>如果表没有空间索引，或者查询窗口的维数与创建索引时指定的维数不匹配，则禁用运算符。</p>
                     <p>必须始终在WHERE子句中使用运算符，并且包含运算符的条件应该是表单的表达式：</p><pre class="oac_no_warn" dir="ltr">SDO_WITHIN_DISTANCE（arg1，arg2，'distance = &lt;some_dist_val&gt;'）='TRUE'</pre><p>（表达式不能等同于“TRUE”以外的任何值。）</p>
                     <p>几何列必须在其上构建空间索引。如果数据是大地测量，则空间索引必须是R树索引。</p>
                     <p>空间连接不支持SDO_WITHIN_DISTANCE。有关如何<a href="indexing-querying-spatial-data.html#GUID-3839BEE8-7743-46F4-B573-667ADC7FEB3E">在距离内操作</a>中执行空间连接的讨论，请参阅<a href="indexing-querying-spatial-data.html#GUID-3839BEE8-7743-46F4-B573-667ADC7FEB3E">距离内操作员</a> 。
                     </p>
                     <p>有关使用空间运算符（运算符在其计算中考虑并且不考虑所有三个维度）的3D支持的信息，请参阅<a href="spatial-concepts.html#GUID-6F3A9C6E-3617-47D9-AE61-CF9F1770555A" title="Oracle Spatial and Graph支持三维空间数据的存储和检索，包括点，点云（点集合），线，多边形，曲面和实体。">三维空间对象</a> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-682B258F-1604-4BE8-824D-F6E05376E7EC__GUID-32C32470-BBC9-44A0-AC62-150E2728E710">例子</p>
                     <p>以下示例从查询窗口中选择距离10的几何（此处为左下角，右上角坐标为4,6,8,8的矩形）。（该示例使用<a href="spatial-datatypes-metadata.html#GUID-51A767CA-82EE-4475-8C8B-13E685C04934" title="This topic presents a simple example of creating a spatial table, inserting data, creating the spatial index, and performing spatial queries">简单示例中</a>描述和说明的定义和数据<a href="spatial-datatypes-metadata.html#GUID-51A767CA-82EE-4475-8C8B-13E685C04934" title="本主题提供了创建空间表，插入数据，创建空间索引和执行空间查询的简单示例">：Inserting_ Indexing_和查询空间数据</a> 。在这种情况下，将返回该图中显示的所有几何图形。）
                     </p><pre class="oac_no_warn" dir="ltr">SELECT c.name FROM cola_markets c WHERE SDO_WITHIN_DISTANCE（c.shape，SDO_GEOMETRY（2003，NULL，NULL，SDO_ELEM_INFO_ARRAY（1,1003,3），SDO_ORDINATE_ARRAY（4,6,8,8）），'distance = 10'）= '真正'; NAME -------------------------------- cola_b cola_a cola_c cola_d</pre><p>以下示例与前面的示例相同，不同之处在于它仅包含几何图形，其中几何图形的MBR的至少一侧等于或大于4.1。在这种情况下，仅返回<code class="codeph">cola_a</code>和<code class="codeph">cola_b</code> ，因为它们的MBR至少有一侧长度大于或等于4.1。梯形<code class="codeph">cola_c</code>被排除在外，因为它的MBR的边长为3和2;并且排除了<code class="codeph">cola_d</code>圈，因为它的MBR是一个边长为4的正方形。
                     </p><pre class="oac_no_warn" dir="ltr">SELECT c.name FROM cola_markets c WHERE SDO_WITHIN_DISTANCE（c.shape，SDO_GEOMETRY（2003，NULL，NULL，SDO_ELEM_INFO_ARRAY（1,1003,3），SDO_ORDINATE_ARRAY（4,6,8,8）），'distance = 10 min_resolution = 4.1 '）='正确'; NAME -------------------------------- cola_b cola_a</pre><p>以下示例从POLYGONS表中选择GID值，其中GEOMETRY列对象位于<code class="codeph">aGeom</code>变量中存储的几何的10个距离单位内。
                     </p><pre class="oac_no_warn" dir="ltr">从多边形中选择A.GID一个SDO_WITHIN_DISTANCE（A.Geometry，：aGeom，'distance = 10'）='TRUE';</pre><p>以下示例从POLYGONS表中选择GID值，其中GEOMETRY列对象在具有左下坐标（x1，y1）和右上坐标（x2，y2）的指定矩形的10个距离单位内。</p><pre class="oac_no_warn" dir="ltr">从多边形中选择A.GID一个SDO_WITHIN_DISTANCE（A.Geometry，sdo_geometry（2003，NULL，NULL，sdo_elem_info_array（1,1003,3），sdo_ordinate_array（x1，y1，x2，y2）），'distance = 10'）= '真正';</pre><p>以下示例从POLYGONS表中选择GID值，其中QUERY_POINTS表中的GID值为1，POLYGONS.GEOMETRY对象在QUERY_POINTS.GEOMETRY对象的10个距离单位内。</p><pre class="oac_no_warn" dir="ltr">SELECT A.GID FROM POLYGONS A，Query_Points B WHERE B.GID = 1 AND SDO_WITHIN_DISTANCE（A.Geometry，B.Geometry，'distance = 10'）='TRUE';</pre><p>还看到更为复杂的例子SDO_WITHIN_DISTANCE <a href="complex-spatial-queries.html#GUID-49F0C64E-AFE9-41C7-9068-ACEE1D276BC4">SDO_WITHIN_DISTANCE例子</a> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-682B258F-1604-4BE8-824D-F6E05376E7EC__GUID-47DE970C-706D-47B0-A1C7-F228E3A7D10C">相关话题</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="spatial-operators-reference.html#GUID-9AB42477-D0C0-4A87-826F-1BDDF1CA1FE5">SDO_FILTER</a></p>
                        </li>
                        <li>
                           <p><a href="spatial-operators-reference.html#GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02">SDO_RELATE</a> 
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="spatial-operators-reference.html#GUID-85422854-5133-4F1D-BF0E-228CA6EDAF87" title="本章介绍了使用空间对象数据类型时可以使用的运算符。">空间运算符</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html>