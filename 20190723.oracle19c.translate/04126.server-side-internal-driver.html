<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>服务器端内部驱动程序</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="JDBC Developer&#39;s Guide"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="JDBC Developer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="jdbc-developers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-02-13T13:20:37-08:00"></meta>
      <meta name="dcterms.title" content="JDBC Developer&#39;s Guide"></meta>
      <meta name="dcterms.dateCopyrighted" content="1999, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96471-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="JDBC-OCI-features.html" title="Previous" type="text/html"></link>
      <link rel="next" href="connection-and-security.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="JJDBC"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="JDBC-OCI-features.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="connection-and-security.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">JDBC开发人员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="overview-Oracle-JDBC.html" property="item" typeof="WebPage"><span property="name">Oracle JDBC</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">服务器端内部驱动程序</li>
            </ol>
            <a id="GUID-35EABC5D-F2B2-4444-BF94-A955835C201E" name="GUID-35EABC5D-F2B2-4444-BF94-A955835C201E"></a><a id="JJDBC28250"></a>
            
            <h2 id="JJDBC-GUID-35EABC5D-F2B2-4444-BF94-A955835C201E" class="sect2"><span class="enumeration_chapter">7</span>服务器端内部驱动程序</h2>
         </header>
         <div class="ind">
            <div>
               <p>本章包含以下主题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="server-side-internal-driver.html#GUID-054329C9-CFFD-47BD-A41F-1DEF08C45D29">服务器端内部驱动程序概述</a></p>
                  </li>
                  <li>
                     <p><a href="server-side-internal-driver.html#GUID-FE3F1334-702D-46F1-86C3-06195351F012">连接到数据库</a></p>
                  </li>
                  <li>
                     <p><a href="server-side-internal-driver.html#GUID-DE09D786-ADF5-4EC7-85CE-A30A41DED4EC">关于会话和事务上下文</a></p>
                  </li>
                  <li>
                     <p><a href="server-side-internal-driver.html#GUID-8E000DA7-2E0F-4605-BDA6-F05731F0F9CD">在服务器上测试JDBC</a></p>
                  </li>
                  <li>
                     <p><a href="server-side-internal-driver.html#GUID-25C6E1D4-EA8B-44F0-BDB1-C6DC412FFF81">将应用程序加载到服务器中</a></p>
                  </li>
               </ul>
            </div><a id="JJDBC28251"></a><div class="props_rev_3"><a id="GUID-054329C9-CFFD-47BD-A41F-1DEF08C45D29" name="GUID-054329C9-CFFD-47BD-A41F-1DEF08C45D29"></a><h3 id="JJDBC-GUID-054329C9-CFFD-47BD-A41F-1DEF08C45D29" class="sect3"><span class="enumeration_section">7.1</span>服务器端内部驱动程序概述</h3>
               <div>
                  <p>服务器端内部驱动程序本质上与Oracle数据库和嵌入式Java虚拟机（也称为Oracle）相关联<a id="d32222e72" class="indexterm-anchor"></a> Java虚拟机（Oracle <a id="d32222e75" class="indexterm-anchor"></a> JVM）。驱动程序作为与数据库相同的进程的一部分运行。它还在默认会话中运行，该会话是启动Oracle JVM的同一会话。每个Oracle JVM会话都与其所在的数据库会话具有单个隐式本机连接。此连接是概念性的，不是Java对象。它是会话的固有方面，无法在JVM中打开或关闭。</p>
                  <p>服务器端内部驱动程序经过优化，可在数据库服务器中运行，并可直接访问本地数据库上的SQL数据和PL / SQL子程序。整个JVM在与数据库和数据库相同的地址空间中运行<a id="d32222e80" class="indexterm-anchor"></a><a id="d32222e84" class="indexterm-anchor"></a> SQL引擎。访问SQL引擎是一个函数调用。这样可以提高Java数据库连接（JDBC）应用程序的性能，并且比运行远程Oracle Net调用访问SQL引擎要快得多。
                  </p>
                  <p>服务器端内部驱动程序支持与客户端驱动程序相同的功能，应用程序编程接口（API）和Oracle扩展。这使得应用程序分区非常简单。例如，如果您有一个数据密集型的Java应用程序，那么您可以轻松地将其移动到数据库服务器中以获得更好的性能，而无需修改特定于应用程序的调用。</p>
               </div>
            </div><a id="JJDBC28253"></a><a id="JJDBC28254"></a><a id="JJDBC28252"></a><div class="props_rev_3"><a id="GUID-FE3F1334-702D-46F1-86C3-06195351F012" name="GUID-FE3F1334-702D-46F1-86C3-06195351F012"></a><h3 id="JJDBC-GUID-FE3F1334-702D-46F1-86C3-06195351F012" class="sect3"><span class="enumeration_section">7.2</span>连接数据库</h3>
               <div>
                  <div class="section">
                     <p>如前一节所述， <a id="d32222e118" class="indexterm-anchor"></a><a id="d32222e122" class="indexterm-anchor"></a><a id="d32222e128" class="indexterm-anchor"></a><a id="d32222e130" class="indexterm-anchor"></a>服务器端内部驱动程序在默认会话中运行。因此，您已经连接。有两种方法可以访问默认连接：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type:disc">
                        <li>
                           <p>使用<code class="codeph">OracleDataSource.getConnection</code>方法，使用以下任何一种形式作为URL字符串：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">JDBC：神谕：kprb</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">JDBC：默认：连接</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">JDBC：神谕：kprb：</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">JDBC：默认：连接：</code></p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p>使用<code class="codeph">OracleDriver</code>类的Oracle特定的<code class="codeph">defaultConnection</code>方法。
                           </p>
                        </li>
                     </ul>
                     <p>通常建议使用<code class="codeph">defaultConnection</code> 。
                     </p>
                     <div class="infoboxnote" id="GUID-FE3F1334-702D-46F1-86C3-06195351F012__GUID-A9DD6F7E-6529-4BC8-A129-BDCE723C34FB">
                        <p class="notep1">注意：</p>
                        <p>您不再需要注册<code class="codeph">OracleDriver</code>类以连接服务器端内部驱动程序。
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-FE3F1334-702D-46F1-86C3-06195351F012__GUID-3BD4A643-A5D2-43CB-8959-58C1C2DEF3D3">使用OracleDriver类defaultConnection方法连接</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>该<code class="codeph"></code> <code class="codeph">oracle.jdbc. <code class="codeph">defaultConnection</code>方法<code class="codeph">oracle.jdbc.OracleDriver</code>类是Oracle扩展，始终返回相同的连接对象。即使多次调用此方法，将结果连接对象分配给不同的变量名，也只重用一个连接对象。
                     </p>
                     <p>你<span class="italic">不必</span>包括在连接字符串<code class="codeph">defaultConnection</code>电话。例如：</p><pre class="oac_no_warn" dir="ltr">import java.sql。*; import oracle.jdbc。*; class JDBCConnection {public static Connection connect（）throws SQLException {Connection conn = null;尝试{//连接服务器端内部驱动程序</pre><pre class="oac_no_warn" dir="ltr">conn = ora.defaultConnection（）; catch（SQLException e）{...}返回; }}</pre><p>请注意，示例中没有<code class="codeph">conn.close</code>调用。当JDBC代码在目标服务器内运行时，连接是隐式数据通道，而不是来自客户端的显式连接实例。它<span class="italic">不</span>应该被关闭。
                     </p>
                     <p>OracleDriver有一个静态变量来存储默认连接实例。如果连接存在且未关闭，则<code class="codeph">OracleDriver.defaultConnection</code>方法将返回此默认连接实例。否则，它会创建一个新的打开实例并将其存储在静态变量中并将其返回给调用者。
                     </p>
                     <p>通常，您应该使用<code class="codeph">OracleDriver.defaultConnection</code>方法。此方法速度更快，使用的资源更少。应该仔细编写Java存储过程。例如，在每次调用结束前关闭语句。
                     </p>
                     <p>通常，您不应关闭默认连接实例，因为它是可以存储在多个位置的单个实例，如果关闭实例，则每个实例都将变为不可用。如果它关闭，稍后调用<code class="codeph">OracleDriver.defaultConnection</code>方法将获得一个新的打开实例。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-FE3F1334-702D-46F1-86C3-06195351F012__GUID-F795235A-2377-4765-B9F4-D591A4DD146A">使用OracleDataSource.getConnection方法连接</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>要从目标服务器中运行的代码连接到内部服务器连接，可以将<code class="codeph">OracleDataSource.getConnection</code>方法与以下任一方法一起使用<a id="d32222e235" class="indexterm-anchor"></a><a id="d32222e239" class="indexterm-anchor"></a>网址：</p><pre class="oac_no_warn" dir="ltr">OracleDataSource ods = new OracleDataSource（）; ods.setURL（ “JDBC：ORACLE：kprb”）; Connection conn = ods.getConnection（）;</pre><p>要么：</p><pre class="oac_no_warn" dir="ltr">OracleDataSource ods = new OracleDataSource（）; ods.setURL（ “JDBC：默认：连接”）; Connection conn = ods.getConnection（）;</pre><p>在连接到默认服务器连接时，将忽略您在URL中包含的任何用户名或密码。</p>
                     <p>每次调用<code class="codeph">OracleDataSource.getConnection</code>方法时， <code class="codeph">OracleDataSource.getConnection</code>方法都会返回一个新的Java <code class="codeph">Connection</code>对象。如果您正在使用对象映射或者每次调用它时<code class="codeph">OracleDataSource.getConnection</code>返回一个新的连接对象这一事实很重要<a id="d32222e263" class="indexterm-anchor"></a>类型地图。类型映射与特定的<code class="codeph">Connection</code>对象以及作为对象一部分的任何状态相关联。如果要将多个类型映射用作程序的一部分，则可以调用<code class="codeph">getConnection</code>为每个类型映射创建一个新的<code class="codeph">Connection</code>对象。
                     </p>
                     <div class="infoboxnote" id="GUID-FE3F1334-702D-46F1-86C3-06195351F012__GUID-B5F65149-D7F7-4C3B-B1CF-357C63031FC4">
                        <p class="notep1">注意：</p>
                        <p>虽然每次调用<code class="codeph">OracleDataSource.getConnection</code>方法都会返回一个新对象，但每次都不会创建新的数据库连接。它们都使用相同的隐式本机连接并共享相同的会话状态，特别是本地事务。
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="JJDBC28258"></a><div class="props_rev_3"><a id="GUID-DE09D786-ADF5-4EC7-85CE-A30A41DED4EC" name="GUID-DE09D786-ADF5-4EC7-85CE-A30A41DED4EC"></a><h3 id="JJDBC-GUID-DE09D786-ADF5-4EC7-85CE-A30A41DED4EC" class="sect3"><span class="enumeration_section">7.3</span>关于会话和事务上下文</h3>
               <div>
                  <div class="section">
                     <p><a id="d32222e309" class="indexterm-anchor"></a><a id="d32222e313" class="indexterm-anchor"></a><a id="d32222e317" class="indexterm-anchor"></a><a id="d32222e321" class="indexterm-anchor"></a>服务器端驱动程序在默认会话和默认事务上下文中运行。默认会话是启动JVM的会话。实际上，您已连接到服务器上的数据库。这与没有默认会话的客户端不同。您必须显式连接到数据库。
                     </p>
                     <p>服务器中禁用自动提交模式。您必须使用连接对象上的相应方法显式管理事务<code class="codeph">COMMIT</code>和<code class="codeph">ROLLBACK</code>操作：</p><pre class="oac_no_warn" dir="ltr">conn.commit（）;</pre><p>要么：</p><pre class="oac_no_warn" dir="ltr">conn.rollback（）;</pre><div class="infoboxnote" id="GUID-DE09D786-ADF5-4EC7-85CE-A30A41DED4EC__GUID-6D1897A0-31F4-4BA2-AC1C-6D1F722DA540">
                        <p class="notep1">注意：</p>
                        <p>作为最佳实践，建议不要在服务器内提交或回滚事务。</p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="JJDBC28259"></a><div class="props_rev_3"><a id="GUID-8E000DA7-2E0F-4605-BDA6-F05731F0F9CD" name="GUID-8E000DA7-2E0F-4605-BDA6-F05731F0F9CD"></a><h3 id="JJDBC-GUID-8E000DA7-2E0F-4605-BDA6-F05731F0F9CD" class="sect3"><span class="enumeration_section">7.4</span>在服务器上测试JDBC</h3>
               <div>
                  <div class="section">
                     <p>几乎任何<a id="d32222e368" class="indexterm-anchor"></a>可以在客户端上运行的JDBC程序也可以在服务器上运行。<code class="codeph">samples</code>目录中的所有程序都可以在服务器上运行，只需稍作修改即可。通常，这些修改仅涉及连接语句。
                     </p>
                     <p>考虑以下代码片段，它获取与数据库的连接：</p><pre class="oac_no_warn" dir="ltr">ods.setUrl（“jdbc：oracle：oci：@（DESCRIPTION =（ADDRESS =（PROTOCOL = TCP）（HOST = cluster_alias）（PORT = 5221））（CONNECT_DATA =（SERVICE_NAME = orcl）））”）; ods.setUser（ “HR”）; ods.setPassword（ “HR”）; Connection conn = ods.getConnection（）;</pre><p>我们可以修改此代码片段以在服务器端内部驱动程序中使用。在服务器端内部驱动程序中，不需要用户，密码或数据库信息。对于连接语句，您使用：</p><pre class="oac_no_warn" dir="ltr">ods.setUrl（“jdbc：oracle：kprb：@”）; Connection conn = ods.getConnection（）;</pre><p>但是，获取连接最方便的方法是调用<code class="codeph">OracleDriver.defaultConnection</code>方法，如下所示：</p><pre class="oac_no_warn" dir="ltr">Connection conn = OracleDriver.defaultConnection（）;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="JJDBC28260"></a><div class="props_rev_3"><a id="GUID-25C6E1D4-EA8B-44F0-BDB1-C6DC412FFF81" name="GUID-25C6E1D4-EA8B-44F0-BDB1-C6DC412FFF81"></a><h3 id="JJDBC-GUID-25C6E1D4-EA8B-44F0-BDB1-C6DC412FFF81" class="sect3"><span class="enumeration_section">7.5</span>将应用程序加载到服务器中</h3>
               <div>
                  <div class="section">
                     <p>将应用程序加载到服务器时，可以加载已在客户端上编译的<code class="codeph">.class</code>文件，也可以加载<code class="codeph">.java</code>源文件并在服务器上自动编译。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div><a id="JJDBC28262"></a><a id="JJDBC28263"></a><a id="JJDBC28261"></a><div class="props_rev_3"><a id="GUID-BCB2FC94-9B71-4480-977B-867ED101E475" name="GUID-BCB2FC94-9B71-4480-977B-867ED101E475"></a><h4 id="JJDBC-GUID-BCB2FC94-9B71-4480-977B-867ED101E475" class="sect4"><span class="enumeration_section">7.5.1</span>使用Loadjava实用程序</h4>
                  <div>
                     <div class="section">
                        <p>您可以使用<code class="codeph">loadjava</code>实用程序加载文件。您可以在命令行上指定源文件名，也可以将文件放入Java Archive（JAR）文件中，并在命令行中指定JAR文件名。
                        </p>
                        <p>运行实际实用程序的<code class="codeph">loadjava</code>脚本位于Oracle主目录的<code class="codeph">bin</code>目录中。安装Oracle后，此目录应已在您的路径中。
                        </p>
                        <div class="infoboxnote" id="GUID-BCB2FC94-9B71-4480-977B-867ED101E475__GUID-03B07074-9DD8-46FC-B939-3873F40A97BA">
                           <p class="notep1">注意：</p>
                           <p><code class="codeph">loadjava</code>实用程序支持压缩文件。
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-BCB2FC94-9B71-4480-977B-867ED101E475__GUID-39093006-4A4D-4A9F-8AE7-CE4498092AD8">将类文件加载到服务器中</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>考虑一下您的应用程序中有以下三个类文件的情况： <code class="codeph">Foo1.class</code> ， <code class="codeph">Foo2.class</code>和<code class="codeph">Foo3.class</code> 。每个类都写入服务器中自己的类模式对象。
                        </p>
                        <p>您可以使用默认的JDBC Oracle调用接口（OCI）驱动程序以下列方式加载类文件：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>指定单个类文件名，如下所示：</p><pre class="oac_no_warn" dir="ltr">loadjava -user HR Foo1.class Foo2.class Foo3.class密码： <span class="italic">密码</span>
</pre></li>
                           <li>
                              <p>使用通配符指定类文件名，如下所示：</p><pre class="oac_no_warn" dir="ltr">loadjava -user HR Foo * .class密码： <span class="italic">密码</span>
</pre></li>
                           <li>
                              <p>指定包含类文件的JAR文件，如下所示：</p><pre class="oac_no_warn" dir="ltr">loadjava -user HR Foo.jar密码： <span class="italic">密码</span>
</pre></li>
                        </ul>
                        <p>您可以使用JDBC Thin驱动程序加载文件，如下所示：</p><pre class="oac_no_warn" dir="ltr">loadjava -thin -user HR @ localhost：5221：orcl Foo.jar密码： <span class="italic">密码</span>
</pre><div class="infoboxnote" id="GUID-BCB2FC94-9B71-4480-977B-867ED101E475__GUID-AA18FE4B-3B8B-4DDE-8D24-626F76F84E94">
                           <p class="notep1">注意：</p>
                           <p>从Oracle Database 12 <span class="italic">c</span>第1版（12.1）开始，支持JDK 6和JDK 7。但是，在给定时间内只有一个JVM处于活动状态。
                           </p>
                           <p>确保不使用比服务器上的活动运行时版本更新的JDK版本来编译类。</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-BCB2FC94-9B71-4480-977B-867ED101E475__GUID-053FAC75-028C-4AF7-941F-823852D45CF5">将源文件加载到服务器中</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>如果在加载<code class="codeph">.java</code>源文件时启用<code class="codeph">loadjava -resolve</code>选项，则服务器端编译器将在加载时编译应用程序，从而生成原始源代码的源模式对象和一个或多个类模式对象用于编译输出。
                        </p>
                        <p>如果未指定<code class="codeph">-resolve</code> ，则源将加载到源架构对象中而不进行任何编译。但是，在这种情况下，在第一次尝试使用源中定义的类时，会隐式编译源。
                        </p>
                        <p>例如，运行<code class="codeph">loadjava</code> ，如下所示，使用默认的JDBC OCI驱动程序加载和编译<code class="codeph">Foo.java</code> ：</p><pre class="oac_no_warn" dir="ltr">loadjava -user HR -resolve Foo.java密码： <span class="italic">密码</span>
</pre><p>或者，使用以下命令使用JDBC Thin驱动程序加载：</p><pre class="oac_no_warn" dir="ltr">loadjava -thin -user HR @ localhost：5221：orcl -resolve Foo.java密码： <span class="italic">password</span>
</pre><p>除了源模式对象之外，其中任何一个都将导致创建适当的类模式对象。</p>
                        <div class="infoboxnote" id="GUID-BCB2FC94-9B71-4480-977B-867ED101E475__GUID-3437AA6D-7ECC-408C-815A-14917646D46B">
                           <p class="notep1">注意：</p>
                           <p>Oracle通常建议尽可能在客户端上编译源代码，并将<code class="codeph">.class</code>文件而不是源文件加载到服务器中。
                           </p>
                        </div>
                        <div class="infoboxnotealso" id="GUID-BCB2FC94-9B71-4480-977B-867ED101E475__GUID-20472F66-5ECE-4941-8010-C382BB0803D4">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="../jjdev/loadjava-tool.html#JJDEV10060" target="_blank"><span class="italic">Oracle数据库Java开发人员指南</span></a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDBC28264"></a><div class="props_rev_3"><a id="GUID-6ED82A06-FF02-4CD2-BC65-85F73A218980" name="GUID-6ED82A06-FF02-4CD2-BC65-85F73A218980"></a><h4 id="JJDBC-GUID-6ED82A06-FF02-4CD2-BC65-85F73A218980" class="sect4"><span class="enumeration_section">7.5.2</span>使用JVM命令行</h4>
                  <div>
                     <div class="section">
                        <p>您还可以使用JVM命令行选项加载文件。Oracle JVM的命令行界面类似于使用JDK或JRE shell命令。您可以：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>使用标准的<code class="codeph">-classpath</code>语法指示要在何处查找要加载的类</p>
                           </li>
                           <li>
                              <p>使用标准<code class="codeph">-D</code>语法设置系统属性</p>
                           </li>
                        </ul>
                        <p>接口是一个PL / SQL函数，它接受一个字符串（ <code class="codeph">VARCHAR2</code> ）参数，将其解析为命令行输入，如果它正确形成，则在Oracle JVM中运行指示的Java方法。为此，PL / SQL包<code class="codeph">DBMS_JAVA</code>提供以下功能：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">runjava</code></p>
                              <p>您可以通过以下方式使用<code class="codeph">runjava</code>函数：</p><pre class="oac_no_warn" dir="ltr">FUNCTION runjava（cmdline VARCHAR2）RETURN VARCHAR2;</pre></li>
                           <li>
                              <p><code class="codeph">runjava_in_current_session</code></p>
                              <p>您可以通过以下方式使用<code class="codeph">runjava_in_current_session</code>函数：</p><pre class="oac_no_warn" dir="ltr">功能runjava_in_current_session（cmdline VARCHAR2）RETURN VARCHAR2;</pre></li>
                        </ul>
                        <div class="infoboxnote" id="GUID-6ED82A06-FF02-4CD2-BC65-85F73A218980__GUID-418D1DC8-3684-4B8B-9B5A-B7FDBDA0C8A6">
                           <p class="notep1">注意：</p>
                           <p>从Oracle Database <span class="italic">11g</span>第1版开始，有一个适用于Oracle JVM环境的即时（JIT）编译器。用于Oracle JVM的JIT编译器可以更快地执行，因为与旧的Native编译器相比，JIT编译器使用高级技术并编译动态生成的代码。与旧的Native编译器不同，JIT编译器不需要C编译器。它在没有任何插件支持的情况下启用。
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div></div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>