<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>Teradata网关功能和限制</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="User&#39;s Guide"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="User&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-gateway-teradata-users-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-04-16T14:59:05-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2002, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96407-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="database-gateway-teradata-introduction.html" title="Previous" type="text/html"></link>
      <link rel="next" href="database-gateway-teradata-case-studies.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Gateway for Teradata User&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="TGTEU"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="database-gateway-teradata-introduction.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="database-gateway-teradata-case-studies.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">用户指导</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Teradata网关功能和限制</li>
            </ol>
            <a id="GUID-C0BE4273-0A06-41BF-9630-C7DD40DD6CDD" name="GUID-C0BE4273-0A06-41BF-9630-C7DD40DD6CDD"></a><a id="TGTEU200"></a>
            
            <h2 id="TGTEU-GUID-C0BE4273-0A06-41BF-9630-C7DD40DD6CDD" class="sect2"><span class="enumeration_chapter">2</span> Teradata网关功能和限制</h2>
         </header>
         <div class="ind">
            <div>
               <p>安装和配置网关后，您可以使用网关访问Teradata数据，将Teradata命令从应用程序传递到Teradata数据库，执行分布式查询以及复制数据。</p>
               <p>话题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="database-gateway-teradata-features.html#GUID-513FBA3C-3458-4129-93E4-38DB2DF97F7A" title="远程插入行源功能允许远程插入，要求本地Oracle数据通过Oracle数据库和Oracle数据库网关工作。此功能要求Oracle数据库和Oracle Database Gateway为12.2或更高版本。">远程插入Rowsource</a></p>
                  </li>
                  <li>
                     <p><a href="database-gateway-teradata-features.html#GUID-636ED0F6-3F45-47E1-BF4C-76006ECE0FDB">使用传递功能</a></p>
                  </li>
                  <li>
                     <p><a href="database-gateway-teradata-features.html#GUID-A5B2B8C5-E22D-4F47-AA3B-5B42164287F0">执行存储过程和函数</a></p>
                  </li>
                  <li>
                     <p><a href="database-gateway-teradata-features.html#GUID-ED760D07-B731-4DDC-9D57-B0327EAA6572">CHAR语义学</a></p>
                  </li>
                  <li>
                     <p><a href="database-gateway-teradata-features.html#GUID-A85DDBCF-8EC8-422B-AF2D-8A61299D0C81">多字节字符集比率抑制</a></p>
                  </li>
                  <li>
                     <p><a href="database-gateway-teradata-features.html#GUID-3B1EC231-66A1-4E0B-ACE7-0B0C320E1F20">IPv6支持</a></p>
                  </li>
                  <li>
                     <p><a href="database-gateway-teradata-features.html#GUID-86CF2DDB-B56A-4F08-A29D-A4080F4554EC">网关会话IDLE超时</a></p>
                  </li>
                  <li>
                     <p><a href="database-gateway-teradata-features.html#GUID-D7832418-9B5D-4E06-848F-F5B7990251E0">Teradata的数据库兼容性问题</a></p>
                  </li>
                  <li>
                     <p><a href="database-gateway-teradata-features.html#GUID-B05DC429-FE3E-4C8E-8BB1-AF2429EF8FFE">已知的限制</a></p>
                  </li>
                  <li>
                     <p><a href="database-gateway-teradata-features.html#GUID-34EF84B4-FD73-44DB-A2C2-9A83B9B2496D">已知问题</a></p>
                  </li>
               </ul>
            </div>
            <div class="sect2"><a id="GUID-513FBA3C-3458-4129-93E4-38DB2DF97F7A" name="GUID-513FBA3C-3458-4129-93E4-38DB2DF97F7A"></a><h3 id="TGTEU-GUID-513FBA3C-3458-4129-93E4-38DB2DF97F7A" class="sect3">远程插入Rowsource</h3>
               <div>
                  <p>远程插入行源功能允许远程插入，要求本地Oracle数据通过Oracle数据库和Oracle数据库网关工作。此功能要求Oracle数据库和Oracle Database Gateway为12.2或更高版本。</p>
                  <p>通过Oracle数据库设计，必须在数据库链接站点执行某些分布式语句。但在某些情况下，执行这些查询所需的数据必须从原始Oracle数据库中获取。在同构连接下，远程Oracle数据库将回调源Oracle数据库以获取此类数据。但是在异构连接中，这是不可行的，因为这意味着外部数据存储必须查询只能由发出查询的Oracle实例提供的回调函数或数据。通常，这些类型的语句不能通过Oracle数据库网关支持。</p>
                  <p>以下类别的SQL语句会导致回调：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>任何带有子选择的DML，它指的是Oracle数据库中的一个表。</p>
                     </li>
                     <li>
                        <p>任何<code class="codeph">DELETE</code> ， <code class="codeph">INSERT</code> ， <code class="codeph">UPDATE</code>或“ <code class="codeph">SELECT...FOR UPDATE..."</code>包含需要在原始Oracle数据库中执行的SQL函数或语句的SQL语句。
                        </p>
                        <p>这些SQL函数包括<code class="codeph">USER</code> ， <code class="codeph">USERENV</code>和<code class="codeph">SYSDATE</code> ;并涉及从原始Oracle数据库中选择数据。
                        </p>
                     </li>
                     <li>
                        <p>任何涉及Oracle数据库中的表以及远程表中的<code class="codeph">LONG</code>或<code class="codeph">LOB</code>列的SQL语句。
                        </p>
                     </li>
                  </ul>
                  <p>可以通过远程插入行源功能工作的远程<code class="codeph">INSERT</code>语句的示例如下：</p><pre class="oac_no_warn" dir="ltr">INSERT INTO <span class="italic">gateway_table</span> @gateway_link select * from <span class="italic">local_table</span> ;</pre></div>
            </div><a id="TGTEU704"></a><div class="props_rev_3"><a id="GUID-636ED0F6-3F45-47E1-BF4C-76006ECE0FDB" name="GUID-636ED0F6-3F45-47E1-BF4C-76006ECE0FDB"></a><h3 id="TGTEU-GUID-636ED0F6-3F45-47E1-BF4C-76006ECE0FDB" class="sect3">使用传递功能</h3>
               <div>
                  <div class="section">
                     <p>网关可以使用<code class="codeph">DBMS_HS_PASSTHROUGH</code>包将Teradata命令或语句从应用程序直接传递到Teradata数据库。
                     </p>
                     <p>使用PL / SQL块中的<code class="codeph">DBMS_HS_PASSTHROUGH</code>包指定要传递给Teradata数据库的语句，如下所示：</p><pre class="oac_no_warn" dir="ltr">DECLARE num_rows INTEGER; BEGIN num_rows：= DBMS_HS_PASSTHROUGH.EXECUTE_IMMEDIATE@TERA（' <span class="italic">command</span> '）;结束; /</pre><p>其中<span class="italic"><code class="codeph">command</code></span>不能是以下之一：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">开始交易</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">BT</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">承诺</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">结束交易</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ET</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ROLLBACK</code></p>
                        </li>
                     </ul>
                     <p><code class="codeph">DBMS_HS_PASSTHROUGH</code>包支持传递绑定值和执行<code class="codeph">SELECT</code>语句。
                     </p>
                     <div class="infoboxnotealso" id="GUID-636ED0F6-3F45-47E1-BF4C-76006ECE0FDB__GUID-46864878-3116-4CE7-8981-2BF72806C280">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="../arpls/DBMS_HS_PASSTHROUGH.html#ARPLS017" target="_blank"><span class="italic">Oracle数据库PL / SQL包和类型参考</span></a>和<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tgteu&amp;id=HETER003" target="_blank">第3章，Oracle数据库网关的功能，</a> <span class="italic">Oracle数据库异构连接用户指南</span> ，以获取有关<code class="codeph">DBMS_HS_PASSTHROUGH</code>包的更多信息。
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="TGTEU857"></a><div class="props_rev_3"><a id="GUID-A5B2B8C5-E22D-4F47-AA3B-5B42164287F0" name="GUID-A5B2B8C5-E22D-4F47-AA3B-5B42164287F0"></a><h3 id="TGTEU-GUID-A5B2B8C5-E22D-4F47-AA3B-5B42164287F0" class="sect3">执行存储过程和函数</h3>
               <div>
                  <p>使用过程功能，网关可以执行Teradata数据库中定义的存储过程。没有必要重新链接网关或将过程定义到网关，但过程的访问权限必须允许网关访问。</p>
                  <p>标准PL / SQL语句用于执行存储过程。</p>
                  <p>网关支持三种互斥模式的存储过程：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>普通模式：只能访问<code class="codeph">IN</code> / <code class="codeph">OUT</code>参数</p>
                     </li>
                     <li>
                        <p>返回值模式：具有所有存储过程的返回值</p>
                     </li>
                     <li>
                        <p>结果集模式：输出值可用作最后结果集</p>
                     </li>
                  </ul>
               </div><a id="TGTEU858"></a><div class="props_rev_3"><a id="GUID-88EA2DC1-9B92-488E-9B83-4CDBEC4CFBC8" name="GUID-88EA2DC1-9B92-488E-9B83-4CDBEC4CFBC8"></a><h4 id="TGTEU-GUID-88EA2DC1-9B92-488E-9B83-4CDBEC4CFBC8" class="sect4">返回值和存储过程</h4>
                  <div>
                     <p>默认情况下，所有存储过程和函数都不会向用户返回返回值。要启用返回值，请在初始化参数文件中设置<code class="codeph">HS_FDS_PROC_IS_FUNC</code>参数。
                     </p>
                     <div class="infoboxnotealso" id="GUID-88EA2DC1-9B92-488E-9B83-4CDBEC4CFBC8__GUID-2BA16EBA-D78A-4842-84C6-0E33A6B648E3">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="database-gateway-teradata-initialization-parameters.html#GUID-56B7E4D7-1AC9-4131-9C57-99FCD84CF6FA">初始化</a>有关编辑初始化参数文件和<code class="codeph">HS_FDS_PROC_IS_FUNC</code>参数的<code class="codeph">HS_FDS_PROC_IS_FUNC</code>参数。
                        </p>
                     </div>
                     <div class="infoboxnote" id="GUID-88EA2DC1-9B92-488E-9B83-4CDBEC4CFBC8__GUID-AE0F9530-536D-4C9E-9B35-0AD927486EA9">
                        <p class="notep1">注意：</p>
                        <p>如果设置<code class="codeph">HS_FDS_PROC_IS_FUNC</code>网关初始化参数，则必须更改所有现有存储过程的过程execute语句的语法。
                        </p>
                     </div>
                     <p>在以下示例中，员工姓名<code class="codeph">JOHN SMYTHE</code>将传递给Teradata存储过程<code class="codeph">REVISE_SALARY</code> 。存储过程从Teradata数据库中检索工资值，以计算<code class="codeph">JOHN SMYTHE</code>的新年薪。 <code class="codeph">RESULT</code>返回的修订工资用于更新Oracle数据库表中的<code class="codeph">EMP</code> ：</p><pre class="oac_no_warn" dir="ltr">DECLARE INPUT VARCHAR2（15）;结果编号（8,2）; BEGIN INPUT：='JOHN SMYTHE';结果：= REVISE_SALARY @ TERA（INPUT）; UPDATE EMP SET SAL =结果ENAME =：INPUT;结束; /</pre><p>过程功能自动将非Oracle数据类型转换为PL / SQL数据类型和从PL / SQL数据类型转换。</p>
                  </div>
               </div><a id="TGTEU859"></a><div class="props_rev_3"><a id="GUID-EC3D672F-E3B3-424E-99A6-E96123C359EC" name="GUID-EC3D672F-E3B3-424E-99A6-E96123C359EC"></a><h4 id="TGTEU-GUID-EC3D672F-E3B3-424E-99A6-E96123C359EC" class="sect4">结果集和存储过程</h4>
                  <div>
                     <p>Oracle数据库网关Teradata为返回结果集的存储过程提供支持。</p>
                     <p>默认情况下，所有存储过程和函数都不会将结果集返回给用户。要启用结果集，请在初始化参数文件中设置<code class="codeph">HS_FDS_RESULTSET_SUPPORT</code>参数。
                     </p>
                     <div class="infoboxnotealso" id="GUID-EC3D672F-E3B3-424E-99A6-E96123C359EC__GUID-E7D32626-E198-461A-A45D-A29A50232B92">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="database-gateway-teradata-initialization-parameters.html#GUID-56B7E4D7-1AC9-4131-9C57-99FCD84CF6FA">初始化</a>有关编辑初始化参数文件和<code class="codeph">HS_FDS_RESULTSET_SUPPORT</code>参数的<code class="codeph">HS_FDS_RESULTSET_SUPPORT</code>参数。有关Oracle对非Oracle数据库中的结果集的支持的详细信息，请参阅“ <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tgteu&amp;id=HETER4061" target="_blank"><span class="italic">Oracle数据库异构连接用户指南”</span></a> 。
                        </p>
                     </div>
                     <div class="infoboxnote" id="GUID-EC3D672F-E3B3-424E-99A6-E96123C359EC__GUID-98D5D2AC-7DCA-4A35-85A0-D66757E6F7B2">
                        <p class="notep1">注意：</p>
                        <p>如果设置<code class="codeph">HS_FDS_RESULTSET_SUPPORT</code>网关初始化参数，则必须更改所有现有存储过程的过程execute语句的语法，否则将发生错误。
                        </p>
                     </div>
                     <p>通过Oracle Database Gateway for Teradata访问带有结果集的存储过程时，您将处于异构服务的顺序模式。</p>
                     <p>Teradata的Oracle数据库网关在过程描述期间将以下信息返回到异构服务：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>远程存储过程的所有输入参数</p>
                        </li>
                        <li>
                           <p>没有输出参数</p>
                        </li>
                        <li>
                           <p>类型引用游标的一个out参数（对应于存储过程返回的第一个结果集）</p>
                        </li>
                     </ul>
                     <p>客户端程序必须使用虚拟包函数<code class="codeph">dbms_hs_result_set.get_next_result_set</code>来获取后续结果集的引用游标。返回的最后一个结果集是过程中的out参数。
                     </p>
                     <p>访问结果集的限制如下：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>必须按照将它们放置在线路上的顺序检索远程存储过程返回的结果集</p>
                        </li>
                        <li>
                           <p>在执行存储过程时，将关闭先前执行的存储过程返回的所有结果集（无论数据是否已完全</p>
                        </li>
                     </ul>
                     <p>在以下示例中，执行Teradata存储过程以从Teradata获取<code class="codeph">emp</code>和<code class="codeph">dept</code>表的内容：</p><pre class="oac_no_warn" dir="ltr">CREATE PROCEDURE refcurproc（@ arg1 varchar（255），@ arg2 varchar（255）输出）AS SECLECT @ arg2 = @ arg1 SELECT * FROM EMP SELECT * FROM DEPT GO</pre><p>此存储过程将输入参数<code class="codeph">arg1</code>分配给输出参数<code class="codeph">arg2</code> ，在ref cursor <code class="codeph">rc1</code>打开查询<code class="codeph">SELECT * FROM EMP</code> ，并在ref cursor <code class="codeph">rc2</code>打开查询<code class="codeph">SELECT * FROM DEPT</code> 。
                     </p>
                     <div class="infoboxnote" id="GUID-EC3D672F-E3B3-424E-99A6-E96123C359EC__GUID-9D3D92ED-81F3-49F5-AD95-71DAA89D726B">
                        <p class="notep1">注意：</p>
                        <p>必须在创建存储过程之前设置链接模式。在Teradata中发出以下命令： <code class="codeph">set chained on</code></p>
                     </div>
                  </div><a id="TGTEU860"></a><div class="props_rev_3"><a id="GUID-84BEEAFF-F050-4069-8852-F75950DA1EE1" name="GUID-84BEEAFF-F050-4069-8852-F75950DA1EE1"></a><h5 id="TGTEU-GUID-84BEEAFF-F050-4069-8852-F75950DA1EE1" class="sect5">OCI程序从顺序模式的结果集中获取</h5>
                     <div>
                        <p>以下示例显示了在顺序模式下从结果集中提取OCI程序：</p><pre class="oac_no_warn" dir="ltr">OCIEnv * ENVH; OCISvcCtx * SVCH; OCIStmt * STMH; OCIError * ERRH; OCIBind * BNDH [3]; OraText arg1 [20]; OraText arg2 [255]; OCIResult * rset; OCIStmt * rstmt; ub2 rcode [3]; ub2 rlens [3]; sb2 inds [3]; OraText * stmt =（OraText *）“begin refcurproc @ TERA（：1，：2，：3）; end;”; OraText * n_rs_stm =（OraText *）“begin：ret：= DBMS_HS_RESULT_SET.GET_NEXT_RESULT_SET@TERA; end;”; / *准备过程调用语句* / / *处理初始化代码跳过* / OCIStmtPrepare（STMH，ERRH，stmt，strlen（stmt），OCI_NTV_SYNTAX，OCI_DEFAULT）; / *绑定过程参数* / inds [0] = 0; strcpy（（char *）arg1，“Hello World”）; rlens [0] = strlen（arg1）; OCIBindByPos（STMH，＆BNDH [0]，ERRH，1，（dvoid *）arg1,20，SQLT_CHR，（dvoid *）＆（inds [0]），＆（rlens [0]），＆（rcode [0]） ，0，（ub4 *）0，OCI_DEFAULT）; inds [1] = -1; OCIBindByPos（STMH，＆BNDH [1]，ERRH，1，（dvoid *）arg2,20，SQLT_CHR，（dvoid *）＆（inds [1]），＆（rlens [1]），＆（rcode [1]） ，0，（ub4 *）0，OCI_DEFAULT）; inds [2] = 0; rlens [2] = 0; OCIDescriptorAlloc（ENVH，（dvoid **）＆rset，OCI_DTYPE_RSET，0，（dvoid **）0）; OCIBindByPos（STMH，＆BNDH [2]，ERRH，2，（dvoid *）rset，0，SQLT_RSET，（dvoid *）＆（inds [2]），＆（rlens [2]），＆（rcode [2]） ，0，（ub4 *）0，OCI_DEFAULT）; / *执行过程* / OCIStmtExecute（SVCH，STMH，ERRH，1,0，（CONST OCISnapshot *）0，（OCISnapshot *）0，OCI_DEFAULT）; / *将结果集转换为语句句柄* / OCIResultSetToStmt（rset，ERRH）; rstmt =（OCIStmt *）rset; / *在此之后，用户可以从rstmt * / / * get get_next_result_set调用来获取next_result set * / / *准备获取下一个结果集过程调用* / OCIStmtPrepare（STMH，ERRH，n_rs_stm，strlen（n_rs_stm），OCI_NTV_SYNTAX ，OCI_DEFAULT）; / *绑定返回值* / OCIBindByPos（STMH，＆BNDH [1]，ERRH，1，（dvoid *）rset，0，SQLT_RSET，（dvoid *）＆（inds [1]），＆（rlens [1]）， ＆（rcode [1]），0，（ub4 *）0，OCI_DEFAULT）; / *执行语句获取下一个结果集* / OCIStmtExecute（SVCH，STMH，ERRH，1,0，（CONST OCISnapshot *）0，（OCISnapshot *）0，OCI_DEFAULT）; / *将下一个结果集转换为语句句柄* / OCIResultSetToStmt（rset，ERRH）; rstmt =（OCIStmt *）rset; / *现在rstmt将指向远程存储过程返回的第二个结果集* / / *重复执行get_next_result_set以获取输出参数* /</pre></div>
                  </div><a id="TGTEU861"></a><div class="props_rev_3"><a id="GUID-B47A78CE-3DC0-4B42-88D2-2BF968DED8CD" name="GUID-B47A78CE-3DC0-4B42-88D2-2BF968DED8CD"></a><h5 id="TGTEU-GUID-B47A78CE-3DC0-4B42-88D2-2BF968DED8CD" class="sect5">从顺序模式的结果集中获取PL / SQL程序</h5>
                     <div>
                        <p>假设表<code class="codeph">loc_emp</code>是一个与Teradata emp表完全相同的本地表。同样的假设适用于<code class="codeph">loc_dept</code> 。 <code class="codeph">outargs</code>是一个表，其列对应于Teradata存储过程的out参数。
                        </p><pre class="oac_no_warn" dir="ltr">创建或替换包rcpackage是类型RCTYPE是ref游标;结束rcpackage; /</pre><pre class="oac_no_warn" dir="ltr">声明rc1 rcpackage.rctype; rec1 loc_emp％rowtype; rc2 rcpackage.rctype; rec2 loc_dept％rowtype; rc3 rcpackage.rctype; rec3 outargs％rowtype; out_arg varchar2（255）; begin  - 执行过程out_arg：= null; refcurproc @ TERA（'Hello World'，out_arg，rc1）; - 从远程emp表中获取20行，并将它们插入到loc_emp中，以便在1 ... 20循环中将rc1提取到rec1;插入loc_emp（rec1.empno，rec1.ename，rec1.job，rec1.mgr，rec1.hiredate，rec1.sal，rec1.comm，rec1.deptno）;结束循环; - 关闭参考光标关闭rc1; - 获取存储过程返回的下一个结果集rc2：= dbms_hs_result_set.get_next_result_set@TERA; - 从远程dept表中获取5行，并将它们插入到loc_dept中，用于i中的1 ... 5循环获取rc2到rec2;插入loc_dept值（rec2.deptno，rec2.dname，rec2.loc）;结束循环; - 关闭引用光标关闭rc2; - 从远程存储过程获取输出参数 - 由于我们处于顺序模式，它们将以结果集的形式返回rc3：= dbms_hs_result_set.get_next_result_set@TERA; - 获取它们并将它们插入到outarguments表中，将rc3读入rec3;插入outargs（rec3.outarg，rec3.retval）; - 关闭参考光标关闭rc3;结束; /</pre></div>
                  </div>
               </div>
            </div><a id="TGTEU810"></a><div class="props_rev_3"><a id="GUID-ED760D07-B731-4DDC-9D57-B0327EAA6572" name="GUID-ED760D07-B731-4DDC-9D57-B0327EAA6572"></a><h3 id="TGTEU-GUID-ED760D07-B731-4DDC-9D57-B0327EAA6572" class="sect3">CHAR语义学</h3>
               <div>
                  <p>此功能允许网关可选地在<code class="codeph">CHAR</code>语义模式下运行。而不是总是将Teradata <code class="codeph">CHAR</code>列描述为<code class="codeph">CHAR(n BYTE)</code> ，此功能将它们描述为<code class="codeph">CHAR(n CHAR)</code>和<code class="codeph">VARCHAR(n CHAR)</code> 。该概念类似于Oracle数据库<code class="codeph">CHAR</code> Semantics。您需要指定<code class="codeph">HS_NLS_LENGTH_SEMANTICS=CHAR</code>才能激活此选项。有关更多详细信息，请参阅<a href="database-gateway-teradata-initialization-parameters.html#GUID-56B7E4D7-1AC9-4131-9C57-99FCD84CF6FA">初始化参数</a> 。
                  </p>
               </div>
            </div><a id="TGTEU811"></a><div class="props_rev_3"><a id="GUID-A85DDBCF-8EC8-422B-AF2D-8A61299D0C81" name="GUID-A85DDBCF-8EC8-422B-AF2D-8A61299D0C81"></a><h3 id="TGTEU-GUID-A85DDBCF-8EC8-422B-AF2D-8A61299D0C81" class="sect3">多字节字符集比率抑制</h3>
               <div>
                  <p>此功能可选地抑制从Teradata数据库到涉及多字节字符集的Oracle数据库的比率扩展（例如，从<code class="codeph">US7ASCII</code>到<code class="codeph">AL32UTF8</code> ，或从<code class="codeph">KO16MSWIN949</code>到<code class="codeph">KO16KSC5601</code> ）。默认情况下，Oracle网关采用最差的比率来防止数据被截断或分配大小不足的缓冲区。但是，如果您具有Teradata数据库的特定知识并且不希望进行扩展，则可以指定<code class="codeph">HS_KEEP_REMOTE_COLUMN_SIZE</code>参数来禁止扩展。有关更多详细信息，请参阅<a href="database-gateway-teradata-initialization-parameters.html#GUID-56B7E4D7-1AC9-4131-9C57-99FCD84CF6FA">初始化参数</a> 。
                  </p>
               </div>
            </div><a id="TGTEU812"></a><div class="props_rev_3"><a id="GUID-3B1EC231-66A1-4E0B-ACE7-0B0C320E1F20" name="GUID-3B1EC231-66A1-4E0B-ACE7-0B0C320E1F20"></a><h3 id="TGTEU-GUID-3B1EC231-66A1-4E0B-ACE7-0B0C320E1F20" class="sect3">IPv6支持</h3>
               <div>
                  <p>除了Oracle数据库和网关之间的完全IPv6支持外，此网关和Teradata之间还支持IPv6。有关更多详细信息，请参阅<a href="database-gateway-teradata-initialization-parameters.html#GUID-56B7E4D7-1AC9-4131-9C57-99FCD84CF6FA">初始化参数中的</a> <code class="codeph">HS_FDS_CONNECT_INFO</code>参数。
                  </p>
               </div>
            </div><a id="TGTEU813"></a><div class="props_rev_3"><a id="GUID-86CF2DDB-B56A-4F08-A29D-A4080F4554EC" name="GUID-86CF2DDB-B56A-4F08-A29D-A4080F4554EC"></a><h3 id="TGTEU-GUID-86CF2DDB-B56A-4F08-A29D-A4080F4554EC" class="sect3">网关会话IDLE超时</h3>
               <div>
                  <p>您可以选择使用网关参数<code class="codeph">HS_IDLE_TIMEOUT</code>自动终止长空闲网关会话。具体来说，当网关会话空闲超过指定的时间限制时，网关会话将终止，并回滚任何挂起的更改。
                  </p>
               </div>
            </div><a id="TGTEU705"></a><div class="props_rev_3"><a id="GUID-D7832418-9B5D-4E06-848F-F5B7990251E0" name="GUID-D7832418-9B5D-4E06-848F-F5B7990251E0"></a><h3 id="TGTEU-GUID-D7832418-9B5D-4E06-848F-F5B7990251E0" class="sect3">Teradata的数据库兼容性问题</h3>
               <div>
                  <p>Teradata和Oracle数据库在某些方面的功能不同，导致兼容性问题。兼容性问题在以下链接中描述：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="database-gateway-teradata-features.html#GUID-3F67ABC1-A57F-4FA2-A4C7-F40E206B8C63">架构注意事项</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-teradata-features.html#GUID-46A4BF86-FB92-4C90-A022-59F2D84746F3">命名规则</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-teradata-features.html#GUID-83127723-1F19-4F6A-B34C-5C792C350D6E">数据类型</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-teradata-features.html#GUID-5F5FCF1E-CD11-4F29-98BD-2B6DA281E283">查询</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-teradata-features.html#GUID-088EA97C-2D48-494E-BF1E-535FCBEF0675">锁定</a></p>
                     </li>
                  </ul>
               </div><a id="TGTEU706"></a><div class="props_rev_3"><a id="GUID-3F67ABC1-A57F-4FA2-A4C7-F40E206B8C63" name="GUID-3F67ABC1-A57F-4FA2-A4C7-F40E206B8C63"></a><h4 id="TGTEU-GUID-3F67ABC1-A57F-4FA2-A4C7-F40E206B8C63" class="sect4">架构注意事项</h4>
                  <div>
                     <p>Teradata中不存在Oracle的架构概念。Teradata将查询中包含的模式名称识别为数据库名称。在Oracle数据库中，对象的模式与该对象的所有者相同。但是，当在数据字典视图（例如<code class="codeph">ALL_TABLES</code>检索或引用<code class="codeph">OWNER</code>字段时， <code class="codeph">OWNER</code>字段实际上引用了Teradata数据库名称。
                     </p>
                     <p>查询数据字典表时，返回以下结果：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">ALL_*</code>数据字典表，返回每个Teradata数据库的数据。Teradata数据库名称在<code class="codeph">OWNER</code> ， <code class="codeph">INDEX_OWNER</code>或<code class="codeph">TABLE_OWNER</code>列中返回，具体取决于所引用的数据字典表。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">ALL_USERS</code>数据字典表，每个Teradata数据库名称都在<code class="codeph">USERNAME</code>列中返回。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">USER_*</code>数据字典表，根据所引用的数据字典表，为<code class="codeph">OWNER</code>或<code class="codeph">TABLE_OWNER</code>列返回默认Teradata数据库的数据。如果未定义默认Teradata数据库，则使用DBC Teradata系统数据库。
                           </p>
                        </li>
                     </ul>
                  </div>
               </div><a id="TGTEU707"></a><div class="props_rev_3"><a id="GUID-46A4BF86-FB92-4C90-A022-59F2D84746F3" name="GUID-46A4BF86-FB92-4C90-A022-59F2D84746F3"></a><h4 id="TGTEU-GUID-46A4BF86-FB92-4C90-A022-59F2D84746F3" class="sect4">命名规则</h4>
                  <div>
                     <p>命名规则问题包括以下内容：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="database-gateway-teradata-features.html#GUID-B9FA46DB-B39C-46F4-BE94-52A2A38BB469">命名对象的规则</a></p>
                        </li>
                        <li>
                           <p><a href="database-gateway-teradata-features.html#GUID-3BB03EFA-38FB-4DA7-9ADF-938C33CAD329">区分大小写</a></p>
                        </li>
                     </ul>
                  </div><a id="TGTEU708"></a><div class="props_rev_3"><a id="GUID-B9FA46DB-B39C-46F4-BE94-52A2A38BB469" name="GUID-B9FA46DB-B39C-46F4-BE94-52A2A38BB469"></a><h5 id="TGTEU-GUID-B9FA46DB-B39C-46F4-BE94-52A2A38BB469" class="sect5">命名对象的规则</h5>
                     <div>
                        <p>Oracle和Teradata使用不同的数据库对象命名规则。例如，每个对象名称允许的最大字符数可以不同。此外，使用单引号和双引号，区分大小写以及使用字母数字字符都可以不同。</p>
                     </div>
                  </div><a id="TGTEU709"></a><div class="props_rev_3"><a id="GUID-3BB03EFA-38FB-4DA7-9ADF-938C33CAD329" name="GUID-3BB03EFA-38FB-4DA7-9ADF-938C33CAD329"></a><h5 id="TGTEU-GUID-3BB03EFA-38FB-4DA7-9ADF-938C33CAD329" class="sect5">区分大小写</h5>
                     <div>
                        <p>除非您使用双引号字符包围标识符，否则Oracle数据库默认为大写。例如，要引用名为<code class="codeph">emp</code>的Teradata表，请输入带双引号字符的名称，如下所示：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT * FROM“emp”@TERA;</pre><p>但是，要从Oracle应用程序中引用名为Scott的Teradata数据库中名为<code class="codeph">emp</code>的Teradata表，请输入以下内容：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT * FROM“Scott”。“emp”@TERA;</pre><p>如果名为<code class="codeph">SCOTT</code>的Teradata数据库中名为<code class="codeph">emp</code>的Teradata表（一个完全由大写字母组成的名称），则可以输入不带双引号字符的所有者名称，如下所示：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT * FROM SCOTT。“emp”@TERA;</pre><p>要么</p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT * FROM scott。“emp”@TERA;</pre><p>Oracle建议您使用双引号字符包围所有Teradata对象名称，并使用Teradata数据字典中显示的对象名称的确切字母大小写。参照中列出的支持的Oracle数据字典的表或视图时，则不需要此约定<a href="database-gateway-teradata-data-dictionary.html#GUID-168B7CD4-FD07-4893-9584-A0F860417A94">数据字典</a> 。
                        </p>
                        <p>如果无法根据这些约定更改现有应用程序，请在Oracle中创建视图以将Teradata名称与正确的字母大小写相关联。例如，要仅使用大写名称从现有Oracle应用程序引用Teradata表<code class="codeph">emp</code> ，请定义以下视图：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; CREATE VIEW EMP（EMPNO，ENAME，SAL，HIREDATE）AS SELECT“empno”，“ename”，“sal”，“hiredate”FROM“emp”@TERA;</pre><p>使用此视图，应用程序可以发出如下语句：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT EMPNO，ENAME FROM EMP;</pre><p>使用视图是一种解决方案，可复制源自Teradata数据字典的数据字典信息。只要在Teradata数据库中更改了相应表的数据定义，就必须准备好更新Oracle视图定义。</p>
                     </div>
                  </div>
               </div><a id="TGTEU710"></a><div class="props_rev_3"><a id="GUID-83127723-1F19-4F6A-B34C-5C792C350D6E" name="GUID-83127723-1F19-4F6A-B34C-5C792C350D6E"></a><h4 id="TGTEU-GUID-83127723-1F19-4F6A-B34C-5C792C350D6E" class="sect4">数据类型</h4>
                  <div>
                     <p>数据类型问题包括以下内容：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="database-gateway-teradata-features.html#GUID-CD05BD5B-993F-461A-A525-F2F8CE214788">二进制文字表示法</a></p>
                        </li>
                        <li>
                           <p><a href="database-gateway-teradata-features.html#GUID-2755D4BE-6751-4A91-B388-0495FAB3E1AC">数据类型转换</a></p>
                        </li>
                     </ul>
                  </div><a id="TGTEU711"></a><div class="props_rev_3"><a id="GUID-CD05BD5B-993F-461A-A525-F2F8CE214788" name="GUID-CD05BD5B-993F-461A-A525-F2F8CE214788"></a><h5 id="TGTEU-GUID-CD05BD5B-993F-461A-A525-F2F8CE214788" class="sect5">二进制文字表示法</h5>
                     <div>
                        <p>Oracle SQL使用由单引号括起的十六进制数字来表示要比较或插入到定义为数据类型<code class="codeph">RAW</code>列中的文字值。</p>
                        <p><a id="d1983e1167" class="indexterm-anchor"></a>此表示法不会转换为与Teradata <code class="codeph">VARBINARY</code>和<code class="codeph">BINARY</code>数据类型兼容的语法（ <code class="codeph">ff</code>由单引号括起，后跟十六进制数字）。
                        </p>
                        <p>例如，不支持以下语句：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; INSERT INTO BINARY_TAB @ TERA VALUES（'ff'xb）</pre><p>其中<code class="codeph">BINARY_TAB</code>包含数据类型为<code class="codeph">VARBINARY</code>或<code class="codeph">BINARY</code>的列。插入或更新<code class="codeph">VARBINARY</code>和<code class="codeph">BINARY</code>数据类型时使用绑定变量。
                        </p>
                     </div>
                  </div><a id="TGTEU712"></a><div class="props_rev_3"><a id="GUID-2755D4BE-6751-4A91-B388-0495FAB3E1AC" name="GUID-2755D4BE-6751-4A91-B388-0495FAB3E1AC"></a><h5 id="TGTEU-GUID-2755D4BE-6751-4A91-B388-0495FAB3E1AC" class="sect5">数据类型转换</h5>
                     <div>
                        <p>Teradata不支持隐式日期转换。此类转换必须明确。</p>
                        <p>例如，网关为以下<code class="codeph">SELECT</code>语句发出错误：</p><pre class="oac_no_warn" dir="ltr">SELECT TATE_COL FROM TEST @ TERA WHERE DATE_COL =“1-JAN-2001”;</pre><p>要避免隐式转换出现问题，请添加显式转换，如下所示：</p><pre class="oac_no_warn" dir="ltr">从TEST @ TERA WHERE DATE_COL = TO_DATE（“1-JAN-2001”）中选择DATE_COL</pre><div class="infoboxnotealso" id="GUID-2755D4BE-6751-4A91-B388-0495FAB3E1AC__GUID-58E36FAC-A043-45EF-A7C7-912511787BE0">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="database-gateway-teradata-data-type-conversion.html#GUID-2882CCCB-B9CD-483F-9403-7B9E5E30A7A4">数据类型转换</a>有关数据类型限制的更多信息。
                           </p>
                        </div>
                     </div>
                  </div>
               </div><a id="TGTEU713"></a><div class="props_rev_3"><a id="GUID-5F5FCF1E-CD11-4F29-98BD-2B6DA281E283" name="GUID-5F5FCF1E-CD11-4F29-98BD-2B6DA281E283"></a><h4 id="TGTEU-GUID-5F5FCF1E-CD11-4F29-98BD-2B6DA281E283" class="sect4">查询</h4>
                  <div>
                     <p>查询问题包括以下内容：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="database-gateway-teradata-features.html#GUID-BFAD2136-ADC3-469F-B9D5-97A3C0D67E8F">行选择</a></p>
                        </li>
                        <li>
                           <p><a href="database-gateway-teradata-features.html#GUID-98A4EAF3-9FF0-49FF-A30E-A405A0D73628">空绑定变量</a></p>
                        </li>
                     </ul>
                  </div><a id="TGTEU714"></a><div class="props_rev_3"><a id="GUID-BFAD2136-ADC3-469F-B9D5-97A3C0D67E8F" name="GUID-BFAD2136-ADC3-469F-B9D5-97A3C0D67E8F"></a><h5 id="TGTEU-GUID-BFAD2136-ADC3-469F-B9D5-97A3C0D67E8F" class="sect5">行选择</h5>
                     <div>
                        <p>Teradata在返回任何行之前评估所有选定行的查询条件。如果一个或多个行的评估过程中存在错误，则即使其余行满足条件，也不会返回任何行。</p>
                        <p>Oracle逐行评估查询条件，并在评估成功时返回一行。返回行直到一行未通过评估。</p>
                     </div>
                  </div><a id="TGTEU715"></a><div class="props_rev_3"><a id="GUID-98A4EAF3-9FF0-49FF-A30E-A405A0D73628" name="GUID-98A4EAF3-9FF0-49FF-A30E-A405A0D73628"></a><h5 id="TGTEU-GUID-98A4EAF3-9FF0-49FF-A30E-A405A0D73628" class="sect5">空绑定变量</h5>
                     <div>
                        <p>对于<code class="codeph">VARCHAR</code>绑定变量，网关将空绑定变量作为<code class="codeph">NULL</code>值传递给Teradata数据库。
                        </p>
                     </div>
                  </div>
               </div><a id="TGTEU716"></a><div class="props_rev_3"><a id="GUID-088EA97C-2D48-494E-BF1E-535FCBEF0675" name="GUID-088EA97C-2D48-494E-BF1E-535FCBEF0675"></a><h4 id="TGTEU-GUID-088EA97C-2D48-494E-BF1E-535FCBEF0675" class="sect4">锁定</h4>
                  <div>
                     <p>Teradata数据库的锁定模型与Oracle模型有很大不同。网关依赖于基础Teradata行为，因此以下可能的方案可能会影响通过网关访问Teradata的Oracle应用程序：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>读访问可能会阻止写访问。</p>
                        </li>
                        <li>
                           <p>写访问可能会阻止读访问。</p>
                        </li>
                        <li>
                           <p>语句级读取一致性无法保证。</p>
                           <div class="infoboxnotealso" id="GUID-088EA97C-2D48-494E-BF1E-535FCBEF0675__GUID-27B10AB4-3E35-4449-9FFF-2391AD44C515">
                              <p class="notep1">也可以看看：</p>
                              <p>有关Teradata锁定模型的信息的Teradata文档。</p>
                           </div>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="TGTEU717"></a><div class="props_rev_3"><a id="GUID-B05DC429-FE3E-4C8E-8BB1-AF2429EF8FFE" name="GUID-B05DC429-FE3E-4C8E-8BB1-AF2429EF8FFE"></a><h3 id="TGTEU-GUID-B05DC429-FE3E-4C8E-8BB1-AF2429EF8FFE" class="sect3">已知的限制</h3>
               <div>
                  <p>如果遇到本节或<span class="q">“ <a href="database-gateway-teradata-features.html#GUID-34EF84B4-FD73-44DB-A2C2-9A83B9B2496D">已知问题</a> ”中</span>未列出的不兼容问题，请与Oracle支持服务联系。以下主题描述了已知的限制，并包括在可能的情况下处理它们的建议：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="database-gateway-teradata-features.html#GUID-2D32CB4B-CD65-4213-9FA6-1983CD7D909C">交易诚信</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-teradata-features.html#GUID-34F2C2CD-36BD-4EF8-AA03-3369B4B63CCF">交易能力</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-teradata-features.html#GUID-C70619DA-C0C0-40F6-8902-ED168A2BAD70">PL / SQL游标循环中的COMMIT或ROLLBACK关闭打开游标</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-teradata-features.html#GUID-A84010DB-1291-4698-A320-E4F284E629FF">传递功能</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-teradata-features.html#GUID-75B1F40E-8ED2-4873-93FB-09E36AB6C9A9">绑定日期列的变量</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-teradata-features.html#GUID-BDCB8BA1-BE93-4B91-A7D2-197403729D8C">SQL语法</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-teradata-features.html#GUID-155C6D13-B1E3-48A5-A851-75B6DEF12964">在SQL * Plus</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-teradata-features.html#GUID-3C284B1F-783B-4D4E-A325-4DA7A02D008C">数据库链接</a></p>
                     </li>
                  </ul>
               </div><a id="TGTEU718"></a><div class="props_rev_3"><a id="GUID-2D32CB4B-CD65-4213-9FA6-1983CD7D909C" name="GUID-2D32CB4B-CD65-4213-9FA6-1983CD7D909C"></a><h4 id="TGTEU-GUID-2D32CB4B-CD65-4213-9FA6-1983CD7D909C" class="sect4">交易诚信</h4>
                  <div>
                     <p>在以下情况下，网关无法保证事务完整性：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>当网关处理的语句导致目标数据库中的隐式提交时</p>
                        </li>
                        <li>
                           <p>目标数据库配置为在自动提交模式下工作时</p>
                           <div class="infoboxnote" id="GUID-2D32CB4B-CD65-4213-9FA6-1983CD7D909C__GUID-D2BEE41C-A73A-4F5A-9875-DFC39937ED7E">
                              <p class="notep1">注意：</p>
                              <p>Oracle强烈建议如下：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>如果您知道执行特定语句会导致目标数据库中的隐式提交，请确保在其自己的事务中执行此语句。</p>
                                 </li>
                                 <li>
                                    <p>不要将目标数据库配置为在自动提交模式下工作。</p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                     </ul>
                  </div>
               </div><a id="TGTEU719"></a><div class="props_rev_3"><a id="GUID-34F2C2CD-36BD-4EF8-AA03-3369B4B63CCF" name="GUID-34F2C2CD-36BD-4EF8-AA03-3369B4B63CCF"></a><h4 id="TGTEU-GUID-34F2C2CD-36BD-4EF8-AA03-3369B4B63CCF" class="sect4">交易能力</h4>
                  <div>
                     <p><a id="d1983e1590" class="indexterm-anchor"></a>网关不支持保存点。如果涉及网关的分布式更新事务正在进行并且用户尝试创建保存点，则会发生以下错误：</p><pre class="oac_no_warn" dir="ltr"><a id="d1983e1594" class="indexterm-anchor"></a> ORA-02070：数据库<span class="italic">dblink</span>在此上下文中不支持savepoint <a id="d1983e1600" class="indexterm-anchor"></a>
</pre><p><a id="d1983e1606" class="indexterm-anchor"></a>默认情况下，网关配置为<code class="codeph">COMMIT_CONFIRM</code> ，它始终是<a id="d1983e1612" class="indexterm-anchor"></a>事务更新Teradata数据库时提交点站点。
                     </p>
                  </div>
               </div><a id="TGTEU720"></a><div class="props_rev_3"><a id="GUID-C70619DA-C0C0-40F6-8902-ED168A2BAD70" name="GUID-C70619DA-C0C0-40F6-8902-ED168A2BAD70"></a><h4 id="TGTEU-GUID-C70619DA-C0C0-40F6-8902-ED168A2BAD70" class="sect4">PL / SQL游标循环中的COMMIT或ROLLBACK关闭打开游标</h4>
                  <div>
                     <p>在PL / SQL游标循环中发出的任何<code class="codeph">COMMIT</code>或<code class="codeph">ROLLBACK</code>关闭所有打开的游标，这可能导致以下错误：</p><pre class="oac_no_warn" dir="ltr">ORA-1002：取消顺序</pre><p>要防止此错误，请在游标循环外移动<code class="codeph">COMMIT</code>或<code class="codeph">ROLLBACK</code>语句。
                     </p>
                  </div>
               </div><a id="TGTEU721"></a><div class="props_rev_3"><a id="GUID-A84010DB-1291-4698-A320-E4F284E629FF" name="GUID-A84010DB-1291-4698-A320-E4F284E629FF"></a><h4 id="TGTEU-GUID-A84010DB-1291-4698-A320-E4F284E629FF" class="sect4">传递功能</h4>
                  <div>
                     <p>Oracle建议您放置一个<a id="d1983e1710" class="indexterm-anchor"></a>使用传递功能执行此类语句时，DDL语句在其自己的事务中。必须在DDL语句之后发出显式<code class="codeph">COMMIT</code> 。
                     </p>
                     <p><a id="d1983e1717" class="indexterm-anchor"></a>如果通过网关传递的SQL语句导致Teradata数据库中的隐式提交，则Oracle事务管理器不会意识到提交，并且Oracle <code class="codeph">ROLLBACK</code>命令不能用于回滚事务。
                     </p>
                  </div>
               </div><a id="TGTEU722"></a><div class="props_rev_3"><a id="GUID-75B1F40E-8ED2-4873-93FB-09E36AB6C9A9" name="GUID-75B1F40E-8ED2-4873-93FB-09E36AB6C9A9"></a><h4 id="TGTEU-GUID-75B1F40E-8ED2-4873-93FB-09E36AB6C9A9" class="sect4">绑定日期列的变量</h4>
                  <div>
                     <p>您无法将数据类型<code class="codeph">TIME</code>或<code class="codeph">TIMESTAMP</code>列与绑定变量进行比较。
                     </p>
                     <p>以下SQL语句导致错误消息：</p><pre class="oac_no_warn" dir="ltr">SQL&gt;从time_table @ TERA中选择time_column，其中time_column =：a;</pre><p>发出以下错误：</p><pre class="oac_no_warn" dir="ltr">ANSI日期时间或间隔值的无效操作。</pre></div>
               </div><a id="TGTEU723"></a><div class="props_rev_3"><a id="GUID-BDCB8BA1-BE93-4B91-A7D2-197403729D8C" name="GUID-BDCB8BA1-BE93-4B91-A7D2-197403729D8C"></a><h4 id="TGTEU-GUID-BDCB8BA1-BE93-4B91-A7D2-197403729D8C" class="sect4">SQL语法</h4>
                  <div>
                     <p>SQL语法的限制如下：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="database-gateway-teradata-features.html#GUID-E9C577ED-1A43-4332-8ED8-BAC10F544265">条款的当前条款</a></p>
                        </li>
                        <li>
                           <p><a href="database-gateway-teradata-features.html#GUID-C8C39A34-3CE2-43F3-9236-254A0C34D6CD">通过条款连接</a></p>
                        </li>
                        <li>
                           <p><a href="database-gateway-teradata-features.html#GUID-CF9253C6-07A2-4801-898C-FEAB71DAC047">ROWID</a></p>
                        </li>
                        <li>
                           <p><a href="database-gateway-teradata-features.html#GUID-2DE690CB-F3DD-4186-B218-D15272ACDC15">解释计划声明</a></p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-BDCB8BA1-BE93-4B91-A7D2-197403729D8C__GUID-E63DFFB8-1D0F-41B9-9C92-D61D8566B889">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="database-gateway-teradata-supported-sql-syntax-functions.html#GUID-A2A9262F-F004-4C7F-A779-BE63769ACD1B">支持的SQL语法和函数</a> ，以获取有关SQL语法限制的更多信息。
                        </p>
                     </div>
                  </div><a id="TGTEU724"></a><div class="props_rev_3"><a id="GUID-E9C577ED-1A43-4332-8ED8-BAC10F544265" name="GUID-E9C577ED-1A43-4332-8ED8-BAC10F544265"></a><h5 id="TGTEU-GUID-E9C577ED-1A43-4332-8ED8-BAC10F544265" class="sect5">条款的当前条款</h5>
                     <div>
                        <p>网关不支持带有<code class="codeph">WHERE CURRENT OF</code>子句的<code class="codeph">UPDATE</code>和<code class="codeph">DELETE</code>语句，因为它们依赖于Oracle <a id="d1983e1873" class="indexterm-anchor"></a> <code class="codeph">ROWID</code>实现。要通过网关更新或删除特定行，必须使用条件样式<code class="codeph">WHERE</code>子句。
                        </p>
                     </div>
                  </div><a id="TGTEU725"></a><div class="props_rev_3"><a id="GUID-C8C39A34-3CE2-43F3-9236-254A0C34D6CD" name="GUID-C8C39A34-3CE2-43F3-9236-254A0C34D6CD"></a><h5 id="TGTEU-GUID-C8C39A34-3CE2-43F3-9236-254A0C34D6CD" class="sect5">通过条款连接</h5>
                     <div>
                        <p>网关不支持<code class="codeph">SELECT</code>语句中的<code class="codeph">CONNECT BY</code>子句。
                        </p>
                     </div>
                  </div><a id="TGTEU726"></a><div class="props_rev_3"><a id="GUID-CF9253C6-07A2-4801-898C-FEAB71DAC047" name="GUID-CF9253C6-07A2-4801-898C-FEAB71DAC047"></a><h5 id="TGTEU-GUID-CF9253C6-07A2-4801-898C-FEAB71DAC047" class="sect5">ROWID</h5>
                     <div>
                        <p>不支持Oracle <code class="codeph">ROWID</code>实现。
                        </p>
                     </div>
                  </div><a id="TGTEU727"></a><div class="props_rev_3"><a id="GUID-2DE690CB-F3DD-4186-B218-D15272ACDC15" name="GUID-2DE690CB-F3DD-4186-B218-D15272ACDC15"></a><h5 id="TGTEU-GUID-2DE690CB-F3DD-4186-B218-D15272ACDC15" class="sect5">解释计划声明</h5>
                     <div>
                        <p>不支持<code class="codeph">EXPLAIN PLAN</code>语句。
                        </p>
                     </div>
                  </div>
               </div><a id="TGTEU729"></a><div class="props_rev_3"><a id="GUID-155C6D13-B1E3-48A5-A851-75B6DEF12964" name="GUID-155C6D13-B1E3-48A5-A851-75B6DEF12964"></a><h4 id="TGTEU-GUID-155C6D13-B1E3-48A5-A851-75B6DEF12964" class="sect4">在SQL * Plus</h4>
                  <div>
                     <p>您需要使用双引号来包装小写表名。</p>
                     <p>例如：</p><pre class="oac_no_warn" dir="ltr">复制自tkhouser / tkhouser @ inst1使用select * from“tkhodept”@TERA插入loc_tkhodept;</pre></div>
               </div><a id="TGTEU730"></a><div class="props_rev_3"><a id="GUID-3C284B1F-783B-4D4E-A325-4DA7A02D008C" name="GUID-3C284B1F-783B-4D4E-A325-4DA7A02D008C"></a><h4 id="TGTEU-GUID-3C284B1F-783B-4D4E-A325-4DA7A02D008C" class="sect4">数据库链接</h4>
                  <div>
                     <p>网关不是共享服务器进程，不支持共享数据库链接。每个网关会话都会生成一个单独的网关进程，并且无法共享连接。</p>
                  </div>
               </div>
            </div><a id="TGTEU732"></a><div class="props_rev_3"><a id="GUID-34EF84B4-FD73-44DB-A2C2-9A83B9B2496D" name="GUID-34EF84B4-FD73-44DB-A2C2-9A83B9B2496D"></a><h3 id="TGTEU-GUID-34EF84B4-FD73-44DB-A2C2-9A83B9B2496D" class="sect3">已知问题</h3>
               <div>
                  <p>本节介绍已知问题，并包括在可能的情况下进行纠正的建议。如果您对问题有任何疑问或疑虑，请联系Oracle支持服务。可在线获取当前的问题列表。有关访问列表的信息，请与当地的Oracle办事处联系。</p>
                  <p>已知问题如下：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="database-gateway-teradata-features.html#GUID-E798A4D6-AE62-4441-84C6-40913D36FF79">Teradata LONG VARCHAR数据类型</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-teradata-features.html#GUID-79B84702-56C7-4673-872F-06A4C32EEC8C">架构名称和PL / SQL</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-teradata-features.html#GUID-9B17F84C-0C1A-4182-BE38-A0C38B43409E">数据字典视图和PL / SQL</a></p>
                     </li>
                  </ul>
               </div><a id="TGTEU734"></a><div class="props_rev_3"><a id="GUID-E798A4D6-AE62-4441-84C6-40913D36FF79" name="GUID-E798A4D6-AE62-4441-84C6-40913D36FF79"></a><h4 id="TGTEU-GUID-E798A4D6-AE62-4441-84C6-40913D36FF79" class="sect4">Teradata LONG VARCHAR数据类型</h4>
                  <div>
                     <p>使用<code class="codeph">LONG VARCHAR</code>数据类型时，以下限制适用：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>不支持的SQL函数不能在访问定义为Teradata数据类型<code class="codeph">LONG VARCHAR</code>的列的SQL语句中使用。</p>
                        </li>
                        <li>
                           <p>当数据长度超过80个字符时，不能使用SQL * Plus从定义为Teradata数据类型<code class="codeph">LONG VARCHAR</code>的列中选择数据。Oracle建议使用Pro * C或Oracle Call Interface访问Teradata数据库中的此类数据。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">LONG VARCHAR</code>数据类型必须为<code class="codeph">NULLABLE</code>才能使<code class="codeph">INSERT</code>或<code class="codeph">UPDATE</code>正常工作。
                           </p>
                        </li>
                        <li>
                           <p>包含<code class="codeph">LONG VARCHAR</code>列的表必须在表上定义唯一索引，否则表必须具有用作主键的单独列。
                           </p>
                        </li>
                        <li>
                           <p>无法通过传递查询读取<code class="codeph">LONG VARCHAR</code>数据。
                           </p>
                        </li>
                     </ul>
                     <p>网关不支持<code class="codeph">DBMS_SQL</code>包的PL / SQL函数<code class="codeph">COLUMN_VALUE_LONG</code> 。
                     </p>
                     <div class="infoboxnotealso" id="GUID-E798A4D6-AE62-4441-84C6-40913D36FF79__GUID-E0F9674D-B81A-4F1D-A45E-F22804309DC7">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="database-gateway-teradata-supported-sql-syntax-functions.html#GUID-A2A9262F-F004-4C7F-A779-BE63769ACD1B">支持的SQL语法和函数</a> ，以获取有关SQL语法限制的更多信息。
                        </p>
                     </div>
                  </div>
               </div><a id="TGTEU735"></a><div class="props_rev_3"><a id="GUID-79B84702-56C7-4673-872F-06A4C32EEC8C" name="GUID-79B84702-56C7-4673-872F-06A4C32EEC8C"></a><h4 id="TGTEU-GUID-79B84702-56C7-4673-872F-06A4C32EEC8C" class="sect4">架构名称和PL / SQL</h4>
                  <div>
                     <p>如果没有在PL / SQL块的SQL语句中为Teradata数据库对象添加其模式名称前缀，则会出现以下错误消息：</p><pre class="oac_no_warn" dir="ltr">必须声明ORA-6550 PLS-201标识符<span class="italic">table_name</span> 。
</pre><p>更改SQL语句以包括对象的模式名称。</p>
                  </div>
               </div><a id="TGTEU736"></a><div class="props_rev_3"><a id="GUID-9B17F84C-0C1A-4182-BE38-A0C38B43409E" name="GUID-9B17F84C-0C1A-4182-BE38-A0C38B43409E"></a><h4 id="TGTEU-GUID-9B17F84C-0C1A-4182-BE38-A0C38B43409E" class="sect4">数据字典视图和PL / SQL</h4>
                  <div>
                     <p>您不能在PL / SQL块内的SQL语句中引用数据字典视图。</p>
                     <p></p>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>