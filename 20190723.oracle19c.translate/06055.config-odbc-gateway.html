<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>配置Oracle Database Gateway for ODBC</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Installation and Configuration Guide"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Installation and Configuration Guide for IBM AIX on POWER Systems (64-Bit), Linux x86-64, Oracle Solaris on SPARC (64-Bit), Oracle Solaris on x86-64 (64-Bit), and HP-UX Itanium"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-gateway-installation-and-configuration-guide-aix-5l-based-systems-64-bit-hp-ux-itanium-solaris-operating-system-sparc-64-bit-linux-x86-and-linux-x86-64.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-04-16T19:11:50-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2006, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="F18243-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="install-odbc-gateway.html" title="Previous" type="text/html"></link>
      <link rel="next" href="part-drda-gateway.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Gateway Installation and Configuration Guide for AIX 5L Based Systems (64-Bit), HP-UX Itanium, Solaris Operating System (SPARC 64-Bit), Linux x86, and Linux x86-64"></meta>
    <meta name="dcterms.isVersionOf" content="OTGIS"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="install-odbc-gateway.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="part-drda-gateway.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">安装和配置指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="part-odbc-gateway.html" property="item" typeof="WebPage"><span property="name">安装和配置Oracle Database Gateway for ODBC</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">配置Oracle Database Gateway for ODBC</li>
            </ol>
            <a id="GUID-D76EBBA5-730F-401E-B0AE-718DF152A6A7" name="GUID-D76EBBA5-730F-401E-B0AE-718DF152A6A7"></a><a id="OTGIS110"></a>
            
            <h2 id="OTGIS-GUID-D76EBBA5-730F-401E-B0AE-718DF152A6A7" class="sect2"><span class="enumeration_chapter">11</span>为ODBC配置Oracle Database Gateway</h2>
         </header>
         <div class="ind">
            <div>
               <p>为非Oracle系统安装网关和ODBC驱动程序后，执行以下任务以配置Oracle Database Gateway for ODBC：</p>
               <ol>
                  <li>
                     <p><a href="config-odbc-gateway.html#GUID-0D9C61E3-2E7C-4EED-A062-EEF6758D46F9">配置网关初始化参数文件</a></p>
                  </li>
                  <li>
                     <p><a href="config-odbc-gateway.html#GUID-E4F4EA24-BE30-43AD-ADED-185647224273">为网关配置Oracle Net</a></p>
                  </li>
                  <li>
                     <p><a href="config-odbc-gateway.html#GUID-21CAE4F1-EE8B-4249-B0D4-8E0C51ACA39F">配置Oracle数据库以进行网关访问</a></p>
                  </li>
                  <li>
                     <p><a href="config-odbc-gateway.html#GUID-CF945DF0-5504-485D-AD4E-5181A3A104A5">创建数据库链接</a></p>
                  </li>
                  <li>
                     <p><a href="config-odbc-gateway.html#GUID-CD0EB7AB-8149-421E-A5AB-AE97F1AAE3E9">加密网关初始化参数值</a></p>
                  </li>
                  <li>
                     <p><a href="config-odbc-gateway.html#GUID-A30EB231-793C-4ECD-ABE4-BF2F44B82DD0">配置网关以访问多个ODBC数据源</a></p>
                  </li>
               </ol>
            </div><a id="OTGIS1045"></a><div class="props_rev_3"><a id="GUID-0D9C61E3-2E7C-4EED-A062-EEF6758D46F9" name="GUID-0D9C61E3-2E7C-4EED-A062-EEF6758D46F9"></a><h3 id="OTGIS-GUID-0D9C61E3-2E7C-4EED-A062-EEF6758D46F9" class="sect3">配置网关初始化参数文件</h3>
               <div>
                  <div class="section">
                     <p>执行以下任务以配置网关初始化文件：</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li><span><a href="config-odbc-gateway.html#GUID-B5F907F0-25F9-4822-9D0A-E554BD366D21">创建初始化参数文件</a></span></li>
                     <li><span><a href="config-odbc-gateway.html#GUID-230BD462-58D6-47A7-B7FC-E1986E8929A5">设置初始化参数值</a></span></li>
                  </ol>
               </div><a id="OTGIS1046"></a><div class="props_rev_3"><a id="GUID-B5F907F0-25F9-4822-9D0A-E554BD366D21" name="GUID-B5F907F0-25F9-4822-9D0A-E554BD366D21"></a><h4 id="OTGIS-GUID-B5F907F0-25F9-4822-9D0A-E554BD366D21" class="sect4">创建初始化参数文件</h4>
                  <div>
                     <div class="section">
                        <p><a id="d31048e157" class="indexterm-anchor"></a><a id="d31048e161" class="indexterm-anchor"></a>您必须为Oracle Database Gateway for ODBC创建初始化文件。 Oracle提供了一个示例初始化文件<code class="codeph">initdg4odbc.ora</code> 。示例文件存储在<code class="codeph">$ORACLE_HOME/hs/admin</code>目录中。
                        </p>
                        <p>要为ODBC网关创建初始化文件，请复制样本初始化文件并将其重命名为<code class="codeph">init</code> <span class="italic"><code class="codeph">sid</code></span> <code class="codeph">.ora</code> ，其中<span class="italic"><code class="codeph">sid</code></span>是要用于网关的非Oracle系统实例的系统标识符（SID）连接。
                        </p>
                        <p>该<a id="d31048e190" class="indexterm-anchor"></a>网关系统标识符<a id="d31048e195" class="indexterm-anchor"></a> （SID）是标识网关实例的字母数字字符串。对于要访问的每个ODBC源，您需要一个网关实例，因此需要一个网关SID。
                        </p>
                        <p>如果要访问两个ODBC源，则需要两个网关SID，一个用于网关的每个实例。如果您只有一个ODBC源，但有时希望使用一组网关参数设置访问它，而其他时候使用不同的网关参数设置，那么您将需要多个网关SID用于单个ODBC源。SID用作初始化参数文件的文件名的一部分。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="OTGIS1047"></a><div class="props_rev_3"><a id="GUID-230BD462-58D6-47A7-B7FC-E1986E8929A5" name="GUID-230BD462-58D6-47A7-B7FC-E1986E8929A5"></a><h4 id="OTGIS-GUID-230BD462-58D6-47A7-B7FC-E1986E8929A5" class="sect4">设置初始化参数值</h4>
                  <div>
                     <div class="section">
                        <p>创建初始化文件后，必须设置初始化参数值。可以使用许多初始化参数来修改网关行为。您必须设置<code class="codeph">HS_FDS_CONNECT_INFO and</code> <code class="codeph">the HS_FDS_SHAREABLE_NAME</code>初始化参数。其他初始化参数具有默认值或是可选的。您可以使用默认值并省略可选参数，也可以使用为安装定制的值指定参数。有关可以设置的初始化参数的完整列表，请参阅<a href="initialization-parameters-for-gateways.html#GUID-82BEBA7B-5B1A-46F6-9ADC-7375C17A9E1F">初始化参数</a> 。对初始化参数所做的更改仅在下一个网关会话中生效。
                        </p>
                        <p><code class="codeph">HS_FDS_CONNECT_INFO</code>初始化参数指定连接到非Oracle系统所需的信息。设置<code class="codeph">HS_FDS_CONNECT_INFO</code>如下：</p><pre class="oac_no_warn" dir="ltr">HS_FDS_CONNECT_INFO = <span class="italic">dsn_value</span>
</pre><p>其中<span class="italic">dsn_value</span>是<code class="codeph">odbc.ini</code>文件中配置的数据源名称</p>
                        <p><code class="codeph">HS_FDS_SHAREABLE_NAME</code>初始化参数指定ODBC驱动程序管理器的完整路径。按如下方式设置<code class="codeph">HS_FDS_SHAREABLE_NAME</code> ：</p><pre class="oac_no_warn" dir="ltr">HS_FDS_SHAREABLE_NAME = <span class="italic">full_path_of_odbc_driver</span>
</pre><p>其中<code class="codeph">full_path_of_odbc_driver</code>是ODBC驱动程序管理器的完整路径</p>
                        <div class="infoboxnote" id="GUID-230BD462-58D6-47A7-B7FC-E1986E8929A5__GUID-ACB248FD-1178-4D67-8A5E-C1E0FBBA4098">
                           <p class="notep1">注意：</p>
                           <p>在决定是接受默认值还是更改默认值之前，请参阅<a href="initialization-parameters-for-gateways.html#GUID-82BEBA7B-5B1A-46F6-9ADC-7375C17A9E1F">初始化参数</a>以获取有关所有<a href="initialization-parameters-for-gateways.html#GUID-82BEBA7B-5B1A-46F6-9ADC-7375C17A9E1F">初始化参数</a>的详细信息。
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div><a id="OTGIS1048"></a><div class="props_rev_3"><a id="GUID-5A82F911-E1D6-4464-9C28-E7267C05588D" name="GUID-5A82F911-E1D6-4464-9C28-E7267C05588D"></a><h5 id="OTGIS-GUID-5A82F911-E1D6-4464-9C28-E7267C05588D" class="sect5">示例：设置初始化参数值</h5>
                     <div>
                        <div class="section">
                           <p>以下是使用DataDirect Technologies SQLServer ODBC驱动程序的<code class="codeph">odbc.ini</code>文件的示例。ODBC驱动程序安装在<code class="codeph">$ODBCHOME</code> ，即<code class="codeph">/opt/odbc520</code>目录。
                           </p><pre class="oac_no_warn" dir="ltr">[ODBC数据源] SQLServerWP = DataDirect 5.20 SQL Server有线协议[SQLServerWP]驱动程序= / opt / odbc520 / lib / ivmsss18.so说明= DataDirect 5.20 SQL Server有线协议数据库= oratst LogonID = TKHOUSER密码= TKHOUSER地址= sqlserver-pc ，1433 QuotedId =是AnsiNPW =否[ODBC] Trace = 0 TraceFile = / opt / odbc520 / odbctrace.out TraceDll = / opt / odbc520 / lib / odbctrac.so InstallDir = / opt / odb520 ConversionTableLocation = / opt / odbc520 / tables UseCursorLib = 0</pre><p>要配置Gateway for ODBC以使用此驱动程序， <code class="codeph">init</code> <span class="italic"><code class="codeph">sid</code></span> <code class="codeph">.ora</code>中需要以下行：</p><pre class="oac_no_warn" dir="ltr">HS_FDS_CONNECT_INFO = SQLServerWP HS_FDS_SHAREABLE_NAME = / opt / odbc520 / lib / libodbc.so设置ODBCINI = / opt / odbc / odbc.ini</pre><p>如果您使用的ODBC驱动程序要求您设置一些环境变量，那么您可以在initizlization文件或环境中设置它们。</p>
                           <p><code class="codeph">HS_FDS_CONNECT_INFO</code>初始化参数值必须与<code class="codeph">odbc.ini</code>文件中的ODBC数据源名称匹配。
                           </p>
                           <div class="infoboxnote" id="GUID-5A82F911-E1D6-4464-9C28-E7267C05588D__GUID-5C1D7741-3979-4F71-AF63-05A4F1298F77">
                              <p class="notep1">注意：</p>
                              <p>如果ODBC驱动程序支持带引号的标识符或分隔标识符，则应该打开它。</p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div>
            </div><a id="OTGIS1049"></a><div class="props_rev_3"><a id="GUID-E4F4EA24-BE30-43AD-ADED-185647224273" name="GUID-E4F4EA24-BE30-43AD-ADED-185647224273"></a><h3 id="OTGIS-GUID-E4F4EA24-BE30-43AD-ADED-185647224273" class="sect3">为网关配置Oracle Net</h3>
               <div>
                  <div class="section">
                     <p>网关要求Oracle Net与Oracle数据库通信。配置网关后，执行以下任务以配置Oracle Net以使用网关：</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li><span><a href="config-odbc-gateway.html#GUID-3BDC76B5-5867-423C-8D56-8B84E03FC318">为网关配置Oracle Net Listener</a></span></li>
                     <li><span><a href="config-odbc-gateway.html#GUID-32187400-1FC2-4014-9193-9FE3ADC5A6A1">停止并启动Gateway的Oracle Net Listener</a></span></li>
                  </ol>
               </div><a id="OTGIS1050"></a><div class="props_rev_3"><a id="GUID-3BDC76B5-5867-423C-8D56-8B84E03FC318" name="GUID-3BDC76B5-5867-423C-8D56-8B84E03FC318"></a><h4 id="OTGIS-GUID-3BDC76B5-5867-423C-8D56-8B84E03FC318" class="sect4">为网关配置Oracle Net Listener</h4>
                  <div>
                     <div class="section">
                        <p>Oracle Net Listener侦听来自Oracle数据库的传入请求。要使Oracle Net Listener监听网关，必须将有关网关的信息添加到Oracle Net Listener配置文件<code class="codeph">listener.ora</code> 。默认情况下，此文件位于<code class="codeph">$ORACLE_HOME</code> <code class="codeph">/network/admin</code> ，其中<code class="codeph">$ORACLE_HOME</code>是安装网关的目录。
                        </p>
                        <p>必须将以下条目添加到<code class="codeph">listener.ora</code>文件中：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>Oracle Net Listener侦听的Oracle Net地址列表</p>
                           </li>
                           <li>
                              <p>Oracle Net Listener响应传入连接请求而启动的网关的可执行文件名</p>
                           </li>
                        </ul>
                        <p><code class="codeph">$ORACLE_HOME/hs/admin</code>目录中提供了<code class="codeph">listener.ora</code>条目（ <code class="codeph">listener.ora.sample</code> ）的示例，其中<code class="codeph">$</code> <code class="codeph">ORACLE_HOME</code>是安装网关的目录。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div><a id="OTGIS1051"></a><div class="props_rev_3"><a id="GUID-41DFC5F6-D431-44BB-8F3F-2B4C6A71C5FE" name="GUID-41DFC5F6-D431-44BB-8F3F-2B4C6A71C5FE"></a><h5 id="OTGIS-GUID-41DFC5F6-D431-44BB-8F3F-2B4C6A71C5FE" class="sect5">listener.ora文件条目的语法</h5>
                     <div>
                        <p>Oracle数据库使用Oracle Net和任何支持的协议适配器与网关通信。以下是Oracle Net Listener使用TCP / IP协议适配器侦听的地址的语法：</p><pre class="oac_no_warn" dir="ltr">LISTENER =（ADDRESS =（PROTOCOL = TCP）（HOST = <span class="italic">host_name</span> ）（PORT = <span class="italic">port_number</span> ））</pre><p>哪里：</p>
                        <div class="tblformal" id="GUID-41DFC5F6-D431-44BB-8F3F-2B4C6A71C5FE__GUID-95EC7E4E-AA83-446E-BC94-1BB2B60E3C26">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="variable definition" frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="25%" id="d31048e540">变量</th>
                                    <th align="left" valign="bottom" width="75%" id="d31048e543">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d31048e548" headers="d31048e540 ">
                                       <p><span class="italic"><code class="codeph">主机名</code></span></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d31048e548 d31048e543 ">
                                       <p>是安装网关的计算机的名称。此版本支持IPv6格式。有关详细信息，请参阅<a href="../netrf/index.html" target="_blank"><span class="italic">Oracle Database Net Services Reference</span></a> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d31048e562" headers="d31048e540 ">
                                       <p><span class="italic"><code class="codeph">端口号</code></span></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d31048e562 d31048e543 ">
                                       <p>指定Oracle Net Listener使用的端口号。如果在同一台机器上运行其他侦听器，则<span class="italic">port_number</span>的值必须与其他侦听器的端口号不同。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>要指示Oracle Net Listener启动网关以响应传入的连接请求，请在<code class="codeph">listener.ora</code>文件中添加一个条目。
                        </p>
                        <div class="infoboxnote" id="GUID-41DFC5F6-D431-44BB-8F3F-2B4C6A71C5FE__GUID-75A63062-7062-4915-9987-E4F8DF08E87A">
                           <p class="notep1">注意：</p>
                           <p>您必须在<code class="codeph">tnsnames.ora</code>文件和<code class="codeph">listener.ora</code>文件中使用相同的SID值。
                           </p>
                        </div>
                        <p>对于Linux：</p><pre class="oac_no_warn" dir="ltr">SID_LIST_LISTENER =（SID_LIST =（SID_DESC =（SID_NAME = <span class="italic">gateway_sid</span> ）（ORACLE_HOME = <span class="italic">oracle_home_directory</span> ）（PROGRAM = dg4odbc）（ENVS = LD_LIBRARY_PATH = <span class="italic">odbc_library_dir</span> ： <span class="italic">oracle_home_directory</span> / lib）））</pre><p>哪里：</p>
                        <div class="tblformal" id="GUID-41DFC5F6-D431-44BB-8F3F-2B4C6A71C5FE__GUID-5FF68023-9C23-4091-B3D5-3F8F32208081">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="variable definition" frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="25%" id="d31048e613">变量</th>
                                    <th align="left" valign="bottom" width="75%" id="d31048e616">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d31048e621" headers="d31048e613 ">
                                       <p><span class="italic"><code class="codeph">gateway_sid</code></span></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d31048e621 d31048e616 ">
                                       <p>指定网关的SID，并匹配<code class="codeph">tnsnames.ora</code>文件中连接描述符条目中指定的网关SID。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d31048e633" headers="d31048e613 ">
                                       <p><span class="italic"><code class="codeph">oracle_home_directory</code></span></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d31048e633 d31048e616 ">
                                       <p>指定网关所在的Oracle主目录。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d31048e642" headers="d31048e613 ">
                                       <p><span class="italic"><code class="codeph">odbc_library_dir</code></span></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d31048e642 d31048e616 ">
                                       <p>指定ODBC驱动程序库路径</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d31048e651" headers="d31048e613 ">
                                       <p><code class="codeph">dg4odbc</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d31048e651 d31048e616 ">
                                       <p>指定用于ODBC的Oracle数据库网关的可执行文件名。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>如果您已有现有的Oracle Net Listener，请将以下语法添加到现有<code class="codeph">listener.ora</code>文件中的<code class="codeph">SID_LIST</code> ：</p>
                        <p>对于Linux：</p><pre class="oac_no_warn" dir="ltr">SID_LIST_LISTENER =（SID_LIST =（SID_DESC =。。）（SID_DESC =。。）（SID_DESC =（SID_NAME = <span class="italic">gateway_sid</span> ）（ORACLE_HOME = <span class="italic">oracle_home_directory</span> ）（PROGRAM = dg4odbc）（ENVS = LD_LIBRARY_PATH = <span class="italic">odbc_library_dir</span> ： <span class="italic"><code class="codeph">oracle_home_directory</code></span> / lib）））</pre><div class="infoboxnotealso" id="GUID-41DFC5F6-D431-44BB-8F3F-2B4C6A71C5FE__GUID-81C7C19E-37F9-4896-9B2A-05D11C40ED8D">
                           <p class="notep1">也可以看看：</p>
                           <p>有关更改<code class="codeph">listener.ora</code>文件的信息，请参见“ <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/otgis&amp;id=NETAG294" target="_blank"><span class="italic">Oracle Net管理员指南”</span></a> 。
                           </p>
                        </div>
                     </div>
                  </div>
               </div><a id="OTGIS1228"></a><a id="OTGIS1052"></a><div class="props_rev_3"><a id="GUID-32187400-1FC2-4014-9193-9FE3ADC5A6A1" name="GUID-32187400-1FC2-4014-9193-9FE3ADC5A6A1"></a><h4 id="OTGIS-GUID-32187400-1FC2-4014-9193-9FE3ADC5A6A1" class="sect4">停止并启动Gateway的Oracle Net Listener</h4>
                  <div>
                     <div class="section">
                        <p>你必须停止并重新启动<a id="d31048e730" class="indexterm-anchor"></a> Oracle Net Listener启动新设置，如下所示：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>将<code class="codeph">PATH</code>环境变量设置为<code class="codeph">$ORACLE_HOME/bin</code> ，其中<code class="codeph">$ORACLE_HOME</code>是安装网关的目录。</span><div>
                              <p>例如，在Linux平台上，如果您有Bourne或Korn Shell，请输入以下内容：</p><pre class="oac_no_warn" dir="ltr">$ PATH = $ ORACLE_HOME / bin：$ PATH; export PATH $ LD_LIBRARY_PATH = $ ORACLE_HOME / lib：$ LD_LIBRARY_PATH; export LD_LIBRARY_PATH</pre><p>如果您有C Shell，请输入以下内容：</p><pre class="oac_no_warn" dir="ltr">$ setenv PATH $ ORACLE_HOME / bin：$ PATH $ setenv LD_LIBRARY_PATH $ ORACLE_HOME / lib：$ LD_LIBRARY_PATH</pre><p><a href="config-odbc-gateway.html#GUID-32187400-1FC2-4014-9193-9FE3ADC5A6A1__CIHHADFG" title="摘要">表11-1</a>指定了用于不同平台的参数值：</p>
                              <div class="tblformal" id="GUID-32187400-1FC2-4014-9193-9FE3ADC5A6A1__CIHHADFG">
                                 <p class="titleintable">表11-1基于UNIX的平台的ODBC数据库网关ODBC参数值</p>
                                 <table cellpadding="4" cellspacing="0" class="Formal" title="基于UNIX平台的Oracle Database Gateway for ODBC参数值" width="90%" border="1" summary="summary" frame="hsides" rules="rows">
                                    <thead>
                                       <tr align="left" valign="top">
                                          <th align="left" valign="bottom" width="39%" id="d31048e773">平台</th>
                                          <th align="left" valign="bottom" width="61%" id="d31048e776">参数值</th>
                                       </tr>
                                    </thead>
                                    <tbody>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="39%" id="d31048e781" headers="d31048e773 ">
                                             <p>Oracle Solaris（SPARC）64位和x86-64（64位）上的Oracle Solaris</p>
                                          </td>
                                          <td align="left" valign="top" width="61%" headers="d31048e781 d31048e776 ">
                                             <p><code class="codeph">LD_LIBRARY_PATH_64 = $ ORACLE_HOME / lib目录</code></p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="39%" id="d31048e789" headers="d31048e773 ">
                                             <p>HP-UX Itanium</p>
                                          </td>
                                          <td align="left" valign="top" width="61%" headers="d31048e789 d31048e776 ">
                                             <p><code class="codeph">LD_LIBRARY_PATH = $ ORACLE_HOME / lib目录</code></p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="39%" id="d31048e797" headers="d31048e773 ">
                                             <p>Linux x86 64位</p>
                                          </td>
                                          <td align="left" valign="top" width="61%" headers="d31048e797 d31048e776 ">
                                             <p><code class="codeph">LD_LIBRARY_PATH = $ ORACLE_HOME / lib目录</code></p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="39%" id="d31048e805" headers="d31048e773 ">
                                             <p>POWER Systems上的IBM AIX（64位）</p>
                                          </td>
                                          <td align="left" valign="top" width="61%" headers="d31048e805 d31048e776 ">
                                             <p><code class="codeph">LIBPATH = $ ORACLE_HOME / lib目录</code></p>
                                          </td>
                                       </tr>
                                    </tbody>
                                 </table>
                              </div>
                              <!-- class="inftblhruleinformal" -->
                           </div>
                        </li>
                        <li class="stepexpand"><span>如果侦听器已在运行，请使用<code class="codeph">lsnrctl</code>命令停止侦听器，然后使用新设置启动它，如下所示：</span><div><pre class="oac_no_warn" dir="ltr">$ lsnrctl停止$ lsnrctl start</pre></div>
                        </li>
                        <li class="stepexpand"><span>使用新设置检查侦听器的状态，如下所示：</span><div><pre class="oac_no_warn" dir="ltr">$ lsnrctl状态</pre><p>以下是<code class="codeph">lsnrctl</code>状态检查的部分输出。在此示例中， <code class="codeph">dg4odbc</code>是SID。</p>
                           </div>
                        </li>
                     </ol>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">。。。服务摘要......服务“dg4odbc”有1个实例。实例“dg4odbc”，状态为UNKNOWN，有1个此服务的处理程序...命令成功完成</pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="OTGIS1053"></a><div class="props_rev_3"><a id="GUID-21CAE4F1-EE8B-4249-B0D4-8E0C51ACA39F" name="GUID-21CAE4F1-EE8B-4249-B0D4-8E0C51ACA39F"></a><h3 id="OTGIS-GUID-21CAE4F1-EE8B-4249-B0D4-8E0C51ACA39F" class="sect3">配置Oracle数据库以进行网关访问</h3>
               <div>
                  <div class="section">
                     <p>在使用网关访问ODBC数据源之前，必须配置Oracle数据库以启用与Oracle Net上的网关通信。</p>
                     <p>要配置Oracle数据库，必须将连接描述符添加到<code class="codeph">tnsnames.ora</code>文件中。默认情况下，此文件位于<code class="codeph">$ORACLE_HOME/network/admin</code> ，其中<code class="codeph">$ORACLE_HOME</code>是安装Oracle数据库的目录。您无法使用Oracle Net Assistant或Oracle Net Easy Config工具来配置<code class="codeph">tnsnames.ora</code>文件。您必须手动编辑该文件。
                     </p>
                     <p><code class="codeph">$ORACLE_HOME/dg4odbc/admin</code>目录中提供了<code class="codeph">tnsmanes.ora</code>条目（ <code class="codeph">tnsnames.ora.sample</code> ）的示例，其中<code class="codeph">$</code> <code class="codeph">ORACLE_HOME</code>是安装网关的目录。
                     </p>
                     <div class="infoboxnotealso" id="GUID-21CAE4F1-EE8B-4249-B0D4-8E0C51ACA39F__GUID-A3125390-3023-4B73-B14F-D39B8BDC0FF2">
                        <p class="notep1">也可以看看：</p>
                        <p>有关编辑<code class="codeph">tnsnames.ora</code>文件的信息，请<code class="codeph">tnsnames.ora</code> <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/otgis&amp;id=NETAG256" target="_blank"><span><cite>“Oracle数据库网络服务管理员指南”</cite></span></a> 。
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div><a id="OTGIS1054"></a><div class="props_rev_3"><a id="GUID-3D371F46-6B57-4E00-AB9F-BC1334B89F13" name="GUID-3D371F46-6B57-4E00-AB9F-BC1334B89F13"></a><h4 id="OTGIS-GUID-3D371F46-6B57-4E00-AB9F-BC1334B89F13" class="sect4">配置tnsnames.ora</h4>
                  <div>
                     <p>编辑<code class="codeph">tnsnames.ora</code>文件以添加网关的连接描述符。以下是使用TCP / IP协议的Oracle Net条目的语法：</p><pre class="oac_no_warn" dir="ltr"><span class="italic">connect_descriptor</span> =（DESCRIPTION =（ADDRESS =（PROTOCOL = TCP）（HOST = <span class="italic">host_name</span> ）（PORT = <span class="italic">port_number</span> ））（CONNECT_DATA =（SID = <span class="italic">gateway_sid</span> ））（HS = OK））</pre><p>哪里：</p>
                     <div class="tblformal" id="GUID-3D371F46-6B57-4E00-AB9F-BC1334B89F13__GUID-E654DDDB-0D15-4DB8-ABA6-85471B872915">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="variable definition" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="25%" id="d31048e975">变量</th>
                                 <th align="left" valign="bottom" width="75%" id="d31048e978">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d31048e983" headers="d31048e975 ">
                                    <p><span class="italic"><code class="codeph">connect_descriptor</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d31048e983 d31048e978 ">
                                    <p>是创建数据库链接时指定的要连接的对象的描述，例如<code class="codeph">dg4odbc</code> 。
                                    </p>
                                    <p></p>
                                    <p>检查sqlnet.ora文件以获取以下参数设置：</p>
                                    <p><code class="codeph">names.directory_path</code> = <code class="codeph">(TNSNAMES)</code> 
                                    </p>
                                    <p>注意： <code class="codeph">sqlnet.ora</code>文件通常存储在<code class="codeph">$ORACLE_HOME</code> <code class="codeph">/network/admin</code> 。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d31048e1015" headers="d31048e975 ">
                                    <p><code class="codeph">TCP</code></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d31048e1015 d31048e978 ">
                                    <p>是用于TCP / IP连接的TCP协议。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d31048e1023" headers="d31048e975 ">
                                    <p><span class="italic"><code class="codeph">主机名</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d31048e1023 d31048e978 ">
                                    <p>指定运行网关的计算机。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d31048e1032" headers="d31048e975 ">
                                    <p><span class="italic"><code class="codeph">端口号</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d31048e1032 d31048e978 ">
                                    <p>匹配正在侦听网关的Oracle Net Listener使用的端口号。Oracle Net Listener的端口号可以在Oracle Net Listener使用的<code class="codeph">listener.ora</code>文件中找到。请参阅<a href="config-odbc-gateway.html#GUID-41DFC5F6-D431-44BB-8F3F-2B4C6A71C5FE">listener.ora文件条目的语法</a> 。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d31048e1048" headers="d31048e975 ">
                                    <p><span class="italic"><code class="codeph">gateway_sid</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d31048e1048 d31048e978 ">
                                    <p>指定网关的SID，并匹配正在侦听网关的Oracle Net Listener的<code class="codeph">listener.ora</code>文件中指定的SID。有关更多信息，请参阅<a href="config-odbc-gateway.html#GUID-3BDC76B5-5867-423C-8D56-8B84E03FC318">为网关配置Oracle Net Listener</a> 。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d31048e1064" headers="d31048e975 ">
                                    <p><code class="codeph">（HS = OK）</code></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d31048e1064 d31048e978 ">
                                    <p>指定此连接描述符连接到非Oracle系统。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
               </div><a id="OTGIS1281"></a><div class="props_rev_3"><a id="GUID-4DE3CB96-8CCE-4526-8DE0-083872680367" name="GUID-4DE3CB96-8CCE-4526-8DE0-083872680367"></a><h4 id="OTGIS-GUID-4DE3CB96-8CCE-4526-8DE0-083872680367" class="sect4">为多个侦听器配置tnsnames.ora</h4>
                  <div>
                     <div class="section">
                        <p>要确保更高的可用性，您可以指定多个<a id="d31048e1118" class="indexterm-anchor"></a> connect de scriptor中的监听器。
                        </p><pre class="oac_no_warn" dir="ltr"> <a id="d31048e1126" class="indexterm-anchor"></a> <span class="italic">connect_descriptor</span> =（DESCRIPTION =（ADDRESS =（PROTOCOL = TCP）（HOST = <span class="italic">host_name_1</span> ）（PORT = <span class="italic">port_number_1</span> ））（ADDRESS =（PROTOCOL = TCP）（HOST = <span class="italic">host_name_2</span> ）（PORT = <span class="italic">port_number_2</span> ））（CONNECT_DATA =（SID = <span class="italic">gateway_sid</span> ））（HS = OK））</pre><p>这表明，如果<span class="italic"><code class="codeph">host_name_1</code></span>和<span class="italic"><code class="codeph">port_number_1</code></span>的侦听器不可用，则<span class="italic"><code class="codeph">host_name_2</code></span>和<span class="italic"><code class="codeph">port_number_2</code></span>的第二个侦听器将接管。
                        </p>
                        <div class="infoboxnotealso" id="GUID-4DE3CB96-8CCE-4526-8DE0-083872680367__GUID-CA09A024-0648-4771-B0C3-1697DC87102B">
                           <p class="notep1">也可以看看：</p>
                           <p>有关编辑<code class="codeph">tnsnames.ora</code>文件的信息，请<code class="codeph">tnsnames.ora</code> <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/otgis&amp;id=NETAG256" target="_blank"><span><cite>“Oracle数据库网络服务管理员指南”</cite></span></a> 。
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="OTGIS1055"></a><div class="props_rev_3"><a id="GUID-CF945DF0-5504-485D-AD4E-5181A3A104A5" name="GUID-CF945DF0-5504-485D-AD4E-5181A3A104A5"></a><h3 id="OTGIS-GUID-CF945DF0-5504-485D-AD4E-5181A3A104A5" class="sect3">创建数据库链接</h3>
               <div>
                  <div class="section">
                     <p>连接到Oracle数据库的任何Oracle客户端都可以通过网关访问ODBC数据源。Oracle客户端和Oracle数据库可以驻留在不同的计算机上。网关仅接受来自Oracle数据库的连接。</p>
                     <p>首次在Oracle会话中使用时，通过数据库链接建立与网关的连接。在此上下文中，连接是指Oracle数据库与网关之间的连接。在Oracle会话结束之前，连接将保持建立状态。另一个会话或用户可以访问相同的数据库链接，并获得与网关和ODBC数据源的不同连接。</p>
                     <p>数据库链接在网关会话期间处于活动状态。如果要在会话期间关闭数据库链接，可以使用<code class="codeph">ALTER SESSION</code>语句执行此操作。
                     </p>
                     <p>要访问ODBC数据源，您必须创建数据库链接。公共数据库链接是最常见的数据库链接。</p><pre class="oac_no_warn" dir="ltr">SQL&gt; CREATE PUBLIC DATABASE LINK <span class="italic">dblink</span> CONNECT TO 2“ <span class="italic">user”</span> IDENTIFIED BY <span class="italic">“password”</span> <span class="italic">USING'tns_name_entry</span> ';</pre><p>哪里：</p>
                     <div class="tblformal" id="GUID-CF945DF0-5504-485D-AD4E-5181A3A104A5__GUID-30CE0834-A74A-48E7-B289-C69DC2B8F4B8">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="variable definition" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="25%" id="d31048e1250">变量</th>
                                 <th align="left" valign="bottom" width="75%" id="d31048e1253">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d31048e1258" headers="d31048e1250 ">
                                    <p><span class="italic"><code class="codeph">DBLINK</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d31048e1258 d31048e1253 ">
                                    <p>是完整的数据库链接名称。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d31048e1267" headers="d31048e1250 ">
                                    <p><span class="italic"><code class="codeph">tns_name_entry</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d31048e1267 d31048e1253 ">
                                    <p>指定<code class="codeph">tnsnames.ora</code>文件中指定的标识网关的Oracle Net连接描述符</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>创建数据库链接后，您可以验证与ODBC数据源的连接，如下所示：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT * FROM DUAL @dblink;</pre><div class="infoboxnotealso" id="GUID-CF945DF0-5504-485D-AD4E-5181A3A104A5__GUID-A042CD13-3D00-418E-B39C-F1BE84B425E3">
                        <p class="notep1">也可以看看：</p>
                        <p>有关使用数据库链接的详细信息，请<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/otgis&amp;id=ADMIN12083" target="_blank"><span><cite>参见Oracle数据库管理员指南</cite></span></a> 。
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="OTGIS1056"></a><div class="props_rev_3"><a id="GUID-CD0EB7AB-8149-421E-A5AB-AE97F1AAE3E9" name="GUID-CD0EB7AB-8149-421E-A5AB-AE97F1AAE3E9"></a><h3 id="OTGIS-GUID-CD0EB7AB-8149-421E-A5AB-AE97F1AAE3E9" class="sect3">加密网关初始化参数值</h3>
               <div>
                  <p>网关使用用户标识和密码来访问远程数据库中的信息。必须在网关初始化文件中定义一些用户标识和密码，以处理资源恢复等功能。在当前具有安全意识的环境中，具有可在初始化文件中访问的纯文本密码被认为是不安全的。<code class="codeph">dg4pwd</code>加密实用程序已添加为异构服务的一部分，以帮助提高安全性。此网关可以访问此实用程序。包含敏感值的初始化参数可以以加密形式存储。
                  </p>
                  <div class="infoboxnotealso" id="GUID-CD0EB7AB-8149-421E-A5AB-AE97F1AAE3E9__GUID-E6BD4EF1-77EF-472A-9DC9-C15DB5FB61E8">
                     <p class="notep1">也可以看看：</p>
                     <p>有关使用此实用程序的详细信息，请<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/otgis&amp;id=HETER4010" target="_blank"><span class="italic">参见“Oracle数据库异构连接用户指南”</span></a> 。
                     </p>
                  </div>
               </div>
            </div><a id="OTGIS1057"></a><div class="props_rev_3"><a id="GUID-A30EB231-793C-4ECD-ABE4-BF2F44B82DD0" name="GUID-A30EB231-793C-4ECD-ABE4-BF2F44B82DD0"></a><h3 id="OTGIS-GUID-A30EB231-793C-4ECD-ABE4-BF2F44B82DD0" class="sect3">配置网关以访问多个ODBC数据源</h3>
               <div>
                  <p>配置网关以访问多个ODBC数据源的任务类似于为单个数据源配置网关的任务。配置示例假定以下内容：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>网关安装并配置了SID为<code class="codeph">dg4odbc</code> 。
                        </p>
                     </li>
                     <li>
                        <p>网关配置为访问名为<code class="codeph">dsn1</code>一个ODBC数据源。
                        </p>
                     </li>
                     <li>
                        <p>正在添加两个名为dsn2和dsn3的ODBC数据源，其中dsn2和dsn3是odbc.ini文件中配置的数据源名称。</p>
                     </li>
                  </ul>
               </div><a id="OTGIS1229"></a><a id="OTGIS1230"></a><a id="OTGIS1058"></a><div class="props_rev_3"><a id="GUID-5C7138AC-C33C-46E5-8CC2-CC33BDEAEB9A" name="GUID-5C7138AC-C33C-46E5-8CC2-CC33BDEAEB9A"></a><h4 id="OTGIS-GUID-5C7138AC-C33C-46E5-8CC2-CC33BDEAEB9A" class="sect4">多个ODBC数据源示例：配置网关</h4>
                  <div>
                     <div class="section">
                        <p class="subhead3" id="GUID-5C7138AC-C33C-46E5-8CC2-CC33BDEAEB9A__GUID-94D450E8-B3EB-43C4-ACB2-34B75B83E9F0">为每个ODBC数据源选择一个系统ID</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>每个ODBC数据源都需要一个单独的网关实例。每个实例都需要自己的网关系统ID（SID）。对于此示例，为访问ODBC数据源的实例选择网关SID：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">dg4odbc2</code>用于访问数据源<code class="codeph">dsn2</code>的网关。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">dg4odbc3</code>用于访问数据源<code class="codeph">dsn3</code>的网关。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5C7138AC-C33C-46E5-8CC2-CC33BDEAEB9A__GUID-026010BB-14B5-4B4C-B574-37D18895E4A6">创建两个初始化参数文件</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>通过复制原来的初始化参数文件创建用于网关的每个实例的初始化参数文件<code class="codeph">$ORACLE_HOME</code> <code class="codeph">/hs/admin/initdg4odbc.ora</code> ，两次，命名一个与网关SID为<code class="codeph">dsn2</code>和其他与网关的SID <code class="codeph">dsn3</code> ：</p><pre class="oac_no_warn" dir="ltr">$ cd ORACLE_HOME / hs / admin $ cp initdg4odbc.ora initdg4odbc2.ora $ cp initdg4odbc.ora initdg4odbc3.ora</pre><p>更改新文件中<code class="codeph">HS_FDS_CONNECT_INFO</code>参数的值，如下所示：</p>
                        <p>对于<code class="codeph">initdg4odbc2.ora</code> ，请输入以下内容：</p><pre class="oac_no_warn" dir="ltr">HS_FDS_CONNECT_INFO = DSN2</pre><p>对于<code class="codeph">initdg4odbc3.ora</code> ，请输入以下内容：</p><pre class="oac_no_warn" dir="ltr">HS_FDS_CONNECT_INFO = dsn3</pre><div class="infoboxnote" id="GUID-5C7138AC-C33C-46E5-8CC2-CC33BDEAEB9A__GUID-9AEA983A-E1B1-4A71-B1B9-0ED943995939">
                           <p class="notep1">注意：</p>
                           <p>如果您有相同ODBC数据源的多个网关SID，因为您希望在不同时间使用不同的网关参数设置，请遵循相同的过程。您可以创建多个初始化参数文件，每个文件具有不同的SID和不同的参数设置。</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="OTGIS1231"></a><a id="OTGIS1059"></a><div class="props_rev_3"><a id="GUID-B174B3FC-04F2-493D-B550-00AB7E3C5684" name="GUID-B174B3FC-04F2-493D-B550-00AB7E3C5684"></a><h4 id="OTGIS-GUID-B174B3FC-04F2-493D-B550-00AB7E3C5684" class="sect4">多个ODBC数据源示例：配置Oracle Net Listener</h4>
                  <div>
                     <div class="section">
                        <p class="subhead3" id="GUID-B174B3FC-04F2-493D-B550-00AB7E3C5684__GUID-2452C4FE-7B6E-4B3C-A564-CDC02BDC2A11">将条目添加到listener.ora</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>在Oracle Net Listener配置文件中添加两个新条目， <span class="bold"> </span> <code class="codeph">listener.ora</code> 。即使多个网关实例访问同一数据库，您也必须为每个网关实例提供一个条目。
                        </p>
                        <p>以下示例首先显示原始安装网关的条目，然后显示新条目。</p><pre class="oac_no_warn" dir="ltr">SID_LIST_LISTENER =（SID_LIST =（SID_DESC =（SID_NAME = dg4odbc）（ORACLE_HOME = <span class="italic">oracle_home_directory</span> ）（PROGRAM = dg4odbc）（ENVS = LD_LIBRARY_PATH = <span class="italic">odbc_library_dir</span> ： <span class="italic"><code class="codeph">oracle_home_directory</code></span> / lib））（SID_DESC =（SID_NAME = dg4odbc2）（ORACLE_HOME = <span class="italic">oracle_home_directory</span> ）（PROGRAM = dg4odbc）（ENVS = LD_LIBRARY_PATH = <span class="italic">odbc_library_dir</span> ： <span class="italic"><code class="codeph">oracle_home_directory</code></span> / lib））（SID_DESC =（SID_NAME = dg4odbc3）（ORACLE_HOME = <span class="italic">oracle_home_directory</span> ）（PROGRAM = dg4odbc）（ENVS = LD_LIBRARY_PATH = <span class="italic">odbc_library_dir</span> ： <span class="italic"><code class="codeph">oracle_home_directory</code></span> / lib）））</pre><p>其中， <code class="codeph">oracle_home_directory</code>是网关所在的目录。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="OTGIS1060"></a><div class="props_rev_3"><a id="GUID-71EEAA8E-8ECB-4EA8-B416-646F6CC07292" name="GUID-71EEAA8E-8ECB-4EA8-B416-646F6CC07292"></a><h4 id="OTGIS-GUID-71EEAA8E-8ECB-4EA8-B416-646F6CC07292" class="sect4">多个ODBC数据源示例：停止和启动Oracle Net Listener</h4>
                  <div>
                     <div class="section">
                        <p>如果侦听器已在运行，请使用<code class="codeph">lsnrctl</code>命令停止侦听器，然后使用新设置启动它，如下所示：</p><pre class="oac_no_warn" dir="ltr">$ lsnrctl停止$ lsnrctl start</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="OTGIS1061"></a><div class="props_rev_3"><a id="GUID-FFA3AC98-B3BB-4EB6-9C20-707699C8E895" name="GUID-FFA3AC98-B3BB-4EB6-9C20-707699C8E895"></a><h4 id="OTGIS-GUID-FFA3AC98-B3BB-4EB6-9C20-707699C8E895" class="sect4">多个ODBC数据源示例：为网关访问配置Oracle数据库</h4>
                  <div>
                     <div class="section">
                        <p>将两个连接描述符条目添加到<code class="codeph">tnsnames.ora</code>文件中。即使网关实例访问同一数据库，您也必须为每个网关实例创建一个条目。
                        </p>
                        <p>以下示例首先显示原始安装网关的条目，然后显示新网关实例的两个条目：</p><pre class="oac_no_warn" dir="ltr"><span class="italic">old_dsn_using</span> =（DESCRIPTION =（ADDRESS =（PROTOCOL = TCP）（PORT = port_number）（HOST = host_name））（CONNECT_DATA =（SID = dg4odbc））（HS = OK）） <span class="italic">new_dsn2_using</span> =（DESCRIPTION =（ADDRESS =（PROTOCOL = TCP）（PORT = port_number）（HOST = host_name））（CONNECT_DATA =（SID = dg4odbc2））（HS = OK）） <span class="italic">new_dsn3_using</span> =（DESCRIPTION =（ADDRESS =（PROTOCOL = TCP）（PORT = port_number）（HOST = host_name ））（CONNECT_DATA =（SID = dg4odbc3））（HS = OK））</pre><p><code class="codeph">PORT</code>的值是正在侦听网关的Oracle Net Listener的TCP / IP端口号。该数字可以在Oracle Net Listener使用的<code class="codeph">listener.ora</code>文件中找到。<code class="codeph">HOST</code>的值是运行网关的计算机的名称。该名称也可以在Oracle Net Listener使用的<code class="codeph">listener.ora</code>文件中找到。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="OTGIS1062"></a><div class="props_rev_3"><a id="GUID-66051131-C323-4315-9FA6-16D657A4D386" name="GUID-66051131-C323-4315-9FA6-16D657A4D386"></a><h4 id="OTGIS-GUID-66051131-C323-4315-9FA6-16D657A4D386" class="sect4">多个ODBC数据源示例：访问ODBC数据</h4>
                  <div>
                     <div class="section">
                        <p>输入以下内容<code class="codeph">dg4odbc2</code>网关创建数据库链接：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; CREATE PUBLIC DATABASE LINK ODBC2 CONNECT TO 2“ <span class="italic">user2”</span> IDENTIFIED BY“ <span class="italic">password2</span> ”USING'new_dsn2_using';</pre><p>输入以下内容<code class="codeph">dg4odbc3</code>网关创建数据库链接：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; CREATE PUBLIC DATABASE LINK ODBC3 CONNECT TO 2“ <span class="italic">user3”</span> IDENTIFIED BY <span class="italic">“password3</span> ”USING'new_dsn3_using';</pre><p>创建数据库链接后，您可以验证与新ODBC数据源的连接，如下所示：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT * FROM ALL_USERS @ ODBC2;</pre><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT * FROM ALL_USERS @ ODBC3;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>