<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="The DBMS_TDB package reports whether a database can be transported between platforms using the RMAN CONVERT DATABASE command."></meta>
      <meta name="description" content="The DBMS_TDB package reports whether a database can be transported between platforms using the RMAN CONVERT DATABASE command."></meta>
      <title>DBMS_TDB</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="PL/SQL Packages and Types Reference"></meta>
      <meta property="og:description" content="The DBMS_TDB package reports whether a database can be transported between platforms using the RMAN CONVERT DATABASE command."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="PL/SQL Packages and Types Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-pl-sql-packages-and-types-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-03-25T11:24:34-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96430-03"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="DBMS_SYNC_REFRESH.html" title="Previous" type="text/html"></link>
      <link rel="next" href="DBMS_TF.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database PL/SQL Packages and Types Reference"></meta>
    <meta name="dcterms.isVersionOf" content="ARPLS"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="DBMS_SYNC_REFRESH.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="DBMS_TF.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">PL / SQL包和类型参考</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">DBMS_TDB</li>
            </ol>
            <a id="GUID-E36C9358-B1BA-4952-9CD2-2E5AB1FFDAA6" name="GUID-E36C9358-B1BA-4952-9CD2-2E5AB1FFDAA6"></a><a id="ARPLS650"></a><a id="ARPLS650"></a>
            
            <h2 id="ARPLS-GUID-E36C9358-B1BA-4952-9CD2-2E5AB1FFDAA6" class="sect2"><span class="enumeration_chapter">168</span> DBMS_TDB</h2>
         </header>
         <div class="ind">
            <div>
               <p><code class="codeph">DBMS_TDB</code>包报告是否可以使用RMAN <code class="codeph">CONVERT DATABASE</code>命令在平台之间传输<code class="codeph">CONVERT DATABASE</code> 。
               </p>
               <p>该程序包验证当前主机平台上的数据库是否与目标平台具有相同的endian格式，并且当前数据库的状态不会阻止数据库的传输。</p>
               <div class="infoboxnotealso" id="GUID-E36C9358-B1BA-4952-9CD2-2E5AB1FFDAA6__GUID-474B162A-E307-4991-A646-67F8841585EF">
                  <p class="notep1">也可以看看：</p>
                  <p>有关使用<code class="codeph">CONVERT DATABASE</code>进行数据库传输的<a href="../sqlrf/SQL-Statements-ALTER-LIBRARY-to-ALTER-SESSION.html#SQLRF009" target="_blank"><span class="italic">Oracle数据库备份和恢复用户指南</span></a></p>
               </div>
               <p>本章包含以下主题：<a id="d1045562e103" class="indexterm-anchor"></a></p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="DBMS_TDB.html#GUID-6BD2D902-6992-403F-B174-4CE4BB6B7308" title="在许多情况下，Oracle支持在具有相同endian格式的平台之间传输数据库。但是，即使endian格式相同，数据库也必须经过转换过程才能从一个平台移动到另一个平台。传输数据库的过程也需要先决条件，例如将数据库以只读方式打开。">概观</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_TDB.html#GUID-E781FCF7-C8FB-4165-AC93-546EB50D26BF" title="使用此程序包需要DBA权限。">DBMS_TDB安全模型</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_TDB.html#GUID-F0856DFE-9D5C-4EE0-BEF3-34A5B2D2BA95" title="DBMS_TDB包定义了几个应该用于指定参数值的枚举常量。枚举常量必须以包名称为前缀，例如DBMS_TDB.SKIP_NONE。">常量</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_TDB.html#GUID-0F73C5F2-7154-4E3F-9905-59C24CF44BC9" title="DBMS_TDB包使用V $ DB_TRANSPORTABLE_PLATFORM视图。">查看</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_TDB.html#GUID-51ACFA4C-05B3-46A3-AA15-7D008B2D5D4C" title="以下说明适用于DBMS_TDB。">操作说明</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_TDB.html#GUID-037005A9-E7BC-48ED-A4E1-2BD3311F45AF" title="该表列出了DBMS_TDB子程序并简要描述了它们。">DBMS_TDB子程序摘要</a></p>
                  </li>
               </ul>
            </div><a id="ARPLS68854"></a><a id="ARPLS68854"></a><div class="props_rev_3"><a id="GUID-6BD2D902-6992-403F-B174-4CE4BB6B7308" name="GUID-6BD2D902-6992-403F-B174-4CE4BB6B7308"></a><h3 id="ARPLS-GUID-6BD2D902-6992-403F-B174-4CE4BB6B7308" class="sect3"><span class="enumeration_section">168.1</span> DBMS_TDB概述</h3>
               <div>
                  <p>在许多情况下，Oracle支持在具有相同endian格式的平台之间传输数据库。但是，即使endian格式相同，数据库也必须经过转换过程才能从一个平台移动到另一个平台。传输数据库的过程也需要先决条件，例如将数据库以只读方式打开。</p>
                  <div class="section">
                     <p><code class="codeph">DBMS_TDB</code>包有两个用途：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>确认Oracle支持将数据库从给定的源平台传输到给定的目标平台</p>
                        </li>
                        <li>
                           <p>确定要传输的数据库是否已准备好进行传输，如果没有，则确定阻止数据库传输的条件</p>
                        </li>
                     </ul>
                     <p>使用Recovery Manager <code class="codeph">CONVERT DATABASE</code>命令执行实际转换。有关传输数据库的要求，跨平台转换数据库以进行传输的过程以及在转换过程中使用<code class="codeph">DBMS_TDB</code>子程序的示例的完整讨论，请参阅“ <a href="../sqlrf/SQL-Statements-ALTER-LIBRARY-to-ALTER-SESSION.html#SQLRF009" target="_blank"><span class="italic">Oracle数据库备份和恢复用户指南”</span></a> 。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS68855"></a><a id="ARPLS68855"></a><div class="props_rev_3"><a id="GUID-E781FCF7-C8FB-4165-AC93-546EB50D26BF" name="GUID-E781FCF7-C8FB-4165-AC93-546EB50D26BF"></a><h3 id="ARPLS-GUID-E781FCF7-C8FB-4165-AC93-546EB50D26BF" class="sect3"><span class="enumeration_section">168.2</span> DBMS_TDB安全模型</h3>
               <div>
                  <p>使用此程序包需要<code class="codeph">DBA</code>权限。
                  </p>
                  <div class="section"></div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS68856"></a><a id="ARPLS68857"></a><a id="ARPLS68857"></a><a id="ARPLS68856"></a><div class="props_rev_3"><a id="GUID-F0856DFE-9D5C-4EE0-BEF3-34A5B2D2BA95" name="GUID-F0856DFE-9D5C-4EE0-BEF3-34A5B2D2BA95"></a><h3 id="ARPLS-GUID-F0856DFE-9D5C-4EE0-BEF3-34A5B2D2BA95" class="sect3"><span class="enumeration_section">168.3</span> DBMS_TDB常量</h3>
               <div>
                  <p><code class="codeph">DBMS_TDB</code>包定义了几个应该用于指定参数值的枚举常量。枚举常量必须以包名称为前缀，例如<code class="codeph">DBMS_TDB.SKIP_NONE</code> 。</p>
                  <div class="section">
                     <p><code class="codeph">DBMS_TDB</code>包使用<a href="DBMS_TDB.html#GUID-F0856DFE-9D5C-4EE0-BEF3-34A5B2D2BA95__BDCFFGJG" title="此表描述DBMS_TDB子程序使用的常量。">表168-1中</a>显示的常量。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-F0856DFE-9D5C-4EE0-BEF3-34A5B2D2BA95__BDCFFGJG">
                     <p class="titleintable">表168-1 DBMS_TDB常量</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_TDB常量" width="100%" border="1" summary="This table describes Constants used by DBMS_TDB subprograms." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" id="d1045562e494">名称</th>
                              <th align="left" valign="bottom" id="d1045562e497">类型</th>
                              <th align="left" valign="bottom" id="d1045562e500">值</th>
                              <th align="left" valign="bottom" id="d1045562e503">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d1045562e508" headers="d1045562e494 ">
                                 <p><code class="codeph">SKIP_NONE</code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" headers="d1045562e508 d1045562e497 ">
                                 <p><code class="codeph">数</code></p>
                              </td>
                              <td align="left" valign="top" headers="d1045562e508 d1045562e500 ">
                                 <p><code class="codeph">0</code></p>
                              </td>
                              <td align="left" valign="top" headers="d1045562e508 d1045562e503 ">
                                 <p>检查数据库是否准备好运输时检查所有文件。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d1045562e525" headers="d1045562e494 ">
                                 <p><code class="codeph">SKIP_OFFLINE</code></p>
                              </td>
                              <td align="left" valign="top" headers="d1045562e525 d1045562e497 ">
                                 <p><code class="codeph">数</code></p>
                              </td>
                              <td align="left" valign="top" headers="d1045562e525 d1045562e500 ">
                                 <p><code class="codeph">2</code></p>
                              </td>
                              <td align="left" valign="top" headers="d1045562e525 d1045562e503 ">
                                 <p>检查数据库是否准备好进行传输时，在脱机表空间中跳过文件。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d1045562e541" headers="d1045562e494 ">
                                 <p><code class="codeph">SKIP_READONLY</code></p>
                              </td>
                              <td align="left" valign="top" headers="d1045562e541 d1045562e497 ">
                                 <p><code class="codeph">数</code></p>
                              </td>
                              <td align="left" valign="top" headers="d1045562e541 d1045562e500 ">
                                 <p><code class="codeph">3</code></p>
                              </td>
                              <td align="left" valign="top" headers="d1045562e541 d1045562e503 ">
                                 <p>检查数据库是否已准备好进行传输时，在只读表空间中跳过文件。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="ARPLS68858"></a><a id="ARPLS68858"></a><div class="props_rev_3"><a id="GUID-0F73C5F2-7154-4E3F-9905-59C24CF44BC9" name="GUID-0F73C5F2-7154-4E3F-9905-59C24CF44BC9"></a><h3 id="ARPLS-GUID-0F73C5F2-7154-4E3F-9905-59C24CF44BC9" class="sect3"><span class="enumeration_section">168.4</span> DBMS_TDB视图</h3>
               <div>
                  <p><code class="codeph">DBMS_TDB</code>包使用<code class="codeph">V$DB_TRANSPORTABLE_PLATFORM</code>视图。
                  </p>
                  <div class="section">
                     <p><a href="../refrn/V-DB_TRANSPORTABLE_PLATFORM.html#REFRN30376" target="_blank"><span class="italic">Oracle数据库参考中</span></a>描述了此视图<a href="../refrn/V-DB_TRANSPORTABLE_PLATFORM.html#REFRN30376" target="_blank">。</a></p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="../refrn/V-DB_TRANSPORTABLE_PLATFORM.html#REFRN30376" target="_blank"><code class="codeph">V$DB_TRANSPORTABLE_PLATFORM</code></a> ，指定源平台和目标平台的哪些组合支持数据库传输</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS68859"></a><a id="ARPLS68859"></a><div class="props_rev_3"><a id="GUID-51ACFA4C-05B3-46A3-AA15-7D008B2D5D4C" name="GUID-51ACFA4C-05B3-46A3-AA15-7D008B2D5D4C"></a><h3 id="ARPLS-GUID-51ACFA4C-05B3-46A3-AA15-7D008B2D5D4C" class="sect3"><span class="enumeration_section">168.5</span> DBMS_TDB操作说明</h3>
               <div>
                  <p>以下说明适用于<code class="codeph">DBMS_TDB</code> 。</p>
                  <div class="section">
                     <ul style="list-style-type:disc">
                        <li>
                           <p>此程序包中的子程序既可用于确定是否可以进行所需的跨平台数据库转换，也可用于检查数据库是否已准备好进行转换。有关在转换过程中使用这些子程序的不同用法的详细信息，请参阅“ <a href="../sqlrf/SQL-Statements-ALTER-LIBRARY-to-ALTER-SESSION.html#SQLRF009" target="_blank"><span class="italic">Oracle数据库备份和恢复用户指南”</span></a> 。
                           </p>
                        </li>
                        <li>
                           <p>此包中的子程序返回简单的<code class="codeph">TRUE</code>或<code class="codeph">FALSE</code>结果，以指示是否可以进行数据库传输。将子程序与<code class="codeph">SERVEROUTPUT</code> <code class="codeph">ON</code>一起使用，以获取有关无法进行传输的信息。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS65002"></a><a id="ARPLS68860"></a><a id="ARPLS68860"></a><a id="ARPLS65002"></a><div class="props_rev_3"><a id="GUID-037005A9-E7BC-48ED-A4E1-2BD3311F45AF" name="GUID-037005A9-E7BC-48ED-A4E1-2BD3311F45AF"></a><h3 id="ARPLS-GUID-037005A9-E7BC-48ED-A4E1-2BD3311F45AF" class="sect3"><span class="enumeration_section">168.6</span> DBMS_TDB子程序摘要</h3>
               <div>
                  <p>该表列出了<code class="codeph">DBMS_TDB</code>子程序并简要描述了它们。
                  </p>
                  <div class="tblformal" id="GUID-037005A9-E7BC-48ED-A4E1-2BD3311F45AF__GUID-33C7D31B-AD01-4441-9F71-F01928DAF30A">
                     <p class="titleintable">表168-2 DBMS_TDB程序包子程序</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_TDB包子程序" width="100%" border="1" summary="This table lists the DBMS_TDB subprograms in alphabetical order and briefly describes them." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="39%" id="d1045562e880">子程序</th>
                              <th align="left" valign="bottom" width="61%" id="d1045562e883">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d1045562e888" headers="d1045562e880 ">
                                 <p><a href="DBMS_TDB.html#GUID-25337A9F-A859-4295-BFD0-8DDD1ABBC7F7" title="此函数检查数据库是否可以传输到目标平台。它测试是否支持给定源和目标平台的传输，以及数据库当前是否处于正确的传输状态。">CHECK_DB函数</a></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d1045562e888 d1045562e883 ">
                                 <p>检查数据库是否可以传输到目标平台</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d1045562e900" headers="d1045562e880 ">
                                 <p><a href="DBMS_TDB.html#GUID-0FDC4AC5-8CB9-45FB-AF1D-2D839BCDBB05" title="此函数确定数据库是否具有外部表，目录或BFILE。">CHECK_EXTERNAL函数</a></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d1045562e900 d1045562e883 ">
                                 <p>检查数据库是否具有外部表，目录或BFILE</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div><a id="ARPLS68861"></a><a id="ARPLS68862"></a><a id="ARPLS68863"></a><a id="ARPLS68862"></a><a id="ARPLS68863"></a><a id="ARPLS68861"></a><div class="props_rev_3"><a id="GUID-25337A9F-A859-4295-BFD0-8DDD1ABBC7F7" name="GUID-25337A9F-A859-4295-BFD0-8DDD1ABBC7F7"></a><h4 id="ARPLS-GUID-25337A9F-A859-4295-BFD0-8DDD1ABBC7F7" class="sect4"><span class="enumeration_section">168.6.1</span> CHECK_DB函数</h4>
                  <div>
                     <p>此函数检查数据库是否可以传输到目标平台。它测试是否支持给定源和目标平台的传输，以及数据库当前是否处于正确的传输状态。</p>
                     <div class="section">
                        <p>如果您不打算传输它们，则可以指定是否跳过检查数据库的只读或脱机部分。</p>
                        <p>该功能已超载。每种语法形式的不同功能与定义一起呈现。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-25337A9F-A859-4295-BFD0-8DDD1ABBC7F7__GUID-55D72AF6-D7AF-4536-A85A-931EEC9F6863">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_TDB.CHECK_DB（target_platform_name IN VARCHAR2，skip_option IN NUMBER）RETURN BOOLEAN; DBMS_TDB.CHECK_DB（target_platform_name IN VARCHAR2）RETURN BOOLEAN; DBMS_TDB.CHECK_DB RETURN BOOLEAN;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-25337A9F-A859-4295-BFD0-8DDD1ABBC7F7__GUID-D3871A98-5524-4A88-810E-F35BA35FF2BA">参数</p>
                        <div class="tblformal" id="GUID-25337A9F-A859-4295-BFD0-8DDD1ABBC7F7__GUID-A399228C-4003-40E3-890F-33C2A197BDA5">
                           <p class="titleintable">表168-3 CHECK_DB函数参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="CHECK_DB函数参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_TDB.CHECK_DB function." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="30%" id="d1045562e1028">参数</th>
                                    <th align="left" valign="bottom" width="70%" id="d1045562e1031">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d1045562e1036" headers="d1045562e1028 ">
                                       <p><code class="codeph">target_platform_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d1045562e1036 d1045562e1031 ">
                                       <p>目标平台的名称，如<a href="../refrn/V-DB_TRANSPORTABLE_PLATFORM.html#REFRN30376" target="_blank"><code class="codeph">V$DB_TRANSPORTABLE_PLATFORM</code></a> 。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d1045562e1049" headers="d1045562e1028 ">
                                       <p><code class="codeph">skip_option</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d1045562e1049 d1045562e1031 ">
                                       <p>指定在检查是否可以传输数据库时要跳过的数据库的哪些部分（如果有）。<a href="DBMS_TDB.html#GUID-F0856DFE-9D5C-4EE0-BEF3-34A5B2D2BA95__BDCFFGJG" title="此表描述DBMS_TDB子程序使用的常量。">表168-1</a>中列出了支持的值。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-25337A9F-A859-4295-BFD0-8DDD1ABBC7F7__GUID-6C181435-C5A0-431B-9A88-5FA62B7330CF">返回值</p>
                        <p>如果数据库无法传输到目标平台或未准备好传输，则返回<code class="codeph">FALSE</code> 。如果数据库已准备好进行传输，则返回<code class="codeph">TRUE</code> 。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-25337A9F-A859-4295-BFD0-8DDD1ABBC7F7__GUID-C94C3106-0ACE-444C-A4A0-0603D191A169">使用说明</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>如果<code class="codeph">SERVEROUTPUT</code>为<code class="codeph">ON</code> ，则输出将包含无法传输数据库的原因以及如何解决问题。有关可能的原因和修复的详细信息，请参阅<a href="DBMS_TDB.html#GUID-25337A9F-A859-4295-BFD0-8DDD1ABBC7F7__BDCEIIGD" title="此表描述了DBMS_TDB.CHECK_DB返回FALSE的原因以及解决它们的操作。">表168-4</a> 。
                              </p>
                              <div class="tblformal" id="GUID-25337A9F-A859-4295-BFD0-8DDD1ABBC7F7__BDCEIIGD">
                                 <p class="titleintable">表168-4 CHECK_DB函数返回FALSE的原因</p>
                                 <table cellpadding="4" cellspacing="0" class="Formal" title="CHECK_DB函数返回FALSE的原因" width="90%" border="1" summary="This table describes the causes for DBMS_TDB.CHECK_DB to return FALSE and the actions to resolve them." frame="hsides" rules="rows">
                                    <thead>
                                       <tr align="left" valign="top">
                                          <th align="left" valign="bottom" width="25%" id="d1045562e1100">原因</th>
                                          <th align="left" valign="bottom" width="75%" id="d1045562e1103">行动</th>
                                       </tr>
                                    </thead>
                                    <tbody>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="25%" id="d1045562e1108" headers="d1045562e1100 ">
                                             <p>无法识别的目标平台名称。</p>
                                          </td>
                                          <td align="left" valign="top" width="75%" headers="d1045562e1108 d1045562e1103 ">
                                             <p>检查<a href="../refrn/V-DB_TRANSPORTABLE_PLATFORM.html#REFRN30376" target="_blank"><code class="codeph">V$DB_TRANSPORTABLE_PLATFORM</code></a>以获取已识别的平台名称。
                                             </p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="25%" id="d1045562e1120" headers="d1045562e1100 ">
                                             <p>目标平台具有不同的endian格式。</p>
                                          </td>
                                          <td align="left" valign="top" width="75%" headers="d1045562e1120 d1045562e1103 ">
                                             <p>不支持转换。</p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="25%" id="d1045562e1127" headers="d1045562e1100 ">
                                             <p>数据库不是以只读方式打开的。</p>
                                          </td>
                                          <td align="left" valign="top" width="75%" headers="d1045562e1127 d1045562e1103 ">
                                             <p>以只读方式打开数据库并重试。</p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="25%" id="d1045562e1134" headers="d1045562e1100 ">
                                             <p>数据库中存在活动或不确定的事务。</p>
                                          </td>
                                          <td align="left" valign="top" width="75%" headers="d1045562e1134 d1045562e1103 ">
                                             <p>打开数据库读写。回滚活动事务后，以只读方式打开数据库并重试该操作。</p>
                                             <p>如果用户闪回数据库并将其打开，则会出现这种情况。当数据库以读写方式打开时，将回滚活动事务。</p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="25%" id="d1045562e1143" headers="d1045562e1100 ">
                                             <p>需要进行延迟事务回滚。</p>
                                          </td>
                                          <td align="left" valign="top" width="75%" headers="d1045562e1143 d1045562e1103 ">
                                             <p>打开数据库读写并将必要的表空间联机。延迟事务回滚完成后，以只读方式打开数据库并重试该操作。</p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="25%" id="d1045562e1150" headers="d1045562e1100 ">
                                             <p>数据库兼容性版本低于10.0.0。</p>
                                          </td>
                                          <td align="left" valign="top" width="75%" headers="d1045562e1150 d1045562e1103 ">
                                             <p>将<code class="codeph">COMPATIBLE</code>初始化参数更改为10.0.0或更高版本，以只读方式打开数据库，然后重试该操作。
                                             </p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="25%" id="d1045562e1160" headers="d1045562e1100 ">
                                             <p>某些表空间尚未打开读写，兼容版本为10.0.0或更高版本。</p>
                                          </td>
                                          <td align="left" valign="top" width="75%" headers="d1045562e1160 d1045562e1103 ">
                                             <p>将<code class="codeph">COMPATIBLE</code>初始化参数更改为10.0.0或更高版本，然后打开受影响的表空间读写。关闭数据库，以只读方式打开它，然后重试该操作。
                                             </p>
                                          </td>
                                       </tr>
                                    </tbody>
                                 </table>
                              </div>
                              <!-- class="inftblhruleinformal" -->
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-25337A9F-A859-4295-BFD0-8DDD1ABBC7F7__GUID-22CF40B4-97CB-44C9-83C6-F2EB322FE515">例子</p>
                        <p>此示例说明了<code class="codeph">CHECK_DB</code>与打开的读写数据库的使用：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; SET SERVEROUTPUT ON SQL&gt; DECLARE db_ready BOOLEAN; BEGIN db_ready：= DBMS_TDB.CHECK_DB（'Microsoft Windows IA（32位）'）;结束; /数据库未打开READ ONLY。请打开数据库READ ONLY并重试。PL / SQL过程成功完成。</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS68864"></a><a id="ARPLS68864"></a><div class="props_rev_3"><a id="GUID-0FDC4AC5-8CB9-45FB-AF1D-2D839BCDBB05" name="GUID-0FDC4AC5-8CB9-45FB-AF1D-2D839BCDBB05"></a><h4 id="ARPLS-GUID-0FDC4AC5-8CB9-45FB-AF1D-2D839BCDBB05" class="sect4"><span class="enumeration_section">168.6.2</span> CHECK_EXTERNAL函数</h4>
                  <div>
                     <p>此函数确定数据库是否具有外部表，目录或BFILE。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-0FDC4AC5-8CB9-45FB-AF1D-2D839BCDBB05__GUID-B94140E9-23A9-4CB6-BB3C-128AD02C701C">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_TDB.CHECK_EXTERNAL RETURN BOOLEAN;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-0FDC4AC5-8CB9-45FB-AF1D-2D839BCDBB05__GUID-B91BDDCF-0024-4620-87D9-63833B33B1D3">返回值</p>
                        <p>如果数据库具有外部表，目录或BFILE，则返回<code class="codeph">TRUE</code> 。否则，返回<code class="codeph">FALSE</code> 。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-0FDC4AC5-8CB9-45FB-AF1D-2D839BCDBB05__GUID-C1B7ACC2-0E52-4E0E-B363-9B9DFED6523D">使用说明</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>如果<code class="codeph">SERVEROUTPUT</code>为<code class="codeph">ON</code> ，则该函数将输出数据库中外部表，目录和BFILE的名称。
                              </p>
                           </li>
                           <li>
                              <p>数据库必须是可读写的。</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-0FDC4AC5-8CB9-45FB-AF1D-2D839BCDBB05__GUID-D9B335BE-93D0-4362-BAD9-69B6F1808E31">例子</p>
                        <p>此示例说明了<code class="codeph">CHECK_EXTERNAL</code>与具有多个外部表，目录和BFILE的数据库的使用：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; SET SERVEROUTPUT ON SQL&gt; DECLARE外部BOOLEAN; BEGIN external：= DBMS_TDB.CHECK_EXTERNAL;结束; /数据库中存在以下外部表：SH.SALES_TRANSACTIONS_EXT数据库中存在以下目录：SYS.MEDIA_DIR，SYS.DATA_FILE_DIR，SYS.LOG_FILE_DIR，SYS.DATA_PUMP_DIR数据库中存在以下BFILE：PM.PRINT_MEDIA PL / SQL程序顺利完成。</pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>