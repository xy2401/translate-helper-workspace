<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="Oracle Data Guard lets you set different data protection modes.">
      <meta name="description" content="Oracle Data Guard lets you set different data protection modes.">
      <title>Oracle Data Guard Protection Modes</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Concepts and Administration ">
      <meta property="og:description" content="Oracle Data Guard lets you set different data protection modes.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Concepts and Administration">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="data-guard-concepts-and-administration.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-02-12T10:50:21-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1999, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96244-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="creating-oracle-data-guard-far-sync-instance.html" title="Previous" type="text/html">
      <link rel="next" href="oracle-data-guard-redo-transport-services.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Data Guard Concepts and Administration">
    <meta name="dcterms.isVersionOf" content="SBYDB">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="creating-oracle-data-guard-far-sync-instance.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="oracle-data-guard-redo-transport-services.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Concepts and Administration </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="oracle-data-guard-concepts.html" property="item" typeof="WebPage"><span property="name">  Concepts and Administration </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> Oracle Data Guard Protection Modes</li>
            </ol>
            <a id="GUID-16298839-9B8A-4E58-8EC9-27912E57F1CE" name="GUID-16298839-9B8A-4E58-8EC9-27912E57F1CE"></a><a id="SBYDB02000"></a>
            
            <h2 id="SBYDB-GUID-16298839-9B8A-4E58-8EC9-27912E57F1CE" class="sect2"><span class="enumeration_chapter">6 </span> Oracle Data Guard Protection Modes
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>Oracle Data Guard lets you set different data protection modes.</p>
               <p>See the following topics for information about these modes and how to set them on a primary database:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="oracle-data-guard-protection-modes.html#GUID-7EF6EFEE-7E31-4F80-9C97-1B25DAA025F8" title="Oracle Data Guard provides three protection modes: maximum availability, maximum performance, and maximum protection.">Oracle Data Guard Protection Modes</a></p>
                  </li>
                  <li>
                     <p><a href="oracle-data-guard-protection-modes.html#GUID-5DB32C5F-3ABF-4AD4-AB41-208F1BF134BB" title="Protection mode settings can be set and changed on an open database as long as the configuration meets the requirements of the protection mode (including going from maximum performance mode to maximum availability mode).">Setting the Data Protection Mode of a Primary Database</a></p>
                  </li>
               </ul>
            </div><a id="SBYDB5024"></a><a id="SBYDB5160"></a><a id="SBYDB5025"></a><a id="SBYDB5026"></a><a id="SBYDB4743"></a><div class="props_rev_3"><a id="GUID-7EF6EFEE-7E31-4F80-9C97-1B25DAA025F8" name="GUID-7EF6EFEE-7E31-4F80-9C97-1B25DAA025F8"></a><h3 id="SBYDB-GUID-7EF6EFEE-7E31-4F80-9C97-1B25DAA025F8" class="sect3"><span class="enumeration_section">6.1 </span>Oracle Data Guard Protection Modes
               </h3>
               <div>
                  <p>Oracle Data Guard provides three protection modes: maximum availability, maximum performance, and maximum protection.</p>
                  <p>In the following descriptions of the protection modes, a synchronized standby database is meant to be one that meets the minimum requirements of the configured data protection mode and that does not have a redo gap. Redo gaps are discussed in <a href="oracle-data-guard-redo-transport-services.html#GUID-05CE1D49-3DEE-4AAC-A887-55ED436912AF" title="A redo gap occurs whenever redo transmission is interrupted.">Redo Gap Detection and Resolution</a>.
                  </p>
                  <div class="section" id="GUID-7EF6EFEE-7E31-4F80-9C97-1B25DAA025F8__BABIEACF">
                     <p class="subhead2" id="GUID-7EF6EFEE-7E31-4F80-9C97-1B25DAA025F8__GUID-7DA1D2E8-3CA8-45A5-AC55-E866B2E2100D">Maximum Availability</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>This protection mode provides the highest level of data protection that is possible without compromising the availability of a primary database. Under normal operations, transactions do not commit until all redo data needed to recover those transactions has been written to the online redo log AND based on user configuration, one of the following is true:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>redo has been received at the standby, I/O to the standby redo log has been initiated, and acknowledgement sent back to primary</p>
                        </li>
                        <li>
                           <p>redo has been received and written to standby redo log at the standby and acknowledgement sent back to primary</p>
                        </li>
                     </ul>
                     <p>If the primary does not receive acknowledgement from at least one synchronized standby, then it operates as if it were in maximum performance mode to preserve primary database availability until it is again able to write its redo stream to a synchronized standby database.</p>
                     <p>If the primary database fails, then this mode ensures no data loss occurs provided there is at least one synchronized standby in the Oracle Data Guard configuration. See <span class="q">"<a href="oracle-data-guard-protection-modes.html#GUID-7EF6EFEE-7E31-4F80-9C97-1B25DAA025F8__BABBFEGF">Performance Versus Protection in Maximum Availability Mode</a>"</span> for information about the redo transport settings necessary to support Maximum Availability and associated trade-offs.
                     </p>
                     <p>Transactions on the primary are considered protected as soon as Oracle Data Guard has written the redo data to persistent storage in a standby redo log file. Once that is done, acknowledgment is quickly made back to the primary database so that it can proceed to the next transaction. This minimizes the impact of synchronous transport on primary database throughput and response time. To fully benefit from complete Oracle Data Guard validation at the standby database, be sure to operate in real-time apply mode so that redo changes are applied to the standby database as fast as they are received. Oracle Data Guard signals any corruptions that are detected so that immediate corrective action can be taken. </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-7EF6EFEE-7E31-4F80-9C97-1B25DAA025F8__BABBFEGF">
                     <p class="subhead2" id="GUID-7EF6EFEE-7E31-4F80-9C97-1B25DAA025F8__GUID-38C9145E-E00E-4590-8C29-210F720D9ED9">Performance Versus Protection in Maximum Availability Mode</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>When you use Maximum Availability mode, it is important to understand the possible results of using the <code class="codeph">LOG_ARCHIVE_DEST_</code><span class="italic"><code class="codeph">n</code></span> attributes <code class="codeph">SYNC</code>/<code class="codeph">AFFIRM</code> versus <code class="codeph">SYNC</code>/<code class="codeph">NOAFFIRM</code> (FastSync<a id="d14585e222" class="indexterm-anchor"></a>) so that you can make the choice best suited to your needs.
                     </p>
                     <p>When a transport is performed using <code class="codeph">SYNC/AFFIRM</code>, the primary performs write operations and waits for acknowledgment that the redo has been transmitted synchronously to the physical standby and written to disk. A <code class="codeph">SYNC/AFFIRM</code> transport provides an additional protection benefit at the expense of a performance impact caused by the time required to complete the I/O to the standby redo log.
                     </p>
                     <p>When a transport is performed using <code class="codeph">SYNC/NOAFFIRM</code>, the primary performs write operations and waits only for acknowledgement that the data has been received on the standby, <span class="italic">not</span> that it has been written to disk. The <code class="codeph">SYNC/NOAFFIRM</code> transport can provide a performance benefit at the expense of potential exposure to data loss in a special case of multiple simultaneous failures.
                     </p>
                     <p>With those definitions in mind, suppose you experience a catastrophic failure at the primary site at the same time that power is lost at the standby site. Whether data is lost depends on the transport mode being used. In the case of <code class="codeph">SYNC/AFFIRM</code>, in which there is a check to confirm that data is written to disk on the standby, there would be no data loss because the data would be available on the standby when the system was recovered. In the case of <code class="codeph">SYNC/NOAFFIRM</code>, in which there is no check that data has been written to disk on the standby, there may be some data loss.
                     </p>
                     <div class="infoboxnotealso" id="GUID-7EF6EFEE-7E31-4F80-9C97-1B25DAA025F8__GUID-DB555252-EC63-494C-BDAE-D86C4843825B">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="LOG_ARCHIVE_DEST_n-parameter-attributes.html#GUID-B04FC22C-F0B0-440F-BAF4-182EE547FCC1" title="This is a list of the attributes for the LOG_ARCHIVE_DEST_n initialization parameter, (where n is an integer between 1 and 31)."> LOG_ARCHIVE_DEST_n Parameter Attributes</a> for more information about the <code class="codeph">SYNC</code>, <code class="codeph">AFFIRM</code>, and <code class="codeph">NOAFFIRM</code> attributes
                              </p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sbydb&amp;id=DGBKR175" target="_blank"><span class="italic">Oracle Data Guard Broker</span></a> for information about transporting redo in a broker configuration using <code class="codeph">FASTSYNC</code> mode (using <code class="codeph">SYNC</code> and <code class="codeph">NOAFFIRM</code> together in maximum availability mode)
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-7EF6EFEE-7E31-4F80-9C97-1B25DAA025F8__GUID-B244C2F8-360D-46E8-ADEF-7B3FEFA693FD">Maximum Performance</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>This protection<a id="d14585e306" class="indexterm-anchor"></a><a id="d14585e310" class="indexterm-anchor"></a> mode provides the highest level of data protection that is possible without affecting the performance of a primary database. This is accomplished by allowing transactions to commit as soon as all redo data generated by those transactions has been written to the online log. Redo data is also written to one or more standby databases, but this is done asynchronously with respect to transaction commitment, so primary database performance is unaffected by the time required to transmit redo data and receive acknowledgment from a standby database.
                     </p>
                     <p>This protection mode offers slightly less data protection than maximum availability mode and has minimal impact on primary database performance. </p>
                     <p>This is the default protection mode.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-7EF6EFEE-7E31-4F80-9C97-1B25DAA025F8__GUID-21CEBAB3-35E0-4FD0-8DFC-E0C4F6D26203">Maximum Protection</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>Maximum protection is similar to maximum availability but provides an additional level of data protection in the event of multiple failure events. Unlike maximum availability, which allows the primary to continue processing if it is unable to receive acknowledgement from a standby database, maximum protection shuts the primary database down rather than allowing it to continue processing transactions that are unprotected.</p>
                     <p>Because this data protection mode prioritizes data protection over primary database availability, Oracle recommends that a minimum of two standby databases be used to protect a primary database that runs in maximum protection mode to prevent a single standby database failure from causing the primary database to shut down.</p>
                     <div class="infoboxnote" id="GUID-7EF6EFEE-7E31-4F80-9C97-1B25DAA025F8__GUID-D12AEA3C-220F-44A4-B737-7775E1F7E8CE">
                        <p class="notep1">Note:</p>
                        <p>Asynchronously committed transactions are not protected by Oracle Data Guard against loss until the redo generated by those transactions has been written to the standby redo log of at least one synchronized standby database.</p>
                        <p>For more information about the asynchronous commit feature, see: </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sbydb&amp;id=CNCPT1119" target="_blank"><span class="italic">Oracle Database Concepts</span></a></p>
                           </li>
                           <li>
                              <p><a href="../lnpls/static-sql.html#LNPLS006" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="SBYDB5465"></a><a id="SBYDB4744"></a><div class="props_rev_3"><a id="GUID-5DB32C5F-3ABF-4AD4-AB41-208F1BF134BB" name="GUID-5DB32C5F-3ABF-4AD4-AB41-208F1BF134BB"></a><h3 id="SBYDB-GUID-5DB32C5F-3ABF-4AD4-AB41-208F1BF134BB" class="sect3"><span class="enumeration_section">6.2 </span>Setting the Data Protection Mode of a Primary Database
               </h3>
               <div>
                  <p>Protection mode settings can be set and changed on an open database as long as the configuration meets the requirements of the protection mode (including going from maximum performance mode to maximum availability mode).</p>
                  <div class="section">
                     <p>Perform the following steps to set the data protection mode of a primary database:</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>Select a data protection mode that meets your availability, performance, and data protection requirements. See <a href="oracle-data-guard-protection-modes.html#GUID-7EF6EFEE-7E31-4F80-9C97-1B25DAA025F8" title="Oracle Data Guard provides three protection modes: maximum availability, maximum performance, and maximum protection.">Oracle Data Guard Protection Modes</a> for a description of the data protection modes.</span></li>
                     <li class="stepexpand"><span>Verify that at least one standby database meets the redo transport requirements for the desired data protection mode. </span><div>
                           <p>The <code class="codeph">LOG_ARCHIVE_DEST_</code><span class="italic"><code class="codeph">n</code></span>  database initialization parameter that corresponds to at least one standby database must include the redo transport attributes listed in the following table for the desired data protection mode.
                           </p>
                           <p>The standby database must also have a standby redo log.</p>
                           <div class="tblformal" id="GUID-5DB32C5F-3ABF-4AD4-AB41-208F1BF134BB__GUID-E1E38604-FF2D-45B7-B5DD-34F043E10017">
                              <p class="titleintable">Table 6-1 Required Redo Transport Attributes for Data Protection Modes</p>
                              <table cellpadding="4" cellspacing="0" class="Formal" title="Required Redo Transport Attributes for Data Protection Modes" summary="This 3 column tables lists the required Redo Transport Attributes. Column 1 is maximum availability. Column 2 is maximum performance. Column 1 is maximum protection.  " width="90%" frame="hsides" border="1" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="33%" id="d14585e462">Maximum Availability</th>
                                       <th align="left" valign="bottom" width="33%" id="d14585e465">Maximum Performance</th>
                                       <th align="left" valign="bottom" width="33%" id="d14585e468">Maximum Protection</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="33%" id="d14585e473" headers="d14585e462 ">
                                          <p><code class="codeph">AFFIRM</code> or <code class="codeph">NOAFFIRM</code></p>
                                       </td>
                                       <td align="left" valign="top" width="33%" headers="d14585e473 d14585e465 ">
                                          <p><code class="codeph">NOAFFIRM</code></p>
                                       </td>
                                       <td align="left" valign="top" width="33%" headers="d14585e473 d14585e468 ">
                                          <p><code class="codeph">AFFIRM</code></p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="33%" id="d14585e489" headers="d14585e462 ">
                                          <p><code class="codeph">SYNC</code></p>
                                       </td>
                                       <td align="left" valign="top" width="33%" headers="d14585e489 d14585e465 ">
                                          <p><code class="codeph">ASYNC</code></p>
                                       </td>
                                       <td align="left" valign="top" width="33%" headers="d14585e489 d14585e468 ">
                                          <p><code class="codeph">SYNC</code></p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="33%" id="d14585e502" headers="d14585e462 ">
                                          <p><code class="codeph">DB_UNIQUE_NAME</code></p>
                                       </td>
                                       <td align="left" valign="top" width="33%" headers="d14585e502 d14585e465 ">
                                          <p><code class="codeph">DB_UNIQUE_NAME</code></p>
                                       </td>
                                       <td align="left" valign="top" width="33%" headers="d14585e502 d14585e468 ">
                                          <p><code class="codeph">DB_UNIQUE_NAME</code></p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                        </div>
                     </li>
                     <li class="stepexpand"><span>Verify that the <code class="codeph">DB_UNIQUE_NAME</code> database initialization parameter has been set to a unique value on the primary database and on each standby database.</span></li>
                     <li class="stepexpand"><span>Verify that the <code class="codeph">LOG_ARCHIVE_CONFIG</code> database initialization parameter has been defined on the primary database and on each standby database, and that its value includes a <code class="codeph">DG_CONFIG</code> list that includes the <code class="codeph">DB_UNIQUE_NAME</code> of the primary database and each standby database.</span><div>
                           <p>The following sample SQL statement configures the <code class="codeph">LOG_ARCHIVE_CONFIG</code> parameter:
                           </p><pre class="oac_no_warn" dir="ltr">SQL&gt; ALTER SYSTEM SET LOG_ARCHIVE_CONFIG='DG_CONFIG=(CHICAGO,BOSTON)';
</pre></div>
                     </li>
                     <li class="stepexpand"><span>Set the data protection mode by executing the following SQL statement on the primary database:</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; ALTER DATABASE -
&gt; SET STANDBY DATABASE TO MAXIMIZE {AVAILABILITY | PERFORMANCE | PROTECTION};
</pre><p>The data protection mode can be set to <code class="codeph">MAXIMUM</code> <code class="codeph">PROTECTION</code> on an open database only if the current data protection mode is <code class="codeph">MAXIMUM</code> <code class="codeph">AVAILABILITY</code> and if there is at least one synchronized standby database.
                           </p>
                        </div>
                     </li>
                     <li class="stepexpand"><span>Perform the following query on the primary database to confirm that it is operating in the new protection mode:</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT PROTECTION_MODE FROM V$DATABASE;</pre></div>
                     </li>
                  </ol>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>