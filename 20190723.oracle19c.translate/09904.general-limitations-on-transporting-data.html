<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="There are general limitations on transporting data. There are also limitations that are specific to full transportable export/import, transportable tablespaces, or transportable tables."></meta>
      <meta name="description" content="There are general limitations on transporting data. There are also limitations that are specific to full transportable export/import, transportable tablespaces, or transportable tables."></meta>
      <title>传输数据的一般限制</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Migrating Non-CDBs to New Hardware with a Different Endian Operating System and for a New Release"></meta>
      <meta property="og:description" content="There are general limitations on transporting data. There are also limitations that are specific to full transportable export/import, transportable tablespaces, or transportable tables."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Migrating Non-CDBs to New Hardware with a Different Endian Operating System and for a New Release"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="migrating-non-cdbs-new-hardware-different-endian-operating-system-and-new-release.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-08T17:29:29-08:00"></meta>
      <meta name="dcterms.title" content="Migrating Non-CDBs to New Hardware with a Different Endian Operating System and for a New Release"></meta>
      <meta name="dcterms.dateCopyrighted" content="2018, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="F10900-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="transporting-data-across-platforms.html" title="Previous" type="text/html"></link>
      <link rel="next" href="compatibility-considerations-for-transporting-data.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="SPMDU"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="transporting-data-across-platforms.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="compatibility-considerations-for-transporting-data.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">使用不同的Endian操作系统和新版本将非CDB迁移到新硬件</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="transportable-tablespaces.html" property="item" typeof="WebPage"><span property="name">使用可传输表空间迁移数据</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">传输数据的一般限制</li>
            </ol>
            <a id="GUID-28800719-6CB9-4A71-95DD-4B61AA603173" name="GUID-28800719-6CB9-4A71-95DD-4B61AA603173"></a>
            
            <h2 id="SPMDU-GUID-28800719-6CB9-4A71-95DD-4B61AA603173" class="sect2">传输数据的一般限制</h2>
         </header>
         <div class="ind">
            <div>
               <p>传输数据存在一般限制。还存在特定于完全可传输导出/导入，可传输表空间或可传输表的限制。</p>
               <p>您计划传输数据时请注意以下一般限制：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p>源数据库和目标数据库必须使用兼容的数据库字符集。具体而言，必须满足以下条件之一：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>源数据库和目标数据库的数据库字符集是相同的。</p>
                        </li>
                        <li>
                           <p>源数据库字符集是目标数据库字符集的严格（二进制）子集，并且满足以下三个条件：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>源数据库是Oracle数据库<span class="italic">10g</span>第1版（10.1.0.3）或更高版本。
                                 </p>
                              </li>
                              <li>
                                 <p>要传输的表空间不包含具有字符长度语义的表列，或者源数据库字符集和目标数据库字符集中的最大字符宽度相同。</p>
                              </li>
                              <li>
                                 <p>要传输的数据不包含具有<code class="codeph">CLOB</code>数据类型的列，或者源数据库字符集和目标数据库字符集都是单字节或两者都是多字节的。
                                 </p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p>源数据库字符集是目标数据库字符集的严格（二进制）子集，并且满足以下两个条件：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>源数据库位于Oracle Database <span class="italic">10g</span>第1版（10.1.0.3）之前。
                                 </p>
                              </li>
                              <li>
                                 <p>源数据库字符集和目标数据库字符集中的最大字符宽度相同。</p>
                              </li>
                           </ul>
                        </li>
                     </ul>
                     <div class="infoboxnote" id="GUID-28800719-6CB9-4A71-95DD-4B61AA603173__GUID-8FDC40DD-E377-450A-B74E-9A4F9B49EBA6">
                        <p class="notep1">注意：</p>
                        <p><a href="../nlspg/appendix-A-locale-data.html#NLSPG584" target="_blank"><span class="italic">Oracle数据库全球化支持指南</span></a>中介绍了<a href="../nlspg/appendix-A-locale-data.html#NLSPG584" target="_blank"><span class="italic">Oracle数据库</span></a>识别的字符集之间的子集 - 超集关系。
                        </p>
                     </div>
                  </li>
                  <li>
                     <p>源数据库和目标数据库必须使用兼容的国家字符集。具体而言，必须满足以下条件之一：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>源数据库和目标数据库的国家字符集是相同的。</p>
                        </li>
                        <li>
                           <p>源数据库是Oracle数据库<span class="italic">10g</span>第1版（10.1.0.3）或更高版本，要传输的表空间不包含具有<code class="codeph">NCHAR</code> ， <code class="codeph">NVARCHAR2</code>或<code class="codeph">NCLOB</code>数据类型的列。
                           </p>
                        </li>
                     </ul>
                  </li>
                  <li>
                     <p>运行可传输导出操作时，以下限制适用：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>执行导出的用户的默认表空间不能是正在传输的表空间之一。</p>
                        </li>
                        <li>
                           <p>执行导出的用户的默认表空间必须是可写的。</p>
                        </li>
                     </ul>
                  </li>
                  <li>
                     <p>在非CDB中，您无法将表空间传输到包含同名表空间的目标数据库。</p>
                     <p>在CDB中，您无法将表空间传输到包含同名表空间的目标容器。但是，不同的容器可以具有相同名称的表空间。</p>
                     <p>您可以使用<code class="codeph">REMAP_TABLESPACE</code>导入参数将数据库对象导入到其他表空间中。或者，在传输操作之前，您可以重命名要传输的表空间或目标表空间。
                     </p>
                     <p>从Oracle Database 12 <span class="italic">c</span>第2版（12.2）开始，Recovery Manager（RMAN） <code class="codeph">RECOVER</code>命令可以在重新映射表空间时将表移动到其他模式。有关更多信息，请参见“ <a href="../bradv/rman-recovering-tables-partitions.html#BRADV-GUID-907031B5-B355-43D8-8E2B-A0A6F2283BD7" target="_blank"><span><cite>Oracle数据库备份和恢复用户指南”</cite></span></a> 。
                     </p>
                  </li>
                  <li>
                     <p>在CDB中，默认的数据泵目录对象<code class="codeph">DATA_PUMP_DIR</code>不适用于PDB。您必须在PDB中使用Data Pump导出/导入定义显式目录对象。
                     </p>
                  </li>
                  <li>
                     <p>使用XMLTypes传输数据具有以下限制：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>目标数据库必须安装XML DB。</p>
                        </li>
                        <li>
                           <p>XMLType表引用的模式不能是XML DB标准模式。</p>
                        </li>
                        <li>
                           <p>如果目标数据库中不存在传输的XMLType表的模式，则会导入并注册该模式。如果目标数据库中已存在架构，则在导入期间将显示一条消息。</p>
                        </li>
                        <li>
                           <p>您必须仅使用Data Pump导出和导入包含XMLTypes的数据的元数据。</p>
                        </li>
                     </ul>
                     <p>以下查询返回包含XMLTypes的表空间列表：</p><pre class="oac_no_warn" dir="ltr">从dba_tablespaces p中选择distinct p.tablespace_name，dba_xml_tables x，dba_users u，all_all_tables t其中t.table_name = x.table_name和t.tablespace_name = p.tablespace_name和x.owner = u.username;</pre><p>有关XMLTypes的信息，请参阅<a href="../adxdb/intro-to-XML-DB.html#ADXDB3970" target="_blank"><span class="italic">Oracle XML DB Developer's Guide</span></a> 。
                     </p>
                  </li>
                  <li>
                     <p>可以传输其解释是特定于应用程序且对数据库不透明的类型（例如<code class="codeph">RAW</code> ， <code class="codeph">BFILE</code>和AnyTypes），但它们不会作为跨平台传输操作的一部分进行转换。它们的实际结构仅为应用程序所知，因此应用程序必须在将这些类型移动到新平台后解决任何字节序问题。直接或间接使用这些不透明类型的类型和对象也受此限制。
                     </p>
                  </li>
                  <li>
                     <p>在具有不同时区的数据库之间传输包含具有<code class="codeph">TIMESTAMP</code> <code class="codeph">WITH</code> <code class="codeph">LOCAL</code> <code class="codeph">TIME</code> <code class="codeph">ZONE</code> （TSLTZ）数据的表的表空间时，不传输具有TSLTZ数据的表。错误消息描述未传输的表。但是，表空间中不包含TSLTZ数据的表将被传输。
                     </p>
                     <p>您可以使用以下查询确定数据库的时区：</p><pre class="oac_no_warn" dir="ltr">从DUAL中选择DBTIMEZONE;</pre><p>您可以使用<code class="codeph">ALTER</code> <code class="codeph">DATABASE</code> SQL语句<code class="codeph">ALTER</code> <code class="codeph">DATABASE</code>的时区。
                     </p>
                     <p>传输操作完成后，您可以使用Data Pump执行传统的TSLTZ数据表导出/导入。</p>
                  </li>
                  <li>
                     <p>分析工作区不能成为跨平台传输操作的一部分。如果源平台和目标平台不同，则使用数据泵导出/导入来导出和导入分析工作区。有关分析工作区的详细信息，请参阅<a href="../oladm/olap-dml-basic-concepts.html#OLADM107" target="_blank"><span class="italic">Oracle OLAP DML参考</span></a> 。
                     </p>
                  </li>
               </ul>
               <div class="infoboxnote" id="GUID-28800719-6CB9-4A71-95DD-4B61AA603173__GUID-1CE8C3EE-8D71-422D-85EF-2A94ECFCB736">
                  <p class="notep1">注意：</p>
                  <p>除Oracle技术支持部门要求外，不要将数据泵导出实用程序<code class="codeph">expdp</code>或导入实用程序<code class="codeph">impdp</code>作为<code class="codeph">SYSDBA</code>调用。<code class="codeph">SYSDBA</code>在内部使用，具有专门的功能;它的行为与普通用户不同。
                  </p>
               </div>
            </div>
            <div>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>父主题：</strong> <a href="transportable-tablespaces.html#GUID-65DF5CB7-A79E-41DF-BCD3-51A55B7B512D" title="可传输表空间和可传输表传输驻留在用户定义的表空间中的数据。">使用可传输表空间迁移数据</a></p>
                  </div>
               </div>
            </div>
            
         </div>
      </article>
   </body>
</html>