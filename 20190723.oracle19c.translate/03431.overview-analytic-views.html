<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="Analytic views are metadata objects that enable the user to quickly and easily create complex hierarchical and dimensional queries on data in database tables and views."></meta>
      <meta name="description" content="Analytic views are metadata objects that enable the user to quickly and easily create complex hierarchical and dimensional queries on data in database tables and views."></meta>
      <title>分析视图概述</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Data Warehousing Guide"></meta>
      <meta property="og:description" content="Analytic views are metadata objects that enable the user to quickly and easily create complex hierarchical and dimensional queries on data in database tables and views."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Data Warehousing Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-data-warehousing-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-09T00:20:13-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2001, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96243-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="part-analytic-views.html" title="Previous" type="text/html"></link>
      <link rel="next" href="analytic-view-attribute-dimensions.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Data Warehousing Guide"></meta>
    <meta name="dcterms.isVersionOf" content="DWHSG"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="part-analytic-views.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="analytic-view-attribute-dimensions.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">数据仓库指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="part-analytic-views.html" property="item" typeof="WebPage"><span property="name">分析观点</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">分析视图概述</li>
            </ol>
            <a id="GUID-D384C4EE-1671-4F89-BC69-2D3133194869" name="GUID-D384C4EE-1671-4F89-BC69-2D3133194869"></a><a id="RESOURCEID-18323-7EE80A8A"></a>
            
            <h2 id="DWHSG-GUID-D384C4EE-1671-4F89-BC69-2D3133194869" class="sect2"><span class="enumeration_chapter">24</span>分析视图概述</h2>
         </header>
         <div class="ind">
            <div>
               <p>分析视图是元数据对象，使用户能够快速轻松地对数据库表和视图中的数据创建复杂的分层和维度查询。</p>
               <p>以下主题描述了分析视图的一般注意事项。</p>
               <div class="section">
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="overview-analytic-views.html#GUID-2A7F2187-752E-44D9-B674-C32C9A397638" title="分析视图提供了一种快速有效的方法来创建存储在现有数据库表和视图中的数据的分析查询。">什么是分析观点？</a></p>
                     </li>
                     <li>
                        <p><a href="overview-analytic-views.html#GUID-6F948948-6AE6-4A89-8AAC-5B8952CEF41D" title="描述可用于分析视图，属性维和层次结构的系统和对象特权。">分析视图的权限</a></p>
                     </li>
                     <li>
                        <p><a href="overview-analytic-views.html#GUID-FC745EA1-721D-48E3-96D1-B4DE1758AFF8" title="分析视图的应用程序编程接口由SQL DDL语句，PL / SQL过程和函数以及数据字典视图组成。">分析视图的应用程序编程接口</a></p>
                     </li>
                     <li>
                        <p><a href="overview-analytic-views.html#GUID-71DF15E8-9AE8-4EB1-9D65-84E88D5A48A5" title="在创建或更改属性维，层次结构或分析视图时，Oracle数据库会确定对象元数据的内部有效性。">分析视图的编译状态</a></p>
                     </li>
                     <li>
                        <p><a href="overview-analytic-views.html#GUID-73BE6787-3590-46FB-86F0-D402C244A687" title="为确保查询结果的准确性，必须验证层次结构和分析视图的数据。">验证数据</a></p>
                     </li>
                     <li>
                        <p><a href="overview-analytic-views.html#GUID-DEC26050-9DC9-4F04-BDB5-182045AB1AD7" title="分类为属性维度，层次结构和分析视图对象及其组件（如属性维度键，属性，级别和度量）提供描述性元数据。">分析视图的分类</a></p>
                     </li>
                     <li>
                        <p><a href="overview-analytic-views.html#GUID-29F53415-B445-41F3-9B8C-3867576A9728" title="您可以与应用程序容器共享分析视图。">与应用程序容器共享分析视图</a></p>
                     </li>
                     <li>
                        <p><a href="overview-analytic-views.html#GUID-EB33CFE6-21A7-40A5-9AD7-B868D39AD602" title="使用SQL DDL语句，您可以更改对象的名称，也可以删除它。">更改或删除分析视图对象</a></p>
                     </li>
                     <li>
                        <p><a href="overview-analytic-views.html#GUID-51534FD7-A388-4378-9DD5-93004CD91E19" title="本节介绍分析视图示例所基于的数据，并包含创建分析视图组件对象的SQL语句。">示例的数据和脚本</a></p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
            </div><a id="RESOURCEID-183323-7FDAC1B6"></a><div class="sect2"><a id="GUID-2A7F2187-752E-44D9-B674-C32C9A397638" name="GUID-2A7F2187-752E-44D9-B674-C32C9A397638"></a><h3 id="DWHSG-GUID-2A7F2187-752E-44D9-B674-C32C9A397638" class="sect3"><span class="enumeration_section">24.1</span>什么是分析观点？
               </h3>
               <div>
                  <p>分析视图提供了一种快速有效的方法来创建存储在现有数据库表和视图中的数据的分析查询。</p>
                  <p>分析视图使用维模型组织数据。它们允许您轻松地向数据集添加聚合和计算，并在可以使用相对简单的SQL查询的视图中显示数据。</p>
                  <p>与标准关系视图一样，分析视图：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>是元数据对象（即，它们不存储数据）</p>
                     </li>
                     <li>
                        <p>可以使用SQL查询</p>
                     </li>
                     <li>
                        <p>可以从其他数据库对象（如表，视图和外部表）访问数据</p>
                     </li>
                     <li>
                        <p>可以将多个表连接到单个视图中</p>
                     </li>
                  </ul>
                  <p>分析意见还：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>使用具有维度和分层概念的丰富业务模型来组织数据</p>
                     </li>
                     <li>
                        <p>包括具有分层数据的系统生成列</p>
                     </li>
                     <li>
                        <p>自动聚合数据</p>
                     </li>
                     <li>
                        <p>包括使用基于业务模型的语法轻松定义的嵌入式度量计算</p>
                     </li>
                     <li>
                        <p>包括演示文稿元数据</p>
                     </li>
                  </ul>
                  <p>分析视图的定义包括导航，连接，聚合和计算规则，因此无需在查询中包含这些规则。您可以使用简单的SQL查询智能分析视图，而不是使用表达联接，聚合和度量计算的简单表和复杂<code class="codeph">SELECT</code>语句。这种方法有几个好处，包括：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>简化和加快应用程序开发;在分析视图中定义计算要比编写或生成复杂的<code class="codeph">SELECT</code>语句容易得多</p>
                     </li>
                     <li>
                        <p>计算规则可以在数据库中定义一次，然后由任意数量的应用程序重用;这为最终用户在使用报告工具时提供了更大的选择自由，而无需担心结果不一致</p>
                     </li>
                  </ul>
                  <p>分析视图对以下用户特别有用：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>数据仓库架构师或设计师</p>
                     </li>
                     <li>
                        <p>商业智能应用开发者</p>
                     </li>
                     <li>
                        <p>数据库分析师</p>
                     </li>
                  </ul>
                  <p>对于数据仓库架构师，分析视图是用于向应用程序开发人员和业务用户呈现数据仓库中的数据的工具。BI应用程序提供的工具生成查询，获取数据并显示结果。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-2A7F2187-752E-44D9-B674-C32C9A397638__GUID-F529AB7B-FC68-4ACC-AE55-6DFEF92FE74B">分析视图的组成部分</p>
                     <p>分析视图组件对象包含以下内容：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>属性维度，它是引用表或视图的元数据对象，并将列组织为更高级别的对象，例如<span class="italic">属性</span>和<span class="italic">级别</span> 。与维和层次结构相关的大多数元数据都在属性维对象中定义。
                           </p>
                        </li>
                        <li>
                           <p>层次结构，是一种引用属性维对象并使用层次关系组织数据的视图。从层次结构中选择与维和层次结构相关的数据。</p>
                        </li>
                        <li>
                           <p>分析视图对象，它是一种呈现事实数据的视图。分析视图引用事实表和层次结构。您可以从分析视图中选择层次结构和度量数据。</p>
                        </li>
                        <li>
                           <p></p>
                           <p>派生的分析视图，在SELECT语句的<code class="codeph">WITH</code>或<code class="codeph">FROM</code>子句中定义，并基于现有的分析视图。
                           </p>
                        </li>
                     </ul>
                     <p>数据字典视图（例如<code class="codeph">ALL_ANALYTIC_VIEW_COLUMNS</code> ）包含分析视图组件对象的元数据和其他信息。
                     </p>
                     <p><code class="codeph">DBMS_HIERARCHY</code> PL / SQL包中包含用于验证分析视图和层次结构对象的函数，以及创建可用于记录验证函数生成的消息的表的过程。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-2A7F2187-752E-44D9-B674-C32C9A397638__GUID-45742035-DCC6-4460-BCC5-7CDB717C9B3E">分析视图的数据源</p>
                     <p>属性维度和分析视图通常使用<a href="glossary.html#GUID-753234A6-E8CE-4610-8C82-94EFFDB2FBC5"><span class="xrefglossterm">星型模式</span></a>维度表和事实表作为数据源。对于较大的数据集，内存中列存储中的表可以使用分析视图提供最佳查询性能。分析视图还可以与雪花模式，非目标表，外部表和远程表一起使用。
                     </p>
                     <p>您可以使用属性维或分析视图定义中的<code class="codeph">using_clause</code>指定数据源。您可以为数据源指定别名。
                     </p>
                     <p>具有访问数据源所需特权的数据库用户可以创建分析视图对象。创建者定义业务模型，该模型指定如何查询数据，并通过创建属性维，层次结构和分析视图来实现模型。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-2A7F2187-752E-44D9-B674-C32C9A397638__GUID-29C74192-2933-4DC3-A180-EE3D3F786900">物化观点和分析观点</p>
                     <p>不支持在分析视图或层次结构的查询上创建物化视图。您可以在分析视图的<code class="codeph">cache_clause</code>的<code class="codeph">MEASURE_GROUP</code>短语中使用<code class="codeph">MEASURE_GROUP</code>视图。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-2A7F2187-752E-44D9-B674-C32C9A397638__GUID-AD1EA35B-165B-4769-A6CC-6C4DA90FD75C">分析视图对象的约束</p>
                     <p>为了在分析视图的查询中获得最佳查询性能，您应该使用通常用于查询星型模式的相同约束。属性维或分析视图不要求源表或视图定义或启用任何特定约束。此外，定义属性维或分析视图不会对这些表或视图引入任何其他约束。PL / SQL函数<code class="codeph">VALIDATE_HIERARCHY</code>和<code class="codeph">VALIDATE_ANALYTIC_VIEW</code>可用于验证层次结构中属性维使用的或分析视图使用的表或视图中的数据是否符合元数据定义中固有的逻辑约束。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-2A7F2187-752E-44D9-B674-C32C9A397638__GUID-959BC9DC-D35A-48CE-95D2-DADB517213A0">分析视图的命名约定</p>
                     <p>属性维，层次结构和分析视图的命名约定及其组件（如属性，级别和度量）遵循标准数据库标识符规则。双引号可用于包含标识符，包括扩展字符和混合大小写;否则，适用标准大写和有限字符规则。</p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-6F948948-6AE6-4A89-8AAC-5B8952CEF41D" name="GUID-6F948948-6AE6-4A89-8AAC-5B8952CEF41D"></a><h3 id="DWHSG-GUID-6F948948-6AE6-4A89-8AAC-5B8952CEF41D" class="sect3"><span class="enumeration_section">24.2</span>分析视图的权限</h3>
               <div>
                  <p>描述可用于分析视图，属性维和层次结构的系统和对象特权。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-6F948948-6AE6-4A89-8AAC-5B8952CEF41D__GUID-BECDFD8C-3594-46DF-987F-D53BB29E5825">系统权限</p>
                     <p>以下系统特权允许用户创建，更改或删除分析视图组件对象。</p>
                     <div class="tblformal" id="GUID-6F948948-6AE6-4A89-8AAC-5B8952CEF41D__GUID-A5C99BC8-BF91-4AC3-BA76-5C97AF237629">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" border="1" summary="This table lists the system privileges for analytic views." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="20%" id="d97337e313">系统权限</th>
                                 <th align="left" valign="bottom" width="20%" id="d97337e315">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d97337e319" headers="d97337e313 "><code class="codeph">创建分析视图</code></td>
                                 <td align="left" valign="top" width="20%" headers="d97337e319 d97337e315 ">
                                    <p>在被授权者的架构中创建分析视图。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d97337e326" headers="d97337e313 "><code class="codeph">创建任何分析视图</code></td>
                                 <td align="left" valign="top" width="20%" headers="d97337e326 d97337e315 ">
                                    <p>在除SYS之外的任何模式中创建分析视图。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d97337e333" headers="d97337e313 "><code class="codeph">创建属性维度</code></td>
                                 <td align="left" valign="top" width="20%" headers="d97337e333 d97337e315 ">
                                    <p>在被授权者的模式中创建属性维度。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d97337e340" headers="d97337e313 "><code class="codeph">创建任何属性维度</code></td>
                                 <td align="left" valign="top" width="20%" headers="d97337e340 d97337e315 ">
                                    <p>在除SYS之外的任何模式中创建属性维度。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d97337e347" headers="d97337e313 "><code class="codeph">创造层次</code></td>
                                 <td align="left" valign="top" width="20%" headers="d97337e347 d97337e315 ">
                                    <p>在被授权者的模式中创建层次结构。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d97337e354" headers="d97337e313 "><code class="codeph">创造任何层次</code></td>
                                 <td align="left" valign="top" width="20%" headers="d97337e354 d97337e315 ">
                                    <p>在除SYS之外的任何模式中创建层次结构。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d97337e361" headers="d97337e313 "><code class="codeph">更改任何分析视图</code></td>
                                 <td align="left" valign="top" width="20%" headers="d97337e361 d97337e315 ">
                                    <p>重命名除SYS之外的任何模式中的分析视图。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d97337e368" headers="d97337e313 "><code class="codeph">更改任何属性维度</code></td>
                                 <td align="left" valign="top" width="20%" headers="d97337e368 d97337e315 ">
                                    <p>重命名除SYS之外的任何模式中的属性维度。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d97337e375" headers="d97337e313 "><code class="codeph">更改任何层次</code></td>
                                 <td align="left" valign="top" width="20%" headers="d97337e375 d97337e315 ">
                                    <p>重命名除SYS之外的任何模式中的层次结构。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d97337e382" headers="d97337e313 "><code class="codeph">DROP ANY ANALYTIC VIEW</code></td>
                                 <td align="left" valign="top" width="20%" headers="d97337e382 d97337e315 ">
                                    <p>删除除SYS之外的任何模式中的分析视图。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d97337e389" headers="d97337e313 "><code class="codeph">降低任何属性维度</code></td>
                                 <td align="left" valign="top" width="20%" headers="d97337e389 d97337e315 ">
                                    <p>删除除SYS之外的任何模式中的属性维度。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d97337e397" headers="d97337e313 "><code class="codeph">DROP ANY HIERARCHY</code></td>
                                 <td align="left" valign="top" width="20%" headers="d97337e397 d97337e315 ">
                                    <p>删除除SYS之外的任何模式中的层次结构。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d97337e404" headers="d97337e313 "><code class="codeph">选择任何表格</code></td>
                                 <td align="left" valign="top" width="20%" headers="d97337e404 d97337e315 ">
                                    <p>查询或查看任何架构中的任何分析视图或层次结构。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-6F948948-6AE6-4A89-8AAC-5B8952CEF41D__GUID-41132FF0-7D4D-47FD-90D3-B7F75B5751C6">对象权限</p>
                     <p>以下对象权限允许用户查询或重命名分析视图组件对象。</p>
                     <div class="tblformal" id="GUID-6F948948-6AE6-4A89-8AAC-5B8952CEF41D__GUID-C61F8552-2C70-4B5E-B58F-A09ECBDBC27B">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" border="1" summary="This table lists the object privileges for analytic views." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" id="d97337e423">对象权限</th>
                                 <th align="left" valign="bottom" id="d97337e425">运营授权</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d97337e429" headers="d97337e423 "><code class="codeph">改变</code></td>
                                 <td align="left" valign="top" headers="d97337e429 d97337e425 ">重命名分析视图，属性维或层次结构。</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d97337e435" headers="d97337e423 "><code class="codeph">读</code></td>
                                 <td align="left" valign="top" headers="d97337e435 d97337e425 ">使用<code class="codeph">SELECT</code>语句查询对象。
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d97337e444" headers="d97337e423 "><code class="codeph">选择</code></td>
                                 <td align="left" valign="top" headers="d97337e444 d97337e425 ">使用<code class="codeph">SELECT</code>语句查询对象。
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-6F948948-6AE6-4A89-8AAC-5B8952CEF41D__GUID-0D9657E0-0785-41A8-BC0A-43863F483FF1">
                     <p class="titleinexample">示例24-1授予系统权限</p>
                     <p>以下语句将<code class="codeph">CREATE</code>系统特权授予用户av_user。
                     </p><pre class="pre codeblock"><code>授予av_user创建属性维度; GRANT CREATE HIERARCHY to av_user; GRANT创建分析视图到av_user; GRANT选择任何表到av_user;</code></pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-6F948948-6AE6-4A89-8AAC-5B8952CEF41D__GUID-FFB5DF1C-726E-4766-8E4A-B7B9B688A073">
                     <p class="titleinexample">示例24-2授予对象权限</p>
                     <p>以下语句将所有对象权限授予用户av_user2，然后撤消<code class="codeph">ALTER</code>权限。
                     </p><pre class="pre codeblock"><code>全部授予“AV_USER”。SALES_AV到“AV_USER2”; REVOKE ALTER ON“AV_USER”。SALES_AV来自“AV_USER2”;</code></pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="RESOURCEID-183423-7FDAC625"></a><div class="sect2"><a id="GUID-FC745EA1-721D-48E3-96D1-B4DE1758AFF8" name="GUID-FC745EA1-721D-48E3-96D1-B4DE1758AFF8"></a><h3 id="DWHSG-GUID-FC745EA1-721D-48E3-96D1-B4DE1758AFF8" class="sect3"><span class="enumeration_section">24.3</span>分析视图的应用程序编程接口</h3>
               <div>
                  <p>分析视图的应用程序编程接口由SQL DDL语句，PL / SQL过程和函数以及数据字典视图组成。</p>
                  <p>以下主题中列出了这些接口：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="overview-analytic-views.html#GUID-FC745EA1-721D-48E3-96D1-B4DE1758AFF8__SQLDDLSTATEMENTSFORTHECREATIONANDMA-7DCA4A27">用于创建和管理分析视图的SQL DDL语句</a></p>
                     </li>
                     <li>
                        <p><a href="overview-analytic-views.html#GUID-FC745EA1-721D-48E3-96D1-B4DE1758AFF8__PLSQLPACKAGEFORANALYTICVIEWS-7DCA5667">分析视图的PL / SQL包</a></p>
                     </li>
                     <li>
                        <p><a href="overview-analytic-views.html#GUID-FC745EA1-721D-48E3-96D1-B4DE1758AFF8__DATADICTIONARYVIEWSFORANALYTICVIEWS-7DCA4E84">分析视图的数据字典视图</a></p>
                     </li>
                  </ul>
                  <div class="section" id="GUID-FC745EA1-721D-48E3-96D1-B4DE1758AFF8__SQLDDLSTATEMENTSFORTHECREATIONANDMA-7DCA4A27">
                     <p class="subhead2" id="GUID-FC745EA1-721D-48E3-96D1-B4DE1758AFF8__GUID-0E32C217-BE04-4AB0-9027-C621B31CA245">用于创建和管理分析视图的SQL DDL语句</p>
                     <p>您可以使用以下SQL DDL语句创建和管理分析视图对象：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">创建分析视图</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">创建属性维度</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">创造层次</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ALTER ANALYTIC VIEW</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">改变属性维度</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ALTER HIERARCHY</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">DROP ANALYTIC VIEW</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">DROP ATTRIBUTE DIMENSION</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">DROP HIERARCHY</code></p>
                        </li>
                     </ul>
                     <p>有关这些语句的详细信息，请参见“ <a href="../sqlrf/CREATE-ANALYTIC-VIEW.html#SQLRF-GUID-EBA7E9BC-3F49-4AA7-9EF6-9255FE7AE466" target="_blank"><code class="codeph">CREATE ANALYTIC VIEW</code></a>和“ <span><cite>Oracle数据库SQL语言参考”中</cite></span>的其他语句。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-FC745EA1-721D-48E3-96D1-B4DE1758AFF8__GUID-1D4A2853-E5FC-4442-9A6D-4A637EBB7C09">过滤事实和附加度量的SQL SELECT语句子句</p>
                     <p>在<code class="codeph">SELECT</code>语句的<code class="codeph">WITH</code>和<code class="codeph">FROM</code>子句中，您可以定义一个或多个临时分析视图，这些视图在聚合层次结构的度量值之前过滤层次结构成员。您还可以定义参与查询的其他度量。过滤的事实和其他度量基于现有的持久分析视图，但它们不会更改持久分析视图本身的定义。
                     </p>
                     <div class="infoboxnotealso" id="GUID-FC745EA1-721D-48E3-96D1-B4DE1758AFF8__GUID-2CFA7EB5-C09D-4F21-BE79-29E8309A6E09">
                        <p class="notep1">也可以看看：</p><a href="analytic-view-objects.html#GUID-BEE5DB77-C00D-46F7-8543-F4EE3356BCE2" title="从分析视图中查询SELECT的查询可能包括FILTER FACT关键字，用于在任何计算之前过滤分析视图访问的事实数据，以及ADD MEASURES关键字以定义查询的其他计算度量。">使用过滤事实和附加度量的分析视图查询</a></div>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-FC745EA1-721D-48E3-96D1-B4DE1758AFF8__PLSQLPACKAGEFORANALYTICVIEWS-7DCA5667">
                     <p class="subhead2" id="GUID-FC745EA1-721D-48E3-96D1-B4DE1758AFF8__GUID-6C4D543A-B444-4533-81C4-9903BA114AC1">分析视图的PL / SQL包</p>
                     <p>您可以使用<code class="codeph">DBMS_HIERARCHY</code>包中的以下过程验证分析视图和层次结构对象的数据：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">CREATE_VALIDATE_LOG_TABLE</code>过程</p>
                        </li>
                        <li>
                           <p><code class="codeph">VALIDATE_ANALYTIC_VIEW</code>函数</p>
                        </li>
                        <li>
                           <p><code class="codeph">VALIDATE_CHECK_SUCCESS</code>函数</p>
                        </li>
                        <li>
                           <p><code class="codeph">VALIDATE_HIERARCHY</code>函数</p>
                        </li>
                     </ul>
                     <p>有关此程序包的详细信息，请参阅<cite><span><cite>Oracle Database PL / SQL程序包和类型参考中的</cite></span></cite> <a href="../arpls/DBMS_HIERARCHY.html#ARPLS-GUID-BA9CF136-9144-4880-BFF7-67B369E81D62" target="_blank">DBMS_HIERARCHY</a> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-FC745EA1-721D-48E3-96D1-B4DE1758AFF8__DATADICTIONARYVIEWSFORANALYTICVIEWS-7DCA4E84">
                     <p class="subhead2" id="GUID-FC745EA1-721D-48E3-96D1-B4DE1758AFF8__GUID-A4DB4A03-C83A-4711-8886-03DF8D30ABE2">分析视图的数据字典视图</p>
                     <p>以下数据字典视图包含有关分析视图对象的信息。仅列出具有前缀<code class="codeph">ALL</code>的视图。每个视图还具有相应的<code class="codeph">DBA</code>和<code class="codeph">USER</code>版本。
                     </p>
                     <p><span class="bold">分析视图视图</span></p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">ALL_ANALYTIC_VIEW_ATTR_CLASS</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ALL_ANALYTIC_VIEW_BASE_MEAS</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ALL_ANALYTIC_VIEW_CALC_MEAS</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ALL_ANALYTIC_VIEW_CLASS</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ALL_ANALYTIC_VIEW_COLUMNS</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ALL_ANALYTIC_VIEW_DIM_CLASS</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ALL_ANALYTIC_VIEW_DIMENSIONS</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ALL_ANALYTIC_VIEW_HIER_CLASS</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ALL_ANALYTIC_VIEW_HIERS</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ALL_ANALYTIC_VIEW_KEYS</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ALL_ANALYTIC_VIEW_LEVEL_CLASS</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ALL_ANALYTIC_VIEW_LEVELS</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ALL_ANALYTIC_VIEW_LVLGRPS</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ALL_ANALYTIC_VIEW_MEAS_CLASS</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ALL_ANALYTIC_VIEWS</code></p>
                        </li>
                     </ul>
                     <p><span class="bold">属性维度视图</span></p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">ALL_ATTRIBUTE_DIM_ATTR_CLASS</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ALL_ATTRIBUTE_DIM_ATTRS</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ALL_ATTRIBUTE_DIM_CLASS</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ALL_ATTRIBUTE_DIM_JOIN_PATHS</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ALL_ATTRIBUTE_DIM_KEYS</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ALL_ATTRIBUTE_DIM_LEVEL_ATTRS</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ALL_ATTRIBUTE_DIM_LEVELS</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ALL_ATTRIBUTE_DIM_LVL_CLASS</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ALL_ATTRIBUTE_DIM_ORDER_ATTRS</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ALL_ATTRIBUTE_DIM_TABLES</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ALL_ATTRIBUTE_DIMENSIONS</code></p>
                        </li>
                     </ul>
                     <p><span class="bold">层次结构视图</span></p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">ALL_HIER_CLASS</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ALL_HIER_COLUMNS</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ALL_HIER_HIER_ATTR_CLASS</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ALL_HIER_HIER_ATTRIBUTES</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ALL_HIER_JOIN_PATHS</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ALL_HIER_LEVEL_ID_ATTRS</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ALL_HIER_LEVELS</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ALL_HIERARCHIES</code></p>
                        </li>
                     </ul>
                     <p>有关这些视图的详细信息，请参阅<span><cite>Oracle数据库参考中的</cite></span> <a href="../refrn/ALL_ANALYTIC_VIEWS.html#REFRN-GUID-DA5210A9-C25C-4EEC-B1D6-B7217FB532A7" target="_blank"><code class="codeph">ALL_ANALYTIC_VIEWS</code></a>和其他视图。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-71DF15E8-9AE8-4EB1-9D65-84E88D5A48A5" name="GUID-71DF15E8-9AE8-4EB1-9D65-84E88D5A48A5"></a><h3 id="DWHSG-GUID-71DF15E8-9AE8-4EB1-9D65-84E88D5A48A5" class="sect3"><span class="enumeration_section">24.4</span>分析视图的编译状态</h3>
               <div>
                  <p>在创建或更改属性维，层次结构或分析视图时，Oracle数据库会确定对象元数据的内部有效性。</p>
                  <p>分析视图的SQL DDL <code class="codeph">CREATE</code>和<code class="codeph">ALTER</code>语句具有<code class="codeph">FORCE</code>和<code class="codeph">NOFORCE</code>选项，默认为<code class="codeph">NOFORCE</code> 。依赖于另一个对象的元数据验证是可选的，由<code class="codeph">FORCE</code>和<code class="codeph">NOFORCE</code>选项决定。
                  </p>
                  <p>如果指定<code class="codeph">NOFORCE</code>并且编译失败，则<code class="codeph">CREATE</code>或<code class="codeph">ALTER</code>操作将失败并引发错误。如果指定<code class="codeph">FORCE</code> ，则即使编译失败， <code class="codeph">CREATE</code>或<code class="codeph">ALTER</code>也会成功。
                  </p>
                  <p>您可以通过指定<code class="codeph">COMPILE</code>关键字显式调用编译;在查询期间根据需要隐式调用编译。如果对象未编译且无法隐式编译，则查询将返回错误。
                  </p>
                  <p>编译状态记录在<code class="codeph">ALL_ATTRIBUTE_DIMENSIONS</code> ， <code class="codeph">ALL_HIERARCHIES</code>和<code class="codeph">ALL_ANALYTIC_VIEWS</code>数据字典视图（以及相应的<code class="codeph">DBA</code>和<code class="codeph">USER</code>视图）的<code class="codeph">COMPILE_STATE</code>列中。州可能是以下之一：</p>
                  <div class="tblformal" id="GUID-71DF15E8-9AE8-4EB1-9D65-84E88D5A48A5__GUID-52739A5F-5EBF-4B46-A29A-3D1306CBA169">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" border="1" summary="This table describes the possible compilation states." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="20%" id="d97337e928">值</th>
                              <th align="left" valign="bottom" width="20%" id="d97337e931">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d97337e936" headers="d97337e928 ">
                                 <p><code class="codeph">有效</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d97337e936 d97337e931 ">
                                 <p>该对象已编译无误。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d97337e944" headers="d97337e928 ">
                                 <p><code class="codeph">无效</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d97337e944 d97337e931 ">
                                 <p>某些更改需要重新编译，或者已编译对象并发生错误。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p>分析视图对象上的SQL DDL操作会导致依赖对象的状态更改为<code class="codeph">INVALID</code> 。例如，对属性维度的更改会导致使用该属性维度的任何层次结构以及由属性维度<code class="codeph">INVALID</code>分析视图将状态更改为<code class="codeph">INVALID</code> 。此外，DDL更改为属性维和分析视图使用的表或视图会导致这些对象的状态更改为<code class="codeph">INVALID</code> 。</p>
                  <p><code class="codeph">ALL_OBJECTS</code>数据字典视图具有<code class="codeph">STATUS</code>列，该列可以是<code class="codeph">VALID</code>或<code class="codeph">INVALID</code> 。对于属性维，层次结构和分析视图， <code class="codeph">STATUS</code>值与<code class="codeph">COMPILE_STATE</code>相关<code class="codeph">COMPILE_STATE</code> 。当<code class="codeph">COMPILE_STATE</code>为<code class="codeph">VALID</code> ， <code class="codeph">STATUS</code>值为<code class="codeph">VALID</code> 。当<code class="codeph">COMPILE_STATE</code>为<code class="codeph">INVALID</code> ， <code class="codeph">STATUS</code>为<code class="codeph">INVALID</code> 。</p>
               </div>
            </div><a id="RESOURCEID-185823-7FDC7D5C"></a><div class="sect2"><a id="GUID-73BE6787-3590-46FB-86F0-D402C244A687" name="GUID-73BE6787-3590-46FB-86F0-D402C244A687"></a><h3 id="DWHSG-GUID-73BE6787-3590-46FB-86F0-D402C244A687" class="sect3"><span class="enumeration_section">24.5</span>数据验证</h3>
               <div>
                  <p>为确保查询结果的准确性，必须验证层次结构和分析视图的数据。</p>
                  <p>要验证层次结构或分析视图的数据，请使用PL / SQL包<code class="codeph">DBMS_HIERARCHY</code> 。 <code class="codeph">VALIDATE_HIERARCHY</code>和<code class="codeph">VALIDATE_ANALYTIC_VIEW</code>函数验证数据并将结果存储在表中。函数的可选参数是表的名称。<code class="codeph">CREATE_VALIDATE_LOG_TABLE</code>过程创建一个<code class="codeph">CREATE_VALIDATE_LOG_TABLE</code>目的的表。如果未指定表，则<code class="codeph">VALIDATE_HIERARCHY</code>和<code class="codeph">VALIDATE_ANALYTIC_VIEW</code>函数将创建表。
                  </p>
                  <p>对关联的属性维或分析视图使用的表所做的任何SQL DDL或DML更改，或对属性维，层次结构或分析视图本身的任何DDL更改都会导致层次结构的状态更改为<code class="codeph">INVALID</code> 。</p>
                  <p>如果将任何数据安全策略应用于层次结构或分析视图，或关联属性维使用的任何表或视图，则无法确定验证状态，并且<code class="codeph">VALIDATE_STATE</code>未设置为<code class="codeph">VALID</code> 。执行<code class="codeph">VALIDATE_HIERARCHY</code>或<code class="codeph">VALIDATE_ANALYTIC_VIEW</code>函数指示层次结构或分析视图在该时间以及该用户是否有效。
                  </p>
                  <p>如果在查询数据字典或运行<code class="codeph">VALIDATE_HIERARCHY</code>函数的时间与执行层次结构或分析视图的查询之间发生SQL DML更改为属性维使用的表或视图，则层次结构可能变为无效。要确保层次结构对查询有效，您可以建立只读事务（例如， <code class="codeph">SET TRANSACTION READ ONLY)</code> ，运行验证函数，验证验证是否成功，执行查询，然后结束事务一个<code class="codeph">COMMIT</code>或<code class="codeph">ROLLBACK</code>语句。
                  </p>
               </div>
            </div>
            <div class="sect2"><a id="GUID-DEC26050-9DC9-4F04-BDB5-182045AB1AD7" name="GUID-DEC26050-9DC9-4F04-BDB5-182045AB1AD7"></a><h3 id="DWHSG-GUID-DEC26050-9DC9-4F04-BDB5-182045AB1AD7" class="sect3"><span class="enumeration_section">24.6</span>分析视图的分类</h3>
               <div>
                  <p>分类为属性维度，层次结构和分析视图对象及其组件（如属性维度键，属性，级别和度量）提供描述性元数据。</p>
                  <p>应用程序可以使用分类来显示有关层次结构和分析视图的信息。分类类似于对表和列的注释，但注释是单个值。您可以为同一对象指定任意数量的分类。您可以按语言更改值。分类值始终是文本文字，最大长度为4000字节。</p>
                  <div class="section">
                     <p>分类在SQL查询中不起作用，但可在数据字典视图中使用以供工具或应用程序使用。<code class="codeph">CAPTION</code>和<code class="codeph">DESCRIPTION</code>分类具有支持分类的所有对象的DDL快捷方式。
                     </p>
                     <p>您可以指定分类值的语言。如果指定语言，则它必须是有效的<code class="codeph">NLS_LANGUAGE</code>值。如果未指定语言，则分类的语言值为<code class="codeph">NULL</code>并使用默认数据库语言。
                     </p>
                     <p><code class="codeph">CAPTION</code>和<code class="codeph">DESCRIPTION</code>的DDL快捷方式仅适用于<code class="codeph">NULL</code>语言。要为特定语言指定<code class="codeph">CAPTION</code>和<code class="codeph">DESCRIPTION</code>分类，必须使用完整的<code class="codeph">CLASSIFICATION</code>语法。
                     </p>
                     <p>SQL工具可以将<code class="codeph">NULL</code>语言值解释为默认值。例如，假设工具正在查找属性维度的<code class="codeph">CAPTION</code> 。该工具可能首先查找具有与当前<code class="codeph">NLS_LANGUAGE</code>匹配的语言的<code class="codeph">CAPTION</code> 。如果找到一个，则使用该<code class="codeph">CAPTION</code>值。如果没有，则它会查找具有<code class="codeph">NULL</code>语言值的<code class="codeph">CAPTION</code>并使用它。SQL逻辑取决于用户，工具或应用程序。
                     </p>
                     <p>要提供因层次结构成员的语言而异的描述性元数据，请使用层次结构属性<code class="codeph">MEMBER_NAME</code> ， <code class="codeph">MEMBER_CAPTION</code>和<code class="codeph">MEMBER_DESCRIPTION</code> 。</p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-29F53415-B445-41F3-9B8C-3867576A9728" name="GUID-29F53415-B445-41F3-9B8C-3867576A9728"></a><h3 id="DWHSG-GUID-29F53415-B445-41F3-9B8C-3867576A9728" class="sect3"><span class="enumeration_section">24.7</span>与应用程序容器共享分析视图</h3>
               <div>
                  <p>您可以与应用程序容器共享分析视图。</p>
                  <p>在分析视图对象的定义中，您可以使用<code class="codeph">SHARING</code>子句与应用程序容器共享属性维，层次结构或分析视图元数据或对象。该子句的值如下：</p>
                  <div class="section">
                     <div class="tblformal" id="GUID-29F53415-B445-41F3-9B8C-3867576A9728__GUID-64E1BC40-E6A0-45F7-8608-FC1F00B3611F">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" border="1" summary="This table lists the values for the SHARING clause." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="20%" id="d97337e1242">值</th>
                                 <th align="left" valign="bottom" width="20%" id="d97337e1245">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d97337e1250" headers="d97337e1242 ">
                                    <p><code class="codeph">没有</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d97337e1250 d97337e1245 ">
                                    <p>不分享;这是默认值。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d97337e1258" headers="d97337e1242 ">
                                    <p><code class="codeph">元数据</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d97337e1258 d97337e1245 ">
                                    <p>仅共享元数据。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d97337e1266" headers="d97337e1242 ">
                                    <p><code class="codeph">宾语</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d97337e1266 d97337e1245 ">
                                    <p>共享对象，包括数据。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>如果指定<code class="codeph">METADATA</code> ，则仅与应用程序容器共享对象的定义。
                     </p>
                     <p>如果指定<code class="codeph">OBJECT</code> ，则属性维，层次结构或分析视图对象（包括对象的数据源）将与应用程序容器共享。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-EB33CFE6-21A7-40A5-9AD7-B868D39AD602" name="GUID-EB33CFE6-21A7-40A5-9AD7-B868D39AD602"></a><h3 id="DWHSG-GUID-EB33CFE6-21A7-40A5-9AD7-B868D39AD602" class="sect3"><span class="enumeration_section">24.8</span>更改或删除分析视图对象</h3>
               <div>
                  <p>使用SQL DDL语句，您可以更改对象的名称，也可以删除它。</p>
                  <p>要更改除名称以外的分析视图对象的任何方面，请使用<code class="codeph">CREATE</code> <code class="codeph">OR</code> <code class="codeph">REPLACE</code>语句将对象替换为具有所需更改的对象。
                  </p>
                  <div class="example" id="GUID-EB33CFE6-21A7-40A5-9AD7-B868D39AD602__GUID-82540471-60B4-4322-88DA-1477C14725CF">
                     <p class="titleinexample">示例24-3重命名属性维</p>
                     <p>以下示例重命名属性维度。</p><pre class="pre codeblock"><code>ALTER ATTRIBUTE DIMENSION product_attr_dim重命名为myproduct_attr_dim;</code></pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-EB33CFE6-21A7-40A5-9AD7-B868D39AD602__GUID-D2AC4DC0-2228-4557-950E-668B1329947E">
                     <p class="titleinexample">示例24-4删除属性维</p>
                     <p>以下示例删除属性维度。</p><pre class="pre codeblock"><code>DROP ATTRIBUTE DIMENSION myproduct_attr_dim;</code></pre></div>
                  <!-- class="example" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-51534FD7-A388-4378-9DD5-93004CD91E19" name="GUID-51534FD7-A388-4378-9DD5-93004CD91E19"></a><h3 id="DWHSG-GUID-51534FD7-A388-4378-9DD5-93004CD91E19" class="sect3"><span class="enumeration_section">24.9</span>示例的数据和脚本</h3>
               <div>
                  <p>本节介绍分析视图示例所基于的数据，并包含创建分析视图组件对象的SQL语句。</p>
                  <p>以下主题中描述了数据和分析视图组件：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="overview-analytic-views.html#GUID-F049EEFA-F931-433F-A678-793493DF650E" title="示例使用的数据包括单个事实表中的销售数据和包含时间段，产品和地理位置的三个维度表。">关于示例的数据和脚本</a></p>
                     </li>
                     <li>
                        <p><a href="overview-analytic-views.html#GUID-7715B749-F84F-459D-90E5-7F052D6B4B2F" title="本主题包含用于创建示例属性维的SQL语句。">创建属性维度语句</a></p>
                     </li>
                     <li>
                        <p><a href="overview-analytic-views.html#GUID-091832D4-8C48-4B0D-9AAA-E9ECA5BA2896" title="本主题包含用于创建示例层次结构的SQL语句。">创建层次结构语句</a></p>
                     </li>
                     <li>
                        <p><a href="overview-analytic-views.html#GUID-2286B197-82A8-4FAA-B347-9366C20893C7" title="本主题包含一个用于创建示例分析视图的SQL语句。">创建分析视图语句</a></p>
                     </li>
                  </ul>
               </div>
               <div class="sect3"><a id="GUID-F049EEFA-F931-433F-A678-793493DF650E" name="GUID-F049EEFA-F931-433F-A678-793493DF650E"></a><h4 id="DWHSG-GUID-F049EEFA-F931-433F-A678-793493DF650E" class="sect4"><span class="enumeration_section">24.9.1</span>关于示例的数据和脚本</h4>
                  <div>
                     <p>示例使用的数据包括单个事实表中的销售数据和包含时间段，产品和地理位置的三个维度表。</p>
                     <p>您可以在<a href="https://livesql.oracle.com/apex/livesql/file/index.html" target="_blank">https://livesql.oracle.com/apex/livesql/file/index上</a>查看和运行创建表的SQL脚本，分析视图组件对象以及Oracle Live SQL网站示例中使用的查询。 <a href="https://livesql.oracle.com/apex/livesql/file/index.html" target="_blank">.html</a> 。</p>
                     <p>数据位于下图所示的星型模式表中。</p>
                     <div class="figure" id="GUID-F049EEFA-F931-433F-A678-793493DF650E__TABLESFORANALYTICVIEWEXAMPLES-2E64917A">
                        <p class="titleinfigure">图24-1分析视图示例表</p><img src="img/example-tables-analytic-views.png" alt="下面是图24-1的描述" title="下面是图24-1的描述" longdesc="img_text/example-tables-analytic-views.html"><br><a href="img_text/example-tables-analytic-views.html">“图24-1分析视图示例表”的说明</a></div>
                     <!-- class="figure" -->
                     <p>在SALES_FACT表中，MONTH_ID，DEPARTMENT_ID和STATE_PROVINCE_ID列分别是TIME_DIM，PRODUCT_DIM和GEOGRAPHY_DIM维度表的外键。</p>
                     <p>在每个维度表中，_ID列用作键，_NAME列用作描述符。其他列可以用作排序或报告的属性。</p>
                     <p>_ID和_NAME列之间的数据之间存在1：1的关系。您可以使用TIME_DIM表的_END_DATE列对时间段进行排序。</p>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-7715B749-F84F-459D-90E5-7F052D6B4B2F" name="GUID-7715B749-F84F-459D-90E5-7F052D6B4B2F"></a><h4 id="DWHSG-GUID-7715B749-F84F-459D-90E5-7F052D6B4B2F" class="sect4"><span class="enumeration_section">24.9.2</span>创建属性维度语句</h4>
                  <div>
                     <p>本主题包含用于创建示例属性维的SQL语句。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-7715B749-F84F-459D-90E5-7F052D6B4B2F__GUID-1BE48D81-7EE7-4752-BEDB-86DFE0BA86DA">创建time_attr_dim属性维</p>
                        <p>time_attr_dim属性维度基于TIME_DIM维度表。以下语句创建属性维度。</p><pre class="pre codeblock"><code>创建或替换属性维度time_attr_dim维度类型时间使用time_dim属性（year_id分类标题值'YEAR_ID'分类描述值'年份ID'，年份名称分类标题值'YEAR_NAME'分类描述值'年'，year_end_date分类标题值'YEAR_END_DATE'分类说明VALUE'年终日期'，quarter_id分类标题VALUE'QUARTER_ID'分类说明VALUE'QUARTER ID'，quarter_name分类标题VALUE'QUARTER_NAME'分类说明VALUE'季度'，quarter_end_date分类标题值'QUARTER_END_DATE'分类说明VALUE'季度结束日期'，quarter_of_year分类标题VALUE'QUARTER_OF_YEAR'分类说明VALUE'年度'，month_id分类标题VALUE'MONTH_ID'分类说明VALUE'MONTH ID'，month_name分类标题VALUE'MONTH_NAME'分类说明V ALUE'月'，month_long_name分类标题VALUE'MONTH_LONG_NAME'分类说明VALUE'月份长名称'，month_end_date分类标题值'MONTH_END_DATE'分类说明VALUE'月末日期'，month_of_quarter分类标题值'MONTH_OF_QUARTER'分类描述值'月份季度'，月__年分类标题值'MONTH_OF_YEAR'分类说明值'年份'，季节分类标题值'季节'分类描述值'季'，季节顺序分类标题值'SEASON_ORDER'分类说明VALUE'季节顺序'）LEVEL月级别类别月份分类标题值“月份”分类说明值“月”键月份_id成员名称月份名称成员字幕月份名称成员说明month_long_name订单按月份_发送日期决定（月份_发送日期，季度，季节，季节，月份，月份，月份）季度级别级别类型季度分类标题值'季度'分类说明值'季度'关键字quarter_id成员名称quarter_name成员标题quarter_name成员说明quarter_name ORDER BY quarter_end_date确定（quarter_end_date，quarter_of_year，year_id）级别年份级别年份分类标题值'年'分类说明VALUE'年'KEY year_id会员姓名year_name会员姓名年份名称会员描述年份名称订购年份_年终日期决定（年份_发送日期）级别季度级别季度分类标题值“季节”分类说明值“季节”关键季节会员名称季节会员季节会员会员描述季节LEVEL month_of_quarter LEVEL TYPE MONTHS CLASSIFICATION标题VALUE'MONTH_OF_QUARTER'分类描述VALUE'月份'KEY月份_of_quarter;</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-7715B749-F84F-459D-90E5-7F052D6B4B2F__GUID-D0D50A10-0A69-4EAA-9B09-B079EC70A4F6">创建product_attr_dim属性维</p>
                        <p>product_attr_dim属性维度基于PRODUCT_DIM维度表。以下语句创建属性维度。</p><pre class="pre codeblock"><code>创建或替换属性维度product_attr_dim使用product_dim属性（department_id分类标题值'DEPARTMENT_ID'分类说明值'部门ID'，department_name分类标题值'DEPARTMENT_NAME'分类说明值'部门'，category_id分类标题值'CATEGORY_ID'分类说明值' CATEGORY ID'，category_name分类标题VALUE'CATEGORY_NAME'分类描述值'类别'）级别部门分类标题值'部门'分类说明值'部门'KEY部门_id成员名称department_name成员字幕department_name ORDER BY department_name级别类别分类标题值'CATEGORY '分类说明VALUE'类别'KEY category_id会员名称category_name成员CAPTION category_name ORDER BY category_name DETERMINES（department_id）所有会员名称'所有产品';</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-7715B749-F84F-459D-90E5-7F052D6B4B2F__GUID-6F7181C6-F7BF-45FB-BCFB-8400B67CA11C">创建geography_attr_dim属性维度</p>
                        <p>geography_attr_dim属性维度基于GEOGRAPHY_DIM维度表。以下语句创建属性维度。</p><pre class="pre codeblock"><code>创建或替换属性维度geography_attr_dim使用geography_dim属性（region_id分类标题值'REGION_ID'分类描述值'区域ID'，region_name分类标题值'REGION_NAME'分类描述值'区域'，country_id分类标题VALUE'COUNTRY_ID'分类描述值'国家ID'，country_name分类标题VALUE'COUNTRY_NAME'分类说明VALUE'国家'，state_province_id分类标题VALUE'STATE_PROVINCE_ID'分类说明VALUE'STATE-PROVINCE ID'，state_province_name分类标题VALUE'STATE_PROVINCE_NAME'分类说明VALUE'State-Province' ）级别区域分类标题值'区域'分类说明VALUE'区域'KEY region_id成员名称region_name成员CAPTION region_name ORDER BY region_name级别国家分类标题VALUE'COUNTRY'分类描述VALUE'Countr y'KEY country_id成员名称country_name成员CAPTION country_name ORDER BY country_name DETERMINES（region_id）LEVEL STATE_PROVINCE分类标题VALUE'STATE_PROVINCE'分类说明VALUE'州 - 省'KEY state_province_id成员姓名state_province_name成员字幕state_province_name ORDER BY state_province_name决定（country_id）所有成员姓名'所有客户';</code></pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-091832D4-8C48-4B0D-9AAA-E9ECA5BA2896" name="GUID-091832D4-8C48-4B0D-9AAA-E9ECA5BA2896"></a><h4 id="DWHSG-GUID-091832D4-8C48-4B0D-9AAA-E9ECA5BA2896" class="sect4"><span class="enumeration_section">24.9.3</span>创建层次结构语句</h4>
                  <div>
                     <p>本主题包含用于创建示例层次结构的SQL语句。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-091832D4-8C48-4B0D-9AAA-E9ECA5BA2896__GUID-2A898639-DC19-440A-9339-8220BC6F81DA">使用time_attr_dim创建层次结构</p>
                        <p>以下语句创建使用time_attr_dim属性维的层次结构。</p><pre class="pre codeblock"><code>创建或替换HIERARCHY time_hier分类标题值'CALENDAR'分类描述值'日历'使用time_attr_dim（每年四分之一儿童的月份）; - 创建或替换层次结构time_season_hier分类标题值'季节'分类描述值'季节'使用time_attr_dim（月季节）; - 创建或替换HIERARCHY time_year_season_hier使用time_attr_dim（月份CHILD OF year CHILD OF year）; - 创建或替换HIERARCHY time_month_of_qtr_hier分类标题VALUE'MONTH_OF_QUARTER'分类描述VALUE'季度'使用time_attr_dim（月份CHILD OF month_of_quarter）;</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-091832D4-8C48-4B0D-9AAA-E9ECA5BA2896__GUID-7ACA5CE7-DDBF-43EB-A7F4-7C5C2AE1926E">使用product_attr_dim创建层次结构</p>
                        <p>以下语句创建使用product_attr_dim属性维的层次结构。</p><pre class="pre codeblock"><code>创建或替换HIERARCHY product_hier分类标题VALUE'PRODUCT'分类描述值'产品'使用product_attr_dim（部门的分类）;</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-091832D4-8C48-4B0D-9AAA-E9ECA5BA2896__GUID-B742FF31-3BF2-4583-8AA0-952763BD10B9">使用geography_attr_dim创建层次结构</p>
                        <p>以下语句创建使用geography_attr_dim属性维度的层次结构。</p><pre class="pre codeblock"><code>创建或替换HIERARCHY geography_hier分类标题值'地理'分类描述值'地理'使用geography_attr_dim（state_province CHILD OF country CHILD OF region）;</code></pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-2286B197-82A8-4FAA-B347-9366C20893C7" name="GUID-2286B197-82A8-4FAA-B347-9366C20893C7"></a><h4 id="DWHSG-GUID-2286B197-82A8-4FAA-B347-9366C20893C7" class="sect4"><span class="enumeration_section">24.9.4</span>创建分析视图语句</h4>
                  <div>
                     <p>本主题包含一个用于创建示例分析视图的SQL语句。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-2286B197-82A8-4FAA-B347-9366C20893C7__GUID-65D4AF29-412A-41A9-A794-D36E9E3D4B92">创建sales_av分析视图</p>
                        <p>以下语句创建使用SALES_FACT事实表的分析视图。</p><pre class="pre codeblock"><code>创建或替换分析视图sales_av分类标题VALUE'销售AV'分类描述值'销售分析视图'分类创建_by VALUE'Harold C. Ehrlicher'使用sales_fact DIMENSION BY（time_attr_dim KEY month_id REFERENCES month_id HIERARCHIES（time_hier DEFAULT，time_season_hier，time_year_season_hier，time_month_of_qtr_hier ），product_attr_dim KEY category_id REFERENCES category_id HIERARCHIES（product_hier DEFAULT），geography_attr_dim KEY state_province_id REFERENCES state_province_id HIERARCHIES（geography_hier DEFAULT））措施（销售FACT销售分类标题VALUE'销售'分类描述值'销售'分类format_string VALUE'$ 9,999.99'，单位FACT单位分类标题VALUE'单位'分类说明VALUE'已售出单位'分类format_string VALUE'9,999'，sales_prior_period AS（LAG（SALES）OVER（HIERARCHY time_hier OFFSET 1））分类标题值'销售前期'CLASSIFICATI ON说明VALUE'Sales Prior_Period'CLASSIFICATION format_string VALUE'$ 9,999.99'，sales_chg_prior_period AS（LAG_DIFF（SALES）OVER（HIERARCHY time_hier OFFSET 1））分类标题VALUE'销售变更前期'分类说明VALUE'销售变更前期'分类format_string VALUE '$ 9,999.99'，sales_qtr_ago AS（LAG（SALES）OVER（HIERARCHY time_hier OFFSET 1 ACROSS ANCESTOR在LEVEL季度））分类标题VALUE'Sales Qtr Ago'分类描述VALUE'销售Qtr Ago'分类format_string VALUE'$ 9,999.99'，sales_chg_qtr_ago AS（ LAG_DIFF（SALES）超过（HIERARCHY time_hier OFFSET 1 ACROSS ANCESTOR在LEVEL季度））分类标题VALUE'销售变化Qtr Ago'分类描述VALUE'销售变化Qtr Ago'分类format_string VALUE'$ 9,999.99'，sales_pct_chg_qtr_ago AS（LAG_DIFF_PERCENT（SALES）OVER （HIERARCHY time_hier OFFSET 1 ACTROSS ANCESTOR在LEVEL季度））分类标题VALUE'Sales Per分改变Qtr Ago'分类描述值'销售百分比变化Qtr Ago'分类format_string VALUE'9999.99'，sales_yr_ago AS（LAG（SALES）OVER（HIERARCHY time_hier OFFSET 1 ACROSS ANCESTOR在LEVEL年））分类标题VALUE'Sales Year Ago'分类描述VALUE'销售年前'分类format_string VALUE'$ 9,999.99'，sales_chg_yr_ago AS（LAG_DIFF（SALES）OVER（HIERARCHY time_hier OFFSET 1 ACTROSS ANCESTOR在LEVEL年份））分类标题VALUE'销售变更年份'分类描述值'销售变化年前'CLASSIFICATION format_string VALUE'$ 9,999.99'，sales_pct_chg_yr_ago AS（LAG_DIFF_PERCENT（SALES）超过（HERVARCHY time_hier OFFSET 1 ACTROSS ANCESTOR在LEVEL年份））分类标题VALUE'销售百分比变化年份'分类描述值'销售百分比变化年前'分类format_string VALUE'9999.99'，sales_qtd AS（SUM（sales）OVER（HIERARCHY time_hier BETWEEN UNBOUNDED PRECEDING AND现阶段成员在里面的水平部分））分类标题值'销售季度到目前'分类描述值'销售季度到目前'分类format_string VALUE'$ 9,999.99'，sales_ytd AS（SUM（销售）超过（HIERARCHY time_hier在无限制的预先和当前之间）会员年级内的成员））分类标题VALUE'销售年初至今'分类说明VALUE'销售年初至今'分类format_string VALUE'$ 9,999.99'，sales_2011 AS（QUALIFY（sales，time_hier = year ['11']））分类标题VALUE'销售CY2011'分类描述值'销售CY2011'分类format_string VALUE'$ 9,999.99'，sales_pct_chg_2011 AS（（销售 - （QUALIFY（销售，time_hier =年['11']）））/（QUALIFY（sales，time_hier） =年['11']）））分类标题值'销售额更改CY2011'分类说明值'销售额更改CY2011'分类格式字符串值'999.99'，sales_share_time_parent AS（SHARE_ OF（销售层级time_hier PARENT））分类标题VALUE'销售份额的时间父母'分类描述值'销售份额的时间父母'分类format_string VALUE'9999.99'，sales_share_season_parent AS（SHARE_OF（销售层级time_season_hier PARENT））分类标题VALUE'季节的销售份额父母'分类描述值'季节的销售份额父母'分类format_string VALUE'9999.99'，sales_share_prod_parent AS（SHARE_OF（销售层级product_hier父母））分类标题VALUE'产品母公司的销售份额'分类描述值'销售份额产品父类'CLASSIFICATION format_string VALUE'999.99'，sales_share_dept AS（SHARE_OF（销售层级product_hier LEVEL部门））分类标题VALUE'产品母公司的销售份额'分类说明VALUE'产品母公司的销售份额'分类format_string VALUE'9999.99'， sales_share_geog_parent AS（SHARE_OF（销售层级） geography_hier PARENT））分类标题VALUE'地理位置的销售份额父级'分类描述值'地理位置的销售份额父级'分类格式字符串值'999.99'，sales_share_region AS（SHARE_OF（销售层级地理_层级区域））分类标题值'销售份额地理位置父级'分类描述值'地理位置的销售份额父级'分类格式字符串值'999.99'）默认度量销售;</code></pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>