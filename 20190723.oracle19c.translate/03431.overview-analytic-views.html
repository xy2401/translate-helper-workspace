<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="Analytic views are metadata objects that enable the user to quickly and easily create complex hierarchical and dimensional queries on data in database tables and views.">
      <meta name="description" content="Analytic views are metadata objects that enable the user to quickly and easily create complex hierarchical and dimensional queries on data in database tables and views.">
      <title>Overview of Analytic Views</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Data Warehousing Guide">
      <meta property="og:description" content="Analytic views are metadata objects that enable the user to quickly and easily create complex hierarchical and dimensional queries on data in database tables and views.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Data Warehousing Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-data-warehousing-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-09T00:20:13-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="2001, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96243-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="part-analytic-views.html" title="Previous" type="text/html">
      <link rel="next" href="analytic-view-attribute-dimensions.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Data Warehousing Guide">
    <meta name="dcterms.isVersionOf" content="DWHSG">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="part-analytic-views.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="analytic-view-attribute-dimensions.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Data Warehousing Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="part-analytic-views.html" property="item" typeof="WebPage"><span property="name">Analytic Views</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Overview of Analytic Views</li>
            </ol>
            <a id="GUID-D384C4EE-1671-4F89-BC69-2D3133194869" name="GUID-D384C4EE-1671-4F89-BC69-2D3133194869"></a><a id="RESOURCEID-18323-7EE80A8A"></a>
            
            <h2 id="DWHSG-GUID-D384C4EE-1671-4F89-BC69-2D3133194869" class="sect2"><span class="enumeration_chapter">24 </span>Overview of Analytic Views
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>Analytic views are metadata objects that enable the user to quickly and easily create complex hierarchical and dimensional queries on data in database tables and views.</p>
               <p>General considerations of analytic views are described in the following topics.</p>
               <div class="section">
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="overview-analytic-views.html#GUID-2A7F2187-752E-44D9-B674-C32C9A397638" title="Analytic views provide a fast and efficient way to create analytic queries of data stored in existing database tables and views.">What Are Analytic Views?</a></p>
                     </li>
                     <li>
                        <p><a href="overview-analytic-views.html#GUID-6F948948-6AE6-4A89-8AAC-5B8952CEF41D" title="Describes the system and object privileges available for analytic views, attribute dimensions, and hierarchies.">Privileges for Analytic Views</a></p>
                     </li>
                     <li>
                        <p><a href="overview-analytic-views.html#GUID-FC745EA1-721D-48E3-96D1-B4DE1758AFF8" title="The application programming interfaces for analytic views consist of SQL DDL statements, PL/SQL procedures and functions, and data dictionary views.">Application Programming Interfaces for Analytic Views</a></p>
                     </li>
                     <li>
                        <p><a href="overview-analytic-views.html#GUID-71DF15E8-9AE8-4EB1-9D65-84E88D5A48A5" title="When you create or alter an attribute dimension, a hierarchy, or an analytic view, Oracle Database ascertains the internal validity of the objectâ€™s metadata.">Compilation States of Analytic Views</a></p>
                     </li>
                     <li>
                        <p><a href="overview-analytic-views.html#GUID-73BE6787-3590-46FB-86F0-D402C244A687" title="To ensure the accuracy of query results, the data of hierarchies and analytic views must be validated.">Validation of Data</a></p>
                     </li>
                     <li>
                        <p><a href="overview-analytic-views.html#GUID-DEC26050-9DC9-4F04-BDB5-182045AB1AD7" title="Classifications provide descriptive metadata for attribute dimensions, hierarchies, and analytic view objects, and for components of them such as attribute dimension keys, attributes, levels, and measures.">Classifications for Analytic Views</a></p>
                     </li>
                     <li>
                        <p><a href="overview-analytic-views.html#GUID-29F53415-B445-41F3-9B8C-3867576A9728" title="You can share analytic views with application containers.">Share Analytic Views with Application Containers</a></p>
                     </li>
                     <li>
                        <p><a href="overview-analytic-views.html#GUID-EB33CFE6-21A7-40A5-9AD7-B868D39AD602" title="With SQL DDL statements you can change the name of an object or you can drop it.">Alter or Drop an Analytic View Object</a></p>
                     </li>
                     <li>
                        <p><a href="overview-analytic-views.html#GUID-51534FD7-A388-4378-9DD5-93004CD91E19" title="This section describes the data on which the analytic views examples are based and contains SQL statements that create the analytic view component objects.">Data and Scripts for Examples</a></p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
            </div><a id="RESOURCEID-183323-7FDAC1B6"></a><div class="sect2"><a id="GUID-2A7F2187-752E-44D9-B674-C32C9A397638" name="GUID-2A7F2187-752E-44D9-B674-C32C9A397638"></a><h3 id="DWHSG-GUID-2A7F2187-752E-44D9-B674-C32C9A397638" class="sect3"><span class="enumeration_section">24.1 </span>What Are Analytic Views?
               </h3>
               <div>
                  <p>Analytic views provide a fast and efficient way to create analytic queries of data stored in existing database tables and views.</p>
                  <p>Analytic views organize data using a dimensional model. They allow you to easily add aggregations and calculations to data sets and to present data in views that can be queried with relatively simple SQL.</p>
                  <p>Like standard relational views, analytic views:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Are metadata objects (that is, they do not store data)</p>
                     </li>
                     <li>
                        <p>Can be queried using SQL</p>
                     </li>
                     <li>
                        <p>Can access data from other database objects such as tables, views, and external tables</p>
                     </li>
                     <li>
                        <p>Can join multiple tables into a single view</p>
                     </li>
                  </ul>
                  <p>Analytic views also:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Organize data using a rich business model that has dimensional and hierarchical concepts</p>
                     </li>
                     <li>
                        <p>Include system-generated columns with hierarchical data</p>
                     </li>
                     <li>
                        <p>Automatically aggregate data</p>
                     </li>
                     <li>
                        <p>Include embedded measure calculations that are easily defined using syntax based on the business model</p>
                     </li>
                     <li>
                        <p>Include presentation metadata</p>
                     </li>
                  </ul>
                  <p>The definition of an analytic view includes navigation, join, aggregation, and calculation rules, thus eliminating the need to include these rules in queries. Rather than having simple tables and complex <code class="codeph">SELECT</code> statements that express joins, aggregations, and measure calculations, you can use simple SQL to query smart analytic views.  This approach has several benefits, including:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Simplified and faster application development; it is much easier to define calculations within analytic views than it is to write or generate complex <code class="codeph">SELECT</code> statements
                        </p>
                     </li>
                     <li>
                        <p>Calculation rules can be defined once in the database and then be re-used by any number of applications; this provides end-users with greater freedom of choice in their use of reporting tools without concern for inconsistent results</p>
                     </li>
                  </ul>
                  <p>Analytic views are especially useful for the following users:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Data warehouse architect or designer</p>
                     </li>
                     <li>
                        <p>Business Intelligence application developer</p>
                     </li>
                     <li>
                        <p>Database analyst</p>
                     </li>
                  </ul>
                  <p>For a data warehouse architect, analytic views are a tool for presenting data in a data warehouse to application developers and business users. Tools provided by the BI application generate a query, get the data, and present the result.</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-2A7F2187-752E-44D9-B674-C32C9A397638__GUID-F529AB7B-FC68-4ACC-AE55-6DFEF92FE74B">Components of Analytic Views</p>
                     <p>Analytic view component objects consist of the following:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Attribute dimensions, which are metadata objects that reference tables or views and organize columns into higher-level objects such as <span class="italic">attributes</span> and <span class="italic">levels</span>. Most metadata related to dimensions and hierarchies is defined in the attribute dimension object.
                           </p>
                        </li>
                        <li>
                           <p>Hierarchies, which are a type of view that reference attribute dimension objects and that organize data using hierarchical relationships. Data related to dimensions and hierarchies is selected from hierarchies.</p>
                        </li>
                        <li>
                           <p>Analytic view objects, which are a type of view that presents fact data. Analytic views reference both fact tables and hierarchies. You can select both hierarchy and measure data from analytic views.</p>
                        </li>
                        <li>
                           <p></p>
                           <p>Derived analytic views, which are defined in the <code class="codeph">WITH</code> or <code class="codeph">FROM</code> clause of a SELECT statement and are based on an existing analytic view.
                           </p>
                        </li>
                     </ul>
                     <p>Data dictionary views, such as <code class="codeph">ALL_ANALYTIC_VIEW_COLUMNS</code>, contain the metadata and other information for the analytic view component objects.
                     </p>
                     <p>The <code class="codeph">DBMS_HIERARCHY</code> PL/SQL package contains functions for validating analytic view and hierarchy objects and a procedure that creates a table that you can use for logging messages generated by the validation functions.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-2A7F2187-752E-44D9-B674-C32C9A397638__GUID-45742035-DCC6-4460-BCC5-7CDB717C9B3E">Data Sources for Analytic Views</p>
                     <p>Attribute dimensions and analytic views typically use <a href="glossary.html#GUID-753234A6-E8CE-4610-8C82-94EFFDB2FBC5"><span class="xrefglossterm">star schema</span></a> dimension tables and fact tables as data sources. For larger data sets, tables in the in-memory column store can offer the best query performance with analytic views. Analytic views can also be used with snowflake schemas, denormailized tables, external tables and remote tables.
                     </p>
                     <p>You specify the data source with the <code class="codeph">using_clause</code> in the attribute dimension or analytic view definition. You may specify an alias for the data source.
                     </p>
                     <p>A database user who has the privileges required for access to the data sources can create analytic view objects. The creator defines the business model, which specifies how the data is queried, and implements the model by creating attribute dimensions, hierarchies, and analytic views.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-2A7F2187-752E-44D9-B674-C32C9A397638__GUID-29C74192-2933-4DC3-A180-EE3D3F786900">Materialized Views and Analytic Views</p>
                     <p>Creating a materialized view over queries of an analytic view or a hierarchy is not supported. You may use a materialized view in a <code class="codeph">MEASURE_GROUP</code> phrase of a <code class="codeph">cache_clause</code> of an analytic view.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-2A7F2187-752E-44D9-B674-C32C9A397638__GUID-AD1EA35B-165B-4769-A6CC-6C4DA90FD75C">Constraints for Analytic View Objects</p>
                     <p>For optimal query performance in queries of an analytic view, you should use the same constraints that you would typically use for querying a star schema. An attribute dimension or analytic view does not require that the source table or view have any particular constraints defined or enabled. Also, defining an attribute dimension or analytic view does not introduce any additional constraints on those tables or views. The PL/SQL functions <code class="codeph">VALIDATE_HIERARCHY</code> and <code class="codeph">VALIDATE_ANALYTIC_VIEW</code> are available for validating that the data in a table or view used by an attribute dimension in a hierarchy or used by an analytic view conforms to the logical constraints inherent in the metadata definitions.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-2A7F2187-752E-44D9-B674-C32C9A397638__GUID-959BC9DC-D35A-48CE-95D2-DADB517213A0">Naming Conventions for Analytic Views</p>
                     <p>The naming conventions for attribute dimensions, hierarchies, and analytic views, and components of them such as attributes, levels, and measures, follow standard database identifier rules. Double-quotes may be used to enclose identifiers, including extended characters and mixed-case; otherwise, the standard upper-case and limited character rules apply.</p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-6F948948-6AE6-4A89-8AAC-5B8952CEF41D" name="GUID-6F948948-6AE6-4A89-8AAC-5B8952CEF41D"></a><h3 id="DWHSG-GUID-6F948948-6AE6-4A89-8AAC-5B8952CEF41D" class="sect3"><span class="enumeration_section">24.2 </span>Privileges for Analytic Views
               </h3>
               <div>
                  <p>Describes the system and object privileges available for analytic views, attribute dimensions, and hierarchies.</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-6F948948-6AE6-4A89-8AAC-5B8952CEF41D__GUID-BECDFD8C-3594-46DF-987F-D53BB29E5825">System Privileges</p>
                     <p>The following system privileges allow the user to create, alter, or drop analytic view component objects.</p>
                     <div class="tblformal" id="GUID-6F948948-6AE6-4A89-8AAC-5B8952CEF41D__GUID-A5C99BC8-BF91-4AC3-BA76-5C97AF237629">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="This table lists the system privileges for analytic views." frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="20%" id="d97337e313">System Privilege</th>
                                 <th align="left" valign="bottom" width="20%" id="d97337e315">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d97337e319" headers="d97337e313 "><code class="codeph">CREATE ANALYTIC VIEW</code></td>
                                 <td align="left" valign="top" width="20%" headers="d97337e319 d97337e315 ">
                                    <p>Create an analytic view in the grantee's schema.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d97337e326" headers="d97337e313 "><code class="codeph">CREATE ANY ANALYTIC VIEW</code></td>
                                 <td align="left" valign="top" width="20%" headers="d97337e326 d97337e315 ">
                                    <p>Create analytic views in any schema except SYS.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d97337e333" headers="d97337e313 "><code class="codeph">CREATE ATTRIBUTE DIMENSION</code></td>
                                 <td align="left" valign="top" width="20%" headers="d97337e333 d97337e315 ">
                                    <p>Create an attribute dimension in the grantee's schema.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d97337e340" headers="d97337e313 "><code class="codeph">CREATE ANY ATTRIBUTE DIMENSION</code></td>
                                 <td align="left" valign="top" width="20%" headers="d97337e340 d97337e315 ">
                                    <p>Create attribute dimensions in any schema except SYS.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d97337e347" headers="d97337e313 "><code class="codeph">CREATE HIERARCHY</code></td>
                                 <td align="left" valign="top" width="20%" headers="d97337e347 d97337e315 ">
                                    <p>Create a hierarchy in the grantee's schema.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d97337e354" headers="d97337e313 "><code class="codeph">CREATE ANY HIERARCHY</code></td>
                                 <td align="left" valign="top" width="20%" headers="d97337e354 d97337e315 ">
                                    <p>Create hierarchies in any schema except SYS.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d97337e361" headers="d97337e313 "><code class="codeph">ALTER ANY ANALYTIC VIEW</code></td>
                                 <td align="left" valign="top" width="20%" headers="d97337e361 d97337e315 ">
                                    <p>Rename analytic views in any schema except SYS.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d97337e368" headers="d97337e313 "><code class="codeph">ALTER ANY ATTRIBUTE DIMENSION</code></td>
                                 <td align="left" valign="top" width="20%" headers="d97337e368 d97337e315 ">
                                    <p>Rename attribute dimensions in any schema except SYS.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d97337e375" headers="d97337e313 "><code class="codeph">ALTER ANY HIERARCHY</code></td>
                                 <td align="left" valign="top" width="20%" headers="d97337e375 d97337e315 ">
                                    <p>Rename hierarchies in any schema except SYS.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d97337e382" headers="d97337e313 "><code class="codeph">DROP ANY ANALYTIC VIEW</code></td>
                                 <td align="left" valign="top" width="20%" headers="d97337e382 d97337e315 ">
                                    <p>Drop analytic views in any schema except SYS.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d97337e389" headers="d97337e313 "><code class="codeph">DROP ANY ATTRIBUTE DIMENSION</code></td>
                                 <td align="left" valign="top" width="20%" headers="d97337e389 d97337e315 ">
                                    <p>Drop attribute dimensions in any schema except SYS.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d97337e397" headers="d97337e313 "><code class="codeph">DROP ANY HIERARCHY</code></td>
                                 <td align="left" valign="top" width="20%" headers="d97337e397 d97337e315 ">
                                    <p>Drop hierarchies in any schema except SYS.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d97337e404" headers="d97337e313 "><code class="codeph">SELECT ANY TABLE</code></td>
                                 <td align="left" valign="top" width="20%" headers="d97337e404 d97337e315 ">
                                    <p>Query or view any analytic view or hierarchy in any schema.</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-6F948948-6AE6-4A89-8AAC-5B8952CEF41D__GUID-41132FF0-7D4D-47FD-90D3-B7F75B5751C6">Object Privileges</p>
                     <p>The following object privileges allow the user to query or rename analytic view component objects.</p>
                     <div class="tblformal" id="GUID-6F948948-6AE6-4A89-8AAC-5B8952CEF41D__GUID-C61F8552-2C70-4B5E-B58F-A09ECBDBC27B">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="This table lists the object privileges for analytic views." frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" id="d97337e423">Object Privilege</th>
                                 <th align="left" valign="bottom" id="d97337e425">Operations Authorized</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d97337e429" headers="d97337e423 "><code class="codeph">ALTER</code></td>
                                 <td align="left" valign="top" headers="d97337e429 d97337e425 ">Rename the analytic view, attribute dimension, or hierarchy.</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d97337e435" headers="d97337e423 "><code class="codeph">READ</code></td>
                                 <td align="left" valign="top" headers="d97337e435 d97337e425 ">Query the object with the <code class="codeph">SELECT</code> statement.
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d97337e444" headers="d97337e423 "><code class="codeph">SELECT</code></td>
                                 <td align="left" valign="top" headers="d97337e444 d97337e425 ">Query the object with the <code class="codeph">SELECT</code> statement.
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-6F948948-6AE6-4A89-8AAC-5B8952CEF41D__GUID-0D9657E0-0785-41A8-BC0A-43863F483FF1">
                     <p class="titleinexample">Example 24-1 Granting System Privileges</p>
                     <p>The following statements grant the <code class="codeph">CREATE</code> system privilege to the user av_user.
                     </p><pre class="pre codeblock"><code>GRANT CREATE ATTRIBUTE DIMENSION TO av_user;
GRANT CREATE HIERARCHY TO av_user;
GRANT CREATE ANALYTIC VIEW TO av_user;
GRANT SELECT ANY TABLE TO av_user;</code></pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-6F948948-6AE6-4A89-8AAC-5B8952CEF41D__GUID-FFB5DF1C-726E-4766-8E4A-B7B9B688A073">
                     <p class="titleinexample">Example 24-2 Granting Object Privileges</p>
                     <p>The following statements grant all object privileges to the user av_user2 and then revoke the <code class="codeph">ALTER</code> privilege.
                     </p><pre class="pre codeblock"><code>GRANT ALL ON "AV_USER".SALES_AV TO "AV_USER2";
REVOKE ALTER ON "AV_USER".SALES_AV FROM "AV_USER2";</code></pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="RESOURCEID-183423-7FDAC625"></a><div class="sect2"><a id="GUID-FC745EA1-721D-48E3-96D1-B4DE1758AFF8" name="GUID-FC745EA1-721D-48E3-96D1-B4DE1758AFF8"></a><h3 id="DWHSG-GUID-FC745EA1-721D-48E3-96D1-B4DE1758AFF8" class="sect3"><span class="enumeration_section">24.3 </span>Application Programming Interfaces for Analytic Views
               </h3>
               <div>
                  <p>The application programming interfaces for analytic views consist of SQL DDL statements, PL/SQL procedures and functions, and data dictionary views.</p>
                  <p>These interfaces are listed in the following topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="overview-analytic-views.html#GUID-FC745EA1-721D-48E3-96D1-B4DE1758AFF8__SQLDDLSTATEMENTSFORTHECREATIONANDMA-7DCA4A27">SQL DDL Statements for the Creation and Management of Analytic Views</a></p>
                     </li>
                     <li>
                        <p><a href="overview-analytic-views.html#GUID-FC745EA1-721D-48E3-96D1-B4DE1758AFF8__PLSQLPACKAGEFORANALYTICVIEWS-7DCA5667">PL/SQL Package for Analytic Views</a></p>
                     </li>
                     <li>
                        <p><a href="overview-analytic-views.html#GUID-FC745EA1-721D-48E3-96D1-B4DE1758AFF8__DATADICTIONARYVIEWSFORANALYTICVIEWS-7DCA4E84">Data Dictionary Views for Analytic Views</a></p>
                     </li>
                  </ul>
                  <div class="section" id="GUID-FC745EA1-721D-48E3-96D1-B4DE1758AFF8__SQLDDLSTATEMENTSFORTHECREATIONANDMA-7DCA4A27">
                     <p class="subhead2" id="GUID-FC745EA1-721D-48E3-96D1-B4DE1758AFF8__GUID-0E32C217-BE04-4AB0-9027-C621B31CA245">SQL DDL Statements for the Creation and Management of Analytic Views</p>
                     <p>You create and manage analytic view objects with the following SQL DDL statements:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">CREATE ANALYTIC VIEW</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">CREATE ATTRIBUTE DIMENSION</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">CREATE HIERARCHY</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ALTER ANALYTIC VIEW</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ALTER ATTRIBUTE DIMENSION</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ALTER HIERARCHY</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">DROP ANALYTIC VIEW</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">DROP ATTRIBUTE DIMENSION</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">DROP HIERARCHY</code></p>
                        </li>
                     </ul>
                     <p>For details about these statements, see <a href="../sqlrf/CREATE-ANALYTIC-VIEW.html#SQLRF-GUID-EBA7E9BC-3F49-4AA7-9EF6-9255FE7AE466" target="_blank"><code class="codeph">CREATE ANALYTIC VIEW</code></a> and the other statements in <span><cite>Oracle Database SQL Language Reference</cite></span>.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-FC745EA1-721D-48E3-96D1-B4DE1758AFF8__GUID-1D4A2853-E5FC-4442-9A6D-4A637EBB7C09">SQL SELECT Statement Clauses for Filtered Facts and Added Measures</p>
                     <p>In the <code class="codeph">WITH</code> and <code class="codeph">FROM</code> clauses of a <code class="codeph">SELECT</code> statement, you can define one or more transitory analytic views that filter the hierarchy members before the aggregation of measure values for the hierarchy. You can also define additional measures that participate in the query. The filtered facts and additional measures are based on an existing persistent analytic view, but they do not alter the definition of the persistent analytic view itself.
                     </p>
                     <div class="infoboxnotealso" id="GUID-FC745EA1-721D-48E3-96D1-B4DE1758AFF8__GUID-2CFA7EB5-C09D-4F21-BE79-29E8309A6E09">
                        <p class="notep1">See Also:</p><a href="analytic-view-objects.html#GUID-BEE5DB77-C00D-46F7-8543-F4EE3356BCE2" title="Queries that SELECT from analytic views may include the FILTER FACT keywords to filter the fact data accessed by the analytic view prior to any calculations and the ADD MEASURES keywords to define additional calculated measures for the query.">Analytic View Queries with Filtered Facts and Added Measures</a></div>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-FC745EA1-721D-48E3-96D1-B4DE1758AFF8__PLSQLPACKAGEFORANALYTICVIEWS-7DCA5667">
                     <p class="subhead2" id="GUID-FC745EA1-721D-48E3-96D1-B4DE1758AFF8__GUID-6C4D543A-B444-4533-81C4-9903BA114AC1">PL/SQL Package for Analytic Views</p>
                     <p>You can validate the data for analytic view and hierarchy objects with the following procedures in the <code class="codeph">DBMS_HIERARCHY</code> package:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">CREATE_VALIDATE_LOG_TABLE</code> procedure
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">VALIDATE_ANALYTIC_VIEW</code> function
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">VALIDATE_CHECK_SUCCESS</code> function
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">VALIDATE_HIERARCHY</code> function
                           </p>
                        </li>
                     </ul>
                     <p>For details about this package, see <a href="../arpls/DBMS_HIERARCHY.html#ARPLS-GUID-BA9CF136-9144-4880-BFF7-67B369E81D62" target="_blank">DBMS_HIERARCHY</a> in <cite><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></cite>.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-FC745EA1-721D-48E3-96D1-B4DE1758AFF8__DATADICTIONARYVIEWSFORANALYTICVIEWS-7DCA4E84">
                     <p class="subhead2" id="GUID-FC745EA1-721D-48E3-96D1-B4DE1758AFF8__GUID-A4DB4A03-C83A-4711-8886-03DF8D30ABE2">Data Dictionary Views for Analytic Views</p>
                     <p>The following data dictionary views contain information about analytic view objects. Only the views with the prefix <code class="codeph">ALL</code> are listed. Each view also has a corresponding <code class="codeph">DBA</code> and <code class="codeph">USER</code> version.
                     </p>
                     <p><span class="bold">Analytic View Views</span></p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">ALL_ANALYTIC_VIEW_ATTR_CLASS</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ALL_ANALYTIC_VIEW_BASE_MEAS</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ALL_ANALYTIC_VIEW_CALC_MEAS</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ALL_ANALYTIC_VIEW_CLASS</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ALL_ANALYTIC_VIEW_COLUMNS</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ALL_ANALYTIC_VIEW_DIM_CLASS</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ALL_ANALYTIC_VIEW_DIMENSIONS</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ALL_ANALYTIC_VIEW_HIER_CLASS</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ALL_ANALYTIC_VIEW_HIERS</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ALL_ANALYTIC_VIEW_KEYS</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ALL_ANALYTIC_VIEW_LEVEL_CLASS</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ALL_ANALYTIC_VIEW_LEVELS</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ALL_ANALYTIC_VIEW_LVLGRPS</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ALL_ANALYTIC_VIEW_MEAS_CLASS</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ALL_ANALYTIC_VIEWS</code></p>
                        </li>
                     </ul>
                     <p><span class="bold">Attribute Dimension Views</span></p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">ALL_ATTRIBUTE_DIM_ATTR_CLASS</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ALL_ATTRIBUTE_DIM_ATTRS</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ALL_ATTRIBUTE_DIM_CLASS</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ALL_ATTRIBUTE_DIM_JOIN_PATHS</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ALL_ATTRIBUTE_DIM_KEYS</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ALL_ATTRIBUTE_DIM_LEVEL_ATTRS</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ALL_ATTRIBUTE_DIM_LEVELS</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ALL_ATTRIBUTE_DIM_LVL_CLASS</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ALL_ATTRIBUTE_DIM_ORDER_ATTRS</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ALL_ATTRIBUTE_DIM_TABLES</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ALL_ATTRIBUTE_DIMENSIONS</code></p>
                        </li>
                     </ul>
                     <p><span class="bold">Hierarchy Views</span></p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">ALL_HIER_CLASS</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ALL_HIER_COLUMNS</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ALL_HIER_HIER_ATTR_CLASS</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ALL_HIER_HIER_ATTRIBUTES</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ALL_HIER_JOIN_PATHS</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ALL_HIER_LEVEL_ID_ATTRS</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ALL_HIER_LEVELS</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ALL_HIERARCHIES</code></p>
                        </li>
                     </ul>
                     <p>For details about these views, see <a href="../refrn/ALL_ANALYTIC_VIEWS.html#REFRN-GUID-DA5210A9-C25C-4EEC-B1D6-B7217FB532A7" target="_blank"><code class="codeph">ALL_ANALYTIC_VIEWS</code></a> and the other views in <span><cite>Oracle Database Reference</cite></span>.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-71DF15E8-9AE8-4EB1-9D65-84E88D5A48A5" name="GUID-71DF15E8-9AE8-4EB1-9D65-84E88D5A48A5"></a><h3 id="DWHSG-GUID-71DF15E8-9AE8-4EB1-9D65-84E88D5A48A5" class="sect3"><span class="enumeration_section">24.4 </span>Compilation States of Analytic Views
               </h3>
               <div>
                  <p>When you create or alter an attribute dimension, a hierarchy, or an analytic view, Oracle Database ascertains the internal validity of the objectâ€™s metadata.</p>
                  <p>The SQL DDL <code class="codeph">CREATE</code> and <code class="codeph">ALTER</code> statements for analytic views have <code class="codeph">FORCE</code> and <code class="codeph">NOFORCE</code> options, with <code class="codeph">NOFORCE</code> as the default. The verification of metadata that depends on another object is optional and is determined by the <code class="codeph">FORCE</code> and <code class="codeph">NOFORCE</code> options.
                  </p>
                  <p> If you specify <code class="codeph">NOFORCE</code> and the compilation fails, then the <code class="codeph">CREATE</code> or <code class="codeph">ALTER</code> operation fails and an error is raised. If you specify <code class="codeph">FORCE</code>, the <code class="codeph">CREATE</code> or <code class="codeph">ALTER</code> succeeds even if the compilation fails.
                  </p>
                  <p>You can explicitly invoke a compilation by specifying the <code class="codeph">COMPILE</code> keyword; a compilation is implicitly invoked as needed during a query. A query returns an error if an object is not compiled and cannot implicitly be compiled.
                  </p>
                  <p>The compilation state is recorded in the <code class="codeph">COMPILE_STATE</code> column in the <code class="codeph">ALL_ATTRIBUTE_DIMENSIONS</code>, <code class="codeph">ALL_HIERARCHIES</code>, and <code class="codeph">ALL_ANALYTIC_VIEWS</code> data dictionary views (and the corresponding <code class="codeph">DBA</code> and <code class="codeph">USER</code> views). The state may be one of the following:
                  </p>
                  <div class="tblformal" id="GUID-71DF15E8-9AE8-4EB1-9D65-84E88D5A48A5__GUID-52739A5F-5EBF-4B46-A29A-3D1306CBA169">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="This table describes the possible compilation states." frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="20%" id="d97337e928">Value</th>
                              <th align="left" valign="bottom" width="20%" id="d97337e931">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d97337e936" headers="d97337e928 ">
                                 <p><code class="codeph">VALID</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d97337e936 d97337e931 ">
                                 <p>The object has been compiled without error.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d97337e944" headers="d97337e928 ">
                                 <p><code class="codeph">INVALID</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d97337e944 d97337e931 ">
                                 <p>Some change requires recompilation or the object has been compiled and errors have occurred.</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p>A SQL DDL operation on the analytic views object causes the state of dependent objects to change to <code class="codeph">INVALID</code>. For example, a change to an attribute dimension causes any hierarchies that use that attribute dimension, and analytic views dimensioned by the attribute dimension, to change state to <code class="codeph">INVALID</code>. Also, DDL changes to the tables or views used by attribute dimensions and analytic views cause the state for those objects to change to <code class="codeph">INVALID</code>.
                  </p>
                  <p>The <code class="codeph">ALL_OBJECTS</code> data dictionary view has a <code class="codeph">STATUS</code> column that may be <code class="codeph">VALID</code> or <code class="codeph">INVALID</code>. For attribute dimensions, hierarchies, and analytic views, the <code class="codeph">STATUS</code> value correlates to the <code class="codeph">COMPILE_STATE</code>. When <code class="codeph">COMPILE_STATE</code> is <code class="codeph">VALID</code>, the <code class="codeph">STATUS</code> value is <code class="codeph">VALID</code>. When <code class="codeph">COMPILE_STATE</code> is <code class="codeph">INVALID</code>, <code class="codeph">STATUS</code> is <code class="codeph">INVALID</code>.
                  </p>
               </div>
            </div><a id="RESOURCEID-185823-7FDC7D5C"></a><div class="sect2"><a id="GUID-73BE6787-3590-46FB-86F0-D402C244A687" name="GUID-73BE6787-3590-46FB-86F0-D402C244A687"></a><h3 id="DWHSG-GUID-73BE6787-3590-46FB-86F0-D402C244A687" class="sect3"><span class="enumeration_section">24.5 </span>Validation of Data
               </h3>
               <div>
                  <p>To ensure the accuracy of query results, the data of hierarchies and analytic views must be validated. </p>
                  <p>To validate the data for a hierarchy or analytic view, use the functions in the PL/SQL package <code class="codeph">DBMS_HIERARCHY</code>. The <code class="codeph">VALIDATE_HIERARCHY</code> and <code class="codeph">VALIDATE_ANALYTIC_VIEW</code> functions validate the data and store the results in a table. An optional argument to the functions is the name of a table. The <code class="codeph">CREATE_VALIDATE_LOG_TABLE</code> procedure creates a table that you can use for the purpose. If you do not specify a table, the <code class="codeph">VALIDATE_HIERARCHY</code> and <code class="codeph">VALIDATE_ANALYTIC_VIEW</code> functions create a table.
                  </p>
                  <p>Any SQL DDL or DML changes made on the tables used by an associated attribute dimension or analytic view, or any DDL change to an attribute dimension, hierarchy, or analytic view itself, causes the state of a hierarchy to change to <code class="codeph">INVALID</code>.
                  </p>
                  <p>If any data security policies are applied to a hierarchy or analytic view, or any of the tables or views used by an associated attribute dimension, then the validation state cannot be determined and the <code class="codeph">VALIDATE_STATE</code> is not set to <code class="codeph">VALID</code>. An execution of the <code class="codeph">VALIDATE_HIERARCHY</code> or <code class="codeph">VALIDATE_ANALYTIC_VIEW</code> function indicates whether the hierarchy or analytic view is valid at that time and for that user.
                  </p>
                  <p>If a SQL DML change to a table or view used by an attribute dimension occurs between the time you query the data dictionary or run the <code class="codeph">VALIDATE_HIERARCHY</code> function and the time you execute a query of a hierarchy or analytic view, then the hierarchy may become invalid. To ensure that a hierarchy is valid for a query, you can establish a read-only transaction (for example, <code class="codeph">SET TRANSACTION READ ONLY)</code>, run the validation function, verify the success of the validation, execute queries, and then end the transaction with a <code class="codeph">COMMIT</code> or <code class="codeph">ROLLBACK</code> statement.
                  </p>
               </div>
            </div>
            <div class="sect2"><a id="GUID-DEC26050-9DC9-4F04-BDB5-182045AB1AD7" name="GUID-DEC26050-9DC9-4F04-BDB5-182045AB1AD7"></a><h3 id="DWHSG-GUID-DEC26050-9DC9-4F04-BDB5-182045AB1AD7" class="sect3"><span class="enumeration_section">24.6 </span>Classifications for Analytic Views
               </h3>
               <div>
                  <p>Classifications provide descriptive metadata for attribute dimensions, hierarchies, and analytic view objects, and for components of them such as attribute dimension keys, attributes, levels, and measures.</p>
                  <p>Applications can use classifications to present information about hierarchies and analytic views. Classifications are similar to comments on tables and columns, but a comment is a single value. You can specify any number of classifications for the same object. You can vary the values by language. A classification value is always a text literal and can have maximum length of 4000 bytes.</p>
                  <div class="section">
                     <p>Classifications play no role in SQL queries, but are available in the data dictionary views for use by tools or applications. The <code class="codeph">CAPTION</code> and <code class="codeph">DESCRIPTION</code> classifications have DDL shortcuts for all objects that support classifications.
                     </p>
                     <p>You may specify a language for a classification value. If you specify a language, it must be a valid <code class="codeph">NLS_LANGUAGE</code> value. If you do not specify a language, then the language value for the classification is <code class="codeph">NULL</code> and the default database language is used.
                     </p>
                     <p>The DDL shortcuts for <code class="codeph">CAPTION</code> and <code class="codeph">DESCRIPTION</code> apply only to the <code class="codeph">NULL</code> language. To specify a <code class="codeph">CAPTION</code> and <code class="codeph">DESCRIPTION</code> classification for a particular language, you must use the full <code class="codeph">CLASSIFICATION</code> syntax.
                     </p>
                     <p>SQL tools can interpret a <code class="codeph">NULL</code> language value as a default. For example, suppose a tool is looking for the <code class="codeph">CAPTION</code> for an attribute dimension. The tool might first look for the <code class="codeph">CAPTION</code> having a language that matches the current <code class="codeph">NLS_LANGUAGE</code>. If it finds one, it uses that <code class="codeph">CAPTION</code> value. If not, it then looks for a <code class="codeph">CAPTION</code> having a <code class="codeph">NULL</code> language value and uses that. The SQL logic is up to the user, tool, or application.
                     </p>
                     <p>To provide descriptive metadata that varies by language for a member of a hierarchy, use the hierarchical attributes <code class="codeph">MEMBER_NAME</code>, <code class="codeph">MEMBER_CAPTION</code>, and <code class="codeph">MEMBER_DESCRIPTION</code>.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-29F53415-B445-41F3-9B8C-3867576A9728" name="GUID-29F53415-B445-41F3-9B8C-3867576A9728"></a><h3 id="DWHSG-GUID-29F53415-B445-41F3-9B8C-3867576A9728" class="sect3"><span class="enumeration_section">24.7 </span>Share Analytic Views with Application Containers
               </h3>
               <div>
                  <p>You can share analytic views with application containers.</p>
                  <p>In the definition of analytic view objects, you can use the <code class="codeph">SHARING</code> clause to share attribute dimension, hierarchy, or analytic view metadata or objects with application containers. The values for the clause are the following:
                  </p>
                  <div class="section">
                     <div class="tblformal" id="GUID-29F53415-B445-41F3-9B8C-3867576A9728__GUID-64E1BC40-E6A0-45F7-8608-FC1F00B3611F">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="This table lists the values for the SHARING clause." frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="20%" id="d97337e1242">Value</th>
                                 <th align="left" valign="bottom" width="20%" id="d97337e1245">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d97337e1250" headers="d97337e1242 ">
                                    <p><code class="codeph">NONE</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d97337e1250 d97337e1245 ">
                                    <p>Do not share; this is the default value.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d97337e1258" headers="d97337e1242 ">
                                    <p><code class="codeph">METADATA</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d97337e1258 d97337e1245 ">
                                    <p>Share metadata only.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d97337e1266" headers="d97337e1242 ">
                                    <p><code class="codeph">OBJECT</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d97337e1266 d97337e1245 ">
                                    <p>Share the object, including data.</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>If you specify <code class="codeph">METADATA</code>, then only the definition of the object is shared with application containers. 
                     </p>
                     <p>If you specify <code class="codeph">OBJECT</code>, then the attribute dimension, hierarchy, or analytic view object, including the data sources of the object, is shared with the application container.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-EB33CFE6-21A7-40A5-9AD7-B868D39AD602" name="GUID-EB33CFE6-21A7-40A5-9AD7-B868D39AD602"></a><h3 id="DWHSG-GUID-EB33CFE6-21A7-40A5-9AD7-B868D39AD602" class="sect3"><span class="enumeration_section">24.8 </span>Alter or Drop an Analytic View Object
               </h3>
               <div>
                  <p>With SQL DDL statements you can change the name of an object or you can drop it. </p>
                  <p>To alter any aspect of an analytic view object other than the name, use a <code class="codeph">CREATE</code> <code class="codeph">OR</code> <code class="codeph">REPLACE</code> statement to replace the object with one that has the desired alterations.
                  </p>
                  <div class="example" id="GUID-EB33CFE6-21A7-40A5-9AD7-B868D39AD602__GUID-82540471-60B4-4322-88DA-1477C14725CF">
                     <p class="titleinexample">Example 24-3 Renaming an Attribute Dimension</p>
                     <p>The following example renames an attribute dimension.</p><pre class="pre codeblock"><code>ALTER ATTRIBUTE DIMENSION product_attr_dim RENAME TO myproduct_attr_dim;</code></pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-EB33CFE6-21A7-40A5-9AD7-B868D39AD602__GUID-D2AC4DC0-2228-4557-950E-668B1329947E">
                     <p class="titleinexample">Example 24-4 Dropping an Attribute Dimension</p>
                     <p>The following example drops an attribute dimension.</p><pre class="pre codeblock"><code>DROP ATTRIBUTE DIMENSION myproduct_attr_dim;</code></pre></div>
                  <!-- class="example" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-51534FD7-A388-4378-9DD5-93004CD91E19" name="GUID-51534FD7-A388-4378-9DD5-93004CD91E19"></a><h3 id="DWHSG-GUID-51534FD7-A388-4378-9DD5-93004CD91E19" class="sect3"><span class="enumeration_section">24.9 </span>Data and Scripts for Examples
               </h3>
               <div>
                  <p>This section describes the data on which the analytic views examples are based and contains SQL statements that create the analytic view component objects.</p>
                  <p>The data and the analytic view components are described in the following topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="overview-analytic-views.html#GUID-F049EEFA-F931-433F-A678-793493DF650E" title="The data used by the examples consists of sales data in a single fact table and three dimension tables with time periods, products, and geographies.">About the Data and Scripts for Examples</a></p>
                     </li>
                     <li>
                        <p><a href="overview-analytic-views.html#GUID-7715B749-F84F-459D-90E5-7F052D6B4B2F" title="This topic contains SQL statements that create the example attribute dimensions.">Create Attribute Dimension Statements</a></p>
                     </li>
                     <li>
                        <p><a href="overview-analytic-views.html#GUID-091832D4-8C48-4B0D-9AAA-E9ECA5BA2896" title="This topic contains SQL statements that create the example hierarchies.">Create Hierarchy Statements</a></p>
                     </li>
                     <li>
                        <p><a href="overview-analytic-views.html#GUID-2286B197-82A8-4FAA-B347-9366C20893C7" title="This topic contains a SQL statement that creates the example analytic view.">Create Analytic View Statements</a></p>
                     </li>
                  </ul>
               </div>
               <div class="sect3"><a id="GUID-F049EEFA-F931-433F-A678-793493DF650E" name="GUID-F049EEFA-F931-433F-A678-793493DF650E"></a><h4 id="DWHSG-GUID-F049EEFA-F931-433F-A678-793493DF650E" class="sect4"><span class="enumeration_section">24.9.1 </span>About the Data and Scripts for Examples
                  </h4>
                  <div>
                     <p>The data used by the examples consists of sales data in a single fact table and three dimension tables with time periods, products, and geographies.</p>
                     <p>You can view and run the SQL scripts that create the tables, the analytic view component objects, and the queries used in the examples from the Oracle Live SQL website at <a href="https://livesql.oracle.com/apex/livesql/file/index.html" target="_blank">https://livesql.oracle.com/apex/livesql/file/index.html</a>.
                     </p>
                     <p>The data is in the star schema tables shown in the following figure.</p>
                     <div class="figure" id="GUID-F049EEFA-F931-433F-A678-793493DF650E__TABLESFORANALYTICVIEWEXAMPLES-2E64917A">
                        <p class="titleinfigure">Figure 24-1 Tables for Analytic View Examples </p><img src="img/example-tables-analytic-views.png" alt="Description of Figure 24-1 follows" title="Description of Figure 24-1 follows" longdesc="img_text/example-tables-analytic-views.html"><br><a href="img_text/example-tables-analytic-views.html">Description of "Figure 24-1 Tables for Analytic View Examples "</a></div>
                     <!-- class="figure" -->
                     <p>In the SALES_FACT table, the MONTH_ID, DEPARTMENT_ID, and STATE_PROVINCE_ID columns are foreign keys to the TIME_DIM, PRODUCT_DIM, and GEOGRAPHY_DIM dimension tables, respectively.</p>
                     <p>In each dimension table, the _ID columns are used as keys and the _NAME columns are used as descriptors.  Other columns may be used as attributes for sorting or reporting. </p>
                     <p>There are 1:1 relationships in data between _ID and _NAME columns. You can sort time periods by using the _END_DATE columns of the TIME_DIM table.</p>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-7715B749-F84F-459D-90E5-7F052D6B4B2F" name="GUID-7715B749-F84F-459D-90E5-7F052D6B4B2F"></a><h4 id="DWHSG-GUID-7715B749-F84F-459D-90E5-7F052D6B4B2F" class="sect4"><span class="enumeration_section">24.9.2 </span>Create Attribute Dimension Statements
                  </h4>
                  <div>
                     <p>This topic contains SQL statements that create the example attribute dimensions.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-7715B749-F84F-459D-90E5-7F052D6B4B2F__GUID-1BE48D81-7EE7-4752-BEDB-86DFE0BA86DA">Create the time_attr_dim Attribute Dimension</p>
                        <p>The time_attr_dim attribute dimension is based on the TIME_DIM dimension table.  The following statement creates the attribute dimension.</p><pre class="pre codeblock"><code>CREATE OR REPLACE ATTRIBUTE DIMENSION time_attr_dim
DIMENSION TYPE TIME
USING time_dim
ATTRIBUTES
 (year_id
   CLASSIFICATION caption VALUE 'YEAR_ID'
   CLASSIFICATION description VALUE 'YEAR ID',
  year_name
    CLASSIFICATION caption VALUE 'YEAR_NAME'
    CLASSIFICATION description VALUE 'Year',
  year_end_date
    CLASSIFICATION caption VALUE 'YEAR_END_DATE'
    CLASSIFICATION description VALUE 'Year End Date',
  quarter_id
    CLASSIFICATION caption VALUE 'QUARTER_ID'
    CLASSIFICATION description VALUE 'QUARTER ID',
  quarter_name
    CLASSIFICATION caption VALUE 'QUARTER_NAME'
    CLASSIFICATION description VALUE 'Quarter',
  quarter_end_date
    CLASSIFICATION caption VALUE 'QUARTER_END_DATE'
    CLASSIFICATION description VALUE 'Quarter End Date',
  quarter_of_year
    CLASSIFICATION caption VALUE 'QUARTER_OF_YEAR'
    CLASSIFICATION description VALUE 'Quarter of Year',    
  month_id
    CLASSIFICATION caption VALUE 'MONTH_ID'
    CLASSIFICATION description VALUE 'MONTH ID',
  month_name
    CLASSIFICATION caption VALUE 'MONTH_NAME'
    CLASSIFICATION description VALUE 'Month',
  month_long_name
    CLASSIFICATION caption VALUE 'MONTH_LONG_NAME'
    CLASSIFICATION description VALUE 'Month Long Name',
  month_end_date
    CLASSIFICATION caption VALUE 'MONTH_END_DATE'
    CLASSIFICATION description VALUE 'Month End Date',
  month_of_quarter
    CLASSIFICATION caption VALUE 'MONTH_OF_QUARTER'
    CLASSIFICATION description VALUE 'Month of Quarter',
  month_of_year
    CLASSIFICATION caption VALUE 'MONTH_OF_YEAR'
    CLASSIFICATION description VALUE 'Month of Year',
  season
    CLASSIFICATION caption VALUE 'SEASON'
    CLASSIFICATION description VALUE 'Season',
  season_order
    CLASSIFICATION caption VALUE 'SEASON_ORDER'
    CLASSIFICATION description VALUE 'Season Order')
LEVEL month
  LEVEL TYPE MONTHS
  CLASSIFICATION caption VALUE 'MONTH'
  CLASSIFICATION description VALUE 'Month'
  KEY month_id
  MEMBER NAME month_name
  MEMBER CAPTION month_name
  MEMBER DESCRIPTION month_long_name
  ORDER BY month_end_date
  DETERMINES (month_end_date,
    quarter_id,
    season,
    season_order,
    month_of_year,
    month_of_quarter)
LEVEL quarter
  LEVEL TYPE QUARTERS
  CLASSIFICATION caption VALUE 'QUARTER'
  CLASSIFICATION description VALUE 'Quarter'
  KEY quarter_id
  MEMBER NAME quarter_name
  MEMBER CAPTION quarter_name
  MEMBER DESCRIPTION quarter_name
  ORDER BY quarter_end_date
  DETERMINES (quarter_end_date,
    quarter_of_year,
    year_id)
LEVEL year
  LEVEL TYPE YEARS
  CLASSIFICATION caption VALUE 'YEAR'
  CLASSIFICATION description VALUE 'Year'
  KEY year_id
  MEMBER NAME year_name
  MEMBER CAPTION year_name
  MEMBER DESCRIPTION year_name
  ORDER BY year_end_date
  DETERMINES (year_end_date)
LEVEL season
  LEVEL TYPE QUARTERS
  CLASSIFICATION caption VALUE 'SEASON'
  CLASSIFICATION description VALUE 'Season'
  KEY season
  MEMBER NAME season
  MEMBER CAPTION season
  MEMBER DESCRIPTION season
LEVEL month_of_quarter
  LEVEL TYPE MONTHS
  CLASSIFICATION caption VALUE 'MONTH_OF_QUARTER'
  CLASSIFICATION description VALUE 'Month of Quarter'
  KEY month_of_quarter;</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-7715B749-F84F-459D-90E5-7F052D6B4B2F__GUID-D0D50A10-0A69-4EAA-9B09-B079EC70A4F6">Create the product_attr_dim Attribute Dimension</p>
                        <p>The product_attr_dim attribute dimension is based on the PRODUCT_DIM dimension table. The following statement creates the attribute dimension.</p><pre class="pre codeblock"><code>CREATE OR REPLACE ATTRIBUTE DIMENSION product_attr_dim
USING product_dim 
ATTRIBUTES
 (department_id
    CLASSIFICATION caption VALUE 'DEPARTMENT_ID'
    CLASSIFICATION description VALUE 'DEPARTMENT ID',
  department_name
    CLASSIFICATION caption VALUE 'DEPARTMENT_NAME'
    CLASSIFICATION description VALUE 'Department',
  category_id
    CLASSIFICATION caption VALUE 'CATEGORY_ID'
    CLASSIFICATION description VALUE 'CATEGORY ID',
  category_name
    CLASSIFICATION caption VALUE 'CATEGORY_NAME'
    CLASSIFICATION description VALUE 'Category')
LEVEL DEPARTMENT
  CLASSIFICATION caption VALUE 'DEPARTMENT'
  CLASSIFICATION description VALUE 'Department'
  KEY department_id
  MEMBER NAME department_name
  MEMBER CAPTION department_name
  ORDER BY department_name
LEVEL CATEGORY
  CLASSIFICATION caption VALUE 'CATEGORY'
  CLASSIFICATION description VALUE 'Category'
  KEY category_id
  MEMBER NAME category_name
  MEMBER CAPTION category_name
  ORDER BY category_name
  DETERMINES(department_id)
ALL MEMBER NAME 'ALL PRODUCTS';</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-7715B749-F84F-459D-90E5-7F052D6B4B2F__GUID-6F7181C6-F7BF-45FB-BCFB-8400B67CA11C">Create the geography_attr_dim Attribute Dimension</p>
                        <p>The geography_attr_dim attribute dimension is based on the GEOGRAPHY_DIM dimension table. The following statement creates the attribute dimension.</p><pre class="pre codeblock"><code>CREATE OR REPLACE ATTRIBUTE DIMENSION geography_attr_dim
USING geography_dim
ATTRIBUTES
 (region_id
    CLASSIFICATION caption VALUE 'REGION_ID'
    CLASSIFICATION description VALUE 'REGION ID',
  region_name
    CLASSIFICATION caption VALUE 'REGION_NAME'
    CLASSIFICATION description VALUE 'Region',
  country_id
    CLASSIFICATION caption VALUE 'COUNTRY_ID'
    CLASSIFICATION description VALUE 'COUNTRY ID',
  country_name
    CLASSIFICATION caption VALUE 'COUNTRY_NAME'
    CLASSIFICATION description VALUE 'Country',
  state_province_id
    CLASSIFICATION caption VALUE 'STATE_PROVINCE_ID'
    CLASSIFICATION description VALUE 'STATE-PROVINCE ID',
  state_province_name
    CLASSIFICATION caption VALUE 'STATE_PROVINCE_NAME'
    CLASSIFICATION description VALUE 'State-Province')
LEVEL REGION
  CLASSIFICATION caption VALUE 'REGION'
  CLASSIFICATION description VALUE 'Region'
  KEY region_id
  MEMBER NAME region_name
  MEMBER CAPTION region_name
  ORDER BY region_name
LEVEL COUNTRY
  CLASSIFICATION caption VALUE 'COUNTRY'
  CLASSIFICATION description VALUE 'Country'
  KEY country_id
  MEMBER NAME country_name
  MEMBER CAPTION country_name
  ORDER BY country_name
  DETERMINES(region_id)
LEVEL STATE_PROVINCE
  CLASSIFICATION caption VALUE 'STATE_PROVINCE'
  CLASSIFICATION description VALUE 'State-Province'
  KEY state_province_id
  MEMBER NAME state_province_name
  MEMBER CAPTION state_province_name
  ORDER BY state_province_name
  DETERMINES(country_id)
ALL MEMBER NAME 'ALL CUSTOMERS';</code></pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-091832D4-8C48-4B0D-9AAA-E9ECA5BA2896" name="GUID-091832D4-8C48-4B0D-9AAA-E9ECA5BA2896"></a><h4 id="DWHSG-GUID-091832D4-8C48-4B0D-9AAA-E9ECA5BA2896" class="sect4"><span class="enumeration_section">24.9.3 </span>Create Hierarchy Statements
                  </h4>
                  <div>
                     <p>This topic contains SQL statements that create the example hierarchies.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-091832D4-8C48-4B0D-9AAA-E9ECA5BA2896__GUID-2A898639-DC19-440A-9339-8220BC6F81DA">Create Hierarchies Using time_attr_dim</p>
                        <p>The following statements create hierarchies that use the time_attr_dim attribute dimension.</p><pre class="pre codeblock"><code>CREATE OR REPLACE HIERARCHY time_hier
  CLASSIFICATION caption VALUE 'CALENDAR'
  CLASSIFICATION description VALUE 'CALENDAR'
USING time_attr_dim
  (month CHILD OF
   quarter CHILD OF
   year);
--
CREATE OR REPLACE HIERARCHY time_season_hier
  CLASSIFICATION caption VALUE 'SEASONS'
  CLASSIFICATION description VALUE 'Seasons'
USING time_attr_dim 
  (month CHILD OF
   season);
--
CREATE OR REPLACE HIERARCHY time_year_season_hier
USING time_attr_dim
  (month CHILD OF
   season CHILD OF
   year);
--
CREATE OR REPLACE HIERARCHY time_month_of_qtr_hier
  CLASSIFICATION caption VALUE 'MONTH_OF_QUARTER'
  CLASSIFICATION description VALUE 'Month of Quarter'
USING time_attr_dim
  (month CHILD OF
   month_of_quarter);</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-091832D4-8C48-4B0D-9AAA-E9ECA5BA2896__GUID-7ACA5CE7-DDBF-43EB-A7F4-7C5C2AE1926E">Create a Hierarchy Using product_attr_dim</p>
                        <p>The following statement creates a hierarchy that uses the product_attr_dim attribute dimension.</p><pre class="pre codeblock"><code>CREATE OR REPLACE HIERARCHY product_hier
  CLASSIFICATION caption VALUE 'PRODUCT'
  CLASSIFICATION description VALUE 'Product'
USING product_attr_dim
  (CATEGORY
   CHILD OF department);</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-091832D4-8C48-4B0D-9AAA-E9ECA5BA2896__GUID-B742FF31-3BF2-4583-8AA0-952763BD10B9">Create a Hierarchy Using geography_attr_dim</p>
                        <p>The following statement creates a hierarchy that uses the geography_attr_dim attribute dimension.</p><pre class="pre codeblock"><code>CREATE OR REPLACE HIERARCHY geography_hier
  CLASSIFICATION caption VALUE 'GEOGRAPHY'
  CLASSIFICATION description VALUE 'Geography'
USING geography_attr_dim
  (state_province
   CHILD OF country
   CHILD OF region);</code></pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-2286B197-82A8-4FAA-B347-9366C20893C7" name="GUID-2286B197-82A8-4FAA-B347-9366C20893C7"></a><h4 id="DWHSG-GUID-2286B197-82A8-4FAA-B347-9366C20893C7" class="sect4"><span class="enumeration_section">24.9.4 </span>Create Analytic View Statements
                  </h4>
                  <div>
                     <p>This topic contains a SQL statement that creates the example analytic view.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-2286B197-82A8-4FAA-B347-9366C20893C7__GUID-65D4AF29-412A-41A9-A794-D36E9E3D4B92">Create the sales_av Analytic View</p>
                        <p>The following statement creates an analytic view that uses the SALES_FACT fact table.</p><pre class="pre codeblock"><code>CREATE OR REPLACE ANALYTIC VIEW sales_av
  CLASSIFICATION caption VALUE 'Sales AV'
  CLASSIFICATION description VALUE 'Sales Analytic View'
  CLASSIFICATION created_by VALUE 'Harold C. Ehrlicher'
USING sales_fact
DIMENSION BY
  (time_attr_dim
    KEY month_id REFERENCES month_id
    HIERARCHIES (
      time_hier DEFAULT,
      time_season_hier,
      time_year_season_hier,
      time_month_of_qtr_hier),
   product_attr_dim
    KEY category_id REFERENCES category_id
    HIERARCHIES (
      product_hier DEFAULT),
   geography_attr_dim
    KEY state_province_id 
    REFERENCES state_province_id
    HIERARCHIES (
      geography_hier DEFAULT)
   )
MEASURES
 (sales FACT sales
    CLASSIFICATION caption VALUE 'Sales'
    CLASSIFICATION description VALUE 'Sales'
    CLASSIFICATION format_string VALUE '$9,999.99',
  units FACT units
    CLASSIFICATION caption VALUE 'Units'
    CLASSIFICATION description VALUE 'Units Sold'
    CLASSIFICATION format_string VALUE '9,999',
  sales_prior_period AS
    (LAG(SALES) OVER (HIERARCHY time_hier OFFSET 1))
      CLASSIFICATION caption VALUE 'Sales Prior Period'
      CLASSIFICATION description VALUE 'Sales Prior_Period'
      CLASSIFICATION format_string VALUE '$9,999.99',
  sales_chg_prior_period AS
    (LAG_DIFF(SALES) OVER (HIERARCHY time_hier OFFSET 1))
      CLASSIFICATION caption VALUE 'Sales Change Prior Period'
      CLASSIFICATION description VALUE 'Sales Change Prior Period'
      CLASSIFICATION format_string VALUE '$9,999.99',
  sales_qtr_ago AS
    (LAG(SALES) OVER (HIERARCHY time_hier OFFSET 1
      ACROSS ANCESTOR AT LEVEL quarter))
        CLASSIFICATION caption VALUE 'Sales Qtr Ago'
        CLASSIFICATION description VALUE 'Sales Qtr Ago'
        CLASSIFICATION format_string VALUE '$9,999.99',
  sales_chg_qtr_ago AS 
    (LAG_DIFF(SALES) OVER (HIERARCHY time_hier OFFSET 1
      ACROSS ANCESTOR AT LEVEL quarter))
        CLASSIFICATION caption VALUE 'Sales Change Qtr Ago'
        CLASSIFICATION description VALUE 'Sales Change Qtr Ago'
        CLASSIFICATION format_string VALUE '$9,999.99',
  sales_pct_chg_qtr_ago AS
    (LAG_DIFF_PERCENT(SALES) OVER (HIERARCHY time_hier OFFSET 1
      ACROSS ANCESTOR AT LEVEL quarter))
        CLASSIFICATION caption VALUE 'Sales Percent Change Qtr Ago'
        CLASSIFICATION description VALUE 'Sales Percent Change Qtr Ago'
        CLASSIFICATION format_string VALUE '999.99',
  sales_yr_ago AS
    (LAG(SALES) OVER (HIERARCHY time_hier OFFSET 1
      ACROSS ANCESTOR AT LEVEL year))
        CLASSIFICATION caption VALUE 'Sales Year Ago'
        CLASSIFICATION description VALUE 'Sales Year Ago'
        CLASSIFICATION format_string VALUE '$9,999.99',
  sales_chg_yr_ago AS
    (LAG_DIFF(SALES) OVER (HIERARCHY time_hier OFFSET 1
      ACROSS ANCESTOR AT LEVEL year))
        CLASSIFICATION caption VALUE 'Sales Change Year Ago'
        CLASSIFICATION description VALUE 'Sales Change Year Ago'
        CLASSIFICATION format_string VALUE '$9,999.99',
  sales_pct_chg_yr_ago AS
    (LAG_DIFF_PERCENT(SALES) OVER (HIERARCHY time_hier OFFSET 1
      ACROSS ANCESTOR AT LEVEL year))
        CLASSIFICATION caption VALUE 'Sales Percent Change Year Ago'
        CLASSIFICATION description VALUE 'Sales Percent Change Year Ago'
        CLASSIFICATION format_string VALUE '999.99',
  sales_qtd AS
    (SUM(sales) OVER (HIERARCHY time_hier
      BETWEEN UNBOUNDED PRECEDING AND CURRENT MEMBER
      WITHIN ANCESTOR AT LEVEL quarter))
        CLASSIFICATION caption VALUE 'Sales Quarter to Date'
        CLASSIFICATION description VALUE 'Sales Quarter to Date'
        CLASSIFICATION format_string VALUE '$9,999.99',
  sales_ytd AS
    (SUM(sales) OVER (HIERARCHY time_hier
      BETWEEN UNBOUNDED PRECEDING AND CURRENT MEMBER
      WITHIN ANCESTOR AT LEVEL year))
        CLASSIFICATION caption VALUE 'Sales Year to Date'
        CLASSIFICATION description VALUE 'Sales Year to Date'
        CLASSIFICATION format_string VALUE '$9,999.99',
  sales_2011 AS
    (QUALIFY (sales, time_hier = year['11']))
      CLASSIFICATION caption VALUE 'Sales CY2011'
      CLASSIFICATION description VALUE 'Sales CY2011'
      CLASSIFICATION format_string VALUE '$9,999.99',
  sales_pct_chg_2011 AS
    ((sales - (QUALIFY (sales, time_hier = year['11']))) /
    (QUALIFY (sales, time_hier = year['11'])))
      CLASSIFICATION caption VALUE 'Sales Pct Change CY2011'
      CLASSIFICATION description VALUE 'Sales Pct Change CY2011'
      CLASSIFICATION format_string VALUE '999.99',
  sales_share_time_parent AS
    (SHARE_OF(sales HIERARCHY time_hier PARENT))
      CLASSIFICATION caption VALUE 'Sales Share of Time Parent'
      CLASSIFICATION description VALUE 'Sales Share of Time Parent'
      CLASSIFICATION format_string VALUE '999.99',
  sales_share_season_parent AS
    (SHARE_OF(sales HIERARCHY time_season_hier PARENT))
      CLASSIFICATION caption VALUE 'Sales Share of Season Parent'
      CLASSIFICATION description VALUE 'Sales Share of Season Parent'
     CLASSIFICATION format_string VALUE '999.99',
  sales_share_prod_parent AS
    (SHARE_OF(sales HIERARCHY product_hier PARENT))
      CLASSIFICATION caption VALUE 'Sales Share of Product Parent'
      CLASSIFICATION description VALUE 'Sales Share of Product Parent'
      CLASSIFICATION format_string VALUE '999.99',
  sales_share_dept AS
    (SHARE_OF(sales HIERARCHY product_hier LEVEL department))
      CLASSIFICATION caption VALUE 'Sales Share of Product Parent'
      CLASSIFICATION description VALUE 'Sales Share of Product Parent'
      CLASSIFICATION format_string VALUE '999.99',
  sales_share_geog_parent AS
   (SHARE_OF(sales HIERARCHY geography_hier PARENT))
      CLASSIFICATION caption VALUE 'Sales Share of Geography Parent'
      CLASSIFICATION description VALUE 'Sales Share of Geography Parent'
      CLASSIFICATION format_string VALUE '999.99',
  sales_share_region AS
    (SHARE_OF(sales HIERARCHY geography_hier LEVEL region))
      CLASSIFICATION caption VALUE 'Sales Share of Geography Parent'
      CLASSIFICATION description VALUE 'Sales Share of Geography Parent'
      CLASSIFICATION format_string VALUE '999.99'   
  )
DEFAULT MEASURE SALES;</code></pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>