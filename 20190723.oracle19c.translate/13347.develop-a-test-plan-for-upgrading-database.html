<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="Review these topics to understand how to create a series of carefully designed tests to validate all stages of the upgrade process."></meta>
      <meta name="description" content="Review these topics to understand how to create a series of carefully designed tests to validate all stages of the upgrade process."></meta>
      <title>制定升级Oracle数据库的测试计划</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Database Upgrade Guide"></meta>
      <meta property="og:description" content="Review these topics to understand how to create a series of carefully designed tests to validate all stages of the upgrade process."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Database Upgrade Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-upgrade-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-04-25T08:26:31-07:00"></meta>
      <meta name="dcterms.title" content="Database Upgrade Guide"></meta>
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96252-05"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="choose-a-new-location-for-oracle-home-when-upgrading.html" title="Previous" type="text/html"></link>
      <link rel="next" href="schema-only-accounts-upgraded-expired-password-accounts.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="UPGRD"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="choose-a-new-location-for-oracle-home-when-upgrading.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="schema-only-accounts-upgraded-expired-password-accounts.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">数据库升级指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="tasks-prepare-upgrade-oracle-database.html" property="item" typeof="WebPage"><span property="name">准备升级Oracle数据库</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="tasks-to-prepare-for-oracle-database-upgrades.html" property="item" typeof="WebPage"><span property="name">准备Oracle数据库升级的任务</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">制定升级Oracle数据库的测试计划</li>
            </ol>
            <a id="GUID-1CE27BA9-26B0-491D-89EB-A01F06CEC9D2" name="GUID-1CE27BA9-26B0-491D-89EB-A01F06CEC9D2"></a><a id="UPGRD12371"></a>
            
            <h2 id="UPGRD-GUID-1CE27BA9-26B0-491D-89EB-A01F06CEC9D2" class="sect2">制定升级Oracle数据库的测试计划</h2>
         </header>
         <div class="ind">
            <div>
               <p>查看这些主题以了解如何创建一系列精心设计的测试以验证升级过程的所有阶段。</p>
               <p>Oracle建议您对数据库和应用程序执行严格的测试。成功运行并完成测试后，您将有助于确保了解升级生产数据库的过程，以便升级过程可预测且成功。Oracle强烈建议您在升级生产数据库之前执行尽可能多的测试。不要低估完整且可重复的测试过程的重要性。</p>
               <p>您可以选择手动执行测试，也可以使用实用程序来协助测试，例如Oracle Real Application Testing功能，如数据库重放或SQL性能分析器。在任何一种情况下，您执行的测试类型都是相同的。</p>
               <p>您的测试计划必须包括以下类型的测试：</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="develop-a-test-plan-for-upgrading-database.html#GUID-B40D9C85-1A2A-40B7-8931-53F49ABEF96B">升级测试</a><br>创建，测试和验证升级计划。
                  </li>
                  <li class="ulchildlink"><a href="develop-a-test-plan-for-upgrading-database.html#GUID-9DAE0B10-301D-493D-A11E-1AD5B52F3A78">最小的测试</a><br>在测试新版本环境中对应用程序执行最低限度测试时，可以找到应用程序启动或调用问题。
                  </li>
                  <li class="ulchildlink"><a href="develop-a-test-plan-for-upgrading-database.html#GUID-A4750E77-F450-4181-8B0E-F9C5DF0E4A04">升级后的功能测试</a><br>升级完成后，对升级后的Oracle数据库执行功能测试。
                  </li>
                  <li class="ulchildlink"><a href="develop-a-test-plan-for-upgrading-database.html#GUID-E43E7AA9-EEDC-458C-9D79-300AA4437271">高可用性测试</a><br>计划在升级后的系统上执行高可用性测试。
                  </li>
                  <li class="ulchildlink"><a href="develop-a-test-plan-for-upgrading-database.html#GUID-6E849D5D-1C9F-40AF-9046-2CD8C1A30F6E">集成测试以确保应用程序兼容</a><br>Oracle数据库的集成测试检查系统组件之间的交互。
                  </li>
                  <li class="ulchildlink"><a href="develop-a-test-plan-for-upgrading-database.html#GUID-CD44BC42-14E4-4694-A652-A8936953801C">性能测试升级的Oracle数据库</a><br>规划早期版本和新版Oracle数据库之间的性能测试比较。
                  </li>
                  <li class="ulchildlink"><a href="develop-a-test-plan-for-upgrading-database.html#GUID-E7CE7CDF-4799-472A-9599-6F38677F5A6B">Oracle数据库升级的卷和负载压力测试</a><br>使用数据库重放在高容量和负载下执行整个升级的Oracle数据库的卷和负载压力测试。
                  </li>
                  <li class="ulchildlink"><a href="develop-a-test-plan-for-upgrading-database.html#GUID-00E55084-859C-47BB-A879-F037B331D2D2">Oracle数据库升级规划的测试计划指南</a><br>对当前数据库以及升级到新Oracle Database发行版的测试数据库执行计划测试。
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>父主题：</strong> <a href="tasks-to-prepare-for-oracle-database-upgrades.html#GUID-3C319260-B5CD-4C50-B606-36D060FDF0BE" title="执行这些任务以准备升级。">准备Oracle数据库升级的任务</a></p>
                  </div>
               </div>
            </div>
            <a id="UPGRD12372"></a><div class="props_rev_3"><a id="GUID-B40D9C85-1A2A-40B7-8931-53F49ABEF96B" name="GUID-B40D9C85-1A2A-40B7-8931-53F49ABEF96B"></a><h3 id="UPGRD-GUID-B40D9C85-1A2A-40B7-8931-53F49ABEF96B" class="sect3">升级测试</h3>
               <div>
                  <p>创建，测试和验证升级计划。</p>
                  <p>升级测试针对Oracle数据库需要规划和测试从当前的软件升级到Oracle数据库<span class="italic">12c</span>中，无论你使用Oracle数据库升级助手（DBUA），进行手动升级，或使用导出/导入或其他数据复制方法。无论选择何种升级方法，都必须建立，测试和验证升级计划。
                  </p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="develop-a-test-plan-for-upgrading-database.html#GUID-1CE27BA9-26B0-491D-89EB-A01F06CEC9D2" title="查看这些主题以了解如何创建一系列精心设计的测试以验证升级过程的所有阶段。">制定升级Oracle数据库的测试计划</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="UPGRD12373"></a><div class="props_rev_3"><a id="GUID-9DAE0B10-301D-493D-A11E-1AD5B52F3A78" name="GUID-9DAE0B10-301D-493D-A11E-1AD5B52F3A78"></a><h3 id="UPGRD-GUID-9DAE0B10-301D-493D-A11E-1AD5B52F3A78" class="sect3">最小的测试</h3>
               <div>
                  <p>在测试新版本环境中对应用程序执行最低限度测试时，可以找到应用程序启动或调用问题。</p>
                  <p>对Oracle数据库的最小测试需要将应用程序的全部或部分从当前数据库移动到新数据库，并在不启用任何新数据库功能的情况下运行应用程序。最小测试可能无法揭示实际生产环境中出现的问题。但是，最小的测试会立即显示任何应用程序启动或调用问题。</p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="develop-a-test-plan-for-upgrading-database.html#GUID-1CE27BA9-26B0-491D-89EB-A01F06CEC9D2" title="查看这些主题以了解如何创建一系列精心设计的测试以验证升级过程的所有阶段。">制定升级Oracle数据库的测试计划</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="UPGRD12374"></a><div class="props_rev_3"><a id="GUID-A4750E77-F450-4181-8B0E-F9C5DF0E4A04" name="GUID-A4750E77-F450-4181-8B0E-F9C5DF0E4A04"></a><h3 id="UPGRD-GUID-A4750E77-F450-4181-8B0E-F9C5DF0E4A04" class="sect3">升级后的功能测试</h3>
               <div>
                  <p>升级完成后，对升级后的Oracle数据库执行功能测试。</p>
                  <p>Oracle数据库的功能测试是一组测试，其中升级后测试系统的新功能和现有功能。功能测试包括所有数据库，网络和应用程序组件。功能测试的目的是验证系统的每个组件是否像升级之前那样运行，并验证新功能是否正常工作。</p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="develop-a-test-plan-for-upgrading-database.html#GUID-1CE27BA9-26B0-491D-89EB-A01F06CEC9D2" title="查看这些主题以了解如何创建一系列精心设计的测试以验证升级过程的所有阶段。">制定升级Oracle数据库的测试计划</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="UPGRD00242"></a><div class="props_rev_3"><a id="GUID-E43E7AA9-EEDC-458C-9D79-300AA4437271" name="GUID-E43E7AA9-EEDC-458C-9D79-300AA4437271"></a><h3 id="UPGRD-GUID-E43E7AA9-EEDC-458C-9D79-300AA4437271" class="sect3">高可用性测试</h3>
               <div>
                  <p>计划在升级后的系统上执行高可用性测试。</p>
                  <p>Oracle数据库的高可用性测试可确保升级的数据库系统满足以下恢复业务要求：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>恢复时间目标（RTO）</p>
                     </li>
                     <li>
                        <p>恢复点目标（RPO）</p>
                     </li>
                  </ul>
                  <p>Oracle建议使用以下高可用性测试测试程序：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>在压力测试期间创建节点或实例故障。节点或实例故障有助于评估Oracle RAC恢复功能。</p>
                     </li>
                     <li>
                        <p>测试后备计划和过程，以确保您可以最大限度地减少已升级数据库的停机时间。</p>
                     </li>
                     <li>
                        <p>检查数据库性能和稳定性，并解决性能问题。解决性能问题有助于确保升级过程在您分配的时间内运行。</p>
                     </li>
                  </ul>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="develop-a-test-plan-for-upgrading-database.html#GUID-1CE27BA9-26B0-491D-89EB-A01F06CEC9D2" title="查看这些主题以了解如何创建一系列精心设计的测试以验证升级过程的所有阶段。">制定升级Oracle数据库的测试计划</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="UPGRD12375"></a><div class="props_rev_3"><a id="GUID-6E849D5D-1C9F-40AF-9046-2CD8C1A30F6E" name="GUID-6E849D5D-1C9F-40AF-9046-2CD8C1A30F6E"></a><h3 id="UPGRD-GUID-6E849D5D-1C9F-40AF-9046-2CD8C1A30F6E" class="sect3">集成测试以确保应用程序兼容</h3>
               <div>
                  <p>Oracle数据库的集成测试检查系统组件之间的交互。</p>
                  <p>Oracle建议您在集成测试中执行以下测试：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>测试Oracle Database 12 <span class="italic">c</span>实例的Pro * C / C ++应用程序客户端，以确保这些应用程序与升级后的数据库兼容。
                        </p>
                     </li>
                     <li>
                        <p>测试图形用户界面。</p>
                     </li>
                     <li>
                        <p>测试与数据库直接或间接交互的所有应用程序。Oracle Database 12 <span class="italic">c中的</span>细微更改（例如数据类型，数据字典中的数据（数据字典中的其他行，对象类型更改等））可能会影响前端应用程序，即使这些应用程序未直接连接到一个新的Oracle Database 12 <span class="italic">c</span>实例。
                        </p>
                     </li>
                     <li>
                        <p>测试和压力测试组件之间的任何Oracle Net或Oracle Net Services连接。</p>
                     </li>
                  </ul>
                  <div class="infoboxnote" id="GUID-6E849D5D-1C9F-40AF-9046-2CD8C1A30F6E__GUID-E431E86E-3B3F-4C7E-9542-A6308C9BDBC9">
                     <p class="notep1">注意：</p>
                     <p>有关<a href="../lnpcc/C-Plus-Plus-Applications.html#LNPCC012" target="_blank"><span class="italic">Pro * C / C ++应用程序的</span></a>更多信息，请参见<a href="../lnpcc/C-Plus-Plus-Applications.html#LNPCC012" target="_blank"><span class="italic">Pro * C / C ++程序员指南</span></a> 。
                     </p>
                     <p>有关<a href="../netrf/index.html" target="_blank"><span class="italic">Oracle Net Services</span></a>升级建议的详细信息，请参阅<a href="../netrf/index.html" target="_blank"><span class="italic">Oracle数据库网络服务参考</span></a> 。
                     </p>
                  </div>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="develop-a-test-plan-for-upgrading-database.html#GUID-1CE27BA9-26B0-491D-89EB-A01F06CEC9D2" title="查看这些主题以了解如何创建一系列精心设计的测试以验证升级过程的所有阶段。">制定升级Oracle数据库的测试计划</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="UPGRD12376"></a><div class="props_rev_3"><a id="GUID-CD44BC42-14E4-4694-A652-A8936953801C" name="GUID-CD44BC42-14E4-4694-A652-A8936953801C"></a><h3 id="UPGRD-GUID-CD44BC42-14E4-4694-A652-A8936953801C" class="sect3">性能测试升级的Oracle数据库</h3>
               <div>
                  <p>规划早期版本和新版Oracle数据库之间的性能测试比较。</p>
                  <p>新Oracle数据库的性能测试将新数据库中各种SQL语句的性能与当前数据库中这些语句的性能进行了比较。在升级之前，请分析当前数据库下的应用程序的性能配置文件。具体来说，分析并了解应用程序对数据库服务器的调用。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="develop-a-test-plan-for-upgrading-database.html#GUID-F8B12F83-94F9-4975-9B8A-E6CBD8E1BD53">数据库重放和性能测试</a><br>在实际升级生产数据库之前，使用数据库重放功能对生产工作负载执行数据库升级的实际测试。
                     </li>
                     <li class="ulchildlink"><a href="develop-a-test-plan-for-upgrading-database.html#GUID-538383F1-F232-49C3-B946-5942EBD76A21">SQL性能分析器</a><br>使用SQL Performance Analyzer预测系统更改对SQL工作负载的影响。
                     </li>
                     <li class="ulchildlink"><a href="develop-a-test-plan-for-upgrading-database.html#GUID-D36FDACE-FB0C-4732-B905-67ED1337DE7C">SQL计划管理</a><br>查看此主题可了解升级后如何执行SQL计划管理以避免性能下降。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="develop-a-test-plan-for-upgrading-database.html#GUID-1CE27BA9-26B0-491D-89EB-A01F06CEC9D2" title="查看这些主题以了解如何创建一系列精心设计的测试以验证升级过程的所有阶段。">制定升级Oracle数据库的测试计划</a></p>
                     </div>
                  </div>
               </div>
               <a id="UPGRD12378"></a><div class="sect3"><a id="GUID-F8B12F83-94F9-4975-9B8A-E6CBD8E1BD53" name="GUID-F8B12F83-94F9-4975-9B8A-E6CBD8E1BD53"></a><h4 id="UPGRD-GUID-F8B12F83-94F9-4975-9B8A-E6CBD8E1BD53" class="sect4">数据库重放和性能测试</h4>
                  <div>
                     <p>在实际升级生产数据库之前，使用数据库重放功能对生产工作负载执行数据库升级的实际测试。</p>
                     <p>数据库重放功能捕获生产系统上的实际数据库工作负载，并在测试系统上重放它。数据库重放还提供分析和报告，以突出潜在的问题;例如，遇到错误，性能差异等等。此外，所有常规企业管理器性能监视和报告工具（如自动数据库诊断监视器，自动工作负载存储库（AWR）和活动会话历史记录）都可用于解决任何问题。</p>
                     <div class="infoboxnote" id="GUID-F8B12F83-94F9-4975-9B8A-E6CBD8E1BD53__GUID-95FCD104-D1DB-4592-9A3E-79C9F39741A3">
                        <p class="notep1">注意：</p>
                        <p>您可以更改数据库中的存储过程逻辑。但是，存储的实现应用程序逻辑的PL / SQL过程必须保持与升级之前相同的接口。如果升级影响应用程序的存储过程，则可能无法重播工作负载。使用具有相同接口的数据库重放工具可为您提供良好的诊断，以查看升级后服务器中的新应用程序逻辑是否按预期执行。</p>
                     </div>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-F8B12F83-94F9-4975-9B8A-E6CBD8E1BD53__GUID-C368A3CA-A891-4E5D-AFBB-9DA63DE88890">
                        <p class="notep1">也可以看看：</p>
                        <p></p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>有关如何捕获和重放工作负载的信息，请参阅“ <a href="../ratug/introduction-to-database-replay.html#RATUG104" target="_blank"><span class="italic">Oracle数据库测试指南”</span></a></p>
                           </li>
                           <li>
                              <p>有关自动工作负载存储库的更多信息，请<a href="../tgdba/gathering-database-statistics.html#TGDBA185" target="_blank"><span class="italic">参见“Oracle数据库性能调整指南”</span></a></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="develop-a-test-plan-for-upgrading-database.html#GUID-CD44BC42-14E4-4694-A652-A8936953801C" title="规划早期版本和新版Oracle数据库之间的性能测试比较。">性能测试升级的Oracle数据库</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="UPGRD12379"></a><div class="sect3"><a id="GUID-538383F1-F232-49C3-B946-5942EBD76A21" name="GUID-538383F1-F232-49C3-B946-5942EBD76A21"></a><h4 id="UPGRD-GUID-538383F1-F232-49C3-B946-5942EBD76A21" class="sect4">SQL性能分析器</h4>
                  <div>
                     <p>使用SQL Performance Analyzer预测系统更改对SQL工作负载的影响。</p>
                     <p>SQL Performance Analyzer使您可以评估升级对SQL工作负载的影响。SQL Performance Analyzer通过识别受升级影响的SQL语句来查找可能的问题。然后，它会在升级之前和升级之后测量SQL工作负载的性能差异。通过该分析，您可以评估升级对SQL性能的总体影响。然后，您可以采取措施避免SQL工作负载更改产生任何负面结果，然后才能影响用户。</p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-538383F1-F232-49C3-B946-5942EBD76A21__GUID-0BBED99B-CF4F-421E-98C5-07A872EE395C">
                        <p class="notep1">也可以看看：</p>
                        <p>有关更多信息的<a href="../ratug/introduction-to-sql-performance-analyzer.html#RATUG166" target="_blank"><span class="italic">Oracle数据库测试指南</span></a> ，以及使用SQL Performance Analyzer对潜在数据库更改执行分析的示例</p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="develop-a-test-plan-for-upgrading-database.html#GUID-CD44BC42-14E4-4694-A652-A8936953801C" title="规划早期版本和新版Oracle数据库之间的性能测试比较。">性能测试升级的Oracle数据库</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="UPGRD52855"></a><a id="UPGRD52619"></a><a id="UPGRD52620"></a><a id="UPGRD00232"></a><div class="sect3"><a id="GUID-D36FDACE-FB0C-4732-B905-67ED1337DE7C" name="GUID-D36FDACE-FB0C-4732-B905-67ED1337DE7C"></a><h4 id="UPGRD-GUID-D36FDACE-FB0C-4732-B905-67ED1337DE7C" class="sect4">SQL计划管理</h4>
                  <div>
                     <p>查看此主题可了解升级后如何执行SQL计划管理以避免性能下降。</p>
                     <p>安装新优化程序版本的数据库升级通常会导致一小部分SQL语句的计划更改。大多数计划更改都不会导致性能变化或改进。但是，某些计划更改可能会导致性能下降。SQL计划管理通过提供用于捕获，选择和发展SQL计划信息的组件来防止因SQL语句的执行计划的突然更改而导致的性能回归。SQL计划管理是一种预防机制，可以记录和评估SQL语句的执行计划，并构建由一组现有计划组成的SQL计划基准，这些计划在重复使用后被证明是有效的。SQL计划管理使用SQL计划基准来保留相应SQL语句的性能，而不管系统中发生的更改。</p>
                     <p>通过SQL计划管理，优化程序可自动管理执行计划并确保仅使用已知或已验证的计划。当SQL计划管理找到SQL语句的新计划时，在数据库验证新计划具有与当前计划相当或更好的性能之前，它不会使用此计划。如果使用当前的执行计划为SQL计划管理提供种子，那么这些计划将成为每个语句的SQL计划基准。优化程序在升级后使用这些计划。如果Oracle Database 12 <span class="italic">c</span>优化器确定不同的计划可以带来更好的性能，那么新计划将排队等待验证，并且在确认其具有与当前计划相当或更好的性能之前不会使用。
                     </p>
                     <p>有几种方法可以使用执行计划为SQL管理库（SMB）提供种子或填充：</p>
                     <div class="section" id="GUID-D36FDACE-FB0C-4732-B905-67ED1337DE7C__BABDEJDI">
                        <p class="subhead3" id="GUID-D36FDACE-FB0C-4732-B905-67ED1337DE7C__GUID-F5E2F9C7-F3AD-4623-93A4-6949CB36ABD4">从游标缓存批量加载SQL管理库</p>
                     </div>
                     <!-- class="section" -->
                     <p>升级从Oracle数据库11 <span class="italic">g</span>的数据库，Oracle数据库的最新版本时，从游标缓存执行计划或SQL计划基准批量装载是非常有用的。游标缓存是一个共享SQL区域，自动接受批量加载的SQL计划，并将其作为SQL计划基准添加到现有或新计划历史记录中。
                     </p>
                     <ol>
                        <li>
                           <p>在Oracle数据库的源代码版本中，使用<code class="codeph">DBMS_SPM.LOAD_PLAN_FROM_CURSOR_CACHE</code>过程或Oracle Enterprise Manager将游标缓存中的所有执行计划加载到SQL Management Base中。
                           </p>
                        </li>
                        <li>
                           <p>升级数据库。</p>
                        </li>
                     </ol>
                     <div class="infoboxnotealso" id="GUID-D36FDACE-FB0C-4732-B905-67ED1337DE7C__GUID-B21054D0-D8AC-45D8-8E1D-A558E16D115E">
                        <p class="notep1">也可以看看：</p>
                        <p>有关如何使用PL / SQL或Oracle Enterprise Manager从共享SQL区域加载计划的更多信息，请<a href="../tgsql/managing-sql-plan-baselines.html#TGSQL649" target="_blank"><span class="italic">参见“Oracle数据库SQL调优指南”</span></a></p>
                     </div>
                     <div class="section" id="GUID-D36FDACE-FB0C-4732-B905-67ED1337DE7C__CEGFDEEI">
                        <p class="subhead3" id="GUID-D36FDACE-FB0C-4732-B905-67ED1337DE7C__GUID-BC3116A5-A120-487E-AE54-D0418A80561E">使用SQL调整集（STS）批量加载SQL管理库</p>
                     </div>
                     <!-- class="section" -->
                     <p>可以使用SQL调整集批量加载执行计划或SQL计划基准。从Oracle数据库<span class="italic">10g</span>升级（从没有SQL管理库（SMB）到从游标缓存直接加载）或从自动工作负载存储库加载历史计划时，这非常有用。
                     </p>
                     <ol>
                        <li>
                           <p>在Oracle数据库的源代码版本中，创建一个STS，其中包含每个SQL语句的执行计划。</p>
                        </li>
                        <li>
                           <p>将STS加载到临时表中，并将临时表导出到转储文件中。</p>
                        </li>
                        <li>
                           <p>将转储表从转储文件导入新版本的Oracle并卸载STS。</p>
                        </li>
                        <li>
                           <p>使用Oracle Enterprise Manager或<code class="codeph">DBMS_SPM.LOAD_PLANS_FROM_SQLSET</code>将执行计划加载到SQL Management Base中。
                           </p>
                        </li>
                     </ol>
                     <div class="infoboxnotealso" id="GUID-D36FDACE-FB0C-4732-B905-67ED1337DE7C__GUID-D3DB429D-3DCA-4FE3-8598-86F84511E127">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/upgrd&amp;id=TGSQL646" target="_blank"><span class="italic">Oracle数据库SQL调优指南</span></a> ，了解批量加载执行计划或SQL计划基准的完整过程</p>
                     </div>
                     <div class="section" id="GUID-D36FDACE-FB0C-4732-B905-67ED1337DE7C__CEGHCJEG">
                        <p class="subhead3" id="GUID-D36FDACE-FB0C-4732-B905-67ED1337DE7C__GUID-8F3528B9-C133-4F63-BFE3-98815FFFD8A4">从临时表解压缩现有SQL计划基准</p>
                     </div>
                     <!-- class="section" -->
                     <p><a id="d9900e1077" class="indexterm-anchor"></a><a id="d9900e1081" class="indexterm-anchor"></a><a id="d9900e1085" class="indexterm-anchor"></a>您可以在Oracle数据库测试环境中测试和调整所有关键SQL查询，然后移动它们<a id="d9900e1090" class="indexterm-anchor"></a> SQL执行计划到Oracle数据库生产环境。或者，您可以从升级前的Oracle数据库生产环境中获取SQL查询计划，并将其移至升级后的生产环境。
                     </p>
                     <ol>
                        <li>
                           <p>在Oracle数据库<span class="italic">12c的</span>测试系统，完成所有测试和调整后，使用<code class="codeph">DBMS_SPM.LOAD_PLAN_FROM_CURSOR_CACHE</code>过程或企业管理器加载所有的游标缓存到SQL管理库的执行计划。
                           </p>
                        </li>
                        <li>
                           <p>使用<code class="codeph">DBMS_SPM.CREATE_STGTAB_BASELINE</code>过程创建临时表。
                           </p>
                        </li>
                        <li>
                           <p>使用<code class="codeph">DBMS_SPM.PACK_STGTAB_BASELINE</code>函数将您在步骤1中创建的SQL计划基准打包到登台表中。
                           </p>
                        </li>
                        <li>
                           <p>使用Data Pump将登台表导出到平面文件中。</p>
                        </li>
                        <li>
                           <p>将此平面文件传输到目标系统。</p>
                        </li>
                        <li>
                           <p>使用Data Pump从平面文件导入登台表。</p>
                        </li>
                        <li>
                           <p>使用<code class="codeph">DBMS_SPM.UNPACK_STGTAB_BASELINE</code>函数将SQL计划基准从登台表解压缩到目标系统上的SQL Management Base。
                           </p>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-D36FDACE-FB0C-4732-B905-67ED1337DE7C__GUID-4C1E3E5E-9EB8-4B21-8028-56A260F64A50">
                        <p class="notep1">也可以看看：</p>
                        <p></p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>有关从登台表加载计划的详细信息，请参阅<a href="../tgsql/managing-sql-plan-baselines.html#TGSQL652" target="_blank"><span class="italic">“Oracle数据库SQL调优指南”</span></a></p>
                           </li>
                           <li>
                              <p>有关使用Data Pump的信息，请<a href="../sutil/oracle-data-pump-overview.html#SUTIL100" target="_blank"><span class="italic">参见Oracle数据库实用程序</span></a></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="develop-a-test-plan-for-upgrading-database.html#GUID-CD44BC42-14E4-4694-A652-A8936953801C" title="规划早期版本和新版Oracle数据库之间的性能测试比较。">性能测试升级的Oracle数据库</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="UPGRD12380"></a><div class="props_rev_3"><a id="GUID-E7CE7CDF-4799-472A-9599-6F38677F5A6B" name="GUID-E7CE7CDF-4799-472A-9599-6F38677F5A6B"></a><h3 id="UPGRD-GUID-E7CE7CDF-4799-472A-9599-6F38677F5A6B" class="sect3">Oracle数据库升级的卷和负载压力测试</h3>
               <div>
                  <p>使用数据库重放在高容量和负载下执行整个升级的Oracle数据库的卷和负载压力测试。</p>
                  <p>卷描述了被操纵的数据量。Load描述了系统上并发需求的级别。卷和负载测试可以模拟生产系统在各种卷和负载下的行为方式。</p>
                  <p>体积和负载压力测试至关重要。但是，它常被忽视。Oracle发现客户通常不进行任何类型的量或负载压力测试。相反，客户通常依赖于不是业务应用程序特征的基准。Oracle建议您对应用程序进行基准测试。基准测试可以帮助您发现与功能，性能和集成相关的问题。但是，它们无法取代体积和负载压力测试。</p>
                  <p>负载测试涉及针对新的Oracle数据库版本运行应用程序负载。负载测试可确保应用程序不会遇到问题，例如新错误或在您认为可能在生产中发现的负载条件下的性能问题。很多时候，问题仅在某些负载条件下出现，并且通常在功能测试中看不到。数据库重放功能非常适合此类负载测试。数据库重放使您可以从生产环境捕获系统工作负载，并在测试系统上以相同的方式重放它。</p>
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-E7CE7CDF-4799-472A-9599-6F38677F5A6B__GUID-59B8F18A-1C7C-4891-9DE8-84B115DE3C10">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="../ratug/introduction-to-database-replay.html#RATUG104" target="_blank"><span class="italic">Oracle数据库测试指南</span></a> ，了解有关使用数据库重放进行压力测试的信息</p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="develop-a-test-plan-for-upgrading-database.html#GUID-1CE27BA9-26B0-491D-89EB-A01F06CEC9D2" title="查看这些主题以了解如何创建一系列精心设计的测试以验证升级过程的所有阶段。">制定升级Oracle数据库的测试计划</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="UPGRD12384"></a><div class="props_rev_3"><a id="GUID-00E55084-859C-47BB-A879-F037B331D2D2" name="GUID-00E55084-859C-47BB-A879-F037B331D2D2"></a><h3 id="UPGRD-GUID-00E55084-859C-47BB-A879-F037B331D2D2" class="sect3">Oracle数据库升级规划的测试计划指南</h3>
               <div>
                  <p>对当前数据库以及升级到新Oracle Database发行版的测试数据库执行计划测试。</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>比较测试结果，注意异常。</p>
                     </li>
                     <li>
                        <p>根据需要多次重复测试升级，直到问题得到解决。</p>
                     </li>
                  </ul>
                  <p>使用现有应用程序测试新升级的测试数据库，以验证它们是否可以使用新的Oracle数据库正常运行。</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>通过添加可用的Oracle数据库功能来测试增强功能和新功能。</p>
                     </li>
                     <li>
                        <p>确保应用程序的运行方式与当前数据库中的相同。</p>
                     </li>
                  </ul>
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-00E55084-859C-47BB-A879-F037B331D2D2__GUID-D640301B-DC5F-461D-8618-A8B0F2266447">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="../ratug/testing-a-database-upgrade.html#RATUG210" target="_blank"><span><cite>Oracle数据库测试指南</cite></span></a> ，了解有关测试数据库升级的信息</p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="develop-a-test-plan-for-upgrading-database.html#GUID-1CE27BA9-26B0-491D-89EB-A01F06CEC9D2" title="查看这些主题以了解如何创建一系列精心设计的测试以验证升级过程的所有阶段。">制定升级Oracle数据库的测试计划</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html>