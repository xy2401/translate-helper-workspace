<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="To troubleshoot and fix Oracle ORAchk and Oracle EXAchk issues, follow the steps explained in this section.">
      <meta name="description" content="To troubleshoot and fix Oracle ORAchk and Oracle EXAchk issues, follow the steps explained in this section.">
      <title>Troubleshooting Oracle ORAchk and Oracle EXAchk</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="User’s Guide">
      <meta property="og:description" content="To troubleshoot and fix Oracle ORAchk and Oracle EXAchk issues, follow the steps explained in this section.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="User’s Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="autonomous-health-framework-users-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-21T23:14:30-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="2016, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96320-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="applying-patch-between-releases.html" title="Previous" type="text/html">
      <link rel="next" href="purpose-cluster-health-advisor.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Autonomous Health Framework User’s Guide">
    <meta name="dcterms.isVersionOf" content="ATNMS">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="applying-patch-between-releases.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="purpose-cluster-health-advisor.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">User’s Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="analyzing-risks-and-complying-best-practices.html" property="item" typeof="WebPage"><span property="name">Analyzing the Cluster Configuration</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="purpose-oracle-orachk-and-oracle-exachk.html" property="item" typeof="WebPage"><span property="name">Analyzing Risks and Complying with Best Practices</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Troubleshooting Oracle ORAchk and Oracle EXAchk</li>
            </ol>
            <a id="GUID-DCFE045C-5327-4C20-BC8D-AFB22098CB44" name="GUID-DCFE045C-5327-4C20-BC8D-AFB22098CB44"></a>
            
            <h2 id="ATNMS-GUID-DCFE045C-5327-4C20-BC8D-AFB22098CB44" class="sect2"><span class="enumeration_section">2.16 </span>Troubleshooting Oracle ORAchk and Oracle EXAchk
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>To troubleshoot and fix Oracle ORAchk and Oracle EXAchk issues, follow the steps explained in this section.</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="troubleshooting-oracle-orachk-and-oracle-exachk.html#GUID-12720E91-F593-4961-8A3F-53C3CC2E438F">How to Troubleshoot Oracle ORAchk and Oracle EXAchk Issues</a><br>To troubleshoot Oracle ORAchk and Oracle EXAchk issues, follow the steps explained in this section.
                  </li>
                  <li class="ulchildlink"><a href="troubleshooting-oracle-orachk-and-oracle-exachk.html#GUID-B4393520-16F9-4F6A-8E79-C1E2C1FA2F3C">How to Capture Debug Output</a><br>Follow these steps to capture debug information.
                  </li>
                  <li class="ulchildlink"><a href="troubleshooting-oracle-orachk-and-oracle-exachk.html#GUID-38154E2B-CE3B-4F0E-BF25-5871ED00C5EA">Remote Login Problems</a><br>If Oracle ORAChk and Oracle EXAchk tools have problem locating and running SSH or SCP, then the tools cannot run any remote checks.
                  </li>
                  <li class="ulchildlink"><a href="troubleshooting-oracle-orachk-and-oracle-exachk.html#GUID-7557C49C-305A-46DA-84B3-778EDBC94E16">Permission Problems</a><br>You must have sufficient directory permissions to run Oracle ORAchk and Oracle EXAchk.
                  </li>
                  <li class="ulchildlink"><a href="troubleshooting-oracle-orachk-and-oracle-exachk.html#GUID-91A484EC-B446-4CA2-8FB8-4B575B2D6508">Slow Performance, Skipped Checks and Timeouts</a><br>Follow these steps to fix slow performance and other issues.
                  </li>
               </ul>
               <div class="relinfo">
                  <p><strong>Related Topics</strong></p>
                  <ul>
                     <li><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/atnms&amp;id=OEXUG-GUID-42FF19CB-58B3-4BDB-946C-F5147E1F4D2B" target="_blank"><span><cite>Oracle ORAchk and EXAchk User’s Guide</cite></span></a></li>
                  </ul>
               </div>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>Parent topic:</strong> <a href="purpose-oracle-orachk-and-oracle-exachk.html#GUID-4572F794-E977-4002-8C38-E86B2FDA0D31" title="Use configuration audit tools Oracle ORAchk and Oracle EXAchk to assess your Oracle Engineered Systems and non-Engineered Systems for known configuration problems and best practices.">Analyzing Risks and Complying with Best Practices</a></p>
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-12720E91-F593-4961-8A3F-53C3CC2E438F" name="GUID-12720E91-F593-4961-8A3F-53C3CC2E438F"></a><h3 id="ATNMS-GUID-12720E91-F593-4961-8A3F-53C3CC2E438F" class="sect3"><span class="enumeration_section">2.16.1 </span>How to Troubleshoot Oracle ORAchk and Oracle EXAchk Issues
               </h3>
               <div>
                  <p>To troubleshoot Oracle ORAchk and Oracle EXAchk issues, follow the steps explained in this section.</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-12720E91-F593-4961-8A3F-53C3CC2E438F__GUID-7349560F-BFED-4143-9624-939913C8FF09">To troubleshoot Oracle ORAchk and Oracle EXAchk:</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>Ensure that you are using the correct tool.</span><div>
                           <p>Use Oracle EXAchk for Oracle Engineered Systems except for Oracle Database Appliance. For all other systems, use Oracle ORAchk.</p>
                        </div>
                     </li>
                     <li class="stepexpand"><span>Ensure that you are using the latest versions of Oracle ORAchk and Oracle EXAchk.</span><ol type="a">
                           <li class="substepexpand"><span>Check the version using the <code class="codeph">&#x2013;v</code> option.</span><div>
                                 <div class="p"><pre class="pre codeblock"><code>$ ./orachk &#x2013;v</code></pre><pre class="pre codeblock"><code>$ ./exachk &#x2013;v</code></pre></div>
                              </div>
                           </li>
                           <li class="substepexpand"><span>Compare your version with the latest version available here:</span><div>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>For Oracle ORAchk, refer to My Oracle Support Note 1268927.2.</p>
                                    </li>
                                    <li>
                                       <p>For Oracle EXAchk, refer to My Oracle Support Note 1070954.1.</p>
                                    </li>
                                 </ul>
                              </div>
                           </li>
                        </ol>
                     </li>
                     <li class="stepexpand"><span>Check the <span class="uicontrol bold">FAQ</span>&nbsp; for similar problems in My Oracle Support Note 1070954.1.</span></li>
                     <li class="stepexpand"><span>Review the files within the <code class="codeph">log</code> directory.</span><div>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Check the applicable <code>error.log</code> files for relevant errors.
                                 </p>
                                 <p> The <code>error.log</code> files contain <code class="codeph">stderr</code> output captured during the run.
                                 </p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p><code><span class="variable" translate="no">output_dir</span>/log/orachk _error.log</code></p>
                                    </li>
                                    <li>
                                       <p><code><span class="variable" translate="no">output_dir</span>/log/exachk _error.log</code></p>
                                    </li>
                                 </ul>
                              </li>
                              <li>
                                 <p>Check the applicable log for other relevant information.</p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p><code><span class="variable" translate="no">output_dir</span>/log/orachk.log</code></p>
                                    </li>
                                    <li>
                                       <p><code><span class="variable" translate="no">output_dir</span>/log/exachk.log</code></p>
                                    </li>
                                 </ul>
                              </li>
                           </ul>
                        </div>
                     </li>
                     <li class="stepexpand"><span>Review My Oracle Support Notes for similar problems.</span></li>
                     <li class="stepexpand"><span>For Oracle ORAchk issues, check ORAchk (MOSC) in My Oracle Support Community (MOSC).</span></li>
                     <li class="stepexpand"><span>If necessary, capture the debug output, and then log an SR and attach the resulting <code>zip</code> file.</span></li>
                  </ol>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="https://support.oracle.com/rs?type=doc&amp;id=1268927.2" target="_blank">https://support.oracle.com/rs?type=doc&amp;id=1268927.2</a></li>
                        <li><a href="https://support.oracle.com/rs?type=doc&amp;id=1070954.1" target="_blank">https://support.oracle.com/rs?type=doc&amp;id=1070954.1</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="troubleshooting-oracle-orachk-and-oracle-exachk.html#GUID-DCFE045C-5327-4C20-BC8D-AFB22098CB44" title="To troubleshoot and fix Oracle ORAchk and Oracle EXAchk issues, follow the steps explained in this section.">Troubleshooting Oracle ORAchk and Oracle EXAchk</a></p>
                     </div>
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-B4393520-16F9-4F6A-8E79-C1E2C1FA2F3C" name="GUID-B4393520-16F9-4F6A-8E79-C1E2C1FA2F3C"></a><h3 id="ATNMS-GUID-B4393520-16F9-4F6A-8E79-C1E2C1FA2F3C" class="sect3"><span class="enumeration_section">2.16.2 </span>How to Capture Debug Output
               </h3>
               <div>
                  <p>Follow these steps to capture debug information.</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-B4393520-16F9-4F6A-8E79-C1E2C1FA2F3C__GUID-CE5FE7C0-1D5B-4087-A790-C0B477C9AF3E">To capture debug output:</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>Reproduce the problem with fewest runs before enabling debug.</span><div>
                           <p>Debug captures a lot and the resulting <code>zip</code> file can be large so try to narrow down the amount of run necessary to reproduce the problem.
                           </p>
                           <p>Use command-line options to limit the scope of checks.</p>
                        </div>
                     </li>
                     <li class="stepexpand"><span>Enable debug.</span><div>
                           <div class="p">If you are running the tool in on-demand mode, then use the <code class="codeph">&#x2013;debug</code> option:<pre class="pre codeblock"><code>$ ./orachk &#x2013;debug</code></pre><pre class="pre codeblock"><code>$ ./exachk &#x2013;debug</code></pre></div>
                           <p>When you enable debug, Oracle ORAchk and Oracle EXAchk create a new debug log file in:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><code><span class="variable" translate="no">output_dir</span>/log/orachk _debug_<span class="variable" translate="no">date_stamp</span>_<span class="variable" translate="no">time_stamp</span>.log</code></p>
                              </li>
                              <li>
                                 <p><code><span class="variable" translate="no">output_dir</span>/log/exachk _debug_<span class="variable" translate="no">date_stamp</span>_<span class="variable" translate="no">time_stamp</span>.log</code></p>
                              </li>
                           </ul>
                           <p>The <code><span class="variable" translate="no">output_dir</span></code> directory retains various other temporary files used during health checks.
                           </p>
                           <p>If you run health checks using the daemon, then restart the daemon with the <code class="codeph">&#x2013;d start &#x2013;debug</code> option.
                           </p>
                           <div class="p">Running this command generates both debug for daemon and include debug in all client runs:<pre class="pre codeblock"><code>$ ./orachk &#x2013;d start &#x2013;debug</code></pre><pre class="pre codeblock"><code>$ ./exachk &#x2013;d start &#x2013;debug</code></pre></div>
                           <div class="p">When debug is run with the daemon, Oracle ORAchk and Oracle EXAchk create a daemon debug log file in the directory in which the daemon was started:<pre class="pre codeblock"><code>orachk_daemon_debug.log</code></pre><pre class="pre codeblock"><code>exachk_daemon_debug.log</code></pre></div>
                        </div>
                     </li>
                     <li class="stepexpand"><span>Collect the resulting output <code>zip</code> file and the daemon debug log file, if applicable.</span></li>
                  </ol>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="troubleshooting-oracle-orachk-and-oracle-exachk.html#GUID-DCFE045C-5327-4C20-BC8D-AFB22098CB44" title="To troubleshoot and fix Oracle ORAchk and Oracle EXAchk issues, follow the steps explained in this section.">Troubleshooting Oracle ORAchk and Oracle EXAchk</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-38154E2B-CE3B-4F0E-BF25-5871ED00C5EA" name="GUID-38154E2B-CE3B-4F0E-BF25-5871ED00C5EA"></a><h3 id="ATNMS-GUID-38154E2B-CE3B-4F0E-BF25-5871ED00C5EA" class="sect3"><span class="enumeration_section">2.16.3 </span>Remote Login Problems
               </h3>
               <div>
                  <p>If Oracle ORAChk and Oracle EXAchk tools have problem locating and running SSH or SCP, then the tools cannot run any remote checks.</p>
                  <div class="section">
                     <p>Also, the <code class="codeph">root</code> privileged commands do not work if:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Passwordless remote <code class="codeph">root</code> login is not permitted over SSH
                           </p>
                        </li>
                        <li>
                           <p>Expect utility is not able to pass the <code class="codeph">root</code> password
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>Verify that the SSH and SCP commands can be found.</span><div>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>The SSH commands return the error, <samp class="msgph">-bash: /usr/bin/ssh -q: No such file or directory</samp>, if SSH is not located where expected.
                                 </p>
                                 <p>Set the <code class="codeph">RAT_SSHELL</code> environment variable pointing to the location of SSH:
                                 </p><pre class="pre codeblock"><code>$ export RAT_SSHELL=<span class="variable" translate="no">path to ssh</span></code></pre></li>
                              <li>
                                 <p>The SCP commands return the error, <samp class="msgph">/usr/bin/scp -q: No such file or directory</samp>, if SCP is not located where expected.
                                 </p>
                                 <div class="p">Set the <code class="codeph">RAT_SCOPY</code> environment variable pointing to the location of SCP:<pre class="pre codeblock"><code>$ export RAT_SCOPY=<span class="variable" translate="no">path to scp</span></code></pre></div>
                              </li>
                           </ul>
                        </div>
                     </li>
                     <li class="stepexpand"><span>Verify that the user you are running as, can run the following command manually from where you are running Oracle ORAchk and Oracle EXAchk to whichever remote node is failing.</span><div><pre class="pre codeblock"><code>$ ssh root@remotehostname "id"
root@remotehostname's password:
uid=0(root) gid=0(root) groups=0(root),1(bin),2(daemon),3(sys),4(adm),6(disk),10(wheel)</code></pre><ul style="list-style-type: disc;">
                              <li>
                                 <p>If you face any problems running the command, then contact the systems administrators to correct temporarily for running the tool.</p>
                              </li>
                              <li>
                                 <p>Oracle ORAchk and Oracle EXAchk search for the prompts or traps in remote user profiles. If you have prompts in remote profiles, then comment them out at least temporarily and test run again.</p>
                              </li>
                              <li>
                                 <div class="p">If you can configure passwordless remote <code class="codeph">root</code> login, then edit the <code>/etc/ssh/sshd_config</code> file as follows:<pre class="pre codeblock"><code>n to yes</code></pre></div>
                                 <div class="p">Now, run the following command as <code class="codeph">root</code> on all nodes of the cluster:<pre class="pre codeblock"><code>hd restart</code></pre></div>
                              </li>
                           </ul>
                        </div>
                     </li>
                     <li class="stepexpand"><span>Enable Expect debugging.</span><div>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Oracle ORAchk uses the Expect utility when available to answer password prompts to connect to remote nodes for password validation. Also, to run <code class="codeph">root</code> collections without logging the actual connection process by default.
                                 </p>
                              </li>
                              <li>
                                 <p>Set environment variables to help debug remote target connection issues.</p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p><span class="bold"><code class="codeph">RAT_EXPECT_DEBUG</code></span>: If this variable is set to <code class="codeph">-d</code> , then the Expect command tracing is activated. The trace information is written to the standard output. 
                                       </p>
                                       <div class="p">For example:<pre class="pre codeblock"><code>export RAT_EXPECT_DEBUG=-d</code></pre></div>
                                    </li>
                                    <li>
                                       <p><span class="bold"><code class="codeph">RAT_EXPECT_STRACE_DEBUG</code></span>: If this variable is set to <code class="codeph">strace</code>, <code class="codeph">strace</code> calls the Expect command. The trace information is written to the standard output. 
                                       </p>
                                       <div class="p">For example:<pre class="pre codeblock"><code>export RAT_EXPECT_STRACE_DEBUG=strace</code></pre></div>
                                    </li>
                                 </ul>
                              </li>
                              <li>
                                 <p>By varying the combinations of these two variables, you can get three levels of Expect connection trace information.</p>
                              </li>
                           </ul>
                        </div>
                     </li>
                  </ol>
                  <div class="section">
                     <div class="infoboxnote" id="GUID-38154E2B-CE3B-4F0E-BF25-5871ED00C5EA__GUID-5687A4EF-97E3-446B-A120-328D84D43DE9">
                        <p class="notep1">Note:</p>
                        <p>Set the <code class="codeph">RAT_EXPECT_DEBUG</code> and <code class="codeph">RAT_EXPECT_STRACE_DEBUG</code>&nbsp;variables only at the direction of Oracle support or development. The <code class="codeph">RAT_EXPECT_DEBUG</code> and <code class="codeph">RAT_EXPECT_STRACE_DEBUG</code>variables are used with other variables and user interface options to restrict the amount of data collected during the tracing. The <code class="codeph">script</code> command is used to capture standard output.
                        </p>
                     </div>
                     <p>As a temporary workaround while you resolve remote problems, run reports local on each node then merge them together later.</p>
                     <div class="p">On each node, run:<pre class="pre codeblock"><code>./orachk -local</code></pre><pre class="pre codeblock"><code>./exachk -local</code></pre></div>
                     <div class="p">Then merge the collections to obtain a single report:<pre class="pre codeblock"><code>./orachk &#x2013;merge <span class="variable" translate="no">zipfile 1</span> &nbsp;<span class="variable" translate="no">zip file 2</span>&nbsp;&gt; <span class="variable" translate="no">zip file 3</span>&nbsp;&gt; <span class="variable" translate="no">zip file ...</span></code></pre><pre class="pre codeblock"><code>./exachk &#x2013;merge <span class="variable" translate="no">zipfile 1</span>&nbsp; <span class="variable" translate="no">zip file 2</span>&nbsp;&gt; <span class="variable" translate="no">zip file 3</span>&nbsp;&gt; <span class="variable" translate="no">zip file ...</span></code></pre></div>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="troubleshooting-oracle-orachk-and-oracle-exachk.html#GUID-DCFE045C-5327-4C20-BC8D-AFB22098CB44" title="To troubleshoot and fix Oracle ORAchk and Oracle EXAchk issues, follow the steps explained in this section.">Troubleshooting Oracle ORAchk and Oracle EXAchk</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-7557C49C-305A-46DA-84B3-778EDBC94E16" name="GUID-7557C49C-305A-46DA-84B3-778EDBC94E16"></a><h3 id="ATNMS-GUID-7557C49C-305A-46DA-84B3-778EDBC94E16" class="sect3"><span class="enumeration_section">2.16.4 </span>Permission Problems
               </h3>
               <div>
                  <p>You must have sufficient directory permissions to run Oracle ORAchk and Oracle EXAchk.</p>
                  <div class="section"></div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>Verify that the permissions on the tools scripts <code class="codeph">orachk</code> and <code class="codeph">exachk</code> &nbsp;are set to <code class="codeph">755 (-rwxr-xr-x)</code>. </span><div>
                           <div class="p">If the permissions are not set, then set the permissions as follows:<pre class="pre codeblock"><code>$ chmod 755 orachk</code></pre><pre class="pre codeblock"><code>$ chmod 755 exachk</code></pre></div>
                        </div>
                     </li>
                     <li class="stepexpand"><span>If you install Oracle ORAchk and Oracle EXAchk as <code class="codeph">root</code>&nbsp; and run the tools as a different user, then you may not have the necessary directory permissions.</span><div><pre class="pre codeblock"><code>[root@randomdb01 exachk]# ls -la
total 14072
drwxr-xr-x  3 root root    4096 Jun  7 08:25 .
drwxrwxrwt 12 root root    4096 Jun  7 09:27 ..
drwxrwxr-x  2 root root    4096 May 24 16:50 .cgrep
-rw-rw-r--  1 root root 9099005 May 24 16:50 collections.dat
-rwxr-xr-x  1 root root  807865 May 24 16:50 exachk
-rw-r--r--  1 root root 1646483 Jun  7 08:24 exachk.zip
-rw-r--r--  1 root root    2591 May 24 16:50 readme.txt
-rw-rw-r--  1 root root 2799973 May 24 16:50 rules.dat
-rw-r--r--  1 root root     297 May 24 16:50 UserGuide.txt</code></pre></div>
                     </li>
                  </ol>
                  <div class="section">
                     <p>In which case, you must run as <code class="codeph">root</code>&nbsp; or unzip again as the Oracle software install user.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="troubleshooting-oracle-orachk-and-oracle-exachk.html#GUID-DCFE045C-5327-4C20-BC8D-AFB22098CB44" title="To troubleshoot and fix Oracle ORAchk and Oracle EXAchk issues, follow the steps explained in this section.">Troubleshooting Oracle ORAchk and Oracle EXAchk</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-91A484EC-B446-4CA2-8FB8-4B575B2D6508" name="GUID-91A484EC-B446-4CA2-8FB8-4B575B2D6508"></a><h3 id="ATNMS-GUID-91A484EC-B446-4CA2-8FB8-4B575B2D6508" class="sect3"><span class="enumeration_section">2.16.5 </span>Slow Performance, Skipped Checks and Timeouts
               </h3>
               <div>
                  <p>Follow these steps to fix slow performance and other issues.</p>
                  <div class="section">When Oracle ORAchk and Oracle EXAchk run commands, a child process is spawned to run the command and a watchdog daemon monitors the child process. If the child process is slow or hung, then the watchdog kills the child process and the check is registered as skipped:
                     <div class="p">
                        <div class="figure" id="GUID-91A484EC-B446-4CA2-8FB8-4B575B2D6508__GUID-D661681C-072C-4E19-87BE-97FC240712E6">
                           <p class="titleinfigure">Figure 2-27 Skipped Checks</p><img src="img/skipped-checks.png" alt="Description of Figure 2-27 follows" title="Description of Figure 2-27 follows" longdesc="img_text/skipped-checks.html"><br><a href="img_text/skipped-checks.html">Description of "Figure 2-27 Skipped Checks"</a></div>
                        <!-- class="figure" -->
                     </div>
                     <p>The <code>watchdog.log</code> file also contains entries similar to <span class="bold">killing stuck command</span>. 
                     </p>
                     <p>Depending on the cause of the problem, you may not see skipped checks.</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>Determine if there is a pattern to what is causing the problem.</span><div>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>EBS checks, for example, depend on the amount of data present and may take longer than the default timeout.</p>
                              </li>
                              <li>
                                 <p>Remote checks may timeout and be killed and skipped, if there are prompts in the remote profile. Oracle ORAchk and Oracle EXAchk search for prompts or traps in the remote user profiles. If you have prompts in remote profiles, then comment them out at least temporarily and test run again.</p>
                              </li>
                           </ul>
                        </div>
                     </li>
                     <li class="stepexpand"><span>Increase the default timeout.</span><div>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Override the default timeout by setting the environment variables.</p>
                                 <div class="tblformal" id="GUID-91A484EC-B446-4CA2-8FB8-4B575B2D6508__GUID-1E72ECA6-282E-418D-A9B9-C1215426C8DA">
                                    <p class="titleintable">Table 2-7 Timeout Controlling</p>
                                    <table cellpadding="4" cellspacing="0" class="Formal" title="Timeout Controlling" summary="This table lists and describes default timeout periods and the environment variables that can be set to override those timeouts." frame="hsides" border="1" rules="rows">
                                       <thead>
                                          <tr align="left" valign="top">
                                             <th align="left" valign="bottom" width="20%" id="d20290e663">Timeout Controlling</th>
                                             <th align="left" valign="bottom" width="20%" id="d20290e665">Default Value (seconds)</th>
                                             <th align="left" valign="bottom" width="20%" id="d20290e667">Environment Variable</th>
                                          </tr>
                                       </thead>
                                       <tbody>
                                          <tr align="left" valign="top">
                                             <td align="left" valign="top" width="20%" id="d20290e671" headers="d20290e663 ">
                                                <p>Checks not run by root (most).</p>
                                             </td>
                                             <td align="left" valign="top" width="20%" headers="d20290e671 d20290e665 ">
                                                <p>90</p>
                                             </td>
                                             <td align="left" valign="top" width="20%" headers="d20290e671 d20290e667 ">
                                                <p><code class="codeph">RAT_TIMEOUT</code></p>
                                             </td>
                                          </tr>
                                          <tr align="left" valign="top">
                                             <td align="left" valign="top" width="20%" id="d20290e682" headers="d20290e663 ">
                                                <p>Collection of all root checks.</p>
                                             </td>
                                             <td align="left" valign="top" width="20%" headers="d20290e682 d20290e665 ">
                                                <p>300</p>
                                             </td>
                                             <td align="left" valign="top" width="20%" headers="d20290e682 d20290e667 ">
                                                <p><code class="codeph">RAT_ROOT_TIMEOUT</code></p>
                                             </td>
                                          </tr>
                                          <tr align="left" valign="top">
                                             <td align="left" valign="top" width="20%" id="d20290e693" headers="d20290e663 ">
                                                <p>SSH login DNS handshake.</p>
                                             </td>
                                             <td align="left" valign="top" width="20%" headers="d20290e693 d20290e665 ">
                                                <p>1</p>
                                             </td>
                                             <td align="left" valign="top" width="20%" headers="d20290e693 d20290e667 ">
                                                <p><code class="codeph">RAT_PASSWORDCHECK_TIMEOUT</code></p>
                                             </td>
                                          </tr>
                                       </tbody>
                                    </table>
                                 </div>
                                 <!-- class="inftblhruleinformal" -->
                              </li>
                              <li>
                                 <p>The default timeouts are designed to be lengthy enough for most cases. If the timeout is not long enough, then it is possible you are experiencing a system performance problem. Many timeouts can be indicative of a non-Oracle ORAchk and Oracle EXAchk problem in the environment.</p>
                              </li>
                           </ul>
                        </div>
                     </li>
                     <li class="stepexpand"><span>If it is not acceptable to increase the timeout to the point where nothing fails, then try excluding problematic checks running separately with a large enough timeout and then merging the reports back together.</span></li>
                     <li class="stepexpand"><span>If the problem does not appear to be down to slow or skipped checks but you have a large cluster, then try increasing the number of slave processes user for parallel database run.</span><div>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Database collections are run in parallel. The default number of slave processes used for parallel database run is calculated automatically. Change the default number using the options:<code class="codeph">-dbparallel <span class="variable" translate="no">slave processes</span></code>, or <code class="codeph">&#x2013;dbparallelmax</code></p>
                              </li>
                           </ul>
                           <div class="p">
                              <div class="infoboxnote" id="GUID-91A484EC-B446-4CA2-8FB8-4B575B2D6508__GUID-CC572088-9EC6-45A1-8026-9AC88704AF84">
                                 <p class="notep1">Note:</p>
                                 <p>The higher the parallelism the more resources are consumed. However, the elapsed time is reduced.</p>
                                 <p>Raise or lower the number of parallel slaves beyond the default value.</p>
                                 <p>After the entire system is brought up after maintenance, but before the users are permitted on the system, use a higher number of parallel slaves to finish a run as quickly as possible.</p>
                                 <p>On a busy production system, use a number less than the default value yet more than running in serial mode to get a run more quickly with less impact on the running system.</p>
                                 <p>Turn off the parallel database run using the <code class="codeph">-dbserial</code>&nbsp;option.
                                 </p>
                              </div>
                           </div>
                        </div>
                     </li>
                  </ol>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="troubleshooting-oracle-orachk-and-oracle-exachk.html#GUID-DCFE045C-5327-4C20-BC8D-AFB22098CB44" title="To troubleshoot and fix Oracle ORAchk and Oracle EXAchk issues, follow the steps explained in this section.">Troubleshooting Oracle ORAchk and Oracle EXAchk</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html>