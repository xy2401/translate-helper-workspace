<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="Oracle XML DB provides support for storing and manipulating XML instances by using the XMLType data type. You can access these XML instances with OCI, in conjunction with the C DOM API for XML."></meta>
      <meta name="description" content="Oracle XML DB provides support for storing and manipulating XML instances by using the XMLType data type. You can access these XML instances with OCI, in conjunction with the C DOM API for XML."></meta>
      <title>OCI对XML的支持</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Programmer&#39;s Guide"></meta>
      <meta property="og:description" content="Oracle XML DB provides support for storing and manipulating XML instances by using the XMLType data type. You can access these XML instances with OCI, in conjunction with the C DOM API for XML."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Programmer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="oracle-call-interface-programmers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-14T08:46:00-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96204-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="object-advanced-topics-in-oci.html" title="Previous" type="text/html"></link>
      <link rel="next" href="using-object-type-translator-in-oci.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Oracle Call Interface Programmer&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="LNOCI"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="object-advanced-topics-in-oci.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="using-object-type-translator-in-oci.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">程序员指南</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">OCI对XML的支持</li>
            </ol>
            <a id="GUID-BADBDFFB-8110-491E-BB9E-BEFC68E892CE" name="GUID-BADBDFFB-8110-491E-BB9E-BEFC68E892CE"></a>
            
            <h2 id="LNOCI-GUID-BADBDFFB-8110-491E-BB9E-BEFC68E892CE" class="sect2"><span class="enumeration_chapter">23</span> OCI对XML的支持</h2>
         </header>
         <div class="ind">
            <div>
               <p>Oracle XML DB通过使用<code class="codeph">XMLType</code>数据类型提供对存储和操作XML实例的支持。您可以使用OCI访问这些XML实例，并结合使用C DOM API for XML。</p>
               <p>应用程序必须初始化通常的OCI句柄，例如服务器句柄或语句句柄，然后必须初始化XML上下文。该程序可以在后端的XML实例上运行，也可以在客户端创建新的实例。初始化的XML上下文可以与所有C DOM函数一起使用。</p>
               <p>存储在Oracle XML DB中的XML数据可以在客户端使用C DOM结构<code class="codeph">xmldocnode</code>进行访问。您可以使用此结构在OCI语句中绑定，定义和操作XML值。
               </p>
               <div class="p">本节包括以下主题：<ul style="list-style-type:disc">
                     <li>
                        <p><a href="oci-support-for-xml.html#GUID-F4E9FBE2-39AC-40FF-8FC0-03141CCEA11A" title="XML上下文是所有C DOM API函数中的必需参数。">XML上下文</a></p>
                     </li>
                     <li>
                        <p><a href="oci-support-for-xml.html#GUID-C9205CED-77E6-4DF4-AE8B-DBDDCD5429A5" title="可以使用OCI语句调用对服务器上的XML数据进行操作。与其他对象实例一样，您可以使用xmldocnode绑定和定义XMLType值。">服务器上的XML数据</a></p>
                     </li>
                     <li>
                        <p><a href="oci-support-for-xml.html#GUID-97A697E2-EBDA-4A19-B88F-3C307B752B04" title="要初始化和终止XML上下文，请分别使用函数OCIXmlDbInitXmlCtx（）和OCIXmlDbFreeXmlCtx（）。">使用OCI XML DB功能</a></p>
                     </li>
                     <li>
                        <p><a href="oci-support-for-xml.html#GUID-E86849EB-B7FA-49A9-A992-74400E4BDED8" title="中间层和客户端层可以以二进制XML格式生成，使用和处理XML。">OCI客户端访问二进制XML</a></p>
                     </li>
                  </ul>
               </div>
               <div class="infoboxnotealso" id="GUID-BADBDFFB-8110-491E-BB9E-BEFC68E892CE__GUID-CCAC6563-288C-48BB-8418-4E8710DCF828">
                  <p class="notep1">也可以看看：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="oci-xml-databse-functions.html#GUID-C104864B-8003-4F08-B5C6-DB1C13BC936D" title="本章介绍OCI XML DB功能。">OCI XML DB函数，</a>用于获取有关C中XML支持的信息</p>
                     </li>
                     <li>
                        <p>有关使用C API for XML的更多信息，请参阅<a href="../adxdb/C-API-for-XMLType.html#ADXDB1400" target="_blank"><span><cite>Oracle XML DB Developer's Guide</cite></span></a> ，包括二进制XML示例</p>
                     </li>
                     <li>
                        <p>有关C语言XML解析器的更多信息，请参阅<a href="../adxdk/using-XML-parser-for-C.html#ADXDK1400" target="_blank"><span><cite>Oracle XML Developer's Kit程序员指南</cite></span></a></p>
                     </li>
                     <li>
                        <p>有关用于XML的DOM C API的信息，请参阅<a href="../caxml/package-DOM-API.html#CAXML00300" target="_blank"><span><cite>Oracle数据库XML C API参考</cite></span></a></p>
                     </li>
                  </ul>
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-F4E9FBE2-39AC-40FF-8FC0-03141CCEA11A" name="GUID-F4E9FBE2-39AC-40FF-8FC0-03141CCEA11A"></a><h3 id="LNOCI-GUID-F4E9FBE2-39AC-40FF-8FC0-03141CCEA11A" class="sect3"><span class="enumeration_section">23.1</span> XML上下文</h3>
               <div>
                  <p>XML上下文是所有C DOM API函数中的必需参数。</p>
                  <p>此不透明上下文封装了与数据编码，错误消息语言等有关的信息。对于XDK和Oracle XML DB应用程序，此上下文的内容是不同的。</p>
                  <p>对于Oracle XML DB，提供了两个OCI函数来初始化和释放XML上下文：</p><pre class="oac_no_warn" dir="ltr">xmlctx * OCIXmlDbInitXmlCtx（OCIEnv * envhp，OCISvcCtx * svchp，OCIError * errhp，ocixmldbparam * params，ub4 num_params）; void OCIXmlDbFreeXmlCtx（xmlctx * xctx）;</pre></div>
            </div>
            <div class="props_rev_3"><a id="GUID-C9205CED-77E6-4DF4-AE8B-DBDDCD5429A5" name="GUID-C9205CED-77E6-4DF4-AE8B-DBDDCD5429A5"></a><h3 id="LNOCI-GUID-C9205CED-77E6-4DF4-AE8B-DBDDCD5429A5" class="sect3"><span class="enumeration_section">23.2</span>服务器上的XML数据</h3>
               <div>
                  <p>可以使用OCI语句调用对服务器上的XML数据进行操作。与其他对象实例一样，您可以使用<code class="codeph">xmldocnode</code>绑定和定义<code class="codeph">XMLType</code>值。
                  </p>
                  <p>OCI语句用于从服务器中选择XML数据。该数据可以直接在C DOM函数中使用。同样，这些值可以直接绑定回SQL语句。</p>
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-97A697E2-EBDA-4A19-B88F-3C307B752B04" name="GUID-97A697E2-EBDA-4A19-B88F-3C307B752B04"></a><h3 id="LNOCI-GUID-97A697E2-EBDA-4A19-B88F-3C307B752B04" class="sect3"><span class="enumeration_section">23.3</span>使用OCI XML DB功能</h3>
               <div>
                  <p>要初始化和终止XML上下文，请分别使用函数<code class="codeph">OCIXmlDbInitXmlCtx()</code>和<code class="codeph">OCIXmlDbFreeXmlCtx()</code> 。
                  </p>
                  <div class="section">
                     <p>头文件<code class="codeph">ocixmldb.h</code>与统一的C API一起使用。</p>
                     <p><a href="oci-support-for-xml.html#GUID-97A697E2-EBDA-4A19-B88F-3C307B752B04__BGBDIEFE">示例23-1</a>是测试示例的代码片段，其示出了如何使用C API执行操作。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-97A697E2-EBDA-4A19-B88F-3C307B752B04__BGBDIEFE">
                     <p class="titleinexample">示例23-1使用C API初始化和终止XML上下文</p><pre class="oac_no_warn" dir="ltr">#ifndef S_ORACLE #include &lt;sh&gt; #endif #ifndef ORATYPES_ORACLE #include &lt;oratypes.h&gt; #endif #ifndef XML_ORACLE #include &lt;xml.h&gt; #endif #ifndef OCIXML_ORACLE #include &lt;ocixmldb.h&gt; #endif #ifndef OCI_ORACLE＃ include &lt;oci.h&gt; #endif #include &lt;string.h&gt; typedef struct test_ctx {OCIEnv * envhp; OCIError * errhp; OCISvcCtx * svchp; OCIStmt * stmthp; OCIServer * srvhp; OCIDuration dur; OCISession * sesshp; oratext * username; oratext *密码; } test_ctx; ...void main（）{test_ctx temp_ctx; test_ctx * ctx =＆temp_ctx; OCIType * xmltdo =（OCIType *）0; xmldocnode * doc =（xmldocnode *）0; ocixmldbparam params [1]; xmlnode * quux，* foo，* foo_data，* top; xmlerr错误;剑状态= 0; xmlctx * xctx; .../ *初始化envhp，svchp，errhp，dur，stmthp * / .../ *获取xml上下文* / params [0] .name_ocixmldbparam = XCTXINIT_OCIDUR; params [0] .value_ocixmldbparam =＆ctx-&gt; dur; xctx = OCIXmlDbInitXmlCtx（ctx-&gt; envhp，ctx-&gt; svchp，ctx-&gt; errhp，params，1）; / *下一步做统一的C API操作* / .../ *使用OCIHandleFree（）* /释放语句句柄/ *释放与上下文关联的分配* / OCIXmlDbFreeXmlCtx（xctx）; / *免费envhp，svchp，errhp，stmthp * / ...}</pre></div>
                  <!-- class="example" -->
                  <div class="section">
                     <div class="infoboxnotealso" id="GUID-97A697E2-EBDA-4A19-B88F-3C307B752B04__GUID-A2498E57-0980-451B-AF4D-0AC4ADBF7151">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="oci-xml-db-functions.html#GUID-A99DABF3-145A-4FA5-BA70-A81CEA56C63B" title="初始化XML上下文。">OCIXmlDbInitXmlCtx（）</a></p>
                           </li>
                           <li>
                              <p><a href="oci-xml-db-functions.html#GUID-78C4352B-5BE6-4208-B6DB-B04964F2B692" title="释放XML上下文。">OCIXmlDbFreeXmlCtx（）</a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-E86849EB-B7FA-49A9-A992-74400E4BDED8" name="GUID-E86849EB-B7FA-49A9-A992-74400E4BDED8"></a><h3 id="LNOCI-GUID-E86849EB-B7FA-49A9-A992-74400E4BDED8" class="sect3"><span class="enumeration_section">23.4</span> OCI客户端访问二进制XML</h3>
               <div>
                  <p>中间层和客户端层可以以二进制XML格式生成，使用和处理XML。</p>
                  <p>C应用程序从XML DB存储库获取数据，使用DOM执行XML更新，并将其存储回数据库。或者在客户端上创建或输入XML文档，并在其上使用XSLT，XQuery和其他实用程序。然后输出XML保存在XML DB中。</p>
                  <p>客户端应用程序需要与元数据存储库（通常是后端数据库）的连接（称为元数据连接），以在编码或解码二进制XML文档时获取标记定义，XML模式和DTD。</p>
                  <p>使用专用连接或连接池初始化存储库上下文。从存储库上下文获取的连接用于获取元数据，例如令牌定义和XML模式。相反，应用程序还具有数据连接，用于定期向数据库传输数据（包括XML数据）。存储库上下文与（一个或多个）数据连接显式关联。使用数据连接从数据库读取或写入XML数据时，将在基础编码或解码操作期间访问相应的存储库上下文。根据需要，元数据连接用于从存储库中获取元数据。</p>
                  <div class="p">本节包括以下主题：<ul style="list-style-type:disc">
                        <li>
                           <p><a href="oci-support-for-xml.html#GUID-63FC90A5-43CF-4F1C-8AAE-56070E3434FC" title="您的C应用程序可以使用OCI访问数据库中的持久性XML，使用Unified XML C API来处理获取的XML数据。">从OCI应用程序访问XML数据</a></p>
                        </li>
                        <li>
                           <p><a href="oci-support-for-xml.html#GUID-0264F856-8512-4B3A-B820-5A287F596FD5" title="OCIBinXmlReposCtx是存储库上下文数据结构。">存储库上下文</a></p>
                        </li>
                        <li>
                           <p><a href="oci-support-for-xml.html#GUID-86D5315D-9648-4F94-8E47-0FFF37028441" title="OCIBinXmlCreateReposCtxFromConn（）使用指定的专用OCI连接创建存储库上下文。">从专用OCI连接创建存储库上下文</a></p>
                        </li>
                        <li>
                           <p><a href="oci-support-for-xml.html#GUID-301DD0C0-2927-4069-9B74-D8C95DA1CDFB" title="OCIBinXmlCreateReposCtxFromCPool（）从连接池创建存储库上下文。">从连接池创建存储库上下文</a></p>
                        </li>
                        <li>
                           <p><a href="oci-support-for-xml.html#GUID-4E05FAF0-81FA-454A-8618-DD4E5DD89DB3" title="OCIBinXmlSetReposCtxForConn（）将存储库上下文与OCISvcCtx *描述的数据连接相关联。">关于将存储库上下文与数据连接关联</a></p>
                        </li>
                        <li>
                           <p><a href="oci-support-for-xml.html#GUID-FDA2DD34-0B7C-4DF0-84EC-EA7CA8A0F019">关于设置XMLType编码格式首选项</a></p>
                        </li>
                        <li>
                           <p><a href="oci-support-for-xml.html#GUID-C09D2275-E10C-421E-90FA-449C428590BE" title="在XML DB文档中的此示例中显示了从连接池创建存储库上下文并将存储库上下文与数据连接相关联。">使用连接池的示例</a></p>
                        </li>
                     </ul>
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-63FC90A5-43CF-4F1C-8AAE-56070E3434FC" name="GUID-63FC90A5-43CF-4F1C-8AAE-56070E3434FC"></a><h4 id="LNOCI-GUID-63FC90A5-43CF-4F1C-8AAE-56070E3434FC" class="sect4"><span class="enumeration_section">23.4.1</span>从OCI应用程序访问XML数据</h4>
                  <div>
                     <p>您的C应用程序可以使用OCI访问数据库中的持久性XML，使用Unified XML C API来处理获取的XML数据。</p>
                     <div class="section">
                        <p>客户端应用程序采取以下步骤：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li><span>创建常用的OCI句柄，如<code class="codeph">OCIEnv</code> ， <code class="codeph">OCISvcCtx</code>和<code class="codeph">OCIError</code> 。</span></li>
                        <li><span>创建一个或多个存储库上下文以获取二进制XML元数据。</span></li>
                        <li><span>将存储库上下文与数据连接相关联。</span></li>
                        <li><span>将（ <code class="codeph">xmldocnode</code> ）变量绑定或定义到select，insert和update语句中。</span></li>
                        <li><span>执行select，insert或update语句以获取或存储XML文档。此时，客户端OCI库与数据库后端交互以获取所需的XML模式，DTD，令牌定义等。</span></li>
                        <li><span>使用Unified C API操作XML数据（DOM）。</span></li>
                     </ol>
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-0264F856-8512-4B3A-B820-5A287F596FD5" name="GUID-0264F856-8512-4B3A-B820-5A287F596FD5"></a><h4 id="LNOCI-GUID-0264F856-8512-4B3A-B820-5A287F596FD5" class="sect4"><span class="enumeration_section">23.4.2</span>存储库上下文</h4>
                  <div>
                     <p><code class="codeph">OCIBinXmlReposCtx</code>是存储库上下文数据结构。
                     </p>
                     <p>客户端应用程序通过向元数据存储库提供连接信息来创建此上下文。应用程序可以创建多个存储库上下文以连接到多个令牌存储库。存储库上下文与数据连接（ <code class="codeph">OCISvcCtx</code> ）显式关联。当系统必须获取元数据以将数据编码到数据连接或从数据连接解码数据时，它将访问适当的元数据。
                     </p>
                     <p>建议应用程序为每个<code class="codeph">OCIEnv</code>创建一个存储库上下文。这为多线程应用程序提供了更好的并发性。
                     </p>
                     <p>可以从专用OCI连接或OCI连接池创建存储库上下文。</p>
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-86D5315D-9648-4F94-8E47-0FFF37028441" name="GUID-86D5315D-9648-4F94-8E47-0FFF37028441"></a><h4 id="LNOCI-GUID-86D5315D-9648-4F94-8E47-0FFF37028441" class="sect4"><span class="enumeration_section">23.4.3</span>从专用OCI连接创建存储库上下文</h4>
                  <div>
                     <p><code class="codeph">OCIBinXmlCreateReposCtxFromConn()</code>使用指定的专用OCI连接创建存储库上下文。
                     </p>
                     <p>OCI连接仅用于元数据访问，不应由应用程序在任何其他方案中使用。另请注意，对此连接的访问是序列化的;也就是说，如果多个线程尝试使用相同的连接，则访问一次仅限于一个线程。出于可伸缩性的原因，建议应用程序使用连接池创建存储库上下文，如下一节中所述。</p>
                     <p>注意：您还可以传入与用于数据的连接相同的连接。但是，在某些情况下，如果客户端系统尝试在另一个操作（例如select或insert）的一部分中尝试联系元数据存储库，则可能会导致错误。</p>
                     <div class="infoboxnotealso" id="GUID-86D5315D-9648-4F94-8E47-0FFF37028441__GUID-7C6814A0-7496-4EE1-9FF9-7FADDF076A8D">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="oci-xml-db-functions.html#GUID-7B569A13-1E67-4FC4-A3AE-C3E90695C6D2" title="创建元数据连接上下文。">OCIBinXmlCreateReposCtxFromConn（）</a></p>
                     </div>
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-301DD0C0-2927-4069-9B74-D8C95DA1CDFB" name="GUID-301DD0C0-2927-4069-9B74-D8C95DA1CDFB"></a><h4 id="LNOCI-GUID-301DD0C0-2927-4069-9B74-D8C95DA1CDFB" class="sect4"><span class="enumeration_section">23.4.4</span>从连接池创建存储库上下文</h4>
                  <div>
                     <p><code class="codeph">OCIBinXmlCreateReposCtxFromCPool()</code>从连接池创建存储库上下文。
                     </p>
                     <p>当应用程序访问后端存储库时，将使用池中的任何可用连接。此外，一旦元数据操作完成，就将该连接释放回池中。强烈建议在多线程应用程序方案中使用连接池。不同的线程可以在池中使用不同的连接，并在完成后立即释放它们。这种方法允许更少的物理连接和更高的可扩展性和并发性。</p>
                     <div class="infoboxnotealso" id="GUID-301DD0C0-2927-4069-9B74-D8C95DA1CDFB__GUID-35758A56-9BE1-4275-A542-6283D2482843">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="oci-xml-db-functions.html#GUID-8E673583-3F28-4610-AD69-F513300E092B" title="从指定的连接池创建元数据连接上下文。">OCIBinXmlCreateReposCtxFromCPool（）</a></p>
                     </div>
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-4E05FAF0-81FA-454A-8618-DD4E5DD89DB3" name="GUID-4E05FAF0-81FA-454A-8618-DD4E5DD89DB3"></a><h4 id="LNOCI-GUID-4E05FAF0-81FA-454A-8618-DD4E5DD89DB3" class="sect4"><span class="enumeration_section">23.4.5</span>关于将存储库上下文与数据连接关联</h4>
                  <div>
                     <p><code class="codeph">OCIBinXmlSetReposCtxForConn()</code>将存储库上下文与<code class="codeph">OCISvcCtx</code> <code class="codeph">*</code>描述的数据连接相关联。
                     </p>
                     <p>多个数据连接可以共享相同的存储库上下文，但可以序列化对存储库的访问（如果它基于专用连接）。当系统必须获取编码或解码操作的元数据时，它会从<code class="codeph">OCIEnv</code> ， <code class="codeph">OCISvcCtx</code>对中查找相应的存储库连接，并使用它来获取所需的元数据。
                     </p>
                     <div class="infoboxnotealso" id="GUID-4E05FAF0-81FA-454A-8618-DD4E5DD89DB3__GUID-4870DEB0-3555-4839-ACD1-676D2D48107E">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="oci-xml-db-functions.html#GUID-7699EB5F-304A-4B34-AC25-D686BA117D3C" title="将数据连接与元数据连接相关联。">OCIBinXmlSetReposCtxForConn（）</a></p>
                     </div>
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-FDA2DD34-0B7C-4DF0-84EC-EA7CA8A0F019" name="GUID-FDA2DD34-0B7C-4DF0-84EC-EA7CA8A0F019"></a><h4 id="LNOCI-GUID-FDA2DD34-0B7C-4DF0-84EC-EA7CA8A0F019" class="sect4"><span class="enumeration_section">23.4.6</span>关于设置XMLType编码格式首选项</h4>
                  <div>
                     <p></p>
                     <p>默认情况下，发送到数据库的XML数据基于某些内部条件（如源格式（如果是从DB读取））以这些可能的格式（文本，对象关系或二进制XML）之一进行编码。<code class="codeph">OCIBinXmlSetFormatPref()</code>提供了一种显式设置来设置编码格式的首选项。将来，默认格式可以是二进制XML，但如果需要，可以使用此函数覆盖它。
                     </p>
                     <div class="infoboxnotealso" id="GUID-FDA2DD34-0B7C-4DF0-84EC-EA7CA8A0F019__GUID-5F52710D-BE3F-4459-87AC-77D245A71819">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="oci-xml-db-functions.html#GUID-579B0507-91D3-4AD3-8AA9-B57454D38F3F" title="指定在XML文档的客户端和服务器之间传输的图像是二进制XML格式。">OCIBinXmlSetFormatPref（）</a></p>
                     </div>
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-C09D2275-E10C-421E-90FA-449C428590BE" name="GUID-C09D2275-E10C-421E-90FA-449C428590BE"></a><h4 id="LNOCI-GUID-C09D2275-E10C-421E-90FA-449C428590BE" class="sect4"><span class="enumeration_section">23.4.7</span>使用连接池示例</h4>
                  <div>
                     <p>在XML DB文档中的此示例中显示了从连接池创建存储库上下文并将存储库上下文与数据连接相关联。</p>
                     <p>数据库是本地的，测试是单线程模式。</p>
                     <div class="infoboxnotealso" id="GUID-C09D2275-E10C-421E-90FA-449C428590BE__GUID-466E5990-0F55-47BE-805F-4D3E3832F5AB">
                        <p class="notep1">也可以看看：</p>
                        <p>有关使用OCI和C API for XML与Oracle XML DB的更多信息，请参阅<a href="../adxdb/C-API-for-XMLType.html#ADXDB1400" target="_blank"><span><cite>Oracle XML DB Developer's Guide</cite></span></a></p>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>