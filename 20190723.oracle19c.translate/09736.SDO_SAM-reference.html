<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="The MDSYS.SDO_SAM package contains subprograms for spatial analysis and data mining."></meta>
      <meta name="description" content="The MDSYS.SDO_SAM package contains subprograms for spatial analysis and data mining."></meta>
      <title>SDO_SAM包（空间分析和挖掘）</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Developer&#39;s Guide "></meta>
      <meta property="og:description" content="The MDSYS.SDO_SAM package contains subprograms for spatial analysis and data mining."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Developer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="spatial-and-graph-developers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-10T14:11:51-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1999, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E94799-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="SDO_PC_PKG-reference.html" title="Previous" type="text/html"></link>
      <link rel="next" href="SDO_TIN_PKG-reference.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Spatial and Graph Developer&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="SPATL"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="SDO_PC_PKG-reference.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="SDO_TIN_PKG-reference.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">开发人员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="spatial-reference-information.html" property="item" typeof="WebPage"><span property="name">参考信息</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">SDO_SAM包（空间分析和挖掘）</li>
            </ol>
            <a id="GUID-60C6A33E-1CE1-4FE6-AC03-16EE11E97FDC" name="GUID-60C6A33E-1CE1-4FE6-AC03-16EE11E97FDC"></a><a id="SPATL1196"></a><a id="SPATL190"></a>
            
            <h2 id="SPATL-GUID-60C6A33E-1CE1-4FE6-AC03-16EE11E97FDC" class="sect2"><span class="enumeration_chapter">31</span> SDO_SAM包（空间分析和挖掘）</h2>
         </header>
         <div class="ind">
            <div>
               <p>MDSYS.SDO_SAM包中包含用于空间分析和数据挖掘的子程序。</p>
               <p><a id="d152862e51" class="indexterm-anchor"></a><a id="d152862e55" class="indexterm-anchor"></a><a id="d152862e59" class="indexterm-anchor"></a><a id="d152862e65" class="indexterm-anchor"></a><a id="d152862e67" class="indexterm-anchor"></a><a id="d152862e69" class="indexterm-anchor"></a><a id="d152862e73" class="indexterm-anchor"></a>要使用本章中的子程序，你必须了解有关空间分析和数据挖掘的概念信息<a href="spatial-analysis-mining.html#GUID-67115788-00C2-49D6-85CA-6027F759AF1F" title="本章介绍了Oracle Spatial和Graph功能，这些功能支持在数据挖掘应用程序中使用空间数据。">空间分析和挖掘</a> 。
               </p>
               <div class="infoboxnote" id="GUID-60C6A33E-1CE1-4FE6-AC03-16EE11E97FDC__GUID-22215780-B90C-4389-BC87-D597608E6562">
                  <p class="notep1">注意：</p>
                  <p>SDO_SAM子程序仅支持二维几何。它们不支持三维几何。</p>
               </div>
               <p>本章的其余部分提供了按字母顺序列出的空间分析和挖掘子程序的参考信息。</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="SDO_SAM-reference.html#GUID-3755052C-D6AD-494B-AF75-370B32C797B5">SDO_SAM.AGGREGATES_FOR_GEOMETRY</a><br></li>
                  <li class="ulchildlink"><a href="SDO_SAM-reference.html#GUID-1074B640-8614-4EB6-9149-B60D2FB19363">SDO_SAM.AGGREGATES_FOR_LAYER</a><br></li>
                  <li class="ulchildlink"><a href="SDO_SAM-reference.html#GUID-39661C3E-314A-45FF-B02D-FD988C32E96B">SDO_SAM.BIN_GEOMETRY</a><br></li>
                  <li class="ulchildlink"><a href="SDO_SAM-reference.html#GUID-2EAC8B89-CAD1-43BA-93A7-36901E6B45E0">SDO_SAM.BIN_LAYER</a><br></li>
                  <li class="ulchildlink"><a href="SDO_SAM-reference.html#GUID-6BDC5ADF-A8C6-42CB-A49C-4FBED9C5B6D9">SDO_SAM.COLOCATED_REFERENCE_FEATURES</a><br></li>
                  <li class="ulchildlink"><a href="SDO_SAM-reference.html#GUID-3811D8E9-1355-4527-BD65-D43B3631079C">SDO_SAM.SIMPLIFY_GEOMETRY</a><br></li>
                  <li class="ulchildlink"><a href="SDO_SAM-reference.html#GUID-EC873FC0-BDFB-45D8-9F78-81112497D951">SDO_SAM.SIMPLIFY_LAYER</a><br></li>
                  <li class="ulchildlink"><a href="SDO_SAM-reference.html#GUID-355D79C5-C25A-49C4-9FF7-09D79C55B252">SDO_SAM.SPATIAL_CLUSTERS</a><br></li>
                  <li class="ulchildlink"><a href="SDO_SAM-reference.html#GUID-1C5D1129-147F-4E79-846A-7EEA1F1221E9">SDO_SAM.TILED_AGGREGATES</a><br></li>
                  <li class="ulchildlink"><a href="SDO_SAM-reference.html#GUID-0A782F8F-2036-4271-B628-A6D90A79C3FB">SDO_SAM.TILED_BINS</a><br></li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>父主题：</strong> <a href="spatial-reference-information.html#GUID-343C3A98-6564-49CF-AA31-F86C5AEAAF02">参考信息</a></p>
                  </div>
               </div>
            </div>
            <a id="SPATL1197"></a><div class="props_rev_3"><a id="GUID-3755052C-D6AD-494B-AF75-370B32C797B5" name="GUID-3755052C-D6AD-494B-AF75-370B32C797B5"></a><h3 id="SPATL-GUID-3755052C-D6AD-494B-AF75-370B32C797B5" class="sect3"><span class="enumeration_section">31.1</span> SDO_SAM.AGGREGATES_FOR_GEOMETRY</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-3755052C-D6AD-494B-AF75-370B32C797B5__GUID-BE702C0D-1CE8-4767-BEC7-EC8D357AA405">格式</p><pre class="oac_no_warn" dir="ltr">SDO_SAM.AGGREGATES_FOR_GEOMETRY（theme_name IN VARCHAR2，theme_colname IN VARCHAR2，aggr_type_string IN VARCHAR2，aggr_col_string IN VARCHAR2，geom IN SDO_GEOMETRY，dst_spec IN VARCHAR2 DEFAULT NULL）返回号码;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-3755052C-D6AD-494B-AF75-370B32C797B5__GUID-7CC477F2-2BA0-45E2-816F-659BFA813953">描述</p>
                     <p>计算几何的主题聚合。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-3755052C-D6AD-494B-AF75-370B32C797B5__GUID-74B2090D-CEB2-458E-B7BC-ABE25B36FC23">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-3755052C-D6AD-494B-AF75-370B32C797B5__GUID-7C934FAD-6129-45A9-BCA7-F1D6094CB726"><!-- --></a> theme_name</dt>
                        <dd>
                           <p>主题表的名称。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-3755052C-D6AD-494B-AF75-370B32C797B5__GUID-8C2ED8F7-FF20-4D6E-8E28-FFE0BF377864"><!-- --></a> theme_colname</dt>
                        <dd>
                           <p><code class="codeph">theme_name</code>几何列的<code class="codeph">theme_name</code> 。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-3755052C-D6AD-494B-AF75-370B32C797B5__GUID-8DC72494-2431-42F4-B78B-C4231F768D93"><!-- --></a> aggr_type_string</dt>
                        <dd>
                           <p>任何Oracle SQL聚合函数，它接受一个或多个数值并计算数值，例如<code class="codeph">SUM</code> ， <code class="codeph">MIN</code> ， <code class="codeph">MAX</code>或<code class="codeph">AVG</code> 。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-3755052C-D6AD-494B-AF75-370B32C797B5__GUID-6BB11948-CA7B-4F9A-85C2-18852527639F"><!-- --></a> aggr_col_string</dt>
                        <dd>
                           <p>在<code class="codeph">theme_name</code>中用于计算聚合值的列的名称，如“使用说明”中所述。一个例子可能是POPULATION列。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-3755052C-D6AD-494B-AF75-370B32C797B5__GUID-3D0652E5-EB55-4477-A165-C428F9340945"><!-- --></a> geom</dt>
                        <dd>
                           <p>几何对象。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-3755052C-D6AD-494B-AF75-370B32C797B5__GUID-C1145288-6393-4EDE-B495-04BFBCD39196"><!-- --></a> dst_spec</dt>
                        <dd>
                           <p>带引号的字符串，用于指定要考虑的距离缓冲区或多个最近邻居几何。有关格式和含义的说明，请参阅“使用说明”。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-3755052C-D6AD-494B-AF75-370B32C797B5__GUID-1E088F6A-62B9-478A-B7BD-44306DC2214A">使用说明</p>
                     <p>对于特定几何体，此函数标识<code class="codeph">theme_name</code>表中的几何，找到它们的交叉比率，使用此交叉比率将指定的聚合体相乘，并将其聚合为几何体。具体来说，对于与指定几何体相交的<code class="codeph">theme_name</code>表的所有行，它将返回以下函数中的值：</p><pre class="oac_no_warn" dir="ltr">aggr_type_string（aggr_col_string * proportional_area_of_intersection（geometry，theme_name.theme_colname））</pre><p><code class="codeph">theme_colname</code>列必须在其上定义空间索引。为获得最佳性能，请将简化的几何图形插入此列。
                     </p>
                     <p><code class="codeph">dst_spec</code>参数（如果指定）是带引号的字符串，必须包含以下任一项：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">distance</code>关键字和可选的<code class="codeph">unit</code>关键字（与距离值相关联的度量单位），用于指定几何体周围的缓冲区。例如， <code class="codeph">'distance=2 unit=km'</code>指定输入几何体周围的2公里缓冲区。如果未指定<code class="codeph">dst_spec</code> ，则不使用缓冲区。
                           </p>
                           <p>如果指定了<code class="codeph">unit</code>关键字，则该值必须是MDSYS.SDO_DIST_UNITS表中的SDO_UNIT值（例如， <code class="codeph">'unit=km'</code> ）。如果未指定<code class="codeph">unit</code>关键字，则使用与几何关联的度量单位。有关<a href="spatial-datatypes-metadata.html#GUID-5984C12A-0A22-4BFD-B777-7C837D3CBB99" title="Geometry functions that involve measurement allow an optional unit parameter to specify the unit of measurement for a specified distance or area, if a georeferenced coordinate system (SDO_SRID value) is associated with the input geometry or geometries.">测量</a>单位规范的更多信息，请参见<a href="spatial-datatypes-metadata.html#GUID-5984C12A-0A22-4BFD-B777-7C837D3CBB99" title="如果地理参考坐标系（SDO_SRID值）与输入几何或几何相关联，则涉及测量的几何函数允许可选单位参数指定指定距离或区域的测量单位。">测量支持</a>单位。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">sdo_num_res</code>关键字，用于指定要考虑的最近邻几何的数量，而不考虑比例覆盖。例如， <code class="codeph">'sdo_num_res=5'</code>可以在查询中使用，该查询要求最接近指定点的五个城市的人口。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-3755052C-D6AD-494B-AF75-370B32C797B5__GUID-7F7D4D4A-1209-45F8-AEEB-F85A127609D8">例子</p>
                     <p>以下示例计算围绕指定点几何的半径为3英里的区域的主题聚合。在这种情况下，该区域的总人口是根据不同县内圈子面积的比例计算的，假设县内人口的分布均匀。</p><pre class="oac_no_warn" dir="ltr">SELECT sdo_sam.aggregates_for_geometry（'GEOD_COUNTIES'，'GEOM'，'sum'，'totpop'，SDO_GEOMETRY（2001,8307，SDO_POINT_TYPE（-73.943849,40.6698，NULL），NULL，NULL），'distance = 3 unit = mile' ）FROM DUAL a;</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="SDO_SAM-reference.html#GUID-60C6A33E-1CE1-4FE6-AC03-16EE11E97FDC" title="MDSYS.SDO_SAM包中包含用于空间分析和数据挖掘的子程序。">SDO_SAM包（空间分析和挖掘）</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL1198"></a><div class="props_rev_3"><a id="GUID-1074B640-8614-4EB6-9149-B60D2FB19363" name="GUID-1074B640-8614-4EB6-9149-B60D2FB19363"></a><h3 id="SPATL-GUID-1074B640-8614-4EB6-9149-B60D2FB19363" class="sect3"><span class="enumeration_section">31.2</span> SDO_SAM.AGGREGATES_FOR_LAYER</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-1074B640-8614-4EB6-9149-B60D2FB19363__GUID-B0ECC95F-E020-43D1-B155-5B4F52319549">格式</p><pre class="oac_no_warn" dir="ltr">SDO_SAM.AGGREGATES_FOR_LAYER（theme_name IN VARCHAR2，theme_colname IN VARCHAR2，aggr_type_string IN VARCHAR2，aggr_col_string IN VARCHAR2，tablename IN VARCHAR2，colname IN VARCHAR2，dst_spec IN VARCHAR2 DEFAULT NULL）RETURN SDO_REGAGGRSET;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1074B640-8614-4EB6-9149-B60D2FB19363__GUID-EA5EFCCC-E591-4765-B737-104E7595B28C">描述</p>
                     <p>计算几何图层的主题聚合。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1074B640-8614-4EB6-9149-B60D2FB19363__GUID-F9E4FB3E-9CFC-4B50-B901-474D110C7312">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-1074B640-8614-4EB6-9149-B60D2FB19363__GUID-46B08AE2-F29E-4AA6-AB83-8B2DF5C0794A"><!-- --></a> theme_name</dt>
                        <dd>
                           <p>主题表的名称。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-1074B640-8614-4EB6-9149-B60D2FB19363__GUID-F7455971-9E62-4E84-971A-ACD36935E09F"><!-- --></a> theme_colname</dt>
                        <dd>
                           <p><code class="codeph">theme_name</code>几何列的<code class="codeph">theme_name</code> 。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-1074B640-8614-4EB6-9149-B60D2FB19363__GUID-D883F8A0-7959-4E4E-8B00-C48FF4C7C3BC"><!-- --></a> aggr_type_string</dt>
                        <dd>
                           <p>任何Oracle SQL聚合函数，它接受一个或多个数值并计算数值，例如<code class="codeph">SUM</code> ， <code class="codeph">MIN</code> ， <code class="codeph">MAX</code>或<code class="codeph">AVG</code> 。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-1074B640-8614-4EB6-9149-B60D2FB19363__GUID-F4BAD472-E40A-439D-9061-98AFE4D72059"><!-- --></a> aggr_col_string</dt>
                        <dd>
                           <p>在<code class="codeph">theme_name</code>中用于计算聚合值的列的名称，如“使用说明”中所述。一个例子可能是POPULATION列。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-1074B640-8614-4EB6-9149-B60D2FB19363__GUID-7FE8C328-7E1F-424B-9E3A-81DB77B8CF5C"><!-- --></a> tablename</dt>
                        <dd>
                           <p>数据挖掘表的名称。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-1074B640-8614-4EB6-9149-B60D2FB19363__GUID-1DE52E40-85ED-4284-95E0-D8E314149969"><!-- --></a> colname</dt>
                        <dd>
                           <p><code class="codeph">tablename</code>中包含几何的列的名称。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-1074B640-8614-4EB6-9149-B60D2FB19363__GUID-0663905D-7807-4495-BA03-F3DD8D55E6E2"><!-- --></a> dst_spec</dt>
                        <dd>
                           <p>带引号的字符串，用于指定要考虑的距离缓冲区或多个最近邻居几何。有关格式和含义的说明，请参阅本章中<a href="SDO_SAM-reference.html#GUID-3755052C-D6AD-494B-AF75-370B32C797B5">SDO_SAM.AGGREGATES_FOR_GEOMETRY</a>函数的使用说明。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1074B640-8614-4EB6-9149-B60D2FB19363__GUID-AC634098-39EC-43FF-B6C1-8ABC611D137D">使用说明</p>
                     <p>对于<code class="codeph">tablename</code>每个几何，此函数标识<code class="codeph">theme_name</code>表中的几何，找到它们的交叉比率，使用此交叉比率乘以指定的聚合，并为<code class="codeph">tablename</code>每个几何聚合它。具体来说，对于<code class="codeph">theme_name</code>表的所有行，它返回以下函数中的值：</p><pre class="oac_no_warn" dir="ltr">aggr_type_string（aggr_col_string * proportional_area_of_intersection（geometry，theme_name.theme_colname））</pre><p><a id="d152862e531" class="indexterm-anchor"></a><a id="d152862e533" class="indexterm-anchor"></a>此函数返回SDO_REGAGGRSET类型的对象。 SDO_REGAGGRSET对象类型定义为：</p><pre class="oac_no_warn" dir="ltr">SDO_REGAGGR表</pre><p>SDO_REGAGGR对象类型定义为：</p><pre class="oac_no_warn" dir="ltr">名字空？输入----------------------------------------- -------- ---------------------------- REGION_ID VARCHAR2（24）GEOMETRY MDSYS.SDO_GEOMETRY AGGREGATE_VALUE NUMBER</pre><p><code class="codeph">theme_colname</code>列必须在其上定义空间索引。为获得最佳性能，请将简化的几何图形插入此列。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1074B640-8614-4EB6-9149-B60D2FB19363__GUID-9831CCC5-CB60-4C4B-934D-09BF1B7EC257">例子</p>
                     <p>以下示例针对指定点几何周围半径为3英里的区域，计算名为TEST_TAB的表中所有几何的主题聚合。在这种情况下，每个区域的总人口是根据不同县内圈子面积的比例计算的，假设县内人口分布均匀。</p><pre class="oac_no_warn" dir="ltr">从表中选择a.aggregate_value（sdo_sam.aggregates_for_layer（'GEOD_COUNTIES'，'GEOM'，'SUM'，TOTPOP'，TEST_TAB'，'GEOM''距离= 3 unit = mile'））a;</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="SDO_SAM-reference.html#GUID-60C6A33E-1CE1-4FE6-AC03-16EE11E97FDC" title="MDSYS.SDO_SAM包中包含用于空间分析和数据挖掘的子程序。">SDO_SAM包（空间分析和挖掘）</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL1199"></a><div class="props_rev_3"><a id="GUID-39661C3E-314A-45FF-B02D-FD988C32E96B" name="GUID-39661C3E-314A-45FF-B02D-FD988C32E96B"></a><h3 id="SPATL-GUID-39661C3E-314A-45FF-B02D-FD988C32E96B" class="sect3"><span class="enumeration_section">31.3</span> SDO_SAM.BIN_GEOMETRY</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-39661C3E-314A-45FF-B02D-FD988C32E96B__GUID-1623B60D-CCCF-4415-96E4-4AC118DCFAE5">格式</p><pre class="oac_no_warn" dir="ltr">SDO_SAM.BIN_GEOMETRY（geom IN SDO_GEOMETRY，tol in SDO_DIM_ARRAY，bin_tablename IN VARCHAR2，bin_colname IN VARCHAR2）RETURN NUMBER;</pre><p>要么</p><pre class="oac_no_warn" dir="ltr">SDO_SAM.BIN_GEOMETRY（geom IN SDO_GEOMETRY，dim IN SDO_DIM_ARRAY，bin_tablename IN VARCHAR2，bin_colname IN VARCHAR2）RETURN NUMBER;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-39661C3E-314A-45FF-B02D-FD988C32E96B__GUID-D376C100-C7BD-4132-9214-702384AF31DF">描述</p>
                     <p>计算几何的最交叉的切片。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-39661C3E-314A-45FF-B02D-FD988C32E96B__GUID-3C737181-A785-4055-A841-863CD27AD74B">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-39661C3E-314A-45FF-B02D-FD988C32E96B__GUID-70FC0702-203C-48C1-8542-1AA7628A64D7"><!-- --></a> geom</dt>
                        <dd>
                           <p>要为其计算箱的几何。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-39661C3E-314A-45FF-B02D-FD988C32E96B__GUID-5D84F8F6-29CE-4E46-85EF-91DDE5E7C5BD"><!-- --></a> tol</dt>
                        <dd>
                           <p>公差值（见<a href="spatial-concepts.html#GUID-7469388B-6D23-4294-904F-78CA3B7191D3">公差</a> ）。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-39661C3E-314A-45FF-B02D-FD988C32E96B__GUID-898E6D93-1926-4A37-ABD2-DF096E2A22BA"><!-- --></a>昏暗</dt>
                        <dd>
                           <p>用于保存箱的几何的表的维数组。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-39661C3E-314A-45FF-B02D-FD988C32E96B__GUID-1E79D5EE-EB43-46C8-84D0-A093FC266FF0"><!-- --></a> bin_tablename</dt>
                        <dd>
                           <p>包含容器几何的表的名称。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-39661C3E-314A-45FF-B02D-FD988C32E96B__GUID-CA2BFE2C-C24E-40FA-B93D-D98EBEA8F86E"><!-- --></a> bin_colname</dt>
                        <dd>
                           <p><code class="codeph">bin_tablename</code>中的列，用于保存bin的几何。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-39661C3E-314A-45FF-B02D-FD988C32E96B__GUID-5104A8B9-AACB-49E3-9903-1F7E225E7C0D">使用说明</p>
                     <p>此函数返回与指定几何体最相交的bin。如果多个箱与指定几何相交到相同范围，则返回面积最小的箱。</p>
                     <p>要使用指定的<code class="codeph">bin_tablename</code>对数据挖掘表中的所有行执行此操作，可以使用<a href="SDO_SAM-reference.html#GUID-2EAC8B89-CAD1-43BA-93A7-36901E6B45E0">SDO_SAM.BIN_LAYER</a>过程。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-39661C3E-314A-45FF-B02D-FD988C32E96B__GUID-84E28D96-2B24-47E8-8325-4F5F3A3C1832">例子</p>
                     <p>以下示例计算指定几何的bin。</p><pre class="oac_no_warn" dir="ltr">SELECT sdo_sam.bin_geometry（a.geometry，0.0000005，'BINTBL'，'GEOMETRY'）FROM poly_4pt a，user_sdo_geom_metadata b WHERE b.table_name ='POLY_4PT'AND a.gid = 1; SDO_SAM.BIN_GEOMETRY（A.GEOMETRY，0.0000005，'BINTBL'，'GEOMETRY'）-------------------------------- ------------------------------ 43选1行。</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="SDO_SAM-reference.html#GUID-60C6A33E-1CE1-4FE6-AC03-16EE11E97FDC" title="MDSYS.SDO_SAM包中包含用于空间分析和数据挖掘的子程序。">SDO_SAM包（空间分析和挖掘）</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL1200"></a><div class="props_rev_3"><a id="GUID-2EAC8B89-CAD1-43BA-93A7-36901E6B45E0" name="GUID-2EAC8B89-CAD1-43BA-93A7-36901E6B45E0"></a><h3 id="SPATL-GUID-2EAC8B89-CAD1-43BA-93A7-36901E6B45E0" class="sect3"><span class="enumeration_section">31.4</span> SDO_SAM.BIN_LAYER</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-2EAC8B89-CAD1-43BA-93A7-36901E6B45E0__GUID-6A8C37CE-E1A9-4917-BF51-756E02DFEBF0">格式</p><pre class="oac_no_warn" dir="ltr">SDO_SAM.BIN_LAYER（tablename IN VARCHAR2，colname IN VARCHAR2，bin_tablename IN VARCHAR2，bin_colname IN VARCHAR2，bin_id_colname IN VARCHAR2，commit_interval IN NUMBER DEFAULT 20）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-2EAC8B89-CAD1-43BA-93A7-36901E6B45E0__GUID-0A8E08B5-E792-4147-8A64-2B3AB8F59478">描述</p>
                     <p>将数据挖掘表中的每个位置（和相应的行）分配给空间箱。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-2EAC8B89-CAD1-43BA-93A7-36901E6B45E0__GUID-A970D422-27BA-4B1C-BCC3-75583A11D2BF">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-2EAC8B89-CAD1-43BA-93A7-36901E6B45E0__GUID-DD371940-C6CC-40AF-9F32-39333C388218"><!-- --></a> tablename</dt>
                        <dd>
                           <p>数据挖掘表的名称。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-2EAC8B89-CAD1-43BA-93A7-36901E6B45E0__GUID-2435B8D1-3020-470F-865C-532A7A02F7E8"><!-- --></a> colname</dt>
                        <dd>
                           <p><code class="codeph">table_name</code>中包含位置坐标的列的名称。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-2EAC8B89-CAD1-43BA-93A7-36901E6B45E0__GUID-ABA4B7AC-D7E5-4AC9-A3B7-C0D7D1232A02"><!-- --></a> bin_tablename</dt>
                        <dd>
                           <p>包含有关空间区间的信息（预先计算整个二维空间）的表的名称。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-2EAC8B89-CAD1-43BA-93A7-36901E6B45E0__GUID-A98BF70D-4491-4DD3-9D98-AF2F48961D40"><!-- --></a> bin_colname</dt>
                        <dd>
                           <p><code class="codeph">bin_tablename</code>中的列，用于保存bin的几何。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-2EAC8B89-CAD1-43BA-93A7-36901E6B45E0__GUID-CBAE3ED4-C626-4F5F-A9ED-E468489AFED3"><!-- --></a> bin_id_colname</dt>
                        <dd>
                           <p>数据挖掘表中列的名称，用于保存添加到bin中的每个几何的bin ID值。（数据挖掘表中的每个受影响的行都使用<code class="codeph">bin_tablename</code> bin单元的ID值进行更新。）
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-2EAC8B89-CAD1-43BA-93A7-36901E6B45E0__GUID-EDAFFFCA-EF4D-449C-BB31-CEB0F536CF7F"><!-- --></a> commit_interval</dt>
                        <dd>
                           <p>在Spatial和Graph执行内部提交操作之前要执行的bin插入操作的数量。如果未指定<code class="codeph">commit_interval</code> ，则在每20次插入操作后执行提交。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-2EAC8B89-CAD1-43BA-93A7-36901E6B45E0__GUID-5E7D0E87-7802-4F16-8F6A-47EDA41507B4">使用说明</p>
                     <p>此过程使用<code class="codeph">bin_tablename</code>的bin计算指定图层中每个几何体的最交叉的tile。每个几何体的bin ID值都添加在<code class="codeph">bin_id_colname</code> 。
                     </p>
                     <p>使用此过程可以获得与使用指定的<code class="codeph">bin_tablename</code>在数据挖掘表中的每一行上使用<a href="SDO_SAM-reference.html#GUID-39661C3E-314A-45FF-B02D-FD988C32E96B">SDO_SAM.BIN_GEOMETRY</a>函数相同的结果。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-2EAC8B89-CAD1-43BA-93A7-36901E6B45E0__GUID-59AB03EC-D3F9-4897-BF5B-918B9641CDC6">例子</p>
                     <p>以下示例将POLY_4PT_TEMP数据挖掘表中的每个GEOMETRY列位置和相应行分配给空间bin，并在每个bin表插入后执行内部提交操作。</p><pre class="oac_no_warn" dir="ltr">CALL SDO_SAM.BIN_LAYER（'POLY_4PT_TEMP'，'GEOMETRY'，'BINTBL'，'GEOMETRY'，'BIN_ID'，1）;</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="SDO_SAM-reference.html#GUID-60C6A33E-1CE1-4FE6-AC03-16EE11E97FDC" title="MDSYS.SDO_SAM包中包含用于空间分析和数据挖掘的子程序。">SDO_SAM包（空间分析和挖掘）</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL1201"></a><div class="props_rev_3"><a id="GUID-6BDC5ADF-A8C6-42CB-A49C-4FBED9C5B6D9" name="GUID-6BDC5ADF-A8C6-42CB-A49C-4FBED9C5B6D9"></a><h3 id="SPATL-GUID-6BDC5ADF-A8C6-42CB-A49C-4FBED9C5B6D9" class="sect3"><span class="enumeration_section">31.5</span> SDO_SAM.COLOCATED_REFERENCE_FEATURES</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-6BDC5ADF-A8C6-42CB-A49C-4FBED9C5B6D9__GUID-588B9E7A-BB6B-4EDA-B7D6-326A8A66747D">格式</p><pre class="oac_no_warn" dir="ltr">SDO_SAM.COLOCATED_REFERENCE_FEATURES（theme_tablename IN VARCHAR2，theme_colname IN VARCHAR2，tablename IN VARCHAR2，colname IN VARCHAR2，ref_predicate IN VARCHAR2，dst_spec IN VARCHAR2，result_tablename IN VARCHAR2，commit_interval IN NUMBER DEFAULT 100）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-6BDC5ADF-A8C6-42CB-A49C-4FBED9C5B6D9__GUID-5EF96F86-14A9-44A6-A31C-107E15A58DBC">描述</p>
                     <p>执行基于部分谓词的表连接，并将连接结果具体化为表。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-6BDC5ADF-A8C6-42CB-A49C-4FBED9C5B6D9__GUID-D433CBD3-7D02-4B5D-AB45-9355851A9EF0">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-6BDC5ADF-A8C6-42CB-A49C-4FBED9C5B6D9__GUID-A2500CAD-0549-43A2-A042-834E91083EF8"><!-- --></a> theme_tablename</dt>
                        <dd>
                           <p>要与表名连接的<code class="codeph">tablename</code> 。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-6BDC5ADF-A8C6-42CB-A49C-4FBED9C5B6D9__GUID-50B99A66-CB0F-4844-9BDD-1CDCA484D3B0"><!-- --></a> theme_colname</dt>
                        <dd>
                           <p><code class="codeph">theme_tablename</code>几何列的名称。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-6BDC5ADF-A8C6-42CB-A49C-4FBED9C5B6D9__GUID-DB28F04B-F5F3-4D64-B038-2C259C6C7CBA"><!-- --></a> theme_predicate</dt>
                        <dd>
                           <p>限定WHERE子句谓词应用于<code class="codeph">theme_tablename</code> 。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-6BDC5ADF-A8C6-42CB-A49C-4FBED9C5B6D9__GUID-B77F1A7A-8AED-4730-A022-2FEB31BABE79"><!-- --></a>表名</dt>
                        <dd>
                           <p>数据挖掘表的名称。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-6BDC5ADF-A8C6-42CB-A49C-4FBED9C5B6D9__GUID-DA086059-2B83-4224-B454-82BF63031A76"><!-- --></a> colname</dt>
                        <dd>
                           <p><code class="codeph">tablename</code>中包含位置坐标的列的名称。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-6BDC5ADF-A8C6-42CB-A49C-4FBED9C5B6D9__GUID-9485B362-AAF0-4A3D-9350-0ED4F5F3A8A1"><!-- --></a> ref_predicate</dt>
                        <dd>
                           <p>限定WHERE子句谓词应用于<code class="codeph">tablename</code> 。必须为null或非null值：如果为null，则不应用谓词;如果为非null，则它必须是单个表谓词，例如<code class="codeph">'country_code=10'.</code></p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-6BDC5ADF-A8C6-42CB-A49C-4FBED9C5B6D9__GUID-298E0F26-2220-4B75-97E5-5D87B2559659"><!-- --></a> dst_spec</dt>
                        <dd>
                           <p>带引号的字符串，包含距离值和可选的几何周围缓冲区的单位值。有关格式和含义的说明，请参阅“使用说明”。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-6BDC5ADF-A8C6-42CB-A49C-4FBED9C5B6D9__GUID-2D8D137C-7BF8-4BB1-98D5-5EECACFE316D"><!-- --></a> result_tablename</dt>
                        <dd>
                           <p>存储物化连接结果的表。此表必须存在且必须具有以下定义： <code class="codeph">(tid NUMBER, rid1 VARCHAR2(24), rid2 VARCHAR2(24))</code></p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-6BDC5ADF-A8C6-42CB-A49C-4FBED9C5B6D9__GUID-F1207747-8A1C-419E-B194-C2E5730A6E01"><!-- --></a> commit_interval</dt>
                        <dd>
                           <p>在Spatial和Graph执行内部提交操作之前要执行的内部联接操作的数量。如果未指定<code class="codeph">commit_interval</code> ，则在每100次内部联接操作后执行提交。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-6BDC5ADF-A8C6-42CB-A49C-4FBED9C5B6D9__GUID-F2D9A10C-4442-4C52-8978-E1D109798F20">使用说明</p>
                     <p>此过程实现从基于谓词的连接操作返回的每对rowid，并将它们存储在<code class="codeph">result_tablename</code>的<code class="codeph">rid1, rid2</code>列中。<code class="codeph">tid</code>是对应于每个<code class="codeph">rid1</code>值的唯一生成的“交互”数字。
                     </p>
                     <p>如果指定， <code class="codeph">dst_spec</code>参数是带引号的字符串，其包含<code class="codeph">distance</code>关键字和可选的<code class="codeph">unit</code>关键字（与距离值相关联的度量单位），以指定几何体周围的缓冲区。例如， <code class="codeph">'distance=2 unit=km'</code>指定输入几何体周围的2公里缓冲区。如果未指定<code class="codeph">dst_spec</code> ，则不使用缓冲区。
                     </p>
                     <p>如果指定了<code class="codeph">unit</code>关键字，则该值必须是MDSYS.SDO_DIST_UNITS表中的SDO_UNIT值（例如， <code class="codeph">'unit=KM'</code> ）。如果未指定<code class="codeph">unit</code>关键字，则使用与几何关联的度量单位。有关<a href="spatial-datatypes-metadata.html#GUID-5984C12A-0A22-4BFD-B777-7C837D3CBB99" title="Geometry functions that involve measurement allow an optional unit parameter to specify the unit of measurement for a specified distance or area, if a georeferenced coordinate system (SDO_SRID value) is associated with the input geometry or geometries.">测量</a>单位规范的更多信息，请参见<a href="spatial-datatypes-metadata.html#GUID-5984C12A-0A22-4BFD-B777-7C837D3CBB99" title="如果地理参考坐标系（SDO_SRID值）与输入几何或几何相关联，则涉及测量的几何函数允许可选单位参数指定指定距离或区域的测量单位。">测量支持</a>单位。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-6BDC5ADF-A8C6-42CB-A49C-4FBED9C5B6D9__GUID-3AE34706-2BFE-4238-8D1D-1A7405759026">例子</p>
                     <p>以下示例确定位于州际高速公路20公里范围内的1990年人口（POP90列值）大于120,000的城市（GEOD_INTERSTATES表中的GEOM列）。它将结果存储在名为COLOCATION_TABLE的表中，并在每20次内部操作后执行内部提交操作。</p><pre class="oac_no_warn" dir="ltr">EXECUTE SDO_SAM.COLOCATED_REFERENCE_FEATURES（'geod_cities'，'location'，'pop90&gt; 120000'，'geod_interstates'，'geom'，null，'distance = 20 unit = km'，'colocation_table'，20）;</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="SDO_SAM-reference.html#GUID-60C6A33E-1CE1-4FE6-AC03-16EE11E97FDC" title="MDSYS.SDO_SAM包中包含用于空间分析和数据挖掘的子程序。">SDO_SAM包（空间分析和挖掘）</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL1202"></a><div class="props_rev_3"><a id="GUID-3811D8E9-1355-4527-BD65-D43B3631079C" name="GUID-3811D8E9-1355-4527-BD65-D43B3631079C"></a><h3 id="SPATL-GUID-3811D8E9-1355-4527-BD65-D43B3631079C" class="sect3"><span class="enumeration_section">31.6</span> SDO_SAM.SIMPLIFY_GEOMETRY</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-3811D8E9-1355-4527-BD65-D43B3631079C__GUID-5E0C0299-629E-4BB9-A2E1-5E804B05B9D2">格式</p><pre class="oac_no_warn" dir="ltr">SDO_SAM.SIMPLIFY_GEOMETRY（geom IN SDO_GEOMETRY，dim in SDO_DIM_ARRAY，pct_area_change_limit in NUMBER DEFAULT 2）RETURN SDO_GEOMETRY;</pre><p>要么</p><pre class="oac_no_warn" dir="ltr">SDO_SAM.SIMPLIFY_GEOMETRY（geom IN SDO_GEOMETRY，tol in NUMBER，pct_area_change_limit in NUMBER DEFAULT 2）RETURN SDO_GEOMETRY;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-3811D8E9-1355-4527-BD65-D43B3631079C__GUID-D2B9803B-1268-40E7-B747-242EFA2F8BD9">描述</p>
                     <p>简化几何体。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-3811D8E9-1355-4527-BD65-D43B3631079C__GUID-9B3DA3EE-ABDF-4994-B5C2-4134B5D5B180">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-3811D8E9-1355-4527-BD65-D43B3631079C__GUID-4B60ACD6-14FD-4392-BE85-E33F89A580D0"><!-- --></a> geom</dt>
                        <dd>
                           <p>几何要简化。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-3811D8E9-1355-4527-BD65-D43B3631079C__GUID-0806048B-BB1B-464D-BD59-F3CF6C1F8996"><!-- --></a>昏暗</dt>
                        <dd>
                           <p>要简化的几何体的尺寸数组。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-3811D8E9-1355-4527-BD65-D43B3631079C__GUID-BD100873-24FF-4027-8586-415504095051"><!-- --></a> tol</dt>
                        <dd>
                           <p>公差值（见<a href="spatial-concepts.html#GUID-7469388B-6D23-4294-904F-78CA3B7191D3">公差</a> ）。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-3811D8E9-1355-4527-BD65-D43B3631079C__GUID-88EC033E-861B-41DD-81FE-FA05D8714590"><!-- --></a> pct_area_change_limit</dt>
                        <dd>
                           <p>如“使用说明”中所述，更改的区域百分比将用于每次简化迭代。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-3811D8E9-1355-4527-BD65-D43B3631079C__GUID-946D446D-C25A-46EA-98A8-0ADB84E4CB23">使用说明</p>
                     <p>此函数通过在内部应用具有适当阈值的<a href="SDO_UTIL-reference.html#GUID-1013175B-8A1A-45F7-BC60-A3DF5B109BEF">SDO_UTIL.SIMPLIFY</a>函数（在<a href="SDO_UTIL-reference.html#GUID-7A79F1C4-FABF-432A-AF94-9E9CB23BBFBA" title="MDSYS.SDO_UTIL包中包含空间实用程序子程序。">SDO_UTIL包（实用程序）中记录</a> ）来减少几何中的顶点数。
                     </p>
                     <p>减少顶点数量可能会导致几何体区域发生变化。<code class="codeph">pct_area_change_limit</code>参数指定在简化几何图形时可以容许多少区域更改。它通常是1到100之间的数字。默认值为2;也就是说，由于几何形状的简化，几何体的面积与原始几何体相比可以增加或减少至多2％。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-3811D8E9-1355-4527-BD65-D43B3631079C__GUID-60571175-F53B-420A-9AE8-66FCB943385E">例子</p>
                     <p>以下示例简化了POLY_4PT_TEMP表的GEOMETRY列中的几何。</p><pre class="oac_no_warn" dir="ltr">SELECT sdo_sam.simplify_geometry（a.geometry，0.00000005）FROM poly_4pt_temp a，user_sdo_geom_metadata b WHERE b.table_name ='POLY_4PT_TEMP'; SDO_SAM.SIMPLIFY_GEOMETRY（A.GEOMETRY，0.00000005）（ORIG_AREA，CUR_AREA，ORIG_LEN，--------------------------------- ----------------------------------------------- SDO_SMPL_GEOMETRY（28108.5905 ，28108.5905,758.440118,758.440118，SDO_GEOMETRY（2 003,8307，NULL，SDO_ELEM_INFO_ARRAY（1,1003,1），SDO_ORDINATE_ARRAY（-122.4215,37.7862，-122.422,37.7869，-122.421,37.789，-122.42,37.7866，-122.4215， 37.78 62）））SDO_SMPL_GEOMETRY（4105.33806,4105.33806,394.723053,394.723053，SDO_GEOMETRY（2 003,8307，NULL，SDO_ELEM_INFO_ARRAY（1,1003,1），SDO_ORDINATE_ARRAY（-122.4019,3.8052，-122.4027,3.8055，-122.4031,37.806， -122.4012,3.8052，-122.4019,3 7.8052）））。。。选择了50行。</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="SDO_SAM-reference.html#GUID-60C6A33E-1CE1-4FE6-AC03-16EE11E97FDC" title="MDSYS.SDO_SAM包中包含用于空间分析和数据挖掘的子程序。">SDO_SAM包（空间分析和挖掘）</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL1203"></a><div class="props_rev_3"><a id="GUID-EC873FC0-BDFB-45D8-9F78-81112497D951" name="GUID-EC873FC0-BDFB-45D8-9F78-81112497D951"></a><h3 id="SPATL-GUID-EC873FC0-BDFB-45D8-9F78-81112497D951" class="sect3"><span class="enumeration_section">31.7</span> SDO_SAM.SIMPLIFY_LAYER</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-EC873FC0-BDFB-45D8-9F78-81112497D951__GUID-6EDC5AAD-FF95-47B9-8603-0C484EF38586">格式</p><pre class="oac_no_warn" dir="ltr">SDO_SAM.SIMPLIFY_LAYER（theme_tablename IN VARCHAR2，theme_colname IN VARCHAR2，smpl_geom_colname IN VARCHAR2，commit_interval IN NUMBER DEFAULT 10，pct_area_change_limit in NUMBER DEFAULT 2）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-EC873FC0-BDFB-45D8-9F78-81112497D951__GUID-40FA0858-925E-4B1D-B272-2736A66C948D">描述</p>
                     <p>简化几何图层。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-EC873FC0-BDFB-45D8-9F78-81112497D951__GUID-CAAB27EC-30A6-49EB-BC99-0E0E1F896FDE">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-EC873FC0-BDFB-45D8-9F78-81112497D951__GUID-8E51025A-0861-4A82-93B9-9BF4A14BAFC7"><!-- --></a> theme_tablename</dt>
                        <dd>
                           <p>包含要简化的几何图层的表的名称。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-EC873FC0-BDFB-45D8-9F78-81112497D951__GUID-3F6A08A8-DA47-418C-8AB4-A718AC27D8A9"><!-- --></a> theme_colname</dt>
                        <dd>
                           <p>类型为SDO_GEOMETRY的<code class="codeph">theme_tablename</code>的列，包含要简化的几何。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-EC873FC0-BDFB-45D8-9F78-81112497D951__GUID-646E3D62-3F2C-4358-8D47-FADD52940D5B"><!-- --></a> smpl_geom_colname</dt>
                        <dd>
                           <p>类型为SDO_GEOMETRY的<code class="codeph">theme_tablename</code>的列，此过程将在其中放置简化的几何。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-EC873FC0-BDFB-45D8-9F78-81112497D951__GUID-3809B5D3-96A3-48CF-96EE-92E760D0F827"><!-- --></a> commit_interval</dt>
                        <dd>
                           <p>在Spatial和Graph执行内部提交操作之前要简化的几何数量。如果未指定<code class="codeph">commit_interval</code> ，则在每10次简化操作后执行提交。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-EC873FC0-BDFB-45D8-9F78-81112497D951__GUID-D0E2A417-AD80-4412-AA1D-2BF721E467AC"><!-- --></a> pct_area_change_limit</dt>
                        <dd>
                           <p>更改为用于每次简化迭代的区域百分比，如<a href="SDO_SAM-reference.html#GUID-3811D8E9-1355-4527-BD65-D43B3631079C">SDO_SAM.SIMPLIFY_GEOMETRY</a>函数的使用说明中所述。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-EC873FC0-BDFB-45D8-9F78-81112497D951__GUID-7493F3C7-19F6-40F3-A2D3-E3427537F1B7">使用说明</p>
                     <p>此过程简化了图层中的所有几何图形。它等效于为<a href="SDO_SAM-reference.html#GUID-3811D8E9-1355-4527-BD65-D43B3631079C">图层</a>中的每个几何体调用<a href="SDO_SAM-reference.html#GUID-3811D8E9-1355-4527-BD65-D43B3631079C">SDO_SAM.SIMPLIFY_GEOMETRY</a>函数，除了每个简化几何体都放在表中的单独列中，而不是返回给调用者。另请参阅<a href="SDO_SAM-reference.html#GUID-3811D8E9-1355-4527-BD65-D43B3631079C">SDO_SAM.SIMPLIFY_GEOMETRY</a>函数的使用说明。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-EC873FC0-BDFB-45D8-9F78-81112497D951__GUID-696AD47E-DECE-43E5-9C8C-884E5305A906">例子</p>
                     <p>以下示例将名为SMPL_GEOM的列添加到POLY_4PT_TEMP表中，然后简化POLY_4PT_TEMP表的GEOMETRY列中的所有几何，将每个简化的几何图形放在同一行中的SMPL_GEOM列及其关联的原始几何图形中。</p><pre class="oac_no_warn" dir="ltr">ALTER TABLE poly_4pt_temp ADD（smpl_geom mdsys.sdo_geometry）;表改变了。EXECUTE sdo_sam.simplify_layer（'POLY_4PT_TEMP'，'GEOMETRY'，'SMPL_GEOM'）; PL / SQL过程成功完成。</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="SDO_SAM-reference.html#GUID-60C6A33E-1CE1-4FE6-AC03-16EE11E97FDC" title="MDSYS.SDO_SAM包中包含用于空间分析和数据挖掘的子程序。">SDO_SAM包（空间分析和挖掘）</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL1204"></a><div class="props_rev_3"><a id="GUID-355D79C5-C25A-49C4-9FF7-09D79C55B252" name="GUID-355D79C5-C25A-49C4-9FF7-09D79C55B252"></a><h3 id="SPATL-GUID-355D79C5-C25A-49C4-9FF7-09D79C55B252" class="sect3"><span class="enumeration_section">31.8</span> SDO_SAM.SPATIAL_CLUSTERS</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-355D79C5-C25A-49C4-9FF7-09D79C55B252__GUID-9E62BA01-E775-4D7C-A525-409FE6096383">格式</p><pre class="oac_no_warn" dir="ltr">SDO_SAM.SPATIAL_CLUSTERS（tablename IN VARCHAR2，colname IN VARCHAR2，max_clusters IN NUMBER，allow_outliers IN VARCHAR2 DEFAULT'TRUE'，tablepartition IN VARCHAR2 DEFAULT NULL）RETURN SDO_REGIONSET;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-355D79C5-C25A-49C4-9FF7-09D79C55B252__GUID-382302D8-F6DA-4B6C-B8C8-66E720E002A8">描述</p>
                     <p>使用现有R树索引计算集群，并返回一组SDO_REGION对象，其中geometry列指定每个集群的边界，并且<code class="codeph">geometry_key</code>值设置为null。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-355D79C5-C25A-49C4-9FF7-09D79C55B252__GUID-B6F244AF-D495-451D-8E13-8F076EE4E8C9">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-355D79C5-C25A-49C4-9FF7-09D79C55B252__GUID-91B2ABC4-BA85-4219-B841-533332923D49"><!-- --></a>表名</dt>
                        <dd>
                           <p>数据挖掘表的名称。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-355D79C5-C25A-49C4-9FF7-09D79C55B252__GUID-1CFEADD8-332B-4C34-9996-812192630887"><!-- --></a> colname</dt>
                        <dd>
                           <p><code class="codeph">tablename</code>中包含位置坐标的列的名称。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-355D79C5-C25A-49C4-9FF7-09D79C55B252__GUID-0761FEA1-8D24-410B-BEC1-5CFFB588205C"><!-- --></a> max_clusters</dt>
                        <dd>
                           <p>要获取的最大簇数。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-355D79C5-C25A-49C4-9FF7-09D79C55B252__GUID-116710A8-4871-43B4-B294-7A7D534D8188"><!-- --></a> allow_outliers</dt>
                        <dd>
                           <p><code class="codeph">TRUE</code> （默认值）导致外围值（隔离实例）包含在空间簇中; <code class="codeph">FALSE</code>导致外围值不包含在空间簇中。（ <code class="codeph">TRUE</code>适应所有数据并可能导致更大的集群; <code class="codeph">FALSE</code>可能会排除某些数据并可能导致更小的集群。）
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-355D79C5-C25A-49C4-9FF7-09D79C55B252__GUID-178D1878-FE25-44D9-81DC-9982A82D6C62"><!-- --></a> tablepartition</dt>
                        <dd>
                           <p><code class="codeph">tablename</code>分区的名称。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-355D79C5-C25A-49C4-9FF7-09D79C55B252__GUID-952E1585-749D-40B2-B4FA-7346B36D08BB">使用说明</p>
                     <p>使用<code class="codeph">tablename</code>上的空间R树索引计算聚类。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-355D79C5-C25A-49C4-9FF7-09D79C55B252__GUID-FE5FCF8C-7B90-4246-B832-17DBCE086605">例子</p>
                     <p>以下示例将城市中的位置聚类为最多三个群集，并在群集中包含异常值。</p><pre class="oac_no_warn" dir="ltr">SELECT * FROM TABLE（sdo_sam.spatial_clusters（'PROJ_CITIES'，'LOCATION'，3，'TRUE'））;</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="SDO_SAM-reference.html#GUID-60C6A33E-1CE1-4FE6-AC03-16EE11E97FDC" title="MDSYS.SDO_SAM包中包含用于空间分析和数据挖掘的子程序。">SDO_SAM包（空间分析和挖掘）</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL1205"></a><div class="props_rev_3"><a id="GUID-1C5D1129-147F-4E79-846A-7EEA1F1221E9" name="GUID-1C5D1129-147F-4E79-846A-7EEA1F1221E9"></a><h3 id="SPATL-GUID-1C5D1129-147F-4E79-846A-7EEA1F1221E9" class="sect3"><span class="enumeration_section">31.9</span> SDO_SAM.TILED_AGGREGATES</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-1C5D1129-147F-4E79-846A-7EEA1F1221E9__GUID-BF0A8284-CE97-4F25-ADCB-C22DB1B0C4C5">格式</p><pre class="oac_no_warn" dir="ltr">SDO_SAM.TILED_AGGREGATES（theme_name IN VARCHAR2，theme_colname IN VARCHAR2，aggr_type_string IN VARCHAR2，treg_level IN NUMBER DEFAULT NULL，tiling_domain IN SDO_DIM_ARRAY DEFAULT NULL，zero_agg_tiles IN NUMBER DEFAULT 0，xdivs IN NUMBER DEFAULT NULL，ydivs IN NUMBER DEFAULT NULL）返回SDO_REGAGGRSET;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1C5D1129-147F-4E79-846A-7EEA1F1221E9__GUID-D423E7E5-22E7-4456-A803-853F91C445A3">描述</p>
                     <p>Tiles聚合域的聚合。对于每个图块，计算主题表中的相交几何图形; <code class="codeph">aggr_col_string</code>列中的值按交集区域的比例加权，并根据<code class="codeph">aggr_col_string</code>聚合。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1C5D1129-147F-4E79-846A-7EEA1F1221E9__GUID-5EA53CD9-BF9E-410F-83EE-396AF4DB5A9B">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-1C5D1129-147F-4E79-846A-7EEA1F1221E9__GUID-7AB9D1B6-641E-4BA0-B80D-CBF92BCAABE0"><!-- --></a> theme_name</dt>
                        <dd>
                           <p>包含主题信息的表（例如，人口统计信息）。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-1C5D1129-147F-4E79-846A-7EEA1F1221E9__GUID-9107E2B3-514D-4EF2-9DAC-702405114D37"><!-- --></a> theme_colname</dt>
                        <dd>
                           <p><code class="codeph">theme_name</code>表中包含几何对象的列的名称。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-1C5D1129-147F-4E79-846A-7EEA1F1221E9__GUID-F3FE657B-8318-4693-9CE8-16778ABBB1A4"><!-- --></a> aggr_type_string</dt>
                        <dd>
                           <p>任何Oracle SQL聚合函数，它接受一个或多个数值并计算数值，例如<code class="codeph">SUM</code> ， <code class="codeph">MIN</code> ， <code class="codeph">MAX</code>或<code class="codeph">AVG</code> 。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-1C5D1129-147F-4E79-846A-7EEA1F1221E9__GUID-6344ECF0-7F7F-4122-A315-B39EDB7835DE"><!-- --></a> aggr_col_string</dt>
                        <dd>
                           <p>要在其上计算聚合值的<code class="codeph">theme_name</code>表中的列的名称。一个例子可能是POPULATION列。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-1C5D1129-147F-4E79-846A-7EEA1F1221E9__GUID-29546E17-5DBF-407B-B2CB-DFEDA7926274"><!-- --></a> tiling_level</dt>
                        <dd>
                           <p>用于创建切片的级别。如果指定此参数，则每个维度的范围将划分为2 ^ <code class="codeph">tiling_level</code>部分，最多生成4 * <code class="codeph">tiling_level</code>切片。（指定此参数或<code class="codeph">xdivs</code>和<code class="codeph">ydivs</code>参数的组合。）
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-1C5D1129-147F-4E79-846A-7EEA1F1221E9__GUID-539FE5F1-C318-4EE1-B3D6-689735060382"><!-- --></a> tiling_domain</dt>
                        <dd>
                           <p>平铺级别的域。该参数不是必需的，如果不指定，则使用与<code class="codeph">theme_name</code>表关联的范围。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-1C5D1129-147F-4E79-846A-7EEA1F1221E9__GUID-013D2546-9DCA-4175-99E9-4F1D1927D45E"><!-- --></a> zero_agg_tiles</dt>
                        <dd>
                           <p>指定0以排除计算聚合的值为0的切片，或指定1以返回所有切片。默认值为0，这可确保仅返回具有非零聚合值的切片。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-1C5D1129-147F-4E79-846A-7EEA1F1221E9__GUID-0A76D078-AD2D-4CA9-BF63-A1941B9748B1"><!-- --></a> xdivs</dt>
                        <dd>
                           <p>分割第一维中的范围的次数，使得部件的总数是<code class="codeph">xdivs</code> + 1。例如，如果为<code class="codeph">xdivs</code>指定10，则第一个维度的范围分为11个部分。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-1C5D1129-147F-4E79-846A-7EEA1F1221E9__GUID-D9B8A566-ECB3-4BCB-8CEF-65DC22A9CEF3"><!-- --></a> ydivs</dt>
                        <dd>
                           <p>分割第二维中的范围的次数，使得部件的总数是<code class="codeph">ydivs</code> + 1。例如，如果为<code class="codeph">ydivs</code>指定10，则第二个维度的范围分为11个部分。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1C5D1129-147F-4E79-846A-7EEA1F1221E9__GUID-1E1196A9-6CDB-4007-8D49-2898ACC3965A">使用说明</p>
                     <p>此函数类似于<a href="SDO_SAM-reference.html#GUID-1074B640-8614-4EB6-9149-B60D2FB19363">SDO_SAM.AGGREGATES_FOR_LAYER</a> ，但结果是使用平铺信息动态生成的。给定<code class="codeph">theme_name</code>表，确定平铺域。基于<code class="codeph">tiling_level</code>值或<code class="codeph">xdivs</code>和<code class="codeph">ydivs</code>值，生成必要的切片。对于每个切片几何体，将按照<a href="SDO_SAM-reference.html#GUID-1074B640-8614-4EB6-9149-B60D2FB19363">SDO_SAM.AGGREGATES_FOR_LAYER</a>的使用说明中的说明计算主题聚合。</p>
                     <p>您必须指定<code class="codeph">tiling_level</code>参数或同时指定<code class="codeph">xdivs</code>和<code class="codeph">ydivs</code>参数。如果指定了所有这三个参数中， <code class="codeph">tiling_level</code>参数被忽略， <code class="codeph">xdivs</code>和<code class="codeph">ydivs</code>参数使用。
                     </p>
                     <p>如果指定<code class="codeph">xdivs</code>和<code class="codeph">ydivs</code>参数，则返回的网格（平铺）总数为<code class="codeph">(xdivs+1)*(ydivs+1)</code> 。
                     </p>
                     <p><a id="d152862e1765" class="indexterm-anchor"></a><a id="d152862e1767" class="indexterm-anchor"></a>此函数返回SDO_REGAGGRSET类型的对象。 SDO_REGAGGRSET对象类型定义为：</p><pre class="oac_no_warn" dir="ltr">SDO_REGAGGR表</pre><p>SDO_REGAGGR对象类型定义为：</p><pre class="oac_no_warn" dir="ltr">名字空？输入----------------------------------------- -------- ---------------------------- REGION_ID VARCHAR2（24）GEOMETRY MDSYS.SDO_GEOMETRY AGGREGATE_VALUE NUMBER</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1C5D1129-147F-4E79-846A-7EEA1F1221E9__GUID-8F107816-2C56-4991-9D0C-825026B118D5">例子</p>
                     <p>以下示例计算与每个图块相交的POLY_4PT_TEMP表的总体行的总和。存储在USER_SDO_GEOM_METADATA视图中的POLY_4PT_TEMP表的范围用作域，并且使用平铺级别2（即，域被分为16个区块）。</p><pre class="oac_no_warn" dir="ltr">从TABLE中选择a.geometry，a.aggregate_value（sdo_sam.tiled_aggregates（'POLY_4PT_TEMP'，'GEOMETRY'，'SUM'，'POPULATION'，2））a;几何（SDO_GTYPE，SDO_SRID，SDO_POINT（X，Y，Z），SDO_ELEM_INFO，SDO_ORDINATES）------------------------------- ------------------------------------------------- AGGREGATE_VALUE --------------- SDO_GEOMETRY（2003,8307，NULL，SDO_ELEM_INFO_ARRAY（1,1003,3），SDO_ORDINATE_ARR AY（-180，-90，-90，-45））。007150754 SDO_GEOMETRY（2003,8307，NULL，SDO_ELEM_INFO_ARRAY（1,1003,3），SDO_ORDINATE_ARR AY（-180，-45，-90,0））。034831005 SDO_GEOMETRY（2003,8307，NULL，SDO_ELEM_INFO_ARRAY（1,1003,3） ，SDO_ORDINATE_ARR AY（-180,0，-90,45））7.73307783 SDO_GEOMETRY（2003,8307，NULL，SDO_ELEM_INFO_ARRAY（1,1003,3），SDO_ORDINATE_ARR AY（-90，-90,0，-45））。019498368 SDO_GEOMETRY（2003,8307，NULL，SDO_ELEM_INFO_ARRAY（1,1003,3），SDO_ORDINATE_ARR AY（-90，-45,0,0））.939061456 SDO_GEOMETRY（2003,8307，NULL，SDO_ELEM_INFO_ARRAY（1,1003,3）， SDO_ORDINATE_ARR AY（-90,0,0,45））1.26691592 SDO_GEOMETRY（2003,8307，NULL，SDO_ELEM_INFO_ARRAY（1,1003,3），SDO_ORDINATE_ARR AY（0,0,90,45））40选择了7行。</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="SDO_SAM-reference.html#GUID-60C6A33E-1CE1-4FE6-AC03-16EE11E97FDC" title="MDSYS.SDO_SAM包中包含用于空间分析和数据挖掘的子程序。">SDO_SAM包（空间分析和挖掘）</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL1206"></a><div class="props_rev_3"><a id="GUID-0A782F8F-2036-4271-B628-A6D90A79C3FB" name="GUID-0A782F8F-2036-4271-B628-A6D90A79C3FB"></a><h3 id="SPATL-GUID-0A782F8F-2036-4271-B628-A6D90A79C3FB" class="sect3"><span class="enumeration_section">31.10</span> SDO_SAM.TILED_BINS</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-0A782F8F-2036-4271-B628-A6D90A79C3FB__GUID-0E82679D-4952-4FAC-BEF5-86C389CA6CC3">格式</p><pre class="oac_no_warn" dir="ltr">SDO_SAM.TILED_BINS（l1 IN NUMBER，u1 in NUMBER，l2 in NUMBER，u2 in NUMBER，tiling_level IN NUMBER DEFAULT NULL，srid IN NUMBER DEFAULT NULL，xdivs IN NUMBER DEFAULT NULL，ydivs IN NUMBER DEFAULT NULL）RETURN SDO_REGIONSET;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-0A782F8F-2036-4271-B628-A6D90A79C3FB__GUID-E8C35E0A-3075-4EDA-A469-E8DBE59B0DCE">描述</p>
                     <p>平铺二维空间并返回与这些图块对应的几何图形。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-0A782F8F-2036-4271-B628-A6D90A79C3FB__GUID-143C5274-569E-4375-A44D-34746279BEC3">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-0A782F8F-2036-4271-B628-A6D90A79C3FB__GUID-D2A11A77-F54B-4FEE-BA1A-A422DF31D5F8"><!-- --></a> l1</dt>
                        <dd>
                           <p>第一维中范围的下限。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-0A782F8F-2036-4271-B628-A6D90A79C3FB__GUID-C141B1B2-FB3C-4E4B-9F9D-0598B76FFD16"><!-- --></a> u1</dt>
                        <dd>
                           <p>第一维中范围的上限。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-0A782F8F-2036-4271-B628-A6D90A79C3FB__GUID-0ED4DA4C-2B18-4018-B109-3F1493EF45C9"><!-- --></a> l2</dt>
                        <dd>
                           <p>第二维中范围的下限。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-0A782F8F-2036-4271-B628-A6D90A79C3FB__GUID-06126713-8F1F-4111-BDEA-1FDFEDFDE0C7"><!-- --></a> u2</dt>
                        <dd>
                           <p>第二维中范围的上限。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-0A782F8F-2036-4271-B628-A6D90A79C3FB__GUID-9AECFB8A-B5F7-4785-A6FD-F644736FA7D2"><!-- --></a> tiling_level</dt>
                        <dd>
                           <p>用于平铺指定范围的级别。如果指定此参数，则每个维度的范围将划分为2 ^ <code class="codeph">tiling_level</code>部分，最多生成4 * <code class="codeph">tiling_level</code>切片。（指定此参数或<code class="codeph">xdivs</code>和<code class="codeph">ydivs</code>参数的组合。）
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-0A782F8F-2036-4271-B628-A6D90A79C3FB__GUID-9FEF4902-04F1-4B68-AD95-8B0EF3DEA50E"><!-- --></a> srid</dt>
                        <dd>
                           <p>要在返回的切片几何中包含的坐标系的SRID值。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-0A782F8F-2036-4271-B628-A6D90A79C3FB__GUID-1A57B873-2A82-48EA-9E0C-A770A3EE71EB"><!-- --></a> xdivs</dt>
                        <dd>
                           <p>分割第一维中的范围的次数，使得部件的总数是<code class="codeph">xdivs</code> + 1。例如，如果为<code class="codeph">xdivs</code>指定10，则第一个维度的范围分为11个部分。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-0A782F8F-2036-4271-B628-A6D90A79C3FB__GUID-B8583327-AF38-476B-B8FD-F2A5C38D85D0"><!-- --></a> ydivs</dt>
                        <dd>
                           <p>分割第二维中的范围的次数，使得部件的总数是<code class="codeph">ydivs</code> + 1。例如，如果为<code class="codeph">ydivs</code>指定10，则第二个维度的范围分为11个部分。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-0A782F8F-2036-4271-B628-A6D90A79C3FB__GUID-4D7DF381-136E-489A-BDA7-E8077600B6B7">使用说明</p>
                     <p>您必须指定<code class="codeph">tiling_level</code>参数或同时指定<code class="codeph">xdivs</code>和<code class="codeph">ydivs</code>参数。如果指定了所有这三个参数中， <code class="codeph">tiling_level</code>参数被忽略， <code class="codeph">xdivs</code>和<code class="codeph">ydivs</code>参数使用。
                     </p>
                     <p>如果指定<code class="codeph">xdivs</code>和<code class="codeph">ydivs</code>参数，则返回的网格（平铺）总数为<code class="codeph">(xdivs+1)*(ydivs+1)</code> 。
                     </p>
                     <p><a id="d152862e1977" class="indexterm-anchor"></a><a id="d152862e1979" class="indexterm-anchor"></a>此函数返回SDO_REGIONSET类型的对象。 SDO_REGIONSET对象类型定义为：</p><pre class="oac_no_warn" dir="ltr">SDO_REGION表</pre><p>SDO_REGION对象类型定义为：</p><pre class="oac_no_warn" dir="ltr">名字空？输入----------------------------------------- -------- ---------------------------- ID NUMBER GEOMETRY MDSYS.SDO_GEOMETRY</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-0A782F8F-2036-4271-B628-A6D90A79C3FB__GUID-6BF490CF-8254-4971-89D9-942E315F5EE8">例子</p>
                     <p>以下示例使用标准经度和纬度坐标系（SRID 8307）在第一个平铺级别平铺整个地球表面。生成的SDO_REGIONSET对象包含四个SDO_REGION对象，每个对象一个。</p><pre class="oac_no_warn" dir="ltr">SELECT * FROM TABLE（sdo_sam.tiled_bins（-180,180，-90,90,1,8307））ORDER BY id; ID ---------- GEOMETRY（SDO_GTYPE，SDO_SRID，SDO_POINT（X，Y，Z），SDO_ELEM_INFO，SDO_ORDINATES）-------------------- -------------------------------------------------- ---------- 0 SDO_GEOMETRY（2003,8307，NULL，SDO_ELEM_INFO_ARRAY（1,1003,3），SDO_ORDINATE_ARR AY（-180，-90,0,0））1 SDO_GEOMETRY（2003,8307，NULL ，SDO_ELEM_INFO_ARRAY（1,1003,3），SDO_ORDINATE_ARR AY（-180,0,0,90））2 SDO_GEOMETRY（2003,8307，NULL，SDO_ELEM_INFO_ARRAY（1,1003,3），SDO_ORDINATE_ARR AY（0，-90,180） ，0））3 SDO_GEOMETRY（2003,8307，NULL，SDO_ELEM_INFO_ARRAY（1,1003,3），SDO_ORDINATE_ARR AY（0,0,180,90））选择4行。</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="SDO_SAM-reference.html#GUID-60C6A33E-1CE1-4FE6-AC03-16EE11E97FDC" title="MDSYS.SDO_SAM包中包含用于空间分析和数据挖掘的子程序。">SDO_SAM包（空间分析和挖掘）</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html>