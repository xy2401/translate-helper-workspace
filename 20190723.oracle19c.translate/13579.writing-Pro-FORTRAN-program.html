<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>编写Pro * FORTRAN程序</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Supplement to the Oracle Precompilers Guide "></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Supplement to the Oracle Precompilers Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="fortran-supplement-oracle-precompilers.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-11T01:30:46-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1994, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96472-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="preface.html" title="Previous" type="text/html"></link>
      <link rel="next" href="error-handling-and-diagnostics.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Pro*FORTRAN Supplement to the Oracle Precompilers"></meta>
    <meta name="dcterms.isVersionOf" content="ZZFOR"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="preface.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="error-handling-and-diagnostics.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Oracle预编译器指南的补充</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">编写Pro * FORTRAN程序</li>
            </ol>
            <a id="GUID-6CA45FB3-3F07-47F9-BDF5-602BDE0578BE" name="GUID-6CA45FB3-3F07-47F9-BDF5-602BDE0578BE"></a><a id="ZZFOR107"></a>
            
            <h2 id="ZZFOR-GUID-6CA45FB3-3F07-47F9-BDF5-602BDE0578BE" class="sect2"><span class="enumeration_chapter">1</span>编写Pro * FORTRAN程序</h2>
         </header>
         <div class="ind">
            <div>
               <p>本章提供了编写Pro * FORTRAN程序的基本信息：</p>
               <div class="infoboxnote" id="GUID-6CA45FB3-3F07-47F9-BDF5-602BDE0578BE__GUID-3079AA62-879C-4F9D-B369-5B5465F63B48">
                  <p class="notep1">注意：</p>
                  <p>64位Oracle数据库安装不支持Pro * Fortran预编译器。</p>
                  <p>Pro * Fortran预编译器仅在Oracle Database 32位客户端安装中受支持且可用。</p>
               </div>
               <p>本章包含以下主题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="writing-Pro-FORTRAN-program.html#GUID-39755AD8-642E-4522-87CC-007EF146D2DF">编程指南</a></p>
                  </li>
                  <li>
                     <p><a href="writing-Pro-FORTRAN-program.html#GUID-7761FB2D-04E6-4ECF-B9D5-2C4DAFFE43B3">必需的声明和SQL语句</a></p>
                  </li>
                  <li>
                     <p><a href="writing-Pro-FORTRAN-program.html#GUID-21F9AD0C-D7BF-49E9-B66B-ACBA613F5DFF">主机变量名称</a></p>
                  </li>
                  <li>
                     <p><a href="writing-Pro-FORTRAN-program.html#GUID-379B5871-299B-4D07-9C25-C86FF1986FF8">主机变量的范围</a></p>
                  </li>
                  <li>
                     <p><a href="writing-Pro-FORTRAN-program.html#GUID-D7950FBD-CF21-432A-9734-FFCAD77D9004">主机变量</a></p>
                  </li>
                  <li>
                     <p><a href="writing-Pro-FORTRAN-program.html#GUID-C1EE0D71-FA0F-40AB-A5E6-AD088E8D59CD">关于引用主机变量</a></p>
                  </li>
                  <li>
                     <p><a href="writing-Pro-FORTRAN-program.html#GUID-6DF12FC0-20F3-4492-9DF9-A1D9B4C06B4B">指标变量</a></p>
                  </li>
                  <li>
                     <p><a href="writing-Pro-FORTRAN-program.html#GUID-E5D4F976-D222-49D9-864B-ABB758BFF1BE">主机阵列</a></p>
                  </li>
                  <li>
                     <p><a href="writing-Pro-FORTRAN-program.html#GUID-FA24E636-1372-40B5-A6CC-2AC54B5BFD60">VARCHAR主机变量</a></p>
                  </li>
                  <li>
                     <p><a href="writing-Pro-FORTRAN-program.html#GUID-93D22B55-7110-484C-A48C-1633CF8EBFB8">关于处理字符数据</a></p>
                  </li>
                  <li>
                     <p><a href="writing-Pro-FORTRAN-program.html#GUID-B567760E-18C0-4C00-A520-68F64507591A">Oracle数据类型</a></p>
                  </li>
                  <li>
                     <p><a href="writing-Pro-FORTRAN-program.html#GUID-B1D58589-9169-4A8B-9B0F-4D4233517784">数据类型转换</a></p>
                  </li>
                  <li>
                     <p><a href="writing-Pro-FORTRAN-program.html#GUID-CD1D2DEB-07EE-4DA3-9D27-04FBE0A1F51A">数据类型等价</a></p>
                  </li>
                  <li>
                     <p><a href="writing-Pro-FORTRAN-program.html#GUID-39098A75-F8FC-4CAB-91EB-8133B9C4A382">嵌入PL / SQL</a></p>
                  </li>
                  <li>
                     <p><a href="writing-Pro-FORTRAN-program.html#GUID-7A1CE308-3AAB-46BD-B626-F2998DCF457C">关于声明游标变量</a></p>
                  </li>
                  <li>
                     <p><a href="writing-Pro-FORTRAN-program.html#GUID-A0304B39-A1A3-4608-B2F4-A30CB42AFDA3">连接到Oracle</a></p>
                  </li>
               </ul>
            </div><a id="ZZFOR108"></a><div class="props_rev_3"><a id="GUID-39755AD8-642E-4522-87CC-007EF146D2DF" name="GUID-39755AD8-642E-4522-87CC-007EF146D2DF"></a><h3 id="ZZFOR-GUID-39755AD8-642E-4522-87CC-007EF146D2DF" class="sect3"><span class="enumeration_section">1.1</span>编程指南</h3>
               <div>
                  <p>本节介绍嵌入式SQL语法，编码约定以及FORTRAN特定的功能和限制。主题按字母顺序排列。</p>
               </div>
               <div class="props_rev_3"><a id="GUID-39663C50-B662-43B2-98E6-517B88576F64" name="GUID-39663C50-B662-43B2-98E6-517B88576F64"></a><h4 id="ZZFOR-GUID-39663C50-B662-43B2-98E6-517B88576F64" class="sect4"><span class="enumeration_section">1.1.1</span> 32位对64位</h4>
                  <div>
                     <div class="section">
                        <p>64位Oracle环境不支持Pro * Fortran预编译器。</p>
                        <p>Pro * Fortran预编译器仅在Oracle Database 32位客户端安装中受支持且可用。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ZZFOR109"></a><div class="props_rev_3"><a id="GUID-5EB82D2B-16A0-4821-AFEA-DC1F7AF2586B" name="GUID-5EB82D2B-16A0-4821-AFEA-DC1F7AF2586B"></a><h4 id="ZZFOR-GUID-5EB82D2B-16A0-4821-AFEA-DC1F7AF2586B" class="sect4"><span class="enumeration_section">1.1.2</span>区分大小写</h4>
                  <div>
                     <div class="section">
                        <p>虽然标准的FORTRAN字符集不包括小写字母字符，但许多编译器允许它们使用标识符，注释和引用的文字。</p>
                        <p>Pro * FORTRAN预编译器不区分大小写;但是，有些编译器是。如果编译器区分大小写，则必须以相同的大写/小写格式声明和引用变量。检查您的FORTRAN编译器用户指南。</p>
                        <p>您必须在第7列到第72列中编写EXEC SQL和EXEC ORACLE语句（忽略第73到80列）。其他列用于以下目的：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>第1列可以指示注释行，也可以是可选语句标签的一部分。</p>
                           </li>
                           <li>
                              <p>第2列到第5列可以包含可选的语句标签。</p>
                           </li>
                           <li>
                              <p>第6列表示连续线。</p>
                           </li>
                        </ul>
                        <p>在某些系统上，支持<span class="italic">终端格式</span> ;也就是说，条目不限于某些列。在本手册中，程序片段和示例程序采用ANSI格式（FORMAT = ANSI）。
                        </p>
                        <p>一行中只能出现一个语句。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ZZFOR110"></a><div class="props_rev_3"><a id="GUID-6C64564B-B985-4A18-99CE-E22B0FF757D0" name="GUID-6C64564B-B985-4A18-99CE-E22B0FF757D0"></a><h4 id="ZZFOR-GUID-6C64564B-B985-4A18-99CE-E22B0FF757D0" class="sect4"><span class="enumeration_section">1.1.3</span>评论</h4>
                  <div>
                     <p>您可以在SQL语句中放置FORTRAN注释行。FORTRAN注释行以字母C开头或第1列以星号（*）开头。您可以在行末尾的SQL语句中放置ANSI SQL样式的注释（ -   -  ...），也可以在SQL语句中放置C样式的注释（/ * ... * /）。</p>
                     <p>以下示例显示了所有三种注释样式：</p><pre class="oac_no_warn" dir="ltr">EXEC SQL SELECT ENAME，SAL C将列值分配给主机变量。1 INTO：ENAM，：ESAL  - 输出主变量2 FROM EMP 3 / *在4搜索条件下使用输入主变量* / 5 WHERE DEPTNO =：DNUM</pre><div class="infoboxnote" id="GUID-6C64564B-B985-4A18-99CE-E22B0FF757D0__GUID-99FBF62B-A1BE-4C22-A6E0-563CE17E5763">
                        <p class="notep1">注意：</p>
                        <p>你不能嵌套评论。空行被视为注释，但持续的语句中是<span class="italic">不允许</span>的。
                        </p>
                     </div>
                  </div>
               </div><a id="ZZFOR111"></a><div class="props_rev_3"><a id="GUID-861175B4-1014-4EB2-8006-CC71D50D3DFC" name="GUID-861175B4-1014-4EB2-8006-CC71D50D3DFC"></a><h4 id="ZZFOR-GUID-861175B4-1014-4EB2-8006-CC71D50D3DFC" class="sect4"><span class="enumeration_section">1.1.4</span>延续线</h4>
                  <div>
                     <p>根据FORTRAN的规则，您可以将SQL语句从一行继续到下一行。要编写连续行，请在第6列中放置非零非空字符。在本手册中，数字用作连续字符，如以下示例所示：</p><pre class="oac_no_warn" dir="ltr">*检索员工数据。EXEC SQL SELECT EMPNO，ENAME，JOB，SAL 1 INTO：ENUM，：ENAM，：EJOB，：ESAL 2 FROM EMP 3 WHERE DEPTNO =：DNUM</pre><p>要将字符串文字从一行继续到下一行，请通过第72列对文字进行编码。在下一行，编写一个连续字符和文字的其余部分。一个例子如下：</p><pre class="oac_no_warn" dir="ltr">*执行动态SQL语句。EXEC SQL EXECUTE IMMEDIATE'更新EMP设置COMM = 500 WHERE 1 DEPTNO = 20'</pre><p>大多数FORTRAN实现允许多达19个连续行。检查您的FORTRAN编译器用户指南。</p>
                  </div>
               </div><a id="ZZFOR112"></a><div class="props_rev_3"><a id="GUID-A7B38BA8-3654-489F-8FB7-A59ADE8885D9" name="GUID-A7B38BA8-3654-489F-8FB7-A59ADE8885D9"></a><h4 id="ZZFOR-GUID-A7B38BA8-3654-489F-8FB7-A59ADE8885D9" class="sect4"><span class="enumeration_section">1.1.5</span>分隔符</h4>
                  <div>
                     <p>虽然FORTRAN不需要空格来分隔关键字，但您必须使用空格来分隔SQL语句中的关键字。FORTRAN使用撇号来分隔字符串文字，如</p><pre class="oac_no_warn" dir="ltr">*显示员工姓名。IF（ENAM。LT。 'ZZZZZ'）然后打印*，'员工姓名：'，ENAM END IF</pre><p>SQL还使用撇号来分隔字符串文字，如</p><pre class="oac_no_warn" dir="ltr">*检索员工数据。EXEC SQL SELECT ENAME，SAL 1 INTO：ENAM，：ESAL 2 FROM EMP 3 WHERE JOB ='CLERK'</pre><p>SQL还使用引号来分隔包含特殊或小写字符的标识符。</p>
                  </div>
               </div><a id="ZZFOR113"></a><div class="props_rev_3"><a id="GUID-6E4F8E05-58DD-41C6-AB8D-6A5E45CB0D9C" name="GUID-6E4F8E05-58DD-41C6-AB8D-6A5E45CB0D9C"></a><h4 id="ZZFOR-GUID-6E4F8E05-58DD-41C6-AB8D-6A5E45CB0D9C" class="sect4"><span class="enumeration_section">1.1.6</span>嵌入式SQL语法</h4>
                  <div>
                     <p>要在宿主程序中使用SQL语句，请在SQL语句前加上EXEC SQL子句。<a href="../lnpcc/introduction.html#LNPCC-GUID-20CBCC27-EC6B-4651-92CC-7E008BD73611" target="_blank"><span class="italic">Pro * C / C ++程序员指南中</span></a>介绍了嵌入式SQL语法。预编译器将所有EXEC SQL语句转换为对运行时库SQLLIB的调用。</p>
                  </div>
               </div><a id="ZZFOR114"></a><div class="props_rev_3"><a id="GUID-FC75FF3D-BA99-4D2B-A90E-EF5E9274501B" name="GUID-FC75FF3D-BA99-4D2B-A90E-EF5E9274501B"></a><h4 id="ZZFOR-GUID-FC75FF3D-BA99-4D2B-A90E-EF5E9274501B" class="sect4"><span class="enumeration_section">1.1.7</span>文件长度</h4>
                  <div>
                     <p>Pro * FORTRAN预编译器无法处理任意长的源文件。内部使用的一些变量限制了生成的文件的大小。允许的行数没有绝对限制，但源文件的以下方面是文件大小约束的影响因素：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>嵌入式SQL语句的复杂性（例如，绑定和定义变量的数量）</p>
                        </li>
                        <li>
                           <p>是否使用数据库名称（例如，连接到具有AT子句的数据库）</p>
                        </li>
                        <li>
                           <p>嵌入式SQL语句的数量</p>
                        </li>
                     </ul>
                     <p>要防止与此限制相关的问题，请使用多个程序单元根据需要减小源文件的大小。</p>
                  </div>
               </div><a id="ZZFOR115"></a><div class="props_rev_3"><a id="GUID-9A7D1E69-07F3-4866-B21F-69877272BEB3" name="GUID-9A7D1E69-07F3-4866-B21F-69877272BEB3"></a><h4 id="ZZFOR-GUID-9A7D1E69-07F3-4866-B21F-69877272BEB3" class="sect4"><span class="enumeration_section">1.1.8</span>文件命名限制</h4>
                  <div>
                     <p>避免使用以“sql”开头的文件名，因为可能会发生错误。例如，如果将文件命名为SQLERROR.PFO，则某些链接器会返回名称冲突，因为会有一个名为SQLERD的数组和一个名为SQLERD的公共块。</p>
                  </div>
               </div><a id="ZZFOR116"></a><div class="props_rev_3"><a id="GUID-9B544D4A-4B21-4BD9-950B-42588A39ABEA" name="GUID-9B544D4A-4B21-4BD9-950B-42588A39ABEA"></a><h4 id="ZZFOR-GUID-9B544D4A-4B21-4BD9-950B-42588A39ABEA" class="sect4"><span class="enumeration_section">1.1.9</span> FORTRAN版本</h4>
                  <div>
                     <p>Pro * FORTRAN预编译器支持操作系统的FORTRAN标准实现（通常为FORTRAN 77）。有关更多信息，请参阅Oracle系统特定的文档。</p>
                  </div>
               </div>
            </div><a id="ZZFOR117"></a><div class="props_rev_3"><a id="GUID-7761FB2D-04E6-4ECF-B9D5-2C4DAFFE43B3" name="GUID-7761FB2D-04E6-4ECF-B9D5-2C4DAFFE43B3"></a><h3 id="ZZFOR-GUID-7761FB2D-04E6-4ECF-B9D5-2C4DAFFE43B3" class="sect3"><span class="enumeration_section">1.2</span>必需的声明和SQL语句</h3>
               <div>
                  <p>在Oracle和应用程序之间传递数据需要主机变量和事件处理。本节介绍如何满足这些要求。</p>
               </div><a id="ZZFOR118"></a><div class="props_rev_3"><a id="GUID-03BDF71B-FBBD-4FEE-B5CF-4EE88B243272" name="GUID-03BDF71B-FBBD-4FEE-B5CF-4EE88B243272"></a><h4 id="ZZFOR-GUID-03BDF71B-FBBD-4FEE-B5CF-4EE88B243272" class="sect4"><span class="enumeration_section">1.2.1</span>申报部分</h4>
                  <div>
                     <p>您必须在<span class="italic">声明部分</span>中<span class="italic">声明</span>要在SQL语句中使用的所有程序变量，该<span class="italic">部分</span>以该语句开头</p><pre class="oac_no_warn" dir="ltr">EXEC SQL BEGIN DECLARE SECTION</pre><p>并以声明结束</p><pre class="oac_no_warn" dir="ltr">EXEC SQL END DECLARE SECTION</pre><p>在这两个语句之间只允许以下内容：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>主变量和指标变量声明</p>
                        </li>
                        <li>
                           <p>EXEC SQL DECLARE语句</p>
                        </li>
                        <li>
                           <p>EXEC SQL INCLUDE语句</p>
                        </li>
                        <li>
                           <p>EXEC SQL VAR语句</p>
                        </li>
                        <li>
                           <p>EXEC ORACLE声明</p>
                        </li>
                        <li>
                           <p>FORTRAN评论</p>
                        </li>
                     </ul>
                     <p>在Pro * FORTRAN源文件中，多个程序单元可以包含SQL语句。因此，每个预编译单元允许多个Declare Sections。此外，Pro * FORTRAN程序可以包含多个文件。</p>
                  </div>
               </div><a id="ZZFOR119"></a><div class="props_rev_3"><a id="GUID-651BC723-1B41-4847-97F4-BC1CCAF1445E" name="GUID-651BC723-1B41-4847-97F4-BC1CCAF1445E"></a><h4 id="ZZFOR-GUID-651BC723-1B41-4847-97F4-BC1CCAF1445E" class="sect4"><span class="enumeration_section">1.2.2</span>使用INCLUDE语句</h4>
                  <div>
                     <div class="section">
                        <p>FORTRAN INCLUDE由FORTRAN编译器处理，而EXEC SQL INCLUDE语句由Pro * FORTRAN处理，以将文件复制到主机程序中，如以下示例所示：</p><pre class="oac_no_warn" dir="ltr">*复制到SQL通信区域（SQLCA）*和Oracle通信区域（ORACA）。EXEC SQL包含SQLCA EXEC SQL包含ORACA</pre><p>您可以包含任何文件。预编译Pro * FORTRAN程序时，每个EXEC SQL INCLUDE语句将替换为语句中指定的文件的副本。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ZZFOR120"></a><div class="props_rev_3"><a id="GUID-19AD5252-7B92-4ADB-98AD-0CA4AF06B13B" name="GUID-19AD5252-7B92-4ADB-98AD-0CA4AF06B13B"></a><h4 id="ZZFOR-GUID-19AD5252-7B92-4ADB-98AD-0CA4AF06B13B" class="sect4"><span class="enumeration_section">1.2.3</span>文件名扩展名</h4>
                  <div>
                     <p>如果您的系统使用文件扩展名但未指定文件扩展名，则Pro * FORTRAN预编译器将采用源文件的默认扩展名（通常为FOR或F）。默认扩展名取决于系统。有关更多信息，请参阅Oracle系统特定的文档。</p>
                  </div>
               </div><a id="ZZFOR121"></a><div class="props_rev_3"><a id="GUID-9CB9322E-6B0A-43C6-ACF2-CB55A3602A83" name="GUID-9CB9322E-6B0A-43C6-ACF2-CB55A3602A83"></a><h4 id="ZZFOR-GUID-9CB9322E-6B0A-43C6-ACF2-CB55A3602A83" class="sect4"><span class="enumeration_section">1.2.4</span>搜索路径</h4>
                  <div>
                     <p>如果系统使用目录，则可以使用INCLUDE预编译器选项为INCLUDE文件设置搜索路径，如下所示：</p><pre class="oac_no_warn" dir="ltr">INCLUDE = <span class="italic">路径</span> 
</pre><p>其中<span class="italic">path</span>默认为当前目录。
                     </p>
                     <p>预编译器首先搜索当前目录，然后搜索INCLUDE选项指定的目录，最后搜索标准INCLUDE文件的目录。您无需为标准文件指定路径，例如SQLCA和ORACA。但是，非标准文件需要一个路径，除非它们存储在当前目录中。</p>
                     <p>您还可以在命令行上指定多个路径，如下所示：</p><pre class="oac_no_warn" dir="ltr">...INCLUDE = &lt;path1&gt; INCLUDE = &lt;path2&gt; ...
</pre><p>指定多个路径时，预编译器首先搜索当前目录，然后搜索<span class="italic">path1</span>目录，然后搜索<span class="italic">path2</span>目录，依此类推。最后搜索包含标准INCLUDE文件的目录。路径语法是特定于系统的。查看系统的Oracle安装或用户指南。
                     </p>
                  </div>
               </div><a id="ZZFOR122"></a><div class="props_rev_3"><a id="GUID-98AD7182-2202-43C8-AF1E-65C5B065EA0C" name="GUID-98AD7182-2202-43C8-AF1E-65C5B065EA0C"></a><h4 id="ZZFOR-GUID-98AD7182-2202-43C8-AF1E-65C5B065EA0C" class="sect4"><span class="enumeration_section">1.2.5</span>注意</h4>
                  <div>
                     <p>请记住，即使您指定了搜索路径，预编译器也会首先在当前目录中搜索文件。如果要包含的文件位于另一个目录中，请确保当前目录或搜索路径中位于其前面的任何其他目录中没有相同名称的文件。此外，如果您的操作系统区分大小写，则必须指定存储文件的相同大写或小写文件名。</p>
                  </div>
               </div><a id="ZZFOR123"></a><div class="props_rev_3"><a id="GUID-5C9DE4AE-EB45-4726-8135-313F97441A18" name="GUID-5C9DE4AE-EB45-4726-8135-313F97441A18"></a><h4 id="ZZFOR-GUID-5C9DE4AE-EB45-4726-8135-313F97441A18" class="sect4"><span class="enumeration_section">1.2.6</span>事件和错误处理</h4>
                  <div>
                     <p>Pro * FORTRAN在检查执行SQL语句的结果时提供向前和向后兼容性。但是，根据MODE和DBMS选项设置，使用SQLCA，SQLCODE和SQLSTATE存在限制。有关更多信息，请参阅<a href="../zzpre/error-handling-diagnostics.html#ZZPRE-GUID-75EB7FA6-5080-44B1-B96D-C542EBB16088" target="_blank">错误处理和诊断</a> 。
                     </p>
                  </div>
               </div>
            </div><a id="ZZFOR124"></a><div class="props_rev_3"><a id="GUID-21F9AD0C-D7BF-49E9-B66B-ACBA613F5DFF" name="GUID-21F9AD0C-D7BF-49E9-B66B-ACBA613F5DFF"></a><h3 id="ZZFOR-GUID-21F9AD0C-D7BF-49E9-B66B-ACBA613F5DFF" class="sect3"><span class="enumeration_section">1.3</span>主机变量名称</h3>
               <div>
                  <p>主机变量名称必须仅包含字母和数字，并且必须以字母开头。它们可以是任意长度，但只有前31个字符才有意义。有些编译器禁止长度超过6个字符的变量名，或者在第6个字符后忽略字符。检查您的FORTRAN编译器用户指南。</p>
               </div><a id="ZZFOR126"></a><a id="ZZFOR127"></a><a id="ZZFOR125"></a><div class="props_rev_3"><a id="GUID-356222B9-304C-4759-A316-C8F75F1DE744" name="GUID-356222B9-304C-4759-A316-C8F75F1DE744"></a><h4 id="ZZFOR-GUID-356222B9-304C-4759-A316-C8F75F1DE744" class="sect4"><span class="enumeration_section">1.3.1</span>逻辑和关系运算符</h4>
                  <div>
                     <div class="section">
                        <p>对于FORTRAN和SQL，逻辑和关系运算符是不同的，分别如下表所示。例如，SQL运算符没有前导和尾随句点，如表1-1和表1-2所示。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-356222B9-304C-4759-A316-C8F75F1DE744__GUID-1946588A-631C-4DF4-A5E6-4F16394BFE6B">
                        <p class="titleintable">表1-1逻辑运算符</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="逻辑运算符" width="100%" border="1" summary="Logical Operators" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="51%" id="d1790e686">SQL运算符</th>
                                 <th align="left" valign="bottom" width="49%" id="d1790e689">FORTRAN运营商</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="51%" id="d1790e694" headers="d1790e686 ">
                                    <p>不</p>
                                 </td>
                                 <td align="left" valign="top" width="49%" headers="d1790e694 d1790e689 ">
                                    <p>。不。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="51%" id="d1790e701" headers="d1790e686 ">
                                    <p>和</p>
                                 </td>
                                 <td align="left" valign="top" width="49%" headers="d1790e701 d1790e689 ">
                                    <p>。和。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="51%" id="d1790e708" headers="d1790e686 ">
                                    <p>要么</p>
                                 </td>
                                 <td align="left" valign="top" width="49%" headers="d1790e708 d1790e689 ">
                                    <p>。要么。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="51%" id="d1790e715" headers="d1790e686 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="49%" headers="d1790e715 d1790e689 ">
                                    <p>。EQV。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="51%" id="d1790e722" headers="d1790e686 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="49%" headers="d1790e722 d1790e689 ">
                                    <p>。NEQV。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="tblformal" id="GUID-356222B9-304C-4759-A316-C8F75F1DE744__GUID-C0DB8BAC-99AC-4527-AC69-E67514915CDA">
                        <p class="titleintable">表1-2关系运算符</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="关系运算符" width="100%" border="1" summary="Relational Operator" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="54%" id="d1790e738">SQL运算符</th>
                                 <th align="left" valign="bottom" width="46%" id="d1790e741">FORTRAN运营商</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="54%" id="d1790e746" headers="d1790e738 ">
                                    <p>=</p>
                                 </td>
                                 <td align="left" valign="top" width="46%" headers="d1790e746 d1790e741 ">
                                    <p>。EQ。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="54%" id="d1790e753" headers="d1790e738 ">
                                    <p>&lt;&gt; ,!=，^ =</p>
                                 </td>
                                 <td align="left" valign="top" width="46%" headers="d1790e753 d1790e741 ">
                                    <p>。NE。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="54%" id="d1790e760" headers="d1790e738 ">
                                    <p>&gt;</p>
                                 </td>
                                 <td align="left" valign="top" width="46%" headers="d1790e760 d1790e741 ">
                                    <p>。GT。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="54%" id="d1790e767" headers="d1790e738 ">
                                    <p>&lt;</p>
                                 </td>
                                 <td align="left" valign="top" width="46%" headers="d1790e767 d1790e741 ">
                                    <p>。LT。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="54%" id="d1790e774" headers="d1790e738 ">
                                    <p>&gt; =</p>
                                 </td>
                                 <td align="left" valign="top" width="46%" headers="d1790e774 d1790e741 ">
                                    <p>。GE。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="54%" id="d1790e781" headers="d1790e738 ">
                                    <p>&lt;=</p>
                                 </td>
                                 <td align="left" valign="top" width="46%" headers="d1790e781 d1790e741 ">
                                    <p>。LE。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p>逻辑和关系FORTRAN运营商都<span class="italic">没有</span>在SQL语句中允许的。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ZZFOR128"></a><div class="props_rev_3"><a id="GUID-6627D368-0853-469D-9022-ED8C2EC82BF0" name="GUID-6627D368-0853-469D-9022-ED8C2EC82BF0"></a><h4 id="ZZFOR-GUID-6627D368-0853-469D-9022-ED8C2EC82BF0" class="sect4"><span class="enumeration_section">1.3.2</span> MAXLITERAL默认值</h4>
                  <div>
                     <div class="section">
                        <p>使用MAXLITERAL预编译器选项，您可以指定预编译器生成的字符串文字的最大长度，以便不超过编译器限制。对于Pro * FORTRAN，默认值为1000，但您可能需要指定较低的值。</p>
                        <p>例如，如果FORTRAN编译器无法处理长度超过512个字符的字符串文字，请指定MAXLITERAL = 512。检查您的FORTRAN编译器用户指南。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ZZFOR129"></a><div class="props_rev_3"><a id="GUID-59B35440-F071-4A43-BD90-C5130BBFF880" name="GUID-59B35440-F071-4A43-BD90-C5130BBFF880"></a><h4 id="ZZFOR-GUID-59B35440-F071-4A43-BD90-C5130BBFF880" class="sect4"><span class="enumeration_section">1.3.3</span>无效</h4>
                  <div>
                     <p>在SQL中，null表示缺少，未知或不适用的列值;它既不等于零也不等于空白。使用NVL函数将空值转换为非空值，使用IS [NOT] NULL比较运算符搜索空值，并使用指示符变量插入和测试空值。</p>
                  </div>
               </div><a id="ZZFOR130"></a><div class="props_rev_3"><a id="GUID-8BBA55DE-CB29-48A5-B4F6-510982570AE4" name="GUID-8BBA55DE-CB29-48A5-B4F6-510982570AE4"></a><h4 id="ZZFOR-GUID-8BBA55DE-CB29-48A5-B4F6-510982570AE4" class="sect4"><span class="enumeration_section">1.3.4</span>计划单位</h4>
                  <div>
                     <p>在FORTRAN中， <span class="italic">程序单元</span>是功能，子程序或主程序。在Pro * FORTRAN中，输入文件包含一个或多个程序单元。
                     </p>
                     <p>如果程序单元包含SQL语句，则必须</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>在其Declare部分中定义所有本地主机变量</p>
                        </li>
                        <li>
                           <p>MODE = {ORACLE | ANSI13}时包含SQLCA</p>
                        </li>
                        <li>
                           <p>当MODE = {ANSI | ANSI14}时，在声明部分内部或外部声明一个名为SQLATA或SQLCOD的变量</p>
                        </li>
                        <li>
                           <p>如果指定ORACA = YES，则包含ORACA</p>
                        </li>
                     </ul>
                     <p>多个程序单元可以包含SQL语句。例如，您可以在一个程序单元中将游标DECLARE，在另一个程序单元中打开它，在另一个程序单元中打开它，并在另一个程序单元中将它关闭，只要它们位于同一文件中，就可以将它关闭。</p>
                  </div>
               </div>
            </div><a id="ZZFOR131"></a><div class="props_rev_3"><a id="GUID-379B5871-299B-4D07-9C25-C86FF1986FF8" name="GUID-379B5871-299B-4D07-9C25-C86FF1986FF8"></a><h3 id="ZZFOR-GUID-379B5871-299B-4D07-9C25-C86FF1986FF8" class="sect3"><span class="enumeration_section">1.4</span>主机变量的范围</h3>
               <div>
                  <p>FORTRAN标识符的范围规则适用于主机变量。在程序单元中声明的主机变量对于该单元是本地的，并且在主程序中声明的主机变量<span class="italic">不是</span>全局的。因此，必须在声明部分的该单元中声明程序单元中使用的所有主变量。
                  </p>
               </div><a id="ZZFOR132"></a><div class="props_rev_3"><a id="GUID-CB98185C-BA60-4D07-BC93-13787B72F22C" name="GUID-CB98185C-BA60-4D07-BC93-13787B72F22C"></a><h4 id="ZZFOR-GUID-CB98185C-BA60-4D07-BC93-13787B72F22C" class="sect4"><span class="enumeration_section">1.4.1</span>声明标签</h4>
                  <div>
                     <p>您可以将FORTRAN数字语句标签（1  -  99999）与SQL语句关联，如以下示例所示：</p><pre class="oac_no_warn" dir="ltr">*在employee表中插入行。500 EXEC SQL INSERT INTO EMP（EMPNO，ENAME，JOB，DEPTNO）1 VALUES（：ENUM，：ENAM，：EJOB，：DNUM）</pre><p>并且，您可以在WHENEVER DO或WHENEVER GOTO语句中引用语句标签，如下例所示：</p><pre class="oac_no_warn" dir="ltr">*处理SQL执行错误。执行SQL WHENEVER SQLERROR GOTO 900 ...* SQLEMC存储Oracle错误代码和消息。900 WRITE（*，8500）SQLEMC 8500格式（1X，70A1）......
</pre><p>语句标签必须在第1列到第5列中编码，并且<span class="italic">不得</span>出现在连续行中。声明标签可能仅包含字母数字字符;不允许使用特殊字符，下划线（_），连字符（ - ）和美元符号（$）。
                     </p>
                     <p>Pro * FORTRAN预编译器不在生成的代码中使用语句标签。因此，此版本不支持早期Pro * FORTRAN版本中提供的BEGLABEL和ENDLABEL选项，如果找到，将返回信息性消息。</p>
                  </div>
               </div><a id="ZZFOR133"></a><div class="props_rev_3"><a id="GUID-6C6EB142-2B75-4D22-A0B8-6DB7ABCD824F" name="GUID-6C6EB142-2B75-4D22-A0B8-6DB7ABCD824F"></a><h4 id="ZZFOR-GUID-6C6EB142-2B75-4D22-A0B8-6DB7ABCD824F" class="sect4"><span class="enumeration_section">1.4.2</span>语句终结符</h4>
                  <div>
                     <p>嵌入式SQL语句由行尾终止，如以下示例所示：</p><pre class="oac_no_warn" dir="ltr">*删除员工。EXEC SQL从EMP中删除EMPNO =：ENUM</pre><p>但是，下一行的延续字符会覆盖行尾。</p>
                  </div>
               </div>
            </div><a id="ZZFOR134"></a><div class="props_rev_3"><a id="GUID-D7950FBD-CF21-432A-9734-FFCAD77D9004" name="GUID-D7950FBD-CF21-432A-9734-FFCAD77D9004"></a><h3 id="ZZFOR-GUID-D7950FBD-CF21-432A-9734-FFCAD77D9004" class="sect3"><span class="enumeration_section">1.5</span>主机变量</h3>
               <div>
                  <p>主机变量是主机程序与Oracle之间通信的关键。通常，主机程序将数据输入Oracle，Oracle将数据输出到程序。Oracle将输入数据存储在数据库列中，并将输出数据存储在程序主变量中。</p>
               </div><a id="ZZFOR135"></a><div class="props_rev_3"><a id="GUID-12420FAA-2E0F-4894-8B9B-760CE8631898" name="GUID-12420FAA-2E0F-4894-8B9B-760CE8631898"></a><h4 id="ZZFOR-GUID-12420FAA-2E0F-4894-8B9B-760CE8631898" class="sect4"><span class="enumeration_section">1.5.1</span>声明主机变量</h4>
                  <div>
                     <p>使用Oracle支持的FORTRAN数据类型，根据FORTRAN规则声明主机变量。FORTRAN数据类型必须与源/目标数据库列兼容。支持的FORTRAN数据类型如下表所示。还支持一维FORTRAN类型的数组。</p>
                     <div class="tblformal" id="GUID-12420FAA-2E0F-4894-8B9B-760CE8631898__GUID-83E792D2-0EEE-46F4-8727-7BCADEAA9372">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="variable declaration" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="50%" id="d1790e1021">变量声明</th>
                                 <th align="left" valign="bottom" width="50%" id="d1790e1024">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="50%" id="d1790e1029" headers="d1790e1021 ">
                                    <p>BYTE <span class="italic">var</span> CHARACTER <span class="italic">var</span></p>
                                 </td>
                                 <td align="left" valign="top" width="50%" headers="d1790e1029 d1790e1024 ">
                                    <p>单个字符</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="50%" id="d1790e1041" headers="d1790e1021 ">
                                    <p>CHARACTER <span class="italic">var</span> * <span class="italic">n</span> CHARACTER * <span class="italic">n var</span></p>
                                 </td>
                                 <td align="left" valign="top" width="50%" headers="d1790e1041 d1790e1024 ">
                                    <p><span class="italic">n</span>字节字符串</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="50%" id="d1790e1058" headers="d1790e1021 ">
                                    <p>CHARACTER（*） <span class="italic">var</span></p>
                                 </td>
                                 <td align="left" valign="top" width="50%" headers="d1790e1058 d1790e1024 ">
                                    <p>字符串</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="50%" id="d1790e1067" headers="d1790e1021 ">
                                    <p>INTEGER <span class="italic">var</span> INTEGER * 2 <span class="italic">var</span> INTEGER * 4 <span class="italic">var</span></p>
                                 </td>
                                 <td align="left" valign="top" width="50%" headers="d1790e1067 d1790e1024 ">
                                    <p>default-length integer 2字节整数4字节整数</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="50%" id="d1790e1082" headers="d1790e1021 ">
                                    <p>LOGICAL <span class="italic">var</span> LOGICAL * 1 <span class="italic">var</span> LOGICAL * 2 <span class="italic">var</span> LOGICAL * 4 <span class="italic">var</span></p>
                                 </td>
                                 <td align="left" valign="top" width="50%" headers="d1790e1082 d1790e1024 ">
                                    <p>单字符2字节字符串4字节字符串</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="50%" id="d1790e1100" headers="d1790e1021 ">
                                    <p>REAL <span class="italic">var</span> REAL * 4 <span class="italic">var</span> REAL * 8 <span class="italic">var</span> DOUBLE PRECISION <span class="italic">var</span></p>
                                 </td>
                                 <td align="left" valign="top" width="50%" headers="d1790e1100 d1790e1024 ">
                                    <p>4字节实数8字节实数</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="50%" id="d1790e1118" headers="d1790e1021 ">
                                    <p>VARCHAR * <span class="italic">n</span></p>
                                 </td>
                                 <td align="left" valign="top" width="50%" headers="d1790e1118 d1790e1024 ">
                                    <p>&lt;= 32765字节，可变长度字符串（3）</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="50%" id="d1790e1127" headers="d1790e1021 ">
                                    <p>SQLCURSOR</p>
                                 </td>
                                 <td align="left" valign="top" width="50%" headers="d1790e1127 d1790e1024 ">
                                    <p>游标变量</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p><span class="bold">备注</span> ：</p>
                     <ol>
                        <li>
                           <p>FORTRAN数字类型的大小取决于实现。表中给出的尺寸是典型的，但不是通用的。检查您的FORTRAN编译器用户指南。</p>
                        </li>
                        <li>
                           <p>CHARACTER（*）变量没有预定长度。它们用于在子例程声明中指定伪参数。LEN内部函数返回实际参数的最大长度。</p>
                        </li>
                        <li>
                           <p>使用VARCHAR * <span class="italic">n</span>声明的变量（不是FORTRAN的本机变量）被赋予VARCHAR外部数据类型。有关更多信息，请参阅“声明VARCHAR变量”。
                           </p>
                        </li>
                     </ol>
                     <p>下表列出了兼容的Oracle内部数据类型。</p>
                     <div class="tblformal" id="GUID-12420FAA-2E0F-4894-8B9B-760CE8631898__GUID-E24A59E2-B7ED-4043-8F4B-BA696B7BB7FD">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="internal type" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="33%" id="d1790e1161">内部类型</th>
                                 <th align="left" valign="bottom" width="33%" id="d1790e1164">FORTRAN类型</th>
                                 <th align="left" valign="bottom" width="33%" id="d1790e1167">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d1790e1172" headers="d1790e1161 ">
                                    <p>CHAR（ <span class="italic">x</span> ）（1）VARCHAR2（ <span class="italic">y</span> ）（1）</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e1172 d1790e1164 ">
                                    <p>字符字符* <span class="italic">n</span> VARCHAR * <span class="italic">n var1</span> ， <span class="italic">var2</span> ， <span class="italic">var3</span></p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e1172 d1790e1167 ">
                                    <p>单字符可变长度字符串可变长度字符串可变长度字符串</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d1790e1199" headers="d1790e1161 ">
                                    <p>编号（ <span class="italic">p</span> ， <span class="italic">s</span> ）（2）</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e1199 d1790e1164 ">
                                    <p>CHARACTER * <span class="italic">n</span> <span class="italic">var</span> CHARACTER <span class="italic">var</span> * <span class="italic">n</span> CHARACTER（*）DOUBLE PRECISION INTEGER INTEGER * 2 INTEGER * 4 LOGICAL <span class="italic">var</span> LOGICAL * 1 <span class="italic">var</span> LOGICAL * 2 <span class="italic">var</span> LOGICAL * 4 <span class="italic">var</span> REAL REAL * 4 REAL * 8 VARCHAR * <span class="italic">n</span> <span class="italic">var1</span> ， <span class="italic">var2</span> ， <span class="italic">var3</span></p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e1199 d1790e1167 ">
                                    <p><span class="italic">n</span>字节字符串（3）字符串（作为参数）8字节浮点数整数（默认大小）2字节整数4字节整数单字符2字节字符串4字节字符串浮点数4字节浮点数数字8字节浮点数可变长度字符串</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d1790e1251" headers="d1790e1161 ">
                                    <p>日期（4）LONG RAW（1）LONG RAW（*）MLSLABEL（6）</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e1251 d1790e1164 ">
                                    <p>CHARACTER * <span class="italic">n var</span> CHARACTER * <span class="italic">n var</span> VARCHAR * <span class="italic">n var1</span> ， <span class="italic">var2</span> ， <span class="italic">var3</span></p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e1251 d1790e1167 ">
                                    <p><span class="italic">n</span>字节字符串<span class="italic">n</span>字节变长字符串变长字符串</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d1790e1280" headers="d1790e1161 ">
                                    <p>光标</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e1280 d1790e1164 ">
                                    <p>SQLCURSOR</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e1280 d1790e1167 ">
                                    <p>游标变量</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p><span class="bold">备注</span> ：</p>
                     <ol>
                        <li>
                           <p><span class="italic">x的</span>范围是1到255，默认值是1。 <span class="italic">y的</span>范围是1到2000。
                           </p>
                        </li>
                        <li>
                           <p><span class="italic">p的</span>范围为2至38. <span class="italic">s的</span>范围为-84至127。
                           </p>
                        </li>
                        <li>
                           <p>只有当字符串由可转换字符组成时，字符串才能转换为NUMBER个字符 -  0到9，句点（。），+， - ，E，e。系统的NLS设置可能会将小数点从句点（。）更改为逗号（，）。</p>
                        </li>
                        <li>
                           <p>转换为字符串类型时，DATE的默认大小取决于对系统有效的NLS设置。转换为二进制值时，长度为7个字节。</p>
                        </li>
                        <li>
                           <p>转换为字符串类型时，ROWID需要18到256个字节。</p>
                        </li>
                     </ol>
                  </div>
               </div><a id="ZZFOR136"></a><div class="props_rev_3"><a id="GUID-94018E56-E07B-4033-BEB2-8D9F4CF1B444" name="GUID-94018E56-E07B-4033-BEB2-8D9F4CF1B444"></a><h4 id="ZZFOR-GUID-94018E56-E07B-4033-BEB2-8D9F4CF1B444" class="sect4"><span class="enumeration_section">1.5.2</span>示例声明</h4>
                  <div>
                     <p>在以下示例中，声明了几个主机变量以便稍后在Pro * FORTRAN程序中使用：</p><pre class="oac_no_warn" dir="ltr">*声明主变量。EXEC SQL BEGIN DECLARE SECTION INTEGER * 4 ENUM CHARACTER * 10 ENAM REAL * 4 ESAL INTEGER * 2 DNUM CHARACTER * 15 DNAM EXEC SQL END DECLARE SECTION</pre><p>您还可以声明一维FORTRAN类型数组，如下一个示例所示：</p><pre class="oac_no_warn" dir="ltr">*声明主机阵列。EXEC SQL BEGIN DECLARE SECTION INTEGER * 4 ENUM（100）CHARACTER * 10 ENAM（100）REAL * 4 ESAL（100）EXEC SQL END DECLARE SECTION</pre></div>
               </div><a id="ZZFOR137"></a><div class="props_rev_3"><a id="GUID-2B9B1C1D-3616-4E09-B4B0-1C051761FD12" name="GUID-2B9B1C1D-3616-4E09-B4B0-1C051761FD12"></a><h4 id="ZZFOR-GUID-2B9B1C1D-3616-4E09-B4B0-1C051761FD12" class="sect4"><span class="enumeration_section">1.5.3</span>重复定义</h4>
                  <div>
                     <p>您可以对数据类型使用重复定义，如以下示例所示：</p><pre class="oac_no_warn" dir="ltr">*声明主变量。EXEC SQL BEGIN DECLARE SECTION ...REAL * 4 ESAL，ECOM，EBON EXEC SQL END DECLARE SECTION</pre><p>这相当于</p><pre class="oac_no_warn" dir="ltr">*声明主变量。EXEC SQL BEGIN DECLARE SECTION ...REAL * 4 ESAL REAL * 4 ECOM REAL * 4 EBON EXEC SQL END DECLARE SECTION</pre></div>
               </div><a id="ZZFOR138"></a><div class="props_rev_3"><a id="GUID-7F352525-56DB-4E24-AF59-39AEEBAADE6A" name="GUID-7F352525-56DB-4E24-AF59-39AEEBAADE6A"></a><h4 id="ZZFOR-GUID-7F352525-56DB-4E24-AF59-39AEEBAADE6A" class="sect4"><span class="enumeration_section">1.5.4</span>初始化</h4>
                  <div>
                     <p>虽然没有必要在Declare Section中初始化主变量，但可以使用FORTRAN DATA语句初始化主变量，如以下示例所示：</p><pre class="oac_no_warn" dir="ltr">*声明主变量。EXEC SQL BEGIN DECLARE SECTION ...REAL * 4 MINSAL REAL * 4 MAXSAL DATA MINSAL，MAXSAL /1000.00,5000.00 / EXEC SQL END DECLARE SECTION</pre><p>DATA语句必须在第一个可执行FORTRAN语句之前，但在任何变量和PARAMETER声明之后。稍后在程序中，您可以更改由DATA语句初始化的变量的值。但是，您不能重用DATA语句来重置更改的值。</p>
                  </div>
               </div><a id="ZZFOR139"></a><div class="props_rev_3"><a id="GUID-1F086982-7926-4141-B1E9-D213805A107C" name="GUID-1F086982-7926-4141-B1E9-D213805A107C"></a><h4 id="ZZFOR-GUID-1F086982-7926-4141-B1E9-D213805A107C" class="sect4"><span class="enumeration_section">1.5.5</span>常数</h4>
                  <div>
                     <p>您可以在Declare Section内部或外部使用FORTRAN PARAMETER语句为主变量分配常量值，如以下示例所示：</p><pre class="oac_no_warn" dir="ltr">*声明主变量。EXEC SQL BEGIN DECLARE SECTION CHARACTER * 5 UID CHARACTER * 5 PWD PARAMETER（UID ='AAAAA'，PWD ='BBBBB'）EXEC SQL END DECLARE SECTION</pre></div>
               </div><a id="ZZFOR140"></a><div class="props_rev_3"><a id="GUID-E74F0F62-9EF4-4553-87D8-1B6495ABE818" name="GUID-E74F0F62-9EF4-4553-87D8-1B6495ABE818"></a><h4 id="ZZFOR-GUID-E74F0F62-9EF4-4553-87D8-1B6495ABE818" class="sect4"><span class="enumeration_section">1.5.6</span> COMMON块</h4>
                  <div>
                     <p>使用FORTRAN COMMON语句，可以将主变量和数组保存在公共存储区域中，就像它们是全局定义的一样，这样您就可以在不同的程序单元中使用它们的值。COMMON语句必须出现<span class="italic">在</span> Declare Section <span class="italic">之外</span> ，并且出现在第一个可执行FORTRAN语句之前，但是在变量声明之后。一个例子如下：</p><pre class="oac_no_warn" dir="ltr">*声明主变量。EXEC SQL BEGIN DECLARE SECTION INTEGER * 4 ENUM CHARACTER * 10 ENAM REAL * 4 ESAL REAL * 4 ECOM EXEC SQL END DECLARE SECTION *定义COMMON块。COMMON / EMPBLK / ENUM，ESAL，ECOM</pre><p>在此示例中，EMPBLK是COMMON块名称。COMMON块，子例程和函数的名称是FORTRAN程序中唯一全局定义的标识符。您应该避免使用空白COMMON块。</p>
                     <p>您可以通过在这些单元中重新定义COMMON块，使其可用于其他程序单元。必须在使用块的所有单元中的COMMON块中重复变量的类型声明。</p>
                     <p>只有COMMON块中变量的顺序和数据类型才重要，而不是它们的名称。因此，变量名称可能因单元而异。但是，在每次出现COMMON块时，对相应的变量使用相同的名称是一种很好的编程习惯。</p>
                     <p>以下限制适用于COMMON块：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>您不能将VARCHAR变量放在COMMON块中。</p>
                        </li>
                        <li>
                           <p>无法在COMMON语句中标注主机数组的大小。</p>
                        </li>
                        <li>
                           <p>您不能使用DATA语句初始化空白COMMON块中的变量。</p>
                        </li>
                        <li>
                           <p>对于大多数编译器，CHARACTER变量必须出现在它们自己的COMMON块中;也就是说，它们不能与COMMON块中的其他变量混合使用。</p>
                        </li>
                     </ul>
                  </div>
               </div><a id="ZZFOR141"></a><div class="props_rev_3"><a id="GUID-7B8A9520-DC11-4CCF-BC0E-EF368B93EED3" name="GUID-7B8A9520-DC11-4CCF-BC0E-EF368B93EED3"></a><h4 id="ZZFOR-GUID-7B8A9520-DC11-4CCF-BC0E-EF368B93EED3" class="sect4"><span class="enumeration_section">1.5.7</span>等同声明</h4>
                  <div>
                     <p>使用FORTRAN EQUIVALENCE语句，您可以为同一存储位置使用两个或更多主机变量名称。EQUIVALENCE语句必须出现在第一个可执行FORTRAN语句之前。</p>
                     <p>您只能将CHARACTER变量等效于其他CHARACTER变量。你<span class="italic">不能</span>等价VARCHAR变量。
                     </p>
                  </div>
               </div><a id="ZZFOR142"></a><div class="props_rev_3"><a id="GUID-A5722BE8-5B3D-40ED-88DF-0CE15080E97E" name="GUID-A5722BE8-5B3D-40ED-88DF-0CE15080E97E"></a><h4 id="ZZFOR-GUID-A5722BE8-5B3D-40ED-88DF-0CE15080E97E" class="sect4"><span class="enumeration_section">1.5.8</span>子程序的特殊要求</h4>
                  <div>
                     <p>您必须在程序单元的Declare部分中显式声明主机变量，并在SQL语句中使用它们。因此，传递给子例程并在子例程中的SQL语句中使用的变量必须在子例程Declare Section中声明，如以下示例所示：</p><pre class="oac_no_warn" dir="ltr">...CALL LOGON（UID，PWD）......SUBROUTINE LOGON（UID，PWD）*在子程序中声明主变量。EXEC SQL BEGIN DECLARE SECTION CHARACTER * 10 UID CHARACTER * 10 PWD EXEC SQL END DECLARE SECTION ...EXEC SQL CONNECT：UID标识者：PWD WRITE（*，1000）UID 1000 FORMAT（/，'作为用户连接到Oracle：'，A10，/）返回END</pre></div>
               </div><a id="ZZFOR144"></a><a id="ZZFOR145"></a><a id="ZZFOR143"></a><div class="props_rev_3"><a id="GUID-6A20994E-84BA-4C9E-87AE-830F96DBF196" name="GUID-6A20994E-84BA-4C9E-87AE-830F96DBF196"></a><h4 id="ZZFOR-GUID-6A20994E-84BA-4C9E-87AE-830F96DBF196" class="sect4"><span class="enumeration_section">1.5.9</span>限制</h4>
                  <div>
                     <p>以下限制适用于声明：</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-6A20994E-84BA-4C9E-87AE-830F96DBF196__GUID-EB1946A7-15A2-4A1D-8F4C-2DCF3F262D71">隐含声明</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>FORTRAN允许隐式声明INTEGER和REAL变量。除非另有明确声明，否则假定以I，J，K，L，M或N开头的标识符为INTEGER类型，并且假定其他标识符为REAL类型。</p>
                        <p>然而，主机变量的隐式声明是<span class="italic">不允许</span>的;它会在预编译时触发“未声明的主机变量”错误消息。必须在Declare Section中定义SQL语句中引用的每个变量。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6A20994E-84BA-4C9E-87AE-830F96DBF196__GUID-EFD5BE86-4636-4716-ADCD-60A3C7A90043">复数</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>这些是包括实部和虚部的数字。在FORTRAN中，使用数据类型COMPLEX表示复数。但是，Pro * FORTRAN <span class="italic">不</span>支持在SQL语句中使用COMPLEX主机变量。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="ZZFOR146"></a><div class="props_rev_3"><a id="GUID-C1EE0D71-FA0F-40AB-A5E6-AD088E8D59CD" name="GUID-C1EE0D71-FA0F-40AB-A5E6-AD088E8D59CD"></a><h3 id="ZZFOR-GUID-C1EE0D71-FA0F-40AB-A5E6-AD088E8D59CD" class="sect3"><span class="enumeration_section">1.6</span>关于引用主机变量</h3>
               <div>
                  <p>您在SQL数据操作语句中使用主机变量。主机变量必须在SQL语句中以冒号（:)为前缀，但不能在FORTRAN语句中以冒号为前缀，如以下示例所示：</p><pre class="oac_no_warn" dir="ltr">*声明主变量。EXEC SQL BEGIN DECLARE SECTION INTEGER * 4 ENUM CHARACTER * 10 ENAM REAL * 4 ESAL CHARACTER * 10 EJOB EXEC SQL END DECLARE SECTION ...WRITE（*，3100）3100 FORMAT（'输入员工编号：'）READ（*，3200）ENUM 3200 FORMAT（I4）EXEC SQL SELECT ENAME，SAL，JOB 1 INTO：ENAM，：ESAL，：EJOB 2 FROM EMP 3 EMPNO =：ENUM BONUS = ESAL / 10 ......
</pre><p>虽然它可能令人困惑，但您可以为主机变量提供与Oracle表或列相同的名称，如以下示例所示：</p><pre class="oac_no_warn" dir="ltr">*声明主变量。EXEC SQL BEGIN DECLARE SECTION INTEGER * 4 ENUM CHARACTER * 10 ENAM REAL * 4 ESAL EXEC SQL END DECLARE SECTION ...EXEC SQL SELECT ENAME，SAL 1 INTO：ENAM，：ESAL 2来自EMP 3，其中EMPNO =：ENUM</pre></div><a id="ZZFOR147"></a><div class="props_rev_3"><a id="GUID-7F658F31-F2A3-4BE9-880F-4EF6F7F7C682" name="GUID-7F658F31-F2A3-4BE9-880F-4EF6F7F7C682"></a><h4 id="ZZFOR-GUID-7F658F31-F2A3-4BE9-880F-4EF6F7F7C682" class="sect4"><span class="enumeration_section">1.6.1</span>限制</h4>
                  <div>
                     <p>主机变量不能替换SQL语句中的列，表或其他Oracle对象，也不能是Oracle保留字。有关<a href="../zzpre/Oracle-reserved-words-keywords-namespaces.html#ZZPRE-GUID-7ECD5BA3-BDE2-4729-9430-CD41F06745F5" target="_blank">Oracle</a>保留字和关键字的列表，请参阅<a href="../zzpre/Oracle-reserved-words-keywords-namespaces.html#ZZPRE-GUID-7ECD5BA3-BDE2-4729-9430-CD41F06745F5" target="_blank">Oracle保留字，关键字和命名空间</a> 。
                     </p>
                  </div>
               </div>
            </div><a id="ZZFOR148"></a><div class="props_rev_3"><a id="GUID-6DF12FC0-20F3-4492-9DF9-A1D9B4C06B4B" name="GUID-6DF12FC0-20F3-4492-9DF9-A1D9B4C06B4B"></a><h3 id="ZZFOR-GUID-6DF12FC0-20F3-4492-9DF9-A1D9B4C06B4B" class="sect3"><span class="enumeration_section">1.7</span>指标变量</h3>
               <div>
                  <p>您可以使用指示符变量向Oracle提供有关主机变量状态的信息，或监视从Oracle返回的数据的状态。指示符变量始终与主变量相关联。</p>
                  <p>您可以在VALUES或SET子句中使用指示符变量将空值分配给输入主变量，并在INTO子句中使用指示变量来检测输出主变量中的空值或截断值。</p>
               </div><a id="ZZFOR149"></a><div class="props_rev_3"><a id="GUID-57BE50F7-47D4-4385-875A-05E3BF9592D5" name="GUID-57BE50F7-47D4-4385-875A-05E3BF9592D5"></a><h4 id="ZZFOR-GUID-57BE50F7-47D4-4385-875A-05E3BF9592D5" class="sect4"><span class="enumeration_section">1.7.1</span>声明指标变量</h4>
                  <div>
                     <p>必须在Declare Section中将指示符变量显式声明为2字节整数（INTEGER * 2），并且不能是Oracle保留字。在以下示例中，您声明了两个指示符变量（名称IESAL和IECOM是任意的）：</p><pre class="oac_no_warn" dir="ltr">*声明主机和指标变量。EXEC SQL BEGIN DECLARE SECTION INTEGER * 4 ENUM CHARACTER * 10 ENAM REAL * 4 ESAL REAL * 4 ECOM INTEGER * 2 IESAL INTEGER * 2 IECOM EXEC SQL END DECLARE SECTION</pre><p>您可以在Declare Section中的任何位置定义指示符变量。它不需要遵循其关联的主变量。</p>
                  </div>
               </div><a id="ZZFOR150"></a><div class="props_rev_3"><a id="GUID-48C9F138-3D24-4D72-A695-3FC924D05998" name="GUID-48C9F138-3D24-4D72-A695-3FC924D05998"></a><h4 id="ZZFOR-GUID-48C9F138-3D24-4D72-A695-3FC924D05998" class="sect4"><span class="enumeration_section">1.7.2</span>关于引用指标变量</h4>
                  <div>
                     <p>在SQL语句中，指示符变量必须以冒号为前缀并附加到其关联的主变量。在FORTRAN语句中，指示符变量<span class="italic">不能</span>以冒号为前缀或附加到其关联的主变量。一个例子如下：</p><pre class="oac_no_warn" dir="ltr">*检索员工数据。EXEC SQL SELECT SAL，COMM 1 INTO：ESAL，：ECOM：IECOM 2 FROM EMP 3 WHERE EMPNO =：ENUM *当指标变量等于-1时，其关联的*主变量为空。IF（IECOM。EQ。 -1）然后支付= ESAL ELSE PAY = ESAL + ECOM END IF</pre><p>为了提高可读性，可以在任何指示符变量之前加上可选关键字INDICATOR。您仍必须使用冒号为指示符变量添加前缀。正确的语法是</p><pre class="oac_no_warn" dir="ltr">：&lt;host_variable&gt; INDICATOR：&lt;indicator_variable&gt;</pre><p>，相当于</p><pre class="oac_no_warn" dir="ltr">：&lt;host_variable&gt;：&lt;indicator_variable&gt;</pre><p>您可以在宿主程序中使用表达式的两种形式。</p>
                  </div>
               </div><a id="ZZFOR151"></a><div class="props_rev_3"><a id="GUID-54237EE0-DE7B-4B35-9DAC-1DEAE457157F" name="GUID-54237EE0-DE7B-4B35-9DAC-1DEAE457157F"></a><h4 id="ZZFOR-GUID-54237EE0-DE7B-4B35-9DAC-1DEAE457157F" class="sect4"><span class="enumeration_section">1.7.3</span>限制</h4>
                  <div>
                     <p>指示符变量不能在WHERE子句中用于搜索空值。例如，以下DELETE语句在运行时触发Oracle错误：</p><pre class="oac_no_warn" dir="ltr">*设置指标变量。IECOM = -1 EXEC SQL DELETE FROM EMP WHERE COMM =：ECOM：IECOM</pre><p>正确的语法如下：</p><pre class="oac_no_warn" dir="ltr">EXEC SQL DELETE FROM EMP WHERE COMM为NULL</pre></div>
               </div><a id="ZZFOR152"></a><div class="props_rev_3"><a id="GUID-2F85B6FD-B4D1-4CF0-86C0-15042DD8CA58" name="GUID-2F85B6FD-B4D1-4CF0-86C0-15042DD8CA58"></a><h4 id="ZZFOR-GUID-2F85B6FD-B4D1-4CF0-86C0-15042DD8CA58" class="sect4"><span class="enumeration_section">1.7.4</span> Oracle限制</h4>
                  <div>
                     <p>当DBMS = V6时，如果SELECT或FETCH将null转换为与指示符变量无关的主变量，则Oracle不会发出错误。但是，当DBMS = V7时，如果SELECT或FETCH将null转换为没有指示符的主机变量，Oracle会发出以下错误消息：</p><pre class="oac_no_warn" dir="ltr">ORA-01405：获取的列值为NULL</pre><p>使用MODE = ORACLE和DBMS = V7进行预编译时，可以通过在命令行上指定UNSAFE_NULL = YES来禁用ORA-01405消息。有关更多信息，请参阅<a href="../zzpre/running-Oracle-precompilers.html#ZZPRE-GUID-9BD762BA-BFF8-4B91-8188-8D5E64ADF6A7" target="_blank">UNSAFE_NULL</a> 。</p>
                  </div>
               </div><a id="ZZFOR153"></a><div class="props_rev_3"><a id="GUID-C428E4F4-655C-4518-B905-A2167197472C" name="GUID-C428E4F4-655C-4518-B905-A2167197472C"></a><h4 id="ZZFOR-GUID-C428E4F4-655C-4518-B905-A2167197472C" class="sect4"><span class="enumeration_section">1.7.5</span> ANSI要求</h4>
                  <div>
                     <p>当MODE = ORACLE时，如果SELECT或FETCH将截断的列值转换为与指示符变量无关的主变量，Oracle会发出以下错误消息：</p><pre class="oac_no_warn" dir="ltr">ORA-01406：获取的列值被截断</pre><p>但是，当MODE = {ANSI | ANSI14 | ANSI13}时，不会生成错误。指标变量的值在<a href="../zzpre/meeting-program-requirements.html#ZZPRE-GUID-ED71BADE-AF94-4074-B4B1-140E03903E88" target="_blank">会议计划要求</a>中讨论。
                     </p>
                  </div>
               </div>
            </div><a id="ZZFOR154"></a><div class="props_rev_3"><a id="GUID-E5D4F976-D222-49D9-864B-ABB758BFF1BE" name="GUID-E5D4F976-D222-49D9-864B-ABB758BFF1BE"></a><h3 id="ZZFOR-GUID-E5D4F976-D222-49D9-864B-ABB758BFF1BE" class="sect3"><span class="enumeration_section">1.8</span>主机阵列</h3>
               <div>
                  <p>主机阵列可以通过使用单个SQL语句操作整个数据项集合来提高性能。除了少数例外，您可以在允许标量主机变量的任何地方使用主机阵列。并且，您可以将指标数组与任何主机数组相关联。</p>
               </div><a id="ZZFOR155"></a><div class="props_rev_3"><a id="GUID-01F124DA-E77E-4789-B8AE-350C4F04280E" name="GUID-01F124DA-E77E-4789-B8AE-350C4F04280E"></a><h4 id="ZZFOR-GUID-01F124DA-E77E-4789-B8AE-350C4F04280E" class="sect4"><span class="enumeration_section">1.8.1</span>关于声明主机阵列</h4>
                  <div>
                     <p>您在Declare Section中声明和维度主机数组。在以下示例中，声明了三个主机数组，每个主机数组的上限维度为50（下限默认为1）：</p><pre class="oac_no_warn" dir="ltr">*声明和维度主机数组。EXEC SQL BEGIN DECLARE SECTION INTEGER * 4 ENUM（50）CHARACTER * 10 ENAM（50）REAL * 4 ESAL（50）EXEC SQL END DECLARE SECTION</pre></div>
               </div><a id="ZZFOR156"></a><div class="props_rev_3"><a id="GUID-C45BEB04-AD38-48E0-9455-3E1A9BC110DA" name="GUID-C45BEB04-AD38-48E0-9455-3E1A9BC110DA"></a><h4 id="ZZFOR-GUID-C45BEB04-AD38-48E0-9455-3E1A9BC110DA" class="sect4"><span class="enumeration_section">1.8.2</span>限制</h4>
                  <div>
                     <p>您无法为主机阵列指定较低的维度范围。例如，以下声明<span class="italic">无效</span> ：</p><pre class="oac_no_warn" dir="ltr">*主机阵列EXEC SQL BEGIN DECLARE SECTION的尺寸无效......REAL * 4 VECTOR（0:10）EXEC SQL END DECLARE SECTION</pre><p>多维阵列的主机是<span class="italic">不允许</span>的。因此，以下示例中声明的二维主机数组<span class="italic">无效</span> ：</p><pre class="oac_no_warn" dir="ltr">*无效的主机数组声明EXEC SQL BEGIN DECLARE SECTION ...REAL * 4 MATRIX（50,100）EXEC SQL END DECLARE SECTION</pre><p>您不能使用FORTRAN DIMENSION语句标注主机数组。例如，以下用法<span class="italic">无效</span> ：</p><pre class="oac_no_warn" dir="ltr">*无效使用DIMENSION语句EXEC SQL BEGIN DECLARE SECTION REAL * 4 ESAL REAL * 4 ECOM DIMENSION ESAL（50），ECOM（50）EXEC SQL END DECLARE SECTION</pre><p>此外，您无法在COMMON语句中标注主机数组的大小。</p>
                  </div>
               </div><a id="ZZFOR157"></a><div class="props_rev_3"><a id="GUID-B6308AE3-4B43-4942-8F77-B8E1F6D91177" name="GUID-B6308AE3-4B43-4942-8F77-B8E1F6D91177"></a><h4 id="ZZFOR-GUID-B6308AE3-4B43-4942-8F77-B8E1F6D91177" class="sect4"><span class="enumeration_section">1.8.3</span>关于引用主机阵列</h4>
                  <div>
                     <p>如果在单个SQL语句中使用多个主机数组，则它们的维度应相同。但是，这不是必需的，因为Pro * FORTRAN预编译器始终使用SQL操作的<span class="italic">最小</span>维度。在以下示例中，仅插入了50行：</p><pre class="oac_no_warn" dir="ltr">*声明主机阵列。EXEC SQL BEGIN DECLARE SECTION INTEGER * 4 ENUM（100）CHARACTER * 10 ENAM（100）INTEGER * 4 DNUM（100）REAL * 4 ECOM（50）EXEC SQL END DECLARE SECTION ...*在此处填充主机阵列。...EXEC SQL INSERT INTO EMP（EMPNO，ENAME，COMM，DEPTNO）1 VALUES（：ENUM，：ENAM，：ECOM，：DNUM）</pre><p>主机数组<span class="italic">不能</span>在SQL语句中下标。例如，以下INSERT语句无效：</p><pre class="oac_no_warn" dir="ltr">*声明主机阵列。EXEC SQL BEGIN DECLARE SECTION INTEGER * 4 ENUM（50）REAL * 4 ESAL（50）INTEGER * 4 DNUM（50）EXEC SQL END DECLARE SECTION ...DO 200 J = 1,50 *无效使用主机阵列EXEC SQL INSERT INTO EMP（EMPNO，SAL，DEPTNO）1 VALUES（：ENUM（J）,: ESAL（J），：DNUM（J））200 CONTINUE</pre><p>您无需在循环中处理主机阵列。而是在SQL语句中使用未订阅的数组名称。Oracle将包含维度<span class="italic">n的</span>主机数组的SQL语句视为使用<span class="italic">n个</span>不同标量变量执行<span class="italic">n</span>次的相同语句。有关更多信息，请参阅<a href="../zzpre/using-host-arrays.html#ZZPRE-GUID-F8DD2840-4F8C-4093-A4F9-51C9FE9FA59F" target="_blank">使用主机阵列</a> 。
                     </p>
                  </div>
               </div><a id="ZZFOR158"></a><div class="props_rev_3"><a id="GUID-21540F86-9FE5-424C-AC0F-CFDB27BD1CCC" name="GUID-21540F86-9FE5-424C-AC0F-CFDB27BD1CCC"></a><h4 id="ZZFOR-GUID-21540F86-9FE5-424C-AC0F-CFDB27BD1CCC" class="sect4"><span class="enumeration_section">1.8.4</span>关于使用指标数组</h4>
                  <div>
                     <p>您可以使用指示符数组为输入主机数组分配空值，并检测输出主机数组中的空值或截断值。以下示例显示如何使用指示符数组进行INSERT：</p><pre class="oac_no_warn" dir="ltr">*声明主机和指示器阵列。EXEC SQL BEGIN DECLARE SECTION INTEGER * 4 ENUM（50）INTEGER * 4 DNUM（50）REAL * 4 ECOM（50）INTEGER * 2 IECOM（50） - 指标数组EXEC SQL END DECLARE SECTION ...*填充主机和指示器阵列。要将* null插入COMM列，请将-1分配给指示符数组中的* proper元素。...EXEC SQL INSERT INTO EMP（EMPNO，DEPTNO，COMM）1 VALUES（：ENUM，：DNUM，：ECOM：IECOM）</pre><p>指标数组的维度必须大于或等于主机数组的维度。</p>
                  </div>
               </div>
            </div><a id="ZZFOR159"></a><div class="props_rev_3"><a id="GUID-FA24E636-1372-40B5-A6CC-2AC54B5BFD60" name="GUID-FA24E636-1372-40B5-A6CC-2AC54B5BFD60"></a><h3 id="ZZFOR-GUID-FA24E636-1372-40B5-A6CC-2AC54B5BFD60" class="sect3"><span class="enumeration_section">1.9</span> VARCHAR主机变量</h3>
               <div>
                  <p>FORTRAN字符串数据类型具有固定长度。但是，Pro * FORTRAN允许您声明一个名为VARCHAR的可变长度字符串假型。</p>
               </div><a id="ZZFOR160"></a><div class="props_rev_3"><a id="GUID-EA310150-6B02-438A-82FA-BB42C10CF644" name="GUID-EA310150-6B02-438A-82FA-BB42C10CF644"></a><h4 id="ZZFOR-GUID-EA310150-6B02-438A-82FA-BB42C10CF644" class="sect4"><span class="enumeration_section">1.9.1</span>关于声明VARCHAR变量</h4>
                  <div>
                     <p>VARCHAR是使用语法声明的三个变量的集合</p><pre class="oac_no_warn" dir="ltr">*声明VARCHAR。 EXEC SQL BEGIN DECLARE SECTION VARCHAR * &lt;n&gt; &lt;VARNAM&gt;，&lt;VARLEN&gt;，&lt;VARARR&gt; EXEC SQL END DECLARE SECTION</pre><p>哪里：</p><pre class="oac_no_warn" dir="ltr">ñ</pre><p>是VARCHAR的最大长度; <span class="italic">n</span>必须在1到32765的范围内。
                     </p><pre class="oac_no_warn" dir="ltr">VARNAM</pre><p>是用于在SQL语句中引用VARCHAR的名称;它被称为<span class="italic">聚合名称，</span>因为它标识了一组变量。
                     </p><pre class="oac_no_warn" dir="ltr">VARLEN</pre><p>是一个2字节有符号整数变量，用于存储字符串变量的实际长度。</p><pre class="oac_no_warn" dir="ltr">VARARR</pre><p>是FORTRAN语句中使用的字符串变量。</p>
                     <p>使用VARCHAR变量的优点是您可以显式设置和引用VARLEN。对于输入主变量，Oracle读取VARLEN的值并使用相同数量的VARARR字符。对于输出主机变量，Oracle将VARLEN设置为VARARR中存储的字符串的长度。</p>
                     <p>您只能在Declare Section中声明VARCHAR。在以下示例中，您声明一个名为EJOB的VARCHAR，其最大长度为15个字符：</p><pre class="oac_no_warn" dir="ltr">*声明VARCHAR。 EXEC SQL BEGIN DECLARE SECTION ...VARCHAR * 15 EJOB，EJOBL，EJOBA EXEC SQL END DECLARE SECTION</pre><p>预编译器将此声明扩展为</p><pre class="oac_no_warn" dir="ltr">*扩展VARCHAR声明INTEGER * 2 EJOBL LOGICAL * 1 EJOBA（15）INTEGER * 2 SQXXX（2）EQUIVALENCE（SQXXX（1），EJOBL），（SQXXX（2），EJOBA（1））</pre><p>其中SQXXX是预编译器生成的数组，XXX表示三个任意字符。请注意，未声明聚合名称EJOB。EQUIVALENCE语句强制编译器连续存储EJOBL和EJOBA。</p>
                  </div>
               </div><a id="ZZFOR161"></a><div class="props_rev_3"><a id="GUID-4FFC5D67-8620-4AE3-BFF4-61695E0DFC4A" name="GUID-4FFC5D67-8620-4AE3-BFF4-61695E0DFC4A"></a><h4 id="ZZFOR-GUID-4FFC5D67-8620-4AE3-BFF4-61695E0DFC4A" class="sect4"><span class="enumeration_section">1.9.2</span>关于引用VARCHAR变量</h4>
                  <div>
                     <p>在SQL语句中，您可以使用前缀为冒号的聚合名称来引用VARCHAR变量，如以下示例所示：</p><pre class="oac_no_warn" dir="ltr">*声明主变量。EXEC SQL BEGIN DECLARE SECTION ...INTEGER * 4 ENUM VARCHAR * 15 EJOB，EJOBL，EJOBA EXEC SQL END DECLARE SECTION ...EXEC SQL SELECT JOB 1 INTO：EJOB 2 FROM EMP 3 WHERE EMPNO =：ENUM</pre><p>执行查询后，EJOBL保存从数据库中检索并存储在EJOBA中的字符串的实际长度。在FORTRAN语句中，您使用length变量和字符串变量名称引用VARCHAR变量，如下例所示：</p><pre class="oac_no_warn" dir="ltr">*显示职位。WRITE（*，5200）（EJOBA（J），J = 1，EJOBL）5200格式（15A1）......
</pre></div>
               </div><a id="ZZFOR162"></a><div class="props_rev_3"><a id="GUID-5F4DF79A-F550-4B86-8DDF-2F26895FE9E3" name="GUID-5F4DF79A-F550-4B86-8DDF-2F26895FE9E3"></a><h4 id="ZZFOR-GUID-5F4DF79A-F550-4B86-8DDF-2F26895FE9E3" class="sect4"><span class="enumeration_section">1.9.3</span>关于克服长度限制</h4>
                  <div>
                     <p>回想一下，VARCHAR的长度变量必须是2字节整数。FORTRAN提供2字节有符号整数数据类型，可以表示-32768到32767范围内的数字。但是，FORTRAN缺少2字节<span class="italic">无符号</span>整数数据类型，它可以表示0到65535范围内的数字。因此，VARCHAR字符串的最大长度为32765字节（32767减去长度变量的2）。
                     </p>
                     <p>对于其他主机语言，VARCHAR字符串的最大长度为65533字节。如果要使用65533字节的VARCHAR变量，请尝试以下示例中显示的技术：</p><pre class="oac_no_warn" dir="ltr">*声明VARCHAR。 EXEC SQL BEGIN DECLARE SECTION ...VARCHAR * 65533 BUF，BUFL，BUFA EXEC SQL END DECLARE SECTION ...*等价两个2字节整数到一个4字节整数。INTEGER * 2 INT2（2）INTEGER * 4 INT4 EQUIVALENCE（INT2（1），INT4）INTEGER * 4 I ...INT4 = 65533 *将VARCHAR长度变量设置为等于INT4的等效值。BUFL = INT2（1）DO 100 I = 1,65533 BUFA（I）= 32 100继续EXEC SQL插入长时间值（：BUF）...BUFL = 0 EXEC SQL SELECT COL1 INTO：BUF FROM LONG_TABLE INT2（1）= BUFL ...
</pre><div class="infoboxnote" id="GUID-5F4DF79A-F550-4B86-8DDF-2F26895FE9E3__GUID-660628BF-AB67-47A1-89AC-AE49BECCB4E8">
                        <p class="notep1">注意：</p>
                        <p>存储整数的方式因系统而异。在某些系统中，最低有效位存储在低地址;在其他系统上，它们存储在高地址。在最后一个示例中，这确定长度是存储在INT2（1）还是INT2（2）中。</p>
                     </div>
                  </div>
               </div>
            </div><a id="ZZFOR163"></a><div class="props_rev_3"><a id="GUID-93D22B55-7110-484C-A48C-1633CF8EBFB8" name="GUID-93D22B55-7110-484C-A48C-1633CF8EBFB8"></a><h3 id="ZZFOR-GUID-93D22B55-7110-484C-A48C-1633CF8EBFB8" class="sect3"><span class="enumeration_section">1.10</span>关于处理字符数据</h3>
               <div>
                  <p>本节介绍Pro * FORTRAN预编译器如何处理字符主机变量。有两种类型的字符宿主变量：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>字符* <span class="italic">n</span></p>
                     </li>
                     <li>
                        <p>VARCHAR</p>
                     </li>
                  </ul>
                  <p>不要将VARCHAR（它是预编译器提供的主机变量数据结构）与VARCHAR2混淆，VARCHAR2是可变长度字符串的Oracle列数据类型。</p>
               </div><a id="ZZFOR164"></a><div class="props_rev_3"><a id="GUID-8467FC0E-292A-4739-AD7A-F79E79D0A026" name="GUID-8467FC0E-292A-4739-AD7A-F79E79D0A026"></a><h4 id="ZZFOR-GUID-8467FC0E-292A-4739-AD7A-F79E79D0A026" class="sect4"><span class="enumeration_section">1.10.1</span> MODE选项的效果</h4>
                  <div>
                     <p>MODE选项具有以下效果：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>它确定Pro * FORTRAN预编译器如何处理字符数组和字符串中的数据。MODE选项允许程序使用ANSI固定长度字符串或保持与以前版本的Oracle Server和Pro * FORTRAN预编译器的兼容性。</p>
                        </li>
                        <li>
                           <p>关于字符处理，MODE = {ANSI14 | ANSI13}等同于MODE = ORACLE。 MODE选项影响输入（从主机变量到Oracle）和输出（从Oracle到主变量）的字符数据。</p>
                        </li>
                     </ul>
                     <div class="infoboxnote" id="GUID-8467FC0E-292A-4739-AD7A-F79E79D0A026__GUID-3F53C240-2D4F-4624-A2B8-1D43FE0A1058">
                        <p class="notep1">注意：</p>
                        <p>MODE选项不影响Pro * FORTRAN处理VARCHAR主变量的方式。</p>
                     </div>
                  </div>
               </div><a id="ZZFOR165"></a><div class="props_rev_3"><a id="GUID-BA4B1207-C096-4CBA-872B-20BDC4BEE52A" name="GUID-BA4B1207-C096-4CBA-872B-20BDC4BEE52A"></a><h4 id="ZZFOR-GUID-BA4B1207-C096-4CBA-872B-20BDC4BEE52A" class="sect4"><span class="enumeration_section">1.10.2</span>字符* <span class="italic">n</span></h4>
                  <div>
                     <p>使用CHARACTER * <span class="italic">n</span>数据类型声明字符变量。这些类型的变量根据其作为输入或输出变量的角色处理字符数据。
                     </p>
                  </div>
               </div><a id="ZZFOR166"></a><div class="props_rev_3"><a id="GUID-86E4769D-A646-46D5-A966-7E7AC504D0ED" name="GUID-86E4769D-A646-46D5-A966-7E7AC504D0ED"></a><h4 id="ZZFOR-GUID-86E4769D-A646-46D5-A966-7E7AC504D0ED" class="sect4"><span class="enumeration_section">1.10.3</span>输入</h4>
                  <div>
                     <p>当MODE = ORACLE时，程序接口会在将值发送到数据库之前删除尾随空白。如果插入到固定长度的CHAR列中，Oracle会将尾随空白重新附加到数据库列的长度。但是，如果插入到可变长度VARCHAR2列中，Oracle永远不会添加空格。</p>
                     <p>当MODE = ANSI时，永远不会剥离尾随空白。</p>
                     <p>确保输入值不会被无关字符追踪。例如，空值不会被剥离并插入到数据库中。通常，这不是问题，因为当一个值读入或赋值给CHARACTER * <span class="italic">n</span>变量时，FORTRAN会将空白追加到变量的长度。
                     </p>
                     <p>以下示例说明了这一点：</p><pre class="oac_no_warn" dir="ltr">*声明主机变量EXEC SQL BEGIN DECLARE SECTION CHARACTER ENAM * 10，EJOB * 8 ...EXEC SQL END DECLARE SECTION ...WRITE（*，300）300 FORMAT（/，'$员工姓名？'）*假设输入名称'MILLER'READ（*，400）400 FORMAT（A10）EJOB ='SALES'EXEC SQL INSERT INTO emp（empno，ename，deptno，job）VALUES（1234，：ENAM，20， ：EJOB）</pre><p>如果使用MODE = ORACLE预编译最后一个示例且目标数据库列为VARCHAR2，程序接口将删除输入上的尾随空白，并将6个字符的字符串“MILLER”和5个字符的字符串“SALES”插入到数据库中。但是，如果目标数据库列为CHAR，则字符串将填充为列的宽度。</p>
                     <p>如果使用MODE = ANSI预编译最后一个示例并且JOB列定义为CHAR（10），则插入该列的值为“SALES #####”（五个尾随空白）。但是，如果JOB列定义为VARCHAR2（10），则插入的值为“SALES ###”（三个尾随空格），因为主机变量是CHARACTER * 8。这可能不是你想要的，所以要小心。</p>
                  </div>
               </div><a id="ZZFOR167"></a><div class="props_rev_3"><a id="GUID-D1E33DE1-E249-4DC2-9F13-9304ACD5F215" name="GUID-D1E33DE1-E249-4DC2-9F13-9304ACD5F215"></a><h4 id="ZZFOR-GUID-D1E33DE1-E249-4DC2-9F13-9304ACD5F215" class="sect4"><span class="enumeration_section">1.10.4</span>关于输出</h4>
                  <div>
                     <p>MODE选项对字符变量的输出没有影响。当您使用CHARACTER * <span class="italic">n</span>变量作为输出主变量时，Oracle将其填空。在我们的示例中，当您的程序从数据库中获取字符串“MILLER”时，ENAM包含值“MILLER ####”（带有四个尾随空格）。可以不加更改地使用此字符串作为另一个SQL语句的输入。
                     </p>
                  </div>
               </div><a id="ZZFOR168"></a><div class="props_rev_3"><a id="GUID-19733687-EAFA-44B8-B16B-37C21BF276C2" name="GUID-19733687-EAFA-44B8-B16B-37C21BF276C2"></a><h4 id="ZZFOR-GUID-19733687-EAFA-44B8-B16B-37C21BF276C2" class="sect4"><span class="enumeration_section">1.10.5</span> VARCHAR变量</h4>
                  <div>
                     <p>VARCHAR变量根据其作为输入或输出变量的角色处理字符数据</p>
                  </div>
               </div><a id="ZZFOR169"></a><div class="props_rev_3"><a id="GUID-E5B92083-0F7A-4236-B845-750872EE670C" name="GUID-E5B92083-0F7A-4236-B845-750872EE670C"></a><h4 id="ZZFOR-GUID-E5B92083-0F7A-4236-B845-750872EE670C" class="sect4"><span class="enumeration_section">1.10.6</span>输入</h4>
                  <div>
                     <p>当您使用VARCHAR变量作为输入主变量时，您的程序必须为长度和字符串变量赋值，如以下示例所示：</p><pre class="oac_no_warn" dir="ltr">*声明主变量。EXEC SQL BEGIN DECLARE SECTION INTEGER * 4 ENUM VARCHAR * 15 EJOB，EJOBL，EJOBA INTEGER * 2 IEJOB INTEGER * 4 DNUM EXEC SQL END DECLARE SECTION ...WRITE（*，4300）4300 FORMAT（/，'输入职位名称：'）READ（*，4400）EJOBA 4400 FORMAT（15A1）*向后扫描最后一个非空白字符，然后*设置长度到该位置。如果输入全部为空，则将指示符变量设置为-1以指示空值。DO 5000 J = 15,1，-1 IF（EJOBA（J）。NE。 ''）GOTO 5100 5000续J = 0 5100 IF（J。EQ。 0）那么IEJOB = -1 ELSE IEJOB = 0 END如果EJOBL = J EXEC SQL INSERT INTO EMP（EMPNO，JOB，DEPTNO）1 VALUES（：ENUM，：EJOB：IEJOB，：DNUM）</pre></div>
               </div><a id="ZZFOR170"></a><div class="props_rev_3"><a id="GUID-8CD3414C-6945-419E-A6C8-4165065AA7BA" name="GUID-8CD3414C-6945-419E-A6C8-4165065AA7BA"></a><h4 id="ZZFOR-GUID-8CD3414C-6945-419E-A6C8-4165065AA7BA" class="sect4"><span class="enumeration_section">1.10.7</span>关于输出</h4>
                  <div>
                     <p>当您使用VARCHAR变量作为输出主变量时，Oracle会设置长度变量。一个例子如下：</p><pre class="oac_no_warn" dir="ltr">*声明主变量。EXEC SQL BEGIN DECLARE SECTION INTEGER * 4 ENUM VARCHAR * 15 EJOB，EJOBL，EJOBA INTEGER * 4 ESAL EXEC SQL END DECLARE SECTION ...EXEC SQL SELECT JOB，SAL INTO：EJOB，：ESAL from EMP 1 WHERE EMPNO =：ENUM ...如果（EJOBL。EQ。 0）GOTO .........
</pre><p>VARCHAR变量优于固定长度字符串的一个优点是Oracle返回的值的长度可立即获得。对于固定长度的字符串，要获取值的长度，程序必须计算字符数。（内部函数LEN返回包含空格的字符串的长度，而不是其当前长度。）</p>
                  </div>
               </div>
            </div><a id="ZZFOR171"></a><div class="props_rev_3"><a id="GUID-B567760E-18C0-4C00-A520-68F64507591A" name="GUID-B567760E-18C0-4C00-A520-68F64507591A"></a><h3 id="ZZFOR-GUID-B567760E-18C0-4C00-A520-68F64507591A" class="sect3"><span class="enumeration_section">1.11</span> Oracle数据类型</h3>
               <div>
                  <div class="section">
                     <p>Oracle识别两种数据类型： <span class="italic">内部</span>和<span class="italic">外部</span> 。内部数据类型指定Oracle如何在数据库列中存储数据。Oracle还使用内部数据类型来表示数据库伪列。外部数据类型指定数据在主机变量中的存储方式。有关Oracle数据类型的描述，请参阅<a href="../zzpre/meeting-program-requirements.html#ZZPRE-GUID-9F34D892-C67C-4567-94C6-E402BB079FA8" target="_blank">Oracle数据类型</a> 。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div><a id="ZZFOR172"></a><div class="props_rev_3"><a id="GUID-5F562403-E83D-4736-AFE2-B5E1898535AC" name="GUID-5F562403-E83D-4736-AFE2-B5E1898535AC"></a><h4 id="ZZFOR-GUID-5F562403-E83D-4736-AFE2-B5E1898535AC" class="sect4"><span class="enumeration_section">1.11.1</span>内部数据类型</h4>
                  <div>
                     <div class="section">
                        <p>对于存储在数据库列中的值，Oracle使用以下内部数据类型：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-5F562403-E83D-4736-AFE2-B5E1898535AC__GUID-8BB7A82E-87E9-4EDA-9EAC-A270ADE08CB5">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="name" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="33%" id="d1790e2408">名称</th>
                                 <th align="left" valign="bottom" width="33%" id="d1790e2411">码</th>
                                 <th align="left" valign="bottom" width="33%" id="d1790e2414">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d1790e2419" headers="d1790e2408 ">
                                    <p>CHAR</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2419 d1790e2411 ">
                                    <p>96</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2419 d1790e2414 ">
                                    <p>&lt;= 255字节，固定长度的字符串</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d1790e2429" headers="d1790e2408 ">
                                    <p>日期</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2429 d1790e2411 ">
                                    <p>12</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2429 d1790e2414 ">
                                    <p>7字节，固定长度的日期/时间值</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d1790e2439" headers="d1790e2408 ">
                                    <p>长</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2439 d1790e2411 ">
                                    <p>8</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2439 d1790e2414 ">
                                    <p>&lt;= 2147483647-byte，可变长度字符串</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d1790e2449" headers="d1790e2408 ">
                                    <p>LONG RAW</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2449 d1790e2411 ">
                                    <p>24</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2449 d1790e2414 ">
                                    <p>&lt;= 2147483647字节，可变长度的二进制数据</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d1790e2459" headers="d1790e2408 ">
                                    <p>MLSLABEL</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2459 d1790e2411 ">
                                    <p>105</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2459 d1790e2414 ">
                                    <p>&lt;= 5字节，可变长度的二进制标签</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d1790e2469" headers="d1790e2408 ">
                                    <p>数</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2469 d1790e2411 ">
                                    <p>2</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2469 d1790e2414 ">
                                    <p>固定或浮点数</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d1790e2479" headers="d1790e2408 ">
                                    <p>生的</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2479 d1790e2411 ">
                                    <p>23</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2479 d1790e2414 ">
                                    <p>&lt;= 255字节，可变长度的二进制数据</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d1790e2489" headers="d1790e2408 ">
                                    <p>ROWID</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2489 d1790e2411 ">
                                    <p>11</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2489 d1790e2414 ">
                                    <p>固定长度的二进制值</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d1790e2499" headers="d1790e2408 ">
                                    <p>VARCHAR2</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2499 d1790e2411 ">
                                    <p>1</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2499 d1790e2414 ">
                                    <p>&lt;= 2000字节，可变长度字符串</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p>表1-5。内部数据类型</p>
                        <p>这些内部数据类型可能与FORTRAN数据类型完全不同。例如，FORTRAN与NUMBER数据类型不同，后者专为可移植性和高精度而设计。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ZZFOR173"></a><div class="props_rev_3"><a id="GUID-78F35FF5-A485-4861-AE4D-0C2E24915214" name="GUID-78F35FF5-A485-4861-AE4D-0C2E24915214"></a><h4 id="ZZFOR-GUID-78F35FF5-A485-4861-AE4D-0C2E24915214" class="sect4"><span class="enumeration_section">1.11.2</span>外部数据类型</h4>
                  <div>
                     <div class="section">
                        <p>如下表所示，外部数据类型包括所有内部数据类型以及在其他支持的主机语言中找到的几种数据类型。例如，STRING外部数据类型引用C以null结尾的字符串。您在数据类型等效中使用数据类型名称，并在动态SQL方法4中使用数据类型代码。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-78F35FF5-A485-4861-AE4D-0C2E24915214__GUID-ED404512-C40F-4E71-8A8F-F35F61ABC088">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="name" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="33%" id="d1790e2545">名称</th>
                                 <th align="left" valign="bottom" width="33%" id="d1790e2548">码</th>
                                 <th align="left" valign="bottom" width="33%" id="d1790e2551">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d1790e2556" headers="d1790e2545 ">
                                    <p>CHAR</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2556 d1790e2548 ">
                                    <p>1 96</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2556 d1790e2551 ">
                                    <p>&lt;= 65535字节，可变长度字符串（1）&lt;= 65535字节，固定长度字符串（1）</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d1790e2566" headers="d1790e2545 ">
                                    <p>CHARF</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2566 d1790e2548 ">
                                    <p>96</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2566 d1790e2551 ">
                                    <p>&lt;= 65535字节，固定长度的字符串</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d1790e2576" headers="d1790e2545 ">
                                    <p>CHARZ</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2576 d1790e2548 ">
                                    <p>97</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2576 d1790e2551 ">
                                    <p>&lt;= 65535-byte，固定长度，以null结尾的字符串（2）</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d1790e2586" headers="d1790e2545 ">
                                    <p>日期</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2586 d1790e2548 ">
                                    <p>12</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2586 d1790e2551 ">
                                    <p>7字节，固定长度的日期/时间值</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d1790e2596" headers="d1790e2545 ">
                                    <p>DECIMAL</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2596 d1790e2548 ">
                                    <p>7</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2596 d1790e2551 ">
                                    <p>COBOL压缩十进制</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d1790e2606" headers="d1790e2545 ">
                                    <p>显示</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2606 d1790e2548 ">
                                    <p>91</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2606 d1790e2551 ">
                                    <p>COBOL数字字符串</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d1790e2616" headers="d1790e2545 ">
                                    <p>浮动</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2616 d1790e2548 ">
                                    <p>4</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2616 d1790e2551 ">
                                    <p>4字节或8字节浮点数</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d1790e2626" headers="d1790e2545 ">
                                    <p>整数</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2626 d1790e2548 ">
                                    <p>3</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2626 d1790e2551 ">
                                    <p>2字节或4字节有符号整数</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d1790e2636" headers="d1790e2545 ">
                                    <p>长</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2636 d1790e2548 ">
                                    <p>8</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2636 d1790e2551 ">
                                    <p>&lt;= 2147483647-byte，固定长度的字符串</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d1790e2646" headers="d1790e2545 ">
                                    <p>LONG RAW</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2646 d1790e2548 ">
                                    <p>24</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2646 d1790e2551 ">
                                    <p>&lt;= 217483647字节，固定长度的二进制数据</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d1790e2656" headers="d1790e2545 ">
                                    <p>LONG VARCHAR</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2656 d1790e2548 ">
                                    <p>94</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2656 d1790e2551 ">
                                    <p>&lt;= 217483643字节，可变长度字符串</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d1790e2667" headers="d1790e2545 ">
                                    <p>LONG VARRAW</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2667 d1790e2548 ">
                                    <p>95</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2667 d1790e2551 ">
                                    <p>&lt;= 217483643字节，可变长度的二进制数据</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d1790e2677" headers="d1790e2545 ">
                                    <p>MLSLABEL</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2677 d1790e2548 ">
                                    <p>106</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2677 d1790e2551 ">
                                    <p>2..5字节，可变长度的二进制数据</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d1790e2687" headers="d1790e2545 ">
                                    <p>数</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2687 d1790e2548 ">
                                    <p>2</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2687 d1790e2551 ">
                                    <p>整数或浮点数</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d1790e2697" headers="d1790e2545 ">
                                    <p>生的</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2697 d1790e2548 ">
                                    <p>23</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2697 d1790e2551 ">
                                    <p>&lt;= 65535字节，固定长度的二进制数据（2）</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d1790e2707" headers="d1790e2545 ">
                                    <p>ROWID</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2707 d1790e2548 ">
                                    <p>11</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2707 d1790e2551 ">
                                    <p>（通常）13字节，固定长度的二进制值</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d1790e2717" headers="d1790e2545 ">
                                    <p>串</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2717 d1790e2548 ">
                                    <p>五</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2717 d1790e2551 ">
                                    <p>&lt;= 65535-byte，以null结尾的字符串（2）</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d1790e2727" headers="d1790e2545 ">
                                    <p>UNSIGNED</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2727 d1790e2548 ">
                                    <p>68</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2727 d1790e2551 ">
                                    <p>2字节或4字节无符号整数</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d1790e2737" headers="d1790e2545 ">
                                    <p>VARCHAR</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2737 d1790e2548 ">
                                    <p>9</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2737 d1790e2551 ">
                                    <p>&lt;= 65533字节，可变长度字符串</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d1790e2747" headers="d1790e2545 ">
                                    <p>VARCHAR2</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2747 d1790e2548 ">
                                    <p>1</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2747 d1790e2551 ">
                                    <p>&lt;= 65535字节，可变长度字符串（2）</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d1790e2757" headers="d1790e2545 ">
                                    <p>VARNUM</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2757 d1790e2548 ">
                                    <p>6</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2757 d1790e2551 ">
                                    <p>可变长度二进制数</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d1790e2767" headers="d1790e2545 ">
                                    <p>VARRAW</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2767 d1790e2548 ">
                                    <p>15</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2767 d1790e2551 ">
                                    <p>&lt;= 65533字节，可变长度的二进制数据</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p><span class="bold">备注</span> ：</p>
                        <ol>
                           <li>
                              <p>当MODE = {ORACLE | ANSI13 | ANSI14}时，CHAR是数据类型1，当MODE = ANSI时，CHAR是数据类型96。</p>
                           </li>
                           <li>
                              <p>某些平台上的最大大小为32767（32K）。</p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="ZZFOR174"></a><div class="props_rev_3"><a id="GUID-B1D58589-9169-4A8B-9B0F-4D4233517784" name="GUID-B1D58589-9169-4A8B-9B0F-4D4233517784"></a><h3 id="ZZFOR-GUID-B1D58589-9169-4A8B-9B0F-4D4233517784" class="sect3"><span class="enumeration_section">1.12</span>数据类型转换</h3>
               <div>
                  <p>在预编译时，将在Declare Section中为每个主机变量分配外部数据类型。例如，预编译器将FLOAT外部数据类型分配给REAL类型的主机变量。在运行时，SQL语句中使用的每个主机变量的数据类型代码都将传递给Oracle。Oracle使用代码在内部和外部数据类型之间进行转换。</p>
                  <p>在将SELECTed列值分配给输出主机变量之前，Oracle必须将源列的内部数据类型转换为主机变量的数据类型。同样，在将输入主机变量的值分配或比较到列之前，Oracle必须将主机变量的外部数据类型转换为目标列的内部数据类型。</p>
                  <p>内部和外部数据类型之间的转换遵循通常的数据转换规则。例如，您可以将CHAR值“1234”转换为INTEGER * 2值。但是，不能将CHAR值“65543”（数字太大）或“10F”（数字不是十进制数）转换为INTEGER * 2值。同样，您无法将包含字母字符的CHARACTER * <span class="italic">n</span>值转换为NUMBER值。
                  </p>
                  <p>有关数据类型转换的详细信息，请参阅<a href="../zzpre/meeting-program-requirements.html#ZZPRE-GUID-ED71BADE-AF94-4074-B4B1-140E03903E88" target="_blank">会议程序要求</a> 。
                  </p>
               </div>
            </div><a id="ZZFOR175"></a><div class="props_rev_3"><a id="GUID-CD1D2DEB-07EE-4DA3-9D27-04FBE0A1F51A" name="GUID-CD1D2DEB-07EE-4DA3-9D27-04FBE0A1F51A"></a><h3 id="ZZFOR-GUID-CD1D2DEB-07EE-4DA3-9D27-04FBE0A1F51A" class="sect3"><span class="enumeration_section">1.13</span>数据类型等价</h3>
               <div>
                  <p>数据类型等效允许您控制Oracle解释输入数据的方式以及Oracle格式化输出数据的方式。您可以在逐个变量的基础上将等效的FORTRAN数据类型支持到Oracle外部数据类型。</p>
               </div><a id="ZZFOR176"></a><div class="props_rev_3"><a id="GUID-AC062C9C-1D5F-4E45-93E8-855FA4B4C79F" name="GUID-AC062C9C-1D5F-4E45-93E8-855FA4B4C79F"></a><h4 id="ZZFOR-GUID-AC062C9C-1D5F-4E45-93E8-855FA4B4C79F" class="sect4"><span class="enumeration_section">1.13.1</span>主机变量等价</h4>
                  <div>
                     <p>默认情况下，Pro * FORTRAN预编译器为每个主机变量分配特定的外部数据类型。默认分配如下表所示。有关数据类型等效的更多信息，请参阅<a href="../zzpre/learning-basics.html#ZZPRE-GUID-FDFE502B-9288-4133-9CE5-7BAEC62C8AB4" target="_blank">数据类型等效</a> 。
                     </p>
                     <div class="tblformal" id="GUID-AC062C9C-1D5F-4E45-93E8-855FA4B4C79F__GUID-5AA3BA8B-53C8-4A69-8E6C-B489D6490950">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="host type" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="33%" id="d1790e2881">主机类型</th>
                                 <th align="left" valign="bottom" width="33%" id="d1790e2884">外部类型</th>
                                 <th align="left" valign="bottom" width="33%" id="d1790e2887">码</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d1790e2892" headers="d1790e2881 ">
                                    <p>BYTE <span class="italic">var</span> LOGICAL <span class="italic">var</span> LOGICAL * 1 <span class="italic">var</span> LOGICAL * 2 <span class="italic">var</span> LOGICAL * 4 <span class="italic">var</span> CHARACTER <span class="italic">var</span> CHARACTER <span class="italic">var</span> * <span class="italic">n</span> CHARACTER * <span class="italic">n var</span> CHARACTER（*） <span class="italic">var</span></p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2892 d1790e2884 ">
                                    <p>VARCHAR2 CHARF</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2892 d1790e2887 ">
                                    <p>1（当MODE！= ANSI）96（当MODE = ANSI时）</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d1790e2932" headers="d1790e2881 ">
                                    <p>VARCHAR * <span class="italic">n</span></p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2932 d1790e2884 ">
                                    <p>VARCHAR</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2932 d1790e2887 ">
                                    <p>9</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d1790e2944" headers="d1790e2881 ">
                                    <p>INTEGER <span class="italic">var</span> INTEGER * 2 <span class="italic">var</span> INTEGER * 4 <span class="italic">var</span></p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2944 d1790e2884 ">
                                    <p>整数</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2944 d1790e2887 ">
                                    <p>3</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d1790e2962" headers="d1790e2881 ">
                                    <p>REAL <span class="italic">var</span> REAL * 4 <span class="italic">var</span> REAL * 8 <span class="italic">var</span> DOUBLE PRECISION <span class="italic">var</span></p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2962 d1790e2884 ">
                                    <p>浮动</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d1790e2962 d1790e2887 ">
                                    <p>4</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>使用VAR语句，您可以通过在Declare部分中将主机变量等效为Oracle外部数据类型来覆盖默认分配。您使用的语法是</p><pre class="oac_no_warn" dir="ltr">EXEC SQL VAR &lt;host_variable&gt; IS &lt;ext_type_name&gt; [（{&lt;length&gt; | &lt;precision&gt;，&lt;scale&gt;}）]</pre><p>其中<span class="italic">host_variable</span>是在Declare Section中先前声明的输入或输出主机变量（或主机数组）， <span class="italic">ext_type_name</span>是有效外部数据类型的名称， <span class="italic">length</span>是指定有效长度（以字节为单位）的整数文字。
                     </p>
                     <p>当<span class="italic">ext_type_name</span>为FLOAT时，使用<span class="italic">length</span> ;当<span class="italic">ext_type_name</span>为DECIMAL时，您必须指定<span class="italic">精度</span>和<span class="italic">比例</span>而不是<span class="italic">长度</span> 。
                     </p>
                     <p>主机变量等效在几个方面很有用。例如，您可以在希望Oracle存储但不解释数据时使用它。假设您要在RAW数据库列中存储4字节整数的主机数组。简单地将主机阵列等同于RAW外部数据类型，如下所示：</p><pre class="oac_no_warn" dir="ltr">EXEC SQL BEGIN DECLARE SECTION INTEGER * 4 ENUM（50）......*将默认数据类型（INTEGER）重置为RAW。 EXEC SQL VAR ENUM是RAW（200）; EXEC SQL END DECLARE SECTION ...
</pre><p>对于主机阵列，指定的长度必须与保存阵列所需的缓冲区大小相匹配。在最后一个示例中，您指定了200的长度，这是保存50个4字节整数所需的缓冲区大小。</p>
                     <p>有关数据类型等效的更多信息，请参阅<a href="../zzpre/learning-basics.html#ZZPRE-GUID-FDFE502B-9288-4133-9CE5-7BAEC62C8AB4" target="_blank">数据类型等效</a> 。
                     </p>
                  </div>
               </div>
            </div><a id="ZZFOR177"></a><div class="props_rev_3"><a id="GUID-39098A75-F8FC-4CAB-91EB-8133B9C4A382" name="GUID-39098A75-F8FC-4CAB-91EB-8133B9C4A382"></a><h3 id="ZZFOR-GUID-39098A75-F8FC-4CAB-91EB-8133B9C4A382" class="sect3"><span class="enumeration_section">1.14</span>嵌入PL / SQL</h3>
               <div>
                  <p>Pro * FORTRAN预编译器将PL / SQL块视为单个嵌入式SQL语句。因此，您可以将PL / SQL块放在可以放置SQL语句的主机程序中的任何位置。</p>
                  <p>要在主机程序中嵌入PL / SQL块，请声明要与PL / SQL共享的变量，并将PL / SQL块与EXEC SQL EXECUTE和END-EXEC关键字括起来。</p>
               </div><a id="ZZFOR178"></a><div class="props_rev_3"><a id="GUID-F0CB742F-8C78-444C-ACCC-1E0423631B52" name="GUID-F0CB742F-8C78-444C-ACCC-1E0423631B52"></a><h4 id="ZZFOR-GUID-F0CB742F-8C78-444C-ACCC-1E0423631B52" class="sect4"><span class="enumeration_section">1.14.1</span>主机变量</h4>
                  <div>
                     <p>在PL / SQL块中，主变量对整个块是全局的，并且可以在允许PL / SQL变量的任何地方使用。与SQL语句中的主变量一样，PL / SQL块中的主机变量必须以冒号为前缀。冒号设置除PL / SQL变量和数据库对象之外的主变量。</p>
                  </div>
               </div><a id="ZZFOR179"></a><div class="props_rev_3"><a id="GUID-0032A34A-06AB-4170-B7D3-7E473D2E0AFE" name="GUID-0032A34A-06AB-4170-B7D3-7E473D2E0AFE"></a><h4 id="ZZFOR-GUID-0032A34A-06AB-4170-B7D3-7E473D2E0AFE" class="sect4"><span class="enumeration_section">1.14.2</span> VARCHAR变量</h4>
                  <div>
                     <p>进入PL / SQL块时，Oracle会自动检查VARCHAR主机变量的长度字段。因此，您必须<span class="italic">在</span>输入块<span class="italic">之前</span>设置长度字段。对于输入变量，将长度字段设置为存储在字符串字段中的值的长度。对于输出变量，将长度字段设置为字符串字段允许的最大长度。
                     </p>
                  </div>
               </div><a id="ZZFOR180"></a><div class="props_rev_3"><a id="GUID-4F62525E-BA7E-4247-9BDB-4688A9C48466" name="GUID-4F62525E-BA7E-4247-9BDB-4688A9C48466"></a><h4 id="ZZFOR-GUID-4F62525E-BA7E-4247-9BDB-4688A9C48466" class="sect4"><span class="enumeration_section">1.14.3</span>指标变量</h4>
                  <div>
                     <p>在PL / SQL块中，您不能单独引用指标变量;它必须附加到其关联的主变量。此外，如果您使用其指示符变量引用主变量，则必须始终在同一块中以相同的方式引用它。</p>
                  </div>
               </div><a id="ZZFOR181"></a><div class="props_rev_3"><a id="GUID-8CE20AFC-A544-4457-BBBE-46399DCB4E20" name="GUID-8CE20AFC-A544-4457-BBBE-46399DCB4E20"></a><h4 id="ZZFOR-GUID-8CE20AFC-A544-4457-BBBE-46399DCB4E20" class="sect4"><span class="enumeration_section">1.14.4</span>关于处理空值</h4>
                  <div>
                     <p>输入块时，如果指示符变量的值为-1，则PL / SQL会自动为主变量分配null。退出块时，如果主机变量为空，PL / SQL会自动为指示符变量赋值-1。</p>
                  </div>
               </div><a id="ZZFOR182"></a><div class="props_rev_3"><a id="GUID-B49A2FDF-9AF4-4D36-A429-EA7BB639CC7C" name="GUID-B49A2FDF-9AF4-4D36-A429-EA7BB639CC7C"></a><h4 id="ZZFOR-GUID-B49A2FDF-9AF4-4D36-A429-EA7BB639CC7C" class="sect4"><span class="enumeration_section">1.14.5</span>关于处理截断值</h4>
                  <div>
                     <p>将截断的字符串值分配给主机变量时，PL / SQL不会引发异常。但是，如果使用指示符变量，PL / SQL会将其设置为字符串的原始长度。</p>
                  </div>
               </div><a id="ZZFOR183"></a><div class="props_rev_3"><a id="GUID-B9C8E60B-B5DB-4F6C-BC18-F215738A05A6" name="GUID-B9C8E60B-B5DB-4F6C-BC18-F215738A05A6"></a><h4 id="ZZFOR-GUID-B9C8E60B-B5DB-4F6C-BC18-F215738A05A6" class="sect4"><span class="enumeration_section">1.14.6</span> SQLCHECK</h4>
                  <div>
                     <p>在使用嵌入式PL / SQL块预编译程序时，必须指定SQLCHECK = SEMANTICS。您还必须使用USERID选项。有关更多信息，请参阅<a href="../zzpre/running-Oracle-precompilers.html#ZZPRE-GUID-C6823AE2-9898-43B4-B400-BEF616AF6D13" target="_blank">SQLCHECK</a> 。</p>
                  </div>
               </div><a id="ZZFOR184"></a><div class="props_rev_3"><a id="GUID-A0F3C14D-1500-4CCC-BD12-784A4A6C47D2" name="GUID-A0F3C14D-1500-4CCC-BD12-784A4A6C47D2"></a><h4 id="ZZFOR-GUID-A0F3C14D-1500-4CCC-BD12-784A4A6C47D2" class="sect4"><span class="enumeration_section">1.14.7</span>游标变量</h4>
                  <div>
                     <p>从Pro * FORTRAN预编译器的1.7版开始，您可以在Pro * FORTRAN程序中使用<span class="italic">游标变量</span>来使用静态嵌入式SQL处理多行查询。游标变量使用PL / SQL标识在Oracle数据库服务器上定义和打开的<span class="italic">游标引用</span> 。有关游标变量的完整信息，请参见<span class="italic">Oracle数据库PL / SQL语言参考</span> 。
                     </p>
                     <p>游标变量的优点是：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="italic">封装</span> ：查询集中在打开游标变量的存储过程中。
                           </p>
                        </li>
                        <li>
                           <p><span class="italic">易于维护</span> ：如果表更改，则只需更改存储过程。
                           </p>
                        </li>
                        <li>
                           <p><span class="italic">安全性</span> ：应用程序的用户（Pro * FORTRAN应用程序连接到数据库时的用户名）必须对打开游标的存储过程具有执行权限。但是，此用户不需要对查询中使用的表具有读取权限。此功能可用于限制对表中列的访问。
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="ZZFOR185"></a><div class="props_rev_3"><a id="GUID-7A1CE308-3AAB-46BD-B626-F2998DCF457C" name="GUID-7A1CE308-3AAB-46BD-B626-F2998DCF457C"></a><h3 id="ZZFOR-GUID-7A1CE308-3AAB-46BD-B626-F2998DCF457C" class="sect3"><span class="enumeration_section">1.15</span>关于声明游标变量</h3>
               <div>
                  <p>使用SQLCURSOR假型声明Pro * FORTRAN游标变量。例如：</p><pre class="oac_no_warn" dir="ltr">EXEC SQL BEGIN DECLARE SECTION ...SQLCURSOR CURVAR ......EXEC SQL END DECLARE SECTION</pre><p>在Pro * FORTRAN生成的代码中使用FORTRAN INTEGER * 4数组实现SQLCURSOR变量。游标变量就像任何其他Pro * FORTRAN主变量一样。</p>
               </div><a id="ZZFOR186"></a><div class="props_rev_3"><a id="GUID-09F3D3B8-08F3-445C-A262-921627D80B0A" name="GUID-09F3D3B8-08F3-445C-A262-921627D80B0A"></a><h4 id="ZZFOR-GUID-09F3D3B8-08F3-445C-A262-921627D80B0A" class="sect4"><span class="enumeration_section">1.15.1</span>关于分配游标变量</h4>
                  <div>
                     <p>在OPEN或FETCH游标变量之前，必须使用Pro * FORTRAN ALLOCATE命令进行分配。例如，要分配在上一节中声明的游标变量CURVAR，请编写以下语句：</p><pre class="oac_no_warn" dir="ltr">EXEC SQL ALLOCATE：CURVAR</pre><p>分配游标变量<span class="italic">并不</span>需要对服务器的呼叫，可以在预编译时或运行时。
                     </p>
                     <div class="infoboxnote" id="GUID-09F3D3B8-08F3-445C-A262-921627D80B0A__GUID-81CE8CCD-CBB1-4D6D-BAC6-0C17801E14E7">
                        <p class="notep1">警告：</p>
                        <p>分配游标变量<span class="italic">确实</span>会导致使用堆内存。因此，请避免在程序循环中分配游标变量。
                        </p>
                     </div>
                  </div>
               </div><a id="ZZFOR187"></a><div class="props_rev_3"><a id="GUID-03CC37B0-786C-4927-8A40-B3EC9A8624A6" name="GUID-03CC37B0-786C-4927-8A40-B3EC9A8624A6"></a><h4 id="ZZFOR-GUID-03CC37B0-786C-4927-8A40-B3EC9A8624A6" class="sect4"><span class="enumeration_section">1.15.2</span>关于打开游标变量</h4>
                  <div>
                     <p>必须使用嵌入式匿名PL / SQL块在Oracle Server上打开游标变量。匿名PL / SQL块可以通过调用打开游标的PL / SQL存储过程（并在同一语句中定义）或直接从Pro * FORTRAN程序间接打开游标。</p>
                  </div>
               </div><a id="ZZFOR188"></a><div class="props_rev_3"><a id="GUID-8A3EFB84-04EC-4A82-8873-C31DF4680C71" name="GUID-8A3EFB84-04EC-4A82-8873-C31DF4680C71"></a><h4 id="ZZFOR-GUID-8A3EFB84-04EC-4A82-8873-C31DF4680C71" class="sect4"><span class="enumeration_section">1.15.3</span>关于通过存储的PL / SQL过程间接打开</h4>
                  <div>
                     <p>考虑存储在数据库中的以下PL / SQL包：</p><pre class="oac_no_warn" dir="ltr">CREATE PACKAGE demo_cur_pkg AS TYPE EmpName IS RECORD（名称VARCHAR2（10））; TYPE cur_type IS REF CURSOR RETURN EmpName;程序open_emp_cur（curs IN OUT curtype，dept_num IN NUMBER）;结束; CREATE PACKAGE BODY demo_cur_pkg AS CREATE PROCEDURE open_emp_cur（curs IN OUT curtype，dept_num IN NUMBER）IS BEGIN OPEN curs FOR SELECT ename FROM emp WHERE deptno = dept_num ORDER BY ename ASC;结束;结束;</pre><p>这个包已经被存储后，您可以通过调用你的PRO * FORTRAN程序<span class="italic">open_emp_cur</span>存储过程打开变量<span class="italic">小人</span> ，并从程序游标变量FETCH ECUR。例如：</p><pre class="oac_no_warn" dir="ltr">EXEC SQL BEGIN DECLARE SECTION SQLCURSOR ECUR INTEGER * 4 DNUM VARCHAR * 10 ENAM，ENAML，ENAMA EXEC SQL END DECLARE SECTION ......*分配游标变量。EXEC SQL ALLOCATE：ECUR ......DNUM = 30 *打开Oracle数据库服务器上的光标。EXEC SQL EXECUTE 1 BEGIN 2 demo_cur_pkg.open_emp_cur（：ECUR，：DNUM）; 3结束; 4 END-EXEC EXEC SQL在未找到的情况下进行调用SIGNOFF * 1000 EXEC SQL FETCH：ECUR INTO：ENAM PRINT *，“员工姓名：”，ENAM GOTO 1000 ......
</pre></div>
               </div><a id="ZZFOR189"></a><div class="props_rev_3"><a id="GUID-D0011A0C-E897-4F55-ADC6-6D9BBBC3358E" name="GUID-D0011A0C-E897-4F55-ADC6-6D9BBBC3358E"></a><h4 id="ZZFOR-GUID-D0011A0C-E897-4F55-ADC6-6D9BBBC3358E" class="sect4"><span class="enumeration_section">1.15.4</span>关于直接从Pro * FORTRAN应用程序打开</h4>
                  <div>
                     <p>要在Pro * FORTRAN程序中使用PL / SQL匿名块打开游标，请在匿名块中定义游标。请考虑以下示例：</p><pre class="oac_no_warn" dir="ltr">EXEC SQL EXECUTE 1 BEGIN 2 OPEN：ECUR for ENAME from EMP 3 WHERE DEPTNO =：DNUM; 4结束; 5结束 - 执行...
</pre></div>
               </div><a id="ZZFOR190"></a><div class="props_rev_3"><a id="GUID-7F95D4B5-FBD4-4267-A10B-9CCA18DC4EC0" name="GUID-7F95D4B5-FBD4-4267-A10B-9CCA18DC4EC0"></a><h4 id="ZZFOR-GUID-7F95D4B5-FBD4-4267-A10B-9CCA18DC4EC0" class="sect4"><span class="enumeration_section">1.15.5</span>返回类型</h4>
                  <div>
                     <p>在PL / SQL存储过程中定义引用游标（REF CURSOR）时，必须声明游标返回的类型。<a href="../lnpls/overview.html#LNPLS-GUID-2FBCFBBE-6B42-4DB8-83F3-55B63B75B1EB" target="_blank"><span class="italic">PL / SQL用户指南和参考</span></a>中描述了允许引用游标的返回类型。
                     </p>
                  </div>
               </div><a id="ZZFOR191"></a><div class="props_rev_3"><a id="GUID-01024084-0CB0-467B-AE87-D558ED3319CD" name="GUID-01024084-0CB0-467B-AE87-D558ED3319CD"></a><h4 id="ZZFOR-GUID-01024084-0CB0-467B-AE87-D558ED3319CD" class="sect4"><span class="enumeration_section">1.15.6</span>关于从游标变量中获取</h4>
                  <div>
                     <p>使用嵌入式SQL FETCH ....INTO命令用于在打开游标变量时检索SELECTed行。例如：</p><pre class="oac_no_warn" dir="ltr">EXEC SQL FETCH：ECUR INTO：EINFO：IEINFO</pre><p>在从游标变量进行FETCH之前，必须初始化并打开该变量。您无法从未打开的游标变量进行FETCH。</p>
                  </div>
               </div><a id="ZZFOR192"></a><div class="props_rev_3"><a id="GUID-BDE5738A-F891-4AF8-8C30-8108D1F3DED7" name="GUID-BDE5738A-F891-4AF8-8C30-8108D1F3DED7"></a><h4 id="ZZFOR-GUID-BDE5738A-F891-4AF8-8C30-8108D1F3DED7" class="sect4"><span class="enumeration_section">1.15.7</span>关于关闭游标变量</h4>
                  <div>
                     <p>使用嵌入式SQL CLOSE命令关闭游标变量。例如：</p><pre class="oac_no_warn" dir="ltr">EXEC SQL BEGIN DECLARE SECTION *声明游标变量。SQLCURSOR ECUR ......EXEC SQL END DECLARE SECTION *分配并打开游标变量，然后*获取一行或多行。...*关闭游标变量。EXEC SQL CLOSE：ECUR</pre></div>
               </div><a id="ZZFOR193"></a><div class="props_rev_3"><a id="GUID-C8DE3905-A36B-4D3C-A9DB-61486D9FB010" name="GUID-C8DE3905-A36B-4D3C-A9DB-61486D9FB010"></a><h4 id="ZZFOR-GUID-C8DE3905-A36B-4D3C-A9DB-61486D9FB010" class="sect4"><span class="enumeration_section">1.15.8</span>限制</h4>
                  <div>
                     <p>以下限制适用于游标变量的使用：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>您只能将游标变量与ALLOCATE，FETCH和CLOSE命令一起使用。该declare cursor命令<span class="italic">并不</span>适用于游标变量。
                           </p>
                        </li>
                        <li>
                           <p>您不能从CLOSEd或unALLOCATEd游标变量FETCH。</p>
                        </li>
                        <li>
                           <p>如果使用MODE = ANSI进行预编译，则关闭已关闭的游标变量是错误的。</p>
                        </li>
                        <li>
                           <p>您不能将AT子句与ALLOCATE命令一起使用。</p>
                        </li>
                     </ul>
                  </div>
               </div><a id="ZZFOR194"></a><div class="props_rev_3"><a id="GUID-9E0F0A8F-A027-410C-81C2-D49611CB3445" name="GUID-9E0F0A8F-A027-410C-81C2-D49611CB3445"></a><h4 id="ZZFOR-GUID-9E0F0A8F-A027-410C-81C2-D49611CB3445" class="sect4"><span class="enumeration_section">1.15.9</span>错误条件</h4>
                  <div>
                     <p><span class="italic">不要</span>执行以下操作：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>来自闭合游标变量的FETCH</p>
                        </li>
                        <li>
                           <p>使用不是ALLOCATEd的游标变量</p>
                        </li>
                        <li>
                           <p>CLOSE一个未打开的游标变量</p>
                        </li>
                     </ul>
                     <p>对游标变量的这些操作会导致错误。</p>
                  </div>
               </div><a id="ZZFOR234"></a><a id="ZZFOR235"></a><a id="ZZFOR195"></a><div class="props_rev_3"><a id="GUID-282F1A95-EF05-4C7A-ACB7-AFA631C500FC" name="GUID-282F1A95-EF05-4C7A-ACB7-AFA631C500FC"></a><h4 id="ZZFOR-GUID-282F1A95-EF05-4C7A-ACB7-AFA631C500FC" class="sect4"><span class="enumeration_section">1.15.10</span>示例程序</h4>
                  <div>
                     <p>以下示例程序 -  SQL脚本（SAMPLE11。SQL）和Pro * FORTRAN程序（SAMPLE11。PFO） - 演示如何在Pro * FORTRAN中使用游标变量。</p>
                     <div class="infoboxnote" id="GUID-282F1A95-EF05-4C7A-ACB7-AFA631C500FC__GUID-7746E98B-2338-4AEC-8C23-381C0A1CEFA2">
                        <p class="notep1">注意：</p>
                        <p>为了简化演示此功能，此示例不执行已部署系统通常使用的密码管理技术。在生产环境中，请遵循Oracle数据库密码管理准则，并禁用任何示例帐户。有关密码管理指南和其他安全建议，请参阅<a href="../dbseg/managing-security-for-application-developers.html#DBSEG50053" target="_blank"><span class="italic">Oracle数据库安全指南</span></a> 。
                        </p>
                     </div>
                  </div>
               </div><a id="ZZFOR196"></a><div class="props_rev_3"><a id="GUID-11B17A1B-D46B-4AE2-A4D4-1EF21677D8D5" name="GUID-11B17A1B-D46B-4AE2-A4D4-1EF21677D8D5"></a><h4 id="ZZFOR-GUID-11B17A1B-D46B-4AE2-A4D4-1EF21677D8D5" class="sect4"><span class="enumeration_section">1.15.11</span> SAMPLE11。SQL</h4>
                  <div>
                     <p>以下是用于创建声明并打开游标变量的包的PL / SQL源代码：</p><pre class="oac_no_warn" dir="ltr">CONNECT AAAAA / BBBBB创建或替换包装emp_demo_pkg AS TYPE emp_cur_type IS REF CURSOR RETURN emp％ROWTYPE; PROCEDURE open_cur（光标IN OUT emp_cur_type，dept_num IN编号）; END emp_demo_pkg; / CREATE OR REPLACE PACKAGE BODY emp_demo_pkg AS PROCEDURE open_cur（游标IN OUT emp_cur_type，dept_num IN编号）IS BEGIN OPEN游标FOR SELECT * FROM emp WHERE deptno = dept_num ORDER BY ename ASC;结束; END emp_demo_pkg; /</pre></div>
               </div><a id="ZZFOR197"></a><div class="props_rev_3"><a id="GUID-CBBD2BD1-5D7E-44CF-BC99-9CA1D95FABE0" name="GUID-CBBD2BD1-5D7E-44CF-BC99-9CA1D95FABE0"></a><h4 id="ZZFOR-GUID-CBBD2BD1-5D7E-44CF-BC99-9CA1D95FABE0" class="sect4"><span class="enumeration_section">1.15.12</span> SAMPLE11。PFO</h4>
                  <div>
                     <p>以下是Pro * FORTRAN示例程序，它使用SAMPLE11中声明的游标。用于从EMP表中获取员工姓名，工资和佣金的SQL示例。</p><pre class="oac_no_warn" dir="ltr">PROGRAM SAMPLE11 EXEC SQL BEGIN DECLARE SECTION *声明游标变量。SQLCURSOR ECUR * EMPINFO INTEGER ENUM CHARACTER * 10 ENAM VARCHAR * 9 EJOB，EJOBL，EJOBA INTEGER EMGR VARCHAR * 10 EDAT，EDATL，EDATA REAL ESAL REAL ECOM INTEGER EDEP * EMPINFO INDICATORS INTEGER * 2 IENUM INTEGER * 2 IENAM INTEGER * 2 IEJOB INTEGER * 2 IEMGR INTEGER * 2 IEDAT INTEGER * 2 IESAL INTEGER * 2 IECOM INTEGER * 2 IEDEP EXEC SQL END DECLARE SECTION EXEC SQL包含SQLCA COMMON / CURSOR / ECUR EXEC SQL SQLERROR会调用SQLERR *登录到ORACLE。 CALL LOGON *初始化游标变量。EXEC SQL ALLOCATE：ECUR TYPE 1000 1000 FORMAT（/，'输入部门编号（0表示退出）：'，$）ACCEPT 1100，EDEP 1100 FORMAT（I10）IF（EDEP。LE。 0）然后调用SIGNOFF ENDIF *通过调用PL / SQL存储过程打开游标。EXEC SQL EXECUTE 1 BEGIN 2 emp_demo_pkg.open_cur（：ECUR，：EDEP）; 3结束; 4 END-EXEC PRINT 1200，EDEP 1200格式（/，'部门'，我，'：'，/）打印1300 1300格式（/，'员工薪酬委员会'，+ /，'------- --- ---------- ----------'）*将光标中的数据提取到主变量中。2000 EXEC SQL WHENEVER NOT FOUND DO CALL SIGNOFF EXEC SQL FETCH：ECUR 1 INTO：ENUM：IENUM，2：ENAM：IENAM，3：EJOB：IEJOB，4：EMGR：IEMGR，5：EDAT：IEDAT，6：ESAL：IESAL ，7：ECOM：IECOM，8：EDEP：IEDEP *检查佣金和打印结果。IF（IECOM。EQ。 0）然后打印2100，ENAM，ESAL，ECOM 2100格式（A10,2X，F10.2,2X，F10.2）ELSE PRINT 2200，ENAM，ESAL 2200格式（A10,2X，F10.2,2X，'N / A'）ENDIF GOTO 2000 END *登录ORACLE。 SUBROUTINE LOGON EXEC SQL BEGIN DECLARE SECTION CHARACTER * 10 UID CHARACTER * 10 PWD EXEC SQL END DECLARE SECTION EXEC SQL INCLUDE SQLCA UID ='AAAAA'PWD ='BBBBB'EXEC SQL CONNECT：UID标识：PWD PRINT 3000，UID 3000 FORMAT（ /，'作为用户连接到ORACLE：'，A）END *关闭游标变量。SUBROUTINE SIGNOFF EXEC SQL BEGIN DECLARE SECTION SQLCURSOR ECUR EXEC SQL END DECLARE SECTION EXEC SQL包含SQLCA COMMON / CURSOR / ECUR EXEC SQL CLOSE：ECUR PRINT 4100 4100格式（/，“有一个好日子。”，/）EXEC SQL COMMIT WORK RELEASE停止结束子程序SQLERR EXEC SQL包含SQLCA EXEC SQL WHENEVER SQLERROR CONTINUE PRINT *，''PRINT *，'ORACLE ERROR DETECTED：'PRINT'（70A1）'，SQLEMC PRINT *，''EXEC SQL ROLLBACK WORK RELEASE STOP END</pre></div>
               </div>
            </div><a id="ZZFOR198"></a><div class="props_rev_3"><a id="GUID-A0304B39-A1A3-4608-B2F4-A30CB42AFDA3" name="GUID-A0304B39-A1A3-4608-B2F4-A30CB42AFDA3"></a><h3 id="ZZFOR-GUID-A0304B39-A1A3-4608-B2F4-A30CB42AFDA3" class="sect3"><span class="enumeration_section">1.16</span>连接到Oracle</h3>
               <div>
                  <div class="section">
                     <p>在查询或操作数据之前，您的Pro * FORTRAN程序必须登录到Oracle。要登录，请使用CONNECT语句，如</p><pre class="oac_no_warn" dir="ltr">*登录Oracle。EXEC SQL CONNECT：UID标识：PWD</pre><p>其中UID和PWD是CHARACTER或VARCHAR主变量。或者，您可以使用该语句</p><pre class="oac_no_warn" dir="ltr">*登录Oracle。EXEC SQL CONNECT：UIDPWD</pre><p>其中主机变量UIDPWD包含用斜杠（/）分隔的用户名和密码。</p>
                     <p>CONNECT语句必须是程序执行的第一个SQL语句。也就是说，其他可执行的SQL语句可以位于CONNECT语句之前，但不能在逻辑上。</p>
                     <p>要单独提供Oracle用户名和密码，请在Declare Section中将两个主机变量定义为字符串或VARCHAR变量。如果提供包含用户名和密码的用户标识，则只需要一个主变量。</p>
                     <p>确保在执行CONNECT之前设置用户名和密码变量，否则它将失败。您的程序可以提示输入值，也可以按如下方式对其进行硬编码：</p><pre class="oac_no_warn" dir="ltr">*声明主变量。EXEC SQL BEGIN DECLARE SECTION CHARACTER * 5 UID CHARACTER * 5 PWD ......EXEC SQL END DECLARE SECTION UID ='AAAAA'PWD ='BBBBB'*处理登录错误。执行SQL WHENEVER SQLERROR GOTO ...EXEC SQL CONNECT：UID标识：PWD</pre><p>但是，您不能将用户名和密码硬编码到CONNECT语句中或使用带引号的文字。例如，以下两个语句都<span class="italic">无效</span> ：</p><pre class="oac_no_warn" dir="ltr">*无效的CONNECT语句EXEC SQL CONNECT AAAAA由BBBBB EXEC识别SQL CONNECT'AAAAA'由'BBBBB'识别</pre></div>
                  <!-- class="section" -->
               </div><a id="ZZFOR199"></a><div class="props_rev_3"><a id="GUID-C78E6925-DFE4-4602-AD6D-2D394DAB53FF" name="GUID-C78E6925-DFE4-4602-AD6D-2D394DAB53FF"></a><h4 id="ZZFOR-GUID-C78E6925-DFE4-4602-AD6D-2D394DAB53FF" class="sect4"><span class="enumeration_section">1.16.1</span>自动登录</h4>
                  <div>
                     <p>您可以使用以下用户标识自动登录Oracle：</p><pre class="oac_no_warn" dir="ltr">&lt;前缀&gt; &lt;用户名&gt;</pre><p>其中<span class="italic">prefix</span>是Oracle初始化参数OS_AUTHENT_PREFIX的值（默认值为OPS $）， <span class="italic">username</span>是您的操作系统用户或任务名称。例如，如果前缀为OPS $，您的用户名为TBARNES，而OPS $ TBARNES是有效的Oracle用户ID，则您以用户OPS $ TBARNES身份登录Oracle。</p>
                     <p>要利用自动登录功能，只需将斜杠（/）字符传递给预编译器，如下所示：</p><pre class="oac_no_warn" dir="ltr">*声明主变量。EXEC SQL BEGIN DECLARE SECTION ...CHARACTER * 1 ORAID EXEC SQL END DECLARE SECTION ORAID ='/'EXEC SQL CONNECT：ORAID</pre><p>这会自动将您作为用户OPS $ <span class="italic">用户名连接</span> 。例如，如果您的操作系统用户名是RHILL，并且OPS $ RHILL是有效的Oracle用户名，则使用斜杠（/）连接会自动以Oracle OPS $ RHILL用户身份登录Oracle。</p>
                     <p>您还可以将字符串传递给预编译器。但是，该字符串不能包含尾随空格。例如，以下CONNECT语句将失败：</p><pre class="oac_no_warn" dir="ltr">*声明主变量。EXEC SQL BEGIN DECLARE SECTION ...CHARACTER * 5 ORAID EXEC SQL END DECLARE SECTION ORAID ='/'EXEC SQL CONNECT：ORAID</pre><p>有关操作系统身份验证的详细信息，请参阅“ <span class="italic">Oracle数据库管理员指南”</span> 。
                     </p>
                  </div>
               </div><a id="ZZFOR200"></a><div class="props_rev_3"><a id="GUID-E9734943-82A1-4DC9-A3F9-6D2BC7215320" name="GUID-E9734943-82A1-4DC9-A3F9-6D2BC7215320"></a><h4 id="ZZFOR-GUID-E9734943-82A1-4DC9-A3F9-6D2BC7215320" class="sect4"><span class="enumeration_section">1.16.2</span>并发登录</h4>
                  <div>
                     <p>您的应用程序可以使用Oracle Net Services同时访问远程和本地数据库的任意组合，或者与同一数据库建立多个连接。在以下示例中，您同时连接到两个非默认数据库：</p><pre class="oac_no_warn" dir="ltr">*声明主变量。EXEC SQL BEGIN DECLARE SECTION CHARACTER * 5 UID CHARACTER * 5 PWD CHARACTER * 12 DBSTR1 CHARACTER * 12 DBSTR2 EXEC SQL END DECLARE SECTION UID ='AAAAA'PWD ='BBBBB'DBSTR1 ='NEWYORK'DBSTR2 ='BOSTON'*给每个数据库连接一个唯一的名称。EXEC SQL DECLARE DBNAM1 DATABASE EXEC SQL DECLARE DBNAM2 DATABASE *连接到两个非默认数据库。EXEC SQL CONNECT：UID标识者：PWD 1 AT DBNAM1使用：DBSTR1 EXEC SQL CONNECT：UID标识者：PWD 1 AT DBNAM2使用：DBSTR2</pre><p>DBSTR1和DBSTR2中的字符串语法取决于您的网络驱动程序及其配置方式。DBNAM1和DBNAM2命名非默认连接;它们可以是未声明的标识符或主机变量。</p>
                     <p>有关通过Oracle Net Services连接到Oracle的分步说明，请参阅<a href="../zzpre/meeting-program-requirements.html#ZZPRE-GUID-ED71BADE-AF94-4074-B4B1-140E03903E88" target="_blank">会议计划要求</a> 。
                     </p>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>