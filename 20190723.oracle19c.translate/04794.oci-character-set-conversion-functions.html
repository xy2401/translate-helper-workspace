<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="Lists and describes OCI character set conversion functions."></meta>
      <meta name="description" content="Lists and describes OCI character set conversion functions."></meta>
      <title>OCI字符集转换功能</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Programmer&#39;s Guide"></meta>
      <meta property="og:description" content="Lists and describes OCI character set conversion functions."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Programmer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="oracle-call-interface-programmers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-14T08:46:00-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96204-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="oci-character-classification-functions.html" title="Previous" type="text/html"></link>
      <link rel="next" href="oci-messaging-functions.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Oracle Call Interface Programmer&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="LNOCI"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="oci-character-classification-functions.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="oci-messaging-functions.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">程序员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="oci-globalization-support-functions.html" property="item" typeof="WebPage"><span property="name">OCI全球化支持功能</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">OCI字符集转换功能</li>
            </ol>
            <a id="GUID-DBC622E6-500C-4C79-9B06-CD84C48E44D3" name="GUID-DBC622E6-500C-4C79-9B06-CD84C48E44D3"></a><a id="LNOCI17685"></a><a id="LNOCI215"></a>
            
            <h2 id="LNOCI-GUID-DBC622E6-500C-4C79-9B06-CD84C48E44D3" class="sect2"><span class="enumeration_section">31.6</span> OCI字符集转换功能</h2>
         </header>
         <div class="ind">
            <div>
               <p>列出并描述OCI字符集转换功能。</p>
               <div class="section">
                  <p>支持Oracle数据库字符集和Unicode（16位，固定宽度Unicode编码）之间的转换。如果字符没有从Unicode到Oracle数据库字符集的映射，则使用替换字符。因此，在没有数据丢失的情况下，并不总是可以转换回原始字符集。</p>
                  <p><a href="oci-character-set-conversion-functions.html#GUID-DBC622E6-500C-4C79-9B06-CD84C48E44D3__G566952" title="该表有2列。第1列是函数名称，第2列描述其用途。">表31-6</a>列出了OCI字符集转换功能。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="tblformalwide" id="GUID-DBC622E6-500C-4C79-9B06-CD84C48E44D3__G566952">
                  <p class="titleintable">表31-6 OCI字符集转换功能</p>
                  <table cellpadding="4" cellspacing="0" class="FormalWide" title="OCI字符集转换功能" width="100%" border="1" summary="This table has 2 columns. Column 1 is the function name and column 2 describes its purpose." frame="hsides" rules="rows">
                     <thead>
                        <tr align="left" valign="top">
                           <th align="left" valign="bottom" width="70%" id="d310030e203">功能</th>
                           <th align="left" valign="bottom" width="30%" id="d310030e206">目的</th>
                        </tr>
                     </thead>
                     <tbody>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="70%" id="d310030e211" headers="d310030e203 ">
                              <p><a href="oci-character-set-conversion-functions.html#GUID-67FFF7B4-8196-45BE-907C-17C06B0FB842" title="指示替换字符是否用于上次调用OCINlsCharSetConvert（）或OCICharSetToUnicode（）时无法转换的字符。">OCICharSetConversionIsReplacementUsed（）</a></p>
                           </td>
                           <td align="left" valign="top" width="30%" headers="d310030e211 d310030e206 ">
                              <p>指示替换字符是否用于上次调用<code class="codeph">OCINlsCharSetConvert()</code>或<code class="codeph">OCICharSetToUnicode()</code>无法转换的字符</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="70%" id="d310030e233" headers="d310030e203 ">
                              <p><a href="oci-character-set-conversion-functions.html#GUID-C47D31BF-9DC2-451A-954E-576D8F3186D9" title="将多字节字符串转换为Unicode。">OCICharSetToUnicode（）</a></p>
                           </td>
                           <td align="left" valign="top" width="30%" headers="d310030e233 d310030e206 ">
                              <p>将多字节字符串转换为Unicode</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="70%" id="d310030e245" headers="d310030e203 ">
                              <p><a href="oci-character-set-conversion-functions.html#GUID-165A9301-2A88-448C-A7DB-CE1DD5DEB6F8" title="将字符串从一个字符集转换为另一个字符集。">OCINlsCharSetConvert（）</a></p>
                           </td>
                           <td align="left" valign="top" width="30%" headers="d310030e245 d310030e206 ">
                              <p>将字符串从一个字符集转换为另一个字符集</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="70%" id="d310030e257" headers="d310030e203 ">
                              <p><a href="oci-character-set-conversion-functions.html#GUID-03339D23-71A8-4AD8-9964-66796DFED062" title="将Unicode字符串转换为多字节字符串输出到数组。">OCIUnicodeToCharSet（）</a></p>
                           </td>
                           <td align="left" valign="top" width="30%" headers="d310030e257 d310030e206 ">
                              <p>将Unicode字符串转换为多字节</p>
                           </td>
                        </tr>
                     </tbody>
                  </table>
               </div>
               <!-- class="inftblhruleinformal" -->
            </div><a id="LNOCI17686"></a><div class="props_rev_3"><a id="GUID-67FFF7B4-8196-45BE-907C-17C06B0FB842" name="GUID-67FFF7B4-8196-45BE-907C-17C06B0FB842"></a><h3 id="LNOCI-GUID-67FFF7B4-8196-45BE-907C-17C06B0FB842" class="sect3"><span class="enumeration_section">31.6.1</span> OCICharSetConversionIsReplacementUsed（）</h3>
               <div>
                  <p>指示替换字符是否用于上次调用<code class="codeph">OCINlsCharSetConvert()</code>或<code class="codeph">OCICharSetToUnicode().</code>无法转换的字符<code class="codeph">OCICharSetToUnicode().</code></p>
                  <div class="section">
                     <p class="subhead2" id="GUID-67FFF7B4-8196-45BE-907C-17C06B0FB842__GUID-E7E95FE0-7AC3-482D-9C92-8B66A621E09B">目的</p>
                     <p>指示替换字符是否用于在上次调用<code class="codeph">OCICharSetToUnicode()</code>或<code class="codeph">OCINlsCharSetConvert()</code>期间无法转换的字符。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-67FFF7B4-8196-45BE-907C-17C06B0FB842__GUID-E70268FE-D2E7-4236-9ED1-7C4625A0B66B">句法</p><pre class="oac_no_warn" dir="ltr">boolean OCICharSetConversionIsReplacementUsed（void * hndl）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-67FFF7B4-8196-45BE-907C-17C06B0FB842__GUID-209804BD-D590-4B90-A78E-417872BEEE93">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-67FFF7B4-8196-45BE-907C-17C06B0FB842__GUID-13A98185-E165-46D5-91F0-9BB460C160F6"><!-- --></a> hndl（IN / OUT）</dt>
                        <dd>
                           <p>指向OCI环境或用户会话句柄的指针。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-67FFF7B4-8196-45BE-907C-17C06B0FB842__GUID-976C5451-4DC2-40CC-AF32-8F15280F351B">评论</p>
                     <p>支持Oracle数据库字符集和Unicode（16位，固定宽度Unicode编码）之间的转换。如果没有从Unicode到Oracle数据库字符集的字符映射，则使用替换字符。因此，并非每个角色都可以进行原始角色的往返转换。某些字符会丢失数据。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-67FFF7B4-8196-45BE-907C-17C06B0FB842__GUID-D5DA4D7D-6F9B-4D76-BD5F-75EABFDBDA94">返回</p>
                     <p>如果在上次调用<code class="codeph">OCINlsCharSetConvert()</code>或<code class="codeph">OCICharSetToUnicode()</code>时使用替换字符，则该函数返回<code class="codeph">TRUE</code> 。否则该函数返回<code class="codeph">FALSE</code> 。</p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="oci-character-set-conversion-functions.html#GUID-165A9301-2A88-448C-A7DB-CE1DD5DEB6F8" title="将字符串从一个字符集转换为另一个字符集。">OCINlsCharSetConvert（）</a></li>
                        <li><a href="oci-character-set-conversion-functions.html#GUID-C47D31BF-9DC2-451A-954E-576D8F3186D9" title="将多字节字符串转换为Unicode。">OCICharSetToUnicode（）</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17687"></a><div class="props_rev_3"><a id="GUID-C47D31BF-9DC2-451A-954E-576D8F3186D9" name="GUID-C47D31BF-9DC2-451A-954E-576D8F3186D9"></a><h3 id="LNOCI-GUID-C47D31BF-9DC2-451A-954E-576D8F3186D9" class="sect3"><span class="enumeration_section">31.6.2</span> OCICharSetToUnicode（）</h3>
               <div>
                  <p>将多字节字符串转换为Unicode。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-C47D31BF-9DC2-451A-954E-576D8F3186D9__GUID-154019A8-BD96-47B2-A9E6-E4EA864BAD8F">目的</p>
                     <p>将<code class="codeph">src</code>指向的多字节字符串转换为Unicode输出到<code class="codeph">dst</code>指向的数组。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C47D31BF-9DC2-451A-954E-576D8F3186D9__GUID-07870570-958E-4404-9692-920F756102FF">句法</p><pre class="oac_no_warn" dir="ltr">剑OCICharSetToUnicode（void * hndl，ub2 * dst，size_t dstlen，const OraText * src，size_t srclen，size_t * rsize）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C47D31BF-9DC2-451A-954E-576D8F3186D9__GUID-47E3D531-49D7-4C82-9448-4FDB77C89B0C">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-C47D31BF-9DC2-451A-954E-576D8F3186D9__GUID-BEAB298D-ECB7-4B5B-80B9-27B6427B362C"><!-- --></a> hndl（IN / OUT）</dt>
                        <dd>
                           <p>指向OCI环境或用户会话句柄的指针。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-C47D31BF-9DC2-451A-954E-576D8F3186D9__GUID-4FD10276-A48A-4ECD-A21B-591371DC581F"><!-- --></a> dst（OUT）</dt>
                        <dd>
                           <p>指向目标缓冲区的指针。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-C47D31BF-9DC2-451A-954E-576D8F3186D9__GUID-03E373ED-E94F-4CE6-997A-553465DC8DCE"><!-- --></a> dstlen（IN）</dt>
                        <dd>
                           <p>目标缓冲区的大小（以字符为单位）。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-C47D31BF-9DC2-451A-954E-576D8F3186D9__GUID-E8F1CDBC-4123-42F1-9D06-A063D15BA75C"><!-- --></a> src（IN）</dt>
                        <dd>
                           <p>指向多字节源字符串的指针。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-C47D31BF-9DC2-451A-954E-576D8F3186D9__GUID-F91E2C6A-7C1A-4888-8DE0-8F8BD49F3F37"><!-- --></a> srclen（IN）</dt>
                        <dd>
                           <p>源字符串的大小（以字节为单位）。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-C47D31BF-9DC2-451A-954E-576D8F3186D9__GUID-9AA91D2F-D513-4B0F-940A-88510A89CE8F"><!-- --></a> rsize（OUT <code class="codeph">)</code></dt>
                        <dd>
                           <p>转换的字符数。如果它是<code class="codeph">NULL</code>指针，则不返回任何内容。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C47D31BF-9DC2-451A-954E-576D8F3186D9__GUID-197A75BE-5433-4322-92A2-FA96B4F09FDE">评论</p>
                     <p>转换在达到源限制或目标限制时停止。该函数返回转换为Unicode字符串的字符数。如果<code class="codeph">dstlen</code>为<code class="codeph">0</code> ，则该函数扫描字符串，计算字符数，并返回字符数到<code class="codeph">rsize</code> ，但不转换字符串。
                     </p>
                     <p>如果<code class="codeph">OCI_UTF16ID</code>为SQL指定<code class="codeph">CHAR</code>在数据<code class="codeph">OCIEnvNlsCreate()</code>函数，则该函数产生一个错误。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C47D31BF-9DC2-451A-954E-576D8F3186D9__GUID-99357465-3289-45C9-8F28-787E11BAFE63">返回</p>
                     <p><code class="codeph">OCI_SUCCESS</code> ， <code class="codeph">OCI_INVALID_HANDLE</code>或<code class="codeph">OCI_ERROR</code> 。</p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="connect-authorize-and-initialize-functions.html#GUID-0B6911A9-4B46-476C-BC5E-B87581666CD9" title="创建并初始化OCI函数的环境句柄。">OCIEnvNlsCreate（）</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17688"></a><div class="props_rev_3"><a id="GUID-165A9301-2A88-448C-A7DB-CE1DD5DEB6F8" name="GUID-165A9301-2A88-448C-A7DB-CE1DD5DEB6F8"></a><h3 id="LNOCI-GUID-165A9301-2A88-448C-A7DB-CE1DD5DEB6F8" class="sect3"><span class="enumeration_section">31.6.3</span> OCINlsCharSetConvert（）</h3>
               <div>
                  <p>将字符串从一个字符集转换为另一个字符集。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-165A9301-2A88-448C-A7DB-CE1DD5DEB6F8__GUID-CF179197-603F-4954-ADE1-A97773B3E1CF">目的</p>
                     <p>将字符串转换指向通过<code class="codeph">src</code>在由指定的字符集<code class="codeph">srcid</code>到阵列指向<code class="codeph">dst</code>中由指定的字符集<code class="codeph">dstid</code> 。当转换达到源或目标的数据大小限制时，转换将停止。该函数返回转换为目标缓冲区的字节数。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-165A9301-2A88-448C-A7DB-CE1DD5DEB6F8__GUID-25DA7713-CF33-4D1B-BEAF-7BE81DEA8864">句法</p><pre class="oac_no_warn" dir="ltr">剑OCINlsCharSetConvert（void * hndl，OCIError * errhp，ub2 dstid，void * dstp，size_t dstlen，ub2 srcid，const void * srcp，size_t srclen，size_t * rsize）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-165A9301-2A88-448C-A7DB-CE1DD5DEB6F8__GUID-4CB98C8B-D239-4EE3-B412-5A949CD50390">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-165A9301-2A88-448C-A7DB-CE1DD5DEB6F8__GUID-2789F8B2-2525-43E6-943C-8DA7733E74E3"><!-- --></a> hndl（IN / OUT）</dt>
                        <dd>
                           <p>指向OCI环境或用户会话句柄的指针。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-165A9301-2A88-448C-A7DB-CE1DD5DEB6F8__GUID-F567CEE0-E8F8-4307-B4AF-E7F770ECBC42"><!-- --></a> errhp（输入/输出）</dt>
                        <dd>
                           <p>OCI错误句柄。如果有错误，则将其记录在<code class="codeph">errhp</code>并且该函数返回<code class="codeph">NULL</code>指针。可以通过调用<code class="codeph">OCIErrorGet()</code>获取诊断信息。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-165A9301-2A88-448C-A7DB-CE1DD5DEB6F8__GUID-F15C6768-2DDC-46CB-9C1F-92B621081E56"><!-- --></a> dstid（IN）</dt>
                        <dd>
                           <p>目标缓冲区的字符集ID。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-165A9301-2A88-448C-A7DB-CE1DD5DEB6F8__GUID-2610E2FD-CD23-459A-8CB8-AE1568EFA4C4"><!-- --></a> dstp（OUT）</dt>
                        <dd>
                           <p>指向目标缓冲区的指针。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-165A9301-2A88-448C-A7DB-CE1DD5DEB6F8__GUID-A38F2055-969E-4FD0-AC8B-DE83D12B0669"><!-- --></a> dstlen（IN）</dt>
                        <dd>
                           <p>目标缓冲区的最大大小（以字节为单位）。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-165A9301-2A88-448C-A7DB-CE1DD5DEB6F8__GUID-7EE4568E-58C8-49C2-B756-0370C63FBC3C"><!-- --></a> srcid（IN）</dt>
                        <dd>
                           <p>源缓冲区的字符集ID。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-165A9301-2A88-448C-A7DB-CE1DD5DEB6F8__GUID-44141ED3-5339-4134-AD3D-D1587AB66D16"><!-- --></a> srcp（IN）</dt>
                        <dd>
                           <p>指向源缓冲区的指针。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-165A9301-2A88-448C-A7DB-CE1DD5DEB6F8__GUID-42806786-D4C5-4550-83ED-56775A9FA548"><!-- --></a> srclen（IN）</dt>
                        <dd>
                           <p>源缓冲区的长度（以字节为单位）。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-165A9301-2A88-448C-A7DB-CE1DD5DEB6F8__GUID-FC6D65B7-1569-414B-AABB-F78DFB1482D6"><!-- --></a> rsize（OUT）</dt>
                        <dd>
                           <p>转换的字符数。如果指针为<code class="codeph">NULL</code> ，则不返回任何内容。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-165A9301-2A88-448C-A7DB-CE1DD5DEB6F8__GUID-F143DDD3-D679-4A7E-8EEF-0CEBB70D6C48">评论</p>
                     <p>尽管源或目标字符集ID可以指定为<code class="codeph">OCI_UTF16ID</code> ，但原始数据和转换数据的长度以字节表示，而不是字符数。请注意，转换在遇到空数据时不会停止。要从字符集名称中获取字符集ID，请使用<code class="codeph">OCINlsCharSetNameToId()</code> 。要检查目标缓冲区中的派生数据是否包含替换字符，请使用<code class="codeph">OCICharSetConversionIsReplacementUsed()</code> 。缓冲区应与适合字符集的字节边界对齐。例如， <code class="codeph">ub2</code>数据类型是保存UTF-16字符串所必需的。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-165A9301-2A88-448C-A7DB-CE1DD5DEB6F8__GUID-461C564A-954D-454D-9D96-D4B7DE33D5FB">返回</p>
                     <p><code class="codeph">OCI_SUCCESS</code>或<code class="codeph">OCI_ERROR</code> ;转换的字节数。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="oci-locale-functions.html#GUID-6C255C8A-180F-4328-9300-CE7BA9BEEE6D" title="返回指定Oracle数据库字符集名称的Oracle数据库字符集ID。">OCINlsCharSetNameToId（）</a></li>
                        <li><a href="oci-character-set-conversion-functions.html#GUID-67FFF7B4-8196-45BE-907C-17C06B0FB842" title="指示替换字符是否用于上次调用OCINlsCharSetConvert（）或OCICharSetToUnicode（）时无法转换的字符。">OCICharSetConversionIsReplacementUsed（）</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="返回错误消息和Oracle数据库错误代码。">OCIErrorGet（）</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17689"></a><div class="props_rev_3"><a id="GUID-03339D23-71A8-4AD8-9964-66796DFED062" name="GUID-03339D23-71A8-4AD8-9964-66796DFED062"></a><h3 id="LNOCI-GUID-03339D23-71A8-4AD8-9964-66796DFED062" class="sect3"><span class="enumeration_section">31.6.4</span> OCIUnicodeToCharSet（）</h3>
               <div>
                  <p>将Unicode字符串转换为多字节字符串输出到数组。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-03339D23-71A8-4AD8-9964-66796DFED062__GUID-6FC18032-D935-46E4-A8A8-AF768CCFF0B6">目的</p>
                     <p>将Unicode字符串转换为多字节字符串输出到数组。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-03339D23-71A8-4AD8-9964-66796DFED062__GUID-1FAFB547-0156-4BB2-9E21-6782B79B1547">句法</p><pre class="oac_no_warn" dir="ltr">剑OCIUnicodeToCharSet（void * hndl，OraText * dst，size_t dstlen，const ub2 * src，size_t srclen，size_t * rsize）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-03339D23-71A8-4AD8-9964-66796DFED062__GUID-3B0FF46B-B6CE-4722-8734-6C52AE883C91">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-03339D23-71A8-4AD8-9964-66796DFED062__GUID-623B90F3-AAB3-4211-885F-9B532F4EB0BB"><!-- --></a> hndl（IN / OUT）</dt>
                        <dd>
                           <p>指向OCI环境或用户会话句柄的指针。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-03339D23-71A8-4AD8-9964-66796DFED062__GUID-9E751468-8F9B-4EDB-A2F5-26ED89C3B8E7"><!-- --></a> dst（OUT）</dt>
                        <dd>
                           <p>指向目标缓冲区的指针。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-03339D23-71A8-4AD8-9964-66796DFED062__GUID-21F96161-9338-41CD-9E4B-024E33843A68"><!-- --></a> dstlen（IN）</dt>
                        <dd>
                           <p>目标缓冲区的大小（以字节为单位）。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-03339D23-71A8-4AD8-9964-66796DFED062__GUID-B7EE8F38-4C84-49C8-828F-391E2CAC99CD"><!-- --></a> src（IN）</dt>
                        <dd>
                           <p>指向Unicode字符串的指针。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-03339D23-71A8-4AD8-9964-66796DFED062__GUID-DB30E890-48DC-4ECB-A615-CCEAF5279FE1"><!-- --></a> srclen（IN）</dt>
                        <dd>
                           <p>源字符串的大小（以字符为单位）。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-03339D23-71A8-4AD8-9964-66796DFED062__GUID-CC6017DD-4CFF-4D9B-B1DB-EC941338C502"><!-- --></a> rsize（OUT）</dt>
                        <dd>
                           <p>转换的字节数。如果它是<code class="codeph">NULL</code>指针，则不返回任何内容。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-03339D23-71A8-4AD8-9964-66796DFED062__GUID-A892B474-E0DA-4C2A-8A5E-7F5986EB5411">评论</p>
                     <p>转换在达到源限制或目标限制时停止。该函数返回转换为多字节字符串的字节数。如果<code class="codeph">dstlen</code>为零，则该函数返回<code class="codeph">rsize</code>的字节数而不进行转换。
                     </p>
                     <p>如果Unicode字符不能转换为OCI环境或用户会话句柄中指定的字符集，则使用替换字符。在这种情况下， <code class="codeph">OCICharSetConversionIsReplacementUsed()</code>返回<code class="codeph">TRUE</code> 。</p>
                     <p>如果<code class="codeph">OCI_UTF16ID</code>为SQL指定<code class="codeph">CHAR</code>在数据<code class="codeph">OCIEnvNlsCreate()</code>函数，则该函数产生一个错误。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-03339D23-71A8-4AD8-9964-66796DFED062__GUID-B34F1BF1-EEDC-4D2C-9EBA-EA9CEB9671BD">返回</p>
                     <p><code class="codeph">OCI_SUCCESS</code> ; <code class="codeph">OCI_INVALID_HANDLE</code> ;或<code class="codeph">OCI_ERROR</code> 。</p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="oci-character-set-conversion-functions.html#GUID-67FFF7B4-8196-45BE-907C-17C06B0FB842" title="指示替换字符是否用于上次调用OCINlsCharSetConvert（）或OCICharSetToUnicode（）时无法转换的字符。">OCICharSetConversionIsReplacementUsed（）</a></li>
                        <li><a href="connect-authorize-and-initialize-functions.html#GUID-0B6911A9-4B46-476C-BC5E-B87581666CD9" title="创建并初始化OCI函数的环境句柄。">OCIEnvNlsCreate（）</a></li>
                     </ul>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html>