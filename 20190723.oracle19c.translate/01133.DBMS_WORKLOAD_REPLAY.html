<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="The DBMS_WORKLOAD_REPLAY package provides a interface to replay a workload capture."></meta>
      <meta name="description" content="The DBMS_WORKLOAD_REPLAY package provides a interface to replay a workload capture."></meta>
      <title>DBMS_WORKLOAD_REPLAY</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="PL/SQL Packages and Types Reference"></meta>
      <meta property="og:description" content="The DBMS_WORKLOAD_REPLAY package provides a interface to replay a workload capture."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="PL/SQL Packages and Types Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-pl-sql-packages-and-types-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-03-25T11:24:34-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96430-03"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="DBMS_WORKLOAD_CAPTURE.html" title="Previous" type="text/html"></link>
      <link rel="next" href="DBMS_WORKLOAD_REPOSITORY.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database PL/SQL Packages and Types Reference"></meta>
    <meta name="dcterms.isVersionOf" content="ARPLS"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="DBMS_WORKLOAD_CAPTURE.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="DBMS_WORKLOAD_REPOSITORY.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">PL / SQL包和类型参考</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">DBMS_WORKLOAD_REPLAY</li>
            </ol>
            <a id="GUID-FE03A123-2257-41FF-BA90-AD0114DC1A4F" name="GUID-FE03A123-2257-41FF-BA90-AD0114DC1A4F"></a><a id="ARPLS208"></a><a id="ARPLS208"></a>
            
            <h2 id="ARPLS-GUID-FE03A123-2257-41FF-BA90-AD0114DC1A4F" class="sect2"><span class="enumeration_chapter">183</span> DBMS_WORKLOAD_REPLAY</h2>
         </header>
         <div class="ind">
            <div>
               <p><code class="codeph">DBMS_WORKLOAD_REPLAY</code>包提供重播工作负载捕获的接口。
               </p>
               <p>本章包含以下主题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="DBMS_WORKLOAD_REPLAY.html#GUID-EDDB36F7-B6BA-45E7-B360-92E0D618A9D3" title="DBMS_WORKLOAD_REPLAY包提供了一个接口，用于重放最初通过DBMS_WORKLOAD_CAPTURE包创建的工作负载捕获。">概观</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_WORKLOAD_REPLAY.html#GUID-54B5B8B7-3267-4737-BD0C-25F7D2EB47C7" title="安全模型描述了使用DBMS_WORKLOAD_REPLAY所需的权限。">安全模型</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_WORKLOAD_REPLAY.html#GUID-3E8587A7-3CFC-401E-A101-0A20893B5EB7" title="此表按字母顺序列出DBMS_WORKLOAD_REPLAY包子程序。">DBMS_WORKLOAD_REPLAY子程序摘要</a></p>
                  </li>
               </ul>
               <div class="infoboxnotealso" id="GUID-FE03A123-2257-41FF-BA90-AD0114DC1A4F__GUID-14C93375-51E1-49DB-A767-E0B1FCECF9C4">
                  <p class="notep1">也可以看看：</p>
                  <p>有关数据库重放的详细信息，请参见<a href="../ratug/database-replay.html#RATUG-GUID-C5CAF3E6-0F1C-4BD6-BC03-F71744AD600E" target="_blank"><span><cite>Oracle数据库测试指南</cite></span></a></p>
               </div>
            </div><a id="ARPLS74769"></a><a id="ARPLS74769"></a><div class="props_rev_3"><a id="GUID-EDDB36F7-B6BA-45E7-B360-92E0D618A9D3" name="GUID-EDDB36F7-B6BA-45E7-B360-92E0D618A9D3"></a><h3 id="ARPLS-GUID-EDDB36F7-B6BA-45E7-B360-92E0D618A9D3" class="sect3"><span class="enumeration_section">183.1</span> DBMS_WORKLOAD_REPLAY概述</h3>
               <div>
                  <p><code class="codeph">DBMS_WORKLOAD_REPLAY</code>包提供了一个接口，用于重放最初通过DBMS_WORKLOAD_CAPTURE包创建的工作负载捕获。
                  </p>
                  <div class="section">
                     <p>通常， <code class="codeph">DBMS_WORKLOAD_CAPTURE</code>包在生产系统中用于捕获生产工作负载，随后<code class="codeph">DBMS_WORKLOAD_REPLAY</code>包在测试系统中用于重放捕获的生产工作负载以用于测试目的。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="DBMS_WORKLOAD_CAPTURE.html#GUID-77C6507C-3DE6-4FB4-B180-530BEB840BE8" title="DBMS_WORKLOAD_CAPTURE包配置Workload Capture系统并生成工作负载捕获数据。">DBMS_WORKLOAD_CAPTURE</a></li>
                     </ul>
                  </div>
               </div>
            </div><a id="ARPLS69068"></a><a id="ARPLS69068"></a><div class="props_rev_3"><a id="GUID-54B5B8B7-3267-4737-BD0C-25F7D2EB47C7" name="GUID-54B5B8B7-3267-4737-BD0C-25F7D2EB47C7"></a><h3 id="ARPLS-GUID-54B5B8B7-3267-4737-BD0C-25F7D2EB47C7" class="sect3"><span class="enumeration_section">183.2</span> DBMS_WORKLOAD_REPLAY安全模型</h3>
               <div>
                  <p>安全模型描述了使用<code class="codeph">DBMS_WORKLOAD_REPLAY</code>所需的权限。</p>
                  <div class="section">
                     <p>以下代码示例显示了以下所需的最小权限集：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>创建目录对象</p>
                        </li>
                        <li>
                           <p>操作<code class="codeph">DBMS_WORKLOAD_CAPTURE</code>和<code class="codeph">DBMS_WORKLOAD_REPLAY</code>包提供的接口</p>
                        </li>
                        <li>
                           <p>充当重播客户端用户（wrc <code class="codeph">someuser</code> / <code class="codeph">somepassword</code>或wrc <code class="codeph">USER=someuser</code> <code class="codeph">PASSWORD=somepassword</code> ）</p>
                        </li>
                     </ul><pre class="oac_no_warn" dir="ltr">DROP USER rom1 CASCADE;由rom1识别的CREATE USER rom1;在DBMS_WORKLOAD_CAPTURE上执行GRANT EXECUTE到rom1;在DBMS_WORKLOAD_REPLAY上执行GRANT EXECUTE到rom1;授予rom1的会员资格;授予创建任何目录rom1; GRANT SELECT_CATALOG_ROLE到rom1;授予用户rom1;</pre><p>在捕获和重放系统上访问和操作文件和目录需要适当的操作系统权限。Oracle进程和执行捕获或重放的OS用户必须能够访问和操作至少一个可从运行实例的主机访问的公共目录。</p>
                     <p>重放客户端是一个多线程程序（位于<code class="codeph">$ORACLE_HOME/bin</code>目录中的名为<code class="codeph">wrc</code>的可执行文件），其中每个线程都从捕获的会话中提交工作负载。执行重放的OS用户必须能够在用于重放客户端的主机上执行<code class="codeph">wrc</code> ，并且能够适当地访问文件系统，以便能够在必要时将捕获复制到重放客户端的主机。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS69069"></a><a id="ARPLS69070"></a><a id="ARPLS69070"></a><a id="ARPLS69069"></a><div class="props_rev_3"><a id="GUID-3E8587A7-3CFC-401E-A101-0A20893B5EB7" name="GUID-3E8587A7-3CFC-401E-A101-0A20893B5EB7"></a><h3 id="ARPLS-GUID-3E8587A7-3CFC-401E-A101-0A20893B5EB7" class="sect3"><span class="enumeration_section">183.3</span> DBMS_WORKLOAD_REPLAY子程序摘要</h3>
               <div>
                  <p>此表按字母顺序列出<code class="codeph">DBMS_WORKLOAD_REPLAY</code>程序。
                  </p>
                  <div class="tblformal" id="GUID-3E8587A7-3CFC-401E-A101-0A20893B5EB7__GUID-725822E4-AE69-4A7A-AD91-389C0272B1E2">
                     <p class="titleintable">表183-1 DBMS_WORKLOAD_REPLAY包子程序</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_WORKLOAD_REPLAY包子程序" width="100%" border="1" summary="This table lists the DBMS_WORKLOAD_REPLAY subprograms in alphabetical order and briefly describes them." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="39%" id="d1094913e481">子程序</th>
                              <th align="left" valign="bottom" width="61%" id="d1094913e484">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d1094913e489" headers="d1094913e481 ">
                                 <p><a href="DBMS_WORKLOAD_REPLAY.html#GUID-91E3D03F-F295-48F3-AE9A-5B38B85822A9" title="此函数将给定的捕获添加到当前计划。该目录必须是在当前数据库版本中处理的有效捕获。它返回一个唯一ID，用于标识此计划中的此捕获。">ADD_CAPTURE函数</a></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d1094913e489 d1094913e484 ">
                                 <p>将给定的捕获添加到当前计划</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d1094913e500" headers="d1094913e481 ">
                                 <p><a href="DBMS_WORKLOAD_REPLAY.html#GUID-5B1FB11E-0909-483A-90F8-6BF01F88CE61" title="此过程添加过滤器以仅重播捕获的工作负载的子集。">ADD_FILTER过程</a></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d1094913e500 d1094913e484 ">
                                 <p>添加过滤器以仅重播捕获的工作负载的子集</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d1094913e511" headers="d1094913e481 ">
                                 <p><a href="DBMS_WORKLOAD_REPLAY.html#GUID-880217AF-AC58-48C4-85D0-F1B28659D816" title="此功能在两次捕获之间添加计划顺序。">ADD_SCHEDULE_ORDERING函数</a></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d1094913e511 d1094913e484 ">
                                 <p>在两次捕获之间添加计划顺序</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d1094913e522" headers="d1094913e481 ">
                                 <p><a href="DBMS_WORKLOAD_REPLAY.html#GUID-46FE04CC-A843-43AE-8CDF-F4742FD37EBC" title="此过程修改视图DBA_WORKLOAD_GROUP_ASSIGNMENTS。">ASSIGN_GROUP_TO_INSTANCE程序</a></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d1094913e522 d1094913e484 ">
                                 <p>修改视图<code class="codeph">DBA_WORKLOAD_GROUP_ASSIGNMENTS</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d1094913e538" headers="d1094913e481 ">
                                 <p><a href="DBMS_WORKLOAD_REPLAY.html#GUID-15472C5A-8535-4CB1-991E-864880E91FC2" title="此过程启动创建可重用的重播计划。">BEGIN_REPLAY_SCHEDULE程序</a></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d1094913e538 d1094913e484 ">
                                 <p>开始创建可重复使用的重播计划</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d1094913e549" headers="d1094913e481 ">
                                 <p><a href="DBMS_WORKLOAD_REPLAY.html#GUID-EF05D699-0699-48F0-B602-613236F373C0" title="此功能在已处理的工作负载捕获目录上运行，以估计忠实重放给定工作负载所需的主机和工作负载重放客户端的数量。此函数将结果作为XML CLOB返回。">CALIBRATE功能</a></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d1094913e549 d1094913e484 ">
                                 <p>在已处理的工作负载捕获目录上运行，以估计忠实重放给定工作负载所需的主机和工作负载重放客户端的数量</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d1094913e563" headers="d1094913e481 ">
                                 <p><a href="DBMS_WORKLOAD_REPLAY.html#GUID-B130383B-81C3-4E61-9B09-C9E9D60920A8" title="此过程取消正在进行的工作负载重放。将自动通知所有外部重播客户端（WRC）以停止发出捕获的工作负载并退出。">CANCEL_REPLAY程序</a></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d1094913e563 d1094913e484 ">
                                 <p>取消正在进行的工作负载重放</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d1094913e574" headers="d1094913e481 ">
                                 <p><a href="DBMS_WORKLOAD_REPLAY.html#GUID-7B728A46-1B54-45E8-B459-20A427F66440" title="此过程生成一个报告，将重放与其捕获或同一捕获的另一次重放进行比较。">COMPARE_PERIOD_REPORT程序</a></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d1094913e574 d1094913e484 ">
                                 <p>生成一个报告，将重放与其捕获或同一捕获的另一次重放进行比较</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d1094913e585" headers="d1094913e481 ">
                                 <p><a href="DBMS_WORKLOAD_REPLAY.html#GUID-DF5BB2C2-D00F-4EB2-8ADE-C943C9125C59" title="此过程生成一个报告，将在重放期间捕获的sqlset与在工作负载捕获期间捕获的sqlset或在同一捕获的另一次重放期间捕获的sqlset进行比较。">COMPARE_SQLSET_REPORT函数</a></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d1094913e585 d1094913e484 ">
                                 <p>生成一个报告，将在重放期间捕获的sqlset与在工作负载捕获期间捕获的sqlset或在同一捕获的另一次重放期间捕获的sqlset进行比较</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d1094913e596" headers="d1094913e481 ">
                                 <p><a href="DBMS_WORKLOAD_REPLAY.html#GUID-CCC99CF2-EB31-4B23-8E52-1F85B95FDDE7" title="此过程为replay_dir上的重放创建新的过滤器集。">CREATE_FILTER_SET过程</a></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d1094913e596 d1094913e484 ">
                                 <p>使用添加的重<code class="codeph">replay_dir</code>滤器创建一组过滤器，用于对重放中的<code class="codeph">replay_dir</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d1094913e612" headers="d1094913e481 ">
                                 <p><a href="DBMS_WORKLOAD_REPLAY.html#GUID-090D4525-1EF7-448D-86BC-A4D50C9638E0" title="此过程将删除指定的过滤器。">DELETE_FILTER过程</a></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d1094913e612 d1094913e484 ">
                                 <p>删除指定的过滤器</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d1094913e624" headers="d1094913e481 ">
                                 <p><a href="DBMS_WORKLOAD_REPLAY.html#GUID-58054B48-7776-43B6-AA1C-CD73A7163E67" title="此过程将删除DBA_WORKLOAD_REPLAYS中与给定工作负载重播ID对应的行。">DELETE_REPLAY_INFO过程</a></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d1094913e624 d1094913e484 ">
                                 <p>删除<code class="codeph">DBA_WORKLOAD_REPLAYS</code>中与给定工作负载重播ID对应的行</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d1094913e641" headers="d1094913e481 ">
                                 <p><a href="DBMS_WORKLOAD_REPLAY.html#GUID-CBE79E0F-9678-42BE-893A-ACD93108ADB1" title="此过程包含当前计划的创建。该计划现在已保存并与重播目录相关联，可用于重播。">END_REPLAY_SCHEDULE程序</a></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d1094913e641 d1094913e484 ">
                                 <p>完成当前计划的创建</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d1094913e652" headers="d1094913e481 ">
                                 <p><a href="DBMS_WORKLOAD_REPLAY.html#GUID-A13D311C-AAB8-4887-A29F-46292ACA414B" title="此过程导出与规定的重播ID关联的AWR快照。">EXPORT_AWR程序</a></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d1094913e652 d1094913e484 ">
                                 <p>导出与给定重播ID关联的自动工作负载存储库（AWR）快照</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d1094913e663" headers="d1094913e481 ">
                                 <p><a href="DBMS_WORKLOAD_REPLAY.html#GUID-F0DC61C0-C8EA-437E-95A3-778D226D744E" title="此过程从现有工作负载捕获创建新捕获。">GENERATE_CAPTURE_SUBSET程序</a></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d1094913e663 d1094913e484 ">
                                 <p>从现有工作负载捕获创建新捕获</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d1094913e674" headers="d1094913e481 ">
                                 <p><a href="DBMS_WORKLOAD_REPLAY.html#GUID-9608AC9E-BAA5-4CCB-8BDD-54952F9924F0" title="此函数检索有关分支调用的信息，包括语句文本，SQL ID和绑定。如果记录的用户呼叫的重放具有数据或错误分歧，则它是分叉呼叫。">GET_DIVERGING_STATEMENT函数</a></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d1094913e674 d1094913e484 ">
                                 <p>导出与给定重播ID关联的自动工作负载存储库（AWR）快照</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d1094913e685" headers="d1094913e481 ">
                                 <p><a href="DBMS_WORKLOAD_REPLAY.html#GUID-A6E10F1E-002D-451A-A8C1-CC34FCC42B3F" title="此函数返回SET_REPLAY_DIRECTORY过程设置的当前重播目录。如果没有设置重播目录，则返回NULL。">GET_REPLAY_DIRECTORY函数</a></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d1094913e685 d1094913e484 ">
                                 <p>返回<a href="DBMS_WORKLOAD_REPLAY.html#GUID-5A54C82E-A60C-451F-978F-0FE58E18DC67" title="此过程将包含多个工作负载捕获的目录设置为当前重播目录。">SET_REPLAY_DIRECTORY过程</a>设置的当前重播目录。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d1094913e705" headers="d1094913e481 ">
                                 <p><a href="DBMS_WORKLOAD_REPLAY.html#GUID-DE583F1C-B5EA-423F-8904-9633AE7AF450" title="此函数从规定的目录中检索有关工作负载捕获的信息以及所有工作负载重放尝试的历史记录。">GET_REPLAY_INFO函数</a></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d1094913e705 d1094913e484 ">
                                 <p>从相关目录中检索有关工作负载捕获的信息以及所有工作负载重放尝试的历史记录</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d1094913e716" headers="d1094913e481 ">
                                 <p><a href="DBMS_WORKLOAD_REPLAY.html#GUID-F1559336-EECF-4D2D-9C54-15C120C2B26B" title="此过程获取重播超时设置。">GET_REPLAY_TIMEOUT程序</a></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d1094913e716 d1094913e484 ">
                                 <p>检索重播超时设置</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d1094913e727" headers="d1094913e481 ">
                                 <p><a href="DBMS_WORKLOAD_REPLAY.html#GUID-DDD7F031-0CF5-417F-9691-907DCE3BF328" title="此过程从给定的重播中导入AWR快照。">IMPORT_AWR功能</a></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d1094913e727 d1094913e484 ">
                                 <p>导入与给定重播ID关联的自动工作负载存储库（AWR）快照</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d1094913e738" headers="d1094913e481 ">
                                 <p><a href="DBMS_WORKLOAD_REPLAY.html#GUID-BBD77231-AEE7-4285-BAB1-4066FB658C93" title="此过程将数据库状态置于INIT中以进行多次捕获重放。">INITIALIZE_CONSOLIDATED_REPLAY程序</a></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d1094913e738 d1094913e484 ">
                                 <p>将数据库状态置于<code class="codeph">INIT</code>以进行多次捕获重放</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d1094913e755" headers="d1094913e481 ">
                                 <p><a href="DBMS_WORKLOAD_REPLAY.html#GUID-F3C9FDEC-27F9-45D8-BC60-66E0B5A8C105" title="此过程将数据库状态置于INIT中以进行REPLAY模式，并在准备重放之前将数据加载到重放系统中（通过执行PAUSE_REPLAY过程）。">INITIALIZE_REPLAY程序</a></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d1094913e755 d1094913e484 ">
                                 <p>初始化重放，并将处理期间生成的特定数据加载到数据库中</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d1094913e773" headers="d1094913e481 ">
                                 <p><a href="DBMS_WORKLOAD_REPLAY.html#GUID-0E133FC7-577A-46A8-82EB-247DAE65BEB8" title="此函数报告当前是否暂停重播。">IS_REPLAY_PAUSED函数</a></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d1094913e773 d1094913e484 ">
                                 <p>报告重播当前是否已暂停</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d1094913e784" headers="d1094913e481 ">
                                 <p><a href="DBMS_WORKLOAD_REPLAY.html#GUID-E6939BCB-0A46-47C1-8FD2-2CA8518FFDD2" title="此过程将捕获的超过1000个字符的SQL语句加载到DBA_WORKLOAD_LONG_SQLTEXT视图。">LOAD_LONG_SQLTEXT过程</a></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d1094913e784 d1094913e484 ">
                                 <p>将捕获的超过1000个字符的SQL语句加载到<code class="codeph">DBA_WORKLOAD_LONG_SQLTEXT</code>视图</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d1094913e801" headers="d1094913e481 ">
                                 <p><a href="DBMS_WORKLOAD_REPLAY.html#GUID-F5DF973D-922F-4F7C-AEBB-C1641037D0ED" title="此过程暂停正在进行的工作负载重放。">PAUSE_REPLAY程序</a></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d1094913e801 d1094913e484 ">
                                 <p>暂停正在进行的工作负载重放</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d1094913e812" headers="d1094913e481 ">
                                 <p><a href="DBMS_WORKLOAD_REPLAY.html#GUID-2F055964-E49A-41D2-9CDA-5F4DB5D2235E" title="此过程预先计算给定调用，流或整个重放的分歧信息，以便GET_DIVERGING_STATEMENT函数尽可能快地返回预先计算的调用。">POPULATE_DIVERGENCE程序</a></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d1094913e812 d1094913e484 ">
                                 <p>预先计算给定调用，流或整个重放的分歧信息，以便<a href="DBMS_WORKLOAD_REPLAY.html#GUID-9608AC9E-BAA5-4CCB-8BDD-54952F9924F0" title="此函数检索有关分支调用的信息，包括语句文本，SQL ID和绑定。如果记录的用户呼叫的重放具有数据或错误分歧，则它是分叉呼叫。">GET_DIVERGING_STATEMENT函数</a>尽可能快地返回预先计算的调用</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d1094913e829" headers="d1094913e481 ">
                                 <p><a href="DBMS_WORKLOAD_REPLAY.html#GUID-FEB0ED63-5086-4214-9F0C-DD97D2D4AC50" title="与PREPARE_REPLAY过程类似，此过程将数据库置于特殊状态" prepar="=" ="">PREPARE_CONSOLIDATED_REPLAY程序</a></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d1094913e829 d1094913e484 ">
                                 <p>将数据库置于特殊的“准备”模式，以进行多次捕获重放</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d1094913e843" headers="d1094913e481 ">
                                 <p><a href="DBMS_WORKLOAD_REPLAY.html#GUID-BC0B5C38-7C34-481B-B1E1-FE32E4D0640A" title="此过程将数据库状态置于PREPARE FOR REPLAY模式。">PREPARE_REPLAY程序</a></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d1094913e843 d1094913e484 ">
                                 <p>将数据库置于特殊的“准备”模式</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d1094913e857" headers="d1094913e481 ">
                                 <p><a href="DBMS_WORKLOAD_REPLAY.html#GUID-5DA9F293-880A-47C0-9AD4-981A891526E2" title="此过程处理capture_dir中的工作负载捕获。">PROCESS_CAPTURE程序</a></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d1094913e857 d1094913e484 ">
                                 <p>处理<code class="codeph">capture_dir</code>中的工作负载捕获</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d1094913e874" headers="d1094913e481 ">
                                 <p><a href="DBMS_WORKLOAD_REPLAY.html#GUID-BA6DDFD5-4384-44AB-8CA7-8FFA6D0F3F22" title="此过程将捕获的连接重新映射到新连接，以便用户会话可以在工作负载重放期间以所需方式连接到数据库。">REMAP_CONNECTION程序</a></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d1094913e874 d1094913e484 ">
                                 <p>将捕获的连接重新映射到新连接，以便用户会话可以在工作负载重放期间以所需方式连接到数据库</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d1094913e885" headers="d1094913e481 ">
                                 <p><a href="DBMS_WORKLOAD_REPLAY.html#GUID-07ABF9ED-0A07-4644-A8BB-92422BA6413A" title="此过程从当前计划中删除给定的捕获。">REMOVE_CAPTURE程序</a></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d1094913e885 d1094913e484 ">
                                 <p>从当前计划中删除给定的捕获</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d1094913e896" headers="d1094913e481 ">
                                 <p><a href="DBMS_WORKLOAD_REPLAY.html#GUID-08B0E7F1-D6DA-411C-BF9A-3B2144F9344D" title="此过程从当前重播计划中删除现有计划顺序。">REMOVE_SCHEDULE_ORDERING程序</a></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d1094913e896 d1094913e484 ">
                                 <p>从当前重播计划中删除现有计划订单</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d1094913e907" headers="d1094913e481 ">
                                 <p><a href="DBMS_WORKLOAD_REPLAY.html#GUID-33162BE4-462C-4E67-80EF-71D22C15AEFB" title="此函数生成有关规定的工作负载重放的报告。">报告功能</a></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d1094913e907 d1094913e484 ">
                                 <p>生成有关给定工作负载重放的报告</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d1094913e919" headers="d1094913e481 ">
                                 <p><a href="DBMS_WORKLOAD_REPLAY.html#GUID-D286820A-78B9-449F-9E98-0DC7E2ADFFEC" title="此过程将恢复暂停的工作负载重播。">RESUME_REPLAY程序</a></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d1094913e919 d1094913e484 ">
                                 <p>恢复暂停的工作负载重播</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d1094913e930" headers="d1094913e481 ">
                                 <p><a href="DBMS_WORKLOAD_REPLAY.html#GUID-381ABE48-25AC-4F1C-B4CF-B5307BA32B40" title="此过程重用指定过滤器集中的过滤器，就像使用ADD_SCHEDULE_ORDERING函数添加每个过滤器一样。">REUSE_REPLAY_FILTER_SET程序</a></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d1094913e930 d1094913e484 ">
                                 <p>重用指定过滤器集中的过滤器，就像使用<a href="DBMS_WORKLOAD_REPLAY.html#GUID-880217AF-AC58-48C4-85D0-F1B28659D816" title="此功能在两次捕获之间添加计划顺序。">ADD_SCHEDULE_ORDERING函数</a>添加过滤器一样</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d1094913e946" headers="d1094913e481 ">
                                 <p><a href="DBMS_WORKLOAD_REPLAY.html#GUID-428DDC4F-545E-4733-8537-6671F6EA48A4" title="除了PREPARE_REPLAY过程使用的参数外，此过程还设置重播的高级参数。">SET_ADVANCED_PARAMETER过程</a></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d1094913e946 d1094913e484 ">
                                 <p>除了与<a href="DBMS_WORKLOAD_REPLAY.html#GUID-BC0B5C38-7C34-481B-B1E1-FE32E4D0640A" title="此过程将数据库状态置于PREPARE FOR REPLAY模式。">PREPARE_REPLAY过程一起</a>使用的参数外，还设置重播的高级参数</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d1094913e965" headers="d1094913e481 ">
                                 <p><a href="DBMS_WORKLOAD_REPLAY.html#GUID-5A54C82E-A60C-451F-978F-0FE58E18DC67" title="此过程将包含多个工作负载捕获的目录设置为当前重播目录。">SET_REPLAY_DIRECTORY过程</a></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d1094913e965 d1094913e484 ">
                                 <p>将包含多个工作负载捕获的目录设置为当前重播目录</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d1094913e976" headers="d1094913e481 ">
                                 <p><a href="DBMS_WORKLOAD_REPLAY.html#GUID-7F9DEBCC-2361-43F0-9608-3FDC7F6288A1" title="此过程设置重播超时设置。目的是中止可能使重放速度变慢的用户调用，甚至导致重放挂起。">SET_REPLAY_TIMEOUT程序</a></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d1094913e976 d1094913e484 ">
                                 <p>设置重播超时设置</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d1094913e987" headers="d1094913e481 ">
                                 <p><a href="DBMS_WORKLOAD_REPLAY.html#GUID-8979505F-11E7-4690-BBDF-588CC50A043E" title="此过程指定在数据库重放操作期间要跳过或替换的SQL语句。">SET_SQL_MAPPING过程</a></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d1094913e987 d1094913e484 ">
                                 <p>指定在数据库重放操作期间要跳过或替换的SQL语句</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d1094913e998" headers="d1094913e481 ">
                                 <p><a href="DBMS_WORKLOAD_REPLAY.html#GUID-F05F873E-7D3E-43E6-95EA-73B3EDFC581A" title="此过程设置要在重放期间使用的新架构或用户名，而不是捕获的用户。">SET_USER_MAPPING过程</a></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d1094913e998 d1094913e484 ">
                                 <p>设置要在重放期间使用的新架构或用户名，而不是捕获的用户</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d1094913e1009" headers="d1094913e481 ">
                                 <p><a href="DBMS_WORKLOAD_REPLAY.html#GUID-0DDB579D-DC30-4D69-949F-C6A8E104B875" title="此过程开始重放多次捕获捕获。它应该仅用于合并重播。">START_CONSOLIDATED_REPLAY程序</a></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d1094913e1009 d1094913e484 ">
                                 <p>开始重复捕获多重捕获</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d1094913e1020" headers="d1094913e481 ">
                                 <p><a href="DBMS_WORKLOAD_REPLAY.html#GUID-278F8097-88C3-4F5A-8B01-24156A91D79B" title="此过程启动工作负载重播。">START_REPLAY程序</a></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d1094913e1020 d1094913e484 ">
                                 <p>启动工作负载重播</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d1094913e1031" headers="d1094913e481 ">
                                 <p><a href="DBMS_WORKLOAD_REPLAY.html#GUID-D682A832-C755-47FB-8A0F-15BA0DB19038" title="此过程将过滤器集应用于当前重播计划中的捕获。">USE_FILTER_SET程序</a></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d1094913e1031 d1094913e484 ">
                                 <p>使用通过调用<a href="DBMS_WORKLOAD_REPLAY.html#GUID-CCC99CF2-EB31-4B23-8E52-1F85B95FDDE7" title="此过程为replay_dir上的重放创建新的过滤器集。">CREATE_FILTER_SET过程</a>创建的给定过滤器集来过滤当前重放</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div><a id="ARPLS73981"></a><a id="ARPLS73982"></a><a id="ARPLS73982"></a><a id="ARPLS73981"></a><div class="props_rev_3"><a id="GUID-91E3D03F-F295-48F3-AE9A-5B38B85822A9" name="GUID-91E3D03F-F295-48F3-AE9A-5B38B85822A9"></a><h4 id="ARPLS-GUID-91E3D03F-F295-48F3-AE9A-5B38B85822A9" class="sect4"><span class="enumeration_section">183.3.1</span> ADD_CAPTURE函数</h4>
                  <div>
                     <p>此函数将给定的捕获添加到当前计划。该目录必须是在当前数据库版本中处理的有效捕获。它返回一个唯一ID，用于标识此计划中的此捕获。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-91E3D03F-F295-48F3-AE9A-5B38B85822A9__GUID-C0DC66B0-4D48-43C8-A3E0-0E29628383A0">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_WORKLOAD_REPLAY.ADD_CAPTURE（capture_dir_name IN VARCHAR2，start_delay_seconds IN NUMBER DEFAULT 0，stop_replay IN BOOLEAN FALSE，take_begin_snapshot IN BOOLEAN TRUE，take_end_snapshot IN BOOLEAN TRUE，query_only IN BOOLEAN DEFAULT FALSE）返回号码; DBMS_WORKLOAD_REPLAY.ADD_CAPTURE（capture_dir_name IN VARCHAR2，start_delay_seconds IN NUMBER DEFAULT 0，stop_replay IN BOOLEAN FALSE，take_begin_snapshot IN BOOLEAN TRUE，take_end_snapshot IN BOOLEAN TRUE，query_only IN VARCHAR2 DEFAULT'N'）返回号码;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-91E3D03F-F295-48F3-AE9A-5B38B85822A9__GUID-7A292304-5C71-4D9C-99CE-2E6DD72020B5">参数</p>
                        <div class="tblformal" id="GUID-91E3D03F-F295-48F3-AE9A-5B38B85822A9__GUID-22FEFFC3-4F80-42D5-920D-81AAB70D5073">
                           <p class="titleintable">表183-2 ADD_CAPTURE函数参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="ADD_CAPTURE函数参数" width="100%" border="1" summary="This table describes the parameters of DBMS_WORKLOAD_REPLAY.ADD_CAPTURE." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="33%" id="d1094913e1160">参数</th>
                                    <th align="left" valign="bottom" width="67%" id="d1094913e1163">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1094913e1168" headers="d1094913e1160 ">
                                       <p><code class="codeph">capture_dir_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1094913e1168 d1094913e1163 ">
                                       <p>包含重放顶级目录下的捕获的OS目录的名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1094913e1176" headers="d1094913e1160 ">
                                       <p><code class="codeph">start_delay_seconds</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1094913e1176 d1094913e1163 ">
                                       <p>此捕获重播开始前的延迟时间（以秒为单位）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1094913e1184" headers="d1094913e1160 ">
                                       <p><code class="codeph">stop_replay</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1094913e1184 d1094913e1163 ">
                                       <p>完成后停止重播</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1094913e1192" headers="d1094913e1160 ">
                                       <p><code class="codeph">take_begin_snapshot</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1094913e1192 d1094913e1163 ">
                                       <p>在捕获重放开始时拍摄AWR快照</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1094913e1200" headers="d1094913e1160 ">
                                       <p><code class="codeph">take_end_snapshot</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1094913e1200 d1094913e1163 ">
                                       <p>在此捕获的重放完成时拍摄AWR快照</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1094913e1208" headers="d1094913e1160 ">
                                       <p><code class="codeph">query_only</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1094913e1208 d1094913e1163 ">
                                       <p>仅重播此工作负载捕获的只读查询</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-91E3D03F-F295-48F3-AE9A-5B38B85822A9__GUID-F90237A4-21CF-4E71-B905-9D63FFC7DC83">使用说明</p>
                        <p>必须已调用<a href="DBMS_WORKLOAD_REPLAY.html#GUID-5A54C82E-A60C-451F-978F-0FE58E18DC67" title="此过程将包含多个工作负载捕获的目录设置为当前重播目录。">SET_REPLAY_DIRECTORY过程</a> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS73983"></a><a id="ARPLS73984"></a><a id="ARPLS73984"></a><a id="ARPLS73983"></a><div class="props_rev_3"><a id="GUID-5B1FB11E-0909-483A-90F8-6BF01F88CE61" name="GUID-5B1FB11E-0909-483A-90F8-6BF01F88CE61"></a><h4 id="ARPLS-GUID-5B1FB11E-0909-483A-90F8-6BF01F88CE61" class="sect4"><span class="enumeration_section">183.3.2</span> ADD_FILTER过程</h4>
                  <div>
                     <p>此过程添加过滤器以仅重播捕获的工作负载的子集。</p>
                     <div class="section">
                        <p>该过程添加了一个新过滤器，该过滤器在使用<a href="DBMS_WORKLOAD_REPLAY.html#GUID-CCC99CF2-EB31-4B23-8E52-1F85B95FDDE7" title="This procedure creates a new filter set for the replays at replay_dir.">CREATE_FILTER_SET过程</a>创建的下一个重<a href="DBMS_WORKLOAD_REPLAY.html#GUID-CCC99CF2-EB31-4B23-8E52-1F85B95FDDE7" title="此过程为replay_dir上的重放创建新的过滤器集。">放过</a>滤器集中使用。这个过滤器将被视为一个“ <code class="codeph">INCLUSION</code> ”或“ <code class="codeph">EXCLUSION</code>根据传递给个说法”过滤<code class="codeph">CREATE_FILTER_SET</code>创建过滤器集时。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5B1FB11E-0909-483A-90F8-6BF01F88CE61__GUID-C734E5F5-2DF6-4D06-8F03-1A70A01351D2">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_WORKLOAD_REPLAY.ADD_FILTER（fname IN VARCHAR2，fattribute IN VARCHAR2，fvalue IN VARCHAR2）; DBMS_WORKLOAD_REPLAY.ADD_FILTER（fname IN VARCHAR2，fattribute IN VARCHAR2，fvalue IN NUMBER）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5B1FB11E-0909-483A-90F8-6BF01F88CE61__GUID-5A6E9B08-8312-49E0-A127-A79AB24D1A16">参数</p>
                        <div class="tblformal" id="GUID-5B1FB11E-0909-483A-90F8-6BF01F88CE61__GUID-06C883FD-B53A-4DF0-A9DF-AC9B86830D14">
                           <p class="titleintable">表183-3 ADD_FILTER过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="ADD_FILTER过程参数" width="100%" border="1" summary="This table describes the parameters of DBMS_WORKLOAD_REPLAY.ADD_FILTER." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="33%" id="d1094913e1360">参数</th>
                                    <th align="left" valign="bottom" width="67%" id="d1094913e1363">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1094913e1368" headers="d1094913e1360 ">
                                       <p><code class="codeph">FNAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1094913e1368 d1094913e1363 ">
                                       <p>（必填）过滤器的名称。如果不需要，可以在以后删除过滤器。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1094913e1376" headers="d1094913e1360 ">
                                       <p><code class="codeph">fattribute</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1094913e1376 d1094913e1363 ">
                                       <p>（必需）指定将过滤器定义为以下<code class="codeph">STRING</code>类型值之一的属性：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">用户</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">MODULE</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">行动</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">程序</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">服务</code> 
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">CONNECTION_STRING</code></p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1094913e1413" headers="d1094913e1360 ">
                                       <p><code class="codeph">F值</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1094913e1413 d1094913e1363 ">
                                       <p>（必需）指定给定“属性”必须等于的值，以使过滤器被视为活动状态。对于<code class="codeph">STRING</code>类型的所有属性，可以使用'％'等通配符。目前所有列出的<code class="codeph">fattribute</code>值都是<code class="codeph">STRING</code>类型。 <code class="codeph">INSTANCE_NUMBER</code>是<code class="codeph">NUMBER</code>属性。目前仅支持捕获。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS72130"></a><a id="ARPLS72131"></a><a id="ARPLS72131"></a><a id="ARPLS72130"></a><div class="props_rev_3"><a id="GUID-880217AF-AC58-48C4-85D0-F1B28659D816" name="GUID-880217AF-AC58-48C4-85D0-F1B28659D816"></a><h4 id="ARPLS-GUID-880217AF-AC58-48C4-85D0-F1B28659D816" class="sect4"><span class="enumeration_section">183.3.3</span> ADD_SCHEDULE_ORDERING函数</h4>
                  <div>
                     <p>此功能在两次捕获之间添加计划顺序。</p>
                     <div class="section">
                        <p>一起， <code class="codeph">schedule_capture_id</code>和waitfor_capture_id形成之前由<a href="DBMS_WORKLOAD_REPLAY.html#GUID-880217AF-AC58-48C4-85D0-F1B28659D816" title="此功能在两次捕获之间添加计划顺序。">ADD_SCHEDULE_ORDERING函数</a>添加的调度顺序。顺序是，除非<code class="codeph">waiting_for_capture_id</code>指示的捕获重放完成，否则<code class="codeph">schedule_capture_id</code>指示的捕获重放将不会开始。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-880217AF-AC58-48C4-85D0-F1B28659D816__GUID-60318D5A-D0EB-4B29-BED6-1213B7034451">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_WORKLOAD_REPLAY.ADD_SCHEDULE_ORDERING（schedule_capture_id IN VARCHAR2，waitfor_capture_id IN VARCHAR2）返回号码;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-880217AF-AC58-48C4-85D0-F1B28659D816__GUID-8BD22356-B062-4614-B7C5-8CC48BD145D0">参数</p>
                        <div class="tblformal" id="GUID-880217AF-AC58-48C4-85D0-F1B28659D816__GUID-BB0BAF90-A95D-4F84-A600-581A885959D4">
                           <p class="titleintable">表183-4 ADD_SCHEDULE_ORDERING函数参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="ADD_SCHEDULE_ORDERING函数参数" width="100%" border="1" summary="This table describes the parameters of DBMS_WORKLOAD_REPLAY.ADD_SCHEDULE_ORDERING." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="33%" id="d1094913e1564">参数</th>
                                    <th align="left" valign="bottom" width="67%" id="d1094913e1567">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1094913e1572" headers="d1094913e1564 ">
                                       <p><code class="codeph">schedule_capture_id</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1094913e1572 d1094913e1567 ">
                                       <p>指向已添加到当前重播计划的捕获。根据此子程序添加的新计划顺序，在<code class="codeph">waitfor_capture_id</code>指定的另一个捕获的<code class="codeph">waitfor_capture_id</code>运行完成之前，它的重放将不会开始。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1094913e1583" headers="d1094913e1564 ">
                                       <p><code class="codeph">waitfor_capture_id</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1094913e1583 d1094913e1567 ">
                                       <p>指向已添加到当前重播计划的捕获。根据此子程序添加的新计划顺序， <code class="codeph">schedule_capture_id</code>指定的捕获重放将不会开始，直到此捕获的重放运行完成。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-880217AF-AC58-48C4-85D0-F1B28659D816__GUID-E8C48422-B9C4-4093-B16F-624BC9FE69F4">返回值</p>
                        <p>如果无法添加约束，则返回非零错误代码</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-880217AF-AC58-48C4-85D0-F1B28659D816__GUID-50B6FA7F-0234-490B-84E5-C301F03F0CC5">使用说明</p>
                        <p>这两个捕获必须已添加到重播计划中。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-46FE04CC-A843-43AE-8CDF-F4742FD37EBC" name="GUID-46FE04CC-A843-43AE-8CDF-F4742FD37EBC"></a><h4 id="ARPLS-GUID-46FE04CC-A843-43AE-8CDF-F4742FD37EBC" class="sect4"><span class="enumeration_section">183.3.4</span> ASSIGN_GROUP_TO_INSTANCE程序</h4>
                  <div>
                     <p>此过程修改视图<code class="codeph">DBA_WORKLOAD_GROUP_ASSIGNMENTS</code> 。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-46FE04CC-A843-43AE-8CDF-F4742FD37EBC__GUID-DE58D030-3B07-4D1F-9E57-F0B7AABEC4DE">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_WORKLOAD_REPLAY.ASSIGN_GROUP_TO_INSTANCE（group_id IN INTEGER，instance_number IN INTEGER）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-46FE04CC-A843-43AE-8CDF-F4742FD37EBC__GUID-C8CB32DF-537F-4165-87BF-CB7CF3E26442">参数</p>
                        <div class="tblformal" id="GUID-46FE04CC-A843-43AE-8CDF-F4742FD37EBC__GUID-5B22DE95-AC57-4879-84C2-6D51236ECEC1">
                           <p class="titleintable">表183-5 ASSIGN_GROUP_TO_INSTANCE过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="ASSIGN_GROUP_TO_INSTANCE过程参数" width="100%" border="1" summary="This table describes the parameters of DBMS_WORKLOAD_REPLAY.ASSIGN_GROUP_TO_INSTANCES." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" id="d1094913e1712">参数</th>
                                    <th align="left" valign="bottom" id="d1094913e1715">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d1094913e1720" headers="d1094913e1712 ">
                                       <p><code class="codeph">GROUP_ID</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d1094913e1720 d1094913e1715 ">
                                       <p>指定捕获文件组的标识符</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d1094913e1728" headers="d1094913e1712 ">
                                       <p><code class="codeph">INSTANCE_NUMBER</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d1094913e1728 d1094913e1715 ">
                                       <p>用于实例注册的数字。</p>
                                       <p>它相当于<code class="codeph">V$INSTANCE</code>的<code class="codeph">INSTANCE_NUMBER</code>列。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="infoboxnotealso" id="GUID-46FE04CC-A843-43AE-8CDF-F4742FD37EBC__GUID-B90F23F1-682A-4751-AC03-33E4D6BC7568">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><a href="../refrn/DBA_WORKLOAD_GROUP_ASSIGNMENTS.html#REFRN-GUID-51CB1687-FC21-42CE-9897-ABF0F21B8733" target="_blank"><span><cite>Oracle数据库参考中的</cite></span></a> <code class="codeph">DBA_WORKLOAD_GROUP_ASSIGNMENTS</code></p>
                              </li>
                              <li>
                                 <p><a href="../refrn/V-INSTANCE.html#REFRN-GUID-6A0C9B51-1714-4223-B166-9D54C4E65D67" target="_blank"><span><cite>Oracle数据库参考中的</cite></span></a> <code class="codeph">V$INSTANCE</code></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS73985"></a><a id="ARPLS73986"></a><a id="ARPLS73986"></a><a id="ARPLS73985"></a><div class="props_rev_3"><a id="GUID-15472C5A-8535-4CB1-991E-864880E91FC2" name="GUID-15472C5A-8535-4CB1-991E-864880E91FC2"></a><h4 id="ARPLS-GUID-15472C5A-8535-4CB1-991E-864880E91FC2" class="sect4"><span class="enumeration_section">183.3.5</span> BEGIN_REPLAY_SCHEDULE程序</h4>
                  <div>
                     <p>此过程启动创建可重用的重播计划。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-15472C5A-8535-4CB1-991E-864880E91FC2__GUID-CD9FF269-FE0C-49F8-A5F3-3FE8C617C3FA">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_WORKLOAD_REPLAY.BEGIN_REPLAY_SCHEDULE（replay_dir_obj IN VARCHAR2，schedule_name IN VARCHAR2）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-15472C5A-8535-4CB1-991E-864880E91FC2__GUID-AFB951C1-DD7A-4C0C-9729-99974C078F5E">参数</p>
                        <div class="tblformal" id="GUID-15472C5A-8535-4CB1-991E-864880E91FC2__GUID-7FA3A277-BB0B-4C44-BBC8-8B39963181DA">
                           <p class="titleintable">表183-6 BEGIN_REPLAY_SCHEDULE过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="BEGIN_REPLAY_SCHEDULE过程参数" width="100%" border="1" summary="This table describes the parameters of DBMS_WORKLOAD_REPLAY.BEGIN_REPLAY_SCHEDULE." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="33%" id="d1094913e1876">参数</th>
                                    <th align="left" valign="bottom" width="67%" id="d1094913e1879">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1094913e1884" headers="d1094913e1876 ">
                                       <p><code class="codeph">replay_dir_obj</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1094913e1884 d1094913e1879 ">
                                       <p>指向包含计划中涉及的所有捕获目录的重放目录的目录对象</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1094913e1892" headers="d1094913e1876 ">
                                       <p><code class="codeph">任务计划_</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1094913e1892 d1094913e1879 ">
                                       <p>要重播的计划的名称</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-15472C5A-8535-4CB1-991E-864880E91FC2__GUID-A3DB583F-C3C9-445F-847D-56D0081EA9B3">使用说明</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>一次只能有一个计划处于创建模式。在<code class="codeph">end_replay_schedule</code>之前再次调用子程序将引发错误。
                              </p>
                           </li>
                           <li>
                              <p>先决条件：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>已使用相同数据库版本中的<a href="DBMS_WORKLOAD_REPLAY.html#GUID-5DA9F293-880A-47C0-9AD4-981A891526E2" title="此过程处理capture_dir中的工作负载捕获。">PROCESS_CAPTURE过程</a>处理工作负载捕获。
                                    </p>
                                 </li>
                                 <li>
                                    <p>用户必须已适当地复制捕获目录。</p>
                                 </li>
                                 <li>
                                    <p>数据库未处于重播模式。</p>
                                 </li>
                                 <li>
                                    <p><a href="DBMS_WORKLOAD_REPLAY.html#GUID-5A54C82E-A60C-451F-978F-0FE58E18DC67" title="此过程将包含多个工作负载捕获的目录设置为当前重播目录。">SET_REPLAY_DIRECTORY过程</a>已被调用。
                                    </p>
                                 </li>
                              </ul>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS69071"></a><a id="ARPLS69072"></a><a id="ARPLS69072"></a><a id="ARPLS69071"></a><div class="props_rev_3"><a id="GUID-EF05D699-0699-48F0-B602-613236F373C0" name="GUID-EF05D699-0699-48F0-B602-613236F373C0"></a><h4 id="ARPLS-GUID-EF05D699-0699-48F0-B602-613236F373C0" class="sect4"><span class="enumeration_section">183.3.6</span>校准功能</h4>
                  <div>
                     <p>此功能在已处理的工作负载捕获目录上运行，以估计忠实重放给定工作负载所需的主机和工作负载重放客户端的数量。此函数将结果作为XML <code class="codeph">CLOB</code>返回。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-EF05D699-0699-48F0-B602-613236F373C0__GUID-E4BD51F8-1ABE-4B9F-869C-F32F7310498B">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_WORKLOAD_REPLAY.CALIBRATE（capture_dir IN VARCHAR2，process_per_cpu IN BINARY_INTEGER DEFAULT 4，threads_per_process IN BINARY_INTEGER DEFAULT 50）RETURN CLOB;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-EF05D699-0699-48F0-B602-613236F373C0__GUID-9D07E076-F018-4C4C-ADBE-BB6730AFC049">参数</p>
                        <div class="tblformal" id="GUID-EF05D699-0699-48F0-B602-613236F373C0__GUID-3173BE12-4CDD-474F-9D60-5A3B22E6371A">
                           <p class="titleintable">表183-7 CALIBRATE功能参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="CALIBRATE函数参数" width="100%" border="1" summary="This table describes the parameters of DBMS_WORKLOAD_REPLAY.CALIBRATE." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="33%" id="d1094913e2055">参数</th>
                                    <th align="left" valign="bottom" width="67%" id="d1094913e2058">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1094913e2063" headers="d1094913e2055 ">
                                       <p><code class="codeph">capture_dir</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1094913e2063 d1094913e2058 ">
                                       <p>指向包含已处理捕获数据的（区分大小写）OS目录的目录对象的名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1094913e2071" headers="d1094913e2055 ">
                                       <p><code class="codeph">process_per_cpu</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1094913e2071 d1094913e2058 ">
                                       <p>每个CPU允许的最大进程数（默认值为4）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1094913e2079" headers="d1094913e2055 ">
                                       <p><code class="codeph">threads_per_process</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1094913e2079 d1094913e2058 ">
                                       <p>每个进程允许的最大线程数（默认为50）</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-EF05D699-0699-48F0-B602-613236F373C0__GUID-1A2AAF6C-C35B-4B42-AE03-A8129AA53F5A">返回值</p>
                        <p>返回格式为XML的<code class="codeph">CLOB</code> ，其中包含：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>有关捕获的信息</p>
                           </li>
                           <li>
                              <p>当前数据库版本</p>
                           </li>
                           <li>
                              <p>输入此功能的参数</p>
                           </li>
                           <li>
                              <p>重放给定工作负载所需的CPU和重播客户端数</p>
                           </li>
                           <li>
                              <p>有关捕获的会话的信息（总数和最大并发数）</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-EF05D699-0699-48F0-B602-613236F373C0__GUID-455D2F60-853D-40C5-B621-04B70BE4952A">使用说明</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>先决条件：已使用相同数据库版本中的<a href="DBMS_WORKLOAD_REPLAY.html#GUID-5DA9F293-880A-47C0-9AD4-981A891526E2" title="此过程处理capture_dir中的工作负载捕获。">PROCESS_CAPTURE过程</a>处理输入工作负载捕获。
                              </p>
                           </li>
                           <li>
                              <p>此过程将返回与校准模式下的工作负载重播客户端相同的结果，可以按如下方式运行。</p><pre class="oac_no_warn" dir="ltr">$ wrc mode =校准replaydir =</pre></li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS69073"></a><a id="ARPLS69074"></a><a id="ARPLS69074"></a><a id="ARPLS69073"></a><div class="props_rev_3"><a id="GUID-B130383B-81C3-4E61-9B09-C9E9D60920A8" name="GUID-B130383B-81C3-4E61-9B09-C9E9D60920A8"></a><h4 id="ARPLS-GUID-B130383B-81C3-4E61-9B09-C9E9D60920A8" class="sect4"><span class="enumeration_section">183.3.7</span> CANCEL_REPLAY过程</h4>
                  <div>
                     <p>此过程取消正在进行的工作负载重放。将自动通知所有外部重播客户端（WRC）以停止发出捕获的工作负载并退出。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-B130383B-81C3-4E61-9B09-C9E9D60920A8__GUID-C8078089-528E-4C57-B55D-0FC4C197F2F7">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_WORKLOAD_REPLAY.CANCEL_REPLAY（error_msg IN VARCHAR2 DEFAULT NULL）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-B130383B-81C3-4E61-9B09-C9E9D60920A8__GUID-763A3798-3F06-4B56-8CCD-B3112A2D0B58">参数</p>
                        <div class="tblformal" id="GUID-B130383B-81C3-4E61-9B09-C9E9D60920A8__GUID-D9E6481B-AAB8-4304-9B5C-A844AB7B4EFB">
                           <p class="titleintable">表183-8 CANCEL_REPLAY过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="CANCEL_REPLAY过程参数" width="100%" border="1" summary="This table describes the parameters of DBMS_WORKLOAD_REPLAY.CANCEL_REPLAY." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="33%" id="d1094913e2242">参数</th>
                                    <th align="left" valign="bottom" width="67%" id="d1094913e2245">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1094913e2250" headers="d1094913e2242 ">
                                       <p><code class="codeph">ERROR_MSG</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1094913e2250 d1094913e2245 ">
                                       <p>可以传递取消重放的可选原因，该原因记录在<code class="codeph">DBA_WORKLOAD_REPLAYS</code> 。 <code class="codeph">ERROR_MESSAGE</code> 。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-B130383B-81C3-4E61-9B09-C9E9D60920A8__GUID-3049A198-5C75-4BC3-B036-53E1779A2940">使用说明</p>
                        <p>先决条件：已发出对<a href="DBMS_WORKLOAD_REPLAY.html#GUID-F3C9FDEC-27F9-45D8-BC60-66E0B5A8C105" title="此过程将数据库状态置于INIT中以进行REPLAY模式，并在准备重放之前将数据加载到重放系统中（通过执行PAUSE_REPLAY过程）。">INITIALIZE_REPLAY过程</a> ， <a href="DBMS_WORKLOAD_REPLAY.html#GUID-BC0B5C38-7C34-481B-B1E1-FE32E4D0640A" title="此过程将数据库状态置于PREPARE FOR REPLAY模式。">PREPARE_REPLAY过程</a>或<a href="DBMS_WORKLOAD_REPLAY.html#GUID-278F8097-88C3-4F5A-8B01-24156A91D79B" title="此过程启动工作负载重播。">START_REPLAY过程</a>的调用。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS72132"></a><a id="ARPLS72133"></a><a id="ARPLS72133"></a><a id="ARPLS72132"></a><div class="props_rev_3"><a id="GUID-7B728A46-1B54-45E8-B459-20A427F66440" name="GUID-7B728A46-1B54-45E8-B459-20A427F66440"></a><h4 id="ARPLS-GUID-7B728A46-1B54-45E8-B459-20A427F66440" class="sect4"><span class="enumeration_section">183.3.8</span> COMPARE_PERIOD_REPORT程序</h4>
                  <div>
                     <p>此过程生成一个报告，将重放与其捕获或同一捕获的另一次重放进行比较。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-7B728A46-1B54-45E8-B459-20A427F66440__GUID-3F1CE896-1449-4D98-9DCB-439E728FC63E">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_WORKLOAD_REPLAY.COMPARE_PERIOD_REPORT（在NUMBER中重放_id1，在NUMBER中重放_id2，格式为IN VARCHAR2，结果OUT CLOB）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-7B728A46-1B54-45E8-B459-20A427F66440__GUID-B7DF8FA2-49CD-47C2-989C-A6DE51A9FED1">参数</p>
                        <div class="tblformal" id="GUID-7B728A46-1B54-45E8-B459-20A427F66440__GUID-E35134D3-FC26-4257-8FD1-0452748EECE2">
                           <p class="titleintable">表183-9 COMPARE_PERIOD_REPORT过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="COMPARE_PERIOD_REPORT过程参数" width="100%" border="1" summary="This table describes the parameters of DBMS_WORKLOAD_REPLAY.COMPARE_PERIOD_REPORT." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="33%" id="d1094913e2409">参数</th>
                                    <th align="left" valign="bottom" width="67%" id="d1094913e2412">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1094913e2417" headers="d1094913e2409 ">
                                       <p><code class="codeph">replay_id1</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1094913e2417 d1094913e2412 ">
                                       <p>请求报告的工作负载重播的第一个ID</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1094913e2425" headers="d1094913e2409 ">
                                       <p><code class="codeph">replay_id2</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1094913e2425 d1094913e2412 ">
                                       <p>请求报告的工作负载重播的第二个ID。如果这是<code class="codeph">NULL</code> ，则使用捕获进行比较。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1094913e2436" headers="d1094913e2409 ">
                                       <p><code class="codeph">格式</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1094913e2436 d1094913e2412 ">
                                       <p>指定报告格式。有效值为<code class="codeph">DBMS_WORKLOAD_CAPTURE</code> 。 <code class="codeph">TYPE_HTML</code>和<code class="codeph">DBMS_WORKLOAD_CAPTURE</code> 。 <code class="codeph">TYPE_XML</code> 。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1094913e2456" headers="d1094913e2409 ">
                                       <p><code class="codeph">结果</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1094913e2456 d1094913e2412 ">
                                       <p>报告的输出（ <code class="codeph">CLOB</code> ）</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS73101"></a><a id="ARPLS73102"></a><a id="ARPLS73102"></a><a id="ARPLS73101"></a><div class="props_rev_3"><a id="GUID-DF5BB2C2-D00F-4EB2-8ADE-C943C9125C59" name="GUID-DF5BB2C2-D00F-4EB2-8ADE-C943C9125C59"></a><h4 id="ARPLS-GUID-DF5BB2C2-D00F-4EB2-8ADE-C943C9125C59" class="sect4"><span class="enumeration_section">183.3.9</span> COMPARE_SQLSET_REPORT函数</h4>
                  <div>
                     <p>此过程生成一个报告，将在重放期间捕获的sqlset与在工作负载捕获期间捕获的sqlset或在同一捕获的另一次重放期间捕获的sqlset进行比较。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-DF5BB2C2-D00F-4EB2-8ADE-C943C9125C59__GUID-C359FAAC-5AC0-4C1F-8473-5073747242B9">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_WORKLOAD_REPLAY.COMPARE_SQLSET_REPORT（REPENT_id1 IN NUMBER，replay_id2 IN NUMBER，格式IN VARCHAR2，r_level IN VARCHAR2 DEFAULT'ALL'，r_sections IN VARCHAR2 DEFAULT'ALL'，结果OUT CLOB）RETURN VARCHAR2;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-DF5BB2C2-D00F-4EB2-8ADE-C943C9125C59__GUID-1F46ED20-73A6-42C4-BDD1-6E4190BE337A">参数</p>
                        <div class="tblformal" id="GUID-DF5BB2C2-D00F-4EB2-8ADE-C943C9125C59__GUID-2E1530BB-8D41-43A2-8CF7-59BE1BE95117">
                           <p class="titleintable">表183-10 COMPARE_SQLSET_REPORT函数参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="COMPARE_SQLSET_REPORT函数参数" width="100%" border="1" summary="This table describes the parameters of DBMS_WORKLOAD_REPLAY.COMPARE_SQLSET_REPORT." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="33%" id="d1094913e2576">参数</th>
                                    <th align="left" valign="bottom" width="67%" id="d1094913e2579">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1094913e2584" headers="d1094913e2576 ">
                                       <p><code class="codeph">replay_id1</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1094913e2584 d1094913e2579 ">
                                       <p>更改后工作负载重放的第一个ID</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1094913e2592" headers="d1094913e2576 ">
                                       <p><code class="codeph">replay_id2</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1094913e2592 d1094913e2579 ">
                                       <p>更改前工作负载的第二个ID重播。如果这是<code class="codeph">NULL</code> ，则使用捕获进行比较。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1094913e2603" headers="d1094913e2576 ">
                                       <p><code class="codeph">格式</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1094913e2603 d1094913e2579 ">
                                       <p>指定报告格式。有效值为<code class="codeph">DBMS_WORKLOAD_CAPTURE</code> 。 <code class="codeph">TYPE_HTML</code> ， <code class="codeph">DBMS_WORKLOAD_CAPTURE</code> 。 <code class="codeph">TYPE_XML</code>和<code class="codeph">DBMS_WORKLOAD_CAPTURE.TYPE_TEXT</code> 。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1094913e2626" headers="d1094913e2576 ">
                                       <p><code class="codeph">r_level</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1094913e2626 d1094913e2579 ">
                                       <p>请参阅<a href="DBMS_SQLPA.html#GUID-9AAF3672-1CF3-4354-AF41-5BA50BA295F8" title="DBMS_SQLPA包提供了实现SQL Performance Analyzer的接口。">DBMS_SQLPA</a>包中<a href="DBMS_SQLPA.html#GUID-8524B515-E14F-4F76-9458-F2E579D5A08B" title="此过程显示分析任务的结果。">REPORT_ANALYSIS_TASK函数</a>中的<code class="codeph">level</code>参数</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1094913e2651" headers="d1094913e2576 ">
                                       <p><code class="codeph">r_sections</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1094913e2651 d1094913e2579 ">
                                       <p>请参阅<a href="DBMS_SQLPA.html#GUID-9AAF3672-1CF3-4354-AF41-5BA50BA295F8" title="DBMS_SQLPA包提供了实现SQL Performance Analyzer的接口。">DBMS_SQLPA</a>包中<a href="DBMS_SQLPA.html#GUID-8524B515-E14F-4F76-9458-F2E579D5A08B" title="此过程显示分析任务的结果。">REPORT_ANALYSIS_TASK函数</a>中的<code class="codeph">section</code>参数</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1094913e2676" headers="d1094913e2576 ">
                                       <p><code class="codeph">结果</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1094913e2676 d1094913e2579 ">
                                       <p>报告的输出（ <code class="codeph">CLOB</code> ）</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS72134"></a><a id="ARPLS72135"></a><a id="ARPLS72135"></a><a id="ARPLS72134"></a><div class="props_rev_3"><a id="GUID-CCC99CF2-EB31-4B23-8E52-1F85B95FDDE7" name="GUID-CCC99CF2-EB31-4B23-8E52-1F85B95FDDE7"></a><h4 id="ARPLS-GUID-CCC99CF2-EB31-4B23-8E52-1F85B95FDDE7" class="sect4"><span class="enumeration_section">183.3.10</span> CREATE_FILTER_SET过程</h4>
                  <div>
                     <p>此过程为<code class="codeph">replay_dir</code>的重放创建新的过滤器集。
                     </p>
                     <div class="section">
                        <p>它包括已由<a href="DBMS_WORKLOAD_REPLAY.html#GUID-5B1FB11E-0909-483A-90F8-6BF01F88CE61" title="This procedure adds a filter to replay only a subset of the captured workload.">ADD_FILTER过程</a>添加的所有重<a href="DBMS_WORKLOAD_REPLAY.html#GUID-5B1FB11E-0909-483A-90F8-6BF01F88CE61" title="此过程添加过滤器以仅重播捕获的工作负载的子集。">放过滤器</a> 。该过程完成并重新启动后，可以使用新创建的过滤器集通过调用<a href="DBMS_WORKLOAD_REPLAY.html#GUID-D682A832-C755-47FB-8A0F-15BA0DB19038" title="此过程将过滤器集应用于当前重播计划中的捕获。">USE_FILTER_SET过程</a>来过滤<code class="codeph">replay_dir</code>的重放。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CCC99CF2-EB31-4B23-8E52-1F85B95FDDE7__GUID-5E878C47-737A-40D3-B36A-9A7EC288E4A0">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_WORKLOAD_REPLAY.CREATE_FILTER_SET（replay_dir IN VARCHAR2，filter_set IN VARCHAR2，default_action IN VARCHAR2 DEFAULT'INCLUDE'）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CCC99CF2-EB31-4B23-8E52-1F85B95FDDE7__GUID-D365569F-A952-45AB-A1DB-5E71D0488AF8">参数</p>
                        <div class="tblformal" id="GUID-CCC99CF2-EB31-4B23-8E52-1F85B95FDDE7__GUID-0FDF8CF2-7693-4A9D-BD4D-7486CB01D44D">
                           <p class="titleintable">表183-11 CREATE_FILTER_SET过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="CREATE_FILTER_SET过程参数" width="100%" border="1" summary="This table describes the parameters of DBMS_WORKLOAD_REPLAY.CREATE_FILTER_SET." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="33%" id="d1094913e2819">参数</th>
                                    <th align="left" valign="bottom" width="67%" id="d1094913e2822">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1094913e2827" headers="d1094913e2819 ">
                                       <p><code class="codeph">replay_dir</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1094913e2827 d1094913e2822 ">
                                       <p>要过滤的重放的对象目录</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1094913e2835" headers="d1094913e2819 ">
                                       <p><code class="codeph">filter_set</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1094913e2835 d1094913e2822 ">
                                       <p>要创建的过滤器集的名称（在<a href="DBMS_WORKLOAD_REPLAY.html#GUID-D682A832-C755-47FB-8A0F-15BA0DB19038" title="此过程将过滤器集应用于当前重播计划中的捕获。">USE_FILTER_SET过程中</a>使用）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1094913e2850" headers="d1094913e2819 ">
                                       <p><code class="codeph">default_action</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1094913e2850 d1094913e2822 ">
                                       <p>可以是<code class="codeph">INCLUDE</code>也可以是<code class="codeph">EXCLUDE</code> 。确定默认情况下是否必须重播每个捕获的呼叫。还确定指定的工作负载过滤器是否必须被视为<code class="codeph">INCLUSION</code>过滤器或<code class="codeph">EXCLUSION</code>过滤器。）
                                       </p>
                                       <p>如果它是<code class="codeph">INCLUDE</code> ，则默认情况下将重播所有捕获的调用，但过滤器定义的工作负载部分除外。在这种情况下，使用<a href="DBMS_WORKLOAD_REPLAY.html#GUID-880217AF-AC58-48C4-85D0-F1B28659D816" title="此功能在两次捕获之间添加计划顺序。">ADD_SCHEDULE_ORDERING函数</a>指定的所有过滤器都被视为<code class="codeph">EXCLUSION</code>过滤器，并将确定不会重播的工作负载。
                                       </p>
                                       <p>如果它是<code class="codeph">EXCLUDE</code> ，则默认情况下不会重放对数据库的捕获调用，除了过滤器定义的工作负载部分。在这种情况下，所有使用他中指定的过滤器<a href="DBMS_WORKLOAD_REPLAY.html#GUID-880217AF-AC58-48C4-85D0-F1B28659D816" title="此功能在两次捕获之间添加计划顺序。">ADD_SCHEDULE_ORDERING功能</a>被视为<code class="codeph">INCLUSION</code>的过滤器，并决定对重放的工作量。
                                       </p>
                                       <p>默认值： <code class="codeph">INCLUDE</code>和指定的所有过滤器都假定为<code class="codeph">EXCLUSION</code>过滤器</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CCC99CF2-EB31-4B23-8E52-1F85B95FDDE7__GUID-BEA24A1E-B025-43A1-A18E-4D19CDFC9180">使用说明</p>
                        <p>在没有初始化，准备或正在进行重放时，必须调用此操作。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS72136"></a><a id="ARPLS72137"></a><a id="ARPLS72137"></a><a id="ARPLS72136"></a><div class="props_rev_3"><a id="GUID-090D4525-1EF7-448D-86BC-A4D50C9638E0" name="GUID-090D4525-1EF7-448D-86BC-A4D50C9638E0"></a><h4 id="ARPLS-GUID-090D4525-1EF7-448D-86BC-A4D50C9638E0" class="sect4"><span class="enumeration_section">183.3.11</span> DELETE_FILTER过程</h4>
                  <div>
                     <p>此过程将删除指定的过滤器。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-090D4525-1EF7-448D-86BC-A4D50C9638E0__GUID-0ED768B9-973E-47AE-85DD-3ECCB683535E">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_WORKLOAD_REPLAY.DELETE_FILTER（fname IN VARCHAR2）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-090D4525-1EF7-448D-86BC-A4D50C9638E0__GUID-0C68B485-6767-412A-B8DB-004B202A3B55">参数</p>
                        <div class="tblformal" id="GUID-090D4525-1EF7-448D-86BC-A4D50C9638E0__GUID-31BE9DE3-43A1-462E-BE41-66C5383A88AF">
                           <p class="titleintable">表183-12 DELETE_FILTER过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="DELETE_FILTER过程参数" width="100%" border="1" summary="This table describes the parameters of DBMS_WORKLOAD_REPLAY.DELETE_FILTER." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="33%" id="d1094913e3023">参数</th>
                                    <th align="left" valign="bottom" width="67%" id="d1094913e3026">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1094913e3031" headers="d1094913e3023 ">
                                       <p><code class="codeph">FNAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1094913e3031 d1094913e3026 ">
                                       <p>（必填）必须删除的过滤器的名称</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS69075"></a><a id="ARPLS69076"></a><a id="ARPLS69076"></a><a id="ARPLS69075"></a><div class="props_rev_3"><a id="GUID-58054B48-7776-43B6-AA1C-CD73A7163E67" name="GUID-58054B48-7776-43B6-AA1C-CD73A7163E67"></a><h4 id="ARPLS-GUID-58054B48-7776-43B6-AA1C-CD73A7163E67" class="sect4"><span class="enumeration_section">183.3.12</span> DELETE_REPLAY_INFO过程</h4>
                  <div>
                     <p>此过程将删除<code class="codeph">DBA_WORKLOAD_REPLAYS</code>中与给定工作负载重播ID对应的行。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-58054B48-7776-43B6-AA1C-CD73A7163E67__GUID-26B09F8B-A4C5-47EB-85B5-C1D56CFC8786">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_WORKLOAD_REPLAY.DELETE_REPLAY_INFO（replay_id IN NUMBER）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-58054B48-7776-43B6-AA1C-CD73A7163E67__GUID-D4DA302D-9FC8-40DB-AD95-1091B4BCFA24">参数</p>
                        <div class="tblformal" id="GUID-58054B48-7776-43B6-AA1C-CD73A7163E67__GUID-CB16124D-0717-4ED6-9F65-89A2BA48356B">
                           <p class="titleintable">表183-13 DELETE_REPLAY_INFO过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="DELETE_REPLAY_INFO过程参数" width="100%" border="1" summary="This table describes the parameters of DBMS_WORKLOAD_REPLAY.DELETE_REPLAY_INFO." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="33%" id="d1094913e3151">参数</th>
                                    <th align="left" valign="bottom" width="67%" id="d1094913e3154">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1094913e3159" headers="d1094913e3151 ">
                                       <p><code class="codeph">replay_id</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1094913e3159 d1094913e3154 ">
                                       <p>（必需）必须删除的工作负载重放的ID。对应于<code class="codeph">DBA_WORKLOAD_REPLAYS</code> 。 <code class="codeph">ID</code> 
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS73987"></a><a id="ARPLS73987"></a><div class="props_rev_3"><a id="GUID-CBE79E0F-9678-42BE-893A-ACD93108ADB1" name="GUID-CBE79E0F-9678-42BE-893A-ACD93108ADB1"></a><h4 id="ARPLS-GUID-CBE79E0F-9678-42BE-893A-ACD93108ADB1" class="sect4"><span class="enumeration_section">183.3.13</span> END_REPLAY_SCHEDULE程序</h4>
                  <div>
                     <p>此过程包含当前计划的创建。该计划现在已保存并与重播目录相关联，可用于重播。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-CBE79E0F-9678-42BE-893A-ACD93108ADB1__GUID-88DB1BE6-6BD2-4CEE-8D2D-80BFD03D3FD7">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_WORKLOAD_REPLAY.END_REPLAY_SCHEDULE;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CBE79E0F-9678-42BE-893A-ACD93108ADB1__GUID-D2FE9A35-FAC3-46FA-9775-1F595541729D">使用说明</p>
                        <p>必须已经调用了<a href="DBMS_WORKLOAD_REPLAY.html#GUID-15472C5A-8535-4CB1-991E-864880E91FC2" title="此过程启动创建可重用的重播计划。">BEGIN_REPLAY_SCHEDULE过程</a> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS69077"></a><a id="ARPLS69078"></a><a id="ARPLS69078"></a><a id="ARPLS69077"></a><div class="props_rev_3"><a id="GUID-A13D311C-AAB8-4887-A29F-46292ACA414B" name="GUID-A13D311C-AAB8-4887-A29F-46292ACA414B"></a><h4 id="ARPLS-GUID-A13D311C-AAB8-4887-A29F-46292ACA414B" class="sect4"><span class="enumeration_section">183.3.14</span> EXPORT_AWR程序</h4>
                  <div>
                     <p>此过程导出与规定的重播ID关联的AWR快照。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-A13D311C-AAB8-4887-A29F-46292ACA414B__GUID-EA98D943-E2E0-4EDF-B7FC-A540656EE777">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_WORKLOAD_REPLAY.EXPORT_AWR（replay_id IN NUMBER）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A13D311C-AAB8-4887-A29F-46292ACA414B__GUID-784E1916-E72D-4CCB-933F-126C1B2F58A8">参数</p>
                        <div class="tblformal" id="GUID-A13D311C-AAB8-4887-A29F-46292ACA414B__GUID-185C8900-9312-4163-BC4A-2D7EA7B459C7">
                           <p class="titleintable">表183-14 EXPORT_AWR功能参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="EXPORT_AWR函数参数" width="100%" border="1" summary="This table describes the parameters of DBMS_WORKLOAD_REPLAY.EXPORT_AWR." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="33%" id="d1094913e3390">参数</th>
                                    <th align="left" valign="bottom" width="67%" id="d1094913e3393">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1094913e3398" headers="d1094913e3390 ">
                                       <p><code class="codeph">replay_id</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1094913e3398 d1094913e3393 ">
                                       <p>（必需）要导出AWR快照的重播的ID</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A13D311C-AAB8-4887-A29F-46292ACA414B__GUID-301F3705-9BAC-474D-A03C-AD9A1C2DBA6E">使用说明</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>在每次重播结束时，将自动导出相应的AWR快照。因此，除非自动<code class="codeph">EXPORT_AWR</code>调用失败，否则在工作负载重放完成后无需手动执行此操作。
                              </p>
                           </li>
                           <li>
                              <p>仅当在当前数据库中执行相应的工作负载重放时，此过程才有效（意味着<code class="codeph">DBA_WORKLOAD_REPLAYS</code>中的相应行未通过调用<a href="DBMS_WORKLOAD_REPLAY.html#GUID-DE583F1C-B5EA-423F-8904-9633AE7AF450" title="此函数从规定的目录中检索有关工作负载捕获的信息以及所有工作负载重放尝试的历史记录。">GET_REPLAY_INFO函数</a>创建），并且与该重放时间段对应的AWR快照仍然可用。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS73988"></a><a id="ARPLS73989"></a><a id="ARPLS73989"></a><a id="ARPLS73988"></a><div class="props_rev_3"><a id="GUID-F0DC61C0-C8EA-437E-95A3-778D226D744E" name="GUID-F0DC61C0-C8EA-437E-95A3-778D226D744E"></a><h4 id="ARPLS-GUID-F0DC61C0-C8EA-437E-95A3-778D226D744E" class="sect4"><span class="enumeration_section">183.3.15</span> GENERATE_CAPTURE_SUBSET过程</h4>
                  <div>
                     <p>此过程从现有工作负载捕获创建新捕获。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-F0DC61C0-C8EA-437E-95A3-778D226D744E__GUID-D6374C3A-FD10-4D47-86FF-B4A975071C67">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_WORKLOAD_REPLAY.GENERATE_CAPTURE_SUBSET（input_capture_dir IN VARCHAR2，output_capture_dir IN VARCHAR2，new_capture_name IN VARCHAR2，begin_time IN NUMBER，begin_include_incomplete IN BOOLEAN DEFAULT TRUE，end_time IN NUMBER，end_include_incomplete IN BOOLEAN DEFAULT FALSE，parallel_level IN NUMBER DEFAULT NULL）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F0DC61C0-C8EA-437E-95A3-778D226D744E__GUID-D415A567-CFF9-4067-AD24-25D33D6371E3">参数</p>
                        <div class="tblformal" id="GUID-F0DC61C0-C8EA-437E-95A3-778D226D744E__GUID-0DE21677-A4B3-4FDF-AF2B-04CBAC3C61EE">
                           <p class="titleintable">表183-15 GENERATE_CAPTURE_SUBSET过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="GENERATE_CAPTURE_SUBSET过程参数" width="100%" border="1" summary="This table describes the parameters of DBMS_WORKLOAD_REPLAY.GENERATE_CAPTURE_SUBSET." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="33%" id="d1094913e3538">参数</th>
                                    <th align="left" valign="bottom" width="67%" id="d1094913e3541">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1094913e3546" headers="d1094913e3538 ">
                                       <p><code class="codeph">input_capture_dir</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1094913e3546 d1094913e3541 ">
                                       <p>（必需）指向现有工作负载捕获的目录对象的名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1094913e3554" headers="d1094913e3538 ">
                                       <p><code class="codeph">output_capture_dir</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1094913e3554 d1094913e3541 ">
                                       <p>（必需）指向新捕获的目录对象的名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1094913e3562" headers="d1094913e3538 ">
                                       <p><code class="codeph">new_capture_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1094913e3562 d1094913e3541 ">
                                       <p>（必填）新捕获的名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1094913e3570" headers="d1094913e3538 ">
                                       <p><code class="codeph">BEGIN_TIME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1094913e3570 d1094913e3541 ">
                                       <p>时间范围的开始 - 从工作负载捕获开始的以秒为单位的时间偏移</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1094913e3578" headers="d1094913e3538 ">
                                       <p><code class="codeph">begin_include_incomplete</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1094913e3578 d1094913e3541 ">
                                       <p>列包含由<code class="codeph">begin_time</code>引起的不完整调用</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1094913e3588" headers="d1094913e3538 ">
                                       <p><code class="codeph">时间结束</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1094913e3588 d1094913e3541 ">
                                       <p>时间范围的结束 - 从工作负载捕获开始的以秒为单位的时间偏移。如果<code class="codeph">end_time</code>为零或<code class="codeph">end_time</code>小于或等于<code class="codeph">begin_time</code> ，则时间范围无效。新捕获将使用输入捕获的整个持续时间。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1094913e3605" headers="d1094913e3538 ">
                                       <p><code class="codeph">end_include_incomplete</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1094913e3605 d1094913e3541 ">
                                       <p>列包含由<code class="codeph">end_time</code>引起的不完整调用</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1094913e3615" headers="d1094913e3538 ">
                                       <p><code class="codeph">parallel_level</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1094913e3615 d1094913e3541 ">
                                       <p>用于以并行方式处理输入捕获的Oracle进程数。<code class="codeph">NULL</code>默认值将根据CPU数自动计算并行度级别，而值1将强制执行串行执行。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS72138"></a><a id="ARPLS72139"></a><a id="ARPLS72139"></a><a id="ARPLS72138"></a><div class="props_rev_3"><a id="GUID-9608AC9E-BAA5-4CCB-8BDD-54952F9924F0" name="GUID-9608AC9E-BAA5-4CCB-8BDD-54952F9924F0"></a><h4 id="ARPLS-GUID-9608AC9E-BAA5-4CCB-8BDD-54952F9924F0" class="sect4"><span class="enumeration_section">183.3.16</span> GET_DIVERGING_STATEMENT功能</h4>
                  <div>
                     <p>此函数检索有关分支调用的信息，包括语句文本，SQL ID和绑定。如果记录的用户呼叫的重放具有数据或错误分歧，则它是分叉呼叫。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-9608AC9E-BAA5-4CCB-8BDD-54952F9924F0__GUID-B5A66290-06CB-4DF4-ADE8-BBD9907B3435">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_WORKLOAD_REPLAY.GET_DIVERGING_STATEMENT（在NUMBER中重播_id，在NUMBER中为stream_id，在号码中为call_counter）返回CLOB;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9608AC9E-BAA5-4CCB-8BDD-54952F9924F0__GUID-B1FF7516-B2A5-475E-84B9-0A2E2F5C0DD8">参数</p>
                        <div class="tblformal" id="GUID-9608AC9E-BAA5-4CCB-8BDD-54952F9924F0__GUID-7A702653-58B3-427C-8019-E0F879465923">
                           <p class="titleintable">表183-16 GET_DIVERGING_STATEMENT函数参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="GET_DIVERGING_STATEMENT函数参数" width="100%" border="1" summary="This table describes the parameters of DBMS_WORKLOAD_REPLAY.GET_DIVERGING_STATEMENT." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="33%" id="d1094913e3735">参数</th>
                                    <th align="left" valign="bottom" width="67%" id="d1094913e3738">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1094913e3743" headers="d1094913e3735 ">
                                       <p><code class="codeph">replay_id</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1094913e3743 d1094913e3738 ">
                                       <p>该呼叫分歧的重播ID</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1094913e3751" headers="d1094913e3735 ">
                                       <p><code class="codeph">的stream_id</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1094913e3751 d1094913e3738 ">
                                       <p>分歧呼叫的流ID</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1094913e3759" headers="d1094913e3735 ">
                                       <p><code class="codeph">call_counter</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1094913e3759 d1094913e3738 ">
                                       <p>呼叫分歧的呼叫计数器</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9608AC9E-BAA5-4CCB-8BDD-54952F9924F0__GUID-C2AFBC4D-F723-4EC7-9062-7402BA1DC4F9">使用说明</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>返回格式为XML的<code class="codeph">CLOB</code> ，其中包含：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>SQL ID</p>
                                 </li>
                                 <li>
                                    <p>SQL文本</p>
                                 </li>
                                 <li>
                                    <p>绑定信息：位置，名称和价值</p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p>此函数将以静默方式调用<a href="DBMS_WORKLOAD_REPLAY.html#GUID-2F055964-E49A-41D2-9CDA-5F4DB5D2235E" title="此过程预先计算给定调用，流或整个重放的分歧信息，以便GET_DIVERGING_STATEMENT函数尽可能快地返回预先计算的调用。">POPULATE_DIVERGENCE过程</a>以从捕获文件中读取信息。因此，如果尚未填充分歧，则对特定分支调用的第一次调用此函数可能需要更长时间，尤其是在非常大的捕获中。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS73993"></a><a id="ARPLS73993"></a><div class="props_rev_3"><a id="GUID-A6E10F1E-002D-451A-A8C1-CC34FCC42B3F" name="GUID-A6E10F1E-002D-451A-A8C1-CC34FCC42B3F"></a><h4 id="ARPLS-GUID-A6E10F1E-002D-451A-A8C1-CC34FCC42B3F" class="sect4"><span class="enumeration_section">183.3.17</span> GET_REPLAY_DIRECTORY函数</h4>
                  <div>
                     <p>此函数返回SET_REPLAY_DIRECTORY过程设置的当前重播目录。如果没有设置重播目录，则返回<code class="codeph">NULL</code> 。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-A6E10F1E-002D-451A-A8C1-CC34FCC42B3F__GUID-7BF410AC-FDCF-42ED-975D-A159BD839D71">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_WORKLOAD_REPLAY.GET_REPLAY_DIRECTORY RETURN VARCHAR2;</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="DBMS_WORKLOAD_REPLAY.html#GUID-5A54C82E-A60C-451F-978F-0FE58E18DC67" title="此过程将包含多个工作负载捕获的目录设置为当前重播目录。">SET_REPLAY_DIRECTORY过程</a></li>
                        </ul>
                     </div>
                  </div>
               </div><a id="ARPLS69079"></a><a id="ARPLS69080"></a><a id="ARPLS69080"></a><a id="ARPLS69079"></a><div class="props_rev_3"><a id="GUID-DE583F1C-B5EA-423F-8904-9633AE7AF450" name="GUID-DE583F1C-B5EA-423F-8904-9633AE7AF450"></a><h4 id="ARPLS-GUID-DE583F1C-B5EA-423F-8904-9633AE7AF450" class="sect4"><span class="enumeration_section">183.3.18</span> GET_REPLAY_INFO函数</h4>
                  <div>
                     <p>此函数从规定的目录中检索有关工作负载捕获的信息以及所有工作负载重放尝试的历史记录。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-DE583F1C-B5EA-423F-8904-9633AE7AF450__GUID-EC13D39A-0B3D-49B5-A2D1-9791ADD0A794">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_WORKLOAD_REPLAY.GET_REPLAY_INFO（replain_dir IN VARCHAR2，load_details IN BOOLEAN DFAULT FALSE）返回号码;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-DE583F1C-B5EA-423F-8904-9633AE7AF450__GUID-41379116-29EC-4215-9D07-54168D91B60D">参数</p>
                        <div class="tblformal" id="GUID-DE583F1C-B5EA-423F-8904-9633AE7AF450__GUID-863C1861-6CA3-4A26-8300-F15B797BE0EE">
                           <p class="titleintable">表183-17 GET_REPLAY_INFO函数参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="GET_REPLAY_INFO函数参数" width="100%" border="1" summary="This table describes the parameters of DBMS_WORKLOAD_REPLAY.GET_REPLAY_INFO." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="33%" id="d1094913e4013">参数</th>
                                    <th align="left" valign="bottom" width="67%" id="d1094913e4016">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1094913e4021" headers="d1094913e4013 ">
                                       <p><code class="codeph">replay_dir</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1094913e4021 d1094913e4016 ">
                                       <p>（必需）工作负载重播目录对象的名称（区分大小写）。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1094913e4029" headers="d1094913e4013 ">
                                       <p><code class="codeph">load_details</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1094913e4029 d1094913e4016 ">
                                       <p>加载分歧和跟踪提交数据。默认值为<code class="codeph">FALSE</code> 。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-DE583F1C-B5EA-423F-8904-9633AE7AF450__GUID-1D7D600B-17D2-47D2-8B35-15721C89C73D">返回值</p>
                        <p>该过程返回<code class="codeph">CAPTURE_ID</code> ，该<code class="codeph">CAPTURE_ID</code>可与<code class="codeph">DBA_WORKLOAD_CAPTURES</code>关联。 <code class="codeph">ID</code>和<code class="codeph">DBA_WORKLOAD_REPLAYS</code> 。 <code class="codeph">CAPTURE_ID</code>用于访问导入的信息。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-DE583F1C-B5EA-423F-8904-9633AE7AF450__GUID-F4252A99-3E15-4144-86D5-76C42A12A5DF">使用说明</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>该过程首先将行导入<code class="codeph">DBA_WORKLOAD_CAPTURES</code> ，其中包含有关捕获的信息。然后，它<code class="codeph">DBA_WORKLOAD_REPLAYS</code>从给定重播目录中检索到的每次重播尝试导入一行到<code class="codeph">DBA_WORKLOAD_REPLAYS</code> 。</p>
                           </li>
                           <li>
                              <p>如果这些视图已包含描述给定目录中存在的捕获和重放历史记录的行， <code class="codeph">DBA_WORKLOAD_CAPTURES</code>该过程不会向<code class="codeph">DBA_WORKLOAD_CAPTURES</code>和<code class="codeph">DBA_WORKLOAD_REPLAYS</code>插入新行。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS73103"></a><a id="ARPLS73104"></a><a id="ARPLS73104"></a><a id="ARPLS73103"></a><div class="props_rev_3"><a id="GUID-F1559336-EECF-4D2D-9C54-15C120C2B26B" name="GUID-F1559336-EECF-4D2D-9C54-15C120C2B26B"></a><h4 id="ARPLS-GUID-F1559336-EECF-4D2D-9C54-15C120C2B26B" class="sect4"><span class="enumeration_section">183.3.19</span> GET_REPLAY_TIMEOUT程序</h4>
                  <div>
                     <p>此过程获取重播超时设置。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-F1559336-EECF-4D2D-9C54-15C120C2B26B__GUID-24748A97-855A-41C8-A932-97A59249792D">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_WORKLOAD_REPLAY.GET_REPLAY_TIMEOUT（启用OUT BOOLEAN，min_delay OUT NUMBER，max_delay OUT NUMBER，delay_factor OUT NUMBER）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F1559336-EECF-4D2D-9C54-15C120C2B26B__GUID-A3B759C4-6F90-4644-8103-8FD6689736BB">参数</p>
                        <div class="tblformal" id="GUID-F1559336-EECF-4D2D-9C54-15C120C2B26B__GUID-8D6DE5A1-AD4C-4873-BD0B-5F850858114E">
                           <p class="titleintable">表183-18 GET_REPLAY_TIMEOUT过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="GET_REPLAY_TIMEOUT过程参数" width="100%" border="1" summary="This table describes the parameters of DBMS_WORKLOAD_REPLAY.GET_REPLAY_TIMEOUT." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="33%" id="d1094913e4191">参数</th>
                                    <th align="left" valign="bottom" width="67%" id="d1094913e4194">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1094913e4199" headers="d1094913e4191 ">
                                       <p><code class="codeph">启用</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1094913e4199 d1094913e4194 ">
                                       <p>如果启用了超时操作，则为<code class="codeph">TRUE</code> ，否则为<code class="codeph">FALSE</code> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1094913e4212" headers="d1094913e4191 ">
                                       <p><code class="codeph">min_delay</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1094913e4212 d1094913e4194 ">
                                       <p>呼叫延迟的下限以分钟为单位。仅当延迟等于或大于<code class="codeph">min_delay</code>时才会激活重放操作。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1094913e4223" headers="d1094913e4191 ">
                                       <p><code class="codeph">max_delay</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1094913e4223 d1094913e4194 ">
                                       <p>呼叫延迟的上限，以分钟为单位。当延迟大于<code class="codeph">max_delay</code>时，超时操作会抛出<code class="codeph">ORA-15569</code> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1094913e4237" headers="d1094913e4191 ">
                                       <p><code class="codeph">delay_factor</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1094913e4237 d1094913e4194 ">
                                       <p>呼叫延迟的因子，介于<code class="codeph">min_delay</code>和<code class="codeph">max_delay</code>之间。当前重播经过的时间超过捕获经过时间和<code class="codeph">delay_factor</code>的乘积时，超时操作会抛出<code class="codeph">ORA-15569</code> 。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F1559336-EECF-4D2D-9C54-15C120C2B26B__GUID-5162EA2D-CCFA-4CD4-8B4C-508A5D0334AD">使用说明</p>
                        <p>可以在重放期间随时调用此过程。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS69081"></a><a id="ARPLS69082"></a><a id="ARPLS69082"></a><a id="ARPLS69081"></a><div class="props_rev_3"><a id="GUID-DDD7F031-0CF5-417F-9691-907DCE3BF328" name="GUID-DDD7F031-0CF5-417F-9691-907DCE3BF328"></a><h4 id="ARPLS-GUID-DDD7F031-0CF5-417F-9691-907DCE3BF328" class="sect4"><span class="enumeration_section">183.3.20</span> IMPORT_AWR功能</h4>
                  <div>
                     <p>此过程从给定的重播中导入AWR快照。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-DDD7F031-0CF5-417F-9691-907DCE3BF328__GUID-21C48B8E-7DCD-4CA3-A850-031586A84D2F">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_WORKLOAD_REPLAY.IMPORT_AWR（在NUMBER中重放_id，在VARCHAR2中使用staging_schema）返回号码;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-DDD7F031-0CF5-417F-9691-907DCE3BF328__GUID-90FEC2D1-7A32-4DA4-9072-A05F5FBECFFA">参数</p>
                        <div class="tblformal" id="GUID-DDD7F031-0CF5-417F-9691-907DCE3BF328__GUID-00D9B03E-FD75-4CB3-BF58-55949C004A4D">
                           <p class="titleintable">表183-19 IMPORT_AWR功能参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="IMPORT_AWR函数参数" width="100%" border="1" summary="This table describes the parameters of DBMS_WORKLOAD_REPLAY.IMPORT_AWR." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="33%" id="d1094913e4372">参数</th>
                                    <th align="left" valign="bottom" width="67%" id="d1094913e4375">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1094913e4380" headers="d1094913e4372 ">
                                       <p><code class="codeph">replay_id</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1094913e4380 d1094913e4375 ">
                                       <p>（必需）必须导入AWR快照的重播ID</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1094913e4388" headers="d1094913e4372 ">
                                       <p><code class="codeph">staging_schema</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1094913e4388 d1094913e4375 ">
                                       <p>（必需）当前数据库中有效模式的名称，可以在将AWR快照从重播目录导入<code class="codeph">SYS</code> <code class="codeph">AWR</code>模式时用作临时区域。<code class="codeph">SYS</code>架构不是有效输入。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-DDD7F031-0CF5-417F-9691-907DCE3BF328__GUID-7D87FDC0-18FD-453A-9975-76DF2B8FBE0E">返回值</p>
                        <p>返回用于导入AWR快照的新随机生成的数据库ID。可以在<code class="codeph">DBA_WORKLOAD_REPLAYS</code>视图的<code class="codeph">AWR_DBID</code>列中找到相同的值。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-DDD7F031-0CF5-417F-9691-907DCE3BF328__GUID-7446AF5F-6937-433A-837D-C1539FA0ED31">使用说明</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>如果先前使用<a href="DBMS_WORKLOAD_REPLAY.html#GUID-A13D311C-AAB8-4887-A29F-46292ACA414B" title="此过程导出与规定的重播ID关联的AWR快照。">EXPORT_AWR过程</a>从原始重放系统导出这些AWR快照，则此过程将起作用。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">IMPORT_AWR</code>如果将失败<code class="codeph">staging_schema</code>作为输入提供包含具有相同名称的任何AWR表，如任何表<code class="codeph">WRM$_SNAPSHOT</code>或<code class="codeph">WRH$_PARAMETER</code> 。在调用<code class="codeph">IMPORT_AWR</code>之前，在<code class="codeph">staging_schema</code>删除任何此类表。</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS73994"></a><a id="ARPLS73995"></a><a id="ARPLS73995"></a><a id="ARPLS73994"></a><div class="props_rev_3"><a id="GUID-BBD77231-AEE7-4285-BAB1-4066FB658C93" name="GUID-BBD77231-AEE7-4285-BAB1-4066FB658C93"></a><h4 id="ARPLS-GUID-BBD77231-AEE7-4285-BAB1-4066FB658C93" class="sect4"><span class="enumeration_section">183.3.21</span> INITIALIZE_CONSOLIDATED_REPLAY程序</h4>
                  <div>
                     <p>此过程将数据库状态置于<code class="codeph">INIT</code>以进行多次捕获重放。
                     </p>
                     <div class="section">
                        <p>它使用<code class="codeph">replay_dir</code>它已经被定义<a href="DBMS_WORKLOAD_REPLAY.html#GUID-5A54C82E-A60C-451F-978F-0FE58E18DC67" title="此过程将包含多个工作负载捕获的目录设置为当前重播目录。">SET_REPLAY_DIRECTORY程序</a> ，指向包含所有参与计划的捕获目录的目录。它从目录中读取有关schedule <code class="codeph">schedule_name</code>数据，并将所需的连接数据加载到重放系统中。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-BBD77231-AEE7-4285-BAB1-4066FB658C93__GUID-1EA38F13-B340-46DF-B4AF-84E9274236A5">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_WORKLOAD_REPLAY.INITIALIZE_CONSOLIDATED_REPLAY（replay_name IN VARCHAR2，schedule_name IN VARCHAR2，plsql_mode IN VARCHAR2 DEFAULT'TOP_LEVEL'）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-BBD77231-AEE7-4285-BAB1-4066FB658C93__GUID-5289D5CE-32E9-4201-9460-0D8F202107A0">参数</p>
                        <div class="tblformal" id="GUID-BBD77231-AEE7-4285-BAB1-4066FB658C93__GUID-78E88CA6-BCCC-494A-A012-596519BCB5FB">
                           <p class="titleintable">表183-20 INITIALIZE_CONSOLIDATED_REPLAY过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="INITIALIZE_CONSOLIDATED_REPLAY过程参数" width="100%" border="1" summary="This table describes the parameters of DBMS_WORKLOAD_REPLAY.INITIALIZE_CONSOLIDATED_REPLAY." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="33%" id="d1094913e4578">参数</th>
                                    <th align="left" valign="bottom" width="67%" id="d1094913e4581">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1094913e4586" headers="d1094913e4578 ">
                                       <p><code class="codeph">replay_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1094913e4586 d1094913e4581 ">
                                       <p>（必填）工作负载重播的名称。可以为每个已处理工作负载捕获的重放命名。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1094913e4594" headers="d1094913e4578 ">
                                       <p><code class="codeph">任务计划_</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1094913e4594 d1094913e4581 ">
                                       <p>要重播的计划的名称。它必须是通过重放目录<code class="codeph">replay_dir</code>的<a href="DBMS_WORKLOAD_REPLAY.html#GUID-15472C5A-8535-4CB1-991E-864880E91FC2" title="此过程启动创建可重用的重播计划。">BEGIN_REPLAY_SCHEDULE过程</a>创建的。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1094913e4612" headers="d1094913e4578 ">
                                       <p><code class="codeph">plsql_mode</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1094913e4612 d1094913e4581 ">
                                       <p>指定PL / SQL调用的重播选项：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">TOP_LEVEL</code> - 仅重播顶级PL / SQL调用</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">EXTENDED</code> - 如果PL / SQL中没有记录的SQL，则从PL / SQL或顶级SQL PL / SQL执行SQL。所有捕获必须以<code class="codeph">'EXTENDED'</code> / SQL模式完成。
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-BBD77231-AEE7-4285-BAB1-4066FB658C93__GUID-0ED82258-3144-48B4-B609-14AE7879EC67">使用说明</p>
                        <p>先决条件：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>已使用相同数据库版本中的<a href="DBMS_WORKLOAD_REPLAY.html#GUID-5DA9F293-880A-47C0-9AD4-981A891526E2" title="此过程处理capture_dir中的工作负载捕获。">PROCESS_CAPTURE过程</a>处理工作负载捕获。
                              </p>
                           </li>
                           <li>
                              <p>数据库状态已在逻辑上恢复到原始工作负载捕获开始时的状态。</p>
                           </li>
                           <li>
                              <p>已调用<a href="DBMS_WORKLOAD_REPLAY.html#GUID-5A54C82E-A60C-451F-978F-0FE58E18DC67" title="此过程将包含多个工作负载捕获的目录设置为当前重播目录。">SET_REPLAY_DIRECTORY过程</a> 。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS69083"></a><a id="ARPLS69084"></a><a id="ARPLS69084"></a><a id="ARPLS69083"></a><div class="props_rev_3"><a id="GUID-F3C9FDEC-27F9-45D8-BC60-66E0B5A8C105" name="GUID-F3C9FDEC-27F9-45D8-BC60-66E0B5A8C105"></a><h4 id="ARPLS-GUID-F3C9FDEC-27F9-45D8-BC60-66E0B5A8C105" class="sect4"><span class="enumeration_section">183.3.22</span> INITIALIZE_REPLAY程序</h4>
                  <div>
                     <p>此过程将数据库状态置于<code class="codeph">INIT</code>以进行<code class="codeph">REPLAY</code>模式，并在准备重放之前将数据加载到重放系统中（通过执行PAUSE_REPLAY过程）。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-F3C9FDEC-27F9-45D8-BC60-66E0B5A8C105__GUID-5300ADAA-E9A1-4F38-A9EE-06A914625E45">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_WORKLOAD_REPLAY.INITIALIZE_REPLAY（replay_name IN VARCHAR2，replay_dir IN VARCHAR2，plsql_mode IN VARCHAR2 DEFAULT'TOP_LEVEL'，rac_inst_list IN VARCHAR2 DEFAULT NULL）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F3C9FDEC-27F9-45D8-BC60-66E0B5A8C105__GUID-E23FBFF6-3FB1-4C6D-8D61-EF7B095B5760">参数</p>
                        <div class="tblformal" id="GUID-F3C9FDEC-27F9-45D8-BC60-66E0B5A8C105__GUID-4C02DFDA-F6ED-4050-9010-E46C323FB8F8">
                           <p class="titleintable">表183-21 INITIALIZE_REPLAY过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="INITIALIZE_REPLAY过程参数" width="100%" border="1" summary="This table describes the parameters of DBMS_WORKLOAD_REPLAY.INITIALIZE_REPLAY." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="33%" id="d1094913e4781">参数</th>
                                    <th align="left" valign="bottom" width="67%" id="d1094913e4784">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1094913e4789" headers="d1094913e4781 ">
                                       <p><code class="codeph">replay_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1094913e4789 d1094913e4784 ">
                                       <p>（必填）工作负载重播的名称。可以为每个已处理工作负载捕获的重放命名。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1094913e4797" headers="d1094913e4781 ">
                                       <p><code class="codeph">replay_dir</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1094913e4797 d1094913e4784 ">
                                       <p>指向包含已处理捕获数据的OS目录（区分大小写）的目录对象的名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1094913e4805" headers="d1094913e4781 ">
                                       <p><code class="codeph">plsql_mode</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1094913e4805 d1094913e4784 ">
                                       <p>指定PL / SQL调用的重播选项：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">TOP_LEVEL</code> - 仅重播顶级PL / SQL调用</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">EXTENDED</code> - 如果PL / SQL中没有记录的SQL，则从PL / SQL或顶级SQL PL / SQL执行SQL。所有捕获必须以<code class="codeph">'EXTENDED'</code> / SQL模式完成。
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1094913e4827" headers="d1094913e4781 ">
                                       <p><code class="codeph">rac_inst_list</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1094913e4827 d1094913e4784 ">
                                       <div class="p">指定将用于重播的Oracle Real Application Clusters（Oracle RAC）实例的列表。该参数是一个由逗号分隔的实例编号字符串。例如：<pre class="oac_no_warn" dir="ltr">rac_inst_list = '1,3,5'</pre></div>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F3C9FDEC-27F9-45D8-BC60-66E0B5A8C105__GUID-E3936FF0-1F1B-418B-8679-6C7CDE3690E5">使用说明</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>先决条件：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>已使用相同数据库版本中的<a href="DBMS_WORKLOAD_REPLAY.html#GUID-5DA9F293-880A-47C0-9AD4-981A891526E2" title="此过程处理capture_dir中的工作负载捕获。">PROCESS_CAPTURE过程</a>处理工作负载捕获。
                                    </p>
                                 </li>
                                 <li>
                                    <p>数据库状态已在逻辑上恢复到原始工作负载捕获开始时的状态。</p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p>子程序通过调用PAUSE_REPLAY过程将数据加载到准备重放之前所需的重放系统中。</p>
                              <p>例如，在捕获期间，用户可以记录每个会话用于连接到服务器的连接字符串。INITIALIZE_REPLAY过程加载此数据，并允许用户将记录的连接字符串重新映射到新的连接字符串或服务点。</p>
                              <p>详细说明PROCESS_CAPTURE过程中描述的示例，用户可以调用以下内容：</p><pre class="oac_no_warn" dir="ltr">DBMS_WORKLOAD_REPLAY.INITIALIZE_REPLAY（'replay foo＃1'，'rec_dir'）;</pre><p>此命令将加载连接映射，默认情况下将所有重播时连接字符串设置为<code class="codeph">NULL</code> 。 <code class="codeph">NULL</code>重放时间连接字符串意味着工作负载重放客户端（WRC）将连接到由重放客户端的运行时环境设置确定的默认主机。用户可以使用REMAP_CONNECTION过程将特定连接字符串更改为新的（或新服务点）以进行重播。
                              </p>
                           </li>
                           <li>
                              <p>对于加密捕获， <code class="codeph">INITIALIZE_REPLAY</code>过程依赖于Oracle钱包。标识符为<code class="codeph">oracle.rat.database_replay.encryption</code> （区分大小写）。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="DBMS_WORKLOAD_REPLAY.html#GUID-F5DF973D-922F-4F7C-AEBB-C1641037D0ED" title="此过程暂停正在进行的工作负载重放。">PAUSE_REPLAY程序</a></li>
                           <li><a href="DBMS_WORKLOAD_REPLAY.html#GUID-F3C9FDEC-27F9-45D8-BC60-66E0B5A8C105" title="此过程将数据库状态置于INIT中以进行REPLAY模式，并在准备重放之前将数据加载到重放系统中（通过执行PAUSE_REPLAY过程）。">INITIALIZE_REPLAY程序</a></li>
                           <li><a href="DBMS_WORKLOAD_REPLAY.html#GUID-5DA9F293-880A-47C0-9AD4-981A891526E2" title="此过程处理capture_dir中的工作负载捕获。">PROCESS_CAPTURE程序</a></li>
                           <li><a href="DBMS_WORKLOAD_REPLAY.html#GUID-BA6DDFD5-4384-44AB-8CA7-8FFA6D0F3F22" title="此过程将捕获的连接重新映射到新连接，以便用户会话可以在工作负载重放期间以所需方式连接到数据库。">REMAP_CONNECTION程序</a></li>
                        </ul>
                     </div>
                  </div>
               </div><a id="ARPLS72140"></a><a id="ARPLS72140"></a><div class="props_rev_3"><a id="GUID-0E133FC7-577A-46A8-82EB-247DAE65BEB8" name="GUID-0E133FC7-577A-46A8-82EB-247DAE65BEB8"></a><h4 id="ARPLS-GUID-0E133FC7-577A-46A8-82EB-247DAE65BEB8" class="sect4"><span class="enumeration_section">183.3.23</span> IS_REPLAY_PAUSED函数</h4>
                  <div>
                     <p>此函数报告当前是否暂停重播。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-0E133FC7-577A-46A8-82EB-247DAE65BEB8__GUID-8C188A9F-84EE-4D78-93BF-0C3BAC10E3C3">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_WORKLOAD_REPLAY.IS_REPLAY_PAUSED RETURN BOOLEAN;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-0E133FC7-577A-46A8-82EB-247DAE65BEB8__GUID-1DF55AE4-4F4E-405F-9943-8B6CE0DB4A6D">返回值</p>
                        <p>返回<code class="codeph">TRUE</code>如果<a href="DBMS_WORKLOAD_REPLAY.html#GUID-F5DF973D-922F-4F7C-AEBB-C1641037D0ED" title="此过程暂停正在进行的工作负载重放。">PAUSE_REPLAY程序</a>已成功调用和<a href="DBMS_WORKLOAD_REPLAY.html#GUID-D286820A-78B9-449F-9E98-0DC7E2ADFFEC" title="此过程将恢复暂停的工作负载重播。">RESUME_REPLAY程序</a>没有被调用呢。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-0E133FC7-577A-46A8-82EB-247DAE65BEB8__GUID-8FEE2429-33B8-4DE7-99C4-48BA4DD12125">使用说明</p>
                        <p>必须已发出对<a href="DBMS_WORKLOAD_REPLAY.html#GUID-278F8097-88C3-4F5A-8B01-24156A91D79B" title="此过程启动工作负载重播。">START_REPLAY过程的</a>调用作为先决条件。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-E6939BCB-0A46-47C1-8FD2-2CA8518FFDD2" name="GUID-E6939BCB-0A46-47C1-8FD2-2CA8518FFDD2"></a><h4 id="ARPLS-GUID-E6939BCB-0A46-47C1-8FD2-2CA8518FFDD2" class="sect4"><span class="enumeration_section">183.3.24</span> LOAD_LONG_SQLTEXT过程</h4>
                  <div>
                     <p>此过程将捕获的超过1000个字符的SQL语句加载到<code class="codeph">DBA_WORKLOAD_LONG_SQLTEXT</code>视图。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-E6939BCB-0A46-47C1-8FD2-2CA8518FFDD2__GUID-0CE93976-51AF-4C05-9834-2FEDAB8777E4">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_WORKLOAD_REPLAY.LOAD_LONG_SQLTEXT（capture_id IN NUMBER）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E6939BCB-0A46-47C1-8FD2-2CA8518FFDD2__GUID-EC8C73A2-CC67-459F-9706-B3BA436962E1">参数</p>
                        <div class="tblformal" id="GUID-E6939BCB-0A46-47C1-8FD2-2CA8518FFDD2__GUID-CE3DC2CA-6713-4915-A895-CEC78FE5FCF3">
                           <p class="titleintable">表183-22 LOAD_LONG_SQLTEXT过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="LOAD_LONG_SQLTEXT过程参数" width="100%" border="1" summary="This table describes the parameters of DBMS_WORKLOAD_REPLAY.LOAD_LONG_SQLTEXT." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="20%" id="d1094913e5163">参数</th>
                                    <th align="left" valign="bottom" width="20%" id="d1094913e5166">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d1094913e5171" headers="d1094913e5163 ">
                                       <p>capture_id</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d1094913e5171 d1094913e5166 ">
                                       <p>工作负载捕获的内部密钥</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <div class="infoboxnote" id="GUID-E6939BCB-0A46-47C1-8FD2-2CA8518FFDD2__GUID-7EE7B53B-875F-47B8-BE7E-4125A02296F4">
                           <p class="notep1">注意：</p>
                           <p>从Oracle Database Release 18c开始，可以使用此过程。</p>
                        </div>
                        <div class="infoboxnotealso" id="GUID-E6939BCB-0A46-47C1-8FD2-2CA8518FFDD2__GUID-BA6D0AFD-DF64-4131-BDFC-0E321DEB1698">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="../refrn/DBA_WORKLOAD_LONG_SQLTEXT.html#REFRN-GUID-3EE8482A-D6BD-4260-86AB-543F91558E43" target="_blank"><span><cite>Oracle数据库参考中的</cite></span></a> <code class="codeph">DBA_WORKLOAD_LONG_SQLTEXT</code></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS69085"></a><a id="ARPLS69085"></a><div class="props_rev_3"><a id="GUID-F5DF973D-922F-4F7C-AEBB-C1641037D0ED" name="GUID-F5DF973D-922F-4F7C-AEBB-C1641037D0ED"></a><h4 id="ARPLS-GUID-F5DF973D-922F-4F7C-AEBB-C1641037D0ED" class="sect4"><span class="enumeration_section">183.3.25</span> PAUSE_REPLAY过程</h4>
                  <div>
                     <p>此过程暂停正在进行的工作负载重放。</p>
                     <div class="section">
                        <p>来自重播客户端的所有后续用户呼叫将被停止，直到发出对<a href="DBMS_WORKLOAD_REPLAY.html#GUID-D286820A-78B9-449F-9E98-0DC7E2ADFFEC" title="此过程将恢复暂停的工作负载重播。">RESUME_REPLAY过程</a>的调用或取消重放为止。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F5DF973D-922F-4F7C-AEBB-C1641037D0ED__GUID-2177C1BA-8755-485E-9C15-F9AB28D5057C">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_WORKLOAD_REPLAY.PAUSE_REPLAY;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F5DF973D-922F-4F7C-AEBB-C1641037D0ED__GUID-5F1AC447-07A9-4133-8F61-FE971E206D51">使用说明</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>先决条件：必须已发出对<a href="DBMS_WORKLOAD_REPLAY.html#GUID-278F8097-88C3-4F5A-8B01-24156A91D79B" title="此过程启动工作负载重播。">START_REPLAY过程的</a>调用。
                              </p>
                           </li>
                           <li>
                              <p>调用此过程时已在进行中的用户调用可以运行完成。仅在发出后续用户呼叫暂停。</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS72141"></a><a id="ARPLS72142"></a><a id="ARPLS72142"></a><a id="ARPLS72141"></a><div class="props_rev_3"><a id="GUID-2F055964-E49A-41D2-9CDA-5F4DB5D2235E" name="GUID-2F055964-E49A-41D2-9CDA-5F4DB5D2235E"></a><h4 id="ARPLS-GUID-2F055964-E49A-41D2-9CDA-5F4DB5D2235E" class="sect4"><span class="enumeration_section">183.3.26</span> POPULATE_DIVERGENCE程序</h4>
                  <div>
                     <p>此过程预先计算给定调用，流或整个重放的分歧信息，以便GET_DIVERGING_STATEMENT函数尽可能快地返回预先计算的调用。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-2F055964-E49A-41D2-9CDA-5F4DB5D2235E__GUID-7BEA28FA-D6F3-4208-9B6E-F651DE7BAECD">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_WORKLOAD_REPLAY.POPULATE_DIVERGENCE（在NUMBER中重放_id，在NUMBER DEFAULT中为stream_id，在NUMBER DEFAULT中为call_counter NULL）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2F055964-E49A-41D2-9CDA-5F4DB5D2235E__GUID-E88B602F-75C3-415E-82CF-97D2767FB452">参数</p>
                        <div class="tblformal" id="GUID-2F055964-E49A-41D2-9CDA-5F4DB5D2235E__GUID-5C1A958C-1C76-46E1-B6B5-FDE66F6B4E2B">
                           <p class="titleintable">表183-23 POPULATE_DIVERGENCE过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="POPULATE_DIVERGENCE过程参数" width="100%" border="1" summary="This table describes the parameters of DBMS_WORKLOAD_REPLAY.POPULATE_DIVERGENCE." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="33%" id="d1094913e5424">参数</th>
                                    <th align="left" valign="bottom" width="67%" id="d1094913e5427">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1094913e5432" headers="d1094913e5424 ">
                                       <p><code class="codeph">replay_id</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1094913e5432 d1094913e5427 ">
                                       <p>重播的ID</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1094913e5440" headers="d1094913e5424 ">
                                       <p><code class="codeph">的stream_id</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1094913e5440 d1094913e5427 ">
                                       <p>分歧呼叫的流ID。如果提供<code class="codeph">NULL</code> ，则在给定重放中针对所有分支调用预先计算分歧信息。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1094913e5451" headers="d1094913e5424 ">
                                       <p><code class="codeph">call_counter</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1094913e5451 d1094913e5427 ">
                                       <p>呼叫分歧的呼叫计数器。如果提供<code class="codeph">NULL</code> ，则针对给定流中的所有分支调用预先计算分歧信息。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="DBMS_WORKLOAD_REPLAY.html#GUID-9608AC9E-BAA5-4CCB-8BDD-54952F9924F0" title="此函数检索有关分支调用的信息，包括语句文本，SQL ID和绑定。如果记录的用户呼叫的重放具有数据或错误分歧，则它是分叉呼叫。">GET_DIVERGING_STATEMENT函数</a></li>
                        </ul>
                     </div>
                  </div>
               </div><a id="ARPLS73996"></a><a id="ARPLS73997"></a><a id="ARPLS73997"></a><a id="ARPLS73996"></a><div class="props_rev_3"><a id="GUID-FEB0ED63-5086-4214-9F0C-DD97D2D4AC50" name="GUID-FEB0ED63-5086-4214-9F0C-DD97D2D4AC50"></a><h4 id="ARPLS-GUID-FEB0ED63-5086-4214-9F0C-DD97D2D4AC50" class="sect4"><span class="enumeration_section">183.3.27</span> PREPARE_CONSOLIDATED_REPLAY程序</h4>
                  <div>
                     <p>与<code class="codeph">PREPARE_REPLAY</code>过程类似，此过程将数据库置于特殊的“准备”模式，以进行多次捕获重放。不同之处在于该子程序仅应用于合并重播。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-FEB0ED63-5086-4214-9F0C-DD97D2D4AC50__GUID-642E8090-9E7B-4D24-A480-0DC14A88A49C">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_WORKLOAD_REPLAY.PREPARE_CONSOLIDATED_REPLAY（同步IN BOOLEAN，connect_time_scale IN NUMBER DEFAULT 100，think_time_scale IN NUMBER DEFAULT 100，think_time_auto_correct IN BOOLEAN DEFAULT TRUE，capture_sts IN BOOLEAN DEFAULT FALSE，sts_cap_interval IN NUMBER DEFAULT 300）; DBMS_WORKLOAD_REPLAY.PREPARE_CONSOLIDATED_REPLAY（同步IN VARCHAR2 DEFAULT'OBJECT_ID'，connect_time_scale IN NUMBER DEFAULT 100，think_time_scale IN NUMBER DEFAULT 100，think_time_auto_correct IN BOOLEAN DEFAULT TRUE，capture_sts IN BOOLEAN DEFAULT FALSE，sts_cap_interval in NUMBER DEFAULT 300）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-FEB0ED63-5086-4214-9F0C-DD97D2D4AC50__GUID-F40E1144-8C33-41F9-A32F-A3F206BEDBC4">参数</p>
                        <div class="tblformal" id="GUID-FEB0ED63-5086-4214-9F0C-DD97D2D4AC50__GUID-98F7A976-502A-4A99-ABEF-BFC117F77C7D">
                           <p class="titleintable">表183-24 PREPARE_CONSOLIDATED_REPLAY过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="PREPARE_CONSOLIDATED_REPLAY过程参数" width="100%" border="1" summary="This table describes the parameters of DBMS_WORKLOAD_REPLAY.PREPARE_CONSOLIDATED_REPLAY" frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="33%" id="d1094913e5582">参数</th>
                                    <th align="left" valign="bottom" width="67%" id="d1094913e5585">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1094913e5590" headers="d1094913e5582 ">
                                       <p><code class="codeph">同步</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1094913e5590 d1094913e5585 ">
                                       <p>设置重播的同步模式：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">'TIME'</code> - 同步将基于捕获期间发生的操作时间（基于时钟的时间）。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">'SCN'</code> - 同步将基于捕获时提交;在重放期间将保留提交顺序。这是默认模式。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">'OBJECT_ID'</code> - 每次重播动作只有<span class="italic">在</span>相关提交完成执行<span class="italic">后</span>才会执行。相关提交是在捕获的工作负载中的给定操作之前发出的并且修改了给定操作引用的至少一个数据库对象（隐式或显式）的提交。此同步模式可确保任何重放操作都将看到操作在捕获期间看到的相同数据，但允许更大的并发性来执行不接触相同对象/表的操作。
                                             </p>
                                             <p>不推荐使用此值。</p>
                                          </li>
                                       </ul>
                                       <p>为了兼容性，此过程的重载版本使用BOOLEAN作为此参数：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p>TRUE表示<code class="codeph">'SCN'</code></p>
                                          </li>
                                          <li>
                                             <p>FALSE表示<code class="codeph">'TIME'</code></p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1094913e5632" headers="d1094913e5582 ">
                                       <p><code class="codeph">connect_time_scale</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1094913e5632 d1094913e5585 ">
                                       <p>缩放工作负载捕获启动和会话与给定值连接之间经过的时间。输入被解释为％值。可以用于在工作负载重放期间增加或减少并发用户数。<code class="codeph">DEFAULT</code> <code class="codeph">VALUE</code>是100。参见<span class="q">“ <a href="DBMS_WORKLOAD_REPLAY.html#GUID-BC0B5C38-7C34-481B-B1E1-FE32E4D0640A__APPLICATIONOFTHECONNECT_TIME_SCALEP-ABBA2FC1">例183-1</a> ”</span> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1094913e5649" headers="d1094913e5582 ">
                                       <p><code class="codeph">think_time_scale</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1094913e5649 d1094913e5585 ">
                                       <p>缩放来自同一会话的两个连续用户调用<span class="q">“ <a href="DBMS_WORKLOAD_REPLAY.html#GUID-BC0B5C38-7C34-481B-B1E1-FE32E4D0640A__APPLICATIONOFTHECONNECT_TIME_SCALEP-ABBA2FC1">示例183-1</a> ”</span>之间经过的时间。输入被解释为％值。可以用于在工作负载重放期间增加或减少并发用户数。<code class="codeph">DEFAULT</code> <code class="codeph">VALUE</code>是100。参见<span class="q">“ <a href="DBMS_WORKLOAD_REPLAY.html#GUID-BC0B5C38-7C34-481B-B1E1-FE32E4D0640A__APPLICATIONOFTHETHINK_TIME_SCALEPAR-ABBA3293">例183-2</a> ”</span> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1094913e5669" headers="d1094913e5582 ">
                                       <p><code class="codeph">think_time_auto_correct</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1094913e5669 d1094913e5585 ">
                                       <p>当用户调用在重放期间比原始捕获期间花费更长时间完成时，自动更正调用之间的思考时间。<code class="codeph">DEFAULT</code>为<code class="codeph">TRUE</code> ，如果重放比捕获慢，则减少思考时间。参见<span class="q">“ <a href="DBMS_WORKLOAD_REPLAY.html#GUID-BC0B5C38-7C34-481B-B1E1-FE32E4D0640A__APPLICATIONOFTHETHINK_TIME_AUTO_COR-ABBA357A">例183-3</a> ”</span> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1094913e5686" headers="d1094913e5582 ">
                                       <p><code class="codeph">capture_sts</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1094913e5686 d1094913e5585 ">
                                       <p>如果此参数为<code class="codeph">TRUE</code> ，则还会与工作负载重放并行启动SQL调优集捕获。可以使用<a href="DBMS_WORKLOAD_REPLAY.html#GUID-A13D311C-AAB8-4887-A29F-46292ACA414B" title="此过程导出与规定的重播ID关联的AWR快照。">EXPORT_AWR过程</a>以及自动工作负载存储库（AWR）数据导出生成的SQL调优集。目前，Oracle RAC环境不支持并行SQL调优集（STS）捕获。因此，此参数在该上下文中无效。主叫用户必须具有适当的权限（' <code class="codeph">ADMINISTER SQL TUNING SET</code> '）。默认值为<code class="codeph">FALSE</code> 。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1094913e5710" headers="d1094913e5582 ">
                                       <p><code class="codeph">sts_cap_interval</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1094913e5710 d1094913e5585 ">
                                       <p>指定从游标缓存中捕获SQL集的捕获间隔（以秒为单位）。默认值为300。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-FEB0ED63-5086-4214-9F0C-DD97D2D4AC50__GUID-A96ED2FD-C19D-47AC-AFAF-D5A91C7E1AD1">使用说明</p>
                        <p>整合重播在一次重播中重放多个捕获。每次捕获记录不同的系统更改号（SCN）值。因此，合并重播不支持基于SCN的同步。合并重放仅支持非同步模式和基于对象ID的同步，并且当前不支持基于SCN的同步。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="DBMS_WORKLOAD_REPLAY.html#GUID-BC0B5C38-7C34-481B-B1E1-FE32E4D0640A" title="此过程将数据库状态置于PREPARE FOR REPLAY模式。">PREPARE_REPLAY程序</a></li>
                        </ul>
                     </div>
                  </div>
               </div><a id="ARPLS69086"></a><a id="ARPLS69087"></a><a id="ARPLS69088"></a><a id="ARPLS69089"></a><a id="ARPLS69090"></a><a id="ARPLS69087"></a><a id="ARPLS69088"></a><a id="ARPLS69089"></a><a id="ARPLS69090"></a><a id="ARPLS69086"></a><div class="props_rev_3"><a id="GUID-BC0B5C38-7C34-481B-B1E1-FE32E4D0640A" name="GUID-BC0B5C38-7C34-481B-B1E1-FE32E4D0640A"></a><h4 id="ARPLS-GUID-BC0B5C38-7C34-481B-B1E1-FE32E4D0640A" class="sect4"><span class="enumeration_section">183.3.28</span> PREPARE_REPLAY程序</h4>
                  <div>
                     <p>此过程将数据库状态置于<code class="codeph">PREPARE FOR REPLAY</code>模式。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-BC0B5C38-7C34-481B-B1E1-FE32E4D0640A__GUID-BD41A537-1F67-4D23-AA78-463C114B61F9">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_WORKLOAD_REPLAY.PREPARE_REPLAY（同步IN BOOLEAN DEFAULT TRUE，connect_time_scale IN NUMBER DEFAULT 100，think_time_scale IN NUMBER DEFAULT 100，think_time_auto_correct IN BOOLEAN DEFAULT TRUE，scale_up_multiplier IN NUMBER DEFAULT 1，capture_sts IN BOOLEAN DEFAULT FALSE，sts_cap_interval in NUMBER DEFAULT 300，rac_mode in NUMBER DEFAULT GLOBAL_SYNC，query_only IN BOOLEAN DEFAULT FALSE）; DBMS_WORKLOAD_REPLAY.PREPARE_REPLAY（同步IN VARCHAR2 DEFAULT'OBJECT_ID'，connect_time_scale IN NUMBER DEFAULT 100，think_time_scale IN NUMBER DEFAULT 100，think_time_auto_correct IN BOOLEAN DEFAULT TRUE，scale_up_multiplier IN NUMBER DEFAULT 1，capture_sts IN BOOLEAN DEFAULT FALSE，sts_cap_interval in NUMBER DEFAULT 300），rac_mode IN NUMBER DEFAULT GLOBAL_SYNC，query_only IN BOOLEAN DEFAULT FALSE）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-BC0B5C38-7C34-481B-B1E1-FE32E4D0640A__GUID-F9DE44AC-77F5-4880-AD62-149A397D9FD0">参数</p>
                        <div class="tblformal" id="GUID-BC0B5C38-7C34-481B-B1E1-FE32E4D0640A__GUID-7ADF8C36-69C4-4F0B-B43E-ADC2EEF92811">
                           <p class="titleintable">表183-25 PREPARE_REPLAY过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="PREPARE_REPLAY过程参数" width="100%" border="1" summary="This table describes the parameters of DBMS_WORKLOAD_REPLAY.PREPARE_REPLAY." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="33%" id="d1094913e5852">参数</th>
                                    <th align="left" valign="bottom" width="67%" id="d1094913e5855">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1094913e5860" headers="d1094913e5852 ">
                                       <p><code class="codeph">同步</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1094913e5860 d1094913e5855 ">
                                       <p>设置重播的同步模式：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">'TIME'</code> - 同步将基于捕获期间发生的操作时间（基于时钟的时间）。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">'SCN'</code> - 同步将基于捕获时提交;在重放期间将保留提交顺序。这是默认模式。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">'OBJECT_ID'</code> - 每次重播动作只有<span class="italic">在</span>相关提交完成执行<span class="italic">后</span>才会执行。相关提交是在捕获的工作负载中的给定操作之前发出的并且修改了给定操作引用的至少一个数据库对象（隐式或显式）的提交。此同步模式可确保任何重放操作都将看到操作在捕获期间看到的相同数据，但允许更大的并发性来执行不接触相同对象/表的操作。
                                             </p>
                                             <p>不推荐使用此值。</p>
                                          </li>
                                       </ul>
                                       <p>为了兼容性，此过程的重载版本使用BOOLEAN作为此参数：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p>TRUE表示<code class="codeph">'SCN'</code></p>
                                          </li>
                                          <li>
                                             <p>FALSE表示<code class="codeph">'TIME'</code></p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1094913e5902" headers="d1094913e5852 ">
                                       <p><code class="codeph">connect_time_scale</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1094913e5902 d1094913e5855 ">
                                       <p>缩放工作负载捕获启动和会话与给定值连接之间经过的时间。输入被解释为％值。可以用于在工作负载重放期间增加或减少并发用户数。<code class="codeph">DEFAULT</code> <code class="codeph">VALUE</code>是100。参见<span class="q">“ <a href="DBMS_WORKLOAD_REPLAY.html#GUID-BC0B5C38-7C34-481B-B1E1-FE32E4D0640A__APPLICATIONOFTHECONNECT_TIME_SCALEP-ABBA2FC1">例183-1</a> ”</span> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1094913e5919" headers="d1094913e5852 ">
                                       <p><code class="codeph">think_time_scale</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1094913e5919 d1094913e5855 ">
                                       <p>缩放来自同一会话的两次连续用户调用之间经过的时间。输入被解释为％值。可以用于在工作负载重放期间增加或减少并发用户数。<code class="codeph">DEFAULT</code> <code class="codeph">VALUE</code>是100。参见<span class="q">“ <a href="DBMS_WORKLOAD_REPLAY.html#GUID-BC0B5C38-7C34-481B-B1E1-FE32E4D0640A__APPLICATIONOFTHETHINK_TIME_SCALEPAR-ABBA3293">例183-2</a> ”</span> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1094913e5936" headers="d1094913e5852 ">
                                       <p><code class="codeph">think_time_auto_correct</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1094913e5936 d1094913e5855 ">
                                       <p>当用户呼叫在重放期间比原始捕获期间需要更长时间完成时，自动更正呼叫之间的思考时间。<code class="codeph">DEFAULT</code>为<code class="codeph">TRUE</code> ，如果重放比捕获慢，则减少思考时间。参见<span class="q">“ <a href="DBMS_WORKLOAD_REPLAY.html#GUID-BC0B5C38-7C34-481B-B1E1-FE32E4D0640A__APPLICATIONOFTHETHINK_TIME_AUTO_COR-ABBA357A">例183-3</a> ”</span> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1094913e5953" headers="d1094913e5852 ">
                                       <p><code class="codeph">scale_up_multiplier</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1094913e5953 d1094913e5855 ">
                                       <p>定义在重放期间扩展查询工作负载的次数。每个捕获的会话同时重放与<code class="codeph">scale_up_multiplier</code>的值一样多次。但是，每组相同的重放会话中只有一个会话执行查询和更新。其余会话仅执行查询。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1094913e5964" headers="d1094913e5852 ">
                                       <p><code class="codeph">capture_sts</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1094913e5964 d1094913e5855 ">
                                       <p>如果此参数为<code class="codeph">TRUE</code> ，则还会与工作负载重放并行启动SQL调优集捕获。可以使用<a href="DBMS_WORKLOAD_REPLAY.html#GUID-A13D311C-AAB8-4887-A29F-46292ACA414B" title="此过程导出与规定的重播ID关联的AWR快照。">EXPORT_AWR过程</a>以及AWR数据导出生成的SQL调整集。目前，Oracle RAC环境不支持并行SQL调优集（STS）捕获。因此，此参数在该上下文中无效。主叫用户必须具有适当的权限（' <code class="codeph">ADMINISTER SQL TUNING SET</code> '）。默认值为<code class="codeph">FALSE</code> 。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1094913e5988" headers="d1094913e5852 ">
                                       <p><code class="codeph">sts_cap_interval</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1094913e5988 d1094913e5855 ">
                                       <p>指定从游标缓存中捕获SQL集的捕获间隔（以秒为单位）。默认值为300。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1094913e5996" headers="d1094913e5852 ">
                                       <p><code class="codeph">rac_mode</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1094913e5996 d1094913e5855 ">
                                       <p>指定Oracle Real Application Cluster（Oracle RAC）环境中的重播选项。此参数接受以下值：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">GLOBAL_SYNC</code> - 跨所有Oracle RAC实例的同步。这是默认值。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">PER_INSTANCE_CLIENT</code> - 同步是全局的，每个WRC客户端处理仅发送到一个实例的部分工作负载。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">PER_INSTANCE_SYNC</code> - 同步是本地的（仅在每个实例中），并且每个WRC客户端处理仅发送到一个实例的部分工作负载</p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1094913e6020" headers="d1094913e5852 ">
                                       <p><code class="codeph">query_only</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1094913e6020 d1094913e5855 ">
                                       <p>仅重播工作负载捕获的只读查询。默认值为<code class="codeph">FALSE</code> 。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-BC0B5C38-7C34-481B-B1E1-FE32E4D0640A__GUID-F41D3D9D-571F-4707-92AA-DFB80CC81513">使用说明</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>先决条件：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>已使用<a href="DBMS_WORKLOAD_REPLAY.html#GUID-F3C9FDEC-27F9-45D8-BC60-66E0B5A8C105" title="此过程将数据库状态置于INIT中以进行REPLAY模式，并在准备重放之前将数据加载到重放系统中（通过执行PAUSE_REPLAY过程）。">INITIALIZE_REPLAY过程</a>初始化数据库以进行重播。
                                    </p>
                                 </li>
                                 <li>
                                    <p>任何需要重新映射的捕获时连接字符串都已使用<a href="DBMS_WORKLOAD_REPLAY.html#GUID-BA6DDFD5-4384-44AB-8CA7-8FFA6D0F3F22" title="此过程将捕获的连接重新映射到新连接，以便用户会话可以在工作负载重放期间以所需方式连接到数据库。">REMAP_CONNECTION过程完成</a> 。
                                    </p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p>执行<code class="codeph">PREPARE_REPLAY</code>过程后，可以启动一个或多个外部重播客户端（WRC）。
                              </p>
                           </li>
                           <li>
                              <p>关于scale_up_multiplier：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>每组相同会话的一个重放会话（基本会话）将像往常一样重放来自捕获的每个呼叫。</p>
                                 </li>
                                 <li>
                                    <p>其余会话（向上扩展会话）将仅重播只读的呼叫。因此，将跳过修改数据库的DDL，DML和PL / SQL调用。<code class="codeph">SELECT</code> <code class="codeph">FOR</code> <code class="codeph">UPDATE</code>语句也被跳过。
                                    </p>
                                 </li>
                                 <li>
                                    <p>来自扩展的只读调用将被适当地同步，并遵循<code class="codeph">think_time_scale</code> ， <code class="codeph">connect_time_scale</code>和<code class="codeph">think_time_auto_correct</code>定义的时序。此外，进行查询以等待适当的提交。
                                    </p>
                                 </li>
                                 <li>
                                    <p>不会为扩展会话生成重播数据或错误偏差记录。</p>
                                 </li>
                                 <li>
                                    <p>重放相同捕获文件的所有基本或纵向扩展会话将从同一工作负载重播客户端连接。</p>
                                 </li>
                              </ul>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-BC0B5C38-7C34-481B-B1E1-FE32E4D0640A__APPLICATIONOFTHECONNECT_TIME_SCALEP-ABBA2FC1">
                        <p class="titleinexample">例183-1 connect_time_scale参数的应用</p>
                        <p>如果在原始工作负载捕获期间观察到以下情况：</p><pre class="oac_no_warn" dir="ltr">12:00：捕获开始12:10：第一次会话连接（10m之后）12:30：第二次会话连接（30m之后）12:42：第三次会话连接（42m之后）</pre><p>如果connect_time_scale为50，则会话连接将发生如下：</p><pre class="oac_no_warn" dir="ltr">12:00：重播以50％连接时间刻度开始12:05：第一次会话连接（5m之后）12:15：第二次会话连接（15m之后）12:21：第三次会话连接（21m之后）</pre><p>如果connect_time_scale是200，则会话连接将发生如下：</p><pre class="oac_no_warn" dir="ltr">12:00：重播以200％连接时间刻度开始12:20：第一个会话连接（20m之后）13:00：第二个会话连接（60m之后）13:24：第三个会话连接（84m之后）</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-BC0B5C38-7C34-481B-B1E1-FE32E4D0640A__APPLICATIONOFTHETHINK_TIME_SCALEPAR-ABBA3293">
                        <p class="titleinexample">例183-2 think_time_scale参数的应用</p>
                        <p>如果在原始工作负载捕获期间观察到以下情况：</p><pre class="oac_no_warn" dir="ltr">12:00：用户SCOTT连接12:10：发出第一个用户呼叫（完成前呼叫后10米）12:14：第一个用户呼叫在4分12:30内完成：发出第二个用户呼叫（完成前呼叫后16米）12:40 ：第二个用户呼叫在10分12:42完成：发出第三个用户呼叫（完成前呼叫后2米）12:50：第三个用户呼叫在8米完成</pre><p>如果在工作负载重放期间think_time_scale为50，则用户调用将如下所示：</p><pre class="oac_no_warn" dir="ltr">12:00：用户SCOTT连接12:05：首次用户呼叫在上次呼叫完成后发出5分钟（10m的50％）12:10：第一次用户呼叫在5m内完成（需要更长时间）12:18：秒在上一次呼叫12:25完成后，用户呼叫发出8分钟（16m的50％）：第二次用户呼叫在7m完成（减少3分钟）12:26：第三次用户呼叫发出1分钟（2m的50％）完成上一个呼叫12:35：第三个用户呼叫在9米完成（需要一分钟更长时间）</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-BC0B5C38-7C34-481B-B1E1-FE32E4D0640A__APPLICATIONOFTHETHINK_TIME_AUTO_COR-ABBA357A">
                        <p class="titleinexample">例183-3 think_time_auto_correct参数的应用</p>
                        <p>如果在原始工作负载捕获期间观察到以下情况：</p><pre class="oac_no_warn" dir="ltr">12:00：用户SCOTT连接12:10：发出第一个用户呼叫（完成前呼叫后10米）12:14：第一个用户呼叫在4分12:30完成：发出第二个用户呼叫（完成前呼叫后16米）12:40 ：第二个用户呼叫在10分12:42完成：发出第三个用户呼叫（完成前呼叫后2米）12:50：第三个用户呼叫在8米完成</pre><p>如果在工作负载重放期间think_time_scale为100且think_time_auto_correct为TRUE，则用户调用将如下所示：</p><pre class="oac_no_warn" dir="ltr">12:00：用户SCOTT连接12:10：在上一次呼叫完成后10分钟发出第一个用户呼叫12:15：第一个用户呼叫在5米内完成（需要1分钟更长时间）12:30：第二个用户呼叫发出15分钟（在上一次呼叫12:44完成后，16m减去1m的额外时间）：第二次用户呼叫在14m完成（需要4分钟）12:44：立即发出第三次用户呼叫（2m减去额外时间）在上一次呼叫12:52完成后，上一次呼叫占用4m：第二次用户呼叫在8m内完成</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ARPLS69091"></a><a id="ARPLS69092"></a><a id="ARPLS69092"></a><a id="ARPLS69091"></a><div class="props_rev_3"><a id="GUID-5DA9F293-880A-47C0-9AD4-981A891526E2" name="GUID-5DA9F293-880A-47C0-9AD4-981A891526E2"></a><h4 id="ARPLS-GUID-5DA9F293-880A-47C0-9AD4-981A891526E2" class="sect4"><span class="enumeration_section">183.3.29</span> PROCESS_CAPTURE程序</h4>
                  <div>
                     <p>此过程处理<code class="codeph">capture_dir</code>中的工作负载捕获。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-5DA9F293-880A-47C0-9AD4-981A891526E2__GUID-39FB6738-623E-48B0-A540-632FB281EAA5">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_WORKLOAD_REPLAY.PROCESS_CAPTURE（capture_dir IN VARCHAR2，parallel_level IN NUMBER DEFAULT NULL，同步IN VARCHAR2 DEFAULT'SCN'，plsql_mode IN VARCHAR2 DEFAULT'TOP_LEVEL'）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5DA9F293-880A-47C0-9AD4-981A891526E2__GUID-B17CD432-EE52-4A5D-80D6-AFD6047D1732">参数</p>
                        <div class="tblformal" id="GUID-5DA9F293-880A-47C0-9AD4-981A891526E2__GUID-8888E9C5-2551-43B7-9A13-195CB12F7F32">
                           <p class="titleintable">表183-26 PROCESS_CAPTURE过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="PROCESS_CAPTURE过程参数" width="100%" border="1" summary="This table describes the parameters of DBMS_WORKLOAD_REPLAY.PROCESS_CAPTURE." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="33%" id="d1094913e6258">参数</th>
                                    <th align="left" valign="bottom" width="67%" id="d1094913e6261">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1094913e6266" headers="d1094913e6258 ">
                                       <p><code class="codeph">capture_dir</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1094913e6266 d1094913e6261 ">
                                       <p>（必需）工作负载捕获目录对象的名称（区分大小写）。目录对象必须指向具有适当权限的有效OS目录。新文件将添加到此目录中。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1094913e6274" headers="d1094913e6258 ">
                                       <p><code class="codeph">parallel_level</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1094913e6274 d1094913e6261 ">
                                       <p>用于并行处理捕获的Oracle进程数。<code class="codeph">NULL</code>默认值将自动计算并行度级别，而值1将强制执行串行执行。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1094913e6285" headers="d1094913e6258 ">
                                       <p><code class="codeph">同步</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1094913e6285 d1094913e6261 ">
                                       <p>确定用户可以用于重播的同步模式：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">'TIME'</code> - 选择<code class="codeph">'TIME'</code> ，重播只能使用<code class="codeph">'TIME'</code>同步模式。
                                             </p>
                                             <p>当<code class="codeph">'TIME'</code>同步模式用于重放时，同步将基于捕获期间发生的操作的时间（基于时钟的时间）。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">'SCN'</code> - 选择<code class="codeph">'SCN'</code> ，重放可以使用<code class="codeph">'TIME'</code>或<code class="codeph">'SCN'</code>同步模式。这是默认值。
                                             </p>
                                             <p>当<code class="codeph">'SCN'</code>同步模式用于重放时，同步将基于捕获时提交;在重放期间将保留提交顺序。这是默认模式。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">'OBJECT_ID'</code> - 选择<code class="codeph">'OBJECT_ID'</code> ，重放可以使用<code class="codeph">'TIME'</code> ， <code class="codeph">'SCN'</code>或<code class="codeph">'OBJECT_ID'</code>同步模式。
                                             </p>
                                             <p>当<code class="codeph">'OBJECT_ID'</code>同步模式用于重放时，每次重放操作只有<span class="italic">在</span>相关提交完成执行<span class="italic">后</span>才会执行。相关提交是在捕获的工作负载中的给定操作之前发出的并且修改了给定操作引用的至少一个数据库对象（隐式或显式）的提交。此同步模式可确保任何重放操作都将看到操作在捕获期间看到的相同数据，但允许更大的并发性来执行不接触相同对象/表的操作。
                                             </p>
                                             <p>不推荐使用此同步模式。</p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1094913e6356" headers="d1094913e6258 ">
                                       <p><code class="codeph">plsql_mode</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1094913e6356 d1094913e6261 ">
                                       <p>指定PL / SQL的处理模式：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">'TOP_LEVEL'</code> - 仅为顶级PL / SQL调用生成元数据; <code class="codeph">'TOP_LEVEL'</code>将是重播的唯一选择。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">'EXTENDED'</code> - 为顶级PL / SQL调用和从PL / SQL调用的SQL生成元数据。在捕获根目录下创建一个新目录<code class="codeph">ppe_X.XXX</code> （其中X代表当前的Oracle版本）。必须使用<code class="codeph">plsql_mode</code>参数的相同值完成捕获。重播可以使用<code class="codeph">'TOP_LEVEL'</code>或<code class="codeph">'EXTENDED'</code> 。
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5DA9F293-880A-47C0-9AD4-981A891526E2__GUID-06561FE8-30BE-4167-886C-7293DBACD1DA">使用说明</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>此子程序分析<code class="codeph">capture_dir</code>找到的工作负载捕获，并创建重放给定工作负载捕获所需的新工作负载重放特定元数据文件。它仅创建新文件，不会修改最初在工作负载捕获期间创建的任何文件。因此，此过程可以在同一捕获目录上多次运行，例如，当过程遇到意外错误或被用户取消时。
                              </p>
                           </li>
                           <li>
                              <p>成功运行此过程后，capture_dir可用作<a href="DBMS_WORKLOAD_REPLAY.html#GUID-F3C9FDEC-27F9-45D8-BC60-66E0B5A8C105" title="此过程将数据库状态置于INIT中以进行REPLAY模式，并在准备重放之前将数据加载到重放系统中（通过执行PAUSE_REPLAY过程）。">INITIALIZE_REPLAY过程的</a>输入，以便重放<code class="codeph">capture_dir</code>存在的捕获工作负载。
                              </p>
                           </li>
                           <li>
                              <p>在可以在特定数据库版本中重放工作负载捕获之前，必须使用相同数据库版本中的<code class="codeph">PROCESS_CAPTURE</code>处理捕获。创建后，可以使用已处理的工作负载捕获在同一数据库版本中多次重放捕获的工作负载。
                              </p>
                              <p>例如，假设在Oracle数据库版本10.2.0.5中的<code class="codeph">rec_dir</code>中捕获了工作负载“foo”。为了重放版本11.1.0.1中的工作负载“foo”，必须在版本11.1.0.1中处理工作负载。必须在11.1.0.1数据库中执行以下过程才能处理捕获目录<code class="codeph">rec_dir</code> ：</p><pre class="oac_no_warn" dir="ltr">DBMS_WORKLOAD_REPLAY.PROCESS_CAPTURE（ 'rec_dir'）;</pre><p>现在， <code class="codeph">rec_dir</code>包含一个有效的11.1.0.1处理工作负载捕获，可用于根据需要多次重放11.1.0.1数据库中的工作负载“foo”。
                              </p>
                           </li>
                           <li>
                              <p>对于加密捕获， <code class="codeph">PROCESS_CAPTURE</code>过程依赖于Oracle钱包。标识符为<code class="codeph">oracle.rat.database_replay.encryption</code> （区分大小写）。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS69093"></a><a id="ARPLS69094"></a><a id="ARPLS69094"></a><a id="ARPLS69093"></a><div class="props_rev_3"><a id="GUID-BA6DDFD5-4384-44AB-8CA7-8FFA6D0F3F22" name="GUID-BA6DDFD5-4384-44AB-8CA7-8FFA6D0F3F22"></a><h4 id="ARPLS-GUID-BA6DDFD5-4384-44AB-8CA7-8FFA6D0F3F22" class="sect4"><span class="enumeration_section">183.3.30</span> REMAP_CONNECTION程序</h4>
                  <div>
                     <p>此过程将捕获的连接重新映射到新连接，以便用户会话可以在工作负载重放期间以所需方式连接到数据库。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-BA6DDFD5-4384-44AB-8CA7-8FFA6D0F3F22__GUID-05B82BDB-DFF5-4729-B9EA-2305D0E0A42A">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_WORKLOAD_REPLAY.REMAP_CONNECTION（connection_id IN NUMBER，replay_connection IN VARCHAR2）; DBMS_WORKLOAD_REPLAY.REMAP_CONNECTION（capture_number IN VARCHAR2，connection_id IN NUMBER，replay_connection IN VARCHAR2）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-BA6DDFD5-4384-44AB-8CA7-8FFA6D0F3F22__GUID-B263A954-C8ED-4D30-A618-2A765390B54B">参数</p>
                        <div class="tblformal" id="GUID-BA6DDFD5-4384-44AB-8CA7-8FFA6D0F3F22__GUID-791F5B4E-5EFB-42C9-A61F-6C619660C46C">
                           <p class="titleintable">表183-27 REMAP_CONNECTION过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="REMAP_CONNECTION过程参数" width="100%" border="1" summary="This table describes the parameters of DBMS_WORKLOAD_REPLAY.REMAP_CONNECTION." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="33%" id="d1094913e6558">参数</th>
                                    <th align="left" valign="bottom" width="67%" id="d1094913e6561">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1094913e6566" headers="d1094913e6558 ">
                                       <p><code class="codeph">capture_number</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1094913e6566 d1094913e6561 ">
                                       <p>指向捕获当前的重播计划</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1094913e6574" headers="d1094913e6558 ">
                                       <p><code class="codeph">CONNECTION_ID</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1094913e6574 d1094913e6561 ">
                                       <p>要重新映射的连接的ID。对应于<code class="codeph">DBA_WORKLOAD_CONNECTION_MAP</code> 。 <code class="codeph">CONN_ID</code> 。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1094913e6588" headers="d1094913e6558 ">
                                       <p><code class="codeph">replay_connection</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1094913e6588 d1094913e6561 ">
                                       <p>重播期间要使用的新连接字符串</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-BA6DDFD5-4384-44AB-8CA7-8FFA6D0F3F22__GUID-59B13B74-31E1-4788-A88B-CC0A8F1CD33C">使用说明</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>在调用<code class="codeph">REMAP_CONNECTION</code>之前，默认情况下所有重播连接字符串都设置为<code class="codeph">NULL</code> 。如果<code class="codeph">replay_connection</code>为<code class="codeph">NULL</code> ，则重放会话将根据重播客户端的运行时环境进行连接。例如，如果定义了环境变量<code class="codeph">TNS_ADMIN</code>且用户未调用<a href="DBMS_WORKLOAD_REPLAY.html#GUID-BA6DDFD5-4384-44AB-8CA7-8FFA6D0F3F22" title="此过程将捕获的连接重新映射到新连接，以便用户会话可以在工作负载重放期间以所需方式连接到数据库。">REMAP_CONNECTION过程</a> ，则<code class="codeph">wrc</code>可执行文件将连接到<code class="codeph">TNS_ADMIN</code>指向的tnsnames.ora文件中指定的服务器。</p>
                           </li>
                           <li>
                              <p>有效的<code class="codeph">replay_connection</code>必须指定连接标识符或服务点。有关指定连接标识符（例如网络服务名称，数据库服务名称和网络服务别名）的方法以及可用于将连接标识符解析为连接描述符的命名方法，请参阅<a href="../netrf/index.html" target="_blank"><span class="italic">Oracle数据库网络服务参考</span></a> 。
                              </p>
                           </li>
                           <li>
                              <p>如果没有行与给定的<code class="codeph">connection_id</code>匹配，则返回错误。
                              </p>
                           </li>
                           <li>
                              <p>使用<code class="codeph">DBA_WORKLOAD_CONNECTION_MAP</code>视图查看后续工作负载重放使用的所有连接字符串，并检查用于先前工作负载重放的连接字符串重新映射。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS73998"></a><a id="ARPLS73999"></a><a id="ARPLS73999"></a><a id="ARPLS73998"></a><div class="props_rev_3"><a id="GUID-07ABF9ED-0A07-4644-A8BB-92422BA6413A" name="GUID-07ABF9ED-0A07-4644-A8BB-92422BA6413A"></a><h4 id="ARPLS-GUID-07ABF9ED-0A07-4644-A8BB-92422BA6413A" class="sect4"><span class="enumeration_section">183.3.31</span> REMOVE_CAPTURE程序</h4>
                  <div>
                     <p>此过程从当前计划中删除给定的捕获。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-07ABF9ED-0A07-4644-A8BB-92422BA6413A__GUID-784AC197-41A1-450A-BDB1-C1D7512027B7">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_WORKLOAD_REPLAY.REMOVE_CAPTURE（schedule_capture_number IN NUMBER）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-07ABF9ED-0A07-4644-A8BB-92422BA6413A__GUID-DF2F5A87-94A6-4BA9-AD32-E3507A8F828B">参数</p>
                        <div class="tblformal" id="GUID-07ABF9ED-0A07-4644-A8BB-92422BA6413A__GUID-9F82A6B9-1399-4DF6-8235-10245747DD10">
                           <p class="titleintable">表183-28 REMOVE_CAPTURE过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="REMOVE_CAPTURE过程参数" width="100%" border="1" summary="This table describes the parameters of DBMS_WORKLOAD_REPLAY.REMOVE_CAPTURE." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="33%" id="d1094913e6764">参数</th>
                                    <th align="left" valign="bottom" width="67%" id="d1094913e6767">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1094913e6772" headers="d1094913e6764 ">
                                       <p><code class="codeph">schedule_capture_number</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1094913e6772 d1094913e6767 ">
                                       <p>在此计划中标识此捕获的唯一ID</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS74000"></a><a id="ARPLS74001"></a><a id="ARPLS74001"></a><a id="ARPLS74000"></a><div class="props_rev_3"><a id="GUID-08B0E7F1-D6DA-411C-BF9A-3B2144F9344D" name="GUID-08B0E7F1-D6DA-411C-BF9A-3B2144F9344D"></a><h4 id="ARPLS-GUID-08B0E7F1-D6DA-411C-BF9A-3B2144F9344D" class="sect4"><span class="enumeration_section">183.3.32</span> REMOVE_SCHEDULE_ORDERING过程</h4>
                  <div>
                     <p>此过程从当前重播计划中删除现有计划顺序。</p>
                     <div class="section">
                        <p><code class="codeph">schedule_capture_id</code>和<code class="codeph">waitfor_capture_id</code>一起形成之前由<a href="DBMS_WORKLOAD_REPLAY.html#GUID-880217AF-AC58-48C4-85D0-F1B28659D816" title="此功能在两次捕获之间添加计划顺序。">ADD_SCHEDULE_ORDERING函数</a>添加的调度顺序（ <code class="codeph">schedule_capture_id</code> ， <code class="codeph">waitfor_capture_id</code> ）。顺序是，除非<code class="codeph">waiting_for_capture_id</code>指示的捕获重放完成，否则<code class="codeph">schedule_capture_id</code>指示的捕获重放将不会开始。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-08B0E7F1-D6DA-411C-BF9A-3B2144F9344D__GUID-B76771B4-2A55-4F3F-96DE-3F1F45A3BC5F">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_WORKLOAD_REPLAY.REMOVE_SCHEDULE_ORDERING（schedule_capture_id IN NUMBER，waitfor_capture_id IN NUMBER）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-08B0E7F1-D6DA-411C-BF9A-3B2144F9344D__GUID-7804F301-3FE0-43EF-9DAF-5C9DEFF99EC8">参数</p>
                        <div class="tblformal" id="GUID-08B0E7F1-D6DA-411C-BF9A-3B2144F9344D__GUID-454EF74C-D957-4EB4-869B-56B2B78BEC8C">
                           <p class="titleintable">表183-29 REMOVE_SCHEDULE_ORDERING过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="REMOVE_SCHEDULE_ORDERING过程参数" width="100%" border="1" summary="This table describes the parameters of DBMS_WORKLOAD_REPLAY.REMOVE_SCHEDULE_ORDERING." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="33%" id="d1094913e6919">参数</th>
                                    <th align="left" valign="bottom" width="67%" id="d1094913e6922">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1094913e6927" headers="d1094913e6919 ">
                                       <p><code class="codeph">schedule_capture_id</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1094913e6927 d1094913e6922 ">
                                       <p>指向已添加到当前重播计划的捕获（请参阅过程说明）。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1094913e6935" headers="d1094913e6919 ">
                                       <p><code class="codeph">waitfor_capture_id</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1094913e6935 d1094913e6922 ">
                                       <p>指向已添加到当前重播计划的捕获。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-08B0E7F1-D6DA-411C-BF9A-3B2144F9344D__GUID-23D06563-DDE3-4CF6-9095-87A112D00542">使用说明</p>
                        <p>先决条件：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>必须已调用<a href="DBMS_WORKLOAD_REPLAY.html#GUID-15472C5A-8535-4CB1-991E-864880E91FC2" title="此过程启动创建可重用的重播计划。">BEGIN_REPLAY_SCHEDULE过程</a> 。
                              </p>
                           </li>
                           <li>
                              <p>应使用<a href="DBMS_WORKLOAD_REPLAY.html#GUID-880217AF-AC58-48C4-85D0-F1B28659D816" title="此功能在两次捕获之间添加计划顺序。">ADD_SCHEDULE_ORDERING函数</a>添加重播计划顺序。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS69095"></a><a id="ARPLS69096"></a><a id="ARPLS69096"></a><a id="ARPLS69095"></a><div class="props_rev_3"><a id="GUID-33162BE4-462C-4E67-80EF-71D22C15AEFB" name="GUID-33162BE4-462C-4E67-80EF-71D22C15AEFB"></a><h4 id="ARPLS-GUID-33162BE4-462C-4E67-80EF-71D22C15AEFB" class="sect4"><span class="enumeration_section">183.3.33</span>报告功能</h4>
                  <div>
                     <p>此函数生成有关规定的工作负载重放的报告。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-33162BE4-462C-4E67-80EF-71D22C15AEFB__GUID-99490A1D-C8E4-460D-A235-29DB6D1D4F82">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_WORKLOAD_REPLAY.REPORT（replaby_id IN NUMBER，格式为IN VARCHAR2）RETURN CLOB;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-33162BE4-462C-4E67-80EF-71D22C15AEFB__GUID-B3FB64EC-5398-4F9B-87B3-B6D7FD9953AE">参数</p>
                        <div class="tblformal" id="GUID-33162BE4-462C-4E67-80EF-71D22C15AEFB__GUID-DBE3FCA6-9B08-4D4F-917F-1DE5496A9368">
                           <p class="titleintable">表183-30 REPORT功能参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="报告功能参数" width="100%" border="1" summary="This table describes the parameters of DBMS_WORKLOAD_REPLAY.REPORT." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="33%" id="d1094913e7078">参数</th>
                                    <th align="left" valign="bottom" width="67%" id="d1094913e7081">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1094913e7086" headers="d1094913e7078 ">
                                       <p><code class="codeph">replay_id</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1094913e7086 d1094913e7081 ">
                                       <p>（必需）指定请求其报告的工作负载重播的ID。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1094913e7094" headers="d1094913e7078 ">
                                       <p><code class="codeph">格式</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1094913e7094 d1094913e7081 ">
                                       <p>（必填）指定报告格式。有效值：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p>HTML  - 生成报告的HTML版本</p>
                                          </li>
                                          <li>
                                             <p>XML  - 生成报告的XML版本</p>
                                          </li>
                                          <li>
                                             <p>TEXT  - 生成报告的文本版本</p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-33162BE4-462C-4E67-80EF-71D22C15AEFB__GUID-3B86165F-EF98-4F0C-9A46-E51628225C2F">返回值</p>
                        <p>所需格式的报告正文作为<code class="codeph">CLOB</code>返回</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS69098"></a><a id="ARPLS69098"></a><div class="props_rev_3"><a id="GUID-D286820A-78B9-449F-9E98-0DC7E2ADFFEC" name="GUID-D286820A-78B9-449F-9E98-0DC7E2ADFFEC"></a><h4 id="ARPLS-GUID-D286820A-78B9-449F-9E98-0DC7E2ADFFEC" class="sect4"><span class="enumeration_section">183.3.34</span> RESUME_REPLAY程序</h4>
                  <div>
                     <p>此过程将恢复暂停的工作负载重播。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-D286820A-78B9-449F-9E98-0DC7E2ADFFEC__GUID-9C86CE7D-EB3B-43B0-9FA9-89EA40545026">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_WORKLOAD_REPLAY.RESUME_REPLAY;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D286820A-78B9-449F-9E98-0DC7E2ADFFEC__GUID-774CD6D1-F9B2-444B-A5B7-42B06A156B7A">使用说明</p>
                        <p>先决条件：必须已发出对<a href="DBMS_WORKLOAD_REPLAY.html#GUID-F5DF973D-922F-4F7C-AEBB-C1641037D0ED" title="此过程暂停正在进行的工作负载重放。">PAUSE_REPLAY过程的</a>调用。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS72143"></a><a id="ARPLS72144"></a><a id="ARPLS72144"></a><a id="ARPLS72143"></a><div class="props_rev_3"><a id="GUID-381ABE48-25AC-4F1C-B4CF-B5307BA32B40" name="GUID-381ABE48-25AC-4F1C-B4CF-B5307BA32B40"></a><h4 id="ARPLS-GUID-381ABE48-25AC-4F1C-B4CF-B5307BA32B40" class="sect4"><span class="enumeration_section">183.3.35</span> REUSE_REPLAY_FILTER_SET程序</h4>
                  <div>
                     <p>此过程重用指定过滤器集中的过滤器，就像使用ADD_SCHEDULE_ORDERING函数添加每个过滤器一样。</p>
                     <div class="section">
                        <p>每次调用都会添加一个过滤器集，这是各种属性的各个过滤器的集合。此外，可以添加新的过滤规则，并且可以在调用<a href="DBMS_WORKLOAD_REPLAY.html#GUID-CCC99CF2-EB31-4B23-8E52-1F85B95FDDE7" title="此过程为replay_dir上的重放创建新的过滤器集。">CREATE_FILTER_SET过程</a>之前删除现有过滤器以创建新的过滤器集。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-381ABE48-25AC-4F1C-B4CF-B5307BA32B40__GUID-3FD46329-7006-4535-81AC-B2D2ED19434B">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_WORKLOAD_REPLAY.REUSE_REPLAY_FILTER_SET（replay_dir IN VARCHAR2，filter_set IN VARCHAR2）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-381ABE48-25AC-4F1C-B4CF-B5307BA32B40__GUID-5751930F-C51C-4290-83C3-22B6FB82F143">参数</p>
                        <div class="tblformal" id="GUID-381ABE48-25AC-4F1C-B4CF-B5307BA32B40__GUID-DAFBF7FD-E39F-41A8-BB50-3F06D6987C67">
                           <p class="titleintable">表183-31 REUSE_REPLAY_FILTER_SET过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="REUSE_REPLAY_FILTER_SET过程参数" width="100%" border="1" summary="This table describes the parameters of DBMS_WORKLOAD_REPLAY.REUSE_REPLAY_FILTER_SET." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="33%" id="d1094913e7349">参数</th>
                                    <th align="left" valign="bottom" width="67%" id="d1094913e7352">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1094913e7357" headers="d1094913e7349 ">
                                       <p><code class="codeph">replay_dir</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1094913e7357 d1094913e7352 ">
                                       <p>捕获与其关联的现有过滤器集的ID</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1094913e7365" headers="d1094913e7349 ">
                                       <p><code class="codeph">filter_set</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1094913e7365 d1094913e7352 ">
                                       <p>要重用的过滤器集的名称</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="DBMS_WORKLOAD_REPLAY.html#GUID-880217AF-AC58-48C4-85D0-F1B28659D816" title="此功能在两次捕获之间添加计划顺序。">ADD_SCHEDULE_ORDERING函数</a></li>
                        </ul>
                     </div>
                  </div>
               </div><a id="ARPLS73105"></a><a id="ARPLS73106"></a><a id="ARPLS73106"></a><a id="ARPLS73105"></a><div class="props_rev_3"><a id="GUID-428DDC4F-545E-4733-8537-6671F6EA48A4" name="GUID-428DDC4F-545E-4733-8537-6671F6EA48A4"></a><h4 id="ARPLS-GUID-428DDC4F-545E-4733-8537-6671F6EA48A4" class="sect4"><span class="enumeration_section">183.3.36</span> SET_ADVANCED_PARAMETER过程</h4>
                  <div>
                     <p>除了PREPARE_REPLAY过程使用的参数外，此过程还设置重播的高级参数。</p>
                     <div class="section">
                        <p>高级参数控制更专业的重放方面。重放完成后，高级参数将重置为其默认值。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-428DDC4F-545E-4733-8537-6671F6EA48A4__GUID-30AF4673-24D6-4BDA-A0EA-ABF4718A8BBB">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_WORKLOAD_REPLAY.SET_ADVANCED_PARAMETER（pname IN VARCHAR2，pvalue IN VARCHAR2）; DBMS_WORKLOAD_REPLAY.SET_ADVANCED_PARAMETER（pname IN VARCHAR2，pvalue IN NUMBER）; DBMS_WORKLOAD_REPLAY.SET_ADVANCED_PARAMETER（pname IN VARCHAR2，pvalue IN BOOLEAN）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-428DDC4F-545E-4733-8537-6671F6EA48A4__GUID-87E23F1C-5859-4416-9A7E-0B7C178F86E7">参数</p>
                        <div class="tblformal" id="GUID-428DDC4F-545E-4733-8537-6671F6EA48A4__GUID-0ACC0B54-A952-49C1-B69C-E3C2845D4886">
                           <p class="titleintable">表183-32 SET_ADVANCED_PARAMETER过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SET_ADVANCED_PARAMETER过程参数" width="100%" border="1" summary="This table describes the parameters of DBMS_WORKLOAD_REPLAY.SET_ADVANCED_PARAMETER." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="33%" id="d1094913e7493">参数</th>
                                    <th align="left" valign="bottom" width="67%" id="d1094913e7496">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1094913e7501" headers="d1094913e7493 ">
                                       <p><code class="codeph">PNAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1094913e7501 d1094913e7496 ">
                                       <p>参数名称（不区分大小写）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1094913e7509" headers="d1094913e7493 ">
                                       <p><code class="codeph">P值</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1094913e7509 d1094913e7496 ">
                                       <p>参数的值</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-428DDC4F-545E-4733-8537-6671F6EA48A4__GUID-A76AC39E-7111-43B7-8351-796734F7D313">使用说明</p>
                        <p>可以使用的当前参数和值是：</p><pre class="oac_no_warn" dir="ltr">'DO_NO_WAIT_COMMITS':(默认值：FALSE）</pre><p>此参数控制重播会话发出的<code class="codeph">COMMIT</code>是否为<code class="codeph">NOWAIT</code> 。此参数的默认值为<code class="codeph">FALSE</code> 。在这种情况下，所有<code class="codeph">COMMIT</code>都以它们被捕获的模式发出（ <code class="codeph">wait</code> ， <code class="codeph">no-wait</code> ， <code class="codeph">batch</code> ， <code class="codeph">no-batch</code> ）。如果参数设置为<code class="codeph">TRUE</code> ，则在<code class="codeph">no-wait</code>模式下发出所有<code class="codeph">COMMIT</code> 。这在由于大量并发<code class="codeph">COMMIT</code>而导致重放变得明显缓慢的情况下非常有用。将参数设置为<code class="codeph">TRUE</code>将显着减少在捕获期间重放期间<code class="codeph">'log file sync'</code>事件的等待。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="DBMS_WORKLOAD_REPLAY.html#GUID-BC0B5C38-7C34-481B-B1E1-FE32E4D0640A" title="此过程将数据库状态置于PREPARE FOR REPLAY模式。">PREPARE_REPLAY程序</a></li>
                        </ul>
                     </div>
                  </div>
               </div><a id="ARPLS73107"></a><a id="ARPLS73108"></a><a id="ARPLS73108"></a><a id="ARPLS73107"></a><div class="props_rev_3"><a id="GUID-5A54C82E-A60C-451F-978F-0FE58E18DC67" name="GUID-5A54C82E-A60C-451F-978F-0FE58E18DC67"></a><h4 id="ARPLS-GUID-5A54C82E-A60C-451F-978F-0FE58E18DC67" class="sect4"><span class="enumeration_section">183.3.37</span> SET_REPLAY_DIRECTORY过程</h4>
                  <div>
                     <p>此过程将包含多个工作负载捕获的目录设置为当前重播目录。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-5A54C82E-A60C-451F-978F-0FE58E18DC67__GUID-575399C2-A2CA-4CDD-B64E-FB30C888B900">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_WORKLOAD_REPLAY.SET_REPLAY_DIRECTORY（replay_dir IN VARCHAR2）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5A54C82E-A60C-451F-978F-0FE58E18DC67__GUID-DFAEA7FC-CBE4-4AD3-8806-30CAE272858C">参数</p>
                        <div class="tblformal" id="GUID-5A54C82E-A60C-451F-978F-0FE58E18DC67__GUID-17D6B097-BBCF-4F7E-9532-38A7A99B90B7">
                           <p class="titleintable">表183-33 SET_REPLAY_DIRECTORY过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SET_REPLAY_DIRECTORY过程参数" width="100%" border="1" summary="This table describes the parameters of DBMS_WORKLOAD_REPLAY.SET_REPLAY_DIRECTORY." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="33%" id="d1094913e7690">参数</th>
                                    <th align="left" valign="bottom" width="67%" id="d1094913e7693">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1094913e7698" headers="d1094913e7690 ">
                                       <p><code class="codeph">replay_dir</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1094913e7698 d1094913e7693 ">
                                       <p>包含工作负载整合捕获的OS目录的名称</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS74002"></a><a id="ARPLS74003"></a><a id="ARPLS74003"></a><a id="ARPLS74002"></a><div class="props_rev_3"><a id="GUID-7F9DEBCC-2361-43F0-9608-3FDC7F6288A1" name="GUID-7F9DEBCC-2361-43F0-9608-3FDC7F6288A1"></a><h4 id="ARPLS-GUID-7F9DEBCC-2361-43F0-9608-3FDC7F6288A1" class="sect4"><span class="enumeration_section">183.3.38</span> SET_REPLAY_TIMEOUT过程</h4>
                  <div>
                     <p>此过程设置重播超时设置。目的是中止可能使重放速度变慢的用户调用，甚至导致重放挂起。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-7F9DEBCC-2361-43F0-9608-3FDC7F6288A1__GUID-3F6772DF-C4D3-480D-BB49-559012915C3B">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_WORKLOAD_REPLAY.SET_REPLAY_TIMEOUT（启用OUT BOOLEAN DEFAULT TRUE，min_delay OUT NUMBER DEFAULT 10，max_delay OUT NUMBER DEFAULT 120，delay_factor OUT NUMBER DEFAULT 8）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-7F9DEBCC-2361-43F0-9608-3FDC7F6288A1__GUID-3F36CF45-3139-447A-9FCF-1EB4F716DEED">参数</p>
                        <div class="tblformal" id="GUID-7F9DEBCC-2361-43F0-9608-3FDC7F6288A1__GUID-5AF8E4F5-5EBB-40A3-953A-FE9FC54FC770">
                           <p class="titleintable">表183-34 SET_REPLAY_TIMEOUT过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SET_REPLAY_TIMEOUT过程参数" width="100%" border="1" summary="This table describes the parameters of DBMS_WORKLOAD_REPLAY.SET_REPLAY_TIMEOUT." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="33%" id="d1094913e7816">参数</th>
                                    <th align="left" valign="bottom" width="67%" id="d1094913e7819">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1094913e7824" headers="d1094913e7816 ">
                                       <p><code class="codeph">启用</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1094913e7824 d1094913e7819 ">
                                       <p><code class="codeph">TRUE</code>表示启用超时操作， <code class="codeph">FALSE</code>表示禁用。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1094913e7837" headers="d1094913e7816 ">
                                       <p><code class="codeph">min_delay</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1094913e7837 d1094913e7819 ">
                                       <p>呼叫延迟的下限以分钟为单位。仅当延迟等于或大于<code class="codeph">min_delay</code>时才会激活重放操作。默认= 10。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1094913e7848" headers="d1094913e7816 ">
                                       <p><code class="codeph">max_delay</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1094913e7848 d1094913e7819 ">
                                       <p>呼叫延迟的上限，以分钟为单位。当延迟大于<code class="codeph">max_delay</code>时，超时操作会抛出<code class="codeph">ORA-15569</code> 。默认= 120。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1094913e7862" headers="d1094913e7816 ">
                                       <p><code class="codeph">delay_factor</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1094913e7862 d1094913e7819 ">
                                       <p>呼叫延迟的因子，介于<code class="codeph">min_delay</code>和<code class="codeph">max_delay</code>之间。当前重播经过的时间超过捕获经过时间和<code class="codeph">delay_factor</code>的乘积时，超时操作会抛出<code class="codeph">ORA-15569</code> 。默认= 8。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-7F9DEBCC-2361-43F0-9608-3FDC7F6288A1__GUID-4CB9EA2D-E0B2-4593-84A5-CEAB0FFEF4B9">使用说明</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>可以在重放期间随时调用此过程。</p>
                           </li>
                           <li>
                              <p>如果重播经过的时间长于呼叫经过时间，则呼叫延迟定义为重放和捕获之间的差异。</p>
                           </li>
                           <li>
                              <p>启用重播超时操作后，如果用户调用的延迟时间超过重播操作指定的条件，则用户调用将退出<code class="codeph">ORA-15569</code> 。呼叫及其错误报告为错误分歧。
                              </p>
                           </li>
                           <li>
                              <p>重播超时操作如下：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>如果未启用超时操作，则无效。</p>
                                 </li>
                                 <li>
                                    <p>如果以分钟为单位的呼叫延迟小于参数<code class="codeph">min_delay</code>指定的<code class="codeph">min_delay</code> ，则超时操作不可操作。
                                    </p>
                                 </li>
                                 <li>
                                    <p>如果以分钟为单位的延迟超过参数<code class="codeph">max_delay</code>指定的<code class="codeph">max_delay</code> ，则超时操作将中止用户调用并抛出<code class="codeph">ORA-15569</code> 。
                                    </p>
                                 </li>
                                 <li>
                                    <p>对于介于下限和上限之间的延迟，仅当当前重放经过的时间大于捕获经过时间和参数<code class="codeph">delay_factor</code>的乘积时，用户调用才会使用<code class="codeph">ORA-15569</code>中止。
                                    </p>
                                 </li>
                              </ul>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-8979505F-11E7-4690-BBDF-588CC50A043E" name="GUID-8979505F-11E7-4690-BBDF-588CC50A043E"></a><h4 id="ARPLS-GUID-8979505F-11E7-4690-BBDF-588CC50A043E" class="sect4"><span class="enumeration_section">183.3.39</span> SET_SQL_MAPPING过程</h4>
                  <div>
                     <p>此过程指定在数据库重放操作期间要跳过或替换的SQL语句。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-8979505F-11E7-4690-BBDF-588CC50A043E__GUID-8F7421A7-E896-439E-B3C3-CBDF1D17E1EF">句法</p><pre class="oac_no_warn" dir="ltr">PROCEDURE SET_SQL_MAPPING（schedule_cap_id IN NUMBER，sql_id IN VARCHAR2，操作IN VARCHAR2，replacement_sql_text IN VARCHAR2 DEFAULT NULL）; PROCEDURE SET_SQL_MAPPING（sql_id IN VARCHAR2，操作IN VARCHAR2，replacement_sql_text IN VARCHAR2 DEFAULT NULL）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-8979505F-11E7-4690-BBDF-588CC50A043E__GUID-B721E340-5682-4AEC-AA8F-12355052F81E">参数</p>
                        <div class="tblformal" id="GUID-8979505F-11E7-4690-BBDF-588CC50A043E__GUID-A35572D5-C9CD-4197-9F53-DBE9CA97DE37">
                           <p class="titleintable">表183-35 SET_SQL_MAPPING过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SET_SQL_MAPPING过程参数" width="100%" border="1" summary="This table describes the parameters of DBMS_WORKLOAD_REPLAY.SET_SQL_MAPPING" frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" id="d1094913e8034">参数</th>
                                    <th align="left" valign="bottom" id="d1094913e8037">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d1094913e8042" headers="d1094913e8034 ">
                                       <p><code class="codeph">schedule_cap_id</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d1094913e8042 d1094913e8037 ">
                                       <p>计划中捕获的ID</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d1094913e8050" headers="d1094913e8034 ">
                                       <p><code class="codeph">SQL_ID</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d1094913e8050 d1094913e8037 ">
                                       <p>捕获时SQL语句的SQL标识符</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d1094913e8058" headers="d1094913e8034 ">
                                       <p><code class="codeph">手术</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d1094913e8058 d1094913e8037 ">
                                       <p>指示在数据库重放期间对指定语句执行以下操作之一：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">'SKIP'</code> - 跳过<code class="codeph">sql_id</code>标识的SQL语句</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">'REPLACE'</code> - 将此<code class="codeph">sql_id</code>标识的SQL语句<code class="codeph">replacement_sql_text</code>为<code class="codeph">replacement_sql_text</code>参数中的SQL语句</p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-8979505F-11E7-4690-BBDF-588CC50A043E__GUID-03FF3DD8-13F5-46A6-A643-DBC558AF0776">使用说明</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">replacement_sql_text</code> ：为<code class="codeph">operation</code>参数指定<code class="codeph">'SKIP'</code> ，此参数为NULL。为<code class="codeph">operation</code>参数指定<code class="codeph">'REPLACE'</code> ，此参数的值是要使用的SQL语句。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">schedule_cap_id</code>用于整合重播。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS74963"></a><a id="ARPLS74964"></a><a id="ARPLS74964"></a><a id="ARPLS74963"></a><div class="props_rev_3"><a id="GUID-F05F873E-7D3E-43E6-95EA-73B3EDFC581A" name="GUID-F05F873E-7D3E-43E6-95EA-73B3EDFC581A"></a><h4 id="ARPLS-GUID-F05F873E-7D3E-43E6-95EA-73B3EDFC581A" class="sect4"><span class="enumeration_section">183.3.40</span> SET_USER_MAPPING过程</h4>
                  <div>
                     <p>此过程设置要在重放期间使用的新架构或用户名，而不是捕获的用户。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-F05F873E-7D3E-43E6-95EA-73B3EDFC581A__GUID-8759A3AA-CF45-4AF8-9790-848AE282ECBE">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_WORKLOAD_REPLAY.SET_USER_MAPPING（schedule_cap_id IN NUMBER，capture_user IN VARCHAR2，replay_user IN VARCHAR2）; DBMS_WORKLOAD_REPLAY.SET_USER_MAPPING（capture_user IN VARCHAR2，replay_user IN VARCHAR2）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F05F873E-7D3E-43E6-95EA-73B3EDFC581A__GUID-E74835D8-A9A6-40BF-A684-1DD8BCEAE02D">参数</p>
                        <div class="tblformal" id="GUID-F05F873E-7D3E-43E6-95EA-73B3EDFC581A__GUID-347DB700-F557-48C2-8537-85DA5C29EDB7">
                           <p class="titleintable">表183-36 SET_USER_MAPPING过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SET_USER_MAPPING过程参数" width="100%" border="1" summary="This table describes the parameters of DBMS_WORKLOAD_REPLAY.SET_USER_MAPPING." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="33%" id="d1094913e8220">参数</th>
                                    <th align="left" valign="bottom" width="67%" id="d1094913e8223">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1094913e8228" headers="d1094913e8220 ">
                                       <p><code class="codeph">schedule_cap_id</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1094913e8228 d1094913e8223 ">
                                       <p>计划中捕获的ID</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1094913e8236" headers="d1094913e8220 ">
                                       <p><code class="codeph">capture_user</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1094913e8236 d1094913e8223 ">
                                       <p>工作负载捕获期间的用户名</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1094913e8244" headers="d1094913e8220 ">
                                       <p><code class="codeph">replay_user</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1094913e8244 d1094913e8223 ">
                                       <p>在重放期间将捕获的用户重新映射到的用户名。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F05F873E-7D3E-43E6-95EA-73B3EDFC581A__GUID-6F10278C-CD82-4F72-B4AB-BA83173CDE10">使用说明</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">schedule_cap_id</code>为<code class="codeph">NULL</code>用于常规非合并重播。
                              </p>
                           </li>
                           <li>
                              <p>必须初始化重放但不准备才能使用此子程序。</p>
                           </li>
                           <li>
                              <p>如果<code class="codeph">replay_user</code>设置为<code class="codeph">NULL</code> ，则禁用映射。
                              </p>
                           </li>
                           <li>
                              <p>使用相同的<code class="codeph">capture_user</code>进行多次调用后，最后一次调用始终生效。
                              </p>
                           </li>
                           <li>
                              <p>要列出在后续重播期间将生效的所有映射，请执行以下操作：</p><pre class="oac_no_warn" dir="ltr">SELECT * FROM DBA_WORKLOAD_ACTIVE_USER_MAP</pre></li>
                           <li>
                              <p>没有<code class="codeph">schedule_cap_id</code>的重载版本通过传入<code class="codeph">NULL</code>调用具有<code class="codeph">schedule_cap_id</code>参数的版本。</p>
                           </li>
                           <li>
                              <p>映射存储在通过视图<code class="codeph">DBA_WORKLOAD_USER_MAP</code>公开的表中。删除旧映射执行</p><pre class="oac_no_warn" dir="ltr">DELETE * FROM DBA_WORKLOAD_USER_MAP</pre></li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS74454"></a><a id="ARPLS74454"></a><div class="props_rev_3"><a id="GUID-0DDB579D-DC30-4D69-949F-C6A8E104B875" name="GUID-0DDB579D-DC30-4D69-949F-C6A8E104B875"></a><h4 id="ARPLS-GUID-0DDB579D-DC30-4D69-949F-C6A8E104B875" class="sect4"><span class="enumeration_section">183.3.41</span> START_CONSOLIDATED_REPLAY程序</h4>
                  <div>
                     <p>此过程开始重放多次捕获捕获。它应该仅用于合并重播。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-0DDB579D-DC30-4D69-949F-C6A8E104B875__GUID-6C28CCDE-3310-48FB-8751-23E9E22FE45C">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_WORKLOAD_REPLAY.START_CONSOLIDATED_REPLAY;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-0DDB579D-DC30-4D69-949F-C6A8E104B875__GUID-FF7371DD-6C47-43AD-92E0-434A32085E27">使用说明</p>
                        <p>先决条件：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>已发出对<a href="DBMS_WORKLOAD_REPLAY.html#GUID-BC0B5C38-7C34-481B-B1E1-FE32E4D0640A" title="此过程将数据库状态置于PREPARE FOR REPLAY模式。">PREPARE_REPLAY程序</a>的调用。
                              </p>
                           </li>
                           <li>
                              <p>足够数量的外部重播客户端（WRC）已经可以忠实地重放捕获的工作负载。可以使用<code class="codeph">V$WORKLOAD_REPLAY_CLIENTS</code>监视此类外部重播客户端的状态。</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS69099"></a><a id="ARPLS69099"></a><div class="props_rev_3"><a id="GUID-278F8097-88C3-4F5A-8B01-24156A91D79B" name="GUID-278F8097-88C3-4F5A-8B01-24156A91D79B"></a><h4 id="ARPLS-GUID-278F8097-88C3-4F5A-8B01-24156A91D79B" class="sect4"><span class="enumeration_section">183.3.42</span> START_REPLAY程序</h4>
                  <div>
                     <p>此过程启动工作负载重播。</p>
                     <div class="section">
                        <p>将自动通知当前连接到重放数据库的所有外部重播客户端（WRC），并且这些重播客户端（WRC）将开始发出捕获的工作负载。它只应用于合并重播。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-278F8097-88C3-4F5A-8B01-24156A91D79B__GUID-92F34BE4-42DB-432D-B40E-AC87F98E51BC">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_WORKLOAD_REPLAY.START_REPLAY;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-278F8097-88C3-4F5A-8B01-24156A91D79B__GUID-AA59F4D1-464B-4592-ADFD-166415438C5E">使用说明</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>先决条件：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>已发出对<a href="DBMS_WORKLOAD_REPLAY.html#GUID-BC0B5C38-7C34-481B-B1E1-FE32E4D0640A" title="此过程将数据库状态置于PREPARE FOR REPLAY模式。">PREPARE_REPLAY程序</a>的调用。
                                    </p>
                                 </li>
                                 <li>
                                    <p>足够数量的外部重播客户端（WRC）已经可以忠实地重放捕获的工作负载。可以使用<code class="codeph">V$WORKLOAD_REPLAY_CLIENTS</code>监视此类外部重播客户端的状态。</p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p>使用WRC的<code class="codeph">CALIBRATE</code>模式确定忠实重播捕获的工作负载可能需要的重播客户端数。例如：</p><pre class="oac_no_warn" dir="ltr">$ wrc mode =校准replaydir =。</pre></li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS72145"></a><a id="ARPLS72146"></a><a id="ARPLS72146"></a><a id="ARPLS72145"></a><div class="props_rev_3"><a id="GUID-D682A832-C755-47FB-8A0F-15BA0DB19038" name="GUID-D682A832-C755-47FB-8A0F-15BA0DB19038"></a><h4 id="ARPLS-GUID-D682A832-C755-47FB-8A0F-15BA0DB19038" class="sect4"><span class="enumeration_section">183.3.43</span> USE_FILTER_SET程序</h4>
                  <div>
                     <p>此过程将过滤器集应用于当前重播计划中的捕获。</p>
                     <div class="section">
                        <p>必须通过调用<a href="DBMS_WORKLOAD_REPLAY.html#GUID-CCC99CF2-EB31-4B23-8E52-1F85B95FDDE7" title="此过程为replay_dir上的重放创建新的过滤器集。">CREATE_FILTER_SET过程</a>创建过滤器集。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D682A832-C755-47FB-8A0F-15BA0DB19038__GUID-8C74270D-31B1-45A0-B451-C611362E8CE4">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_WORKLOAD_REPLAY.USE_FILTER_SET（capture_number IN VARCHAR2，filter_set IN VARCHAR2）; DBMS_WORKLOAD_REPLAY.USE_FILTER_SET（filter_set IN VARCHAR2）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D682A832-C755-47FB-8A0F-15BA0DB19038__GUID-6F15DA8F-8128-49E1-842C-A9609FF28C92">参数</p>
                        <div class="tblformal" id="GUID-D682A832-C755-47FB-8A0F-15BA0DB19038__GUID-33608E9B-8F3B-46B8-9B3A-A44D43029E63">
                           <p class="titleintable">表183-37 USE_FILTER_SET过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="USE_FILTER_SET过程参数" width="100%" border="1" summary="This table describes the parameters of DBMS_WORKLOAD_REPLAY.USE_FILTER_SET." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="33%" id="d1094913e8684">参数</th>
                                    <th align="left" valign="bottom" width="67%" id="d1094913e8687">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1094913e8692" headers="d1094913e8684 ">
                                       <p><code class="codeph">capture_number</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1094913e8692 d1094913e8687 ">
                                       <p>指向捕获当前的重播计划</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1094913e8700" headers="d1094913e8684 ">
                                       <p><code class="codeph">filter_set</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1094913e8700 d1094913e8687 ">
                                       <p>过滤器集的名称</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D682A832-C755-47FB-8A0F-15BA0DB19038__GUID-86417C55-DDD3-4312-9D58-DF2D2F32B703">使用说明</p>
                        <p>必须通过调用<a href="DBMS_WORKLOAD_REPLAY.html#GUID-CCC99CF2-EB31-4B23-8E52-1F85B95FDDE7" title="此过程为replay_dir上的重放创建新的过滤器集。">CREATE_FILTER_SET过程</a>创建过滤器集。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>