<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Introduction to Global Data Services</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Global Data Services Concepts and Administration Guide">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Global Data Services Concepts and Administration Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="global-data-services-concepts-and-administration-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-02-22T15:50:03-08:00">
      <meta name="dcterms.title" content="Global Data Services Concepts and Administration Guide">
      <meta name="dcterms.dateCopyrighted" content="2013, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96443-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="release-changes.html" title="Previous" type="text/html">
      <link rel="next" href="global-data-services-config.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="GSMUG">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="release-changes.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="global-data-services-config.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Global Data Services Concepts and Administration Guide</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Introduction to Global Data Services</li>
            </ol>
            <a id="GUID-415B8BB5-5C8D-4C78-8E76-43DB1648E467" name="GUID-415B8BB5-5C8D-4C78-8E76-43DB1648E467"></a><a id="GSMUG107"></a>
            
            <h2 id="GSMUG-GUID-415B8BB5-5C8D-4C78-8E76-43DB1648E467" class="sect2"><span class="enumeration_chapter">1 </span>Introduction to Global Data Services
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>This chapter provides an overview of the Global Data Services architecture.</p>
               <p>This chapter includes the following topics:</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="intro-global-data-services.html#GUID-829434C7-608D-40D4-81C8-A77A63FCD7EB">Introduction to Global Data Services</a><br></li>
                  <li class="ulchildlink"><a href="intro-global-data-services.html#GUID-36BBB075-5EFF-4EBF-91A5-CE531DC289FD">Global Data Services Architecture</a><br></li>
                  <li class="ulchildlink"><a href="intro-global-data-services.html#GUID-152F7AB7-F4A8-44B4-BD82-CEDA4A6F41EE">Overview of Global Services</a><br></li>
                  <li class="ulchildlink"><a href="intro-global-data-services.html#GUID-2221DEC7-176A-4707-BF0F-7DEDCBEB250D">Global Connection Load Balancing</a><br></li>
                  <li class="ulchildlink"><a href="intro-global-data-services.html#GUID-E5084527-71AE-414D-8A7D-B3441834B411">Global Run-Time Connection Load Balancing</a><br></li>
                  <li class="ulchildlink"><a href="intro-global-data-services.html#GUID-63143CA0-23BF-46D2-A349-401FECD24FBD">Global Services Failover</a><br></li>
                  <li class="ulchildlink"><a href="intro-global-data-services.html#GUID-47D2FA68-FA1A-4FE5-A6EF-A0070F2E1F14">Global Service Manager Process Suite Architecture</a><br></li>
                  <li class="ulchildlink"><a href="intro-global-data-services.html#GUID-1BB1ACBB-CD68-4A83-81D0-5D3047A41387">Global Data Services Use Cases</a><br></li>
               </ul>
            </div>
            <a id="GSMUG674"></a><div class="props_rev_3"><a id="GUID-829434C7-608D-40D4-81C8-A77A63FCD7EB" name="GUID-829434C7-608D-40D4-81C8-A77A63FCD7EB"></a><h3 id="GSMUG-GUID-829434C7-608D-40D4-81C8-A77A63FCD7EB" class="sect3"><span class="enumeration_section">1.1 </span>Introduction to Global Data Services
               </h3>
               <div>
                  <p>Many enterprises consolidate their information technology infrastructure to improve business efficiency. Database consolidation is a critical part of this process. However, most organizations must still maintain local and remote replicas of their databases for reasons that include:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Business continuity and disaster recovery</p>
                     </li>
                     <li>
                        <p>High availability</p>
                     </li>
                     <li>
                        <p>Performance optimization for local clients</p>
                     </li>
                     <li>
                        <p>Content localization and caching</p>
                     </li>
                     <li>
                        <p>Compliance with local laws </p>
                     </li>
                  </ul>
                  <p>In any set of database replicas, some database servers may have a slow query response time because of high load or high network latency, while other servers capable of offering a faster response time may be under-utilized. Optimal query performance and resource utilization across a set of database replicas requires a workload management solution that provides dynamic load balancing of client connections and workload requests across the replicas.</p>
                  <p>Many enterprises use a home-grown solution for workload management across database replicas. These solutions cannot provide critical functionality such as run-time load balancing and reliable database service failover between replicas because they are not fully integrated with Oracle software. </p>
                  <p>Oracle Database provides a powerful workload management feature called database services. Database services are named representations of one or more database instances. Database services allow you to group database workloads, ensure that client requests are routed to the optimal instance that offers a service, and provide high availability by transparently failing client connections over to surviving instances when a planned or unplanned instance outage occurs.</p>
                  <p>Oracle Global Data Services (GDS) implements the Oracle Database service model across a set of replicated databases known as a <strong class="term">Global Data Services configuration</strong>.
                  </p>
                  <p>A Global Data Services configuration looks like a virtual multi-instance database to database clients. It provides client access through <strong class="term">global service</strong>s, which are functionally similar to the local database services provided by single-instance or Oracle Real Application Clusters (Oracle RAC) databases. Local and global services both provide load balancing, high availability, and resource management. The essential difference between global services and local services is that global services span the instances of multiple databases, whereas local services span the instances of a single database.
                  </p>
                  <p>A Global Data Services configuration and its global services are created and managed using the <strong class="term">GDSCTL</strong> command-line interface, which is similar to the <code class="codeph">SRVCTL</code> command-line interface used to manage an Oracle RAC database and its services.
                  </p>
                  <p>A Global Data Services configuration can consist of any combination of multi-instance or single-instance Oracle databases hosted on heterogeneous or non-heterogeneous server platforms. Oracle Data Guard, Oracle GoldenGate, or any other database replication technology, can be used to synchronize the databases in a Global Data Services configuration. </p>
                  <p>Global Data Services is a highly effective solution for automatic workload management across a set of replicated databases, whether used with many widely distributed databases and clients or with a single database, a local replica and a few clients. </p>
                  <div class="infoboxnote" id="GUID-829434C7-608D-40D4-81C8-A77A63FCD7EB__GUID-1C88F0B1-7067-4900-8B87-B580335B33B9">
                     <p class="notep1">Note:</p>
                     <p>Global Data Services is primarily intended for applications that are replication-aware. A replication-aware application is one that has any of the following characteristics:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Uses read-only global services exclusively</p>
                        </li>
                        <li>
                           <p>Uses read/write global services, but is programmed to resolve update conflicts if those services are simultaneously offered by more than one database</p>
                        </li>
                        <li>
                           <p>Can tolerate replicated data that is potentially stale due to replication lag</p>
                        </li>
                     </ul>
                     <p>Applications that are not replication-aware can still benefit from the improved high availability and disaster recovery capabilities provided by Global Data Services.</p>
                  </div>
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-829434C7-608D-40D4-81C8-A77A63FCD7EB__GUID-59C1CD6A-1BA3-4A4F-BA43-AAFFE9F1408C">
                     <p class="notep1">See Also:</p>
                     <p></p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="gdsctl-reference.html#GUID-E6E76443-AD85-455C-99AA-BF0A7856F880" title="Adds an Oracle Data Guard broker configuration to a Global Data Services pool.Add a cdb to the shard catalog.Adds a credential which can be used by the remote scheduler agent to execute shard jobs.Adds databases to a Global Data Services region and Global Data Services pool.Adds the contents of a file to the catalog which can be used by subsequent GDSCTL commands.Adds a Global Data Services pool to the Global Data Services framework.Adds a global service manager to the Global Data Services framework.Adds host address or subnet information to the valid node checking for registration (VNCR) list in the catalog, before starting the first global service manager, by establishing a direct connection to the Global Data Services catalog database.Adds a region to a Global Data Services framework or an Oracle Sharding configuration.Adds a global service to a Global Data Services pool.Add a shard to the shard catalog.Add a shardgroup to a shardspace.Add a shardspace to the shard catalog.Displays the configuration data for all components defined for the configuration.Displays properties of a specified CDB.Displays properties of a specified chunk.Displays remote credentials currently available for shard jobs.Displays the static configuration data stored in the catalog for the specified database.Displays file objects currently available that can be specified in GDSCTL commands.Displays the static configuration data that is stored in the catalog for the specified database pool.Displays the static configuration data stored in the catalog for the specified global service manager.Displays the static configuration data for the specified region.Displays the static configuration data stored in the catalog for the sharded database.Displays the static configuration data stored in the Global Data Services catalog for the specified services that are located in a database pool.Displays properties of a specified shard.Displays properties of a specified shardgroup.Displays properties of a specified shardspace.Displays information about all table families in the sharded database.Displays the static configuration data stored in the catalog for valid node checking for registration (VNCR).Sets the GDSCTL parameters.Specifies the credentials to administer a global service management environment. Credentials must be specified to perform certain operations using GDSCTL.The create catalog command is deprecated. Use create gdscatalog or create shardcatalog instead. Creates a Global Data Services catalog for global service management in a specific database.Creates a Global Data Services catalog for global service management in a specific database.Create a new shard and add it to a shardspace or shardgroup.Creates a shard catalog for the sharded database.Displays the status of all databases.Deletes the specified catalog.Deploys the sharded database.Disables specified global services.Enables the specified global services.Quit GDSCTL utility.Saves the current catalog configuration to a local file.Provides a list of the GDSCTL commands supported in the current release. When followed by a command name, it returns the help page associated with the command.Restores the catalog configuration from the specified file, created using export catalog command.Modifies the properties of the GDS catalog or shard catalog.Modify cdb attributes.Modifies an existing credential which will be used by the remote Scheduler agent to execute shard jobs.Modifies the configuration parameters of the databases in a GDS pool, such as region, connect identifier, global service manager password, SCAN address, and ONS port.Updates the contents of a file in the catalog which can be used by subsequent GDSCTL commands.Modifies the configuration parameters of GDS pools.Modifies the configuration parameters of the global service manager. The changes take effect after the global service manager is restarted.Modifies the configuration parameters for a region.Modifies the service attributes.Modify shard attributes.Modify shardgroup attributes.Modify shardspace parameters.Moves a listed set of chunks from one shard to another shard or multiple shards.Quit GDSCTL utility.Executes all DDL statements on the specified shard (database), starting from the one that was previously executed with errors. The command is intended to perform all skipped DDL changes after database administrator fixes shard issues.Stops a service on one database and starts the service on a different database.Removes an Oracle Data Guard broker configuration from a GDS pool.Removes one or more CDBs from the shard catalog, but does not destroy it.Removes an existing credential.Removes databases from a GDS pool.Removes an existing file object from the catalog.Removes a GDS pool from the current configuration.Removes a global service manager from the configuration.Remove host address information from the valid node checking for registration (VNCR) list in the Global Data Services catalog. This command removes either the specified invitednode or all invitednodes that correspond to an alias.Removes the specified regions from the global service management framework.Removes a service from a database pool.Removes one or more shards from the sharded database.Removes a shardgroup from the shard catalog.Removes a shardspace from the shard catalog.Retrieves information about the services that are registered with the specified global service manager.Sets the global service manager for the current session.Sets the INBOUND_CONNECT_LEVEL listener parameter.Sets the INBOUND_CONNECT_TIMEOUT listener parameter.Sets the log level for the listener associated with a specific global service manager.Sets the LOG_STATUS listener parameter.Sets the timeout value for the outbound connections for the listener associated with a specific global service manager.Sets the OUTBOUND_CONNECT_TIMEOUT listener parameter.Sets the trace level for the listener associated with the specified global service manager.Sets the TRC_LEVEL listener parameter.Shows DDL statements execution status.Splits each of the specified chunks into two chunks with an equal number of records. After the split, the chunks remain in the same shard.Executes a SQL statement or a PL/SQL stored procedure against a sharded database.Starts a specific global service manager.Starts specific services.Starts specific services.Displays the running status and runtime information for the global service manager.Displays the runtime status of databases, such as registration information, services, and so on.Displays the status of a specific global service manager.Displays the status of a specific service.Stops a specific global service manager.Stops the specified global services.Synchronizes the Oracle Data Guard broker configuration in the global service manager with the configuration in the database pool. The synchronize brokerconfig command has the same options and usage.Synchronizes attributes of global services and GDS related parameters of a GDS pool database with the contents of the GDS catalog. The synchronize database command has the same options and usage.Cross checks the Global Data Services catalog, global service manager run-time status, and pool databases, and reports inconsistencies and errors.Cross checks the GDS catalog, global service manager run-time status, and databases from the GDS pool and reports any inconsistencies and errors.">Global Data Services Control Utility (GDSCTL) Command Reference</a>, for more information about GDSCTL
                           </p>
                        </li>
                        <li>
                           <p><a href="../admin/creating-and-configuring-an-oracle-database.html#ADMIN13994" target="_blank"><span><cite>Oracle Database Administrator’s Guide</cite></span></a> for more info about database services
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="intro-global-data-services.html#GUID-415B8BB5-5C8D-4C78-8E76-43DB1648E467">Introduction to Global Data Services</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="GSMUG645"></a><a id="GSMUG108"></a><div class="props_rev_3"><a id="GUID-36BBB075-5EFF-4EBF-91A5-CE531DC289FD" name="GUID-36BBB075-5EFF-4EBF-91A5-CE531DC289FD"></a><h3 id="GSMUG-GUID-36BBB075-5EFF-4EBF-91A5-CE531DC289FD" class="sect3"><span class="enumeration_section">1.2 </span>Global Data Services Architecture
               </h3>
               <div>
                  <p>The following figure shows an example of a Global Data Services (GDS) configuration and the GDS components that are present in every GDS configuration.</p>
                  <div class="figure" id="GUID-36BBB075-5EFF-4EBF-91A5-CE531DC289FD__CHDBEGGD">
                     <p class="titleinfigure">Figure 1-1 Global Data Services Components</p><br><img src="img/gsmug_vm_009.png" alt="Description of Figure 1-1 follows" title="Description of Figure 1-1 follows" longdesc="img_text/gsmug_vm_009.html"><br><a href="img_text/gsmug_vm_009.html">Description of "Figure 1-1 Global Data Services Components"</a><br></div>
                  <!-- class="figure" -->
                  <p>The sections that follow describe these components.</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="intro-global-data-services.html#GUID-BE1460BA-7B1C-48CD-AD4C-DD2117182682">Global Data Services Pool</a><br></li>
                     <li class="ulchildlink"><a href="intro-global-data-services.html#GUID-D38A0740-B09B-4747-9414-33898208DE70">Global Data Services Region</a><br></li>
                     <li class="ulchildlink"><a href="intro-global-data-services.html#GUID-0B93DA7C-A390-41DE-B653-DF413ABA29FE">Global Service Manager</a><br></li>
                     <li class="ulchildlink"><a href="intro-global-data-services.html#GUID-4B04DB62-8497-414E-A75C-DED9C19CABE9">Global Data Services Catalog</a><br></li>
                     <li class="ulchildlink"><a href="intro-global-data-services.html#GUID-04CA9777-28EE-4BBE-BB55-F4C2FEF367D5">Oracle Notification Service Servers</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="intro-global-data-services.html#GUID-415B8BB5-5C8D-4C78-8E76-43DB1648E467">Introduction to Global Data Services</a></p>
                     </div>
                  </div>
               </div>
               <a id="GSMUG111"></a><div class="props_rev_3"><a id="GUID-BE1460BA-7B1C-48CD-AD4C-DD2117182682" name="GUID-BE1460BA-7B1C-48CD-AD4C-DD2117182682"></a><h4 id="GSMUG-GUID-BE1460BA-7B1C-48CD-AD4C-DD2117182682" class="sect4"><span class="enumeration_section">1.2.1 </span>Global Data Services Pool
                  </h4>
                  <div>
                     <p>A <strong class="term">Global Data Services pool</strong> is a named subset of databases within a GDS configuration that provides a unique set of global services and belongs to the same administrative domain. Partitioning of GDS configuration databases into pools simplifies service management and provides higher security by allowing each pool to be administered by a different administrator.
                     </p>
                     <p>A database can only belong to a single Global Data Services pool. All databases in a pool need not provide the same set of global services. However, all databases that provide the same global service must belong to the same pool.</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="intro-global-data-services.html#GUID-36BBB075-5EFF-4EBF-91A5-CE531DC289FD">Global Data Services Architecture</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="GSMUG112"></a><div class="props_rev_3"><a id="GUID-D38A0740-B09B-4747-9414-33898208DE70" name="GUID-D38A0740-B09B-4747-9414-33898208DE70"></a><h4 id="GSMUG-GUID-D38A0740-B09B-4747-9414-33898208DE70" class="sect4"><span class="enumeration_section">1.2.2 </span>Global Data Services Region
                  </h4>
                  <div>
                     <p>A <strong class="term">Global Data Services region</strong> is a named subset of databases in a GDS configuration and database clients that share network proximity such that the network latency between members of a region is typically lower than between members of different regions. A region usually corresponds to a local area or metropolitan area network (LAN or MAN). For example, a data center hosting one or more GDS configuration databases and database clients in geographical proximity to the data center might belong to the same region.
                     </p>
                     <p>A region can contain multiple Global Data Services pools, and these pools can span multiple regions.</p>
                     <p>For high availability purposes, each region in a GDS configuration should have a designated <strong class="term">buddy region</strong>, which is a region that contains <strong class="term">global service manager</strong>s that can provide continued access to a GDS configuration if the global services managers in the local region become unavailable. 
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="intro-global-data-services.html#GUID-36BBB075-5EFF-4EBF-91A5-CE531DC289FD">Global Data Services Architecture</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="GSMUG114"></a><div class="props_rev_3"><a id="GUID-0B93DA7C-A390-41DE-B653-DF413ABA29FE" name="GUID-0B93DA7C-A390-41DE-B653-DF413ABA29FE"></a><h4 id="GSMUG-GUID-0B93DA7C-A390-41DE-B653-DF413ABA29FE" class="sect4"><span class="enumeration_section">1.2.3 </span>Global Service Manager
                  </h4>
                  <div>
                     <p>A <strong class="term">global service manager</strong> is the central software component of Global Data Services, providing service-level load balancing, failover, and centralized management of services in the GDS configuration. Global Data Service clients use a global service manager to perform all GDS configuration operations.
                     </p>
                     <p>A global service manager is analogous to the remote listener in an Oracle RAC database, except that a global service manager serves multiple databases. A global service manager does the following:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Acts as a regional listener that clients use to connect to global services</p>
                        </li>
                        <li>
                           <p>Provides connect-time load balancing for clients</p>
                        </li>
                        <li>
                           <p>Manages global services across the regions of a GDS configuration</p>
                        </li>
                        <li>
                           <p>Collects performance metrics from databases in the GDS configuration and measures network latency between regions of a configuration</p>
                        </li>
                        <li>
                           <p>Creates a run-time load balancing advisory and publishes it to client connection pools</p>
                        </li>
                        <li>
                           <p>Monitors availability of database instances and global services and notifies clients if they fail.</p>
                        </li>
                     </ul>
                     <p>A global service manager is associated with one and only one GDS configuration. Each region in the GDS configuration must have at least one global service manager. It is recommended that multiple global service managers be configured in each region to improve availability and performance. Every global service manager in a GDS configuration manages all global services supported by the configuration.</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="intro-global-data-services.html#GUID-36BBB075-5EFF-4EBF-91A5-CE531DC289FD">Global Data Services Architecture</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="GSMUG115"></a><div class="props_rev_3"><a id="GUID-4B04DB62-8497-414E-A75C-DED9C19CABE9" name="GUID-4B04DB62-8497-414E-A75C-DED9C19CABE9"></a><h4 id="GSMUG-GUID-4B04DB62-8497-414E-A75C-DED9C19CABE9" class="sect4"><span class="enumeration_section">1.2.4 </span>Global Data Services Catalog
                  </h4>
                  <div>
                     <p>A <a href="glossary.html#GUID-21DA7134-524C-493F-BF44-BAF8DC76C277"><span class="xrefglossterm">Global Data Services catalog</span></a> is a repository that stores configuration data for a Global Data Services configuration and all global services provided by that configuration. 
                     </p>
                     <p>A catalog is associated with one and only one GDS configuration. A catalog must reside in an Oracle Database 12c or later database, and that database may be inside or outside the associated GDS configuration. For large-scale GDS configurations, it is recommended that the GDS catalog be hosted outside the databases in the GDS configuration.GDS catalog may be co-hosted along with catalogs of RMAN or Oracle Enterprise Manager.</p>
                     <p>Oracle strongly recommends that high availability technologies such as Oracle RAC, Oracle Data Guard, and Oracle Clusterware be used to enhance the availability of the database where the Global Data Services catalog resides. </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="intro-global-data-services.html#GUID-36BBB075-5EFF-4EBF-91A5-CE531DC289FD">Global Data Services Architecture</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="GSMUG117"></a><div class="props_rev_3"><a id="GUID-04CA9777-28EE-4BBE-BB55-F4C2FEF367D5" name="GUID-04CA9777-28EE-4BBE-BB55-F4C2FEF367D5"></a><h4 id="GSMUG-GUID-04CA9777-28EE-4BBE-BB55-F4C2FEF367D5" class="sect4"><span class="enumeration_section">1.2.5 </span>Oracle Notification Service Servers
                  </h4>
                  <div>
                     <p>GDS clients use <strong class="term">Oracle Notification Service (ONS)</strong> to receive run-time load balancing advisory and high availability events from global service managers.
                     </p>
                     <p>An Oracle Notification Service (ONS) server is co-located with each global service manager. All such ONS servers within a region are interconnected. Clients of global services subscribe to the ONS server network within their region and its buddy region, and receive FAN notifications from those ONS server networks.</p>
                     <div class="infoboxnote" id="GUID-04CA9777-28EE-4BBE-BB55-F4C2FEF367D5__GUID-54CC7CC5-1DCA-42A8-84D7-FFCB6090E957">
                        <p class="notep1">Note:</p>
                        <p>An Oracle RAC database in a Global Data Service configuration may also contain ONS servers running on the cluster nodes. These ONS servers generate FAN notifications related to local services and are not connected to ONS server networks in the GDS regions.</p>
                     </div>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="intro-global-data-services.html#GUID-36BBB075-5EFF-4EBF-91A5-CE531DC289FD">Global Data Services Architecture</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="GSMUG120"></a><div class="props_rev_3"><a id="GUID-152F7AB7-F4A8-44B4-BD82-CEDA4A6F41EE" name="GUID-152F7AB7-F4A8-44B4-BD82-CEDA4A6F41EE"></a><h3 id="GSMUG-GUID-152F7AB7-F4A8-44B4-BD82-CEDA4A6F41EE" class="sect3"><span class="enumeration_section">1.3 </span>Overview of Global Services
               </h3>
               <div>
                  <p>For database clients, a Global Data Services configuration is represented by a set of global services. A global service manager serving a Global Data Services configuration is aware of all global services that the configuration provides and acts as a mediator for the database clients and databases in the configuration. A client program connects to a regional global service manager and requests a connection to a global service. The client does not need to specify which database or instance it requires. The global service manager forwards the client's request to the optimal instance in the configuration that offers the global service. Database clients that share a global service must have the same service level requirements.</p>
                  <p>The functionality of <span class="italic">local</span> services, defined as traditional database services provided by a single database, is not changed by global services. Oracle Database 12<span class="italic">c</span> can provide local and global services, simultaneously. A client application can also work with global and local services, simultaneously.
                  </p>
                  <div class="infoboxnote" id="GUID-152F7AB7-F4A8-44B4-BD82-CEDA4A6F41EE__GUID-2D4D3ED7-BCBA-490E-88AE-9F1FA60BD128">
                     <p class="notep1">Note:</p>
                     <p>Database versions earlier than Oracle Database 12<span class="italic">c</span> can provide local services, but only Oracle Database 12<span class="italic">c</span>, and later, can provide global services.
                     </p>
                  </div>
                  <p>The configuration and run-time status of global services are stored in the Global Data Services catalog. Each database that offers global services also maintains information about those services in a local repository (such as a system dictionary or Oracle Cluster Registry), with data on local services. Global services that are stored in a local repository have a flag to distinguish those global services from traditional local services.</p>
                  <p>If you are locally connected to a particular database, then you can query data on global services provided by that database. You can configure, modify, start, or stop a global service using the Global Data Services Control utility (GDSCTL) when you are connected to the Global Data Services catalog. This ensures centralized coordinated management of global services. You cannot configure, modify, start, or stop a global service using either the Server Control utility (SRVCTL) or the Oracle Clusterware Control utility (CRSCTL).</p>
                  <div class="infoboxnote" id="GUID-152F7AB7-F4A8-44B4-BD82-CEDA4A6F41EE__GUID-5A8E1F1F-593F-4060-A61B-FF6A0C6CA986">
                     <p class="notep1">Note:</p>
                     <p>Under certain circumstances (such as patching a database or clusterware software), you can stop or start global services using SRVCTL with the <code class="codeph">-force</code> option with the appropriate command. You must have the appropriate system privileges.
                     </p>
                  </div>
                  <p>After you configure global services for a Global Data Services configuration, the global service manager manages the global services on GDS configuration databases according to service properties that you specify when you create the services.</p>
                  <p>When a database joins the configuration or restarts after a shutdown, the database registers with all global service managers in the configuration. After receiving the registration request, one of the global service managers queries the GDS catalog and checks whether all global services which this database is supposed to provide are created there and have the correct attributes. If there is a discrepancy between the information in the catalog and database, the global service manager may create, delete, or modify some global services in the database, or change their attributes to synchronize them with the information in catalog. Then the global service manager determines which global services need to be running on the database and starts them if necessary. </p>
                  <p>The global service manager can start or stop a global service in a database. However, if it is an Oracle RAC database, the global service manager does not control which particular instances within the database offer the service. This is controlled by the clusterware and the administrator of the Oracle RAC database.</p>
                  <p>When a database instance in a Global Data Services configuration fails, all global service managers in the configuration get notified about the failure and stop forwarding requests to the instance. If this instance belongs to a noncluster database, or the instance is the last instance that was available in an Oracle RAC database, then, depending on the configuration, a global service manager can automatically start the service on another database in the Global Data Services pool where the service is enabled. If you decide to manually move a global service from one database to another using the appropriate GDSCTL command, then the global service manager stops and starts the service on the corresponding databases.</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="intro-global-data-services.html#GUID-7A286BE5-147C-447E-9DF3-956449D2983E">Global Service Attributes</a><br></li>
                     <li class="ulchildlink"><a href="intro-global-data-services.html#GUID-642D204E-3E00-4715-9C8E-30556955509F">Global Services in an Oracle RAC Database</a><br></li>
                     <li class="ulchildlink"><a href="intro-global-data-services.html#GUID-D9592AB9-0616-4497-B308-464A8868E446">Global Services in an Oracle Data Guard Broker Configuration</a><br></li>
                     <li class="ulchildlink"><a href="intro-global-data-services.html#GUID-CCCEF314-9E12-4A4A-907C-9CF78AD146C5">Database Placement of a Global Service</a><br></li>
                     <li class="ulchildlink"><a href="intro-global-data-services.html#GUID-EEF6583D-F346-4104-8F33-CB06C9C396FF">Replication Lag and Global Services</a><br></li>
                     <li class="ulchildlink"><a href="intro-global-data-services.html#GUID-B7B8DDFA-22F8-4E82-BA1E-A1824DE85A63">Global Services and Distributed Transaction Processing</a><br></li>
                     <li class="ulchildlink"><a href="intro-global-data-services.html#GUID-CBAB6390-0062-4604-91F0-D9FC94A72E42">Global Services in Multitenant Architecture</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="intro-global-data-services.html#GUID-415B8BB5-5C8D-4C78-8E76-43DB1648E467">Introduction to Global Data Services</a></p>
                     </div>
                  </div>
               </div>
               <a id="GSMUG121"></a><div class="props_rev_3"><a id="GUID-7A286BE5-147C-447E-9DF3-956449D2983E" name="GUID-7A286BE5-147C-447E-9DF3-956449D2983E"></a><h4 id="GSMUG-GUID-7A286BE5-147C-447E-9DF3-956449D2983E" class="sect4"><span class="enumeration_section">1.3.1 </span>Global Service Attributes
                  </h4>
                  <div>
                     <p>Global services have a set of attributes associated with them that control starting the global services, load balancing connections to the global services, failing over those connections, and more. Attributes applicable to local services, including those services specific to Oracle RAC and Oracle Data Guard broker environments, are also applicable to global services.</p>
                     <p>The following attributes are unique to global services:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Preferred or available databases</p>
                        </li>
                        <li>
                           <p>Replication lag</p>
                        </li>
                        <li>
                           <p>Region affinity</p>
                        </li>
                     </ul>
                     <p>You can modify global services just as you can modify local services. You can enable and disable a global service, you can move the global service to a different database, and you can change the properties of the global service.</p>
                     <div class="infoboxnote" id="GUID-7A286BE5-147C-447E-9DF3-956449D2983E__GUID-AC1BCD70-595F-47F2-9CDF-C4CAB0558BAB">
                        <p class="notep1">Note:</p>
                        <p>You cannot upgrade a local service to a global service.</p>
                     </div>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="intro-global-data-services.html#GUID-152F7AB7-F4A8-44B4-BD82-CEDA4A6F41EE">Overview of Global Services</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="GSMUG122"></a><div class="props_rev_3"><a id="GUID-642D204E-3E00-4715-9C8E-30556955509F" name="GUID-642D204E-3E00-4715-9C8E-30556955509F"></a><h4 id="GSMUG-GUID-642D204E-3E00-4715-9C8E-30556955509F" class="sect4"><span class="enumeration_section">1.3.2 </span>Global Services in an Oracle RAC Database
                  </h4>
                  <div>
                     <p>Some properties of a global service are only applicable to Oracle RAC databases and are unique for each Oracle RAC database included in a Global Data Services configuration. These properties are related to the placement of global services with instances within an Oracle RAC database, including server pools and service cardinality.</p>
                     <p>All other existing global service attributes, such as load balancing, role, transparent application failover parameters, and database edition must be the same for all databases offering a global service. Specify these attributes at the global service level.</p>
                     <div class="infoboxnote" id="GUID-642D204E-3E00-4715-9C8E-30556955509F__GUID-3345762A-0D8B-43BE-AFA6-6BB8427C25A9">
                        <p class="notep1">Note:</p>
                        <p>By default, in an Oracle RAC environment, a SQL statement executed in parallel can run across all of the nodes in the cluster. The cross-node parallel execution is not intended to be used with GDS load balancing. For an Oracle RAC database in a GDS configuration Oracle recommends that you restrict the scope of the parallel execution to an Oracle RAC node by setting the <code class="codeph">PARALLEL_FORCE_LOCAL</code> initialization parameter to <code class="codeph">TRUE</code>.
                        </p>
                     </div>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="intro-global-data-services.html#GUID-152F7AB7-F4A8-44B4-BD82-CEDA4A6F41EE">Overview of Global Services</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="GSMUG123"></a><div class="props_rev_3"><a id="GUID-D9592AB9-0616-4497-B308-464A8868E446" name="GUID-D9592AB9-0616-4497-B308-464A8868E446"></a><h4 id="GSMUG-GUID-D9592AB9-0616-4497-B308-464A8868E446" class="sect4"><span class="enumeration_section">1.3.3 </span>Global Services in an Oracle Data Guard Broker Configuration
                  </h4>
                  <div>
                     <p>Oracle Data Guard broker permits a primary database to have up to 30 standby databases. Oracle Data Guard broker logically groups primary and standby databases into a <span class="italic">broker configuration</span> that enables the broker to manage and monitor the databases as an integrated unit. When you include a broker configuration in a GDS configuration, you manage the broker configuration as one unit. Only an entire broker configuration can be included in (or deleted from) a GDS pool, and a broker configuration cannot span multiple pools.
                     </p>
                     <p>If you attempt to add or remove a database that belongs to a broker configuration to or from a GDS pool, then an error occurs. You can only add a database to the GDS pool by adding the database to the broker configuration using the Oracle Data Guard command-line interface, DGMGRL. After you add a database to the broker configuration, you must run the <code class="codeph">gdsctl sync brokerconfig</code> command to synchronize GDS and Oracle Data Guard.
                     </p>
                     <p>A GDS pool can consist of a set of databases of a given Data Guard broker configuration. Databases that belong to different Data Guard broker configurations must be mapped to different GDS pools. A pool that contains a Data Guard configuration cannot have databases that do not belong to the configuration</p>
                     <div class="infoboxnotealso" id="GUID-D9592AB9-0616-4497-B308-464A8868E446__GUID-83F662EA-47A4-499B-B518-1C302AEBB560">
                        <p class="notep1">See Also:</p>
                        <p><a href="gdsctl-reference.html#GUID-B81BCD99-E001-47C7-A7CA-E8431B6F107B" title="Synchronizes the Oracle Data Guard broker configuration in the global service manager with the configuration in the database pool. The synchronize brokerconfig command has the same options and usage.">sync brokerconfig (synchronize brokerconfig)</a> for information about this command
                        </p>
                     </div>
                     <p>Conversely, when you remove a database from a broker configuration, the database is removed from the GDS pool to which this broker configuration belongs. The <code class="codeph">gdsctl sync brokerconfig</code> command must be executed after removing a database. This is the only way to remove a database from a pool that contains a broker configuration.
                     </p>
                     <p>You can configure global services with a role attribute to be active in a specific database role, such as the role of primary or physical standby database. If you enable fast-start failover, then the Oracle Data Guard broker automatically fails over to a standby database if the primary database fails. The global service managers that you have configured to work with Oracle Data Guard broker ensure that the appropriate database services are active and that the appropriate Fast Application Notification (FAN) events are published after a role change. These FAN event enable Fast Connection Failover (FCF) of client connections to an appropriate database instance within the GDS configuration.</p>
                     <p>The Global Data Services framework supports the following Oracle Data Guard broker configurations:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The set of databases in a Global Data Services pool can be either the set of databases that belong to a single broker configuration or a set of databases that do not belong to a broker configuration. You can add a broker configuration only to an empty Global Data Services pool. If a GDS pool already contains a broker configuration, then, to add a database to the pool, you must add the database to the broker configuration contained in the pool.</p>
                        </li>
                        <li>
                           <p>Role-based global services are supported only for database pools that contain a broker configuration.</p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-D9592AB9-0616-4497-B308-464A8868E446__GUID-30837485-EAD9-4DD3-AAA6-1735DEE316AC">
                        <p class="notep1">See Also:</p>
                        <p><a href="../dgbkr/managing-oracle-data-guard-broker-configurations.html#DGBKR095" target="_blank"><span><cite>Oracle Data Guard Broker</cite></span></a> for more information about broker configuration
                        </p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="intro-global-data-services.html#GUID-152F7AB7-F4A8-44B4-BD82-CEDA4A6F41EE">Overview of Global Services</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="GSMUG124"></a><div class="props_rev_3"><a id="GUID-CCCEF314-9E12-4A4A-907C-9CF78AD146C5" name="GUID-CCCEF314-9E12-4A4A-907C-9CF78AD146C5"></a><h4 id="GSMUG-GUID-CCCEF314-9E12-4A4A-907C-9CF78AD146C5" class="sect4"><span class="enumeration_section">1.3.4 </span>Database Placement of a Global Service
                  </h4>
                  <div>
                     <p>You can specify which databases support a global service. These databases are referred to as <span class="bold">preferred databases</span>. The global service manager ensures that a global service runs on all preferred databases for which the service has been specified. The number of preferred databases is referred to as the <span class="bold">database cardinality</span> of a global service. You must specify at least one preferred database for a global service.
                     </p>
                     <div class="infoboxnote" id="GUID-CCCEF314-9E12-4A4A-907C-9CF78AD146C5__GUID-A1EFB9F6-1BD5-400D-8FD1-3C009722B7C0">
                        <p class="notep1">Note:</p>
                        <p>If you set <code class="codeph">preferred_all</code> for which databases support a service, then you do not have to explicitly specify preferred or available databases. The <code class="codeph">preferred_all</code> setting implies that all databases in the pool are preferred.
                        </p>
                     </div>
                     <p>When you add or modify a global service, you can specify a list of available databases for this global service. If one of the preferred databases fails to provide a global service, then the global service manager relocates the service to an available database to maintain the specified database cardinality for that service.</p>
                     <p>In a Global Data Services pool that contains an Oracle Data Guard broker configuration, a role-based global service can be started on a database only if the database is listed as preferred or available for the service and the <code class="codeph">role</code> attribute of the database corresponds to the <code class="codeph">role</code> attribute specified for the service. For example, a global service that can run on any database in a broker configuration (as long as the <code class="codeph">role</code> attribute of the database is set to <code class="codeph">primary</code>) must have <code class="codeph">primary</code> specified for its <code class="codeph">role</code> attribute and have all other databases in the broker configuration with <code class="codeph">role</code> attributes set to <code class="codeph">preferred</code>.
                     </p>
                     <div class="infoboxnote" id="GUID-CCCEF314-9E12-4A4A-907C-9CF78AD146C5__GUID-CE855A72-6FF0-4946-BCFE-774A5BC5C8B4">
                        <p class="notep1">Note:</p>
                        <p>Do not confuse <span class="italic">database cardinality</span> of global services with their <span class="italic">instance cardinality</span>. Instance cardinality is specified and maintained separately for each Oracle RAC database and is not maintained across databases of a Global Data Services pool.
                        </p>
                        <p>For example, consider a case when there are few instances of an Oracle RAC database offering a global service and one of the instances fails, but there are no available instances on which to start the global service. In this case, the service is not started on an available database instance of another Oracle RAC database. However, if the instance that failed was the last instance in the database offering the service, then the service may start on another database that is listed as available for this service.</p>
                     </div>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="intro-global-data-services.html#GUID-152F7AB7-F4A8-44B4-BD82-CEDA4A6F41EE">Overview of Global Services</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="GSMUG126"></a><div class="props_rev_3"><a id="GUID-EEF6583D-F346-4104-8F33-CB06C9C396FF" name="GUID-EEF6583D-F346-4104-8F33-CB06C9C396FF"></a><h4 id="GSMUG-GUID-EEF6583D-F346-4104-8F33-CB06C9C396FF" class="sect4"><span class="enumeration_section">1.3.5 </span>Replication Lag and Global Services
                  </h4>
                  <div>
                     <p>For performance reasons, distributed database systems often use asynchronous replication of data between databases, which means that there is the possibility of a delay between the time an update is made to data on a primary database and the time this update appears on a replica. When this happens, the replica database lags behind its primary database.</p>
                     <p>Global Data Services enables applications to differentiate between global services that provide real-time data from services that can return out-of-date data because of replication lag. For applications that can tolerate a certain degree of lag, you can configure a maximum acceptable lag value.</p>
                     <p>For applications that cannot tolerate replication lag, you can set the lag time for global services to zero. Requests for this global service are forwarded only to a primary database, or to a replica database that is synchronized with the primary database.</p>
                     <div class="infoboxnotealso" id="GUID-EEF6583D-F346-4104-8F33-CB06C9C396FF__GUID-7C2645C6-96BC-411F-973D-1805CADC1798">
                        <p class="notep1">See Also:</p>
                        <p><a href="global-data-services-admin.html#GUID-2B4F6218-309D-477C-9B57-48449D20BAAD">Administering Global Data Services Configurations</a> for more information
                        </p>
                     </div>
                     <div class="infoboxnote" id="GUID-EEF6583D-F346-4104-8F33-CB06C9C396FF__GUID-451A2201-80D3-4D55-ABDA-14A303F379A9">
                        <p class="notep1">Note:</p>
                        <p>Only an Oracle Data Guard standby database can be synchronized with the primary database, if necessary, so that you can enable real-time, read-only services on both the primary and synchronized standby databases.</p>
                     </div>
                     <p>For many applications it is acceptable to read stale data as long as the data is consistent. Such applications can use global services running on any database replica without regard to the length of the replication lag time.</p>
                     <p>If you configure the lag time for a service to a value other than zero, then a client request can be forwarded only to a replica database that is not lagging behind the primary database by longer than the configured lag time for the service. If there is no such database, then the connection request fails.</p>
                     <div class="infoboxnote" id="GUID-EEF6583D-F346-4104-8F33-CB06C9C396FF__GUID-B25B93A3-B628-4762-8253-082940582A0F">
                        <p class="notep1">Note:</p>
                        <p>Specification of the maximum replication lag is only supported for Active Data Guard configurations.</p>
                     </div>
                     <p>If a service that is currently running starts to exceed the specified maximum lag, then the service is brought down after all current requests are completed. New requests for the service are routed to a database that meets the configured lag value for the service.</p>
                     <div class="infoboxnote" id="GUID-EEF6583D-F346-4104-8F33-CB06C9C396FF__GUID-2080E820-B3B4-412E-87CD-1267BDFE712C">
                        <p class="notep1">Note:</p>
                        <p>If you use Oracle Data Guard with the Oracle Active Data Guard option, then you can use the <code class="codeph">STANDBY_MAX_DATA_DELAY</code> session parameter to specify a session-specific lag tolerance. When you set this parameter to a nonzero value, a query issued to a physical standby database is executed only if the application lag time is less than or equal to the <code class="codeph">STANDBY_MAX_DATA_DELAY</code> parameter value. Otherwise, the database returns an error to alert the client that the lag time is too long. If both session-level and service-level parameters are set and the <code class="codeph">STANDBY_MAX_DATA_DELAY</code> parameter value is less than the service level parameter value, the client remains connected to the database, but queries would return an error.
                        </p>
                     </div>
                     <div class="infoboxnote" id="GUID-EEF6583D-F346-4104-8F33-CB06C9C396FF__GUID-EB03FE4D-B29D-490A-A550-4BEBA34DDC8A">
                        <p class="notep1">Caution:</p>
                        <p>If a database fails, then the global service manager can route a client connection to another database that meets the maximum lag value specified for the service, even if it lags behind the failed database. This solution, however, can create data consistency problems for some applications.</p>
                     </div>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-EEF6583D-F346-4104-8F33-CB06C9C396FF__GUID-F819EA6A-4314-4549-AFBB-E414780E328F">
                        <p class="notep1">See Also:</p>
                        <p><a href="../sbydb/managing-oracle-data-guard-physical-standby-databases.html#SBYDB4779" target="_blank"><span><cite>Oracle Data Guard Concepts and Administration</cite></span></a> for more information about the <code class="codeph">STANDBY_MAX_DATA_DELAY</code> session parameter
                        </p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="intro-global-data-services.html#GUID-152F7AB7-F4A8-44B4-BD82-CEDA4A6F41EE">Overview of Global Services</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="GSMUG689"></a><div class="props_rev_3"><a id="GUID-B7B8DDFA-22F8-4E82-BA1E-A1824DE85A63" name="GUID-B7B8DDFA-22F8-4E82-BA1E-A1824DE85A63"></a><h4 id="GSMUG-GUID-B7B8DDFA-22F8-4E82-BA1E-A1824DE85A63" class="sect4"><span class="enumeration_section">1.3.6 </span>Global Services and Distributed Transaction Processing
                  </h4>
                  <div>
                     <p>When performing XA (distributed) transactions against a GDS configuration, tightly-coupled branches of an XA transaction must be directed to the same database. This can be accomplished by ensuring that each global service used in a distributed transaction is, that is runs exactly on one database at a time. It is responsibility of the GDS pool administrator to configure and maintain the property of global services used in distributed transactions.</p>
                     <p>If a global service used in an XA transaction is running on a multi-instance Oracle RAC database, tightly-coupled branches of the XA transaction by default can be sent to separate database instances. This may result in sub-optimal performance. To avoid the performance degradation in this case, it is highly recommended to set the DTP parameter (<code class="codeph">-dtp)</code> to TRUE for any service used by an XA transaction that can run in an Oracle RAC database. Setting the parameter guarantees that all distributed transactions performed through the service have their tightly-coupled branches running on a single Oracle RAC instance.
                     </p>
                     <div class="infoboxnote" id="GUID-B7B8DDFA-22F8-4E82-BA1E-A1824DE85A63__GUID-BD8A5788-0904-45A4-A013-B1201F7B387A">
                        <p class="notep1">Note:</p>
                        <p>The DTP parameter of a global service only affects processing of XA transactions on an Oracle RAC database that provides this service. It has no effect on the database cardinality of the global service. A global service used by a distributed transaction must be manually configured to be active on a single database at a time.</p>
                     </div>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="intro-global-data-services.html#GUID-152F7AB7-F4A8-44B4-BD82-CEDA4A6F41EE">Overview of Global Services</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="GSMUG690"></a><div class="props_rev_3"><a id="GUID-CBAB6390-0062-4604-91F0-D9FC94A72E42" name="GUID-CBAB6390-0062-4604-91F0-D9FC94A72E42"></a><h4 id="GSMUG-GUID-CBAB6390-0062-4604-91F0-D9FC94A72E42" class="sect4"><span class="enumeration_section">1.3.7 </span>Global Services in Multitenant Architecture
                  </h4>
                  <div>
                     <p>Multitenant container databases (CDB) can be part of the GDS configuration. A global service can be defined at root level of the CDB (CDB$ROOT) or at the pluggable database (PDB) level. A global service that runs on a PDB can be created by setting the PDB property to the PDB name at creation time. The PDB property of a global service cannot be modified once the service is created. If the PDB property is not set, the service is created at the CDB root level (CDB$ROOT). </p>
                     <p>When the service is created at the PDB-level all of the service's preferred and available databases should contain the PDB it belongs to. Global services defined at the PDB level are managed by the same operations and rules as the services defined at any other level. </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="intro-global-data-services.html#GUID-152F7AB7-F4A8-44B4-BD82-CEDA4A6F41EE">Overview of Global Services</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="GSMUG127"></a><div class="props_rev_3"><a id="GUID-2221DEC7-176A-4707-BF0F-7DEDCBEB250D" name="GUID-2221DEC7-176A-4707-BF0F-7DEDCBEB250D"></a><h3 id="GSMUG-GUID-2221DEC7-176A-4707-BF0F-7DEDCBEB250D" class="sect3"><span class="enumeration_section">1.4 </span>Global Connection Load Balancing
               </h3>
               <div>
                  <p>When a client connects to an Oracle RAC database using a service, the client can use the Oracle Net connection load balancing feature to spread user connections across all the instances that support that service. Similarly, in a Global Data Services configuration, clients connecting to a global service are load balanced, as necessary, across different databases and regions.</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="intro-global-data-services.html#GUID-3A35CF29-7999-4EE1-BB74-ACA78ED16FA0">Client-Side Load Balancing</a><br></li>
                     <li class="ulchildlink"><a href="intro-global-data-services.html#GUID-9D94CDC7-EC28-4D64-9C39-F8420A058852">Server-Side Load Balancing</a><br></li>
                     <li class="ulchildlink"><a href="intro-global-data-services.html#GUID-01E24034-1592-405E-A013-8D9C20E3FDBB">Region Affinity for Global Services</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="intro-global-data-services.html#GUID-415B8BB5-5C8D-4C78-8E76-43DB1648E467">Introduction to Global Data Services</a></p>
                     </div>
                  </div>
               </div>
               <a id="GSMUG128"></a><div class="props_rev_3"><a id="GUID-3A35CF29-7999-4EE1-BB74-ACA78ED16FA0" name="GUID-3A35CF29-7999-4EE1-BB74-ACA78ED16FA0"></a><h4 id="GSMUG-GUID-3A35CF29-7999-4EE1-BB74-ACA78ED16FA0" class="sect4"><span class="enumeration_section">1.4.1 </span>Client-Side Load Balancing
                  </h4>
                  <div>
                     <p>Client-side load balancing balances the connection requests across global service managers. Connection failover is also supported. With connection failover, if an error is returned from the chosen global service manager, then Oracle Net Services tries the next address in the address list until either a successful connection is made or Oracle Net Services has exhausted all the addresses in the list.</p>
                     <p>Client-side load balancing and failover in a Global Data Services configuration is similar to that for an Oracle RAC database. In a Global Data Services configuration, however, a client in a Global Data Services region first tries to connect to any of the global service managers in its local region. If a global service manager from the local region does not respond, then the client tries a global service manager in another region.</p>
                     <p>To enable client-side load balancing and failover across multiple regions in a Global Data Services configuration, clients must use an Oracle Net connect descriptor that contains one list of addresses of local regional global service managers for load balancing and intraregion failover, and one (or more) list of addresses of remote regional global service managers for interregion failover. If a region is not specified, it defaults to the region name of the global service manager to which the client is connected. You can also configure timeout and retry attempts for each list to enable multiple connection attempts to the current global service manager before moving to another global service manager in the list.</p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-3A35CF29-7999-4EE1-BB74-ACA78ED16FA0__GUID-2634FF81-A256-48CF-B397-7CF79C54C714">
                        <p class="notep1">See Also:</p>
                        <p><a href="global-data-services-config.html#GUID-C2F0EF24-6721-407C-BC02-E210824413E4">Database Client Configuration</a> for more information
                        </p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="intro-global-data-services.html#GUID-2221DEC7-176A-4707-BF0F-7DEDCBEB250D">Global Connection Load Balancing</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="GSMUG129"></a><div class="props_rev_3"><a id="GUID-9D94CDC7-EC28-4D64-9C39-F8420A058852" name="GUID-9D94CDC7-EC28-4D64-9C39-F8420A058852"></a><h4 id="GSMUG-GUID-9D94CDC7-EC28-4D64-9C39-F8420A058852" class="sect4"><span class="enumeration_section">1.4.2 </span>Server-Side Load Balancing
                  </h4>
                  <div>
                     <p>Server-side load balancing for an Oracle RAC database has the listener directing connection requests to the best Oracle RAC database instance. Some applications have long-lived connections, while other applications have short-lived connections.</p>
                     <p>For global services, server-side load balancing works similarly, except that, instead of being limited to a single database, workloads are balanced across multiple databases in the Global Data Services configuration. In most cases, a global service manager directs a client request for a global service to a database server in the same region, unless all local servers are overloaded and a remote server can provide significantly better quality of service.</p>
                     <p>In some cases, to take advantage of data caching on a local server, you can direct requests to the local region. Global Data Services enables you to specify a desired level of client/server affinity for a global service.</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="intro-global-data-services.html#GUID-2221DEC7-176A-4707-BF0F-7DEDCBEB250D">Global Connection Load Balancing</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="GSMUG130"></a><div class="props_rev_3"><a id="GUID-01E24034-1592-405E-A013-8D9C20E3FDBB" name="GUID-01E24034-1592-405E-A013-8D9C20E3FDBB"></a><h4 id="GSMUG-GUID-01E24034-1592-405E-A013-8D9C20E3FDBB" class="sect4"><span class="enumeration_section">1.4.3 </span>Region Affinity for Global Services
                  </h4>
                  <div>
                     <p>You can configure global services to operate within specific regions or in any region in the Global Data Services configuration. This is called <span class="bold">region affinity</span>.
                     </p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="intro-global-data-services.html#GUID-3F55365B-6893-4615-B3B3-18725CCAAB9A">Any-Region Affinity</a><br></li>
                        <li class="ulchildlink"><a href="intro-global-data-services.html#GUID-E2F4B102-C943-487E-BFCA-E50A64E92A11">Affinity to a Local Region</a><br></li>
                        <li class="ulchildlink"><a href="intro-global-data-services.html#GUID-CFB7D9D6-8D5A-43B2-942C-259681FEA391">Affinity to a Local Region with Interregion Failover</a><br></li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="intro-global-data-services.html#GUID-2221DEC7-176A-4707-BF0F-7DEDCBEB250D">Global Connection Load Balancing</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="GSMUG131"></a><div class="props_rev_3"><a id="GUID-3F55365B-6893-4615-B3B3-18725CCAAB9A" name="GUID-3F55365B-6893-4615-B3B3-18725CCAAB9A"></a><h5 id="GSMUG-GUID-3F55365B-6893-4615-B3B3-18725CCAAB9A" class="sect5"><span class="enumeration_section">1.4.3.1 </span>Any-Region Affinity
                     </h5>
                     <div>
                        <p>Any-region affinity (the default) for a global service routes a client connection request to the best database in the Global Data Services configuration, regardless of region, that can meet the connection load balancing goal for the requested service. The choice of the database is based on its performance and network latency between the regions where the client and database reside. If databases in different regions are equally loaded, then this policy gives preference to a local region. An interregion connection is made only if the difference in database performance between regions outweighs network latency.</p>
                        <p>If you specify preferred, available databases for a global service with any-region affinity, then service cardinality is maintained at the Global Data Services pool level. If a service fails on a preferred database, then the service is started on any available database in the Global Data Services pool, and the number of service providers in the pool remains the same. When starting the service on an available database, databases in the region where the service failed have preference. If there is no available database for this service in the local region, then an available database is chosen from a nearby region.</p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="intro-global-data-services.html#GUID-01E24034-1592-405E-A013-8D9C20E3FDBB">Region Affinity for Global Services</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="GSMUG132"></a><div class="props_rev_3"><a id="GUID-E2F4B102-C943-487E-BFCA-E50A64E92A11" name="GUID-E2F4B102-C943-487E-BFCA-E50A64E92A11"></a><h5 id="GSMUG-GUID-E2F4B102-C943-487E-BFCA-E50A64E92A11" class="sect5"><span class="enumeration_section">1.4.3.2 </span>Affinity to a Local Region
                     </h5>
                     <div>
                        <p>Affinity to a local Global Data Services region for a global service routes a client connection request to the best database in the client's region that can meet the connection load balancing goal for the requested service. The global service manager chooses the database based only on the database's performance. A global service with affinity to a local region can be provided in multiple Global Data Services regions at the same time, but a client from one region is never connected to a database in another region.</p>
                        <p>If you specify preferred or available databases for a global service with local region affinity, then service cardinality is maintained at the regional level. If a service fails on a preferred database, then the service starts on an available database in the same region, so the number of service providers in the region remains the same. If there is no available database for this global service in the local region, then no action is taken and the service cardinality decreases. If there is no database in the local region offering the global service, then the client connection request is denied. For global services that have affinity to a local region, database cardinality of the service is maintained independently in each region.</p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="intro-global-data-services.html#GUID-01E24034-1592-405E-A013-8D9C20E3FDBB">Region Affinity for Global Services</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="GSMUG133"></a><div class="props_rev_3"><a id="GUID-CFB7D9D6-8D5A-43B2-942C-259681FEA391" name="GUID-CFB7D9D6-8D5A-43B2-942C-259681FEA391"></a><h5 id="GSMUG-GUID-CFB7D9D6-8D5A-43B2-942C-259681FEA391" class="sect5"><span class="enumeration_section">1.4.3.3 </span>Affinity to a Local Region with Interregion Failover
                     </h5>
                     <div>
                        <p>This type of affinity is similar to that of affinity to a local Global Data Services region, except that, if there are no databases in the local region offering a global service, then, instead of denying a client request, the request is forwarded to the best database in another region where the requested global service is running. This service failover does not trigger the service to be started on an available database in another region because, with affinity to a local region, database cardinality is maintained independently in each region, and should not change because of service failure in another region. If regional databases become overloaded because of interregion failover, then you can manually add a preferred database for the service.</p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="intro-global-data-services.html#GUID-01E24034-1592-405E-A013-8D9C20E3FDBB">Region Affinity for Global Services</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
            </div><a id="GSMUG134"></a><div class="props_rev_3"><a id="GUID-E5084527-71AE-414D-8A7D-B3441834B411" name="GUID-E5084527-71AE-414D-8A7D-B3441834B411"></a><h3 id="GSMUG-GUID-E5084527-71AE-414D-8A7D-B3441834B411" class="sect3"><span class="enumeration_section">1.5 </span>Global Run-Time Connection Load Balancing
               </h3>
               <div>
                  <p>Global run-time connection load balancing distributes client work requests across persistent connections that span the instances of an Oracle RAC database, based on load-balancing information from the database. This feature is supported with connection pools that can receive load balancing recommendations. The database uses the run-time connection load balancing goal for a service and the relative performance of the database instances to generate a recommendation about where to direct service requests.</p>
                  <p>There are two types of service-level goals for run-time connection load balancing:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><span class="bold">SERVICE_TIME</span>: Attempts to direct work requests to instances according to response time. Load-balancing data is based on elapsed time for work done in the service plus available bandwidth to the service.
                        </p>
                     </li>
                     <li>
                        <p><span class="bold">THROUGHPUT</span>: Attempts to direct work requests according to throughput. The load-balancing data is based on the rate that work is completed in the service plus available bandwidth to the service.
                        </p>
                     </li>
                  </ul>
                  <p>The Global Data Services framework also supports the balancing of work requests at run time to a global service. In the Global Data Services framework the requests are spread across connections to instances in multiple databases. Work is routed to provide the best service times globally and routing responds gracefully to changing system conditions.</p>
                  <p>To provide global run-time connection load balancing, a global service manager receives performance data for each service from all database instances in the Global Data Services configuration. The global service manager also measures interregion network latency by periodically exchanging messages with global service managers in other Global Data Services regions.</p>
                  <p>If the load-balancing goal for a global service is set to <code class="codeph">SERVICE_TIME</code>, then a global service manager considers interregion network latency and instance performance data when deciding how to distribute work requests. For example, clients in Region A have run-time load balancing metrics that are weighted toward Region A, and clients in Region B have metrics that are weighted toward Region B. This implies that, even though the service may be the same, clients in different regions receive different run-time load balancing metrics.
                  </p>
                  <p>If the load-balancing goal for a global service is set to <code class="codeph">THROUGHPUT</code>, then run-time load balancing metrics are calculated only based on the performance of database instances.
                  </p>
                  <p>In addition to calculating run-time load balancing metrics for local clients, a global service manager may also need to calculate run-time load balancing metrics of remote regions and publish the metrics for clients residing in a region where all global service managers are not available.</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="intro-global-data-services.html#GUID-BFBDFB7E-8B7C-40F8-B7E5-DD328B6EF8D4">Affinity</a><br></li>
                     <li class="ulchildlink"><a href="intro-global-data-services.html#GUID-0817EA9C-5C8A-47AD-8D46-442537A3E57A">Disk I/O and CPU Thresholds</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="intro-global-data-services.html#GUID-415B8BB5-5C8D-4C78-8E76-43DB1648E467">Introduction to Global Data Services</a></p>
                     </div>
                  </div>
               </div>
               <a id="GSMUG691"></a><div class="props_rev_3"><a id="GUID-BFBDFB7E-8B7C-40F8-B7E5-DD328B6EF8D4" name="GUID-BFBDFB7E-8B7C-40F8-B7E5-DD328B6EF8D4"></a><h4 id="GSMUG-GUID-BFBDFB7E-8B7C-40F8-B7E5-DD328B6EF8D4" class="sect4"><span class="enumeration_section">1.5.1 </span>Affinity
                  </h4>
                  <div>
                     <p>The global service manager provides advice about how to direct incoming work to the databases in a Global Data Services configuration that provide the optimal quality of service for that work. The load balancing advisory also sends additional affinity information that indicates to the clients, subscribers to the Oracle Net Service events (as Universal Connection Pool (UCP) and ODP.NET Connection Pool, and so on), whether it should re-connect to the same database. Reconnecting a session to the same database can improve buffer cache efficiency and lower CPU usage and transaction latency. The affinity information indicates whether affinity is active or inactive for a particular database. It is always inactive for a single instance database and can be either active or inactive for a particular instance if the database is an Oracle RAC. </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="intro-global-data-services.html#GUID-E5084527-71AE-414D-8A7D-B3441834B411">Global Run-Time Connection Load Balancing</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="GSMUG692"></a><div class="props_rev_3"><a id="GUID-0817EA9C-5C8A-47AD-8D46-442537A3E57A" name="GUID-0817EA9C-5C8A-47AD-8D46-442537A3E57A"></a><h4 id="GSMUG-GUID-0817EA9C-5C8A-47AD-8D46-442537A3E57A" class="sect4"><span class="enumeration_section">1.5.2 </span>Disk I/O and CPU Thresholds 
                  </h4>
                  <div>
                     <p>Disk I/O and CPU thresholds are resource consumption limits that a database administrator can set. The disk I/O threshold is configured by setting the single-block read latency limit, and the CPU threshold is set by setting the CPU usage limit. The global service manager monitors the resource usage and checks whether the I/O and CPU thresholds have been reached or not. When a database reaches one of the thresholds, the load balancing advisory readjusts its advice about how to direct incoming work to this database.</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="intro-global-data-services.html#GUID-E5084527-71AE-414D-8A7D-B3441834B411">Global Run-Time Connection Load Balancing</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="GSMUG135"></a><div class="props_rev_3"><a id="GUID-63143CA0-23BF-46D2-A349-401FECD24FBD" name="GUID-63143CA0-23BF-46D2-A349-401FECD24FBD"></a><h3 id="GSMUG-GUID-63143CA0-23BF-46D2-A349-401FECD24FBD" class="sect3"><span class="enumeration_section">1.6 </span>Global Services Failover
               </h3>
               <div>
                  <p>When a global service or database fails, a global service that was running on the database fails over to another database where the global service is enabled, but not yet running (if the database role matches the service role). The global service manager considers preferred databases as the failover target before available databases.</p>
                  <p>If you stop a global service using GDSCTL, then the service does not fail over to another database. However, the database where the service was stopped remains a failover target for this service. If the service fails on another database, then the service can start on that database.</p>
                  <p>When a global service fails over to an available database, the Global Data Services framework does not move the service back to the preferred database when the preferred database restarts because of the following:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>The service has the desired cardinality</p>
                     </li>
                     <li>
                        <p>Maintaining the service on the current instance or database provides a higher level of service availability</p>
                     </li>
                     <li>
                        <p>Not moving the service back to the initial preferred instance or database prevents a second outage</p>
                     </li>
                  </ul>
                  <p>If necessary, you can manually relocate the global service back to the preferred database after the service has restarted, without terminating active sessions.</p>
                  <p>In a Global Data Services pool that contains an Oracle Data Guard broker configuration, the Global Data Services framework supports role-based global services. Valid roles are <code class="codeph">PRIMARY</code>, <code class="codeph">PHYSICAL_STANDBY</code>, <code class="codeph">LOGICAL_STANDBY</code>, and <code class="codeph">SNAPSHOT_STANDBY</code>. The Global Data Services framework automatically starts a global service only when the database role matches the role specified for the service.
                  </p>
                  <p>If a database switches roles or fails, then the Oracle Data Guard broker notifies the Global Data Services framework about the role change or failure, and the global service manager ensures that the services start according to the new database roles.</p>
                  <div class="infoboxnote" id="GUID-63143CA0-23BF-46D2-A349-401FECD24FBD__GUID-DB5B2B5C-EC99-439D-9197-F3B2797358DA">
                     <p class="notep1">Note:</p>
                     <p>A global service cannot fail over from a database in one Global Data Services region to a database in another region if the locality parameter is set to <code class="codeph">LOCAL_ONLY</code>, and interregion failover is not enabled.
                     </p>
                  </div>
                  <p>When a global service fails over, fast connection failover, if enabled on Oracle clients, provides rapid failover of the connections to that global service. The Global Data Services framework, similar to Oracle RAC, uses Fast Application Notification (FAN) to notify applications about service outages. Instead of waiting for the application to poll the database and detect problems, clients receive FAN events and react, immediately. Sessions to the failed instance or node are terminated, and new connections are directed to available instances providing the global service.</p>
                  <p>All global service managers monitor service availability on all databases in a Global Data Services configuration. A global service is started on an available database when a global service manager detects that a global service becomes unavailable due to a failure.</p>
                  <div class="infoboxnote" id="GUID-63143CA0-23BF-46D2-A349-401FECD24FBD__GUID-C407C9D4-68AA-4430-A00A-48A564BE3D41">
                     <p class="notep1">Note:</p>
                     <p>A global service manager cannot automatically fail over a service if it cannot connect to the Global Data Services catalog. </p>
                  </div>
                  <div class="infoboxnote" id="GUID-63143CA0-23BF-46D2-A349-401FECD24FBD__GUID-4A5E13CF-59A3-4ECB-94E3-801D5C96B614">
                     <p class="notep1">Note:</p>
                     <p>When the target database for failover is under Oracle Clusterware control, the global service manager failover request to start a service on this database may lead to a Oracle Clusterware “pull up" event that starts another instance. This will occur when at least one instance is registered with the global service manager listener, allowing the global service manager to note that the database is running, and is therefore a valid target for failover, but that the service is not already running on the database. This can occur when the registered instance is not a primary or valid instance for the service, either because it is an available instance on an administrator-managed Oracle RAC database, or because it is an instance of a policy-managed Oracle RAC database that is not in the same server pool as the service.</p>
                  </div>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="intro-global-data-services.html#GUID-415B8BB5-5C8D-4C78-8E76-43DB1648E467">Introduction to Global Data Services</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="props_rev_3"><a id="GUID-47D2FA68-FA1A-4FE5-A6EF-A0070F2E1F14" name="GUID-47D2FA68-FA1A-4FE5-A6EF-A0070F2E1F14"></a><h3 id="GSMUG-GUID-47D2FA68-FA1A-4FE5-A6EF-A0070F2E1F14" class="sect3"><span class="enumeration_section">1.7 </span>Global Service Manager Process Suite Architecture
               </h3>
               <div>
                  <p>The global service manager process suite architecture is a process suite containing multiple processes that communicate using shared memory. Global service manager contains the following processes: </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Monitor - Monitors the health of all other processes in the process suite. Responsible for starting the other global service manager processes, creating the shared memory area and re-spawning a global service manager process after detecting its death.</p>
                     </li>
                     <li>
                        <p>Listener - Listens for incoming client connection requests and forwards requests to appropriate database instances. Each instance in Global Data Services configuration establishes a communication channel to all global service manager listeners. This channel is used for registration of global services and sending performance metrics to the listener. These metrics are later used for connection-time and run-time load balancing. Detects when a database instance goes down. The listener process provides the full functionality of the regular database listener. Therefore a global service manager plays the role of a remote listener for all databases in a Global Data Services configuration. A global service manager listener routes connection requests directly to local database listeners, bypassing SCAN listeners on an Oracle RAC database.</p>
                     </li>
                     <li>
                        <p>Pinger - Measures network latency between regions by exchanging data with pinger processes of global service managers in the other regions. Measurements are required for connection-time and run-time load balancing in a globally distributed database cloud. Monitors other global service managers and tells its own global service manager when it has to become the regional or master</p>
                     </li>
                     <li>
                        <p>OCI Process - Responsible for establishing SQLNET connections to Global Data Services databases for managing services, and to Global Data Services catalog for managing the Global Data Services configuration.</p>
                     </li>
                     <li>
                        <p>ONS Server - Publishes RLB and HA fan events to regional ONS network so that clients can subscribe to the events.</p>
                     </li>
                     <li>
                        <p>ONS Client - Responsible for subscribing to HA events that are published by Oracle RAC databases in Global Data Services configuration.</p>
                     </li>
                  </ul>
                  <p><a href="intro-global-data-services.html#GUID-47D2FA68-FA1A-4FE5-A6EF-A0070F2E1F14__CHDECJFF">Figure 1-2</a> shows the internal process architecture and the information flow in and out of the process suite.
                  </p>
                  <div class="figure" id="GUID-47D2FA68-FA1A-4FE5-A6EF-A0070F2E1F14__CHDECJFF">
                     <p class="titleinfigure">Figure 1-2 Global Service Manager Process Suite Architecture</p><br><img src="img/gsmug_vm_011.png" alt="Description of Figure 1-2 follows" title="Description of Figure 1-2 follows" longdesc="img_text/gsmug_vm_011.html"><br><a href="img_text/gsmug_vm_011.html">Description of "Figure 1-2 Global Service Manager Process Suite Architecture"</a><br></div>
                  <!-- class="figure" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="intro-global-data-services.html#GUID-415B8BB5-5C8D-4C78-8E76-43DB1648E467">Introduction to Global Data Services</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="GSMUG709"></a><div class="props_rev_3"><a id="GUID-1BB1ACBB-CD68-4A83-81D0-5D3047A41387" name="GUID-1BB1ACBB-CD68-4A83-81D0-5D3047A41387"></a><h3 id="GSMUG-GUID-1BB1ACBB-CD68-4A83-81D0-5D3047A41387" class="sect3"><span class="enumeration_section">1.8 </span>Global Data Services Use Cases
               </h3>
               <div>
                  <p>The following are some use cases for Oracle Global Data Services:</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="intro-global-data-services.html#GUID-2C1BCB71-F746-4984-A4D4-48E36AABC0D5">Load Balancing for Replicated Databases</a><br></li>
                     <li class="ulchildlink"><a href="intro-global-data-services.html#GUID-3A98F51E-687D-4CBD-80D9-B9AACF00A087">Service Failover for Replicated Databases</a><br></li>
                     <li class="ulchildlink"><a href="intro-global-data-services.html#GUID-A2486F11-3064-4214-82DF-4854572C2B67">Region Affinity in Oracle GoldenGate Multi-Master</a><br></li>
                     <li class="ulchildlink"><a href="intro-global-data-services.html#GUID-2C309E5D-921C-4ABE-8009-87C31887EE27">Load Balancing in Oracle GoldenGate Multi-Master</a><br></li>
                     <li class="ulchildlink"><a href="intro-global-data-services.html#GUID-993D619D-9991-4B2E-854B-FBEB441C61E4">Balancing Oracle Active Data Guard and Oracle GoldenGate Reader Farms</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="intro-global-data-services.html#GUID-415B8BB5-5C8D-4C78-8E76-43DB1648E467">Introduction to Global Data Services</a></p>
                     </div>
                  </div>
               </div>
               <a id="GSMUG717"></a><a id="GSMUG710"></a><div class="props_rev_3"><a id="GUID-2C1BCB71-F746-4984-A4D4-48E36AABC0D5" name="GUID-2C1BCB71-F746-4984-A4D4-48E36AABC0D5"></a><h4 id="GSMUG-GUID-2C1BCB71-F746-4984-A4D4-48E36AABC0D5" class="sect4"><span class="enumeration_section">1.8.1 </span>Load Balancing for Replicated Databases
                  </h4>
                  <div>
                     <p>Global Data Services extends Oracle RAC-style connect-time and run-time load balancing capabilities (within and across data centers) to a set of replicated databases. The algorithm takes into account load metrics, region affinity, network latency, and load balancing goals. It maximizes performance and achieves efficient resource utilization by enabling Global Data Services on Active Data Guard.</p>
                     <p><a href="intro-global-data-services.html#GUID-2C1BCB71-F746-4984-A4D4-48E36AABC0D5__CHDIDADG">Figure 1-3</a> shows load balancing across replicated databases, both local and remote, in a Global Data Services configuration. The Read Write Service runs on the Primary (or Master) database. Read Only Services run on the two Standby (or Replica) databases. Client connections are load balanced between the read-only services running on the Standby databases (across the two data centers).
                     </p>
                     <div class="figure" id="GUID-2C1BCB71-F746-4984-A4D4-48E36AABC0D5__CHDIDADG">
                        <p class="titleinfigure">Figure 1-3 Load Balancing for Replicated Databases</p><br><img src="img/gsmug_vm_010.png" alt="Description of Figure 1-3 follows" title="Description of Figure 1-3 follows" longdesc="img_text/gsmug_vm_010.html"><br><a href="img_text/gsmug_vm_010.html">Description of "Figure 1-3 Load Balancing for Replicated Databases"</a><br></div>
                     <!-- class="figure" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="intro-global-data-services.html#GUID-1BB1ACBB-CD68-4A83-81D0-5D3047A41387">Global Data Services Use Cases</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="GSMUG719"></a><a id="GSMUG720"></a><a id="GSMUG718"></a><div class="props_rev_3"><a id="GUID-3A98F51E-687D-4CBD-80D9-B9AACF00A087" name="GUID-3A98F51E-687D-4CBD-80D9-B9AACF00A087"></a><h4 id="GSMUG-GUID-3A98F51E-687D-4CBD-80D9-B9AACF00A087" class="sect4"><span class="enumeration_section">1.8.2 </span>Service Failover for Replicated Databases
                  </h4>
                  <div>
                     <p>Global Data Services extends Oracle RAC-style service failover (within and across data centers) and management capabilities to replicated databases, and takes into account service placement policies. It achieves higher availability and improved manageability by enabling Global Data Services with Active Data Guard and Oracle GoldenGate.</p>
                     <p><a href="intro-global-data-services.html#GUID-3A98F51E-687D-4CBD-80D9-B9AACF00A087__CHDEJDAJ">Figure 1-4</a> shows databases replicated across two data centers, in a Global Data Services Configuration. A Read Write Service runs on the Primary (or Master) database. Read Only Services are load balanced across the two Standby (or Replica) databases. 
                     </p>
                     <p><a href="intro-global-data-services.html#GUID-3A98F51E-687D-4CBD-80D9-B9AACF00A087__CHDEJDAJ">Figure 1-4</a> depicts the failure of the Standby in Data Center 1. In <a href="intro-global-data-services.html#GUID-3A98F51E-687D-4CBD-80D9-B9AACF00A087__CHDJFDBB">Figure 1-5</a> Global Data Services fails over the Read Only Service to another available database (in this case the Primary) and load balances it with the Read Only Service running on the remote Standby in Data Center 2.
                     </p>
                     <div class="figure" id="GUID-3A98F51E-687D-4CBD-80D9-B9AACF00A087__CHDEJDAJ">
                        <p class="titleinfigure">Figure 1-4 Read Only Service Failure</p><br><img src="img/gsmug_vm_015.png" alt="Description of Figure 1-4 follows" title="Description of Figure 1-4 follows" longdesc="img_text/gsmug_vm_015.html"><br><a href="img_text/gsmug_vm_015.html">Description of "Figure 1-4 Read Only Service Failure"</a><br></div>
                     <!-- class="figure" -->
                     <div class="figure" id="GUID-3A98F51E-687D-4CBD-80D9-B9AACF00A087__CHDJFDBB">
                        <p class="titleinfigure">Figure 1-5 Read Only Service Failover</p><br><img src="img/gsmug_vm_016.png" alt="Description of Figure 1-5 follows" title="Description of Figure 1-5 follows" longdesc="img_text/gsmug_vm_016.html"><br><a href="img_text/gsmug_vm_016.html">Description of "Figure 1-5 Read Only Service Failover"</a><br></div>
                     <!-- class="figure" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="intro-global-data-services.html#GUID-1BB1ACBB-CD68-4A83-81D0-5D3047A41387">Global Data Services Use Cases</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-A2486F11-3064-4214-82DF-4854572C2B67" name="GUID-A2486F11-3064-4214-82DF-4854572C2B67"></a><h4 id="GSMUG-GUID-A2486F11-3064-4214-82DF-4854572C2B67" class="sect4"><span class="enumeration_section">1.8.3 </span>Region Affinity in Oracle GoldenGate Multi-Master
                  </h4>
                  <div>
                     <p><a href="intro-global-data-services.html#GUID-A2486F11-3064-4214-82DF-4854572C2B67__CHDCBFFG">Figure 1-6</a> depicts Oracle GoldenGate multi-mastered replicas in a Global Data Services configuration. In this use case the application needs to avoid multi-master read/write conflicts, and Global Data Services can route all of the workloads to nearest and best replica in the client's region. 
                     </p><pre class="oac_no_warn" dir="ltr">GDSCTL&gt;add service &#x2013;service reporting_srvc &#x2013;gdspool sales 
       &#x2013;preferred_all &#x2013;locality LOCAL_ONLY &#x2013;region_failover
GDSCTL&gt;add service &#x2013;service order_entry_srvc &#x2013;gdspool sales 
       &#x2013;preferred_all &#x2013;locality LOCAL_ONLY &#x2013;region_failover 
 </pre><p>This use case features the following:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The application handles multi-master conflict resolutions.</p>
                        </li>
                        <li>
                           <p>Read/write and read-only global services run on both replicas.</p>
                        </li>
                        <li>
                           <p>Client connections are routed to the nearest and the best replica database in the client's region that meets the connection load balancing goal for the requested Order Entry and Reporting global services.</p>
                        </li>
                        <li>
                           <p>Takes into account load metrics, region affinity, and load balancing goals.</p>
                        </li>
                        <li>
                           <p>Global Data Services provides workload routing for read-only and read/write services for Oracle GoldenGate multi-master configuration.</p>
                        </li>
                        <li>
                           <p>Routes all database workloads to the nearest datacenter by enabling Global Data Services for Oracle GoldenGate multi-master configuration.</p>
                        </li>
                     </ul>
                     <div class="figure" id="GUID-A2486F11-3064-4214-82DF-4854572C2B67__CHDCBFFG">
                        <p class="titleinfigure">Figure 1-6 Region Affinity in Oracle GoldenGate Multi-Master</p><br><img src="img/gsmug_vm_014.png" alt="Description of Figure 1-6 follows" title="Description of Figure 1-6 follows" longdesc="img_text/gsmug_vm_014.html"><br><a href="img_text/gsmug_vm_014.html">Description of "Figure 1-6 Region Affinity in Oracle GoldenGate Multi-Master"</a><br></div>
                     <!-- class="figure" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="intro-global-data-services.html#GUID-1BB1ACBB-CD68-4A83-81D0-5D3047A41387">Global Data Services Use Cases</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-2C309E5D-921C-4ABE-8009-87C31887EE27" name="GUID-2C309E5D-921C-4ABE-8009-87C31887EE27"></a><h4 id="GSMUG-GUID-2C309E5D-921C-4ABE-8009-87C31887EE27" class="sect4"><span class="enumeration_section">1.8.4 </span>Load Balancing in Oracle GoldenGate Multi-Master
                  </h4>
                  <div>
                     <p><a href="intro-global-data-services.html#GUID-2C309E5D-921C-4ABE-8009-87C31887EE27__CHDGFJBJ">Figure 1-7</a> depicts Oracle GoldenGate multi-mastered replicas in a Global Data Services configuration. In this use case the application needs to handle multi-master conflict resolutions, and Global Data Services provides connect-time and run-time load balancing (within and across data centers) for all work requests.
                     </p><pre class="oac_no_warn" dir="ltr">GDSCTL&gt;add service -service order_entry_srvc -gdspool sales 
       &#x2013;preferred_all -clbgoal LONG 
GDSCTL&gt;add service -service reporting_srvc -gdspool sales 
       &#x2013;preferred_all -clbgoal LONG  
 </pre><p>This use case features the following:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Application handles multi-master conflict resolutions.</p>
                        </li>
                        <li>
                           <p>Read Write and Read Only global services run on both replicas.</p>
                        </li>
                        <li>
                           <p>Client connections are load balanced between the READ WRITE global services running on both the masters (across data centers). Same is the case for the Read only service.</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Takes into account load metrics, region affinity, network latency and load balancing goals.</p>
                              </li>
                              <li>
                                 <p>Load balance all workloads by enabling GDS on Oracle GoldenGate multi-master configuration.</p>
                              </li>
                           </ul>
                        </li>
                     </ul>
                     <div class="figure" id="GUID-2C309E5D-921C-4ABE-8009-87C31887EE27__CHDGFJBJ">
                        <p class="titleinfigure">Figure 1-7 Load Balancing in Oracle GoldenGate Multi-Master</p><br><img src="img/gsmug_vm_013.png" alt="Description of Figure 1-7 follows" title="Description of Figure 1-7 follows" longdesc="img_text/gsmug_vm_013.html"><br><a href="img_text/gsmug_vm_013.html">Description of "Figure 1-7 Load Balancing in Oracle GoldenGate Multi-Master"</a><br></div>
                     <!-- class="figure" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="intro-global-data-services.html#GUID-1BB1ACBB-CD68-4A83-81D0-5D3047A41387">Global Data Services Use Cases</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-993D619D-9991-4B2E-854B-FBEB441C61E4" name="GUID-993D619D-9991-4B2E-854B-FBEB441C61E4"></a><h4 id="GSMUG-GUID-993D619D-9991-4B2E-854B-FBEB441C61E4" class="sect4"><span class="enumeration_section">1.8.5 </span>Balancing Oracle Active Data Guard and Oracle GoldenGate Reader Farms
                  </h4>
                  <div>
                     <p><a href="intro-global-data-services.html#GUID-993D619D-9991-4B2E-854B-FBEB441C61E4__CHDGEFCC">Figure 1-8</a> depicts Global Data Services enabled for an Oracle Active Data Guard or Oracle GoldenGate reader farm with physical standby/replicas located in both local and remote data centers. In this use case with Global Data Services, route read/write workload to primary/master, balance read-only workload on the reader farm, and you can expect improved resource utilization and higher scalability for read workloads.
                     </p>
                     <p>This use case features the following:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Read/write global service runs on the Primary/Master database.</p>
                        </li>
                        <li>
                           <p>Read-only global services run on the reader farm.</p>
                        </li>
                        <li>
                           <p>Client connections are load balanced between the read-only global services running on the reader farm (across data centers).</p>
                        </li>
                        <li>
                           <p>Global Data Services provides connect-time and run-time load balancing (within and across data centers) on a reader farm and better resource utilization and higher scalability by balancing read-only workload on an Oracle Active Data Guard or Oracle GoldenGate reader farm.</p>
                        </li>
                     </ul>
                     <div class="figure" id="GUID-993D619D-9991-4B2E-854B-FBEB441C61E4__CHDGEFCC">
                        <p class="titleinfigure">Figure 1-8 Balancing Oracle Active Data Guard and Oracle GoldenGate Reader Farms</p><br><img src="img/gsmug_vm_012.png" alt="Description of Figure 1-8 follows" title="Description of Figure 1-8 follows" longdesc="img_text/gsmug_vm_012.html"><br><a href="img_text/gsmug_vm_012.html">Description of "Figure 1-8 Balancing Oracle Active Data Guard and Oracle GoldenGate Reader Farms"</a><br></div>
                     <!-- class="figure" -->
                     <div class="example" id="GUID-993D619D-9991-4B2E-854B-FBEB441C61E4__GUID-4D4C8573-2359-4B95-902D-2AA7C22CF57E">
                        <p class="titleinexample">Example 1-1 Oracle GoldenGate</p><pre class="oac_no_warn" dir="ltr">GDSCTL&gt;add service -service reporting_srvc -gdspool sales 
       &#x2013;preferred DB02, DB03, DB04 -clbgoal LONG &#x2013;rlbgoal SERVICE_TIME 
</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="intro-global-data-services.html#GUID-1BB1ACBB-CD68-4A83-81D0-5D3047A41387">Global Data Services Use Cases</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
         </div>
      </article>
   </body>
</html>