<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="Oracle Cluster Health Advisor is automatically provisioned on each node by default when Oracle Grid Infrastructure is installed for Oracle Real Application Clusters (Oracle RAC) or Oracle RAC One Node database."></meta>
      <meta name="description" content="Oracle Cluster Health Advisor is automatically provisioned on each node by default when Oracle Grid Infrastructure is installed for Oracle Real Application Clusters (Oracle RAC) or Oracle RAC One Node database."></meta>
      <title>使用Oracle Cluster Health Advisor监视Oracle Real Application Clusters（Oracle RAC）环境</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="User’s Guide"></meta>
      <meta property="og:description" content="Oracle Cluster Health Advisor is automatically provisioned on each node by default when Oracle Grid Infrastructure is installed for Oracle Real Application Clusters (Oracle RAC) or Oracle RAC One Node database."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="User’s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="autonomous-health-framework-users-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-21T23:14:30-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2016, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96320-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="cluster-health-advisor-architecture.html" title="Previous" type="text/html"></link>
      <link rel="next" href="using-cha-health-diagnosis.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Autonomous Health Framework User’s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="ATNMS"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="cluster-health-advisor-architecture.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="using-cha-health-diagnosis.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">用户指导</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="analyzing-risks-and-complying-best-practices.html" property="item" typeof="WebPage"><span property="name">分析群集配置</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="purpose-cluster-health-advisor.html" property="item" typeof="WebPage"><span property="name">主动检测和诊断Oracle RAC的性能问题</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">使用Oracle Cluster Health Advisor监视Oracle Real Application Clusters（Oracle RAC）环境</li>
            </ol>
            <a id="GUID-1B030BFC-1AE9-40CB-8044-463435D640B7" name="GUID-1B030BFC-1AE9-40CB-8044-463435D640B7"></a>
            
            <h2 id="ATNMS-GUID-1B030BFC-1AE9-40CB-8044-463435D640B7" class="sect2"><span class="enumeration_section">3.2</span>使用Oracle Cluster Health Advisor监视Oracle Real Application Clusters（Oracle RAC）环境</h2>
         </header>
         <div class="ind">
            <div>
               <p>默认情况下，为Oracle Real Application Clusters（Oracle RAC）或Oracle RAC One Node数据库安装Oracle Grid Infrastructure时，将自动在每个节点上配置Oracle Cluster Health Advisor。</p>
               <div class="section">
                  <p>Oracle Cluster Health Advisor不需要任何其他配置。Grid Infrastructure Management Repository（GIMR）中OCHAD守护程序用户的凭据是安全随机生成的，并存储在Oracle Grid Infrastructure凭据存储中。</p>
                  <p>当Oracle Cluster Health Advisor检测到Oracle Real Application Clusters（Oracle RAC）或Oracle RAC One Node数据库实例正在运行时，Oracle Cluster Health Advisor会自动开始监视群集节点。以Grid用户身份登录时使用CHACTL打开数据库监控。</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-1B030BFC-1AE9-40CB-8044-463435D640B7__GUID-DFFFDF96-5CF4-496B-BD21-8A8182C86869">要监视Oracle Real Application Clusters（Oracle RAC）环境：</p>
               </div>
               <!-- class="section" -->
               <ol>
                  <li class="stepexpand"><span>要监视数据库，请运行以下命令：</span><div>
                        <div class="p"><pre class="pre codeblock"><code>$ chactl monitor database -db <span class="variable" translate="no">db_unique_name</span></code></pre></div>
                        <p>Oracle Cluster Health Advisor使用默认模型监控Oracle Real Application Clusters（Oracle RAC）或Oracle RAC One Node数据库的所有实例。即使单实例Oracle数据库与Oracle Real Application Clusters（Oracle RAC）数据库共享同一群集，Oracle Cluster Health Advisor也无法监控单实例Oracle数据库。</p>
                        <p>Oracle Cluster Health Advisor会在群集重新启动时保留数据库监控状态，因为Oracle Cluster Health Advisor会将状态信息存储在GIMR中。每个数据库实例都在Oracle Real Application Clusters（Oracle RAC）数据库节点上独立监视，并且在单个节点上运行多个数据库时。</p>
                     </div>
                  </li>
                  <li class="stepexpand"><span>要停止监视数据库，请运行以下命令：</span><div>
                        <div class="p"><pre class="pre codeblock"><code>$ chactl unmonitor database -db <span class="variable" translate="no">db_unique_name</span></code></pre></div>
                        <p>Oracle Cluster Health Advisor停止监视指定数据库的所有实例。但是，Oracle Cluster Health Advisor在超出保留期限之前不会删除任何数据或问题。</p>
                     </div>
                  </li>
                  <li class="stepexpand"><span>要检查所有群集节点和数据库的监视状态，请运行以下命令：</span><div>
                        <div class="p"><pre class="pre codeblock"><code>$ chactl status</code></pre></div>
                        <p>使用<code class="codeph">–verbose</code>选项可以查看更多详细信息，例如用于节点和每个数据库的模型。
                        </p>
                     </div>
                  </li>
               </ol>
            </div>
            <div>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>父主题：</strong> <a href="purpose-cluster-health-advisor.html#GUID-78F409B6-7CB2-4103-9460-4E87F48DCEC2" title="Oracle Cluster Health Advisor为系统和数据库管理员提供待处理性能问题的早期警告，以及Oracle RAC数据库和集群节点的根本原因和纠正措施。">主动检测和诊断Oracle RAC的性能问题</a></p>
                  </div>
               </div>
            </div>
            
         </div>
      </article>
   </body>
</html>