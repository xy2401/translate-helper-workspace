<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="Rule sets group one or more rules together; the rules determine whether a user can perform an action on an object."></meta>
      <meta name="description" content="Rule sets group one or more rules together; the rules determine whether a user can perform an action on an object."></meta>
      <title>配置规则集</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Administrator&#39;s Guide "></meta>
      <meta property="og:description" content="Rule sets group one or more rules together; the rules determine whether a user can perform an action on an object."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Administrator&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-vault-administrators-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-28T15:24:22-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96302-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="configuring-realms.html" title="Previous" type="text/html"></link>
      <link rel="next" href="configuring-command-rules.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Vault Administrator&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="DVADM"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="configuring-realms.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="configuring-command-rules.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">管理员指南</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">配置规则集</li>
            </ol>
            <a id="GUID-41914FF0-20E0-4878-8124-C6C976C19104" name="GUID-41914FF0-20E0-4878-8124-C6C976C19104"></a><a id="DVADM006"></a>
            
            <h2 id="DVADM-GUID-41914FF0-20E0-4878-8124-C6C976C19104" class="sect2"><span class="enumeration_chapter">5</span>配置规则集</h2>
         </header>
         <div class="ind">
            <div>
               <p>规则集将一个或多个规则组合在一起;规则确定用户是否可以对对象执行操作。</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="configuring-rule-sets.html#GUID-AAC9F751-6498-4FD0-BB0E-64A6E2BB4E4A">什么是规则集？</a><br>规则集是一个或多个规则的集合。
                  </li>
                  <li class="ulchildlink"><a href="configuring-rule-sets.html#GUID-6308CB8B-6777-44AF-A523-F1A956591F6D">多租户环境中的规则集和规则</a><br>在多租户环境中，您可以在应用程序根目录中创建规则集及其关联规则。
                  </li>
                  <li class="ulchildlink"><a href="configuring-rule-sets.html#GUID-AE122705-6BAD-4B72-8321-C25187545589">默认规则集</a><br>Oracle Database Vault提供了一组默认规则集，您可以根据需要进行自定义。
                  </li>
                  <li class="ulchildlink"><a href="configuring-rule-sets.html#GUID-E2477C97-F87A-4FCF-A8C7-AFACA707B444">创建规则集</a><br>要创建规则集，首先要创建规则集，然后可以编辑规则集以将其与一个或多个规则相关联。
                  </li>
                  <li class="ulchildlink"><a href="configuring-rule-sets.html#GUID-1DEA3C18-91A0-475A-B001-8DC97372B40F">创建规则以添加到规则集</a><br>规则定义了您要控制的行为;规则集是命名的规则集合。
                  </li>
                  <li class="ulchildlink"><a href="configuring-rule-sets.html#GUID-DB38EF41-865C-41D6-89AD-3C9E32084E82">删除对Oracle Database Vault组件的规则集引用</a><br>在删除规则集之前，应删除对Oracle Database Vault组件的规则集引用。
                  </li>
                  <li class="ulchildlink"><a href="configuring-rule-sets.html#GUID-24510A4C-39FA-4701-91A2-6E213BD9AE59">删除规则集</a><br>您可以使用Enterprise Manager Cloud Control查找对规则集的引用，然后删除规则集。
                  </li>
                  <li class="ulchildlink"><a href="configuring-rule-sets.html#GUID-BFA919E1-0941-4246-BCA6-D9BC03B1CCB3">规则集如何工作</a><br>了解规则集的工作原理有助于创建更有效的规则集。
                  </li>
                  <li class="ulchildlink"><a href="configuring-rule-sets.html#GUID-744EC9BB-0804-4F91-BA0F-7D5584EA5B97">教程：为安全违规创建电子邮件警报</a><br>本教程演示了如何使用<code class="codeph">UTL_MAIL</code> PL / SQL包和访问控制列表来创建安全违规的电子邮件警报。
                  </li>
                  <li class="ulchildlink"><a href="configuring-rule-sets.html#GUID-D9AA1CCC-065C-4DFE-A078-908123401816">教程：配置双人完整性或双密钥安全性</a><br>本教程演示了如何使用Oracle Database Vault来控制两个用户的授权。
                  </li>
                  <li class="ulchildlink"><a href="configuring-rule-sets.html#GUID-F99FE15B-869E-44CC-A6C4-CC9BACD6BE34">设计规则集的指南</a><br>Oracle提供了设计规则集的指南。
                  </li>
                  <li class="ulchildlink"><a href="configuring-rule-sets.html#GUID-980369CA-666C-4E3A-8F90-572F7F34CEC7">规则集如何影响性能</a><br>规则的数量和复杂性会降低数据库性能。
                  </li>
                  <li class="ulchildlink"><a href="configuring-rule-sets.html#GUID-FABD139C-F858-40F8-AD5D-6089F517F2E7">规则集和规则相关报告和数据字典视图</a><br>Oracle Database Vault提供了报告和数据字典视图，可用于分析规则集及其中的规则。
                  </li>
               </ul>
            </div>
            <a id="DVADM70170"></a><div class="props_rev_3"><a id="GUID-AAC9F751-6498-4FD0-BB0E-64A6E2BB4E4A" name="GUID-AAC9F751-6498-4FD0-BB0E-64A6E2BB4E4A"></a><h3 id="DVADM-GUID-AAC9F751-6498-4FD0-BB0E-64A6E2BB4E4A" class="sect3">什么是规则集？</h3>
               <div>
                  <p>规则集是一个或多个规则的集合。</p>
                  <p>您可以将规则集与领域授权，因子分配，命令规则或安全应用程序角色相关联。</p>
                  <p>规则集根据其包含的每个规则的评估和评估类型（ <span class="italic">All True</span>或<span class="italic">Any True</span> ）评估为true或false。规则集中的规则是PL / SQL表达式，其计算结果为true或false。您可以创建规则并将规则添加到多个规则集。
                  </p>
                  <p>您可以使用规则集完成以下活动：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>作为领域授权的进一步限制，定义领域授权活动的条件</p>
                     </li>
                     <li>
                        <p>定义何时允许命令规则</p>
                     </li>
                     <li>
                        <p>启用安全应用程序角色</p>
                     </li>
                     <li>
                        <p>定义何时分配因子的标识</p>
                     </li>
                  </ul>
                  <p>创建规则集时，Oracle Database Vault可在您为领域，命令规则，因子或安全应用程序角色配置授权时使其可供选择。</p>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="configuring-rule-sets.html#GUID-FABD139C-F858-40F8-AD5D-6089F517F2E7" title="Oracle Database Vault提供了报告和数据字典视图，可用于分析规则集及其中的规则。">规则集和规则相关报告和数据字典视图</a></li>
                        <li><a href="oracle-database-vault-rule-set-apis.html#GUID-66E0EDFE-B4F0-4B5B-9657-B6C4737A37BF" title="您可以使用DBMS_MACADM PL / SQL包和一组Oracle Database Vault规则函数来管理规则集。">Oracle Database Vault规则集API</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="configuring-rule-sets.html#GUID-41914FF0-20E0-4878-8124-C6C976C19104" title="规则集将一个或多个规则组合在一起;规则确定用户是否可以对对象执行操作。">配置规则集</a></p>
                     </div>
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-6308CB8B-6777-44AF-A523-F1A956591F6D" name="GUID-6308CB8B-6777-44AF-A523-F1A956591F6D"></a><h3 id="DVADM-GUID-6308CB8B-6777-44AF-A523-F1A956591F6D" class="sect3">多租户环境中的规则集和规则</h3>
               <div>
                  <p>在多租户环境中，您可以在应用程序根目录中创建规则集及其关联规则。</p>
                  <p>当Database Vault评估关联的域或命令规则时，公共领域必须使用公共规则集。通用规则集及其规则只能在应用程序根目录中创建。创建公共规则集后，它将存在于与创建公共规则集的根关联的每个容器中。通用规则集只能包含通用规则。</p>
                  <p>要配置通用规则集及其规则，通常必须授予<code class="codeph">DV_OWNER</code>或<code class="codeph">DV_ADMIN</code>角色。
                  </p>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="configuring-command-rules.html#GUID-571C5AF1-909C-4A76-BE2B-9BAC5232FE84" title="在多租户环境中，您可以在CDB根目录或应用程序根目录中创建公共和本地命令规则。">多租户环境中的命令规则</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="configuring-rule-sets.html#GUID-41914FF0-20E0-4878-8124-C6C976C19104" title="规则集将一个或多个规则组合在一起;规则确定用户是否可以对对象执行操作。">配置规则集</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="DVADM70171"></a><div class="props_rev_3"><a id="GUID-AE122705-6BAD-4B72-8321-C25187545589" name="GUID-AE122705-6BAD-4B72-8321-C25187545589"></a><h3 id="DVADM-GUID-AE122705-6BAD-4B72-8321-C25187545589" class="sect3">默认规则集</h3>
               <div>
                  <p>Oracle Database Vault提供了一组默认规则集，您可以根据需要进行自定义。</p>
                  <div class="section">
                     <p>您可以通过查询<code class="codeph">DBA_DV_RULE_SET</code>数据字典视图找到规则集的完整列表。要查找与规则集关联的规则，请查询<code class="codeph">DBA_DV_RULE_SET_RULE</code>数据字典视图。
                     </p>
                     <p>默认规则集如下：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="bold">允许转储数据文件头：</span>此规则集可防止转储数据块。
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">允许对Alter系统进行细粒度控制：</span>此规则集使您能够控制用户使用<code class="codeph">ALTER SYSTEM</code> SQL语句设置初始化参数的能力。
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">允许对系统参数进行细粒度控制：</span> <span class="bold">注意：</span>不推荐使用此规则集。
                           </p>
                           <p>此规则集提供了对初始化参数的非常灵活，细粒度的控制，这些参数用于管理系统安全性，转储或目标位置，备份和还原设置，优化程序设置，PL / SQL调试和安全性参数。它会根据此规则集的关联规则影响以下初始化参数：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="bold">是否允许系统安全性参数规则：</span>无法设置<code class="codeph">O7_DICTIONARY_ACCESSIBILITY</code></p>
                              </li>
                              <li>
                                 <p><span class="bold">是否允许转储或Dest参数规则：</span>无法设置以下参数：</p>
                                 <div class="tblformal" id="GUID-AE122705-6BAD-4B72-8321-C25187545589__GUID-92E14AAF-1BEC-410A-A38D-988BD54A2261">
                                    <table cellpadding="4" cellspacing="0" class="Formal" title="" width="90%" border="1" summary="Are Dump or Desk Parameters Allowed rule, from left to right, top to bottom" frame="hsides" rules="rows">
                                       <thead>
                                          <tr align="left" valign="top">
                                             <th align="left" valign="bottom" width="50%" id="d18924e609">参数BD</th>
                                             <th align="left" valign="bottom" width="50%" id="d18924e611">参数DU</th>
                                          </tr>
                                       </thead>
                                       <tbody>
                                          <tr align="left" valign="top">
                                             <td align="left" valign="top" width="50%" id="d18924e615" headers="d18924e609 ">
                                                <p><code class="codeph">BACKGROUND_DUMP_DEST</code></p>
                                             </td>
                                             <td align="left" valign="top" width="50%" headers="d18924e615 d18924e611 ">
                                                <p><code class="codeph">DB_RECOVERY_FILE_DEST</code></p>
                                             </td>
                                          </tr>
                                          <tr align="left" valign="top">
                                             <td align="left" valign="top" width="50%" id="d18924e624" headers="d18924e609 ">
                                                <p><code class="codeph">CORE_DUMP_DEST</code></p>
                                             </td>
                                             <td align="left" valign="top" width="50%" headers="d18924e624 d18924e611 ">
                                                <p><code class="codeph">DIAGNOSTIC_DEST</code></p>
                                             </td>
                                          </tr>
                                          <tr align="left" valign="top">
                                             <td align="left" valign="top" width="50%" id="d18924e633" headers="d18924e609 ">
                                                <p><code class="codeph">DUMP_DATAFILE</code></p>
                                             </td>
                                             <td align="left" valign="top" width="50%" headers="d18924e633 d18924e611 ">
                                                <p><code class="codeph">LOG_ARCHIVE_MIN_SUCCEED_DEST</code></p>
                                             </td>
                                          </tr>
                                          <tr align="left" valign="top">
                                             <td align="left" valign="top" width="50%" id="d18924e642" headers="d18924e609 ">
                                                <p><code class="codeph">USER_DUMP_DEST</code></p>
                                             </td>
                                             <td align="left" valign="top" width="50%" headers="d18924e642 d18924e611 ">
                                                <p><code class="codeph">LOG_ARCHIVE_TRACE</code></p>
                                             </td>
                                          </tr>
                                          <tr align="left" valign="top">
                                             <td align="left" valign="top" width="50%" id="d18924e651" headers="d18924e609 ">
                                                <p><code class="codeph">DB_CREATE_ONLINE_LOG_DEST</code></p>
                                             </td>
                                             <td align="left" valign="top" width="50%" headers="d18924e651 d18924e611 ">
                                                <p><code class="codeph">USER_DUMP_DEST</code></p>
                                             </td>
                                          </tr>
                                       </tbody>
                                    </table>
                                 </div>
                                 <!-- class="inftblhruleinformal" -->
                              </li>
                              <li>
                                 <p><span class="bold">是否允许备份还原参数规则：</span>无法设置<code class="codeph">RECYCLEBIN</code> （但不会阻止禁用回收站）</p>
                              </li>
                              <li>
                                 <p><span class="bold">是否允许数据库文件参数规则：</span>无法设置<code class="codeph">CONTROL_FILES</code></p>
                              </li>
                              <li>
                                 <p><span class="bold">是否允许优化器参数规则：</span>可以设置<code class="codeph">OPTIMIZER_SECURE_VIEW_MERGING = FALSE</code> （但不允许<code class="codeph">TRUE</code> ）</p>
                              </li>
                              <li>
                                 <p><span class="bold">是否允许PL-SQL参数规则：</span>可以设置<code class="codeph">PLSQL_DEBUG = FALSE</code> （但不允许<code class="codeph">TRUE</code> ）。
                                 </p>
                              </li>
                              <li>
                                 <p><span class="bold">是否允许安全参数规则：</span>无法设置以下内容：</p>
                                 <div class="tblformal" id="GUID-AE122705-6BAD-4B72-8321-C25187545589__GUID-1A7ECDA0-75B3-428E-9B2C-63766279E2B4">
                                    <table cellpadding="4" cellspacing="0" class="Formal" title="" width="90%" border="1" summary="Are Security Parameters Allowed, left to right, top to bottom" frame="hsides" rules="rows">
                                       <thead>
                                          <tr align="left" valign="top">
                                             <th align="left" valign="bottom" width="50%" id="d18924e709">参数AA</th>
                                             <th align="left" valign="bottom" width="50%" id="d18924e711">参数OS</th>
                                          </tr>
                                       </thead>
                                       <tbody>
                                          <tr align="left" valign="top">
                                             <td align="left" valign="top" width="50%" id="d18924e715" headers="d18924e709 ">
                                                <p><code class="codeph">AUDIT_SYS_OPERATIONS = FALSE</code></p>
                                             </td>
                                             <td align="left" valign="top" width="50%" headers="d18924e715 d18924e711 ">
                                                <p><code class="codeph">OS_ROLES = TRUE</code></p>
                                             </td>
                                          </tr>
                                          <tr align="left" valign="top">
                                             <td align="left" valign="top" width="50%" id="d18924e724" headers="d18924e709 ">
                                                <p><code class="codeph">AUDIT_TRAIL = NONE</code>或<code class="codeph">FALSE</code></p>
                                             </td>
                                             <td align="left" valign="top" width="50%" headers="d18924e724 d18924e711 ">
                                                <p><code class="codeph">REMOTE_OS_ROLES = TRUE</code></p>
                                             </td>
                                          </tr>
                                          <tr align="left" valign="top">
                                             <td align="left" valign="top" width="50%" id="d18924e736" headers="d18924e709 ">
                                                <p><code class="codeph">AUDIT_SYSLOG_LEVEL</code></p>
                                             </td>
                                             <td align="left" valign="top" width="50%" headers="d18924e736 d18924e711 ">
                                                <p><code class="codeph">SQL92_SECURITY = FALSE</code></p>
                                             </td>
                                          </tr>
                                       </tbody>
                                    </table>
                                 </div>
                                 <!-- class="inftblhruleinformal" -->
                              </li>
                           </ul>
                           <p>有关初始化参数的详细信息，请参阅<a href="../refrn/initialization-parameters.html#REFRN001" target="_blank"><span class="italic">Oracle数据库参考</span></a>
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">允许会话：</span>控制在数据库中创建会话的能力。通过此规则集，您可以使用CONNECT命令规则添加规则来控制数据库登录。CONNECT命令规则可用于控制或限制对需要使用它的程序的<code class="codeph">SYSDBA</code>访问。未填充此规则集。
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">允许系统参数：</span> <span class="bold">注意：</span>不推荐使用此规则集。
                           </p>
                           <p>控制设置系统初始化参数的能力。自Oracle Database <span class="italic">11g</span>第2版（11.2）以来，允许细粒度控制系统参数规则集已替换此规则集，但仍支持向后兼容性。“允许系统参数”规则集与任何命令都没有关联，但其规则仍然可用，可以与任何自定义规则集一起使用。Oracle建议您使用“允许细粒度控制系统参数”规则集。
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">可以授予VPD管理：</span>使用<code class="codeph">GRANT</code>和<code class="codeph">REVOKE</code>语句控制在Oracle虚拟专用数据库<code class="codeph">DBMS_RLS</code>程序包上授予<code class="codeph">GRANT EXECUTE</code>或<code class="codeph">REVOKE EXECUTE</code>权限的能力。
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">可以维护帐户/配置文件：</span>通过<code class="codeph">CREATE USER</code> ， <code class="codeph">DROP USER</code> ， <code class="codeph">CREATE PROFILE</code> ， <code class="codeph">ALTER PROFILE</code>或<code class="codeph">DROP PROFILE</code>语句控制管理用户帐户和配置文件的角色。
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">可以维护自己的帐户：</span>允许具有<code class="codeph">DV_ACCTMGR</code>角色的帐户使用<code class="codeph">ALTER USER</code>语句管理用户帐户和配置文件。还允许个人帐户使用<code class="codeph">ALTER USER</code>语句更改自己的密码。见<a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-BE9F1454-3798-4B2E-A07D-98A3B6263802" title="DV_ACCTMGR角色是一个强大的角色，用于帐户管理。">DV_ACCTMGR Database Vault的客户经理角色</a>有关的更多信息<code class="codeph">DV_ACCTMGR</code>作用。
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">已禁用：</span>便捷规则设置为快速禁用安全配置，如领域，命令规则，因素和安全应用程序角色。
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">已启用：</span>便捷规则设置为快速启用系统功能。
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">不允许将AUDIT_SYS_OPERATIONS设置为False：</span>禁止将<code class="codeph">AUDIT_SYS_OPERATIONS</code>初始化参数设置为<code class="codeph">FALSE</code> 。如果启用了统一审核，则<code class="codeph">AUDIT_SYS_OPERATIONS</code>参数无效。
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">不允许将OPTIMIZER_SECURE_VIEW_MERGING设置为True：</span>禁止将<code class="codeph">OPTIMIZER_SECURE_VIEW_MERGING</code>初始化参数设置为<code class="codeph">TRUE</code> 。</p>
                        </li>
                        <li>
                           <p><span class="bold">不允许将OS_ROLES设置为True：</span>禁止将<code class="codeph">OS_ROLES</code>初始化参数设置为<code class="codeph">TRUE</code> 。</p>
                        </li>
                        <li>
                           <p><span class="bold">不允许将PLSQL_DEBUG设置为True：</span>禁止将<code class="codeph">PLSQL_DEBUG</code>初始化参数设置为<code class="codeph">TRUE</code> 。</p>
                        </li>
                        <li>
                           <p><span class="bold">不允许将REMOTE_OS_ROLES设置为True：</span>禁止将<code class="codeph">REMOTE_OS_ROLES</code>初始化参数设置为<code class="codeph">TRUE</code> 。</p>
                        </li>
                        <li>
                           <p><span class="bold">不允许将SQL92_SECURITY设置为False：</span>禁止将<code class="codeph">SQL92_SECURITY</code>设置为<code class="codeph">FALSE</code> 。</p>
                        </li>
                        <li>
                           <p><span class="bold">不允许关闭AUDIT_TRAIL：</span></p>阻止关闭<code class="codeph">AUDIT_TRAIL</code>初始化参数。如果启用了统一审核，则<code class="codeph">AUDIT_TRAIL</code>参数无效。
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="configuring-rule-sets.html#GUID-41914FF0-20E0-4878-8124-C6C976C19104" title="规则集将一个或多个规则组合在一起;规则确定用户是否可以对对象执行操作。">配置规则集</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="DVADM70172"></a><div class="props_rev_3"><a id="GUID-E2477C97-F87A-4FCF-A8C7-AFACA707B444" name="GUID-E2477C97-F87A-4FCF-A8C7-AFACA707B444"></a><h3 id="DVADM-GUID-E2477C97-F87A-4FCF-A8C7-AFACA707B444" class="sect3">创建规则集</h3>
               <div>
                  <p>要创建规则集，首先要创建规则集，然后可以编辑规则集以将其与一个或多个规则相关联。</p>
                  <div class="section">您可以将新规则与规则集关联，将现有规则添加到规则集，或从规则集中删除规则关联。</div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>以已授予<code class="codeph">DV_OWNER</code>或<code class="codeph">DV_ADMIN</code>角色和<code class="codeph">SELECT ANY DICTIONARY</code>权限的用户身份从Cloud Control登录Oracle Database Vault Administrator。<a href="getting-started-with-oracle-database-vault.html#GUID-FD5C6859-EF01-49F7-B6D6-4E5ACB7FC0C6" title="Oracle Enterprise Manager云控制（云控制）提供用于管理Oracle Database Vault的页面。">从Oracle Enterprise Cloud Control登录Oracle Database Vault</a>说明了如何登录。</span></li>
                     <li class="stepexpand"><span>在“管理”页面的“数据库Vault组件”下，单击“ <span class="bold">规则集”</span> 。</span></li>
                     <li class="stepexpand"><span>在“规则集”页面中，单击“ <span class="bold">创建”</span>以显示“创建规则集”页面。</span><div><br><img src="img/create_rulesets122.png" alt="下面是create_rulesets122.png的描述" title="下面是create_rulesets122.png的描述" longdesc="img_text/create_rulesets122.html"><br><a href="img_text/create_rulesets122.html">插图描述create_rulesets122.png</a><br><div class="figure" id="GUID-E2477C97-F87A-4FCF-A8C7-AFACA707B444__GUID-CBBDE68C-61AE-4911-A5BA-01D5305A3DE1"></div>
                           <!-- class="figure" -->
                        </div>
                     </li>
                     <li class="stepexpand"><span>在“常规”页面中，输入以下信息：</span><div>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="bold">名称：</span>输入规则集的名称。它在混合大小写中最多可包含90个字符。允许空间。此属性是必需的。
                                 </p>
                                 <p>Oracle建议您使用动词启动名称，并使用附加规则集的领域或命令规则名称来完成该名称。例如：</p><pre class="oac_no_warn" dir="ltr">限制SQL * Plus访问</pre></li>
                              <li>
                                 <p><span class="bold">描述：</span>输入规则集功能的描述。混合大小写最多可包含1024个字符。此属性是可选的。
                                 </p>
                                 <p>您可能希望记录规则集的业务需求。例如：</p><pre class="oac_no_warn" dir="ltr">规则限制对SQL * Plus的访问</pre></li>
                              <li>
                                 <p><span class="bold">静态规则集：</span>您可以控制在用户会话期间访问规则集时评估规则集的频率。在用户会话中第一次访问静态规则集时，将对其进行一次评估。之后，在用户会话中重用评估值。另一方面，每次访问非静态规则集时都会对其进行评估。
                                 </p>
                              </li>
                              <li>
                                 <p><span class="bold">状态：</span>选择“已<span class="bold">启用”</span>或“ <span class="bold">已禁用”</span>以在运行时启用或禁用规则集。此属性是必需的。
                                 </p>
                              </li>
                              <li>
                                 <p><span class="bold">评估选项：</span>如果您计划为规则集分配多个规则，请选择以下设置之一：</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p><span class="bold">全部为True：</span>规则集中的所有规则必须求值为true才能使规则集本身评估为true。
                                       </p>
                                    </li>
                                    <li>
                                       <p><span class="bold">Any True：</span>规则集中至少有一条规则必须求值为true才能使规则集本身评估为true。
                                       </p>
                                    </li>
                                 </ul>
                              </li>
                           </ul>
                        </div>
                     </li>
                     <li class="stepexpand"><span>单击“ <span class="bold">下一步”</span>以显示“与规则关联”页面。</span></li>
                     <li class="stepexpand"><span>选择以下选项之一：</span><div>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="bold">添加现有规则：</span>双击可用规则列表以将其移动到“选定规则”列表，然后单击“ <span class="bold">确定”</span> 。</p>
                              </li>
                              <li>
                                 <p><span class="bold">创建规则：</span>输入计算结果为true或false的名称和<code class="codeph">WHERE</code>子句表达式。单击<span class="bold">确定</span> 。有关更多信息，请参阅<a href="configuring-rule-sets.html#GUID-1DEA3C18-91A0-475A-B001-8DC97372B40F" title="规则定义了您要控制的行为;规则集是命名的规则集合。">创建要添加到规则集的规则</a> 。
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </li>
                     <li class="stepexpand"><span>单击“ <span class="bold">下一步”</span>以显示“错误处理和审计选项”页面。</span></li>
                     <li class="stepexpand"><span>输入以下信息：</span><div>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="bold">错误处理：</span>选择“ <span class="bold">显示错误消息”</span>或<span class="bold">“不显示错误消息”</span> 。
                                 </p>
                                 <p>选择<span class="bold">“不显示错误消息”</span>然后启用审核的一个优点是您可以跟踪潜在入侵者的活动。审计报告揭示了入侵者的活动，但是入侵者并不知道您这样做是因为他或她没有看到任何错误消息。
                                 </p>
                              </li>
                              <li>
                                 <p><span class="bold">失败代码：</span>输入-20000到-20999或20000到20999范围内的数字。当规则集的计算结果为false或其中一个关联规则包含无效的PL / SQL表达式时，错误代码将显示<span class="bold">失败消息</span> （下一个创建）。如果省略此设置，则Oracle Database Vault会显示一般错误代码。
                                 </p>
                              </li>
                              <li>
                                 <p><span class="bold">失败消息：</span>以混合大小写形式输入最多80个字符的消息，以与您在“ <span class="bold">失败代码”</span>下指定的失败代码相关联。当规则集的计算结果为false或其中一个关联规则包含无效的PL / SQL表达式时，将显示错误消息。如果未指定错误消息，则Oracle Database Vault会显示一般错误消息。
                                 </p>
                              </li>
                              <li>
                                 <p><span class="bold">自定义事件处理程序选项：</span>选择以下选项之一以确定何时运行<span class="bold">自定义事件处理程序逻辑</span> （下一步创建）。
                                 </p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p><span class="bold">处理程序已禁用：</span>不运行任何自定义事件方法。
                                       </p>
                                    </li>
                                    <li>
                                       <p><span class="bold">执行失败：</span>当规则集的计算结果为false或其中一个关联规则包含无效的PL / SQL表达式时，运行自定义事件方法。
                                       </p>
                                    </li>
                                    <li>
                                       <p><span class="bold">执行成功：</span>当规则集的计算结果为true时运行自定义事件方法。
                                       </p>
                                    </li>
                                 </ul>
                                 <p>您可以创建自定义事件方法，以在标准Oracle Database Vault规则集审核功能之外提供特殊处理。例如，您可以使用事件处理程序启动工作流程过程或将事件信息发送到外部系统。</p>
                              </li>
                              <li>
                                 <p><span class="bold">自定义事件处理程序逻辑：</span>以混合大小写形式输入最多255个字符的PL / SQL表达式。表达式可以包括任何包过程或独立过程。您可以创建自己的表达式或使用<a href="oracle-database-vault-rule-set-apis.html#GUID-66E0EDFE-B4F0-4B5B-9657-B6C4737A37BF" title="您可以使用DBMS_MACADM PL / SQL包和一组Oracle Database Vault规则函数来管理规则集。">Oracle Database Vault规则集API中</a>描述的PL / SQL接口。</p>
                                 <p>写的表达作为一个完全合格的过程（如<span class="italic"><code class="codeph">schema</code></span> 。 <span class="italic"><code class="codeph">procedure_name</code></span> ）。不要包含任何其他形式的SQL语句。如果您使用的是应用程序包过程或独立过程，则必须为<code class="codeph">DVSYS</code>提供对象的<code class="codeph">EXECUTE</code>特权。过程签名可以采用以下两种形式之一：</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p><code class="codeph">PROCEDURE</code> <span class="italic"><code class="codeph">my_ruleset_handler(</code></span> <span class="italic"><code class="codeph">p_ruleset_name</code></span> <code class="codeph">IN VARCHAR2,</code> <span class="italic"><code class="codeph">p_ruleset_rules</code></span> <code class="codeph">IN BOOLEAN)</code> ：当处理程序处理中需要规则集的名称及其返回值时，请使用此表单。
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">PROCEDURE</code> <span class="italic"><code class="codeph">my_ruleset_handler</code></span> ：当处理程序处理中不需要规则集的名称及其返回值时，请使用此表单。
                                       </p>
                                    </li>
                                 </ul>
                                 <p>请注意，您不能将调用者的权限过程用作事件处理程序。这样做会导致规则集评估意外失败。仅将定义者权限过程用作事件处理程序。</p>
                                 <p>使用以下语法：</p><pre class="oac_no_warn" dir="ltr"><span class="italic">myschema</span> 。 <span class="italic">my_ruleset_handler</span>
</pre></li>
                              <li>
                                 <p><span class="bold">审计选项：</span>从以下选项中进行选择，以在非统一审计环境中为规则集生成审计记录。Oracle Database Vault将审计跟踪写入<code class="codeph">DVSYS.AUDIT_TRAIL$</code>表。（如果已启用统一审核，则此设置不会捕获审核记录。相反，您必须创建统一的审核策略来捕获此信息。）
                                 </p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p><span class="bold">审核已禁用：</span>在任何情况下都不会创建审核记录。
                                       </p>
                                    </li>
                                    <li>
                                       <p><span class="bold">审核成功：</span>在规则集评估为true时创建审核记录。
                                       </p>
                                    </li>
                                    <li>
                                       <p><span class="bold">审核失败：</span>当规则集的计算结果为false或其中一个关联规则包含无效的PL / SQL表达式时，创建审核记录。
                                       </p>
                                    </li>
                                    <li>
                                       <p><span class="bold">审核成功或失败：</span>每当评估规则集时，都会创建审核记录。
                                       </p>
                                    </li>
                                 </ul>
                              </li>
                           </ul>
                        </div>
                     </li>
                     <li class="stepexpand"><span>单击<span class="bold">下一步</span>以显示“审阅”页面。</span></li>
                     <li class="stepexpand"><span>查看设置，如果满意，请单击“ <span class="bold">完成”</span> 。</span></li>
                  </ol>
                  <div class="section"></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-E2477C97-F87A-4FCF-A8C7-AFACA707B444__GUID-83538986-4E3D-4F9A-B5DA-3C06F335F5DA">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="auditing-oracle-database-vault.html#GUID-9E9C7DBE-A8C5-4F02-8E90-F7311D47AB92" title="您可以审核Oracle Database Vault中的活动，例如对策略配置的更改。">审核Oracle Database Vault</a>以获取有关<code class="codeph">DVSYS.AUDIT_TRAIL$</code>表中审核记录的更多信息</p>
                        </li>
                        <li>
                           <p><a href="../dbseg/configuring-audit-policies.html#DBSEG419" target="_blank"><span><cite>“Oracle数据库安全指南”</cite></span></a> ，了解有关为Database Vault创建统一审核策略的信息</p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="configuring-rule-sets.html#GUID-41914FF0-20E0-4878-8124-C6C976C19104" title="规则集将一个或多个规则组合在一起;规则确定用户是否可以对对象执行操作。">配置规则集</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="DVADM70177"></a><div class="props_rev_3"><a id="GUID-1DEA3C18-91A0-475A-B001-8DC97372B40F" name="GUID-1DEA3C18-91A0-475A-B001-8DC97372B40F"></a><h3 id="DVADM-GUID-1DEA3C18-91A0-475A-B001-8DC97372B40F" class="sect3">创建规则以添加到规则集</h3>
               <div>
                  <p>规则定义了您要控制的行为;规则集是命名的规则集合。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="configuring-rule-sets.html#GUID-FDD7A2C2-4E6A-4D84-828C-7040F4B297DA">关于创建规则</a><br>您可以在规则集创建过程中创建规则，也可以独立于规则集创建规则。
                     </li>
                     <li class="ulchildlink"><a href="configuring-rule-sets.html#GUID-A5550945-496A-411D-922F-B4BFDEA85FD9">默认规则</a><br>默认规则是具有常用行为的规则，例如检查操作是否计算为true或false。
                     </li>
                     <li class="ulchildlink"><a href="configuring-rule-sets.html#GUID-AAAFC806-8DB8-45A7-A058-B7CD352B0C50">创建新规则</a><br>您可以在Enterprise Manager Cloud Control中创建新规则。
                     </li>
                     <li class="ulchildlink"><a href="configuring-rule-sets.html#GUID-2D82F552-0D94-44B8-9F81-2F42E0EAA4FD">将现有规则添加到规则集</a><br>创建一个或多个规则后，可以使用Enterprise Manager Cloud Control添加到规则集。
                     </li>
                     <li class="ulchildlink"><a href="configuring-rule-sets.html#GUID-D22EB64B-F62F-4747-B218-FE1C7C3BC709">从规则集中删除规则</a><br>在从规则集中删除规则之前，可以使用Cloud Control找到对其的各种引用。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="configuring-rule-sets.html#GUID-41914FF0-20E0-4878-8124-C6C976C19104" title="规则集将一个或多个规则组合在一起;规则确定用户是否可以对对象执行操作。">配置规则集</a></p>
                     </div>
                  </div>
               </div>
               <a id="DVADM71223"></a><div class="props_rev_3"><a id="GUID-FDD7A2C2-4E6A-4D84-828C-7040F4B297DA" name="GUID-FDD7A2C2-4E6A-4D84-828C-7040F4B297DA"></a><h4 id="DVADM-GUID-FDD7A2C2-4E6A-4D84-828C-7040F4B297DA" class="sect4">关于创建规则</h4>
                  <div>
                     <p>您可以在规则集创建过程中创建规则，也可以独立于规则集创建规则。</p>
                     <p>创建规则后，您可以将规则集与一个或多个其他规则相关联。</p>
                     <p>如果在规则集创建过程中创建新规则，则该规则将自动添加到当前规则集中。您还可以将现有规则添加到规则集。或者，您可以省略向规则集添加规则，并将其用作您可能希望在将来创建的规则集的模板。</p>
                     <p>您可以向规则集添加任意数量的规则，但为了获得更好的设计和性能，您应该保持规则集的简单性。有关其他建议，请参阅<a href="configuring-rule-sets.html#GUID-F99FE15B-869E-44CC-A6C4-CC9BACD6BE34" title="Oracle提供了设计规则集的指南。">设计规则集的准则</a> 。
                     </p>
                     <p>规则集评估取决于使用评估选项（ <span class="bold">All True</span>或<span class="bold">Any True</span> ）对其规则的评估。如果禁用规则集，Oracle Database Vault会将规则集评估为true，而不会评估其规则。
                     </p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="configuring-rule-sets.html#GUID-BFA919E1-0941-4246-BCA6-D9BC03B1CCB3" title="了解规则集的工作原理有助于创建更有效的规则集。">规则集如何工作</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-rule-sets.html#GUID-1DEA3C18-91A0-475A-B001-8DC97372B40F" title="规则定义了您要控制的行为;规则集是命名的规则集合。">创建要添加到规则集的规则</a></p>
                        </div>
                     </div>
                  </div>
               </div><a id="DVADM71280"></a><a id="DVADM71279"></a><div class="props_rev_3"><a id="GUID-A5550945-496A-411D-922F-B4BFDEA85FD9" name="GUID-A5550945-496A-411D-922F-B4BFDEA85FD9"></a><h4 id="DVADM-GUID-A5550945-496A-411D-922F-B4BFDEA85FD9" class="sect4">默认规则</h4>
                  <div>
                     <p>默认规则是具有常用行为的规则，例如检查操作是否计算为true或false。</p>
                     <div class="section">
                        <p>您可以通过查询<code class="codeph">DBA_DV_RULE</code>数据字典视图找到完整的规则列表。<a href="configuring-rule-sets.html#GUID-A5550945-496A-411D-922F-B4BFDEA85FD9__CHDGGDFC" title="描述默认规则">表5-1</a>列出了当前的默认Oracle数据库规则。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-A5550945-496A-411D-922F-B4BFDEA85FD9__CHDGGDFC">
                        <p class="titleintable">表5-1当前默认Oracle Database Vault规则</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="当前默认的Oracle Database Vault规则" width="100%" border="1" summary="Describes default rules" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="41%" id="d18924e1776">规则</th>
                                 <th align="left" valign="bottom" width="59%" id="d18924e1779">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="41%" id="d18924e1784" headers="d18924e1776 ">
                                    <p>是否允许备份还原参数</p>
                                 </td>
                                 <td align="left" valign="top" width="59%" headers="d18924e1784 d18924e1779 ">
                                    <p>注意：不推荐使用此默认规则。</p>
                                    <p>检查当前SQL语句是否尝试打开<code class="codeph">RECYCLEBIN</code>参数</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="41%" id="d18924e1796" headers="d18924e1776 ">
                                    <p>是否允许数据库文件参数</p>
                                 </td>
                                 <td align="left" valign="top" width="59%" headers="d18924e1796 d18924e1779 ">
                                    <p>注意：不推荐使用此默认规则。</p>
                                    <p>检查当前SQL语句是否尝试更改与控制文件相关的配置</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="41%" id="d18924e1805" headers="d18924e1776 ">
                                    <p>是否允许转储参数</p>
                                 </td>
                                 <td align="left" valign="top" width="59%" headers="d18924e1805 d18924e1779 ">
                                    <p>检查当前SQL语句是否尝试更改与转储目标相关的初始化参数</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="41%" id="d18924e1812" headers="d18924e1776 ">
                                    <p>是否允许Dest参数</p>
                                 </td>
                                 <td align="left" valign="top" width="59%" headers="d18924e1812 d18924e1779 ">
                                    <p>检查当前SQL语句是否尝试更改与转储大小限制相关的初始化参数</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="41%" id="d18924e1819" headers="d18924e1776 ">
                                    <p>是否允许转储或Dest参数</p>
                                 </td>
                                 <td align="left" valign="top" width="59%" headers="d18924e1819 d18924e1779 ">
                                    <p>注意：不推荐使用此默认规则。</p>
                                    <p>检查当前SQL语句是否尝试更改与dump的大小限制或目标相关的初始化参数</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="41%" id="d18924e1828" headers="d18924e1776 ">
                                    <p>是否允许使用优化程序参数</p>
                                 </td>
                                 <td align="left" valign="top" width="59%" headers="d18924e1828 d18924e1779 ">
                                    <p>注意：不推荐使用此默认规则。</p>
                                    <p>检查当前SQL语句是否尝试更改<code class="codeph">OPTIMIZER_SECURE_VIEW_MERGING</code>参数的设置</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="41%" id="d18924e1840" headers="d18924e1776 ">
                                    <p>是否允许PL-SQL参数</p>
                                 </td>
                                 <td align="left" valign="top" width="59%" headers="d18924e1840 d18924e1779 ">
                                    <p>注意：不推荐使用此默认规则。</p>
                                    <p>检查当前SQL语句是否尝试更改<code class="codeph">PLSQL_DEBUG</code>初始化参数。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="41%" id="d18924e1852" headers="d18924e1776 ">
                                    <p>是否允许安全参数</p>
                                 </td>
                                 <td align="left" valign="top" width="59%" headers="d18924e1852 d18924e1779 ">
                                    <p>注意：不推荐使用此默认规则。</p>
                                    <p>检查是否尝试禁用以下初始化参数：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p><code class="codeph">AUDIT_SYS_OPERATIONS</code></p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">AUDIT_TRAIL</code></p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">AUDIT_SYSLOG_LEVEL</code></p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">SQL92_SECURITY</code></p>
                                       </li>
                                    </ul>
                                    <p>请注意，如果已启用统一审核，则<code class="codeph">AUDIT_SYS_OPERATIONS</code> ， <code class="codeph">AUDIT_TRAIL</code>和<code class="codeph">AUDIT_SYSLOG_LEVEL</code>参数无效。
                                    </p>
                                    <p>此规则可防止任何尝试启用以下参数：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p><code class="codeph">OS_ROLES</code></p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">REMOTE_OS_ROLES</code></p>
                                       </li>
                                    </ul>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="41%" id="d18924e1900" headers="d18924e1776 ">
                                    <p>是否允许系统安全性参数</p>
                                 </td>
                                 <td align="left" valign="top" width="59%" headers="d18924e1900 d18924e1779 ">
                                    <p>注意：不推荐使用此默认规则。</p>
                                    <p>防止修改以下参数：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p><code class="codeph">O7_DICTIONARY_ACCESSIBILITY</code></p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">DYNAMIC_RLS_POLICIES</code></p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">_SYSTEM_TRIG_ENABLED</code></p>
                                       </li>
                                    </ul>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="41%" id="d18924e1922" headers="d18924e1776 ">
                                    <p>假</p>
                                 </td>
                                 <td align="left" valign="top" width="59%" headers="d18924e1922 d18924e1779 ">
                                    <p>评估为<code class="codeph">FALSE</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="41%" id="d18924e1931" headers="d18924e1776 ">
                                    <p>是否允许更改DVSYS</p>
                                 </td>
                                 <td align="left" valign="top" width="59%" headers="d18924e1931 d18924e1779 ">
                                    <p>注意：不推荐使用此默认规则。</p>
                                    <p>检查登录用户是否可以成功执行其他用户的<code class="codeph">ALTER USER</code>语句</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="41%" id="d18924e1944" headers="d18924e1776 ">
                                    <p>是数据库管理员</p>
                                 </td>
                                 <td align="left" valign="top" width="59%" headers="d18924e1944 d18924e1779 ">
                                    <p>检查用户是否已被授予<code class="codeph">DBA</code>角色</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="41%" id="d18924e1954" headers="d18924e1776 ">
                                    <p>是否允许删除用户</p>
                                 </td>
                                 <td align="left" valign="top" width="59%" headers="d18924e1954 d18924e1779 ">
                                    <p>检查登录用户是否可以删除用户</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="41%" id="d18924e1961" headers="d18924e1776 ">
                                    <p>是否允许转储</p>
                                 </td>
                                 <td align="left" valign="top" width="59%" headers="d18924e1961 d18924e1779 ">
                                    <p>检查是否允许转储块</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="41%" id="d18924e1968" headers="d18924e1776 ">
                                    <p>是一个月的第一天</p>
                                 </td>
                                 <td align="left" valign="top" width="59%" headers="d18924e1968 d18924e1779 ">
                                    <p>检查指定的日期是否是该月的第一天</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="41%" id="d18924e1975" headers="d18924e1776 ">
                                    <p>是标签管理员</p>
                                 </td>
                                 <td align="left" valign="top" width="59%" headers="d18924e1975 d18924e1779 ">
                                    <p>检查用户是否已被授予<code class="codeph">LBAC_DBA</code>角色</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="41%" id="d18924e1985" headers="d18924e1776 ">
                                    <p>是月的最后一天</p>
                                 </td>
                                 <td align="left" valign="top" width="59%" headers="d18924e1985 d18924e1779 ">
                                    <p>检查指定的日期是否是该月的最后一天</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="41%" id="d18924e1992" headers="d18924e1776 ">
                                    <p>_dynamic_rls_init参数是否允许</p>
                                 </td>
                                 <td align="left" valign="top" width="59%" headers="d18924e1992 d18924e1779 ">
                                    <p>注意：不推荐使用此默认规则。</p>
                                    <p>防止修改<code class="codeph">DYNAMIC_RLS_POLICIES</code>参数</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="41%" id="d18924e2004" headers="d18924e1776 ">
                                    <p>参数值是否为假</p>
                                 </td>
                                 <td align="left" valign="top" width="59%" headers="d18924e2004 d18924e1779 ">
                                    <p>检查指定的参数值是否已设置为<code class="codeph">FALSE</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="41%" id="d18924e2013" headers="d18924e1776 ">
                                    <p>参数值无</p>
                                 </td>
                                 <td align="left" valign="top" width="59%" headers="d18924e2013 d18924e1779 ">
                                    <p>检查指定的参数值是否已设置为<code class="codeph">NONE</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="41%" id="d18924e2022" headers="d18924e1776 ">
                                    <p>参数值不是假的</p>
                                 </td>
                                 <td align="left" valign="top" width="59%" headers="d18924e2022 d18924e1779 ">
                                    <p>检查指定的参数值是否已设置为<code class="codeph">&lt;&gt; FALSE</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="41%" id="d18924e2031" headers="d18924e1776 ">
                                    <p>参数值不是无</p>
                                 </td>
                                 <td align="left" valign="top" width="59%" headers="d18924e2031 d18924e1779 ">
                                    <p>检查指定的参数值是否已设置为<code class="codeph">&lt;&gt; NONE</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="41%" id="d18924e2041" headers="d18924e1776 ">
                                    <p>参数值是否关闭</p>
                                 </td>
                                 <td align="left" valign="top" width="59%" headers="d18924e2041 d18924e1779 ">
                                    <p>检查指定的参数值是否已设置为<code class="codeph">&lt;&gt; OFF</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="41%" id="d18924e2050" headers="d18924e1776 ">
                                    <p>参数值是否未打开</p>
                                 </td>
                                 <td align="left" valign="top" width="59%" headers="d18924e2050 d18924e1779 ">
                                    <p>检查指定的参数值是否已设置为<code class="codeph">&lt;&gt; ON</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="41%" id="d18924e2059" headers="d18924e1776 ">
                                    <p>参数值不正确</p>
                                 </td>
                                 <td align="left" valign="top" width="59%" headers="d18924e2059 d18924e1779 ">
                                    <p>检查指定的参数值是否已设置为<code class="codeph">&lt;&gt; TRUE</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="41%" id="d18924e2068" headers="d18924e1776 ">
                                    <p>参数值是否关闭</p>
                                 </td>
                                 <td align="left" valign="top" width="59%" headers="d18924e2068 d18924e1779 ">
                                    <p>检查指定的参数值是否已设置为<code class="codeph">OFF</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="41%" id="d18924e2077" headers="d18924e1776 ">
                                    <p>参数值是否打开</p>
                                 </td>
                                 <td align="left" valign="top" width="59%" headers="d18924e2077 d18924e1779 ">
                                    <p>检查指定的参数值是否已设置为<code class="codeph">ON</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="41%" id="d18924e2086" headers="d18924e1776 ">
                                    <p>参数值是否为真</p>
                                 </td>
                                 <td align="left" valign="top" width="59%" headers="d18924e2086 d18924e1779 ">
                                    <p>检查指定的参数值是否已设置为<code class="codeph">TRUE</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="41%" id="d18924e2095" headers="d18924e1776 ">
                                    <p>是SYS还是SYSTEM用户</p>
                                 </td>
                                 <td align="left" valign="top" width="59%" headers="d18924e2095 d18924e1779 ">
                                    <p>检查用户是<code class="codeph">SYS</code>还是<code class="codeph">SYSTEM</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="41%" id="d18924e2107" headers="d18924e1776 ">
                                    <p>是安全管理员</p>
                                 </td>
                                 <td align="left" valign="top" width="59%" headers="d18924e2107 d18924e1779 ">
                                    <p>检查用户是否已被授予<code class="codeph">DV_ADMIN</code>角色</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="41%" id="d18924e2117" headers="d18924e1776 ">
                                    <p>是安全所有者</p>
                                 </td>
                                 <td align="left" valign="top" width="59%" headers="d18924e2117 d18924e1779 ">
                                    <p>检查用户是否已被授予<code class="codeph">DV_OWNER</code>角色</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="41%" id="d18924e2127" headers="d18924e1776 ">
                                    <p>是用户经理</p>
                                 </td>
                                 <td align="left" valign="top" width="59%" headers="d18924e2127 d18924e1779 ">
                                    <p>检查用户是否已被授予<code class="codeph">DV_ACCTMGR</code>角色</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="41%" id="d18924e2137" headers="d18924e1776 ">
                                    <p>是否允许_system_trig_enabled参数</p>
                                 </td>
                                 <td align="left" valign="top" width="59%" headers="d18924e2137 d18924e1779 ">
                                    <p>注意：不推荐使用此默认规则。</p>
                                    <p>检查用户是否尝试修改以下系统参数，但在数据库恢复操作中，此规则允许更改这些参数。</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p><code class="codeph">AUDIT_SYS_OPERATIONS</code> ：阻止用户将其设置为<code class="codeph">FALSE</code></p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">AUDIT_TRAIL</code> ：阻止用户将其设置为<code class="codeph">NONE</code>或<code class="codeph">FALSE</code></p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">AUDIT_SYSLOG_LEVEL</code> ：阻止此参数的所有操作</p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">CONTROL_FILES</code> ：阻止所有操作</p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">OPTIMIZER_SECURE_VIEW_MERGING</code> ：阻止用户将其设置为<code class="codeph">TRUE</code></p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">OS_ROLES</code> ：阻止用户将其设置为<code class="codeph">TRUE</code></p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">PLSQL_DEBUG</code> ：阻止用户将其设置为<code class="codeph">ON</code></p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">RECYCLEBIN</code> ：阻止用户将其设置为<code class="codeph">ON</code></p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">REMOTE_OS_ROLES</code> ：阻止用户将其设置为<code class="codeph">TRUE</code></p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">SQL92_SECURITY</code> ：阻止用户将其设置为<code class="codeph">FALSE</code></p>
                                       </li>
                                    </ul>
                                    <p>请注意，如果已启用统一审核，则<code class="codeph">AUDIT_SYS_OPERATIONS</code> ， <code class="codeph">AUDIT_TRAIL</code>和<code class="codeph">AUDIT_SYSLOG_LEVEL</code>参数无效。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="41%" id="d18924e2228" headers="d18924e1776 ">
                                    <p>是否允许o7_dictionary_accessibility参数</p>
                                 </td>
                                 <td align="left" valign="top" width="59%" headers="d18924e2228 d18924e1779 ">
                                    <p>注意：不推荐使用此默认规则。</p>
                                    <p>检查当前SQL语句是否尝试更改<code class="codeph">O7_DICTIONARY_ACCESSIBILITY</code>参数的设置</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="41%" id="d18924e2240" headers="d18924e1776 ">
                                    <p>登录用户是对象用户</p>
                                 </td>
                                 <td align="left" valign="top" width="59%" headers="d18924e2240 d18924e1779 ">
                                    <p>检查登录用户是否与当前SQL语句要更改的用户相同</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="41%" id="d18924e2247" headers="d18924e1776 ">
                                    <p>没有免除访问策略角色</p>
                                 </td>
                                 <td align="left" valign="top" width="59%" headers="d18924e2247 d18924e1779 ">
                                    <p>检查用户是否已被授予<code class="codeph">EXEMPT ACCESS POLICY</code>角色或是否为用户<code class="codeph">SYS</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="41%" id="d18924e2259" headers="d18924e1776 ">
                                    <p>不导出会话</p>
                                 </td>
                                 <td align="left" valign="top" width="59%" headers="d18924e2259 d18924e1779 ">
                                    <p>过时的</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="41%" id="d18924e2266" headers="d18924e1776 ">
                                    <p>真正</p>
                                 </td>
                                 <td align="left" valign="top" width="59%" headers="d18924e2266 d18924e1779 ">
                                    <p>评估为<code class="codeph">TRUE</code></p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-rule-sets.html#GUID-1DEA3C18-91A0-475A-B001-8DC97372B40F" title="规则定义了您要控制的行为;规则集是命名的规则集合。">创建要添加到规则集的规则</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DVADM70178"></a><div class="props_rev_3"><a id="GUID-AAAFC806-8DB8-45A7-A058-B7CD352B0C50" name="GUID-AAAFC806-8DB8-45A7-A058-B7CD352B0C50"></a><h4 id="DVADM-GUID-AAAFC806-8DB8-45A7-A058-B7CD352B0C50" class="sect4">创建新规则</h4>
                  <div>
                     <p>您可以在Enterprise Manager Cloud Control中创建新规则。</p>
                     <ol>
                        <li class="stepexpand"><span>以已授予<code class="codeph">DV_OWNER</code>或<code class="codeph">DV_ADMIN</code>角色和<code class="codeph">SELECT ANY DICTIONARY</code>权限的用户身份从Cloud Control登录Oracle Database Vault Administrator。<a href="getting-started-with-oracle-database-vault.html#GUID-FD5C6859-EF01-49F7-B6D6-4E5ACB7FC0C6" title="Oracle Enterprise Manager云控制（云控制）提供用于管理Oracle Database Vault的页面。">从Oracle Enterprise Cloud Control登录Oracle Database Vault</a>说明了如何登录。</span></li>
                        <li class="stepexpand"><span>在“管理”页面的“数据库Vault组件”下，单击<span class="bold">“规则”</span> 。</span></li>
                        <li class="stepexpand"><span>单击“ <span class="bold">创建”</span>按钮。</span></li>
                        <li class="stepexpand"><span>在“创建规则”页面中，输入以下设置：</span><div>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><span class="bold">名称：</span>输入规则的名称。在大小写混合中最多使用90个字符。
                                    </p>
                                    <p>Oracle建议您使用动词启动名称，并根据规则的目的完成名称。例如：</p><pre class="oac_no_warn" dir="ltr">防止对SQL * Plus的非管理员访问</pre><p>由于规则没有“ <span class="bold">描述”</span>字段，因此请将名称设为显式，但请确保不要超过90个字符。
                                    </p>
                                 </li>
                                 <li>
                                    <p><span class="bold">规则表达式：</span>输入符合以下要求的PL / SQL表达式：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p>它在SQL <code class="codeph">WHERE</code>子句中有效。
                                          </p>
                                       </li>
                                       <li>
                                          <p>它可以是一个独立且有效的PL / SQL布尔表达式，如下所示：</p><pre class="oac_no_warn" dir="ltr">TO_CHAR（SYSDATE，'HH24'）='12'</pre></li>
                                       <li>
                                          <p>它必须求值为布尔值（ <code class="codeph">TRUE</code>或<code class="codeph">FALSE</code> ）。
                                          </p>
                                       </li>
                                       <li>
                                          <p>长度不得超过1024个字符。</p>
                                       </li>
                                       <li>
                                          <p>它可以包含当前数据库实例中的现有和已编译的PL / SQL函数。确保这些是完全合格的功能（如<span class="italic"><code class="codeph">schema</code></span> ， <span class="italic"><code class="codeph">function_name</code></span> ）。不要包含任何其他形式的SQL语句。
                                          </p>
                                          <p>请注意，您不能将调用者权限过程与规则表达式一起使用。这样做会导致规则评估意外失败。仅使用带有规则表达式的定义者权限过程。</p>
                                          <p>如果要使用应用程序包功能或独立功能，则必须授予<code class="codeph">DVSYS</code>帐户对该功能的<code class="codeph">EXECUTE</code>特权。这样做可以减少添加新规则时出错的可能性。
                                          </p>
                                       </li>
                                       <li>
                                          <p>确保规则有效。您可以通过在SQL * Plus中运行以下语句来测试语法：</p><pre class="oac_no_warn" dir="ltr">SELECT <span class="italic">rule_expression</span> FROM DUAL;</pre><p>例如，假设您已创建以下规则表达式：</p><pre class="oac_no_warn" dir="ltr">SYS_CONTEXT（'USERENV'，'SESSION_USER'）！='TSMITH'</pre><p>您可以按如下方式测试此表达式：</p><pre class="oac_no_warn" dir="ltr">SELECT SYS_CONTEXT（'USERENV'，'SESSION_USER'）FROM DUAL;</pre><p>对于前面列出的布尔示例，您需要输入以下内容：</p><pre class="oac_no_warn" dir="ltr">SELECT TO_CHAR（SYSDATE，'HH24'）FROM DUAL;</pre></li>
                                    </ul>
                                 </li>
                              </ul>
                           </div>
                        </li>
                        <li class="stepexpand"><span>单击<span class="bold">确定</span> 。</span></li>
                     </ol>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="oracle-database-vault-rule-set-apis.html#GUID-9CC41BCB-1335-4230-8547-977AD105E47B" title="Oracle Database Vault提供了在规则集中使用的功能，以检查规则集保护的SQL语句。">Oracle Database Vault PL / SQL规则集函数</a></li>
                           <li><a href="oracle-database-vault-rule-set-apis.html#GUID-1B24D370-46E3-445E-91CC-8E621F5E94CB" title="通过DBMS_MACADM规则集过程，您可以配置这些规则集中的规则集和单个规则。">DBMS_MACADM规则集过程</a></li>
                           <li><a href="oracle-database-vault-utility-apis.html#GUID-5A0CB405-9A3C-48ED-B18F-3A8013D436E3" title="Oracle Database Vault在DBMS_MACUTL PL / SQL包中提供了一组实用程序API。">Oracle Database Vault Utility API</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-rule-sets.html#GUID-1DEA3C18-91A0-475A-B001-8DC97372B40F" title="规则定义了您要控制的行为;规则集是命名的规则集合。">创建要添加到规则集的规则</a></p>
                        </div>
                     </div>
                  </div>
               </div><a id="DVADM70181"></a><div class="props_rev_3"><a id="GUID-2D82F552-0D94-44B8-9F81-2F42E0EAA4FD" name="GUID-2D82F552-0D94-44B8-9F81-2F42E0EAA4FD"></a><h4 id="DVADM-GUID-2D82F552-0D94-44B8-9F81-2F42E0EAA4FD" class="sect4">将现有规则添加到规则集</h4>
                  <div>
                     <p>创建一个或多个规则后，可以使用Enterprise Manager Cloud Control添加到规则集。</p>
                     <ol>
                        <li class="stepexpand"><span>以已授予<code class="codeph">DV_OWNER</code>或<code class="codeph">DV_ADMIN</code>角色和<code class="codeph">SELECT ANY DICTIONARY</code>权限的用户身份从Cloud Control登录Oracle Database Vault Administrator。<a href="getting-started-with-oracle-database-vault.html#GUID-FD5C6859-EF01-49F7-B6D6-4E5ACB7FC0C6" title="Oracle Enterprise Manager云控制（云控制）提供用于管理Oracle Database Vault的页面。">从Oracle Enterprise Cloud Control登录Oracle Database Vault</a>说明了如何登录。</span></li>
                        <li class="stepexpand"><span>在“管理”页面的“数据库Vault组件”下，单击“ <span class="bold">规则集”</span> 。</span></li>
                        <li class="stepexpand"><span>选择要添加现有规则的规则集，然后单击“ <span class="bold">编辑”</span> 。</span></li>
                        <li class="stepexpand"><span>单击“ <span class="bold">下一步”，</span>直到到达“与规则关联”页面。</span></li>
                        <li class="stepexpand"><span>单击“ <span class="bold">添加现有规则”</span>以显示“添加现有规则”对话框。</span></li>
                        <li class="stepexpand"><span>在“添加现有规则”页面中，选择所需的规则，然后单击“ <span class="bold">移动”</span> （或“ <span class="bold">全部</span> <span class="bold">移动”</span> （如果需要全部）将它们移动到“选定规则”列表中。</span><div>
                              <p>单击每个规则时， <span class="bold">按住Ctrl</span>键可以选择多个规则。
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>单击<span class="bold">确定</span> 。</span></li>
                        <li class="stepexpand"><span>单击<span class="bold">“完成”</span> ，然后单击“ <span class="bold">完成”</span> 。</span></li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-rule-sets.html#GUID-1DEA3C18-91A0-475A-B001-8DC97372B40F" title="规则定义了您要控制的行为;规则集是命名的规则集合。">创建要添加到规则集的规则</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DVADM71224"></a><div class="props_rev_3"><a id="GUID-D22EB64B-F62F-4747-B218-FE1C7C3BC709" name="GUID-D22EB64B-F62F-4747-B218-FE1C7C3BC709"></a><h4 id="DVADM-GUID-D22EB64B-F62F-4747-B218-FE1C7C3BC709" class="sect4">从规则集中删除规则</h4>
                  <div>
                     <p>在从规则集中删除规则之前，可以使用Cloud Control找到对其的各种引用。</p>
                     <ol>
                        <li class="stepexpand"><span>以已授予<code class="codeph">DV_OWNER</code>或<code class="codeph">DV_ADMIN</code>角色和<code class="codeph">SELECT ANY DICTIONARY</code>权限的用户身份从Cloud Control登录Oracle Database Vault Administrator。<a href="getting-started-with-oracle-database-vault.html#GUID-FD5C6859-EF01-49F7-B6D6-4E5ACB7FC0C6" title="Oracle Enterprise Manager云控制（云控制）提供用于管理Oracle Database Vault的页面。">从Oracle Enterprise Cloud Control登录Oracle Database Vault</a>说明了如何登录。</span></li>
                        <li class="stepexpand"><span>在“管理”页面的“数据库Vault组件”下，单击“ <span class="bold">规则集”</span> 。</span><div>
                              <p>如果您不确定哪个规则集包含要删除的规则，请从Database Vault Components中选择<span class="bold">Rules</span> ，选择要删除的规则，然后选择<span class="bold">View</span>选项（但不选择<span class="bold">View</span>菜单）。规则集用法中列出了与规则关联的规则集。
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>选择要添加现有规则的规则集，然后单击“ <span class="bold">编辑”</span> 。</span></li>
                        <li class="stepexpand"><span>单击“ <span class="bold">下一步”，</span>直到到达“与规则关联”页面。</span></li>
                        <li class="stepexpand"><span>选择要删除的规则，然后单击“ <span class="bold">删除”</span> 。</span></li>
                        <li class="stepexpand"><span>单击<span class="bold">“完成”</span> ，然后单击“ <span class="bold">完成”</span> 。</span></li>
                     </ol>
                     <div class="section">
                        <p>从规则集中删除规则后，规则仍然存在。如果需要，可以将其与其他规则集关联。如果要删除规则，则可以从“规则”页面执行此操作。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-rule-sets.html#GUID-1DEA3C18-91A0-475A-B001-8DC97372B40F" title="规则定义了您要控制的行为;规则集是命名的规则集合。">创建要添加到规则集的规则</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="DVADM71225"></a><div class="props_rev_3"><a id="GUID-DB38EF41-865C-41D6-89AD-3C9E32084E82" name="GUID-DB38EF41-865C-41D6-89AD-3C9E32084E82"></a><h3 id="DVADM-GUID-DB38EF41-865C-41D6-89AD-3C9E32084E82" class="sect3">删除对Oracle Database Vault组件的规则集引用</h3>
               <div>
                  <p>在删除规则集之前，应删除对Oracle Database Vault组件的规则集引用。</p>
                  <ol>
                     <li class="stepexpand"><span>以已授予<code class="codeph">DV_OWNER</code>或<code class="codeph">DV_ADMIN</code>角色和<code class="codeph">SELECT ANY DICTIONARY</code>权限的用户身份从Cloud Control登录Oracle Database Vault Administrator。<a href="getting-started-with-oracle-database-vault.html#GUID-FD5C6859-EF01-49F7-B6D6-4E5ACB7FC0C6" title="Oracle Enterprise Manager云控制（云控制）提供用于管理Oracle Database Vault的页面。">从Oracle Enterprise Cloud Control登录Oracle Database Vault</a>说明了如何登录。</span></li>
                     <li class="stepexpand"><span>查找要删除的规则集的引用。</span><div>
                           <p>在“规则集”页面中，选择规则集，然后单击“ <span class="bold">查看”</span>按钮（但不是“ <span class="bold">视图”</span>菜单）。在“查看规则集”页面中，检查“规则集用法”区域，以获取要删除的规则集的引用。单击<span class="bold">确定</span> 。</p>
                        </div>
                     </li>
                     <li class="stepexpand"><span>在“管理”页面的“数据库存储库组件”下，选择包含对规则集的引用的组件（例如<span class="bold">Realms</span> ）。</span></li>
                     <li class="stepexpand"><span>选择该对象，然后单击“ <span class="bold">编辑”</span> 。</span></li>
                     <li class="stepexpand"><span>单击“ <span class="bold">下一步”，</span>直到到达授权页面。</span></li>
                     <li class="stepexpand"><span>使用规则集选择授权，然后单击“ <span class="bold">编辑”</span> ，然后删除引用的对象。</span></li>
                     <li class="stepexpand"><span>单击<span class="bold">“完成”</span> ，然后单击“ <span class="bold">完成”</span> 。</span></li>
                  </ol>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="configuring-rule-sets.html#GUID-41914FF0-20E0-4878-8124-C6C976C19104" title="规则集将一个或多个规则组合在一起;规则确定用户是否可以对对象执行操作。">配置规则集</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="DVADM70182"></a><div class="props_rev_3"><a id="GUID-24510A4C-39FA-4701-91A2-6E213BD9AE59" name="GUID-24510A4C-39FA-4701-91A2-6E213BD9AE59"></a><h3 id="DVADM-GUID-24510A4C-39FA-4701-91A2-6E213BD9AE59" class="sect3">删除规则集</h3>
               <div>
                  <p>您可以使用Enterprise Manager Cloud Control查找对规则集的引用，然后删除规则集。</p>
                  <ol>
                     <li class="stepexpand"><span>以已授予<code class="codeph">DV_OWNER</code>或<code class="codeph">DV_ADMIN</code>角色和<code class="codeph">SELECT ANY DICTIONARY</code>权限的用户身份从Cloud Control登录Oracle Database Vault Administrator。<a href="getting-started-with-oracle-database-vault.html#GUID-FD5C6859-EF01-49F7-B6D6-4E5ACB7FC0C6" title="Oracle Enterprise Manager云控制（云控制）提供用于管理Oracle Database Vault的页面。">从Oracle Enterprise Cloud Control登录Oracle Database Vault</a>说明了如何登录。</span></li>
                     <li class="stepexpand"><span>删除对规则集的引用。</span></li>
                     <li class="stepexpand"><span>选择要删除的规则集，然后单击“ <span class="bold">删除”</span> 。</span></li>
                     <li class="stepexpand"><span>在“确认”窗口中，单击“ <span class="bold">是”</span> 。</span><div>
                           <p>规则集已删除。（可选）您可以选择在删除规则集之前删除现有的规则关联。</p>
                        </div>
                     </li>
                  </ol>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="configuring-rule-sets.html#GUID-DB38EF41-865C-41D6-89AD-3C9E32084E82" title="在删除规则集之前，应删除对Oracle Database Vault组件的规则集引用。">删除对Oracle Database Vault组件的规则集引用</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="configuring-rule-sets.html#GUID-41914FF0-20E0-4878-8124-C6C976C19104" title="规则集将一个或多个规则组合在一起;规则确定用户是否可以对对象执行操作。">配置规则集</a></p>
                     </div>
                  </div>
               </div>
            </div><a id="DVADM70183"></a><div class="props_rev_3"><a id="GUID-BFA919E1-0941-4246-BCA6-D9BC03B1CCB3" name="GUID-BFA919E1-0941-4246-BCA6-D9BC03B1CCB3"></a><h3 id="DVADM-GUID-BFA919E1-0941-4246-BCA6-D9BC03B1CCB3" class="sect3">规则集如何工作</h3>
               <div>
                  <p>了解规则集的工作原理有助于创建更有效的规则集。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="configuring-rule-sets.html#GUID-5A6D122C-4DB2-4DED-85EC-E8D42657622E">Oracle Database Vault如何评估规则</a><br>Oracle Database Vault将规则集中的规则评估为表达式集合。
                     </li>
                     <li class="ulchildlink"><a href="configuring-rule-sets.html#GUID-C54D769A-258E-4226-9AF2-37DF33A29C50">规则集中的嵌套规则</a><br>您可以在规则集中嵌套一个或多个规则。
                     </li>
                     <li class="ulchildlink"><a href="configuring-rule-sets.html#GUID-D0169640-4949-4726-84AB-3656B20A03BF">创建适用于除一个用户之外的所有人的规则</a><br>您还可以创建规则以应用于<span class="italic">除</span>一个用户（例如，特权用户） <span class="italic">之外的</span>所有人。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="configuring-rule-sets.html#GUID-41914FF0-20E0-4878-8124-C6C976C19104" title="规则集将一个或多个规则组合在一起;规则确定用户是否可以对对象执行操作。">配置规则集</a></p>
                     </div>
                  </div>
               </div>
               <a id="DVADM70184"></a><div class="props_rev_3"><a id="GUID-5A6D122C-4DB2-4DED-85EC-E8D42657622E" name="GUID-5A6D122C-4DB2-4DED-85EC-E8D42657622E"></a><h4 id="DVADM-GUID-5A6D122C-4DB2-4DED-85EC-E8D42657622E" class="sect4">Oracle Database Vault如何评估规则</h4>
                  <div>
                     <p>Oracle Database Vault将规则集中的规则评估为表达式集合。</p>
                     <p>如果已将“ <span class="bold">评估选项”</span>设置为“ <span class="bold">全部”，</span>并且规则评估为“假”，则评估将在此时停止，而不是尝试评估规则集中的其余规则。同样，如果“ <span class="bold">评估选项”</span>设置为“ <span class="bold">任意”，</span>并且规则评估为“真”，则评估将在此时停止。如果禁用规则集，Oracle Database Vault会将其评估为true，而不会评估其规则。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-rule-sets.html#GUID-BFA919E1-0941-4246-BCA6-D9BC03B1CCB3" title="了解规则集的工作原理有助于创建更有效的规则集。">规则集如何工作</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DVADM70186"></a><div class="props_rev_3"><a id="GUID-C54D769A-258E-4226-9AF2-37DF33A29C50" name="GUID-C54D769A-258E-4226-9AF2-37DF33A29C50"></a><h4 id="DVADM-GUID-C54D769A-258E-4226-9AF2-37DF33A29C50" class="sect4">规则集中的嵌套规则</h4>
                  <div>
                     <p>您可以在规则集中嵌套一个或多个规则。</p>
                     <p>例如，假设您要创建嵌套规则，维护期间是企业网络，它执行以下两个任务：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>仅当数据库会话源自公司网络时，它才会限制表修改。</p>
                        </li>
                        <li>
                           <p>它限制了在晚上10点到晚上10:59之间安排的系统维护窗口期间的表修改</p>
                        </li>
                     </ul>
                     <p>规则定义如下：</p><pre class="oac_no_warn" dir="ltr">'22'和'23'之间的DVF.F $ NETWORK ='Corporate'和TO_CHAR（SYSDATE，'HH24'）</pre></div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="oracle-database-vault-factor-apis.html#GUID-364245B9-C339-488A-8D49-B8B01B667857" title="使用DBMS_MACADM PL / SQL程序包管理各种因素时，Oracle Database Vault维护DVF架构功能。">Oracle Database Vault DVF PL / SQL因子函数</a></li>
                           <li><a href="configuring-factors.html#GUID-26DF59FF-D0BF-496A-8D5B-6B2B6AC99822" title="因素使您能够基于客户端IP地址或域等属性建立Database Vault限制。">配置因素</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-rule-sets.html#GUID-BFA919E1-0941-4246-BCA6-D9BC03B1CCB3" title="了解规则集的工作原理有助于创建更有效的规则集。">规则集如何工作</a></p>
                        </div>
                     </div>
                  </div>
               </div><a id="DVADM70187"></a><div class="props_rev_3"><a id="GUID-D0169640-4949-4726-84AB-3656B20A03BF" name="GUID-D0169640-4949-4726-84AB-3656B20A03BF"></a><h4 id="DVADM-GUID-D0169640-4949-4726-84AB-3656B20A03BF" class="sect4">创建适用于除一个用户之外的所有人的规则</h4>
                  <div>
                     <p>您还可以创建规则以应用于<span class="italic">除</span>一个用户（例如，特权用户） <span class="italic">之外的</span>所有人。
                     </p>
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>要创建排除特定用户的规则，请使用<code class="codeph">SYS_CONTEXT</code>函数。
                              </p>
                           </li>
                        </ul>
                        <p>例如：</p><pre class="oac_no_warn" dir="ltr">SYS_CONTEXT（'USERENV'，'SESSION_USER'）='SUPERADMIN_USER'或<span class="italic">additional_rule</span>
</pre><p>如果当前用户是特权用户，则系统会将规则评估为true，而不评估<span class="italic"><code class="codeph">additional_rule</code></span> 。如果当前用户不是特权用户，则规则的评估取决于<span class="italic"><code class="codeph">additional_rule</code></span>的评估。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-rule-sets.html#GUID-BFA919E1-0941-4246-BCA6-D9BC03B1CCB3" title="了解规则集的工作原理有助于创建更有效的规则集。">规则集如何工作</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="DVADM50058"></a><div class="props_rev_3"><a id="GUID-744EC9BB-0804-4F91-BA0F-7D5584EA5B97" name="GUID-744EC9BB-0804-4F91-BA0F-7D5584EA5B97"></a><h3 id="DVADM-GUID-744EC9BB-0804-4F91-BA0F-7D5584EA5B97" class="sect3">教程：为安全违规创建电子邮件警报</h3>
               <div>
                  <p>本教程演示了如何使用<code class="codeph">UTL_MAIL</code> PL / SQL包和访问控制列表来创建安全违规的电子邮件警报。
                  </p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="configuring-rule-sets.html#GUID-D43A729D-6528-46ED-9CB8-55591745C6F8">关于本教程</a><br>在教程中，您将创建一个电子邮件警报，该警报在用户尝试在维护期之外更改表时发送。
                     </li>
                     <li class="ulchildlink"><a href="configuring-rule-sets.html#GUID-16C3DDD7-A749-46FE-BC65-D523C4EBCC63">步骤1：安装和配置UTL_MAIL PL / SQL包</a><br>您必须手动安装的<code class="codeph">UTL_MAIL</code> PL / SQL包具有管理电子邮件通知的过程。
                     </li>
                     <li class="ulchildlink"><a href="configuring-rule-sets.html#GUID-478D9B85-F2FC-47DE-8F35-40E4E5A6D6EC">第2步：创建电子邮件安全警报PL / SQL过程</a><br>用户<code class="codeph">leo_dvowner</code>可以使用<code class="codeph">CREATE PROCEDURE</code>语句来创建电子邮件安全警报。
                     </li>
                     <li class="ulchildlink"><a href="configuring-rule-sets.html#GUID-2E877560-EDF1-4835-9F5C-CDD67201DDB0">步骤3：为网络服务配置访问控制列表文件</a><br>在使用<code class="codeph">UTL_MAIL</code>之前，必须配置访问控制列表（ACL）以启用对外部网络服务的细粒度访问。
                     </li>
                     <li class="ulchildlink"><a href="configuring-rule-sets.html#GUID-FAF67375-E88D-42B2-A107-F940BC3C0616">步骤4：创建规则集和命令规则以使用电子邮件安全警报</a><br>要创建规则集和命令规则，可以使用<code class="codeph">DBMS_MACADM</code> PL / SQL包。
                     </li>
                     <li class="ulchildlink"><a href="configuring-rule-sets.html#GUID-1AEEE3DA-9104-4DA4-836A-C5AE5AC028E8">第5步：测试电子邮件安全警报</a><br>创建警报后，即可进行测试。
                     </li>
                     <li class="ulchildlink"><a href="configuring-rule-sets.html#GUID-ED7B98BF-87DD-4893-9992-FF0319FE9788">第6步：删除本教程的组件</a><br>如果不再需要，可以删除为本教程创建的组件。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="configuring-rule-sets.html#GUID-41914FF0-20E0-4878-8124-C6C976C19104" title="规则集将一个或多个规则组合在一起;规则确定用户是否可以对对象执行操作。">配置规则集</a></p>
                     </div>
                  </div>
               </div>
               <a id="DVADM71115"></a><div class="props_rev_3"><a id="GUID-D43A729D-6528-46ED-9CB8-55591745C6F8" name="GUID-D43A729D-6528-46ED-9CB8-55591745C6F8"></a><h4 id="DVADM-GUID-D43A729D-6528-46ED-9CB8-55591745C6F8" class="sect4">关于本教程</h4>
                  <div>
                     <p>在教程中，您将创建一个电子邮件警报，该警报在用户尝试在维护期之外更改表时发送。</p>
                     <p>为此，您必须创建规则以设置维护周期小时，将此规则附加到规则集，然后创建命令规则以允许用户更改表。然后，将规则集与此命令规则关联，然后当用户尝试在维护期之外使用<code class="codeph">ALTER TABLE</code> SQL语句时，该规则将发送电子邮件警报。
                     </p>
                     <div class="infoboxnote" id="GUID-D43A729D-6528-46ED-9CB8-55591745C6F8__GUID-2D4AE163-0DB8-4315-9BCF-D3BA522BB49E">
                        <p class="notep1">注意：</p>
                        <p>要完成本教程，您必须使用具有SMTP服务器的数据库。</p>
                     </div>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-rule-sets.html#GUID-744EC9BB-0804-4F91-BA0F-7D5584EA5B97" title="本教程演示了如何使用UTL_MAIL PL / SQL包和访问控制列表来创建安全违规的电子邮件警报。">教程：为安全违规创建电子邮件警报</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DVADM70188"></a><div class="props_rev_3"><a id="GUID-16C3DDD7-A749-46FE-BC65-D523C4EBCC63" name="GUID-16C3DDD7-A749-46FE-BC65-D523C4EBCC63"></a><h4 id="DVADM-GUID-16C3DDD7-A749-46FE-BC65-D523C4EBCC63" class="sect4">步骤1：安装和配置UTL_MAIL PL / SQL包</h4>
                  <div>
                     <p>您必须手动安装的<code class="codeph">UTL_MAIL</code> PL / SQL包具有管理电子邮件通知的过程。
                     </p>
                     <ol>
                        <li class="stepexpand"><span>使用<code class="codeph">SYSDBA</code>管理权限以<code class="codeph">SYS</code>身份登录数据库实例。</span><div><pre class="oac_no_warn" dir="ltr">sqlplus sys as sysdba输入密码： <span class="italic">password</span>
</pre></div>
                        </li>
                        <li class="stepexpand"><span>在多租户环境中，连接到相应的可插拔数据库（PDB）。</span><div>
                              <p>例如：</p><pre class="oac_no_warn" dir="ltr">CONNECT SYS @ my_pdb AS SYSDBA输入密码： <span class="italic">密码</span>
</pre><p>要查找可用的PDB，请运行<code class="codeph">show pdbs</code>命令。要检查当前PDB，请运行<code class="codeph">show con_name</code>命令。
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>安装<code class="codeph">UTL_MAIL</code>包。</span><div><pre class="oac_no_warn" dir="ltr">@ $ ORACLE_HOME / rdbms / admin / utlmail.sql @ $ ORACLE_HOME / rdbms / admin / prvtmail.plb</pre><p><code class="codeph">UTL_MAIL</code>包使您可以管理电子邮件。有关<code class="codeph">UTL_MAIL</code>更多信息，请参见<a href="../arpls/UTL_MAIL.html#ARPLS384" target="_blank"><span><cite>Oracle数据库PL / SQL包和类型参考</cite></span></a> 。但是，请注意，目前， <code class="codeph">UTL_MAIL</code> PL / SQL程序包不支持SSL服务器。
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>检查<code class="codeph">SMTP_OUT_SERVER</code>参数的当前值，并记下此值，以便在完成本教程时可以将其还原。</span><div>
                              <p>例如：</p><pre class="oac_no_warn" dir="ltr">SHOW PARAMETER SMTP_OUT_SERVER</pre><p>输出类似于以下内容：</p><pre class="oac_no_warn" dir="ltr">名称类型值----------------------- ----------------- ------- --------------------------- SMTP_OUT_SERVER字符串some_value.example.com</pre></div>
                        </li>
                        <li class="stepexpand"><span>发出以下<code class="codeph">ALTER SYSTEM</code>语句：</span><div><pre class="oac_no_warn" dir="ltr">ALTER SYSTEM SET SMTP_OUT_SERVER =“ <span class="italic">imap_mail_server.example.com</span> ”;</pre><p>将<span class="italic"><code class="codeph">imap_mail_server.example.com</code></span>替换为SMTP服务器的名称，您可以在电子邮件工具的帐户设置中找到该名称。将这些设置括在双引号中。例如：</p><pre class="oac_no_warn" dir="ltr">ALTER SYSTEM SET SMTP_OUT_SERVER =“my_imap_mail_server.example.com”</pre></div>
                        </li>
                        <li class="stepexpand"><span>使用<code class="codeph">SYSOPER</code>权限以<code class="codeph">SYS</code>身份连接，然后重新启动数据库。</span><div><pre class="oac_no_warn" dir="ltr">将SYS作为SYSOPER连接<span class="italic">- 或者，连接SYS @hrpdb AS SYSOPER</span>输入密码： <span class="italic">password</span> SHUTDOWN IMMEDIATE STARTUP</pre></div>
                        </li>
                        <li class="stepexpand"><span>确保<code class="codeph">SMTP_OUT_SERVER</code>参数设置正确。</span><div><pre class="oac_no_warn" dir="ltr">将SYS作为SYSDBA连接<span class="italic">- 或者，连接SYS @hrpdb AS SYSDBA</span>输入密码： <span class="italic">password</span> SHOW PARAMETER SMTP_OUT_SERVER</pre><p>输出类似于以下内容：</p><pre class="oac_no_warn" dir="ltr">名称类型值----------------------- ----------------- ------- --------------------------- SMTP_OUT_SERVER字符串my_imap_mail_server.example.com</pre></div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-rule-sets.html#GUID-744EC9BB-0804-4F91-BA0F-7D5584EA5B97" title="本教程演示了如何使用UTL_MAIL PL / SQL包和访问控制列表来创建安全违规的电子邮件警报。">教程：为安全违规创建电子邮件警报</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DVADM70189"></a><div class="props_rev_3"><a id="GUID-478D9B85-F2FC-47DE-8F35-40E4E5A6D6EC" name="GUID-478D9B85-F2FC-47DE-8F35-40E4E5A6D6EC"></a><h4 id="DVADM-GUID-478D9B85-F2FC-47DE-8F35-40E4E5A6D6EC" class="sect4">第2步：创建电子邮件安全警报PL / SQL过程</h4>
                  <div>
                     <p>用户<code class="codeph">leo_dvowner</code>可以使用<code class="codeph">CREATE PROCEDURE</code>语句来创建电子邮件安全警报。
                     </p>
                     <ol>
                        <li class="stepexpand"><span>确保以具有执行此步骤中描述的授权的权限的用户身份进行连接，然后将这些权限授予已被授予<code class="codeph">DV_OWNER</code>角色的用户。您还应被授权为Oracle System Privilege和Role Management领域的所有者。</span><div>
                              <p>（或者，您可以选择已被授予<code class="codeph">DV_ADMIN</code>角色的用户，但在本教程中，您将选择具有<code class="codeph">DV_OWNER</code>角色的用户。）
                              </p>
                              <p>例如：</p><pre class="oac_no_warn" dir="ltr">CONNECT dba_psmith <span class="italic">- 或者，CONNECT dba_psmith @hrpdb</span>输入密码： <span class="italic">密码</span> GRANT CREATE PROCEDURE，drop任何程序leo_dvowner;授权对UTL_TCP执行leo_dvowner;在UTL_SMTP上执行GRANT EXECUTE到leo_dvowner;在UTL_MAIL上执行授权给leo_dvowner;在DBMS_NETWORK_ACL_ADMIN上执行GRANT EXECUTE到leo_dvowner;</pre><p>您创建的电子邮件安全警报将使用<code class="codeph">UTL_TCP</code> ， <code class="codeph">UTL_SMTP</code> ， <code class="codeph">UTL_MAIL</code>和<code class="codeph">DBMS_NETWORK_ACL_ADMIN</code> PL / SQL包。
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>以<code class="codeph">DV_OWNER</code>用户身份连接到SQL * Plus。</span><div>
                              <p>例如：</p><pre class="oac_no_warn" dir="ltr">CONNECT leo_dvowner <span class="italic">- 或者，CONNECT leo_dvowner @hrpdb</span>输入密码： <span class="italic">密码</span>
</pre></div>
                        </li>
                        <li class="stepexpand"><span>创建以下过程：</span><div><pre class="oac_no_warn" dir="ltr">创建或替换过程email_alert AS msg varchar2（20000）：='ALTER TABLE命令安全策略规则集发生了域违规。现在的时间是： '; BEGIN msg：= msg || to_char（SYSDATE，'Day DD MON，YYYY HH24：MI：SS'）; UTL_MAIL.SEND（sender =&gt;' <span class="italic">youremail@example.com</span> '，recipients =&gt;' <span class="italic">recipientemail@example.com</span> '，subject =&gt;'表修改尝试外部维护！'，message =&gt; msg）; END email_alert; /</pre><p>将<span class="italic"><code class="codeph">youremail@example.com</code></span>替换为您的电子邮件地址，将<span class="italic"><code class="codeph">recipientemail@example.com</code></span>替换为您要接收通知的人的电子邮件地址。
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>将此过程的<code class="codeph">EXECUTE</code>权限授予<code class="codeph">DVSYS</code> 。</span><div><pre class="oac_no_warn" dir="ltr">通过email_alert向DVSYS执行GRANT EXECUTE;</pre></div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-rule-sets.html#GUID-744EC9BB-0804-4F91-BA0F-7D5584EA5B97" title="本教程演示了如何使用UTL_MAIL PL / SQL包和访问控制列表来创建安全违规的电子邮件警报。">教程：为安全违规创建电子邮件警报</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DVADM70190"></a><div class="props_rev_3"><a id="GUID-2E877560-EDF1-4835-9F5C-CDD67201DDB0" name="GUID-2E877560-EDF1-4835-9F5C-CDD67201DDB0"></a><h4 id="DVADM-GUID-2E877560-EDF1-4835-9F5C-CDD67201DDB0" class="sect4">步骤3：为网络服务配置访问控制列表文件</h4>
                  <div>
                     <p>在使用<code class="codeph">UTL_MAIL</code>之前，必须配置访问控制列表（ACL）以启用对外部网络服务的细粒度访问。
                     </p>
                     <div class="section">
                        <p>有关细粒度访问外部网络服务的详细信息，请参阅“ <a href="../dbseg/managing-fine-grained-access-in-pl-sql-packages-and-types.html#DBSEG40012" target="_blank"><span><cite>Oracle数据库安全指南”</cite></span></a> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>作为<code class="codeph">DV_OWNER</code>用户，在SQL * Plus中，配置以下访问控制设置及其权限定义。</span><div><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_NETWORK_ACL_ADMIN.APPEND_HOST_ACE（host =&gt;' <span class="italic">SMTP_OUT_SERVER_setting</span> '，lower_port =&gt; 25，ace =&gt; xs $ ace_type（privilege_list =&gt; xs $ name_list（'smtp'），principal_name =&gt;'LEO_DVOWNER，principal_type =&gt; xs_acl.ptype_db）） ;结束; /</pre><p>在这个例子中：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><span class="italic"><code class="codeph">lower_port</code></span> ：输入电子邮件工具为其传出服务器指定的端口号。通常，此设置为25。为<code class="codeph">lower_port</code>和<code class="codeph">upper_port</code>设置输入此值。（目前， <code class="codeph">UTL_MAIL</code>包不支持SSL。如果您的邮件服务器是SSL服务器，则输入25作为端口号，即使邮件服务器使用不同的端口号。）
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">principal_name</code> ：将<code class="codeph">LEO_DVOWNER</code>替换为<code class="codeph">DV_OWNER</code>用户的名称。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">host</code> ：对于<span class="italic"><code class="codeph">SMTP_OUT_SERVER_setting</code></span> ，输入您在<a href="configuring-rule-sets.html#GUID-16C3DDD7-A749-46FE-BC65-D523C4EBCC63" title="您必须手动安装的UTL_MAIL PL / SQL包具有管理电子邮件通知的过程。">步骤1：安装和配置UTL_MAIL PL / SQL包中</a>为<code class="codeph">SMTP_OUT_SERVER</code>参数设置的<code class="codeph">SMTP_OUT_SERVER</code>设置。此设置应与电子邮件工具为其传出服务器指定的设置完全匹配。
                                    </p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                        <li class="stepexpand"><span>将更改提交到数据库。</span><div><pre class="oac_no_warn" dir="ltr">承诺;</pre></div>
                        </li>
                        <li class="stepexpand"><span>测试到目前为止您创建的设置。</span><div><pre class="oac_no_warn" dir="ltr">EXEC EMAIL_ALERT;承诺;</pre><p>SQL * Plus应显示<code class="codeph">PL/SQL procedure successfully completed</code>消息，稍后，您应该收到电子邮件警报，具体取决于您的电子邮件服务器的速度。
                              </p>
                              <p>如果您收到<code class="codeph">ORA-24247: network access denied by access control list (ACL)</code>错误后跟<code class="codeph">ORA-06512: at</code> <code class="codeph">ORA-24247: network access denied by access control list (ACL)</code> <code class="codeph">ORA-06512: at</code> <span class="italic"><code class="codeph">string</code></span> <code class="codeph">line</code> <span class="italic"><code class="codeph">string</code></span>错误时，请检查访问控制列表文件中的设置。
                              </p>
                           </div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-rule-sets.html#GUID-744EC9BB-0804-4F91-BA0F-7D5584EA5B97" title="本教程演示了如何使用UTL_MAIL PL / SQL包和访问控制列表来创建安全违规的电子邮件警报。">教程：为安全违规创建电子邮件警报</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DVADM70191"></a><div class="props_rev_3"><a id="GUID-FAF67375-E88D-42B2-A107-F940BC3C0616" name="GUID-FAF67375-E88D-42B2-A107-F940BC3C0616"></a><h4 id="DVADM-GUID-FAF67375-E88D-42B2-A107-F940BC3C0616" class="sect4">步骤4：创建规则集和命令规则以使用电子邮件安全警报</h4>
                  <div>
                     <p>要创建规则集和命令规则，可以使用<code class="codeph">DBMS_MACADM</code> PL / SQL包。
                     </p>
                     <ol>
                        <li class="stepexpand"><span>作为<code class="codeph">DV_OWNER</code>用户，创建以下规则集：</span><div><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_MACADM.CREATE_RULE_SET（rule_set_name =&gt;'ALTER TABLE命令安全策略'，description =&gt;'此规则集仅在维护期间允许ALTER TABLE。'，enabled =&gt; DBMS_MACUTL.G_YES，eval_options =&gt; DBMS_MACUTL.G_RULESET_EVAL_ALL，audit_options =&gt; DBMS_MACUTL.G_RULESET_AUDIT_FAIL，fail_options =&gt; DBMS_MACUTL.G_RULESET_FAIL_SILENT，fail_message =&gt;''，fail_code =&gt; NULL，handler_options =&gt; DBMS_MACUTL.G_RULESET_HANDLER_FAIL，handler = &gt;'leo_dvowner.email_alert'）;结束; /</pre></div>
                        </li>
                        <li class="stepexpand"><span>创建类似于以下的规则。</span><div>
                              <p>现在，将规则表达式设置为在测试期间。例如，如果要在下午2点到下午3点之间进行测试，请按如下方式创建规则：</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_MACADM.CREATE_RULE（rule_name =&gt;'限制对维护期的访问'，rule_expr =&gt;'TO_CHAR（SYSDATE，''HH24''）在''14'和''15''之间）;结束; /</pre><p>确保您使用两个单引号代替双引号为<code class="codeph">HH24</code> ， <code class="codeph">14</code>和<code class="codeph">15</code> 。
                              </p>
                              <p>您可以通过发出以下SQL语句来检查计算机上的系统时间：</p><pre class="oac_no_warn" dir="ltr">SELECT TO_CHAR（SYSDATE，'HH24'）FROM DUAL;</pre><p>输出类似于以下内容：</p><pre class="oac_no_warn" dir="ltr">到 -  14</pre><p>稍后，当您对规则有效时，您可以将其更新到您的站点通常执行维护工作的时间（例如，晚上7点到晚上10点之间），如下所示：</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_MACADM.UPDATE_RULE（rule_name =&gt;'限制对维护期的访问'，rule_expr =&gt;'TO_CHAR（SYSDATE，''HH24''）在''16'和''22''之间）;结束; /</pre></div>
                        </li>
                        <li class="stepexpand"><span>将限制访问维护期限规则添加到ALTER TABLE命令安全策略规则集。</span><div><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_MACADM.ADD_RULE_TO_RULE_SET（rule_set_name =&gt;'ALTER TABLE命令安全策略'，rule_name =&gt;'限制对维护期的访问'）;结束; /</pre></div>
                        </li>
                        <li class="stepexpand"><span>创建以下命令规则：</span><div><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_MACADM.CREATE_COMMAND_RULE（command =&gt;'ALTER TABLE'，rule_set_name =&gt;'ALTER TABLE命令安全策略'，object_owner =&gt;'SCOTT'，object_name =&gt;'％'，enabled =&gt; DBMS_MACUTL.G_YES）;结束; /</pre></div>
                        </li>
                        <li class="stepexpand"><span>将这些更新提交到数据库。</span><div><pre class="oac_no_warn" dir="ltr">承诺;</pre></div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-rule-sets.html#GUID-744EC9BB-0804-4F91-BA0F-7D5584EA5B97" title="本教程演示了如何使用UTL_MAIL PL / SQL包和访问控制列表来创建安全违规的电子邮件警报。">教程：为安全违规创建电子邮件警报</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DVADM70192"></a><div class="props_rev_3"><a id="GUID-1AEEE3DA-9104-4DA4-836A-C5AE5AC028E8" name="GUID-1AEEE3DA-9104-4DA4-836A-C5AE5AC028E8"></a><h4 id="DVADM-GUID-1AEEE3DA-9104-4DA4-836A-C5AE5AC028E8" class="sect4">第5步：测试电子邮件安全警报</h4>
                  <div>
                     <p>创建警报后，即可进行测试。</p>
                     <ol>
                        <li class="stepexpand"><span>以<code class="codeph">SCOTT</code>用户身份连接到SQL * Plus。</span><div>
                              <p>例如：</p><pre class="oac_no_warn" dir="ltr">CONNECT SCOTT <span class="italic">- 或者，连接SCOTT @ hrpdb</span>输入密码： <span class="italic">密码</span>
</pre><p>如果<code class="codeph">SCOTT</code>帐户已锁定且已过期，则具有<code class="codeph">DV_ACCTMGR</code>角色的用户可以解锁此帐户并创建新密码，如下所示：</p><pre class="oac_no_warn" dir="ltr">更改用户SCOTT帐户解锁<span class="italic">密码</span>识别;</pre><p>请遵循“ <a href="../dbseg/configuring-authentication.html#DBSEG33223" target="_blank"><span><cite>Oracle数据库安全指南”中</cite></span></a>的准则，将<span class="italic"><code class="codeph">password</code></span>替换为安全的密码。
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>作为用户<code class="codeph">SCOTT</code> ，创建一个测试表。</span><div><pre class="oac_no_warn" dir="ltr">CREATE TABLE mytest（col1号码）;</pre></div>
                        </li>
                        <li class="stepexpand"><span>将计算机上的系统时间更改为发生ALTER TABLE命令安全策略规则集的时间。</span><div>
                              <p>例如，如果将测试时间设置为下午2点到下午3点之间，请执行以下操作：</p>
                              <p><span class="bold">UNIX：</span>以root身份登录并使用<code class="codeph">date</code>命令设置时间。例如，假设今天的日期是2012年8月15日，您将输入以下内容：</p><pre class="oac_no_warn" dir="ltr">$ su root密码： <span class="italic">密码</span> $ date -s“08/15/2012 14:48:00”</pre><p><span class="bold">Windows：</span>双击时钟图标，该图标通常位于屏幕的右下角。在“日期和时间属性”窗口中，将时间设置为下午2点，然后单击“ <span class="bold">确定”</span> 。</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>尝试更改<code class="codeph">my_test</code>表。</span><div><pre class="oac_no_warn" dir="ltr">ALTER TABLE mytest ADD（col2 number）;表改变了。
</pre><p><code class="codeph">SCOTT</code>应该能够在此期间更改<code class="codeph">mytest</code>表。
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>将系统时间重置为限制访问维护期间之外的时间。</span></li>
                        <li class="stepexpand"><span>以<code class="codeph">SCOTT</code>身份登录并尝试再次更改<code class="codeph">my_test</code>表。</span><div><pre class="oac_no_warn" dir="ltr">CONNECT SCOTT <span class="italic">- 或者，连接SCOTT @ hrpdb</span>输入密码： <span class="italic">password</span> ALTER TABLE mytest ADD（col3 number）;</pre><p>应出现以下输出：</p><pre class="oac_no_warn" dir="ltr">ORA-47400：SCOTT.MYTEST上ALTER TABLE的命令规则违规</pre><p><code class="codeph">SCOTT</code>无法改变<code class="codeph">mytest</code>表。片刻之后，您应该收到一封主题标题的电子邮件<code class="codeph">Table modification attempted outside maintenance!</code> 并使用类似于以下内容的消息：</p><pre class="oac_no_warn" dir="ltr">ALTER TABLE命令安全策略规则集发生了域违规。时间是：2012年8月15日星期三14:24:25</pre></div>
                        </li>
                        <li class="stepexpand"><span>将系统时间重置为正确的时间。</span></li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-rule-sets.html#GUID-744EC9BB-0804-4F91-BA0F-7D5584EA5B97" title="本教程演示了如何使用UTL_MAIL PL / SQL包和访问控制列表来创建安全违规的电子邮件警报。">教程：为安全违规创建电子邮件警报</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DVADM70193"></a><div class="props_rev_3"><a id="GUID-ED7B98BF-87DD-4893-9992-FF0319FE9788" name="GUID-ED7B98BF-87DD-4893-9992-FF0319FE9788"></a><h4 id="DVADM-GUID-ED7B98BF-87DD-4893-9992-FF0319FE9788" class="sect4">第6步：删除本教程的组件</h4>
                  <div>
                     <p>如果不再需要，可以删除为本教程创建的组件。</p>
                     <ol>
                        <li class="stepexpand"><span>以<code class="codeph">DV_OWNER</code>用户身份连接到SQL * Plus。</span><div><pre class="oac_no_warn" dir="ltr">CONNECT leo_dvowner <span class="italic">- 或者，CONNECT leo_dvowner @hrpdb</span>输入密码： <span class="italic">密码</span>
</pre></div>
                        </li>
                        <li class="stepexpand"><span>按所示顺序，删除Oracle Database Vault规则组件。</span><div><pre class="oac_no_warn" dir="ltr">EXEC DBMS_MACADM.DELETE_RULE_FROM_RULE_SET（'ALTER TABLE命令安全策略'，'限制对维护期的访问'）; EXEC DBMS_MACADM.DELETE_RULE（'限制访问维护期'）; EXEC DBMS_MACADM.DELETE_COMMAND_RULE（'ALTER TABLE'，'SCOTT'，'％'）; EXEC DBMS_MACADM.DELETE_RULE_SET（'ALTER TABLE命令安全策略'）;</pre></div>
                        </li>
                        <li class="stepexpand"><span>删除<code class="codeph">email_alert</code> PL / SQL过程。</span><div><pre class="oac_no_warn" dir="ltr">DROP PROCEDURE email_alert;</pre></div>
                        </li>
                        <li class="stepexpand"><span>以<code class="codeph">SCOTT</code>用户身份连接并删除<code class="codeph">mytest</code>表。</span><div><pre class="oac_no_warn" dir="ltr">CONNECT SCOTT <span class="italic">- 或者，连接SCOTT @ hrpdb</span>输入密码： <span class="italic">password</span> DROP TABLE mytest;</pre></div>
                        </li>
                        <li class="stepexpand"><span>以具有撤消其他用户权限的权限的用户身份进行连接。</span><div>
                              <p>例如：</p><pre class="oac_no_warn" dir="ltr">CONNECT dba_psmith <span class="italic">- 或者，CONNECT dba_psmith @hrpdb</span>输入密码： <span class="italic">password</span>
</pre></div>
                        </li>
                        <li class="stepexpand"><span>撤消<code class="codeph">DV_OWNER</code>用户对<code class="codeph">UTL_TCP</code> ， <code class="codeph">UTL_SMTP</code>和<code class="codeph">UTL_MAIL</code> PL / SQL程序包的<code class="codeph">EXECUTE</code>特权。</span><div>
                              <p>例如：</p><pre class="oac_no_warn" dir="ltr">从leo_dvowner开始在UTL_TCP上执行EXVOKE;在leo_dvowner的UTL_SMTP上执行REVOKE EXECUTE;从leo_dvowner开始在UTL_MAIL上执行EXVOKE;从leo_dvowner开始在DBMS_NETWORK_ACL_ADMIN上执行EXVOKE EXECUTE;</pre></div>
                        </li>
                        <li class="stepexpand"><span>将<code class="codeph">SMTP_OUT_SERVER</code>参数设置为其原始值。</span><div>
                              <p>例如：</p><pre class="oac_no_warn" dir="ltr">ALTER SYSTEM SET SMTP_OUT_SERVER =“some_value.example.com”;</pre></div>
                        </li>
                        <li class="stepexpand"><span>以<code class="codeph">SYS</code>身份连接<code class="codeph">SYSOPER</code>管理权限，然后重新启动数据库。</span><div><pre class="oac_no_warn" dir="ltr">将SYS作为SYSOPER连接<span class="italic">- 或者，连接SYS @hrpdb AS SYSOPER</span>输入密码： <span class="italic">password</span> SHUTDOWN IMMEDIATE STARTUP</pre></div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-rule-sets.html#GUID-744EC9BB-0804-4F91-BA0F-7D5584EA5B97" title="本教程演示了如何使用UTL_MAIL PL / SQL包和访问控制列表来创建安全违规的电子邮件警报。">教程：为安全违规创建电子邮件警报</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="DVADM70194"></a><div class="props_rev_3"><a id="GUID-D9AA1CCC-065C-4DFE-A078-908123401816" name="GUID-D9AA1CCC-065C-4DFE-A078-908123401816"></a><h3 id="DVADM-GUID-D9AA1CCC-065C-4DFE-A078-908123401816" class="sect3">教程：配置双人完整性或双密钥安全性</h3>
               <div>
                  <p>本教程演示了如何使用Oracle Database Vault来控制两个用户的授权。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="configuring-rule-sets.html#GUID-F84E9514-A74D-4354-AE2B-F9AEDBD77C36">关于本教程</a><br>在本教程中，您将配置定义双人完整性（TPI）的规则集。
                     </li>
                     <li class="ulchildlink"><a href="configuring-rule-sets.html#GUID-5EDF2BCE-C39C-4EF9-BF22-4814F22AA7E6">第1步：为本教程创建用户</a><br>您必须为本教程创建两个用户， <code class="codeph">patch_boss</code>和<code class="codeph">patch_user.</code></li>
                     <li class="ulchildlink"><a href="configuring-rule-sets.html#GUID-572E823B-9551-4B15-BA7F-32E468E7D3ED">步骤2：创建一个函数来检查用户patch_boss是否已登录</a><br>数据库保管库设置的行为将由该功能确定。
                     </li>
                     <li class="ulchildlink"><a href="configuring-rule-sets.html#GUID-312BAFD1-5704-430E-A6CE-311E47D4F042">步骤3：创建规则，规则集和命令规则以控制用户访问</a><br>接下来，您必须创建两个规则，一个将要添加它们的规则集以及一个命令规则。
                     </li>
                     <li class="ulchildlink"><a href="configuring-rule-sets.html#GUID-B09ABAAA-AE06-458B-8FF2-A41A99ED672D">第4步：测试用户的访问权限</a><br>规则创建后，即可进行测试。
                     </li>
                     <li class="ulchildlink"><a href="configuring-rule-sets.html#GUID-200A09DC-119E-40B1-B42B-2176ED117772">第5步：删除本教程的组件</a><br>如果不再需要，可以删除为本教程创建的组件。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="configuring-rule-sets.html#GUID-41914FF0-20E0-4878-8124-C6C976C19104" title="规则集将一个或多个规则组合在一起;规则确定用户是否可以对对象执行操作。">配置规则集</a></p>
                     </div>
                  </div>
               </div>
               <a id="DVADM71116"></a><div class="props_rev_3"><a id="GUID-F84E9514-A74D-4354-AE2B-F9AEDBD77C36" name="GUID-F84E9514-A74D-4354-AE2B-F9AEDBD77C36"></a><h4 id="DVADM-GUID-F84E9514-A74D-4354-AE2B-F9AEDBD77C36" class="sect4">关于本教程</h4>
                  <div>
                     <p>在本教程中，您将配置定义双人完整性（TPI）的规则集。</p>
                     <p>此功能也称为双密钥安全性，双密钥连接和双人规则安全性。在这种类型的安全性中，需要两个用户授权操作而不是一个用户。</p>
                     <p>这个想法是一个用户在该用户可以继续执行任务之前为其他用户提供安全检查。双人完整性为可能存在危险的操作提供了额外的安全保护。此类场景通常用于数据库补丁更新等任务，本教程将演示此内容。一个用户， <code class="codeph">patch_user</code>必须登录才能执行数据库补丁升级，但他能做到这一点的唯一方法就是他的经理<code class="codeph">patch_boss</code>已经登录了。您将创建一个函数，规则，规则集和命令规则来控制<code class="codeph">patch_user</code>的登录能力。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-rule-sets.html#GUID-D9AA1CCC-065C-4DFE-A078-908123401816" title="本教程演示了如何使用Oracle Database Vault来控制两个用户的授权。">教程：配置双人完整性或双密钥安全性</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DVADM70195"></a><div class="props_rev_3"><a id="GUID-5EDF2BCE-C39C-4EF9-BF22-4814F22AA7E6" name="GUID-5EDF2BCE-C39C-4EF9-BF22-4814F22AA7E6"></a><h4 id="DVADM-GUID-5EDF2BCE-C39C-4EF9-BF22-4814F22AA7E6" class="sect4">第1步：为本教程创建用户</h4>
                  <div>
                     <p>您必须为本教程创建两个用户， <code class="codeph">patch_boss</code>和<code class="codeph">patch_user.</code></p>
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">patch_boss</code>作用于监督角色：如果<code class="codeph">patch_boss</code> ，则<code class="codeph">patch_user</code>用户无法登录。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">patch_user</code>是分配用于执行修补程序升级的用户。但是，对于本教程，用户<code class="codeph">patch_user</code>实际上不会执行修补程序升级。他只是尝试登录。
                              </p>
                           </li>
                        </ul>
                        <p>要创建用户：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>以已被授予<code class="codeph">DV_ACCTMGR</code>角色的用户身份登录数据库实例。</span><div>
                              <p>例如：</p><pre class="oac_no_warn" dir="ltr">sqlplus bea_dvacctmgr输入密码： <span class="italic">密码</span>
</pre><p>在多租户环境中，您必须登录到相应的可插拔数据库（PDB）。例如：</p><pre class="oac_no_warn" dir="ltr">sqlplus bea_dvacctmgr @hrpdb输入密码： <span class="italic">密码</span>
</pre><p>要查找可用的PDB，请查询<code class="codeph">DBA_PDBS</code>数据字典视图。要检查当前PDB，请运行<code class="codeph">show con_name</code>命令。
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>创建以下用户并授予他们<code class="codeph">CREATE SESSION</code>权限。</span><div><pre class="oac_no_warn" dir="ltr">GRANT创建会话到patch_boss IDENTIFIED BY <span class="italic">密码</span> ; GRANT创建会话到patch_user IDENTIFIED BY <span class="italic">密码</span> ;</pre><p>请遵循“ <a href="../dbseg/configuring-authentication.html#DBSEG33223" target="_blank"><span><cite>Oracle数据库安全指南”中</cite></span></a>的准则，将<span class="italic"><code class="codeph">password</code></span>替换为安全的密码。
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>以<code class="codeph">SYS</code>用户身份连接<code class="codeph">SYSDBA</code>管理权限。</span><div><pre class="oac_no_warn" dir="ltr">将SYS作为SYSDBA连接<span class="italic">- 或者，连接SYS @hrpdb</span> AS SYSDBA输入密码： <span class="italic">password</span>
</pre></div>
                        </li>
                        <li class="stepexpand"><span>将以下权限授予<code class="codeph">DV_OWNER</code>或<code class="codeph">DV_ADMIN</code>用户。</span><div>
                              <p>例如：</p><pre class="oac_no_warn" dir="ltr">授予leo_dvowner创建程序;在V_ $ SESSION上选择授予leo_dvowner;</pre><p><code class="codeph">V_$SESSION</code>表是<code class="codeph">V$SESSION</code>动态视图的基础表。
                              </p>
                           </div>
                        </li>
                     </ol>
                     <div class="section">
                        <p>在实际场景中，您还将以<code class="codeph">DV_OWNER</code>用户身份登录，并将<code class="codeph">DV_PATCH_ADMIN</code>角色授予用户<code class="codeph">patch_user</code> （但不授予<code class="codeph">patch_boss</code> ）。但是，由于您不打算在本教程中执行数据库补丁升级，因此您无需将此角色授予用户<code class="codeph">patch_user</code> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-rule-sets.html#GUID-D9AA1CCC-065C-4DFE-A078-908123401816" title="本教程演示了如何使用Oracle Database Vault来控制两个用户的授权。">教程：配置双人完整性或双密钥安全性</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DVADM70196"></a><div class="props_rev_3"><a id="GUID-572E823B-9551-4B15-BA7F-32E468E7D3ED" name="GUID-572E823B-9551-4B15-BA7F-32E468E7D3ED"></a><h4 id="DVADM-GUID-572E823B-9551-4B15-BA7F-32E468E7D3ED" class="sect4">步骤2：创建一个函数来检查用户patch_boss是否已登录</h4>
                  <div>
                     <p>数据库保管库设置的行为将由该功能确定。</p>
                     <div class="section">您必须创建的函数<code class="codeph">check_boss_logged_in</code>就是这样：当用户<code class="codeph">patch_user</code>尝试登录数据库实例时，它会通过查询<code class="codeph">V$SESSION</code>数据字典视图来检查用户<code class="codeph">patch_boss</code>是否已经登录。
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>以已被授予<code class="codeph">DV_OWNER</code>或<code class="codeph">DV_ADMIN</code>角色的用户身份进行连接。</span><div>
                              <p>例如：</p><pre class="oac_no_warn" dir="ltr">CONNECT leo_dvowner <span class="italic">- 或者，CONNECT leo_dvowner @hrpdb</span>输入密码： <span class="italic">密码</span>
</pre></div>
                        </li>
                        <li class="stepexpand"><span>创建<code class="codeph">check_boss_logged_in</code>函数，如下所示：</span><div><pre class="oac_no_warn" dir="ltr">创建或替换函数check_boss_logged_in将varchar2 authid definer返回为v_session_number number：= 0; v_allow varchar2（10）：='TRUE'; v_deny varchar2（10）：='FALSE'; BEGIN SELECT COUNT（*）INTO v_session_number FROM SYS.V_ $ SESSION WHERE USERNAME ='PATCH_BOSS'; - 以大写字母输入用户名。如果v_session_number&gt; 0那么返回v_allow; ELSE RETURN v_deny;万一; END check_boss_logged_in; /</pre></div>
                        </li>
                        <li class="stepexpand"><span>将<code class="codeph">check_boss_logged_in</code>函数的<code class="codeph">EXECUTE</code>特权授予<code class="codeph">DVSYS</code>模式。</span><div><pre class="oac_no_warn" dir="ltr">在check_boss_logged_in上执行GRANT EXECUTE到DVSYS;</pre></div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-rule-sets.html#GUID-D9AA1CCC-065C-4DFE-A078-908123401816" title="本教程演示了如何使用Oracle Database Vault来控制两个用户的授权。">教程：配置双人完整性或双密钥安全性</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DVADM70197"></a><div class="props_rev_3"><a id="GUID-312BAFD1-5704-430E-A6CE-311E47D4F042" name="GUID-312BAFD1-5704-430E-A6CE-311E47D4F042"></a><h4 id="DVADM-GUID-312BAFD1-5704-430E-A6CE-311E47D4F042" class="sect4">步骤3：创建规则，规则集和命令规则以控制用户访问</h4>
                  <div>
                     <p>接下来，您必须创建两个规则，一个将要添加它们的规则集以及一个命令规则。</p>
                     <div class="section">当用户<code class="codeph">patch_user</code>尝试登录数据库时，规则<code class="codeph">check_boss_logged_in</code>触发<code class="codeph">check_boss_logged_in</code>函数。
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>以已被授予<code class="codeph">DV_OWNER</code>或<code class="codeph">DV_ADMIN</code>角色的用户身份进行连接。</span><div>
                              <p>例如：</p><pre class="oac_no_warn" dir="ltr">CONNECT leo_dvowner <span class="italic">- 或者，CONNECT leo_dvowner @hrpdb</span>输入密码： <span class="italic">密码</span>
</pre></div>
                        </li>
                        <li class="stepexpand"><span>创建检查Boss是否已登录的规则，该规则检查<code class="codeph">patch_user</code>用户是否已登录到数据库。在定义中，将<code class="codeph">leo_dvowner</code>替换为创建<code class="codeph">check_boss_logged_in</code>函数的<code class="codeph">DVOWNER</code>或<code class="codeph">DV_ADMIN</code>用户的名称。</span><div>
                              <p>如果<code class="codeph">check_boss_logged_in</code>函数返回<code class="codeph">TRUE</code> （即， <code class="codeph">patch_boss</code>登录到另一个会话），则<code class="codeph">patch_user</code>可以登录。
                              </p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_MACADM.CREATE_RULE（rule_name =&gt;'检查Boss是否已登录'，rule_expr =&gt;'SYS_CONTEXT（''USERENV''，''SESSION_USER''）='''PATCH_USER''和leo_dvowner.check_boss_logged_in =''TRUE' ''）;结束; /</pre><p>以大写字母输入用户名<code class="codeph">PATCH_USER</code> ，这是<code class="codeph">SESSION_USER</code>参数存储它的方式。
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>创建“允许其他数据库用户连接”规则，以确保登录的用户（ <code class="codeph">patch_user</code> ）不是用户<code class="codeph">patch_boss</code> 。它还允许所有其他有效用户登录。</span><div><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_MACADM.CREATE_RULE（rule_name =&gt;'允许连接其他数据库用户'，rule_expr =&gt;'SYS_CONTEXT（''USERENV''，''SESSION_USER''）！=''PATCH_USER'''）;结束; / COMMIT;</pre></div>
                        </li>
                        <li class="stepexpand"><span>为Boss和Patch规则集创建Dual Connect，然后将两个规则添加到其中。</span><div><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_MACADM.CREATE_RULE_SET（rule_set_name =&gt;'Boss and Patch的双重连接'，description =&gt;'检查boss和补丁用户是否都已登录。'，enabled =&gt; DBMS_MACUTL.G_YES，eval_options =&gt; 2，audit_options =&gt; DBMS_MACUTL.G_RULESET_AUDIT_FAIL，fail_options =&gt; DBMS_MACUTL.G_RULESET_FAIL_SILENT，fail_message =&gt;''，fail_code =&gt; NULL，handler_options =&gt; DBMS_MACUTL.G_RULESET_HANDLER_OFF，handler =&gt;' '）;结束; / BEGIN DBMS_MACADM.ADD_RULE_TO_RULE_SET（rule_set_name =&gt;'用于老板和补丁的双重连接'，rule_name =&gt;'检查Boss是否已登录'）;结束; / BEGIN DBMS_MACADM.ADD_RULE_TO_RULE_SET（rule_set_name =&gt;'Boss and Patch的双重连接'，rule_name =&gt;'允许连接其他数据库用户'）;结束; /</pre></div>
                        </li>
                        <li class="stepexpand"><span>创建以下CONNECT命令规则，该规则允许用户<code class="codeph">patch_user</code>仅在已登录<code class="codeph">patch_boss</code>时才连接到数据库。</span><div><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_MACADM.CREATE_COMMAND_RULE（command =&gt;'CONNECT'，rule_set_name =&gt;'Boss and Patch的双重连接'，object_owner =&gt;'％'，object_name =&gt;'％'，enabled =&gt; DBMS_MACUTL.G_YES）;结束; / COMMIT;</pre></div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-rule-sets.html#GUID-D9AA1CCC-065C-4DFE-A078-908123401816" title="本教程演示了如何使用Oracle Database Vault来控制两个用户的授权。">教程：配置双人完整性或双密钥安全性</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DVADM70198"></a><div class="props_rev_3"><a id="GUID-B09ABAAA-AE06-458B-8FF2-A41A99ED672D" name="GUID-B09ABAAA-AE06-458B-8FF2-A41A99ED672D"></a><h4 id="DVADM-GUID-B09ABAAA-AE06-458B-8FF2-A41A99ED672D" class="sect4">第4步：测试用户的访问权限</h4>
                  <div>
                     <p>规则创建后，即可进行测试。</p>
                     <ol>
                        <li class="stepexpand"><span>退出SQL * Plus。</span><div><pre class="oac_no_warn" dir="ltr">出口</pre></div>
                        </li>
                        <li class="stepexpand"><span>创建第二个shell，例如：</span><div><pre class="oac_no_warn" dir="ltr">xterm＆</pre></div>
                        </li>
                        <li class="stepexpand"><span>在第一个shell中，尝试以用户<code class="codeph">patch_user</code>身份登录。</span><div><pre class="oac_no_warn" dir="ltr">sqlplus patch_user <span class="italic">- 或者，sqlplus patch_user @hrpdb</span>输入密码： <span class="italic">password</span> ERROR：ORA-47400：LOGON上CONNECT的命令规则违规输入用户名：</pre><p>用户<code class="codeph">patch_user</code>直到用户无法登录<code class="codeph">patch_boss</code>已经登录。（不要尝试<code class="codeph">Enter user-name</code>提示。）
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>在第二个shell中，然后以用户<code class="codeph">patch_boss</code>登录。</span><div><pre class="oac_no_warn" dir="ltr">sqlplus patch_boss <span class="italic">- 或者，sqlplus patch_boss @hrpdb</span>输入密码： <span class="italic">密码</span>已连接。
</pre><p>用户<code class="codeph">patch_boss</code>可以登录。
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>返回第一个shell，然后再次尝试以用户<code class="codeph">patch_user</code>登录。</span><div><pre class="oac_no_warn" dir="ltr">输入user_name：patch_user输入密码： <span class="italic">password</span>
</pre><p>这次，用户<code class="codeph">patch_user</code>被认为是有效用户，所以现在他可以登录。
                              </p>
                           </div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-rule-sets.html#GUID-D9AA1CCC-065C-4DFE-A078-908123401816" title="本教程演示了如何使用Oracle Database Vault来控制两个用户的授权。">教程：配置双人完整性或双密钥安全性</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DVADM70199"></a><div class="props_rev_3"><a id="GUID-200A09DC-119E-40B1-B42B-2176ED117772" name="GUID-200A09DC-119E-40B1-B42B-2176ED117772"></a><h4 id="DVADM-GUID-200A09DC-119E-40B1-B42B-2176ED117772" class="sect4">第5步：删除本教程的组件</h4>
                  <div>
                     <p>如果不再需要，可以删除为本教程创建的组件。</p>
                     <ol>
                        <li class="stepexpand"><span>在用户<code class="codeph">patch_boss</code>的会话中，退出SQL * Plus，然后关闭shell。</span><div><pre class="oac_no_warn" dir="ltr">出口</pre></div>
                        </li>
                        <li class="stepexpand"><span>在第一个shell中，连接<code class="codeph">DV_ACCTMGR</code>用户并删除您创建的用户。</span><div><pre class="oac_no_warn" dir="ltr">CONNECT bea_dvacctmgr <span class="italic">- 或者，CONNECT bea_dvacctmgr @hrpdb</span>输入密码： <span class="italic">password</span> DROP USER patch_boss; DROP USER patch_user;</pre></div>
                        </li>
                        <li class="stepexpand"><span>以具有<code class="codeph">SYSDBA</code>管理权限的用户<code class="codeph">SYS</code>身份进行连接，并撤消已授予<code class="codeph">DV_OWNER</code>或<code class="codeph">DV_ADMIN</code>用户的权限。</span><div><pre class="oac_no_warn" dir="ltr">将SYS作为SYSDBA连接<span class="italic">- 或者，连接SYS @hrpdb</span> AS SYSDBA输入密码： <span class="italic">密码</span> REVOKE从leo_dvowner创建程序;从leo_dvowner开始在V_ $ SESSION上进行REVOKE SELECT;</pre></div>
                        </li>
                        <li class="stepexpand"><span>以<code class="codeph">DV_OWNER</code>或<code class="codeph">DV_ADMIN</code>用户身份连接， <code class="codeph">DV_OWNER</code> <code class="codeph">DV_ADMIN</code>删除规则，规则集和命令规则。</span><div><pre class="oac_no_warn" dir="ltr">CONNECT leo_dvowner <span class="italic">- 或者，CONNECT leo_dvowner @hrpdb</span>输入密码： <span class="italic">password</span> DROP FUNCTION check_boss_logged_in; EXEC DBMS_MACADM.DELETE_COMMAND_RULE（'CONNECT'，'％'，'％'）; EXEC DBMS_MACADM.DELETE_RULE_FROM_RULE_SET（'用于老板和补丁的双重连接'，'检查Boss是否已登录'）; EXEC DBMS_MACADM.DELETE_RULE_FROM_RULE_SET（'用于老板和补丁的双连接'，'允许连接其他数据库用户'）; EXEC DBMS_MACADM.DELETE_RULE（'检查Boss是否已登录'）; EXEC DBMS_MACADM.DELETE_RULE（'允许连接其他数据库用户'）; EXEC DBMS_MACADM.DELETE_RULE_SET（'Boss and Patch的双重连接'）;承诺;</pre></div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-rule-sets.html#GUID-D9AA1CCC-065C-4DFE-A078-908123401816" title="本教程演示了如何使用Oracle Database Vault来控制两个用户的授权。">教程：配置双人完整性或双密钥安全性</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="DVADM70200"></a><div class="props_rev_3"><a id="GUID-F99FE15B-869E-44CC-A6C4-CC9BACD6BE34" name="GUID-F99FE15B-869E-44CC-A6C4-CC9BACD6BE34"></a><h3 id="DVADM-GUID-F99FE15B-869E-44CC-A6C4-CC9BACD6BE34" class="sect3">设计规则集的指南</h3>
               <div>
                  <p>Oracle提供了设计规则集的指南。</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>您可以在多个规则集之间共享规则。这使您可以开发可重用规则表达式库。Oracle建议您将此类规则设计为离散的单用途表达式。</p>
                     </li>
                     <li>
                        <p>您可以设计规则集，使其评估为静态，即在用户会话期间仅评估一次。或者，可以在每次访问规则集时对其进行评估。如果仅对规则集计算一次，则每次访问规则集时，将在整个用户会话中重用评估值。在必须多次访问规则集但在该会话期间规则集所依赖的条件不会更改的情况下，使用静态评估非常有用。一个示例是当同一<code class="codeph">SELECT</code>语句多次出现时与规则集关联的SELECT命令规则，并且如果评估值可以再次使用，而不是每次<code class="codeph">SELECT</code>发生时都评估规则集。
                        </p>
                        <p>要控制规则集的静态评估，请设置<code class="codeph">DBMS_MACADM</code> PL / SQL包的<code class="codeph">CREATE_RULE_SET</code>或<code class="codeph">UPDATE_RULE_SET</code>过程的<code class="codeph">is_static</code>参数。有关更多信息，请参阅<a href="oracle-database-vault-rule-set-apis.html#GUID-1B24D370-46E3-445E-91CC-8E621F5E94CB" title="通过DBMS_MACADM规则集过程，您可以配置这些规则集中的规则集和单个规则。">DBMS_MACADM规则集过程</a> 。
                        </p>
                     </li>
                     <li>
                        <p>在规则表达式中使用Oracle Database Vault因子可以提供可重用性并信任规则表达式使用的值。因素可以提供在规则表达式中使用的上下文信息。</p>
                     </li>
                     <li>
                        <p>您可以使用自定义事件处理程序来扩展Oracle Database Vault安全策略，以集成外部系统以进行错误处理或警报。使用Oracle实用程序包（如<code class="codeph">UTL_TCP</code> ， <code class="codeph">UTL_HTTP</code> ， <code class="codeph">UTL_MAIL</code> ， <code class="codeph">UTL_SMTP</code>或<code class="codeph">DBMS_AQ</code>可以帮助您实现此类集成。
                        </p>
                     </li>
                     <li>
                        <p>对于各种帐户和方案，测试规则在测试数据库或测试领域或非敏感数据的命令规则上进行彻底设置，然后再将其应用于保护敏感数据的领域和命令规则。您可以使用以下SQL语句直接测试规则表达式：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT SYSDATE来自DUAL的<span class="italic">规则表达式</span>
</pre></li>
                     <li>
                        <p>您可以将规则表达式嵌套在单个规则中。这有助于实现更复杂的情况，在这种情况下，您需要对规则子集使用逻辑<code class="codeph">AND</code> ，并对其余规则使用逻辑<code class="codeph">OR</code> 。有关<a href="configuring-rule-sets.html#GUID-744EC9BB-0804-4F91-BA0F-7D5584EA5B97" title="This tutorial demonstrates how to use the UTL_MAIL PL/SQL package and an access control list to create an email alert for security violations.">示例，</a>请参阅“ <a href="configuring-rule-sets.html#GUID-744EC9BB-0804-4F91-BA0F-7D5584EA5B97" title="本教程演示了如何使用UTL_MAIL PL / SQL包和访问控制列表来创建安全违规的电子邮件警报。">教程：为安全违规创建电子邮件警报”</a>下的“维护期间是企业网络”规则集的定义。
                        </p>
                     </li>
                     <li>
                        <p>您不能将调用者权限过程与规则表达式一起使用。仅使用带有规则表达式的定义者权限过程。</p>
                     </li>
                  </ul>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="configuring-rule-sets.html#GUID-41914FF0-20E0-4878-8124-C6C976C19104" title="规则集将一个或多个规则组合在一起;规则确定用户是否可以对对象执行操作。">配置规则集</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="DVADM70201"></a><div class="props_rev_3"><a id="GUID-980369CA-666C-4E3A-8F90-572F7F34CEC7" name="GUID-980369CA-666C-4E3A-8F90-572F7F34CEC7"></a><h3 id="DVADM-GUID-980369CA-666C-4E3A-8F90-572F7F34CEC7" class="sect3">规则集如何影响性能</h3>
               <div>
                  <p>规则的数量和复杂性会降低数据库性能。</p>
                  <p>规则集控制执行某些操作的性能。例如，如果管理<code class="codeph">SELECT</code>语句的规则集中有大量规则，则性能可能会显着下降。
                  </p>
                  <p>如果您有需要许多规则的规则集，那么如果将所有规则移动到单个PL / SQL独立或包函数中定义的逻辑，性能会提高。但是，如果其他规则集使用规则，则对系统的性能影响很小。</p>
                  <p>如果可能，请考虑将规则集设置为使用静态评估，假设这与相关的命令规则的用法兼容。有关详细信息，请参阅<a href="configuring-rule-sets.html#GUID-F99FE15B-869E-44CC-A6C4-CC9BACD6BE34" title="Oracle提供了设计规则集的指南。">设计规则集的准则</a> 。
                  </p>
                  <p>您可以通过运行Oracle Enterprise Manager（包括Oracle Enterprise Manager云控制，默认情况下随Oracle Database安装），自动工作负载存储库（AWR）和<code class="codeph">TKPROF</code>等工具来检查系统性能。</p>
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-980369CA-666C-4E3A-8F90-572F7F34CEC7__ORACLEDATABASEPERFORMANCETUNINGGUID-630E988B">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="../tgdba/performance-tuning-overview.html#TGDBA025" target="_blank"><span><cite>Oracle数据库性能调优指南</cite></span></a> ，了解如何监控数据库性能</p>
                        </li>
                        <li>
                           <p><a href="../tgsql/performing-application-tracing.html#TGSQL809" target="_blank"><span><cite>Oracle数据库SQL调优指南，</cite></span></a>用于监控单个SQL和PL / SQL语句的性能</p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="configuring-rule-sets.html#GUID-41914FF0-20E0-4878-8124-C6C976C19104" title="规则集将一个或多个规则组合在一起;规则确定用户是否可以对对象执行操作。">配置规则集</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="DVADM70203"></a><a id="DVADM70204"></a><a id="DVADM70202"></a><div class="props_rev_3"><a id="GUID-FABD139C-F858-40F8-AD5D-6089F517F2E7" name="GUID-FABD139C-F858-40F8-AD5D-6089F517F2E7"></a><h3 id="DVADM-GUID-FABD139C-F858-40F8-AD5D-6089F517F2E7" class="sect3">规则集和规则相关报告和数据字典视图</h3>
               <div>
                  <p>Oracle Database Vault提供了报告和数据字典视图，可用于分析规则集及其中的规则。</p>
                  <div class="section">
                     <p><a href="configuring-rule-sets.html#GUID-FABD139C-F858-40F8-AD5D-6089F517F2E7__BABBJDEI" title="规则集报告">表5-2</a>列出了Oracle Database Vault报告。有关如何运行这些报告的信息，请参阅<a href="oracle-database-vault-reports.html#GUID-1B6D02DE-3FB2-4ADB-9916-4491B37FDECD" title="Oracle Database Vault提供跟踪活动的报告，例如Database Vault配置设置。">Oracle Database Vault Reports</a> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-FABD139C-F858-40F8-AD5D-6089F517F2E7__BABBJDEI">
                     <p class="titleintable">表5-2与规则集相关的报告</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="与规则集相关的报告" width="100%" border="1" summary="rule set reports" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="47%" id="d18924e6724">报告</th>
                              <th align="left" valign="bottom" width="53%" id="d18924e6727">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d18924e6732" headers="d18924e6724 ">
                                 <p><a href="oracle-database-vault-reports.html#GUID-162BB69D-9C1F-4FB8-959E-1B8C21FE6FF9" title="规则集配置问题报告显示Oracle Database Vault规则集配置问题。">规则集配置问题报告</a></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d18924e6732 d18924e6727 ">
                                 <p>列出未定义或启用规则的规则集</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d18924e6743" headers="d18924e6724 ">
                                 <p><a href="oracle-database-vault-reports.html#GUID-0BEBF077-C4BA-471B-8789-85BD5A758421" title="安全应用程序配置问题报告显示Database Vault安全应用程序角色配置问题。">安全应用配置问题报告</a></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d18924e6743 d18924e6727 ">
                                 <p>列出具有不完整或禁用的规则集的安全应用程序角色</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d18924e6754" headers="d18924e6724 ">
                                 <p><a href="oracle-database-vault-reports.html#GUID-DB10DAF0-4E4C-4A11-A9B8-A227DC82D8AA" title="“命令规则配置问题报告”显示具有配置问题的命令规则。">命令规则配置问题报告</a></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d18924e6754 d18924e6727 ">
                                 <p>列出不完整或已禁用的规则集</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p><a href="configuring-rule-sets.html#GUID-FABD139C-F858-40F8-AD5D-6089F517F2E7__BABIFDJJ" title="规则集数据字典视图">表5-3</a>列出了提供有关现有规则和规则集的信息的数据字典视图。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-FABD139C-F858-40F8-AD5D-6089F517F2E7__BABIFDJJ">
                     <p class="titleintable">表5-3用于规则和规则集的数据字典视图</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="用于规则和规则集的数据字典视图" width="100%" border="1" summary="Rule Set Data Dictionary Views" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="47%" id="d18924e6781">数据字典视图</th>
                              <th align="left" valign="bottom" width="53%" id="d18924e6784">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d18924e6789" headers="d18924e6781 ">
                                 <p><a href="oracle-database-vault-data-dictionary-views.html#GUID-97C96089-0EE4-4A57-8257-1F9F61606245" title="DBA_DV_RULE数据字典视图列出已定义的规则。">DBA_DV_RULE查看</a></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d18924e6789 d18924e6784 ">
                                 <p>列出已定义的规则</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d18924e6803" headers="d18924e6781 ">
                                 <p><a href="oracle-database-vault-data-dictionary-views.html#GUID-A7FD62EB-A8E4-4279-A0D5-1677493AC202" title="DBA_DV_RULE_SET数据字典视图列出已创建的规则集。">DBA_DV_RULE_SET查看</a></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d18924e6803 d18924e6784 ">
                                 <p>列出已创建的规则集</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d18924e6817" headers="d18924e6781 ">
                                 <p><a href="oracle-database-vault-data-dictionary-views.html#GUID-52C00874-C14D-44F6-A89A-CCB5E07FBE3E" title="DBA_DV_RULE_SET_RULE数据字典视图列出了与现有规则集关联的规则。">DBA_DV_RULE_SET_RULE查看</a></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d18924e6817 d18924e6784 ">
                                 <p>列出与现有规则集关联的规则</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="configuring-rule-sets.html#GUID-41914FF0-20E0-4878-8124-C6C976C19104" title="规则集将一个或多个规则组合在一起;规则确定用户是否可以对对象执行操作。">配置规则集</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html>