<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="This topic provides a summary of the Oracle ACFS commands for Linux environments."></meta>
      <meta name="description" content="This topic provides a summary of the Oracle ACFS commands for Linux environments."></meta>
      <title>适用于Linux环境的Oracle ACFS命令行工具</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Administrator&#39;s Guide"></meta>
      <meta property="og:description" content="This topic provides a summary of the Oracle ACFS commands for Linux environments."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Administrator&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="automatic-storage-management-administrators-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-04-23T18:56:15-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2007, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96198-03"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="steps-manage-acfs.html" title="Previous" type="text/html"></link>
      <link rel="next" href="acfs-commands-solaris.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Automatic Storage Management Administrator&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="OSTMG"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="steps-manage-acfs.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="acfs-commands-solaris.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">管理员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="part-acfs-advm.html" property="item" typeof="WebPage"><span property="name">Oracle自动存储管理群集文件系统</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="manage-acfs-advm-commands.html" property="item" typeof="WebPage"><span property="name">使用命令行工具管理Oracle ACFS</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">适用于Linux环境的Oracle ACFS命令行工具</li>
            </ol>
            <a id="GUID-A972A122-D434-415D-A8B5-BCCBCDD0BC8C" name="GUID-A972A122-D434-415D-A8B5-BCCBCDD0BC8C"></a><a id="OSTMG94799"></a><a id="OSTMG92000"></a>
            
            <h2 id="OSTMG-GUID-A972A122-D434-415D-A8B5-BCCBCDD0BC8C" class="sect2">适用于Linux环境的Oracle ACFS命令行工具</h2>
         </header>
         <div class="ind">
            <div>
               <p>本主题提供了适用于Linux环境的Oracle ACFS命令的摘要。</p>
               <p><a href="acfs-commands-linux.html#GUID-A972A122-D434-415D-A8B5-BCCBCDD0BC8C__BABFEIBB" title="ACFS Linux和Unix命令摘要">表16-1</a>列出了适用于Linux环境的Oracle ACFS命令以及简要说明。<a href="acfs-commands-linux.html#GUID-A972A122-D434-415D-A8B5-BCCBCDD0BC8C__BABFEIBB" title="ACFS Linux和Unix命令摘要">表16-1中</a>的命令已通过其他选项进行了扩展，以支持Oracle ACFS。所有其他Linux文件系统命令在不改变Oracle ACFS的情况下运行。</p>
               <p>例如，Oracle ACFS为基本操作系统平台提供的选项添加了一组Oracle ACFS特定的挂载选项。除了针对整套文件系统安装选项的Oracle ACFS特定选项外，您还应该查看Linux平台的安装选项。</p>
               <p>不是Oracle ACFS文件系统的Oracle ADVM卷上的文件系统（例如<code class="codeph">ext3</code>使用<a href="acfs-commands-linux.html#GUID-A972A122-D434-415D-A8B5-BCCBCDD0BC8C__BABFEIBB" title="ACFS Linux和Unix命令摘要">表16-1</a>中列出的相同Linux命令使用文件系统类型的特定于文件的选项进行管理。有关<a href="acfs-commands-linux.html#GUID-A972A122-D434-415D-A8B5-BCCBCDD0BC8C__BABFEIBB" title="ACFS Linux和Unix命令摘要">表16-1中</a> Linux命令的可用选项，请参见<code class="codeph">man</code>页。
               </p>
               <div class="infoboxnote" id="GUID-A972A122-D434-415D-A8B5-BCCBCDD0BC8C__GUID-E4C4AFF5-7A55-4CF5-A013-2F6A2A5D199E">
                  <p class="notep1">注意：</p>
                  <p>在使用Oracle ACFS的强制模式下使用安全增强型Linux（SELinux）时，请确保使用SELinux默认上下文装入Oracle ACFS文件系统。有关上下文装入选项的信息，请参阅Linux供应商文档。</p>
               </div>
               <div class="tblformalwide" id="GUID-A972A122-D434-415D-A8B5-BCCBCDD0BC8C__BABFEIBB">
                  <p class="titleintable">表16-1适用于Linux环境的Oracle ACFS命令摘要</p>
                  <table cellpadding="4" cellspacing="0" class="FormalWide" title="适用于Linux环境的Oracle ACFS命令摘要" width="100%" border="1" summary="Summary of ACFS Linux and Unix commands" frame="hsides" rules="rows">
                     <thead>
                        <tr align="left" valign="top">
                           <th align="left" valign="bottom" width="37%" id="d134894e188">命令</th>
                           <th align="left" valign="bottom" width="63%" id="d134894e191">描述</th>
                        </tr>
                     </thead>
                     <tbody>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d134894e196" headers="d134894e188 ">
                              <p><a href="acfs-commands-linux.html#GUID-E875A8CE-7D2D-4BD9-AAB2-C2E85F156E17">fsck（离线模式）</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d134894e196 d134894e191 ">
                              <p>检查并修复已卸除的Oracle ACFS文件系统。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d134894e204" headers="d134894e188 ">
                              <p><a href="acfs-commands-linux.html#GUID-8F49FE80-BA65-44D1-81AB-53654FC4D4CF">fsck（在线模式）</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d134894e204 d134894e191 ">
                              <p>检查并修复已安装的Oracle ACFS文件系统。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d134894e214" headers="d134894e188 ">
                              <p><a href="acfs-commands-linux.html#GUID-458DC5C6-2218-4C6F-866B-1B9DAB7C278D">的mkfs</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d134894e214 d134894e191 ">
                              <p>创建Oracle ACFS文件系统。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d134894e222" headers="d134894e188 ">
                              <p><a href="acfs-commands-linux.html#GUID-CF7314E2-D95E-45CF-9D1D-155C1AC39A1F">安装</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d134894e222 d134894e191 ">
                              <p>安装Oracle ACFS文件系统。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d134894e230" headers="d134894e188 ">
                              <p><a href="acfs-commands-linux.html#GUID-019B9315-870C-4F2A-BE5E-D4623639FACB">卸除</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d134894e230 d134894e191 ">
                              <p>卸载Oracle ACFS文件系统。</p>
                           </td>
                        </tr>
                     </tbody>
                  </table>
               </div>
               <!-- class="inftblhruleinformal" -->
            </div><a id="OSTMG94801"></a><a id="OSTMG94802"></a><a id="OSTMG94803"></a><a id="OSTMG94804"></a><a id="OSTMG94805"></a><a id="OSTMG94800"></a><div class="props_rev_3"><a id="GUID-E875A8CE-7D2D-4BD9-AAB2-C2E85F156E17" name="GUID-E875A8CE-7D2D-4BD9-AAB2-C2E85F156E17"></a><h3 id="OSTMG-GUID-E875A8CE-7D2D-4BD9-AAB2-C2E85F156E17" class="sect3">fsck（离线模式）</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-E875A8CE-7D2D-4BD9-AAB2-C2E85F156E17__GUID-FE39691F-8A65-4071-9891-EDA8EC359594">目的</p>
                     <p>检查并修复已卸除的Oracle ACFS文件系统。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-E875A8CE-7D2D-4BD9-AAB2-C2E85F156E17__GUID-F17E0666-8659-4639-8C7B-83F173500A44">语法和说明</p><pre class="oac_no_warn" dir="ltr">fsck -t acfs -h / dev / null fsck [-a | -f] [-v] -t acfs [-n | -y] [-x <span class="italic">file_name</span> ] <span class="italic">volume_device</span></pre><p><code class="codeph">fsck</code> <code class="codeph">-t</code> <code class="codeph">acfs</code> <code class="codeph">-h</code> <code class="codeph">/dev/null</code>显示用法文本并退出。
                     </p>
                     <p><a href="acfs-commands-linux.html#GUID-E875A8CE-7D2D-4BD9-AAB2-C2E85F156E17__BABEIJFC" title="此表列出了fsck命令的选项以及每个选项的说明">表16-2</a>包含<code class="codeph">fsck</code>命令可用的选项。
                     </p>
                     <div class="tblformal" id="GUID-E875A8CE-7D2D-4BD9-AAB2-C2E85F156E17__BABEIJFC">
                        <p class="titleintable">表16-2 Linux上offline fsck命令的选项</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Linux上的offline fsck命令选项" width="100%" border="1" summary="This table lists the options for the fsck command, along with a description for each option" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d134894e435">选项</th>
                                 <th align="left" valign="bottom" width="69%" id="d134894e438">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d134894e443" headers="d134894e435 ">
                                    <p><code class="codeph">-一个</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d134894e443 d134894e438 ">
                                    <p>指定自动修复文件系统。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d134894e451" headers="d134894e435 ">
                                    <p><code class="codeph">-F</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d134894e451 d134894e438 ">
                                    <p>强制文件系统进入可装入状态而不完成文件系统检查或修复。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d134894e459" headers="d134894e435 ">
                                    <p><code class="codeph">-v</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d134894e459 d134894e438 ">
                                    <p>指定详细模式。操作发生时显示进度。以详细模式运行会影响性能。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d134894e467" headers="d134894e435 ">
                                    <p><code class="codeph">-t acfs</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d134894e467 d134894e438 ">
                                    <p>指定Linux上的文件系统类型。 <code class="codeph">acfs</code>指定Oracle ACFS类型。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d134894e478" headers="d134894e435 ">
                                    <p><code class="codeph">-n</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d134894e478 d134894e438 ">
                                    <p>对任何提示回答否。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d134894e486" headers="d134894e435 ">
                                    <p><code class="codeph">-y</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d134894e486 d134894e438 ">
                                    <p>对任何提示回答是。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d134894e494" headers="d134894e435 ">
                                    <p><code class="codeph">-x <span class="codeinlineitalic">file_name</span></code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d134894e494 d134894e438 ">
                                    <p>指定由<code class="codeph">acfsutil meta</code>收集的加速器数据。仅用于此类数据。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d134894e507" headers="d134894e435 ">
                                    <p><span class="italic"><code class="codeph">volume_device</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d134894e507 d134894e438 ">
                                    <p>指定主Oracle ADVM卷设备。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p><code class="codeph">fsck</code>检查并修复现有的Oracle ACFS文件系统。本主题描述<code class="codeph">fsck</code>命令的脱机模式，该模式只能在已卸载的文件系统上运行。有关在已装入的文件系统上运行<code class="codeph">fsck</code>信息，请参阅<a href="acfs-commands-linux.html#GUID-8F49FE80-BA65-44D1-81AB-53654FC4D4CF">fsck（在线模式）</a> 。
                     </p>
                     <p>运行<code class="codeph">fsck</code>需要<code class="codeph">root</code>权限。必须加载Oracle ACFS驱动程序才能使<code class="codeph">fsck</code>正常工作。
                     </p>
                     <p>默认情况下， <code class="codeph">fsck</code>仅检查并报告任何错误。必须指定<code class="codeph">-a</code>标志以指示<code class="codeph">fsck</code>修复文件系统中的错误。在修复操作期间不要中断<code class="codeph">fsck</code> 。
                     </p>
                     <p>在少数情况下， <code class="codeph">fsck</code>会在继续检查文件系统之前提示问题。这些案件包括：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>如果<code class="codeph">fsck</code>检测到文件系统上正在进行另一个<code class="codeph">fsck</code></p>
                        </li>
                        <li>
                           <p>如果<code class="codeph">fsck</code>检测到未加载Oracle ACFS驱动程序</p>
                        </li>
                        <li>
                           <p>如果文件系统似乎不是Oracle ACFS</p>
                        </li>
                     </ul>
                     <p>在检查模式下， <code class="codeph">fsck</code>还会提示是否存在由于未完全关闭而未完全处理的事务日志。要以非交互模式运行，请包含<code class="codeph">-y</code>或<code class="codeph">-n</code>选项以对任何问题回答是或否。
                     </p>
                     <p><code class="codeph">fsck</code>在检查文件系统之前创建工作文件。如果空间可用，则在<code class="codeph">/usr/tmp</code>中创建这些工作文件。 <code class="codeph">/tmp</code>用于如果<code class="codeph">/usr/tmp</code>不存在。如果<code class="codeph">tmp</code>目录中的空间不足，则<code class="codeph">fsck</code>尝试写入当前工作目录。<code class="codeph">fsck</code>创建的文件大致是被检查文件系统的大小除以32K。最多分配三个这样的文件。例如，正在检查的2 GB文件系统会导致<code class="codeph">fsck</code>在<code class="codeph">/usr/tmp</code>目录中生成一到三个64K工作文件。<code class="codeph">fsck</code>完成后会删除这些文件。
                     </p>
                     <p>如果<code class="codeph">fsck</code>在文件系统中找到文件或目录，但无法确定其名称或目标位置（可能是由于其父目录中的损坏），则当<code class="codeph">fsck</code>为<code class="codeph">fsck</code>时，它会将此对象放在<code class="codeph">/lost+found</code>目录中以修复模式运行。出于安全原因，只有Linux上的<code class="codeph">root</code>用户可以读取<code class="codeph">/lost+found</code>文件。如果管理员稍后可以根据其内容确定文件的原始名称和位置，则可以将文件移动或复制到其预期位置。
                     </p>
                     <p><code class="codeph">/lost+found</code>目录中的文件名采用以下格式：</p><pre class="oac_no_warn" dir="ltr">家长。 <span class="italic">id</span> .file。 <span class="italic">id</span> 。 <span class="italic">自1970年以来的</span>父母时间。 <span class="italic">id</span> .dir。 <span class="italic">id</span> 。 <span class="italic">时间在仲因为-1970</span>
</pre><p><span class="italic"><code class="codeph">id</code></span>字段是文件系统中每个文件和目录的内部Oracle ACFS数字标识符。
                     </p>
                     <p>您可以使用<code class="codeph">acfsutil</code> <code class="codeph">info</code> <code class="codeph">id</code> <span class="italic"><code class="codeph">id</code></span> <span class="italic"><code class="codeph">mount_point</code></span>尝试确定与<code class="codeph">parent.</code>关联的目录<code class="codeph">parent.</code> <span class="italic"><code class="codeph">id</code></span> 。假定此目录是已删除对象的来源。有关<code class="codeph">acfsutil</code> <code class="codeph">info</code> ，请参阅<a href="acfs-commands-utilities.html#GUID-09C9BFDD-DA94-4082-B713-1C8B138E1191">acfsutil信息文件</a> 。
                     </p>
                     <p>如果父目录未知，则父<code class="codeph">id</code>字段设置为<code class="codeph">UNKNOWN</code> 。</p>
                     <div class="infoboxnote" id="GUID-E875A8CE-7D2D-4BD9-AAB2-C2E85F156E17__GUID-BDAB1E74-8370-4423-99B7-0C48094282F7">
                        <p class="notep1">注意：</p>
                        <p>无法从快照中查看<code class="codeph">/lost+found</code>目录的内容。
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-E875A8CE-7D2D-4BD9-AAB2-C2E85F156E17__GUID-10EBD928-E7AD-4395-81A3-0E1CEB67E223">例子</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>以下示例说明如何检查和修复已卸除的Oracle ACFS文件系统。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-E875A8CE-7D2D-4BD9-AAB2-C2E85F156E17__GUID-A3C93267-3B93-41C6-9A21-37B6E74F5779">
                     <p class="titleinexample">示例16-2在脱机模式下使用fsck命令</p><pre class="oac_no_warn" dir="ltr">＃/ sbin / fsck -a -y -t acfs / dev / asm / volume1-123</pre></div>
                  <!-- class="example" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-8F49FE80-BA65-44D1-81AB-53654FC4D4CF" name="GUID-8F49FE80-BA65-44D1-81AB-53654FC4D4CF"></a><h3 id="OSTMG-GUID-8F49FE80-BA65-44D1-81AB-53654FC4D4CF" class="sect3">fsck（在线模式）</h3>
               <div>
                  <p></p>
                  <div class="section">
                     <p class="subhead2" id="GUID-8F49FE80-BA65-44D1-81AB-53654FC4D4CF__GUID-629928D4-EE00-4E3D-9AC7-CE6705BC2697">目的</p>
                     <p>检查并修复已安装的Oracle ACFS文件系统。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-8F49FE80-BA65-44D1-81AB-53654FC4D4CF__GUID-0F03180B-9742-4E71-9410-5D783EBA0E00">语法和说明</p><pre class="oac_no_warn" dir="ltr">fsck -t acfs -h / dev / null fsck [-a] [-v] -t acfs -O <span class="italic">mount_point</span> -  -C <span class="italic">cow_file_path</span> -S <span class="italic">cow_file_size</span> fsck.acfs [-a] [-v] -O -C <span class="italic">cow_file_path</span> - S <span class="italic">cow_file_size</span> <span class="italic">mount_point</span></pre><div class="infoboxnote" id="GUID-8F49FE80-BA65-44D1-81AB-53654FC4D4CF__GUID-FDBE2BF2-01DC-4495-874F-5A1A258C6442">
                        <p class="notep1">注意：</p>
                        <p>后两种语法格式是等效的。当调用了Linux <code class="codeph">fsck</code>命令时， <code class="codeph">--</code>分离器必须放在任一之前<code class="codeph">-C</code>或<code class="codeph">-S</code>选项，以确保选择正确传递到Oracle ACFS <code class="codeph">fsck</code>命令。直接调用ACFS <code class="codeph">fsck.acfs</code>命令时，不需要<code class="codeph">--</code>分隔符。
                        </p>
                     </div>
                     <p><code class="codeph">fsck</code> <code class="codeph">-t</code> <code class="codeph">acfs</code> <code class="codeph">-h</code> <code class="codeph">/dev/null</code>显示用法文本并退出。
                     </p>
                     <p> <a href="acfs-commands-linux.html#GUID-8F49FE80-BA65-44D1-81AB-53654FC4D4CF__OPTIONSFORTHEONLINEFSCKCOMMANDONLIN-A7682540" title="此表列出了联机fsck命令的选项，以及每个选项的说明">表16-3</a>包含<code class="codeph">fsck</code>命令可用的选项。
                     </p>
                     <div class="tblformal" id="GUID-8F49FE80-BA65-44D1-81AB-53654FC4D4CF__OPTIONSFORTHEONLINEFSCKCOMMANDONLIN-A7682540">
                        <p class="titleintable">表16-3 Linux上联机fsck命令的选项</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Linux上联机fsck命令的选项" width="100%" border="1" summary="This table lists the options for the online fsck command, along with a description for each option" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d134894e965">选项</th>
                                 <th align="left" valign="bottom" width="69%" id="d134894e968">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d134894e973" headers="d134894e965 ">
                                    <p><code class="codeph">-一个</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d134894e973 d134894e968 ">
                                    <p>指定自动修复文件系统。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d134894e981" headers="d134894e965 ">
                                    <p><code class="codeph">-v</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d134894e981 d134894e968 ">
                                    <p>指定详细模式。操作发生时显示进度。以详细模式运行会影响性能。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d134894e989" headers="d134894e965 ">
                                    <p><code class="codeph">-t acfs</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d134894e989 d134894e968 ">
                                    <p>指定Linux上的文件系统类型。 <code class="codeph">acfs</code>指定Oracle ACFS类型。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d134894e1000" headers="d134894e965 ">
                                    <p><code class="codeph">-O</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d134894e1000 d134894e968 ">
                                    <p>指定以联机模式运行，该模式允许检查已安装的Oracle ACFS文件系统。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d134894e1008" headers="d134894e965 ">
                                    <p><code class="codeph">-C <span class="codeinlineitalic">cow_file_path</span></code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d134894e1008 d134894e968 ">
                                    <p>指定联机<code class="codeph">fsck</code>所需的Copy-On-Write（COW）文件的位置。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d134894e1021" headers="d134894e965 ">
                                    <p><code class="codeph">-s <span class="codeinlineitalic">cow_file_size</span></code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d134894e1021 d134894e968 ">
                                    <p>指定联机<code class="codeph">fsck</code>所需的Copy-On-Write（COW）文件的大小。
                                    </p>
                                    <p>指定的数量可以是<code class="codeph">K</code> （千字节）， <code class="codeph">M</code> （兆字节）， <code class="codeph">G</code> （千兆字节）， <code class="codeph">T</code> （兆兆字节）或<code class="codeph">P</code> （千兆字节）。如果未指定单位，则默认值为字节。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d134894e1051" headers="d134894e965 ">
                                    <p><span class="italic"><code class="codeph">装入点</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d134894e1051 d134894e968 ">
                                    <p>指定安装文件系统的目录。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p><code class="codeph">fsck</code>检查并修复现有的Oracle ACFS文件系统。本主题描述了可以在已安装的文件系统上运行的<code class="codeph">fsck</code>命令的联机模式。有关在脱机模式下运行<code class="codeph">fsck</code>信息，请参阅<a href="acfs-commands-linux.html#GUID-E875A8CE-7D2D-4BD9-AAB2-C2E85F156E17">fsck（脱机模式）</a> 。
                     </p>
                     <p>当网上<code class="codeph">fsck</code>是一个安装文件系统上运行，在线<code class="codeph">fsck</code>首先创建文件系统元数据的点对点即时快照。然后，联机<code class="codeph">fsck</code>对此元数据快照执行文件系统检查。由于文件系统已挂载并处于活动状态，因此可以在在线<code class="codeph">fsck</code>下创建或更新文件系统元数据。但是，联机<code class="codeph">fsck</code>不会检查任何新的或更新的元数据，因为联机<code class="codeph">fsck</code>仅检查初始元数据快照。
                     </p>
                     <p>在线<code class="codeph">fsck</code>使用称为写时复制（COW）文件的特殊文件。当在线<code class="codeph">fsck</code>在文件系统上运行时，每当必须更新任何文件系统元数据时，首先将元数据的原始版本复制到COW文件中以保留它以进行文件系统检查。COW文件有助于保留在线<code class="codeph">fsck</code>检查的元数据快照。
                     </p>
                     <p>必须提前选择COW文件的大小。因此，COW文件具有有限的空间用于保留元数据的副本。如果COW文件空间不足而保留元数据副本，则可能会强制联机<code class="codeph">fsck</code>中止。必须仔细选择COW文件的大小，以避免在执行在线<code class="codeph">fsck</code>期间空间不足。COW文件的适当大小取决于在线<code class="codeph">fsck</code>执行期间可能更改的文件系统元数据的数量，这取决于工作负载，可能需要凭经验确定。Oracle建议COW文件的大小从正在进行联机<code class="codeph">fsck</code>的文件系统的5％开始。
                     </p>
                     <p>COW文件必须放在单独的Oracle ACFS文件系统上。必须将单独的Oracle ACFS文件系统安装在与正在进行联机<code class="codeph">fsck</code>的Oracle ACFS文件系统相同的节点上。
                     </p>
                     <p>COW文件是支持在线<code class="codeph">fsck</code>执行的临时文件，在联机<code class="codeph">fsck</code>完成后删除。
                     </p>
                     <p>正在进行联机<code class="codeph">fsck</code>的Oracle ACFS文件系统必须在所有节点上具有相同的安装点路径。存储COW文件的Oracle ACFS文件系统还必须在所有节点上具有相同的安装点路径。
                     </p>
                     <p>当命令在Oracle ACFS文件系统上运行时，联机<code class="codeph">fsck</code>具有以下限制和限制：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>无法在同一群集中启动另一个在线<code class="codeph">fsck</code>实例。
                           </p>
                        </li>
                        <li>
                           <p>在新节点上安装文件系统会导致联机<code class="codeph">fsck</code>中止。
                           </p>
                        </li>
                        <li>
                           <p>如果在任何节点上卸载包含COW文件的单独Oracle ACFS文件系统，则该情况可能导致联机<code class="codeph">fsck</code>中止。
                           </p>
                        </li>
                        <li>
                           <p>在完成在线<code class="codeph">fsck</code>之前，文件系统中删除的快照不会释放其存储空间。
                           </p>
                        </li>
                        <li>
                           <p>不允许使用<code class="codeph">acfsutil</code> <code class="codeph">size</code>调整文件系统<code class="codeph">size</code>并返回错误。在联机<code class="codeph">fsck</code>完成之前，也不允许自动调整大小。
                           </p>
                        </li>
                        <li>
                           <p>使用<code class="codeph">acfsutil</code> <code class="codeph">freeze</code>文件系统会导致联机<code class="codeph">fsck</code>等待冻结结束。
                           </p>
                        </li>
                     </ul>
                     <p>默认情况下，联机<code class="codeph">fsck</code>仅检查并报告任何错误。必须指定<code class="codeph">-a</code>标志以指示联机<code class="codeph">fsck</code>修复文件系统中的错误。请注意，联机<code class="codeph">fsck</code>只能修复一组有限的文件系统错误。大多数文件系统错误都需要脱机<code class="codeph">fsck</code>进行修复。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-8F49FE80-BA65-44D1-81AB-53654FC4D4CF__GUID-34CB1CBF-74D8-4E60-9E0B-DA2E73446680">例子</p>
                     <p>以下示例说明如何检查和修复已装入的Oracle ACFS文件系统。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-8F49FE80-BA65-44D1-81AB-53654FC4D4CF__GUID-89CD19DF-910D-4183-A0D3-1EC84FAFDA09">
                     <p class="titleinexample">示例16-3在在线模式下使用fsck命令</p><pre class="oac_no_warn" dir="ltr">＃/ sbin / fsck -a -t acfs -O / acfs_mountpoint_1  -  -C / acfs_mountpoint_2 / cow_file -S 512M＃/ sbin /fsck.acfs -O -C / acfs_mountpoint_2 / cow_file -S 512M / acfs_mountpoint_1</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="OSTMG94807"></a><a id="OSTMG94808"></a><a id="OSTMG94809"></a><a id="OSTMG95945"></a><a id="OSTMG94810"></a><a id="OSTMG94811"></a><a id="OSTMG94806"></a><div class="props_rev_3"><a id="GUID-458DC5C6-2218-4C6F-866B-1B9DAB7C278D" name="GUID-458DC5C6-2218-4C6F-866B-1B9DAB7C278D"></a><h3 id="OSTMG-GUID-458DC5C6-2218-4C6F-866B-1B9DAB7C278D" class="sect3">的mkfs</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-458DC5C6-2218-4C6F-866B-1B9DAB7C278D__GUID-124EB4CB-BDC5-4562-BCA7-CB18FCCA6A88">目的</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>创建Oracle ACFS文件系统。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-458DC5C6-2218-4C6F-866B-1B9DAB7C278D__GUID-63369AEC-151F-4BE7-B672-502568F90092">语法和说明</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">mkfs -t acfs -h mkfs [-v] [-f] -t acfs [-i {512 | 4096}] [-n <span class="italic">name</span> ] [-a <span class="italic">accelerator_volume</span> ] [-c <span class="italic">release_version</span> ] <span class="italic">volume_device</span> [ <span class="italic">size</span> ]</pre><p><code class="codeph">mkfs</code> <code class="codeph">-t</code> <code class="codeph">acfs</code> <code class="codeph">-h</code>显示用法文本并退出。
                     </p>
                     <p><a href="acfs-commands-linux.html#GUID-458DC5C6-2218-4C6F-866B-1B9DAB7C278D__BABFDAGB" title="此表列出了mkfs命令的选项以及每个选项的说明">表16-4</a>包含<code class="codeph">mkfs</code>命令可用的选项。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-458DC5C6-2218-4C6F-866B-1B9DAB7C278D__BABFDAGB">
                     <p class="titleintable">表16-4 Linux mkfs命令的选项</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="Linux mkfs命令的选项" width="100%" border="1" summary="This table lists the options for the mkfs command, along with a description for each option" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="31%" id="d134894e1443">选项</th>
                              <th align="left" valign="bottom" width="69%" id="d134894e1446">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d134894e1451" headers="d134894e1443 ">
                                 <p><code class="codeph">-t</code> <code class="codeph">acfs</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d134894e1451 d134894e1446 ">
                                 <p>指定Linux上的文件系统类型。 <code class="codeph">acfs</code>指定Oracle ACFS类型。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d134894e1465" headers="d134894e1443 ">
                                 <p><code class="codeph">-v</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d134894e1465 d134894e1446 ">
                                 <p>指定详细模式。操作发生时显示进度。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d134894e1473" headers="d134894e1443 ">
                                 <p><code class="codeph">-i {512 | 4096}</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d134894e1473 d134894e1446 ">
                                 <p>指定元数据块大小为512或4096字节的文件系统。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d134894e1481" headers="d134894e1443 ">
                                 <p><code class="codeph">-n</code> <span class="italic"><code class="codeph">name</code></span></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d134894e1481 d134894e1446 ">
                                 <p>指定文件系统的名称。名称最多可包含64个字符。 <code class="codeph">acfsutil</code> <code class="codeph">info</code> <code class="codeph">fs</code>返回名称（如果已指定）。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d134894e1502" headers="d134894e1443 ">
                                 <p><code class="codeph">-F</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d134894e1502 d134894e1446 ">
                                 <p>指定强制选项。即使卷设备上存在现有Oracle ACFS，此操作也会创建文件系统，但前提是文件系统已卸除。此选项会覆盖原始文件系统上的结构。请谨慎使用此选项。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d134894e1510" headers="d134894e1443 ">
                                 <p><code class="codeph">-H</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d134894e1510 d134894e1446 ">
                                 <p>显示使用帮助文本并退出。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d134894e1518" headers="d134894e1443 ">
                                 <p><span class="italic"><code class="codeph">尺寸</code></span></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d134894e1518 d134894e1446 ">
                                 <p>指定文件系统应在命名设备上使用的大小。指定的数量可以是<code class="codeph">K</code> （千字节）， <code class="codeph">M</code> （兆字节）， <code class="codeph">G</code> （千兆字节）， <code class="codeph">T</code> （兆兆字节）或<code class="codeph">P</code> （千兆字节）。如果未指定单位，则默认值为字节。
                                 </p>
                                 <p>如果未指定此选项，则会占用整个设备。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d134894e1544" headers="d134894e1443 ">
                                 <p><code class="codeph">-a</code> <span class="italic"><code class="codeph">accelerator_volume</code></span></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d134894e1544 d134894e1446 ">
                                 <p>指定Oracle ACFS用于存储关键元数据的辅助Oracle ACFS加速器卷。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d134894e1556" headers="d134894e1443 ">
                                 <p><code class="codeph">-c</code> <span class="italic"><code class="codeph">release_version</code></span></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d134894e1556 d134894e1446 ">
                                 <p>创建Oracle ACFS文件系统，并将Oracle ACFS版本兼容性设置为<span class="italic">release_version</span>的值。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d134894e1571" headers="d134894e1443 ">
                                 <p><span class="italic"><code class="codeph">volume_device</code></span></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d134894e1571 d134894e1446 ">
                                 <p>指定要格式化的现有Oracle ADVM设备文件。此设备是主要卷。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>您可以使用<code class="codeph">mkfs</code>创建要装入Oracle ACFS文件系统所需的磁盘结构。<code class="codeph">mkfs</code>命令是用于构建文件系统的传统Linux命令。<code class="codeph">mkfs</code>成功运行后， <code class="codeph">V$ASM_VOLUME</code>视图中的<code class="codeph">USAGE</code>列显示<code class="codeph">ACFS</code> 。使用ASMCMD <code class="codeph">volcreate</code>命令创建Oracle ADVM卷。有关<code class="codeph">volcreate</code>命令的信息，请参阅<a href="manage-advm-asmcmd.html#GUID-CD9ABAB4-A19D-4C54-9484-D78CE52631E6">volcreate</a> 。
                     </p>
                     <p>使用<code class="codeph">-c <span class="codeinlineitalic">release_version</span></code>选项指定的值必须大于或等于磁盘组的<code class="codeph">COMPATIBLE.ADVM</code>值，并且必须小于或等于正在运行的Oracle Grid Infrastructure版本。如果未指定<code class="codeph">—c <span class="codeinlineitalic">release_version</span></code> ，则使用<code class="codeph">COMPATIBLE.ADVM</code>的值。设置兼容性后，无法降级。<code class="codeph">—c <span class="codeinlineitalic">release_version</span></code>选项可用于无法或不希望更新磁盘组的<code class="codeph">COMPATIBLE.ADVM</code>和<code class="codeph">COMPATIBLE.ASM</code>的情况，但您希望使用需要增加兼容性的Oracle ACFS功能。更新Oracle ACFS兼容性后，将无法再使用较早的Oracle Grid基础结构版本安装文件系统。要更改现有文件系统的兼容性，请参阅<a href="acfs-commands-utilities.html#GUID-E0898E97-98E4-433D-8CB3-609FD90A2A58">acfsutil compat set</a> 。有关Oracle ASM磁盘组兼容性属性的信息，请参阅<a href="diskgroup-compatibility.html#GUID-FBB5AA72-5208-48E1-BD8D-0FD4C6876F34" title="您无法将磁盘组兼容性还原为以前的值。相反，您必须创建一个新磁盘组。该主题描述了由磁盘组兼容性属性设置的有效组合启用的Oracle ASM功能。如果提高了磁盘组兼容性，则可以启用创建太大而无法由以前版本的Oracle数据库管理的文件。">磁盘组兼容性</a> 。
                     </p>
                     <p>对于512字节元数据块大小格式，最小文件系统大小为200 MB，对于4 KB元数据块大小格式，最小文件系统大小为512 MB。</p>
                     <p>必须加载Oracle ACFS驱动程序才能使<code class="codeph">mkfs</code>成功运行。
                     </p>
                     <p><code class="codeph">root</code>权限不是必需的。卷设备文件的所有权决定了谁可以运行此命令。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-458DC5C6-2218-4C6F-866B-1B9DAB7C278D__GUID-1A34D698-26A8-4A7B-8538-ADA60EC890BE">Oracle ACFS加速器卷</p>
                     <p>使用加速器卷可以通过减少访问和更新Oracle ACFS元数据的时间来提高性能。您应该在磁盘组上创建加速器卷，其存储空间明显快于主卷存储。使用<code class="codeph">mkfs</code>命令的<code class="codeph">-a</code>选项创建加速器卷。有关更多信息，请参阅<a href="understand-acfs-admin.html#GUID-2CFD8CD2-E639-4431-B1FF-69390084D07A">Oracle ACFS Accelerator Volume</a> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-458DC5C6-2218-4C6F-866B-1B9DAB7C278D__GUID-5E59E074-4706-4779-B5EE-8121CEE03499">4 KB扇区/元数据</p>
                     <p>以下列表总结了基于<code class="codeph">COMPATIBLE.ADVM</code>磁盘组属性值的<code class="codeph">-i</code>选项和元数据块大小的使用。
                     </p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>如果<code class="codeph">COMPATIBLE.ADVM</code>设置为<code class="codeph">12.2</code>或更高，则默认情况<code class="codeph">4096</code>数据块大小为<code class="codeph">4096</code>字节。
                           </p>
                        </li>
                        <li>
                           <p>如果<code class="codeph">COMPATIBLE.ADVM</code>设置为小于<code class="codeph">12.2</code> ，则块大小设置为512字节。
                           </p>
                        </li>
                        <li>
                           <p>如果<code class="codeph">COMPATIBLE.ADVM</code>设置为小于<code class="codeph">12.2</code>且逻辑扇区大小不是512字节，则命令失败。
                           </p>
                        </li>
                     </ul>
                     <p>对于普通用户IO请求，用户数据IO继续支持小至512字节的传输。当文件系统的Oracle ADVM卷的逻辑磁盘扇区大小为4 K时，用户Direct IO请求应在4 K文件偏移上对齐，并且是4 KB长度的倍数，以获得最佳性能。请注意，只有4 K元数据块大小格式支持具有4 K逻辑磁盘扇区的ADVM卷。</p>
                     <p>必须将<code class="codeph">COMPATIBLE.ADVM</code>值设置为<code class="codeph">12.2</code>或更高，以格式化逻辑磁盘大小为4096的Oracle ADVM卷，或使用<code class="codeph">-i 4096</code>选项格式化逻辑磁盘扇区大小为512字节的Oracle ADVM卷。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-458DC5C6-2218-4C6F-866B-1B9DAB7C278D__GUID-FEA7C314-7117-40E4-B913-B85F59BF4E97">例子</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>在创建Oracle ACFS文件系统之前，首先确定哪些Oracle ADVM卷设备可用。您可以使用ASMCMD <code class="codeph">volinfo</code>命令显示有关卷和卷设备的信息。例如：</p><pre class="oac_no_warn" dir="ltr">ASMCMD [+]&gt; volinfo -a ...卷名称：VOLUME1卷设备：/ dev / asm / volume1-123状态：已启用...
</pre><p>有关<code class="codeph">volcreate</code>和<code class="codeph">volinfo</code>命令的信息，请参阅<a href="manage-advm-asmcmd.html#GUID-07E90E70-406A-4273-B27F-9F2ED7C1C4BF" title="Oracle ASM命令行实用程序（ASMCMD）提供用于管理Oracle ADVM卷的命令。">使用ASMCMD管理Oracle ADVM</a> 。</p>
                     <p>此命令在卷设备文件上创建Oracle ACFS文件系统。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-458DC5C6-2218-4C6F-866B-1B9DAB7C278D__GUID-4272D861-FFC0-47B9-BA92-BE9C609328E8">
                     <p class="titleinexample">示例16-4使用mkfs命令</p><pre class="oac_no_warn" dir="ltr">$ / sbin / mkfs -t acfs / dev / asm / volume1-123</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-458DC5C6-2218-4C6F-866B-1B9DAB7C278D__USINGTHEMKFSCOMMANDTOCREATEANACCELE-62F8B70E">
                     <p class="titleinexample">示例16-5使用mkfs命令创建加速器卷</p>
                     <p>此命令创建具有加速器卷的Oracle ACFS文件系统。</p><pre class="oac_no_warn" dir="ltr">$ / sbin / mkfs -t acfs -a / dev / asm / volume2-130 / dev / asm / volume1-127</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="OSTMG94813"></a><a id="OSTMG94814"></a><a id="OSTMG94815"></a><a id="OSTMG94816"></a><a id="OSTMG94817"></a><a id="OSTMG94812"></a><div class="props_rev_3"><a id="GUID-CF7314E2-D95E-45CF-9D1D-155C1AC39A1F" name="GUID-CF7314E2-D95E-45CF-9D1D-155C1AC39A1F"></a><h3 id="OSTMG-GUID-CF7314E2-D95E-45CF-9D1D-155C1AC39A1F" class="sect3">安装</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-CF7314E2-D95E-45CF-9D1D-155C1AC39A1F__GUID-08A00224-6ADB-445E-B9C7-0CFD11242FC5">目的</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>安装Oracle ACFS文件系统。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-CF7314E2-D95E-45CF-9D1D-155C1AC39A1F__GUID-7CD7CD5F-524E-4BA0-B3D7-057CEC3184A2">语法和说明</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">mount -h mount [-v] -n -t acfs [-o <span class="italic">options</span> ] <span class="italic">volume_device</span> <span class="italic">mount_point</span> mount</pre><p><code class="codeph">mount</code> <code class="codeph">-h</code>显示用法文本并退出。
                     </p>
                     <p><a href="acfs-commands-linux.html#GUID-CF7314E2-D95E-45CF-9D1D-155C1AC39A1F__BABIEFBG" title="此表列出了mount命令的选项以及每个选项的说明">表16-5</a>包含<code class="codeph">mount</code>命令可用的选项。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-CF7314E2-D95E-45CF-9D1D-155C1AC39A1F__BABIEFBG">
                     <p class="titleintable">表16-5 Linux mount命令的选项</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="Linux mount命令的选项" width="100%" border="1" summary="This table lists the options for the mount command, along with a description for each option" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="31%" id="d134894e1968">选项</th>
                              <th align="left" valign="bottom" width="69%" id="d134894e1971">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d134894e1976" headers="d134894e1968 ">
                                 <p><code class="codeph">-H</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d134894e1976 d134894e1971 ">
                                 <p>显示使用帮助文本并退出。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d134894e1984" headers="d134894e1968 ">
                                 <p><code class="codeph">-t</code> <code class="codeph">acfs</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d134894e1984 d134894e1971 ">
                                 <p>指定Linux上的文件系统类型。 <code class="codeph">acfs</code>指定Oracle ACFS类型。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d134894e1998" headers="d134894e1968 ">
                                 <p><code class="codeph">-v</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d134894e1998 d134894e1971 ">
                                 <p>指定详细模式。操作发生时显示进度。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d134894e2006" headers="d134894e1968 ">
                                 <p><code class="codeph">-n</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d134894e2006 d134894e1971 ">
                                 <p>指定不更新<code class="codeph">/etc/mtab</code>文件。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d134894e2017" headers="d134894e1968 ">
                                 <p><code class="codeph">-o</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d134894e2017 d134894e1971 ">
                                 <p>使用<code class="codeph">-o</code>标志指定选项，后跟逗号分隔的选项字符串。可以使用以下选项：</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p><code class="codeph">所有</code></p>
                                       <p>读取Oracle Clusterware命名空间中的Oracle ACFS受管文件系统，使用<code class="codeph">AUTO_START=always</code>挂载所有文件系统。
                                       </p>
                                       <p>如果指定了<code class="codeph">-o</code> <code class="codeph">all</code>选项，则忽略其他<code class="codeph">-o</code>选项。
                                       </p>
                                       <p>若要为注册表项指定装入选项，请在将条目添加到<code class="codeph">registry</code>时将这些选项与<code class="codeph">acfsutil</code> <code class="codeph">registry</code>命令一起包括在内。
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">RO</code></p>
                                       <p>以只读模式安装文件系统。</p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">norootsuid</code></p>
                                       <p>由权限允许设置用户ID执行且由root拥有的非root用户执行二进制文件失败。尝试以非root用户身份运行这些可执行文件失败，并显示权限被拒绝错误。</p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">rootsuid</code></p>
                                       <p>允许root用户拥有的set user Id文件的非root用户执行二进制文件。这是默认操作。</p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">nodeleteopen</code></p>
                                       <p>删除任何打开的文件失败。</p>
                                    </li>
                                 </ul>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d134894e2081" headers="d134894e1968 ">
                                 <p><span class="italic"><code class="codeph">volume_device</code></span></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d134894e2081 d134894e1971 ">
                                 <p>指定已由<code class="codeph">mkfs</code>格式化的主Oracle ADVM卷设备文件。 <span class="italic"><code class="codeph">device</code></span>是必需的，但可以是虚拟值。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d134894e2097" headers="d134894e1968 ">
                                 <p><span class="italic"><code class="codeph">装入点</code></span></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d134894e2097 d134894e1971 ">
                                 <p>指定安装文件系统的目录。在运行<code class="codeph">mount</code>命令之前，此目录必须存在。
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p><code class="codeph">mount</code>将文件系统附加到作为目录名称的安装点的Oracle ACFS层次结构。挂载发生在发出mount命令的节点上。如果文件系统未在此节点上处于卸载状态，则mount命令将返回错误。
                     </p>
                     <p>并不总是可以将mount错误的原因返回到<code class="codeph">mount</code>命令。发生这种情况时，Oracle ACFS会将失败原因写入系统控制台和关联的系统日志文件。
                     </p>
                     <p><code class="codeph">mount</code>成功运行后， <code class="codeph">V$ASM_VOLUME</code>视图中的<code class="codeph">MOUNTPATH</code>字段将显示现在挂载文件系统的目录名称。
                     </p>
                     <p>Oracle ACFS文件系统只应安装在一个安装点上。应在所有集群成员上使用相同的安装点名称。</p>
                     <p>如果在没有参数的情况下运行， <code class="codeph">mount</code>命令将列出所有已安装的文件系统。
                     </p>
                     <p><code class="codeph">root</code>权限是运行<code class="codeph">mount</code>所必需的。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-CF7314E2-D95E-45CF-9D1D-155C1AC39A1F__GUID-E6541BA5-57F0-4BCC-B79E-CE764260775F">例子</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>第一个例子说明如何挂载<code class="codeph">volume1-123</code>上的安装点<code class="codeph">/acfsmounts/acfs1</code> 。第二个示例显示如何挂载所有已注册的Oracle ACFS文件系统。当指定<code class="codeph">all</code>选项时，已为设备和目录输入虚拟名称（ <code class="codeph">none</code> ），因为它们是必需的，但未使用。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-CF7314E2-D95E-45CF-9D1D-155C1AC39A1F__GUID-1148FCCF-35BE-48A7-819F-EC7720352728">
                     <p class="titleinexample">示例16-6使用mount命令</p><pre class="oac_no_warn" dir="ltr">＃/ bin / mount -t acfs / dev / asm / volume1-123 / acfsmounts / acfs1＃/ bin / mount -t acfs -o all none none</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="OSTMG94819"></a><a id="OSTMG94820"></a><a id="OSTMG94821"></a><a id="OSTMG94822"></a><a id="OSTMG94823"></a><a id="OSTMG94818"></a><div class="props_rev_3"><a id="GUID-019B9315-870C-4F2A-BE5E-D4623639FACB" name="GUID-019B9315-870C-4F2A-BE5E-D4623639FACB"></a><h3 id="OSTMG-GUID-019B9315-870C-4F2A-BE5E-D4623639FACB" class="sect3">卸除</h3>
               <div>
                  <div class="section"></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-019B9315-870C-4F2A-BE5E-D4623639FACB__GUID-8E7028E7-DA4F-496C-A5C8-6D3464FAAC91">目的</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>卸载Oracle ACFS文件系统。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-019B9315-870C-4F2A-BE5E-D4623639FACB__GUID-F10207DD-A5F7-471C-B6F3-025C68FAA53D">语法和说明</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">umount -h umount [-v] -l -n <span class="italic">volume_device</span> | <span class="italic">mount_point</span> umount -a -l -n [-t acfs]</pre><p><code class="codeph">umount</code> <code class="codeph">-h</code>显示用法文本并退出。
                     </p>
                     <p><a href="acfs-commands-linux.html#GUID-019B9315-870C-4F2A-BE5E-D4623639FACB__BABFIEJB" title="此表列出了umount命令的选项以及每个选项的说明">表16-6</a>包含<code class="codeph">umount</code>命令可用的选项。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-019B9315-870C-4F2A-BE5E-D4623639FACB__BABFIEJB">
                     <p class="titleintable">表16-6 Linux umount命令的选项</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="Linux umount命令的选项" width="100%" border="1" summary="This table lists the options for the umount command, along with a description for each option" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="31%" id="d134894e2360">选项</th>
                              <th align="left" valign="bottom" width="69%" id="d134894e2363">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d134894e2368" headers="d134894e2360 ">
                                 <p><code class="codeph">-H</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d134894e2368 d134894e2363 ">
                                 <p>显示使用帮助文本并退出。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d134894e2376" headers="d134894e2360 ">
                                 <p><code class="codeph">-t</code> <code class="codeph">acfs</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d134894e2376 d134894e2363 ">
                                 <p>指定Linux上的文件系统类型。 <code class="codeph">acfs</code>指定Oracle ACFS类型。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d134894e2390" headers="d134894e2360 ">
                                 <p><code class="codeph">-v</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d134894e2390 d134894e2363 ">
                                 <p>指定详细模式。操作发生时显示进度。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d134894e2398" headers="d134894e2360 ">
                                 <p><code class="codeph">-一个</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d134894e2398 d134894e2363 ">
                                 <p>指定卸载此节点上的所有Oracle ACFS文件系统。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d134894e2406" headers="d134894e2360 ">
                                 <p><code class="codeph">-l</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d134894e2406 d134894e2363 ">
                                 <p>指定延迟卸载。卸载Oracle ACFS文件系统，但是当系统不再忙时，将清除对文件系统的所有引用。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d134894e2414" headers="d134894e2360 ">
                                 <p><code class="codeph">-n</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d134894e2414 d134894e2363 ">
                                 <p>指定不更新<code class="codeph">/etc/mtab</code>文件。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d134894e2425" headers="d134894e2360 ">
                                 <p><span class="italic"><code class="codeph">volume_device</code></span></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d134894e2425 d134894e2363 ">
                                 <p>指定已由<code class="codeph">mkfs</code>格式化的Oracle ADVM卷设备文件。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d134894e2437" headers="d134894e2360 ">
                                 <p><span class="italic"><code class="codeph">装入点</code></span></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d134894e2437 d134894e2363 ">
                                 <p>指定安装文件系统的目录。在运行<code class="codeph">mount</code>命令之前，此目录必须存在。
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p><code class="codeph">umount</code>从当前节点上的文件系统层次结构中分离Oracle ACFS。
                     </p>
                     <p>在完全卸载文件系统之前， <code class="codeph">umount</code>命令不会将控制权返回到操作系统提示符。
                     </p>
                     <p>如果文件系统忙，则<code class="codeph">umount</code>失败。
                     </p>
                     <p>运行<code class="codeph">umount</code>命令需要<code class="codeph">root</code>权限。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-019B9315-870C-4F2A-BE5E-D4623639FACB__GUID-93C850DD-9EC3-4371-B00F-26FA8377D24C">例子</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>以下示例显示如何卸载Oracle ACFS文件系统。第一个示例使用卷设备文件，第二个示例使用文件系统。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-019B9315-870C-4F2A-BE5E-D4623639FACB__GUID-59616E37-7E68-486F-9AF3-6E67F1843AFA">
                     <p class="titleinexample">示例16-7使用umount命令</p><pre class="oac_no_warn" dir="ltr">＃/ bin / umount / dev / asm / volume1-123＃/ bin / umount / acfsmounts / acfs1</pre></div>
                  <!-- class="example" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html>