<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="Run Oracle Trace File Analyzer on demand using tfactl command-line tool."></meta>
      <meta name="description" content="Run Oracle Trace File Analyzer on demand using tfactl command-line tool."></meta>
      <title>按需分析和诊断收集</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="User’s Guide"></meta>
      <meta property="og:description" content="Run Oracle Trace File Analyzer on demand using tfactl command-line tool."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="User’s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="autonomous-health-framework-users-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-21T23:14:30-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2016, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96320-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="automatic-diagnostic-collection.html" title="Previous" type="text/html"></link>
      <link rel="next" href="changing-clusterware-trace-levels.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Autonomous Health Framework User’s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="ATNMS"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="automatic-diagnostic-collection.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="changing-clusterware-trace-levels.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">用户指导</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="diagnose-troubleshoot-issues-errors.html" property="item" typeof="WebPage"><span property="name">收集诊断数据和分类，诊断和解决问题</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">按需分析和诊断收集</li>
            </ol>
            <a id="GUID-89D19AFB-0230-49AD-8C90-7B4E77A36174" name="GUID-89D19AFB-0230-49AD-8C90-7B4E77A36174"></a>
            
            <h2 id="ATNMS-GUID-89D19AFB-0230-49AD-8C90-7B4E77A36174" class="sect2"><span class="enumeration_chapter">15</span>按需分析和诊断收集</h2>
         </header>
         <div class="ind">
            <div>
               <p>使用<code class="codeph">tfactl</code>命令行工具按需运行Oracle跟踪文件分析器。
               </p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="ondemand-diagnostic-collection.html#GUID-53891145-A0B1-4AA3-A560-2CD3C9EE1065">按需收集诊断和分析日志</a><br><code class="codeph">tfactl</code>命令在执行分析时可以使用不同数据库命令工具的组合。
                  </li>
                  <li class="ulchildlink"><a href="ondemand-diagnostic-collection.html#GUID-CA919197-728E-486B-B8B4-5865A18125C6">查看系统和群集摘要</a><br>summary命令为您提供系统和集群状态的实时报告。
                  </li>
                  <li class="ulchildlink"><a href="ondemand-diagnostic-collection.html#GUID-B35603EE-90AD-4E9C-AA18-DA565EA4DC4B">调查日志以查找错误</a><br>使用Oracle Trace File Analyzer分析群集中的所有日志，以识别最近的错误。
                  </li>
                  <li class="ulchildlink"><a href="ondemand-diagnostic-collection.html#GUID-ECAB7936-8E48-4141-91F8-634DB19BE390">使用包含的工具分析日志</a><br>只有从My Oracle Support note 1513912.1下载Oracle Trace File Analyzer时，Oracle数据库支持工具包才可用。
                  </li>
                  <li class="ulchildlink"><a href="ondemand-diagnostic-collection.html#GUID-34C415D3-D4E1-4AED-AF7A-E31CB92CD9D1">搜索Oracle跟踪文件分析器元数据</a><br>您可以使用<code class="codeph">tfactl search -showdatatypes|-json [json_details]</code>存储在Oracle Trace File Analyzer索引中的所有元数据。
                  </li>
                  <li class="ulchildlink"><a href="ondemand-diagnostic-collection.html#GUID-F8381A7A-E2F7-442C-AED0-3FEEF4129125">收集诊断数据并使用一个命令服务请求数据收集</a><br></li>
                  <li class="ulchildlink"><a href="ondemand-diagnostic-collection.html#GUID-FFAA01BE-6891-4C67-85B2-65D664F8B1CB">将集合上载到Oracle支持</a><br>要启用集合上载，请使用My Oracle Support用户名和密码配置Oracle Trace File Analyzer。
                  </li>
                  <li class="ulchildlink"><a href="changing-clusterware-trace-levels.html#GUID-940A4DD7-80E8-4DAA-9BAD-571D13428DFC">更改Oracle Grid Infrastructure跟踪级别</a><br>通过启用跟踪级别，您可以收集足够的诊断信息来诊断问题的原因。
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>父主题：</strong> <a href="diagnose-troubleshoot-issues-errors.html#GUID-DA02663E-305E-4DD2-9758-DCA883B54198" title="使用Autonomous Health Framework提供的工具来解决错误。">收集诊断数据和分类，诊断和解决问题</a></p>
                  </div>
               </div>
            </div>
            
            <div class="sect2"><a id="GUID-53891145-A0B1-4AA3-A560-2CD3C9EE1065" name="GUID-53891145-A0B1-4AA3-A560-2CD3C9EE1065"></a><h3 id="ATNMS-GUID-53891145-A0B1-4AA3-A560-2CD3C9EE1065" class="sect3"><span class="enumeration_section">15.1</span>按需收集诊断和分析日志</h3>
               <div>
                  <p><code class="codeph">tfactl</code>命令在执行分析时可以使用不同数据库命令工具的组合。
                  </p>
                  <p><code class="codeph">tfactl</code>命令使您可以使用通用语法访问所有工具。使用通用语法隐藏了工具之间语法差异的复杂性。
                  </p>
                  <p>使用Oracle Trace File Analyzer工具执行分析并解决问题。如果需要更多帮助，请使用<code class="codeph">tfactl</code>命令收集Oracle Support的诊断信息。
                  </p>
                  <p>Oracle Trace File Analyzer执行以下操作：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>从您选择的时间收集所有相关的日志数据。</p>
                     </li>
                     <li>
                        <p>修剪日志文件，只收集诊断所需的内容。</p>
                     </li>
                     <li>
                        <p>在运行<code class="codeph">tfactl</code>的节点上<code class="codeph">tfactl</code>所有诊断程序。
                        </p>
                     </li>
                  </ul>
                  <div class="p">
                     <div class="figure" id="GUID-53891145-A0B1-4AA3-A560-2CD3C9EE1065__GUID-82F397DA-EFC3-4288-889F-91B340800533">
                        <p class="titleinfigure">图15-1按需收集</p><img src="img/tfa-demand-collections-18c.png" alt="下面是图15-1的描述" title="下面是图15-1的描述" longdesc="img_text/tfa-demand-collections-18c.html"><br><a href="img_text/tfa-demand-collections-18c.html">“图15-1按需收集”的说明</a></div>
                     <!-- class="figure" -->
                  </div>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="ondemand-diagnostic-collection.html#GUID-89D19AFB-0230-49AD-8C90-7B4E77A36174" title="使用tfactl命令行工具按需运行Oracle跟踪文件分析器。">按需分析和诊断收集</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-CA919197-728E-486B-B8B4-5865A18125C6" name="GUID-CA919197-728E-486B-B8B4-5865A18125C6"></a><h3 id="ATNMS-GUID-CA919197-728E-486B-B8B4-5865A18125C6" class="sect3"><span class="enumeration_section">15.2</span>查看系统和群集摘要</h3>
               <div>
                  <p>summary命令为您提供系统和集群状态的实时报告。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-CA919197-728E-486B-B8B4-5865A18125C6__GUID-2ECC7C8A-0245-4884-89DC-08C8694C6874">句法</p>
                     <p><code class="codeph">tfactl摘要[选项]</code></p>
                     <div class="p">如需更多帮助，请使用<pre class="pre codeblock"><code>tfactl summary -help</code></pre></div>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="ondemand-diagnostic-collection.html#GUID-89D19AFB-0230-49AD-8C90-7B4E77A36174" title="使用tfactl命令行工具按需运行Oracle跟踪文件分析器。">按需分析和诊断收集</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-B35603EE-90AD-4E9C-AA18-DA565EA4DC4B" name="GUID-B35603EE-90AD-4E9C-AA18-DA565EA4DC4B"></a><h3 id="ATNMS-GUID-B35603EE-90AD-4E9C-AA18-DA565EA4DC4B" class="sect3"><span class="enumeration_section">15.3</span>调查日志以查找错误</h3>
               <div>
                  <p>使用Oracle Trace File Analyzer分析群集中的所有日志，以识别最近的错误。</p>
                  <ol>
                     <li class="stepexpand"><span>要查找过去一天中的所有错误：</span><div><pre class="pre codeblock"><code>$ tfactl analyze -last 1d</code></pre></div>
                     </li>
                     <li class="stepexpand"><span>要查找指定持续时间内的所有错误：</span><div><pre class="pre codeblock"><code>$ tfactl analyze -last 18h</code></pre></div>
                     </li>
                     <li class="stepexpand"><span>要在任何节点上查找所有特定错误，例如，要报告<code class="codeph">ORA-00600</code>错误：</span><div><pre class="pre codeblock"><code>$ tfactl analyze -search“ora-00600”-last 8h</code></pre></div>
                     </li>
                  </ol>
                  <div class="example" id="GUID-B35603EE-90AD-4E9C-AA18-DA565EA4DC4B__GUID-AA4ECAFA-3812-4032-8E10-166602907794">
                     <p class="titleinexample">示例15-1分析日志</p><pre class="pre codeblock"><code>tfactl analyze -last 2016年6月6日11:44:39至2016年6月16日11:44:39 tfactl&gt; analyze -last 14d INFO：分析过去20160分钟的所有（警报和Unix系统日志）日志。 ..请耐心等待...信息：分析主机：myserver69报告标题：警报分析，系统日志报告日期范围：最近~14天报告（默认）时区：EST  - 东部标准时间分析开始于：2016年6月16日02:45 ：02 PM EDT经过的分析时间：0秒。配置文件：/u01/app/tfa/myserver69/tfa_home/ext/tnt/conf/tnt.prop配置组：全部总消息数：957，从2016年5月2日09:04:07 EDT到16-Jun -2016 12:45:41 PM EDT邮件匹配最近~14天（s）：225，从03-Jun-2016 02:17:32 PM EDT to 16-Jun-2016 12:45:41 PM EDT last~14每日错误次数：2，从2016年6月9日09:56:47美国东部夏令时间到2016年6月9日09:56:58美国东部夏令时最后~14天（s）忽略错误次数：0次~14次天（s）唯一错误计数：2最后~14天的消息类型发生百分比服务器名称类型----------- ------- -------- ------------ ----- 223 99.1％myserver69 generic 2 0.9％myserver69 ERROR ----------- ------- 225 100.0％唯一错误消息最后~14天（s）发生百分比服务器名称错误----------- ------- ------------------ -  ----- 1 50.0％myserver69文件中的错误/u01/app/racusr/diag/rdbms/rdb11204/RDB112041/trace/RDB112041_ora_25401.trc（incident = 6398）：ORA-07445：遇到异常：core dump [ ] [] [] [] [] []事件详情s in：/u01/app/racusr/diag/rdbms/rdb11204/RDB112041/incident/incdir_6398/RDB112041_ora_25401_i6398.trc使用ADRCI或Support Workbench打包事件。有关错误和包装详细信息，请参阅My Oracle Support上的注释411.1。1 50.0％myserver69错误文件/u01/app/racusr/diag/rdbms/rdb11204/RDB112041/trace/RDB112041_ora_25351.trc（incident = 6394）：ORA-00700：软内部错误，参数：[kgerev1]，[600] ，[600]，[700]，[]，[]，[]，[]，[]，[]，[]，[]事件详情：/ u01 / app / racusr / diag / rdbms / rdb11204 / RDB112041 /incident/incdir_6394/RDB112041_ora_25351_i6394.trc文件中的错误/u01/app/racusr/diag/rdbms/rdb11204/RDB112041/trace/RDB112041_ora_25351.trc（incident = 6395）：ORA-00600：内部错误代码，参数：[]， []，[]，[]，[]，[]，[]，[]，[]，[]，[]，[]事件详情：/ u01 / app / racusr / diag / rdbms / rdb11204 / RDB112041 /incident/incdir_6395/RDB112041_ora_25351_i6395.trc将诊断数据转储到目录= [cdmp_20160609095648]，由（instance = 1，osid = 25351），summary = [incident = 6394]请求。使用ADRCI或Support Workbench打包事件。有关错误和包装详细信息，请参阅My Oracle Support上的注释411.1。----------- ------- 2 100.0％请参阅更改收集哪些目录以获取更多详细信息。</code></pre></div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="running-summary-and-analysis-commands.html#GUID-6017A94F-E65E-4121-B5B8-6D71EE48DCDD" title="使用tfactl summary命令查看Oracle Trace File Analyzer部署的摘要。">tfactl摘要</a></li>
                        <li><a href="running-summary-and-analysis-commands.html#GUID-F8D3E8E6-7C50-41E4-A9D8-F15C8E6839F8" title="使用tfactl analyze命令通过解析数据库，Oracle ASM和Oracle Grid Infrastructure警报日志，系统消息日志，OSWatcher Top和OSWatcher Slabinfo文件来获取系统分析。">进行分析</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="ondemand-diagnostic-collection.html#GUID-89D19AFB-0230-49AD-8C90-7B4E77A36174" title="使用tfactl命令行工具按需运行Oracle跟踪文件分析器。">按需分析和诊断收集</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-ECAB7936-8E48-4141-91F8-634DB19BE390" name="GUID-ECAB7936-8E48-4141-91F8-634DB19BE390"></a><h3 id="ATNMS-GUID-ECAB7936-8E48-4141-91F8-634DB19BE390" class="sect3"><span class="enumeration_section">15.4</span>使用包含的工具分析日志</h3>
               <div>
                  <p>只有从My Oracle Support note 1513912.1下载Oracle Trace File Analyzer时，Oracle数据库支持工具包才可用。</p>
                  <p>Oracle跟踪文件分析器与Oracle数据库支持工具包包括以下工具：</p>
                  <div class="tblformal" id="GUID-ECAB7936-8E48-4141-91F8-634DB19BE390__GUID-17B5A047-9CF7-4292-877B-012192F67993">
                     <p class="titleintable">表15-1 Linux和UNIX中包含的工具</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="Linux和UNIX中包含的工具" border="1" summary="This table lists and describes tools included in Linux and UNIX." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="20%" id="d41276e296">工具</th>
                              <th align="left" valign="bottom" width="20%" id="d41276e298">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d41276e302" headers="d41276e296 ">
                                 <p><code class="codeph">orachk</code>或<code class="codeph">exachk</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d41276e302 d41276e298 ">
                                 <p>提供Oracle堆栈的运行状况检查。</p>
                                 <p>Oracle Trace File Analyzer为工程系统安装Oracle EXAchk，为所有非工程系统安装Oracle ORAchk。</p>
                                 <p>有关更多信息，请参阅My Oracle Support说明1070954.1和1268927.2。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d41276e317" headers="d41276e296 ">
                                 <p><code class="codeph">oswatcher</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d41276e317 d41276e298 ">
                                 <p>收集和归档操作系统指标。这些指标对于实例或节点驱逐和性能问题非常有用。</p>
                                 <p>有关更多信息，请参阅My Oracle Support说明301137.1。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d41276e327" headers="d41276e296 ">
                                 <p><code class="codeph">procwatcher</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d41276e327 d41276e298 ">
                                 <p>自动化和捕获数据库性能诊断和会话级挂起信息。</p>
                                 <p>有关更多信息，请参阅My Oracle Support说明459694.1。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d41276e337" headers="d41276e296 ">
                                 <p><code class="codeph">oratop</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d41276e337 d41276e298 ">
                                 <p>提供近实时数据库监控。</p>
                                 <p>有关更多信息，请参阅My Oracle Support说明1500864.1。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d41276e347" headers="d41276e296 ">
                                 <p><code class="codeph">alertsummary</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d41276e347 d41276e298 ">
                                 <p>提供来自所有节点的一个或多个数据库或ASM警报文件的事件摘要。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d41276e355" headers="d41276e296 ">
                                 <p><code class="codeph">LS</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d41276e355 d41276e298 ">
                                 <p>列出Oracle Trace File Analyzer了解所有节点上给定文件名模式的所有文件。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d41276e363" headers="d41276e296 ">
                                 <p><code class="codeph">的pstack</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d41276e363 d41276e298 ">
                                 <p>为所有节点上的指定进程生成进程堆栈。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d41276e371" headers="d41276e296 ">
                                 <p><code class="codeph">grep的</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d41276e371 d41276e298 ">
                                 <p>使用指定的数据库搜索警报或跟踪文件中的给定字符串。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d41276e379" headers="d41276e296 ">
                                 <p><code class="codeph">摘要</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d41276e379 d41276e298 ">
                                 <p>提供配置的高级摘要。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d41276e387" headers="d41276e296 ">
                                 <p><code class="codeph">六</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d41276e387 d41276e298 ">
                                 <p>打开警报或跟踪文件，以便在<code class="codeph">vi</code>编辑器中查看给定的数据库和文件名模式。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d41276e398" headers="d41276e296 ">
                                 <p><code class="codeph">尾巴</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d41276e398 d41276e298 ">
                                 <p>针对给定数据库和文件名模式在警报或跟踪文件上运行尾部。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d41276e407" headers="d41276e296 ">
                                 <p><code class="codeph">PARAM</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d41276e407 d41276e298 ">
                                 <p>显示与指定模式匹配的所有数据库和操作系统参数。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d41276e415" headers="d41276e296 ">
                                 <p><code class="codeph">dbglevel</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d41276e415 d41276e298 ">
                                 <p>使用一个命令设置和取消设置多个CRS跟踪级别。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d41276e423" headers="d41276e296 ">
                                 <p><code class="codeph">历史</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d41276e423 d41276e298 ">
                                 <p>显示<code class="codeph">tfactl</code> shell的shell历史记录。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d41276e434" headers="d41276e296 ">
                                 <p><code class="codeph">变化</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d41276e434 d41276e298 ">
                                 <p>报告在给定时间段内系统设置的更改。该报告包括数据库参数，操作系统参数和应用的修补程序。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d41276e442" headers="d41276e296 ">
                                 <p><code class="codeph">calog</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d41276e442 d41276e298 ">
                                 <p>报告群集事件日志中的主要事件。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d41276e450" headers="d41276e296 ">
                                 <p><code class="codeph">事件</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d41276e450 d41276e298 ">
                                 <p>报告日志中显示的警告和错误。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d41276e458" headers="d41276e296 ">
                                 <p><code class="codeph">managelogs</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d41276e458 d41276e298 ">
                                 <p>显示磁盘空间使用情况并清除ADR日志和跟踪文件。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d41276e466" headers="d41276e296 ">
                                 <p><code class="codeph">PS</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d41276e466 d41276e298 ">
                                 <p>查找流程。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d41276e474" headers="d41276e296 ">
                                 <p><code class="codeph">分流</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d41276e474 d41276e298 ">
                                 <p>总结<code class="codeph">oswatcher</code>或<code class="codeph">exawatcher</code>数据。
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="tblformal" id="GUID-ECAB7936-8E48-4141-91F8-634DB19BE390__GUID-B4392490-E12D-453E-BEED-636FAE3911A0">
                     <p class="titleintable">表15-2 Microsoft Windows中包含的工具</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="Microsoft Windows中包含的工具" border="1" summary="This table lists and describes tools included in Microsoft Windows." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="20%" id="d41276e497">工具</th>
                              <th align="left" valign="bottom" width="20%" id="d41276e499">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d41276e503" headers="d41276e497 ">
                                 <p><code class="codeph">calog</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d41276e503 d41276e499 ">
                                 <p>报告群集事件日志中的主要事件。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d41276e511" headers="d41276e497 ">
                                 <p><code class="codeph">变化</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d41276e511 d41276e499 ">
                                 <p>报告在给定时间段内系统设置的更改。该报告包括数据库参数，操作系统参数和应用的修补程序。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d41276e519" headers="d41276e497 ">
                                 <p><code class="codeph">DIR</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d41276e519 d41276e499 ">
                                 <p>列出Oracle Trace File Analyzer了解所有节点上给定文件名模式的所有文件。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d41276e527" headers="d41276e497 ">
                                 <p><code class="codeph">事件</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d41276e527 d41276e499 ">
                                 <p>报告日志中显示的警告和错误。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d41276e535" headers="d41276e497 ">
                                 <p><code class="codeph">FINDSTR</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d41276e535 d41276e499 ">
                                 <p>使用指定的数据库搜索警报或跟踪文件中的给定字符串。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d41276e543" headers="d41276e497 ">
                                 <p><code class="codeph">历史</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d41276e543 d41276e499 ">
                                 <p>显示<code class="codeph">tfactl</code> shell的shell历史记录。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d41276e554" headers="d41276e497 ">
                                 <p><code class="codeph">managelogs</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d41276e554 d41276e499 ">
                                 <p>显示磁盘空间使用情况并清除ADR日志和跟踪文件。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d41276e562" headers="d41276e497 ">
                                 <p><code class="codeph">记事本</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d41276e562 d41276e499 ">
                                 <p>打开警报或跟踪文件，以便在<code class="codeph">notepad</code>编辑器中查看给定的数据库和文件名模式。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d41276e573" headers="d41276e497 ">
                                 <p><code class="codeph">PARAM</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d41276e573 d41276e499 ">
                                 <p>显示与指定模式匹配的所有数据库和操作系统参数。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d41276e581" headers="d41276e497 ">
                                 <p><code class="codeph">摘要</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d41276e581 d41276e499 ">
                                 <p>提供配置的高级摘要。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d41276e589" headers="d41276e497 ">
                                 <p><code class="codeph">任务列表</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d41276e589 d41276e499 ">
                                 <p>查找流程。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p>要验证已安装的工具：</p><pre class="pre codeblock"><code>$ tfactl toolstatus</code></pre><p>您可以在命令行或shell模式下使用<code class="codeph">tfactl</code>运行每个工具。
                  </p>
                  <p>要从命令行运行工具：</p><pre class="pre codeblock"><code>$ tfactl运行<code class="codeph">tool</code></code></pre><p>以下示例显示如何在shell模式下使用<code class="codeph">tfactl</code> 。运行该命令启动<code class="codeph">tfactl</code> ，连接到数据库<span class="variable" translate="no">MyDB</span> ，然后运行<code class="codeph">oratop</code> ：</p><pre class="pre codeblock"><code>$ tfactl tfactl&gt;数据库MyDB MyDB tfactl&gt; oratop</code></pre></div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="https://support.oracle.com/rs?type=doc&amp;amp;amp;id=1513912.1" target="_blank">https://support.oracle.com/rs?type=doc&amp;amp;id=1513912.1</a></li>
                        <li><a href="https://support.oracle.com/rs?type=doc&amp;amp;amp;id=1070954.1" target="_blank">https://support.oracle.com/rs?type=doc&amp;amp;id=1070954.1</a></li>
                        <li><a href="https://support.oracle.com/rs?type=doc&amp;amp;amp;id=1268927.2" target="_blank">https://support.oracle.com/rs?type=doc&amp;amp;id=1268927.2</a></li>
                        <li><a href="https://support.oracle.com/rs?type=doc&amp;amp;amp;id=301137.1" target="_blank">https://support.oracle.com/rs?type=doc&amp;amp;id=301137.1</a></li>
                        <li><a href="https://support.oracle.com/rs?type=doc&amp;amp;amp;id=459694.1" target="_blank">https://support.oracle.com/rs?type=doc&amp;amp;id=459694.1</a></li>
                        <li><a href="https://support.oracle.com/rs?type=doc&amp;amp;amp;id=1500864.1" target="_blank">https://support.oracle.com/rs?type=doc&amp;amp;id=1500864.1</a></li>
                        <li><a href="https://support.oracle.com/rs?type=doc&amp;amp;amp;id=215187.1" target="_blank">https://support.oracle.com/rs?type=doc&amp;amp;id=215187.1</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="ondemand-diagnostic-collection.html#GUID-89D19AFB-0230-49AD-8C90-7B4E77A36174" title="使用tfactl命令行工具按需运行Oracle跟踪文件分析器。">按需分析和诊断收集</a></p>
                     </div>
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-34C415D3-D4E1-4AED-AF7A-E31CB92CD9D1" name="GUID-34C415D3-D4E1-4AED-AF7A-E31CB92CD9D1"></a><h3 id="ATNMS-GUID-34C415D3-D4E1-4AED-AF7A-E31CB92CD9D1" class="sect3"><span class="enumeration_section">15.5</span>搜索Oracle跟踪文件分析器元数据</h3>
               <div>
                  <p>您可以使用<code class="codeph">tfactl search -showdatatypes|-json [json_details]</code>存储在Oracle Trace File Analyzer索引中的所有元数据。
                  </p>
                  <div class="p">您可以在特定日期之间搜索特定Oracle数据库的所有事件，例如，<pre class="pre codeblock"><code>tfactl search -json'{“data_type”：“event”，“content”：“oracle”，“database”：“rac11g”，“from”：“01/20/2017 00:00:00”，“to” ：“12/20/2018 00:00:00”}'</code></pre></div>
                  <p>列出所有索引事件： <code class="codeph">tfactl search -json '{"data_type":"event"}'</code></p>
                  <p>列出所有可用的数据类型： <code class="codeph">tfactl search -showdatatypes</code></p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="ondemand-diagnostic-collection.html#GUID-89D19AFB-0230-49AD-8C90-7B4E77A36174" title="使用tfactl命令行工具按需运行Oracle跟踪文件分析器。">按需分析和诊断收集</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-F8381A7A-E2F7-442C-AED0-3FEEF4129125" name="GUID-F8381A7A-E2F7-442C-AED0-3FEEF4129125"></a><h3 id="ATNMS-GUID-F8381A7A-E2F7-442C-AED0-3FEEF4129125" class="sect3"><span class="enumeration_section">15.6</span>收集诊断数据并使用一个命令服务请求数据收集</h3>
               <div>
                  <p></p>
                  <p>要执行按需诊断集合：</p><pre class="pre codeblock"><code>$ tfactl diagcollect</code></pre><p>运行该命令会修剪并收集整个群集中过去12小时内更新的所有重要日志文件。Oracle Trace File Analyzer将集合存储在存储库目录中。您可以使用<code class="codeph">–last <span class="variable" translate="no">n</span> h|d</code>选项更改<code class="codeph">diagcollect</code>时间范围。
                  </p>
                  <p>Oracle Support通常会要求您运行服务请求数据收集（SRDC）。SRDC取决于您遇到的问题类型。它是一系列旨在诊断您的问题的数据收集指令。手动收集SRDC可能很困难，需要许多不同的步骤。</p>
                  <p>Oracle Trace File Analyzer可以使用一个命令运行SRDC集合：</p><pre class="pre codeblock"><code>$ tfactl diagcollect -srdc <span class="variable" translate="no">srdc_type</span> -sr <span class="variable" translate="no">sr_number</span></code></pre><p>要运行SRDC，请使用以下Oracle特权用户帐户之一：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><code class="codeph">ORACLE_HOME</code>所有者</p>
                     </li>
                     <li>
                        <p><code class="codeph">GRID_HOME</code>所有者</p>
                     </li>
                  </ul>
                  <div class="tblformal" id="GUID-F8381A7A-E2F7-442C-AED0-3FEEF4129125__GUID-47A50EC2-C409-490D-9EB4-8F73526093B2">
                     <p class="titleintable">表15-3一个命令服务请求数据收集</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="一个命令服务请求数据收集" border="1" summary="This table lists and describes one command Service Request Data Collections (SRDC)." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="20%" id="d41276e771">问题类型</th>
                              <th colspan="2" align="left" valign="bottom" id="d41276e773">可用的SRDC</th>
                              <th align="left" valign="bottom" width="20%" id="d41276e775">收集范围</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d41276e779" headers="d41276e771 ">
                                 <p>ORA错误</p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d41276e779 d41276e773 ">
                                 <p><code class="codeph">ORA-00020</code></p>
                                 <p><code class="codeph">ORA-00060</code></p>
                                 <p><code class="codeph">ORA-00600</code></p>
                                 <p><code class="codeph">ORA-00700</code></p>
                                 <p><code class="codeph">ORA-01031</code></p>
                                 <p><code class="codeph">ORA-01555</code></p>
                                 <p><code class="codeph">ORA-01578</code></p>
                                 <p><code class="codeph">ORA-01628</code></p>
                                 <p><code class="codeph">ORA-04030</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d41276e779 d41276e773 ">
                                 <p><code class="codeph">ORA-04031</code></p>
                                 <p><code class="codeph">ORA-07445</code></p>
                                 <p><code class="codeph">ORA-08102</code></p>
                                 <p><code class="codeph">ORA-08103</code></p>
                                 <p><code class="codeph">ORA-27300</code></p>
                                 <p><code class="codeph">ORA-27301</code></p>
                                 <p><code class="codeph">ORA-27302</code></p>
                                 <p><code class="codeph">ORA-29548</code></p>
                                 <p><code class="codeph">ORA-30036</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d41276e779 d41276e775 ">
                                 <p>仅本地</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d41276e842" headers="d41276e771 ">
                                 <p>Oracle数据库性能问题</p>
                              </td>
                              <td colspan="2" align="left" valign="top" headers="d41276e842 d41276e773 ">
                                 <p><code class="codeph">dbperf</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d41276e842 d41276e775 ">
                                 <p>群集范围</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d41276e853" headers="d41276e771 ">
                                 <p>数据泵导入性能问题</p>
                              </td>
                              <td colspan="2" align="left" valign="top" headers="d41276e853 d41276e773 ">
                                 <p><code class="codeph">dbimpdpperf</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d41276e853 d41276e775 ">
                                 <p>仅本地</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d41276e864" headers="d41276e771 ">
                                 <p>SQL性能问题</p>
                              </td>
                              <td colspan="2" align="left" valign="top" headers="d41276e864 d41276e773 ">
                                 <p><code class="codeph">dbsqlperf</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d41276e864 d41276e775 ">
                                 <p>仅本地</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d41276e875" headers="d41276e771 ">
                                 <p>透明数据加密（TDE）问题</p>
                              </td>
                              <td colspan="2" align="left" valign="top" headers="d41276e875 d41276e773 ">
                                 <p><code class="codeph">dbtde</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d41276e875 d41276e775 ">
                                 <p>仅本地</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d41276e886" headers="d41276e771 ">
                                 <p>Oracle数据库资源问题</p>
                              </td>
                              <td colspan="2" align="left" valign="top" headers="d41276e886 d41276e773 ">
                                 <p><code class="codeph">dbunixresources</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d41276e886 d41276e775 ">
                                 <p>仅本地</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d41276e897" headers="d41276e771 ">
                                 <p>其他内部Oracle数据库错误</p>
                              </td>
                              <td colspan="2" align="left" valign="top" headers="d41276e897 d41276e773 ">
                                 <p><code class="codeph">内部错误</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d41276e897 d41276e775 ">
                                 <p>仅本地</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d41276e908" headers="d41276e771 ">
                                 <p>Oracle数据库修补问题</p>
                              </td>
                              <td colspan="2" align="left" valign="top" headers="d41276e908 d41276e773 ">
                                 <p><code class="codeph">dbpatchinstall</code></p>
                                 <p><code class="codeph">dbpatchconflict</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d41276e908 d41276e775 ">
                                 <p>仅本地</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d41276e922" headers="d41276e771 ">
                                 <p>原始Oracle数据库导出（exp）</p>
                              </td>
                              <td colspan="2" align="left" valign="top" headers="d41276e922 d41276e773 ">
                                 <p><code class="codeph">dbexp</code></p>
                                 <p><code class="codeph">dbexpdp</code></p>
                                 <p><code class="codeph">dbexpdpapi</code></p>
                                 <p><code class="codeph">dbexpdpperf</code></p>
                                 <p><code class="codeph">dbexpdptts</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d41276e922 d41276e775 ">
                                 <p>仅本地</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d41276e945" headers="d41276e771 ">
                                 <p>原始Oracle数据库导入（imp）</p>
                              </td>
                              <td colspan="2" align="left" valign="top" headers="d41276e945 d41276e773 ">
                                 <p><code class="codeph">dbimp</code></p>
                                 <p><code class="codeph">dbimpdp</code></p>
                                 <p><code class="codeph">dbimpdpperf</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d41276e945 d41276e775 ">
                                 <p>仅本地</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d41276e962" headers="d41276e771 ">
                                 <p>RMAN</p>
                              </td>
                              <td colspan="2" align="left" valign="top" headers="d41276e962 d41276e773 ">
                                 <p><code class="codeph">dbrman</code></p>
                                 <p><code class="codeph">dbrman600</code></p>
                                 <p><code class="codeph">dbrmanperf</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d41276e962 d41276e775 ">
                                 <p>仅本地</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d41276e980" headers="d41276e771 ">
                                 <p>系统更改编号</p>
                              </td>
                              <td colspan="2" align="left" valign="top" headers="d41276e980 d41276e773 ">
                                 <p><code class="codeph">dbscn</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d41276e980 d41276e775 ">
                                 <p>仅本地</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d41276e991" headers="d41276e771 ">
                                 <p>Oracle GoldenGate</p>
                              </td>
                              <td colspan="2" align="left" valign="top" headers="d41276e991 d41276e773 ">
                                 <p><code class="codeph">dbggclassicmode</code></p>
                                 <p><code class="codeph">dbggintegratedmode</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d41276e991 d41276e775 ">
                                 <p>仅本地</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d41276e1005" headers="d41276e771 ">
                                 <p>Oracle数据库安装/升级问题</p>
                              </td>
                              <td colspan="2" align="left" valign="top" headers="d41276e1005 d41276e773 ">
                                 <p><code class="codeph">dbinstall</code></p>
                                 <p><code class="codeph">dbupgrade</code></p>
                                 <p><code class="codeph">dbpreupgrade</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d41276e1005 d41276e775 ">
                                 <p>仅本地</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d41276e1022" headers="d41276e771 ">
                                 <p>Oracle数据库存储问题</p>
                              </td>
                              <td colspan="2" align="left" valign="top" headers="d41276e1022 d41276e773 ">
                                 <p><code class="codeph">dbasm</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d41276e1022 d41276e775 ">
                                 <p>仅本地</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d41276e1033" headers="d41276e771 ">
                                 <p>自动工作负载存储库（AWR）使用过多的SYSAUX空间</p>
                              </td>
                              <td colspan="2" align="left" valign="top" headers="d41276e1033 d41276e773 ">
                                 <p><code class="codeph">dbawrspace</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d41276e1033 d41276e775 ">
                                 <p>仅本地</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d41276e1044" headers="d41276e771 ">
                                 <p>Oracle数据库启动/关闭问题</p>
                              </td>
                              <td colspan="2" align="left" valign="top" headers="d41276e1044 d41276e773 ">
                                 <p><code class="codeph">dbshutdown</code></p>
                                 <p><code class="codeph">dbstartup</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d41276e1044 d41276e775 "> </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d41276e1056" headers="d41276e771 ">
                                 <p>XDB安装或无效的对象问题</p>
                              </td>
                              <td colspan="2" align="left" valign="top" headers="d41276e1056 d41276e773 ">
                                 <p><code class="codeph">dbxdb</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d41276e1056 d41276e775 ">
                                 <p>仅本地</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d41276e1067" headers="d41276e771 ">
                                 <p>Oracle Data Guard问题</p>
                              </td>
                              <td colspan="2" align="left" valign="top" headers="d41276e1067 d41276e773 ">
                                 <p><code class="codeph">dbdataguard</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d41276e1067 d41276e775 ">
                                 <p>仅本地</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d41276e1078" headers="d41276e771 ">
                                 <p><samp class="msgph">Corrupt块相对dba</samp>问题的警报日志消息</p>
                              </td>
                              <td colspan="2" align="left" valign="top" headers="d41276e1078 d41276e773 ">
                                 <p><code class="codeph">dbblockcorruption</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d41276e1078 d41276e775 ">
                                 <p>仅本地</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d41276e1092" headers="d41276e771 ">
                                 <p>ASM / DBFS / DNFS / ACFS问题</p>
                              </td>
                              <td colspan="2" align="left" valign="top" headers="d41276e1092 d41276e773 ">
                                 <p><code class="codeph">dnfs</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d41276e1092 d41276e775 ">
                                 <p>仅本地</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d41276e1103" headers="d41276e771 ">
                                 <p>创建/维护分区/子分区表/索引问题</p>
                              </td>
                              <td colspan="2" align="left" valign="top" headers="d41276e1103 d41276e773 ">
                                 <p><code class="codeph">的dbpartition</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d41276e1103 d41276e775 ">
                                 <p>仅本地</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d41276e1115" headers="d41276e771 ">
                                 <p>针对分区表/索引的慢<code class="codeph">Create</code> / <code class="codeph">Alter</code> / <code class="codeph">Drop</code>命令</p>
                              </td>
                              <td colspan="2" align="left" valign="top" headers="d41276e1115 d41276e773 ">
                                 <p><code class="codeph">dbpartitionperf</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d41276e1115 d41276e775 ">
                                 <p>仅本地</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d41276e1135" headers="d41276e771 ">
                                 <p>SQL性能问题</p>
                              </td>
                              <td colspan="2" align="left" valign="top" headers="d41276e1135 d41276e773 ">
                                 <p><code class="codeph">dbsqlperf</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d41276e1135 d41276e775 ">
                                 <p>仅本地</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d41276e1146" headers="d41276e771 ">
                                 <p>UNDO腐败问题</p>
                              </td>
                              <td colspan="2" align="left" valign="top" headers="d41276e1146 d41276e773 ">
                                 <p><code class="codeph">dbundocorruption</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d41276e1146 d41276e775 ">
                                 <p>仅本地</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d41276e1157" headers="d41276e771 ">
                                 <p>监听错误： <code class="codeph">TNS-12516</code> / <code class="codeph">TNS-12518</code> / <code class="codeph">TNS-12519</code> / <code class="codeph">TNS-12520</code></p>
                              </td>
                              <td colspan="2" align="left" valign="top" headers="d41276e1157 d41276e773 ">
                                 <p><code class="codeph">listener_services</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d41276e1157 d41276e775 ">
                                 <p>仅本地</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d41276e1179" headers="d41276e771 ">
                                 <p>命名服务错误： <code class="codeph">ORA-12154</code> / <code class="codeph">ORA-12514</code> / <code class="codeph">ORA-12528</code></p>
                              </td>
                              <td colspan="2" align="left" valign="top" headers="d41276e1179 d41276e773 ">
                                 <p><code class="codeph">naming_services</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d41276e1179 d41276e775 ">
                                 <p>仅本地</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d41276e1198" headers="d41276e771 ">
                                 <p>Oracle数据库审计的标准信息</p>
                              </td>
                              <td colspan="2" align="left" valign="top" headers="d41276e1198 d41276e773 ">
                                 <p><code class="codeph">dbaudit</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d41276e1198 d41276e775 ">
                                 <p>仅本地</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d41276e1209" headers="d41276e771 ">
                                 <p>企业管理器表空间使用指标问题</p>
                              </td>
                              <td colspan="2" align="left" valign="top" headers="d41276e1209 d41276e773 ">
                                 <p><code class="codeph">emtbsmetrics</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d41276e1209 d41276e775 ">
                                 <p>仅限本地（在企业管理器代理程序目标上）</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d41276e1220" headers="d41276e771 ">
                                 <p>企业管理器常规指标页面或阈值问题</p>
                              </td>
                              <td colspan="2" align="left" valign="top" headers="d41276e1220 d41276e773 ">
                                 <p><code class="codeph">emmetricalert</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d41276e1220 d41276e775 ">
                                 <p>仅限本地（在Enterprise Manager Agent目标和存储库数据库上）</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d41276e1231" headers="d41276e771 ">
                                 <p>企业管理器调试日志集合</p>
                                 <p>运行<code class="codeph">emdebugon</code> ，重现问题，然后运行<code class="codeph">emdebugoff</code> ，再次禁用调试并收集调试日志</p>
                              </td>
                              <td colspan="2" align="left" valign="top" headers="d41276e1231 d41276e773 ">
                                 <p><code class="codeph">emdebugon</code></p>
                                 <p><code class="codeph">emdebugoff</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d41276e1231 d41276e775 ">
                                 <p>仅限本地（在企业管理器代理目标和Oracle管理服务上）</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d41276e1253" headers="d41276e771 ">
                                 <p>企业管理器目标发现/添加问题</p>
                              </td>
                              <td colspan="2" align="left" valign="top" headers="d41276e1253 d41276e773 ">
                                 <p><code class="codeph">emcliadd</code></p>
                                 <p><code class="codeph">emclusdisc</code></p>
                                 <p><code class="codeph">emdbsys</code></p>
                                 <p><code class="codeph">emgendisc</code></p>
                                 <p><code class="codeph">emprocdisc</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d41276e1253 d41276e775 ">
                                 <p>仅本地</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d41276e1276" headers="d41276e771 ">
                                 <p>企业管理器OMS重启问题</p>
                              </td>
                              <td colspan="2" align="left" valign="top" headers="d41276e1276 d41276e773 ">
                                 <p><code class="codeph">emrestartoms</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d41276e1276 d41276e775 ">
                                 <p>仅本地</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d41276e1288" headers="d41276e771 ">
                                 <p>企业管理器代理性能问题</p>
                              </td>
                              <td colspan="2" align="left" valign="top" headers="d41276e1288 d41276e773 ">
                                 <p><code class="codeph">emagentperf</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d41276e1288 d41276e775 ">
                                 <p>仅本地</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d41276e1299" headers="d41276e771 ">
                                 <p>企业管理器OMS崩溃问题</p>
                              </td>
                              <td colspan="2" align="left" valign="top" headers="d41276e1299 d41276e773 ">
                                 <p><code class="codeph">emomscrash</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d41276e1299 d41276e775 ">
                                 <p>仅本地</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d41276e1310" headers="d41276e771 ">
                                 <p>企业管理器Java堆使用或性能问题</p>
                              </td>
                              <td colspan="2" align="left" valign="top" headers="d41276e1310 d41276e773 ">
                                 <p><code class="codeph">emomsheap</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d41276e1310 d41276e775 ">
                                 <p>仅本地</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d41276e1321" headers="d41276e771 ">
                                 <p>企业管理器OMS崩溃，重启或性能问题</p>
                              </td>
                              <td colspan="2" align="left" valign="top" headers="d41276e1321 d41276e773 ">
                                 <p><code class="codeph">emomshungcpu</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d41276e1321 d41276e775 ">
                                 <p>仅本地</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d41276e1332" headers="d41276e771 ">
                                 <p>Oracle Exalogic完整的Exalogs数据收集信息</p>
                              </td>
                              <td colspan="2" align="left" valign="top" headers="d41276e1332 d41276e773 ">
                                 <p><code class="codeph">esexalogic</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d41276e1332 d41276e775 ">
                                 <p>仅本地</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p>有关<code class="codeph">tfactl diagcollect –srdc -help</code>更多信息，请运行<code class="codeph">tfactl diagcollect –srdc -help</code> 。
                  </p>
                  <p>SRDC收集的内容因每种类型而异，例如：</p>
                  <div class="tblformal" id="GUID-F8381A7A-E2F7-442C-AED0-3FEEF4129125__GUID-ABE85FAA-49C8-4FCB-941C-488269D8AF4B">
                     <p class="titleintable">表15-4 SRDC集合</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="SRDC集合" border="1" summary="This table lists and describes what the SRDCs collect varies for each type." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" id="d41276e1360">命令</th>
                              <th align="left" valign="bottom" id="d41276e1362">什么收集</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d41276e1366" headers="d41276e1360 ">
                                 <p><code class="codeph">$ tfactl diagcollect -srdc ORA-04031</code></p>
                              </td>
                              <td align="left" valign="top" headers="d41276e1366 d41276e1362 ">
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p>IPS包</p>
                                    </li>
                                    <li>
                                       <p>补丁列表</p>
                                    </li>
                                    <li>
                                       <p>AWR报告</p>
                                    </li>
                                    <li>
                                       <p>记忆信息</p>
                                    </li>
                                    <li>
                                       <p>RDA HCVE输出</p>
                                    </li>
                                 </ul>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d41276e1388" headers="d41276e1360 ">
                                 <p><code class="codeph">$ tfactl diagcollect -srdc dbperf</code></p>
                              </td>
                              <td align="left" valign="top" headers="d41276e1388 d41276e1362 ">
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p>ADDM报告</p>
                                    </li>
                                    <li>
                                       <p>AWR适用于良好的时期和问题期</p>
                                    </li>
                                    <li>
                                       <p>AWR比较期间报告</p>
                                    </li>
                                    <li>
                                       <p>ASH报告良好和问题期</p>
                                    </li>
                                    <li>
                                       <p>OSWatcher</p>
                                    </li>
                                    <li>
                                       <p>IPS包（如果在问题期间有任何错误）</p>
                                    </li>
                                    <li>
                                       <p>Oracle ORAchk（与性能相关的检查）</p>
                                    </li>
                                 </ul>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p>Oracle Trace File Analyzer会提示您输入基于SRDC类型所需的信息。</p>
                  <p>例如，当您运行<code class="codeph">ORA-4031</code> SRDC时：</p><pre class="pre codeblock"><code>$ tfactl diagcollect -srdc ORA-04031</code></pre><p>Oracle Trace File Analyzer提示输入事件日期/时间和数据库名称。</p>
                  <ol>
                     <li>
                        <p>Oracle Trace File Analyzer扫描系统以识别系统中的最新事件（最多10个）。</p>
                     </li>
                     <li>
                        <p>选择相关事件后，Oracle Trace File Analyzer将继续进行诊断收集。</p>
                     </li>
                     <li>
                        <p>Oracle Trace File Analyzer可识别所有必需的文件。</p>
                     </li>
                     <li>
                        <p>Oracle Trace File Analyzer会修剪适用的所有文件。</p>
                     </li>
                     <li>
                        <p>Oracle Trace File Analyzer将所有数据打包到zip文件中，以备提供支持。</p>
                     </li>
                  </ol>
                  <p>您还可以在非交互式静默模式下运行SRDC集合。预先提供所有必需的参数，如下所示：</p><pre class="pre codeblock"><code>$ tfactl diagcollect -srdc <span class="variable" translate="no">srdc_type</span> -database <span class="variable" translate="no">db</span> -from“ <span class="variable" translate="no">date</span> <span class="variable" translate="no">time</span> ”-to“ <span class="variable" translate="no">date</span> <span class="variable" translate="no">time</span> ”</code></pre><div class="example" id="GUID-F8381A7A-E2F7-442C-AED0-3FEEF4129125__GUID-4B648137-5450-4A97-8538-ED590347C7FE">
                     <p class="titleinexample">例15-2诊断收集</p><pre class="pre codeblock"><code>$ tfactl diagcollect收集所有组件过去12小时的数据......收集所有节点的数据集合ID：20160616115923myserver69详细日志记录：/u01/app/tfa/repository/collection_Thu_Jun_16_11_59_23_PDT_2016_node_all/diagcollect_20160616115923_myserver69.log 2016/06/16 11:59:27 PDT：集合名称：tfa_Thu_Jun_16_11_59_23_PDT_2016.zip 2016/06/16 11:59:28 PDT：从主机收集诊断信息：[myserver70，myserver71，myserver69] 2016/06/16 11:59:28 PDT：扫描正在进行收集的文件...2016/06/16 11:59:28 PDT：收集其他诊断信息......2016/06/16 11:59:33 PDT：获取满足时间范围的文件列表[06/15/2016 23:59:27 PDT，2016年6月16日11:59:33 PDT] 2016/06/16 11 ：59：37 PDT：收集ADR事件文件......2016/06/16 12:00:32 PDT：完成了其他诊断信息的收集......2016/06/16 12:00:39 PDT：已完成本地收集2016/06/16 12:00:40 PDT：正在进行远程收集.......--------------------------------------。|收集摘要| + ------------ + ----------- + ------ + ------ + |主持人|状态|尺寸|时间| + ------------ + ----------- + ------ + ------ + | myserver71 |完成| 15MB | 64s | | myserver70 |完成| 14MB | 67s | | myserver69 |完成| 14MB | 71s | '------------ + ----------- + ------ + ------'正在收集日志：/ u01 / app / TFA /库/ collection_Thu_Jun_16_11_59_23_PDT_2016_node_all /u01/app/tfa/repository/collection_Thu_Jun_16_11_59_23_PDT_2016_node_all/myserver71.tfa_Thu_Jun_16_11_59_23_PDT_2016.zip /u01/app/tfa/repository/collection_Thu_Jun_16_11_59_23_PDT_2016_node_all/myserver69.tfa_Thu_Jun_16_11_59_23_PDT_2016.zip / U01 /应用程序/ TFA /库/ collection_Thu_Jun_16_11_59_23_PDT_2016_node_all / myserver70 .tfa_Thu_Jun_16_11_59_23_PDT_2016.zip</code></pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-F8381A7A-E2F7-442C-AED0-3FEEF4129125__GUID-EAD9C1C8-7D03-4B9E-907D-D727538261A4">
                     <p class="titleinexample">例15-3一个命令SRDC</p><pre class="pre codeblock"><code>$ tfactl diagcollect -srdc ora600输入EVENT_TIME的值[YYYY-MM-DD HH24：MI：SS，&lt;RETURN&gt; = ALL]：输入DATABASE_NAME [&lt;RETURN&gt; = ALL]的值：1。Jun / 09/2016 09:56:47：[rdb11204] ORA-00600：内部错误代码，参数：[]，[]，[]，[]，[]，[]，[]，[]，[] ，[]，[]，[] 2。2016年5月19日14:19:30：[rdb11204] ORA-00600：内部错误代码，参数：[]，[]，[]，[]，[]，[]，[]，[]，[] ，[]，[]，[] 3。2016年5月13日10:14:30：[rdb11204] ORA-00600：内部错误代码，参数：[]，[]，[]，[]，[]，[]，[]，[]，[] ，[]，[]，[] 4。2016年5月13日10:14:09：[rdb11204] ORA-00600：内部错误代码，参数：[]，[]，[]，[]，[]，[]，[]，[]，[] ，[]，[]，[]请选择事件：1-4 [1] 1所选值为：1（2016年6月9日09:56:47）收集本地节点的数据从Jun扫描文件/ 09/2016 03:56:47至2016年6月9日15:56:47收藏ID：20160616115820myserver69详细登录：/u01/app/tfa/repository/srdc_ora600_collection_Thu_Jun_16_11_58_20_PDT_2016_node_local/diagcollect_20160616115820_myserver69.log 2016/06/16 11:58 ：23 PDT：集合名称：tfa_srdc_ora600_Thu_Jun_16_11_58_20_PDT_2016.zip 2016/06/16 11:58:23 PDT：扫描正在进行收集的文件...2016/06/16 11:58:23 PDT：收集其他诊断信息......2016/06/16 11:58:28 PDT：获取满足时间范围的文件列表[06/09/2016 03:56:47 PDT，06/09/2016 15:56:47 PDT] 2016/06/16 11 ：58：30 PDT：收集ADR事件文件......2016/06/16 11:59:02 PDT：完成了其他诊断信息的收集......2016/06/16 11:59:06 PDT：已完成本地收藏.------------------------------ -----。|收集摘要| + ------------ + ----------- + ------- + ------ + |主持人|状态|尺寸|时间| + ------------ + ----------- + ------- + ------ + | myserver69 |完成| 7.9MB | 43s | '------------ ----------- + ------- + ------ +'</code></pre><div class="p">
                        <div class="infoboxnote" id="GUID-F8381A7A-E2F7-442C-AED0-3FEEF4129125__GUID-FAEC7888-AABB-4ADD-8665-3E0BCBC4063D">
                           <p class="notep1">注意：</p>
                           <p>有关如何使用Oracle Trace File Analyzer诊断诊断和解决ORA-00600错误的更多信息，请参阅ORA-600（ORA-00600内部错误）检测，诊断和解决方案。</p>
                        </div>
                     </div>
                  </div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="https://community.oracle.com/community/support/support-blogs/database-support-blog/blog/2018/09/19/ora-600-ora-00600-internal-error-detection-diagnosis-resolution" target="_blank">ORA-600（ORA-00600内部错误）检测，诊断和解决方案</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="ondemand-diagnostic-collection.html#GUID-89D19AFB-0230-49AD-8C90-7B4E77A36174" title="使用tfactl命令行工具按需运行Oracle跟踪文件分析器。">按需分析和诊断收集</a></p>
                     </div>
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-FFAA01BE-6891-4C67-85B2-65D664F8B1CB" name="GUID-FFAA01BE-6891-4C67-85B2-65D664F8B1CB"></a><h3 id="ATNMS-GUID-FFAA01BE-6891-4C67-85B2-65D664F8B1CB" class="sect3"><span class="enumeration_section">15.7</span>将集合上载到Oracle Support</h3>
               <div>
                  <p>要启用集合上载，请使用My Oracle Support用户名和密码配置Oracle Trace File Analyzer。</p>
                  <div class="section">例如：<pre class="pre codeblock"><code>tfactl setupmos</code></pre><p>Oracle Trace File Analyzer将您的登录详细信息安全地存储在加密的钱包中。您只能存储单个用户的登录详细信息。</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>使用<code class="codeph">–sr sr_number</code>选项运行诊断集合。</span><div><pre class="pre codeblock"><code>tfactl diagcollect <span class="variable" translate="no">diagcollect options</span> -sr <span class="variable" translate="no">sr_number</span></code></pre></div>
                        <div>在收集结束时，Oracle跟踪文件分析器会自动将所有集合上载到您的服务请求。</div>
                     </li>
                  </ol>
                  <div class="section">
                     <p>Oracle Trace File Analyzer还可以将任何其他文件上载到您的服务请求。</p>
                     <p>您可以使用钱包上传，该钱包是先前由<code class="codeph">root</code>使用<code class="codeph">tfactl setupmos</code> 。
                     </p><pre class="pre codeblock"><code>tfactl upload -sr <span class="variable" translate="no">sr_number</span> -wallet以<span class="variable" translate="no">space-separated list of files to upload</span></code></pre><p>您也可以在没有钱包的情况下上传。上传时没有钱包<code class="codeph">tfactl</code>提示输入密码。
                     </p><pre class="pre codeblock"><code>tfactl upload -sr <span class="variable" translate="no">sr_number</span> -user <span class="variable" translate="no">user_id</span> <span class="variable" translate="no">space-separated list of files to upload</span></code></pre></div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-FFAA01BE-6891-4C67-85B2-65D664F8B1CB__GUID-4226430F-0E3D-4360-B457-C4627B3DC5CD"><pre class="pre codeblock"><code>-bash-4.1＃tfactl setupmos输入用户ID：john.doe@oracle.com输入密码：钱包不存在...创建钱包成功创建钱包中添加/更新的用户详细信息PASSWORD详细信息在钱包中添加/更新成功 - CERTIMPORT  - 成功导入证书-bash-4.1＃su  -  oradb -bash-4.1 $ /opt/oracle.tfa/tfa/myserver69/tfa_home/bin/tfactl diagcollect -srdc ORA-00600 -sr 3-15985570811输入时间ORA-00600 [YYYY-MM-DD HH24：MI：SS， <span class="variable" translate="no">RETURN</span> = ALL]：输入数据库名称[ <span class="variable" translate="no">RETURN</span> = ALL]：1。2017年10月23日03:03:40：[ogg11204] ORA-00600：内部错误代码，参数：[gc_test_error]，[0]，[0]，[]，[]，[]，[]，[] ，[]，[]，[]，[] 2。Sep / 26/2017 10:03:10：[ogg11204] ORA-00600：内部错误代码，参数：[]，[]，[]，[]，[]，[]，[]，[]，[] ，[]，[]，[] 3。Sep / 26/2017 10:02:49：[ogg11204] ORA-00600：内部错误代码，参数：[]，[]，[]，[]，[]，[]，[]，[]，[] ，[]，[]，[] 4。Sep / 26/2017 10:02:33：[ogg11204] ORA-00600：内部错误代码，参数：[]，[]，[]，[]，[]，[]，[]，[]，[] ，[]，[]，[] 5。Jan / 09/2016 13:01:02：[+ ASM1] ORA-00600：内部错误代码，参数：[ksdhng：msg_checksum]，[9070324609822233070]，[15721744232659255108]，[0x7FFBDC07A9E8]，[]，[]，[ ]，[]，[]，[]，[]，[]请选择事件：1-5 [1] 1所选值为：1（2017年10月23日03:03:40）要运行的脚本此srdc：ipspack rdahcve1210 rdahcve1120 rdahcve1110此srdc中包含的组件：OS CRS DATABASE NOCHMOS在/opt/oracle.tfa/tfa/myserver69/tfa_home/bin/common/dbutil.pm第186行使用未初始化的值$ db_home。收集本地节点的数据扫描文件从2017年10月22日21:03:40到2017年10月23日09:03:40收藏ID：20180430080045myserver69详细登录：/opt/oracle.tfa/tfa/repository /srdc_ora600_collection_Mon_Apr_30_08_00_45_PDT_2018_node_local/diagcollect_20180430080045_myserver69.log 2018/04/30 08:00:50 PDT：注意：任何包含字符串.com的文件或目录名称都将重命名为.com with dotcom 2018/04/30 08:00:50 PDT ：集合名称：tfa_srdc_ora600_Mon_Apr_30_08_00_45_PDT_2018.zip 2018/04/30 08:00:50 PDT：扫描正在进行收集的文件...2018/04/30 08:00:50 PDT：收集其他诊断信息......2018/04/30 08:01:15 PDT：获取满足时间范围的文件列表[10/22/2017 21:03:40 PDT，10/23/2017 09:03:40 PDT] 2018/04/30 08 ：01：34 PDT：收集ADR事件文件......2018/04/30 08:02:21 PDT：完成了其他诊断信息的收集......2018/04/30 08:02:24 PDT：已完成本地收藏2018/04/30 08:02:24 PDT：将收藏上传至SR  -  3-15985570811 2018/04/30 08:02:27 PDT：已成功上传收藏到SR .---------------------------------------。|收集摘要| + ------------ + ----------- + ------- + ------ + |主持人|状态|尺寸|时间| + ------------ + ----------- + ------- + ------ + | myserver69 |完成| 559kB | 94s | '------------ + ----------- + ------- + ------'正在收集日志：/ opt / oracle.tfa / tfa / repository / srdc_ora600_collection_Mon_Apr_30_08_00_45_PDT_2018_node_local /opt/oracle.tfa/tfa/repository/srdc_ora600_collection_Mon_Apr_30_08_00_45_PDT_2018_node_local/myserver69.tfa_srdc_ora600_Mon_Apr_30_08_00_45_PDT_2018.zip</code></pre></div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="ondemand-diagnostic-collection.html#GUID-89D19AFB-0230-49AD-8C90-7B4E77A36174" title="使用tfactl命令行工具按需运行Oracle跟踪文件分析器。">按需分析和诊断收集</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html>