<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Monitoring Performance</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Real Application Clusters Administration and Deployment Guide">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Real Application Clusters Administration and Deployment Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="real-application-clusters-administration-and-deployment-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-04-25T14:02:30-07:00">
      <meta name="dcterms.title" content="Real Application Clusters Administration and Deployment Guide">
      <meta name="dcterms.dateCopyrighted" content="1999, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E95728-03">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="design-and-deployment-techniques.html" title="Previous" type="text/html">
      <link rel="next" href="converting-single-instance-oracle-databases-to-oracle-rac-and-oracle-rac-one-node.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="RACAD">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="design-and-deployment-techniques.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="converting-single-instance-oracle-databases-to-oracle-rac-and-oracle-rac-one-node.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Real Application Clusters Administration and Deployment Guide</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Monitoring Performance</li>
            </ol>
            <a id="GUID-8AED4793-C285-428D-8978-7B0B0F3586C7" name="GUID-8AED4793-C285-428D-8978-7B0B0F3586C7"></a><a id="RACAD7395"></a>
            
            <h2 id="RACAD-GUID-8AED4793-C285-428D-8978-7B0B0F3586C7" class="sect2"><span class="enumeration_chapter">14 </span>Monitoring Performance
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>This chapter describes how to monitor and tune Oracle Real Application Clusters (Oracle RAC) performance.</p>
               <p>This chapter includes the following topics:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="monitoring-performance.html#GUID-486D7C06-1ECF-4C25-990E-B7E5DD09C91C" title="The Oracle Enterprise Manager Cluster Database Performance page provides a quick glimpse of the performance statistics for a database.">Overview of Monitoring and Tuning Oracle RAC Databases</a></p>
                  </li>
                  <li>
                     <p><a href="monitoring-performance.html#GUID-5C01B293-1A2B-4E56-9FED-576361E0E655" title="Use SQL statements to verify the interconnect settings for Oracle RAC.">Verifying the Interconnect Settings for Oracle RAC</a></p>
                  </li>
                  <li>
                     <p><a href="monitoring-performance.html#GUID-84D7CC89-1C25-4999-BBFD-7686B6E4838E" title="Once your interconnect is operative, you cannot significantly influence its performance. However, you can influence an interconnect protocol's efficiency by adjusting the interprocess communication (IPC) buffer sizes.">Influencing Interconnect Processing</a></p>
                  </li>
                  <li>
                     <p><a href="monitoring-performance.html#GUID-04B6632F-EC4E-4317-9BD6-D7991C429DD5" title="Each instance has a set of instance-specific views, which are prefixed with V$.">Performance Views in Oracle RAC</a></p>
                  </li>
                  <li>
                     <p><a href="monitoring-performance.html#GUID-A2C906EF-8D6B-4A70-8439-470AC3532ADA">Creating Oracle RAC Data Dictionary Views with CATCLUST.SQL</a></p>
                  </li>
                  <li>
                     <p><a href="monitoring-performance.html#GUID-5C5BE0E4-2E88-40E1-A5C3-F1240DDA6AEC">Oracle RAC Performance Statistics</a></p>
                  </li>
                  <li>
                     <p><a href="monitoring-performance.html#GUID-42E1B55A-4685-4CED-98CA-1BB576650D1A" title="You can use Automatic Workload Repository to monitor performance statistics related to Oracle RAC databases.">Automatic Workload Repository in Oracle RAC Environments</a></p>
                  </li>
                  <li>
                     <p><a href="monitoring-performance.html#GUID-4CA5E706-8DB7-4388-812F-51736A659596">Active Session History Reports for Oracle RAC</a></p>
                  </li>
                  <li>
                     <p><a href="monitoring-performance.html#GUID-766BE4D4-89C0-42B1-BB9D-B1F4A61D9A6C" title="Analyzing and interpreting what causes sessions to wait is an important method to determine where time is spent.You can monitor GCS performance by identifying data blocks and objects which are frequently used (hot) by all instances.Describes how to monitor GCS performance by identifying objects read and modified frequently and the service times imposed by the remote access.Most global cache wait events that show a high total time as reported in the AWR and Statspack reports or in the dynamic performance views are normal and may present themselves as the top database time consumers without actually indicating a problem.">Monitoring Oracle RAC Statistics and Wait Events</a></p>
                  </li>
               </ul>
            </div><a id="RACAD970"></a><div class="sect2"><a id="GUID-486D7C06-1ECF-4C25-990E-B7E5DD09C91C" name="GUID-486D7C06-1ECF-4C25-990E-B7E5DD09C91C"></a><h3 id="RACAD-GUID-486D7C06-1ECF-4C25-990E-B7E5DD09C91C" class="sect3">Overview of Monitoring and Tuning Oracle RAC Databases</h3>
               <div>
                  <p>This section includes the following topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="monitoring-performance.html#GUID-CB16404E-DC1C-4EA0-8A2D-7FA0907E63CD" title="The Oracle Enterprise Manager Cluster Database Performance page provides a quick glimpse of the performance statistics for a database.">Monitoring Oracle RAC and Oracle Clusterware</a></p>
                     </li>
                     <li>
                        <p><a href="monitoring-performance.html#GUID-569AD18F-FAA7-4E0C-B291-3BC1FC634293">Tuning Oracle RAC Databases</a></p>
                     </li>
                  </ul>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="../admqs/monitoring-and-tuning-the-database.html#ADMQS-GUID-95716F9A-C500-4CCD-AC3F-6541E3191E40" target="_blank"><span><cite>Oracle Database 2 Day DBA</cite></span></a></li>
                        <li><a href="../tdppt/introduction.html#TDPPT-GUID-4D1462AB-40E1-41CC-AA0A-06AF5E9428F0" target="_blank"><span><cite>Oracle Database 2 Day + Performance Tuning Guide</cite></span></a></li>
                        <li><a href="../cwadd/cluster-verification-utility-reference.html#CWADD-GUID-B445A858-9F00-4423-990E-109545AC11C3" target="_blank"><span><cite>Oracle Clusterware Administration and Deployment Guide</cite></span></a></li>
                     </ul>
                  </div>
               </div><a id="RACAD7396"></a><div class="sect3"><a id="GUID-CB16404E-DC1C-4EA0-8A2D-7FA0907E63CD" name="GUID-CB16404E-DC1C-4EA0-8A2D-7FA0907E63CD"></a><h4 id="RACAD-GUID-CB16404E-DC1C-4EA0-8A2D-7FA0907E63CD" class="sect4">Monitoring Oracle RAC and Oracle Clusterware</h4>
                  <div>
                     <p>Using Oracle Enterprise Manager is the preferred method for monitoring Oracle RAC and Oracle Clusterware. Oracle Enterprise Manager is an Oracle Web-based integrated management solution for monitoring and administering your computing environment. From any location where you can access a web browser, you can manage Oracle RAC databases, application servers, host computers, and Web applications, in addition to related hardware and software. For example, you can monitor your Oracle RAC database performance from your office, home, or a remote site, if you have access to a Web browser.</p>
                     <p>Oracle Enterprise Manager Cloud Control is cluster-aware and provides a central console to manage your cluster database. From the Cluster Database Home page, you can do all of the following:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>View the overall system status, such as the number of nodes in the cluster and their current status. This high-level view capability means that you do not have to access each individual database instance for details if you just want to see inclusive, aggregated information.</p>
                        </li>
                        <li>
                           <p>View alert messages aggregated across all the instances with lists for the source of each alert message. An <span class="bold">alert message</span> is an indicator that signifies that a particular metric condition has been encountered. A <span class="bold">metric</span> is a unit of measurement used to report the system's conditions.
                           </p>
                        </li>
                        <li>
                           <p>Review issues that are affecting the entire cluster and those issues that are affecting individual instances.</p>
                        </li>
                        <li>
                           <p>Monitor cluster cache coherency statistics to help you identify processing trends and optimize performance for your Oracle RAC environment. Cache coherency statistics measure how well the data in caches on multiple instances is synchronized. If the data caches are completely synchronized with each other, then reading a memory location from the cache on any instance will return the most recent data written to that location from any cache on any instance. </p>
                        </li>
                     </ul>
                     <p>Oracle Enterprise Manager accumulates data over specified periods of time, called collection-based data. Oracle Enterprise Manager also provides current data, called real-time data.</p>
                  </div><a id="RACAD7397"></a><div class="sect4"><a id="GUID-5662C767-6F57-4DB6-930B-51551824A3EF" name="GUID-5662C767-6F57-4DB6-930B-51551824A3EF"></a><h5 id="RACAD-GUID-5662C767-6F57-4DB6-930B-51551824A3EF" class="sect5">The Cluster Database Home Page</h5>
                     <div>
                        <p>You can use Oracle Enterprise Manager with a client browser to monitor the status of both Oracle Clusterware and the Oracle RAC environments. Monitoring can include such things as:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Notification if there are any VIP relocations</p>
                           </li>
                           <li>
                              <p>Status of the Oracle Clusterware on each node of the cluster using information obtained through the Cluster Verification Utility (<code class="codeph">cluvfy</code>)
                              </p>
                           </li>
                           <li>
                              <p>Notification if node applications (<code class="codeph">nodeapps</code>) start or stop
                              </p>
                           </li>
                           <li>
                              <p>Notification of issues in the Oracle Clusterware alert log for OCR, voting disk issues (if any), and <a id="d43824e737" class="indexterm-anchor"></a>node evictions
                              </p>
                           </li>
                        </ul>
                        <p>The Cluster Database Home page is similar to a noncluster Database Home page. However, on the Cluster Database Home page, Oracle Enterprise Manager displays the system state and availability. This includes a summary about alert messages and job activity, and links to all the database and Oracle Automatic Storage Management (Oracle ASM) instances. For example, you can track problems with services on the cluster including when a service is not running on all of the preferred instances or when a service response time threshold is not being met.</p>
                     </div>
                  </div><a id="RACAD7398"></a><div class="sect4"><a id="GUID-D54B1B82-3BBD-466A-8190-D819FE698204" name="GUID-D54B1B82-3BBD-466A-8190-D819FE698204"></a><h5 id="RACAD-GUID-D54B1B82-3BBD-466A-8190-D819FE698204" class="sect5">The Interconnects Page</h5>
                     <div>
                        <p>You can use the <a id="d43824e883" class="indexterm-anchor"></a><a id="d43824e887" class="indexterm-anchor"></a>Oracle Enterprise Manager Interconnects page to monitor the Oracle Clusterware environment. The Interconnects page shows the <a id="d43824e892" class="indexterm-anchor"></a>public and private interfaces on the cluster and the load contributed by database instances on the interconnect, including:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Overall throughput across the private interconnect</p>
                           </li>
                           <li>
                              <p>Notification if a database instance is using public interface due to misconfiguration</p>
                           </li>
                           <li>
                              <p>Throughput and errors (if any) on the interconnect</p>
                           </li>
                           <li>
                              <p>Throughput contributed by individual instances on the interconnect</p>
                           </li>
                        </ul>
                        <p>All of this information is also available as collections that have a historic view, which is useful with <a id="d43824e912" class="indexterm-anchor"></a>cluster cache coherency, such as when diagnosing problems related to cluster wait events. You can access the Interconnects page by clicking the Interconnect tab on the Cluster Database home page or clicking the Interconnect Alerts link under Diagnostic Findings on the Oracle RAC database home page.
                        </p>
                     </div>
                  </div><a id="RACAD7399"></a><div class="sect4"><a id="GUID-D0715642-2C97-422A-B630-32FAC077A58E" name="GUID-D0715642-2C97-422A-B630-32FAC077A58E"></a><h5 id="RACAD-GUID-D0715642-2C97-422A-B630-32FAC077A58E" class="sect5">The Cluster Database Performance Page</h5>
                     <div>
                        <p>The Oracle Enterprise Manager Cluster Database Performance page provides a quick glimpse of the performance statistics for a database.</p>
                        <p>Statistics are rolled up across all the instances in the cluster database in charts. Using the links next to the charts, you can get more specific information and perform any of the following tasks:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Identify the causes of performance issues.</p>
                           </li>
                           <li>
                              <p>Decide whether resources need to be added or redistributed.</p>
                           </li>
                           <li>
                              <p>Tune your SQL plan and schema for better optimization.</p>
                           </li>
                           <li>
                              <p>Resolve performance issues</p>
                           </li>
                        </ul>
                        <p>The charts on the Cluster Database Performance page include the following:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="bold">Chart for Cluster Host Load Average</span>: The Cluster Host Load Average chart in the Cluster Database Performance page shows potential problems that are outside the database. The chart shows maximum, average, and minimum load values for available nodes in the cluster for the previous hour.
                              </p>
                           </li>
                           <li>
                              <p><span class="bold">Chart for Global Cache Block Access Latency</span>: Each cluster database instance has its own buffer cache in its System Global Area (SGA). Using Cache Fusion, Oracle RAC environments logically combine each instance's buffer cache to enable the database instances to process data as if the data resided on a logically combined, single cache.
                              </p>
                           </li>
                           <li>
                              <p><span class="bold">Chart for Average Active Sessions</span>: The Average Active Sessions chart in the Cluster Database Performance page shows potential problems inside the database. Categories, called wait classes, show how much of the database is using a resource, such as CPU or disk I/O. Comparing CPU time to wait time helps to determine how much of the response time is consumed with useful work rather than waiting for resources that are potentially held by other processes.
                              </p>
                           </li>
                           <li>
                              <p><span class="bold">Chart for Database Throughput</span>: The Database Throughput charts summarize any resource contention that appears in the Average Active Sessions chart, and also show how much work the database is performing on behalf of the users or applications. The Per Second view shows the number of transactions compared to the number of logons, and the amount of physical reads compared to the redo size per second. The Per Transaction view shows the amount of physical reads compared to the redo size per transaction. Logons is the number of users that are logged on to the database.
                              </p>
                           </li>
                        </ul>
                        <p>In addition, the <span class="bold">Top Activity</span> drill down menu on the Cluster Database Performance page enables you to see the activity by wait events, services, and instances. Plus, you can see the details about SQL/sessions by going to a prior point in time by moving the slider on the chart. 
                        </p>
                        <p>The <span class="bold">Cluster Database Performance</span> page provides a quick glimpse of the performance statistics for an Oracle RAC database. Statistics are rolled up across all of the instances in the cluster database so that users can identify performance issues without going through all the instances. To help triage the performance issues related to services, Oracle Enterprise Manager aggregates the activity data at the following levels:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Aggregate by waits</p>
                              <p>All the activity data is presented in 12 categories: CPU, Scheduler, User I/O, System I/O, Concurrency, Application, Commit, Configuration, Administrative, Network, Cluster and Other. The data presented is rolled up from all of the running instances.</p>
                           </li>
                           <li>
                              <p>Aggregate by services</p>
                              <p>All the activity data is rolled up for each service. When the activity data is presented in this way, it is easy to identify which service is most active, and needs more analysis.</p>
                           </li>
                           <li>
                              <p>Aggregate by instances</p>
                              <p>As a similar effort, the activity data is rolled up for each instance, if services are not the interested ones. </p>
                           </li>
                        </ul>
                        <p>The aggregates are provided on the pages where the activity data is presented including: Database Performance Page, Top Activity Page, Wait Details Page and Service Details Page.</p>
                     </div>
                  </div>
               </div><a id="RACAD7400"></a><div class="sect3"><a id="GUID-569AD18F-FAA7-4E0C-B291-3BC1FC634293" name="GUID-569AD18F-FAA7-4E0C-B291-3BC1FC634293"></a><h4 id="RACAD-GUID-569AD18F-FAA7-4E0C-B291-3BC1FC634293" class="sect4">Tuning Oracle RAC Databases</h4>
                  <div>
                     <p>All noncluster tuning practices for Oracle Database apply to Oracle RAC databases.</p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="../tdppt/part-I-getting-started.html#TDPPT-GUID-8CBE0D05-A500-408E-A506-714BD1637B39" target="_blank"><span><cite>Oracle Database 2 Day + Performance Tuning Guide</cite></span></a></li>
                           <li><a href="../tgdba/part-II-diagnosing-and-tuning-database-performance.html#TGDBA-GUID-E0EEBB00-000C-48EA-9F81-6BD867B78405" target="_blank"><span><cite>Oracle Database Performance Tuning Guide</cite></span></a></li>
                        </ul>
                     </div>
                  </div>
               </div>
            </div><a id="RACAD7713"></a><a id="RACAD7714"></a><a id="RACAD971"></a><div class="sect2"><a id="GUID-5C01B293-1A2B-4E56-9FED-576361E0E655" name="GUID-5C01B293-1A2B-4E56-9FED-576361E0E655"></a><h3 id="RACAD-GUID-5C01B293-1A2B-4E56-9FED-576361E0E655" class="sect3">Verifying the Interconnect Settings for Oracle RAC</h3>
               <div>
                  <p>Use SQL statements to verify the interconnect settings for Oracle RAC.</p>
                  <p>The interconnect and internode communication protocols can affect <a href="glossary.html#GUID-178C264E-12FF-468C-89B5-99CD47A4B373"><span class="xrefglossterm">Cache Fusion</span></a> performance. In addition, the interconnect bandwidth, its latency, and the efficiency of the IPC protocol determine the speed with which Cache Fusion processes block transfers.
                  </p>
                  <p>To verify the interconnect settings of the Oracle RAC database instance to which you are connected, query the <code class="codeph">V$CLUSTER_INTERCONNECTS</code> and <code class="codeph">V$CONFIGURED_INTERCONNECTS</code> views. For example:
                  </p>
                  <div class="example" id="GUID-5C01B293-1A2B-4E56-9FED-576361E0E655__GUID-06EEDFFE-8579-40A0-9348-E5F5401C016F">
                     <p class="titleinexample">Example 14-1 Verify Interconnect Settings with V$CLUSTER_INTERCONNECTS</p><pre class="pre codeblock"><code>SQL&gt; SELECT * FROM V$CLUSTER_INTERCONNECTS;

NAME             IP_ADDRESS       IS_PUBLIC SOURCE
---------------  --------------   ---       -------------------------------
eth2             10.137.20.181    NO        Oracle Cluster Repository</code></pre></div>
                  <!-- class="example" -->
                  <div class="infoboxnote" id="GUID-5C01B293-1A2B-4E56-9FED-576361E0E655__GUID-93E9650C-A943-457A-A129-FAAAF102EB17">
                     <p class="notep1">Note:</p>
                     <p>You can query the <code class="codeph">GV$CLUSTER_INTERCONNECTS</code> view to display the entries for all of the instances in the cluster.
                     </p>
                  </div>
                  <div class="example" id="GUID-5C01B293-1A2B-4E56-9FED-576361E0E655__GUID-ED10F809-2EBF-4ACB-9488-957DE519A5E4">
                     <p class="titleinexample">Example 14-2 Verify Interconnect Settings with V$CONFIGURED_INTERCONNECTS</p><pre class="pre codeblock"><code>SQL&gt; SELECT * FROM V$CONFIGURED_INTERCONNECTS;

NAME             IP_ADDRESS       IS_PUBLIC   SOURCE
---------------  ---------------  ---         -------------------------------
eth2             10.137.20.181    NO          Oracle Cluster Repository
eth0             10.137.8.225     YES         Oracle Cluster Repository</code></pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="RACAD972"></a><div class="sect2"><a id="GUID-84D7CC89-1C25-4999-BBFD-7686B6E4838E" name="GUID-84D7CC89-1C25-4999-BBFD-7686B6E4838E"></a><h3 id="RACAD-GUID-84D7CC89-1C25-4999-BBFD-7686B6E4838E" class="sect3">Influencing Interconnect Processing</h3>
               <div>
                  <p>Once your interconnect is operative, you cannot significantly influence its performance. However, you can influence an interconnect protocol's efficiency by adjusting the interprocess communication (IPC) buffer sizes.</p>
                  <p>The Oracle Cluster Registry (OCR) stores your system's interconnect information. Use the Oracle Interface Configuration (OIFCFG) command-line utility <code class="codeph">oifcfg getif</code> command or the OCRDUMP utility to identify the interconnect that you are using. You can then change the interconnect that you are using by running an OIFCFG command.
                  </p>
                  <p>Although you <span class="italic">rarely</span> need to set the <code class="codeph">CLUSTER_INTERCONNECTS</code> parameter, you can use it to assign a private network IP address or NIC as in the following example:
                  </p><pre class="oac_no_warn" dir="ltr">CLUSTER_INTERCONNECTS=10.0.0.1
</pre><p>If you are using an operating system-specific vendor IPC protocol, then the trace information may not reveal the IP address.</p>
                  <div class="infoboxnote" id="GUID-84D7CC89-1C25-4999-BBFD-7686B6E4838E__GUID-D4B0082A-AE06-4DE3-A0C4-5806835012E3">
                     <p class="notep1">Notes:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>You can also use OIFCFG command to assign private network or private IP addresses.</p>
                        </li>
                        <li>
                           <p>If your cluster has Oracle Clusterware 12<span class="italic">c</span> release 2 (12.2) or later installed, then you can assign either IPv4 or IPv6 addresses to multiple private networks. You must choose one or the other protocol and use that protocol for all of the private networks in the cluster.
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="../cwadd/oracle-interface-configuration-tool-oifcfg-command-reference.html#CWADD-GUID-518BD051-E9F1-4B62-B86B-02A90C252580" target="_blank"><span><cite>Oracle Clusterware Administration and Deployment Guide</cite></span></a></li>
                        <li><a href="../cwadd/oracle-cluster-registry-utility-reference.html#CWADD-GUID-E62EC034-0C70-456D-A974-8694646A23A2" target="_blank"><span><cite>Oracle Clusterware Administration and Deployment Guide</cite></span></a></li>
                        <li><a href="../refrn/CLUSTER_INTERCONNECTS.html#REFRN-GUID-6B0B0F1D-3DB0-415B-B914-2649FE02E4DA" target="_blank"><span><cite>Oracle Database Reference</cite></span></a></li>
                     </ul>
                  </div>
               </div>
            </div><a id="RACAD718"></a><div class="sect2"><a id="GUID-04B6632F-EC4E-4317-9BD6-D7991C429DD5" name="GUID-04B6632F-EC4E-4317-9BD6-D7991C429DD5"></a><h3 id="RACAD-GUID-04B6632F-EC4E-4317-9BD6-D7991C429DD5" class="sect3">Performance Views in Oracle RAC</h3>
               <div>
                  <p>Each instance has a set of instance-specific views, which are prefixed with <code class="codeph">V$</code>.
                  </p>
                  <p>You can also query global dynamic performance views to retrieve performance information from all of the qualified instances. Global dynamic performance view names are prefixed with <code class="codeph">GV$</code>.
                  </p>
                  <p>Querying a <code class="codeph">GV$</code> view retrieves the <code class="codeph">V$</code> view information from all qualified instances. In addition to the <code class="codeph">V$</code> information, each <code class="codeph">GV$</code> view contains an extra column named <code class="codeph">INST_ID</code> of data type <code class="codeph">NUMBER</code>. The <code class="codeph">INST_ID</code> column displays the instance number from which the associated <code class="codeph">V$</code> view information was obtained.
                  </p>
                  <p>You can use the <code class="codeph">INST_ID</code> column as a filter to retrieve <code class="codeph">V$</code> information from a subset of available instances. For example, the following query retrieves the information from the <code class="codeph">V$LOCK</code> view for instances 2 and 5:
                  </p><pre class="pre codeblock"><code>SQL&gt; SELECT * FROM GV$LOCK WHERE INST_ID = 2 OR INST_ID = 5;</code></pre></div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="../refrn/about-dynamic-performance-views.html#REFRN-GUID-884B21B1-7C87-41E1-8F97-C4668704AF30" target="_blank"><span><cite>Oracle Database Reference</cite></span></a></li>
                     </ul>
                  </div>
               </div>
            </div><a id="RACAD7401"></a><div class="sect2"><a id="GUID-A2C906EF-8D6B-4A70-8439-470AC3532ADA" name="GUID-A2C906EF-8D6B-4A70-8439-470AC3532ADA"></a><h3 id="RACAD-GUID-A2C906EF-8D6B-4A70-8439-470AC3532ADA" class="sect3">Creating Oracle RAC Data Dictionary Views with CATCLUST.SQL</h3>
               <div>
                  <p>If you did not create your Oracle RAC database with the Database Configuration Assistant (DBCA), then you must run the <code class="codeph">CATCLUST.SQL</code> script to create views and tables related to Oracle RAC. You must have <code class="codeph">SYSDBA</code> privileges to run this script.
                  </p>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="../install-and-upgrade.html" target="_blank"><span><cite>Oracle Real Application Clusters Installation Guide</cite></span></a></li>
                     </ul>
                  </div>
               </div>
            </div><a id="RACAD719"></a><div class="sect2"><a id="GUID-5C5BE0E4-2E88-40E1-A5C3-F1240DDA6AEC" name="GUID-5C5BE0E4-2E88-40E1-A5C3-F1240DDA6AEC"></a><h3 id="RACAD-GUID-5C5BE0E4-2E88-40E1-A5C3-F1240DDA6AEC" class="sect3">Oracle RAC Performance Statistics</h3>
               <div>
                  <p><a id="d43824e2401" class="indexterm-anchor"></a>Oracle RAC statistics appear as <a id="d43824e2406" class="indexterm-anchor"></a>message request counters or as <a id="d43824e2409" class="indexterm-anchor"></a>timed statistics. Message request counters include statistics showing the number of certain types of <a id="d43824e2412" class="indexterm-anchor"></a><a id="d43824e2416" class="indexterm-anchor"></a><a id="d43824e2418" class="indexterm-anchor"></a>block mode conversions. Timed statistics reveal the total or average time waited for read and write I/O for particular types of operations.
                  </p>
               </div>
            </div><a id="RACAD721"></a><div class="sect2"><a id="GUID-42E1B55A-4685-4CED-98CA-1BB576650D1A" name="GUID-42E1B55A-4685-4CED-98CA-1BB576650D1A"></a><h3 id="RACAD-GUID-42E1B55A-4685-4CED-98CA-1BB576650D1A" class="sect3">Automatic Workload Repository in Oracle RAC Environments</h3>
               <div>
                  <p>You can use Automatic Workload Repository to monitor performance statistics related to Oracle RAC databases.</p>
                  <p><a href="glossary.html#GUID-A77E24D9-6B1E-47B1-A5AD-A64E34A6F023"><span class="xrefglossterm">Automatic Workload Repository (AWR)</span></a> automatically generates snapshots of the performance data once every hour and collects the statistics in the workload repository. In Oracle RAC environments, each AWR snapshot captures data from all active instances in the cluster. The data for each snapshot set is captured from the same point in time. AWR stores the snapshot data for all instances in the same table and the data is identified by an instance qualifier. For example, the <code class="codeph">BUFFER_BUSY_WAIT</code> statistic shows the number of buffer waits on each instance. AWR does not store data that is aggregated from across the entire cluster. In other words, the data is stored for each individual instance.
                  </p>
                  <p>Using the Automatic Database Diagnostic Monitor (ADDM), you can analyze the information collected by AWR for possible performance problems with Oracle Database. ADDM presents performance data from a cluster-wide perspective, thus enabling you to analyze performance on a global basis. In an Oracle RAC environment, ADDM can analyze performance using data collected from all instances and present it at different levels of granularity, including:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Analysis for the entire cluster</p>
                     </li>
                     <li>
                        <p>Analysis for a specific database instance </p>
                     </li>
                     <li>
                        <p>Analysis for a subset of database instances</p>
                     </li>
                  </ul>
                  <p>To perform these analyses, you can run the ADDM Advisor in ADDM for Oracle RAC mode to perform an analysis of the entire cluster; in Local ADDM mode to analyze the performance of an individual instance; or in Partial ADDM mode to analyze a subset of instances. Activate ADDM analysis using the advisor framework through Advisor Central in Oracle Enterprise Manager, or through the <code class="codeph">DBMS_ADVISOR</code> and <code class="codeph">DBMS_ADDM</code> PL/SQL packages.
                  </p>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="../tgdba/automatic-performance-diagnostics.html#TGDBA-GUID-843A596D-2D8B-422D-9C8D-73C0EF52739D" target="_blank"><span><cite>Oracle Database Performance Tuning Guide</cite></span></a></li>
                        <li><a href="../arpls/DBMS_ADVISOR.html#ARPLS-GUID-189444D1-153F-4DBC-8AA2-7FE0327A3460" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a></li>
                     </ul>
                  </div>
               </div>
            </div><a id="RACAD987"></a><div class="sect2"><a id="GUID-4CA5E706-8DB7-4388-812F-51736A659596" name="GUID-4CA5E706-8DB7-4388-812F-51736A659596"></a><h3 id="RACAD-GUID-4CA5E706-8DB7-4388-812F-51736A659596" class="sect3">Active Session History Reports for Oracle RAC</h3>
               <div>
                  <p>This section describes Active Session History (ASH) reports for Oracle RAC under the following topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="monitoring-performance.html#GUID-3F839679-FCF5-4078-9B39-61D737021690">Overview of ASH Reports for Oracle RAC</a></p>
                     </li>
                     <li>
                        <p><a href="monitoring-performance.html#GUID-D61A11E7-CFD4-489A-9967-B79A19E9A044">ASH Report for Oracle RAC: Top Cluster Events</a></p>
                     </li>
                     <li>
                        <p><a href="monitoring-performance.html#GUID-458BE4B2-665E-427E-8587-C3504B8E839F">ASH Report for Oracle RAC: Top Remote Instance</a></p>
                     </li>
                  </ul>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/racad&amp;id=TGDBA-GUID-D6360982-465F-49B3-8021-8CCD0E3E3D3E" target="_blank"><span><cite>Oracle Database Performance Tuning Guide</cite></span></a></li>
                     </ul>
                  </div>
               </div><a id="RACAD7402"></a><div class="sect3"><a id="GUID-3F839679-FCF5-4078-9B39-61D737021690" name="GUID-3F839679-FCF5-4078-9B39-61D737021690"></a><h4 id="RACAD-GUID-3F839679-FCF5-4078-9B39-61D737021690" class="sect4">Overview of ASH Reports for Oracle RAC</h4>
                  <div>
                     <p>ASH <a id="d43824e2963" class="indexterm-anchor"></a><a id="d43824e2967" class="indexterm-anchor"></a>is an integral part of the Oracle Database self-management framework and is useful for <a id="d43824e2970" class="indexterm-anchor"></a>diagnosing performance problems in Oracle RAC environments. ASH report statistics provide details about <a id="d43824e2975" class="indexterm-anchor"></a>Oracle Database session activity. Oracle Database records information about <a id="d43824e2980" class="indexterm-anchor"></a>active sessions for all active Oracle RAC instances and stores this data in the <a id="d43824e2983" class="indexterm-anchor"></a>System Global Area (SGA). Any session that is connected to the database and using CPU is considered an active session. The exception to this is sessions that are waiting for an event that belongs to the <a id="d43824e2987" class="indexterm-anchor"></a>idle wait class.
                     </p>
                     <p>ASH reports present a manageable set of data by capturing only information about active sessions. The amount of the data is directly related to the work being performed, rather than the number of sessions allowed on the system. </p>
                     <p>ASH statistics that are gathered over a specified duration can be put into ASH reports. Each ASH report is divided into multiple sections to help you identify short-lived performance problems that do not appear in the ADDM analysis. Two ASH report sections that are specific to Oracle RAC are Top Cluster Events and Top Remote Instance as described in the next two sections.</p>
                  </div>
               </div><a id="RACAD7403"></a><div class="sect3"><a id="GUID-D61A11E7-CFD4-489A-9967-B79A19E9A044" name="GUID-D61A11E7-CFD4-489A-9967-B79A19E9A044"></a><h4 id="RACAD-GUID-D61A11E7-CFD4-489A-9967-B79A19E9A044" class="sect4">ASH Report for Oracle RAC: Top Cluster Events</h4>
                  <div>
                     <p>The ASH report <a id="d43824e3144" class="indexterm-anchor"></a>Top Cluster Events section is part of the Top Events report that is specific to Oracle RAC. The Top Cluster Events report lists events that account for the highest percentage of session activity in the cluster wait class event along with the instance number of the affected instances. You can use this information to identify which events and instances caused a high percentage of cluster wait events.
                     </p>
                  </div>
               </div><a id="RACAD7404"></a><div class="sect3"><a id="GUID-458BE4B2-665E-427E-8587-C3504B8E839F" name="GUID-458BE4B2-665E-427E-8587-C3504B8E839F"></a><h4 id="RACAD-GUID-458BE4B2-665E-427E-8587-C3504B8E839F" class="sect4">ASH Report for Oracle RAC: Top Remote Instance</h4>
                  <div>
                     <p><a id="d43824e3287" class="indexterm-anchor"></a><a id="d43824e3291" class="indexterm-anchor"></a>The ASH report <a id="d43824e3294" class="indexterm-anchor"></a>Top Remote Instance section is part of the Top Load Profile report that is specific to Oracle RAC. The Top Remote Instance report shows cluster wait events along with the instance numbers of the instances that accounted for the highest percentages of session activity. You can use this information to identify the instance that caused the extended cluster wait period.
                     </p>
                  </div>
               </div>
            </div><a id="RACAD975"></a><div class="sect2"><a id="GUID-766BE4D4-89C0-42B1-BB9D-B1F4A61D9A6C" name="GUID-766BE4D4-89C0-42B1-BB9D-B1F4A61D9A6C"></a><h3 id="RACAD-GUID-766BE4D4-89C0-42B1-BB9D-B1F4A61D9A6C" class="sect3">Monitoring Oracle RAC Statistics and Wait Events</h3>
               <div>
                  <p>This section explains wait events and statistics specific to Oracle RAC and how to interpret them when assessing performance data generated by the Automatic Workload Repository (AWR), Statspack, or by ad-hoc queries of the dynamic performance views.</p>
                  <p>This section includes the following topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="monitoring-performance.html#GUID-428C0B06-2FC0-46A7-9F20-BE90ABE76C37">Oracle RAC Statistics and Events in AWR and Statspack Reports</a></p>
                     </li>
                     <li>
                        <p><a href="monitoring-performance.html#GUID-991F4A31-E78F-4A27-9849-FC3D9C636586" title="Analyzing and interpreting what causes sessions to wait is an important method to determine where time is spent.">Oracle RAC Wait Events</a></p>
                     </li>
                     <li>
                        <p><a href="monitoring-performance.html#GUID-D4FBE1ED-0FD6-4665-9599-53847F711002" title="You can monitor GCS performance by identifying data blocks and objects which are frequently used (hot) by all instances.">Monitoring Performance by Analyzing GCS and GES Statistics</a></p>
                     </li>
                     <li>
                        <p><a href="monitoring-performance.html#GUID-B20D80DA-F388-4307-8B5A-2259F2CC5FFD" title="Describes how to monitor GCS performance by identifying objects read and modified frequently and the service times imposed by the remote access.">Analyzing Cache Fusion Transfer Impact Using GCS Statistics</a></p>
                     </li>
                     <li>
                        <p><a href="monitoring-performance.html#GUID-A06093D2-5A34-4D2A-BA11-7E988EB457D2" title="Most global cache wait events that show a high total time as reported in the AWR and Statspack reports or in the dynamic performance views are normal and may present themselves as the top database time consumers without actually indicating a problem.">Analyzing Response Times Based on Wait Events</a></p>
                     </li>
                  </ul>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="../tgdba/instance-tuning-using-performance-views.html#TGDBA-GUID-386931AB-A199-41E8-A20C-7317A4FDCACC" target="_blank"><span><cite>Oracle Database Performance Tuning Guide</cite></span></a></li>
                     </ul>
                  </div>
               </div><a id="RACAD976"></a><div class="sect3"><a id="GUID-428C0B06-2FC0-46A7-9F20-BE90ABE76C37" name="GUID-428C0B06-2FC0-46A7-9F20-BE90ABE76C37"></a><h4 id="RACAD-GUID-428C0B06-2FC0-46A7-9F20-BE90ABE76C37" class="sect4">Oracle RAC Statistics and Events in AWR and Statspack Reports</h4>
                  <div>
                     <p>The statistics snapshots generated by AWR and <a id="d43824e3640" class="indexterm-anchor"></a>Statspack can be evaluated by producing reports displaying summary data such as load and cluster profiles based on regular statistics and <a id="d43824e3643" class="indexterm-anchor"></a>wait events gathered on each instance.
                     </p>
                     <p>Most of the relevant data is summarized on the Oracle RAC Statistics Page. This information includes:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a id="d43824e3651" class="indexterm-anchor"></a>Global cache load profile
                           </p>
                        </li>
                        <li>
                           <p>Global cache efficiency percentages—workload characteristics</p>
                        </li>
                        <li>
                           <p><a id="d43824e3659" class="indexterm-anchor"></a><a id="d43824e3661" class="indexterm-anchor"></a>Global cache and Enqueue Service (GES)—messaging statistics
                           </p>
                        </li>
                     </ul>
                     <p>Additional Oracle RAC sections appear later in the report:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Global enqueue statistics</p>
                        </li>
                        <li>
                           <p><a id="d43824e3674" class="indexterm-anchor"></a>Global CR statistics
                           </p>
                        </li>
                        <li>
                           <p>Global <code class="codeph">CURRENT</code> served statistics
                           </p>
                        </li>
                        <li>
                           <p>Global cache transfer statistics.</p>
                        </li>
                     </ul>
                  </div>
               </div><a id="RACAD977"></a><div class="sect3"><a id="GUID-991F4A31-E78F-4A27-9849-FC3D9C636586" name="GUID-991F4A31-E78F-4A27-9849-FC3D9C636586"></a><h4 id="RACAD-GUID-991F4A31-E78F-4A27-9849-FC3D9C636586" class="sect4">Oracle RAC Wait Events</h4>
                  <div>
                     <p>Analyzing and interpreting what causes sessions to wait is an important method to determine where time is spent.</p>
                     <p>In Oracle RAC, the wait time is attributed to an event which reflects the exact outcome of a request. For example, when a session on an instance is looking for a block in the global cache, it does not know whether it will receive the data cached by another instance or whether it will receive a message to read from disk. The wait events for the global cache convey precise information and waiting for global cache blocks or messages is:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Summarized in a broader category called Cluster Wait Class</p>
                        </li>
                        <li>
                           <p>Temporarily represented by a placeholder event which is active while waiting for a block, for example:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><code class="codeph">gc current block request</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">gc cr block request</code></p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p>Attributed to precise events when the outcome of the request is known, for example:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><code class="codeph">gc current block 3-way</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">gc current block busy</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">gc cr block grant 2-way</code></p>
                              </li>
                           </ul>
                        </li>
                     </ul>
                     <p>In summary, the wait events for Oracle RAC convey information valuable for performance analysis. They are used in Automatic Database Diagnostic Monitor (ADDM) to enable precise diagnostics of the effect of cache fusion.</p>
                  </div>
               </div><a id="RACAD980"></a><div class="sect3"><a id="GUID-D4FBE1ED-0FD6-4665-9599-53847F711002" name="GUID-D4FBE1ED-0FD6-4665-9599-53847F711002"></a><h4 id="RACAD-GUID-D4FBE1ED-0FD6-4665-9599-53847F711002" class="sect4">Monitoring Performance by Analyzing GCS and GES Statistics</h4>
                  <div>
                     <p>To determine the amount of work and cost related to inter-instance messaging and contention, examine block transfer rates, remote requests made by each transaction, the number and time waited for global cache events as described under the following headings:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="monitoring-performance.html#GUID-C435C307-BFE7-42BB-A086-1D7F2C9A158D">Analyzing the Effect of Cache Fusion in Oracle RAC</a></p>
                        </li>
                        <li>
                           <p><a href="monitoring-performance.html#GUID-1D022403-751D-4BCC-9B05-38D1F6948006" title="You can monitor GCS performance by identifying data blocks and objects which are frequently used (hot) by all instances.">Analyzing Performance Using GCS and GES Statistics</a></p>
                        </li>
                     </ul>
                  </div><a id="RACAD981"></a><div class="sect4"><a id="GUID-C435C307-BFE7-42BB-A086-1D7F2C9A158D" name="GUID-C435C307-BFE7-42BB-A086-1D7F2C9A158D"></a><h5 id="RACAD-GUID-C435C307-BFE7-42BB-A086-1D7F2C9A158D" class="sect5">Analyzing the Effect of Cache Fusion in Oracle RAC</h5>
                     <div>
                        <p>The effect of accessing blocks in the global cache and maintaining coherency is represented by:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The <a id="d43824e4177" class="indexterm-anchor"></a>Global Cache Service (GCS) statistics for <code class="codeph">current</code> and <code class="codeph">cr</code> blocks, for example, <code class="codeph">gc current blocks received</code>, <code class="codeph">gc cr blocks received</code>, and so on
                              </p>
                           </li>
                           <li>
                              <p>The GCS wait events, for <code class="codeph">gc current block 3-way</code>, <code class="codeph">gc cr grant 2-way</code>, and so on
                              </p>
                           </li>
                        </ul>
                        <p>The response time for cache fusion transfers is determined by the messaging and processing times imposed by the physical interconnect components, the <a id="d43824e4203" class="indexterm-anchor"></a>IPC protocol and the <a id="d43824e4206" class="indexterm-anchor"></a>GCS protocol. It is not affected by disk I/O factors other than occasional log writes. The cache fusion protocol does not require I/O to data files to guarantee <a id="d43824e4209" class="indexterm-anchor"></a><a href="glossary.html#GUID-75E710B4-A9ED-4C89-85B4-DFA415917AA3"><span class="xrefglossterm">cache coherency </span></a> and Oracle RAC inherently does not cause any more I/O to disk than a nonclustered instance.
                        </p>
                     </div>
                  </div><a id="RACAD982"></a><div class="sect4"><a id="GUID-1D022403-751D-4BCC-9B05-38D1F6948006" name="GUID-1D022403-751D-4BCC-9B05-38D1F6948006"></a><h5 id="RACAD-GUID-1D022403-751D-4BCC-9B05-38D1F6948006" class="sect5">Analyzing Performance Using GCS and GES Statistics</h5>
                     <div>
                        <p>You can monitor GCS performance by identifying data blocks and objects which are frequently used (<span class="italic">hot</span>) by all instances.
                        </p>
                        <p>High concurrency on certain blocks may be identified by GCS wait events and times.</p>
                        <p>The <code class="codeph">gc current block busy</code> wait event indicates that the access to cached data blocks was delayed because they were busy either in the remote or the local cache. This could be caused by any of the following:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The blocks were pinned</p>
                           </li>
                           <li>
                              <p>The blocks were held up by sessions</p>
                           </li>
                           <li>
                              <p>The blocks were delayed by a log write on a remote instance</p>
                           </li>
                           <li>
                              <p>A session on the same instance was already accessing a block which was in transition between instances and the current session needed to wait behind it (for example, <code class="codeph">gc current block busy</code>)
                              </p>
                           </li>
                        </ul>
                        <p>Use the <code class="codeph">V$SESSION_WAIT</code> view to identify objects and data blocks with contention. The GCS wait events contain the file and block number for a block request in p1 and p2, respectively.
                        </p>
                        <p>An additional segment statistic, <code class="codeph">gc buffer busy</code>, has been added to quickly determine the busy objects without having to query the <code class="codeph">V$SESSION_WAIT</code> view mentioned earlier.
                        </p>
                        <p>The AWR infrastructure provides a view of active session history which can also be used to trace recent wait events and their arguments. It is therefore useful for hot block analysis. Most of the reporting facilities used by AWR and Statspack contain the object statistics and cluster wait class category, so that sampling of the views mentioned earlier is largely unnecessary.</p>
                        <div class="infoboxnote" id="GUID-1D022403-751D-4BCC-9B05-38D1F6948006__GUID-900545EB-3AA8-4F2B-BD12-52E99E3CC597">
                           <p class="notep1">Note:</p>
                           <p>Oracle recommends using ADDM and AWR. However, Statspack is available for backward compatibility. Statspack provides reporting only. You must run Statspack at level 7 to collect statistics related to block contention and segment block waits.</p>
                        </div>
                        <p>It is advisable to run ADDM on the snapshot data collected by the AWR infrastructure to obtain an overall evaluation of the impact of the global cache. The advisory will also identify the busy objects and SQL highest cluster wait time.</p>
                     </div>
                  </div>
               </div><a id="RACAD985"></a><div class="sect3"><a id="GUID-B20D80DA-F388-4307-8B5A-2259F2CC5FFD" name="GUID-B20D80DA-F388-4307-8B5A-2259F2CC5FFD"></a><h4 id="RACAD-GUID-B20D80DA-F388-4307-8B5A-2259F2CC5FFD" class="sect4">Analyzing Cache Fusion Transfer Impact Using GCS Statistics</h4>
                  <div>
                     <p>Describes how to monitor GCS performance by identifying objects read and modified frequently and the service times imposed by the remote access.</p>
                     <p>Waiting for blocks to arrive may constitute a significant portion of the response time, in the same way that reading from disk could increase the block access delays, only that cache fusion transfers are usually faster than disk access latencies.</p>
                     <p>The following wait events indicate that the remotely cached blocks were shipped to the local instance without having been busy, pinned or requiring a log flush:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">gc current block 2-way</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">gc current block 3-way</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">gc cr block 2-way</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">gc cr block 3-way</code></p>
                        </li>
                     </ul>
                     <p>The object statistics for <code class="codeph">gc current blocks received</code> and <code class="codeph">gc cr blocks received</code> enable quick identification of the indexes and tables which are shared by the active instances. As mentioned earlier, creating an ADDM analysis will usually point you to the SQL statements and database objects that could be impacted by inter-instance contention.
                     </p>
                     <p>Any increases in the average wait times for the events mentioned in the preceding list could be caused by the following occurrences:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>High load: CPU shortages, long run queues, scheduling delays</p>
                        </li>
                        <li>
                           <p>Misconfiguration: using public instead of private interconnect for message and block traffic</p>
                        </li>
                     </ul>
                     <p>If the average wait times are acceptable and no interconnect or load issues can be diagnosed, then the accumulated time waited can usually be attributed to a few SQL statements which need to be tuned to minimize the number of blocks accessed.</p>
                     <p>The column <code class="codeph">CLUSTER_WAIT_TIME</code> in <code class="codeph">V$SQLAREA</code> represents the wait time incurred by individual SQL statements for global cache events and will identify the SQL which may need to be tuned.
                     </p>
                  </div>
               </div><a id="RACAD986"></a><div class="sect3"><a id="GUID-A06093D2-5A34-4D2A-BA11-7E988EB457D2" name="GUID-A06093D2-5A34-4D2A-BA11-7E988EB457D2"></a><h4 id="RACAD-GUID-A06093D2-5A34-4D2A-BA11-7E988EB457D2" class="sect4">Analyzing Response Times Based on Wait Events</h4>
                  <div>
                     <p>Most global cache wait events that show a high total time as reported in the AWR and Statspack reports or in the dynamic performance views are normal and may present themselves as the top database time consumers without actually indicating a problem.</p>
                     <p>This section describes frequent wait events that you should be aware of when interpreting performance data.</p>
                     <p>If user response times increase and a high proportion of time waited is for global cache, then you should determine the cause. Most reports include a breakdown of events sorted by percentage of the total time.</p>
                     <p>It is useful to start with an ADDM report, which analyzes the routinely collected performance statistics with respect to their impact, and points to the objects and SQL contributing most to the time waited, and then moves on to the more detailed reports produced by AWR and Statspack. </p>
                     <p>Wait events for Oracle RAC include the following categories:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="monitoring-performance.html#GUID-87EF8F96-931D-4967-A356-868D142C6661">Block-Related Wait Events</a></p>
                        </li>
                        <li>
                           <p><a href="monitoring-performance.html#GUID-00B64C38-D3B5-48F6-A29A-EB8A17C34671">Message-Related Wait Events</a></p>
                        </li>
                        <li>
                           <p><a href="monitoring-performance.html#GUID-DAC12104-32AE-4D5B-83F9-BA5C1FFDB1FE">Contention-Related Wait Events</a></p>
                        </li>
                        <li>
                           <p><a href="monitoring-performance.html#GUID-27A3EBFC-5146-44D4-BCB0-86ED47D8660B">Load-Related Wait Events</a></p>
                        </li>
                     </ul>
                  </div><a id="RACAD8306"></a><div class="sect4"><a id="GUID-87EF8F96-931D-4967-A356-868D142C6661" name="GUID-87EF8F96-931D-4967-A356-868D142C6661"></a><h5 id="RACAD-GUID-87EF8F96-931D-4967-A356-868D142C6661" class="sect5">Block-Related Wait Events</h5>
                     <div>
                        <p>The main wait events for <a id="d43824e4927" class="indexterm-anchor"></a>block-related waits are:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">gc current block 2-way</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">gc current block 3-way</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">gc cr block 2-way</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">gc cr block 3-way</code></p>
                           </li>
                        </ul>
                        <p>The block-related wait event statistics indicate that a block was received as either the result of a 2-way or a 3-way message, that is, the block was sent from either the resource master requiring 1 message and 1 transfer, or was forwarded to a third node from which it was sent, requiring 2 messages and 1 block transfer.</p>
                     </div>
                  </div><a id="RACAD8307"></a><div class="sect4"><a id="GUID-00B64C38-D3B5-48F6-A29A-EB8A17C34671" name="GUID-00B64C38-D3B5-48F6-A29A-EB8A17C34671"></a><h5 id="RACAD-GUID-00B64C38-D3B5-48F6-A29A-EB8A17C34671" class="sect5">Message-Related Wait Events</h5>
                     <div>
                        <p>The main wait events for <a id="d43824e5093" class="indexterm-anchor"></a>message-related waits are:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">gc current grant 2-way</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">gc cr grant 2-way</code></p>
                           </li>
                        </ul>
                        <p>The message-related wait event statistics indicate that no block was received because it was not cached in any instance. Instead a global grant was given, enabling the requesting instance to read the block from disk or modify it.</p>
                        <p>If the time consumed by these events is high, then it may be assumed that the frequently used SQL causes a lot of disk I/O (in the event of the <code class="codeph">cr grant</code>) or that the workload inserts a lot of data and needs to find and format new blocks frequently (in the event of the current grant).
                        </p>
                     </div>
                  </div><a id="RACAD8308"></a><div class="sect4"><a id="GUID-DAC12104-32AE-4D5B-83F9-BA5C1FFDB1FE" name="GUID-DAC12104-32AE-4D5B-83F9-BA5C1FFDB1FE"></a><h5 id="RACAD-GUID-DAC12104-32AE-4D5B-83F9-BA5C1FFDB1FE" class="sect5">Contention-Related Wait Events</h5>
                     <div>
                        <p>The main wait events for <a id="d43824e5255" class="indexterm-anchor"></a>contention-related waits are:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">gc current block busy</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">gc cr block busy</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">gc buffer busy acquire/release</code></p>
                           </li>
                        </ul>
                        <p>The contention-related wait event statistics indicate that a block was received which was pinned by a session on another node, was deferred because a change had not yet been flushed to disk or because of high concurrency, and therefore could not be shipped immediately. A buffer may also be busy locally when a session has already initiated a cache fusion operation and is waiting for its completion when another session on the same node is trying to read or modify the same data. High service times for blocks exchanged in the global cache may exacerbate the contention, which can be caused by frequent concurrent read and write accesses to the same data.</p>
                        <p>The <code class="codeph">gc current block busy</code> and <code class="codeph">gc cr block busy</code> wait events indicate that the local instance that is making the request did not immediately receive a current or consistent read block. The term <span class="italic">busy</span> in these events' names indicates that the sending of the block was delayed on a remote instance. For example, a block cannot be shipped immediately if Oracle Database has not yet written the redo for the block's changes to a log file.
                        </p>
                        <p>In comparison to <code class="codeph">block busy</code> wait events, a <code class="codeph">gc buffer busy</code> event indicates that Oracle Database cannot immediately grant access to data that is stored in the local buffer cache. This is because a global operation on the buffer is pending and the operation has not yet completed. In other words, the buffer is busy and all other processes that are attempting to access the local buffer must wait to complete.
                        </p>
                        <p>The existence of <code class="codeph">gc buffer busy</code> events also means that there is block contention that is resulting in multiple requests for access to the local block. Oracle Database must queue these requests. The length of time that Oracle Database needs to process the queue depends on the remaining service time for the block. The service time is affected by the processing time that any network latency adds, the processing time on the remote and local instances, and the length of the wait queue.
                        </p>
                        <p>The average wait time and the total wait time should be considered when being alerted to performance issues where these particular waits have a high impact. Usually, either interconnect or load issues or SQL execution against a large shared working set can be found to be the root cause.</p>
                     </div>
                  </div><a id="RACAD8309"></a><div class="sect4"><a id="GUID-27A3EBFC-5146-44D4-BCB0-86ED47D8660B" name="GUID-27A3EBFC-5146-44D4-BCB0-86ED47D8660B"></a><h5 id="RACAD-GUID-27A3EBFC-5146-44D4-BCB0-86ED47D8660B" class="sect5">Load-Related Wait Events</h5>
                     <div>
                        <p>The main wait events for <a id="d43824e5442" class="indexterm-anchor"></a>load-related waits are:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">gc current block congested</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">gc cr block congested</code></p>
                           </li>
                        </ul>
                        <p>The load-related wait events indicate that a delay in processing has occurred in the GCS, which is usually caused by high load, CPU saturation and would have to be solved by additional CPUs, load-balancing, off loading processing to different times or a new cluster node.For the events mentioned, the wait time encompasses the entire round trip from the time a session starts to wait after initiating a block request until the block arrives.</p>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>