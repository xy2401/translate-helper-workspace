<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="DBMS_CRYPTO provides an interface to encrypt and decrypt stored data, and can be used in conjunction with PL/SQL programs running network communications. It provides support for several industry-standard encryption and hashing algorithms, including the Advanced Encryption Standard (AES) encryption algorithm. AES has been approved by the National Institute of Standards and Technology (NIST) to replace the Data Encryption Standard (DES)."></meta>
      <meta name="description" content="DBMS_CRYPTO provides an interface to encrypt and decrypt stored data, and can be used in conjunction with PL/SQL programs running network communications. It provides support for several industry-standard encryption and hashing algorithms, including the Advanced Encryption Standard (AES) encryption algorithm. AES has been approved by the National Institute of Standards and Technology (NIST) to replace the Data Encryption Standard (DES)."></meta>
      <title>DBMS_CRYPTO</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="PL/SQL Packages and Types Reference"></meta>
      <meta property="og:description" content="DBMS_CRYPTO provides an interface to encrypt and decrypt stored data, and can be used in conjunction with PL/SQL programs running network communications. It provides support for several industry-standard encryption and hashing algorithms, including the Advanced Encryption Standard (AES) encryption algorithm. AES has been approved by the National Institute of Standards and Technology (NIST) to replace the Data Encryption Standard (DES)."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="PL/SQL Packages and Types Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-pl-sql-packages-and-types-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-03-25T11:24:34-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96430-03"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="DBMS_CREDENTIAL.html" title="Previous" type="text/html"></link>
      <link rel="next" href="DBMS_CSX_ADMIN.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database PL/SQL Packages and Types Reference"></meta>
    <meta name="dcterms.isVersionOf" content="ARPLS"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="DBMS_CREDENTIAL.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="DBMS_CSX_ADMIN.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">PL / SQL包和类型参考</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">DBMS_CRYPTO</li>
            </ol>
            <a id="GUID-4B200807-A740-4A2E-8828-AC0CFF6127D5" name="GUID-4B200807-A740-4A2E-8828-AC0CFF6127D5"></a><a id="ARPLS664"></a><a id="ARPLS664"></a>
            
            <h2 id="ARPLS-GUID-4B200807-A740-4A2E-8828-AC0CFF6127D5" class="sect2"><span class="enumeration_chapter">39</span> DBMS_CRYPTO</h2>
         </header>
         <div class="ind"><script type="text/javascript">window.name='DBMS_CRYPTO'</script><script type="text/javascript">
    function footdisplay(footnum,footnote) {
    var msg = window.open('about:blank', 'NewWindow' + footnum,
        'directories=no,height=100,location=no,menubar=no,resizable=yes,' +
        'scrollbars=yes,status=no,toolbar=no,width=598');
    msg.document.open('text/html');
    msg.document.write('<!DOCTYPE html ');
    msg.document.write('PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" ');
    msg.document.write('"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">'); 
    msg.document.write('<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us" dir="ltr"><head><title>');
   
    msg.document.write('Footnote&nbsp; ' + footnum);
    msg.document.write('<\/title><meta http-equiv="Content-Type" ');
    msg.document.write('content="text/html; charset=utf-8" />');
    msg.document.write('<meta http-equiv="Content-Script-Type" ');
    msg.document.write('content="text/javascript" />');
    msg.document.write('<style type="text/css"> <![CDATA[ ');
    msg.document.write('h1 {text-align: center; font-size: 14pt;}');
    msg.document.write('fieldset {border: none;}');
    msg.document.write('form {text-align: center;}');
    msg.document.write(' ]]u003e </style>');
    msg.document.write('<\/head><body><div id="footnote"><h1>Footnote&nbsp; ' + footnum + '<\/h1><p>');
    msg.document.write(footnote);
    msg.document.write('<\/p><form action="" method="post"><fieldset>');
    msg.document.write('<input type="button" value="OK" ');
    msg.document.write('onclick="window.close();" />');
    msg.document.write('<\/fieldset><\/form><\/div><\/body><\/html>');
    msg.document.close();
    setTimeout(function() {
        var height = msg.document.getElementById('footnote').offsetHeight;
        msg.resizeTo(598, height + 100);
    }
    , 100);
    msg.focus();
}
            </script><noscript>
               <p>此页面上的脚本内容仅用于导航目的，不会以任何方式更改内容。</p>
            </noscript>
            <div>
               <p><code class="codeph">DBMS_CRYPTO</code>提供了一个加密和解密存储数据的接口，可以与运行网络通信的PL / SQL程序一起使用。它支持多种行业标准加密和散列算法，包括高级加密标准（AES）加密算法。AES已被美国国家标准与技术研究院（NIST）批准用于取代数据加密标准（DES）。
               </p>
               <div class="infoboxnotealso" id="GUID-4B200807-A740-4A2E-8828-AC0CFF6127D5__GUID-45AC22A1-831F-4179-B441-47C9A1518EED">
                  <p class="notep1">也可以看看：</p>
                  <p>有关使用此程序包以及一般加密数据的详细信息，请参见<a href="../dbseg/manually-encrypting-data.html#DBSEG80084" target="_blank"><span class="italic">“Oracle数据库安全指南”</span></a> 。
                  </p>
               </div>
               <p>本章包含以下主题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="DBMS_CRYPTO.html#GUID-1C98C203-29EF-488D-A5FA-42AD4BD7718D" title="DBMS_CRYPTO包含基本的加密函数和过程。为了正确和安全地使用此软件包，假设具有一般级别的安全专业知识。">概观</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_CRYPTO.html#GUID-FACA00E9-A648-4535-AAC3-97945C4A0760" title="Oracle数据库在SYS模式中安装此包。然后，您可以根据需要向现有用户和角色授予包访问权限。">安全模型</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_CRYPTO.html#GUID-5888EA23-93EC-474D-AA56-0DFDF3ABB147" title="DBMS_CRYPTO子程序的参数使用这些数据类型。">数据类型</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_CRYPTO.html#GUID-CE3CF17D-E781-47CB-AEE7-19A9B2BCD3EC" title="DBMS_CRYPTO包中包含预定义的加密算法，修饰符和密码套件。">算法</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_CRYPTO.html#GUID-EA4F4C1A-5F77-4ED0-8323-5EF778EE7101" title="DBMS_CRYPTO不直接支持VARCHAR2数据类型。在对VARCHAR2类型的数据执行加密操作之前，必须将其转换为统一数据库字符集AL32UTF8，然后将其转换为RAW数据类型。执行这些转换后，您可以使用DBMS_CRYPTO包对其进行加密。">限制</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_CRYPTO.html#GUID-FC85FE08-6AD8-408B-8191-00832017CB73" title="下表列出了已为DBMS_CRYPTO定义的异常。">例外</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_CRYPTO.html#GUID-5FF9978D-59D1-4F4A-9A48-C3A03DC569AE" title="本节介绍几个DBMS_CRYPTO操作说明。">操作说明</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_CRYPTO.html#GUID-2AAF7708-B7F2-46FA-A86F-8C0573A20999" title="此表按字母顺序列出DBMS_CRYPTO子程序并简要描述它们。">DBMS_CRYPTO子程序摘要</a></p>
                  </li>
               </ul>
            </div><a id="ARPLS65670"></a><a id="ARPLS65671"></a><a id="ARPLS65671"></a><a id="ARPLS65670"></a><div class="props_rev_3"><a id="GUID-1C98C203-29EF-488D-A5FA-42AD4BD7718D" name="GUID-1C98C203-29EF-488D-A5FA-42AD4BD7718D"></a><h3 id="ARPLS-GUID-1C98C203-29EF-488D-A5FA-42AD4BD7718D" class="sect3"><span class="enumeration_section">39.1</span> DBMS_CRYPTO概述</h3>
               <div>
                  <p><code class="codeph">DBMS_CRYPTO</code>包含基本的加密函数和过程。为了正确和安全地使用此软件包，假设具有一般级别的安全专业知识。
                  </p>
                  <div class="section">
                     <p><code class="codeph">DBMS_CRYPTO</code>程序包支持常见Oracle数据类型的加密和解密，包括<code class="codeph">RAW</code>和大对象（ <code class="codeph">LOB</code> ），如图像和声音。具体来说，它支持<code class="codeph">BLOB</code>和<code class="codeph">CLOB</code> 。此外，它还提供全球化支持，用于跨不同数据库字符集加密数据。
                     </p>
                     <p>支持以下加密算法：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>数据加密标准（DES），三重DES（3DES，2键和3键）</p>
                        </li>
                        <li>
                           <p>高级加密标准（AES）</p>
                        </li>
                        <li>
                           <p>MD5，MD4，SHA-1和SHA-2加密哈希</p>
                        </li>
                        <li>
                           <p>MD5，SHA-1和SHA-2消息验证码（MAC）</p>
                        </li>
                     </ul>
                     <p><code class="codeph">DBMS_CRYPTO</code>也提供了分组密码修饰符。您可以选择多种填充选项，包括PKCS（公钥加密标准）＃5，以及四种分组密码链模式，包括密码块链接（CBC）。
                     </p>
                     <p><a href="DBMS_CRYPTO.html#GUID-1C98C203-29EF-488D-A5FA-42AD4BD7718D__BJFFAJCC" title="此表列出了DBMS_CRYPTO程序包功能。">表39-1</a>总结了<code class="codeph">DBMS_CRYPTO</code>程序包的功能。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformalwide" id="GUID-1C98C203-29EF-488D-A5FA-42AD4BD7718D__BJFFAJCC">
                     <p class="titleintable">表39-1 DBMS_CRYPTO功能</p>
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="DBMS_CRYPTO功能" width="100%" border="1" summary="This table lists the DBMS_CRYPTO package features." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="40%" id="d194664e336">包装功能</th>
                              <th align="left" valign="bottom" width="60%" id="d194664e339">DBMS_CRYPTO</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="40%" id="d194664e344" headers="d194664e336 ">
                                 <p>加密算法</p>
                              </td>
                              <td align="left" valign="top" width="60%" headers="d194664e344 d194664e339 ">
                                 <p>DES，3DES，AES，RC4,3DES_2KEY</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="40%" id="d194664e351" headers="d194664e336 ">
                                 <p>填充表格</p>
                              </td>
                              <td align="left" valign="top" width="60%" headers="d194664e351 d194664e339 ">
                                 <p>PKCS5，零</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="40%" id="d194664e358" headers="d194664e336 ">
                                 <p>分组密码链模式</p>
                              </td>
                              <td align="left" valign="top" width="60%" headers="d194664e358 d194664e339 ">
                                 <p>CBC，CFB，ECB，OFB</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="40%" id="d194664e365" headers="d194664e336 ">
                                 <p>加密哈希算法</p>
                              </td>
                              <td align="left" valign="top" width="60%" headers="d194664e365 d194664e339 ">
                                 <p>MD5，SHA-1，SHA-2（SHA-256，SHA-384，SHA-512），MD4</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="40%" id="d194664e372" headers="d194664e336 ">
                                 <p>密钥散列（MAC）算法</p>
                              </td>
                              <td align="left" valign="top" width="60%" headers="d194664e372 d194664e339 ">
                                 <p>HMAC_MD5，HMAC_SH1，HMAC_SH256，HMAC_SH384，HMAC_SH512</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="40%" id="d194664e379" headers="d194664e336 ">
                                 <p>密码伪随机数发生器</p>
                              </td>
                              <td align="left" valign="top" width="60%" headers="d194664e379 d194664e339 ">
                                 <p><code class="codeph">RAW</code> ， <code class="codeph">NUMBER</code> ， <code class="codeph">BINARY_INTEGER</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="40%" id="d194664e393" headers="d194664e336 ">
                                 <p>数据库类型</p>
                              </td>
                              <td align="left" valign="top" width="60%" headers="d194664e393 d194664e339 ">
                                 <p><code class="codeph">RAW</code> ， <code class="codeph">CLOB</code> ， <code class="codeph">BLOB</code></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p><code class="codeph">DBMS_CRYPTO</code>包替换了<code class="codeph">DBMS_OBFUSCATION_TOOLKIT</code> ，提供了更大的易用性，并支持一系列算法以适应新的和现有的系统。具体而言，提供<code class="codeph">3DES_2KEY</code>和MD4以实现向后兼容性。建议不要使用这些算法，因为它们不提供与3DES，AES，MD5，SHA-1或SHA-2相同的安全级别。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS65672"></a><a id="ARPLS65672"></a><div class="props_rev_3"><a id="GUID-FACA00E9-A648-4535-AAC3-97945C4A0760" name="GUID-FACA00E9-A648-4535-AAC3-97945C4A0760"></a><h3 id="ARPLS-GUID-FACA00E9-A648-4535-AAC3-97945C4A0760" class="sect3"><span class="enumeration_section">39.2</span> DBMS_CRYPTO安全模型</h3>
               <div>
                  <p>Oracle数据库在<code class="codeph">SYS</code>模式中安装此包。然后，您可以根据需要向现有用户和角色授予包访问权限。
                  </p>
               </div>
            </div><a id="ARPLS65673"></a><a id="ARPLS65674"></a><a id="ARPLS65674"></a><a id="ARPLS65673"></a><div class="props_rev_3"><a id="GUID-5888EA23-93EC-474D-AA56-0DFDF3ABB147" name="GUID-5888EA23-93EC-474D-AA56-0DFDF3ABB147"></a><h3 id="ARPLS-GUID-5888EA23-93EC-474D-AA56-0DFDF3ABB147" class="sect3"><span class="enumeration_section">39.3</span> DBMS_CRYPTO数据类型</h3>
               <div>
                  <p><code class="codeph">DBMS_CRYPTO</code>子程序的参数使用这些数据类型。
                  </p>
                  <div class="tblformal" id="GUID-5888EA23-93EC-474D-AA56-0DFDF3ABB147__GUID-0E072267-3DC4-49D0-A12A-3BEE6571F92D">
                     <p class="titleintable">表39-2 DBMS_CRYPTO数据类型</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_CRYPTO数据类型" width="100%" border="1" summary="This table describes DBMS_CRYPTO Datatypes." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="31%" id="d194664e609">类型</th>
                              <th align="left" valign="bottom" width="69%" id="d194664e612">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d194664e617" headers="d194664e609 ">
                                 <p><code class="codeph">BLOB</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d194664e617 d194664e612 ">
                                 <p>源或目标二进制LOB</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d194664e625" headers="d194664e609 ">
                                 <p><code class="codeph">CLOB</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d194664e625 d194664e612 ">
                                 <p>源或目标字符LOB（不包括NCLOB）</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d194664e633" headers="d194664e609 ">
                                 <p><code class="codeph">PLS_INTEGER</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d194664e633 d194664e612 ">
                                 <p>指定加密算法类型（与BLOB，CLOB和RAW数据类型一起使用）</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d194664e641" headers="d194664e609 ">
                                 <p><code class="codeph">生的</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d194664e641 d194664e612 ">
                                 <p>源或目标RAW缓冲区</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="ARPLS65675"></a><a id="ARPLS65676"></a><a id="ARPLS65677"></a><a id="ARPLS65678"></a><a id="ARPLS65679"></a><a id="ARPLS65680"></a><a id="ARPLS65681"></a><a id="ARPLS65676"></a><a id="ARPLS65677"></a><a id="ARPLS65678"></a><a id="ARPLS65679"></a><a id="ARPLS65680"></a><a id="ARPLS65681"></a><a id="ARPLS65675"></a><div class="props_rev_3"><a id="GUID-CE3CF17D-E781-47CB-AEE7-19A9B2BCD3EC" name="GUID-CE3CF17D-E781-47CB-AEE7-19A9B2BCD3EC"></a><h3 id="ARPLS-GUID-CE3CF17D-E781-47CB-AEE7-19A9B2BCD3EC" class="sect3"><span class="enumeration_section">39.4</span> DBMS_CRYPTO算法</h3>
               <div>
                  <p>DBMS_CRYPTO包中包含预定义的加密算法，修饰符和密码套件。</p>
                  <div class="section">
                     <p>这些显示在下表中。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-CE3CF17D-E781-47CB-AEE7-19A9B2BCD3EC__BJFCHAFC">
                     <p class="titleintable">表39-3 DBMS_CRYPTO密码哈希函数</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_CRYPTO加密哈希函数" width="100%" border="1" summary="This table describes DBMS_CRYPTO Cryptographic Hash Functions." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="18%" id="d194664e760">名称</th>
                              <th align="left" valign="bottom" width="82%" id="d194664e763">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="18%" id="d194664e768" headers="d194664e760 ">
                                 <p><code class="codeph">HASH_MD4</code></p>
                              </td>
                              <td align="left" valign="top" width="82%" headers="d194664e768 d194664e763 ">
                                 <p>生成输入消息的128位散列或消息摘要</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="18%" id="d194664e776" headers="d194664e760 ">
                                 <p><code class="codeph">HASH_MD5</code></p>
                              </td>
                              <td align="left" valign="top" width="82%" headers="d194664e776 d194664e763 ">
                                 <p>还产生128位散列，但比MD4更复杂</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="18%" id="d194664e784" headers="d194664e760 ">
                                 <p><code class="codeph">HASH_SH1</code></p>
                              </td>
                              <td align="left" valign="top" width="82%" headers="d194664e784 d194664e763 ">
                                 <p>安全散列算法（SHA-1）。生成160位哈希。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="18%" id="d194664e792" headers="d194664e760 ">
                                 <p><code class="codeph">HASH_SH256</code></p>
                              </td>
                              <td align="left" valign="top" width="82%" headers="d194664e792 d194664e763 ">
                                 <p>SHA-2产生256位散列。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="18%" id="d194664e800" headers="d194664e760 ">
                                 <p><code class="codeph">HASH_SH384</code></p>
                              </td>
                              <td align="left" valign="top" width="82%" headers="d194664e800 d194664e763 ">
                                 <p>SHA-2产生384位散列。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="18%" id="d194664e808" headers="d194664e760 ">
                                 <p><code class="codeph">HASH_SH512</code></p>
                              </td>
                              <td align="left" valign="top" width="82%" headers="d194664e808 d194664e763 ">
                                 <p>SHA-2产生512位散列。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="tblformal" id="GUID-CE3CF17D-E781-47CB-AEE7-19A9B2BCD3EC__BJFEIEFA">
                     <p class="titleintable">表39-4 DBMS_CRYPTO MAC（消息验证代码）功能</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_CRYPTO MAC（消息认证码）功能" width="100%" border="1" summary="This table describes BMS_CRYPTO MAC (Message Authentication Code) functions." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="18%" id="d194664e825">名称</th>
                              <th align="left" valign="bottom" width="82%" id="d194664e828">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="18%" id="d194664e833" headers="d194664e825 ">
                                 <p><code class="codeph">HMAC_MD5</code> <a id="GUID-CE3CF17D-E781-47CB-AEE7-19A9B2BCD3EC__BJFHFCCA" name="GUID-CE3CF17D-E781-47CB-AEE7-19A9B2BCD3EC__BJFHFCCA" href="#GUID-CE3CF17D-E781-47CB-AEE7-19A9B2BCD3EC__BJFHFCCA" complies="" with="" ietf="" rfc="" 2104="" standar=")" ="" onclick="footdisplay(1, "><sup>脚1</sup></a></p>
                              </td>
                              <td align="left" valign="top" width="82%" headers="d194664e833 d194664e828 ">
                                 <p>与MD5哈希函数相同，除了它需要密钥来验证哈希值。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="18%" id="d194664e844" headers="d194664e825 ">
                                 <p><code class="codeph">HMAC_SH1</code> <a id="fnsrc_d194664e848" name="fnsrc_d194664e848" href="#fnsrc_d194664e848" complies="" with="" ietf="" rfc="" 2104="" standar=")" ="" onclick="footdisplay(1, "><sup>Footref 1</sup></a></p>
                              </td>
                              <td align="left" valign="top" width="82%" headers="d194664e844 d194664e828 ">
                                 <p>与SHA哈希函数相同，除了它需要密钥来验证哈希值。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="18%" id="d194664e854" headers="d194664e825 ">
                                 <p><code class="codeph">HMAC_SH256</code></p>
                              </td>
                              <td align="left" valign="top" width="82%" headers="d194664e854 d194664e828 ">
                                 <p>与SHA-2 256位散列函数相同，除了它需要密钥来验证散列值。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="18%" id="d194664e862" headers="d194664e825 ">
                                 <p><code class="codeph">HMAC_SH384</code></p>
                              </td>
                              <td align="left" valign="top" width="82%" headers="d194664e862 d194664e828 ">
                                 <p>与SHA-2 384位散列函数相同，除了它需要密钥来验证散列值。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="18%" id="d194664e870" headers="d194664e825 ">
                                 <p><code class="codeph">HMAC_SH512</code></p>
                              </td>
                              <td align="left" valign="top" width="82%" headers="d194664e870 d194664e828 ">
                                 <p>与SHA-2 512位散列函数相同，但它需要密钥来验证散列值。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p class="tablefootnote"><sup class="tablefootnote">脚注1</sup></p><p>符合IETF RFC 2104标准</p>
                  <p></p>
                  <div class="tblformal" id="GUID-CE3CF17D-E781-47CB-AEE7-19A9B2BCD3EC__CHDBJIEF">
                     <p class="titleintable">表39-5 DBMS_CRYPTO加密算法</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_CRYPTO加密算法" width="100%" border="1" summary="This table describes DBMS_CRYPTO Encryption algorithms." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="31%" id="d194664e887">名称</th>
                              <th align="left" valign="bottom" width="69%" id="d194664e890">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d194664e895" headers="d194664e887 ">
                                 <p><code class="codeph">ENCRYPT_DES</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d194664e895 d194664e890 ">
                                 <p>数据加密标准。分组密码。使用56位的密钥长度。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d194664e903" headers="d194664e887 ">
                                 <p><code class="codeph">ENCRYPT_3DES_2KEY</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d194664e903 d194664e890 ">
                                 <p>数据加密标准。分组密码。使用2个键在块上操作3次。有效密钥长度为112位。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d194664e911" headers="d194664e887 ">
                                 <p><code class="codeph">ENCRYPT_3DES</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d194664e911 d194664e890 ">
                                 <p>数据加密标准。分组密码。在街区进行3次操作。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d194664e919" headers="d194664e887 ">
                                 <p><code class="codeph">ENCRYPT_AES128</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d194664e919 d194664e890 ">
                                 <p>高级加密标准。分组密码。使用128位密钥大小。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d194664e927" headers="d194664e887 ">
                                 <p><code class="codeph">ENCRYPT_AES192</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d194664e927 d194664e890 ">
                                 <p>高级加密标准。分组密码。使用192位密钥大小。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d194664e935" headers="d194664e887 ">
                                 <p><code class="codeph">ENCRYPT_AES256</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d194664e935 d194664e890 ">
                                 <p>高级加密标准。分组密码。使用256位密钥大小。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d194664e943" headers="d194664e887 ">
                                 <p><code class="codeph">ENCRYPT_RC4</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d194664e943 d194664e890 ">
                                 <p>流密码。使用每个会话唯一的秘密随机生成密钥。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="tblformal" id="GUID-CE3CF17D-E781-47CB-AEE7-19A9B2BCD3EC__BJFJEGDA">
                     <p class="titleintable">表39-6 DBMS_CRYPTO分组密码套件</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_CRYPTO分组密码套件" width="100%" border="1" summary="This table describes DBMS_CRYPTO Block Cipher Suites." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="31%" id="d194664e960">名称</th>
                              <th align="left" valign="bottom" width="69%" id="d194664e963">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d194664e968" headers="d194664e960 ">
                                 <p><code class="codeph">DES_CBC_PKCS5</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d194664e968 d194664e963 ">
                                 <p>ENCRYPT_DES <a id="GUID-CE3CF17D-E781-47CB-AEE7-19A9B2BCD3EC__BJFEGJJE" name="GUID-CE3CF17D-E781-47CB-AEE7-19A9B2BCD3EC__BJFEGJJE" href="#GUID-CE3CF17D-E781-47CB-AEE7-19A9B2BCD3EC__BJFEGJJE" see="" table="" 39-=")" ="" onclick="footdisplay(2, "><sup>脚2</sup></a> + CHAIN_CBC <a id="GUID-CE3CF17D-E781-47CB-AEE7-19A9B2BCD3EC__BJFJAADE" name="GUID-CE3CF17D-E781-47CB-AEE7-19A9B2BCD3EC__BJFJAADE" href="#GUID-CE3CF17D-E781-47CB-AEE7-19A9B2BCD3EC__BJFJAADE" see="" table="" 39-=")" ="" onclick="footdisplay(3, "><sup>脚3</sup></a> + PAD_PKCS5 <a id="GUID-CE3CF17D-E781-47CB-AEE7-19A9B2BCD3EC__BJFBICJJ" name="GUID-CE3CF17D-E781-47CB-AEE7-19A9B2BCD3EC__BJFBICJJ" href="#GUID-CE3CF17D-E781-47CB-AEE7-19A9B2BCD3EC__BJFBICJJ" see="" table="" 39-=")" ="" onclick="footdisplay(4, "><sup>脚4</sup></a></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d194664e999" headers="d194664e960 ">
                                 <p><code class="codeph">DES3_CBC_PKCS5</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d194664e999 d194664e963 ">
                                 <p><code class="codeph">ENCRYPT_3DES</code> <a id="fnsrc_d194664e1007" name="fnsrc_d194664e1007" href="#fnsrc_d194664e1007" see="" table="" 39-=")" ="" onclick="footdisplay(2, "><sup>Footref 2</sup></a> + <code class="codeph">CHAIN_CBC</code> <a id="fnsrc_d194664e1012" name="fnsrc_d194664e1012" href="#fnsrc_d194664e1012" see="" table="" 39-=")" ="" onclick="footdisplay(3, "><sup>Footref 3</sup></a> + PAD_PKCS5 <a id="fnsrc_d194664e1015" name="fnsrc_d194664e1015" href="#fnsrc_d194664e1015" see="" table="" 39-=")" ="" onclick="footdisplay(4, "><sup>Footref 4</sup></a></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p class="tablefootnote"><sup class="tablefootnote">脚注2</sup></p><p><a href="DBMS_CRYPTO.html#GUID-CE3CF17D-E781-47CB-AEE7-19A9B2BCD3EC__CHDBJIEF" title="此表描述了DBMS_CRYPTO加密算法。">见表39-5</a></p>
                  <p></p>
                  <p class="tablefootnote"><sup class="tablefootnote">脚注3</sup></p><p><a href="DBMS_CRYPTO.html#GUID-CE3CF17D-E781-47CB-AEE7-19A9B2BCD3EC__BJFEAAHD" title="此表描述了DBMS_CRYPTO块密码链接修饰符。">见表39-7</a></p>
                  <p></p>
                  <p class="tablefootnote"><sup class="tablefootnote">脚注4</sup></p><p><a href="DBMS_CRYPTO.html#GUID-CE3CF17D-E781-47CB-AEE7-19A9B2BCD3EC__BJFEJIEH" title="此表描述了DBMS_CRYPTO块密码填充修改器。">见表39-8</a></p>
                  <p></p>
                  <div class="tblformal" id="GUID-CE3CF17D-E781-47CB-AEE7-19A9B2BCD3EC__BJFEAAHD">
                     <p class="titleintable">表39-7 DBMS_CRYPTO分组密码链接修饰符</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_CRYPTO分组密码链接修饰符" width="100%" border="1" summary="This table describes DBMS_CRYPTO Block Cipher Chaining Modifiers." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="18%" id="d194664e1027">名称</th>
                              <th align="left" valign="bottom" width="82%" id="d194664e1030">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="18%" id="d194664e1035" headers="d194664e1027 ">
                                 <p><code class="codeph">CHAIN_ECB</code></p>
                              </td>
                              <td align="left" valign="top" width="82%" headers="d194664e1035 d194664e1030 ">
                                 <p>电子密码本。独立加密每个明文块。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="18%" id="d194664e1043" headers="d194664e1027 ">
                                 <p><code class="codeph">CHAIN_CBC</code></p>
                              </td>
                              <td align="left" valign="top" width="82%" headers="d194664e1043 d194664e1030 ">
                                 <p>密码块链接。在加密之前，明文与先前的密文块进行异或。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="18%" id="d194664e1051" headers="d194664e1027 ">
                                 <p><code class="codeph">CHAIN_CFB</code></p>
                              </td>
                              <td align="left" valign="top" width="82%" headers="d194664e1051 d194664e1030 ">
                                 <p>密码的反馈。允许加密小于块大小的数据单元。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="18%" id="d194664e1059" headers="d194664e1027 ">
                                 <p><code class="codeph">CHAIN_OFB</code></p>
                              </td>
                              <td align="left" valign="top" width="82%" headers="d194664e1059 d194664e1030 ">
                                 <p>输出反馈。允许将块密码作为同步流密码运行。与CFB类似，不同之处在于前一个输出块的<span class="italic">n</span>位被移动到等待加密的数据队列的最右侧位置。
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="tblformal" id="GUID-CE3CF17D-E781-47CB-AEE7-19A9B2BCD3EC__BJFEJIEH">
                     <p class="titleintable">表39-8 DBMS_CRYPTO块密码填充修改器</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_CRYPTO块密码填充修改器" width="100%" border="1" summary="This table describes DBMS_CRYPTO Block Cipher Padding Modifiers." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="19%" id="d194664e1079">名称</th>
                              <th align="left" valign="bottom" width="81%" id="d194664e1082">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d194664e1087" headers="d194664e1079 ">
                                 <p><code class="codeph">PAD_PKCS5</code></p>
                              </td>
                              <td align="left" valign="top" width="81%" headers="d194664e1087 d194664e1082 ">
                                 <p>提供符合PKCS＃5：基于密码的加密标准的填充</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d194664e1095" headers="d194664e1079 ">
                                 <p><code class="codeph">PAD_NONE</code></p>
                              </td>
                              <td align="left" valign="top" width="81%" headers="d194664e1095 d194664e1082 ">
                                 <p>提供指定无填充的选项。调用者必须确保blocksize正确，否则包返回错误。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d194664e1103" headers="d194664e1079 ">
                                 <p><code class="codeph">PAD_ZERO</code></p>
                              </td>
                              <td align="left" valign="top" width="81%" headers="d194664e1103 d194664e1082 ">
                                 <p>提供由零组成的填充</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="ARPLS65682"></a><a id="ARPLS65682"></a><div class="props_rev_3"><a id="GUID-EA4F4C1A-5F77-4ED0-8323-5EF778EE7101" name="GUID-EA4F4C1A-5F77-4ED0-8323-5EF778EE7101"></a><h3 id="ARPLS-GUID-EA4F4C1A-5F77-4ED0-8323-5EF778EE7101" class="sect3"><span class="enumeration_section">39.5</span> DBMS_CRYPTO限制</h3>
               <div>
                  <p><code class="codeph">DBMS_CRYPTO</code>不直接支持<code class="codeph">VARCHAR2</code>数据类型。在对<code class="codeph">VARCHAR2</code>类型的数据执行加密操作之前，必须将其转换为统一数据库字符集AL32UTF8，然后将其转换为<code class="codeph">RAW</code>数据类型。执行这些转换后，您可以使用<code class="codeph">DBMS_CRYPTO</code>包对其进行加密。
                  </p>
                  <div class="section">
                     <div class="infoboxnotealso" id="GUID-EA4F4C1A-5F77-4ED0-8323-5EF778EE7101__GUID-182ABF07-DE97-4E3B-9D4D-C6B54B4103B3">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="DBMS_CRYPTO.html#GUID-5FF9978D-59D1-4F4A-9A48-C3A03DC569AE" title="本节介绍几个DBMS_CRYPTO操作说明。">DBMS_CRYPTO操作说明</a> ，了解有关转换数据类型的转换规则的信息。
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS65683"></a><a id="ARPLS65684"></a><a id="ARPLS65684"></a><a id="ARPLS65683"></a><div class="props_rev_3"><a id="GUID-FC85FE08-6AD8-408B-8191-00832017CB73" name="GUID-FC85FE08-6AD8-408B-8191-00832017CB73"></a><h3 id="ARPLS-GUID-FC85FE08-6AD8-408B-8191-00832017CB73" class="sect3"><span class="enumeration_section">39.6</span> DBMS_CRYPTO异常</h3>
               <div>
                  <p>下表列出了已为<code class="codeph">DBMS_CRYPTO</code>定义的<code class="codeph">DBMS_CRYPTO</code> 。</p>
                  <div class="tblformal" id="GUID-FC85FE08-6AD8-408B-8191-00832017CB73__BJFJHJHH">
                     <p class="titleintable">表39-9 DBMS_CRYPTO异常</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_CRYPTO异常" width="100%" border="1" summary="This table describes DBMS_CRYPTO Exceptions." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="24%" id="d194664e1324">例外</th>
                              <th align="left" valign="bottom" width="15%" id="d194664e1327">码</th>
                              <th align="left" valign="bottom" width="61%" id="d194664e1330">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="24%" id="d194664e1335" headers="d194664e1324 ">
                                 <p><code class="codeph">CipherSuiteInvalid</code></p>
                              </td>
                              <td align="left" valign="top" width="15%" headers="d194664e1335 d194664e1327 ">
                                 <p><code class="codeph">28827</code></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d194664e1335 d194664e1330 ">
                                 <p>未定义指定的密码套件。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="24%" id="d194664e1347" headers="d194664e1324 ">
                                 <p><code class="codeph">CipherSuiteNull</code></p>
                              </td>
                              <td align="left" valign="top" width="15%" headers="d194664e1347 d194664e1327 ">
                                 <p><code class="codeph">28829</code></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d194664e1347 d194664e1330 ">
                                 <p>没有为要使用的密码套件指定任何值。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="24%" id="d194664e1359" headers="d194664e1324 ">
                                 <p><code class="codeph">KeyNull</code></p>
                              </td>
                              <td align="left" valign="top" width="15%" headers="d194664e1359 d194664e1327 ">
                                 <p><code class="codeph">28239</code></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d194664e1359 d194664e1330 ">
                                 <p>加密密钥尚未指定或包含<code class="codeph">NULL</code>值。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="24%" id="d194664e1374" headers="d194664e1324 ">
                                 <p><code class="codeph">KeyBadSize</code></p>
                              </td>
                              <td align="left" valign="top" width="15%" headers="d194664e1374 d194664e1327 ">
                                 <p><code class="codeph">28234</code></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d194664e1374 d194664e1330 ">
                                 <p>DES密钥：指定的密钥大小太短。DES密钥必须至少为8个字节（64位）。</p>
                                 <p>AES密钥：不支持指定的密钥大小。AES密钥的长度必须为128,192或256位。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="24%" id="d194664e1388" headers="d194664e1324 ">
                                 <p><code class="codeph">DoubleEncryption</code></p>
                              </td>
                              <td align="left" valign="top" width="15%" headers="d194664e1388 d194664e1327 ">
                                 <p><code class="codeph">28233</code></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d194664e1388 d194664e1330 ">
                                 <p>源数据先前已加密。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-5FF9978D-59D1-4F4A-9A48-C3A03DC569AE" name="GUID-5FF9978D-59D1-4F4A-9A48-C3A03DC569AE"></a><h3 id="ARPLS-GUID-5FF9978D-59D1-4F4A-9A48-C3A03DC569AE" class="sect3"><span class="enumeration_section">39.7</span> DBMS_CRYPTO操作说明</h3>
               <div>
                  <p>本节介绍几个DBMS_CRYPTO操作说明。</p>
                  <div class="section">
                     <ul style="list-style-type:disc">
                        <li>
                           <p>何时使用加密和解密程序或功能</p>
                        </li>
                        <li>
                           <p>何时使用哈希或消息验证代码（MAC）功能</p>
                        </li>
                        <li>
                           <p>关于生成和存储加密密钥</p>
                        </li>
                        <li>
                           <p>转换规则</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-5FF9978D-59D1-4F4A-9A48-C3A03DC569AE__WHENTOUSEENCRYPTANDDECRYPTPROCEDURE-4534A7C9">何时使用加密和解密程序或功能</p>
                     <p>该软件包包括<code class="codeph">ENCRYPT</code>和<code class="codeph">DECRYPT</code>过程和函数。这些过程用于加密或解密<code class="codeph">LOB</code>数据类型（为<code class="codeph">CLOB</code>和<code class="codeph">BLOB</code>数据类型重载）。相反， <code class="codeph">ENCRYPT</code>和<code class="codeph">DECRYPT</code>函数用于加密和解密<code class="codeph">RAW</code>数据类型。必须先将<code class="codeph">VARCHAR2</code>类型的数据转换为<code class="codeph">RAW</code>然后才能使用<code class="codeph">DBMS_CRYPTO</code>函数对其进行加密。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-5FF9978D-59D1-4F4A-9A48-C3A03DC569AE__GUID-7F8EEDF8-12B4-40A3-8FEA-933349AA1001">何时使用哈希或消息验证代码（MAC）功能</p>
                     <p>该软件包包括两种不同类型的单向散列函数： <code class="codeph">HASH</code>函数和<code class="codeph">MAC</code>函数。散列函数对任意长度的输入消息进行操作，并返回固定长度的散列值。单向散列函数仅在一个方向上起作用。很容易从输入消息计算哈希值，但是生成散列到特定值的输入消息非常困难。请注意，哈希值的长度至少应为128位，以确保安全。
                     </p>
                     <p>您可以使用哈希值来验证数据是否已被更改。例如，在存储数据之前，用户针对存储的数据运行<code class="codeph">DBMS_CRYPTO.HASH</code>以创建哈希值。在返回存储的数据时，用户可以使用相同的算法再次针对它运行散列函数。如果第二个散列值与第一个散列值相同，则数据未被更改。散列值类似于“文件指纹”，用于确保数据完整性。
                     </p>
                     <p><code class="codeph">DBMS_CRYPTO</code>包含的<code class="codeph">HASH</code>函数是一种单向散列函数，可用于从<code class="codeph">RAW</code>或<code class="codeph">LOB</code>数据生成散列值。<code class="codeph">MAC</code>功能也是单向散列函数，但增加了密钥。它的工作方式与<code class="codeph">DBMS_CRYPTO.HASH</code>功能相同，只是有密钥的人可以验证哈希值。
                     </p>
                     <p>MAC可用于验证用户之间的文件。单个用户也可以使用它们来确定她的文件是否已被病毒更改。用户可以计算其文件的MAC并将该值存储在表中。如果用户没有使用MAC功能，则病毒可以在感染后计算新的哈希值并替换表项。病毒无法通过MAC执行此操作，因为病毒不知道密钥。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-5FF9978D-59D1-4F4A-9A48-C3A03DC569AE__GUID-732EC584-5339-44C5-9699-539AA6F9DCB3">关于生成和存储加密密钥</p>
                     <p><code class="codeph">DBMS_CRYPTO</code>包可以为加密密钥生成随机材料，但它不提供维护它们的机制。应用程序开发人员必须注意确保安全地生成和存储与此程序包一起使用的加密密钥。另请注意， <code class="codeph">DBMS_CRYPTO</code>执行的加密和解密操作发生在服务器上，而不是客户端上。因此，如果密钥是通过客户端和服务器之间的连接发送的，则必须使用网络加密来保护连接。否则，密钥很容易被线路捕获。
                     </p>
                     <p>尽管<code class="codeph">DBMS_CRYPTO</code>无法自行生成密钥，但它确实提供了可用于帮助生成密钥的工具。例如，您可以使用<code class="codeph">RANDOMBYTES</code>函数为键生成随机材料。
                     </p>
                     <p>为DES生成加密密钥时，请务必记住某些数字被视为弱密钥和半弱密钥。当算法的模式与初始密钥值的模式组合以产生更易受密码分析影响的密文时，密钥被认为是弱或半弱。为避免这种情况，请过滤掉已知的弱DES密钥。可以在几个公共因特网站点上找到已知的弱和半弱DES密钥列表。</p>
                     <div class="infoboxnotealso" id="GUID-5FF9978D-59D1-4F4A-9A48-C3A03DC569AE__GUID-CF96B174-0970-404E-B7CC-AC78E88B426D">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>有关配置网络加密和SSL的信息，请<a href="../dbseg/configuring-secure-sockets-layer-authentication.html#DBSEG-GUID-6AD89576-526F-4D6B-A539-ADF4B840819F" target="_blank"><span><cite>参见“Oracle数据库安全指南</cite></span></a></p>
                           </li>
                           <li>
                              <p><a href="DBMS_CRYPTO.html#GUID-FAC58F76-A0EA-4FB4-B31F-745B3F7BF75F" title="此函数返回包含加密安全伪随机字节序列的RAW值，该值可用于生成加密密钥的随机材料。">RANDOMBYTES功能</a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-5FF9978D-59D1-4F4A-9A48-C3A03DC569AE__GUID-5CE8ED73-8C14-48F5-A315-8DDE07D0F7DA">转换规则</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>要将<code class="codeph">VARCHAR2</code>转换为<code class="codeph">RAW</code> ，请使用<code class="codeph">UTL_I18N.STRING_TO_RAW</code>函数执行以下步骤：</p>
                           <ol>
                              <li>
                                 <p>转换<code class="codeph">VARCHAR2</code>在设置为当前数据库的字符<code class="codeph">VARCHAR2</code>在AL32UTF8数据库字符集。
                                 </p>
                              </li>
                              <li>
                                 <p>将AL32UTF8数据库字符集中的<code class="codeph">VARCHAR2</code>转换为<code class="codeph">RAW</code> 。</p>
                              </li>
                           </ol>
                           <p>语法示例：</p><pre class="oac_no_warn" dir="ltr">UTL_I18N.STRING_TO_RAW（ <span class="variable" translate="no">string</span> ，'AL32UTF8'）;</pre></li>
                        <li>
                           <p>要将<code class="codeph">RAW</code>转换为<code class="codeph">VARCHAR2</code> ，请使用<code class="codeph">UTL_I18N.RAW_TO_CHAR</code>函数执行以下步骤：</p>
                           <ol>
                              <li>
                                 <p>在AL32UTF8数据库字符集中将<code class="codeph">RAW</code>转换为<code class="codeph">VARCHAR2</code> 。
                                 </p>
                              </li>
                              <li>
                                 <p>转换<code class="codeph">VARCHAR2</code>在设置为AL32UTF8数据库字符<code class="codeph">VARCHAR2</code>数据库中的字符集要使用。
                                 </p>
                              </li>
                           </ol>
                           <p>语法示例：</p><pre class="oac_no_warn" dir="ltr">UTL_I18N.RAW_TO_CHAR（data，'AL32UTF8'）;</pre><div class="infoboxnotealso" id="GUID-5FF9978D-59D1-4F4A-9A48-C3A03DC569AE__GUID-E6E298DC-F7C8-4AE9-A17C-E6C3D89DE9F4">
                              <p class="notep1">也可以看看：</p>
                              <p><a href="UTL_I18N.html#GUID-1960EAEF-B279-4ABF-BCF8-8F1007C7A822" title="UTL_I18N是一组服务，为使用PL / SQL编写的应用程序提供额外的全球化功能。">UTL_I18N</a>有关使用<code class="codeph">UTL_I18N</code> PL / SQL程序包的信息。
                              </p>
                           </div>
                        </li>
                        <li>
                           <p>如果要将<code class="codeph">RAW</code>数据类型的加密数据存储在<code class="codeph">VARCHAR2</code>数据库列中，请使用<code class="codeph">RAWTOHEX</code>或<code class="codeph">UTL_ENCODE.BASE64_ENCODE</code>使其适合<code class="codeph">VARCHAR2</code>存储。这些函数分别将数据大小扩展为2和4/3。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS65690"></a><a id="ARPLS65690"></a><div class="props_rev_3"><a id="GUID-A3CFAB51-7CD7-41FC-841A-FBE1E59CB5C2" name="GUID-A3CFAB51-7CD7-41FC-841A-FBE1E59CB5C2"></a><h3 id="ARPLS-GUID-A3CFAB51-7CD7-41FC-841A-FBE1E59CB5C2" class="sect3"><span class="enumeration_section">39.8</span> DBMS_CRYPTO示例</h3>
               <div>
                  <p>此列表显示PL / SQL块使用具有密码块链接和PKCS＃5兼容填充的256位AES算法加密和解密预定义的“ <code class="codeph">input_string</code> ”。
                  </p>
                  <div class="section"><pre class="oac_no_warn" dir="ltr">DECLARE input_string VARCHAR2（200）：='秘密消息'; output_string VARCHAR2（200）; encrypted_raw RAW（2000）; - 存储加密的二进制文本decrypted_raw RAW（2000）; - 存储解密的二进制文本num_key_bytes NUMBER：= 256/8; - 密钥长度256位（32字节）key_bytes_raw RAW（32）; - 存储256位加密密钥encryption_type PLS_INTEGER：=  - 总加密类型DBMS_CRYPTO.ENCRYPT_AES256 + DBMS_CRYPTO.CHAIN_CBC + DBMS_CRYPTO.PAD_PKCS5; iv_raw RAW（16）; BEGIN DBMS_OUTPUT.PUT_LINE（'原始字符串：'|| input_string）; key_bytes_raw：= DBMS_CRYPTO.RANDOMBYTES（num_key_bytes）; iv_raw：= DBMS_CRYPTO.RANDOMBYTES（16）; encrypted_raw：= DBMS_CRYPTO.ENCRYPT（src =&gt; UTL_I18N.STRING_TO_RAW（input_string，'AL32UTF8'），typ =&gt; encryption_type，key =&gt; key_bytes_raw，iv =&gt; iv_raw）; - 加密值“encrypted_raw”可以在这里使用decrypted_raw：= DBMS_CRYPTO.DECRYPT（src =&gt; encrypted_raw，typ =&gt; encryption_type，key =&gt; key_bytes_raw，iv =&gt; iv_raw）; output_string：= UTL_I18N.RAW_TO_CHAR（decrypted_raw，'AL32UTF8'）; DBMS_OUTPUT.PUT_LINE（'Decrypted string：'|| output_string）;结束;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS665"></a><a id="ARPLS65691"></a><a id="ARPLS65691"></a><a id="ARPLS665"></a><div class="props_rev_3"><a id="GUID-2AAF7708-B7F2-46FA-A86F-8C0573A20999" name="GUID-2AAF7708-B7F2-46FA-A86F-8C0573A20999"></a><h3 id="ARPLS-GUID-2AAF7708-B7F2-46FA-A86F-8C0573A20999" class="sect3"><span class="enumeration_section">39.9</span> DBMS_CRYPTO子程序摘要</h3>
               <div>
                  <p>此表按字母顺序列出<code class="codeph">DBMS_CRYPTO</code>子程序并简要描述它们。
                  </p>
                  <div class="tblformal" id="GUID-2AAF7708-B7F2-46FA-A86F-8C0573A20999__GUID-D42C7E42-4300-4748-889C-244CEDB309B8">
                     <p class="titleintable">表39-10 <span class="italic"><span class="bold">DBMS_CRYPTO包子程序</span></span></p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_CRYPTO包子程序" width="100%" border="1" summary="This table lists the DBMS_CRYPTO subprograms in alphabetical order and briefly describes them." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="28%" id="d194664e1920">子程序</th>
                              <th align="left" valign="bottom" width="72%" id="d194664e1923">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d194664e1928" headers="d194664e1920 ">
                                 <p><a href="DBMS_CRYPTO.html#GUID-7A041A3D-439B-4F7C-9FB9-8BC93E6DCC6A" title="该功能使用流或块密码使用用户提供的密钥和可选的IV（初始化矢量）来解密RAW数据。">解密功能</a></p>
                              </td>
                              <td align="left" valign="top" width="72%" headers="d194664e1928 d194664e1923 ">
                                 <p>使用流或块密码使用用户提供的密钥和可选的IV（初始化向量）解密<code class="codeph">RAW</code>数据</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d194664e1946" headers="d194664e1920 ">
                                 <p><a href="DBMS_CRYPTO.html#GUID-9E536D25-494C-488E-B12D-54F0448726F9" title="这些过程使用流或块密码使用用户提供的密钥和可选的IV（初始化向量）来解密LOB数据。">DECRYPT程序</a></p>
                              </td>
                              <td align="left" valign="top" width="72%" headers="d194664e1946 d194664e1923 ">
                                 <p>使用带有用户提供的密钥和可选IV的流或分组密码解密<code class="codeph">LOB</code>数据</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d194664e1964" headers="d194664e1920 ">
                                 <p><a href="DBMS_CRYPTO.html#GUID-6F04DDA9-EBB9-4A70-8DBB-F36671B7B049" title="此功能使用流或块密码使用用户提供的密钥和可选的IV（初始化向量）加密RAW数据。">加密功能</a></p>
                              </td>
                              <td align="left" valign="top" width="72%" headers="d194664e1964 d194664e1923 ">
                                 <p>使用流或块密码使用用户提供的密钥和可选的IV加密<code class="codeph">RAW</code>数据</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d194664e1982" headers="d194664e1920 ">
                                 <p><a href="DBMS_CRYPTO.html#GUID-4B05DCAF-F2C4-488F-89AC-3C8491799CBB" title="这些过程使用流或块密码使用用户提供的密钥和可选的IV（初始化向量）来加密LOB数据。">加密程序</a></p>
                              </td>
                              <td align="left" valign="top" width="72%" headers="d194664e1982 d194664e1923 ">
                                 <p>使用流或块密码使用用户提供的密钥和可选的IV加密<code class="codeph">LOB</code>数据</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d194664e2000" headers="d194664e1920 ">
                                 <p><a href="DBMS_CRYPTO.html#GUID-0F265319-B269-4CC1-B4FB-2C91EE1CE54E" title="单向散列函数采用可变长度输入字符串（数据），并将其转换为固定长度（通常较小）的输出字符串，称为散列值。散列值用作输入数据的唯一标识符（如指纹）。您可以使用哈希值来验证数据是否已更改。">HASH功能</a></p>
                              </td>
                              <td align="left" valign="top" width="72%" headers="d194664e2000 d194664e1923 ">
                                 <p>将一种受支持的加密哈希算法（MD4，MD5，SHA-1或SHA-2）应用于数据</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d194664e2015" headers="d194664e1920 ">
                                 <p><a href="DBMS_CRYPTO.html#GUID-F95D56B1-728E-4B0C-9A75-56EE263EFD34" title="此功能将消息验证代码（MAC）算法应用于数据以提供密钥消息保护。">MAC功能</a></p>
                              </td>
                              <td align="left" valign="top" width="72%" headers="d194664e2015 d194664e1923 ">
                                 <p>将消息验证代码算法（MD5，SHA-1或SHA-2）应用于数据以提供密钥消息保护</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d194664e2027" headers="d194664e1920 ">
                                 <p><a href="DBMS_CRYPTO.html#GUID-FAC58F76-A0EA-4FB4-B31F-745B3F7BF75F" title="此函数返回包含加密安全伪随机字节序列的RAW值，该值可用于生成加密密钥的随机材料。">RANDOMBYTES功能</a></p>
                              </td>
                              <td align="left" valign="top" width="72%" headers="d194664e2027 d194664e1923 ">
                                 <p>返回包含加密安全伪随机字节序列的<code class="codeph">RAW</code>值，可用于生成加密密钥的随机材料</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d194664e2045" headers="d194664e1920 ">
                                 <p><a href="DBMS_CRYPTO.html#GUID-1033E109-FFEB-4B08-B143-493486A473A9" title="此函数返回可用于Oracle BINARY_INTEGER数据类型的完整范围内的整数。">RANDOMINTEGER功能</a></p>
                              </td>
                              <td align="left" valign="top" width="72%" headers="d194664e2045 d194664e1923 ">
                                 <p>返回一个随机的<code class="codeph">BINARY_INTEGER</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d194664e2062" headers="d194664e1920 ">
                                 <p><a href="DBMS_CRYPTO.html#GUID-75E18CEB-6FBB-4C8D-A9E7-C43C3494FD3B" title="此函数返回Oracle NUMBER数据类型中的整数，范围为[0..2 ** 128-1]。">RANDOMNUMBER功能</a></p>
                              </td>
                              <td align="left" valign="top" width="72%" headers="d194664e2062 d194664e1923 ">
                                 <p>返回<code class="codeph">NUMBER</code>数据类型的随机128位整数</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div><a id="ARPLS65692"></a><a id="ARPLS65693"></a><a id="ARPLS65693"></a><a id="ARPLS65692"></a><div class="props_rev_3"><a id="GUID-7A041A3D-439B-4F7C-9FB9-8BC93E6DCC6A" name="GUID-7A041A3D-439B-4F7C-9FB9-8BC93E6DCC6A"></a><h4 id="ARPLS-GUID-7A041A3D-439B-4F7C-9FB9-8BC93E6DCC6A" class="sect4"><span class="enumeration_section">39.9.1</span>解密函数</h4>
                  <div>
                     <p>该功能使用流或块密码使用用户提供的密钥和可选的IV（初始化矢量）来解密<code class="codeph">RAW</code>数据。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-7A041A3D-439B-4F7C-9FB9-8BC93E6DCC6A__GUID-5574EEEC-747A-42F6-A424-4E23C3E7BE5D">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_CRYPTO.DECRYPT（src IN RAW，典型IN PLS_INTEGER，键入RA RAW，iv IN RAW DEFAULT NULL）返回原点;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-7A041A3D-439B-4F7C-9FB9-8BC93E6DCC6A__GUID-19C0884E-793C-41E6-9125-32586B15BA6A">编译指示</p><pre class="oac_no_warn" dir="ltr">pragma restrict_references（解密，WNDS，RNDS，WNPS，RNPS）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-7A041A3D-439B-4F7C-9FB9-8BC93E6DCC6A__GUID-2FF57BE2-715E-4C7B-8466-508CE4B38619">参数</p>
                        <div class="tblformal" id="GUID-7A041A3D-439B-4F7C-9FB9-8BC93E6DCC6A__GUID-2FA86334-9E67-40D2-AD4C-9822F1A36D52">
                           <p class="titleintable">表39-11 DECRYPT函数参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="DECRYPT函数参数" width="100%" border="1" summary="This table describes the parameters of DBMS_CRYPTO.DECRYPT function." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="21%" id="d194664e2197">参数名称</th>
                                    <th align="left" valign="bottom" width="79%" id="d194664e2200">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="21%" id="d194664e2205" headers="d194664e2197 ">
                                       <p><code class="codeph">SRC</code></p>
                                    </td>
                                    <td align="left" valign="top" width="79%" headers="d194664e2205 d194664e2200 ">
                                       <p>要解密的<code class="codeph">RAW</code>数据。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="21%" id="d194664e2215" headers="d194664e2197 ">
                                       <p><code class="codeph">（典型值）</code></p>
                                    </td>
                                    <td align="left" valign="top" width="79%" headers="d194664e2215 d194664e2200 ">
                                       <p>流或阻止要使用的密码类型和修饰符。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="21%" id="d194664e2223" headers="d194664e2197 ">
                                       <p><code class="codeph">键</code></p>
                                    </td>
                                    <td align="left" valign="top" width="79%" headers="d194664e2223 d194664e2200 ">
                                       <p>用于解密的密钥。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="21%" id="d194664e2231" headers="d194664e2197 ">
                                       <p><code class="codeph">IV</code></p>
                                    </td>
                                    <td align="left" valign="top" width="79%" headers="d194664e2231 d194664e2200 ">
                                       <p>块密码的可选初始化向量。默认值为<code class="codeph">NULL</code> 。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-7A041A3D-439B-4F7C-9FB9-8BC93E6DCC6A__GUID-F0651937-DE44-44B4-BFFB-E245D0CF714E">使用说明</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>要检索原始纯文本数据，必须使用最初用于加密数据的相同密码，修饰符，密钥和IV来调用<code class="codeph">DECRYPT</code> 。
                              </p>
                              <div class="infoboxnotealso" id="GUID-7A041A3D-439B-4F7C-9FB9-8BC93E6DCC6A__GUID-CE0A8353-4DE0-41F5-BA2C-8EAD55921D1A">
                                 <p class="notep1">也可以看看：</p>
                                 <p>有关此程序包可用的密码和修饰符的其他信息，请参阅<code class="codeph">ENCRYPT</code>函数的<span class="q">“ <a href="DBMS_CRYPTO.html#GUID-6F04DDA9-EBB9-4A70-8DBB-F36671B7B049__I1004615">使用说明</a> ”</span> 。
                                 </p>
                              </div>
                           </li>
                           <li>
                              <p>如果在加密之前将<code class="codeph">VARCHAR2</code>数据转换为<code class="codeph">RAW</code> ，则必须使用<code class="codeph">UTL_I18N</code>程序包将其转换回相应的数据库字符集。
                              </p>
                              <div class="infoboxnotealso" id="GUID-7A041A3D-439B-4F7C-9FB9-8BC93E6DCC6A__GUID-F70C2F7F-778C-4E28-8D74-6C49543D48E5">
                                 <p class="notep1">也可以看看：</p>
                                 <p><a href="DBMS_CRYPTO.html#GUID-5FF9978D-59D1-4F4A-9A48-C3A03DC569AE" title="本节介绍几个DBMS_CRYPTO操作说明。">DBMS_CRYPTO操作说明，</a>用于讨论<code class="codeph">VARCHAR2</code>到<code class="codeph">RAW</code>转换规则</p>
                              </div>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS65694"></a><a id="ARPLS65695"></a><a id="ARPLS65695"></a><a id="ARPLS65694"></a><div class="props_rev_3"><a id="GUID-9E536D25-494C-488E-B12D-54F0448726F9" name="GUID-9E536D25-494C-488E-B12D-54F0448726F9"></a><h4 id="ARPLS-GUID-9E536D25-494C-488E-B12D-54F0448726F9" class="sect4"><span class="enumeration_section">39.9.2</span>解密程序</h4>
                  <div>
                     <p>这些过程使用具有用户提供的密钥和可选的IV（初始化向量）的流或块密码来解密<code class="codeph">LOB</code>数据。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-9E536D25-494C-488E-B12D-54F0448726F9__GUID-8CBC6900-9E28-4994-AA5F-3A92372CBBC3">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_CRYPTO.DECRYPT（dst IN OUT NOCOPY BLOB，src IN BLOB，typ IN PLS_INTEGER，key IN RAW，iv IN RAW DEFAULT NULL）; DBMS_CRYPT.DECRYPT（dst IN OUT NOCOPY CLOB CHARACTER SET ANY_CS，src IN BLOB，typ IN PLS_INTEGER，key IN RAW，iv IN RAW DEFAULT NULL）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9E536D25-494C-488E-B12D-54F0448726F9__GUID-BD6DBFB4-11F6-4F89-8077-C22B116BEFCB">编译指示</p><pre class="oac_no_warn" dir="ltr">pragma restrict_references（解密，WNDS，RNDS，WNPS，RNPS）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9E536D25-494C-488E-B12D-54F0448726F9__GUID-2BB7879C-92C2-4566-970D-4442F0413F45">参数</p>
                        <div class="tblformal" id="GUID-9E536D25-494C-488E-B12D-54F0448726F9__GUID-3C4F8362-D15F-4B25-B7EF-A6782905ED39">
                           <p class="titleintable">表39-12 DECRYPT过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="DECRYPT过程参数" width="100%" border="1" summary="This table describes the parameters of DBMS_CRYPTO.DECRYPT procedures." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d194664e2407">参数名称</th>
                                    <th align="left" valign="bottom" width="76%" id="d194664e2410">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d194664e2415" headers="d194664e2407 ">
                                       <p>DST</p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d194664e2415 d194664e2410 ">
                                       <p>输出数据的<code class="codeph">LOB</code>定位器。输出<code class="codeph">LOB</code> &lt; <code class="codeph">dst</code> &gt;中的值将被覆盖。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d194664e2430" headers="d194664e2407 ">
                                       <p><code class="codeph">SRC</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d194664e2430 d194664e2410 ">
                                       <p>输入数据的<code class="codeph">LOB</code>定位器。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d194664e2440" headers="d194664e2407 ">
                                       <p><code class="codeph">（典型值）</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d194664e2440 d194664e2410 ">
                                       <p>流或阻止要使用的密码类型和修饰符。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d194664e2448" headers="d194664e2407 ">
                                       <p><code class="codeph">键</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d194664e2448 d194664e2410 ">
                                       <p>用于解密的密钥。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d194664e2456" headers="d194664e2407 ">
                                       <p><code class="codeph">IV</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d194664e2456 d194664e2410 ">
                                       <p>块密码的可选初始化向量。默认值为全零。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS65696"></a><a id="ARPLS65697"></a><a id="ARPLS65697"></a><a id="ARPLS65696"></a><div class="props_rev_3"><a id="GUID-6F04DDA9-EBB9-4A70-8DBB-F36671B7B049" name="GUID-6F04DDA9-EBB9-4A70-8DBB-F36671B7B049"></a><h4 id="ARPLS-GUID-6F04DDA9-EBB9-4A70-8DBB-F36671B7B049" class="sect4"><span class="enumeration_section">39.9.3</span>加密功能</h4>
                  <div>
                     <p>此功能使用流或块密码使用用户提供的密钥和可选的IV（初始化向量）加密<code class="codeph">RAW</code>数据。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-6F04DDA9-EBB9-4A70-8DBB-F36671B7B049__GUID-EDAC4766-7BCF-41A6-8B39-841807E5B623">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_CRYPTO.ENCRYPT（src IN RAW，典型IN PLS_INTEGER，键入RA RAW，iv IN RAW DEFAULT NULL）返回原点;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6F04DDA9-EBB9-4A70-8DBB-F36671B7B049__GUID-7EDE581C-67CA-4F03-B3D0-86F2E49D55B6">编译指示</p><pre class="oac_no_warn" dir="ltr">pragma restrict_references（加密，WNDS，RNDS，WNPS，RNPS）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6F04DDA9-EBB9-4A70-8DBB-F36671B7B049__GUID-6BF26E80-D031-4207-B797-CF4ECEDFDC83">参数</p>
                        <div class="tblformal" id="GUID-6F04DDA9-EBB9-4A70-8DBB-F36671B7B049__GUID-1D594C7B-9D17-4BE7-BB34-CF01316BF285">
                           <p class="titleintable">表39-13 ENCRYPT功能参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="ENCRYPT函数参数" width="100%" border="1" summary="This table describes the parameters of DBMS_CRYPTO.ENCRYPT function." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="21%" id="d194664e2581">参数名称</th>
                                    <th align="left" valign="bottom" width="79%" id="d194664e2584">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="21%" id="d194664e2589" headers="d194664e2581 ">
                                       <p><code class="codeph">SRC</code></p>
                                    </td>
                                    <td align="left" valign="top" width="79%" headers="d194664e2589 d194664e2584 ">
                                       <p>要加密的<code class="codeph">RAW</code>数据。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="21%" id="d194664e2599" headers="d194664e2581 ">
                                       <p><code class="codeph">（典型值）</code></p>
                                    </td>
                                    <td align="left" valign="top" width="79%" headers="d194664e2599 d194664e2584 ">
                                       <p>流或阻止要使用的密码类型和修饰符。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="21%" id="d194664e2607" headers="d194664e2581 ">
                                       <p><code class="codeph">键</code></p>
                                    </td>
                                    <td align="left" valign="top" width="79%" headers="d194664e2607 d194664e2584 ">
                                       <p>用于加密数据的加密密钥。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="21%" id="d194664e2615" headers="d194664e2581 ">
                                       <p><code class="codeph">IV</code></p>
                                    </td>
                                    <td align="left" valign="top" width="79%" headers="d194664e2615 d194664e2584 ">
                                       <p>块密码的可选初始化向量。默认值为<code class="codeph">NULL</code> 。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-6F04DDA9-EBB9-4A70-8DBB-F36671B7B049__I1004615">
                        <p class="subhead3" id="GUID-6F04DDA9-EBB9-4A70-8DBB-F36671B7B049__GUID-A923E4EA-3D43-4B88-B99D-46C28474B70A">使用说明</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>可以使用链接和填充类型修饰符修改分组密码。链接和填充类型修饰符被添加到块密码以生成密码套件。密码块链接（CBC）是最常用的链接类型，PKCS＃5是推荐的填充类型。有关已为此程序包定义的分组密码链接和填充修饰符常量，请参阅<a href="DBMS_CRYPTO.html#GUID-CE3CF17D-E781-47CB-AEE7-19A9B2BCD3EC__BJFEAAHD" title="此表描述了DBMS_CRYPTO块密码链接修饰符。">表39-7</a>和<a href="DBMS_CRYPTO.html#GUID-CE3CF17D-E781-47CB-AEE7-19A9B2BCD3EC__BJFEJIEH" title="此表描述了DBMS_CRYPTO块密码填充修改器。">表39-8</a> 。
                              </p>
                           </li>
                           <li>
                              <p>为了提高可读性，您可以定义自己的包级常量，以表示用于加密和解密的密码套件。例如，以下示例定义了一个使用DES，密码块链接模式和无填充的密码套件：</p><pre class="oac_no_warn" dir="ltr">DES_CBC_NONE CONSTANT PLS_INTEGER：= DBMS_CRYPTO.ENCRYPT_DES + DBMS_CRYPTO.CHAIN_CBC + DBMS_CRYPTO.PAD_NONE;</pre><p>有关已定义为此程序包常量的分组密码套件，请参阅<a href="DBMS_CRYPTO.html#GUID-CE3CF17D-E781-47CB-AEE7-19A9B2BCD3EC__BJFJEGDA" title="此表描述了DBMS_CRYPTO分组密码套件。">表39-6</a> 。
                              </p>
                           </li>
                           <li>
                              <p>要加密<code class="codeph">VARCHAR2</code>数据，首先应将其转换为AL32UTF8字符集。
                              </p>
                              <div class="infoboxnotealso" id="GUID-6F04DDA9-EBB9-4A70-8DBB-F36671B7B049__GUID-59C3B406-0980-43AB-9E3E-DB8D02C40C64">
                                 <p class="notep1">也可以看看：</p>
                                 <p><a href="DBMS_CRYPTO.html#GUID-5FF9978D-59D1-4F4A-9A48-C3A03DC569AE" title="本节介绍几个DBMS_CRYPTO操作说明。">DBMS_CRYPTO操作说明</a>下的转换规则的讨论</p>
                              </div>
                           </li>
                           <li>
                              <p>不建议将流密码（例如RC4）用于存储数据加密。</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS65698"></a><a id="ARPLS65699"></a><a id="ARPLS65699"></a><a id="ARPLS65698"></a><div class="props_rev_3"><a id="GUID-4B05DCAF-F2C4-488F-89AC-3C8491799CBB" name="GUID-4B05DCAF-F2C4-488F-89AC-3C8491799CBB"></a><h4 id="ARPLS-GUID-4B05DCAF-F2C4-488F-89AC-3C8491799CBB" class="sect4"><span class="enumeration_section">39.9.4</span>加密程序</h4>
                  <div>
                     <p>这些过程使用流或块密码使用用户提供的密钥和可选的IV（初始化向量）来加密<code class="codeph">LOB</code>数据。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-4B05DCAF-F2C4-488F-89AC-3C8491799CBB__GUID-8E97AB5A-63B5-401D-948A-EC57DCDBF24F">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_CRYPTO.ENCRYPT（dst IN OUT NOCOPY BLOB，src in BLOB，typ in PLS_INTEGER，key IN RAW，iv IN RAW DEFAULT NULL）; DBMS_CRYPTO.ENCRYPT（dst IN OUT NOCOPY BLOB，src IN CLOB CHARACTER SET ANY_CS，typ IN PLS_INTEGER，key IN RAW，iv IN RAW DEFAULT NULL）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-4B05DCAF-F2C4-488F-89AC-3C8491799CBB__GUID-84B18F64-FB0B-4455-A14E-6340D77EFA62">编译指示</p><pre class="oac_no_warn" dir="ltr">pragma restrict_references（加密，WNDS，RNDS，WNPS，RNPS）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-4B05DCAF-F2C4-488F-89AC-3C8491799CBB__GUID-33981034-0C73-45DC-9D39-DD5C183C7E98">参数</p>
                        <div class="tblformal" id="GUID-4B05DCAF-F2C4-488F-89AC-3C8491799CBB__GUID-54080E9B-641C-48AC-8A89-CE3A17B9CE47">
                           <p class="titleintable">表39-14 ENCRYPT过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="加密程序参数" width="100%" border="1" summary="This table describes the parameters of DBMS_CRYPTO.ENCRYPT procedures." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="23%" id="d194664e2786">参数名称</th>
                                    <th align="left" valign="bottom" width="77%" id="d194664e2789">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d194664e2794" headers="d194664e2786 ">
                                       <p>DST</p>
                                    </td>
                                    <td align="left" valign="top" width="77%" headers="d194664e2794 d194664e2789 ">
                                       <p>输出数据的<code class="codeph">LOB</code>定位器。输出<code class="codeph">LOB</code> &lt; <code class="codeph">dst</code> &gt;中的值将被覆盖。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d194664e2809" headers="d194664e2786 ">
                                       <p><code class="codeph">SRC</code></p>
                                    </td>
                                    <td align="left" valign="top" width="77%" headers="d194664e2809 d194664e2789 ">
                                       <p>输入数据的<code class="codeph">LOB</code>定位器。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d194664e2819" headers="d194664e2786 ">
                                       <p><code class="codeph">（典型值）</code></p>
                                    </td>
                                    <td align="left" valign="top" width="77%" headers="d194664e2819 d194664e2789 ">
                                       <p>流或阻止要使用的密码类型和修饰符。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d194664e2827" headers="d194664e2786 ">
                                       <p><code class="codeph">键</code></p>
                                    </td>
                                    <td align="left" valign="top" width="77%" headers="d194664e2827 d194664e2789 ">
                                       <p>用于加密数据的加密密钥。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d194664e2835" headers="d194664e2786 ">
                                       <p><code class="codeph">IV</code></p>
                                    </td>
                                    <td align="left" valign="top" width="77%" headers="d194664e2835 d194664e2789 ">
                                       <p>块密码的可选初始化向量。默认值为<code class="codeph">NULL</code> 。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-4B05DCAF-F2C4-488F-89AC-3C8491799CBB__GUID-FC8F6B49-4F0A-4595-99A1-E24C32C91E61">使用说明</p>
                        <p>有关<code class="codeph">ENCRYPT</code>过程的转换规则的详细信息，请参阅<a href="DBMS_DEBUG.html#GUID-94955692-A9B7-4FFD-8E3F-DE91D361E956" title="有两种方法可以确保生成调试信息：通过会话切换或通过单独的重新编译。">DBMS_DEBUG操作说明</a> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS65700"></a><a id="ARPLS65701"></a><a id="ARPLS65701"></a><a id="ARPLS65700"></a><div class="props_rev_3"><a id="GUID-0F265319-B269-4CC1-B4FB-2C91EE1CE54E" name="GUID-0F265319-B269-4CC1-B4FB-2C91EE1CE54E"></a><h4 id="ARPLS-GUID-0F265319-B269-4CC1-B4FB-2C91EE1CE54E" class="sect4"><span class="enumeration_section">39.9.5</span> HASH功能</h4>
                  <div>
                     <p>单向散列函数采用可变长度输入字符串（数据），并将其转换为固定长度（通常较小）的输出字符串，称为<span class="italic">散列值</span> 。散列值用作输入数据的唯一标识符（如指纹）。您可以使用哈希值来验证数据是否已更改。
                     </p>
                     <div class="section">
                        <p>注意，单向散列函数是在一个方向上工作的散列函数。从输入数据计算哈希值很容易，但很难生成哈希值到特定值的数据。因此，单向散列函数可以很好地确保数据的完整性。有关使用单向散列函数的详细信息，请<a href="DBMS_CRYPTO.html#GUID-5FF9978D-59D1-4F4A-9A48-C3A03DC569AE" title="本节介绍几个DBMS_CRYPTO操作说明。">参阅DBMS_CRYPTO操作说明中的</a> “何时使用散列或消息验证代码（MAC）函数”。
                        </p>
                        <p>此函数适用于<a href="DBMS_CRYPTO.html#GUID-CE3CF17D-E781-47CB-AEE7-19A9B2BCD3EC__BJFCHAFC" title="此表描述了DBMS_CRYPTO加密哈希函数。">表39-3中</a>列出的支持的加密哈希算法之一的数据。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-0F265319-B269-4CC1-B4FB-2C91EE1CE54E__GUID-964C3192-5FA4-41B2-8621-D71B39B075EF">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_CRYPTO.Hash（src IN RAW，typ IN PLS_INTEGER）返回原始状态; DBMS_CRYPTO.Hash（src IN BLOB，typ IN PLS_INTEGER）RETURN RAW; DBMS_CRYPTO.Hash（src IN CLOB CHARACTER SET ANY_CS，typ IN PLS_INTEGER）RETURN RAW;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-0F265319-B269-4CC1-B4FB-2C91EE1CE54E__GUID-E3A2AA9B-D9E9-4406-9482-6F0C0302A9ED">编译指示</p><pre class="oac_no_warn" dir="ltr">pragma restrict_references（hash，WNDS，RNDS，WNPS，RNPS）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-0F265319-B269-4CC1-B4FB-2C91EE1CE54E__GUID-1C0CFA3C-EDD6-439A-9A51-AE3654CFE8C1">参数</p>
                        <div class="tblformal" id="GUID-0F265319-B269-4CC1-B4FB-2C91EE1CE54E__GUID-743E9A1F-7D11-401D-9AD1-64A3408469FD">
                           <p class="titleintable">表39-15 HASH功能参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="HASH功能参数" width="100%" border="1" summary="This table describes the parameters of DBMS_CRYPTO.HASH." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="23%" id="d194664e2996">参数名称</th>
                                    <th align="left" valign="bottom" width="77%" id="d194664e2999">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d194664e3004" headers="d194664e2996 ">
                                       <p><code class="codeph">SRC</code></p>
                                    </td>
                                    <td align="left" valign="top" width="77%" headers="d194664e3004 d194664e2999 ">
                                       <p>要散列的源数据。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d194664e3012" headers="d194664e2996 ">
                                       <p><code class="codeph">（典型值）</code></p>
                                    </td>
                                    <td align="left" valign="top" width="77%" headers="d194664e3012 d194664e2999 ">
                                       <p>要使用的哈希算法。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-0F265319-B269-4CC1-B4FB-2C91EE1CE54E__GUID-DE7FAEA1-6896-4DEE-BAB5-8BF9D7BAA056">使用说明</p>
                        <p>Oracle建议您使用SHA-1（安全散列算法）或SHA-2，因为它比MD4或MD5更能抵抗暴力攻击。如果必须使用消息摘要算法，则MD5提供比MD4更高的安全性。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS65702"></a><a id="ARPLS65703"></a><a id="ARPLS65703"></a><a id="ARPLS65702"></a><div class="props_rev_3"><a id="GUID-F95D56B1-728E-4B0C-9A75-56EE263EFD34" name="GUID-F95D56B1-728E-4B0C-9A75-56EE263EFD34"></a><h4 id="ARPLS-GUID-F95D56B1-728E-4B0C-9A75-56EE263EFD34" class="sect4"><span class="enumeration_section">39.9.6</span> MAC功能</h4>
                  <div>
                     <p>此功能将消息验证代码（MAC）算法应用于数据以提供密钥消息保护。</p>
                     <div class="section">
                        <p>MAC是依赖于密钥的单向散列函数。MAC具有与<a href="DBMS_CRYPTO.html#GUID-0F265319-B269-4CC1-B4FB-2C91EE1CE54E" title="单向散列函数采用可变长度输入字符串（数据），并将其转换为固定长度（通常较小）的输出字符串，称为散列值。散列值用作输入数据的唯一标识符（如指纹）。您可以使用哈希值来验证数据是否已更改。">HASH</a>函数中描述的单向散列函数相同的属性，但它们也包括密钥。只有具有相同密钥的人才能验证散列。有关使用MAC的更多信息，另请参阅<a href="DBMS_CRYPTO.html#GUID-5FF9978D-59D1-4F4A-9A48-C3A03DC569AE" title="本节介绍几个DBMS_CRYPTO操作说明。">DBMS_CRYPTO操作说明中的</a> “何时使用哈希或消息验证代码（MAC）函数”。
                        </p>
                        <p>有关已为此程序包定义的MAC算法的列表，请参阅<a href="DBMS_CRYPTO.html#GUID-CE3CF17D-E781-47CB-AEE7-19A9B2BCD3EC__BJFEIEFA" title="该表描述了BMS_CRYPTO MAC（消息认证码）功能。">表39-4</a> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F95D56B1-728E-4B0C-9A75-56EE263EFD34__GUID-F44D1B40-40B9-4D29-8853-5518506EEDCF">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_CRYPTO.MAC（src IN RAW，典型IN PLS_INTEGER，键入RA RAW）返回原始状态; DBMS_CRYPTO.MAC（src IN BLOB，典型IN IN PLS_INTEGER键IN RAW）返回原始状态; DBMS_CRYPTO.MAC（src IN CLOB CHARACTER SET ANY_CS，typ IN PLS_INTEGER key IN RAW）RETURN RAW;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F95D56B1-728E-4B0C-9A75-56EE263EFD34__GUID-25086E30-B0C9-43BC-81ED-0B733C48F733">编译指示</p><pre class="oac_no_warn" dir="ltr">pragma restrict_references（mac，WNDS，RNDS，WNPS，RNPS）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F95D56B1-728E-4B0C-9A75-56EE263EFD34__GUID-96568D0E-6CBD-41D9-943D-E7FD28DB564C">参数</p>
                        <div class="tblformal" id="GUID-F95D56B1-728E-4B0C-9A75-56EE263EFD34__GUID-DD16FC1A-1ED3-411F-B38B-2EC6DA757F6C">
                           <p class="titleintable">表39-16 MAC功能参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="MAC功能参数" width="100%" border="1" summary="This table describes the parameters of DBMS_CRYPTO.MAC." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="21%" id="d194664e3162">参数名称</th>
                                    <th align="left" valign="bottom" width="79%" id="d194664e3165">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="21%" id="d194664e3170" headers="d194664e3162 ">
                                       <p><code class="codeph">SRC</code></p>
                                    </td>
                                    <td align="left" valign="top" width="79%" headers="d194664e3170 d194664e3165 ">
                                       <p>要应用MAC算法的源数据。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="21%" id="d194664e3178" headers="d194664e3162 ">
                                       <p><code class="codeph">（典型值）</code></p>
                                    </td>
                                    <td align="left" valign="top" width="79%" headers="d194664e3178 d194664e3165 ">
                                       <p>要使用的MAC算法。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="21%" id="d194664e3186" headers="d194664e3162 ">
                                       <p><code class="codeph">键</code></p>
                                    </td>
                                    <td align="left" valign="top" width="79%" headers="d194664e3186 d194664e3165 ">
                                       <p>用于MAC算法的关键。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS65704"></a><a id="ARPLS65705"></a><a id="ARPLS65705"></a><a id="ARPLS65704"></a><div class="props_rev_3"><a id="GUID-FAC58F76-A0EA-4FB4-B31F-745B3F7BF75F" name="GUID-FAC58F76-A0EA-4FB4-B31F-745B3F7BF75F"></a><h4 id="ARPLS-GUID-FAC58F76-A0EA-4FB4-B31F-745B3F7BF75F" class="sect4"><span class="enumeration_section">39.9.7</span> RANDOMBYTES功能</h4>
                  <div>
                     <p>此函数返回包含加密安全伪随机字节序列的<code class="codeph">RAW</code>值，该值可用于生成加密密钥的随机材料。
                     </p>
                     <div class="section">
                        <p><code class="codeph">RANDOMBYTES</code>功能基于RSA X9.31 PRNG（伪随机数发生器）。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-FAC58F76-A0EA-4FB4-B31F-745B3F7BF75F__GUID-F98C7218-E2BE-403E-8B8A-342730F9FEDF">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_CRYPTO.RANDOMBYTES（number_bytes IN POSITIVE）返回原始状态;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-FAC58F76-A0EA-4FB4-B31F-745B3F7BF75F__GUID-8E794830-10B2-4A9C-A2D7-6BDC3C1C71E3">编译指示</p><pre class="oac_no_warn" dir="ltr">pragma restrict_references（randombytes，WNDS，RNDS，WNPS，RNPS）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-FAC58F76-A0EA-4FB4-B31F-745B3F7BF75F__GUID-5F4C27E4-D6B1-499A-8A1E-4F05CAF06351">参数</p>
                        <div class="tblformal" id="GUID-FAC58F76-A0EA-4FB4-B31F-745B3F7BF75F__GUID-AB2A5C0E-EF7D-4FC5-8D20-B4A61AC9671C">
                           <p class="titleintable">表39-17 RANDOMBYTES功能参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="RANDOMBYTES函数参数" width="100%" border="1" summary="This table describes the parameters of DBMS_CRYPTO.RANDOMBYTES." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="23%" id="d194664e3317">参数名称</th>
                                    <th align="left" valign="bottom" width="77%" id="d194664e3320">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d194664e3325" headers="d194664e3317 ">
                                       <p><code class="codeph">number_bytes</code></p>
                                    </td>
                                    <td align="left" valign="top" width="77%" headers="d194664e3325 d194664e3320 ">
                                       <p>要生成的伪随机字节数。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-FAC58F76-A0EA-4FB4-B31F-745B3F7BF75F__GUID-0EC3578E-9882-4720-B77C-C41E54F8C256">使用说明</p>
                        <p><code class="codeph">number_bytes</code>值不应超过<code class="codeph">RAW</code>变量的最大长度。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS65706"></a><a id="ARPLS65706"></a><div class="props_rev_3"><a id="GUID-1033E109-FFEB-4B08-B143-493486A473A9" name="GUID-1033E109-FFEB-4B08-B143-493486A473A9"></a><h4 id="ARPLS-GUID-1033E109-FFEB-4B08-B143-493486A473A9" class="sect4"><span class="enumeration_section">39.9.8</span> RANDOMINTEGER功能</h4>
                  <div>
                     <p>此函数返回可用于Oracle <code class="codeph">BINARY_INTEGER</code>数据类型的完整范围内的整数。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-1033E109-FFEB-4B08-B143-493486A473A9__GUID-6E182A88-D327-4136-A621-0EE3BC1C8BF9">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_CRYPTO.RANDOMINTEGER返回BINARY_INTEGER;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-1033E109-FFEB-4B08-B143-493486A473A9__GUID-4E38444C-08D9-40C7-9ABA-3CD478360CAC">编译指示</p><pre class="oac_no_warn" dir="ltr">pragma restrict_references（randominteger，WNDS，RNDS，WNPS，RNPS）;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS65707"></a><a id="ARPLS65707"></a><div class="props_rev_3"><a id="GUID-75E18CEB-6FBB-4C8D-A9E7-C43C3494FD3B" name="GUID-75E18CEB-6FBB-4C8D-A9E7-C43C3494FD3B"></a><h4 id="ARPLS-GUID-75E18CEB-6FBB-4C8D-A9E7-C43C3494FD3B" class="sect4"><span class="enumeration_section">39.9.9</span> RANDOMNUMBER功能</h4>
                  <div>
                     <p>此函数返回Oracle <code class="codeph">NUMBER</code>数据类型中的整数，范围为[0..2 ** 128-1]。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-75E18CEB-6FBB-4C8D-A9E7-C43C3494FD3B__GUID-8F8F35EC-C660-41B8-A13A-B91CC55719B3">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_CRYPTO.RANDOMNUMBER返回号码;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-75E18CEB-6FBB-4C8D-A9E7-C43C3494FD3B__GUID-9461818D-4E3E-460C-98BA-119E1438E576">编译指示</p><pre class="oac_no_warn" dir="ltr">pragma restrict_references（randomnumber，WNDS，RNDS，WNPS，RNPS）;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>