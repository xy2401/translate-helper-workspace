<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="Oracle Database provides classic database security such as row-level and column-level secure access by database users. It also provides fine-grained access control for resources in Oracle XML DB Repository. You can create, set, and modify access control lists (ACLs)."></meta>
      <meta name="description" content="Oracle Database provides classic database security such as row-level and column-level secure access by database users. It also provides fine-grained access control for resources in Oracle XML DB Repository. You can create, set, and modify access control lists (ACLs)."></meta>
      <title>存储库访问控制</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Developer&#39;s Guide "></meta>
      <meta property="og:description" content="Oracle Database provides classic database security such as row-level and column-level secure access by database users. It also provides fine-grained access control for resources in Oracle XML DB Repository. You can create, set, and modify access control lists (ACLs)."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Developer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="xml-db-developers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-03-30T12:32:42-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2002, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96222-03"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="PLSQL-access-to-XML-DB-repository.html" title="Previous" type="text/html"></link>
      <link rel="next" href="repository-access-using-protocols.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="XML DB Developer&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="ADXDB"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="PLSQL-access-to-XML-DB-repository.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="repository-access-using-protocols.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">开发人员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="XML-DB-repository.html" property="item" typeof="WebPage"><span property="name">Oracle XML DB存储库</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">存储库访问控制</li>
            </ol>
            <a id="GUID-CD4A712D-CCA2-4A19-909E-AEC57849A55A" name="GUID-CD4A712D-CCA2-4A19-909E-AEC57849A55A"></a><a id="ADXDB2400"></a>
            
            <h2 id="ADXDB-GUID-CD4A712D-CCA2-4A19-909E-AEC57849A55A" class="sect2"><span class="enumeration_chapter">27</span>存储库访问控制</h2>
         </header>
         <div class="ind"><script type="text/javascript">window.name='repository-access-control'</script><script type="text/javascript">
    function footdisplay(footnum,footnote) {
    var msg = window.open('about:blank', 'NewWindow' + footnum,
        'directories=no,height=100,location=no,menubar=no,resizable=yes,' +
        'scrollbars=yes,status=no,toolbar=no,width=598');
    msg.document.open('text/html');
    msg.document.write('<!DOCTYPE html ');
    msg.document.write('PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" ');
    msg.document.write('"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">'); 
    msg.document.write('<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us" dir="ltr"><head><title>');
   
    msg.document.write('Footnote&nbsp; ' + footnum);
    msg.document.write('<\/title><meta http-equiv="Content-Type" ');
    msg.document.write('content="text/html; charset=utf-8" />');
    msg.document.write('<meta http-equiv="Content-Script-Type" ');
    msg.document.write('content="text/javascript" />');
    msg.document.write('<style type="text/css"> <![CDATA[ ');
    msg.document.write('h1 {text-align: center; font-size: 14pt;}');
    msg.document.write('fieldset {border: none;}');
    msg.document.write('form {text-align: center;}');
    msg.document.write(' ]]u003e </style>');
    msg.document.write('<\/head><body><div id="footnote"><h1>Footnote&nbsp; ' + footnum + '<\/h1><p>');
    msg.document.write(footnote);
    msg.document.write('<\/p><form action="" method="post"><fieldset>');
    msg.document.write('<input type="button" value="OK" ');
    msg.document.write('onclick="window.close();" />');
    msg.document.write('<\/fieldset><\/form><\/div><\/body><\/html>');
    msg.document.close();
    setTimeout(function() {
        var height = msg.document.getElementById('footnote').offsetHeight;
        msg.resizeTo(598, height + 100);
    }
    , 100);
    msg.focus();
}
            </script><noscript>
               <p>此页面上的脚本内容仅用于导航目的，不会以任何方式更改内容。</p>
            </noscript>
            <div>
               <p>Oracle数据库提供经典的数据库安全性，例如数据库用户的行级和列级安全访问。它还为Oracle XML DB Repository中的资源提供了细粒度的访问控制。您可以创建，设置和修改访问控制列表（ACL）。</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="repository-access-control.html#GUID-14816427-7EA8-4D7A-964A-326DF35AAEE5">访问控制概念</a><br>解释了访问控制术语和概念。每个访问控制实体 - 用户，角色，主体，特权，访问控制列表（ACL）和访问控制条目（ACE） - 以声明方式实现为XML文档或片段。
                  </li>
                  <li class="ulchildlink"><a href="repository-access-control.html#GUID-FD4386C7-26F7-41B1-A5E4-CBFB21505883">存储库操作的数据库权限</a><br>描述了Oracle XML DB Repository中对资源的常见操作所需的数据库特权。
                  </li>
                  <li class="ulchildlink"><a href="repository-access-control.html#GUID-A81367EA-79B7-4744-A8B2-78F769626CF2">特权</a><br>Oracle数据库提供的权限包括标准WebDAV权限以及特定于Oracle的权限。
                  </li>
                  <li class="ulchildlink"><a href="repository-access-control.html#GUID-3B9D8F83-DA3E-4070-8D4C-AF12B212D806">ACL和ACE</a><br>ACL用于保护资源，在Oracle数据库中，资源是Oracle XML DB Repository中的资源（文件和文件夹）。ACL由ACE组成。
                  </li>
                  <li class="ulchildlink"><a href="repository-access-control.html#GUID-899B397A-45B6-4180-9DEF-EFF4A0C6170A">使用访问控制列表（ACL）概述</a><br>Oracle数据库访问控制列表（ACL）本身是Oracle XML DB Repository中的（文件）资源，因此对存储库资源进行操作的所有访问方法也适用于ACL。此外，PL / SQL包<code class="codeph">DBMS_XDB_REPOS</code>有几个特定于ACL的API。</li>
                  <li class="ulchildlink"><a href="repository-access-control.html#GUID-A7903BE5-C081-40A9-B778-99289AB08E84">ACL缓存</a><br>由于ACL会检查每次访问它们保护的数据，因此ACL检查操作的性能对此类数据（包括Oracle XML DB存储库资源）的性能至关重要。在Oracle XML DB中，通过使用多个缓存来实现此存储库操作所需的性能。
                  </li>
                  <li class="ulchildlink"><a href="repository-access-control.html#GUID-604D4E88-5309-4903-8224-B9DB850E4566">存储库资源和数据库表安全性</a><br>通过在用于存储它们的表上启用层次结构，提供了用于访问基于<code class="codeph">REF</code>的存储库资源的统一安全机制。当特定资源不需要基于ACL的安全性时，可以通过使用PL / SQL过程<code class="codeph">DBMS_XDBZ.disable_hierarchy</code>来关闭ACL检查来优化其访问。
                  </li>
                  <li class="ulchildlink"><a href="repository-access-control.html#GUID-3E0217D9-1A93-49E8-AF39-04DD770C225D">Oracle XML DB与LDAP的集成</a><br>您可以允许轻量级目录访问协议（LDAP）用户使用Oracle XML DB的功能，包括ACL。
                  </li>
               </ul>
               <div class="infoboxnotealso" id="GUID-CD4A712D-CCA2-4A19-909E-AEC57849A55A__GUID-69760748-DA37-4A19-83E3-EE28427E2C8B">
                  <p class="notep1">也可以看看：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>有关WebDAV的更多信息，请<a href="repository-access-using-protocols.html#GUID-0476309D-E3DF-4C56-BF21-68CD04D00C98" title="You can access Oracle XML DB Repository data using protocols FTP and HTTP(S)/WebDAV.">使用协议</a>进行<a href="repository-access-using-protocols.html#GUID-0476309D-E3DF-4C56-BF21-68CD04D00C98" title="您可以使用FTP和HTTP（S）/ WebDAV协议访问Oracle XML DB存储库数据。">存储库访问</a></p>
                     </li>
                     <li>
                        <p>有关配置和管理资源安全性的信息，请管理<a href="administration-of-XML-DB.html#GUID-FD0BCF20-2345-4D78-B96F-C52A4361291D" title="Oracle XML DB的管理包括安装，升级和配置它。">Oracle XML DB</a></p>
                     </li>
                     <li>
                        <p><a href="PLSQL-APIs-for-XMLType.html#GUID-63032A9C-B4E2-4BB9-89E5-EBEEEF282C39" title="The PL/SQL Application Programming Interfaces (APIs) for XMLType are described.">用于XMLType的PL / SQL API：</a>有关可用于管理资源安全性的PL / SQL API的信息的<a href="PLSQL-APIs-for-XMLType.html#GUID-63032A9C-B4E2-4BB9-89E5-EBEEEF282C39" title="描述了XMLType的PL / SQL应用程序编程接口（API）。">参考</a></p>
                     </li>
                  </ul>
               </div>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>父主题：</strong> <a href="XML-DB-repository.html#GUID-840EBE35-8FC8-4150-9FC8-78442FD1B12B" title="Oracle XML DB Repository允许您对数据进行版本控制，实现和管理安全性，并使用API来访问和操作存储库资源。">Oracle XML DB存储库</a></p>
                  </div>
               </div>
            </div>
            <a id="ADXDB5453"></a><div class="props_rev_3"><a id="GUID-14816427-7EA8-4D7A-964A-326DF35AAEE5" name="GUID-14816427-7EA8-4D7A-964A-326DF35AAEE5"></a><h3 id="ADXDB-GUID-14816427-7EA8-4D7A-964A-326DF35AAEE5" class="sect3"><span class="enumeration_section">27.1</span>访问控制概念</h3>
               <div>
                  <p>解释了访问控制术语和概念。每个访问控制实体 - 用户，角色，主体，特权，访问控制列表（ACL）和访问控制条目（ACE） - 以声明方式实现为XML文档或片段。</p>
                  <p>安全授权需要定义哪些用户，应用程序或功能可以访问哪些数据，以执行哪种操作。因此存在三个维度：（1） <span class="italic">用户</span>可以（2）对<span class="italic">哪些数据</span>执行<span class="italic">哪些操作</span> （3）。我们说的是（1）委托人，（2）特权，和（3）对象，分别对应于这三个维度。委托人是用户或角色。
                  </p>
                  <p>通过定义<span class="italic">访问控制列表，</span>主体和特权（维度1和2）以声明方式相关。然后，这些与第三维，数据以各种方式相关，无论是声明性的还是程序性的。例如，您可以使用PL / SQL过程<code class="codeph">DBMS_XDB_REPOS.setACL</code>来设置其控制ACL，从而保护Oracle XML DB资源库资源或表数据。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="repository-access-control.html#GUID-0FCCC0AA-DAFF-4297-992C-276502D93068">身份验证和授权</a><br>术语<strong class="term">认证</strong>是指验证某事物的<span class="italic">身份</span> （例如，用户，设备或应用程序）。术语<strong class="term">授权</strong>是指验证是否允许已经过身份验证的内容<span class="italic">访问</span>其他内容（例如，数据库表或WebDAV资源）。
                     </li>
                     <li class="ulchildlink"><a href="repository-access-control.html#GUID-E1B993EA-E72F-44CC-8DDC-3A287B586BFF">委托人：用户或角色</a><br>在细粒度数据库访问控制的上下文中，主体最终是一组访问数据库中信息的一个或多个人或应用程序。主体可以是数据库用户或角色，也可以是LDAP用户或组。
                     </li>
                     <li class="ulchildlink"><a href="repository-access-control.html#GUID-09CBE3AA-EB8A-4466-9AAD-B35DAE5B35DD">特权：许可</a><br><strong class="term">特权</strong>是可以授予或拒绝委托人的特定权利或许可。特权是聚合或原子。聚合特权包括其他特权;原子特权没有。
                     </li>
                     <li class="ulchildlink"><a href="repository-access-control.html#GUID-8608F3A2-59C3-439A-9A03-D887D1F0DF46">访问控制条目（ACE）</a><br><strong class="term">访问控制条目</strong> （ <strong class="term">ACE</strong> ）是XML元素（ <code class="codeph">ace</code> ），它是访问控制列表（ACL）中的条目。ACE授予或拒绝特定主体对某些存储库资源或其他数据库数据的访问。
                     </li>
                     <li class="ulchildlink"><a href="repository-access-control.html#GUID-59DFDDDD-BCCE-4349-AEB0-E433879BAD5B">访问控制列表（ACL）</a><br><strong class="term">访问控制列表</strong> （ <strong class="term">ACL</strong> ）是访问控制条目（ACE）的列表。默认情况下，列表中的顺序是相关的。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="repository-access-control.html#GUID-CD4A712D-CCA2-4A19-909E-AEC57849A55A" title="Oracle数据库提供经典的数据库安全性，例如数据库用户的行级和列级安全访问。它还为Oracle XML DB Repository中的资源提供了细粒度的访问控制。您可以创建，设置和修改访问控制列表（ACL）。">存储库访问控制</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADXDB6204"></a><div class="props_rev_3"><a id="GUID-0FCCC0AA-DAFF-4297-992C-276502D93068" name="GUID-0FCCC0AA-DAFF-4297-992C-276502D93068"></a><h4 id="ADXDB-GUID-0FCCC0AA-DAFF-4297-992C-276502D93068" class="sect4"><span class="enumeration_section">27.1.1</span>认证和授权</h4>
                  <div>
                     <p>术语<strong class="term">认证</strong>是指验证某事物的<span class="italic">身份</span> （例如，用户，设备或应用程序）。术语<strong class="term">授权</strong>是指验证是否允许已经过身份验证的内容<span class="italic">访问</span>其他内容（例如，数据库表或WebDAV资源）。
                     </p>
                     <p>可以授权各种主体访问Oracle XML DB资源库资源。特定于应用程序的主体可以进行身份验证。</p>
                     <div class="section"></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="repository-access-control.html#GUID-E1B993EA-E72F-44CC-8DDC-3A287B586BFF" title="在细粒度数据库访问控制的上下文中，主体最终是一组访问数据库中信息的一个或多个人或应用程序。主体可以是数据库用户或角色，也可以是LDAP用户或组。">委托人：用户或角色</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="repository-access-control.html#GUID-14816427-7EA8-4D7A-964A-326DF35AAEE5" title="解释了访问控制术语和概念。每个访问控制实体 - 用户，角色，主体，特权，访问控制列表（ACL）和访问控制条目（ACE） - 以声明方式实现为XML文档或片段。">访问控制概念</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB5454"></a><div class="props_rev_3"><a id="GUID-E1B993EA-E72F-44CC-8DDC-3A287B586BFF" name="GUID-E1B993EA-E72F-44CC-8DDC-3A287B586BFF"></a><h4 id="ADXDB-GUID-E1B993EA-E72F-44CC-8DDC-3A287B586BFF" class="sect4"><span class="enumeration_section">27.1.2</span>委托人：用户或角色</h4>
                  <div>
                     <p>在细粒度数据库访问控制的上下文中，主体最终是一组访问数据库中信息的一个或多个人或应用程序。主体可以是数据库用户或角色，也可以是LDAP用户或组。</p>
                     <p><strong class="term">委托人</strong>是用户或角色。<strong class="term">用户</strong>可以是访问数据库中的信息的任何人或应用程序。<strong class="term">角色</strong>由用户和可能的其他角色组成，但此递归不能是循环的。最终，每个角色以及每个主体对应于一<span class="italic">组用户</span> 。
                     </p>
                     <p>通过具有元素<code class="codeph">user</code>的XML片段来表示用户的访问控制目的。角色由具有元素<code class="codeph">role</code>的片段表示。
                     </p>
                     <p>Oracle数据库支持以下作为主体：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>数据库用户和<strong class="term">数据库角色</strong> 。<span class="bold">数据库用户</span>有时也称为数据库<strong class="term">模式</strong>或用户<strong class="term">帐户</strong> 。当人员或应用程序登录到数据库时，它使用数据库用户（架构）和密码。<strong class="term">数据库角色</strong>对应于可以授予数据库用户，应用程序或其他数据库角色的一组数据库特权。
                           </p>
                        </li>
                        <li>
                           <p>LDAP用户和LDAP用户组。有关使用<strong class="term">LDAP主体的</strong>详细信息，请参阅<a href="repository-access-control.html#GUID-3E0217D9-1A93-49E8-AF39-04DD770C225D" title="您可以允许轻量级目录访问协议（LDAP）用户使用Oracle XML DB的功能，包括ACL。">Oracle XML DB与LDAP的集成</a> 。</p>
                        </li>
                     </ul>
                     <p>当此处使用诸如“用户”或“角色”之类的术语而没有限定条件时，它适用于所有类型的用户或角色。当区分类型很重要时，使用限定符“database”或“LDAP”。</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="repository-access-control.html#GUID-F58BB443-D5A5-490D-B766-60F80EB01645">数据库角色和ACL将权限映射到用户</a><br>数据库角色将权限映射到用户。在细粒度访问控制的上下文中，ACL将权限映射到用户，而角色只是一组用户。
                        </li>
                        <li class="ulchildlink"><a href="repository-access-control.html#GUID-2F37A1AE-35E5-4997-B85E-E4A7179AA9E2">校长DAV ::所有者</a><br>您可以使用主体<code class="codeph">DAV::owner</code>来引用给定存储库资源的所有者。资源的所有者是资源的属性之一。您可以使用主体<code class="codeph">DAV::owner</code>来促进主体之间的ACL共享，因为资源的所有者通常具有特殊权限。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="repository-access-control.html#GUID-14816427-7EA8-4D7A-964A-326DF35AAEE5" title="解释了访问控制术语和概念。每个访问控制实体 - 用户，角色，主体，特权，访问控制列表（ACL）和访问控制条目（ACE） - 以声明方式实现为XML文档或片段。">访问控制概念</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADXDB5455"></a><div class="props_rev_3"><a id="GUID-F58BB443-D5A5-490D-B766-60F80EB01645" name="GUID-F58BB443-D5A5-490D-B766-60F80EB01645"></a><h5 id="ADXDB-GUID-F58BB443-D5A5-490D-B766-60F80EB01645" class="sect5"><span class="enumeration_section">27.1.2.1</span>数据库角色和ACL将权限映射到用户</h5>
                     <div>
                        <p>数据库角色将权限映射到用户。在细粒度访问控制的上下文中，ACL将权限映射到用户，而角色只是一组用户。</p>
                        <p><span class="italic">授予</span>数据库角色权限，就像可以授予数据库用户权限一样。数据库角色充当将数据库特权映射到数据库用户（和应用程序）的中介：角色被授予特权，然后该角色被授予用户（赋予他们特权）。
                        </p>
                        <p>在数据库角色的概念中，一组用户与授予这些用户的一组权限之间的界限有点模糊：该角色可用于对映射到用户的权限进行分组，并将用户分组到权限已映射。映射是通过定义角色并将其授予用户来完成的，而传统的数据库术语认为角色与授予它的权限集是一样的。</p>
                        <p>在细粒度访问控制的上下文中，使用不同的机制（ <span class="italic">访问控制列表</span> （ACL））作为将权限映射到用户的中介。角色只是一组用户。在此上下文中，将权限与用户和角色相关联的行为不是数据库授权。它是一个声明性ACL条目，以及ACL的运行时评估和ACL冲突的解决方案。
                        </p>
                        <p>请记住这个术语的区别，以避免混淆。作为将权限映射到用户的一种方法，数据库角色将访问控制上下文中的一些功能组合成（1）主体，（2）权限和（3）ACL。在访问控制术语中，角色按用户分类为主体。在传统的数据库术语中，角色被分类为特权集。</p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="repository-access-control.html#GUID-E1B993EA-E72F-44CC-8DDC-3A287B586BFF" title="在细粒度数据库访问控制的上下文中，主体最终是一组访问数据库中信息的一个或多个人或应用程序。主体可以是数据库用户或角色，也可以是LDAP用户或组。">Principal：用户或角色</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADXDB5457"></a><div class="props_rev_3"><a id="GUID-2F37A1AE-35E5-4997-B85E-E4A7179AA9E2" name="GUID-2F37A1AE-35E5-4997-B85E-E4A7179AA9E2"></a><h5 id="ADXDB-GUID-2F37A1AE-35E5-4997-B85E-E4A7179AA9E2" class="sect5"><span class="enumeration_section">27.1.2.2</span>主要DAV ::所有者</h5>
                     <div>
                        <p>您可以使用主体<code class="codeph">DAV::owner</code>来引用给定存储库资源的所有者。资源的所有者是资源的属性之一。您可以使用主体<code class="codeph">DAV::owner</code>来促进主体之间的ACL共享，因为资源的所有者通常具有特殊权限。
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="repository-access-control.html#GUID-E1B993EA-E72F-44CC-8DDC-3A287B586BFF" title="在细粒度数据库访问控制的上下文中，主体最终是一组访问数据库中信息的一个或多个人或应用程序。主体可以是数据库用户或角色，也可以是LDAP用户或组。">Principal：用户或角色</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="ADXDB5458"></a><div class="props_rev_3"><a id="GUID-09CBE3AA-EB8A-4466-9AAD-B35DAE5B35DD" name="GUID-09CBE3AA-EB8A-4466-9AAD-B35DAE5B35DD"></a><h4 id="ADXDB-GUID-09CBE3AA-EB8A-4466-9AAD-B35DAE5B35DD" class="sect4"><span class="enumeration_section">27.1.3</span>特权：许可</h4>
                  <div>
                     <p><strong class="term">特权</strong>是可以授予或拒绝委托人的特定权利或许可。特权是聚合或原子。聚合特权包括其他特权;原子特权没有。
                     </p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><strong class="term">聚合</strong>权限 - 包含其他权限的权限。
                           </p>
                        </li>
                        <li>
                           <p><strong class="term">原子</strong>权限 - 不包含其他权限的权限。它无法细分。
                           </p>
                        </li>
                     </ul>
                     <p>当权限数量变大时，聚合权限简化了可用性，并且它们促进了ACL客户端之间的互操作性。</p>
                     <p>聚合特权保留其标识：它们不会分解为相应的原子（叶）特权。在WebDAV术语中，Oracle数据库聚合特权不是抽象的。这意味着聚合特权充当一组指向其组件特权的指针，而不是这些组件的副本。因此，即使组件的定义发生更改，聚合权限也始终是最新的。</p>
                     <p>授予主体的权限集控制该主体是否可以对其保护的数据执行给定操作。例如，如果主体（数据库用户） <code class="codeph">HR</code>想要对给定资源执行<code class="codeph">read</code>操作，则必须在读取操作之前将主权<code class="codeph">HR</code>授予读取权限。
                     </p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="repository-access-control.html#GUID-A81367EA-79B7-4744-A8B2-78F769626CF2" title="Oracle数据库提供的权限包括标准WebDAV权限以及特定于Oracle的权限。">特权</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="repository-access-control.html#GUID-14816427-7EA8-4D7A-964A-326DF35AAEE5" title="解释了访问控制术语和概念。每个访问控制实体 - 用户，角色，主体，特权，访问控制列表（ACL）和访问控制条目（ACE） - 以声明方式实现为XML文档或片段。">访问控制概念</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB5462"></a><a id="ADXDB5461"></a><div class="props_rev_3"><a id="GUID-8608F3A2-59C3-439A-9A03-D887D1F0DF46" name="GUID-8608F3A2-59C3-439A-9A03-D887D1F0DF46"></a><h4 id="ADXDB-GUID-8608F3A2-59C3-439A-9A03-D887D1F0DF46" class="sect4"><span class="enumeration_section">27.1.4</span>访问控制条目（ACE）</h4>
                  <div>
                     <p><strong class="term">访问控制条目</strong> （ <strong class="term">ACE</strong> ）是XML元素（ <code class="codeph">ace</code> ），它是访问控制列表（ACL）中的条目。ACE授予或拒绝特定主体对某些存储库资源或其他数据库数据的访问。
                     </p>
                     <p>ACE本身并未指定要保护的数据。这是通过将ACL与目标数据相关联在ACE和ACL之外完成的。实现该关联的一种方法是使用PL / SQL过程<code class="codeph">DBMS_XDB_REPOS.setACL</code> 。</p>
                     <p>Oracle XML DB ACE授予或拒绝主体的权限。<span class="bold"><code class="codeph">ace</code></span>元素具有以下内容：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>操作<code class="codeph">grant</code> ： <code class="codeph">true</code> （授予）或<code class="codeph">false</code> （拒绝）访问。
                           </p>
                        </li>
                        <li>
                           <p>有效的主体（元素<code class="codeph">principal</code> ）或完整的主体列表（元素<code class="codeph">invert</code> ）。
                           </p>
                        </li>
                        <li>
                           <p>权限：为特定主体授予或拒绝的一组权限（元素<code class="codeph">privilege</code> ）。
                           </p>
                        </li>
                        <li>
                           <p>主体格式（可选）：委托人的格式。LDAP专有名称（DN），短名称（数据库用户/角色或LDAP昵称）或LDAP全局唯一标识符（GUID）。默认值为<code class="codeph">short name</code> 。如果主体名称与数据库用户和LDAP昵称都匹配，则假定它引用LDAP昵称。
                           </p>
                        </li>
                        <li>
                           <p>Collection（可选）： <code class="codeph">BOOLEAN</code>属性，指定主体是用户集合（LDAP组或数据库角色）还是单个用户（LDAP用户或数据库用户）。
                           </p>
                        </li>
                     </ul>
                     <p><a href="repository-access-control.html#GUID-8608F3A2-59C3-439A-9A03-D887D1F0DF46__CHDGJBCF">例27-1</a>显示了一个简单的ACE，它将特权<code class="codeph">DAV::all</code>授予主体<code class="codeph">DAV::owner</code> 。因此，它将所有权限授予其ACL适用的资源的所有者。
                     </p>
                     <div class="example" id="GUID-8608F3A2-59C3-439A-9A03-D887D1F0DF46__CHDGJBCF">
                        <p class="titleinexample">示例27-1授予权限的简单访问控制条目（ACE）</p><pre class="pre codeblock"><code>&lt;ace&gt; &lt;grant&gt; true &lt;/ grant&gt; &lt;principal&gt; DAV :: owner &lt;/ principal&gt; &lt;privilege&gt; &lt;DAV :: all /&gt; &lt;/ privilege&gt; &lt;/ ace&gt;</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="repository-access-control.html#GUID-3A94EEAA-A6ED-41EC-AE44-98D4D5FCF452" title="在允许主体访问受ACL保护的存储库资源之前，将检查权限。通过按顺序评估该主体的保护ACL来完成此检查。对于每个此类ACL，将按顺序检查其中适用于主体的ACE。">ACL和ACE评估</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="repository-access-control.html#GUID-14816427-7EA8-4D7A-964A-326DF35AAEE5" title="解释了访问控制术语和概念。每个访问控制实体 - 用户，角色，主体，特权，访问控制列表（ACL）和访问控制条目（ACE） - 以声明方式实现为XML文档或片段。">访问控制概念</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB5464"></a><a id="ADXDB5463"></a><div class="props_rev_3"><a id="GUID-59DFDDDD-BCCE-4349-AEB0-E433879BAD5B" name="GUID-59DFDDDD-BCCE-4349-AEB0-E433879BAD5B"></a><h4 id="ADXDB-GUID-59DFDDDD-BCCE-4349-AEB0-E433879BAD5B" class="sect4"><span class="enumeration_section">27.1.5</span>访问控制列表（ACL）</h4>
                  <div>
                     <p><strong class="term">访问控制列表</strong> （ <strong class="term">ACL</strong> ）是访问控制条目（ACE）的列表。默认情况下，列表中的顺序是相关的。
                     </p>
                     <p><a href="repository-access-control.html#GUID-59DFDDDD-BCCE-4349-AEB0-E433879BAD5B__CHDGIJJJ">例27-2</a>显示了一个简单的ACL，它只包含<a href="repository-access-control.html#GUID-8608F3A2-59C3-439A-9A03-D887D1F0DF46__CHDGJBCF">例27-1</a>的ACE。
                     </p>
                     <div class="section"></div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-59DFDDDD-BCCE-4349-AEB0-E433879BAD5B__CHDGIJJJ">
                        <p class="titleinexample">示例27-2授予权限的简单访问控制列表（ACL）</p><pre class="pre codeblock"><code>&lt;acl description =“myacl”xmlns =“http://xmlns.oracle.com/xdb/acl.xsd”xmlns：dav =“DAV：”xmlns：xsi =“http://www.w3.org/2001 / XMLSchema-instance“xsi：schemaLocation =”http://xmlns.oracle.com/xdb/acl.xsd http://xmlns.oracle.com/xdb/acl.xsd“&gt; &lt;ace&gt; &lt;grant&gt; true &lt; / grant&gt; &lt;principal&gt; dav：owner &lt;/ principal&gt; &lt;privilege&gt; &lt;dav：all /&gt; &lt;/ privilege&gt; &lt;/ ace&gt; &lt;/ acl&gt;</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="repository-access-control.html#GUID-3A94EEAA-A6ED-41EC-AE44-98D4D5FCF452" title="在允许主体访问受ACL保护的存储库资源之前，将检查权限。通过按顺序评估该主体的保护ACL来完成此检查。对于每个此类ACL，将按顺序检查其中适用于主体的ACE。">ACL和ACE评估</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="repository-access-control.html#GUID-14816427-7EA8-4D7A-964A-326DF35AAEE5" title="解释了访问控制术语和概念。每个访问控制实体 - 用户，角色，主体，特权，访问控制列表（ACL）和访问控制条目（ACE） - 以声明方式实现为XML文档或片段。">访问控制概念</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADXDB5466"></a><a id="ADXDB5465"></a><div class="props_rev_3"><a id="GUID-FD4386C7-26F7-41B1-A5E4-CBFB21505883" name="GUID-FD4386C7-26F7-41B1-A5E4-CBFB21505883"></a><h3 id="ADXDB-GUID-FD4386C7-26F7-41B1-A5E4-CBFB21505883" class="sect3"><span class="enumeration_section">27.2</span>存储库操作的数据库权限</h3>
               <div>
                  <p>描述了Oracle XML DB Repository中对资源的常见操作所需的数据库特权。</p>
                  <p><a href="repository-access-control.html#GUID-FD4386C7-26F7-41B1-A5E4-CBFB21505883__G1037226" title="此表描述了对Oracle XML DB资源进行各种操作所需的权限，例如创建，删除和更新。">表27-1</a>显示了Oracle XML DB Repository中对资源执行的一些常见操作所需的数据库权限。除了<span class="bold">要求</span>必须具有的列<span class="bold">权限</span>列出的权限<code class="codeph">resolve</code>特权包含资源的文件夹和所有父文件夹中，直到根文件夹。
                  </p>
                  <div class="tblformalwide" id="GUID-FD4386C7-26F7-41B1-A5E4-CBFB21505883__G1037226">
                     <p class="titleintable">表27-1 Oracle XML DB资源上的操作所需的数据库权限</p>
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="Oracle XML DB资源上的操作所需的数据库权限" width="100%" border="1" summary="This table describes privileges needed for various operations on Oracle XML DB resources, such as create, delete, and update." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="16%" id="d132030e903">手术</th>
                              <th align="left" valign="bottom" width="41%" id="d132030e906">描述</th>
                              <th align="left" valign="bottom" width="43%" id="d132030e909">特权要求</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="16%" id="d132030e914" headers="d132030e903 ">
                                 <p><code class="codeph">创建</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d132030e914 d132030e906 ">
                                 <p>在文件夹F中创建新资源</p>
                              </td>
                              <td align="left" valign="top" width="43%" headers="d132030e914 d132030e909 ">
                                 <p><code class="codeph">update</code>并<code class="codeph">link</code>文件夹F.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="16%" id="d132030e930" headers="d132030e903 ">
                                 <p><code class="codeph">删除</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d132030e930 d132030e906 ">
                                 <p>从文件夹F中删除资源R.</p>
                              </td>
                              <td align="left" valign="top" width="43%" headers="d132030e930 d132030e909 ">
                                 <p><code class="codeph">update</code>和<code class="codeph">unlink-from</code>上R， <code class="codeph">update</code>和<code class="codeph">unlink</code>上夹˚F</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="16%" id="d132030e952" headers="d132030e903 ">
                                 <p><code class="codeph">UPDATE</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d132030e952 d132030e906 ">
                                 <p>更新资源R的内容或属性</p>
                              </td>
                              <td align="left" valign="top" width="43%" headers="d132030e952 d132030e909 ">
                                 <p><code class="codeph">update</code> R</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="16%" id="d132030e965" headers="d132030e903 ">
                                 <p><code class="codeph">得到</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d132030e965 d132030e906 ">
                                 <p>资源R的FTP或HTTP（S）检索</p>
                              </td>
                              <td align="left" valign="top" width="43%" headers="d132030e965 d132030e909 ">
                                 <p><code class="codeph">read-properties</code> ，R上的<code class="codeph">read-contents</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="16%" id="d132030e981" headers="d132030e903 ">
                                 <p><code class="codeph">SET_ACL</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d132030e981 d132030e906 ">
                                 <p>设置资源R的ACL</p>
                              </td>
                              <td align="left" valign="top" width="43%" headers="d132030e981 d132030e909 ">
                                 <p><code class="codeph">DAV::write-acl</code> on R</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="16%" id="d132030e994" headers="d132030e903 ">
                                 <p><code class="codeph">LIST</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d132030e994 d132030e906 ">
                                 <p>列出文件夹F中的资源</p>
                              </td>
                              <td align="left" valign="top" width="43%" headers="d132030e994 d132030e909 ">
                                 <p>文件夹F上的<code class="codeph">read-properties</code> ，文件夹F中资源的<code class="codeph">read-properties</code> 。仅列出用户具有<code class="codeph">read-properties</code>权限的那些资源。
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-FD4386C7-26F7-41B1-A5E4-CBFB21505883__GUID-F0702B17-03B2-4BF2-825B-98C3C44DA830">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="administration-of-XML-DB.html#GUID-D89A2092-4BBF-4069-90FE-8E71C3EC3896" title="从Oracle Database 12c第1版（12.1.0.1）之前的版本开始，各种注意事项适用于Oracle数据库的所有升级。">升级或降级现有Oracle XML DB安装，</a>以获取有关升级时数据库访问权限处理的信息</p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="repository-access-control.html#GUID-CD4A712D-CCA2-4A19-909E-AEC57849A55A" title="Oracle数据库提供经典的数据库安全性，例如数据库用户的行级和列级安全访问。它还为Oracle XML DB Repository中的资源提供了细粒度的访问控制。您可以创建，设置和修改访问控制列表（ACL）。">存储库访问控制</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADXDB2410"></a><div class="props_rev_3"><a id="GUID-A81367EA-79B7-4744-A8B2-78F769626CF2" name="GUID-A81367EA-79B7-4744-A8B2-78F769626CF2"></a><h3 id="ADXDB-GUID-A81367EA-79B7-4744-A8B2-78F769626CF2" class="sect3"><span class="enumeration_section">27.3</span>特权</h3>
               <div>
                  <p>Oracle数据库提供的权限包括标准WebDAV权限以及特定于Oracle的权限。</p>
                  <div class="section">
                     <p>标准WebDAV权限使用WebDAV命名空间<span class="bold"><code class="codeph">DAV:</code></span> <a id="fn_1" name="fn_1" href="#fn_1" note="" the="" colon="" (:)="" as="" part="" of="" namespace="" name.="" dav:="" is="" itself,="" not="" a="" prefix.="" prefix="" commonly="" used="" for="" dav,="" but="" this="" only="" conventional.="" dav="" predefined="" oracle="" xml&nbsp;db.="" ="" onclick="footdisplay(1, "><sup>Foot 1</sup></a> 。特定于Oracle的权限使用Oracle XML DB ACL命名空间<code class="codeph">http://xmlns.oracle.com/xdb/acl.xsd</code> ，该命名空间具有预定义的前缀<span class="bold"><code class="codeph">xdb</code></span> 。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="repository-access-control.html#GUID-841802F8-3D05-485C-8A42-4D4C41CE6744">原子权限</a><br>原子特权不包括其他特权。描述了存储库操作的可用原子特权，并列出了它们的数据库对应物。
                     </li>
                     <li class="ulchildlink"><a href="repository-access-control.html#GUID-81D0DBA7-1370-4B2C-A62B-47E0BBEFF707">聚合权限</a><br>Aggregate特权包含其他特权，原子或聚合。存储库操作的可用聚合权限与其组件原子权限一起列出。
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-A81367EA-79B7-4744-A8B2-78F769626CF2__GUID-28119663-59C7-4F83-A8BE-8A9E9CBEECC4">
                     <p class="notep1">也可以看看：</p>
                     <p>RFC 3744：“Web分布式创作和版本控制（WebDAV）访问控制协议”，IETF网络工作组征求意见＃3744，2004年5月</p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="repository-access-control.html#GUID-CD4A712D-CCA2-4A19-909E-AEC57849A55A" title="Oracle数据库提供经典的数据库安全性，例如数据库用户的行级和列级安全访问。它还为Oracle XML DB Repository中的资源提供了细粒度的访问控制。您可以创建，设置和修改访问控制列表（ACL）。">存储库访问控制</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADXDB5473"></a><a id="ADXDB5472"></a><div class="props_rev_3"><a id="GUID-841802F8-3D05-485C-8A42-4D4C41CE6744" name="GUID-841802F8-3D05-485C-8A42-4D4C41CE6744"></a><h4 id="ADXDB-GUID-841802F8-3D05-485C-8A42-4D4C41CE6744" class="sect4"><span class="enumeration_section">27.3.1</span>原子权限</h4>
                  <div>
                     <p>原子特权不包括其他特权。描述了存储库操作的可用原子特权，并列出了它们的数据库对应物。</p>
                     <div class="section"></div>
                     <!-- class="section" -->
                     <div class="tblformalwide" id="GUID-841802F8-3D05-485C-8A42-4D4C41CE6744__CHDBECJA">
                        <p class="titleintable">表27-2原子权限</p>
                        <table cellpadding="4" cellspacing="0" class="FormalWide" title="原子权限" width="100%" border="1" summary="This table describes atomic privileges supported by Oracle XML DB. It includes the database equivalent privilege." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="37%" id="d132030e1159">原子权限</th>
                                 <th align="left" valign="bottom" width="49%" id="d132030e1162">描述</th>
                                 <th align="left" valign="bottom" width="14%" id="d132030e1165">数据库对口</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="37%" id="d132030e1170" headers="d132030e1159 ">
                                    <p><code class="codeph">DAV ::锁</code></p>
                                 </td>
                                 <td align="left" valign="top" width="49%" headers="d132030e1170 d132030e1162 ">
                                    <p>使用WebDAV锁定锁定资源。</p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d132030e1170 d132030e1165 ">
                                    <p><code class="codeph">UPDATE</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="37%" id="d132030e1182" headers="d132030e1159 ">
                                    <p><code class="codeph">DAV ::了解，当前用户的特权集</code></p>
                                 </td>
                                 <td align="left" valign="top" width="49%" headers="d132030e1182 d132030e1162 ">
                                    <p>访问资源的<code class="codeph">DAV::current-user-privilege-set</code>属性。
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d132030e1182 d132030e1165 ">
                                    <p>N / A</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="37%" id="d132030e1196" headers="d132030e1159 ">
                                    <p><code class="codeph">DAV ::取得所有权</code></p>
                                 </td>
                                 <td align="left" valign="top" width="49%" headers="d132030e1196 d132030e1162 ">
                                    <p>取得资源的所有权。</p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d132030e1196 d132030e1165 ">
                                    <p>N / A</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="37%" id="d132030e1207" headers="d132030e1159 ">
                                    <p><code class="codeph">DAV ::解锁</code></p>
                                 </td>
                                 <td align="left" valign="top" width="49%" headers="d132030e1207 d132030e1162 ">
                                    <p>解锁使用WebDAV锁定锁定的资源。</p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d132030e1207 d132030e1165 ">
                                    <p><code class="codeph">UPDATE</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="37%" id="d132030e1219" headers="d132030e1159 ">
                                    <p><code class="codeph">DAV ::写内容</code></p>
                                 </td>
                                 <td align="left" valign="top" width="49%" headers="d132030e1219 d132030e1162 ">
                                    <p>修改资源的内容。</p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d132030e1219 d132030e1165 ">
                                    <p><code class="codeph">UPDATE</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="37%" id="d132030e1231" headers="d132030e1159 ">
                                    <p><code class="codeph">DAV ::写性能</code></p>
                                 </td>
                                 <td align="left" valign="top" width="49%" headers="d132030e1231 d132030e1162 ">
                                    <p>修改资源的属性。锁定或解锁资源。可修改的属性包括<code class="codeph">Author</code> ， <code class="codeph">DisplayName</code> ， <code class="codeph">Language</code> ， <code class="codeph">CharacterSet</code> ， <code class="codeph">ContentType</code> ， <code class="codeph">SBResExtra</code> ， <code class="codeph">Owner</code> ， <code class="codeph">OwnerID</code> ， <code class="codeph">CreationDate</code> ， <code class="codeph">Modification Date</code> ， <code class="codeph">ACL</code> ， <code class="codeph">ACLOID</code> ， <code class="codeph">Lock</code>和<code class="codeph">Locktoken</code> 。
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d132030e1231 d132030e1165 ">
                                    <p><code class="codeph">UPDATE</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="37%" id="d132030e1287" headers="d132030e1159 ">
                                    <p><code class="codeph">XDB：链接</code></p>
                                 </td>
                                 <td align="left" valign="top" width="49%" headers="d132030e1287 d132030e1162 ">
                                    <p>允许从资源创建链接。</p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d132030e1287 d132030e1165 ">
                                    <p><code class="codeph">插入</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="37%" id="d132030e1299" headers="d132030e1159 ">
                                    <p><code class="codeph">XDB：链接到</code></p>
                                 </td>
                                 <td align="left" valign="top" width="49%" headers="d132030e1299 d132030e1162 ">
                                    <p>允许创建指向资源的链接。</p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d132030e1299 d132030e1165 ">
                                    <p>N / A</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="37%" id="d132030e1310" headers="d132030e1159 ">
                                    <p><code class="codeph">XDB：读ACL</code></p>
                                 </td>
                                 <td align="left" valign="top" width="49%" headers="d132030e1310 d132030e1162 ">
                                    <p>读取资源的ACL。</p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d132030e1310 d132030e1165 ">
                                    <p><code class="codeph">选择</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="37%" id="d132030e1322" headers="d132030e1159 ">
                                    <p><code class="codeph">XDB：读内容</code></p>
                                 </td>
                                 <td align="left" valign="top" width="49%" headers="d132030e1322 d132030e1162 ">
                                    <p>阅读资源的内容。</p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d132030e1322 d132030e1165 ">
                                    <p><code class="codeph">选择</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="37%" id="d132030e1334" headers="d132030e1159 ">
                                    <p><code class="codeph">XDB：只读属性</code></p>
                                 </td>
                                 <td align="left" valign="top" width="49%" headers="d132030e1334 d132030e1162 ">
                                    <p>阅读资源的属性。</p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d132030e1334 d132030e1165 ">
                                    <p><code class="codeph">选择</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="37%" id="d132030e1347" headers="d132030e1159 ">
                                    <p><code class="codeph">XDB：解决</code></p>
                                 </td>
                                 <td align="left" valign="top" width="49%" headers="d132030e1347 d132030e1162 ">
                                    <p>遍历文件夹（仅限文件夹）。</p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d132030e1347 d132030e1165 ">
                                    <p><code class="codeph">选择</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="37%" id="d132030e1359" headers="d132030e1159 ">
                                    <p><code class="codeph">XDB：断开链接</code></p>
                                 </td>
                                 <td align="left" valign="top" width="49%" headers="d132030e1359 d132030e1162 ">
                                    <p>允许从资源中删除链接。</p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d132030e1359 d132030e1165 ">
                                    <p><code class="codeph">删除</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="37%" id="d132030e1371" headers="d132030e1159 ">
                                    <p><code class="codeph">XDB：取消链接，从</code></p>
                                 </td>
                                 <td align="left" valign="top" width="49%" headers="d132030e1371 d132030e1162 ">
                                    <p>允许删除资源的链接。</p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d132030e1371 d132030e1165 ">
                                    <p>N / A</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="37%" id="d132030e1382" headers="d132030e1159 ">
                                    <p><code class="codeph">XDB：更新ACL</code></p>
                                 </td>
                                 <td align="left" valign="top" width="49%" headers="d132030e1382 d132030e1162 ">
                                    <p>更改资源ACL的内容。</p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d132030e1382 d132030e1165 ">
                                    <p><code class="codeph">UPDATE</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="37%" id="d132030e1394" headers="d132030e1159 ">
                                    <p><code class="codeph">XDB：写ACL-REF</code></p>
                                 </td>
                                 <td align="left" valign="top" width="49%" headers="d132030e1394 d132030e1162 ">
                                    <p>更改资源的ACLOID。</p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d132030e1394 d132030e1165 ">
                                    <p><code class="codeph">UPDATE</code> 
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="repository-access-control.html#GUID-A81367EA-79B7-4744-A8B2-78F769626CF2" title="Oracle数据库提供的权限包括标准WebDAV权限以及特定于Oracle的权限。">权限</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB5475"></a><a id="ADXDB5474"></a><div class="props_rev_3"><a id="GUID-81D0DBA7-1370-4B2C-A62B-47E0BBEFF707" name="GUID-81D0DBA7-1370-4B2C-A62B-47E0BBEFF707"></a><h4 id="ADXDB-GUID-81D0DBA7-1370-4B2C-A62B-47E0BBEFF707" class="sect4"><span class="enumeration_section">27.3.2</span>聚合权限</h4>
                  <div>
                     <p>Aggregate特权包含其他特权，原子或聚合。存储库操作的可用聚合权限与其组件原子权限一起列出。</p>
                     <div class="tblformal" id="GUID-81D0DBA7-1370-4B2C-A62B-47E0BBEFF707__CHDGJIHA">
                        <p class="titleintable">表27-3聚合权限</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="聚合权限" width="100%" border="1" summary="This table describes  aggregate privileges supported by Oracle XML DB." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="24%" id="d132030e1451">聚合权限</th>
                                 <th align="left" valign="bottom" width="76%" id="d132030e1454">组件原子权限</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d132030e1459" headers="d132030e1451 ">
                                    <p><code class="codeph">DAV ::所有</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d132030e1459 d132030e1454 ">
                                    <p>所有原子DAV特权。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d132030e1467" headers="d132030e1451 ">
                                    <p><code class="codeph">XDB：所有</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d132030e1467 d132030e1454 ">
                                    <p>所有原子DAV权限加上<code class="codeph">xdb:link-to</code> 。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d132030e1478" headers="d132030e1451 ">
                                    <p><code class="codeph">DAV ::绑定</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d132030e1478 d132030e1454 ">
                                    <p><code class="codeph">XDB：链接</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d132030e1487" headers="d132030e1451 ">
                                    <p><code class="codeph">DAV ::解除绑定</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d132030e1487 d132030e1454 ">
                                    <p><code class="codeph">XDB：断开链接</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d132030e1496" headers="d132030e1451 ">
                                    <p><code class="codeph">DAV ::阅读</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d132030e1496 d132030e1454 ">
                                    <p><code class="codeph">xdb:read-properties</code> ， <code class="codeph">xdb:read-contents</code> ， <code class="codeph">xdb:resolve</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d132030e1511" headers="d132030e1451 ">
                                    <p><code class="codeph">DAV ::了解，ACL</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d132030e1511 d132030e1454 ">
                                    <p><code class="codeph">XDB：读ACL</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d132030e1520" headers="d132030e1451 ">
                                    <p><code class="codeph">DAV ::写</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d132030e1520 d132030e1454 ">
                                    <p><code class="codeph">DAV::write-content</code> ， <code class="codeph">DAV::write-properties</code> ， <code class="codeph">xdb:link</code> ， <code class="codeph">xdb:unlink</code> ， <code class="codeph">xdb:unlink-from</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d132030e1541" headers="d132030e1451 ">
                                    <p><code class="codeph">DAV ::写ACL</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d132030e1541 d132030e1454 ">
                                    <p><code class="codeph">xdb:write-acl-ref</code> ， <code class="codeph">xdb:update-acl</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d132030e1553" headers="d132030e1451 ">
                                    <p><code class="codeph">DAV ::更新</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d132030e1553 d132030e1454 ">
                                    <p><code class="codeph">DAV::write-content</code> ， <code class="codeph">DAV::write-properties</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d132030e1565" headers="d132030e1451 ">
                                    <p><code class="codeph">XDB：更新</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d132030e1565 d132030e1454 ">
                                    <p><code class="codeph">DAV::write-properties</code> ， <code class="codeph">DAV::write-content</code></p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="repository-access-control.html#GUID-A81367EA-79B7-4744-A8B2-78F769626CF2" title="Oracle数据库提供的权限包括标准WebDAV权限以及特定于Oracle的权限。">权限</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADXDB2430"></a><div class="props_rev_3"><a id="GUID-3B9D8F83-DA3E-4070-8D4C-AF12B212D806" name="GUID-3B9D8F83-DA3E-4070-8D4C-AF12B212D806"></a><h3 id="ADXDB-GUID-3B9D8F83-DA3E-4070-8D4C-AF12B212D806" class="sect3"><span class="enumeration_section">27.4</span> ACL和ACE</h3>
               <div>
                  <p>ACL用于保护资源，在Oracle数据库中，资源是Oracle XML DB Repository中的资源（文件和文件夹）。ACL由ACE组成。</p>
                  <p>访问控制列表（ACL）是一种标准安全机制，在某些语言（如Java）和某些操作系统（如Microsoft Windows）中使用。ACL也是WebDAV标准的一部分。</p>
                  <p>可以使用WebDAV访问存储库资源，其保护ACL充当WebDAV ACL。每个存储库资源都受某些ACL的保护。无论如何通过WebDAV，SQL或任何其他方式访问资源，都会强制执行保护资源的ACL。</p>
                  <p>在Oracle XML DB Repository中创建新资源时，默认情况下，其父文件夹上的ACL用于保护资源。创建资源后，可以在其上设置新的ACL。</p>
                  <p>Oracle数据库中的ACL是根据Oracle数据库ACL XML模式验证的XML文档，该模式位于<code class="codeph">/sys/schemas/PUBLIC/xmlns.oracle.com/xdb/acl.xsd</code>中的Oracle XML DB存储库中。ACL本身作为资源库中的资源进行存储和管理。
                  </p>
                  <p>在主体对受ACL保护的数据执行操作之前，将检查受保护数据的用户权限。检查的权限集取决于要执行的操作。</p>
                  <p>聚合权限由其他权限组成。存储ACL时，它所引用的聚合权限充当其组件权限的指针集。</p>
                  <p>所有ACL都存储在表<span class="bold"><code class="codeph">XDB$ACL</code></span> ，该表由数据库模式（用户帐户） <code class="codeph">XDB</code> 。这是一个基于XML模式的<code class="codeph">XMLType</code>表。此表中的每一行（以及每个ACL）都有一个系统生成的对象标识符（ <strong class="term">OID</strong> ），可以作为名为<span class="bold"><code class="codeph">OBJECT_ID</code></span>的列进行访问。</p>
                  <p>每个Oracle XML DB资源库资源都有一个名为<span class="bold"><code class="codeph">ACLOID</code></span>的属性。 <code class="codeph">ACLOID</code>存储保护资源的ACL的OID。ACL本身就是一种资源，ACL的<code class="codeph">XMLRef</code>属性（例如<code class="codeph">/sys/acls/all_all_acl.xml</code> ）是表<code class="codeph">XDB$ACL</code>中包含<code class="codeph">XDB$ACL</code>内容的行的<code class="codeph">REF</code> 。这两个属性构成了存储Oracle XML DB资源的表<code class="codeph">XDB$RESOURCE</code>与表<code class="codeph">XDB$ACL</code>之间的链接。</p>
                  <div class="infoboxnotealso" id="GUID-3B9D8F83-DA3E-4070-8D4C-AF12B212D806__GUID-69D635B6-4961-4383-BD00-6B2AE7ACA4A1">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="oracle-supplied-XML-schemas-and-examples.html#GUID-E68CF45E-42C6-4F1A-B65B-2D3426FBF223" title="提供了Oracle数据库提供的用于表示访问控制列表（ACL）的XML模式。">acl.xsd：</a> ACL XML模式的ACL的XML模式</p>
                        </li>
                        <li>
                           <p><a href="../dbseg/managing-security-for-oracle-database-users.html#DBSEG-GUID-D3770171-8E64-461C-92A4-045248EE42E1" target="_blank"><span><cite>Oracle数据库安全指南</cite></span></a></p>
                        </li>
                     </ul>
                  </div>
                  <div class="section"></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="repository-access-control.html#GUID-99334EEF-A97D-49DC-BA06-E7347ECCB681">系统ACL</a><br>描述了预定义并随Oracle数据库提供的系统ACL。
                     </li>
                     <li class="ulchildlink"><a href="repository-access-control.html#GUID-3A94EEAA-A6ED-41EC-AE44-98D4D5FCF452">ACL和ACE评估</a><br>在允许主体访问受ACL保护的存储库资源之前，将检查权限。通过按顺序评估该主体的保护ACL来完成此检查。对于每个此类ACL，将按顺序检查其中适用于主体的ACE。
                     </li>
                     <li class="ulchildlink"><a href="repository-access-control.html#GUID-37DD263E-D61A-42FA-933A-A78E07EA6004">ACL验证</a><br>创建ACL时，将根据ACL的XML架构验证ACL，并运行一些正确性测试，例如确保ACE的开始和结束日期按时间顺序排列。在ACL之间的关系的ACL创建时间没有完全检查。
                     </li>
                     <li class="ulchildlink"><a href="repository-access-control.html#GUID-C7C3D320-22CB-4152-A891-9289A1FAEA0A">元素反转：补充ACE中的主体</a><br>通过补充另一组主体来定义一组主体有时更方便 - 这是ACE元素<code class="codeph">invert</code>的目的。不要列出要包含的每个主体，而是使用元素<code class="codeph">invert</code>包装要排除的主体列表。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="repository-access-control.html#GUID-CD4A712D-CCA2-4A19-909E-AEC57849A55A" title="Oracle数据库提供经典的数据库安全性，例如数据库用户的行级和列级安全访问。它还为Oracle XML DB Repository中的资源提供了细粒度的访问控制。您可以创建，设置和修改访问控制列表（ACL）。">存储库访问控制</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADXDB5480"></a><div class="props_rev_3"><a id="GUID-99334EEF-A97D-49DC-BA06-E7347ECCB681" name="GUID-99334EEF-A97D-49DC-BA06-E7347ECCB681"></a><h4 id="ADXDB-GUID-99334EEF-A97D-49DC-BA06-E7347ECCB681" class="sect4"><span class="enumeration_section">27.4.1</span>系统ACL</h4>
                  <div>
                     <p>描述了预定义并随Oracle数据库提供的系统ACL。</p>
                     <div class="section">
                        <p>某些ACL是预定义的，并随Oracle数据库提供。它们被称为<strong class="term">系统ACL</strong> 。
                        </p>
                        <p>只有一个ACL是自我保护的，即受其自身内容保护。它是<strong class="term">引导ACL</strong> ，系统ACL位于<code class="codeph">/sys/acls/bootstrap_acl.xml</code>中的Oracle XML DB存储库中。引导ACL为所有用户授予<code class="codeph">READ</code>权限。它还授予对数据库角色<code class="codeph">XDBADMIN</code> （Oracle XML DB管理员）和<code class="codeph">DBA</code> <code class="codeph">FULL ACCESS</code> 。数据库角色<code class="codeph">XDBADMIN</code>对必须注册全局XML模式的用户特别有用。
                        </p>
                        <p>其他系统ACL包括以下内容。每个都受引导ACL保护。</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="bold"><code class="codeph">all_all_acl.xml</code></span> - 授予所有用户所有权限。
                              </p>
                           </li>
                           <li>
                              <p><span class="bold"><code class="codeph">all_owner_acl.xml</code></span> - 授予资源所有者所有权限。
                              </p>
                           </li>
                           <li>
                              <p><span class="bold"><code class="codeph">ro_all_acl.xml</code></span> - 授予所有用户读取权限。
                              </p>
                           </li>
                        </ul>
                        <p>系统ACL使用文件命名约定<span class="italic"><code class="codeph">&lt;privilege&gt;</code></span> <code class="codeph">_</code> <span class="italic"><code class="codeph">&lt;users&gt;</code></span> <code class="codeph">_acl.xml</code> ，其中<span class="italic"><code class="codeph">&lt;privilege&gt;</code></span>表示授予的权限， <span class="italic"><code class="codeph">&lt;users&gt;</code></span>表示被授予对资源的访问权限的用户。定义自己的ACL时，可以使用任何您喜欢的名称。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="XML-Schema-and-query-basic.html#GUID-5663C810-F20E-4CFE-99D5-96AC7D4081F4" title="XML模式可以注册为本地（默认情况下仅对其所有者可见）或全局（默认情况下对所有数据库用户可见）。">本地和全局XML模式</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="repository-access-control.html#GUID-3B9D8F83-DA3E-4070-8D4C-AF12B212D806" title="ACL用于保护资源，在Oracle数据库中，资源是Oracle XML DB Repository中的资源（文件和文件夹）。ACL由ACE组成。">ACL和ACE</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB2435"></a><div class="props_rev_3"><a id="GUID-3A94EEAA-A6ED-41EC-AE44-98D4D5FCF452" name="GUID-3A94EEAA-A6ED-41EC-AE44-98D4D5FCF452"></a><h4 id="ADXDB-GUID-3A94EEAA-A6ED-41EC-AE44-98D4D5FCF452" class="sect4"><span class="enumeration_section">27.4.2</span> ACL和ACE评估</h4>
                  <div>
                     <p>在允许主体访问受ACL保护的存储库资源之前，将检查权限。通过按顺序评估该主体的保护ACL来完成此检查。对于每个此类ACL，将按顺序检查其中适用于主体的ACE。</p>
                     <p>如果一个ACE向当前用户授予某个特权，而另一个ACE拒绝该用户的特权，则会产生冲突。有两种可能的方法来管理同一主体的ACE之间的冲突。</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>默认行为（称为<span class="bold"><code class="codeph">ace-order</code></span> ）是仅使用针对给定主体发生的<span class="italic">第一个</span> ACE。该委托人的其他ACE无效。在这种情况下， <span class="italic">ACE订单是相关的</span> 。
                           </p>
                        </li>
                        <li>
                           <p>但是，您可以将数据库配置为使用替代行为<span class="bold"><code class="codeph">deny-trumps-grant</code></span> 。在这种情况下，任何对给定委托人具有子<code class="codeph">deny</code> ACE都会<code class="codeph">deny</code>该委托人的许可，无论该委托人是否有其他具有<code class="codeph">grant</code>子女的ACE。在这种情况下， <code class="codeph">deny</code>始终优先于<code class="codeph">grant</code> ，而<span class="italic">ACE订单则无关紧要</span> 。
                           </p>
                        </li>
                     </ul>
                     <p>您可以通过在配置文件<code class="codeph">xdbconfig.xml</code>配置参数<span class="bold"><code class="codeph">acl-evaluation-method</code></span>设置为<code class="codeph">ace-order</code>或<code class="codeph">deny-trumps-grant</code>来配置ACL评估行为。默认配置文件指定<code class="codeph">ace-method</code> ，但是在没有给出<code class="codeph">acl-evaluation-method</code>时使用的元素<code class="codeph">acl-evaluation-method</code>的默认值是<code class="codeph">deny-trumps-grant</code> 。
                     </p>
                     <div class="infoboxnote" id="GUID-3A94EEAA-A6ED-41EC-AE44-98D4D5FCF452__GUID-1FCE41FC-04BF-4F25-8997-677933E56555">
                        <p class="notep1">注意：</p>
                        <p>在Oracle Database 11g第1版之前的版本中，只有一种ACL评估行为可用： <code class="codeph">deny-trumps-grant</code> （尽管未在配置文件中指定）。
                        </p>
                        <p>使用<code class="codeph">ace-order</code>作为默认行为的更改对数据库版本之间的升级和降级具有重要影响。请参阅<a href="administration-of-XML-DB.html#GUID-D89A2092-4BBF-4069-90FE-8E71C3EC3896" title="从Oracle Database 12c第1版（12.1.0.1）之前的版本开始，各种注意事项适用于Oracle数据库的所有升级。">升级或降级现有Oracle XML DB安装</a> 。
                        </p>
                     </div>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="repository-access-control.html#GUID-3B9D8F83-DA3E-4070-8D4C-AF12B212D806" title="ACL用于保护资源，在Oracle数据库中，资源是Oracle XML DB Repository中的资源（文件和文件夹）。ACL由ACE组成。">ACL和ACE</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB5481"></a><div class="props_rev_3"><a id="GUID-37DD263E-D61A-42FA-933A-A78E07EA6004" name="GUID-37DD263E-D61A-42FA-933A-A78E07EA6004"></a><h4 id="ADXDB-GUID-37DD263E-D61A-42FA-933A-A78E07EA6004" class="sect4"><span class="enumeration_section">27.4.3</span> ACL验证</h4>
                  <div>
                     <p>创建ACL时，将根据ACL的XML架构验证ACL，并运行一些正确性测试，例如确保ACE的开始和结束日期按时间顺序排列。在ACL之间的关系的ACL创建时间没有完全检查。</p>
                     <p>这种对ACL正确性的完整检查称为<strong class="term">ACL有效性</strong>检查，但不能与其XML <span class="italic">模式</span>有效性混淆。要使ACL有效（作为ACL），它还必须是XML模式有效的，但反之则不成立。
                     </p>
                     <p>只要评估ACL以检查主体是否具有某些操作的适当权限，就会在运行时进行完整的ACL有效性检查。如果此检查发现ACL无效，则ACL将授予的所有权限将被<span class="italic">拒绝</span>给指定的主体。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="repository-access-control.html#GUID-3B9D8F83-DA3E-4070-8D4C-AF12B212D806" title="ACL用于保护资源，在Oracle数据库中，资源是Oracle XML DB Repository中的资源（文件和文件夹）。ACL由ACE组成。">ACL和ACE</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB5486"></a><a id="ADXDB5485"></a><div class="props_rev_3"><a id="GUID-C7C3D320-22CB-4152-A891-9289A1FAEA0A" name="GUID-C7C3D320-22CB-4152-A891-9289A1FAEA0A"></a><h4 id="ADXDB-GUID-C7C3D320-22CB-4152-A891-9289A1FAEA0A" class="sect4"><span class="enumeration_section">27.4.4</span>元素反转：在ACE中补充校长</h4>
                  <div>
                     <p>通过补充另一组主体来定义一组主体有时更方便 - 这是ACE元素<code class="codeph">invert</code>的目的。不要列出要包含的每个主体，而是使用元素<code class="codeph">invert</code>包装要排除的主体列表。
                     </p>
                     <div class="section">
                        <p>在<a href="repository-access-control.html#GUID-C7C3D320-22CB-4152-A891-9289A1FAEA0A__CHDHIHCG">例27-3中</a> ，第一个ACE拒绝除<code class="codeph">IntranetUsers</code>之外的所有主体的特权<code class="codeph">privilege1</code> 。因为（默认情况下）ACE按照它们出现的顺序被考虑，所有后续ACE都被第一个ACE覆盖，因此尽管有明确的授权，但主要的<code class="codeph">NonIntraNetUser</code>被拒绝了特权<code class="codeph">privilege1</code> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-C7C3D320-22CB-4152-A891-9289A1FAEA0A__CHDHIHCG">
                        <p class="titleinexample">例27-3用Element反转补充一组Principal</p><pre class="pre codeblock"><code>&lt;acl description =“反向ACL”xmlns =“http://xmlns.oracle.com/xdb/acl.xsd”xmlns：dav =“DAV：”xmlns：xsi =“http://www.w3.org/ 2001 / XMLSchema-instance“xsi：schemaLocation =”http://xmlns.oracle.com/xdb/acl.xsd http://xmlns.oracle.com/xdb/acl.xsd“&gt; &lt;extends-from type =” simple“href =”/ sys / acls / parent_acl.xml“/&gt; &lt;ace&gt; &lt;grant&gt; <span class="bold">false</span> &lt;/ grant&gt; &lt; <span class="bold">invert</span> &gt; &lt;principal&gt; dav：owner &lt;/ principal&gt; &lt;/ invert&gt; &lt;privilege&gt; &lt;read- contents /&gt; &lt;/ privilege&gt; &lt;/ ace&gt; &lt;ace&gt; &lt;grant&gt; true &lt;/ grant&gt; &lt;principal&gt; GERONIMO &lt;/ principal&gt; &lt;privilege&gt; &lt;read-contents /&gt; &lt;/ privilege&gt; &lt;/ ace&gt; &lt;/ acl &gt;</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="repository-access-control.html#GUID-3B9D8F83-DA3E-4070-8D4C-AF12B212D806" title="ACL用于保护资源，在Oracle数据库中，资源是Oracle XML DB Repository中的资源（文件和文件夹）。ACL由ACE组成。">ACL和ACE</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADXDB2420"></a><div class="props_rev_3"><a id="GUID-899B397A-45B6-4180-9DEF-EFF4A0C6170A" name="GUID-899B397A-45B6-4180-9DEF-EFF4A0C6170A"></a><h3 id="ADXDB-GUID-899B397A-45B6-4180-9DEF-EFF4A0C6170A" class="sect3"><span class="enumeration_section">27.5</span>使用访问控制列表（ACL）概述</h3>
               <div>
                  <p>Oracle数据库访问控制列表（ACL）本身是Oracle XML DB Repository中的（文件）资源，因此对存储库资源进行操作的所有访问方法也适用于ACL。此外，PL / SQL包<code class="codeph">DBMS_XDB_REPOS</code>有几个特定于ACL的API。</p>
                  <p></p>
                  <p>这些ACL过程和函数允许您使用PL / SQL访问Oracle XML DB安全机制，根据特定ACL检查用户权限，并列出当前用户对特定ACL和资源的权限集。</p>
                  <div class="section"></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="repository-access-control.html#GUID-DEC8D585-EDB6-4713-8218-5DE27268CDE6">使用DBMS_XDB_REPOS.CREATERESOURCE创建ACL</a><br>示例说明如何使用<code class="codeph">DBMS_XDB_REPOS.createResource</code>创建ACL。</li>
                     <li class="ulchildlink"><a href="repository-access-control.html#GUID-B9F9E132-3A63-4514-BA9A-2835F6B422E2">检索ACL文档，给出其存储库路径</a><br>一个示例显示了如何检索ACL文档，因为它位于Oracle XML DB Repository中。
                     </li>
                     <li class="ulchildlink"><a href="repository-access-control.html#GUID-69858501-FCB3-4623-B79C-A2D2AAFA3B7A">设置资源的ACL</a><br>示例使用PL / SQL过程<code class="codeph">DBMS_XDB_REPOS.setACL</code>来设置资源的ACL。
                     </li>
                     <li class="ulchildlink"><a href="repository-access-control.html#GUID-116946C5-88A3-4D88-BCA5-CD6CAAC32E39">删除ACL</a><br>示例使用PL / SQL过程<code class="codeph">DBMS_XDB_REPOS.deleteResource</code>删除ACL。</li>
                     <li class="ulchildlink"><a href="repository-access-control.html#GUID-0AA30F48-9EFF-46C9-8C46-3B8717DB7198">更新ACL</a><br>您可以使用任何更新资源的标准方法来更新ACL。特别是，由于ACL是XML文档，因此您可以使用Oracle SQL / XML函数<code class="codeph">XMLQuery</code>和XQuery Update来操作ACL。进行任何ACL更改后，您必须执行<code class="codeph">COMMIT</code> 。
                     </li>
                     <li class="ulchildlink"><a href="repository-access-control.html#GUID-4C24957E-DA31-42EA-B5EC-9159C9E892F9">检索保护给定资源的ACL文档</a><br>一个示例说明了如何使用PL / SQL函数<code class="codeph">DBMS_XDB_REPOS.getACLDocument</code>来检索保护给定资源的ACL文档。
                     </li>
                     <li class="ulchildlink"><a href="repository-access-control.html#GUID-49A1AE46-87C9-40FA-ACBB-7D70B0A91D13">检索授予特定资源的当前用户的权限</a><br>一个示例说明了如何使用PL / SQL函数<code class="codeph">DBMS_XDB_REPOS.getPrivileges</code>来检索授予当前用户的权限。
                     </li>
                     <li class="ulchildlink"><a href="repository-access-control.html#GUID-FC2A630F-A65E-4814-8A9F-36D39EE4D744">检查当前用户是否具有资源权限</a><br>一个示例说明了如何使用PL / SQL函数<code class="codeph">DBMS_XDB_REPOS.checkPrivileges</code>来检查当前用户是否具有资源的给定权限集。如果用户具有权限，则该函数返回非零值。
                     </li>
                     <li class="ulchildlink"><a href="repository-access-control.html#GUID-C6CB85B8-935D-436B-906B-F1ED3598B421">使用ACL和资源所有者检查用户是否具有权限</a><br>功能<code class="codeph">DBMS_XDB_REPOS.ACLCheckPrivileges</code>通常由允许用户执行操作之前必须自行执行ACL评估的应用程序使用。
                     </li>
                     <li class="ulchildlink"><a href="repository-access-control.html#GUID-14D106C4-04A4-42DA-9168-7937B0DC0976">检索保护给定资源的ACL的路径</a><br>示例使用<code class="codeph">RESOURCE_VIEW</code>查询来检索保护给定资源的ACL的路径。该查询使用以下事实：资源的<code class="codeph">XMLRef</code>和<code class="codeph">ACLOID</code>元素构成ACL和资源之间的链接。
                     </li>
                     <li class="ulchildlink"><a href="repository-access-control.html#GUID-4C8DD9FF-D656-400E-883C-9F0E42CE55A4">检索由给定ACL保护的所有资源的路径</a><br>示例检索受给定ACL保护的所有资源的路径。</li>
                  </ul>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="administration-of-XML-DB.html#GUID-FD0BCF20-2345-4D78-B96F-C52A4361291D" title="Oracle XML DB的管理包括安装，升级和配置它。">管理Oracle XML DB</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="repository-access-control.html#GUID-CD4A712D-CCA2-4A19-909E-AEC57849A55A" title="Oracle数据库提供经典的数据库安全性，例如数据库用户的行级和列级安全访问。它还为Oracle XML DB Repository中的资源提供了细粒度的访问控制。您可以创建，设置和修改访问控制列表（ACL）。">存储库访问控制</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADXDB5490"></a><a id="ADXDB5489"></a><div class="props_rev_3"><a id="GUID-DEC8D585-EDB6-4713-8218-5DE27268CDE6" name="GUID-DEC8D585-EDB6-4713-8218-5DE27268CDE6"></a><h4 id="ADXDB-GUID-DEC8D585-EDB6-4713-8218-5DE27268CDE6" class="sect4"><span class="enumeration_section">27.5.1</span>使用DBMS_XDB_REPOS.CREATERESOURCE创建ACL</h4>
                  <div>
                     <p>示例说明如何使用<code class="codeph">DBMS_XDB_REPOS.createResource</code>创建ACL。</p>
                     <div class="section">
                        <p><a href="repository-access-control.html#GUID-DEC8D585-EDB6-4713-8218-5DE27268CDE6__CEGCAIHC">例27-4</a>创建了一个ACL作为文件资源<code class="codeph">/TESTUSER/acl1.xml</code> 。如果应用于资源，则此ACL将所有权限授予资源所有者。
                        </p>
                        <div class="infoboxnote" id="GUID-DEC8D585-EDB6-4713-8218-5DE27268CDE6__GUID-D74153C0-B6E9-4471-AE5F-0C28E3B09A23">
                           <p class="notep1">注意：</p>
                           <p>在执行使用在当前事务期间创建的ACL文件资源的任何操作之前，必须执行<code class="codeph">COMMIT</code>操作。在您这样做之前，每当您使用ACL文件时，都会引发ORA-22881“悬空REF”错误。
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-DEC8D585-EDB6-4713-8218-5DE27268CDE6__CEGCAIHC">
                        <p class="titleinexample">示例27-4使用CREATERESOURCE创建ACL</p><pre class="pre codeblock"><code>DECLARE b BOOLEAN; BEGIN b：= DBMS_XDB_REPOS.createFolder（'/ TESTUSER'）; b：= DBMS_XDB_REPOS.createResource（'/ <span class="bold">TESTUSER/acl1.xml</span> '，'&lt;acl description =“myacl”xmlns =“http://xmlns.oracle.com/xdb/acl.xsd”xmlns：dav =“DAV： “xmlns：xsi =”http://www.w3.org/2001/XMLSchema-instance“xsi：schemaLocation =”http://xmlns.oracle.com/xdb/acl.xsd http://xmlns.oracle。 com / xdb / acl.xsd“&gt; &lt;ace&gt; &lt;grant&gt; true &lt;/ grant&gt; &lt;principal&gt; <span class="bold">dav：owner</span> &lt;/ principal&gt; &lt;privilege&gt; <span class="bold">&lt;dav：all /&gt;</span> &lt;/ privilege&gt; &lt;/ ace&gt; &lt;/ acl &gt;'，'http://xmlns.oracle.com/xdb/acl.xsd'，'acl'）;结束;</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="repository-access-control.html#GUID-899B397A-45B6-4180-9DEF-EFF4A0C6170A" title="Oracle数据库访问控制列表（ACL）本身是Oracle XML DB Repository中的（文件）资源，因此对存储库资源进行操作的所有访问方法也适用于ACL。此外，PL / SQL包DBMS_XDB_REPOS中有几个特定于ACL的API。">使用访问控制列表（ACL）概述</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB5491"></a><a id="ADXDB2425"></a><div class="props_rev_3"><a id="GUID-B9F9E132-3A63-4514-BA9A-2835F6B422E2" name="GUID-B9F9E132-3A63-4514-BA9A-2835F6B422E2"></a><h4 id="ADXDB-GUID-B9F9E132-3A63-4514-BA9A-2835F6B422E2" class="sect4"><span class="enumeration_section">27.5.2</span>检索ACL文档，给定其存储库路径</h4>
                  <div>
                     <p>一个示例显示了如何检索ACL文档，因为它位于Oracle XML DB Repository中。</p>
                     <div class="section"></div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-B9F9E132-3A63-4514-BA9A-2835F6B422E2__CHDCDIFA">
                        <p class="titleinexample">示例27-5检索ACL文档，给定其存储库路径</p><pre class="pre codeblock"><code>选择一个。OBJECT_VALUE来自RESOURCE_VIEW rv，XDB.XDB $ ACL a WHERE ref（a）= XMLCast（XMLQuery（'declare default element namespace“http://xmlns.oracle.com/xdb/XDBResource.xsd”;（：:) fn： data（/ Resource / XMLRef）'PASSING rv.RES RETURNING CONTENT）AS REF XMLType）AND equals_path（rv.RES，'/ <span class="bold">TESTUSER / acl1.xml</span> '）= 1; OBJECT_VALUE ------------------------------------------------- ------------------------------- &lt;acl description =“myacl”xmlns =“http://xmlns.oracle.com /xdb/acl.xsd“xmlns：dav =”DAV：“xmlns：xsi =”http://www.w3.org/2001/XMLSchema-instance“xsi：schemaLocation =”http://xmlns.oracle.com /xdb/acl.xsd http：// xm lns.oracle.com/xdb/acl.xsd“shared =”true“&gt; &lt;ace&gt; &lt;grant&gt; true &lt;/ grant&gt; &lt;principal&gt; dav：owner &lt;/ principal&gt; &lt;privilege&gt; &lt;dav：all /&gt; &lt;/ privilege&gt; &lt;/ ace&gt; &lt;/ acl&gt;</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="repository-access-control.html#GUID-899B397A-45B6-4180-9DEF-EFF4A0C6170A" title="Oracle数据库访问控制列表（ACL）本身是Oracle XML DB Repository中的（文件）资源，因此对存储库资源进行操作的所有访问方法也适用于ACL。此外，PL / SQL包DBMS_XDB_REPOS中有几个特定于ACL的API。">使用访问控制列表（ACL）概述</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB5493"></a><a id="ADXDB5492"></a><div class="props_rev_3"><a id="GUID-69858501-FCB3-4623-B79C-A2D2AAFA3B7A" name="GUID-69858501-FCB3-4623-B79C-A2D2AAFA3B7A"></a><h4 id="ADXDB-GUID-69858501-FCB3-4623-B79C-A2D2AAFA3B7A" class="sect4"><span class="enumeration_section">27.5.3</span>配置资源的ACL</h4>
                  <div>
                     <p>示例使用PL / SQL过程<code class="codeph">DBMS_XDB_REPOS.setACL</code>来设置资源的ACL。
                     </p>
                     <div class="section">
                        <p><a href="repository-access-control.html#GUID-69858501-FCB3-4623-B79C-A2D2AAFA3B7A__CEGCCFDD">实施例27-6</a>创建资源<code class="codeph">/TESTUSER/po1.xml</code>并设置它的ACL来<code class="codeph">/TESTUSER/acl1.xml</code>使用PL / SQL程序<code class="codeph">DBMS_XDB_REPOS.setACL</code> 。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-69858501-FCB3-4623-B79C-A2D2AAFA3B7A__CEGCCFDD">
                        <p class="titleinexample">示例27-6设置资源的ACL</p><pre class="pre codeblock"><code>DECLARE b BOOLEAN; BEGIN b：= DBMS_XDB_REPOS_REPOS.createResource（'/ TESTUSER / po1.xml'，'Hello'）;结束; / CALL DBMS_XDB_REPOS_REPOS.setACL（'/ TESTUSER / po1.xml'，'/ TESTUSER / acl1.xml'）;</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="repository-access-control.html#GUID-899B397A-45B6-4180-9DEF-EFF4A0C6170A" title="Oracle数据库访问控制列表（ACL）本身是Oracle XML DB Repository中的（文件）资源，因此对存储库资源进行操作的所有访问方法也适用于ACL。此外，PL / SQL包DBMS_XDB_REPOS中有几个特定于ACL的API。">使用访问控制列表（ACL）概述</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB5495"></a><a id="ADXDB5494"></a><div class="props_rev_3"><a id="GUID-116946C5-88A3-4D88-BCA5-CD6CAAC32E39" name="GUID-116946C5-88A3-4D88-BCA5-CD6CAAC32E39"></a><h4 id="ADXDB-GUID-116946C5-88A3-4D88-BCA5-CD6CAAC32E39" class="sect4"><span class="enumeration_section">27.5.4</span>删除ACL</h4>
                  <div>
                     <p>示例使用PL / SQL过程<code class="codeph">DBMS_XDB_REPOS.deleteResource</code>删除ACL。</p>
                     <div class="section">
                        <p><a href="repository-access-control.html#GUID-116946C5-88A3-4D88-BCA5-CD6CAAC32E39__CEGEGGBC">例27-7</a>删除了<a href="repository-access-control.html#GUID-DEC8D585-EDB6-4713-8218-5DE27268CDE6__CEGCAIHC">例27-4中</a>创建的ACL。
                        </p>
                        <p>如果资源受要删除的ACL保护，请在删除ACL之前更改该资源的ACL。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-116946C5-88A3-4D88-BCA5-CD6CAAC32E39__CEGEGGBC">
                        <p class="titleinexample">示例27-7删除ACL</p><pre class="pre codeblock"><code>CALL DBMS_XDB_REPOS_REPOS.deleteResource（'/ TESTUSER / acl1.xml'）;</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="repository-access-control.html#GUID-899B397A-45B6-4180-9DEF-EFF4A0C6170A" title="Oracle数据库访问控制列表（ACL）本身是Oracle XML DB Repository中的（文件）资源，因此对存储库资源进行操作的所有访问方法也适用于ACL。此外，PL / SQL包DBMS_XDB_REPOS中有几个特定于ACL的API。">使用访问控制列表（ACL）概述</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB5497"></a><a id="ADXDB5498"></a><a id="ADXDB5499"></a><a id="ADXDB5496"></a><div class="props_rev_3"><a id="GUID-0AA30F48-9EFF-46C9-8C46-3B8717DB7198" name="GUID-0AA30F48-9EFF-46C9-8C46-3B8717DB7198"></a><h4 id="ADXDB-GUID-0AA30F48-9EFF-46C9-8C46-3B8717DB7198" class="sect4"><span class="enumeration_section">27.5.5</span>更新ACL</h4>
                  <div>
                     <p>您可以使用任何更新资源的标准方法来更新ACL。特别是，由于ACL是XML文档，因此您可以使用Oracle SQL / XML函数<code class="codeph">XMLQuery</code>和XQuery Update来操作ACL。进行任何ACL更改后，您必须执行<code class="codeph">COMMIT</code> 。
                     </p>
                     <div class="section">
                        <p><span class="italic">缓存</span> Oracle XML DB ACL，以便快速评估。提交更新ACL的事务时，在Oracle XML DB配置文件<code class="codeph">xdbconfig.xml</code>指定的超时之后，现有数据库会话将获取已修改的ACL。此超时参数的XPath位置是<code class="codeph">/xdbconfig/sysconfig/acl-max-age</code> 。该值以秒表示。修改ACL后启动的会话使用新ACL，没有任何延迟。
                        </p>
                        <p>如果使用非ACL内容更新ACL资源，则应用与删除相同的规则。因此，如果任何资源受到正在更新的ACL的保护，则必须先更改ACL。</p>
                        <div class="infoboxnotealso" id="GUID-0AA30F48-9EFF-46C9-8C46-3B8717DB7198__GUID-ED982B0A-6180-4D10-BE7A-C2BF78F2D3E8">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="query-and-update-XML.html#GUID-6AE99020-C3C8-44EB-8E54-40188E1103F2" title="有几种方法可以使用Oracle XML DB功能更新XML数据，无论是瞬态还是存储在数据库表中。">更新XML数据</a>以获取有关此处用于更新XML数据的Oracle SQL函数的信息</p>
                        </div>
                        <p>您可以使用FTP或WebDAV更新ACL。有关如何使用这些协议的更多详细信息，请参阅<a href="repository-access-using-protocols.html#GUID-0476309D-E3DF-4C56-BF21-68CD04D00C98" title="您可以使用FTP和HTTP（S）/ WebDAV协议访问Oracle XML DB存储库数据。">使用协议的存储库访问</a> 。您可以使用<code class="codeph">RESOURCE_VIEW</code>更新ACL或访问控制条目（ACE）。</p>
                        <p><a href="repository-access-control.html#GUID-0AA30F48-9EFF-46C9-8C46-3B8717DB7198__BCGFICIA">例27-8</a>使用SQL / XML函数<code class="codeph">XMLQuery</code>和XQuery Update通过完全替换它来更新ACL <code class="codeph">/TESTUSER/acl1.xml</code> 。效果是用<code class="codeph">TESTUSER</code>替换主值<code class="codeph">DAV::owner</code> ，因为替换ACL的其余部分与之前相同。
                        </p>
                        <p><a href="repository-access-control.html#GUID-0AA30F48-9EFF-46C9-8C46-3B8717DB7198__BCGIGIDB">示例27-9</a>使用XQuery Update将ACE附加到现有ACL。 ACE为用户<code class="codeph">HR</code>提供权限<code class="codeph">read-properties</code>和<code class="codeph">read-contents</code> 。</p>
                        <p><a href="repository-access-control.html#GUID-0AA30F48-9EFF-46C9-8C46-3B8717DB7198__BCGGBIJH">例27-10</a>使用XQuery Update从ACL中删除ACE。第一个ACE被删除。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-0AA30F48-9EFF-46C9-8C46-3B8717DB7198__BCGFICIA">
                        <p class="titleinexample">示例27-8更新（替换）访问控制列表</p><pre class="oac_no_warn" dir="ltr">UPDATE RESOURCE_VIEW r SET r。RES = XMLQuery（'declare namespace r =“http://xmlns.oracle.com/xdb/XDBResource.xsd”;（：:) declare namespace a =“http://xmlns.oracle.com/xdb/acl。 xsd“;（：:) copy $ i：= $ p1 modify（for $ j in $ i / r：Resource / r：Contents / a：acl return $ node with $ p2）return $ i'PASSING r。RES AS“p1”，'&lt;acl description =“myacl”xmlns =“http://xmlns.oracle.com/xdb/acl.xsd”xmlns：dav =“DAV：”xmlns：xsi =“http：// www.w3.org/2001/XMLSchema-instance“xsi：schemaLocation =”http://xmlns.oracle.com/xdb/acl.xsd http://xmlns.oracle.com/xdb/acl.xsd“&gt; &lt; ace&gt; &lt;grant&gt; true &lt;/ grant&gt; &lt;principal&gt; <span class="bold">TESTUSER</span> &lt;/ principal&gt; &lt;privilege&gt; &lt;dav：all /&gt; &lt;/ privilege&gt; &lt;/ ace&gt; &lt;/ acl&gt;'AS“p2”RETURNING CONTENT）WHERE equals_path（河RES，'/ TESTUSER / acl1.xml'）= 1;</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-0AA30F48-9EFF-46C9-8C46-3B8717DB7198__BCGIGIDB">
                        <p class="titleinexample">示例27-9将ACE附加到访问控制列表</p><pre class="oac_no_warn" dir="ltr">UPDATE RESOURCE_VIEW r SET r。RES = XMLQuery（'declare namespace r =“http://xmlns.oracle.com/xdb/XDBResource.xsd”;（：:) declare namespace a =“http://xmlns.oracle.com/xdb/acl。 xsd“;（：:) copy $ i：= $ p1 modify（for $ j in $ i / r：Resource / r：Contents / a：acl return insert nodes $ p2 as last into $ j）return $ i'PASSING河RES AS“p1”，XMLType（'&lt;ace xmlns =“http://xmlns.oracle.com/xdb/acl.xsd”&gt; &lt;grant&gt; true &lt;/ grant&gt; &lt;principal&gt; <span class="bold">HR</span> &lt;/ principal&gt; &lt;privilege&gt; <span class="bold">&lt;read-properties /&gt;</span> <span class="bold">&lt;read-contents /&gt;</span> &lt;/ privilege&gt; &lt;/ ace&gt;'）as“p2”RETURNING CONTENT）WHERE equals_path（r。RES，'/ TESTUSER / acl1.xml'）= 1;</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-0AA30F48-9EFF-46C9-8C46-3B8717DB7198__BCGGBIJH">
                        <p class="titleinexample">示例27-10从访问控制列表中删除ACE</p><pre class="oac_no_warn" dir="ltr">UPDATE RESOURCE_VIEW r SET r。RES = XMLQuery（'declare namespace r =“http://xmlns.oracle.com/xdb/XDBResource.xsd”;（：:) declare namespace a =“http://xmlns.oracle.com/xdb/acl。 xsd“;（：:) copy $ i：= $ p modify delete nodes $ i / r：Resource / r：Contents / a：acl / a：ace [1] return $ i'PASSING r。RES为“p”返回内容）WHERE equals_path（r。RES，'/ TESTUSER / acl1.xml'）= 1;</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="repository-access-control.html#GUID-899B397A-45B6-4180-9DEF-EFF4A0C6170A" title="Oracle数据库访问控制列表（ACL）本身是Oracle XML DB Repository中的（文件）资源，因此对存储库资源进行操作的所有访问方法也适用于ACL。此外，PL / SQL包DBMS_XDB_REPOS中有几个特定于ACL的API。">使用访问控制列表（ACL）概述</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB5501"></a><a id="ADXDB5500"></a><div class="props_rev_3"><a id="GUID-4C24957E-DA31-42EA-B5EC-9159C9E892F9" name="GUID-4C24957E-DA31-42EA-B5EC-9159C9E892F9"></a><h4 id="ADXDB-GUID-4C24957E-DA31-42EA-B5EC-9159C9E892F9" class="sect4"><span class="enumeration_section">27.5.6</span>检索保护给定资源的ACL文档</h4>
                  <div>
                     <p>一个示例说明了如何使用PL / SQL函数<code class="codeph">DBMS_XDB_REPOS.getACLDocument</code>来检索保护给定资源的ACL文档。
                     </p>
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-4C24957E-DA31-42EA-B5EC-9159C9E892F9__GUID-4DC4995D-D731-4159-99C5-45DDD5605051">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="PLSQL-access-to-XML-DB-repository.html#GUID-9560B205-943B-4159-9734-44B9B74F2ACE__I1028509">例26-2</a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-4C24957E-DA31-42EA-B5EC-9159C9E892F9__GUID-DB37D970-1493-4391-B969-51EF2C07AC07">
                        <p class="titleinexample">示例27-11检索资源的ACL文档</p><pre class="pre codeblock"><code>SELECT XMLSerialize（DOCUMENT DBMS_XDB_REPOS.getACLDocument（'/ <span class="bold">TESTUSER/po1.xml</span> '）AS CLOB）FROM DUAL; XMLSERIALIZE（DOCUMENTDBMS_XDB_REPOS.GETACLDOCUMENT（'/ TESTUSER / P 01。XML'）ASCLOB）--------------------------------------------- ----------------------------------- &lt;acl description =“myacl”xmlns =“http：// xmlns .oracle.com / xdb / acl.xsd“xmlns：dav =”DAV：“xmlns：xsi =”http://www.w3.org/2001/XMLSchema-instance“xsi：schemaLocation =”http：// xmlns .oracle.com / xdb / acl.xsd http：// x mlns.oracle.com/xdb/acl.xsd“&gt; &lt;ace&gt; &lt;grant&gt; true &lt;/ grant&gt; &lt;principal&gt; TESTUSER &lt;/ principal&gt; &lt;privilege&gt; &lt;dav：all /&gt; &lt;/ privilege&gt; &lt;/ ace&gt; &lt;ace xmlns =“http://xmlns.oracle.com/xdb/acl.xsd”&gt; &lt;grant&gt; true &lt;/ grant&gt; &lt;principal&gt; HR &lt;/ principal&gt; &lt;privilege&gt; &lt;read-properties /&gt; &lt;read-contents /&gt; &lt;/ privilege&gt; &lt;/ ace&gt; &lt;/ acl&gt;选择了1行。</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="repository-access-control.html#GUID-899B397A-45B6-4180-9DEF-EFF4A0C6170A" title="Oracle数据库访问控制列表（ACL）本身是Oracle XML DB Repository中的（文件）资源，因此对存储库资源进行操作的所有访问方法也适用于ACL。此外，PL / SQL包DBMS_XDB_REPOS中有几个特定于ACL的API。">使用访问控制列表（ACL）概述</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB5503"></a><a id="ADXDB5502"></a><div class="props_rev_3"><a id="GUID-49A1AE46-87C9-40FA-ACBB-7D70B0A91D13" name="GUID-49A1AE46-87C9-40FA-ACBB-7D70B0A91D13"></a><h4 id="ADXDB-GUID-49A1AE46-87C9-40FA-ACBB-7D70B0A91D13" class="sect4"><span class="enumeration_section">27.5.7</span>检索特定资源的当前用户授予的权限</h4>
                  <div>
                     <p>一个示例说明了如何使用PL / SQL函数<code class="codeph">DBMS_XDB_REPOS.getPrivileges</code>来检索授予当前用户的权限。
                     </p>
                     <div class="section"></div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-49A1AE46-87C9-40FA-ACBB-7D70B0A91D13__BABDDAHF">
                        <p class="titleinexample">示例27-12检索授予特定资源的当前用户的权限</p><pre class="pre codeblock"><code>SELECT XMLSerialize（DOCUMENT DBMS_XDB_REPOS.getPrivileges（'/ TESTUSER / po1.xml'）AS CLOB）FROM DUAL; XMLSERIALIZE（DOCUMENTDBMS_XDB_REPOS.GETPRIVILEGES（'/ TESTUSER / P 01。XML'）ASCLOB）--------------------------------------------- ----------------------------------- &lt;privilege xmlns =“http://xmlns.oracle.com/ xdb / acl.xsd“xmlns：xsi =”http：//www.w3.org / 2001 / XMLSchema-instance“xsi：schemaLocation =”http://xmlns.oracle.com/xdb/acl .xsd http：/ /xmlns.oracle.com/xdb/acl.xsd DAV：http：//xmlns.oracle.com/xdb/dav.xs d“xmlns：xdbacl =”http://xmlns.oracle.com/xdb/acl。 xsd“xmlns：dav =”DAV：“&gt; &lt;read-acl /&gt; &lt;dav：execute /&gt; &lt;read-contents /&gt; &lt;update-acl /&gt; &lt;dav：write-content /&gt; &lt;dav：read-current- user-privilege-set /&gt; &lt;link-to /&gt; &lt;resolve /&gt; &lt;dav：lock /&gt; &lt;unlink-from /&gt; &lt;write-config /&gt; &lt;dav：write-properties /&gt; &lt;dav：unlock /&gt; &lt; link /&gt; &lt;write-acl-ref /&gt; &lt;read-properties /&gt; &lt;dav：take-ownership /&gt; &lt;unlink /&gt; &lt;/ privilege&gt;选择1行。</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="repository-access-control.html#GUID-899B397A-45B6-4180-9DEF-EFF4A0C6170A" title="Oracle数据库访问控制列表（ACL）本身是Oracle XML DB Repository中的（文件）资源，因此对存储库资源进行操作的所有访问方法也适用于ACL。此外，PL / SQL包DBMS_XDB_REPOS中有几个特定于ACL的API。">使用访问控制列表（ACL）概述</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB5505"></a><a id="ADXDB5504"></a><div class="props_rev_3"><a id="GUID-FC2A630F-A65E-4814-8A9F-36D39EE4D744" name="GUID-FC2A630F-A65E-4814-8A9F-36D39EE4D744"></a><h4 id="ADXDB-GUID-FC2A630F-A65E-4814-8A9F-36D39EE4D744" class="sect4"><span class="enumeration_section">27.5.8</span>检查当前用户是否拥有资源权限</h4>
                  <div>
                     <p>一个示例说明了如何使用PL / SQL函数<code class="codeph">DBMS_XDB_REPOS.checkPrivileges</code>来检查当前用户是否具有资源的给定权限集。如果用户具有权限，则该函数返回非零值。
                     </p>
                     <div class="section">
                        <p><a href="repository-access-control.html#GUID-FC2A630F-A65E-4814-8A9F-36D39EE4D744__CEGBGBFB">例27-13</a>检查是否已将资源<code class="codeph">/TESTUSER/po1.xml</code>上的访问权限<code class="codeph">read-contents</code>和<code class="codeph">read-properties</code>授予当前用户。正整数返回值表明它们具有。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-FC2A630F-A65E-4814-8A9F-36D39EE4D744__CEGBGBFB">
                        <p class="titleinexample">示例27-13检查用户是否在资源上具有某些权限</p><pre class="pre codeblock"><code>SELECT DBMS_XDB_REPOS.checkPrivileges（</code></pre><pre class="pre codeblock"><code>' <span class="bold">/TESTUSER/po1.xml'，XMLType（'&lt;privilege</span> xmlns =“http://xmlns.oracle.com/xdb/acl.xsd”xmlns：dav =“DAV：”xmlns：xsi =“http：// www.w3.org/2001/XMLSchema-instance“xsi：schemaLocation =”http://xmlns.oracle.com/xdb/acl.xsd http://xmlns.oracle.com/xdb/acl.xsd“&gt; <span class="bold">&lt; read-contents /&gt;</span> <span class="bold">&lt;read-properties /&gt;</span> &lt;/ privilege&gt;'））FROM DUAL; DBMS_XDB_REPOS.CHECKPRIVILEGES（'/ TESTUSER / P 01。XML'，----------------------------------------------- ---- <span class="bold">1</span> 1行选中。
</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="repository-access-control.html#GUID-899B397A-45B6-4180-9DEF-EFF4A0C6170A" title="Oracle数据库访问控制列表（ACL）本身是Oracle XML DB Repository中的（文件）资源，因此对存储库资源进行操作的所有访问方法也适用于ACL。此外，PL / SQL包DBMS_XDB_REPOS中有几个特定于ACL的API。">使用访问控制列表（ACL）概述</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB5507"></a><a id="ADXDB5506"></a><div class="props_rev_3"><a id="GUID-C6CB85B8-935D-436B-906B-F1ED3598B421" name="GUID-C6CB85B8-935D-436B-906B-F1ED3598B421"></a><h4 id="ADXDB-GUID-C6CB85B8-935D-436B-906B-F1ED3598B421" class="sect4"><span class="enumeration_section">27.5.9</span>使用ACL和资源所有者检查用户是否具有权限</h4>
                  <div>
                     <p>功能<code class="codeph">DBMS_XDB_REPOS.ACLCheckPrivileges</code>通常由允许用户执行操作之前必须自行执行ACL评估的应用程序使用。
                     </p>
                     <div class="section">
                        <p><a href="repository-access-control.html#GUID-C6CB85B8-935D-436B-906B-F1ED3598B421__BCGIACEI">例27-14</a>检查ACL <code class="codeph">/TESTUSER/acl1.xml</code>是否向当前用户<code class="codeph">sh</code>授予权限<code class="codeph">read-contents</code>和<code class="codeph">read-properties</code> 。第二个参数<code class="codeph">TESTUSER</code>是用户在检查时替换ACL中的<code class="codeph">DAV::owner</code> 。由于用户<code class="codeph">sh</code>与授予指定权限的任何用户<span class="italic">都不</span>匹配，因此返回值为零。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-C6CB85B8-935D-436B-906B-F1ED3598B421__BCGIACEI">
                        <p class="titleinexample">示例27-14使用ACLCheckPrivileges检查用户权限</p><pre class="pre codeblock"><code>CONNECT <span class="bold">sh</span>输入密码： <span class="italic">&lt;密码&gt;</span>已连接。SELECT DBMS_XDB_REPOS.ACLCheckPrivileges（'/ <span class="bold">TESTUSER/acl1.xml</span> '，' <span class="bold">TESTUSER</span> '，XMLType（'&lt;privilege xmlns =“http://xmlns.oracle.com/xdb/acl.xsd”xmlns：dav =“DAV：” xmlns：xsi =“http://www.w3.org/2001/XMLSchema-instance”xsi：schemaLocation =“http://xmlns.oracle.com/xdb/acl.xsd http://xmlns.oracle.com /xdb/acl.xsd“&gt; <span class="bold">&lt;read-contents /&gt;</span> <span class="bold">&lt;read-properties /&gt;</span> &lt;/ privilege&gt;'））FROM DUAL; DBMS_XDB_REPOS.ACLCHECKPRIVILEGES（'/ TESTUSER / ACL1。XML'，'TESTUSER'，------------------------------------------- ----------------------- <span class="bold">0</span>选择1行。</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="repository-access-control.html#GUID-899B397A-45B6-4180-9DEF-EFF4A0C6170A" title="Oracle数据库访问控制列表（ACL）本身是Oracle XML DB Repository中的（文件）资源，因此对存储库资源进行操作的所有访问方法也适用于ACL。此外，PL / SQL包DBMS_XDB_REPOS中有几个特定于ACL的API。">使用访问控制列表（ACL）概述</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB5509"></a><a id="ADXDB5508"></a><div class="props_rev_3"><a id="GUID-14D106C4-04A4-42DA-9168-7937B0DC0976" name="GUID-14D106C4-04A4-42DA-9168-7937B0DC0976"></a><h4 id="ADXDB-GUID-14D106C4-04A4-42DA-9168-7937B0DC0976" class="sect4"><span class="enumeration_section">27.5.10</span>检索保护给定资源的ACL路径</h4>
                  <div>
                     <p>示例使用<code class="codeph">RESOURCE_VIEW</code>查询来检索保护给定资源的ACL的路径。该查询使用以下事实：资源的<code class="codeph">XMLRef</code>和<code class="codeph">ACLOID</code>元素构成ACL和资源之间的链接。
                     </p>
                     <div class="section">
                        <p>在给定受ACL保护的资源的情况下， <a href="repository-access-control.html#GUID-14D106C4-04A4-42DA-9168-7937B0DC0976__CEGJJGII">示例27-15</a>检索ACL的路径。受保护资源（ <code class="codeph">r</code> ）的<code class="codeph">ACLOID</code>存储保护它的ACL资源（ <code class="codeph">a</code> ）的OID。ACL资源的<code class="codeph">REF</code>与受保护资源<code class="codeph">ACLOID</code>标识的对象的<code class="codeph">REF</code>相同。</p>
                        <p>可以使用Oracle SQL函数<code class="codeph">make_ref</code>获取资源<code class="codeph">ACLOID</code>的<code class="codeph">REF</code> ，该函数将<code class="codeph">REF</code>返回给具有给定OID的对象表行。</p>
                        <p>在<a href="repository-access-control.html#GUID-14D106C4-04A4-42DA-9168-7937B0DC0976__CEGJJGII">例27-15中</a> ， <code class="codeph">make_ref</code>将<code class="codeph">REF</code>返回到表<code class="codeph">XDB$ACL</code>的行，其OID是<code class="codeph">/Resource/ACLOID</code>的<code class="codeph">/Resource/ACLOID</code> <code class="codeph">/TESTUSER/po1.xml</code> 。内部查询返回资源的<code class="codeph">ACLOID</code> 。外部查询返回相应ACL的路径。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-14D106C4-04A4-42DA-9168-7937B0DC0976__CEGJJGII">
                        <p class="titleinexample">示例27-15检索保护给定资源的ACL的路径</p><pre class="pre codeblock"><code>SELECT rv1。来自RESOURCE_VIEW的ANY_PATH rv1 WHERE XMLCast（XMLQuery（'declare default element namespace“http://xmlns.oracle.com/xdb/XDBResource.xsd”;（：:) fn：data（/ Resource / XMLRef）'PASSING rv1。RES RETURNING CONTENT）AS REF XMLType）= make_ref（XDB.XDB $ ACL，（SELECT XMLCast（XMLQuery（'declare default element namespace“http://xmlns.oracle.com/xdb/XDBResource.xsd”;（：:) fn：data（/ Resource / ACLOID）'PASSING rv2。RES RETURNING CONTENT）AS REF XMLType）FROM RESOURCE_VIEW rv2 WHERE equals_path（rv2。RES，'/ TESTUSER / po1.xml'）= 1））; ANY_PATH ------------------ /TESTUSER/acl1.xml</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="repository-access-control.html#GUID-899B397A-45B6-4180-9DEF-EFF4A0C6170A" title="Oracle数据库访问控制列表（ACL）本身是Oracle XML DB Repository中的（文件）资源，因此对存储库资源进行操作的所有访问方法也适用于ACL。此外，PL / SQL包DBMS_XDB_REPOS中有几个特定于ACL的API。">使用访问控制列表（ACL）概述</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB5511"></a><a id="ADXDB5510"></a><div class="props_rev_3"><a id="GUID-4C8DD9FF-D656-400E-883C-9F0E42CE55A4" name="GUID-4C8DD9FF-D656-400E-883C-9F0E42CE55A4"></a><h4 id="ADXDB-GUID-4C8DD9FF-D656-400E-883C-9F0E42CE55A4" class="sect4"><span class="enumeration_section">27.5.11</span>检索由给定ACL保护的所有资源的路径</h4>
                  <div>
                     <p>示例检索受给定ACL保护的所有资源的路径。</p>
                     <div class="section">
                        <p><a href="repository-access-control.html#GUID-4C8DD9FF-D656-400E-883C-9F0E42CE55A4__CEGFHAFJ">实施例27-16</a>中检索路径，其资源<code class="codeph">ACLOID</code> <code class="codeph">REF</code>的匹配<code class="codeph">REF</code>的ACL资源的路径是的<code class="codeph">/TESTUSER/acl1.xml</code> 。函数<code class="codeph">make_ref</code>返回资源<code class="codeph">ACLOID</code> <code class="codeph">REF</code> 。</p>
                        <p>内部查询检索指定ACL的<code class="codeph">REF</code> 。外部查询选择其资源的路径<code class="codeph">ACLOID</code> <code class="codeph">REF</code>的匹配<code class="codeph">REF</code>指定的ACL的。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-4C8DD9FF-D656-400E-883C-9F0E42CE55A4__CEGFHAFJ">
                        <p class="titleinexample">示例27-16检索由给定ACL保护的所有资源的路径</p><pre class="pre codeblock"><code>SELECT rv1。来自RESOURCE_VIEW的ANY_PATH rv1 WHERE make_ref（XDB.XDB $ ACL，XMLCast（XMLQuery（'declare default element namespace“http://xmlns.oracle.com/xdb/XDBResource.xsd”;（：:) fn：data（/ Resource / ACLOID）'通过rv1。RES RETURNING CONTENT）AS REF XMLType））=（SELECT XMLCast（XMLQuery（'declare default element namespace“http://xmlns.oracle.com/xdb/XDBResource.xsd”;（：:) fn：data（/ Resource / XMLRef）'PASSING rv2。RES RETURNING CONTENT）AS REF XMLType）FROM RESOURCE_VIEW rv2 WHERE equals_path（rv2。RES，'/ TESTUSER / acl1.xml'）= 1）; ANY_PATH ----------------- /TESTUSER/po1.xml选中1行。
</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="repository-access-control.html#GUID-899B397A-45B6-4180-9DEF-EFF4A0C6170A" title="Oracle数据库访问控制列表（ACL）本身是Oracle XML DB Repository中的（文件）资源，因此对存储库资源进行操作的所有访问方法也适用于ACL。此外，PL / SQL包DBMS_XDB_REPOS中有几个特定于ACL的API。">使用访问控制列表（ACL）概述</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADXDB5516"></a><div class="props_rev_3"><a id="GUID-A7903BE5-C081-40A9-B778-99289AB08E84" name="GUID-A7903BE5-C081-40A9-B778-99289AB08E84"></a><h3 id="ADXDB-GUID-A7903BE5-C081-40A9-B778-99289AB08E84" class="sect3"><span class="enumeration_section">27.6</span> ACL缓存</h3>
               <div>
                  <p>由于ACL会检查每次访问它们保护的数据，因此ACL检查操作的性能对此类数据（包括Oracle XML DB存储库资源）的性能至关重要。在Oracle XML DB中，通过使用多个缓存来实现此存储库操作所需的性能。</p>
                  <p>ACL保存在数据库实例中所有会话共享的缓存中。更新ACL时，其在缓存中的条目以及依赖于它的所有对象都将失效。下次使用ACL时，会将其新副本带入缓存。Oracle建议您尽可能在资源之间共享ACL。</p>
                  <p>给定ACL授予给定用户特权的会话特定缓存。此高速缓存中的条目具有由Oracle XML DB配置文件（ <code class="codeph">xdbconfig.xml</code> ）中的元素<code class="codeph">&lt;acl-max-age&gt;</code>指定的超时（以秒为单位）。为获得最佳性能，请将此超时设置为尽可能大。但这里有一个权衡：超时越大，当前会话获取更新的ACL所需的时间越长。</p>
                  <p>在使用具有LDAP主体（LDAP组或用户）的ACL时，Oracle XML DB还维护缓存以提高性能。这些缓存的目标是最小化与LDAP服务器的网络通信。一个是共享缓存，它将LDAP GUID映射到相应的LDAP昵称和专有名称（DN）。在显示ACL文档（或从<code class="codeph">XMLType</code>实例转换为<code class="codeph">CLOB</code>或<code class="codeph">VARCHAR</code> 2值）时使用此方法。要清除此缓存，请使用过程<code class="codeph">DBMS_XDBZ.purgeLDAPCache</code> 。另一个缓存是特定于会话的，并将LDAP组映射到其成员（嵌套成员资格）。每当Oracle XML DB第一次遇到LDAP组时（在会话中），它就会从LDAP服务器获取该组的嵌套成员资格。因此，最好使用尽可能少的成员和嵌套级别的组。
                  </p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="repository-access-control.html#GUID-CD4A712D-CCA2-4A19-909E-AEC57849A55A" title="Oracle数据库提供经典的数据库安全性，例如数据库用户的行级和列级安全访问。它还为Oracle XML DB Repository中的资源提供了细粒度的访问控制。您可以创建，设置和修改访问控制列表（ACL）。">存储库访问控制</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADXDB5517"></a><div class="props_rev_3"><a id="GUID-604D4E88-5309-4903-8224-B9DB850E4566" name="GUID-604D4E88-5309-4903-8224-B9DB850E4566"></a><h3 id="ADXDB-GUID-604D4E88-5309-4903-8224-B9DB850E4566" class="sect3"><span class="enumeration_section">27.7</span>存储库资源和数据库表安全性</h3>
               <div>
                  <p>通过在用于存储它们的表上启用层次结构，提供了用于访问基于<code class="codeph">REF</code>的存储库资源的统一安全机制。当特定资源不需要基于ACL的安全性时，可以通过使用PL / SQL过程<code class="codeph">DBMS_XDBZ.disable_hierarchy</code>来关闭ACL检查来优化其访问。
                  </p>
                  <p>Oracle XML DB Repository中的资源有两种类型：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>基于LOB（内容存储在作为资源一部分的LOB中）。访问权限仅由保护资源的ACL确定。</p>
                     </li>
                     <li>
                        <p>基于<code class="codeph">REF</code> （内容是XML数据并存储在数据库表中）。除了资源的ACL权限之外，用户还必须具有存储XML内容的基础表或视图的相应权限。
                        </p>
                     </li>
                  </ul>
                  <p>由于基于<code class="codeph">REF</code>的资源的内容可以存储在表中，因此可以使用表上的SQL查询直接访问此数据。<strong class="term">统一</strong>访问控制机制是访问所需的权限独立于访问方法（例如，FTP，HTTP或SQL）的机制。要使用ACL提供统一的安全机制，在引用表中的行的资源插入Oracle XML DB之前，必须先使基础表<strong class="term">启用层次结构</strong> 。</p>
                  <p>XML架构注册生成的默认表是启用层次结构的。使用Oracle XML DB注册XML架构时，启用层次结构是默认行为。您还可以使用过程<code class="codeph">DBMS_XDBZ.enable_hierarchy</code>在注册后启用层次结构。
                  </p>
                  <p>在资源表上启用层次结构执行以下操作：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>添加两个隐藏列以存储<code class="codeph">ACLOID</code>和引用表中行的资源的<code class="codeph">OWNER</code> 。
                        </p>
                     </li>
                     <li>
                        <p>向表中添加行级安全性（RLS）策略，每当对表执行<code class="codeph">SELECT</code> ， <code class="codeph">UPDATE</code>或<code class="codeph">DELETE</code>操作时，该策略都会检查ACL。
                        </p>
                     </li>
                     <li>
                        <p>创建一个名为<strong class="term">path-index trigger</strong>的数据库触发器，该<strong class="term">触发器</strong>确保每当在存储内容的<code class="codeph">XMLType</code>表中更新相应的行时，都会更新资源的最后修改信息。
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-604D4E88-5309-4903-8224-B9DB850E4566__GUID-B11333D8-6947-43B3-9393-605F391CA549">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>有关过程<code class="codeph">DBMS_XMLSCHEMA.registerSchema</code>信息<a href="../arpls/DBMS_XMLSCHEMA.html#ARPLS377" target="_blank"><span><cite>，请参见Oracle Database PL / SQL包和类型参考</cite></span></a></p>
                        </li>
                        <li>
                           <p>有关过程<code class="codeph">DBMS_XDBZ.enable_hierarchy</code>信息<a href="../arpls/DBMS_XDBZ.html#ARPLS805" target="_blank"><span><cite>，请参见Oracle Database PL / SQL包和类型参考</cite></span></a></p>
                        </li>
                     </ul>
                  </div>
                  <p>在任何给定的表中，可能只有一些对象映射到Oracle XML DB资源。只有那些映射的对象才会进行ACL检查，但<span class="italic">所有</span>对象都具有表级安全性。
                  </p>
                  <div class="infoboxnote" id="GUID-604D4E88-5309-4903-8224-B9DB850E4566__GUID-5EE69CD2-E37E-49EC-883B-1CB4FB32EAE7">
                     <p class="notep1">注意：</p>
                     <p>如果使用<span class="italic">了外部</span>存储，则无法将<code class="codeph">XMLType</code>表中的数据与其他用户隐藏。ACL安全性<span class="italic">不</span>保护外部数据。
                     </p>
                  </div>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="repository-access-control.html#GUID-F5935ADF-4BE3-402C-8CB7-742FF7781EC7">优化：如果您不需要，请不要强制执行基于ACL的安全性</a><br>基于ACL的安全性可以逐个文档地控制对XML内容的访问，而不仅仅是逐个表。当您调用PL / SQL过程<code class="codeph">DBMS_XMLSCHEMA.register_chema</code> ，默认情况下，它创建的表启用了基于ACL的安全性。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="repository-access-control.html#GUID-CD4A712D-CCA2-4A19-909E-AEC57849A55A" title="Oracle数据库提供经典的数据库安全性，例如数据库用户的行级和列级安全访问。它还为Oracle XML DB Repository中的资源提供了细粒度的访问控制。您可以创建，设置和修改访问控制列表（ACL）。">存储库访问控制</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADXDB5928"></a><div class="props_rev_3"><a id="GUID-F5935ADF-4BE3-402C-8CB7-742FF7781EC7" name="GUID-F5935ADF-4BE3-402C-8CB7-742FF7781EC7"></a><h4 id="ADXDB-GUID-F5935ADF-4BE3-402C-8CB7-742FF7781EC7" class="sect4"><span class="enumeration_section">27.7.1</span>优化：如果不需要，请不要强制执行基于ACL的安全性</h4>
                  <div>
                     <p>基于ACL的安全性可以逐个文档地控制对XML内容的访问，而不仅仅是逐个表。当您调用PL / SQL过程<code class="codeph">DBMS_XMLSCHEMA.register_chema</code> ，默认情况下，它创建的表启用了基于ACL的安全性。
                     </p>
                     <p>这样做的一个结果是，当使用SQL语句访问此类表的XML内容时，会自动<code class="codeph">sys_checkACL</code>的调用添加到查询<code class="codeph">WHERE</code>子句中，以确保在SQL级别强制执行已定义的ACL安全性。
                     </p>
                     <p>但是，强制执行基于ACL的安全性会增加SQL查询的开销。如果<span class="italic">不需要</span>基于ACL的安全性，然后用程序<code class="codeph">DBMS_XDBZ.disable_hierarchy</code> <span class="italic">关闭</span> ACL检查。
                     </p>
                     <p>为<code class="codeph">XMLType</code>表启用基于ACL的安全性时，该表的查询的执行计划输出包含类似于以下内容的过滤器：</p><pre class="oac_no_warn" dir="ltr">3  - 过滤器（ <span class="bold">SYS_CHECKACL</span> （“ACLOID”，“OWNERID”，xmltype（''&lt;privilege xmlns =“http://xmlns.oracle.com/xdb/acl.xsd”xmlns：xsi =“http：// www。 w3.org/2001/XMLSchema-instance“xsi：schemaLocation =”http://xmlns.oracle.com/xdb/acl.xsd http://xmlns.oracle.com/xdb/acl.xsd DAV：http：/ /xmlns.oracle.com/xdb/dav.xsd“&gt; <span class="bold">&lt;read-properties /&gt; &lt;read-contents /&gt;</span> &lt;/ privilege&gt;''））= 1）</pre><p>在此示例中，筛选器检查执行SQL查询的用户是否对要访问的每个文档具有<code class="codeph">read-contents</code>特权。
                     </p>
                     <p>调用<code class="codeph">DBMS_XDBZ.disable_hierarchy</code> ，同一查询的执行计划不会在过滤器中显示<code class="codeph">SYS_CHECKACL</code> 。
                     </p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-F5935ADF-4BE3-402C-8CB7-742FF7781EC7__GUID-E0E253BD-F766-48DC-90F5-A1A3167FED7C">
                        <p class="notep1">也可以看看：</p>
                        <p>有关过程<code class="codeph">DBMS_XDBZ.disable_hierarchy</code>信息<a href="../arpls/DBMS_XDBZ.html#ARPLS805" target="_blank"><span><cite>，请参见Oracle Database PL / SQL包和类型参考</cite></span></a></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="repository-access-control.html#GUID-604D4E88-5309-4903-8224-B9DB850E4566" title="通过在用于存储它们的表上启用层次结构，提供了用于访问基于REF的存储库资源的统一安全机制。当特定资源不需要基于ACL的安全性时，可以通过使用PL / SQL过程DBMS_XDBZ.disable_hierarchy来关闭ACL检查来优化其访问。">存储库资源和数据库表安全性</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADXDB5518"></a><a id="ADXDB5519"></a><a id="ADXDB2470"></a><div class="props_rev_3"><a id="GUID-3E0217D9-1A93-49E8-AF39-04DD770C225D" name="GUID-3E0217D9-1A93-49E8-AF39-04DD770C225D"></a><h3 id="ADXDB-GUID-3E0217D9-1A93-49E8-AF39-04DD770C225D" class="sect3"><span class="enumeration_section">27.8</span> Oracle XML DB与LDAP的集成</h3>
               <div>
                  <p>您可以允许轻量级目录访问协议（LDAP）用户使用Oracle XML DB的功能，包括ACL。</p>
                  <p>典型方案是单个共享数据库模式（用户），多个LDAP用户映射到该模式。此映射在Oracle Internet Directory中维护。最终用户可以使用LDAP用户名和密码登录数据库。然后，它们会自动映射到相应的共享数据库架构。（用户可以使用SQL或任何受支持的Oracle XML DB协议登录。）隐式ACL解析基于当前LDAP用户和相应的LDAP组成员身份信息。</p>
                  <p>在将Oracle用户和组（也称为LDAP角色）用作Oracle XML DB ACL中的主体之前，必须满足以下先决条件：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>必须设置Oracle Internet Directory，并且必须向其注册数据库。</p>
                     </li>
                     <li>
                        <p>必须在数据库和Oracle Internet Directory之间设置SSL身份验证。</p>
                     </li>
                     <li>
                        <p>必须创建与共享数据库模式对应的数据库用户。</p>
                     </li>
                     <li>
                        <p>必须在Oracle Internet Directory中创建LDAP用户并将其映射到共享数据库模式。</p>
                     </li>
                     <li>
                        <p>必须创建LDAP组并且必须指定其成员。</p>
                     </li>
                     <li>
                        <p>必须为LDAP组和用户定义ACL，并且必须使用它们来保护LDAP用户可以访问的存储库资源。</p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-3E0217D9-1A93-49E8-AF39-04DD770C225D__GUID-205B2677-E7E7-459A-845A-8A0CA5C4F09D">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>有关设置SSL身份验证的信息，请<a href="../dbseg/configuring-secure-sockets-layer-authentication.html#DBSEG070" target="_blank"><span><cite>参见“Oracle数据库安</cite></span></a></p>
                        </li>
                        <li>
                           <p><a href="../dbimi/introducing-enterprise-user-security.html#DBIMI151" target="_blank"><span><cite>“Oracle数据库企业用户安全性管理员指南”</cite></span></a> ，了解有关为企业（LDAP）用户使用共享数据库模式的信息</p>
                        </li>
                     </ul>
                  </div>
                  <p><a href="repository-access-control.html#GUID-3E0217D9-1A93-49E8-AF39-04DD770C225D__BCGJADII">例27-17</a>显示了LDAP用户的ACL。元素<code class="codeph">&lt;principal&gt;</code>包含LDAP用户的完整<span class="italic">可分辨名称</span> - 在本例中， <code class="codeph">cn=user1,ou=Americas,o=oracle,l=redwoodshores,st=CA,c=US</code> 。</p>
                  <p><a href="repository-access-control.html#GUID-3E0217D9-1A93-49E8-AF39-04DD770C225D__BCGGJAGE">例27-18</a>显示了LDAP组的ACL。Element <code class="codeph">&lt;principal&gt;</code>包含LDAP组的完整可分辨名称。
                  </p>
                  <div class="example" id="GUID-3E0217D9-1A93-49E8-AF39-04DD770C225D__BCGJADII">
                     <p class="titleinexample">示例27-17引用LDAP用户的ACL</p><pre class="pre codeblock"><code>&lt;acl description =“/ public / txmlacl1 / acl1.xml”xmlns =“http://xmlns.oracle.com/xdb/acl.xsd”xmlns：dav =“DAV：”xmlns：xsi =“http：// www.w3.org/2001/XMLSchema-instance“xsi：schemaLocation =”http://xmlns.oracle.com/xdb/acl.xsd http://xmlns.oracle.com/xdb/acl.xsd“&gt; &lt; ace principalFormat =“DistinguishedName”&gt; &lt;grant&gt; true &lt;/ grant&gt; &lt;principal&gt; <span class="bold">cn = user1，ou = Americas，o = oracle，l = redwoodshores，st = CA，c = US</span> &lt;/ principal&gt; &lt;privilege&gt; &lt;dav ：all /&gt; &lt;/ privilege&gt; &lt;/ ace&gt; &lt;/ acl&gt;</code></pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-3E0217D9-1A93-49E8-AF39-04DD770C225D__BCGGJAGE">
                     <p class="titleinexample">示例27-18引用LDAP组的ACL</p><pre class="pre codeblock"><code>&lt;acl xmlns =“http://xmlns.oracle.com/xdb/acl.xsd”xmlns：dav =“DAV：”xmlns：xsi =“http://www.w3.org/2001/XMLSchema-instance” xsi：schemaLocation =“http://xmlns.oracle.com/xdb/acl.xsd http://xmlns.oracle.com/xdb/acl.xsd”&gt; &lt;ace principalFormat =“DistinguishedName”&gt; &lt;grant&gt; true &lt; / grant&gt; &lt;principal&gt; <span class="bold">cn = grp1，ou = Americas，o = oracle，l = redwoodshores，st = CA，c = US</span> &lt;/ principal&gt; &lt;privilege&gt; &lt;dav：read /&gt; &lt;/ privilege&gt; &lt;/ ace&gt; &lt;/ ACL&gt;</code></pre></div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="repository-access-control.html#GUID-CD4A712D-CCA2-4A19-909E-AEC57849A55A" title="Oracle数据库提供经典的数据库安全性，例如数据库用户的行级和列级安全访问。它还为Oracle XML DB Repository中的资源提供了细粒度的访问控制。您可以创建，设置和修改访问控制列表（ACL）。">存储库访问控制</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <hr><br><p style="text-decoration:underline">脚注图例</p>脚注1：<p>注意冒号（ <code class="codeph">:</code> ）作为命名空间名称的一部分。<code class="codeph">DAV:</code>是名称空间本身， <span class="italic">而不是</span>前缀。通常用于名称空间<code class="codeph">DAV:</code>前缀是<code class="codeph">dav</code> ，但这只是常规的。 <code class="codeph">dav</code>不是Oracle XML DB的预定义前缀。</p><br></div>
      </article>
   </body>
</html>