<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>关于ASMCMD</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Administrator&#39;s Guide"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Administrator&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="automatic-storage-management-administrators-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-04-23T18:56:15-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2007, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96198-03"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="manage-asm-asmcmd.html" title="Previous" type="text/html"></link>
      <link rel="next" href="asmcmd-instance-commands.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Automatic Storage Management Administrator&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="OSTMG"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="manage-asm-asmcmd.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="asmcmd-instance-commands.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">管理员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="part-instance-diskgroup.html" property="item" typeof="WebPage"><span property="name">Oracle ASM实例和磁盘组</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="manage-asm-asmcmd.html" property="item" typeof="WebPage"><span property="name">使用ASMCMD管理Oracle ASM</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">关于ASMCMD</li>
            </ol>
            <a id="GUID-995198B7-9235-4FCF-988E-A48B3B62B405" name="GUID-995198B7-9235-4FCF-988E-A48B3B62B405"></a><a id="OSTMG01610"></a>
            
            <h2 id="OSTMG-GUID-995198B7-9235-4FCF-988E-A48B3B62B405" class="sect2">关于ASMCMD</h2>
         </header>
         <div class="ind">
            <div>
               <p>ASMCMD是一个命令行实用程序，可用于管理Oracle ASM实例，磁盘组，磁盘组的文件访问控制，磁盘组中的文件和目录，磁盘组的模板和卷。</p>
               <p>您可以以交互模式或非交互模式运行ASMCMD实用程序。</p>
               <p>本节包含以下主题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="about-asmcmd.html#GUID-65775DDE-611D-4C59-9696-BB91DB83B367">ASMCMD命令的类型</a></p>
                  </li>
                  <li>
                     <p><a href="about-asmcmd.html#GUID-3BAC54F3-4CAF-408C-AB5F-91D50017EB89">关于Oracle ASM文件，文件名，目录和别名</a></p>
                  </li>
                  <li>
                     <p><a href="about-asmcmd.html#GUID-38CEBBA2-7597-4CD3-88CF-C6F60F0F436D" title="在运行ASMCMD实用程序之前，您应该查看本主题中的信息。">准备运行ASMCMD</a></p>
                  </li>
                  <li>
                     <p><a href="about-asmcmd.html#GUID-EB56C22F-67BB-4F2A-B83A-5DA73775C36D">在交互模式下运行ASMCMD</a></p>
                  </li>
                  <li>
                     <p><a href="about-asmcmd.html#GUID-6C6CA705-01A8-461E-B23E-E3CE3AA40E0A">在非交互模式下运行ASMCMD</a></p>
                  </li>
                  <li>
                     <p><a href="about-asmcmd.html#GUID-DCDB8254-DEE1-46D7-B185-2270F4E7D432">获得帮助</a></p>
                  </li>
               </ul>
            </div><a id="OSTMG94351"></a><a id="OSTMG01640"></a><div class="props_rev_3"><a id="GUID-65775DDE-611D-4C59-9696-BB91DB83B367" name="GUID-65775DDE-611D-4C59-9696-BB91DB83B367"></a><h3 id="OSTMG-GUID-65775DDE-611D-4C59-9696-BB91DB83B367" class="sect3">ASMCMD命令的类型</h3>
               <div>
                  <p><a href="about-asmcmd.html#GUID-65775DDE-611D-4C59-9696-BB91DB83B367__CIHCFEGF" title="该表按类别列出了所有ASMCMD命令。">表10-1</a>列出了ASMCMD命令的类型。
                  </p>
                  <div class="tblformalwide" id="GUID-65775DDE-611D-4C59-9696-BB91DB83B367__CIHCFEGF">
                     <p class="titleintable">表10-1 ASMCMD命令的类型</p>
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="ASMCMD命令的类型" width="100%" border="1" summary="This table lists all the ASMCMD commands by category." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="47%" id="d66804e340">类别</th>
                              <th align="left" valign="bottom" width="53%" id="d66804e343">命令</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d66804e348" headers="d66804e340 ">
                                 <p>Oracle ASM实例管理</p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d66804e348 d66804e343 ">
                                 <p>有关命令列表，请参阅<a href="asmcmd-instance-commands.html#GUID-A2DBFB13-4AB7-4777-BC42-CC163EA1C9DF" title="本主题提供ASMCMD实例管理命令的摘要。">ASMCMD实例管理命令</a></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d66804e360" headers="d66804e340 ">
                                 <p>Oracle ASM成员集群</p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d66804e360 d66804e343 ">
                                 <p>有关命令列表，请参阅<a href="asmcmd-cluster-commands.html#GUID-65FC331C-58EA-4901-AB59-795761D3D80A" title="本主题提供与Oracle ASM远程实例一起使用的ASMCMD成员集群管理命令的摘要。">ASMCMD成员群集管理命令</a></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d66804e372" headers="d66804e340 ">
                                 <p>Oracle ASM过滤器驱动程序管理</p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d66804e372 d66804e343 ">
                                 <p>有关命令列表，请参阅<a href="asmcmd-filterdriver-commands.html#GUID-C23690C6-0DE6-42A7-B9C7-4FB1FF13ED64" title="本主题提供ASMCMD Oracle ASM筛选器驱动程序（Oracle ASMFD）管理命令的摘要。">ASMCMD Oracle ASM过滤器驱动程序管理命令</a></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d66804e384" headers="d66804e340 ">
                                 <p>Oracle ASM文件管理</p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d66804e384 d66804e343 ">
                                 <p>有关命令列表，请参阅<a href="asmcmd-file-commands.html#GUID-6A2AF65D-DEAA-422C-AD13-209DF53B65BA" title="本主题提供ASMCMD文件管理命令的摘要。">ASMCMD文件管理命令</a></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d66804e396" headers="d66804e340 ">
                                 <p>Oracle ASM磁盘组管理</p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d66804e396 d66804e343 ">
                                 <p>有关命令列表，请参阅<a href="asmcmd-diskgroup-commands.html#GUID-3BA40908-0543-4968-B834-BD4D873E1059" title="本主题提供ASMCMD磁盘组管理命令的摘要。">ASMCMD磁盘组管理命令</a></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d66804e408" headers="d66804e340 ">
                                 <p>Oracle ASM文件组管理</p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d66804e408 d66804e343 ">
                                 <p>有关命令列表，请参阅<a href="asmcmd-filegroup-commands.html#GUID-A70318CD-A096-43E7-9CCD-F3A3621C81AC" title="本主题提供ASMCMD命令的摘要，使您可以管理Oracle ASM文件组和配额组。">ASMCMD文件组管理命令</a></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d66804e420" headers="d66804e340 ">
                                 <p>Oracle ASM模板管理</p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d66804e420 d66804e343 ">
                                 <p>有关命令列表，请参阅<a href="asmcmd-template-commands.html#GUID-AE2E2A3B-B912-4DBB-A977-CDB797532980" title="本主题提供ASMCMD模板管理命令的摘要。">ASMCMD模板管理命令</a></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d66804e432" headers="d66804e340 ">
                                 <p>Oracle ASM文件访问控制</p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d66804e432 d66804e343 ">
                                 <p>有关命令列表，请参阅<a href="asmcmd-accesscontrol-commands.html#GUID-AC0085E4-E4DC-4655-AD05-4C07B53900BE" title="本主题提供ASMCMD Oracle ASM文件访问控制命令的摘要。">ASMCMD文件访问控制命令</a></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d66804e444" headers="d66804e340 ">
                                 <p>Oracle ADVM卷</p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d66804e444 d66804e343 ">
                                 <p>有关命令列表，请参阅<a href="manage-advm-asmcmd.html#GUID-07E90E70-406A-4273-B27F-9F2ED7C1C4BF" title="Oracle ASM命令行实用程序（ASMCMD）提供用于管理Oracle ADVM卷的命令。">使用ASMCMD管理Oracle ADVM</a></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="OSTMG01620"></a><div class="props_rev_3"><a id="GUID-3BAC54F3-4CAF-408C-AB5F-91D50017EB89" name="GUID-3BAC54F3-4CAF-408C-AB5F-91D50017EB89"></a><h3 id="OSTMG-GUID-3BAC54F3-4CAF-408C-AB5F-91D50017EB89" class="sect3">关于Oracle ASM文件，文件名，目录和别名</h3>
               <div>
                  <p>ASMCMD适用于Oracle ASM文件，目录和别名。在使用ASMCMD之前，您应该了解这些常见的计算概念如何应用于Oracle ASM环境。</p>
                  <p>本节包含以下主题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="about-asmcmd.html#GUID-117FE071-9ECE-40BC-8FFA-5D7AB12ADCDD">系统生成的文件名或完全限定的文件名</a></p>
                     </li>
                     <li>
                        <p><a href="about-asmcmd.html#GUID-7A5246A7-5A4C-44CB-842B-7005B5B73A30">目录</a></p>
                     </li>
                     <li>
                        <p><a href="about-asmcmd.html#GUID-7D449463-DB61-4D19-A9A1-33634AC476B8">别号</a></p>
                     </li>
                     <li>
                        <p><a href="about-asmcmd.html#GUID-372A3B06-78CE-445E-95AE-4EE28B2C5AB2">绝对路径和相对路径</a></p>
                     </li>
                     <li>
                        <p><a href="about-asmcmd.html#GUID-7D69B3F0-7F5B-4B0D-AE2F-9A3FDC29F192">通配符</a></p>
                     </li>
                  </ul>
               </div><a id="OSTMG94352"></a><div class="props_rev_3"><a id="GUID-117FE071-9ECE-40BC-8FFA-5D7AB12ADCDD" name="GUID-117FE071-9ECE-40BC-8FFA-5D7AB12ADCDD"></a><h4 id="OSTMG-GUID-117FE071-9ECE-40BC-8FFA-5D7AB12ADCDD" class="sect4">系统生成的文件名或完全限定的文件名</h4>
                  <div>
                     <p>在Oracle ASM中创建的每个文件都会获得系统生成的文件名，也称为完全限定的文件名。这类似于本地文件系统中的完整路径名。</p>
                     <p>Oracle ASM根据以下方案生成文件名：</p><pre class="oac_no_warn" dir="ltr"><span class="italic">+磁盘组/的databaseName /的fileType / fileTypeTag.fileNumber.incarnation</span>
</pre><p>完全限定文件名的示例如下：</p>
                     <p><code class="codeph">+数据/ ORCL / CONTROLFILE / Current.256.541956473</code></p>
                     <p>在以前的完全限定文件名中， <code class="codeph">data</code>是磁盘组名称， <code class="codeph">orcl</code>是数据库名称， <code class="codeph">CONTROLFILE</code>是文件类型，依此类推。
                     </p>
                     <p>ASMCMD仅支持斜杠（/）。文件名不区分大小写，但具有案例保持性。如果键入路径名称为小写，ASMCMD将保留小写。</p>
                     <p>有关Oracle ASM文件名的更多信息，请参阅<a href="asm-files-directories-templates.html#GUID-21305D87-1D0C-442C-97AE-DE8ACA979F91">完全限定的文件名表</a> 。
                     </p>
                  </div>
               </div><a id="OSTMG94353"></a><div class="props_rev_3"><a id="GUID-7A5246A7-5A4C-44CB-842B-7005B5B73A30" name="GUID-7A5246A7-5A4C-44CB-842B-7005B5B73A30"></a><h4 id="OSTMG-GUID-7A5246A7-5A4C-44CB-842B-7005B5B73A30" class="sect4">目录</h4>
                  <div>
                     <p>与其他文件系统一样，Oracle ASM目录是文件的容器，Oracle ASM目录可以是其他目录的树结构的一部分。完全限定的文件名表示目录的层次结构，其中加号（+）表示根目录。在每个磁盘组中，Oracle ASM自动创建一个目录层次结构，该层次结构对应于磁盘组中完全限定文件名的结构。此层次结构中的目录称为系统生成的目录。</p>
                     <p>ASMCMD使您可以使用<code class="codeph">cd</code> （更改目录）命令在此目录层次结构中上下移动。ASMCMD <code class="codeph">ls</code> （列表目录）命令列出当前目录的内容，而<code class="codeph">pwd</code>命令则打印当前目录的名称。
                     </p>
                     <p>启动ASMCMD时，当前目录设置为root（+）。对于具有两个磁盘组的Oracle ASM实例（例如， <code class="codeph">data</code>和<code class="codeph">fra</code> ，输入以根目录作为当前目录的<code class="codeph">ls</code>命令将生成以下输出：</p><pre class="oac_no_warn" dir="ltr">ASMCMD&gt; ls data / fra /</pre><p>以下示例演示如何导航Oracle ASM目录树（请参阅前面显示的完全限定文件名）：</p><pre class="oac_no_warn" dir="ltr">ASMCMD&gt; cd + data / orcl / CONTROLFILE ASMCMD&gt; ls Current.256.541956473 Current.257.541956475</pre><p>您可以使用ASMCMD <code class="codeph">mkdir</code>命令将自己的目录创建为系统生成的目录的子目录。您创建的目录可以包含子目录，您可以使用<code class="codeph">cd</code>命令导航系统生成的目录和用户创建的目录的层次结构。
                     </p>
                     <p>以下示例在磁盘组<code class="codeph">data</code>中的<code class="codeph">orcl</code>下创建目录<code class="codeph">mydir</code> ：</p>
                     <p><code class="codeph">ASMCMD&gt; mkdir + data / orcl / mydir</code></p>
                     <div class="infoboxnote" id="GUID-7A5246A7-5A4C-44CB-842B-7005B5B73A30__GUID-7FC14832-10C9-4D3E-B6F6-40DC84A79AA0">
                        <p class="notep1">注意：</p>
                        <p>目录<code class="codeph">orcl</code>是系统生成的目录。<code class="codeph">data</code>内容表示磁盘组<code class="codeph">data</code>的内容。
                        </p>
                     </div>
                     <p>如果使用<code class="codeph">-p</code>标志启动ASMCMD，则ASMCMD会将当前目录显示为其提示的一部分。请参阅<a href="about-asmcmd.html#GUID-6E0B6A2D-68FE-4596-A0C2-BF3D8388E34A">在ASMCMD提示中包括当前目录</a> 。
                     </p><pre class="oac_no_warn" dir="ltr">ASMCMD [+]&gt; cd data / orcl ASMCMD [+ data / orcl]&gt;</pre><p>ASMCMD保留您输入的目录的大小写。</p>
                  </div>
               </div><a id="OSTMG94354"></a><div class="props_rev_3"><a id="GUID-7D449463-DB61-4D19-A9A1-33634AC476B8" name="GUID-7D449463-DB61-4D19-A9A1-33634AC476B8"></a><h4 id="OSTMG-GUID-7D449463-DB61-4D19-A9A1-33634AC476B8" class="sect4">别号</h4>
                  <div>
                     <p><a id="d66804e1155" class="indexterm-anchor"></a>别名是文件名，它们是系统生成的文件名的引用或指针。但是，别名是用户友好的名称。别名类似于UNIX或Linux计算机中的符号链接。您可以创建别名以简化Oracle ASM文件名管理。您可以使用<code class="codeph">mkalias</code> ASMCMD命令或SQL <code class="codeph">ALTER</code> <code class="codeph">DISKGROUP</code>命令创建别名。
                     </p>
                     <p>别名至少具有磁盘组名称作为其完整路径的一部分。您可以在磁盘组级别或任何系统生成的或用户创建的子目录中创建别名。以下是别名的示例：</p><pre class="oac_no_warn" dir="ltr">+ data / ctl1.f + data / orcl / ctl1.f + data / mydir / ctl1.f</pre><p>如果使用<code class="codeph">-l</code>标志运行ASMCMD <code class="codeph">ls</code> （列表目录），则会使用别名引用的系统生成的文件列出每个别名。
                     </p>
                     <p><code class="codeph">ctl1.f =&gt; + data / orcl / CONTROLFILE / Current.256.541956473</code></p>
                     <p>有关别名的更多信息，请参阅<a href="asm-files-directories-templates.html#GUID-2D167F11-F77A-4269-967E-5A9F3EF8FE3A">Alias Oracle ASM文件名表单</a> 。
                     </p>
                  </div>
               </div><a id="OSTMG94355"></a><div class="props_rev_3"><a id="GUID-372A3B06-78CE-445E-95AE-4EE28B2C5AB2" name="GUID-372A3B06-78CE-445E-95AE-4EE28B2C5AB2"></a><h4 id="OSTMG-GUID-372A3B06-78CE-445E-95AE-4EE28B2C5AB2" class="sect4">绝对路径和相对路径</h4>
                  <div>
                     <p><a id="d66804e1327" class="indexterm-anchor"></a>运行接受文件名或目录名作为参数的ASMCMD命令时，可以将名称用作绝对路径或相对路径。
                     </p>
                     <p>绝对路径是指文件或目录的完整路径。绝对路径以加号（+）开头，后跟磁盘组名称，后跟目录树中的后续目录。绝对路径包括直到到达感兴趣的文件或目录的目录。完整的系统生成的文件名（也称为完全限定的文件名）是文件的绝对路径的示例。</p>
                     <p>使用绝对路径使命令可以访问文件或目录，而不管当前目录的设置位置。以下<code class="codeph">rm</code>命令使用文件名的绝对路径：</p>
                     <p><code class="codeph">ASMCMD [+] &gt; rm</code> <code class="codeph">+data/orcl/datafile/users.259.555341963</code></p>
                     <p>以下<code class="codeph">cd</code>命令使用目录的绝对路径。
                     </p>
                     <p><code class="codeph">ASMCMD [+ data / mydir]&gt; cd + data / orcl / CONTROLFILE</code></p>
                     <p>相对路径仅包括不属于当前目录的文件名或目录名的一部分。也就是说，文件或目录的路径是相对于当前目录的。</p>
                     <p>在以下示例中， <code class="codeph">rm</code>命令对文件<code class="codeph">undotbs1.272.557429239</code> ，在这种情况下，该文件是相对路径。ASMCMD将当前目录附加到命令参数以获取文件的绝对路径。在此示例中，这是<code class="codeph">+data/orcl/DATAFILE/undotbs1.272.557429239</code> 。
                     </p><pre class="oac_no_warn" dir="ltr">ASMCMD [+]&gt; cd + data ASMCMD [+ data]&gt; cd orcl / DATAFILE ASMCMD [+ data / orcl / DATAFILE]&gt; ls EXAMPLE.269.555342243 SYSAUX.257.555341961 SYSTEM.256.555341961 UNDOTBS1.258.555341963 UNDOTBS1.272.557429239 USERS.259.555341963 ASMCMD [+ data / orcl / DATAFILE]&gt; rm undotbs1.272.557429239</pre><p>目录的路径也可以是相对的。您可以通过为<code class="codeph">cd</code>命令提供目录参数来上升或下移当前目录树分支的层次结构，该命令的路径是相对于当前目录的。
                     </p>
                     <p>此外，您可以使用伪目录“ <code class="codeph">.</code> ”和“ <code class="codeph">..</code> ”而不是目录名。“ <code class="codeph">.</code> ”伪目录是当前目录。“ <code class="codeph">..</code> ”伪目录是当前目录的父目录。
                     </p>
                     <p>以下示例演示如何使用相对目录路径和伪目录：</p><pre class="oac_no_warn" dir="ltr">ASMCMD [+ data / orcl]&gt; cd DATAFILE ASMCMD [+ data / orcl / DATAFILE]&gt; cd ..ASMCMD [+ data / orcl]&gt;</pre></div>
               </div><a id="OSTMG94357"></a><a id="OSTMG94356"></a><div class="props_rev_3"><a id="GUID-7D69B3F0-7F5B-4B0D-AE2F-9A3FDC29F192" name="GUID-7D69B3F0-7F5B-4B0D-AE2F-9A3FDC29F192"></a><h4 id="OSTMG-GUID-7D69B3F0-7F5B-4B0D-AE2F-9A3FDC29F192" class="sect4">通配符</h4>
                  <div>
                     <p>通配符<code class="codeph">*</code>和<code class="codeph">%</code>在绝对或相对路径中的任何位置匹配零个或多个字符，这样可以节省完整目录或文件名的输入。两个通配符的行为完全相同。有各种ASMCMD命令可以接受通配符，例如<code class="codeph">cd</code> ， <code class="codeph">du</code> ， <code class="codeph">find</code> ， <code class="codeph">ls</code> ， <code class="codeph">lsattr</code> ， <code class="codeph">lsdg</code> ， <code class="codeph">lsdsk</code> ， <code class="codeph">lsgrp</code> ， <code class="codeph">lsusr</code>和<code class="codeph">rm</code> 。
                     </p>
                     <p>如果在使用带有<code class="codeph">cd</code>通配符时通配符模式仅匹配一个目录，则<code class="codeph">cd</code>会将目录更改为该目标。如果通配符模式匹配多个目录，则ASMCMD不会更改目录，而是返回错误。
                     </p>
                     <p>如果以非交互模式运行ASMCMD命令，则对于大多数操作系统，必须将通配符括在引号中。有关更多信息，请参阅以<a href="about-asmcmd.html#GUID-6C6CA705-01A8-461E-B23E-E3CE3AA40E0A">非交互模式运行ASMCMD</a> 。
                     </p>
                     <p><a href="about-asmcmd.html#GUID-7D69B3F0-7F5B-4B0D-AE2F-9A3FDC29F192__CIHJGAHI">例10-1</a>说明了通配符的使用。
                     </p>
                     <div class="example" id="GUID-7D69B3F0-7F5B-4B0D-AE2F-9A3FDC29F192__CIHJGAHI">
                        <p class="titleinexample">示例10-1在ASMCMD命令中使用通配符</p><pre class="oac_no_warn" dir="ltr">ASMCMD [+]&gt; cd + data / orcl / * FILE ASMCMD-08005：+ data / orcl / * FILE：模糊的ASMCMD [+]&gt; cd + data / orcl / C * ASMCMD [+ data / orcl / CONTROLFILE]&gt; ASMCMD [+]&gt; ls + fra / orcl / A％2009_07_13 / 2009_07_14 / ASMCMD [+]&gt; ls + fra / orcl / ARCHIVELOG / 2009％+ fra / orcl / ARCHIVELOG / 2009_07_13 /：thread_1_seq_3.260.692103543 thread_1_seq_4.261.692108897 thread_1_seq_5.262.692125993 thread_1_seq_6.263.692140729 thread_1_seq_7.264.692143333 + fra / orcl / ARCHIVELOG / 2009_07_14 /：thread_1_seq_8.271.692158265 thread_1_seq_9.272.692174597 ASMCMD [+]&gt; ls data / orcl / * + data / orcl / CONTROLFILE /：Current.260.692103157 + data / orcl / DATAFILE /：例子.265.692103187 SYSAUX.257.692103045 SYSTEM.256.692103045 UNDOTBS1.258.692103045 USERS.259.692103045 + data / orcl / ONLINELOG /：group_1.261.692103161 group_2.262.692103165 group_3.263.692103169 + data / orcl / PARAMETERFILE /：spfile.266.692103315 + data / orcl / TEMPFILE /：TEMP.264.692103181 spfileorcl.ora</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div><a id="OSTMG01630"></a><div class="props_rev_3"><a id="GUID-38CEBBA2-7597-4CD3-88CF-C6F60F0F436D" name="GUID-38CEBBA2-7597-4CD3-88CF-C6F60F0F436D"></a><h3 id="OSTMG-GUID-38CEBBA2-7597-4CD3-88CF-C6F60F0F436D" class="sect3">准备运行ASMCMD</h3>
               <div>
                  <p>在运行ASMCMD实用程序之前，您应该查看本主题中的信息。</p>
                  <p></p>
                  <p>您可以以交互模式或非交互模式运行ASMCMD实用程序。在运行ASMCMD之前，请查看以下列表中的项目。</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>登录包含您计划管理的Oracle ASM实例的主机。</p>
                        <p>您必须通过操作系统身份验证以具有SYSASM或SYSDBA权限的用户身份登录。SYSASM权限是管理Oracle ASM实例所需的连接。</p>
                     </li>
                     <li>
                        <p>要连接到Oracle ASM实例，请运行位于Oracle Grid Infrastructure主目录（Oracle ASM主目录）的<code class="codeph">bin</code>子目录中的ASMCMD。
                        </p>
                        <p>以SYSASM（默认连接）连接以管理Oracle ASM实例。</p>
                        <p>确保<code class="codeph">ORACLE_HOME</code>和<code class="codeph">ORACLE_SID</code>环境变量引用Oracle ASM实例。根据您的操作系统，您可能必须设置其他环境变量才能正确连接到Oracle ASM实例。
                        </p>
                        <p>确保Oracle Grid Infrastructure主目录的<code class="codeph">bin</code>子目录位于<code class="codeph">PATH</code>环境变量中。
                        </p>
                        <p>单实例数据库的Oracle ASM SID的默认值为<code class="codeph">+ASM</code> 。在Oracle Real Application Clusters环境中，任何节点上的Oracle ASM SID的默认值为<code class="codeph">+ASM</code> <span class="italic"><code class="codeph">node#</code></span> 。
                        </p>
                     </li>
                     <li>
                        <p>要使用大多数ASMCMD命令，请确保已启动Oracle ASM实例并已装入Oracle ASM磁盘组。</p>
                        <p>如果Oracle ASM实例未运行，则ASMCMD仅运行不需要Oracle ASM实例的那些命令。这些命令包括<code class="codeph">startup</code> ， <code class="codeph">shutdown</code> ， <code class="codeph">lsdsk</code> ， <code class="codeph">help</code>和<code class="codeph">exit</code> 。如果尝试运行其他ASMCMD命令，则会显示错误消息。
                        </p>
                     </li>
                     <li>
                        <p>您可以通过运行位于Oracle数据库主目录的<code class="codeph">bin</code>目录中的ASMCMD以SYSDBA身份连接到数据库实例。
                        </p>
                        <p>确保<code class="codeph">ORACLE_HOME</code>和<code class="codeph">ORACLE_SID</code>环境变量引用数据库实例。根据您的操作系统，您可能必须设置其他环境变量才能正确连接到数据库实例。
                        </p>
                        <p>必须包含<code class="codeph">--privilege</code>选项才能以SYSDBA <code class="codeph">--privilege</code>进行连接。</p>
                        <p>通过此连接，可以运行一组有限的操作。</p>
                        <p>管理磁盘组时，Oracle建议您从数据库实例的数据库主目录运行ASMCMD，该数据库实例是磁盘组中文件的所有者。</p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-38CEBBA2-7597-4CD3-88CF-C6F60F0F436D__GUID-30A53558-EBDC-4D48-AE80-30EB72C96EEF">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="authenticate-access-asm-instance.html#GUID-1A4E79BE-7D26-4FAC-BC11-B6C2F677A41F" title="以SYSASM身份登录Oracle ASM实例时，可以使用CREATE USER和GRANT SQL语句的组合来创建具有SYSASM权限的用户。Oracle ASM的密码文件身份验证可以在本地和远程工作。要启用密码文件身份验证，您必须为Oracle ASM创建密码文件。您可以备份Oracle ASM密码文件，如果Oracle ASM密码文件丢失或磁盘组无法访问，则可以还原备份密码文件。">用于访问Oracle ASM实例</a>的身份验证，以获取有关访问Oracle ASM实例的身份验证的更多信息</p>
                        </li>
                        <li>
                           <p>有关指定连接选项的更多信息，请指定连接<a href="about-asmcmd.html#GUID-CA2D6EDA-AE09-4729-AD84-763AEF640571">类型</a></p>
                        </li>
                        <li>
                           <p>有关权限和连接的详细信息，请参阅<a href="authenticate-access-asm-instance.html#GUID-A4C71890-CF7D-4D2B-8C3F-859D7D28FA75">用于管理Oracle ASM组件的SYSDBA权限</a></p>
                        </li>
                        <li>
                           <p><a href="../admin/getting-started-with-database-administration.html#ADMIN-GUID-7842AF72-DA25-4559-A8E7-9883D0C63BF2" target="_blank"><span><cite>“Oracle数据库管理员指南”</cite></span></a> ，了解有关设置环境变量的更多信息</p>
                        </li>
                        <li>
                           <p><a href="../admin/getting-started-with-database-administration.html#ADMIN11010" target="_blank"><span><cite>“Oracle数据库管理员指南”</cite></span></a> ，了解有关操作系统身份验证的信</p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="OSTMG94358"></a><div class="props_rev_3"><a id="GUID-EB56C22F-67BB-4F2A-B83A-5DA73775C36D" name="GUID-EB56C22F-67BB-4F2A-B83A-5DA73775C36D"></a><h3 id="OSTMG-GUID-EB56C22F-67BB-4F2A-B83A-5DA73775C36D" class="sect3">在交互模式下运行ASMCMD</h3>
               <div>
                  <p><a id="d66804e2033" class="indexterm-anchor"></a> ASMCMD实用程序的交互模式提供类似shell的环境，系统会提示您输入ASMCMD命令。
                  </p>
                  <p>本节包含以下主题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="about-asmcmd.html#GUID-CDA1FAB7-B143-43B6-A423-46F1809E069F">启动ASMCMD的语法</a></p>
                     </li>
                     <li>
                        <p><a href="about-asmcmd.html#GUID-0B43B04B-281B-4365-A8F7-8DB5542FC619">在没有任何选项的情况下运行ASMCMD</a></p>
                     </li>
                     <li>
                        <p><a href="about-asmcmd.html#GUID-CA2D6EDA-AE09-4729-AD84-763AEF640571">指定连接类型</a></p>
                     </li>
                     <li>
                        <p><a href="about-asmcmd.html#GUID-8D99D268-6E14-4E63-AEAF-C543EE7F17FC">指定详细模式</a></p>
                     </li>
                     <li>
                        <p><a href="about-asmcmd.html#GUID-6E0B6A2D-68FE-4596-A0C2-BF3D8388E34A">在ASMCMD提示中包含当前目录</a></p>
                     </li>
                     <li>
                        <p><a href="about-asmcmd.html#GUID-9F63C7DE-8FDE-4206-9755-FB325938B66E">显示ASMCMD版本号</a></p>
                     </li>
                  </ul>
               </div><a id="OSTMG94359"></a><a id="OSTMG95690"></a><div class="props_rev_3"><a id="GUID-CDA1FAB7-B143-43B6-A423-46F1809E069F" name="GUID-CDA1FAB7-B143-43B6-A423-46F1809E069F"></a><h4 id="OSTMG-GUID-CDA1FAB7-B143-43B6-A423-46F1809E069F" class="sect4">启动ASMCMD的语法</h4>
                  <div>
                     <p>在交互模式下启动ASMCMD的语法是：</p><pre class="oac_no_warn" dir="ltr">asmcmd [-V] asmcmd [--nocp] [-v {errors | warnings | normal | info | debug}] [--privilege <span class="italic">connection_type</span> ] [-p] [--inst instance_name] [--discover]</pre><p><a href="about-asmcmd.html#GUID-CDA1FAB7-B143-43B6-A423-46F1809E069F__CIHFFCDB" title="此表列出了ASMCMD命令的选项。">表10-2</a>总结了ASMCMD选项。
                     </p>
                     <div class="tblformal" id="GUID-CDA1FAB7-B143-43B6-A423-46F1809E069F__CIHFFCDB">
                        <p class="titleintable">表10-2 ASMCMD交互选项</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="ASMCMD互动选项" width="100%" border="1" summary="This table lists the options for the ASMCMD command." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d66804e2238">选项</th>
                                 <th align="left" valign="bottom" width="69%" id="d66804e2241">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d66804e2246" headers="d66804e2238 ">
                                    <p>- <code class="codeph">V</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d66804e2246 d66804e2241 ">
                                    <p>显示ASMCMD的版本，然后退出。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d66804e2255" headers="d66804e2238 ">
                                    <p><code class="codeph">--nocp</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d66804e2255 d66804e2241 ">
                                    <p>禁用连接池。有关连接池的信息，请参阅“ <a href="../admin/managing-processes.html#ADMIN11000" target="_blank"><span class="italic">Oracle数据库管理员指南”</span></a> 。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d66804e2268" headers="d66804e2238 ">
                                    <p><code class="codeph">-v</code> <span class="italic"><code class="codeph">display_level</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d66804e2268 d66804e2241 ">
                                    <p>使用某些命令显示其他信息，以帮助用户诊断问题并在需要日志记录时写入消息文件。如果未指定显示级别，则<code class="codeph">normal</code>是默认值。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d66804e2283" headers="d66804e2238 ">
                                    <p><code class="codeph">--privilege <span class="codeinlineitalic">connection_type</span></code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d66804e2283 d66804e2241 ">
                                    <p>指定访问Oracle ASM或数据库实例时的连接权限。可以是<code class="codeph">SYSASM</code>或<code class="codeph">SYSDBA</code> 。缺省值为<code class="codeph">SYSASM</code> ，在管理Oracle ASM实例时使用。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d66804e2303" headers="d66804e2238 ">
                                    <p><code class="codeph">-p</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d66804e2303 d66804e2241 ">
                                    <p>显示提示中的当前目录。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d66804e2311" headers="d66804e2238 ">
                                    <p><code class="codeph">--inst <span class="codeinlineitalic">instance_name</span></code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d66804e2311 d66804e2241 ">
                                    <p>指定连接到特定的Oracle ASM实例。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d66804e2322" headers="d66804e2238 ">
                                    <p><code class="codeph">- 发现</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d66804e2322 d66804e2241 ">
                                    <p>使用从侦听器获取的发现字符串，而不是<code class="codeph">ORACLE_SID</code>环境变量。
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p><code class="codeph">ORACLE_HOME</code>和<code class="codeph">ORACLE_SID</code>环境变量确定ASMCMD连接的实例。ASMCMD以与<code class="codeph">SQLPLUS</code> <code class="codeph">/</code> <code class="codeph">AS</code> <code class="codeph">SYSASM</code>相同的方式建立遗留连接，这需要用户成为<code class="codeph">OSASM</code>组的成员。
                     </p>
                     <p>启用Oracle Flex ASM后，ASMCMD将连接到群集中运行的任何一个Oracle ASM实例。与Oracle ASM实例的连接不依赖于<code class="codeph">ORACLE_HOME</code>和<code class="codeph">ORACLE_SID</code>环境变量。ASMCMD警报日志显示ASMCMD连接到的实例。如果要连接到特定的Oracle ASM实例，请使用<code class="codeph">--inst</code>选项。
                     </p>
                     <p>ASMCMD可以通过多种选项启动。例如：</p><pre class="oac_no_warn" dir="ltr">asmcmd -p -v info</pre><p>对于本章中的大多数示例，ASMCMD是使用<code class="codeph">-p</code>选项启动的。
                     </p>
                  </div>
               </div><a id="OSTMG94360"></a><div class="props_rev_3"><a id="GUID-0B43B04B-281B-4365-A8F7-8DB5542FC619" name="GUID-0B43B04B-281B-4365-A8F7-8DB5542FC619"></a><h4 id="OSTMG-GUID-0B43B04B-281B-4365-A8F7-8DB5542FC619" class="sect4">在没有任何选项的情况下运行ASMCMD</h4>
                  <div>
                     <div class="section">
                        <p><a id="d66804e2515" class="indexterm-anchor"></a>要在交互模式下运行ASMCMD而不使用任何选项：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>在操作系统命令提示符处输入以下内容：</span><div>
                              <p><code class="codeph">ASMCMD</code></p>
                              <p>Oracle显示ASMCMD命令提示符，如下所示：</p>
                              <p><code class="codeph">ASMCMD&gt;</code></p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>输入ASMCMD命令并按<code class="codeph">Enter</code> 。该命令运行并显示其输出（如果有），然后ASMCMD提示输入下一个命令。</span></li>
                        <li class="stepexpand"><span>继续输入ASMCMD命令，直到完成任务。</span></li>
                        <li class="stepexpand"><span><a id="d66804e2544" class="indexterm-anchor"></a><a id="d66804e2548" class="indexterm-anchor"></a>输入<code class="codeph">exit</code>或<code class="codeph">quit</code>命令退出ASMCMD。</span></li>
                     </ol>
                  </div>
               </div><a id="OSTMG94361"></a><div class="props_rev_3"><a id="GUID-CA2D6EDA-AE09-4729-AD84-763AEF640571" name="GUID-CA2D6EDA-AE09-4729-AD84-763AEF640571"></a><h4 id="OSTMG-GUID-CA2D6EDA-AE09-4729-AD84-763AEF640571" class="sect4">指定连接类型</h4>
                  <div>
                     <p><a id="d66804e2698" class="indexterm-anchor"></a><a id="d66804e2702" class="indexterm-anchor"></a><a id="d66804e2706" class="indexterm-anchor"></a>您可以指定<code class="codeph">--privilege</code>选项以选择连接类型， <code class="codeph">SYSASM</code>或<code class="codeph">SYSDBA</code> 。默认值为<code class="codeph">SYSASM</code> ，在管理Oracle ASM实例时使用。连接到数据库实例时以<code class="codeph">SYSDBA</code>身份连接。
                     </p>
                     <p>例如：</p>
                     <p><code class="codeph">$ asmcmd --privilege sysasm</code></p>
                  </div>
               </div><a id="OSTMG94362"></a><div class="props_rev_3"><a id="GUID-8D99D268-6E14-4E63-AEAF-C543EE7F17FC" name="GUID-8D99D268-6E14-4E63-AEAF-C543EE7F17FC"></a><h4 id="OSTMG-GUID-8D99D268-6E14-4E63-AEAF-C543EE7F17FC" class="sect4">指定详细模式</h4>
                  <div>
                     <p>您可以使用<code class="codeph">asmcmd</code>命令指定<code class="codeph">-v</code>选项，以显示一些命令的附加信息，以帮助用户诊断问题，如以下示例所示：</p><pre class="oac_no_warn" dir="ltr">$ asmcmd -v debug</pre><p>如果在<code class="codeph">asmcmd</code>操作期间必须记录消息，则会将消息写入<code class="codeph">alert.log</code>文件或<code class="codeph">trace.trc</code>文件。
                     </p>
                     <p>使用<code class="codeph">-v</code> <code class="codeph">errors</code> ， <code class="codeph">-v</code> <code class="codeph">warnings</code>或<code class="codeph">-v</code> <code class="codeph">normal</code> display level启动<code class="codeph">asmcmd</code>时，将创建或更新<code class="codeph">alert.log</code>文件。使用<code class="codeph">-v</code> <code class="codeph">info</code>或<code class="codeph">-v</code> <code class="codeph">debug</code>显示级别启动<code class="codeph">asmcmd</code>时，将创建或更新<code class="codeph">trace.trc</code>文件。
                     </p>
                     <p>默认情况下， <code class="codeph">alert.log</code>是在<code class="codeph">$ORACLE_BASE/diag/asmcmd/user_</code> <span class="italic"><code class="codeph">username</code></span> <code class="codeph">/</code> <span class="italic"><code class="codeph">hostname</code></span> <code class="codeph">/alert/</code>目录中创建的文件。默认情况下， <code class="codeph">trace.trc</code>文件在<code class="codeph">$ORACLE_BASE/diag/asmcmd/user_</code> <span class="italic"><code class="codeph">username</code></span> <code class="codeph">/</code> <span class="italic"><code class="codeph">hostname</code></span> <code class="codeph">/trace/</code>目录中创建。
                     </p>
                     <p>在某些情况下，可以设置<code class="codeph">$ORACLE_BASE</code>和<code class="codeph">$ORACLE_HOME</code>来覆盖<code class="codeph">alert.log</code>和<code class="codeph">trace.trc</code>文件的默认位置。
                     </p>
                  </div>
               </div><a id="OSTMG94363"></a><div class="props_rev_3"><a id="GUID-6E0B6A2D-68FE-4596-A0C2-BF3D8388E34A" name="GUID-6E0B6A2D-68FE-4596-A0C2-BF3D8388E34A"></a><h4 id="OSTMG-GUID-6E0B6A2D-68FE-4596-A0C2-BF3D8388E34A" class="sect4">在ASMCMD提示中包含当前目录</h4>
                  <div>
                     <p><a id="d66804e3129" class="indexterm-anchor"></a>您可以使用<code class="codeph">asmcmd</code>命令指定<code class="codeph">-p</code>选项，以在ASMCMD提示符中包含当前目录，如以下示例所示：</p><pre class="oac_no_warn" dir="ltr">$ asmcmd -p ASMCMD [+]&gt; cd data ASMCMD [+ data]&gt;</pre></div>
               </div><a id="OSTMG94364"></a><div class="props_rev_3"><a id="GUID-9F63C7DE-8FDE-4206-9755-FB325938B66E" name="GUID-9F63C7DE-8FDE-4206-9755-FB325938B66E"></a><h4 id="OSTMG-GUID-9F63C7DE-8FDE-4206-9755-FB325938B66E" class="sect4">显示ASMCMD版本号</h4>
                  <div>
                     <p>您可以在启动<code class="codeph">asmcmd</code>时指定<code class="codeph">-V</code>选项以显示<code class="codeph">asmcmd</code>版本号。显示版本号后， <code class="codeph">asmcmd</code>立即退出。
                     </p>
                     <p>例如：</p><pre class="oac_no_warn" dir="ltr">$ asmcmd -V asmcmd version 19.0.0.0.0</pre></div>
               </div>
            </div><a id="OSTMG94366"></a><a id="OSTMG94367"></a><a id="OSTMG94368"></a><a id="OSTMG94369"></a><a id="OSTMG94365"></a><div class="props_rev_3"><a id="GUID-6C6CA705-01A8-461E-B23E-E3CE3AA40E0A" name="GUID-6C6CA705-01A8-461E-B23E-E3CE3AA40E0A"></a><h3 id="OSTMG-GUID-6C6CA705-01A8-461E-B23E-E3CE3AA40E0A" class="sect3">在非交互模式下运行ASMCMD</h3>
               <div>
                  <p><a id="d66804e3446" class="indexterm-anchor"></a>在非交互模式下，通过在调用ASMCMD时在命令行中包含命令和命令选项来运行单个ASMCMD命令。 ASMCMD运行命令，生成输出（如果有），然后退出。非交互模式对于运行脚本特别有用。
                  </p>
                  <p><a id="d66804e3452" class="indexterm-anchor"></a><a id="d66804e3456" class="indexterm-anchor"></a>在大多数操作系统上，在非交互模式下运行ASMCMD命令时，通配符必须用引号括起来。
                  </p>
                  <p>要以非交互模式运行ASMCMD，其中<span class="italic"><code class="codeph">command</code></span>是任何有效的ASMCMD命令，而<span class="italic"><code class="codeph">options</code></span>是命令选项列表，请在命令提示符处输入以下内容：</p>
                  <p><code class="codeph">asmcmd</code> <span class="italic"><code class="codeph">command</code></span> <span class="italic"><code class="codeph">options</code></span></p>
                  <p>在非交互模式下，ASMCMD返回<a href="about-asmcmd.html#GUID-6C6CA705-01A8-461E-B23E-E3CE3AA40E0A__BJEBGJDC" title="ASMCMD返回代码">表10-3中</a>列出的代码。
                  </p>
                  <div class="tblformal" id="GUID-6C6CA705-01A8-461E-B23E-E3CE3AA40E0A__BJEBGJDC">
                     <p class="titleintable">表10-3 ASMCMD返回码</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="ASMCMD返回代码" width="100%" border="1" summary="ASMCMD return codes" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="23%" id="d66804e3500">类型</th>
                              <th align="left" valign="bottom" width="23%" id="d66804e3503">退货代码</th>
                              <th align="left" valign="bottom" width="54%" id="d66804e3506">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d66804e3511" headers="d66804e3500 ">
                                 <p>一般</p>
                              </td>
                              <td align="left" valign="top" width="23%" headers="d66804e3511 d66804e3503 ">
                                 <p>0</p>
                              </td>
                              <td align="left" valign="top" width="54%" headers="d66804e3511 d66804e3506 ">
                                 <p>该命令没有问题。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d66804e3521" headers="d66804e3500 ">
                                 <p>一般</p>
                              </td>
                              <td align="left" valign="top" width="23%" headers="d66804e3521 d66804e3503 ">
                                 <p>1</p>
                              </td>
                              <td align="left" valign="top" width="54%" headers="d66804e3521 d66804e3506 ">
                                 <p>内部错误。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d66804e3531" headers="d66804e3500 ">
                                 <p>一般</p>
                              </td>
                              <td align="left" valign="top" width="23%" headers="d66804e3531 d66804e3503 ">
                                 <p>255或-1</p>
                              </td>
                              <td align="left" valign="top" width="54%" headers="d66804e3531 d66804e3506 ">
                                 <p>命令返回的外部用户错误。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d66804e3541" headers="d66804e3500 ">
                                 <p><code class="codeph">lsdsk</code></p>
                              </td>
                              <td align="left" valign="top" width="23%" headers="d66804e3541 d66804e3503 ">
                                 <p>0</p>
                              </td>
                              <td align="left" valign="top" width="54%" headers="d66804e3541 d66804e3506 ">
                                 <p>结果仅包括成员磁盘。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d66804e3552" headers="d66804e3500 ">
                                 <p><code class="codeph">lsdsk</code></p>
                              </td>
                              <td align="left" valign="top" width="23%" headers="d66804e3552 d66804e3503 ">
                                 <p>1</p>
                              </td>
                              <td align="left" valign="top" width="54%" headers="d66804e3552 d66804e3506 ">
                                 <p>结果仅包括候选磁盘。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d66804e3563" headers="d66804e3500 ">
                                 <p><code class="codeph">lsdsk</code></p>
                              </td>
                              <td align="left" valign="top" width="23%" headers="d66804e3563 d66804e3503 ">
                                 <p>2</p>
                              </td>
                              <td align="left" valign="top" width="54%" headers="d66804e3563 d66804e3506 ">
                                 <p>结果包括成员和候选磁盘。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p><a href="about-asmcmd.html#GUID-6C6CA705-01A8-461E-B23E-E3CE3AA40E0A__CIHICGCD">例10-2</a>显示了如何在非交互模式下运行ASMCMD。第一个命令运行<code class="codeph">ls</code>命令以列出Oracle ASM实例的磁盘组。第二个命令将<code class="codeph">lsod</code>命令的输出重定向到<code class="codeph">my_lsod_test</code>文件。第三个命令使用带通配符的模式运行<code class="codeph">lsdsk</code> ，以列出<code class="codeph">data</code>磁盘组中的特定磁盘。请注意，在大多数操作系统上以非交互模式运行ASMCMD时，通配符必须用引号括起来。
                  </p>
                  <p><a href="about-asmcmd.html#GUID-6C6CA705-01A8-461E-B23E-E3CE3AA40E0A__BJECDDBC">例10-3</a>引发错误，磁盘组名称不正确，返回代码等于（255）。
                  </p>
                  <p><a href="about-asmcmd.html#GUID-6C6CA705-01A8-461E-B23E-E3CE3AA40E0A__BJEBCGBI">例10-4</a>显示了在脚本内以非交互模式运行的ASMCMD命令的示例。
                  </p>
                  <div class="example" id="GUID-6C6CA705-01A8-461E-B23E-E3CE3AA40E0A__CIHICGCD">
                     <p class="titleinexample">示例10-2以非交互模式运行ASMCMD命令</p><pre class="oac_no_warn" dir="ltr">$ asmcmd ls -l状态类型字典名称安装正常N数据/安装正常N FRA / $ asmcmd lsod --suppressheader -G数据&gt; my_lsod_test $ asmcmd lsdsk -G data'/ devices / diska *'路径/设备/ diska1 /设备/ diska2 / devices / diska3</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-6C6CA705-01A8-461E-B23E-E3CE3AA40E0A__BJECDDBC">
                     <p class="titleinexample">示例10-3在非交互模式下运行ASMCMD时显示返回码</p><pre class="oac_no_warn" dir="ltr">$ asmcmd ls -l dat ASMCMD-08001：diskgroup'dat'不存在或未挂载$ echo $？255</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-6C6CA705-01A8-461E-B23E-E3CE3AA40E0A__BJEBCGBI">
                     <p class="titleinexample">示例10-4在脚本中运行ASMCMD命令</p><pre class="oac_no_warn" dir="ltr">＃！/ bin / sh for（（i = 1; i &lt;= 3; i ++））做asmcmd lsdsk -G data'/ devices / diska'$ i done $ ./asmcmd_test_script Path / devices / diska1 Path / devices / diska2 Path /装置/ diska3</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="OSTMG94371"></a><a id="OSTMG94370"></a><div class="props_rev_3"><a id="GUID-DCDB8254-DEE1-46D7-B185-2270F4E7D432" name="GUID-DCDB8254-DEE1-46D7-B185-2270F4E7D432"></a><h3 id="OSTMG-GUID-DCDB8254-DEE1-46D7-B185-2270F4E7D432" class="sect3">获得帮助</h3>
               <div>
                  <p><a id="d66804e3753" class="indexterm-anchor"></a><a id="d66804e3757" class="indexterm-anchor"></a>在ASMCMD提示符下键入<code class="codeph">help</code>或在非交互模式下键入命令以查看有关ASMCMD的常规信息和可用的ASMCMD命令列表。
                  </p>
                  <p>您可以键入<code class="codeph">help</code> <span class="italic"><code class="codeph">command</code></span>以显示特定命令的帮助文本，包括有关如何使用其选项运行命令的使用信息。
                  </p>
                  <p>以下是使用<code class="codeph">help</code>命令的示例。
                  </p>
                  <div class="example" id="GUID-DCDB8254-DEE1-46D7-B185-2270F4E7D432__GUID-0A46A987-816A-48D5-AD3D-395E4C7ED8AB">
                     <p class="titleinexample">示例10-5显示ASMCMD帮助文本</p><pre class="oac_no_warn" dir="ltr">ASMCMD [+]&gt;帮助启动启动[--nomount] [--restrict] [--pfile &lt;pfile.ora&gt;]启动ASM实例。[--nomount]指定nomount选项。[--restrict]以限制模式启动实例。[--pfile &lt;pfile.ora&gt;]指定pfile的位置。</pre></div>
                  <!-- class="example" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html>