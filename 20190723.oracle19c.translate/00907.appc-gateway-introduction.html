<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>适用于APPC的Oracle Database Gateway简介</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Installation and Configuration Guide "></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Installation and Configuration Guide for Microsoft Windows"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-gateway-appc-installation-and-configuration-guide-microsoft-windows.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-04-16T19:10:00-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2006, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="F18240-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="preface.html" title="Previous" type="text/html"></link>
      <link rel="next" href="appc-gateway-release-information.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Gateway for APPC Installation and Configuration Guide for Microsoft Windows"></meta>
    <meta name="dcterms.isVersionOf" content="APPCW"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="preface.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="appc-gateway-release-information.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">安装和配置指南</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">适用于APPC的Oracle Database Gateway简介</li>
            </ol>
            <a id="GUID-624068CA-767C-4BA8-9C4E-3051ACF26257" name="GUID-624068CA-767C-4BA8-9C4E-3051ACF26257"></a><a id="APPCW101"></a>
            
            <h2 id="APPCW-GUID-624068CA-767C-4BA8-9C4E-3051ACF26257" class="sect2"><span class="enumeration_chapter">1</span> APPC的Oracle数据库网关简介</h2>
         </header>
         <div class="ind">
            <div>
               <p>APPC的Oracle数据库网关（“网关”）使用户能够在远程启动事务程序<a id="d1823e30" class="indexterm-anchor"></a>在线交易处理器（OLTP）。APPC的Oracle数据库网关可以使用SNA通信协议与OLTP建立连接。网关还可以使用TCP / IP进行IMS Connect，以通过TCP / IP与OLTP建立通信。该网关为Oracle应用程序提供了对IBM大型机数据和服务的无缝访问<a id="d1823e35" class="indexterm-anchor"></a>远程过程调用（RPC）处理。网关可以直接或通过TP监视器（如CICS）访问任何能够使用CPI-C API的应用程序。</p>
               <p>以下主题讨论网关的体系结构，用途和功能。</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="appc-gateway-introduction.html#GUID-51421C36-0119-468B-9176-4DEA86791EC8">网关概述</a></p>
                  </li>
                  <li>
                     <p><a href="appc-gateway-introduction.html#GUID-4757EF36-6039-4D76-A6D1-9FBD3659E8D8">网关的特点</a></p>
                  </li>
                  <li>
                     <p><a href="appc-gateway-introduction.html#GUID-400C46E0-0637-4C48-A255-C2B796438793">条款</a></p>
                  </li>
                  <li>
                     <p><a href="appc-gateway-introduction.html#GUID-3E12BDA4-0BD9-472D-A493-CB941CBADDC6">网关的体系结构</a></p>
                  </li>
                  <li>
                     <p><a href="appc-gateway-introduction.html#GUID-1545F917-23F3-4809-9E41-48365BEC9D9E">网关的实施</a></p>
                  </li>
                  <li>
                     <p><a href="appc-gateway-introduction.html#GUID-B7302561-3830-4052-B397-6741162B0E69">与网关通信</a></p>
                  </li>
                  <li>
                     <p><a href="appc-gateway-introduction.html#GUID-8FD607A5-4E24-4D21-8511-CCD910540486">远程过程调用函数</a></p>
                  </li>
                  <li>
                     <p><a href="appc-gateway-introduction.html#GUID-E967E94D-8143-42A0-9654-1214D8F81BD6">使用SNA的网关的事务类型</a></p>
                  </li>
                  <li>
                     <p><a href="appc-gateway-introduction.html#GUID-AA7DD41D-6E8F-47A2-8940-42FD187D36D8">使用TCP / IP的网关的事务类型</a></p>
                  </li>
               </ul>
            </div><a id="APPCW286"></a><a id="APPCW102"></a><div class="props_rev_3"><a id="GUID-51421C36-0119-468B-9176-4DEA86791EC8" name="GUID-51421C36-0119-468B-9176-4DEA86791EC8"></a><h3 id="APPCW-GUID-51421C36-0119-468B-9176-4DEA86791EC8" class="sect3">网关概述</h3>
               <div>
                  <p>用于APPC的Oracle数据库网关扩展了<a id="d1823e127" class="indexterm-anchor"></a>远程程序调用<a id="d1823e132" class="indexterm-anchor"></a> Oracle数据库提供的（RPC）工具。网关允许任何客户端应用程序使用<a id="d1823e139" class="indexterm-anchor"></a> PL / SQL请求执行<a id="d1823e144" class="indexterm-anchor"></a>远程交易<a id="d1823e149" class="indexterm-anchor"></a>程序（RTP）驻留在主机上。网关为使用该系统的系统提供RPC处理<a id="d1823e155" class="indexterm-anchor"></a><a id="d1823e159" class="indexterm-anchor"></a><a id="d1823e161" class="indexterm-anchor"></a> SNA APPC（高级程序到程序通信）协议和使用的系统<a id="d1823e166" class="indexterm-anchor"></a> IMS Connect协议的TCP / IP。此体系结构允许分别有效访问IBM大型机和IMS上可用的数据和事务。
                  </p>
                  <p>网关不需要远程主机系统上的Oracle软件。因此，网关在远程主机上使用很少或没有编程工作的现有事务。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-51421C36-0119-468B-9176-4DEA86791EC8__GUID-7F04D08B-7FE7-4ED9-BE03-957931AD8CE1">对于使用SNA的网关：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>使用通用和标准协议APPC允许网关访问多个系统。该<a id="d1823e179" class="indexterm-anchor"></a>网关几乎可以与任何支持APPC的系统进行通信，包括任何平台上的IBM公司的CICS和IBM公司的IMS和APPC / MVS。这些事务监视器提供对各种系统的访问，允许网关访问许多系统<a id="d1823e184" class="indexterm-anchor"></a><a id="d1823e188" class="indexterm-anchor"></a>数据存储，包括VSAM，DB2（静态SQL），IMS等。
                     </p>
                     <p>网关可以直接或通过TP监视器（如CICS）访问任何能够使用CPI-C API的应用程序。</p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="APPCW103"></a><div class="props_rev_3"><a id="GUID-4757EF36-6039-4D76-A6D1-9FBD3659E8D8" name="GUID-4757EF36-6039-4D76-A6D1-9FBD3659E8D8"></a><h3 id="APPCW-GUID-4757EF36-6039-4D76-A6D1-9FBD3659E8D8" class="sect3">网关的特点</h3>
               <div>
                  <p>Oracle Database Gateway for APPC具有以下优势：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>IMS Connect的TCP / IP支持</p>
                        <p> <a id="d1823e233" class="indexterm-anchor"></a>此版本的网关包括对IMS Connect的TCP / IP支持，使用户可以选择是使用SNA还是TCP / IP通信协议。IMS Connect是一种IBM产品，它允许TCP / IP客户端触发IMS事务的执行。网关可以使用TCP / IP通信协议来访问IMS Connect，从而触发IMS事务的执行。如果您选择使用TCP / IP，则此配置没有SNA参与。与此网关的新功能相关的是：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>该<a id="d1823e242" class="indexterm-anchor"></a> <code class="codeph">pg4tcpmap</code>工具。此版本的网关包括一个新工具，其目的是将您的侧面配置文件名称中的信息映射到TCP / IP和IMS Connect。有关网关映射工具的详细信息，请参阅本<a href="../appug/pg4tcpmap-commands-tcpip.html#APPUG600" target="_blank"><span class="italic">指南</span></a>中的<a href="../appug/pg4tcpmap-commands-tcpip.html#APPUG600" target="_blank"><span class="italic">Oracle Database Gateway for APPC用户指南的</span></a>第6章和<a href="configure-appc-gateway-using-tcp-ip.html#GUID-2E8F3302-CA66-45F1-A0F0-241FDEC9EBCE">使用TCP / IP通信协议的网关配置</a> 。
                              </p>
                           </li>
                        </ul>
                     </li>
                     <li>
                        <p><a id="d1823e260" class="indexterm-anchor"></a>快速界面</p>
                        <p>网关经过优化，可以在最小的网络流量下实现程序的远程执行。网关的接口是优化的<a id="d1823e269" class="indexterm-anchor"></a>预编译的PL / SQL存储过程规范（称为TIP或事务接口包） <a id="d1823e274" class="indexterm-anchor"></a> Oracle数据库。由于远程主机系统上没有其他软件层，因此仅在程序处理时才会产生开销。
                        </p>
                     </li>
                     <li>
                        <p>地点<a id="d1823e282" class="indexterm-anchor"></a><a id="d1823e286" class="indexterm-anchor"></a>透明度</p>
                        <p>客户端应用程序不必是特定于操作系统的。例如，您的应用程序可以调用CICS Transaction Server上的程序<a id="d1823e295" class="indexterm-anchor"></a> z / OS上。如果将程序移动到pSeries上的CICS区域，则无需更改应用程序。
                        </p>
                     </li>
                     <li>
                        <p>应用<a id="d1823e301" class="indexterm-anchor"></a><a id="d1823e305" class="indexterm-anchor"></a>透明度</p>
                        <p>调用执行远程事务程序的应用程序的用户不知道请求被发送到主机。</p>
                     </li>
                     <li>
                        <p><a id="d1823e316" class="indexterm-anchor"></a>灵活的界面</p>
                        <p>您可以使用网关与现有过程逻辑接口，或将新过程逻辑集成到Oracle数据库环境中。</p>
                     </li>
                     <li>
                        <p><a id="d1823e327" class="indexterm-anchor"></a> Oracle数据库集成</p>
                        <p>Oracle数据库与网关的集成使网关可以从现有和未来的Oracle功能中受益。例如，可以从Oracle存储过程或数据库触发器调用网关。</p>
                     </li>
                     <li>
                        <p>交易支持</p>
                        <p>网关和Oracle数据库允许以协调的方式执行远程传输更新和Oracle数据库更新。</p>
                     </li>
                     <li>
                        <p>选择范围广<a id="d1823e344" class="indexterm-anchor"></a>工具</p>
                        <p>网关支持任何支持PL / SQL的工具或应用程序。</p>
                     </li>
                     <li>
                        <p><a id="d1823e355" class="indexterm-anchor"></a><a id="d1823e359" class="indexterm-anchor"></a> PL / SQL代码生成器</p>
                        <p>该<a id="d1823e368" class="indexterm-anchor"></a> Oracle Database Gateway for APPC提供了强大的开发环境，包括：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>用于存储与远程交易相关的信息的数据字典</p>
                           </li>
                           <li>
                              <p>生成PL / SQL事务接口包或TIP的工具</p>
                           </li>
                           <li>
                              <p>报告实用程序，用于查看存储在网关字典中的信息</p>
                           </li>
                           <li>
                              <p>一整套跟踪和调试工具</p>
                           </li>
                           <li>
                              <p>一组广泛的示例，用于演示如何针对数据存储（如DB2，IMS和CICS）使用该产品。</p>
                           </li>
                        </ul>
                     </li>
                     <li>
                        <p><a id="d1823e391" class="indexterm-anchor"></a>网站自治和安全</p>
                        <p>网关提供站点自治，允许您执行诸如对用户进行身份验证之类的操作。它还提供与大型计算机上运行的任何安全包兼容的基于角色的安全性。</p>
                     </li>
                     <li>
                        <p><a id="d1823e402" class="indexterm-anchor"></a>自动转换</p>
                        <p>通过<a id="d1823e411" class="indexterm-anchor"></a>提示，执行以下转换：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a id="d1823e419" class="indexterm-anchor"></a> ASCII往返<a id="d1823e424" class="indexterm-anchor"></a> EBCDIC</p>
                           </li>
                           <li>
                              <p>远程事务程序与PL / SQL数据类型之间的数据类型</p>
                           </li>
                           <li>
                              <p>多种语言的国家语言支持</p>
                           </li>
                        </ul>
                     </li>
                  </ul>
               </div>
            </div><a id="APPCW287"></a><a id="APPCW288"></a><a id="APPCW289"></a><a id="APPCW290"></a><a id="APPCW291"></a><a id="APPCW292"></a><a id="APPCW293"></a><a id="APPCW294"></a><a id="APPCW104"></a><div class="props_rev_3"><a id="GUID-400C46E0-0637-4C48-A255-C2B796438793" name="GUID-400C46E0-0637-4C48-A255-C2B796438793"></a><h3 id="APPCW-GUID-400C46E0-0637-4C48-A255-C2B796438793" class="sect3">条款</h3>
               <div>
                  <p>本指南中使用了以下术语和定义。有关网关及其组件和功能的更详细的术语和定义列表，请参阅<a href="appc-gateway-terminology.html#GUID-E053475C-BC9A-4116-A4AF-0E8449F33F4E">网关术语</a> 。
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-400C46E0-0637-4C48-A255-C2B796438793__GUID-94C8C03D-FF18-43F7-9DB2-7C1CAE112FA3">Oracle数据库</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>这是与网关通信的任何Oracle数据库实例，用于执行远程过程调用以执行远程事务程序（ <a id="d1823e531" class="indexterm-anchor"></a> RTP）。该<a id="d1823e536" class="indexterm-anchor"></a> Oracle数据库可以与网关位于同一系统上，也可以位于不同的系统上。如果它在不同的系统上，那么<a id="d1823e541" class="indexterm-anchor"></a>两个系统都需要Oracle Net。有关网关体系结构的视图，请参<a href="appc-gateway-introduction.html#GUID-3E12BDA4-0BD9-472D-A493-CB941CBADDC6__CHDGBGIB">见图1-2</a> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-400C46E0-0637-4C48-A255-C2B796438793__GUID-27583BD0-4A3E-4595-892C-8803E67BB542">OLTP</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>在线事务处理器（OLTP）是其他供应商提供的许多在线事务处理器中的任何一种，包括用于z / OS的CICS Transaction Server，IMS / TM和<a id="d1823e552" class="indexterm-anchor"></a> Z / OS</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-400C46E0-0637-4C48-A255-C2B796438793__GUID-CAFC2E8F-ACC6-45A9-9BB8-889EC7AF9C4B">PGAU</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>程序网关管理实用程序（PGAU）是用于定义和生成的工具<a id="d1823e561" class="indexterm-anchor"></a> PL / SQL事务接口包（TIP）。有关PGAU的更多信息，请参阅“ <a href="../appug/pga-utility-oracle-database-gateway-appc.html#APPUG200" target="_blank"><span class="italic">Oracle数据库网关中的APPC用户指南</span></a> ”中的第2章“过程网关管理实用程序”。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-400C46E0-0637-4C48-A255-C2B796438793__GUID-CB62E551-B4CB-46A2-991E-A81F9EC2950A">PG DD</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>程序网关数据字典（PG DD）是远程主机事务（RHT）定义和数据定义的存储库。<a id="d1823e575" class="indexterm-anchor"></a>生成TIP时，PGAU访问数据字典（PG DD）中的定义。PG DD具有数据类型依赖性，因为它支持PGAU，并且不打算由客户直接访问。有关PG DD表的列表，请参阅<a href="../appug/oracle-database-gateway-appc-data-dictionary.html#APPUG900" target="_blank"><span class="italic">Oracle Database Gateway for APPC用户指南</span></a>中的附录A“APPC数据字典的<a href="../appug/oracle-database-gateway-appc-data-dictionary.html#APPUG900" target="_blank"><span class="italic">数据库网关”</span></a> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-400C46E0-0637-4C48-A255-C2B796438793__GUID-0906C091-655A-48BD-B830-DA1B3FF9F762">RPC</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>远程过程调用（RPC）是一种编程调用，它响应来自另一个系统的请求在一个系统上执行程序逻辑。有关更多信息，请参阅<a href="appc-gateway-terminology.html#GUID-E053475C-BC9A-4116-A4AF-0E8449F33F4E">网关术语</a> ，并参阅<a href="../appug/oracle-database-gateway-appc-utl_pg-interface.html#APPUG120" target="_blank"><span class="italic">Oracle Database Gateway for APPC用户指南中的</span></a>附录C“网关RPC接口”。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-400C46E0-0637-4C48-A255-C2B796438793__GUID-7EED037B-ACF9-427B-9CD3-57A361E1485A">RTP</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>远程事务程序（RTP）是客户编写的事务，在OLTP的控制下运行，用户使用PL / SQL过程远程调用。要通过网关执行RTP，必须使用RPC执行PL / SQL程序来调用网关功能。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-400C46E0-0637-4C48-A255-C2B796438793__GUID-5F88A2A6-A29F-4A6F-9237-FDB62749F1D4">小费</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>一个<a id="d1823e612" class="indexterm-anchor"></a>事务接口包（TIP）是一个Oracle <a id="d1823e617" class="indexterm-anchor"></a>应用程序和远程事务程序之间存在的PL / SQL包。TIP是一组PL / SQL存储过程，它通过网关调用远程事务程序。TIP使用PL / SQL和<code class="codeph">UTL_RAW</code>或<code class="codeph">UTL_PG</code>函数执行远程主机数据的转换和重新格式化。
                     </p>
                     <p><a href="appc-gateway-introduction.html#GUID-400C46E0-0637-4C48-A255-C2B796438793__CHDDAFIE">图1-1</a>说明了前面章节中讨论的术语在网关架构中的应用。
                     </p>
                     <div class="figure" id="GUID-400C46E0-0637-4C48-A255-C2B796438793__CHDDAFIE">
                        <p class="titleinfigure">图1-1 Windows上网关与Oracle数据库的关系</p><img src="img/g1_1trms.gif" alt="下面是图1-1的描述" title="下面是图1-1的描述" longdesc="img_text/g1_1trms.html"><br><a href="img_text/g1_1trms.html">“图1-1 Windows上网关和Oracle数据库关系”的描述</a></div>
                     <!-- class="figure" -->
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="APPCW295"></a><a id="APPCW105"></a><div class="props_rev_3"><a id="GUID-3E12BDA4-0BD9-472D-A493-CB941CBADDC6" name="GUID-3E12BDA4-0BD9-472D-A493-CB941CBADDC6"></a><h3 id="APPCW-GUID-3E12BDA4-0BD9-472D-A493-CB941CBADDC6" class="sect3">网关的体系结构</h3>
               <div>
                  <p>Oracle Database Gateway for APPC的体系结构由几个组件组成：<a id="d1823e679" class="indexterm-anchor"></a><a id="d1823e683" class="indexterm-anchor"></a><a id="d1823e687" class="indexterm-anchor"></a></p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a id="d1823e694" class="indexterm-anchor"></a> Oracle数据库</p>
                     </li>
                     <li>
                        <p>网关</p>
                        <p>必须在可运行该服务器的服务器上安装Oracle Database Gateway for APPC <a id="d1823e704" class="indexterm-anchor"></a>所需的操作系统版本。
                        </p>
                     </li>
                     <li>
                        <p>一个OLTP<a id="d1823e712" class="indexterm-anchor"></a></p>
                        <p>必须可以使用SNA或TCP / IP通信协议从网关访问OLTP。多<a id="d1823e718" class="indexterm-anchor"></a><a id="d1823e722" class="indexterm-anchor"></a> Oracle数据库可以访问同一个网关。可以将单个系统网关安装配置为访问多个OLTP。</p>
                     </li>
                  </ul>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><span class="bold">对于使用TCP / IP支持IMS Connect的网关：</span>唯一<a id="d1823e733" class="indexterm-anchor"></a>通过TCP / IP支持的OLTP是IMS通过IMS Connect。
                        </p>
                        <p>使用TCP / IP协议，系统必须可以访问OLTP。多<a id="d1823e740" class="indexterm-anchor"></a> Oracle数据库可以访问同一个网关。可以将单系统网关安装配置为访问多个OLTP。可以从IMS Connect访问多个IMS。如果您有许多可用的IMS Connect系统，则其中任何一个都可以连接到一个或多个IMS系统。
                        </p>
                     </li>
                  </ul>
                  <p><a href="appc-gateway-introduction.html#GUID-3E12BDA4-0BD9-472D-A493-CB941CBADDC6__CHDGBGIB">图1-2</a>说明了使用SNA或TCP / IP的Oracle Database Gateway for APPC的体系结构，如上一节所述。
                  </p>
                  <div class="figure" id="GUID-3E12BDA4-0BD9-472D-A493-CB941CBADDC6__CHDGBGIB">
                     <p class="titleinfigure">图1-2网关架构</p><img src="img/g1_2arch.gif" alt="下面是图1-2的描述" title="下面是图1-2的描述" longdesc="img_text/g1_2arch.html"><br><a href="img_text/g1_2arch.html">“图1-2网关架构”的描述</a></div>
                  <!-- class="figure" -->
               </div>
            </div><a id="APPCW106"></a><div class="props_rev_3"><a id="GUID-1545F917-23F3-4809-9E41-48365BEC9D9E" name="GUID-1545F917-23F3-4809-9E41-48365BEC9D9E"></a><h3 id="APPCW-GUID-1545F917-23F3-4809-9E41-48365BEC9D9E" class="sect3">网关的实施</h3>
               <div>
                  <p>无论您的通信协议是SNA还是IMS Connect的TCP / IP支持，网关的基本结构都是相同的。该网关与Microsoft Windows上的Oracle数据库实例具有一些相同的组件。它有以下组件：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>主目录，类似于与Oracle实例的<span class="italic"><code class="codeph">ORACLE_HOME</code></span>环境变量关联的目录;</p>
                     </li>
                     <li>
                        <p>系统标识符，标识为<span class="italic"><code class="codeph">sid</code></span>或<span class="italic"><code class="codeph">ORACLE_SID</code></span> ;</p>
                     </li>
                     <li>
                        <p>初始化参数文件，类似于Oracle数据库<a id="d1823e829" class="indexterm-anchor"></a><a id="d1823e831" class="indexterm-anchor"></a> init <span class="italic">sid</span> .ora文件。
                        </p>
                     </li>
                  </ul>
                  <p>网关没有：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>控制，重做日志或数据库文件;</p>
                     </li>
                     <li>
                        <p>与已安装的Oracle数据库关联的完整子目录和辅助文件集。</p>
                     </li>
                  </ul>
                  <p>由于网关没有后台进程且不需要管理实用程序（如Oracle Enterprise Manager），因此无需启动网关产品。<a id="d1823e850" class="indexterm-anchor"></a>每<a id="d1823e855" class="indexterm-anchor"></a>访问特定网关的Oracle数据库用户会话在Windows上创建一个独立的进程，该进程又运行网关服务器并执行SNA或TCP / IP功能以与OLTP通信。</p>
               </div>
            </div><a id="APPCW107"></a><div class="props_rev_3"><a id="GUID-B7302561-3830-4052-B397-6741162B0E69" name="GUID-B7302561-3830-4052-B397-6741162B0E69"></a><h3 id="APPCW-GUID-B7302561-3830-4052-B397-6741162B0E69" class="sect3">与网关通信</h3>
               <div>
                  <p>所有的沟通之间<a id="d1823e895" class="indexterm-anchor"></a><a id="d1823e901" class="indexterm-anchor"></a>用户或客户端程序和网关通过一个<a id="d1823e906" class="indexterm-anchor"></a><a id="d1823e910" class="indexterm-anchor"></a>在Oracle数据库上执行的提示。TIP是一个标准<a id="d1823e915" class="indexterm-anchor"></a><a id="d1823e919" class="indexterm-anchor"></a><a id="d1823e923" class="indexterm-anchor"></a> PL / SQL包提供以下功能：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>声明可以与RTP交换的PL / SQL变量;</p>
                     </li>
                     <li>
                        <p>调用处理通信的网关包，用于启动对话，交换数据和终止对话;</p>
                     </li>
                     <li>
                        <p>处理PL / SQL数据类型与目标程序数据类型之间的所有数据类型转换。</p>
                     </li>
                  </ul>
                  <p>该<a id="d1823e940" class="indexterm-anchor"></a><a id="d1823e944" class="indexterm-anchor"></a> PGAU随网关提供，自动生成<a id="d1823e949" class="indexterm-anchor"></a><a id="d1823e955" class="indexterm-anchor"></a>提示规范。
                  </p>
                  <p>使用数据库链接将网关标识到Oracle数据库。 <a id="d1823e964" class="indexterm-anchor"></a> 数据库链接与用于标识其他Oracle数据库的构造相同。网关中的功能参考<a id="d1823e967" class="indexterm-anchor"></a> PL / SQL为：</p><pre class="oac_no_warn" dir="ltr"><span class="italic">函数名@ dblink_name</span> </pre></div>
            </div><a id="APPCW296"></a><a id="APPCW108"></a><div class="props_rev_3"><a id="GUID-8FD607A5-4E24-4D21-8511-CCD910540486" name="GUID-8FD607A5-4E24-4D21-8511-CCD910540486"></a><h3 id="APPCW-GUID-8FD607A5-4E24-4D21-8511-CCD910540486" class="sect3">远程过程调用函数</h3>
               <div>
                  <p>Oracle Database Gateway for APPC提供了一组由客户端调用的函数<a id="d1823e1009" class="indexterm-anchor"></a><a id="d1823e1015" class="indexterm-anchor"></a>远程过程调用（RPC）。这些功能指示网关在另一个系统上启动，传输数据和终止在OLTP下运行的RTP。
                  </p>
                  <p><a href="appc-gateway-introduction.html#GUID-8FD607A5-4E24-4D21-8511-CCD910540486__CHDIFJDI" title="此4列表列出了远程过程调用函数以及在网关和远程主机中调用的相关命令。列是Application，Oracle TIP，Gateway和Remote Host。">表1-1</a>列出了RPC函数以及在网关和远程主机中调用的关联命令。
                  </p>
                  <div class="tblformal" id="GUID-8FD607A5-4E24-4D21-8511-CCD910540486__CHDIFJDI">
                     <p class="titleintable">表1-1适用于APPC和远程主机的Oracle Database Gateway中的RPC功能和命令</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="适用于APPC和远程主机的Oracle Database Gateway中的RPC函数和命令" width="100%" border="1" summary="This 4 column table lists the remote procedural call functions and the correlating commands that are invoked in the gateway and remote host. The columns are Application, Oracle TIP, Gateway, and Remote Host. " frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="26%" id="d1823e1038">应用</th>
                              <th align="left" valign="bottom" width="28%" id="d1823e1041">Oracle提示</th>
                              <th align="left" valign="bottom" width="18%" id="d1823e1044">网关</th>
                              <th align="left" valign="bottom" width="28%" id="d1823e1047">远程主机</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d1823e1052" headers="d1823e1038 ">
                                 <p><code class="codeph">致电tip_init</code></p>
                              </td>
                              <td align="left" valign="top" width="28%" headers="d1823e1052 d1823e1041 ">
                                 <p><code class="codeph">tip_init</code></p>
                                 <p><code class="codeph">打电话给pgainit @ gateway</code></p>
                              </td>
                              <td align="left" valign="top" width="18%" headers="d1823e1052 d1823e1044 ">
                                 <p><code class="codeph">PGAINIT</code></p>
                              </td>
                              <td align="left" valign="top" width="28%" headers="d1823e1052 d1823e1047 ">
                                 <p>启动计划</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d1823e1071" headers="d1823e1038 ">
                                 <p><code class="codeph">调用tip_main</code></p>
                              </td>
                              <td align="left" valign="top" width="28%" headers="d1823e1071 d1823e1041 ">
                                 <p><code class="codeph">tip_main</code></p>
                                 <p><code class="codeph">打电话给pgaxfer @ gateway</code></p>
                              </td>
                              <td align="left" valign="top" width="18%" headers="d1823e1071 d1823e1044 ">
                                 <p><code class="codeph">PGAXFER</code></p>
                              </td>
                              <td align="left" valign="top" width="28%" headers="d1823e1071 d1823e1047 ">
                                 <p>交换数据</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d1823e1090" headers="d1823e1038 ">
                                 <p><code class="codeph">叫tip_term</code></p>
                              </td>
                              <td align="left" valign="top" width="28%" headers="d1823e1090 d1823e1041 ">
                                 <p><code class="codeph">tip_term</code></p>
                                 <p><code class="codeph">打电话给pgaterm @ gateway</code></p>
                              </td>
                              <td align="left" valign="top" width="18%" headers="d1823e1090 d1823e1044 ">
                                 <p><code class="codeph">PGATERM</code></p>
                              </td>
                              <td align="left" valign="top" width="28%" headers="d1823e1090 d1823e1047 ">
                                 <p>终止程序</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div><a id="APPCW109"></a><div class="props_rev_3"><a id="GUID-96043CA3-D580-4579-BACE-4865BFAE9BDD" name="GUID-96043CA3-D580-4579-BACE-4865BFAE9BDD"></a><h4 id="APPCW-GUID-96043CA3-D580-4579-BACE-4865BFAE9BDD" class="sect4">RPC函数的描述</h4>
                  <div>
                     <p>以下部分描述RPC函数如何使用SNA或TCP / IP通信协议在网关上执行。</p>
                  </div><a id="APPCW110"></a><div class="props_rev_3"><a id="GUID-B6180A6D-EAC2-44DC-A950-9D250670E7C2" name="GUID-B6180A6D-EAC2-44DC-A950-9D250670E7C2"></a><h5 id="APPCW-GUID-B6180A6D-EAC2-44DC-A950-9D250670E7C2" class="sect5">远程事务启动</h5>
                     <div>
                        <p>该<a id="d1823e1188" class="indexterm-anchor"></a><a id="d1823e1192" class="indexterm-anchor"></a><a id="d1823e1196" class="indexterm-anchor"></a> TIP使用其中一个网关功能<code class="codeph">PGAINIT</code>启动与远程主机系统的连接。</p>
                        <p><span class="bold">通信协议是SNA</span> ： <code class="codeph">PGAINIT</code> <a id="d1823e1212" class="indexterm-anchor"></a><a id="d1823e1214" class="indexterm-anchor"></a><a id="d1823e1220" class="indexterm-anchor"></a><a id="d1823e1222" class="indexterm-anchor"></a>提供所需的输入<a id="d1823e1227" class="indexterm-anchor"></a> SNA参数用于启动与目标事务程序的对话。这些参数通过SNA网络发送，该网络将会话标识符返回给<code class="codeph">PGAINIT</code> 。将来对目标程序的任何调用都使用会话标识符作为<code class="codeph">INPUT</code>参数。
                        </p>
                        <p><span class="bold">当通信协议是TCP / IP时</span> ： <code class="codeph">PGAINIT</code> <a id="d1823e1245" class="indexterm-anchor"></a><a id="d1823e1247" class="indexterm-anchor"></a><a id="d1823e1253" class="indexterm-anchor"></a><a id="d1823e1255" class="indexterm-anchor"></a><a id="d1823e1259" class="indexterm-anchor"></a>提供所需的TCP / IP参数作为输入。使用<a id="d1823e1264" class="indexterm-anchor"></a> pg4tcpmap工具来映射参数。这些参数通过TCP / IP网络发送，以启动与目标事务程序的对话，TCP / IP网络返回一个<a id="d1823e1272" class="indexterm-anchor"></a><a id="d1823e1276" class="indexterm-anchor"></a>套接字文件描述符到<code class="codeph">PGAINIT</code> 。将来调用目标程序<a id="d1823e1282" class="indexterm-anchor"></a> <code class="codeph">PGAXFER</code>和<a id="d1823e1287" class="indexterm-anchor"></a> <code class="codeph">PGATERM</code>使用套接字文件描述符作为输入参数。
                        </p>
                        <p>有关<code class="codeph">pg4tcpmap</code>工具的功能和用法的更多信息，请参阅本指南中的<a href="appc-gateway-initialization-parameters-tcp-ip.html#GUID-67D9D370-DB10-430B-93B8-BD8844DE7E3E">“TCP / IP通信协议的网关初始化参数”</a>和“ <a href="../appug/pg4tcpmap-commands-tcpip.html#APPUG600" target="_blank"><span class="italic">Oracle数据库网关APPC用户指南”的</span></a>第6章。
                        </p>
                     </div>
                  </div><a id="APPCW111"></a><div class="props_rev_3"><a id="GUID-71F30B22-247D-4CC4-BD6E-6534ACFB9EA1" name="GUID-71F30B22-247D-4CC4-BD6E-6534ACFB9EA1"></a><h5 id="APPCW-GUID-71F30B22-247D-4CC4-BD6E-6534ACFB9EA1" class="sect5">数据交换</h5>
                     <div>
                        <p>建立会话后，调用数据库网关函数<a id="d1823e1350" class="indexterm-anchor"></a><a id="d1823e1352" class="indexterm-anchor"></a> <code class="codeph">PGAXFER</code>可以以输入和输出变量的形式交换数据。<code class="codeph">PGAXFER</code>向目标事务程序发送和接收缓冲区。网关将缓冲区视为仅RAW字节流。居住在中的TIP <a id="d1823e1364" class="indexterm-anchor"></a><a id="d1823e1366" class="indexterm-anchor"></a> Oracle数据库负责在将缓冲区发送到网关之前将应用程序的P L / SQL数据类型转换为RAW。它还负责在将结果返回给应用程序之前将RAW转换为PL / SQL数据类型。
                        </p>
                     </div>
                  </div><a id="APPCW112"></a><div class="props_rev_3"><a id="GUID-6B7A2585-5F55-469C-83C0-177D121405F0" name="GUID-6B7A2585-5F55-469C-83C0-177D121405F0"></a><h5 id="APPCW-GUID-6B7A2585-5F55-469C-83C0-177D121405F0" class="sect5">远程交易终止</h5>
                     <div>
                        <p>当与远程程序的通信完成时，网关功能<code class="codeph">PGATERM</code>终止网关和远程主机之间的对话。
                        </p>
                        <p><a id="d1823e1415" class="indexterm-anchor"></a><a id="d1823e1419" class="indexterm-anchor"></a><a id="d1823e1423" class="indexterm-anchor"></a> <span class="bold">当通信协议是SNA</span> ：时， <code class="codeph">PGATERM</code>使用会话标识符作为<code class="codeph">INPUT</code>参数来请求会话终止。
                        </p>
                        <p><span class="bold">当通信协议是TCP / IP时</span> ： <a id="d1823e1442" class="indexterm-anchor"></a><a id="d1823e1446" class="indexterm-anchor"></a><a id="d1823e1450" class="indexterm-anchor"></a> <code class="codeph">PGATERM</code>使用TCP / IP的套接字文件描述符作为<code class="codeph">INPUT</code>参数来请求会话终止。
                        </p>
                     </div>
                  </div>
               </div>
            </div><a id="APPCW113"></a><div class="props_rev_3"><a id="GUID-E967E94D-8143-42A0-9654-1214D8F81BD6" name="GUID-E967E94D-8143-42A0-9654-1214D8F81BD6"></a><h3 id="APPCW-GUID-E967E94D-8143-42A0-9654-1214D8F81BD6" class="sect3">使用SNA的网关的事务类型</h3>
               <div>
                  <p>适用于APPC的Oracle数据库网关支持<a id="d1823e1494" class="indexterm-anchor"></a><a id="d1823e1498" class="indexterm-anchor"></a><a id="d1823e1502" class="indexterm-anchor"></a>从远程主机系统读取数据和向远程主机系统写入数据的三种类型的事务：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><span class="bold">一次性</span></p>
                        <p>在一个<a id="d1823e1514" class="indexterm-anchor"></a>一次性事务，应用程序初始化连接，交换数据，并终止连接，所有这些都在一次调用中完成。
                        </p>
                     </li>
                     <li>
                        <p><span class="bold">一贯</span></p>
                        <p>在一个<a id="d1823e1523" class="indexterm-anchor"></a>持久性事务，可以在终止对话之前执行与远程事务交换数据的多次调用。
                        </p>
                     </li>
                     <li>
                        <p><span class="bold">multiconversational</span></p>
                        <p>在一个<a id="d1823e1532" class="indexterm-anchor"></a>多会话事务，数据库网关服务器可用于在一次调用RTP中交换多个记录。</p>
                     </li>
                  </ul>
                  <p>有关事务类型的详细信息，请参阅“ <a href="../appug/developing-appc-client-app-sna-only.html#APPUG974" target="_blank"><span class="italic">Oracle数据库网关APPC用户指南</span></a> ”的第4章“客户端应用程序开发”中的“远程主机事务类型”。
                  </p>
                  <p>以下列表展示了它的强大功能<a id="d1823e1544" class="indexterm-anchor"></a><a id="d1823e1548" class="indexterm-anchor"></a><a id="d1823e1552" class="indexterm-anchor"></a>适用于APPC的Oracle数据库网关：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>您可以在大型机上启动CICS事务，以从PC应用程序的VSAM文件中检索数据。</p>
                     </li>
                     <li>
                        <p>您可以修改和监视远程过程控制计算机的操作。</p>
                     </li>
                     <li>
                        <p>您可以启动在DB2中执行静态SQL的IMS / TM事务。</p>
                     </li>
                     <li>
                        <p>你可以发起一个<a id="d1823e1570" class="indexterm-anchor"></a> CICS事务，在单个调用中返回大量记录。
                        </p>
                     </li>
                  </ul>
               </div>
            </div><a id="APPCW114"></a><div class="props_rev_3"><a id="GUID-AA7DD41D-6E8F-47A2-8940-42FD187D36D8" name="GUID-AA7DD41D-6E8F-47A2-8940-42FD187D36D8"></a><h3 id="APPCW-GUID-AA7DD41D-6E8F-47A2-8940-42FD187D36D8" class="sect3">使用TCP / IP的网关的事务类型</h3>
               <div>
                  <p>该<a id="d1823e1616" class="indexterm-anchor"></a>使用TCP / IP for IMS Connect的Oracle Database Gateway for APPC支持三种类型的事务套接字连接：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a id="d1823e1624" class="indexterm-anchor"></a> <span class="bold">事务套接字</span></p>
                        <p>套接字连接跨越单个事务。</p>
                     </li>
                     <li>
                        <p><a id="d1823e1634" class="indexterm-anchor"></a><a id="d1823e1638" class="indexterm-anchor"></a> <span class="bold">持久套接字</span></p>
                        <p>套接字连接跨多个事务。</p>
                     </li>
                     <li>
                        <p><a id="d1823e1648" class="indexterm-anchor"></a><a id="d1823e1650" class="indexterm-anchor"></a> <span class="bold">非持久套接字</span></p>
                        <p>套接字连接跨越由一个输入和一个输出组成的单个交换。</p>
                        <div class="infoboxnote" id="GUID-AA7DD41D-6E8F-47A2-8940-42FD187D36D8__GUID-F0D3BA2C-84BF-4A73-A686-6A43D1AD1F9B">
                           <p class="notep1">注意：</p>
                           <p>如果您计划实现会话事务，请不要使用非持久套接字类型，因为会发生多个连接和断开连接。</p>
                        </div>
                        <p>有关如何输入这些参数的详细信息，请参阅本<a href="../appug/pg4tcpmap-commands-tcpip.html#APPUG600" target="_blank"><span class="italic">指南中有关APPC用户指南</span></a>的<a href="../appug/pg4tcpmap-commands-tcpip.html#APPUG600" target="_blank"><span class="italic">Oracle数据库网关</span></a>第6章中的<code class="codeph">pg4tcpmap</code>命令和<a href="configure-appc-gateway-using-tcp-ip.html#GUID-2E8F3302-CA66-45F1-A0F0-241FDEC9EBCE">使用TCP / IP通信协议的网关配置</a> 。
                        </p>
                        <p>您可以启动在DB2中执行静态SQL的IMS / TM事务，这说明了支持IMS Connect的TCP / IP的Oracle数据库网关APPC功能的强大功能。</p>
                     </li>
                  </ul>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>