<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="An Oracle Data Guard configuration requires that Oracle redo transport services be configured and monitored."></meta>
      <meta name="description" content="An Oracle Data Guard configuration requires that Oracle redo transport services be configured and monitored."></meta>
      <title>重做运输服务</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Concepts and Administration "></meta>
      <meta property="og:description" content="An Oracle Data Guard configuration requires that Oracle redo transport services be configured and monitored."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Concepts and Administration"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="data-guard-concepts-and-administration.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-02-12T10:50:21-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1999, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96244-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="oracle-data-guard-protection-modes.html" title="Previous" type="text/html"></link>
      <link rel="next" href="oracle-data-guard-redo-apply-services.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Data Guard Concepts and Administration"></meta>
    <meta name="dcterms.isVersionOf" content="SBYDB"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="oracle-data-guard-protection-modes.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="oracle-data-guard-redo-apply-services.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">概念和管理</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="oracle-data-guard-concepts.html" property="item" typeof="WebPage"><span property="name">概念和管理</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">重做运输服务</li>
            </ol>
            <a id="GUID-0EC71C7D-A80B-40AA-93E5-28BB7E24ED31" name="GUID-0EC71C7D-A80B-40AA-93E5-28BB7E24ED31"></a><a id="SBYDB00400"></a>
            
            <h2 id="SBYDB-GUID-0EC71C7D-A80B-40AA-93E5-28BB7E24ED31" class="sect2"><span class="enumeration_chapter">7</span>重做运输服务</h2>
         </header>
         <div class="ind">
            <div>
               <p>Oracle Data Guard配置要求配置和监视Oracle重做传输服务。</p>
               <p><a id="d15287e71" class="indexterm-anchor"></a>请参阅以下主题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="oracle-data-guard-redo-transport-services.html#GUID-04851F96-F8F3-4999-AAAD-83C4C3C7AE14" title="重做传输服务在Oracle Data Guard配置的成员之间执行重做数据的自动传输。">重做传输服务简介</a></p>
                  </li>
                  <li>
                     <p><a href="oracle-data-guard-redo-transport-services.html#GUID-8575AE63-9583-4149-9EDF-F4FD9E62B70A" title="必须先配置Oracle数据库，然后才能发送和接收重做数据。部分配置过程涉及设置重做传输安全性。">配置重做传输服务</a></p>
                  </li>
                  <li>
                     <p><a href="oracle-data-guard-redo-transport-services.html#GUID-34BCB162-D996-4678-97F1-497805764950" title="级联重做传输目标（也称为终端目标）从备用数据库间接接收主数据库重做，而不是直接从主数据库接收。">级联重做运输目的地</a></p>
                  </li>
                  <li>
                     <p><a href="oracle-data-guard-redo-transport-services.html#GUID-988FF469-5815-4FC3-B529-AE1BE9ACD67B" title="当您的配置包括级联备用数据库时，每个目标应定义一个LOG_ARCHIVE_DEST_n参数，该参数指向其源以便在故障转移期间使用。">级联备用数据的数据保护注意事项</a></p>
                  </li>
                  <li>
                     <p><a href="oracle-data-guard-redo-transport-services.html#GUID-A0AAA20B-4DF8-4698-A7E0-3BED5A2C11E9" title="要在创建Oracle Data Guard配置后验证它，请从配置中的任何数据库查询V $ DATAGUARD_CONFIG视图。">验证配置</a></p>
                  </li>
                  <li>
                     <p><a href="oracle-data-guard-redo-transport-services.html#GUID-282DA542-4C7C-40E2-A3CB-6486CDCF0C0A" title="您可以监控重做传输状态以及重做传输响应时间。">监控重做传输服务</a></p>
                  </li>
                  <li>
                     <p><a href="oracle-data-guard-redo-transport-services.html#GUID-665E1862-E9F2-4CB2-BFF5-B5F741FD475E" title="您可以优化重做传输以获得最佳性能。">调整重做运输</a></p>
                  </li>
               </ul>
            </div><a id="SBYDB4745"></a><div class="props_rev_3"><a id="GUID-04851F96-F8F3-4999-AAAD-83C4C3C7AE14" name="GUID-04851F96-F8F3-4999-AAAD-83C4C3C7AE14"></a><h3 id="SBYDB-GUID-04851F96-F8F3-4999-AAAD-83C4C3C7AE14" class="sect3"><span class="enumeration_section">7.1</span>重做传输服务简介</h3>
               <div>
                  <p><span class="bold">重做传输服务</span>在Oracle Data Guard配置的成员之间执行重做数据的自动传输。
                  </p>
                  <p>支持以下重做传输目标：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>Oracle Data Guard备用数据库</p>
                        <p>本指南介绍如何创建和管理物理，逻辑和快照备用数据库。</p>
                     </li>
                     <li>
                        <p>存档日志存储库</p>
                        <p>此目标类型用于存档重做日志文件的临时异地存储。归档日志存储库由Oracle数据库实例和物理备用控制文件组成。归档日志存储库不包含数据文件，因此它不支持角色转换。</p>
                        <p>用于创建存档日志存储库的过程与用于创建物理备用数据库的过程相同，但复制数据文件除外。</p>
                     </li>
                     <li>
                        <p>Oracle Streams下游捕获数据库</p>
                     </li>
                     <li>
                        <p>远程同步实例</p>
                        <p>有关<a href="creating-oracle-data-guard-far-sync-instance.html#GUID-8AD7FBA2-42B0-46CF-852B-1AF0CB4A36E8" title="An Oracle Data Guard far sync instance is a remote Oracle Data Guard destination that accepts redo from the primary database and then ships that redo to other members of the Oracle Data Guard configuration.">远程同步实例</a>的详细信息，请参阅<a href="creating-oracle-data-guard-far-sync-instance.html#GUID-8AD7FBA2-42B0-46CF-852B-1AF0CB4A36E8" title="Oracle Data Guard远程同步实例是远程Oracle Data Guard目标，它接受来自主数据库的重做，然后将该重做发送到Oracle Data Guard配置的其他成员。">使用远程</a>同步实例。
                        </p>
                     </li>
                     <li>
                        <p>零数据丢失恢复设备（恢复设备）</p>
                     </li>
                  </ul>
                  <p>每个重做传输目标都单独配置为通过两种重做传输模式之一接收重做数据：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>同步</p>
                        <p>同步重做传输模式相对于事务承诺同步地传输重做数据。在该事务生成的所有重做已成功发送到使用同步重做传输模式的每个启用的重做传输目标之前，事务无法提交。</p>
                        <p>虽然对一个主数据库和一个之间的距离没有限制<code class="codeph">SYNC</code>重做传输目的地，事务提交延迟增加作为主数据库和网络之间延迟增加<code class="codeph">SYNC</code>重做传输目的地。
                        </p>
                        <p>此传输模式由<a href="oracle-data-guard-protection-modes.html#GUID-16298839-9B8A-4E58-8EC9-27912E57F1CE" title="Oracle Data Guard lets you set different data protection modes.">Oracle Data Guard保护模式中</a>描述的最大保护和最大可用性数据保护<a href="oracle-data-guard-protection-modes.html#GUID-16298839-9B8A-4E58-8EC9-27912E57F1CE" title="Oracle Data Guard允许您设置不同的数据保护模式。">模式使用</a> 。
                        </p>
                        <div class="infoboxnote" id="GUID-04851F96-F8F3-4999-AAAD-83C4C3C7AE14__GUID-DE685756-6A0D-4246-B66C-94F93B0E0E18">
                           <p class="notep1">注意：</p>
                           <p>零数据丢失恢复设备不支持同步重做传输。</p>
                        </div>
                     </li>
                     <li>
                        <p>异步</p>
                        <p>异步重做传输模式相对于事务承诺异步地传输重做数据。事务可以在不等待该事务生成的重做成功发送到使用异步重做传输模式的任何重做传输目标的情况下提交。</p>
                        <p>此传输模式由<a href="oracle-data-guard-protection-modes.html#GUID-16298839-9B8A-4E58-8EC9-27912E57F1CE" title="Oracle Data Guard lets you set different data protection modes.">Oracle Data Guard保护模式中</a>描述的最高性能数据保护<a href="oracle-data-guard-protection-modes.html#GUID-16298839-9B8A-4E58-8EC9-27912E57F1CE" title="Oracle Data Guard允许您设置不同的数据保护模式。">模式使用</a> 。
                        </p>
                     </li>
                  </ul>
               </div>
            </div><a id="SBYDB4746"></a><div class="props_rev_3"><a id="GUID-8575AE63-9583-4149-9EDF-F4FD9E62B70A" name="GUID-8575AE63-9583-4149-9EDF-F4FD9E62B70A"></a><h3 id="SBYDB-GUID-8575AE63-9583-4149-9EDF-F4FD9E62B70A" class="sect3"><span class="enumeration_section">7.2</span>配置重做传输服务</h3>
               <div>
                  <p>必须先配置Oracle数据库，然后才能发送和接收重做数据。部分配置过程涉及设置重做传输安全性。</p>
                  <p>请参阅以下主题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="oracle-data-guard-redo-transport-services.html#GUID-FA3B203C-D28E-4A27-8585-9EBC19836F4C" title="重做传输使用Oracle Net会话来传输重做数据。">重做运输安全</a></p>
                     </li>
                     <li>
                        <p><a href="oracle-data-guard-redo-transport-services.html#GUID-45DFFA7C-3967-4B46-8C2C-DBD22A4D6A74" title="要指定重做传输目标，请使用LOG_ARCHIVE_DEST_n数据库初始化参数（其中n是1到31之间的整数）。">配置Oracle数据库以发送重做数据</a></p>
                     </li>
                     <li>
                        <p><a href="oracle-data-guard-redo-transport-services.html#GUID-AF64C4FE-2D16-4197-953A-25930F36CFA8" title="必须将重做传输目标配置为从重做源数据库接收和归档重做数据。">配置Oracle数据库以接收重做数据</a></p>
                     </li>
                  </ul>
                  <p>这些主题假设您对以下内容有透彻的了解：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>数据库管理员验证</p>
                     </li>
                     <li>
                        <p>数据库初始化参数</p>
                     </li>
                     <li>
                        <p>管理重做日志</p>
                     </li>
                     <li>
                        <p>管理归档重做日志</p>
                     </li>
                     <li>
                        <p>快速恢复区</p>
                     </li>
                     <li>
                        <p>Oracle Net配置</p>
                     </li>
                  </ul>
               </div><a id="SBYDB00523"></a><div class="props_rev_3"><a id="GUID-FA3B203C-D28E-4A27-8585-9EBC19836F4C" name="GUID-FA3B203C-D28E-4A27-8585-9EBC19836F4C"></a><h4 id="SBYDB-GUID-FA3B203C-D28E-4A27-8585-9EBC19836F4C" class="sect4"><span class="enumeration_section">7.2.1</span>重做传输安全性</h4>
                  <div>
                     <p>重做传输使用Oracle Net会话来传输重做数据。</p>
                     <p>这些重做传输会话使用安全套接字层（SSL）协议或远程登录密码文件进行身份验证。</p>
                  </div><a id="SBYDB4747"></a><div class="props_rev_3"><a id="GUID-DB2E46B2-2A4B-4DF0-B925-F07497F3C6A5" name="GUID-DB2E46B2-2A4B-4DF0-B925-F07497F3C6A5"></a><h5 id="SBYDB-GUID-DB2E46B2-2A4B-4DF0-B925-F07497F3C6A5" class="sect5"><span class="enumeration_section">7.2.1.1</span>使用SSL进行重做传输身份验证</h5>
                     <div>
                        <p>安全套接字层（SSL）是用于保护网络连接的行业标准协议。</p>
                        <p>SSL使用RSA公钥加密和对称密钥加密来提供身份验证，加密和数据完整性。在以下情况下，SSL自动用于两个Oracle数据库之间的重做传输身份验证：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>这些数据库是同一Oracle Internet Directory（OID）企业域的成员，该域允许使用当前用户数据库链接。</p>
                           </li>
                           <li>
                              <p>与数据库对应的<code class="codeph">LOG_ARCHIVE_DEST_</code> <span class="italic"><code class="codeph">n</code></span>和<code class="codeph">FAL_SERVER</code>数据库初始化参数使用为SSL配置的Oracle Net连接描述符。</p>
                           </li>
                           <li>
                              <p>每个数据库都有一个Oracle钱包或支持的硬件安全模块，其中包含一个用户证书，其名称（DN）与数据库的OID条目中的DN相匹配。</p>
                           </li>
                        </ul>
                        <div class="infoboxnotealso" id="GUID-DB2E46B2-2A4B-4DF0-B925-F07497F3C6A5__GUID-9D6495D5-D6A8-4002-A044-9FADA107C37C">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>有关SSL的更多信息，请参见<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sbydb&amp;id=DBSEG070" target="_blank"><span class="italic">Oracle数据库安全指南</span></a></p>
                              </li>
                              <li>
                                 <p>有关管理企业域的详细信息，请参见<a href="../dbimi/administering-enterprise-user-security.html#DBIMI130" target="_blank"><span class="italic">“Oracle数据库企业用户安全管理员指南”</span></a></p>
                              </li>
                              <li>
                                 <p>有关管理Oracle Internet Directory的信息，请参阅<a href="../olsag/oracle-label-security-using-oracle-internet-directory.html#OLSAG026" target="_blank"><span class="italic">“Oracle Label Security管理员指南”</span></a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div><a id="SBYDB4748"></a><div class="props_rev_3"><a id="GUID-6BF40A23-66E3-42C8-9CF5-DE715F648CD4" name="GUID-6BF40A23-66E3-42C8-9CF5-DE715F648CD4"></a><h5 id="SBYDB-GUID-6BF40A23-66E3-42C8-9CF5-DE715F648CD4" class="sect5"><span class="enumeration_section">7.2.1.2</span>使用密码文件<span class="enumeration_section">进行</span>重做传输身份验证</h5>
                     <div>
                        <p>如果不满足SSL身份验证要求，则每个数据库都必须使用远程登录密码文件。</p>
                        <p>在Oracle Data Guard配置中，所有物理和快照备用数据库都必须使用主数据库中密码文件的副本。如果源数据库和目标数据库上的数据库兼容性设置为12.2或更高，则只要授予或撤消管理权限（ <code class="codeph">SYSDG</code> ， <code class="codeph">SYSOPER</code> ， <code class="codeph">SYSDBA</code>等），就会自动刷新密码文件的副本，并且具有管理权限的任何用户的密码都已更改。唯一的例外是远同步实例。更新的密码文件仍必须手动复制到远程同步实例，因为远程同步实例会接收重做，但不会应用它。在远程同步实例中密码文件是最新的后，主服务器上包含密码更新的重做将自动传播到任何备用数据库，这些数据库设置为从该远程同步实例接收重做。应用重做时，备用数据库上的密码文件会更新。
                        </p>
                        <p>当密码文件用于重做传输身份验证时，将在启动重做传输会话的数据库与目标数据库之间比较用于重做传输身份验证的用户帐户的密码。两个数据库的密码必须相同才能创建重做传输会话。</p>
                        <p>默认情况下，使用密码文件时， <code class="codeph">SYS</code>用户的密码用于验证重做传输会话。通过将此参数设置为已被授予<code class="codeph">SYSOPER</code>权限的任何用户的名称， <code class="codeph">REDO_TRANSPORT_USER</code>数据库初始化参数可用于为重做传输身份验证选择不同的用户密码。为了便于管理，Oracle建议将<code class="codeph">REDO_TRANSPORT_USER</code>参数设置为重做源数据库和每个重做传输目标上的相同值。
                        </p>
                        <div class="infoboxnotealso" id="GUID-6BF40A23-66E3-42C8-9CF5-DE715F648CD4__GUID-96BA3BD3-823E-4D1F-89E9-A76A45DDFFA1">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sbydb&amp;id=ADMIN001" target="_blank"><span class="italic">“Oracle数据库管理员指南”</span></a> ，了解有关创建和维护远程登录密码文件的更多信息</p>
                        </div>
                     </div>
                  </div>
               </div><a id="SBYDB5028"></a><a id="SBYDB4749"></a><div class="props_rev_3"><a id="GUID-45DFFA7C-3967-4B46-8C2C-DBD22A4D6A74" name="GUID-45DFFA7C-3967-4B46-8C2C-DBD22A4D6A74"></a><h4 id="SBYDB-GUID-45DFFA7C-3967-4B46-8C2C-DBD22A4D6A74" class="sect4"><span class="enumeration_section">7.2.2</span>配置Oracle数据库以发送重做数据</h4>
                  <div>
                     <p>要指定重做传输目标，请使用<code class="codeph">LOG_ARCHIVE_DEST_</code> <span class="italic"><code class="codeph">n</code></span>数据库初始化参数（其中<span class="italic"><code class="codeph">n</code></span>是1到31之间的整数）。
                     </p>
                     <div class="section">
                        <p>有一个<code class="codeph">LOG_ARCHIVE_DEST_STATE_</code> <span class="italic"><code class="codeph">n</code></span>数据库初始化参数（其中<span class="italic"><code class="codeph">n</code></span>是1到31之间的整数），它对应于每个<code class="codeph">LOG_ARCHIVE_DEST_</code> <span class="italic"><code class="codeph">n</code></span>参数。此参数用于启用或禁用相应的重做目标。<a href="oracle-data-guard-redo-transport-services.html#GUID-45DFFA7C-3967-4B46-8C2C-DBD22A4D6A74__BABGFCHH" title="此2列表描述了LOG_ARCHIVE_DEST_STATE_n参数属性：ENABLE，DEFER，ALTERNATE和RESET。">表7-1</a>显示了可以分配给此参数的有效值。
                        </p>
                        <div class="tblformal" id="GUID-45DFFA7C-3967-4B46-8C2C-DBD22A4D6A74__BABGFCHH">
                           <p class="titleintable">表7-1 LOG_ARCHIVE_DEST_STATE_n初始化参数值</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="LOG_ARCHIVE_DEST_STATE_n初始化参数值" width="100%" border="1" summary="This 2 column table describes the LOG_ARCHIVE_DEST_STATE_n parameter attributes: ENABLE, DEFER, ALTERNATE, and RESET." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="18%" id="d15287e859">值</th>
                                    <th align="left" valign="bottom" width="82%" id="d15287e862">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="18%" id="d15287e867" headers="d15287e859 ">
                                       <p><code class="codeph">ENABLE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="82%" headers="d15287e867 d15287e862 ">
                                       <p><a id="d15287e873" class="indexterm-anchor"></a><a id="d15287e879" class="indexterm-anchor"></a>重做传输服务可以将重做数据传输到此目的地。这是默认值。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="18%" id="d15287e885" headers="d15287e859 ">
                                       <p><code class="codeph">DEFER</code></p>
                                    </td>
                                    <td align="left" valign="top" width="82%" headers="d15287e885 d15287e862 ">
                                       <p><a id="d15287e891" class="indexterm-anchor"></a><a id="d15287e897" class="indexterm-anchor"></a>重做传输服务不会将重做数据传输到此目标。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="18%" id="d15287e903" headers="d15287e859 ">
                                       <p><code class="codeph">备用</code></p>
                                    </td>
                                    <td align="left" valign="top" width="82%" headers="d15287e903 d15287e862 ">
                                       <p>如果与其关联目标的通信失败，则此目标将启用。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>通过将<code class="codeph">LOG_ARCHIVE_DEST_</code> <span class="italic"><code class="codeph">n</code></span>参数设置为包含一个或多个属性的字符串来配置重做传输目标。本节简要介绍最常用的属性。有关所有<code class="codeph">LOG_ARCHIVE_DEST_</code> <span class="italic"><code class="codeph">n</code></span>参数属性的完整说明，请参阅<a href="LOG_ARCHIVE_DEST_n-parameter-attributes.html#GUID-B04FC22C-F0B0-440F-BAF4-182EE547FCC1" title="这是LOG_ARCHIVE_DEST_n初始化参数的属性列表（其中n是1到31之间的整数）。">LOG_ARCHIVE_DEST_n</a>参数属性。
                        </p>
                        <p><code class="codeph">SERVICE</code>属性是重做传输目标的必需属性，必须是属性列表中指定的第一个属性。<code class="codeph">SERVICE</code>属性用于指定用于连接到重做传输目标的Oracle Net服务名称。服务名称必须通过Oracle Net命名方法解析为与重做传输目标上的Oracle Net侦听器匹配的Oracle Net连接描述符。连接描述符必须指定使用专用服务器连接，除非这是重做传输目标的默认连接类型。
                        </p>
                        <div class="infoboxnotealso" id="GUID-45DFFA7C-3967-4B46-8C2C-DBD22A4D6A74__GUID-1149A5E0-2FBD-48E4-9D9B-6E4A7B80318F">
                           <p class="notep1">也可以看看：</p>
                           <p>有关Oracle Net服务名称，连接描述符，侦听器和网络安全性的信息，请参见<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sbydb&amp;id=NETAG006" target="_blank"><span class="italic">“Oracle数据库网络服务管理员指南”</span></a></p>
                        </div>
                        <p><code class="codeph">SYNC</code>属性指定使用同步重做传输模式将重做数据发送到重做传输目标。
                        </p>
                        <p><code class="codeph">ASYNC</code>属性指定异步重做传输模式用于将重做数据发送到重做传输目标。如果既未指定<code class="codeph">SYNC</code>也未指定<code class="codeph">ASYNC</code>属性，则使用异步重做传输模式。
                        </p>
                        <p><code class="codeph">NET_TIMEOUT</code>属性指定<code class="codeph">LGWR</code>进程等待确认已使用同步重做传输模式的目标已成功接收重做数据的时间。如果在<code class="codeph">NET_TIMEOUT</code>秒内未收到确认，则重做传输连接将终止并记录错误。
                        </p>
                        <p>Oracle建议在使用同步重做传输模式时指定<code class="codeph">NET_TIMEOUT</code>属性，以便可以精确控制由重做传输故障引起的重做源数据库停顿的最大持续时间。有关监视同步重做传输模式响应时间的信息，请参阅<a href="oracle-data-guard-redo-transport-services.html#GUID-666D0186-B639-4DB2-9993-D1947230C50F" title="V $ REDO_DEST_RESP_HISTOGRAM视图包含每个重做传输目标的响应时间数据。">监视同步重做传输响应时间</a> 。
                        </p>
                        <div class="infoboxnote" id="GUID-45DFFA7C-3967-4B46-8C2C-DBD22A4D6A74__GUID-69048196-74E9-4FEA-B871-73A31B691415">
                           <p class="notep1">注意：</p>您还可以设置数据库初始化参数<code class="codeph">DATA_GUARD_SYNC_LATENCY</code> ，该参数对于所有同步备用目标都是全局的。它定义了在至少一个同步备用数据库确认收到重做后，主数据库在断开后续目标之前可能等待的最长时间（以秒为单位）。
                           <p>例如，假设您有三个同步备用目标，并将<code class="codeph">DATA_GUARD_SYNC_LATENCY</code>设置为值2。如果第一个备用数据库立即确认收到重做，则主数据库等待的时间不会超过2秒，以便其他两个备用数据库进行响应。如果一个或两个在2秒内响应，则它们将保持为活动目标。未及时响应的目标将标记为失败。在这两种情况下，主数据库仍处于零数据丢失保护模式，因为一个同步备用数据库已确认收到重做。在为<code class="codeph">REOPEN</code>属性指定的<code class="codeph">REOPEN</code>通过后，任何失败的同步备用数据库都会正常重新连接。
                           </p>
                        </div>
                        <p><code class="codeph">AFFIRM</code>属性用于指定从重做源数据库接收的重做在被写入备用重做日志之前不会被确认。<code class="codeph">NOAFFIRM</code>属性用于指定接收到的重做被确认，而不等待接收到的重做被写入备用重做日志。
                        </p>
                        <p><code class="codeph">DB_UNIQUE_NAME</code>属性用于指定重做传输目标的<code class="codeph">DB_UNIQUE_NAME</code> 。如果已定义<code class="codeph">LOG_ARCHIVE_CONFIG</code>数据库初始化参数且其值包含<code class="codeph">DG_CONFIG</code>列表，则必须指定<code class="codeph">DB_UNIQUE_NAME</code>属性。
                        </p>
                        <p>如果指定了<code class="codeph">DB_UNIQUE_NAME</code>属性，则其值必须与<code class="codeph">DG_CONFIG</code>列表中的<code class="codeph">DG_CONFIG</code> <code class="codeph">DB_UNIQUE_NAME</code>值匹配。它还必须与重做传输目标上的<code class="codeph">DB_UNIQUE_NAME</code>数据库初始化参数的值匹配。如果任一匹配失败，则会记录错误，并且无法对该目标执行重做传输。
                        </p>
                        <p><code class="codeph">VALID_FOR</code>属性用于指定重做传输服务何时将重做数据传输到重做传输目标。Oracle建议为Oracle Data Guard配置中的每个站点的每个重做传输目标指定<code class="codeph">VALID_FOR</code>属性，以便重做传输服务在角色转换后继续向所有备用数据库发送重做数据，而不管哪个备用数据库承担主要角色。
                        </p>
                        <p><code class="codeph">REOPEN</code>属性用于指定自动重新连接尝试与由于先前错误而处于非活动状态的重做传输目标之间的最小秒数。
                        </p>
                        <p><code class="codeph">COMPRESSION</code>属性用于指定重做数据以压缩形式传输到重做传输目标。重做传输压缩可以显着提高网络链路上的重做传输性能，具有低带宽和高延迟。
                        </p>
                        <p>重做传输压缩是Oracle Advanced Compression选项的一项功能。在使用重做传输压缩功能之前，您必须购买此选项的许可证。</p>
                        <p>以下示例使用本节中描述的所有<code class="codeph">LOG_ARCHIVE_DEST_</code> <span class="italic"><code class="codeph">n</code></span>属性。已为两个目标指定了<code class="codeph">DB_UNIQUE_NAME</code> ，因为已使用压缩。如果在任一目的地发生重做传输故障，则重做传输尝试重新连接到该目的地，但不会超过每60秒一次。
                        </p><pre class="oac_no_warn" dir="ltr">DB_UNIQUE_NAME = BOSTON LOG_ARCHIVE_CONFIG ='DG_CONFIG =（BOSTON，CHICAGO，HARTFORD）'LOG_ARCHIVE_DEST_2 ='SERVICE = CHICAGO ASYNC NOAFFIRM VALID_FOR =（ONLINE_LOGFILE，PRIMARY_ROLE）REOPEN = 60 COMPRESSION = ENABLE DB_UNIQUE_NAME = CHICAGO'LOG_ARCHIVE_DEST_STATE_2 ='ENABLE'LOG_ARCHIVE_DEST_3 ='SERVICE = HARTFORD SYNC AFFIRM NET_TIMEOUT = 30 VALID_FOR =（ONLINE_LOGFILE，PRIMARY_ROLE）REOPEN = 60 COMPRESSION = ENABLE DB_UNIQUE_NAME = HARTFORD'LOG_ARCHIVE_DEST_STATE_3 ='ENABLE'</pre><div class="infoboxnote" id="GUID-45DFFA7C-3967-4B46-8C2C-DBD22A4D6A74__GUID-8212D018-8BBF-43F8-BB8D-15B4454EBA9C">
                           <p class="notep1">注意：</p>
                           <p>零数据丢失恢复设备（恢复设备）的配置与任何备用数据库的配置相同。因此，在前面的示例中，由于Chicago是<code class="codeph">ASYNC</code>目标，因此它可以是备用数据库或恢复设备。（恢复设备不支持同步重做传输）</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div><a id="SBYDB4750"></a><div class="props_rev_3"><a id="GUID-DC156D33-A034-4766-85BF-ADF414C19945" name="GUID-DC156D33-A034-4766-85BF-ADF414C19945"></a><h5 id="SBYDB-GUID-DC156D33-A034-4766-85BF-ADF414C19945" class="sect5"><span class="enumeration_section">7.2.2.1</span>使用V $ ARCHIVE_DEST查看属性</h5>
                     <div>
                        <p>可以查询<code class="codeph">V$ARCHIVE_DEST</code>视图以查看每个重做传输目标的当前设置和状态。
                        </p>
                        <div class="section">
                           <p></p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div><a id="SBYDB4751"></a><div class="props_rev_3"><a id="GUID-AF64C4FE-2D16-4197-953A-25930F36CFA8" name="GUID-AF64C4FE-2D16-4197-953A-25930F36CFA8"></a><h4 id="SBYDB-GUID-AF64C4FE-2D16-4197-953A-25930F36CFA8" class="sect4"><span class="enumeration_section">7.2.3</span>配置Oracle数据库以接收重做数据</h4>
                  <div>
                     <p>必须将重做传输目标配置为从重做源数据库接收和归档重做数据。</p>
                     <p>请参阅以下内容：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="oracle-data-guard-redo-transport-services.html#GUID-E6EC6104-3C38-482D-B807-A0E84ECFB937">管理备用重做日志</a></p>
                        </li>
                        <li>
                           <p><a href="oracle-data-guard-redo-transport-services.html#GUID-7F508757-E1BA-4608-8D0E-946C3C765F61">将重做直接写入存档重做日志文件的情况</a></p>
                        </li>
                     </ul>
                  </div><a id="SBYDB4752"></a><div class="props_rev_3"><a id="GUID-E6EC6104-3C38-482D-B807-A0E84ECFB937" name="GUID-E6EC6104-3C38-482D-B807-A0E84ECFB937"></a><h5 id="SBYDB-GUID-E6EC6104-3C38-482D-B807-A0E84ECFB937" class="sect5"><span class="enumeration_section">7.2.3.1</span>管理备用重做日志</h5>
                     <div>
                        <p>同步和异步重做传输模式要求重做传输目标具有备用重做日志。备用重做日志<a id="d15287e1332" class="indexterm-anchor"></a>用于存储从另一个Oracle数据库接收的重做。备用重做日志在结构上与重做日志相同，并使用用于创建和管理重做日志的相同SQL语句创建和管理。
                        </p>
                        <p>通过重做传输从另一个Oracle数据库接收的重做由远程文件服务器（RFS）前台进程写入当前备用重做日志组。当重做源数据库上发生日志切换时，传入的重做将被写入下一个备用重做日志组，之前使用的备用重做日志组将由<code class="codeph">ARC</code> <span class="italic"><code class="codeph">n</code></span>后台进程存档。
                        </p>
                        <p>在重做源数据库中顺序填充然后归档重做日志文件组的过程通过顺序填充和归档备用重做日志组在每个重做传输目标上进行镜像。</p>
                        <p>每个备用重做日志文件必须至少与重做源数据库的重做日志中的最大重做日志文件一样大。为了便于管理，Oracle建议重做源数据库的重做日志中的所有重做日志文件和重做传输目标的备用重做日志的大小相同。</p>
                        <p>对于重做源数据库中的每个重做线程，备用重做日志必须至少比重做源数据库中的重做日志多一个重做日志组。在重做源数据库中，查询<code class="codeph">V$LOG</code>视图以确定重做源数据库的重做日志中有多少重做日志组，并查询<code class="codeph">V$THREAD</code>视图以确定重做源数据库中存在多少重做线程。
                        </p>
                        <p>在重做源数据库上执行以下查询，以确定每个日志文件的大小以及重做日志中的日志组数：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT GROUP＃，BYTES FROM V $ LOG;</pre><p>对重做目标数据库执行以下查询，以确定每个日志文件的大小以及备用重做日志中的日志组数：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT GROUP＃，BYTES FROM V $ STANDBY_LOG;</pre><p>如果重做源数据库是Oracle Real Applications Cluster（Oracle RAC）或Oracle Real Application Clusters One节点（Oracle RAC One Node）数据库，请在重做源数据库中查询<code class="codeph">V$LOG</code>视图以确定存在多少重做线程并指定将重做日志组添加到备用重做日志时的相应线程号。
                        </p>
                        <p>以下示例SQL语句在数据库中创建备用重做日志，该数据库用于从具有两个重做线程的重做源数据库接收重做：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; ALTER DATABASE添加STANDBY LOGFILE THREAD 1 SIZE 500M; SQL&gt; ALTER DATABASE添加STANDBY LOGFILE THREAD 1 SIZE 500M; SQL&gt; ALTER DATABASE添加STANDBY LOGFILE THREAD 1 SIZE 500M; SQL&gt; ALTER DATABASE添加STANDBY LOGFILE THREAD 2 SIZE 500M; SQL&gt; ALTER DATABASE添加STANDBY LOGFILE THREAD 2 SIZE 500M; SQL&gt; ALTER DATABASE添加STANDBY LOGFILE THREAD 2 SIZE 500M;</pre><div class="infoboxnote" id="GUID-E6EC6104-3C38-482D-B807-A0E84ECFB937__GUID-45428B55-0C4E-47B6-B422-EA18D87B1513">
                           <p class="notep1">注意：</p>
                           <p>每当将重做日志组添加到主数据库时，还必须将日志组添加到配置中每个备用数据库的备用重做日志中。否则，备用数据库可能会在主日志切换后变得不同步，这可能会暂时阻止零数据丢失故障转移或导致在最大保护模式下运行的主数据库关闭。</p>
                        </div>
                     </div>
                  </div><a id="SBYDB5113"></a><div class="props_rev_3"><a id="GUID-7F508757-E1BA-4608-8D0E-946C3C765F61" name="GUID-7F508757-E1BA-4608-8D0E-946C3C765F61"></a><h5 id="SBYDB-GUID-7F508757-E1BA-4608-8D0E-946C3C765F61" class="sect5"><span class="enumeration_section">7.2.3.2将</span>重做直接写入存档重做日志文件的情况</h5>
                     <div>
                        <p>如果备用重做日志组不可用或者发送重做以解决重做间隙，则备用数据库接收的重做将直接写入存档的重做日志文件。发生这种情况时，redo将写入由一个<code class="codeph">LOG_ARCHIVE_DEST_</code> <span class="italic"><code class="codeph">n</code></span>参数的<code class="codeph">LOCATION</code>属性指定的位置，该参数对于从另一个数据库接收的归档重做有效。用于此目的的<code class="codeph">LOG_ARCHIVE_DEST_</code> <span class="italic"><code class="codeph">n</code></span>参数在挂载备用数据库时确定，并且每次修改<code class="codeph">LOG_ARCHIVE_DEST_</code> <span class="italic"><code class="codeph">n</code></span>参数时都会重新评估此选项。
                        </p>
                     </div>
                  </div>
               </div>
            </div><a id="SBYDB5122"></a><div class="props_rev_3"><a id="GUID-34BCB162-D996-4678-97F1-497805764950" name="GUID-34BCB162-D996-4678-97F1-497805764950"></a><h3 id="SBYDB-GUID-34BCB162-D996-4678-97F1-497805764950" class="sect3"><span class="enumeration_section">7.3</span>级联重做传输目的地</h3>
               <div>
                  <p>级联重做传输目标（也称为终端目标）从备用数据库间接接收主数据库重做，而不是直接从主数据库接收。</p>
                  <p>在将主数据库重做应用于其本地数据库文件的同时将主数据库重做级联到一个或多个终端目标的物理备用数据库称为级联备用数据库。</p>
                  <p>通过级联，与执行重做传输相关的开销从主数据库卸载到级联备用数据库。</p>
                  <p>级联备用数据库可以将主数据库重做级联到最多30个终端目标。</p>
                  <p>级联备用数据库可以实时级联重做<a id="d15287e1564" class="indexterm-anchor"></a><a id="d15287e1566" class="indexterm-anchor"></a><a id="d15287e1570" class="indexterm-anchor"></a> （因为它被写入备用重做日志文件）或非实时（因为完整的备用重做日志文件正在级联备用数据库中存档）。
                  </p>
                  <p>级联具有以下限制：<a id="d15287e1577" class="indexterm-anchor"></a><a id="d15287e1581" class="indexterm-anchor"></a></p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>只有物理备用数据库才能级联重做。</p>
                     </li>
                     <li>
                        <p>实时级联需要Oracle Active Data Guard选项的许可证。</p>
                     </li>
                     <li>
                        <p>仅在目的地1到10上支持非实时级联。（所有目的地都支持实时级联。）</p>
                     </li>
                  </ul>
                  <div class="infoboxnote" id="GUID-34BCB162-D996-4678-97F1-497805764950__GUID-F36FDDF8-2F72-423A-B0E7-2331A1BF6CA9">
                     <p class="notep1">注意：</p>
                     <p>有关<a href="upgrading-patching-downgrading-oracle-data-guard-configuration.html#GUID-784C06D8-9CFA-4244-BA55-D7003CAB3F1E" title="There are several points to consider before beginning to patch or upgrade your Oracle Database software.">在</a> Oracle数据库升级期间如何处理级联重做传输目标的信息，请参阅<a href="upgrading-patching-downgrading-oracle-data-guard-configuration.html#GUID-784C06D8-9CFA-4244-BA55-D7003CAB3F1E" title="在开始修补或升级Oracle数据库软件之前，需要考虑几点。">修补程序或升级Oracle数据库软件</a>之前的信息。
                     </p>
                  </div>
                  <p>另请参阅以下主题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="oracle-data-guard-redo-transport-services.html#GUID-10CFB766-F688-4CD8-80CC-7824A522D1DF" title="这些步骤描述了如何配置终端目标。">配置终端目的地</a></p>
                     </li>
                     <li>
                        <p><a href="oracle-data-guard-redo-transport-services.html#GUID-5CE6C2AB-86AA-4402-AD7E-0820F3935827" title="可以将Data Guard配置设置为级联到单个物理备用数据库或多个物理备用数据库。">级联场景</a></p>
                     </li>
                  </ul>
               </div><a id="SBYDB5124"></a><a id="SBYDB5123"></a><div class="props_rev_3"><a id="GUID-10CFB766-F688-4CD8-80CC-7824A522D1DF" name="GUID-10CFB766-F688-4CD8-80CC-7824A522D1DF"></a><h4 id="SBYDB-GUID-10CFB766-F688-4CD8-80CC-7824A522D1DF" class="sect4"><span class="enumeration_section">7.3.1</span>配置终端目的地</h4>
                  <div>
                     <p>这些步骤描述了如何配置终端目标。</p>
                     <ol>
                        <li class="stepexpand"><span>选择要配置为级联备用数据库的物理备用数据库。</span></li>
                        <li class="stepexpand"><span>在级联备用数据库上，使用<code class="codeph">FAL_SERVER</code>数据库的Oracle Net别名或直接从主数据库接收重做的备用数据库配置<code class="codeph">FAL_SERVER</code>数据库初始化参数。</span></li>
                        <li class="stepexpand"><span>在级联备用数据库上，为一个或多个终端目标配置<code class="codeph">LOG_ARCHIVE_DEST_</code> <span class="italic"><code class="codeph">n</code></span>数据库初始化参数。使用终端目标的Oracle Net别名配置此目标的<code class="codeph">SERVICE</code>属性，并使<code class="codeph">VALID</code>属性在备用角色中对备用重做日志的归档有效。</span><div>
                              <p>如果在目标1到10上指定<code class="codeph">ASYNC</code>传输模式，则重做实时发送。如果未指定传输模式或在目标1到10上指定<code class="codeph">SYNC</code> ，则重做将以非实时方式发送。目的地11到31仅在<code class="codeph">ASYNC</code> （实时）传输模式下操作。
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>在终端目标，使用级联备用数据库的Oracle Net别名或直接连接到主数据库的另一个备用数据库配置<code class="codeph">FAL_SERVER</code>数据库初始化参数。虽然也可以指定主数据库，但这会破坏级联的目的，即减少主数据库上的重做传输开销。</span></li>
                        <li class="stepexpand"><span><a href="oracle-data-guard-redo-transport-services.html#GUID-10CFB766-F688-4CD8-80CC-7824A522D1DF__BEHHDCCI">示例7-1</a>显示了Oracle Data Guard配置成员使用的一些数据库初始化参数，这些参数包括名为<code class="codeph">boston</code>的主数据库，该数据库将重做发送到名为<code class="codeph">boston2</code>的本地物理备用数据库，然后将主数据库重做级联到远程物理数据库备用数据库名为<code class="codeph">denver</code> 。</span><div>
                              <p>还可以在数据库<code class="codeph">boston</code>上配置<code class="codeph">LOG_ARCHIVE_DEST_</code> <span class="italic"><code class="codeph">n</code></span>数据库初始化参数，该数据库<code class="codeph">boston</code>在数据库<code class="codeph">boston</code>处于备用角色时对数据库<code class="codeph">denver</code>备用重做日志存档有效。如果在数据库<code class="codeph">boston</code>和数据库<code class="codeph">boston2</code>之间执行切换，这将允许重做级联到数据库<code class="codeph">denver</code>继续。
                              </p>
                           </div>
                        </li>
                     </ol>
                     <div class="example" id="GUID-10CFB766-F688-4CD8-80CC-7824A522D1DF__BEHHDCCI">
                        <p class="titleinexample">例7-1级联重做时使用的一些初始化参数</p>
                        <p><span class="bold">主</span> <span class="bold">数据库</span></p><pre class="oac_no_warn" dir="ltr">DB_UNIQUE_NAME = boston FAL_SERVER = boston2 LOG_ARCHIVE_CONFIG ='DG_CONFIG =（boston，boston2，denver）'LOG_ARCHIVE_DEST_1 ='LOCATION = USE_DB_RECOVERY_FILE_DEST VALID_FOR =（ALL_LOGFILES，ALL_ROLES）DB_UNIQUE_NAME = boston'LOG_ARCHIVE_DEST_2 ='SERVICE = boston2 SYNC VALID_FOR =（ONLINE_LOGFILES，PRIMARY_ROLE） DB_UNIQUE_NAME = boston2'</pre><p><span class="bold">级联物理备用数据库</span></p><pre class="oac_no_warn" dir="ltr">DB_UNIQUE_NAME = boston2 FAL_SERVER =波士顿LOG_ARCHIVE_CONFIG = 'DG_CONFIG =（波士顿，boston2，丹佛）' LOG_ARCHIVE_DEST_1 = 'LOCATION = USE_DB_RECOVERY_FILE_DEST VALID_FOR =（ALL_LOGFILES，ALL_ROLES）DB_UNIQUE_NAME = boston2' LOG_ARCHIVE_DEST_2 =“SERVICE =丹佛VALID_FOR =（STANDBY_LOGFILES，STANDBY_ROLE）DB_UNIQUE_NAME =丹佛</pre><p><span class="bold">级联物理备用数据库</span></p><pre class="oac_no_warn" dir="ltr">DB_UNIQUE_NAME = denver FAL_SERVER = boston2 LOG_ARCHIVE_CONFIG ='DG_CONFIG =（boston，boston2，denver）'LOG_ARCHIVE_DEST_1 ='LOCATION = USE_DB_RECOVERY_FILE_DEST VALID_FOR =（ALL_LOGFILES，ALL_ROLES）DB_UNIQUE_NAME = denver'</pre></div>
                     <!-- class="example" -->
                     <div class="section">
                        <p>有关在设置级联环境后验证配置的信息，请参阅<span class="q">“ <a href="oracle-data-guard-redo-transport-services.html#GUID-A0AAA20B-4DF8-4698-A7E0-3BED5A2C11E9" title="要在创建Oracle Data Guard配置后验证它，请从配置中的任何数据库查询V $ DATAGUARD_CONFIG视图。">验证配置</a> ”</span> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="SBYDB5126"></a><div class="props_rev_3"><a id="GUID-5CE6C2AB-86AA-4402-AD7E-0820F3935827" name="GUID-5CE6C2AB-86AA-4402-AD7E-0820F3935827"></a><h4 id="SBYDB-GUID-5CE6C2AB-86AA-4402-AD7E-0820F3935827" class="sect4"><span class="enumeration_section">7.3.2</span>级联场景</h4>
                  <div>
                     <p>可以将Data Guard配置设置为级联到单个物理备用数据库或多个物理备用数据库。</p>
                     <p>请参阅以下主题：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="oracle-data-guard-redo-transport-services.html#GUID-D1F7299F-0924-46AA-B12D-D2579F8E0FCC" title="这些步骤提供了级联到物理备用数据库的示例。">级联到物理待机</a></p>
                        </li>
                        <li>
                           <p><a href="oracle-data-guard-redo-transport-services.html#GUID-09B8562C-2A31-4B7C-832D-027ED07BE5D4" title="这些步骤提供了级联到多个物理备用数据库的示例。">级联到多个物理备用数据库</a></p>
                        </li>
                     </ul>
                  </div><a id="SBYDB5127"></a><div class="props_rev_3"><a id="GUID-D1F7299F-0924-46AA-B12D-D2579F8E0FCC" name="GUID-D1F7299F-0924-46AA-B12D-D2579F8E0FCC"></a><h5 id="SBYDB-GUID-D1F7299F-0924-46AA-B12D-D2579F8E0FCC" class="sect5"><span class="enumeration_section">7.3.2.1</span>级联到物理备用</h5>
                     <div>
                        <p>这些步骤提供了级联到物理备用数据库的示例。</p>
                        <div class="section">
                           <p>在这种情况下，您拥有一个任务关键型主数据库。此数据库具有严格的性能和数据保护要求，因此您决定部署本地物理备用数据库以提供零数据丢失保护和远程级联物理备用数据库，以防止主要和本地备用数据库站点发生区域性灾难。</p>
                           <p>您可以通过执行以下步骤来实现上述目标：</p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li><span>在本地站点上创建物理备用数据库。</span></li>
                           <li><span>在远程站点上创建物理备用数据库，以便在主要和本地备用数据库站点上提供针对区域性灾难的保护。</span></li>
                           <li><span>将本地备用数据库配置为主数据库的<code class="codeph">SYNC</code>重做传输目标。</span></li>
                           <li><span>将远程物理备用数据库配置为本地备用数据库的终端目标。</span></li>
                        </ol>
                     </div>
                  </div><a id="SBYDB5128"></a><div class="props_rev_3"><a id="GUID-09B8562C-2A31-4B7C-832D-027ED07BE5D4" name="GUID-09B8562C-2A31-4B7C-832D-027ED07BE5D4"></a><h5 id="SBYDB-GUID-09B8562C-2A31-4B7C-832D-027ED07BE5D4" class="sect5"><span class="enumeration_section">7.3.2.2</span>级联到多个物理备用站</h5>
                     <div>
                        <p>这些步骤提供了级联到多个物理备用数据库的示例。</p>
                        <div class="section">
                           <p>在此方案中，您在北美拥有主数据库，并且您希望在欧洲部署此数据库的三个副本以支持只读报告应用程序。出于成本和性能原因，您不希望维护从北美到每个欧洲站点的网络链接。</p>
                           <p>您可以通过执行以下步骤来实现上述目标：</p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li><span>在您的北美网站和您的一个欧洲网站之间创建网络链接。</span></li>
                           <li><span>在每个欧洲站点创建物理备用数据库。</span></li>
                           <li><span>以实时查询模式打开物理备用数据库，如<a href="managing-oracle-data-guard-physical-standby-databases.html#GUID-D5FB88EC-799D-40E7-80E1-19474E3167E4" title="可以打开物理备用数据库以进行只读访问，并用于从主数据库卸载查询。">打开物理备用数据库中所述</a> 。</span></li>
                           <li><span>在跨大西洋网络链路的欧洲端点配置物理备用数据库，以便将重做级联到您的其他欧洲备用数据库。</span></li>
                           <li><span>将其他两个物理备用数据库配置为步骤4中配置的级联备用数据库的终端目标。</span></li>
                        </ol>
                     </div>
                  </div>
               </div>
            </div><a id="SBYDB5254"></a><div class="props_rev_3"><a id="GUID-988FF469-5815-4FC3-B529-AE1BE9ACD67B" name="GUID-988FF469-5815-4FC3-B529-AE1BE9ACD67B"></a><h3 id="SBYDB-GUID-988FF469-5815-4FC3-B529-AE1BE9ACD67B" class="sect3"><span class="enumeration_section">7.4</span>级联备用数据的数据保护注意事项</h3>
               <div>
                  <p>当您的配置包括级联备用数据库时，每个目标应定义一个<code class="codeph">LOG_ARCHIVE_DEST_</code> <span class="italic"><code class="codeph">n</code></span>参数，该参数指向其源以便在故障转移期间使用。
                  </p>
                  <p>实时级联使级联备用数据库能够提供与使用异步重做传输直接从主数据库接收重做的任何备用数据库几乎相同级别的数据保护。但是，尽管重做是实时转发的，但如果中断阻止所有重做到达终端目的地，则存在第二个网络跳的事实会产生额外数据丢失的可能性。</p>
               </div>
            </div><a id="SBYDB5407"></a><div class="props_rev_3"><a id="GUID-A0AAA20B-4DF8-4698-A7E0-3BED5A2C11E9" name="GUID-A0AAA20B-4DF8-4698-A7E0-3BED5A2C11E9"></a><h3 id="SBYDB-GUID-A0AAA20B-4DF8-4698-A7E0-3BED5A2C11E9" class="sect3"><span class="enumeration_section">7.5</span>验证配置</h3>
               <div>
                  <p>要在创建Oracle Data Guard配置后验证它，请从配置中的任何数据库查询<code class="codeph">V$DATAGUARD_CONFIG</code>视图。
                  </p>
                  <div class="section">
                     <p>该视图显示使用<code class="codeph">DB_UNIQUE_NAME</code>和<code class="codeph">LOG_ARCHIVE_CONFIG</code>初始化参数定义的唯一数据库名称。
                     </p>
                     <div class="infoboxnotealso" id="GUID-A0AAA20B-4DF8-4698-A7E0-3BED5A2C11E9__GUID-15C4DCEF-C9AE-45EB-9D25-4009B9E0D166">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>有关<code class="codeph">V$DATAGUARD_CONFIG</code>视图的更多信息，请<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sbydb&amp;id=REFRN30053" target="_blank"><span class="italic">参见Oracle数据库参考</span></a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="SBYDB4756"></a><div class="props_rev_3"><a id="GUID-282DA542-4C7C-40E2-A3CB-6486CDCF0C0A" name="GUID-282DA542-4C7C-40E2-A3CB-6486CDCF0C0A"></a><h3 id="SBYDB-GUID-282DA542-4C7C-40E2-A3CB-6486CDCF0C0A" class="sect3"><span class="enumeration_section">7.6</span>监控重做传输服务</h3>
               <div>
                  <p>您可以监控重做传输状态以及重做传输响应时间。</p>
                  <p>请参阅以下主题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="oracle-data-guard-redo-transport-services.html#GUID-A9239CAA-DCE9-4108-9516-980FF37A3AE5" title="您可以查询视图以监视重做源数据库上的重做传输状态。">监控重做传输状态</a></p>
                     </li>
                     <li>
                        <p><a href="oracle-data-guard-redo-transport-services.html#GUID-666D0186-B639-4DB2-9993-D1947230C50F" title="V $ REDO_DEST_RESP_HISTOGRAM视图包含每个重做传输目标的响应时间数据。">监控同步重做传输响应时间</a></p>
                     </li>
                     <li>
                        <p><a href="oracle-data-guard-redo-transport-services.html#GUID-05CE1D49-3DEE-4AAC-A887-55ED436912AF" title="重做传输中断时会发生重做间隙。">重做间隙检测和分辨率</a></p>
                     </li>
                     <li>
                        <p><a href="oracle-data-guard-redo-transport-services.html#GUID-EB15DAF9-40A8-4185-B4C2-F8BB4FBD33CE" title="您可以使用Oracle等待事件来跟踪重做源数据库上的重做传输等待时间。">重做传输服务等待事件</a></p>
                     </li>
                  </ul>
               </div><a id="SBYDB4757"></a><div class="props_rev_3"><a id="GUID-A9239CAA-DCE9-4108-9516-980FF37A3AE5" name="GUID-A9239CAA-DCE9-4108-9516-980FF37A3AE5"></a><h4 id="SBYDB-GUID-A9239CAA-DCE9-4108-9516-980FF37A3AE5" class="sect4"><span class="enumeration_section">7.6.1</span>监控重做传输状态</h4>
                  <div>
                     <p>您可以查询视图以监视重做源数据库上的重做传输状态。</p>
                     <div class="section">
                        <p>执行以下步骤以监视重做源数据库上的重做传输状态。</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>对重做源数据库执行以下查询以确定每个线程的最近归档序列号：</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT MAX（SEQUENCE＃），THREAD＃FROM V $ ARCHIVED_LOG  - &gt; WHERE RESETLOGS_CHANGE＃=（SELECT MAX（RESETLOGS_CHANGE＃）FROM V $ ARCHIVED_LOG） - &gt; GROUP BY THREAD＃;</pre></div>
                        </li>
                        <li class="stepexpand"><span>在重做源数据库上执行以下查询，以确定每个重做传输目标上最近归档的重做日志文件：</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT DESTINATION，STATUS，ARCHIVED_THREAD＃，ARCHIVED_SEQ＃ - &gt; FROM V $ ARCHIVE_DEST_STATUS  - &gt; WHERE STATUS &lt;&gt;'DEFERRED'和STATUS &lt;&gt;'INACTIVE';目的地状态ARCHIVED_THREAD＃ARCHIVED_SEQ＃------------------ ------ ---------------- ---- --------- / private1 / prmy / lad VALID 1 947 standby1 VALID 1 947</pre><p>对于每个目标，最近归档的重做日志文件应该相同。如果不是，则<code class="codeph">VALID</code>以外的状态可以识别在到该目的地的归档操作期间遇到的错误。
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>在重做源数据库上执行查询，以查明是否在特定的重做传输目标上收到了归档的重做日志文件。每个目的地都有一个与之关联的ID号。您可以在<code class="codeph">DEST_ID</code>中查询<code class="codeph">V$ARCHIVE_DEST</code>视图的<code class="codeph">DEST_ID</code>列，以标识每个目标的ID号。</span><div>
                              <p>假设目标1指向本地存档重做日志，并且目标2指向重做传输目标。在重做源数据库中执行以下查询以查明重做传输目标上是否缺少任何日志文件：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT LOCAL.THREAD＃，LOCAL.SEQUENCE＃FROM  - &gt;（SELECT THREAD＃，SEQUENCE＃FROM V $ ARCHIVED_LOG WHERE DEST_ID = 1） - &gt; LOCAL WHERE  - &gt; LOCAL.SEQUENCE＃NOT IN  - &gt;（SELECT SEQUENCE＃FROM V $ ARCHIVED_LOG WHERE DEST_ID = 2 AND  - &gt; THREAD＃= LOCAL.THREAD＃）; THREAD＃SEQUENCE＃--------- --------- 1 12 1 13 1 14</pre></div>
                        </li>
                        <li class="stepexpand"><span>在重做源数据库和每个重做传输目标上设置<code class="codeph">LOG_ARCHIVE_TRACE</code>数据库初始化参数以跟踪重做传输进度。有关完整的详细信息和示例，请参阅<a href="setting-LOG_ARCHIVE_TRACE-initialization-parameter.html#GUID-515A27B2-5163-42E1-A78D-B6E979BA54EB" title="Oracle数据库使用LOG_ARCHIVE_TRACE初始化参数来启用和控制日志归档和重做传输活动的综合跟踪信息的生成。">设置存档跟踪</a></span></li>
                     </ol>
                  </div>
               </div><a id="SBYDB00546"></a><div class="props_rev_3"><a id="GUID-666D0186-B639-4DB2-9993-D1947230C50F" name="GUID-666D0186-B639-4DB2-9993-D1947230C50F"></a><h4 id="SBYDB-GUID-666D0186-B639-4DB2-9993-D1947230C50F" class="sect4"><span class="enumeration_section">7.6.2</span>监控同步重做传输响应时间</h4>
                  <div>
                     <p><code class="codeph">V$REDO_DEST_RESP_HISTOGRAM</code>视图包含每个重做传输目标的响应时间数据。
                     </p>
                     <p>为通过同步重做传输模式发送的重做传输消息维护响应时间数据。</p>
                     <p>每个目标的数据由一系列行组成，每个响应时间占一行。为了简化记录保持，响应时间小于300秒，响应时间向上舍入到最接近的整秒。响应时间大于300秒的时间为600,1200,2400,4800或9600秒。</p>
                     <p>每行包含四列： <code class="codeph">FREQUENCY</code> ， <code class="codeph">DURATION</code> ， <code class="codeph">DEST_ID</code>和<code class="codeph">TIME</code> 。</p>
                     <p><code class="codeph">FREQUENCY</code>列包含已观察到给定响应时间的次数。<code class="codeph">DURATION</code>列对应于响应时间。<code class="codeph">DEST_ID</code>列标识目标。<code class="codeph">TIME</code>列包含上次更新行时的时间戳。
                     </p>
                     <p>此视图中的响应时间数据对于识别可能影响重做源数据库上的事务吞吐量的同步重做传输模式性能问题非常有用。它对调整<code class="codeph">NET_TIMEOUT</code>属性也很有用。
                     </p>
                     <p>接下来的三个示例显示目标2的示例查询，它对应于<code class="codeph">LOG_ARCHIVE_DEST_2</code>参数。要显示不同目标的响应时间数据，只需更改查询中的<code class="codeph">DEST_ID</code>即可。
                     </p>
                     <p>在重做源数据库上执行以下查询以显示目标2的响应时间直方图：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT FREQUENCY，DURATION FROM  - &gt; V $ REDO_DEST_RESP_HISTOGRAM WHERE DEST_ID = 2 AND FREQUENCY&gt; 1;</pre><p>在重做源数据库上执行以下查询以显示目标2的最慢响应时间：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT max（DURATION）FROM V $ REDO_DEST_RESP_HISTOGRAM  - &gt; WHERE DEST_ID = 2 AND FREQUENCY&gt; 1;</pre><p>在重做源数据库上执行以下查询以显示目标2的最快响应时间：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT min（DURATION）FROM V $ REDO_DEST_RESP_HISTOGRAM  - &gt; WHERE DEST_ID = 2 AND FREQUENCY&gt; 1;</pre><div class="infoboxnote" id="GUID-666D0186-B639-4DB2-9993-D1947230C50F__GUID-0D702739-CD2B-4F1B-90D1-B7B09853C2E2">
                        <p class="notep1">注意：</p>
                        <p>目标的最高观察响应时间不能超过为该目标指定的最高指定<code class="codeph">NET_TIMEOUT</code>值，因为如果重做传输目标在<code class="codeph">NET_TIMEOUT</code>秒内没有响应重做传输消息，则终止同步重做传输模式会话。
                        </p>
                     </div>
                  </div>
               </div><a id="SBYDB00718"></a><div class="props_rev_3"><a id="GUID-05CE1D49-3DEE-4AAC-A887-55ED436912AF" name="GUID-05CE1D49-3DEE-4AAC-A887-55ED436912AF"></a><h4 id="SBYDB-GUID-05CE1D49-3DEE-4AAC-A887-55ED436912AF" class="sect4"><span class="enumeration_section">7.6.3</span>重做间隙检测和分辨率</h4>
                  <div>
                     <p>重做传输中断时会发生重做间隙。</p>
                     <p>当重做传输恢复时，重做传输服务会自动检测重做间隙并通过将丢失的重做发送到目的地来解决它。</p>
                     <p></p>
                     <p>解决重做间隙所需的时间与间隙的大小成正比，并且与重做源数据库和重做传输目的地之间的网络链路的有效吞吐量成反比。使用重做传输压缩来减少重做间隙解析时间。<code class="codeph">LOG_ARCHIVE_DEST_</code> <span class="italic"><code class="codeph">n</code></span>参数的<code class="codeph">COMPRESSION</code>属性用于指定在传输到目标之前压缩重做数据。
                     </p>
                     <p>有关<code class="codeph">COMPRESSION</code>属性的更多信息，请参见<a href="LOG_ARCHIVE_DEST_n-parameter-attributes.html#GUID-B04FC22C-F0B0-440F-BAF4-182EE547FCC1" title="这是LOG_ARCHIVE_DEST_n初始化参数的属性列表（其中n是1到31之间的整数）。">LOG_ARCHIVE_DEST_n参数属性</a> 。
                     </p>
                  </div><a id="SBYDB4758"></a><div class="props_rev_3"><a id="GUID-97EB433B-4125-4082-9276-2454349BC4F8" name="GUID-97EB433B-4125-4082-9276-2454349BC4F8"></a><h5 id="SBYDB-GUID-97EB433B-4125-4082-9276-2454349BC4F8" class="sect5"><span class="enumeration_section">7.6.3.1</span>手动间隙分辨率</h5>
                     <div>
                        <p>在某些情况下，无法自动执行间隙分辨，必须手动执行。</p>
                        <div class="section">
                           <p>例如，如果主数据库不可用，则必须在逻辑备用数据库上手动执行重做间隙解析。</p>
                           <p>在物理备用数据库上执行以下查询以确定物理备用数据库上是否存在重做间隙：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT * FROM V $ ARCHIVE_GAP; THREAD＃LOW_SEQUENCE＃HIGH_SEQUENCE＃----------- ------------- -------------- 1 7 10</pre><p>前一个示例的输出表明物理备用数据库当前缺少从序列7到序列10的日志文件，用于线程1。</p>
                           <p>在主数据库上执行以下查询以在主数据库上找到存档的重做日志文件（假设主数据库上的本地存档目标是<code class="codeph">LOG_ARCHIVE_DEST_1</code> ）：</p>
                           <p></p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT NAME FROM V $ ARCHIVED_LOG THERE THREAD＃= 1 AND  - &gt; DEST_ID = 1 AND SEQUENCE＃BETWEEN 7和10;名称  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  - - ------------------------------- /primary/thread1_dest/arcr_1_7.arc /primary/thread1_dest/arcr_1_8.arc / primary / thread1_dest / arcr_1_9.arc</pre><div class="infoboxnote" id="GUID-97EB433B-4125-4082-9276-2454349BC4F8__GUID-FAB1A664-A7C3-4357-B764-E36A8D329F24">
                              <p class="notep1">注意：</p>
                              <p>该查询可以返回给定线程的连续序列。在这种情况下，没有实际间隙，但在生成这两个存档日志的时间段内禁用并启用了关联的线程。该查询还没有识别给定线程的尾端可能存在的间隙。例如，如果主数据库已生成针对线程1的序列100的归档日志，并且逻辑备用数据库已为给定线程接收的最新归档日志是与序列77关联的那个，则此查询不返回任何行，尽管与序列78到100相关联的存档日志存在间隙。</p>
                           </div>
                           <p>将这些日志文件复制到物理备用数据库，并使用<code class="codeph">ALTER DATABASE REGISTER LOGFILE</code>注册它们。例如：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; ALTER DATABASE REGISTER LOGFILE  - &gt;'/physical_standby1 / thread1_dest / arcr_1_7.arc'; SQL&gt; ALTER DATABASE REGISTER LOGFILE  - &gt;'/physical_standby1 / thread1_dest / arcr_1_8.arc'; SQL&gt; ALTER DATABASE REGISTER LOGFILE  - &gt;'/physical_standby1 /thread1_dest/arcr_1_9.arc';</pre><div class="infoboxnote" id="GUID-97EB433B-4125-4082-9276-2454349BC4F8__GUID-2E5EA6F4-DF54-4947-AD2F-F46DCB62CBDA">
                              <p class="notep1">注意：</p>
                              <p>物理备用数据库上的<code class="codeph">V$ARCHIVE_GAP</code>视图仅返回当前阻止重做应用继续的间隙。解决间隙后，再次在物理备用数据库上查询<code class="codeph">V$ARCHIVE_GAP</code>视图，以确定是否存在另一个间隙序列。重复此过程，直到没有间隙。
                              </p>
                           </div>
                           <p>要确定逻辑备用数据库上是否存在重做间隙，请查询逻辑备用数据库上的<code class="codeph">DBA_LOGSTDBY_LOG</code>视图。例如，以下查询表明归档重做日志文件序列中存在间隙，因为它在逻辑备用数据库上显示<code class="codeph">THREAD 1</code>两个文件。（如果没有间隙，则查询仅显示每个线程的一个文件。）输出显示最高的已注册文件是序列号10，但是文件中显示的序列号为6：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; COLUMN FILE_NAME FORMAT a55 SQL&gt; SELECT THREAD＃，SEQUENCE＃，FILE_NAME FROM DBA_LOGSTDBY_LOG L  - &gt; WHERE NEXT_CHANGE＃NOT IN  - &gt;（SELECT FIRST_CHANGE＃FROM DBA_LOGSTDBY_LOG WHERE L.THREAD＃= THREAD＃） - &gt; ORDER BY THREAD＃，序列＃; THREAD＃SEQUENCE＃FILE_NAME ---------- ---------- ------------------------- ---------------------- 1 6 /disk1/oracle/dbs/log-1292880008_6.arc 1 10 /disk1/oracle/dbs/log-1292880008_10.arc</pre><p>将缺少的日志文件（序列号为7,8和9）复制到逻辑备用系统，并使用<code class="codeph">ALTER DATABASE REGISTER LOGICAL LOGFILE</code>语句对其进行<code class="codeph">ALTER DATABASE REGISTER LOGICAL LOGFILE</code> 。例如：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; ALTER DATABASE REGISTER LOGICAL LOGFILE  - &gt;'/disk1/oracle/dbs/log-1292880008_7.arc'; SQL&gt; ALTER DATABASE REGISTER LOGICAL LOGFILE  - &gt;'/disk1/oracle/dbs/log-1292880008_8.arc'; SQL&gt; ALTER DATABASE REGISTER LOGICAL LOGFILE  - &gt;'/disk1/oracle/dbs/log-1292880008_9.arc';</pre><div class="infoboxnote" id="GUID-97EB433B-4125-4082-9276-2454349BC4F8__GUID-F49543CF-86CF-4DAB-B16B-676EBE8272B3">
                              <p class="notep1">注意：</p>
                              <p>如上所述，基于逻辑备用数据库上的<code class="codeph">DBA_LOGSTDBY_LOG</code>视图的查询仅返回当前阻止SQL Apply继续的间隙。解决间隙后，再次在逻辑备用数据库上查询<code class="codeph">DBA_LOGSTDBY_LOG</code>视图，以确定是否存在另一个间隙序列。重复此过程，直到没有间隙。
                              </p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div><a id="SBYDB5029"></a><a id="SBYDB4759"></a><div class="props_rev_3"><a id="GUID-EB15DAF9-40A8-4185-B4C2-F8BB4FBD33CE" name="GUID-EB15DAF9-40A8-4185-B4C2-F8BB4FBD33CE"></a><h4 id="SBYDB-GUID-EB15DAF9-40A8-4185-B4C2-F8BB4FBD33CE" class="sect4"><span class="enumeration_section">7.6.4</span>重做传输服务等待事件</h4>
                  <div>
                     <p>您可以使用Oracle等待事件来跟踪重做源数据库上的重做传输等待时间。</p>
                     <div class="section">
                        <p><a href="oracle-data-guard-redo-transport-services.html#GUID-EB15DAF9-40A8-4185-B4C2-F8BB4FBD33CE__BABHDCCD" title="此2列表列出了重做传输等待事件。第1列是等待事件。第2列是该事件的描述。">表7-2</a>列出了其中几个Oracle等待事件，这些事件位于<code class="codeph">V$SYSTEM_EVENT</code>动态性能视图中。
                        </p>
                        <p>有关重做传输使用的Oracle等待事件的完整列表，请参阅Oracle最高可用性体系结构（MAA）主页上的Oracle Data Guard重做传输和网络最佳实践白皮书：</p>
                        <p><a href="http://www.oracle.com/goto/maa" target="_blank"><code class="codeph">http://www.oracle.com/goto/maa</code></a></p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-EB15DAF9-40A8-4185-B4C2-F8BB4FBD33CE__BABHDCCD">
                        <p class="titleintable">表7-2重做传输等待事件</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="重做传输等待事件" width="100%" border="1" summary="This 2 column table lists Redo Transport Wait Events. Column 1 is the wait event. Column 2 is a description of that event. " frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d15287e3045">等待事件</th>
                                 <th align="left" valign="bottom" width="69%" id="d15287e3048">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d15287e3053" headers="d15287e3045 ">
                                    <p>LNS等待ATTACH</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d15287e3053 d15287e3048 ">
                                    <p>等待重做传输会话建立到所有<code class="codeph">ASYNC</code>和<code class="codeph">SYNC</code>重做传输目的地所花费的总时间</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d15287e3066" headers="d15287e3045 ">
                                    <p>LNS等待SENDREQ</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d15287e3066 d15287e3048 ">
                                    <p>等待重做数据写入所有<code class="codeph">ASYNC</code>和<code class="codeph">SYNC</code>重做传输目标所花费的总时间</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d15287e3079" headers="d15287e3045 ">
                                    <p>LNS等待DETACH</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d15287e3079 d15287e3048 ">
                                    <p>等待重做传输连接终止到所有<code class="codeph">ASYNC</code>和<code class="codeph">SYNC</code>重做传输目标所花费的总时间</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
               </div>
            </div><a id="SBYDB4760"></a><div class="props_rev_3"><a id="GUID-665E1862-E9F2-4CB2-BFF5-B5F741FD475E" name="GUID-665E1862-E9F2-4CB2-BFF5-B5F741FD475E"></a><h3 id="SBYDB-GUID-665E1862-E9F2-4CB2-BFF5-B5F741FD475E" class="sect3"><span class="enumeration_section">7.7</span>调整重做传输</h3>
               <div>
                  <p>您可以优化重做传输以获得最佳性能。</p>
                  <p></p>
                  <p>Data Guard自动调整重做传输以优化性能。但是，如果您想要更多地控制调整，可以使用调整重做传输中使用的以下区域：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>网络配置</p>
                     </li>
                     <li>
                        <p>存储配置</p>
                     </li>
                     <li>
                        <p>快恢复区</p>
                     </li>
                     <li>
                        <p>重做传输配置</p>
                     </li>
                  </ul>
                  <p>请参阅Oracle最高可用性体系结构（MAA）主页上提供的Oracle Data Guard重做传输和网络配置最佳实践白皮书：</p>
                  <p><a href="http://www.oracle.com/goto/maa" target="_blank"><code class="codeph">http://www.oracle.com/goto/maa</code></a></p>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>