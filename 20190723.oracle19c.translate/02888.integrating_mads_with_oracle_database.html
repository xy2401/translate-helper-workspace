<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="Oracle Database can authenticate and authorize Microsoft Active Directory users with the database directly without intermediate directories or Oracle Enterprise User Security."></meta>
      <meta name="description" content="Oracle Database can authenticate and authorize Microsoft Active Directory users with the database directly without intermediate directories or Oracle Enterprise User Security."></meta>
      <title>使用Microsoft Active Directory配置集中管理的用户</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Security Guide "></meta>
      <meta property="og:description" content="Oracle Database can authenticate and authorize Microsoft Active Directory users with the database directly without intermediate directories or Oracle Enterprise User Security."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Security Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-security-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-02-28T14:57:12-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96299-04"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="performing-privilege-analysis-find-privilege-use.html" title="Previous" type="text/html"></link>
      <link rel="next" href="managing-security-for-definers-rights-and-invokers-rights.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Security Guide"></meta>
    <meta name="dcterms.isVersionOf" content="DBSEG"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="performing-privilege-analysis-find-privilege-use.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="managing-security-for-definers-rights-and-invokers-rights.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">安全指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="part_1.html" property="item" typeof="WebPage"><span property="name">管理用户身份验证和授权</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">使用Microsoft Active Directory配置集中管理的用户</li>
            </ol>
            <a id="GUID-9739D541-FA9D-422A-95CA-799A4C6F488D" name="GUID-9739D541-FA9D-422A-95CA-799A4C6F488D"></a>
            
            <h2 id="DBSEG-GUID-9739D541-FA9D-422A-95CA-799A4C6F488D" class="sect2"><span class="enumeration_chapter">6</span>使用Microsoft Active Directory配置集中管理的用户</h2>
         </header>
         <div class="ind">
            <div>
               <p>Oracle数据库可以直接使用数据库对Microsoft Active Directory用户进行身份验证和授权，而无需中间目录或Oracle Enterprise User Security。</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="integrating_mads_with_oracle_database.html#GUID-0058E678-090E-4915-B539-B007F015D61D">使用Microsoft Active Directory的集中管理用户简介</a><br>集中管理用户（CMU）提供与Microsoft Active Directory的更简单集成，以允许用户的集中身份验证和授权。
                  </li>
                  <li class="ulchildlink"><a href="integrating_mads_with_oracle_database.html#GUID-8CAEE787-82F5-4D83-93B7-9C1B720E2C42">配置Oracle数据库 -  Microsoft Active Directory集成</a><br>在使用Microsoft Active Directory对用户进行身份验证和授权之前，必须配置从Oracle数据库到Active Directory的连接。
                  </li>
                  <li class="ulchildlink"><a href="integrating_mads_with_oracle_database.html#GUID-C207C899-75B0-4D0F-A686-AA3E06B61224">为集中管理的用户配置身份验证</a><br>您可以配置密码身份验证，Kerberos身份验证或公钥基础结构（PKI）身份验证。
                  </li>
                  <li class="ulchildlink"><a href="integrating_mads_with_oracle_database.html#GUID-5FAEB448-FB2C-4B2F-88AE-99A6B41F5241">配置集中管理用户的授权</a><br>通过集中管理的用户，您可以管理Active Directory用户访问Oracle数据库的授权。
                  </li>
                  <li class="ulchildlink"><a href="integrating_mads_with_oracle_database.html#GUID-262651F7-196B-4627-8B4E-46731AB56695">Oracle数据库与Microsoft Active Directory帐户策略的集成</a><br>作为Oracle数据库 -  Microsoft Active Directory集成的一部分，当Active Directory用户登录Oracle数据库时，Oracle数据库会强制执行Active Directory帐户策略。
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>父主题：</strong> <a href="part_1.html" title="第一部分介绍了如何管理用户身份验证和授权。">管理用户身份验证和授权</a></p>
                  </div>
               </div>
            </div>
            
            <div class="sect2"><a id="GUID-0058E678-090E-4915-B539-B007F015D61D" name="GUID-0058E678-090E-4915-B539-B007F015D61D"></a><h3 id="DBSEG-GUID-0058E678-090E-4915-B539-B007F015D61D" class="sect3">使用Microsoft Active Directory的集中管理用户简介</h3>
               <div>
                  <p>集中管理用户（CMU）提供与Microsoft Active Directory的更简单集成，以允许用户的集中身份验证和授权。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="integrating_mads_with_oracle_database.html#GUID-4FE2EEDA-6F67-4391-8758-CE100D85770A">关于Oracle数据库 -  Microsoft Active Directory集成</a><br>集中管理的用户提供与Microsoft Active Directory的更简单集成，以允许用户的集中身份验证和授权。
                     </li>
                     <li class="ulchildlink"><a href="integrating_mads_with_oracle_database.html#GUID-13ADBD73-D06C-4117-85C6-12E402B5037E">如何使用Microsoft Active Directory集中管理用户</a><br>通过将Microsoft Active Directory用户和组直接映射到Oracle数据库用户和角色，可以实现集成。
                     </li>
                     <li class="ulchildlink"><a href="integrating_mads_with_oracle_database.html#GUID-DD35204B-E91E-46F0-92B9-BA763693AB5D">集中管理用户 -  Microsoft Active Directory架构</a><br>具有Active Directory体系结构的CMU使Oracle数据库用户和角色可以在Active Directory中进行管理。
                     </li>
                     <li class="ulchildlink"><a href="integrating_mads_with_oracle_database.html#GUID-9480630F-0C8E-48E4-9F9F-4018D4094BD7">支持的验证方法</a><br>Oracle数据库 -  Microsoft Active Directory集成支持三种常见的身份验证方法。
                     </li>
                     <li class="ulchildlink"><a href="integrating_mads_with_oracle_database.html#GUID-845BFA4E-6BB4-4E01-854B-DF9E5A37221B">使用Microsoft Active Directory的集中管理用户支持的用户</a><br>具有Active Directory的CMU支持专门映射的用户，映射到共享模式的用户和管理用户。
                     </li>
                     <li class="ulchildlink"><a href="integrating_mads_with_oracle_database.html#GUID-9ACD9461-E998-4F0C-A121-590D10437D5F">Oracle Multitenant选项如何影响集中管理用户</a><br>可插拔数据库（PDB）中的多租户数据库用户可以连接到中央Microsoft Active Directory，或者，如果需要，单个PDB中的用户可以连接到不同的Microsoft Active Directory。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="integrating_mads_with_oracle_database.html#GUID-9739D541-FA9D-422A-95CA-799A4C6F488D" title="Oracle数据库可以直接使用数据库对Microsoft Active Directory用户进行身份验证和授权，而无需中间目录或Oracle Enterprise User Security。">使用Microsoft Active Directory配置集中管理的用户</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="sect3"><a id="GUID-4FE2EEDA-6F67-4391-8758-CE100D85770A" name="GUID-4FE2EEDA-6F67-4391-8758-CE100D85770A"></a><h4 id="DBSEG-GUID-4FE2EEDA-6F67-4391-8758-CE100D85770A" class="sect4">关于Oracle数据库 -  Microsoft Active Directory集成</h4>
                  <div>
                     <p>集中管理的用户提供与Microsoft Active Directory的更简单集成，以允许用户的集中身份验证和授权。</p>
                     <p>Active Directory服务器操作系统的最低版本要求是Microsoft Windows Server 2008 R2。</p>
                     <p>通过此集成，组织可以使用Active Directory通过单个目录以及其他信息技术服务集中管理多个Oracle数据库中的用户和角色。Active Directory用户可以使用存储在Active Directory中的凭据对Oracle数据库进行身份验证。Active Directory用户还可以使用Active Directory组与数据库用户（模式）和角色相关联。Microsoft Active Directory用户可以映射到独占或共享Oracle数据库用户（模式），并通过目录中的组成员身份与数据库角色相关联。当用户登录时，Oracle数据库会遵守Active Directory帐户策略（例如密码到期时间和在指定次数的失败登录尝试后锁定）。</p>
                     <p>在Oracle Database 18c第1版（18.1）之前，可以通过配置Oracle Enterprise User Security以及安装和配置Oracle Internet Directory（或Oracle Universal Directory），将数据库用户身份验证和授权与Active Directory集成。此体系结构仍然可用，并且将继续由必须在受信任数据库，复杂企业角色之间使用Oracle企业域和当前用户数据库链接以及具有单个位置来审核数据库访问权限和角色的用户使用。</p>
                     <p>大多数组织没有这些复杂的要求。相反，他们可以使用Active Directory集中管理的用户（CMU）。此集成适用于希望使用Active Directory作为其集中身份管理解决方案的组织。Oracle Net Naming Services继续像以前一样使用目录服务。</p>
                     <p>组织可以对CMU和Active Directory使用Kerberos，PKI或密码身份验证。将CMU与Active Directory一起使用可向后兼容当前支持的Oracle数据库客户端。这意味着LDAP绑定操作不用于密码身份验证，您需要将一个Oracle筛选器添加到Active Directory以及Active Directory架构的扩展以存储密码验证程序。使用Kerberos或PKI的组织无需添加过滤器或扩展Active Directory架构。</p>
                     <p>Oracle Database-Active Directory集成对以下类型的用户特别有用：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>当前使用强身份验证的用户，如Kerberos或公钥基础结构（PKI）。这些用户已经使用集中式身份管理系统</p>
                        </li>
                        <li>
                           <p>目前使用Oracle企业用户安全性，Oracle Internet Directory，Oracle Unified Directory，Oracle Virtual Directory以及需要与Active Directory集成的用户。</p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="integrating_mads_with_oracle_database.html#GUID-0058E678-090E-4915-B539-B007F015D61D" title="集中管理用户（CMU）提供与Microsoft Active Directory的更简单集成，以允许用户的集中身份验证和授权。">使用Microsoft Active Directory的集中管理用户简介</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-13ADBD73-D06C-4117-85C6-12E402B5037E" name="GUID-13ADBD73-D06C-4117-85C6-12E402B5037E"></a><h4 id="DBSEG-GUID-13ADBD73-D06C-4117-85C6-12E402B5037E" class="sect4">如何使用Microsoft Active Directory集中管理用户</h4>
                  <div>
                     <p>通过将Microsoft Active Directory用户和组直接映射到Oracle数据库用户和角色，可以实现集成。</p>
                     <p>为了使具有Active Directory集成的Oracle数据库CMU能够工作，Oracle数据库必须能够登录专门为Active Directory中的数据库创建的服务帐户。当用户登录数据库时，数据库使用此服务帐户查询Active Directory以获取用户和组信息。此Active Directory服务帐户必须具有查询用户和组信息所需的所有权限，以及能够在Active Directory中编写与密码策略相关的更新（例如，登录尝试失败，清除失败的登录尝试）。用户可以使用密码，Kerberos或PKI进行身份验证，并将其分配给独占架构或共享架构。Active Directory用户到共享模式的映射由用户与映射到共享模式的Active Directory组的关联确定。Active Directory组也可以映射到数据库全局角色。Active Directory安全性管理员可以将用户分配给映射到共享数据库全局用户（模式）和/或数据库全局角色的组，从而更新分配给数据库中Active Directory用户的权限和角色。</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="integrating_mads_with_oracle_database.html#GUID-0058E678-090E-4915-B539-B007F015D61D" title="集中管理用户（CMU）提供与Microsoft Active Directory的更简单集成，以允许用户的集中身份验证和授权。">使用Microsoft Active Directory的集中管理用户简介</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-DD35204B-E91E-46F0-92B9-BA763693AB5D" name="GUID-DD35204B-E91E-46F0-92B9-BA763693AB5D"></a><h4 id="DBSEG-GUID-DD35204B-E91E-46F0-92B9-BA763693AB5D" class="sect4">集中管理用户 -  Microsoft Active Directory架构</h4>
                  <div>
                     <p>具有Active Directory体系结构的CMU使Oracle数据库用户和角色可以在Active Directory中进行管理。</p>
                     <p>下图说明了Oracle Database CMU功能。在此图中，用户（通过非管理用户或管理用户的应用程序）使用密码，Kerberos或公钥基础结构（PKI）身份验证连接到Oracle数据库。与Active Directory的数据库连接使这些用户和角色可以与Active Directory用户和组进行映射。如果您计划使用密码身份验证，则必须在Active Directory中安装Oracle筛选器。您可以使用Oracle提供的实用程序来安装Oracle过滤器，该过滤器将根据需要为各个用户生成Oracle密码验证程序。该实用程序还可用于扩展Active Directory架构以保存Oracle密码验证程序。使用Oracle数据库集中管理的用户，Active Directory管理员可以控制已映射到Oracle数据库用户和角色的Active Directory用户和组的身份验证，用户管理，帐户策略和组分配。</p>
                     <div class="figure" id="GUID-DD35204B-E91E-46F0-92B9-BA763693AB5D__GUID-0BE7BFB5-E350-4132-A541-C432E21787BD"><br><img src="img/dbseg_pb_001b.png" alt="下面是dbseg_pb_001b.eps的说明" title="下面是dbseg_pb_001b.eps的说明" longdesc="img_text/dbseg_pb_001b.html"><br><a href="img_text/dbseg_pb_001b.html">说明dbseg_pb_001b.eps的说明</a><br></div>
                     <!-- class="figure" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="integrating_mads_with_oracle_database.html#GUID-0058E678-090E-4915-B539-B007F015D61D" title="集中管理用户（CMU）提供与Microsoft Active Directory的更简单集成，以允许用户的集中身份验证和授权。">使用Microsoft Active Directory的集中管理用户简介</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-9480630F-0C8E-48E4-9F9F-4018D4094BD7" name="GUID-9480630F-0C8E-48E4-9F9F-4018D4094BD7"></a><h4 id="DBSEG-GUID-9480630F-0C8E-48E4-9F9F-4018D4094BD7" class="sect4">支持的验证方法</h4>
                  <div>
                     <p>Oracle数据库 -  Microsoft Active Directory集成支持三种常见的身份验证方法。</p>
                     <p>这些身份验证方法如下：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>密码验证</p>
                        </li>
                        <li>
                           <p>Kerberos身份验证</p>
                        </li>
                        <li>
                           <p>公钥基础结构（PKI）身份验证（基于证书的身份验证）</p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="integrating_mads_with_oracle_database.html#GUID-C207C899-75B0-4D0F-A686-AA3E06B61224" title="您可以配置密码身份验证，Kerberos身份验证或公钥基础结构（PKI）身份验证。">为集中管理的用户配置身份验证</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="integrating_mads_with_oracle_database.html#GUID-0058E678-090E-4915-B539-B007F015D61D" title="集中管理用户（CMU）提供与Microsoft Active Directory的更简单集成，以允许用户的集中身份验证和授权。">使用Microsoft Active Directory的集中管理用户简介</a></p>
                        </div>
                     </div>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-845BFA4E-6BB4-4E01-854B-DF9E5A37221B" name="GUID-845BFA4E-6BB4-4E01-854B-DF9E5A37221B"></a><h4 id="DBSEG-GUID-845BFA4E-6BB4-4E01-854B-DF9E5A37221B" class="sect4">使用Microsoft Active Directory的集中管理用户支持的用户</h4>
                  <div>
                     <p>具有Active Directory的CMU支持专门映射的用户，映射到共享模式的用户和管理用户。</p>
                     <p>这些用户如下：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>使用共享模式访问Oracle数据库的目录用户。</p>
                           <p>这种类型的目录用户可以通过成为映射到共享模式（数据库用户）的目录组的一部分来连接到数据库中的共享模式。使用共享模式允许对数据库用户进行集中式Active Directory管理，并且是使用独占模式的推荐最佳实践（下面将介绍）。即使只有一个用户与架构关联（例如，负责数据库备份的管理员），通过仅在Active Directory中进行更改而不是对所有管理员进行更改，更容易管理添加其他备份管理员或删除现有管理员相关数据库也是如此。</p>
                           <p>将使用映射到Active Directory中的组的全局角色为用户提供适合其任务的其他权限。使用此设计，用户可以在组织内更改其任务，并通过Active Directory中的新组获得新的数据库权限。</p>
                           <p>Active Directory用户可能会意外（或故意）成为Active Directory中多个组的成员，这些组映射到同一数据库上的不同共享模式。用户还可以具有到数据库模式的独占映射。如果用户在登录时有多个可能的架构映射，则适用以下优先规则：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>如果存在用户的独占映射，则该映射优先于任何其他共享映射。</p>
                              </li>
                              <li>
                                 <p>如果用户存在多个共享模式映射，则具有最低模式ID（ <code class="codeph">USER_ID</code> ）的共享用户映射优先。
                                 </p>
                              </li>
                           </ul>
                           <p>Oracle建议每个用户只有一个可能的映射，因此不会发生意外的模式映射。</p>
                        </li>
                        <li>
                           <p>专有映射的全局用户，他们是两层和三层应用程序中的常规Oracle数据库用户，或者是在数据库中具有直接权限授予的用户。</p>
                           <p>Oracle建议您通过全局角色向这些用户授予权限。这种类型的权限授予通过集中管理用户的权限和角色来促进授权管理，而不必登录到每个数据库以更新用户的权限和角色。</p>
                        </li>
                        <li>
                           <p>具有以下管理权限的管理全局用户： <code class="codeph">SYSDBA</code> ， <code class="codeph">SYSOPER</code> ， <code class="codeph">SYSBACKUP</code> ， <code class="codeph">SYSDG</code> ， <code class="codeph">SYSKM</code>和<code class="codeph">SYSRAC</code> 。</p>
                           <p>您<span class="bold">无法</span>通过全局角色授予这些管理权限。要授予具有这些管理权限的Active Directory用户，必须将目录用户映射到已授予数据库用户帐户的系统管理权限的数据库用户（独占或使用共享模式）。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="integrating_mads_with_oracle_database.html#GUID-5FAEB448-FB2C-4B2F-88AE-99A6B41F5241" title="通过集中管理的用户，您可以管理Active Directory用户访问Oracle数据库的授权。">配置集中管理用户的授权</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="integrating_mads_with_oracle_database.html#GUID-0058E678-090E-4915-B539-B007F015D61D" title="集中管理用户（CMU）提供与Microsoft Active Directory的更简单集成，以允许用户的集中身份验证和授权。">使用Microsoft Active Directory的集中管理用户简介</a></p>
                        </div>
                     </div>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-9ACD9461-E998-4F0C-A121-590D10437D5F" name="GUID-9ACD9461-E998-4F0C-A121-590D10437D5F"></a><h4 id="DBSEG-GUID-9ACD9461-E998-4F0C-A121-590D10437D5F" class="sect4">Oracle Multitenant选项如何影响集中管理用户</h4>
                  <div>
                     <p>可插拔数据库（PDB）中的多租户数据库用户可以连接到中央Microsoft Active Directory，或者，如果需要，单个PDB中的用户可以连接到不同的Microsoft Active Directory。</p>
                     <p>多租户数据库中的所有PDB和根容器都可以具有共享配置，以便整个CDB可以针对单个Active Directory服务器，一个Windows域中的多个Active Directory服务器或受信任Windows中的多个Active Directory服务器对用户进行身份验证和授权域，基于共享配置。或者，单个PDB可以根据其各自的配置，针对同一Windows域中的不同Active Directory服务器或不同（可信或不可信）Windows域对用户进行身份验证和授权。</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="integrating_mads_with_oracle_database.html#GUID-0058E678-090E-4915-B539-B007F015D61D" title="集中管理用户（CMU）提供与Microsoft Active Directory的更简单集成，以允许用户的集中身份验证和授权。">使用Microsoft Active Directory的集中管理用户简介</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
            <div class="sect2"><a id="GUID-8CAEE787-82F5-4D83-93B7-9C1B720E2C42" name="GUID-8CAEE787-82F5-4D83-93B7-9C1B720E2C42"></a><h3 id="DBSEG-GUID-8CAEE787-82F5-4D83-93B7-9C1B720E2C42" class="sect3">配置Oracle数据库 -  Microsoft Active Directory集成</h3>
               <div>
                  <p>在使用Microsoft Active Directory对用户进行身份验证和授权之前，必须配置从Oracle数据库到Active Directory的连接。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="integrating_mads_with_oracle_database.html#GUID-DCCC1FB8-12F1-4719-98E0-9BE723E219AE">关于配置Oracle数据库 -  Microsoft Active Directory连接</a><br>在配置此连接之前，必须安装并配置Microsoft Active Directory。
                     </li>
                     <li class="ulchildlink"><a href="integrating_mads_with_oracle_database.html#GUID-1DB66BF2-AB14-46DB-AEFB-32B79F514706">连接到Microsoft Active Directory</a><br>您可以在Oracle数据库创建期间或使用现有Oracle数据库配置Microsoft Active Directory连接。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="integrating_mads_with_oracle_database.html#GUID-9739D541-FA9D-422A-95CA-799A4C6F488D" title="Oracle数据库可以直接使用数据库对Microsoft Active Directory用户进行身份验证和授权，而无需中间目录或Oracle Enterprise User Security。">使用Microsoft Active Directory配置集中管理的用户</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="sect3"><a id="GUID-DCCC1FB8-12F1-4719-98E0-9BE723E219AE" name="GUID-DCCC1FB8-12F1-4719-98E0-9BE723E219AE"></a><h4 id="DBSEG-GUID-DCCC1FB8-12F1-4719-98E0-9BE723E219AE" class="sect4">关于配置Oracle数据库 -  Microsoft Active Directory连接</h4>
                  <div>
                     <p>在配置此连接之前，必须安装并配置Microsoft Active Directory。</p>
                     <p>您必须在Active Directory中创建Oracle服务目录用户，配置与Active Directory的Oracle数据库连接，然后根据身份验证类型，为密码，Kerberos或公钥基础结构（PKI）身份验证配置数据库和Active Directory。在将数据库用户和全局角色映射到Active Directory用户和组之前，必须确保已创建Active Directory用户和组。您将使用<code class="codeph">CREATE USER</code> ， <code class="codeph">CREATE ROLE</code> ， <code class="codeph">ALTER USER</code> ， <code class="codeph">ALTER ROLE</code> SQL语句和<code class="codeph">GLOBALLY</code>子句将数据库用户和全局角色映射到Active Directory用户和组。Active Directory系统管理员还必须使用Active Directory用户设置新的Active Directory组以满足您的要求。
                     </p>
                     <p>Active Directory系统管理员负责使用或不使用SASL绑定设置Active Directory连接。Oracle数据库将首先使用SASL绑定自动尝试Active Directory连接，如果失败，它将尝试不使用SASL绑定但仍使用TLS保护。这意味着无论Microsoft Active Directory管理员如何在Active Directory上配置SASL设置，即使SASL绑定不成功，Oracle数据库也将连接。</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="integrating_mads_with_oracle_database.html#GUID-8CAEE787-82F5-4D83-93B7-9C1B720E2C42" title="在使用Microsoft Active Directory对用户进行身份验证和授权之前，必须配置从Oracle数据库到Active Directory的连接。">配置Oracle数据库 -  Microsoft Active Directory集成</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-1DB66BF2-AB14-46DB-AEFB-32B79F514706" name="GUID-1DB66BF2-AB14-46DB-AEFB-32B79F514706"></a><h4 id="DBSEG-GUID-1DB66BF2-AB14-46DB-AEFB-32B79F514706" class="sect4">连接到Microsoft Active Directory</h4>
                  <div>
                     <p>您可以在Oracle数据库创建期间或使用现有Oracle数据库配置Microsoft Active Directory连接。</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="integrating_mads_with_oracle_database.html#GUID-6A0735F1-FE3A-4188-91D0-AD74D9A86D20">步骤1：在Microsoft Active Directory上创建Oracle Service Directory用户帐户</a><br>Oracle服务目录用户帐户用于Oracle数据库和LDAP目录服务之间的交互。
                        </li>
                        <li class="ulchildlink"><a href="integrating_mads_with_oracle_database.html#GUID-4B702116-EF10-47AC-9267-163553C15FF5">步骤2：对于密码身份验证，安装密码筛选器并扩展Microsoft Active Directory架构</a><br>您可以使用Active Directory服务器上的Oracle <code class="codeph">opwdintg.exe</code>可执行文件来安装密码筛选器并扩展Active Directory架构。
                        </li>
                        <li class="ulchildlink"><a href="integrating_mads_with_oracle_database.html#GUID-4F0C0FEA-72A5-447D-84A3-E47A681263E2">第3步：如有必要，请安装Oracle数据库软件</a><br>如果尚未这样做，请使用Oracle Universal Installer（OUI）安装Oracle软件。
                        </li>
                        <li class="ulchildlink"><a href="integrating_mads_with_oracle_database.html#GUID-2366643F-D88D-4F97-B39E-099D7664EC8D">第4步：创建dsi.ora或ldap.ora文件</a><br><code class="codeph">dsi.ora</code>文件为Active Directory的集中管理用户指定连接。
                        </li>
                        <li class="ulchildlink"><a href="integrating_mads_with_oracle_database.html#GUID-5CB2680D-9A06-43C3-ACCA-D9743948C17A">步骤5：为安全连接请求Active Directory证书</a><br>配置<code class="codeph">dsi.ora</code>或<code class="codeph">ldap.ora</code>文件后，即可准备Microsoft Active Directory和Oracle数据库证书以进行安全连接。
                        </li>
                        <li class="ulchildlink"><a href="integrating_mads_with_oracle_database.html#GUID-CACCAA19-8578-4A40-931D-9A4521EE4E64">第6步：为安全连接创建钱包</a><br>复制Active Directory证书后，即可将其添加到Oracle钱包中。
                        </li>
                        <li class="ulchildlink"><a href="integrating_mads_with_oracle_database.html#GUID-E0CBB613-AB38-44B7-ACC9-810C82A9CE31">步骤7：配置Microsoft Active Directory连接</a><br>接下来，您已准备好使用目前为止的设置将数据库连接到Active Directory。
                        </li>
                        <li class="ulchildlink"><a href="integrating_mads_with_oracle_database.html#GUID-034E8557-73B2-4211-94C8-ABDED26B63B9">第8步：验证Oracle Wallet</a><br><code class="codeph">orapki</code>实用程序可以验证是否已成功创建此数据库的钱包。
                        </li>
                        <li class="ulchildlink"><a href="integrating_mads_with_oracle_database.html#GUID-8BB25985-1E21-473F-9BDC-E5010EE39969">第9步：测试集成</a><br>要测试集成，必须设置<code class="codeph">ORACLE_HOME</code> ， <code class="codeph">ORACLE_BASE,</code>和<code class="codeph">ORACLE_SID</code>环境变量，然后验证LDAP参数设置。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="integrating_mads_with_oracle_database.html#GUID-8CAEE787-82F5-4D83-93B7-9C1B720E2C42" title="在使用Microsoft Active Directory对用户进行身份验证和授权之前，必须配置从Oracle数据库到Active Directory的连接。">配置Oracle数据库 -  Microsoft Active Directory集成</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="sect4"><a id="GUID-6A0735F1-FE3A-4188-91D0-AD74D9A86D20" name="GUID-6A0735F1-FE3A-4188-91D0-AD74D9A86D20"></a><h5 id="DBSEG-GUID-6A0735F1-FE3A-4188-91D0-AD74D9A86D20" class="sect5">步骤1：在Microsoft Active Directory上创建Oracle Service Directory用户帐户</h5>
                     <div>
                        <p>Oracle服务目录用户帐户用于Oracle数据库和LDAP目录服务之间的交互。</p>
                        <div class="section">除了用于Oracle数据库到LDAP目录服务交互之外，Oracle服务目录用户帐户还可用于Kerberos。</div>
                        <!-- class="section" -->
                        <div class="section">此帐户是Oracle数据库用于登录Active Directory并从Active Directory查询用户和组信息，更新登录成功或失败的Active Directory帐户，如果配置了Kerberos，则更新Kerberos身份验证。此帐户所需的最低权限是<code class="codeph">Read properties</code> （将登录到数据库的Active Directory用户），如果Active Directory用户将使用数据库密码身份验证，则<code class="codeph">Write lockoutTime</code> （Active Directory用户的属性）权限。
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>以具有创建帐户权限并授予其权限的用户身份登录Microsoft Active Directory。</span></li>
                           <li class="stepexpand"><span>以Active Directory用户身份创建Oracle服务目录用户帐户。</span><div>理想情况下，在根目录中创建托管服务帐户。根据您的用户将使用的域，您还可以在子域中创建此帐户。子域中的服务帐户可以对其他受信任域中的用户进行身份验证。请遵循以下准则：<ul style="list-style-type:disc">
                                    <li>
                                       <p>如果所有Active Directory用户都在一个域中，则在该域中创建此帐户。这样做有助于提高绩效。</p>
                                    </li>
                                    <li>
                                       <p>如果出现以下情况，请在Windows Active Directory根域中创建此帐户：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p>Active Directory用户将位于不同的域中。</p>
                                          </li>
                                          <li>
                                             <p>Active Directory具有多个Windows域，因此CMU可以支持这些多个域。</p>
                                          </li>
                                       </ul>
                                    </li>
                                 </ul>
                              </div>
                           </li>
                           <li class="stepexpand"><span>向Oracle服务目录用户帐户授予<code class="codeph">Read properties</code> （将登录数据库的Active Directory用户）和<code class="codeph">Write lockoutTime</code> （将使用密码身份验证的Active Directory用户的属性）权限。</span></li>
                        </ol>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="integrating_mads_with_oracle_database.html#GUID-1DB66BF2-AB14-46DB-AEFB-32B79F514706" title="您可以在Oracle数据库创建期间或使用现有Oracle数据库配置Microsoft Active Directory连接。">连接到Microsoft Active Directory</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-4B702116-EF10-47AC-9267-163553C15FF5" name="GUID-4B702116-EF10-47AC-9267-163553C15FF5"></a><h5 id="DBSEG-GUID-4B702116-EF10-47AC-9267-163553C15FF5" class="sect5">步骤2：对于密码身份验证，安装密码筛选器并扩展Microsoft Active Directory架构</h5>
                     <div>
                        <p>您可以使用Active Directory服务器上的Oracle <code class="codeph">opwdintg.exe</code>可执行文件来安装密码筛选器并扩展Active Directory架构。
                        </p>
                        <div class="section">如果您的身份验证方法是Kerberos或SSL，则无需执行此步骤。 <code class="codeph">opwdintg.exe</code>可执行文件安装Oracle密码过滤器，扩展Active Directory架构，并创建Active Directory组以允许使用Active Directory进行Oracle数据库密码身份验证。此过程将<code class="codeph">orclCommonAttribute</code>属性添加到用户帐户的Active Directory架构。
                           <div class="infoboxnote" id="GUID-4B702116-EF10-47AC-9267-163553C15FF5__GUID-0F36B82C-9755-419D-BC41-173FAA262DBF">
                              <p class="notep1">注意：</p>您必须在域中的<span class="bold">每个</span> Windows域控制器上安装Oracle密码筛选器，以确保在需要使用密码身份验证登录Oracle数据库时，将为此域中的Active Directory用户生成Oracle密码验证程序。
                              <p>另请注意， <code class="codeph">orclCommonAttribute</code>为Active Directory用户存储Oracle密码验证程序。此属性还用于其他Oracle产品的密码身份验证或Enterprise User Security等功能。出于安全考虑，您应该拒绝除Oracle服务目录用户之外的所有人访问<code class="codeph">orclCommonAttribute</code>属性。
                              </p>
                           </div>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>安装Oracle数据库服务器软件后，转到<code class="codeph">$ORACLE_HOME/bin</code>目录。</span></li>
                           <li class="stepexpand"><span>找到<code class="codeph">opwdintg.exe</code> （Oracle密码集成）实用程序。</span></li>
                           <li class="stepexpand"><span>使用安全的复制方法（如<code class="codeph">sftp</code> ），将<code class="codeph">opwdintg.exe</code>复制到每个Windows域控制器上的临时目录（例如， <code class="codeph">C:\temp</code> ）。</span></li>
                           <li class="stepexpand"><span>以Active Directory管理员身份连接到Windows计算机。</span><div>目前， <code class="codeph">opwdintg.exe</code>实用程序需要Windows操作系统的英语。</div>
                           </li>
                           <li class="stepexpand"><span>确保Windows操作系统语言设置为英语。</span></li>
                           <li class="stepexpand"><span>在每个Windows域控制器上运行<code class="codeph">opwdintg.exe</code>实用程序。</span><div>使用以下方法之一运行<code class="codeph">opwdintg.exe</code>实用程序：</div>
                              <ul id="GUID-4B702116-EF10-47AC-9267-163553C15FF5__CHOICES_PDP_BZB_JFB">
                                 <li>打开Windows资源管理器，然后双击<code class="codeph">opwdintg.exe</code>实用程序。
                                 </li>
                                 <li>打开Windows命令提示符，然后按照下列步骤操作：<ol type="a" id="GUID-4B702116-EF10-47AC-9267-163553C15FF5__OL_HJT_HZB_JFB">
                                       <li>导航到<code class="codeph">opwdintg.exe</code>实用程序所在的目录。例如：<pre class="oac_no_warn" dir="ltr">cd c：\ temp</pre></li>
                                       <li>通过键入以下命令从命令行执行该实用程序：<pre class="oac_no_warn" dir="ltr">\ opwdintg.exe</pre></li>
                                    </ol>
                                 </li>
                              </ul>
                           </li>
                           <li class="stepexpand"><span>回答以下提示：</span><ul>
                                 <li><span class="bold">您想扩展AD架构吗？[是/否]：</span>输入<code class="codeph">Yes</code> 。
                                    <p>扩展Active Directory架构要求Windows操作系统语言设置为英语。</p>
                                 </li>
                                 <li><span class="bold">此域的架构扩展将是永久性的。继续？[是/否]：</span>输入<code class="codeph">Yes</code> 。
                                    <p>请注意以下事项：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p>您只能扩展Active Directory架构一次。如果您尝试再次扩展架构，则会显示错误消息，但您可以忽略这些错误。</p>
                                       </li>
                                       <li>
                                          <p>此步骤将创建以下三个验证程序组。如果这些组已存在，则会出现错误，但您可以忽略这些错误。</p>
                                          <ul style="list-style-type:disc">
                                             <li>
                                                <p>使用Oracle Database WebDAV客户端时需要<code class="codeph">ORA_VFR_MD5</code> 。
                                                </p>
                                             </li>
                                             <li>
                                                <p><code class="codeph">ORA_VFR_11G</code>允许使用Oracle Database 11G密码验证程序。
                                                </p>
                                             </li>
                                             <li>
                                                <p><code class="codeph">ORA_VFR_12C</code>允许使用Oracle Database 12C密码验证程序。
                                                </p>
                                             </li>
                                          </ul>
                                       </li>
                                    </ul>
                                    <ul id="GUID-4B702116-EF10-47AC-9267-163553C15FF5__UL_SRV_V4C_F2B" style="list-style-type:disc">
                                       <li>除非您已备份Active Directory架构，否则在扩展后，无法还原Active Directory架构扩展。</li>
                                    </ul>
                                    <p>接下来的两个提示取决于是否已安装密码过滤器。</p>
                                 </li>
                                 <li><span class="bold">找到已安装的密码过滤器。你想卸载吗？[是/否]：</span>如果已安装密码过滤器，则会出现此提示。在大多数情况下，输入<kbd class="userinput">No</kbd>以不卸载过滤器。
                                    <p>如果输入“ <code class="codeph">Yes</code>以卸载密码筛选器，则必须在完成这些提示后重新运行<code class="codeph">opwdintg.exe</code>以重新安装密码筛选器。否则，重新启动计算机后，当Active Directory用户更改其密码时，将不再生成密码验证程序。
                                    </p>
                                 </li>
                                 <li><span class="bold">您要安装Oracle密码过滤器吗？[是/否]：</span>如果尚未安装密码过滤器，则会出现此提示。输入<code class="codeph">Yes</code> 。
                                 </li>
                                 <li><span class="bold">此更改需要重新启动机器。你想现在重启吗？[是/否]：</span>输入<code class="codeph">Yes</code> 。
                                 </li>
                              </ul>
                           </li>
                        </ol>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="integrating_mads_with_oracle_database.html#GUID-1DB66BF2-AB14-46DB-AEFB-32B79F514706" title="您可以在Oracle数据库创建期间或使用现有Oracle数据库配置Microsoft Active Directory连接。">连接到Microsoft Active Directory</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-4F0C0FEA-72A5-447D-84A3-E47A681263E2" name="GUID-4F0C0FEA-72A5-447D-84A3-E47A681263E2"></a><h5 id="DBSEG-GUID-4F0C0FEA-72A5-447D-84A3-E47A681263E2" class="sect5">第3步：如有必要，请安装Oracle数据库软件</h5>
                     <div>
                        <p>如果尚未这样做，请使用Oracle Universal Installer（OUI）安装Oracle软件。</p>
                        <div class="section">您只需要安装Oracle数据库软件，而不是整个数据库。安装Oracle数据库软件后，可以使用Database Configuration Assistant（DBCA）在数据库创建期间使用Active Directory配置集中管理的用户。您还可以使用DBCA使用Active Directory配置集中管理的用户，也可以在创建数据库后手动配置。</div>
                        <!-- class="section" -->
                        <ul>
                           <li><span>按照适用于您的平台的<span class="italic">Oracle数据库安装指南中</span>的说明安装Oracle软件。</span></li>
                        </ul>
                        <div class="section">安装Oracle数据库软件后，可以在使用DBCA创建数据库期间使用Active Directory配置集中管理的用户。您还可以使用DBCA使用Active Directory配置集中管理的用户，也可以在创建数据库后手动配置。</div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="integrating_mads_with_oracle_database.html#GUID-1DB66BF2-AB14-46DB-AEFB-32B79F514706" title="您可以在Oracle数据库创建期间或使用现有Oracle数据库配置Microsoft Active Directory连接。">连接到Microsoft Active Directory</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-2366643F-D88D-4F97-B39E-099D7664EC8D" name="GUID-2366643F-D88D-4F97-B39E-099D7664EC8D"></a><h5 id="DBSEG-GUID-2366643F-D88D-4F97-B39E-099D7664EC8D" class="sect5">第4步：创建dsi.ora或ldap.ora文件</h5>
                     <div>
                        <p><code class="codeph">dsi.ora</code>文件为Active Directory的集中管理用户指定连接。
                        </p>
                        <p><code class="codeph">ldap.ora</code>文件还可以指定与Active Directory服务器的连接。但由于<code class="codeph">ldap.ora</code>可能已经用于（或可能在将来使用）其他服务（如网络命名服务），因此Oracle建议将<code class="codeph">dsi.ora</code>用于集中管理的用户。
                        </p>
                     </div>
                     <div>
                        <ul class="ullinks">
                           <li class="ulchildlink"><a href="integrating_mads_with_oracle_database.html#GUID-FA766B57-AF32-44B0-9419-A8164EC4E38C">关于使用dsi.ora文件</a><br>您使用<code class="codeph">dsi.ora</code>文件为集中管理的用户指定Active Directory服务器。
                           </li>
                           <li class="ulchildlink"><a href="integrating_mads_with_oracle_database.html#GUID-605AC053-4869-4F92-B53D-C1F289F11753">创建dsi.ora文件</a><br><code class="codeph">dsi.ora</code>配置文件设置信息以查找集中管理用户的Active Directory服务器。
                           </li>
                           <li class="ulchildlink"><a href="integrating_mads_with_oracle_database.html#GUID-5478E6B9-9CDA-40BF-95D8-48A93CC0A809">关于使用ldap.ora文件</a><br>您可以使用<code class="codeph">ldap.ora</code>文件为集中管理的用户指定Active Directory服务器。
                           </li>
                           <li class="ulchildlink"><a href="integrating_mads_with_oracle_database.html#GUID-E4CE25FC-4A78-4CB6-A028-92C3E273330C">创建ldap.ora文件</a><br>这些步骤假定<code class="codeph">ldap.ora</code>未用于网络命名服务，可用于为集中管理的用户设置与Active Directory的连接。
                           </li>
                        </ul>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="integrating_mads_with_oracle_database.html#GUID-1DB66BF2-AB14-46DB-AEFB-32B79F514706" title="您可以在Oracle数据库创建期间或使用现有Oracle数据库配置Microsoft Active Directory连接。">连接到Microsoft Active Directory</a></p>
                           </div>
                        </div>
                     </div>
                     
                     <div class="sect5"><a id="GUID-FA766B57-AF32-44B0-9419-A8164EC4E38C" name="GUID-FA766B57-AF32-44B0-9419-A8164EC4E38C"></a><h6 id="DBSEG-GUID-FA766B57-AF32-44B0-9419-A8164EC4E38C" class="sect6">关于使用dsi.ora文件</h6>
                        <div>
                           <p>您使用<code class="codeph">dsi.ora</code>文件为集中管理的用户指定Active Directory服务器。
                           </p>
                           <p>您必须手动创建<code class="codeph">dsi.ora</code>文件以标识Active Directory服务器。<code class="codeph">dsi.ora</code>文件为所有可插拔数据库提供Active Directory连接信息（如果它位于可放置<code class="codeph">ldap.ora</code>文件的相同位置）。一个<code class="codeph">dsi.ora</code>在PDB特定钱夹位置文件的优先级高于主<code class="codeph">dsi.ora</code>仅针对该PDB文件。
                           </p>
                           <div class="infoboxnote" id="GUID-FA766B57-AF32-44B0-9419-A8164EC4E38C__GUID-2AA0FBFF-A3CC-4160-8E36-4F072F52018C">
                              <p class="notep1">注意：</p>如果您使用<code class="codeph">ldap.ora</code>命名服务，则不要对具有Active Directory配置的CMU的<code class="codeph">ldap.ora</code>进行任何更改。仅使用<code class="codeph">dsi.ora</code>配置CMU-Active Directory。
                           </div>
                           <p>创建<code class="codeph">dsi.ora</code>文件时，Oracle数据库按以下顺序搜索它：</p>
                           <ol id="GUID-FA766B57-AF32-44B0-9419-A8164EC4E38C__OL_VQP_552_KFB">
                              <li>如果<code class="codeph">WALLET_LOCATION</code>设置包含在<code class="codeph">sqlnet.ora</code>文件中，则对于非多租户数据库或多租户数据库的根容器，Oracle会在<code class="codeph">sqlnet.ora</code>指定的位置搜索它。对于多租户数据库的PDB，Oracle在<code class="codeph"><span class="codeinlineitalic">WALLET_LOCATION_specified_in_sqlnet.ora</span> / <span class="codeinlineitalic">pdb_guid</span></code>目录中的每个PDB钱包位置中搜索它。
                              </li>
                              <li>如果<code class="codeph">sqlnet.ora</code>文件中未包含<code class="codeph">WALLET_LOCATION</code>设置，则Oracle数据库会在默认钱包位置中搜索它。
                              </li>
                              <li>如果Oracle数据库无法在钱包位置找到<code class="codeph">dsi.ora</code> ，则Oracle数据库<code class="codeph">dsi.ora</code>以下顺序搜索它。这些是Oracle数据库搜索<code class="codeph">ldap.ora</code>文件的相同位置。
                                 <ol type="a" id="GUID-FA766B57-AF32-44B0-9419-A8164EC4E38C__OL_VXM_XD2_MFB">
                                    <li><code class="codeph">$LDAP_ADMIN</code>环境变量设置</li>
                                    <li><code class="codeph">$ORACLE_HOME/ldap/admin</code>目录</li>
                                    <li><code class="codeph">$TNS_ADMIN</code>环境变量设置</li>
                                    <li><code class="codeph">$ORACLE_HOME/network/admin</code>目录</li>
                                 </ol>
                              </li>
                           </ol>
                           <p>Oracle建议您在<code class="codeph">$ORACLE_BASE</code>下使用可写文件的目录，而不是在<code class="codeph">$ORACLE_HOME</code> 。从Oracle Database 18c开始，您可以选择将<code class="codeph">$ORACLE_HOME</code>目录设置为只读。因此，您应该将<code class="codeph">dsi.ora</code>文件放在<code class="codeph">$ORACLE_HOME</code>之外的目录中，以适应将来版本的<code class="codeph">dsi.ora</code>配置。
                           </p>
                           <p>Oracle还建议您仅使用<code class="codeph">dsi.ora</code>为集中管理的用户标识Active Directory服务器。如果<code class="codeph">dsi.ora</code>和<code class="codeph">ldap.ora</code>都在同一数据库中为Active Directory的集中管理用户配置，并且都位于同一目录中，则<code class="codeph">dsi.ora</code>优先于<code class="codeph">ldap.ora</code>文件。如果它们位于不同的目录中，则Oracle使用它在上面的位置优先级列表中找到的第一个来查找Active Directory服务器。如果第一个找到的<code class="codeph">dsi.ora</code>或<code class="codeph">ldap.ora</code>的目录服务器类型不是Active Directory，则<span class="bold">不会</span>启用集中管理的用户。
                           </p>
                           <p>您可以为多租户数据库中的各个PDB指定<code class="codeph">dsi.ora</code>文件。特定<code class="codeph">dsi.ora</code> PDB的<code class="codeph">dsi.ora</code>将覆盖该PDB的共享<code class="codeph">dsi.ora</code>或<code class="codeph">ldap.ora</code>的公共设置。不同的PDB可以连接到CMU的不同Active Directory服务器。单个PDB的<code class="codeph">dsi.ora</code>文件与该PDB的钱包位于同一目录中。</p>
                           <p>如果设置了<code class="codeph">sqlnet.ora</code>文件中的<code class="codeph">WALLET_LOCATION</code>参数，则单个PDB的<code class="codeph">dsi.ora</code>文件将位于<code class="codeph"><span class="codeinlineitalic">WALLET_LOCATION_specified_in_sqlnet.ora</span> / <span class="codeinlineitalic">pdb_guid/</span></code>目录中的每个PDB钱包中。
                           </p>
                           <p>如果未设置<code class="codeph">sqlnet.ora</code>文件中的<code class="codeph">WALLET_LOCATION</code>参数，则多租户数据库中单个容器的默认钱包位置为<code class="codeph">$ORACLE_BASE/admin/ <span class="codeinlineitalic">db_unique_name</span> / <span class="codeinlineitalic">pdb_guid</span> /wallet/</code>目录。要使每个PDB使用默认钱包位置，您不能在<code class="codeph">sqlnet.ora</code>设置<code class="codeph">WALLET_LOCATION</code> 。
                           </p>
                           <p>要查找<code class="codeph"><span class="codeinlineitalic">db_unique_name</span></code> ，请连接到CDB根目录并执行以下查询：</p><pre class="oac_no_warn" dir="ltr">SELECT DB_UNIQUE_NAME FROM V $ DATABASE;</pre><p>要从CDB根目录中查找<code class="codeph"><span class="codeinlineitalic">pdb_guid</span></code> ，请执行以下查询：</p><pre class="oac_no_warn" dir="ltr">SELECT PDB_NAME，GUID FROM DBA_PDBS;</pre><p>在<code class="codeph">sqlnet.ora</code>设置或不设置<code class="codeph">WALLET_LOCATION</code>参数具有以下效果：</p>
                           <ul id="GUID-FA766B57-AF32-44B0-9419-A8164EC4E38C__UL_RW2_DJ3_LFB" style="list-style-type:disc">
                              <li>如果未在<code class="codeph">sqlnet.ora</code>设置<code class="codeph">WALLET_LOCATION</code> ，则还可以将<code class="codeph">dsi.ora</code>放在CDB根容器的默认wallet目录中，该容器位于<code class="codeph">$ORACLE_BASE/admin/ <span class="codeinlineitalic">db_unique_name</span> /wallet</code>目录中。但是，这只会将CDB根容器连接到Active Directory，而不是整个CDB数据库。
                              </li>
                              <li>如果在<code class="codeph">sqlnet.ora</code>中设置了<code class="codeph">WALLET_LOCATION</code> ，那么您可以将<code class="codeph">dsi.ora</code>放在该钱包位置，这也只会将CDB根容器连接到Active Directory，而不是整个CDB数据库。
                              </li>
                           </ul>
                        </div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="integrating_mads_with_oracle_database.html#GUID-2366643F-D88D-4F97-B39E-099D7664EC8D" title="dsi.ora文件为Active Directory的集中管理用户指定连接。">步骤4：创建dsi.ora或ldap.ora文件</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                     <div class="sect5"><a id="GUID-605AC053-4869-4F92-B53D-C1F289F11753" name="GUID-605AC053-4869-4F92-B53D-C1F289F11753"></a><h6 id="DBSEG-GUID-605AC053-4869-4F92-B53D-C1F289F11753" class="sect6">创建dsi.ora文件</h6>
                        <div>
                           <p><code class="codeph">dsi.ora</code>配置文件设置信息以查找集中管理用户的Active Directory服务器。
                           </p>
                           <div class="section">要使用<code class="codeph">dsi.ora</code>配置文件：</div>
                           <!-- class="section" -->
                           <ol>
                              <li><span>登录Oracle数据库所在的主机。</span></li>
                              <li><span>转到要创建<code class="codeph">dsi.ora</code>文件的目录。</span></li>
                              <li><span>将以下参数添加到<code class="codeph">dsi.ora</code>文件：</span><ul>
                                    <li><code class="codeph">DSI_DIRECTORY_SERVERS</code> ，用于设置Active Directory服务器主机和端口号以及备用目录服务器。目录服务器名称必须是完全限定名称。如果要使用多个Windows域，也可以在此处拥有多个Active Directory服务器。例如：<pre class="pre codeblock"><code>DSI_DIRECTORY_SERVERS =（AD-server.production.examplecorp.com:389:636,sparky.production.examplecorp.com:389:636）</code></pre></li>
                                    <li><code class="codeph">DSI_DEFAULT_ADMIN_CONTEXT</code> ，用于设置Active Directory用户和组所在的搜索库。<span class="bold">此参数是可选的。</span> 默认情况下，Oracle在Active Directory的默认命名上下文中定位Active Directory用户和组。Oracle建议您不要设置此参数。仅当您要限制Active Directory用户和组的搜索范围时，才设置此参数。例如：<pre class="pre codeblock"><code>DSI_DEFAULT_ADMIN_CONTEXT =“OU =销售额，DC =生产，DC = examplecorp，DC = com”</code></pre></li>
                                    <li><code class="codeph">DSI_DIRECTORY_SERVER_TYPE</code> ，用于确定Active Directory服务器访问权限。您必须将其设置为<code class="codeph">AD</code> for Active Directory。以大写形式输入此值。<pre class="pre codeblock"><code>DSI_DIRECTORY_SERVER_TYPE = AD</code></pre></li>
                                 </ul>
                              </li>
                           </ol>
                        </div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="integrating_mads_with_oracle_database.html#GUID-2366643F-D88D-4F97-B39E-099D7664EC8D" title="dsi.ora文件为Active Directory的集中管理用户指定连接。">步骤4：创建dsi.ora或ldap.ora文件</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                     <div class="sect5"><a id="GUID-5478E6B9-9CDA-40BF-95D8-48A93CC0A809" name="GUID-5478E6B9-9CDA-40BF-95D8-48A93CC0A809"></a><h6 id="DBSEG-GUID-5478E6B9-9CDA-40BF-95D8-48A93CC0A809" class="sect6">关于使用ldap.ora文件</h6>
                        <div>
                           <p>您可以使用<code class="codeph">ldap.ora</code>文件为集中管理的用户指定Active Directory服务器。
                           </p>
                           <p>如果您已将<code class="codeph">ldap.ora</code>文件用于其他目的（例如网络命名服务），则必须使用<code class="codeph">dsi.ora</code>文件将集中管理的用户配置为与Active Directory连接以进行用户身份验证和授权。即使Active Directory已用于网络命名服务，您也必须创建并使用<code class="codeph">dsi.ora</code>文件来识别集中管理用户的Active Directory服务器。即使数据库当前未将<code class="codeph">ldap.ora</code>用于其他服务，Oracle建议使用<code class="codeph">dsi.ora</code> ，以防<code class="codeph">ldap.ora</code>将在未来的时间用于网络命名服务。
                           </p>
                           <p>使用<code class="codeph">ldap.ora</code>的好处是您可以使用DBCA图形界面或DBCA静默模式来完成配置与Active Directory服务器的连接。使用<code class="codeph">dsi.ora</code> ，必须单独完成配置与Active Directory连接的步骤。
                           </p>
                           <p>如果<code class="codeph">ldap.ora</code>用于命名服务，则不要对<code class="codeph">ldap.ora</code>进行任何更改。仅使用<code class="codeph">dsi.ora</code>配置CMU-Active Directory。
                           </p>
                           <p>通常， <code class="codeph">ldap.ora</code>文件存储在<code class="codeph">$ORACLE_HOME/network/admin</code>目录中。通常，除非将<code class="codeph">WALLET_LOCATION</code>设置为<code class="codeph">$ORACLE_HOME/network/admin</code> ，否则<code class="codeph">ldap.ora</code>文件不能与<code class="codeph">sqlnet.ora</code>文件中指定的<code class="codeph">WALLET_LOCATION</code>位于同一目录中。
                           </p>
                           <div class="p">创建<code class="codeph">ldap.ora</code>文件后，Oracle数据库按以下顺序搜索它：<ol>
                                 <li>
                                    <p><code class="codeph">$LDAP_ADMIN</code>环境变量设置</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">$ORACLE_HOME/ldap/admin</code>目录</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">$TNS_ADMIN</code>环境变量设置</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">$ORACLE_HOME/network/admin</code>目录</p>
                                 </li>
                              </ol>
                           </div>
                        </div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="integrating_mads_with_oracle_database.html#GUID-2366643F-D88D-4F97-B39E-099D7664EC8D" title="dsi.ora文件为Active Directory的集中管理用户指定连接。">步骤4：创建dsi.ora或ldap.ora文件</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                     <div class="sect5"><a id="GUID-E4CE25FC-4A78-4CB6-A028-92C3E273330C" name="GUID-E4CE25FC-4A78-4CB6-A028-92C3E273330C"></a><h6 id="DBSEG-GUID-E4CE25FC-4A78-4CB6-A028-92C3E273330C" class="sect6">创建ldap.ora文件</h6>
                        <div>
                           <p>这些步骤假定<code class="codeph">ldap.ora</code>未用于网络命名服务，可用于为集中管理的用户设置与Active Directory的连接。
                           </p>
                           <ol>
                              <li class="stepexpand"><span>登录Oracle数据库所在的主机。</span></li>
                              <li class="stepexpand"><span>转到要创建<code class="codeph">ldap.ora</code>文件的目录。</span></li>
                              <li class="stepexpand"><span>如果<code class="codeph">ldap.ora</code>文件不存在，则使用文本编辑器创建它。</span><div>如果<code class="codeph">ldap.ora</code>文件确实存在，请创建此文件的备份，然后打开<code class="codeph">ldap.ora</code> 。
                                 </div>
                              </li>
                              <li class="stepexpand"><span>将以下参数添加到<code class="codeph">ldap.ora</code>文件中：</span><ul>
                                    <li><code class="codeph">DIRECTORY_SERVERS</code> ，用于设置Active Directory服务器主机和端口号以及备用目录服务器。如果要使用多个Windows域，也可以在此处拥有多个Active Directory服务器。目录服务器名称必须是完全限定名称。例如：<pre class="pre codeblock"><code>DIRECTORY_SERVERS =（AD-server.production.examplecorp.com:389:636,sparky.production.examplecorp.com:389:636）</code></pre></li>
                                    <li><code class="codeph">DEFAULT_ADMIN_CONTEXT</code> ，用于设置Active Directory用户和组所在的搜索库。<span class="bold">此参数是可选的。</span> 默认情况下，Oracle在Active Directory的默认命名上下文中定位Active Directory用户和组。Oracle建议您不要设置此参数。仅当您要限制Active Directory用户和组的搜索范围时，才设置此参数。例如：<pre class="pre codeblock"><code>DEFAULT_ADMIN_CONTEXT =“OU =销售额，DC =生产，DC = examplecorp，DC = com”</code></pre></li>
                                    <li><code class="codeph">DIRECTORY_SERVER_TYPE</code> ，用于确定LDAP服务器访问权限。您必须将其设置为<code class="codeph">AD</code> for Active Directory。以大写形式输入此值。<pre class="pre codeblock"><code>DIRECTORY_SERVER_TYPE = AD</code></pre></li>
                                 </ul>
                              </li>
                           </ol>
                        </div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="integrating_mads_with_oracle_database.html#GUID-2366643F-D88D-4F97-B39E-099D7664EC8D" title="dsi.ora文件为Active Directory的集中管理用户指定连接。">步骤4：创建dsi.ora或ldap.ora文件</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-5CB2680D-9A06-43C3-ACCA-D9743948C17A" name="GUID-5CB2680D-9A06-43C3-ACCA-D9743948C17A"></a><h5 id="DBSEG-GUID-5CB2680D-9A06-43C3-ACCA-D9743948C17A" class="sect5">步骤5：为安全连接请求Active Directory证书</h5>
                     <div>
                        <p>配置<code class="codeph">dsi.ora</code>或<code class="codeph">ldap.ora</code>文件后，即可准备Microsoft Active Directory和Oracle数据库证书以进行安全连接。
                        </p>
                        <ul>
                           <li><span>从Active Directory管理员请求Active Directory证书。</span></li>
                        </ul>
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>相关话题</strong></p>
                           <ul>
                              <li><a href="using-the-orapki-utility-to-manage-pki-elements.html#GUID-834C05EF-934A-4F03-9940-DF0ED2793859" title="您必须使用orapki实用程序管理证书吊销列表（CRL）。">使用orapki Utility管理证书撤销列表（CRL）</a></li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="integrating_mads_with_oracle_database.html#GUID-1DB66BF2-AB14-46DB-AEFB-32B79F514706" title="您可以在Oracle数据库创建期间或使用现有Oracle数据库配置Microsoft Active Directory连接。">连接到Microsoft Active Directory</a></p>
                           </div>
                        </div>
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-CACCAA19-8578-4A40-931D-9A4521EE4E64" name="GUID-CACCAA19-8578-4A40-931D-9A4521EE4E64"></a><h5 id="DBSEG-GUID-CACCAA19-8578-4A40-931D-9A4521EE4E64" class="sect5">第6步：为安全连接创建钱包</h5>
                     <div>
                        <p>复制Active Directory证书后，即可将其添加到Oracle钱包中。</p>
                        <ol>
                           <li class="stepexpand"><span>将证书文本文件（例如， <code class="codeph">AD_CA_Root_cert.txt</code> ）从Active Directory服务器复制到本地主机上的临时目录（例如， <code class="codeph">/tmp</code> ）。</span><div>如果未在<code class="codeph">sqlnet.ora</code>文件中指定钱包位置，则数据库将按此顺序搜索钱包的以下位置。可能需要创建目录位置。
                              </div>
                              <div>对于非多租户数据库，或多租户数据库的CDB根容器：</div>
                              <ol type="a" id="GUID-CACCAA19-8578-4A40-931D-9A4521EE4E64__SUBSTEPS_GJ5_NP3_LFB">
                                 <li><span><code class="codeph">$ ORACLE_BASE / admin / <span class="codeinlineitalic">db_unique_name</span> / wallet /</code></span></li>
                                 <li><span><code class="codeph">$ ORACLE_HOME / admin / <span class="codeinlineitalic">db_unique_name</span> / wallet /</code></span></li>
                              </ol>
                              <div>
                                 <p>对于多租户数据库中的PDB：</p>
                              </div>
                              <ol type="a" id="GUID-CACCAA19-8578-4A40-931D-9A4521EE4E64__SUBSTEPS_FDK_KN3_LFB">
                                 <li><span><code class="codeph">$ ORACLE_BASE / admin / <span class="codeinlineitalic">db_unique_name</span> / <span class="codeinlineitalic">pdb_guid</span> / wallet /</code></span></li>
                                 <li><span><code class="codeph">$ ORACLE_HOME / admin / <span class="codeinlineitalic">db_unique_name</span> / <span class="codeinlineitalic">pdb_guid</span> / wallet /</code></span></li>
                              </ol>
                              <div>Oracle建议对多租户数据库中的每个单独容器，将钱包文件放在<code class="codeph">$ORACLE_BASE</code>下的默认钱包位置，即<code class="codeph">$ORACLE_BASE/admin/ <span class="codeinlineitalic">db_unique_name</span> / <span class="codeinlineitalic">pdb_guid</span> /wallet/</code>目录中。
                              </div>
                              <div>要查找<code class="codeph"><span class="codeinlineitalic">db_unique_name</span></code> ，请连接到CDB根目录并执行以下查询：<pre class="oac_no_warn" dir="ltr">SELECT DB_UNIQUE_NAME FROM V $ DATABASE;</pre><p>要从CDB根目录中查找<code class="codeph">pdb_guid</code> ，请执行以下查询：</p><pre class="oac_no_warn" dir="ltr">SELECT PDB_NAME，GUID FROM DBA_PDBS;</pre><p>如果使用<code class="codeph">sqlnet.ora</code>指定钱包位置，则指定的钱包位置用于非多租户数据库或多租户数据库的根容器。对于多租户数据库的每个PDB，其钱包位于<code class="codeph"><span class="codeinlineitalic">WALLET_LOCATION_specified_in_sqlnet.ora</span> /pdb_guid</code> 。您也可以把一个单个PDB <code class="codeph">dsi.ora</code>在<code class="codeph"><span class="codeinlineitalic">WALLET_LOCATION_specified_in_sqlnet.ora</span> / <span class="codeinlineitalic">pdb_guid</span></code> 。
                                 </p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>创建一个新钱包。</span><div>以下命令在指定路径中创建自动登录钱包。<pre class="oac_no_warn" dir="ltr">orapki wallet create -wallet <span class="italic">path_of_wallet</span> -auto_loginn输入密码： <span class="italic">密码</span></pre></div>
                           </li>
                           <li class="stepexpand"><span>在wallet中创建一个条目，其中包含用于在Active Directory中执行搜索的Oracle服务目录用户帐户的用户名（在第一步中创建）。</span><div>例如：<pre class="oac_no_warn" dir="ltr">mkstore -wrl <span class="italic">path_of_wallet</span> -createEntry ORACLE.SECURITY.USERNAME oracle</pre></div>
                           </li>
                           <li class="stepexpand"><span>使用Oracle服务目录用户帐户的DN在wallet中创建一个条目。</span><div>例如：<pre class="oac_no_warn" dir="ltr">mkstore -wrl <span class="italic">path_of_wallet</span> -createEntry ORACLE.SECURITY.DN cn = oracle，cn = users，dc = production，dc = examplecorp，dc = com</pre><p>在此示例中， <code class="codeph">DN</code>表示DNS域是<code class="codeph">production.examplecorp.com</code> 。Windows域名只是<code class="codeph">production</code> 。
                                 </p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>使用Oracle服务目录用户帐户的用户密码凭据在wallet中创建一个条目。</span><div>例如：<pre class="oac_no_warn" dir="ltr">mkstore -wrl <span class="italic">path_of_wallet</span> -createEntry ORACLE.SECURITY.PASSWORD <span class="italic">密码</span></pre></div>
                           </li>
                           <li class="stepexpand"><span>将证书添加到钱包。使用从Active Directory管理员处收到的Active Directory证书。</span><div>例如：<pre class="oac_no_warn" dir="ltr">orapki wallet add -wallet <span class="italic">path_of_wallet</span> -cert /tmp/AD_CA_Root_cert.txt-trusted_cert</pre><p>如果在<code class="codeph">sqlnet.ora</code>中指定了<code class="codeph">WALLET_LOCATION</code> ，则必须始终将Active Directory证书添加到<code class="codeph">sqlnet.ora</code>指定的此钱包，非多租户数据库，mutitenant数据库的根容器或多租户数据库的单个PDB。如果不同的PDB使用相同的Active Directory根CA证书，则只需将其添加到此钱包中一次。
                                 </p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>验证凭据。</span><div>例如：<pre class="oac_no_warn" dir="ltr">orapki钱包显示-wallet <span class="italic">path_of_wallet</span> </pre></div>
                              <div>输出应类似于以下内容：<pre class="oac_no_warn" dir="ltr">请求的证书：用户证书：Oracle Secret Store条目：ORACLE.SECURITY.DN ORACLE.SECURITY.PASSWORD ORACLE.SECURITY.USERNAME可信证书：主题：CN = ADSVR，DC =生产，DC = examplecorp，DC = com</pre><p>对于<code class="codeph"><span class="codeinlineitalic">WALLET_LOCATION_specified_in_sqlnet.ora</span> / <span class="codeinlineitalic">pdb_guid</span></code> ，输出应类似于以下内容：</p><pre class="oac_no_warn" dir="ltr">请求的证书：用户证书：Oracle Secret Store条目：ORACLE.SECURITY.DN ORACLE.SECURITY.PASSWORD ORACLE.SECURITY.USERNAME可信证书：</pre></div>
                           </li>
                        </ol>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="integrating_mads_with_oracle_database.html#GUID-1DB66BF2-AB14-46DB-AEFB-32B79F514706" title="您可以在Oracle数据库创建期间或使用现有Oracle数据库配置Microsoft Active Directory连接。">连接到Microsoft Active Directory</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-E0CBB613-AB38-44B7-ACC9-810C82A9CE31" name="GUID-E0CBB613-AB38-44B7-ACC9-810C82A9CE31"></a><h5 id="DBSEG-GUID-E0CBB613-AB38-44B7-ACC9-810C82A9CE31" class="sect5">步骤7：配置Microsoft Active Directory连接</h5>
                     <div>
                        <p>接下来，您已准备好使用目前为止的设置将数据库连接到Active Directory。</p>
                     </div>
                     <div>
                        <ul class="ullinks">
                           <li class="ulchildlink"><a href="integrating_mads_with_oracle_database.html#GUID-837140A6-B3E3-4285-8B50-0B8D53402DB6">关于配置Microsoft Active Directory连接</a><br>要配置Microsoft Active Directory连接，可以在数据库中设置参数或使用DBCA。</li>
                           <li class="ulchildlink"><a href="integrating_mads_with_oracle_database.html#GUID-839A209B-E32C-4D6F-89DD-5C0787BF874A">使用数据库系统参数手动配置访问</a><br>您可以使用特定于LDAP的Oracle数据库系统参数手动配置Active Directory服务连接。
                           </li>
                           <li class="ulchildlink"><a href="integrating_mads_with_oracle_database.html#GUID-70278341-41A2-4BD0-A5AD-3E8570538622">使用Database Configuration Assistant GUI配置访问</a><br>Oracle数据库配置助手（DBCA）完成LDAP连接配置并自动创建钱包并存储Active Directory证书以供使用。DBCA仅在为CMU-Active Directory配置<code class="codeph">ldap.ora</code>时有效。
                           </li>
                           <li class="ulchildlink"><a href="integrating_mads_with_oracle_database.html#GUID-3BC800E7-C595-4C90-B4D6-1794AF30BD46">使用Database Configuration Assistant静默模式配置访问</a><br>假设已在正确的位置创建<code class="codeph">ldap.ora</code> （不是<code class="codeph">dsi.ora</code> ）并正确配置，DBCA静默模式可以创建新数据库或更改现有数据库以进行Microsoft Active Directory-Oracle数据库集成。
                           </li>
                        </ul>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="integrating_mads_with_oracle_database.html#GUID-1DB66BF2-AB14-46DB-AEFB-32B79F514706" title="您可以在Oracle数据库创建期间或使用现有Oracle数据库配置Microsoft Active Directory连接。">连接到Microsoft Active Directory</a></p>
                           </div>
                        </div>
                     </div>
                     
                     <div class="sect5"><a id="GUID-837140A6-B3E3-4285-8B50-0B8D53402DB6" name="GUID-837140A6-B3E3-4285-8B50-0B8D53402DB6"></a><h6 id="DBSEG-GUID-837140A6-B3E3-4285-8B50-0B8D53402DB6" class="sect6">关于配置Microsoft Active Directory连接</h6>
                        <div>
                           <p>要配置Microsoft Active Directory连接，可以在数据库中设置参数或使用DBCA。</p>
                           <p>DBCA仅识别为集中管理的用户配置的<code class="codeph">ldap.ora</code> ，并仅在建议的默认位置创建钱包。要使用默认钱包位置，您<span class="bold">不能</span>在<code class="codeph">sqlnet.ora</code>设置<code class="codeph">WALLET_LOCATION</code> 。
                           </p>
                           <div class="infoboxnote" id="GUID-837140A6-B3E3-4285-8B50-0B8D53402DB6__GUID-758A9467-4B4E-4CF1-960E-E1AAD18A7CCB">
                              <p class="notep1">注意：</p>
                              <p>Oracle建议将<code class="codeph">dsi.ora</code>用于CMU-Active Directory。
                              </p>
                           </div>
                        </div>
                        <div>
                           <div class="relinfo">
                              <p><strong>相关话题</strong></p>
                              <ul>
                                 <li><a href="integrating_mads_with_oracle_database.html#GUID-839A209B-E32C-4D6F-89DD-5C0787BF874A" title="您可以使用特定于LDAP的Oracle数据库系统参数手动配置Active Directory服务连接。">使用数据库系统参数手动配置访问</a></li>
                              </ul>
                           </div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="integrating_mads_with_oracle_database.html#GUID-E0CBB613-AB38-44B7-ACC9-810C82A9CE31" title="接下来，您已准备好使用目前为止的设置将数据库连接到Active Directory。">步骤7：配置Microsoft Active Directory连接</a></p>
                              </div>
                           </div>
                        </div>
                     </div>
                     <div class="sect5"><a id="GUID-839A209B-E32C-4D6F-89DD-5C0787BF874A" name="GUID-839A209B-E32C-4D6F-89DD-5C0787BF874A"></a><h6 id="DBSEG-GUID-839A209B-E32C-4D6F-89DD-5C0787BF874A" class="sect6">使用数据库系统参数手动配置访问</h6>
                        <div>
                           <p>您可以使用特定于LDAP的Oracle数据库系统参数手动配置Active Directory服务连接。</p>
                           <ol>
                              <li class="stepexpand"><span>确保您已创建<code class="codeph">dsi.ora</code>文件或<code class="codeph">ldap.ora</code>文件，并且已创建钱包。</span></li>
                              <li class="stepexpand"><span>以具有<code class="codeph">ALTER SYSTEM</code>系统特权的用户身份登录数据库实例。</span><div>在多租户环境中，您可以登录CDB根目录或PDB。如果登录CDB根目录，则参数设置会影响每个PDB。如果您登录到PDB，则参数设置仅影响该PDB。<p>例如，要登录CDB根目录：</p><pre class="oac_no_warn" dir="ltr">sqlplus c ## sec_admin输入密码： <span class="italic">密码</span></pre></div>
                              </li>
                              <li class="stepexpand"><span>修改<code class="codeph">LDAP_DIRECTORY_ACCESS</code>参数，该参数确定LDAP目录访问的类型。</span><div>有效值为<code class="codeph">PASSWORD</code>和<code class="codeph">NONE</code> （禁用连接）。<code class="codeph">PASSWORD</code>需要Active Directory服务器证书，并且在创建钱包时，必须包含Oracle的Active Directory服务用户帐户的凭据。
                                 </div>
                                 <div>例如：<pre class="oac_no_warn" dir="ltr">ALTER SYSTEM SET LDAP_DIRECTORY_ACCESS ='PASSWORD';</pre><p>您还可以在spfile或<code class="codeph">init.ora</code>文件中设置此参数（如果使用<code class="codeph">init.ora</code>文件）。然后，重新启动数据库。
                                    </p>
                                 </div>
                              </li>
                              <li class="stepexpand"><span>将<code class="codeph">LDAP_DIRECTORY_SYSAUTH</code>参数设置为<code class="codeph">YES</code> ，以便Active Directory中的管理用户可以使用<code class="codeph">SYSDBA</code> ， <code class="codeph">SYSOPER</code> ， <code class="codeph">SYSBACKUP</code> ， <code class="codeph">SYSDG</code> ， <code class="codeph">SYSKM</code>或<code class="codeph">SYSRAC</code>管理权限登录Oracle数据库。</span><div>如果将此参数设置为<code class="codeph">NO</code> ，则Active Directory中的集中管理用户无法使用这些权限登录Oracle数据库。
                                 </div>
                                 <div><pre class="oac_no_warn" dir="ltr">ALTER SYSTEM SET LDAP_DIRECTORY_SYSAUTH = YES SCOPE = SPFILE;</pre><p>您还可以在spfile或<code class="codeph">init.ora</code>文件中设置此参数（如果使用<code class="codeph">init.ora</code>文件）。然后，重新启动数据库。
                                    </p>
                                 </div>
                              </li>
                              <li class="stepexpand"><span>重新启动数据库实例。</span><ul>
                                    <li>如果您处于非多租户环境中，或者您处于多租户环境和PDB中（或者如果您在CDB根目录中并希望使参数设置更改对整个CDB生效），则关闭并且然后重启数据库：<pre class="oac_no_warn" dir="ltr">关机立即启动</pre></li>
                                    <li>如果您处于多租户环境和CDB根目录中，并且希望更改参数设置以使其对特定PDB生效，请关闭并重新打开该PDB：<pre class="oac_no_warn" dir="ltr">ALTER PLUGGABLE DATABASE <span class="italic">pdb_name</span> CLOSE IMMEDIATE; ALTER PLUGGABLE DATABASE <span class="italic">pdb_name</span> OPEN;</pre></li>
                                 </ul>
                              </li>
                           </ol>
                           <div class="section">重新启动数据库后，可以使用<code class="codeph">SYSDBA</code>管理权限登录并检查LDAP参数设置，如下所示：<pre class="oac_no_warn" dir="ltr">show参数ldap</pre></div>
                           <!-- class="section" -->
                        </div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="integrating_mads_with_oracle_database.html#GUID-E0CBB613-AB38-44B7-ACC9-810C82A9CE31" title="接下来，您已准备好使用目前为止的设置将数据库连接到Active Directory。">步骤7：配置Microsoft Active Directory连接</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                     <div class="sect5"><a id="GUID-70278341-41A2-4BD0-A5AD-3E8570538622" name="GUID-70278341-41A2-4BD0-A5AD-3E8570538622"></a><h6 id="DBSEG-GUID-70278341-41A2-4BD0-A5AD-3E8570538622" class="sect6">使用Database Configuration Assistant GUI配置访问</h6>
                        <div>
                           <p>Oracle数据库配置助手（DBCA）完成LDAP连接配置并自动创建钱包并存储Active Directory证书以供使用。DBCA仅在为CMU-Active Directory配置<code class="codeph">ldap.ora</code>时有效。
                           </p>
                           <div class="section">这些说明假定您已经安装了Oracle软件，并且您正在使用<code class="codeph">ldap.ora</code>文件（而不是<code class="codeph">dsi.ora</code> ）来识别集中管理用户的Active Directory服务器。如果尚未安装数据库软件，则可以使用Oracle Universal Installer（OUI）安装该软件。之后，使用DBCA创建数据库，同时可以为Active Directory集中管理的用户配置连接。
                           </div>
                           <!-- class="section" -->
                           <ol>
                              <li class="stepexpand"><span>以具有管理权限的用户身份登录到安装Oracle数据库软件的主机。</span></li>
                              <li class="stepexpand"><span>启动<code class="codeph">DBCA</code> 。</span><div>默认情况下， <code class="codeph">DBCA</code>实用程序位于<code class="codeph">$ORACLE_HOME/bin</code>目录中。
                                 </div>
                                 <div>例如：<pre class="oac_no_warn" dir="ltr">cd $ ORACLE_HOME / bin ./dbca</pre></div>
                              </li>
                              <li class="stepexpand"><span>选择“网络配置”选项（或在创建数据库时进入“网络配置”选项）。</span><div>出现“指定网络配置详细信息”窗口如果目录服务集成区域不可见，则说明未正确配置<code class="codeph">ldap.ora</code>文件。检查先前执行的<code class="codeph">ldap.ora</code>配置，并在更正文件后重新运行DBCA。</div>
                              </li>
                              <li class="stepexpand"><span>在“目录服务集成”区域中，执行以下操作：</span><ul>
                                    <li>在“ <span class="uicontrol bold">服务用户名”</span>字段中，输入Oracle服务目录用户帐户的名称。
                                    </li>
                                    <li>在“ <span class="uicontrol bold">密码”</span>字段中，输入Oracle服务目录用户帐户的密码。
                                    </li>
                                    <li>在“ <span class="uicontrol bold">服务用户DN”</span>字段中，输入Oracle服务目录用户帐户的DN。可以直接从Active Directory服务器或Active Directory系统管理员检索DN。
                                    </li>
                                    <li>对于“ <span class="uicontrol bold">访问类型”</span> ，从列表中选择身份验证类型（例如， <span class="uicontrol bold">PASSWORD</span> ）。（此设置设置<code class="codeph">LDAP_DIRECTORY_ACCESS</code>参数。）如有必要，请选中“ <span class="uicontrol bold">允许管理员权限身份验证”</span>复选框，该复选框允许Active Directory用户对具有管理权限的数据库模式进行身份验证和使用（例如， <code class="codeph">SYSDBA</code> ， <code class="codeph">SYSOPER</code> ， <code class="codeph">SYSBACKUP</code>等）。否则，Active Directory中的集中管理用户无法使用管理权限登录数据库。（此设置对应于<code class="codeph">LDAP_DIRECTORY_SYSAUTH</code>参数。）
                                    </li>
                                    <li>在“ <span class="uicontrol bold">证书文件位置”</span>字段中提供Active Directory证书的路径。在多用户环境中，DBCA识别并设置数据库实例连接的Active Directory连接。如果要将其他Active Directory服务器连接到PDB，则必须手动配置PDB连接。</li>
                                    <li>在<span class="uicontrol bold">电子钱包密码</span>和<span class="uicontrol bold">确认密码</span>字段中，输入并确认将存储Oracle服务目录用户帐户的证书和凭据的Oracle钱包的密码。之后，DBCA会自动验证服务目录用户帐户，创建钱包，存储用户凭据并导入证书。
                                    </li>
                                 </ul>
                              </li>
                              <li class="stepexpand"><span>单击“ <span class="uicontrol bold">下一步”，</span>直到“完成”页面。</span></li>
                              <li class="stepexpand"><span>单击<span class="uicontrol bold">完成</span> 。</span></li>
                           </ol>
                        </div>
                        <div>
                           <div class="relinfo">
                              <p><strong>相关话题</strong></p>
                              <ul>
                                 <li><a href="integrating_mads_with_oracle_database.html#GUID-2366643F-D88D-4F97-B39E-099D7664EC8D" title="dsi.ora文件为Active Directory的集中管理用户指定连接。">第4步：创建dsi.ora或ldap.ora文件</a></li>
                                 <li><a href="integrating_mads_with_oracle_database.html#GUID-3BC800E7-C595-4C90-B4D6-1794AF30BD46" title="假设已在正确的位置创建ldap.ora（不是dsi.ora）并正确配置，DBCA静默模式可以创建新数据库或更改现有数据库以进行Microsoft Active Directory-Oracle数据库集成。">使用Database Configuration Assistant静默模式配置访问</a></li>
                              </ul>
                           </div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="integrating_mads_with_oracle_database.html#GUID-E0CBB613-AB38-44B7-ACC9-810C82A9CE31" title="接下来，您已准备好使用目前为止的设置将数据库连接到Active Directory。">步骤7：配置Microsoft Active Directory连接</a></p>
                              </div>
                           </div>
                        </div>
                     </div>
                     <div class="sect5"><a id="GUID-3BC800E7-C595-4C90-B4D6-1794AF30BD46" name="GUID-3BC800E7-C595-4C90-B4D6-1794AF30BD46"></a><h6 id="DBSEG-GUID-3BC800E7-C595-4C90-B4D6-1794AF30BD46" class="sect6">使用Database Configuration Assistant静默模式配置访问</h6>
                        <div>
                           <p>假设已在正确的位置创建<code class="codeph">ldap.ora</code> （不是<code class="codeph">dsi.ora</code> ）并正确配置，DBCA静默模式可以创建新数据库或更改现有数据库以进行Microsoft Active Directory-Oracle数据库集成。
                           </p>
                           <ol>
                              <li class="stepexpand"><span>登录将具有要用于集成的Oracle数据库的主机。</span></li>
                              <li class="stepexpand"><span>确保在正确的位置使用正确的内容创建<code class="codeph">ldap.ora</code> 。</span></li>
                              <li class="stepexpand"><span>确保未在<code class="codeph">sqlnet.ora</code>文件中指定<code class="codeph">WALLET_LOCATION</code>参数。</span></li>
                              <li class="stepexpand"><span>以静默方式运行数据库配置助手（DBCA）。</span><div>例如，要创建单实例非多租户数据库：<pre class="oac_no_warn" dir="ltr">cd $ ORACLE_HOME / bin ./dbca -silent -createDatabase -gdbName inst1.production.examplecorp.com -templateName General_Purpose.dbc -totalMemory 1000 -registerWithDirService true -dirServiceUser oracle -dirServiceUserName cn = oracle，cn = users，dc = production，dc = examplecorp，dc = com -dirServicePassword <span class="italic">service_user_password</span> -ldapDirectoryAccessType PASSWORD -useSysAuthForLDAPAccess true -dirServiceCertificatePath /tmp/AD_CA_Root_cert.txt -walletPassword <span class="italic">wallet_password</span> -sysPassword <span class="italic">sys_password</span> -systemPassword <span class="italic">system_password</span></pre><p>要配置CDB或非多租户数据库的根容器，请执行以下操作：</p><pre class="oac_no_warn" dir="ltr">cd $ ORACLE_HOME / bin ./dbca -silent -configureDatabase -sourceDB <span class="italic">db_name</span> -registerWithDirService true -dirServiceUser oracle -dirServiceUserName cn = oracle，cn = users，dc = production，dc = examplecorp，dc = com -dirServicePassword <span class="italic">service_user_password</span> -ldapDirectoryAccessType PASSWORD -useSYSAuthForLDAPAccess true -dirServiceCertificatePath /tmp/AD_CA_Root_cert.txt -walletPassword <span class="italic">wallet_password</span></pre><p>要在CDB中配置可插拔数据库：</p><pre class="oac_no_warn" dir="ltr">cd $ ORACLE_HOME / bin ./dbca -silent -configurePluggableDatabase -pdbName <span class="italic">pdb_name</span> -sourceDB <span class="italic">db_name</span> -registerWithDirService true -dirServiceUser oracle -dirServiceUserName cn = oracle，cn = users，dc = production，dc = examplecorp，dc = com -dirServicePassword <span class="italic">service_user_password</span> -dirServiceCertificatePath /tmp/AD_CA_Root_cert.txt -walletPassword <span class="italic">wallet_password</span> </pre></div>
                              </li>
                           </ol>
                        </div>
                        <div>
                           <div class="relinfo">
                              <p><strong>相关话题</strong></p>
                              <ul>
                                 <li><a href="integrating_mads_with_oracle_database.html#GUID-5478E6B9-9CDA-40BF-95D8-48A93CC0A809" title="您可以使用ldap.ora文件为集中管理的用户指定Active Directory服务器。">关于使用ldap.ora文件</a></li>
                              </ul>
                           </div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="integrating_mads_with_oracle_database.html#GUID-E0CBB613-AB38-44B7-ACC9-810C82A9CE31" title="接下来，您已准备好使用目前为止的设置将数据库连接到Active Directory。">步骤7：配置Microsoft Active Directory连接</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-034E8557-73B2-4211-94C8-ABDED26B63B9" name="GUID-034E8557-73B2-4211-94C8-ABDED26B63B9"></a><h5 id="DBSEG-GUID-034E8557-73B2-4211-94C8-ABDED26B63B9" class="sect5">第8步：验证Oracle Wallet</h5>
                     <div>
                        <p><code class="codeph">orapki</code>实用程序可以验证是否已成功创建此数据库的钱包。
                        </p>
                        <ol>
                           <li class="stepexpand"><span>登录到集成中使用数据库的主机。</span></li>
                           <li class="stepexpand"><span>转到包含钱包的目录。</span><div>如果未在<code class="codeph">sqlnet.ora</code>设置<code class="codeph">WALLET_LOCATION</code> ，则默认钱包位置如下：</div>
                              <div>
                                 <p>在非多租户环境中， <code class="codeph">wallet</code>目录位于<code class="codeph">$ORACLE_BASE/admin/ <span class="codeinlineitalic">db_unique_name</span> /wallet</code>目录中。
                                 </p>
                                 <p>在多租户环境中，它位于以下位置之一：</p>
                                 <ul id="GUID-034E8557-73B2-4211-94C8-ABDED26B63B9__UL_X52_MZK_KFB" style="list-style-type:disc">
                                    <li>对于CDB根目录，钱包位于<code class="codeph">$ORACLE_BASE/admin/ <span class="codeinlineitalic">db_unique_name</span> /wallet/</code>目录中。
                                    </li>
                                    <li>对于PDB，钱包位于<code class="codeph">$ORACLE_BASE/admin/ <span class="codeinlineitalic">db_unique_name</span> / <span class="codeinlineitalic">pdb_guid</span> /wallet/</code>目录中。
                                    </li>
                                 </ul>
                              </div>
                           </li>
                           <li class="stepexpand"><span>在命令行中，输入以下命令：</span><div>
                                 <p><code class="codeph">ls -l <span class="codeinlineitalic">path_of_wallet</span></code> （检查<code class="codeph">wallet</code>目录是否包含钱包文件）</p>
                                 <p><code class="codeph">orapki wallet display -wallet <span class="codeinlineitalic">path_of_wallet</span></code> （查找Oracle Secret Store条目）</p>
                                 <p>输出应包含以下条目：</p><pre class="oac_no_warn" dir="ltr">请求的证书：用户证书：Oracle Secret Store条目：ORACLE.SECURITY.DN ORACLE.SECURITY.PASSWORD ORACLE.SECURITY.USERNAME可信证书：主题：CN = ADSVR，DC =生产，DC = examplecorp，DC = com</pre></div>
                           </li>
                        </ol>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="integrating_mads_with_oracle_database.html#GUID-1DB66BF2-AB14-46DB-AEFB-32B79F514706" title="您可以在Oracle数据库创建期间或使用现有Oracle数据库配置Microsoft Active Directory连接。">连接到Microsoft Active Directory</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-8BB25985-1E21-473F-9BDC-E5010EE39969" name="GUID-8BB25985-1E21-473F-9BDC-E5010EE39969"></a><h5 id="DBSEG-GUID-8BB25985-1E21-473F-9BDC-E5010EE39969" class="sect5">第9步：测试集成</h5>
                     <div>
                        <p>要测试集成，必须设置<code class="codeph">ORACLE_HOME</code> ， <code class="codeph">ORACLE_BASE,</code>和<code class="codeph">ORACLE_SID</code>环境变量，然后验证LDAP参数设置。
                        </p>
                        <ol>
                           <li class="stepexpand"><span>登录到使用数据库进行集成的主机。</span></li>
                           <li class="stepexpand"><span>设置<code class="codeph">ORACLE_HOME</code> ， <code class="codeph">ORACLE_BASE</code>和<code class="codeph">ORACLE_SID</code>环境变量。</span><div>例如：<pre class="oac_no_warn" dir="ltr">export ORACLE_HOME = / app / product / 18.1 / dbhome_1 export ORACLE_BASE = / app export ORACLE_SID = sales_db</pre></div>
                           </li>
                           <li class="stepexpand"><span>以具有<code class="codeph">SYSDBA</code>管理权限的用户身份登录数据库实例。</span><div>例如：<pre class="oac_no_warn" dir="ltr">sqlplus sec_admin as sysdba输入密码： <span class="italic">password</span></pre></div>
                           </li>
                           <li class="stepexpand"><span>检查LDAP参数设置：</span><div><pre class="oac_no_warn" dir="ltr">show参数ldap</pre><p>输出应类似于以下内容：</p><pre class="oac_no_warn" dir="ltr">名称类型值--------------------------- --------- ----------- ------ ldap_directory_access string PASSWORD ldap_directory_sysauth string YES</pre></div>
                           </li>
                        </ol>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="integrating_mads_with_oracle_database.html#GUID-1DB66BF2-AB14-46DB-AEFB-32B79F514706" title="您可以在Oracle数据库创建期间或使用现有Oracle数据库配置Microsoft Active Directory连接。">连接到Microsoft Active Directory</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-C207C899-75B0-4D0F-A686-AA3E06B61224" name="GUID-C207C899-75B0-4D0F-A686-AA3E06B61224"></a><h3 id="DBSEG-GUID-C207C899-75B0-4D0F-A686-AA3E06B61224" class="sect3">为集中管理的用户配置身份验证</h3>
               <div>
                  <p>您可以配置密码身份验证，Kerberos身份验证或公钥基础结构（PKI）身份验证。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="integrating_mads_with_oracle_database.html#GUID-18BBB8A1-00CC-47B8-9D0B-D0E5BA2D9315">为中央管理用户配置密码身份验证</a><br>为集中管理的用户配置密码身份验证需要使用Active Directory的密码筛选器在Active Directory上生成和存储Oracle数据库密码验证程序。
                     </li>
                     <li class="ulchildlink"><a href="integrating_mads_with_oracle_database.html#GUID-FAD942EC-4461-4073-8518-C977721147EB">为集中管理的用户配置Kerberos身份验证</a><br>如果计划使用Kerberos身份验证，则必须在将与Microsoft Active Directory集成的Oracle数据库中配置Kerberos。
                     </li>
                     <li class="ulchildlink"><a href="integrating_mads_with_oracle_database.html#GUID-1EF17156-3FA4-4EDD-8DFF-F98EB3A926BF">为集中管理的用户使用PKI证书配置身份验证</a><br>如果计划使用PKI证书对集中管理的用户进行身份验证，则必须在Oracle数据库中配置将与Microsoft Active Directory集成的安全套接字层。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="integrating_mads_with_oracle_database.html#GUID-9739D541-FA9D-422A-95CA-799A4C6F488D" title="Oracle数据库可以直接使用数据库对Microsoft Active Directory用户进行身份验证和授权，而无需中间目录或Oracle Enterprise User Security。">使用Microsoft Active Directory配置集中管理的用户</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="sect3"><a id="GUID-18BBB8A1-00CC-47B8-9D0B-D0E5BA2D9315" name="GUID-18BBB8A1-00CC-47B8-9D0B-D0E5BA2D9315"></a><h4 id="DBSEG-GUID-18BBB8A1-00CC-47B8-9D0B-D0E5BA2D9315" class="sect4">为中央管理用户配置密码身份验证</h4>
                  <div>
                     <p>为集中管理的用户配置密码身份验证需要使用Active Directory的密码筛选器在Active Directory上生成和存储Oracle数据库密码验证程序。</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="integrating_mads_with_oracle_database.html#GUID-E8747F53-46DD-4906-A520-0E20D67743C1">关于为集中管理用户配置密码身份验证</a><br>要配置密码身份验证，您必须部署密码筛选器，通过添加一个用户属性来扩展Active Directory架构，并创建用于在Active Directory上生成不同版本的密码验证程序的组。
                        </li>
                        <li class="ulchildlink"><a href="integrating_mads_with_oracle_database.html#GUID-68E42AE4-646C-4AC0-9C94-8F972BE79442">为中央管理的用户配置密码身份验证</a><br>如果要求Active Directory用户以管理权限登录到Oracle数据库，则必须在Active Directory服务器上以及Oracle数据库上执行密码身份验证配置。
                        </li>
                        <li class="ulchildlink"><a href="integrating_mads_with_oracle_database.html#GUID-24F8613D-FD8B-411E-924F-7D1BB86FF353">使用密码身份验证登录Oracle数据库</a><br>对于密码身份验证，集中管理的用户可以选择如何登录数据库。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="integrating_mads_with_oracle_database.html#GUID-C207C899-75B0-4D0F-A686-AA3E06B61224" title="您可以配置密码身份验证，Kerberos身份验证或公钥基础结构（PKI）身份验证。">为集中管理的用户配置身份验证</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="sect4"><a id="GUID-E8747F53-46DD-4906-A520-0E20D67743C1" name="GUID-E8747F53-46DD-4906-A520-0E20D67743C1"></a><h5 id="DBSEG-GUID-E8747F53-46DD-4906-A520-0E20D67743C1" class="sect5">关于为集中管理用户配置密码身份验证</h5>
                     <div>
                        <p>要配置密码身份验证，您必须部署密码筛选器，通过添加一个用户属性来扩展Active Directory架构，并创建用于在Active Directory上生成不同版本的密码验证程序的组。</p>
                        <p>要使Active Directory用户使用管理权限登录Oracle数据库，还必须使用Oracle数据库设置密码文件。</p>
                        <p>对于密码身份验证，由于Oracle数据库未通过<code class="codeph">ldapbind</code>命令传递Active Directory用户的密码以使用Active Directory进行身份验证，因此必须安装Oracle筛选器并扩展Active Directory架构。当Active Directory用户更新其密码时，您在Active Directory中安装的Oracle筛选器会创建特定于Oracle的密码验证程序。首次安装时，Oracle过滤器不会生成所有必需的Oracle密码验证程序;当用户更改其Active Directory密码时，Oracle过滤器仅为用户生成Oracle密码验证程序。
                        </p>
                        <p>为了保持向后兼容性（如果您的站点需要它），Oracle过滤器可以生成密码验证程序，以便与版本11g，12c和18c的Oracle数据库客户端一起使用。Oracle密码过滤器使用名为<code class="codeph">ORA_VFR_MD5</code> （对于<code class="codeph">WebDAV</code> ）， <code class="codeph">ORA_VFR_11G</code> （对于版本11g）和<code class="codeph">ORA_VFR_12C</code> （对于版本12c和18c）的Active Directory组来确定要生成哪些Oracle数据库密码验证器。必须在Active Directory中创建这些组，才能为组成员用户生成Oracle密码验证程序。这些是单独的组，用于指定应为Active Directory用户生成哪些特定验证程序。例如，如果十个目录用户需要登录到仅与Oracle数据库版本18c和12c客户端通信的新创建的Oracle数据库版本18c数据库，则Active Directory组<code class="codeph">ORA_VFR_12C</code>将有十个Active Directory用户作为成员。Oracle过滤器只有在使用Active Directory更改密码时才会为这十个Active Directory用户生成<code class="codeph">12C</code>验证程序（18c验证程序与12c验证程序相同）。如果Active Directory用户不再需要登录Oracle数据库，为了清除为Active Directory用户生成的Oracle密码验证程序，请从任何<code class="codeph">ORA_VFR</code>组中删除该用户，并<code class="codeph">ORA_VFR</code>重置密码（或要求更改密码）用户。您也可以手动清除此用户的<code class="codeph">orclCommonAttribute</code>属性。用户从<code class="codeph">ORA_VFR</code>组中删除后，将不再生成Oracle密码验证程序。
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="integrating_mads_with_oracle_database.html#GUID-18BBB8A1-00CC-47B8-9D0B-D0E5BA2D9315" title="为集中管理的用户配置密码身份验证需要使用Active Directory的密码筛选器在Active Directory上生成和存储Oracle数据库密码验证程序。">为集中管理的用户配置密码身份验证</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-68E42AE4-646C-4AC0-9C94-8F972BE79442" name="GUID-68E42AE4-646C-4AC0-9C94-8F972BE79442"></a><h5 id="DBSEG-GUID-68E42AE4-646C-4AC0-9C94-8F972BE79442" class="sect5">为中央管理的用户配置密码身份验证</h5>
                     <div>
                        <p>如果要求Active Directory用户以管理权限登录到Oracle数据库，则必须在Active Directory服务器上以及Oracle数据库上执行密码身份验证配置。</p>
                        <ol>
                           <li class="stepexpand"><span>部署Oracle数据库密码筛选器并扩展Active Directory架构。</span><div>用于执行此任务的实用工具<code class="codeph">opwdintg.exe</code>位于<code class="codeph">$ORACLE_HOME/bin</code> 。此实用程序在Active Directory中安装密码筛选器，扩展Active Directory架构以容纳Oracle密码验证程序，并创建Active Directory密码验证程序组。使用<code class="codeph">WebDAV</code> ， <code class="codeph">11G</code>和<code class="codeph">12C</code>密码验证程序连接到客户端时，密码筛选器将允许Oracle数据库对Microsoft Active Directory用户帐户进行身份验证。
                              </div>
                              <ol type="a">
                                 <li class="substepexpand"><span>要部署<code class="codeph">opwdintg.exe</code>可执行文件，请将此文件复制到Active Directory服务器，然后让Active Directory管理员运行<code class="codeph">opwdintg.exe</code>实用程序工具。</span></li>
                                 <li class="substepexpand"><span>以具有创建和管理用户组权限的用户身份登录Microsoft Active Directory。</span></li>
                                 <li class="substepexpand"><span>检查以下密码验证者用户组： <code class="codeph">ORA_VFR_MD5</code> ， <code class="codeph">ORA_VFR_11G</code>和<code class="codeph">ORA_VFR_12C</code> 。如果这些组不存在，请重新运行<code class="codeph">opwdintg.exe</code>实用程序工具。</span></li>
                                 <li class="substepexpand"><span>按照以下准则添加将使用Oracle数据库的Microsoft Active Directory用户：</span><div>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p>如果在客户端或服务器只允许Oracle数据库释放<span class="italic">12c的</span>认证，然后将用户添加到<code class="codeph">ORA_VFR_12C</code>组。（Oracle数据库版本18c使用与Oracle数据库版本12c相同的验证程序。）
                                             </p>
                                          </li>
                                          <li>
                                             <p>如果客户端和服务器只允许认证比Oracle数据库版本低<span class="italic">12℃（</span>也就是，他们有Oracle数据库版本11g中，或12.1.0.1客户端），然后将用户添加到<code class="codeph">ORA_VFR_11G</code>组。
                                             </p>
                                          </li>
                                          <li>
                                             <p>如果用户必须通过Oracle数据库<code class="codeph">WebDAV</code>客户端进行身份验证，则该用户必须是<code class="codeph">ORA_VFR_MD5</code>组的成员。
                                             </p>
                                          </li>
                                       </ul>
                                       <p>此配置可以对Oracle数据库密码验证程序的生成进行细粒度控制。仅生成所需用户所需的验证者。例如，如果将Microsoft Active Directory用户<code class="codeph">pfitch</code>添加到<code class="codeph">ORA_VFR_12C</code>和<code class="codeph">ORA_VFR_11G</code>组，则将为<code class="codeph">pfitch</code>生成<code class="codeph">12C</code>和<code class="codeph">11G</code>验证器。这确保在适用时选择最安全和最强的验证程序，而在其他情况下，为Oracle数据库发行版11g客户端选择<code class="codeph">11G</code>验证程序。
                                       </p>
                                    </div>
                                 </li>
                              </ol>
                           </li>
                           <li class="stepexpand"><span>将数据库密码文件更新到12.2版。</span><div>如果要求Active Directory用户以管理权限登录Oracle数据库，则将数据库密码文件更新为12.2版。</div>
                              <ol type="a">
                                 <li class="substepexpand"><span>作为具有管理权限的用户，请登录到用于Microsoft Active Directory连接的数据库所在的主机。</span></li>
                                 <li class="substepexpand"><span>转到<code class="codeph">$ORACLE_HOME/dbs</code>目录。</span></li>
                                 <li class="substepexpand"><span>运行<code class="codeph">ORAPWD</code>实用程序以将格式设置为12.2。</span><div>例如：<pre class="oac_no_warn" dir="ltr">orapwd FILE ='/ app / oracle / product / 18.1 / db_1 / dbs / orapwdb181'FORMAT = 12.2</pre><p>此设置可确保您可以向全局用户授予各种管理权限，例如<code class="codeph">SYSOPOER</code>和<code class="codeph">SYSBACKUP</code> 。
                                       </p>
                                    </div>
                                 </li>
                                 <li class="substepexpand"><span>以具有<code class="codeph">ALTER SYSTEM</code>权限的用户身份登录数据库实例。</span></li>
                                 <li class="substepexpand"><span>确保<code class="codeph">spfile</code>或<code class="codeph">init.ora</code>文件中的<code class="codeph">LDAP_DIRECTORY_SYSAUTH</code>参数设置为<code class="codeph">YES</code> 。</span></li>
                                 <li class="substepexpand"><span>在<code class="codeph">spfile</code>或<code class="codeph">init.ora</code>文件中将<code class="codeph">REMOTE_LOGIN_PASSWORDFILE</code>参数设置为<code class="codeph">EXCLUSIVE</code> 。</span></li>
                                 <li class="substepexpand"><span>重新启动数据库实例。</span><div><pre class="oac_no_warn" dir="ltr">关机立即启动</pre></div>
                                 </li>
                              </ol>
                           </li>
                        </ol>
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>相关话题</strong></p>
                           <ul>
                              <li><a href="integrating_mads_with_oracle_database.html#GUID-4B702116-EF10-47AC-9267-163553C15FF5" title="您可以使用Active Directory服务器上的Oracle opwdintg.exe可执行文件来安装密码筛选器并扩展Active Directory架构。">步骤2：对于密码身份验证，安装密码筛选器并扩展Microsoft Active Directory架构</a></li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="integrating_mads_with_oracle_database.html#GUID-18BBB8A1-00CC-47B8-9D0B-D0E5BA2D9315" title="为集中管理的用户配置密码身份验证需要使用Active Directory的密码筛选器在Active Directory上生成和存储Oracle数据库密码验证程序。">为集中管理的用户配置密码身份验证</a></p>
                           </div>
                        </div>
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-24F8613D-FD8B-411E-924F-7D1BB86FF353" name="GUID-24F8613D-FD8B-411E-924F-7D1BB86FF353"></a><h5 id="DBSEG-GUID-24F8613D-FD8B-411E-924F-7D1BB86FF353" class="sect5">使用密码身份验证登录Oracle数据库</h5>
                     <div>
                        <p>对于密码身份验证，集中管理的用户可以选择如何登录数据库。</p>
                        <p>要登录配置为连接到Active Directory的数据库，如果Active Directory用户使用密码身份验证，则可以使用以下登录用户名语法：</p><pre class="oac_no_warn" dir="ltr">sqlplus / nolog connect“ <span class="italic">Windows_domain</span> \ <span class="italic">Active_Directory_user_name</span> ” <span class="italic">@tnsname_of_database</span>密码： <span class="italic">密码</span></pre><p>以下连接假定Windows域名是<code class="codeph">production</code> ：</p><pre class="oac_no_warn" dir="ltr">连接“production \ pfitch”@ inst1</pre><p>如果Active Directory用户与数据库钱包中配置的Oracle Service Directory用户帐户位于同一Active Directory域中，则Active Directory用户可以直接使用此用户名（ <code class="codeph"><span class="codeinlineitalic">samAccountName</span></code> ）登录数据库：</p><pre class="oac_no_warn" dir="ltr">sqlplus <span class="italic">samAccountName</span> @ <span class="italic">tnsname_of_database</span>输入密码： <span class="italic">密码</span></pre><p>例如：</p><pre class="oac_no_warn" dir="ltr">connect pfitch @ instl输入密码： <span class="italic">密码</span></pre><p>或者，用户可以将其Active Directory Windows用户登录名与DNS域名一起使用。</p><pre class="oac_no_warn" dir="ltr">连接<span class="italic">“Active_Directory_user_name</span> @ <span class="italic">Windows_DNS_domain_name”</span> @ <span class="italic">tnsname_of_database</span>密码<span class="italic">：password</span> </pre><p>例如：</p><pre class="oac_no_warn" dir="ltr">连接“pfitch@production.examplecorp.com”@inst1</pre></div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="integrating_mads_with_oracle_database.html#GUID-18BBB8A1-00CC-47B8-9D0B-D0E5BA2D9315" title="为集中管理的用户配置密码身份验证需要使用Active Directory的密码筛选器在Active Directory上生成和存储Oracle数据库密码验证程序。">为集中管理的用户配置密码身份验证</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
               <div class="sect3"><a id="GUID-FAD942EC-4461-4073-8518-C977721147EB" name="GUID-FAD942EC-4461-4073-8518-C977721147EB"></a><h4 id="DBSEG-GUID-FAD942EC-4461-4073-8518-C977721147EB" class="sect4">为集中管理的用户配置Kerberos身份验证</h4>
                  <div>
                     <p>如果计划使用Kerberos身份验证，则必须在将与Microsoft Active Directory集成的Oracle数据库中配置Kerberos。</p>
                     <div class="section">CMU-Active Directory仅支持Microsoft Active Directory Kerberos服务器。CMU-Active Directory不支持其他非Active Directory Kerberos服务器。</div>
                     <!-- class="section" -->
                     <div class="section">
                        <div class="infoboxnote" id="GUID-FAD942EC-4461-4073-8518-C977721147EB__GUID-E1C8C0B9-58B3-49E2-B035-86AA1555275D">
                           <p class="notep1">注意：</p>您不会创建外部标识为Active Directory用户的Kerberos UPN的数据库用户。而是使用映射到Active Directory用户或组的全局用户。
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="integrating_mads_with_oracle_database.html#GUID-37109177-A87F-4DC6-AE4A-2CB7BD9767E2" title="数据库的大多数用户将通过目录组中的成员身份映射到共享全局数据库用户（架构）。">将目录组映射到共享数据库全局用户</a></li>
                           <li><a href="integrating_mads_with_oracle_database.html#GUID-5D6BD2F5-5548-406D-9BA7-18E9D106D25D" title="您可以将Microsoft Active Directory用户专门映射到Oracle Database全局用户。">将目录用户专门映射到数据库全局用户</a></li>
                           <li><a href="configuring-kerberos-authentication.html#GUID-FF6CC3B0-9FA3-4845-AF58-9C6C60DA9BD5" title="要为Oracle数据库启用Kerberos身份验证，必须先安装它，然后执行一组配置步骤。">启用Kerberos身份验证</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="integrating_mads_with_oracle_database.html#GUID-C207C899-75B0-4D0F-A686-AA3E06B61224" title="您可以配置密码身份验证，Kerberos身份验证或公钥基础结构（PKI）身份验证。">为集中管理的用户配置身份验证</a></p>
                        </div>
                     </div>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-1EF17156-3FA4-4EDD-8DFF-F98EB3A926BF" name="GUID-1EF17156-3FA4-4EDD-8DFF-F98EB3A926BF"></a><h4 id="DBSEG-GUID-1EF17156-3FA4-4EDD-8DFF-F98EB3A926BF" class="sect4">为集中管理的用户使用PKI证书配置身份验证</h4>
                  <div>
                     <p>如果计划使用PKI证书对集中管理的用户进行身份验证，则必须在Oracle数据库中配置将与Microsoft Active Directory集成的安全套接字层。</p>
                     <div class="infoboxnote" id="GUID-1EF17156-3FA4-4EDD-8DFF-F98EB3A926BF__GUID-BF1FD8C0-6E0B-4FA5-9CD5-542F61EF3B9C">
                        <p class="notep1">注意：</p>配置安全套接字层身份验证时，可以使用Active Directory用户证书。但是，您不会创建外部标识为Active Directory用户证书的DN的数据库用户。而是使用映射到Active Directory用户或组的全局用户。
                     </div>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="integrating_mads_with_oracle_database.html#GUID-37109177-A87F-4DC6-AE4A-2CB7BD9767E2" title="数据库的大多数用户将通过目录组中的成员身份映射到共享全局数据库用户（架构）。">将目录组映射到共享数据库全局用户</a></li>
                           <li><a href="integrating_mads_with_oracle_database.html#GUID-5D6BD2F5-5548-406D-9BA7-18E9D106D25D" title="您可以将Microsoft Active Directory用户专门映射到Oracle Database全局用户。">将目录用户专门映射到数据库全局用户</a></li>
                           <li><a href="configuring-secure-sockets-layer-authentication.html#GUID-6AD89576-526F-4D6B-A539-ADF4B840819F" title="您可以将Oracle数据库配置为使用安全套接字层身份验证。">配置安全套接字层身份验证</a></li>
                           <li><a href="configuring-secure-sockets-layer-authentication.html#GUID-127EF2DA-C758-43D4-A9E2-ED36E09C688C" title="公钥基础结构（PKI）是网络组件的基础，它为整个组织提供基于信任断言的安全基础。">Oracle环境中的公钥基础结构</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="integrating_mads_with_oracle_database.html#GUID-C207C899-75B0-4D0F-A686-AA3E06B61224" title="您可以配置密码身份验证，Kerberos身份验证或公钥基础结构（PKI）身份验证。">为集中管理的用户配置身份验证</a></p>
                        </div>
                     </div>
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-5FAEB448-FB2C-4B2F-88AE-99A6B41F5241" name="GUID-5FAEB448-FB2C-4B2F-88AE-99A6B41F5241"></a><h3 id="DBSEG-GUID-5FAEB448-FB2C-4B2F-88AE-99A6B41F5241" class="sect3">配置集中管理用户的授权</h3>
               <div>
                  <p>通过集中管理的用户，您可以管理Active Directory用户访问Oracle数据库的授权。</p>
                  <p>可以使用Active Directory从组织添加，修改或删除用户，而无需从组织中的每个数据库添加，修改或删除用户。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="integrating_mads_with_oracle_database.html#GUID-CF92B8B8-790E-4025-A8CB-0939B78AED38">关于为集中管理用户配置授权</a><br>您可以在Active Directory中管理数据库的用户授权。
                     </li>
                     <li class="ulchildlink"><a href="integrating_mads_with_oracle_database.html#GUID-37109177-A87F-4DC6-AE4A-2CB7BD9767E2">将目录组映射到共享数据库全局用户</a><br>数据库的大多数用户将通过目录组中的成员身份映射到共享全局数据库用户（架构）。
                     </li>
                     <li class="ulchildlink"><a href="integrating_mads_with_oracle_database.html#GUID-874A887D-33D3-4750-A234-3F07549658BE">将目录组映射到全局角色</a><br>映射到目录组的数据库全局角色为成员用户提供了超过通过其登录模式授予的权限和角色。
                     </li>
                     <li class="ulchildlink"><a href="integrating_mads_with_oracle_database.html#GUID-5D6BD2F5-5548-406D-9BA7-18E9D106D25D">将目录用户专门映射到数据库全局用户</a><br>您可以将Microsoft Active Directory用户专门映射到Oracle Database全局用户。
                     </li>
                     <li class="ulchildlink"><a href="integrating_mads_with_oracle_database.html#GUID-6B7C33DA-A31B-4B3B-B198-14DDF2DB048A">更改或迁移用户映射定义</a><br>您可以使用<code class="codeph">ALTER USER</code>语句将Active Directory用户更新为数据库全局用户映射。
                     </li>
                     <li class="ulchildlink"><a href="integrating_mads_with_oracle_database.html#GUID-48DB1523-B3EE-4F62-82C7-15F851C88D3C">配置管理用户</a><br>管理用户可以像过去一样工作，但是对于CMU，如果他们使用共享模式，则可以使用集中身份验证和授权来控制它们。
                     </li>
                     <li class="ulchildlink"><a href="integrating_mads_with_oracle_database.html#GUID-34688F0A-4C63-4E3E-B074-EC214AD56B66">验证集中管理的用户登录信息</a><br>配置和授权集中管理的用户后，可以通过在Oracle数据库端执行一组SQL查询来验证用户登录信息。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="integrating_mads_with_oracle_database.html#GUID-9739D541-FA9D-422A-95CA-799A4C6F488D" title="Oracle数据库可以直接使用数据库对Microsoft Active Directory用户进行身份验证和授权，而无需中间目录或Oracle Enterprise User Security。">使用Microsoft Active Directory配置集中管理的用户</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="sect3"><a id="GUID-CF92B8B8-790E-4025-A8CB-0939B78AED38" name="GUID-CF92B8B8-790E-4025-A8CB-0939B78AED38"></a><h4 id="DBSEG-GUID-CF92B8B8-790E-4025-A8CB-0939B78AED38" class="sect4">关于为集中管理用户配置授权</h4>
                  <div>
                     <p>您可以在Active Directory中管理数据库的用户授权。</p>
                     <p>大多数Oracle数据库用户将映射到共享数据库架构（用户）。这可以最大限度地减少在雇用目录用户，在公司内部更换作业或离开公司时必须在每个Oracle数据库中完成的工作。目录用户将分配给映射到Oracle数据库全局用户（架构）的Active Directory组。当用户登录数据库时，数据库将查询Active Directory以查找用户所属的组。如果部署使用共享模式，则其中一个组将映射到共享数据库模式，并且将为该用户分配该数据库模式。用户将拥有授予数据库模式的角色和权限。由于将为同一共享数据库模式分配多个用户，因此只应将最小的角色和特权集授予共享模式。在某些情况下，不应向共享模式授予任何特权和角色。将通过数据库全局角色为用户分配适当的角色和模式集。全局角色映射到Active Directory组。这样，即使将不同的用户映射到同一数据库共享模式，它们也可以具有不同的角色和特权。新雇用的用户将被分配到映射到共享模式的Active Directory组，然后分配给映射到全局角色的一个或多个其他组，以获得完成其任务所需的其他角色和特权。共享模式和全局角色的组合允许集中授权管理，并且对操作上的数据库进行最小的更改。必须首先为数据库配置映射到相应Active Directory组的共享模式和全局角色集，然后在Active Directory中进行用户授权管理。</p>
                     <p>Active Directory用户也可以专门映射到数据库全局用户。这需要数据库中的新用户直接映射到Active Directory用户。新用户和离开的用户将需要更新他们所属的每个数据库。</p>
                     <p>需要管理权限（如<code class="codeph">SYSOPER</code>和<code class="codeph">SYSBACKUP</code> Active Directory用户无法通过全局角色授予这些权限。管理权限只能授予架构，而不能授予角色。但即使在具有管理权限的这些情况下，共享模式也可用于提供用户授权管理的简便性。使用共享模式与<code class="codeph">SYSOPER</code>权限将允许新用户可以很容易地加入到映射到架构中的Active Directory组<code class="codeph">SYSOPER</code> ，而不必在数据库中创建一个新用户的模式。即使只有一个用户被分配到共享模式，它仍然可以集中管理。
                     </p>
                     <p>使用全局角色向用户授予权限和角色时，请记住会话中启用的最大角色数为150。</p>
                     <p>授权支持以下类型的全局用户映射：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>映射共享全局用户，通过将目录组映射到共享模式，将用户分配给共享数据库模式（用户）的目录。作为组成员的目录用户可以通过此共享模式连接到数据库。使用共享模式允许在Active Directory中集中管理用户授权。</p>
                        </li>
                        <li>
                           <p>独占全局用户映射，其中专用数据库用户专门映射到目录用户。不像共享数据库模式那样常见，通过使用SQL * Plus或模式用户为两层或三层应用程序创建此用户以进行直接数据库访问。Oracle建议您通过全局角色向这些用户授予数据库权限，这有助于授权管理。但是，这些用户也可以在Oracle数据库中拥有直接权限授予，但不建议这样做。这是因为两层和三层应用程序可以使用全局用户作为数据库架构，因此全局用户对架构对象具有作为所有者的完全数据库权限。</p>
                        </li>
                     </ul>
                     <p>目录用户通常是多个组的成员。但是，只应将其中一个组映射到共享架构。</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="integrating_mads_with_oracle_database.html#GUID-5FAEB448-FB2C-4B2F-88AE-99A6B41F5241" title="通过集中管理的用户，您可以管理Active Directory用户访问Oracle数据库的授权。">为集中管理的用户配置授权</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-37109177-A87F-4DC6-AE4A-2CB7BD9767E2" name="GUID-37109177-A87F-4DC6-AE4A-2CB7BD9767E2"></a><h4 id="DBSEG-GUID-37109177-A87F-4DC6-AE4A-2CB7BD9767E2" class="sect4">将目录组映射到共享数据库全局用户</h4>
                  <div>
                     <p>数据库的大多数用户将通过目录组中的成员身份映射到共享全局数据库用户（架构）。</p>
                     <div class="section">必须先创建Active Directory组，然后才能将数据库全局用户映射到该组。您可以在用户需要登录数据库之前随时将Active Directory用户添加到该组。在数据库端，您必须具有<code class="codeph">CREATE USER</code>和<code class="codeph">ALTER USER</code>权限才能执行这些映射。此配置可用于具有密码身份验证，Kerberos身份验证和公钥基础结构（PKI）身份验证方法的用户。
                     </div>
                     <!-- class="section" -->
                     <div class="section">您可以将共享应用程序的相同数据库架构的用户分配到Active Directory组。共享Oracle数据库全局用户（即共享架构）映射到Active Directory组。这样，该组的任何Active Directory用户都可以通过该共享全局用户帐户登录数据库。虽然数据库全局用户帐户由组成员共享，但在数据库内跟踪和审核Active Directory用户的身份验证身份（Windows域及其<code class="codeph">samAccountName</code> ）和企业身份（DN）。
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>以已被授予<code class="codeph">CREATE USER</code>或<code class="codeph">ALTER USER</code>系统特权的用户身份登录数据库实例。</span></li>
                        <li class="stepexpand"><span>使用指定Active Directory组的DN的<code class="codeph">IDENTIFIED GLOBALLY AS</code>子句执行<code class="codeph">CREATE USER</code>或<code class="codeph">ALTER USER</code>语句。</span><div>例如，要将<code class="codeph">production.examplecorp.com</code>域的<code class="codeph">sales</code>组织单位中名为<code class="codeph">widget_sales_group</code>的目录组映射到名为<code class="codeph">WIDGET_SALES</code>的共享数据库全局用户：<pre class="oac_no_warn" dir="ltr">CREATE USER widget_sales IDENTIFIED GLOBALLY AS'CN = widget_sales_group，OU = sales，DC = production，DC = examplecorp，DC = com';</pre> </div>
                           <div>在所有成员<code class="codeph">widget_sales_group</code>将被分配给<code class="codeph">widget_sales</code>当他们登录到数据库共享模式。
                           </div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="integrating_mads_with_oracle_database.html#GUID-5FAEB448-FB2C-4B2F-88AE-99A6B41F5241" title="通过集中管理的用户，您可以管理Active Directory用户访问Oracle数据库的授权。">为集中管理的用户配置授权</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-874A887D-33D3-4750-A234-3F07549658BE" name="GUID-874A887D-33D3-4750-A234-3F07549658BE"></a><h4 id="DBSEG-GUID-874A887D-33D3-4750-A234-3F07549658BE" class="sect4">将目录组映射到全局角色</h4>
                  <div>
                     <p>映射到目录组的数据库全局角色为成员用户提供了超过通过其登录模式授予的权限和角色。</p>
                     <ol>
                        <li class="stepexpand"><span>以已被授予<code class="codeph">CREATE ROLE</code>或<code class="codeph">ALTER ROLE</code>系统特权的用户身份登录数据库实例。</span></li>
                        <li class="stepexpand"><span>使用指定Active Directory组的DN的<code class="codeph">IDENTIFIED GLOBALLY AS</code>子句执行<code class="codeph">CREATE ROLE</code>或<code class="codeph">ALTER ROLE</code>语句。</span><div>例如，要将<code class="codeph">production.examplecorp.com</code>域的<code class="codeph">sales</code>组织单位中名为<code class="codeph">widget_sales_group</code>的目录用户组映射到数据库全局角色<code class="codeph">WIDGET_SALES_ROLE</code> ：<pre class="oac_no_warn" dir="ltr">CREATE ROLE widget_sales_role全局识别为'CN = widget_sales_group，OU =销售，DC =生产，DC = examplecorp，DC = com';</pre><p>在多租户环境中，要创建一个名为<code class="codeph">C##WIDGET_SALES_ROLE</code>的公共角色：</p><pre class="oac_no_warn" dir="ltr">CREATE ROLE c ## widget_sales_role全局识别为'CN = widget_sales_group，OU =销售，DC =生产，DC = examplecorp，DC = com'CONTAINER = ALL;</pre><p>在所有成员<code class="codeph">widget_sales_group</code>将与数据库角色授权<code class="codeph">widget_sales_role</code>当他们登录到数据库中。
                              </p>
                           </div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="integrating_mads_with_oracle_database.html#GUID-5FAEB448-FB2C-4B2F-88AE-99A6B41F5241" title="通过集中管理的用户，您可以管理Active Directory用户访问Oracle数据库的授权。">为集中管理的用户配置授权</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-5D6BD2F5-5548-406D-9BA7-18E9D106D25D" name="GUID-5D6BD2F5-5548-406D-9BA7-18E9D106D25D"></a><h4 id="DBSEG-GUID-5D6BD2F5-5548-406D-9BA7-18E9D106D25D" class="sect4">将目录用户专门映射到数据库全局用户</h4>
                  <div>
                     <p>您可以将Microsoft Active Directory用户专门映射到Oracle Database全局用户。</p>
                     <div class="section">您只在Oracle数据库端执行配置，而不是在Active Directory端执行配置。您必须具有<code class="codeph">CREATE USER</code>和<code class="codeph">ALTER USER</code>权限才能执行这些映射。此配置可用于具有密码身份验证，Kerberos身份验证和公钥基础结构（PKI）身份验证方法的用户。
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>以已被授予<code class="codeph">CREATE USER</code>或<code class="codeph">ALTER USER</code>系统特权的用户身份登录数据库实例。</span></li>
                        <li class="stepexpand"><span>使用指定Active Directory用户的DN的<code class="codeph">IDENTIFIED GLOBALLY AS</code>子句执行<code class="codeph">CREATE USER</code>或<code class="codeph">ALTER USER</code>语句。</span><div>例如，要将<code class="codeph">production.examplecorp.com</code> <code class="codeph">PETER_FITCH</code>域的<code class="codeph">sales</code>组织单位中名为<code class="codeph">Peter Fitch</code> （其<code class="codeph">samAccountName</code>为<code class="codeph">pfitch</code> ）的现有Active Directory用户映射到名为<code class="codeph">PETER_FITCH</code>的数据库全局用户：<pre class="oac_no_warn" dir="ltr">CREATE USER peter_fitch全球识别为'CN = Peter Fitch，OU =销售，DC =生产，DC = examplecorp，DC = com';</pre> </div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="integrating_mads_with_oracle_database.html#GUID-5FAEB448-FB2C-4B2F-88AE-99A6B41F5241" title="通过集中管理的用户，您可以管理Active Directory用户访问Oracle数据库的授权。">为集中管理的用户配置授权</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-6B7C33DA-A31B-4B3B-B198-14DDF2DB048A" name="GUID-6B7C33DA-A31B-4B3B-B198-14DDF2DB048A"></a><h4 id="DBSEG-GUID-6B7C33DA-A31B-4B3B-B198-14DDF2DB048A" class="sect4">更改或迁移用户映射定义</h4>
                  <div>
                     <p>您可以使用<code class="codeph">ALTER USER</code>语句将Active Directory用户更新为数据库全局用户映射。
                     </p>
                     <div class="section">您可以使用任何<code class="codeph">CREATE USER</code>语句子句更新其帐户的<code class="codeph">CREATE USER</code> ： <code class="codeph">IDENTIFIED BY <span class="codeinlineitalic">password</span></code> ， <code class="codeph">IDENTIFIED EXTERNALLY</code>或<code class="codeph">IDENTIFIED GLOBALLY</code> 。在将用户迁移到使用CMU时，这非常有用。例如，对外部通过Kerberos进行身份验证的数据库用户将通过其用户主体名称（UPN）进行标识。要将用户迁移到使用带有Kerberos身份验证的CMU，您需要运行<code class="codeph">ALTER USER</code>语句来声明全局用户，并使用其Active Directory专有名称（DN）标识用户。
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>以已被授予<code class="codeph">ALTER USER</code>系统特权的用户身份登录数据库实例。</span></li>
                        <li class="stepexpand"><span>使用<code class="codeph">IDENTIFIED GLOBALLY AS</code>子句执行<code class="codeph">ALTER USER</code>语句。</span><div>例如：<pre class="oac_no_warn" dir="ltr">ALTER USER peter_fitch全球识别为'CN = Peter Fitch，OU =销售额，DC =生产，DC = examplecorp，DC = com';</pre></div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="integrating_mads_with_oracle_database.html#GUID-5FAEB448-FB2C-4B2F-88AE-99A6B41F5241" title="通过集中管理的用户，您可以管理Active Directory用户访问Oracle数据库的授权。">为集中管理的用户配置授权</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-48DB1523-B3EE-4F62-82C7-15F851C88D3C" name="GUID-48DB1523-B3EE-4F62-82C7-15F851C88D3C"></a><h4 id="DBSEG-GUID-48DB1523-B3EE-4F62-82C7-15F851C88D3C" class="sect4">配置管理用户</h4>
                  <div>
                     <p>管理用户可以像过去一样工作，但是对于CMU，如果他们使用共享模式，则可以使用集中身份验证和授权来控制它们。</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="integrating_mads_with_oracle_database.html#GUID-5FD3E465-858E-467C-8D29-A148F6C151EF">使用共享访问帐户配置数据库管理用户</a><br>使用共享帐户可以简化多个数据库在加入，移动和离开组织时对数据库管理员的管理。
                        </li>
                        <li class="ulchildlink"><a href="integrating_mads_with_oracle_database.html#GUID-CC00F3BC-0B43-4092-8488-E400C99ADF89">使用独占映射配置数据库管理用户</a><br>数据库管理员也可以映射到数据库中的独占模式。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="integrating_mads_with_oracle_database.html#GUID-5FAEB448-FB2C-4B2F-88AE-99A6B41F5241" title="通过集中管理的用户，您可以管理Active Directory用户访问Oracle数据库的授权。">为集中管理的用户配置授权</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="sect4"><a id="GUID-5FD3E465-858E-467C-8D29-A148F6C151EF" name="GUID-5FD3E465-858E-467C-8D29-A148F6C151EF"></a><h5 id="DBSEG-GUID-5FD3E465-858E-467C-8D29-A148F6C151EF" class="sect5">使用共享访问帐户配置数据库管理用户</h5>
                     <div>
                        <p>使用共享帐户可以简化多个数据库在加入，移动和离开组织时对数据库管理员的管理。</p>
                        <div class="section">您可以使用Active Directory组将新数据库管理员分配给多个数据库中的共享帐户，而无需创建新的Oracle数据库帐户。</div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>确保当前数据库实例的密码文件采用12.2格式。</span><div><pre class="oac_no_warn" dir="ltr">orapwd file = <span class="italic">pwd_file</span> FORMAT = 12.2输入SYS： <span class="italic">password的密码</span></pre></div>
                           </li>
                           <li class="stepexpand"><span>在Active Directory中，创建Active Directory组（例如，对于名为<code class="codeph">ad_dba_backup_users</code>的数据库管理员备份用户组）。</span></li>
                           <li class="stepexpand"><span>在Oracle数据库中，创建全局用户（共享模式）（例如， <code class="codeph">db_dba_backup_global_user</code> ）并将此用户映射到Active Directory <code class="codeph">ad_dba_backup_users</code>组。</span></li>
                           <li class="stepexpand"><span>将<code class="codeph">SYSBACKUP</code>管理权限授予全局用户<code class="codeph">db_dba_backup_global_user</code> 。</span></li>
                        </ol>
                        <div class="section">在此阶段，添加到<code class="codeph">ad_dba_backup_users</code> Active Directory组的任何Active Directory用户都将使用<code class="codeph">SYSBACKUP</code>管理权限分配给新数据库共享模式。
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="integrating_mads_with_oracle_database.html#GUID-48DB1523-B3EE-4F62-82C7-15F851C88D3C" title="管理用户可以像过去一样工作，但是对于CMU，如果他们使用共享模式，则可以使用集中身份验证和授权来控制它们。">配置管理用户</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-CC00F3BC-0B43-4092-8488-E400C99ADF89" name="GUID-CC00F3BC-0B43-4092-8488-E400C99ADF89"></a><h5 id="DBSEG-GUID-CC00F3BC-0B43-4092-8488-E400C99ADF89" class="sect5">使用独占映射配置数据库管理用户</h5>
                     <div>
                        <p>数据库管理员也可以映射到数据库中的独占模式。</p>
                        <ol>
                           <li class="stepexpand"><span>确保当前数据库实例的密码文件采用12.2格式。</span><div><pre class="oac_no_warn" dir="ltr">orapwd file = pwd_file FORMAT = 12.2输入SYS： <span class="italic">password的密码</span></pre></div>
                           </li>
                           <li class="stepexpand"><span>以可以创建用户并向其他用户授予管理权限的用户身份登录数据库实例。</span></li>
                           <li class="stepexpand"><span>创建数据库全局用户。</span><div>例如：<pre class="oac_no_warn" dir="ltr">CREATE USER peter_fitch全球识别为'CN = Peter Fitch，OU =销售，DC =生产，DC = examplecorp，DC = com';</pre></div>
                           </li>
                           <li class="stepexpand"><span>授予此用户管理权限。</span><div>例如，要为用户授予<code class="codeph">SYSKM</code>管理权限：<pre class="oac_no_warn" dir="ltr">GRANT SYSKM TO peter_fitch;</pre></div>
                           </li>
                        </ol>
                        <div class="section">由于维护帐户的工作量以及数据库和Active Directory中的映射，更集中的方法是对这些管理帐户使用共享模式，即使只有一个Active Directory用户被分配给共享数据库在某些情况下帐户。</div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="integrating_mads_with_oracle_database.html#GUID-48DB1523-B3EE-4F62-82C7-15F851C88D3C" title="管理用户可以像过去一样工作，但是对于CMU，如果他们使用共享模式，则可以使用集中身份验证和授权来控制它们。">配置管理用户</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
               <div class="sect3"><a id="GUID-34688F0A-4C63-4E3E-B074-EC214AD56B66" name="GUID-34688F0A-4C63-4E3E-B074-EC214AD56B66"></a><h4 id="DBSEG-GUID-34688F0A-4C63-4E3E-B074-EC214AD56B66" class="sect4">验证集中管理的用户登录信息</h4>
                  <div>
                     <p>配置和授权集中管理的用户后，可以通过在Oracle数据库端执行一组SQL查询来验证用户登录信息。</p>
                     <ol>
                        <li class="stepexpand"><span>以刚刚配置和授权的Active Directory中的集中管理用户身份登录数据库。</span><div>例如，要以Windows域<code class="codeph">production</code>的企业用户<code class="codeph">pfitch</code>身份登录数据库实例<code class="codeph">inst1</code> ：<pre class="oac_no_warn" dir="ltr">sqlplus / nolog connect“production \ pfitch”@ inst1输入密码： <span class="italic">密码</span></pre></div>
                        </li>
                        <li class="stepexpand"><span>验证映射的全局用户。</span><div>映射的全局用户是具有集中管理的用户授权的数据库用户帐户。用户<code class="codeph">PETER_FITCH</code>被视为具有Active Directory用户<code class="codeph">pfitch</code>独占映射的全局用户，而用户<code class="codeph">WIDGET_SALES</code>被视为具有共享映射的全局用户，其中<code class="codeph">pfitch</code>是其成员的Active Directory组<code class="codeph">widget_sales_group</code> 。全局用户帐户具有自己的架构。
                           </div>
                           <div><pre class="oac_no_warn" dir="ltr">显示用户;</pre><p>将显示类似于以下内容的输出，具体取决于它是独占映射还是共享映射：</p><pre class="oac_no_warn" dir="ltr">USER是“PETER_FITCH”</pre><p>要么</p><pre class="oac_no_warn" dir="ltr">USER是“WIDGET_SALES”</pre></div>
                        </li>
                        <li class="stepexpand"><span>查找已授予集中管理用户的角色。</span><div><pre class="oac_no_warn" dir="ltr">从SESSION_ROLES中选择角色按角色排序;</pre><p>输出类似于以下内容：</p><pre class="oac_no_warn" dir="ltr">角色------------------------------------------------- --------------------- WIDGET_SALES_ROLE ......</pre></div>
                        </li>
                        <li class="stepexpand"><span>执行以下查询以检查此数据库会话中使用的当前架构的<code class="codeph">SYS_CONTEXT</code>命名空间值，当前用户名，会话用户名，身份验证方法，经过身份验证的身份，企业身份，标识类型和LDAP服务器类型。</span><ul id="GUID-34688F0A-4C63-4E3E-B074-EC214AD56B66__CHOICES_XBK_DV4_GFB">
                              <li>验证此数据库会话中正在使用的当前架构。数据库模式是一个对象容器，用于标识它包含的对象。当前架构是此数据库会话中对象名称解析的默认容器。<pre class="oac_no_warn" dir="ltr">SELECT SYS_CONTEXT（'USERENV'，'CURRENT_SCHEMA'）FROM DUAL;</pre><p>将显示类似于以下内容的输出，具体取决于它是独占映射还是共享映射：</p><pre class="oac_no_warn" dir="ltr">SYS_CONTEXT（'USERENV'，'CURRENT_SCHEMA'）---------------------------------------- ------------------------------ PETER_FITCH</pre><p>要么</p><pre class="oac_no_warn" dir="ltr">SYS_CONTEXT（'USERENV'，'CURRENT_SCHEMA'）---------------------------------------- ------------------------------ WIDGET_SALES</pre></li>
                              <li>验证当前用户。在这种情况下，当前用户与当前架构相同。<pre class="oac_no_warn" dir="ltr">SELECT SYS_CONTEXT（'USERENV'，'CURRENT_USER'）FROM DUAL;</pre><p>将显示类似于以下内容的输出，具体取决于它是独占映射还是共享映射：</p><pre class="oac_no_warn" dir="ltr">SYS_CONTEXT（'USERENV'，'CURRENT_USER'）---------------------------------------- ------------------------------ PETER_FITCH</pre><p>要么</p><pre class="oac_no_warn" dir="ltr">SYS_CONTEXT（'USERENV'，'CURRENT_USER'）---------------------------------------- ------------------------------ WIDGET_SALES</pre></li>
                              <li>验证会话用户。<pre class="oac_no_warn" dir="ltr">SELECT SYS_CONTEXT（'USERENV'，'SESSION_USER'）FROM DUAL;</pre><p>将显示类似于以下内容的输出，具体取决于它是独占映射还是共享映射：</p><pre class="oac_no_warn" dir="ltr">SYS_CONTEXT（'USERENV'，'SESSION_USER'）---------------------------------------- ------------------------------ PETER_FITCH</pre><p>要么</p><pre class="oac_no_warn" dir="ltr">SYS_CONTEXT（'USERENV'，'SESSION_USER'）---------------------------------------- ------------------------------ WIDGET_SALES</pre></li>
                              <li>验证身份验证方法。<pre class="oac_no_warn" dir="ltr">SELECT SYS_CONTEXT（'USERENV'，'AUTHENTICATION_METHOD'）FROM DUAL;</pre><p>输出类似于以下内容：</p><pre class="oac_no_warn" dir="ltr">SYS_CONTEXT（'USERENV'，'AUTHENTICATION_METHOD'）---------------------------------------- ------------------------------ PASSWORD_GLOBAL</pre></li>
                              <li>验证企业用户的经过身份验证的身份。当此用户登录到数据库时，将捕获并审核Active Directory经过身份验证的用户身份。<pre class="oac_no_warn" dir="ltr">SELECT SYS_CONTEXT（'USERENV'，'AUTHENTICATED_IDENTITY'）FROM DUAL;</pre><p>输出类似于以下内容：</p><pre class="oac_no_warn" dir="ltr">SYS_CONTEXT（'USERENV'，'AUTHENTICATED_IDENTITY'）---------------------------------------- ------------------------------ production \ pfitch</pre></li>
                              <li>验证集中管理的用户的企业标识。<pre class="oac_no_warn" dir="ltr">SELECT SYS_CONTEXT（'USERENV'，'ENTERPRISE_IDENTITY'）FROM DUAL;</pre><p>输出类似于以下内容：</p><pre class="oac_no_warn" dir="ltr">SYS_CONTEXT（'USERENV'，'ENTERPRISE_IDENTITY'）---------------------------------------- ------------------------------ cn = Peter Fitch，ou = sales，dc = production，dc = examplecorp，dc = com</pre></li>
                              <li>验证标识类型。<pre class="oac_no_warn" dir="ltr">SELECT SYS_CONTEXT（'USERENV'，'IDENTIFICATION_TYPE'）FROM DUAL</pre><p>将显示类似于以下内容的输出，具体取决于它是独占映射还是共享映射：</p><pre class="oac_no_warn" dir="ltr">SYS_CONTEXT（'USERENV'，'IDENTIFICATION_TYPE'）---------------------------------------- ------------------------------ GLOBAL EXCLUSIVE</pre><p>要么</p><pre class="oac_no_warn" dir="ltr">SYS_CONTEXT（'USERENV'，'IDENTIFICATION_TYPE'）---------------------------------------- ------------------------------全球共享</pre></li>
                              <li>验证LDAP服务器类型。<pre class="oac_no_warn" dir="ltr">SELECT SYS_CONTEXT（'USERENV'，'LDAP_SERVER_TYPE'）FROM DUAL;</pre><p>输出类似于以下内容。在这种情况下，LDAP服务器类型是Active Directory。</p><pre class="oac_no_warn" dir="ltr">SYS_CONTEXT（'USERENV'，'LDAP_SERVER_TYPE'）---------------------------------------- -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  广告</pre></li>
                           </ul>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="integrating_mads_with_oracle_database.html#GUID-24F8613D-FD8B-411E-924F-7D1BB86FF353" title="对于密码身份验证，集中管理的用户可以选择如何登录数据库。">使用密码身份验证登录Oracle数据库</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="integrating_mads_with_oracle_database.html#GUID-5FAEB448-FB2C-4B2F-88AE-99A6B41F5241" title="通过集中管理的用户，您可以管理Active Directory用户访问Oracle数据库的授权。">为集中管理的用户配置授权</a></p>
                        </div>
                     </div>
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-262651F7-196B-4627-8B4E-46731AB56695" name="GUID-262651F7-196B-4627-8B4E-46731AB56695"></a><h3 id="DBSEG-GUID-262651F7-196B-4627-8B4E-46731AB56695" class="sect3">Oracle数据库与Microsoft Active Directory帐户策略的集成</h3>
               <div>
                  <p>作为Oracle数据库 -  Microsoft Active Directory集成的一部分，当Active Directory用户登录Oracle数据库时，Oracle数据库会强制执行Active Directory帐户策略。</p>
                  <p>Active Directory帐户策略设置包括密码策略，帐户锁定策略和Kerberos策略。Oracle数据库为Active Directory中的集中管理用户强制执行所有帐户策略。例如，Oracle会阻止具有帐户状态的Active Directory用户，例如<code class="codeph">password expired</code> ， <code class="codeph">password must change</code> ， <code class="codeph">account locked out</code>或<code class="codeph">account disabled</code>用以登录数据库。如果使用Kerberos身份验证，则Oracle会阻止具有过期Kerberos票证的Active Directory用户登录数据库。如果您使用密码身份验证，则在尝试使用不正确的密码登录Oracle数据库时，用户连续发出指定次数的失败尝试后，Active Directory用户帐户将在Active Directory上锁定指定的时间段。通过强制执行帐户锁定策略，Oracle可以有效防止针对Active Directory用户帐户的密码猜测攻击。
                  </p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="integrating_mads_with_oracle_database.html#GUID-9739D541-FA9D-422A-95CA-799A4C6F488D" title="Oracle数据库可以直接使用数据库对Microsoft Active Directory用户进行身份验证和授权，而无需中间目录或Oracle Enterprise User Security。">使用Microsoft Active Directory配置集中管理的用户</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html>