<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>创建SPFILE</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="SQL Language Reference "></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="SQL Language Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="sql-language-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-02-12T15:36:36-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96310-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="CREATE-SEQUENCE.html" title="Previous" type="text/html"></link>
      <link rel="next" href="CREATE-SYNONYM.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="SQL Language Reference"></meta>
    <meta name="dcterms.isVersionOf" content="SQLRF"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="CREATE-SEQUENCE.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="CREATE-SYNONYM.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">SQL语言参考</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="SQL-Statements-CREATE-SEQUENCE-to-DROP-CLUSTER.html" property="item" typeof="WebPage"><span property="name">SQL语句：创建顺序到DROP CLUSTER</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">创建SPFILE</li>
            </ol>
            <a id="GUID-D3E295B7-A3A4-43D3-8BBD-5CBE171A2E52" name="GUID-D3E295B7-A3A4-43D3-8BBD-5CBE171A2E52"></a><a id="SQLRF56540"></a><a id="SQLRF54345"></a><a id="SQLRF54346"></a><a id="SQLRF57014"></a><a id="SQLRF54347"></a><a id="SQLRF54348"></a><a id="SQLRF54349"></a><a id="SQLRF01315"></a>
            
            <h2 id="SQLRF-GUID-D3E295B7-A3A4-43D3-8BBD-5CBE171A2E52" class="sect2">创建SPFILE</h2>
         </header>
         <div class="ind">
            <div>
               <div class="section">
                  <p class="subhead1" id="GUID-D3E295B7-A3A4-43D3-8BBD-5CBE171A2E52__GUID-6DA3765B-6B32-4ABE-AC8E-C8A1FD2F2736">目的</p>
                  <p>使用<code class="codeph">CREATE</code> <code class="codeph">SPFILE</code>语句从传统的纯文本初始化参数文件或当前的系统范围设置创建服务器参数文件。服务器参数文件是仅存在于服务器上的二进制文件，从客户端位置调用以启动数据库。
                  </p>
                  <p>服务器参数文件允许您对各个参数进行持久更改。使用服务器参数文件时，可以在<code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code> <code class="codeph">SET</code> <span class="italic"><code class="codeph">parameter</code></span>语句中指定新参数值应该是持久的。这意味着新值不仅适用于当前实例，还适用于随后启动的任何实例。传统的纯文本参数文件不允许您对参数值进行持久更改。
                  </p>
                  <p>服务器参数文件位于服务器上，因此它们允许Oracle数据库自动进行数据库调整，并由Recovery Manager（RMAN）进行备份。</p>
                  <p>要在启动数据库时使用服务器参数文件，必须使用<code class="codeph">CREATE</code> <code class="codeph">SPFILE</code>语句创建它。
                  </p>
                  <p>Oracle Real Application Clusters环境中的所有实例都必须使用相同的服务器参数文件。但是，如果允许，单个实例可以在此一个文件中具有相同参数的不同设置。特定于实例的参数定义指定为<span class="italic"><code class="codeph">SID.parameter = value</code></span> ，其中<span class="italic"><code class="codeph">SID</code></span>是实例标识符。
                  </p>
                  <p>使用服务器参数文件启动数据库的方法取决于您是创建默认服务器参数文件还是非默认服务器参数文件。有关如何使用服务器参数文件的示例，请参阅<span class="q">“ <a href="CREATE-SPFILE.html#GUID-D3E295B7-A3A4-43D3-8BBD-5CBE171A2E52__I2087518">创建服务器参数文件：示例</a> ”</span> 。
                  </p>
                  <p>关于在CDB中创建服务器参数文件的注意事项</p>
                  <p>在多租户容器数据库（CDB）中创建服务器参数文件时，当前容器可以是根或PDB。</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>如果当前容器是根，则您为根中的初始化参数设置的值将用作所有其他容器的默认值。</p>
                     </li>
                     <li>
                        <p>如果当前容器是PDB，则数据库在内部存储PDB的初始化参数值，而不是在文件中。因此，您无法指定<span class="italic"><code class="codeph">spfile_name</code></span> 。您为PDB中的初始化参数设置的值是持久的，并覆盖为根中的这些参数设置的任何值。
                        </p>
                     </li>
                  </ul>
                  <p>随后可以使用<code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code>语句修改根或PDB的初始化参数值。</p>
                  <div class="infoboxnotealso" id="GUID-D3E295B7-A3A4-43D3-8BBD-5CBE171A2E52__GUID-95D571E3-F18C-4023-B1FC-1934BD537922">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>有关从二进制服务器参数文件创建常规文本参数文件的信息，请创建<a href="CREATE-PFILE.html#GUID-C01CBA1C-F477-49BE-AD58-F2FED046D561">PFILE</a></p>
                        </li>
                        <li>
                           <p>有关传统纯文本初始化参数文件和服务器参数文件的信息，请参见<a href="../admin/creating-and-configuring-an-oracle-database.html#ADMIN00202" target="_blank"><span class="italic">“Oracle数据库管理员指南”</span></a></p>
                        </li>
                        <li>
                           <p><a href="../racad/administering-database-instances-and-cluster-databases.html#RACAD815" target="_blank"><span class="italic">“Oracle Real Application Clusters管理和部署指南”，</span></a>以获取有关在Oracle Real Application Clusters环境中使用服务器参数文件的信息</p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-D3E295B7-A3A4-43D3-8BBD-5CBE171A2E52__GUID-32DFCC05-2BC4-457A-AF6C-45D38586D9A9">先决条件</p>
                  <p>您必须具有<code class="codeph">SYSBACKUP</code> ， <code class="codeph">SYSDBA</code> ， <code class="codeph">SYSDG</code>或<code class="codeph">SYSOPER</code>系统特权才能执行此语句。您可以在实例启动之前或之后执行此语句。但是，如果已使用<span class="italic"><code class="codeph">spfile_name</code></span>启动实例，则无法在此语句中指定相同的<span class="italic"><code class="codeph">spfile_name</code></span> 。
                  </p>
                  <p>要在CDB中创建服务器参数文件，当前容器必须是根，并且必须具有通常授予的<code class="codeph">SYSBACKUP</code> ， <code class="codeph">SYSDBA</code> ， <code class="codeph">SYSDG</code>或<code class="codeph">SYSOPER</code>系统特权。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-D3E295B7-A3A4-43D3-8BBD-5CBE171A2E52__GUID-24065DB1-6BA7-4A06-8E6F-AC4363AE2A00">句法</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-D3E295B7-A3A4-43D3-8BBD-5CBE171A2E52__GUID-37B0E22E-A8E6-46DF-A88C-977B1654D5A5"><span class="italic">create_spfile</span> :: =</p>
                  <div class="figure" id="GUID-D3E295B7-A3A4-43D3-8BBD-5CBE171A2E52__GUID-C67EC9A1-8772-4907-B574-B3DC689C6032"><img src="img/create_spfile.gif" alt="下面是create_spfile.eps的描述" title="下面是create_spfile.eps的描述" longdesc="img_text/create_spfile.html"><br><a href="img_text/create_spfile.html">说明create_spfile.eps的说明</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-D3E295B7-A3A4-43D3-8BBD-5CBE171A2E52__GUID-58CDBAE6-FC5F-4FBE-8B13-FA5A964CB45C">语义</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-D3E295B7-A3A4-43D3-8BBD-5CBE171A2E52__GUID-4A7AC6C3-42BB-4310-A5A6-DC6A792FC52C"><span class="italic">spfile_name</span></p>
                  <p>此子句允许您为要创建的服务器参数文件指定名称。</p>
                  <p>如果指定<span class="italic"><code class="codeph">spfile_name</code></span> ，则Oracle数据库会创建非默认服务器参数文件。
                  </p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>对于<span class="italic"><code class="codeph">spfile_name</code></span> ，您可以指定传统文件名，Oracle ACFS文件系统中的文件或Oracle Storage Management（Oracle ASM）文件名。
                        </p>
                     </li>
                     <li>
                        <p>如果在Oracle ACFS文件系统中指定传统文件名或文件，则<span class="italic"><code class="codeph">spfile_name</code></span>可以包含路径前缀。如果未指定此类路径前缀，则数据库会添加默认存储位置的路径前缀，该位置与平台相关。
                        </p>
                     </li>
                     <li>
                        <p>如果指定Oracle ASM文件名语法，则数据库将在Oracle ASM磁盘组中创建spfile。</p>
                     </li>
                     <li>
                        <p>使用非默认服务器参数文件时，必须在<code class="codeph">STARTUP</code>数据库时在<code class="codeph">STARTUP</code>命令中指定服务器参数文件名。此规则的例外情况如下：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>如果数据库被定义为在Oracle集群的资源，从中发出命令的实例在运行，并且指定<span class="italic"><code class="codeph">spfile_name</code></span> ，指定<code class="codeph">FROM</code> <code class="codeph">PFILE</code>子句，并省略<code class="codeph">AS</code> <code class="codeph">COPY</code>子句，则该语句将自动更新SPFILE数据库资源。在这种情况下，您可以启动数据库，而无需按名称引用服务器参数文件。如果发出命令的实例<span class="italic">未</span>运行，则必须使用<code class="codeph">srvctl</code> <code class="codeph">modify</code> <code class="codeph">database</code> <code class="codeph">-d</code> <span class="italic"><code class="codeph">dbname</code></span> <code class="codeph">-spfile</code> <span class="italic"><code class="codeph">spfile_path</code></span>手动更新数据库资源中的SPFILE。
                              </p>
                           </li>
                        </ul>
                     </li>
                  </ul>
                  <p>如果省略<span class="italic"><code class="codeph">spfile_name</code></span> ，则Oracle数据库使用特定于平台的缺省服务器参数filename。如果服务器上已存在此类文件，则此语句将覆盖该文件。使用默认服务器参数文件时，可以启动数据库而无需按名称引用文件。
                  </p>
                  <p><span class="bold">对</span> <span class="bold"><span class="italic">spfile_name的</span></span> <span class="bold">限制</span></p>
                  <p>在连接到PDB时创建服务器参数文件时，无法指定<span class="italic"><code class="codeph">spfile_name</code></span> 。</p>
                  <div class="infoboxnotealso" id="GUID-D3E295B7-A3A4-43D3-8BBD-5CBE171A2E52__GUID-922AF370-F1BD-40F3-9587-A80700600244">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="q">“ <a href="CREATE-SPFILE.html#GUID-D3E295B7-A3A4-43D3-8BBD-5CBE171A2E52__I2087518">创建服务器参数文件：示例</a> ”，</span>以获取有关使用默认和非默认服务器参数文件启动数据库的信息</p>
                        </li>
                        <li>
                           <p><span class="italic"><a href="file_specification.html#GUID-580FA726-F712-4410-90CF-783A2DA89688">file_specification</a></span>用于传统和Oracle ASM文件名的语法， <a href="ALTER-DISKGROUP.html#GUID-22D73AB6-7063-4627-A2ED-18D521ED2557">ALTER DISKGROUP</a>用于修改Oracle ASM文件的特征的信息</p>
                        </li>
                        <li>
                           <p>适用于默认参数文件名的特定于操作系统的文档</p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-D3E295B7-A3A4-43D3-8BBD-5CBE171A2E52__GUID-58D9741B-9F85-4A48-A4B5-F9684F8339F9"><span class="italic">pfile_name</span></p>
                  <p>指定要从中创建服务器参数文件的传统纯文本初始化参数文件。传统参数文件必须驻留在服务器上。</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>如果指定<span class="italic"><code class="codeph">pfile_name</code></span>且传统参数文件不驻留在操作系统上参数文件的缺省目录中，则必须指定完整路径。
                        </p>
                     </li>
                     <li>
                        <p>如果未指定<span class="italic"><code class="codeph">pfile_name</code></span> ，则Oracle数据库会在操作系统的缺省目录中查找参数文件，以获取缺省参数filename并使用该文件。如果该文件在预期目录中不存在，则数据库将返回错误。
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnote" id="GUID-D3E295B7-A3A4-43D3-8BBD-5CBE171A2E52__GUID-B55CFCC5-B5FB-42D5-96BB-899C5A7C7EBF">
                     <p class="notep1">注意：</p>
                     <p>在Oracle Real Application Clusters环境中，必须先将所有实例参数文件合并到一个文件中，然后在此语句中指定该文件名以创建服务器参数文件。有关完成此步骤的信息，请参阅“ <a href="../racad/administering-database-instances-and-cluster-databases.html#RACAD020" target="_blank"><span class="italic">Oracle Real Application Clusters管理和部署指南”</span></a> 。
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-D3E295B7-A3A4-43D3-8BBD-5CBE171A2E52__GUID-BD4EA9A6-7F5F-4EBB-848F-9281D569F494">作为复制</p>
                  <p>仅当数据库被定义为Oracle Clusterware中的资源时，此子句才适用。默认情况下，如果同时指定<span class="italic"><code class="codeph">spfile_name</code></span>和<code class="codeph">FROM</code> <code class="codeph">PFILE</code>子句，那么<code class="codeph">CREATE</code> <code class="codeph">SPFILE</code>自动语句更新数据库中的资源的SPFILE。您可以指定<code class="codeph">AS</code> <code class="codeph">COPY</code>以防止数据库更新数据库资源中的SPFILE。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-D3E295B7-A3A4-43D3-8BBD-5CBE171A2E52__GUID-5AD1D82E-59F8-4887-B68B-1BF9E6EA78EF">记忆</p>
                  <p><a id="d346367e465" class="indexterm-anchor"></a>使用当前系统范围的参数设置指定<code class="codeph">MEMORY</code>以创建spfile。在Oracle RAC环境中，创建的文件将包含每个实例的参数设置。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-D3E295B7-A3A4-43D3-8BBD-5CBE171A2E52__GUID-B0E13DFC-8FE2-4CCE-BD3C-E2D210CC36ED">例子</p>
                  <p id="GUID-D3E295B7-A3A4-43D3-8BBD-5CBE171A2E52__I2087518"><span class="bold">创建服务器参数文件：示例</span></p>
                  <p>以下示例从名为<code class="codeph">t_init1.ora</code>的传统纯文本参数文件创建默认服务器参数文件：</p><pre class="oac_no_warn" dir="ltr">从PFILE ='$ ORACLE_HOME / work / t_init1.ora'创建SPFILE;</pre><div class="infoboxnote" id="GUID-D3E295B7-A3A4-43D3-8BBD-5CBE171A2E52__GUID-CA9DE46C-BD79-4342-9972-7157E40DBF2A">
                     <p class="notep1">注意：</p>
                     <p>通常，您需要在操作系统上指定参数文件的完整路径和文件名。</p>
                  </div>
                  <p>创建默认服务器参数文件时，随后使用不带<code class="codeph">PFILE</code>参数的SQL * Plus命令<code class="codeph">STARTUP</code>使用该服务器参数文件启动数据库，如下所示：</p><pre class="oac_no_warn" dir="ltr">启动</pre><p>下面的示例创建一个非默认服务器参数文件<code class="codeph">s_params.ora</code>从传统的纯文本参数文件命名<code class="codeph">t_init1.ora</code> ：</p><pre class="oac_no_warn" dir="ltr">CREATE SPFILE ='s_params.ora'FROM PFILE ='$ ORACLE_HOME / work / t_init1.ora';</pre><p>创建非默认服务器参数文件时，随后首先创建包含以下单行的传统参数文件来启动数据库：</p><pre class="oac_no_warn" dir="ltr">spfile ='s_params.ora'</pre><p>此参数文件的名称必须符合操作系统的命名约定。然后在<code class="codeph">STARTUP</code>命令中使用单行参数文件。以下示例显示如何启动数据库，假设单行参数文件名为<code class="codeph">new_param.ora</code> ：</p><pre class="oac_no_warn" dir="ltr">STARTUP PFILE = new_param.ora</pre></div>
               <!-- class="section" -->
            </div>
         </div>
      </article>
   </body>
</html>