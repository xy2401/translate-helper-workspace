<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="You can create and manage views, sequences, and synonyms with Oracle Database."></meta>
      <meta name="description" content="You can create and manage views, sequences, and synonyms with Oracle Database."></meta>
      <title>管理视图，序列和同义词</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Database Administrator’s Guide "></meta>
      <meta property="og:description" content="You can create and manage views, sequences, and synonyms with Oracle Database."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Database Administrator’s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-administrators-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-03-14T11:02:35-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96348-04"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="managing-hash-clusters.html" title="Previous" type="text/html"></link>
      <link rel="next" href="repairing-corrupted-data.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Administrator&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="ADMIN"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="managing-hash-clusters.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="repairing-corrupted-data.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">数据库管理员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="schema-objects.html" property="item" typeof="WebPage"><span property="name">架构对象</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">管理视图，序列和同义词</li>
            </ol>
            <a id="GUID-11AE4E2F-B193-4FEE-89C5-62C1CB7ABCC5" name="GUID-11AE4E2F-B193-4FEE-89C5-62C1CB7ABCC5"></a><a id="ADMIN020"></a>
            
            <h2 id="ADMIN-GUID-11AE4E2F-B193-4FEE-89C5-62C1CB7ABCC5" class="sect2"><span class="enumeration_chapter">24</span>管理视图，序列和同义词</h2>
         </header>
         <div class="ind">
            <p>您可以使用Oracle数据库创建和管理视图，序列和同义词。</p>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="managing-views-sequences-and-synonyms.html#GUID-6A691576-77B3-4DAF-ABC7-3EF4707302D4">管理视图</a><br>您可以执行创建视图，替换视图，更改视图和删除视图等任务。
                  </li>
                  <li class="ulchildlink"><a href="managing-views-sequences-and-synonyms.html#GUID-50B77DCA-C44E-488C-B281-7478A01E842E">管理序列</a><br>您可以执行创建序列，更改序列，使用序列和删除序列等任务。
                  </li>
                  <li class="ulchildlink"><a href="managing-views-sequences-and-synonyms.html#GUID-25878D67-A39B-41FF-B7C8-4916FB952F78">管理同义词</a><br>您可以执行创建同义词，使用同义词和删除同义词等任务。
                  </li>
                  <li class="ulchildlink"><a href="managing-views-sequences-and-synonyms.html#GUID-D27171E8-3849-4E5E-87E4-23724746AF1D">视图，同义词和序列数据字典视图</a><br>您可以查询数据字典视图，以获取有关视图，同义词和序列的信息。
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>父主题：</strong> <a href="schema-objects.html#GUID-2DA8C61C-58B0-4892-8E5D-E7A9120BC120" title="您可以在Oracle数据库中创建和管理架构对象。">模式对象</a></p>
                  </div>
               </div>
            </div>
            <a id="ADMIN11774"></a><div class="props_rev_3"><a id="GUID-6A691576-77B3-4DAF-ABC7-3EF4707302D4" name="GUID-6A691576-77B3-4DAF-ABC7-3EF4707302D4"></a><h3 id="ADMIN-GUID-6A691576-77B3-4DAF-ABC7-3EF4707302D4" class="sect3"><span class="enumeration_section">24.1</span>管理视图</h3>
               <div>
                  <p>您可以执行创建视图，替换视图，更改视图和删除视图等任务。</p>
                  <div class="infoboxnote" id="GUID-6A691576-77B3-4DAF-ABC7-3EF4707302D4__GUID-25BF0A76-567A-4838-86B5-2A82127BCBC5">
                     <p class="notep1">实时SQL：</p>
                     <p>要查看和运行与管理Oracle Live SQL视图相关的示例，请转到<a href="https://livesql.oracle.com/apex/livesql/docs/admin/managing-views/create-modify.html" target="_blank"><span class="italic">Oracle Live SQL：创建，替换和删除视图</span></a> 。
                     </p>
                  </div>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-views-sequences-and-synonyms.html#GUID-B227BBFC-7B6D-400A-AFD7-1E73F1AF1FDB">关于意见</a><br><span class="bold">视图</span>是表或表组合的逻辑表示。实质上，视图是存储的查询。
                     </li>
                     <li class="ulchildlink"><a href="managing-views-sequences-and-synonyms.html#GUID-9898DF36-693A-4A55-9D3A-81EA74B40482">创建视图和加入视图</a><br>您可以使用<code class="codeph">CREATE VIEW</code>语句<code class="codeph">CREATE VIEW</code> 。每个视图都由引用表，物化视图或其他视图的查询定义。您还可以创建在<code class="codeph">FROM</code>子句中指定多个基表或视图的连接视图。
                     </li>
                     <li class="ulchildlink"><a href="managing-views-sequences-and-synonyms.html#GUID-A742CBEF-A66F-421F-94EC-7B492A81AE82">替换视图</a><br>您可以通过删除并重新创建<code class="codeph">CREATE VIEW</code>或发出包含<code class="codeph">OR REPLACE</code>子句的<code class="codeph">CREATE VIEW</code>语句来替换视图。
                     </li>
                     <li class="ulchildlink"><a href="managing-views-sequences-and-synonyms.html#GUID-D925865C-D627-43D0-A71A-C690DA2FCD42">在查询中使用视图</a><br>您可以查询视图。您还可以对视图执行数据操作语言（DML）操作，但有一些限制。
                     </li>
                     <li class="ulchildlink"><a href="managing-views-sequences-and-synonyms.html#GUID-367FAA9B-269C-41AD-A429-631D144CF36F">DML语句和连接视图</a><br>在连接视图上发出DML语句时适用限制。
                     </li>
                     <li class="ulchildlink"><a href="managing-views-sequences-and-synonyms.html#GUID-B9CE3911-8EBE-4214-A0C0-E67AD83821A0">改变观点</a><br>您只能使用<code class="codeph">ALTER VIEW</code>语句显式重新编译无效的视图。
                     </li>
                     <li class="ulchildlink"><a href="managing-views-sequences-and-synonyms.html#GUID-A075DF08-BEC2-413F-8444-E9B588A1C34F">删除视图</a><br>您可以使用<code class="codeph">DROP VIEW</code>语句<code class="codeph">DROP VIEW</code> 。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="managing-views-sequences-and-synonyms.html#GUID-11AE4E2F-B193-4FEE-89C5-62C1CB7ABCC5" title="您可以使用Oracle数据库创建和管理视图，序列和同义词。">管理视图，序列和同义词</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN11775"></a><div class="props_rev_3"><a id="GUID-B227BBFC-7B6D-400A-AFD7-1E73F1AF1FDB" name="GUID-B227BBFC-7B6D-400A-AFD7-1E73F1AF1FDB"></a><h4 id="ADMIN-GUID-B227BBFC-7B6D-400A-AFD7-1E73F1AF1FDB" class="sect4"><span class="enumeration_section">24.1.1</span>关于视图</h4>
                  <div>
                     <p><span class="bold">视图</span>是表或表组合的逻辑表示。实质上，视图是存储的查询。
                     </p>
                     <p>视图从其所基于的表中获取其数据。这些表称为<span class="bold">基表</span> 。基表可能反过来是实际表，也可能是视图本身。在视图上执行的所有操作实际上都会影响视图的基表。您可以以与表格几乎相同的方式使用视图。您可以像查看标准表一样查询，更新，插入和删除视图。
                     </p>
                     <p>视图可以提供驻留在其他表和视图中的数据的不同表示（例如子集或超集）。视图非常强大，因为它们允许您为不同类型的用户定制数据表示。</p>
                     <div class="infoboxnote" id="GUID-B227BBFC-7B6D-400A-AFD7-1E73F1AF1FDB__GUID-FD0759F3-58C1-4EF4-8609-C024CF2AF75C">
                        <p class="notep1">注意：</p>
                        <p>一种特殊类型的视图是版本视图，它仅用于支持使用基于版本的重新定义在线升级应用程序。管理视图的本节其余部分描述了除编辑视图之外的所有视图。有关版本视图和基于版本的重新定义的讨论，请参阅“ <a href="../adfns/editions.html#ADFNS0202" target="_blank"><span class="italic">Oracle数据库开发指南”</span></a> 。
                        </p>
                     </div>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-B227BBFC-7B6D-400A-AFD7-1E73F1AF1FDB__GUID-60B61CD0-C0A2-4F8C-AFD1-1BB02681D8CA">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="../cncpt/partitions-views-and-other-schema-objects.html#CNCPT311" target="_blank"><span class="italic">Oracle Database Concepts，</span></a>用于概述视图</p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-views-sequences-and-synonyms.html#GUID-6A691576-77B3-4DAF-ABC7-3EF4707302D4" title="您可以执行创建视图，替换视图，更改视图和删除视图等任务。">管理视图</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-9898DF36-693A-4A55-9D3A-81EA74B40482" name="GUID-9898DF36-693A-4A55-9D3A-81EA74B40482"></a><h4 id="ADMIN-GUID-9898DF36-693A-4A55-9D3A-81EA74B40482" class="sect4"><span class="enumeration_section">24.1.2</span>创建视图和加入视图</h4>
                  <p>您可以使用<code class="codeph">CREATE VIEW</code>语句<code class="codeph">CREATE VIEW</code> 。每个视图都由引用表，物化视图或其他视图的查询定义。您还可以创建在<code class="codeph">FROM</code>子句中指定多个基表或视图的连接视图。
                  </p>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="managing-views-sequences-and-synonyms.html#GUID-183AFB09-7E0B-4E50-A23A-A9FD469B1796">创建视图</a><br>您可以使用<code class="codeph">CREATE VIEW</code>语句<code class="codeph">CREATE VIEW</code> 。
                        </li>
                        <li class="ulchildlink"><a href="managing-views-sequences-and-synonyms.html#GUID-933E7A1B-E646-41AC-9358-BE2C323D5FD5">创建加入视图</a><br>您还可以在<code class="codeph">CREATE VIEW</code>语句的<code class="codeph">FROM</code>子句中创建指定多个基表或视图的<code class="codeph">CREATE VIEW</code> 。这些称为<span class="bold">连接视图</span> 。
                        </li>
                        <li class="ulchildlink"><a href="managing-views-sequences-and-synonyms.html#GUID-7AF930AE-B5DD-4500-86D2-8B4DEA91A831">在视图创建时扩展定义查询</a><br>创建视图时，Oracle数据库会将顶级视图查询中的任何通配符（*）扩展为列列表。生成的查询存储在数据字典中;任何子查询都保持不变。
                        </li>
                        <li class="ulchildlink"><a href="managing-views-sequences-and-synonyms.html#GUID-655BC560-5588-4B05-83AB-C3C69818078C">创建具有错误的视图</a><br>如果<code class="codeph">CREATE VIEW</code>语句中没有语法错误，则即使无法执行视图的定义查询，数据库也可以创建视图。在这种情况下，视图被视为“创建有错误”。</li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-views-sequences-and-synonyms.html#GUID-6A691576-77B3-4DAF-ABC7-3EF4707302D4" title="您可以执行创建视图，替换视图，更改视图和删除视图等任务。">管理视图</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADMIN11776"></a><div class="props_rev_3"><a id="GUID-183AFB09-7E0B-4E50-A23A-A9FD469B1796" name="GUID-183AFB09-7E0B-4E50-A23A-A9FD469B1796"></a><h5 id="ADMIN-GUID-183AFB09-7E0B-4E50-A23A-A9FD469B1796" class="sect5"><span class="enumeration_section">24.1.2.1</span>创建视图</h5>
                     <div>
                        <p>您可以使用<code class="codeph">CREATE VIEW</code>语句<code class="codeph">CREATE VIEW</code> 。
                        </p>
                        <div class="section">
                           <p>要创建视图，您必须满足以下要求：</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>要在架构中创建视图，您必须具有<code class="codeph">CREATE VIEW</code>权限。要在另一个用户的模式中创建视图，您必须具有<code class="codeph">CREATE ANY VIEW</code>系统特权。您可以显式或通过角色获取这些权限。
                                 </p>
                              </li>
                              <li>
                                 <p>必须已显式授予视图所有者（无论是您还是其他用户）访问视图定义中引用的所有对象的权限。所有者<span class="italic">无法</span>通过角色获得这些权限。此外，视图的功能取决于视图所有者的权限。例如，如果视图的所有者仅具有Scott的<code class="codeph">emp</code>表的<code class="codeph">INSERT</code>权限，则该视图只能用于将新行插入<code class="codeph">emp</code>表，而不能用于<code class="codeph">SELECT</code> ， <code class="codeph">UPDATE</code>或<code class="codeph">DELETE</code>行。
                                 </p>
                              </li>
                              <li>
                                 <p>如果视图的所有者打算将视图的访问权限授予其他用户，则所有者必须已使用<code class="codeph">GRANT OPTION</code>或具有<code class="codeph">ADMIN OPTION</code>的系统特权接收对基础对象的对象特权。</p>
                              </li>
                           </ul>
                           <p>您可以使用<code class="codeph">CREATE VIEW</code>语句<code class="codeph">CREATE VIEW</code> 。每个视图都由引用表，物化视图或其他视图的查询定义。与所有子查询一样，定义视图的查询不能包含<code class="codeph">FOR UPDATE</code>子句。
                           </p>
                           <p>以下语句在<code class="codeph">hr.departments</code>表中创建数据子集的视图：</p><pre class="oac_no_warn" dir="ltr">CREATE VIEW departments_hq AS SELECT department_id，department_name，location_id FROM hr.departments WHERE location_id = 1700 WITH CHECK OPTION CONSTRAINT departments_hq_cnst;</pre><p>定义<code class="codeph">departments_hq</code>视图的查询仅引用位置1700中的行。此外， <code class="codeph">CHECK OPTION</code>使用约束（名为<code class="codeph">departments_hq_cnst</code> ）创建视图，以便针对视图发出的<code class="codeph">INSERT</code>和<code class="codeph">UPDATE</code>语句不会导致视图无法选择的行。例如，以下<code class="codeph">INSERT</code>语句使用<code class="codeph">departments_hq</code>视图成功地在<code class="codeph">departments</code>表中插入一行，该视图包含位置为1700的所有行：</p><pre class="oac_no_warn" dir="ltr">INSERT INTO departments_hq VALUES（300，'NETWORKING'，1700）;</pre><p>但是，以下<code class="codeph">INSERT</code>语句返回错误，因为它尝试为位置2700插入行，但无法使用<code class="codeph">departments_hq</code>视图进行选择：</p><pre class="oac_no_warn" dir="ltr">INSERT INTO departments_hq VALUES（301，'TRANSPORTATION'，2700）;</pre><p>可以构造视图，指定<code class="codeph">WITH READ ONLY</code>子句，该子句阻止通过视图对基表执行任何更新，插入或删除。如果未指定<code class="codeph">WITH</code>子句，则视图具有一些限制，本质上是可更新的。
                           </p>
                           <p>您还可以使用不可见列创建视图。例如，以下语句创建<code class="codeph">departments_hq_man</code>视图并使<code class="codeph">manager_id</code>列不可见：</p><pre class="oac_no_warn" dir="ltr">CREATE VIEW departments_hq_man（department_id，department_name，manager_id INVISIBLE，location_id）AS SELECT department_id，department_name，manager_id，location_id FROM hr.departments WHERE location_id = 1700 WITH CHECK OPTION CONSTRAINT departments_hq_man_cnst;</pre></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-183AFB09-7E0B-4E50-A23A-A9FD469B1796__GUID-22D94BC1-9B46-4659-9E45-E18E4877CD5A">
                           <p class="notep1">也可以看看：</p>
                           <p></p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>有关<code class="codeph">CREATE VIEW</code>语句的语法和语义的<a href="../sqlrf/CREATE-VIEW.html#SQLRF01504" target="_blank"><span class="italic">Oracle数据库SQL语言参考</span></a></p>
                              </li>
                              <li>
                                 <p><span class="q">“ <a href="managing-tables.html#GUID-D7E99BBA-192C-41E7-9150-62AA188725E4" title="您可以使单个表列不可见。表的任何通用访问都不会显示表中的不可见列。">了解不可见的列</a> ”</span></p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="managing-views-sequences-and-synonyms.html#GUID-9898DF36-693A-4A55-9D3A-81EA74B40482" title="您可以使用CREATE VIEW语句创建视图。每个视图都由引用表，物化视图或其他视图的查询定义。您还可以创建在FROM子句中指定多个基表或视图的连接视图。">创建视图和连接视图</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11777"></a><div class="props_rev_3"><a id="GUID-933E7A1B-E646-41AC-9358-BE2C323D5FD5" name="GUID-933E7A1B-E646-41AC-9358-BE2C323D5FD5"></a><h5 id="ADMIN-GUID-933E7A1B-E646-41AC-9358-BE2C323D5FD5" class="sect5"><span class="enumeration_section">24.1.2.2</span>创建Join视图</h5>
                     <div>
                        <p>您还可以在<code class="codeph">CREATE VIEW</code>语句的<code class="codeph">FROM</code>子句中创建指定多个基表或视图的<code class="codeph">CREATE VIEW</code> 。这些称为<span class="bold">连接视图</span> 。
                        </p>
                        <div class="section">
                           <p>以下语句创建<code class="codeph">division1_staff</code>视图，该视图连接<code class="codeph">emp</code>和<code class="codeph">dept</code>表中的数据：</p><pre class="oac_no_warn" dir="ltr">CREATE VIEW division1_staff AS SELECT ename，empno，job，dname FROM emp，dept WHERE emp.deptno IN（10,30）AND emp.deptno = dept.deptno;</pre><p><span class="bold">可更新的连接视图</span>是允许<code class="codeph">UPDATE</code> ， <code class="codeph">INSERT</code>和<code class="codeph">DELETE</code>操作的连接视图。有关进一步的讨论，请参阅<span class="q">“ <a href="managing-views-sequences-and-synonyms.html#GUID-C37E704C-AF40-42DA-85ED-372A62A74E58" title="可更新的连接视图（也称为可修改的连接视图）是一个视图，它在SELECT语句的顶级FROM子句中包含多个表，并且不受WITH READ ONLY子句的限制。">更新加入视图</a> ”</span> 。
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="managing-views-sequences-and-synonyms.html#GUID-9898DF36-693A-4A55-9D3A-81EA74B40482" title="您可以使用CREATE VIEW语句创建视图。每个视图都由引用表，物化视图或其他视图的查询定义。您还可以创建在FROM子句中指定多个基表或视图的连接视图。">创建视图和连接视图</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11778"></a><div class="props_rev_3"><a id="GUID-7AF930AE-B5DD-4500-86D2-8B4DEA91A831" name="GUID-7AF930AE-B5DD-4500-86D2-8B4DEA91A831"></a><h5 id="ADMIN-GUID-7AF930AE-B5DD-4500-86D2-8B4DEA91A831" class="sect5"><span class="enumeration_section">24.1.2.3</span>在视图创建时扩展定义查询</h5>
                     <div>
                        <p>创建视图时，Oracle数据库会将顶级视图查询中的任何通配符（*）扩展为列列表。生成的查询存储在数据字典中;任何子查询都保持不变。</p>
                        <div class="section">
                           <p>扩展列列表中的列名称用引号括起来，以说明最初使用引号输入基础对象的列的可能性，并要求它们使查询在语法上正确。</p>
                           <p>例如，假设<code class="codeph">dept</code>视图创建如下：</p><pre class="oac_no_warn" dir="ltr">CREATE VIEW dept AS SELECT * FROM scott.dept;</pre><p>数据库将<code class="codeph">dept</code>视图的定义查询存储为：</p><pre class="oac_no_warn" dir="ltr">选择“DEPTNO”，“DNAME”，“LOC”来自scott.dept;</pre><p>使用错误创建的视图不会扩展通配符。但是，如果最终编译视图时没有错误，则会扩展定义查询中的通配符。<a id="d232702e703" class="indexterm-anchor"></a><a id="d232702e707" class="indexterm-anchor"></a></p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="managing-views-sequences-and-synonyms.html#GUID-9898DF36-693A-4A55-9D3A-81EA74B40482" title="您可以使用CREATE VIEW语句创建视图。每个视图都由引用表，物化视图或其他视图的查询定义。您还可以创建在FROM子句中指定多个基表或视图的连接视图。">创建视图和连接视图</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11779"></a><div class="props_rev_3"><a id="GUID-655BC560-5588-4B05-83AB-C3C69818078C" name="GUID-655BC560-5588-4B05-83AB-C3C69818078C"></a><h5 id="ADMIN-GUID-655BC560-5588-4B05-83AB-C3C69818078C" class="sect5"><span class="enumeration_section">24.1.2.4</span>创建带错误的视图</h5>
                     <div>
                        <p>如果<code class="codeph">CREATE VIEW</code>语句中没有语法错误，则即使无法执行视图的定义查询，数据库也可以创建视图。在这种情况下，视图被视为“创建有错误”。</p>
                        <div class="section">
                           <p>例如，当创建引用不存在的表或现有表的无效列的视图时，或者当视图所有者没有所需的权限时，仍可以创建视图并将其输入到数据字典中。但是，该视图尚不可用。</p>
                           <p>要创建包含错误的视图，必须包含<code class="codeph">CREATE VIEW</code>语句的<code class="codeph">FORCE</code>子句。
                           </p><pre class="oac_no_warn" dir="ltr">创建力量视图...;</pre><p>默认情况下，具有错误的视图将创建为<code class="codeph">INVALID</code> 。当您尝试创建此类视图时，数据库将返回一条消息，指示视图是在创建时出错的。如果条件稍后更改以便可以执行无效视图的查询，则可以重新编译视图并使其有效（可用）。有关更改条件及其对视图的影响的信息，请参阅<span class="q">“ <a href="managing-schema-objects.html#GUID-46D82F8E-C360-4223-B469-18039B1FFB21" title="Oracle数据库提供了一种自动机制，可确保从属对象始终与其引用的对象保持同步。您也可以手动重新编译无效对象。">管理对象依赖关系</a> ”</span> 。
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="managing-views-sequences-and-synonyms.html#GUID-9898DF36-693A-4A55-9D3A-81EA74B40482" title="您可以使用CREATE VIEW语句创建视图。每个视图都由引用表，物化视图或其他视图的查询定义。您还可以创建在FROM子句中指定多个基表或视图的连接视图。">创建视图和连接视图</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="ADMIN11780"></a><div class="props_rev_3"><a id="GUID-A742CBEF-A66F-421F-94EC-7B492A81AE82" name="GUID-A742CBEF-A66F-421F-94EC-7B492A81AE82"></a><h4 id="ADMIN-GUID-A742CBEF-A66F-421F-94EC-7B492A81AE82" class="sect4"><span class="enumeration_section">24.1.3</span>替换视图</h4>
                  <div>
                     <p>您可以通过删除并重新创建<code class="codeph">CREATE VIEW</code>或发出包含<code class="codeph">OR REPLACE</code>子句的<code class="codeph">CREATE VIEW</code>语句来替换视图。
                     </p>
                     <div class="section">
                        <p>要替换视图，您必须具有删除和创建视图所需的所有权限。如果视图的定义必须更改，则必须替换视图;您不能使用<code class="codeph">ALTER VIEW</code>语句来更改视图的定义。您可以通过以下方式替换视图：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>您可以删除并重新创建视图。</p>
                              <div class="infoboxnote" id="GUID-A742CBEF-A66F-421F-94EC-7B492A81AE82__GUID-447072DC-43CC-4BDA-A1EB-37F42E8AAB0C">
                                 <p class="notep1">注意：</p>
                                 <p>删除视图时，将从角色和用户撤消所有相应对象权限的授予。重新创建视图后，必须重新授予权限。</p>
                              </div>
                           </li>
                           <li>
                              <p>您可以使用包含<code class="codeph">OR REPLACE</code>子句的<code class="codeph">CREATE VIEW</code>语句重新定义视图。<code class="codeph">OR REPLACE</code>子句替换视图的当前定义并保留当前的安全授权。例如，假设您创建了如前所示的<code class="codeph">sales_staff</code>视图，此外，您还为角色和其他用户授予了多个对象权限。但是，现在必须重新定义<code class="codeph">sales_staff</code>视图以更改<code class="codeph">WHERE</code>子句中指定的部门编号。您可以使用以下语句替换当前版本的<code class="codeph">sales_staff</code>视图：</p><pre class="oac_no_warn" dir="ltr">创建或替换视图sales_staff AS SELECT empno，ename，deptno FROM emp WHERE deptno = 30 WITH CHECK OPTION CONSTRAINT sales_staff_cnst;</pre></li>
                        </ul>
                        <p>在替换视图之前，请考虑以下效果：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>替换视图将替换数据字典中的视图定义。视图引用的所有基础对象都不受影响。</p>
                           </li>
                           <li>
                              <p>如果先前已定义<code class="codeph">CHECK OPTION</code>的约束但未包含在新视图定义中，则会删除约束。
                              </p>
                           </li>
                           <li>
                              <p>依赖于替换视图的所有视图都变为无效（不可用）。此外，依赖的PL / SQL程序单元可能会变为无效，具体取决于新版本视图中的更改。例如，如果只有视图的<code class="codeph">WHERE</code>子句发生更改，则依赖的PL / SQL程序单元仍然有效。但是，如果对视图列的数量或视图列名称或数据类型进行了任何更改，则相关的PL / SQL程序单元将失效。有关数据库如何管理此类依赖关系的更多信息，请参阅<span class="q">“ <a href="managing-schema-objects.html#GUID-46D82F8E-C360-4223-B469-18039B1FFB21" title="Oracle数据库提供了一种自动机制，可确保从属对象始终与其引用的对象保持同步。您也可以手动重新编译无效对象。">管理对象依赖关系</a> ”</span> 。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-views-sequences-and-synonyms.html#GUID-6A691576-77B3-4DAF-ABC7-3EF4707302D4" title="您可以执行创建视图，替换视图，更改视图和删除视图等任务。">管理视图</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11781"></a><div class="props_rev_3"><a id="GUID-D925865C-D627-43D0-A71A-C690DA2FCD42" name="GUID-D925865C-D627-43D0-A71A-C690DA2FCD42"></a><h4 id="ADMIN-GUID-D925865C-D627-43D0-A71A-C690DA2FCD42" class="sect4"><span class="enumeration_section">24.1.4</span>在查询中使用视图</h4>
                  <div>
                     <p>您可以查询视图。您还可以对视图执行数据操作语言（DML）操作，但有一些限制。</p>
                     <div class="section">
                        <p>要对视图发出查询或<code class="codeph">INSERT,</code> <code class="codeph">UPDATE</code>或<code class="codeph">DELETE</code>语句，您必须分别对视图具有<code class="codeph">SELECT,</code> <code class="codeph">READ</code> ， <code class="codeph">INSERT,</code> <code class="codeph">UPDATE,</code>或<code class="codeph">DELETE</code>对象权限，无论是显式还是通过角色。
                        </p>
                        <p>可以使用与表相同的方式查询视图。例如，要查询<code class="codeph">Division1_staff</code>视图，请输入引用该视图的有效<code class="codeph">SELECT</code>语句：</p><pre class="oac_no_warn" dir="ltr">SELECT * FROM Division1_staff; ENAME EMPNO JOB DNAME ---------------------------------------------- -------- CLARK 7782经理会计师事务所7839总裁会计师事务所7934 CLERK会计师事务所7499销售人员销售人员7521销售员销售人员James 7900 CLERK SALES TURNER 7844销售人员销售马丁7654销售员销售额7698经理销售额</pre><p>通过一些限制，可以使用视图将行插入，更新或从基表中删除。以下语句使用<code class="codeph">sales_staff</code>视图在<code class="codeph">emp</code>表中插入新行：</p><pre class="oac_no_warn" dir="ltr">INSERT INTO sales_staff VALUES（7954，'OSTER'，30）;</pre><p>对视图的DML操作的限制按列出的顺序使用以下条件：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li><span>如果视图由包含<code class="codeph">SET</code>或<code class="codeph">DISTINCT</code>运算符， <code class="codeph">GROUP</code> <code class="codeph">BY</code>子句或组函数的查询定义，则无法使用视图将行插入，更新或从基表中删除。</span></li>
                        <li><span>如果使用<code class="codeph">WITH</code> <code class="codeph">CHECK</code> <code class="codeph">OPTION</code>定义视图，则如果视图无法从基表中选择行，则无法在基表（使用视图）中插入或更新行。</span></li>
                        <li><span>如果视图中省略了没有<code class="codeph">DEFAULT</code>子句的<code class="codeph">NOT</code> <code class="codeph">NULL</code>列，则无法使用视图将行插入基表。</span></li>
                        <li><span>如果视图是使用表达式创建的，例如<code class="codeph">DECODE(deptno, 10, "SALES", ...)</code> ，则无法使用视图将行插入或更新到基表中。</span></li>
                     </ol>
                     <div class="section">
                        <p>由<code class="codeph">sales_staff</code>视图的<code class="codeph">WITH</code> <code class="codeph">CHECK</code> <code class="codeph">OPTION</code>创建的约束仅允许将部门号为30的行插入到<code class="codeph">emp</code>表中或在其中更新。或者，假设<code class="codeph">sales_staff</code>视图由以下语句定义（即，排除<code class="codeph">deptno</code>列）：</p><pre class="oac_no_warn" dir="ltr">CREATE VIEW sales_staff AS SELECT empno，ename FROM emp WHERE deptno = 10 WITH CHECK OPTION CONSTRAINT sales_staff_cnst;</pre><p>考虑此视图定义，您可以更新现有记录的<code class="codeph">empno</code>或<code class="codeph">ename</code>字段，但不能通过<code class="codeph">sales_staff</code>视图将行插入<code class="codeph">emp</code>表，因为该视图不允许您更改<code class="codeph">deptno</code>字段。如果您在<code class="codeph">deptno</code>字段上定义了<code class="codeph">DEFAULT</code>值10，那么您可以执行插入操作。
                        </p>
                        <p>当用户尝试引用无效视图时，数据库会向用户返回错误消息：</p><pre class="oac_no_warn" dir="ltr">ORA-04063：视图'view_name'有错误</pre><p>当视图存在但由于其查询中的错误而无法使用时会返回此错误消息（最初创建时是否有错误或者是否已成功创建但后来由于基础对象被更改或删除而变得无法使用）。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-views-sequences-and-synonyms.html#GUID-6A691576-77B3-4DAF-ABC7-3EF4707302D4" title="您可以执行创建视图，替换视图，更改视图和删除视图等任务。">管理视图</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-367FAA9B-269C-41AD-A429-631D144CF36F" name="GUID-367FAA9B-269C-41AD-A429-631D144CF36F"></a><h4 id="ADMIN-GUID-367FAA9B-269C-41AD-A429-631D144CF36F" class="sect4"><span class="enumeration_section">24.1.5</span> DML语句和连接视图</h4>
                  <p>在连接视图上发出DML语句时适用限制。</p>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="managing-views-sequences-and-synonyms.html#GUID-C37E704C-AF40-42DA-85ED-372A62A74E58">更新加入视图</a><br>可更新的连接视图（也称为<span class="bold">可修改的连接视图</span> ）是一个视图，它在<code class="codeph">SELECT</code>语句的顶级<code class="codeph">FROM</code>子句中包含多个表，并且不受<code class="codeph">WITH READ ONLY</code>子句的限制。
                        </li>
                        <li class="ulchildlink"><a href="managing-views-sequences-and-synonyms.html#GUID-A661DF5B-A5CE-4569-B5F1-AE8D407E6D30">密钥保留表</a><br><span class="bold">密钥保留表</span>的概念是理解修改连接视图的限制的基础。如果表的每个键也可以是连接结果的键，则表是密钥保留的。因此，密钥保留表通过连接保留其密钥。
                        </li>
                        <li class="ulchildlink"><a href="managing-views-sequences-and-synonyms.html#GUID-98A16B12-8ECC-4F1E-8D84-02213FCF6B11">DML语句和连接视图的规则</a><br>一般规则是连接视图上的任何<code class="codeph">UPDATE</code> ， <code class="codeph">DELETE</code>或<code class="codeph">INSERT</code>语句只能修改一个基础基表。
                        </li>
                        <li class="ulchildlink"><a href="managing-views-sequences-and-synonyms.html#GUID-36EDF029-7219-4485-8FC9-EC0D6204CE15">更新涉及外部联接的视图</a><br>在某些情况下，涉及外连接的视图是可修改的。
                        </li>
                        <li class="ulchildlink"><a href="managing-views-sequences-and-synonyms.html#GUID-1A4049C2-62FE-4EDA-B01E-5B0C74D56ABF">使用UPDATABLE_ COLUMNS视图</a><br>一组视图可以帮助您识别固有可更新的连接视图。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-views-sequences-and-synonyms.html#GUID-6A691576-77B3-4DAF-ABC7-3EF4707302D4" title="您可以执行创建视图，替换视图，更改视图和删除视图等任务。">管理视图</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADMIN11782"></a><div class="props_rev_3"><a id="GUID-C37E704C-AF40-42DA-85ED-372A62A74E58" name="GUID-C37E704C-AF40-42DA-85ED-372A62A74E58"></a><h5 id="ADMIN-GUID-C37E704C-AF40-42DA-85ED-372A62A74E58" class="sect5"><span class="enumeration_section">24.1.5.1</span>更新加入视图</h5>
                     <div>
                        <p>可更新的连接视图（也称为<span class="bold">可修改的连接视图</span> ）是一个视图，它在<code class="codeph">SELECT</code>语句的顶级<code class="codeph">FROM</code>子句中包含多个表，并且不受<code class="codeph">WITH READ ONLY</code>子句的限制。
                        </p>
                        <div class="section">
                           <p>可更新连接视图的规则如下表所示。据说满足这些标准的视图本质上是可更新的。</p>
                           <div class="tblformal" id="GUID-C37E704C-AF40-42DA-85ED-372A62A74E58__GUID-C0A1A0D1-6C12-405B-AF17-283913107AC5">
                              <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Column 1 lists the rules for updatable join views, column 2 describes each rule." frame="hsides" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="24%" id="d232702e1286">规则</th>
                                       <th align="left" valign="bottom" width="76%" id="d232702e1289">描述</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="24%" id="d232702e1294" headers="d232702e1286 ">
                                          <p>一般规则</p>
                                       </td>
                                       <td align="left" valign="top" width="76%" headers="d232702e1294 d232702e1289 ">
                                          <p>连接视图上的任何<code class="codeph">INSERT</code> ， <code class="codeph">UPDATE</code>或<code class="codeph">DELETE</code>操作一次只能修改一个基础基表。
                                          </p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="24%" id="d232702e1310" headers="d232702e1286 ">
                                          <p><code class="codeph">UPDATE</code>规则</p>
                                       </td>
                                       <td align="left" valign="top" width="76%" headers="d232702e1310 d232702e1289 ">
                                          <p>连接视图的所有可更新列都必须映射到<span class="bold">密钥保留表的列</span> 。有关<span class="q"><a href="managing-views-sequences-and-synonyms.html#GUID-A661DF5B-A5CE-4569-B5F1-AE8D407E6D30" title="The concept of a key-preserved table is fundamental to understanding the restrictions on modifying join views. A table is key-preserved if every key of the table can also be a key of the result of the join. So, a key-preserved table has its keys preserved through a join.">密钥保留表</a></span>的讨论，请参阅<span class="q">“ <a href="managing-views-sequences-and-synonyms.html#GUID-A661DF5B-A5CE-4569-B5F1-AE8D407E6D30" title="密钥保留表的概念是理解修改连接视图的限制的基础。如果表的每个键也可以是连接结果的键，则表是密钥保留的。因此，密钥保留表通过连接保留其密钥。">密钥保留表</a> ”</span> 。如果<code class="codeph">WITH CHECK OPTION</code>子句定义视图，则所有连接列和重复表的所有列都不可更新。
                                          </p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="24%" id="d232702e1336" headers="d232702e1286 ">
                                          <p><code class="codeph">DELETE</code>规则</p>
                                       </td>
                                       <td align="left" valign="top" width="76%" headers="d232702e1336 d232702e1289 ">
                                          <p>只要连接中只有一个密钥保留表，就可以删除连接视图中的行。密钥保留表可以在<code class="codeph">FROM</code>子句中重复。如果<code class="codeph">WITH CHECK OPTION</code>子句定义视图并重复密钥保留表，则无法从视图中删除行。
                                          </p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="24%" id="d232702e1351" headers="d232702e1286 ">
                                          <p><code class="codeph">INSERT</code>规则</p>
                                       </td>
                                       <td align="left" valign="top" width="76%" headers="d232702e1351 d232702e1289 ">
                                          <p><code class="codeph">INSERT</code>语句不能显式或隐式引用<span class="bold">非密钥保留表的列</span> 。如果<code class="codeph">WITH CHECK OPTION</code>子句定义连接视图，则不允许<code class="codeph">INSERT</code>语句。
                                          </p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                           <p>有数据字典视图，指示连接视图中的列是否具有固有的可更新性。有关这些视图的说明，请参阅<span class="q">“ <a href="managing-views-sequences-and-synonyms.html#GUID-1A4049C2-62FE-4EDA-B01E-5B0C74D56ABF" title="一组视图可以帮助您识别固有可更新的连接视图。">使用UPDATABLE_ COLUMNS视图</a> ”</span> 。
                           </p>
                           <div class="infoboxnote" id="GUID-C37E704C-AF40-42DA-85ED-372A62A74E58__GUID-7DD9B908-5050-460B-B515-AB63B354D0FF">
                              <p class="notep1">注意：</p>
                              <p>还有一些其他限制和条件会影响连接视图是否具有固有的可更新性。特定于<a href="../sqlrf/CREATE-VIEW.html#SQLRF01504" target="_blank"><span class="italic">Oracle数据库SQL语言参考</span></a>中的<code class="codeph">CREATE VIEW</code>语句的描述中列出<a href="../sqlrf/CREATE-VIEW.html#SQLRF01504" target="_blank"><span class="italic">。</span></a></p>
                              <p>如果视图本身不可更新，则可以通过在其上创建<code class="codeph">INSTEAD</code> <code class="codeph">OF</code>触发器来使其可更新。有关触发器的信息，请参见<a href="../lnpls/plsql-triggers.html#LNPLS020" target="_blank"><span class="italic">Oracle Database PL / SQL语言参考</span></a> 。
                              </p>
                              <p>此外，如果视图是其他嵌套视图上的连接，则其他嵌套视图必须可合并到顶级视图中。有关可合并和不可合并视图的讨论，以及更一般地说，优化程序如何优化引用视图的语句，请参阅“ <a href="../tgsql/query-optimizer-concepts.html#TGSQL193" target="_blank"><span class="italic">Oracle数据库SQL调优指南”。</span></a></p>
                           </div>
                           <p>以下部分介绍了说明固有可更新连接视图规则的示例，以及对密钥保留表的讨论。仅当您在表中显式定义主键和外键或定义唯一索引时，这些部分中的示例才有效。以下语句为<code class="codeph">emp</code>和<code class="codeph">dept</code>创建适当约束的表定义。
                           </p><pre class="oac_no_warn" dir="ltr">CREATE TABLE dept（deptno NUMBER（4）PRIMARY KEY，dname VARCHAR2（14），loc VARCHAR2（13））; CREATE TABLE emp（empno NUMBER（4）PRIMARY KEY，ename VARCHAR2（10），job VARCHAR2（9），mgr NUMBER（4），sal number（7,2），comm NUMBER（7,2），deptno NUMBER（2 ），外键（DEPTNO）参考文献部（DEPTNO））;</pre><p>您还可以省略前面示例中列出的主键和外键约束，并在<code class="codeph">dept (deptno)</code>上创建<code class="codeph">UNIQUE INDEX</code>以使以下示例有效。
                           </p>
                           <p>以下语句创建了<code class="codeph">emp_dept</code>连接视图，该视图在示例中引用：</p><pre class="oac_no_warn" dir="ltr">CREATE VIEW emp_dept AS SELECT emp.empno，emp.ename，emp.deptno，emp.sal，dept.dname，dept.loc FROM emp，dept WHERE emp.deptno = dept.deptno AND dept.loc IN（'DALLAS'， '纽约'，'波士顿'）;</pre></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="managing-views-sequences-and-synonyms.html#GUID-367FAA9B-269C-41AD-A429-631D144CF36F" title="在连接视图上发出DML语句时适用限制。">DML语句和连接视图</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11783"></a><div class="props_rev_3"><a id="GUID-A661DF5B-A5CE-4569-B5F1-AE8D407E6D30" name="GUID-A661DF5B-A5CE-4569-B5F1-AE8D407E6D30"></a><h5 id="ADMIN-GUID-A661DF5B-A5CE-4569-B5F1-AE8D407E6D30" class="sect5"><span class="enumeration_section">24.1.5.2</span>密钥保留表</h5>
                     <div>
                        <p><span class="bold">密钥保留表</span>的概念是理解修改连接视图的限制的基础。如果表的每个键也可以是连接结果的键，则表是密钥保留的。因此，密钥保留表通过连接保留其密钥。
                        </p>
                        <div class="infoboxnote" id="GUID-A661DF5B-A5CE-4569-B5F1-AE8D407E6D30__GUID-25363D88-0FCB-43DB-90BC-C4B59E849326">
                           <p class="notep1">注意：</p>
                           <p>不必选择表的一个或多个键来进行密钥保存。如果选择了一个或多个键就足够了，那么它们也是连接结果的键。</p>
                        </div>
                        <p>表的密钥保留属性不依赖于表中的实际数据。相反，它是其架构的属性。例如，如果在<code class="codeph">emp</code>表中每个部门中最多只有一个员工，那么<code class="codeph">deptno</code>在<code class="codeph">emp</code>和<code class="codeph">dept</code>的连接结果中将是唯一的，但<code class="codeph">dept</code>仍然不是一个保存密钥的表。
                        </p>
                        <p>如果从<code class="codeph">emp_dept</code>选择所有行，则结果为：</p><pre class="oac_no_warn" dir="ltr">EMPNO ENAME DEPTNO DNAME LOC ---------- ---------- ------- -------------- ---- ------- 7782 CLARK 10会计纽约7839 KING 10会计纽约7934 MILLER 10会计纽约7369 SMITH 20研究DALLAS 7876 ADAMS 20研究DALLAS 7902 FORD 20研究DALLAS 7788 SCOTT 20研究DALLAS 7566 JONES 20研究DALLAS选择了8行。
</pre><p>在此视图中， <code class="codeph">emp</code>是一个保留密钥的表，因为<code class="codeph">empno</code>是<code class="codeph">emp</code>表的一个键，也是连接结果的一个键。 <code class="codeph">dept</code> <span class="italic">不是</span>保存密钥的表，因为虽然<code class="codeph">deptno</code>是<code class="codeph">dept</code>表的一个键，但它不是连接的关键。
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="managing-views-sequences-and-synonyms.html#GUID-367FAA9B-269C-41AD-A429-631D144CF36F" title="在连接视图上发出DML语句时适用限制。">DML语句和连接视图</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11784"></a><div class="props_rev_3"><a id="GUID-98A16B12-8ECC-4F1E-8D84-02213FCF6B11" name="GUID-98A16B12-8ECC-4F1E-8D84-02213FCF6B11"></a><h5 id="ADMIN-GUID-98A16B12-8ECC-4F1E-8D84-02213FCF6B11" class="sect5"><span class="enumeration_section">24.1.5.3</span> DML语句和连接视图的规则</h5>
                     <p>一般规则是连接视图上的任何<code class="codeph">UPDATE</code> ， <code class="codeph">DELETE</code>或<code class="codeph">INSERT</code>语句只能修改一个基础基表。
                     </p>
                     <div>
                        <ul class="ullinks">
                           <li class="ulchildlink"><a href="managing-views-sequences-and-synonyms.html#GUID-077BFD57-3F38-4487-8A92-93ACBB48E2EA">更新语句和连接视图</a><br>示例说明了可以修改连接视图的<code class="codeph">UPDATE</code>语句。
                           </li>
                           <li class="ulchildlink"><a href="managing-views-sequences-and-synonyms.html#GUID-0CEA4437-A0E8-41E6-93DF-096437A21A01">DELETE语句和连接视图</a><br>对于大多数联接视图，仅当联接中<span class="italic">只有一个</span>密钥保留表时，删除才会成功。密钥保留表可以在<code class="codeph">FROM</code>子句中重复。
                           </li>
                           <li class="ulchildlink"><a href="managing-views-sequences-and-synonyms.html#GUID-E19316B2-9560-438D-87FC-683398FE8631">INSERT语句和连接视图</a><br>示例说明了可以修改连接视图的<code class="codeph">INSERT</code>语句。
                           </li>
                        </ul>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="managing-views-sequences-and-synonyms.html#GUID-367FAA9B-269C-41AD-A429-631D144CF36F" title="在连接视图上发出DML语句时适用限制。">DML语句和连接视图</a></p>
                           </div>
                        </div>
                     </div>
                     <a id="ADMIN11785"></a><div class="props_rev_3"><a id="GUID-077BFD57-3F38-4487-8A92-93ACBB48E2EA" name="GUID-077BFD57-3F38-4487-8A92-93ACBB48E2EA"></a><h6 id="ADMIN-GUID-077BFD57-3F38-4487-8A92-93ACBB48E2EA" class="sect6"><span class="enumeration_section">24.1.5.3.1</span> UPDATE语句和连接视图</h6>
                        <div>
                           <p>示例说明了可以修改连接视图的<code class="codeph">UPDATE</code>语句。
                           </p>
                           <p>以下示例显示了成功修改<code class="codeph">emp_dept</code>视图的<code class="codeph">UPDATE</code>语句：</p><pre class="oac_no_warn" dir="ltr">UPDATE emp_dept SET sal = sal * 1.10 WHERE deptno = 10;</pre><p><code class="codeph">emp_dept</code>视图中不允许使用以下<code class="codeph">UPDATE</code>语句：</p><pre class="oac_no_warn" dir="ltr">UPDATE emp_dept SET loc ='BOSTON'WHEREname ='SMITH';</pre><p>此语句失败并显示错误（ <code class="codeph">ORA-01779</code> <code class="codeph">cannot modify a column which maps to a non key-preserved table</code> ），因为它尝试修改基本<code class="codeph">dept</code>表，并且<code class="codeph">dept</code>表未在<code class="codeph">emp_dept</code>视图中进行密钥保留。
                           </p>
                           <p>通常，连接视图的所有可更新列都必须映射到密钥保留表的列。如果使用<code class="codeph">WITH CHECK OPTION</code>子句定义视图，则所有连接列和从视图中多次引用的表中获取的所有列都不可修改。
                           </p>
                           <p>因此，例如，如果使用<code class="codeph">WITH CHECK OPTION</code>定义了<code class="codeph">emp_dept</code>视图，则以下<code class="codeph">UPDATE</code>语句将失败：</p><pre class="oac_no_warn" dir="ltr">UPDATE emp_dept SET deptno = 10 WHERE ename ='SMITH';</pre><p>该语句失败，因为它正在尝试更新连接列。</p>
                        </div>
                        <div>
                           <div class="infoboxnotealso" id="GUID-077BFD57-3F38-4487-8A92-93ACBB48E2EA__GUID-72841343-56F7-41E9-8E25-C6B3FA1B8EED">
                              <p class="notep1">也可以看看：</p>
                              <p>有关<code class="codeph">UPDATE</code>语句的语法和其他信息，请<a href="../sqlrf/UPDATE.html#SQLRF01708" target="_blank"><span class="italic">参见Oracle数据库SQL语言参考</span></a></p>
                           </div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="managing-views-sequences-and-synonyms.html#GUID-98A16B12-8ECC-4F1E-8D84-02213FCF6B11" title="一般规则是连接视图上的任何UPDATE，DELETE或INSERT语句只能修改一个基础基表。">DML语句和连接视图的规则</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div><a id="ADMIN11786"></a><div class="props_rev_3"><a id="GUID-0CEA4437-A0E8-41E6-93DF-096437A21A01" name="GUID-0CEA4437-A0E8-41E6-93DF-096437A21A01"></a><h6 id="ADMIN-GUID-0CEA4437-A0E8-41E6-93DF-096437A21A01" class="sect6"><span class="enumeration_section">24.1.5.3.2</span>删除语句和连接视图</h6>
                        <div>
                           <p>对于大多数联接视图，仅当联接中<span class="italic">只有一个</span>密钥保留表时，删除才会成功。密钥保留表可以在<code class="codeph">FROM</code>子句中重复。
                           </p>
                           <p>以下<code class="codeph">DELETE</code>语句适用于<code class="codeph">emp_dept</code>视图：</p><pre class="oac_no_warn" dir="ltr">DELETE FROM emp_dept WHERE ename ='SMITH';</pre><p><code class="codeph">emp_dept</code>视图上的此<code class="codeph">DELETE</code>语句是合法的，因为它可以转换为基本<code class="codeph">emp</code>表上的<code class="codeph">DELETE</code>操作，并且因为<code class="codeph">emp</code>表是连接中唯一的密钥保留表。
                           </p>
                           <p>在以下视图中，允许执行<code class="codeph">DELETE</code>操作，因为尽管有两个密钥保留表，但它们是同一个表。也就是说，重复保存密钥表。在这种情况下，delete语句在<code class="codeph">FROM</code>子句中的第一个表上运行（在本例中为<code class="codeph">e1</code> ）：</p><pre class="oac_no_warn" dir="ltr">CREATE VIEW emp_emp AS SELECT e1.ename，e2.empno，e2.deptno FROM emp e1，emp e2 WHERE e1.empno = e2.empno;</pre><p>如果使用<code class="codeph">WITH CHECK OPTION</code>子句定义视图并重复保留密钥表，则无法从这样的视图中删除行。
                           </p><pre class="oac_no_warn" dir="ltr">CREATE VIEW emp_mgr AS SELECT e1.ename，e2.ename mname FROM emp e1，emp e2 WHERE e1.mgr = e2.empno WITH CHECK OPTION;</pre><div class="infoboxnote" id="GUID-0CEA4437-A0E8-41E6-93DF-096437A21A01__GUID-E66C5E55-FC58-4D30-9491-1B3D97DCD3DE">
                              <p class="notep1">注意：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>如果<code class="codeph">DELETE</code>语句在其<code class="codeph">WHERE</code>子句中使用与创建视图作为连接条件的相同列，则当连接中存在不同的密钥保留表时，删除操作可以成功。在这种情况下， <code class="codeph">DELETE</code>语句上的第一台运行<code class="codeph">FROM</code>子句中，并在表的<code class="codeph">FROM</code>子句可以从在不同的表<code class="codeph">WHERE</code>子句。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">DELETE</code>语句成功，即使它不使用<code class="codeph">WHERE</code>子句。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">DELETE</code>语句成功，即使它在<code class="codeph">WHERE</code>子句中使用的列不同于用于创建视图作为连接条件的列。
                                    </p>
                                 </li>
                                 <li>
                                    <p>在所有情况下， <code class="codeph">DELETE</code>语句都在<code class="codeph">FROM</code>子句中的第二个表上运行，因为在第二个表上没有定义主键。
                                    </p>
                                 </li>
                                 <li>
                                    <p>如果在第二个表上定义了主键，则<code class="codeph">DELETE</code>语句将在<code class="codeph">FROM</code>子句中的第一个表上运行。
                                    </p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <div>
                           <div class="infoboxnotealso" id="GUID-0CEA4437-A0E8-41E6-93DF-096437A21A01__GUID-D0B97731-64B3-4642-B6B0-3FFD2F515979">
                              <p class="notep1">也可以看看：</p>
                              <p>有关<code class="codeph">DELETE</code>语句的语法和其他信息，请<a href="../sqlrf/DELETE.html#SQLRF01505" target="_blank"><span class="italic">参见Oracle数据库SQL语言参考</span></a></p>
                           </div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="managing-views-sequences-and-synonyms.html#GUID-98A16B12-8ECC-4F1E-8D84-02213FCF6B11" title="一般规则是连接视图上的任何UPDATE，DELETE或INSERT语句只能修改一个基础基表。">DML语句和连接视图的规则</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div><a id="ADMIN11787"></a><div class="props_rev_3"><a id="GUID-E19316B2-9560-438D-87FC-683398FE8631" name="GUID-E19316B2-9560-438D-87FC-683398FE8631"></a><h6 id="ADMIN-GUID-E19316B2-9560-438D-87FC-683398FE8631" class="sect6"><span class="enumeration_section">24.1.5.3.3</span> INSERT语句和连接视图</h6>
                        <div>
                           <p>示例说明了可以修改连接视图的<code class="codeph">INSERT</code>语句。
                           </p>
                           <p><code class="codeph">emp_dept</code>视图上的以下<code class="codeph">INSERT</code>语句成功：</p><pre class="oac_no_warn" dir="ltr">INSERT INTO emp_dept（ename，empno，deptno）VALUES（'KURODA'，9010,40）;</pre><p>此语句有效，因为只修改了一个保留密钥的基表（ <code class="codeph">emp</code> ），而40是<code class="codeph">dept</code>表中的有效<code class="codeph">deptno</code> （从而满足<code class="codeph">emp</code>表上的<code class="codeph">FOREIGN KEY</code>完整性约束）。
                           </p>
                           <p><code class="codeph">INSERT</code>语句（如下所示）将失败，原因与基本<code class="codeph">emp</code>表上的此类<code class="codeph">UPDATE</code>失败的原因相同：违反了<code class="codeph">emp</code>表上的<code class="codeph">FOREIGN KEY</code>完整性约束（因为没有<code class="codeph">deptno</code> 77）。
                           </p><pre class="oac_no_warn" dir="ltr">INSERT INTO emp_dept（ename，empno，deptno）VALUES（'KURODA'，9010,77）;</pre><p>以下<code class="codeph">INSERT</code>语句将失败并显示错误（ <code class="codeph">ORA-01776</code> <code class="codeph">cannot modify more than one base table through a join view</code> ）：</p><pre class="oac_no_warn" dir="ltr">INSERT INTO emp_dept（empno，ename，loc）VALUES（9010，'KURODA'，'BOSTON'）;</pre><p><code class="codeph">INSERT</code>不能隐式或显式引用非密钥保留表的列。如果使用<code class="codeph">WITH CHECK OPTION</code>子句定义连接视图，则无法对其执行<code class="codeph">INSERT</code> 。
                           </p>
                        </div>
                        <div>
                           <div class="infoboxnotealso" id="GUID-E19316B2-9560-438D-87FC-683398FE8631__GUID-651E0FE8-0F61-4046-A7B5-C73EED44AC87">
                              <p class="notep1">也可以看看：</p>
                              <p>有关<code class="codeph">INSERT</code>语句的语法和其他信息，请<a href="../sqlrf/INSERT.html#SQLRF01604" target="_blank"><span class="italic">参见Oracle数据库SQL语言参考</span></a></p>
                           </div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="managing-views-sequences-and-synonyms.html#GUID-98A16B12-8ECC-4F1E-8D84-02213FCF6B11" title="一般规则是连接视图上的任何UPDATE，DELETE或INSERT语句只能修改一个基础基表。">DML语句和连接视图的规则</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                  </div><a id="ADMIN11788"></a><div class="props_rev_3"><a id="GUID-36EDF029-7219-4485-8FC9-EC0D6204CE15" name="GUID-36EDF029-7219-4485-8FC9-EC0D6204CE15"></a><h5 id="ADMIN-GUID-36EDF029-7219-4485-8FC9-EC0D6204CE15" class="sect5"><span class="enumeration_section">24.1.5.4</span>更新涉及外连接的视图</h5>
                     <div>
                        <p>在某些情况下，涉及外连接的视图是可修改的。</p>
                        <div class="section">
                           <p>例如：</p><pre class="oac_no_warn" dir="ltr">CREATE VIEW emp_dept_oj1 AS SELECT empno，ename，e.deptno，dname，loc FROM emp e，dept d WHERE e.deptno = d.deptno（+）;</pre><p>该声明：</p><pre class="oac_no_warn" dir="ltr">SELECT * FROM emp_dept_oj1;</pre><p>结果是：</p><pre class="oac_no_warn" dir="ltr">EMPNO ENAME DEPTNO DNAME LOC ------- ---------- ------- -------------- ------- ------ 7369 SMITH 40操作波士顿7499 ALLEN 30销售芝加哥7566 JONES 20研究DALLAS 7654 MARTIN 30销售芝加哥7698 BLAKE 30销售芝加哥7782 CLARK 10会计纽约7788 SCOTT 20研究DALLAS 7839 KING 10会计纽约7844 TURNER 30销售芝加哥7876 ADAMS 20研究DALLAS 7900 JAMES 30销售芝加哥7902 FORD 20研究DALLAS 7934 MILLER 10会计纽约7521 WARD 30销售芝加哥14行选择。
</pre><p><code class="codeph">emp_dept_oj1</code>的基本<code class="codeph">emp</code>表中的列可以通过视图进行修改，因为<code class="codeph">emp</code>是连接中的密钥保留表。
                           </p>
                           <p>以下视图还包含外部联接：<a id="d232702e2097" class="indexterm-anchor"></a><a id="d232702e2101" class="indexterm-anchor"></a></p><pre class="oac_no_warn" dir="ltr">CREATE VIEW emp_dept_oj2 AS SELECT e.empno，e.ename，e.deptno，d.dname，d.loc FROM emp e，dept d WHERE e.deptno（+）= d.deptno;</pre><p>以下声明：</p><pre class="oac_no_warn" dir="ltr">SELECT * FROM emp_dept_oj2;</pre><p>结果是：</p><pre class="oac_no_warn" dir="ltr">EMPNO ENAME DEPTNO DNAME LOC ---------- ---------- --------- --------------  -  -  7782 CLARK 10会计纽约7839 KING 10会计纽约7934 MILLER 10会计纽约7369 SMITH 20研究DALLAS 7876 ADAMS 20研究DALLAS 7902 FORD 20研究DALLAS 7788 SCOTT 20研究DALLAS 7566 JONES 20研究DALLAS 7499 ALLEN 30 SALES CHICAGO 7698 BLAKE 30 SALES CHICAGO 7654 MARTIN 30 SALES CHICAGO 7900 JAMES 30 SALES CHICAGO 7844 TURNER 30 SALES CHICAGO 7521 WARD 30 SALES CHICAGO OPERATIONS BOSTON 15行入选。
</pre><p>在此视图中， <code class="codeph">emp</code>不再是保留密钥的表，因为连接结果中的<code class="codeph">empno</code>列可以具有空值（前面的<code class="codeph">SELECT</code>语句中的最后一行）。因此，无法在此视图上执行<code class="codeph">UPDATE</code> ， <code class="codeph">DELETE</code>和<code class="codeph">INSERT</code>操作。
                           </p>
                           <p>对于包含其他嵌套视图上的外部联接的视图，如果包含该表的视图或视图合并到其外部视图中，则表是密钥保留的，一直到顶部。正在外部连接的视图目前仅在“简单”时合并。例如：</p><pre class="oac_no_warn" dir="ltr">SELECT col1，col2，...从T;</pre><p>视图的选择列表没有表达式。</p>
                           <p>如果您对视图是否可修改存在疑问，则可以从<code class="codeph">USER_UPDATABLE_COLUMNS</code>视图中进行选择以查看它是否可修改。例如：</p><pre class="oac_no_warn" dir="ltr">SELECT owner，table_name，column_name，updatable FROM USER_UPDATABLE_COLUMNS WHERE TABLE_NAME ='EMP_DEPT_VIEW';</pre><p>这将返回类似于以下内容的输出：</p><pre class="oac_no_warn" dir="ltr">OWNER TABLE_NAME COLUMN_NAM UPD ---------- ---------- ---------- --- SCOTT EMP_DEPT_V EMPNO NO SCOTT EMP_DEPT_V ENAME NO SCOTT EMP_DEPT_V DEPTNO NO SCOTT EMP_DEPT_V DNAME NO SCOTT EMP_DEPT_V LOC未选择5行。</pre></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="managing-views-sequences-and-synonyms.html#GUID-367FAA9B-269C-41AD-A429-631D144CF36F" title="在连接视图上发出DML语句时适用限制。">DML语句和连接视图</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11789"></a><div class="props_rev_3"><a id="GUID-1A4049C2-62FE-4EDA-B01E-5B0C74D56ABF" name="GUID-1A4049C2-62FE-4EDA-B01E-5B0C74D56ABF"></a><h5 id="ADMIN-GUID-1A4049C2-62FE-4EDA-B01E-5B0C74D56ABF" class="sect5"><span class="enumeration_section">24.1.5.5</span>使用UPDATABLE_ COLUMNS视图</h5>
                     <div>
                        <p>一组视图可以帮助您识别固有可更新的连接视图。</p>
                        <div class="section">
                           <div class="tblformal" id="GUID-1A4049C2-62FE-4EDA-B01E-5B0C74D56ABF__GUID-12D0E391-391C-458E-AD7F-F557E4BF1AAF">
                              <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Column 1 lists views that are useful for identifying inherently updatable join views, column 2 describes each view." frame="hsides" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="37%" id="d232702e2197">视图</th>
                                       <th align="left" valign="bottom" width="63%" id="d232702e2200">描述</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="37%" id="d232702e2205" headers="d232702e2197 ">
                                          <p><code class="codeph">DBA_UPDATABLE_COLUMNS</code> 
                                          </p>
                                       </td>
                                       <td align="left" valign="top" width="63%" headers="d232702e2205 d232702e2200 ">
                                          <p>显示可修改的所有表和视图中的所有列。</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="37%" id="d232702e2214" headers="d232702e2197 ">
                                          <p><code class="codeph">ALL_UPDATABLE_COLUMNS</code> 
                                          </p>
                                       </td>
                                       <td align="left" valign="top" width="63%" headers="d232702e2214 d232702e2200 ">
                                          <p>显示可修改的用户可访问的所有表和视图中的所有列。</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="37%" id="d232702e2223" headers="d232702e2197 ">
                                          <p><code class="codeph">USER_UPDATABLE_COLUMNS</code> 
                                          </p>
                                       </td>
                                       <td align="left" valign="top" width="63%" headers="d232702e2223 d232702e2200 ">
                                          <p>显示用户架构中可修改的所有表和视图中的所有列。</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                           <p>视图<code class="codeph">emp_dept</code>中的可更新列如下所示。
                           </p><pre class="oac_no_warn" dir="ltr">SELECT COLUMN_NAME，UPDATABLE FROM USER_UPDATABLE_COLUMNS WHERE TABLE_NAME ='EMP_DEPT'; COLUMN_NAME UPD ------------------------------ --- EMPNO YES ENAME YES DEPTNO YES SAL YES DNAME NO LOC NO 6行被选中。</pre></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-1A4049C2-62FE-4EDA-B01E-5B0C74D56ABF__GUID-7FDECE2E-1E6C-4BA6-B1B7-4FEA030CCB37">
                           <p class="notep1">也可以看看：</p>
                           <p>有关可更新列视图的完整描述，请<a href="../refrn/ALL_UPDATABLE_COLUMNS.html#REFRN20301" target="_blank"><span class="italic">参见Oracle数据库参考</span></a></p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="managing-views-sequences-and-synonyms.html#GUID-367FAA9B-269C-41AD-A429-631D144CF36F" title="在连接视图上发出DML语句时适用限制。">DML语句和连接视图</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="ADMIN11790"></a><div class="props_rev_3"><a id="GUID-B9CE3911-8EBE-4214-A0C0-E67AD83821A0" name="GUID-B9CE3911-8EBE-4214-A0C0-E67AD83821A0"></a><h4 id="ADMIN-GUID-B9CE3911-8EBE-4214-A0C0-E67AD83821A0" class="sect4"><span class="enumeration_section">24.1.6</span>改变视图</h4>
                  <div>
                     <p>您只能使用<code class="codeph">ALTER VIEW</code>语句显式重新编译无效的视图。
                     </p>
                     <div class="section">
                        <p>要更改视图的定义，请参阅<span class="q">“ <a href="managing-views-sequences-and-synonyms.html#GUID-A742CBEF-A66F-421F-94EC-7B492A81AE82" title="您可以通过删除并重新创建视图或发出包含OR REPLACE子句的CREATE VIEW语句来替换视图。">替换视图</a> ”</span> 。
                        </p>
                        <p><code class="codeph">ALTER VIEW</code>语句允许您在运行时之前找到重新编译错误。要确保更改不会影响视图或依赖于它的其他对象，可以在更改其一个基表后显式重新编译视图。
                        </p>
                        <p>要使用<code class="codeph">ALTER VIEW</code>语句，视图必须位于架构中，或者您必须具有<code class="codeph">ALTER ANY TABLE</code>系统特权。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-B9CE3911-8EBE-4214-A0C0-E67AD83821A0__GUID-3AE2B575-ACA3-4A54-A750-455CFCFE2B5E">
                        <p class="notep1">也可以看看：</p>
                        <p>有关<code class="codeph">ALTER VIEW</code>语句的语法和其他信息，请<a href="../sqlrf/ALTER-VIEW.html#SQLRF01104" target="_blank"><span class="italic">参见Oracle数据库SQL语言参考</span></a></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-views-sequences-and-synonyms.html#GUID-6A691576-77B3-4DAF-ABC7-3EF4707302D4" title="您可以执行创建视图，替换视图，更改视图和删除视图等任务。">管理视图</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11791"></a><div class="props_rev_3"><a id="GUID-A075DF08-BEC2-413F-8444-E9B588A1C34F" name="GUID-A075DF08-BEC2-413F-8444-E9B588A1C34F"></a><h4 id="ADMIN-GUID-A075DF08-BEC2-413F-8444-E9B588A1C34F" class="sect4"><span class="enumeration_section">24.1.7</span>删除视图</h4>
                  <div>
                     <p>您可以使用<code class="codeph">DROP VIEW</code>语句<code class="codeph">DROP VIEW</code> 。
                     </p>
                     <div class="section">
                        <p>您可以删除架构中包含的任何视图。要在另一个用户的模式中删除视图，您必须具有<code class="codeph">DROP ANY VIEW</code>系统特权。使用<code class="codeph">DROP VIEW</code>语句<code class="codeph">DROP VIEW</code> 。例如，以下语句将删除<code class="codeph">emp_dept</code>视图：</p><pre class="oac_no_warn" dir="ltr">DROP VIEW emp_dept;</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-A075DF08-BEC2-413F-8444-E9B588A1C34F__GUID-C74E8879-093B-447B-8BCF-CFA509D5C5E9">
                        <p class="notep1">也可以看看：</p>
                        <p>有关<code class="codeph">DROP VIEW</code>语句的语法和其他信息，请<a href="../sqlrf/DROP-VIEW.html#SQLRF01812" target="_blank"><span class="italic">参见Oracle数据库SQL语言参考</span></a></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-views-sequences-and-synonyms.html#GUID-6A691576-77B3-4DAF-ABC7-3EF4707302D4" title="您可以执行创建视图，替换视图，更改视图和删除视图等任务。">管理视图</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADMIN11792"></a><div class="props_rev_3"><a id="GUID-50B77DCA-C44E-488C-B281-7478A01E842E" name="GUID-50B77DCA-C44E-488C-B281-7478A01E842E"></a><h3 id="ADMIN-GUID-50B77DCA-C44E-488C-B281-7478A01E842E" class="sect3"><span class="enumeration_section">24.2</span>管理序列</h3>
               <p>您可以执行创建序列，更改序列，使用序列和删除序列等任务。</p>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-views-sequences-and-synonyms.html#GUID-34C1DC70-4ECA-432B-9177-46CD6CEBF402">关于序列</a><br><span class="bold">序列</span>是数据库对象，多个用户可以从中生成唯一的整数。序列生成器生成序列号，可用于自动生成唯一主键，以及跨多个行或表协调键。
                     </li>
                     <li class="ulchildlink"><a href="managing-views-sequences-and-synonyms.html#GUID-700340BB-7517-4994-B9DA-348E6113DD57">创建序列</a><br>使用<code class="codeph">CREATE SEQUENCE</code>语句<code class="codeph">CREATE SEQUENCE</code> 。
                     </li>
                     <li class="ulchildlink"><a href="managing-views-sequences-and-synonyms.html#GUID-5ABC0615-BE0C-48CE-BD18-C86AAF7DF953">改变序列</a><br>使用<code class="codeph">ALTER SEQUENCE</code>语句<code class="codeph">ALTER SEQUENCE</code> 。
                     </li>
                     <li class="ulchildlink"><a href="managing-views-sequences-and-synonyms.html#GUID-DC2435F7-8A10-4D44-B4FF-7731358B3A17">使用序列</a><br>可以由多个用户访问和递增序列。
                     </li>
                     <li class="ulchildlink"><a href="managing-views-sequences-and-synonyms.html#GUID-699DAF68-D288-46C0-B577-CA9477B11209">丢弃序列</a><br>如果不再需要序列，则可以使用<code class="codeph">DROP SEQUENCE</code>语句<code class="codeph">DROP SEQUENCE</code> 。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="managing-views-sequences-and-synonyms.html#GUID-11AE4E2F-B193-4FEE-89C5-62C1CB7ABCC5" title="您可以使用Oracle数据库创建和管理视图，序列和同义词。">管理视图，序列和同义词</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN11793"></a><div class="props_rev_3"><a id="GUID-34C1DC70-4ECA-432B-9177-46CD6CEBF402" name="GUID-34C1DC70-4ECA-432B-9177-46CD6CEBF402"></a><h4 id="ADMIN-GUID-34C1DC70-4ECA-432B-9177-46CD6CEBF402" class="sect4"><span class="enumeration_section">24.2.1</span>关于序列</h4>
                  <div>
                     <p><span class="bold">序列</span>是数据库对象，多个用户可以从中生成唯一的整数。序列生成器生成序列号，可用于自动生成唯一主键，以及跨多个行或表协调键。
                     </p>
                     <p>如果没有序列，则只能以编程方式生成顺序值。通过选择最近生成的值并递增它，可以获得新的主键值。此方法在事务期间需要锁定并导致多个用户等待主键的下一个值;这种等待被称为<span class="bold">序列化</span> 。如果开发人员在应用程序中有这样的结构，那么你应该鼓励开发人员用序列访问来替换它们。序列消除了序列化并改善了应用程序的并发性。
                     </p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-34C1DC70-4ECA-432B-9177-46CD6CEBF402__GUID-B2B2946B-A8D2-4E29-A9F1-A09ACCB17E91">
                        <p class="notep1">也可以看看：</p>
                        <p>有关序列概述的<a href="../cncpt/partitions-views-and-other-schema-objects.html#CNCPT611" target="_blank"><span class="italic">Oracle数据库概念</span></a></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-views-sequences-and-synonyms.html#GUID-50B77DCA-C44E-488C-B281-7478A01E842E" title="您可以执行创建序列，更改序列，使用序列和删除序列等任务。">管理序列</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11794"></a><div class="props_rev_3"><a id="GUID-700340BB-7517-4994-B9DA-348E6113DD57" name="GUID-700340BB-7517-4994-B9DA-348E6113DD57"></a><h4 id="ADMIN-GUID-700340BB-7517-4994-B9DA-348E6113DD57" class="sect4"><span class="enumeration_section">24.2.2</span>创建序列</h4>
                  <div>
                     <p>使用<code class="codeph">CREATE SEQUENCE</code>语句<code class="codeph">CREATE SEQUENCE</code> 。
                     </p>
                     <div class="section">
                        <p>要在架构中创建序列，您必须具有<code class="codeph">CREATE SEQUENCE</code>系统特权。要在另一个用户的模式中创建序列，您必须具有<code class="codeph">CREATE ANY SEQUENCE</code>特权。
                        </p>
                        <p>例如，以下语句创建用于为<code class="codeph">emp</code>表的<code class="codeph">empno</code>列生成员工编号的序列：</p><pre class="oac_no_warn" dir="ltr">创建序列emp_sequence以1个NOMAXVALUE NOCYCLE CACHE 10开始增加;</pre><p>请注意，可以指定几个参数来控制序列的功能。您可以使用这些参数来指示序列是升序还是降序，序列的起始点，最小值和最大值以及序列值之间的间隔。<code class="codeph">NOCYCLE</code>选项表示序列在达到其最大值或最小值后无法生成更多值。
                        </p>
                        <p><code class="codeph">CACHE</code>子句预先分配一组序列号并将它们保存在内存中，以便可以更快地访问序列号。当使用高速缓存中的最后一个序列号时，数据库将另一组数字读入高速缓存。
                        </p>
                        <p>如果您选择缓存一组序列号，数据库可能会跳过序列号。例如，当实例异常关闭时（例如，当发生实例故障或发出<code class="codeph">SHUTDOWN ABORT</code>语句时），已经缓存但未使用的序列号将丢失。此外，已使用但未保存的序列号也会丢失。导出和导入后，数据库也可能会跳过缓存的序列号。有关详细信息，请参见<a href="../sutil/oracle-original-export-utility.html#SUTIL3665" target="_blank"><span class="italic">Oracle Database Utilities</span></a> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-700340BB-7517-4994-B9DA-348E6113DD57__GUID-0E18AC47-87C2-4A85-AC9D-A4DEE099C679">
                        <p class="notep1">也可以看看：</p>
                        <p></p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>用于<code class="codeph">CREATE SEQUENCE</code>语句语法的<a href="../sqlrf/CREATE-SEQUENCE.html#SQLRF01314" target="_blank"><span class="italic">Oracle数据库SQL语言参考</span></a></p>
                           </li>
                           <li>
                              <p><a href="../racad/design-and-deployment-techniques.html#RACAD7387" target="_blank"><span class="italic">“Oracle Real Application Clusters管理和部署指南”</span></a> <a id="d232702e2646" class="indexterm-anchor"></a><a id="d232702e2650" class="indexterm-anchor"></a>有关在Oracle Real Application Clusters环境中使用序列的信息</p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-views-sequences-and-synonyms.html#GUID-50B77DCA-C44E-488C-B281-7478A01E842E" title="您可以执行创建序列，更改序列，使用序列和删除序列等任务。">管理序列</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11795"></a><div class="props_rev_3"><a id="GUID-5ABC0615-BE0C-48CE-BD18-C86AAF7DF953" name="GUID-5ABC0615-BE0C-48CE-BD18-C86AAF7DF953"></a><h4 id="ADMIN-GUID-5ABC0615-BE0C-48CE-BD18-C86AAF7DF953" class="sect4"><span class="enumeration_section">24.2.3</span>改变序列</h4>
                  <div>
                     <p>使用<code class="codeph">ALTER SEQUENCE</code>语句<code class="codeph">ALTER SEQUENCE</code> 。
                     </p>
                     <div class="section">
                        <p>要更改序列，您的模式必须包含序列，您必须具有序列的<code class="codeph">ALTER</code>对象特权，或者您必须具有<code class="codeph">ALTER ANY SEQUENCE</code>系统特权。您可以更改序列以更改定义其生成序列号的方式的任何参数。要更改序列的起始点，可以删除序列然后重新创建它，或使用<code class="codeph">RESTART</code>子句从指定值重新启动序列。<code class="codeph">RESTART</code>子句中指定的值必须介于序列的<code class="codeph">MINVALUE</code>和<code class="codeph">MAXVALUE</code>参数值之间。
                        </p>
                        <p>以下示例更改<code class="codeph">emp_sequence</code>序列：</p><pre class="oac_no_warn" dir="ltr">ALTER SEQUENCE emp_sequence增加10 MAXVALUE 10000 CYCLE CACHE 20;</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-5ABC0615-BE0C-48CE-BD18-C86AAF7DF953__GUID-593CC382-2272-4261-B696-24F77C4E53A8">
                        <p class="notep1">也可以看看：</p>
                        <p>有关<code class="codeph">ALTER SEQUENCE</code>语句的语法和其他信息，请<a href="../sqlrf/ALTER-SEQUENCE.html#SQLRF00817" target="_blank"><span class="italic">参见Oracle数据库SQL语言参考</span></a></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-views-sequences-and-synonyms.html#GUID-50B77DCA-C44E-488C-B281-7478A01E842E" title="您可以执行创建序列，更改序列，使用序列和删除序列等任务。">管理序列</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11796"></a><div class="props_rev_3"><a id="GUID-DC2435F7-8A10-4D44-B4FF-7731358B3A17" name="GUID-DC2435F7-8A10-4D44-B4FF-7731358B3A17"></a><h4 id="ADMIN-GUID-DC2435F7-8A10-4D44-B4FF-7731358B3A17" class="sect4"><span class="enumeration_section">24.2.4</span>使用序列</h4>
                  <div>
                     <p>可以由多个用户访问和递增序列。</p>
                     <div class="section">
                        <p>要使用序列，您的模式必须包含序列，或者您必须已为其他用户的序列授予<code class="codeph">SELECT</code>对象特权。定义序列后，可以由多个用户（对包含序列的序列具有<code class="codeph">SELECT</code>对象特权）进行访问和递增，而无需等待。数据库不会等待已递增序列的事务完成，然后该序列可以再次递增。
                        </p>
                        <p>以下部分中概述的示例显示了如何在主/明细表关系中使用序列。假设订单输入系统部分包含两个表， <code class="codeph">orders_tab</code> （主表）和<code class="codeph">line_items_tab</code> （详细信息表），它们保存有关客户订单的信息。名为<code class="codeph">order_seq</code>的序列由以下语句定义：</p><pre class="oac_no_warn" dir="ltr">创建序列Order_seq以1个NOMAXVALUE NOCYCLE CACHE为1开始增加;</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="managing-views-sequences-and-synonyms.html#GUID-B307B82C-EAF8-4D7E-A8B2-C1D04F28208F">引用序列</a><br>在SQL语句中使用<code class="codeph">NEXTVAL</code>和<code class="codeph">CURRVAL</code>伪列引用序列;通过对序列伪列<code class="codeph">NEXTVAL</code>的引用生成每个新序列号，而可以使用伪列<code class="codeph">CURRVAL</code>重复引用当前序列号。</li>
                        <li class="ulchildlink"><a href="managing-views-sequences-and-synonyms.html#GUID-83FA2D7D-6119-4182-94EA-60554024A2CE">缓存序列号</a><br>缓存序列号可以缩短访问时间。
                        </li>
                        <li class="ulchildlink"><a href="managing-views-sequences-and-synonyms.html#GUID-76663C84-D792-46A3-A25A-03C49DED71AD">使序列可扩展</a><br>通过在<code class="codeph">CREATE SEQUENCE</code>或<code class="codeph">ALTER SEQUENCE</code>语句中指定<code class="codeph">SCALE</code>子句，可以使序列可<span class="italic">伸缩</span> 。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-views-sequences-and-synonyms.html#GUID-50B77DCA-C44E-488C-B281-7478A01E842E" title="您可以执行创建序列，更改序列，使用序列和删除序列等任务。">管理序列</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADMIN11797"></a><div class="props_rev_3"><a id="GUID-B307B82C-EAF8-4D7E-A8B2-C1D04F28208F" name="GUID-B307B82C-EAF8-4D7E-A8B2-C1D04F28208F"></a><h5 id="ADMIN-GUID-B307B82C-EAF8-4D7E-A8B2-C1D04F28208F" class="sect5"><span class="enumeration_section">24.2.4.1</span>引用序列</h5>
                     <div>
                        <p>在SQL语句中使用<code class="codeph">NEXTVAL</code>和<code class="codeph">CURRVAL</code>伪列引用序列;通过对序列伪列<code class="codeph">NEXTVAL</code>的引用生成每个新序列号，而可以使用伪列<code class="codeph">CURRVAL</code>重复引用当前序列号。</p>
                        <p>   </p>
                        <p><code class="codeph">NEXTVAL</code>和<code class="codeph">CURRVAL</code>不是保留字或关键字，可以在SQL语句（如<code class="codeph">SELECT</code> ， <code class="codeph">INSERT</code>或<code class="codeph">UPDATE</code>用作伪列名。</p>
                     </div>
                     <div>
                        <ul class="ullinks">
                           <li class="ulchildlink"><a href="managing-views-sequences-and-synonyms.html#GUID-FA6B9399-CEEC-4792-BFF2-C1F18978829D">使用NEXTVAL生成序列号</a><br>要生成和使用序列号，请参考<span class="italic">seq_name</span> 。<code class="codeph">NEXTVAL</code>在SQL语句中。
                           </li>
                           <li class="ulchildlink"><a href="managing-views-sequences-and-synonyms.html#GUID-84B80703-FF67-4993-9186-8D6710F8ABDF">使用CURRVAL的序列号</a><br>要使用或引用会话的当前序列值，请参考<span class="italic">seq_name</span> 。SQL语句中的<code class="codeph">CURRVAL</code> 。
                           </li>
                           <li class="ulchildlink"><a href="managing-views-sequences-and-synonyms.html#GUID-AE937BAB-AA5C-4857-AC44-E85AFF091F68">NEXTVAL和CURRVAL的使用和限制</a><br><code class="codeph">CURRVAL</code>和<code class="codeph">NEXTVAL</code>可以在特定的地方使用，并且限制适用于它们的使用。
                           </li>
                        </ul>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="managing-views-sequences-and-synonyms.html#GUID-DC2435F7-8A10-4D44-B4FF-7731358B3A17" title="可以由多个用户访问和递增序列。">使用序列</a></p>
                           </div>
                        </div>
                     </div>
                     <a id="ADMIN11798"></a><div class="props_rev_3"><a id="GUID-FA6B9399-CEEC-4792-BFF2-C1F18978829D" name="GUID-FA6B9399-CEEC-4792-BFF2-C1F18978829D"></a><h6 id="ADMIN-GUID-FA6B9399-CEEC-4792-BFF2-C1F18978829D" class="sect6"><span class="enumeration_section">24.2.4.1.1</span>使用NEXTVAL生成序列号</h6>
                        <div>
                           <p>要生成和使用序列号，请参考<span class="italic">seq_name</span> 。<code class="codeph">NEXTVAL</code>在SQL语句中。
                           </p>
                           <div class="section">
                              <p>例如，假设客户下订单。序列号可以在值列表中引用。例如：</p><pre class="oac_no_warn" dir="ltr">INSERT INTO Orders_tab（Orderno，Custno）VALUES（Order_seq。NEXTVAL，1032）;</pre><p>或者，序列号可以在<code class="codeph">UPDATE</code>语句的<code class="codeph">SET</code>子句中引用。例如：</p><pre class="oac_no_warn" dir="ltr">UPDATE Orders_tab SET Orderno = Order_seq。NEXTVAL WHERE Orderno = 10112;</pre><p>序列号也可以引用查询或子查询的最外层<code class="codeph">SELECT</code> 。例如：</p><pre class="oac_no_warn" dir="ltr">SELECT Order_seq。NEXTVAL来自双重;</pre><p>如定义，第一次引用<code class="codeph">order_seq.NEXTVAL</code>返回值1。每个引用<code class="codeph">order_seq.后续语句<code class="codeph">order_seq.NEXTVAL</code>生成下一个序列号（2,3,4，...）。伪列<code class="codeph">NEXTVAL</code>可用于根据需要生成尽可能多的新序列号。但是，每行只能生成一个序列号。换句话说，如果在单个语句中多次引用<code class="codeph">NEXTVAL</code> ，则第一个引用生成下一个数字，并且语句中的所有后续引用返回相同的数字。
                              </p>
                              <p>生成序列号后，序列号仅可用于生成该号码的会话。独立于提交或回滚的事务，其他用户引用<code class="codeph">order_seq.NEXTVAL</code>获得独特的价值。如果两个用户同时访问相同的序列，则每个用户接收的序列号可能有间隙，因为序列号也是由另一个用户生成的。
                              </p>
                           </div>
                           <!-- class="section" -->
                        </div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="managing-views-sequences-and-synonyms.html#GUID-B307B82C-EAF8-4D7E-A8B2-C1D04F28208F" title="在SQL语句中使用NEXTVAL和CURRVAL伪列引用序列;通过对序列伪列NEXTVAL的引用生成每个新序列号，而可以使用伪列CURRVAL重复引用当前序列号。">引用序列</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div><a id="ADMIN11799"></a><div class="props_rev_3"><a id="GUID-84B80703-FF67-4993-9186-8D6710F8ABDF" name="GUID-84B80703-FF67-4993-9186-8D6710F8ABDF"></a><h6 id="ADMIN-GUID-84B80703-FF67-4993-9186-8D6710F8ABDF" class="sect6"><span class="enumeration_section">24.2.4.1.2</span>使用CURRVAL的序列号</h6>
                        <div>
                           <p>要使用或引用会话的当前序列值，请参考<span class="italic">seq_name</span> 。SQL语句中的<code class="codeph">CURRVAL</code> 。
                           </p>
                           <div class="section">
                              <p><code class="codeph">CURRVAL</code>只能在<span class="italic">seq_name中使用</span> 。<code class="codeph">NEXTVAL</code>已在当前用户会话中引用（在当前或先前的事务中）。<code class="codeph">CURRVAL</code>可以根据需要多次引用，包括在同一语句中多次。在引用<code class="codeph">NEXTVAL</code>之前，不会生成下一个序列号。继续前面的示例，您将通过插入订单的订单项来完成客户订单的下达：</p><pre class="oac_no_warn" dir="ltr">INSERT INTO Line_items_tab（Orderno，Partno，Quantity）VALUES（Order_seq。CURRVAL，20321,3）; INSERT INTO Line_items_tab（Orderno，Partno，Quantity）VALUES（Order_seq。CURRVAL，29374,1）;</pre><p>假设前一节中给出的<code class="codeph">INSERT</code>语句生成了一个新的序列号347，本节中的语句插入的两行都插入订单号为347的行。
                              </p>
                           </div>
                           <!-- class="section" -->
                        </div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="managing-views-sequences-and-synonyms.html#GUID-B307B82C-EAF8-4D7E-A8B2-C1D04F28208F" title="在SQL语句中使用NEXTVAL和CURRVAL伪列引用序列;通过对序列伪列NEXTVAL的引用生成每个新序列号，而可以使用伪列CURRVAL重复引用当前序列号。">引用序列</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div><a id="ADMIN11800"></a><div class="props_rev_3"><a id="GUID-AE937BAB-AA5C-4857-AC44-E85AFF091F68" name="GUID-AE937BAB-AA5C-4857-AC44-E85AFF091F68"></a><h6 id="ADMIN-GUID-AE937BAB-AA5C-4857-AC44-E85AFF091F68" class="sect6"><span class="enumeration_section">24.2.4.1.3</span> NEXTVAL和CURRVAL的使用和限制</h6>
                        <div>
                           <p><code class="codeph">CURRVAL</code>和<code class="codeph">NEXTVAL</code>可以在特定的地方使用，并且限制适用于它们的使用。
                           </p>
                           <p><code class="codeph">CURRVAL</code>和<code class="codeph">NEXTVAL</code>可用于以下场所：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">INSERT</code>语句的<code class="codeph">VALUES</code>子句</p>
                              </li>
                              <li>
                                 <p><code class="codeph">SELECT</code>语句的<code class="codeph">SELECT</code>列表</p>
                              </li>
                              <li>
                                 <p>视图查询或物化视图查询</p>
                                 <p>但是，在物化视图查询中使用<code class="codeph">CURRVAL</code>和<code class="codeph">NEXTVAL</code>会使物化视图变得复杂。因此，它无法快速刷新。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">UPDATE</code>语句的<code class="codeph">SET</code>子句</p>
                              </li>
                           </ul>
                           <p><code class="codeph">CURRVAL</code>和<code class="codeph">NEXTVAL</code>不能在以下地方使用：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>子查询</p>
                              </li>
                              <li>
                                 <p>带有<code class="codeph">DISTINCT</code>运算符的<code class="codeph">SELECT</code>语句</p>
                              </li>
                              <li>
                                 <p>带有<code class="codeph">GROUP</code> <code class="codeph">BY</code>或<code class="codeph">ORDER</code> <code class="codeph">BY</code>子句的<code class="codeph">SELECT</code>语句</p>
                              </li>
                              <li>
                                 <p>一个<code class="codeph">SELECT</code>与另一个合并报表<code class="codeph">SELECT</code>用语句<code class="codeph">UNION,</code> <code class="codeph">INTERSECT</code> ，或者<code class="codeph">MINUS</code>集合运算符</p>
                              </li>
                              <li>
                                 <p><code class="codeph">SELECT</code>语句的<code class="codeph">WHERE</code>子句</p>
                              </li>
                              <li>
                                 <p><code class="codeph">CHECK</code>约束的条件</p>
                              </li>
                           </ul>
                        </div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="managing-views-sequences-and-synonyms.html#GUID-B307B82C-EAF8-4D7E-A8B2-C1D04F28208F" title="在SQL语句中使用NEXTVAL和CURRVAL伪列引用序列;通过对序列伪列NEXTVAL的引用生成每个新序列号，而可以使用伪列CURRVAL重复引用当前序列号。">引用序列</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-83FA2D7D-6119-4182-94EA-60554024A2CE" name="GUID-83FA2D7D-6119-4182-94EA-60554024A2CE"></a><h5 id="ADMIN-GUID-83FA2D7D-6119-4182-94EA-60554024A2CE" class="sect5"><span class="enumeration_section">24.2.4.2</span>缓存序列号</h5>
                     <p>缓存序列号可以缩短访问时间。</p>
                     <div>
                        <ul class="ullinks">
                           <li class="ulchildlink"><a href="managing-views-sequences-and-synonyms.html#GUID-4784BED5-E5C1-495F-8C2A-A7B7BC68A5D6">关于缓存序列号</a><br>序列号可以保存在系统全局区（SGA）的序列高速缓存中。序列号可以在序列缓存中更快地访问，而不是从磁盘读取。
                           </li>
                           <li class="ulchildlink"><a href="managing-views-sequences-and-synonyms.html#GUID-653E4E0C-6947-4B19-86C6-AB88DB3CFEC9">序列缓存中的条目数</a><br>当应用程序访问序列高速缓存中的序列时，将快速读取序列号。但是，如果应用程序访问不在高速缓存中的序列，则必须在使用序列号之前将序列从磁盘读取到高速缓存。
                           </li>
                           <li class="ulchildlink"><a href="managing-views-sequences-and-synonyms.html#GUID-9375334D-C318-4268-95A9-9B0A2AAA2DB0">每个序列缓存条目中的值数</a><br>当序列被读入序列高速缓存时，生成序列值并将其存储在高速缓存条目中。然后可以快速访问这些值。
                           </li>
                        </ul>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="managing-views-sequences-and-synonyms.html#GUID-DC2435F7-8A10-4D44-B4FF-7731358B3A17" title="可以由多个用户访问和递增序列。">使用序列</a></p>
                           </div>
                        </div>
                     </div>
                     <a id="ADMIN11801"></a><div class="props_rev_3"><a id="GUID-4784BED5-E5C1-495F-8C2A-A7B7BC68A5D6" name="GUID-4784BED5-E5C1-495F-8C2A-A7B7BC68A5D6"></a><h6 id="ADMIN-GUID-4784BED5-E5C1-495F-8C2A-A7B7BC68A5D6" class="sect6"><span class="enumeration_section">24.2.4.2.1</span>关于缓存序列号</h6>
                        <div>
                           <p>序列号可以保存在系统全局区（SGA）的序列高速缓存中。序列号可以在序列缓存中更快地访问，而不是从磁盘读取。</p>
                           <p>序列缓存由条目组成。每个条目可以保存单个序列的许多序列号。</p>
                           <p>请遵循以下准则以快速访问所有序列号：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>确保序列缓存可以保存应用程序同时使用的所有序列。</p>
                              </li>
                              <li>
                                 <p>增加序列缓存中保留的每个序列的值数。</p>
                              </li>
                           </ul>
                        </div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="managing-views-sequences-and-synonyms.html#GUID-83FA2D7D-6119-4182-94EA-60554024A2CE" title="缓存序列号可以缩短访问时间。">缓存序列号</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div><a id="ADMIN11802"></a><div class="props_rev_3"><a id="GUID-653E4E0C-6947-4B19-86C6-AB88DB3CFEC9" name="GUID-653E4E0C-6947-4B19-86C6-AB88DB3CFEC9"></a><h6 id="ADMIN-GUID-653E4E0C-6947-4B19-86C6-AB88DB3CFEC9" class="sect6"><span class="enumeration_section">24.2.4.2.2</span>序列缓存中的条目数</h6>
                        <div>
                           <p>当应用程序访问序列高速缓存中的序列时，将快速读取序列号。但是，如果应用程序访问不在高速缓存中的序列，则必须在使用序列号之前将序列从磁盘读取到高速缓存。</p>
                           <p>如果您的应用程序同时使用多个序列，那么序列缓存可能不足以容纳所有序列。在这种情况下，访问序列号可能通常需要磁盘读取。要快速访问所有序列，请确保您的缓存有足够的条目来保存应用程序同时使用的所有序列。</p>
                        </div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="managing-views-sequences-and-synonyms.html#GUID-83FA2D7D-6119-4182-94EA-60554024A2CE" title="缓存序列号可以缩短访问时间。">缓存序列号</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div><a id="ADMIN11803"></a><div class="props_rev_3"><a id="GUID-9375334D-C318-4268-95A9-9B0A2AAA2DB0" name="GUID-9375334D-C318-4268-95A9-9B0A2AAA2DB0"></a><h6 id="ADMIN-GUID-9375334D-C318-4268-95A9-9B0A2AAA2DB0" class="sect6"><span class="enumeration_section">24.2.4.2.3</span>每个序列高速缓存条目中的值数</h6>
                        <div>
                           <p>当序列被读入序列高速缓存时，生成序列值并将其存储在高速缓存条目中。然后可以快速访问这些值。</p>
                           <p>存储在高速缓存中的序列值的数量由<code class="codeph">CREATE</code> <code class="codeph">SEQUENCE</code>语句中的<code class="codeph">CACHE</code>参数确定。此参数的默认值为20。
                           </p>
                           <p>此<code class="codeph">CREATE</code> <code class="codeph">SEQUENCE</code>语句创建<code class="codeph">seq2</code>序列，以便序列的50个值存储在<code class="codeph">SEQUENCE</code>缓存中：</p><pre class="oac_no_warn" dir="ltr">创建序列seq2 CACHE 50 <span class="bold">;</span>
</pre><p>然后可以从高速缓存中读取<code class="codeph">seq2</code>的前50个值。访问第51个值时，将从磁盘读取接下来的50个值。
                           </p>
                           <p>为<code class="codeph">CACHE</code>选择一个较高的值可以访问更多连续的序列号，从磁盘到序列缓存的读取次数更少。但是，如果存在实例故障，则缓存中的所有序列值都将丢失。如果事务在导出运行时继续访问序列号，则导出和导入后也可以跳过缓存的序列号。
                           </p>
                           <p>如果在<code class="codeph">CREATE</code> <code class="codeph">SEQUENCE</code>语句中使用<code class="codeph">NOCACHE</code>选项，则<code class="codeph">SEQUENCE</code>的值不会存储在序列高速缓存中。在这种情况下，每次访问序列都需要磁盘读取。此类磁盘读取对序列的访问速度较慢。此<code class="codeph">CREATE</code> <code class="codeph">SEQUENCE</code>语句创建<code class="codeph">SEQ3</code>序列，以便其值永远不会存储在缓存中：</p><pre class="oac_no_warn" dir="ltr">创建序列seq3 NOCACHE;</pre></div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="managing-views-sequences-and-synonyms.html#GUID-83FA2D7D-6119-4182-94EA-60554024A2CE" title="缓存序列号可以缩短访问时间。">缓存序列号</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                  </div>
                  <div class="props_rev_3"><a id="GUID-76663C84-D792-46A3-A25A-03C49DED71AD" name="GUID-76663C84-D792-46A3-A25A-03C49DED71AD"></a><h5 id="ADMIN-GUID-76663C84-D792-46A3-A25A-03C49DED71AD" class="sect5"><span class="enumeration_section">24.2.4.3</span>使序列可扩展</h5>
                     <div>
                        <p>通过在<code class="codeph">CREATE SEQUENCE</code>或<code class="codeph">ALTER SEQUENCE</code>语句中指定<code class="codeph">SCALE</code>子句，可以使序列可<span class="italic">伸缩</span> 。
                        </p>
                        <p>当用于为具有高并发性的数据摄取工作负载生成无序主键或唯一键时，可伸缩序列特别有效。单个Oracle数据库实例以及Oracle RAC数据库均受益于此功能。与使用<code class="codeph">CREATE SEQUENCE</code>或<code class="codeph">ALTER SEQUENCE</code>语句的<code class="codeph">CACHE</code>子句配置非常大的序列高速缓存的解决方案相比，可扩展序列显着减少了序列和索引块争用，并提供了更好的数据加载可伸缩性。
                        </p>
                        <div class="infoboxnote" id="GUID-76663C84-D792-46A3-A25A-03C49DED71AD__INADDITIONTOUSINGASCALABLESEQUENCEY-087FEFD3">
                           <p class="notep1">注意：</p>
                           <p>除了使用可伸缩序列之外，您还可以对数据进行分区以提高数据加载操作的性能。</p>
                        </div>
                        <p>以下是定义可伸缩序列的语法：</p><pre class="pre codeblock"><code>创建| ALTER SEQUENCE sequence_name ...SCALE [EXTEND | NOEXTEND] | NOSCALE ......</code></pre><p>指定<code class="codeph">SCALE</code>子句时， <span class="italic">序列的数字</span>前缀为6位数字<span class="italic">可伸缩序列偏移号</span> ：</p><pre class="pre codeblock"><code>可伸缩序列号= 6位可伸缩序列偏移号||正常的序列号</code></pre><p>哪里，</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">||</code>是连接运算符。
                              </p>
                           </li>
                           <li>
                              <p>6位可伸缩序列偏移号= 3位<span class="italic">实例</span>偏移号<code class="codeph">||</code> 3位数的<span class="italic">会话</span>偏移号码。
                              </p>
                              <p>3位<span class="italic">实例</span>偏移号生成为[ <code class="codeph">(instance id % 100) + 100</code> ]。3位<span class="italic">会话</span>偏移号生成为[ <code class="codeph">session id % 1000</code> ]。
                              </p>
                           </li>
                        </ul>
                        <p>此外，您还可以为<code class="codeph">SCALE</code>子句指定<code class="codeph">EXTEND</code>或<code class="codeph">NOEXTEND</code>选项：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">EXTEND</code>选项</p>
                              <p>当为<code class="codeph">SCALE</code>子句指定<code class="codeph">EXTEND</code>选项时，可伸缩序列值的长度为[ <code class="codeph">X</code>位+ <code class="codeph">Y</code>位]，其中<code class="codeph">X</code>是可伸缩序列偏移号中的位数（默认为6位）， <code class="codeph">Y</code>为<code class="codeph">MAXVALUE</code>子句中指定的位数。
                              </p>
                              <p>例如，对于<code class="codeph">MINVALUE</code>为1， <code class="codeph">MAXVALUE</code>为100（3位）且指定了<code class="codeph">EXTEND</code>选项的递增可伸缩序列，可伸缩序列值将为9位（6位可伸缩序列偏移号+ 3位<code class="codeph">MAXVALUE</code> ）并且将为形式：</p><pre class="pre codeblock"><code>6位可伸缩序列偏移号|| 001 6位可伸缩序列偏移号|| 002 6位可伸缩序列偏移号|| 003 ......6位可伸缩序列偏移号|| 100</code></pre></li>
                           <li>
                              <p><code class="codeph">NOEXTEND</code>选项</p>
                              <p>如果为<code class="codeph">SCALE</code>子句指定了<code class="codeph">NOEXTEND</code>选项（默认选项），则可伸缩序列数的数量不能超过<code class="codeph">MAXVALUE</code>子句中指定的位数。
                              </p>
                              <p>例如，对于<code class="codeph">MINVALUE</code>为1， <code class="codeph">MAXVALUE</code>为1000000（7位）和<code class="codeph">NOEXTEND</code>选项的升序可伸缩序列，可伸缩序列值将为7位数，因为<code class="codeph">MAXVALUE</code>为1000000包含7位数，且形式为：</p><pre class="pre codeblock"><code>6位可伸缩序列偏移号|| 1 6位可伸缩序列偏移号|| 2个6位可伸缩序列偏移号|| 3 ......6位可伸缩序列偏移号|| 9</code></pre><p>请注意，在<code class="codeph">[6 digit scalable sequence offset number || 9]</code>的序列值之后，此可伸缩序列上的<code class="codeph">NEXTVAL</code>操作<code class="codeph">[6 digit scalable sequence offset number || 9]</code>将报告以下错误消息，因为下一个可伸缩序列值是<code class="codeph">[6 digit scalable sequence offset number || 10]</code> ，包含8位数字，大于<code class="codeph">MAXVALUE</code> 1000000，包含7位数字：</p><pre class="pre codeblock"><code>ORA-64603：无法为SQ实例化NEXTVAL。将序列加宽1位或使用SCALE EXTEND更改序列。</code></pre><div class="infoboxnote" id="GUID-76663C84-D792-46A3-A25A-03C49DED71AD__GUID-4491529D-BFAB-4E24-BABA-C0F793E21219">
                                 <p class="notep1">注意：</p>
                                 <p><code class="codeph">NOEXTEND</code>选项对于与使用序列填充固定宽度列的现有应用程序集成非常有用。
                                 </p>
                              </div>
                           </li>
                        </ul>
                        <p>要将现有可伸缩序列转换为不可伸缩序列，请使用<code class="codeph">ALTER SEQUENCE</code>语句中的<code class="codeph">NOSCALE</code>子句。
                        </p>
                        <div class="infoboxnote" id="GUID-76663C84-D792-46A3-A25A-03C49DED71AD__ORACLERECOMMENDSTHATYOUSHOULDNOTSPE-087FEA95">
                           <p class="notep1">注意：</p>
                           <p>Oracle建议您不要为可伸缩序列指定排序，因为可伸缩序列号是全局无序的。</p>
                        </div>
                        <p>要了解序列是否可伸缩或可伸缩序列是否可扩展，请检查<code class="codeph">DBA_SEQUENCES</code> ， <code class="codeph">USER_SEQUENCES</code>和<code class="codeph">ALL_SEQUENCES</code>视图的以下列的值。
                        </p>
                        <div class="tblformal" id="GUID-76663C84-D792-46A3-A25A-03C49DED71AD__GUID-31B5CC75-5C9F-4AAB-9DB6-680656B520B4">
                           <p class="titleintable">表24-1 DBA_SEQUENCES，USER_SEQUENCES和ALL_SEQUENCES视图中与可伸缩序列相关的列</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="与DBA_SEQUENCES，USER_SEQUENCES和ALL_SEQUENCES视图中的可伸缩序列相关的列" border="1" summary="This table lists the columns related to scalable sequences in the DBA_SEQUENCES, USER_SEQUENCES, and ALL_SEQUENCES views." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="20%" id="d232702e3854">列名称</th>
                                    <th align="left" valign="bottom" width="20%" id="d232702e3857">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d232702e3862" headers="d232702e3854 ">
                                       <p><code class="codeph">SCALE_FLAG</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d232702e3862 d232702e3857 ">
                                       <p>指示序列是否是可伸缩序列：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">ÿ</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">ñ</code></p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d232702e3879" headers="d232702e3854 ">
                                       <p><code class="codeph">EXTEND_FLAG</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d232702e3879 d232702e3857 ">
                                       <p>指示可伸缩序列是否<span class="italic">可扩展</span> ，即<code class="codeph">EXTEND</code>选项是否应用于可伸缩序列，以便序列值可以超出为<code class="codeph">MAXVALUE</code>指定的值：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">ÿ</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">ñ</code></p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="managing-views-sequences-and-synonyms.html#GUID-DC2435F7-8A10-4D44-B4FF-7731358B3A17" title="可以由多个用户访问和递增序列。">使用序列</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="ADMIN11804"></a><div class="props_rev_3"><a id="GUID-699DAF68-D288-46C0-B577-CA9477B11209" name="GUID-699DAF68-D288-46C0-B577-CA9477B11209"></a><h4 id="ADMIN-GUID-699DAF68-D288-46C0-B577-CA9477B11209" class="sect4"><span class="enumeration_section">24.2.5</span>丢弃序列</h4>
                  <div>
                     <p>如果不再需要序列，则可以使用<code class="codeph">DROP SEQUENCE</code>语句<code class="codeph">DROP SEQUENCE</code> 。
                     </p>
                     <div class="section">
                        <p>您可以删除架构中的任何序列。要在另一个模式中删除序列，您必须具有<code class="codeph">DROP ANY SEQUENCE</code>系统特权。例如，以下语句将删除<code class="codeph">order_seq</code>序列：</p><pre class="oac_no_warn" dir="ltr">DROP SEQUENCE order_seq;</pre><p>删除序列时，将从数据字典中删除其定义。序列的任何同义词都保留，但在引用时返回错误。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-699DAF68-D288-46C0-B577-CA9477B11209__GUID-6E0603CE-422C-4EC1-9FFC-B0DAA81A259A">
                        <p class="notep1">也可以看看：</p>
                        <p>有关<code class="codeph">DROP SEQUENCE</code>语句的语法和其他信息，请<a href="../sqlrf/DROP-SEQUENCE.html#SQLRF01804" target="_blank"><span class="italic">参见Oracle数据库SQL语言参考</span></a></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-views-sequences-and-synonyms.html#GUID-50B77DCA-C44E-488C-B281-7478A01E842E" title="您可以执行创建序列，更改序列，使用序列和删除序列等任务。">管理序列</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADMIN11805"></a><div class="props_rev_3"><a id="GUID-25878D67-A39B-41FF-B7C8-4916FB952F78" name="GUID-25878D67-A39B-41FF-B7C8-4916FB952F78"></a><h3 id="ADMIN-GUID-25878D67-A39B-41FF-B7C8-4916FB952F78" class="sect3"><span class="enumeration_section">24.3</span>管理同义词</h3>
               <p>您可以执行创建同义词，使用同义词和删除同义词等任务。</p>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-views-sequences-and-synonyms.html#GUID-F66725AA-B410-49EA-9C96-CF5C408879F1">关于同义词</a><br>同义词是架构对象的别名。
                     </li>
                     <li class="ulchildlink"><a href="managing-views-sequences-and-synonyms.html#GUID-407B4256-EA10-4362-88B9-16D16449B334">创建同义词</a><br>使用<code class="codeph">CREATE SYNONYM</code>语句<code class="codeph">CREATE SYNONYM</code> 。
                     </li>
                     <li class="ulchildlink"><a href="managing-views-sequences-and-synonyms.html#GUID-72C5E94C-009C-41CF-91E9-8EF2B1CA6AD3">在DML语句中使用同义词</a><br>可以在DML语句中引用同义词，方法与引用同义词的基础对象的方式相同。
                     </li>
                     <li class="ulchildlink"><a href="managing-views-sequences-and-synonyms.html#GUID-247A2185-D40F-45BE-9E2E-077CD12A8FDD">删除同义词</a><br>使用<code class="codeph">DROP SYNONYM</code>语句<code class="codeph">DROP SYNONYM</code>不再需要的<code class="codeph">DROP SYNONYM</code> 。要删除私有同义词，请省略<code class="codeph">PUBLIC</code>关键字。要删除公共同义词，请包含<code class="codeph">PUBLIC</code>关键字。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="managing-views-sequences-and-synonyms.html#GUID-11AE4E2F-B193-4FEE-89C5-62C1CB7ABCC5" title="您可以使用Oracle数据库创建和管理视图，序列和同义词。">管理视图，序列和同义词</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN11806"></a><div class="props_rev_3"><a id="GUID-F66725AA-B410-49EA-9C96-CF5C408879F1" name="GUID-F66725AA-B410-49EA-9C96-CF5C408879F1"></a><h4 id="ADMIN-GUID-F66725AA-B410-49EA-9C96-CF5C408879F1" class="sect4"><span class="enumeration_section">24.3.1</span>关于同义词</h4>
                  <div>
                     <p>同义词是架构对象的别名。</p>
                     <p>同义词可以通过屏蔽对象的名称和所有者以及为分布式数据库的远程对象提供位置透明性来提供一定程度的安全性。此外，它们使用方便，并降低了数据库用户的SQL语句的复杂性。</p>
                     <p>同义词允许重命名或移动基础对象，其中只有同义词必须重新定义，基于同义词的应用程序继续运行而不进行修改。</p>
                     <p>您可以创建公共和私人同义词。<span class="bold">公共</span>同义词由名为<code class="codeph">PUBLIC</code>的特殊用户组拥有，并且可供数据库中的每个用户访问。<span class="bold">私有</span>同义词包含在特定用户的模式中，并且仅对用户和底层对象的被授权者可用。
                     </p>
                     <p>同义词本身不可保证。当您在同义词上授予对象权限时，您实际上是在对基础对象授予权限，并且同义词仅作为<code class="codeph">GRANT</code>语句中对象的别名。
                     </p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-F66725AA-B410-49EA-9C96-CF5C408879F1__GUID-16700597-F93F-458C-A1A2-D4327CAA57E4">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="../cncpt/partitions-views-and-other-schema-objects.html#CNCPT711" target="_blank"><span class="italic">Oracle Database Concepts</span></a>可获得更完整的同义词描述</p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-views-sequences-and-synonyms.html#GUID-25878D67-A39B-41FF-B7C8-4916FB952F78" title="您可以执行创建同义词，使用同义词和删除同义词等任务。">管理同义词</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11807"></a><div class="props_rev_3"><a id="GUID-407B4256-EA10-4362-88B9-16D16449B334" name="GUID-407B4256-EA10-4362-88B9-16D16449B334"></a><h4 id="ADMIN-GUID-407B4256-EA10-4362-88B9-16D16449B334" class="sect4"><span class="enumeration_section">24.3.2</span>创建同义词</h4>
                  <div>
                     <p>使用<code class="codeph">CREATE SYNONYM</code>语句<code class="codeph">CREATE SYNONYM</code> 。
                     </p>
                     <div class="section">
                        <p>要在您自己的架构中创建私有同义词，您必须具有<code class="codeph">CREATE SYNONYM</code>权限。要在另一个用户的架构中创建私有同义词，您必须具有<code class="codeph">CREATE ANY SYNONYM</code>权限。要创建公共同义词，您必须具有<code class="codeph">CREATE PUBLIC SYNONYM</code>系统特权。
                        </p>
                        <p>创建同义词时，底层架构对象不需要存在，也不需要访问该对象的权限才能使<code class="codeph">CREATE SYNONYM</code>语句成功。下面的语句创建一个名为公共同义词<code class="codeph">public_emp</code>对<code class="codeph">emp</code>所含的架构表<code class="codeph">jward</code> ：</p><pre class="oac_no_warn" dir="ltr">创建公共SYNONYM public_emp FOR jward.emp</pre><p>为远程过程或函数创建同义词时，必须使用其模式名称限定远程对象。或者，您可以在远程对象所在的数据库上创建本地公共同义词，在这种情况下，数据库链接必须包含在对过程或函数的所有后续调用中。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-407B4256-EA10-4362-88B9-16D16449B334__GUID-B06F2B2F-3324-4313-8610-64571DF15173">
                        <p class="notep1">也可以看看：</p>
                        <p>有关<code class="codeph">CREATE SYNONYM</code>语句的语法和其他信息，请<a href="../sqlrf/CREATE-SYNONYM.html#SQLRF01401" target="_blank"><span class="italic">参见Oracle数据库SQL语言参考</span></a></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-views-sequences-and-synonyms.html#GUID-25878D67-A39B-41FF-B7C8-4916FB952F78" title="您可以执行创建同义词，使用同义词和删除同义词等任务。">管理同义词</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11808"></a><div class="props_rev_3"><a id="GUID-72C5E94C-009C-41CF-91E9-8EF2B1CA6AD3" name="GUID-72C5E94C-009C-41CF-91E9-8EF2B1CA6AD3"></a><h4 id="ADMIN-GUID-72C5E94C-009C-41CF-91E9-8EF2B1CA6AD3" class="sect4"><span class="enumeration_section">24.3.3</span>在DML语句中使用同义词</h4>
                  <div>
                     <p>可以在DML语句中引用同义词，方法与引用同义词的基础对象的方式相同。</p>
                     <div class="section">
                        <p>您可以成功使用架构中包含的任何私有同义词或任何公共同义词，假设您具有从显式，已启用角色或<code class="codeph">PUBLIC</code>访问基础对象的必要权限。如果已为基础对象授予必要的对象权限，则还可以引用其他模式中包含的任何私有同义词。
                        </p>
                        <p>您只能使用已授予的对象权限来引用其他用户的同义词。例如，如果您在<code class="codeph">jward</code>上只有<code class="codeph">SELECT</code>权限。 <code class="codeph">emp</code>表，并为<code class="codeph">jward.employee</code>创建了同义词<code class="codeph">jward.emp</code> ，可以查询<code class="codeph">jward</code> 。 <code class="codeph">employee</code>同义词，但您不能使用<code class="codeph">jward</code>插入行。 <code class="codeph">employee</code>同义词。
                        </p>
                        <p>例如，如果名为<code class="codeph">emp</code> loyee的同义词引用表或视图，则以下语句有效：</p><pre class="oac_no_warn" dir="ltr">INSERT INTO员工（empno，ename，job）VALUES（emp_sequence。NEXTVAL，'SMITH'，'CLERK'）;</pre><p>如果名为<code class="codeph">fire_emp</code>的同义词引用独立过程或包过程，则可以使用该命令执行它</p><pre class="oac_no_warn" dir="ltr">执行Fire_emp（7344）;</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-views-sequences-and-synonyms.html#GUID-25878D67-A39B-41FF-B7C8-4916FB952F78" title="您可以执行创建同义词，使用同义词和删除同义词等任务。">管理同义词</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11809"></a><div class="props_rev_3"><a id="GUID-247A2185-D40F-45BE-9E2E-077CD12A8FDD" name="GUID-247A2185-D40F-45BE-9E2E-077CD12A8FDD"></a><h4 id="ADMIN-GUID-247A2185-D40F-45BE-9E2E-077CD12A8FDD" class="sect4"><span class="enumeration_section">24.3.4</span>删除同义词</h4>
                  <div>
                     <p>使用<code class="codeph">DROP SYNONYM</code>语句<code class="codeph">DROP SYNONYM</code>不再需要的<code class="codeph">DROP SYNONYM</code> 。要删除私有同义词，请省略<code class="codeph">PUBLIC</code>关键字。要删除公共同义词，请包含<code class="codeph">PUBLIC</code>关键字。
                     </p>
                     <div class="section">
                        <p>您可以删除自己架构中的任何私有同义词。要在另一个用户的架构中删除私有同义词，您必须具有<code class="codeph">DROP ANY SYNONYM</code>系统特权。要删除公共同义词，您必须具有<code class="codeph">DROP PUBLIC SYNONYM</code>系统特权。
                        </p>
                        <p>例如，以下语句删除名为<code class="codeph">emp</code>的私有同义词：</p><pre class="oac_no_warn" dir="ltr">DROP SYNONYM emp;</pre><p>以下语句删除名为<code class="codeph">public_emp</code>的公共同义词：</p><pre class="oac_no_warn" dir="ltr">DROP PUBLIC SYNONYM public_emp;</pre><p>删除同义词时，将从数据字典中删除其定义。引用丢弃的同义词的所有对象都保留。但是，它们变得无效（不可用）。有关删除同义词如何影响其他模式对象的更多信息，请参阅<span class="q">“ <a href="managing-schema-objects.html#GUID-46D82F8E-C360-4223-B469-18039B1FFB21" title="Oracle数据库提供了一种自动机制，可确保从属对象始终与其引用的对象保持同步。您也可以手动重新编译无效对象。">管理对象依赖项</a> ”</span> <a id="d232702e4393" class="indexterm-anchor"></a> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-247A2185-D40F-45BE-9E2E-077CD12A8FDD__GUID-01A2685F-DB58-4716-96BE-2505F95E80F5">
                        <p class="notep1">也可以看看：</p>
                        <p>有关<code class="codeph">DROP SYNONYM</code>语句的语法和其他信息，请<a href="../sqlrf/DROP-SYNONYM.html#SQLRF01805" target="_blank"><span class="italic">参见Oracle数据库SQL语言参考</span></a></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-views-sequences-and-synonyms.html#GUID-25878D67-A39B-41FF-B7C8-4916FB952F78" title="您可以执行创建同义词，使用同义词和删除同义词等任务。">管理同义词</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADMIN11810"></a><div class="props_rev_3"><a id="GUID-D27171E8-3849-4E5E-87E4-23724746AF1D" name="GUID-D27171E8-3849-4E5E-87E4-23724746AF1D"></a><h3 id="ADMIN-GUID-D27171E8-3849-4E5E-87E4-23724746AF1D" class="sect3"><span class="enumeration_section">24.4</span>视图，同义词和序列数据字典视图</h3>
               <div>
                  <p>您可以查询数据字典视图，以获取有关视图，同义词和序列的信息。</p>
                  <div class="section">
                     <p>以下视图显示有关视图，同义词和序列的信息：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-D27171E8-3849-4E5E-87E4-23724746AF1D__GUID-555D3A4A-7A32-463A-936F-5D60C0D6B09C">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Column 1 lists the views that display information about views, synonyms, or sequences. Column 2 describes each view." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="39%" id="d232702e4484">视图</th>
                              <th align="left" valign="bottom" width="61%" id="d232702e4487">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d232702e4492" headers="d232702e4484 ">
                                 <p><code class="codeph"><a href="../refrn/DBA_VIEWS.html#REFRN23305" target="_blank">DBA_VIEWS</a></code> 
                                 </p>
                                 <p><code class="codeph"><a href="../refrn/ALL_VIEWS.html#REFRN20305" target="_blank">ALL_VIEWS</a></code> 
                                 </p>
                                 <p><code class="codeph"><a href="../refrn/USER_VIEWS.html#REFRN26305" target="_blank">USER_VIEWS</a></code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d232702e4492 d232702e4487 ">
                                 <p><code class="codeph">DBA</code>视图描述了数据库中的所有视图。<code class="codeph">ALL</code>视图仅限于当前用户可访问的视图。<code class="codeph">USER</code>视图仅限于当前用户拥有的视图。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d232702e4523" headers="d232702e4484 ">
                                 <p><code class="codeph"><a href="../refrn/DBA_SYNONYMS.html#REFRN23273" target="_blank">DBA_SYNONYMS</a></code> 
                                 </p>
                                 <p><code class="codeph"><a href="../refrn/ALL_SYNONYMS.html#REFRN20273" target="_blank">ALL_SYNONYMS</a></code> 
                                 </p>
                                 <p><code class="codeph"><a href="../refrn/USER_SYNONYMS.html#REFRN26273" target="_blank">USER_SYNONYMS</a></code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d232702e4523 d232702e4487 ">
                                 <p>这些视图描述同义词。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d232702e4546" headers="d232702e4484 ">
                                 <p><code class="codeph"><a href="../refrn/DBA_SEQUENCES.html#REFRN23244" target="_blank">DBA_SEQUENCES</a></code> 
                                 </p>
                                 <p><code class="codeph"><a href="../refrn/ALL_SEQUENCES.html#REFRN20244" target="_blank">ALL_SEQUENCES</a></code> 
                                 </p>
                                 <p><code class="codeph"><a href="../refrn/USER_SEQUENCES.html#REFRN26244" target="_blank">USER_SEQUENCES</a></code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d232702e4546 d232702e4487 ">
                                 <p>这些视图描述了序列。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d232702e4569" headers="d232702e4484 ">
                                 <p><code class="codeph"><a href="../refrn/DBA_UPDATABLE_COLUMNS.html#REFRN23301" target="_blank">DBA_UPDATABLE_COLUMNS</a></code> 
                                 </p>
                                 <p><code class="codeph"><a href="../refrn/ALL_UPDATABLE_COLUMNS.html#REFRN20301" target="_blank">ALL_UPDATABLE_COLUMNS</a></code> 
                                 </p>
                                 <p><code class="codeph"><a href="../refrn/USER_UPDATABLE_COLUMNS.html#REFRN26301" target="_blank">USER_UPDATABLE_COLUMNS</a></code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d232702e4569 d232702e4487 ">
                                 <p>这些视图描述了可更新的连接视图中的所有列。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="managing-views-sequences-and-synonyms.html#GUID-11AE4E2F-B193-4FEE-89C5-62C1CB7ABCC5" title="您可以使用Oracle数据库创建和管理视图，序列和同义词。">管理视图，序列和同义词</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html>