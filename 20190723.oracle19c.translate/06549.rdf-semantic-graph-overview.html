<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="Oracle Spatial and Graph support for semantic technologies consists mainly of Resource Description Framework (RDF) and a subset of the Web Ontology Language (OWL). These capabilities are referred to as the RDF Knowledge Graph feature of Oracle Spatial and Graph.">
      <meta name="description" content="Oracle Spatial and Graph support for semantic technologies consists mainly of Resource Description Framework (RDF) and a subset of the Web Ontology Language (OWL). These capabilities are referred to as the RDF Knowledge Graph feature of Oracle Spatial and Graph.">
      <title>RDF Knowledge Graph Overview</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="RDF Knowledge Graph Developer's Guide ">
      <meta property="og:description" content="Oracle Spatial and Graph support for semantic technologies consists mainly of Resource Description Framework (RDF) and a subset of the Web Ontology Language (OWL). These capabilities are referred to as the RDF Knowledge Graph feature of Oracle Spatial and Graph.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="RDF Knowledge Graph Developer's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="spatial-and-graph-rdf-knowledge-graph-developers-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-10T10:56:26-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="2005, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E94798-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="part-concept-usage.html" title="Previous" type="text/html">
      <link rel="next" href="owl-concepts.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Spatial and Graph RDF Knowledge Graph Developer's Guide">
    <meta name="dcterms.isVersionOf" content="RDFRM">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="part-concept-usage.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="owl-concepts.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">RDF Knowledge Graph Developer's Guide </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="part-concept-usage.html" property="item" typeof="WebPage"><span property="name"> Conceptual and Usage Information </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> RDF Knowledge Graph Overview</li>
            </ol>
            <a id="GUID-F422BB9F-8473-4980-9D6C-848F708C10E0" name="GUID-F422BB9F-8473-4980-9D6C-848F708C10E0"></a><a id="RDFRM100"></a>
            
            <h2 id="RDFRM-GUID-F422BB9F-8473-4980-9D6C-848F708C10E0" class="sect2"><span class="enumeration_chapter">1 </span> RDF Knowledge Graph Overview
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>Oracle Spatial and Graph support for semantic technologies consists mainly of Resource Description Framework (RDF) and a subset of the Web Ontology Language (OWL). These capabilities are referred to as the RDF Knowledge Graph feature of Oracle Spatial and Graph.</p>
               <p>The RDF Knowledge Graph feature enables you to create one or more semantic networks in an Oracle database. Each network contains semantic data (also referred to as RDF data).</p>
               <p>This chapter assumes that you are familiar with the major concepts associated with RDF and OWL, such as {subject, predicate, object} triples, URIs, blank nodes, plain and typed literals, and ontologies. It does not explain these concepts in detail, but focuses instead on how the concepts are implemented in Oracle.</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p>For an excellent explanation of RDF concepts, see the World Wide Web Consortium (W3C) <span class="italic">RDF Primer</span> at <a href="http://www.w3.org/TR/rdf-primer/" target="_blank"><code class="codeph">http://www.w3.org/TR/rdf-primer/</code></a>.
                     </p>
                  </li>
                  <li>
                     <p>For information about OWL, see the <span class="italic">OWL Web Ontology Language Reference</span> at <a href="http://www.w3.org/TR/owl-ref/" target="_blank"><code class="codeph">http://www.w3.org/TR/owl-ref/</code></a>.
                     </p>
                  </li>
               </ul>
               <p>The PL/SQL subprograms for working with semantic data are in the SEM_APIS package, which is documented in <a href="SEM_APIS-reference.html#GUID-F42AB976-445A-4DCD-974C-3B9ED810E3D5" title="The SEM_APIS package contains subprograms (functions and procedures) for working with the Resource Description Framework (RDF) and Web Ontology Language (OWL) in an Oracle database."> SEM_APIS Package Subprograms</a>.
               </p>
               <p>The RDF and OWL support are features of Oracle Spatial and Graph, which must be installed for these features to be used. However, the use of RDF and OWL is not restricted to spatial data.</p>
               <div class="infoboxnote" id="GUID-F422BB9F-8473-4980-9D6C-848F708C10E0__GUID-BB70E7F0-417D-4BBD-8C95-7EC838113E76">
                  <p class="notep1">Note:</p>
                  <p>If you have any semantic data created using an Oracle Database release before 12.2, see <a href="rdf-semantic-graph-overview.html#GUID-3C013135-A56C-425A-853E-37B4BDB570D0" title="If you have any semantic data created using Oracle Database 11.1. 11.2, or 12.1, then before you use it in an Oracle Database 12.2 environment, you must migrate this data.">Required Migration of Pre-12.2 Semantic Data</a>.
                  </p>
               </div>
               <p>For information about OWL concepts and the Oracle Database support for OWL capabilities, see <a href="owl-concepts.html#GUID-3EC5F30E-9175-4B7B-946C-3117BC30610A" title="You should understand key concepts related to the support for a subset of the Web Ontology Language (OWL)."> OWL Concepts </a>.
               </p>
               <div class="infoboxnote" id="GUID-F422BB9F-8473-4980-9D6C-848F708C10E0__GUID-C34DE9CF-DB47-41EF-9611-FAD4819E5C94">
                  <p class="notep1">Note:</p>
                  <p>Before performing any operations described in this guide, you must enable RDF Semantic Graph support in the database and meet other prerequisites, as explained in <a href="enabling-downgrading-removing-rdf.html#GUID-8B3D00C9-E2B8-4074-BE88-055DD5E157BF" title="Before you can use any types, synonyms, or PL/SQL packages related to RDF Semantic Graph support in the current Oracle Database release, you must either install the capabilities in a new Oracle Database installation or upgrade the capabilities from a previous release. You must also ensure that Spatial and Graph is installed and the Partitioning option is enabled.">Enabling RDF Semantic Graph Support</a>.
                  </p>
               </div>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-77238928-AF9C-4AF1-8833-79E994DC5506">Introduction to Oracle Semantic Technologies Support</a><br>Oracle Database enables you to store semantic data and ontologies, to query semantic data and to perform ontology-assisted query of enterprise relational data, and to use supplied or user-defined inferencing to expand the power of querying on semantic data.
                  </li>
                  <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-02FEDB66-9AA8-4819-91E3-35F3FA02C5F7">Semantic Data Modeling</a><br>In addition to its formal semantics, semantic data has a simple data structure that is effectively modeled using a directed graph.
                  </li>
                  <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-CE09AF8B-6296-4100-91E5-57F5C5B225F6">Semantic Data in the Database</a><br>Semantic data in Oracle Database is stored in one or more semantic networks.
                  </li>
                  <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-6F93C56B-9007-4F37-9A8F-0ECF4AC204A5">Semantic Metadata Tables and Views</a><br>Oracle Database maintains several tables and views in the network owner’s schema to hold metadata related to semantic data.
                  </li>
                  <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-D7734D1A-EAC0-4581-B3CC-2E23C8F97D94">Semantic Data Types, Constructors, and Methods</a><br>The SDO_RDF_TRIPLE object type represents semantic data in triple format, and the SDO_RDF_TRIPLE_S object type (the _S for storage) stores persistent semantic data in the database.
                  </li>
                  <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-71464CC4-1C03-48A4-9A4C-0E671FF8F16E">Using the SEM_MATCH Table Function to Query Semantic Data</a><br>To query semantic data, use the SEM_MATCH table function.
                  </li>
                  <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-D90AABC8-81CA-4212-B1A1-C03B818D46C6">Using the SEM_APIS.SPARQL_TO_SQL Function to Query Semantic Data</a><br>You can use the SEM_APIS.SPARQL_TO_SQL function as an alternative to the SEM_MATCH table function to query semantic data.
                  </li>
                  <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-65045BFA-D0FE-4720-BF68-2C45765C74E9">Loading and Exporting Semantic Data</a><br>You can load semantic data into a model in the database and export that data from the database into a staging table.
                  </li>
                  <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-159DBD08-E59E-4A16-8EA9-5B40EB964D12">Using Semantic Network Indexes</a><br>Semantic network indexes are nonunique B-tree indexes that you can add, alter, and drop for use with models and entailments in a semantic network.
                  </li>
                  <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-E0FC3EA3-9385-4D94-AB3C-72F65EDAC966">Using Data Type Indexes</a><br>Data type indexes are indexes on the values of typed literals stored in a semantic network.
                  </li>
                  <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-273402FC-2C92-4B36-981A-1E8644FB7134">Managing Statistics for Semantic Models and the Semantic Network</a><br>Statistics are critical to the performance of SPARQL queries and OWL inference against semantic data stored in an Oracle database.
                  </li>
                  <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-933AEB65-4F16-40BB-9FA4-0E16380607EB">Support for SPARQL Update Operations on a Semantic Model</a><br>Effective with Oracle Database Release 12.2, you can perform SPARQL Update operations on a semantic model.
                  </li>
                  <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-AD26A431-B5A5-4681-AFFF-42C473AB7936">RDF Support for Oracle Database In-Memory</a><br>RDF can use the in-memory Oracle Database In-Memory suite of features, including in-memory column store, to improve performance for real-time analytics and mixed workloads.
                  </li>
                  <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-8663128B-C6A9-4B5A-97F0-3F521F7A3B1C">RDF Support in SQL Developer</a><br>You can use Oracle SQL Developer to create RDF-related objects and use RDF and OWL features.
                  </li>
                  <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-3406865F-70CF-4D24-8911-F08694697ED6">Enhanced RDF ORDER BY Query Processing</a><br>Effective with Oracle Database Release 12.2, queries on RDF data that use SPARQL ORDER BY semantics are processed more efficiently than in previous releases.
                  </li>
                  <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-7F590F2D-F382-4CD6-A95A-757010BB148F">Quick Start for Using Semantic Data</a><br>To work with semantic data in an Oracle database, follow these general steps.
                  </li>
                  <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-2A9B194C-2540-42C7-A783-4A32ADA6F1F4">Semantic Data Examples (PL/SQL and Java)</a><br>PL/SQL examples are provided in this topic.
                  </li>
                  <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-F1D3E26F-93C8-4770-AE73-E699177AA8AA">Software Naming Changes Since Release 11.1</a><br>Because the support for semantic data has been expanded beyond the original focus on RDF, the names of many software objects (PL/SQL packages, functions and procedures, system tables and views, and so on) have been changed as of Oracle Database Release 11.1.
                  </li>
                  <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-B08C0424-A3FD-467B-87D9-087A1974B770">For More Information About RDF Semantic Graph</a><br>More information is available about RDF Semantic Graph support and related topics.
                  </li>
                  <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-3C013135-A56C-425A-853E-37B4BDB570D0">Required Migration of Pre-12.2 Semantic Data</a><br>If you have any semantic data created using Oracle Database 11.1. 11.2, or 12.1, then before you use it in an Oracle Database 12.2 environment, you must migrate this data.
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>Parent topic:</strong> <a href="part-concept-usage.html#GUID-FC153F2D-D51D-4498-A6E1-30B80D540FD6">Conceptual and Usage Information</a></p>
                  </div>
               </div>
            </div>
            <a id="RDFRM561"></a><a id="RDFRM560"></a><div class="props_rev_3"><a id="GUID-77238928-AF9C-4AF1-8833-79E994DC5506" name="GUID-77238928-AF9C-4AF1-8833-79E994DC5506"></a><h3 id="RDFRM-GUID-77238928-AF9C-4AF1-8833-79E994DC5506" class="sect3"><span class="enumeration_section">1.1 </span>Introduction to Oracle Semantic Technologies Support
               </h3>
               <div>
                  <p>Oracle Database enables you to store semantic data and ontologies, to query semantic data and to perform ontology-assisted query of enterprise relational data, and to use supplied or user-defined inferencing to expand the power of querying on semantic data.</p>
                  <p><a href="rdf-semantic-graph-overview.html#GUID-77238928-AF9C-4AF1-8833-79E994DC5506__CHDJHFDA">Figure 1-1</a> shows how these capabilities interact.
                  </p>
                  <div class="figure" id="GUID-77238928-AF9C-4AF1-8833-79E994DC5506__CHDJHFDA">
                     <p class="titleinfigure">Figure 1-1 Oracle Semantic Capabilities</p><img src="img/sem_overview.gif" alt="Description of Figure 1-1 follows" title="Description of Figure 1-1 follows" longdesc="img_text/sem_overview.html"><br><a href="img_text/sem_overview.html">Description of "Figure 1-1 Oracle Semantic Capabilities"</a></div>
                  <!-- class="figure" -->
                  <p>As shown in <a href="rdf-semantic-graph-overview.html#GUID-77238928-AF9C-4AF1-8833-79E994DC5506__CHDJHFDA">Figure 1-1</a>, the database contains semantic data and ontologies (RDF/OWL models), as well as traditional relational data. To load semantic data, bulk loading is the most efficient approach, although you can load data incrementally using transactional INSERT statements.
                  </p>
                  <div class="infoboxnote" id="GUID-77238928-AF9C-4AF1-8833-79E994DC5506__GUID-0B0C4C96-A9D1-4B89-823A-14FB2FBA9354">
                     <p class="notep1">Note:</p>
                     <p>If you want to use existing semantic data from a release before Oracle Database 11.1, the data must be upgraded as described in <a href="enabling-downgrading-removing-rdf.html#GUID-8B3D00C9-E2B8-4074-BE88-055DD5E157BF" title="Before you can use any types, synonyms, or PL/SQL packages related to RDF Semantic Graph support in the current Oracle Database release, you must either install the capabilities in a new Oracle Database installation or upgrade the capabilities from a previous release. You must also ensure that Spatial and Graph is installed and the Partitioning option is enabled.">Enabling RDF Semantic Graph Support</a>.
                     </p>
                  </div>
                  <p>You can query semantic data and ontologies, and you can also perform ontology-assisted queries of semantic and traditional relational data to find semantic relationships. To perform ontology-assisted queries, use the SEM_RELATED operator, which is described in <a href="owl-concepts.html#GUID-91E180EF-CCF0-4E56-859E-D25C019A31A0" title="You can use semantic operators to query relational data in an ontology-assisted manner, based on the semantic relationship between the data in a table column and terms in an ontology.">Using Semantic Operators to Query Relational Data</a>.
                  </p>
                  <p>You can expand the power of queries on semantic data by using inferencing, which uses rules in rulebases. Inferencing enables you to make logical deductions based on the data and the rules. For information about using rules and rulebases for inferencing, see <a href="rdf-semantic-graph-overview.html#GUID-B6D8E41B-9537-42AA-9083-B16C2972964B">Inferencing: Rules and Rulebases</a>.
                  </p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-F422BB9F-8473-4980-9D6C-848F708C10E0" title="Oracle Spatial and Graph support for semantic technologies consists mainly of Resource Description Framework (RDF) and a subset of the Web Ontology Language (OWL). These capabilities are referred to as the RDF Knowledge Graph feature of Oracle Spatial and Graph.">RDF Knowledge Graph Overview</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="RDFRM562"></a><div class="props_rev_3"><a id="GUID-02FEDB66-9AA8-4819-91E3-35F3FA02C5F7" name="GUID-02FEDB66-9AA8-4819-91E3-35F3FA02C5F7"></a><h3 id="RDFRM-GUID-02FEDB66-9AA8-4819-91E3-35F3FA02C5F7" class="sect3"><span class="enumeration_section">1.2 </span>Semantic Data Modeling
               </h3>
               <div>
                  <p>In addition to its formal semantics, semantic data has a simple data structure that is effectively modeled using a directed graph.</p>
                  <p>The metadata statements are represented as triples: nodes are used to represent two parts of the triple, and the third part is represented by a directed link that describes the relationship between the nodes. The triples are stored in a semantic data network. In addition, information is maintained about specific semantic data models created by database users. A user-created <span class="bold">model</span> has a model name, and refers to triples stored in a specified table column.
                  </p>
                  <p>Statements are expressed in triples: {subject or resource, predicate or property, object or value}. In this manual, {subject, property, object} is used to describe a triple, and the terms <span class="italic">statement</span> and <span class="italic">triple</span> may sometimes be used interchangeably. Each triple is a complete and unique fact about a specific domain, and can be represented by a link in a directed graph.
                  </p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-F422BB9F-8473-4980-9D6C-848F708C10E0" title="Oracle Spatial and Graph support for semantic technologies consists mainly of Resource Description Framework (RDF) and a subset of the Web Ontology Language (OWL). These capabilities are referred to as the RDF Knowledge Graph feature of Oracle Spatial and Graph.">RDF Knowledge Graph Overview</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="RDFRM563"></a><div class="props_rev_3"><a id="GUID-CE09AF8B-6296-4100-91E5-57F5C5B225F6" name="GUID-CE09AF8B-6296-4100-91E5-57F5C5B225F6"></a><h3 id="RDFRM-GUID-CE09AF8B-6296-4100-91E5-57F5C5B225F6" class="sect3"><span class="enumeration_section">1.3 </span>Semantic Data in the Database
               </h3>
               <div>
                  <p>Semantic data in Oracle Database is stored in one or more semantic networks.</p>
                  <p>All triples are parsed and stored in the system as entries in tables is a semantic network, and each semantic network is under a database schema (either a regular database user schema or the Oracle-supplied MDSYS schema). A triple {subject, property, object} is treated as one database object. As a result, a single document containing multiple triples results in multiple database objects.</p>
                  <p>All the subjects and objects of triples are mapped to nodes in a semantic data network, and properties are mapped to network links that have their start node and end node as subject and object, respectively. The possible node types are blank nodes, URIs, plain literals, and typed literals.</p>
                  <p>The following requirements apply to the specifications of URIs and the storage of semantic data in the database:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>A subject must be a URI or a blank node.</p>
                     </li>
                     <li>
                        <p>A property must be a URI.</p>
                     </li>
                     <li>
                        <p>An object can be any type, such as a URI, a blank node, or a literal. (However, null values and null strings are not supported.)</p>
                     </li>
                  </ul>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-66167C10-938C-4C9A-A408-CE705CE8B98D">Semantic Networks</a><br></li>
                     <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-A2556E81-4419-49ED-9EA0-AA7EA3BB67AE">Metadata for Models</a><br></li>
                     <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-F7D6E792-CFF4-4183-AECE-3CF4A3332D9E">Statements</a><br></li>
                     <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-47085C50-0C42-4025-A8E8-B97DC8403845">Subjects and Objects</a><br></li>
                     <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-E7C6F130-ECC6-4718-A707-9DFEB46993AE">Blank Nodes</a><br></li>
                     <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-1CF84655-13A9-4577-B758-C1E0F65C581E">Properties</a><br></li>
                     <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-B6D8E41B-9537-42AA-9083-B16C2972964B">Inferencing: Rules and Rulebases</a><br></li>
                     <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-AE3CFE93-13CF-444E-9523-0693572851E7">Entailments (Rules Indexes)</a><br></li>
                     <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-8B957406-5ED1-4579-9C23-0EDE2FDF2964">Virtual Models</a><br></li>
                     <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-5409C3FE-2DF1-4D95-BF90-6FF8424D3A21">Named Graphs</a><br></li>
                     <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-1344F198-9E1C-4D77-829D-E38E1E1D9385">Semantic Data Security Considerations</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-F422BB9F-8473-4980-9D6C-848F708C10E0" title="Oracle Spatial and Graph support for semantic technologies consists mainly of Resource Description Framework (RDF) and a subset of the Web Ontology Language (OWL). These capabilities are referred to as the RDF Knowledge Graph feature of Oracle Spatial and Graph.">RDF Knowledge Graph Overview</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="props_rev_3"><a id="GUID-66167C10-938C-4C9A-A408-CE705CE8B98D" name="GUID-66167C10-938C-4C9A-A408-CE705CE8B98D"></a><h4 id="RDFRM-GUID-66167C10-938C-4C9A-A408-CE705CE8B98D" class="sect4"><span class="enumeration_section">1.3.1 </span>Semantic Networks
                  </h4>
                  <div>
                     <p>A <span class="bold">semantic network</span> is a set of tables and views that holds RDF data (that is, semantic data). A semantic network is not created during installation. A DBA user must be explicitly call <a href="SEM_APIS-reference.html#GUID-7E0EAF3F-C5A5-4E02-8736-8280ABA35214">SEM_APIS.CREATE_SEM_NETWORK</a> to create a semantic network before any RDF data can be stored in the database.
                     </p>
                     <p>A semantic network contains, among other things, an RDF_LINK$ table for storing RDF triples or quads. By default, the RDF_LINK$ table is list-partitioned into a set of models. A model is a user-created container for storing RDF triples or quads.</p>
                     <p>The RDF_LINK$ table can optionally use list-hash composite partitioning where each model partition is subpartitioned by a hash of the predicate. Composite partitioning can improve SPARQL query performance on larger data sets through better parallelization and improved query optimizer statistics. For more information about how to enable composite partitioning, see:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The <code class="codeph">options</code> parameter descriptions for <a href="SEM_APIS-reference.html#GUID-1DB639F4-9A60-47CE-B1FC-E4B805D86F2F">SEM_APIS.CREATE_SEM_MODEL</a> and <a href="SEM_APIS-reference.html#GUID-7E0EAF3F-C5A5-4E02-8736-8280ABA35214">SEM_APIS.CREATE_SEM_NETWORK</a></p>
                        </li>
                        <li>
                           <p>The usage notes for the <code class="codeph">options</code> parameter for <a href="SEM_APIS-reference.html#GUID-BF52CEC0-1BD9-4908-9EF1-F001B0527257">SEM_APIS.CREATE_ENTAILMENT</a>, specifically for the <code class="codeph">MODEL_PARTITIONS=n</code> option.
                           </p>
                        </li>
                     </ul>
                     <p>A semantic network can be created in and owned by either the MDSYS schema or a regular database user schema:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>If a network is created in the MDSYS schema, it is an unnamed semantic network available to the entire database. </p>
                           <p>Having a single unnamed network was the only scenario available before Oracle Database Release 19<span class="italic">c</span>. That usage is still supported, but discouraged, for networks created starting with Release 19<span class="italic">c</span>.
                           </p>
                        </li>
                        <li>
                           <p>If the network is not created in the MDSYS schema, you can create or one more semantic networks in one or more regular database user schemas. Each such network is called a <span class="bold">schema-private semantic network</span>.
                           </p>
                           <p>The use of schema-private networks is encouraged.</p>
                        </li>
                     </ul>
                     <p>You can have both an MDSYS-owned network and one or more schema-private networks in a single database or pluggable database.</p>
                     <p>An existing MDSYS-owned semantic network can be migrated to a shared schema-private semantic network by using the <a href="SEM_APIS-reference.html#GUID-2A9CEA49-B845-4B03-9803-B03B9638979E">SEM_APIS.MOVE_SEM_NETWORK_DATA</a> and <a href="SEM_APIS-reference.html#GUID-65282EA9-126B-44F6-8905-6977D9EDBF08">SEM_APIS.APPEND_SEM_NETWORK_DATA</a> procedures. See <a href="rdf-semantic-graph-overview.html#GUID-BF54CDFD-EA97-4C23-AB32-EE7F83D5948B">Moving, Restoring, and Appending a Semantic Network</a> for details.
                     </p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-F86301D3-2492-496A-9211-2E15AAC86EB7">Schema-Private Semantic Networks</a><br></li>
                        <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-F3FE0C69-8069-4AEF-B3CD-2E63A6164480">Types of Semantic Network Users</a><br></li>
                        <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-D27771D8-261F-4A06-8DA7-3AE4B6FB49B0">Naming Conventions for Semantic Network Objects</a><br></li>
                        <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-F0394368-486B-4DE9-96DB-412770C6D4CE">RDF_PARAMETER Table in Semantic Networks</a><br></li>
                        <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-8355517C-15A3-4942-9F4A-53DEB171FFA0">Sharing Schema-Private Semantic Networks</a><br></li>
                        <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-D583B743-8CAF-42A2-A00A-26C6C031731A">Migrating from MDSYS to Schema-Private Semantic Networks</a><br></li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-CE09AF8B-6296-4100-91E5-57F5C5B225F6" title="Semantic data in Oracle Database is stored in one or more semantic networks.">Semantic Data in the Database</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="props_rev_3"><a id="GUID-F86301D3-2492-496A-9211-2E15AAC86EB7" name="GUID-F86301D3-2492-496A-9211-2E15AAC86EB7"></a><h5 id="RDFRM-GUID-F86301D3-2492-496A-9211-2E15AAC86EB7" class="sect5"><span class="enumeration_section">1.3.1.1 </span>Schema-Private Semantic Networks
                     </h5>
                     <div>
                        <p>In a schema-private semantic network, the associated database objects are created in the network owner’s schema, and the network owner has exclusive privileges to those objects. (DBA users also have such privileges, and the network owner or a DBA can grant and revoke the privileges for other users.)</p>
                        <p>Schema-private semantic networks have several benefits:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>They provide better security and isolation because multiple users do not share tables and indexes. </p>
                              <p>The network owner’s schema contains all semantic network database objects (except for database-wide DDL triggers, which are owned by the invoker of SEM_APIS.CREATE_SEM_NETWORK), and the network owner has exclusive privileges to those objects by default.</p>
                              <p>Schema-private semantic networks provide better isolation because database objects are not shared among multiple database users by default. However, after granting appropriate privileges, a network owner may share his or her schema-private semantic network with other users.</p>
                           </li>
                           <li>
                              <p>Regular users can perform administration operations on their own networks, for example, index creation or network-wide statistics gathering.</p>
                              <p>The network owner can perform administration operations on the network without needing DBA privileges. (By contrast, with an MDSYS-owned network, DBA privileges are required to perform administration operations.)</p>
                              <p>Several schema-private semantic networks can coexist in a single database, PDB, or even schema, which allows custom data type indexing schemes for different sets of RDF data. For example, NETWORK1 can have only a spatial data type index while NETWORK2 has only a text data type index.</p>
                           </li>
                        </ul>
                        <p>Most SEM_APIS package subprograms now have <code class="codeph">network_owner</code> and <code class="codeph">network_name</code> parameters to support schema-private semantic networks. Schema-private semantic networks are identified by the two-element combination of network owner and network name, which is specified in the first two parameters of the <a href="SEM_APIS-reference.html#GUID-7E0EAF3F-C5A5-4E02-8736-8280ABA35214">SEM_APIS.CREATE_SEM_NETWORK</a> call that created the network.
                        </p>
                        <p>The following table describes the usage of the <code class="codeph">network_owner</code> and <code class="codeph">network_name</code> parameters in subprograms that include them.
                        </p>
                        <div class="tblformal" id="GUID-F86301D3-2492-496A-9211-2E15AAC86EB7__GUID-C0A4B413-621D-4028-BF40-B8E2E5EB74FC">
                           <p class="titleintable">Table 1-1 network_owner and network_name Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="network_owner and network_name Parameters" summary="2&#x2013;column table. Column 1 is the name of the parameter (network_owner or network_name); column 2 is a description of the parameter." frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="20%" id="d5269e820">Parameter Name</th>
                                    <th align="left" valign="bottom" width="20%" id="d5269e822">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d5269e826" headers="d5269e820 "><code class="codeph">network_owner</code></td>
                                    <td align="left" valign="top" width="20%" headers="d5269e826 d5269e822 ">Name of the schema that owns the network. The default is NULL.
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p>For a schema-private network, must not be null, and must specify a regular database user (that is, not MDSYS or another predefined Oracle-supplied user).</p>
                                          </li>
                                          <li>
                                             <p>For an MDSYS-owned network, must be null.</p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d5269e839" headers="d5269e820 "><code class="codeph">network_name</code></td>
                                    <td align="left" valign="top" width="20%" headers="d5269e839 d5269e822 ">Name of the network. The default is NULL.
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p>For a schema-private network, must not be null, and must specify the name of the network.</p>
                                             <p>The name must be unique within the schema of the network owner. For example, schema SCOTT cannot have two networks named NET1; but schemas SCOTT and ANNA can each have a network named NET1.</p>
                                          </li>
                                          <li>
                                             <p>For an MDSYS-owned network, must be null.</p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-66167C10-938C-4C9A-A408-CE705CE8B98D">Semantic Networks</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="props_rev_3"><a id="GUID-F3FE0C69-8069-4AEF-B3CD-2E63A6164480" name="GUID-F3FE0C69-8069-4AEF-B3CD-2E63A6164480"></a><h5 id="RDFRM-GUID-F3FE0C69-8069-4AEF-B3CD-2E63A6164480" class="sect5"><span class="enumeration_section">1.3.1.2 </span>Types of Semantic Network Users
                     </h5>
                     <div>
                        <p>Schema-private an MDSYS-owned semantic networks can be differentiated based on three key types of users: network creator, network owner, and network user.</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The <span class="bold">network creator</span> is the user that invokes <a href="SEM_APIS-reference.html#GUID-7E0EAF3F-C5A5-4E02-8736-8280ABA35214">SEM_APIS.CREATE_SEM_NETWORK</a>. The network creator should have DBA privileges.
                              </p>
                           </li>
                           <li>
                              <p>The <span class="bold">network owner</span> is the user whose schema will hold the tables, triggers and views that make up the semantic network.
                              </p>
                           </li>
                           <li>
                              <p>A <span class="bold">network user</span> is a database user that performs operations on the semantic network.
                              </p>
                              <p>In many examples in this book, the name <code class="codeph">RDFUSER</code> is given as a sample network user name. There is nothing special about that name string; it could be the name of any database user such as <code class="codeph">SCOTT</code>, <code class="codeph">ANNA</code>, or <code class="codeph">MARKETING</code>.
                              </p>
                              <p>For a schema-private network, the network owner is initially the only network user. (However, other database users can be granted privileges on the network, thus making them additional potential network users.)</p>
                           </li>
                        </ul>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-66167C10-938C-4C9A-A408-CE705CE8B98D">Semantic Networks</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="props_rev_3"><a id="GUID-D27771D8-261F-4A06-8DA7-3AE4B6FB49B0" name="GUID-D27771D8-261F-4A06-8DA7-3AE4B6FB49B0"></a><h5 id="RDFRM-GUID-D27771D8-261F-4A06-8DA7-3AE4B6FB49B0" class="sect5"><span class="enumeration_section">1.3.1.3 </span>Naming Conventions for Semantic Network Objects
                     </h5>
                     <div>
                        <p>Semantic network database objects follow specific naming conventions.</p>
                        <p>All semantic network database objects in a schema-private network are prefixed with <span class="italic">NETWORK_NAME</span>#, for example, USER3.MYNET#SEM_MODEL$ instead of MDSYS.SEM_MODEL$. This book uses the portion of the database object name after the prefix to refer to the object. That is, SEM_MODEL$ refers to MDSYS.SEM_MODEL$ in the case of an MDSYS-owned network, and to <span class="italic">NETWORK_OWNER.NETWORK_NAME</span>#SEM_MODEL$ in the case of a schema-private semantic network.
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-66167C10-938C-4C9A-A408-CE705CE8B98D">Semantic Networks</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="props_rev_3"><a id="GUID-F0394368-486B-4DE9-96DB-412770C6D4CE" name="GUID-F0394368-486B-4DE9-96DB-412770C6D4CE"></a><h5 id="RDFRM-GUID-F0394368-486B-4DE9-96DB-412770C6D4CE" class="sect5"><span class="enumeration_section">1.3.1.4 </span>RDF_PARAMETER Table in Semantic Networks
                     </h5>
                     <div>
                        <p>The MDSYS.RDF_PARAMETER table holds database-wide RDF Semantic Graph installation information such as the installed version, and it holds network-specific information for the MDSYS semantic network.</p>
                        <p>The MDSYS.RDF_PARAMETER table is created during installation and always exists. It is not dependent on the existence of the MDSYS semantic network.</p>
                        <p>In schema-private semantic networks, a <span class="italic">NETWORK_NAME</span>#RDF_PARAMETER table holds network-specific information such as network compression settings and any RDFCTX or RDFOLS policies used in the schema-private network. 
                        </p>
                        <p>A schema-private <span class="italic">NETWORK_NAME</span>#RDF_PARAMETER table is dependent on the existence of the NETWORK_NAME semantic network. This table is created during schema-private network creation and is dropped when the schema-private network is dropped.
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-66167C10-938C-4C9A-A408-CE705CE8B98D">Semantic Networks</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="props_rev_3"><a id="GUID-8355517C-15A3-4942-9F4A-53DEB171FFA0" name="GUID-8355517C-15A3-4942-9F4A-53DEB171FFA0"></a><h5 id="RDFRM-GUID-8355517C-15A3-4942-9F4A-53DEB171FFA0" class="sect5"><span class="enumeration_section">1.3.1.5 </span>Sharing Schema-Private Semantic Networks
                     </h5>
                     <div>
                        <p>After a schema-private network is created, it can optionally be shared, that is, made available for use by other database users besides the network owner. Other users can be allowed to have either of the following access capabilities:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Read/write access to RDF objects and data in the network, such as the ability to create, alter, or drop semantic models and entailments, and to read, insert, modify, or delete RDF data</p>
                           </li>
                           <li>
                              <p>Read-only access to RDF data: the ability to query the semantic data in the network</p>
                           </li>
                        </ul>
                        <p>The logical sequence of steps for granting either or both types of access is as follows: </p>
                        <ol>
                           <li>
                              <p>A DBA must grant network sharing privileges to the network owner. This needs to be done only once for a given network owner.</p>
                           </li>
                           <li>
                              <p>The network owner must enable the specific network for sharing. This needs to be done only once for a given network.</p>
                           </li>
                           <li>
                              <p>The network owner must grant network access privileges to the user(s) that will be allowed to access the network.</p>
                              <p>Each of these grants can subsequently be revoked, if necessary.</p>
                           </li>
                        </ol>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-66167C10-938C-4C9A-A408-CE705CE8B98D">Semantic Networks</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="props_rev_3"><a id="GUID-D583B743-8CAF-42A2-A00A-26C6C031731A" name="GUID-D583B743-8CAF-42A2-A00A-26C6C031731A"></a><h5 id="RDFRM-GUID-D583B743-8CAF-42A2-A00A-26C6C031731A" class="sect5"><span class="enumeration_section">1.3.1.6 </span>Migrating from MDSYS to Schema-Private Semantic Networks
                     </h5>
                     <div>
                        <p>An existing MDSYS-owned semantic network can be migrated to a shared schema-private semantic network by using the <a href="SEM_APIS-reference.html#GUID-2A9CEA49-B845-4B03-9803-B03B9638979E">SEM_APIS.MOVE_SEM_NETWORK_DATA</a> and <a href="SEM_APIS-reference.html#GUID-65282EA9-126B-44F6-8905-6977D9EDBF08">SEM_APIS.APPEND_SEM_NETWORK_DATA</a> procedures. See <a href="rdf-semantic-graph-overview.html#GUID-BF54CDFD-EA97-4C23-AB32-EE7F83D5948B">Moving, Restoring, and Appending a Semantic Network</a> for details.
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-66167C10-938C-4C9A-A408-CE705CE8B98D">Semantic Networks</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="RDFRM565"></a><a id="RDFRM566"></a><a id="RDFRM564"></a><div class="props_rev_3"><a id="GUID-A2556E81-4419-49ED-9EA0-AA7EA3BB67AE" name="GUID-A2556E81-4419-49ED-9EA0-AA7EA3BB67AE"></a><h4 id="RDFRM-GUID-A2556E81-4419-49ED-9EA0-AA7EA3BB67AE" class="sect4"><span class="enumeration_section">1.3.2 </span>Metadata for Models
                  </h4>
                  <div>
                     <p>The SEM_MODEL$ view contains information about all models defined in a semantic network. When you create a model using the <a href="SEM_APIS-reference.html#GUID-1DB639F4-9A60-47CE-B1FC-E4B805D86F2F">SEM_APIS.CREATE_SEM_MODEL</a> procedure, you specify a name for the model, as well as a table and column to hold references to the semantic data, and the system automatically generates a model ID.
                     </p>
                     <p>Oracle maintains the SEM_MODEL$ view automatically when you create and drop models. Users should never modify this view directly. For example, do not use SQL INSERT, UPDATE, or DELETE statements with this view.</p>
                     <p>The SEM_MODEL$ view contains the columns shown in <a href="rdf-semantic-graph-overview.html#GUID-A2556E81-4419-49ED-9EA0-AA7EA3BB67AE__CHDDBDII" title="SEM_MODEL$ view columns">Table 1-2</a>.
                     </p>
                     <div class="tblformal" id="GUID-A2556E81-4419-49ED-9EA0-AA7EA3BB67AE__CHDDBDII">
                        <p class="titleintable">Table 1-2 SEM_MODEL$ View Columns</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="SEM_MODEL$ View Columns" summary="SEM_MODEL$ view columns" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="21%" id="d5269e1280">Column Name</th>
                                 <th align="left" valign="bottom" width="21%" id="d5269e1283">Data Type</th>
                                 <th align="left" valign="bottom" width="58%" id="d5269e1286">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="21%" id="d5269e1291" headers="d5269e1280 ">
                                    <p>OWNER</p>
                                 </td>
                                 <td align="left" valign="top" width="21%" headers="d5269e1291 d5269e1283 ">
                                    <p>VARCHAR2(30)</p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d5269e1291 d5269e1286 ">
                                    <p>Schema of the owner of the model.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="21%" id="d5269e1301" headers="d5269e1280 ">
                                    <p>MODEL_ID</p>
                                 </td>
                                 <td align="left" valign="top" width="21%" headers="d5269e1301 d5269e1283 ">
                                    <p>NUMBER</p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d5269e1301 d5269e1286 ">
                                    <p>Unique model ID number, automatically generated.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="21%" id="d5269e1311" headers="d5269e1280 ">
                                    <p>MODEL_NAME</p>
                                 </td>
                                 <td align="left" valign="top" width="21%" headers="d5269e1311 d5269e1283 ">
                                    <p>VARCHAR2(25)</p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d5269e1311 d5269e1286 ">
                                    <p>Name of the model.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="21%" id="d5269e1321" headers="d5269e1280 ">
                                    <p>TABLE_NAME</p>
                                 </td>
                                 <td align="left" valign="top" width="21%" headers="d5269e1321 d5269e1283 ">
                                    <p>VARCHAR2(30)</p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d5269e1321 d5269e1286 ">
                                    <p>Name of the table to hold references to semantic data for the model.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="21%" id="d5269e1331" headers="d5269e1280 ">
                                    <p>COLUMN_NAME</p>
                                 </td>
                                 <td align="left" valign="top" width="21%" headers="d5269e1331 d5269e1283 ">
                                    <p>VARCHAR2(30)</p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d5269e1331 d5269e1286 ">
                                    <p>Name of the column of type SDO_RDF_TRIPLE_S in the table to hold references to semantic data for the model.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="21%" id="d5269e1341" headers="d5269e1280 ">
                                    <p>MODEL_TABLESPACE_NAME</p>
                                 </td>
                                 <td align="left" valign="top" width="21%" headers="d5269e1341 d5269e1283 ">
                                    <p>VARCHAR2(30)</p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d5269e1341 d5269e1286 ">
                                    <p>Name of the tablespace to be used for storing the triples for this model.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="21%" id="d5269e1351" headers="d5269e1280 ">
                                    <p>MODEL_TYPE</p>
                                 </td>
                                 <td align="left" valign="top" width="21%" headers="d5269e1351 d5269e1283 ">
                                    <p>VARCHAR2(40)</p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d5269e1351 d5269e1286 ">
                                    <p>A value indicating the type of RDF model: <code class="codeph">M</code> for regular model; <code class="codeph">V</code> for virtual model; <code class="codeph">X</code> for model created to store the contents of the semantic index; or <code class="codeph">D</code> for model created on relational data.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="21%" id="d5269e1373" headers="d5269e1280 ">
                                    <p>INMEMORY</p>
                                 </td>
                                 <td align="left" valign="top" width="21%" headers="d5269e1373 d5269e1283 ">
                                    <p>VARCHAR2(1)</p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d5269e1373 d5269e1286 ">
                                    <p>String value indicating if the virtual model is an Oracle Database In-Memory virtual model: <code class="codeph">T</code> for in-memory, or <code class="codeph">F</code> for not in-memory.
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p><a id="d5269e1389" class="indexterm-anchor"></a><a id="d5269e1391" class="indexterm-anchor"></a>When you create a model, a view for the triples associated with the model is also created under the network owner’s schema. This view has a name in the format SEMM_<span class="italic">model-name</span>, and it is visible only to the owner of the model and to users with suitable privileges. Each SEMM_<span class="italic">model-name</span> view contains a row for each triple (stored as a link in a network), and it has the columns shown in <a href="rdf-semantic-graph-overview.html#GUID-A2556E81-4419-49ED-9EA0-AA7EA3BB67AE__CHDDFJCF" title="SEMM_model-name View Columns">Table 1-3</a>.
                     </p>
                     <div class="tblformal" id="GUID-A2556E81-4419-49ED-9EA0-AA7EA3BB67AE__CHDDFJCF">
                        <p class="titleintable">Table 1-3 SEMM_model-name View Columns</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="SEMM_model-name View Columns" summary="SEMM_model-name View Columns" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="24%" id="d5269e1418">Column Name</th>
                                 <th align="left" valign="bottom" width="23%" id="d5269e1421">Data Type</th>
                                 <th align="left" valign="bottom" width="53%" id="d5269e1424">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d5269e1429" headers="d5269e1418 ">
                                    <p>P_VALUE_ID</p>
                                 </td>
                                 <td align="left" valign="top" width="23%" headers="d5269e1429 d5269e1421 ">
                                    <p>NUMBER</p>
                                 </td>
                                 <td align="left" valign="top" width="53%" headers="d5269e1429 d5269e1424 ">
                                    <p>The VALUE_ID for the text value of the predicate of the triple. Part of the primary key.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d5269e1439" headers="d5269e1418 ">
                                    <p>START_NODE_ID</p>
                                 </td>
                                 <td align="left" valign="top" width="23%" headers="d5269e1439 d5269e1421 ">
                                    <p>NUMBER</p>
                                 </td>
                                 <td align="left" valign="top" width="53%" headers="d5269e1439 d5269e1424 ">
                                    <p>The VALUE_ID for the text value of the subject of the triple. Also part of the primary key.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d5269e1449" headers="d5269e1418 ">
                                    <p>CANON_END_NODE_ID</p>
                                 </td>
                                 <td align="left" valign="top" width="23%" headers="d5269e1449 d5269e1421 ">
                                    <p>NUMBER</p>
                                 </td>
                                 <td align="left" valign="top" width="53%" headers="d5269e1449 d5269e1424 ">
                                    <p>The VALUE_ID for the text value of the canonical form of the object of the triple. Also part of the primary key.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d5269e1459" headers="d5269e1418 ">
                                    <p>END_NODE_ID</p>
                                 </td>
                                 <td align="left" valign="top" width="23%" headers="d5269e1459 d5269e1421 ">
                                    <p>NUMBER</p>
                                 </td>
                                 <td align="left" valign="top" width="53%" headers="d5269e1459 d5269e1424 ">
                                    <p>The VALUE_ID for the text value of the object of the triple</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d5269e1469" headers="d5269e1418 ">
                                    <p>MODEL_ID</p>
                                 </td>
                                 <td align="left" valign="top" width="23%" headers="d5269e1469 d5269e1421 ">
                                    <p>NUMBER</p>
                                 </td>
                                 <td align="left" valign="top" width="53%" headers="d5269e1469 d5269e1424 ">
                                    <p>The ID for the RDF model to which the triple belongs.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d5269e1479" headers="d5269e1418 ">
                                    <p>COST</p>
                                 </td>
                                 <td align="left" valign="top" width="23%" headers="d5269e1479 d5269e1421 ">
                                    <p>NUMBER</p>
                                 </td>
                                 <td align="left" valign="top" width="53%" headers="d5269e1479 d5269e1424 ">
                                    <p>(Reserved for future use)</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d5269e1489" headers="d5269e1418 ">
                                    <p>CTXT1</p>
                                 </td>
                                 <td align="left" valign="top" width="23%" headers="d5269e1489 d5269e1421 ">
                                    <p>NUMBER</p>
                                 </td>
                                 <td align="left" valign="top" width="53%" headers="d5269e1489 d5269e1424 ">
                                    <p>(Reserved column; can be used for fine-grained access control)</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d5269e1499" headers="d5269e1418 ">
                                    <p>CTXT2</p>
                                 </td>
                                 <td align="left" valign="top" width="23%" headers="d5269e1499 d5269e1421 ">
                                    <p>VARCHAR2(4000)</p>
                                 </td>
                                 <td align="left" valign="top" width="53%" headers="d5269e1499 d5269e1424 ">
                                    <p>(Reserved for future use)</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d5269e1509" headers="d5269e1418 ">
                                    <p>DISTANCE</p>
                                 </td>
                                 <td align="left" valign="top" width="23%" headers="d5269e1509 d5269e1421 ">
                                    <p>NUMBER</p>
                                 </td>
                                 <td align="left" valign="top" width="53%" headers="d5269e1509 d5269e1424 ">
                                    <p>(Reserved for future use)</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d5269e1519" headers="d5269e1418 ">
                                    <p>EXPLAIN</p>
                                 </td>
                                 <td align="left" valign="top" width="23%" headers="d5269e1519 d5269e1421 ">
                                    <p>VARCHAR2(4000)</p>
                                 </td>
                                 <td align="left" valign="top" width="53%" headers="d5269e1519 d5269e1424 ">
                                    <p>(Reserved for future use)</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d5269e1529" headers="d5269e1418 ">
                                    <p>PATH</p>
                                 </td>
                                 <td align="left" valign="top" width="23%" headers="d5269e1529 d5269e1421 ">
                                    <p>VARCHAR2(4000)</p>
                                 </td>
                                 <td align="left" valign="top" width="53%" headers="d5269e1529 d5269e1424 ">
                                    <p>(Reserved for future use)</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d5269e1540" headers="d5269e1418 ">
                                    <p>G_ID</p>
                                 </td>
                                 <td align="left" valign="top" width="23%" headers="d5269e1540 d5269e1421 ">
                                    <p>NUMBER</p>
                                 </td>
                                 <td align="left" valign="top" width="53%" headers="d5269e1540 d5269e1424 ">
                                    <p>The VALUE_ID for the text value of the graph name for the triple. Null indicates the default graph (see <a href="rdf-semantic-graph-overview.html#GUID-5409C3FE-2DF1-4D95-BF90-6FF8424D3A21">Named Graphs</a>).
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d5269e1554" headers="d5269e1418 ">
                                    <p>LINK_ID</p>
                                 </td>
                                 <td align="left" valign="top" width="23%" headers="d5269e1554 d5269e1421 ">
                                    <p>VARCHAR2(71)</p>
                                 </td>
                                 <td align="left" valign="top" width="53%" headers="d5269e1554 d5269e1424 ">
                                    <p>Unique triple identifier value. (It is currently a computed column, and its definition may change in a future release.)</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="infoboxnote" id="GUID-A2556E81-4419-49ED-9EA0-AA7EA3BB67AE__GUID-468BDF4D-D3BB-418C-A4A7-A6FA17CF36B4">
                        <p class="notep1">Note:</p>
                        <p>In <a href="rdf-semantic-graph-overview.html#GUID-A2556E81-4419-49ED-9EA0-AA7EA3BB67AE__CHDDFJCF" title="SEMM_model-name View Columns">Table 1-3</a>, for columns P_VALUE_ID, START_NODE_ID, END_NODE_ID, CANON_END_NODE_ID, and G_ID, the actual ID values are computed from the corresponding lexical values. However, a lexical value may not always map to the same ID value.
                        </p>
                     </div>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-CE09AF8B-6296-4100-91E5-57F5C5B225F6" title="Semantic data in Oracle Database is stored in one or more semantic networks.">Semantic Data in the Database</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="RDFRM568"></a><a id="RDFRM567"></a><div class="props_rev_3"><a id="GUID-F7D6E792-CFF4-4183-AECE-3CF4A3332D9E" name="GUID-F7D6E792-CFF4-4183-AECE-3CF4A3332D9E"></a><h4 id="RDFRM-GUID-F7D6E792-CFF4-4183-AECE-3CF4A3332D9E" class="sect4"><span class="enumeration_section">1.3.3 </span>Statements
                  </h4>
                  <div>
                     <p>The RDF_VALUE$ table contains information about the subjects, properties, and objects used to represent RDF statements. It uniquely stores the text values (URIs or literals) for these three pieces of information, using a separate row for each part of each triple.</p>
                     <p>Oracle maintains the RDF_VALUE$ table automatically. Users should never modify this view directly. For example, do not use SQL INSERT, UPDATE, or DELETE statements with this view.</p>
                     <p>The RDF_VALUE$ table contains the columns shown in <a href="rdf-semantic-graph-overview.html#GUID-F7D6E792-CFF4-4183-AECE-3CF4A3332D9E__CHDBFGII" title="RDF_VALUE$ table columns">Table 1-4</a>.
                     </p>
                     <div class="tblformal" id="GUID-F7D6E792-CFF4-4183-AECE-3CF4A3332D9E__CHDBFGII">
                        <p class="titleintable">Table 1-4 RDF_VALUE$ Table Columns</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="RDF_VALUE$ Table Columns" summary="RDF_VALUE$ table columns" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="20%" id="d5269e1652">Column Name</th>
                                 <th align="left" valign="bottom" width="21%" id="d5269e1655">Data Type</th>
                                 <th align="left" valign="bottom" width="58%" id="d5269e1658">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d5269e1663" headers="d5269e1652 ">
                                    <p>VALUE_ID</p>
                                 </td>
                                 <td align="left" valign="top" width="21%" headers="d5269e1663 d5269e1655 ">
                                    <p>NUMBER</p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d5269e1663 d5269e1658 ">
                                    <p>Unique value ID number, automatically generated.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d5269e1673" headers="d5269e1652 ">
                                    <p>VALUE_TYPE</p>
                                 </td>
                                 <td align="left" valign="top" width="21%" headers="d5269e1673 d5269e1655 ">
                                    <p>VARCHAR2(10)</p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d5269e1673 d5269e1658 ">
                                    <p>The type of text information stored in the VALUE_NAME column. Possible values: <code class="codeph">UR</code> for URI, <code class="codeph">BN</code> for blank node, <code class="codeph">PL</code> for plain literal, <code class="codeph">PL@</code> for plain literal with a language tag, <code class="codeph">PLL</code> for plain long literal, <code class="codeph">PLL@</code> for plain long literal with a language tag, <code class="codeph">TL</code> for typed literal, or <code class="codeph">TLL</code> for typed long literal. A long literal is a literal with more than 4000 bytes.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d5269e1708" headers="d5269e1652 ">
                                    <p>VNAME_PREFIX</p>
                                 </td>
                                 <td align="left" valign="top" width="21%" headers="d5269e1708 d5269e1655 ">
                                    <p>VARCHAR2(4000)</p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d5269e1708 d5269e1658 ">
                                    <p>If the length of the lexical value is 4000 bytes or less, this column stores a prefix of a portion of the lexical value. The <a href="SEM_APIS-reference.html#GUID-4F70F393-A2BA-4112-8DA9-F2BEEF60A18B">SEM_APIS.VALUE_NAME_PREFIX</a> function can be used for prefix computation. For example, the prefix for the portion of the lexical value <code class="codeph">&lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt;</code> without the angle brackets is <code class="codeph">http://www.w3.org/1999/02/22-rdf-syntax-ns#</code>.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d5269e1728" headers="d5269e1652 ">
                                    <p>VNAME_SUFFIX</p>
                                 </td>
                                 <td align="left" valign="top" width="21%" headers="d5269e1728 d5269e1655 ">
                                    <p>VARCHAR2(512)</p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d5269e1728 d5269e1658 ">
                                    <p>If the length of the lexical value is 4000 bytes or less, this column stores a suffix of a portion of the lexical value. The <a href="SEM_APIS-reference.html#GUID-500A4B04-AAED-4179-A313-520EFDB9F52A">SEM_APIS.VALUE_NAME_SUFFIX</a> function can be used for suffix computation. For the lexical value mentioned in the description of the VNAME_PREFIX column, the suffix is <code class="codeph">type</code>.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d5269e1745" headers="d5269e1652 ">
                                    <p>LITERAL_TYPE</p>
                                 </td>
                                 <td align="left" valign="top" width="21%" headers="d5269e1745 d5269e1655 ">
                                    <p>VARCHAR2(4000)</p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d5269e1745 d5269e1658 ">
                                    <p>For typed literals, the type information; otherwise, null. For example, for a row representing a creation date of 1999-08-16, the VALUE_TYPE column can contain <code class="codeph">TL</code>, and the LITERAL_TYPE column can contain <code class="codeph">http://www.w3.org/2001/XMLSchema#date</code>.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d5269e1761" headers="d5269e1652 ">
                                    <p>LANGUAGE_TYPE</p>
                                 </td>
                                 <td align="left" valign="top" width="21%" headers="d5269e1761 d5269e1655 ">
                                    <p>VARCHAR2(80)</p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d5269e1761 d5269e1658 ">
                                    <p>Language tag (for example, <code class="codeph">fr</code> for French) for a literal with a language tag (that is, if VALUE_TYPE is <code class="codeph">PL@</code> or <code class="codeph">PLL@</code>). Otherwise, this column has a null value.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d5269e1780" headers="d5269e1652 ">
                                    <p>CANON_ID</p>
                                 </td>
                                 <td align="left" valign="top" width="21%" headers="d5269e1780 d5269e1655 ">
                                    <p>NUMBER</p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d5269e1780 d5269e1658 ">
                                    <p>The ID for the canonical lexical value for the current lexical value. (The use of this column may change in a future release.)</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d5269e1790" headers="d5269e1652 ">
                                    <p>COLLISION_EXT</p>
                                 </td>
                                 <td align="left" valign="top" width="21%" headers="d5269e1790 d5269e1655 ">
                                    <p>VARCHAR2(64)</p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d5269e1790 d5269e1658 ">
                                    <p>Used for collision handling for the lexical value. (The use of this column may change in a future release.) </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d5269e1800" headers="d5269e1652 ">
                                    <p>CANON_COLLISION_EXT</p>
                                 </td>
                                 <td align="left" valign="top" width="21%" headers="d5269e1800 d5269e1655 ">
                                    <p>VARCHAR2(64)</p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d5269e1800 d5269e1658 ">
                                    <p>Used for collision handling for the canonical lexical value. (The use of this column may change in a future release.)</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d5269e1810" headers="d5269e1652 ">
                                    <p>ORDER_TYPE</p>
                                 </td>
                                 <td align="left" valign="top" width="21%" headers="d5269e1810 d5269e1655 ">
                                    <p>NUMBER</p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d5269e1810 d5269e1658 ">
                                    <p>Represents order based on data type. Used to improve performance on ORDER BY queries.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d5269e1820" headers="d5269e1652 ">
                                    <p>ORDER_NUM</p>
                                 </td>
                                 <td align="left" valign="top" width="21%" headers="d5269e1820 d5269e1655 ">
                                    <p>NUMBER</p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d5269e1820 d5269e1658 ">
                                    <p>Represents order for number type. Used to improve performance on ORDER BY queries.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d5269e1831" headers="d5269e1652 ">
                                    <p>ORDER_DATE</p>
                                 </td>
                                 <td align="left" valign="top" width="21%" headers="d5269e1831 d5269e1655 ">
                                    <p>TIMESTAMP WITH TIME ZONE</p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d5269e1831 d5269e1658 ">
                                    <p>Represents order based on date type  Used to improve performance on ORDER BY queries.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d5269e1841" headers="d5269e1652 ">
                                    <p>LONG_VALUE</p>
                                 </td>
                                 <td align="left" valign="top" width="21%" headers="d5269e1841 d5269e1655 ">
                                    <p>CLOB</p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d5269e1841 d5269e1658 ">
                                    <p>The character string if the length of the lexical value is greater than 4000 bytes. Otherwise, this column has a null value.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d5269e1851" headers="d5269e1652 ">
                                    <p>GEOM</p>
                                 </td>
                                 <td align="left" valign="top" width="21%" headers="d5269e1851 d5269e1655 ">
                                    <p>SDO_GEOMETRY</p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d5269e1851 d5269e1658 ">
                                    <p>A geometry value when a spatial index is defined.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d5269e1861" headers="d5269e1652 ">
                                    <p>VALUE_NAME</p>
                                 </td>
                                 <td align="left" valign="top" width="21%" headers="d5269e1861 d5269e1655 ">
                                    <p>VARCHAR2(4000)</p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d5269e1861 d5269e1658 ">
                                    <p>This is a computed column. If length of the lexical value is 4000 bytes or less, the value of this column is the concatenation of the values of VNAME_PREFIX column and the VNAME_SUFFIX column.</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-37A361D9-0605-43F1-9830-037BD3218B60">Triple Uniqueness and Data Types for Literals</a><br></li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-CE09AF8B-6296-4100-91E5-57F5C5B225F6" title="Semantic data in Oracle Database is stored in one or more semantic networks.">Semantic Data in the Database</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="RDFRM569"></a><div class="props_rev_3"><a id="GUID-37A361D9-0605-43F1-9830-037BD3218B60" name="GUID-37A361D9-0605-43F1-9830-037BD3218B60"></a><h5 id="RDFRM-GUID-37A361D9-0605-43F1-9830-037BD3218B60" class="sect5"><span class="enumeration_section">1.3.3.1 </span>Triple Uniqueness and Data Types for Literals
                     </h5>
                     <div>
                        <p>Duplicate triples are not stored in a semantic network. To check if a triple is a duplicate of an existing triple, the subject, property, and object of the incoming triple are checked against triple values in the specified model. If the incoming subject, property, and object are all URIs, an exact match of their values determines a duplicate. However, if the object of incoming triple is a literal, an exact match of the subject and property, and a value (canonical) match of the object, determine a duplicate. For example, the following two triples are duplicates:</p><pre class="oac_no_warn" dir="ltr">&lt;eg:a&gt; &lt;eg:b&gt; &lt;"123"^^http://www.w3.org/2001/XMLSchema#int&gt;
&lt;eg:a&gt; &lt;eg:b&gt; &lt;"123"^^http://www.w3.org/2001/XMLSchema#unsignedByte&gt;
</pre><p>The second triple is treated as a duplicate of the first, because <code class="codeph">"123"^^&lt;http://www.w3.org/2001/XMLSchema#int&gt;</code> has an equivalent value (is canonically equivalent) to <code class="codeph">"123"^^&lt;http://www.w3.org/2001/XMLSchema#unsignedByte&gt;</code>. Two entities are canonically equivalent if they can be reduced to the same value.
                        </p>
                        <p>To use a non-RDF example, <code class="codeph">A*(B-C)</code>, <code class="codeph">A*B-C*A</code>, <code class="codeph">(B-C)*A</code>, and <code class="codeph">-A*C+A*B</code> all convert into the same canonical form.
                        </p>
                        <div class="infoboxnote" id="GUID-37A361D9-0605-43F1-9830-037BD3218B60__GUID-FA4CFDC4-AE5E-4F39-8B9F-4BA6A4094582">
                           <p class="notep1">Note:</p>
                           <p>Although duplicate triples and quads are not stored in the underlying table partition for the RDFM_<span class="italic">&lt;model&gt;</span> view, it is possible to have duplicate rows in an application table. For example, if a triple is inserted multiple times into an application table, it will appear once in the RDFM_<span class="italic">&lt;model&gt;</span> view, but will occupy multiple rows in the application table.
                           </p>
                        </div>
                        <p>Value-based matching of lexical forms is supported for the following data types:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>STRING: plain literal, xsd:string and some of its XML Schema subtypes</p>
                           </li>
                           <li>
                              <p>NUMERIC: xsd:decimal and its XML Schema subtypes, xsd:float, and xsd:double. (Support is not provided for float/double INF, -INF, and NaN values.)</p>
                           </li>
                           <li>
                              <p>DATETIME: xsd:datetime, with support for time zone. (Without time zone there are still multiple representations for a single value, for example, <code class="codeph">"2004-02-18T15:12:54"</code> and <code class="codeph">"2004-02-18T15:12:54.0000"</code>.)
                              </p>
                           </li>
                           <li>
                              <p>DATE: xsd:date, with or without time zone</p>
                           </li>
                           <li>
                              <p>OTHER: Everything else. (No attempt is made to match different representations).</p>
                           </li>
                        </ul>
                        <p>Canonicalization is performed when the time zone is present for literals of type xsd:time and xsd:dateTime.</p>
                        <p>The following namespace definition is used: <code class="codeph">xmlns:xsd="http://www.w3.org/2001/XMLSchema"</code></p>
                        <p>The first occurrence of a long literal in the RDF_VALUE$ table is taken as the canonical form and given the VALUE_TYPE value of <code class="codeph">CPLL</code>, <code class="codeph">CPLL@</code>, or <code class="codeph">CTLL</code> as appropriate; that is, a <code class="codeph">C</code> for canonical is prefixed to the actual value type. If a long literal with the same canonical form (but a different lexical representation) as a previously inserted long literal is inserted into the RDF_VALUE$ table, the VALUE_TYPE value assigned to the new insertion is <code class="codeph">PLL</code>, <code class="codeph">PLL@</code>, or <code class="codeph">TLL</code> as appropriate.
                        </p>
                        <p>Canonically equivalent text values having different lexical representations are thus stored in the RDF_VALUE$ table; however, canonically equivalent triples are not stored in the database.</p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-F7D6E792-CFF4-4183-AECE-3CF4A3332D9E">Statements</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="RDFRM570"></a><div class="props_rev_3"><a id="GUID-47085C50-0C42-4025-A8E8-B97DC8403845" name="GUID-47085C50-0C42-4025-A8E8-B97DC8403845"></a><h4 id="RDFRM-GUID-47085C50-0C42-4025-A8E8-B97DC8403845" class="sect4"><span class="enumeration_section">1.3.4 </span>Subjects and Objects
                  </h4>
                  <div>
                     <p>RDF subjects and objects are mapped to nodes in a semantic data network. Subject nodes are the start nodes of links, and object nodes are the end nodes of links. Non-literal nodes (that is, URIs and blank nodes) can be used as both subject and object nodes. Literals can be used only as object nodes.</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-CE09AF8B-6296-4100-91E5-57F5C5B225F6" title="Semantic data in Oracle Database is stored in one or more semantic networks.">Semantic Data in the Database</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="RDFRM571"></a><div class="props_rev_3"><a id="GUID-E7C6F130-ECC6-4718-A707-9DFEB46993AE" name="GUID-E7C6F130-ECC6-4718-A707-9DFEB46993AE"></a><h4 id="RDFRM-GUID-E7C6F130-ECC6-4718-A707-9DFEB46993AE" class="sect4"><span class="enumeration_section">1.3.5 </span>Blank Nodes
                  </h4>
                  <div>
                     <p>Blank nodes can be used as subject and object nodes in the semantic network. Blank node identifiers are different from URIs in that they are scoped within a semantic model. Thus, although multiple occurrences of the same blank node identifier within a single semantic model necessarily refer to the same resource, occurrences of the same blank node identifier in two different semantic models do not refer to the same resource.</p>
                     <p>In an Oracle semantic network, this behavior is modeled by requiring that blank nodes are always reused (that is, are used to represent the same resource if the same blank node identifier is used) within a semantic model, and never reused between two different models. Thus, when inserting triples involving blank nodes into a model, you must use the SDO_RDF_TRIPLE_S constructor that supports reuse of blank nodes.</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-CE09AF8B-6296-4100-91E5-57F5C5B225F6" title="Semantic data in Oracle Database is stored in one or more semantic networks.">Semantic Data in the Database</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="RDFRM572"></a><div class="props_rev_3"><a id="GUID-1CF84655-13A9-4577-B758-C1E0F65C581E" name="GUID-1CF84655-13A9-4577-B758-C1E0F65C581E"></a><h4 id="RDFRM-GUID-1CF84655-13A9-4577-B758-C1E0F65C581E" class="sect4"><span class="enumeration_section">1.3.6 </span>Properties
                  </h4>
                  <div>
                     <p>Properties are mapped to links that have their start node and end node as subjects and objects, respectively. Therefore, a link represents a complete triple. </p>
                     <p>When a triple is inserted into a model, the subject, property, and object text values are checked to see if they already exist in the database. If they already exist (due to previous statements in other models), no new entries are made; if they do not exist, three new rows are inserted into the RDF_VALUE$ table (described in <a href="rdf-semantic-graph-overview.html#GUID-F7D6E792-CFF4-4183-AECE-3CF4A3332D9E">Statements</a>).
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-CE09AF8B-6296-4100-91E5-57F5C5B225F6" title="Semantic data in Oracle Database is stored in one or more semantic networks.">Semantic Data in the Database</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="RDFRM574"></a><a id="RDFRM575"></a><a id="RDFRM576"></a><a id="RDFRM577"></a><a id="RDFRM578"></a><a id="RDFRM573"></a><div class="props_rev_3"><a id="GUID-B6D8E41B-9537-42AA-9083-B16C2972964B" name="GUID-B6D8E41B-9537-42AA-9083-B16C2972964B"></a><h4 id="RDFRM-GUID-B6D8E41B-9537-42AA-9083-B16C2972964B" class="sect4"><span class="enumeration_section">1.3.7 </span>Inferencing: Rules and Rulebases
                  </h4>
                  <div>
                     <p>Inferencing is the ability to make logical deductions based on rules. Inferencing enables you to construct queries that perform semantic matching based on meaningful relationships among pieces of data, as opposed to just syntactic matching based on string or other values. Inferencing involves the use of rules, either supplied by Oracle or user-defined, placed in rulebases.</p>
                     <p><a href="rdf-semantic-graph-overview.html#GUID-B6D8E41B-9537-42AA-9083-B16C2972964B__CHDJBHEB">Figure 1-2</a> shows triple sets being inferred from model data and the application of rules in one or more rulebases. In this illustration, the database can have any number of semantic models, rulebases, and inferred triple sets, and an inferred triple set can be derived using rules in one or more rulebases.
                     </p>
                     <div class="figure" id="GUID-B6D8E41B-9537-42AA-9083-B16C2972964B__CHDJBHEB">
                        <p class="titleinfigure">Figure 1-2 Inferencing</p><img src="img/inferencing.gif" alt="Description of Figure 1-2 follows" title="Description of Figure 1-2 follows" longdesc="img_text/inferencing.html"><br><a href="img_text/inferencing.html">Description of "Figure 1-2 Inferencing"</a></div>
                     <!-- class="figure" -->
                     <p>A <span class="bold">rule</span> is an object that can be applied to draw inferences from semantic data. A rule is identified by a name and consists of:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>An IF side pattern for the antecedents</p>
                        </li>
                        <li>
                           <p>A THEN side pattern for the consequents</p>
                        </li>
                     </ul>
                     <p>For example, the rule that <span class="italic">a chairperson of a conference is also a reviewer of the conference</span> could be represented as follows:
                     </p><pre class="oac_no_warn" dir="ltr">('chairpersonRule', -- rule name
 '(?r :ChairPersonOf ?c)', -- IF side pattern
 NULL,  -- filter condition
 '(?r :ReviewerOf ?c)', -- THEN side pattern
 SEM_ALIASES (SEM_ALIAS('', 'http://some.org/test/'))
)
</pre><p>For best performance, use a single-triple pattern on the THEN side of the rule. If a rule has multiple triple patterns on the THEN side, you can easily break it into multiple rules, each with a single-triple pattern, on the THEN side.</p>
                     <p>A <span class="bold">rulebase</span> is an object that contains rules. <a id="d5269e2310" class="indexterm-anchor"></a><a id="d5269e2314" class="indexterm-anchor"></a><a id="d5269e2318" class="indexterm-anchor"></a><a id="d5269e2320" class="indexterm-anchor"></a>The following Oracle-supplied rulebases are provided:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>RDFS</p>
                        </li>
                        <li>
                           <p>RDF (a subset of RDFS)</p>
                        </li>
                        <li>
                           <p>OWLSIF (empty)</p>
                        </li>
                        <li>
                           <p>RDFS++ (empty)</p>
                        </li>
                        <li>
                           <p>OWL2EL (empty)</p>
                        </li>
                        <li>
                           <p>OWL2RL (empty)</p>
                        </li>
                        <li>
                           <p>OWLPrime (empty)</p>
                        </li>
                        <li>
                           <p>SKOSCORE (empty)</p>
                        </li>
                     </ul>
                     <p>The RDFS and RDF rulebases are created when you call the <a href="SEM_APIS-reference.html#GUID-7E0EAF3F-C5A5-4E02-8736-8280ABA35214">SEM_APIS.CREATE_SEM_NETWORK</a> procedure to add RDF support to the database. The RDFS rulebase implements the RDFS entailment rules, as described in the World Wide Web Consortium (W3C) <span class="italic">RDF Semantics</span> document at <a href="http://www.w3.org/TR/rdf-mt/" target="_blank"><code class="codeph">http://www.w3.org/TR/rdf-mt/</code></a>. The RDF rulebase represents the RDF entailment rules, which are a subset of the RDFS entailment rules. You can see the contents of these rulebases by examining the SEMR_RDFS and SEMR_RDF views.
                     </p>
                     <p>You can also create user-defined rulebases using the <a href="SEM_APIS-reference.html#GUID-B416E056-2D9B-4FAB-92D4-9C25CCB6C43A">SEM_APIS.CREATE_RULEBASE</a> procedure. User-defined rulebases enable you to provide additional specialized inferencing capabilities.
                     </p>
                     <p><a id="d5269e2370" class="indexterm-anchor"></a><a id="d5269e2372" class="indexterm-anchor"></a>For each rulebase, a table is created to hold rules in the rulebase, along with a view with a name in the format SEMR_<span class="italic">rulebase-name</span> (for example, <span>SEMR_FAMILY_RB</span> for a rulebase named <code class="codeph">FAMILY_RB</code>). You must use this view to insert, delete, and modify rules in the rulebase. Each SEMR_<span class="italic">rulebase-name</span> view has the columns shown in <a href="rdf-semantic-graph-overview.html#GUID-B6D8E41B-9537-42AA-9083-B16C2972964B__CHDFDCHJ" title="SEMR_rulebase-name view columns">Table 1-5</a>.
                     </p>
                     <div class="tblformal" id="GUID-B6D8E41B-9537-42AA-9083-B16C2972964B__CHDFDCHJ">
                        <p class="titleintable">Table 1-5 SEMR_rulebase-name View Columns</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="SEMR_rulebase-name View Columns" summary="SEMR_rulebase-name view columns" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="20%" id="d5269e2406">Column Name</th>
                                 <th align="left" valign="bottom" width="21%" id="d5269e2409">Data Type</th>
                                 <th align="left" valign="bottom" width="58%" id="d5269e2412">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d5269e2417" headers="d5269e2406 ">
                                    <p>RULE_NAME</p>
                                 </td>
                                 <td align="left" valign="top" width="21%" headers="d5269e2417 d5269e2409 ">
                                    <p>VARCHAR2(30)</p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d5269e2417 d5269e2412 ">
                                    <p>Name of the rule</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d5269e2427" headers="d5269e2406 ">
                                    <p>ANTECEDENTS</p>
                                 </td>
                                 <td align="left" valign="top" width="21%" headers="d5269e2427 d5269e2409 ">
                                    <p>VARCHAR2(4000)</p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d5269e2427 d5269e2412 ">
                                    <p>IF side pattern for the antecedents</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d5269e2437" headers="d5269e2406 ">
                                    <p>FILTER</p>
                                 </td>
                                 <td align="left" valign="top" width="21%" headers="d5269e2437 d5269e2409 ">
                                    <p>VARCHAR2(4000)</p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d5269e2437 d5269e2412 ">
                                    <p>(Not supported.)</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d5269e2447" headers="d5269e2406 ">
                                    <p>CONSEQUENTS</p>
                                 </td>
                                 <td align="left" valign="top" width="21%" headers="d5269e2447 d5269e2409 ">
                                    <p>VARCHAR2(4000)</p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d5269e2447 d5269e2412 ">
                                    <p>THEN side pattern for the consequents</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d5269e2457" headers="d5269e2406 ">
                                    <p>ALIASES</p>
                                 </td>
                                 <td align="left" valign="top" width="21%" headers="d5269e2457 d5269e2409 ">
                                    <p>SEM_ALIASES</p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d5269e2457 d5269e2412 ">
                                    <p>One or more namespaces to be used. (The SEM_ALIASES data type is described in <a href="rdf-semantic-graph-overview.html#GUID-71464CC4-1C03-48A4-9A4C-0E671FF8F16E" title="To query semantic data, use the SEM_MATCH table function.">Using the SEM_MATCH Table Function to Query Semantic Data</a>.)
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p><a id="d5269e2474" class="indexterm-anchor"></a><a id="d5269e2476" class="indexterm-anchor"></a>Information about all rulebases is maintained in the SEM_RULEBASE_INFO view, which has the columns shown in <a href="rdf-semantic-graph-overview.html#GUID-B6D8E41B-9537-42AA-9083-B16C2972964B__CHDIDJBF" title="SEM_RULEBASE_INFO view columns">Table 1-6</a> and one row for each rulebase.
                     </p>
                     <div class="tblformal" id="GUID-B6D8E41B-9537-42AA-9083-B16C2972964B__CHDIDJBF">
                        <p class="titleintable">Table 1-6 SEM_RULEBASE_INFO View Columns</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="SEM_RULEBASE_INFO View Columns" summary="SEM_RULEBASE_INFO view columns" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="20%" id="d5269e2497">Column Name</th>
                                 <th align="left" valign="bottom" width="21%" id="d5269e2500">Data Type</th>
                                 <th align="left" valign="bottom" width="58%" id="d5269e2503">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d5269e2508" headers="d5269e2497 ">
                                    <p>OWNER</p>
                                 </td>
                                 <td align="left" valign="top" width="21%" headers="d5269e2508 d5269e2500 ">
                                    <p>VARCHAR2(30)</p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d5269e2508 d5269e2503 ">
                                    <p>Owner of the rulebase</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d5269e2518" headers="d5269e2497 ">
                                    <p>RULEBASE_NAME</p>
                                 </td>
                                 <td align="left" valign="top" width="21%" headers="d5269e2518 d5269e2500 ">
                                    <p>VARCHAR2(25)</p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d5269e2518 d5269e2503 ">
                                    <p>Name of the rulebase</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d5269e2528" headers="d5269e2497 ">
                                    <p>RULEBASE_VIEW_NAME</p>
                                 </td>
                                 <td align="left" valign="top" width="21%" headers="d5269e2528 d5269e2500 ">
                                    <p>VARCHAR2(30)</p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d5269e2528 d5269e2503 ">
                                    <p>Name of the view that you must use for any SQL statements that insert, delete, or modify rules in the rulebase</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d5269e2538" headers="d5269e2497 ">
                                    <p>STATUS</p>
                                 </td>
                                 <td align="left" valign="top" width="21%" headers="d5269e2538 d5269e2500 ">
                                    <p>VARCHAR2(30)</p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d5269e2538 d5269e2503 ">
                                    <p>Contains <code class="codeph">VALID</code> if the rulebase is valid, <code class="codeph">INPROGRESS</code> if the rulebase is being created, or <code class="codeph">FAILED</code> if a system failure occurred during the creation of the rulebase.
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="example" id="GUID-B6D8E41B-9537-42AA-9083-B16C2972964B__CHDEBEGA">
                        <p class="titleinexample">Example 1-1 Inserting a Rule into a Rulebase</p>
                        <p><a href="rdf-semantic-graph-overview.html#GUID-B6D8E41B-9537-42AA-9083-B16C2972964B__CHDEBEGA">Example 1-1</a> creates a rulebase named <code class="codeph">family_rb</code>, and then inserts a rule named <code class="codeph">grandparent_rule</code> into the <code class="codeph">family_rb</code> rulebase. This rule says that if a person is the parent of a child who is the parent of a child, that person is a grandparent of (that is, has the <code class="codeph">grandParentOf</code> relationship with respect to) his or her child's child. It also specifies a namespace to be used. (This example is an excerpt from <a href="rdf-semantic-graph-overview.html#GUID-ADC458F4-570C-4081-8844-107F9F63E915__CHDGCDGI">Example 1-117</a> in <a href="rdf-semantic-graph-overview.html#GUID-ADC458F4-570C-4081-8844-107F9F63E915">Example: Family Information</a>.)
                        </p><pre class="oac_no_warn" dir="ltr">EXECUTE SEM_APIS.CREATE_RULEBASE('family_rb', network_owner=&gt;'RDFUSER', network_name=&gt;'NET1');

INSERT INTO rdfuser.net1#semr_family_rb VALUES(
  'grandparent_rule',
  '(?x :parentOf ?y) (?y :parentOf ?z)',
  NULL,
  '(?x :grandParentOf ?z)', 
  SEM_ALIASES(SEM_ALIAS('','http://www.example.org/family/')));
</pre><p>Note that the kind of grandparent rule shown in <a href="rdf-semantic-graph-overview.html#GUID-B6D8E41B-9537-42AA-9083-B16C2972964B__CHDEBEGA">Example 1-1</a> can be implemented using the OWL 2 property chain construct. For information about property chain handling, see <a href="simple-knowledge-organizaiton-system-skos.html#GUID-07A2DF29-AAE0-42F6-9B65-32F896E8260E">Property Chain Handling</a>.
                        </p>
                     </div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-B6D8E41B-9537-42AA-9083-B16C2972964B__CHDECGII">
                        <p class="titleinexample">Example 1-2 Using Rulebases for Inferencing</p>
                        <p>You can specify one or more rulebases when calling the SEM_MATCH table function (described in <a href="rdf-semantic-graph-overview.html#GUID-71464CC4-1C03-48A4-9A4C-0E671FF8F16E" title="To query semantic data, use the SEM_MATCH table function.">Using the SEM_MATCH Table Function to Query Semantic Data</a>), to control the behavior of queries against semantic data. <a href="rdf-semantic-graph-overview.html#GUID-B6D8E41B-9537-42AA-9083-B16C2972964B__CHDECGII">Example 1-2</a> refers to the <code class="codeph">family_rb</code> rulebase and to the <code class="codeph">grandParentOf</code> relationship created in <a href="rdf-semantic-graph-overview.html#GUID-B6D8E41B-9537-42AA-9083-B16C2972964B__CHDEBEGA">Example 1-1</a>, to find all grandfathers (grandparents who are male) and their grandchildren. (This example is an excerpt from <a href="rdf-semantic-graph-overview.html#GUID-ADC458F4-570C-4081-8844-107F9F63E915__CHDGCDGI">Example 1-117</a> in <a href="rdf-semantic-graph-overview.html#GUID-ADC458F4-570C-4081-8844-107F9F63E915">Example: Family Information</a>.)
                        </p><pre class="oac_no_warn" dir="ltr">-- Select all grandfathers and their grandchildren from the family model.
-- Use inferencing from both the RDFS and family_rb rulebases.
SELECT x$rdfterm grandfather, y$rdfterm grandchild
  FROM TABLE(SEM_MATCH(
    'PREFIX  rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt;
     PREFIX rdfs: &lt;http://www.w3.org/2000/01/rdf-schema#&gt;
     PREFIX     : &lt;http://www.example.org/family/&gt;
     SELECT ?x ?y
     WHERE {?x :grandParentOf ?y . ?x rdf:type :Male}',
    SEM_Models('family'),
    SEM_Rulebases('RDFS','family_rb'), 
    null,  null, null,
    ' PLUS_RDFT=VC ',
    null, null,
    'RDFUSER', 'NET1'));
</pre><p>For information about support for native OWL inferencing, see <a href="owl-concepts.html#GUID-30145814-CB5E-45ED-B220-677515F91AA9" title="You can use entailment rules to perform native OWL inferencing.">Using OWL Inferencing</a>.
                        </p>
                     </div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-CE09AF8B-6296-4100-91E5-57F5C5B225F6" title="Semantic data in Oracle Database is stored in one or more semantic networks.">Semantic Data in the Database</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="RDFRM580"></a><a id="RDFRM581"></a><a id="RDFRM582"></a><a id="RDFRM579"></a><div class="props_rev_3"><a id="GUID-AE3CFE93-13CF-444E-9523-0693572851E7" name="GUID-AE3CFE93-13CF-444E-9523-0693572851E7"></a><h4 id="RDFRM-GUID-AE3CFE93-13CF-444E-9523-0693572851E7" class="sect4"><span class="enumeration_section">1.3.8 </span>Entailments (Rules Indexes)
                  </h4>
                  <div>
                     <p>An <span class="bold">entailment</span> (rules index) is an object containing precomputed triples that can be inferred from applying a specified set of rulebases to a specified set of models. If a SEM_MATCH query refers to any rulebases, an entailment must exist for each rulebase-model combination in the query.
                     </p>
                     <p>To create an entailment, use the <a href="SEM_APIS-reference.html#GUID-BF52CEC0-1BD9-4908-9EF1-F001B0527257">SEM_APIS.CREATE_ENTAILMENT</a> procedure. To drop (delete) an entailment, use the <a href="SEM_APIS-reference.html#GUID-F316F158-52B0-46E7-806E-B2CF0AD90676">SEM_APIS.DROP_ENTAILMENT</a> procedure.
                     </p>
                     <p><a id="d5269e2705" class="indexterm-anchor"></a><a id="d5269e2707" class="indexterm-anchor"></a>When you create an entailment, a view for the triples associated with the entailment is also created under the network owner’s schema. This view has a name in the format SEMI_<span class="italic">entailment-name</span>, and it is visible only to the owner of the entailment and to users with suitable privileges. Each SEMI_<span class="italic">entailment-name</span> view contains a row for each triple (stored as a link in a network), and it has the same columns as the SEMM_<span class="italic">model-name</span> view, which is described in <a href="rdf-semantic-graph-overview.html#GUID-A2556E81-4419-49ED-9EA0-AA7EA3BB67AE__CHDDFJCF" title="SEMM_model-name View Columns">Table 1-3</a> in <a href="rdf-semantic-graph-overview.html#GUID-A2556E81-4419-49ED-9EA0-AA7EA3BB67AE">Metadata for Models</a>.
                     </p>
                     <p><a id="d5269e2732" class="indexterm-anchor"></a><a id="d5269e2734" class="indexterm-anchor"></a>Information about all entailments is maintained in the SEM_RULES_INDEX_INFO view, which has the columns shown in <a href="rdf-semantic-graph-overview.html#GUID-AE3CFE93-13CF-444E-9523-0693572851E7__CHDFBHGJ" title="SEM_RULES_INDEX_INFO view columns">Table 1-7</a> and one row for each entailment.
                     </p>
                     <div class="tblformal" id="GUID-AE3CFE93-13CF-444E-9523-0693572851E7__CHDFBHGJ">
                        <p class="titleintable">Table 1-7 SEM_RULES_INDEX_INFO View Columns</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="SEM_RULES_INDEX_INFO View Columns" summary="SEM_RULES_INDEX_INFO view columns" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="20%" id="d5269e2755">Column Name</th>
                                 <th align="left" valign="bottom" width="21%" id="d5269e2758">Data Type</th>
                                 <th align="left" valign="bottom" width="58%" id="d5269e2761">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d5269e2766" headers="d5269e2755 ">
                                    <p>OWNER</p>
                                 </td>
                                 <td align="left" valign="top" width="21%" headers="d5269e2766 d5269e2758 ">
                                    <p>VARCHAR2(30)</p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d5269e2766 d5269e2761 ">
                                    <p>Owner of the entailment</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d5269e2776" headers="d5269e2755 ">
                                    <p>INDEX_NAME</p>
                                 </td>
                                 <td align="left" valign="top" width="21%" headers="d5269e2776 d5269e2758 ">
                                    <p>VARCHAR2(25)</p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d5269e2776 d5269e2761 ">
                                    <p>Name of the entailment</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d5269e2786" headers="d5269e2755 ">
                                    <p>INDEX_VIEW_NAME</p>
                                 </td>
                                 <td align="left" valign="top" width="21%" headers="d5269e2786 d5269e2758 ">
                                    <p>VARCHAR2(30)</p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d5269e2786 d5269e2761 ">
                                    <p>Name of the view that you must use for any SQL statements that insert, delete, or modify rules in the entailment</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d5269e2796" headers="d5269e2755 ">
                                    <p>STATUS</p>
                                 </td>
                                 <td align="left" valign="top" width="21%" headers="d5269e2796 d5269e2758 ">
                                    <p>VARCHAR2(30)</p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d5269e2796 d5269e2761 ">
                                    <p>Contains <code class="codeph">VALID</code> if the entailment is valid, <code class="codeph">INVALID</code> if the entailment is not valid, <code class="codeph">INCOMPLETE</code> if the entailment is incomplete (similar to <code class="codeph">INVALID</code> but requiring less time to re-create), <code class="codeph">INPROGRESS</code> if the entailment is being created, or <code class="codeph">FAILED</code> if a system failure occurred during the creation of the entailment.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d5269e2825" headers="d5269e2755 ">
                                    <p>MODEL_COUNT</p>
                                 </td>
                                 <td align="left" valign="top" width="21%" headers="d5269e2825 d5269e2758 ">
                                    <p>NUMBER</p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d5269e2825 d5269e2761 ">
                                    <p>Number of models included in the entailment</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d5269e2835" headers="d5269e2755 ">
                                    <p>RULEBASE_COUNT</p>
                                 </td>
                                 <td align="left" valign="top" width="21%" headers="d5269e2835 d5269e2758 ">
                                    <p>NUMBER</p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d5269e2835 d5269e2761 ">
                                    <p>Number of rulebases included in the entailment</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p><a id="d5269e2845" class="indexterm-anchor"></a><a id="d5269e2847" class="indexterm-anchor"></a>Information about all database objects, such as models and rulebases, related to entailments is maintained in the SEM_RULES_INDEX_DATASETS view. This view has the columns shown in <a href="rdf-semantic-graph-overview.html#GUID-AE3CFE93-13CF-444E-9523-0693572851E7__CHDIAJAI" title="SEM_RULES_INDEX_DATASETS view columns">Table 1-8</a> and one row for each unique combination of values of all the columns.
                     </p>
                     <div class="tblformal" id="GUID-AE3CFE93-13CF-444E-9523-0693572851E7__CHDIAJAI">
                        <p class="titleintable">Table 1-8 SEM_RULES_INDEX_DATASETS View Columns</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="SEM_RULES_INDEX_DATASETS View Columns" summary="SEM_RULES_INDEX_DATASETS view columns" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="20%" id="d5269e2868">Column Name</th>
                                 <th align="left" valign="bottom" width="21%" id="d5269e2871">Data Type</th>
                                 <th align="left" valign="bottom" width="58%" id="d5269e2874">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d5269e2879" headers="d5269e2868 ">
                                    <p>INDEX_NAME</p>
                                 </td>
                                 <td align="left" valign="top" width="21%" headers="d5269e2879 d5269e2871 ">
                                    <p>VARCHAR2(25)</p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d5269e2879 d5269e2874 ">
                                    <p>Name of the entailment</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d5269e2889" headers="d5269e2868 ">
                                    <p>DATA_TYPE</p>
                                 </td>
                                 <td align="left" valign="top" width="21%" headers="d5269e2889 d5269e2871 ">
                                    <p>VARCHAR2(8)</p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d5269e2889 d5269e2874 ">
                                    <p>Type of data included in the entailment. Examples: <code class="codeph">MODEL</code> and <code class="codeph">RULEBASE</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d5269e2904" headers="d5269e2868 ">
                                    <p>DATA_NAME</p>
                                 </td>
                                 <td align="left" valign="top" width="21%" headers="d5269e2904 d5269e2871 ">
                                    <p>VARCHAR2(25)</p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d5269e2904 d5269e2874 ">
                                    <p>Name of the object of the type in the DATA_TYPE column</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p><a href="rdf-semantic-graph-overview.html#GUID-AE3CFE93-13CF-444E-9523-0693572851E7__CHDJIFAI">Example 1-3</a> creates an entailment named <code class="codeph">family_rb_rix_family</code>, using the <code class="codeph">family</code> model and the <code class="codeph">RDFS</code> and <code class="codeph">family_rb</code> rulebases. (This example is an excerpt from <a href="rdf-semantic-graph-overview.html#GUID-ADC458F4-570C-4081-8844-107F9F63E915__CHDGCDGI">Example 1-117</a> in <a href="rdf-semantic-graph-overview.html#GUID-ADC458F4-570C-4081-8844-107F9F63E915">Example: Family Information</a>.)
                     </p>
                     <div class="example" id="GUID-AE3CFE93-13CF-444E-9523-0693572851E7__CHDJIFAI">
                        <p class="titleinexample">Example 1-3 Creating an Entailment</p><pre class="oac_no_warn" dir="ltr">BEGIN
  SEM_APIS.CREATE_ENTAILMENT(
    'rdfs_rix_family',
    SEM_Models('family'),
    SEM_Rulebases('RDFS','family_rb'), 
    network_owner=&gt;'RDFUSER', network_name=&gt;'NET1');
END;
/
</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-CE09AF8B-6296-4100-91E5-57F5C5B225F6" title="Semantic data in Oracle Database is stored in one or more semantic networks.">Semantic Data in the Database</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="RDFRM99876"></a><a id="RDFRM99896"></a><a id="RDFRM99897"></a><a id="RDFRM99895"></a><a id="RDFRM99894"></a><div class="props_rev_3"><a id="GUID-8B957406-5ED1-4579-9C23-0EDE2FDF2964" name="GUID-8B957406-5ED1-4579-9C23-0EDE2FDF2964"></a><h4 id="RDFRM-GUID-8B957406-5ED1-4579-9C23-0EDE2FDF2964" class="sect4"><span class="enumeration_section">1.3.9 </span>Virtual Models
                  </h4>
                  <div>
                     <p>A virtual model is a logical graph that can be used in a SEM_MATCH query. A virtual model is the result of a UNION or UNION ALL operation on one or more models and/or entailments.</p>
                     <p>Using a virtual model can provide several benefits:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>It can simplify management of access privileges for semantic data. For example, assume that you have created three semantic models and one entailment based on the three models and the OWLPrime rulebase. Without a virtual model, you must individually grant and revoke access privileges for each model and the entailment. However, if you create a virtual model that contains the three models and the entailment, you will only need to grant and revoke access privileges for the single virtual model.</p>
                        </li>
                        <li>
                           <p>It can facilitate rapid updates to semantic models. For example, assume that virtual model VM1 contains model M1 and entailment R1 (that is, VM1 = M1 UNION ALL R1), and assume that semantic model M1_UPD is a copy of M1 that has been updated with additional triples and that R1_UPD is an entailment created for M1_UPD. Now, to have user queries over VM1 go to the updated model and entailment, you can redefine virtual model VM1 (that is, VM1 = M1_UPD UNION ALL R1_UPD).</p>
                        </li>
                        <li>
                           <p>It can simplify query specification because querying a virtual model is equivalent to querying multiple models in a SEM_MATCH query. For example, assume that models m1, m2, and m3 already exist, and that an entailment has been created for m1, m2 ,and m3 using the OWLPrime rulebase. You could create a virtual model vm1 as follows: </p><pre class="oac_no_warn" dir="ltr">EXECUTE sem_apis.create_virtual_model('vm1', sem_models('m1', 'm2', 'm3'), 
                                      sem_rulebases('OWLPRIME'),
                                      network_owner=&gt;'RDFUSER',
                                      network_name=&gt;'NET1');
</pre><p>To query the virtual model, use the virtual model name as if it were a model in a SEM_MATCH query. For example, the following query on the virtual model:</p><pre class="oac_no_warn" dir="ltr">SELECT * FROM TABLE (sem_match('{…}', sem_models('vm1'), null, …));
</pre><p>is equivalent to the following query on all the individual models:</p><pre class="oac_no_warn" dir="ltr">SELECT * FROM TABLE (sem_match('{…}', sem_models('m1', 'm2', 'm3'), 
                                      sem_rulebases('OWLPRIME'), …));
</pre><p>A SEM_MATCH query over a virtual model will query either the <span class="italic">SEMV</span> or <span class="italic">SEMU</span> view (<span class="italic">SEMU</span> by default and <span class="italic">SEMV</span> if the 'ALLOW_DUP=T' option is specified) rather than querying the UNION or UNION ALL of each model and entailment. For information about these views and options, see the reference section for the <a href="SEM_APIS-reference.html#GUID-CAFA0FE5-3A96-4DBD-A9EC-F3E0466807DB">SEM_APIS.CREATE_VIRTUAL_MODEL</a> procedure.
                           </p>
                        </li>
                     </ul>
                     <p>Virtual models use views (described later in this section) and add some metadata entries, but do not significantly increase system storage requirements.</p>
                     <p>To create a virtual model, use the <a href="SEM_APIS-reference.html#GUID-CAFA0FE5-3A96-4DBD-A9EC-F3E0466807DB">SEM_APIS.CREATE_VIRTUAL_MODEL</a> procedure. To drop (delete) a virtual model, use the <a href="SEM_APIS-reference.html#GUID-0BE64DB8-37FB-496B-BFDD-8284444D27F1">SEM_APIS.DROP_VIRTUAL_MODEL</a> procedure. A virtual model is dropped automatically if any of its component models, rulebases, or entailment are dropped. To replace a virtual model without dropping it, use the <a href="SEM_APIS-reference.html#GUID-CAFA0FE5-3A96-4DBD-A9EC-F3E0466807DB">SEM_APIS.CREATE_VIRTUAL_MODEL</a> procedure with the <code class="codeph">REPLACE=T</code> option. Replacing a virtual model allows you to redefine it while maintaining any access privileges.
                     </p>
                     <p>To query a virtual model, specify the virtual model name in the <code class="codeph">models</code> parameter of the SEM_MATCH table function, as shown in <a href="rdf-semantic-graph-overview.html#GUID-8B957406-5ED1-4579-9C23-0EDE2FDF2964__CIHHIJII">Example 1-4</a>.
                     </p>
                     <p>For information about the SEM_MATCH table function, see <a href="rdf-semantic-graph-overview.html#GUID-71464CC4-1C03-48A4-9A4C-0E671FF8F16E" title="To query semantic data, use the SEM_MATCH table function.">Using the SEM_MATCH Table Function to Query Semantic Data</a>, which includes information using certain attributes when querying a virtual model.
                     </p>
                     <p><a id="d5269e3076" class="indexterm-anchor"></a><a id="d5269e3080" class="indexterm-anchor"></a>When you create a virtual model, an entry is created for it in the SEM_MODEL$ view, which is described in <a href="rdf-semantic-graph-overview.html#GUID-A2556E81-4419-49ED-9EA0-AA7EA3BB67AE__CHDDBDII" title="SEM_MODEL$ view columns">Table 1-2</a> in <a href="rdf-semantic-graph-overview.html#GUID-A2556E81-4419-49ED-9EA0-AA7EA3BB67AE">Metadata for Models</a>. However, the values in several of the columns are different for virtual models as opposed to semantic models, as explained in <a href="rdf-semantic-graph-overview.html#GUID-8B957406-5ED1-4579-9C23-0EDE2FDF2964__CIHCEBAD" title="SEM_MODEL$ view columns (for virtual models)">Table 1-9</a>.
                     </p>
                     <div class="tblformal" id="GUID-8B957406-5ED1-4579-9C23-0EDE2FDF2964__CIHCEBAD">
                        <p class="titleintable">Table 1-9 SEM_MODEL$ View Column Explanations for Virtual Models</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="SEM_MODEL$ View Column Explanations for Virtual Models" summary="SEM_MODEL$ view columns (for virtual models)" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="21%" id="d5269e3110">Column Name</th>
                                 <th align="left" valign="bottom" width="19%" id="d5269e3113">Data Type</th>
                                 <th align="left" valign="bottom" width="60%" id="d5269e3116">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="21%" id="d5269e3121" headers="d5269e3110 ">
                                    <p>OWNER</p>
                                 </td>
                                 <td align="left" valign="top" width="19%" headers="d5269e3121 d5269e3113 ">
                                    <p>VARCHAR2(30)</p>
                                 </td>
                                 <td align="left" valign="top" width="60%" headers="d5269e3121 d5269e3116 ">
                                    <p>Schema of the owner of the virtual model</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="21%" id="d5269e3131" headers="d5269e3110 ">
                                    <p>MODEL_ID</p>
                                 </td>
                                 <td align="left" valign="top" width="19%" headers="d5269e3131 d5269e3113 ">
                                    <p>NUMBER</p>
                                 </td>
                                 <td align="left" valign="top" width="60%" headers="d5269e3131 d5269e3116 ">
                                    <p>Unique model ID number, automatically generated. Will be a negative number, to indicate that this is a virtual model.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="21%" id="d5269e3141" headers="d5269e3110 ">
                                    <p>MODEL_NAME</p>
                                 </td>
                                 <td align="left" valign="top" width="19%" headers="d5269e3141 d5269e3113 ">
                                    <p>VARCHAR2(25)</p>
                                 </td>
                                 <td align="left" valign="top" width="60%" headers="d5269e3141 d5269e3116 ">
                                    <p>Name of the virtual model</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="21%" id="d5269e3151" headers="d5269e3110 ">
                                    <p>TABLE_NAME</p>
                                 </td>
                                 <td align="left" valign="top" width="19%" headers="d5269e3151 d5269e3113 ">
                                    <p>VARCHAR2(30)</p>
                                 </td>
                                 <td align="left" valign="top" width="60%" headers="d5269e3151 d5269e3116 ">
                                    <p>Null for a virtual model</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="21%" id="d5269e3161" headers="d5269e3110 ">
                                    <p>COLUMN_NAME</p>
                                 </td>
                                 <td align="left" valign="top" width="19%" headers="d5269e3161 d5269e3113 ">
                                    <p>VARCHAR2(30)</p>
                                 </td>
                                 <td align="left" valign="top" width="60%" headers="d5269e3161 d5269e3116 ">
                                    <p>Null for a virtual model</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="21%" id="d5269e3171" headers="d5269e3110 ">
                                    <p>MODEL_TABLESPACE_NAME</p>
                                 </td>
                                 <td align="left" valign="top" width="19%" headers="d5269e3171 d5269e3113 ">
                                    <p>VARCHAR2(30)</p>
                                 </td>
                                 <td align="left" valign="top" width="60%" headers="d5269e3171 d5269e3116 ">
                                    <p>Null for a virtual model</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p><a id="d5269e3181" class="indexterm-anchor"></a><a id="d5269e3183" class="indexterm-anchor"></a>Information about all virtual models is maintained in the SEM_VMODEL_INFO view, which has the columns shown in <a href="rdf-semantic-graph-overview.html#GUID-8B957406-5ED1-4579-9C23-0EDE2FDF2964__CIHHBDHI" title="SEM_VMODEL_INFO view columns">Table 1-10</a> and one row for each virtual model.
                     </p>
                     <div class="tblformal" id="GUID-8B957406-5ED1-4579-9C23-0EDE2FDF2964__CIHHBDHI">
                        <p class="titleintable">Table 1-10 SEM_VMODEL_INFO View Columns</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="SEM_VMODEL_INFO View Columns" summary="SEM_VMODEL_INFO view columns" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="20%" id="d5269e3204">Column Name</th>
                                 <th align="left" valign="bottom" width="21%" id="d5269e3207">Data Type</th>
                                 <th align="left" valign="bottom" width="58%" id="d5269e3210">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d5269e3215" headers="d5269e3204 ">
                                    <p>OWNER</p>
                                 </td>
                                 <td align="left" valign="top" width="21%" headers="d5269e3215 d5269e3207 ">
                                    <p>VARCHAR2(30)</p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d5269e3215 d5269e3210 ">
                                    <p>Owner of the virtual model</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d5269e3225" headers="d5269e3204 ">
                                    <p>VIRTUAL_MODEL_NAME</p>
                                 </td>
                                 <td align="left" valign="top" width="21%" headers="d5269e3225 d5269e3207 ">
                                    <p>VARCHAR2(25)</p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d5269e3225 d5269e3210 ">
                                    <p>Name of the virtual model</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d5269e3235" headers="d5269e3204 ">
                                    <p>UNIQUE_VIEW_NAME</p>
                                 </td>
                                 <td align="left" valign="top" width="21%" headers="d5269e3235 d5269e3207 ">
                                    <p>VARCHAR2(30)</p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d5269e3235 d5269e3210 ">
                                    <p>Name of the view that contains unique triples in the virtual model, or null if the view was not created</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d5269e3245" headers="d5269e3204 ">
                                    <p>DUPLICATE_VIEW_NAME</p>
                                 </td>
                                 <td align="left" valign="top" width="21%" headers="d5269e3245 d5269e3207 ">
                                    <p>VARCHAR2(30)</p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d5269e3245 d5269e3210 ">
                                    <p>Name of the view that contains duplicate triples (if any) in the virtual model</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d5269e3255" headers="d5269e3204 ">
                                    <p>STATUS</p>
                                 </td>
                                 <td align="left" valign="top" width="21%" headers="d5269e3255 d5269e3207 ">
                                    <p>VARCHAR2(30)</p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d5269e3255 d5269e3210 ">
                                    <p>Contains <code class="codeph">VALID</code> if the associated entailment is valid, <code class="codeph">INVALID</code> if the entailment is not valid, <code class="codeph">INCOMPLETE</code> if the entailment is incomplete (similar to <code class="codeph">INVALID</code> but requiring less time to re-create), <code class="codeph">INPROGRESS</code> if the entailment is being created, <code class="codeph">FAILED</code> if a system failure occurred during the creation of the entailment, or <code class="codeph">NORIDX</code> if no entailment is associated with the virtual model.
                                    </p>
                                    <p>In the case of multiple entailments, the lowest status among all of the component entailments is used as the virtual model's status (<code class="codeph">INVALID</code> &lt; <code class="codeph">INCOMPLETE</code> &lt; <code class="codeph">VALID</code>).
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d5269e3298" headers="d5269e3204 ">
                                    <p>MODEL_COUNT</p>
                                 </td>
                                 <td align="left" valign="top" width="21%" headers="d5269e3298 d5269e3207 ">
                                    <p>NUMBER</p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d5269e3298 d5269e3210 ">
                                    <p>Number of models in the virtual model</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d5269e3308" headers="d5269e3204 ">
                                    <p>RULEBASE_COUNT</p>
                                 </td>
                                 <td align="left" valign="top" width="21%" headers="d5269e3308 d5269e3207 ">
                                    <p>NUMBER</p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d5269e3308 d5269e3210 ">
                                    <p>Number of rulebases used for the virtual model</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d5269e3318" headers="d5269e3204 ">
                                    <p>RULES_INDEX_COUNT</p>
                                 </td>
                                 <td align="left" valign="top" width="21%" headers="d5269e3318 d5269e3207 ">
                                    <p>NUMBER</p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d5269e3318 d5269e3210 ">
                                    <p>Number of entailments in the virtual model</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p><a id="d5269e3329" class="indexterm-anchor"></a><a id="d5269e3331" class="indexterm-anchor"></a>Information about all objects (models, rulebases, and entailments) related to virtual models is maintained in the SEM_VMODEL_DATASETS view. This view has the columns shown in <a href="rdf-semantic-graph-overview.html#GUID-8B957406-5ED1-4579-9C23-0EDE2FDF2964__CIHBHJGE" title="SEM_VMODEL_DATASETS view columns">Table 1-11</a> and one row for each unique combination of values of all the columns.
                     </p>
                     <div class="tblformal" id="GUID-8B957406-5ED1-4579-9C23-0EDE2FDF2964__CIHBHJGE">
                        <p class="titleintable">Table 1-11 SEM_VMODEL_DATASETS View Columns</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="SEM_VMODEL_DATASETS View Columns" summary="SEM_VMODEL_DATASETS view columns" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="20%" id="d5269e3352">Column Name</th>
                                 <th align="left" valign="bottom" width="21%" id="d5269e3355">Data Type</th>
                                 <th align="left" valign="bottom" width="58%" id="d5269e3358">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d5269e3363" headers="d5269e3352 ">
                                    <p>VIRTUAL_MODEL_NAME</p>
                                 </td>
                                 <td align="left" valign="top" width="21%" headers="d5269e3363 d5269e3355 ">
                                    <p>VARCHAR2(25)</p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d5269e3363 d5269e3358 ">
                                    <p>Name of the virtual model</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d5269e3373" headers="d5269e3352 ">
                                    <p>DATA_TYPE</p>
                                 </td>
                                 <td align="left" valign="top" width="21%" headers="d5269e3373 d5269e3355 ">
                                    <p>VARCHAR2(8)</p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d5269e3373 d5269e3358 ">
                                    <p>Type of object included in the virtual model. Examples: <code class="codeph">MODEL</code> for a semantic model, <code class="codeph">RULEBASE</code> for a rulebase, or <code class="codeph">RULEIDX</code> for an entailment
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d5269e3392" headers="d5269e3352 ">
                                    <p>DATA_NAME</p>
                                 </td>
                                 <td align="left" valign="top" width="21%" headers="d5269e3392 d5269e3355 ">
                                    <p>VARCHAR2(25)</p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d5269e3392 d5269e3358 ">
                                    <p>Name of the object of the type in the DATA_TYPE column</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="example" id="GUID-8B957406-5ED1-4579-9C23-0EDE2FDF2964__CIHHIJII">
                        <p class="titleinexample">Example 1-4 Querying a Virtual Model</p><pre class="oac_no_warn" dir="ltr">SELECT COUNT(protein)
  FROM TABLE (SEM_MATCH (
    'SELECT ?protein
     WHERE {
      ?protein rdf:type :Protein .
      ?protein :citation ?citation . 
      ?citation :author "Bairoch A."}',
    SEM_MODELS('<span class="bold">UNIPROT_VM</span>'), 
    NULL, 
    SEM_ALIASES(SEM_ALIAS('', 'http://purl.uniprot.org/core/')),
    NULL, 
    NULL, 
    'ALLOW_DUP=T',
    NULL,
    NULL,
    'RDFUSER','NET1'));
</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-CE09AF8B-6296-4100-91E5-57F5C5B225F6" title="Semantic data in Oracle Database is stored in one or more semantic networks.">Semantic Data in the Database</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="RDFRM164"></a><div class="props_rev_3"><a id="GUID-5409C3FE-2DF1-4D95-BF90-6FF8424D3A21" name="GUID-5409C3FE-2DF1-4D95-BF90-6FF8424D3A21"></a><h4 id="RDFRM-GUID-5409C3FE-2DF1-4D95-BF90-6FF8424D3A21" class="sect4"><span class="enumeration_section">1.3.10 </span>Named Graphs
                  </h4>
                  <div>
                     <p>RDF Semantic Graph supports the use of named graphs, which are described in the "RDF Dataset" section of the W3C <span class="italic">SPARQL Query Language for RDF</span> recommendation (<a href="http://www.w3.org/TR/rdf-sparql-query/#rdfDataset" target="_blank"><code class="codeph">http://www.w3.org/TR/rdf-sparql-query/#rdfDataset</code></a>). 
                     </p>
                     <p>This support is provided by extending an RDF triple consisting of the traditional subject, predicate, and object, to include an additional component to represent a <span class="bold">graph name</span>. The extended RDF triple, despite having four components, will continue to be referred to as an <span class="italic">RDF triple</span> in this document. In addition, the following terms are sometimes used:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><span class="bold">N-Triple</span> is a format that does not allow extended triples. Thus, n-triples can include only triples with three components.
                           </p>
                        </li>
                        <li>
                           <p><a id="d5269e3489" class="indexterm-anchor"></a><span class="bold">N-Quad</span> is a format that allows both "regular" triples (three components) and extended triples (four components, including the graph name). For more information, see <a href="http://www.w3.org/TR/2013/NOTE-n-quads-20130409/" target="_blank"><code class="codeph">http://www.w3.org/TR/2013/NOTE-n-quads-20130409/</code></a>.
                           </p>
                           <p>To load a file containing extended triples (possibly mixed with regular triples) into an Oracle database, the input file must be in N-Quad format.</p>
                        </li>
                     </ul>
                     <p>The graph name component of an RDF triple must either be null or a URI. If it is null, the RDF triple is said to belong to a <span class="bold">default graph</span>; otherwise it is said to belong to a named graph whose name is designated by the URI.
                     </p>
                     <p>Additionally, to support named graphs in SDO_RDF_TRIPLE_S object type (described in <a href="rdf-semantic-graph-overview.html#GUID-D7734D1A-EAC0-4581-B3CC-2E23C8F97D94" title="The SDO_RDF_TRIPLE object type represents semantic data in triple format, and the SDO_RDF_TRIPLE_S object type (the _S for storage) stores persistent semantic data in the database.">Semantic Data Types_ Constructors_ and Methods</a>), a new syntax is provided for specifying a model-graph, that is, a combination of model and graph (if any) together, and the RDF_M_ID attribute holds the identifier for a model-graph: a combination of model ID and value ID for the graph (if any). The name of a model-graph is specified as <span class="italic">model_name</span>, and if a graph is present, followed by the colon (<code class="codeph">:</code>) separator character and the graph name (which must be a URI and enclosed within angle brackets <code class="codeph">&lt; &gt;</code>).
                     </p>
                     <p>For example, in a medical data set the named graph component for each RDF triple might be a URI based on patient identifier, so there could be as many named graphs as there are unique patients, with each named graph consisting of data for a specific patient.</p>
                     <p>For information about performing specific operations with named graphs, see the following:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Using constructors and methods: <a href="rdf-semantic-graph-overview.html#GUID-D7734D1A-EAC0-4581-B3CC-2E23C8F97D94" title="The SDO_RDF_TRIPLE object type represents semantic data in triple format, and the SDO_RDF_TRIPLE_S object type (the _S for storage) stores persistent semantic data in the database.">Semantic Data Types_ Constructors_ and Methods</a></p>
                        </li>
                        <li>
                           <p>Loading: <a href="rdf-semantic-graph-overview.html#GUID-0D35BEBE-68C6-4A2F-9E07-5D223EBD6419">Loading N-Quad Format Data into a Staging Table Using an External Table</a> and <a href="rdf-semantic-graph-overview.html#GUID-8D46CB97-3CC7-493B-9250-28BFAFDB8269">Loading Data into Named Graphs Using INSERT Statements</a></p>
                        </li>
                        <li>
                           <p>Querying: <a href="rdf-semantic-graph-overview.html#GUID-45654D98-A2B5-4815-949D-2F48FA66DA51">GRAPH Keyword Support</a> and <a href="rdf-semantic-graph-overview.html#GUID-7CEE1E1B-507A-4AE5-9998-9193269BF692">Expressions in the SELECT Clause</a></p>
                        </li>
                        <li>
                           <p>Inferencing: <a href="owl-concepts.html#GUID-6353E485-A0A0-4F81-8D69-1B26DF227050">Using Named Graph Based Inferencing (Global and Local)</a></p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-5A43B66F-6B26-433F-8F69-9DD615B72DB0">Data Formats Related to Named Graph Support</a><br></li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-CE09AF8B-6296-4100-91E5-57F5C5B225F6" title="Semantic data in Oracle Database is stored in one or more semantic networks.">Semantic Data in the Database</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="RDFRM138"></a><a id="RDFRM139"></a><a id="RDFRM137"></a><div class="props_rev_3"><a id="GUID-5A43B66F-6B26-433F-8F69-9DD615B72DB0" name="GUID-5A43B66F-6B26-433F-8F69-9DD615B72DB0"></a><h5 id="RDFRM-GUID-5A43B66F-6B26-433F-8F69-9DD615B72DB0" class="sect5"><span class="enumeration_section">1.3.10.1 </span>Data Formats Related to Named Graph Support
                     </h5>
                     <div>
                        <p><a href="http://wifo5-03.informatik.uni-mannheim.de/bizer/trig/" target="_blank">TriG</a> and <a href="http://www.w3.org/TR/n-quads/." target="_blank">N-QUADS</a> are two popular data formats that provide graph names (or context) to triple data. The graph names (context) can be used in a variety of different ways. Typical usage includes, but is not limited to, the grouping of triples for ease of management, localized query, localized inference, and provenance.
                        </p>
                        <div class="example" id="GUID-5A43B66F-6B26-433F-8F69-9DD615B72DB0__CIHGHHIA">
                           <p class="titleinexample">Example 1-5 RDF Data Encoded in TriG Format</p>
                           <p><a href="rdf-semantic-graph-overview.html#GUID-5A43B66F-6B26-433F-8F69-9DD615B72DB0__CIHGHHIA">Example 1-5</a> shows an RDF data set encoded in TriG format. It contains a default graph and a named graph.
                           </p><pre class="oac_no_warn" dir="ltr">@prefix foaf: &lt;http://xmlns.com/foaf/0.1/&gt; .
@prefix dc: &lt;http://purl.org/dc/elements/1.1/&gt; .
 
# Default graph
{
  &lt;http://my.com/John&gt; dc:publisher &lt;http://publisher/Xyz&gt; .
}
 
# A named graph
&lt;http://my.com/John&gt; {
  &lt;http://my.com/John&gt; foaf:name "John Doe" .
}
</pre><p>When loading the TriG file from <a href="rdf-semantic-graph-overview.html#GUID-5A43B66F-6B26-433F-8F69-9DD615B72DB0__CIHGHHIA">Example 1-5</a> into a <code class="codeph">DatasetGraphOracleSem</code> object (for example, using <a href="rdf-suipport-for-apache-jena.html#GUID-1109AB37-AFD5-4172-B7E5-6F279782A22E__BGBFBJEF">Example 6-12</a> in <a href="rdf-suipport-for-apache-jena.html#GUID-1109AB37-AFD5-4172-B7E5-6F279782A22E" title="To load thousands to hundreds of thousands of RDF/OWL data files into an Oracle database, you can use the prepareBulk and completeBulk methods in the OracleBulkUpdateHandler Java class to simplify the task.">Bulk Loading Using RDF Semantic Graph Support for Apache Jena</a>, but replacing the constant <code class="codeph">"N-QUADS"</code> with <code class="codeph">"TRIG"</code>), the triples in the default graph will be loaded into Oracle Database as triples with null graph names, and the triples in the named graphs will be loaded into Oracle Database with the designated graph names.
                           </p>
                        </div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-5A43B66F-6B26-433F-8F69-9DD615B72DB0__CIHJADFH">
                           <p class="titleinexample">Example 1-6 N-QUADS Format Representation</p>
                           <p>N-QUADS format is a simple extension of the existing N-TRIPLES format by adding an optional fourth column (graph name or context). <a href="rdf-semantic-graph-overview.html#GUID-5A43B66F-6B26-433F-8F69-9DD615B72DB0__CIHJADFH">Example 1-6</a> shows the N-QUADS format representation of the TriG file from <a href="rdf-semantic-graph-overview.html#GUID-5A43B66F-6B26-433F-8F69-9DD615B72DB0__CIHGHHIA">Example 1-5</a>.
                           </p><pre class="oac_no_warn" dir="ltr">&lt;http://my.com/John&gt; &lt;http://purl.org/dc/elements/1.1/publisher&gt; &lt;http://publisher/Xyz&gt; .
&lt;http://my.com/John&gt; &lt;http://xmlns.com/foaf/0.1/name&gt; "John Doe" &lt;http://my.com/John&gt;
</pre><p>When loading an N-QUADS file into a <code class="codeph">DatasetGraphOracleSem</code> object (see <a href="rdf-suipport-for-apache-jena.html#GUID-1109AB37-AFD5-4172-B7E5-6F279782A22E__BGBFBJEF">Example 6-12</a>), lines without the fourth column will be loaded into Oracle Database as triples with null graph names, and lines with a fourth column will be loaded into Oracle Database with the designated graph names.
                           </p>
                        </div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-5409C3FE-2DF1-4D95-BF90-6FF8424D3A21">Named Graphs</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="RDFRM583"></a><div class="props_rev_3"><a id="GUID-1344F198-9E1C-4D77-829D-E38E1E1D9385" name="GUID-1344F198-9E1C-4D77-829D-E38E1E1D9385"></a><h4 id="RDFRM-GUID-1344F198-9E1C-4D77-829D-E38E1E1D9385" class="sect4"><span class="enumeration_section">1.3.11 </span>Semantic Data Security Considerations
                  </h4>
                  <div>
                     <p>The following database security considerations apply to the use of semantic data:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>When a model or entailment is created, the owner gets the SELECT privilege with the GRANT option on the associated view. Users that have the SELECT privilege on these views can perform SEM_MATCH queries against the associated model or entailment.</p>
                        </li>
                        <li>
                           <p>When a rulebase is created, the owner gets the SELECT, INSERT, UPDATE, and DELETE privileges on the rulebase, with the GRANT option. Users that have the SELECT privilege on a rulebase can create an entailment that includes the rulebase. The INSERT, UPDATE, and DELETE privileges control which users can modify the rulebase and how they can modify it.</p>
                        </li>
                        <li>
                           <p>To perform data manipulation language (DML) operations on a model, a user must have DML privileges for the corresponding base table.</p>
                        </li>
                        <li>
                           <p>The creator of the base table corresponding to a model can grant privileges to other users.</p>
                        </li>
                        <li>
                           <p>To perform data manipulation language (DML) operations on a rulebase, a user must have the appropriate privileges on the corresponding database view.</p>
                        </li>
                        <li>
                           <p>The creator of a model can grant SELECT privileges on the corresponding database view to other users.</p>
                        </li>
                        <li>
                           <p>A user can query only those models for which that user has SELECT privileges to the corresponding database views.</p>
                        </li>
                        <li>
                           <p>Only the creator of a model or a rulebase can drop it.</p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-CE09AF8B-6296-4100-91E5-57F5C5B225F6" title="Semantic data in Oracle Database is stored in one or more semantic networks.">Semantic Data in the Database</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="RDFRM585"></a><a id="RDFRM584"></a><div class="props_rev_3"><a id="GUID-6F93C56B-9007-4F37-9A8F-0ECF4AC204A5" name="GUID-6F93C56B-9007-4F37-9A8F-0ECF4AC204A5"></a><h3 id="RDFRM-GUID-6F93C56B-9007-4F37-9A8F-0ECF4AC204A5" class="sect3"><span class="enumeration_section">1.4 </span>Semantic Metadata Tables and Views
               </h3>
               <div>
                  <p>Oracle Database maintains several tables and views in the network owner’s schema to hold metadata related to semantic data.</p>
                  <p>Some of these tables and views are created by the <a href="SEM_APIS-reference.html#GUID-7E0EAF3F-C5A5-4E02-8736-8280ABA35214">SEM_APIS.CREATE_SEM_NETWORK</a> procedure, as explained in <a href="rdf-semantic-graph-overview.html#GUID-7F590F2D-F382-4CD6-A95A-757010BB148F" title="To work with semantic data in an Oracle database, follow these general steps.">Quick Start for Using Semantic Data</a>, and some are created only as needed.<a href="rdf-semantic-graph-overview.html#GUID-6F93C56B-9007-4F37-9A8F-0ECF4AC204A5__CHDIDCED" title="RDF metadata tables and views">Table 1-12</a> lists the tables and views in alphabetical order. (In addition, several tables and views are created for Oracle internal use, and these are accessible only by users with DBA privileges or network owners of schema-private semantic networks.)
                  </p>
                  <div class="tblformal" id="GUID-6F93C56B-9007-4F37-9A8F-0ECF4AC204A5__CHDIDCED">
                     <p class="titleintable">Table 1-12 Semantic Metadata Tables and Views</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="Semantic Metadata Tables and Views" summary="RDF metadata tables and views" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="20%" id="d5269e3858">Name</th>
                              <th align="left" valign="bottom" width="32%" id="d5269e3861">Contains Information About</th>
                              <th align="left" valign="bottom" width="48%" id="d5269e3864">Described In</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d5269e3869" headers="d5269e3858 ">
                                 <p>RDF_CRS_URI$</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d5269e3869 d5269e3861 ">
                                 <p>Available EPSG spatial reference system URIs</p>
                              </td>
                              <td align="left" valign="top" width="48%" headers="d5269e3869 d5269e3864 ">
                                 <p><a href="rdf-semantic-graph-overview.html#GUID-3986DFD4-F23A-4379-A859-9EA1F1582D43">Spatial Support</a></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d5269e3880" headers="d5269e3858 ">
                                 <p>RDF_VALUE$</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d5269e3880 d5269e3861 ">
                                 <p>Subjects, properties, and objects used to represent statements</p>
                              </td>
                              <td align="left" valign="top" width="48%" headers="d5269e3880 d5269e3864 ">
                                 <p><a href="rdf-semantic-graph-overview.html#GUID-F7D6E792-CFF4-4183-AECE-3CF4A3332D9E">Statements</a></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d5269e3892" headers="d5269e3858 ">&nbsp;</td>
                              <td align="left" valign="top" width="32%" headers="d5269e3892 d5269e3861 ">&nbsp;</td>
                              <td align="left" valign="top" width="48%" headers="d5269e3892 d5269e3864 ">&nbsp;</td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d5269e3896" headers="d5269e3858 ">
                                 <p>SEM_DTYPE_INDEX_INFO</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d5269e3896 d5269e3861 ">
                                 <p>All data type indexes in the network</p>
                              </td>
                              <td align="left" valign="top" width="48%" headers="d5269e3896 d5269e3864 ">
                                 <p><a href="rdf-semantic-graph-overview.html#GUID-E0FC3EA3-9385-4D94-AB3C-72F65EDAC966" title="Data type indexes are indexes on the values of typed literals stored in a semantic network.">Using Data Type Indexes</a></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d5269e3911" headers="d5269e3858 ">
                                 <p>SEM_MODEL$</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d5269e3911 d5269e3861 ">
                                 <p>All models defined in the database</p>
                              </td>
                              <td align="left" valign="top" width="48%" headers="d5269e3911 d5269e3864 ">
                                 <p><a href="rdf-semantic-graph-overview.html#GUID-A2556E81-4419-49ED-9EA0-AA7EA3BB67AE">Metadata for Models</a></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d5269e3923" headers="d5269e3858 ">
                                 <p>SEM_NETWORK_INDEX_INFO$</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d5269e3923 d5269e3861 ">
                                 <p>Semantic network indexes</p>
                              </td>
                              <td align="left" valign="top" width="48%" headers="d5269e3923 d5269e3864 ">
                                 <p><a href="rdf-semantic-graph-overview.html#GUID-D47120ED-1CC6-47ED-8216-C7E2E9910064">MDSYS.SEM_NETWORK_INDEX_INFO View</a></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d5269e3935" headers="d5269e3858 ">
                                 <p>SEM_RULEBASE_INFO</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d5269e3935 d5269e3861 ">
                                 <p>Rulebases</p>
                              </td>
                              <td align="left" valign="top" width="48%" headers="d5269e3935 d5269e3864 ">
                                 <p><a href="rdf-semantic-graph-overview.html#GUID-B6D8E41B-9537-42AA-9083-B16C2972964B">Inferencing: Rules and Rulebases</a></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d5269e3947" headers="d5269e3858 ">
                                 <p>SEM_RULES_INDEX_DATASETS</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d5269e3947 d5269e3861 ">
                                 <p>Database objects used in entailments</p>
                              </td>
                              <td align="left" valign="top" width="48%" headers="d5269e3947 d5269e3864 ">
                                 <p><a href="rdf-semantic-graph-overview.html#GUID-AE3CFE93-13CF-444E-9523-0693572851E7">Entailments (Rules Indexes)</a></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d5269e3959" headers="d5269e3858 ">
                                 <p>SEM_RULES_INDEX_INFO</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d5269e3959 d5269e3861 ">
                                 <p>Entailments (rules indexes)</p>
                              </td>
                              <td align="left" valign="top" width="48%" headers="d5269e3959 d5269e3864 ">
                                 <p><a href="rdf-semantic-graph-overview.html#GUID-AE3CFE93-13CF-444E-9523-0693572851E7">Entailments (Rules Indexes)</a></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d5269e3971" headers="d5269e3858 ">
                                 <p>SEM_VMODEL_INFO</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d5269e3971 d5269e3861 ">
                                 <p>Virtual models</p>
                              </td>
                              <td align="left" valign="top" width="48%" headers="d5269e3971 d5269e3864 ">
                                 <p><a href="rdf-semantic-graph-overview.html#GUID-8B957406-5ED1-4579-9C23-0EDE2FDF2964">Virtual Models</a></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d5269e3983" headers="d5269e3858 ">
                                 <p>SEM_VMODEL_DATASETS</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d5269e3983 d5269e3861 ">
                                 <p>Database objects used in virtual models</p>
                              </td>
                              <td align="left" valign="top" width="48%" headers="d5269e3983 d5269e3864 ">
                                 <p><a href="rdf-semantic-graph-overview.html#GUID-8B957406-5ED1-4579-9C23-0EDE2FDF2964">Virtual Models</a></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d5269e3996" headers="d5269e3858 ">
                                 <p>SEMCL_<span class="italic">entailment-name</span></p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d5269e3996 d5269e3861 ">
                                 <p><code class="codeph">owl:sameAs</code> clique members and canonical representatives
                                 </p>
                              </td>
                              <td align="left" valign="top" width="48%" headers="d5269e3996 d5269e3864 ">
                                 <p><a href="owl-concepts.html#GUID-8C2819B1-1EBA-4D71-A463-5179AA4A929E">Optimizing owl:sameAs Inference</a></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d5269e4012" headers="d5269e3858 ">
                                 <p>SEMI_<span class="italic">entailment-name</span></p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d5269e4012 d5269e3861 ">
                                 <p>Triples in the specified entailment</p>
                              </td>
                              <td align="left" valign="top" width="48%" headers="d5269e4012 d5269e3864 ">
                                 <p><a href="rdf-semantic-graph-overview.html#GUID-AE3CFE93-13CF-444E-9523-0693572851E7">Entailments (Rules Indexes)</a></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d5269e4026" headers="d5269e3858 ">
                                 <p>SEMM_<span class="italic">model-name</span></p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d5269e4026 d5269e3861 ">
                                 <p>Triples in the specified model</p>
                              </td>
                              <td align="left" valign="top" width="48%" headers="d5269e4026 d5269e3864 ">
                                 <p><a href="rdf-semantic-graph-overview.html#GUID-A2556E81-4419-49ED-9EA0-AA7EA3BB67AE">Metadata for Models</a></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d5269e4040" headers="d5269e3858 ">
                                 <p>SEMR_<span class="italic">rulebase-name</span></p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d5269e4040 d5269e3861 ">
                                 <p>Rules in the specified rulebase</p>
                              </td>
                              <td align="left" valign="top" width="48%" headers="d5269e4040 d5269e3864 ">
                                 <p><a href="rdf-semantic-graph-overview.html#GUID-B6D8E41B-9537-42AA-9083-B16C2972964B">Inferencing: Rules and Rulebases</a></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d5269e4054" headers="d5269e3858 ">
                                 <p>SEMU_<span class="italic">virtual-model-name</span></p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d5269e4054 d5269e3861 ">
                                 <p>Unique triples in the virtual model</p>
                              </td>
                              <td align="left" valign="top" width="48%" headers="d5269e4054 d5269e3864 ">
                                 <p><a href="rdf-semantic-graph-overview.html#GUID-8B957406-5ED1-4579-9C23-0EDE2FDF2964">Virtual Models</a></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d5269e4068" headers="d5269e3858 ">
                                 <p>SEMV_<span class="italic">virtual-model-name</span></p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d5269e4068 d5269e3861 ">
                                 <p>Triples in the virtual model</p>
                              </td>
                              <td align="left" valign="top" width="48%" headers="d5269e4068 d5269e3864 ">
                                 <p><a href="rdf-semantic-graph-overview.html#GUID-8B957406-5ED1-4579-9C23-0EDE2FDF2964">Virtual Models</a></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-F422BB9F-8473-4980-9D6C-848F708C10E0" title="Oracle Spatial and Graph support for semantic technologies consists mainly of Resource Description Framework (RDF) and a subset of the Web Ontology Language (OWL). These capabilities are referred to as the RDF Knowledge Graph feature of Oracle Spatial and Graph.">RDF Knowledge Graph Overview</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="RDFRM587"></a><a id="RDFRM586"></a><div class="props_rev_3"><a id="GUID-D7734D1A-EAC0-4581-B3CC-2E23C8F97D94" name="GUID-D7734D1A-EAC0-4581-B3CC-2E23C8F97D94"></a><h3 id="RDFRM-GUID-D7734D1A-EAC0-4581-B3CC-2E23C8F97D94" class="sect3"><span class="enumeration_section">1.5 </span>Semantic Data Types, Constructors, and Methods
               </h3>
               <div>
                  <p>The SDO_RDF_TRIPLE object type represents semantic data in triple format, and the SDO_RDF_TRIPLE_S object type (the _S for storage) stores persistent semantic data in the database.</p>
                  <p>The SDO_RDF_TRIPLE_S type has references to the data, because the actual semantic data is stored only in the central RDF schema. This type has methods to retrieve the entire triple or part of the triple.</p>
                  <div class="infoboxnote" id="GUID-D7734D1A-EAC0-4581-B3CC-2E23C8F97D94__GUID-8D9500C8-4624-4873-ADEE-40A27DA57D10">
                     <p class="notep1">Note:</p>
                     <p>Blank nodes are always reused within an RDF model and cannot be reused across models</p>
                  </div>
                  <p>The SDO_RDF_TRIPLE type is used to display triples, whereas the SDO_RDF_TRIPLE_S type is used to store the triples in database tables.</p>
                  <p>The SDO_RDF_TRIPLE object type has the following attributes:</p><pre class="oac_no_warn" dir="ltr">SDO_RDF_TRIPLE (
  subject VARCHAR2(4000), 
  property VARCHAR2(4000), 
  object VARCHAR2(10000))
</pre><p>The SDO_RDF_TRIPLE_S object type has the following attributes:</p><pre class="oac_no_warn" dir="ltr">SDO_RDF_TRIPLE_S (
  RDF_C_ID NUMBER, -- Canonical object value ID
  RDF_M_ID NUMBER, -- Model (or Model-Graph) ID 
  RDF_S_ID NUMBER, -- Subject value ID
  RDF_P_ID NUMBER, -- Property value ID
  RDF_O_ID NUMBER) -- Object value ID
</pre><p>The SDO_RDF_TRIPLE_S type has the following methods that retrieve the name of the RDF model (or model-graph), a triple, or a part (subject, property, or object) of a triple:</p><pre class="oac_no_warn" dir="ltr">GET_MODEL(
 NETWORK_OWNER VARCHAR2 DEFAULT NULL,
 NETWORK_NAME  VARCHAR2 DEFAULT NULL) RETURNS VARCHAR2
GET_TRIPLE(
 NETWORK_OWNER VARCHAR2 DEFAULT NULL,
 NETWORK_NAME  VARCHAR2 DEFAULT NULL) RETURNS SDO_RDF_TRIPLE
GET_SUBJECT(
 NETWORK_OWNER VARCHAR2 DEFAULT NULL,
 NETWORK_NAME  VARCHAR2 DEFAULT NULL) RETURNS VARCHAR2
GET_PROPERTY(
 NETWORK_OWNER VARCHAR2 DEFAULT NULL,
 NETWORK_NAME  VARCHAR2 DEFAULT NULL) RETURNS VARCHAR2
GET_OBJECT(
 NETWORK_OWNER VARCHAR2 DEFAULT NULL,
 NETWORK_NAME  VARCHAR2 DEFAULT NULL) RETURNS CLOB
</pre><p><a href="rdf-semantic-graph-overview.html#GUID-D7734D1A-EAC0-4581-B3CC-2E23C8F97D94__CHDCCHFJ">Example 1-7</a> shows some of the SDO_RDF_TRIPLE_S methods.
                  </p>
                  <div class="example" id="GUID-D7734D1A-EAC0-4581-B3CC-2E23C8F97D94__CHDCCHFJ">
                     <p class="titleinexample">Example 1-7 SDO_RDF_TRIPLE_S Methods</p><pre class="oac_no_warn" dir="ltr">-- Find all articles that reference Article2.
SELECT a.triple.<span class="bold">GET_SUBJECT</span>('RDFUSER','NET1') AS subject
    FROM articles_rdf_data a
    WHERE a.triple.<span class="bold">GET_PROPERTY</span>('RDFUSER','NET1') = '&lt;http://purl.org/dc/terms/references&gt;' AND
    TO_CHAR(a.triple.<span class="bold">GET_OBJECT</span>('RDFUSER','NET1')) = '&lt;http://nature.example.com/Article2&gt;';

SUBJECT                                                                         
--------------------------------------------------------------------------------
&lt;http://nature.example.com/Article1&gt;                                            

-- Find all triples with Article1 as subject.
SELECT a.triple.<span class="bold">GET_TRIPLE</span>('RDFUSER','NET1') AS triple
    FROM articles_rdf_data a
    WHERE a.triple.<span class="bold">GET_SUBJECT</span>('RDFUSER','NET1') = '&lt;http://nature.example.com/Article1&gt;';

TRIPLE(SUBJECT, PROPERTY, OBJECT)                                               
--------------------------------------------------------------------------------
SDO_RDF_TRIPLE('&lt;http://nature.example.com/Article1&gt;', '&lt;http://purl.org/dc/elem
ents/1.1/title&gt;', '"All about XYZ"')                                            
                                                                                
SDO_RDF_TRIPLE('&lt;http://nature.example.com/Article1&gt;', '&lt;http://purl.org/dc/elem
ents/1.1/creator&gt;', '"Jane Smith"')                                             
                                                                                
SDO_RDF_TRIPLE('&lt;http://nature.example.com/Article1&gt;', '&lt;http://purl.org/dc/term
s/references&gt;', '&lt;http://nature.example.com/Article2&gt;')                         
                                                                                
SDO_RDF_TRIPLE('&lt;http://nature.example.com/Article1&gt;', '&lt;http://purl.org/dc/term
s/references&gt;', '&lt;http://nature.example.com/Article3&gt;')                         

TRIPLE(SUBJECT, PROPERTY, OBJECT)                                               
--------------------------------------------------------------------------------
                                                                                
-- Find all objects where the subject is Article1.
SELECT a.triple.<span class="bold">GET_OBJECT</span>('RDFUSER','NET1') AS object
    FROM articles_rdf_data a
    WHERE a.triple.<span class="bold">GET_SUBJECT</span>('RDFUSER','NET1') = '&lt;http://nature.example.com/Article1&gt;';

OBJECT                                                                          
--------------------------------------------------------------------------------
"All about XYZ"                                                                 
"Jane Smith"                                                                    
&lt;http://nature.example.com/Article2&gt;                                            
&lt;http://nature.example.com/Article3&gt;                                            

-- Find all triples where Jane Smith is the object.
SELECT a.triple.<span class="bold">GET_TRIPLE</span>('RDFUSER','NET1') AS triple
    FROM articles_rdf_data a
    WHERE TO_CHAR(a.triple.GET_OBJECT('RDFUSER','NET1')) = '"Jane Smith"';

TRIPLE(SUBJECT, PROPERTY, OBJECT)                                               
--------------------------------------------------------------------------------
SDO_RDF_TRIPLE('&lt;http://nature.example.com/Article1&gt;', '&lt;http://purl.org/dc/elem
ents/1.1/creator&gt;', '"Jane Smith"')  
</pre></div>
                  <!-- class="example" -->
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-F1ED66D2-F2B7-40C6-899A-B67003BBD56D">Constructors for Inserting Triples</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-F422BB9F-8473-4980-9D6C-848F708C10E0" title="Oracle Spatial and Graph support for semantic technologies consists mainly of Resource Description Framework (RDF) and a subset of the Web Ontology Language (OWL). These capabilities are referred to as the RDF Knowledge Graph feature of Oracle Spatial and Graph.">RDF Knowledge Graph Overview</a></p>
                     </div>
                  </div>
               </div>
               <a id="RDFRM589"></a><a id="RDFRM588"></a><div class="props_rev_3"><a id="GUID-F1ED66D2-F2B7-40C6-899A-B67003BBD56D" name="GUID-F1ED66D2-F2B7-40C6-899A-B67003BBD56D"></a><h4 id="RDFRM-GUID-F1ED66D2-F2B7-40C6-899A-B67003BBD56D" class="sect4"><span class="enumeration_section">1.5.1 </span>Constructors for Inserting Triples
                  </h4>
                  <div>
                     <p>The following constructor formats are available for inserting triples into a model table. The only difference is that in the second format the data type for the object is CLOB, to accommodate very long literals.</p><pre class="oac_no_warn" dir="ltr">SDO_RDF_TRIPLE_S (
  model_name    VARCHAR2, -- Model name
  subject       VARCHAR2, -- Subject
  property      VARCHAR2, -- Property
  object        VARCHAR2, -- Object
  network_owner VARCHAR2 DEFAULT NULL,
  network_name  VARCHAR2 DEFAULT NULL) 
  RETURN     SELF;

SDO_RDF_TRIPLE_S (
  model_name    VARCHAR2, -- Model name
  subject       VARCHAR2, -- Subject
  property      VARCHAR2, -- Property
  object        CLOB,     -- Object
  network_owner VARCHAR2 DEFAULT NULL,
  network_name  VARCHAR2 DEFAULT NULL)
  RETURN SELF;
</pre><p><a href="rdf-semantic-graph-overview.html#GUID-F1ED66D2-F2B7-40C6-899A-B67003BBD56D__CHDCCCIC">Example 1-8</a> uses the first constructor format to insert several triples.
                     </p>
                     <div class="example" id="GUID-F1ED66D2-F2B7-40C6-899A-B67003BBD56D__CHDCCCIC">
                        <p class="titleinexample">Example 1-8 SDO_RDF_TRIPLE_S Constructor to Insert Triples</p><pre class="oac_no_warn" dir="ltr">INSERT INTO articles_rdf_data VALUES (
  SDO_RDF_TRIPLE_S ('articles','&lt;http://nature.example.com/Article1&gt;',
    '&lt;http://purl.org/dc/elements/1.1/creator&gt;',
    '"Jane Smith"',
    'RDFUSER',
    'NET1'));

INSERT INTO articles_rdf_data VALUES (
  SDO_RDF_TRIPLE_S ('articles:&lt;http://examples.com/ns#Graph1&gt;',
    '&lt;http://nature.example.com/Article102&gt;',
    '&lt;http://purl.org/dc/elements/1.1/creator&gt;',
    '_:b1',
    'RDFUSER',
    'NET1'));
 
INSERT INTO articles_rdf_data VALUES (
  SDO_RDF_TRIPLE_S ('articles:&lt;http://examples.com/ns#Graph1&gt;',
    '_:b2',
    '&lt;http://purl.org/dc/elements/1.1/creator&gt;',
    '_:b1',
    'RDFUSER',
    'NET1'));
</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-D7734D1A-EAC0-4581-B3CC-2E23C8F97D94" title="The SDO_RDF_TRIPLE object type represents semantic data in triple format, and the SDO_RDF_TRIPLE_S object type (the _S for storage) stores persistent semantic data in the database.">Semantic Data Types, Constructors, and Methods</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="RDFRM593"></a><a id="RDFRM99898"></a><a id="RDFRM594"></a><a id="RDFRM592"></a><div class="props_rev_3"><a id="GUID-71464CC4-1C03-48A4-9A4C-0E671FF8F16E" name="GUID-71464CC4-1C03-48A4-9A4C-0E671FF8F16E"></a><h3 id="RDFRM-GUID-71464CC4-1C03-48A4-9A4C-0E671FF8F16E" class="sect3"><span class="enumeration_section">1.6 </span>Using the SEM_MATCH Table Function to Query Semantic Data
               </h3>
               <div>
                  <p>To query semantic data, use the SEM_MATCH table function.</p>
                  <p>This function has the following attributes:</p><pre class="oac_no_warn" dir="ltr">SEM_MATCH(
  query         VARCHAR2,
  models        SEM_MODELS,
  rulebases     SEM_RULEBASES,
  aliases       SEM_ALIASES,
  filter        VARCHAR2,
  index_status  VARCHAR2    DEFAULT NULL,
  options       VARCHAR2    DEFAULT NULL,
  graphs        SEM_GRAPHS  DEFAULT NULL,
  named_graphs  SEM_GRAPHS  DEFAULT NULL,
  network_owner VARCHAR2    DEFAULT NULL,
  network_name  VARCHAR2    DEFAULT NULL
 ) RETURN ANYDATASET;
</pre><p>The <code class="codeph">query</code> and <code class="codeph">models</code> attributes are required. The other attributes are optional (that is, each can be a null value).
                  </p>
                  <p>The <code class="codeph">query</code> attribute is a string literal (or concatenation of string literals) with one or more triple patterns, usually containing variables. (The <code class="codeph">query</code> attribute cannot be a bind variable or an expression involving a bind variable.) A triple pattern is a triple of atoms followed by a period. Each atom can be a variable (for example, <code class="codeph">?x</code>), a qualified name (for example, <code class="codeph">rdf:type</code>) that is expanded based on the default namespaces and the value of the aliases attribute, or a full URI (for example, <code class="codeph">&lt;http://www.example.org/family/Male&gt;</code>). In addition, the third atom can be a numeric literal (for example, <code class="codeph">3.14</code>), a plain literal (for example, <code class="codeph">"Herman"</code>), a language-tagged plain literal (for example, <code class="codeph">"Herman"@en</code>), or a typed literal (for example, <code class="codeph">"123"^^xsd:int</code>).
                  </p>
                  <p>For example, the following <code class="codeph">query</code> attribute specifies three triple patterns to find grandfathers (that is, grandparents who are also male) and the height of each of their grandchildren:
                  </p><pre class="oac_no_warn" dir="ltr">'SELECT * WHERE { ?x :grandParentOf ?y . ?x rdf:type :Male . ?y :height ?h }'</pre><p><a id="d5269e4388" class="indexterm-anchor"></a><a id="d5269e4390" class="indexterm-anchor"></a>The <code class="codeph">models</code> attribute identifies the model or models to use. Its data type is SEM_MODELS, which has the following definition: <code class="codeph">TABLE OF VARCHAR2(25)</code>. If you are querying a virtual model, specify only the name of the virtual model and no other models. (Virtual models are explained in <a href="rdf-semantic-graph-overview.html#GUID-8B957406-5ED1-4579-9C23-0EDE2FDF2964">Virtual Models</a>.)
                  </p>
                  <p><a id="d5269e4406" class="indexterm-anchor"></a><a id="d5269e4408" class="indexterm-anchor"></a>The <code class="codeph">rulebases</code> attribute identifies one or more rulebases whose rules are to be applied to the query. Its data type is SDO_RDF_RULEBASES, which has the following definition: <code class="codeph">TABLE OF VARCHAR2(25)</code>. If you are querying a virtual model, this attribute must be null.
                  </p>
                  <p><a id="d5269e4420" class="indexterm-anchor"></a><a id="d5269e4422" class="indexterm-anchor"></a><a id="d5269e4424" class="indexterm-anchor"></a>The <code class="codeph">aliases</code> attribute identifies one or more namespaces, in addition to the default namespaces, to be used for expansion of qualified names in the query pattern. Its data type is SEM_ALIASES, which has the following definition: <code class="codeph">TABLE OF SEM_ALIAS</code>, where each SEM_ALIAS element identifies a namespace ID and namespace value. The SEM_ALIAS data type has the following definition: <code class="codeph">(namespace_id VARCHAR2(30), namespace_val VARCHAR2(4000))</code></p>
                  <p>The following default namespaces (<code class="codeph">namespace_id</code> and <code class="codeph">namespace_val</code> attributes) are used by the SEM_MATCH table function and the SEM_CONTAINS and SEM_RELATED operators:
                  </p><pre class="oac_no_warn" dir="ltr">('ogc', 'http://www.opengis.net/ont/geosparql#')
('ogcf', 'http://www.opengis.net/def/function/geosparql/')
('ogcgml', 'http://www.opengis.net/ont/gml#')
('ogcsf', 'http://www.opengis.net/ont/sf#')
('orardf', 'http://xmlns.oracle.com/rdf/')
('orageo', 'http://xmlns.oracle.com/rdf/geo/')
('owl',    'http://www.w3.org/2002/07/owl#')
('rdf',    'http://www.w3.org/1999/02/22-rdf-syntax-ns#')
('rdfs',   'http://www.w3.org/2000/01/rdf-schema#')
('xsd',    'http://www.w3.org/2001/XMLSchema#')
</pre><p>You can override any of these defaults by specifying the <code class="codeph">namespace_id</code> value and a different <code class="codeph">namespace_val</code> value in the <code class="codeph">aliases</code> attribute.
                  </p>
                  <p><a id="d5269e4460" class="indexterm-anchor"></a>The <code class="codeph">filter</code> attribute identifies any additional selection criteria. If this attribute is not null, it should be a string in the form of a <code class="codeph">WHERE</code> clause without the <code class="codeph">WHERE</code> keyword. For example: <code class="codeph">'(h &gt;= ''6'')'</code> to limit the result to cases where the height of the grandfather's grandchild is 6 or greater (using the example of triple patterns earlier in this section).
                  </p>
                  <div class="infoboxnote" id="GUID-71464CC4-1C03-48A4-9A4C-0E671FF8F16E__GUID-4BEFCB08-F7B5-4C9C-B2F2-8452837AA0A3">
                     <p class="notep1">Note:</p>
                     <p>Instead of using the <code class="codeph">filter</code> attribute, you are encouraged to use the FILTER keyword inside your query pattern whenever possible (as explained in <a href="rdf-semantic-graph-overview.html#GUID-55180C4B-7B8B-4F45-A948-A46D227935FA">Graph Patterns: Support for Curly Brace Syntax_ and OPTIONAL_ FILTER_ UNION_ and GRAPH Keywords</a>). Using the FILTER keyword is likely to give better performance because of internal optimizations. The <code class="codeph">filter</code> argument, however, can be useful if you require SQL constructs that cannot be expressed with the FILTER keyword. 
                     </p>
                  </div>
                  <p><a id="d5269e4491" class="indexterm-anchor"></a><a id="d5269e4495" class="indexterm-anchor"></a><a id="d5269e4499" class="indexterm-anchor"></a>The <code class="codeph">index_status</code> attribute lets you query semantic data even when the relevant entailment does not have a valid status. (If you are querying a virtual model, this attribute refers to the entailment associated with the virtual model.) If this attribute is null, the query returns an error if the entailment does not have a valid status. If this attribute is not null, it must be the string <code class="codeph">INCOMPLETE</code> or <code class="codeph">INVALID</code>. For an explanation of query behavior with different <code class="codeph">index_status</code> values, see <a href="rdf-semantic-graph-overview.html#GUID-6F4E4658-4AA3-4108-92A0-F4D84E10D0B6">Performing Queries with Incomplete or Invalid Entailments</a>.
                  </p>
                  <p><a id="d5269e4522" class="indexterm-anchor"></a>The <code class="codeph">options</code> attribute identifies options that can affect the results of queries. Options are expressed as keyword-value pairs. The following options are supported:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a id="d5269e4533" class="indexterm-anchor"></a><a id="d5269e4537" class="indexterm-anchor"></a><a id="d5269e4541" class="indexterm-anchor"></a><code class="codeph">ALL_AJ_HASH</code>, <code class="codeph">ALL_AJ_MERGE</code>, and <code class="codeph">ALL_BGP_NL</code> are global query optimizer hints that specify that all anti joins for NOT EXISTS and MINUS operations should use the specified join type.
                        </p>
                     </li>
                     <li>
                        <p><a id="d5269e4556" class="indexterm-anchor"></a><a id="d5269e4560" class="indexterm-anchor"></a><a id="d5269e4564" class="indexterm-anchor"></a><a id="d5269e4566" class="indexterm-anchor"></a><code class="codeph">ALL_BGP_HASH</code> and <code class="codeph">ALL_BGP_NL</code> are global query optimizer hints that specify that all inter-BGP joins (for example. the join between the root BGP and an OPTIONAL BGP) should use the specified join type. (BGP stands for <span class="italic">basic graph pattern</span>. From the W3C SPARQL Query Language for RDF Recommendation: "SPARQL graph pattern matching is defined in terms of combining the results from matching basic graph patterns. A sequence of triple patterns interrupted by a filter comprises a single basic graph pattern. Any graph pattern terminates a basic graph pattern."
                        </p>
                        <p>The <code class="codeph">BGP_JOIN(USE_NL)</code> and <code class="codeph">BGP_JOIN(USE_HASH)</code> HINT0 query optimizer hints can be used to control the join type with finer granularity.
                        </p>
                        <p><a href="rdf-semantic-graph-overview.html#GUID-55180C4B-7B8B-4F45-A948-A46D227935FA__CIHHGHED">Example 1-15</a> shows the ALL_BGP_HASH option used in a SEM_MATCH query.
                        </p>
                     </li>
                     <li>
                        <p><a id="d5269e4590" class="indexterm-anchor"></a><a id="d5269e4594" class="indexterm-anchor"></a><code class="codeph">ALL_LINK_HASH</code> and <code class="codeph">ALL_LINK_NL</code> are global query optimizer hints that specify the join type for all RDF_LINK$ joins (that is, all joins between triple patterns within a BGP). <code class="codeph">ALL_LINK_HASH</code> and <code class="codeph">ALL_LINK_NL</code> can also be used within a HINT0 query optimizer hint for finer granularity.
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">ALL_MAX_PP_DEPTH(n)</code> is a global query optimizer hint that sets the maximum depth to use when evaluating * and + property path operators. The default value is 10. The <code class="codeph">MAX_PP_DEPTH(n)</code> HINT0 hint can be used to specify maximum depth with finer granularity.
                        </p>
                     </li>
                     <li>
                        <p><a id="d5269e4620" class="indexterm-anchor"></a><code class="codeph">ALL_ORDERED</code> is a global query optimizer hint that specifies that the triple patterns in each BGP in the query should be evaluated in order.
                        </p>
                        <p><a href="rdf-semantic-graph-overview.html#GUID-55180C4B-7B8B-4F45-A948-A46D227935FA__CIHHGHED">Example 1-15</a> shows the ALL_ORDERED option used in a SEM_MATCH query.
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">ALL_USE_PP_HASH</code> and <code class="codeph">ALL_USE_PP_NL</code> are global query optimizer hints that specify the join type to use when evaluating property path expressions. The <code class="codeph">USE_PP_HASH</code> and <code class="codeph">USE_PP_NL</code> HINT0 hints can be used for specifying join type with finer granularity.
                        </p>
                     </li>
                     <li>
                        <p><a id="d5269e4646" class="indexterm-anchor"></a><code class="codeph">ALLOW_DUP=T</code> generates an underlying SQL statement that performs a "union all" instead of a union of the semantic models and inferred data (if applicable). This option may introduce more rows (duplicate triples) in the result set, and you may need to adjust the application logic accordingly. If you do not specify this option, duplicate triples are automatically removed across all the models and inferred data to maintain the set semantics of merged RDF graphs; however, removing duplicate triples increases query processing time. In general, specifying <code class="codeph">'ALLOW_DUP=T'</code> improves performance significantly when multiple semantic models are involved in a SEM_MATCH query. 
                        </p>
                        <p>If you are querying a virtual model, specifying <code class="codeph">ALLOW_DUP=T</code> causes the SEMV_<span class="italic">vm_name</span> view to be queried; otherwise, the SEMU_<span class="italic">vm_name</span> view is queried.
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">ALLOW_PP_DUP=T</code> allows duplicate results for + and * property path queries. Allowing duplicate results may return the first result rows faster.
                        </p>
                     </li>
                     <li>
                        <p><a id="d5269e4674" class="indexterm-anchor"></a><code class="codeph">AS_OF [SCN, &lt;SCN_VALUE&gt;]</code> , where  &lt;SCN_VALUE&gt; is a valid system change number, indicates that Flashback Query should be used to query the state of the semantic network as of the specified SCN.
                        </p>
                     </li>
                     <li>
                        <p><a id="d5269e4683" class="indexterm-anchor"></a><code class="codeph">AS_OF [TIMESTAMP, &lt;TIMESTAMP_VALUE&gt;]</code> , where  &lt;TIMESTAMP_VALUE&gt; is a valid timestamp string with format 'YYYY/MM/DD HH24:MI:SS.FF', indicates that Flashback Query should be used to query the state of the semantic network as of the specified timestamp.
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">CLOB_AGG_SUPPORT=T</code> enables support for CLOB values for the following aggregates: MIN, MAX, GROUP_CONCAT, SAMPLE. Note that enabling CLOB support incurs a significant performance penalty.
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">CLOB_EXP_SUPPORT=T</code> enables support for CLOB values for some built-in SPARQL functions. Note that enabling CLOB support incurs a significant performance penalty.
                        </p>
                     </li>
                     <li>
                        <p><a id="d5269e4703" class="indexterm-anchor"></a><code class="codeph">CONSTRUCT_STRICT=T</code> eliminates invalid RDF triples from the result of SPARQL CONSTRUCT or SPARQL DESCRIBE syntax queries. RDF triples with literals in the subject position or literals or blank nodes in the predicate position are considered invalid.
                        </p>
                     </li>
                     <li>
                        <p><a id="d5269e4712" class="indexterm-anchor"></a><code class="codeph">CONSTRUCT_UNIQUE=T</code> eliminates duplicate RDF triples from the result of SPARQL CONSTRUCT or SPARQL DESCRIBE syntax queries.
                        </p>
                     </li>
                     <li>
                        <p><a id="d5269e4721" class="indexterm-anchor"></a><code class="codeph">DISABLE_IM_VIRTUAL_COL</code> specifies that the query compiler should not use in-memory virtual columns.
                        </p>
                     </li>
                     <li>
                        <p><a id="d5269e4730" class="indexterm-anchor"></a><code class="codeph">DISABLE_NULL_EXPR_JOIN</code> specifies that the query compiler should assume that all SELECT expressions produce non-null output.
                        </p>
                     </li>
                     <li>
                        <p><a id="d5269e4739" class="indexterm-anchor"></a><code class="codeph">DISABLE_SAMEAS_BLOOM</code> specifies that the query compiler should not use a Bloom filter when <code class="codeph">owl:sameAs</code> triples are joined. (For detailed information, see the explanation of Bloom filters in <a href="../tgsql/joins.html#TGSQL-GUID-C9E0663B-822E-4733-8016-E56A73D903F3" target="_blank"><span class="italic">Oracle Database SQL Tuning Guide</span></a>.)
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">DO_UNESCAPE=T</code> causes characters in the following return columns to be unescaped according to the W3C N-Triples specification (<a href="http://www.w3.org/TR/rdf-testcases/#ntriples" target="_blank"><code class="codeph">http://www.w3.org/TR/rdf-testcases/#ntriples</code></a>): var, var$_PREFIX, var$_SUFFIX, var$RDFCLOB, var$RDFLTYP, var$RDFLANG, and var$RDFTERM.
                        </p>
                        <p>See also the reference information for <a href="SEM_APIS-reference.html#GUID-3D3BEAB7-E0D4-4B92-9A89-07B2F7C303FC">SEM_APIS.ESCAPE_CLOB_TERM</a>, <a href="SEM_APIS-reference.html#GUID-39BAFCE0-7224-4FA1-958B-0A7DADC663B5">SEM_APIS.ESCAPE_CLOB_VALUE</a>, <a href="SEM_APIS-reference.html#GUID-A9066C1C-FC5C-407E-A26A-35F73C1D9A14">SEM_APIS.ESCAPE_RDF_TERM</a>, <a href="SEM_APIS-reference.html#GUID-6EBBD65B-EA5D-4196-9C61-258682EDF499">SEM_APIS.ESCAPE_RDF_VALUE</a>, <a href="SEM_APIS-reference.html#GUID-397D505F-7113-4E63-9481-4B1CF10F39A4">SEM_APIS.UNESCAPE_CLOB_TERM</a>, <a href="SEM_APIS-reference.html#GUID-A52C68D7-90F4-46C1-9552-457261D9BCC5">SEM_APIS.UNESCAPE_CLOB_VALUE</a>, <a href="SEM_APIS-reference.html#GUID-42EC5310-ABD4-442E-BCD3-38B0FCBD8D62">SEM_APIS.UNESCAPE_RDF_TERM</a>, and <a href="SEM_APIS-reference.html#GUID-8876C40E-C037-4C0C-96BF-079FCD345150">SEM_APIS.UNESCAPE_RDF_VALUE</a>.
                        </p>
                     </li>
                     <li>
                        <p><a id="d5269e4801" class="indexterm-anchor"></a><a id="d5269e4805" class="indexterm-anchor"></a><code class="codeph">FINAL_VALUE_HASH</code> and <code class="codeph">FINAL_VALUE_NL</code> are global query optimizer hints that specify the join method that should be used to obtain the lexical values for any query variables that are not used in a FILTER clause.
                        </p>
                     </li>
                     <li>
                        <p><a id="d5269e4817" class="indexterm-anchor"></a><code class="codeph">GRAPH_MATCH_UNNAMED=T</code> allows unnamed triples (null <code class="codeph">G_ID</code>) to be matched inside GRAPH clauses. That is, two triples will satisfy the graph join condition if their graphs are equal or if one or both of the graphs are null. This option may be useful when your dataset includes unnamed TBOX triples or unnamed entailed triples.
                        </p>
                     </li>
                     <li>
                        <p><a id="d5269e4829" class="indexterm-anchor"></a><code class="codeph">HINT0={&lt;hint-string&gt;}</code> (pronounced and written "hint" and the number zero) specifies one or more keywords with hints to influence the execution plan and results of queries. Conceptually, a graph pattern with <span class="italic">n</span> triple patterns and referring to <span class="italic">m</span> distinct variables results in an (<span class="italic">n</span>+<span class="italic">m</span>)-way join: <span class="italic">n</span>-way self-join of the target RDF model or models and optionally the corresponding entailment, and then <span class="italic">m</span> joins with RDF_VALUE$ for looking up the values for the <span class="italic">m</span> variables. A hint specification affects the join order and join type used for the query execution.
                        </p>
                        <p>The hint specification, <span class="italic">&lt;hint-string&gt;</span>, uses keywords, some of which have parameters consisting of a sequence or set of aliases, or references, for individual triple patterns and variables used in the query. Aliases for triple patterns are of the form t<span class="italic">i</span> where <span class="italic">i</span> refers to the 0-based ordinal numbers of triple patterns in the query. For example, the alias for the first triple pattern in a query is <code class="codeph">t0</code>, the alias for the second one is <code class="codeph">t1</code>, and so on. Aliases for the variables used in a query are simply the names of those variables. Thus, <code class="codeph">?x</code> will be used in the hint specification as the alias for a variable <code class="codeph">?x</code> used in the graph pattern.
                        </p>
                        <p>Hints used for influencing query execution plans include LEADING(<span class="italic">&lt;sequence of aliases&gt;</span>), USE_NL(<span class="italic">&lt;set of aliases&gt;</span>), USE_HASH(<span class="italic">&lt;set of aliases&gt;</span>), and INDEX(<span class="italic">&lt;alias&gt; &lt;index_name&gt;</span>). These hints have the same format and basic meaning as hints in SQL statements, which are explained in <a href="../sqlrf/Basic-Elements-of-Oracle-SQL.html#SQLRF002" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a>.
                        </p>
                        <p><a href="rdf-semantic-graph-overview.html#GUID-71464CC4-1C03-48A4-9A4C-0E671FF8F16E__CIHJJFHE">Example 1-10</a> shows the HINT0 option used in a SEM_MATCH query.
                        </p>
                     </li>
                     <li>
                        <p><a id="d5269e4906" class="indexterm-anchor"></a><code class="codeph">HTTP_METHOD=POST_PAR</code> indicates that the HTTP POST method with URL-encoded parameters pass should be used for the SERVICE request. The default option for requests is the HTTP GET method. For more information about SPARQL protocol, see <a href="http://www.w3.org/TR/2013/REC-sparql11-protocol-20130321/#protocol" target="_blank"><code class="codeph">http://www.w3.org/TR/2013/REC-sparql11-protocol-20130321/#protocol</code></a>.
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">INF_ONLY=T</code> queries only the entailed graph for the specified models and rulebases.
                        </p>
                     </li>
                     <li>
                        <p><a id="d5269e4926" class="indexterm-anchor"></a><code class="codeph">OVERLOADED_NL=T</code> specifies that a procedural nested loop execution should be used to join with an overloaded SERVICE clause.
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">PLUS_RDFT=T</code> can be used with SPARQL SELECT syntax (see <a href="rdf-semantic-graph-overview.html#GUID-7CEE1E1B-507A-4AE5-9998-9193269BF692">Expressions in the SELECT Clause</a>) to additionally return a <span class="italic">var</span>$RDFTERM CLOB column for each projected query variable. The value for this column is equivalent to the result of <a href="SEM_APIS-reference.html#GUID-E41D66C7-E47F-47AB-B43A-58F3869BF1A6">SEM_APIS.COMPOSE_RDF_TERM</a>(<span class="italic">var</span>, <span class="italic">var</span>$RDFVTYP, <span class="italic">var</span>$RDFLTYP, <span class="italic">var</span>$RDFLANG, <span class="italic">var</span>$RDFCLOB). When using this option, the return columns for each variable var will be <span class="italic">var</span>, <span class="italic">var</span>$RDFVID, <span class="italic">var</span>$_PREFIX, <span class="italic">var</span>$_SUFFIX, <span class="italic">var</span>$RDFVTYP, <span class="italic">var</span>$RDFCLOB, <span class="italic">var</span>$RDFLTYP, <span class="italic">var</span>$RDFLANG, and <span class="italic">var</span>$RDFTERM.
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">PLUS_RDFT=VC</code> can be used with SPARQL SELECT syntax (see <a href="rdf-semantic-graph-overview.html#GUID-7CEE1E1B-507A-4AE5-9998-9193269BF692">Expressions in the SELECT Clause</a>) to additionally return a var$RDFTERM VARCHAR2(4000) column for each projected query variable. The value for this column is equivalent to the result of <a href="SEM_APIS-reference.html#GUID-E41D66C7-E47F-47AB-B43A-58F3869BF1A6">SEM_APIS.COMPOSE_RDF_TERM</a>(var, var$RDFVTYP, var$RDFLTYP, var$RDFLANG). When using this option, the return columns for each variable var will be var, var$RDFVID, var$_PREFIX, var$_SUFFIX, var$RDFVTYP, var$RDFCLOB, var$RDFLTYP, var$RDFLANG, and var$RDFTERM.
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">PROJ_EXACT_VALUES=T</code> disables canonicalization of values returned from functions and of constant values used in value assignment statements. Such values are canonicalized by default.
                        </p>
                     </li>
                     <li>
                        <p><a id="d5269e5013" class="indexterm-anchor"></a><code class="codeph">SERVICE_CLOB=F</code> sets the column values of var$RDFCLOB to null instead of saving values when calling the service. If CLOB data is not needed in your application, performance can be improved by using this option to skip CLOB processing.
                        </p>
                     </li>
                     <li>
                        <p><a id="d5269e5022" class="indexterm-anchor"></a><code class="codeph">SERVICE_ESCAPE=F</code> disables character escaping for RDF literal values returned by SPARQL SERVICE calls. RDF literal values are escaped by default. If character escaping is not relevant for your application, performance can be improved by disabling character escaping.
                        </p>
                     </li>
                     <li>
                        <p><a id="d5269e5031" class="indexterm-anchor"></a><code class="codeph">SERVICE_JPDWN=T</code> is a query optimizer hint for using nested loop join in SPARQL SERVICE. <a href="rdf-semantic-graph-overview.html#GUID-EC21930C-2EEB-456C-9A9B-2D794F6128B5__CIHEIBAH">Example 1-71</a> shows the <code class="codeph">SERVICE_JPDWN=T</code> option used in a SEM_MATCH query.
                        </p>
                     </li>
                     <li>
                        <p><a id="d5269e5045" class="indexterm-anchor"></a><code class="codeph">SERVICE_PROXY=</code><span class="italic"><code class="codeph">&lt;proxy-string&gt;</code></span> sets a proxy address to be used when performing http connections. The given proxy-string will be used in SERVICE queries. <a href="rdf-semantic-graph-overview.html#GUID-84CDC448-A7A3-497D-BCE9-0A84864D50F1__CIHDCJFC">Example 1-74</a> shows a SEM_MATCH query including a proxy address.
                        </p>
                     </li>
                     <li>
                        <p><a id="d5269e5059" class="indexterm-anchor"></a><code class="codeph">STRICT_AGG_CARD=T</code> uses SPARQL semantics (one null row) instead of SQL semantics (zero rows) for aggregate queries with graph patterns that fail to match. This option incurs a slight performance penalty.
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">STRICT_DEFAULT=T</code> restricts the default graph to unnamed triples when no dataset information is specified.
                        </p>
                     </li>
                  </ul>
                  <p><a id="d5269e5072" class="indexterm-anchor"></a>The <code class="codeph">graphs</code> attribute specifies the set of named graphs from which to construct the default graph for a SEM_MACH query. Its data type is SEM_GRAPHS, which has the following definition: <code class="codeph">TABLE OF VARCHAR2(4000)</code>. The default value for this attribute is <code class="codeph">NULL</code>. When <code class="codeph">graphs</code> is <code class="codeph">NULL</code>, the "union all" of all graphs in the set of query models is used as the default graph.
                  </p>
                  <p><a id="d5269e5093" class="indexterm-anchor"></a>The <code class="codeph">named_graphs</code> attribute specifies the set of named graphs that can be matched by a GRAPH clause. Its data type is SEM_GRAPHS, which has the following definition: <code class="codeph">TABLE OF VARCHAR2(4000)</code>. The default value for this attribute is <code class="codeph">NULL</code>. When named_graphs is <code class="codeph">NULL</code>, all named graphs in the set of query models can be matched by a GRAPH clause.
                  </p>
                  <p><a id="d5269e5111" class="indexterm-anchor"></a>The <code class="codeph">network_owner</code> attribute specifies the schema that owns the semantic network that contains the RDF model or virtual model specified in the models attribute. This attribute should be non-null to query a schema-private semantic network. A <code class="codeph">NULL</code> value for <code class="codeph">network_owner</code> implies the MDSYS-owned semantic network
                  </p>
                  <p><a id="d5269e5126" class="indexterm-anchor"></a>The <code class="codeph">network_name</code> attribute specifies the name of the semantic network that contains the RDF model or virtual model specified in the models attribute. This attribute should be non-null to query a schema-private semantic network. A <code class="codeph">NULL</code> value for <code class="codeph">network_name</code> implies the unnamed MDSYS-owned semantic network.
                  </p>
                  <p>The SEM_MATCH table function returns an object of type ANYDATASET, with elements that depend on the input variables. In the following explanations, <span class="italic">var</span> represents the name of a variable used in the query. For each variable <span class="italic">var</span>, the result elements have the following attributes: <span class="italic">var</span>, <span class="italic">var</span>$RDFVID, <span class="italic">var</span>$_PREFIX, <span class="italic">var</span>$_SUFFIX, <span class="italic">var</span>$RDFVTYP, <span class="italic">var</span>$RDFCLOB, <span class="italic">var</span>$RDFLTYP, and <span class="italic">var</span>$RDFLANG.
                  </p>
                  <p>In such cases, <span class="italic">var</span> has the lexical value bound to the variable, <span class="italic">var</span>$RDFVID has the VALUE_ID of the value bound to the variable, <span class="italic">var</span>$_PREFIX and <span class="italic">var</span>$_SUFFIX are the <span class="italic">prefix</span> and <span class="italic">suffix</span> of the value bound to the variable, <span class="italic">var</span>$RDFVTYP indicates the type of value bound to the variable (<code class="codeph">URI</code>, <code class="codeph">LIT</code> [literal], or <code class="codeph">BLN</code> [blank node]), <span class="italic">var</span>$RDFCLOB has the lexical value bound to the variable if the value is a long literal, <span class="italic">var</span>$RDFLTYP indicates the type of literal bound if a literal is bound, and <span class="italic">var</span>$RDFLANG has the language tag of the bound literal if a literal with language tag is bound. <span class="italic">var</span>$RDFCLOB is of type CLOB, while all other attributes are of type VARCHAR2.
                  </p>
                  <p>For a literal value or a blank node, its prefix is the value itself and its suffix is null. For a URI value, its prefix is the left portion of the value up to and including the rightmost occurrence of any of the three characters <span class="italic">/</span> (slash), <span class="italic">#</span> (pound), or <span class="italic">:</span> (colon), and its suffix is the remaining portion of the value to the right. For example, the prefix and suffix for the URI value <code class="codeph">http://www.example.org/family/grandParentOf</code> are <code class="codeph">http://www.example.org/family/</code> and <code class="codeph">grandParentOf</code>, respectively.
                  </p>
                  <p>Along with columns for variable values, a SEM_MATCH query that uses SPARQL SELECT syntax returns one additional NUMBER column, SEM$ROWNUM, which can be used to ensure the correct result ordering for queries that involve a SPARQL ORDER BY clause.</p>
                  <p>A SEM_MATCH query that uses SPARQL ASK syntax returns the columns ASK, ASK$RDFVID, ASK$_PREFIX, ASK$_SUFFIX, ASK$RDFVTYP, ASK$RDFCLOB, ASK$RDFLTYP, ASK$RDFLANG, and SEM$ROWNUM. This is equivalent to a SPARQL SELECT syntax query that projects a single <code class="codeph">?ask</code> variable.
                  </p>
                  <p>A SEM_MATCH query that uses SPARQL CONSTRUCT or SPARQL DESCRIBE syntax returns columns that contain RDF triple data rather than query result bindings. Such queries return values for subject, predicate and object components. See <a href="rdf-semantic-graph-overview.html#GUID-9DAC9FA2-0546-4744-9FF3-FD61B07130CA">Graph Patterns: Support for SPARQL CONSTRUCT Syntax</a>for details.
                  </p>
                  <p>To use the SEM_RELATED operator to query an OWL ontology, see <a href="owl-concepts.html#GUID-91E180EF-CCF0-4E56-859E-D25C019A31A0" title="You can use semantic operators to query relational data in an ontology-assisted manner, based on the semantic relationship between the data in a table column and terms in an ontology.">Using Semantic Operators to Query Relational Data</a>.
                  </p>
                  <p>When you are querying multiple models or querying one or more models and the corresponding entailment, consider using virtual models (explained in <a href="rdf-semantic-graph-overview.html#GUID-8B957406-5ED1-4579-9C23-0EDE2FDF2964">Virtual Models</a>) because of the potential performance benefits.
                  </p>
                  <div class="example" id="GUID-71464CC4-1C03-48A4-9A4C-0E671FF8F16E__CHDDBEHI">
                     <p class="titleinexample">Example 1-9 SEM_MATCH Table Function</p>
                     <p><a href="rdf-semantic-graph-overview.html#GUID-71464CC4-1C03-48A4-9A4C-0E671FF8F16E__CHDDBEHI">Example 1-9</a> selects all grandfathers (grandparents who are male) and their grandchildren from the <code class="codeph">family</code> model, using inferencing from both the <code class="codeph">RDFS</code> and <code class="codeph">family_rb</code> rulebases. (This example is an excerpt from <a href="rdf-semantic-graph-overview.html#GUID-ADC458F4-570C-4081-8844-107F9F63E915__CHDGCDGI">Example 1-117</a> in <a href="rdf-semantic-graph-overview.html#GUID-ADC458F4-570C-4081-8844-107F9F63E915">Example: Family Information</a>.)
                     </p><pre class="oac_no_warn" dir="ltr">SELECT x$rdfterm grandfather, y$rdfterm grandchild
  FROM TABLE(<span class="bold">SEM_MATCH</span>(
    'PREFIX  rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt;
     PREFIX rdfs: &lt;http://www.w3.org/2000/01/rdf-schema#&gt;
     PREFIX     : &lt;http://www.example.org/family/&gt;
     SELECT ?x ?y
     WHERE {?x :grandParentOf ?y . ?x rdf:type :Male}',
    SEM_Models('family'),
    SEM_Rulebases('RDFS','family_rb'), 
    null,  null, null,
    ' PLUS_RDFT=VC ',
    null, null,
    'RDFUSER', 'NET1'));
</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-71464CC4-1C03-48A4-9A4C-0E671FF8F16E__CIHJJFHE">
                     <p class="titleinexample">Example 1-10 HINT0 Option with SEM_MATCH Table Function</p>
                     <p><a href="rdf-semantic-graph-overview.html#GUID-71464CC4-1C03-48A4-9A4C-0E671FF8F16E__CIHJJFHE">Example 1-10</a> is functionally the same as <a href="rdf-semantic-graph-overview.html#GUID-71464CC4-1C03-48A4-9A4C-0E671FF8F16E__CHDDBEHI">Example 1-9</a>, but it adds the <code class="codeph">HINT0</code> option.
                     </p><pre class="oac_no_warn" dir="ltr">SELECT x$rdfterm grandfather, y$rdfterm grandchild
  FROM TABLE(SEM_MATCH(
    'PREFIX  rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt;
     PREFIX rdfs: &lt;http://www.w3.org/2000/01/rdf-schema#&gt;
     PREFIX     : &lt;http://www.example.org/family/&gt;
     SELECT ?x ?y
     WHERE {?x :grandParentOf ?y . ?x rdf:type :Male}',
    SEM_Models('family'),
    SEM_Rulebases('RDFS','family_rb'), 
    null,  null, null,
    ' PLUS_RDFT=VC <span class="bold">HINT0={LEADING(t0 t1) USE_NL(?x ?y)}</span>',
    null, null,
    'RDFUSER', 'NET1'));
</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-71464CC4-1C03-48A4-9A4C-0E671FF8F16E__GUID-D446D278-5D59-4D08-86A2-391146CCCAAE">
                     <p class="titleinexample">Example 1-11 DISABLE_SAMEAS_BLOOM Option with SEM_MATCH Table Function</p>
                     <p><a href="rdf-semantic-graph-overview.html#GUID-71464CC4-1C03-48A4-9A4C-0E671FF8F16E__CIHJJFHE">Example 1-10</a> specifies that the query compiler should not use a Bloom filter when <code class="codeph">owl:sameAs</code> triples are joined.
                     </p><pre class="oac_no_warn" dir="ltr">SELECT select s, o
FROM table(sem_match('{ # HINT0={LEADING(t1 t0) USE_HASH(t0 t1)}
 ?s owl:sameAs ?o. ?o owl:sameAs ?s}', sem_models('M1'), null,null,null,null,
  ' <span class="bold">DISABLE_SAMEAS_BLOOM</span> ')) order by 1,2;
</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-71464CC4-1C03-48A4-9A4C-0E671FF8F16E__CIHJJAGJ">
                     <p class="titleinexample">Example 1-12 SEM_MATCH Table Function</p>
                     <p><a href="rdf-semantic-graph-overview.html#GUID-71464CC4-1C03-48A4-9A4C-0E671FF8F16E__CIHJJAGJ">Example 1-12</a> uses the Pathway/Genome <code class="codeph">BioPax</code> ontology to get all chemical compound types that belong to both <code class="codeph">Proteins</code> and <code class="codeph">Complexes</code>:
                     </p><pre class="oac_no_warn" dir="ltr">SELECT t.r 
  FROM TABLE (SEM_MATCH ( 
      'PREFIX : &lt;http://www.biopax.org/release1/biopax-release1.owl&gt;
       SELECT ?r
       WHERE {
        ?r rdfs:subClassOf :Proteins .  
        ?r rdfs:subClassOf :Complexes}', 
      SEM_Models ('BioPax'), 
      SEM_Rulebases ('rdfs'), 
      NULL, NULL, NULL, '', NULL, NULL,
      'RDFUER','NET1')) t;
</pre><p>As shown in <a href="rdf-semantic-graph-overview.html#GUID-71464CC4-1C03-48A4-9A4C-0E671FF8F16E__CIHJJAGJ">Example 1-12</a>, the search pattern for the SEM_MATCH table function is specified using SPARQL syntax where the variable starts with the question-mark character (<code class="codeph">?</code>). In this example, the variable <code class="codeph">?r</code> must match to the same term, and thus it must be a subclass of both <code class="codeph">Proteins</code> and <code class="codeph">Complexes</code>.
                     </p>
                  </div>
                  <!-- class="example" -->
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-6F4E4658-4AA3-4108-92A0-F4D84E10D0B6">Performing Queries with Incomplete or Invalid Entailments</a><br></li>
                     <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-55180C4B-7B8B-4F45-A948-A46D227935FA">Graph Patterns: Support for Curly Brace Syntax, and OPTIONAL, FILTER, UNION, and GRAPH Keywords</a><br></li>
                     <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-B956C85E-4AC1-4503-9510-9035FF253414">Graph Patterns: Support for SPARQL ASK Syntax</a><br></li>
                     <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-9DAC9FA2-0546-4744-9FF3-FD61B07130CA">Graph Patterns: Support for SPARQL CONSTRUCT Syntax</a><br></li>
                     <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-473B972B-93AB-4648-9496-2ED9645E763D">Graph Patterns: Support for SPARQL DESCRIBE Syntax</a><br></li>
                     <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-0BC4B052-F1DA-45C8-9164-21829FC6500B">Graph Patterns: Support for SPARQL SELECT Syntax</a><br></li>
                     <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-7DDF240B-912C-4844-B482-36B30EB3037B">Graph Patterns: Support for SPARQL 1.1 Constructs</a><br></li>
                     <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-6ACF73EA-A1A7-49D2-ADB9-15B50AE8B73E">Graph Patterns: Support for SPARQL 1.1 Federated Query</a><br></li>
                     <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-5D952ADA-7170-4D64-A07D-F86B32884FF5">Inline Query Optimizer Hints</a><br></li>
                     <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-7001881A-9DE6-4F3D-8593-F31F2004FE37">Full-Text Search</a><br></li>
                     <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-3986DFD4-F23A-4379-A859-9EA1F1582D43">Spatial Support</a><br></li>
                     <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-1B5F0236-84C5-46BF-8B43-B8F74A0F67CA">Flashback Query Support</a><br></li>
                     <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-E04ABC63-304C-4706-812B-D54448FCE55C">Best Practices for Query Performance</a><br></li>
                     <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-EA14A0A1-2AF6-41A7-8362-F9600874F7F0">Special Considerations When Using SEM_MATCH</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-F422BB9F-8473-4980-9D6C-848F708C10E0" title="Oracle Spatial and Graph support for semantic technologies consists mainly of Resource Description Framework (RDF) and a subset of the Web Ontology Language (OWL). These capabilities are referred to as the RDF Knowledge Graph feature of Oracle Spatial and Graph.">RDF Knowledge Graph Overview</a></p>
                     </div>
                  </div>
               </div>
               <a id="RDFRM595"></a><div class="props_rev_3"><a id="GUID-6F4E4658-4AA3-4108-92A0-F4D84E10D0B6" name="GUID-6F4E4658-4AA3-4108-92A0-F4D84E10D0B6"></a><h4 id="RDFRM-GUID-6F4E4658-4AA3-4108-92A0-F4D84E10D0B6" class="sect4"><span class="enumeration_section">1.6.1 </span>Performing Queries with Incomplete or Invalid Entailments
                  </h4>
                  <div>
                     <p>You can query semantic data even when the relevant entailment does not have a valid status if you specify the string value <code class="codeph">INCOMPLETE</code> or <code class="codeph">INVALID</code> for the <code class="codeph">index_status</code> attribute of the SEM_MATCH table function. (The entailment status is stored in the STATUS column of the SEM_RULES_INDEX_INFO view, which is described in <a href="rdf-semantic-graph-overview.html#GUID-AE3CFE93-13CF-444E-9523-0693572851E7">Entailments (Rules Indexes)</a>. The SEM_MATCH table function is described in <a href="rdf-semantic-graph-overview.html#GUID-71464CC4-1C03-48A4-9A4C-0E671FF8F16E" title="To query semantic data, use the SEM_MATCH table function.">Using the SEM_MATCH Table Function to Query Semantic Data</a>.)
                     </p>
                     <p>The index_status attribute value affects the query behavior as follows:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>If the entailment has a valid status, the query behavior is not affected by the value of the <code class="codeph">index_status</code> attribute.
                           </p>
                        </li>
                        <li>
                           <p>If you provide no value or specify a null value for <code class="codeph">index_status</code>, the query returns an error if the entailment does not have a valid status.
                           </p>
                        </li>
                        <li>
                           <p>If you specify the string <code class="codeph">INCOMPLETE</code> for the <code class="codeph">index_status</code> attribute, the query is performed if the status of the entailment is incomplete or valid.
                           </p>
                        </li>
                        <li>
                           <p>If you specify the string <code class="codeph">INVALID</code> for the <code class="codeph">index_status</code> attribute, the query is performed regardless of the actual status of the entailment (invalid, incomplete, or valid).
                           </p>
                        </li>
                     </ul>
                     <p>However, the following considerations apply if the status of the entailment is incomplete or invalid:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>If the status is incomplete, the content of an entailment may be approximate, because some triples that are inferable (due to the recent insertions into the underlying models) may not actually be present in the entailment, and therefore results returned by the query may be inaccurate.</p>
                        </li>
                        <li>
                           <p>If the status is invalid, the content of the entailment may be approximate, because some triples that are no longer inferable (due to recent modifications to the underlying models or rulebases, or both) may still be present in the entailment, and this may affect the accuracy of the result returned by the query. In addition to possible presence of triples that are no longer inferable, some inferable rows may not actually be present in the entailment.</p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-71464CC4-1C03-48A4-9A4C-0E671FF8F16E" title="To query semantic data, use the SEM_MATCH table function.">Using the SEM_MATCH Table Function to Query Semantic Data</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="RDFRM168"></a><a id="RDFRM99900"></a><a id="RDFRM99901"></a><a id="RDFRM165"></a><a id="RDFRM166"></a><a id="RDFRM167"></a><a id="RDFRM99902"></a><a id="RDFRM169"></a><a id="RDFRM99903"></a><a id="RDFRM99899"></a><div class="props_rev_3"><a id="GUID-55180C4B-7B8B-4F45-A948-A46D227935FA" name="GUID-55180C4B-7B8B-4F45-A948-A46D227935FA"></a><h4 id="RDFRM-GUID-55180C4B-7B8B-4F45-A948-A46D227935FA" class="sect4"><span class="enumeration_section">1.6.2 </span>Graph Patterns: Support for Curly Brace Syntax, and OPTIONAL, FILTER, UNION, and GRAPH Keywords
                  </h4>
                  <div>
                     <p>The SEM_MATCH table function accepts the syntax for the graph pattern in which a sequence of triple patterns is enclosed within curly braces. The period is usually required as a separator unless followed by the OPTIONAL, FILTER, UNION, or GRAPH keyword. With this syntax, you can do any combination of the following:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Use the OPTIONAL construct to retrieve results even in the case of a partial match</p>
                        </li>
                        <li>
                           <p>Use the FILTER construct to specify a filter expression in the graph pattern to restrict the solutions to a query</p>
                        </li>
                        <li>
                           <p>Use the UNION construct to match one of multiple alternative graph patterns</p>
                        </li>
                        <li>
                           <p>Use the GRAPH construct (explained in <a href="rdf-semantic-graph-overview.html#GUID-45654D98-A2B5-4815-949D-2F48FA66DA51">GRAPH Keyword Support</a>) to scope graph pattern matching to a set of named graphs
                           </p>
                        </li>
                     </ul>
                     <p>In addition to arithmetic operators (+, -, *, /), Boolean operators and logical connectives (||, &amp;&amp;, !), and comparison operators (&lt;, &gt;, &lt;=, &gt;=, =, !=), several built-in functions are available for use in FILTER clauses. <a href="rdf-semantic-graph-overview.html#GUID-55180C4B-7B8B-4F45-A948-A46D227935FA__CIHHJDHG" title="Built-in Functions Available for FILTER Clause. Column 1 is Function, and column 2 is Description.">Table 1-13</a> lists built-in functions that you can use in the FILTER clause. In the Description column of <a href="rdf-semantic-graph-overview.html#GUID-55180C4B-7B8B-4F45-A948-A46D227935FA__CIHHJDHG" title="Built-in Functions Available for FILTER Clause. Column 1 is Function, and column 2 is Description.">Table 1-13</a>, <span class="italic">x</span>, <span class="italic">y</span>, and <span class="italic">z</span> are arguments of the appropriate types.
                     </p>
                     <div class="tblformal" id="GUID-55180C4B-7B8B-4F45-A948-A46D227935FA__CIHHJDHG">
                        <p class="titleintable">Table 1-13 Built-in Functions Available for FILTER Clause</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Built-in Functions Available for FILTER Clause" summary="Built-in Functions Available for FILTER Clause. Column 1 is Function, and column 2 is Description." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d5269e5659">Function</th>
                                 <th align="left" valign="bottom" width="69%" id="d5269e5662">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d5269e5667" headers="d5269e5659 ">
                                    <p>ABS(RDF term)</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d5269e5667 d5269e5662 ">
                                    <p>Returns the absolute value of <code class="codeph">term</code>. If <code class="codeph">term</code> is a non-numerical value, returns null.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d5269e5680" headers="d5269e5659 ">
                                    <p>BNODE(literal) or BNODE()</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d5269e5680 d5269e5662 ">
                                    <p>Constructs a blank node that is distinct from all blank nodes in the dataset of the query, and those created by this function in other queries. The form with no arguments results in a distinct blank node in every call. The form with a simple literal results in distinct blank nodes for different simple literals, and the same blank node for calls with the same simple literal.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d5269e5687" headers="d5269e5659 ">
                                    <p>BOUND(variable)</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d5269e5687 d5269e5662 ">
                                    <p>BOUND(x) returns <code class="codeph">true</code> if <code class="codeph">x</code> is bound (that is, non-null) in the result, <code class="codeph">false</code> otherwise.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d5269e5703" headers="d5269e5659 ">
                                    <p>CEIL(RDF term)</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d5269e5703 d5269e5662 ">
                                    <p>Returns the closest number with no fractional part which is not less than term. If term is a non-numerical value, returns null.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d5269e5710" headers="d5269e5659 ">
                                    <p>COALESCE(term list)</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d5269e5710 d5269e5662 ">
                                    <p>Returns the first element on the argument list that is evaluated without raising an error. Unbound variables raise an error if evaluated. Returns null if there are no valid elements in the term list.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d5269e5717" headers="d5269e5659 ">
                                    <p>CONCAT(term list)</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d5269e5717 d5269e5662 ">
                                    <p>Returns an <code class="codeph">xsd:String</code> value resulting of the concatenation of the string values in the term list.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d5269e5727" headers="d5269e5659 ">
                                    <p>CONTAINS(literal, match)</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d5269e5727 d5269e5662 ">
                                    <p>Returns <code class="codeph">true</code> if the string <code class="codeph">match</code> is found anywhere in <code class="codeph">literal</code>. It returns <code class="codeph">false</code> otherwise.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d5269e5746" headers="d5269e5659 ">
                                    <p>DATATYPE(literal)</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d5269e5746 d5269e5662 ">
                                    <p>DATATYPE(x) returns a URI representing the datatype of <code class="codeph">x</code>.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d5269e5756" headers="d5269e5659 ">
                                    <p>DAY(argument)</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d5269e5756 d5269e5662 ">
                                    <p>Returns an integer corresponding to the day part of argument. If the argument is not a <code class="codeph">dateTime</code> or <code class="codeph">date</code> data type, it returns a null value.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d5269e5769" headers="d5269e5659 ">
                                    <p>ENCODE_FOR_URI(literal)</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d5269e5769 d5269e5662 ">
                                    <p>Returns a string where the reserved characters in <code class="codeph">literal</code> are escaped and converted to its percent-encode form.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d5269e5779" headers="d5269e5659 ">
                                    <p>EXISTS(pattern)</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d5269e5779 d5269e5662 ">
                                    <p>Returns <code class="codeph">true</code> if the pattern matches the query data set, using the current bindings in the containing group graph pattern and the current active graph. If there are no matches, it returns <code class="codeph">false</code>.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d5269e5793" headers="d5269e5659 ">
                                    <p>FLOOR(RDF term)</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d5269e5793 d5269e5662 ">
                                    <p>Returns the closest number with no fractional part which is less than <code class="codeph">term</code>. If <code class="codeph">term</code> is a non-numerical value, returns null.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d5269e5806" headers="d5269e5659 ">
                                    <p>HOURS(argument)</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d5269e5806 d5269e5662 ">
                                    <p>Returns an integer corresponding to the hours part of <code class="codeph">argument</code>. If the argument is not a <code class="codeph">dateTime</code> or <code class="codeph">date</code> data type, it returns a null value.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d5269e5822" headers="d5269e5659 ">
                                    <p>IF(condition , expression1, expression2)</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d5269e5822 d5269e5662 ">
                                    <p>Evaluates the condition and obtains the effective Boolean value. If true, the first expression is evaluated and its value returned. If false, the second expression is used. If the condition raises an error, the error is passed as the result of the IF statement.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d5269e5829" headers="d5269e5659 ">
                                    <p>IRI(RDF term)</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d5269e5829 d5269e5662 ">
                                    <p>Returns an IRI resolving the string representation of argument <code class="codeph">term</code>. If there is a base IRI defined in the query, the IR is resolve against it, and the result must result in an absolute IRI.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d5269e5839" headers="d5269e5659 ">
                                    <p>isBLANK(RDF term)</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d5269e5839 d5269e5662 ">
                                    <p>isBLANK(x) returns <code class="codeph">true</code> if <code class="codeph">x</code> is a blank node, <code class="codeph">false</code> otherwise.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d5269e5855" headers="d5269e5659 ">
                                    <p>isIRI(RDF term)</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d5269e5855 d5269e5662 ">
                                    <p>isIRI(x) returns <code class="codeph">true</code> if <code class="codeph">x</code> is an IRI, <code class="codeph">false</code> otherwise.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d5269e5871" headers="d5269e5659 ">
                                    <p>isLITERAL(RDF term)</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d5269e5871 d5269e5662 ">
                                    <p>isLiteral(x) returns <code class="codeph">true</code> if <code class="codeph">x</code> is a literal, <code class="codeph">false</code> otherwise.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d5269e5887" headers="d5269e5659 ">
                                    <p>IsNUMERIC(RDF term)</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d5269e5887 d5269e5662 ">
                                    <p>Returns <code class="codeph">true</code> if <code class="codeph">term</code> is a numeric value, <code class="codeph">false</code> otherwise.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d5269e5903" headers="d5269e5659 ">
                                    <p>isURI(RDF term)</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d5269e5903 d5269e5662 ">
                                    <p>isURI(x) returns <code class="codeph">true</code> if <code class="codeph">x</code> is a URI, <code class="codeph">false</code> otherwise.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d5269e5919" headers="d5269e5659 ">
                                    <p>LANG(literal)</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d5269e5919 d5269e5662 ">
                                    <p>LANG(x) returns a plain literal serializing the language tag of <code class="codeph">x</code>.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d5269e5929" headers="d5269e5659 ">
                                    <p>LANGMATCHES(literal, literal)</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d5269e5929 d5269e5662 ">
                                    <p>LANGMATCHES(x, y) returns <code class="codeph">true</code> if language tag <code class="codeph">x</code> matches language range <code class="codeph">y</code>, <code class="codeph">false</code> otherwise.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d5269e5949" headers="d5269e5659 ">
                                    <p>LCASE(literal)</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d5269e5949 d5269e5662 ">
                                    <p>Returns a string where each character in literal is converted to its lowercase correspondent.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d5269e5956" headers="d5269e5659 ">
                                    <p>MD5(literal)</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d5269e5956 d5269e5662 ">
                                    <p>Returns the checksum for <code class="codeph">literal</code>, corresponding to the MD5 hash function.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d5269e5966" headers="d5269e5659 ">
                                    <p>MINUTES(argument)</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d5269e5966 d5269e5662 ">
                                    <p>Returns an integer corresponding to the minutes part of <code class="codeph">argument</code>. If the argument is not a <code class="codeph">dateTime</code> or <code class="codeph">date</code> data type, it returns a null value.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d5269e5982" headers="d5269e5659 ">
                                    <p>MONTH(argument)</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d5269e5982 d5269e5662 ">
                                    <p>Returns an integer corresponding to the month part of <code class="codeph">argument</code>. If the argument is not a <code class="codeph">dateTime</code> or <code class="codeph">date</code> data type, it returns a null value.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d5269e5998" headers="d5269e5659 ">
                                    <p>NOT_EXISTS(pattern)</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d5269e5998 d5269e5662 ">
                                    <p>Returns <code class="codeph">true</code> if the pattern does not match the query data set, using the current bindings in the containing group graph pattern and the current active graph. It returns <code class="codeph">false</code> otherwise.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d5269e6011" headers="d5269e5659 ">
                                    <p>NOW()</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d5269e6011 d5269e5662 ">
                                    <p>Returns an <code class="codeph">xsd:dateTime</code> value corresponding to the current time at the moment of the query execution.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d5269e6021" headers="d5269e5659 ">
                                    <p>RAND()</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d5269e6021 d5269e5662 ">
                                    <p>Generates a numeric value in the range of [0,1).</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d5269e6028" headers="d5269e5659 ">
                                    <p>REGEX(string, pattern)</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d5269e6028 d5269e5662 ">
                                    <p>REGEX(x,y) returns <code class="codeph">true</code> if <code class="codeph">x</code> matches the regular expression <code class="codeph">y</code>, <code class="codeph">false</code> otherwise. For more information about the regular expressions supported, see the Oracle Regular Expression Support appendix in <a href="../sqlrf/Oracle-Regular-Expression-Support.html#SQLRF020" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a>.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d5269e6052" headers="d5269e5659 ">
                                    <p>REGEX(string, pattern, flags)</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d5269e6052 d5269e5662 ">
                                    <p>REGEX(x,y,z) returns <code class="codeph">true</code> if <code class="codeph">x</code> matches the regular expression <code class="codeph">y</code> using the options given in <code class="codeph">z</code>, <code class="codeph">false</code> otherwise. Available options: <code class="codeph">'s'</code> &#x2013; dot all mode (<code class="codeph">'.'</code> matches any character including the newline character); <code class="codeph">'m'</code> &#x2013; multiline mode (<code class="codeph">'^'</code> matches the beginning of any line and <code class="codeph">'$'</code> matches the end of any line); <code class="codeph">'i'</code> &#x2013; case insensitive mode; <code class="codeph">'x'</code> &#x2013; remove whitespace characters from the regular expression before matching.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d5269e6097" headers="d5269e5659 ">
                                    <p>REPLACE(string, pattern, replacement)</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d5269e6097 d5269e5662 ">
                                    <p>Returns a string where each match of the regular expression <code class="codeph">pattern</code> in <code class="codeph">string</code> is replaced by <code class="codeph">replacement</code>. For more information about the regular expressions supported, see the Oracle Regular Expression Support appendix in <a href="../sqlrf/Oracle-Regular-Expression-Support.html#SQLRF020" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a>.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d5269e6118" headers="d5269e5659 ">
                                    <p>REPLACE(string, pattern, replacement, flags)</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d5269e6118 d5269e5662 ">
                                    <p>Returns a string where each match of the regular expression <code class="codeph">pattern</code> in string is replaced by <code class="codeph">replacement</code>. Available options: <code class="codeph">'s'</code> &#x2013; dot all mode (<code class="codeph">'.'</code> matches any character including the newline character); <code class="codeph">'m'</code> &#x2013; multiline mode (<code class="codeph">'^'</code> matches the beginning of any line and <code class="codeph">'$'</code> matches the end of any line); <code class="codeph">'i'</code> &#x2013; case insensitive mode; <code class="codeph">'x'</code> &#x2013; remove whitespace characters from the regular expression before matching.
                                    </p>
                                    <p>For more information about the regular expressions supported, see the Oracle Regular Expression Support appendix in <a href="../sqlrf/Oracle-Regular-Expression-Support.html#SQLRF020" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a>.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d5269e6161" headers="d5269e5659 ">
                                    <p>ROUND(RDF term)</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d5269e6161 d5269e5662 ">
                                    <p>Returns the closest number with no fractional part to <code class="codeph">term</code>. If two values exist, the value closer to positive infinite is returned. If term is a non-numerical value, returns null.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d5269e6171" headers="d5269e5659 ">
                                    <p>sameTerm(RDF term, RDF term)</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d5269e6171 d5269e5662 ">
                                    <p>sameTerm(x, y) returns <code class="codeph">true</code> if <code class="codeph">x</code> and <code class="codeph">y</code> are the same RDF term, <code class="codeph">false</code> otherwise.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d5269e6190" headers="d5269e5659 ">
                                    <p>SECONDS(argument)</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d5269e6190 d5269e5662 ">
                                    <p>Returns an integer corresponding to the seconds part of <code class="codeph">argument</code>. If the argument is not a <code class="codeph">dateTime</code> or <code class="codeph">date</code> data type, it returns a null value.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d5269e6206" headers="d5269e5659 ">
                                    <p>SHA1(literal)</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d5269e6206 d5269e5662 ">
                                    <p>Returns the checksum for <code class="codeph">literal</code>, corresponding to the SHA1 hash function.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d5269e6216" headers="d5269e5659 ">
                                    <p>SHA256(literal)</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d5269e6216 d5269e5662 ">
                                    <p>Returns the checksum for <code class="codeph">literal</code>, corresponding to the SHA256 hash function.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d5269e6226" headers="d5269e5659 ">
                                    <p>SHA384(literal)</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d5269e6226 d5269e5662 ">
                                    <p>Returns the checksum for <code class="codeph">literal</code>, corresponding to the SHA384 hash function.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d5269e6236" headers="d5269e5659 ">
                                    <p>SHA512(literal)</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d5269e6236 d5269e5662 ">
                                    <p>Returns the checksum for <code class="codeph">literal</code>, corresponding to the SHA512 hash function.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d5269e6246" headers="d5269e5659 ">
                                    <p>STR(RDF term)</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d5269e6246 d5269e5662 ">
                                    <p>STR(x) returns a plain literal of the string representation of <code class="codeph">x</code> (that is, what would be stored in the VALUE_NAME column of MDSYS.RDF_VALUE$ enclosed within double quotes).
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d5269e6256" headers="d5269e5659 ">
                                    <p>STRAFTER(literal, literal)</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d5269e6256 d5269e5662 ">
                                    <p>StrAfter (x,y) returns the portion of the string corresponding to substring that precedes in <code class="codeph">x</code> the first match of <code class="codeph">y</code>, and the end of <code class="codeph">x</code>. If <code class="codeph">y</code> cannot be matched inside <code class="codeph">x</code>, the empty string is returned.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d5269e6278" headers="d5269e5659 ">
                                    <p>STRBEFORE(literal, literal)</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d5269e6278 d5269e5662 ">
                                    <p>StrBefore (x,y) returns the portion of the string corresponding to the start of <code class="codeph">x</code> and the first match of <code class="codeph">y</code>. If <code class="codeph">y</code> cannot be matched inside <code class="codeph">x</code>, the empty string is returned.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d5269e6297" headers="d5269e5659 ">
                                    <p>STRDT(string, datatype)</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d5269e6297 d5269e5662 ">
                                    <p>Construct a literal term composed by the <code class="codeph">string</code> lexical form and the <code class="codeph">datatype</code> passed as arguments. <code class="codeph">datatype</code> must be a URI; otherwise, the function returns a null value.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d5269e6314" headers="d5269e5659 ">
                                    <p>STRENDS(literal, match)</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d5269e6314 d5269e5662 ">
                                    <p>Returns <code class="codeph">true</code> if the string <code class="codeph">literal</code> ends with the string <code class="codeph">match</code>. It returns <code class="codeph">false</code> otherwise.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d5269e6333" headers="d5269e5659 ">
                                    <p>STRLANG (string, languageTag)</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d5269e6333 d5269e5662 ">
                                    <p>Constructs a string composed by the <code class="codeph">string</code> lexical form and language tag passed as arguments.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d5269e6343" headers="d5269e5659 ">
                                    <p>STRLEN(literal)</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d5269e6343 d5269e5662 ">
                                    <p>Returns the length of the lexical form of the <code class="codeph">literal</code>.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d5269e6353" headers="d5269e5659 ">
                                    <p>STRSTARTS(literal, match)</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d5269e6353 d5269e5662 ">
                                    <p>Returns <code class="codeph">true</code> if the string <code class="codeph">literal</code> starts with the string <code class="codeph">match</code>. It returns <code class="codeph">false</code> otherwise.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d5269e6372" headers="d5269e5659 ">
                                    <p>STRUUID()</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d5269e6372 d5269e5662 ">
                                    <p>Returns a string containing the scheme section of a new UUID.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d5269e6379" headers="d5269e5659 ">
                                    <p>SUBSTR(term, startPos)</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d5269e6379 d5269e5662 ">
                                    <p>Returns the string corresponding to the portion of <code class="codeph">term</code> that starts at <code class="codeph">startPos</code> and continues until term ends. The index of the first character is 1.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d5269e6392" headers="d5269e5659 ">
                                    <p>SUBSTR(term, startPos, length)</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d5269e6392 d5269e5662 ">
                                    <p>Returns the string corresponding to the portion of term that starts at <code class="codeph">startPos</code> and continues for <code class="codeph">length</code> characters. The index of the first character is 1.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d5269e6405" headers="d5269e5659 ">
                                    <p>term IN (term list)</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d5269e6405 d5269e5662 ">
                                    <p>The expression x IN(term list) returns <code class="codeph">true</code> if <code class="codeph">x</code> can be found in any of the values in <code class="codeph">termlist</code>. Returns <code class="codeph">false</code> if not found. Zero-length lists are legal. An error is raised if any of the values in <code class="codeph">termlist</code> raises an error and <code class="codeph">x</code> is not found.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d5269e6431" headers="d5269e5659 ">
                                    <p>term NOT IN (term list)</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d5269e6431 d5269e5662 ">
                                    <p>The expression x NOT IN(term list) returns <code class="codeph">false</code> if <code class="codeph">x</code> can be found in any of the values in term list. Returns <code class="codeph">true</code> if not found. Zero-length lists are legal. An error is raised if any of the values in term list raises an error and <code class="codeph">x</code> is not found.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d5269e6450" headers="d5269e5659 ">
                                    <p>TIMEZONE(argument)</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d5269e6450 d5269e5662 ">
                                    <p>Returns the time zones section of <code class="codeph">argument</code> as an <code class="codeph">xsd:dayTimeDuration</code> value. If the argument is not a <code class="codeph">dateTime</code> or <code class="codeph">date</code> data type, it returns a null value.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d5269e6469" headers="d5269e5659 ">
                                    <p>TZ(argument)</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d5269e6469 d5269e5662 ">
                                    <p>Returns an integer corresponding to the time zone part of <code class="codeph">argument</code>. If the argument is not a <code class="codeph">dateTime</code> or <code class="codeph">date</code> data type, it returns a null value.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d5269e6486" headers="d5269e5659 ">
                                    <p>UCASE(literal)</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d5269e6486 d5269e5662 ">
                                    <p>Returns a string where each character in <code class="codeph">literal</code> is converted to its uppercase correspondent.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d5269e6496" headers="d5269e5659 ">
                                    <p>URI(RDF term)</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d5269e6496 d5269e5662 ">
                                    <p>(Synonym for IRI(RDF term)</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d5269e6503" headers="d5269e5659 ">
                                    <p>UUID()</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d5269e6503 d5269e5662 ">
                                    <p>Returns a URI with a new Universal Unique Identifier. The value and the version correspond to the PL/SQL function <code class="codeph">sys_guid ()</code>.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d5269e6513" headers="d5269e5659 ">
                                    <p>YEAR(argument)</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d5269e6513 d5269e5662 ">
                                    <p>Returns an integer corresponding to the year part of <code class="codeph">argument</code>.
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>See also the descriptions of the built-in functions defined in the SPARQL query language specification (<a href="http://www.w3.org/TR/sparql11-query/" target="_blank"><code class="codeph">http://www.w3.org/TR/sparql11-query/</code></a>), to better understand the built-in functions available in SEM_MATCH.
                     </p>
                     <p>In addition, Oracle provides some proprietary query functions that take advantage of Oracle Database features and help improve query performance. The following table lists these Oracle-specific query functions. Note that the built-in namespace prefix <code class="codeph">orardf</code> expands to <code class="codeph">&lt;http://xmlns.oracle.com/rdf/&gt;</code>.
                     </p>
                     <div class="tblformal" id="GUID-55180C4B-7B8B-4F45-A948-A46D227935FA__ORACLE-SPECIFICQUERYFUNCTIONS-12DD2654">
                        <p class="titleintable">Table 1-14 Oracle-Specific Query Functions</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Oracle-Specific Query Functions" summary="Oracle-Specific Query Functions. Column 1 is Function, and column 2 is Description." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d5269e6547">Function</th>
                                 <th align="left" valign="bottom" width="69%" id="d5269e6550">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d5269e6555" headers="d5269e6547 ">
                                    <p>orardf:like(RDF term, pattern)</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d5269e6555 d5269e6550 ">
                                    <p>Returns <code class="codeph">true</code> if the given term matches with the given like pattern, <code class="codeph">false</code> otherwise. See <a href="rdf-semantic-graph-overview.html#GUID-7001881A-9DE6-4F3D-8593-F31F2004FE37">Full-Text Search</a> for more information.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d5269e6571" headers="d5269e6547 ">
                                    <p>orardf:sameCanonTerm(RDF term, RDF term)</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d5269e6571 d5269e6550 ">
                                    <p>Returns <code class="codeph">true</code> if two terms represent the same canonical RDF term, <code class="codeph">false</code> otherwise. Allows a VALUE_ID-based comparison, which is more efficient than <code class="codeph">sameTerm(?x, ?y) or (?x = ?y)</code>.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d5269e6587" headers="d5269e6547 ">
                                    <p>orardf:textContains(RDF term, pattern)</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d5269e6587 d5269e6550 ">
                                    <p>Returns <code class="codeph">true</code> if the given term matches with the given Oracle Text search pattern, <code class="codeph">false</code> otherwise. See <a href="rdf-semantic-graph-overview.html#GUID-7001881A-9DE6-4F3D-8593-F31F2004FE37">Full-Text Search</a> for more information.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d5269e6603" headers="d5269e6547 ">
                                    <p>orardf:textScore(invocation id)</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d5269e6603 d5269e6550 ">
                                    <p>Returns the score of an orardf:textContains match. See <a href="rdf-semantic-graph-overview.html#GUID-7001881A-9DE6-4F3D-8593-F31F2004FE37">Full-Text Search</a> for more information.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d5269e6613" headers="d5269e6547 ">
                                    <p>(Spatial built-in functions)</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d5269e6613 d5269e6550 ">
                                    <p>(See <a href="rdf-semantic-graph-overview.html#GUID-3986DFD4-F23A-4379-A859-9EA1F1582D43">Spatial Support</a>.)
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>The following XML Schema casting functions are available for use in FILTER clauses. These functions take an RDF term as input and return a new RDF term of the desired type or raise an error if the term cannot be cast to the desired type. Details of type casting can be found in Section 17.1 of the XPath query specification: <a href="http://www.w3.org/TR/xpath-functions/#casting-from-primitive-to-primitive" target="_blank"><code class="codeph">http://www.w3.org/TR/xpath-functions/#casting-from-primitive-to-primitive</code></a>. These functions use the XML Namespace <code class="codeph">xsd : http://www.w3.org/2001/XMLSchema#</code>.
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>xsd:string (RDF term)</p>
                        </li>
                        <li>
                           <p>xsd:dateTime (RDF term)</p>
                        </li>
                        <li>
                           <p>xsd:boolean (RDF term)</p>
                        </li>
                        <li>
                           <p>xsd:integer (RDF term)</p>
                        </li>
                        <li>
                           <p>xsd:float (RDF term)</p>
                        </li>
                        <li>
                           <p>xsd:double (RDF term)</p>
                        </li>
                        <li>
                           <p>xsd:decimal (RDF term)</p>
                        </li>
                     </ul>
                     <p>If you use the syntax with curly braces to express a graph pattern:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The query always returns canonical lexical forms for the matching values for the variables.</p>
                        </li>
                        <li>
                           <p>Any hints specified in the <code class="codeph">options</code> argument using HINT0={<span class="italic">&lt;hint-string&gt;</span>} (explained in <a href="rdf-semantic-graph-overview.html#GUID-71464CC4-1C03-48A4-9A4C-0E671FF8F16E" title="To query semantic data, use the SEM_MATCH table function.">Using the SEM_MATCH Table Function to Query Semantic Data</a>), should be constructed only on the basis of the portion of the graph pattern inside the root BGP. For example, the only valid aliases for use in a hint specification for the query in <a href="rdf-semantic-graph-overview.html#GUID-55180C4B-7B8B-4F45-A948-A46D227935FA__CIHEDCIB">Example 1-14</a> are <code class="codeph">t0</code>, <code class="codeph">t1</code>, <code class="codeph">?x</code>, and <code class="codeph">?y</code>. Inline query optimizer hints can be used to influence other parts of the graph pattern (see <a href="rdf-semantic-graph-overview.html#GUID-5D952ADA-7170-4D64-A07D-F86B32884FF5">Inline Query Optimizer Hints</a>).
                           </p>
                        </li>
                        <li>
                           <p>The FILTER construct is not supported for variables bound to long literals.</p>
                        </li>
                     </ul>
                     <div class="example" id="GUID-55180C4B-7B8B-4F45-A948-A46D227935FA__CIHHDGDI">
                        <p class="titleinexample">Example 1-13 Curly Brace Syntax</p>
                        <p><a href="rdf-semantic-graph-overview.html#GUID-55180C4B-7B8B-4F45-A948-A46D227935FA__CIHHDGDI">Example 1-13</a> uses the syntax with curly braces and a period to express a graph pattern in the SEM_MATCH table function.
                        </p><pre class="oac_no_warn" dir="ltr">SELECT x, y
  FROM TABLE(SEM_MATCH(
    <span class="bold">'{?x :grandParentOf ?y . ?x rdf:type :Male}'</span>,
    SEM_Models('family'),
    SEM_Rulebases('RDFS','family_rb'), 
    SEM_ALIASES(SEM_ALIAS('','http://www.example.org/family/')),
    null, null, '', null, null,
    'RDFUSER', 'NET1'));
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-55180C4B-7B8B-4F45-A948-A46D227935FA__CIHEDCIB">
                        <p class="titleinexample">Example 1-14 Curly Brace Syntax and OPTIONAL Construct</p>
                        <p><a href="rdf-semantic-graph-overview.html#GUID-55180C4B-7B8B-4F45-A948-A46D227935FA__CIHEDCIB">Example 1-14</a> uses the OPTIONAL construct to modify <a href="rdf-semantic-graph-overview.html#GUID-55180C4B-7B8B-4F45-A948-A46D227935FA__CIHHDGDI">Example 1-13</a>, so that it also returns, for each grandfather, the names of the games that he plays or null if he does not play any games.
                        </p><pre class="oac_no_warn" dir="ltr">SELECT x, y, game
  FROM TABLE(SEM_MATCH(
    '{?x :grandParentOf ?y . ?x rdf:type :Male . 
      <span class="bold">OPTIONAL{?x :plays ?game}</span> 
     }',
    SEM_Models('family'),
    SEM_Rulebases('RDFS','family_rb'), 
    SEM_ALIASES(SEM_ALIAS('','http://www.example.org/family/')),
    null,
    null,
    'HINT0={LEADING(t0 t1) USE_NL(?x ?y)}', 
    null, 
    null,
    'RDFUSER', 'NET1'));
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-55180C4B-7B8B-4F45-A948-A46D227935FA__CIHHGHED">
                        <p class="titleinexample">Example 1-15 Curly Brace Syntax and Multi-Pattern OPTIONAL Construct</p>
                        <p>When multiple triple patterns are present in an OPTIONAL graph pattern, values for optional variables are returned only if a match is found for each triple pattern in the OPTIONAL graph pattern. <a href="rdf-semantic-graph-overview.html#GUID-55180C4B-7B8B-4F45-A948-A46D227935FA__CIHHGHED">Example 1-15</a> modifies <a href="rdf-semantic-graph-overview.html#GUID-55180C4B-7B8B-4F45-A948-A46D227935FA__CIHEDCIB">Example 1-14</a> so that it returns, for each grandfather, the names of the games both he and his grandchildren play, or null if he and his grandchildren have no such games in common. It also uses global query optimizer hints to specify that triple patterns should be evaluated in order within each BGP and that a hash join should be used to join the root BGP with the OPTIONAL BGP.
                        </p><pre class="oac_no_warn" dir="ltr">SELECT x, y, game
  FROM TABLE(SEM_MATCH(
    '{?x :grandParentOf ?y . ?x rdf:type :Male . 
      OPTIONAL{?x :plays ?game . ?y :plays ?game} 
     }',
    SEM_Models('family'),
    SEM_Rulebases('RDFS','family_rb'), 
    SEM_ALIASES(SEM_ALIAS('','http://www.example.org/family/')),
    null, null,
    'ALL_ORDERED ALL_BGP_HASH', 
    null, null,
    'RDFUSER', 'NET1'));
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-55180C4B-7B8B-4F45-A948-A46D227935FA__CIHGDEFG">
                        <p class="titleinexample">Example 1-16 Curly Brace Syntax and Nested OPTIONAL Construct</p>
                        <p>A single query can contain multiple OPTIONAL graph patterns, which can be nested or parallel. <a href="rdf-semantic-graph-overview.html#GUID-55180C4B-7B8B-4F45-A948-A46D227935FA__CIHGDEFG">Example 1-16</a> modifies <a href="rdf-semantic-graph-overview.html#GUID-55180C4B-7B8B-4F45-A948-A46D227935FA__CIHHGHED">Example 1-15</a> with a nested OPTIONAL graph pattern. This example returns, for each grandfather, (1) the games he plays or null if he plays no games and (2) if he plays games, the ages of his grandchildren that play the same game, or null if he has no games in common with his grandchildren. Note that in <a href="rdf-semantic-graph-overview.html#GUID-55180C4B-7B8B-4F45-A948-A46D227935FA__CIHGDEFG">Example 1-16</a> a value is returned for <code class="codeph">?game</code> even if the nested OPTIONAL graph pattern <code class="codeph">?y :plays ?game . ?y :age ?age</code> is not matched.
                        </p><pre class="oac_no_warn" dir="ltr">SELECT x, y, game, age
  FROM TABLE(SEM_MATCH(
    '{?x :grandParentOf ?y . ?x rdf:type :Male . 
      OPTIONAL{?x :plays ?game 
                          OPTIONAL {?y :plays ?game . ?y :age ?age} } 
     }',
    SEM_Models('family'),
    SEM_Rulebases('RDFS','family_rb'), 
    SEM_ALIASES(SEM_ALIAS('','http://www.example.org/family/')),
    null, null, ' ', null, null,
    'RDFUSER', 'NET1'));
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-55180C4B-7B8B-4F45-A948-A46D227935FA__CIHBDFEE">
                        <p class="titleinexample">Example 1-17 Curly Brace Syntax and Parallel OPTIONAL Construct</p>
                        <p><a href="rdf-semantic-graph-overview.html#GUID-55180C4B-7B8B-4F45-A948-A46D227935FA__CIHBDFEE">Example 1-17</a> modifies <a href="rdf-semantic-graph-overview.html#GUID-55180C4B-7B8B-4F45-A948-A46D227935FA__CIHHGHED">Example 1-15</a> with a parallel OPTIONAL graph pattern. This example returns, for each grandfather, (1) the games he plays or null if he plays no games and (2) his email address or null if he has no email address. Note that, unlike nested OPTIONAL graph patterns, parallel OPTIONAL graph patterns are treated independently. That is, if an email address is found, it will be returned regardless of whether or not a game was found; and if a game was found, it will be returned regardless of whether an email address was found.
                        </p><pre class="oac_no_warn" dir="ltr">SELECT x, y, game, email
  FROM TABLE(SEM_MATCH(
    '{?x :grandParentOf ?y . ?x rdf:type :Male . 
      OPTIONAL{?x :plays ?game}
      OPTIONAL{?x :email ?email} 
     }',
    SEM_Models('family'),
    SEM_Rulebases('RDFS','family_rb'), 
    SEM_ALIASES(SEM_ALIAS('','http://www.example.org/family/')),
    null, null, ' ', null, null,
    'RDFUSER', 'NET1'));
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-55180C4B-7B8B-4F45-A948-A46D227935FA__CIHCBHAC">
                        <p class="titleinexample">Example 1-18 Curly Brace Syntax and FILTER Construct</p>
                        <p><a href="rdf-semantic-graph-overview.html#GUID-55180C4B-7B8B-4F45-A948-A46D227935FA__CIHCBHAC">Example 1-18</a> uses the FILTER construct to modify <a href="rdf-semantic-graph-overview.html#GUID-55180C4B-7B8B-4F45-A948-A46D227935FA__CIHHDGDI">Example 1-13</a>, so that it returns grandchildren information for only those grandfathers who are residents of either NY or CA.
                        </p><pre class="oac_no_warn" dir="ltr">SELECT x, y
  FROM TABLE(SEM_MATCH(
    '{?x :grandParentOf ?y . ?x rdf:type :Male . ?x :residentOf ?z
       <span class="bold">FILTER (?z = "NY"  || ?z = "CA")</span>}',
    SEM_Models('family'),
    SEM_Rulebases('RDFS','family_rb'), 
    SEM_ALIASES(SEM_ALIAS('','http://www.example.org/family/')),
    null, null, ' ', null, null,
    'RDFUSER', 'NET1'));
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-55180C4B-7B8B-4F45-A948-A46D227935FA__CIHEFIAC">
                        <p class="titleinexample">Example 1-19 Curly Brace Syntax and FILTER with REGEX and STR Built-In Constructs</p>
                        <p><a href="rdf-semantic-graph-overview.html#GUID-55180C4B-7B8B-4F45-A948-A46D227935FA__CIHEFIAC">Example 1-19</a> uses the REGEX built-in function to select all grandfathers who have an Oracle email address. Note that backslash (<code class="codeph">\</code>) characters in the regular expression pattern must be escaped in the query string; for example, <code class="codeph">\\.</code> produces the following pattern: <code class="codeph">\.</code></p><pre class="oac_no_warn" dir="ltr">SELECT x, y, z
  FROM TABLE(SEM_MATCH(
    '{?x :grandParentOf ?y . ?x rdf:type :Male . ?x :email ?z
       <span class="bold">FILTER (REGEX(STR(?z), "@oracle\\.com$"))</span>}',
    SEM_Models('family'),
    SEM_Rulebases('RDFS','family_rb'), 
    SEM_ALIASES(SEM_ALIAS('','http://www.example.org/family/')),
    null, null, ' ', null, null,
    'RDFUSER', 'NET1'));
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-55180C4B-7B8B-4F45-A948-A46D227935FA__CIHCJGGG">
                        <p class="titleinexample">Example 1-20 Curly Brace Syntax and UNION and FILTER Constructs</p>
                        <p><a href="rdf-semantic-graph-overview.html#GUID-55180C4B-7B8B-4F45-A948-A46D227935FA__CIHCJGGG">Example 1-20</a> uses the UNION construct to modify <a href="rdf-semantic-graph-overview.html#GUID-55180C4B-7B8B-4F45-A948-A46D227935FA__CIHCBHAC">Example 1-18</a>, so that grandfathers are returned only if they are residents of NY or CA or own property in NY or CA, or if both conditions are true (they reside in and own property in NY or CA).
                        </p><pre class="oac_no_warn" dir="ltr">SELECT x, y
  FROM TABLE(SEM_MATCH(
    '{?x :grandParentOf ?y . ?x rdf:type :Male 
       {{?x :residentOf ?z} <span class="bold">UNION {?x :ownsPropertyIn ?z}</span>}
       <span class="bold">FILTER (?z = "NY"  || ?z = "CA")</span>}',
    SEM_Models('family'),
    SEM_Rulebases('RDFS','family_rb'), 
    SEM_ALIASES(SEM_ALIAS('','http://www.example.org/family/')),
    null, null, ' ', null, null,
    'RDFUSER', 'NET1'));
</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-45654D98-A2B5-4815-949D-2F48FA66DA51">GRAPH Keyword Support</a><br></li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-71464CC4-1C03-48A4-9A4C-0E671FF8F16E" title="To query semantic data, use the SEM_MATCH table function.">Using the SEM_MATCH Table Function to Query Semantic Data</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="RDFRM171"></a><a id="RDFRM172"></a><a id="RDFRM173"></a><a id="RDFRM174"></a><a id="RDFRM170"></a><div class="props_rev_3"><a id="GUID-45654D98-A2B5-4815-949D-2F48FA66DA51" name="GUID-45654D98-A2B5-4815-949D-2F48FA66DA51"></a><h5 id="RDFRM-GUID-45654D98-A2B5-4815-949D-2F48FA66DA51" class="sect5"><span class="enumeration_section">1.6.2.1 </span>GRAPH Keyword Support
                     </h5>
                     <div>
                        <p>A SEM_MATCH query is executed against an RDF Dataset. An RDF Dataset is a collection of graphs that includes one unnamed graph, known as the default graph, and one or more named graphs, which are identified by a URI. Graph patterns that appear inside a GRAPH clause are matched against the set of named graphs, and graph patterns that do not appear inside a graph clause are matched against the default graph. The <code class="codeph">graphs</code> and <code class="codeph">named_graphs</code> SEM_MATCH parameters are used to construct the default graph and set of named graphs for a given SEM_MATCH query. A summary of possible dataset configurations is shown in <a href="rdf-semantic-graph-overview.html#GUID-45654D98-A2B5-4815-949D-2F48FA66DA51__CIHHJFED" title="SEM_MATCH graphs and named_graphs Values, and Resulting Data Set Configurations">Table 1-15</a>.
                        </p>
                        <div class="tblformalwide" id="GUID-45654D98-A2B5-4815-949D-2F48FA66DA51__CIHHJFED">
                           <p class="titleintable">Table 1-15 SEM_MATCH graphs and named_graphs Values, and Resulting Dataset Configurations</p>
                           <table cellpadding="4" cellspacing="0" class="FormalWide" title="SEM_MATCH graphs and named_graphs Values, and Resulting Dataset Configurations" summary="SEM_MATCH graphs and named_graphs Values, and Resulting Data Set Configurations" width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="27%" id="d5269e6892">Parameter Values</th>
                                    <th align="left" valign="bottom" width="51%" id="d5269e6895">Default Graph</th>
                                    <th align="left" valign="bottom" width="21%" id="d5269e6898">Set of Named Graphs</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d5269e6903" headers="d5269e6892 ">
                                       <p><code class="codeph">graphs</code>: NULL
                                       </p>
                                       <p><code class="codeph">named_graphs</code>: NULL
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="51%" headers="d5269e6903 d5269e6895 ">
                                       <p>Union All of all unnamed triples and all named graph triples. (But if the <code class="codeph">options</code> parameter contains <code class="codeph">STRICT_DEFAULT=T</code>, only unnamed triples are included in the default graph.)
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="21%" headers="d5269e6903 d5269e6898 ">
                                       <p>All named graphs</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d5269e6925" headers="d5269e6892 ">
                                       <p><code class="codeph">graphs</code>: NULL
                                       </p>
                                       <p><code class="codeph">named_graphs</code>: {g1,…, gn}
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="51%" headers="d5269e6925 d5269e6895 ">
                                       <p>Empty set</p>
                                    </td>
                                    <td align="left" valign="top" width="21%" headers="d5269e6925 d5269e6898 ">
                                       <p>{g1,…, gn}</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d5269e6941" headers="d5269e6892 ">
                                       <p><code class="codeph">graphs</code>: {g1,…, gm}
                                       </p>
                                       <p><code class="codeph">named_graphs</code>: NULL
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="51%" headers="d5269e6941 d5269e6895 ">
                                       <p>Union All of {g1,…, gm}</p>
                                    </td>
                                    <td align="left" valign="top" width="21%" headers="d5269e6941 d5269e6898 ">
                                       <p>Empty set</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d5269e6957" headers="d5269e6892 ">
                                       <p><code class="codeph">graphs</code>: {g1,…, gm}
                                       </p>
                                       <p><code class="codeph">named_graphs</code>: {gn,…, gz}
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="51%" headers="d5269e6957 d5269e6895 ">
                                       <p>Union All of {g1,…, gm}</p>
                                    </td>
                                    <td align="left" valign="top" width="21%" headers="d5269e6957 d5269e6898 ">
                                       <p>{gn,…, gz}</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>See also the W3C SPARQL specification for more information on RDF data sets and the GRAPH construct, specifically: <a href="http://www.w3.org/TR/rdf-sparql-query/#rdfDataset" target="_blank"><code class="codeph">http://www.w3.org/TR/rdf-sparql-query/#rdfDataset</code></a></p>
                        <div class="example" id="GUID-45654D98-A2B5-4815-949D-2F48FA66DA51__CIHFAIJF">
                           <p class="titleinexample">Example 1-21 Named Graph Construct</p>
                           <p><a href="rdf-semantic-graph-overview.html#GUID-45654D98-A2B5-4815-949D-2F48FA66DA51__CIHFAIJF">Example 1-21</a> uses the GRAPH construct to scope graph pattern matching to a specific named graph. This example finds the names and email addresses of all people in the <code class="codeph">&lt;http://www.example.org/family/Smith&gt;</code> named graph.
                           </p><pre class="oac_no_warn" dir="ltr">SELECT name, email
  FROM TABLE(SEM_MATCH(
    '{GRAPH :Smith {
       ?x :name ?name . ?x :email ?email } }',
    SEM_Models('family'),
    SEM_Rulebases('RDFS','family_rb'), 
    SEM_ALIASES(SEM_ALIAS('','http://www.example.org/family/')),
    null, null, ' ', null, null,
    'RDFUSER', 'NET1'));
</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-45654D98-A2B5-4815-949D-2F48FA66DA51__CIHJAJCC">
                           <p class="titleinexample">Example 1-22 Using the named_graphs Parameter</p>
                           <p>In addition to URIs, variables can appear after the GRAPH keyword. <a href="rdf-semantic-graph-overview.html#GUID-45654D98-A2B5-4815-949D-2F48FA66DA51__CIHJAJCC">Example 1-22</a> uses a variable, <code class="codeph">?g</code>, with the GRAPH keyword, and uses the <code class="codeph">named_graphs</code> parameter to restrict the possible values of <code class="codeph">?g</code> to the <code class="codeph">&lt;http://www.example.org/family/Smith&gt;</code> and <code class="codeph">&lt;http://www.example.org/family/Jones&gt;</code> named graphs. Aliases specified in SEM_ALIASES argument can be used in the <code class="codeph">graphs</code> and <code class="codeph">named_graphs</code> parameters.
                           </p><pre class="oac_no_warn" dir="ltr">SELECT name, email
  FROM TABLE(SEM_MATCH(
    '{GRAPH ?g {
       ?x :name ?name . ?x :email ?email } }',
    SEM_Models('family'),
    SEM_Rulebases('RDFS','family_rb'), 
    SEM_ALIASES(SEM_ALIAS('','http://www.example.org/family/')),
    null,null,null,null,
    SEM_GRAPHS('&lt;http://www.example.org/family/Smith&gt;',
               ':Jones'),
    'RDFUSER', 'NET1'));
</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-45654D98-A2B5-4815-949D-2F48FA66DA51__CIHIIHGC">
                           <p class="titleinexample">Example 1-23 Using the graphs Parameter</p>
                           <p><a href="rdf-semantic-graph-overview.html#GUID-45654D98-A2B5-4815-949D-2F48FA66DA51__CIHIIHGC">Example 1-23</a> uses the default graph to query the union of the <code class="codeph">&lt;http://www.example.org/family/Smith&gt;</code> and <code class="codeph">&lt;http://www.example.org/family/Jones&gt;</code> named graphs.
                           </p><pre class="oac_no_warn" dir="ltr">FROM TABLE(SEM_MATCH(
    '{?x :name ?name . ?x :email ?email }',
    SEM_Models('family'),
    SEM_Rulebases('RDFS','family_rb'), 
    SEM_ALIASES(SEM_ALIAS('','http://www.example.org/family/')),
    null,null,null,
    SEM_GRAPHS('&lt;http://www.example.org/family/Smith&gt;', 
               ':Jones'),
    null,
    'RDFUSER', 'NET1'));
</pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-55180C4B-7B8B-4F45-A948-A46D227935FA">Graph Patterns: Support for Curly Brace Syntax, and OPTIONAL, FILTER, UNION, and GRAPH Keywords</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="RDFRM750"></a><a id="RDFRM749"></a><div class="props_rev_3"><a id="GUID-B956C85E-4AC1-4503-9510-9035FF253414" name="GUID-B956C85E-4AC1-4503-9510-9035FF253414"></a><h4 id="RDFRM-GUID-B956C85E-4AC1-4503-9510-9035FF253414" class="sect4"><span class="enumeration_section">1.6.3 </span>Graph Patterns: Support for SPARQL ASK Syntax
                  </h4>
                  <div>
                     <p>SEM_MATCH allows fully-specified SPARQL ASK queries in the query parameter.</p>
                     <p>ASK queries are used to test whether or not a solution exists for a given query pattern. In contrast to other forms of SPARQL queries, ASK queries do not return any information about solutions to the query pattern. Instead, such queries return <code class="codeph">"true"^^xsd:boolean</code> if a solution exists and <code class="codeph">"false"^^xsd:boolean</code> if no solution exists.
                     </p>
                     <p>All SPARQL ASK queries return the same columns: ASK, ASK$RDFVID, ASK$_PREFIX, ASK$_SUFFIX, ASK$RDFVTYP, ASK$RDFCLOB, ASK$RDFLTYP, ASK$RDFLANG, SEM$ROWNUM. Note that these columns are the same as a SPARQL SELECT syntax query that projects a single <code class="codeph">?ask</code> variable.
                     </p>
                     <p>SPARQL ASK queries will generally give better performance than an equivalent SPARQL SELECT syntax query because the ASK query does not have to retrieve lexical values for query variables, and query execution can stop after a single result has been found.</p>
                     <p>SPARQL ASK queries use the same syntax as SPARQL SELECT queries, but the topmost SELECT clause must be replaced with the keyword ASK.</p>
                     <div class="example" id="GUID-B956C85E-4AC1-4503-9510-9035FF253414__CIHCFDAC">
                        <p class="titleinexample">Example 1-24 SPARQL ASK</p>
                        <p><a href="rdf-semantic-graph-overview.html#GUID-B956C85E-4AC1-4503-9510-9035FF253414__CIHCFDAC">Example 1-24</a> shows a SPARQL ASK query that determines whether or not any cameras are for sale with more than 10 megapixels that cost less than 50 dollars.
                        </p><pre class="oac_no_warn" dir="ltr">SELECT ask
  FROM TABLE(SEM_MATCH(
    'PREFIX : &lt;http://www.example.org/electronics/&gt; 
     ASK
     WHERE
      {?x :price ?p .
       ?x :megapixels ?m .
       FILTER (?p &lt; 50 &amp;&amp; ?m &gt; 10)
      }',
    SEM_Models('electronics'),
    null, null, null, ' ', null, null,
    'RDFUSER', 'NET1'));
</pre><p>See also the W3C SPARQL specification for more information on SPARQL ASK queries, specifically: <a href="http://www.w3.org/TR/sparql11-query/#ask" target="_blank"><code class="codeph">http://www.w3.org/TR/sparql11-query/#ask</code></a></p>
                     </div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-71464CC4-1C03-48A4-9A4C-0E671FF8F16E" title="To query semantic data, use the SEM_MATCH table function.">Using the SEM_MATCH Table Function to Query Semantic Data</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="RDFRM752"></a><a id="RDFRM753"></a><a id="RDFRM754"></a><a id="RDFRM755"></a><a id="RDFRM756"></a><a id="RDFRM757"></a><a id="RDFRM751"></a><div class="props_rev_3"><a id="GUID-9DAC9FA2-0546-4744-9FF3-FD61B07130CA" name="GUID-9DAC9FA2-0546-4744-9FF3-FD61B07130CA"></a><h4 id="RDFRM-GUID-9DAC9FA2-0546-4744-9FF3-FD61B07130CA" class="sect4"><span class="enumeration_section">1.6.4 </span>Graph Patterns: Support for SPARQL CONSTRUCT Syntax
                  </h4>
                  <div>
                     <p>SEM_MATCH allows fully-specified SPARQL CONSTRUCT queries in the query parameter.</p>
                     <p>CONSTRUCT queries are used to build RDF graphs from stored RDF data. In contrast to SPARQL SELECT queries, CONSTRUCT queries return a set of RDF triples rather than a set of query solutions (variable bindings).</p>
                     <p>All SPARQL CONSTRUCT queries return the same columns from SEM_MATCH. These columns correspond to the subject, predicate and object of an RDF triple, and there are 10 columns for each triple component. In addition, a SEM$ROWNUM column is returned. More specifically, the following columns are returned:</p><pre class="oac_no_warn" dir="ltr">SUBJ
SUBJ$RDFVID
SUBJ$_PREFIX
SUBJ$_SUFFIX
SUBJ$RDFVTYP
SUBJ$RDFCLOB
SUBJ$RDFLTYP
SUBJ$RDFLANG
SUBJ$RDFTERM
SUBJ$RDFCLBT
PRED
PRED$RDFVID
PRED$_PREFIX
PRED$_SUFFIX
PRED$RDFVTYP
PRED$RDFCLOB
PRED$RDFLTYP
PRED$RDFLANG
PRED$RDFTERM
PRED$RDFCLBT
OBJ
OBJ$RDFVID
OBJ$_PREFIX
OBJ$_SUFFIX
OBJ$RDFVTYP
OBJ$RDFCLOB
OBJ$RDFLTYP
OBJ$RDFLANG
OBJ$RDFTERM
OBJ$RDFCLBT
SEM$ROWNUM
</pre><p>For each component, COMP, COMP$RDFVID, COMP$_PREFIX, COMP$_SUFFIX, COMP$RDFVTYP, COMP$RDFCLOB, COMP$RDFLTYP, and COMP$RDFLANG correspond to the same values as those from SPARQL SELECT queries. COMP$RDFTERM holds a VARCHAR2(4000) RDF term in N-Triple syntax, and COMP$RDFCLBT holds a CLOB RDF term in N-Triple syntax.</p>
                     <p>SPARQL CONSTRUCT queries use the same syntax as SPARQL SELECT queries, except the topmost SELECT clause is replaced with a CONSTRUCT template. The CONSTRUCT template determines how to construct the result RDF graph using the results of the query pattern defined in the WHERE clause. A CONSTRUCT template consists of the keyword CONSTRUCT followed by sequence of SPARQL triple patterns that are enclosed within curly braces. The keywords OPTIONAL, UNION, FILTER, MINUS, BIND, VALUES, and GRAPH are not allowed within CONSTRUCT templates, and property path expressions are not allowed within CONSTRUCT templates. These keywords, however, are allowed within the query pattern inside the WHERE clause.</p>
                     <p>SPARQL CONSTRUCT queries build result RDF graphs in the following manner. For each result row returned by the WHERE clause, variable values are substituted into the CONSTRUCT template to create one or more RDF triples. Suppose the graph pattern in the WHERE clause of <a href="rdf-semantic-graph-overview.html#GUID-9DAC9FA2-0546-4744-9FF3-FD61B07130CA__CIHCGJBJ">Example 1-25</a> returns the following result rows.
                     </p>
                     <div class="tblformal" id="GUID-9DAC9FA2-0546-4744-9FF3-FD61B07130CA__GUID-79C52D3D-7C5A-4A6D-ACBA-5E3E3CE1EBDB">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="Result rows from graph pattern in the WHERE clause of preceding example" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="33%" id="d5269e7189">E$RDFTERM</th>
                                 <th align="left" valign="bottom" width="33%" id="d5269e7192">FNAME$RDFTERM</th>
                                 <th align="left" valign="bottom" width="33%" id="d5269e7195">LNAME$RDFTERM</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d5269e7200" headers="d5269e7189 ">
                                    <p>ent:employee1</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d5269e7200 d5269e7192 ">
                                    <p>"Fred"</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d5269e7200 d5269e7195 ">
                                    <p>"Smith"</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d5269e7210" headers="d5269e7189 ">
                                    <p>ent:employee2</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d5269e7210 d5269e7192 ">
                                    <p>"Jane"</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d5269e7210 d5269e7195 ">
                                    <p>"Brown"</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d5269e7220" headers="d5269e7189 ">
                                    <p>ent:employee3</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d5269e7220 d5269e7192 ">
                                    <p>"Bill"</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d5269e7220 d5269e7195 ">
                                    <p>"Jones"</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>The overall SEM_MATCH CONSTRUCT query in <a href="rdf-semantic-graph-overview.html#GUID-9DAC9FA2-0546-4744-9FF3-FD61B07130CA__CIHCGJBJ">Example 1-25</a> would then return the following rows, which correspond to six RDF triples (two for each result row of the query pattern).
                     </p>
                     <div class="tblformal" id="GUID-9DAC9FA2-0546-4744-9FF3-FD61B07130CA__GUID-32257514-B835-48DA-92F1-E0B6FDB73C81">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="Overall results of preceding example" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="33%" id="d5269e7242">SUBJ$RDFTERM</th>
                                 <th align="left" valign="bottom" width="33%" id="d5269e7245">PRED$RDFTERM</th>
                                 <th align="left" valign="bottom" width="33%" id="d5269e7248">OBJ$RDFTERM</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d5269e7253" headers="d5269e7242 ">
                                    <p>ent:employee1</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d5269e7253 d5269e7245 ">
                                    <p>foaf:givenName</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d5269e7253 d5269e7248 ">
                                    <p>"Fred"</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d5269e7263" headers="d5269e7242 ">
                                    <p>ent:employee1</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d5269e7263 d5269e7245 ">
                                    <p>foaf:familyName</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d5269e7263 d5269e7248 ">
                                    <p>"Smith"</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d5269e7273" headers="d5269e7242 ">
                                    <p>ent:employee2</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d5269e7273 d5269e7245 ">
                                    <p>foaf:givenName</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d5269e7273 d5269e7248 ">
                                    <p>"Jane"</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d5269e7283" headers="d5269e7242 ">
                                    <p>ent:employee2</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d5269e7283 d5269e7245 ">
                                    <p>foaf:familyName</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d5269e7283 d5269e7248 ">
                                    <p>"Brown"</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d5269e7293" headers="d5269e7242 ">
                                    <p>ent:employee3</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d5269e7293 d5269e7245 ">
                                    <p>foaf:givenName</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d5269e7293 d5269e7248 ">
                                    <p>"Bill"</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d5269e7303" headers="d5269e7242 ">
                                    <p>ent:employee3</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d5269e7303 d5269e7245 ">
                                    <p>foaf:familyName</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d5269e7303 d5269e7248 ">
                                    <p>"Jones"</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>There are two SEM_MATCH query options that influence the behavior of SPARQL CONSTRUCT: <code class="codeph">CONSTRUCT_UNIQUE=T</code> and <code class="codeph">CONSTRUCT_STRICT=T</code>. Using the <code class="codeph">CONSTRUCT_UNIQUE=T</code> query option ensures that only unique RDF triples are returned from the CONSTRUCT query. Using the<code class="codeph"> CONSTRUCT_STRICT=T</code> query option ensures that only valid RDF triples are returned from the CONSTRUCT query. Valid RDF triples are those that have (1) a URI or blank node in the subject position, (2) a URI in the predicate position, and (3) a URI, blank node or RDF literal in the object position. Both of these query options are turned off by default for improved query performance.
                     </p>
                     <div class="example" id="GUID-9DAC9FA2-0546-4744-9FF3-FD61B07130CA__CIHCGJBJ">
                        <p class="titleinexample">Example 1-25 SPARQL CONSTRUCT</p>
                        <p><a href="rdf-semantic-graph-overview.html#GUID-9DAC9FA2-0546-4744-9FF3-FD61B07130CA__CIHCGJBJ">Example 1-25</a> shows a SPARQL CONSTRUCT query that builds an RDF graph of employee names using the foaf vocabulary. 
                        </p><pre class="oac_no_warn" dir="ltr">SELECT subj$rdfterm, pred$rdfterm, obj$rdfterm
  FROM TABLE(SEM_MATCH(
    'PREFIX  ent: &lt;http://www.example.org/enterprise/&gt; 
     PREFIX foaf: &lt;http://xmlns.com/foaf/0.1/&gt;
     CONSTRUCT
      {?e foaf:givenName  ?fname .
       ?e foaf:familyName ?lname 
      }
     WHERE
      {?e ent:fname ?fname .
       ?e ent:lname ?lname 
      }',
    SEM_Models('enterprise'),
    SEM_Rulebases('RDFS'),
    null, null, null, ' ', null, null,
    'RDFUSER', 'NET1'));
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-9DAC9FA2-0546-4744-9FF3-FD61B07130CA__CIHFBGCC">
                        <p class="titleinexample">Example 1-26 CONSTRUCT with Solution Modifiers</p>
                        <p>SPARQL SOLUTION modifiers can be used with CONSTRUCT queries. <a href="rdf-semantic-graph-overview.html#GUID-9DAC9FA2-0546-4744-9FF3-FD61B07130CA__CIHFBGCC">Example 1-26</a> shows the use of ORDER BY and LIMIT to build a graph about the top two highest-paid employees. Note that the LIMIT 2 clause applies to the query pattern not to the overall CONSTRUCT query. That is, the query pattern will return two result rows, but the overall CONSTRUCT query will return 6 RDF triples (three for each of the two employees bound to <code class="codeph">?e</code>).
                        </p><pre class="oac_no_warn" dir="ltr">SELECT subj$rdfterm, pred$rdfterm, obj$rdfterm
  FROM TABLE(SEM_MATCH(
    'PREFIX  ent: &lt;http://www.example.org/enterprise/&gt; 
     PREFIX foaf: &lt;http://xmlns.com/foaf/0.1/&gt;
     CONSTRUCT
      { ?e ent:fname       ?fname .
        ?e ent:lname       ?lname .
        ?e ent:dateOfBirth ?dob }
     WHERE
      { ?e ent:fname  ?fname .
        ?e ent:lname  ?lname .
        ?e ent:salary ?sal
      }
     ORDER BY DESC(?sal)
     LIMIT 2',
    SEM_Models('enterprise'),
    SEM_Rulebases('RDFS'),
    null, null, null, ' ', null, null,
    'RDFUSER', 'NET1'));
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-9DAC9FA2-0546-4744-9FF3-FD61B07130CA__CIHGHJIJ">
                        <p class="titleinexample">Example 1-27 SPARQL 1.1 Features with CONSTRUCT </p>
                        <p>SPARQL 1.1 features are supported within CONSTRUCT query patterns. <a href="rdf-semantic-graph-overview.html#GUID-9DAC9FA2-0546-4744-9FF3-FD61B07130CA__CIHGHJIJ">Example 1-27</a> shows the use of subqueries and SELECT expressions within a CONSTRUCT query.
                        </p><pre class="oac_no_warn" dir="ltr">SELECT subj$rdfterm, pred$rdfterm, obj$rdfterm
  FROM TABLE(SEM_MATCH(
    'PREFIX  ent: &lt;http://www.example.org/enterprise/&gt; 
     PREFIX foaf: &lt;http://xmlns.com/foaf/0.1/&gt;
     CONSTRUCT
      { ?e foaf:name  ?name }
     WHERE
      { SELECT ?e (CONCAT(?fname," ",?lname) AS ?name)
        WHERE { ?e ent:fname ?fname .
                ?e ent:lname ?lname }
      }',
    SEM_Models('enterprise'),
    SEM_Rulebases('RDFS'),
    null, null, null, ' ', null, null,
    'RDFUSER', 'NET1'));
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-9DAC9FA2-0546-4744-9FF3-FD61B07130CA__CIHDFFFE">
                        <p class="titleinexample">Example 1-28 SPARQL CONSTRUCT with Named Graphs</p>
                        <p>Named graph data cannot be returned from SPARQL CONSTRUCT queries because, in accordance with the W3C SPARQL specification, only RDF triples are returned, not RDF quads. The FROM, FROM NAMED and GRAPH keywords, however, can be used when matching the query pattern defined in the WHERE clause.</p>
                        <p><a href="rdf-semantic-graph-overview.html#GUID-9DAC9FA2-0546-4744-9FF3-FD61B07130CA__CIHDFFFE">Example 1-28</a> constructs an RDF graph with <code class="codeph">ent:name</code> triples from the UNION of named graphs <code class="codeph">ent:g1</code> and <code class="codeph">ent:g2</code>, <code class="codeph">ent:dateOfBirth</code> triples from named graph <code class="codeph">ent:g3</code>, and <code class="codeph">ent:ssn</code> triples from named g<code class="codeph">raph ent:g4</code>.
                        </p><pre class="oac_no_warn" dir="ltr">SELECT subj$rdfterm, pred$rdfterm, obj$rdfterm
  FROM TABLE(SEM_MATCH(
    'PREFIX  ent: &lt;http://www.example.org/enterprise/&gt; 
     PREFIX foaf: &lt;http://xmlns.com/foaf/0.1/&gt;
     CONSTRUCT
      { ?e ent:name ?name .
        ?e ent:dateOfBirth ?dob .
        ?e ent:ssn ?ssn
      }
     FROM ent:g1
     FROM ent:g2
     FROM NAMED ent:g3
     FROM NAMED ent:g4
     WHERE
      { ?e foaf:name ?name .
        GRAPH ent:g3 { ?e ent:dateOfBirth ?dob }
        GRAPH ent:g4 { ?e ent:ssn ?ssn } 
      }',
    SEM_Models('enterprise'),
    SEM_Rulebases('RDFS'),
    null, null, null, ' ', null, null,
    'RDFUSER', 'NET1'));
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-9DAC9FA2-0546-4744-9FF3-FD61B07130CA__CIHHBCJA">
                        <p class="titleinexample">Example 1-29 SPARQL CONSTRUCT Normal Form</p><pre class="oac_no_warn" dir="ltr">SELECT subj$rdfterm, pred$rdfterm, obj$rdfterm
  FROM TABLE(SEM_MATCH(
    'PREFIX  ent: &lt;http://www.example.org/enterprise/&gt; 
     PREFIX foaf: &lt;http://xmlns.com/foaf/0.1/&gt;
     CONSTRUCT
      {?e foaf:givenName  ?fname .
       ?e foaf:familyName ?lname 
      }
     WHERE
      {?e ent:fname ?fname .
       ?e ent:lname ?lname 
      }',
    SEM_Models('enterprise'),
    SEM_Rulebases('RDFS'),
    null, null, null, ' ', null, null,
    'RDFUSER', 'NET1'));
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-9DAC9FA2-0546-4744-9FF3-FD61B07130CA__CIHGDJDB">
                        <p class="titleinexample">Example 1-30 SPARQL CONSTRUCT Short Form</p>
                        <p>A short form of CONSTRUCT is supported when the CONSTRUCT template is exactly the same as the WHERE clause. In this case, only the keyword CONSTRUCT is needed, and the graph pattern in the WHERE clause will also be used as a CONSTRUCT template. <a href="rdf-semantic-graph-overview.html#GUID-9DAC9FA2-0546-4744-9FF3-FD61B07130CA__CIHGDJDB">Example 1-30</a> shows the short form of <a href="rdf-semantic-graph-overview.html#GUID-9DAC9FA2-0546-4744-9FF3-FD61B07130CA__CIHHBCJA">Example 1-29</a>.
                        </p><pre class="oac_no_warn" dir="ltr">SELECT subj$rdfterm, pred$rdfterm, obj$rdfterm
  FROM TABLE(SEM_MATCH(
    'PREFIX  ent: &lt;http://www.example.org/enterprise/&gt; 
     PREFIX foaf: &lt;http://xmlns.com/foaf/0.1/&gt;
     CONSTRUCT
     WHERE
      {?e ent:fname ?fname .
       ?e ent:lname ?lname 
      }',
    SEM_Models('enterprise'),
    SEM_Rulebases('RDFS'),
    null, null, null, ' ', null, null,
    'RDFUSER', 'NET1'));
</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-8EEC44BD-9CDE-41B3-B147-92B183A14AA2">Typical SPARQL CONSTRUCT Workflow</a><br></li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-71464CC4-1C03-48A4-9A4C-0E671FF8F16E" title="To query semantic data, use the SEM_MATCH table function.">Using the SEM_MATCH Table Function to Query Semantic Data</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="RDFRM759"></a><a id="RDFRM758"></a><div class="props_rev_3"><a id="GUID-8EEC44BD-9CDE-41B3-B147-92B183A14AA2" name="GUID-8EEC44BD-9CDE-41B3-B147-92B183A14AA2"></a><h5 id="RDFRM-GUID-8EEC44BD-9CDE-41B3-B147-92B183A14AA2" class="sect5"><span class="enumeration_section">1.6.4.1 </span>Typical SPARQL CONSTRUCT Workflow
                     </h5>
                     <div>
                        <p>A typical workflow for SPARQL CONSTRUCT would be to execute a CONSTRUCT query to extract and/or transform RDF triple data from an existing semantic model and then load this data into an existing or new semantic model. The data loading can be accomplished through simple INSERT statements or executing the <a href="SEM_APIS-reference.html#GUID-AB6697BF-C840-4F48-8C81-FACB3CA54B1A">SEM_APIS.BULK_LOAD_FROM_STAGING_TABLE</a> procedure.
                        </p>
                        <div class="example" id="GUID-8EEC44BD-9CDE-41B3-B147-92B183A14AA2__CIHIEDGC">
                           <p class="titleinexample">Example 1-31 SPARQL CONSTRUCT Workflow</p>
                           <p><a href="rdf-semantic-graph-overview.html#GUID-8EEC44BD-9CDE-41B3-B147-92B183A14AA2__CIHIEDGC">Example 1-31</a> constructs <code class="codeph">foaf:name</code> triples from existing <code class="codeph">ent:fname</code> and <code class="codeph">ent:lname</code> triples and then bulk loads these new triples back into the original model. Afterward, you can query the original model for <code class="codeph">foaf:name</code> values.
                           </p><pre class="oac_no_warn" dir="ltr">-- Use create table as select to build a staging table 
CREATE TABLE STAB(RDF$STC_sub, RDF$STC_pred, RDF$STC_obj) AS
SELECT subj$rdfterm, pred$rdfterm, obj$rdfterm
FROM TABLE(SEM_MATCH(
 'PREFIX  ent: &lt;http://www.example.org/enterprise/&gt; 
  PREFIX foaf: &lt;http://xmlns.com/foaf/0.1/&gt;
  CONSTRUCT
   { ?e foaf:name  ?name }
  WHERE
   { SELECT ?e (CONCAT(?fname," ",?lname) AS ?name)
     WHERE { ?e ent:fname ?fname .
             ?e ent:lname ?lname }
   }',
 SEM_Models('enterprise'),
 null, null, null, null, ' ', null, null,
 'RDFUSER', 'NET1')); 
 

 
-- Bulk load data back into the enterprise model
BEGIN
  SEM_APIS.BULK_LOAD_FROM_STAGING_TABLE(
    model_name=&gt;'enterprise',
    table_owner=&gt;'rdfuser',
    table_name=&gt;'stab',
    flags=&gt;' parallel_create_index parallel=4 ',
    network_owner=&gt;'RDFUSER',
    network_name=&gt;'NET1');
END;
/
 
-- Query for foaf:name data
SELECT e$rdfterm, name$rdfterm
FROM TABLE(SEM_MATCH(
 'PREFIX foaf: &lt;http://xmlns.com/foaf/0.1/&gt;
  SELECT ?e ?name
  WHERE { ?e foaf:name ?name }',
 SEM_Models('enterprise'),
 null, null, null, null, ' ', null, null,
 'RDFUSER', 'NET1'));
</pre><p>See also the W3C SPARQL specification for more information on SPARQL CONSTRUCT queries, specifically: <a href="http://www.w3.org/TR/sparql11-query/#construct" target="_blank"><code class="codeph">http://www.w3.org/TR/sparql11-query/#construct</code></a></p>
                        </div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-9DAC9FA2-0546-4744-9FF3-FD61B07130CA">Graph Patterns: Support for SPARQL CONSTRUCT Syntax</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="RDFRM761"></a><a id="RDFRM762"></a><a id="RDFRM763"></a><a id="RDFRM760"></a><div class="props_rev_3"><a id="GUID-473B972B-93AB-4648-9496-2ED9645E763D" name="GUID-473B972B-93AB-4648-9496-2ED9645E763D"></a><h4 id="RDFRM-GUID-473B972B-93AB-4648-9496-2ED9645E763D" class="sect4"><span class="enumeration_section">1.6.5 </span>Graph Patterns: Support for SPARQL DESCRIBE Syntax
                  </h4>
                  <div>
                     <p>SEM_MATCH allows fully-specified SPARQL DESCRIBE queries in the query parameter.</p>
                     <p>SPARQL DESCRIBE queries are useful for exploring RDF data sets. You can easily find information about a given resource or set of resources without knowing information about the exact RDF properties used in the data set. A DESCRIBE query returns a "description" of a resource <code class="codeph">r</code>, where a "description" is the set of RDF triples in the query data set that contain <code class="codeph">r</code> in either the subject or object position.
                     </p>
                     <p>Like CONSTRUCT queries, DESCRIBE queries return an RDF graph instead of result bindings. Each DESCRIBE query, therefore, returns the same columns as a CONSTRUCT query (see <a href="rdf-semantic-graph-overview.html#GUID-9DAC9FA2-0546-4744-9FF3-FD61B07130CA">Graph Patterns: Support for SPARQL CONSTRUCT Syntax</a> for a listing of return columns).
                     </p>
                     <p>SPARQL DESCRIBE queries use the same syntax as SPARQL SELECT queries, except the topmost SELECT clause is replaced with a DESCRIBE clause. A DESCRIBE clause consists of the DESCRIBE keyword followed by a sequence of URIs and/or variables separated by whitespace or the DESCRIBE keyword followed by a single * (asterisk).</p>
                     <p>Two SEM_MATCH query options affect SPARQL DESCRIBE queries: <code class="codeph">CONSTRUCT_UNIQUE=T</code> and <code class="codeph">CONSTRUCT_STRICT=T</code>. <code class="codeph">CONSTRUCT_UNIQUE=T</code> ensures that duplicate triples are eliminated from the result, and <code class="codeph">CONSTRUCT_STRICT=T</code> ensures that invalid triples are eliminated from the result. Both of these options are turned off by default. These options are described in more detail in <a href="rdf-semantic-graph-overview.html#GUID-9DAC9FA2-0546-4744-9FF3-FD61B07130CA">Graph Patterns: Support for SPARQL CONSTRUCT Syntax</a>.
                     </p>
                     <p>See also the W3C SPARQL specification for more information on SPARQL DESCRIBE queries, specifically: <a href="http://www.w3.org/TR/sparql11-query/#describe" target="_blank"><code class="codeph">http://www.w3.org/TR/sparql11-query/#describe</code></a></p>
                     <div class="example" id="GUID-473B972B-93AB-4648-9496-2ED9645E763D__CIHGIGCA">
                        <p class="titleinexample">Example 1-32 SPARQL DESCRIBE Short Form</p>
                        <p>A short form of SPARQL DESCRIBE is provided to describe a single constant URI. In the short form, only a DESCRIBE clause is needed. <a href="rdf-semantic-graph-overview.html#GUID-473B972B-93AB-4648-9496-2ED9645E763D__CIHGIGCA">Example 1-32</a> shows a short form SPARQL DESCRIBE query.
                        </p><pre class="oac_no_warn" dir="ltr">SELECT subj$rdfterm, pred$rdfterm, obj$rdfterm
FROM TABLE(SEM_MATCH(
 'DESCRIBE &lt;http://www.example.org/enterprise/emp_1&gt;',
 SEM_Models('enterprise'),
 null, null, null, null, ' ', null, null,
 'RDFUSER', 'NET1'));
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-473B972B-93AB-4648-9496-2ED9645E763D__CIHJFAFH">
                        <p class="titleinexample">Example 1-33 SPARQL DESCRIBE Normal Form</p>
                        <p>The normal form of SPARQL DESCRIBE specifies a DESCRIBE clause and a SPARQL query pattern, possibly including solution modifiers. <a href="rdf-semantic-graph-overview.html#GUID-473B972B-93AB-4648-9496-2ED9645E763D__CIHJFAFH">Example 1-33</a> shows a SPARQL DESCRIBE query that describes all employees whose departments are located in New Hampshire.
                        </p><pre class="oac_no_warn" dir="ltr">SELECT subj$rdfterm, pred$rdfterm, obj$rdfterm
FROM TABLE(SEM_MATCH(
 'PREFIX  ent: &lt;http://www.example.org/enterprise/&gt;
  DESCRIBE ?e
  WHERE 
   { ?e ent:department ?dept .
     ?dept ent:locatedIn "New Hampshire" }',
 SEM_Models('enterprise'),
 null, null, null, null, ' ', null, null,
 'RDFUSER', 'NET1'));
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-473B972B-93AB-4648-9496-2ED9645E763D__CIHIGAEJ">
                        <p class="titleinexample">Example 1-34 DESCRIBE *</p>
                        <p>With the normal form of DESCRIBE, as shown in <a href="rdf-semantic-graph-overview.html#GUID-473B972B-93AB-4648-9496-2ED9645E763D__CIHJFAFH">Example 1-33</a>, all resources bound to variables listed in the DESCRIBE clause are described. In <a href="rdf-semantic-graph-overview.html#GUID-473B972B-93AB-4648-9496-2ED9645E763D__CIHJFAFH">Example 1-33</a>, all employees returned from the query pattern and bound to <code class="codeph">?e</code> will be described. When DESCRIBE * is used, all visible variables in the query are described.
                        </p>
                        <p><a href="rdf-semantic-graph-overview.html#GUID-473B972B-93AB-4648-9496-2ED9645E763D__CIHIGAEJ">Example 1-34</a> shows a modified version of <a href="rdf-semantic-graph-overview.html#GUID-473B972B-93AB-4648-9496-2ED9645E763D__CIHJFAFH">Example 1-33</a> that describes both employees (bound to <code class="codeph">?e</code>) and departments (bound to <code class="codeph">?dept</code>).
                        </p><pre class="oac_no_warn" dir="ltr">SELECT subj$rdfterm, pred$rdfterm, obj$rdfterm
FROM TABLE(SEM_MATCH(
 'PREFIX  ent: &lt;http://www.example.org/enterprise/&gt;
  DESCRIBE *
  WHERE 
   { ?e ent:department ?dept .
     ?dept ent:locatedIn "New Hampshire" }',
 SEM_Models('enterprise'),
 null, null, null, null, ' ', null, null,
 'RDFUSER', 'NET1'));
</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-71464CC4-1C03-48A4-9A4C-0E671FF8F16E" title="To query semantic data, use the SEM_MATCH table function.">Using the SEM_MATCH Table Function to Query Semantic Data</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="RDFRM141"></a><a id="RDFRM142"></a><a id="RDFRM143"></a><a id="RDFRM144"></a><a id="RDFRM145"></a><a id="RDFRM146"></a><a id="RDFRM147"></a><a id="RDFRM726"></a><a id="RDFRM727"></a><a id="RDFRM140"></a><div class="props_rev_3"><a id="GUID-0BC4B052-F1DA-45C8-9164-21829FC6500B" name="GUID-0BC4B052-F1DA-45C8-9164-21829FC6500B"></a><h4 id="RDFRM-GUID-0BC4B052-F1DA-45C8-9164-21829FC6500B" class="sect4"><span class="enumeration_section">1.6.6 </span>Graph Patterns: Support for SPARQL SELECT Syntax
                  </h4>
                  <div>
                     <p>In addition to curly-brace graph patterns, SEM_MATCH allows fully-specified SPARQL SELECT queries in the <code class="codeph">query</code> parameter. When using the SPARQL SELECT syntax option, SEM_MATCH supports the following query constructs: BASE, PREFIX, SELECT, SELECT DISTINCT, FROM, FROM NAMED, WHERE, ORDER BY, LIMIT, and OFFSET. Each SPARQL SELECT syntax query must include a SELECT clause and a graph pattern.
                     </p>
                     <p>A key difference between curly-brace and SPARQL SELECT syntax when using SEM_MATCH is that only variables appearing in the SPARQL SELECT clause are returned from SEM_MATCH when using SPARQL SELECT syntax.</p>
                     <p>One additional column, SEM$ROWNUM, is returned from SEM_MATCH when using SPARQL SELECT syntax. This NUMBER column can be used to order the results of a SEM_MATCH query so that the result order matches the ordering specified by a SPARQL ORDER BY clause.</p>
                     <p>The SPARQL ORDER BY clause can be used to order the results of SEM_MATCH queries. This clause specifies a sequence of comparators used to order the results of a given query. A comparator consists of an expression composed of variables, RDF terms, arithmetic operators (+, -, *, /), Boolean operators and logical connectives (||, &amp;&amp;, !), comparison operators (&lt;, &gt;, &lt;=, &gt;=, =, !=), and any functions available for use in FILTER expressions.</p>
                     <p>The following order of operations is used when evaluating SPARQL SELECT queries:</p>
                     <ol>
                        <li>
                           <p>Graph pattern matching</p>
                        </li>
                        <li>
                           <p>Grouping (see <a href="rdf-semantic-graph-overview.html#GUID-C926CA2E-A39C-471E-9E0F-5E64108A2825">Grouping and Aggregation</a>.)
                           </p>
                        </li>
                        <li>
                           <p>Aggregates (see <a href="rdf-semantic-graph-overview.html#GUID-C926CA2E-A39C-471E-9E0F-5E64108A2825">Grouping and Aggregation</a>)
                           </p>
                        </li>
                        <li>
                           <p>Having (see <a href="rdf-semantic-graph-overview.html#GUID-C926CA2E-A39C-471E-9E0F-5E64108A2825">Grouping and Aggregation</a>)
                           </p>
                        </li>
                        <li>
                           <p>Values (see <a href="rdf-semantic-graph-overview.html#GUID-C6646E9A-4A49-482F-A3EA-F9658114A0C1">Value Assignment</a>)
                           </p>
                        </li>
                        <li>
                           <p>Select expressions</p>
                        </li>
                        <li>
                           <p>Order by</p>
                        </li>
                        <li>
                           <p>Projection</p>
                        </li>
                        <li>
                           <p>Distinct</p>
                        </li>
                        <li>
                           <p>Offset</p>
                        </li>
                        <li>
                           <p>Limit</p>
                        </li>
                     </ol>
                     <p>See also the W3C SPARQL specification for more information on SPARQL BASE, PREFIX, SELECT, SELECT DISTINCT, FROM, FROM NAMED, WHERE, ORDER BY, LIMIT, and OFFSET constructs, specifically: <a href="http://www.w3.org/TR/sparql11-query/" target="_blank"><code class="codeph">http://www.w3.org/TR/sparql11-query/</code></a></p>
                     <div class="example" id="GUID-0BC4B052-F1DA-45C8-9164-21829FC6500B__CIHBJICF">
                        <p class="titleinexample">Example 1-35 SPARQL PREFIX, SELECT, and WHERE Clauses</p>
                        <p><a href="rdf-semantic-graph-overview.html#GUID-0BC4B052-F1DA-45C8-9164-21829FC6500B__CIHBJICF">Example 1-35</a> uses the following SPARQL constructs:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>SPARQL PREFIX clause to specify an abbreviation for the <code class="codeph">http://www.example.org/family/</code> and <code class="codeph">http://xmlns.com/foaf/0.1/</code> namespaces
                              </p>
                           </li>
                           <li>
                              <p>SPARQL SELECT clause to specify the set of variables to project out of the query</p>
                           </li>
                           <li>
                              <p>SPARQL WHERE clause to specify the query graph pattern</p>
                           </li>
                        </ul><pre class="oac_no_warn" dir="ltr">SELECT y, name
  FROM TABLE(SEM_MATCH(
    'PREFIX : &lt;http://www.example.org/family/&gt; 
     PREFIX foaf: &lt;http://xmlns.com/foaf/0.1/&gt;
     SELECT ?y ?name
     WHERE
     {?x :grandParentOf ?y . 
      ?x foaf:name ?name }',
    SEM_Models('family'),
    SEM_Rulebases('RDFS','family_rb'), 
    null, null, null, ' ', null, null,
    'RDFUSER', 'NET1'));
</pre><p><a href="rdf-semantic-graph-overview.html#GUID-0BC4B052-F1DA-45C8-9164-21829FC6500B__CIHBJICF">Example 1-35</a> returns the following columns: y, y$RDFVID, y$_PREFIX, y$_SUFFIX, y$RDFVTYP, y$RDFCLOB, y$RDFLTYP, y$RDFLANG, name, name$RDFVID, name$_PREFIX, name$_SUFFIX, name$RDFVTYP, name$RDFCLOB, name$RDFLTYP, name$RDFLANG, and SEM$ROWNUM.
                        </p>
                     </div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-0BC4B052-F1DA-45C8-9164-21829FC6500B__CIHEHBAH">
                        <p class="titleinexample">Example 1-36 SPARQL SELECT * (All Variables in Triple Pattern)</p>
                        <p>The SPARQL SELECT clause specifies either (A) a sequence of variables and/or expressions (see <a href="rdf-semantic-graph-overview.html#GUID-7CEE1E1B-507A-4AE5-9998-9193269BF692">Expressions in the SELECT Clause</a>), or (B) * (asterisk), which projects all variables that appear in a specified triple pattern. <a href="rdf-semantic-graph-overview.html#GUID-0BC4B052-F1DA-45C8-9164-21829FC6500B__CIHEHBAH">Example 1-36</a> uses the SPARQL SELECT clause to select all variables that appear in a specified triple pattern.
                        </p><pre class="oac_no_warn" dir="ltr">SELECT x, y, name
  FROM TABLE(SEM_MATCH(
    'PREFIX : &lt;http://www.example.org/family/&gt; 
     PREFIX foaf: &lt;http://xmlns.com/foaf/0.1/&gt;
     <span class="bold">SELECT *</span>
     WHERE
     {?x :grandParentOf ?y . 
      ?x foaf:name ?name }',
    SEM_Models('family'),
    SEM_Rulebases('RDFS','family_rb'), 
    null, null, null, ' ', null, null,
    'RDFUSER', 'NET1'));
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-0BC4B052-F1DA-45C8-9164-21829FC6500B__CIHJHFAE">
                        <p class="titleinexample">Example 1-37 SPARQL SELECT DISTINCT</p>
                        <p>The DISTINCT keyword can be used after SELECT to remove duplicate result rows. <a href="rdf-semantic-graph-overview.html#GUID-0BC4B052-F1DA-45C8-9164-21829FC6500B__CIHJHFAE">Example 1-37</a> uses SELECT DISTINCT to select only the distinct names.
                        </p><pre class="oac_no_warn" dir="ltr">SELECT name
  FROM TABLE(SEM_MATCH(
    'PREFIX : &lt;http://www.example.org/family/&gt; 
     PREFIX foaf: &lt;http://xmlns.com/foaf/0.1/&gt;
     <span class="bold">SELECT DISTINCT ?name</span>
     WHERE
     {?x :grandParentOf ?y . 
      ?x foaf:name ?name }',
    SEM_Models('family'),
    SEM_Rulebases('RDFS','family_rb'), 
    null, null, null, ' ', null, null,
    'RDFUSER', 'NET1'));
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-0BC4B052-F1DA-45C8-9164-21829FC6500B__CIHCEJEH">
                        <p class="titleinexample">Example 1-38 RDF Dataset Specification Using FROM and FROM NAMED</p>
                        <p>SPARQL FROM and FROM NAMED are used to specify the RDF dataset for a query. FROM clauses are used to specify the set of graphs that make up the default graph, and FROM NAMED clauses are used to specify the set of graphs that make up the set of named graphs. <a href="rdf-semantic-graph-overview.html#GUID-0BC4B052-F1DA-45C8-9164-21829FC6500B__CIHCEJEH">Example 1-38</a> uses FROM and FROM NAMED to select email addresses and friend of relationships from the union of the <code class="codeph">&lt;http://www.friends.com/friends&gt;</code> and <code class="codeph">&lt;http://www.contacts.com/contacts&gt;</code> graphs and grandparent information from the <code class="codeph">&lt;http://www.example.org/family/Smith&gt;</code> and <code class="codeph">&lt;http://www.example.org/family/Jones&gt;</code> graphs.
                        </p><pre class="oac_no_warn" dir="ltr">SELECT x, y, z, email
  FROM TABLE(SEM_MATCH(
    'PREFIX : &lt;http://www.example.org/family/&gt; 
     PREFIX foaf: &lt;http://xmlns.com/foaf/0.1/&gt;
     PREFIX friends: &lt;http://www.friends.com/&gt;
     PREFIX contacts: &lt;http://www.contacts.com/&gt;
     SELECT *
     <span class="bold">FROM friends:friends</span>
     <span class="bold">FROM contacts:contacts</span>
     <span class="bold">FROM NAMED :Smith</span>
     <span class="bold">FROM NAMED :Jones</span>
     WHERE
     {?x foaf:frendOf ?y .
      ?x :email ?email .
      GRAPH ?g {
        ?x :grandParentOf ?z }
     }',
    SEM_Models('family'),
    SEM_Rulebases('RDFS','family_rb'), 
    null, null, null, ' ', null, null,
    'RDFUSER', 'NET1'));
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-0BC4B052-F1DA-45C8-9164-21829FC6500B__CIHBHHJF">
                        <p class="titleinexample">Example 1-39 SPARQL ORDER BY</p>
                        <p>In a SPARQL ORDER BY clause:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Single variable ordering conditions do not require enclosing parenthesis, but parentheses are required for more complex ordering conditions.</p>
                           </li>
                           <li>
                              <p>An optional ASC() or DESC() order modifier can be used to indicate the desired order (ascending or descending, respectively). Ascending is the default order.</p>
                           </li>
                           <li>
                              <p>When using SPARQL ORDER BY in SEM_MATCH, the containing SQL query should be ordered by SEM$ROWNUM to ensure that the desired ordering is maintained through any enclosing SQL blocks.</p>
                           </li>
                        </ul>
                        <p><a href="rdf-semantic-graph-overview.html#GUID-0BC4B052-F1DA-45C8-9164-21829FC6500B__CIHBHHJF">Example 1-39</a> uses a SPARQL ORDER BY clause to select all cameras, and it specifies ordering by descending type and ascending total price (<code class="codeph">price * (1 - discount) * (1 + tax)</code>).
                        </p><pre class="oac_no_warn" dir="ltr">SELECT *
  FROM TABLE(SEM_MATCH(
    'PREFIX : &lt;http://www.example.org/electronics/&gt; 
     SELECT * 
     WHERE
      {?x :price ?p .
       ?x :discount ?d .
       ?x :tax ?t .
       ?x :cameraType ?cType .
      }
     <span class="bold">ORDER BY DESC(?cType) ASC(?p * (1-?d) * (1+?t))'</span>,
    SEM_Models('electronics'),
    SEM_Rulebases('RDFS'), 
    null, null, null, ' ', null, null,
    'RDFUSER', 'NET1'))
<span class="bold">ORDER BY SEM$ROWNUM</span>;
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-0BC4B052-F1DA-45C8-9164-21829FC6500B__CIHCHGDI">
                        <p class="titleinexample">Example 1-40 SPARQL LIMIT</p>
                        <p>SPARQL LIMIT and SPARQL OFFSET can be used to select different subsets of the query solutions. <a href="rdf-semantic-graph-overview.html#GUID-0BC4B052-F1DA-45C8-9164-21829FC6500B__CIHCHGDI">Example 1-40</a> uses SPARQL LIMIT to select the five cheapest cameras, and <a href="rdf-semantic-graph-overview.html#GUID-0BC4B052-F1DA-45C8-9164-21829FC6500B__CIHDGIIH">Example 1-41</a> uses SPARQL LIMIT and OFFSET to select the fifth through tenth cheapest cameras.
                        </p><pre class="oac_no_warn" dir="ltr">SELECT *
  FROM TABLE(SEM_MATCH(
    'PREFIX : &lt;http://www.example.org/electronics/&gt; 
     SELECT ?x ?cType ?p
     WHERE
      {?x :price ?p .
       ?x :cameraType ?cType .
      }
     ORDER BY ASC(?p)
     <code class="codeph">LIMIT 5</code>',
    SEM_Models('electronics'),
    SEM_Rulebases('RDFS'), 
    null, null, null, ' ', null, null,
    'RDFUSER', 'NET1'))
ORDER BY SEM$ROWNUM;</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-0BC4B052-F1DA-45C8-9164-21829FC6500B__CIHDGIIH">
                        <p class="titleinexample">Example 1-41 SPARQL OFFSET</p><pre class="oac_no_warn" dir="ltr">SELECT *
  FROM TABLE(SEM_MATCH(
    'PREFIX : &lt;http://www.example.org/electronics/&gt; 
     SELECT ?x ?cType ?p
     WHERE
      {?x :price ?p .
       ?x :cameraType ?cType .
      }
     ORDER BY ASC(?p)
     LIMIT 5
     <span class="bold">OFFSET 5</span>',
    SEM_Models('electronics'),
    SEM_Rulebases('RDFS'), 
    null, null, null, ' ', null, null,
    'RDFUSER', 'NET1'))
ORDER BY SEM$ROWNUM;
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-0BC4B052-F1DA-45C8-9164-21829FC6500B__CIHEIIIG">
                        <p class="titleinexample">Example 1-42 Query Using Full URIs</p>
                        <p><a id="d5269e7891" class="indexterm-anchor"></a><a id="d5269e7893" class="indexterm-anchor"></a>The SPARQL BASE keyword is used to set a global prefix. All relative IRIs will be resolved with the BASE IRI using the basic algorithm described in Section 5.2 of the <span class="italic">Uniform Resource Identifier (URI): Generic Syntax (RFC3986)</span> (<a href="http://www.ietf.org/rfc/rfc3986.txt" target="_blank"><code class="codeph">http://www.ietf.org/rfc/rfc3986.txt</code></a>). <a href="rdf-semantic-graph-overview.html#GUID-0BC4B052-F1DA-45C8-9164-21829FC6500B__CIHEIIIG">Example 1-42</a> is a simple query using full URIs, and <a href="rdf-semantic-graph-overview.html#GUID-0BC4B052-F1DA-45C8-9164-21829FC6500B__CIHIGHJD">Example 1-43</a> is an equivalent query using a base IRI.
                        </p><pre class="oac_no_warn" dir="ltr">SELECT *
  FROM TABLE(SEM_MATCH(
    'SELECT ?employee ?position
     WHERE
      {?x &lt;http://www.example.org/employee&gt; ?p .
       ?p &lt;http://www.example.org/employee/name&gt; ?employee .
       ?p &lt;http://www.example.org/employee/position&gt; ?pos .
       ?pos &lt;http://www.example.org/positions/name&gt; ?position
      }',
    SEM_Models('enterprise'),
    null, 
     null, null, null, ' ', null, null,
   'RDFUSER', 'NET1'))
ORDER BY 1,2;</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-0BC4B052-F1DA-45C8-9164-21829FC6500B__CIHIGHJD">
                        <p class="titleinexample">Example 1-43 Query Using a Base IRI</p><pre class="oac_no_warn" dir="ltr">SELECT *
  FROM TABLE(SEM_MATCH(
    '<span class="bold">BASE &lt;http://www.example.org/&gt;</span>
     SELECT ?employee ?position
     WHERE
      {<span class="bold">?x &lt;employee&gt; ?p .</span>
       <span class="bold">?p &lt;employee/name&gt; ?employee .</span>
       <span class="bold">?p &lt;employee/position&gt; ?pos .</span>
       <span class="bold">?pos &lt;positions/name&gt; ?position</span>
      }',
    SEM_Models('enterprise'),
    null, 
    null, null, null, ' ', null, null,
   'RDFUSER', 'NET1'))
ORDER BY 1,2;
</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-71464CC4-1C03-48A4-9A4C-0E671FF8F16E" title="To query semantic data, use the SEM_MATCH table function.">Using the SEM_MATCH Table Function to Query Semantic Data</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="RDFRM148"></a><div class="props_rev_3"><a id="GUID-7DDF240B-912C-4844-B482-36B30EB3037B" name="GUID-7DDF240B-912C-4844-B482-36B30EB3037B"></a><h4 id="RDFRM-GUID-7DDF240B-912C-4844-B482-36B30EB3037B" class="sect4"><span class="enumeration_section">1.6.7 </span>Graph Patterns: Support for SPARQL 1.1 Constructs
                  </h4>
                  <div>
                     <p>SEM_MATCH supports the following SPARQL 1.1 constructs:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>An expanded set of functions (all items in <a href="rdf-semantic-graph-overview.html#GUID-55180C4B-7B8B-4F45-A948-A46D227935FA__CIHHJDHG" title="Built-in Functions Available for FILTER Clause. Column 1 is Function, and column 2 is Description.">Table 1-13</a> in <a href="rdf-semantic-graph-overview.html#GUID-55180C4B-7B8B-4F45-A948-A46D227935FA">Graph Patterns: Support for Curly Brace Syntax_ and OPTIONAL_ FILTER_ UNION_ and GRAPH Keywords</a>)
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-7CEE1E1B-507A-4AE5-9998-9193269BF692">Expressions in the SELECT Clause</a><br></li>
                        <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-8C5DE8A7-9A35-43BF-8E44-E8D76C778D30">Subqueries</a><br></li>
                        <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-C926CA2E-A39C-471E-9E0F-5E64108A2825">Grouping and Aggregation</a><br></li>
                        <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-0856FD72-213D-4181-83D6-2421AA50D39B">Negation</a><br></li>
                        <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-C6646E9A-4A49-482F-A3EA-F9658114A0C1">Value Assignment</a><br></li>
                        <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-A3F16175-AC4B-4B19-BF25-FD918760F18E">Property Paths</a><br></li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-71464CC4-1C03-48A4-9A4C-0E671FF8F16E" title="To query semantic data, use the SEM_MATCH table function.">Using the SEM_MATCH Table Function to Query Semantic Data</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="RDFRM150"></a><a id="RDFRM151"></a><a id="RDFRM149"></a><div class="props_rev_3"><a id="GUID-7CEE1E1B-507A-4AE5-9998-9193269BF692" name="GUID-7CEE1E1B-507A-4AE5-9998-9193269BF692"></a><h5 id="RDFRM-GUID-7CEE1E1B-507A-4AE5-9998-9193269BF692" class="sect5"><span class="enumeration_section">1.6.7.1 </span>Expressions in the SELECT Clause
                     </h5>
                     <div>
                        <p>Expressions can be used in the SELECT clause to project the value of an expression from a query. A SELECT expression is composed of variables, RDF terms, arithmetic operators (+, -, *, /), Boolean operators and logical connectives (||, &amp;&amp;, !), comparison operators (&lt;, &gt;, &lt;=, &gt;=, =, !=), and any functions available for use in FILTER expressions. The expression must be aliased to a single variable using the AS keyword, and the overall <span class="italic">&lt;expression&gt; AS &lt;alias&gt;</span> fragment must be enclosed in parentheses. The alias variable cannot already be defined in the query. A SELECT expression may reference the result of a previous SELECT expression (that is, an expression that appears earlier in the SELECT clause).
                        </p>
                        <div class="example" id="GUID-7CEE1E1B-507A-4AE5-9998-9193269BF692__CIHHAIBF">
                           <p class="titleinexample">Example 1-44 SPARQL SELECT Expression</p>
                           <p><a href="rdf-semantic-graph-overview.html#GUID-7CEE1E1B-507A-4AE5-9998-9193269BF692__CIHHAIBF">Example 1-44</a> uses a SELECT expression to project the total price for each camera. 
                           </p><pre class="oac_no_warn" dir="ltr">SELECT *
  FROM TABLE(SEM_MATCH(
    'PREFIX : &lt;http://www.example.org/electronics/&gt; 
     SELECT ?x <span class="bold">((?p * (1-?d) * (1+?t)) AS ?totalPrice)</span> 
     WHERE
      {?x :price ?p .
       ?x :discount ?d .
       ?x :tax ?t .
       ?x :cameraType ?cType .
      }',
    SEM_Models('electronics'),
    SEM_Rulebases('RDFS'), 
    null, null, null, ' ', null, null,
    'RDFUSER', 'NET1'));
</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-7CEE1E1B-507A-4AE5-9998-9193269BF692__CIHIABAH">
                           <p class="titleinexample">Example 1-45 SPARQL SELECT Expressions (2)</p>
                           <p><a href="rdf-semantic-graph-overview.html#GUID-7CEE1E1B-507A-4AE5-9998-9193269BF692__CIHIABAH">Example 1-45</a> uses two SELECT expressions to project the discount price with and without sales tax. 
                           </p><pre class="oac_no_warn" dir="ltr">SELECT *
  FROM TABLE(SEM_MATCH(
    'PREFIX : &lt;http://www.example.org/electronics/&gt; 
     SELECT ?x <span class="bold">((?p * (1-?d)) AS ?preTaxPrice) ((?preTaxPrice * (1+?t)) AS ?finalPrice)</span>
     WHERE
      {?x :price ?p .
       ?x :discount ?d .
       ?x :tax ?t .
       ?x :cameraType ?cType .
      }',
    SEM_Models('electronics'),
    SEM_Rulebases('RDFS'), 
    null, null, null, ' ', null, null,
    'RDFUSER', 'NET1'));
</pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-7DDF240B-912C-4844-B482-36B30EB3037B">Graph Patterns: Support for SPARQL 1.1 Constructs</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="RDFRM153"></a><a id="RDFRM152"></a><div class="props_rev_3"><a id="GUID-8C5DE8A7-9A35-43BF-8E44-E8D76C778D30" name="GUID-8C5DE8A7-9A35-43BF-8E44-E8D76C778D30"></a><h5 id="RDFRM-GUID-8C5DE8A7-9A35-43BF-8E44-E8D76C778D30" class="sect5"><span class="enumeration_section">1.6.7.2 </span>Subqueries
                     </h5>
                     <div>
                        <p>Subqueries are allowed with SPARQL SELECT syntax. That is, fully-specified SPARQL SELECT queries may be embedded within other SPARQL SELECT queries. Subqueries have many uses, for example, limiting the number of results from a subcomponent of a query.</p>
                        <div class="example" id="GUID-8C5DE8A7-9A35-43BF-8E44-E8D76C778D30__CIHEAECD">
                           <p class="titleinexample">Example 1-46 SPARQL SELECT Subquery</p>
                           <p><a href="rdf-semantic-graph-overview.html#GUID-8C5DE8A7-9A35-43BF-8E44-E8D76C778D30__CIHEAECD">Example 1-46</a> uses a subquery to find the manufacturer that makes the cheapest camera and then finds all other cameras made by this manufacturer.
                           </p><pre class="oac_no_warn" dir="ltr">SELECT *
  FROM TABLE(SEM_MATCH(
    'PREFIX : &lt;http://www.example.org/electronics/&gt; 
     SELECT ?c1
     WHERE {?c1 rdf:type :Camera .
            ?c1 :manufacturer ?m .
            {
             <span class="bold">SELECT ?m</span>
             <span class="bold">WHERE {?c2 rdf:Type :Camera .</span>
                    <span class="bold">?c2 :price ?p .</span>
                    <span class="bold">?c2 :manufacturer ?m .</span>
             <span class="bold">}</span>
             <span class="bold">ORDER BY ASC(?p)</span>
             <span class="bold">LIMIT 1</span>
            }
     }',
    SEM_Models('electronics'),
    SEM_Rulebases('RDFS'), 
    null, null, null, ' ', null, null,
    'RDFUSER', 'NET1'));
</pre><p>Subqueries are logically evaluated first, and the results are projected up to the outer query. Note that only variables projected in the subquery's SELECT clause are visible to the outer query.</p>
                        </div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-7DDF240B-912C-4844-B482-36B30EB3037B">Graph Patterns: Support for SPARQL 1.1 Constructs</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="RDFRM157"></a><a id="RDFRM155"></a><a id="RDFRM156"></a><a id="RDFRM158"></a><a id="RDFRM159"></a><a id="RDFRM160"></a><a id="RDFRM161"></a><a id="RDFRM154"></a><div class="props_rev_3"><a id="GUID-C926CA2E-A39C-471E-9E0F-5E64108A2825" name="GUID-C926CA2E-A39C-471E-9E0F-5E64108A2825"></a><h5 id="RDFRM-GUID-C926CA2E-A39C-471E-9E0F-5E64108A2825" class="sect5"><span class="enumeration_section">1.6.7.3 </span>Grouping and Aggregation
                     </h5>
                     <div>
                        <p>The GROUP BY keyword used to perform grouping. Syntactically, the GROUP BY keyword must appear after the WHERE clause and before any solution modifiers such as ORDER BY or LIMIT.</p>
                        <p>Aggregates are used to compute values across results within a group. An aggregate operates over a collection of values and produces a single value as a result. SEM_MATCH supports the following built-in Aggregates: COUNT, SUM, MIN, MAX, AVG, GROUP_CONCAT and SAMPLE. These aggregates are described in <a href="rdf-semantic-graph-overview.html#GUID-C926CA2E-A39C-471E-9E0F-5E64108A2825__CIHHJDAF" title="Built-in Aggregates">Table 1-16</a>.
                        </p>
                        <div class="tblformal" id="GUID-C926CA2E-A39C-471E-9E0F-5E64108A2825__CIHHJDAF">
                           <p class="titleintable">Table 1-16 Built-in Aggregates</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="Built-in Aggregates" summary="Built-in Aggregates" width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d5269e8254">Aggregate</th>
                                    <th align="left" valign="bottom" width="69%" id="d5269e8257">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d5269e8262" headers="d5269e8254 ">
                                       <p>AVG(expression)</p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d5269e8262 d5269e8257 ">
                                       <p>Returns the numeric average of <span class="italic">expression</span> over the values within a group.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d5269e8272" headers="d5269e8254 ">
                                       <p>COUNT(* | expression)</p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d5269e8272 d5269e8257 ">
                                       <p>Counts the number of times <span class="italic">expression</span> has a bound, non-error value within a group; asterisk (*) counts the number of results within a group.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d5269e8282" headers="d5269e8254 ">
                                       <p>GROUP_CONCAT(expression [; SEPARATOR = "STRING"])</p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d5269e8282 d5269e8257 ">
                                       <p>Performs string concatenation of <span class="italic">expression</span> over the values within a group. If provided, an optional separator string will be placed between each value.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d5269e8292" headers="d5269e8254 ">
                                       <p>MAX(expression)</p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d5269e8292 d5269e8257 ">
                                       <p>Returns the maximum value of <span class="italic">expression</span> within a group based on the ordering defined by SPARQL ORDER BY.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d5269e8302" headers="d5269e8254 ">
                                       <p>MIN(expression)</p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d5269e8302 d5269e8257 ">
                                       <p>Returns the minimum value of <span class="italic">expression</span> within a group based on the ordering defined by SPARQL ORDER BY.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d5269e8312" headers="d5269e8254 ">
                                       <p>SAMPLE(expression)</p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d5269e8312 d5269e8257 ">
                                       <p>Returns <span class="italic">expression</span> evaluated for a single arbitrary value from a group.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d5269e8322" headers="d5269e8254 ">
                                       <p>SUM(expression)</p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d5269e8322 d5269e8257 ">
                                       <p>Calculates the numeric sum of <span class="italic">expression</span> over the values within a group.
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>Certain restrictions on variable references apply when using grouping and aggregation. Only group-by variables (single variables in the GROUP BY clause) and alias variables from GROUP BY value assignments can be used in non-aggregate expressions in the SELECT or HAVING clauses.</p>
                        <div class="example" id="GUID-C926CA2E-A39C-471E-9E0F-5E64108A2825__CIHDAADA">
                           <p class="titleinexample">Example 1-47 Simple Grouping Query</p>
                           <p><a href="rdf-semantic-graph-overview.html#GUID-C926CA2E-A39C-471E-9E0F-5E64108A2825__CIHDAADA">Example 1-47</a> shows a query that uses the GROUP BY keyword to find all the different types of cameras.
                           </p><pre class="oac_no_warn" dir="ltr">SELECT *
  FROM TABLE(SEM_MATCH(
    'PREFIX : &lt;http://www.example.org/electronics/&gt; 
     SELECT ?cType
     WHERE
      {?x rdf:type :Camera .
       ?x :cameraType ?cType .
      }
     <span class="bold">GROUP BY ?cType'</span>,
    SEM_Models('electronics'),
    SEM_Rulebases('RDFS'), 
     null, null, null, ' ', null, null,
    'RDFUSER', 'NET1'));
</pre><p>A grouping query partitions the query results into a collection of groups based on a grouping expression (<code class="codeph">?cType</code> in <a href="rdf-semantic-graph-overview.html#GUID-C926CA2E-A39C-471E-9E0F-5E64108A2825__CIHDAADA">Example 1-47</a>) such that each result within a group has the same values for the grouping expression. The final result of the grouping operation will include one row for each group.
                           </p>
                        </div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-C926CA2E-A39C-471E-9E0F-5E64108A2825__CIHJIDIF">
                           <p class="titleinexample">Example 1-48 Complex Grouping Expression</p>
                           <p>A grouping expression consists of a sequence of one or more of the following: a variable, an expression, or a value assignment of the form (<span class="italic"><code class="codeph">&lt;expression&gt;</code></span> <code class="codeph">as</code> <span class="italic"><code class="codeph">&lt;alias&gt;</code></span>). <a href="rdf-semantic-graph-overview.html#GUID-C926CA2E-A39C-471E-9E0F-5E64108A2825__CIHJIDIF">Example 1-48</a> shows a grouping query that uses one of each type of component in the grouping expression.
                           </p><pre class="oac_no_warn" dir="ltr">SELECT *
  FROM TABLE(SEM_MATCH(
    'PREFIX : &lt;http://www.example.org/electronics/&gt; 
     SELECT ?cType ?totalPrice
     WHERE
      {?x rdf:type :Camera .
       ?x :cameraType ?cType .
       ?x :manufacturer ?m .
       ?x :price ?p .
       ?x :tax ?t .
      }
     <span class="bold">GROUP BY ?cType (STR(?m)) ((?p*(1+?t)) AS ?totalPrice)'</span>,
    SEM_Models('electronics'),
    SEM_Rulebases('RDFS'),
    null, null, null, ' ', null, null,
    'RDFUSER', 'NET1'));
</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-C926CA2E-A39C-471E-9E0F-5E64108A2825__CIHDIADH">
                           <p class="titleinexample">Example 1-49 Aggregation</p>
                           <p><a href="rdf-semantic-graph-overview.html#GUID-C926CA2E-A39C-471E-9E0F-5E64108A2825__CIHDIADH">Example 1-49</a> uses aggregates to select the maximum, minimum, and average price for each type of camera.
                           </p><pre class="oac_no_warn" dir="ltr">SELECT *
  FROM TABLE(SEM_MATCH(
    'PREFIX : &lt;http://www.example.org/electronics/&gt; 
     SELECT ?cType 
            (<span class="bold">MAX(?p) AS ?maxPrice</span>) 
            (<span class="bold">MIN(?p) AS ?minPrice</span>) 
            (<span class="bold">AVG(?p) AS ?avgPrice</span>)
     WHERE
      {?x rdf:type :Camera .
       ?x :cameraType ?cType .
       ?x :manufacturer ?m .
       ?x :price ?p .
      }
     GROUP BY ?cType',
    SEM_Models('electronics'),
    SEM_Rulebases('RDFS'),
    null, null, null, ' ', null, null,
    'RDFUSER', 'NET1'));
</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-C926CA2E-A39C-471E-9E0F-5E64108A2825__CIHFIHHE">
                           <p class="titleinexample">Example 1-50 Aggregation Without Grouping</p>
                           <p>If an aggregate is used without a grouping expression, then the entire result set is treated as a single group. <a href="rdf-semantic-graph-overview.html#GUID-C926CA2E-A39C-471E-9E0F-5E64108A2825__CIHFIHHE">Example 1-50</a> computes the total number of cameras for the whole data set.
                           </p><pre class="oac_no_warn" dir="ltr">SELECT *
  FROM TABLE(SEM_MATCH(
    'PREFIX : &lt;http://www.example.org/electronics/&gt; 
     SELECT (<span class="bold">COUNT(?x)</span> as ?cameraCnt)
     WHERE
      { ?x rdf:type :Camera 
      }',
    SEM_Models('electronics'),
    SEM_Rulebases('RDFS'),
    null, null, null, ' ', null, null,
    'RDFUSER', 'NET1'));
</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-C926CA2E-A39C-471E-9E0F-5E64108A2825__CIHEDDFB">
                           <p class="titleinexample">Example 1-51 Aggregation with DISTINCT</p>
                           <p>The DISTINCT keyword can optionally be used as a modifier for each aggregate. When DISTINCT is used, duplicate values are removed from each group before computing the aggregate. Syntactically, DISTINCT must appear as the first argument to the aggregate. <a href="rdf-semantic-graph-overview.html#GUID-C926CA2E-A39C-471E-9E0F-5E64108A2825__CIHEDDFB">Example 1-51</a> uses DISTINCT to find the number of distinct camera manufacturers. In this case, duplicate values of <code class="codeph">STR(?m)</code> are removed before counting.
                           </p><pre class="oac_no_warn" dir="ltr">SELECT *
  FROM TABLE(SEM_MATCH(
    'PREFIX : &lt;http://www.example.org/electronics/&gt; 
     SELECT (COUNT(<span class="bold">DISTINCT STR(?m)</span>) as ?mCnt)
     WHERE
      { ?x rdf:type :Camera .
        ?x :manufacturer ?m
      }',
    SEM_Models('electronics'),
    SEM_Rulebases('RDFS'),
     null, null, null, ' ', null, null,
    'RDFUSER', 'NET1'));
</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-C926CA2E-A39C-471E-9E0F-5E64108A2825__CIHDAAIG">
                           <p class="titleinexample">Example 1-52 HAVING Clause</p>
                           <p>The HAVING keyword can be used to filter groups based on constraints. HAVING expressions can be composed of variables, RDF terms, arithmetic operators (+, -, *, /), Boolean operators and logical connectives (||, &amp;&amp;, !), comparison operators (&lt;, &gt;, &lt;=, &gt;=, =, !=), aggregates, and any functions available for use in FILTER expressions. Syntactically, the HAVING keyword appears after the GROUP BY clause and before any other solution modifiers such as ORDER BY or LIMIT.</p>
                           <p><a href="rdf-semantic-graph-overview.html#GUID-C926CA2E-A39C-471E-9E0F-5E64108A2825__CIHDAAIG">Example 1-52</a> uses a HAVING expression to find all manufacturers that sell cameras for less than $200.
                           </p><pre class="oac_no_warn" dir="ltr">SELECT *
  FROM TABLE(SEM_MATCH(
    'PREFIX : &lt;http://www.example.org/electronics/&gt; 
     SELECT ?m
     WHERE
      { ?x rdf:type :Camera .
        ?x :manufacturer ?m .
        ?x :price ?p
      }
     GROUP BY ?m
     <span class="bold">HAVING (MIN(?p) &lt; 200)</span>
     ORDER BY ASC(?m)',
    SEM_Models('electronics'),
    SEM_Rulebases('RDFS'),
    null, null, null, ' ', null, null,
    'RDFUSER', 'NET1'));
</pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-7DDF240B-912C-4844-B482-36B30EB3037B">Graph Patterns: Support for SPARQL 1.1 Constructs</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="RDFRM247"></a><a id="RDFRM375"></a><a id="RDFRM376"></a><a id="RDFRM377"></a><a id="RDFRM378"></a><a id="RDFRM162"></a><div class="props_rev_3"><a id="GUID-0856FD72-213D-4181-83D6-2421AA50D39B" name="GUID-0856FD72-213D-4181-83D6-2421AA50D39B"></a><h5 id="RDFRM-GUID-0856FD72-213D-4181-83D6-2421AA50D39B" class="sect5"><span class="enumeration_section">1.6.7.4 </span>Negation
                     </h5>
                     <div>
                        <p>SEM_MATCH supports two forms of negation in SPARQL query patterns: NOT EXISTS and MINUS. NOT EXISTS can be used to filter results based on whether or not a graph pattern matches, and MINUS can be used to remove solutions based on their relation to another graph pattern.</p>
                        <div class="example" id="GUID-0856FD72-213D-4181-83D6-2421AA50D39B__CIHCCCBG">
                           <p class="titleinexample">Example 1-53 Negation with NOT EXISTS</p>
                           <p><a href="rdf-semantic-graph-overview.html#GUID-0856FD72-213D-4181-83D6-2421AA50D39B__CIHCCCBG">Example 1-53</a> uses a NOT EXISTS FILTER to select those cameras that do not have any user reviews.
                           </p><pre class="oac_no_warn" dir="ltr">SELECT *
  FROM TABLE(SEM_MATCH(
    'PREFIX : &lt;http://www.example.org/electronics/&gt; 
     SELECT ?x ?cType ?p
     WHERE
      {?x :price ?p .
       ?x :cameraType ?cType .
       FILTER( <span class="bold">NOT EXISTS({?x :userReview ?r})</span> )
      }',
    SEM_Models('electronics'),
    SEM_Rulebases('RDFS'), 
    null, null, null, ' ', null, null,
    'RDFUSER', 'NET1'));
</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-0856FD72-213D-4181-83D6-2421AA50D39B__CIHBJJEC">
                           <p class="titleinexample">Example 1-54 EXISTS</p>
                           <p>Conversely, the EXISTS operator can be used to ensure that a pattern matches. <a href="rdf-semantic-graph-overview.html#GUID-0856FD72-213D-4181-83D6-2421AA50D39B__CIHBJJEC">Example 1-54</a> uses an EXISTS FILTER to select only those cameras that have a user review.
                           </p><pre class="oac_no_warn" dir="ltr">SELECT *
  FROM TABLE(SEM_MATCH(
    'PREFIX : &lt;http://www.example.org/electronics/&gt; 
     SELECT ?x ?cType ?p
     WHERE
      {?x :price ?p .
       ?x :cameraType ?cType .
       FILTER( <span class="bold">EXISTS({?x :userReview ?r})</span> )
      }',
    SEM_Models('electronics'),
    SEM_Rulebases('RDFS'), 
    null, null, null, ' ', null, null,
    RDFUSER', 'NET1'));
</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-0856FD72-213D-4181-83D6-2421AA50D39B__CIHCIDCC">
                           <p class="titleinexample">Example 1-55 Negation with MINUS</p>
                           <p><a href="rdf-semantic-graph-overview.html#GUID-0856FD72-213D-4181-83D6-2421AA50D39B__CIHCIDCC">Example 1-55</a> uses MINUS to arrive at the same result as <a href="rdf-semantic-graph-overview.html#GUID-0856FD72-213D-4181-83D6-2421AA50D39B__CIHCCCBG">Example 1-53</a>. Only those solutions that are not compatible with solutions from the MINUS pattern are included in the result. That is, if a solution has the same values for all shared variables as a solution from the MINUS pattern, it is removed from the result.
                           </p><pre class="oac_no_warn" dir="ltr">SELECT *
  FROM TABLE(SEM_MATCH(
    'PREFIX : &lt;http://www.example.org/electronics/&gt; 
     SELECT ?x ?cType ?p
     WHERE
      {?x :price ?p .
       ?x :cameraType ?cType .
       <span class="bold">MINUS {?x :userReview ?r}</span>
      }',
    SEM_Models('electronics'),
    SEM_Rulebases('RDFS'), 
    null, null, null, ' ', null, null,
    'RDFUSER', 'NET1'));
</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-0856FD72-213D-4181-83D6-2421AA50D39B__CIHCIDFI">
                           <p class="titleinexample">Example 1-56 Negation with NOT EXISTS (2)</p>
                           <p>NOT EXISTS and MINUS represent two different styles of negation and have different results in certain cases. One such case occurs when no variables are shared between the negation pattern and the rest of the query. For example, the NOT EXISTS query in <a href="rdf-semantic-graph-overview.html#GUID-0856FD72-213D-4181-83D6-2421AA50D39B__CIHCIDFI">Example 1-56</a> removes all solutions because <code class="codeph">{?subj ?prop ?obj}</code> matches any triple, but the MINUS query in <a href="rdf-semantic-graph-overview.html#GUID-0856FD72-213D-4181-83D6-2421AA50D39B__CIHECJIJ">Example 1-57</a> removes no solutions because there are no shared variables.
                           </p><pre class="oac_no_warn" dir="ltr">SELECT *
  FROM TABLE(SEM_MATCH(
    'PREFIX : &lt;http://www.example.org/electronics/&gt; 
     SELECT ?x ?cType ?p
     WHERE
      {?x :price ?p .
       ?x :cameraType ?cType .
       FILTER( <span class="bold">NOT EXISTS({?subj ?prop ?obj})</span> )
      }',
    SEM_Models('electronics'),
    SEM_Rulebases('RDFS'),
    null, null, null, ' ', null, null,
    'RDFUSER', 'NET1'));
</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-0856FD72-213D-4181-83D6-2421AA50D39B__CIHECJIJ">
                           <p class="titleinexample">Example 1-57 Negation with MINUS (2)</p><pre class="oac_no_warn" dir="ltr">SELECT *
  FROM TABLE(SEM_MATCH(
    'PREFIX : &lt;http://www.example.org/electronics/&gt; 
     SELECT ?x ?cType ?p
     WHERE
      {?x :price ?p .
       ?x :cameraType ?cType .
       <span class="bold">MINUS {?subj ?prop ?obj}</span>
      }',
    SEM_Models('electronics'),
    SEM_Rulebases('RDFS'),
    null, null, null, ' ', null, null,
    'RDFUSER', 'NET1'));
</pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-7DDF240B-912C-4844-B482-36B30EB3037B">Graph Patterns: Support for SPARQL 1.1 Constructs</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="RDFRM380"></a><a id="RDFRM438"></a><a id="RDFRM439"></a><a id="RDFRM440"></a><a id="RDFRM728"></a><a id="RDFRM729"></a><a id="RDFRM379"></a><div class="props_rev_3"><a id="GUID-C6646E9A-4A49-482F-A3EA-F9658114A0C1" name="GUID-C6646E9A-4A49-482F-A3EA-F9658114A0C1"></a><h5 id="RDFRM-GUID-C6646E9A-4A49-482F-A3EA-F9658114A0C1" class="sect5"><span class="enumeration_section">1.6.7.5 </span>Value Assignment
                     </h5>
                     <div>
                        <p>SEM_MATCH provides a variety of ways to assign values to variables in a SPARQL query.</p>
                        <p>The value of an expression can be assigned to a new variable in three ways: (1) expressions in the SELECT clause, (2) expressions in the GROUP BY clause, and (3) the BIND keyword. In each case, the new variable must not already be defined in the query. After assignment, the new variable can be used in the query and returned in results. As discussed in <a href="rdf-semantic-graph-overview.html#GUID-7CEE1E1B-507A-4AE5-9998-9193269BF692">Expressions in the SELECT Clause</a>, the syntax for value assignment is (<span class="italic">&lt;expression&gt;</span> AS <span class="italic">&lt;alias&gt;)</span> where <span class="italic">alias</span> is the new variable, for example, <code class="codeph">((?price * (1+?tax)) AS ?totalPrice)</code>.
                        </p>
                        <div class="example" id="GUID-C6646E9A-4A49-482F-A3EA-F9658114A0C1__CIHIDHGE">
                           <p class="titleinexample">Example 1-58 Nested SELECT Expression</p>
                           <p><a href="rdf-semantic-graph-overview.html#GUID-C6646E9A-4A49-482F-A3EA-F9658114A0C1__CIHIDHGE">Example 1-58</a> uses a nested SELECT expression to compute the total price of a camera and assign the value to a variable (<code class="codeph">?totalPrice</code>). This variable is then used in a FILTER in the outer query to find cameras costing less than $200.
                           </p><pre class="oac_no_warn" dir="ltr">SELECT *
 FROM TABLE(SEM_MATCH(
   'PREFIX : &lt;http://www.example.org/electronics/&gt; 
    SELECT ?x ?cType ?totalPrice
    WHERE
     {?x :cameraType ?cType .
       { <span class="bold">SELECT ?x ( ((?price*(1+?tax)) AS ?totalPrice )</span>
         <span class="bold">WHERE { ?x :price ?price .</span>
                 <span class="bold">?x :tax ?tax }</span>
       }
      <span class="bold">FILTER (?totalPrice &lt; 200)</span>
     }',
   SEM_Models('electronics'),
   SEM_Rulebases('RDFS'),
   null, null, null, ' ', null, null,
   'RDFUSER', 'NET1'));</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-C6646E9A-4A49-482F-A3EA-F9658114A0C1__CIHCDHFD">
                           <p class="titleinexample">Example 1-59 BIND</p>
                           <p>The BIND keyword can be used inside a basic graph pattern to assign a value and is syntactically more compact than an equivalent nested SELECT expression. <a href="rdf-semantic-graph-overview.html#GUID-C6646E9A-4A49-482F-A3EA-F9658114A0C1__CIHCDHFD">Example 1-59</a> uses the BIND keyword to expresses a query that is logically equivalent to <a href="rdf-semantic-graph-overview.html#GUID-C6646E9A-4A49-482F-A3EA-F9658114A0C1__CIHIDHGE">Example 1-58</a>.
                           </p><pre class="oac_no_warn" dir="ltr">SELECT *
  FROM TABLE(SEM_MATCH(
    'PREFIX : &lt;http://www.example.org/electronics/&gt; 
     SELECT ?x ?cType ?totalPrice
     WHERE
      {?x :cameraType ?cType .
       ?x :price ?price .
       ?x :tax ?tax .
       <span class="bold">BIND ( ((?price*(1+?tax)) AS ?totalPrice )</span>
       FILTER (?totalPrice &lt; 200)
      }',
    SEM_Models('electronics'),
    SEM_Rulebases('RDFS'),
    null, null, null, ' ', null, null,
   'RDFUSER', 'NET1'));</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-C6646E9A-4A49-482F-A3EA-F9658114A0C1__CIHDDBIG">
                           <p class="titleinexample">Example 1-60 GROUP BY Expression</p>
                           <p>Value assignments in the GROUP BY clause can subsequently be used in the SELECT clause, the HAVING clause, and the outer query (in the case of a nested grouping query). <a href="rdf-semantic-graph-overview.html#GUID-C6646E9A-4A49-482F-A3EA-F9658114A0C1__CIHDDBIG">Example 1-60</a> uses a GROUP BY expression to find the maximum number of megapixels for cameras at each price point less than $1000.
                           </p><pre class="oac_no_warn" dir="ltr">SELECT *
  FROM TABLE(SEM_MATCH(
    'PREFIX : &lt;http://www.example.org/electronics/&gt; 
     SELECT ?totalPrice (MAX(?mp) as ?maxMP)
     WHERE
      {?x rdf:type :Camera .
       ?x :price ?price .
       ?x :tax ?tax .
       <span class="bold">GROUP BY ( ((?price*(1+?tax)) AS ?totalPrice )</span>
       <span class="bold">HAVING (?totalPrice &lt; 1000)</span>
      }',
    SEM_Models('electronics'),
    SEM_Rulebases('RDFS'),
    null, null));
</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-C6646E9A-4A49-482F-A3EA-F9658114A0C1__CIHEAIFI">
                           <p class="titleinexample">Example 1-61 VALUES</p>
                           <p>In addition to the preceding three ways to assign the value of an expression to a new variable, the VALUES keyword can be used to introduce an unordered solution sequence that is combined with the query results through a join operation. A VALUES block can appear inside a query pattern or at the end of a SPARQL SELECT query block after any solution modifiers. The VALUES construct can be used in subqueries.</p>
                           <p><a href="rdf-semantic-graph-overview.html#GUID-C6646E9A-4A49-482F-A3EA-F9658114A0C1__CIHEAIFI">Example 1-61</a> uses the VALUES keyword to constrain the query results to DSLR cameras made by <code class="codeph">:Company1</code> or any type of camera made by <code class="codeph">:Company2</code>. The keyword UNDEF is used to represent an unbound variable in the solution sequence.
                           </p><pre class="oac_no_warn" dir="ltr">SELECT *
  FROM TABLE(SEM_MATCH(
    'PREFIX : &lt;http://www.example.org/electronics/&gt; 
     SELECT ?x ?cType ?m
     WHERE 
      { ?x rdf:type :Camera .
        ?x :cameraType ?cType .
        ?x :manufacturer ?m
      }
     <span class="bold">VALUES (?cType ?m)</span>
     <span class="bold">{ ("DSLR" :Company1)</span>
     <span class="bold">  (UNDEF  :Company2)</span> 
    <span class="bold"> }</span>',
    SEM_Models('electronics'),
    SEM_Rulebases('RDFS'),
    null, null, null, ' ', null, null,
    'RDFUSER', 'NET1'));</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-C6646E9A-4A49-482F-A3EA-F9658114A0C1__CIHIDFJH">
                           <p class="titleinexample">Example 1-62 Simplified VALUES Syntax</p>
                           <p>A simplified syntax can be used for the common case of a single variable. Specifically, the parentheses around the variable and each solution can be omitted. <a href="rdf-semantic-graph-overview.html#GUID-C6646E9A-4A49-482F-A3EA-F9658114A0C1__CIHIDFJH">Example 1-62</a> uses the simplified syntax to constrain the query results to cameras made by <code class="codeph">:Company1</code> or <code class="codeph">:Company2</code>.
                           </p><pre class="oac_no_warn" dir="ltr">SELECT *
  FROM TABLE(SEM_MATCH(
    'PREFIX : &lt;http://www.example.org/electronics/&gt; 
     SELECT ?x ?cType ?m
     WHERE 
      { ?x rdf:type :Camera .
        ?x :cameraType ?cType .
        ?x :manufacturer ?m
      }
<span class="bold">  </span><span class="bold">   </span><span class="bold">VALUES ?m</span>
<span class="bold">     { :Company1</span>
<span class="bold">       :Company2</span> 
<span class="bold">     }</span>',
    SEM_Models('electronics'),
    SEM_Rulebases('RDFS'),
    null, null, null, ' ', null, null,
    'RDFUSER', 'NET1'));</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-C6646E9A-4A49-482F-A3EA-F9658114A0C1__CIHJGICI">
                           <p class="titleinexample">Example 1-63 Inline VALUES Block</p>
                           <p><a href="rdf-semantic-graph-overview.html#GUID-C6646E9A-4A49-482F-A3EA-F9658114A0C1__CIHJGICI">Example 1-63</a> also constrains the query results to any camera made by <code class="codeph">:Company1</code> or <code class="codeph">:Company2</code>, but specifies the VALUES block inside the query pattern.
                           </p><pre class="oac_no_warn" dir="ltr">SELECT *
  FROM TABLE(SEM_MATCH(
    'PREFIX : &lt;http://www.example.org/electronics/&gt; 
     SELECT ?x ?cType ?m
     WHERE 
      <span class="bold">{ VALUES ?m { :Company1 :Company2 }</span>
        <span class="bold">?x rdf:type :Camera .</span>
        <span class="bold">?x :cameraType ?cType .</span>
        <span class="bold">?x :manufacturer ?m</span>
      <span class="bold">}</span>',
    SEM_Models('electronics'),
    SEM_Rulebases('RDFS'),
    null, null, null, ' ', null, null,
    'RDFUSER', 'NET1'));</pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-7DDF240B-912C-4844-B482-36B30EB3037B">Graph Patterns: Support for SPARQL 1.1 Constructs</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="RDFRM442"></a><a id="RDFRM764"></a><a id="RDFRM766"></a><a id="RDFRM443"></a><a id="RDFRM730"></a><a id="RDFRM765"></a><a id="RDFRM767"></a><a id="RDFRM441"></a><div class="props_rev_3"><a id="GUID-A3F16175-AC4B-4B19-BF25-FD918760F18E" name="GUID-A3F16175-AC4B-4B19-BF25-FD918760F18E"></a><h5 id="RDFRM-GUID-A3F16175-AC4B-4B19-BF25-FD918760F18E" class="sect5"><span class="enumeration_section">1.6.7.6 </span>Property Paths
                     </h5>
                     <div>
                        <p>A SPARQL Property Path describes a possible path between two RDF resources (nodes) in an RDF graph. A property path appears in the predicate position of a triple pattern and uses a regular expression-like syntax to place constraints on the properties (edges) making up a path from the subject of the triple pattern to the object of a triple pattern. Property paths allow SPARQL queries to match arbitrary length paths in the RDF graph and also provide a more concise way to express other graph patterns.</p>
                        <p><a href="rdf-semantic-graph-overview.html#GUID-A3F16175-AC4B-4B19-BF25-FD918760F18E__CIHBIHGB" title="Property Path Syntax Constructs">Table 1-17</a> describes the syntax constructs available for constructing SPARQL Property Paths. Note that <span class="italic">iri</span> is either an IRI or a prefixed name, and <span class="italic">elt</span> is a property path element, which may itself be composed of other property path elements.
                        </p>
                        <div class="tblformal" id="GUID-A3F16175-AC4B-4B19-BF25-FD918760F18E__CIHBIHGB">
                           <p class="titleintable">Table 1-17 Property Path Syntax Constructs</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="Property Path Syntax Constructs" summary="Property Path Syntax Constructs" width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="28%" id="d5269e8829">Syntax Construct</th>
                                    <th align="left" valign="bottom" width="72%" id="d5269e8832">Matches</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="28%" id="d5269e8837" headers="d5269e8829 ">
                                       <p><span class="italic">iri</span></p>
                                    </td>
                                    <td align="left" valign="top" width="72%" headers="d5269e8837 d5269e8832 ">
                                       <p>An IRI or a prefixed name. A path of length 1 (one).</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="28%" id="d5269e8845" headers="d5269e8829 ">
                                       <p><span class="italic"> ^el</span><span class="italic">t</span></p>
                                    </td>
                                    <td align="left" valign="top" width="72%" headers="d5269e8845 d5269e8832 ">
                                       <p>Inverse path (object to subject).</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="28%" id="d5269e8855" headers="d5269e8829 ">
                                       <p><span class="italic">!iri</span> or <span class="italic">!(iri1 | … | irin)</span></p>
                                    </td>
                                    <td align="left" valign="top" width="72%" headers="d5269e8855 d5269e8832 ">
                                       <p>Negated property set. An IRI that is not one of<span class="italic"> irii</span>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="28%" id="d5269e8869" headers="d5269e8829 ">
                                       <p><span class="italic">!^iri</span> or <span class="italic">!(iri1 | … | irij | ^irij+1 | … | ^irin)</span></p>
                                    </td>
                                    <td align="left" valign="top" width="72%" headers="d5269e8869 d5269e8832 ">
                                       <p>Negated property set with some inverse properties. An IRI that is not one of <span class="italic">irii</span>, nor one of <span class="italic">irij+1...irin</span> as reverse paths. <span class="italic">!^iri</span> is short for <span class="italic">!(^iri)</span>. The order of properties and inverse properties is not important. They can occur in mixed order.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="28%" id="d5269e8892" headers="d5269e8829 ">
                                       <p><span class="italic">(elt)</span></p>
                                    </td>
                                    <td align="left" valign="top" width="72%" headers="d5269e8892 d5269e8832 ">
                                       <p>A group path <span class="italic">elt</span>; brackets control precedence.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="28%" id="d5269e8903" headers="d5269e8829 ">
                                       <p><span class="italic">elt</span><sub>1</sub> / <span class="italic">elt</span><sub>2</sub></p>
                                    </td>
                                    <td align="left" valign="top" width="72%" headers="d5269e8903 d5269e8832 ">
                                       <p>A sequence path of <span class="italic">elt</span><sub>1</sub>, followed by <span class="italic">elt</span><sub>2</sub>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="28%" id="d5269e8928" headers="d5269e8829 ">
                                       <p><span class="italic">elt</span><sub>1</sub> | <span class="italic">elt</span><sub>2</sub></p>
                                    </td>
                                    <td align="left" valign="top" width="72%" headers="d5269e8928 d5269e8832 ">
                                       <p>An alternative path of <span class="italic">elt</span><sub>1</sub>, or <span class="italic">elt</span><sub>2</sub> (all possibilities are tried).
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="28%" id="d5269e8953" headers="d5269e8829 ">
                                       <p><span class="italic">elt</span>*
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="72%" headers="d5269e8953 d5269e8832 ">
                                       <p>A path of zero or more occurrences of <span class="italic">elt</span>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="28%" id="d5269e8965" headers="d5269e8829 ">
                                       <p><span class="italic">elt</span>+
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="72%" headers="d5269e8965 d5269e8832 ">
                                       <p>A path of one or more occurrences of <span class="italic">elt</span>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="28%" id="d5269e8977" headers="d5269e8829 ">
                                       <p><span class="italic">elt</span>?
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="72%" headers="d5269e8977 d5269e8832 ">
                                       <p>A path of zero or one occurrence of <span class="italic">elt</span>.
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>The precedence of the syntax constructs is as follows (from highest to lowest):</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>IRI, prefixed names</p>
                           </li>
                           <li>
                              <p>Negated property sets</p>
                           </li>
                           <li>
                              <p>Groups</p>
                           </li>
                           <li>
                              <p>Unary operators *, ?, +</p>
                           </li>
                           <li>
                              <p>Unary ^ inverse links</p>
                           </li>
                           <li>
                              <p>Binary operator /</p>
                           </li>
                           <li>
                              <p>Binary operator |</p>
                           </li>
                        </ul>
                        <p>Precedence is left-to-right within groups.</p>
                        <div class="section">
                           <p class="subhead3" id="GUID-A3F16175-AC4B-4B19-BF25-FD918760F18E__GUID-5BCC8E52-1FD1-4674-B395-EE67D8C47BD7">Special Considerations for Property Path Operators + and *</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>In general, truly unbounded graph traversals using the + (plus sign) and * (asterisk) operator can be very expensive. For this reason, a depth-limited version of the + and * operator is used by default, and the default depth limit is 10. In addition, the depth-limited implementation can be run in parallel. The <code class="codeph">ALL_MAX_PP_DEPTH(n)</code> SEM_MATCH query option or the <code class="codeph">MAX_PP_DEPTH(n)</code> inline HINT0 query optimizer hint can be used to change the depth-limit setting. To achieve a truly unbounded traversal, you can set a depth limit of less than 1 to fall back to a CONNECT BY-based implementation.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-A3F16175-AC4B-4B19-BF25-FD918760F18E__GUID-39D8028B-D5D9-4BD6-AD06-A67AEDA74F99">Query Hints for Property Paths</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>Other query hints are available to influence the performance of property path queries. The <code class="codeph">ALLOW_PP_DUP=T</code> query option can be used with * and + queries to allow duplicate results. Allowing duplicate results may return the first rows from a query faster. In addition, <code class="codeph">ALL_USE_PP_HASH</code> and <code class="codeph">ALL_USE_PP_NL</code> query options are available to influence the join types used when evaluating property path expressions. Analogous <code class="codeph">USE_PP_HASH</code> and <code class="codeph">USE_PP_NL</code> inline HINT0 query optimizer hints can also be used. 
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-A3F16175-AC4B-4B19-BF25-FD918760F18E__CIHGJHBD">
                           <p class="titleinexample">Example 1-64 SPARQL Property Path (Using rdfs:subClassOf Relations)</p>
                           <p><a href="rdf-semantic-graph-overview.html#GUID-A3F16175-AC4B-4B19-BF25-FD918760F18E__CIHGJHBD">Example 1-64</a> uses a property path to find all Males based on transitivity of the <code class="codeph">rdfs:subClassOf relationship</code>. A property path allows matching an arbitrary number of consecutive <code class="codeph">rdfs:subClassOf</code> relations.
                           </p><pre class="oac_no_warn" dir="ltr">SELECT x, name
  FROM TABLE(SEM_MATCH(
    '{ ?x foaf:name ?name .
       ?x rdf:type ?t .
       ?t <span class="bold">rdfs:subClassOf*</span> :Male }',
    SEM_Models('family'),
    null, 
    SEM_ALIASES(SEM_ALIAS('','http://www.example.org/family/') 
                SEM_ALIAS('foaf',' http://xmlns.com/foaf/0.1/')),
    null, null, ' ', null, null,
    'RDFUSER', 'NET1'));
</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-A3F16175-AC4B-4B19-BF25-FD918760F18E__CIHFIJGE">
                           <p class="titleinexample">Example 1-65 SPARQL Property Path (Using foaf:friendOf or foaf:knows Relationships)</p>
                           <p><a href="rdf-semantic-graph-overview.html#GUID-A3F16175-AC4B-4B19-BF25-FD918760F18E__CIHFIJGE">Example 1-65</a> uses a property path to find all of Scott's close friends (those people reachable within two hops using <code class="codeph">foaf:friendOf</code> or <code class="codeph">foaf:knows</code> relationships).
                           </p><pre class="oac_no_warn" dir="ltr">SELECT name
  FROM TABLE(SEM_MATCH(
    '{ { :Scott <span class="bold">(foaf:friendOf | foaf:knows)</span> ?f }
       UNION
       { :Scott <span class="bold">(foaf:friendOf | foaf:knows)/(foaf:friendOf | foaf:knows)</span> ?f }
       ?f foaf:name ?name .
       FILTER (!sameTerm(?f, :Scott)) }',
    SEM_Models('family'),
    null, 
    SEM_ALIASES(SEM_ALIAS('','http://www.example.org/family/'),
                SEM_ALIAS('foaf',' http://xmlns.com/foaf/0.1/')),
    null, null, ' ', null, null,
    'RDFUSER', 'NET1'));
</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-A3F16175-AC4B-4B19-BF25-FD918760F18E__CIHBDBBD">
                           <p class="titleinexample">Example 1-66 Specifying Property Path Maximum Depth Value</p>
                           <p><a href="rdf-semantic-graph-overview.html#GUID-A3F16175-AC4B-4B19-BF25-FD918760F18E__CIHBDBBD">Example 1-66</a> specifies a maximum depth of 12 for all property path expressions with the <code class="codeph">ALL_MAX_PP_DEPTH(n)</code> query option value.
                           </p><pre class="oac_no_warn" dir="ltr">SELECT x, name
  FROM TABLE(SEM_MATCH(
    '{ ?x foaf:name ?name .
       ?x rdf:type ?t .
       ?t rdfs:subClassOf* :Male }',
    SEM_Models('family'),
    null, 
    SEM_ALIASES(SEM_ALIAS('','http://www.example.org/family/') 
                SEM_ALIAS('foaf',' http://xmlns.com/foaf/0.1/')),
    null,
    null,
    ' ALL_MAX_PP_DEPTH(12) ', 
    null, null,
    'RDFUSER', 'NET1'));
</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-A3F16175-AC4B-4B19-BF25-FD918760F18E__CIHGJDJH">
                           <p class="titleinexample">Example 1-67 Specifying Property Path Join Hint</p>
                           <p><a href="rdf-semantic-graph-overview.html#GUID-A3F16175-AC4B-4B19-BF25-FD918760F18E__CIHGJDJH">Example 1-67</a> shows an inline HINT0 query optimizer hint that requests a nested loop join for evaluating the property path expression.
                           </p><pre class="oac_no_warn" dir="ltr">SELECT x, name
  FROM TABLE(SEM_MATCH(
    '{ # HINT0={ USE_PP_NL }
       ?x foaf:name ?name .
       ?x rdf:type ?t .
       ?t rdfs:subClassOf* :Male }',
    SEM_Models('family'),
    null, 
    SEM_ALIASES(SEM_ALIAS('','http://www.example.org/family/') 
                SEM_ALIAS('foaf',' http://xmlns.com/foaf/0.1/')),
    null, null, ' ', null, null,
    'RDFUSER', 'NET1'));
</pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-7DDF240B-912C-4844-B482-36B30EB3037B">Graph Patterns: Support for SPARQL 1.1 Constructs</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="RDFRM769"></a><a id="RDFRM770"></a><a id="RDFRM768"></a><div class="props_rev_3"><a id="GUID-6ACF73EA-A1A7-49D2-ADB9-15B50AE8B73E" name="GUID-6ACF73EA-A1A7-49D2-ADB9-15B50AE8B73E"></a><h4 id="RDFRM-GUID-6ACF73EA-A1A7-49D2-ADB9-15B50AE8B73E" class="sect4"><span class="enumeration_section">1.6.8 </span>Graph Patterns: Support for SPARQL 1.1 Federated Query
                  </h4>
                  <div>
                     <p>SEM_MATCH supports SPARQL 1.1 Federated Query (see <a href="http://www.w3.org/TR/sparql11-federated-query/#SPROT" target="_blank"><code class="codeph">http://www.w3.org/TR/sparql11-federated-query/#SPROT</code></a>). The SERVICE construct can be used to retrieve results from a specified SPARQL endpoint URL. With this capability, you can combine local RDF data (native RDF data or RDF views of relational data) with other, possibly remote, RDF data served by a W3C standards-compliant SPARQL endpoint.
                     </p>
                     <div class="example" id="GUID-6ACF73EA-A1A7-49D2-ADB9-15B50AE8B73E__CIHHGGDB">
                        <p class="titleinexample">Example 1-68 SPARQL SERVICE Clause to Retrieve All Triples</p>
                        <p><a href="rdf-semantic-graph-overview.html#GUID-6ACF73EA-A1A7-49D2-ADB9-15B50AE8B73E__CIHHGGDB">Example 1-68</a> shows a query that uses a SERVICE clause to retrieve all triples from the SPARQL endpoint available at <code class="codeph">http://www.example1.org/sparql</code>.
                        </p><pre class="oac_no_warn" dir="ltr">SELECT s, p, o
  FROM TABLE(SEM_MATCH(
    'SELECT ?s ?p ?o
     WHERE {
       SERVICE &lt;http://www.example1.org/sparql&gt;{ ?s ?p ?o }
     }',
    SEM_Models('electronics'),
    null, null, null, null, ' ', 
    null, null,
    'RDFUSER', 'NET1'));
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-6ACF73EA-A1A7-49D2-ADB9-15B50AE8B73E__CIHIEDDA">
                        <p class="titleinexample">Example 1-69 SPARQL SERVICE Clause to Join Remote and Local RDF Data</p>
                        <p><a href="rdf-semantic-graph-overview.html#GUID-6ACF73EA-A1A7-49D2-ADB9-15B50AE8B73E__CIHIEDDA">Example 1-69</a> joins remote RDF data with local RDF data. This example joins camera types <code class="codeph">?cType</code> from local model <code class="codeph">electronics</code> with the camera names <code class="codeph">?name</code> from the SPARQL endpoint at <code class="codeph">http://www.example1.org/sparql</code>.
                        </p><pre class="oac_no_warn" dir="ltr">SELECT cType, name
  FROM TABLE(SEM_MATCH(
    'PREFIX : &lt;http://www.example.org/electronics/&gt; 
     SELECT ?cType ?name
     WHERE {
       ?s :cameraType ?cType
       SERVICE &lt;http://www.example1.org/sparql&gt;{ ?s :name ?name }
      }',
    SEM_Models('electronics'),
    null, null, null, null, ' ', 
    null, null,
    'RDFUSER', 'NET1'));
</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-F0309673-FD41-49F9-BFFB-B14C37DC5279">Privileges Required to Execute Federated SPARQL Queries</a><br></li>
                        <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-EC21930C-2EEB-456C-9A9B-2D794F6128B5">SPARQL SERVICE Join Push Down</a><br></li>
                        <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-53C80E37-66B6-41AC-90A0-6A94F78AC408">SPARQL SERVICE SILENT</a><br></li>
                        <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-84CDC448-A7A3-497D-BCE9-0A84864D50F1">Using a Proxy Server with SPARQL SERVICE</a><br></li>
                        <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-F09036DD-6D37-4BC6-AAD8-4D5D3984A6B4">Accessing SPARQL Endpoints with HTTP Basic Authentication</a><br></li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-71464CC4-1C03-48A4-9A4C-0E671FF8F16E" title="To query semantic data, use the SEM_MATCH table function.">Using the SEM_MATCH Table Function to Query Semantic Data</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="RDFRM772"></a><a id="RDFRM771"></a><div class="props_rev_3"><a id="GUID-F0309673-FD41-49F9-BFFB-B14C37DC5279" name="GUID-F0309673-FD41-49F9-BFFB-B14C37DC5279"></a><h5 id="RDFRM-GUID-F0309673-FD41-49F9-BFFB-B14C37DC5279" class="sect5"><span class="enumeration_section">1.6.8.1 </span>Privileges Required to Execute Federated SPARQL Queries
                     </h5>
                     <div>
                        <p>You need certain database privileges to use the SERVICE construct within SEM_MATCH queries. You should be granted EXECUTE privilege on the SPARQL_SERVICE MDSYS function by a user with DBA privileges: The following example grants this access to a user named RDFUSER:</p><pre class="oac_no_warn" dir="ltr">grant execute on mdsys.sparql_service to rdfuser;
</pre><p>Also, an Access Control List (ACL) should be used to grant the CONNECT privilege to the user attempting a federated query. <a href="rdf-semantic-graph-overview.html#GUID-F0309673-FD41-49F9-BFFB-B14C37DC5279__CIHBCACC">Example 1-70</a> creates a new ACL to grant the user RDFUSER the CONNECT privilege and assigns the domain * to the ACL. For more information about ACLs, see <a href="../arpls/DBMS_NETWORK_ACL_ADMIN.html#ARPLS148" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a>.
                        </p>
                        <div class="example" id="GUID-F0309673-FD41-49F9-BFFB-B14C37DC5279__CIHBCACC">
                           <p class="titleinexample">Example 1-70 Access Control List and Host Assignment</p><pre class="oac_no_warn" dir="ltr">dbms_network_acl_admin.create_acl (
  acl       =&gt; 'rdfuser.xml',
  description =&gt; 'Allow rdfuser to query SPARQL endpoints',
  principal =&gt; 'RDFUSER',
  is_grant  =&gt; true,
  privilege =&gt; 'connect'
);
 
dbms_network_acl_admin.assign_acl (
  acl  =&gt; 'rdfuser.xml',
  host =&gt; '*'
);      
</pre><p>After the necessary privileges are granted, you are ready to execute federated queries from SEM_MATCH</p>
                        </div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-6ACF73EA-A1A7-49D2-ADB9-15B50AE8B73E">Graph Patterns: Support for SPARQL 1.1 Federated Query</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="RDFRM774"></a><a id="RDFRM773"></a><div class="props_rev_3"><a id="GUID-EC21930C-2EEB-456C-9A9B-2D794F6128B5" name="GUID-EC21930C-2EEB-456C-9A9B-2D794F6128B5"></a><h5 id="RDFRM-GUID-EC21930C-2EEB-456C-9A9B-2D794F6128B5" class="sect5"><span class="enumeration_section">1.6.8.2 </span>SPARQL SERVICE Join Push Down
                     </h5>
                     <div>
                        <p>The SPARQL SERVICE Join Push Down (<code class="codeph">SERVICE_JPDWN=T</code>) feature can be used to improve the performance of certain SPARQL SERVICE queries. By default, the query pattern within the SERVICE clause is executed first on the remote SPARQL endpoint. The full result of this remote execution is then joined with the local portion of the query. This strategy can result in poor performance if the local portion of the query is very selective and the remote portion of the query is very unselective.
                        </p>
                        <p>The SPARQL SERVICE Join Push Down feature cannot be used in a query that contains more than one SERVICE clause.</p>
                        <div class="example" id="GUID-EC21930C-2EEB-456C-9A9B-2D794F6128B5__CIHEIBAH">
                           <p class="titleinexample">Example 1-71 SPARQL SERVICE Join Push Down</p>
                           <p><a href="rdf-semantic-graph-overview.html#GUID-EC21930C-2EEB-456C-9A9B-2D794F6128B5__CIHEIBAH">Example 1-71</a> shows the SPARQL SERVICE Join Push Down feature.
                           </p><pre class="oac_no_warn" dir="ltr">SELECT s, prop, obj
  FROM TABLE(SEM_MATCH(
    'PREFIX : &lt;http://www.example.org/electronics/&gt; 
     SELECT ?s ?prop ?obj
     WHERE {
       ?s rdf:type   :Camera .
       ?s :modelName "Camera 12345"
       SERVICE &lt;http://www.example1.org/sparql&gt; { ?s ?prop ?obj }
      }',
    SEM_Models('electronics'),
    null, null, null, null, ' <span class="bold">SERVICE_JPDWN=T</span> ', 
    null, null,
    'RDFUSER', 'NET1'));
</pre><p>In <a href="rdf-semantic-graph-overview.html#GUID-EC21930C-2EEB-456C-9A9B-2D794F6128B5__CIHEIBAH">Example 1-71</a>, the local portion of the query will return a very small number of rows, but the remote portion of the query is completely unbound and will return the entire remote dataset. When the <code class="codeph">SERVICE_JPDWN=T</code> option is specified, SEM_MATCH performs a nested-loop style evaluation by first executing the local portion of the query and then executing a modified version of the remote query once for each row returned by the local portion. The remote query is modified with a FILTER clause that effectively performs a substitution for the join variable <code class="codeph">?s</code>. For example, if <code class="codeph">&lt;urn:camera1&gt;</code> and <code class="codeph">&lt;urn:camera2&gt;</code> are returned from the local portion of <a href="rdf-semantic-graph-overview.html#GUID-EC21930C-2EEB-456C-9A9B-2D794F6128B5__CIHEIBAH">Example 1-71</a> as bindings for <code class="codeph">?s</code>, then the following two queries are sent to the remote endpoint: <code class="codeph">{ ?s ?prop ?obj FILTER (?s = &lt;urn:camera1&gt;) }</code> and <code class="codeph">{ s ?prop ?obj FILTER (?s = &lt;urn:camera2&gt;) }</code>.
                           </p>
                        </div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-6ACF73EA-A1A7-49D2-ADB9-15B50AE8B73E">Graph Patterns: Support for SPARQL 1.1 Federated Query</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="RDFRM776"></a><a id="RDFRM775"></a><div class="props_rev_3"><a id="GUID-53C80E37-66B6-41AC-90A0-6A94F78AC408" name="GUID-53C80E37-66B6-41AC-90A0-6A94F78AC408"></a><h5 id="RDFRM-GUID-53C80E37-66B6-41AC-90A0-6A94F78AC408" class="sect5"><span class="enumeration_section">1.6.8.3 </span>SPARQL SERVICE SILENT
                     </h5>
                     <div>
                        <p>When the SILENT keyword is used in federated queries, errors while accessing the specified remote SPARQL endpoint will be ignored. If the SERVICE SILENT request fails, a single solution with no bindings will be returned.</p>
                        <p><a href="rdf-semantic-graph-overview.html#GUID-53C80E37-66B6-41AC-90A0-6A94F78AC408__CIHDJJDD">Example 1-72</a> uses SERVICE with the SILENT keyword inside an OPTIONAL clause, so that, when connection errors accessing <code class="codeph">http://www.example1.org/sparql</code> appear, such errors will be ignored and all the rows retrieved from triple <code class="codeph">?s :cameratype ?k</code> will be combined with a null value for <code class="codeph">?n</code>.
                        </p>
                        <div class="example" id="GUID-53C80E37-66B6-41AC-90A0-6A94F78AC408__CIHDJJDD">
                           <p class="titleinexample">Example 1-72 SPARQL SERVICE with SILENT Keyword</p><pre class="oac_no_warn" dir="ltr">SELECT s, n
  FROM TABLE(SEM_MATCH(
    'PREFIX : &lt;http://www.example.org/electronics/&gt; 
     SELECT ?s ?n
     WHERE {
       ?s :cameraType ?k
       OPTIONAL { SERVICE <span class="bold">SILENT</span> &lt;http://www.example1.org/sparql&gt;{ ?k :name ?n } }
      }',
    SEM_Models('electronics'),
    null, null, null, null, ' ', null, null,
    'RDFUSER', 'NET1'));
</pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-6ACF73EA-A1A7-49D2-ADB9-15B50AE8B73E">Graph Patterns: Support for SPARQL 1.1 Federated Query</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="RDFRM778"></a><a id="RDFRM779"></a><a id="RDFRM777"></a><div class="props_rev_3"><a id="GUID-84CDC448-A7A3-497D-BCE9-0A84864D50F1" name="GUID-84CDC448-A7A3-497D-BCE9-0A84864D50F1"></a><h5 id="RDFRM-GUID-84CDC448-A7A3-497D-BCE9-0A84864D50F1" class="sect5"><span class="enumeration_section">1.6.8.4 </span>Using a Proxy Server with SPARQL SERVICE
                     </h5>
                     <div>
                        <div class="section">
                           <p>The following methods are available for sending SPARQL SERVICE requests through an HTTP proxy:</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Specifying the HTTP proxy that should be used for requests in the current session. This can be done through the SET_PROXY function of UTL_HTTP package. <a href="rdf-semantic-graph-overview.html#GUID-84CDC448-A7A3-497D-BCE9-0A84864D50F1__CIHDBJCD">Example 1-73</a> sets the proxy <code class="codeph">proxy.example.com</code> to be used for HTTP requests, excluding those to hosts in the domain <code class="codeph">example2.com</code>. (For more information about the SET_PROXY procedure, see <a href="../arpls/UTL_HTTP.html#ARPLS71100" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a>.)
                                 </p>
                              </li>
                              <li>
                                 <p>Using the SERVICE_PROXY SEM_MATCH option, which allows setting the proxy address for SPARQL SERVICE request. However, in this case no exceptions can be specified, and all requests are sent to the given proxy server. <a href="rdf-semantic-graph-overview.html#GUID-84CDC448-A7A3-497D-BCE9-0A84864D50F1__CIHDCJFC">Example 1-74</a> shows a SEM_MATCH query where the proxy address <code class="codeph">proxy.example.com</code> at port 80 is specified.
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-84CDC448-A7A3-497D-BCE9-0A84864D50F1__CIHDBJCD">
                           <p class="titleinexample">Example 1-73 Setting Proxy Server with UTL_HTTP.SET_PROXY</p><pre class="oac_no_warn" dir="ltr">BEGIN
  UTL_HTTP.SET_PROXY('proxy.example.com:80', 'example2.com');
END;
/
</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-84CDC448-A7A3-497D-BCE9-0A84864D50F1__CIHDCJFC">
                           <p class="titleinexample">Example 1-74 Setting Proxy Server in SPARQL SERVICE</p><pre class="oac_no_warn" dir="ltr">SELECT *
  FROM TABLE(SEM_MATCH(
    'SELECT *
     WHERE {
       SERVICE &lt;http://www.example1.org/sparql&gt;{ ?s ?p ?o }
      }',
    SEM_Models('electronics'),
    null, null, null, null, ' SERVICE_PROXY=proxy.example.com:80 ', 
    null, null,
    'RDFUSER', 'NET1'));
</pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-6ACF73EA-A1A7-49D2-ADB9-15B50AE8B73E">Graph Patterns: Support for SPARQL 1.1 Federated Query</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="RDFRM780"></a><div class="props_rev_3"><a id="GUID-F09036DD-6D37-4BC6-AAD8-4D5D3984A6B4" name="GUID-F09036DD-6D37-4BC6-AAD8-4D5D3984A6B4"></a><h5 id="RDFRM-GUID-F09036DD-6D37-4BC6-AAD8-4D5D3984A6B4" class="sect5"><span class="enumeration_section">1.6.8.5 </span>Accessing SPARQL Endpoints with HTTP Basic Authentication
                     </h5>
                     <div>
                        <div class="section">
                           <p>To allow accessing of SPARQL endpoints with HTTP Basic Authentication, user credentials should be saved in Session Context SDO_SEM_HTTP_CTX. A user with DBA privileges must grant EXECUTE on this context to the user that wishes to use basic authentication. The following example grants this access to a user named RDFUSER:</p><pre class="oac_no_warn" dir="ltr">grant execute on mdsys.sdo_sem_http_ctx to rdfuser;
</pre><p>After the privilege is granted, the user should save the user name and password for each SPARQL Endpoint with HTTP Authentication through functions <code class="codeph">mdsys.sdo_sem_http_ctx.set_usr</code> and <code class="codeph">mdsys.sdo_sem_http_ctx.set_pwd</code>. The following example sets a user name and password for the SPARQL endpoint at <code class="codeph">http://www.example1.org/sparql</code>:
                           </p><pre class="oac_no_warn" dir="ltr">BEGIN
  mdsys.sdo_sem_http_ctx.set_usr('http://www.example1.org/sparql','user');
  mdsys.sdo_sem_http_ctx.set_pwd('http://www.example1.org/sparql','pwrd');
END;
/</pre></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-6ACF73EA-A1A7-49D2-ADB9-15B50AE8B73E">Graph Patterns: Support for SPARQL 1.1 Federated Query</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="RDFRM184"></a><a id="RDFRM183"></a><div class="props_rev_3"><a id="GUID-5D952ADA-7170-4D64-A07D-F86B32884FF5" name="GUID-5D952ADA-7170-4D64-A07D-F86B32884FF5"></a><h4 id="RDFRM-GUID-5D952ADA-7170-4D64-A07D-F86B32884FF5" class="sect4"><span class="enumeration_section">1.6.9 </span>Inline Query Optimizer Hints
                  </h4>
                  <div>
                     <p>In SEM_MATCH, the SPARQL comment construct has been overloaded to allow inline HINT0 query optimizer hints. In SPARQL, the hash (#) character indicates that the remainder of the line is a comment. To associate an inline hint with a particular BGP, place a HINT0 hint string inside a SPARQL comment and insert the comment between the opening curly bracket ({) and the first triple pattern in the BGP. Inline hints enable you to influence the execution plan for each BGP in a query.</p>
                     <p>Inline optimizer hints override any hints passed to SEM_MATCH through the options argument. For example, a global ALL_ORDERED hint applies to each BGP that does not specify an inline optimizer hint, but those BGPs with an inline hint use the inline hint instead of the ALL_ORDERED hint.</p>
                     <div class="example" id="GUID-5D952ADA-7170-4D64-A07D-F86B32884FF5__CIHHIAIA">
                        <p class="titleinexample">Example 1-75 Inline Query Optimizer Hints (BGP_JOIN)</p>
                        <p>The following example shows a query with inline query optimizer hints.</p><pre class="oac_no_warn" dir="ltr">SELECT x, y, hp, cp
  FROM TABLE(SEM_MATCH(
    '{ <span class="bold"># HINT0={ LEADING(t0) USE_NL(?x ?y ?bd) }</span>
      ?x :grandParentOf ?y . ?x rdf:type :Male . ?x :birthDate ?bd
      OPTIONAL { <span class="bold"># HINT0={ LEADING(t0 t1) </span>BGP_JOIN(USE_HASH)<span class="bold"> }</span>
                 ?x :homepage ?hp . ?x :cellPhoneNum ?cp }
     }',
    SEM_Models('family'),
    SEM_Rulebases('RDFS','family_rb'), 
    SEM_ALIASES(SEM_ALIAS('','http://www.example.org/family/')),
    null, null, ' ', null, null,
    'RDFUSER', 'NET1'));
</pre><p>The BGP_JOIN hint influences inter-BGP joins and has the following syntax: <code class="codeph">BGP_JOIN</code>(<code class="codeph">&lt;join_type&gt;</code><code class="codeph">)</code>, where <span class="italic">&lt;join_type&gt;</span> is USE_HASH or USE_NL. <a href="rdf-semantic-graph-overview.html#GUID-5D952ADA-7170-4D64-A07D-F86B32884FF5__CIHHIAIA">Example 1-75</a> uses the BGP_JOIN(USE_HASH) hint to specify that a hash join should be used when joining the OPTIONAL BGP with its parent BGP.
                        </p>
                        <p>Inline optimizer hints override any hints passed to SEM_MATCH through the <code class="codeph">options</code> argument. For example, a global ALL_ORDERED hint applies to each BGP that does not specify an inline optimizer hint, but those BGPs with an inline hint use the inline hint instead of the ALL_ORDERED hint.
                        </p>
                     </div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-5D952ADA-7170-4D64-A07D-F86B32884FF5__INLINEQUERYOPTIMIZERHINTSANTI_JOIN-12DD6317">
                        <p class="titleinexample">Example 1-76 Inline Query Optimizer Hints (ANTI_JOIN)</p>
                        <p>The ANTI_JOIN hint influences the evaluation of NOT EXISTS and MINUS clauses. This hint has the syntax <code class="codeph">ANTI_JOIN(&lt;join_type&gt;)</code>, where &lt;join_type&gt; is HASH_AJ, NL_AJ, or MERGE_AJ. The following example uses a hint to indicate that a hash anti join should be used. Global ALL_AJ_HASH, ALL_AJ_NL, ALL_AJ_MERGE can be used in the options argument of SEM_MATCH to influence the join type of all NOT EXISTS and MINUS clauses in the entire query.
                        </p><pre class="oac_no_warn" dir="ltr">SELECT x, y
  FROM TABLE(SEM_MATCH(
    'SELECT ?x ?y
     WHERE {
       ?x :grandParentOf ?y . ?x rdf:type :Male . ?x :birthDate ?bd
       FILTER ( 
         NOT EXISTS {# HINT0={ <span class="bold">ANTI_JOIN(HASH_AJ)</span> }
                     ?x :homepage ?hp . ?x :cellPhoneNum ?cp })
     }',
    SEM_Models('family'),
    SEM_Rulebases('RDFS','family_rb'), 
    SEM_ALIASES(SEM_ALIAS('','http://www.example.org/family/')),
    null, null, ' ', null, null,
    'RDFUSER', 'NET1'));
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-5D952ADA-7170-4D64-A07D-F86B32884FF5__INLINEQUERYOPTIMIZERHINTSNON_NULL-12DD6929">
                        <p class="titleinexample">Example 1-77 Inline Query Optimizer Hints (NON_NULL)</p>
                        <p><code class="codeph">HINT0={ NON_NULL}</code> is supported in SPARQL SELECT clauses to signify that a particular variable is always bound (that is, has a non-null value in each result row). This hint allows the query compiler to optimize joins for values produced by SELECT expressions. These optimizations cannot be applied by default because it cannot be guaranteed that expressions will produce non-null values for all possible input. If you know that a SELECT expression will not produce any null values for a particular query, using this NON_NULL hint can significantly increase performance. This hint should be specified in the comment in a line before the 'AS' keyword of a SELECT expression.
                        </p>
                        <p>The following example shows the NON_NULL hint option used in a SEM_MATCH query, specifying that variable <code class="codeph">?full_name</code> is definitely bound.
                        </p><pre class="oac_no_warn" dir="ltr">SELECT s, t
  FROM TABLE(SEM_MATCH(
    'SELECT * WHERE {
       ?s :name ?full_name
       { SELECT (CONCAT(?fname, " ", ?lname) # HINT0={ NON_NULL }
                 AS ?full_name)
         WHERE { 
           ?t :fname ?fname .
           ?t :lname ?lname } 
         } 
     }',
    SEM_Models('family'),
    SEM_Rulebases('RDFS','family_rb'), 
    SEM_ALIASES(SEM_ALIAS('','http://www.example.org/family/')),
    null, null, ' ', null, null,
    'RDFUSER', 'NET1'));
</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-71464CC4-1C03-48A4-9A4C-0E671FF8F16E" title="To query semantic data, use the SEM_MATCH table function.">Using the SEM_MATCH Table Function to Query Semantic Data</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="RDFRM186"></a><a id="RDFRM185"></a><div class="props_rev_3"><a id="GUID-7001881A-9DE6-4F3D-8593-F31F2004FE37" name="GUID-7001881A-9DE6-4F3D-8593-F31F2004FE37"></a><h4 id="RDFRM-GUID-7001881A-9DE6-4F3D-8593-F31F2004FE37" class="sect4"><span class="enumeration_section">1.6.10 </span>Full-Text Search
                  </h4>
                  <div>
                     <p>The Oracle-specific <code class="codeph">orardf:textContains</code> SPARQL FILTER function uses full-text indexes on the RDF_VALUE$ table. This function has the following syntax (where <code class="codeph">orardf</code> is a built-in prefix that expands to <code class="codeph">&lt;http://xmlns.oracle.com/rdf/&gt;</code>):
                     </p><pre class="oac_no_warn" dir="ltr">orardf:textContains(<span class="italic">variable</span>, <span class="italic">pattern</span>)
</pre><p>The first argument to <code class="codeph">orardf:textContains</code> must be a local variable (that is, a variable present in the BGP that contains the <code class="codeph">orardf:textContains</code> filter), and the second argument must be a constant plain literal.
                     </p>
                     <p>For example, <code class="codeph">orardf:textContains(x, y)</code> returns true if <code class="codeph">x</code> matches the expression <code class="codeph">y</code>, where <code class="codeph">y</code> is a valid expression for the Oracle Text SQL operator CONTAINS. For more information about such expressions, see <a href="../ccref/oracle-text-SQL-statements-and-operators.html#CCREF0104" target="_blank"><span class="italic">Oracle Text Reference</span></a>.
                     </p>
                     <p>Before using <code class="codeph">orardf:textContains</code>, you must create an Oracle Text index for the RDF network. To create such an index, invoke the <a href="SEM_APIS-reference.html#GUID-3984C866-8524-458E-B858-43B0339E6629">SEM_APIS.ADD_DATATYPE_INDEX</a> procedure as follows:
                     </p><pre class="oac_no_warn" dir="ltr">EXECUTE SEM_APIS.ADD_DATATYPE_INDEX('http://xmlns.oracle.com/rdf/text', network_owner=&gt;'RDFUSER', network_name=&gt;'NET1');</pre><p>Performance for wildcard searches like <code class="codeph">orardf:textContains(?x, "%abc%")</code> can be improved by using prefix and substring indexes. You can include any of the following options to the <a href="SEM_APIS-reference.html#GUID-3984C866-8524-458E-B858-43B0339E6629">SEM_APIS.ADD_DATATYPE_INDEX</a> procedure:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">prefix_index=true</code> &#x2013; for adding prefix index
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">prefix_min_length=</code>&lt;<span class="italic"><code class="codeph">number&gt;</code></span> &#x2013; minimum length for prefix index tokens
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">prefix_max_length=</code><span class="italic"><code class="codeph">&lt;number&gt;</code></span> &#x2013; maximum length for prefix index tokens
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">substring_index=true</code> &#x2013; for adding substring index
                           </p>
                        </li>
                     </ul>
                     <p>For more information about Oracle Text indexing elements, see <a href="../ccref/oracle-text-indexing-elements.html#CCREF0200" target="_blank"><span class="italic">Oracle Text Reference</span></a>.
                     </p>
                     <p>When performing large bulk loads into a semantic network with a text index, the overall load time may be faster if you drop the text index, perform the bulk load, and then re-create the text index. See <a href="rdf-semantic-graph-overview.html#GUID-E0FC3EA3-9385-4D94-AB3C-72F65EDAC966" title="Data type indexes are indexes on the values of typed literals stored in a semantic network.">Using Data Type Indexes</a> for more information about data type indexing.
                     </p>
                     <p>After creating a text index, you can use the <code class="codeph">orardf:textContains</code> FILTER function in SEM_MATCH queries. <a href="rdf-semantic-graph-overview.html#GUID-7001881A-9DE6-4F3D-8593-F31F2004FE37__CIHCAJHI">Example 1-78</a> uses <code class="codeph">orardf:textContains</code> to find all grandfathers whose names start with the letter <span class="italic">A</span> or <span class="italic">B</span>.
                     </p>
                     <div class="example" id="GUID-7001881A-9DE6-4F3D-8593-F31F2004FE37__CIHCAJHI">
                        <p class="titleinexample">Example 1-78 Full-Text Search</p><pre class="oac_no_warn" dir="ltr">SELECT x, y, n
  FROM TABLE(SEM_MATCH(
    'PREFIX : &lt;http://www.example.org/family/&gt;
     SELECT * 
     WHERE { 
       ?x :grandParentOf ?y . ?x rdf:type :Male . ?x :name ?n 
       <span class="bold">FILTER (orardf:textContains(?n, " A% | B% "))</span> }',
    SEM_Models('family'),
    SEM_Rulebases('RDFS','family_rb'), 
    null, null, null, ' ', null, null,
   'RDFUSER', 'NET1'));
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-7001881A-9DE6-4F3D-8593-F31F2004FE37__GUID-7B709151-8671-4FAD-89B2-8CAFADD61FF0">
                        <p class="titleinexample">Example 1-79 orardf:textScore</p>
                        <p>The ancillary operator <code class="codeph">orardf:textScore</code> can be used in combination with <code class="codeph">orardf:textContains</code> to rank results by the goodness of their text match. There are, however, limitations when using <code class="codeph">orardf:textScore</code>. The <code class="codeph">orardf:textScore</code> invocation must appear as a SELECT expression in the SELECT clause immediately surrounding the basic graph pattern that contains the corresponding <code class="codeph">orardf:textContains</code> FILTER. The alias for this SELECT expression can then be used in other parts of the query. In addition, a <code class="codeph">REWRITE=F'</code> query hint must be used in the <code class="codeph">options</code> argument of SEM_MATCH.
                        </p>
                        <p>The following example finds text matches with score greater than 0.5. Notice that an additional invocation id argument is required for <code class="codeph">orardf:textContains</code>, so that it can be linked to the <code class="codeph">orardf:textScore</code> invocation with the same invocation id. The invocation ID is an arbitrary integer constant used to match a primary operator with its ancillary operator.
                        </p><pre class="pre codeblock"><code>SELECT x, y, n, scr
  FROM TABLE(SEM_MATCH(
    'PREFIX &lt;http://www.example.org/family/&gt;
     SELECT *
     WHERE {
       { SELECT ?x ?y ?n (<span class="bold">orardf:textScore(123)</span> AS ?scr)
         WHERE { 
           ?x :grandParentOf ?y . ?x rdf:type :Male . ?x :name ?n 
           FILTER (orardf:textContains(?n, " A% | B% ", <span class="bold">123</span>)) }
       }
       FILTER (?scr &gt; 0.5)
     }',
    SEM_Models('family'),
    SEM_Rulebases('RDFS','family_rb'), 
    null,           
    null,
    null,
    ' <span class="bold">REWRITE=F</span> ', 
    null, null,
    'RDFUSER', 'NET1'));
</code></pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-7001881A-9DE6-4F3D-8593-F31F2004FE37__GUID-F0C031FE-DDAA-4A8C-BCF3-5BFF819E8A32">
                        <p class="titleinexample">Example 1-80 orardf:like</p>
                        <p>For a lightweight text search, you can use the <code class="codeph">orardf:like</code> function, which performs simple test for pattern matching using the Oracle SQL operator LIKE. The <code class="codeph">orardf:like</code> function has the following syntax:
                        </p><pre class="oac_no_warn" dir="ltr">orardf:like(string, pattern)</pre><p>The first argument of <code class="codeph">orardf:like</code> can be any variable or RDF term, as opposed to <code class="codeph">orardf:Contains</code>, which requires the first argument to be a local variable. When the first argument to <code class="codeph">orardf:like</code> is a URI, the match is performed against the URI suffix only. The second argument must be a pattern expression, which can contain the following special pattern-matching characters:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The percent sign (%) can match zero or more characters.</p>
                           </li>
                           <li>
                              <p>The underscore (_) matches exactly one character.</p>
                           </li>
                        </ul>
                        <p>The following example shows a percent sign (%) wildcard search to find all grandparents whose URIs start with <code class="codeph">Ja</code>.
                        </p><pre class="pre codeblock"><code>SELECT x, y, n
  FROM TABLE(SEM_MATCH(
    'PREFIX : &lt;http://www.example.org/family/&gt;
     SELECT * 
     WHERE { 
        ?x :grandParentOf ?y . ?y :name ?n 
        FILTER (<span class="bold">orardf:like(?x, "Ja%")</span>) }',
    SEM_Models('family'),
    SEM_Rulebases('RDFS','family_rb'), 
    
    null, null, null, ' ', null, null,
    'RDFUSER', 'NET1'));
</code></pre><p>The following example shows an underscore (_) wildcard search to find all the grandchildren whose names start with <code class="codeph">J</code> followed by two characters and end with <code class="codeph">k</code>..
                        </p><pre class="pre codeblock"><code>SELECT x, y, n
  FROM TABLE(SEM_MATCH(
    'PREFIX : &lt;http://www.example.org/family/&gt;
     SELECT * 
     WHERE { 
        ?x :grandParentOf ?y . ?y :name ?n 
        FILTER (<span class="bold">orardf:like(?n, "J__k")</span>) 
    }',
    SEM_Models('family'),
    SEM_Rulebases('RDFS','family_rb'), 
    
    null, null, null, ' ', null, null,
    'RDFUSER', 'NET1'));
</code></pre><p>For efficient execution of <code class="codeph">orardf:like</code>, you can create an index using the <a href="SEM_APIS-reference.html#GUID-3984C866-8524-458E-B858-43B0339E6629">SEM_APIS.ADD_DATATYPE_INDEX</a> procedure with <code class="codeph">http://xmlns.oracle.com/rdf/like</code> as the data type URI. This index can speed up queries when the first argument is a local variable and the leading character of the search pattern is not a wildcard. The underlying index is a simple function-based B-Tree index on a varchar function, which has lower maintenance and storage costs than a full Oracle Text index. The index for <code class="codeph">orardf:like</code> is created as follows:
                        </p><pre class="pre codeblock"><code>EXECUTE SEM_APIS.ADD_DATATYPE_INDEX('http://xmlns.oracle.com/rdf/like');</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-71464CC4-1C03-48A4-9A4C-0E671FF8F16E" title="To query semantic data, use the SEM_MATCH table function.">Using the SEM_MATCH Table Function to Query Semantic Data</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="RDFRM187"></a><div class="props_rev_3"><a id="GUID-3986DFD4-F23A-4379-A859-9EA1F1582D43" name="GUID-3986DFD4-F23A-4379-A859-9EA1F1582D43"></a><h4 id="RDFRM-GUID-3986DFD4-F23A-4379-A859-9EA1F1582D43" class="sect4"><span class="enumeration_section">1.6.11 </span>Spatial Support
                  </h4>
                  <div>
                     <p>RDF Semantic Graph supports storage and querying of spatial geometry data through the OGC GeoSPARQL standard and through Oracle-specific SPARQL extensions. Geometry data can be stored as <code class="codeph">orageo:WKTLiteral</code>, <code class="codeph">ogc:wktLiteral</code>, or <code class="codeph">ogc:gmlLiteral</code> typed literals, and geometry data can be queried using several query functions for spatial operations. Spatial indexing for increased performance is also supported.
                     </p>
                     <p><code class="codeph">orageo</code> is a built-in prefix that expands to <code class="codeph">&lt;http://xmlns.oracle.com/rdf/geo/&gt;</code>, <code class="codeph">ogc</code> is a built-in prefix that expands to <code class="codeph">&lt;http://www.opengis.net/ont/geosparql#&gt;</code>, and <code class="codeph">ogcf</code> is a built-in prefix that expands to <code class="codeph">&lt;http://www.opengis.net/def/function/geosparql&gt;</code>.
                     </p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-2B9CE00F-A510-4551-809D-BD7A3A7B6CE9">OGC GeoSPARQL Support</a><br></li>
                        <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-4E342E2A-73EF-42D4-80BD-AE8BEF5C6910">Representing Spatial Data in RDF</a><br></li>
                        <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-145759EB-11BA-4E6A-80FC-F94D3B46E2F7">Validating Geometries</a><br></li>
                        <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-DA58230A-963B-4694-ACD0-46C717CFBF61">Indexing Spatial Data</a><br></li>
                        <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-8B06DBF2-7674-4DF5-9AA4-47663B03B5B2">Querying Spatial Data</a><br></li>
                        <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-F56FDD59-2F76-4C4C-89F8-3B30DEC29991">Using Long Literals with GeoSPARQL Queries</a><br></li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-71464CC4-1C03-48A4-9A4C-0E671FF8F16E" title="To query semantic data, use the SEM_MATCH table function.">Using the SEM_MATCH Table Function to Query Semantic Data</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="RDFRM403"></a><div class="props_rev_3"><a id="GUID-2B9CE00F-A510-4551-809D-BD7A3A7B6CE9" name="GUID-2B9CE00F-A510-4551-809D-BD7A3A7B6CE9"></a><h5 id="RDFRM-GUID-2B9CE00F-A510-4551-809D-BD7A3A7B6CE9" class="sect5"><span class="enumeration_section">1.6.11.1 </span>OGC GeoSPARQL Support
                     </h5>
                     <div>
                        <p>RDF Semantic Graph supports the following conformance classes for the OGC GeoSPARQL standard (<a href="http://www.opengeospatial.org/standards/geosparql" target="_blank"><code class="codeph">http://www.opengeospatial.org/standards/geosparql</code></a>) using well-known text (WKT) serialization and the Simple Features relation family.
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Core</p>
                           </li>
                           <li>
                              <p>Topology Vocabulary Extension (<span class="italic">Simple Features</span>)
                              </p>
                           </li>
                           <li>
                              <p>Geometry Extension (<span class="italic">WKT, 1.2.0</span>)
                              </p>
                           </li>
                           <li>
                              <p>Geometry Topology Extension (<span class="italic">Simple Features, WKT, 1.2.0</span>)
                              </p>
                           </li>
                           <li>
                              <p>RDFS Entailment Extension (<span class="italic">Simple Features, WKT, 1.2.0</span>)
                              </p>
                           </li>
                        </ul>
                        <p>In addition, RDF Semantic Graph supports the following conformance classes for OGC GeoSPARQL using Geography Markup Language (GML) serialization and the Simple Features relation family.</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Core</p>
                           </li>
                           <li>
                              <p>Topology Vocabulary Extension (Simple Features)</p>
                           </li>
                           <li>
                              <p>Geometry Extension (GML, 3.1.1)</p>
                           </li>
                           <li>
                              <p>Geometry Topology Extension (Simple Features, GML, 3.1.1)</p>
                           </li>
                           <li>
                              <p>RDFS Entailment Extension (Simple Features, GML, 3.1.1)</p>
                           </li>
                        </ul>
                        <p>Specifics for representing and querying spatial data using GeoSPARQL are covered in sections that follow this one.</p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-3986DFD4-F23A-4379-A859-9EA1F1582D43">Spatial Support</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="RDFRM189"></a><a id="RDFRM404"></a><a id="RDFRM190"></a><a id="RDFRM188"></a><div class="props_rev_3"><a id="GUID-4E342E2A-73EF-42D4-80BD-AE8BEF5C6910" name="GUID-4E342E2A-73EF-42D4-80BD-AE8BEF5C6910"></a><h5 id="RDFRM-GUID-4E342E2A-73EF-42D4-80BD-AE8BEF5C6910" class="sect5"><span class="enumeration_section">1.6.11.2 </span>Representing Spatial Data in RDF
                     </h5>
                     <div>
                        <div class="section">
                           <p>Spatial geometries can be represented in RDF as <code class="codeph">orageo:WKTLiteral</code>, <code class="codeph">ogc:wktLiteral</code>, or <code class="codeph">ogc:gmlLiteral</code> typed literals.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-4E342E2A-73EF-42D4-80BD-AE8BEF5C6910__CIHBCHDC">
                           <p class="titleinexample">Example 1-81 Spatial Point Geometry Represented as orageo:WKTLiteral</p>
                           <p>The following example shows the <code class="codeph">orageo:WKTLiteral</code> encoding for a simple point geometry.
                           </p><pre class="oac_no_warn" dir="ltr">"Point(-83.4 34.3)"^^&lt;http://xmlns.oracle.com/rdf/geo/WKTLiteral&gt;</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-4E342E2A-73EF-42D4-80BD-AE8BEF5C6910__CIHFDHEG">
                           <p class="titleinexample">Example 1-82 Spatial Point Geometry Represented as ogc:wktLiteral</p>
                           <p>The following example shows the <code class="codeph">ogc:wktLiteral</code> encoding for the same point as in the preceding example.
                           </p><pre class="oac_no_warn" dir="ltr">"Point(-83.4 34.3)"^^&lt;http://www.opengis.net/ont/geosparql#wktLiteral&gt;
</pre><p>Both <code class="codeph">orageo:WKTLiteral</code> and <code class="codeph">ogc:wktLiteral</code> encodings consist of an optional spatial reference system URI, followed by a Well-Known Text (WKT) string that encodes a geometry value. The spatial reference system URI and the WKT string should be separated by a whitespace character. (<a id="d5269e10339" class="indexterm-anchor"></a>In this document the term <span class="italic"><span class="bold">geometry literal</span></span> is used to refer to both <code class="codeph">orageo:WKTLiteral</code> and <code class="codeph">ogc:wktLiteral</code> typed literals.)
                           </p>
                           <p>Supported spatial reference system URIs have the following form <code class="codeph">&lt;http://www.opengis.net/def/crs/EPSG/0/{srid}&gt;</code>, where <code class="codeph">{srid}</code> is a valid spatial reference system ID defined by the European Petroleum Survey Group (EPSG). For URIs that are not in the EPSG Geodetic Parameter Dataset, the spatial reference system URIs used have the form <code class="codeph">&lt;http://xmlns.oracle.com/rdf/geo/srid/{srid}&gt;</code>., where <code class="codeph">{srid}</code> is a valid spatial reference system ID from Oracle Spatial and Graph. If a geometry literal value does not include a spatial reference system URI, then the default spatial reference system, WGS84 Longitude-Latitude (URI <code class="codeph">&lt;http://www.opengis.net/def/crs/OGC/1.3/CRS84&gt;</code>), is used. The same default spatial reference system is used when geometry literal values are encountered in a query string.
                           </p>
                        </div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-4E342E2A-73EF-42D4-80BD-AE8BEF5C6910__GUID-BF0E2394-2195-4D94-B286-B5D65396C2D2">
                           <p class="titleinexample">Example 1-83 Spatial Point Geometry Represented as ogc:gmlLiteral</p>
                           <p>The following example shows the <code class="codeph">ogc:gmlLiteral</code> encoding for a point geometry.
                           </p><pre class="oac_no_warn" dir="ltr">"&lt;gml:Point srsName=\"urn:ogc:def:crs:EPSG::8307\" xmlns:gml=\"http://www.opengis.net/gml\"&gt;&lt;gml:posList srsDimension=\"2\"&gt;-83.4 34.3&lt;/gml:posList&gt;&lt;/gml:Point&gt;"^^&lt;http://www.opengis.net/ont/geosparql#gmlLiteral&gt;</pre><p><code class="codeph">ogc:gmlLiteral</code> encodings consist of a valid element from the GML schema that implements a subtype of GM_Object. In contrast to WKT literals, A GML encoding explicitly includes spatial reference system information, so a spatial reference system URI prefix is not needed.
                           </p>
                           <p>Several geometry types can be represented as geometry literal values, including point, linestring, polygon, polyhedral surface, triangle, TIN, multipoint, multi-linestring, multipolygon, and geometry collection. Up to 500,000 vertices per geometry are supported for two-dimensional geometries.</p>
                        </div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-4E342E2A-73EF-42D4-80BD-AE8BEF5C6910__CIHDGJCD">
                           <p class="titleinexample">Example 1-84 Spatial Data Encoded Using orageo:WKTLiteral Values</p>
                           <p>The following example shows some RDF spatial data (in N-triple format) encoded using <code class="codeph">orageo:WKTLiteral</code> values. In this example, the first two geometries (in lot1) use the default coordinate system (SRID 8307), but the other two geometries (in lot2) specify SRID 8265.
                           </p><pre class="oac_no_warn" dir="ltr"># spatial data for lot1 using the default WGS84 Longitude-Latitude spatial reference system
&lt;urn:lot1&gt; &lt;urn:hasExactGeometry&gt; "Polygon((-83.6 34.1, -83.6 34.5, -83.2 34.5, -83.2 34.1, -83.6 34.1))"^^&lt;http://xmlns.oracle.com/rdf/geo/WKTLiteral&gt; .
&lt;urn:lot1&gt; &lt;urn:hasPointGeometry&gt; "Point(-83.4 34.3)"^^&lt;http://xmlns.oracle.com/rdf/geo/WKTLiteral&gt; .
# spatial data for lot2 using the NAD83 Longitude-Latitude spatial reference system
&lt;urn:lot2&gt; &lt;urn:hasExactGeometry&gt; "&lt;http://xmlns.oracle.com/rdf/geo/srid/8265&gt; Polygon((-83.6  34.1, -83.6 34.3, -83.4 34.3, -83.4 34.1, -83.6 34.1))"^^&lt;http://xmlns.oracle.com/rdf/geo/WKTLiteral&gt; .
&lt;urn:lot2&gt; &lt;urn:hasPointGeometry&gt; "&lt;http://xmlns.oracle.com/rdf/geo/srid/8265&gt; Point(-83.5 34.2)"^^&lt;http://xmlns.oracle.com/rdf/geo/WKTLiteral&gt; .
</pre><p>For more information, see the chapter about coordinate systems (spatial reference systems) in <a href="../spatl/coordinate-systems-concepts.html#SPATL050" target="_blank"><span class="italic">Oracle Spatial and Graph Developer's Guide</span></a>. See also the material about the WKT geometry representation in the Open Geospatial Consortium (OGC) Simple Features document, available at: <a href="http://www.opengeospatial.org/standards/sfa" target="_blank"><code class="codeph">http://www.opengeospatial.org/standards/sfa</code></a></p>
                        </div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-3986DFD4-F23A-4379-A859-9EA1F1582D43">Spatial Support</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="props_rev_3"><a id="GUID-145759EB-11BA-4E6A-80FC-F94D3B46E2F7" name="GUID-145759EB-11BA-4E6A-80FC-F94D3B46E2F7"></a><h5 id="RDFRM-GUID-145759EB-11BA-4E6A-80FC-F94D3B46E2F7" class="sect5"><span class="enumeration_section">1.6.11.3 </span>Validating Geometries
                     </h5>
                     <div>
                        <p>Before manipulating spatial data, you should check that there are no invalid geometry literals stored in your RDF model. The procedure <a href="SEM_APIS-reference.html#GUID-ADB36ECB-856D-4140-8655-98F44C7243D2">SEM_APIS.VALIDATE_GEOMETRIES</a> allows verifying geometries in an RDF model. The geometries are validated using an input SRID and tolerance value. (SRID and tolerance are explained in <a href="rdf-semantic-graph-overview.html#GUID-DA58230A-963B-4694-ACD0-46C717CFBF61">Indexing Spatial Data</a>.)
                        </p>
                        <p>If there are invalid geometries, a table with name {model_name}_IVG$, is created in the user schema, where {model_name} is the name of the RDF model specified. Such table contains, for each invalid geometry literal, the value_id of the geometry literal in the RDF_VALUE$ table, the error message explaining the reason the geometry is not valid and a corrected geometry literal if the geometry can be rectified. For more information about geometry validation, see  the reference information for the Oracle Spatial and Graph subprograms <a href="../spatl/SDO_GEOM-reference.html#SPATL1131" target="_blank">SDO_GEOM.VALIDATE_GEOMETRY_WITH_CONTEXT</a> and <a href="../spatl/SDO_GEOM-reference.html#SPATL1132" target="_blank">SDO_GEOM.VALIDATE_LAYER_WITH_CONTEXT</a>.
                        </p>
                        <div class="example" id="GUID-145759EB-11BA-4E6A-80FC-F94D3B46E2F7__VALIDATINGGEOMETRIESINAMODEL-E143944B">
                           <p class="titleinexample">Example 1-85 Validating Geometries in a Model</p>
                           <p>The following example validates a model <code class="codeph">m</code>, using <code class="codeph">SRID=8307</code> and <code class="codeph">tolerance=0.1</code>.
                           </p><pre class="oac_no_warn" dir="ltr">-- Validate
EXECUTE sem_apis.validate_geometries(model_name=&gt;'m',SRID=&gt;8307,tolerance=&gt;0.1, network_owner=&gt;'RDFUSER', network_name=&gt;'NET1');-- Check for invalid geometries
SELECT original_vid, error_msg, corrected_wkt_literal FROM M_IVG$;
</pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-3986DFD4-F23A-4379-A859-9EA1F1582D43">Spatial Support</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="RDFRM192"></a><a id="RDFRM191"></a><div class="props_rev_3"><a id="GUID-DA58230A-963B-4694-ACD0-46C717CFBF61" name="GUID-DA58230A-963B-4694-ACD0-46C717CFBF61"></a><h5 id="RDFRM-GUID-DA58230A-963B-4694-ACD0-46C717CFBF61" class="sect5"><span class="enumeration_section">1.6.11.4 </span>Indexing Spatial Data
                     </h5>
                     <div>
                        <p>Before you can use any of the SPARQL extension functions (introduced in <a href="rdf-semantic-graph-overview.html#GUID-8B06DBF2-7674-4DF5-9AA4-47663B03B5B2">Querying Spatial Data</a>) to query spatial data, you must create a spatial index on the RDF network by calling the <a href="SEM_APIS-reference.html#GUID-3984C866-8524-458E-B858-43B0339E6629">SEM_APIS.ADD_DATATYPE_INDEX</a> procedure.
                        </p>
                        <p>When you create the spatial index, you must specify the following information:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>SRID - The ID for the spatial reference system in which to create the spatial index. Any valid spatial reference system ID from Oracle Spatial and Graph can be used as an SRID value.</p>
                           </li>
                           <li>
                              <p>TOLERANCE &#x2013; The tolerance value for the spatial index. Tolerance is a positive number indicating how close together two points must be to be considered the same point. The units for this value are determined by the default units for the SRID used (for example, meters for WGS84 Long-Lat). Tolerance is explained in detail in <a href="../spatl/spatial-concepts.html#SPATL450" target="_blank"><span class="italic">Oracle Spatial and Graph Developer's Guide</span></a>.
                              </p>
                           </li>
                           <li>
                              <p>DIMENSIONS - A text string encoding dimension information for the spatial index. Each dimension is represented by a sequence of three comma-separated values: name, minimum value, and maximum value. Each dimension is enclosed in parentheses, and the set of dimensions is enclosed by an outer parenthesis.</p>
                           </li>
                        </ul>
                        <div class="example" id="GUID-DA58230A-963B-4694-ACD0-46C717CFBF61__CIHJGJHB">
                           <p class="titleinexample">Example 1-86 Adding a Spatial Data Type Index on RDF Data</p>
                           <p><a href="rdf-semantic-graph-overview.html#GUID-DA58230A-963B-4694-ACD0-46C717CFBF61__CIHJGJHB">Example 1-86</a> adds a spatial data type index on the RDF network, specifying the WGS84 Longitude-Latitude spatial reference system, a tolerance value of 0.1, and the recommended dimensions for the indexing of spatial data that uses this coordinate system. The TOLERANCE, SRID, and DIMENSIONS keywords are case sensitive, and creating a data type index for <code class="codeph">&lt;http://xmlns.oracle.com/rdf/geo/WKTLiteral&gt;</code> will also index <code class="codeph">&lt;http://www.opengis.net/ont/geosparql#wktLiteral&gt;</code> geometry literals, and vice versa (that is, creating a data type index for <code class="codeph">&lt;http://www.opengis.net/ont/geosparql#wktLiteral&gt;</code> will also index <code class="codeph">&lt;http://xmlns.oracle.com/rdf/geo/WKTLiteral&gt;</code> geometry literals).
                           </p><pre class="oac_no_warn" dir="ltr">EXECUTE sem_apis.add_datatype_index('http://xmlns.oracle.com/rdf/geo/WKTLiteral',  options=&gt;'TOLERANCE=10 SRID=8307 DIMENSIONS=((LONGITUDE,-180,180) (LATITUDE,-90,90))', network_owner=&gt;'RDFUSER', network_name=&gt;'NET1');</pre><p>No more than one spatial data type index is supported for an RDF network. Geometry literal values stored in the RDF network are automatically normalized to the spatial reference system used for the index, so a single spatial index can simultaneously support geometry literal values from different spatial reference systems. This coordinate transformation is done transparently for indexing and spatial computations. When geometry literal values are returned from a SEM_MATCH query, the original, untransformed geometry is returned.</p>
                           <p>For more information about spatial indexing, see the chapter about indexing and querying spatial data in <a href="../spatl/indexing-querying-spatial-data.html#SPATL040" target="_blank"><span class="italic">Oracle Spatial and Graph Developer's Guide</span></a>.
                           </p>
                        </div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-DA58230A-963B-4694-ACD0-46C717CFBF61__GUID-FA426AD6-E0CF-463B-AF0D-1E7327B97076">
                           <p class="titleinexample">Example 1-87 Adding a Spatial Data Type Materialized Index on RDF Data</p>
                           <p>When you manipulate spatial data, conversions from geometry literals to geometry objects may be needed, but several conversions may lead to poor performance. To avoid this situation, all the stored geometry literals can be transformed into SDO_GEOMETRY objects and materialized at index creation time. </p>
                           <p>This can be achieved using the <code class="codeph">MATERIALIZE=T</code> option when adding a spatial data type index. If the amount of geometry literals to be indexed is very large, using the option <code class="codeph">INS_AS_SEL=T</code> may help to speed up the materialized index creation.
                           </p>
                           <p>The following example shows the creation of a materialized spatial index.</p><pre class="pre codeblock"><code>EXECUTE sem_apis.add_datatype_index('http://xmlns.oracle.com/rdf/geo/WKTLiteral',  options=&gt;'TOLERANCE=0.1 SRID=8307 DIMENSIONS=((LONGITUDE,-180,180) (LATITUDE,-90,90)) <span class="bold">MATERIALIZE=T</span> ');</code></pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-DA58230A-963B-4694-ACD0-46C717CFBF61__GUID-0F050530-EDA0-404E-9747-F535D32BD05E">
                           <p class="titleinexample">Example 1-88 Adding a 3D Spatial Data Type Index on RDF Data</p>
                           <p>Spatial indexes with three coordinates can be created in Oracle Spatial and Graph. To create a 3D index, you must specify SDO_INDX_DIMS=3 option in the options argument of the <a href="SEM_APIS-reference.html#GUID-3984C866-8524-458E-B858-43B0339E6629">SEM_APIS.ADD_DATATYPE_INDEX</a> procedure. 
                           </p>
                           <p>The following example shows creation and indexing of 3D data. Note that coordinates are specified in (X, Y, Z) order, and linear rings for outer polygon boundaries are given in counter-clockwise order.</p>
                           <p>Note: For information about support for geometry operations with 3D data, including any restrictions, see <a href="../spatl/spatial-concepts.html#SPATL468" target="_blank">Three Dimensional Spatial Objects</a>.
                           </p><pre class="pre codeblock"><code>conn rdfuser/&lt;password&gt;;

create table geo3d_tab(tri sdo_rdf_triple_s);

exec sem_apis.create_sem_model('geo3d','geo3d_tab','tri');

-- 3D Polygon
insert into geo3d_tab(tri) values(sdo_rdf_triple_s('geo3d','&lt;http://example.org/ApplicationSchema#A&gt;', '&lt;http://example.org/ApplicationSchema#hasExactGeometry&gt;', '&lt;http://example.org/ApplicationSchema#AExactGeom&gt;'));
insert into geo3d_tab(tri) values(sdo_rdf_triple_s('geo3d','&lt;http://example.org/ApplicationSchema#AExactGeom&gt;', '&lt;http://www.opengis.net/ont/geosparql#asWKT&gt;', '"&lt;http://xmlns.oracle.com/rdf/geo/srid/31468&gt; Polygon ((4467504.578 5333958.396 513.9, 4467508.939 5333956.379 513.9, 4467509.736 5333958.101 513.9, 4467505.374 5333960.118 513.9, 4467504.578 5333958.396 513.9))"^^&lt;http://xmlns.oracle.com/rdf/geo/WKTLiteral&gt;'));

-- 3D Point at same elevation as Polygon
insert into geo3d_tab(tri) values(sdo_rdf_triple_s('geo3d','&lt;http://example.org/ApplicationSchema#B&gt;', '&lt;http://example.org/ApplicationSchema#hasExactGeometry&gt;', '&lt;http://example.org/ApplicationSchema#BExactGeom&gt;'));
insert into geo3d_tab(tri) values(sdo_rdf_triple_s('geo3d','&lt;http://example.org/ApplicationSchema#BExactGeom&gt;', '&lt;http://www.opengis.net/ont/geosparql#asWKT&gt;', '"&lt;http://xmlns.oracle.com/rdf/geo/srid/31468&gt; Point (4467505.000 5333959.000 513.9)"^^&lt;http://xmlns.oracle.com/rdf/geo/WKTLiteral&gt;'));

-- 3D Point at different elevation from Polygon
insert into geo3d_tab(tri) values(sdo_rdf_triple_s('geo3d','&lt;http://example.org/ApplicationSchema#C&gt;', '&lt;http://example.org/ApplicationSchema#hasExactGeometry&gt;', '&lt;http://example.org/ApplicationSchema#CExactGeom&gt;'));
insert into geo3d_tab(tri) values(sdo_rdf_triple_s('geo3d','&lt;http://example.org/ApplicationSchema#CExactGeom&gt;', '&lt;http://www.opengis.net/ont/geosparql#asWKT&gt;', '"&lt;http://xmlns.oracle.com/rdf/geo/srid/31468&gt; Point (4467505.000 5333959.000 13.9)"^^&lt;http://xmlns.oracle.com/rdf/geo/WKTLiteral&gt;'));
commit;

-- Create 3D index
conn system/manager;
exec sem_apis.add_datatype_index('http://xmlns.oracle.com/rdf/geo/WKTLiteral' ,options=&gt;'TOLERANCE=0.1 SRID=3148 DIMENSIONS=((x,4386596.4101,4613610.5843) (y,5237914.5325,6104496.9694) (z,0,10000)) SDO_INDX_DIMS=3 ');

conn rdfuser/rdfuser;
-- Find geometries within 200 M of my:A
-- Returns only one point because of 3D index
SELECT aGeom, f, fGeom, aWKT, fWKT
FROM TABLE(SEM_MATCH(
 '{ my:A my:hasExactGeometry ?aGeom .
     ?aGeom ogc:asWKT ?aWKT .
     ?f my:hasExactGeometry ?fGeom .
     ?fGeom ogc:asWKT ?fWKT .
     FILTER (orageo:withinDistance(?aWKT, ?fWKT,200,"M") &amp;&amp;
             !sameTerm(?aGeom,?fGeom))
   }',
 SEM_Models('geo3d'),
 null,
 SEM_ALIASES(
  SEM_ALIAS('my','http://example.org/ApplicationSchema#')),
 null));
</code></pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-3986DFD4-F23A-4379-A859-9EA1F1582D43">Spatial Support</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="RDFRM193"></a><div class="props_rev_3"><a id="GUID-8B06DBF2-7674-4DF5-9AA4-47663B03B5B2" name="GUID-8B06DBF2-7674-4DF5-9AA4-47663B03B5B2"></a><h5 id="RDFRM-GUID-8B06DBF2-7674-4DF5-9AA4-47663B03B5B2" class="sect5"><span class="enumeration_section">1.6.11.5 </span>Querying Spatial Data
                     </h5>
                     <div>
                        <p>Several SPARQL extension functions are available for performing spatial queries in SEM_MATCH. For example, for spatial RDF data, you can find the area and perimeter (length) of a geometry, the distance between two geometries, and the centroid and the minimum bounding rectangle (MBR) of a geometry, and you can check various topological relationships between geometries.</p>
                        <p><a href="SEM_MATCH-spatial.html#GUID-BAB8E8F0-974E-44F7-813A-D3A96BF00399" title="This appendix provides reference information for SPARQL extension functions for performing spatial queries in SEM_MATCH.">SEM_MATCH Support for Spatial Queries</a> contains reference and usage information about the available functions, including:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>GeoSPARQL functions</p>
                           </li>
                           <li>
                              <p>Oracle-specific functions</p>
                           </li>
                        </ul>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-3986DFD4-F23A-4379-A859-9EA1F1582D43">Spatial Support</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="props_rev_3"><a id="GUID-F56FDD59-2F76-4C4C-89F8-3B30DEC29991" name="GUID-F56FDD59-2F76-4C4C-89F8-3B30DEC29991"></a><h5 id="RDFRM-GUID-F56FDD59-2F76-4C4C-89F8-3B30DEC29991" class="sect5"><span class="enumeration_section">1.6.11.6 </span>Using Long Literals with GeoSPARQL Queries
                     </h5>
                     <div>
                        <p>Geometry literals can become very long, which make the use of CLOBs necessary to represent them. CLOB constants cannot be used directly in a SEM_MATCH query. However, a user-defined SPARQL function can be used to bind CLOB constants into SEM_MATCH queries. </p>
                        <p>The following example does this by using a temporary table.</p>
                        <div class="example" id="GUID-F56FDD59-2F76-4C4C-89F8-3B30DEC29991__GUID-C5DCCD34-1B20-4D89-90DA-9CC968598D6E">
                           <p class="titleinexample">Example 1-89 Binding a CLOB Constant into a SPARQL Query</p><pre class="pre codeblock"><code>conn rdfuser/&lt;password&gt;;

-- Create temporary table
create global temporary table local_value$(
 VALUE_TYPE 	 VARCHAR2(10),
 VALUE_NAME     VARCHAR2(4000),
 LITERAL_TYPE	 VARCHAR2(1000),
 LANGUAGE_TYPE	 VARCHAR2(80),
 LONG_VALUE 	 CLOB)
on commit preserve rows;

-- Create user-defined function to transform a CLOB into an RDF term
CREATE OR REPLACE FUNCTION myGetClobTerm
RETURN MDSYS.SDO_RDF_TERM
AS
  term	     SDO_RDF_TERM;
BEGIN
  select sdo_rdf_term(
      value_type,
      value_name,
      literal_type,
      language_type,
      long_value)
  into term
  from local_value$
  where rownum &lt; 2;

  RETURN term;
END;
/

-- Insert a row with CLOB geometry
insert into local_value$(value_type,value_name,literal_type,language_type,long_value)
values ('LIT','','http://www.opengis.net/ont/geosparql#wktLiteral','','Some_CLOB_WKT');

-- Use the CLOB constant in a SEM_MATCH query
SELECT cdist
FROM table(sem_match(
'{ ?cdist ogc:asWKT ?cgeom 
   FILTER (
     orageo:withinDistance(?cgeom, oraextf:myGetClobTerm(), 200, "M")) }'
,sem_models('gov_all_vm')
,null, null, null, null, ' ALLOW_DUP=T ', null, null
,'RDFUSER', 'NET1'));
</code></pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-3986DFD4-F23A-4379-A859-9EA1F1582D43">Spatial Support</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-1B5F0236-84C5-46BF-8B43-B8F74A0F67CA" name="GUID-1B5F0236-84C5-46BF-8B43-B8F74A0F67CA"></a><h4 id="RDFRM-GUID-1B5F0236-84C5-46BF-8B43-B8F74A0F67CA" class="sect4"><span class="enumeration_section">1.6.12 </span>Flashback Query Support
                  </h4>
                  <div>
                     <p>You can perform SEM_MATCH queries that return past data using Flashback Query. A TIMESTAMP or a System Change Number (SCN) value is passed to SEM_MATCH through the AS_OF hint. The AS_OF hint can have one of the following forms:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">AS_OF[TIMESTAMP,&lt;TIMESTAMP_VALUE&gt;]</code>, where  &lt;TIMESTAMP_VALUE&gt; is a valid timestamp string with format 'YYYY/MM/DD HH24:MI:SS.FF'.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">AS_OF[SCN,&lt;SCN_VALUE&gt;]</code>, where &lt;SCN_VALUE&gt; is a valid SCN.
                           </p>
                        </li>
                     </ul>
                     <p>The AS_OF hint is internally transformed to perform a Flashback Query (SELECT AS OF) against the queried table or view containing triples of the specified model. This allows you to query the model as it existed in a prior time. For this feature to work, the invoker needs a flashback privilege on the queried metadata table or view (RDFM_<span class="italic">model-name</span> view for native models, SEMU_<span class="italic">virtual-model-name</span> and SEMV_<span class="italic">virtual-model-name</span> for virtual models, and underlying relational tables for RDF view models). For example: <code class="codeph">grant flashback on RDFUSER.NET1#RDFM_FAMILY to scott</code></p>
                     <div class="section">
                        <p class="subhead3" id="GUID-1B5F0236-84C5-46BF-8B43-B8F74A0F67CA__GUID-3CD7E017-0969-47FB-A820-9B6CCF266F3B"><span class="bold">Restrictions on Using Flashback Query with RDF Data</span></p>
                        <p>Adding or removing a partition from a partitioned table disables Flashback Query for previous versions of the partitioned table. As a consequence, creating or dropping a native RDF model or creating or dropping an entailment will disable Flashback Query for previous versions of all native RDF models in a semantic network. Therefore, be sure to control such operations when using Flashback Query in a semantic network.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-1B5F0236-84C5-46BF-8B43-B8F74A0F67CA__FULL-TEXTSEARCH-131DA8C8">
                        <p class="titleinexample">Example 1-90 Flashback Query Using TIMESTAMP</p>
                        <p>The following example shows the use of the AS_OF clause defining a TIMESTAMP.</p><pre class="oac_no_warn" dir="ltr">SELECT x, name
  FROM TABLE(SEM_MATCH(
    'PREFIX : &lt;http://www.example.org/family/&gt;
     SELECT * 
     WHERE { ?x :name ?name }',
    SEM_Models('family'),
    null, null,
    null,null,' <span class="bold">AS_OF=[TIMESTAMP,2016/05/02 13:06:03.979546]</span>', 
    null, null,
    'RDFUSER', 'NET1'));
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-1B5F0236-84C5-46BF-8B43-B8F74A0F67CA__FLASHBACKQUERYUSINGTIMESTAMP-131DE387">
                        <p class="titleinexample">Example 1-91 Flashback Query Using SCN</p>
                        <p>The following example shows the use of the AS_OF clause specifying an SCN.</p><pre class="oac_no_warn" dir="ltr">SELECT x, name
  FROM TABLE(SEM_MATCH(
    'PREFIX : &lt;http://www.example.org/family/&gt;
     SELECT * 
     WHERE { ?x :name ?name }',
    SEM_Models('family'),
    null, null,
    null,null,' <span class="bold">AS_OF=[SCN,1429849]'</span>, 
    null, null,
    'RDFUSER', 'NET1'));
</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-71464CC4-1C03-48A4-9A4C-0E671FF8F16E" title="To query semantic data, use the SEM_MATCH table function.">Using the SEM_MATCH Table Function to Query Semantic Data</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="RDFRM194"></a><div class="props_rev_3"><a id="GUID-E04ABC63-304C-4706-812B-D54448FCE55C" name="GUID-E04ABC63-304C-4706-812B-D54448FCE55C"></a><h4 id="RDFRM-GUID-E04ABC63-304C-4706-812B-D54448FCE55C" class="sect4"><span class="enumeration_section">1.6.13 </span>Best Practices for Query Performance
                  </h4>
                  <div>
                     <p>This section describes some recommended practices for using the SEM_MATCH table function to query semantic data. It includes the following subsections:</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-8B59A883-5B8A-4795-9DF2-1D1D5B75061B">FILTER Constructs Involving xsd:dateTime, xsd:date, and xsd:time</a><br></li>
                        <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-6ABE2BD3-1E3A-4BF9-886B-683C63C87F26">Function-Based Indexes for FILTER Constructs Involving Typed Literals</a><br></li>
                        <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-D3468276-4135-4A16-86F7-BBAC53EF4DBC">FILTER Constructs Involving Relational Expressions</a><br></li>
                        <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-D6C08F5C-6B46-430B-A902-4C1BC442A793">Optimizer Statistics and Dynamic Sampling</a><br></li>
                        <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-C33B0D3C-7FC8-4282-BDC8-5F52C5828C6A">Multi-Partition Queries</a><br></li>
                        <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-E762DC62-BBE2-4EF8-AC7E-9AD97F26F485">Compression on Systems with OLTP Index Compression</a><br></li>
                        <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-B5010FED-14D9-4DF4-846D-B08F530DFF89">Unbounded Property Path Expressions</a><br></li>
                        <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-9E90F261-96A3-4F9E-9F39-3315EF394AD9">Nested Loop Pushdown for Property Paths</a><br></li>
                        <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-A3D3A5F1-EF74-4BAC-BF58-59506A457019">Grouping and Aggregation</a><br></li>
                        <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-378DE8E5-869D-45C5-86CE-B09EA74C762A">Use of Bind Variables to Reduce Compilation Time</a><br></li>
                        <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-D88A1B03-A6A7-45BF-827F-579329C10F1E">Non-Null Expression Hints</a><br></li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-71464CC4-1C03-48A4-9A4C-0E671FF8F16E" title="To query semantic data, use the SEM_MATCH table function.">Using the SEM_MATCH Table Function to Query Semantic Data</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="RDFRM195"></a><div class="props_rev_3"><a id="GUID-8B59A883-5B8A-4795-9DF2-1D1D5B75061B" name="GUID-8B59A883-5B8A-4795-9DF2-1D1D5B75061B"></a><h5 id="RDFRM-GUID-8B59A883-5B8A-4795-9DF2-1D1D5B75061B" class="sect5"><span class="enumeration_section">1.6.13.1 </span>FILTER Constructs Involving xsd:dateTime, xsd:date, and xsd:time
                     </h5>
                     <div>
                        <p>By default, SEM_MATCH complies with the XML Schema standard for comparison of xsd:date, xsd:time, and xsd:dateTime values. According to this standard, when comparing two calendar values c1 and c2 where c1 has an explicitly specified time zone and c2 does not have a specified time zone, c2 is converted into the interval [c2-14:00, c2+14:00]. If c2-14:00 &lt;= c1 &lt;= c2+14:00, then the comparison is undefined and will always evaluate to false. If c1 is outside this interval, then the comparison is defined.</p>
                        <p>However, the extra logic required to evaluate such comparisons (value with a time zone and value without a time zone) can significantly slow down queries with FILTER constructs that involve calendar values. For improved query performance, you can disable this extra logic by specifying <code class="codeph">FAST_DATE_FILTER=T</code> in the <code class="codeph">options</code> parameter of the SEM_MATCH table function. When <code class="codeph">FAST_DATE_FILTER=T</code> is specified, all calendar values without time zones are assumed to be in Greenwich Mean Time (GMT).
                        </p>
                        <p>Note that using <code class="codeph">FAST_DATE_FILTER=T</code> does <span class="italic">not</span> affect query <span class="italic">correctness</span> when either (1) all calendar values in the data set have a time zone or (2) all calendar values in the data set do not have a time zone.
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-E04ABC63-304C-4706-812B-D54448FCE55C">Best Practices for Query Performance</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="RDFRM196"></a><div class="props_rev_3"><a id="GUID-6ABE2BD3-1E3A-4BF9-886B-683C63C87F26" name="GUID-6ABE2BD3-1E3A-4BF9-886B-683C63C87F26"></a><h5 id="RDFRM-GUID-6ABE2BD3-1E3A-4BF9-886B-683C63C87F26" class="sect5"><span class="enumeration_section">1.6.13.2 </span>Function-Based Indexes for FILTER Constructs Involving Typed Literals
                     </h5>
                     <div>
                        <p>The evaluation of SEM_MATCH queries involving the FILTER construct often requires executing one or more SQL functions against the RDF_VALUE$ table. For example, the filter <code class="codeph">(?x &lt; "1929-11-16Z"^^xsd:date)</code> invokes the <a href="SEM_APIS-reference.html#GUID-957DBCED-4B78-4A5F-BB6F-79F0283BC9A8">SEM_APIS.GETV$DATETZVAL</a> function.
                        </p>
                        <p>Function-based indexes can be used to improve the performance of queries that contain a filter condition involving a typed literal. For example, an <code class="codeph">xsd:date</code> function-based index may speed up evaluation of the filter <code class="codeph">(?x &lt; "1929-11-16Z"^^xsd:date)</code>.
                        </p>
                        <p>Convenient interfaces are provided for creating, altering, and dropping these function-based indexes. For more information, see <a href="rdf-semantic-graph-overview.html#GUID-E0FC3EA3-9385-4D94-AB3C-72F65EDAC966" title="Data type indexes are indexes on the values of typed literals stored in a semantic network.">Using Data Type Indexes</a>.
                        </p>
                        <p>Note, however, that the existence of these function-based indexes on the RDF_VALUE$ table can significantly slow down bulk load operations. In many cases it may be faster to drop the indexes, perform the bulk load, and then re-create the indexes, as opposed to doing the bulk load with the indexes in place.</p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-E04ABC63-304C-4706-812B-D54448FCE55C">Best Practices for Query Performance</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="RDFRM197"></a><div class="props_rev_3"><a id="GUID-D3468276-4135-4A16-86F7-BBAC53EF4DBC" name="GUID-D3468276-4135-4A16-86F7-BBAC53EF4DBC"></a><h5 id="RDFRM-GUID-D3468276-4135-4A16-86F7-BBAC53EF4DBC" class="sect5"><span class="enumeration_section">1.6.13.3 </span>FILTER Constructs Involving Relational Expressions
                     </h5>
                     <div>
                        <p>The following recommendations apply to FILTER constructs involving relational expressions:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a id="d5269e11131" class="indexterm-anchor"></a>The <code class="codeph">sameCanonTerm</code> extension function is the most efficient way to compare two RDF terms for equality because it allows an id-based comparison in all cases.
                              </p>
                           </li>
                           <li>
                              <p><a id="d5269e11139" class="indexterm-anchor"></a>When using standard SPARQL features, the <code class="codeph">sameTerm</code> built-in function is more efficient than using <code class="codeph">=</code> or <code class="codeph">!=</code> when comparing two variables in a FILTER clause, so (for example) use <code class="codeph">sameTerm(?a, ?b)</code> instead of <code class="codeph">(?a = ?b)</code> and use <code class="codeph">(!sameTerm(?a, ?b))</code> instead of <code class="codeph">(?a != ?b)</code> whenever possible.
                              </p>
                           </li>
                           <li>
                              <p>When comparing values in FILTER expressions, you may get better performance by reducing the use of negation. For example, it is more efficient to evaluate <code class="codeph">(?x &lt;= "10"^^xsd:int)</code> than it is to evaluate the expression <code class="codeph">(!(?x &gt; "10"^^xsd:int))</code>.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-E04ABC63-304C-4706-812B-D54448FCE55C">Best Practices for Query Performance</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="RDFRM199"></a><a id="RDFRM198"></a><div class="props_rev_3"><a id="GUID-D6C08F5C-6B46-430B-A902-4C1BC442A793" name="GUID-D6C08F5C-6B46-430B-A902-4C1BC442A793"></a><h5 id="RDFRM-GUID-D6C08F5C-6B46-430B-A902-4C1BC442A793" class="sect5"><span class="enumeration_section">1.6.13.4 </span>Optimizer Statistics and Dynamic Sampling
                     </h5>
                     <div>
                        <p>Having sufficient statistics for the query optimizer is critical for good query performance. In general, you should ensure that you have gathered basic statistics for the semantic network using the <a href="SEM_PERF-reference.html#GUID-285D5640-9DF4-460B-B27E-7671711EFA18">SEM_PERF.GATHER_STATS</a> procedure (described in <a href="SEM_PERF-reference.html#GUID-5F5DD10C-4DF9-453B-88F8-3DA16C3B17CA" title="The SEM_PERF package contains subprograms for examining and enhancing the performance of the Resource Description Framework (RDF) and Web Ontology Language (OWL) support in an Oracle database."> SEM_PERF Package Subprograms</a>).
                        </p>
                        <p>Due to the inherent flexibility of the RDF data model, static information may not produce optimal execution plans for SEM_MATCH queries. Dynamic sampling can often produce much better query execution plans. Dynamic sampling levels can be set at the session or system level using the <code class="codeph">optimizer_dynamic_sampling</code> parameter, and at the individual query level using the <code class="codeph">dynamic_sampling</code><span class="italic"><code class="codeph">(level)</code></span> SQL query hint. In general, it is good to experiment with dynamic sampling levels between 3 and 6. For information about estimating statistics with dynamic sampling, see <a href="../tgsql/options-for-optimizer-statistics-gathering.html#TGSQL450" target="_blank"><span class="italic">Oracle Database SQL Tuning Guide</span></a>. 
                        </p>
                        <p><a href="rdf-semantic-graph-overview.html#GUID-D6C08F5C-6B46-430B-A902-4C1BC442A793__CIHBDHEJ">Example 1-92</a> uses a SQL hint for a dynamic sampling level of 6.
                        </p>
                        <div class="example" id="GUID-D6C08F5C-6B46-430B-A902-4C1BC442A793__CIHBDHEJ">
                           <p class="titleinexample">Example 1-92 SQL Hint for Dynamic Sampling</p><pre class="oac_no_warn" dir="ltr">SELECT <span class="bold">/*+ DYNAMIC_SAMPLING(6) */</span> x, y
  FROM TABLE(SEM_MATCH(
    'PREFIX : &lt;http://www.example.org/family/&gt;
     SELECT * 
     WHERE {
      ?x :grandParentOf ?y . 
      ?x rdf:type :Male . 
      ?x :birthDate ?bd }',
    SEM_Models('family'),
    SEM_Rulebases('RDFS','family_rb'), 
    null, null, null, '', null, null,
    'RDFUSER', 'NET1'));
</pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-E04ABC63-304C-4706-812B-D54448FCE55C">Best Practices for Query Performance</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="RDFRM201"></a><div class="props_rev_3"><a id="GUID-C33B0D3C-7FC8-4282-BDC8-5F52C5828C6A" name="GUID-C33B0D3C-7FC8-4282-BDC8-5F52C5828C6A"></a><h5 id="RDFRM-GUID-C33B0D3C-7FC8-4282-BDC8-5F52C5828C6A" class="sect5"><span class="enumeration_section">1.6.13.5 </span>Multi-Partition Queries
                     </h5>
                     <div>
                        <p>The following recommendations apply to the use of multiple semantic models, semantic models plus entailments, and virtual models:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>If you execute SEM_MATCH queries against multiple semantic models or against semantic models plus entailments, you can probably improve query performance if you create a virtual model (see <a href="rdf-semantic-graph-overview.html#GUID-8B957406-5ED1-4579-9C23-0EDE2FDF2964">Virtual Models</a>) that contains all the models and entailments you are querying and then query this single virtual model.
                              </p>
                           </li>
                           <li>
                              <p>Use the <code class="codeph">ALLOW_DUP=T</code> query option. If you do not use this option, then an expensive (in terms of processing) duplicate-elimination step is required during query processing, in order to maintain set semantics for RDF data. However, if you use this option, the duplicate-elimination step is not performed, and this results in significant performance gains.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-E04ABC63-304C-4706-812B-D54448FCE55C">Best Practices for Query Performance</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="RDFRM731"></a><div class="props_rev_3"><a id="GUID-E762DC62-BBE2-4EF8-AC7E-9AD97F26F485" name="GUID-E762DC62-BBE2-4EF8-AC7E-9AD97F26F485"></a><h5 id="RDFRM-GUID-E762DC62-BBE2-4EF8-AC7E-9AD97F26F485" class="sect5"><span class="enumeration_section">1.6.13.6 </span>Compression on Systems with OLTP Index Compression
                     </h5>
                     <div>
                        <p>On systems where OLTP index compression is supported (such as Exadata). you can take advantage of the feature to improve the compression ratio for some of the B-tree indexes used by the semantic network.</p>
                        <p>For example, a DBA can use the following command to change the compression scheme on the RDF_VAL_NAMETYLITLNG_IDX index from prefix compression to OLTP index compression:</p><pre class="oac_no_warn" dir="ltr">SQL&gt; alter index rdfuser.net1#RDF_VAL_NAMETYLITLNG_IDX rebuild compress for oltp high;</pre></div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-E04ABC63-304C-4706-812B-D54448FCE55C">Best Practices for Query Performance</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="RDFRM781"></a><div class="props_rev_3"><a id="GUID-B5010FED-14D9-4DF4-846D-B08F530DFF89" name="GUID-B5010FED-14D9-4DF4-846D-B08F530DFF89"></a><h5 id="RDFRM-GUID-B5010FED-14D9-4DF4-846D-B08F530DFF89" class="sect5"><span class="enumeration_section">1.6.13.7 </span>Unbounded Property Path Expressions
                     </h5>
                     <div>
                        <p>A depth-limited search should be used for + and * property path operators whenever possible. The depth-limited implementation for * and + is likely to significantly outperform the CONNECT BY-based implementation in large and/or highly connected graphs. A depth limit of 10 is used by default. For a given graph, depth limits larger than the graph's diameter are not useful. See <a href="rdf-semantic-graph-overview.html#GUID-A3F16175-AC4B-4B19-BF25-FD918760F18E">Property Paths</a> for more information on setting depth limits.
                        </p>
                        <p>A backward chaining style inference using <code class="codeph">rdfs:subClassOf+</code> for ontologies with very deep class hierarchies may be an exception to this rule. In such cases, unbounded CONNECT BY-based evaluations may perform better than depth-limited evaluations with very high depth limits (for example, 50).
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-E04ABC63-304C-4706-812B-D54448FCE55C">Best Practices for Query Performance</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="props_rev_3"><a id="GUID-9E90F261-96A3-4F9E-9F39-3315EF394AD9" name="GUID-9E90F261-96A3-4F9E-9F39-3315EF394AD9"></a><h5 id="RDFRM-GUID-9E90F261-96A3-4F9E-9F39-3315EF394AD9" class="sect5"><span class="enumeration_section">1.6.13.8 </span>Nested Loop Pushdown for Property Paths
                     </h5>
                     <div>
                        <p>If an unbounded CONNECT BY evaluation is performed for a property path, and if the subject of the property path triple pattern is a variable, a CONNECT BY WITHOUT FILTERING operation will most likely be used. If this subject variable is only bound to a small number of values during query execution, a nested loop strategy (see <a href="rdf-views.html#GUID-245C5211-81B9-4F3A-BFC8-C0D712137616">Nested Loop Pushdown with Overloaded Service</a>) could be a good option to run the query. In this case, the property path can be pushed down into an overloaded SERVICE clause and the OVERLOADED_NL=T hint can be used.
                        </p>
                        <p>For example, consider the following query where there is an unbounded property path search <code class="codeph">{ ?s :hasManager+ ?x }</code>, but the triple <code class="codeph">{ ?s :ename "ADAMS" }</code> only has a small number of possible values for <code class="codeph">?s</code>.
                        </p><pre class="pre codeblock"><code>select s, x
from table(sem_match(
'PREFIX : &lt;http://scott-hr.org#&gt;
 SELECT *
 WHERE {
   ?s :ename "ADAMS" .
   ?s :hasManager+ ?x .
 }',
sem_models('scott_hr_data'),
null,null,null,null,'  ALL_MAX_PP_DEPTH(0) ', null, null,
'RDFUSER', 'NET1'));
</code></pre><p>The query can be transformed to force the nested-loop strategy. Notice that the model specified in the SERVICE graph is the same as the model specified in the SEM_MATCH call.</p><pre class="pre codeblock"><code>select s, x
from table(sem_match(
'PREFIX : &lt;http://scott-hr.org#&gt;
 SELECT *
 WHERE {
   ?s :ename "ADAMS" .
   <span class="bold">service oram:scott_hr_data { ?s :hasManager+ ?x . }</span>
 }',
sem_models('scott_hr_data'),
null,null,null,null,'  ALL_MAX_PP_DEPTH(0) <span class="bold">OVERLOADED_NL=T</span> ', null, null,
'RDFUSER', 'NET1'));
</code></pre><p>With this nested-loop strategy, <code class="codeph">{ ?s :hasManager_ ?x }</code> is evaluated once for each value of <code class="codeph">?s</code>, and in each evaluation, a constant value is substituted for <code class="codeph">?s</code>. This constant in the subject position allows a CONNECT BY WITH FILTERING operation, which usually provides a substantial performance improvement.
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-E04ABC63-304C-4706-812B-D54448FCE55C">Best Practices for Query Performance</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="RDFRM783"></a><a id="RDFRM782"></a><div class="props_rev_3"><a id="GUID-A3D3A5F1-EF74-4BAC-BF58-59506A457019" name="GUID-A3D3A5F1-EF74-4BAC-BF58-59506A457019"></a><h5 id="RDFRM-GUID-A3D3A5F1-EF74-4BAC-BF58-59506A457019" class="sect5"><span class="enumeration_section">1.6.13.9 </span>Grouping and Aggregation
                     </h5>
                     <div>
                        <p><code class="codeph">MIN</code>, <code class="codeph">MAX</code> and <code class="codeph">GROUP_CONCAT</code> aggregates require special logic to fully capture SPARQL semantics for input of non-uniform type (for example, <code class="codeph">MAX(?x)</code>). For certain cases where a uniform input type can be determined at compile time (for example, <code class="codeph">MAX(STR(?x)) &#x2013;</code> plain literal input), optimizations for built-in SQL aggregates can be used. Such optimizations generally give an order of magnitude increase in performance. The following cases are optimized:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>MIN/MAX(&lt;plain literal&gt;)</p>
                           </li>
                           <li>
                              <p>MIN/MAX(&lt;numeric&gt;)</p>
                           </li>
                           <li>
                              <p>MIN/MAX(&lt;dateTime&gt;)</p>
                           </li>
                           <li>
                              <p>GROUP_CONCAT(&lt;plain literal&gt;)</p>
                           </li>
                        </ul>
                        <p><a href="rdf-semantic-graph-overview.html#GUID-A3D3A5F1-EF74-4BAC-BF58-59506A457019__CIHDEBJH">Example 1-93</a> uses MIN/MAX(&lt;numeric&gt;) optimizations.
                        </p>
                        <div class="example" id="GUID-A3D3A5F1-EF74-4BAC-BF58-59506A457019__CIHDEBJH">
                           <p class="titleinexample">Example 1-93 Aggregate Optimizations</p><pre class="oac_no_warn" dir="ltr">SELECT dept, minSal, maxSal
  FROM TABLE(SEM_MATCH(
    'SELECT ?dept <span class="bold">(MIN(xsd:decimal(?sal)) AS ?minSal) (MAX(xsd:decimal(?sal)) AS ?maxSal)</span>
     WHERE
       {?x :salary ?y . 
        ?x :department ?dept }
     GROUP BY ?dept',
    SEM_Models('hr_data'),
    null, null, null, null, '', null, null,
    'RDFUSER', 'NET1'));
</pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-E04ABC63-304C-4706-812B-D54448FCE55C">Best Practices for Query Performance</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="props_rev_3"><a id="GUID-378DE8E5-869D-45C5-86CE-B09EA74C762A" name="GUID-378DE8E5-869D-45C5-86CE-B09EA74C762A"></a><h5 id="RDFRM-GUID-378DE8E5-869D-45C5-86CE-B09EA74C762A" class="sect5"><span class="enumeration_section">1.6.13.10 </span>Use of Bind Variables to Reduce Compilation Time
                     </h5>
                     <div>
                        <p>For some queries, query compilation can be more expensive than query execution, which can limit throughput on workloads of small queries. If the queries in your workload differ only in the constants used, then session context-based bind variables can be used to skip the compilation step.</p>
                        <p>The following example shows how to use a session context in combination with a user-defined SPARQL function to compile a SEM_MATCH query once and then run it with different constants. The basic idea is to create a user-defined function that reads an RDF term value from the session context and returns it. A SEM_MATCH query with this function will read the RDF term value at run time; so when the session context variable changes, the same exact SEM_MATCH query will see a different value.</p><pre class="pre codeblock"><code>conn / as sysdba;
grant create any context to testuser;

conn testuser/testuser;

create or replace package MY_CTXT_PKG as  
  procedure set_attribute(name varchar2, value varchar2);  
  function get_attribute(name varchar2) return varchar2;  
end MY_CTXT_PKG;  
/

create or replace package body MY_CTXT_PKG as  
  procedure set_attribute(  
    name varchar2,  
    value varchar2  
  ) as  
  begin  
    dbms_session.set_context(namespace =&gt; 'MY_CTXT',  
                             attribute =&gt; name,  
                             value     =&gt; value );
  end;  

  function get_attribute(  
    name varchar2  
  ) return varchar2 as  
  begin  
    return sys_context('MY_CTXT', name);  
  end;  
end MY_CTXT_PKG;  
/

create or replace function myCtxFunc(  
  params in MDSYS.SDO_RDF_TERM_LIST  
) return MDSYS.SDO_RDF_TERM  
as  
  name varchar2(4000);  
  arg  MDSYS.SDO_RDF_TERM;  
begin  
  arg := params(1);  
  name := arg.value_name;  
  return MDSYS.SDO_RDF_TERM(my_ctxt_pkg.get_attribute(name));  
end;  
/  

CREATE OR REPLACE CONTEXT MY_CTXT using TESTUSER.MY_CTXT_PKG;

-- Set a value
exec MY_CTXT_PKG.set_attribute('value','&lt;http://www.example.org/family/Martha&gt;');

-- Query using the function
-- Note the use of HINT0={ NON_NULL } to allow the most efficient join
SELECT s, p, o
  FROM TABLE(SEM_MATCH(
    'SELECT ?s ?p ?o
     WHERE {
       BIND (oraextf:myCtxFunc("value") # HINT0={ NON_NULL } 
             AS ?s)
       ?s ?p ?o }',
    SEM_Models('family'),
    null,
    null,
    null, null, ' ', null, null,
    'RDFUSER', 'NET1'));

-- Set another value
exec MY_CTXT_PKG.set_attribute('value','&lt;http://www.example.org/family/Sammy&gt;');

-- Now the same query runs for Sammy without recompiling
SELECT s, p, o
  FROM TABLE(SEM_MATCH(
    'SELECT ?s ?p ?o
     WHERE {
       BIND (oraextf:myCtxFunc("value") # HINT0={ NON_NULL } 
             AS ?s)
       ?s ?p ?o }',
    SEM_Models('family'),
    null,
    null,
    null, null, ' ', null, null,
    'RDFUSER', 'NET1'));
</code></pre></div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-E04ABC63-304C-4706-812B-D54448FCE55C">Best Practices for Query Performance</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="props_rev_3"><a id="GUID-D88A1B03-A6A7-45BF-827F-579329C10F1E" name="GUID-D88A1B03-A6A7-45BF-827F-579329C10F1E"></a><h5 id="RDFRM-GUID-D88A1B03-A6A7-45BF-827F-579329C10F1E" class="sect5"><span class="enumeration_section">1.6.13.11 </span>Non-Null Expression Hints
                     </h5>
                     <div>
                        <p>When performing a join of several graph patterns with common variables that can be unbound, a more complex join condition is needed to handle null values to avoid performance degradation. Unbound values can be introduced through SELECT expressions, binds, OPTIONAL clauses, and unions. In many cases, SELECT expressions are not expected to produce NULL values. In such cases, query performance can be substantially improved through use of an inline HINT0={ NON_NULL } hint to mark a specific SELECT expression as definitely non-null or through use of a DISABLE_NULL_EXPR_JOIN query option to signify that all SELECT expressions produce only non-null values. </p>
                        <p>The following example includes the global DISABLE_NULL_EXPR_JOIN hint to signify that variable <code class="codeph">?fulltitle</code> is always bound on both sides of the join. (See also <a href="rdf-semantic-graph-overview.html#GUID-5D952ADA-7170-4D64-A07D-F86B32884FF5">Inline Query Optimizer Hints</a>.)
                        </p><pre class="pre codeblock"><code>SELECT s, t
  FROM TABLE(SEM_MATCH(
    'PREFIX : &lt;http://www.example.org/family/&gt;
     SELECT * WHERE {
       { SELECT ?s (CONCAT(?title, ". ", ?fullname) AS ?fulltitle)
         WHERE { ?s :fullname ?fullname .
                 ?s :title ?title }
       }
       { SELECT ?t (CONCAT(?title, ". ", ?fname, " ", ?lname) AS ?fulltitle)
         WHERE { 
         ?t :fname ?fname .
         ?t :lname ?lname . 
         ?t :title ?title } 
       } 
     }',
    SEM_Models('family'),
    SEM_Rulebases('RDFS','family_rb'), 
    null,
    null,
    null,
    ' <span class="bold">DISABLE_NULL_EXPR_JOIN</span> ', null, null,
    'RDFUSER', 'NET1'));
</code></pre></div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-E04ABC63-304C-4706-812B-D54448FCE55C">Best Practices for Query Performance</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="RDFRM732"></a><div class="props_rev_3"><a id="GUID-EA14A0A1-2AF6-41A7-8362-F9600874F7F0" name="GUID-EA14A0A1-2AF6-41A7-8362-F9600874F7F0"></a><h4 id="RDFRM-GUID-EA14A0A1-2AF6-41A7-8362-F9600874F7F0" class="sect4"><span class="enumeration_section">1.6.14 </span>Special Considerations When Using SEM_MATCH
                  </h4>
                  <div>
                     <p>The following considerations apply to SPARQL queries executed by RDF Semantic Graph using SEM_MATCH:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Value assignment</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>A compile-time error is raised when undefined variables are referenced in the source of a value assignment.</p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p>Grouping and aggregation</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Non-grouping variables (query variables not used for grouping and therefore not valid for projection) cannot be reused as a target for value assignment.</p>
                              </li>
                              <li>
                                 <p>Non-numeric values are ignored by the AVG and SUM aggregates.</p>
                              </li>
                              <li>
                                 <p>By default, SEM_MATCH returns no rows for an aggregate query with a graph pattern that fails to match. The W3C specification requires a single, null row for this case. W3C-compliant behavior can be obtained with the <code class="codeph">STRICT_AGG_CARD=T</code> query option for a small performance penalty.
                                 </p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p>ORDER BY</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>When using SPARQL ORDER BY in SEM_MATCH, the containing SQL query should be ordered by SEM$ROWNUM to ensure that the desired ordering is maintained through any enclosing SQL blocks.</p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p>Numeric computations</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>The native Oracle NUMBER type is used internally for all arithmetic operations, and the results of all arithmetic operations are serialized as <code class="codeph">xsd:decimal</code>. Note that the native Oracle NUMBER type is more precise than both BINARY_FLOAT and BINARY_DOUBLE. See <a href="../sqlrf/Data-Types.html#SQLRF00222" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for more information on the NUMBER built-in data type.
                                 </p>
                              </li>
                              <li>
                                 <p>Division by zero causes a runtime error instead of producing an unbound value.</p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p>Negation</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>EXISTS and NOT EXISTS filters that reference <span class="italic">potentially unbound variables</span> are not supported in the following contexts:
                                 </p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>Non-aliased expressions in GROUP BY</p>
                                    </li>
                                    <li>
                                       <p>Input to aggregates</p>
                                    </li>
                                    <li>
                                       <p>Expressions in ORDER BY</p>
                                    </li>
                                    <li>
                                       <p>FILTER expressions within OPTIONAL graph patterns that also reference variables that do not appear inside of the OPTIONAL graph pattern</p>
                                    </li>
                                 </ul>
                                 <p>The first three cases can be realized by first assigning the result of the EXISTS or NOT EXISTS filter to a variable using a BIND clause or SELECT expression.</p>
                                 <p>These restrictions do <span class="italic">not</span> apply to EXISTS and NOT EXISTS filters that only reference definitely bound variables.
                                 </p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p>Blank nodes</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Blank nodes are not supported within graph patterns.</p>
                              </li>
                              <li>
                                 <p>The <code class="codeph">BNODE(literal)</code> function returns the same blank node value every time it is called with the same literal argument.
                                 </p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p>Property paths</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Unbounded operators + and * use a 10-hop depth limit by default for performance reasons. This behavior can be changed to a truly unbounded search by setting a depth limit of 0. See <a href="rdf-semantic-graph-overview.html#GUID-A3F16175-AC4B-4B19-BF25-FD918760F18E">Property Paths</a> for details.
                                 </p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p>Long literals (CLOBs)</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>SPARQL functions and aggregates do not support long literals by default.</p>
                              </li>
                              <li>
                                 <p>Specifying the <code class="codeph">CLOB_EXP_SUPPORT=T</code> query option enables long literal support for the following SPARQL functions: IF, COALESCE, STRLANG, STRDT, SUBSTR, STRBEFORE, STRAFTER, CONTAINS, STRLEN, STRSTARTS, STRENDS.
                                 </p>
                              </li>
                              <li>
                                 <p>Specifying the <code class="codeph">CLOB_AGG_SUPPORT=T</code> query option enables long literal support for the following aggregates: MIN, MAX, SAMPLE, GROUP_CONCAT.
                                 </p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p>Canonicalization of RDF literals</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>By default, RDF literals returned from SPARQL functions and constant RDF literals used in value assignment statements (BIND, SELECT expressions, GROUP BY expressions) are canonicalized. This behavior is consistent with the SPARQL 1.1 D-Entailment Regime.</p>
                              </li>
                              <li>
                                 <p>Canonicalization can be disabled with the <code class="codeph">PROJ_EXACT_VALUES=T</code> query option.
                                 </p>
                              </li>
                           </ul>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-71464CC4-1C03-48A4-9A4C-0E671FF8F16E" title="To query semantic data, use the SEM_MATCH table function.">Using the SEM_MATCH Table Function to Query Semantic Data</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-D90AABC8-81CA-4212-B1A1-C03B818D46C6" name="GUID-D90AABC8-81CA-4212-B1A1-C03B818D46C6"></a><h3 id="RDFRM-GUID-D90AABC8-81CA-4212-B1A1-C03B818D46C6" class="sect3"><span class="enumeration_section">1.7 </span>Using the SEM_APIS.SPARQL_TO_SQL Function to Query Semantic Data
               </h3>
               <div>
                  <p>You can use the SEM_APIS.SPARQL_TO_SQL function as an alternative to the SEM_MATCH table function to query semantic data.</p>
                  <p>The <a href="SEM_APIS-reference.html#GUID-7CE95A36-BD1E-4767-AA4B-F21DEE8B311A">SEM_APIS.SPARQL_TO_SQL</a> function is provided as an alternative to the SEM_MATCH table function.  It can be used by application developers to obtain the SQL translation for a SPARQL query. This is the same SQL translation that would be executed by SEM_MATCH. The resulting SQL translation can then be executed in the same way as any other SQL string (for example, with EXECUTE IMMEDIATE in PL/SQL applications or with JDBC in Java applications). 
                  </p>
                  <p>The first (<code class="codeph">sparql_query</code>) parameter to <a href="SEM_APIS-reference.html#GUID-7CE95A36-BD1E-4767-AA4B-F21DEE8B311A">SEM_APIS.SPARQL_TO_SQL</a> specifies a SPARQL query string and corresponds to the query argument of SEM_MATCH. In this case, however, <code class="codeph">sparql_query</code> is of type CLOB, which allows query strings longer than 4000 bytes (or 32K bytes with long VARCHAR enabled). All other parameters are exactly equivalent to the same arguments of SEM_MATCH (described in <a href="rdf-semantic-graph-overview.html#GUID-71464CC4-1C03-48A4-9A4C-0E671FF8F16E" title="To query semantic data, use the SEM_MATCH table function.">Using the SEM_MATCH Table Function to Query Semantic Data</a>). The SQL query string returned by <a href="SEM_APIS-reference.html#GUID-7CE95A36-BD1E-4767-AA4B-F21DEE8B311A">SEM_APIS.SPARQL_TO_SQL</a> will produce the same return columns as an execution of SEM_MATCH with the same arguments.
                  </p>
                  <p>The following PL/SQL fragment is an example of using the <a href="SEM_APIS-reference.html#GUID-7CE95A36-BD1E-4767-AA4B-F21DEE8B311A">SEM_APIS.SPARQL_TO_SQL</a> function.
                  </p><pre class="pre codeblock"><code>DECLARE
  c           sys_refcursor;
  sparql_stmt clob;
  sql_stmt    clob;
  x_value     varchar2(4000);
BEGIN
  sparql_stmt := 
    'PREFIX : &lt;http://www.example.org/family/&gt;
     SELECT ?x
     WHERE {
       ?x :grandParentOf ?y . 
       ?x rdf:type :Male
     }';

  sql_stmt := sem_apis.sparql_to_sql(
                sparql_stmt,
                sem_models('family'),
                SEM_Rulebases('RDFS','family_rb'),
                null,
                null,
                ' PLUS_RDFT=VC ', null, null,
                'RDFUSER', 'NET1');

  open c for 'select x$rdfterm from(' || sql_stmt || ')';
  loop
    fetch c into x_value;
    exit when c%NOTFOUND;
    
    dbms_output.put_line('x_value: ' || x_value);    
  end loop;
  close c;

END;
/
</code></pre></div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-EF14E674-FEC3-4E7C-8ABD-836001817B61">Using Bind Variables with SEM_APIS.SPARQL_TO_SQL</a><br></li>
                     <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-FD190E30-A2B0-458F-AB8D-9C64D2D6AB9D">SEM_MATCH and SEM_APIS.SPARQL_TO_SQL Compared</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-F422BB9F-8473-4980-9D6C-848F708C10E0" title="Oracle Spatial and Graph support for semantic technologies consists mainly of Resource Description Framework (RDF) and a subset of the Web Ontology Language (OWL). These capabilities are referred to as the RDF Knowledge Graph feature of Oracle Spatial and Graph.">RDF Knowledge Graph Overview</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="props_rev_3"><a id="GUID-EF14E674-FEC3-4E7C-8ABD-836001817B61" name="GUID-EF14E674-FEC3-4E7C-8ABD-836001817B61"></a><h4 id="RDFRM-GUID-EF14E674-FEC3-4E7C-8ABD-836001817B61" class="sect4"><span class="enumeration_section">1.7.1 </span>Using Bind Variables with SEM_APIS.SPARQL_TO_SQL
                  </h4>
                  <div>
                     <p>The <a href="SEM_APIS-reference.html#GUID-7CE95A36-BD1E-4767-AA4B-F21DEE8B311A">SEM_APIS.SPARQL_TO_SQL</a> function allows the use of PL/SQL and JDBC bind variables. This is possible because the SQL translation returned from <a href="SEM_APIS-reference.html#GUID-7CE95A36-BD1E-4767-AA4B-F21DEE8B311A">SEM_APIS.SPARQL_TO_SQL</a> does not involve an ANYTYPE table function invocation. The basic strategy is to transform simple SPARQL BIND clauses into either JDBC or PL/SQL bind variables when the <code class="codeph">USE_BIND_VAR=PLSQL</code> or <code class="codeph">USE_BIND_VAR=JDBC</code> query option is specified. A simple SPARQL BIND clause is one with the form <code class="codeph">BIND (&lt;constant&gt; AS ?var)</code>.
                     </p>
                     <p>With the bind variable option, the SQL translation will contain two bind variables for each transformed SPARQL query variable: one for the value ID, and one for the RDF term string. An RDF term value can be substituted for a SPARQL query variable by specifying the value ID (from RDF_VALUE$ table) as the first bind value and the RDF term string as the second bind value. The value ID for a bound-in RDF term is required for performance reasons. The typical workflow would be to look up the value ID for an RDF term from the RDF_VALUE$ table (or with SEM_APIS.RES2VID) and then bind the ID and RDF term into the translated SQL.</p>
                     <p>Multiple query variables can be transformed into bind variables in a single query. In such cases, bind variables in the SQL translation will appear in the same order as the SPARQL BIND clauses appear in the SPARQL query string. That is, the (id, term) pair for the first BIND clause should be bound first, and the (id, term) pair for the second BIND clause should be bound second.</p>
                     <p>The following example shows the use of bind variables for <a href="SEM_APIS-reference.html#GUID-7CE95A36-BD1E-4767-AA4B-F21DEE8B311A">SEM_APIS.SPARQL_TO_SQL</a> from a PL/SQL block. A dummy bind variable <code class="codeph">?n</code> is declared..
                     </p><pre class="pre codeblock"><code>DECLARE
  sparql_stmt clob;
  sql_stmt    clob;
  cur         sys_refcursor;
  vid         number;
  term        varchar2(4000);
  c_val       varchar2(4000);
BEGIN
  -- Add a dummy bind clause in the SPARQL statement
  sparql_stmt := 'PREFIX : &lt;http://www.example.org/family/&gt;
                  SELECT ?c WHERE { 
                  BIND("" as ?s)
                  ?s :parentOf ?c }';
  -- Get the SQL translation for SPARQL statement
  sql_stmt := sem_apis.sparql_to_sql(
                sparql_stmt,
                sem_models('family'),
                SEM_Rulebases('RDFS','family_rb'),
                null,
                null,' <span class="bold">USE_BIND_VAR=PLSQL</span> PLUS_RDFT=VC ', null, null,
                'RDFUSER', 'NET1');

  -- Execute with &lt;http://www.example.org/family/Martha&gt;
  term := '&lt;http://www.example.org/family/Martha&gt;';
  vid := sem_apis.res2vid('RDFUSER.NET1#RDF_VALUE$',term);

  dbms_output.put_line(chr(10)||'?s='||term);
  open cur for 'select c$rdfterm from('|| sql_stmt || ')' using vid,term;
  loop
    fetch cur into c_val;
    exit when cur%NOTFOUND;
    dbms_output.put_line('|--&gt;?c='||c_val);
  end loop;
  close cur;

  -- Execute with &lt;http://www.example.org/family/Sammy&gt;
  term := '&lt;http://www.example.org/family/Sammy&gt;';
  vid := sem_apis.res2vid('RDFUSER.NET1#RDF_VALUE$',term);

  dbms_output.put_line(chr(10)||'?s='||term);
  open cur for 'select c$rdfterm from('|| sql_stmt || ')' using vid,term;
  loop
    fetch cur into c_val;
    exit when cur%NOTFOUND;
    dbms_output.put_line('|--&gt;?c='||c_val);
  end loop;
  close cur;

END;
/
</code></pre><p>The following example shows the use of bind variables from Java for <a href="SEM_APIS-reference.html#GUID-7CE95A36-BD1E-4767-AA4B-F21DEE8B311A">SEM_APIS.SPARQL_TO_SQL</a>. In this case, the hint <code class="codeph">USE_BIND_VAR=JDBC</code> is used.
                     </p><pre class="pre codeblock"><code>public static void sparqlToSqlTest() {

    try {
        // Get connection
        Connection conn=DriverManager.getConnection( 
                "jdbc:oracle:thin:@localhost:1521:orcl","testuser","testuser");          

        String sparqlStmt =
            "PREFIX : http://www.example.org/family/ \n" +
            "SELECT ?c WHERE {  \n" +
            "  BIND(\"\" as ?s) \n" +
            "  ?s :parentOf ?c      \n" +
            "}";

        // Get SQL translation of SPARQL statement
        // through sem_apis.sparql_to_sql
        OracleCallableStatement ocs = (OracleCallableStatement)conn.prepareCall(
            "begin" +
            "  ? := " +
            "    sem_apis.sparql_to_sql('" +
            "      "+sparqlStmt+"'," +
            "      sem_models('family')," +
            "      SEM_Rulebases('RDFS','family_rb')," +
            "      null,null," +
            "  ' <span class="bold">USE_BIND_VAR=JDBC PLUS_RDFT=VC</span> " +
            " ',null,null,'RDFUSER','NET1');" +
            "end;");          
        ocs.registerOutParameter(1,Types.VARCHAR);
        ocs.execute();
        String sqlStmt = ocs.getString(1);
        ocs.close();

        // Set up statement to look up value ids
        OracleCallableStatement ocsVid = (OracleCallableStatement)conn.prepareCall(
            "begin" +
            "  ? := sem_apis.res2vid(?,?);" +
            "end;");          

        // Execute SQL setting values for a bind variable
        PreparedStatement stmt=conn.prepareStatement(sqlStmt);

        // Look up value id for first value
        long valueId = 0;
        String term = "&lt;http://www.example.org/family/Martha&gt;";
        ocsVid.registerOutParameter(1,Types.NUMERIC);
        ocsVid.setString(2,"RDFUSER.NET1#RDF_VALUE$");
        ocsVid.setString(3,term);
        ocsVid.execute();
        valueId = ocsVid.getLong(1);

        stmt.setLong(1, valueId);
        stmt.setString(2, term);
        ResultSet rs=stmt.executeQuery();

        // Print results
        System.out.println("\n?s="+term);
        while(rs.next()) {
            System.out.println("|--&gt;?c=" + rs.getString("c$rdfterm"));
        }
        rs.close();

        // Execute the same query for a different URI
        // Look up value id for next value
        valueId = 0;
        term = "&lt;http://www.example.org/family/Sammy&gt;";
        ocsVid.registerOutParameter(1,Types.NUMERIC);
        ocsVid.setString(2,"RDFUSER.NET1#RDF_VALUE$");
        ocsVid.setString(3,term);
        ocsVid.execute();
        valueId = ocsVid.getLong(1);

        stmt.setLong(1, valueId);
        stmt.setString(2, term);
        rs=stmt.executeQuery();

        // Print results
        System.out.println("\n?s="+term);
        while(rs.next()) {
            System.out.println("|--&gt;?c=" + rs.getString("c$rdfterm"));
        }
        rs.close();

        stmt.close();
        ocsVid.close();
        conn.close(); 

    } catch (SQLException e) {
        e.printStackTrace();
    }
}
</code></pre></div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-D90AABC8-81CA-4212-B1A1-C03B818D46C6" title="You can use the SEM_APIS.SPARQL_TO_SQL function as an alternative to the SEM_MATCH table function to query semantic data.">Using the SEM_APIS.SPARQL_TO_SQL Function to Query Semantic Data</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-FD190E30-A2B0-458F-AB8D-9C64D2D6AB9D" name="GUID-FD190E30-A2B0-458F-AB8D-9C64D2D6AB9D"></a><h4 id="RDFRM-GUID-FD190E30-A2B0-458F-AB8D-9C64D2D6AB9D" class="sect4"><span class="enumeration_section">1.7.2 </span>SEM_MATCH and SEM_APIS.SPARQL_TO_SQL Compared
                  </h4>
                  <div>
                     <p>The <a href="SEM_APIS-reference.html#GUID-7CE95A36-BD1E-4767-AA4B-F21DEE8B311A">SEM_APIS.SPARQL_TO_SQL</a> function avoids some limitations that are inherent in the SEM_MATCH table function due to its use of the rewritable table function interface. Specifically, <a href="SEM_APIS-reference.html#GUID-7CE95A36-BD1E-4767-AA4B-F21DEE8B311A">SEM_APIS.SPARQL_TO_SQL</a> adds the following capabilities.
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>SPARQL query string arguments larger than 4000 bytes (32K bytes with long varchar support) can be used.</p>
                        </li>
                        <li>
                           <p>The plain SQL returned from <a href="SEM_APIS-reference.html#GUID-7CE95A36-BD1E-4767-AA4B-F21DEE8B311A">SEM_APIS.SPARQL_TO_SQL</a> can be executed against read-only databases.
                           </p>
                        </li>
                        <li>
                           <p>The plain SQL returned from <a href="SEM_APIS-reference.html#GUID-7CE95A36-BD1E-4767-AA4B-F21DEE8B311A">SEM_APIS.SPARQL_TO_SQL</a> can support PL/SQL and JDBC bind variables.
                           </p>
                        </li>
                     </ul>
                     <p>SEM_MATCH, however, provides some unique capabilities that are not possible with <a href="SEM_APIS-reference.html#GUID-7CE95A36-BD1E-4767-AA4B-F21DEE8B311A">SEM_APIS.SPARQL_TO_SQL</a>..
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Support for projection optimization: If only the VAR$RDFVID column of a projected variable is selected from the SEM_MATCH invocation, the RDF_VALUE$ join for this variable will be avoided.</p>
                        </li>
                        <li>
                           <p>Support for advanced features that require the procedural start-fetch-close table function execution:  <code class="codeph">SERVICE_JPDWN=T</code> and <code class="codeph">OVERLOADED_NL=T</code> options with SPARQL SERVICE.
                           </p>
                        </li>
                        <li>
                           <p>The ability to execute queries interactively with tools like SQL*Plus.</p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-D90AABC8-81CA-4212-B1A1-C03B818D46C6" title="You can use the SEM_APIS.SPARQL_TO_SQL function as an alternative to the SEM_MATCH table function to query semantic data.">Using the SEM_APIS.SPARQL_TO_SQL Function to Query Semantic Data</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="RDFRM596"></a><div class="props_rev_3"><a id="GUID-65045BFA-D0FE-4720-BF68-2C45765C74E9" name="GUID-65045BFA-D0FE-4720-BF68-2C45765C74E9"></a><h3 id="RDFRM-GUID-65045BFA-D0FE-4720-BF68-2C45765C74E9" class="sect3"><span class="enumeration_section">1.8 </span>Loading and Exporting Semantic Data
               </h3>
               <div>
                  <p>You can load semantic data into a model in the database and export that data from the database into a staging table.</p>
                  <p>To load semantic data into a model, use one or more of the following options:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Bulk load or append data into the model from a staging table, with each row containing the three components -- subject, predicate, and object -- of an RDF triple and optionally a named graph. This is explained in <a href="rdf-semantic-graph-overview.html#GUID-93BBAF2A-D906-4172-8315-4E0184FE6ABB">Bulk Loading Semantic Data Using a Staging Table</a>.
                        </p>
                        <p>This is the fastest option for loading large amounts of data.</p>
                     </li>
                     <li>
                        <p>Load data into the application table using SQL INSERT statements that call the SDO_RDF_TRIPLE_S constructor, which results in the corresponding RDF triple, possibly including a graph name, to be inserted into the semantic data store, as explained in <a href="rdf-semantic-graph-overview.html#GUID-1C7FBA78-BCDC-4E16-A139-2CC3E3AB9CE4">Loading Semantic Data Using INSERT Statements</a>.
                        </p>
                        <p>This option is convenient for loading small amounts of data</p>
                     </li>
                     <li>
                        <p>Load data into the model with SPARQL Update statements executed through <a href="SEM_APIS-reference.html#GUID-85BBFA6D-07F9-43CF-BD2A-B3D7B686792A">SEM_APIS.UPDATE_MODEL</a>, as explained in <a href="rdf-semantic-graph-overview.html#GUID-933AEB65-4F16-40BB-9FA4-0E16380607EB" title="Effective with Oracle Database Release 12.2, you can perform SPARQL Update operations on a semantic model.">Support for SPARQL Update Operations on a Semantic Model</a>.
                        </p>
                        <p>This option is convenient for loading small amounts of data, and can also be used to load larger amounts of data through LOAD statements.</p>
                     </li>
                     <li>
                        <p>Load data into the model using the Apache Jena-based Java API, which is explained in <a href="rdf-suipport-for-apache-jena.html#GUID-3F437E3E-3B74-4CCF-9F16-B2B07B3899E8" title="RDF Semantic Graph support for Apache Jena (also referred to here as support for Apache Jena) provides a Java-based interface to Oracle Spatial and Graph RDF Semantic Graph by implementing the well-known Jena Graph, Model, and DatasetGraph APIs.">RDF Semantic Graph Support for Apache Jena</a>.
                        </p>
                        <p>This option provides several ways to load both small and large amounts of data, and it supports many different RDF serialization formats.</p>
                     </li>
                  </ul>
                  <div class="infoboxnote" id="GUID-65045BFA-D0FE-4720-BF68-2C45765C74E9__UNICODEDATAINTHESTAGINGTABLESHOULDB-CF26609F">
                     <p class="notep1">Note:</p>
                     <p>Unicode data in the staging table should be escaped as specified in WC3 N-Triples format (<a href="http://www.w3.org/TR/rdf-testcases/#ntriples" target="_blank">http://www.w3.org/TR/rdf-testcases/#ntriples</a>). You can use the <a href="SEM_APIS-reference.html#GUID-A9066C1C-FC5C-407E-A26A-35F73C1D9A14">SEM_APIS.ESCAPE_RDF_TERM</a> function to escape Unicode values in the staging table. For example:
                     </p><pre class="pre codeblock"><code>create table esc_stage_tab(rdf$stc_sub, rdf$stc_pred, rdf$stc_obj);

insert /*+ append nologging parallel */ into esc_stage_tab (rdf$stc_sub, rdf$stc_pred, rdf$stc_obj)
select sem_apis.escape_rdf_term(rdf$stc_sub, options=&gt;’ UNI_ONLY=T '), sem_apis.escape_rdf_term(rdf$stc_pred, options=&gt;’ UNI_ONLY=T '), sem_apis.escape_rdf_term(rdf$stc_obj, options=&gt;’ UNI_ONLY=T ')
from stage_tab; 
</code></pre></div>
                  <p>To export semantic data, that is, to retrieve semantic data from Oracle Database where the results are in N-Triple or N-Quad format that can be stored in a staging table, use the SQL queries described in <a href="rdf-semantic-graph-overview.html#GUID-84666DFA-3509-440A-B85E-1C87DD1E638E">Exporting Semantic Data</a>.
                  </p>
                  <div class="infoboxnote" id="GUID-65045BFA-D0FE-4720-BF68-2C45765C74E9__GUID-1F44B674-7E40-4060-8079-ED57D8239789">
                     <p class="notep1">Note:</p>
                     <p>Effective with Oracle Database Release 12.1, you can export and import a semantic network using the full database export and import features of the Oracle Data Pump utility, as explained in <a href="rdf-semantic-graph-overview.html#GUID-BA4A550E-0C49-4D65-8E24-A64D9A044BFA">Exporting or Importing a Semantic Network Using Oracle Data Pump</a>.
                     </p>
                  </div>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-93BBAF2A-D906-4172-8315-4E0184FE6ABB">Bulk Loading Semantic Data Using a Staging Table</a><br></li>
                     <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-1C7FBA78-BCDC-4E16-A139-2CC3E3AB9CE4">Loading Semantic Data Using INSERT Statements</a><br></li>
                     <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-84666DFA-3509-440A-B85E-1C87DD1E638E">Exporting Semantic Data</a><br></li>
                     <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-BA4A550E-0C49-4D65-8E24-A64D9A044BFA">Exporting or Importing a Semantic Network Using Oracle Data Pump</a><br></li>
                     <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-BF54CDFD-EA97-4C23-AB32-EE7F83D5948B">Moving, Restoring, and Appending a Semantic Network</a><br></li>
                     <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-DC97A430-3C9C-4A7B-8034-2BEF6E1B3EBD">Purging Unused Values</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-F422BB9F-8473-4980-9D6C-848F708C10E0" title="Oracle Spatial and Graph support for semantic technologies consists mainly of Resource Description Framework (RDF) and a subset of the Web Ontology Language (OWL). These capabilities are referred to as the RDF Knowledge Graph feature of Oracle Spatial and Graph.">RDF Knowledge Graph Overview</a></p>
                     </div>
                  </div>
               </div>
               <a id="RDFRM597"></a><div class="props_rev_3"><a id="GUID-93BBAF2A-D906-4172-8315-4E0184FE6ABB" name="GUID-93BBAF2A-D906-4172-8315-4E0184FE6ABB"></a><h4 id="RDFRM-GUID-93BBAF2A-D906-4172-8315-4E0184FE6ABB" class="sect4"><span class="enumeration_section">1.8.1 </span>Bulk Loading Semantic Data Using a Staging Table
                  </h4>
                  <div>
                     <p>You can load semantic data (and optionally associated non-semantic data) in bulk using a staging table. Call the <a href="SEM_APIS-reference.html#GUID-B2E32299-0B8F-457D-8DF9-C46E794DE869">SEM_APIS.LOAD_INTO_STAGING_TABLE</a> procedure (described in <a href="SEM_APIS-reference.html#GUID-F42AB976-445A-4DCD-974C-3B9ED810E3D5" title="The SEM_APIS package contains subprograms (functions and procedures) for working with the Resource Description Framework (RDF) and Web Ontology Language (OWL) in an Oracle database."> SEM_APIS Package Subprograms</a>) to load the data, and you can have during the load operation to check for syntax correctness. Then, you can call the <a href="SEM_APIS-reference.html#GUID-AB6697BF-C840-4F48-8C81-FACB3CA54B1A">SEM_APIS.BULK_LOAD_FROM_STAGING_TABLE</a> procedure to load the data into the semantic store from the staging table. (If the data was not parsed during the load operation into the staging table, you must specify the <code class="codeph">PARSE</code> keyword in the <code class="codeph">flags</code> parameter when you call the <a href="SEM_APIS-reference.html#GUID-AB6697BF-C840-4F48-8C81-FACB3CA54B1A">SEM_APIS.BULK_LOAD_FROM_STAGING_TABLE</a> procedure.)
                     </p>
                     <p>The following example shows the format for the staging table, including all required columns and the required names for these columns, plus the optional RDF$STC_graph column which must be included if one or more of the RDF triples to be loaded include a graph name:</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE stage_table (
                     RDF$STC_sub varchar2(4000) not null,
                     RDF$STC_pred varchar2(4000) not null,
                     RDF$STC_obj varchar2(4000) not null,
                     RDF$STC_graph varchar2(4000)
);
</pre><p>If you also want to load non-semantic data, specify additional columns for the non-semantic data in the CREATE TABLE statement. The non-semantic column names must be different from the names of the required columns. The following example creates the staging table with two additional columns (SOURCE and ID) for non-semantic attributes.</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE stage_table_with_extra_cols (
                     source VARCHAR2(4000),
                     id NUMBER,
                     RDF$STC_sub varchar2(4000) not null,
                     RDF$STC_pred varchar2(4000) not null,
                     RDF$STC_obj varchar2(4000) not null,
                     RDF$STC_graph varchar2(4000)
);</pre><div class="infoboxnote" id="GUID-93BBAF2A-D906-4172-8315-4E0184FE6ABB__GUID-5210A973-FFE5-440E-B811-68246DB51412">
                        <p class="notep1">Note:</p>
                        <p>For either form of the CREATE TABLE statement, you may want to add the COMPRESS clause to use table compression, which will reduce the disk space requirements and may improve bulk-load performance.</p>
                     </div>
                     <p>Both the invoker and the network owner user must have the following privileges: SELECT privilege on the staging table, and INSERT privilege on the application table.</p>
                     <p>See also the following:</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-FECA680B-69DD-4093-9AA6-F03B2320109E">Loading the Staging Table</a><br></li>
                        <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-3EF64EB7-6847-4D8B-862E-E38FBD2528AA">Recording Event Traces During Bulk Loading</a><br></li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-65045BFA-D0FE-4720-BF68-2C45765C74E9" title="You can load semantic data into a model in the database and export that data from the database into a staging table.">Loading and Exporting Semantic Data</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="RDFRM202"></a><div class="props_rev_3"><a id="GUID-FECA680B-69DD-4093-9AA6-F03B2320109E" name="GUID-FECA680B-69DD-4093-9AA6-F03B2320109E"></a><h5 id="RDFRM-GUID-FECA680B-69DD-4093-9AA6-F03B2320109E" class="sect5"><span class="enumeration_section">1.8.1.1 </span>Loading the Staging Table
                     </h5>
                     <div>
                        <p>You can load semantic data into the staging table, as a preparation for loading it into the semantic store, in several ways. Some of the common ways are the following:</p>
                     </div>
                     <div>
                        <ul class="ullinks">
                           <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-81D86DA9-B0E6-4A9E-A88A-D89934C13275">Loading N-Triple Format Data into a Staging Table Using SQL*Loader</a><br></li>
                           <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-0D35BEBE-68C6-4A2F-9E07-5D223EBD6419">Loading N-Quad Format Data into a Staging Table Using an External Table</a><br></li>
                        </ul>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-93BBAF2A-D906-4172-8315-4E0184FE6ABB">Bulk Loading Semantic Data Using a Staging Table</a></p>
                           </div>
                        </div>
                     </div>
                     <a id="RDFRM203"></a><div class="props_rev_3"><a id="GUID-81D86DA9-B0E6-4A9E-A88A-D89934C13275" name="GUID-81D86DA9-B0E6-4A9E-A88A-D89934C13275"></a><h6 id="RDFRM-GUID-81D86DA9-B0E6-4A9E-A88A-D89934C13275" class="sect6"><span class="enumeration_section">1.8.1.1.1 </span>Loading N-Triple Format Data into a Staging Table Using SQL*Loader
                        </h6>
                        <div>
                           <p>You can use the SQL*Loader utility to parse and load semantic data into a staging table. If you installed the demo files from the Oracle Database Examples media (see <a href="../exmpl/index.html" target="_blank"><span class="italic">Oracle Database Examples Installation Guide</span></a>), a sample control file is available at <code class="codeph">$ORACLE_HOME/md/demo/network/rdf_demos/bulkload.ctl</code>. You can modify and use this file if the input data is in N-Triple format.
                           </p>
                           <p>Objects longer than 4000 bytes cannot be loaded. If you use the sample SQL*Loader control file, triples (rows) containing such long values will be automatically rejected and stored in a SQL*Loader "bad" file. However, you can load these rejected rows by inserting them into the application table using SQL INSERT statements (see <a href="rdf-semantic-graph-overview.html#GUID-1C7FBA78-BCDC-4E16-A139-2CC3E3AB9CE4">Loading Semantic Data Using INSERT Statements</a>).
                           </p>
                        </div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-FECA680B-69DD-4093-9AA6-F03B2320109E">Loading the Staging Table</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div><a id="RDFRM205"></a><a id="RDFRM204"></a><div class="props_rev_3"><a id="GUID-0D35BEBE-68C6-4A2F-9E07-5D223EBD6419" name="GUID-0D35BEBE-68C6-4A2F-9E07-5D223EBD6419"></a><h6 id="RDFRM-GUID-0D35BEBE-68C6-4A2F-9E07-5D223EBD6419" class="sect6"><span class="enumeration_section">1.8.1.1.2 </span>Loading N-Quad Format Data into a Staging Table Using an External Table
                        </h6>
                        <div>
                           <div class="section">
                              <p>You can use an Oracle external table to load N-Quad format data (extended triple having four components) into a staging table, as follows:</p>
                           </div>
                           <!-- class="section" -->
                           <ol>
                              <li><span>Call the <a href="SEM_APIS-reference.html#GUID-A0CE8736-0EBD-45D1-A099-C3F851D37EB8">SEM_APIS.CREATE_SOURCE_EXTERNAL_TABLE</a> procedure to create an external table, and then use the SQL STATEMENT ALTER TABLE to alter the external table to include the relevant input file name or names. You must have READ and WRITE privileges for the directory object associated with folder containing the input file or files.</span></li>
                              <li><span>After you create the external table, grant the MDSYS user SELECT and INSERT privileges on the table.</span></li>
                              <li><span>Call the <a href="SEM_APIS-reference.html#GUID-B2E32299-0B8F-457D-8DF9-C46E794DE869">SEM_APIS.LOAD_INTO_STAGING_TABLE</a> procedure to populate the staging table.</span></li>
                              <li><span>After the loading is finished, issue a COMMIT statement to complete the transaction.</span></li>
                           </ol>
                           <div class="example" id="GUID-0D35BEBE-68C6-4A2F-9E07-5D223EBD6419__CIHFFBHH">
                              <p class="titleinexample">Example 1-94 Using an External Table to Load a Staging Table</p><pre class="oac_no_warn" dir="ltr">-- Create a source external table (note: table names are case sensitive)
BEGIN
  sem_apis.create_source_external_table(
    source_table    =&gt; 'stage_table_source'
   ,def_directory   =&gt; 'DATA_DIR'
   ,bad_file        =&gt; 'CLOBrows.bad'
   );
END;
/
grant SELECT on "stage_table_source" to MDSYS;
 
-- Use ALTER TABLE to target the appropriate file(s)
alter table "stage_table_source" location ('demo_datafile.nt');
 
-- Load the staging table (note: table names are case sensitive)
BEGIN
  sem_apis.load_into_staging_table(
    staging_table =&gt; 'STAGE_TABLE'
   ,source_table  =&gt; 'stage_table_source'
   ,input_format  =&gt; 'N-QUAD');
END;
/</pre></div>
                           <!-- class="example" -->
                           <div class="section">
                              <p>Rows where the objects and graph URIs (combined) are longer than 4000 bytes will be rejected and stored in a "bad" file. However, you can load these rejected rows by inserting them into the application table using SQL INSERT statements (see <a href="rdf-semantic-graph-overview.html#GUID-1C7FBA78-BCDC-4E16-A139-2CC3E3AB9CE4">Loading Semantic Data Using INSERT Statements</a>).
                              </p>
                              <p><a href="rdf-semantic-graph-overview.html#GUID-0D35BEBE-68C6-4A2F-9E07-5D223EBD6419__CIHFFBHH">Example 1-94</a> shows the use of an external table to load a staging table.
                              </p>
                           </div>
                           <!-- class="section" -->
                        </div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-FECA680B-69DD-4093-9AA6-F03B2320109E">Loading the Staging Table</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                  </div><a id="RDFRM99904"></a><div class="props_rev_3"><a id="GUID-3EF64EB7-6847-4D8B-862E-E38FBD2528AA" name="GUID-3EF64EB7-6847-4D8B-862E-E38FBD2528AA"></a><h5 id="RDFRM-GUID-3EF64EB7-6847-4D8B-862E-E38FBD2528AA" class="sect5"><span class="enumeration_section">1.8.1.2 </span>Recording Event Traces During Bulk Loading
                     </h5>
                     <div>
                        <p>If a table named RDF$ET_TAB exists in the invoker's schema and if the network owner user has been granted the INSERT and UPDATE privileges on this table, event traces for some of the tasks performed during executions of the <a href="SEM_APIS-reference.html#GUID-AB6697BF-C840-4F48-8C81-FACB3CA54B1A">SEM_APIS.BULK_LOAD_FROM_STAGING_TABLE</a> procedure will be added to the table. You may find the content of this table useful if you ever need to report any problems in bulk load. The RDF$ET_TAB table must be created as follows:
                        </p><pre class="oac_no_warn" dir="ltr">CREATE TABLE RDF$ET_TAB (
  proc_sid VARCHAR2(30), 
  proc_sig VARCHAR2(200),
  event_name varchar2(200),
  start_time timestamp,
  end_time timestamp,
  start_comment varchar2(1000) DEFAULT NULL,
  end_comment varchar2(1000) DEFAULT NULL
);
-- Grant privileges on RDF$ET_TAB to network owner if network owner 
-- is not the owner of RDF$ET_TAB
GRANT INSERT, UPDATE on RDF$ET_TAB to <span class="italic">&lt;network_owner&gt;</span>;
</pre></div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-93BBAF2A-D906-4172-8315-4E0184FE6ABB">Bulk Loading Semantic Data Using a Staging Table</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="RDFRM600"></a><div class="props_rev_3"><a id="GUID-1C7FBA78-BCDC-4E16-A139-2CC3E3AB9CE4" name="GUID-1C7FBA78-BCDC-4E16-A139-2CC3E3AB9CE4"></a><h4 id="RDFRM-GUID-1C7FBA78-BCDC-4E16-A139-2CC3E3AB9CE4" class="sect4"><span class="enumeration_section">1.8.2 </span>Loading Semantic Data Using INSERT Statements
                  </h4>
                  <div>
                     <div class="section">
                        <p>To load semantic data using INSERT statements, the data should be encoded using <code class="codeph">&lt; &gt;</code> (angle brackets) for URIs, <code class="codeph">_:</code> (underscore colon) for blank nodes, and <code class="codeph">" "</code> (quotation marks) for literals. Spaces are not allowed in URIs or blank nodes. Use the SDO_RDF_TRIPLE_S constructor to insert the data, as described in <a href="rdf-semantic-graph-overview.html#GUID-F1ED66D2-F2B7-40C6-899A-B67003BBD56D">Constructors for Inserting Triples</a>. You must have INSERT privilege on the application table.
                        </p>
                        <div class="infoboxnote" id="GUID-1C7FBA78-BCDC-4E16-A139-2CC3E3AB9CE4__GUID-981035AE-86D2-44DB-9699-EC7BF5AC6840">
                           <p class="notep1">Note:</p>
                           <p>If URIs are not encoded with <code class="codeph">&lt; &gt;</code> and literals with <code class="codeph">" "</code>, statements will still be processed. However, the statements will take longer to load, since they will have to be further processed to determine their VALUE_TYPE values.
                           </p>
                        </div>
                        <p>The following example assumes a semantic network named NET1 owned by RDFUSER. It includes statements with URIs, a blank node, a literal, a literal with a language tag, and a typed literal:</p><pre class="oac_no_warn" dir="ltr">INSERT INTO nsu_data VALUES (SDO_RDF_TRIPLE_S('nsu','&lt;http://nature.example.com/nsu/rss.rdf&gt;',
  '&lt;http://purl.org/rss/1.0/title&gt;', '"Nature''s Science Update"', 'RDFUSER', 'NET1'));
INSERT INTO nsu_data VALUES (SDO_RDF_TRIPLE_S('nsu', '_:BNSEQN1001A',
  '&lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt;', 
  '&lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#Seq&gt;', 'RDFUSER', 'NET1'));
INSERT INTO nsu_data VALUES (SDO_RDF_TRIPLE_S('nsu',
  '&lt;http://nature.example.com/cgi-taf/dynapage.taf?file=/nature/journal/v428/n6978/index.html&gt;',
  '&lt;http://purl.org/dc/elements/1.1/language&gt;', '"English"@en-GB', 'RDFUSER', 'NET1'));
INSERT INTO nature VALUES (SDO_RDF_TRIPLE_S('nsu', '&lt;http://dx.doi.org/10.1038/428004b&gt;',
  '&lt;http://purl.org/dc/elements/1.1/date&gt;', '"2004-03-04"^^xsd:date', 'RDFUSER', 'NET1'));
</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-8D46CB97-3CC7-493B-9250-28BFAFDB8269">Loading Data into Named Graphs Using INSERT Statements</a><br></li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-65045BFA-D0FE-4720-BF68-2C45765C74E9" title="You can load semantic data into a model in the database and export that data from the database into a staging table.">Loading and Exporting Semantic Data</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="RDFRM206"></a><div class="props_rev_3"><a id="GUID-8D46CB97-3CC7-493B-9250-28BFAFDB8269" name="GUID-8D46CB97-3CC7-493B-9250-28BFAFDB8269"></a><h5 id="RDFRM-GUID-8D46CB97-3CC7-493B-9250-28BFAFDB8269" class="sect5"><span class="enumeration_section">1.8.2.1 </span>Loading Data into Named Graphs Using INSERT Statements
                     </h5>
                     <div>
                        <div class="section">
                           <p>To load an RDF triple with a non-null graph name using an INSERT statement, you must append the graph name, enclosed within angle brackets (<code class="codeph">&lt; &gt;</code>), after the model name and colon (<code class="codeph">:</code>) separator character, as shown in the following example:
                           </p><pre class="oac_no_warn" dir="ltr">INSERT INTO articles_rdf_data VALUES ( 
  SDO_RDF_TRIPLE_S ('<span class="bold">articles:&lt;http://examples.com/ns#Graph1&gt;</span>',
    '&lt;http://nature.example.com/Article101&gt;',
    '&lt;http://purl.org/dc/elements/1.1/creator&gt;',
    '"John Smith"', 'RDFUSER', 'NET1'));</pre></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-1C7FBA78-BCDC-4E16-A139-2CC3E3AB9CE4">Loading Semantic Data Using INSERT Statements</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="RDFRM601"></a><div class="props_rev_3"><a id="GUID-84666DFA-3509-440A-B85E-1C87DD1E638E" name="GUID-84666DFA-3509-440A-B85E-1C87DD1E638E"></a><h4 id="RDFRM-GUID-84666DFA-3509-440A-B85E-1C87DD1E638E" class="sect4"><span class="enumeration_section">1.8.3 </span>Exporting Semantic Data
                  </h4>
                  <div>
                     <p>This section contains the following topics related to exporting semantic data, that is, retrieving semantic data from Oracle Database where the results are in N-Triple or N-Quad format that can be stored in a staging table.</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-155E5498-F3B6-4E92-954A-AC0AD43BD5F1">Retrieving Semantic Data from an Application Table</a><br></li>
                        <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-0182D08F-6CFA-4436-A180-DE480690BD13">Retrieving Semantic Data from an RDF Model</a><br></li>
                        <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-79644A19-9A51-42B2-B5AC-6EDDD099BE92">Removing Model and Graph Information from Retrieved Blank Node Identifiers</a><br></li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-65045BFA-D0FE-4720-BF68-2C45765C74E9" title="You can load semantic data into a model in the database and export that data from the database into a staging table.">Loading and Exporting Semantic Data</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="RDFRM446"></a><a id="RDFRM445"></a><div class="props_rev_3"><a id="GUID-155E5498-F3B6-4E92-954A-AC0AD43BD5F1" name="GUID-155E5498-F3B6-4E92-954A-AC0AD43BD5F1"></a><h5 id="RDFRM-GUID-155E5498-F3B6-4E92-954A-AC0AD43BD5F1" class="sect5"><span class="enumeration_section">1.8.3.1 </span>Retrieving Semantic Data from an Application Table
                     </h5>
                     <div>
                        <div class="section">
                           <p>Semantic data can be retrieved from an application table using the member functions of SDO_RDF_TRIPLE_S, as shown in <a href="rdf-semantic-graph-overview.html#GUID-155E5498-F3B6-4E92-954A-AC0AD43BD5F1__CIHIICAA">Example 1-95</a> (where the output is reformatted for readability). The example assumes a semantic network named NET1 owned by a database user named RDFUSER.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-155E5498-F3B6-4E92-954A-AC0AD43BD5F1__CIHIICAA">
                           <p class="titleinexample">Example 1-95 Retrieving Semantic Data from an Application Table</p><pre class="oac_no_warn" dir="ltr">--
-- Retrieves model-graph, subject, predicate, and object
--
SQL&gt; SELECT a.triple.GET_MODEL('RDFUSER','NET1') AS model_graph, a.triple.GET_SUBJECT('RDFUSER','NET1') AS sub, a.triple.GET_PROPERTY('RDFUSER','NET1') pred, a.triple.GET_OBJECT('RDFUSER','NET1') obj FROM articles_rdf_data a;

MODEL_GRAPH
--------------------------------------------------------------------------------
SUB
--------------------------------------------------------------------------------
PRED
--------------------------------------------------------------------------------
OBJ
--------------------------------------------------------------------------------
ARTICLES
&lt;http://nature.example.com/Article1&gt;
&lt;http://purl.org/dc/elements/1.1/title&gt;
"All about XYZ"


ARTICLES
&lt;http://nature.example.com/Article1&gt;
&lt;http://purl.org/dc/elements/1.1/creator&gt;
"Jane Smith"


ARTICLES
&lt;http://nature.example.com/Article1&gt;
&lt;http://purl.org/dc/terms/references&gt;
&lt;http://nature.example.com/Article2&gt;


ARTICLES
&lt;http://nature.example.com/Article1&gt;
&lt;http://purl.org/dc/terms/references&gt;
&lt;http://nature.example.com/Article3&gt;


ARTICLES
&lt;http://nature.example.com/Article2&gt;
&lt;http://purl.org/dc/elements/1.1/title&gt;
"A review of ABC"


ARTICLES
&lt;http://nature.example.com/Article2&gt;
&lt;http://purl.org/dc/elements/1.1/creator&gt;
"Joe Bloggs"


ARTICLES
&lt;http://nature.example.com/Article2&gt;
&lt;http://purl.org/dc/terms/references&gt;
&lt;http://nature.example.com/Article3&gt;


7 rows selected.</pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-84666DFA-3509-440A-B85E-1C87DD1E638E">Exporting Semantic Data</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="RDFRM448"></a><a id="RDFRM447"></a><div class="props_rev_3"><a id="GUID-0182D08F-6CFA-4436-A180-DE480690BD13" name="GUID-0182D08F-6CFA-4436-A180-DE480690BD13"></a><h5 id="RDFRM-GUID-0182D08F-6CFA-4436-A180-DE480690BD13" class="sect5"><span class="enumeration_section">1.8.3.2 </span>Retrieving Semantic Data from an RDF Model
                     </h5>
                     <div>
                        <div class="section">
                           <p>Semantic data can be retrieved from an RDF model using the SEM_MATCH table function (described in <a href="rdf-semantic-graph-overview.html#GUID-71464CC4-1C03-48A4-9A4C-0E671FF8F16E" title="To query semantic data, use the SEM_MATCH table function.">Using the SEM_MATCH Table Function to Query Semantic Data</a>), as shown in <a href="rdf-semantic-graph-overview.html#GUID-0182D08F-6CFA-4436-A180-DE480690BD13__CIHEIAFA">Example 1-96</a>. The example assumes a semantic network named NET1 owned by a database user named RDFUSER.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-0182D08F-6CFA-4436-A180-DE480690BD13__CIHEIAFA">
                           <p class="titleinexample">Example 1-96 Retrieving Semantic Data from an RDF Model</p><pre class="oac_no_warn" dir="ltr">--
-- Retrieves graph, subject, predicate, and object
--
SQL&gt; select to_char(g$rdfterm) graph, to_char(x$rdfterm) sub, to_char(p$rdfterm) pred, y$rdfterm obj from table(sem_match('Select ?g ?x ?p ?y  WHERE { { GRAPH ?g {?x ?p ?y} } UNION { ?x ?p ?y }}',sem_models('articles'),null,null,null,null,' STRICT_DEFAULT=T PLUS_RDFT=T ',null,null,'RDFUSER','NET1')); 

GRAPH
------------------------------------------------------------
SUB
------------------------------------------------------------
PRED
------------------------------------------------------------
OBJ
---------------------------------------------------------------------------
&lt;http://examples.com/ns#Graph1&gt;
_:m99g3C687474703A2F2F6578616D706C65732E636F6D2F6E73234772617068313Egmb2
&lt;http://purl.org/dc/elements/1.1/creator&gt;
_:m99g3C687474703A2F2F6578616D706C65732E636F6D2F6E73234772617068313Egmb1
 
&lt;http://examples.com/ns#Graph1&gt;
&lt;http://nature.example.com/Article102&gt;
&lt;http://purl.org/dc/elements/1.1/creator&gt;
_:m99g3C687474703A2F2F6578616D706C65732E636F6D2F6E73234772617068313Egmb1
 
&lt;http://examples.com/ns#Graph1&gt;
&lt;http://nature.example.com/Article101&gt;
&lt;http://purl.org/dc/elements/1.1/creator&gt;
"John Smith"
 
&lt;http://nature.example.com/Article1&gt;
&lt;http://purl.org/dc/elements/1.1/creator&gt;
"Jane Smith"</pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-84666DFA-3509-440A-B85E-1C87DD1E638E">Exporting Semantic Data</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="RDFRM450"></a><a id="RDFRM451"></a><a id="RDFRM449"></a><div class="props_rev_3"><a id="GUID-79644A19-9A51-42B2-B5AC-6EDDD099BE92" name="GUID-79644A19-9A51-42B2-B5AC-6EDDD099BE92"></a><h5 id="RDFRM-GUID-79644A19-9A51-42B2-B5AC-6EDDD099BE92" class="sect5"><span class="enumeration_section">1.8.3.3 </span>Removing Model and Graph Information from Retrieved Blank Node Identifiers
                     </h5>
                     <div>
                        <div class="section">
                           <p>Blank node identifiers retrieved during the retrieval of semantic data can be trimmed to remove the occurrence of model and graph information using the transformations shown in the code excerpt in <a href="rdf-semantic-graph-overview.html#GUID-79644A19-9A51-42B2-B5AC-6EDDD099BE92__CIHIJEDB">Example 1-97</a>, which are applicable to VARCHAR2 (for example, subject component) and CLOB (for example, object component) data, respectively.
                           </p>
                           <p><a href="rdf-semantic-graph-overview.html#GUID-79644A19-9A51-42B2-B5AC-6EDDD099BE92__CIHEHEII">Example 1-98</a> shows the results obtained after using these two transformations in <a href="rdf-semantic-graph-overview.html#GUID-79644A19-9A51-42B2-B5AC-6EDDD099BE92__CIHIJEDB">Example 1-97</a> on the <code class="codeph">sub</code> and <code class="codeph">obj</code> columns, respectively, using the semantic data retrieval query described in <a href="rdf-semantic-graph-overview.html#GUID-0182D08F-6CFA-4436-A180-DE480690BD13">Retrieving Semantic Data from an RDF Model</a>.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-79644A19-9A51-42B2-B5AC-6EDDD099BE92__CIHIJEDB">
                           <p class="titleinexample">Example 1-97 Retrieving Semantic Data from an Application Table</p><pre class="oac_no_warn" dir="ltr">--
-- Transformation on column "sub VARCHAR2" 
-- holding blank node identifier values
--
Select (case substr(sub,1,2) when '_:' then '_:' || substr(sub,instr(sub,'m',1,2)+1) else sub end) from …
--
-- Transformation on column "obj CLOB" 
-- holding blank node identifier values
--
Select (case dbms_lob.substr(obj,2,1) when '_:' then to_clob('_:' || substr(obj,instr(obj,'m',1,2)+1)) else obj end) from …
</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-79644A19-9A51-42B2-B5AC-6EDDD099BE92__CIHEHEII">
                           <p class="titleinexample">Example 1-98 Results from Applying Transformations from <span><a href="rdf-semantic-graph-overview.html#GUID-79644A19-9A51-42B2-B5AC-6EDDD099BE92__CIHIJEDB">Example 1-97</a></span></p><pre class="oac_no_warn" dir="ltr">--
-- Results obtained by applying transformations on the sub and pred cols
-- 
SQL&gt; select (case substr(sub,1,2) when '_:' then '_:' || substr(sub,instr(sub,'m',1,2)+1) else sub end) sub, pred, (case dbms_lob.substr(obj,2,1) when '_:' then to_clob('_:' || substr(obj,instr(obj,'m',1,2)+1)) else obj end) obj from (select to_char(g$rdfterm) graph, to_char(x$rdfterm) sub, to_char(p$rdfterm) pred, y$rdfterm obj from table(sem_match('Select ?g ?x ?p ?y  WHERE { { GRAPH ?g {?x ?p ?y} } UNION { ?x ?p ?y }}',sem_models('articles'),null,null,null,null,' STRICT_DEFAULT=T PLUS_RDFT=T ',null,null,'RDFUSER','NET1'));

 
SUB
------------------------------------------------------------
PRED
------------------------------------------------------------
OBJ
---------------------------------------------------------------------------
_:b2
&lt;http://purl.org/dc/elements/1.1/creator&gt;
_:b1
 
&lt;http://nature.example.com/Article102&gt;
&lt;http://purl.org/dc/elements/1.1/creator&gt;
_:b1</pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-84666DFA-3509-440A-B85E-1C87DD1E638E">Exporting Semantic Data</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="RDFRM734"></a><div class="props_rev_3"><a id="GUID-BA4A550E-0C49-4D65-8E24-A64D9A044BFA" name="GUID-BA4A550E-0C49-4D65-8E24-A64D9A044BFA"></a><h4 id="RDFRM-GUID-BA4A550E-0C49-4D65-8E24-A64D9A044BFA" class="sect4"><span class="enumeration_section">1.8.4 </span>Exporting or Importing a Semantic Network Using Oracle Data Pump
                  </h4>
                  <div>
                     <p>Effective with Oracle Database Release 12.1, you can export and import a semantic network using the full database export and import features of the Oracle Data Pump utility. The network is moved as part of the full database export or import, where the whole database is represented in an Oracle dump (<code class="codeph">.dmp</code>) file.
                     </p>
                     <p>The following usage notes apply to using Data Pump to export or import a semantic network:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The target database for an import must have the RDF Semantic Graph software installed, and there cannot be a pre-existing semantic network.</p>
                        </li>
                        <li>
                           <p>Semantic networks using fine-grained access control (triple-level or resource-level OLS or VPD) cannot be exported or imported.</p>
                        </li>
                        <li>
                           <p>Semantic document indexes for SEM_CONTAINS (MDSYS.SEMCONTEXT index type) and semantic indexes for SEM_RELATED (MDSYS.SEM_INDEXTYPE index type) must be dropped before an export and re-created after an import.</p>
                        </li>
                        <li>
                           <p>Only default privileges for semantic network objects (those that exist just after object creation) are preserved during export and import. For example, if user A creates semantic model <code class="codeph">M</code> and grants SELECT on RDFM_M to user B, only user A's SELECT privilege on RDFM_M will be present after the import. User B will not have SELECT privilege on RDFM_M after the import. Instead, user B's SELECT privilege will have to be granted again.
                           </p>
                        </li>
                        <li>
                           <p>The Data Pump command line option <code class="codeph">transform=oid:n</code> must be used when exporting or importing semantic network data. For example, use a command in the following format:
                           </p><pre class="oac_no_warn" dir="ltr">impdp system/<span class="italic">&lt;password-for-system&gt;</span> directory=dpump_dir dumpfile=rdf.dmp full=YES version=12 transform=oid:n
</pre></li>
                     </ul>
                     <p>For Data Pump usage information and examples, see the relevant chapters in Part I of <a href="../sutil/oracle-data-pump.html#SUTIL2877" target="_blank"><span class="italic">Oracle Database Utilities</span></a>.
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-65045BFA-D0FE-4720-BF68-2C45765C74E9" title="You can load semantic data into a model in the database and export that data from the database into a staging table.">Loading and Exporting Semantic Data</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-BF54CDFD-EA97-4C23-AB32-EE7F83D5948B" name="GUID-BF54CDFD-EA97-4C23-AB32-EE7F83D5948B"></a><h4 id="RDFRM-GUID-BF54CDFD-EA97-4C23-AB32-EE7F83D5948B" class="sect4"><span class="enumeration_section">1.8.5 </span>Moving, Restoring, and Appending a Semantic Network
                  </h4>
                  <div>
                     <p>The SEM_APIS package includes utility procedures for transferring data into and out of a semantic network. </p>
                     <p>The contents of a semantic network can be moved to a staging schema. A semantic network in a staging schema can then be (1) exported with Oracle Data Pump or a similar tool, (2) appended to a different semantic network, or (3) restored back into the source semantic network. Move, restore and append operations mostly use partition exchange to move data rather than SQL inserts to copy data. Consequently, these operations are very efficient. </p>
                     <p>The procedures to move, restore, and append semantic network data are:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="SEM_APIS-reference.html#GUID-2A9CEA49-B845-4B03-9803-B03B9638979E">SEM_APIS.MOVE_SEM_NETWORK_DATA</a></p>
                        </li>
                        <li>
                           <p><a href="SEM_APIS-reference.html#GUID-8AD226C1-FA8E-47CD-8AA8-F610FFF4CE9F">SEM_APIS.RESTORE_SEM_NETWORK_DATA</a></p>
                        </li>
                        <li>
                           <p><a href="SEM_APIS-reference.html#GUID-65282EA9-126B-44F6-8905-6977D9EDBF08">SEM_APIS.APPEND_SEM_NETWORK_DATA</a></p>
                        </li>
                     </ul>
                     <div class="section">
                        <p class="subhead3" id="GUID-BF54CDFD-EA97-4C23-AB32-EE7F83D5948B__GUID-A5E7E6B6-7509-4D8B-B2D6-BB14AEC43E50">Special Considerations When Performing Move, Restore, and Append Operations</p>
                        <p>Move, restore, and append operations are not supported for semantic networks that use any of the following features:</p>
                        <ul style="list-style-type: disc;" id="GUID-BF54CDFD-EA97-4C23-AB32-EE7F83D5948B__UL_I4M_RZP_QFB">
                           <li>Domain indexes on the RDF_VALUE$ table (for example, spatial indexes)</li>
                           <li>Oracle Label Security for RDF</li>
                           <li>Semantic indexing for documents</li>
                           <li>Incremental inference</li>
                        </ul>
                        <p>Domain indexes and entailments that use incremental inference should be dropped before moving the semantic network and then recreated after any subsequent restore or append operations.</p>
                        <p>Some restrictions apply to the target network used for an append operation. </p>
                        <ul style="list-style-type: disc;" id="GUID-BF54CDFD-EA97-4C23-AB32-EE7F83D5948B__UL_MFL_G1Q_QFB">
                           <li>The set of RDF terms in the target network must be a subset of the set of RDF terms in the source network. </li>
                           <li>The set of model IDs used in the source and target semantic networks must be disjoint.</li>
                           <li>The set of entailment IDs used in the source and target semantic networks must be disjoint.</li>
                           <li>The set of rulebase IDs used in the source and target semantic networks must be disjoint, with the exception of built-in rulebases such as OWL2RL.</li>
                        </ul>
                        <p>The first two examples in this topic show how to move an MDSYS-owned semantic network from one database to another. The third example shows how to move (migrate) an MDSYS-owned semantic network in a database to a schema-private semantic network in the same database.</p>
                        <ul style="list-style-type: disc;" id="GUID-BF54CDFD-EA97-4C23-AB32-EE7F83D5948B__UL_XLK_WFX_QFB">
                           <li><a href="rdf-semantic-graph-overview.html#GUID-BF54CDFD-EA97-4C23-AB32-EE7F83D5948B__GUID-9017A838-493D-4002-828B-04F1CBDCB8A4">Example 1-99</a></li>
                           <li><a href="rdf-semantic-graph-overview.html#GUID-BF54CDFD-EA97-4C23-AB32-EE7F83D5948B__GUID-5B1E7C3D-DF7C-46BF-82BF-747CED700BDC">Example 1-100</a></li>
                           <li><a href="rdf-semantic-graph-overview.html#GUID-BF54CDFD-EA97-4C23-AB32-EE7F83D5948B__GUID-B12D0D4F-1DC1-422C-B2EC-C1720FF7F386">Example 1-101</a></li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-BF54CDFD-EA97-4C23-AB32-EE7F83D5948B__GUID-9017A838-493D-4002-828B-04F1CBDCB8A4">
                        <p class="titleinexample">Example 1-99 Moving and Exporting an MDSYS Semantic Network</p>
                        <p>This first example uses Data Pump Export to export relevant network data to multiple <code class="codeph">.dmp</code> files, so that  the data can be imported into a semantic network in another database (as shown in the second example).
                        </p>
                        <p>This example performs the following major actions.</p>
                        <ol id="GUID-BF54CDFD-EA97-4C23-AB32-EE7F83D5948B__OL_RDL_NYW_QFB">
                           <li>Creates a directory for a Data Pump Export operation.</li>
                           <li>Creates a database user (RDFEXPIMPU) that will hold the output of the export of the semantic network.</li>
                           <li>Moves the semantic network data to the RDFEXPIMPU schema.</li>
                           <li>Uses Data Pump to export the moved semantic network data.</li>
                           <li>Uses Data Pump to export any user application tables referenced by models in the semantic network.</li>
                           <li>Optionally, restores the semantic network data in the current network. (This allows you to continue using the MDSYS-owned semantic network in the current database.)</li>
                        </ol><pre class="pre codeblock"><code>conn sys/&lt;password_for_sys&gt; as sysdba;

-- create directory for datapump export
create directory dpump_dir as '&lt;path_to_directory&gt;';
grant read,write on directory dpump_dir to public;

-- create user to hold exported semantic network
grant connect, resource, unlimited tablespace to rdfexpimpu identified by &lt;password&gt;;

--  connect as a privileged user to move the network
conn system/&lt;password_for_system&gt;
-- move semantic network data to RDFEXPIMPU schema
exec sem_apis.move_sem_network_data(dest_schema=&gt;'RDFEXPIMPU');

-- export moved network data with datapump
-- export rdfexpimpu schema
host expdp rdfexpimpu/&lt;password&gt; DIRECTORY=dpump_dir DUMPFILE=expuser.dmp version=12.2 logfile=export_move_sem_network_data.log

-- export any user application tables referenced by models in the semantic network
host expdp rdfuser/&lt;password&gt; tables=ATAB,ATAB2,ATAB3,GTAB DIRECTORY=dpump_dir DUMPFILE=exp_atabs.dmp version=12.2 logfile=export_move_atabs.log

-- export any user tables referenced in RDF Views
host expdp db_user1/&lt;password&gt; tables=EMP,WORKED_FOR,DEPT DIRECTORY=dpump_dir DUMPFILE=exp_rdfviewtabs.dmp version=12.2 logfile=export_move_rdfview_tabs.log

-- optionally restore the network data or drop the source semantic network
exec sem_apis.restore_sem_network_data(from_schema=&gt;'RDFEXPIMPU');
</code></pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-BF54CDFD-EA97-4C23-AB32-EE7F83D5948B__GUID-5B1E7C3D-DF7C-46BF-82BF-747CED700BDC">
                        <p class="titleinexample">Example 1-100 Importing and Appending an MDSYS Semantic Network</p>
                        <p>This second example uses Data Pump Import to import relevant network data (from the first example), creates necessary database users, creates a new MDSYS-owned semantic network, and "appends" the imported network data into the newly created network.</p>
                        <p>This example performs the following major actions.</p>
                        <ol id="GUID-BF54CDFD-EA97-4C23-AB32-EE7F83D5948B__OL_MJ3_BCX_QFB">
                           <li>Creates a database user (RDFEXPIMPU), if it does not already exist in the database, that will hold the output of the export of the semantic network.</li>
                           <li>Creates users RDFUSER and DB_USER1 if they do not already exist in the database.</li>
                           <li>Uses Data Pump to import any application tables, RDF view component tables, and previously moved semantic network data.</li>
                           <li>Creates a new semantic network in which to append the imported data.</li>
                           <li>Appends the imported data into the newly created semantic network.</li>
                        </ol><pre class="pre codeblock"><code>conn sys/&lt;password_for_sys&gt;

-- create a user to hold the imported semantic network
grant connect, resource, unlimited tablespace to rdfexpimpu identified by &lt;password&gt;;

-- create users that own any associated application tables
grant connect, resource, unlimited tablespace to rdfuser identified by &lt;password&gt;;

-- create users that own any component tables of RDF views
grant connect, resource, unlimited tablespace to db_user1 identified by &lt;password&gt;;

conn system/&lt;password_for_system&gt;

-- import any application tables
host impdp rdfuser/&lt;password&gt; tables=ATAB,ATAB2,ATAB3,GTAB DIRECTORY=dpump_dir DUMPFILE=exp_atabs.dmp version=12.2 logfile=import_append_sem_network_data.log

-- import any RDF view component tables
host impdp db_user1/&lt;password&gt; tables=EMP,WORKED_FOR,DEPT DIRECTORY=dpump_dir DUMPFILE=exp_rdfviewtabs.dmp version=12.2 logfile=import_append_rdfview_tabs.log

-- import the previously moved semantic network
host impdp rdfexpimpu/&lt;password&gt; DIRECTORY=dpump_dir DUMPFILE=expuser.dmp version=12.2 logfile=import_append_atabs.log

-- create a new semantic network in which to append the imported one
exec sem_apis.create_sem_network('rdf_tablespace');

-- append the imported semantic network
exec sem_apis.append_sem_network_data(from_schema=&gt;'RDFEXPIMPU');
</code></pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-BF54CDFD-EA97-4C23-AB32-EE7F83D5948B__GUID-B12D0D4F-1DC1-422C-B2EC-C1720FF7F386">
                        <p class="titleinexample">Example 1-101 Migrating an MDSYS Semantic Network to a Shared Schema-Private Semantic Network</p>
                        <p>This third example migrates an existing MDSYS semantic network to a shared schema-private semantic network by using <a href="SEM_APIS-reference.html#GUID-2A9CEA49-B845-4B03-9803-B03B9638979E">SEM_APIS.MOVE_SEM_NETWORK_DATA</a> and <a href="SEM_APIS-reference.html#GUID-65282EA9-126B-44F6-8905-6977D9EDBF08">SEM_APIS.APPEND_SEM_NETWORK_DATA</a>.
                        </p>
                        <p>This example performs the following major actions.</p>
                        <ol id="GUID-BF54CDFD-EA97-4C23-AB32-EE7F83D5948B__OL_XZ3_4DX_QFB">
                           <li>Creates a database user (RDFEXPIMPU), if it does not already exist in the database, that will hold the moved existing MDSYS-owned semantic network.</li>
                           <li>Moves the existing semantic network data to the RDFEXPIMPU schema.</li>
                           <li>Creates a administrative database user (RDFADMIN), if it does not already exist in the database, that will own the schema-private semantic network.</li>
                           <li>Creates the schema-private semantic network, named MY_NET and owned by RDFADMIN.</li>
                           <li>Sets up network sharing for this newly created schema-private network.
                              <ol type="a" id="GUID-BF54CDFD-EA97-4C23-AB32-EE7F83D5948B__OL_WJS_S2X_QFB">
                                 <li>Grants network sharing privileges to RDFADMIN.</li>
                                 <li>Enables network sharing for all users of the old MDSYS-owned network.</li>
                                 <li>Grants access privileges to two regular database users (UDFUSER and DB_USER1). privileges to RDFADMIN.</li>
                              </ol>
                           </li>
                           <li>Appends the previously moved network data into the shared schema-private semantic network.</li>
                        </ol><pre class="pre codeblock"><code>conn sys/&lt;password_for_sys&gt;

-- create a user to hold the moved semantic network
grant connect, resource, unlimited tablespace to rdfexpimpu identified by rdfexpimpu;

conn system/&lt;password_for_system&gt;

-- move the existing MDSYS semantic network
exec sem_apis.move_sem_network_data(dest_schema=&gt;'RDFEXPIMPU');

-- drop the existing MDSYS semantic network
exec sem_apis.drop_sem_network(cascade=&gt;true);

-- create schema-private semantic network to hold the MDSYS network data
conn sys/&lt;password_for_sys&gt;

-- create an admin user to own the schema-private semantic network
create user rdfadmin identified by rdfadmin;
grant connect,resource,unlimited tablespace to rdfadmin;

conn system/&lt;password_for_system&gt;

-- create the schema-private semantic network
exec sem_apis.create_sem_network(tablespace_name=&gt;'rdf_tablespace',network_owner=&gt;'RDFADMIN',network_name=&gt;'MYNET');

-- setup network sharing for rdfadmin’s schema-private semantic network
-- first grant network sharing privileges to rdfadmin
exec sem_apis.grant_network_sharing_privs(network_owner=&gt;'RDFADMIN');
-- now connect as rdfadmin and enable sharing for all users of the old MDSYS semantic network
conn rdfadmin/&lt;password&gt;
-- enable sharing for rdfadmin’s network
exec sem_apis.enable_network_sharing(network_owner=&gt;'RDFADMIN',network_name=&gt;'MYNET');

-- grant access privileges to RDFUSER
exec sem_apis.grant_network_access_privs(network_owner=&gt;'RDFADMIN',network_name=&gt;'MYNET',network_user=&gt;'RDFUSER');
-- grant access privileges to DB_USER1
exec sem_apis.grant_network_access_privs(network_owner=&gt;'RDFADMIN',network_name=&gt;'MYNET',network_user=&gt;'DB_USER1');

-- append the exported network into the shared schema-private semantic network
-- after this step, migration will be complete, and the new shared schema-private semantic network will be ready to use
conn system/&lt;password_for_system&gt;
exec sem_apis.append_sem_network_data(from_schema=&gt;'RDFEXPIMPU',network_owner=&gt;'RDFADMIN',network_name=&gt;'MYNET');
</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-65045BFA-D0FE-4720-BF68-2C45765C74E9" title="You can load semantic data into a model in the database and export that data from the database into a staging table.">Loading and Exporting Semantic Data</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-DC97A430-3C9C-4A7B-8034-2BEF6E1B3EBD" name="GUID-DC97A430-3C9C-4A7B-8034-2BEF6E1B3EBD"></a><h4 id="RDFRM-GUID-DC97A430-3C9C-4A7B-8034-2BEF6E1B3EBD" class="sect4"><span class="enumeration_section">1.8.6 </span>Purging Unused Values
                  </h4>
                  <div>
                     <p>Deletion of triples over time may lead to a subset of the values in the RDF_VALUE$ table becoming unused in any of the RDF triples or rules currently in the semantic network. If the count of such unused values becomes large and a significant portion of the RDF_VALUE$ table, you may want to purge the unused values using the <a href="SEM_APIS-reference.html#GUID-158F5192-99D1-4791-ACBB-7F242216EA48">SEM_APIS.PURGE_UNUSED_VALUES</a> subprogram.
                     </p>
                     <p>Before the purging, the network owner must be granted SELECT privilege on application tables for all the RDF models. This can be done directly using the GRANT command or by using the <a href="SEM_APIS-reference.html#GUID-D51C0668-072A-42DF-830F-D5CE7E8D9459">SEM_APIS.PRIVILEGE_ON_APP_TABLES</a> subprogram. 
                     </p>
                     <p>Event traces for tasks performed during the purge operation may be recorded into the RDF$ET_TAB table, if present in the invoker's schema, as described in <a href="rdf-semantic-graph-overview.html#GUID-3EF64EB7-6847-4D8B-862E-E38FBD2528AA">Recording Event Traces During Bulk Loading</a>.
                     </p>
                     <p>The following example purges unused values from the RDF_VALUE$ table. The example does not consider named graphs or CLOBs. It also assumes that the data from the example in <a href="rdf-semantic-graph-overview.html#GUID-B403F8B8-F7C2-4253-8DB3-DD0D84DFBDCA">Example: Journal Article Information</a> has been loaded.
                     </p>
                     <div class="example" id="GUID-DC97A430-3C9C-4A7B-8034-2BEF6E1B3EBD__CIHCADGC">
                        <p class="titleinexample">Example 1-102 Purging Unused Values</p><pre class="oac_no_warn" dir="ltr">-- Purging unused values
set numwidth 20

-- Create view to show the values actually used in the RDF model
CREATE VIEW values_used_in_model (value_id) as
  SELECT a.triple.rdf_s_id FROM articles_rdf_data a UNION
  SELECT a.triple.rdf_p_id FROM articles_rdf_data a UNION
  SELECT a.triple.rdf_c_id FROM articles_rdf_data a UNION
  SELECT a.triple.rdf_o_id FROM articles_rdf_data a;
 
View created.

-- Create views to show triples in the model
CREATE VIEW triples_in_app_table as
  SELECT a.triple.GET_SUBJECT('RDFUSER','NET1') AS s, a.triple.GET_PROPERTY('RDFUSER','NET1') AS p, a.triple.GET_OBJ_VALUE('RDFUSER','NET1') AS o
    FROM articles_rdf_data a;
 
View created.

CREATE VIEW triples_in_rdf_model as
  SELECT s, p, o FROM TABLE ( SEM_MATCH('{?s ?p ?o}', SEM_MODELS('articles'), null, null, null, null, ' ', null, null, 'RDFUSER', 'NET1' ));
 
View created.

--
-- Content before deletion
--

-- Values in RDFUSER.NET1#RDF_VALUE$
CREATE TABLE values_before_deletion as select value_id from rdfuser.net1# rdf_value$;
 
Table created.

-- Values used in the RDF model
CREATE TABLE used_values_before_deletion as
  SELECT * FROM values_used_in_model;
 
Table created.

-- Content of RDF model
CREATE TABLE atab_triples_before_deletion
  as select * from triples_in_app_table;
 
Table created.

CREATE TABLE model_triples_before_deletion
  as select * from triples_in_rdf_model;
 
Table created.

-- Delete some triples so that some of the values become unused
DELETE FROM articles_rdf_data a
   WHERE a.triple.GET_PROPERTY('RDFUSER','NET1') = '&lt;http://purl.org/dc/elements/1.1/title&gt;'
     OR a.triple.GET_SUBJECT('RDFUSER','NET1') = '&lt;http://nature.example.com/Article1&gt;';
 
5 rows deleted.

-- Content of RDF model after deletion
CREATE TABLE atab_triples_after_deletion
  as select * from triples_in_app_table;
 
Table created.

CREATE TABLE model_triples_after_deletion
  as select * from triples_in_rdf_model;
 
Table created.

-- Values that became unused in the RDF model
SELECT * from used_values_before_deletion
  MINUS
  SELECT * FROM values_used_in_model;
 
VALUE_ID
--------------------
 1399113999628774496
 4597469165946334122
 6345024408674005890
 7299961478807817799
 7995347759607176041

-- RDF_VALUE$ content, however, is unchanged
SELECT value_id from values_before_deletion
  MINUS
  select value_id from rdfuser.net1#rdf_value$;
 
no rows selected

-- Now purge the values from RDF_VALUE$ (requires that the network owner (RDFUSER) has
-- SELECT privilege on *all* the app tables in the semantic network)
EXECUTE sem_apis.privilege_on_app_tables(network_owner=&gt;'RDFUSER', network_name=&gt;'NET1');
 
PL/SQL procedure successfully completed.
 
EXECUTE sem_apis.purge_unused_values(network_owner=&gt;'RDFUSER', network_name=&gt;'NET1');
 
PL/SQL procedure successfully completed.

-- RDF_VALUE$ content is NOW changed due to the purge of unused values
SELECT value_id from values_before_deletion
  MINUS
  select value_id from rdfuser.net1#rdf_value$;
 
VALUE_ID
--------------------
 1399113999628774496
 4597469165946334122
 6345024408674005890
 7299961478807817799
 7995347759607176041

-- Content of RDF model after purge
CREATE TABLE atab_triples_after_purge
  as select * from triples_in_app_table;
 
Table created.

CREATE TABLE model_triples_after_purge
  as select * from triples_in_rdf_model;
 
Table created.

-- Compare triples present before purging of values and after purging
SELECT * from atab_triples_after_deletion
  MINUS
  SELECT * FROM atab_triples_after_purge;
 
no rows selected

SELECT * from model_triples_after_deletion
  MINUS
  SELECT * FROM model_triples_after_purge;
 
no rows selected
</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-65045BFA-D0FE-4720-BF68-2C45765C74E9" title="You can load semantic data into a model in the database and export that data from the database into a staging table.">Loading and Exporting Semantic Data</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="RDFRM99905"></a><div class="props_rev_3"><a id="GUID-159DBD08-E59E-4A16-8EA9-5B40EB964D12" name="GUID-159DBD08-E59E-4A16-8EA9-5B40EB964D12"></a><h3 id="RDFRM-GUID-159DBD08-E59E-4A16-8EA9-5B40EB964D12" class="sect3"><span class="enumeration_section">1.9 </span>Using Semantic Network Indexes
               </h3>
               <div>
                  <p>Semantic network indexes are nonunique B-tree indexes that you can add, alter, and drop for use with models and entailments in a semantic network.</p>
                  <p>You can use such indexes to tune the performance of SEM_MATCH queries on the models and entailments in the network. As with any indexes, semantic network indexes enable index-based access that suits your query workload. This can lead to substantial performance benefits, such as in the following example scenarios:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>If your graph pattern is <code class="codeph">'{&lt;John&gt; ?p &lt;Mary&gt;}'</code>, you may want to have a usable <code class="codeph">'CSPGM'</code>or <code class="codeph">'SCPGM'</code> index for the target model or models and on the corresponding entailment, if used in the query.
                        </p>
                     </li>
                     <li>
                        <p>If your graph pattern is <code class="codeph">'{?x &lt;talksTo&gt; ?y . ?z ?p ?y}'</code>, you may want to have a usable semantic network index on the relevant model or models and entailment, with <code class="codeph">C</code> as the leading key (for example, <code class="codeph">'CPSGM'</code>).
                        </p>
                     </li>
                  </ul>
                  <p>However, using semantic network indexes can affect overall performance by increasing the time required for DML, load, and inference operations.</p>
                  <p>You can create and manage semantic network indexes using the following subprograms:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="SEM_APIS-reference.html#GUID-8BA84977-E702-4077-9FB4-33512A04CFF2">SEM_APIS.ADD_SEM_INDEX</a></p>
                     </li>
                     <li>
                        <p><a href="SEM_APIS-reference.html#GUID-071D8D4C-F13E-4FCB-8526-52E9D2D1B819">SEM_APIS.ALTER_SEM_INDEX_ON_MODEL</a></p>
                     </li>
                     <li>
                        <p><a href="SEM_APIS-reference.html#GUID-1E3F54C4-8178-458C-8A38-528A6C8E814B">SEM_APIS.ALTER_SEM_INDEX_ON_ENTAILMENT</a></p>
                     </li>
                     <li>
                        <p><a href="SEM_APIS-reference.html#GUID-4239B10E-6225-4411-B2D1-CE1402C11449">SEM_APIS.DROP_SEM_INDEX</a></p>
                     </li>
                  </ul>
                  <p>All of these subprograms have an <code class="codeph">index_code</code> parameter, which can contain any sequence of the following letters (without repetition): <code class="codeph">P</code>, <code class="codeph">C</code>, <code class="codeph">S</code>, <code class="codeph">G</code>, <code class="codeph">M</code>. These letters used in the index_code correspond to the following columns in the SEMM_* and SEMI_* views: P_VALUE_ID, CANON_END_NODE_ID, START_NODE_ID, G_ID, and MODEL_ID.
                  </p>
                  <p>The <a href="SEM_APIS-reference.html#GUID-8BA84977-E702-4077-9FB4-33512A04CFF2">SEM_APIS.ADD_SEM_INDEX</a> procedure creates a semantic network index that results in creation of a nonunique B-tree index in UNUSABLE status for each of the existing models and entailments. The name of the index is RDF_LNK_<span class="italic">&lt;index_code&gt;</span>_IDX and the index is owned by the network owner. This operation is allowed only if the invoker has DBA role or is the network owner. The following example shows creation of the <code class="codeph">PSCGM</code> index with the following key: &lt;P_VALUE_ID, START_NODE_ID, CANON_END_NODE_ID, G_ID, MODEL_ID&gt;.
                  </p><pre class="oac_no_warn" dir="ltr">EXECUTE SEM_APIS.ADD_SEM_INDEX('PSCGM' network_owner=&gt;'RDFUSER', network_name=&gt;'NET1');
</pre><p>After you create a semantic network index, each of the corresponding nonunique B-tree indexes is in the UNUSABLE status, because making it usable can cause significant time and resources to be used, and because subsequent index maintenance operations might involve performance costs that you do not want to incur. You can make a semantic network index usable or unusable for specific models or entailments that you own by calling the <a href="SEM_APIS-reference.html#GUID-071D8D4C-F13E-4FCB-8526-52E9D2D1B819">SEM_APIS.ALTER_SEM_INDEX_ON_MODEL</a> and <a href="SEM_APIS-reference.html#GUID-1E3F54C4-8178-458C-8A38-528A6C8E814B">SEM_APIS.ALTER_SEM_INDEX_ON_ENTAILMENT</a> procedures and specifying <code class="codeph">'REBUILD'</code> or <code class="codeph">'UNUSABLE'</code> as the <code class="codeph">command</code> parameter. Thus, you can experiment by making different semantic network indexes usable and unusable, and checking for any differences in performance. For example, the following statement makes the <code class="codeph">PSCGM</code> index usable for the <code class="codeph">FAMILY</code> model:
                  </p><pre class="oac_no_warn" dir="ltr">EXECUTE SEM_APIS.ALTER_SEM_INDEX_ON_MODEL('FAMILY','PSCGM','REBUILD' network_owner=&gt;'RDFUSER', network_name=&gt;'NET1');
</pre><p>Also note the following:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Independent of any semantic network indexes that you create, when a semantic network is created, one of the indexes that is automatically created is an index that you can manage by referring to the <code class="codeph">index_code</code> as <code class="codeph">'PSCGM'</code> when you call the subprograms mentioned in this section.
                        </p>
                     </li>
                     <li>
                        <p>When you create a new model or a new entailment, a new nonunique B-tree index is created for each of the semantic network indexes, and each such B-tree index is in the USABLE status.</p>
                     </li>
                     <li>
                        <p>Including the MODEL_ID column in a semantic network index key (by including 'M' in the <code class="codeph">index_code</code> value) may improve query performance. This is particularly relevant when virtual models are used.
                        </p>
                     </li>
                  </ul>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-D47120ED-1CC6-47ED-8216-C7E2E9910064">SEM_NETWORK_INDEX_INFO View</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-F422BB9F-8473-4980-9D6C-848F708C10E0" title="Oracle Spatial and Graph support for semantic technologies consists mainly of Resource Description Framework (RDF) and a subset of the Web Ontology Language (OWL). These capabilities are referred to as the RDF Knowledge Graph feature of Oracle Spatial and Graph.">RDF Knowledge Graph Overview</a></p>
                     </div>
                  </div>
               </div>
               <a id="RDFRM208"></a><a id="RDFRM207"></a><div class="props_rev_3"><a id="GUID-D47120ED-1CC6-47ED-8216-C7E2E9910064" name="GUID-D47120ED-1CC6-47ED-8216-C7E2E9910064"></a><h4 id="RDFRM-GUID-D47120ED-1CC6-47ED-8216-C7E2E9910064" class="sect4"><span class="enumeration_section">1.9.1 </span>SEM_NETWORK_INDEX_INFO View
                  </h4>
                  <div>
                     <p>Information about all network indexes on models and entailments is maintained in the SEM_NETWORK_INDEX_INFO view, which includes (a partial list) the columns shown in <a href="rdf-semantic-graph-overview.html#GUID-D47120ED-1CC6-47ED-8216-C7E2E9910064__CIHCBJII" title="SEM_NETWORK_INDEX_INFO view columns (partial list)">Table 1-18</a> and one row for each network index.
                     </p>
                     <div class="tblformal" id="GUID-D47120ED-1CC6-47ED-8216-C7E2E9910064__CIHCBJII">
                        <p class="titleintable">Table 1-18 SEM_NETWORK_INDEX_INFO View Columns (Partial List)</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="SEM_NETWORK_INDEX_INFO View Columns (Partial List)" summary="SEM_NETWORK_INDEX_INFO view columns (partial list)" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="21%" id="d5269e13731">Column Name</th>
                                 <th align="left" valign="bottom" width="23%" id="d5269e13734">Data Type</th>
                                 <th align="left" valign="bottom" width="56%" id="d5269e13737">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="21%" id="d5269e13742" headers="d5269e13731 ">
                                    <p>NAME</p>
                                 </td>
                                 <td align="left" valign="top" width="23%" headers="d5269e13742 d5269e13734 ">
                                    <p>VARCHAR2(30)</p>
                                 </td>
                                 <td align="left" valign="top" width="56%" headers="d5269e13742 d5269e13737 ">
                                    <p>Name of the RDF model or entailment</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="21%" id="d5269e13752" headers="d5269e13731 ">
                                    <p>TYPE</p>
                                 </td>
                                 <td align="left" valign="top" width="23%" headers="d5269e13752 d5269e13734 ">
                                    <p>VARCHAR2(10)</p>
                                 </td>
                                 <td align="left" valign="top" width="56%" headers="d5269e13752 d5269e13737 ">
                                    <p>Type of object on which the index is built: <code class="codeph">MODEL</code>, <code class="codeph">ENTAILMENT</code>, or <code class="codeph">NETWORK</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="21%" id="d5269e13770" headers="d5269e13731 ">
                                    <p>ID</p>
                                 </td>
                                 <td align="left" valign="top" width="23%" headers="d5269e13770 d5269e13734 ">
                                    <p>NUMBER</p>
                                 </td>
                                 <td align="left" valign="top" width="56%" headers="d5269e13770 d5269e13737 ">
                                    <p>ID number for the model or entailment, or zero (0) for an index on the network</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="21%" id="d5269e13780" headers="d5269e13731 ">
                                    <p>INDEX_CODE</p>
                                 </td>
                                 <td align="left" valign="top" width="23%" headers="d5269e13780 d5269e13734 ">
                                    <p>VARCHAR2(25)</p>
                                 </td>
                                 <td align="left" valign="top" width="56%" headers="d5269e13780 d5269e13737 ">
                                    <p>Code for the index (for example, <code class="codeph">PSCGM</code>).
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="21%" id="d5269e13793" headers="d5269e13731 ">
                                    <p>INDEX_NAME</p>
                                 </td>
                                 <td align="left" valign="top" width="23%" headers="d5269e13793 d5269e13734 ">
                                    <p>VARCHAR2(30)</p>
                                 </td>
                                 <td align="left" valign="top" width="56%" headers="d5269e13793 d5269e13737 ">
                                    <p>Name of the index (for example, <code class="codeph">RDF_LNK_PSCGM_IDX</code>)
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="21%" id="d5269e13806" headers="d5269e13731 ">
                                    <p>LAST_REFRESH</p>
                                 </td>
                                 <td align="left" valign="top" width="23%" headers="d5269e13806 d5269e13734 ">
                                    <p>TIMESTAMP(6) WITH TIME ZONE</p>
                                 </td>
                                 <td align="left" valign="top" width="56%" headers="d5269e13806 d5269e13737 ">
                                    <p>Timestamp for the last time this content was refreshed</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>In addition to the columns listed in <a href="rdf-semantic-graph-overview.html#GUID-D47120ED-1CC6-47ED-8216-C7E2E9910064__CIHCBJII" title="SEM_NETWORK_INDEX_INFO view columns (partial list)">Table 1-18</a>, the SEM_NETWORK_INDEX_INFO view contains columns from the <a href="../refrn/ALL_INDEXES.html#REFRN20088" target="_blank"><span>ALL_INDEXES</span></a> and <a href="../refrn/ALL_IND_PARTITIONS.html#REFRN20086" target="_blank">ALL_IND_PARTITIONS</a> views (both described in <span class="italic">Oracle Database Reference</span>), including:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>From the ALL_INDEXES view: UNIQUENESS, COMPRESSION, PREFIX_LENGTH</p>
                        </li>
                        <li>
                           <p>From the ALL_IND_PARTITIONS view: STATUS, TABLESPACE_NAME, BLEVEL, LEAF_BLOCKS, NUM_ROWS, DISTINCT_KEYS, AVG_LEAF_BLOCKS_PER_KEY, AVG_DATA_BLOCKS_PER_KEY, CLUSTERING_FACTOR, SAMPLE_SIZE, LAST_ANALYZED</p>
                        </li>
                     </ul>
                     <p>Note that the information in the SEM_NETWORK_INDEX_INFO view may sometimes be stale. You can refresh this information by using the <a href="SEM_APIS-reference.html#GUID-D7742055-88CB-4187-AC78-A6C66C70ED20">SEM_APIS.REFRESH_SEM_NETWORK_INDEX_INFO</a> procedure.
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-159DBD08-E59E-4A16-8EA9-5B40EB964D12" title="Semantic network indexes are nonunique B-tree indexes that you can add, alter, and drop for use with models and entailments in a semantic network.">Using Semantic Network Indexes</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="RDFRM210"></a><a id="RDFRM211"></a><a id="RDFRM212"></a><a id="RDFRM209"></a><div class="props_rev_3"><a id="GUID-E0FC3EA3-9385-4D94-AB3C-72F65EDAC966" name="GUID-E0FC3EA3-9385-4D94-AB3C-72F65EDAC966"></a><h3 id="RDFRM-GUID-E0FC3EA3-9385-4D94-AB3C-72F65EDAC966" class="sect3"><span class="enumeration_section">1.10 </span>Using Data Type Indexes
               </h3>
               <div>
                  <p>Data type indexes are indexes on the values of typed literals stored in a semantic network.</p>
                  <p>These indexes may significantly improve the performance of SEM_MATCH queries involving certain types of FILTER expressions. For example, a data type index on <code class="codeph">xsd:dateTime</code> literals may speed up evaluation of the filter <code class="codeph">(?x &lt; "1929-11-16T13:45:00Z"^^xsd:dateTime)</code>. Indexes can be created for several data types, which are listed in <a href="rdf-semantic-graph-overview.html#GUID-E0FC3EA3-9385-4D94-AB3C-72F65EDAC966__CIHIFBFD" title="Data Types for Data Type Indexing of RDF Data. Column 1 is Data Type, column 2 is Oracle Type, and column 3 is Index Type.">Table 1-19</a>.
                  </p>
                  <div class="tblformal" id="GUID-E0FC3EA3-9385-4D94-AB3C-72F65EDAC966__CIHIFBFD">
                     <p class="titleintable">Table 1-19 Data Types for Data Type Indexing</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="Data Types for Data Type Indexing" summary="Data Types for Data Type Indexing of RDF Data. Column 1 is Data Type, column 2 is Oracle Type, and column 3 is Index Type." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="45%" id="d5269e13928">Data Type URI</th>
                              <th align="left" valign="bottom" width="13%" id="d5269e13931">Oracle Type</th>
                              <th align="left" valign="bottom" width="42%" id="d5269e13934">Index Type</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="45%" id="d5269e13939" headers="d5269e13928 ">
                                 <p>http://www.w3.org/2001/XMLSchema#decimal</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d5269e13939 d5269e13931 ">
                                 <p>NUMBER</p>
                              </td>
                              <td align="left" valign="top" width="42%" headers="d5269e13939 d5269e13934 ">
                                 <p>Non-unique B-tree (creates a single index for all xsd numeric types, including <code class="codeph">xsd:float</code>, <code class="codeph">xsd:double</code>, and <code class="codeph">xsd:decimal </code>and all of its subtypes)
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="45%" id="d5269e13958" headers="d5269e13928 ">
                                 <p>http://www.w3.org/2001/XMLSchema#string</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d5269e13958 d5269e13931 ">
                                 <p>VARCHAR2</p>
                              </td>
                              <td align="left" valign="top" width="42%" headers="d5269e13958 d5269e13934 ">
                                 <p>Non-unique B-tree (creates a single index for <code class="codeph">xsd:string</code> typed literals and plain literals)
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="45%" id="d5269e13971" headers="d5269e13928 ">
                                 <p>http://www.w3.org/2001/XMLSchema#time</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d5269e13971 d5269e13931 ">
                                 <p>TIMESTAMP WITH TIMEZONE</p>
                              </td>
                              <td align="left" valign="top" width="42%" headers="d5269e13971 d5269e13934 ">
                                 <p>Non-unique B-tree</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="45%" id="d5269e13981" headers="d5269e13928 ">
                                 <p>http://www.w3.org/2001/XMLSchema#date</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d5269e13981 d5269e13931 ">
                                 <p>TIMESTAMP WITH TIMEZONE</p>
                              </td>
                              <td align="left" valign="top" width="42%" headers="d5269e13981 d5269e13934 ">
                                 <p>Non-unique B-tree</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="45%" id="d5269e13991" headers="d5269e13928 ">
                                 <p>http://www.w3.org/2001/XMLSchema#dateTime</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d5269e13991 d5269e13931 ">
                                 <p>TIMESTAMP WITH TIMEZONE</p>
                              </td>
                              <td align="left" valign="top" width="42%" headers="d5269e13991 d5269e13934 ">
                                 <p>Non-unique B-tree</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="45%" id="d5269e14001" headers="d5269e13928 ">
                                 <p>http://xmlns.oracle.com/rdf/text</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d5269e14001 d5269e13931 ">
                                 <p>(Not applicable)</p>
                              </td>
                              <td align="left" valign="top" width="42%" headers="d5269e14001 d5269e13934 ">
                                 <p>CTXSYS.CONTEXT</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="45%" id="d5269e14011" headers="d5269e13928 ">
                                 <p>http://xmlns.oracle.com/rdf/geo/WKTLiteral</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d5269e14011 d5269e13931 ">
                                 <p>SDO_GEOMETRY</p>
                              </td>
                              <td align="left" valign="top" width="42%" headers="d5269e14011 d5269e13934 ">
                                 <p>MDSYS.SPATIAL_INDEX</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="45%" id="d5269e14021" headers="d5269e13928 ">
                                 <p>http://www.opengis.net/geosparql#wktLiteral</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d5269e14021 d5269e13931 ">
                                 <p>SDO_GEOMETRY</p>
                              </td>
                              <td align="left" valign="top" width="42%" headers="d5269e14021 d5269e13934 ">
                                 <p>MDSYS.SPATIAL_INDEX</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="45%" id="d5269e14031" headers="d5269e13928 ">
                                 <p>http://www.opengis.net/geosparql#gmlLiteral</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d5269e14031 d5269e13931 ">
                                 <p>SDO_GEOMETRY</p>
                              </td>
                              <td align="left" valign="top" width="42%" headers="d5269e14031 d5269e13934 ">
                                 <p>MDSYS.SPATIAL_INDEX</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="45%" id="d5269e14041" headers="d5269e13928 ">
                                 <p>http://xmlns.oracle.com/rdf/like</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d5269e14041 d5269e13931 ">
                                 <p>VARCHAR2</p>
                              </td>
                              <td align="left" valign="top" width="42%" headers="d5269e14041 d5269e13934 ">
                                 <p>Non-unique B-tree</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p>The suitability of data type indexes depends on your query workload. Data type indexes on <code class="codeph">xsd</code> data types can be used for filters that compare a variable with a constant value, and are particularly useful when queries have an unselective graph pattern with a very selective filter condition. Appropriate data type indexes are required for queries with spatial or text filters.
                  </p>
                  <p>While data type indexes improve query performance, overhead from incremental index maintenance can degrade the performance of DML and bulk load operations on the semantic network. For bulk load operations, it may often be faster to drop data type indexes, perform the bulk load, and then re-create the data type indexes. </p>
                  <p>You can add, alter, and drop data type indexes using the following procedures, which are described in <a href="SEM_APIS-reference.html#GUID-F42AB976-445A-4DCD-974C-3B9ED810E3D5" title="The SEM_APIS package contains subprograms (functions and procedures) for working with the Resource Description Framework (RDF) and Web Ontology Language (OWL) in an Oracle database."> SEM_APIS Package Subprograms</a>:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="SEM_APIS-reference.html#GUID-3984C866-8524-458E-B858-43B0339E6629">SEM_APIS.ADD_DATATYPE_INDEX</a></p>
                     </li>
                     <li>
                        <p><a href="SEM_APIS-reference.html#GUID-E7F9EEB6-323F-4DF6-B00E-40F8F8F8DE84">SEM_APIS.ALTER_DATATYPE_INDEX</a></p>
                     </li>
                     <li>
                        <p><a href="SEM_APIS-reference.html#GUID-3D17DAEF-7764-4646-99EE-DB5BFEE5D5D5">SEM_APIS.DROP_DATATYPE_INDEX</a></p>
                     </li>
                  </ul>
                  <p><a id="d5269e14083" class="indexterm-anchor"></a><a id="d5269e14085" class="indexterm-anchor"></a>Information about existing data type indexes is maintained in the SEM_DTYPE_INDEX_INFO view, which has the columns shown in <a href="rdf-semantic-graph-overview.html#GUID-E0FC3EA3-9385-4D94-AB3C-72F65EDAC966__CIHGDJFG" title="SEM_DTYPE_INDEX_INFO view columns. Column 1 is Column Name, column 2 is Data Type, and column 3 is Description.">Table 1-20</a> and one row for each data type index.
                  </p>
                  <div class="tblformal" id="GUID-E0FC3EA3-9385-4D94-AB3C-72F65EDAC966__CIHGDJFG">
                     <p class="titleintable">Table 1-20 SEM_DTYPE_INDEX_INFO View Columns</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="SEM_DTYPE_INDEX_INFO View Columns" summary="SEM_DTYPE_INDEX_INFO view columns. Column 1 is Column Name, column 2 is Data Type, and column 3 is Description." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="20%" id="d5269e14106">Column Name</th>
                              <th align="left" valign="bottom" width="20%" id="d5269e14109">Data Type</th>
                              <th align="left" valign="bottom" width="60%" id="d5269e14112">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d5269e14117" headers="d5269e14106 ">
                                 <p>DATATYPE</p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d5269e14117 d5269e14109 ">
                                 <p>VARCHAR2(51)</p>
                              </td>
                              <td align="left" valign="top" width="60%" headers="d5269e14117 d5269e14112 ">
                                 <p>Data type URI</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d5269e14127" headers="d5269e14106 ">
                                 <p>INDEX_NAME</p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d5269e14127 d5269e14109 ">
                                 <p>VARCHAR2(30)</p>
                              </td>
                              <td align="left" valign="top" width="60%" headers="d5269e14127 d5269e14112 ">
                                 <p>Name of the index</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d5269e14137" headers="d5269e14106 ">
                                 <p>STATUS</p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d5269e14137 d5269e14109 ">
                                 <p>VARCHAR2(8)</p>
                              </td>
                              <td align="left" valign="top" width="60%" headers="d5269e14137 d5269e14112 ">
                                 <p>Status of the index: <code class="codeph">USABLE</code> or <code class="codeph">UNUSABLE</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d5269e14152" headers="d5269e14106 ">
                                 <p>TABLESPACE_NAME</p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d5269e14152 d5269e14109 ">
                                 <p>VARCHAR2(30)</p>
                              </td>
                              <td align="left" valign="top" width="60%" headers="d5269e14152 d5269e14112 ">
                                 <p>Tablespace for the index</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d5269e14162" headers="d5269e14106 ">
                                 <p>FUNCIDX_STATUS</p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d5269e14162 d5269e14109 ">
                                 <p>VARCHAR2(8)</p>
                              </td>
                              <td align="left" valign="top" width="60%" headers="d5269e14162 d5269e14112 ">
                                 <p>Status of the function-based index: <code class="codeph">NULL</code>, <code class="codeph">ENABLED</code>, or <code class="codeph">DISABLED</code></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p>You can use the <code class="codeph">HINT0</code> hint to ensure that data type indexes are used during query evaluation, as shown in <a href="rdf-semantic-graph-overview.html#GUID-E0FC3EA3-9385-4D94-AB3C-72F65EDAC966__CIHJAFFJ">Example 1-103</a>, which finds all grandfathers who were born before November 16, 1929.
                  </p>
                  <div class="example" id="GUID-E0FC3EA3-9385-4D94-AB3C-72F65EDAC966__CIHJAFFJ">
                     <p class="titleinexample">Example 1-103 Using HINT0 to Ensure Use of Data Type Index</p><pre class="oac_no_warn" dir="ltr">SELECT x, y
  FROM TABLE(SEM_MATCH(
    'PREFIX : &lt;http://www.example.org/family/&gt;
     SELECT ?x ?y 
     WHERE {?x :grandParentOf ?y . ?x rdf:type :Male . ?x :birthDate ?bd
       FILTER (?bd &lt;= "1929-11-15T23:59:59Z"^^xsd:dateTime) }',
    SEM_Models('family'),
    SEM_Rulebases('RDFS','family_rb'), 
    
    null, null, null, 
    <span class="bold">'HINT0</span>={ LEADING(?bd) INDEX(?bd rdf_v$dateTime_idx) } 
             FAST_DATE_FILTER=T', 
    null, null,
    'RDFUSER', 'NET1' ));
</pre></div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-F422BB9F-8473-4980-9D6C-848F708C10E0" title="Oracle Spatial and Graph support for semantic technologies consists mainly of Resource Description Framework (RDF) and a subset of the Web Ontology Language (OWL). These capabilities are referred to as the RDF Knowledge Graph feature of Oracle Spatial and Graph.">RDF Knowledge Graph Overview</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="RDFRM405"></a><div class="props_rev_3"><a id="GUID-273402FC-2C92-4B36-981A-1E8644FB7134" name="GUID-273402FC-2C92-4B36-981A-1E8644FB7134"></a><h3 id="RDFRM-GUID-273402FC-2C92-4B36-981A-1E8644FB7134" class="sect3"><span class="enumeration_section">1.11 </span>Managing Statistics for Semantic Models and the Semantic Network
               </h3>
               <div>
                  <p>Statistics are critical to the performance of SPARQL queries and OWL inference against semantic data stored in an Oracle database.</p>
                  <p>Oracle Database Release 11<span class="italic">g</span> introduced <a href="SEM_APIS-reference.html#GUID-5F9B7803-8072-4095-832D-034EE5514D03">SEM_APIS.ANALYZE_MODEL</a>, <a href="SEM_APIS-reference.html#GUID-E146F4B9-7A84-4E46-9204-572140612E2D">SEM_APIS.ANALYZE_ENTAILMENT</a>, and <a href="SEM_PERF-reference.html#GUID-285D5640-9DF4-460B-B27E-7671711EFA18">SEM_PERF.GATHER_STATS</a> to analyze semantic data and keep statistics up to date. These APIs are straightforward to use and they are targeted at regular users who may not care about the internal details about table and partition statistics.
                  </p>
                  <p>You can export, import, set, and delete model and entailment statistics, and can export, import, and delete network statistics, using the following subprograms:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="SEM_APIS-reference.html#GUID-E08C848B-6025-41A0-99F9-2B5705B22B55">SEM_APIS.DELETE_ENTAILMENT_STATS</a></p>
                     </li>
                     <li>
                        <p><a href="SEM_APIS-reference.html#GUID-B5C40AEF-1DEA-45D2-B5CE-823ED65B9D14">SEM_APIS.DELETE_MODEL_STATS</a></p>
                     </li>
                     <li>
                        <p><a href="SEM_APIS-reference.html#GUID-363C9F40-3D7B-4E5F-ACCC-2C1DA6E66A6C">SEM_APIS.EXPORT_ENTAILMENT_STATS </a></p>
                     </li>
                     <li>
                        <p><a href="SEM_APIS-reference.html#GUID-DA10B7BD-A7DF-4709-8A2F-4840FDAAEC02">SEM_APIS.EXPORT_MODEL_STATS </a></p>
                     </li>
                     <li>
                        <p><a href="SEM_APIS-reference.html#GUID-8A59606F-D1D7-4C18-9D66-3E1BB7AE264E">SEM_APIS.IMPORT_ENTAILMENT_STATS </a></p>
                     </li>
                     <li>
                        <p><a href="SEM_APIS-reference.html#GUID-9CD5F831-BC49-4A27-9F43-B268ABB199DF">SEM_APIS.IMPORT_MODEL_STATS </a></p>
                     </li>
                     <li>
                        <p><a href="SEM_APIS-reference.html#GUID-49A11D86-115D-4C0E-9DC6-576A89F6CC9A">SEM_APIS.SET_ENTAILMENT_STATS </a></p>
                     </li>
                     <li>
                        <p><a href="SEM_APIS-reference.html#GUID-4734FA56-4EC7-4A06-9021-8E7ED69812CE">SEM_APIS.SET_MODEL_STATS </a></p>
                     </li>
                     <li>
                        <p><a href="SEM_PERF-reference.html#GUID-C06E6B3B-F1FB-4752-AF74-369D605212C8">SEM_PERF.DELETE_NETWORK_STATS</a></p>
                     </li>
                     <li>
                        <p><a href="SEM_PERF-reference.html#GUID-C4923275-D6B1-4852-8ED8-AEFEE20B6C1E">SEM_PERF.DROP_EXTENDED_STATS</a></p>
                     </li>
                     <li>
                        <p><a href="SEM_PERF-reference.html#GUID-A95028BC-E1E8-42A3-BA21-35FA17CDC270">SEM_PERF.EXPORT_NETWORK_STATS </a></p>
                     </li>
                     <li>
                        <p><a href="SEM_PERF-reference.html#GUID-33BF8D3E-0048-4145-8C74-A340CEB48DC6">SEM_PERF.IMPORT_NETWORK_STATS </a></p>
                     </li>
                  </ul>
                  <p>This section contains the following topics related to managing statistics for semantic models and the semantic network.</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-F02766D5-1699-41BF-9999-C8EC5315F9E9">Saving Statistics at a Model Level</a><br></li>
                     <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-003C4023-249B-4B8D-908C-FA2EF24D2E40">Restoring Statistics at a Model Level</a><br></li>
                     <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-4F2360F4-6BFB-4CBA-9209-9E79A9796746">Saving Statistics at the Network Level</a><br></li>
                     <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-B3844B17-35ED-45F9-A2A9-583326E4A3E5">Dropping Extended Statistics at the Network Level</a><br></li>
                     <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-75F85A5B-8FEA-4206-86AC-06DEA92F4F51">Restoring Statistics at the Network Level</a><br></li>
                     <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-D9E1422B-88F6-4F44-B211-53032C8907F7">Setting Statistics at a Model Level</a><br></li>
                     <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-F34AB6A8-A0C5-49B7-8430-EBDE872E16CE">Deleting Statistics at a Model Level</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-F422BB9F-8473-4980-9D6C-848F708C10E0" title="Oracle Spatial and Graph support for semantic technologies consists mainly of Resource Description Framework (RDF) and a subset of the Web Ontology Language (OWL). These capabilities are referred to as the RDF Knowledge Graph feature of Oracle Spatial and Graph.">RDF Knowledge Graph Overview</a></p>
                     </div>
                  </div>
               </div>
               <a id="RDFRM406"></a><div class="props_rev_3"><a id="GUID-F02766D5-1699-41BF-9999-C8EC5315F9E9" name="GUID-F02766D5-1699-41BF-9999-C8EC5315F9E9"></a><h4 id="RDFRM-GUID-F02766D5-1699-41BF-9999-C8EC5315F9E9" class="sect4"><span class="enumeration_section">1.11.1 </span>Saving Statistics at a Model Level
                  </h4>
                  <div>
                     <p>If queries and inference against an existing model are executed efficiently, as the owner of the model, you can save the statistics of the existing model.</p><pre class="oac_no_warn" dir="ltr">-- Login as the model owner (for example, SCOTT)
-- Create a stats table. This is required.
execute dbms_stats.create_stat_table('scott','rdf_stat_tab');
 
-- You must grant access to MDSYS
SQL&gt; grant select, insert, delete, update on scott.rdf_stat_tab to MDSYS;
 
-- Now export the statistics of model TEST
execute sem_apis.export_model_stats('TEST','rdf_stat_tab', 'model_stat_saved_on_AUG_10', true, 'SCOTT', 'OBJECT_STATS', network_owner=&gt;'RDFUSER', network_name=&gt;'NET1');
</pre><p>You can also save the statistics of an entailment (entailed graph) by using <a href="SEM_APIS-reference.html#GUID-363C9F40-3D7B-4E5F-ACCC-2C1DA6E66A6C">SEM_APIS.EXPORT_ENTAILMENT_STATS </a>.
                     </p><pre class="oac_no_warn" dir="ltr">execute sem_apis.create_entailment('test_inf',sem_models('test'),sem_rulebases('owl2rl'),0,null,network_owner=&gt;'RDFUSER',network_name=&gt;'NET1');
PL/SQL procedure successfully completed.
 
execute sem_apis.export_entailment_stats('TEST_INF','rdf_stat_tab', 'inf_stat_saved_on_AUG_10', true, 'SCOTT', 'OBJECT_STATS', network_owner=&gt;'RDFUSER', network_name=&gt;'NET1');
</pre></div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-273402FC-2C92-4B36-981A-1E8644FB7134" title="Statistics are critical to the performance of SPARQL queries and OWL inference against semantic data stored in an Oracle database.">Managing Statistics for Semantic Models and the Semantic Network</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="RDFRM407"></a><div class="props_rev_3"><a id="GUID-003C4023-249B-4B8D-908C-FA2EF24D2E40" name="GUID-003C4023-249B-4B8D-908C-FA2EF24D2E40"></a><h4 id="RDFRM-GUID-003C4023-249B-4B8D-908C-FA2EF24D2E40" class="sect4"><span class="enumeration_section">1.11.2 </span>Restoring Statistics at a Model Level
                  </h4>
                  <div>
                     <p>As the owner of a model, can restore the statistics that were previously saved with <a href="SEM_APIS-reference.html#GUID-DA10B7BD-A7DF-4709-8A2F-4840FDAAEC02">SEM_APIS.EXPORT_MODEL_STATS </a>. This may be necessary if updates have been applied to this model and statistics have been re-collected. A change in statistics might cause a plan change to existing SPARQL queries, and if such a plan change is undesirable, then an old set of statistics can be restored.
                     </p><pre class="oac_no_warn" dir="ltr">execute sem_apis.import_model_stats('TEST','rdf_stat_tab', 'model_stat_saved_on_AUG_10', true, 'SCOTT', false, true, 'OBJECT_STATS', network_owner=&gt;'RDFUSER', network_name=&gt;'NET1');</pre><p>You can also restore the statistics of an entailment (entailed graph) by using <a href="SEM_APIS-reference.html#GUID-8A59606F-D1D7-4C18-9D66-3E1BB7AE264E">SEM_APIS.IMPORT_ENTAILMENT_STATS </a>.
                     </p><pre class="oac_no_warn" dir="ltr">execute sem_apis.import_entailment_stats('TEST','rdf_stat_tab', 'inf_stat_saved_on_AUG_10', true, 'SCOTT', false, true, 'OBJECT_STATS', network_owner=&gt;'RDFUSER', network_name=&gt;'NET1');</pre></div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-273402FC-2C92-4B36-981A-1E8644FB7134" title="Statistics are critical to the performance of SPARQL queries and OWL inference against semantic data stored in an Oracle database.">Managing Statistics for Semantic Models and the Semantic Network</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="RDFRM408"></a><div class="props_rev_3"><a id="GUID-4F2360F4-6BFB-4CBA-9209-9E79A9796746" name="GUID-4F2360F4-6BFB-4CBA-9209-9E79A9796746"></a><h4 id="RDFRM-GUID-4F2360F4-6BFB-4CBA-9209-9E79A9796746" class="sect4"><span class="enumeration_section">1.11.3 </span>Saving Statistics at the Network Level
                  </h4>
                  <div>
                     <p>You can save statistics at the network level.</p><pre class="oac_no_warn" dir="ltr">-- Network owners and DBAs have privileges to gather network-wide 
-- statistics with the SEM_PERF package.
--
-- This example assumes a schema-private semantic network named NET1
-- owned by RDFUSER.
--

conn RDFUSER/&lt;password&gt;
 
execute dbms_stats.create_stat_table('RDFUSER','rdf_stat_tab');
-- The next grant is only necessary if using the MDSYS semantic network
grant select, insert, delete, update on RDFUSER.rdf_stat_tab to MDSYS;
 
--
-- This API call will save the statistics of both the RDF_VALUE$ table
-- and RDF_LINK$ table
--
execute sem_perf.export_network_stats('rdf_stat_tab', 'NETWORK_ALL_saved_on_Aug_10', true, 'RDFUSER', 'OBJECT_STATS', network_owner=&gt;'RDFUSER', network_name=&gt;'NET1');
 
--
-- Alternatively, you can save statistics of only the RDF_VALUE$ table
--
execute sem_perf.export_network_stats('rdf_stat_tab', 'NETWORK_VALUE_TAB_saved_on_Aug_10', true, 'RDFUSER', 'OBJECT_STATS', options=&gt; mdsys.sdo_rdf.VALUE_TAB_ONLY, network_owner=&gt;'RDFUSER', network_name=&gt;'NET1');
 
--
-- Or, you can save statistics of only the RDF_LINK$ table
--
execute sem_perf.export_network_stats('rdf_stat_tab', 'NETWORK_LINK_TAB_saved_on_Aug_10', true, 'RDFUSER', 'OBJECT_STATS', options=&gt; mdsys.sdo_rdf.LINK_TAB_ONLY, network_owner=&gt;'RDFUSER', network_name=&gt;'NET1');
</pre></div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-273402FC-2C92-4B36-981A-1E8644FB7134" title="Statistics are critical to the performance of SPARQL queries and OWL inference against semantic data stored in an Oracle database.">Managing Statistics for Semantic Models and the Semantic Network</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-B3844B17-35ED-45F9-A2A9-583326E4A3E5" name="GUID-B3844B17-35ED-45F9-A2A9-583326E4A3E5"></a><h4 id="RDFRM-GUID-B3844B17-35ED-45F9-A2A9-583326E4A3E5" class="sect4"><span class="enumeration_section">1.11.4 </span>Dropping Extended Statistics at the Network Level
                  </h4>
                  <div>
                     <p>By default, <a href="SEM_PERF-reference.html#GUID-285D5640-9DF4-460B-B27E-7671711EFA18">SEM_PERF.GATHER_STATS</a> creates extended statistics with column groups on the RDF_LINK$ table. The privileged user from <a href="rdf-semantic-graph-overview.html#GUID-4F2360F4-6BFB-4CBA-9209-9E79A9796746">Saving Statistics at the Network Level</a> can drop these column groups using <a href="SEM_PERF-reference.html#GUID-C4923275-D6B1-4852-8ED8-AEFEE20B6C1E">SEM_PERF.DROP_EXTENDED_STATS</a>. 
                     </p><pre class="oac_no_warn" dir="ltr">connect RDFUSER/&lt;password&gt;
execute sem_perf.drop_extended_stats(network_owner=&gt;'RDFUSER', network_name=&gt;'NET1');
</pre><p>See also the information about managing extended statistics in <a href="../tgsql/managing-extended-statistics.html#TGSQL-GUID-BD0F0B71-DD8B-44A0-888E-495830FC09A4" target="_blank"><span class="italic">Oracle Database SQL Tuning Guide</span></a>. .
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-273402FC-2C92-4B36-981A-1E8644FB7134" title="Statistics are critical to the performance of SPARQL queries and OWL inference against semantic data stored in an Oracle database.">Managing Statistics for Semantic Models and the Semantic Network</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="RDFRM784"></a><div class="props_rev_3"><a id="GUID-75F85A5B-8FEA-4206-86AC-06DEA92F4F51" name="GUID-75F85A5B-8FEA-4206-86AC-06DEA92F4F51"></a><h4 id="RDFRM-GUID-75F85A5B-8FEA-4206-86AC-06DEA92F4F51" class="sect4"><span class="enumeration_section">1.11.5 </span>Restoring Statistics at the Network Level
                  </h4>
                  <div>
                     <p>The privileged user from <a href="rdf-semantic-graph-overview.html#GUID-4F2360F4-6BFB-4CBA-9209-9E79A9796746">Saving Statistics at the Network Level</a> can restore the network level statistics using <a href="SEM_PERF-reference.html#GUID-33BF8D3E-0048-4145-8C74-A340CEB48DC6">SEM_PERF.IMPORT_NETWORK_STATS </a>.
                     </p><pre class="oac_no_warn" dir="ltr">conn RDFUSER/&lt;password&gt;
 
execute sem_perf.import_network_stats('rdf_stat_tab', 'NETWORK_ALL_saved_on_Aug_10', true, 'RDFUSER', false, true, 'OBJECT_STATS', network_owner=&gt;'RDFUSER', network_name=&gt;'NET1');
</pre></div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-273402FC-2C92-4B36-981A-1E8644FB7134" title="Statistics are critical to the performance of SPARQL queries and OWL inference against semantic data stored in an Oracle database.">Managing Statistics for Semantic Models and the Semantic Network</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="RDFRM409"></a><div class="props_rev_3"><a id="GUID-D9E1422B-88F6-4F44-B211-53032C8907F7" name="GUID-D9E1422B-88F6-4F44-B211-53032C8907F7"></a><h4 id="RDFRM-GUID-D9E1422B-88F6-4F44-B211-53032C8907F7" class="sect4"><span class="enumeration_section">1.11.6 </span>Setting Statistics at a Model Level
                  </h4>
                  <div>
                     <p>As the owner of a model, you can manually adjust the statistics for this model. (However, before you adjust statistics, you should save the statistics first so that they can be restored if necessary.) The following example sets two metrics: number of rows and number of blocks for the model.</p><pre class="oac_no_warn" dir="ltr">execute sem_apis.set_model_stats('TEST', numrows=&gt;10, numblks=&gt;1,no_invalidate=&gt;false,network_owner=&gt;'RDFUSER',network_name=&gt;'NET1');</pre><p>You can also set the statistics for the entailment by using <a href="SEM_APIS-reference.html#GUID-49A11D86-115D-4C0E-9DC6-576A89F6CC9A">SEM_APIS.SET_ENTAILMENT_STATS </a>.
                     </p><pre class="oac_no_warn" dir="ltr">execute sem_apis.set_entailment_stats('TEST_INF', numrows=&gt;10, numblks=&gt;1,no_invalidate=&gt;false,network_owner=&gt;'RDFUSER',network_name=&gt;'NET1');</pre></div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-273402FC-2C92-4B36-981A-1E8644FB7134" title="Statistics are critical to the performance of SPARQL queries and OWL inference against semantic data stored in an Oracle database.">Managing Statistics for Semantic Models and the Semantic Network</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="RDFRM411"></a><div class="props_rev_3"><a id="GUID-F34AB6A8-A0C5-49B7-8430-EBDE872E16CE" name="GUID-F34AB6A8-A0C5-49B7-8430-EBDE872E16CE"></a><h4 id="RDFRM-GUID-F34AB6A8-A0C5-49B7-8430-EBDE872E16CE" class="sect4"><span class="enumeration_section">1.11.7 </span>Deleting Statistics at a Model Level
                  </h4>
                  <div>
                     <p>Removing statistics can also have an impact on execution plans. As owner of a model, you can remove the statistics for the model.</p><pre class="oac_no_warn" dir="ltr">execute sem_apis.delete_model_stats('TEST', no_invalidate=&gt; false, network_owner=&gt;'RDFUSER', network_name=&gt;'NET1');</pre><p>You can also remove the statistics for the entailment by using <a href="SEM_APIS-reference.html#GUID-E08C848B-6025-41A0-99F9-2B5705B22B55">SEM_APIS.DELETE_ENTAILMENT_STATS</a>. (However, before you remove statistics of a model or an entailment, you should save the statistics first so that they can be restored if necessary.) 
                     </p><pre class="oac_no_warn" dir="ltr">execute sem_apis.delete_entailment_stats('TEST_INF', no_invalidate=&gt; false, network_owner=&gt;'RDFUSER', network_name=&gt;'NET1');</pre></div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-273402FC-2C92-4B36-981A-1E8644FB7134" title="Statistics are critical to the performance of SPARQL queries and OWL inference against semantic data stored in an Oracle database.">Managing Statistics for Semantic Models and the Semantic Network</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-933AEB65-4F16-40BB-9FA4-0E16380607EB" name="GUID-933AEB65-4F16-40BB-9FA4-0E16380607EB"></a><h3 id="RDFRM-GUID-933AEB65-4F16-40BB-9FA4-0E16380607EB" class="sect3"><span class="enumeration_section">1.12 </span>Support for SPARQL Update Operations on a Semantic Model
               </h3>
               <div>
                  <p>Effective with Oracle Database Release 12.2, you can perform SPARQL Update operations on a semantic model.</p>
                  <p>The W3C provides SPARQL 1.1 Update (<a href="https://www.w3.org/TR/2013/REC-sparql11-update-20130321/" target="_blank">https://www.w3.org/TR/2013/REC-sparql11-update-20130321/</a>), an update language for RDF graphs. SPARQL 1.1 Update is supported in Oracle Database semantic technologies through the <a href="SEM_APIS-reference.html#GUID-85BBFA6D-07F9-43CF-BD2A-B3D7B686792A">SEM_APIS.UPDATE_MODEL</a> procedure.
                  </p>
                  <p>Before performing any SPARQL Update operations on a model, some prerequisites apply:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>The <a href="SEM_APIS-reference.html#GUID-E81C1405-436C-4455-8DFC-C082CB893371">SEM_APIS.CREATE_SPARQL_UPDATE_TABLES</a> procedure should be run in the schema of each user that will be using the <a href="SEM_APIS-reference.html#GUID-85BBFA6D-07F9-43CF-BD2A-B3D7B686792A">SEM_APIS.UPDATE_MODEL</a> procedure.
                        </p>
                     </li>
                     <li>
                        <p>Each user that will update a model using the <a href="SEM_APIS-reference.html#GUID-85BBFA6D-07F9-43CF-BD2A-B3D7B686792A">SEM_APIS.UPDATE_MODEL</a> procedure must have the INSERT privilege on the application table associated with the <code class="codeph">apply_model</code> model, and the network owner user must be granted the INSERT privilege on that table (for example, <code class="codeph">GRANT INSERT on APP_TAB1 to MDSYS;</code> in the case of an MDSYS-owned network).
                        </p>
                        <p>The application table is the table that holds references to the semantic data for the model.</p>
                     </li>
                     <li>
                        <p>•	To run a LOAD operation, the user must have the CREATE ANY DIRECTORY and DROP ANY DIRECTORY privileges, or the user must be granted READ privileges on an existing directory object whose name is supplied in the <code class="codeph">options</code> parameter.
                        </p>
                     </li>
                  </ul>
                  <p>Examples follow that show update operations being performed on an RDF model. These examples assume a schema-private semantic network named NET1 owned by a database user named RDFUSER.</p>
                  <div class="example" id="GUID-933AEB65-4F16-40BB-9FA4-0E16380607EB__GUID-9D23A1F8-4BEB-4E14-A09C-0B5698CB9631">
                     <p class="titleinexample">Example 1-104 INSERT DATA Operation</p>
                     <p>This example shows an INSERT DATA operation that inserts several triples in the default graph of the <code class="codeph">electronics</code> model.
                     </p><pre class="pre codeblock"><code>-- Dataset before operation:
<span class="bold">#Empty default graph</span>
-- Update operation:
BEGIN
  sem_apis.update_model('electronics',
   'PREFIX : &lt;http://www.example.org/electronics/&gt; 
    INSERT DATA {
       :camera1 :name "Camera 1" .
       :camera1 :price 120 .
       :camera1 :cameraType :Camera .
       :camera2 :name "Camera 2" .
       :camera2 :price 150 .
       :camera2 :cameraType :Camera .
      } ', 
   network_owner=&gt;'RDFUSER', network_name=&gt;'NET1');
END;
/

-- Dataset after operation:
@prefix : &lt;http://www.example.org/electronics/&gt; 
<span class="bold">#Default graph</span>
:camera1 :name "Camera 1";
         :price 120;
         :cameraType :Camera .
:camera2 :name "Camera 2"; 
         :price 150;
         :cameraType :Camera .
</code></pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-933AEB65-4F16-40BB-9FA4-0E16380607EB__GUID-CC899603-76F2-492E-A1F5-E1154CB2141C">
                     <p class="titleinexample">Example 1-105 DELETE DATA Operation</p>
                     <p>This example shows a DELETE DATA operation that removes a single triple from the default graph of the <code class="codeph">electronics</code> model.
                     </p><pre class="pre codeblock"><code>-- Dataset before operation:
@prefix : &lt;http://www.example.org/electronics/&gt; 
<span class="bold">#Default graph
</span>:camera1 :name "Camera 1";
         :price 120;
         :cameraType :Camera .
:camera2 :name "Camera 2";
         :price 150;
         :cameraType :Camera .
-- Update operation:
BEGIN
  sem_apis.update_model('electronics',
   'PREFIX : &lt;http://www.example.org/electronics/&gt; 
    DELETE DATA { :camera1 :price 120 . } ', 
   network_owner=&gt;'RDFUSER', network_name=&gt;'NET1');
END;
/

-- Dataset after operation:
@prefix : &lt;http://www.example.org/electronics/&gt; 
<span class="bold">#Default graph
</span>:camera1 :name "Camera 1";
         :cameraType :Camera .
:camera2 :name "Camera 2";
         :price 150;
         :cameraType :Camera .
</code></pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-933AEB65-4F16-40BB-9FA4-0E16380607EB__DELETEDATAOPERATION-F3C33741">
                     <p class="titleinexample">Example 1-106 DELETE/INSERT Operation on Default Graph</p>
                     <p>This example performs a DELETE/INSERT operation. The <code class="codeph">:</code><code class="codeph">cameraType</code> of :<code class="codeph">camera1</code> is updated to <code class="codeph">:</code><code class="codeph">digitalCamera</code>.
                     </p><pre class="pre codeblock"><code>-- Dataset before operation:
@prefix : &lt;http://www.example.org/electronics/&gt; 
<span class="bold">#Default graph</span>
:camera1 :name "Camera 1";
         :cameraType :Camera .
:camera2 :name "Camera 2";
         :price 150;
         :cameraType :Camera .

-- Update operation:
BEGIN
  sem_apis.update_model('electronics',
   'PREFIX : &lt;http://www.example.org/electronics/&gt; 
    DELETE { :camera1 :cameraType ?type . } 
    INSERT { :camera1 :cameraType :digitalCamera . } 
    WHERE  { :camera1 :cameraType ?type . }', 
   network_owner=&gt;'RDFUSER', network_name=&gt;'NET1');
END;
/

-- Dataset after operation:
@prefix : &lt;http://www.example.org/electronics/&gt; 
<span class="bold">#Default graph</span>
:camera1 :name "Camera 1";
         :cameraType :digitalCamera .
:camera2 :name "Camera 2";
         :price 150;
         :cameraType :Camera .
</code></pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-933AEB65-4F16-40BB-9FA4-0E16380607EB__DELETEDATAOPERATION-F3C3C569">
                     <p class="titleinexample">Example 1-107 DELETE/INSERT Operation Involving Default Graph and Named Graph</p>
                     <p>Graphs can also be specified inside the DELETE and INSERT templates, as well as inside the WHERE clause. This example moves all triples corresponding to digital cameras from the default graph to the graph <code class="codeph">:digitalCameras</code>.
                     </p><pre class="pre codeblock"><code>-- Dataset before operation:
@prefix : &lt;http://www.example.org/electronics/&gt; 
<span class="bold">#Default graph</span>
:camera1 :name "Camera 1";
         :cameraType :digitalCamera .
:camera2 :name "Camera 2";
         :price 150;
         :cameraType :Camera .
<span class="bold">#Empty graph :digitalCameras</span>

-- Update operation:
BEGIN
  sem_apis.update_model('electronics',
   'PREFIX : &lt;http://www.example.org/electronics/&gt; 
    DELETE { ?s ?p ?o } 
    INSERT { graph :digitalCameras { ?s ?p ?o } }
    WHERE  { ?s :cameraType :digitalCamera .
             ?s ?p ?o }', 
   network_owner=&gt;'RDFUSER', network_name=&gt;'NET1');
END;
/

-- Dataset after operation:
@prefix : &lt;http://www.example.org/electronics/&gt; 
<span class="bold">#Default graph</span>
:camera2 :name "Camera 2";
         :price 150;
         :cameraType :Camera .
<span class="bold">#Graph :digitalCameras</span>
GRAPH :digitalCameras {
  :camera1 :name "Camera 1";
           :cameraType :digitalCamera .
}
</code></pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-933AEB65-4F16-40BB-9FA4-0E16380607EB__DELETEDATAOPERATION-F3C3CB7F">
                     <p class="titleinexample">Example 1-108 INSERT WHERE and DELETE WHERE Operations</p>
                     <p>One of either the DELETE template or the INSERT template can be omitted from a DELETE/INSERT operation. In addition, the template following DELETE can be omitted as a shortcut for using the WHERE pattern as the DELETE template. This example uses an INSERT WHERE statement to insert the contents of the <code class="codeph">:digitalCameras</code> graph to the <code class="codeph">:cameras</code> graph, and it uses a DELETE WHERE statement (with syntactic shortcut) to delete all contents of the <code class="codeph">:cameras</code> graph.
                     </p><pre class="pre codeblock"><code>
-- <span class="bold">INSERT WHERE</span>
-- Dataset before operation:
@prefix : &lt;http://www.example.org/electronics/&gt; 
<span class="bold">#Default graph</span>
:camera2 :name "Camera 2";
         :price 150;
         :cameraType :Camera .
<span class="bold">#Graph :digitalCameras</span>
GRAPH :digitalCameras {
  :camera1 :name "Camera 1";
           :cameraType :digitalCamera .
}
<span class="bold">#Empty graph :cameras</span>

-- Update operation:
BEGIN
  sem_apis.update_model('electronics',
   'PREFIX : &lt;http://www.example.org/electronics/&gt; 
    INSERT { graph :cameras { ?s ?p ?o } }
    WHERE  { graph :digitalCameras { ?s ?p ?o } }', 
   network_owner=&gt;'RDFUSER', network_name=&gt;'NET1');
END;
/

-- Dataset after operation:
@prefix : &lt;http://www.example.org/electronics/&gt; 
<span class="bold">#Default graph</span>
:camera2 :name "Camera 2";
         :price 150;
         :cameraType :Camera .
<span class="bold">#Graph :digitalCameras</span>
GRAPH :digitalCameras {
  :camera1 :name "Camera 1";
           :cameraType :digitalCamera .
}
<span class="bold">#Graph :cameras</span>
GRAPH :cameras {
  :camera1 :name "Camera 1";
           :cameraType :digitalCamera .
}

-- <span class="bold">DELETE WHERE</span>
-- Dataset before operation:
@prefix : &lt;http://www.example.org/electronics/&gt; 
<span class="bold">#Default graph</span>
:camera2 :name "Camera 2";
         :price 150;
         :cameraType :Camera .
<span class="bold">#Graph :digitalCameras</span>
GRAPH :digitalCameras {
  :camera1 :name "Camera 1";
           :cameraType :digitalCamera .
}
<span class="bold">#Graph :cameras</span>
GRAPH :cameras {
  :camera1 :name "Camera 1";
           :cameraType :digitalCamera .
}

-- Update operation:
BEGIN
  sem_apis.update_model('electronics',
   'PREFIX : &lt;http://www.example.org/electronics/&gt; 
    DELETE WHERE { graph :cameras { ?s ?p ?o } }', 
   network_owner=&gt;'RDFUSER', network_name=&gt;'NET1');
END;
/

-- Dataset after operation:
@prefix : &lt;http://www.example.org/electronics/&gt; 
<span class="bold">#Default graph</span>
:camera2 :name "Camera 2";
         :price 150;
         :cameraType :Camera .
<span class="bold">#Graph :digitalCameras</span>
GRAPH :digitalCameras {
  :camera1 :name "Camera 1";
           :cameraType :digitalCamera .
}
<span class="bold">#Empty graph :cameras</span>
</code></pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-933AEB65-4F16-40BB-9FA4-0E16380607EB__DELETEDATAOPERATION-F3C37FCA">
                     <p class="titleinexample">Example 1-109 COPY Operation</p>
                     <p>This example performs a COPY operation. All data from the default graph is inserted into the graph <code class="codeph">:cameras</code>. Existing data from <code class="codeph">:cameras</code>, if any, is removed before the insertion.
                     </p><pre class="pre codeblock"><code>-- Dataset before operation:
@prefix : &lt;http://www.example.org/electronics/&gt; 
<span class="bold">#Default graph</span>
:camera2 :name "Camera 2";
         :price 150;
         :cameraType :Camera .
<span class="bold">#Graph :digitalCameras</span>
GRAPH :digitalCameras {
  :camera1 :name "Camera 1";
           :cameraType :digitalCamera .
}
<span class="bold">#Graph :cameras</span>
GRAPH :cameras {
  :camera3 :name "Camera 3" .
}

-- Update operation:
BEGIN
  sem_apis.update_model('electronics',
   'PREFIX : &lt;http://www.example.org/electronics/&gt;
    COPY DEFAULT TO GRAPH :cameras', 
   network_owner=&gt;'RDFUSER', network_name=&gt;'NET1');
END;
/

-- Dataset after operation:
@prefix : &lt;http://www.example.org/electronics/&gt; 
<span class="bold">#Default graph</span>
:camera2 :name "Camera 2";
         :price 150;
         :cameraType :Camera .
<span class="bold">#Graph :digitalCameras</span>
GRAPH :digitalCameras {
  :camera1 :name "Camera 1"; 
           :cameraType :digitalCamera .
}
<span class="bold">#Graph :cameras</span>
GRAPH :cameras {
  :camera2 :name "Camera 2";
           :price 150;
           :cameraType :Camera .
}
</code></pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-933AEB65-4F16-40BB-9FA4-0E16380607EB__DELETEDATAOPERATION-F3C39DFE">
                     <p class="titleinexample">Example 1-110 ADD Operation</p>
                     <p>This example adds all the triples in the graph <code class="codeph">:digitalCameras</code> to the graph <code class="codeph">:cameras</code>.
                     </p><pre class="pre codeblock"><code>-- Dataset before operation:
@prefix : &lt;http://www.example.org/electronics/&gt; 
<span class="bold">#Default graph</span>
:camera2 :name "Camera 2";
         :price 150;
         :cameraType :Camera .
<span class="bold">#Graph :digitalCameras</span>
GRAPH :digitalCameras {
  :camera1 :name "Camera 1";
           :cameraType :digitalCamera .
}
<span class="bold">#Graph :cameras</span>
GRAPH :cameras {
  :camera2 :name "Camera 2";
           :price 150;
           :cameraType :Camera .
}

-- Update operation:
BEGIN
  sem_apis.update_model('electronics',
   'PREFIX : &lt;http://www.example.org/electronics/&gt;
    ADD GRAPH :digitalCameras TO GRAPH :cameras', 
   network_owner=&gt;'RDFUSER', network_name=&gt;'NET1');
END;
/

-- Dataset after operation:
@prefix : &lt;http://www.example.org/electronics/&gt; 
<span class="bold">#Default graph</span>
:camera2 :name "Camera 2";
         :price 150;
         :cameraType :Camera .
<span class="bold">#Graph :digitalCameras</span>
GRAPH :digitalCameras {
  :camera1 :name "Camera 1";
           :cameraType :digitalCamera .
}
<span class="bold">#Graph :cameras</span>
GRAPH :cameras {
  :camera1 :name "Camera 1";
           :cameraType :digitalCamera .
  :camera2 :name "Camera 2";
           :price 150;
           :cameraType :Camera .
}
</code></pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-933AEB65-4F16-40BB-9FA4-0E16380607EB__DELETEDATAOPERATION-F3C3A179">
                     <p class="titleinexample">Example 1-111 MOVE Operation</p>
                     <p>This example moves all the triples in the graph <code class="codeph">:digitalCameras</code> to the graph <code class="codeph">:digCam</code>.
                     </p><pre class="pre codeblock"><code>-- Dataset before operation:
@prefix : &lt;http://www.example.org/electronics/&gt; 
<span class="bold">#Default graph</span>
:camera2 :name "Camera 2";
         :price 150;
         :cameraType :Camera .
<span class="bold">#Graph :digitalCameras</span>
GRAPH :digitalCameras {
  :camera1 :name "Camera 1";
           :cameraType :digitalCamera .
}
<span class="bold">#Graph :cameras</span>
GRAPH :cameras {
  :camera1 :name "Camera 1";
           :cameraType :digitalCamera .
  :camera2 :name "Camera 2";
           :price 150;
           :cameraType :Camera .
}
<span class="bold">#Graph :digCam</span>
GRAPH :digCam {
  :camera4 :cameraType :digCamera .
}

-- Update operation:
BEGIN
  sem_apis.update_model('electronics',
   'PREFIX : &lt;http://www.example.org/electronics/&gt;
    MOVE GRAPH :digitalCameras TO GRAPH :digCam', 
   network_owner=&gt;'RDFUSER', network_name=&gt;'NET1');
END;
/

-- Dataset after operation:
@prefix : &lt;http://www.example.org/electronics/&gt; 
<span class="bold">#Default graph</span>
:camera2 :name "Camera 2" .
         :camera2 :price 150 .
         :camera2 :cameraType :Camera .
<span class="bold">#Empty graph :digitalCameras</span>
<span class="bold">#Graph :cameras</span>
GRAPH :cameras {
  :camera1 :name "Camera 1";
           :cameraType :digitalCamera .
  :camera2 :name "Camera 2";
           :price 150;
           :cameraType :Camera .
}
<span class="bold">#Graph :digCam</span>
GRAPH :digCam {
  :camera1 :name "Camera 1";
           :cameraType :digitalCamera .
}
</code></pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-933AEB65-4F16-40BB-9FA4-0E16380607EB__DELETEDATAOPERATION-F3C3A800">
                     <p class="titleinexample">Example 1-112 CLEAR Operation</p>
                     <p>This example performs a CLEAR operation, deleting all the triples in the default graph. Because empty graphs are not stored in the RDF model, the CLEAR operation always succeeds and is equivalent to a DROP operation. (For the same reason, the CREATE operation has no effect on the RDF model.)</p><pre class="pre codeblock"><code>-- Dataset before operation:
@prefix : &lt;http://www.example.org/electronics/&gt; 
<span class="bold">#Default graph</span>
:camera2 :name "Camera 2";
         :price 150;
         :cameraType :Camera .
<span class="bold">#Empty graph :digitalCameras</span>
<span class="bold">#Graph :cameras</span>
GRAPH :cameras {
  :camera1 :name "Camera 1";
           :cameraType :digitalCamera 
  :camera2 :name "Camera 2";
           :price 150;
           :cameraType :Camera .
}
<span class="bold">#Graph :digCam</span>
GRAPH :digCam {
  :camera1 :name "Camera 1";
           :cameraType :digitalCamera .
}

-- Update operation:
BEGIN
  sem_apis.update_model('electronics',
   'CLEAR DEFAULT ', 
   network_owner=&gt;'RDFUSER', network_name=&gt;'NET1');
END;
/

-- Dataset after operation:
@prefix : &lt;http://www.example.org/electronics/&gt; 
<span class="bold">#Empty Default graph</span>
<span class="bold">#Empty graph :digitalCameras</span>
<span class="bold">#Graph :cameras</span>
GRAPH :cameras {
  :camera1 :name "Camera 1";
           :cameraType :digitalCamera .
  :camera2 :name "Camera 2";
           :price 150;
           :cameraType :Camera .
}
<span class="bold">#Graph :digCam</span>
GRAPH :digCam {
  :camera1 :name "Camera 1";
           :cameraType :digitalCamera .
}
</code></pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-933AEB65-4F16-40BB-9FA4-0E16380607EB__LOADOPERATION-F3C461C6">
                     <p class="titleinexample">Example 1-113 LOAD Operation</p>
                     <p>N-Triple, N-Quad, Turtle, and Trig files can be loaded from the local file system using the LOAD operation. Note that the simpler N-Triple, and N-Quad formats can be loaded faster than Turtle and Trig. An optional INTO clause can be used to load the file into a specific named graph. To perform a LOAD operation, the user must either (1) have CREATE ANY DIRECTORY and DROP ANY DIRECTORY privileges or (2) supply the name of an existing directory object in the <code class="codeph">options</code> parameter of UPDATE_MODEL. This example loads the /home/oracle/example.nq N-Quad file into a semantic model..
                     </p>
                     <p>Note that the use of an INTO clause with an N-Quad or Trig file will override any named graph information in the file. In this example, <code class="codeph">INTO GRAPH :cameras</code> overrides <code class="codeph">:myGraph</code> for the first quad, so the subject, property, object triple component of this quad is inserted into the <code class="codeph">:cameras</code> graph instead.
                     </p><pre class="pre codeblock"><code>-- Datafile: /home/oracle/example.nq
&lt;http://www.example.org/electronics/camera3&gt; &lt;http://www.example.org/electronics/name&gt; "Camera 3" &lt;http://www.example.org/electronics/myGraph&gt; .
&lt;http://www.example.org/electronics/camera3&gt; &lt;http://www.example.org/electronics/price&gt; "125"^^&lt;http://www.w3.org/2001/XMLSchema#decimal&gt; .

-- Dataset before operation:
<span class="bold">#Graph :cameras</span>
GRAPH :cameras {
  :camera1 :name "Camera 1";
           :cameraType :digitalCamera .
  :camera2 :name "Camera 2";
           :price 150;
           :cameraType :Camera .
}
<span class="bold">#Graph :digCam</span>
GRAPH :digCam {
  :camera1 :name "Camera 1";
           :cameraType :digitalCamera .
}

-- Update operation:
CREATE OR REPLACE DIRECTORY MY_DIR AS '/home/oracle';

BEGIN
  sem_apis.update_model('electronics',
   'PREFIX : &lt;http://www.example.org/electronics/&gt;
    LOAD &lt;file:///example.nq&gt; INTO GRAPH :cameras',
   options=&gt;'LOAD_DIR={MY_DIR}', 
   network_owner=&gt;'RDFUSER', network_name=&gt;'NET1');
END;
END;
/

-- Dataset after operation:
@prefix : &lt;http://www.example.org/electronics/&gt; 
<span class="bold">#Graph :cameras</span>
GRAPH :cameras {
  :camera1 :name "Camera 1";
           :cameraType :digitalCamera .
  :camera2 :name "Camera 2";
           :price 150;
           :cameraType :Camera .
  :camera3 :name "Camera 3";
           :price 125.
}
<span class="bold">#Graph :digCam</span>
GRAPH :digCam {
  :camera1 :name "Camera 1";
           :cameraType :digitalCamera .
}
</code></pre><p>Several files under the same directory can be loaded in parallel with a single LOAD operation. To specify extra N-Triple or N-Quad files to be loaded, you can use the LOAD_OPTIONS hint. The degree of parallelism for the load can be specified with <code class="codeph">PARALLEL(<span class="codeinlineitalic">n</span>)</code> in the <code class="codeph">options</code> string.. The following example shows how to load the files <code class="codeph">/home/oracle/example1.nq</code>, <code class="codeph">/home/oracle/example2.nq</code>, and <code class="codeph">/home/oracle/example3.nq</code> into a semantic model. A degree of parallelism of 3 is  used for this example.
                     </p><pre class="pre codeblock"><code>BEGIN
  sem_apis.update_model('electronics',
   'PREFIX : &lt;http://www.example.org/electronics/&gt;
    LOAD &lt;file:///example1.nq&gt;',
   options=&gt; ' PARALLEL(3) LOAD_OPTIONS={ example2.nq example3.nq } LOAD_DIR={MY_DIR} ', 
   network_owner=&gt;'RDFUSER', network_name=&gt;'NET1' );
END;
/
</code></pre><p>Related subtopics:</p>
                  </div>
                  <!-- class="example" -->
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-1B3AC09B-CDFF-432C-A8EF-29DED33A8FBB">Tuning the Performance of SPARQL Update Operations</a><br></li>
                     <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-4E36E98D-9728-495B-B1BE-EF58BAFB914C">Transaction Management with SPARQL Update Operations</a><br></li>
                     <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-00F29761-1EE5-43E7-AD0A-915AC5D8C0B5">Support for Bulk Operations</a><br></li>
                     <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-49303712-A684-44F4-A93F-51C2CBE3501A">Setting UPDATE_MODEL Options at the Session Level</a><br></li>
                     <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-DF14B64E-A340-4C6D-8CC1-8FCFB61F8FA2">Load Operations: Special Considerations for SPARQL Update</a><br></li>
                     <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-83E90581-5F84-45CB-9032-61EA153B0F10">Long Literals: Special Considerations for SPARQL Update</a><br></li>
                     <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-5B8265BB-15BA-4B5C-AB8F-FB4B4D36CE0E">Blank Nodes: Special Considerations for SPARQL Update</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-F422BB9F-8473-4980-9D6C-848F708C10E0" title="Oracle Spatial and Graph support for semantic technologies consists mainly of Resource Description Framework (RDF) and a subset of the Web Ontology Language (OWL). These capabilities are referred to as the RDF Knowledge Graph feature of Oracle Spatial and Graph.">RDF Knowledge Graph Overview</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="props_rev_3"><a id="GUID-1B3AC09B-CDFF-432C-A8EF-29DED33A8FBB" name="GUID-1B3AC09B-CDFF-432C-A8EF-29DED33A8FBB"></a><h4 id="RDFRM-GUID-1B3AC09B-CDFF-432C-A8EF-29DED33A8FBB" class="sect4"><span class="enumeration_section">1.12.1 </span>Tuning the Performance of SPARQL Update Operations
                  </h4>
                  <div>
                     <p>In some cases it may be necessary to tune the performance of SPARQL Update operations. Because SPARQL Update operations involve executing one or more SPARQL queries based on the WHERE clause in the UPDATE statement, the <a href="rdf-semantic-graph-overview.html#GUID-E04ABC63-304C-4706-812B-D54448FCE55C">Best Practices for Query Performance</a> also apply to SPARQL Update operations. The following considerations also apply:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Delete operations require an appropriate index on the application table (associated with the <code class="codeph">apply_model</code> model in <a href="SEM_APIS-reference.html#GUID-85BBFA6D-07F9-43CF-BD2A-B3D7B686792A">SEM_APIS.UPDATE_MODEL</a>) for good performance. Assuming an application table named APP_TAB with the SDO_RDF_TRIPLE_S column named TRIPLE, an index similar to the following is recommended (this is the same index used by <a href="rdf-suipport-for-apache-jena.html#GUID-3F437E3E-3B74-4CCF-9F16-B2B07B3899E8" title="RDF Semantic Graph support for Apache Jena (also referred to here as support for Apache Jena) provides a Java-based interface to Oracle Spatial and Graph RDF Semantic Graph by implementing the well-known Jena Graph, Model, and DatasetGraph APIs.">RDF Semantic Graph Support for Apache Jena</a>):
                           </p><pre class="pre codeblock"><code>-- Application table index for 
--  (graph_id, subject_id, predicate_id, canonical_object_id)
CREATE INDEX app_tab_idx ON app_tab app (
  BITAND(app.triple.rdf_m_id,79228162514264337589248983040)/4294967296,
  app.triple.rdf_s_id,
  app.triple.rdf_p_id,
  app.triple.rdf_c_id)
COMPRESS;
</code></pre></li>
                        <li>
                           <p>Performance-related SEM_MATCH options can be passed to the <code class="codeph">match_options</code> parameter of <a href="SEM_APIS-reference.html#GUID-85BBFA6D-07F9-43CF-BD2A-B3D7B686792A">SEM_APIS.UPDATE_MODEL</a>, and performance-related options such as PARALLEL and DYNAMIC_SAMPLING can be specified in the <code class="codeph">options</code> parameter of that procedure. The following example uses the options parameter to specify a degree of parallelism of 4 and an optimizer dynamic sampling level of 6 for the update. In addition, the example uses ALLOW_DUP=T as a match option when matching against the virtual model VM1.
                           </p><pre class="pre codeblock"><code>BEGIN
  sem_apis.update_model(
   'electronics',
   'PREFIX : &lt;http://www.example.org/electronics/&gt; 
    INSERT { graph :digitalCameras { ?s ?p ?o } }
    WHERE  { ?s :cameraType :digitalCamera .
             ?s ?p ?o }',
   match_models=&gt;sem_models('VM1'),
   match_models=&gt;sem_models('VM1'),
   match_options=&gt;' ALLOW_DUP=T ',
   options=&gt;' PARALLEL(4) DYNAMIC_SAMPLING(6) ', 
   network_owner=&gt;'RDFUSER', network_name=&gt;'NET1');
END;
/
</code></pre></li>
                        <li>
                           <p><a href="rdf-semantic-graph-overview.html#GUID-5D952ADA-7170-4D64-A07D-F86B32884FF5">Inline Query Optimizer Hints</a> can be specified in the WHERE clause. The following example extends the preceding example by using the HINT0 hint in the WHERE clause and the FINAL_VALUE_NL hint in the <code class="codeph">match_options</code> parameter.
                           </p><pre class="pre codeblock"><code>BEGIN
  sem_apis.update_model(
   'electronics',
   'PREFIX : &lt;http://www.example.org/electronics/&gt; 
    INSERT { graph :digitalCameras { ?s ?p ?o } }
    WHERE  { # <span class="bold">HINT0</span>={ LEADING(t0 t1) USE_NL(t0 t1)
             ?s :cameraType :digitalCamera .
             ?s ?p ?o }',
   match_models=&gt;sem_models('VM1'),
   match_options=&gt;' ALLOW_DUP=T <span class="bold">FINAL_VALUE_NL</span> ',
   options=&gt;' PARALLEL(4) DYNAMIC_SAMPLING(6) ', 
   network_owner=&gt;'RDFUSER', network_name=&gt;'NET1');
END;
/
</code></pre></li>
                     </ul>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-933AEB65-4F16-40BB-9FA4-0E16380607EB" title="Effective with Oracle Database Release 12.2, you can perform SPARQL Update operations on a semantic model.">Support for SPARQL Update Operations on a Semantic Model</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-4E36E98D-9728-495B-B1BE-EF58BAFB914C" name="GUID-4E36E98D-9728-495B-B1BE-EF58BAFB914C"></a><h4 id="RDFRM-GUID-4E36E98D-9728-495B-B1BE-EF58BAFB914C" class="sect4"><span class="enumeration_section">1.12.2 </span>Transaction Management with SPARQL Update Operations
                  </h4>
                  <div>
                     <p>You can exercise some control over the number of transactions used and whether they are automatically committed by a <a href="SEM_APIS-reference.html#GUID-85BBFA6D-07F9-43CF-BD2A-B3D7B686792A">SEM_APIS.UPDATE_MODEL</a> operation.
                     </p>
                     <p>By default, the <a href="SEM_APIS-reference.html#GUID-85BBFA6D-07F9-43CF-BD2A-B3D7B686792A">SEM_APIS.UPDATE_MODEL</a> procedure executes in a single transaction that is either committed upon successful completion or rolled back if an error occurs. For example, the following call executes three update operations (separated by semicolons) in a single transaction:
                     </p><pre class="pre codeblock"><code>BEGIN
  sem_apis.update_model('electronics',
   'PREFIX elec: &lt;http://www.example.org/electronics/&gt;
    PREFIX ecom: &lt;http://www.example.org/ecommerce/&gt; 
    # insert camera data
    INSERT DATA {
      elec:camera1 elec:name "Camera 1" .
      elec:camera1 elec:price 120 .
      elec:camera1 elec:cameraType elec:DigitalCamera .
      elec:camera2 elec:name "Camera 2" .
      elec:camera2 elec:price 150 .
      elec:camera2 elec:cameraType elec:DigitalCamera . }; 
    # insert ecom:price triples
    INSERT { ?c  ecom:price ?p }
    WHERE  { ?c  elec:price ?p };
    # delete elec:price triples
    DELETE WHERE { ?c elec:price ?p }', 
   network_owner=&gt;'RDFUSER', network_name=&gt;'NET1');
END;
/

PL/SQL procedure successfully completed.
</code></pre><p>By contrast, the following example uses three separate <a href="SEM_APIS-reference.html#GUID-85BBFA6D-07F9-43CF-BD2A-B3D7B686792A">SEM_APIS.UPDATE_MODEL</a> calls to execute the same three update operations in three separate transactions:
                     </p><pre class="pre codeblock"><code>BEGIN
  sem_apis.update_model('electronics',
   'PREFIX elec: &lt;http://www.example.org/electronics/&gt;
    PREFIX ecom: &lt;http://www.example.org/ecommerce/&gt; 
    # insert camera data
    INSERT DATA {
      elec:camera1 elec:name "Camera 1" .
      elec:camera1 elec:price 120 .
      elec:camera1 elec:cameraType elec:DigitalCamera .
      elec:camera2 elec:name "Camera 2" .
      elec:camera2 elec:price 150 .
      elec:camera2 elec:cameraType elec:DigitalCamera . }', 
   network_owner=&gt;'RDFUSER', network_name=&gt;'NET1');
END;

PL/SQL procedure successfully completed.

BEGIN
  sem_apis.update_model('electronics',
   'PREFIX elec: &lt;http://www.example.org/electronics/&gt;
    PREFIX ecom: &lt;http://www.example.org/ecommerce/&gt; 
    # insert ecom:price triples
    INSERT { ?c  ecom:price ?p }
    WHERE  { ?c  elec:price ?p }', 
   network_owner=&gt;'RDFUSER', network_name=&gt;'NET1');
END;
/

PL/SQL procedure successfully completed.

BEGIN
  sem_apis.update_model('electronics',
   'PREFIX elec: &lt;http://www.example.org/electronics/&gt;
    PREFIX ecom: &lt;http://www.example.org/ecommerce/&gt; 
    # insert elec:price triples
    DELETE WHERE { ?c elec:price ?p }', 
   network_owner=&gt;'RDFUSER', network_name=&gt;'NET1');
END;
/

PL/SQL procedure successfully completed.
</code></pre><p>The <code class="codeph">AUTOCOMMIT=F</code> option can be used to prevent separate transactions for each <a href="SEM_APIS-reference.html#GUID-85BBFA6D-07F9-43CF-BD2A-B3D7B686792A">SEM_APIS.UPDATE_MODEL</a> call. With this option, transaction management is the responsibility of the caller. The following example shows how to execute the update operations in the preceding example as a single transaction instead of three separate ones.
                     </p><pre class="pre codeblock"><code>BEGIN
  sem_apis.update_model('electronics',
   'PREFIX elec: &lt;http://www.example.org/electronics/&gt;
    PREFIX ecom: &lt;http://www.example.org/ecommerce/&gt; 
    # insert camera data
    INSERT DATA {
      elec:camera1 elec:name "Camera 1" .
      elec:camera1 elec:price 120 .
      elec:camera1 elec:cameraType elec:DigitalCamera .
      elec:camera2 elec:name "Camera 2" .
      elec:camera2 elec:price 150 .
      elec:camera2 elec:cameraType elec:DigitalCamera . }',
   options=&gt;' <span class="bold">AUTOCOMMIT=F</span> ',
   network_owner=&gt;'RDFUSER', network_name=&gt;'NET1');
END;
/

PL/SQL procedure successfully completed.

BEGIN
  sem_apis.update_model('electronics',
   'PREFIX elec: &lt;http://www.example.org/electronics/&gt;
    PREFIX ecom: &lt;http://www.example.org/ecommerce/&gt; 
    # insert ecom:price triples
    INSERT { ?c  ecom:price ?p }
    WHERE  { ?c  elec:price ?p }',
   options=&gt;' <span class="bold">AUTOCOMMIT=F</span> ',
   network_owner=&gt;'RDFUSER', network_name=&gt;'NET1');
END;
/

PL/SQL procedure successfully completed.

BEGIN
  sem_apis.update_model('electronics',
   'PREFIX elec: &lt;http://www.example.org/electronics/&gt;
    PREFIX ecom: &lt;http://www.example.org/ecommerce/&gt; 
    # insert elec:price triples
    DELETE WHERE { ?c elec:price ?p }',
   options=&gt;' <span class="bold">AUTOCOMMIT=F</span> ',
   network_owner=&gt;'RDFUSER', network_name=&gt;'NET1');
END;
/

PL/SQL procedure successfully completed.

<span class="bold">COMMIT;</span>

Commit complete.
</code></pre><p>However, the following cannot be used with the <code class="codeph">AUTOCOMMIT=F</code> option:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Bulk operations (<code class="codeph">FORCE_BULK=T</code>, <code class="codeph">DEL_AS_INS=T</code>)
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">LOAD</code> operations
                           </p>
                        </li>
                        <li>
                           <p>Materialization of intermediate data (<code class="codeph">STREAMING=F</code>)
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-2791A28A-A281-4204-AFFD-622C1A400619">Transaction Isolation Levels</a><br></li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-933AEB65-4F16-40BB-9FA4-0E16380607EB" title="Effective with Oracle Database Release 12.2, you can perform SPARQL Update operations on a semantic model.">Support for SPARQL Update Operations on a Semantic Model</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="props_rev_3"><a id="GUID-2791A28A-A281-4204-AFFD-622C1A400619" name="GUID-2791A28A-A281-4204-AFFD-622C1A400619"></a><h5 id="RDFRM-GUID-2791A28A-A281-4204-AFFD-622C1A400619" class="sect5"><span class="enumeration_section">1.12.2.1 </span>Transaction Isolation Levels
                     </h5>
                     <div>
                        <p>Oracle Database supports three different transaction isolation levels: read committed, serializable, and read-only.</p>
                        <p>Read committed isolation level is the default. Queries in a transaction using this isolation level see only data that was committed before the query &#x2013; not the transaction &#x2013; began and any changes made by the transaction itself. This isolation level allows the highest degree of concurrency.</p>
                        <p>Serializable isolation level queries see only data that was committed before the transaction began and any changes made by the transaction itself.</p>
                        <p>Read-only isolation level behaves like serializable isolation level but data cannot be modified by the transaction.</p>
                        <p><a href="SEM_APIS-reference.html#GUID-85BBFA6D-07F9-43CF-BD2A-B3D7B686792A">SEM_APIS.UPDATE_MODEL</a> supports read committed and serializable transaction isolation levels, and read committed is the default. SPARQL UPDATE operations are processed in the following basic steps.
                        </p>
                        <ol>
                           <li>
                              <p>A query is executed to obtain a set of triples to be deleted.</p>
                           </li>
                           <li>
                              <p>A query is executed to obtain a set of triples to be inserted.</p>
                           </li>
                           <li>
                              <p>Triples obtained in Step 1 are deleted.</p>
                           </li>
                           <li>
                              <p>Triples obtained in Step 2 are inserted.</p>
                           </li>
                        </ol>
                        <p>With the default read committed isolation level, the underlying triple data may be modified by concurrent transactions, so each step may see different data. In addition, changes made by concurrent transactions will be visible to subsequent update operations within the same <a href="SEM_APIS-reference.html#GUID-85BBFA6D-07F9-43CF-BD2A-B3D7B686792A">SEM_APIS.UPDATE_MODEL</a> call. Note that steps 1 and 2 happen as a single step when using materialization of intermediate data (<code class="codeph">STREAMING=F</code>), so underlying triple data cannot be modified between steps 1 and 2 with this option. See <a href="rdf-semantic-graph-overview.html#GUID-00F29761-1EE5-43E7-AD0A-915AC5D8C0B5">Support for Bulk Operations</a> for more information about materialization of intermediate data.
                        </p>
                        <p>Serializable isolation level can be used by specifying the <code class="codeph">SERIALIZABLE=T</code> option. In this case, each step will only see data that was committed before the update model operation began, and multiple update operations executed in a single <a href="SEM_APIS-reference.html#GUID-85BBFA6D-07F9-43CF-BD2A-B3D7B686792A">SEM_APIS.UPDATE_MODEL</a> call will not see modifications made by concurrent update operations in other transactions. However, ORA-08177 errors will be raised if a <a href="SEM_APIS-reference.html#GUID-85BBFA6D-07F9-43CF-BD2A-B3D7B686792A">SEM_APIS.UPDATE_MODEL</a> execution tries to update triples that were modified by a concurrent transaction. When using <code class="codeph">SERIALIZABLE=T</code>, the application should detect and handle ORA-08177 errors (for example, retry the update command if it could not be serialized on the first attempt).
                        </p>
                        <p>The following cannot be used with the <code class="codeph">SERIALIZABLE=T</code> option:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Bulk operations (<code class="codeph">FORCE_BULK=T</code>, <code class="codeph">DEL_AS_INS=T</code>)
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">LOAD</code> operations
                              </p>
                           </li>
                           <li>
                              <p>Materialization of intermediate data (<code class="codeph">STREAMING=F</code>)
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-4E36E98D-9728-495B-B1BE-EF58BAFB914C">Transaction Management with SPARQL Update Operations</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-00F29761-1EE5-43E7-AD0A-915AC5D8C0B5" name="GUID-00F29761-1EE5-43E7-AD0A-915AC5D8C0B5"></a><h4 id="RDFRM-GUID-00F29761-1EE5-43E7-AD0A-915AC5D8C0B5" class="sect4"><span class="enumeration_section">1.12.3 </span>Support for Bulk Operations
                  </h4>
                  <div>
                     <p><a href="SEM_APIS-reference.html#GUID-85BBFA6D-07F9-43CF-BD2A-B3D7B686792A">SEM_APIS.UPDATE_MODEL</a> supports bulk operations for efficient execution of large updates. The following options are provided; however, when using any of these bulk operations, serializable isolation (<code class="codeph">SERIALIZABLE=T</code>) and autocommit false (<code class="codeph">AUTOCOMMMIT=F</code>) cannot be used.
                     </p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-C608A6BB-5AA6-4AA6-873E-639A00FBD530">Materialization of Intermediate Data (STREAMING=F)</a><br></li>
                        <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-5173DD30-71F9-4F95-B5E7-24982302E7CD">Using SEM_APIS.BULK_LOAD_FROM_STAGING_TABLE</a><br></li>
                        <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-A0A70517-530B-4ADB-ABEE-4E522A453B1A">Using Delete as Insert (DEL_AS_INS=T)</a><br></li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-933AEB65-4F16-40BB-9FA4-0E16380607EB" title="Effective with Oracle Database Release 12.2, you can perform SPARQL Update operations on a semantic model.">Support for SPARQL Update Operations on a Semantic Model</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="props_rev_3"><a id="GUID-C608A6BB-5AA6-4AA6-873E-639A00FBD530" name="GUID-C608A6BB-5AA6-4AA6-873E-639A00FBD530"></a><h5 id="RDFRM-GUID-C608A6BB-5AA6-4AA6-873E-639A00FBD530" class="sect5"><span class="enumeration_section">1.12.3.1 </span>Materialization of Intermediate Data (STREAMING=F)
                     </h5>
                     <div>
                        <p>By default, <a href="SEM_APIS-reference.html#GUID-85BBFA6D-07F9-43CF-BD2A-B3D7B686792A">SEM_APIS.UPDATE_MODEL</a> executes two queries for a basic DELETE INSERT SPARQL Update operation: one query to find triples to delete and one query to find triples to insert. For some update operations with WHERE clauses that are expensive to evaluate, executing two queries may not give the best performance. In these cases, executing a single query for the WHERE clause, materializing the results, and then using the materialized results to construct triples to delete and triples to insert may give better performance. This approach incurs overhead from a DDL operation, but overall performance is likely to be better for complex update statements.
                        </p>
                        <p>The following example update using this option (<code class="codeph">STREAMING=F</code>). Note that <code class="codeph">STREAMING=F</code> is not allowed with serializable isolation (<code class="codeph">SERIALIZABLE=T</code>) or autocommit false (<code class="codeph">AUTOCOMMIT=F</code>).
                        </p><pre class="pre codeblock"><code>BEGIN
  sem_apis.update_model('electronics',
   'PREFIX : &lt;http://www.example.org/electronics/&gt; 
    DELETE { ?s ?p ?o } 
    INSERT { graph :digitalCameras { ?s ?p ?o } }
    WHERE  { ?s :cameraType :digitalCamera .
             ?s ?p ?o }',
  options=&gt;' <span class="bold">STREAMING=F</span> ', 
  network_owner=&gt;'RDFUSER', network_name=&gt;'NET1');
END;
/
</code></pre></div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-00F29761-1EE5-43E7-AD0A-915AC5D8C0B5">Support for Bulk Operations</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="props_rev_3"><a id="GUID-5173DD30-71F9-4F95-B5E7-24982302E7CD" name="GUID-5173DD30-71F9-4F95-B5E7-24982302E7CD"></a><h5 id="RDFRM-GUID-5173DD30-71F9-4F95-B5E7-24982302E7CD" class="sect5"><span class="enumeration_section">1.12.3.2 </span>Using SEM_APIS.BULK_LOAD_FROM_STAGING_TABLE
                     </h5>
                     <div>
                        <p>For updates that insert a large number of triples (such as tens of thousands), the default approach of incremental DML on the application table may not give acceptable performance. In such cases, the <code class="codeph">FORCE_BULK=T</code> option can be specified so that <a href="SEM_APIS-reference.html#GUID-AB6697BF-C840-4F48-8C81-FACB3CA54B1A">SEM_APIS.BULK_LOAD_FROM_STAGING_TABLE</a> is used instead of incremental DML.
                        </p>
                        <p>However, not all update operations can use this optimization. The <code class="codeph">FORCE_BULK=T</code> option is only allowed for a <a href="SEM_APIS-reference.html#GUID-85BBFA6D-07F9-43CF-BD2A-B3D7B686792A">SEM_APIS.UPDATE_MODEL</a> call with either a single ADD operation or a single INSERT WHERE operation. The use of <a href="SEM_APIS-reference.html#GUID-AB6697BF-C840-4F48-8C81-FACB3CA54B1A">SEM_APIS.BULK_LOAD_FROM_STAGING_TABLE</a> forces a series of commits and autonomous transactions, so the <code class="codeph">AUTOCOMMIT=F</code> and <code class="codeph">SERIALIZABLE=T</code> options are not allowed with <code class="codeph">FORCE_BULK=T</code>. In addition, bulk load cannot be used with <code class="codeph">CLOB_UPDATE_SUPPORT=T</code>.
                        </p>
                        <p><a href="SEM_APIS-reference.html#GUID-AB6697BF-C840-4F48-8C81-FACB3CA54B1A">SEM_APIS.BULK_LOAD_FROM_STAGING_TABLE</a> allows various customizations through its <code class="codeph">flags</code> parameter. <a href="SEM_APIS-reference.html#GUID-85BBFA6D-07F9-43CF-BD2A-B3D7B686792A">SEM_APIS.UPDATE_MODEL</a> supports the <code class="codeph">BULK_OPTIONS={ OPTIONS_STRING }</code> flag so that <code class="codeph">OPTIONS_STRING</code> can be passed into the <code class="codeph">flags</code> input of <a href="SEM_APIS-reference.html#GUID-AB6697BF-C840-4F48-8C81-FACB3CA54B1A">SEM_APIS.BULK_LOAD_FROM_STAGING_TABLE</a> to customize bulk load options. The following example shows a <a href="SEM_APIS-reference.html#GUID-85BBFA6D-07F9-43CF-BD2A-B3D7B686792A">SEM_APIS.UPDATE_MODEL</a> invocation using the <code class="codeph">FORCE_BULK=T</code> option and <code class="codeph">BULK_OPTIONS</code> flag.
                        </p><pre class="pre codeblock"><code>BEGIN
  sem_apis.update_model('electronics',
   'PREFIX elec: &lt;http://www.example.org/electronics/&gt;
    PREFIX ecom: &lt;http://www.example.org/ecommerce/&gt; 
    INSERT { ?c  ecom:price ?p }
    WHERE  { ?c  elec:price ?p }',
   options=&gt;' <span class="bold">FORCE_BULK=T BULK_OPTIONS=</span>{  parallel=4 parallel_create_index }', 
   network_owner=&gt;'RDFUSER', network_name=&gt;'NET1');
END;
/
</code></pre></div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-00F29761-1EE5-43E7-AD0A-915AC5D8C0B5">Support for Bulk Operations</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="props_rev_3"><a id="GUID-A0A70517-530B-4ADB-ABEE-4E522A453B1A" name="GUID-A0A70517-530B-4ADB-ABEE-4E522A453B1A"></a><h5 id="RDFRM-GUID-A0A70517-530B-4ADB-ABEE-4E522A453B1A" class="sect5"><span class="enumeration_section">1.12.3.3 </span>Using Delete as Insert (DEL_AS_INS=T)
                     </h5>
                     <div>
                        <p>For updates that delete a large number of triples (such as tens of thousands), the default approach of incremental DML on the application table may not give acceptable performance. For such cases, the <code class="codeph">DEL_AS_INS=T</code> option can be specified. With this option, a large delete operation is implemented as INSERT, TRUNCATE, and EXCHANGE PARTITION operations.
                        </p>
                        <p>The use of <code class="codeph">DEL_AS_INS=T</code> causes a series of commits and autonomous transactions, so this option cannot be used with <code class="codeph">SERIALIZABLE=T</code> or <code class="codeph">AUTOCOMMIT=F</code>. In addition, this option can only be used with <a href="SEM_APIS-reference.html#GUID-85BBFA6D-07F9-43CF-BD2A-B3D7B686792A">SEM_APIS.UPDATE_MODEL</a> calls that involve a single DELETE WHERE operation, a single DROP operation, or a single CLEAR operation.
                        </p>
                        <p>Delete as insert internally uses <a href="SEM_APIS-reference.html#GUID-47CAA34C-3284-4665-BB9B-D65EBF07ED4E">SEM_APIS.MERGE_MODELS</a> during intermediate operations. The string <code class="codeph">OPTIONS_STRING</code> from the <code class="codeph">MM_OPTIONS={ OPTIONS_STRING }</code> flag can be specified to customize options for merging. The following example shows a <a href="SEM_APIS-reference.html#GUID-85BBFA6D-07F9-43CF-BD2A-B3D7B686792A">SEM_APIS.UPDATE_MODEL</a> invocation using the <code class="codeph">DEL_AS_INS=T</code> option and <code class="codeph">MM_OPTIONS</code> flag.
                        </p><pre class="pre codeblock"><code>BEGIN
  sem_apis.update_model('electronics',
   'CLEAR NAMED',
   options=&gt;' <span class="bold">DEL_AS_INS=T MM_OPTIONS=</span>{  dop=4 } ', 
   network_owner=&gt;'RDFUSER', network_name=&gt;'NET1');
END;
/
</code></pre></div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-00F29761-1EE5-43E7-AD0A-915AC5D8C0B5">Support for Bulk Operations</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-49303712-A684-44F4-A93F-51C2CBE3501A" name="GUID-49303712-A684-44F4-A93F-51C2CBE3501A"></a><h4 id="RDFRM-GUID-49303712-A684-44F4-A93F-51C2CBE3501A" class="sect4"><span class="enumeration_section">1.12.4 </span>Setting UPDATE_MODEL Options at the Session Level
                  </h4>
                  <div>
                     <p>Some settings that affect the <a href="SEM_APIS-reference.html#GUID-85BBFA6D-07F9-43CF-BD2A-B3D7B686792A">SEM_APIS.UPDATE_MODEL</a> procedure’s behavior can be modified at the session level through the use of the special MDSYS.SDO_SEM_UPDATE_CTX.SET_PARAM procedure. The following options can be set to true or false at the session level: <code class="codeph">autocommit</code>, <code class="codeph">streaming</code>, <code class="codeph">strict_bnode</code>, and <code class="codeph">clob_support</code>.
                     </p>
                     <p>The MDSYS.SDO_SEM_UPDATE_CTX contains the following subprograms to get and set <a href="SEM_APIS-reference.html#GUID-85BBFA6D-07F9-43CF-BD2A-B3D7B686792A">SEM_APIS.UPDATE_MODEL</a> parameters at the session level:
                     </p><pre class="pre codeblock"><code>SQL&gt; describe mdsys.sdo_sem_update_ctx
FUNCTION GET_PARAM RETURNS VARCHAR2
 Argument Name                  Type                    In/Out Default?
 ------------------------------ ----------------------- ------ --------
 NAME                           VARCHAR2                IN
PROCEDURE SET_PARAM
 Argument Name                  Type                    In/Out Default?
 ------------------------------ ----------------------- ------ --------
 NAME                           VARCHAR2                IN
 VALUE                          VARCHAR2                IN</code></pre><p>The following example causes all subsequent calls to the <a href="SEM_APIS-reference.html#GUID-85BBFA6D-07F9-43CF-BD2A-B3D7B686792A">SEM_APIS.UPDATE_MODEL</a> procedure to use the <code class="codeph">AUTOCOMMIT=F</code> setting, until the end of the session or the next call to <a href="SEM_APIS-reference.html#GUID-85BBFA6D-07F9-43CF-BD2A-B3D7B686792A">SEM_APIS.UPDATE_MODEL</a> that specifies a different <code class="codeph">autocommit</code> value.
                     </p><pre class="pre codeblock"><code>begin
  mdsys.sdo_sem_update_ctx.set_param('autocommit','false');
end;
/
</code></pre></div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-933AEB65-4F16-40BB-9FA4-0E16380607EB" title="Effective with Oracle Database Release 12.2, you can perform SPARQL Update operations on a semantic model.">Support for SPARQL Update Operations on a Semantic Model</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-DF14B64E-A340-4C6D-8CC1-8FCFB61F8FA2" name="GUID-DF14B64E-A340-4C6D-8CC1-8FCFB61F8FA2"></a><h4 id="RDFRM-GUID-DF14B64E-A340-4C6D-8CC1-8FCFB61F8FA2" class="sect4"><span class="enumeration_section">1.12.5 </span>Load Operations: Special Considerations for SPARQL Update
                  </h4>
                  <div>
                     <p>The format of the file to load affects the amount of parallelism that can be used during the load process. Load operations have two phases:</p>
                     <ol>
                        <li>
                           <p>Loading from the file system to a staging table</p>
                        </li>
                        <li>
                           <p>Calling <a href="SEM_APIS-reference.html#GUID-AB6697BF-C840-4F48-8C81-FACB3CA54B1A">SEM_APIS.BULK_LOAD_FROM_STAGING_TABLE</a> to load from a staging table into a semantic model
                           </p>
                        </li>
                     </ol>
                     <p>All supported data formats can use parallel execution in phase 2, but only N-Triple and N-Quad formats can use parallel execution in phase 1. In addition, if a load operation is interrupted during phase 2 after the staging table has been fully populated, loading can be resumed with the <code class="codeph">RESUME_LOAD=T</code> keyword in the <code class="codeph">options</code> parameter.
                     </p>
                     <p>Load operations for RDF documents that contain object values longer than 4000 bytes may require additional operations. Load operations on Turtle and Trig documents will automatically load all triples/quads regardless of object value size. However, load operations on N-Triple and N-Quad documents will only load triples/quads with object values that are less than 4000 bytes in length. For N-Triple and N-Quad data, a second load operation should be issued with the <code class="codeph">LOAD_CLOB_ONLY=T</code> option to also load triples/quads with object values larger than 4000 bytes.
                     </p>
                     <p>Loads from Unix named pipes are only supported for N-Triple and N-Quad formats. Turtle and Trig files should be uncompressed, physical files.</p>
                     <p>Unicode characters are handled differently depending on the format of the RDF file to load. Unicode characters in N-Triple and N-Quad files should be escaped as <code class="codeph">\u&lt;HEX&gt;&lt;HEX&gt;&lt;HEX&gt;&lt;HEX&gt;</code> or <code class="codeph">\U&lt;HEX&gt;&lt;HEX&gt;&lt;HEX&gt;&lt;HEX&gt;&lt;HEX&gt;&lt;HEX&gt;&lt;HEX&gt;&lt;HEX&gt;</code> using the hex value of the Unicode codepoint value. Turtle and Trig files do not require Unicode escaping and can be directly loaded with unescaped Unicode values.
                     </p>
                     <div class="example" id="GUID-DF14B64E-A340-4C6D-8CC1-8FCFB61F8FA2__GUID-C77C0817-4956-48D7-9862-86AE5C25F86F">
                        <p class="titleinexample">Example 1-114 Short and Long Literal Load for N-Quad Data</p><pre class="pre codeblock"><code>BEGIN
  -- short literal load
  sem_apis.update_model('electronics',
   'PREFIX : &lt;http://www.example.org/electronics/&gt;
    LOAD &lt;file:///example1.nq&gt;',
   options=&gt; ' LOAD_DIR={MY_DIR} ', 
   network_owner=&gt;'RDFUSER', network_name=&gt;'NET1');

  -- long literal load
  sem_apis.update_model('electronics',
   'PREFIX : &lt;http://www.example.org/electronics/&gt;
    LOAD &lt;file:///example1.nq&gt;',
   options=&gt; ' LOAD_DIR={MY_DIR} <span class="bold">LOAD_CLOB_ONLY=T</span> ',
   network_owner=&gt;'RDFUSER', network_name=&gt;'NET1');
END;
/
</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-933AEB65-4F16-40BB-9FA4-0E16380607EB" title="Effective with Oracle Database Release 12.2, you can perform SPARQL Update operations on a semantic model.">Support for SPARQL Update Operations on a Semantic Model</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-83E90581-5F84-45CB-9032-61EA153B0F10" name="GUID-83E90581-5F84-45CB-9032-61EA153B0F10"></a><h4 id="RDFRM-GUID-83E90581-5F84-45CB-9032-61EA153B0F10" class="sect4"><span class="enumeration_section">1.12.6 </span>Long Literals: Special Considerations for SPARQL Update
                  </h4>
                  <div>
                     <p>By default, SPARQL Update operations do not manipulate values longer than 4000 bytes. To enable long literals support, specify <code class="codeph">CLOB_UPDATE_SUPPORT=T</code> in the options parameter with the <a href="SEM_APIS-reference.html#GUID-85BBFA6D-07F9-43CF-BD2A-B3D7B686792A">SEM_APIS.UPDATE_MODEL</a> procedure.
                     </p>
                     <p>Bulk load does not work for long literals; the <code class="codeph">FORCE_BULK=T</code> option is ignored when used with the <code class="codeph">CLOB_UPDATE_SUPPORT=T</code> option.
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-933AEB65-4F16-40BB-9FA4-0E16380607EB" title="Effective with Oracle Database Release 12.2, you can perform SPARQL Update operations on a semantic model.">Support for SPARQL Update Operations on a Semantic Model</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-5B8265BB-15BA-4B5C-AB8F-FB4B4D36CE0E" name="GUID-5B8265BB-15BA-4B5C-AB8F-FB4B4D36CE0E"></a><h4 id="RDFRM-GUID-5B8265BB-15BA-4B5C-AB8F-FB4B4D36CE0E" class="sect4"><span class="enumeration_section">1.12.7 </span>Blank Nodes: Special Considerations for SPARQL Update
                  </h4>
                  <div>
                     <p>Some update operations only affect the graph of a set of RDF triples. Specifically, these operations are ADD, COPY and MOVE. For example, the MOVE operation example in <a href="rdf-semantic-graph-overview.html#GUID-933AEB65-4F16-40BB-9FA4-0E16380607EB" title="Effective with Oracle Database Release 12.2, you can perform SPARQL Update operations on a semantic model.">Support for SPARQL Update Operations on a Semantic Model</a> can be performed only updating triples having <code class="codeph">:digitalCameras</code> as the graph. However, the performance of such operations can be improved by using  ID-only operations over the RDF model. To run a large ADD, COPY, or MOVE operation as an ID-only operation, you can specify the <code class="codeph">STRICT_BNODE=F</code> hint in the <code class="codeph">options</code> parameter for the <a href="SEM_APIS-reference.html#GUID-85BBFA6D-07F9-43CF-BD2A-B3D7B686792A">SEM_APIS.UPDATE_MODEL</a> procedure.
                     </p>
                     <p>ID-only operations may lead to incorrect blank nodes, however, because no two graphs should share the same blank node. RDF Semantic Graph uses a blank node prefixing scheme based on the model and graph combination that contains a blank node. These prefixes ensure that blank node identifiers are unique across models and graphs. An ID-only approach for ADD, COPY, and UPDATE operations does not update blank node prefixes.</p>
                     <div class="example" id="GUID-5B8265BB-15BA-4B5C-AB8F-FB4B4D36CE0E__GUID-D0A40A10-2B5C-4C41-88E4-8ADE58D0E362">
                        <p class="titleinexample">Example 1-115 ID-Only Update Causing Incorrect Blank Node Values</p>
                        <p>The update in the following example leads to the same blank node subject for both triples in graphs <code class="codeph">:cameras</code> and <code class="codeph">:cameras2</code>. This can be verified running the provided SEM_MATCH query.
                        </p><pre class="pre codeblock"><code>BEGIN
  sem_apis.update_model('electronics',
   'PREFIX : &lt;http://www.example.org/electronics/&gt; 
    INSERT DATA { 
       GRAPH :cameras { :camera2 :owner _:bn1 .
                        _:bn1 :name "Axel" }
    };
    COPY :cameras TO :cameras2',
   options=&gt;' STRICT_BNODE=F ', 
   network_owner=&gt;'RDFUSER', network_name=&gt;'NET1');
END;
/

SELECT count(s)
FROM TABLE( SEM_MATCH('
  PREFIX : &lt;http://www.example.org/electronics/&gt; 
  SELECT * 
  WHERE { { graph :cameras  {?s :name "Axel"  } }
          { graph :cameras2 {?s :name "Axel"  } } }
', sem_models('electronics'),null,null,null,null,' STRICT_DEFAULT=T ',
null, null, 'RDFUSER', 'NET1'));
</code></pre><p>To avoid such errors, you should specify the <code class="codeph">STRICT_BNODE=F</code> hint in the <code class="codeph">options</code> parameter for the <a href="SEM_APIS-reference.html#GUID-85BBFA6D-07F9-43CF-BD2A-B3D7B686792A">SEM_APIS.UPDATE_MODEL</a> procedure only when you are sure that blank nodes are not involved in the ADD, COPY, or MOVE update operation.
                        </p>
                        <p>However, ADD, COPY, and MOVE operations on large graphs with the <code class="codeph">STRICT_BNODE=F</code> option may run significantly faster than they would run using the default method. If you need to run a series of ID-only updates, another option is to use the <code class="codeph">STRICT_BNODE=F</code> option, and then execute the <a href="SEM_APIS-reference.html#GUID-238AA915-2435-4C93-AD8F-AE0D4A084A2A">SEM_APIS.CLEANUP_BNODES</a> procedure at the end. This approach resets the prefix of all blank nodes in a given model, which effectively corrects ("cleans up") all erroneous blank node labels.
                        </p>
                        <p>Note that this two-step strategy should not be used with a small number of ADD, COPY, or MOVE operations. Performing a few operations using the default approach will execute faster than running a few ID-only operations and then executing the <a href="SEM_APIS-reference.html#GUID-238AA915-2435-4C93-AD8F-AE0D4A084A2A">SEM_APIS.CLEANUP_BNODES</a> procedure.
                        </p>
                        <p>The following example corrects blank nodes in a semantic model named <code class="codeph">electronics</code>.
                        </p><pre class="pre codeblock"><code>EXECUTE sem_apis.cleanup_bnodes('electronics');</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-933AEB65-4F16-40BB-9FA4-0E16380607EB" title="Effective with Oracle Database Release 12.2, you can perform SPARQL Update operations on a semantic model.">Support for SPARQL Update Operations on a Semantic Model</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-AD26A431-B5A5-4681-AFFF-42C473AB7936" name="GUID-AD26A431-B5A5-4681-AFFF-42C473AB7936"></a><h3 id="RDFRM-GUID-AD26A431-B5A5-4681-AFFF-42C473AB7936" class="sect3"><span class="enumeration_section">1.13 </span>RDF Support for Oracle Database In-Memory
               </h3>
               <div>
                  <p>RDF can use the in-memory Oracle Database In-Memory suite of features, including in-memory column store, to improve performance for real-time analytics and mixed workloads.</p>
                  <p>After Database In-Memory setup, the RDF in-memory loading can be performed using the <a href="SEM_APIS-reference.html#GUID-3124FD63-9A24-48E5-AA6B-F422CC8AA1DD">SEM_APIS.ENABLE_INMEMORY</a> procedure. This requires an administrative privilege and affects the entire semantic network. It loads frequently used columns from the RDF_LINK$ and RDF_VALUE$ tables into memory.
                  </p>
                  <p> After this procedure is executed, RDF in-memory virtual columns can be loaded into memory. This is done at the virtual model level: when an RDF virtual model is created, the in-memory option can be specified in the call to <a href="SEM_APIS-reference.html#GUID-CAFA0FE5-3A96-4DBD-A9EC-F3E0466807DB">SEM_APIS.CREATE_VIRTUAL_MODEL</a>.
                  </p>
                  <p>You can also enable and disable in-memory population of RDF data for specified models and entailments (rules indexes) by using the <a href="SEM_APIS-reference.html#GUID-B73DEF80-C499-445A-A23C-6AAA3E6E0B0B">SEM_APIS.ENABLE_INMEMORY_FOR_MODEL</a>, <a href="SEM_APIS-reference.html#GUID-DB1D1913-3D90-4267-A08C-AA6B32EFC7AF">SEM_APIS.ENABLE_INMEMORY_FOR_ENT</a>, <a href="SEM_APIS-reference.html#GUID-7E22CCE4-4DAE-40F1-9584-A385DF72ED48">SEM_APIS.DISABLE_INMEMORY_FOR_MODEL</a>, and <a href="SEM_APIS-reference.html#GUID-00C3885C-35A5-432E-A688-EC72B6AEF141">SEM_APIS.DISABLE_INMEMORY_FOR_ENT</a> procedures.
                  </p>
                  <div class="infoboxnote" id="GUID-AD26A431-B5A5-4681-AFFF-42C473AB7936__GUID-8E1F26FA-A000-427D-8221-AAF9DB788FF2">
                     <p class="notep1">Note:</p>
                     <p>To use RDF with Oracle Database In-Memory, you must understand how to enable and configure Oracle Database In-Memory, as explained in <a href="../inmem/index.html" target="_blank"><span class="italic">Oracle Database In-Memory Guide</span></a>.
                     </p>
                  </div>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-6FC0CE0F-5563-4D39-A888-73E4D2C27FF8">Enabling Oracle Database In-Memory for RDF</a><br></li>
                     <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-2C8C5883-81CF-464D-91BF-68D528C3C9B8">Using In-Memory Virtual Columns with RDF</a><br></li>
                     <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-EE4FCCD4-A84A-4E9F-88AB-E17B75B7AEEF">Using Invisible Indexes with Oracle Database In-Memory</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-F422BB9F-8473-4980-9D6C-848F708C10E0" title="Oracle Spatial and Graph support for semantic technologies consists mainly of Resource Description Framework (RDF) and a subset of the Web Ontology Language (OWL). These capabilities are referred to as the RDF Knowledge Graph feature of Oracle Spatial and Graph.">RDF Knowledge Graph Overview</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="props_rev_3"><a id="GUID-6FC0CE0F-5563-4D39-A888-73E4D2C27FF8" name="GUID-6FC0CE0F-5563-4D39-A888-73E4D2C27FF8"></a><h4 id="RDFRM-GUID-6FC0CE0F-5563-4D39-A888-73E4D2C27FF8" class="sect4"><span class="enumeration_section">1.13.1 </span>Enabling Oracle Database In-Memory for RDF
                  </h4>
                  <div>
                     <p>To load RDF data into memory, the <code class="codeph">compatibility</code> must be set to 12.2 or later, and the <code class="codeph">inmemory_size</code> value must be at least 100MB. The semantic network can then be loaded into memory using the <a href="SEM_APIS-reference.html#GUID-3124FD63-9A24-48E5-AA6B-F422CC8AA1DD">SEM_APIS.ENABLE_INMEMORY</a> procedure. 
                     </p>
                     <p>Before you use RDF data in memory, you should verify that the data is loaded into memory:</p><pre class="oac_no_warn" dir="ltr">SQL&gt; select pool, alloc_bytes, used_bytes, populate_status from V$INMEMORY_AREA;
POOL			   ALLOC_BYTES USED_BYTES POPULATE_STATUS
-------------------------- ----------- ---------- --------------------------
1MB POOL		    5.0418E+10 4.4603E+10 <span class="bold">DONE</span>
64KB POOL		    3202088960	  9568256  <span class="bold">DONE</span> 
</pre><p>If the <code class="codeph">POPULATE_STATUS</code> value is <code class="codeph">DONE</code>, the RDF data has been fully loaded into memory.
                     </p>
                     <p>To check if RDF data in memory is used, search for ‘<code class="codeph">TABLE ACCESS INMEMORY FULL</code>’ in the execution plan:
                     </p><pre class="oac_no_warn" dir="ltr">--------------------------------------------------------------------------------------------------------------------------------------------
| Id  | Operation			  | Name      | Rows  | Bytes | Cost (%CPU)| Time     | Pstart| Pstop |    TQ  |IN-OUT| PQ Distrib |
--------------------------------------------------------------------------------------------------------------------------------------------
|   0 | SELECT STATEMENT		  |	      |     1 |    13 |   580  (60)| 00:00:01 |       |       |        |      | 	   |
|   1 |  VIEW				  |	      |     1 |    13 |   580  (60)| 00:00:01 |       |       |        |      | 	   |
|   2 |   VIEW				  |	      |     1 |    13 |   580  (60)| 00:00:01 |       |       |        |      | 	   |
|   3 |    SORT AGGREGATE		  |	      |     1 |    16 | 	   |	      |       |       |        |      | 	   |
|   4 |     PX COORDINATOR		  |	      |       |       | 	   |	      |       |       |        |      | 	   |
|   5 |      PX SEND QC (RANDOM)	  | :TQ10000  |     1 |    16 | 	   |	      |       |       |  Q1,00 | P-&gt;S | QC (RAND)  |
|   6 |       SORT AGGREGATE		  |	      |     1 |    16 | 	   |	      |       |       |  Q1,00 | PCWP | 	   |
|   7 |        PX BLOCK ITERATOR	  |	      |   242M|  3697M|   580  (60)| 00:00:01 |KEY(I) |KEY(I) |  Q1,00 | PCWC | 	   |
|   8 | 	<span class="bold">TABLE ACCESS INMEMORY FULL</span>| RDF_LINK$ |   242M|  3697M|   580  (60)| 00:00:01 |KEY(I) |KEY(I) |  Q1,00 | PCWP | 	   |
--------------------------------------------------------------------------------------------------------------------------------------------
</pre><p>To disable in-memory population of RDF data, use the <a href="SEM_APIS-reference.html#GUID-2991B58D-685F-4E87-8502-FC143DDF17DF">SEM_APIS.DISABLE_INMEMORY</a> procedure.
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-AD26A431-B5A5-4681-AFFF-42C473AB7936" title="RDF can use the in-memory Oracle Database In-Memory suite of features, including in-memory column store, to improve performance for real-time analytics and mixed workloads.">RDF Support for Oracle Database In-Memory</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-2C8C5883-81CF-464D-91BF-68D528C3C9B8" name="GUID-2C8C5883-81CF-464D-91BF-68D528C3C9B8"></a><h4 id="RDFRM-GUID-2C8C5883-81CF-464D-91BF-68D528C3C9B8" class="sect4"><span class="enumeration_section">1.13.2 </span>Using In-Memory Virtual Columns with RDF
                  </h4>
                  <div>
                     <p>In addition to RDF data in memory, RDF in-memory virtual columns can be used to load lexical values for RDF terms in the RDF_LINK$ table into memory. To load the RDF in-memory virtual columns, you must first execute <a href="SEM_APIS-reference.html#GUID-3124FD63-9A24-48E5-AA6B-F422CC8AA1DD">SEM_APIS.ENABLE_INMEMORY</a> with administrative privileges, setting the <code class="codeph">inmemory_virtual_columns</code> parameter to <code class="codeph">ENABLE</code>. The in-memory virtual columns are created in the RDF_LINK$ table and loaded into memory at the virtual model level.
                     </p>
                     <p>To load the virtual columns into memory, use the option <code class="codeph">‘PXN=F INMEMORY=T’</code> in the call to <a href="SEM_APIS-reference.html#GUID-CAFA0FE5-3A96-4DBD-A9EC-F3E0466807DB">SEM_APIS.CREATE_VIRTUAL_MODEL</a>. For example (assuming a schema-private network named NET1 owned by a database user named RDFUSER):
                     </p><pre class="pre codeblock"><code>EXECUTE  SEM_APIS.CREATE_VIRTUAL_MODEL ('vm2',SEM_MODELS('lubm1k','univbench'),SEM_RULEBASES ('owl2rl'),<span class="bold">options=&gt;'PXN=F INMEMORY=T'</span>, network_owner=&gt;'RDFUSER', network_name=&gt;'NET1');</code></pre><p>You can check for in-memory virtual models by examining the MDSYS.RDF_MODEL$ view, where the INMEMORY column is set to <code class="codeph">T</code> for an in-memory virtual model.
                     </p>
                     <p>The in-memory virtual model removes the need for joins with the RDF_VALUE$ table. To check the usage of in-memory virtual models, use the same commands in <a href="rdf-semantic-graph-overview.html#GUID-6FC0CE0F-5563-4D39-A888-73E4D2C27FF8">Enabling Oracle Database In-Memory for RDF</a>. 
                     </p>
                     <p>For best performance, fully populate the in-memory virtual columns before any query is processed, because unpopulated virtual columns are assembled at run time and this overhead may impair performance.</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-AD26A431-B5A5-4681-AFFF-42C473AB7936" title="RDF can use the in-memory Oracle Database In-Memory suite of features, including in-memory column store, to improve performance for real-time analytics and mixed workloads.">RDF Support for Oracle Database In-Memory</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-EE4FCCD4-A84A-4E9F-88AB-E17B75B7AEEF" name="GUID-EE4FCCD4-A84A-4E9F-88AB-E17B75B7AEEF"></a><h4 id="RDFRM-GUID-EE4FCCD4-A84A-4E9F-88AB-E17B75B7AEEF" class="sect4"><span class="enumeration_section">1.13.3 </span>Using Invisible Indexes with Oracle Database In-Memory
                  </h4>
                  <div>
                     <p>Sometimes, inconsistent query performance may result due to the use of indexes. If you want consistent performance across different workloads, even though it may mean negating some performance gains that normally result from indexing, you can make the RDF semantic network indexes <span class="bold">invisible</span> so that the query execution is done by pure memory scans. The following example makes the RDF semantic network indexes invisible in a schema-private network named NET1 owned by a database user named RDFUSER:
                     </p><pre class="pre codeblock"><code>EXECUTE SEM_APIS.ALTER_SEM_INDEXES('VISIBILITY','N', network_owner=&gt;'RDFUSER', network_name=&gt;'NET1');</code></pre><p>To make the RDF semantic network indexes visible again, use the following</p><pre class="pre codeblock"><code>EXECUTE SEM_APIS.ALTER_SEM_INDEXES('VISIBILITY','Y', network_owner=&gt;'RDFUSER', network_name=&gt;'NET1');</code></pre><div class="infoboxnote" id="GUID-EE4FCCD4-A84A-4E9F-88AB-E17B75B7AEEF__GUID-D0D8D54F-2152-4FE2-B9FB-7F8F2BB47611">
                        <p class="notep1">Note:</p>
                        <p>RDF_VALUE$ indexes must be visible so that Oracle Database can efficiently look up VALUE_IDs for query constants at compile time.</p>
                     </div>
                     <p>For an explanation of invisible and unusable indexes, see <a href="../admin/managing-indexes.html#ADMIN13279" target="_blank"><span class="italic">Oracle Database Administrator's Guide</span></a>.
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-AD26A431-B5A5-4681-AFFF-42C473AB7936" title="RDF can use the in-memory Oracle Database In-Memory suite of features, including in-memory column store, to improve performance for real-time analytics and mixed workloads.">RDF Support for Oracle Database In-Memory</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-8663128B-C6A9-4B5A-97F0-3F521F7A3B1C" name="GUID-8663128B-C6A9-4B5A-97F0-3F521F7A3B1C"></a><h3 id="RDFRM-GUID-8663128B-C6A9-4B5A-97F0-3F521F7A3B1C" class="sect3"><span class="enumeration_section">1.14 </span>RDF Support in SQL Developer
               </h3>
               <div>
                  <p>You can use Oracle SQL Developer to create RDF-related objects and use RDF and OWL features.</p>
                  <p>This RDF support is available through the Connections navigator in SQL Developer. If you expand an Oracle Database connection, near the bottom of the child nodes for the connection is <span class="bold">RDF Semantic Graph</span>; and if you expand that, its child nodes are:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Models</p>
                     </li>
                     <li>
                        <p>Rulebases</p>
                     </li>
                     <li>
                        <p>Entailments</p>
                     </li>
                     <li>
                        <p>Network Indexes (RDF_LINK$)</p>
                     </li>
                     <li>
                        <p>Data Type Indexes (RDF_VALUE$)</p>
                     </li>
                     <li>
                        <p>Bulk Load Traces</p>
                     </li>
                  </ul>
                  <p>To use this support, you must know how to perform basic operations in SQL Developer. For an overview, see <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/rdfrm&amp;id=RPTUG-GUID-464C045C-FBDF-417A-A20B-037D294B3BDA" target="_blank"><span class="italic">SQL Developer User's Guide</span></a>.
                  </p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-A4783083-70FF-412E-B47B-38BE45310F69">Creating and Configuring the RDF Semantic Network Using SQL Developer</a><br>Before you can load RDF data and work with it, you must create the RDF semantic network and configure it. Configuration includes creating necessary database tablespaces and indexes. 
                     </li>
                     <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-55FCF41F-62F0-4B5E-BEF6-2C43A280C02F">Bulk Loading RDF Data Using SQL Developer</a><br>RDF Bulk load operations can be invoked from SQL Developer. Two major steps are required: (1) loading data from the file system into a “staging“ table and (2) loading data from a “staging“ table into a semantic model.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-F422BB9F-8473-4980-9D6C-848F708C10E0" title="Oracle Spatial and Graph support for semantic technologies consists mainly of Resource Description Framework (RDF) and a subset of the Web Ontology Language (OWL). These capabilities are referred to as the RDF Knowledge Graph feature of Oracle Spatial and Graph.">RDF Knowledge Graph Overview</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="props_rev_3"><a id="GUID-A4783083-70FF-412E-B47B-38BE45310F69" name="GUID-A4783083-70FF-412E-B47B-38BE45310F69"></a><h4 id="RDFRM-GUID-A4783083-70FF-412E-B47B-38BE45310F69" class="sect4"><span class="enumeration_section">1.14.1 </span>Creating and Configuring the RDF Semantic Network Using SQL Developer
                  </h4>
                  <div>
                     <p>Before you can load RDF data and work with it, you must create the RDF semantic network and configure it. Configuration includes creating necessary database tablespaces and indexes. </p>
                     <ol>
                        <li>
                           <p>Open SQL Developer.</p>
                        </li>
                        <li>
                           <p>Create a database connection for a user with DBA privileges (or use an existing connection with such privileges). For example:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Connection name: <code class="codeph">system</code></p>
                              </li>
                              <li>
                                 <p>Username: <code class="codeph">system</code></p>
                              </li>
                              <li>
                                 <p>Password: <code class="codeph"><span class="codeinlineitalic">&lt;password for system&gt;</span></code></p>
                              </li>
                              <li>
                                 <p>Hostname: <code class="codeph">system2@example.com</code></p>
                              </li>
                              <li>
                                 <p>Port: <code class="codeph">1521</code></p>
                              </li>
                              <li>
                                 <p>Service Name: <code class="codeph">orcl</code></p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p>Open the DBA navigator.</p>
                           <p>Select <span class="bold">View</span>, then <span class="bold">DBA</span>.
                           </p>
                        </li>
                        <li>
                           <p>Add the system connection created earlier. For example:</p>
                           <p>Click the <span class="bold">+</span> (Add Connection) icon.
                           </p>
                           <p>Select the <code class="codeph">system</code> connection.
                           </p>
                        </li>
                        <li>
                           <p>Create the necessary tablespaces, as explained in <a href="rdf-semantic-graph-overview.html#GUID-A4783083-70FF-412E-B47B-38BE45310F69__CREATETHENECESSARYTABLESPACES-A6F6343D">Create the Necessary Tablespaces</a>.
                           </p>
                        </li>
                        <li>
                           <p>Create the semantic network, as explained in <a href="rdf-semantic-graph-overview.html#GUID-A4783083-70FF-412E-B47B-38BE45310F69__CREATETHESEMANTICNETWORK-A6F63F6A">Create the Semantic Network</a>.
                           </p>
                        </li>
                        <li>
                           <p>Create or adjust the necessary semantic indexes, as explained in <a href="rdf-semantic-graph-overview.html#GUID-A4783083-70FF-412E-B47B-38BE45310F69__CREATEORADJUSTTHENECESSARYSEMANTICI-A6F64127">Create or Adjust the Necessary Semantic Indexes</a>.
                           </p>
                        </li>
                     </ol>
                     <div class="section" id="GUID-A4783083-70FF-412E-B47B-38BE45310F69__CREATETHENECESSARYTABLESPACES-A6F6343D">
                        <p class="subhead3" id="GUID-A4783083-70FF-412E-B47B-38BE45310F69__GUID-54BA6197-95C8-40AF-8E79-4214906E0D97"><span class="bold">Create the Necessary Tablespaces</span></p>
                        <p>Use the Storage node under the desired connection in the DBA navigator to create the necessary tablespaces.</p>
                        <p>The recommended practice is to use three tablespaces for RDF Semantic Graph:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Tablespace for RDF storage (create a new tablespace named RDFTBS)</p>
                           </li>
                           <li>
                              <p>Tablespace for temporary data (create a new tablespace named TEMPTBS)</p>
                           </li>
                           <li>
                              <p>Tablespace for other user data (use the existing tablespace named USERS)</p>
                           </li>
                        </ul>
                        <p>In the DBA navigator (<span class="bold"><span class="italic">not</span></span> the Connections navigator), for the <code class="codeph">system</code> connection click <span class="bold">Storage</span>, then <span class="bold">Tablespaces</span>. For the new tablespaces (right-click and select <span class="bold">Create New</span>), and select any desired name (the ones listed here are just examples). Accept default values or specified desired options.
                        </p>
                        <ol>
                           <li>
                              <p>Create RDFTBS for storing RDF data.</p>
                              <p><span class="bold">Name</span> (tablespace name): <code class="codeph">RDFTBS</code></p>
                              <p><span class="bold">Tablespace Type</span>: <code class="codeph">Permanent</code></p>
                              <p>Under File Specification, <span class="bold">Name</span>: <code class="codeph">'RDFTBS.DBF'</code></p>
                              <p><span class="bold">Directory</span>: Desired file system directory. For example: <code class="codeph">/u01/app/oracle/oradata/orcl12c/orcl</code></p>
                              <p><span class="bold">File Size</span>: Desired file initial size. For example: <code class="codeph">1 G</code></p>
                              <p>Check <span class="bold">Reuse</span> and <span class="bold">Auto Extend On</span>.
                              </p>
                              <p><span class="bold">Next Size</span>: Desired size of each extension increment. For example: <code class="codeph">512 M</code></p>
                              <p><span class="bold">Max Size</span>: Desired file maximum size. For example: <code class="codeph">10 G</code></p>
                              <p>Click <span class="bold">OK</span>.
                              </p>
                           </li>
                           <li>
                              <p>Create TEMPTBS for temporary work space. </p>
                              <p>Right-click and select <span class="bold">Create New</span>.
                              </p>
                              <p><span class="bold">Name</span> (tablespace name): <code class="codeph">TEMPTBS</code></p>
                              <p><span class="bold">Tablespace Type</span>: <code class="codeph">Temporary</code></p>
                              <p>Under File Specification, <span class="bold">Name</span>: <code class="codeph">'TEMPTBS.DBF'</code></p>
                              <p><span class="bold">Directory</span>: Desired file system directory. For example: <code class="codeph">/u01/app/oracle/oradata/orcl12c/orcl</code></p>
                              <p><span class="bold">File Size</span>: Desired file initial size. For example: <code class="codeph">1 G</code></p>
                              <p>Check <span class="bold">Reuse</span> and <span class="bold">Auto Extend On</span>.
                              </p>
                              <p><span class="bold">Next Size</span>: Desired size of each extension increment. For example: <code class="codeph">256 M</code></p>
                              <p><span class="bold">Max Size</span>: Desired file maximum size. For example: <code class="codeph">8 G</code></p>
                           </li>
                           <li>
                              <p>Make TEMPTBS the default temporary tablespace for the database, by using the SQL Worksheet for the <code class="codeph">system</code> connection’s SQL Worksheet to execute the following statement:
                              </p><pre class="pre codeblock"><code>SQL&gt; alter database default temporary tablespace TEMPTBS;</code></pre></li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-A4783083-70FF-412E-B47B-38BE45310F69__CREATETHESEMANTICNETWORK-A6F63F6A">
                        <p class="subhead3" id="GUID-A4783083-70FF-412E-B47B-38BE45310F69__GUID-B8051C9F-A441-4E89-9463-1B882256443E"><span class="bold">Create the Semantic Network</span></p>
                        <p>In the Connections navigator (<span class="bold"><span class="italic">not</span></span> the DBA navigator), expand the <code class="codeph">system</code> connection and navigate to the <span class="bold">RDF Semantic Graph</span> node.
                        </p>
                        <p>Create the semantic network in the RDFTBS tablespace:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Right-click <span class="bold">RDF Semantic Graph</span> and select <span class="bold">Create Semantic Network (DBA)</span>.
                              </p>
                           </li>
                           <li>
                              <p>On the Prompts tab, for <span class="bold">Tablespace</span> select the tablespace for storing RDF data (for example, <code class="codeph">RDFTBS</code>) and click <span class="bold">Apply</span>.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-A4783083-70FF-412E-B47B-38BE45310F69__CREATEORADJUSTTHENECESSARYSEMANTICI-A6F64127">
                        <p class="subhead3" id="GUID-A4783083-70FF-412E-B47B-38BE45310F69__GUID-B53F60CB-69DA-4EAE-8F49-7C0D21FEE872"><span class="bold">Create or Adjust the Necessary Semantic Indexes</span></p>
                        <p>There are multicolumn B-Tree semantic indexes over the following columns:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>S - subject</p>
                           </li>
                           <li>
                              <p>P - predicate</p>
                           </li>
                           <li>
                              <p>C - canonical object</p>
                           </li>
                           <li>
                              <p>G - graph</p>
                           </li>
                           <li>
                              <p>M - model</p>
                           </li>
                        </ul>
                        <p>Two indexes are created by default: PCSGM and PSCGM. However, you can use a three-index setup to better cover more combinations of S, P, and C: PSCGM, SPCGM, and CSPGM.</p>
                        <p>In the Connections navigator (<span class="bold"><span class="italic">not</span></span> the DBA navigator), expand the <code class="codeph">system</code> connection, expand <span class="bold">RDF Semantic Graph</span>, then click <span class="bold">Network Indexes (RDF_LINK)</span>.
                        </p>
                        <ol>
                           <li>
                              <p>Add the SPCGM index.</p>
                              <p>Right-click and select <span class="bold">Create Semantic Index</span>. Suggested <span class="bold">Index code</span>: <code class="codeph">SPCGM</code></p>
                              <p>Click <span class="bold">OK</span>.
                              </p>
                           </li>
                           <li>
                              <p>Add the CSPGM index.</p>
                              <p>Right-click and select <span class="bold">Create Semantic Index</span>. Suggested <span class="bold">Index code</span>: <code class="codeph">CSPGM</code></p>
                              <p>Click <span class="bold">OK</span>.
                              </p>
                           </li>
                           <li>
                              <p>Drop the PSCGM index.</p>
                              <p>Right-click <code class="codeph">RDF_LINK_PSCGM_IDX</code> and select <span class="bold">Drop Semantic Index</span>.
                              </p>
                           </li>
                        </ol>
                        <p>The result will be these three indexes: </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>RDF_LINK_PSCGM_IDX</p>
                           </li>
                           <li>
                              <p>RDF_LINK_SPCGM_IDX</p>
                           </li>
                           <li>
                              <p>RDF_LINK_CSPGM_IDX</p>
                           </li>
                        </ul>
                        <p>The semantic network is now configured and ready to use.</p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-8663128B-C6A9-4B5A-97F0-3F521F7A3B1C" title="You can use Oracle SQL Developer to create RDF-related objects and use RDF and OWL features.">RDF Support in SQL Developer</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-55FCF41F-62F0-4B5E-BEF6-2C43A280C02F" name="GUID-55FCF41F-62F0-4B5E-BEF6-2C43A280C02F"></a><h4 id="RDFRM-GUID-55FCF41F-62F0-4B5E-BEF6-2C43A280C02F" class="sect4"><span class="enumeration_section">1.14.2 </span>Bulk Loading RDF Data Using SQL Developer
                  </h4>
                  <div>
                     <p>RDF Bulk load operations can be invoked from SQL Developer. Two major steps are required: (1) loading data from the file system into a “staging“ table and (2) loading data from a “staging“ table into a semantic model.</p>
                     <p>Do the following to prepare for the actual bulk loading.</p>
                     <ol>
                        <li>
                           <p>Prepare the RDF dataset or datasets.</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p> The data must be on the file system of the Database server &#x2013; not on the client system.</p>
                              </li>
                              <li>
                                 <p> The data must be in N-triple or N-quad format. (Apache Jena, for example, can be used to convert other formats to N-triple/N-quad,)</p>
                              </li>
                              <li>
                                 <p>A Unix named pipe can be used to decompress zipped files on the fly.</p>
                              </li>
                           </ul>
                           <p>For example, you can download RDF datasets from LinkedGeoData. For an introduction, see <a href="http://linkedgeodata.org/Datasets" target="_blank">http://linkedgeodata.org/Datasets</a> and <a href="http://linkedgeodata.org/RDFMapping" target="_blank">http://linkedgeodata.org/RDFMapping</a>.
                           </p>
                           <p>To download from LinkedGeoData, go to <a href="https://hobbitdata.informatik.uni-leipzig.de/LinkedGeoData/downloads.linkedgeodata.org/releases/" target="_blank">https://hobbitdata.informatik.uni-leipzig.de/LinkedGeoData/downloads.linkedgeodata.org/releases/</a> and browse the listed directories. For a fairly small dataset you can download <a href="https://hobbitdata.informatik.uni-leipzig.de/LinkedGeoData/downloads.linkedgeodata.org/releases/2014-09-09/2014-09-09-ontology.sorted.nt.bz2" target="_blank">https://hobbitdata.informatik.uni-leipzig.de/LinkedGeoData/downloads.linkedgeodata.org/releases/2014-09-09/2014-09-09-ontology.sorted.nt.bz2</a>.
                           </p>
                           <p>Each .bz2 file is a compressed archive containing a comparable-named .nt file. To specify an .nt file as a data source, you must extract (decompress) the corresponding .bz2 file, unless you create a Unix named pipe to avoid having to store uncompressed data.</p>
                        </li>
                        <li>
                           <p>Create a regular, non-DBA user to perform the load.</p>
                           <p>For example, using the DBA navigator (<span class="bold"><span class="italic">not</span></span> the Connections navigator), expand the <code class="codeph">system</code> connection, expand <span class="bold">Security</span>, right-click <span class="bold">Users</span>, and select <span class="bold">Create New</span>.
                           </p>
                           <p>Create a user (for example, named <code class="codeph">RDFUSER</code>) with CONNECT, RESOURCE, and UNLIMITED TABLESPACE privileges.
                           </p>
                        </li>
                        <li>
                           <p>Add a connection for this regular, non-DBA user (for example, a connection named <code class="codeph">RDFUSER</code>).
                           </p>
                           <p><span class="bold">Default Tablespace</span>: <code class="codeph">USERS</code></p>
                           <p><span class="bold">Temporary Tablespace</span>: <code class="codeph">TEMPTBS</code></p>
                        </li>
                        <li>
                           <p>As the system user, create a directory in the database that points to your RDF data directory.</p>
                           <p>Using the Connections navigator (<span class="bold"><span class="italic">not</span></span> the DBA navigator), expand the <code class="codeph">system</code> connection, right-click <span class="bold">Directory</span> and select <span class="bold">Create Directory</span>.
                           </p>
                           <p><span class="bold">Directory Name</span>: Desired directory name. For example: <code class="codeph">RDFDIR</code></p>
                           <p><span class="bold">Database Server Directory</span>: Desired location for the directory. For example: <code class="codeph">/home/oracle/RDF/MyData</code></p>
                           <p>Click <span class="bold">Apply</span>.
                           </p>
                        </li>
                        <li>
                           <p>Grant privileges on the directory to the regular, non-DBA user (for example, RDFUSER). For example, using the <code class="codeph">system</code> connection's SQL Worksheet:
                           </p><pre class="pre codeblock"><code>SQL&gt; grant read, write on directory RDFDIR to RDFUSER;</code></pre><p>Tip: you can use a named pipe to avoid having to store uncompressed data. For example:</p><pre class="pre codeblock"><code>$ mkfifo named_pipe.nt
$ bzcat myRdfFile.nt.bz2 &gt; named_pipe.nt</code></pre></li>
                        <li>
                           <p>Expand the regular, non-DBA user (for example, <code class="codeph">RDFUSER</code>) connection and click <span class="bold">RDF Semantic Graph</span>.
                           </p>
                        </li>
                        <li>
                           <p>Create a model to hold the RDF data.</p>
                           <p>Click <span class="bold">Model</span>, then <span class="bold">New Model</span>.
                           </p>
                           <p><span class="bold">Model Name</span>: Enter a model name (for example, <code class="codeph">MY_ONTOLOGY</code>)
                           </p>
                           <p><span class="bold">Application Table</span>: <code class="codeph">* Create new &lt;Model_Name&gt;_TPL table *</code> (that is, have an application table with a triple column named TRIPLE automatically created)
                           </p>
                           <p><span class="bold">Model Tablespace</span>: tablespace to hold the RDF data (for example, <code class="codeph">RDFTBS</code>)
                           </p>
                           <p>Click <span class="bold">Apply</span>.
                           </p>
                           <p>To see the model, expand <span class="bold">Models</span> in the object hierarchy, and click the model name to bring up the SPARQL editor for that model.
                           </p>
                           <p>You can run a query and see that the model is empty.</p>
                        </li>
                     </ol>
                     <p>Using the Models menu, perform a bulk load from the Models menu. Bulk load has two phases:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Loading data from the file system into a simple "staging" table in the database. This uses an external table to read from the file system.</p>
                        </li>
                        <li>
                           <p>Loading data from the staging table into the semantic network. Load from the staging table into the model (for example, <code class="codeph">MY_ONTOLOGY</code>).
                           </p>
                        </li>
                     </ul>
                     <p>To perform these two phases:</p>
                     <ol>
                        <li>
                           <p>Load data into the staging table.</p>
                           <p>Right-click the model name (under Regular Models) and select <span class="bold">Load RDF Data into Staging Table from External Table</span>.
                           </p>
                           <p>For Source External Table, <span class="bold">Source Table</span>: Desired table name (for example, <code class="codeph">MY_ONTOLOGY_EXT</code>).
                           </p>
                           <p><span class="bold">Log File</span>: Desired file name (for example, <code class="codeph">my_ontology.log</code>)
                           </p>
                           <p><span class="bold">Bad File</span>: Desired file name (for example, <code class="codeph">my_ontology.bad</code>)
                           </p>
                           <p><span class="bold">Source Table Owner</span>: Schema of the table with RDF data (for example, <code class="codeph">RDFUSER</code>)
                           </p>
                           <p>For Input Files, <span class="bold">Input Files</span>: Input file (for example, <code class="codeph">named_pipe.nt</code>).
                           </p>
                           <p>For Staging Table, <span class="bold">Staging table</span>: Name for the staging table (for example, <code class="codeph">MY_ONTOLOGY_STAGE</code>).
                           </p>
                           <p>If the table does not exist, check <span class="bold">Create Staging Table</span>.
                           </p>
                           <p><span class="bold">Input Format</span>: Desired format (for example, <code class="codeph">N-QUAD</code>)
                           </p>
                           <p><span class="bold">Staging Table Owner</span>: Schema for the staging table (for example, <code class="codeph">RDFUSER</code>)
                           </p>
                        </li>
                        <li>
                           <p>Load from the staging table into the model.</p>
                           <div class="infoboxnote" id="GUID-55FCF41F-62F0-4B5E-BEF6-2C43A280C02F__GUID-5DE5D2EE-8219-43AB-BB95-6B94B80E26B4">
                              <p class="notep1">Note:</p>
                              <p>Unicode data in the staging table should be escaped as specified in WC3 N-Triples format (<a href="http://www.w3.org/TR/rdf-testcases/#ntriples" target="_blank">http://www.w3.org/TR/rdf-testcases/#ntriples</a>). You can use the <a href="SEM_APIS-reference.html#GUID-A9066C1C-FC5C-407E-A26A-35F73C1D9A14">SEM_APIS.ESCAPE_RDF_TERM</a> function to escape Unicode values in the staging table. For example:
                              </p><pre class="pre codeblock"><code>create table esc_stage_tab(rdf$stc_sub, rdf$stc_pred, rdf$stc_obj);

insert /*+ append nologging parallel */ into esc_stage_tab (rdf$stc_sub, rdf$stc_pred, rdf$stc_obj)
select sem_apis.escape_rdf_term(rdf$stc_sub, options=&gt;’ UNI_ONLY=T '), sem_apis.escape_rdf_term(rdf$stc_pred, options=&gt;’ UNI_ONLY=T '), sem_apis.escape_rdf_term(rdf$stc_obj, options=&gt;’ UNI_ONLY=T ')
from stage_tab; 
</code></pre></div>
                           <p>Right-click the model name (under Regular Models) and select <span class="bold">Bulk Load into Model from staging Table</span>.
                           </p>
                           <p><span class="bold">Model</span>: Name for the model (for example, <code class="codeph">MY_ONTOLOGY</code>).
                           </p>
                           <p>(If the model does not exist, check <span class="bold">Create Model</span>. However, in this example, the model does already exist.)
                           </p>
                           <p><span class="bold">Staging Table Owner</span>: Schema of the staging table (for example, <code class="codeph">RDFUSER</code>)
                           </p>
                           <p><span class="bold">Staging Table Name</span>: Name of the staging table (for example, <code class="codeph">MY_ONTOLOGY_STAGE</code>)
                           </p>
                           <p><span class="bold">Parallel</span>: Degree of parallelism (for example, <code class="codeph">2</code>)
                           </p>
                           <p>Suggestion: Check the following options: <span class="bold">MBV_METHOD=SHADOW</span>, <span class="bold">Rebuild application table indexes</span>, <span class="bold">Create event trace table</span></p>
                           <p>Click <span class="bold">Apply</span>.
                           </p>
                        </li>
                     </ol>
                     <p>Do the following after the bulk load operation.</p>
                     <ol>
                        <li>
                           <p>Gather statistics for the whole semantic network.</p>
                           <p>In the Connections navigator for a DBA user, expand the RDF Semantic Graph node for the connection and select <span class="bold">Gather Statistics (DBA)</span>).
                           </p>
                        </li>
                        <li>
                           <p>Run some SPARQL queries on our model.</p>
                           <p>In the Connections navigator, expand the RDF Semantic Graph node for the connection and select the model.</p>
                           <p>Use the SPARQL Query Editor to enter and execute desired SPARQL queries.</p>
                        </li>
                        <li>
                           <p>Optionally, check the bulk load trace to get information about each step.</p>
                           <p>Expand RDF Semantic Graph and then expand <span class="bold">Bulk Load Traces</span> to display a list of bulk load traces. Clicking one of them will show useful information about the execution time for the load, number of distinct values and triples, number of duplicate triples, and other details.
                           </p>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-8663128B-C6A9-4B5A-97F0-3F521F7A3B1C" title="You can use Oracle SQL Developer to create RDF-related objects and use RDF and OWL features.">RDF Support in SQL Developer</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-3406865F-70CF-4D24-8911-F08694697ED6" name="GUID-3406865F-70CF-4D24-8911-F08694697ED6"></a><h3 id="RDFRM-GUID-3406865F-70CF-4D24-8911-F08694697ED6" class="sect3"><span class="enumeration_section">1.15 </span>Enhanced RDF ORDER BY Query Processing
               </h3>
               <div>
                  <p>Effective with Oracle Database Release 12.2, queries on RDF data that use SPARQL ORDER BY semantics are processed more efficiently than in previous releases.</p>
                  <p>This internal efficiency involves the use of the ORDER_TYPE, ORDER_NUM, and ORDER_DATE columns in the RDF_VALUE$ metadata table (documented in <a href="rdf-semantic-graph-overview.html#GUID-F7D6E792-CFF4-4183-AECE-3CF4A3332D9E">Statements</a>). The values for these three columns are populated during loading, and this enables ORDER BY queries to reduce internal function calls and to execute faster.
                  </p>
                  <p>Effective with Oracle Database Release 12.2, the procedure <a href="SEM_APIS-reference.html#GUID-3984C866-8524-458E-B858-43B0339E6629">SEM_APIS.ADD_DATATYPE_INDEX</a> creates an index on the ORDER_NUM column for numeric types (xsd:float, xsd:double, and xsd:decimal and all of its subtypes) and an index on ORDER_DATE column for date-related types (xsd:date, xsd:time, and xsd:dateTime) instead of a function-based index as in previous versions. If you want to continue using a function-based index for these data types, you should use the FUNCTION=T option of the <a href="SEM_APIS-reference.html#GUID-3984C866-8524-458E-B858-43B0339E6629">SEM_APIS.ADD_DATATYPE_INDEX</a> procedure. For example (assuming a schema-private semantic network named NET1 owned by a database user named RDFUSER):
                  </p><pre class="pre codeblock"><code>EXECUTE sem_apis.add_datatype_index('http://www.w3.org/2001/XMLSchema#decimal', <span class="bold">options=&gt;'FUNCTION=T'</span>, network_owner=&gt;'RDFUSER', network_name=&gt;'NET1');</code></pre><p>EXECUTE sem_apis.add_datatype_index('http://www.w3.org/2001/XMLSchema#date', <span class="bold">options=&gt;'FUNCTION=T'</span>, network_owner=&gt;'RDFUSER', network_name=&gt;'NET1');
                  </p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-F422BB9F-8473-4980-9D6C-848F708C10E0" title="Oracle Spatial and Graph support for semantic technologies consists mainly of Resource Description Framework (RDF) and a subset of the Web Ontology Language (OWL). These capabilities are referred to as the RDF Knowledge Graph feature of Oracle Spatial and Graph.">RDF Knowledge Graph Overview</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="RDFRM602"></a><div class="props_rev_3"><a id="GUID-7F590F2D-F382-4CD6-A95A-757010BB148F" name="GUID-7F590F2D-F382-4CD6-A95A-757010BB148F"></a><h3 id="RDFRM-GUID-7F590F2D-F382-4CD6-A95A-757010BB148F" class="sect3"><span class="enumeration_section">1.16 </span>Quick Start for Using Semantic Data
               </h3>
               <div>
                  <p>To work with semantic data in an Oracle database, follow these general steps.</p>
                  <ol>
                     <li class="stepexpand"><span>Create a tablespace for the system tables. You must be connected as a user with appropriate privileges to create the tablespace. The following example creates a tablespace named RDF_TBLSPACE:</span><div><pre class="oac_no_warn" dir="ltr">CREATE TABLESPACE rdf_tblspace
 DATAFILE '/oradata/orcl/rdf_tblspace.dat' SIZE 1024M REUSE
 AUTOEXTEND ON NEXT 256M MAXSIZE UNLIMITED
 SEGMENT SPACE MANAGEMENT AUTO;
</pre></div>
                     </li>
                     <li class="stepexpand"><span>Create a semantic data network.</span><div>
                           <p>Creating a semantic data network adds semantic data support to an Oracle database. You must create a semantic data network as a user with DBA privileges, specifying a valid tablespace with adequate space.</p>
                           <p>The following example creates a schema-private semantic network named NET1 owned by a database user named RDFUSER using a tablespace named RDF_TBLSPACE (user RDFUSER and tablespace RDF_TBLSPACE must already exist):</p><pre class="oac_no_warn" dir="ltr">EXECUTE SEM_APIS.CREATE_SEM_NETWORK('rdf_tblspace', network_owner=&gt;'RDFUSER', network_name=&gt;'NET1');</pre></div>
                     </li>
                     <li class="stepexpand"><span>Connect as the database user under whose schema you will store your semantic data; do not perform the following steps while connected as SYS, SYSTEM, or MDSYS. For a schema-private semantic network, you need to connect as the network owner user unless the network owner has enabled network sharing.</span></li>
                     <li class="stepexpand"><span>4. Create an application table to store references to the semantic data and manage privileges for insert, update and delete operations. (You do not need to be connected as a user with DBA privileges for this step and the remaining steps.) </span><div>
                           <p>This table must contain a column of type SDO_RDF_TRIPLE_S, which will contain references to all data associated with a single model.</p>
                           <p>The following example creates a table named ARTICLES_RDF_DATA with one column to hold the data for triples:</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE articles_rdf_data (triple SDO_RDF_TRIPLE_S) COMPRESS;
</pre></div>
                     </li>
                     <li class="stepexpand"><span>Create a model.</span><div>
                           <p>When you create a model, you specify the model name, the table to hold references to semantic data for the model, and the column of type SDO_RDF_TRIPLE_S in that table.</p>
                           <p>The following command creates a model named ARTICLES in the NET1 schema-private network, which will use the table created in the preceding step.</p><pre class="oac_no_warn" dir="ltr">EXECUTE SEM_APIS.CREATE_SEM_MODEL('articles', 'articles_rdf_data', 'triple', network_owner=&gt;'RDFUSER', network_name=&gt;'NET1');
</pre></div>
                     </li>
                     <li class="stepexpand"><span>f you plan to perform incremental delete operations on your semantic model, through SPARQL Update operations or SQL DELETE statements, you should create an index on the application table to efficiently look up rows based on graph_id, subject_id, predicate_id, and object_id. This index should be dropped or set to unusable before performing large insertions (such as bulk load operations) and then rebuilt after the insert operation completes. </span><div>
                           <p>Failure to do so will severely degrage the performance of large load operations.</p>
                           <p>The following example creates such an index.</p><pre class="pre codeblock"><code>-- Application table index for 
--  (graph_id, subject_id, predicate_id, canonical_object_id)
CREATE INDEX app_tab_idx ON articles_rdf_data app (
  BITAND(app.triple.rdf_m_id,79228162514264337589248983040)/4294967296,
  app.triple.rdf_s_id,
  app.triple.rdf_p_id,
  app.triple.rdf_c_id)
COMPRESS;
</code></pre></div>
                     </li>
                  </ol>
                  <div class="section">
                     <p>After you create the model, you can insert triples into the model, as shown in the examples in <a href="rdf-semantic-graph-overview.html#GUID-2A9B194C-2540-42C7-A783-4A32ADA6F1F4" title="PL/SQL examples are provided in this topic.">Semantic Data Examples (PL/SQL and Java)</a>.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-F422BB9F-8473-4980-9D6C-848F708C10E0" title="Oracle Spatial and Graph support for semantic technologies consists mainly of Resource Description Framework (RDF) and a subset of the Web Ontology Language (OWL). These capabilities are referred to as the RDF Knowledge Graph feature of Oracle Spatial and Graph.">RDF Knowledge Graph Overview</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="RDFRM603"></a><div class="props_rev_3"><a id="GUID-2A9B194C-2540-42C7-A783-4A32ADA6F1F4" name="GUID-2A9B194C-2540-42C7-A783-4A32ADA6F1F4"></a><h3 id="RDFRM-GUID-2A9B194C-2540-42C7-A783-4A32ADA6F1F4" class="sect3"><span class="enumeration_section">1.17 </span>Semantic Data Examples (PL/SQL and Java)
               </h3>
               <div>
                  <p>PL/SQL examples are provided in this topic.</p>
                  <p>For Java examples, see <a href="rdf-suipport-for-apache-jena.html#GUID-3F437E3E-3B74-4CCF-9F16-B2B07B3899E8" title="RDF Semantic Graph support for Apache Jena (also referred to here as support for Apache Jena) provides a Java-based interface to Oracle Spatial and Graph RDF Semantic Graph by implementing the well-known Jena Graph, Model, and DatasetGraph APIs.">RDF Semantic Graph Support for Apache Jena</a>.
                  </p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-B403F8B8-F7C2-4253-8DB3-DD0D84DFBDCA">Example: Journal Article Information</a><br></li>
                     <li class="ulchildlink"><a href="rdf-semantic-graph-overview.html#GUID-ADC458F4-570C-4081-8844-107F9F63E915">Example: Family Information</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-F422BB9F-8473-4980-9D6C-848F708C10E0" title="Oracle Spatial and Graph support for semantic technologies consists mainly of Resource Description Framework (RDF) and a subset of the Web Ontology Language (OWL). These capabilities are referred to as the RDF Knowledge Graph feature of Oracle Spatial and Graph.">RDF Knowledge Graph Overview</a></p>
                     </div>
                  </div>
               </div>
               <a id="RDFRM605"></a><a id="RDFRM604"></a><div class="props_rev_3"><a id="GUID-B403F8B8-F7C2-4253-8DB3-DD0D84DFBDCA" name="GUID-B403F8B8-F7C2-4253-8DB3-DD0D84DFBDCA"></a><h4 id="RDFRM-GUID-B403F8B8-F7C2-4253-8DB3-DD0D84DFBDCA" class="sect4"><span class="enumeration_section">1.17.1 </span>Example: Journal Article Information
                  </h4>
                  <div>
                     <p>This section presents a simplified PL/SQL example of model for statements about journal articles. <a href="rdf-semantic-graph-overview.html#GUID-B403F8B8-F7C2-4253-8DB3-DD0D84DFBDCA__CHDCECBB">Example 1-116</a> contains descriptive comments, refers to concepts that are explained in this chapter, and uses functions and procedures documented in <a href="SEM_APIS-reference.html#GUID-F42AB976-445A-4DCD-974C-3B9ED810E3D5" title="The SEM_APIS package contains subprograms (functions and procedures) for working with the Resource Description Framework (RDF) and Web Ontology Language (OWL) in an Oracle database."> SEM_APIS Package Subprograms</a>.
                     </p>
                     <div class="example" id="GUID-B403F8B8-F7C2-4253-8DB3-DD0D84DFBDCA__CHDCECBB">
                        <p class="titleinexample">Example 1-116 Using a Model for Journal Article Information</p><pre class="oac_no_warn" dir="ltr">-- Basic steps:
-- After you have connected as a privileged user and called 
-- SEM_APIS.CREATE_SEM_NETWORK to create a schema for storing RDF data,
-- connect as a regular database user and do the following.
-- 1. For each desired model, create an application table to allow DML operations on its data.
-- 2. For each desired model, create a model (SEM_APIS.CREATE_SEM_MODEL).
-- 3. Use various subprograms and constructors.
 
-- Create the application table for the model. Only one column: data for triples.
CREATE TABLE articles_rdf_data (triple SDO_RDF_TRIPLE_S) COMPRESS;
 
-- Create the model.
-- Note that we are using the schema-private network NET1 created in 
-- "Quick Start for Using Semantic Data".
EXECUTE SEM_APIS.CREATE_SEM_MODEL('articles', 'articles_rdf_data', 'triple', network_owner=&gt;'RDFUSER', network_name=&gt;'NET1');
 
-- Information to be stored about some fictitious articles:
-- Article1, titled "All about XYZ" and written by Jane Smith, refers 
--   to Article2 and Article3.
-- Article2, titled "A review of ABC" and written by Joe Bloggs, 
--   refers to Article3.
-- Seven SQL statements to store the information. In each statement:
-- Each article is referred to by its complete URI The URIs in
--   this example are fictitious.
-- Each property is referred to by the URL for its definition, as 
--   created by the Dublin Core Metadata Initiative.
 
-- Use SEM_APIS.UPDATE_MODEL to insert data with SPARQL Update statements
 
BEGIN
  SEM_APIS.UPDATE_MODEL('articles',
   'PREFIX  nature: &lt;http://nature.example.com/&gt;
    PREFIX      dc: &lt;http://purl.org/dc/elements/1.1/&gt;
    PREFIX dcterms: &lt;http://purl.org/dc/terms/&gt;

    INSERT DATA {

      # article1 has the title "All about XYZ".
      # article1 was created (written) by Jane Smith.
      # article1 references (refers to) article2 and article3
      nature:article1 dc:title "All about XYZ" ;
                      dc:creator "Jane Smith" ;
                      dcterms:references nature:article2, 
                                         nature:article3 . 

      # article2 has the title "A review of ABC".
      # article2 was created (written) by Joe Bloggs.
      # article2 references (refers to) article3.                    
      nature:article2 dc:title "A Review of ABC" ;
                      dc:creator "Joe Bloggs" ;
                      dcterms:references nature:article3 .
    }',
   network_owner=&gt;'RDFUSER',
   network_name=&gt;'NET1');   
END;
/


 
-- Query semantic data with SEM_MATCH table function.

-- Get all article authors and titles
SELECT author$rdfterm, title$rdfterm
FROM TABLE(SEM_MATCH(
'PREFIX dc: &lt;http://purl.org/dc/elements/1.1/&gt;
 SELECT ?author ?title
 WHERE { ?article dc:creator ?author
                ; dc:title  ?title . }'
, SEM_MODELS('articles')
, null, null, null, null
, ' PLUS_RDFT=VC '
, null, null
, 'RDFUSER', 'NET1'));

-- Find all articles referenced by Article1
SELECT ref$rdfterm
FROM TABLE(SEM_MATCH(
'PREFIX dcterms: &lt;http://purl.org/dc/terms/&gt;
 PREFIX  nature: &lt;http://nature.example.com/&gt;
 SELECT ?ref
 WHERE { nature:article1 dcterms:references ?ref . }'
, SEM_MODELS('articles')
, null, null, null, null
, ' PLUS_RDFT=VC '
, null, null
, 'RDFUSER', 'NET1'));
</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-2A9B194C-2540-42C7-A783-4A32ADA6F1F4" title="PL/SQL examples are provided in this topic.">Semantic Data Examples (PL/SQL and Java)</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="RDFRM607"></a><a id="RDFRM608"></a><a id="RDFRM606"></a><div class="props_rev_3"><a id="GUID-ADC458F4-570C-4081-8844-107F9F63E915" name="GUID-ADC458F4-570C-4081-8844-107F9F63E915"></a><h4 id="RDFRM-GUID-ADC458F4-570C-4081-8844-107F9F63E915" class="sect4"><span class="enumeration_section">1.17.2 </span>Example: Family Information
                  </h4>
                  <div>
                     <p>This section presents a simplified PL/SQL example of a model for statements about family tree (genealogy) information. <a href="rdf-semantic-graph-overview.html#GUID-B403F8B8-F7C2-4253-8DB3-DD0D84DFBDCA__CHDCECBB">Example 1-116</a> contains descriptive comments, refers to concepts that are explained in this chapter, and uses functions and procedures documented in <a href="SEM_APIS-reference.html#GUID-F42AB976-445A-4DCD-974C-3B9ED810E3D5" title="The SEM_APIS package contains subprograms (functions and procedures) for working with the Resource Description Framework (RDF) and Web Ontology Language (OWL) in an Oracle database."> SEM_APIS Package Subprograms</a>.
                     </p>
                     <p>The family relationships in this example reflect the family tree shown in <a href="rdf-semantic-graph-overview.html#GUID-ADC458F4-570C-4081-8844-107F9F63E915__CHDIIFJE">Figure 1-3</a>. This figure also shows some of the information directly stated in the example: Cathy is the sister of Jack, Jack and Tom are male, and Cindy is female.
                     </p>
                     <div class="figure" id="GUID-ADC458F4-570C-4081-8844-107F9F63E915__CHDIIFJE">
                        <p class="titleinfigure">Figure 1-3 Family Tree for RDF Example</p><img src="img/family.gif" alt="Description of Figure 1-3 follows" title="Description of Figure 1-3 follows" longdesc="img_text/family.html"><br><a href="img_text/family.html">Description of "Figure 1-3 Family Tree for RDF Example"</a></div>
                     <!-- class="figure" -->
                     <div class="example" id="GUID-ADC458F4-570C-4081-8844-107F9F63E915__CHDGCDGI">
                        <p class="titleinexample">Example 1-117 Using a Model for Family Information</p><pre class="oac_no_warn" dir="ltr">-- Preparation: create tablespace; enable RDF support.
-- Connect as a privileged user. Example: CONNECT SYSTEM/password-for-SYSTEM
-- Create a tablespace for the RDF data. Example:
CREATE TABLESPACE rdf_tblspace 
  DATAFILE 'rdf_tblspace.dat' 
    SIZE 128M REUSE
    AUTOEXTEND ON NEXT 128M MAXSIZE 4G
  SEGMENT SPACE MANAGEMENT AUTO;

-- Call SEM_APIS.CREATE_SEM_NETWORK to create a schema-private semantic
-- network named NET1 owned by RDFUSER, which will create database
-- objects to store RDF data. Example:
EXECUTE SEM_APIS.CREATE_SEM_NETWORK('rdf_tblspace', network_owner=&gt;'RDFUSER', network_name=&gt;'NET1');

-- Connect as the user that is to perform the RDF operations (not SYSTEM), 
-- and do the following:
-- 1. For each desired model, create an application table
-- 2. For each desired model, create a model (SEM_APIS.CREATE_SEM_MODEL).
-- 3. Use various subprograms and constructors.


-- Create the application table for the model.
CREATE TABLE family_rdf_data (triple SDO_RDF_TRIPLE_S) COMPRESS;
 
-- Create the model.
execute SEM_APIS.create_sem_model('family', 'family_rdf_data', 'triple', network_owner=&gt;'RDFUSER', network_name=&gt;'NET1');
 
-- Insert RDF triples using SEM_APIS.UPDATE_MODEL. These express the following information:
-----------------
-- John and Janice have two children, Suzie and Matt.
-- Matt married Martha, and they have two children:
--   Tom (male) and Cindy (female).
-- Suzie married Sammy, and they have two children:
--   Cathy (female) and Jack (male).
 
-- Person is a class that has two subslasses: Male and Female.
-- parentOf is a property that has two subproperties: fatherOf and motherOf.
-- siblingOf is a property that has two subproperties: brotherOf and sisterOf.
-- The domain of the fatherOf and brotherOf properties is Male.
-- The domain of the motherOf and sisterOf properties is Female.
------------------------
 
BEGIN

  -- Insert some TBox (schema) information.
  SEM_APIS.UPDATE_MODEL('family',
   'PREFIX    rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt;
    PREFIX   rdfs: &lt;http://www.w3.org/2000/01/rdf-schema#&gt;
    PREFIX family: &lt;http://www.example.org/family/&gt;

    INSERT DATA {

      # Person is a class.
      family:Person rdf:type rdfs:Class .

      # Male is a subclass of Person.
      family:Male rdfs:subClassOf family:Person .
 
      # Female is a subclass of Person. 
      family:Female rdfs:subClassOf family:Person .

      # siblingOf is a property.
      family:siblingOf rdf:type rdf:Property .
 
      # parentOf is a property.
      family:parentOf rdf:type rdf:Property .
 
      # brotherOf is a subproperty of siblingOf.
      family:brotherOf rdfs:subPropertyOf family:siblingOf .

      # sisterOf is a subproperty of siblingOf.
      family:sisterOf rdfs:subPropertyOf family:siblingOf .
 
      # A brother is male.
      family:brotherOf rdfs:domain family:Male .
 
      # A sister is female.
      family:sisterOf rdfs:domain family:Female .

      # fatherOf is a subproperty of parentOf.
      family:fatherOf rdfs:subPropertyOf family:parentOf .
 
      # motherOf is a subproperty of parentOf.
      family:motherOf rdfs:subPropertyOf family:parentOf .

      # A father is male.
      family:fatherOf rdfs:domain family:Male .
 
      # A mother is female.
      family:motherOf rdfs:domain family:Female .
    }',
   network_owner=&gt;'RDFUSER',
   network_name=&gt;'NET1');

  -- Insert some ABox (instance) information.
  SEM_APIS.UPDATE_MODEL('family',
   'PREFIX    rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt;
    PREFIX   rdfs: &lt;http://www.w3.org/2000/01/rdf-schema#&gt;
    PREFIX family: &lt;http://www.example.org/family/&gt;

    INSERT DATA {
      # John is the father of Suzie and Matt
      family:John family:fatherOf family:Suzie .
      family:John family:fatherOf family:Matt .

      # Janice is the mother of Suzie and Matt
      family:Janice family:motherOf family:Suzie .
      family:Janice family:motherOf family:Matt .

      # Sammy is the father of Cathy and Jack
      family:Sammy family:fatherOf family:Cathy .
      family:Sammy family:fatherOf family:Jack .

      # Suzie is the mother of Cathy and Jack
      family:Suzie family:motherOf family:Cathy .
      family:Suzie family:motherOf family:Jack .

      # Matt is the father of Tom and Cindy
      family:Matt family:fatherOf family:Tom .
      family:Matt family:fatherOf family:Cindy .

      # Martha is the mother of Tom and Cindy
      family:Martha family:motherOf family:Tom .
      family:Martha family:motherOf family:Cindy .

      # Cathy is the sister of Jack
      family:Cathy family:sisterOf family:Jack .

      # Jack is male
      family:Jack rdf:type family:Male .

      # Tom is male.
      family:Tom rdf:type family:Male .

      # Cindy is female.
      family:Cindy rdf:type family:Female .
    }',
   network_owner=&gt;'RDFUSER',
   network_name=&gt;'NET1');

END;
/


-- RDFS inferencing in the family model
BEGIN
  SEM_APIS.CREATE_ENTAILMENT(
    'rdfs_rix_family',
    SEM_Models('family'),
    SEM_Rulebases('RDFS'),
    network_owner=&gt;'RDFUSER',
    network_name=&gt;'NET1');
END;
/
 
-- Select all males from the family model, without inferencing.
-- (Returns only Jack and Tom.)
SELECT m$rdfterm
  FROM TABLE(SEM_MATCH(
    'PREFIX  rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt;
     PREFIX rdfs: &lt;http://www.w3.org/2000/01/rdf-schema#&gt;
     PREFIX     : &lt;http://www.example.org/family/&gt;
     SELECT ?m
     WHERE {?m rdf:type :Male}',
    SEM_Models('family'),
    null,  null,  null, null,
    ' PLUS_RDFT=VC ',
    null, null,
    'RDFUSER', 'NET1'));
 
-- Select all males from the family model, with RDFS inferencing.
-- (Returns Jack, Tom, John, Sammy, and Matt.)
SELECT m$rdfterm
  FROM TABLE(SEM_MATCH(
    'PREFIX  rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt;
     PREFIX rdfs: &lt;http://www.w3.org/2000/01/rdf-schema#&gt;
     PREFIX     : &lt;http://www.example.org/family/&gt;
     SELECT ?m
     WHERE {?m rdf:type :Male}',
    SEM_Models('family'),
    SEM_Rulebases('RDFS'), 
    null, null, null,
    ' PLUS_RDFT=VC ',
    null, null,
    'RDFUSER', 'NET1'));
 
-- General inferencing in the family model
 
EXECUTE SEM_APIS.CREATE_RULEBASE('family_rb', network_owner=&gt;'RDFUSER', network_name=&gt;'NET1');
 
INSERT INTO rdfuser.net1#semr_family_rb VALUES(
  'grandparent_rule',
  '(?x :parentOf ?y) (?y :parentOf ?z)',
  NULL,
  '(?x :grandParentOf ?z)', 
  SEM_ALIASES(SEM_ALIAS('','http://www.example.org/family/')));
 
COMMIT;
 
-- Because a new rulebase has been created, and it will be used in the
-- entailment, drop the preceding entailment and then re-create it.
EXECUTE SEM_APIS.DROP_ENTAILMENT ('rdfs_rix_family', network_owner=&gt;'RDFUSER', network_name=&gt;'NET1');
 
-- Re-create the entailment.
BEGIN
  SEM_APIS.CREATE_ENTAILMENT(
    'rdfs_rix_family',
    SEM_Models('family'),
    SEM_Rulebases('RDFS','family_rb'), 
    network_owner=&gt;'RDFUSER', network_name=&gt;'NET1');
END;
/
 
-- Select all grandfathers and their grandchildren from the family model, 
-- without inferencing. (With no inferencing, no results are returned.)
SELECT x$rdfterm grandfather, y$rdfterm grandchild
  FROM TABLE(SEM_MATCH(
    'PREFIX  rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt;
     PREFIX rdfs: &lt;http://www.w3.org/2000/01/rdf-schema#&gt;
     PREFIX     : &lt;http://www.example.org/family/&gt;
     SELECT ?x ?y
     WHERE {?x :grandParentOf ?y . ?x rdf:type :Male}',
    SEM_Models('family'),
    null, null,  null, null,
    ' PLUS_RDFT=VC ',
    null, null,
    'RDFUSER', 'NET1'));
 
-- Select all grandfathers and their grandchildren from the family model.
-- Use inferencing from both the RDFS and family_rb rulebases.
SELECT x$rdfterm grandfather, y$rdfterm grandchild
  FROM TABLE(SEM_MATCH(
    'PREFIX  rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt;
     PREFIX rdfs: &lt;http://www.w3.org/2000/01/rdf-schema#&gt;
     PREFIX     : &lt;http://www.example.org/family/&gt;
     SELECT ?x ?y
     WHERE {?x :grandParentOf ?y . ?x rdf:type :Male}',
    SEM_Models('family'),
    SEM_Rulebases('RDFS','family_rb'), 
    null,  null, null,
    ' PLUS_RDFT=VC ',
    null, null,
    'RDFUSER', 'NET1'));
</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-2A9B194C-2540-42C7-A783-4A32ADA6F1F4" title="PL/SQL examples are provided in this topic.">Semantic Data Examples (PL/SQL and Java)</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="RDFRM613"></a><a id="RDFRM612"></a><div class="props_rev_3"><a id="GUID-F1D3E26F-93C8-4770-AE73-E699177AA8AA" name="GUID-F1D3E26F-93C8-4770-AE73-E699177AA8AA"></a><h3 id="RDFRM-GUID-F1D3E26F-93C8-4770-AE73-E699177AA8AA" class="sect3"><span class="enumeration_section">1.18 </span>Software Naming Changes Since Release 11.1
               </h3>
               <div>
                  <p>Because the support for semantic data has been expanded beyond the original focus on RDF, the names of many software objects (PL/SQL packages, functions and procedures, system tables and views, and so on) have been changed as of Oracle Database Release 11.1.</p>
                  <p>In most cases, the change is to replace the string <span class="italic">RDF</span> with <span class="italic">SEM</span>. although in some cases it may be to replace <span class="italic">SDO_RDF</span> with <span class="italic">SEM</span>.
                  </p>
                  <p><span class="italic"><span class="bold">All valid code that used the pre-Release 11.1 names will continue to work; your existing applications will not be broken.</span></span> However, it is suggested that you change old applications to use new object names, and you should use the new names for any new applications. This manual will document only the new names.
                  </p>
                  <p><a href="rdf-semantic-graph-overview.html#GUID-F1D3E26F-93C8-4770-AE73-E699177AA8AA__CIHEJBFJ" title="Semantic Technology Software Objects: Old and New Names">Table 1-21</a> lists the old and new names for some objects related to support for semantic technologies, in alphabetical order by old name.
                  </p>
                  <div class="tblformal" id="GUID-F1D3E26F-93C8-4770-AE73-E699177AA8AA__CIHEJBFJ">
                     <p class="titleintable">Table 1-21 Semantic Technology Software Objects: Old and New Names</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="Semantic Technology Software Objects: Old and New Names" summary="Semantic Technology Software Objects: Old and New Names" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="50%" id="d5269e18136">Old Name</th>
                              <th align="left" valign="bottom" width="50%" id="d5269e18139">New Name</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="50%" id="d5269e18144" headers="d5269e18136 ">
                                 <p>RDF_ALIAS data type</p>
                              </td>
                              <td align="left" valign="top" width="50%" headers="d5269e18144 d5269e18139 ">
                                 <p>SEM_ALIAS</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="50%" id="d5269e18151" headers="d5269e18136 ">
                                 <p>RDF_MODEL$ view</p>
                              </td>
                              <td align="left" valign="top" width="50%" headers="d5269e18151 d5269e18139 ">
                                 <p>SEM_MODEL$</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="50%" id="d5269e18158" headers="d5269e18136 ">
                                 <p>RDF_RULEBASE_INFO view</p>
                              </td>
                              <td align="left" valign="top" width="50%" headers="d5269e18158 d5269e18139 ">
                                 <p>SEM_RULEBASE_INFO</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="50%" id="d5269e18165" headers="d5269e18136 ">
                                 <p>RDF_RULES_INDEX_DATASETS view</p>
                              </td>
                              <td align="left" valign="top" width="50%" headers="d5269e18165 d5269e18139 ">
                                 <p>SEM_RULES_INDEX_DATASETS</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="50%" id="d5269e18172" headers="d5269e18136 ">
                                 <p>RDF_RULES_INDEX_INFO view</p>
                              </td>
                              <td align="left" valign="top" width="50%" headers="d5269e18172 d5269e18139 ">
                                 <p>SEM_RULES_INDEX_INFO</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="50%" id="d5269e18179" headers="d5269e18136 ">
                                 <p>RDFI_<span class="italic">rules-index-name</span> view
                                 </p>
                              </td>
                              <td align="left" valign="top" width="50%" headers="d5269e18179 d5269e18139 ">
                                 <p>SEMI_<span class="italic">rules-index-name</span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="50%" id="d5269e18191" headers="d5269e18136 ">
                                 <p>RDFM_<span class="italic">model-name</span> view
                                 </p>
                              </td>
                              <td align="left" valign="top" width="50%" headers="d5269e18191 d5269e18139 ">
                                 <p>SEMM_<span class="italic">model-name</span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="50%" id="d5269e18203" headers="d5269e18136 ">
                                 <p>RDFR_<span class="italic">rulebase-name</span> view
                                 </p>
                              </td>
                              <td align="left" valign="top" width="50%" headers="d5269e18203 d5269e18139 ">
                                 <p>SEMR_<span class="italic">rulebase-name</span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="50%" id="d5269e18215" headers="d5269e18136 ">
                                 <p>SDO_RDF package</p>
                              </td>
                              <td align="left" valign="top" width="50%" headers="d5269e18215 d5269e18139 ">
                                 <p>SEM_APIS</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="50%" id="d5269e18222" headers="d5269e18136 ">
                                 <p>SDO_RDF_INFERENCE package</p>
                              </td>
                              <td align="left" valign="top" width="50%" headers="d5269e18222 d5269e18139 ">
                                 <p>SEM_APIS</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="50%" id="d5269e18229" headers="d5269e18136 ">
                                 <p>SDO_RDF_MATCH table function</p>
                              </td>
                              <td align="left" valign="top" width="50%" headers="d5269e18229 d5269e18139 ">
                                 <p>SEM_MATCH</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="50%" id="d5269e18237" headers="d5269e18136 ">
                                 <p>SDO_RDF_MODELS data type</p>
                              </td>
                              <td align="left" valign="top" width="50%" headers="d5269e18237 d5269e18139 ">
                                 <p>SEM_MODELS</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="50%" id="d5269e18244" headers="d5269e18136 ">
                                 <p>SDO_RDF_RULEBASES data type</p>
                              </td>
                              <td align="left" valign="top" width="50%" headers="d5269e18244 d5269e18139 ">
                                 <p>SEM_RULEBASES</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-F422BB9F-8473-4980-9D6C-848F708C10E0" title="Oracle Spatial and Graph support for semantic technologies consists mainly of Resource Description Framework (RDF) and a subset of the Web Ontology Language (OWL). These capabilities are referred to as the RDF Knowledge Graph feature of Oracle Spatial and Graph.">RDF Knowledge Graph Overview</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="RDFRM213"></a><div class="props_rev_3"><a id="GUID-B08C0424-A3FD-467B-87D9-087A1974B770" name="GUID-B08C0424-A3FD-467B-87D9-087A1974B770"></a><h3 id="RDFRM-GUID-B08C0424-A3FD-467B-87D9-087A1974B770" class="sect3"><span class="enumeration_section">1.19 </span>For More Information About RDF Semantic Graph
               </h3>
               <div>
                  <p>More information is available about RDF Semantic Graph support and related topics.</p>
                  <p>See the following resources:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a id="d5269e18302" class="indexterm-anchor"></a><a id="d5269e18306" class="indexterm-anchor"></a><a id="d5269e18310" class="indexterm-anchor"></a>Oracle Spatial and Graph RDF Semantic Graph page (OTN), which includes links for downloads, technical and business white papers, a discussion forum, and other sources of information: <a href="http://www.oracle.com/technetwork/database/options/spatialandgraph/overview/rdfsemantic-graph-1902016.html" target="_blank"><code class="codeph">http://www.oracle.com/technetwork/database/options/spatialandgraph/overview/rdfsemantic-graph-1902016.html</code></a></p>
                     </li>
                     <li>
                        <p>World Wide Web Consortium (W3C) <span class="italic">RDF Primer</span>: <a href="http://www.w3.org/TR/rdf-primer/" target="_blank"><code class="codeph">http://www.w3.org/TR/rdf-primer/</code></a></p>
                     </li>
                     <li>
                        <p>World Wide Web Consortium (W3C) <span class="italic">OWL Web Ontology Language Reference</span>: <a href="http://www.w3.org/TR/owl-ref/" target="_blank"><code class="codeph">http://www.w3.org/TR/owl-ref/</code></a></p>
                     </li>
                  </ul>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-F422BB9F-8473-4980-9D6C-848F708C10E0" title="Oracle Spatial and Graph support for semantic technologies consists mainly of Resource Description Framework (RDF) and a subset of the Web Ontology Language (OWL). These capabilities are referred to as the RDF Knowledge Graph feature of Oracle Spatial and Graph.">RDF Knowledge Graph Overview</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="props_rev_3"><a id="GUID-3C013135-A56C-425A-853E-37B4BDB570D0" name="GUID-3C013135-A56C-425A-853E-37B4BDB570D0"></a><h3 id="RDFRM-GUID-3C013135-A56C-425A-853E-37B4BDB570D0" class="sect3"><span class="enumeration_section">1.20 </span>Required Migration of Pre-12.2 Semantic Data
               </h3>
               <div>
                  <p>If you have any semantic data created using Oracle Database 11.1. 11.2, or 12.1, then before you use it in an Oracle Database 12.2 environment, you must migrate this data.</p>
                  <p>To perform the migration, use the <a href="SEM_APIS-reference.html#GUID-84FEEC51-BFE7-4A7A-9F54-D0B46B7C9D1D">SEM_APIS.MIGRATE_DATA_TO_CURRENT</a> procedure. This applies not only to your existing semantic data, but also to any other semantic data introduced into your environment if that data was created using Oracle Database 11.1. 11.2, or 12.1
                  </p>
                  <p>The reason for this requirement is for optimal performance of queries that use ORDER BY. Effective with Release 12.2, Oracle Database creates, populates, and uses the ORDER_TYPE, ORDER_NUM, and ORDER_DATE columns (new in Release 12.2) in the RDF_VALUE$ table (described in <a href="rdf-semantic-graph-overview.html#GUID-F7D6E792-CFF4-4183-AECE-3CF4A3332D9E">Statements</a>). The <a href="SEM_APIS-reference.html#GUID-84FEEC51-BFE7-4A7A-9F54-D0B46B7C9D1D">SEM_APIS.MIGRATE_DATA_TO_CURRENT</a> procedure populates these order-related columns. If you do not do this, those columns will be null for existing data.
                  </p>
                  <p>You run this procedure after upgrading to Oracle Database Release 12.2. If you later bring into your Release 12.2 environment any semantic data that was created using an earlier release, you must also run the procedure before using that data. Running the procedure can take a long time with large amounts of semantic data, so consider that in deciding when to tun it. (Note that using the <code class="codeph">INS_AS_SEL=T</code> option improves the performance of the <a href="SEM_APIS-reference.html#GUID-84FEEC51-BFE7-4A7A-9F54-D0B46B7C9D1D">SEM_APIS.MIGRATE_DATA_TO_CURRENT</a> procedure with large data sets.)
                  </p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="rdf-semantic-graph-overview.html#GUID-F422BB9F-8473-4980-9D6C-848F708C10E0" title="Oracle Spatial and Graph support for semantic technologies consists mainly of Resource Description Framework (RDF) and a subset of the Web Ontology Language (OWL). These capabilities are referred to as the RDF Knowledge Graph feature of Oracle Spatial and Graph.">RDF Knowledge Graph Overview</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html>