<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>listObjList</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Backup and Recovery Reference"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Backup and Recovery Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-backup-and-recovery-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-09T19:31:58-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2003, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96242-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="keepOption.html" title="Previous" type="text/html"></link>
      <link rel="next" href="maintQualifier.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Backup and Recovery Reference"></meta>
    <meta name="dcterms.isVersionOf" content="RCMRF"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="keepOption.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="maintQualifier.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">备份和恢复参考</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="rman-subclauses.html" property="item" typeof="WebPage"><span property="name">RMAN子条款</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">listObjList</li>
            </ol>
            <a id="GUID-73596ED4-99FE-45B8-B333-FECC698E1374" name="GUID-73596ED4-99FE-45B8-B333-FECC698E1374"></a><a id="RCMRF90454"></a><a id="RCMRF90458"></a><a id="RCMRF90576"></a><a id="RCMRF90459"></a><a id="RCMRF90460"></a><a id="RCMRF133"></a>
            
            <h2 id="RCMRF-GUID-73596ED4-99FE-45B8-B333-FECC698E1374" class="sect2"><span class="enumeration_section">4.14</span> listObjList</h2>
         </header>
         <div class="ind">
            <div>
               <div class="section">
                  <p class="subhead1" id="GUID-73596ED4-99FE-45B8-B333-FECC698E1374__GUID-5995BE89-529E-4D6D-B550-4FEC0435B886">目的</p>
                  <p>使用<span class="italic"><code class="codeph">listObjList</code></span>子句指定数据库文件和归档重做日志文件。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-73596ED4-99FE-45B8-B333-FECC698E1374__GUID-1E4060F9-4F4C-40CC-BFC4-87C0D3E8FEFD">句法</p>
                  <p id="GUID-73596ED4-99FE-45B8-B333-FECC698E1374__BABBEIIJ"><a id="d121151e105" class="indexterm-anchor"></a> <span class="bold"><span class="italic">listObjList</span> :: =</span></p>
                  <div class="figure" id="GUID-73596ED4-99FE-45B8-B333-FECC698E1374__GUID-BFB40F48-5476-4839-8769-B9C0120E17C8"><img src="img/listobjlist.gif" alt="listobjlist.eps的描述如下" title="listobjlist.eps的描述如下" longdesc="img_text/listobjlist.html"><br><a href="img_text/listobjlist.html">说明listobjlist.eps的描述</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="archivelogRecordSpecifier.html#GUID-DDF929FF-796B-4AD6-AE58-F831CAFC7703__BABJGBFG">archivelogRecordSpecifier :: =</a></span> ， <span class="italic"><a href="dbObject.html#GUID-C5C5EC3A-1B4E-4591-8E70-715E4BDC9FF8__CIHJBGCH">dbObject</a></span> <span class="italic"><a href="archivelogRecordSpecifier.html#GUID-DDF929FF-796B-4AD6-AE58-F831CAFC7703__BABJGBFG">:: =</a></span> ， <span class="italic"><a href="dbObject.html#GUID-C5C5EC3A-1B4E-4591-8E70-715E4BDC9FF8__CIHJBGCH">foreignlogRecordSpecifier</a></span> <span class="italic"><a href="foreignlogRecordSpecifier.html#GUID-122E19A7-5BCC-434C-BE2A-9D4F248EA02C__BABHBICI">:: =</a></span> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-73596ED4-99FE-45B8-B333-FECC698E1374__GUID-755A61FF-318C-4E55-8028-7ED8E52DE317">语义</p>
                  <div class="tblformalwide" id="GUID-73596ED4-99FE-45B8-B333-FECC698E1374__GUID-45A9D2D2-CC3B-4916-84A3-7986C6E54221">
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="" width="100%" border="1" summary="Describes listObjList subclause parameters" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="31%" id="d121151e141">语法元素</th>
                              <th align="left" valign="bottom" width="69%" id="d121151e144">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d121151e149" headers="d121151e141 ">
                                 <p><span class="italic"><code class="codeph"><a href="archivelogRecordSpecifier.html#GUID-DDF929FF-796B-4AD6-AE58-F831CAFC7703">archivelogRecordSpecifier</a></code></span></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d121151e149 d121151e144 ">
                                 <p>指定一系列归档重做日志文件。</p>
                                 <p><span class="bold">另请参见：</span> <span class="italic"><code class="codeph"><a href="archivelogRecordSpecifier.html#GUID-DDF929FF-796B-4AD6-AE58-F831CAFC7703">archivelogRecordSpecifier</a></code></span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d121151e169" headers="d121151e141 ">
                                 <p><code class="codeph">CONTROLFILE</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d121151e169 d121151e144 ">
                                 <p>指定当前控制文件。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d121151e177" headers="d121151e141 ">
                                 <p><a id="d121151e179" class="indexterm-anchor"></a><code class="codeph">DATABASE</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d121151e177 d121151e144 ">
                                 <p>指定整个数据库。在多租户容器数据库（CDB）中，指定整个CDB。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d121151e187" headers="d121151e141 ">
                                 <p><code class="codeph">数据库根</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d121151e187 d121151e144 ">
                                 <p>仅指定CDB中的根。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d121151e195" headers="d121151e141 ">
                                 <p><code class="codeph">PLUGGABLE DATABASE</code> <span class="italic"><code class="codeph">pdb_name</code></span></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d121151e195 d121151e144 ">
                                 <p>指定CDB中的一个或多个可插拔数据库（PDB）。使用逗号分隔的列表指定多个PDB。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d121151e207" headers="d121151e141 "><code class="codeph">SKIP TABLESPACE</code> <span class="italic"><code class="codeph">tablespace_name</code></span></td>
                              <td align="left" valign="top" width="69%" headers="d121151e207 d121151e144 ">
                                 <p>忽略<code class="codeph">DATABASE</code>或<code class="codeph">PLUGGABLE DATABASE</code>规范中指定的表空间。在CDB中，省略根目录中的指定表空间。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d121151e224" headers="d121151e141 ">
                                 <p><code class="codeph">SKIP TABLESPACE</code> <span class="italic"><code class="codeph">pdb_name:</code></span> <span class="italic"><code class="codeph">tablespace_name</code></span></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d121151e224 d121151e144 ">
                                 <p>CDB中表空间的名称。多个数据库可以具有相同名称的表空间。名称前面的限定符唯一标识表空间。 <span class="italic"><code class="codeph">pdb_name</code></span>是PDB的名称。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d121151e242" headers="d121151e141 ">
                                 <p><code class="codeph"><span class="codeinlineitalic"><a href="foreignlogRecordSpecifier.html#GUID-122E19A7-5BCC-434C-BE2A-9D4F248EA02C">foreignlogRecordSpecifier</a></span></code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d121151e242 d121151e144 ">
                                 <p>处理指定的外部归档重做日志文件。</p>
                                 <p><span class="bold">另请参见：</span> <code class="codeph"><span class="codeinlineitalic"><a href="foreignlogRecordSpecifier.html#GUID-122E19A7-5BCC-434C-BE2A-9D4F248EA02C">foreignlogRecordSpecifier</a></span></code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d121151e262" headers="d121151e141 ">
                                 <p><code class="codeph">SPFILE</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d121151e262 d121151e144 ">
                                 <p>指定当前服务器参数文件。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-73596ED4-99FE-45B8-B333-FECC698E1374__GUID-DF2D3149-235F-4F46-8067-D7BAD9DEC33F">例子</p>
               </div>
               <!-- class="section" -->
               <div class="example" id="GUID-73596ED4-99FE-45B8-B333-FECC698E1374__GUID-D0E338EB-6FB8-49E3-B9A0-96B7CAD7E2B3">
                  <p class="titleinexample">示例4-26列出数据文件副本</p>
                  <p>以下命令列出数据库中所有文件的映像副本，跳过<code class="codeph">temp</code>表空间，这是一个字典管理的临时表空间：</p><pre class="oac_no_warn" dir="ltr">列表副本数据库跳过表格临时;</pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-73596ED4-99FE-45B8-B333-FECC698E1374__GUID-BED9D507-40C3-4EE5-BE7C-7595E45565C5">
                  <p class="titleinexample">示例4-27列出PDB的数据文件</p>
                  <p>以下命令列出了PDB <code class="codeph">hr_pdb</code>的备份。在运行此命令之前，以具有<code class="codeph">SYBACKUP</code>权限的普通用户身份连接到root用户。
                  </p><pre class="oac_no_warn" dir="ltr">可插入数据库的列表备份hr_pdb;</pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-73596ED4-99FE-45B8-B333-FECC698E1374__GUID-9FCD0DA8-CBFC-4E49-AFF2-976558C21207">
                  <p class="titleinexample">示例4-28交叉检查存档的重做日志文件</p>
                  <p>以下示例向介质管理器查询过去三个月中创建的服务器参数文件和归档重做日志备份的状态。该示例包括示例输出。</p><pre class="oac_no_warn" dir="ltr">RMAN&gt;维护设备类型的分配通道;已分配的通道：ORA_MAINT_SBT_TAPE_1通道ORA_MAINT_SBT_TAPE_1：SID = 103设备类型= SBT_TAPE通道ORA_MAINT_SBT_TAPE_1：Oracle安全备份RMAN&gt;从'SYSDATE-90'时间开始检查SPFILE ARCHIVELOG的备份;交叉检查备件：发现'AVAILABLE'备件手柄= 8cic4031_1_1 RECID = 195 STAMP = 616693857交叉检查备件：发现'AVAILABLE'备件手柄= c-28014364-20130308-15 RECID = 196 STAMP = 616693875 Crosschecked 2对象RMAN&gt; RELEASE CHANNEL;发布频道：ORA_MAINT_SBT_TAPE_1</pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-73596ED4-99FE-45B8-B333-FECC698E1374__GUID-34825A52-4977-434C-AE67-1A7927518F28">
                  <p class="titleinexample">示例4-29删除过期备份</p>
                  <p>以下命令执行所有备份的交叉检查。发现一个备份已过期。然后，该示例将删除所有过期的备份（包括示例输出）。</p><pre class="oac_no_warn" dir="ltr">RMAN&gt; CROSSCHECK BACKUP;</pre><pre class="oac_no_warn" dir="ltr">已分配的通道：ORA_SBT_TAPE_1通道ORA_SBT_TAPE_1：SID = 104设备类型= SBT_TAPE通道ORA_SBT_TAPE_1：Oracle Secure Backup分配的通道：ORA_DISK_1通道ORA_DISK_1：SID = 103设备类型= DISK交叉检查备份件：发现为'EXPIRED'备件件句柄= / disk2 /PROD/autobackup/2013_03_08/o1_mf_s_616690991_2z15kl5h_.bkp RECID = 191 STAMP = 616690994交叉检查备件：发现'AVAILABLE'备件手柄= 8cic4031_1_1 RECID = 195 STAMP = 616693857交叉检查备件：发现'AVAILABLE'备件手柄= c-28014364-20130308-15 RECID = 196 STAMP = 616693875交叉检查3个对象</pre><pre class="oac_no_warn" dir="ltr">RMAN&gt; DELETE EXPIRED BACKUP;</pre><pre class="oac_no_warn" dir="ltr">使用渠道ORA_DISK_1使用渠道ORA_SBT_TAPE_1</pre><pre class="oac_no_warn" dir="ltr">备份件列表BP键BS键Pc＃Cp＃状态设备类型件名------- ------- --- --- ----------- --------- ---------- 7678 7677 1 1 EXPIRED DISK /disk2/PROD/autobackup/2013_03_08/o1_mf_s_616690991_2z15kl5h_.bkp</pre><pre class="oac_no_warn" dir="ltr">你真的想删除上面的对象（输入是或否）？是删除备份件备份件句柄= / disk2 / PROD / autobackup / 2013_03_08 / o1_mf_s_616690991_2z15kl5h_.bkp RECID = 191 STAMP = 616690994删除1个EXPIRED对象</pre></div>
               <!-- class="example" -->
            </div>
         </div>
      </article>
   </body>
</html>