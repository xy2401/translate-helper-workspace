<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>配置和管理Oracle Net Listener</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Net Services Administrator&#39;s Guide "></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Net Services Administrator&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="net-services-administrators-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-04-24T04:25:53-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2002, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96313-04"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="configuring-naming-methods.html" title="Previous" type="text/html"></link>
      <link rel="next" href="configuring-oracle-connection-manager.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Net Services Administrator&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="NETAG"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="configuring-naming-methods.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="configuring-oracle-connection-manager.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">网络服务管理员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="part-II-config-and-admin-of-oracle-net-services.html" property="item" typeof="WebPage"><span property="name">Oracle Net Services的配置和管理</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">配置和管理Oracle Net Listener</li>
            </ol>
            <a id="GUID-C3C40DBA-4282-41E1-9562-4B8B10947C4E" name="GUID-C3C40DBA-4282-41E1-9562-4B8B10947C4E"></a><a id="NETAG010"></a>
            
            <h2 id="NETAG-GUID-C3C40DBA-4282-41E1-9562-4B8B10947C4E" class="sect2"><span class="enumeration_chapter">9</span>配置和管理Oracle Net Listener</h2>
         </header>
         <div class="ind">
            <div>
               <p>Oracle Net Listener是一个在数据库服务器上运行的独立进程。它接收传入的客户端连接请求，并管理这些请求到数据库服务器的流量。了解如何配置侦听器以接受客户端连接。</p>
               <div class="infoboxnote" id="GUID-C3C40DBA-4282-41E1-9562-4B8B10947C4E__GUID-7EFA3EB9-BA54-4616-AED2-D0DE5E92C0C9">
                  <p class="notep1">注意：</p>
                  <p>在Oracle Database 12 <span class="italic">c第</span> 2版（12.2）中，不再支持侦听器密码功能。这不会导致安全性丢失，因为通过本地操作系统身份验证强制执行身份验证。
                  </p>
               </div>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="configuring-and-administering-oracle-net-listener.html#GUID-A3263EB4-C3F2-4529-ABC2-ADE749114D33">Oracle Net Listener概述</a><br></li>
                  <li class="ulchildlink"><a href="configuring-and-administering-oracle-net-listener.html#GUID-A7F49477-1F13-49E7-9B23-9A50A4627862">配置动态服务注册</a><br></li>
                  <li class="ulchildlink"><a href="configuring-and-administering-oracle-net-listener.html#GUID-E3D471CD-0528-42CF-8F44-43AD3A18EDA5">在安装期间配置Oracle Net Listener</a><br></li>
                  <li class="ulchildlink"><a href="configuring-and-administering-oracle-net-listener.html#GUID-AFD99154-6F3B-492E-A90B-F65E25356880">自定义Oracle Net Listener配置</a><br></li>
                  <li class="ulchildlink"><a href="configuring-and-administering-oracle-net-listener.html#GUID-F23E3733-0A34-4488-AE23-23A9FE65BC85">管理监听器</a><br></li>
                  <li class="ulchildlink"><a href="configuring-and-administering-oracle-net-listener.html#GUID-63F36312-FDA8-4B20-B8E1-4949AD55707A">了解监听器重定向</a><br></li>
               </ul>
               <div class="infoboxnotealso" id="GUID-C3C40DBA-4282-41E1-9562-4B8B10947C4E__GUID-009DF49B-136E-4BC4-AA64-1D34AD02B76E">
                  <p class="notep1">也可以看看：</p>
                  <p></p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="identifying-and-accessing-database.html#GUID-5BC573CE-BA12-4251-A987-429095385EC2">标识和访问数据库</a> ，以<a href="identifying-and-accessing-database.html#GUID-5BC573CE-BA12-4251-A987-429095385EC2">获取有关</a>在初始连接请求期间如何使用侦听器的说明</p>
                     </li>
                     <li>
                        <p><a href="understanding-communication-layers.html#GUID-E526745C-2F76-46F0-9365-99EA762949C6">了解通信层</a>以获取侦听器的体系结构概述</p>
                     </li>
                  </ul>
               </div>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>父主题：</strong> <a href="part-II-config-and-admin-of-oracle-net-services.html#GUID-18C53DE7-28A6-4D01-AEA4-56A5F42B1B2A">Oracle Net Services的配置和管理</a></p>
                  </div>
               </div>
            </div>
            <a id="NETAG292"></a><div class="sect2"><a id="GUID-A3263EB4-C3F2-4529-ABC2-ADE749114D33" name="GUID-A3263EB4-C3F2-4529-ABC2-ADE749114D33"></a><h3 id="NETAG-GUID-A3263EB4-C3F2-4529-ABC2-ADE749114D33" class="sect3"><span class="enumeration_section">9.1</span> Oracle Net Listener概述</h3>
               <div>
                  <div class="infoboxnote" id="GUID-A3263EB4-C3F2-4529-ABC2-ADE749114D33__GUID-B4C1ED59-D389-4787-A525-C5C4EFD3AD8F">
                     <p class="notep1">注意：</p>
                     <p>侦听器的发行版必须与通过侦听器提供服务的所有Oracle数据库的最新版本相同或更晚。</p>
                  </div>
                  <p>侦听器配置有一个或多个侦听协议地址，有关支持的服务的信息以及控制其运行时行为的参数。侦听器配置存储在名为<code class="codeph">listener.ora</code>的配置文件中。
                  </p>
                  <p>由于配置参数具有默认值，因此可以启动并使用没有配置的侦听器。此默认侦听器的名称为<code class="codeph">LISTENER</code> ，启动时不支持任何服务，并侦听以下TCP / IP协议地址：</p><pre class="oac_no_warn" dir="ltr">（ADDRESS =（PROTOCOL = tcp）（HOST = <span class="italic"><code class="codeph">host_name</code></span> ）（PORT = 1521））</pre><pre class="oac_no_warn" dir="ltr"></pre><p>侦听器将客户端请求转发给支持的服务。这些服务是向监听器动态注册的。此动态注册功能称为<a href="glossary.html#GUID-75F03661-30B9-4554-9E0E-C1B7088DEB3E"><span class="xrefglossterm">服务注册</span></a> 。注册由<a id="d27122e195" class="indexterm-anchor"></a>监听器注册（LREG）过程。动态服务注册不需要<code class="codeph">listener.ora</code>文件中的任何手动配置。
                  </p>
                  <p><a id="d27122e202" class="indexterm-anchor"></a>服务注册提供以下好处：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>连接时故障转移<a id="d27122e211" class="indexterm-anchor"></a><a id="d27122e215" class="indexterm-anchor"></a> 
                        </p>
                        <p>由于侦听器始终监视实例的状态，因此服务注册有助于在一个实例关闭时将客户端连接请求自动故障转移到其他实例。</p>
                     </li>
                     <li>
                        <p>连接负载平衡<a id="d27122e225" class="indexterm-anchor"></a><a id="d27122e229" class="indexterm-anchor"></a></p>
                        <p>服务注册使侦听器能够将客户端连接请求转发到负载最少的实例和<a href="glossary.html#GUID-6A50A995-E885-4B57-88A3-F0DA6E3B1B60"><span class="xrefglossterm">调度程序</span></a>或<a href="glossary.html#GUID-111D574E-F53B-45C4-9F52-FB63F969DA4F"><span class="xrefglossterm">专用服务器</span></a> 。服务注册平衡<a href="glossary.html#GUID-28B13FE9-F78B-42CE-8364-D72CE4856497"><span class="xrefglossterm">服务处理程序</span></a>和节点之间的负载。
                        </p>
                     </li>
                     <li>
                        <p>Oracle Real Application Clusters和Oracle Data Guard的高可用性</p>
                     </li>
                  </ul>
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-A3263EB4-C3F2-4529-ABC2-ADE749114D33__GUID-0368FE31-C232-4A3D-A154-5706622BE18B">
                     <p class="notep1">也可以看看：</p>
                     <p></p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="q">“ <a href="understanding-oracle-net-architecture.html#GUID-F197DFD3-1756-4DC0-9D44-D2FA419376F0">了解Oracle Net Architecture</a> ”</span> 
                           </p>
                        </li>
                        <li>
                           <p><span class="q">“ <a href="configuring-and-administering-oracle-net-listener.html#GUID-A7F49477-1F13-49E7-9B23-9A50A4627862">配置动态服务注册</a> ”</span></p>
                        </li>
                        <li>
                           <p><span class="q">“ <a href="enabling-advanced-features.html#GUID-39241458-E9E1-4B4C-99FD-48975F307239">关于地址列表参数</a> ”</span></p>
                        </li>
                        <li>
                           <p><span class="q">“ <a href="enabling-advanced-features.html#GUID-75CC9084-51BB-4B7A-98F7-535B2F8E9B6E" title="COLOCATION_TAG参数是一个字母数字字符串，可以与TNS连接字符串的CONNECT_DATA参数一起使用。">了解连接负载平衡</a> ”</span></p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="configuring-and-administering-oracle-net-listener.html#GUID-C3C40DBA-4282-41E1-9562-4B8B10947C4E">配置和管理Oracle Net Listener</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="NETAG298"></a><div class="sect2"><a id="GUID-A7F49477-1F13-49E7-9B23-9A50A4627862" name="GUID-A7F49477-1F13-49E7-9B23-9A50A4627862"></a><h3 id="NETAG-GUID-A7F49477-1F13-49E7-9B23-9A50A4627862" class="sect3"><span class="enumeration_section">9.2</span>配置动态服务注册</h3>
               <div>
                  <p>服务注册允许进程（例如Oracle数据库）识别其对侦听器的可用服务，然后该侦听器充当这些服务的端口映射器。监听器使用有关通过服务注册接收的数据库和实例的动态服务信息。</p>
                  <p>动态服务注册在数据库初始化文件中配置。它不需要<code class="codeph">listener.ora</code>文件中的任何配置。但是，必须将侦听器配置设置为侦听数据库初始化文件中指定的端口，并且不得设置阻止自动注册的参数，例如COST参数。
                  </p>
                  <p>本节包含与服务注册相关的以下配置主题：</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="configuring-and-administering-oracle-net-listener.html#GUID-C80D5917-0619-4036-935E-19AAA0B5E9C1">设置服务注册的初始化参数</a><br></li>
                     <li class="ulchildlink"><a href="configuring-and-administering-oracle-net-listener.html#GUID-0E7C39E3-4627-403A-AE69-E9AA2C7E4C57">使用本地监听器注册信息</a><br></li>
                     <li class="ulchildlink"><a href="configuring-and-administering-oracle-net-listener.html#GUID-09139A19-5265-4216-9054-3237B225E09D">使用远程监听器注册信息</a><br></li>
                     <li class="ulchildlink"><a href="configuring-and-administering-oracle-net-listener.html#GUID-948EC80C-1150-4FAD-92EE-21BA1ABC365D">向网络中的所有监听器注册信息</a><br></li>
                     <li class="ulchildlink"><a href="configuring-and-administering-oracle-net-listener.html#GUID-D50E38B9-9789-4259-A400-C06D1FFAB4E5">配置命名方法</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="configuring-and-administering-oracle-net-listener.html#GUID-C3C40DBA-4282-41E1-9562-4B8B10947C4E">配置和管理Oracle Net Listener</a></p>
                     </div>
                  </div>
               </div>
               <a id="NETAG299"></a><div class="sect3"><a id="GUID-C80D5917-0619-4036-935E-19AAA0B5E9C1" name="GUID-C80D5917-0619-4036-935E-19AAA0B5E9C1"></a><h4 id="NETAG-GUID-C80D5917-0619-4036-935E-19AAA0B5E9C1" class="sect4"><span class="enumeration_section">9.2.1</span>设置服务注册的初始化参数</h4>
                  <div>
                     <p>为确保服务注册正常工作，初始化参数文件应包含以下参数：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>SERVICE_NAMES用于数据库服务名称</p>
                        </li>
                        <li>
                           <p>INSTANCE_NAME获取实例名称</p>
                        </li>
                        <li>
                           <p>LOCAL_LISTENER用于本地侦听器</p>
                        </li>
                        <li>
                           <p>远程侦听器的REMOTE_LISTENER，如果有的话</p>
                        </li>
                        <li>
                           <p>FORWARD_LISTENER用于前向侦听器</p>
                        </li>
                     </ul>
                     <p>例如：</p><pre class="oac_no_warn" dir="ltr">SERVICE_NAMES = sales.us.example.com INSTANCE_NAME =销售额</pre><p>SERVICE_NAMES参数的值默认为<a id="d27122e460" class="indexterm-anchor"></a><a id="d27122e464" class="indexterm-anchor"></a><a id="d27122e468" class="indexterm-anchor"></a> <a href="glossary.html#GUID-996D3038-3AE0-440C-BAC3-AFB45FB98AD6"><span class="xrefglossterm">全局数据库名称</span></a> ，在初始化参数文件中包含DB_NAME和DB_DOMAIN参数的名称。INSTANCE_NAME参数的值默认为Oracle系统标识符（SID）。
                     </p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-C80D5917-0619-4036-935E-19AAA0B5E9C1__GUID-CA7292AD-625C-48B7-A6B3-344EB52B37AD">
                        <p class="notep1">也可以看看：</p>
                        <p>有关SERVICE_NAMES和INSTANCE_NAME参数的其他信息，请<a href="../refrn/SERVICE_NAMES.html#REFRN-GUID-AC956707-D568-4F8A-BF2E-99BA41E0A64F" target="_blank"><span class="italic">参见Oracle数据库参考</span></a></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-and-administering-oracle-net-listener.html#GUID-A7F49477-1F13-49E7-9B23-9A50A4627862">配置动态服务注册</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="NETAG1467"></a><a id="NETAG1154"></a><div class="sect3"><a id="GUID-0E7C39E3-4627-403A-AE69-E9AA2C7E4C57" name="GUID-0E7C39E3-4627-403A-AE69-E9AA2C7E4C57"></a><h4 id="NETAG-GUID-0E7C39E3-4627-403A-AE69-E9AA2C7E4C57" class="sect4"><span class="enumeration_section">9.2.2</span>使用本地监听器注册信息</h4>
                  <div>
                     <p><a id="d27122e542" class="indexterm-anchor"></a><a id="d27122e546" class="indexterm-anchor"></a><a id="d27122e552" class="indexterm-anchor"></a><a id="d27122e556" class="indexterm-anchor"></a>默认情况下，LREG进程使用其本地侦听器在TCP / IP的默认本地地址1521上注册服务信息。如果侦听器配置与数据库配置同步，则LREG可以在另一个节点上向非默认本地侦听器或远程侦听器注册服务信息。在<code class="codeph">listener.ora</code>文件中指定侦听器的协议地址并在初始化参数文件中指定侦听器的位置时，将发生同步。
                     </p>
                     <p>要使LREG进程向不使用TCP / IP的本地侦听器（端口1521）注册，请在初始化参数文件中配置LOCAL_LISTENER参数以查找本地侦听器。</p>
                     <p>对于共享服务器环境，您可以使用<a id="d27122e568" class="indexterm-anchor"></a><a id="d27122e570" class="indexterm-anchor"></a>初始化参数文件中DISPATCHERS参数的<code class="codeph">LISTENER</code>属性，用于向调度程序注册非默认本地侦听器。由于LOCAL_LISTENER参数和<code class="codeph">LISTENER</code>属性使LREG能够向侦听<code class="codeph">LISTENER</code>注册调度程序信息，因此如果侦听器值相同，则无需同时指定参数和属性。
                     </p>
                     <p>LOCAL_LISTENER是逗号分隔的列表参数。如果字符串中出现逗号，则整个字符串必须用双引号括起来。设置<a id="d27122e582" class="indexterm-anchor"></a><a id="d27122e584" class="indexterm-anchor"></a> LOCAL_LISTENER参数如下：</p><pre class="oac_no_warn" dir="ltr">ALTER SYSTEM SET LOCAL_LISTENER = [“] <span class="italic">listener_address</span> [”] [，...];</pre><p>例如，如果输入了侦听器地址<code class="codeph">"ab,cd"</code> ，则它将解析为一个侦听器地址。如果地址输入为<code class="codeph">ab,cd</code> ，则它解析为两个侦听器地址， <code class="codeph">ab</code>和<code class="codeph">cd</code> 。
                     </p>
                     <p>对于共享服务器连接，请按如下方式设置<code class="codeph">LISTENER</code>属性：</p><pre class="oac_no_warn" dir="ltr">ALTER SYSTEM SET DISPATCHERS =“（PROTOCOL = tcp）（LISTENER = <span class="italic">listener_address</span> ）”;</pre><p>在上面的命令中， <span class="italic">listener_address</span>通过命名方法解析为侦听器协议地址，例如数据库服务器上的<code class="codeph">tnsnames.ora</code>文件。
                     </p>
                     <div class="infoboxnote" id="GUID-0E7C39E3-4627-403A-AE69-E9AA2C7E4C57__GUID-7B979298-DC73-4C72-B1C0-8F3A760A46EC">
                        <p class="notep1">注意：</p>
                        <p></p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>要动态更新LOCAL_LISTENER参数，请使用SQL语句<code class="codeph">ALTER SYSTEM</code> ，如下所示：</p><pre class="oac_no_warn" dir="ltr">ALTER SYSTEM SET LOCAL_LISTENER = [“] <span class="italic">listener_address</span> [”] [，...]
</pre><p>如果使用以下语句将参数设置为null，则假定TCP / IP的默认本地地址，端口1521：</p><pre class="oac_no_warn" dir="ltr">ALTER SYSTEM SET LOCAL_LISTENER =''</pre></li>
                        </ul>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">LISTENER</code>属性会覆盖LOCAL_LISTENER参数。因此，SQL语句<code class="codeph">ALTER SYSTEM SET LOCAL_LISTENER</code>不会影响此属性的设置。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <p>在<a href="configuring-and-administering-oracle-net-listener.html#GUID-0E7C39E3-4627-403A-AE69-E9AA2C7E4C57__CHDJIEAC">示例9-1中</a> ，数据库驻留在主机<code class="codeph">sales1-server</code> 。此主机上的侦听器名为<code class="codeph">listener_sales1</code> ，并配置为侦听端口1421而不是端口1521。
                     </p>
                     <div class="example" id="GUID-0E7C39E3-4627-403A-AE69-E9AA2C7E4C57__CHDJIEAC">
                        <p class="titleinexample">示例9-1在专用服务器环境中注册本地侦听器</p>
                        <ol>
                           <li>
                              <p>在本地侦听器所在的主机上，使用Oracle Net Manager将<code class="codeph">listener.ora</code>文件配置为<code class="codeph">listener.ora</code>器的协议地址。
                              </p>
                           </li>
                           <li>
                              <p>在数据库上，将数据库初始化参数文件中的LOCAL_LISTENER参数设置为本地侦听器的别名。例如：</p><pre class="oac_no_warn" dir="ltr">ALTER SYSTEM SET LOCAL_LISTENER = listener_sales1;</pre><p>如果数据库配置为共享服务器连接，则可以按如下方式设置<code class="codeph">LISTENER</code>属性：</p><pre class="oac_no_warn" dir="ltr">ALTER SYSTEM SET DISPATCHERS =“（PROTOCOL = tcp）（LISTENER = listener_sales1）”;</pre></li>
                           <li>
                              <p>使用文本编辑器通过数据库主机上的<code class="codeph">tnsnames.ora</code>文件解析<code class="codeph">LOCAL_LISTENER</code>设置的侦听器名称别名，如下所示：</p><pre class="oac_no_warn" dir="ltr">listener_sales1 =（DESCRIPTION =（ADDRESS =（PROTOCOL = tcp）（HOST = sales-server）（PORT = 1421）））</pre><div class="infoboxnote" id="GUID-0E7C39E3-4627-403A-AE69-E9AA2C7E4C57__GUID-02722FC2-8826-4F8C-A97C-1F5C5523EFB9">
                                 <p class="notep1">注意：</p>
                                 <p></p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p>如果要注册本地侦听器并使用Oracle Connection Manager，则不要包括<code class="codeph">(DESCRIPTION =</code>或其右括号。
                                       </p>
                                    </li>
                                    <li>
                                       <p>可以为协议地址创建网络服务名称条目，而不使用连接描述符的CONNECT_DATA部分。</p>
                                    </li>
                                 </ul>
                              </div>
                           </li>
                        </ol>
                     </div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-0E7C39E3-4627-403A-AE69-E9AA2C7E4C57__GUID-689E7803-ABCF-4D43-9F98-3ED84788285C">
                        <p class="notep1">也可以看看：</p>
                        <p></p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>有关<code class="codeph">ALTER SYSTEM</code>语句的其他信息，请参见<a href="../sqlrf/ALTER-SYSTEM.html#SQLRF00902" target="_blank"><span class="italic">Oracle数据库SQL参考</span></a> 。
                              </p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="configuring-and-administering-oracle-net-listener.html#GUID-B16FD816-5871-4AD7-86D1-55DDD8531322">配置侦听协议地址</a> ”</span></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="configuring-and-administering-oracle-net-listener.html#GUID-D50E38B9-9789-4259-A400-C06D1FFAB4E5">配置命名方法</a> ”</span></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-and-administering-oracle-net-listener.html#GUID-A7F49477-1F13-49E7-9B23-9A50A4627862">配置动态服务注册</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="NETAG1468"></a><a id="NETAG1469"></a><a id="NETAG302"></a><div class="sect3"><a id="GUID-09139A19-5265-4216-9054-3237B225E09D" name="GUID-09139A19-5265-4216-9054-3237B225E09D"></a><h4 id="NETAG-GUID-09139A19-5265-4216-9054-3237B225E09D" class="sect4"><span class="enumeration_section">9.2.3</span>使用远程监听器注册信息</h4>
                  <div>
                     <p><span class="bold">远程侦听器</span>是驻留在一台计算机上的侦听<span class="bold">器</span> ，它将连接重定向到另一台计算机上的数据库实例。远程侦听器通常用于Oracle Real Application Clusters（Oracle RAC）环境中。您可以为专用或共享服务器环境配置向远程侦听器（例如Oracle RAC）的注册。
                     </p>
                     <p>在专用服务器环境中，必须启用LREG后台进程以向远程侦听器注册。您可以通过在初始化参数文件中配置REMOTE_LISTENER参数（以逗号分隔的列表参数）来执行此操作。REMOTE_LISTENER的语法如下：</p><pre class="oac_no_warn" dir="ltr"><a id="d27122e800" class="indexterm-anchor"></a> ALTER SYSTEM SET REMOTE_LISTENER = [“] <span class="italic">listener_address</span> [”] [，...];</pre><p>在上面的命令中， <span class="italic">listener_address</span>通过命名方法（如数据库主机上的<code class="codeph">tnsnames.ora</code>文件）解析为侦听器协议地址。如果侦听器地址中出现逗号，则整个字符串必须用引号括起来。
                     </p>
                     <p>在共享服务器环境中，您可以使用与专用服务器环境相同的注册技术。或者，您可以设置<a id="d27122e818" class="indexterm-anchor"></a><a id="d27122e820" class="indexterm-anchor"></a>初始化参数文件中DISPATCHERS参数的<code class="codeph">LISTENER</code>属性，用于向任何侦听器注册调度程序。<code class="codeph">LISTENER</code>属性的语法如下：</p><pre class="oac_no_warn" dir="ltr">ALTER SYSTEM SET DISPATCHERS =“（PROTOCOL = tcp）（LISTENER = <span class="italic">listener_address</span> ）”;</pre><div class="infoboxnote" id="GUID-09139A19-5265-4216-9054-3237B225E09D__GUID-27A57041-3174-4905-84E4-34EF2FED1DB6">
                        <p class="notep1">注意：</p>
                        <p><code class="codeph">LISTENER</code>属性会覆盖REMOTE_LISTENER初始化参数。由于REMOTE_LISTENER初始化参数和<code class="codeph">LISTENER</code>属性使LREG能够向侦听<code class="codeph">LISTENER</code>注册调度程序信息，因此如果侦听器值相同，则无需同时指定参数和属性。
                        </p>
                     </div>
                     <p>例如，假设名为<code class="codeph">listener-sales2</code>的远程侦听器侦听主机<code class="codeph">sales2-server</code>上的端口1521，并且数据库驻留在主机<code class="codeph">sales1-server</code> 。您希望<code class="codeph">sales2-server</code>上的侦听器将连接请求重定向到此数据库。<a href="configuring-and-administering-oracle-net-listener.html#GUID-09139A19-5265-4216-9054-3237B225E09D__CHDBCEHC">图9-1</a>说明了这种情况。
                     </p>
                     <div class="figure" id="GUID-09139A19-5265-4216-9054-3237B225E09D__CHDBCEHC">
                        <p class="titleinfigure">图9-1远程监听器</p><img src="img/netag141.gif" width="436" alt="下面是图9-1的描述" title="下面是图9-1的描述" longdesc="img_text/netag141.html"><br><a href="img_text/netag141.html">“图9-1远程侦听器”的说明</a></div>
                     <!-- class="figure" -->
                     <div class="infoboxnotealso" id="GUID-09139A19-5265-4216-9054-3237B225E09D__GUID-4CF8FCCF-78AA-4C76-A6B6-72D606AC80E4">
                        <p class="notep1">也可以看看：</p>
                        <p>有关<code class="codeph">ALTER SYSTEM SET</code>语句的其他信息，请<a href="../sqlrf/ALTER-SYSTEM.html#SQLRF-GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB" target="_blank"><span class="italic">参见Oracle Database SQL Reference</span></a></p>
                     </div>
                     <p><a href="configuring-and-administering-oracle-net-listener.html#GUID-09139A19-5265-4216-9054-3237B225E09D__CHDHFAAE">例9-2</a>显示了如何在专用服务器环境中注册远程侦听器。在该示例中，远程侦听器是<code class="codeph">sales2-server</code> 。
                     </p>
                     <div class="example" id="GUID-09139A19-5265-4216-9054-3237B225E09D__CHDHFAAE">
                        <p class="titleinexample">示例9-2在专用服务器环境中注册远程侦听器</p>
                        <ol>
                           <li>
                              <p>在远程侦听器所在的主机上，使用Oracle Net Manager将<code class="codeph">listener.ora</code>文件配置为远程侦听器的协议地址。
                              </p>
                           </li>
                           <li>
                              <p>在要将请求重定向到的数据库上，将数据库初始化参数文件中的REMOTE_LISTENER参数设置为远程侦听器的别名，例如：</p><pre class="oac_no_warn" dir="ltr">ALTER SYSTEM SET REMOTE_LISTENER = listener_sales2;</pre><p>对于共享服务器连接，请在主机<code class="codeph">sales1-server</code>上的数据库的初始化文件中设置DISPATCHER参数，如下所示：</p><pre class="oac_no_warn" dir="ltr">ALTER SYSTEM SET DISPATCHERS =“（PROTOCOL = tcp）（LISTENER = listeners_sales2）”;</pre><div class="infoboxnote" id="GUID-09139A19-5265-4216-9054-3237B225E09D__GUID-DB65D877-84A5-42E3-89CB-B479A7ED4557">
                                 <p class="notep1">注意：</p>
                                 <p>要静态更新REMOTE_LISTENER初始化参数，请使用文本编辑器通过先前已注册信息的远程侦听器取消注册信息。</p>
                              </div>
                           </li>
                           <li>
                              <p>通过数据库主机上的<code class="codeph">tnsnames.ora</code>文件解析远程侦听器的侦听器名称别名。例如：</p><pre class="oac_no_warn" dir="ltr">listener_sales2 =（DESCRIPTION =（ADDRESS =（PROTOCOL = tcp）（HOST = sales2-server）（PORT = 1521）））</pre></li>
                        </ol>
                     </div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-09139A19-5265-4216-9054-3237B225E09D__GUID-3A5A38BC-5996-47C0-9472-BB70B89E489B">
                        <p class="notep1">也可以看看：</p>
                        <p></p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="configuring-and-administering-oracle-net-listener.html#GUID-D50E38B9-9789-4259-A400-C06D1FFAB4E5">配置命名方法</a> ”</span></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="configuring-and-administering-oracle-net-listener.html#GUID-B16FD816-5871-4AD7-86D1-55DDD8531322">配置侦听协议地址</a> ”</span></p>
                           </li>
                           <li>
                              <p><a href="../refrn/REMOTE_LISTENER.html#REFRN10183" target="_blank"><span class="italic">Oracle Database Reference</span></a>了解REMOTE_LISTENER初始化参数</p>
                           </li>
                           <li>
                              <p><a href="../racad/ensuring-application-continuity.html#RACAD-GUID-FBFC3B38-30A4-43D8-976E-0C4EDABDCFBD" target="_blank"><span class="italic">Oracle Real Application Clusters管理和部署指南</span></a> ，了解如何在Oracle RAC环境中配置远程侦听器（也称为SCAN侦听器）</p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-and-administering-oracle-net-listener.html#GUID-A7F49477-1F13-49E7-9B23-9A50A4627862">配置动态服务注册</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="NETAG1520"></a><a id="NETAG1521"></a><a id="NETAG1470"></a><div class="sect3"><a id="GUID-948EC80C-1150-4FAD-92EE-21BA1ABC365D" name="GUID-948EC80C-1150-4FAD-92EE-21BA1ABC365D"></a><h4 id="NETAG-GUID-948EC80C-1150-4FAD-92EE-21BA1ABC365D" class="sect4"><span class="enumeration_section">9.2.4</span>向网络中的所有监听器注册信息</h4>
                  <div>
                     <p>网络可能包含多个本地和远程侦听器。默认情况下，所有侦听器都相互交叉注册。通过在LISTENER_NETWORKS初始化参数中指定一组侦听器，您可以使用远程侦听器的子集指定本地侦听器的子集。LISTENER_NETWORKS参数指定的侦听器不应由LOCAL_LISTENER和REMOTE_LISTENER参数指定。</p>
                     <p>LISTENER_NETWORKS参数的语法如下：</p><pre class="oac_no_warn" dir="ltr"><a id="d27122e1005" class="indexterm-anchor"></a> LISTENER_NETWORKS ='（（NAME = <span class="italic">network_name</span> ）（LOCAL_LISTENER = [“] <span class="italic">listener_address</span> [，...] [”]）[（REMOTE_LISTENER = [“] <span class="italic">listener_address</span> [，...] [”]）]）'</pre><p>在前面的语法中， <span class="italic">listener_address</span>根据LOCAL_LISTENER和REMOTE_LISTENER的规则解析。</p>
                     <div class="example" id="GUID-948EC80C-1150-4FAD-92EE-21BA1ABC365D__GUID-E71E595A-F10D-46F0-9F89-CF0189FCDE0A">
                        <p class="titleinexample">例9-3在子网上使用两个网络</p>
                        <p>假设有两个不同的网络， <code class="codeph">network1</code>和<code class="codeph">network2</code> 。在<code class="codeph">network1</code> ，有一个名为<code class="codeph">local1</code>的本地侦听器和一个名为<code class="codeph">remote1</code>的远程侦听器。在<code class="codeph">network2</code> ，有一个名为<code class="codeph">local2</code>的本地侦听器和一个名为<code class="codeph">remote2</code>的远程侦听器。以下语法设置注册，以便侦听器仅将连接重定向到同一网络上的侦听器。
                        </p><pre class="oac_no_warn" dir="ltr">LISTENER_NETWORKS ='（（NAME = network1）（LOCAL_LISTENER = local1）（REMOTE_LISTENER = remote1））'，'（（NAME = network2）（LOCAL_LISTENER = local2）（REMOTE_LISTENER = remote2））'</pre><p>在前面的示例中， <code class="codeph">local1</code>仅向<code class="codeph">remote1</code>注册，而<code class="codeph">remote1</code>仅将连接重定向到<code class="codeph">local1</code> 。侦听器<code class="codeph">local2</code>仅在<code class="codeph">remote2</code>注册，而<code class="codeph">remote2</code>仅将连接重定向到<code class="codeph">local2</code> 。
                        </p>
                     </div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-948EC80C-1150-4FAD-92EE-21BA1ABC365D__GUID-44CBCBDF-870C-435E-92DA-E0AF4B4D9DF4">
                        <p class="titleinexample">示例9-4配置多个侦听器</p>
                        <p>假设多个侦听器正在侦听名为<code class="codeph">sales-network</code> 。满足以下条件：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>为专用服务器连接配置的数据库驻留在主机<code class="codeph">sales1-server</code> 。它是网络中唯一的数据库。
                              </p>
                           </li>
                           <li>
                              <p>本地侦听器驻留在<code class="codeph">sales1-server</code>并侦听非默认端口1421。
                              </p>
                           </li>
                           <li>
                              <p>名为的远程侦听器驻留在主机<code class="codeph">sales2-server</code>并侦听端口1521。
                              </p>
                           </li>
                           <li>
                              <p>另一个远程侦听器驻留在主机<code class="codeph">sales3-server</code>并侦听端口1521。
                              </p>
                           </li>
                        </ul>
                        <p>以下过程描述如何在专用服务器环境中向所有侦听器注册信息：</p>
                        <ol>
                           <li>
                              <p>在远程侦听器所在的主机上（在此示例中为<code class="codeph">sales2-server</code>和<code class="codeph">sales3-server</code> ），使用远程侦听器的协议地址配置<code class="codeph">listener.ora</code>文件。
                              </p>
                           </li>
                           <li>
                              <p>在要将请求重定向到的数据库上，将数据库初始化参数文件中的REMOTE_LISTENER参数设置为远程侦听器的别名，将LOCAL_LISTENER参数设置为本地侦听器的别名。</p>
                              <p>在主机<code class="codeph">sales1-server</code>上的数据库的初始化文件中设置参数，如下所示：</p><pre class="oac_no_warn" dir="ltr">REMOTE_LISTENER =“listener_sales2，listener_sales3”LOCAL_LISTENER = listener_sales1</pre></li>
                           <li>
                              <p>通过数据库主机上的<code class="codeph">tnsnames.ora</code>文件解析LOCAL_LISTENER和REMOTE_LISTENER设置的侦听器名称别名。
                              </p>
                              <p>在<code class="codeph">sales1-server</code>上的<code class="codeph">tnsnames.ora</code> ，解析本地侦听器别名和远程侦听器别名<code class="codeph">listener_sales1</code> ， <code class="codeph">listener_sales2</code>和<code class="codeph">listener_sales3</code> ，如下所示：</p><pre class="oac_no_warn" dir="ltr">listener_sales1 =（DESCRIPTION =（ADDRESS =（PROTOCOL = TCP）（HOST = sales1-server）（PORT = 1421）））listener_sales2 =（DESCRIPTION =（ADDRESS =（PROTOCOL = TCP）（HOST = sales2-server）（PORT = 1521）））listener_sales3 =（DESCRIPTION =（ADDRESS =（PROTOCOL = TCP）（HOST = sales3-server）（PORT = 1521）））listener_sales_local =（DESCRIPTION =（ADDRESS =（PROTOCOL = tcp）（HOST = salesl-server） ）（PORT = 1421）））listener_sales_remote =（DESCRIPTION_LIST =（DESCRIPTION =（ADDRESS =（PROTOCOL = tcp）（HOST = sales2-server）（PORT = 1521）））（DESCRIPTION =（ADDRESS =（PROTOCOL = tcp）（ HOST = sales3服务器）（PORT = 1521））））</pre></li>
                        </ol>
                     </div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-948EC80C-1150-4FAD-92EE-21BA1ABC365D__GUID-E386F128-D50E-4297-A7C2-5EE59BAD4F65">
                        <p class="notep1">也可以看看：</p>
                        <p></p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="configuring-and-administering-oracle-net-listener.html#GUID-D50E38B9-9789-4259-A400-C06D1FFAB4E5">配置命名方法</a> ”</span></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="configuring-and-administering-oracle-net-listener.html#GUID-B16FD816-5871-4AD7-86D1-55DDD8531322">配置侦听协议地址</a> ”</span></p>
                           </li>
                           <li>
                              <p>有关REMOTE_LISTENER初始化参数的其他信息，请<a href="../refrn/REMOTE_LISTENER.html#REFRN10183" target="_blank"><span class="italic">参见Oracle数据库参考</span></a></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-and-administering-oracle-net-listener.html#GUID-A7F49477-1F13-49E7-9B23-9A50A4627862">配置动态服务注册</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="NETAG303"></a><div class="sect3"><a id="GUID-D50E38B9-9789-4259-A400-C06D1FFAB4E5" name="GUID-D50E38B9-9789-4259-A400-C06D1FFAB4E5"></a><h4 id="NETAG-GUID-D50E38B9-9789-4259-A400-C06D1FFAB4E5" class="sect4"><span class="enumeration_section">9.2.5</span>配置命名方法</h4>
                  <div>
                     <p>可以使用<code class="codeph">tnsnames.ora</code>文件解析为LOCAL_LISTENER或REMOTE_LISTENER初始化参数或<code class="codeph">LISTENER</code>属性指定的侦听器名称别名。例如，可以在<code class="codeph">init.ora</code>文件中定义一个侦听器，如下所示：</p><pre class="oac_no_warn" dir="ltr">LOCAL_LISTENER =（ADDRESS =（PROTOCOL = tcp）（HOST =销售服务器）（PORT = 1421））</pre><p>要为侦听器使用别名，可以在<code class="codeph">init.ora</code>和<code class="codeph">tnsnames.ora</code>文件中定义，如下所示：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>在<code class="codeph">init.ora</code>文件中：</p><pre class="oac_no_warn" dir="ltr">LOCAL_LISTENER = listener_sales1</pre></li>
                        <li>
                           <p>在<code class="codeph">tnsnames.ora</code>文件中：</p><pre class="oac_no_warn" dir="ltr">listener_sales1 =（ADDRESS =（PROTOCOL = tcp）（HOST = sales-server）（PORT = 1421））</pre></li>
                     </ul>
                     <p>CONNECT_DATA信息不应包含在<code class="codeph">tnsnames.ora</code>文件中的网络服务条目中。但是，Oracle Enterprise Manager云控制和Oracle Net Manager无法在没有CONNECT_DATA信息的情况下配置<code class="codeph">tnsnames.ora</code>文件。要使用侦听器名称别名，Oracle建议您使用文本编辑器修改<code class="codeph">tnsnames.ora</code>文件。
                     </p>
                     <div class="infoboxnote" id="GUID-D50E38B9-9789-4259-A400-C06D1FFAB4E5__GUID-088AFE97-9A92-43E6-A694-536C275B00A3">
                        <p class="notep1">注意：</p>
                        <p></p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>支持多个地址，但不支持连接时故障转移和客户端负载平衡功能。</p>
                           </li>
                           <li>
                              <p>如果LOCAL_LISTENER参数中指定的侦听器别名无效或未解析，则LREG进程不允许数据库启动。发生以下错误：</p><pre class="oac_no_warn" dir="ltr">ORA-00119：系统参数LOCAL_LISTENER ORA-00132的规范无效：语法错误或未解析的网络名称'％s'</pre></li>
                        </ul>
                     </div>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-D50E38B9-9789-4259-A400-C06D1FFAB4E5__GUID-3821DA7D-AEC1-420B-97F3-CA8063624609">
                        <p class="notep1">也可以看看：</p>
                        <p>有关多地址配置的其他信息，请<a href="enabling-advanced-features.html#GUID-4354E9E3-F521-48B7-83A0-AADC1970C84F" title="COLOCATION_TAG参数是一个字母数字字符串，可以与TNS连接字符串的CONNECT_DATA参数一起使用。">启用Oracle Net Services的高级功能</a></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-and-administering-oracle-net-listener.html#GUID-A7F49477-1F13-49E7-9B23-9A50A4627862">配置动态服务注册</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="NETAG293"></a><div class="sect2"><a id="GUID-E3D471CD-0528-42CF-8F44-43AD3A18EDA5" name="GUID-E3D471CD-0528-42CF-8F44-43AD3A18EDA5"></a><h3 id="NETAG-GUID-E3D471CD-0528-42CF-8F44-43AD3A18EDA5" class="sect3"><span class="enumeration_section">9.3</span>安装过程中配置Oracle Net Listener</h3>
               <div>
                  <p>Oracle Universal Installer在安装期间启动<a href="glossary.html#GUID-71143B56-C532-4FE9-9ABE-3D411F602B80"><span class="xrefglossterm">Oracle Net Configuration Assistant</span></a> 。Oracle Net Configuration Assistant配置Oracle数据库的侦听协议地址和服务信息。
                  </p>
                  <p>在数据库服务器上安装Enterprise Edition或Standard Edition期间，Oracle Net Configuration Assistant会自动配置名称为<code class="codeph">LISTENER</code>的侦听<code class="codeph">LISTENER</code> ，该侦听<code class="codeph">LISTENER</code>具有Oracle数据库的TCP / IP侦听协议地址。在自定义安装期间，Oracle Net Configuration Assistant会提示输入侦听器名称和协议地址。
                  </p>
                  <p>无论安装类型如何，都会自动配置<a href="glossary.html#GUID-EFD64542-6B81-4634-A0E1-CE819AEF558E"><span class="xrefglossterm">外部过程</span></a>调用的侦听IPC协议地址。<a id="d27122e1401" class="indexterm-anchor"></a> Oracle Net Configuration Assistant还会自动为<code class="codeph">listener.ora</code>文件中的外部过程配置服务信息。
                  </p>
                  <p>如果您使用的是IPC协议，则可以通过指定与您的预期连接请求匹配的最大并发IPC连接请求数来提高性能。</p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="configuring-and-administering-oracle-net-listener.html#GUID-C3C40DBA-4282-41E1-9562-4B8B10947C4E">配置和管理Oracle Net Listener</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="NETAG294"></a><div class="sect2"><a id="GUID-AFD99154-6F3B-492E-A90B-F65E25356880" name="GUID-AFD99154-6F3B-492E-A90B-F65E25356880"></a><h3 id="NETAG-GUID-AFD99154-6F3B-492E-A90B-F65E25356880" class="sect3"><span class="enumeration_section">9.4</span>自定义Oracle Net Listener配置</h3>
               <div>
                  <p>如果默认或安装的配置不适合特定环境，则可以使用<a href="glossary.html#GUID-BC9AE21D-FC67-469B-95CA-51952BFF05AB"><span class="xrefglossterm">Oracle Net Manager</span></a>自定义<code class="codeph">listener.ora</code>配置。
                  </p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="configuring-and-administering-oracle-net-listener.html#GUID-B16FD816-5871-4AD7-86D1-55DDD8531322">配置侦听协议地址</a><br></li>
                     <li class="ulchildlink"><a href="configuring-and-administering-oracle-net-listener.html#GUID-FE633114-DA1F-4D5F-9176-FE9E3071FFB6">处理大量并发连接请求</a><br></li>
                     <li class="ulchildlink"><a href="configuring-and-administering-oracle-net-listener.html#GUID-FD3EC78A-3430-4DB7-8222-8C0DB2B326AD">管理Oracle Net Listener安全性</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="configuring-and-administering-oracle-net-listener.html#GUID-C3C40DBA-4282-41E1-9562-4B8B10947C4E">配置和管理Oracle Net Listener</a></p>
                     </div>
                  </div>
               </div>
               <a id="NETAG295"></a><div class="sect3"><a id="GUID-B16FD816-5871-4AD7-86D1-55DDD8531322" name="GUID-B16FD816-5871-4AD7-86D1-55DDD8531322"></a><h4 id="NETAG-GUID-B16FD816-5871-4AD7-86D1-55DDD8531322" class="sect4"><span class="enumeration_section">9.4.1</span>配置侦听协议地址</h4>
                  <div>
                     <p>Oracle Enterprise Manager Cloud Control和Oracle Net Manager可用于为侦听器配置协议支持。</p>
                     <p>Oracle Net Listener端点地址配置接受解析为IPv6地址的IPv6地址和主机名，如<span class="q">“ <a href="understanding-communication-layers.html#GUID-349C58ED-7C4F-4ACC-BD5F-378031BE8D39">IPv6接口和地址配置</a> ”中所述</span> 。此技术可以创建为IPv6客户端提供服务的侦听端点。
                     </p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="configuring-and-administering-oracle-net-listener.html#GUID-55F0D140-C6FD-4DE1-A50E-AD8C39EC96F8">使用Oracle Enterprise Manager云控制配置侦听协议地址</a><br></li>
                        <li class="ulchildlink"><a href="configuring-and-administering-oracle-net-listener.html#GUID-AB82A3F7-7606-44AA-B55B-1907BCBFF762">使用Oracle Net Manager配置侦听协议地址</a><br></li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-and-administering-oracle-net-listener.html#GUID-AFD99154-6F3B-492E-A90B-F65E25356880">自定义Oracle Net Listener配置</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="NETAG1518"></a><div class="sect4"><a id="GUID-55F0D140-C6FD-4DE1-A50E-AD8C39EC96F8" name="GUID-55F0D140-C6FD-4DE1-A50E-AD8C39EC96F8"></a><h5 id="NETAG-GUID-55F0D140-C6FD-4DE1-A50E-AD8C39EC96F8" class="sect5"><span class="enumeration_section">9.4.1.1</span>使用Oracle Enterprise Manager云控制配置侦听协议地址</h5>
                     <div>
                        <p>以下过程介绍如何使用Oracle Enterprise Manager Cloud Control为侦听器配置协议地址：</p>
                        <ol>
                           <li>
                              <p>访问Oracle企业管理器云控制中的“网络服务管理”页面。</p>
                              <div class="infoboxnotealso" id="GUID-55F0D140-C6FD-4DE1-A50E-AD8C39EC96F8__GUID-0468875C-8F72-4B59-82B6-88E542FC6592">
                                 <p class="notep1">也可以看看：</p>
                                 <p><span class="q">“ <a href="managing-oracle-net-services.html#GUID-1F145906-24CC-4A63-86FD-31776C022209">访问网络服务管理页面</a> ”</span></p>
                              </div>
                           </li>
                           <li>
                              <p>单击<span class="bold">编辑</span> 。系统可能会提示您登录数据库服务器。
                              </p>
                              <p>将出现“编辑侦听器”页面。</p>
                           </li>
                           <li id="GUID-55F0D140-C6FD-4DE1-A50E-AD8C39EC96F8__I492917">
                              <p>在“地址”部分中，配置协议支持：</p>
                              <ol type="a">
                                 <li>
                                    <p>单击<span class="bold">添加</span> 。
                                    </p>
                                    <p>将出现“添加地址”页面。</p>
                                 </li>
                                 <li>
                                    <p>从“协议”列表中，选择侦听器配置为侦听的协议。</p>
                                    <p>对于TCP / IP，如果计算机有多个IP地址，并且您希望侦听器侦听所有可用的IP地址，请选择<span class="bold">TCP / IP</span>或<span class="bold">TCP / IP和SSL，</span>并在“主机”字段中输入计算机的主机名。
                                    </p>
                                 </li>
                                 <li>
                                    <p>在“端口”中，输入端口号。</p>
                                    <p>配置侦听器以侦听TCP / IP时，请输入默认端口1521。否则，必须在初始化参数文件中配置LOCAL_LISTENER参数，并且必须指定非默认端口号以供任何命名方法使用。</p>
                                 </li>
                                 <li>
                                    <p>在“主机”中，输入主机地址。</p>
                                 </li>
                                 <li>
                                    <p>（可选）在“高级参数”部分中，在“总发送缓冲区大小”和“总接收缓冲区大小”字段中指定会话的发送和接收操作的I / O缓冲区空间限制。</p>
                                 </li>
                                 <li>
                                    <p>单击<span class="bold">确定</span> 。</p>
                                    <p>协议地址将添加到“地址”部分。</p>
                                 </li>
                              </ol>
                           </li>
                           <li>
                              <p>对其他协议重复步骤<a href="configuring-and-administering-oracle-net-listener.html#GUID-55F0D140-C6FD-4DE1-A50E-AD8C39EC96F8__I492917">3</a> 。
                              </p>
                           </li>
                        </ol>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-55F0D140-C6FD-4DE1-A50E-AD8C39EC96F8__GUID-DEDBCE62-B04E-461D-90D5-1F445111CD53">
                           <p class="notep1">也可以看看：</p>
                           <p></p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>有关协议地址和TCP / IP特权端口的其他信息，请<a href="../netrf/protocol-address-configuration.html#NETRF-GUID-A4EE8BD6-CBFE-46E3-A54F-0C03E229D9AB" target="_blank"><span class="italic">参见Oracle数据库网络服务参考</span></a></p>
                              </li>
                              <li>
                                 <p><span class="q">“ <a href="optimizing-performance.html#GUID-E94D2ABA-23C8-44E9-BBCB-077FADA85F29">配置I / O缓冲区空间</a> ”</span>以获取更多信息</p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-and-administering-oracle-net-listener.html#GUID-B16FD816-5871-4AD7-86D1-55DDD8531322">配置侦听协议地址</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="NETAG1519"></a><div class="sect4"><a id="GUID-AB82A3F7-7606-44AA-B55B-1907BCBFF762" name="GUID-AB82A3F7-7606-44AA-B55B-1907BCBFF762"></a><h5 id="NETAG-GUID-AB82A3F7-7606-44AA-B55B-1907BCBFF762" class="sect5"><span class="enumeration_section">9.4.1.2</span>使用Oracle Net Manager配置侦听协议地址</h5>
                     <div>
                        <p>以下过程介绍如何使用Oracle Net Manager为侦听器配置协议地址：</p>
                        <ol>
                           <li>
                              <p>启动Oracle Net Manager。</p>
                              <div class="infoboxnotealso" id="GUID-AB82A3F7-7606-44AA-B55B-1907BCBFF762__GUID-69ADB470-2EC5-49B3-B1AB-1D875E4898E9">
                                 <p class="notep1">也可以看看：</p>
                                 <p><span class="q">“ <a href="managing-oracle-net-services.html#GUID-2294BF67-B05F-44A2-9584-6CF0855A0F56">使用Oracle Net Manager配置Oracle Net服务</a> ”</span></p>
                              </div>
                           </li>
                           <li>
                              <p>在导航器窗格中，展开“ <span class="bold">本地”</span> ，然后选择“ <span class="bold">监听器”</span> 。
                              </p>
                           </li>
                           <li>
                              <p>选择监听器。</p>
                           </li>
                           <li>
                              <p>从右侧窗格的列表中，选择“ <span class="bold">侦听器位置”</span> 。
                              </p>
                           </li>
                           <li>
                              <p>从“协议”列表中选择协议。</p>
                           </li>
                           <li>
                              <p>在“主机”字段中输入侦听器的主机名。</p>
                           </li>
                           <li>
                              <p>在“端口”字段中输入端口号。</p>
                           </li>
                           <li>
                              <p>如果要设置发送和接收缓冲区大小，请单击“ <span class="bold">显示高级”</span> ，然后在相应字段中输入大小。
                              </p>
                           </li>
                           <li>
                              <p>从“文件”菜单中选择“ <span class="bold">保存网络配置</span> ”以保存更改。
                              </p>
                           </li>
                        </ol>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-and-administering-oracle-net-listener.html#GUID-B16FD816-5871-4AD7-86D1-55DDD8531322">配置侦听协议地址</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="NETAG0101"></a><div class="sect3"><a id="GUID-FE633114-DA1F-4D5F-9176-FE9E3071FFB6" name="GUID-FE633114-DA1F-4D5F-9176-FE9E3071FFB6"></a><h4 id="NETAG-GUID-FE633114-DA1F-4D5F-9176-FE9E3071FFB6" class="sect4"><span class="enumeration_section">9.4.2</span>处理大量并发连接请求</h4>
                  <div>
                     <p><a id="d27122e1926" class="indexterm-anchor"></a><a id="d27122e1930" class="indexterm-anchor"></a><a id="d27122e1934" class="indexterm-anchor"></a>如果希望侦听器处理大量并发连接请求，则可以为其TCP / IP或IPC侦听端点指定侦听器队列大小。
                     </p>
                     <p>要指定侦听器队列大小，请执行以下操作：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>指定<a id="d27122e1945" class="indexterm-anchor"></a>协议地址末尾的<code class="codeph">QUEUESIZE</code>参数，其值设置为预期的并发请求数。
                           </p>
                           <p>以下示例将队列大小设置为20：</p><pre class="oac_no_warn" dir="ltr">LISTENER =（DESCRIPTION =（ADDRESS =（PROTOCOL = tcp）（HOST =销售服务器）（PORT = 1521） <span class="bold">（QUEUESIZE = 20）</span> ））</pre><div class="infoboxnote" id="GUID-FE633114-DA1F-4D5F-9176-FE9E3071FFB6__GUID-42FC99D3-4874-48A5-A451-0B488AF6AF27">
                              <p class="notep1">注意：</p>
                              <p>默认的并发连接请求数是特定于操作系统的。Linux操作系统和Microsoft Windows上的TCP / IP默认值如下：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>Linux操作系统：128</p>
                                 </li>
                                 <li>
                                    <p>Microsoft Windows XP Professional SP2：10</p>
                                 </li>
                                 <li>
                                    <p>Microsoft Windows Server企业版：200</p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-and-administering-oracle-net-listener.html#GUID-AFD99154-6F3B-492E-A90B-F65E25356880">自定义Oracle Net Listener配置</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="NETAG0102"></a><div class="sect3"><a id="GUID-FD3EC78A-3430-4DB7-8222-8C0DB2B326AD" name="GUID-FD3EC78A-3430-4DB7-8222-8C0DB2B326AD"></a><h4 id="NETAG-GUID-FD3EC78A-3430-4DB7-8222-8C0DB2B326AD" class="sect4"><span class="enumeration_section">9.4.3</span>管理Oracle Net Listener安全性</h4>
                  <div>
                     <p>默认情况下，出于安全原因，Oracle Net Listener仅允许本地管理。作为策略，侦听器只能由启动它的用户管理。这是通过本地操作系统身份验证强制执行的。例如，如果<code class="codeph">user1</code>启动侦听器，则只有<code class="codeph">user1</code>可以管理它。尝试管理侦听器的任何其他用户都会收到错误。超级用户是唯一的例外。
                     </p>
                     <p>Oracle建议您以默认模式执行侦听器管理（通过本地操作系统身份验证进行安全），并使用远程登录远程访问系统。Oracle Enterprise Manager Cloud Control也可用于远程管理。</p>
                     <p>在启用了防火墙功能的基于IP（TCP，TCPS和SDP）的端点上进入侦听器的连接将通过服务ACL验证。收到服务名称后，侦听器使用ACL列表验证连接IP。</p>
                     <p>在端点中添加了一个新属性FIREWALL以启用防火墙功能。</p><pre class="pre codeblock"><code>（ADDRESS =（PROTOCOL = TCP）（HOST =）（PORT = 1521）（防火墙= ON））</code></pre><p><code class="codeph">FIREWALL</code>参数可以配置如下：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">(FIREWALL=ON)</code>在端点中显式设置 - 这将启用此端点上所有连接的严格ACL验证（基于白名单的方法）。如果没有为服务配置ACL，则拒绝该服务的所有连接。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">FIREWALL</code>未设置在端点中 - 这意味着放宽验证。如果为服务配置了ACL，则会对该服务进行验证。在没有ACL的情况下，不会进行验证，并且接受该服务的所有连接。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">(FIREWALL=OFF)</code>在端点中设置 - 未完成验证，并且从该端点接受所有连接。
                           </p>
                        </li>
                     </ul>
                     <p>服务器还强制执行ACL。</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="configuring-and-administering-oracle-net-listener.html#GUID-DACA4172-2209-44D0-B9FD-508799D7282E">指定有效节点和子网</a><br></li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-and-administering-oracle-net-listener.html#GUID-AFD99154-6F3B-492E-A90B-F65E25356880">自定义Oracle Net Listener配置</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="NETAG1588"></a><div class="sect4"><a id="GUID-DACA4172-2209-44D0-B9FD-508799D7282E" name="GUID-DACA4172-2209-44D0-B9FD-508799D7282E"></a><h5 id="NETAG-GUID-DACA4172-2209-44D0-B9FD-508799D7282E" class="sect5"><span class="enumeration_section">9.4.3.1</span>指定有效节点和子网</h5>
                     <div>
                        <p>监听器注册应限于有效的节点和子网。可以指定有效的节点和子网进行注册，也可以指定排除的节点进行注册。默认情况下，每个用于在侦听器处注册的传入连接都要进行基于IP的过滤。仅当连接源自本地计算机时才允许连接。如果指定其他节点和子网进行注册，则允许本地计算机和指定的计算机。可以在<code class="codeph">listener.ora</code>文件中设置以下参数以指定有效和受限节点和子网：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>REGISTRATION_INVITED_NODES_ <span class="italic">listener_name</span> ：指定可以向侦听器注册的节点。该列表可以是主机名，也可以是IPv4和IPv6地址的CIDR表示法。列表中存在主机名会导致映射到它的所有IP地址被邀请。
                              </p>
                           </li>
                           <li>
                              <p>REGISTRATION_EXCLUDED_NODES_ <span class="italic">listener_name</span> ：指定无法向侦听器注册的节点。列表中未指定的节点允许向侦听器注册。
                              </p>
                           </li>
                        </ul>
                        <p>如果同时设置了两个参数，则忽略REGISTRATION_EXCLUDED_NODES_ <span class="italic">listener_name</span> 。
                        </p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-DACA4172-2209-44D0-B9FD-508799D7282E__GUID-522F86A2-F70D-46BF-B2E9-EBEF8F0BF0DE">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="../netrf/oracle-net-listener-parameters-in-listener-ora.html#NETRF1996" target="_blank"><span class="italic">Oracle Database Net Services Reference</span></a> ，了解有关有效节点注册检查的其他信息。
                           </p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-and-administering-oracle-net-listener.html#GUID-FD3EC78A-3430-4DB7-8222-8C0DB2B326AD">管理Oracle Net Listener安全性</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
            </div><a id="NETAG304"></a><div class="sect2"><a id="GUID-F23E3733-0A34-4488-AE23-23A9FE65BC85" name="GUID-F23E3733-0A34-4488-AE23-23A9FE65BC85"></a><h3 id="NETAG-GUID-F23E3733-0A34-4488-AE23-23A9FE65BC85" class="sect3"><span class="enumeration_section">9.5</span>管理监听器</h3>
               <div>
                  <p>配置侦听器后，您可以使用侦听器控制实用程序，Oracle Enterprise Manager云控制和服务器控制实用程序（SRVCTL）对其进行管理。本节介绍侦听器的一些管理任务。它包含以下主题：</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="configuring-and-administering-oracle-net-listener.html#GUID-CF3D3974-B170-4FB1-8850-6A083CBC7917">启动和停止监听器</a><br></li>
                     <li class="ulchildlink"><a href="configuring-and-administering-oracle-net-listener.html#GUID-623EC4F3-A129-4265-B5E9-14CC2B6DCC84">在Oracle重新启动配置中管理监听器</a><br></li>
                     <li class="ulchildlink"><a href="configuring-and-administering-oracle-net-listener.html#GUID-98FBD991-DBAA-4F3D-B866-C12E13BE9645">确定监听器的当前状态</a><br></li>
                     <li class="ulchildlink"><a href="configuring-and-administering-oracle-net-listener.html#GUID-9CDAFB4E-A675-4DF6-90A2-09DF94B80648">监听监听服务</a><br></li>
                     <li class="ulchildlink"><a href="configuring-and-administering-oracle-net-listener.html#GUID-9AEBE545-50AE-4099-BEB9-175C8F9976AC">监视侦听器日志文件</a><br></li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-F23E3733-0A34-4488-AE23-23A9FE65BC85__GUID-A3A999A4-74E9-4DBD-B792-85256D60990B">
                     <p class="notep1">也可以看看：</p>
                     <p></p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="../netrf/listener-control-utility.html#NETRF-GUID-287B2E94-5228-4454-A1C4-AF4F577FAF86" target="_blank"><span class="italic">Oracle Database Net Services Reference</span></a>有关Listener Control实用程序命令的完整列表</p>
                        </li>
                        <li>
                           <p>Oracle Enterprise Manager Cloud Control联机帮助</p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="configuring-and-administering-oracle-net-listener.html#GUID-C3C40DBA-4282-41E1-9562-4B8B10947C4E">配置和管理Oracle Net Listener</a></p>
                     </div>
                  </div>
               </div>
               <a id="NETAG305"></a><div class="sect3"><a id="GUID-CF3D3974-B170-4FB1-8850-6A083CBC7917" name="GUID-CF3D3974-B170-4FB1-8850-6A083CBC7917"></a><h4 id="NETAG-GUID-CF3D3974-B170-4FB1-8850-6A083CBC7917" class="sect4"><span class="enumeration_section">9.5.1</span>启动和停止监听器</h4>
                  <div>
                     <p>要停止或启动侦听器，请使用以下方法之一：</p>
                     <div class="infoboxnote" id="GUID-CF3D3974-B170-4FB1-8850-6A083CBC7917__GUID-85BDF9AD-3E28-48BD-9357-81FDFE14D315">
                        <p class="notep1">注意：</p>
                        <p><a id="d27122e2313" class="indexterm-anchor"></a><a id="d27122e2317" class="indexterm-anchor"></a>您可以将侦听器配置为在计算机运行或重新启动时自动启动。有关其他信息，请参阅<span class="q">“ <a href="configuring-and-administering-oracle-net-listener.html#GUID-623EC4F3-A129-4265-B5E9-14CC2B6DCC84">在Oracle重新启动配置中管理监听器</a> ”</span> 。
                        </p>
                     </div>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="configuring-and-administering-oracle-net-listener.html#GUID-7A77A284-CDF8-41B6-A172-A8A872458941">使用监听器控制实用程序启动或停止监听器</a><br></li>
                        <li class="ulchildlink"><a href="configuring-and-administering-oracle-net-listener.html#GUID-9C79F96E-F2AE-44DE-B21F-BF9E86A751D0">使用Oracle Enterprise Manager云控制启动或停止监听器</a><br></li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-and-administering-oracle-net-listener.html#GUID-F23E3733-0A34-4488-AE23-23A9FE65BC85">管理监听器</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="NETAG1522"></a><div class="sect4"><a id="GUID-7A77A284-CDF8-41B6-A172-A8A872458941" name="GUID-7A77A284-CDF8-41B6-A172-A8A872458941"></a><h5 id="NETAG-GUID-7A77A284-CDF8-41B6-A172-A8A872458941" class="sect5"><span class="enumeration_section">9.5.1.1</span>使用监听器控制实用程序启动或停止监听器</h5>
                     <div>
                        <p>要从命令行启动侦听器，请输入：</p><pre class="oac_no_warn" dir="ltr"><a id="d27122e2395" class="indexterm-anchor"></a><a id="d27122e2399" class="indexterm-anchor"></a> LSNRCTL <a id="d27122e2404" class="indexterm-anchor"></a> START [ <span class="italic">listener_name</span> ]</pre><p>在上面的命令中， <span class="italic">listener_name</span>是<code class="codeph">listener.ora</code>文件中定义的<span class="italic">侦听</span>器的名称。如果使用默认侦听<code class="codeph">LISTENER</code>名称<code class="codeph">LISTENER</code> ，则无需标识侦听<code class="codeph">LISTENER</code> 。</p>
                        <p>除了启动侦听器之外，Listener Control实用程序还会验证与侦听器的连接。</p>
                        <p>要从命令行停止侦听器，请输入：</p><pre class="oac_no_warn" dir="ltr">LSNRCTL <a id="d27122e2429" class="indexterm-anchor"></a> STOP [ <span class="italic">listener_name</span> ]</pre><p>在上面的命令中， <span class="italic">listener_name</span>是<code class="codeph">listener.ora</code>文件中定义的<span class="italic">侦听</span>器的名称。如果使用默认侦听<code class="codeph">LISTENER</code>名称<code class="codeph">LISTENER</code> ，则无需标识侦听<code class="codeph">LISTENER</code> 。</p>
                        <div class="infoboxnote" id="GUID-7A77A284-CDF8-41B6-A172-A8A872458941__GUID-E73EA592-AFB7-4F74-B0BE-AF6CA0D32BAB">
                           <p class="notep1">注意：</p>
                           <p>使用Oracle Home User时，侦听器控件实用程序会在Microsoft Windows系统上提示输入密码。此密码是Oracle Home User的操作系统密码。仅当侦听器服务不存在并且需要在启动侦听器时创建密码提示时才会显示密码提示。</p>
                        </div>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-7A77A284-CDF8-41B6-A172-A8A872458941__GUID-2273A0A0-FA95-43B9-BE3A-5305FDFDB963">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/netag&amp;id=NTQRF-GUID-99C29A12-2836-4B1A-924A-35E70502035D" target="_blank"><span class="italic">适用于Microsoft Windows的Oracle数据库平台指南，</span></a>以获取有关Oracle Home用户的信息</p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-and-administering-oracle-net-listener.html#GUID-CF3D3974-B170-4FB1-8850-6A083CBC7917">启动和停止监听器</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="NETAG1523"></a><div class="sect4"><a id="GUID-9C79F96E-F2AE-44DE-B21F-BF9E86A751D0" name="GUID-9C79F96E-F2AE-44DE-B21F-BF9E86A751D0"></a><h5 id="NETAG-GUID-9C79F96E-F2AE-44DE-B21F-BF9E86A751D0" class="sect5"><span class="enumeration_section">9.5.1.2</span>使用Oracle Enterprise Manager云控制启动或停止监听器</h5>
                     <div>
                        <p>以下过程描述如何从Oracle Enterprise Manager Cloud Control启动或停止侦听器：</p>
                        <ol>
                           <li>
                              <p>访问Oracle企业管理器云控制中的“网络服务管理”页面。</p>
                              <div class="infoboxnotealso" id="GUID-9C79F96E-F2AE-44DE-B21F-BF9E86A751D0__GUID-9D5D8FAC-F8BF-4D35-8B94-29FBF72299F7">
                                 <p class="notep1">也可以看看：</p>
                                 <p><span class="q">“ <a href="managing-oracle-net-services.html#GUID-697E4B64-854C-49BB-B287-C2B4C57F987F">使用Oracle Enterprise Manager云控制配置Oracle Net服务</a> ”</span></p>
                              </div>
                           </li>
                           <li>
                              <p>从“管理”列表中选择“ <span class="bold">侦听器</span> ”，然后选择包含配置文件位置的Oracle主目录。
                              </p>
                           </li>
                           <li>
                              <p>单击<span class="bold">Go</span> 。</p>
                              <p>将显示“监听器”页面。</p>
                           </li>
                           <li>
                              <p>选择监听器。</p>
                           </li>
                           <li>
                              <p>从“操作”列表中，选择“ <span class="bold">启动/停止”</span> 。
                              </p>
                           </li>
                           <li>
                              <p>单击<span class="bold">Go</span> 。</p>
                              <p>出现“开始/停止”页面。</p>
                           </li>
                           <li>
                              <p>根据所选侦听器的当前状态，选择“ <span class="bold">停止”</span>或“ <span class="bold">启动”</span> ，然后单击“ <span class="bold">确定”</span> 。</p>
                           </li>
                        </ol>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-and-administering-oracle-net-listener.html#GUID-CF3D3974-B170-4FB1-8850-6A083CBC7917">启动和停止监听器</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="NETAG777"></a><div class="sect3"><a id="GUID-623EC4F3-A129-4265-B5E9-14CC2B6DCC84" name="GUID-623EC4F3-A129-4265-B5E9-14CC2B6DCC84"></a><h4 id="NETAG-GUID-623EC4F3-A129-4265-B5E9-14CC2B6DCC84" class="sect4"><span class="enumeration_section">9.5.2</span>在Oracle Restart配置中管理监听器</h4>
                  <div>
                     <p>Oracle Restart功能增强了单实例数据库环境中进程和应用程序的可用性。Oracle Restart代理通过定期运行检查操作并在必要时重新启动组件来监视已添加组件的运行状况。</p>
                     <p>您可以将侦听器作为组件添加到Oracle Restart配置中。然后，Oracle Restart在失败或未运行时自动启动监听器。例如，如果在计划重新启动计算机后重新启动数据库实例，则Oracle Restart将重新启动侦听器。服务器控制（SRVCTL）是一个命令行界面，可用于管理Oracle Restart配置中的侦听器。</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="configuring-and-administering-oracle-net-listener.html#GUID-48681539-144B-40CD-AABE-93C82842F035">使用SRVCTL实用程序查看已配置的侦听器</a><br></li>
                        <li class="ulchildlink"><a href="configuring-and-administering-oracle-net-listener.html#GUID-4FD98DF8-AF7C-44A9-948C-9106800A9F56">使用SRVCTL实用程序添加或删除监听器</a><br></li>
                        <li class="ulchildlink"><a href="configuring-and-administering-oracle-net-listener.html#GUID-5CBA4D3E-96AF-45FD-AB59-4C96969A7D6B">使用SRVCTL实用程序启动或停止监听器</a><br></li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-and-administering-oracle-net-listener.html#GUID-F23E3733-0A34-4488-AE23-23A9FE65BC85">管理监听器</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="NETAG1581"></a><div class="sect4"><a id="GUID-48681539-144B-40CD-AABE-93C82842F035" name="GUID-48681539-144B-40CD-AABE-93C82842F035"></a><h5 id="NETAG-GUID-48681539-144B-40CD-AABE-93C82842F035" class="sect5"><span class="enumeration_section">9.5.2.1</span>使用SRVCTL实用程序查看已配置的侦听器</h5>
                     <div>
                        <p>要查看所有已配置的侦听器，请使用以下命令：</p><pre class="oac_no_warn" dir="ltr">％srvctl配置监听器</pre></div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-48681539-144B-40CD-AABE-93C82842F035__GUID-D06F491F-7371-4EDB-BEFC-8F51EE1B6DAC">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="../admin/configuring-automatic-restart-of-an-oracle-database.html#ADMIN12708" target="_blank"><span class="italic">Oracle数据库管理员指南</span></a> ，了解如何配置Oracle Restart以及SRVCTL语法和语义</p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-and-administering-oracle-net-listener.html#GUID-623EC4F3-A129-4265-B5E9-14CC2B6DCC84">在Oracle Restart Configuration中管理监听器</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="NETAG778"></a><div class="sect4"><a id="GUID-4FD98DF8-AF7C-44A9-948C-9106800A9F56" name="GUID-4FD98DF8-AF7C-44A9-948C-9106800A9F56"></a><h5 id="NETAG-GUID-4FD98DF8-AF7C-44A9-948C-9106800A9F56" class="sect5"><span class="enumeration_section">9.5.2.2</span>使用SRVCTL实用程序添加或删除监听器</h5>
                     <div>
                        <p>将侦听器添加为网格基础结构的条目使代理能够监视侦听器。同样，删除侦听器将作为条目删除。在操作系统命令行中使用<code class="codeph">srvctl</code>命令，如下所示：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>要添加侦听器，请输入<code class="codeph">srvctl add listener</code></p>
                              <p>以下命令将<code class="codeph">listener_sales1</code>的条目添加到网格基础结构：</p><pre class="oac_no_warn" dir="ltr">％srvctl add listener -listener listener_sales1</pre></li>
                           <li>
                              <p>要删除侦听器，请输入<code class="codeph">srvctl remove listener</code></p>
                              <p>以下命令从网格基础结构中删除<code class="codeph">listener_sales1</code>的条目：</p><pre class="oac_no_warn" dir="ltr">％srvctl remove listener -listener listener_sales1</pre></li>
                        </ul>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-and-administering-oracle-net-listener.html#GUID-623EC4F3-A129-4265-B5E9-14CC2B6DCC84">在Oracle Restart Configuration中管理监听器</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="NETAG779"></a><div class="sect4"><a id="GUID-5CBA4D3E-96AF-45FD-AB59-4C96969A7D6B" name="GUID-5CBA4D3E-96AF-45FD-AB59-4C96969A7D6B"></a><h5 id="NETAG-GUID-5CBA4D3E-96AF-45FD-AB59-4C96969A7D6B" class="sect5"><span class="enumeration_section">9.5.2.3</span>使用SRVCTL实用程序启动或停止监听器</h5>
                     <div>
                        <p>SRVCTL实用程序使您可以停止和启动侦听器。如果未指定<code class="codeph">-listener</code>参数，则SRVCTL实用程序将启动并停止默认侦听器。
                        </p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>要启动侦听器，请输入<code class="codeph">srvctl start listener</code></p>
                              <p>在以下示例中，第一个命令启动默认侦听器，第二个命令启动<code class="codeph">listener1</code>和<code class="codeph">listener2</code> ：</p><pre class="oac_no_warn" dir="ltr">％srvctl start listener％srvctl start listener -listener listener1，listener2</pre></li>
                           <li>
                              <p>要停止侦听器，请输入<code class="codeph">srvctl stop listener</code></p>
                              <p>在以下示例中，第一个命令停止默认侦听器，第二个命令停止<code class="codeph">listener1</code>和<code class="codeph">listener2</code> ：</p><pre class="oac_no_warn" dir="ltr">％srvctl stop listener％srvctl stop listener -listener listener1，listener2</pre></li>
                        </ul>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-and-administering-oracle-net-listener.html#GUID-623EC4F3-A129-4265-B5E9-14CC2B6DCC84">在Oracle Restart Configuration中管理监听器</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="NETAG306"></a><div class="sect3"><a id="GUID-98FBD991-DBAA-4F3D-B866-C12E13BE9645" name="GUID-98FBD991-DBAA-4F3D-B866-C12E13BE9645"></a><h4 id="NETAG-GUID-98FBD991-DBAA-4F3D-B866-C12E13BE9645" class="sect4"><span class="enumeration_section">9.5.3</span>确定监听器的当前状态</h4>
                  <div>
                     <p>要显示侦听器的当前状态，请使用监听器控制实用程序的<code class="codeph">STATUS</code>命令或Oracle Enterprise Manager Cloud Control。状态输出提供有关侦听器的基本状态信息，侦听器配置设置摘要，侦听协议地址以及向侦听器注册的服务摘要。
                     </p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="configuring-and-administering-oracle-net-listener.html#GUID-4C803ED7-35B9-49E1-843C-2B76CC457880">使用侦听器控件显示状态</a><br></li>
                        <li class="ulchildlink"><a href="configuring-and-administering-oracle-net-listener.html#GUID-8DE31C48-C08A-4E50-B987-9851B4B5C5A4">使用Oracle Enterprise Manager云控制显示状态</a><br></li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-and-administering-oracle-net-listener.html#GUID-F23E3733-0A34-4488-AE23-23A9FE65BC85">管理监听器</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="NETAG1162"></a><a id="NETAG1161"></a><a id="NETAG1471"></a><div class="sect4"><a id="GUID-4C803ED7-35B9-49E1-843C-2B76CC457880" name="GUID-4C803ED7-35B9-49E1-843C-2B76CC457880"></a><h5 id="NETAG-GUID-4C803ED7-35B9-49E1-843C-2B76CC457880" class="sect5"><span class="enumeration_section">9.5.3.1</span>使用监听器控制显示状态</h5>
                     <div>
                        <p><a id="d27122e3015" class="indexterm-anchor"></a><a id="d27122e3021" class="indexterm-anchor"></a><a id="d27122e3025" class="indexterm-anchor"></a>要从命令行显示侦听器的状态，请输入以下命令：</p><pre class="oac_no_warn" dir="ltr">LSNRCTL <a id="d27122e3032" class="indexterm-anchor"></a> STATUS [ <span class="italic">listener_name</span> ]</pre><p>在上面的命令中， <span class="italic">listener_name</span>是<code class="codeph">listener.ora</code>文件中定义的<span class="italic">侦听</span>器的名称。如果使用默认侦听<code class="codeph">LISTENER</code>名称<code class="codeph">LISTENER</code> ，则无需标识侦听<code class="codeph">LISTENER</code> 。</p>
                        <p><a href="configuring-and-administering-oracle-net-listener.html#GUID-4C803ED7-35B9-49E1-843C-2B76CC457880__CEGEHHDJ">例9-5</a>显示了<code class="codeph">STATUS</code>命令的示例输出。
                        </p>
                        <div class="example" id="GUID-4C803ED7-35B9-49E1-843C-2B76CC457880__CEGEHHDJ">
                           <p class="titleinexample">例9-5监听器控制实用程序的STATUS命令输出</p><pre class="oac_no_warn" dir="ltr">连接到（DESCRIPTION =（ADDRESS =（PROTOCOL = ipc）（KEY = net）））LISTENER的状态------------------------ Alias LISTENER版本TNSLSNR for Linux：版本18.0.0.0.0开始日期15-MAY-2017 20:22:00正常运行时间65天10小时。 5分钟。 22秒跟踪级别支持安全关闭监听器参数文件/oracle/admin/listener.ora监听器日志文件/oracle/network/log/listener.log监听器跟踪文件/oracle/network/trace/listener.trc监听端点摘要...（DESCRIPTION =（ADDRESS =（PROTOCOL = ipc）（KEY = net）））（DESCRIPTION =（ADDRESS =（PROTOCOL = tcp）（HOST = sales-server）（PORT = 1521）））（DESCRIPTION =（ADDRESS =（ PROTOCOL = tcps）（HOST =销售服务器）（PORT = 2484）））服务摘要......服务“sales.us.example.com”有1个实例。实例“sales”，状态READY，有3个处理程序用于此服务...服务“hr.us.example.com”有1个实例。实例“hr”，状态READY，有2个处理程序用于此服务...命令成功完成</pre></div>
                        <!-- class="example" -->
                        <p><code class="codeph">STATUS</code>命令输出包括<a href="configuring-and-administering-oracle-net-listener.html#GUID-4C803ED7-35B9-49E1-843C-2B76CC457880__G511554" title="监听器控制实用程序STATUS命令">表9-1中</a>描述的部分。
                        </p>
                        <div class="tblformal" id="GUID-4C803ED7-35B9-49E1-843C-2B76CC457880__G511554">
                           <p class="titleintable">表9-1侦听器控制实用程序STATUS命令</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="监听器控制实用程序STATUS命令" width="100%" border="1" summary="Listener Control Utility STATUS Command" frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="28%" id="d27122e3082">输出科</th>
                                    <th align="left" valign="bottom" width="72%" id="d27122e3085">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="28%" id="d27122e3090" headers="d27122e3082 ">
                                       <p>LISTENER的状态</p>
                                    </td>
                                    <td align="left" valign="top" width="72%" headers="d27122e3090 d27122e3085 ">
                                       <p>监听器的状态，包括以下内容：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p>听众的别名</p>
                                          </li>
                                          <li>
                                             <p>监听器的版本</p>
                                          </li>
                                          <li>
                                             <p>开始时间和开始时间</p>
                                          </li>
                                          <li>
                                             <p>跟踪级别</p>
                                          </li>
                                          <li>
                                             <p>正在使用的<code class="codeph">listener.ora</code>文件</p>
                                          </li>
                                          <li>
                                             <p>记录和跟踪配置设置</p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="28%" id="d27122e3118" headers="d27122e3082 ">
                                       <p>听力端点摘要</p>
                                    </td>
                                    <td align="left" valign="top" width="72%" headers="d27122e3118 d27122e3085 ">
                                       <p>协议地址侦听器配置为侦听。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="28%" id="d27122e3125" headers="d27122e3082 ">
                                       <p>服务摘要</p>
                                    </td>
                                    <td align="left" valign="top" width="72%" headers="d27122e3125 d27122e3085 ">
                                       <p>向侦听器注册的服务和分配给每个服务的服务处理程序的摘要。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="28%" id="d27122e3132" headers="d27122e3082 ">
                                       <p>服务</p>
                                    </td>
                                    <td align="left" valign="top" width="72%" headers="d27122e3132 d27122e3085 ">
                                       <p>注册服务。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="28%" id="d27122e3139" headers="d27122e3082 ">
                                       <p>例</p>
                                    </td>
                                    <td align="left" valign="top" width="72%" headers="d27122e3139 d27122e3085 ">
                                       <p>与服务关联的实例的名称。</p>
                                       <p>status字段指示实例是否可以接受连接。</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">READY</code>表示实例可以接受连接。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">BLOCKED</code>表示实例无法接受连接。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">READY/SECONDARY</code>表示这是Oracle Real Application Clusters主/辅配置中的辅助实例，并且已准备好接受连接。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">RESTRICTED</code>表示实例处于受限模式。侦听器阻止与此实例的所有连接。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">UNKNOWN</code>表示实例在<code class="codeph">listener.ora</code>文件中静态注册，而不是动态注册服务。因此，状态未知。
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-and-administering-oracle-net-listener.html#GUID-98FBD991-DBAA-4F3D-B866-C12E13BE9645">确定侦听器的当前状态</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="NETAG1472"></a><div class="sect4"><a id="GUID-8DE31C48-C08A-4E50-B987-9851B4B5C5A4" name="GUID-8DE31C48-C08A-4E50-B987-9851B4B5C5A4"></a><h5 id="NETAG-GUID-8DE31C48-C08A-4E50-B987-9851B4B5C5A4" class="sect5"><span class="enumeration_section">9.5.3.2</span>使用Oracle Enterprise Manager云控制显示状态</h5>
                     <div>
                        <p>以下过程描述如何使用Oracle Enterprise Manager Cloud Control显示侦听器的状态：</p>
                        <ol>
                           <li>
                              <p>访问Oracle企业管理器云控制中的“网络服务管理”页面。</p>
                              <div class="infoboxnotealso" id="GUID-8DE31C48-C08A-4E50-B987-9851B4B5C5A4__GUID-9926A9AC-684C-4282-8455-9B290FDCF394">
                                 <p class="notep1">也可以看看：</p>
                                 <p><span class="q">“ <a href="managing-oracle-net-services.html#GUID-697E4B64-854C-49BB-B287-C2B4C57F987F">使用Oracle Enterprise Manager云控制配置Oracle Net服务</a> ”</span></p>
                              </div>
                           </li>
                           <li>
                              <p>从“管理”列表中选择“ <span class="bold">侦听器</span> ”，然后选择包含配置文件位置的Oracle主目录。
                              </p>
                           </li>
                           <li>
                              <p>单击<span class="bold">Go</span> 。系统可能会提示您登录数据库服务器。
                              </p>
                              <p>将显示“监听器”页面。</p>
                           </li>
                           <li>
                              <p>选择一个监听器。</p>
                           </li>
                           <li>
                              <p>从“操作”列表中，选择“ <span class="bold">显示侦听器控件状态”</span> 。
                              </p>
                           </li>
                           <li>
                              <p>单击<span class="bold">Go</span> 。</p>
                              <p>将显示“侦听器控制状态”页面。</p>
                           </li>
                           <li>
                              <p>查看内容后，单击页面顶部的侦听器链接。</p>
                           </li>
                        </ol>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-and-administering-oracle-net-listener.html#GUID-98FBD991-DBAA-4F3D-B866-C12E13BE9645">确定侦听器的当前状态</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="NETAG1164"></a><a id="NETAG1163"></a><a id="NETAG307"></a><div class="sect3"><a id="GUID-9CDAFB4E-A675-4DF6-90A2-09DF94B80648" name="GUID-9CDAFB4E-A675-4DF6-90A2-09DF94B80648"></a><h4 id="NETAG-GUID-9CDAFB4E-A675-4DF6-90A2-09DF94B80648" class="sect4"><span class="enumeration_section">9.5.4</span>监听监听服务</h4>
                  <div>
                     <p>该<a id="d27122e3335" class="indexterm-anchor"></a><a id="d27122e3341" class="indexterm-anchor"></a><a id="d27122e3343" class="indexterm-anchor"></a> Listener Control实用程序的<code class="codeph">SERVICES</code>命令提供有关向侦听器注册的服务和实例以及分配给每个实例的服务处理程序的详细信息。要从命令行显示有关服务和实例的信息，请输入：</p><pre class="oac_no_warn" dir="ltr">LSNRCTL <a id="d27122e3352" class="indexterm-anchor"></a>服务[ <span class="italic">listener_name</span> ]</pre><p><a href="configuring-and-administering-oracle-net-listener.html#GUID-9CDAFB4E-A675-4DF6-90A2-09DF94B80648__CEGJCAIJ">例9-6</a>显示了<code class="codeph">SERVICES</code>命令的示例输出。
                     </p>
                     <div class="example" id="GUID-9CDAFB4E-A675-4DF6-90A2-09DF94B80648__CEGJCAIJ">
                        <p class="titleinexample">例9-6监听器控制实用程序的服务命令输出</p><pre class="oac_no_warn" dir="ltr">连接到（DESCRIPTION =（ADDRESS =（PROTOCOL = ipc）（KEY = net）））服务摘要...服务“sales.us.example.com”有1个实例。实例“sales”，状态READY，有3个处理程序用于此服务...处理程序：“DEDICATED”已建立：0拒绝：0状态：就绪LOCAL服务器“D000”已建立：0拒绝：0当前：0最大值：10000状态：准备好DISPATCHER &lt;machine：sales-server，pid：1689&gt;（ ADDRESS =（PROTOCOL = tcp）（HOST =销售服务器）（PORT = 52414））“D001”已建立：0拒绝：0当前：0最大值：10000状态：就绪DISPATCHER &lt;machine：sales-server，pid：1691&gt; （ADDRESS =（PROTOCOL = tcp）（HOST =销售服务器）（PORT = 52415））服务“hr.us.example.com”有1个实例。实例“hr”，状态READY，有2个处理程序用于此服务...处理程序：“DEDICATED”已建立：0拒绝：0状态：就绪LOCAL服务器“D000”已建立：0拒绝：0当前：0最大值：10000状态：准备好DISPATCHER &lt;machine：sales-server，pid：11326&gt;（ ADDRESS =（PROTOCOL = tcp）（HOST =销售服务器）（PORT = 58361））命令成功完成</pre></div>
                     <!-- class="example" -->
                     <p>此输出显示向侦听器注册了两个数据库服务<code class="codeph">sales.us.example.com</code>和<code class="codeph">hr.us.example.com</code> 。
                     </p>
                     <p>对<code class="codeph">sales.us.example.com</code>客户端连接请求由两个名为<code class="codeph">D000</code>和<code class="codeph">D001</code>调度程序和一个专用服务器处理。所有处理程序都处于<code class="codeph">ready</code>状态，表示它们已准备好接收连接。
                     </p>
                     <p>对<code class="codeph">hr.us.example.com</code>客户端连接请求由一个名为<code class="codeph">D001</code>调度程序和一个专用服务器处理。
                     </p>
                     <p><code class="codeph">SERVICES</code>命令使用<a href="configuring-and-administering-oracle-net-listener.html#GUID-9CDAFB4E-A675-4DF6-90A2-09DF94B80648__g513213" title="监听器控制实用程序服务命令">表9-2中</a>所述的以下信息生成输出。
                     </p>
                     <div class="tblformal" id="GUID-9CDAFB4E-A675-4DF6-90A2-09DF94B80648__g513213">
                        <p class="titleintable">表9-2侦听器控制实用程序服务命令</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="监听器控制实用程序服务命令" width="100%" border="1" summary="Listener Control Utility SERVICES Command" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="22%" id="d27122e3421">输出科</th>
                                 <th align="left" valign="bottom" width="78%" id="d27122e3424">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d27122e3429" headers="d27122e3421 ">
                                    <p>服务</p>
                                 </td>
                                 <td align="left" valign="top" width="78%" headers="d27122e3429 d27122e3424 ">
                                    <p>注册服务。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d27122e3436" headers="d27122e3421 ">
                                    <p>例</p>
                                 </td>
                                 <td align="left" valign="top" width="78%" headers="d27122e3436 d27122e3424 ">
                                    <p>与服务关联的实例的名称</p>
                                    <p>status字段指示实例是否可以接受连接。</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p><code class="codeph">READY</code>表示实例可以接受连接。
                                          </p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">BLOCKED</code>表示实例无法接受连接。
                                          </p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">READY/SECONDARY</code>表示它是Oracle Real Application Clusters主/辅配置中的辅助实例，可以接受连接。
                                          </p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">RESTRICTED</code>表示实例处于受限模式。侦听器阻止与此实例的所有连接。
                                          </p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">UNKNOWN</code>表示实例在<code class="codeph">listener.ora</code>文件中静态注册，而不是动态注册服务。因此，状态是未知的。
                                          </p>
                                       </li>
                                    </ul>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d27122e3474" headers="d27122e3421 ">
                                    <p>处理程序</p>
                                 </td>
                                 <td align="left" valign="top" width="78%" headers="d27122e3474 d27122e3424 ">
                                    <p>服务处理程序的名称。调度程序命名为<code class="codeph">D000</code>到<code class="codeph">D999</code> 。专用服务器的名称为<code class="codeph">DEDICATED</code> 。</p>
                                    <p>本节还标识了有关服务处理程序的以下内容：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p><code class="codeph">established</code> ：此服务处理程序已建立的客户端连接数。
                                          </p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">refused</code> ： <code class="codeph">refused</code>的客户端连接数。
                                          </p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">current</code> ：正在处理的客户端连接数，即当前负载。
                                          </p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">max</code> ：服务处理程序的最大连接数，即最大负载。
                                          </p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">state</code> ：处理程序的状态：</p>
                                          <p>- <code class="codeph">READY</code>表示服务处理程序可以接受新连接。
                                          </p>
                                          <p>- <code class="codeph">BLOCKED</code>表示服务处理程序无法接受新连接。
                                          </p>
                                       </li>
                                    </ul>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-and-administering-oracle-net-listener.html#GUID-F23E3733-0A34-4488-AE23-23A9FE65BC85">管理监听器</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="NETAG308"></a><div class="sect3"><a id="GUID-9AEBE545-50AE-4099-BEB9-175C8F9976AC" name="GUID-9AEBE545-50AE-4099-BEB9-175C8F9976AC"></a><h4 id="NETAG-GUID-9AEBE545-50AE-4099-BEB9-175C8F9976AC" class="sect4"><span class="enumeration_section">9.5.5</span>监控监听器日志文件</h4>
                  <div>
                     <p>当您发现以下任何一种情况时，请查看侦听器日志文件以获取错误信息：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>连接建立时间长</p>
                        </li>
                        <li>
                           <p>连通性问题和拒绝</p>
                        </li>
                        <li>
                           <p>意外关闭侦听器，可能表示拒绝服务攻击</p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-9AEBE545-50AE-4099-BEB9-175C8F9976AC__GUID-CD5C0D8F-14CC-4F2E-87BA-147DB6E9E855">
                        <p class="notep1">也可以看看：</p>
                        <p><span class="q">“ <a href="troubleshooting-oracle-net-services.html#GUID-13C57450-A1F1-46F4-B48C-8E284C3C87CA">分析监听器日志文件</a> ”</span></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-and-administering-oracle-net-listener.html#GUID-F23E3733-0A34-4488-AE23-23A9FE65BC85">管理监听器</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
            <div class="sect2"><a id="GUID-63F36312-FDA8-4B20-B8E1-4949AD55707A" name="GUID-63F36312-FDA8-4B20-B8E1-4949AD55707A"></a><h3 id="NETAG-GUID-63F36312-FDA8-4B20-B8E1-4949AD55707A" class="sect3"><span class="enumeration_section">9.6</span>了解监听器重定向</h3>
               <div>
                  <p>从Oracle Database 12 <span class="italic">c第</span> 2版（12.2）开始，侦听器重定向功能允许客户端使用未更改的连接描述符连接到可插拔数据库（PDB），即使将PDB迁移到Oracle公共云中的新位置也是如此。
                  </p>
                  <p>监听器注册（LREG）进程向PDB的本地监听器或正在迁移的服务注册新的处理程序。此处理程序包含迁移PDB或服务的数据库的新侦听器地址。对于Oracle RAC数据库，新侦听器地址可以是<a href="glossary.html#GUID-44B231A5-B822-4082-B57B-4C7871D5D5FF"><span class="xrefglossterm">单客户端访问名称（SCAN）</span></a>侦听器，如果是单实例数据库，则可以是本地侦听器。然后，侦听器将客户端重定向到新地址。
                  </p>
                  <p>如果本地侦听器重定向到Oracle RAC配置中的SCAN侦听器，则此侦听器可能需要进一步将客户端连接请求重定向到另一个群集节点。默认情况下，Oracle Net侦听器不支持此类多重重定向。要允许SCAN侦听器转发已经重定向的客户端连接请求，请将<code class="codeph">ALLOW_MULTIPLE_REDIRECTS_</code> <span class="italic">listener_name</span>参数添加到其<code class="codeph">listener.ora</code>文件中。将参数设置为<code class="codeph">TRUE.</code>不要为节点侦听器设置此参数，因为它可能允许在某些网络配置中进行无限重定向循环。
                  </p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="configuring-and-administering-oracle-net-listener.html#GUID-C3C40DBA-4282-41E1-9562-4B8B10947C4E">配置和管理Oracle Net Listener</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html>