<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="The default control of access to the Oracle Database semantic data store is at the model level: the owner of a model can grant select, delete, and insert privileges on the model to other users by granting appropriate privileges on the view named RDFM_&lt;model_name&gt;. However, for applications with stringent security requirements, you can enforce a fine-grained access control mechanism by using the Oracle Label Security option of Oracle Database."></meta>
      <meta name="description" content="The default control of access to the Oracle Database semantic data store is at the model level: the owner of a model can grant select, delete, and insert privileges on the model to other users by granting appropriate privileges on the view named RDFM_&lt;model_name&gt;. However, for applications with stringent security requirements, you can enforce a fine-grained access control mechanism by using the Oracle Label Security option of Oracle Database."></meta>
      <title>RDF数据的细粒度访问控制</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="RDF Knowledge Graph Developer&#39;s Guide "></meta>
      <meta property="og:description" content="The default control of access to the Oracle Database semantic data store is at the model level: the owner of a model can grant select, delete, and insert privileges on the model to other users by granting appropriate privileges on the view named RDFM_&lt;model_name&gt;. However, for applications with stringent security requirements, you can enforce a fine-grained access control mechanism by using the Oracle Label Security option of Oracle Database."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="RDF Knowledge Graph Developer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="spatial-and-graph-rdf-knowledge-graph-developers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-10T10:56:26-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2005, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E94798-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="semantic-indexing-documents.html" title="Previous" type="text/html"></link>
      <link rel="next" href="rdf-suipport-for-apache-jena.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Spatial and Graph RDF Knowledge Graph Developer&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="RDFRM"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="semantic-indexing-documents.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="rdf-suipport-for-apache-jena.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">RDF知识图开发人员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="part-concept-usage.html" property="item" typeof="WebPage"><span property="name">概念和使用信息</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">RDF数据的细粒度访问控制</li>
            </ol>
            <a id="GUID-7F7007CB-F6CA-4AD4-B30D-4AC9EF4DB8D8" name="GUID-7F7007CB-F6CA-4AD4-B30D-4AC9EF4DB8D8"></a><a id="RDFRM99956"></a><a id="RDFRM99941"></a>
            
            <h2 id="RDFRM-GUID-7F7007CB-F6CA-4AD4-B30D-4AC9EF4DB8D8" class="sect2"><span class="enumeration_chapter">5</span> RDF数据的细粒度访问控制</h2>
         </header>
         <div class="ind">
            <div>
               <p>访问Oracle数据库语义数据存储的默认控制是在模型级别：模型的所有者可以通过在名为RDFM_ <span class="italic">&lt;</span> model_name <span class="italic">&gt;</span>的视图上授予适当的权限，将模型的选择，删除和插入权限授予其他用户。 。但是，对于具有严格安全要求的应用程序，可以使用Oracle数据库的Oracle Label Security选项强制实施细粒度的访问控制机制。
               </p>
               <p>用于RDF数据的Oracle Label Security（OLS）允许灵敏度标签与存储在RDF模型中的各个三元组相关联。对于每个查询，通过将其标签与用户的会话标签进行比较来授予对特定三元组的访问权限。此三级安全选项在Oracle数据库本机支持标签安全性的基础上提供了一层特定于RDF的功能。</p>
               <p>有关使用OLS的信息，请参阅“ <a href="../olsag/index.html" target="_blank"><span class="italic">Oracle Label Security管理员指南”</span></a> 。
               </p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="fine-grained-access-control-rdf.html#GUID-3514B1AC-B47C-4AE6-A7A1-C2D57C22E4B7">三级安全</a><br>三级安全选项在Oracle数据库本机支持标签安全性的基础上提供了一层特定于RDF的功能。
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>父主题：</strong> <a href="part-concept-usage.html#GUID-FC153F2D-D51D-4498-A6E1-30B80D540FD6">概念和使用信息</a></p>
                  </div>
               </div>
            </div>
            <a id="RDFRM232"></a><div class="props_rev_3"><a id="GUID-3514B1AC-B47C-4AE6-A7A1-C2D57C22E4B7" name="GUID-3514B1AC-B47C-4AE6-A7A1-C2D57C22E4B7"></a><h3 id="RDFRM-GUID-3514B1AC-B47C-4AE6-A7A1-C2D57C22E4B7" class="sect3"><span class="enumeration_section">5.1</span>三级安全</h3>
               <div>
                  <p>三级安全选项在Oracle数据库本机支持标签安全性的基础上提供了一层特定于RDF的功能。</p>
                  <p>要使用三重安全级别，指定<code class="codeph">SEM_RDFSA.TRIPLE_LEVEL_ONLY</code>作为<code class="codeph">rdfsa_options</code>参数值，当你执行<a href="SEM_RDFSA-reference.html#GUID-FBF39A4D-A2AC-45B6-B81C-B5F09FD47454">SEM_RDFSA.APPLY_OLS_POLICY</a>程序。例如：</p><pre class="oac_no_warn" dir="ltr">执行sem_rdfsa.apply_ols_policy（'defense'， <span class="bold">SEM_RDFSA.TRIPLE_LEVEL_ONLY</span> ，network_owner =&gt;'FGAC_ADMIN'，network_name =&gt;'OLS_NET'）;</pre><p>不要为<a href="SEM_RDFSA-reference.html#GUID-FBF39A4D-A2AC-45B6-B81C-B5F09FD47454">SEM_RDFSA.APPLY_OLS_POLICY</a>过程指定任何其他可用参数。
                  </p>
                  <p>使用三级安全性时，OLS将应用于网络中的每个语义模型。也就是说，标签安全性应用于相关的内部表和所有应用程序表;无需手动将策略应用于现有语义模型的应用程序表。但是，如果在应用OLS策略后需要创建其他模型，则必须使用<a href="SEM_OLS-reference.html#GUID-37AC9E4E-7B0E-4868-80ED-1897DC1BA1ED">SEM_OLS.APPLY_POLICY_TO_APP_TAB</a>过程在创建模型之前将OLS应用于应用程序表。同样，如果您删除了语义模型并且不再需要保护应用程序表，则可以使用<a href="SEM_OLS-reference.html#GUID-35FE7319-0165-452B-8D59-FD230F2937D6">SEM_OLS.REMOVE_POLICY_FROM_APP_TAB</a>过程。（这些程序在<a href="SEM_OLS-reference.html#GUID-4A79F61D-9101-4291-980A-7D46A030116B" title="SEM_OLS软件包包含使用Oracle Label Security（OLS）与RDF数据的三级安全性相关的子程序（函数和过程）。">SEM_OLS包子</a>程序中描述。）
                  </p>
                  <p>通过三级安全性，可以在语义模型中插入具有不同标签的重复三元组。（资源级安全性不允许使用此类重复项。）例如，假设您有一个带有非常敏感标签的三元组，例如：</p><pre class="oac_no_warn" dir="ltr">（&lt;urn：X&gt;，&lt;urn：P&gt;，&lt;urn：Y&gt;，“TOPSECRET”）</pre><p>这不会阻止低特权（ <code class="codeph">UNCLASSIFIED</code> ）用户插入三元组<code class="codeph">(&lt;urn:X&gt;,&lt;urn:P&gt;,&lt;urn:Y&gt;, "UNCLASSIFIED")</code> 。由于SPARQL和SEM_MATCH不返回标签信息，因此查询将返回两行（假设用户具有适当的权限），并且区分<code class="codeph">TOPSECRET</code>和<code class="codeph">UNCLASSIFIED</code>三元组并不容易。
                  </p>
                  <p>要在查询语义模型时过滤掉这种低安全性三元组，您可以使用SEM_MATCH中的一个或多个以下选项：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><code class="codeph">POLICY_NAME</code>指定OLS策略名称。
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">MIN_LABEL</code>指定查询中包含的三元组的最小标签</p>
                     </li>
                  </ul>
                  <p>换句话说，包含严格由<code class="codeph">MIN_LABEL</code>控制的标签的每个三元组都不包含在查询中。例如，要过滤掉“UNCLASSIFIED”三元组，您可以使用以下查询（假设OLS策略名称为<code class="codeph">DEFENSE</code> ，并且查询用户对<code class="codeph">UNCLASSIFIED</code>和<code class="codeph">TOPSECRET</code>三元组具有读取权限）：</p><pre class="oac_no_warn" dir="ltr">SELECT s，p，y FROM table（sem_match（'{？s？p？y}'，sem_models（TEST'），null，null，null，null，'MIN_LABEL = TOPSECRET POLICY_NAME = DEFENSE'，null，null，'FGAC_ADMIN'，'OLS_NET'））;</pre><p>请注意，除了本机OLS软件执行的安全检查之外，还会发生前面示例中的过滤。</p>
                  <p>三已经插入后，您可以查看和更新通过标签信息<code class="codeph">CTXT1</code>在语义模型的应用程序表列（假设你有<code class="codeph">WRITEUP</code> ，并<code class="codeph">WRITEDOWN</code>的权限修改标签）。
                  </p>
                  <p>谁可以使用三级安全性进行推理或批量加载没有限制;使用用户的会话行标签插入所有推断或批量加载的三元组。请注意，您可以使用SA_UTL包更改会话标签。（有关SA_UTL的详细信息，请参阅“ <a href="../olsag/oracle-label-security-pl-sql-packages.html#OLSAG072" target="_blank"><span class="italic">Oracle Label Security管理员指南”</span></a> 。）
                  </p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="fine-grained-access-control-rdf.html#GUID-25AB7D8D-3691-405B-8785-B3F8DD459034">针对推断数据和基于梯形图的推理（LBI）的细粒度安全性</a><br></li>
                     <li class="ulchildlink"><a href="fine-grained-access-control-rdf.html#GUID-B0E89A2D-1509-468E-ACD4-4534FF2E2C70">扩展示例：对语义数据应用OLS三级安全性</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="fine-grained-access-control-rdf.html#GUID-7F7007CB-F6CA-4AD4-B30D-4AC9EF4DB8D8" title="访问Oracle数据库语义数据存储的默认控制是在模型级别：模型的所有者可以通过在名为RDFM_ &lt;model_name&gt;的视图上授予适当的权限，将模型的选择，删除和插入权限授予其他用户。 。但是，对于具有严格安全要求的应用程序，可以使用Oracle数据库的Oracle Label Security选项强制实施细粒度的访问控制机制。">RDF数据的细粒度访问控制</a></p>
                     </div>
                  </div>
               </div>
               <a id="RDFRM453"></a><a id="RDFRM454"></a><a id="RDFRM452"></a><div class="props_rev_3"><a id="GUID-25AB7D8D-3691-405B-8785-B3F8DD459034" name="GUID-25AB7D8D-3691-405B-8785-B3F8DD459034"></a><h4 id="RDFRM-GUID-25AB7D8D-3691-405B-8785-B3F8DD459034" class="sect4"><span class="enumeration_section">5.1.1</span>推断数据和基于梯形图的推理（LBI）的细粒度安全性</h4>
                  <div>
                     <p>为Oracle数据库中存储的RDF数据启用三级安全性时，声明的事实将使用数据标签进行标记，以强制执行强制访问控制。此外，当用户通过<a href="SEM_APIS-reference.html#GUID-BF52CEC0-1BD9-4908-9EF1-F001B0527257">SEM_APIS.CREATE_ENTAILMENT</a>过程调用基于前向链接的推理函数时，新推断的关系将使用当前行标签（ <code class="codeph">SA_UTL.NUMERIC_ROW_LABEL</code> ）进行标记。
                     </p>
                     <p>这些新推断的关系仅基于允许用户访问的信息来导出。但是，这些关系共享相同的数据标签。这是可以理解的，因为<a href="SEM_APIS-reference.html#GUID-BF52CEC0-1BD9-4908-9EF1-F001B0527257">SEM_APIS.CREATE_ENTAILMENT</a>调用可以被视为一个三步过程：读操作，然后是逻辑推理计算，然后是写操作。读取操作收集推理计算所基于的信息，并且受访问权限，用户标签和数据标签的限制;逻辑推理计算步骤纯粹是数学的;并且最终将推断信息写入所需图表与同一用户断言一些新事实（恰好由前一步骤计算）没有区别。
                     </p>
                     <p>如果用户仅拥有单个标签，则使用单个标签标记所有推断的断言就足够了。但是，当同一用户拥有多个标签时，它不够精细，这是多租户设置中的常见情况。</p>
                     <p>例如，假设用户将其用户标签和数据标签设置为<code class="codeph">TopSecret</code> ，调用<a href="SEM_APIS-reference.html#GUID-BF52CEC0-1BD9-4908-9EF1-F001B0527257">SEM_APIS.CREATE_ENTAILMENT</a> ，切换到名为<code class="codeph">Secret</code>的较弱标签，最后执行SPARQL查询。查询将无法看到任何新推断的关系，因为它们都使用<code class="codeph">TopSecret</code>标签进行标记。但是，如果用户切换回<code class="codeph">TopSecret</code>标签，现在每个推断的关系都是可见的。就推断的关系而言，它是“全有或全无”（即，所有可见或无可见）。
                     </p>
                     <p>当多个标签可供给定用户使用时，通常需要为不同的推断关系分配不同的标签。有两种方法可以实现这一目标：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="fine-grained-access-control-rdf.html#GUID-25AB7D8D-3691-405B-8785-B3F8DD459034__CIHGHBBF">多次调用SEM_APIS.CREATE_ENTAILMENT</a></p>
                        </li>
                        <li>
                           <p><a href="fine-grained-access-control-rdf.html#GUID-25AB7D8D-3691-405B-8785-B3F8DD459034__CIHDBBBC">使用基于梯形图的推理（LBI）</a></p>
                        </li>
                     </ul>
                     <p>基于梯形图的推理，对Oracle Database 12 <span class="italic">c</span> Release 1（12.1）有效，可能是这两种方法中更简单，更方便的方法。
                     </p>
                     <div class="section" id="GUID-25AB7D8D-3691-405B-8785-B3F8DD459034__CIHGHBBF">
                        <p class="subhead3" id="GUID-25AB7D8D-3691-405B-8785-B3F8DD459034__GUID-74D8E2DC-0393-45FB-957A-4448F6F405C0">多次调用SEM_APIS.CREATE_ENTAILMENT</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>假设一个名为DEFENSE的安全策略，一个名为SCOTT的用户，以及SCOTT拥有的一系列用户标签Label1，Label2，...，Label <span class="italic">n</span> 。 SCOTT的以下调用将标签设置为Label1，首次运行推理，并使用Label1标记新推断的三元组：</p><pre class="oac_no_warn" dir="ltr">执行sa_utl.set_label（'defense'，char_to_label（'defense'，'Label1'））;执行sa_utl.set_row_label（'defense'，char_to_label（'defense'，'Label1'））;执行sem_apis.create_entailment（'inf'，sem_models（'contracts'），sem_rulebases（'owlprime'），SEM_APIS.REACH_CLOSURE，null，''，network_owner =&gt;'FGAC_ADMIN'，network_name =&gt;'OLS_NET'）;</pre><p>现在，SCOTT将标签切换到Label2，第二次运行推理，并使用Label2标记新推断的三元组。显然，如果Label2由Label1占主导地位，则不会推断出新的三元组，因为Label2看不到Label1允许看到的任何内容。如果Label2不受Label1支配，推理过程的读取步骤可能会看到一组不同的三元组，因此推理调用可以产生一些新的三元组，然后用Label2标记。</p>
                        <p>出于此示例的目的，假设以下条件成立：对于任何1 &lt;= <span class="italic">i</span> &lt; <span class="italic">j</span> &lt;= <span class="italic">n</span> ，Label <span class="italic">j</span>不受Label <span class="italic">i</span>支配。
                        </p><pre class="oac_no_warn" dir="ltr">执行sa_utl.set_label（'defense'，char_to_label（'defense'，'Label2'））;执行sa_utl.set_row_label（'defense'，char_to_label（'defense'，'Label2'））;执行sem_apis.create_entailment（'inf'，sem_models（'contracts'），sem_rulebases（'owlprime'），SEM_APIS.REACH_CLOSURE，null，'ENTAIL_ANYWAY = T'，network_owner =&gt;'FGAC_ADMIN'，network_name =&gt;'OLS_NET'）;</pre><p>SCOTT使用标签序列中的其余标签继续前面的操作：Label1，Label2，...，Label <span class="italic">n</span> 。最后一步如下：</p><pre class="oac_no_warn" dir="ltr">执行sa_utl.set_label（'defense'，char_to_label（'defense'，'Labeln'））;执行sa_utl.set_row_label（'defense'，char_to_label（'defense'，'Labeln'））;执行sem_apis.create_entailment（'inf'，sem_models（'contracts'），sem_rulebases（'owlprime'），SEM_APIS.REACH_CLOSURE，null，'ENTAIL_ANYWAY = T'，network_owner =&gt;'FGAC_ADMIN'，network_name =&gt;'OLS_NET'）;</pre><p>执行所有这些操作后，推理图可能包含标记有各种不同标签的三元组。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-25AB7D8D-3691-405B-8785-B3F8DD459034__CIHDBBBC">
                        <p class="subhead3" id="GUID-25AB7D8D-3691-405B-8785-B3F8DD459034__GUID-0185DBD6-98BA-47E7-AEF3-65ADED72E76E">使用基于梯形图的推理（LBI）</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>基本上，基于梯形图的推理（LBI）在一个API调用中包含了<a href="fine-grained-access-control-rdf.html#GUID-25AB7D8D-3691-405B-8785-B3F8DD459034__CIHGHBBF">调用SEM_APIS.CREATE_ENTAILMENT多次</a>方法中描述的所有操作。在视觉上，这些行为就像爬上梯子。当从一个标签前进到下一个标签时，更多断言的事实变得可见或可访问（假设新标签不受任何先前标签的支配），因此可以推断出新的关系。
                        </p>
                        <p>以下示例显示了调用LBI的语法。</p><pre class="oac_no_warn" dir="ltr">执行sem_apis.create_entailment（'inf'，sem_models（'contracts'），sem_rulebases（'owlprime'），SEM_APIS.REACH_CLOSURE，null，null，ols_ladder_inf_lbl_seq =&gt;'numericLabel1 numericLabel2 numericLabel3 numericLabel4'，network_owner =&gt;'FGAC_ADMIN'，network_name = &gt;'OLS_NET'）;</pre><p>参数<code class="codeph">ols_ladder_inf_lbl_seq</code>指定标签序列。此序列作为由空格分隔的数字标签列表提供。使用LBI时，最好安排标签序列，以便在较强标签之前放置较弱的标签。这将减少推断图的大小。（如果标签不相互支配，可以按任何顺序指定。）
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="fine-grained-access-control-rdf.html#GUID-3514B1AC-B47C-4AE6-A7A1-C2D57C22E4B7" title="三级安全选项在Oracle数据库本机支持标签安全性的基础上提供了一层特定于RDF的功能。">三级安全性</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="RDFRM412"></a><div class="props_rev_3"><a id="GUID-B0E89A2D-1509-468E-ACD4-4534FF2E2C70" name="GUID-B0E89A2D-1509-468E-ACD4-4534FF2E2C70"></a><h4 id="RDFRM-GUID-B0E89A2D-1509-468E-ACD4-4534FF2E2C70" class="sect4"><span class="enumeration_section">5.1.2</span>扩展示例：对语义数据应用OLS三级安全性</h4>
                  <div>
                     <p>本节提供了一个扩展示例，说明如何将OLS三级安全性应用于语义数据。它假定已配置并启用OLS。这些示例非常简单，并未反映有关用户名和密码的建议做法。</p>
                     <p>除非另有说明，否则在连接AS SYSDBA时执行步骤。</p>
                     <ol>
                        <li>
                           <p>执行一些必要的设置步骤。</p>
                           <ol type="a">
                              <li>
                                 <p>作为SYSDBA，创建名为A，B和C的数据库用户。</p><pre class="oac_no_warn" dir="ltr">创建由<span class="italic">&lt;password-for-a&gt;</span>标识的用户; grant connect，unlimited tablespace，resource to a;创建由<span class="italic">&lt;password-for-b&gt;</span>标识的用户b; grant connect，unlimited tablespace，resource to b;创建由<span class="italic">&lt;password-for-c&gt;</span>标识的用户c; grant connect，unlimited tablespace，resource to c;</pre></li>
                              <li>
                                 <p>作为SYSDBA，创建安全管理员并授予权限。</p><pre class="oac_no_warn" dir="ltr">CREATE USER fgac_admin由&lt;password-for-fgac_admin&gt;标识; GRANT连接，无限制的表空间，资源到fgac_admin; - 需要在共享模式专用网络上管理OLS GRANT在MDSYS.SEM_RDFSA上执行到fgac_admin; GRANT免除对fgac_admin的访问策略; - 需要管理OLS策略GRANT EXECUTE ON sa_components TO fgac_admin; sa_user_admin上的GRANT EXECUTE TO fgac_admin; sa_label_admin上的GRANT EXECUTE TO fgac_admin; sa_policy_admin上的GRANT EXECUTE TO fgac_admin;将sa_sysdba上的GRANT EXECUTE执行到fgac_admin; GRAND执行TO_LBAC_DATA_LABEL到fgac_admin; GRANT lbac_dba到fgac_admin;</pre></li>
                              <li>
                                 <p>以SYSTEM身份连接并创建由安全管理员拥有的具有共享权限的模式专用语义网络。</p><pre class="oac_no_warn" dir="ltr">CONNECT system / &lt;password-for-system&gt;;执行sem_apis.create_sem_network（'tbs_3'，network_owner =&gt;'FGAC_ADMIN'，network_name =&gt;'OLS_NET'）;执行sem_apis.grant_network_sharing_privs（'FGAC_ADMIN'）;</pre></li>
                              <li>
                                 <p>以安全管理员身份进行连接，并为用户a，b和c设置网络共享。</p><pre class="oac_no_warn" dir="ltr">CONNECT fgac_admin / &lt;password-for-fgac_admin&gt;;执行sem_apis.enable_network_sharing（network_owner =&gt;'FGAC_ADMIN'，network_name =&gt;'OLS_NET'）;执行sem_apis.grant_network_access_privs（network_owner =&gt;'FGAC_ADMIN'，network_name =&gt;'OLS_NET'，network_user =&gt;'A'）;执行sem_apis.grant_network_access_privs（network_owner =&gt;'FGAC_ADMIN'，network_name =&gt;'OLS_NET'，network_user =&gt;'B'）;执行sem_apis.grant_network_access_privs（network_owner =&gt;'FGAC_ADMIN'，network_name =&gt;'OLS_NET'，network_user =&gt;'C'）;</pre></li>
                              <li>
                                 <p>以安全管理员身份连接并创建名为defense的策略。</p><pre class="oac_no_warn" dir="ltr">CONNECT fgac_admin / &lt;password-for-fgac_admin&gt;; EXECUTE SA_SYSDBA.CREATE_POLICY（'defense'，'ctxt1'）;</pre></li>
                              <li>
                                 <p>创建三个安全级别（为简单起见，省略了隔离专区和组。）</p><pre class="oac_no_warn" dir="ltr">EXECUTE SA_COMPONENTS.CREATE_LEVEL（'防守'，3000，'TS'，'TOP SECRET'）; EXECUTE SA_COMPONENTS.CREATE_LEVEL（'辩护'，2000，'SE'，'SECRET'）; EXECUTE SA_COMPONENTS.CREATE_LEVEL（'防御'，1000，'联合国'，'未分类'）;</pre></li>
                              <li>
                                 <p>创建三个标签。</p><pre class="oac_no_warn" dir="ltr">EXECUTE SA_LABEL_ADMIN.CREATE_LABEL（'defense'，1000，'UN'）; EXECUTE SA_LABEL_ADMIN.CREATE_LABEL（'defense'，1500，'SE'）; EXECUTE SA_LABEL_ADMIN.CREATE_LABEL（'defense'，3100，'TS'）;</pre></li>
                              <li>
                                 <p>分配标签和权限。</p><pre class="oac_no_warn" dir="ltr">EXECUTE SA_USER_ADMIN.SET_USER_LABELS（'防御'，'A'，'UN'）; EXECUTE SA_USER_ADMIN.SET_USER_LABELS（'防御'，'B'，'SE'）; EXECUTE SA_USER_ADMIN.SET_USER_LABELS（'防御'，'C'，'TS'）; EXECUTE SA_USER_ADMIN.SET_USER_LABELS（'defense'，'fgac_admin'，'TS'）; EXECUTE SA_USER_ADMIN.SET_USER_PRIVS（'防御'，'FGAC_ADMIN'，'完整'）;</pre></li>
                           </ol>
                        </li>
                        <li>
                           <p>创建语义模型。</p>
                           <ol type="a">
                              <li>
                                 <p>创建模型并与其他一些用户共享。</p><pre class="oac_no_warn" dir="ltr">连接a / &lt;password-for-a&gt; CREATE TABLE project_tpl（triple sdo_rdf_triple_s）compress for oltp;执行sem_apis.create_sem_model（'project'，'project_tpl'，'triple'，network_owner =&gt;'FGAC_ADMIN'，network_name =&gt;'OLS_NET'）; GRANT选择fgac_admin.ols_net＃rdfm_project到B; GRANT选择fgac_admin.ols_net＃rdfm_project为C; GRANT在project_tpl上选择，插入，更新，删除到B，C;</pre></li>
                              <li>
                                 <p>确保可以执行批量加载API。</p><pre class="oac_no_warn" dir="ltr">GRANT在project_tpl上插入到fgac_admin;</pre></li>
                           </ol>
                        </li>
                        <li>
                           <p>为RDF应用OLS策略。</p><pre class="oac_no_warn" dir="ltr">CONNECT fgac_admin / &lt;password-for-fgac_admin&gt; BEGIN sem_rdfsa.apply_ols_policy（'defense'，sem_rdfsa。TRIPLE_LEVEL_ONLY，network_owner =&gt; 'FGAC_ADMIN'，NETWORK_NAME =&gt; 'OLS_NET'）;结束; //</pre><p>请注意，应用程序表现在有一个名为CTXT1的额外列：</p><pre class="oac_no_warn" dir="ltr">CONNECT a / &lt;password-for-a&gt; DESCRIBE project_tpl;名字空？输入----------------------------------------- -------- -------------------------- TRIPLE PUBLIC.SDO_RDF_TRIPLE_S CTXT1 NUMBER（10）</pre></li>
                        <li>
                           <p>将数据添加到语义模型。</p><pre class="oac_no_warn" dir="ltr">- 用户A使用增量API添加语义数据连接/ &lt;password-for-a&gt; INSERT INTO project_tpl（三重）值（sdo_rdf_triple_s（'project'，'&lt;urn：A&gt;'，'&lt;urn：hasManager&gt;' ， '&lt;瓮：B&gt;'， 'FGAC_ADMIN'， 'OLS_NET'））; INSERT INTO project_tpl（triple）值（sdo_rdf_triple_s（'project'，'&lt;urn：B&gt;'，'&lt;urn：hasManager&gt;'，'&lt;urn：C&gt;'，'FGAC_ADMIN'，'OLS_NET'））; INSERT INTO project_tpl（triple）值（sdo_rdf_triple_s（'project'，'&lt;urn：A&gt;'，'&lt;urn：expenseReportAmount&gt;'，'“100”'，'FGAC_ADMIN'，'OLS_NET'））; INSERT INTO project_tpl（triple）值（sdo_rdf_triple_s（'project'，'&lt;urn：expenseReportAmount&gt;'，'rdfs：subPropertyOf'，'&lt;urn：projExp&gt;'，'FGAC_ADMIN'，'OLS_NET'））;承诺; - 用户B使用批量API添加语义数据连接b / &lt;password-for-b&gt; CREATE TABLE project_stab（RDF $ STC_GRAPH varchar2（4000），RDF $ STC_sub varchar2（4000），RDF $ STC_pred varchar2（4000），RDF $ STC_obj varchar2（4000））compress; GRANT在project_stab上选择fgac_admin; - 为简单起见，省略了数据类型。INSERT INTO project_stab值（null，'&lt;urn：B&gt;'，'&lt;urn：expenseReportAmount&gt;'，'“200”'）; INSERT INTO project_stab值（null，'&lt;urn：proj1&gt;'，'&lt;urn：deadline&gt;'，'“2012-12-25”'）;执行sem_apis.bulk_load_from_staging_table（'project'，'b'，'project_stab'，network_owner =&gt;'FGAC_ADMIN'，network_name =&gt;'OLS_NET'）; - 作为用户B，检查应用程序表中的内容，通过ctxt1从a.project_tpl命令连接b / &lt;password-for-b&gt; SELECT *; SDO_RDF_TRIPLE_S（8.5963E + 18,7,1.4711E + 18,2.0676E + 18,8.5963E + 18）1000 SDO_RDF_TRIPLE_S（5.1676E + 18,7,8.5963E + 18,2.0676E + 18,5.1676E + 18）1000 SDO_RDF_TRIPLE_S（2.3688E + 18,7,1.4711E + 18,4.6588E + 18,2.3688E + 18）1000 SDO_RDF_TRIPLE_S（7.6823E + 18,7,4.6588E + 18,1.1911E + 18,7.6823E + 18）1000 SDO_RDF_TRIPLE_S（6.6322E + 18,7,8.5963E + 18,4.6588E + 18,6.6322E + 18）1500 SDO_RDF_TRIPLE_S（8.4800E + 18,7,6.2294E + 18,5.4118E + 18,8.4800E + 18）1500选择了6行。来自fgac_admin.ols_net＃rdfm_project的SELECT count（1）; 6  - 作为用户A，检查应用程序表中的内容 - 正如预期的那样，A只能看到4个三元组SQL&gt; conn a / &lt;password&gt; SQL&gt; select * from a.project_tpl order by ctxt1; SDO_RDF_TRIPLE_S（8.5963E + 18,7,1.4711E + 18,2.0676E + 18,8.5963E + 18）1000 SDO_RDF_TRIPLE_S（5.1676E + 18,7,8.5963E + 18,2.0676E + 18,5.1676E + 18）1000 SDO_RDF_TRIPLE_S（2.3688E + 18,7,1.4711E + 18,4.6588E + 18,2.3688E + 18）1000 SDO_RDF_TRIPLE_S（7.6823E + 18,7,4.6588E + 18,1.1911E + 18,7.6823E + 18）1000 SQL&gt; select count（1）fromfgac_admin.ols_net＃rdfm_project; 4  - 用户C使用增量API添加语义数据，包括2个quads connect c / &lt;password-for-c&gt; INSERT INTO a.project_tpl（triple）值（sdo_rdf_triple_s（'project'，'&lt;urn：C&gt;'，' &lt;瓮：expenseReportAmount&gt;”， ' “400”'， 'FGAC_ADMIN'， 'OLS_NET'））; INSERT INTO a.project_tpl（triple）值（sdo_rdf_triple_s（'project'，'&lt;urn：proj1&gt;'，'&lt;urn：hasBudget&gt;'，'“10000”'，'FGAC_ADMIN'，'OLS_NET'））; INSERT INTO a.project_tpl（triple）值（sdo_rdf_triple_s（'project：&lt;urn：proj2&gt;'，'&lt;urn：proj2&gt;'，'&lt;urn：hasBudget&gt;'，'“20000”'，'FGAC_ADMIN'，'OLS_NET “））; INSERT INTO a.project_tpl（triple）值（sdo_rdf_triple_s（'project：&lt;urn：proj2&gt;'，'&lt;urn：proj2&gt;'，'&lt;urn：dependsOn&gt;'，'&lt;urn：proj1&gt;'，'FGAC_ADMIN'， 'OLS_NET'））;承诺;</pre></li>
                        <li>
                           <p>使用默认标签将数据作为不同用户进行查询。</p><pre class="oac_no_warn" dir="ltr">- 现在作为用户A，B，C，执行以下查询选择lpad（nvl（g，''），20）|| ''|| s || ''|| p || ''|| o来自表格（sem_match（'select * where {graph？G { ？s？p？o}}'，sem_models（'project'），null，null，null，null，'GRAPH_MATCH_UNNAMED = T'，null，null，'FGAC_ADMIN'，'OLS_NET'））按g，s，p，o排序; connect a / &lt;password-for-a&gt;  - 重复前面的查询SQL&gt; / urn：一个urn：expenseReportAmount 100 urn：一个urn：hasManager urn：B urn：B urn：hasManager urn：C urn：expenseReportAmount http：/ /www.w3.org/2000/01/rdf-schema#subPropertyOf urn：projExp SQL&gt; connect b / &lt;password-for-b&gt; SQL&gt; / urn：一个urn：expenseReportAmount 100 urn：一个urn：hasManager urn：B urn：B urn：expenseReportAmount 200 urn：B urn：hasManager urn：C urn：expenseReportAmount http://www.w3.org/2000/01/rdf-schema#subPropertyOf urn：projExp urn：proj1 urn：deadline 2012-12 -25 SQL&gt; connect c / &lt;password-for-c&gt; SQL&gt; / urn：proj2 urn：proj2 urn：dependsOn urn：proj1 urn：proj2 urn：proj2 urn：hasBudget 20000 urn：a urn：expenseReportAmount 100 urn：a urn ：hasManager urn：B urn：B urn：expenseReportAmount 200 urn：B urn：hasManager urn：C urn：C urn：expenseReportAmount 400 urn：expenseReportAmount http://www.w3.org/2000/01/rdf-schema#subPropertyOf urn：projExp urn：proj1 urn：截止日期2012-12-25 urn：proj1 urn：hasBudget 10000</pre><p>正如所料，不同的用户（具有不同的标签）可以在项目RDF图中看到不同的三元组。</p>
                        </li>
                        <li>
                           <div class="p">使用不同的标签查询与用户C相同的数据。<pre class="oac_no_warn" dir="ltr">exec sa_utl.set_label（'defense'，char_to_label（'defense'，'SE'））; exec sa_utl.set_row_label（'defense'，char_to_label（'defense'，'SE'））;</pre></div>
                           <p>上一步中使用的相同查询仅生成6个匹配，标签设置为SE：</p><pre class="oac_no_warn" dir="ltr">urn：一个urn：expenseReportAmount 100 urn：一个urn：hasManager urn：B urn：B urn：expenseReportAmount 200 urn：B urn：hasManager urn：C urn：expenseReportAmount http://www.w3.org/2000/01/rdf -schema #subPropertyOf urn：projExp urn：proj1 urn：deadline 2012-12-25 6行选中。
</pre><p>如果用户C选择最弱的标签（“未分类”），那么用户C看到的更少</p><pre class="oac_no_warn" dir="ltr">exec sa_utl.set_label（'defense'，char_to_label（'defense'，'UN'））; exec sa_utl.set_row_label（'defense'，char_to_label（'defense'，'UN'））;</pre><p>上一步中使用的相同查询仅产生4个匹配：</p><pre class="oac_no_warn" dir="ltr">urn：一个urn：expenseReportAmount 100 urn：一个urn：hasManager urn：B urn：B urn：hasManager urn：C urn：expenseReportAmount http://www.w3.org/2000/01/rdf-schema#subPropertyOf urn：projExp</pre><p>如果用户C想要仅针对具有支配“秘密”的数据标签的三元组/四元组运行查询：</p><pre class="oac_no_warn" dir="ltr">- 首先将标签设置为exec sa_utl.set_label（'defense'，char_to_label（'defense'，'TS'））; exec sa_utl.set_row_label（'defense'，char_to_label（'defense'，'TS'））;选择lpad（nvl（g，''），20）|| ''|| s || ''|| p || ''|| o来自表格（sem_match（'select * where {graph？G { ？s？p？o}}'，sem_models（'project'），null，null，null，null，'MIN_LABEL = SE POLICY_NAME = DEFENSE GRAPH_MATCH_UNNAMED = T'，null，null，'FGAC_ADMIN'，'OLS_NET'））按g，s排序，p，o;</pre><p>查询响应排除了用户A做出的断言：</p><pre class="oac_no_warn" dir="ltr">urn：proj2 urn：proj2 urn：dependsOn urn：proj1 urn：proj2 urn：proj2 urn：hasBudget 20000 urn：B urn：expenseReportAmount 200 urn：C urn：expenseReportAmount 400 urn：proj1 urn：deadline 2012-12-25 urn：proj1 urn：hasBudget 10000 6行选中。
</pre><p>可以像用户A一样执行相同的查询。但是，没有按预期返回匹配项。</p>
                        </li>
                     </ol>
                     <p>为RDF启用OLS时，可以删除语义数据。在以下示例中，假设已成功执行<a href="SEM_RDFSA-reference.html#GUID-FBF39A4D-A2AC-45B6-B81C-B5F09FD47454">SEM_RDFSA.APPLY_OLS_POLICY</a> ，并且使用与前面示例中相同的用户设置和标签设计。
                     </p><pre class="oac_no_warn" dir="ltr">- 首先，创建一个测试模型作为用户A并授予用户B和C的访问权限连接/ &lt;password-for-a&gt;创建表test_tpl（triple sdo_rdf_triple_s）compress for oltp;授予select，insert，update，delete on test_tpl to B，C; - 以下内容将失败并显示错误消息 - “创建触发器时出错：如果启用了OLS，则必须应用表策略 - 在创建启用OLS的模型之前” -  EXECUTE sem_apis.create_sem_model（'test '，'test_tpl'，'triple'，network_owner =&gt;'FGAC_ADMIN'，network_name =&gt;'OLS_NET'）; - 在模型视图上向用户B和C授予select选择fgac_admin.ols_net＃rdfm_test到B，C; - 您需要首先运行此API连接fgac_admin / &lt;password-for-fgac_admin&gt; EXECUTE sem_ols.apply_policy_to_app_tab（'defense'，'A'，'TEST_TPL'，network_owner =&gt;'FGAC_ADMIN'，network_name =&gt;'OLS_NET'） ; - 现在模型创建（在应用OLS策略之后）可以通过连接a / &lt;password-for-a&gt; EXECUTE sem_apis.create_sem_model（'test'，'test_tpl'，'triple'，network_owner =&gt;'FGAC_ADMIN'， NETWORK_NAME =&gt; 'OLS_NET'）; - 添加一个三元组作为用户A INSERT INTO test_tpl（三元组）值（sdo_rdf_triple_s（'test'，'&lt;urn：A&gt;'，'&lt;urn：p&gt;'，'&lt;urn：B&gt;'，'FGAC_ADMIN'， 'OLS_NET'））;承诺; - 添加与用户B相同的三元组连接b / &lt;password-for-b&gt; INSERT INTO a.test_tpl（三元组）值（sdo_rdf_triple_s（'test'，'&lt;urn：A&gt;'，'&lt;urn：p&gt;' ， '&lt;瓮：B&gt;'， 'FGAC_ADMIN'， 'OLS_NET'））;承诺; - 现在用户B可以在应用程序表中看到两个三元组以及从a.test_tpl看到的模型视图集numwidth 20 SELECT *; SDO_RDF_TRIPLE_S（8596269297967065604,19,1471072612573670395,28121856352072361 78,8596269297967065604）1000 SDO_RDF_TRIPLE_S（8596269297967065604,19,1471072612573670395,28121856352072361 78,8596269297967065604）1500来自fgac_admin.ols_net＃rdfm_test的SELECT count（1）; 2  - 由于A的标签分配，用户A只能看到一个三元组，如预期的那样。来自a.test_tpl的SELECT *; SDO_RDF_TRIPLE_S（8596269297967065604,19,1471072612573670395,28121856352072361 78,8596269297967065604）1000来自fgac_admin.ols_net＃rdfm_test的SELECT count（1）; 1  - 用户A发出删除以删除A的断言SQL&gt;从a.test_tpl中删除; 1行已删除。承诺;提交完成。- 现在用户A没有断言。来自a.test_tpl的SELECT *;没有选择行从fgac_admin.ols_net＃rdfm_test中选择count count（1）; 0  - 请注意，前面的删除不会影响B所做的相同断言。从a.test_tpl中连接b / &lt;password-for-b&gt; SELECT *; SDO_RDF_TRIPLE_S（8596269297967065604,19,1471072612573670395,28121856352072361 78,8596269297967065604）1500来自fgac_admin.ols_net＃rdfm_test的SELECT count（1）; 1  - 用户B可以使用DELETE语句删除此断言。- 以下DELETE语句使用oracle_orardf_res2vid函数 - 将范围缩小到特定主题的三元组。从a.test_tpl app_tab中删除，其中app_tab.triple.rdf_s_id = sem_apis.res2vid（'FGAC_ADMIN.OLS_NET＃RDF_VALUE $'，'&lt;urn：A&gt;'）; 1行已删除。
</pre></div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="fine-grained-access-control-rdf.html#GUID-3514B1AC-B47C-4AE6-A7A1-C2D57C22E4B7" title="三级安全选项在Oracle数据库本机支持标签安全性的基础上提供了一层特定于RDF的功能。">三级安全性</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
         </div>
      </article>
   </body>
</html>