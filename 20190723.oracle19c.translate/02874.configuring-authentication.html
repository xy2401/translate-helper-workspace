<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="Authentication means to verify the identity of users or other entities that connect to the database."></meta>
      <meta name="description" content="Authentication means to verify the identity of users or other entities that connect to the database."></meta>
      <title>配置验证</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Security Guide "></meta>
      <meta property="og:description" content="Authentication means to verify the identity of users or other entities that connect to the database."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Security Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-security-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-02-28T14:57:12-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96299-04"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="managing-security-for-oracle-database-users.html" title="Previous" type="text/html"></link>
      <link rel="next" href="configuring-privilege-and-role-authorization.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Security Guide"></meta>
    <meta name="dcterms.isVersionOf" content="DBSEG"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="managing-security-for-oracle-database-users.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="configuring-privilege-and-role-authorization.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">安全指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="part_1.html" property="item" typeof="WebPage"><span property="name">管理用户身份验证和授权</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">配置验证</li>
            </ol>
            <a id="GUID-00632C9C-5C01-4C8F-A4D0-5E575502A6AE" name="GUID-00632C9C-5C01-4C8F-A4D0-5E575502A6AE"></a><a id="DBSEG003"></a>
            
            <h2 id="DBSEG-GUID-00632C9C-5C01-4C8F-A4D0-5E575502A6AE" class="sect2"><span class="enumeration_chapter">3</span>配置认证</h2>
         </header>
         <div class="ind">
            <div>
               <p>身份验证意味着验证连接到数据库的用户或其他实体的身份。</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="configuring-authentication.html#GUID-BF8E5E84-FE7E-449C-8081-755BAA4CF8DB">关于身份验证</a><br>身份验证意味着验证想要使用数据，资源或应用程序的用户，设备或其他实体的身份。
                  </li>
                  <li class="ulchildlink"><a href="configuring-authentication.html#GUID-CF1A8C33-5342-4257-AE8F-CF0BA437F65C">配置密码保护</a><br>您可以通过多种方式保护用户密码，例如控制密码创建要求或使用密码管理策略。
                  </li>
                  <li class="ulchildlink"><a href="configuring-authentication.html#GUID-DEC6EFFB-C0F2-4380-B6D4-798FDCD7CCBA">数据库管理员身份验证</a><br>您可以使用强身份验证，操作系统或使用密码的数据库对数据库管理员进行身份验证。
                  </li>
                  <li class="ulchildlink"><a href="configuring-authentication.html#GUID-1F783131-CD1C-4EA0-9300-C132651B0700">用户数据库认证</a><br>用户的数据库认证需要使用数据库本身内的信息来执行认证。
                  </li>
                  <li class="ulchildlink"><a href="configuring-authentication.html#GUID-22328DCF-B137-499B-ACC9-49D6C72B6A57">仅架构帐户</a><br>您可以创建仅模式帐户，即模式用户没有密码。
                  </li>
                  <li class="ulchildlink"><a href="configuring-authentication.html#GUID-37BECE32-58D5-43BF-A098-97936D66968F">用户操作系统认证</a><br>Oracle数据库可以使用操作系统维护的信息进行身份验证。
                  </li>
                  <li class="ulchildlink"><a href="configuring-authentication.html#GUID-F2004DF1-1122-4614-9D3D-2F8330855A93">用户的网络认证</a><br>您可以使用第三方服务的安全套接字层通过网络对用户进行身份验证。
                  </li>
                  <li class="ulchildlink"><a href="configuring-authentication.html#GUID-B3C89196-5AA5-4BF9-8F32-A8E9B4882459">为PDB配置操作系统用户</a><br><code class="codeph">DBMS_CREDENTIAL.CREATE_CREDENTIAL</code>过程将用户帐户配置为PDB的操作系统用户。</li>
                  <li class="ulchildlink"><a href="configuring-authentication.html#GUID-FD72C458-E250-46D3-84B6-FF3F34CDAC5D">全局用户身份验证和授权</a><br>通过全局用户身份验证和授权，您可以集中管理与用户相关的信息。
                  </li>
                  <li class="ulchildlink"><a href="configuring-authentication.html#GUID-E8251394-6EE1-4EEA-A09D-6B284F648D01">配置外部服务以验证用户和密码</a><br>外部服务（操作系统或网络）可以管理密码和验证用户。
                  </li>
                  <li class="ulchildlink"><a href="configuring-authentication.html#GUID-96D0694A-D588-43C4-9BAF-F7413B8E5AF2">多层认证和授权</a><br>Oracle数据库通过限制权限，通过所有层保留客户端身份以及审核客户端的操作来保护中间层应用程序。
                  </li>
                  <li class="ulchildlink"><a href="configuring-authentication.html#GUID-649FD726-FAB0-4F71-9341-AB23FA6E7F8F">客户端，应用程序服务器和数据库服务器中的管理和安全性</a><br>在多层环境中，应用程序服务器为客户端提供数据，并充当一个或多个数据库服务器的接口。
                  </li>
                  <li class="ulchildlink"><a href="configuring-authentication.html#GUID-94CF6D9C-08A0-4671-BD82-694EB67D06C9">在多层环境中保留用户身份</a><br>您可以使用中间层服务器进行代理身份验证和客户端标识符，以识别数据库未知的应用程序用户。
                  </li>
                  <li class="ulchildlink"><a href="configuring-authentication.html#GUID-FC71AA95-BC6C-4059-AC4E-4451CBB40EA8">用户认证数据字典视图</a><br>Oracle数据库提供数据字典视图，列出有关用户身份验证的信息，例如用户拥有的角色或他们使用的配置文件。
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>父主题：</strong> <a href="part_1.html" title="第一部分介绍了如何管理用户身份验证和授权。">管理用户身份验证和授权</a></p>
                  </div>
               </div>
            </div>
            <a id="DBSEG30031"></a><div class="props_rev_3"><a id="GUID-BF8E5E84-FE7E-449C-8081-755BAA4CF8DB" name="GUID-BF8E5E84-FE7E-449C-8081-755BAA4CF8DB"></a><h3 id="DBSEG-GUID-BF8E5E84-FE7E-449C-8081-755BAA4CF8DB" class="sect3">关于身份验证</h3>
               <div>
                  <p>身份验证意味着验证想要使用数据，资源或应用程序的用户，设备或其他实体的身份。</p>
                  <p>验证此标识可为进一步的交互建立信任关系。身份验证还可以通过将访问和操作链接到特定身份来实现问责制。在身份验证之后，授权过程可以允许或限制对该实体允许的访问和操作级别。</p>
                  <p>您可以对Oracle数据库的数据库和非数据库用户进行身份验证。为简单起见，相同的身份验证方法通常用于所有数据库用户，但Oracle数据库允许单个数据库实例使用任何或所有方法。Oracle数据库需要针对数据库管理员的特殊身份验证过程，因为它们执行特殊的数Oracle数据库还在传输过程中加密密码，以确保网络身份验证的安全性。</p>
                  <p>在身份验证之后，授权过程可以允许或限制对该实体允许的访问和操作级别。</p>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="configuring-privilege-and-role-authorization.html#GUID-89CE989D-C97F-4CFD-941F-18203090A1AC" title="权限和角色授权控制用户必须执行日常任务的权限。">配置权限和角色授权</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-00632C9C-5C01-4C8F-A4D0-5E575502A6AE" title="身份验证意味着验证连接到数据库的用户或其他实体的身份。">配置身份验证</a></p>
                     </div>
                  </div>
               </div>
            </div><a id="DBSEG0032"></a><div class="props_rev_3"><a id="GUID-CF1A8C33-5342-4257-AE8F-CF0BA437F65C" name="GUID-CF1A8C33-5342-4257-AE8F-CF0BA437F65C"></a><h3 id="DBSEG-GUID-CF1A8C33-5342-4257-AE8F-CF0BA437F65C" class="sect3">配置密码保护</h3>
               <div>
                  <p>您可以通过多种方式保护用户密码，例如控制密码创建要求或使用密码管理策略。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="configuring-authentication.html#GUID-F589A896-D775-4828-89F8-6A2BBEA413FE">什么是Oracle数据库内置密码保护？</a><br>Oracle数据库提供了一组内置密码保护，旨在保护用户的密码。
                     </li>
                     <li class="ulchildlink"><a href="configuring-authentication.html#GUID-AA1AA635-1CD5-422E-B8CA-681ED7C253CA">密码的最低要求</a><br>Oracle提供了一组密码的最低要求。
                     </li>
                     <li class="ulchildlink"><a href="configuring-authentication.html#GUID-D55E84C4-051F-49F5-8EAB-4E96147AEAE1">使用IDENTIFIED BY子句创建密码</a><br>接受<code class="codeph">IDENTIFIED BY</code>子句的SQL语句还允许您创建密码。
                     </li>
                     <li class="ulchildlink"><a href="configuring-authentication.html#GUID-75219D12-CBC8-4429-8512-90E7062371A8">使用密码管理策略</a><br>密码管理策略可以创建和实施一组可以更好地保护用户密码的限制。
                     </li>
                     <li class="ulchildlink"><a href="configuring-authentication.html#GUID-00BED08C-E064-4824-9697-C7219CB8D3AB">管理密码的复杂性</a><br>Oracle数据库提供了一组可用于管理密码复杂性的功能。
                     </li>
                     <li class="ulchildlink"><a href="configuring-authentication.html#GUID-36BC62D5-277A-4B38-AB6C-2F20A843651F">管理密码区分大小写</a><br>您可以管理来自先前版本的用户帐户的密码的密码区分大小写。
                     </li>
                     <li class="ulchildlink"><a href="configuring-authentication.html#GUID-828FFD2F-AB0B-4A00-99CF-AA680E9B0314">使用12C密码版本确保密码安全威胁</a><br><code class="codeph">12C</code>密码版本使用户能够创建符合合规标准的复杂密码。
                     </li>
                     <li class="ulchildlink"><a href="configuring-authentication.html#GUID-803496D2-19C7-4F02-94EC-C13EDD8FB17B">管理密码凭据的安全外部密码存储</a><br>安全外部密码存储是客户端钱包，用于存储密码凭据。
                     </li>
                     <li class="ulchildlink"><a href="configuring-authentication.html#GUID-F8895CE9-7E39-4512-901D-11723B90F441">管理管理用户的密码</a><br>管理用户的密码具有特殊保护，例如密码文件和密码复杂功能。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-00632C9C-5C01-4C8F-A4D0-5E575502A6AE" title="身份验证意味着验证连接到数据库的用户或其他实体的身份。">配置身份验证</a></p>
                     </div>
                  </div>
               </div>
               <a id="DBSEG30321"></a><div class="props_rev_3"><a id="GUID-F589A896-D775-4828-89F8-6A2BBEA413FE" name="GUID-F589A896-D775-4828-89F8-6A2BBEA413FE"></a><h4 id="DBSEG-GUID-F589A896-D775-4828-89F8-6A2BBEA413FE" class="sect4">什么是Oracle数据库内置密码保护？</h4>
                  <div>
                     <p>Oracle数据库提供了一组内置密码保护，旨在保护用户的密码。</p>
                     <p>这些密码保护如下：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="bold">密码加密。</span> 在通过网络发送之前，Oracle数据库使用高级加密标准（AES）在网络（客户端到服务器和服务器到服务器）连接期间自动且透明地加密密码。但是，在SQL语句中指定的密码（例如<code class="codeph">CREATE USER <span class="codeinlineitalic">user_name</span> IDENTIFIED BY <span class="codeinlineitalic">password</span> ;</code> ）仍然以网络跟踪文件中的明文形式通过网络传输。因此，您应启用本机网络加密或配置安全套接字层（SSL）加密。
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">密码复杂性检查。</span> 在默认安装中，Oracle数据库提供<code class="codeph">ora12c_verify_function</code>和<code class="codeph">ora12c_strong_verify_function</code>密码验证功能，以确保新密码或更改的密码足够复杂，以防止试图通过猜测密码进入系统的入侵者。您必须手动启用密码复杂性检查。您可以进一步自定义用户密码的复杂性。有关详细信息，请参阅<a href="configuring-authentication.html#GUID-A39E191B-4A06-442D-94C7-5882B73DDCFA" title="复杂性验证检查每个密码是否足够复杂，以防止试图猜测用户密码的入侵者。">关于密码复杂性验证</a> 。
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">防止密码被破坏。</span> 如果用户尝试使用不正确的密码多次登录Oracle数据库，Oracle数据库会将每次登录延迟一秒。此保护适用于从不同IP地址或多个客户端连接进行的尝试。此功能显着减少了入侵者在尝试登录时在固定时间段内可以尝试的密码数量。失败的登录延迟会减慢每次失败的登录尝试，从而增加执行密码猜测攻击所需的总时间，因为此类攻击通常需要大量失败的登录尝试。
                           </p>
                           <p>对于非管理登录，Oracle数据库通过为失败的登录延迟设置独占锁来防止并发密码猜测攻击。这可以防止入侵者在第一次猜测失败并被延迟时，当入侵者在另一个数据库会话中尝试下一个并发猜测时，试图回避失败的登录延迟。</p>
                           <p>通过对受攻击的帐户进行独占锁定，Oracle数据库可以缓解并发密码猜测攻击，但这可能会使帐户容易受到拒绝服务（DoS）攻击。要解决此问题，您应创建一个密码配置文件，其中<code class="codeph">FAILED_LOGIN_ATTEMPTS</code>参数设置为<code class="codeph">UNLIMITED</code> ，然后将此密码配置文件应用于用户帐户。<code class="codeph">FAILED_LOGIN_ATTEMPTS</code>参数设置的<code class="codeph">UNLIMITED</code>值禁用登录延迟失败，并且不限制登录失败次数。对于这些类型的帐户，Oracle建议您使用长随机密码。
                           </p>
                           <p>并发密码猜测攻击保护不适用于管理用户连接，因为这些类型的连接必须始终可用，并且不受拒绝服务攻击的影响。因此，Oracle建议您为任何管理特权帐户选择长密码。</p>
                        </li>
                        <li>
                           <p><span class="bold">强制密码的区分大小写。</span> 密码区分大小写。例如，如果密码为<code class="codeph">hpp5620QR</code>或<code class="codeph">hPp5620Qr</code> ，则密码<code class="codeph">hPP5620qr</code>失败。有关区分大小写如何工作的信息，以及它如何影响密码文件和数据库链接，请参阅<a href="configuring-authentication.html#GUID-36BC62D5-277A-4B38-AB6C-2F20A843651F" title="您可以管理来自先前版本的用户帐户的密码的密码区分大小写。">管理密码区大小写</a> 。
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">密码使用12C密码版本进行哈希处理。</span> 为了验证用户密码并在密码创建中强制区分大小写，Oracle数据库使用<code class="codeph">12C</code>密码版本，该版本基于脱优化算法，该算法涉及基于密码的密钥派生函数（PBKDF2）和SHA-512加密哈希函数。有关详细信息，请参阅<a href="configuring-authentication.html#GUID-828FFD2F-AB0B-4A00-99CF-AA680E9B0314" title="12C密码版本使用户能够创建符合合规标准的复杂密码。">使用12C密码版本确保密码安全威胁</a> 。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-F589A896-D775-4828-89F8-6A2BBEA413FE__GUID-7B641D8C-2C09-4C26-9333-26D94852AEEA">
                        <p class="notep1">也可以看看：</p><a href="keeping-your-oracle-database-secure.html#GUID-451679EB-8676-47E6-82A6-DF025FD65156" title="Oracle provides guidelines for securing passwords.">有关保护密码</a>的建议的密码<a href="keeping-your-oracle-database-secure.html#GUID-451679EB-8676-47E6-82A6-DF025FD65156" title="Oracle提供了保护密码的准则。">保护指南</a></div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-CF1A8C33-5342-4257-AE8F-CF0BA437F65C" title="您可以通过多种方式保护用户密码，例如控制密码创建要求或使用密码管理策略。">配置密码保护</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DBSEG33223"></a><div class="props_rev_3"><a id="GUID-AA1AA635-1CD5-422E-B8CA-681ED7C253CA" name="GUID-AA1AA635-1CD5-422E-B8CA-681ED7C253CA"></a><h4 id="DBSEG-GUID-AA1AA635-1CD5-422E-B8CA-681ED7C253CA" class="sect4">密码的最低要求</h4>
                  <div>
                     <p>Oracle提供了一组密码的最低要求。</p>
                     <p>密码长度最多为30个字节。您可以通过多种方式保护密码，包括要求密码长度合理，以及创建自定义密码复杂性验证脚本，以强制执行适用于您站点的密码复杂性策略要求。</p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="keeping-your-oracle-database-secure.html#GUID-451679EB-8676-47E6-82A6-DF025FD65156" title="Oracle提供了保护密码的准则。">密码保护指南</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-CF1A8C33-5342-4257-AE8F-CF0BA437F65C" title="您可以通过多种方式保护用户密码，例如控制密码创建要求或使用密码管理策略。">配置密码保护</a></p>
                        </div>
                     </div>
                  </div>
               </div><a id="DBSEG487"></a><div class="props_rev_3"><a id="GUID-D55E84C4-051F-49F5-8EAB-4E96147AEAE1" name="GUID-D55E84C4-051F-49F5-8EAB-4E96147AEAE1"></a><h4 id="DBSEG-GUID-D55E84C4-051F-49F5-8EAB-4E96147AEAE1" class="sect4">使用IDENTIFIED BY子句创建密码</h4>
                  <div>
                     <p>接受<code class="codeph">IDENTIFIED BY</code>子句的SQL语句还允许您创建密码。
                     </p>
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>要为用户创建密码，请使用<code class="codeph">CREATE USER</code> ， <code class="codeph">ALTER USER</code> ， <code class="codeph">GRANT CREATE SESSION</code>或<code class="codeph">CREATE DATABASE LINK</code> SQL语句。
                              </p>
                           </li>
                        </ul>
                        <p>以下SQL语句使用<code class="codeph">IDENTIFIED BY</code>子句创建密码。
                        </p><pre class="oac_no_warn" dir="ltr">CREATE USER psmith IDENTIFIED BY <span class="italic">密码</span> ; GRANT创建会话以psmith IDENTIFIED BY <span class="italic">密码</span> ; ALTER USER psmith IDENTIFIED BY <span class="italic">密码</span> ;通过<span class="italic">密码</span>识别由psmith识别的创建数据库链接;</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="configuring-authentication.html#GUID-A39E191B-4A06-442D-94C7-5882B73DDCFA" title="复杂性验证检查每个密码是否足够复杂，以防止试图猜测用户密码的入侵者。">关于密码复杂性验证</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-CF1A8C33-5342-4257-AE8F-CF0BA437F65C" title="您可以通过多种方式保护用户密码，例如控制密码创建要求或使用密码管理策略。">配置密码保护</a></p>
                        </div>
                     </div>
                  </div>
               </div><a id="DBSEG99803"></a><div class="props_rev_3"><a id="GUID-75219D12-CBC8-4429-8512-90E7062371A8" name="GUID-75219D12-CBC8-4429-8512-90E7062371A8"></a><h4 id="DBSEG-GUID-75219D12-CBC8-4429-8512-90E7062371A8" class="sect4">使用密码管理策略</h4>
                  <div>
                     <p>密码管理策略可以创建和实施一组可以更好地保护用户密码的限制。</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="configuring-authentication.html#GUID-2E58B149-3DFA-480B-8AD0-9EB436B8CAAA">关于管理密码</a><br>依赖于密码的数据库安全系统要求密码始终保密。
                        </li>
                        <li class="ulchildlink"><a href="configuring-authentication.html#GUID-BA2A4A2A-27A6-4769-9259-98213D6027FE">查找具有默认密码的用户帐户</a><br><code class="codeph">DBA_USERS_WITH_DEFPWD</code>数据字典视图可以查找使用默认密码的用户帐户。
                        </li>
                        <li class="ulchildlink"><a href="configuring-authentication.html#GUID-7596C4EC-8AA6-4271-91E8-2C711B1BC0EC">默认配置文件中的密码设置</a><br>概要文件是一组参数，用于设置数据库资源的限制。
                        </li>
                        <li class="ulchildlink"><a href="configuring-authentication.html#GUID-5F1FF8A7-6DCC-49A6-B579-66E6AEB45296">使用ALTER PROFILE语句设置配置文件限制</a><br>您可以修改配置文件限制，例如登录尝试失败，密码锁定时间，密码重用以及其他一些设置。
                        </li>
                        <li class="ulchildlink"><a href="configuring-authentication.html#GUID-07944F15-D476-4498-A737-F0E26F8A6D73">禁用和启用默认密码安全设置</a><br>Oracle提供了可用于禁用和启用默认密码安全设置的脚本。
                        </li>
                        <li class="ulchildlink"><a href="configuring-authentication.html#GUID-ED98E6DA-A30C-4052-A343-B516CD641737">自动锁定非活动数据库用户帐户</a><br><code class="codeph">INACTIVE_ACCOUNT_TIME</code>配置文件参数锁定在指定天数内未登录到数据库实例的用户帐户。
                        </li>
                        <li class="ulchildlink"><a href="configuring-authentication.html#GUID-1C195218-DB04-4D8B-9B6E-476E580FDD0E">登录失败后自动锁定用户帐户</a><br>在指定数量的连续失败登录尝试后，Oracle数据库可以锁定用户的帐户。
                        </li>
                        <li class="ulchildlink"><a href="configuring-authentication.html#GUID-FB23704F-A4FF-4D3A-BDB8-77C3CF7C2B15">示例：使用CREATE PROFILE语句锁定帐户</a><br>如果用户尝试登录，则<code class="codeph">CREATE PROFILE</code>语句可以锁定用户帐户，这违反了<span class="apiname" translate="no">CREATE PROFILE</span>设置。
                        </li>
                        <li class="ulchildlink"><a href="configuring-authentication.html#GUID-E1516F52-6AC1-44DD-B47D-3FA57D189A23">明确锁定用户帐户</a><br>当您明确锁定用户帐户时，无法自动解锁该帐户。只有安全管理员才能解锁该帐户。
                        </li>
                        <li class="ulchildlink"><a href="configuring-authentication.html#GUID-F311F283-B00B-4FA1-B1DE-402A4A1B6D85">控制用户重用以前密码的能力</a><br>您可以确保用户不会重复使用以前的密码一段时间或更改密码。
                        </li>
                        <li class="ulchildlink"><a href="configuring-authentication.html#GUID-B0D624CE-F316-46F9-892F-141DFBB8E08E">关于控制密码时效和过期</a><br>您可以指定密码生存期，之后密码将过期。
                        </li>
                        <li class="ulchildlink"><a href="configuring-authentication.html#GUID-74D20258-37A6-4A38-9B59-ED9347877FF0">使用CREATE PROFILE或ALTER PROFILE语句设置密码生存期</a><br>为密码设置生命周期时，用户必须在此生命周期结束时创建新密码。
                        </li>
                        <li class="ulchildlink"><a href="configuring-authentication.html#GUID-42270C87-2FBA-4BD0-89F9-781D4FAA4A81">检查用户帐户的状态</a><br>您可以检查任何帐户的状态，无论是开放，宽限还是过期。
                        </li>
                        <li class="ulchildlink"><a href="configuring-authentication.html#GUID-BED74427-BC63-4095-8829-1AF68411FC6B">密码更改生命周期</a><br>创建密码后，它将分为四个阶段的生命周期和宽限期。
                        </li>
                        <li class="ulchildlink"><a href="configuring-authentication.html#GUID-0741F88B-8B99-44C0-B944-3C41538A08EB">PASSWORD_LIFE_TIME配置文件参数低值</a><br>如果将<code class="codeph">CREATE PROFILE</code>或<code class="codeph">ALTER PROFILE</code>的<code class="codeph">PASSWORD_LIFE_TIME</code>参数设置为较低值（例如，1天），请务必小心。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-CF1A8C33-5342-4257-AE8F-CF0BA437F65C" title="您可以通过多种方式保护用户密码，例如控制密码创建要求或使用密码管理策略。">配置密码保护</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="DBSEG99804"></a><div class="props_rev_3"><a id="GUID-2E58B149-3DFA-480B-8AD0-9EB436B8CAAA" name="GUID-2E58B149-3DFA-480B-8AD0-9EB436B8CAAA"></a><h5 id="DBSEG-GUID-2E58B149-3DFA-480B-8AD0-9EB436B8CAAA" class="sect5">关于管理密码</h5>
                     <div>
                        <p>依赖于密码的数据库安全系统要求密码始终保密。</p>
                        <p>由于密码容易被盗和滥用，因此Oracle数据库使用密码管理策略。数据库管理员和安全人员通过用户配置文件控制此策略，从而可以更好地控制数据库安</p>
                        <p>您可以使用<code class="codeph">CREATE PROFILE</code>语句创建用户配置文件。使用<code class="codeph">CREATE USER</code>或<code class="codeph">ALTER USER</code>语句将配置文件分配给用户。
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-75219D12-CBC8-4429-8512-90E7062371A8" title="密码管理策略可以创建和实施一组可以更好地保护用户密码的限制。">使用密码管理策略</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG33222"></a><div class="props_rev_3"><a id="GUID-BA2A4A2A-27A6-4769-9259-98213D6027FE" name="GUID-BA2A4A2A-27A6-4769-9259-98213D6027FE"></a><h5 id="DBSEG-GUID-BA2A4A2A-27A6-4769-9259-98213D6027FE" class="sect5">查找具有默认密码的用户帐户</h5>
                     <div>
                        <p><code class="codeph">DBA_USERS_WITH_DEFPWD</code>数据字典视图可以查找使用默认密码的用户帐户。
                        </p>
                        <div class="section">
                           <p>创建数据库时，大多数默认帐户都会被锁定，密码已过期。如果您已从早期版本的Oracle数据库升级，那么您可能拥有具有默认密码的用户帐户。这些是在创建数据库时创建的默认帐户，例如<code class="codeph">HR</code> ， <code class="codeph">OE</code>和<code class="codeph">SCOTT</code>帐户。
                           </p>
                           <p>为了提高安全性，您应该更改这些帐户的密码。使用众所周知的默认密码可能会使您的数据库容易受到入侵者的攻击。</p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>使用带有<code class="codeph">SYSDBA</code>管理权限的SQL * Plus登录数据库实例。</span><div>
                                 <p>例如：</p><pre class="oac_no_warn" dir="ltr">sqlplus sys as sysdba输入密码： <span class="italic">password</span>
</pre></div>
                           </li>
                           <li class="stepexpand"><span>查询<code class="codeph">DBA_USERS_WITH_DEFPWD</code>数据字典视图。</span><div>
                                 <p>例如，要查找具有默认密码和帐户状态的帐户的名称，请执行以下操作：</p><pre class="oac_no_warn" dir="ltr">SELECT d.username，u.account_status FROM DBA_USERS_WITH_DEFPWD d，DBA_USERS u WHERE d.username = u.username ORDER BY 2,1; USERNAME ACCOUNT_STATUS --------- --------------------------- SCOTT EXPIRED＆LOCKED</pre></div>
                           </li>
                           <li class="stepexpand"><span>更改<code class="codeph">DBA_USERS_WITH_DEFPWD</code>视图列出的任何帐户的密码。</span><div>
                                 <p>Oracle建议您不要<span class="bold">将</span>密码分配这些账户，他们可以在Oracle数据库的早期版本中都有了。
                                 </p>
                                 <p>例如：</p><pre class="oac_no_warn" dir="ltr">更改用户SCOTT帐户解锁<span class="italic">密码</span>识别;</pre><p>请遵循<a href="configuring-authentication.html#GUID-AA1AA635-1CD5-422E-B8CA-681ED7C253CA" title="Oracle provides a set of minimum requirements for passwords.">密码最低要求中</a>的准则，使用安全<a href="configuring-authentication.html#GUID-AA1AA635-1CD5-422E-B8CA-681ED7C253CA" title="Oracle提供了一组密码的最低要求。">密码</a>替换<span class="italic"><code class="codeph">password</code></span> 。
                                 </p>
                              </div>
                           </li>
                        </ol>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-75219D12-CBC8-4429-8512-90E7062371A8" title="密码管理策略可以创建和实施一组可以更好地保护用户密码的限制。">使用密码管理策略</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG99805"></a><a id="DBSEG30323"></a><div class="props_rev_3"><a id="GUID-7596C4EC-8AA6-4271-91E8-2C711B1BC0EC" name="GUID-7596C4EC-8AA6-4271-91E8-2C711B1BC0EC"></a><h5 id="DBSEG-GUID-7596C4EC-8AA6-4271-91E8-2C711B1BC0EC" class="sect5">默认配置文件中的密码设置</h5>
                     <div>
                        <p>概要文件是一组参数，用于设置数据库资源的限制。</p>
                        <p>如果将配置文件分配给用户，则该用户不能超过这些限制。您可以使用配置文件来配置数据库设置，例如每个用户的会话，日志记录和跟踪功能等。配置文件还可以控制用户密码。要查找有关配置文件中当前密码设置的信息，可以查询<code class="codeph">DBA_PROFILES</code>数据字典视图。
                        </p>
                        <p><a href="configuring-authentication.html#GUID-7596C4EC-8AA6-4271-91E8-2C711B1BC0EC__CHDEGBEG" title="默认配置文件中的密码设置">表3-1</a>列出了默认配置文件中特定于密码的参数设置。
                        </p>
                        <div class="tblformal" id="GUID-7596C4EC-8AA6-4271-91E8-2C711B1BC0EC__CHDEGBEG">
                           <p class="titleintable">表3-1默认配置文件中的密码特定设置</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="默认配置文件中的密码特定设置" width="100%" border="1" summary="Password settings in default profile" frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="32%" id="d20073e1858">参数</th>
                                    <th align="left" valign="bottom" width="19%" id="d20073e1861">默认设置</th>
                                    <th align="left" valign="bottom" width="49%" id="d20073e1864">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="32%" id="d20073e1869" headers="d20073e1858 ">
                                       <p><code class="codeph">INACTIVE_ACCOUNT_TIME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="19%" headers="d20073e1869 d20073e1861 ">
                                       <p><code class="codeph">无限</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="49%" headers="d20073e1869 d20073e1864 ">
                                       <p>锁定在指定天数内未登录数据库实例的数据库用户的帐户。</p>
                                       <p>有关详细信息，请参阅<a href="configuring-authentication.html#GUID-ED98E6DA-A30C-4052-A343-B516CD641737" title="INACTIVE_ACCOUNT_TIME配置文件参数锁定在指定天数内未登录到数据库实例的用户帐户。">自动锁定非活动数据库用户帐户</a> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="32%" id="d20073e1893" headers="d20073e1858 ">
                                       <p><code class="codeph">FAILED_LOGIN_ATTEMPTS</code></p>
                                    </td>
                                    <td align="left" valign="top" width="19%" headers="d20073e1893 d20073e1861 ">
                                       <p><code class="codeph">10</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="49%" headers="d20073e1893 d20073e1864 ">
                                       <p>设置用户在锁定帐户之前尝试登录和失败的最大次数。</p>
                                       <p><span class="bold">笔记：</span></p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p>设置此参数时，请考虑可以使用<code class="codeph">CONNECT THROUGH</code>权限登录的用户。
                                             </p>
                                          </li>
                                          <li>
                                             <p>您可以使用<code class="codeph">SEC_MAX_FAILED_LOGIN_ATTEMPTS</code>初始化参数设置未授权用户（可能是入侵者）尝试登录Oracle Call Interface（OCI）应用程序的<code class="codeph">SEC_MAX_FAILED_LOGIN_ATTEMPTS</code> 。有关此参数的详细信息，请参阅<a href="managing-security-for-application-developers.html#GUID-994A09FB-7D7A-44BC-9757-EAA6232CC3BA" title="SEC_MAX_FAILED_LOGIN_ATTEMPTS初始化参数设置数据库丢弃失败连接之前的身份验证尝试次数。">配置最大身份验证尝试次数</a> 。
                                             </p>
                                             <p>有关详细信息，另请参阅<a href="configuring-authentication.html#GUID-1C195218-DB04-4D8B-9B6E-476E580FDD0E" title="在指定数量的连续失败登录尝试后，Oracle数据库可以锁定用户的帐户。">登录失败后自动锁定用户帐户</a> 。
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="32%" id="d20073e1939" headers="d20073e1858 ">
                                       <p><code class="codeph">PASSWORD_GRACE_TIME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="19%" headers="d20073e1939 d20073e1861 ">
                                       <p><code class="codeph">7</code></p>
                                    </td>
                                    <td align="left" valign="top" width="49%" headers="d20073e1939 d20073e1864 ">
                                       <p>设置用户在密码到期之前必须更改密码的天数。</p>
                                       <p>有关详细信息，请参阅<a href="configuring-authentication.html#GUID-B0D624CE-F316-46F9-892F-141DFBB8E08E" title="您可以指定密码生存期，之后密码将过期。">关于控制密码时效和过期</a> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="32%" id="d20073e1959" headers="d20073e1858 ">
                                       <p><code class="codeph">PASSWORD_LIFE_TIME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="19%" headers="d20073e1959 d20073e1861 ">
                                       <p><code class="codeph">180</code></p>
                                    </td>
                                    <td align="left" valign="top" width="49%" headers="d20073e1959 d20073e1864 ">
                                       <p>设置用户可以使用其当前密码的天数。</p>
                                       <p>有关详细信息，请参阅<a href="configuring-authentication.html#GUID-B0D624CE-F316-46F9-892F-141DFBB8E08E" title="您可以指定密码生存期，之后密码将过期。">关于控制密码时效和过期</a> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="32%" id="d20073e1979" headers="d20073e1858 ">
                                       <p><code class="codeph">PASSWORD_LOCK_TIME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="19%" headers="d20073e1979 d20073e1861 ">
                                       <p><code class="codeph">1</code></p>
                                    </td>
                                    <td align="left" valign="top" width="49%" headers="d20073e1979 d20073e1864 ">
                                       <p>设置在指定的连续失败登录尝试次数后帐户将被锁定的天数。时间过后，帐户将解锁。此用户的配置文件参数有助于防止对用户密码的暴力攻击，但不会增加管理员的维护负担。</p>
                                       <p>有关详细信息，请参阅<a href="configuring-authentication.html#GUID-1C195218-DB04-4D8B-9B6E-476E580FDD0E" title="在指定数量的连续失败登录尝试后，Oracle数据库可以锁定用户的帐户。">登录失败后自动锁定用户帐户</a> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="32%" id="d20073e1999" headers="d20073e1858 ">
                                       <p><code class="codeph">PASSWORD_REUSE_MAX</code></p>
                                    </td>
                                    <td align="left" valign="top" width="19%" headers="d20073e1999 d20073e1861 ">
                                       <p><code class="codeph">无限</code></p>
                                    </td>
                                    <td align="left" valign="top" width="49%" headers="d20073e1999 d20073e1864 ">
                                       <p>设置在重用当前密码之前所需的密码更改次数。</p>
                                       <p>有关详细信息，请参阅<a href="configuring-authentication.html#GUID-F311F283-B00B-4FA1-B1DE-402A4A1B6D85" title="您可以确保用户不会重复使用以前的密码一段时间或更改密码。">控制用户重用以前密码的能力</a> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="32%" id="d20073e2019" headers="d20073e1858 ">
                                       <p><code class="codeph">PASSWORD_REUSE_TIME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="19%" headers="d20073e2019 d20073e1861 ">
                                       <p><code class="codeph">无限</code></p>
                                    </td>
                                    <td align="left" valign="top" width="49%" headers="d20073e2019 d20073e1864 ">
                                       <p>设置无法重复使用密码的天数。</p>
                                       <p>有关详细信息，请参阅<a href="configuring-authentication.html#GUID-F311F283-B00B-4FA1-B1DE-402A4A1B6D85" title="您可以确保用户不会重复使用以前的密码一段时间或更改密码。">控制用户重用以前密码的能力</a> 。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>相关话题</strong></p>
                           <ul>
                              <li><a href="managing-security-for-oracle-database-users.html#GUID-4A801626-019B-4234-869E-9C2C7877E7D6" title="配置文件是一组命名的资源限制和密码参数，用于限制用户的数据库使用和实例资源。">使用配置文件管理资源</a></li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-75219D12-CBC8-4429-8512-90E7062371A8" title="密码管理策略可以创建和实施一组可以更好地保护用户密码的限制。">使用密码管理策略</a></p>
                           </div>
                        </div>
                     </div>
                  </div><a id="DBSEG848"></a><div class="props_rev_3"><a id="GUID-5F1FF8A7-6DCC-49A6-B579-66E6AEB45296" name="GUID-5F1FF8A7-6DCC-49A6-B579-66E6AEB45296"></a><h5 id="DBSEG-GUID-5F1FF8A7-6DCC-49A6-B579-66E6AEB45296" class="sect5">使用ALTER PROFILE语句设置配置文件限制</h5>
                     <div>
                        <p>您可以修改配置文件限制，例如登录尝试失败，密码锁定时间，密码重用以及其他一些设置。</p>
                        <div class="section">
                           <p><a href="configuring-authentication.html#GUID-7596C4EC-8AA6-4271-91E8-2C711B1BC0EC__CHDEGBEG" title="默认配置文件中的密码设置">表3-1</a>中描述了这些设置。为了提高安全性，请根据您的需要使用此表中描述的默认设置。
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>使用<code class="codeph">ALTER PROFILE</code>语句修改用户的配置文件限制。
                                 </p>
                              </li>
                           </ul>
                           <p>例如：</p><pre class="oac_no_warn" dir="ltr">ALTER PROFILE prof LIMIT FAILED_LOGIN_ATTEMPTS 9 PASSWORD_LOCK_TIME 10 INACTIVE_ACCOUNT_TIME 21;</pre></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-75219D12-CBC8-4429-8512-90E7062371A8" title="密码管理策略可以创建和实施一组可以更好地保护用户密码的限制。">使用密码管理策略</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG33232"></a><div class="props_rev_3"><a id="GUID-07944F15-D476-4498-A737-F0E26F8A6D73" name="GUID-07944F15-D476-4498-A737-F0E26F8A6D73"></a><h5 id="DBSEG-GUID-07944F15-D476-4498-A737-F0E26F8A6D73" class="sect5">禁用和启用默认密码安全设置</h5>
                     <div>
                        <p>Oracle提供了可用于禁用和启用默认密码安全设置的脚本。</p>
                        <div class="section">如果您的应用程序使用Oracle Database <span class="italic">10g第</span> 2版（10.2）中的默认密码安全设置，则可以恢复这些设置，直到您修改应用程序以使用Oracle Database <span class="italic">11g</span>或更高版本中的默认密码安全设置。
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>修改您的应用程序以符合Oracle Database <span class="italic">11g</span>或更高版本中的密码安全设置。</span></li>
                           <li class="stepexpand"><span>使用以下方法之一更新数据库以使用适合您业务需求的安全配置：</span><div>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p>手动更新数据库安全配置。</p>
                                    </li>
                                    <li>
                                       <p>运行<code class="codeph">secconf.sql</code>脚本以应用Oracle Database <span class="italic">11g</span>或更高版本中的默认密码设置。如果愿意，您可以自定义此脚本以具有不同的安全设置，但请记住，原始脚本中列出的设置是Oracle建议的设置。
                                       </p>
                                    </li>
                                 </ul>
                              </div>
                           </li>
                        </ol>
                        <div class="section">
                           <p>如果手动创建了数据库，则应运行<code class="codeph">secconf.sql</code>脚本以将Oracle缺省密码设置应用于数据库。使用Database Configuration Assistant（DBCA）创建的数据库将具有这些设置，但手动创建的数据库不具有这些设置。
                           </p>
                           <p><code class="codeph">secconf.sql</code>脚本位于<code class="codeph">$ORACLE_HOME/rdbms/admin</code>目录中。<code class="codeph">secconf.sql</code>脚本会影响密码和审核设置。它对其他安全设置没有影响。
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-75219D12-CBC8-4429-8512-90E7062371A8" title="密码管理策略可以创建和实施一组可以更好地保护用户密码的限制。">使用密码管理策略</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-ED98E6DA-A30C-4052-A343-B516CD641737" name="GUID-ED98E6DA-A30C-4052-A343-B516CD641737"></a><h5 id="DBSEG-GUID-ED98E6DA-A30C-4052-A343-B516CD641737" class="sect5">自动锁定非活动数据库用户帐户</h5>
                     <div>
                        <p><code class="codeph">INACTIVE_ACCOUNT_TIME</code>配置文件参数锁定在指定天数内未登录到数据库实例的用户帐户。
                        </p>
                        <div class="section">如果用户定期登录，则将其视为活动用户。<code class="codeph">INACTIVE_ACCOUNT_TIME</code>时间基于用户上次成功登录后的天数。
                        </div>
                        <!-- class="section" -->
                        <ul>
                           <li class="stepexpand"><span>要在指定的天数后自动锁定用户帐户，请在<code class="codeph">CREATE PROFILE</code>或<code class="codeph">ALTER PROFILE</code>语句中设置<code class="codeph">INACTIVE_ACCOUNT_TIME</code>配置文件参数。</span><div>请注意以下事项：<ul style="list-style-type:disc">
                                    <li>
                                       <p><code class="codeph">INACTIVE_ACCOUNT_TIME</code>的默认值为<code class="codeph">UNLIMITED</code> 。</p>
                                    </li>
                                    <li>
                                       <p>您必须指定天数的整数。最小设置为<code class="codeph">15</code> ，最大值为<code class="codeph">24855</code> 。
                                       </p>
                                    </li>
                                    <li>
                                       <p>要将用户的帐户设置为具有无限的非活动时间，请将<code class="codeph">INACTIVE_ACCOUNT_TIME</code>设置为<code class="codeph">UNLIMITED</code> 。</p>
                                    </li>
                                    <li>
                                       <p>要将用户的帐户设置为使用默认配置文件指定的时间，请将<code class="codeph">INACTIVE_ACCOUNT_TIME</code>设置为<code class="codeph">DEFAULT</code> 。</p>
                                    </li>
                                    <li>
                                       <p>您可以为所有经过数据库身份验证的用户（包括管理用户）设置此参数，但不能为外部或全局身份验证用户设置此参数</p>
                                    </li>
                                    <li>
                                       <p>在只读数据库中， <code class="codeph">INACTIVE_ACCOUNT_TIME</code>时序中不考虑上次成功登录。无法将用户帐户锁定在只读数据库中（除了执行与帐户的<code class="codeph">FAILED_LOGIN_ATTEMPTS</code>密码配置文件设置数量相等的连续失败登录）。
                                       </p>
                                    </li>
                                    <li>
                                       <p>对于新创建的用户帐户，时间从帐户创建时开始。当此用户注销然后再次登录时，将在用户成功登录时开始计时。</p>
                                    </li>
                                    <li>
                                       <p>在多租户环境中， <code class="codeph">INACTIVE_ACCOUNT_TIME</code>设置适用于普通用户上次登录到根目录的时间。如果此用户登录到任何PDB或根目录，则认为普通用户处于活动状态。
                                       </p>
                                    </li>
                                    <li>
                                       <p>对于代理用户帐户登录， <code class="codeph">INACTIVE_ACCOUNT_TIME</code>开始代理用户成功登录的时间。
                                       </p>
                                    </li>
                                 </ul>
                              </div>
                           </li>
                        </ul>
                        <div class="example" id="GUID-ED98E6DA-A30C-4052-A343-B516CD641737__GUID-1ECC8A19-B3DA-453B-B0BE-AF642F9B4F9F">
                           <p>例如，要创建在60天处于非活动状态后锁定帐户的配置文件：</p><pre class="oac_no_warn" dir="ltr">CREATE PROFILE time_limit LIMIT INACTIVE_ACCOUNT_TIME 60;</pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-75219D12-CBC8-4429-8512-90E7062371A8" title="密码管理策略可以创建和实施一组可以更好地保护用户密码的限制。">使用密码管理策略</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG33233"></a><div class="props_rev_3"><a id="GUID-1C195218-DB04-4D8B-9B6E-476E580FDD0E" name="GUID-1C195218-DB04-4D8B-9B6E-476E580FDD0E"></a><h5 id="DBSEG-GUID-1C195218-DB04-4D8B-9B6E-476E580FDD0E" class="sect5">登录失败后自动锁定用户帐户</h5>
                     <div>
                        <p>在指定数量的连续失败登录尝试后，Oracle数据库可以锁定用户的帐户。</p>
                        <div class="section">
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>要在指定的时间间隔后自动锁定用户帐户或要求解锁数据库管理员干预，请在<code class="codeph">CREATE PROFILE</code>或<code class="codeph">ALTER PROFILE</code>语句中设置<code class="codeph">PASSWORD_LOCK_TIME</code>配置文件参数。
                                 </p>
                                 <p>例如，要将时间间隔设置为10天：</p><pre class="pre codeblock"><code>PASSWORD_LOCK_TIME = 10</code></pre></li>
                           </ul>
                           <p>请注意以下事项：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>您可以手动锁定帐户，以便数据库管理员必须明确解锁它们。</p>
                              </li>
                              <li>
                                 <p>您可以使用<code class="codeph">CREATE PROFILE</code>语句指定允许的登录尝试失败次数。您还可以指定帐户保持锁定的时间。
                                 </p>
                              </li>
                              <li>
                                 <p>每次用户登录失败时，Oracle数据库会在每次登录失败时以指数方式增加延迟。</p>
                              </li>
                              <li>
                                 <p>如果未指定解锁帐户的时间间隔，则<code class="codeph">PASSWORD_LOCK_TIME</code>将采用默认配置文件中指定的值。（建议值为1天。）如果将<code class="codeph">PASSWORD_LOCK_TIME</code>指定为<code class="codeph">UNLIMITED</code> ，则必须使用<code class="codeph">ALTER USER</code>语句显式解锁帐户。例如，假设为<code class="codeph">johndoe</code>指定了<code class="codeph">PASSWORD_LOCK_TIME</code> <code class="codeph">UNLIMITED</code> ，则使用以下语句解锁<code class="codeph">johndoe</code>帐户：</p><pre class="oac_no_warn" dir="ltr">ALTER USER johndoe ACCOUNT UNLOCK;</pre></li>
                              <li>
                                 <p>用户成功登录帐户后，Oracle数据库会重置用户的失败登录尝试计数。如果它不为零，则将计数设置为零。</p>
                              </li>
                              <li>
                                 <p>在多租户环境中，锁定的CDB公共用户帐户将被锁定在CDB中的所有PDB上。锁定的应用程序通用用户帐户将锁定在与应用程序根关联的所有PDB上。</p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-75219D12-CBC8-4429-8512-90E7062371A8" title="密码管理策略可以创建和实施一组可以更好地保护用户密码的限制。">使用密码管理策略</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG99806"></a><div class="props_rev_3"><a id="GUID-FB23704F-A4FF-4D3A-BDB8-77C3CF7C2B15" name="GUID-FB23704F-A4FF-4D3A-BDB8-77C3CF7C2B15"></a><h5 id="DBSEG-GUID-FB23704F-A4FF-4D3A-BDB8-77C3CF7C2B15" class="sect5">示例：使用CREATE PROFILE语句锁定帐户</h5>
                     <div>
                        <p>如果用户尝试登录，则<code class="codeph">CREATE PROFILE</code>语句可以锁定用户帐户，这违反了<span class="apiname" translate="no">CREATE PROFILE</span>设置。
                        </p>
                        <p><a href="configuring-authentication.html#GUID-FB23704F-A4FF-4D3A-BDB8-77C3CF7C2B15__CHDCCEII">示例3-1</a>将用户<code class="codeph">johndoe</code>的最大失败登录尝试次数设置为10（默认值），以及帐户锁定为30天的时间。该帐户将在30天后自动解锁。
                        </p>
                        <div class="example" id="GUID-FB23704F-A4FF-4D3A-BDB8-77C3CF7C2B15__CHDCCEII">
                           <p class="titleinexample">示例3-1使用CREATE PROFILE语句锁定帐户</p><pre class="oac_no_warn" dir="ltr">CREATE PROFILE prof LIMIT FAILED_LOGIN_ATTEMPTS 10 PASSWORD_GRACE_TIME 3 ALTER USER johndoe PROFILE prof;</pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-75219D12-CBC8-4429-8512-90E7062371A8" title="密码管理策略可以创建和实施一组可以更好地保护用户密码的限制。">使用密码管理策略</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="props_rev_3"><a id="GUID-E1516F52-6AC1-44DD-B47D-3FA57D189A23" name="GUID-E1516F52-6AC1-44DD-B47D-3FA57D189A23"></a><h5 id="DBSEG-GUID-E1516F52-6AC1-44DD-B47D-3FA57D189A23" class="sect5">明确锁定用户帐户</h5>
                     <div>
                        <p>当您明确锁定用户帐户时，无法自动解锁该帐户。只有安全管理员才能解锁该帐户。</p>
                        <div class="section">在多租户环境中，在CDB根目录中锁定CDB公共用户帐户后，此用户无法登录到与此根关联的任何PDB，也无法在PDB中解锁此帐户。此外，您可以在PDB中本地锁定CDB公共帐户，这将阻止CDB普通用户登录到该PDB。类似地，锁定在应用程序根目录中的应用程序公共用户帐户不能登录到与应用程序根目录关联的任何PDB，也不能在应用程序PDB中解锁应用程序公共用户。您可以在应用程序PDB中本地显式锁定应用程序公共用户。</div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>要显式锁定用户帐户，请使用<code class="codeph">CREATE USER</code>或<code class="codeph">ALTER USER</code>语句。
                                 </p>
                              </li>
                           </ul>
                           <p>例如，以下语句将锁定用户帐户<code class="codeph">susan</code> ：</p><pre class="oac_no_warn" dir="ltr">ALTER USER susan账户锁;</pre></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-75219D12-CBC8-4429-8512-90E7062371A8" title="密码管理策略可以创建和实施一组可以更好地保护用户密码的限制。">使用密码管理策略</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG99808"></a><a id="DBSEG99807"></a><div class="props_rev_3"><a id="GUID-F311F283-B00B-4FA1-B1DE-402A4A1B6D85" name="GUID-F311F283-B00B-4FA1-B1DE-402A4A1B6D85"></a><h5 id="DBSEG-GUID-F311F283-B00B-4FA1-B1DE-402A4A1B6D85" class="sect5">控制用户重用以前密码的能力</h5>
                     <div>
                        <p>您可以确保用户不会重复使用以前的密码一段时间或更改密码。</p>
                        <div class="section">
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>要确保用户无法在指定的时间段内重复使用其密码，请使用<code class="codeph">CREATE</code> <code class="codeph">PROFILE</code>或<code class="codeph">ALTER PROFILE</code>语句配置密码重用的规则。
                                 </p>
                              </li>
                           </ul>
                           <p><a href="configuring-authentication.html#GUID-F311F283-B00B-4FA1-B1DE-402A4A1B6D85__CHDEFBCG" title="此表列出并描述了密码重用参数：PASSWORD_RESUSE_TIME和PASSWORD_REUSE_MAX。">表3-2</a>列出了<code class="codeph">CREATE PROFILE</code>和<code class="codeph">ALTER PROFILE</code>参数，这些参数控制用户重用以前密码的能力。
                           </p>
                           <div class="tblformalwide" id="GUID-F311F283-B00B-4FA1-B1DE-402A4A1B6D85__CHDEFBCG">
                              <p class="titleintable">表3-2控制以前密码重用的参数</p>
                              <table cellpadding="4" cellspacing="0" class="FormalWide" title="控制重用先前密码的参数" width="100%" border="1" summary="This table lists and describes the password reuse parameters: PASSWORD_RESUSE_TIME and PASSWORD_REUSE_MAX." frame="hsides" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="40%" id="d20073e3267">参数名称</th>
                                       <th align="left" valign="bottom" width="60%" id="d20073e3270">描述和使用</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="40%" id="d20073e3275" headers="d20073e3267 ">
                                          <p><code class="codeph">PASSWORD_REUSE_TIME</code></p>
                                       </td>
                                       <td align="left" valign="top" width="60%" headers="d20073e3275 d20073e3270 ">
                                          <p>需要以下任一项：</p>
                                          <ul style="list-style-type:disc">
                                             <li>
                                                <p>一个数字，指定早期使用密码与下次使用之间的天数（或一天的一小部分）</p>
                                             </li>
                                             <li>
                                                <p><code class="codeph">UNLIMITED</code>这个词</p>
                                             </li>
                                          </ul>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="40%" id="d20073e3292" headers="d20073e3267 ">
                                          <p><code class="codeph">PASSWORD_REUSE_MAX</code></p>
                                       </td>
                                       <td align="left" valign="top" width="60%" headers="d20073e3292 d20073e3270 ">
                                          <p>需要以下任一项：</p>
                                          <ul style="list-style-type:disc">
                                             <li>
                                                <p>一个整数，用于指定在重用密码之前所需的密码更改次数</p>
                                             </li>
                                             <li>
                                                <p><code class="codeph">UNLIMITED</code>这个词</p>
                                             </li>
                                          </ul>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                           <p>如果您未指定参数，则用户可以随时重用密码，这不是一个好的安全措施。</p>
                           <p>如果两个参数都不是<code class="codeph">UNLIMITED</code> ，则允许密码重用，但仅在满足两个条件后才允许。用户必须已将密码更改指定的次数，并且自上次使用上一个密码以来必须经过指定的天数。
                           </p>
                           <p>例如，假设用户A的配置文件将<code class="codeph">PASSWORD_REUSE_MAX</code>设置为<code class="codeph">10</code> ，将<code class="codeph">PASSWORD_REUSE_TIME</code>设置为<code class="codeph">30</code> 。用户A在重置密码10次之前不能重复使用密码，直到密码上次使用30天为止。
                           </p>
                           <p>如果将任一参数指定为<code class="codeph">UNLIMITED</code> ，则用户永远不能重用密码。
                           </p>
                           <p>如果将两个参数都设置为<code class="codeph">UNLIMITED</code> ，则Oracle Database会忽略这两个参数，并且用户可以随时重用任何密码。
                           </p>
                           <div class="infoboxnote" id="GUID-F311F283-B00B-4FA1-B1DE-402A4A1B6D85__GUID-66812708-D387-493E-B7A8-15D5A63CDC6E">
                              <p class="notep1">注意：</p>
                              <p>如果为任一参数指定<code class="codeph">DEFAULT</code> ，则Oracle数据库使用<code class="codeph">DEFAULT</code>配置文件中定义的值，该值将所有参数设置为<code class="codeph">UNLIMITED</code> 。因此，Oracle数据库对指定为<code class="codeph">DEFAULT</code>任何参数使用<code class="codeph">UNLIMITED</code> ，除非您在<code class="codeph">DEFAULT</code>配置文件中更改该参数的设置。
                              </p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>相关话题</strong></p>
                           <ul>
                              <li><a href="../sqlrf/CREATE-PROFILE.html#SQLRF-GUID-ABC7AE4D-64A8-4EA9-857D-BEF7300B64C3" target="_blank"><span><cite>Oracle数据库SQL语言参考</cite></span></a></li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-75219D12-CBC8-4429-8512-90E7062371A8" title="密码管理策略可以创建和实施一组可以更好地保护用户密码的限制。">使用密码管理策略</a></p>
                           </div>
                        </div>
                     </div>
                  </div><a id="DBSEG33236"></a><div class="props_rev_3"><a id="GUID-B0D624CE-F316-46F9-892F-141DFBB8E08E" name="GUID-B0D624CE-F316-46F9-892F-141DFBB8E08E"></a><h5 id="DBSEG-GUID-B0D624CE-F316-46F9-892F-141DFBB8E08E" class="sect5">关于控制密码时效和过期</h5>
                     <div>
                        <p>您可以指定密码生存期，之后密码将过期。</p>
                        <p>这意味着下次用户使用当前正确的密码登录时，系统会提示他或她更改密码。默认情况下，没有复杂性或密码历史记录检查，因此用户仍然可以重用任何先前或弱密码。您可以通过设置<code class="codeph">PASSWORD_REUSE_TIME</code> ， <code class="codeph">PASSWORD_REUSE_MAX</code>和<code class="codeph">PASSWORD_VERIFY_FUNCTION</code>参数来控制这些因素。
                        </p>
                        <p>此外，您可以设置一个宽限期，在此期间每次登录数据库帐户的尝试都会收到一条警告消息以更改密码。如果用户在该时间段结束时未更改它，则Oracle数据库将使该帐户到期。</p>
                        <p>作为数据库管理员，您可以手动设置要过期的密码状态，这<code class="codeph">EXPIRED</code>帐户状态设置为<code class="codeph">EXPIRED</code> 。然后，用户必须按照提示更改密码才能继续登录。
                        </p>
                        <p>例如，在SQL * Plus中，假设用户<code class="codeph">SCOTT</code>尝试使用正确的凭据登录，但他的密码已过期。用户<code class="codeph">SCOTT</code>将看到<code class="codeph">ORA-28001: The password has expired</code>错误，并提示更改其密码，如下所示：</p><pre class="oac_no_warn" dir="ltr">更改scott的密码新密码： <span class="italic">new_password</span>重新输入新密码： <span class="italic">new_password</span>密码已更改。</pre></div>
                     <div>
                        <div class="relinfo">
                           <p><strong>相关话题</strong></p>
                           <ul>
                              <li><a href="configuring-authentication.html#GUID-F311F283-B00B-4FA1-B1DE-402A4A1B6D85" title="您可以确保用户不会重复使用以前的密码一段时间或更改密码。">控制用户重用以前密码的能力</a></li>
                              <li><a href="configuring-authentication.html#GUID-A39E191B-4A06-442D-94C7-5882B73DDCFA" title="复杂性验证检查每个密码是否足够复杂，以防止试图猜测用户密码的入侵者。">关于密码复杂性验证</a></li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-75219D12-CBC8-4429-8512-90E7062371A8" title="密码管理策略可以创建和实施一组可以更好地保护用户密码的限制。">使用密码管理策略</a></p>
                           </div>
                        </div>
                     </div>
                  </div><a id="DBSEG869"></a><div class="props_rev_3"><a id="GUID-74D20258-37A6-4A38-9B59-ED9347877FF0" name="GUID-74D20258-37A6-4A38-9B59-ED9347877FF0"></a><h5 id="DBSEG-GUID-74D20258-37A6-4A38-9B59-ED9347877FF0" class="sect5">使用CREATE PROFILE或ALTER PROFILE语句设置密码生存期</h5>
                     <div>
                        <p>为密码设置生命周期时，用户必须在此生命周期结束时创建新密码。</p>
                        <div class="section">
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>使用<code class="codeph">CREATE PROFILE</code>或<code class="codeph">ALTER PROFILE</code>语句指定密码的生存期。
                                 </p>
                              </li>
                           </ul>
                           <p>以下示例演示如何为用户<code class="codeph">johndoe</code>创建和分配配置文件， <code class="codeph">PASSWORD_LIFE_TIME</code>子句指定<code class="codeph">johndoe</code>在到期之前可以使用相同的密码180天。
                           </p><pre class="oac_no_warn" dir="ltr">CREATE PROFILE prof LIMIT FAILED_LOGIN_ATTEMPTS 4 PASSWORD_GRACE_TIME 3 PASSWORD_LIFE_TIME 180; ALTER USER johndoe PROFILE prof;</pre></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>相关话题</strong></p>
                           <ul>
                              <li><a href="configuring-authentication.html#GUID-BED74427-BC63-4095-8829-1AF68411FC6B" title="创建密码后，它将分为四个阶段的生命周期和宽限期。">密码更改生命周期</a></li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-75219D12-CBC8-4429-8512-90E7062371A8" title="密码管理策略可以创建和实施一组可以更好地保护用户密码的限制。">使用密码管理策略</a></p>
                           </div>
                        </div>
                     </div>
                  </div><a id="DBSEG870"></a><div class="props_rev_3"><a id="GUID-42270C87-2FBA-4BD0-89F9-781D4FAA4A81" name="GUID-42270C87-2FBA-4BD0-89F9-781D4FAA4A81"></a><h5 id="DBSEG-GUID-42270C87-2FBA-4BD0-89F9-781D4FAA4A81" class="sect5">检查用户帐户的状态</h5>
                     <div>
                        <p>您可以检查任何帐户的状态，无论是开放，宽限还是过期。</p>
                        <div class="section">
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>要检查用户帐户的状态，请查询<code class="codeph">DBA_USERS</code>数据字典视图的<code class="codeph">ACCOUNT_STATUS</code>列。
                                 </p>
                              </li>
                           </ul>
                           <p>例如：</p><pre class="oac_no_warn" dir="ltr">从DBA_USERS中选择ACCOUNT_STATUS WHERE USERNAME =' <span class="italic">username</span> ';</pre></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-75219D12-CBC8-4429-8512-90E7062371A8" title="密码管理策略可以创建和实施一组可以更好地保护用户密码的限制。">使用密码管理策略</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG99810"></a><a id="DBSEG334"></a><div class="props_rev_3"><a id="GUID-BED74427-BC63-4095-8829-1AF68411FC6B" name="GUID-BED74427-BC63-4095-8829-1AF68411FC6B"></a><h5 id="DBSEG-GUID-BED74427-BC63-4095-8829-1AF68411FC6B" class="sect5">密码更改生命周期</h5>
                     <div>
                        <p>创建密码后，它将分为四个阶段的生命周期和宽限期。</p>
                        <p><a href="configuring-authentication.html#GUID-BED74427-BC63-4095-8829-1AF68411FC6B__I1006685">图3-1</a>显示了密码生存期和宽限期的生命周期。
                        </p>
                        <div class="figure" id="GUID-BED74427-BC63-4095-8829-1AF68411FC6B__I1006685">
                           <p class="titleinfigure">图3-1密码更改生命周期</p><img src="img/admin107.png" alt="下面是图3-1的描述" title="下面是图3-1的描述" longdesc="img_text/admin107.html"><br><a href="img_text/admin107.html">“图3-1密码更改生命周期”的说明</a></div>
                        <!-- class="figure" -->
                        <p>在这个图中：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="bold">阶段1：</span>创建用户帐户或更改现有帐户的密码后，密码生存期开始。
                              </p>
                           </li>
                           <li>
                              <p><span class="bold">第2阶段：</span>这个阶段代表了时间的密码有效期结束<span class="italic">后</span> ，但在重新进行登录使用正确的密码<span class="italic">前</span>的时期。Oracle数据库需要正确的凭据才能更新帐户状态。否则，帐户状态将保持不变。Oracle数据库没有任何后台进程来更新帐户状态。对Oracle帐户状态的所有更改都由Oracle数据库服务器进程代表经过身份验证的用户驱动。
                              </p>
                           </li>
                           <li>
                              <p><span class="bold">阶段3：</span>当用户最终登录时，宽限期开始。然后，Oracle数据库使用当前时间加上帐户密码配置文件中<code class="codeph">PASSWORD_GRACE_TIME</code>设置的值，将<code class="codeph">DBA_USERS.EXPIRY_DATE</code>列更新为新值。此时，用户收到有关密码在不久的将来到期的<code class="codeph">ORA-28002</code>警告消息（例如， <code class="codeph">ORA-28002 The password will expire within 7</code>如果<code class="codeph">PASSWORD_GRACE_TIME</code>设置为<code class="codeph">7</code>天， <code class="codeph">ORA-28002 The password will expire within 7</code> <code class="codeph">days</code> <code class="codeph">ORA-28002 The password will expire within 7</code> ），但用户仍可以登录在不更改密码的情况下。<code class="codeph">DBA_USERS.EXPIRY_DATE</code>列显示将来提示用户更改其密码的时间。
                              </p>
                           </li>
                           <li>
                              <p><span class="bold">阶段4：</span>宽限期（阶段3）结束后，出现<code class="codeph">ORA-28001: The password has expired</code>错误，并在输入当前正确的密码后提示用户更改密码，然后才能进行身份验证。如果用户具有Oracle Active Data Guard配置，其中存在主数据库和备用数据库，并且在备用数据库（只读数据库）上进行身份验证尝试，那么<code class="codeph">ORA-28032: Your password has expired and the database is set to read-only</code>错误。用户应该登录主数据库并在那里更改密码。
                              </p>
                           </li>
                        </ul>
                        <p>在这四个阶段中的任何一个阶段中，您可以查询<code class="codeph">DBA_USERS</code>数据字典视图以在<code class="codeph">DBA_USERS.ACCOUNT_STATUS</code>列中查找用户的帐户状态。
                        </p>
                        <p>在以下示例中，分配给<code class="codeph">johndoe</code>的配置文件包括宽限期的规范： <code class="codeph">PASSWORD_GRACE_TIME = 3</code> （建议值）。<code class="codeph">johndoe</code>第一次尝试在90天后登录数据库（这可能是第90天之后的<span class="italic">任何</span>一天，即第91天，第100天或另一天），他收到一条警告消息，说明他的密码将过期在3天内。如果3天过去了，如果他没有更改密码，则密码过期。在此之后，他会在任何登录尝试时收到更改密码的提示。
                        </p><pre class="oac_no_warn" dir="ltr">CREATE PROFILE prof LIMIT FAILED_LOGIN_ATTEMPTS 4 PASSWORD_LIFE_TIME 90 PASSWORD_GRACE_TIME 3; ALTER USER johndoe PROFILE prof;</pre><p>具有<code class="codeph">ALTER USER</code>系统特权的数据库管理员或用户可以使用<code class="codeph">CREATE USER</code>和<code class="codeph">ALTER USER</code>语句显式使密码到期。以下语句创建一个密码已过期的用户。此设置强制用户在用户登录数据库之前更改密码。
                        </p><pre class="oac_no_warn" dir="ltr">CREATE USER jbrown IDENTIFIED BY <span class="italic">password</span> ...密码出口;</pre><p><code class="codeph">CREATE USER</code>语句没有“password unexpire”子句，但通过更改帐户密码，帐户可以“未过期”。
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-75219D12-CBC8-4429-8512-90E7062371A8" title="密码管理策略可以创建和实施一组可以更好地保护用户密码的限制。">使用密码管理策略</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG567"></a><div class="props_rev_3"><a id="GUID-0741F88B-8B99-44C0-B944-3C41538A08EB" name="GUID-0741F88B-8B99-44C0-B944-3C41538A08EB"></a><h5 id="DBSEG-GUID-0741F88B-8B99-44C0-B944-3C41538A08EB" class="sect5">PASSWORD_LIFE_TIME配置文件参数低值</h5>
                     <div>
                        <p>如果将<code class="codeph">CREATE PROFILE</code>或<code class="codeph">ALTER PROFILE</code>的<code class="codeph">PASSWORD_LIFE_TIME</code>参数设置为较低值（例如，1天），请务必小心。
                        </p>
                        <p>配置文件的<code class="codeph">PASSWORD_LIFE_TIME</code>限制是从上次更改帐户密码时开始计算的，或者是从未更改过密码的帐户创建时间。这些日期记录在<code class="codeph">SYS.USER$</code>系统表的<code class="codeph">PTIME</code> （密码更改时间）和<code class="codeph">CTIME</code> （帐户创建时间）列中。<code class="codeph">PASSWORD_LIFE_TIME</code>限制不是从最后一次更改到<code class="codeph">PASSWORD_LIFE_TIME</code>配置文件参数的时间戳开始测量的，这可能是最初的想法。因此，受上次密码更改时间超过<code class="codeph">PASSWORD_LIFE_TIME</code>天之前更改的配置文件影响的任何帐户将立即过期，并在下次连接时输入其宽限期，发出<code class="codeph">ORA-28002: The password will expire within</code> <span class="italic"><code class="codeph">n</code></span> <code class="codeph">days</code> <code class="codeph">ORA-28002: The password will expire within</code>警告。
                        </p>
                        <p>作为数据库管理员，您可以按如下方式查找帐户的上次密码更改时间：</p><pre class="oac_no_warn" dir="ltr">ALTER SESSION SET NLS_DATE_FORMAT ='DD-MON-YYYY HH24：MI：SS'; SELECT PTIME FROM SYS.USER $ WHERE NAME =' <span class="italic">user_name</span> '; <span class="italic"> - 密码更改时间</span>
</pre><p>要查找帐户的创建时间和密码到期日期，请发出以下查询：</p><pre class="oac_no_warn" dir="ltr">SELECT CREATED，EXPIRY_DATE FROM DBA_USERS WHERE USERNAME =' <span class="italic">user_name</span> ';</pre><p>如果在您设置<code class="codeph">PASSWORD_LIFE_TIME</code>参数并且仍然登录时，当前已分配此配置文件的用户已登录，则当前列出的过期日期过去时，Oracle数据库不会将用户的帐户状态从<code class="codeph">OPEN</code>更改为<code class="codeph">EXPIRED(GRACE)</code> 。只有当用户登录数据库时才开始计时。您可以按如下方式检查用户的上次登录时间：</p><pre class="oac_no_warn" dir="ltr">从DBA_USERS中选择LAST_LOGIN WHERE USERNAME =' <span class="italic">user_name</span> ';</pre><p>更改密码配置文件时，数据库管理员必须知道，如果管理员正在更新其密码配置文件时，某些受此配置文件约束的用户当前已登录到Oracle数据库，那么这些用户可能会即使在密码到期日之后仍保持登录系统。您可以通过查询<code class="codeph">V$SESSION</code>视图的<code class="codeph">USERNAME</code>列找到当前登录的用户。
                        </p>
                        <p>这是因为用户密码的到期日期取决于其帐户上次更改密码的时间戳加上管理员设置的<code class="codeph">PASSWORD_LIFE_TIME</code>密码配置文件参数的值。它<span class="italic">不是</span>基于密码配置文件本身的最后一次更改的时间戳。
                        </p>
                        <p>请注意以下事项：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>如果在将<code class="codeph">PASSWORD_LIFE_TIME</code>设置为较低值时用户未登录，则在用户登录之前，用户的帐户状态不会更改。
                              </p>
                           </li>
                           <li>
                              <p>您可以将<code class="codeph">PASSWORD_LIFE_TIME</code>参数设置为<code class="codeph">UNLIMITED</code> ，但这仅影响尚未进入宽限期的帐户。宽限期到期后，用户必须更改密码。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-75219D12-CBC8-4429-8512-90E7062371A8" title="密码管理策略可以创建和实施一组可以更好地保护用户密码的限制。">使用密码管理策略</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="DBSEG342"></a><div class="props_rev_3"><a id="GUID-00BED08C-E064-4824-9697-C7219CB8D3AB" name="GUID-00BED08C-E064-4824-9697-C7219CB8D3AB"></a><h4 id="DBSEG-GUID-00BED08C-E064-4824-9697-C7219CB8D3AB" class="sect4">管理密码的复杂性</h4>
                  <div>
                     <p>Oracle数据库提供了一组可用于管理密码复杂性的功能。</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="configuring-authentication.html#GUID-A39E191B-4A06-442D-94C7-5882B73DDCFA">关于密码复杂性验证</a><br>复杂性验证检查每个密码是否足够复杂，以防止试图猜测用户密码的入侵者。
                        </li>
                        <li class="ulchildlink"><a href="configuring-authentication.html#GUID-7B21CE5C-0698-4926-8F71-A05394581DDC">Oracle数据库如何检查密码的复杂性</a><br>Oracle数据库提供四种密码验证功能来检查密码复杂性。
                        </li>
                        <li class="ulchildlink"><a href="configuring-authentication.html#GUID-5C3547D0-3087-457F-AB62-3806B37CB813">谁可以使用密码复杂功能？</a><br>密码复杂性功能使您可以自定义用户访问数据的方式。
                        </li>
                        <li class="ulchildlink"><a href="configuring-authentication.html#GUID-02A1B034-4EB3-4CC2-B7C8-1811581D3DE1">verify_function_11G功能密码要求</a><br><code class="codeph">verify_function_11G</code>函数源自Oracle Database Release 11 <span class="italic">g</span> 。
                        </li>
                        <li class="ulchildlink"><a href="configuring-authentication.html#GUID-F09749BF-2881-4EE5-B59D-041E4796BAC4">ora12c_verify_function密码要求</a><br><code class="codeph">ora12c_verify_function</code>函数满足<span class="italic">国防部数据库安全技术实施指南的</span>要求。
                        </li>
                        <li class="ulchildlink"><a href="configuring-authentication.html#GUID-1168CD4D-659E-432D-9CB7-F5733129657D">ora12c_strong_verify_function功能密码要求</a><br><code class="codeph">ora12c_strong_verify_function</code>函数满足<span class="italic">国防部数据库安全技术实施指南的</span>要求。
                        </li>
                        <li class="ulchildlink"><a href="configuring-authentication.html#GUID-C215C4D6-C106-44E7-BE09-26D15415C67B">ora12c_stig_verify_function密码要求</a><br><code class="codeph">ora12c_stig_verify_function</code>函数满足安全技术实施指南（STIG）的要求。
                        </li>
                        <li class="ulchildlink"><a href="configuring-authentication.html#GUID-38B80221-55AE-4928-9AC0-4CAFFD5A4E96">关于自定义密码复杂性验证</a><br>Oracle数据库使您可以自定义站点的密码复杂性。
                        </li>
                        <li class="ulchildlink"><a href="configuring-authentication.html#GUID-F48598E4-2D72-4A3B-8904-AD6D2C67D715">启用密码复杂性验证</a><br>可以自定义<code class="codeph">catpvf.sql</code>脚本以启用密码复杂性验证。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-CF1A8C33-5342-4257-AE8F-CF0BA437F65C" title="您可以通过多种方式保护用户密码，例如控制密码创建要求或使用密码管理策略。">配置密码保护</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="DBSEG33224"></a><div class="props_rev_3"><a id="GUID-A39E191B-4A06-442D-94C7-5882B73DDCFA" name="GUID-A39E191B-4A06-442D-94C7-5882B73DDCFA"></a><h5 id="DBSEG-GUID-A39E191B-4A06-442D-94C7-5882B73DDCFA" class="sect5">关于密码复杂性验证</h5>
                     <div>
                        <p>复杂性验证检查每个密码是否足够复杂，以防止试图猜测用户密码的入侵者。</p>
                        <p>使用复杂性验证功能会强制用户为数据库用户帐户创建强大，安全的密码。您必须确保用户的密码足够复杂，以便为试图通过猜测密码进入系统的入侵者提供合理的保护。</p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-00BED08C-E064-4824-9697-C7219CB8D3AB" title="Oracle数据库提供了一组可用于管理密码复杂性的功能。">管理密码的复杂性</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG845"></a><div class="props_rev_3"><a id="GUID-7B21CE5C-0698-4926-8F71-A05394581DDC" name="GUID-7B21CE5C-0698-4926-8F71-A05394581DDC"></a><h5 id="DBSEG-GUID-7B21CE5C-0698-4926-8F71-A05394581DDC" class="sect5">Oracle数据库如何检查密码的复杂性</h5>
                     <div>
                        <p>Oracle数据库提供四种密码验证功能来检查密码复杂性。</p>
                        <p>这些函数位于<code class="codeph">catpvf.sql</code> PL / SQL脚本中（位于<code class="codeph">$ORACLE_HOME/rdbms/admin</code> ）。启用这些功能后，他们可以检查用户是否正确创建或修改其密码。启用后，不会对用户<code class="codeph">SYS</code>强制执行密码复杂性检查;它仅适用于非<code class="codeph">SYS</code>用户。为了更好地保护密码，Oracle建议您将密码验证功能与默认配置文件相关联。<a href="configuring-authentication.html#GUID-38B80221-55AE-4928-9AC0-4CAFFD5A4E96" title="Oracle数据库使您可以自定义站点的密码复杂性。">关于自定义密码复杂性验证</a>提供了如何完成此操作的示例。
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-00BED08C-E064-4824-9697-C7219CB8D3AB" title="Oracle数据库提供了一组可用于管理密码复杂性的功能。">管理密码的复杂性</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG871"></a><div class="props_rev_3"><a id="GUID-5C3547D0-3087-457F-AB62-3806B37CB813" name="GUID-5C3547D0-3087-457F-AB62-3806B37CB813"></a><h5 id="DBSEG-GUID-5C3547D0-3087-457F-AB62-3806B37CB813" class="sect5">谁可以使用密码复杂功能？</h5>
                     <div>
                        <p>密码复杂性功能使您可以自定义用户访问数据的方式。</p>
                        <p>在<code class="codeph">CREATE PROFILE</code>或<code class="codeph">ALTER PROFILE</code>语句中使用密码复杂性验证功能之前，必须为其授予<code class="codeph">EXECUTE</code>特权。
                        </p>
                        <p>密码验证功能位于<code class="codeph">SYS</code>架构中。
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-00BED08C-E064-4824-9697-C7219CB8D3AB" title="Oracle数据库提供了一组可用于管理密码复杂性的功能。">管理密码的复杂性</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG1135"></a><div class="props_rev_3"><a id="GUID-02A1B034-4EB3-4CC2-B7C8-1811581D3DE1" name="GUID-02A1B034-4EB3-4CC2-B7C8-1811581D3DE1"></a><h5 id="DBSEG-GUID-02A1B034-4EB3-4CC2-B7C8-1811581D3DE1" class="sect5">verify_function_11G功能密码要求</h5>
                     <div>
                        <p><code class="codeph">verify_function_11G</code>函数源自Oracle Database Release 11 <span class="italic">g</span> 。
                        </p>
                        <div class="infoboxnote" id="GUID-02A1B034-4EB3-4CC2-B7C8-1811581D3DE1__GUID-53AF86EF-F38D-4D5E-9952-9FD0D3CE6F48">
                           <p class="notep1">注意：</p>
                           <p>不推荐使用<code class="codeph">verify_function_11G</code>函数，因为它强制实施早期版本的Oracle数据库中较弱的密码限制。相反，您应该使用<code class="codeph">ORA12C_VERIFY_FUNCTION</code> ， <code class="codeph">ORA12C_STRONG_VERIFY_FUNCTION</code> ， <code class="codeph">ORA12C_STIG_VERIFY_FUNCTION</code>函数，这些函数可以强制执行更强大，更新的密码验证限制。
                           </p>
                        </div>
                        <p>用户在创建或修改密码时检查以下要求：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>密码包含不少于8个字符，并包含至少一个数字和一个字母字符。</p>
                           </li>
                           <li>
                              <p>密码与用户名不同，也不是用户名反转或附加数字1-100。</p>
                           </li>
                           <li>
                              <p>密码与服务器名称或附加编号为1-100的服务器名称不同。</p>
                           </li>
                           <li>
                              <p>密码不包含<code class="codeph">oracle</code> （例如，附加数字1-100的<code class="codeph">oracle</code> ）。
                              </p>
                           </li>
                           <li>
                              <p>密码不是太简单（例如， <code class="codeph">welcome1</code> ， <code class="codeph">database1</code> ， <code class="codeph">account1</code> ， <code class="codeph">user1234</code> ， <code class="codeph">password1</code> ， <code class="codeph">oracle123</code> ， <code class="codeph">computer1</code> ， <code class="codeph">abcdefg1</code>或<code class="codeph">change_on_install</code> ）。
                              </p>
                           </li>
                           <li>
                              <p>密码与以前的密码相差至少3个字符。</p>
                           </li>
                        </ul>
                        <p>还应用以下内部检查：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>密码不包含双引号字符（ <code class="codeph">"</code> ）。但是，它可以用双引号括起来。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-00BED08C-E064-4824-9697-C7219CB8D3AB" title="Oracle数据库提供了一组可用于管理密码复杂性的功能。">管理密码的复杂性</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG1136"></a><div class="props_rev_3"><a id="GUID-F09749BF-2881-4EE5-B59D-041E4796BAC4" name="GUID-F09749BF-2881-4EE5-B59D-041E4796BAC4"></a><h5 id="DBSEG-GUID-F09749BF-2881-4EE5-B59D-041E4796BAC4" class="sect5">ora12c_verify_function密码要求</h5>
                     <div>
                        <p><code class="codeph">ora12c_verify_function</code>函数满足<span class="italic">国防部数据库安全技术实施指南的</span>要求。
                        </p>
                        <p>用户在创建或修改密码时检查以下要求：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>密码包含不少于8个字符，并包含至少一个数字和一个字母字符。</p>
                           </li>
                           <li>
                              <p>密码与用户名或用户名颠倒不同。</p>
                           </li>
                           <li>
                              <p>密码与数据库名称不同。</p>
                           </li>
                           <li>
                              <p>密码不包含单词<code class="codeph">oracle</code> （例如<code class="codeph">oracle123</code> ）。
                              </p>
                           </li>
                           <li>
                              <p>密码与以前的密码相差至少8个字符。</p>
                           </li>
                           <li>
                              <p>密码至少包含1个特殊字符。</p>
                           </li>
                        </ul>
                        <p>还应用以下内部检查：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>密码不包含双引号字符（ <code class="codeph">"</code> ）。但是，它可以用双引号括起来。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-00BED08C-E064-4824-9697-C7219CB8D3AB" title="Oracle数据库提供了一组可用于管理密码复杂性的功能。">管理密码的复杂性</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG1137"></a><div class="props_rev_3"><a id="GUID-1168CD4D-659E-432D-9CB7-F5733129657D" name="GUID-1168CD4D-659E-432D-9CB7-F5733129657D"></a><h5 id="DBSEG-GUID-1168CD4D-659E-432D-9CB7-F5733129657D" class="sect5">ora12c_strong_verify_function功能密码要求</h5>
                     <div>
                        <p><code class="codeph">ora12c_strong_verify_function</code>函数满足<span class="italic">国防部数据库安全技术实施指南的</span>要求。
                        </p>
                        <p>用户在创建或修改密码时检查以下要求：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>密码必须至少包含2个大写字符，2个小写字符，2个数字字符和2个特殊字符。这些特殊字符如下：</p><pre class="oac_no_warn" dir="ltr">'〜！@＃$％^＆*（）_  -  + = {} [] \ / &lt;&gt; ,.; ？'：| （空间）</pre></li>
                           <li>
                              <p>密码必须与以前的密码相差至少4个字符。</p>
                           </li>
                        </ul>
                        <p>还应用以下内部检查：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>密码不包含双引号字符（ <code class="codeph">"</code> ）。但是，它可以用双引号括起来。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-00BED08C-E064-4824-9697-C7219CB8D3AB" title="Oracle数据库提供了一组可用于管理密码复杂性的功能。">管理密码的复杂性</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="props_rev_3"><a id="GUID-C215C4D6-C106-44E7-BE09-26D15415C67B" name="GUID-C215C4D6-C106-44E7-BE09-26D15415C67B"></a><h5 id="DBSEG-GUID-C215C4D6-C106-44E7-BE09-26D15415C67B" class="sect5">ora12c_stig_verify_function密码要求</h5>
                     <div>
                        <p><code class="codeph">ora12c_stig_verify_function</code>函数满足安全技术实施指南（STIG）的要求。
                        </p>
                        <p>用户在创建或修改密码时检查以下要求：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>密码至少包含15个字符。</p>
                           </li>
                           <li>
                              <p>密码至少包含1个小写字符和至少1个大写字符。</p>
                           </li>
                           <li>
                              <p>密码至少有1位数。</p>
                           </li>
                           <li>
                              <p>密码至少包含1个特殊字符。</p>
                           </li>
                           <li>
                              <p>密码与以前的密码相差至少8个字符。</p>
                           </li>
                        </ul>
                        <p>还应用以下内部检查：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>密码不包含双引号字符（ <code class="codeph">"</code> ）。但是，它可以用双引号括起来。
                              </p>
                           </li>
                        </ul>
                        <p><code class="codeph">ora12c_stig_verify_function</code>函数是<code class="codeph">ORA_STIG_PROFILE</code>概要文件的缺省处理程序，该<code class="codeph">ORA_STIG_PROFILE</code>文件在新创建或升级的Oracle数据库中可用。
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-00BED08C-E064-4824-9697-C7219CB8D3AB" title="Oracle数据库提供了一组可用于管理密码复杂性的功能。">管理密码的复杂性</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG849"></a><div class="props_rev_3"><a id="GUID-38B80221-55AE-4928-9AC0-4CAFFD5A4E96" name="GUID-38B80221-55AE-4928-9AC0-4CAFFD5A4E96"></a><h5 id="DBSEG-GUID-38B80221-55AE-4928-9AC0-4CAFFD5A4E96" class="sect5">关于自定义密码复杂性验证</h5>
                     <div>
                        <p>Oracle数据库使您可以自定义站点的密码复杂性。</p>
                        <p>您可以在<code class="codeph">SYS</code>模式中创建自己的密码复杂性验证功能，类似于<code class="codeph">admin/catpvf.sql</code>中定义的功能。事实上，Oracle建议您这样做以进一步保护您网站的密码。
                        </p>
                        <p>请注意以下事项：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>不要在自定义密码复杂性验证功能中包含数据定义语言（DDL）语句。在执行密码复杂性验证功能期间不允许使用DDL。</p>
                           </li>
                           <li>
                              <p>请勿修改<code class="codeph">admin/catpvf.sql</code>脚本或Oracle提供的密码复杂性功能。您可以根据这些文件的内容创建自己的功能。
                              </p>
                           </li>
                           <li>
                              <p>如果不对<code class="codeph">utlpwdmg.sql</code>脚本进行任何修改，则它使用<code class="codeph">ora12c_verify_function</code>函数作为默认函数。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-38B80221-55AE-4928-9AC0-4CAFFD5A4E96__GUID-1AF41E18-503B-4C55-9C3F-2DC28AD82A4E">
                           <p class="notep1">也可以看看：</p>关于创建密码的一般建议的密码<a href="keeping-your-oracle-database-secure.html#GUID-451679EB-8676-47E6-82A6-DF025FD65156" title="Oracle提供了保护密码的准则。">保护</a>指南中的准则<a href="keeping-your-oracle-database-secure.html#GUID-451679EB-8676-47E6-82A6-DF025FD65156__CHDDCHAH">1</a></div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-00BED08C-E064-4824-9697-C7219CB8D3AB" title="Oracle数据库提供了一组可用于管理密码复杂性的功能。">管理密码的复杂性</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG941"></a><div class="props_rev_3"><a id="GUID-F48598E4-2D72-4A3B-8904-AD6D2C67D715" name="GUID-F48598E4-2D72-4A3B-8904-AD6D2C67D715"></a><h5 id="DBSEG-GUID-F48598E4-2D72-4A3B-8904-AD6D2C67D715" class="sect5">启用密码复杂性验证</h5>
                     <div>
                        <p>可以自定义<code class="codeph">catpvf.sql</code>脚本以启用密码复杂性验证。
                        </p>
                        <div class="section">要启用密码复杂性验证，必须编辑<code class="codeph">catpvf.sql</code>脚本以使用所需的密码验证功能，然后运行脚本以启用它。
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>使用管理权限登录SQL * Plus。</span><div>
                                 <p>例如：</p><pre class="oac_no_warn" dir="ltr">连接系统输入密码： <span class="italic">密码</span>
</pre></div>
                           </li>
                           <li class="stepexpand"><span>运行<code class="codeph">catpvf.sql</code>脚本（或此脚本的修改版本）以在<code class="codeph">SYS</code>架构中创建密码复杂性函数。</span><div><pre class="oac_no_warn" dir="ltr">@ $ ORACLE_HOME / RDBMS /管理/ catpvf.sql</pre></div>
                           </li>
                           <li class="stepexpand"><span>授予必须使用此功能的任何用户对其<code class="codeph">EXECUTE</code>特权。</span><div>
                                 <p>例如：</p><pre class="oac_no_warn" dir="ltr">GRANT pmsith EXECUTE ON ora12c_strong_verify_function;</pre></div>
                           </li>
                           <li class="stepexpand"><span>在默认配置文件或用户配置文件中，将<code class="codeph">PASSWORD_VERIFY_FUNCTION</code>设置设置为<code class="codeph">catpvf.sql</code>脚本中的示例密码复杂性功能，或设置为自定义功能。使用以下方法之一：</span><div>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p>使用管理员权限登录到SQL * Plus，并使用<code class="codeph">CREATE PROFILE</code>或<code class="codeph">ALTER PROFILE</code>语句启用该功能。确保您具有该功能的<code class="codeph">EXECUTE</code>特权。
                                       </p>
                                       <p>例如，要更新默认配置文件以使用<code class="codeph">ora12c_strong_verify_function</code>函数：</p><pre class="oac_no_warn" dir="ltr">ALTER PROFILE默认值LIMIT PASSWORD_VERIFY_FUNCTION ora12c_strong_verify_function;</pre></li>
                                    <li>
                                       <p>在Oracle Enterprise Manager Cloud Control中，从“ <span class="bold">管理”</span>菜单中选择“ <span class="bold">安全”</span> ，然后选择“ <span class="bold">配置文件”</span> 。选择“ <span class="bold">密码”</span>选项卡。在<span class="bold">Complexity下</span> ，从<span class="bold">Complexity功能</span>列表中，选择所需的复杂功能的名称。单击“ <span class="bold">应用”</span>
                                       </p>
                                    </li>
                                 </ul>
                              </div>
                           </li>
                        </ol>
                        <div class="section">
                           <p>启用密码复杂性验证后，它会立即生效。如果必须禁用它，请运行以下语句：</p><pre class="oac_no_warn" dir="ltr">ALTER PROFILE DEFAULT LIMIT PASSWORD_VERIFY_FUNCTION NULL;</pre><div class="infoboxnote" id="GUID-F48598E4-2D72-4A3B-8904-AD6D2C67D715__GUID-A26F7189-745F-4772-8104-97074758E7D0">
                              <p class="notep1">注意：</p>
                              <p><code class="codeph">ALTER USER</code>语句具有<code class="codeph">REPLACE</code>子句。使用此子句，用户可以通过提供以前的密码来更改自己未过期的密码以进行身份验证。
                              </p>
                              <p>如果密码已过期，则用户无法登录SQL以发出<code class="codeph">ALTER USER</code>命令。相反，必须使用<code class="codeph">OCIPasswordChange()</code>函数，这也需要以前的密码。
                              </p>
                              <p>具有<code class="codeph">ALTER ANY USER</code>权限的数据库管理员可以更改任何用户密码（强制新密码）而无需提供旧密码。
                              </p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-00BED08C-E064-4824-9697-C7219CB8D3AB" title="Oracle数据库提供了一组可用于管理密码复杂性的功能。">管理密码的复杂性</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="DBSEG3225"></a><div class="props_rev_3"><a id="GUID-36BC62D5-277A-4B38-AB6C-2F20A843651F" name="GUID-36BC62D5-277A-4B38-AB6C-2F20A843651F"></a><h4 id="DBSEG-GUID-36BC62D5-277A-4B38-AB6C-2F20A843651F" class="sect4">管理密码区分大小写</h4>
                  <div>
                     <p>您可以管理来自先前版本的用户帐户的密码的密码区分大小写。</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="configuring-authentication.html#GUID-2C63433B-1C93-4DFE-B2B9-F63E8C3EEC1F">SEC_CASE_SENSITIVE_LOGON参数和密码区分大小写</a><br><code class="codeph">SEC_CASE_SENSITIVE_LOGON</code>初始化参数控制密码中区分大小写的使用。
                        </li>
                        <li class="ulchildlink"><a href="configuring-authentication.html#GUID-4C18735C-73FF-4B85-B65E-7D3AEB60D8C0">使用ALTER SYSTEM语句启用密码区分大小写</a><br>如果已禁用密码区分大小写，则可以通过将<code class="codeph">SEC_CASE_SENSITIVE_LOGON</code>参数设置为<code class="codeph">TRUE</code>来启用它。</li>
                        <li class="ulchildlink"><a href="configuring-authentication.html#GUID-0AD3347A-B20A-4994-8052-8925D43B9B04">安全角色密码的案例敏感性管理</a><br>为了提高安全性，应确保安全角色的密码区分大小写。
                        </li>
                        <li class="ulchildlink"><a href="configuring-authentication.html#GUID-B7D8EB60-7FFF-4545-B339-87333024A8DF">管理用户密码版本</a><br>默认情况下，Oracle数据库使用不允许不区分大小写的密码的独占模式来管理密码版本。
                        </li>
                        <li class="ulchildlink"><a href="configuring-authentication.html#GUID-D7B09DFE-F55D-449A-8F8A-174D89936304">查找和重置使用10G密码版本的用户密码</a><br>为了更好的安全性，请查找和重置使用<code class="codeph">10G</code>密码版本的用户帐户的密码，以便他们使用更安全的密码版本。
                        </li>
                        <li class="ulchildlink"><a href="configuring-authentication.html#GUID-28AEC8C8-7D32-45EF-94A5-258F33569B52">区分大小写如何影响密码文件</a><br>默认情况下，密码文件区分大小写。<code class="codeph">ORAPWD</code>命令行实用程序中的<code class="codeph">IGNORECASE</code>参数控制密码文件的区分大小写。
                        </li>
                        <li class="ulchildlink"><a href="configuring-authentication.html#GUID-2260D257-5F80-4CAE-9B77-8C472CE1A074">区分大小写如何影响数据库链接连接中使用的密码</a><br>创建数据库链接连接时，必须为连接定义用户名和密码。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-CF1A8C33-5342-4257-AE8F-CF0BA437F65C" title="您可以通过多种方式保护用户密码，例如控制密码创建要求或使用密码管理策略。">配置密码保护</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="DBSEG780"></a><div class="props_rev_3"><a id="GUID-2C63433B-1C93-4DFE-B2B9-F63E8C3EEC1F" name="GUID-2C63433B-1C93-4DFE-B2B9-F63E8C3EEC1F"></a><h5 id="DBSEG-GUID-2C63433B-1C93-4DFE-B2B9-F63E8C3EEC1F" class="sect5">SEC_CASE_SENSITIVE_LOGON参数和密码区分大小写</h5>
                     <div>
                        <p><code class="codeph">SEC_CASE_SENSITIVE_LOGON</code>初始化参数控制密码中区分大小写的使用。
                        </p>
                        <p>只有具有<code class="codeph">ALTER SYSTEM</code>权限的用户才能设置<code class="codeph">SEC_CASE_SENSITIVE_LOGON</code>参数。您应确保将此参数设置为<code class="codeph">TRUE</code>以便在用户输入密码时强制执行区分大小写。但是，您应该知道不推荐使用<code class="codeph">SEC_CASE_SENSITIVE_LOGON</code>参数，但目前保留该参数是为了向后兼容。
                        </p>
                        <p>创建或修改用户帐户时，默认情况下，密码区分大小写。区分大小写不仅会影响用户手动输入的密码，还会影响密码文件。</p>
                        <p>如果<code class="codeph">SQLNET.ALLOWED_LOGON_VERSION_SERVER</code>参数设置为<code class="codeph">12</code>或<code class="codeph">12a</code>确保<code class="codeph">SEC_CASE_SENSITIVE_LOGON</code>参数未设置为<code class="codeph">FALSE</code> 。这是因为用于此模式的更安全的密码版本仅支持区分大小写的密码检查。出于兼容性原因，当<code class="codeph">SQLNET.ALLOWED_LOGON_VERSION_SERVER</code>设置为<code class="codeph">12</code>或<code class="codeph">12a</code>时，Oracle数据库不会阻止对<code class="codeph">SEC_CASE_SENSITIVE_LOGON</code>使用<code class="codeph">FALSE</code> 。当<code class="codeph">SQLNET.ALLOWED_LOGON_VERSION_SERVER</code>设置为<code class="codeph">12</code>或<code class="codeph">12a</code>时，将<code class="codeph">SEC_CASE_SENSITIVE_LOGON</code>设置为<code class="codeph">FALSE</code>会导致所有帐户无法访问。如果<code class="codeph">SQLNET.ALLOWED_LOGON_VERSION_SERVER</code>设置为<code class="codeph">11</code>或更低的值，则Oracle建议您将<code class="codeph">SEC_CASE_SENSITIVE_LOGON</code>设置为<code class="codeph">TRUE</code> ，因为在Oracle Database 12 <span class="italic">c</span>中独占模式（当<code class="codeph">SQLNET.ALLOWED_LOGON_VERSION_SERVER</code>为<code class="codeph">12</code>或<code class="codeph">12a</code> ）中使用的更安全的密码版本不支持不区分大小写的密码匹配。
                        </p>
                        <p>除服务器端设置外，还应确保用户连接的客户端软件具有<code class="codeph">O5L_NP</code>功能标志。所有Oracle Database 11.2.0.3及更高版本的客户端都具有<code class="codeph">O5L_NP</code>功能。如果您有早期客户端，则必须安装<code class="codeph">CPUOct2012</code>补丁。
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-36BC62D5-277A-4B38-AB6C-2F20A843651F" title="您可以管理来自先前版本的用户帐户的密码的密码区分大小写。">管理密码区分大小写</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG910"></a><div class="props_rev_3"><a id="GUID-4C18735C-73FF-4B85-B65E-7D3AEB60D8C0" name="GUID-4C18735C-73FF-4B85-B65E-7D3AEB60D8C0"></a><h5 id="DBSEG-GUID-4C18735C-73FF-4B85-B65E-7D3AEB60D8C0" class="sect5">使用ALTER SYSTEM语句启用密码区分大小写</h5>
                     <div>
                        <p>如果已禁用密码区分大小写，则可以通过将<code class="codeph">SEC_CASE_SENSITIVE_LOGON</code>参数设置为<code class="codeph">TRUE</code>来启用它。</p>
                        <ol>
                           <li class="stepexpand"><span>如果您使用的是密码文件，请确保使用<code class="codeph">ORAPWD</code>实用程序<code class="codeph">IGNORECASE</code>参数设置为<code class="codeph">N</code>并将<code class="codeph">FORMAT</code>参数设置为<code class="codeph">12</code>来创建密码文件。</span><div>
                                 <p><code class="codeph">IGNORECASE</code>参数会覆盖<code class="codeph">SEC_CASE_SENSITIVE_LOGON</code>参数。默认情况下， <code class="codeph">IGNORECASE</code>设置为<code class="codeph">N</code> ，这意味着密码被视为区分大小写。
                                 </p>
                                 <p>请注意，不推荐使用<code class="codeph">IGNORECASE</code>参数和<code class="codeph">SEC_CASE_SENSITIVE_LOGON</code>系统参数。Oracle强烈建议您将<code class="codeph">IGNORECASE</code>设置为<code class="codeph">N</code>或完全省略<code class="codeph">IGNORECASE</code>设置。
                                 </p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>输入以下<code class="codeph">ALTER SYSTEM</code>语句：</span><div><pre class="oac_no_warn" dir="ltr">ALTER SYSTEM SET SEC_CASE_SENSITIVE_LOGON = TRUE;</pre></div>
                           </li>
                        </ol>
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>相关话题</strong></p>
                           <ul>
                              <li><a href="../admin/getting-started-with-database-administration.html#ADMIN-GUID-26EC8D1B-7A2F-4F0A-9588-D92CBD610858" target="_blank"><span><cite>Oracle数据库管理员指南</cite></span></a></li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-36BC62D5-277A-4B38-AB6C-2F20A843651F" title="您可以管理来自先前版本的用户帐户的密码的密码区分大小写。">管理密码区分大小写</a></p>
                           </div>
                        </div>
                     </div>
                  </div><a id="DBSEG911"></a><div class="props_rev_3"><a id="GUID-0AD3347A-B20A-4994-8052-8925D43B9B04" name="GUID-0AD3347A-B20A-4994-8052-8925D43B9B04"></a><h5 id="DBSEG-GUID-0AD3347A-B20A-4994-8052-8925D43B9B04" class="sect5">安全角色密码的案例敏感性管理</h5>
                     <div>
                        <p>为了提高安全性，应确保安全角色的密码区分大小写。</p>
                        <p>如果在升级到Oracle Database 12c第2版（12.2）之前，您使用<code class="codeph">CREATE ROLE</code>语句的<code class="codeph">IDENTIFIED BY</code>子句创建了安全角色，并且在升级到Oracle Database 12c版本12.2时，将<code class="codeph">SQLNET.ALLOWED_LOGON_VERSION_SERVER</code>参数设置为在专用模式<code class="codeph">12</code>或<code class="codeph">12a</code> ，您必须更改这些安全角色的密码才能使其保持可用。由于独占模式现在是早期版本中创建的默认安全角色（例如Oracle数据库10g，其中默认为<code class="codeph">10G</code>密码版本），因此需要更改其密码。
                        </p>
                        <p>您可以查询<code class="codeph">DBA_ROLES</code>数据字典视图的<code class="codeph">PASSWORD_REQUIRED</code>和<code class="codeph">AUTHENTICATION_TYPE</code>列，以查找升级到Oracle Database 12c后必须更改其密码的任何安全角色，以便再次使用。
                        </p>
                        <p>否则，除非将<code class="codeph">SQLNET.ALLOWED_LOGON_VERSION_SERVER</code>参数设置为<code class="codeph">8</code> ，否则无法使用这些安全角色的密码版本。如果此参数设置为<code class="codeph">12</code>或<code class="codeph">12a</code> ，则必须运行以下SQL语句以确保启用区分大小写。如果没有，那么即使密码更改后，安全角色仍将无法使用。
                        </p><pre class="oac_no_warn" dir="ltr">ALTER SYSTEM SET SEC_CASE_SENSITIVE_LOGON =“TRUE”;</pre></div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-36BC62D5-277A-4B38-AB6C-2F20A843651F" title="您可以管理来自先前版本的用户帐户的密码的密码区分大小写。">管理密码区分大小写</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG924"></a><div class="props_rev_3"><a id="GUID-B7D8EB60-7FFF-4545-B339-87333024A8DF" name="GUID-B7D8EB60-7FFF-4545-B339-87333024A8DF"></a><h5 id="DBSEG-GUID-B7D8EB60-7FFF-4545-B339-87333024A8DF" class="sect5">管理用户密码版本</h5>
                     <div>
                        <p>默认情况下，Oracle数据库使用不允许不区分大小写的密码的独占模式来管理密码版本。</p>
                        <p>在默认安装中， <code class="codeph">SQLNET.ALLOWED_LOGON_VERSION_SERVER</code>参数设置为<code class="codeph">12</code>以启用独占模式。独占模式要求基于密码的身份验证协议对正在进行身份验证的帐户使用区分大小写的密码版本（ <code class="codeph">11G</code>或<code class="codeph">12C</code> ）之一。独占模式不包括使用早期版本中使用的<code class="codeph">10G</code>密码版本。升级到Oracle Database 12 <span class="italic">c第</span> 2版（12.2）后，使用<code class="codeph">10G</code>密码版本的帐户将无法访问。这是因为默认情况下服务器以独占模式运行，而独占模式不能使用旧的<code class="codeph">10G</code>密码版本来验证客户端。服务器没有用于验证客户端的密码版本。
                        </p>
                        <p>版本10 <span class="italic">g中</span>的用户帐户使用<code class="codeph">10G</code>密码版本。因此，您应找到使用<code class="codeph">10G</code>密码版本的用户帐户，然后重置这些帐户的密码。这将根据<code class="codeph">SQLNET.ALLOWED_LOGON_VERSION_SERVER</code>参数的设置生成相应的密码版本，如下所示：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">SQLNET.ALLOWED_LOGON_VERSION_SERVER=8</code>生成所有三个密码版本<code class="codeph">10G</code> ， <code class="codeph">11G</code>和<code class="codeph">12C</code> 。</p>
                           </li>
                           <li>
                              <p><code class="codeph">SQLNET.ALLOWED_LOGON_VERSION_SERVER=12</code>生成<code class="codeph">11G</code>和<code class="codeph">12C</code>密码版本，并删除<code class="codeph">10G</code>密码版本。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">SQLNET.ALLOWED_LOGON_VERSION_SERVER=12a</code>仅生成<code class="codeph">12C</code>密码版本。
                              </p>
                           </li>
                        </ul>
                        <p>如果您首先将<code class="codeph">SQLNET.ALLOWED_LOGON_VERSION_SERVER</code>设置放宽到更宽松的值（例如<code class="codeph">SQLNET.ALLOWED_LOGON_VERSION_SERVER=8</code> ），然后将用户帐户从Oracle数据库版本10 <span class="italic">g</span> （或更早版本）版本导入当前数据库版本，那么因为<code class="codeph">10G</code>密码版本（在旧版本中使用）不区分大小写，这些用户仍然可以使用任何情况下的密码登录数据库。但是当这样的用户更改其密码时，将自动生成新的<code class="codeph">11G</code>和<code class="codeph">12C</code>密码版本，并且其密码将自动变为区分大小写，因为实例初始化参数<code class="codeph">SEC_CASE_SENSITIVE_LOGON</code>的默认值为<code class="codeph">TRUE</code> 。 （请注意，不推荐使用<code class="codeph">SEC_CASE_SENSITIVE_LOGON</code> ，但目前为了向后兼容性而保留它。）
                        </p>
                        <p>以下示例演示了将<code class="codeph">SEC_CASE_SENSITIVE_LOGON</code>参数设置为<code class="codeph">TRUE</code> 。在此方案中，用户<code class="codeph">rtaylor</code>已从Oracle数据库版本10 <span class="italic">g</span>导入，因此此帐户仅具有<code class="codeph">10G</code>密码版本。在服务器上， <code class="codeph">SQLNET.ALLOWED_LOGON_VERSION_SERVER</code>设置为<code class="codeph">8</code> ，否则<code class="codeph">rtaylor</code>将无法登录。此外， <code class="codeph">SEC_CASE_SENSITIVE_LOGON</code>参数设置为<code class="codeph">TRUE</code>以启用<code class="codeph">11G</code>和<code class="codeph">12C</code>密码版本的区分大小写。
                        </p>
                        <ol>
                           <li>
                              <p>检查用户<code class="codeph">rtaylor</code>的密码版本：</p><pre class="oac_no_warn" dir="ltr">从DBA_USERS中选择PASSWORD_VERSIONS，其中USERNAME ='RTAYLOR';密码版本----------------- 10G</pre></li>
                           <li>
                              <p>以用户<code class="codeph">rtaylor</code>连接。
                              </p><pre class="oac_no_warn" dir="ltr">CONNECT rtaylor输入密码：“MaresEatOats”已连接。</pre><p>用户<code class="codeph">rtaylor</code>可以连接到数据库，因为他的密码仍然使用<code class="codeph">10G</code>密码版本，这是不区分大小写的。在这里，他以混合大小写输入密码，尽管他的实际密码都是小写的： <code class="codeph">mareseatoats</code> 。
                              </p>
                           </li>
                           <li>
                              <p>检查其中一个默认用户<code class="codeph">SCOTT</code>的密码版本。</p><pre class="oac_no_warn" dir="ltr">从DBA_USERS中选择PASSWORD_VERSIONS，其中USERNAME ='SCOTT';密码版本----------------- 11G 12C</pre></li>
                           <li>
                              <p>尝试使用混合大小写作为用户<code class="codeph">SCOTT</code>连接密码，即使他的实际密码全部为小写： <code class="codeph">luv2walkmyk9</code> 。
                              </p><pre class="oac_no_warn" dir="ltr">CONNECT SCOTT输入密码：“LuvToWalkMyK9”ERROR：ORA-01017：用户名/密码无效;登录被拒绝警告：您已不再连接到ORACLE。</pre><p>由于用户<code class="codeph">SCOTT</code>的密码版本为<code class="codeph">11G</code>和<code class="codeph">12G</code> ，因此密码区分大小写。在此示例中输入的密码是正确的，但大小写不正确。
                              </p>
                           </li>
                           <li>
                              <p>改变<code class="codeph">rtaylor</code>对<code class="codeph">grumble_mumble2work</code>的密码。
                              </p><pre class="oac_no_warn" dir="ltr">ALTER USER rtaylor通过grumble_mumble2work识别;用户改动了。</pre></li>
                           <li>
                              <p>使用<code class="codeph">SYSDBA</code>管理权限进行连接。
                              </p><pre class="oac_no_warn" dir="ltr">CONNECT / AS SYSDBA</pre></li>
                           <li>
                              <p>找到用户<code class="codeph">rtaylor</code>的密码版本。
                              </p><pre class="oac_no_warn" dir="ltr">从DBA_USERS中选择PASSWORD_VERSIONS，其中USERNAME ='RTAYLOR';密码版本----------------- 10G 11G 12C</pre><p>使用<code class="codeph">SQLNET.ALLOWED_LOGON_VERSION_SERVER</code>和<code class="codeph">SEC_CASE_SENSITIVE_LOGON</code>设置配置的身份验证协议将强制执行<code class="codeph">rtaylor</code>密码的区分大小写，现在他已更改此密码。
                              </p>
                           </li>
                           <li>
                              <p>尝试使用混合大小写作为<code class="codeph">rtaylor</code>连接密码。
                              </p><pre class="oac_no_warn" dir="ltr">CONNECT rtaylor输入密码：“Grumble_Mumble2Work”错误：ORA-01017：用户名/密码无效;登录被拒绝警告：您已不再连接到ORACLE。</pre><p>输入的密码失败，因为未使用创建密码的情况输入密码。</p>
                           </li>
                           <li>
                              <p>尝试再次连接为<code class="codeph">rtaylor</code> ，但使用正确的大小写密码</p><pre class="oac_no_warn" dir="ltr">CONNECT rtaylor输入密码：“grumble_mumble2work”已连接。
</pre><p>用户<code class="codeph">rtaylor</code>可以连接。
                              </p>
                           </li>
                        </ol>
                        <p><code class="codeph">rtaylor</code>帐户的区分大小写是服务器<code class="codeph">SEC_CASE_SENSITIVE_LOGON</code>的默认设置的结果，该设置为<code class="codeph">TRUE</code> 。如果此设置为<code class="codeph">FALSE</code> ，则可以恢复不区分大小写的匹配，因为<code class="codeph">rtaylor</code>帐户仍具有<code class="codeph">10G</code>密码版本。但是，Oracle不建议使用此设置。出于此原因，不推荐使用<code class="codeph">SEC_CASE_SENSITIVE_LOGON</code>参数。为了提高安全性，Oracle强烈建议您启用区分大小写的密码身份验证。
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-36BC62D5-277A-4B38-AB6C-2F20A843651F" title="您可以管理来自先前版本的用户帐户的密码的密码区分大小写。">管理密码区分大小写</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG945"></a><div class="props_rev_3"><a id="GUID-D7B09DFE-F55D-449A-8F8A-174D89936304" name="GUID-D7B09DFE-F55D-449A-8F8A-174D89936304"></a><h5 id="DBSEG-GUID-D7B09DFE-F55D-449A-8F8A-174D89936304" class="sect5">查找和重置使用10G密码版本的用户密码</h5>
                     <div>
                        <p>为了更好的安全性，请查找和重置使用<code class="codeph">10G</code>密码版本的用户帐户的密码，以便他们使用更安全的密码版本。
                        </p>
                        <div class="section"></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-D7B09DFE-F55D-449A-8F8A-174D89936304__GUID-BE07FE9A-817E-4E9F-A704-6E9EC4AB5C28">查找当前用户的所有密码版本</p>
                           <p>您可以查询<code class="codeph">DBA_USERS</code>数据字典视图，以查找为用户帐户配置的所有密码版本的列表。
                           </p>
                           <p>例如：</p><pre class="pre codeblock"><code>来自DBA_USERS的SELECT USERNAME，PASSWORD_VERSIONS; USERNAME PASSWORD_VERSIONS ------------------------------ ----------------- JONES 10G 11G 12C ADAMS 10G 11G CLARK 10G 11G PRESTON 11G BLAKE 10G</code></pre><p><code class="codeph">PASSWORD_VERSIONS</code>列显示该帐户存在的密码版本列表。<code class="codeph">10G</code>是指早期不区分大小写的Oracle密码版本， <code class="codeph">11G</code>是指基于SHA-1的密码版本， <code class="codeph">12C</code>是指基于SHA-2的SHA-512密码版本。
                           </p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>用户<code class="codeph">jones</code> ：当<code class="codeph">SQLNET.ALLOWED_LOGON_VERSION_SERVER</code>参数设置为<code class="codeph">8</code>时，在Oracle Database 12 <span class="italic">c</span>版本12.1中重置了此用户的密码。这样就可以创建所有三个密码版本。
                                 </p>
                              </li>
                              <li>
                                 <p>用户<code class="codeph">adams</code>和<code class="codeph">clark</code> ：这些帐户的密码最初是在Oracle Database <span class="italic">10g中</span>创建的，然后在Oracle Database <span class="italic">11g中</span>重置。Oracle Database <span class="italic">11g</span>软件当时使用的默认<code class="codeph">SQLNET.ALLOWED_LOGON_VERSION</code>设置为<code class="codeph">8</code> 。由于默认情况下启用了大小写不敏感，因此它们的密码现在区分大小写， <code class="codeph">preston</code>的密码也是如此。
                                 </p>
                              </li>
                              <li>
                                 <p>用户<code class="codeph">preston</code> ：此帐户是从以独占模式（ <code class="codeph">SQLNET.ALLOWED_LOGON_VERSION = 12</code> ）运行的Oracle Database 11 <span class="italic">g</span>数据库导入的。
                                 </p>
                              </li>
                              <li>
                                 <p>用户<code class="codeph">blake</code> ：此帐户仍使用Oracle Database 10 <span class="italic">g</span>密码版本。在此阶段，阻止用户<code class="codeph">blake</code>登录。
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-D7B09DFE-F55D-449A-8F8A-174D89936304__GUID-D3A60C27-423E-4541-8BDE-EBED59B91382">重置使用10G密码版本的用户密码</p>
                           <p>为了更好的安全性，请从所有用户的帐户中删除<code class="codeph">10G</code>密码版本。在以下过程中，要重置具有<code class="codeph">10G</code>密码版本的用户的密码，必须暂时放松<code class="codeph">SQLNET.ALLOWED_LOGON_VERSION_SERVER</code>设置，该设置在允许登录之前控制客户端所需的能力级别。放宽设置使这些用户能够登录并更改其密码，从而生成除<code class="codeph">10G</code>密码版本之外的新密码版本。之后，您可以将数据库设置为使用独占模式，并确保客户端具有<code class="codeph">O5L_NP</code>功能。然后用户可以再次重置他们的密码，以便他们的密码版本不再包含<code class="codeph">10G</code> ，但只有更安全的<code class="codeph">11G</code>和<code class="codeph">12C</code>密码版本。
                           </p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand" id="GUID-D7B09DFE-F55D-449A-8F8A-174D89936304__QUERYTHEDBA_USERSVIEWTOFINDUSERSWHO-4DFAFF23"><span>查询<code class="codeph">DBA_USERS</code>视图以查找仅使用<code class="codeph">10G</code>密码版本的用户。</span><div><pre class="oac_no_warn" dir="ltr">从DBA_USERS WHERE中选择USERNAME（PASSWORD_VERSIONS ='10G'或PASSWORD_VERSIONS ='10G HTTP'）和USERNAME &lt;&gt;'ANONYMOUS';</pre></div>
                           </li>
                           <li class="stepexpand"><span>配置数据库，使其不以独占模式运行，如下所示：</span><ol type="a">
                                 <li class="substepexpand"><span>编辑<code class="codeph">sqlnet.ora</code>文件中的<code class="codeph">SQLNET.ALLOWED_LOGON_VERSION_SERVER</code>设置，使其比默认值更宽松。例如：</span><div><pre class="oac_no_warn" dir="ltr">SQLNET.ALLOWED_LOGON_VERSION_SERVER = 11</pre></div>
                                 </li>
                                 <li class="substepexpand"><span>重启数据库。</span></li>
                              </ol>
                           </li>
                           <li class="stepexpand"><span>使您在查询<code class="codeph">DBA_USERS</code>视图时找到的用户过期，以查找仅使用<code class="codeph">10G</code>密码版本的用户。</span><div>
                                 <p>您必须使仅具有<code class="codeph">10G</code>密码版本且没有<code class="codeph">11G</code>或<code class="codeph">12C</code>密码版本中的一个或两个的用户到期。
                                 </p>
                                 <p>例如：</p><pre class="pre codeblock"><code>ALTER USER用户<span class="variable" translate="no">username</span> PASSWORD EXPIRE;</code></pre></div>
                           </li>
                           <li class="stepexpand"><span>询问您过期密码的用户是否登录。</span><div>
                                 <p>当用户登录时，系统会提示他们更改密码。除<code class="codeph">10G</code>密码版本外，数据库还为其帐户生成缺少的<code class="codeph">11G</code>和<code class="codeph">12C</code>密码版本。<code class="codeph">10G</code>密码版本继续存在，因为数据库正在以许可模式运行。
                                 </p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>确保用户连接的客户端软件具有<code class="codeph">O5L_NP</code>功能。</span><div>
                                 <p>所有Oracle Database 11.2.0.3及更高版本的客户端都具有<code class="codeph">O5L_NP</code>功能。如果您有早期的Oracle数据库客户端，则必须安装CPUOct2012补丁。
                                 </p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>在所有客户端都具有<code class="codeph">O5L_NP</code>功能后，将服务器的安全性设置回“独占模式”，如下所示：</span><ol type="a">
                                 <li class="substepexpand"><span>从实例初始化文件中删除<code class="codeph">SEC_CASE_SENSITIVE_LOGON</code>参数设置，或将<code class="codeph">SEC_CASE_SENSITIVE_LOGON</code>设置为<code class="codeph">TRUE</code> 。</span><div><pre class="oac_no_warn" dir="ltr">SEC_CASE_SENSITIVE_LOGON = TRUE</pre></div>
                                 </li>
                                 <li class="substepexpand"><span>卸下<code class="codeph">SQLNET.ALLOWED_LOGON_VERSION_SERVER</code>从服务器参数<code class="codeph">sqlnet.ora</code>文件，或设置的值<code class="codeph">SQLNET.ALLOWED_LOGON_VERSION_SERVER</code>在服务器<code class="codeph">sqlnet.ora</code>文件返回到<code class="codeph">12</code> ，将其设置为独占模式。</span><div><pre class="oac_no_warn" dir="ltr">SQLNET.ALLOWED_LOGON_VERSION_SERVER = 12</pre></div>
                                 </li>
                                 <li class="substepexpand"><span>重启数据库。</span></li>
                              </ol>
                           </li>
                           <li class="stepexpand"><span>找到仍具有<code class="codeph">10G</code>密码版本的帐户。</span><div><pre class="oac_no_warn" dir="ltr">从DBA_USERS中选择USERNAME，其中PASSWORD_VERSIONS类似'％10G％'和USERNAME &lt;&gt;'ANONYMOUS';</pre></div>
                           </li>
                           <li class="stepexpand"><span>使仍具有<code class="codeph">10G</code>密码版本的帐户过期。</span><div><pre class="oac_no_warn" dir="ltr">ALTER USER用户<span class="variable" translate="no">username</span> PASSWORD EXPIRE;</pre></div>
                           </li>
                           <li class="stepexpand"><span>要求这些用户登录其帐户。</span><div>
                                 <p>当用户登录时，系统会提示他们重置密码。然后，数据库仅为其帐户生成<code class="codeph">11G</code>和<code class="codeph">12C</code>密码版本。由于数据库以独占模式运行，因此不再生成<code class="codeph">10G</code>密码版本。
                                 </p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>重新运行以下查询：</span><div><pre class="oac_no_warn" dir="ltr">从DBA_USERS中选择USERNAME，其中PASSWORD_VERSIONS类似'％10G％'和USERNAME &lt;&gt;'ANONYMOUS';</pre></div>
                              <div>
                                 <p>如果此查询未返回任何结果，则表示没有用户帐户具有<code class="codeph">10G</code>密码版本。因此，数据库以比以前版本更安全的模式运行。
                                 </p>
                              </div>
                           </li>
                        </ol>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-36BC62D5-277A-4B38-AB6C-2F20A843651F" title="您可以管理来自先前版本的用户帐户的密码的密码区分大小写。">管理密码区分大小写</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG944"></a><div class="props_rev_3"><a id="GUID-28AEC8C8-7D32-45EF-94A5-258F33569B52" name="GUID-28AEC8C8-7D32-45EF-94A5-258F33569B52"></a><h5 id="DBSEG-GUID-28AEC8C8-7D32-45EF-94A5-258F33569B52" class="sect5">区分大小写如何影响密码文件</h5>
                     <div>
                        <p>默认情况下，密码文件区分大小写。<code class="codeph">ORAPWD</code>命令行实用程序中的<code class="codeph">IGNORECASE</code>参数控制密码文件的区分大小写。
                        </p>
                        <p><code class="codeph">IGNORECASE</code>的默认值是<code class="codeph">N</code> （否），它强制区分大小写。为了更好的安全性，将<code class="codeph">IGNORECASE</code>设置为<code class="codeph">N</code>或完全省略<code class="codeph">ignorecase</code>参数。请注意，不推荐使用<code class="codeph">IGNORECASE</code> 。
                        </p>
                        <p>以下示例说明如何在密码文件中启用区分大小写。</p><pre class="oac_no_warn" dir="ltr">orapwd file = orapw entries = 100输入SYS： <span class="italic">password的密码</span>
</pre><p>此命令创建一个名为<code class="codeph">orapw</code>的区分大小写的密码文件。默认情况下，密码区分大小写。之后，如果使用此密码进行连接，则只要您使用创建它的<span class="italic">确切</span>大小写输入密码，它就会成功。如果输入相同的密码但具有<span class="italic">不同的</span>区分大小写，则会失败。
                        </p>
                        <p>如果您从先前版本导入了用户帐户，并且这些帐户是使用<code class="codeph">SYSDBA</code>或<code class="codeph">SYSOPER</code>管理权限创建的，则它们将包含在密码文件中。这些帐户的密码不区分大小写。下次这些用户更改其密码并假设启用了区分大小写时，密码将区分大小写。为了提高安全性，请让这些用户更改其密码。
                        </p>
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>相关话题</strong></p>
                           <ul>
                              <li><a href="../admin/getting-started-with-database-administration.html#ADMIN-GUID-26EC8D1B-7A2F-4F0A-9588-D92CBD610858" target="_blank"><span><cite>Oracle数据库管理员指南</cite></span></a></li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-36BC62D5-277A-4B38-AB6C-2F20A843651F" title="您可以管理来自先前版本的用户帐户的密码的密码区分大小写。">管理密码区分大小写</a></p>
                           </div>
                        </div>
                     </div>
                  </div><a id="DBSEG973"></a><div class="props_rev_3"><a id="GUID-2260D257-5F80-4CAE-9B77-8C472CE1A074" name="GUID-2260D257-5F80-4CAE-9B77-8C472CE1A074"></a><h5 id="DBSEG-GUID-2260D257-5F80-4CAE-9B77-8C472CE1A074" class="sect5">区分大小写如何影响数据库链接连接中使用的密码</h5>
                     <div>
                        <p>创建数据库链接连接时，必须为连接定义用户名和密码。</p>
                        <p>创建数据库链接连接时，密码区分大小写。用户如何输入用于连接的密码取决于创建数据库链接的版本：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>用户可以从Oracle Database 12c之前的数据库连接到Oracle Database 12c数据库。由于启用了区分大小写，因此用户必须使用创建帐户时使用的大小写输入密码。</p>
                           </li>
                           <li>
                              <p>如果用户从Oracle Database 12c数据库连接到Oracle Database 12c之前的数据库，并且如果预发行版12 <span class="italic">c</span>数据库中的<code class="codeph">SEC_CASE_SENSITIVE_LOGON</code>参数已设置为<code class="codeph">FALSE</code> ，则可以使用任何数据库指定此数据库链接的密码。案件。
                              </p>
                           </li>
                        </ul>
                        <p>您可以通过查询<code class="codeph">V$DBLINK</code>视图找到现有数据库链接的用户帐户。例如：</p><pre class="oac_no_warn" dir="ltr">SELECT DB_LINK，OWNER_ID FROM V $ DBLINK;</pre><p>有关<code class="codeph">V$DBLINK</code>视图的更多信息，请参见<a href="../refrn/V-DBLINK.html#REFRN30061" target="_blank"><span><cite>Oracle数据库参考</cite></span></a> 。
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-36BC62D5-277A-4B38-AB6C-2F20A843651F" title="您可以管理来自先前版本的用户帐户的密码的密码区分大小写。">管理密码区分大小写</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="DBSEG30324"></a><div class="props_rev_3"><a id="GUID-828FFD2F-AB0B-4A00-99CF-AA680E9B0314" name="GUID-828FFD2F-AB0B-4A00-99CF-AA680E9B0314"></a><h4 id="DBSEG-GUID-828FFD2F-AB0B-4A00-99CF-AA680E9B0314" class="sect4">使用12C密码版本确保密码安全威胁</h4>
                  <div>
                     <p><code class="codeph">12C</code>密码版本使用户能够创建符合合规标准的复杂密码。
                     </p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="configuring-authentication.html#GUID-BC35C938-8001-4133-AEA6-D8AD4ED7DDCD">关于12C版本的密码哈希</a><br><code class="codeph">12C</code>密码哈希通过包含对大小写混合密码的支持来防止基于密码的安全威胁。
                        </li>
                        <li class="ulchildlink"><a href="configuring-authentication.html#GUID-E6EE45DD-1E3B-4028-B8DE-65D6AA373821">Oracle Database 12C密码版本配置指南</a><br>默认情况下，Oracle数据库生成两个版本的密码哈希： <code class="codeph">11G</code>和<code class="codeph">12C</code> 。</li>
                        <li class="ulchildlink"><a href="configuring-authentication.html#GUID-B4EA8B28-B76E-4C03-AB59-0B322DA9F3EF">配置Oracle数据库以仅使用12C密码版本</a><br>您应该将<code class="codeph">SQLNET.ALLOWED_LOGON_VERSION_SERVER</code>参数设置为<code class="codeph">12a</code>以便仅使用<code class="codeph">12C</code>密码哈希版本。
                        </li>
                        <li class="ulchildlink"><a href="configuring-authentication.html#GUID-19E3BD93-A3A7-4110-9A63-5C96CDD4EED8">服务器和客户端登录版本如何影响数据库链接</a><br><code class="codeph">SQLNET.ALLOWED_LOGON_VERSION_SERVER</code>和<code class="codeph">SQLNET.ALLOWED_LOGON_VERSION_CLIENT</code>参数可以容纳不同版本的数据库和客户端之间的连接。
                        </li>
                        <li class="ulchildlink"><a href="configuring-authentication.html#GUID-7A14B904-0BDD-4510-8094-290881A07690">配置Oracle数据库客户端以独占使用12C密码版本</a><br>入侵者可能会尝试配置虚假服务器以降级身份验证并欺骗客户端使用较弱的密码哈希版本。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-CF1A8C33-5342-4257-AE8F-CF0BA437F65C" title="您可以通过多种方式保护用户密码，例如控制密码创建要求或使用密码管理策略。">配置密码保护</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="DBSEG801"></a><div class="props_rev_3"><a id="GUID-BC35C938-8001-4133-AEA6-D8AD4ED7DDCD" name="GUID-BC35C938-8001-4133-AEA6-D8AD4ED7DDCD"></a><h5 id="DBSEG-GUID-BC35C938-8001-4133-AEA6-D8AD4ED7DDCD" class="sect5">关于12C版本的密码哈希</h5>
                     <div>
                        <p><code class="codeph">12C</code>密码哈希通过包含对大小写混合密码的支持来防止基于密码的安全威胁。
                        </p>
                        <p>用于生成密码散列的<code class="codeph">12C</code>版本的加密散列函数基于涉及基于密码的密钥导出功能2（PBKDF2）和SHA-512加密散列函数的去优化算法。PBKDF2算法在面临入侵者面临的挑战中引入了计算不对称性，该入侵者在拥有<code class="codeph">12C</code>版本的密码哈希时试图恢复原始密码。<code class="codeph">12C</code>密码生成执行PBKDF2输出的SHA-512哈希作为其最后一步。在<code class="codeph">12C</code>密码版本生成中使用的这种两步方法允许在客户端具有O7L_MR功能时节省服务器CPU资源。这是因为在O5LOGON身份验证的密码验证阶段，服务器只需要执行由具有O7L_MR功能的客户端传输的值的单个SHA-512哈希值，而不必重复密码本身的整个PBKDF2计算。
                        </p>
                        <p>此外， <code class="codeph">12C</code>密码版本在加密时会为密码添加一个<a href="glossary.html#GUID-70E8D8D4-666E-4633-80CC-CFDE6B5398B0"><span class="xrefglossterm">盐</span></a> ，从而提供额外的保护。<code class="codeph">12C</code>密码版本使您的用户可以创建更复杂的密码。<code class="codeph">12C</code>密码版本使用<a href="glossary.html#GUID-70E8D8D4-666E-4633-80CC-CFDE6B5398B0"><span class="xrefglossterm">salt</span></a> ，使用PBKDF2去优化，并支持混合大小写密码，使入侵者对<code class="codeph">12C</code>密码版本执行字典或强力攻击以试图恢复用户的代价更高密码。Oracle建议您使用<code class="codeph">12C</code>版本的密码哈希。
                        </p>
                        <p>密码哈希值被认为是极其敏感的，因为它们被用作服务器和登录人员之间的“共享秘密”。如果入侵者了解到这个秘密，那么对身份验证的保护会立即受到严重影响。请记住，具有帐户管理权限的管理用户，具有<code class="codeph">SYSDBA</code>管理权限的管理用户，甚至具有<code class="codeph">EXP_FULL_DATABASE</code>角色的用户都可以立即访问密码哈希值。因此，如果要保留基于数据库密码的身份验证的完整性，则此类管理用户必须值得信任。如果您不能信任这些管理员，那么最好部署目录服务器（例如Oracle数据库企业用户安全性），以便密码哈希值保留在Enterprise User Security目录中，并且除了Enterprise User Security管理员之外的任何人都不能访问。
                        </p>
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>相关话题</strong></p>
                           <ul>
                              <li><a href="../netrf/parameters-for-the-sqlnet.ora.html#NETRF-GUID-1FA9D26C-4D97-4D1C-AB47-1EC234D924AA" target="_blank"><span><cite>Oracle数据库网络服务参考</cite></span></a></li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-828FFD2F-AB0B-4A00-99CF-AA680E9B0314" title="12C密码版本使用户能够创建符合合规标准的复杂密码。">使用12C密码版本确保防止密码安全威胁</a></p>
                           </div>
                        </div>
                     </div>
                  </div><a id="DBSEG802"></a><div class="props_rev_3"><a id="GUID-E6EE45DD-1E3B-4028-B8DE-65D6AA373821" name="GUID-E6EE45DD-1E3B-4028-B8DE-65D6AA373821"></a><h5 id="DBSEG-GUID-E6EE45DD-1E3B-4028-B8DE-65D6AA373821" class="sect5">Oracle Database 12C密码版本配置指南</h5>
                     <div>
                        <p>默认情况下，Oracle数据库生成两个版本的密码哈希： <code class="codeph">11G</code>和<code class="codeph">12C</code> 。</p>
                        <p>Oracle数据库用于对给定客户端进行身份验证的密码哈希版本取决于客户端的能力以及<code class="codeph">SQLNET.ALLOWED_LOGON_VERSION_CLIENT</code>和<code class="codeph">SQLNET.ALLOWED_LOGON_VERSION_SERVER</code>参数的设置。有关客户端身份验证如何使用密码版本的详细信息，请参阅“ <a href="../netrf/parameters-for-the-sqlnet.ora.html#NETRF2016" target="_blank"><span><cite>Oracle数据库网络服务参考</cite></span></a> ”中<code class="codeph">SQLNET.ALLOWED_LOGON_VERSION_SERVER</code>参数说明中的“SQLNET.ALLOWED_LOGON_VERSION_SERVER设置”表中的“客户端所需的功能”一栏。
                        </p>
                        <p>在Oracle数据库10g中生成的<code class="codeph">10G</code>密码版本不区分大小写。<code class="codeph">11G</code>和<code class="codeph">12C</code>密码版本都区分大小写。
                        </p>
                        <p>在Oracle Database 12g第2版（12.2）中， <code class="codeph">sqlnet.ora</code>参数<code class="codeph">SQLNET.ALLOWED_LOGON_VERSION_SERVER</code>默认为<code class="codeph">12</code> ，这是独占模式并阻止使用<code class="codeph">10G</code>密码版本， <code class="codeph">SQLNET.ALLOWED_LOGON_VERSION_CLIENT</code>参数默认为<code class="codeph">11</code> 。对于新帐户，当客户端是Oracle Database 12c时，Oracle数据库仅将<code class="codeph">12C</code>密码版本与运行Oracle Database 12c发行版软件的客户端一起使用。对于在Oracle Database 12c之前创建的帐户，只要客户端具有O5L_NP能力，登录就会成功，因为在早期版本（例如Oracle Database 11g版）中创建的帐户通常存在<code class="codeph">11G</code>密码版本。对于非常旧的帐户（例如，来自Oracle数据库版本10g），可能需要重置用户的密码，以便为该帐户创建SHA-1密码版本。要将此服务器配置为在创建新帐户或更改现有帐户密码时仅生成<code class="codeph">12C</code>密码版本，请将<code class="codeph">SQLNET.ALLOWED_LOGON_VERSION_SERVER</code>参数设置为<code class="codeph">12a</code> 。但是，如果希望应用程序与较旧的客户端兼容，请确保将<code class="codeph">SQLNET.ALLOWED_LOGON_VERSION_SERVER</code>设置为<code class="codeph">12</code> ，这是默认设置。
                        </p>
                        <p>如何设置<code class="codeph">SQLNET.ALLOWED_LOGON_VERSION_SERVER</code>参数取决于系统所需的旧客户端的安全性和互操作性的平衡。您可以按如下方式控制安全级别：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="bold">最高级别的兼容性：</span>配置服务器以生成密码哈希的所有三个版本（ <code class="codeph">12C</code>密码版本， <code class="codeph">11G</code>密码版本和基于DES的<code class="codeph">10G</code>密码版本），无论何时创建新帐户或现有帐户密码如果已更改，请将<code class="codeph">SQLNET.ALLOWED_LOGON_VERSION_SERVER</code>参数设置为值<code class="codeph">11</code>或更低。（请注意，早期版本使用值<code class="codeph">8</code>作为默认值。）
                              </p>
                           </li>
                           <li>
                              <p><span class="bold">建议的安全级别：</span>要将服务器配置为生成<code class="codeph">12C</code>密码版本和<code class="codeph">11G</code>密码版本（但<span class="italic">不是</span> <code class="codeph">10G</code>密码版本），每当创建新帐户或更改现有帐户密码时，请设置<code class="codeph">SQLNET.ALLOWED_LOGON_VERSION_SERVER</code>参数价值<code class="codeph">12</code> 。
                              </p>
                           </li>
                           <li>
                              <p><span class="bold">最高级别的安全性：</span>要将服务器配置为在创建新帐户或更改现有帐户密码时<span class="italic">仅</span>生成<code class="codeph">12C</code>密码版本，请将<code class="codeph">SQLNET.ALLOWED_LOGON_VERSION_SERVER</code>参数设置为值<code class="codeph">12a</code> 。
                              </p>
                           </li>
                        </ul>
                        <p>在身份验证期间，根据帐户存在的密码版本类型以及正在使用的客户端软件的版本，可能出现以下情况：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="bold">仅包含10G版本密码哈希的帐户：</span>如果要强制服务器为较旧帐户生成较新版本的密码哈希，管理员必须使任何仅具有<code class="codeph">10G</code>密码版本的帐户的密码失效（并且没有更安全的密码版本， <code class="codeph">11G</code>或<code class="codeph">12C</code> ）。您必须生成这些密码版本，因为数据库依赖于使用这些密码版本来提供更强的安全性。您可以按如下方式找到这些用户。
                              </p><pre class="oac_no_warn" dir="ltr">从DBA_USERS中选择USERNAME，其中PASSWORD_VERSIONS类似于'％10G％和USERNAME &lt;&gt;'ANONYMOUS';</pre><p>然后按如下方式使每个帐户到期：</p><pre class="oac_no_warn" dir="ltr">ALTER USER用户<span class="italic">名</span> PASSWORD EXPIRE;</pre><p>每个帐户过期后，通知这些用户登录，在这种情况下，系统会提示他们更改密码。客户端的版本确定使用的密码版本。<code class="codeph">SQLNET.ALLOWED_LOGON_VERSION_SERVER</code>参数的设置确定生成的密码版本。如果客户端具有O7L_MR能力（Oracle数据库版本12c），则使用12C密码版本进行身份验证。如果客户端具有O5L_NP能力但不具备O7L_MR能力（例如Oracle数据库版本11g客户端），则使用<code class="codeph">11G</code>密码版本进行身份验证。您应该将所有客户端升级到Oracle Database版本12c，以便<code class="codeph">12C</code>密码版本可以专门用于身份验证。（默认情况下，Oracle Database 11.2.0.3及更高版本的客户端具有<code class="codeph">O5L_NP</code>功能，这使得<code class="codeph">11G</code>密码版本可以独占使用。如果您有早期的Oracle数据库客户端，则必须安装CPUOct2012补丁。）
                              </p>
                              <p>当帐户密码过期且<code class="codeph">ALLOWED_LOGON_VERSION_SERVER</code>参数设置为<code class="codeph">12</code>或<code class="codeph">12a</code> ，将删除<code class="codeph">10G</code>密码版本，并且仅创建一个或两个新密码版本，具体取决于参数的设置方式，如下所示：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>如果<code class="codeph">ALLOWED_LOGON_VERSION_SERVER</code>设置为<code class="codeph">12</code> （默认值），则生成密码哈希的<code class="codeph">11G</code>和<code class="codeph">12C</code>版本。
                                    </p>
                                 </li>
                                 <li>
                                    <p>如果<code class="codeph">ALLOWED_LOGON_VERSION_SERVER</code>设置为<code class="codeph">12a</code> ，则仅生成密码哈希的<code class="codeph">12C</code>版本。
                                    </p>
                                 </li>
                              </ul>
                              <p>有关更多详细信息，请参阅“ <a href="../netrf/index.html" target="_blank"><span><cite>Oracle数据库网络服务参考</cite></span></a> ”中<code class="codeph">SQLNET.ALLOWED_LOGON_VERSION_SERVER</code>参数的“使用说明”部分的表中的“生成的密码版本”列<span class="bold">。</span> 
                              </p>
                           </li>
                           <li>
                              <p><span class="bold">具有10G和11G版本密码哈希的帐户：</span>对于使用版本10g或更高版本客户端的用户，用户登录将成功，因为使用了<code class="codeph">11G</code>版本的密码哈希。但是，要使用最新版本，请将这些密码过期，如上一个帐户的项目符号项所述。
                              </p>
                           </li>
                           <li>
                              <p><span class="bold">仅包含11G版本密码哈希的帐户：</span>身份验证使用<span class="bold">密码哈希</span>的<code class="codeph">11G</code>版本。要使用最新版本，请使密码过期，如第一个项目符号项中所述。
                              </p>
                           </li>
                        </ul>
                        <p><code class="codeph">SQLNET.ALLOWED_LOGON_VERSION_SERVER</code>的Oracle Database 12 <span class="italic">c</span>默认配置为<code class="codeph">12</code> ，这意味着它与Oracle Database 12c第2版（12.2）身份验证协议和后来使用基于OCI的驱动程序（包括SQL * Plus，ODBC，Oracle）的产品兼容。 NET，Oracle Forms和各种第三方Oracle数据库适配器。它还兼容已经应用了CPUOct2012捆绑补丁或从Oracle Database 11g开始的JDBC type-4（瘦）版本，以及从Oracle Database 10g 10.2版开始的基于Oracle数据库客户端接口（OCI）的驱动程序。请注意，早期版本的OCI客户端驱动程序无法使用基于密码的身份验证对Oracle数据库进行身份验证。
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-828FFD2F-AB0B-4A00-99CF-AA680E9B0314" title="12C密码版本使用户能够创建符合合规标准的复杂密码。">使用12C密码版本确保防止密码安全威胁</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG965"></a><div class="props_rev_3"><a id="GUID-B4EA8B28-B76E-4C03-AB59-0B322DA9F3EF" name="GUID-B4EA8B28-B76E-4C03-AB59-0B322DA9F3EF"></a><h5 id="DBSEG-GUID-B4EA8B28-B76E-4C03-AB59-0B322DA9F3EF" class="sect5">配置Oracle数据库以仅使用12C密码版本</h5>
                     <div>
                        <p>您应该将<code class="codeph">SQLNET.ALLOWED_LOGON_VERSION_SERVER</code>参数设置为<code class="codeph">12a</code>以便仅使用<code class="codeph">12C</code>密码哈希版本。
                        </p>
                        <div class="section"><code class="codeph">12C</code>密码版本是密码哈希版本中最严格和最安全的，因此，Oracle建议您仅使用此密码版本。默认情况下， <code class="codeph">SQLNET.ALLOWED_LOGON_VERSION_SERVER</code>设置为<code class="codeph">12</code> ，这样可以使用<code class="codeph">11G</code>和<code class="codeph">12C</code>密码版本。（ <code class="codeph">SQLNET.ALLOWED_LOGON_VERSION_SERVER</code>值<code class="codeph">12</code>和<code class="codeph">12a</code>都被视为独占模式，这会阻止使用早期的<code class="codeph">10G</code>密码版本。）如果已从先前版本升级，或者<code class="codeph">SQLNET.ALLOWED_LOGON_VERSION_SERVER</code>设置为<code class="codeph">12</code>或先前版本中使用的其他设置，则应重新配置此参数，因为入侵者将尝试降级身份验证以使用较弱的密码版本。<a href="configuring-authentication.html#GUID-B4EA8B28-B76E-4C03-AB59-0B322DA9F3EF__GUID-53B5D818-7726-420A-AFE2-79D189B60226" title="ALLOWED_LOGON_VERSION_SERVER设置">表3-3</a>显示了<code class="codeph">SQLNET.ALLOWED_LOGON_VERSION_SERVER</code>设置对密码版本生成的影响。
                           <p>请注意，仅当您使用Oracle Database 12c版本12.1.0.2或更高版本的客户端时，才能专门使用<code class="codeph">12C</code>密码版本。在将<code class="codeph">SQLNET.ALLOWED_LOGON_VERSION_SERVER</code>参数更改为<code class="codeph">12a</code> ，请检查连接到服务器的数据库客户端的版本。
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ol>
                              <li>
                                 <p>以具有<code class="codeph">ALTER USER</code>系统特权的管理用户身份登录SQL * Plus。
                                 </p>
                              </li>
                              <li>
                                 <p>执行以下SQL查询以查找用户的密码版本。</p><pre class="oac_no_warn" dir="ltr">来自DBA_USERS的SELECT USERNAME，PASSWORD_VERSIONS;</pre></li>
                              <li>
                                 <p>使没有<code class="codeph">12C</code>密码版本的每个用户的帐户过期。
                                 </p>
                                 <p>例如，假设用户<code class="codeph">blake</code>仍在使用<code class="codeph">10G</code>密码版本：</p><pre class="oac_no_warn" dir="ltr">ALTER USER blake PASSWORD EXPIRE;</pre><p>这些用户下次登录时，将强制他们更改密码，这使服务器能够生成独占模式所需的密码版本。</p>
                              </li>
                              <li>
                                 <p>提醒用户在合理的时间段内（例如30天）登录。</p>
                                 <p>登录时，系统会提示他们更改密码，确保服务器生成独占模式下身份验证所需的密码版本。（有关Exclusive Mode如何工作的详细信息，请参阅<a href="../netrf/index.html" target="_blank"><span><cite>Oracle Database Net Services Reference中</cite></span></a> <code class="codeph">SQLNET.ALLOWED_LOGON_VERSION_SERVER</code>参数的使用说明。）
                                 </p>
                              </li>
                              <li>
                                 <p>手动更改测试脚本或批处理作业中使用的帐户的密码，以便它们与这些测试脚本或批处理作业使用的密码完全匹配，包括密码的大小写。</p>
                              </li>
                              <li>
                                 <p>启用独占模式配置如下：</p>
                                 <ol type="a">
                                    <li>
                                       <p>创建<code class="codeph">sqlnet.ora</code>参数文件的备份副本。
                                       </p>
                                       <p>默认情况下，此文件位于UNIX操作系统上的<code class="codeph">$ORACLE_HOME/network/admin</code>目录和Microsoft Windows操作系统上的<code class="codeph">%ORACLE_HOME%\network\admin</code>目录中。
                                       </p>
                                       <p>请注意，在Multitenant环境中， <code class="codeph">sqlnet.ora</code>文件中的设置适用于所有PDB。
                                       </p>
                                    </li>
                                    <li>
                                       <p>设置<code class="codeph">SQLNET.ALLOWED_LOGON_VERSION_SERVER</code>参数，使用<a href="configuring-authentication.html#GUID-B4EA8B28-B76E-4C03-AB59-0B322DA9F3EF__GUID-53B5D818-7726-420A-AFE2-79D189B60226" title="ALLOWED_LOGON_VERSION_SERVER设置">表3-3</a>获取指导。
                                       </p>
                                    </li>
                                    <li>
                                       <p>保存<code class="codeph">sqlnet.ora</code>文件。
                                       </p>
                                    </li>
                                 </ol>
                              </li>
                           </ol>
                           <p><a href="configuring-authentication.html#GUID-B4EA8B28-B76E-4C03-AB59-0B322DA9F3EF__GUID-53B5D818-7726-420A-AFE2-79D189B60226" title="ALLOWED_LOGON_VERSION_SERVER设置">表3-3</a>显示了<code class="codeph">SQLNET.ALLOWED_LOGON_VERSION_SERVER</code>设置对密码版本生成的影响。
                           </p>
                           <div class="tblformal" id="GUID-B4EA8B28-B76E-4C03-AB59-0B322DA9F3EF__GUID-53B5D818-7726-420A-AFE2-79D189B60226">
                              <p class="titleintable">表3-3 SQLNET.ALLOWED_LOGON_VERSION_SERVER对密码版本生成的影响</p>
                              <table cellpadding="4" cellspacing="0" class="Formal" title="SQLNET.ALLOWED_LOGON_VERSION_SERVER对密码版本生成的影响" border="1" summary="ALLOWED_LOGON_VERSION_SERVER Settings" frame="hsides" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="20%" id="d20073e9007">SQLNET.ALLOWED_LOGON_VERSION_SERVER设置</th>
                                       <th align="left" valign="bottom" width="20%" id="d20073e9010">8</th>
                                       <th align="left" valign="bottom" width="20%" id="d20073e9013">11</th>
                                       <th align="left" valign="bottom" width="20%" id="d20073e9016">12</th>
                                       <th align="left" valign="bottom" width="20%" id="d20073e9019">12A</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="20%" id="d20073e9024" headers="d20073e9007 ">
                                          <p>服务器以独占模式运行？</p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d20073e9024 d20073e9010 ">
                                          <p>没有</p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d20073e9024 d20073e9013 ">
                                          <p>没有</p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d20073e9024 d20073e9016 ">
                                          <p>是</p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d20073e9024 d20073e9019 ">
                                          <p>是</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="20%" id="d20073e9040" headers="d20073e9007 ">
                                          <p>生成<code class="codeph">10G</code>密码版本？
                                          </p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d20073e9040 d20073e9010 ">
                                          <p>是</p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d20073e9040 d20073e9013 ">
                                          <p>是</p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d20073e9040 d20073e9016 ">
                                          <p>没有</p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d20073e9040 d20073e9019 ">
                                          <p>没有</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="20%" id="d20073e9059" headers="d20073e9007 ">
                                          <p>生成<code class="codeph">11G</code>密码版本？
                                          </p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d20073e9059 d20073e9010 ">
                                          <p>是</p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d20073e9059 d20073e9013 ">
                                          <p>是</p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d20073e9059 d20073e9016 ">
                                          <p>是</p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d20073e9059 d20073e9019 ">
                                          <p>没有</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="20%" id="d20073e9078" headers="d20073e9007 ">
                                          <p>生成<code class="codeph">12C</code>密码版本？
                                          </p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d20073e9078 d20073e9010 ">
                                          <p>是</p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d20073e9078 d20073e9013 ">
                                          <p>是</p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d20073e9078 d20073e9016 ">
                                          <p>是</p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d20073e9078 d20073e9019 ">
                                          <p>是</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                           <p>如果仅使用Oracle Database 12c发行版12.1.0.2或更高版本的客户端，则将<code class="codeph">SQLNET.ALLOWED_LOGON_VERSION_SERVER</code>设置为<code class="codeph">12a</code> 。
                           </p>
                           <p>设置越高，密码版本的使用限制越多，如下所示：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>设置为<code class="codeph">12a</code> ，限制性最强且最安全的设置，仅允许<code class="codeph">12C</code>密码版本。
                                 </p>
                              </li>
                              <li>
                                 <p>设置为<code class="codeph">12</code>允许<code class="codeph">11G</code>和<code class="codeph">12C</code>密码版本用于身份验证。
                                 </p>
                              </li>
                              <li>
                                 <p>设置为<code class="codeph">8</code>允许最密码版本： <code class="codeph">10G</code> ， <code class="codeph">11G</code>和<code class="codeph">12C</code> 。</p>
                              </li>
                           </ul>
                           <p>有关<code class="codeph">SQLNET.ALLOWED_LOGON_VERSION_SERVER</code>参数的详细信息，请参阅<a href="../netrf/parameters-for-the-sqlnet.ora.html#NETRF2016" target="_blank"><span><cite>Oracle Database Net Services Reference</cite></span></a> 。
                           </p>
                           <div class="infoboxnote" id="GUID-B4EA8B28-B76E-4C03-AB59-0B322DA9F3EF__GUID-BC2D6119-05EB-4682-9C6A-8A1AE64D4774">
                              <p class="notep1">注意：</p>如果系统托管到运行早期版本的目标数据库的固定数据库链接，则可以设置<code class="codeph">SQLNET.ALLOWED_LOGON_VERSION_CLIENT</code>参数，如<a href="configuring-authentication.html#GUID-19E3BD93-A3A7-4110-9A63-5C96CDD4EED8" title="SQLNET.ALLOWED_LOGON_VERSION_SERVER和SQLNET.ALLOWED_LOGON_VERSION_CLIENT参数可以容纳不同版本的数据库和客户端之间的连接。">服务器和客户端登录版本如何影响数据库链接中所述</a> 。
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-828FFD2F-AB0B-4A00-99CF-AA680E9B0314" title="12C密码版本使用户能够创建符合合规标准的复杂密码。">使用12C密码版本确保防止密码安全威胁</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-19E3BD93-A3A7-4110-9A63-5C96CDD4EED8" name="GUID-19E3BD93-A3A7-4110-9A63-5C96CDD4EED8"></a><h5 id="DBSEG-GUID-19E3BD93-A3A7-4110-9A63-5C96CDD4EED8" class="sect5">服务器和客户端登录版本如何影响数据库链接</h5>
                     <div>
                        <p><code class="codeph">SQLNET.ALLOWED_LOGON_VERSION_SERVER</code>和<code class="codeph">SQLNET.ALLOWED_LOGON_VERSION_CLIENT</code>参数可以容纳不同版本的数据库和客户端之间的连接。
                        </p>
                        <p>下图说明了不同版本的数据库和客户端之间的连接如何工作。<code class="codeph">SQLNET.ALLOWED_LOGON_VERSION_CLIENT</code>参数影响承载数据库链接<span class="bold">H</span>的服务器的“客户端允许登录版本”方面。此设置使<span class="bold">H</span>能够通过数据库链接连接到较旧的服务器，例如运行Oracle 9 <span class="italic">i</span> （ <span class="bold">T</span> ）的服务器，但仍拒绝来自较旧的未修补客户端（ <span class="bold">U</span> ）的连接。发生这种情况时，Oracle Net Services协议协商失败，从而引发<code class="codeph">ORA-28040: No matching authentication protocol error</code>此客户端<code class="codeph">ORA-28040: No matching authentication protocol error</code>消息，该客户端正尝试使用Oracle 9 <span class="italic">I</span>软件进行身份验证。Oracle数据库10 <span class="italic">g</span>版本10.2客户端<span class="bold">E</span>的Oracle Net Services协议协商成功，因为此版本包含关键补丁更新CPUOct2012。版本11.2.0.3客户端<span class="bold">C</span>的Oracle Net Services协议协商成功，因为它使用安全密码版本。
                        </p>
                        <div class="figure" id="GUID-19E3BD93-A3A7-4110-9A63-5C96CDD4EED8__GUID-1EE56971-9530-48AB-83AF-8034914AF57A"><img src="img/dbseg_vm_001.png" alt="下面是dbseg_vm_001.eps的描述" title="下面是dbseg_vm_001.eps的描述" longdesc="img_text/dbseg_vm_001.html"><br><a href="img_text/dbseg_vm_001.html">说明dbseg_vm_001.eps的说明</a></div>
                        <!-- class="figure" -->
                        <p>此方案对承载数据库链接<span class="bold">H</span>的系统使用以下设置：</p><pre class="oac_no_warn" dir="ltr">SQLNET.ALLOWED_LOGON_VERSION_CLIENT = 8 SQLNET.ALLOWED_LOGON_VERSION_SERVER = 12</pre><p>请注意，远程Oracle数据库<span class="bold">T</span>具有以下设置：</p><pre class="oac_no_warn" dir="ltr">SQLNET.ALLOWED_LOGON_VERSION = 8</pre><p>如果远程Oracle数据库<span class="bold">T</span>的发行版未达到或超过为主机<span class="bold">H</span>设置的<code class="codeph">SQLNET.ALLOWED_LOGON_VERSION_CLIENT</code>参数定义的值，则在对数据库链接用户进行身份验证期间，对固定数据库链接的查询将失败，从而导致<code class="codeph">ORA-28040: No matching authentication protocol</code>当最终用户尝试通过数据库链接访问表时， <code class="codeph">ORA-28040: No matching authentication protocol</code>错误。
                        </p>
                        <div class="infoboxnote" id="GUID-19E3BD93-A3A7-4110-9A63-5C96CDD4EED8__GUID-C7347703-A6A1-4B57-850C-F063BE2CE602">
                           <p class="notep1">注意：</p>
                           <p>如果您使用的是较旧的Oracle数据库客户端（例如Oracle Database <span class="italic">11g</span>发行版11.1.0.7），那么Oracle强烈建议您升级以使用关键的修补程序更新CPUOct2012。
                           </p>
                           <p></p>
                        </div>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-19E3BD93-A3A7-4110-9A63-5C96CDD4EED8__GUID-D9BAFE3C-26BB-49DA-9317-42D994885FE7">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>有关<code class="codeph">SQLNET.ALLOWED_LOGON_VERSION_CLIENT</code>参数的详细信息，请<a href="../netrf/parameters-for-the-sqlnet.ora.html#NETRF2010" target="_blank"><span><cite>参见Oracle数据库网络服务参考</cite></span></a></p>
                              </li>
                              <li>
                                 <p>有关CPUOct2012的更多信息，请<a href="http://www.oracle.com/technetwork/topics/security/cpuoct2012-1515893.html" target="_blank"><code class="codeph">http://www.oracle.com/technetwork/topics/security/cpuoct2012-1515893.html</code></a></p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-828FFD2F-AB0B-4A00-99CF-AA680E9B0314" title="12C密码版本使用户能够创建符合合规标准的复杂密码。">使用12C密码版本确保防止密码安全威胁</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG966"></a><div class="props_rev_3"><a id="GUID-7A14B904-0BDD-4510-8094-290881A07690" name="GUID-7A14B904-0BDD-4510-8094-290881A07690"></a><h5 id="DBSEG-GUID-7A14B904-0BDD-4510-8094-290881A07690" class="sect5">配置Oracle数据库客户端以独占使用12C密码版本</h5>
                     <div>
                        <p>入侵者可能会尝试配置虚假服务器以降级身份验证并欺骗客户端使用较弱的密码哈希版本。</p>
                        <div class="section">
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>为防止使用<code class="codeph">10G</code>密码版本或<code class="codeph">10G</code>和<code class="codeph">11G</code>密码版本，在配置服务器后，将客户端配置为以独占模式运行，如下所示：</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p>要使用客户端独占模式设置允许<code class="codeph">11G</code>和<code class="codeph">12C</code>密码版本：</p><pre class="oac_no_warn" dir="ltr">SQLNET.ALLOWED_LOGON_VERSION_CLIENT = 12</pre></li>
                                    <li>
                                       <p>要使用限制性更强的客户端独占模式设置，仅允许<code class="codeph">12C</code>密码版本（此设置允许客户端仅连接到Oracle Database 12 <span class="italic">c第</span> 1版（12.1.0.2）和更高版本的服务器）：</p><pre class="oac_no_warn" dir="ltr">SQLNET.ALLOWED_LOGON_VERSION_CLIENT = 12a</pre></li>
                                 </ul>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>如果服务器和客户端都安装在同一台计算机上，请确保每个<code class="codeph">TNS_ADMIN</code>环境变量指向其各自Oracle Net Services配置文件的正确目录。如果两者的变量相同，则服务器可以使用客户端的<code class="codeph">SQLNET.ALLOWED_LOGON_VERSION_CLIENT</code>设置。
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>如果您使用的是较旧的Oracle数据库客户端（例如Oracle Database <span class="italic">11g</span>发行版11.1.0.7），则应将CPU Oct2012或更高版本应用于这些客户端。此补丁提供<code class="codeph">O5L_NP</code>能力。除非您应用此修补程序，否则用户将无法登录。
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-7A14B904-0BDD-4510-8094-290881A07690__GUID-559D8B0C-0060-4D7D-BD9A-A7A38A927CC6">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>有关<code class="codeph">SQLNET.ALLOWED_LOGON_VERSION_CLIENT</code>参数的详细信息，请<a href="../netrf/parameters-for-the-sqlnet.ora.html#NETRF2010" target="_blank"><span><cite>参见Oracle数据库网络服务参考</cite></span></a></p>
                              </li>
                              <li>
                                 <p>有关CPUOct2012的更多信息，请访问以下Oracle Technology Network站点：</p>
                                 <p><a href="http://www.oracle.com/technetwork/topics/security/cpuoct2012-1515893.html" target="_blank"><code class="codeph">http://www.oracle.com/technetwork/topics/security/cpuoct2012-1515893.html</code></a></p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-828FFD2F-AB0B-4A00-99CF-AA680E9B0314" title="12C密码版本使用户能够创建符合合规标准的复杂密码。">使用12C密码版本确保防止密码安全威胁</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="DBSEG99815"></a><div class="props_rev_3"><a id="GUID-803496D2-19C7-4F02-94EC-C13EDD8FB17B" name="GUID-803496D2-19C7-4F02-94EC-C13EDD8FB17B"></a><h4 id="DBSEG-GUID-803496D2-19C7-4F02-94EC-C13EDD8FB17B" class="sect4">管理密码凭据的安全外部密码存储</h4>
                  <div>
                     <p>安全外部密码存储是客户端钱包，用于存储密码凭据。</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="configuring-authentication.html#GUID-2239A690-3F63-4B1D-A09B-94B8411700D5">关于安全外部密码存储</a><br>您可以使用客户端Oracle钱包存储密码凭据数据库连接。
                        </li>
                        <li class="ulchildlink"><a href="configuring-authentication.html#GUID-92B3C7D2-9D35-4D31-9DEB-CF4591FE3F1F">外部密码存储如何工作？</a><br>用户（以及应用程序，批处理作业和脚本）使用指定数据库连接字符串的标准<code class="codeph">CONNECT</code>语句连接到数据库。
                        </li>
                        <li class="ulchildlink"><a href="configuring-authentication.html#GUID-81FB4046-6BCF-4D62-8473-2CAC65C5FD38">关于配置客户端以使用外部密码存储</a><br>如果您的客户端配置为使用外部身份验证（如Windows本机身份验证或SSL），则Oracle数据库将使用该身份验证方法。
                        </li>
                        <li class="ulchildlink"><a href="configuring-authentication.html#GUID-3EA07020-A9F3-4FF9-9518-E1AEA3BDDBBE">配置客户端以使用外部密码存储</a><br>您可以使用<code class="codeph">mkstore</code>命令行实用程序将客户端配置为使用安全外部密码存储库功能。
                        </li>
                        <li class="ulchildlink"><a href="configuring-authentication.html#GUID-C0ECA1F5-7F91-4658-A927-F386E8B283D6">示例：带有电子钱包参数集的示例SQLNET.ORA文件</a><br>您可以在<span class="apiname" translate="no">sqlnet.ora</span>文件中设置特殊参数来控制如何管理钱包。
                        </li>
                        <li class="ulchildlink"><a href="configuring-authentication.html#GUID-2419D309-5874-4FDC-ADB7-65D5983B2053">管理外部密码存储凭据</a><br><code class="codeph">mkstore</code>命令行实用程序管理来自外部密码存储的凭据。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-CF1A8C33-5342-4257-AE8F-CF0BA437F65C" title="您可以通过多种方式保护用户密码，例如控制密码创建要求或使用密码管理策略。">配置密码保护</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="DBSEG99816"></a><div class="props_rev_3"><a id="GUID-2239A690-3F63-4B1D-A09B-94B8411700D5" name="GUID-2239A690-3F63-4B1D-A09B-94B8411700D5"></a><h5 id="DBSEG-GUID-2239A690-3F63-4B1D-A09B-94B8411700D5" class="sect5">关于安全外部密码存储</h5>
                     <div>
                        <p>您可以使用客户端Oracle钱包存储密码凭据数据库连接。</p>
                        <p>Oracle钱包是一个安全的软件容器，用于存储身份验证和签名凭据。此钱包使用可以简化依赖于密码凭据连接到数据库的大规模部署。配置此功能后，应用程序代码，脚本不再需要嵌入的用户名和密码。这样可以降低风险，因为不再公开密码，只要用户名或密码发生变化，就可以更轻松地实施密码管理策略，而无需更改应用程序代码。</p>
                        <div class="infoboxnote" id="GUID-2239A690-3F63-4B1D-A09B-94B8411700D5__GUID-4AB2780E-A97F-4472-A9E2-642BF6539E78">
                           <p class="notep1">注意：</p>
                           <p>钱包的外部密码存储区与存储公钥基础结构（PKI）凭据的区域是分开的。因此，您无法使用Oracle Wallet Manager来管理钱包的外部密码存储中的凭据。而是使用命令行实用程序<code class="codeph">mkstore</code>来管理这些凭据。
                           </p>
                        </div>
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>相关话题</strong></p>
                           <ul>
                              <li><a href="configuring-authentication.html#GUID-55ECBC9E-0C5A-4687-933A-6052B2AF5700" title="如果您担心恶意用户获取的代理身份验证中使用的密码，请使用安全的外部密码存储。">使用代理身份验证与安全外部密码存储</a></li>
                              <li><a href="../dbimi/using-oracle-wallet-manager.html#DBIMI-GUID-0383B8F6-73CA-4677-9009-A2926267A93B" target="_blank"><span><cite>Oracle数据库企业用户安全管理员指南</cite></span></a></li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-803496D2-19C7-4F02-94EC-C13EDD8FB17B" title="安全外部密码存储是客户端钱包，用于存储密码凭据。">管理密码凭据的安全外部密码存储</a></p>
                           </div>
                        </div>
                     </div>
                  </div><a id="DBSEG99817"></a><div class="props_rev_3"><a id="GUID-92B3C7D2-9D35-4D31-9DEB-CF4591FE3F1F" name="GUID-92B3C7D2-9D35-4D31-9DEB-CF4591FE3F1F"></a><h5 id="DBSEG-GUID-92B3C7D2-9D35-4D31-9DEB-CF4591FE3F1F" class="sect5">外部密码存储如何工作？</h5>
                     <div>
                        <p>用户（以及应用程序，批处理作业和脚本）使用指定数据库连接字符串的标准<code class="codeph">CONNECT</code>语句连接到数据库。
                        </p>
                        <p>此字符串可以包含用户名和密码，以及标识Oracle数据库网络上的数据库的Oracle Net服务名称。如果省略密码，则连接会提示用户输入密码。</p>
                        <p>例如，服务名称可以是标识该数据库的URL，也可以是您在数据库的<code class="codeph">tnsnames.ora</code>文件中输入的TNS别名。另一种可能性是<span class="italic"><code class="codeph">host:port:sid</code></span>字符串。
                        </p>
                        <p>以下示例是标准<code class="codeph">CONNECT</code>语句，可用于未配置为使用外部密码存储的客户端：</p><pre class="oac_no_warn" dir="ltr">CONNECT salesapp@sales_db.us.example.com输入密码： <span class="italic">password</span> CONNECT salesapp @ orasales输入密码： <span class="italic">password</span> CONNECT salesapp @ ourhost37：1527：DB17输入密码： <span class="italic">password</span>
</pre><p>在这些示例中， <code class="codeph">salesapp</code>是用户名，数据库的唯一连接字符串以三种不同的方式显示。您可以使用其URL <code class="codeph">sales_db.us.example.com</code>或其<code class="codeph">tnsnames.ora</code>文件中的TNS别名<code class="codeph">orasales</code> ，或其<span class="italic"><code class="codeph">host:port:sid</code></span>字符串。
                        </p>
                        <p>但是，当客户端配置为使用安全外部密码存储时，应用程序可以使用以下<code class="codeph">CONNECT</code>语句语法连接到数据库，而无需指定数据库登录凭据：</p><pre class="oac_no_warn" dir="ltr">CONNECT / @ <span class="italic">db_connect_string</span> CONNECT / <span class="italic">@db_connect_string</span> AS SYSDBA CONNECT / AS <span class="italic">@db_connect_string</span> SYSOPER</pre><p>在此规范中， <span class="italic"><code class="codeph">db_connect_string</code></span>是一个有效的连接字符串，用于访问目标数据库，例如服务名称，URL或别名，如前面的示例所示。每个用户帐户必须拥有自己唯一的连接字符串;您无法为多个用户创建一个连接字符串。
                        </p>
                        <p>在这种情况下，数据库凭据，用户名和密码将安全地存储在为此目的创建的Oracle钱包中。此钱包的自动登录功能已打开，因此系统无需密码即可打开钱包。从钱包中，它获得了为其所代表的用户访问数据库的凭据。</p>
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>相关话题</strong></p>
                           <ul>
                              <li><a href="../dbimi/using-oracle-wallet-manager.html#DBIMI-GUID-C327BEC9-C5AC-4CC0-B8F4-680C0824F31C" target="_blank"><span><cite>Oracle数据库企业用户安全管理员指南</cite></span></a></li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-803496D2-19C7-4F02-94EC-C13EDD8FB17B" title="安全外部密码存储是客户端钱包，用于存储密码凭据。">管理密码凭据的安全外部密码存储</a></p>
                           </div>
                        </div>
                     </div>
                  </div><a id="DBSEG30253"></a><div class="props_rev_3"><a id="GUID-81FB4046-6BCF-4D62-8473-2CAC65C5FD38" name="GUID-81FB4046-6BCF-4D62-8473-2CAC65C5FD38"></a><h5 id="DBSEG-GUID-81FB4046-6BCF-4D62-8473-2CAC65C5FD38" class="sect5">关于配置客户端以使用外部密码存储</h5>
                     <div>
                        <p>如果您的客户端配置为使用外部身份验证（如Windows本机身份验证或SSL），则Oracle数据库将使用该身份验证方法。</p>
                        <p>用于此类型身份验证的相同凭据通常也用于登录数据库。对于不使用此类身份验证方法或希望覆盖它们以进行数据库身份验证的客户端，可以将<code class="codeph">sqlnet.ora</code>的<code class="codeph">SQLNET.WALLET_OVERRIDE</code>参数设置为<code class="codeph">TRUE</code> 。 <code class="codeph">SQLNET.WALLET_OVERRIDE</code>的默认值为<code class="codeph">FALSE</code> ，允许像以前一样标准使用身份验证凭据。
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-803496D2-19C7-4F02-94EC-C13EDD8FB17B" title="安全外部密码存储是客户端钱包，用于存储密码凭据。">管理密码凭据的安全外部密码存储</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG946"></a><div class="props_rev_3"><a id="GUID-3EA07020-A9F3-4FF9-9518-E1AEA3BDDBBE" name="GUID-3EA07020-A9F3-4FF9-9518-E1AEA3BDDBBE"></a><h5 id="DBSEG-GUID-3EA07020-A9F3-4FF9-9518-E1AEA3BDDBBE" class="sect5">配置客户端以使用外部密码存储</h5>
                     <div>
                        <p>您可以使用<code class="codeph">mkstore</code>命令行实用程序将客户端配置为使用安全外部密码存储库功能。
                        </p>
                        <ol>
                           <li class="stepexpand" id="GUID-3EA07020-A9F3-4FF9-9518-E1AEA3BDDBBE__CHDCAGGI"><span>在命令行中使用以下语法在客户端上创建钱包：</span><div><pre class="oac_no_warn" dir="ltr">mkstore -wrl <span class="italic">wallet_location -create</span></pre><p>例如：</p><pre class="oac_no_warn" dir="ltr">mkstore -wrl c：\ oracle \ product \ 12.2.0 \ db_1 \ wallets -create输入密码： <span class="italic">密码</span>
</pre><p><span class="italic"><code class="codeph">wallet_location</code></span>是您要创建和存储钱包的目录的路径。此命令将创建一个Oracle钱包，并在您指定的位置启用自动登录功能。自动登录功能使客户端无需提供密码即可访问钱包内容。有关自动登录钱包的信息，请参见“ <a href="../dbimi/using-oracle-wallet-manager.html#DBIMI160" target="_blank"><span><cite>Oracle数据库企业用户安全性管理员指南”</cite></span></a> 。
                                 </p>
                                 <p>该<code class="codeph">mkstore</code>实用<code class="codeph">-create</code>选项使用密码复杂性验证。有关详细信息，请参阅<a href="configuring-authentication.html#GUID-A39E191B-4A06-442D-94C7-5882B73DDCFA" title="复杂性验证检查每个密码是否足够复杂，以防止试图猜测用户密码的入侵者。">关于密码复杂性验证</a> 。
                                 </p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>通过在命令行使用以下语法在钱包中创建数据库连接凭据：</span><div><pre class="oac_no_warn" dir="ltr">mkstore -wrl <span class="italic">WALLET_LOCATION</span> -createCredential <span class="italic">db_connect_string</span> <span class="italic">用户名</span>输入密码： <span class="italic">密码</span>
</pre><p>例如：</p><pre class="oac_no_warn" dir="ltr">mkstore -wrl c：\ oracle \ product \ 12.2.0 \ db_1 \ wallets -createCredential orcl system输入密码： <span class="italic">password</span>
</pre><p>在本规范中：</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p><span class="italic"><code class="codeph">wallet_location</code></span>是您在步骤<a href="configuring-authentication.html#GUID-3EA07020-A9F3-4FF9-9518-E1AEA3BDDBBE__CHDCAGGI">1中</a>创建钱包的目录的路径。
                                       </p>
                                    </li>
                                    <li>
                                       <p><span class="italic"><code class="codeph">db_connect_string</code></span>是用于在<code class="codeph">tnsnames.ora</code>文件中指定数据库的TNS别名，或用于标识Oracle网络上的数据库的任何服务名称。默认情况下， <code class="codeph">tnsnames.ora</code>位于UNIX系统上的<code class="codeph">$ORACLE_HOME/network/admin</code>目录中以及Windows上的<span class="italic"><code class="codeph">ORACLE_HOME</code></span> <code class="codeph">\network\admin</code>中。
                                       </p>
                                    </li>
                                    <li>
                                       <p><span class="italic"><code class="codeph">username</code></span>是数据库登录凭据。出现提示时，输入该用户的密码。
                                       </p>
                                    </li>
                                 </ul>
                                 <p>对于要使用<code class="codeph">CONNECT /@</code> <span class="italic"><code class="codeph">db_connect_string</code></span>语法可访问的每个数据库，重复此步骤。该<span class="italic"><code class="codeph">db_connect_string</code></span>在使用<code class="codeph">CONNECT /@</code> <span class="italic"><code class="codeph">db_connect_string</code></span>语句必须是等同于<span class="italic"><code class="codeph">db_connect_string</code></span>在指定<code class="codeph">-createCredential</code>命令。
                                 </p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>在客户端<code class="codeph">sqlnet.ora</code>文件中，输入<code class="codeph">WALLET_LOCATION</code>参数并将其设置为您在步骤<a href="configuring-authentication.html#GUID-3EA07020-A9F3-4FF9-9518-E1AEA3BDDBBE__CHDCAGGI">1中</a>创建的钱包的目录位置。</span><div>
                                 <p>例如，如果您在<code class="codeph">$ORACLE_HOME/network/admin</code>创建了钱包并且您的Oracle主目录设置为<code class="codeph">/private/ora11</code> ，那么您需要在客户端<code class="codeph">sqlnet.ora</code>文件中输入以下内容：</p><pre class="oac_no_warn" dir="ltr">WALLET_LOCATION =（SOURCE =（METHOD = FILE）（METHOD_DATA =（DIRECTORY = <span class="italic">/ private / ora11 / network / admin</span> ）））</pre></div>
                           </li>
                           <li class="stepexpand"><span>在客户端<code class="codeph">sqlnet.ora</code>文件中，输入<code class="codeph">SQLNET.WALLET_OVERRIDE</code>参数并将其设置为<code class="codeph">TRUE</code> ，如下所示：</span><div><pre class="oac_no_warn" dir="ltr">SQLNET.WALLET_OVERRIDE = TRUE</pre><p>此设置使所有<code class="codeph">CONNECT /@</code> <span class="italic"><code class="codeph">db_connect_string</code></span>语句使用指定位置的钱包中的信息对数据库进行身份验证。
                                 </p>
                                 <p>使用外部身份验证时，具有此类钱包的经过身份验证的用户可以使用<code class="codeph">CONNECT /@</code> <span class="italic"><code class="codeph">db_connect_string</code></span>语法访问以前指定的数据库，而无需提供用户名和密码。但是，如果用户未通过该外部身份验证，则这些连接语句也会失败。
                                 </p>
                                 <div class="infoboxnote" id="GUID-3EA07020-A9F3-4FF9-9518-E1AEA3BDDBBE__GUID-06FA23B2-E5B4-4159-8722-F3ECABDA987C">
                                    <p class="notep1">注意：</p>
                                    <p>如果应用程序使用SSL进行加密，则<code class="codeph">sqlnet.ora</code>参数<code class="codeph">SQLNET.AUTHENTICATION_SERVICES</code>指定SSL并创建SSL钱包。如果此应用程序要使用秘密存储凭据对数据库进行身份验证（而不是SSL证书），则这些凭据必须存储在SSL钱包中。在SSL身份验证之后，如果<code class="codeph">SQLNET.WALLET_OVERRIDE = TRUE</code> ，则钱包中的用户名和密码将用于对数据库进行身份验证。如果<code class="codeph">SQLNET.WALLET_OVERRIDE = FALSE</code> ，则使用SSL证书。
                                    </p>
                                 </div>
                              </div>
                           </li>
                        </ol>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-803496D2-19C7-4F02-94EC-C13EDD8FB17B" title="安全外部密码存储是客户端钱包，用于存储密码凭据。">管理密码凭据的安全外部密码存储</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG99818"></a><div class="props_rev_3"><a id="GUID-C0ECA1F5-7F91-4658-A927-F386E8B283D6" name="GUID-C0ECA1F5-7F91-4658-A927-F386E8B283D6"></a><h5 id="DBSEG-GUID-C0ECA1F5-7F91-4658-A927-F386E8B283D6" class="sect5">示例：带有电子钱包参数集的示例SQLNET.ORA文件</h5>
                     <div>
                        <p>您可以在<span class="apiname" translate="no">sqlnet.ora</span>文件中设置特殊参数来控制如何管理钱包。
                        </p>
                        <p><a href="configuring-authentication.html#GUID-C0ECA1F5-7F91-4658-A927-F386E8B283D6__CBHJIIAB">示例3-2</a>显示了一个示例<code class="codeph">sqlnet.ora</code>文件，其中包含<code class="codeph">WALLET_LOCATION</code>和<code class="codeph">SQLNET.WALLET_OVERRIDE</code>参数，如<a href="configuring-authentication.html#GUID-3EA07020-A9F3-4FF9-9518-E1AEA3BDDBBE" title="You can configure a client to use the secure external password store feature by using the mkstore command-line utility.">配置客户端以使用外部密码存储库的</a>步骤3和4中<a href="configuring-authentication.html#GUID-3EA07020-A9F3-4FF9-9518-E1AEA3BDDBBE" title="您可以使用mkstore命令行实用程序将客户端配置为使用安全外部密码存储库功能。">所述</a> 。
                        </p>
                        <div class="example" id="GUID-C0ECA1F5-7F91-4658-A927-F386E8B283D6__CBHJIIAB">
                           <p class="titleinexample">示例3-2带有电子钱包参数集的示例SQLNET.ORA文件</p><pre class="oac_no_warn" dir="ltr">WALLET_LOCATION =（SOURCE =（METHOD = FILE）（METHOD_DATA =（DIRECTORY = <span class="italic">/ private / ora11 / network / admin</span> ）））SQLNET.WALLET_OVERRIDE = TRUE SSL_CLIENT_AUTHENTICATION = FALSE SSL_VERSION = 0</pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-803496D2-19C7-4F02-94EC-C13EDD8FB17B" title="安全外部密码存储是客户端钱包，用于存储密码凭据。">管理密码凭据的安全外部密码存储</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG99819"></a><div class="props_rev_3"><a id="GUID-2419D309-5874-4FDC-ADB7-65D5983B2053" name="GUID-2419D309-5874-4FDC-ADB7-65D5983B2053"></a><h5 id="DBSEG-GUID-2419D309-5874-4FDC-ADB7-65D5983B2053" class="sect5">管理外部密码存储凭据</h5>
                     <div>
                        <p><code class="codeph">mkstore</code>命令行实用程序管理来自外部密码存储的凭据。
                        </p>
                     </div>
                     <div>
                        <ul class="ullinks">
                           <li class="ulchildlink"><a href="configuring-authentication.html#GUID-7DF0414E-7BAD-4E8E-8A4D-FFFFDD3A00E4">列出外部密码存储内容</a><br>您可以查看客户端钱包外部密码存储的内容，包括特定凭据。
                           </li>
                           <li class="ulchildlink"><a href="configuring-authentication.html#GUID-292E1245-82AE-45E1-8845-EFD3886864F5">将凭据添加到外部密码存储区</a><br>您可以在一个客户端钱包中存储多个凭据。
                           </li>
                           <li class="ulchildlink"><a href="configuring-authentication.html#GUID-99CB6F2B-6276-4895-BABF-46C4BCA3C4AC">修改外部密码存储中的凭据</a><br>如果数据库连接字符串发生更改，您可以修改存储在钱包中的数据库登录凭据。
                           </li>
                           <li class="ulchildlink"><a href="configuring-authentication.html#GUID-2B8827D7-ACF7-4984-8A87-85E52DE04582">从外部密码存储中删除凭据</a><br>如果数据库不再存在，则可以从钱包中删除数据库的登录凭据，或者禁用与特定数据库的连接。
                           </li>
                        </ul>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-803496D2-19C7-4F02-94EC-C13EDD8FB17B" title="安全外部密码存储是客户端钱包，用于存储密码凭据。">管理密码凭据的安全外部密码存储</a></p>
                           </div>
                        </div>
                     </div>
                     <a id="DBSEG99820"></a><div class="props_rev_3"><a id="GUID-7DF0414E-7BAD-4E8E-8A4D-FFFFDD3A00E4" name="GUID-7DF0414E-7BAD-4E8E-8A4D-FFFFDD3A00E4"></a><h6 id="DBSEG-GUID-7DF0414E-7BAD-4E8E-8A4D-FFFFDD3A00E4" class="sect6">列出外部密码存储内容</h6>
                        <div>
                           <p>您可以查看客户端钱包外部密码存储的内容，包括特定凭据。</p>
                           <div class="section">
                              <p>列出外部密码存储内容提供了可用于决定是从商店添加还是删除凭据的信息。</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>要列出外部密码存储的内容，请在命令行中输入以下命令：</p><pre class="oac_no_warn" dir="ltr">mkstore -wrl <span class="italic">wallet_location</span> -listCredential</pre></li>
                              </ul>
                              <p>例如：</p><pre class="oac_no_warn" dir="ltr">mkstore -wrl c：\ oracle \ product \ 19.1.0 \ db_1 \ wallets -listCredential</pre><p><span class="italic"><code class="codeph">wallet_location</code></span>指定钱包（其外部密码存储要查看的内容）所在的目录的路径。此命令列出该数据库的所有凭据数据库服务名称（别名）和相应的用户名（架构）。密码未列出。
                              </p>
                           </div>
                           <!-- class="section" -->
                        </div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-2419D309-5874-4FDC-ADB7-65D5983B2053" title="mkstore命令行实用程序管理来自外部密码存储的凭据。">管理外部密码存储凭据</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div><a id="DBSEG99821"></a><div class="props_rev_3"><a id="GUID-292E1245-82AE-45E1-8845-EFD3886864F5" name="GUID-292E1245-82AE-45E1-8845-EFD3886864F5"></a><h6 id="DBSEG-GUID-292E1245-82AE-45E1-8845-EFD3886864F5" class="sect6">将凭据添加到外部密码存储区</h6>
                        <div>
                           <p>您可以在一个客户端钱包中存储多个凭据。</p>
                           <div class="section">
                              <p>例如，如果客户端批处理作业连接到<code class="codeph">hr_database</code>并且脚本连接到<code class="codeph">sales_database</code> ，则可以将登录凭据存储在同一客户端钱包中。但是，您不能为同一钱包中的同一数据库存储多个凭据（用于登录到多个模式）。如果您具有同一数据库的多个登录凭据，则它们必须存储在单独的钱包中。
                              </p>
                           </div>
                           <!-- class="section" -->
                           <div class="section">
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>要将数据库登录凭据添加到现有客户端钱包，请在命令行中输入以下命令：</p><pre class="oac_no_warn" dir="ltr">mkstore -wrl <span class="italic">wallet_location</span> -createCredential <span class="italic">db_alias</span> <span class="italic">用户名</span>
</pre></li>
                              </ul>
                              <p>例如：</p><pre class="oac_no_warn" dir="ltr">mkstore -wrl c：\ oracle \ product \ 19.1.0 \ db_1 \ wallets -createCredential orcl system输入密码： <span class="italic">password</span>
</pre><p>在本规范中：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><span class="italic"><code class="codeph">wallet_location</code></span>是存储要添加凭据的客户端钱包的目录的路径。
                                    </p>
                                 </li>
                                 <li>
                                    <p><span class="italic"><code class="codeph">db_alias</code></span>可以是用于在<code class="codeph">tnsnames.ora</code>文件中指定数据库的TNS别名，也可以是用于在Oracle网络上标识数据库的任何服务名称。
                                    </p>
                                 </li>
                                 <li>
                                    <p><span class="italic"><code class="codeph">username</code></span>是应用程序连接到的架构的数据库登录凭据。出现提示时，输入该用户的密码。
                                    </p>
                                 </li>
                              </ul>
                           </div>
                           <!-- class="section" -->
                        </div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-2419D309-5874-4FDC-ADB7-65D5983B2053" title="mkstore命令行实用程序管理来自外部密码存储的凭据。">管理外部密码存储凭据</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div><a id="DBSEG99822"></a><div class="props_rev_3"><a id="GUID-99CB6F2B-6276-4895-BABF-46C4BCA3C4AC" name="GUID-99CB6F2B-6276-4895-BABF-46C4BCA3C4AC"></a><h6 id="DBSEG-GUID-99CB6F2B-6276-4895-BABF-46C4BCA3C4AC" class="sect6">修改外部密码存储中的凭据</h6>
                        <div>
                           <p>如果数据库连接字符串发生更改，您可以修改存储在钱包中的数据库登录凭据。</p>
                           <div class="section">
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>要修改钱包中的数据库登录凭据，请在命令行中输入以下命令：</p><pre class="oac_no_warn" dir="ltr">mkstore -wrl <span class="italic">wallet_location</span> -modifyCredential <span class="italic">db_alias</span> <span class="italic">username</span>
</pre></li>
                              </ul>
                              <p>例如：</p><pre class="oac_no_warn" dir="ltr">mkstore -wrl c：\ oracle \ product \ 19.1.0 \ db_1 \ wallets -modifyCredential sales_db输入密码： <span class="italic">密码</span>
</pre><p>在本规范中：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><span class="italic"><code class="codeph">wallet_location</code></span>是钱包所在目录的路径。
                                    </p>
                                 </li>
                                 <li>
                                    <p><span class="italic"><code class="codeph">db_alias</code></span>是要用于标识数据库的新别名或不同别名。它可以是您用于在<code class="codeph">tnsnames.ora</code>文件中指定数据库的TNS别名，也可以是用于在Oracle网络上标识数据库的任何服务名称。
                                    </p>
                                 </li>
                                 <li>
                                    <p><span class="italic"><code class="codeph">username</code></span>是新的或不同的数据库登录凭据。出现提示时，输入该用户的密码。
                                    </p>
                                 </li>
                              </ul>
                           </div>
                           <!-- class="section" -->
                        </div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-2419D309-5874-4FDC-ADB7-65D5983B2053" title="mkstore命令行实用程序管理来自外部密码存储的凭据。">管理外部密码存储凭据</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div><a id="DBSEG99823"></a><div class="props_rev_3"><a id="GUID-2B8827D7-ACF7-4984-8A87-85E52DE04582" name="GUID-2B8827D7-ACF7-4984-8A87-85E52DE04582"></a><h6 id="DBSEG-GUID-2B8827D7-ACF7-4984-8A87-85E52DE04582" class="sect6">从外部密码存储中删除凭据</h6>
                        <div>
                           <p>如果数据库不再存在，则可以从钱包中删除数据库的登录凭据，或者禁用与特定数据库的连接。</p>
                           <div class="section">
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>要从钱包中删除数据库登录凭据，请在命令行中输入以下命令：</p><pre class="oac_no_warn" dir="ltr">mkstore -wrl <span class="italic">wallet_location</span> -deleteCredential <span class="italic">db_alias</span>
</pre></li>
                              </ul>
                              <p>例如：</p><pre class="oac_no_warn" dir="ltr">mkstore -wrl c：\ oracle \ product \ 19.1.0 \ db_1 \ wallets -deleteCredential orcl</pre><p>在本规范中：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><span class="italic"><code class="codeph">wallet_location</code></span>是钱包所在目录的路径。
                                    </p>
                                 </li>
                                 <li>
                                    <p><span class="italic"><code class="codeph">db_alias</code></span>是用于在<code class="codeph">tnsnames.ora</code>文件中指定数据库的TNS别名，或用于标识Oracle数据库网络上的数据库的任何服务名称。
                                    </p>
                                 </li>
                              </ul>
                           </div>
                           <!-- class="section" -->
                        </div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-2419D309-5874-4FDC-ADB7-65D5983B2053" title="mkstore命令行实用程序管理来自外部密码存储的凭据。">管理外部密码存储凭据</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-F8895CE9-7E39-4512-901D-11723B90F441" name="GUID-F8895CE9-7E39-4512-901D-11723B90F441"></a><h4 id="DBSEG-GUID-F8895CE9-7E39-4512-901D-11723B90F441" class="sect4">管理管理用户的密码</h4>
                  <div>
                     <p>管理用户的密码具有特殊保护，例如密码文件和密码复杂功能。</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="configuring-authentication.html#GUID-47BF3ABA-75A2-4B55-A478-A86C507D3D62">关于管理管理用户的密码</a><br>管理用户的密码存储在数据库之外，以便即使数据库未打开也可以对用户进行身份验证。
                        </li>
                        <li class="ulchildlink"><a href="configuring-authentication.html#GUID-167D5546-454C-42D3-83EA-DFA8A7A38476">设置管理用户的LOCK和EXPIRED状态</a><br>帐户已被锁定的管理用户无法连接到数据库。
                        </li>
                        <li class="ulchildlink"><a href="configuring-authentication.html#GUID-72A89C41-6526-484C-ABA3-E460A629ADEC">管理用户的密码配置文件设置</a><br>为管理用户强制实施了多个用户配置文件密码设置。
                        </li>
                        <li class="ulchildlink"><a href="configuring-authentication.html#GUID-2D5ECE79-DD7B-4130-A0B0-94082C764984">管理用户的上次成功登录时间</a><br>捕获使用基于密码文件的身份验证的管理用户连接的上次成功登录时间。
                        </li>
                        <li class="ulchildlink"><a href="configuring-authentication.html#GUID-D104205B-FCC0-46B9-AB95-5ACAA0AF269A">管理用户密码文件的管理</a><br>将<code class="codeph">ORAPWD</code>实用程序<code class="codeph">FORMAT</code>参数设置为<code class="codeph">12.2</code>使您可以管理管理用户的密码配置文件参数。
                        </li>
                        <li class="ulchildlink"><a href="configuring-authentication.html#GUID-A1EFA791-2531-4638-BB62-33170E063751">迁移管理用户的密码文件</a><br><code class="codeph">ORAPWD</code>实用程序<code class="codeph">input_file</code>参数或DBUA可用于从早期密码文件格式迁移到12.2格式。
                        </li>
                        <li class="ulchildlink"><a href="configuring-authentication.html#GUID-8400831A-81DF-4194-8F11-58D71D2FBD5D">多租户选项如何影响管理用户的密码文件</a><br>在多租户环境中，本地和公共管理用户的密码信息存储在不同的位置。
                        </li>
                        <li class="ulchildlink"><a href="configuring-authentication.html#GUID-41505311-99D3-4891-9422-63DEC92E62F4">管理用户的密码复杂性验证功能</a><br>为了更好的安全性，请对管理用户的密码使用密码复杂性验证功能。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-CF1A8C33-5342-4257-AE8F-CF0BA437F65C" title="您可以通过多种方式保护用户密码，例如控制密码创建要求或使用密码管理策略。">配置密码保护</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="sect4"><a id="GUID-47BF3ABA-75A2-4B55-A478-A86C507D3D62" name="GUID-47BF3ABA-75A2-4B55-A478-A86C507D3D62"></a><h5 id="DBSEG-GUID-47BF3ABA-75A2-4B55-A478-A86C507D3D62" class="sect5">关于管理管理用户的密码</h5>
                     <div>
                        <p>管理用户的密码存储在数据库之外，以便即使数据库未打开也可以对用户进行身份验证。</p>
                        <p>密码文件没有特殊保护。密码验证程序必须存储在数据库之外，以便即使数据库未打开也可以执行身份验证。在以前的版本中，密码复杂性功能仅适用于非管理用户。从Oracle Database 12c版（12.2）开始，密码复杂性功能可用于非管理用户和管理用户。</p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-F8895CE9-7E39-4512-901D-11723B90F441" title="管理用户的密码具有特殊保护，例如密码文件和密码复杂功能。">管理管理用户的密码</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-167D5546-454C-42D3-83EA-DFA8A7A38476" name="GUID-167D5546-454C-42D3-83EA-DFA8A7A38476"></a><h5 id="DBSEG-GUID-167D5546-454C-42D3-83EA-DFA8A7A38476" class="sect5">设置管理用户的LOCK和EXPIRED状态</h5>
                     <div>
                        <p>帐户已被锁定的管理用户无法连接到数据库。</p>
                        <div class="section">
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>要解锁锁定或过期的管理帐户，请使用<code class="codeph">ALTER USER</code>语句。
                                 </p>
                              </li>
                           </ul>
                           <p>例如：</p><pre class="pre codeblock"><code>ALTER USER hr_admin ACCOUNT UNLOCK;</code></pre><p>如果管理用户的密码已过期，则下次用户尝试登录时，将提示用户创建新密码。</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-F8895CE9-7E39-4512-901D-11723B90F441" title="管理用户的密码具有特殊保护，例如密码文件和密码复杂功能。">管理管理用户的密码</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-72A89C41-6526-484C-ABA3-E460A629ADEC" name="GUID-72A89C41-6526-484C-ABA3-E460A629ADEC"></a><h5 id="DBSEG-GUID-72A89C41-6526-484C-ABA3-E460A629ADEC" class="sect5">管理用户的密码配置文件设置</h5>
                     <div>
                        <p>为管理用户强制实施了多个用户配置文件密码设置。</p>
                        <p>这些密码配置文件参数如下：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">FAILED_LOGIN_ATTEMPT</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">INACTIVE_ACCOUNT_TIME</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">PASSWORD_LOCK_TIME</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">PASSWORD_LIFE_TIME</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">PASSWORD_GRACE_TIME</code></p>
                           </li>
                        </ul>
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>相关话题</strong></p>
                           <ul>
                              <li><a href="managing-security-for-oracle-database-users.html#GUID-4A801626-019B-4234-869E-9C2C7877E7D6" title="配置文件是一组命名的资源限制和密码参数，用于限制用户的数据库使用和实例资源。">使用配置文件管理资源</a></li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-F8895CE9-7E39-4512-901D-11723B90F441" title="管理用户的密码具有特殊保护，例如密码文件和密码复杂功能。">管理管理用户的密码</a></p>
                           </div>
                        </div>
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-2D5ECE79-DD7B-4130-A0B0-94082C764984" name="GUID-2D5ECE79-DD7B-4130-A0B0-94082C764984"></a><h5 id="DBSEG-GUID-2D5ECE79-DD7B-4130-A0B0-94082C764984" class="sect5">管理用户的上次成功登录时间</h5>
                     <div>
                        <p>捕获使用基于密码文件的身份验证的管理用户连接的上次成功登录时间。</p>
                        <p>要查找此登录时间，请查询<code class="codeph">V$PWFILE_USERS</code>动态性能视图的<code class="codeph">LAST_LOGIN</code>列。
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-F8895CE9-7E39-4512-901D-11723B90F441" title="管理用户的密码具有特殊保护，例如密码文件和密码复杂功能。">管理管理用户的密码</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-D104205B-FCC0-46B9-AB95-5ACAA0AF269A" name="GUID-D104205B-FCC0-46B9-AB95-5ACAA0AF269A"></a><h5 id="DBSEG-GUID-D104205B-FCC0-46B9-AB95-5ACAA0AF269A" class="sect5">管理用户密码文件的管理</h5>
                     <div>
                        <p>将<code class="codeph">ORAPWD</code>实用程序<code class="codeph">FORMAT</code>参数设置为<code class="codeph">12.2</code>使您可以管理管理用户的密码配置文件参数。
                        </p>
                        <p>密码文件对于管理用户尤其重要，因为它将管理用户的凭据存储在外部文件中，而不是存储在数据库本身中。这使管理用户能够登录到未打开的数据库并执行查询数据字典视图等任务。要创建密码文件，必须使用<code class="codeph">ORAPWD</code>实用程序。
                        </p>
                        <p><code class="codeph">FORMAT</code>参数设置<code class="codeph">12.2</code> （默认设置）使密码文件能够容纳管理用户的密码配置文件信息。
                        </p>
                        <p>例如：</p><pre class="oac_no_warn" dir="ltr">orapwd file = orapworcl input_file = orapwold format = 12.2 ...</pre><p>将<code class="codeph">FORMAT</code>设置为<code class="codeph">12.2</code>强制执行以下规则：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>密码包含不少于8个字符，并包含至少一个数字和一个字母字符。</p>
                           </li>
                           <li>
                              <p>密码与用户名或用户名颠倒不同。</p>
                           </li>
                           <li>
                              <p>密码与数据库名称不同。</p>
                           </li>
                           <li>
                              <p>密码不包含单词<code class="codeph">oracle</code> （例如<code class="codeph">oracle123</code> ）。
                              </p>
                           </li>
                           <li>
                              <p>密码与以前的密码相差至少8个字符。</p>
                           </li>
                           <li>
                              <p>密码至少包含1个特殊字符。</p>
                           </li>
                        </ul>
                        <p><code class="codeph">FORMAT=12.2</code>也适用以下内部检查：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>密码不超过30个字符。</p>
                           </li>
                           <li>
                              <p>密码不包含双引号字符（ <code class="codeph">"</code> ）。但是，它可以用双引号括起来。
                              </p>
                           </li>
                        </ul>
                        <p>对管理用户强制执行以下用户配置文件密码设置：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">FAILED_LOGIN_ATTEMPT</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">INACTIVE_ACCOUNT_TIME</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">PASSWORD_GRACE_TIME</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">PASSWORD_LIFE_TIME</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">PASSWORD_LOCK_TIME</code></p>
                           </li>
                        </ul>
                        <p>您可以通过查询<code class="codeph">V$PWFILE_USERS</code>动态视图找到已包含在密码文件中的管理用户及其管理权限。
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-F8895CE9-7E39-4512-901D-11723B90F441" title="管理用户的密码具有特殊保护，例如密码文件和密码复杂功能。">管理管理用户的密码</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-A1EFA791-2531-4638-BB62-33170E063751" name="GUID-A1EFA791-2531-4638-BB62-33170E063751"></a><h5 id="DBSEG-GUID-A1EFA791-2531-4638-BB62-33170E063751" class="sect5">迁移管理用户的密码文件</h5>
                     <div>
                        <p><code class="codeph">ORAPWD</code>实用程序<code class="codeph">input_file</code>参数或DBUA可用于从早期密码文件格式迁移到12.2格式。
                        </p>
                        <p>您可以使用<code class="codeph">ORAPWD</code>实用程序文件和<code class="codeph">input_file</code>参数或使用Oracle数据库升级助手（DBUA）从早期密码文件格式迁移到12.2格式。
                        </p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="bold">ORAPWD FILE和INPUT_FILE参数：</span>要使用<code class="codeph">ORAPWD</code>实用程序进行迁移，请将<code class="codeph">FILE</code>参数设置为新密码文件的名称，将<code class="codeph">INPUT_FILE</code>参数设置为早期密码文件的名称。
                              </p>
                              <p>例如：</p><pre class="oac_no_warn" dir="ltr">orapwd file = orapworcl input_file = orapwold format = 12.2</pre></li>
                           <li>
                              <p><span class="bold">DBUA：</span>要从早期格式的密码文件（ <code class="codeph">FORMAT = LEGACY</code>和<code class="codeph">FORMAT = 12</code> ）进行迁移，可以在将早期数据库升级到当前版本时使用DBUA。但是，请确保数据库以只读模式打开。您可以通过查询<code class="codeph">V$DATABASE</code>动态视图的<code class="codeph">OPEN_MODE</code>列来检查数据库的只读状态。
                              </p>
                           </li>
                        </ul>
                        <p>也可以看看：</p>
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>相关话题</strong></p>
                           <ul>
                              <li><a href="../admin/getting-started-with-database-administration.html#ADMIN-GUID-1333CAF4-BA95-4C01-BC61-BB3949FF965F" target="_blank"><span><cite>Oracle数据库管理员指南</cite></span></a></li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-F8895CE9-7E39-4512-901D-11723B90F441" title="管理用户的密码具有特殊保护，例如密码文件和密码复杂功能。">管理管理用户的密码</a></p>
                           </div>
                        </div>
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-8400831A-81DF-4194-8F11-58D71D2FBD5D" name="GUID-8400831A-81DF-4194-8F11-58D71D2FBD5D"></a><h5 id="DBSEG-GUID-8400831A-81DF-4194-8F11-58D71D2FBD5D" class="sect5">多租户选项如何影响管理用户的密码文件</h5>
                     <div>
                        <p>在多租户环境中，本地和公共管理用户的密码信息存储在不同的位置。</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="bold">对于CDB管理用户：</span> CDB根目录中授予管理权限的CDB通用管理用户的密码信息（密码的哈希值）存储在密码文件中。
                              </p>
                           </li>
                           <li>
                              <p><span class="bold">对于CDB根目录外授予管理权限的CDB中的所有用户：</span>要查看有关这些用户的密码哈希信息的信息，请查询<code class="codeph">$PWFILE_USERS</code>动态视图。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-F8895CE9-7E39-4512-901D-11723B90F441" title="管理用户的密码具有特殊保护，例如密码文件和密码复杂功能。">管理管理用户的密码</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-41505311-99D3-4891-9422-63DEC92E62F4" name="GUID-41505311-99D3-4891-9422-63DEC92E62F4"></a><h5 id="DBSEG-GUID-41505311-99D3-4891-9422-63DEC92E62F4" class="sect5">管理用户的密码复杂性验证功能</h5>
                     <div>
                        <p>为了更好的安全性，请对管理用户的密码使用密码复杂性验证功能。</p>
                        <p>请注意以下事项：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="bold">配置文件：</span>您可以使用<code class="codeph">CREATE PROFILE</code>或<code class="codeph">ALTER PROFILE</code>语句的<code class="codeph">PASSWORD_VERIFY_FUNCTION</code>子句为<code class="codeph">SYS</code>用户指定密码复杂性验证功能。Oracle建议您使用密码验证功能来更好地保护管理用户的密码。
                              </p>
                           </li>
                           <li>
                              <p><span class="bold">ORAPWD密码文件：</span>如果使用<code class="codeph">ORAPWD</code>实用程序创建了密码文件，则Oracle数据库<code class="codeph">ORAPWD</code> <code class="codeph">SYS</code>用户以及使用<code class="codeph">SYSDBA</code> ， <code class="codeph">SYSBACKUP</code> ， <code class="codeph">SYSDG</code>和<code class="codeph">SYSKM</code>管理权限登录的管理用户强制执行密码复杂性检查。
                              </p>
                              <p>密码检查以下要求：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>密码包含不少于8个字符，并包含至少一个数字字符，一个字母字符和一个特殊字符。</p>
                                 </li>
                                 <li>
                                    <p>密码与用户名或用户名颠倒不同。</p>
                                 </li>
                                 <li>
                                    <p>密码不包含单词<code class="codeph">oracle</code> （例如<code class="codeph">oracle123</code> ）。
                                    </p>
                                 </li>
                                 <li>
                                    <p>密码与先前密码的不同之处至少为三个字符。</p>
                                 </li>
                              </ul>
                              <p>还会应用以下内部检查：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>密码不超过30个字符。</p>
                                 </li>
                                 <li>
                                    <p>密码不包含双引号字符（ <code class="codeph">"</code> ）。但是，它可以用双引号括起来。
                                    </p>
                                 </li>
                              </ul>
                           </li>
                        </ul>
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>相关话题</strong></p>
                           <ul>
                              <li><a href="configuring-authentication.html#GUID-00BED08C-E064-4824-9697-C7219CB8D3AB" title="Oracle数据库提供了一组可用于管理密码复杂性的功能。">管理密码的复杂性</a></li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-F8895CE9-7E39-4512-901D-11723B90F441" title="管理用户的密码具有特殊保护，例如密码文件和密码复杂功能。">管理管理用户的密码</a></p>
                           </div>
                        </div>
                     </div>
                  </div>
               </div>
            </div><a id="DBSEG30033"></a><div class="props_rev_3"><a id="GUID-DEC6EFFB-C0F2-4380-B6D4-798FDCD7CCBA" name="GUID-DEC6EFFB-C0F2-4380-B6D4-798FDCD7CCBA"></a><h3 id="DBSEG-GUID-DEC6EFFB-C0F2-4380-B6D4-798FDCD7CCBA" class="sect3">数据库管理员身份验证</h3>
               <div>
                  <p>您可以使用强身份验证，操作系统或使用密码的数据库对数据库管理员进行身份验证。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="configuring-authentication.html#GUID-72E0B1A9-E103-438C-B9A8-8EA22537053C">关于数据库管理员的身份验证</a><br>数据库管理员执行特殊的管理操作，例如关闭或启动数据库。
                     </li>
                     <li class="ulchildlink"><a href="configuring-authentication.html#GUID-9779C17E-1ECA-4360-9833-64EE16E7269B">强大的身份验证，管理员的集中管理</a><br>集中管理的数据库的强身份验证方法包括目录身份验证，Kerberos身份验证和SSL身份验证。
                     </li>
                     <li class="ulchildlink"><a href="configuring-authentication.html#GUID-BFC8BAC3-485A-448C-9519-8D1DA985BCC9">使用操作系统对数据库管理员进行身份验证</a><br>对于Windows和UNIX系统，您使用<code class="codeph">DBA</code>特权组对操作系统进行身份验证。
                     </li>
                     <li class="ulchildlink"><a href="configuring-authentication.html#GUID-542C6457-94D9-481D-863E-C98ACC8C0083">使用密码验证数据库管理员</a><br>密码文件用于对数据库管理员进行身份验证。
                     </li>
                     <li class="ulchildlink"><a href="configuring-authentication.html#GUID-B9ABDA55-6B40-428D-A305-F42388D3B387">使用密码文件进行数据库管理员身份验证的风险</a><br>请注意，使用密码文件可能会带来安全风险。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-00632C9C-5C01-4C8F-A4D0-5E575502A6AE" title="身份验证意味着验证连接到数据库的用户或其他实体的身份。">配置身份验证</a></p>
                     </div>
                  </div>
               </div>
               <a id="DBSEG1033"></a><div class="props_rev_3"><a id="GUID-72E0B1A9-E103-438C-B9A8-8EA22537053C" name="GUID-72E0B1A9-E103-438C-B9A8-8EA22537053C"></a><h4 id="DBSEG-GUID-72E0B1A9-E103-438C-B9A8-8EA22537053C" class="sect4">关于数据库管理员的身份验证</h4>
                  <div>
                     <p>数据库管理员执行特殊的管理操作，例如关闭或启动数据库。</p>
                     <p>Oracle数据库提供了保护具有<code class="codeph">SYSDBA</code> ， <code class="codeph">SYSOPER</code> ， <code class="codeph">SYSBACKUP</code> ， <code class="codeph">SYSDG</code>或<code class="codeph">SYSKM</code>管理权限的数据库管理员的身份验证的方法。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-DEC6EFFB-C0F2-4380-B6D4-798FDCD7CCBA" title="您可以使用强身份验证，操作系统或使用密码的数据库对数据库管理员进行身份验证。">数据库管理员身份验证</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DBSEG33331"></a><div class="props_rev_3"><a id="GUID-9779C17E-1ECA-4360-9833-64EE16E7269B" name="GUID-9779C17E-1ECA-4360-9833-64EE16E7269B"></a><h4 id="DBSEG-GUID-9779C17E-1ECA-4360-9833-64EE16E7269B" class="sect4">强大的身份验证，管理员的集中管理</h4>
                  <div>
                     <p>集中管理的数据库的强身份验证方法包括目录身份验证，Kerberos身份验证和SSL身份验证。</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="configuring-authentication.html#GUID-30E91ECB-1DA1-4C9E-B630-3C9E541CD915">关于数据库管理员的强身份验证</a><br>通过强身份验证，您可以集中控制<code class="codeph">SYSDBA</code>和<code class="codeph">SYSOPER</code>对多个数据库的访问。
                        </li>
                        <li class="ulchildlink"><a href="configuring-authentication.html#GUID-50423B70-962F-448E-A033-EF70C1BF48EC">为管理用户配置目录身份验证</a><br>Oracle Internet Directory为管理用户配置目录身份验证。
                        </li>
                        <li class="ulchildlink"><a href="configuring-authentication.html#GUID-16AB9351-C115-445A-9E4A-ADF2DD3A0FDA">为管理用户配置Kerberos身份验证</a><br>Oracle Internet Directory可用于为管理用户配置Kerberos身份验证。
                        </li>
                        <li class="ulchildlink"><a href="configuring-authentication.html#GUID-1E19217A-18FE-43D8-BB2D-CF5E8BB70118">为管理用户配置安全套接字层身份验证</a><br>客户端和服务器端都可以使用安全套接字层（SSL）对管理用户进行身份验证。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-DEC6EFFB-C0F2-4380-B6D4-798FDCD7CCBA" title="您可以使用强身份验证，操作系统或使用密码的数据库对数据库管理员进行身份验证。">数据库管理员身份验证</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="DBSEG574"></a><div class="props_rev_3"><a id="GUID-30E91ECB-1DA1-4C9E-B630-3C9E541CD915" name="GUID-30E91ECB-1DA1-4C9E-B630-3C9E541CD915"></a><h5 id="DBSEG-GUID-30E91ECB-1DA1-4C9E-B630-3C9E541CD915" class="sect5">关于数据库管理员的强身份验证</h5>
                     <div>
                        <p>通过强身份验证，您可以集中控制<code class="codeph">SYSDBA</code>和<code class="codeph">SYSOPER</code>对多个数据库的访问。
                        </p>
                        <p>在以下情况下，请考虑将此类型的身份验证用于数据库管理：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>您担心密码文件漏洞。</p>
                           </li>
                           <li>
                              <p>您的网站有非常严格的安全要求。</p>
                           </li>
                           <li>
                              <p>您希望将身份管理与数据库分开。例如，通过使用目录服务器（如Oracle Internet Directory（OID）），您可以单独维护，保护和管理该服务器。</p>
                           </li>
                        </ul>
                        <p>要使Oracle Internet Directory服务器能够授权<code class="codeph">SYSDBA</code>和<code class="codeph">SYSOPER</code>连接，请使用本节中介绍的以下方法之一，具体取决于您的环境。
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-9779C17E-1ECA-4360-9833-64EE16E7269B" title="集中管理的数据库的强身份验证方法包括目录身份验证，Kerberos身份验证和SSL身份验证。">强身份验证，管理员集中管理</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG99824"></a><div class="props_rev_3"><a id="GUID-50423B70-962F-448E-A033-EF70C1BF48EC" name="GUID-50423B70-962F-448E-A033-EF70C1BF48EC"></a><h5 id="DBSEG-GUID-50423B70-962F-448E-A033-EF70C1BF48EC" class="sect5">为管理用户配置目录身份验证</h5>
                     <div>
                        <p>Oracle Internet Directory为管理用户配置目录身份验证。</p>
                        <ol>
                           <li class="stepexpand"><span>使用与配置典型用户相同的过程配置管理用户。</span></li>
                           <li class="stepexpand"><span>在Oracle Internet Directory中，为该用户将管理的数据库授予<code class="codeph">SYSDBA</code>或<code class="codeph">SYSOPER</code>管理权限。</span><div>
                                 <p>仅将<code class="codeph">SYSDBA</code>或<code class="codeph">SYSOPER</code>授予可信用户。
                                 </p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>将<code class="codeph">LDAP_DIRECTORY_SYSAUTH</code>初始化参数设置为<code class="codeph">YES</code> ：</span><div><pre class="oac_no_warn" dir="ltr">ALTER SYSTEM SET LDAP_DIRECTORY_SYSAUTH = YES;</pre><p>设置为<code class="codeph">YES</code> ， <code class="codeph">LDAP_DIRECTORY_SYSAUTH</code>参数使<code class="codeph">SYSDBA</code>和<code class="codeph">SYSOPER</code>用户可以使用强身份验证方法对数据库进行身份验证。
                                 </p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>将<code class="codeph">LDAP_DIRECTORY_ACCESS</code>参数设置为<code class="codeph">PASSWORD</code>或<code class="codeph">SSL</code> 。例如：</span><div><pre class="oac_no_warn" dir="ltr">ALTER SYSTEM SET LDAP_DIRECTORY_ACCESS = PASSWORD;</pre><p>确保<code class="codeph">LDAP_DIRECTORY_ACCESS</code>初始化参数未设置为<code class="codeph">NONE</code> 。将此参数设置为<code class="codeph">PASSWORD</code>或<code class="codeph">SSL</code>可确保可以使用通过Oracle Internet Directory的<code class="codeph">SYSDBA</code>或<code class="codeph">SYSOPER</code>管理权限对用户进行身份验证。
                                 </p>
                              </div>
                           </li>
                        </ol>
                        <div class="section">
                           <p>之后，此用户可以通过在SQL * Plus的<code class="codeph">CONNECT</code>语句中包含网络服务名称来登录。例如，如果网络服务名称是<code class="codeph">orcl</code> <code class="codeph">SYSDBA</code>身份登录：</p><pre class="oac_no_warn" dir="ltr">CONNOME SOMEUSER @ ORCL AS SYSDBA输入密码： <span class="italic">密码</span>
</pre><p>如果数据库配置为使用密码文件进行远程验证，Oracle数据库将首先检查密码文件。</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>相关话题</strong></p>
                           <ul>
                              <li><a href="keeping-your-oracle-database-secure.html#GUID-1574C821-528C-4874-AD6B-92762DBEB400" title="Oracle提供了保护用户帐户和权限的指南。">保护用户帐户和权限的准则</a></li>
                              <li><a href="../refrn/LDAP_DIRECTORY_SYSAUTH.html#REFRN-GUID-E53FE270-5FB6-4E62-AD60-EE1FB85B2ADA" target="_blank"><span><cite>Oracle数据库参考</cite></span></a></li>
                              <li><a href="../refrn/LDAP_DIRECTORY_ACCESS.html#REFRN-GUID-42D7474A-331D-4171-8071-513B42F40524" target="_blank"><span><cite>Oracle数据库参考</cite></span></a></li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-9779C17E-1ECA-4360-9833-64EE16E7269B" title="集中管理的数据库的强身份验证方法包括目录身份验证，Kerberos身份验证和SSL身份验证。">强身份验证，管理员集中管理</a></p>
                           </div>
                        </div>
                     </div>
                  </div><a id="DBSEG99825"></a><div class="props_rev_3"><a id="GUID-16AB9351-C115-445A-9E4A-ADF2DD3A0FDA" name="GUID-16AB9351-C115-445A-9E4A-ADF2DD3A0FDA"></a><h5 id="DBSEG-GUID-16AB9351-C115-445A-9E4A-ADF2DD3A0FDA" class="sect5">为管理用户配置Kerberos身份验证</h5>
                     <div>
                        <p>Oracle Internet Directory可用于为管理用户配置Kerberos身份验证。</p>
                        <ol>
                           <li class="stepexpand"><span>使用与配置典型用户相同的过程配置管理用户。</span><div>
                                 <p>有关更多信息，请参阅<a href="configuring-kerberos-authentication.html#GUID-DF84261F-457A-4B9F-AE41-CDE6FE9178C4" title="Kerberos是一个受信任的第三方身份验证系统，它依赖于共享机密并假设第三方是安全的。">配置Kerberos身份验证</a> 。
                                 </p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>配置Oracle Internet Directory以进行Kerberos身份验证。</span><div>
                                 <p>有关更多信息，请参见“ <a href="../dbimi/enterprise-user-security-configuration-tasks-and-troubleshooting.html#DBIMI123" target="_blank"><span><cite>Oracle数据库企业用户安全管理员指南”</cite></span></a> 。
                                 </p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>在Oracle Internet Directory中，为该用户将管理的数据库授予<code class="codeph">SYSDBA</code>或<code class="codeph">SYSOPER</code>管理权限。</span><div>
                                 <p>仅将<code class="codeph">SYSDBA</code>或<code class="codeph">SYSOPER</code>授予可信用户。有关此主题的建议，请参阅<a href="keeping-your-oracle-database-secure.html#GUID-1574C821-528C-4874-AD6B-92762DBEB400" title="Oracle提供了保护用户帐户和权限的指南。">保护用户帐户和权限的准则</a> 。
                                 </p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>将<code class="codeph">LDAP_DIRECTORY_SYSAUTH</code>初始化参数设置为<code class="codeph">YES</code> ：</span><div><pre class="oac_no_warn" dir="ltr">ALTER SYSTEM SET LDAP_DIRECTORY_SYSAUTH = YES;</pre><p>设置为<code class="codeph">YES</code> ， <code class="codeph">LDAP_DIRECTORY_SYSAUTH</code>参数使<code class="codeph">SYSDBA</code>和<code class="codeph">SYSOPER</code>用户可以使用强身份验证方法对数据库进行身份验证。有关<code class="codeph">LDAP_DIRECTORY_SYSAUTH</code>更多信息，请参见<a href="../refrn/LDAP_DIRECTORY_SYSAUTH.html#REFRN10281" target="_blank"><span><cite>Oracle数据库参考</cite></span></a> 。</p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>将<code class="codeph">LDAP_DIRECTORY_ACCESS</code>参数设置为<code class="codeph">PASSWORD</code>或<code class="codeph">SSL</code> 。例如：</span><div><pre class="oac_no_warn" dir="ltr">ALTER SYSTEM SET LDAP_DIRECTORY_ACCESS = SSL;</pre><p>确保<code class="codeph">LDAP_DIRECTORY_ACCESS</code>初始化参数未设置为<code class="codeph">NONE</code> 。将此参数设置为<code class="codeph">PASSWORD</code>或<code class="codeph">SSL</code>可确保可以使用<code class="codeph">SYSDBA</code>或<code class="codeph">SYSOPER</code>通过Oracle Internet Directory对用户进行身份验证。有关<code class="codeph">LDAP_DIRECTORY_ACCESS</code>详细信息，请参阅<a href="../refrn/LDAP_DIRECTORY_ACCESS.html#REFRN10251" target="_blank"><span><cite>Oracle数据库参考</cite></span></a> 。</p>
                              </div>
                           </li>
                        </ol>
                        <div class="section">
                           <p>之后，此用户可以通过在SQL * Plus的<code class="codeph">CONNECT</code>语句中包含网络服务名称来登录。例如，如果网络服务名称是<code class="codeph">orcl</code> <code class="codeph">SYSDBA</code>身份登录：</p><pre class="oac_no_warn" dir="ltr">CONNECT / @ orcl AS SYSDBA</pre></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-9779C17E-1ECA-4360-9833-64EE16E7269B" title="集中管理的数据库的强身份验证方法包括目录身份验证，Kerberos身份验证和SSL身份验证。">强身份验证，管理员集中管理</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG99826"></a><div class="props_rev_3"><a id="GUID-1E19217A-18FE-43D8-BB2D-CF5E8BB70118" name="GUID-1E19217A-18FE-43D8-BB2D-CF5E8BB70118"></a><h5 id="DBSEG-GUID-1E19217A-18FE-43D8-BB2D-CF5E8BB70118" class="sect5">为管理用户配置安全套接字层身份验证</h5>
                     <div>
                        <p>客户端和服务器端都可以使用安全套接字层（SSL）对管理用户进行身份验证。</p>
                        <div class="section">
                           <ol>
                              <li>
                                 <p>配置客户端使用SSL：</p>
                                 <ol type="a">
                                    <li>
                                       <p>配置客户端钱包和用户证书。更新<code class="codeph">sqlnet.ora</code>配置文件中的钱包位置。
                                       </p>
                                       <p>您可以使用电子钱包管理器配置客户端钱包和用户证书。有关更多信息，请参见“ <a href="../dbimi/using-oracle-wallet-manager.html#DBIMI160" target="_blank"><span><cite>Oracle数据库企业用户安全管理员指南”</cite></span></a> 。
                                       </p>
                                    </li>
                                    <li>
                                       <p>配置Oracle网络服务名称以包含服务器DN，并在<code class="codeph">tnsnames.ora</code>使用带有SSL的TCP / IP。
                                       </p>
                                    </li>
                                    <li>
                                       <p>在<code class="codeph">listener.ora</code>使用SSL配置TCP / IP。
                                       </p>
                                    </li>
                                    <li>
                                       <p>设置客户端SSL密码套件和所需的SSL版本，然后在SSL中将SSL设置为<code class="codeph">sqlnet.ora</code>的身份验证服务。
                                       </p>
                                    </li>
                                 </ol>
                              </li>
                              <li>
                                 <p>配置服务器以使用SSL：</p>
                                 <ol type="a">
                                    <li>
                                       <p>在TCPS上为数据库侦听器启用SSL并提供相应的TNS名称。您可以使用Net Configuration Assistant配置TNS名称。</p>
                                    </li>
                                    <li>
                                       <p>将数据库PKI凭据存储在数据库钱包中。您可以使用电子钱包管理器执行此操作。</p>
                                    </li>
                                    <li>
                                       <p>将<code class="codeph">LDAP_DIRECTORY_ACCESS</code>初始化参数设置为<code class="codeph">SSL</code> ：</p><pre class="oac_no_warn" dir="ltr">ALTER SYSTEM SET LDAP_DIRECTORY_ACCESS = SSL;</pre><p>有关<code class="codeph">LDAP_DIRECTORY_ACCESS</code>详细信息，请参阅<a href="../refrn/LDAP_DIRECTORY_ACCESS.html#REFRN10251" target="_blank"><span><cite>Oracle数据库参考</cite></span></a> 。</p>
                                    </li>
                                 </ol>
                              </li>
                              <li>
                                 <p>配置Oracle Internet Directory以进行SSL用户身份验证。</p>
                                 <p>有关配置企业用户安全性SSL身份验证的信息，请参见“ <a href="../dbimi/enterprise-user-security-configuration-tasks-and-troubleshooting.html#DBIMI260" target="_blank"><span><cite>Oracle数据库企业用户安全性管理员指南</cite></span></a>
                                 </p>
                              </li>
                              <li>
                                 <p>在Oracle Internet Directory中，为用户将管理的数据库授予<code class="codeph">SYSDBA</code>或<code class="codeph">SYSOPER</code>权限。
                                 </p>
                              </li>
                              <li>
                                 <p>在服务器计算机上，将<code class="codeph">LDAP_DIRECTORY_SYSAUTH</code>初始化参数设置为<code class="codeph">YES</code> 。</p><pre class="oac_no_warn" dir="ltr">ALTER SYSTEM SET LDAP_DIRECTORY_SYSAUTH = YES;</pre><p>设置为<code class="codeph">YES</code> ， <code class="codeph">LDAP_DIRECTORY_SYSAUTH</code>参数使<code class="codeph">SYSDBA</code>和<code class="codeph">SYSOPER</code>用户可以使用强身份验证方法对数据库进行身份验证。有关<code class="codeph">LDAP_DIRECTORY_SYSAUTH</code>更多信息，请参见<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/dbseg&amp;id=REFRN10281" target="_blank"><span><cite>Oracle数据库参考</cite></span></a> 。</p>
                              </li>
                           </ol>
                           <p>之后，此用户可以通过在SQL * Plus的<code class="codeph">CONNECT</code>语句中包含网络服务名称来登录。例如，如果网络服务名称是<code class="codeph">orcl</code> <code class="codeph">SYSDBA</code>身份登录：</p><pre class="oac_no_warn" dir="ltr">CONNECT / @ orcl AS SYSDBA</pre></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-9779C17E-1ECA-4360-9833-64EE16E7269B" title="集中管理的数据库的强身份验证方法包括目录身份验证，Kerberos身份验证和SSL身份验证。">强身份验证，管理员集中管理</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="DBSEG99827"></a><div class="props_rev_3"><a id="GUID-BFC8BAC3-485A-448C-9519-8D1DA985BCC9" name="GUID-BFC8BAC3-485A-448C-9519-8D1DA985BCC9"></a><h4 id="DBSEG-GUID-BFC8BAC3-485A-448C-9519-8D1DA985BCC9" class="sect4">使用操作系统对数据库管理员进行身份验证</h4>
                  <div>
                     <p>对于Windows和UNIX系统，您使用<code class="codeph">DBA</code>特权组对操作系统进行身份验证。
                     </p>
                     <p>数据库管理员的操作系统身份验证通常涉及在操作系统上建立组，向该组授予<code class="codeph">DBA</code>权限，然后将应具有这些权限的人员的名称添加到该组。（在UNIX系统上，该组是<span class="bold">dba</span>组。）
                     </p>
                     <div class="infoboxnote" id="GUID-BFC8BAC3-485A-448C-9519-8D1DA985BCC9__GUID-4A8A27FF-810C-4AD8-A717-9776C0088EAC">
                        <p class="notep1">注意：</p>
                        <p>在多租户环境中，只能为CDB根目录使用数据库管理员的操作系统身份验证。您不能将它用于PDB，应用程序根目录或应用程序PDB。</p>
                     </div>
                     <p>在Microsoft Windows系统上：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>使用<code class="codeph">SYSDBA</code>管理权限连接的<code class="codeph">SYSDBA</code>可以利用Windows本机身份验证。如果这些用户使用其域帐户使用Oracle数据库，则必须明确授予他们本地管理权限和<code class="codeph">ORA_DBA</code>成员身份。
                           </p>
                        </li>
                        <li>
                           <p>Oracle建议您使用低权限Microsoft Windows用户帐户而不是Microsoft Windows内置帐户运行Oracle数据库服务。</p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-BFC8BAC3-485A-448C-9519-8D1DA985BCC9__GUID-743DF0BC-8979-477E-AA05-0AEEA0D6F7EF">
                        <p class="notep1">也可以看看：</p>
                        <p>有关配置数据库管理员操作系统身份验证的信息，请参见Oracle数据库操作系统特定文档</p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-DEC6EFFB-C0F2-4380-B6D4-798FDCD7CCBA" title="您可以使用强身份验证，操作系统或使用密码的数据库对数据库管理员进行身份验证。">数据库管理员身份验证</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DBSEG99828"></a><div class="props_rev_3"><a id="GUID-542C6457-94D9-481D-863E-C98ACC8C0083" name="GUID-542C6457-94D9-481D-863E-C98ACC8C0083"></a><h4 id="DBSEG-GUID-542C6457-94D9-481D-863E-C98ACC8C0083" class="sect4">使用密码验证数据库管理员</h4>
                  <div>
                     <p>密码文件用于对数据库管理员进行身份验证。</p>
                     <p>也就是说，已授予<code class="codeph">SYSDBA</code> ， <code class="codeph">SYSOPER</code> ， <code class="codeph">SYSASM</code> ， <code class="codeph">SYSBACKUP</code> ， <code class="codeph">SYSDG</code>和<code class="codeph">SYSKM</code>管理权限的Oracle数据库用户首先使用特定于数据库的密码文件进行身份验证。
                     </p>
                     <p>这些权限支持以下活动：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">SYSOPER</code>系统特权允许数据库管理员执行<code class="codeph">STARTUP</code> ， <code class="codeph">SHUTDOWN</code> ， <code class="codeph">ALTER DATABASE</code> <code class="codeph">OPEN/MOUNT</code> ， <code class="codeph">ALTER</code> <code class="codeph">DATABASE</code> <code class="codeph">BACKUP</code> ， <code class="codeph">ARCHIVE</code> <code class="codeph">LOG</code>和<code class="codeph">RECOVER</code>操作。<code class="codeph">SYSOPER</code>还包括<code class="codeph">RESTRICTED</code> <code class="codeph">SESSION</code>权限。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">SYSDBA</code>管理权限具有<code class="codeph">ADMIN</code> <code class="codeph">OPTION</code>所有系统权限，包括<code class="codeph">SYSOPER</code>管理权限，并允许<code class="codeph">CREATE</code> <code class="codeph">DATABASE</code>和基于时间的恢复。
                           </p>
                        </li>
                        <li>
                           <p>包含具有<code class="codeph">SYSDBA</code> ， <code class="codeph">SYSOPER</code> ， <code class="codeph">SYSASM</code> ， <code class="codeph">SYSBACKUP</code> ， <code class="codeph">SYSDG</code>和<code class="codeph">SYSKM</code>管理权限的用户的密码文件可以在不同的数据库之间共享。此外，此类密码文件身份验证可用于安全套接字层（SSL）或Kerberos配置，也可用于多租户环境中的常见管理用户。除<code class="codeph">SYS</code>用户外，您还可以拥有包含用户的共享密码文件。要在不同数据库之间共享密码文件，请将<code class="codeph">init.ora</code>文件中的<code class="codeph">REMOTE_LOGIN_PASSWORDFILE</code>参数设置为<code class="codeph">SHARED</code> 。</p>
                           <p>如果将<code class="codeph">REMOTE_LOGIN_PASSWORDFILE</code>初始化参数从<code class="codeph">NONE</code>设置为<code class="codeph">EXCLUSIVE</code>或<code class="codeph">SHARED</code> ，则确保密码文件与字典密码同步。有关更多信息，请参见“ <a href="../admin/index.html" target="_blank"><span><cite>Oracle数据库管理员指南”</cite></span></a> 。
                           </p>
                        </li>
                        <li>
                           <p>对于自动存储管理（ASM）环境，您可以创建共享ASM密码文件。请记住，您必须具有<code class="codeph">SYSASM</code>系统特权才能创建ASM密码文件。有关更多信息，请参见“ <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/dbseg&amp;id=OSTMG02600" target="_blank"><span><cite>Oracle自动存储管理管理员指南”</cite></span></a> 。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">SYSDG</code>管理权限必须包含在密码文件中，以便管理员分片以执行涉及文件传输和Oracle Recovery Manager（RMAN）活动的任务。
                           </p>
                        </li>
                        <li>
                           <p>默认情况下启用基于密码文件的身份验证。这意味着数据库已准备好使用密码文件来验证具有<code class="codeph">SYSDBA</code> ， <code class="codeph">SYSOPER</code> ， <code class="codeph">SYSASM</code> ， <code class="codeph">SYSBACKUP</code> ， <code class="codeph">SYSDG</code>和<code class="codeph">SYSKM</code>管理权限的用户。使用<code class="codeph">ORAPWD</code>实用程序创建密码文件后，将立即激活基于密码文件的身份验证。
                           </p>
                           <p>任何拥有<code class="codeph">EXECUTE</code>特权并对<code class="codeph">$ORACLE_HOME/dbs</code>目录具有写权限的人都可以运行<code class="codeph">ORAPWD</code>实用程序。
                           </p>
                        </li>
                        <li>
                           <p>密码限制如<code class="codeph">FAILED_LOGIN_ATTEMPTS</code>和<code class="codeph">PASSWORD_LIFE_TIME</code>强制执行用于管理登录，如果在Oracle数据库12中创建的密码文件<span class="italic">C</span>释放2（12.2）格式。
                           </p>
                        </li>
                     </ul>
                     <div class="infoboxnote" id="GUID-542C6457-94D9-481D-863E-C98ACC8C0083__GUID-28E60CE9-B8B7-4A60-A083-B38757810D9A">
                        <p class="notep1">注意：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>要查找密码文件中包含的用户列表，可以查询<code class="codeph">V$PWFILE_USERS</code>数据字典视图。
                              </p>
                           </li>
                           <li>
                              <p>请求的连接<code class="codeph">AS SYSDBA</code>或<code class="codeph">AS SYSOPER</code>必须使用这些短语。没有它们，连接失败。可以将Oracle数据库参数<code class="codeph">O7_DICTIONARY_ACCESSIBILITY</code>设置为<code class="codeph">FALSE</code>以仅将敏感数据字典访问限制为授权用户。该参数还强制执行所需的<code class="codeph">AS SYSDBA</code>或<code class="codeph">AS SYSOPER</code>语法。
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-DEC6EFFB-C0F2-4380-B6D4-798FDCD7CCBA" title="您可以使用强身份验证，操作系统或使用密码的数据库对数据库管理员进行身份验证。">数据库管理员身份验证</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DBSEG575"></a><div class="props_rev_3"><a id="GUID-B9ABDA55-6B40-428D-A305-F42388D3B387" name="GUID-B9ABDA55-6B40-428D-A305-F42388D3B387"></a><h4 id="DBSEG-GUID-B9ABDA55-6B40-428D-A305-F42388D3B387" class="sect4">使用密码文件进行数据库管理员身份验证的风险</h4>
                  <div>
                     <p>请注意，使用密码文件可能会带来安全风险。</p>
                     <p>因此，请考虑使用<a href="configuring-authentication.html#GUID-9779C17E-1ECA-4360-9833-64EE16E7269B" title="集中管理的数据库的强身份验证方法包括目录身份验证，Kerberos身份验证和SSL身份验证。">强身份验证，管理员集中管理中</a>描述的身份验证方法。
                     </p>
                     <p>密码安全风险的示例如下：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>入侵者可以窃取或攻击密码文件。</p>
                        </li>
                        <li>
                           <p>许多用户不更改默认密码。</p>
                        </li>
                        <li>
                           <p>密码很容易被猜到。</p>
                        </li>
                        <li>
                           <p>如果密码可以在字典中找到，则密码容易受到攻击。</p>
                        </li>
                        <li>
                           <p>如果入侵者获得密码的加密哈希值，那么太短的密码（可能是为了便于键入而选择）是易受攻击的。</p>
                        </li>
                     </ul>
                     <div class="infoboxnote" id="GUID-B9ABDA55-6B40-428D-A305-F42388D3B387__GUID-B3F9F6A6-F3D3-4810-87FB-EDD23ECE3260">
                        <p class="notep1">注意：</p>
                        <p>有关创建和维护密码文件的信息，请参见<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/dbseg&amp;id=ADMIN10241" target="_blank"><span><cite>“Oracle数据库管理员指南”</cite></span></a></p>
                     </div>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-DEC6EFFB-C0F2-4380-B6D4-798FDCD7CCBA" title="您可以使用强身份验证，操作系统或使用密码的数据库对数据库管理员进行身份验证。">数据库管理员身份验证</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="DBSEG30034"></a><div class="props_rev_3"><a id="GUID-1F783131-CD1C-4EA0-9300-C132651B0700" name="GUID-1F783131-CD1C-4EA0-9300-C132651B0700"></a><h3 id="DBSEG-GUID-1F783131-CD1C-4EA0-9300-C132651B0700" class="sect3">用户数据库认证</h3>
               <div>
                  <p>用户的数据库认证需要使用数据库本身内的信息来执行认证。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="configuring-authentication.html#GUID-042E1B07-0256-4174-B000-46E740ABA613">关于数据库认证</a><br>Oracle数据库可以使用存储在该数据库本身的信息来验证尝试连接到数据库的用户。
                     </li>
                     <li class="ulchildlink"><a href="configuring-authentication.html#GUID-FE91311F-0591-40DD-BBFF-1FE36AA097DC">数据库认证的优点</a><br>使用数据库对用户进行身份验证有三个好处。
                     </li>
                     <li class="ulchildlink"><a href="configuring-authentication.html#GUID-EA65C947-D913-4330-8704-C964F482F222">创建由数据库进行身份验证的用户</a><br>创建由数据库进行身份验证的用户时，为该用户分配密码。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-00632C9C-5C01-4C8F-A4D0-5E575502A6AE" title="身份验证意味着验证连接到数据库的用户或其他实体的身份。">配置身份验证</a></p>
                     </div>
                  </div>
               </div>
               <a id="DBSEG30341"></a><div class="props_rev_3"><a id="GUID-042E1B07-0256-4174-B000-46E740ABA613" name="GUID-042E1B07-0256-4174-B000-46E740ABA613"></a><h4 id="DBSEG-GUID-042E1B07-0256-4174-B000-46E740ABA613" class="sect4">关于数据库认证</h4>
                  <div>
                     <p>Oracle数据库可以使用存储在该数据库本身的信息来验证尝试连接到数据库的用户。</p>
                     <p>要将Oracle数据库配置为使用数据库身份验证，必须使用关联的密码创建每个用户。用户名可以使用国家语言支持（NLS）字符格式，但不能在密码中包含双引号字符。尝试建立连接时，用户必须提供此用户名和密码。</p>
                     <p>Oracle数据库生成用户密码的单向哈希值，并将其存储在验证提供的登录密码时使用。为了支持较旧的客户端，可以将Oracle数据库配置为使用各种不同的散列算法生成用户密码的单向散列。生成的密码哈希称为密码版本，其短名称为<code class="codeph">10G</code> ， <code class="codeph">11G</code>和<code class="codeph">12C</code> 。短名称<code class="codeph">10G</code> ， <code class="codeph">11G</code>和<code class="codeph">12C</code>用作单向密码哈希算法详细信息的缩写，这些算法在<code class="codeph">DBA_USERS</code>视图的<code class="codeph">PASSWORD_VERSIONS</code>列的文档中有更详细的描述。要查找任何给定用户的密码版本列表，请查询<code class="codeph">DBA_USERS</code>视图的<code class="codeph">PASSWORD_VERSIONS</code>列。
                     </p>
                     <p>默认情况下，Oracle Database 12 <span class="italic">c第</span> 2版（12.2）中目前使用的是单向散列算法的两个版本：盐渍SHA-1散列算法和盐渍PKBDF2 SHA-2 SHA-512散列算法。salted SHA-1哈希算法生成用于<code class="codeph">11G</code>密码版本的哈希。盐渍PKBDF2 SHA-2 SHA-512哈希算法生成用于<code class="codeph">12C</code>密码版本的哈希。这个哈希生成发生在相同的密码上;也就是说，两种算法都运行相同的密码。Oracle数据库在<code class="codeph">DBA_USERS</code>数据字典视图中记录这些密码版本。查询此视图时，您将看到两个密码版本。例如：</p><pre class="oac_no_warn" dir="ltr">来自DBA_USERS的SELECT USERNAME，PASSWORD_VERSIONS; USERNAME PASSWORD_VERSIONS -------- ----------------- ADAMS 11G，12C SYS 11G，12C ......
</pre><p>要在客户端或充当客户端的数据库服务器的身份验证期间指定允许的身份验证协议，可以在服务器<code class="codeph">sqlnet.ora</code>文件中显式设置<code class="codeph">SQLNET.ALLOWED_LOGON_VERSION_SERVER</code>参数。（此参数的客户端版本为<code class="codeph">SQLNET.ALLOWED_LOGON_VERSION_CLIENT</code> 。）测试每个连接尝试，如果客户端或服务器不满足其伙伴指定的客户端能力要求，则在“SQLNET”中的“客户端所需的能力”中， <code class="codeph">ORA-28040 No matching authentication protocol</code>错误，身份验证失败。 ALLOWED_LOGON_VERSION_SERVER设置“ <a href="../netrf/parameters-for-the-sqlnet.ora.html#NETRF2016" target="_blank"><span><cite>Oracle Database Net Services Reference中</cite></span></a> <code class="codeph">SQLNET.ALLOWED_LOGON_VERSION_SERVER</code>参数描述下的表”。该参数可以取值<code class="codeph">12a</code> ， <code class="codeph">12</code> ， <code class="codeph">11</code> ， <code class="codeph">10</code> ， <code class="codeph">9</code> ，或<code class="codeph">8</code> 。默认值为<code class="codeph">12</code> ，即独占模式。这些值表示身份验证协议的版本。Oracle建议值为<code class="codeph">12</code> 。但是，请注意，如果将<code class="codeph">SQLNET.ALLOWED_LOGON_VERSION_SERVER</code>和<code class="codeph">SQLNET.ALLOWED_LOGON_VERSION_CLIENT</code>设置为<code class="codeph">11</code> ，则包括JDBC瘦客户端在内的Oracle Database 11.1之前的客户端应用程序无法使用基于密码的身份验证对Oracle数据库进行身份验证。
                     </p>
                     <p>为了增强使用数据库身份验证时的安全性，Oracle建议您使用密码管理，包括帐户锁定，密码老化和过期，密码历史记录和密码复杂性验证。</p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-042E1B07-0256-4174-B000-46E740ABA613__GUID-789C5816-C881-4D31-80C9-AD50A89C1A23">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>有关<code class="codeph">SQLNET.ALLOWED_LOGON_VERSION_CLIENT</code>参数和<code class="codeph">ORA-28040 No matching authentication protocol</code>错误的详细信息，请<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/dbseg&amp;id=NETRF2010" target="_blank"><span><cite>参见Oracle数据库网络服务参考</cite></span></a></p>
                           </li>
                           <li>
                              <p>有关<code class="codeph">SQLNET.ALLOWED_LOGON_VERSION_SERVER</code>参数和独占模式的详细信息，请参阅<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/dbseg&amp;id=NETRF2012" target="_blank"><span><cite>Oracle数据库网络服务参考</cite></span></a></p>
                           </li>
                           <li>
                              <p><a href="configuring-authentication.html#GUID-A39E191B-4A06-442D-94C7-5882B73DDCFA" title="复杂性验证检查每个密码是否足够复杂，以防止试图猜测用户密码的入侵者。">关于密码复杂性验证</a>有关密码复杂性验证功能的信息</p>
                           </li>
                           <li>
                              <p>有关密码管理的更多信息，请<a href="configuring-authentication.html#GUID-75219D12-CBC8-4429-8512-90E7062371A8" title="密码管理策略可以创建和实施一组可以更好地保护用户密码的限制。">使用密码管理策略</a></p>
                           </li>
                           <li>
                              <p><a href="configuring-authentication.html#GUID-B7D8EB60-7FFF-4545-B339-87333024A8DF" title="默认情况下，Oracle数据库使用不允许不区分大小写的密码的独占模式来管理密码版本。">管理密码版本的用户</a> ，以获取有关管理密码版本的更多信息</p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-1F783131-CD1C-4EA0-9300-C132651B0700" title="用户的数据库认证需要使用数据库本身内的信息来执行认证。">用户的数据库身份验证</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DBSEG99829"></a><div class="props_rev_3"><a id="GUID-FE91311F-0591-40DD-BBFF-1FE36AA097DC" name="GUID-FE91311F-0591-40DD-BBFF-1FE36AA097DC"></a><h4 id="DBSEG-GUID-FE91311F-0591-40DD-BBFF-1FE36AA097DC" class="sect4">数据库认证的优点</h4>
                  <div>
                     <p>使用数据库对用户进行身份验证有三个好处。</p>
                     <p>这些优点如下：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>用户帐户和所有身份验证由数据库控制。不依赖于数据库之外的任何东西。</p>
                        </li>
                        <li>
                           <p>Oracle数据库提供强大的密码管理功能，以增强使用数据库身份验</p>
                        </li>
                        <li>
                           <p>当有小型用户社区时，它更容易管理。</p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-1F783131-CD1C-4EA0-9300-C132651B0700" title="用户的数据库认证需要使用数据库本身内的信息来执行认证。">用户的数据库身份验证</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DBSEG99830"></a><div class="props_rev_3"><a id="GUID-EA65C947-D913-4330-8704-C964F482F222" name="GUID-EA65C947-D913-4330-8704-C964F482F222"></a><h4 id="DBSEG-GUID-EA65C947-D913-4330-8704-C964F482F222" class="sect4">创建由数据库进行身份验证的用户</h4>
                  <div>
                     <p>创建由数据库进行身份验证的用户时，为该用户分配密码。</p>
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>要创建由数据库进行身份验证的用户，请在创建用户时包含<code class="codeph">IDENTIFIED BY</code>子句。
                              </p>
                           </li>
                        </ul>
                        <p>例如，以下SQL语句创建由Oracle数据库标识和验证的用户。用户<code class="codeph">sebastian</code>必须在连接到Oracle数据库时指定分配的密码。
                        </p><pre class="oac_no_warn" dir="ltr">创建用户sebastian IDENTIFIED BY <span class="italic">密码</span> ;</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="managing-security-for-oracle-database-users.html#GUID-F78AE647-184C-4790-9E95-493787CACDE1" title="用户帐户可能具有配置文件，默认角色和表空间限制等限制。">创建用户帐户</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-1F783131-CD1C-4EA0-9300-C132651B0700" title="用户的数据库认证需要使用数据库本身内的信息来执行认证。">用户的数据库身份验证</a></p>
                        </div>
                     </div>
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-22328DCF-B137-499B-ACC9-49D6C72B6A57" name="GUID-22328DCF-B137-499B-ACC9-49D6C72B6A57"></a><h3 id="DBSEG-GUID-22328DCF-B137-499B-ACC9-49D6C72B6A57" class="sect3">仅架构帐户</h3>
               <div>
                  <p>您可以创建仅模式帐户，即模式用户没有密码。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="configuring-authentication.html#GUID-54F53789-8FBD-436A-A301-23596803288D">关于仅使用模式的帐户</a><br>仅架构帐户无法登录到数据库，但可以在单个会话代理中进行代理。
                     </li>
                     <li class="ulchildlink"><a href="configuring-authentication.html#GUID-D54A2714-83FB-4C3A-875F-F17F7E338A8C">创建仅模式帐户</a><br><code class="codeph">CREATE USER</code> SQL语句创建仅模式帐户。
                     </li>
                     <li class="ulchildlink"><a href="configuring-authentication.html#GUID-7F38CFAB-8F74-4C58-8E2E-E105089C112C">更改仅模式帐户</a><br><code class="codeph">ALTER USER</code> SQL语句可用于修改仅模式帐户。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-00632C9C-5C01-4C8F-A4D0-5E575502A6AE" title="身份验证意味着验证连接到数据库的用户或其他实体的身份。">配置身份验证</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="sect3"><a id="GUID-54F53789-8FBD-436A-A301-23596803288D" name="GUID-54F53789-8FBD-436A-A301-23596803288D"></a><h4 id="DBSEG-GUID-54F53789-8FBD-436A-A301-23596803288D" class="sect4">关于仅使用模式的帐户</h4>
                  <div>
                     <p>仅架构帐户无法登录到数据库，但可以在单个会话代理中进行代理。</p>
                     <p>这种类型的帐户是为某些Oracle提供的模式以及一些用户创建的模式而设计的，可以在不指定密码或身份验证类型的情况下创建。除非使用<code class="codeph">ALTER USER</code>语句指定了身份验证方法，否则无法对其进行身份验证。仅模式帐户不包含<code class="codeph">DBA_USERS_WITH_DEFPWD</code>数据字典视图中的条目。
                     </p>
                     <p>默认情况下，Oracle数据库可用的大多数预定义模式用户帐户（例如样本模式用户帐户（例如， <code class="codeph">HR</code> ））都是仅模式帐户。您可以根据需要分配这些帐户密码，但为了更好的安全性，Oracle建议您之后将它们重新设置为仅模式。要检查架构用户帐户是否仅为架构，请查询<code class="codeph">DBA_USERS</code>数据字典视图的<code class="codeph">STATUS</code>列。<code class="codeph">NONE</code>表示该帐户仅为架构。
                     </p>
                     <p>请注意有关使用仅架构帐户的以下规则：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>仅架构帐户可用于管理员帐户和非管理员帐户。</p>
                        </li>
                        <li>
                           <p>只能在数据库实例上创建仅模式帐户，而不能在Oracle自动存储管理（ASM）环境中创建。</p>
                        </li>
                        <li>
                           <p>您可以将系统特权（例如<code class="codeph">CREATE ANY TABLE</code> ）和管理员角色（例如<code class="codeph">DBA</code> ）授予仅架构帐户。仅模式帐户可以创建表或程序等对象，假设它们必须更正授予它们的权限。
                           </p>
                        </li>
                        <li>
                           <p>您可以将单纯模式帐户配置为在单个会话代理中的代理身份验证中用作客户端用户。这是因为在单个会话代理中，仅验证代理用户的凭据，而不验证客户端用户的凭据。因此，仅架构帐户可以是客户端用户。但是，您无法为双代理方案配置仅架构帐户，因为必须验证客户端凭据。因此，仅对架构帐户的身份验证将失败。</p>
                        </li>
                        <li>
                           <p>仅模式帐户无法通过数据库链接进行连接，无论是使用连接的用户链接，固定用户链接还是当前用户链接。</p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="managing-security-for-oracle-database-users.html#GUID-F977219B-4C62-48BE-A040-351AF4D3AACF" title="如果安装示例模式，Oracle数据库会创建一组示例用户帐户。">预定义的示例模式用户帐户</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-22328DCF-B137-499B-ACC9-49D6C72B6A57" title="您可以创建仅模式帐户，即模式用户没有密码。">仅模式帐户</a></p>
                        </div>
                     </div>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-D54A2714-83FB-4C3A-875F-F17F7E338A8C" name="GUID-D54A2714-83FB-4C3A-875F-F17F7E338A8C"></a><h4 id="DBSEG-GUID-D54A2714-83FB-4C3A-875F-F17F7E338A8C" class="sect4">创建仅模式帐户</h4>
                  <div>
                     <p><code class="codeph">CREATE USER</code> SQL语句创建仅模式帐户。
                     </p>
                     <div class="section">只能在数据库实例上运行带有<code class="codeph">NO AUTHENTICATION</code>子句的<code class="codeph">CREATE USER</code>语句。您无法在Oracle自动存储管理（ASM）实例上运行它。
                     </div>
                     <!-- class="section" -->
                     <ul>
                        <li class="stepexpand"><span>将<code class="codeph">CREATE USER</code>语句与<code class="codeph">NO AUTHENTICATION</code>子句一起使用。</span><div>例如：<pre class="oac_no_warn" dir="ltr">创建用户psmith NO AUTHENTICATION;</pre></div>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-22328DCF-B137-499B-ACC9-49D6C72B6A57" title="您可以创建仅模式帐户，即模式用户没有密码。">仅模式帐户</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-7F38CFAB-8F74-4C58-8E2E-E105089C112C" name="GUID-7F38CFAB-8F74-4C58-8E2E-E105089C112C"></a><h4 id="DBSEG-GUID-7F38CFAB-8F74-4C58-8E2E-E105089C112C" class="sect4">更改仅模式帐户</h4>
                  <div>
                     <p><code class="codeph">ALTER USER</code> SQL语句可用于修改仅模式帐户。
                     </p>
                     <ol>
                        <li class="stepexpand"><span>检查架构用户是否具有管理权限。</span><div>您可以查询<code class="codeph">V$PWFILE_USERS</code>以查找架构用户是否具有管理权限。
                           </div>
                        </li>
                        <li class="stepexpand"><span>如果架构用户具有管理权限，则使用<code class="codeph">REVOKE</code>语句撤消这些权限。</span></li>
                        <li class="stepexpand"><span>使用带有<code class="codeph">NO AUTHENTICATION</code>子句的<code class="codeph">ALTER USER</code> SQL语句将模式帐户修改为不进行身份验证。</span><div>例如：<pre class="oac_no_warn" dir="ltr">ALTER USER psmith NO AUTHENTICATION;</pre></div>
                        </li>
                     </ol>
                     <div class="section">您可以使用<code class="codeph">ALTER USER</code>为仅架构帐户启用身份验证。
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-22328DCF-B137-499B-ACC9-49D6C72B6A57" title="您可以创建仅模式帐户，即模式用户没有密码。">仅模式帐户</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="DBSEG30035"></a><div class="props_rev_3"><a id="GUID-37BECE32-58D5-43BF-A098-97936D66968F" name="GUID-37BECE32-58D5-43BF-A098-97936D66968F"></a><h3 id="DBSEG-GUID-37BECE32-58D5-43BF-A098-97936D66968F" class="sect3">用户操作系统认证</h3>
               <div>
                  <p>Oracle数据库可以使用操作系统维护的信息进行身份验证。</p>
                  <p>使用操作系统对用户进行身份验证具有优点和缺点。</p>
                  <p>此功能具有以下优点：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>一旦通过操作系统进行身份验证，用户就可以更方便地连接到Oracle数据库，而无需指定用户名或密码。例如，经过操作系统身份验证的用户可以通过在命令行输入以下命令来调用SQL * Plus并省略用户名和密码提示：</p><pre class="oac_no_warn" dir="ltr">SQLPLUS /</pre><p>在SQL * Plus中，输入：</p><pre class="oac_no_warn" dir="ltr">连接/</pre></li>
                     <li>
                        <p>通过集中控制操作系统中的用户身份验证，Oracle数据库不需要存储或管理用户密码的加密哈希值（也称为验证者），尽管它仍然在数据库中维护用户名。</p>
                     </li>
                     <li>
                        <p>审计跟踪捕获操作系统用户名和数据库用户名，其中数据库用户名是<code class="codeph">OS_AUTHENT_PREFIX</code>实例初始化参数的值，前缀为操作系统用户名。例如，如果<code class="codeph">OS_AUTHENT_PREFIX</code>设置为<code class="codeph">OPS$</code>且操作系统用户名为<code class="codeph">psmith</code> ，则数据库用户名将为<code class="codeph">OPS$PSMITH</code> 。</p>
                     </li>
                     <li>
                        <p>您可以在同一系统中对操作系统和非操作系统用户进行身份验证。例如：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="bold">通过操作系统对用户进行身份验证。</span> 使用<code class="codeph">CREATE USER</code>语句的<code class="codeph">IDENTIFIED EXTERNALLY</code>子句创建用户帐户，然后设置<code class="codeph">OS_AUTHENT_PREFIX</code>初始化参数以指定Oracle数据库用于对尝试连接到服务器的用户进行身份验证的前缀。
                              </p>
                           </li>
                           <li>
                              <p><span class="bold">验证非操作系统用户。</span> 这些是分配了密码并由数据库进行身份验证的用户。
                              </p>
                           </li>
                           <li>
                              <p><span class="bold">验证Oracle数据库企业用户安全性用户。</span> 这些用户帐户使用<code class="codeph">CREATE USER</code>语句的<code class="codeph">IDENTIFIED GLOBALLY</code>子句<code class="codeph">CREATE USER</code> ，然后由当前位于同一数据库中的Oracle Internet Directory（OID）进行身份验证。
                              </p>
                           </li>
                        </ul>
                     </li>
                  </ul>
                  <p>但是，您应该了解使用操作系统对用户进行身份验证的以下缺点：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>用户必须在必须访问的计算机上拥有操作系统帐户。并非所有用户都拥有操作系统帐户，尤其是非管理用户。</p>
                     </li>
                     <li>
                        <p>如果用户使用此方法登录并远离终端，则另一个用户可以轻松登录，因为该用户不需要任何密码或凭据。这可能会造成严重的安全问题。</p>
                     </li>
                     <li>
                        <p>使用操作系统对数据库用户进行身份验证时，管理分布式数据库环境和数据库链接需要特别小心。经过操作系统验证的数据库链接可能会带来安全漏洞。因此，Oracle建议您不要使用它们。</p>
                     </li>
                     <li>
                        <p>在多租户环境中，只能为CDB根目录使用数据库管理员的操作系统身份验证。您不能将它用于PDB，应用程序根目录或应用程序PDB。</p>
                     </li>
                  </ul>
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-37BECE32-58D5-43BF-A098-97936D66968F__GUID-889F0449-8A40-4624-B7D9-6B2B98479D50">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/dbseg&amp;id=ADMIN" target="_blank"><span><cite>“Oracle数据库管理员指南”</cite></span></a> ，了解有关身份验证，操作系统，分布式数据库概念和分布式数据管理的更多信息</p>
                        </li>
                        <li>
                           <p>Oracle数据库的特定于操作系统的文档，以获取有关使用操作系统进行身份验证的详细信息</p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-00632C9C-5C01-4C8F-A4D0-5E575502A6AE" title="身份验证意味着验证连接到数据库的用户或其他实体的身份。">配置身份验证</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="DBSEG951"></a><div class="props_rev_3"><a id="GUID-F2004DF1-1122-4614-9D3D-2F8330855A93" name="GUID-F2004DF1-1122-4614-9D3D-2F8330855A93"></a><h3 id="DBSEG-GUID-F2004DF1-1122-4614-9D3D-2F8330855A93" class="sect3">用户的网络认证</h3>
               <div>
                  <p>您可以使用第三方服务的安全套接字层通过网络对用户进行身份验证。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="configuring-authentication.html#GUID-AF7D7861-59C9-4621-85C7-9B3F3BF33F58">使用安全套接字层进行身份验证</a><br>安全套接字层（SSL）协议是一种应用层协议。
                     </li>
                     <li class="ulchildlink"><a href="configuring-authentication.html#GUID-141E20ED-A3C0-4DF1-92CD-8D97A0E58C1C">使用第三方服务进行身份验证</a><br>第三方服务Kerberos，RADIUS，基于目录的服务和公钥基础结构可以通过网络对Oracle数据库进行身份验证。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-00632C9C-5C01-4C8F-A4D0-5E575502A6AE" title="身份验证意味着验证连接到数据库的用户或其他实体的身份。">配置身份验证</a></p>
                     </div>
                  </div>
               </div>
               <a id="DBSEG99831"></a><div class="props_rev_3"><a id="GUID-AF7D7861-59C9-4621-85C7-9B3F3BF33F58" name="GUID-AF7D7861-59C9-4621-85C7-9B3F3BF33F58"></a><h4 id="DBSEG-GUID-AF7D7861-59C9-4621-85C7-9B3F3BF33F58" class="sect4">使用安全套接字层进行身份验证</h4>
                  <div>
                     <p>安全套接字层（SSL）协议是一种应用层协议。</p>
                     <p>您可以使用SSL对数据库进行用户身份验证，它独立于Oracle Internet Directory中的全局用户管理。也就是说，用户可以使用SSL对数据库进行身份验证，而无需使用目录服务器。</p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="configuring-secure-sockets-layer-authentication.html#GUID-6AD89576-526F-4D6B-A539-ADF4B840819F" title="您可以将Oracle数据库配置为使用安全套接字层身份验证。">配置安全套接字层身份验证</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-F2004DF1-1122-4614-9D3D-2F8330855A93" title="您可以使用第三方服务的安全套接字层通过网络对用户进行身份验证。">用户的网络身份验证</a></p>
                        </div>
                     </div>
                  </div>
               </div><a id="DBSEG30362"></a><div class="props_rev_3"><a id="GUID-141E20ED-A3C0-4DF1-92CD-8D97A0E58C1C" name="GUID-141E20ED-A3C0-4DF1-92CD-8D97A0E58C1C"></a><h4 id="DBSEG-GUID-141E20ED-A3C0-4DF1-92CD-8D97A0E58C1C" class="sect4">使用第三方服务进行身份验证</h4>
                  <div>
                     <p>第三方服务Kerberos，RADIUS，基于目录的服务和公钥基础结构可以通过网络对Oracle数据库进行身份验证。</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="configuring-authentication.html#GUID-323A7272-235C-462E-8812-84184FF46F8A">关于使用第三方服务进行身份验证</a><br>如果要通过网络对Oracle数据库用户进行身份验证，则必须使用第三方网络身份验证服务。
                        </li>
                        <li class="ulchildlink"><a href="configuring-authentication.html#GUID-DA4FFCA9-F958-4A39-9D4D-D007F3816E7F">使用Kerberos进行身份验证</a><br>Kerberos是一个受信任的第三方身份验证系统，它依赖于共享机密。
                        </li>
                        <li class="ulchildlink"><a href="configuring-authentication.html#GUID-7DB8F03F-C4E8-48F9-B545-9E9E867E68AB">使用RADIUS验证</a><br>远程身份验证拨入用户服务（RADIUS）是用于用户身份验证，授权和记帐的标准轻量级协议。
                        </li>
                        <li class="ulchildlink"><a href="configuring-authentication.html#GUID-19D6CA32-D7BC-4640-9BF3-93D169E7D7A4">使用基于目录的服务进行身份验</a><br>使用中央目录可以使身份验证及其管理高效。
                        </li>
                        <li class="ulchildlink"><a href="configuring-authentication.html#GUID-4BA720BF-FD29-489C-B379-C6F5A0B8C5FF">公钥基础结构认证</a><br>基于公钥基础结构（PKI）的认证系统向用户客户端发布数字证书。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-F2004DF1-1122-4614-9D3D-2F8330855A93" title="您可以使用第三方服务的安全套接字层通过网络对用户进行身份验证。">用户的网络身份验证</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="DBSEG950"></a><div class="props_rev_3"><a id="GUID-323A7272-235C-462E-8812-84184FF46F8A" name="GUID-323A7272-235C-462E-8812-84184FF46F8A"></a><h5 id="DBSEG-GUID-323A7272-235C-462E-8812-84184FF46F8A" class="sect5">关于使用第三方服务进行身份验证</h5>
                     <div>
                        <p>如果要通过网络对Oracle数据库用户进行身份验证，则必须使用第三方网络身份验证服务。</p>
                        <p>突出的示例包括Kerberos，PKI（公钥基础结构），RADIUS（远程身份验证拨入用户服务）和基于目录的服务。</p>
                        <p>如果您可以使用网络身份验证服务，则Oracle数据库可以接受来自网络服务的身份验证。如果使用网络身份验证服务，则会对网络角色和数据库链接产生一些特殊注意事项。</p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-141E20ED-A3C0-4DF1-92CD-8D97A0E58C1C" title="第三方服务Kerberos，RADIUS，基于目录的服务和公钥基础结构可以通过网络对Oracle数据库进行身份验证。">使用第三方服务进行身份验证</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG953"></a><div class="props_rev_3"><a id="GUID-DA4FFCA9-F958-4A39-9D4D-D007F3816E7F" name="GUID-DA4FFCA9-F958-4A39-9D4D-D007F3816E7F"></a><h5 id="DBSEG-GUID-DA4FFCA9-F958-4A39-9D4D-D007F3816E7F" class="sect5">使用Kerberos进行身份验证</h5>
                     <div>
                        <p>Kerberos是一个受信任的第三方身份验证系统，它依赖于共享机密。</p>
                        <p>Kerberos假定第三方是安全的，并提供单点登录功能，集中密码存储，数据库链接身份验证和增强的PC安全性。它通过Kerberos身份验证服务器或基于商业Kerberos的身份验证服务器Cybersafe Active Trust执行此操作。</p>
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>相关话题</strong></p>
                           <ul>
                              <li><a href="configuring-kerberos-authentication.html#GUID-DF84261F-457A-4B9F-AE41-CDE6FE9178C4" title="Kerberos是一个受信任的第三方身份验证系统，它依赖于共享机密并假设第三方是安全的。">配置Kerberos身份验证</a></li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-141E20ED-A3C0-4DF1-92CD-8D97A0E58C1C" title="第三方服务Kerberos，RADIUS，基于目录的服务和公钥基础结构可以通过网络对Oracle数据库进行身份验证。">使用第三方服务进行身份验证</a></p>
                           </div>
                        </div>
                     </div>
                  </div><a id="DBSEG963"></a><div class="props_rev_3"><a id="GUID-7DB8F03F-C4E8-48F9-B545-9E9E867E68AB" name="GUID-7DB8F03F-C4E8-48F9-B545-9E9E867E68AB"></a><h5 id="DBSEG-GUID-7DB8F03F-C4E8-48F9-B545-9E9E867E68AB" class="sect5">使用RADIUS验证</h5>
                     <div>
                        <p>远程身份验证拨入用户服务（RADIUS）是用于用户身份验证，授权和记帐的标准轻量级协议。</p>
                        <p>RADIUS还允许用户使用RSA一次性密码规范（OTPS）对Oracle数据库进行身份验证。</p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-7DB8F03F-C4E8-48F9-B545-9E9E867E68AB__GUID-7912D350-753C-4441-898B-F9186F9A15FC">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><a href="configuring-radius-authentication.html#GUID-98AC340E-3D64-4EFF-B1AC-BA1D58ECF0AB" title="RADIUS是一种客户端/服务器安全协议，广泛用于启用远程身份验证和访问。">配置RADIUS身份验证</a>以获取有关配置RADIUS的信息</p>
                              </li>
                              <li>
                                 <p>有关OTPS的RSA文档</p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-141E20ED-A3C0-4DF1-92CD-8D97A0E58C1C" title="第三方服务Kerberos，RADIUS，基于目录的服务和公钥基础结构可以通过网络对Oracle数据库进行身份验证。">使用第三方服务进行身份验证</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG964"></a><div class="props_rev_3"><a id="GUID-19D6CA32-D7BC-4640-9BF3-93D169E7D7A4" name="GUID-19D6CA32-D7BC-4640-9BF3-93D169E7D7A4"></a><h5 id="DBSEG-GUID-19D6CA32-D7BC-4640-9BF3-93D169E7D7A4" class="sect5">使用基于目录的服务进行身份验</h5>
                     <div>
                        <p>使用中央目录可以使身份验证及其管理高效。</p>
                        <p>基于目录的服务包括以下内容：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="bold">Oracle Internet Directory</span>使用轻量级目录访问协议（LDAP），使用中央存储库来存储和管理其帐户是在分布式环境中创建的用户（称为企业用户）的信息。虽然必须在每个需要访问的数据库中创建数据库用户（带密码），但企业用户信息可以在Oracle Internet Directory中集中访问。您还可以将此目录与Microsoft Active Directory和SunOne集成。
                              </p>
                           </li>
                           <li>
                              <p><span class="bold">Oracle Enterprise Security Manager</span>允许您从Oracle Internet Directory存储和检索角色，Oracle Internet Directory提供集中的权限管理，使管理更容易，并提高安全级别。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-141E20ED-A3C0-4DF1-92CD-8D97A0E58C1C" title="第三方服务Kerberos，RADIUS，基于目录的服务和公钥基础结构可以通过网络对Oracle数据库进行身份验证。">使用第三方服务进行身份验证</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG990"></a><div class="props_rev_3"><a id="GUID-4BA720BF-FD29-489C-B379-C6F5A0B8C5FF" name="GUID-4BA720BF-FD29-489C-B379-C6F5A0B8C5FF"></a><h5 id="DBSEG-GUID-4BA720BF-FD29-489C-B379-C6F5A0B8C5FF" class="sect5">公钥基础结构认证</h5>
                     <div>
                        <p>基于公钥基础结构（PKI）的认证系统向用户客户端发布数字证书。</p>
                        <p>这些客户端可以使用这些证书直接向企业中的服务器进行身份验证，而无需直接进行身份验证。Oracle数据库提供了使用公钥和证书的PKI，包括以下组件：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="bold">使用SSL进行身份验证和安全会话密钥管理</span>有关更多信息，请参阅<a href="configuring-authentication.html#GUID-AF7D7861-59C9-4621-85C7-9B3F3BF33F58" title="安全套接字层（SSL）协议是一种应用层协议。">使用安全套接字层验证</a> 。
                              </p>
                           </li>
                           <li>
                              <p><span class="bold">可信证书。</span> 这些用于标识在验证身份时被信任为用户证书签名者的第三方实体。在验证用户证书时，通过使用存储在验证系统中的信任点或证书颁发机构的可信证书链来检查签名者。如果此链中存在多个级别的受信任证书，则只需信任较低级别的受信任证书，而无需重新验证其所有更高级别的证书。
                              </p>
                           </li>
                           <li>
                              <p><span class="bold">Oracle钱包管理器。</span> Oracle钱包是一种数据结构，包含用户的私钥，用户证书和用户的信任点集（可信证书颁发机构）。有关管理Oracle钱包的信息，请参见“ <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/dbseg&amp;id=DBIMI160" target="_blank"><span><cite>Oracle数据库企业用户安全性管理员指南”</cite></span></a> 。
                              </p>
                              <p>您可以使用Oracle Wallet Manager来管理Oracle钱包。这是一个独立的Java应用程序，用于管理和编辑Oracle钱包中的安全凭证。它执行以下操作：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>生成公钥 - 私钥对并创建证书请求以提交给证书颁发机构，并创建钱包</p>
                                 </li>
                                 <li>
                                    <p>为实体安装证书</p>
                                 </li>
                                 <li>
                                    <p>管理Oracle数据库客户端和服务器上的X.509版本3证书</p>
                                 </li>
                                 <li>
                                    <p>为实体配置可信证书</p>
                                 </li>
                                 <li>
                                    <p>打开钱包以启用对基于PKI的服务的访问</p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p><span class="bold">从受信任实体（证书颁发机构）获取（并由其签名）的X.509版本3证书。</span> 由于证书颁发机构是受信任的，因此这些证书验证请求实体的信息是否正确，以及证书上的公钥是否属于所标识的实体。证书将加载到Oracle钱包中，以便将来进行身份验证。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-141E20ED-A3C0-4DF1-92CD-8D97A0E58C1C" title="第三方服务Kerberos，RADIUS，基于目录的服务和公钥基础结构可以通过网络对Oracle数据库进行身份验证。">使用第三方服务进行身份验证</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-B3C89196-5AA5-4BF9-8F32-A8E9B4882459" name="GUID-B3C89196-5AA5-4BF9-8F32-A8E9B4882459"></a><h3 id="DBSEG-GUID-B3C89196-5AA5-4BF9-8F32-A8E9B4882459" class="sect3">为PDB配置操作系统用户</h3>
               <div>
                  <p><code class="codeph">DBMS_CREDENTIAL.CREATE_CREDENTIAL</code>过程将用户帐户配置为PDB的操作系统用户。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="configuring-authentication.html#GUID-79F8BC77-3B74-4A29-9C97-6337917F1652">关于为PDB配置操作系统用户</a><br>相反， <code class="codeph">oracle</code>操作系统用户可以将特定用户帐户设置为该PDB的操作系统用户。</li>
                     <li class="ulchildlink"><a href="configuring-authentication.html#GUID-20CD248B-84B5-4B44-901F-AFAD8322F47B">为PDB配置操作系统用户</a><br><code class="codeph">DBMS_CREDENTIAL.CREATE_CREDENTIAL</code>过程可以为PDB设置操作系统用户。</li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-00632C9C-5C01-4C8F-A4D0-5E575502A6AE" title="身份验证意味着验证连接到数据库的用户或其他实体的身份。">配置身份验证</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="sect3"><a id="GUID-79F8BC77-3B74-4A29-9C97-6337917F1652" name="GUID-79F8BC77-3B74-4A29-9C97-6337917F1652"></a><h4 id="DBSEG-GUID-79F8BC77-3B74-4A29-9C97-6337917F1652" class="sect4">关于为PDB配置操作系统用户</h4>
                  <div>
                     <p>相反， <code class="codeph">oracle</code>操作系统用户可以将特定用户帐户设置为该PDB的操作系统用户。</p>
                     <p>如果未将特定用户设置为PDB的操作系统用户，则默认情况下PDB使用<code class="codeph">oracle</code>操作系统用户。对于root，您必须在必须与操作系统交互时使用<code class="codeph">oracle</code>操作系统用户。
                     </p>
                     <p>为了提高安全性，Oracle建议您在多租户环境中为每个PDB设置唯一的操作系统用户。这样做有助于确保操作系统交互作为功能不如<code class="codeph">oracle</code>操作系统用户的用户执行，并有助于保护属于一个PDB的数据不被连接到其他PDB的用户访问。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-B3C89196-5AA5-4BF9-8F32-A8E9B4882459" title="DBMS_CREDENTIAL.CREATE_CREDENTIAL过程将用户帐户配置为PDB的操作系统用户。">为PDB配置操作系统用户</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-20CD248B-84B5-4B44-901F-AFAD8322F47B" name="GUID-20CD248B-84B5-4B44-901F-AFAD8322F47B"></a><h4 id="DBSEG-GUID-20CD248B-84B5-4B44-901F-AFAD8322F47B" class="sect4">为PDB配置操作系统用户</h4>
                  <div>
                     <p><code class="codeph">DBMS_CREDENTIAL.CREATE_CREDENTIAL</code>过程可以为PDB设置操作系统用户。</p>
                     <ol>
                        <li class="stepexpand"><span>以具有<code class="codeph">DBMS_CREDENTIAL</code> PL / SQL程序包的<code class="codeph">EXECUTE</code>特权和<code class="codeph">ALTER SYSTEM</code>系统特权的用户身份登录数据库实例根目录。</span><div>例如：<pre class="pre codeblock"><code>sqlplus c ## sec_admin输入密码： <span class="italic">密码</span></code></pre></div>
                        </li>
                        <li class="stepexpand"><span>运行<code class="codeph">DBMS_CREDENTIAL.CREATE_CREDENTIAL</code>过程以为操作系统用户创建Oracle凭据。</span><div>例如，要为名为<code class="codeph">os_admin</code>的用户设置凭据：<pre class="pre codeblock"><code>BEGIN DBMS_CREDENTIAL.CREATE_CREDENTIAL（credential_name =&gt;'PDB1_OS_USER'，username =&gt;'os_admin'，password =&gt;' <span class="italic">password</span> '）;结束; /</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>连接到将使用操作系统用户的PDB。</span><div>例如：<pre class="pre codeblock"><code>CONNECT cc ## sec_admin @hrpdb输入密码： <span class="italic">密码</span>
</code></pre><p>要查找可用的PDB，请运行<code class="codeph">show pdbs</code>命令。要检查当前PDB，请运行show <code class="codeph">con_name</code>命令。
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>为在步骤2中设置了凭据的用户设置<code class="codeph">PDB_OS_CREDENTIAL</code>初始化参数。</span><div>例如：<pre class="pre codeblock"><code>ALTER SYSTEM SET PDB_OS_CREDENTIAL = PDB1_OS_USER SCOPE = SPFILE;</code></pre><p><code class="codeph">PDB_OS_CREDENTIAL</code>参数是静态参数，因此必须使用<code class="codeph">SCOPE = SPFILE</code>子句对其进行设置。
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>重新启动数据库实例。</span><div><pre class="pre codeblock"><code>关机立即启动</code></pre></div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="configuring-authentication.html#GUID-AA1AA635-1CD5-422E-B8CA-681ED7C253CA" title="Oracle提供了一组密码的最低要求。">密码的最低要求</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-B3C89196-5AA5-4BF9-8F32-A8E9B4882459" title="DBMS_CREDENTIAL.CREATE_CREDENTIAL过程将用户帐户配置为PDB的操作系统用户。">为PDB配置操作系统用户</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="DBSEG30037"></a><div class="props_rev_3"><a id="GUID-FD72C458-E250-46D3-84B6-FF3F34CDAC5D" name="GUID-FD72C458-E250-46D3-84B6-FF3F34CDAC5D"></a><h3 id="DBSEG-GUID-FD72C458-E250-46D3-84B6-FF3F34CDAC5D" class="sect3">全局用户身份验证和授权</h3>
               <div>
                  <p>通过全局用户身份验证和授权，您可以集中管理与用户相关的信息。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="configuring-authentication.html#GUID-E3F98B58-4087-4294-8368-D1F2B592DD69">关于配置全局用户身份验证和授权</a><br>基于LDAP的目录服务集中管理与用户相关的信息，包括授权。
                     </li>
                     <li class="ulchildlink"><a href="configuring-authentication.html#GUID-505E6465-CF3E-47D8-85C9-61A61A397EE4">配置由目录服务授权的用户</a><br>您可以配置要由目录服务授权的全局用户或多个企业用户。
                     </li>
                     <li class="ulchildlink"><a href="configuring-authentication.html#GUID-582606E3-D665-4D9B-8D03-B416EBA117BF">全球认证和全球授权的优势</a><br>全局用户身份验证和授权有几个优点。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-00632C9C-5C01-4C8F-A4D0-5E575502A6AE" title="身份验证意味着验证连接到数据库的用户或其他实体的身份。">配置身份验证</a></p>
                     </div>
                  </div>
               </div>
               <a id="DBSEG471"></a><div class="props_rev_3"><a id="GUID-E3F98B58-4087-4294-8368-D1F2B592DD69" name="GUID-E3F98B58-4087-4294-8368-D1F2B592DD69"></a><h4 id="DBSEG-GUID-E3F98B58-4087-4294-8368-D1F2B592DD69" class="sect4">关于配置全局用户身份验证和授权</h4>
                  <div>
                     <p>基于LDAP的目录服务集中管理与用户相关的信息，包括授权。</p>
                     <p>这使得用户和管理员可以在数据库中被标识为全局用户，这意味着他们通过SSL进行身份验证，并且这些用户的管理由集中目录服务在数据库外部处理。全局角色在数据库中定义，只有该数据库知道，但目录服务处理全局角色的授权。</p>
                     <div class="infoboxnote" id="GUID-E3F98B58-4087-4294-8368-D1F2B592DD69__GUID-220DCFD4-1074-4E62-9BD9-1FA7287D8D0A">
                        <p class="notep1">注意：</p>
                        <p>您还可以让安全套接字层（SSL）对用户进行身份验证，其授权不在目录中进行管理，也就是说，它们仅具有本地数据库角色。</p>
                     </div>
                     <p>这种集中管理可以创建<span class="bold">企业用户</span>和<span class="bold">企业角色</span> 。企业用户在目录中定义和管理。它们在整个企业中具有唯一标识，并且可以分配企业角色，以确定它们跨多个数据库的访问权限。企业角色由一个或多个全局角色组成，可能被视为全局角色的容器。
                     </p>
                     <p>您还可以使用集中管理的用户通过Microsoft Active Directory等目录服务对用户进行身份验证和授权。</p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="configuring-secure-sockets-layer-authentication.html#GUID-6AD89576-526F-4D6B-A539-ADF4B840819F" title="您可以将Oracle数据库配置为使用安全套接字层身份验证。">配置安全套接字层身份验证</a></li>
                           <li><a href="configuring-authentication.html#GUID-9779C17E-1ECA-4360-9833-64EE16E7269B" title="集中管理的数据库的强身份验证方法包括目录身份验证，Kerberos身份验证和SSL身份验证。">强大的身份验证，管理员的集中管理</a></li>
                           <li><a href="integrating_mads_with_oracle_database.html#GUID-9739D541-FA9D-422A-95CA-799A4C6F488D" title="Oracle数据库可以直接使用数据库对Microsoft Active Directory用户进行身份验证和授权，而无需中间目录或Oracle Enterprise User Security。">使用Microsoft Active Directory配置集中管理的用户</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-FD72C458-E250-46D3-84B6-FF3F34CDAC5D" title="通过全局用户身份验证和授权，您可以集中管理与用户相关的信息。">全局用户身份验证和授权</a></p>
                        </div>
                     </div>
                  </div>
               </div><a id="DBSEG99836"></a><div class="props_rev_3"><a id="GUID-505E6465-CF3E-47D8-85C9-61A61A397EE4" name="GUID-505E6465-CF3E-47D8-85C9-61A61A397EE4"></a><h4 id="DBSEG-GUID-505E6465-CF3E-47D8-85C9-61A61A397EE4" class="sect4">配置由目录服务授权的用户</h4>
                  <div>
                     <p>您可以配置要由目录服务授权的全局用户或多个企业用户。</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="configuring-authentication.html#GUID-A2883C94-D9A4-4AF7-A37D-17D6A2FB9F6E">创建具有私有架构的全局用户</a><br>您可以通过提供对企业目录有意义的标识符（ <span class="bold">可分辨名称</span>或<span class="bold">DN</span> ）来创建具有私有模式的用户帐户。
                        </li>
                        <li class="ulchildlink"><a href="configuring-authentication.html#GUID-38D392E2-7B6D-4BC6-93C0-8AA758043878">创建共享架构的多个企业用户</a><br>多个企业用户可以在数据库中共享单个模式。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-FD72C458-E250-46D3-84B6-FF3F34CDAC5D" title="通过全局用户身份验证和授权，您可以集中管理与用户相关的信息。">全局用户身份验证和授权</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="DBSEG99837"></a><div class="props_rev_3"><a id="GUID-A2883C94-D9A4-4AF7-A37D-17D6A2FB9F6E" name="GUID-A2883C94-D9A4-4AF7-A37D-17D6A2FB9F6E"></a><h5 id="DBSEG-GUID-A2883C94-D9A4-4AF7-A37D-17D6A2FB9F6E" class="sect5">创建具有私有架构的全局用户</h5>
                     <div>
                        <p>您可以通过提供对企业目录有意义的标识符（ <span class="bold">可分辨名称</span>或<span class="bold">DN</span> ）来创建具有私有模式的用户帐户。
                        </p>
                        <div class="section">但是，请注意，必须在用户必须访问的每个数据库中以及目录中创建此用户。</div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>要创建具有私有模式的全局用户，请使用<code class="codeph">CREATE USER ...IDENTIFIED GLOBALLY</code> SQL语句。
                                 </p>
                                 <p>您可以包含标准LDAP数据交换格式（LDIF）字段。例如，要创建全局用户（具有私有模式的<code class="codeph">psmith_gl</code> ，由SSL进行身份验证，并由企业目录服务授权：</p><pre class="oac_no_warn" dir="ltr">CREATE USER psmith_gl全局识别为'CN = psmith，OU = division1，O =示例，C = US';</pre><p>在本规范中：</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p><code class="codeph">CN</code>指该用户的通用名称<code class="codeph">psmith_gl</code> 。
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">OU</code>指用户的组织单位<code class="codeph">division1</code> 。
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">O</code>指的是用户的组织， <code class="codeph">Example</code> 。
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">C</code>指的是组织示例所在的国家/地区，即<code class="codeph">US</code> 。</p>
                                    </li>
                                 </ul>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-505E6465-CF3E-47D8-85C9-61A61A397EE4" title="您可以配置要由目录服务授权的全局用户或多个企业用户。">配置由目录服务授权的用户</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG99838"></a><div class="props_rev_3"><a id="GUID-38D392E2-7B6D-4BC6-93C0-8AA758043878" name="GUID-38D392E2-7B6D-4BC6-93C0-8AA758043878"></a><h5 id="DBSEG-GUID-38D392E2-7B6D-4BC6-93C0-8AA758043878" class="sect5">创建共享架构的多个企业用户</h5>
                     <div>
                        <p>多个企业用户可以在数据库中共享单个模式。</p>
                        <div class="section">
                           <p>这些用户由企业目录服务授权，但在数据库中不拥有单独的私有模式。这些用户不是在数据库中单独创建的。它们连接到数据库中的共享模式。</p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>使用以下示例在数据库中创建共享模式：</span><div><pre class="oac_no_warn" dir="ltr">创建用户appschema全局识别'';</pre></div>
                           </li>
                           <li class="stepexpand"><span>在目录中，创建多个企业用户和映射对象。</span><div>
                                 <p>映射对象告诉数据库您希望如何将用户的DN映射到共享模式。您可以创建完整的可分辨名称（DN）映射（每个唯一DN的一个目录条目），也可以为每个用户将多个DN组件映射到一个模式。例如：</p><pre class="oac_no_warn" dir="ltr">OU = division1，O =实施例，C = US</pre><div class="infoboxnotealso" id="GUID-38D392E2-7B6D-4BC6-93C0-8AA758043878__GUID-8115583E-62B9-4B92-9A95-FC6D893CFA41">
                                    <p class="notep1">也可以看看：</p>
                                    <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/dbseg&amp;id=DBIMI151" target="_blank"><span><cite>“Oracle数据库企业用户安全性管理员指南”，</cite></span></a>用于解释这些映射</p>
                                 </div>
                              </div>
                           </li>
                        </ol>
                        <div class="section">
                           <p>大多数用户不需要自己的模式，并且实现与模式无关的用户将用户与数据库分开。您创建在数据库中共享相同模式的多个用户，作为企业用户，他们还可以访问其他数据库中的共享模式。</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-505E6465-CF3E-47D8-85C9-61A61A397EE4" title="您可以配置要由目录服务授权的全局用户或多个企业用户。">配置由目录服务授权的用户</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="DBSEG99839"></a><div class="props_rev_3"><a id="GUID-582606E3-D665-4D9B-8D03-B416EBA117BF" name="GUID-582606E3-D665-4D9B-8D03-B416EBA117BF"></a><h4 id="DBSEG-GUID-582606E3-D665-4D9B-8D03-B416EBA117BF" class="sect4">全球认证和全球授权的优势</h4>
                  <div>
                     <p>全局用户身份验证和授权有几个优点。</p>
                     <p></p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>使用SSL，Kerberos或Windows本机身份验证提供强身份验证。</p>
                        </li>
                        <li>
                           <p>实现对整个企业中用户和权限的集中管理。</p>
                        </li>
                        <li>
                           <p>易于管理：您不必为企业中的每个数据库中的每个用户创建架构。</p>
                        </li>
                        <li>
                           <p>促进单点登录：用户需要登录一次才能访问多个数据库和服务。此外，使用密码的用户可以使用单个密码来访问接受经过密码验证的企业用户的多个数据库。</p>
                        </li>
                        <li>
                           <p>由于全局用户身份验证和授权提供基于密码的访问，因此您可以将以前定义的经过密码验证的数据库用户迁移到集中管理的目录（使用用户迁移实用程序）。这使得全局身份验证和授权可用于仍受支持的早期Oracle数据库发行版客户端。</p>
                        </li>
                        <li>
                           <p><code class="codeph">CURRENT_USER</code>数据库链接作为全局用户连接。本地用户可以在存储过程的上下文中作为全局用户连接，即，不将全局用户密码存储在链接定义中。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/dbseg&amp;id=DBIMI-GUID-080DE6BD-8D54-49EC-BAC4-4EC5CC6A25BF" target="_blank"><span><cite>Oracle数据库企业用户安全管理员指南</cite></span></a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-FD72C458-E250-46D3-84B6-FF3F34CDAC5D" title="通过全局用户身份验证和授权，您可以集中管理与用户相关的信息。">全局用户身份验证和授权</a></p>
                        </div>
                     </div>
                  </div>
               </div>
            </div><a id="DBSEG30038"></a><div class="props_rev_3"><a id="GUID-E8251394-6EE1-4EEA-A09D-6B284F648D01" name="GUID-E8251394-6EE1-4EEA-A09D-6B284F648D01"></a><h3 id="DBSEG-GUID-E8251394-6EE1-4EEA-A09D-6B284F648D01" class="sect3">配置外部服务以验证用户和密码</h3>
               <div>
                  <p>外部服务（操作系统或网络）可以管理密码和验证用户。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="configuring-authentication.html#GUID-2B803B1D-F609-44C5-8ADE-8F2F82252DB6">关于外部认证</a><br>通过外部身份验证，Oracle数据库维护用户帐户，但外部服务执行密码管理和用户身份验证。
                     </li>
                     <li class="ulchildlink"><a href="configuring-authentication.html#GUID-728835B9-AB65-4444-97C3-140DAD6840B1">外部认证的优点</a><br>外部认证提供了几个优点。
                     </li>
                     <li class="ulchildlink"><a href="configuring-authentication.html#GUID-2975A29E-FF3C-4A9C-9E0D-AB28C5DF4462">启用外部身份验证</a><br>要启用外部身份验证，可以设置初始化参数<code class="codeph">OS_AUTHENT_PREFIX</code> ，并在Oracle数据库用户名中使用此前缀。
                     </li>
                     <li class="ulchildlink"><a href="configuring-authentication.html#GUID-2818205D-9AFC-49B9-96F2-27EB43427243">创建外部认证的用户</a><br>经过外部身份验证的用户通过操作系统或网络服务进行身份验证。
                     </li>
                     <li class="ulchildlink"><a href="configuring-authentication.html#GUID-780D0998-4013-4EDB-89A8-9B419A30E49E">使用操作系统验证用户登录</a><br>Oracle数据库仅允许通过安全连接进行操作系统身份验证登录，从而无法使用Oracle Net和共享服务器配置。
                     </li>
                     <li class="ulchildlink"><a href="configuring-authentication.html#GUID-09A3C21F-22F2-41BE-A59B-1C341F8F6634">使用网络身份验证验证用户登录</a><br>Oracle强身份验证执行网络身份验证，您可以将其配置为使用第三方服务（如Kerberos）。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-00632C9C-5C01-4C8F-A4D0-5E575502A6AE" title="身份验证意味着验证连接到数据库的用户或其他实体的身份。">配置身份验证</a></p>
                     </div>
                  </div>
               </div>
               <a id="DBSEG99840"></a><div class="props_rev_3"><a id="GUID-2B803B1D-F609-44C5-8ADE-8F2F82252DB6" name="GUID-2B803B1D-F609-44C5-8ADE-8F2F82252DB6"></a><h4 id="DBSEG-GUID-2B803B1D-F609-44C5-8ADE-8F2F82252DB6" class="sect4">关于外部认证</h4>
                  <div>
                     <p>通过外部身份验证，Oracle数据库维护用户帐户，但外部服务执行密码管理和用户身份验证。</p>
                     <p>此外部服务可以是操作系统或网络服务，例如Oracle Net。如果要通过密码文件对用户进行身份验证，则可以为已被授予<code class="codeph">SYSDBA</code> ， <code class="codeph">SYSOPER</code> ， <code class="codeph">SYSASM</code> ， <code class="codeph">SYSBACKUP</code> ， <code class="codeph">SYSDG</code>和<code class="codeph">SYSKM</code>管理权限的用户配置外部身份验证。
                     </p>
                     <p>使用外部身份验证，您的数据库依赖于底层操作系统或网络身份验证服务来限制对数据库帐户的访问。此类登录不使用数据库密码。如果您的操作系统或网络服务允许，则可以在用户登录数据库之前对其进行身份验证。</p>
                     <p>您还可以使用集中管理的用户通过Microsoft Active Directory等目录服务对用户进行身份验证和授权。</p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="configuring-authentication.html#GUID-D104205B-FCC0-46B9-AB95-5ACAA0AF269A" title="将ORAPWD实用程序FORMAT参数设置为12.2使您可以管理管理用户的密码配置文件参数。">管理用户密码文件的管理</a></li>
                           <li><a href="integrating_mads_with_oracle_database.html#GUID-9739D541-FA9D-422A-95CA-799A4C6F488D" title="Oracle数据库可以直接使用数据库对Microsoft Active Directory用户进行身份验证和授权，而无需中间目录或Oracle Enterprise User Security。">使用Microsoft Active Directory配置集中管理的用户</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-E8251394-6EE1-4EEA-A09D-6B284F648D01" title="外部服务（操作系统或网络）可以管理密码和验证用户。">配置外部服务以验证用户和密码</a></p>
                        </div>
                     </div>
                  </div>
               </div><a id="DBSEG99841"></a><div class="props_rev_3"><a id="GUID-728835B9-AB65-4444-97C3-140DAD6840B1" name="GUID-728835B9-AB65-4444-97C3-140DAD6840B1"></a><h4 id="DBSEG-GUID-728835B9-AB65-4444-97C3-140DAD6840B1" class="sect4">外部认证的优点</h4>
                  <div>
                     <p>外部认证提供了几个优点。</p>
                     <p>这些优点如下：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>可以使用更多选择的身份验证机制，例如智能卡，指纹，Kerberos或操作系统。</p>
                        </li>
                        <li>
                           <p>许多网络身份验证服务（如Kerberos）支持单点登录，使用户可以记住更少的密码。</p>
                        </li>
                        <li>
                           <p>如果您已经在使用外部机制进行身份验证（例如前面列出的那种机制之一），那么将该机制与数据库一起使用可能会减少管理开销。</p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-E8251394-6EE1-4EEA-A09D-6B284F648D01" title="外部服务（操作系统或网络）可以管理密码和验证用户。">配置外部服务以验证用户和密码</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-2975A29E-FF3C-4A9C-9E0D-AB28C5DF4462" name="GUID-2975A29E-FF3C-4A9C-9E0D-AB28C5DF4462"></a><h4 id="DBSEG-GUID-2975A29E-FF3C-4A9C-9E0D-AB28C5DF4462" class="sect4">启用外部身份验证</h4>
                  <div>
                     <p>要启用外部身份验证，可以设置初始化参数<code class="codeph">OS_AUTHENT_PREFIX</code> ，并在Oracle数据库用户名中使用此前缀。
                     </p>
                     <div class="section">
                        <p><code class="codeph">OS_AUTHENT_PREFIX</code>参数定义Oracle数据库添加到每个用户的操作系统帐户名称开头的前缀。当用户尝试连接时，Oracle数据库会将带前缀的用户名与数据库中的Oracle数据库用户名进行比较。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>将<code class="codeph">OS_AUTHENT_PREFIX</code>设置为空字符串（一组空的双引号： <code class="codeph">""</code> ）。使用空字符串消除了向操作系统帐户名添加任何前缀，以便Oracle数据库用户名与操作系统用户名完全匹配。</span><div>
                              <p>例如：</p><pre class="oac_no_warn" dir="ltr">OS_AUTHENT_PREFIX =“”</pre></div>
                        </li>
                        <li class="stepexpand"><span>确保<code class="codeph">OS_AUTHENT_PREFIX</code>在数据库的生命周期内保持不变。如果更改前缀，则除非您更改用户名以使其使用密码身份验证，否则任何包含旧前缀的数据库用户名都不能用于建立连接。</span></li>
                     </ol>
                     <div class="section">
                        <p><code class="codeph">OS_AUTHENT_PREFIX</code>参数的默认值为<code class="codeph">OPS$</code>以便与以前版本的Oracle数据库向后兼容。例如，假设您按如下方式设置<code class="codeph">OS_AUTHENT_PREFIX</code> ：</p><pre class="oac_no_warn" dir="ltr">OS_AUTHENT_PREFIX = OPS $</pre><p>如果具有名为<code class="codeph">tsmith</code>的操作系统帐户的用户要连接到Oracle数据库安装并由操作系统进行身份验证，则Oracle数据库会检查是否存在相应的数据库用户<code class="codeph">OPS$tsmith</code> ，如果是，则允许用户连接。对操作系统验证的用户的所有引用都必须包含前缀<code class="codeph">OPS$</code> ，如<code class="codeph">OPS$tsmith</code> 。
                        </p>
                        <div class="infoboxnote" id="GUID-2975A29E-FF3C-4A9C-9E0D-AB28C5DF4462__GUID-6C437F73-28BE-4E09-BE4A-BC9B5C241909">
                           <p class="notep1">注意：</p>
                           <p>在某些操作系统上， <code class="codeph">OS_AUTHENT_PREFIX</code>初始化参数的文本区分大小写。有关此初始化参数的详细信息，请参阅特定于操作系统的Oracle数据库文档。
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-E8251394-6EE1-4EEA-A09D-6B284F648D01" title="外部服务（操作系统或网络）可以管理密码和验证用户。">配置外部服务以验证用户和密码</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DBSEG99842"></a><div class="props_rev_3"><a id="GUID-2818205D-9AFC-49B9-96F2-27EB43427243" name="GUID-2818205D-9AFC-49B9-96F2-27EB43427243"></a><h4 id="DBSEG-GUID-2818205D-9AFC-49B9-96F2-27EB43427243" class="sect4">创建外部认证的用户</h4>
                  <div>
                     <p>经过外部身份验证的用户通过操作系统或网络服务进行身份验证。</p>
                     <div class="section">
                        <p>您可以创建外部身份验证的用户。然后，Oracle数据库在为特定操作系统用户提供对特定用户的数据库资源的访问权限时，依赖此外部登录身份验证。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>使用<code class="codeph">CREATE USER</code>语句的<code class="codeph">IDENTIFIED EXTERNALLY</code>子句创建在外部进行身份验证的用户。
                              </p>
                           </li>
                        </ul>
                        <p>以下示例创建由Oracle数据库标识并由操作系统或网络服务进行身份验证的用户。此示例假定<code class="codeph">OS_AUTHENT_PREFIX</code>参数已设置为空格（ <code class="codeph">" "</code> ）。
                        </p><pre class="oac_no_warn" dir="ltr">创建用户psmith外部身份识别;</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-E8251394-6EE1-4EEA-A09D-6B284F648D01" title="外部服务（操作系统或网络）可以管理密码和验证用户。">配置外部服务以验证用户和密码</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DBSEG99843"></a><div class="props_rev_3"><a id="GUID-780D0998-4013-4EDB-89A8-9B419A30E49E" name="GUID-780D0998-4013-4EDB-89A8-9B419A30E49E"></a><h4 id="DBSEG-GUID-780D0998-4013-4EDB-89A8-9B419A30E49E" class="sect4">使用操作系统验证用户登录</h4>
                  <div>
                     <p>Oracle数据库仅允许通过安全连接进行操作系统身份验证登录，从而无法使用Oracle Net和共享服务器配置。</p>
                     <p>此类操作系统身份验证是默认设置。此限制可防止远程用户通过网络连接模拟其他操作系统用户。</p>
                     <p>在数据库初始化参数文件中将<code class="codeph">REMOTE_OS_AUTHENT</code>参数设置为<code class="codeph">TRUE</code>强制数据库接受通过不安全连接接收的客户端操作系统用户名，并将其用于帐户访问。由于客户端（例如PC）不能信任正确执行操作系统身份验证，因此打开此功能的安全措施非常糟糕。
                     </p>
                     <p>默认设置<code class="codeph">REMOTE_OS_AUTHENT = FALSE</code> ，可创建更安全的配置，以强制对连接到Oracle数据库的客户端进行正确的基于服务器的身份验证。
                     </p>
                     <p>请注意，Oracle Database <span class="italic">11g</span>第1版（11.1）中不推荐使用<code class="codeph">REMOTE_OS_AUTHENT</code>参数，并且仅为了向后兼容性而保留该参数。
                     </p>
                     <p>对此参数的任何更改将在下次启动实例并装入数据库时生效。通常，通过主机操作系统进行的用户身份验证可以更快，更方便地连接到Oracle数据库，而无需指定单独的数据库用户名或密码。此外，用户条目在数据库和操作系统审计跟踪中对应。</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-E8251394-6EE1-4EEA-A09D-6B284F648D01" title="外部服务（操作系统或网络）可以管理密码和验证用户。">配置外部服务以验证用户和密码</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DBSEG99844"></a><div class="props_rev_3"><a id="GUID-09A3C21F-22F2-41BE-A59B-1C341F8F6634" name="GUID-09A3C21F-22F2-41BE-A59B-1C341F8F6634"></a><h4 id="DBSEG-GUID-09A3C21F-22F2-41BE-A59B-1C341F8F6634" class="sect4">使用网络身份验证验证用户登录</h4>
                  <div>
                     <p>Oracle强身份验证执行网络身份验证，您可以将其配置为使用第三方服务（如Kerberos）。</p>
                     <p>如果您使用Oracle强身份验证作为唯一的外部身份验证服务，则<code class="codeph">REMOTE_OS_AUTHENT</code>参数设置无关紧要，因为Oracle强身份验证仅允许安全连接。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-E8251394-6EE1-4EEA-A09D-6B284F648D01" title="外部服务（操作系统或网络）可以管理密码和验证用户。">配置外部服务以验证用户和密码</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="DBSEG99845"></a><div class="props_rev_3"><a id="GUID-96D0694A-D588-43C4-9BAF-F7413B8E5AF2" name="GUID-96D0694A-D588-43C4-9BAF-F7413B8E5AF2"></a><h3 id="DBSEG-GUID-96D0694A-D588-43C4-9BAF-F7413B8E5AF2" class="sect3">多层认证和授权</h3>
               <div>
                  <p>Oracle数据库通过限制权限，通过所有层保留客户端身份以及审核客户端的操作来保护中间层应用程序。</p>
                  <p>在使用非常繁忙的中间层（例如事务处理监视器）的应用程序中，必须保留连接到中间层的客户端的标识。使用中间层的一个优点是<span class="bold">连接池</span> ，它允许多个用户访问数据服务器，而不需要每个用户都需要单独的连接。在这种环境中，您需要能够非常快速地设置和分解连接。
                  </p>
                  <p>对于这些环境，您可以使用Oracle调用接口创建<span class="bold">轻量级会话</span> ，从而为每个用户启用数据库密码身份验证。此方法通过中间层保留真实用户的身份，而不会为每个用户分配单独的数据库连接。
                  </p>
                  <p>您可以使用或不使用密码创建轻量级会话。但是，如果中间层位于防火墙之外或之上，则每个轻量级会话都有自己的密码时，安全性会更好。对于内部应用程序服务器，没有密码的轻量级会话可能是合适的</p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-00632C9C-5C01-4C8F-A4D0-5E575502A6AE" title="身份验证意味着验证连接到数据库的用户或其他实体的身份。">配置身份验证</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="DBSEG99847"></a><a id="DBSEG99846"></a><div class="props_rev_3"><a id="GUID-649FD726-FAB0-4F71-9341-AB23FA6E7F8F" name="GUID-649FD726-FAB0-4F71-9341-AB23FA6E7F8F"></a><h3 id="DBSEG-GUID-649FD726-FAB0-4F71-9341-AB23FA6E7F8F" class="sect3">客户端，应用程序服务器和数据库服务器中的管理和安全性</h3>
               <div>
                  <p>在多层环境中，应用程序服务器为客户端提供数据，并充当一个或多个数据库服务器的接口。</p>
                  <p>应用程序服务器可以验证客户端的凭据，例如Web浏览器，并且数据库服务器可以审计应用程序服务器执行的操作。这些可审计操作包括应用程序服务器代表客户端执行的操作，例如在客户端上显示信息的请求。连接到数据库服务器的请求是与特定客户端无关的应用程序服务器操作的示例。</p>
                  <p>多层环境中的身份验证基于信任区域。客户端身份验证是应用程序服务器的域。应用程序服务器本身由数据库服务器进行身份验证。执行以下操作：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>最终用户通常使用密码或X.509证书向应用程序服务器提供真实性证明。</p>
                     </li>
                     <li>
                        <p>应用程序服务器对最终用户进行身份验证，然后对数据库服务器进行身份验证。</p>
                     </li>
                     <li>
                        <p>数据库服务器对应用程序服务器进行身份验证，验证最终用户是否存在，并验证应用程序服务器是否具有为最终用户连接的权限。</p>
                     </li>
                  </ul>
                  <p>应用程序服务器还可以为代表其连接的最终用户启用角色。应用程序服务器可以从目录中获取这些角色，该目录充当授权存储库。应用程序服务器只能请求启用这些角色。数据库验证以下要求：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>客户端通过检查其内部角色存储库来具有这些角色</p>
                     </li>
                     <li>
                        <p>应用程序服务器具有代表用户进行连接的权限，从而可以像用户那样使用这些角色</p>
                     </li>
                  </ul>
                  <p><a href="configuring-authentication.html#GUID-649FD726-FAB0-4F71-9341-AB23FA6E7F8F__I1006483">图3-2</a>显示了多层身份验证的示例。
                  </p>
                  <div class="figure" id="GUID-649FD726-FAB0-4F71-9341-AB23FA6E7F8F__I1006483">
                     <p class="titleinfigure">图3-2多层认证</p><img src="img/cncpt137.gif" alt="下面是图3-2的描述" title="下面是图3-2的描述" longdesc="img_text/cncpt137.html"><br><a href="img_text/cncpt137.html">“图3-2多层认证”的描述</a></div>
                  <!-- class="figure" -->
                  <p>执行以下操作：</p>
                  <ol>
                     <li>
                        <p>用户使用密码或安全套接字层登录。身份验证信息通过Oracle Application Server传递。</p>
                     </li>
                     <li>
                        <p>Oracle Internet Directory对用户进行身份验证，从钱包中获取与该用户关联的角色，然后将此信息传递回Oracle Application Server。</p>
                     </li>
                     <li>
                        <p>Oracle Application Server检查Oracle数据库中用户的身份，该数据库包含存储此信息的钱包，然后为该用户设置角色。</p>
                     </li>
                  </ol>
                  <p>中间层应用程序的安全性必须解决以下关键问题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><span class="bold">问责。</span> 数据库服务器必须能够区分应用程序的操作和应用程序代表客户端执行的操作。必须能够审核这两种行为。
                        </p>
                     </li>
                     <li>
                        <p><span class="bold">最少的特权。</span> 应为用户和中间层提供执行其操作所需的最少权限，以减少无意或恶意未授权活动的危险。
                        </p>
                     </li>
                  </ul>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-00632C9C-5C01-4C8F-A4D0-5E575502A6AE" title="身份验证意味着验证连接到数据库的用户或其他实体的身份。">配置身份验证</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="DBSEG99848"></a><div class="props_rev_3"><a id="GUID-94CF6D9C-08A0-4671-BD82-694EB67D06C9" name="GUID-94CF6D9C-08A0-4671-BD82-694EB67D06C9"></a><h3 id="DBSEG-GUID-94CF6D9C-08A0-4671-BD82-694EB67D06C9" class="sect3">在多层环境中保留用户身份</h3>
               <div>
                  <p>您可以使用中间层服务器进行代理身份验证和客户端标识符，以识别数据库未知的应用程序用户。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="configuring-authentication.html#GUID-DC21CB47-D1B7-4ED9-B20A-16AE9C7FAAA7">中间层服务器用于代理身份验证</a><br>Oracle调用接口（OCI），JDBC / OCI或JDBC精简驱动程序支持用于数据库用户或企业用户的代理身份验证的中间层。
                     </li>
                     <li class="ulchildlink"><a href="configuring-authentication.html#GUID-18333ED1-0FE1-4110-A3A5-EA9B1B989DA4">使用客户端标识符识别数据库未知的应用程序用户</a><br>客户端标识符保留中间层系统中的用户身份;它们也可以独立于全局应用程序上下文使用。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-00632C9C-5C01-4C8F-A4D0-5E575502A6AE" title="身份验证意味着验证连接到数据库的用户或其他实体的身份。">配置身份验证</a></p>
                     </div>
                  </div>
               </div>
               <a id="DBSEG33101"></a><div class="props_rev_3"><a id="GUID-DC21CB47-D1B7-4ED9-B20A-16AE9C7FAAA7" name="GUID-DC21CB47-D1B7-4ED9-B20A-16AE9C7FAAA7"></a><h4 id="DBSEG-GUID-DC21CB47-D1B7-4ED9-B20A-16AE9C7FAAA7" class="sect4">中间层服务器用于代理身份验证</h4>
                  <div>
                     <p>Oracle调用接口（OCI），JDBC / OCI或JDBC精简驱动程序支持用于数据库用户或企业用户的代理身份验证的中间层。</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="configuring-authentication.html#GUID-8A9DCA8A-0294-47D8-81B2-61A3BF4817B6">关于代理验证</a><br>Oracle数据库为Oracle调用接口（OCI），JDBC / OCI或JDBC Thin Driver提供代理身份验证，适用于数据库用户或企业用户。
                        </li>
                        <li class="ulchildlink"><a href="configuring-authentication.html#GUID-24096A0F-E6BE-4A0E-98A8-0B35FF42FD95">代理验证的优点</a><br>在多层环境中，代理身份验证通过中间层应用程序中的所有层以及审核客户端操作来保留客户端身份和权限。
                        </li>
                        <li class="ulchildlink"><a href="configuring-authentication.html#GUID-1C093B1C-5EB6-452F-8308-0738EC71A2E0">谁可以创建代理用户帐户？</a><br>要创建代理用户帐户，用户必须具有特殊权限。
                        </li>
                        <li class="ulchildlink"><a href="configuring-authentication.html#GUID-66BB43A7-8D5C-489E-A24B-55EEAE8B4D21">创建代理用户帐户的准则</a><br>Oracle为您创建代理用户帐户提供了特殊指导。
                        </li>
                        <li class="ulchildlink"><a href="configuring-authentication.html#GUID-0C753164-99C5-49A6-9EF3-428B187C6511">创建代理用户帐户并授权用户通过它们进行连接</a><br><code class="codeph">CREATE USER</code>和<code class="codeph">ALTER USER</code>语句可用于创建代理用户并授权用户通过它进行连接。
                        </li>
                        <li class="ulchildlink"><a href="configuring-authentication.html#GUID-06D3D47D-C491-483B-9372-1F17D7A4FF0A">代理用户帐户和用户通过它们进行连接的授权</a><br><code class="codeph">CREATE USER</code>语句使您可以创建多种类型的用户帐户，所有这些帐户都可以用作代理帐户。
                        </li>
                        <li class="ulchildlink"><a href="configuring-authentication.html#GUID-55ECBC9E-0C5A-4687-933A-6052B2AF5700">使用代理身份验证与安全外部密码存储</a><br>如果您担心恶意用户获取的代理身份验证中使用的密码，请使用安全的外部密码存储。
                        </li>
                        <li class="ulchildlink"><a href="configuring-authentication.html#GUID-1F3BABB2-B874-4D3A-BD76-6AB0CE64C714">如何通过代理身份验证传递真实用户的身份</a><br>您可以为企业用户或数据库用户使用Oracle Call Interface，JDBC / OCI或Thin驱动程序。
                        </li>
                        <li class="ulchildlink"><a href="configuring-authentication.html#GUID-C5BD2F5A-9BAA-4E16-9DC0-67A3A837B506">对中间层特权的限制</a><br>最低特权是用户应该拥有履行职责所必需的最少特权的原则，而不是更多。
                        </li>
                        <li class="ulchildlink"><a href="configuring-authentication.html#GUID-377AD17C-FE28-4836-8627-132229117C68">授权中间层代理和验证用户</a><br>您可以授权中间层服务器以用户身份进行连接。
                        </li>
                        <li class="ulchildlink"><a href="configuring-authentication.html#GUID-946909CB-92B8-4D90-993A-0521FE197642">授权中间层代理通过其他方式认证的用户</a><br>您可以授权中间层代理已通过其他方式进行身份验证的用户。
                        </li>
                        <li class="ulchildlink"><a href="configuring-authentication.html#GUID-5A611B30-52D7-4AD5-9E47-40F744458223">通过中间层将用户重新验证到数据库</a><br>您可以通过将<code class="codeph">AUTHENTICATION REQUIRED</code> <code class="codeph">ALTER USER</code> SQL语句与<code class="codeph">AUTHENTICATION REQUIRED</code>代理子句一起使用来指定需要身份验证。
                        </li>
                        <li class="ulchildlink"><a href="configuring-authentication.html#GUID-0C3BF3AA-7E67-48A7-A6C5-DE3B733A80B2">使用基于密码的代理验证</a><br>使用基于密码的代理身份验证时，Oracle数据库会将客户端的密码传递给中间层服务器。
                        </li>
                        <li class="ulchildlink"><a href="configuring-authentication.html#GUID-DE676033-816F-44FB-816A-BA1EA986D57D">使用代理身份验证与企业用户</a><br>中间层如何响应代理身份验证取决于用户的身份验证方式，无论是作为企业用户还是经过密码验证的用户。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-94CF6D9C-08A0-4671-BD82-694EB67D06C9" title="您可以使用中间层服务器进行代理身份验证和客户端标识符，以识别数据库未知的应用程序用户。">在多层环境中保留用户标识</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="DBSEG99849"></a><div class="props_rev_3"><a id="GUID-8A9DCA8A-0294-47D8-81B2-61A3BF4817B6" name="GUID-8A9DCA8A-0294-47D8-81B2-61A3BF4817B6"></a><h5 id="DBSEG-GUID-8A9DCA8A-0294-47D8-81B2-61A3BF4817B6" class="sect5">关于代理验证</h5>
                     <div>
                        <p>Oracle数据库为Oracle调用接口（OCI），JDBC / OCI或JDBC Thin Driver提供代理身份验证，适用于数据库用户或企业用户。</p>
                        <p>企业用户是在Oracle Internet Directory中管理并访问数据库中的共享模式的用户。</p>
                        <p>您可以使用以下三种形式的代理身份验证来设计中间层服务器以安全方式对客户端进行身份验证：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>中间层服务器使用数据库服务器和客户端（在本例中为应用程序用户或其他应用程序）对自身进行身份验证，并使用中间层服务器对自身进行身份验证。客户端身份可以一直维护到数据库。</p>
                           </li>
                           <li>
                              <p>客户端（在本例中为数据库用户）未由中间层服务器进行身份验证。客户端标识和数据库密码通过中间层服务器传递到数据库服务器以进行身份验证。</p>
                           </li>
                           <li>
                              <p>客户端（在本例中为全局用户）由中间层服务器进行身份验证，并通过中间层传递以下之一以检索客户端的用户名。</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>专有名称（DN）</p>
                                 </li>
                                 <li>
                                    <p>证书</p>
                                 </li>
                              </ul>
                           </li>
                        </ul>
                        <p>在所有情况下，管理员必须授权中间层服务器代表客户端执行操作。</p>
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>相关话题</strong></p>
                           <ul>
                              <li><a href="configuring-audit-policies.html#GUID-66F4A51C-85CC-492C-929E-137C222637C7" title="您可以创建统一的审核策略来审核多层环境中客户端的活动。">在多层环境中审核SQL语句和权限</a></li>
                              <li><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/dbseg&amp;id=JJDBC-GUID-07E0AF7F-2C9A-42E9-8B99-F2716DC3B746" target="_blank"><span><cite>Oracle数据库JDBC开发人员指南</cite></span></a></li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-DC21CB47-D1B7-4ED9-B20A-16AE9C7FAAA7" title="Oracle调用接口（OCI），JDBC / OCI或JDBC精简驱动程序支持用于数据库用户或企业用户的代理身份验证的中间层。">中间层服务器用于代理身份验证</a></p>
                           </div>
                        </div>
                     </div>
                  </div><a id="DBSEG99850"></a><div class="props_rev_3"><a id="GUID-24096A0F-E6BE-4A0E-98A8-0B35FF42FD95" name="GUID-24096A0F-E6BE-4A0E-98A8-0B35FF42FD95"></a><h5 id="DBSEG-GUID-24096A0F-E6BE-4A0E-98A8-0B35FF42FD95" class="sect5">代理验证的优点</h5>
                     <div>
                        <p>在多层环境中，代理身份验证通过中间层应用程序中的所有层以及审核客户端操作来保留客户端身份和权限。</p>
                        <p>例如，此功能允许使用Web应用程序（充当代理）的用户的身份通过应用程序传递到数据库服务器。</p>
                        <p>三层系统为组织提供以下好处：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>组织可以将应用程序逻辑与数据存储分开，将前者划分为应用程序服务器，将后者划分为数据库。</p>
                           </li>
                           <li>
                              <p>应用服务器和Web服务器使用户能够访问存储在数据库中的数据。</p>
                           </li>
                           <li>
                              <p>用户喜欢使用熟悉且易于使用的浏览器界面。</p>
                           </li>
                           <li>
                              <p>组织还可以通过使用众多<span class="italic">瘦客户端</span>和应用程序服务器替换许多<span class="italic">胖客户端</span>来降低计算成本。
                              </p>
                           </li>
                        </ul>
                        <p>此外，Oracle数据库代理身份验证还具有以下安全优势：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>一种有限的信任模型，通过控制代表中间层可以连接的用户以及中间层可以为用户承担的角色</p>
                           </li>
                           <li>
                              <p>可伸缩性，通过OCI，JDBC / OCI或JDBC Thin驱动程序支持用户会话，并消除重新验证客户端的开销</p>
                           </li>
                           <li>
                              <p>通过将真实用户的身份保存到数据库，并启用对代表真实用户采取的操作的审计来实现问责制</p>
                           </li>
                           <li>
                              <p>灵活性，通过支持数据库中用户已知的环境，以及用户仅仅是数据库无法识别的应用程序用户</p>
                              <div class="infoboxnote" id="GUID-24096A0F-E6BE-4A0E-98A8-0B35FF42FD95__GUID-56B7EA5B-6AAB-4767-A68A-FD168DFA6E89">
                                 <p class="notep1">注意：</p>
                                 <p>Oracle数据库仅支持三层代理身份验证功能。它不支持多个中间层。</p>
                              </div>
                           </li>
                        </ul>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-DC21CB47-D1B7-4ED9-B20A-16AE9C7FAAA7" title="Oracle调用接口（OCI），JDBC / OCI或JDBC精简驱动程序支持用于数据库用户或企业用户的代理身份验证的中间层。">中间层服务器用于代理身份验证</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG475"></a><div class="props_rev_3"><a id="GUID-1C093B1C-5EB6-452F-8308-0738EC71A2E0" name="GUID-1C093B1C-5EB6-452F-8308-0738EC71A2E0"></a><h5 id="DBSEG-GUID-1C093B1C-5EB6-452F-8308-0738EC71A2E0" class="sect5">谁可以创建代理用户帐户？</h5>
                     <div>
                        <p>要创建代理用户帐户，用户必须具有特殊权限。</p>
                        <p>这些权限如下：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">CREATE USER</code>系统特权，用于创建将用作代理用户帐户的数据库用户帐户</p>
                           </li>
                           <li>
                              <p>如果启用了Oracle Database Vault，则为<code class="codeph">DV_ACCTMGR</code>角色，以创建代理用户帐户</p>
                           </li>
                           <li>
                              <p>能够将<code class="codeph">CREATE SESSION</code>系统特权授予代理用户帐户的能力</p>
                           </li>
                           <li>
                              <p><code class="codeph">ALTER USER</code>系统特权，允许现有用户帐户通过代理帐户连接到数据库</p>
                           </li>
                        </ul>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-DC21CB47-D1B7-4ED9-B20A-16AE9C7FAAA7" title="Oracle调用接口（OCI），JDBC / OCI或JDBC精简驱动程序支持用于数据库用户或企业用户的代理身份验证的中间层。">中间层服务器用于代理身份验证</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG346"></a><div class="props_rev_3"><a id="GUID-66BB43A7-8D5C-489E-A24B-55EEAE8B4D21" name="GUID-66BB43A7-8D5C-489E-A24B-55EEAE8B4D21"></a><h5 id="DBSEG-GUID-66BB43A7-8D5C-489E-A24B-55EEAE8B4D21" class="sect5">创建代理用户帐户的准则</h5>
                     <div>
                        <p>Oracle为您创建代理用户帐户提供了特殊指导。</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>为了更好的安全性并遵守最小权限原则，只授予代理用户帐户<code class="codeph">CREATE SESSION</code>权限。不要授予此用户任何其他权限。代理用户帐户旨在仅允许其他用户使用代理帐户进行连接。在连接期间必须执行的任何权限应属于连接用户，而不属于代理帐户。
                              </p>
                           </li>
                           <li>
                              <p>与所有密码一样，请确保为代理用户创建的密码非常强大且不容易猜到。请记住，多个用户将作为代理用户进行连接，因此密码强大尤其重要。</p>
                           </li>
                           <li>
                              <p>考虑使用Oracle强认证网络连接功能，以防止网络窃听。</p>
                           </li>
                           <li>
                              <p>要进一步微调连接用户的控制量，请考虑限制连接用户通过代理帐户连接时使用的角色。<code class="codeph">ALTER USER</code>语句<code class="codeph">WITH ROLE</code>子句允许您将用户配置为使用指定角色，除指定角色之外的任何角色或根本没有角色进行连接。请注意，代理用户只能激活<code class="codeph">WITH ROLE</code>子句中包含的那些角色。代理用户会话将具有直接授予客户端（即当前）用户的所有权限。
                              </p>
                           </li>
                           <li>
                              <p>仅当允许<code class="codeph">WITH ROLE</code>或<code class="codeph">WITH ROLE ALL</code>子句启用角色时，代理会话中的代理用户才能启用受密码保护的角色或安全应用程序角色。（如果未指定此子句，则<code class="codeph">WITH ROLE ALL</code>是默认值。）如果<code class="codeph">WITH ROLE</code>未指定安全角色，则即使使用正确的密码，也无法启用这些角色。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>相关话题</strong></p>
                           <ul>
                              <li><a href="keeping-your-oracle-database-secure.html#GUID-451679EB-8676-47E6-82A6-DF025FD65156" title="Oracle提供了保护密码的准则。">密码保护指南</a></li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-DC21CB47-D1B7-4ED9-B20A-16AE9C7FAAA7" title="Oracle调用接口（OCI），JDBC / OCI或JDBC精简驱动程序支持用于数据库用户或企业用户的代理身份验证的中间层。">中间层服务器用于代理身份验证</a></p>
                           </div>
                        </div>
                     </div>
                  </div><a id="DBSEG432"></a><div class="props_rev_3"><a id="GUID-0C753164-99C5-49A6-9EF3-428B187C6511" name="GUID-0C753164-99C5-49A6-9EF3-428B187C6511"></a><h5 id="DBSEG-GUID-0C753164-99C5-49A6-9EF3-428B187C6511" class="sect5">创建代理用户帐户并授权用户通过它们进行连接</h5>
                     <div>
                        <p><code class="codeph">CREATE USER</code>和<code class="codeph">ALTER USER</code>语句可用于创建代理用户并授权用户通过它进行连接。
                        </p>
                        <div class="section">
                           <p>仅当允许<code class="codeph">WITH ROLE</code>或<code class="codeph">WITH ROLE ALL</code>子句启用角色时，代理会话中的代理用户才能启用受密码保护的角色或安全应用程序角色。（如果未指定此子句，则<code class="codeph">WITH ROLE ALL</code>是默认值。）如果<code class="codeph">WITH ROLE</code>未指定安全角色，则即使使用正确的密码，也无法启用这些角色。
                           </p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>使用<code class="codeph">CREATE USER</code>语句创建代理用户帐户。</span><div>
                                 <p>例如：</p><pre class="oac_no_warn" dir="ltr">CREATE USER appuser IDENTIFIED BY <span class="italic">password</span> ;</pre></div>
                           </li>
                           <li class="stepexpand"><span>使用<code class="codeph">ALTER USER</code>语句的<code class="codeph">GRANT CONNECT THROUGH</code>子句使现有用户能够通过代理用户帐户进行连接。</span><div>
                                 <p>例如：</p><pre class="oac_no_warn" dir="ltr">ALTER USER preston GRANT CONNECT通过appuser;</pre><p>请注意，用户名和代理组合不得超过250个字符。</p>
                                 <p>假设用户<code class="codeph">preston</code>具有大量角色，但您只希望她在通过<code class="codeph">appuser</code>代理帐户连接到数据库时使用一个角色（例如， <code class="codeph">appuser_role</code> ）。您可以使用以下<code class="codeph">ALTER USER</code>语句：</p><pre class="oac_no_warn" dir="ltr">ALTER USER preston GRANT CONNECT通过appuser WITH ROLE appuser_role;</pre><p>只要她作为<code class="codeph">appuser</code>代理连接，用户<code class="codeph">preston</code>任何其他角色将无法使用。
                                 </p>
                              </div>
                           </li>
                        </ol>
                        <div class="section">
                           <p>完成这些步骤后，用户<code class="codeph">preston</code>可以使用<code class="codeph">appuser</code>代理用户进行连接，如下所示：</p><pre class="oac_no_warn" dir="ltr">CONNECT appuser [preston]输入密码： <span class="italic">appuser_password</span></pre></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>相关话题</strong></p>
                           <ul>
                              <li><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/dbseg&amp;id=SQLRF-GUID-F0246961-558F-480B-AC0F-14B50134621C" target="_blank"><span><cite>Oracle数据库SQL语言参考</cite></span></a></li>
                              <li><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/dbseg&amp;id=SQLRF-GUID-9FCD038D-8193-4241-85CD-2F4723B27D44" target="_blank"><span><cite>Oracle数据库SQL语言参考</cite></span></a></li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-DC21CB47-D1B7-4ED9-B20A-16AE9C7FAAA7" title="Oracle调用接口（OCI），JDBC / OCI或JDBC精简驱动程序支持用于数据库用户或企业用户的代理身份验证的中间层。">中间层服务器用于代理身份验证</a></p>
                           </div>
                        </div>
                     </div>
                  </div><a id="DBSEG99851"></a><div class="props_rev_3"><a id="GUID-06D3D47D-C491-483B-9372-1F17D7A4FF0A" name="GUID-06D3D47D-C491-483B-9372-1F17D7A4FF0A"></a><h5 id="DBSEG-GUID-06D3D47D-C491-483B-9372-1F17D7A4FF0A" class="sect5">代理用户帐户和用户通过它们进行连接的授权</h5>
                     <div>
                        <p><code class="codeph">CREATE USER</code>语句使您可以创建多种类型的用户帐户，所有这些帐户都可以用作代理帐户。
                        </p>
                        <p>这些帐户如下：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>数据库用户帐户，通过密码进行身份验证</p>
                           </li>
                           <li>
                              <p>外部用户帐户，由外部源（如安全套接字层（SSL）或Kerberos）进行身份验证</p>
                           </li>
                           <li>
                              <p>全局用户帐户，由企业目录服务（Oracle Internet Directory）进行身份验证。</p>
                           </li>
                        </ul>
                        <p>请注意以下事项：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="bold">代理用户只能执行用户<code class="codeph">preston</code>有权执行的活动。</span> 请记住，代理用户本身<code class="codeph">appuser</code>只具有最低权限（ <code class="codeph">CREATE SESSION</code> ）。
                              </p>
                           </li>
                           <li>
                              <p><span class="bold">使用中间层客户端的角色。</span> 您还可以指定在作为客户端连接时允许中间层激活的角色。可以审核中间层服务器代表客户端执行的操作。
                              </p>
                           </li>
                           <li>
                              <p><span class="bold">寻找代理用户。</span> 要查找当前有权通过中间层连接的用户，请查询<code class="codeph">PROXY_USERS</code>数据字典视图，例如：</p><pre class="oac_no_warn" dir="ltr">SELECT * FROM PROXY_USERS;</pre></li>
                           <li>
                              <p><span class="bold">删除代理连接。</span> 使用<code class="codeph">ALTER USER</code>的<code class="codeph">REVOKE CONNECT THROUGH</code>子句禁止代理连接。例如，要通过代理用户<code class="codeph">appuser</code>撤消用户<code class="codeph">preston</code>连接，请输入以下语句：</p><pre class="oac_no_warn" dir="ltr">ALTER USER preston REVOKE CONNECT通过appuser;</pre></li>
                           <li>
                              <p><span class="bold">密码过期和代理连接。</span> 密码到期的中间层使用不适用于通过代理进行身份验证的帐户。相反，请锁定帐户而不是使密码过期。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>相关话题</strong></p>
                           <ul>
                              <li><a href="configuring-audit-policies.html#GUID-66F4A51C-85CC-492C-929E-137C222637C7" title="您可以创建统一的审核策略来审核多层环境中客户端的活动。">在多层环境中审核SQL语句和权限</a></li>
                              <li><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/dbseg&amp;id=DBIMI-GUID-FD26CF4A-BB46-4686-BA8E-96FB66472555" target="_blank"><span><cite>Oracle数据库企业用户安全管理员指南</cite></span></a></li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-DC21CB47-D1B7-4ED9-B20A-16AE9C7FAAA7" title="Oracle调用接口（OCI），JDBC / OCI或JDBC精简驱动程序支持用于数据库用户或企业用户的代理身份验证的中间层。">中间层服务器用于代理身份验证</a></p>
                           </div>
                        </div>
                     </div>
                  </div><a id="DBSEG99853"></a><div class="props_rev_3"><a id="GUID-55ECBC9E-0C5A-4687-933A-6052B2AF5700" name="GUID-55ECBC9E-0C5A-4687-933A-6052B2AF5700"></a><h5 id="DBSEG-GUID-55ECBC9E-0C5A-4687-933A-6052B2AF5700" class="sect5">使用代理身份验证与安全外部密码存储</h5>
                     <div>
                        <p>如果您担心恶意用户获取的代理身份验证中使用的密码，请使用安全的外部密码存储。</p>
                        <div class="section">
                           <p>要实现此目的，请使用带有代理身份验证的安全外部密码存储区将密码凭据存储在钱包中。</p>
                           <p>使用代理身份验证连接到Oracle数据库和安全外部密码存储是运行批处理文件等情况的理想选择。当代理用户连接到数据库并使用安全外部密码进行身份验证时，如果恶意用户尝试获取密码，则不会公开密码。</p>
                           <p>要对安全外部密码存储使用代理身份验证：</p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li><span>配置代理身份验证帐户，如<a href="configuring-authentication.html#GUID-06D3D47D-C491-483B-9372-1F17D7A4FF0A" title="CREATE USER语句使您可以创建多种类型的用户帐户，所有这些帐户都可以用作代理帐户。">代理用户帐户和要通过它们连接的用户授权</a>中的过程所示。</span></li>
                           <li><span>配置安全外部密码存储，如<a href="configuring-authentication.html#GUID-81FB4046-6BCF-4D62-8473-2CAC65C5FD38" title="如果您的客户端配置为使用外部身份验证（如Windows本机身份验证或SSL），则Oracle数据库将使用该身份验证方法。">关于配置客户端以使用外部密码存储区中所述</a> 。</span></li>
                        </ol>
                        <div class="section">
                           <p>之后，用户可以使用代理进行连接，但无需指定密码。例如：</p><pre class="oac_no_warn" dir="ltr">sqlplus [preston] / @ <span class="italic">db_alias</span>
</pre><p>使用安全外部密码存储时，登录的用户无需提供用户名和密码。只能指定<code class="codeph">tnsnames.ora</code>文件中的<code class="codeph">SERVICE_NAME</code>值（即<code class="codeph">db_alias</code> ）。
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-DC21CB47-D1B7-4ED9-B20A-16AE9C7FAAA7" title="Oracle调用接口（OCI），JDBC / OCI或JDBC精简驱动程序支持用于数据库用户或企业用户的代理身份验证的中间层。">中间层服务器用于代理身份验证</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG99854"></a><div class="props_rev_3"><a id="GUID-1F3BABB2-B874-4D3A-BD76-6AB0CE64C714" name="GUID-1F3BABB2-B874-4D3A-BD76-6AB0CE64C714"></a><h5 id="DBSEG-GUID-1F3BABB2-B874-4D3A-BD76-6AB0CE64C714" class="sect5">如何通过代理身份验证传递真实用户的身份</h5>
                     <div>
                        <p>您可以为企业用户或数据库用户使用Oracle Call Interface，JDBC / OCI或Thin驱动程序。</p>
                        <p>这些工具使中间层能够在单个数据库连接中设置多个用户会话，每个用户会话唯一地标识连接的用户（连接池）</p>
                        <p>这些会话减少了从中间层到数据库创建单独网络连接的网络开销。</p>
                        <p>如果要从客户端通过中间层向数据库进行身份验证，则从客户端到中间层到数据库的完整身份验证序列如下所示：</p>
                        <ol>
                           <li>
                              <p>客户端使用中间层将接受的任何形式的身份验证对中间层进行身份验证。例如，客户端可以通过SSL使用用户名和密码或X.509证书对中间层进行身份验证。</p>
                           </li>
                           <li>
                              <p>中间层使用数据库接受的任何形式的身份验证对数据库进行身份验证。这可以是Oracle数据库支持的密码或身份验证机制，例如<a href="glossary.html#GUID-2346E6D3-5D68-40CE-9F1A-D15CF1FC023F"><span class="xrefglossterm">Kerberos票证</span></a>或X.509证书（SSL）。
                              </p>
                           </li>
                           <li>
                              <p>然后，中间层为使用OCI，JDBC / OCI或Thin驱动程序的用户创建一个或多个会话。</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>如果用户是数据库用户，则会话必须至少包括数据库用户名。如果数据库需要它，则会话可以包含密码（数据库根据数据库中的密码存储进行验证）。会话还可以包括用户的数据库角色列表。</p>
                                 </li>
                                 <li>
                                    <p>如果用户是企业用户，则会话可以根据用户的身份验证方式提供不同的信息。</p>
                                    <p><span class="bold">示例1：</span>如果用户使用SSL对中间层进行身份验证，则中间层可以从用户的X.509证书或会话中的证书本身提供DN。数据库使用DN在Oracle Internet Directory中查找用户。
                                    </p>
                                    <p><span class="bold">示例2：</span>如果用户是经过密码验证的企业用户，则中间层必须至少为用户提供全局唯一的名称。数据库使用此名称在Oracle Internet Directory中查找用户。如果会话还为用户提供密码，则数据库将根据Oracle Internet Directory验证密码。建立会话后，将自动从Oracle Internet Directory检索用户角色。
                                    </p>
                                 </li>
                                 <li>
                                    <p>中间层可以可选地为客户端提供数据库角色列表。如果代理被授权代表客户端使用角色，则启用这些角色。</p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p>数据库验证中间层是否具有代表用户创建会话的权限。</p>
                              <p>如果应用程序服务器无法由管理员代表客户端执行代理身份验证，或者不允许应用程序服务器激活指定的角色，则<code class="codeph">OCISessionBegin</code>调用将失败。
                              </p>
                           </li>
                        </ol>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-DC21CB47-D1B7-4ED9-B20A-16AE9C7FAAA7" title="Oracle调用接口（OCI），JDBC / OCI或JDBC精简驱动程序支持用于数据库用户或企业用户的代理身份验证的中间层。">中间层服务器用于代理身份验证</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG99855"></a><div class="props_rev_3"><a id="GUID-C5BD2F5A-9BAA-4E16-9DC0-67A3A837B506" name="GUID-C5BD2F5A-9BAA-4E16-9DC0-67A3A837B506"></a><h5 id="DBSEG-GUID-C5BD2F5A-9BAA-4E16-9DC0-67A3A837B506" class="sect5">对中间层特权的限制</h5>
                     <div>
                        <p>最低特权是用户应该拥有履行职责所必需的最少特权的原则，而不是更多。</p>
                        <p>应用于中间层应用程序时，这意味着中间层不应具有超出其需要的更多权限。</p>
                        <p>Oracle数据库使您可以限制中间层，使其仅使用特定数据库角色代表某些数据库用户进行连接。您可以通过向中间层授予作为映射数据库用户进行连接的权限，来限制中间层的权限，以代表存储在LDAP目录中的企业用户进行连接。例如，如果企业用户映射到<code class="codeph">APPUSER</code>架构，那么您必须至少授予中间层代表<code class="codeph">APPUSER</code>连接的能力。否则，尝试为企业用户创建会话将失败。
                        </p>
                        <p>但是，您无法限制中间层代表企业用户进行连接的能力。例如，假设用户Sarah想要通过中间层<code class="codeph">appsrv</code> （也是数据库用户）连接到数据库。Sarah有多个角色，但最好限制中间层代表她使用<code class="codeph">clerk</code>角色。
                        </p>
                        <p>管理员只能通过使用以下SQL语句，授予<code class="codeph">appsrv</code>使用她的<code class="codeph">clerk</code>角色代表Sarah发起连接的权限：</p><pre class="oac_no_warn" dir="ltr">ALTER USER sarah GRANT通过appsrv与ROLE职员联系;</pre><p>默认情况下，中间层无法为任何客户端创建连接。必须为每个用户授予权限。</p>
                        <p>要使<code class="codeph">appsrv</code>能够使用授予客户端Sarah的所有角色，您可以使用以下语句：</p><pre class="oac_no_warn" dir="ltr">ALTER USER sarah GRANT通过appsrv连接;</pre><p>每当中间层为另一个数据库用户启动OCI，JDBC / OCI或Thin驱动程序会话时，数据库将使用指定的角色验证中间层是否有权为该用户进行连接。</p>
                        <div class="infoboxnote" id="GUID-C5BD2F5A-9BAA-4E16-9DC0-67A3A837B506__GUID-30450A2B-F7A6-4C2A-B9A7-F228C735036E">
                           <p class="notep1">注意：</p>
                           <p>而不是使用默认角色，创建自己的角色并仅为其分配必要的权限。通过创建自己的角色，您可以控制它们授予的权限，并在Oracle数据库更改或删除默认角色时为您提供保护。例如， <code class="codeph">CONNECT</code>角色现在只具有<code class="codeph">CREATE SESSION</code>特权，这是连接到数据库时最直接的特权。但是， <code class="codeph">CONNECT</code>以前提供了一些额外的权限，通常不需要或不适合大多数用户。额外的权限可能会危及数据库和应用程序的安全性。这些已从<code class="codeph">CONNECT</code>删除。</p>
                           <p>仅当允许<code class="codeph">WITH ROLE</code>或<code class="codeph">WITH ROLE ALL</code>子句启用角色时，代理会话中的代理用户才能启用受密码保护的角色或安全应用程序角色。（如果未指定此子句，则<code class="codeph">WITH ROLE ALL</code>是默认值。）如果<code class="codeph">WITH ROLE</code>未指定安全角色，则即使使用正确的密码，也无法启用这些角色。
                           </p>
                        </div>
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>相关话题</strong></p>
                           <ul>
                              <li><a href="configuring-privilege-and-role-authorization.html#GUID-89CE989D-C97F-4CFD-941F-18203090A1AC" title="权限和角色授权控制用户必须执行日常任务的权限。">配置权限和角色授权</a></li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-DC21CB47-D1B7-4ED9-B20A-16AE9C7FAAA7" title="Oracle调用接口（OCI），JDBC / OCI或JDBC精简驱动程序支持用于数据库用户或企业用户的代理身份验证的中间层。">中间层服务器用于代理身份验证</a></p>
                           </div>
                        </div>
                     </div>
                  </div><a id="DBSEG99856"></a><div class="props_rev_3"><a id="GUID-377AD17C-FE28-4836-8627-132229117C68" name="GUID-377AD17C-FE28-4836-8627-132229117C68"></a><h5 id="DBSEG-GUID-377AD17C-FE28-4836-8627-132229117C68" class="sect5">授权中间层代理和验证用户</h5>
                     <div>
                        <p>您可以授权中间层服务器以用户身份进行连接。</p>
                        <div class="section">
                           <p>仅当允许<code class="codeph">WITH ROLE</code>或<code class="codeph">WITH ROLE ALL</code>子句启用角色时，代理会话中的代理用户才能启用受密码保护的角色或安全应用程序角色。（如果未指定此子句，则<code class="codeph">WITH ROLE ALL</code>是默认值。）如果<code class="codeph">WITH ROLE</code>未指定安全角色，则即使使用正确的密码，也无法启用这些角色。
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>要授权中间层服务器以用户身份进行连接，请使用<code class="codeph">ALTER USER</code>语句。
                                 </p>
                              </li>
                           </ul>
                           <p>以下语句授权中间层服务器<code class="codeph">appserve</code>以用户<code class="codeph">bill</code>连接。它使用<code class="codeph">WITH ROLE</code>子句指定<code class="codeph">appserve</code>激活与<code class="codeph">bill</code>相关的所有角色，除了<code class="codeph">payroll</code> 。
                           </p><pre class="oac_no_warn" dir="ltr">更改用户账单GRANT CONNECT通过以下方式保留所有工资单;</pre><p>要撤消作为用户<code class="codeph">bill</code>连接的中间层服务器（ <code class="codeph">appserve</code> ）授权，可以使用<code class="codeph">REVOKE CONNECT THROUGH</code>子句。例如：</p><pre class="oac_no_warn" dir="ltr">ALTER USER bill REVOKE CONNECT THROUGH appserve;</pre></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-DC21CB47-D1B7-4ED9-B20A-16AE9C7FAAA7" title="Oracle调用接口（OCI），JDBC / OCI或JDBC精简驱动程序支持用于数据库用户或企业用户的代理身份验证的中间层。">中间层服务器用于代理身份验证</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG99857"></a><div class="props_rev_3"><a id="GUID-946909CB-92B8-4D90-993A-0521FE197642" name="GUID-946909CB-92B8-4D90-993A-0521FE197642"></a><h5 id="DBSEG-GUID-946909CB-92B8-4D90-993A-0521FE197642" class="sect5">授权中间层代理通过其他方式认证的用户</h5>
                     <div>
                        <p>您可以授权中间层代理已通过其他方式进行身份验证的用户。</p>
                        <div class="section">
                           <p>目前， <code class="codeph">PASSWORD</code>是唯一支持的手段。
                           </p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>使用<code class="codeph">ALTER USER ...的<code class="codeph">AUTHENTICATION REQURED</code>子句<code class="codeph">ALTER USER ...GRANT CONNECT THROUGH</code>语句授权用户由中间层代理但未经过身份验证。
                                 </p>
                              </li>
                           </ul>
                           <p>例如：</p><pre class="oac_no_warn" dir="ltr">ALTER USER mary GRANT CONNECT通过中级认证要求;</pre><p>在上述声明中，中间层服务器<code class="codeph">midtier</code>被授权以用户<code class="codeph">mary</code>身份进行连接，而<code class="codeph">midtier</code>也必须将用户密码传递给数据库服务器以进行授权。
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-DC21CB47-D1B7-4ED9-B20A-16AE9C7FAAA7" title="Oracle调用接口（OCI），JDBC / OCI或JDBC精简驱动程序支持用于数据库用户或企业用户的代理身份验证的中间层。">中间层服务器用于代理身份验证</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG99858"></a><div class="props_rev_3"><a id="GUID-5A611B30-52D7-4AD5-9E47-40F744458223" name="GUID-5A611B30-52D7-4AD5-9E47-40F744458223"></a><h5 id="DBSEG-GUID-5A611B30-52D7-4AD5-9E47-40F744458223" class="sect5">通过中间层将用户重新验证到数据库</h5>
                     <div>
                        <p>您可以通过将<code class="codeph">AUTHENTICATION REQUIRED</code> <code class="codeph">ALTER USER</code> SQL语句与<code class="codeph">AUTHENTICATION REQUIRED</code>代理子句一起使用来指定需要身份验证。
                        </p>
                        <div class="section">
                           <p>在这种情况下，中间层必须提供用户身份验证凭据。</p>
                           <p>例如，假设用户Sarah想要通过中间层<code class="codeph">appsrv</code>连接到数据库。</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>要求<code class="codeph">appsrv</code>为用户Sarah提供身份验证凭据，请使用以下语法：</p><pre class="oac_no_warn" dir="ltr">通过<span class="variable" translate="no">appsrv</span>认证，ALTER USER <span class="variable" translate="no">sarah</span> GRANT CONNECT;</pre></li>
                           </ul>
                           <p><code class="codeph">AUTHENTICATION REQUIRED</code>子句确保在通过指定代理对用户进行身份验证时，必须显示用户的身份验证凭据。
                           </p>
                           <div class="infoboxnote" id="GUID-5A611B30-52D7-4AD5-9E47-40F744458223__GUID-D9787806-D992-4654-96FE-9F1C489F68D0">
                              <p class="notep1">注意：</p>
                              <p>为了向后兼容，如果使用<code class="codeph">AUTHENTICATED USING PASSWORD</code>代理子句，则Oracle数据库会将其转换为<code class="codeph">AUTHENTICATION REQUIRED</code> 。</p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-DC21CB47-D1B7-4ED9-B20A-16AE9C7FAAA7" title="Oracle调用接口（OCI），JDBC / OCI或JDBC精简驱动程序支持用于数据库用户或企业用户的代理身份验证的中间层。">中间层服务器用于代理身份验证</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG99859"></a><div class="props_rev_3"><a id="GUID-0C3BF3AA-7E67-48A7-A6C5-DE3B733A80B2" name="GUID-0C3BF3AA-7E67-48A7-A6C5-DE3B733A80B2"></a><h5 id="DBSEG-GUID-0C3BF3AA-7E67-48A7-A6C5-DE3B733A80B2" class="sect5">使用基于密码的代理验证</h5>
                     <div>
                        <p>使用基于密码的代理身份验证时，Oracle数据库会将客户端的密码传递给中间层服务器。</p>
                        <div class="section">
                           <p>然后，中间层服务器将密码作为属性传递给数据服务器以进行验证。</p>
                           <p>此类身份验证的主要优点是客户端计算机不必安装Oracle软件来执行数据库操作。</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>要传递客户端的密码，请配置中间层服务器以按如下方式调用<code class="codeph">OCIAttrSet()</code>函数，并将<code class="codeph">OCI_ATTR_PASSWORD</code>作为要设置的属性的类型。
                                 </p><pre class="oac_no_warn" dir="ltr">OCIAttrSet（session_handle，/ *指向其属性被修改的句柄的指针。* / OCI_HTYPE_SESSION，/ *句柄类型：OCI用户会话句柄。* / password_ptr，/ *指向密码属性值的指针。* / 0，/ * OCI库已知密码属性值的大小。* / OCI_ATTR_PASSWORD，/ *属性类型。* / error_handle）; / *用于在发生错误时检索诊断信息的错误句柄。* /</pre></li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-DC21CB47-D1B7-4ED9-B20A-16AE9C7FAAA7" title="Oracle调用接口（OCI），JDBC / OCI或JDBC精简驱动程序支持用于数据库用户或企业用户的代理身份验证的中间层。">中间层服务器用于代理身份验证</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG99860"></a><div class="props_rev_3"><a id="GUID-DE676033-816F-44FB-816A-BA1EA986D57D" name="GUID-DE676033-816F-44FB-816A-BA1EA986D57D"></a><h5 id="DBSEG-GUID-DE676033-816F-44FB-816A-BA1EA986D57D" class="sect5">使用代理身份验证与企业用户</h5>
                     <div>
                        <p>中间层如何响应代理身份验证取决于用户的身份验证方式，无论是作为企业用户还是经过密码验证的用户。</p>
                        <div class="section">
                           <p>如果中间层作为企业用户的客户端连接到数据库，则会传递可分辨名称或包含可分辨名称的X.509证书而不是数据库用户名。如果用户是经过密码验证的企业用户，则中间层必须至少为用户提供全局唯一的名称。数据库使用此名称在Oracle Internet Directory中查找用户。</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>要为企业用户配置代理身份验证，请将应用程序服务器和中间层配置为使用相应的Oracle Call Interface设置：</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p>要传递客户端的可分辨名称，请将应用程序服务器配置为使用<code class="codeph">OCI_ATTR_DISTINGUISHED_NAME</code>作为属性类型调用Oracle调用接口方法<code class="codeph">OCIAttrSet()</code> ，如下所示：</p><pre class="oac_no_warn" dir="ltr">OCIAttrSet（session_handle，OCI_HTYPE_SESSION，distinguished_name，0，OCI_ATTR_DISTINGUISHED_NAME，error_handle）;</pre></li>
                                    <li>
                                       <p>要传递整个证书，请将中间层配置为使用<code class="codeph">OCI_ATTR_CERTIFICATE</code>作为属性类型调用<code class="codeph">OCIAttrSet()</code> ，如下所示：</p><pre class="oac_no_warn" dir="ltr">OCIAttrSet（session_handle，OCI_HTYPE_SESSION，certificate，certificate_length，OCI_ATTR_CERTIFICATE，error_handle）;</pre></li>
                                 </ul>
                              </li>
                           </ul>
                           <p></p>
                           <p>如果未指定类型，则数据库使用其默认证书类型X.509。</p>
                           <div class="infoboxnote" id="GUID-DE676033-816F-44FB-816A-BA1EA986D57D__GUID-F783BBBF-E0A3-49DA-BD70-4A8AF1D17C49">
                              <p class="notep1">注意：</p>
                              <p></p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">OCI_ATTR_CERTIFICATE</code>是可区分编码规则（DER）编码的。
                                    </p>
                                 </li>
                                 <li>
                                    <p>将来的Oracle数据库版本不支持使用<code class="codeph">OCI_ATTR_CERTIFICATE</code>基于证书的代理身份验证。请改用<code class="codeph">OCI_ATTR_DISTINGUISHED_NAME</code>或<code class="codeph">OCI_ATTR_USERNAME</code>属性</p>
                                 </li>
                              </ul>
                           </div>
                           <p>如果对经过密码验证的企业用户使用代理身份验证，则使用与通过密码验证的数据库用户相同的OCI属性（ <code class="codeph">OCI_ATTR_USERNAME</code> ）。Oracle数据库首先根据数据库检查用户名。如果找不到用户，则数据库会检查目录中的用户名。此用户名必须是全局唯一的。
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-DC21CB47-D1B7-4ED9-B20A-16AE9C7FAAA7" title="Oracle调用接口（OCI），JDBC / OCI或JDBC精简驱动程序支持用于数据库用户或企业用户的代理身份验证的中间层。">中间层服务器用于代理身份验证</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="DBSEG99862"></a><div class="props_rev_3"><a id="GUID-18333ED1-0FE1-4110-A3A5-EA9B1B989DA4" name="GUID-18333ED1-0FE1-4110-A3A5-EA9B1B989DA4"></a><h4 id="DBSEG-GUID-18333ED1-0FE1-4110-A3A5-EA9B1B989DA4" class="sect4">使用客户端标识符识别数据库未知的应用程序用户</h4>
                  <div>
                     <p>客户端标识符保留中间层系统中的用户身份;它们也可以独立于全局应用程序上下文使用。</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="configuring-authentication.html#GUID-8A5E7293-9C4F-4328-ACD5-0DB8EE562379">关于客户端标识符</a><br>Oracle数据库为应用程序用户提供内置<code class="codeph">USERENV</code>应用程序上下文命名空间的<code class="codeph">CLIENT_IDENTIFIER</code>属性。
                        </li>
                        <li class="ulchildlink"><a href="configuring-authentication.html#GUID-6FF9E70F-B0DC-4C2C-A982-B7BFF583B071">客户标识符在中间层系统中的工作原理</a><br>许多应用程序使用会话池来设置多个会话以供多个应用程序用户重用。
                        </li>
                        <li class="ulchildlink"><a href="configuring-authentication.html#GUID-7BE66BDB-CDC9-4589-904B-60A24A9C74B8">使用CLIENT_IDENTIFIER属性来保留用户身份</a><br>内置应用程序上下文命名空间<code class="codeph">USERENV</code>的<code class="codeph">CLIENT_IDENTIFIER</code>预定义属性捕获用于全局应用程序上下文的应用程序用户名。
                        </li>
                        <li class="ulchildlink"><a href="configuring-authentication.html#GUID-213E0D6B-4ECC-4295-9EB5-10AD134E987F">使用CLIENT_IDENTIFIER独立于全局应用程序上下文</a><br>使用<code class="codeph">CLIENT_IDENTIFIER</code>属性对于数据库不知道用户的应用程序尤其有用。
                        </li>
                        <li class="ulchildlink"><a href="configuring-authentication.html#GUID-A8E9C280-EC5E-4E14-818C-F29376A82515">设置CLIENT_IDENTIFIER独立于全局应用程序上下文</a><br>您可以使用Oracle调用接口将<code class="codeph">CLIENT_IDENTIFIER</code>设置设置为独立于全局应用程序上下文。
                        </li>
                        <li class="ulchildlink"><a href="configuring-authentication.html#GUID-E229BFB0-43FB-49DD-803D-760E4EE658D5">使用DBMS_SESSION PL / SQL包来设置和清除客户端标识符</a><br><code class="codeph">DBMS_SESSION</code> PL / SQL包管理中间层和数据库本身的客户端标识符。
                        </li>
                        <li class="ulchildlink"><a href="configuring-authentication.html#GUID-1BB10467-6E0C-4C31-A140-04008DB76974">在系统范围内启用CLIENTID_OVERWRITE事件</a><br><code class="codeph">ALTER SYSTEM</code>语句可以在系统范围内启用<code class="codeph">CLIENTID_OVERWRITE</code>事件。
                        </li>
                        <li class="ulchildlink"><a href="configuring-authentication.html#GUID-74807ABE-3949-442F-8E4A-83B35235FAAA">为当前会话启用CLIENTID_OVERWRITE事件</a><br><code class="codeph">ALTER SESSION</code>语句只能为当前会话启用<code class="codeph">CLIENTID_OVERWRITE</code>事件。
                        </li>
                        <li class="ulchildlink"><a href="configuring-authentication.html#GUID-5C1CA5FF-DB05-41B0-BC8B-71C14181F63C">禁用CLIENTID_OVERWRITE事件</a><br><code class="codeph">ALTER SYSTEM</code>语句可以禁用<code class="codeph">CLIENTID_OVERWRITE</code>事件。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-94CF6D9C-08A0-4671-BD82-694EB67D06C9" title="您可以使用中间层服务器进行代理身份验证和客户端标识符，以识别数据库未知的应用程序用户。">在多层环境中保留用户标识</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="DBSEG477"></a><div class="props_rev_3"><a id="GUID-8A5E7293-9C4F-4328-ACD5-0DB8EE562379" name="GUID-8A5E7293-9C4F-4328-ACD5-0DB8EE562379"></a><h5 id="DBSEG-GUID-8A5E7293-9C4F-4328-ACD5-0DB8EE562379" class="sect5">关于客户端标识符</h5>
                     <div>
                        <p>Oracle数据库为应用程序用户提供内置<code class="codeph">USERENV</code>应用程序上下文命名空间的<code class="codeph">CLIENT_IDENTIFIER</code>属性。
                        </p>
                        <p>这些应用程序用户对应用程序是已知的，但数据库不知道。<code class="codeph">CLIENT_IDENTIFIER</code>属性可以捕获应用程序用于标识或访问控制的任何值，并将其传递给数据库。OCI，JDBC / OCI或Thin驱动程序支持<code class="codeph">CLIENT_IDENTIFIER</code>属性。
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-18333ED1-0FE1-4110-A3A5-EA9B1B989DA4" title="客户端标识符保留中间层系统中的用户身份;它们也可以独立于全局应用程序上下文使用。">使用客户端标识符识别数据库未知的应用程序用户</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG15003"></a><div class="props_rev_3"><a id="GUID-6FF9E70F-B0DC-4C2C-A982-B7BFF583B071" name="GUID-6FF9E70F-B0DC-4C2C-A982-B7BFF583B071"></a><h5 id="DBSEG-GUID-6FF9E70F-B0DC-4C2C-A982-B7BFF583B071" class="sect5">客户标识符在中间层系统中的工作原理</h5>
                     <div>
                        <p>许多应用程序使用会话池来设置多个会话以供多个应用程序用户重用。</p>
                        <p>用户向中间层应用程序进行身份验证，该应用程序使用单个身份登录数据库并维护所有用户连接。在此模型中，应用程序用户是对应用程序的中间层进行身份验证但数据库不知道的用户。您可以使用<code class="codeph">CLIENT_IDENTIFIER</code>属性，该属性的作用类似于这些类型的应用程序的应用程序用户代理。
                        </p>
                        <p>在此模型中，中间层在会话建立时将客户端标识符传递给数据库。客户端标识符实际上可以是表示连接到中间层的客户端的任何内容，例如cookie或IP地址。表示应用程序用户的客户机标识符在用户会话信息中可用，也可以使用应用程序上下文访问（通过使用<code class="codeph">USERENV</code>命名上下文）。通过这种方式，应用程序可以设置和重用会话，同时仍然能够跟踪会话中的<span class="italic">应用程序用户</span> 。应用程序可以重置客户端标识符，从而为不同的用户重用会话，从而实现高性能。
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-18333ED1-0FE1-4110-A3A5-EA9B1B989DA4" title="客户端标识符保留中间层系统中的用户身份;它们也可以独立于全局应用程序上下文使用。">使用客户端标识符识别数据库未知的应用程序用户</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG99863"></a><div class="props_rev_3"><a id="GUID-7BE66BDB-CDC9-4589-904B-60A24A9C74B8" name="GUID-7BE66BDB-CDC9-4589-904B-60A24A9C74B8"></a><h5 id="DBSEG-GUID-7BE66BDB-CDC9-4589-904B-60A24A9C74B8" class="sect5">使用CLIENT_IDENTIFIER属性来保留用户身份</h5>
                     <div>
                        <p>内置应用程序上下文命名空间<code class="codeph">USERENV</code>的<code class="codeph">CLIENT_IDENTIFIER</code>预定义属性捕获用于全局应用程序上下文的应用程序用户名。
                        </p>
                        <p>您还可以单独使用<code class="codeph">CLIENT_IDENTIFIER</code>属性。
                        </p>
                        <p>独立于全局应用程序上下文使用<code class="codeph">CLIENT_IDENTIFIER</code>属性时，可以使用<code class="codeph">DBMS_SESSION</code>接口设置<code class="codeph">CLIENT_IDENTIFIER</code> 。Oracle调用接口（OCI），JDBC / OCI或Thin驱动程序支持将<code class="codeph">CLIENT_IDENTIFIER</code>传递给数据库的功能。
                        </p>
                        <p>将<code class="codeph">CLIENT_IDENTIFIER</code>属性与全局应用程序上下文一起使用时，它为构建应用程序提供了灵活性和高性能。例如，假设一个向业务合作伙伴提供信息的基于Web的应用程序有三种类型的用户：黄金合作伙伴，白银合作伙伴和青铜合作伙伴，代表不同级别的可用信息。应用程序可以为黄金合作伙伴，白银合作伙伴和青铜合作伙伴设置全局应用程序上下文，而不是每个用户都使用自己的会话设置单独的应用程序上下文。然后，使用<code class="codeph">CLIENT_IDENTIFIER</code>将会话指向正确的上下文以检索适当类型的数据。应用程序只需初始化三个全局上下文一次，并使用<code class="codeph">CLIENT_IDENTIFIER</code>访问正确的应用程序上下文以限制数据访问。这通过会话重用和访问一次设置的全局应用程序上下文提供了性能优势，而不必为每个会话单独初始化应用程序上下文。
                        </p>
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>相关话题</strong></p>
                           <ul>
                              <li><a href="using-application-contexts-to-retrieve-user-information.html#GUID-85E9C986-4D83-4DBB-9A2E-000E737F30D6" title="您可以使用全局应用程序上下文跨数据库会话访问应用程序值，包括Oracle Real Application Clusters环境。">全球应用程序上下文</a></li>
                              <li><a href="using-application-contexts-to-retrieve-user-information.html#GUID-BF276A5E-BC14-4B49-A02A-2EC984325805" title="本教程演示了如何创建使用客户端会话ID的全局应用程序上下文。">教程：创建使用客户端会话ID的全局应用程序上下文</a></li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-18333ED1-0FE1-4110-A3A5-EA9B1B989DA4" title="客户端标识符保留中间层系统中的用户身份;它们也可以独立于全局应用程序上下文使用。">使用客户端标识符识别数据库未知的应用程序用户</a></p>
                           </div>
                        </div>
                     </div>
                  </div><a id="DBSEG99864"></a><div class="props_rev_3"><a id="GUID-213E0D6B-4ECC-4295-9EB5-10AD134E987F" name="GUID-213E0D6B-4ECC-4295-9EB5-10AD134E987F"></a><h5 id="DBSEG-GUID-213E0D6B-4ECC-4295-9EB5-10AD134E987F" class="sect5">使用CLIENT_IDENTIFIER独立于全局应用程序上下文</h5>
                     <div>
                        <p>使用<code class="codeph">CLIENT_IDENTIFIER</code>属性对于数据库不知道用户的应用程序尤其有用。
                        </p>
                        <p>在这些情况下，应用程序通常作为单个数据库用户连接，并且所有操作都被视为该用户。</p>
                        <p>由于所有用户会话都是作为同一用户创建的，因此该安全模型很难为每个用户实现数据分离。这些应用程序可以使用<code class="codeph">CLIENT_IDENTIFIER</code>属性将实际应用程序用户身份保留到数据库。
                        </p>
                        <p>通过这种方法，多个用户可以通过更改<code class="codeph">CLIENT_IDENTIFIER</code>属性的值来重用会话，该属性捕获真实应用程序用户的名称。这避免了为每个用户设置单独会话和单独属性的开销，并允许应用程序重用会话。当<code class="codeph">CLIENT_IDENTIFIER</code>属性值更改时，更改将添加到下一个OCI，JDBC / OCI或Thin驱动程序调用，以获得其他性能优势。
                        </p>
                        <p>例如，用户Daniel连接到Web Expense应用程序。Daniel不是数据库用户;他是典型的Web Expense应用程序用户。应用程序访问内置应用程序上下文命名空间，并将<code class="codeph">DANIEL</code>设置为<code class="codeph">CLIENT_IDENTIFIER</code>属性值。Daniel完成了他的Web Expense表单并退出了该应用程序。然后，Ajit连接到Web Expense应用程序。该应用程序不是为Ajit设置新会话，而是通过将<code class="codeph">CLIENT_IDENTIFIER</code>更改为<code class="codeph">AJIT</code>来重用Daniel当前存在的会话。这避免了设置与数据库的新连接的开销以及设置全局应用程序上下文的开销。<code class="codeph">CLIENT_IDENTIFIER</code>属性可以设置为应用程序基于访问控制的任何值。它不必是应用程序用户名。
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-18333ED1-0FE1-4110-A3A5-EA9B1B989DA4" title="客户端标识符保留中间层系统中的用户身份;它们也可以独立于全局应用程序上下文使用。">使用客户端标识符识别数据库未知的应用程序用户</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG433"></a><div class="props_rev_3"><a id="GUID-A8E9C280-EC5E-4E14-818C-F29376A82515" name="GUID-A8E9C280-EC5E-4E14-818C-F29376A82515"></a><h5 id="DBSEG-GUID-A8E9C280-EC5E-4E14-818C-F29376A82515" class="sect5">设置CLIENT_IDENTIFIER独立于全局应用程序上下文</h5>
                     <div>
                        <p>您可以使用Oracle调用接口将<code class="codeph">CLIENT_IDENTIFIER</code>设置设置为独立于全局应用程序上下文。
                        </p>
                        <div class="section">
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>要使用OCI设置<code class="codeph">CLIENT_IDENTIFIER</code>属性，请在对<code class="codeph">OCIAttrSet()</code>的调用中使用<code class="codeph">OCI_ATTR_CLIENT_IDENTIFIER</code>属性。然后，在对服务器的下一个请求中，信息被传播并存储在服务器会话中。
                                 </p>
                              </li>
                           </ul>
                           <p>例如：</p><pre class="oac_no_warn" dir="ltr">OCIAttrSet（会话，</pre><pre class="oac_no_warn" dir="ltr">OCI_HTYPE_SESSION，（dvoid *）“appuser1”，（ub4）strlen（“appuser1”），OCI_ATTR_CLIENT_IDENTIFIER，* error_handle）;</pre><p>对于使用JDBC的应用程序，请注意JDBC不会设置客户端标识符。要在连接池环境中设置客户端标识符，请使用动态监视服务（DMS）度量标准。如果DMS不可用，则使用<code class="codeph">connection.setClientInfo</code>方法。例如：</p><pre class="oac_no_warn" dir="ltr">connection.setClientInfo（“E2E_CONTEXT.CLIENT_IDENTIFIER”，“appuser”）;</pre></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-A8E9C280-EC5E-4E14-818C-F29376A82515__GUID-9BAAF075-E9C4-4F81-847E-0E6D34EE8836">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>关于如何在中间层应用程序中使用<code class="codeph">OCI_ATTR_CLIENT_IDENTIFIER</code>用户会话句柄属性的<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/dbseg&amp;id=LNOCI080" target="_blank"><span><cite>Oracle调用接口程序员指南</cite></span></a></p>
                              </li>
                              <li>
                                 <p>有关使用JDBC和DMS指标配置客户端连接的详细信息，请参阅<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/dbseg&amp;id=JJDBC29006" target="_blank"><span><cite>“Oracle数据库JDBC开发人员指南”</cite></span></a></p>
                              </li>
                              <li>
                                 <p>有关<code class="codeph">setClientInfo</code>方法的更多信息，请<code class="codeph">setClientInfo</code> <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/dbseg&amp;id=JJDBC29007" target="_blank"><span><cite>“Oracle数据库JDBC开发人员指南”</cite></span></a></p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-18333ED1-0FE1-4110-A3A5-EA9B1B989DA4" title="客户端标识符保留中间层系统中的用户身份;它们也可以独立于全局应用程序上下文使用。">使用客户端标识符识别数据库未知的应用程序用户</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG99865"></a><div class="props_rev_3"><a id="GUID-E229BFB0-43FB-49DD-803D-760E4EE658D5" name="GUID-E229BFB0-43FB-49DD-803D-760E4EE658D5"></a><h5 id="DBSEG-GUID-E229BFB0-43FB-49DD-803D-760E4EE658D5" class="sect5">使用DBMS_SESSION PL / SQL包来设置和清除客户端标识符</h5>
                     <div>
                        <p><code class="codeph">DBMS_SESSION</code> PL / SQL包管理中间层和数据库本身的客户端标识符。
                        </p>
                        <p>要使用<code class="codeph">DBMS_SESSION</code>包来设置和清除中间层上的<code class="codeph">CLIENT_IDENTIFIER</code>值，必须使用<code class="codeph">SET_IDENTIFIER</code>和<code class="codeph">CLEAR_IDENTIFIER</code>过程。
                        </p>
                        <p>中间层使用<code class="codeph">SET_IDENTIFIER</code>将数据库会话与特定用户或组相关联。然后， <code class="codeph">CLIENT_IDENTIFIER</code>是会话的属性，可以在会话信息中查看。
                        </p>
                        <p>如果您计划使用<code class="codeph">DBMS_SESSION.SET_IDENTIFIER</code>过程，请注意以下事项：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">DBMS_SESSION.SET_IDENTIFIER</code>的<code class="codeph">client_id</code>参数的最大字节数为64个字节。如果超过64，则会截断其他字节。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">DBMS_APPLICATION_INFO.SET_CLIENT_INFO</code>过程可以覆盖客户端标识符的值。通常，这些值应该是相同的，因此，如果<code class="codeph">SET_CLIENT_INFO</code>被设置，那么它的值可以自动地传播到由设置的值<code class="codeph">SET_IDENTIFIER</code>如果<code class="codeph">CLIENTID_OVERWRITE</code>事件被设置为<code class="codeph">ON</code> 。您可以通过运行<code class="codeph">EVENT</code>参数的<code class="codeph">SHOW PARAMETER</code>命令来检查<code class="codeph">CLIENTID_OVERWRITE</code>事件的状态。
                              </p>
                              <p>例如，假设启用了<code class="codeph">CLIENTID_OVERWRITE</code> ：</p><pre class="oac_no_warn" dir="ltr">SHOW PARAMETER EVENT NAME TYPE VALUE ------------------------------ -------------- ---- ------------------事件字符串clientid_overwrite</pre></li>
                        </ul>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-18333ED1-0FE1-4110-A3A5-EA9B1B989DA4" title="客户端标识符保留中间层系统中的用户身份;它们也可以独立于全局应用程序上下文使用。">使用客户端标识符识别数据库未知的应用程序用户</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG1063"></a><div class="props_rev_3"><a id="GUID-1BB10467-6E0C-4C31-A140-04008DB76974" name="GUID-1BB10467-6E0C-4C31-A140-04008DB76974"></a><h5 id="DBSEG-GUID-1BB10467-6E0C-4C31-A140-04008DB76974" class="sect5">在系统范围内启用CLIENTID_OVERWRITE事件</h5>
                     <div>
                        <p><code class="codeph">ALTER SYSTEM</code>语句可以在系统范围内启用<code class="codeph">CLIENTID_OVERWRITE</code>事件。
                        </p>
                        <ol>
                           <li class="stepexpand"><span>输入以下<code class="codeph">ALTER SYSTEM</code>语句：</span><div><pre class="oac_no_warn" dir="ltr">更改系统设置事件'CLIENTID_OVERWRITE';</pre><p>或者，在<code class="codeph">init.ora</code>文件中输入以下行：</p><pre class="oac_no_warn" dir="ltr">事件= “clientid_overwrite”</pre></div>
                           </li>
                           <li class="stepexpand"><span>重启数据库。</span><div>
                                 <p>例如：</p><pre class="oac_no_warn" dir="ltr">关机立即启动</pre></div>
                           </li>
                        </ol>
                        <div class="section"></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-1BB10467-6E0C-4C31-A140-04008DB76974__GUID-243AC715-3155-4C32-B4BE-60720BD05004">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><a href="using-application-contexts-to-retrieve-user-information.html#GUID-85E9C986-4D83-4DBB-9A2E-000E737F30D6" title="您可以使用全局应用程序上下文跨数据库会话访问应用程序值，包括Oracle Real Application Clusters环境。">全球应用程序上下文</a>的信息，有关在全球范围内的应用程序使用客户端标识符</p>
                              </li>
                              <li>
                                 <p>有关<code class="codeph">DBMS_SESSION</code>包的更多信息，请<code class="codeph">DBMS_SESSION</code> <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/dbseg&amp;id=ARPLS054" target="_blank"><span><cite>Oracle Database PL / SQL包和类型参考</cite></span></a></p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-18333ED1-0FE1-4110-A3A5-EA9B1B989DA4" title="客户端标识符保留中间层系统中的用户身份;它们也可以独立于全局应用程序上下文使用。">使用客户端标识符识别数据库未知的应用程序用户</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG435"></a><div class="props_rev_3"><a id="GUID-74807ABE-3949-442F-8E4A-83B35235FAAA" name="GUID-74807ABE-3949-442F-8E4A-83B35235FAAA"></a><h5 id="DBSEG-GUID-74807ABE-3949-442F-8E4A-83B35235FAAA" class="sect5">为当前会话启用CLIENTID_OVERWRITE事件</h5>
                     <div>
                        <p><code class="codeph">ALTER SESSION</code>语句只能为当前会话启用<code class="codeph">CLIENTID_OVERWRITE</code>事件。
                        </p>
                        <ol>
                           <li class="stepexpand"><span>使用<code class="codeph">ALTER SESSION</code>语句仅为会话设置<code class="codeph">CLIENTID_OVERWRITE</code>值。</span><div>
                                 <p>例如：</p><pre class="oac_no_warn" dir="ltr">ALTER SESSION SET EVENTS'COMPENTID_OVERWRITE OFF';</pre></div>
                           </li>
                           <li class="stepexpand"><span>如果使用<code class="codeph">DBMS_APPLICATION_INFO.SET_CLIENT_INFO</code>过程设置客户端标识符，则运行<code class="codeph">DBMS_SESSION.SET_IDENTIFIER</code>以便客户端标识符设置相同。</span><div>
                                 <p>例如：</p><pre class="oac_no_warn" dir="ltr">DBMS_SESSION.SET_IDENTIFIER（session_id_p）;</pre></div>
                           </li>
                        </ol>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-18333ED1-0FE1-4110-A3A5-EA9B1B989DA4" title="客户端标识符保留中间层系统中的用户身份;它们也可以独立于全局应用程序上下文使用。">使用客户端标识符识别数据库未知的应用程序用户</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG443"></a><div class="props_rev_3"><a id="GUID-5C1CA5FF-DB05-41B0-BC8B-71C14181F63C" name="GUID-5C1CA5FF-DB05-41B0-BC8B-71C14181F63C"></a><h5 id="DBSEG-GUID-5C1CA5FF-DB05-41B0-BC8B-71C14181F63C" class="sect5">禁用CLIENTID_OVERWRITE事件</h5>
                     <div>
                        <p><code class="codeph">ALTER SYSTEM</code>语句可以禁用<code class="codeph">CLIENTID_OVERWRITE</code>事件。
                        </p>
                        <ol>
                           <li class="stepexpand"><span>输入以下<code class="codeph">ALTER SYSTEM</code>语句：</span><div><pre class="oac_no_warn" dir="ltr">更改系统设置事件'CLIENTID_OVERWRITE OFF';</pre></div>
                           </li>
                           <li class="stepexpand"><span>重启数据库。</span><div>
                                 <p>例如：</p><pre class="oac_no_warn" dir="ltr">关机立即启动</pre></div>
                           </li>
                        </ol>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-18333ED1-0FE1-4110-A3A5-EA9B1B989DA4" title="客户端标识符保留中间层系统中的用户身份;它们也可以独立于全局应用程序上下文使用。">使用客户端标识符识别数据库未知的应用程序用户</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
            </div><a id="DBSEG99867"></a><a id="DBSEG99866"></a><div class="props_rev_3"><a id="GUID-FC71AA95-BC6C-4059-AC4E-4451CBB40EA8" name="GUID-FC71AA95-BC6C-4059-AC4E-4451CBB40EA8"></a><h3 id="DBSEG-GUID-FC71AA95-BC6C-4059-AC4E-4451CBB40EA8" class="sect3">用户认证数据字典视图</h3>
               <div>
                  <p>Oracle数据库提供数据字典视图，列出有关用户身份验证的信息，例如用户拥有的角色或他们使用的配置文件。</p>
                  <div class="section">
                     <p><a href="configuring-authentication.html#GUID-FC71AA95-BC6C-4059-AC4E-4451CBB40EA8__CHDEIHDA" title="描述身份验证的数据字典视图">表3-4</a>列出了数据字典视图。有关这些视图的详细信息，请参阅<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/dbseg&amp;id=REFRN" target="_blank"><span><cite>Oracle数据库参考</cite></span></a> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-FC71AA95-BC6C-4059-AC4E-4451CBB40EA8__CHDEIHDA">
                     <p class="titleintable">表3-4描述用户认证的数据字典视图</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="描述用户身份验证的数据字典视图" width="100%" border="1" summary="Data dictionary views that describe authentication" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="32%" id="d20073e25130">视图</th>
                              <th align="left" valign="bottom" width="68%" id="d20073e25133">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="32%" id="d20073e25138" headers="d20073e25130 ">
                                 <p><code class="codeph">DBA_PROFILES</code></p>
                              </td>
                              <td align="left" valign="top" width="68%" headers="d20073e25138 d20073e25133 ">
                                 <p>显示有关配置文件的信息，包括其设置和限制</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="32%" id="d20073e25146" headers="d20073e25130 ">
                                 <p><code class="codeph">DBA_ROLES</code></p>
                              </td>
                              <td align="left" valign="top" width="68%" headers="d20073e25146 d20073e25133 ">
                                 <p>显示用于登录数据库的数据库角色的身份验证类型，例如<code class="codeph">NONE</code>或<code class="codeph">GLOBAL</code> （查询<code class="codeph">AUTHENTICATION_TYPE</code>列）</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="32%" id="d20073e25163" headers="d20073e25130 ">
                                 <p><code class="codeph">DBA_USERS</code></p>
                              </td>
                              <td align="left" valign="top" width="68%" headers="d20073e25163 d20073e25133 ">
                                 <p>在其他用户信息中，显示以下内容：</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p>用户用于登录数据库的身份验证类型，例如<code class="codeph">PASSWORD</code>或<code class="codeph">EXTERNAL</code> （ <code class="codeph">AUTHENTICATION_TYPE</code>列）</p>
                                    </li>
                                    <li>
                                       <p>用户帐户存在的密码版本（也称为哈希）的版本列表（ <code class="codeph">PASSWORD_VERSIONS</code>列）</p>
                                    </li>
                                 </ul>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="32%" id="d20073e25190" headers="d20073e25130 ">
                                 <p><code class="codeph">DBA_USERS_WITH_DEFPWD</code></p>
                              </td>
                              <td align="left" valign="top" width="68%" headers="d20073e25190 d20073e25133 ">
                                 <p>显示用户帐户密码是否为默认密码</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="32%" id="d20073e25198" headers="d20073e25130 ">
                                 <p><code class="codeph">PROXY_USERS</code></p>
                              </td>
                              <td align="left" valign="top" width="68%" headers="d20073e25198 d20073e25133 ">
                                 <p>显示当前有权通过中间层连接的用户</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="32%" id="d20073e25206" headers="d20073e25130 ">
                                 <p><code class="codeph">V $ DBLINK</code></p>
                              </td>
                              <td align="left" valign="top" width="68%" headers="d20073e25206 d20073e25133 ">
                                 <p>显示现有数据库链接的用户帐户（ <code class="codeph">DB_LINK</code> ， <code class="codeph">OWNER_ID</code>列）;适用于当前可插拔数据库（PDB）</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="32%" id="d20073e25220" headers="d20073e25130 ">
                                 <p><code class="codeph">V $ PWFILE</code></p>
                              </td>
                              <td align="left" valign="top" width="68%" headers="d20073e25220 d20073e25133 ">
                                 <p>列出密码文件中包含的管理用户的名称和授予的管理权限</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="32%" id="d20073e25228" headers="d20073e25130 ">
                                 <p><code class="codeph">V $ SESSION</code></p>
                              </td>
                              <td align="left" valign="top" width="68%" headers="d20073e25228 d20073e25133 ">
                                 <p>查询<code class="codeph">USERNAME</code>列会同时显示登录用户到当前PDB</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="configuring-authentication.html#GUID-00632C9C-5C01-4C8F-A4D0-5E575502A6AE" title="身份验证意味着验证连接到数据库的用户或其他实体的身份。">配置身份验证</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html>