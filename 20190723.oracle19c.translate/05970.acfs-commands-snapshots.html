<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="This topic provides a summary of commands to manage Oracle ACFS snapshots."></meta>
      <meta name="description" content="This topic provides a summary of commands to manage Oracle ACFS snapshots."></meta>
      <title>用于快照的Oracle ACFS命令行工具</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Administrator&#39;s Guide"></meta>
      <meta property="og:description" content="This topic provides a summary of commands to manage Oracle ACFS snapshots."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Administrator&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="automatic-storage-management-administrators-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-04-23T18:56:15-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2007, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96198-03"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="acfs-commands-encryption.html" title="Previous" type="text/html"></link>
      <link rel="next" href="acfs-commands-compression.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Automatic Storage Management Administrator&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="OSTMG"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="acfs-commands-encryption.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="acfs-commands-compression.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">管理员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="part-acfs-advm.html" property="item" typeof="WebPage"><span property="name">Oracle自动存储管理群集文件系统</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="manage-acfs-advm-commands.html" property="item" typeof="WebPage"><span property="name">使用命令行工具管理Oracle ACFS</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">用于快照的Oracle ACFS命令行工具</li>
            </ol>
            <a id="GUID-4AF8BCAD-5EF4-4CE8-9393-5E8D75B10A93" name="GUID-4AF8BCAD-5EF4-4CE8-9393-5E8D75B10A93"></a>
            
            <h2 id="OSTMG-GUID-4AF8BCAD-5EF4-4CE8-9393-5E8D75B10A93" class="sect2">用于快照的Oracle ACFS命令行工具</h2>
         </header>
         <div class="ind">
            <div>
               <p>本主题提供了管理Oracle ACFS快照的命令摘要。</p>
               <p><a href="acfs-commands-snapshots.html#GUID-4AF8BCAD-5EF4-4CE8-9393-5E8D75B10A93__BABCCICG" title="Oracle ACFS快照命令摘要">表16-88</a>列出了带有简要说明的Oracle ACFS快照命令。有关Oracle ACFS快照的概述，请参阅<a href="understand-acfs-concepts.html#GUID-5A3EF695-A795-4FEA-8BE2-AF657BD2238C" title="Oracle ACFS快照是Oracle ACFS文件系统的在线，只读或读写时间点副本。">关于Oracle ACFS快照</a> 。
               </p>
               <p>有关运行Oracle ACFS <code class="codeph">acfsutil</code>命令的更多信息，请参阅<a href="steps-manage-acfs.html#GUID-FA9F9335-ADA4-48D1-B060-6F096E3BAE6C" title="本主题概述了Oracle ACFS acfsutil命令的使用。">关于使用Oracle ACFS命令行工具</a> 。
               </p>
               <div class="tblformalwide" id="GUID-4AF8BCAD-5EF4-4CE8-9393-5E8D75B10A93__BABCCICG">
                  <p class="titleintable">表16-88 Oracle ACFS快照的命令摘要</p>
                  <table cellpadding="4" cellspacing="0" class="FormalWide" title="Oracle ACFS快照的命令摘要" width="100%" border="1" summary="Summary of Oracle ACFS snapshot commands " frame="hsides" rules="rows">
                     <thead>
                        <tr align="left" valign="top">
                           <th align="left" valign="bottom" width="37%" id="d176644e186">命令</th>
                           <th align="left" valign="bottom" width="63%" id="d176644e189">描述</th>
                        </tr>
                     </thead>
                     <tbody>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d176644e194" headers="d176644e186 ">
                              <p><a href="acfs-commands-snapshots.html#GUID-848A0E4D-1B4C-466D-9AAC-1F451EA57F96">acfsutil snap转换</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d176644e194 d176644e189 ">
                              <p>转换现有快照的类型。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d176644e202" headers="d176644e186 ">
                              <p><a href="acfs-commands-snapshots.html#GUID-A1E4A4B5-CD16-4ADC-817D-4CD7D2DA12DF">acfsutil snap创建</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d176644e202 d176644e189 ">
                              <p>创建Oracle ACFS文件系统或现有快照的快照。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d176644e210" headers="d176644e186 ">
                              <p><a href="acfs-commands-snapshots.html#GUID-CDB26CF4-DDE6-4465-83E7-87D5251045E0">acfsutil snap delete</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d176644e210 d176644e189 ">
                              <p>删除Oracle ACFS文件系统的快照。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d176644e218" headers="d176644e186 ">
                              <p><a href="acfs-commands-snapshots.html#GUID-9C694C56-E973-4AC4-A673-9BDDE3608F56">acfsutil snap重复申请</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d176644e218 d176644e189 ">
                              <p>更新重复的快照或文件系统。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d176644e226" headers="d176644e186 ">
                              <p><a href="acfs-commands-snapshots.html#GUID-4E30C184-CA2F-4BD2-A347-EAA0ACFEF087">acfsutil snap重复创建</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d176644e226 d176644e189 ">
                              <p>创建现有快照的副本。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d176644e234" headers="d176644e186 ">
                              <p><a href="acfs-commands-snapshots.html#GUID-519612AC-CFC1-4842-AEC1-CE271BF35051">acfsutil snap信息</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d176644e234 d176644e189 ">
                              <p>显示有关Oracle ACFS文件系统快照的信息。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d176644e242" headers="d176644e186 ">
                              <p><a href="acfs-commands-snapshots.html#GUID-316DADD7-A589-4D08-A437-F708CA4797FB">acfsutil snap链接</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d176644e242 d176644e189 ">
                              <p>创建或删除快照链接。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d176644e252" headers="d176644e186 ">
                              <p><a href="acfs-commands-snapshots.html#GUID-AEC4D157-CF2B-4D83-9DEE-DFD52AF9B565">acfsutil快照配额</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d176644e252 d176644e189 ">
                              <p>设置指定快照的配额限制。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d176644e262" headers="d176644e186 ">
                              <p><a href="acfs-commands-snapshots.html#GUID-495A26C3-9237-4DA2-AB65-BF12D9050A87">acfsutil snap remaster</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d176644e262 d176644e189 ">
                              <p>重新制作具有指定快照的文件系统。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d176644e270" headers="d176644e186 ">
                              <p><a href="acfs-commands-snapshots.html#GUID-7A86E347-5263-4E9F-9AE9-44E4A0B825C1">acfsutil snap重命名</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d176644e270 d176644e189 ">
                              <p>重命名快照。</p>
                           </td>
                        </tr>
                     </tbody>
                  </table>
               </div>
               <!-- class="inftblhruleinformal" -->
            </div><a id="OSTMG95592"></a><a id="OSTMG95593"></a><a id="OSTMG95594"></a><a id="OSTMG95595"></a><a id="OSTMG95596"></a><a id="OSTMG95591"></a><div class="props_rev_3"><a id="GUID-848A0E4D-1B4C-466D-9AAC-1F451EA57F96" name="GUID-848A0E4D-1B4C-466D-9AAC-1F451EA57F96"></a><h3 id="OSTMG-GUID-848A0E4D-1B4C-466D-9AAC-1F451EA57F96" class="sect3">acfsutil snap转换</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-848A0E4D-1B4C-466D-9AAC-1F451EA57F96__GUID-2F8329A4-9DD7-4796-82FD-835BFBD62519">目的</p>
                     <p>将现有快照映像的类型从只读转换为读写或读写为只读。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-848A0E4D-1B4C-466D-9AAC-1F451EA57F96__GUID-9C3BA690-617E-4CF6-A57E-D8E2B87CDF3B">语法和说明</p><pre class="oac_no_warn" dir="ltr">acfsutil snap convert -h acfsutil snap convert [-r | -w] <span class="italic">snap_shot</span> <span class="italic">mount_point</span></pre><p><code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">convert</code> <code class="codeph">-h</code>显示帮助文本和退出。
                     </p>
                     <p>下表包含<code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">convert</code>命令可用的选项。
                     </p>
                     <div class="tblformal" id="GUID-848A0E4D-1B4C-466D-9AAC-1F451EA57F96__BABGEACE">
                        <p class="titleintable">表16-89 acfsutil snap convert命令的选项</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="acfsutil snap convert命令的选项" width="100%" border="1" summary="This table lists the options for the acfsutil snap create command, along with a description for each option" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d176644e472">选项</th>
                                 <th align="left" valign="bottom" width="69%" id="d176644e475">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d176644e480" headers="d176644e472 ">
                                    <p><code class="codeph">-r</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d176644e480 d176644e475 ">
                                    <p>将快照转换为只读快照。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d176644e488" headers="d176644e472 ">
                                    <p><code class="codeph">-w</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d176644e488 d176644e475 ">
                                    <p>将快照转换为读写快照。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d176644e496" headers="d176644e472 ">
                                    <p><span class="italic"><code class="codeph">snap_shot</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d176644e496 d176644e475 ">
                                    <p>指定要转换的快照的名称。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d176644e505" headers="d176644e472 ">
                                    <p><span class="italic"><code class="codeph">装入点</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d176644e505 d176644e475 ">
                                    <p>指定安装文件系统的目录。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p><code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">convert</code>将现有快照映像的类型从只读快照映像转换为读写快照映像，或从读写快照映像转换为只读快照映像。
                     </p>
                     <p>转换操作需要类型选项（ <code class="codeph">-r</code>或<code class="codeph">-w</code> ）。指定与现有快照映像的类型匹配的类型参数不会导致转换，也不会导致失败。可以将11.2只读快照映像转换为读写快照映像，但此转换会导致更新Oracle ACFS磁盘结构版本。更新Oracle ACFS磁盘结构版本后，更新后的版本与以前的Oracle ACFS 11.2版本不兼容。
                     </p>
                     <p>使用此命令需要管理员权限，或者您必须是Oracle ASM管理员组的成员。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-848A0E4D-1B4C-466D-9AAC-1F451EA57F96__GUID-4A043D54-C347-4CB4-BAA3-E97555D24F71">例子</p>
                     <p><a href="acfs-commands-snapshots.html#GUID-848A0E4D-1B4C-466D-9AAC-1F451EA57F96__BABHEEBF">例16-84</a>显示了使用<code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">convert</code>命令。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-848A0E4D-1B4C-466D-9AAC-1F451EA57F96__BABHEEBF">
                     <p class="titleinexample">示例16-84使用acfsutil snap convert命令</p><pre class="oac_no_warn" dir="ltr">$ acfsutil snap convert -w midday_test1 / acfsmounts / critical_apps $ acfsutil snap convert -r midday_test2 / acfsmounts / critical_apps</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="OSTMG95240"></a><a id="OSTMG95241"></a><a id="OSTMG95242"></a><a id="OSTMG95243"></a><a id="OSTMG95244"></a><a id="OSTMG95597"></a><a id="OSTMG95239"></a><div class="props_rev_3"><a id="GUID-A1E4A4B5-CD16-4ADC-817D-4CD7D2DA12DF" name="GUID-A1E4A4B5-CD16-4ADC-817D-4CD7D2DA12DF"></a><h3 id="OSTMG-GUID-A1E4A4B5-CD16-4ADC-817D-4CD7D2DA12DF" class="sect3">acfsutil snap创建</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-A1E4A4B5-CD16-4ADC-817D-4CD7D2DA12DF__GUID-D478598B-ED83-4071-B6DF-2848B0494F69">目的</p>
                     <p>创建Oracle ACFS文件系统或现有快照的只读或读写快照。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-A1E4A4B5-CD16-4ADC-817D-4CD7D2DA12DF__GUID-DC82FD9B-4754-46FC-8AEB-2642B595A6D5">语法和说明</p><pre class="oac_no_warn" dir="ltr">acfsutil snap create -h acfsutil snap create [-r | -w] [-p <span class="italic">parent_snap_shot</span> ] <span class="italic">snap_shot</span> <span class="italic">mount_point</span></pre><p><code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">create</code> <code class="codeph">-h</code>显示帮助文本并退出。
                     </p>
                     <p>下表包含<code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">create</code>命令可用的选项。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-A1E4A4B5-CD16-4ADC-817D-4CD7D2DA12DF__BABJGBFC">
                     <p class="titleintable">表16-90 acfsutil snap create命令的选项</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="acfsutil snap create命令的选项" width="100%" border="1" summary="This table lists the options for the acfsutil snap create command, along with a description for each option" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="31%" id="d176644e786">选项</th>
                              <th align="left" valign="bottom" width="69%" id="d176644e789">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d176644e794" headers="d176644e786 ">
                                 <p><code class="codeph">-r</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d176644e794 d176644e789 ">
                                 <p>创建只读快照。这是默认设置。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d176644e802" headers="d176644e786 ">
                                 <p><code class="codeph">-w</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d176644e802 d176644e789 ">
                                 <p>创建读写快照。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d176644e810" headers="d176644e786 ">
                                 <p><span class="italic"><code class="codeph">snap_shot</code></span></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d176644e810 d176644e789 ">
                                 <p>指定快照的名称。提供的名称必须遵循主机操作系统特定的目录命名规则。的<code class="codeph">.无法ACFS/snaps</code>目录本身。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d176644e822" headers="d176644e786 ">
                                 <p><code class="codeph">-p</code> <span class="italic"><code class="codeph">parent_snap_shot</code></span></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d176644e822 d176644e789 ">
                                 <p>指定Oracle ACFS文件系统中现有快照映像的名称。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d176644e834" headers="d176644e786 ">
                                 <p><span class="italic"><code class="codeph">装入点</code></span></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d176644e834 d176644e789 ">
                                 <p>指定安装文件系统的目录。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p><code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">create</code>创建<span class="italic"><code class="codeph">mount_point</code></span>上挂载的Oracle ACFS文件系统的只读或读写快照，或者如果指定了<code class="codeph">-p</code>选项，则创建现有快照的快照。您可以将<code class="codeph">-r</code>指定为只读或<code class="codeph">-w</code>指定为读写;如果既未指定<code class="codeph">-r</code>或<code class="codeph">-w</code>则只读是缺省值。
                     </p>
                     <p>读写快照可以快速创建可以读取和写入的Oracle ACFS快照映像，而不会影响托管快照映像的Oracle ACFS文件系统的状态。您可以使用读写功能测试新版本的应用程序软件或在生产文件数据上运行测试方案，而无需修改原始文件系统。</p>
                     <p>在创建快照操作期间，源文件系统或快照中的重复数据将复制到新快照。create操作会生成文件系统或快照的副本，该文件系统或快照的最后一次更新是由<code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">duplicate</code> <code class="codeph">apply</code>操作执行的。此更新的文件系统或快照称为<span class="italic">应用</span> <span class="italic">目标</span> 。写入<span class="italic">应用</span> <span class="italic">目标</span>的数据来自<code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">duplicate</code> <code class="codeph">create</code>操作的快照复制流。<span class="italic">应用</span> <span class="italic">目标</span>包含标识更新目标的流的元数据。此元数据可确保<span class="italic">应用</span> <span class="italic">目标的</span>任何未来<code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">duplicate</code> <code class="codeph">apply</code>操作都具有与更新目标的上一个流的端点匹配的起始点。
                     </p>
                     <p>快照不是单独的文件系统。快照显示在<code class="codeph">.ACFS/snaps/</code> <span class="italic"><code class="codeph">snapshot</code></span>目录，最初是给出snapshot命令时文件系统的完整副本。只读快照继续保留该初始时间点视图。可以通过直接写入位于文件中的文件的更新来修改读写快照<code class="codeph">.ACFS/snaps/</code> <span class="italic"><code class="codeph">snapshot</code></span>层次结构。
                     </p>
                     <p>符号链接（符号链接）文件是指向创建符号链接时指定的路径的指针。对于<code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">create</code>命令源中的任何现有符号链接，将在<code class="codeph">snap</code> <code class="codeph">create</code>一个新链接;但是，在快照创建期间，不会修改符号链接目标的存储路径。当绝对路径用作链接的目标时，快照的链接目标仍然引用新创建的快照命名空间之外的绝对路径。对目标文件的未来修改可以通过快照符号链接进行，而不是对快照命名空间内的新目标进行。目标文件的内容也可以在快照之外更改。由于此行为，您应该对同一文件系统中的所有符号链接使用相对路径目标。
                     </p>
                     <p>任何用户都可以通过指定路径名来访问快照目录。然而 。<code class="codeph">ACFS</code>目录本身对文件系统根目录列表隐藏。这可以防止来自文件系统根目录的递归命令（例如<code class="codeph">rm</code> <code class="codeph">-rf</code>或<code class="codeph">acfsutil</code> <code class="codeph">tag</code> <code class="codeph">set</code> <code class="codeph">-r</code>无意中对快照文件进行操作。
                     </p>
                     <p>快照通常最初使用非常少的存储，因为它们与原始文件系统共享文件系统块，直到文件更改为止。</p>
                     <p>诸如<code class="codeph">du</code>工具会报告快照文件的总磁盘空间使用情况，其中包括与文件原始版本共享的存储。要确定用于快照的总空间，请使用<code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">info</code>或<code class="codeph">acfsutil</code> <code class="codeph">info</code> <code class="codeph">fs</code>命令。
                     </p>
                     <p>Oracle ACFS快照在创建后立即可用。他们总是在线下<code class="codeph">.安装原始文件系统时的ACFS/snaps</code>目录。安装它们不需要单独的命令。
                     </p>
                     <p>如果群集处于滚动迁移中，则<code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">create</code>操作将失败。
                     </p>
                     <p>如果存在以下情况，则不允许从现有快照创建：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>在<code class="codeph">ADVM</code>兼容性设置为小于12.1的情况下创建的文件系统中存在的任何快照</p>
                        </li>
                        <li>
                           <p>在<code class="codeph">ADVM</code>兼容性之后创建的文件系统的任何快照都设置为<code class="codeph">12.1</code>但存在11.2个快照</p>
                        </li>
                        <li>
                           <p>对于上述条件，任何快照删除清除操作仍在后台运行</p>
                           <p>您可以使用<code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">info</code>命令显示挂起的快照操作。
                           </p>
                        </li>
                     </ul>
                     <p>使用此命令需要管理员权限，或者您必须是Oracle ASM管理员组的成员。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-A1E4A4B5-CD16-4ADC-817D-4CD7D2DA12DF__GUID-09ABACB3-7C8C-407B-B37C-76CBEADD6FD6">例子</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p><a href="acfs-commands-snapshots.html#GUID-A1E4A4B5-CD16-4ADC-817D-4CD7D2DA12DF__BABIIJAC">示例16-85</a>显示了使用<code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">create</code>命令在Linux平台上创建快照。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-A1E4A4B5-CD16-4ADC-817D-4CD7D2DA12DF__BABIIJAC">
                     <p class="titleinexample">示例16-85在Linux上使用acfsutil snap create命令</p><pre class="oac_no_warn" dir="ltr">$ / sbin / acfsutil snap create -w midday_test1 / acfsmounts / critical_apps $ / sbin / acfsutil snap create -w midday_test2 / acfsmounts / critical_apps $ / sbin / acfsutil snap create payroll_report1 / acfsmounts / critical_apps $ / sbin / acfsutil snap create payroll_report2 / acfsmounts / critical_apps $ ls / acfsmounts / critical_apps /。ACFS / snaps midday_test1 midday_test2 payroll_report1 payroll_report2</pre></div>
                  <!-- class="example" -->
                  <div class="section">
                     <p><a href="acfs-commands-snapshots.html#GUID-A1E4A4B5-CD16-4ADC-817D-4CD7D2DA12DF__BABGGCJA">示例16-86</a>显示了使用<code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">create</code>命令在Windows平台上创建快照。此示例显示从现有快照创建快照。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-A1E4A4B5-CD16-4ADC-817D-4CD7D2DA12DF__BABGGCJA">
                     <p class="titleinexample">示例16-86在Windows上使用acfsutil snap create命令</p><pre class="oac_no_warn" dir="ltr">C：\ oracle&gt; acfsutil snap create / w snap_1 e：C：\ oracle&gt; acfsutil snap create / w snap_1-1 / p snap_1 e：</pre></div>
                  <!-- class="example" -->
                  <div class="section">
                     <div class="infoboxnotealso" id="GUID-A1E4A4B5-CD16-4ADC-817D-4CD7D2DA12DF__GUID-A265917C-A535-4989-8A19-804BA0920814">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="understand-acfs-concepts.html#GUID-5A3EF695-A795-4FEA-8BE2-AF657BD2238C" title="Oracle ACFS快照是Oracle ACFS文件系统的在线，只读或读写时间点副本。">关于Oracle ACFS快照，</a>以获取有关Oracle ACFS快照的信息</p>
                           </li>
                           <li>
                              <p><a href="acfs-advanced-topics.html#GUID-B95CD674-F7C7-47D1-9466-6A86B86B6BF5">Oracle ACFS磁盘空间使用情况，</a>以获取有关支持的快照数的信息</p>
                           </li>
                           <li>
                              <p><a href="acfs-commands-snapshots.html#GUID-519612AC-CFC1-4842-AEC1-CE271BF35051">acfsutil snap info</a>有关显示挂起快照操作的信息</p>
                           </li>
                           <li>
                              <p><a href="acfs-commands-utilities.html#GUID-1D06D15C-A37F-4805-BD99-953B01B1CD08">acfsutil info fs</a> ，显示有关显示用于快照的空间的信息</p>
                           </li>
                           <li>
                              <p><a href="acfs-commands-snapshots.html#GUID-4AF8BCAD-5EF4-4CE8-9393-5E8D75B10A93" title="本主题提供了管理Oracle ACFS快照的命令摘要。">用于快照的Oracle ACFS命令行工具</a>有关<code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">duplicate</code> <code class="codeph">apply</code>和<code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">duplicate</code> <code class="codeph">create</code>命令</p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="OSTMG95246"></a><a id="OSTMG95247"></a><a id="OSTMG95248"></a><a id="OSTMG95249"></a><a id="OSTMG95250"></a><a id="OSTMG95245"></a><div class="props_rev_3"><a id="GUID-CDB26CF4-DDE6-4465-83E7-87D5251045E0" name="GUID-CDB26CF4-DDE6-4465-83E7-87D5251045E0"></a><h3 id="OSTMG-GUID-CDB26CF4-DDE6-4465-83E7-87D5251045E0" class="sect3">acfsutil snap delete</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-CDB26CF4-DDE6-4465-83E7-87D5251045E0__GUID-34E58F3B-BCE3-43E4-A796-8FDF13FBCE95">目的</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>删除Oracle ACFS文件系统的快照。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-CDB26CF4-DDE6-4465-83E7-87D5251045E0__GUID-1B7AD6DC-60DB-4DCF-8503-A9063ECCFC27">语法和说明</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">acfsutil -h snap delete acfsutil snap delete <span class="italic">snapshot</span> <span class="italic">mount_point</span></pre><p><code class="codeph">acfsutil</code> <code class="codeph">-h</code> <code class="codeph">snap</code> <code class="codeph">delete</code>显示帮助文本并退出。
                     </p>
                     <p><a href="acfs-commands-snapshots.html#GUID-CDB26CF4-DDE6-4465-83E7-87D5251045E0__BABDBGHE" title="此表列出了acfsutil snap delete命令的选项，以及每个选项的说明">表16-91</a>包含<code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">delete</code>命令可用的选项。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-CDB26CF4-DDE6-4465-83E7-87D5251045E0__BABDBGHE">
                     <p class="titleintable">表16-91 acfsutil snap delete命令的选项</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="acfsutil snap delete命令的选项" width="100%" border="1" summary="This table lists the options for the acfsutil snap delete command, along with a description for each option" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="31%" id="d176644e1365">选项</th>
                              <th align="left" valign="bottom" width="69%" id="d176644e1368">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d176644e1373" headers="d176644e1365 ">
                                 <p><span class="italic"><code class="codeph">快照</code></span></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d176644e1373 d176644e1368 ">
                                 <p>指定快照的名称。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d176644e1382" headers="d176644e1365 ">
                                 <p><span class="italic"><code class="codeph">装入点</code></span></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d176644e1382 d176644e1368 ">
                                 <p>指定安装文件系统的目录。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p><code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">delete</code>删除<span class="italic"><code class="codeph">mount_point</code></span>上挂载的Oracle ACFS中的名为<span class="italic"><code class="codeph">snapshot</code></span> 。成功完成命令后，快照的表示形式<code class="codeph">.ACFS/snaps</code>目录已删除。即使存在打开的文件或目录引用，该命令也会成功;但是，在关闭所有此类引用之前，不会释放与快照关联的存储。
                     </p>
                     <p>删除快照使用的磁盘空间在完成<code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">delete</code>命令后或在快照中最后一次关闭文件后由后台任务释放。如果其中一个后台线程正在运行以清除已删除的快照，则<code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">info</code>命令将显示挂起的删除操作。有关<code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">info</code>命令的<code class="codeph">info</code> ，请参阅<span class="q">“ <a href="acfs-commands-snapshots.html#GUID-519612AC-CFC1-4842-AEC1-CE271BF35051">acfsutil snap info</a> ”</span> 。
                     </p>
                     <p>如果群集<code class="codeph">acfsutil</code>滚动迁移，则<code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">delete</code>操作将失败。
                     </p>
                     <p>使用此命令需要管理员权限，或者您必须是Oracle ASM管理员组的成员。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-CDB26CF4-DDE6-4465-83E7-87D5251045E0__GUID-6BDB8E30-C02A-4218-BE79-DCA8C24FAE87">例子</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p><a href="acfs-commands-snapshots.html#GUID-CDB26CF4-DDE6-4465-83E7-87D5251045E0__BABJFCDD">例16-87</a>显示了使用<code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">delete</code>命令。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-CDB26CF4-DDE6-4465-83E7-87D5251045E0__BABJFCDD">
                     <p class="titleinexample">示例16-87使用acfsutil snap delete命令</p><pre class="oac_no_warn" dir="ltr">$ / sbin / acfsutil snap delete midday_test1 / acfsmounts / critical_apps acfsutil snap delete：快照操作完成。</pre></div>
                  <!-- class="example" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-9C694C56-E973-4AC4-A673-9BDDE3608F56" name="GUID-9C694C56-E973-4AC4-A673-9BDDE3608F56"></a><h3 id="OSTMG-GUID-9C694C56-E973-4AC4-A673-9BDDE3608F56" class="sect3">acfsutil snap重复申请</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-9C694C56-E973-4AC4-A673-9BDDE3608F56__GUID-950E0EA5-3323-4CA9-B892-15195FFB163F">目的</p>
                     <p>将以前创建的重复快照应用于Oracle ACFS快照或文件系统。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-9C694C56-E973-4AC4-A673-9BDDE3608F56__GUID-1213CA21-FBAB-459F-82DE-5E46F0159EDC">语法和说明</p><pre class="oac_no_warn" dir="ltr">acfsutil snap duplicate apply -h acfsutil snap duplicate apply [-b | -B <span class="italic">snap_shot</span> ] [-d <span class="italic">trace_level</span> ] [ <span class="italic">snap_shot</span> ] <span class="italic">mount_point</span></pre><p><code class="codeph">acfsutil snap duplicate apply</code> <code class="codeph">-h</code>显示帮助文本并退出。
                     </p>
                     <p>下表包含<code class="codeph">acfsutil snap duplicate apply</code>命令可用的选项。
                     </p>
                     <div class="tblformal" id="GUID-9C694C56-E973-4AC4-A673-9BDDE3608F56__OPTIONSFORTHEACFSUTILSNAPDUPLICATEA-881F6243">
                        <p class="titleintable">表16-92 acfsutil snap duplicate apply命令的选项</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="acfsutil snap duplicate apply命令的选项" width="100%" border="1" summary="This table lists the options for the acfsutil snap duplicate apply command, along with a description for each option" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d176644e1671">选项</th>
                                 <th align="left" valign="bottom" width="69%" id="d176644e1674">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d176644e1679" headers="d176644e1671 ">
                                    <p><code class="codeph">-b</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d176644e1679 d176644e1674 ">
                                    <p>指定在成功完成命令后生成备份快照。备份名称以<code class="codeph">SDBACKUP_seccnt_sourcesnap_targetsnap</code>格式<code class="codeph">SDBACKUP_seccnt_sourcesnap_targetsnap</code> ，本主题文中对此进行了描述。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d176644e1690" headers="d176644e1671 ">
                                    <p><code class="codeph">-B <span class="codeinlineitalic">snap_shot</span></code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d176644e1690 d176644e1674 ">
                                    <p>指定在成功完成命令后生成具有指定名称的备份快照。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d176644e1700" headers="d176644e1671 ">
                                    <p><code class="codeph">-d</code> <span class="italic"><code class="codeph">trace_level</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d176644e1700 d176644e1674 ">
                                    <p>指定命令执行的跟踪级别设置[0..6]。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d176644e1712" headers="d176644e1671 ">
                                    <p><span class="italic"><code class="codeph">snap_shot</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d176644e1712 d176644e1674 ">
                                    <p>指定该文件系统的命名快照是目标。指定的快照必须存在且必须是可写的。如果未指定<span class="italic">snap_shot</span> ，则应用操作的目标是当前安装在安装点的文件系统</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d176644e1724" headers="d176644e1671 ">
                                    <p><span class="italic"><code class="codeph">装入点</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d176644e1724 d176644e1674 ">
                                    <p>指定应用重复快照的目录。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p><code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">duplicate</code> <code class="codeph">apply</code>命令使用<code class="codeph">acfsutil snap duplicate create</code>生成的快照复制流来更新指定的目标文件系统或快照。从标准输入读取数据流。
                     </p>
                     <p>如果目标从未应用于<code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">duplicate</code> <code class="codeph">apply</code>操作，则这是初始应用，并且目标必须最初为空。如果目标已由先前的应用操作应用，则这是增量应用，并且目标的初始内容必须与用于生成快照复制流的旧快照的内容匹配。
                     </p>
                     <p>如果目标的内容不再与流的旧快照匹配，则该命令将返回错误，并且不应用该流。在应用操作正在进行时，不得通过其他方式更新目标。如果发生另一次更新，该命令将返回错误并停止应用快照复制流。如果应用的数据流与应用于指定目标的最后一个数据流相同，则该命令将退出，而不会向状态值为<code class="codeph">2</code>的目标写入任何内容。
                     </p>
                     <p>如果指定了<code class="codeph">-b</code>或<code class="codeph">—B</code>选项，则在应用操作完成更新后，将对目标进行备份快照。由于在下一个应用操作完成时会自动删除为应用操作拍摄的快照，因此存在的快照是上次完成的应用操作中的快照。备份快照为上次成功应用操作提供已知且一致的目标版本，并提供比较点以标识<code class="codeph">acfsutil snap duplicate apply</code>操作所进行的正在进行的更改。
                     </p>
                     <p>如果未使用<code class="codeph">—B</code>选项指定名称，则备份快照的名称为<code class="codeph">SDBACKUP_seccnt_sourcesnap</code>或<code class="codeph">SDBACKUP_seccnt_sourcesnap_targetsnap</code> 。在名称字符串中， <code class="codeph">seccnt</code>是本地时间戳（自Unix纪元以来的秒数），表示备份快照捕获目标的点。 <code class="codeph">sourcesnap</code>指示源文件系统中由上次完成的<code class="codeph">acfsutil snap duplicate apply</code>操作<code class="codeph">acfsutil snap duplicate apply</code> 。 <code class="codeph">targetsnap</code> （如果存在）指示目标文件系统中由上次完成的<code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">duplicate</code> <code class="codeph">apply</code>操作更新的快照名称。
                     </p>
                     <p>使用此命令需要系统管理员（ <code class="codeph">root</code> ）权限。
                     </p>
                     <p>所述<code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">duplicate</code> <code class="codeph">apply</code>命令产生的一个退出状态<code class="codeph">0</code>表示成功， <code class="codeph">1</code>如果出现致命错误，或<code class="codeph">2</code> ，如果数据流读出施加到指定的目标前面的最后一个数据流相匹配。
                     </p>
                     <p>有关显示快照信息的信息，请参阅<span class="q">“ <a href="acfs-commands-snapshots.html#GUID-519612AC-CFC1-4842-AEC1-CE271BF35051">acfsutil snap info</a> ”</span> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-9C694C56-E973-4AC4-A673-9BDDE3608F56__GUID-DE260DB1-B0B8-467E-A57A-0137504D55D3">例子</p>
                     <p><a href="acfs-commands-snapshots.html#GUID-9C694C56-E973-4AC4-A673-9BDDE3608F56__GUID-7162793D-281D-467A-B77C-D3D3E3E0FD2D">例16-88</a>显示了使用<code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">duplicate</code> <code class="codeph">apply</code>命令。由于该命令期望从其标准输入读取二进制数据流，因此该命令通常在具有<code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">duplicate</code> <code class="codeph">create</code>命令的管道中使用，如示例中所示。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-9C694C56-E973-4AC4-A673-9BDDE3608F56__GUID-7162793D-281D-467A-B77C-D3D3E3E0FD2D">
                     <p class="titleinexample">示例16-88使用acfsutil snap duplicate apply命令</p><pre class="oac_no_warn" dir="ltr">$ / sbin / acfsutil snap duplicate create new_snapshot_name / acfsmounts / critical_apps | \ / sbin / acfsutil snap duplicate apply / acfsmounts / ca_backups</pre></div>
                  <!-- class="example" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-4E30C184-CA2F-4BD2-A347-EAA0ACFEF087" name="GUID-4E30C184-CA2F-4BD2-A347-EAA0ACFEF087"></a><h3 id="OSTMG-GUID-4E30C184-CA2F-4BD2-A347-EAA0ACFEF087" class="sect3">acfsutil snap重复创建</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-4E30C184-CA2F-4BD2-A347-EAA0ACFEF087__GUID-5A97ED77-9CF1-4CC8-BC8D-633B47C360CD">目的</p>
                     <p>创建现有快照的重复快照。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-4E30C184-CA2F-4BD2-A347-EAA0ACFEF087__GUID-E6810AE0-B6D1-4FA6-BFE3-0339DB46537F">语法和说明</p><pre class="oac_no_warn" dir="ltr">acfsutil snap duplicate create -h acfsutil snap duplicate create [-r] [-d <span class="italic">trace_level</span> ] [-p <span class="italic">parent_snapshot</span> ] [-i <span class="italic">old_snapshot</span> ] <span class="italic">new_snapshot</span> <span class="italic">mount_point</span>
</pre><p><code class="codeph">acfsutil snap duplicate create</code> <code class="codeph">-h</code>显示帮助文本并退出。
                     </p>
                     <p><a href="acfs-commands-snapshots.html#GUID-4E30C184-CA2F-4BD2-A347-EAA0ACFEF087__GUID-63929EDD-EB45-448C-8D55-BB1FDBFCB3FE" title="此表列出了acfsutil snap duplicate create命令的选项，以及每个选项的说明">表16-93</a>包含<code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">duplicate</code> <code class="codeph">create</code>命令可用的选项。
                     </p>
                     <div class="tblformal" id="GUID-4E30C184-CA2F-4BD2-A347-EAA0ACFEF087__GUID-63929EDD-EB45-448C-8D55-BB1FDBFCB3FE">
                        <p class="titleintable">表16-93 acfsutil snap duplicate create命令的选项</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="acfsutil snap duplicate create命令的选项" width="100%" border="1" summary="This table lists the options for the acfsutil snap duplicate create command, along with a description for each option" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d176644e2096">选项</th>
                                 <th align="left" valign="bottom" width="69%" id="d176644e2099">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d176644e2104" headers="d176644e2096 ">
                                    <p><code class="codeph">-r</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d176644e2104 d176644e2099 ">
                                    <p>指定将快照复制流标记为重新启动流。此选项旨在用于第二次或稍后尝试创建和应用给定流。如果先前的尝试提前终止，则可能需要此选项。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d176644e2112" headers="d176644e2096 ">
                                    <p><code class="codeph">-d</code> <span class="italic">trace_level</span></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d176644e2112 d176644e2099 ">
                                    <p>指定命令执行的跟踪级别设置[0..6]。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d176644e2122" headers="d176644e2096 ">
                                    <p><code class="codeph">-p</code> <span class="italic"><code class="codeph">parent_snapshot</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d176644e2122 d176644e2099 ">
                                    <p>指定<code class="codeph"><span class="codeinlineitalic">old_snapshot</span></code>和<code class="codeph"><span class="codeinlineitalic">new_snapshot</span></code>都是子项的父快照映像的名称。
                                    </p>
                                    <p>此选项可确保两个快照都是同一快照的子项（ <span class="italic">snap-of-snap</span> ）。如果未<code class="codeph">—p</code>选项，则<code class="codeph"><span class="codeinlineitalic">new_snapshot</span></code>必须是<code class="codeph"><span class="codeinlineitalic">new_snapshot</span></code>的子<code class="codeph"><span class="codeinlineitalic">old_snapshot</span></code> ，或者两个快照必须是指定装入点的基本文件系统的快照。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d176644e2158" headers="d176644e2096 ">
                                    <p><code class="codeph">—i</code> <span class="italic"><code class="codeph">old_snapshot</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d176644e2158 d176644e2099 ">
                                    <p>指定现有快照的名称。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d176644e2170" headers="d176644e2096 ">
                                    <p><span class="italic"><code class="codeph">new_snapshot</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d176644e2170 d176644e2099 ">
                                    <p>指定新快照的名称。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d176644e2179" headers="d176644e2096 ">
                                    <p><span class="italic"><code class="codeph">装入点</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d176644e2179 d176644e2099 ">
                                    <p>指定安装文件系统的目录。这是拍摄快照的文件系统的安装点。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p><code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">duplicate</code> <code class="codeph">create</code>命令以适合快照重复应用的形式外化与快照相关的数据，以创建兼容快照的不同实例。此外部化数据称为快照复制流。
                     </p>
                     <p>如果仅指定了新快照名称，则此命令将对指定快照的全部内容进行编码（空快照与此快照之间的差异）。这是一个初始快照重复操作。</p>
                     <p>如果同时给出旧快照名称和新快照名称，则此命令仅编码两个快照之间的差异。这是一个增量快照重复操作。</p>
                     <p>在任何一种情况下，此命令都会将快照复制流写入其标准输出。</p>
                     <p>使用此命令需要系统管理员（ <code class="codeph">root</code> ）权限。
                     </p>
                     <p>所述<code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">duplicate</code> <code class="codeph">create</code>命令产生的一个退出状态<code class="codeph">0</code>成功或<code class="codeph">1</code> ，如果出现致命错误。
                     </p>
                     <p>有关显示快照信息的信息，请参阅<span class="q">“ <a href="acfs-commands-snapshots.html#GUID-519612AC-CFC1-4842-AEC1-CE271BF35051">acfsutil snap info</a> ”</span> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-4E30C184-CA2F-4BD2-A347-EAA0ACFEF087__GUID-01845992-D36E-4F2C-94AC-4B92CA722862">例子</p>
                     <p><a href="acfs-commands-snapshots.html#GUID-4E30C184-CA2F-4BD2-A347-EAA0ACFEF087__GUID-98F6BB5E-D870-4D2A-A9D4-5346C72AFCCA">例16-89</a>显示了使用<code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">duplicate</code> <code class="codeph">create</code>命令。由于该命令将二进制数据流写入其标准输出，因此该命令通常在具有<code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">duplicate</code> <code class="codeph">apply</code>命令的管道中使用，如示例所示。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-4E30C184-CA2F-4BD2-A347-EAA0ACFEF087__GUID-98F6BB5E-D870-4D2A-A9D4-5346C72AFCCA">
                     <p class="titleinexample">示例16-89使用acfsutil snap duplicate create命令</p><pre class="oac_no_warn" dir="ltr">$ / sbin / acfsutil snap duplicate create new_snapshot_name / acfsmounts / critical_apps | \ / sbin / acfsutil snap duplicate apply / acfsmounts / ca_backups</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="OSTMG95252"></a><a id="OSTMG95253"></a><a id="OSTMG95254"></a><a id="OSTMG95255"></a><a id="OSTMG95256"></a><a id="OSTMG95598"></a><a id="OSTMG95251"></a><div class="props_rev_3"><a id="GUID-519612AC-CFC1-4842-AEC1-CE271BF35051" name="GUID-519612AC-CFC1-4842-AEC1-CE271BF35051"></a><h3 id="OSTMG-GUID-519612AC-CFC1-4842-AEC1-CE271BF35051" class="sect3">acfsutil snap信息</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-519612AC-CFC1-4842-AEC1-CE271BF35051__GUID-C0C07AE6-09C7-463D-A96D-0A76FC24038A">目的</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>显示有关Oracle ACFS文件系统快照的信息。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-519612AC-CFC1-4842-AEC1-CE271BF35051__GUID-A571E14A-EBE4-49E5-90E8-527246746F7F">语法和说明</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">acfsutil snap info -h acfsutil snap info [-t] [ <span class="italic">snap_shot</span> ] <span class="italic">mount_point</span></pre><p><code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">info</code> <code class="codeph">-h</code>显示帮助文本和退出。
                     </p>
                     <p>下表包含<code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">info</code>命令可用的选项。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-519612AC-CFC1-4842-AEC1-CE271BF35051__BABHBFFH">
                     <p class="titleintable">表16-94 acfsutil snap info命令的选项</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="acfsutil snap info命令的选项" width="100%" border="1" summary="This table lists the options for the acfsutil snap info command, along with a description for each option" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="31%" id="d176644e2476">选项</th>
                              <th align="left" valign="bottom" width="69%" id="d176644e2479">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d176644e2484" headers="d176644e2476 ">
                                 <p><code class="codeph">-t</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d176644e2484 d176644e2479 ">
                                 <p>显示指定快照和装入点的树结构。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d176644e2492" headers="d176644e2476 ">
                                 <p><span class="italic"><code class="codeph">snap_shot</code></span></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d176644e2492 d176644e2479 ">
                                 <p>指定快照的名称。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d176644e2501" headers="d176644e2476 ">
                                 <p><span class="italic"><code class="codeph">装入点</code></span></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d176644e2501 d176644e2479 ">
                                 <p>指定安装文件系统的目录。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p><code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">info</code>命令显示有关指定Oracle ACFS文件系统中单个指定快照或所有快照的信息。
                     </p>
                     <p>将显示快照名称，快照类型，父名称，创建日期和时间以及使用的空间。父名称是装入点，如果快照是从现有快照创建的，则为父快照。</p>
                     <p>快照的类型由以下一个或多个字符串表示。任何相关的字符串都显示在同一行上。</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">RO</code> - 快照是只读的</p>
                        </li>
                        <li>
                           <p><code class="codeph">RW</code> - 快照是读写的</p>
                        </li>
                        <li>
                           <p><code class="codeph">Primary</code> - 快照是复制的主存储位置</p>
                        </li>
                        <li>
                           <p><code class="codeph">Standby</code> - 快照是用于复制的备用存储位置</p>
                        </li>
                        <li>
                           <p><code class="codeph">REPL</code> -  snapshot是复制使用的内部快照</p>
                        </li>
                        <li>
                           <p><code class="codeph">DUP</code> - 快照或其父级是快照重复应用的目标</p>
                        </li>
                     </ul>
                     <p>字符串<code class="codeph">REPL</code>的外观与快照是复制主服务器还是备用服务器无关。仅当快照是由复制创建的快照供自己内部使用时，才会显示此字符串。
                     </p>
                     <p>如果满足以下任一条件，则会出现字符串<code class="codeph">DUP</code> ：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>快照正在用作应用操作的目标。</p>
                        </li>
                        <li>
                           <p>快照的父级在创建快照时用作应用操作的目标。</p>
                        </li>
                     </ul>
                     <p><code class="codeph">snapshot</code> <code class="codeph">space</code> <code class="codeph">usage</code>量包括快照元数据。如果从快照中删除了所有文件，则仍会保留一些元数据，并使用<code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">info</code>显示该数量。
                     </p>
                     <p>使用加速器卷时，报告的<code class="codeph">snapshot</code> <code class="codeph">space</code> <code class="codeph">usage</code>量可包括加速器卷上正在使用的空间。
                     </p>
                     <p>要回收快照使用的磁盘空间，请删除快照。删除快照中的文件可能无法回收此磁盘空间。</p>
                     <p><code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">info</code>命令显示正在删除的快照的状态，如下所示：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>等待文件关闭时：</p><pre class="oac_no_warn" dir="ltr"><span class="italic">snapshot_name</span> （删除等待最后关闭）</pre></li>
                        <li>
                           <p>在后台释放快照存储时：</p><pre class="oac_no_warn" dir="ltr"><span class="italic">snapshot_name</span> （正在删除）</pre></li>
                     </ul>
                     <p>Oracle ACFS缓存并异步更新快照存储使用情况统计信息。如果Oracle ASM实例被终止，计算机将断电，或者Oracle ACFS文件系统因任何原因而脱机，其中一个缓存更新可能会丢失。可能会导致类似的消息显示这一损失<code class="codeph">Reported</code> <code class="codeph">snapshot</code> <code class="codeph">space</code> <code class="codeph">usage</code> <code class="codeph">is</code> <code class="codeph">inaccurate</code> ，当<code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">info</code>运行。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-519612AC-CFC1-4842-AEC1-CE271BF35051__GUID-545F9BFB-693B-4E43-9C96-A82EC140B10C">例子</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p><a href="acfs-commands-snapshots.html#GUID-519612AC-CFC1-4842-AEC1-CE271BF35051__BABJEDFG">例16-90</a>显示了在Linux平台上使用<code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">info</code>命令。该命令的输出包含有关只读（RO）快照，配额的信息，在快照的读写（RW）的快照信息<code class="codeph">delete</code> <code class="codeph">waiting</code> <code class="codeph">for</code> <code class="codeph">last</code> <code class="codeph">close</code>状态，并在快照<code class="codeph">delete</code> <code class="codeph">in</code> <code class="codeph">progress</code>状况。在快照上完成删除操作并且后台进程完成已删除快照的清理后，有关删除操作的消息不会出现在输出中。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-519612AC-CFC1-4842-AEC1-CE271BF35051__BABJEDFG">
                     <p class="titleinexample">示例16-90在Linux上使用acfsutil snap info命令</p><pre class="oac_no_warn" dir="ltr">$ / sbin / acfsutil snap info / acfsmounts / critical_apps / snapshot name：midday_test（删除等待上次关闭）快照创建时间：2016年4月5日星期二10:52:55快照名称：payroll_report1快照位置：/ acfsmounts / critical_apps /。ACFS / snaps / payroll_report1 RO快照或RW快照：RW父名称：/ acfsmounts / critical_apps / snapshot创建时间：2016年4月5日星期二10:52:59存储添加到快照：95514624（91.09 MB）配额：104857600（100.00 MB）配额使用：91％快照名称：midday_test2（正在删除）快照创建时间：2016年4月11日星期一11:40:13快照名称：payroll_report2快照位置：/ acfsmounts / critical_apps /。ACFS / snaps / payroll_report2 RO快照或RW快照：RO父名称：midday_test2快照创建时间：Mon Apr 11 12:05:42 2016存储添加到快照：1081344（1.03 MB）快照数量：3（活动）1（删除正在进行中）快照空间使用情况：102084608（97.36 MB）$ / sbin / acfsutil snap info -t / acfsmounts / critical_apps / acfsmounts / critical_apps RW midday_test RW / acfsmounts / critical_apps payroll_report1 RW / acfsmounts / critical_apps midday_test2 RW / acfsmounts / critical_apps payroll_report2 RO midday_test2 $ / sbin / acfsutil snap info -t midday_test2 / acfsmounts / critical_apps midday_test2 RW payroll_report2 RO midday_test2</pre></div>
                  <!-- class="example" -->
                  <div class="section">
                     <p><a href="acfs-commands-snapshots.html#GUID-519612AC-CFC1-4842-AEC1-CE271BF35051__BABDJAHC">例16-91</a>显示了在Windows平台上使用<code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">info</code>命令。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-519612AC-CFC1-4842-AEC1-CE271BF35051__BABDJAHC">
                     <p class="titleinexample">示例16-91在Windows上使用acfsutil snap info命令</p><pre class="oac_no_warn" dir="ltr">C：\ oracle&gt; acfsutil snap info e：快照名称：MIDDAY_TEST（删除等待最后关闭）快照创建时间：Wed Apr 13 12:44:15 2016快照名称：PAYROLL_REPORT1快照位置：e：\。ACFS \ snaps \ PAYROLL_REPORT1 RO快照或RW快照：RW父名称：e：快照创建时间：Wed Apr 13 12:45:00 2016存储添加到快照：18866176（17.99 MB）配额：104857600（100.00 MB）配额使用情况： 17％快照名称：MIDDAY_TEST2（正在删除）快照创建时间：Wed Apr 13 12:48:07 2016快照名称：PAYROLL_REPORT2快照位置：e：\。ACFS \ snaps \ PAYROLL_REPORT2 RO快照或RW快照：RO父名称：MIDDAY_TEST2快照创建时间：Wed Apr 13 12:50:34 2016存储添加到快照：1081344（1.03 MB）快照数量：3（活动）1（删除正在进行中）快照空间使用情况：362557440（345.76 MB）C：\ oracle&gt; acfsutil snap info / te：e：RW MIDDAY_TEST RW e：PAYROLL_REPORT1 RW e：MIDDAY_TEST2 RW e：PAYROLL_REPORT2 RO MIDDAY_TEST2 C：\ oracle&gt; acfsutil snap info / t MIDDAY_TEST2 e：MIDDAY_TEST2 RW PAYROLL_REPORT2 RO MIDDAY_TEST2</pre></div>
                  <!-- class="example" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-316DADD7-A589-4D08-A437-F708CA4797FB" name="GUID-316DADD7-A589-4D08-A437-F708CA4797FB"></a><h3 id="OSTMG-GUID-316DADD7-A589-4D08-A437-F708CA4797FB" class="sect3">acfsutil snap链接</h3>
               <div>
                  <p></p>
                  <div class="section">
                     <p class="subhead2" id="GUID-316DADD7-A589-4D08-A437-F708CA4797FB__GUID-F139B3B0-C506-4475-9DF1-3B215198F2D4">目的</p>
                     <p>创建或删除快照链接。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-316DADD7-A589-4D08-A437-F708CA4797FB__GUID-040AEA15-D20F-4D0E-85D7-BA6135E548DB">语法和说明</p><pre class="oac_no_warn" dir="ltr">acfsutil snap link -h acfsutil snap link -s <span class="italic">snap_shot</span> <span class="italic">path_to_link</span> acfsutil snap link -s <span class="italic">snap_shot</span> -d <span class="italic">path_to_link</span></pre><p><code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">link</code> <code class="codeph">-h</code>显示帮助文本并退出。
                     </p>
                     <p>下表包含<code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">link</code>命令可用的选项。
                     </p>
                     <div class="tblformal" id="GUID-316DADD7-A589-4D08-A437-F708CA4797FB__OPTIONSFORTHEACFSUTILSNAPLINKCOMMAN-F0B51AAB">
                        <p class="titleintable">表16-95 acfsutil snap link命令的选项</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="acfsutil snap link命令的选项" width="100%" border="1" summary="This table lists the options for the acfsutil snap link command, along with a description for each option" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d176644e2924">选项</th>
                                 <th align="left" valign="bottom" width="69%" id="d176644e2927">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d176644e2932" headers="d176644e2924 ">
                                    <p><code class="codeph">-s <span class="codeinlineitalic">snap_shot</span></code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d176644e2932 d176644e2927 ">
                                    <p>指定Oracle ACFS文件系统中Oracle ACFS快照的名称。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d176644e2942" headers="d176644e2924 ">
                                    <p><code class="codeph">-d</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d176644e2942 d176644e2927 ">
                                    <p>删除指定的快照链接。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d176644e2951" headers="d176644e2924 ">
                                    <p><span class="italic"><code class="codeph">path_to_link</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d176644e2951 d176644e2927 ">
                                    <p>指定Oracle ACFS文件系统中的目录。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>您可以使用<code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">link</code>命令创建或删除快照链接。快照链接使用不包含的备用路径提供对快照内容的访问<code class="codeph">.ACFS/snaps</code>目录，即创建快照的默认位置。
                     </p>
                     <p></p>
                     <p>快照链接是一种专用硬链接，要求快照只能存在一个快照链接。快照链接只能在主文件系统中创建，而不能在另一个快照中创建。可以重新创建快照链接以更改快照链接的名称或位置。您为快照链接指定的名称不必与其链接的名称或快照相同。快照链接确实需要更改磁盘，并且<code class="codeph">COMPATIBLE.ADVM</code>磁盘组属性必须设置为<code class="codeph">18.0</code>或更高。只能使用<code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">link</code>命令创建和删除<code class="codeph">snap</code> <code class="codeph">link</code> 。使用正常的操作系统命令无法移动或删除链接。
                     </p>
                     <p>您可以使用<code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">info</code>命令显示有关快照链接的<code class="codeph">info</code> 。您可以使用<code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">info</code> <code class="codeph"><span class="codeinlineitalic">snap_shot</span></code>来确定指定的快照是否具有链接。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-316DADD7-A589-4D08-A437-F708CA4797FB__GUID-132B033C-D0C1-4740-8025-E8C4648A9FEF">例子</p>
                     <p>以下示例显示了<code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">link</code>命令的<code class="codeph">acfsutil</code> 。创建新快照后，将为新快照创建一个链接。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-316DADD7-A589-4D08-A437-F708CA4797FB__GUID-1A033CD7-2FE4-4B60-8DDF-AC975BCD4483">
                     <p class="titleinexample">示例16-92使用acfsutil snap link命令</p>
                     <p></p><pre class="oac_no_warn" dir="ltr">$ / sbin / acfsutil snap create -w snap1 / usmmnt acfsutil snap create：快照操作完成。$ / sbin / acfsutil snap link -s snap1 / usmmnt / dir1 / link acfsutil snap link：快照操作完成。$ / sbin / acfsutil snap info / usmmnt snapshot name：snap1 snapshot location：/ usmmnt /。ACFS / snaps / snap1快照链接：/ usmmnt / dir1 / link RO快照或RW快照：RW父名称：/ usmmnt ...</pre></div>
                  <!-- class="example" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-AEC4D157-CF2B-4D83-9DEE-DFD52AF9B565" name="GUID-AEC4D157-CF2B-4D83-9DEE-DFD52AF9B565"></a><h3 id="OSTMG-GUID-AEC4D157-CF2B-4D83-9DEE-DFD52AF9B565" class="sect3">acfsutil快照配额</h3>
               <div>
                  <p></p>
                  <div class="section">
                     <p class="subhead2" id="GUID-AEC4D157-CF2B-4D83-9DEE-DFD52AF9B565__GUID-8D0951D8-AC1B-4857-AED5-9EF3F048637B">目的</p>
                     <p>设置指定快照的配额限制。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-AEC4D157-CF2B-4D83-9DEE-DFD52AF9B565__GUID-292CD0C3-469A-4484-8D52-3A32D4528CBE">语法和说明</p><pre class="oac_no_warn" dir="ltr">acfsutil -h snap quota acfsutil snap quota [+ |  - ] <span class="italic">n</span> [K | M | G | T | P] <span class="italic">snapshot</span> <span class="italic">mount_point</span></pre><p><code class="codeph">acfsutil</code> <code class="codeph">—h</code> <code class="codeph">snap</code> <code class="codeph">quota</code>显示帮助文本和退出。
                     </p>
                     <p>下表包含<code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">quota</code>命令可用的选项。
                     </p>
                     <div class="tblformal" id="GUID-AEC4D157-CF2B-4D83-9DEE-DFD52AF9B565__OPTIONSFORTHEACFSUTILSNAPQUOTACOMMA-FEB3BC6E">
                        <p class="titleintable">表16-96 acfsutil snap quota命令的选项</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="acfsutil snap quota命令的选项" width="100%" border="1" summary="This table lists the options for the acfsutil snap quota command, along with a description for each option" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d176644e3230">选项</th>
                                 <th align="left" valign="bottom" width="69%" id="d176644e3233">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d176644e3238" headers="d176644e3230 ">
                                    <p>[ <code class="codeph">+</code> | <code class="codeph">-</code> ] <span class="italic"><code class="codeph">n</code></span></p>
                                    <p><code class="codeph">K</code> | <code class="codeph">M</code> | <code class="codeph">G</code> | <code class="codeph">T</code> | <code class="codeph">P</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d176644e3238 d176644e3233 ">
                                    <p>指定Oracle ACFS快照的配额限制大小，其中<span class="italic"><code class="codeph">n</code></span>是大于零的有效正整数。该数字前面可以加一个<code class="codeph">+</code>或 - 来表示要添加或减少的数量。如果不存在操作数，则新大小为绝对大小。
                                    </p>
                                    <p>指定为大小提供的整数是以<code class="codeph">K</code> （千字节）， <code class="codeph">M</code> （兆字节）， <code class="codeph">G</code> （千兆字节）， <code class="codeph">T</code> （太字节）或<code class="codeph">P</code> （千兆字节）为单位。如果指定了单位指示符，则必须将其附加到整数。如果省略，则默认单位为字节。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d176644e3293" headers="d176644e3230 ">
                                    <p><span class="italic"><code class="codeph">快照</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d176644e3293 d176644e3233 ">
                                    <p>指定快照的名称。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d176644e3302" headers="d176644e3230 ">
                                    <p><span class="italic"><code class="codeph">装入点</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d176644e3302 d176644e3233 ">
                                    <p>指定安装文件系统的目录。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>acfsutil snap quota命令用于设置指定Oracle ACFS文件系统上指定快照的配额限制。</p>
                     <p>配额可能大于文件系统的大小，因为文件系统可以调整大小或自动调整大小。</p>
                     <p>指定的配额限制不保留空间。配额仅为可以添加到快照的存储量建立上限。</p>
                     <p>只有在ADVM兼容性（ <code class="codeph">COMPATIBLE.ADVM</code> ）设置为<code class="codeph">12.2</code>或更高版本后创建的快照才具有存储记帐跟踪和设置配额的功能。
                     </p>
                     <p>快照可以从读写（RW）转换为只读（RO），反之亦然。RW和RO快照都可以有配额。</p>
                     <p>配额使用有宽限期和高级警告。如果请求的存储分配导致本地存储使用率接近或超过配额的<code class="codeph">90%</code> ，则会向警报日志和控制台写入警告消息。如果分配超过配额，则写入或其他修改操作将失败为<code class="codeph">EDQUOT</code> ，或者它可能会因<code class="codeph">ENOSPC</code>而失败，具体取决于配额限制是否设置为大于文件系统的大小。
                     </p>
                     <p>使用此命令需要系统管理员（ <code class="codeph">root</code> ）权限。
                     </p>
                     <p>您可以使用<code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">info</code>命令显示快照信息，包括配额限制和配额使用百分比。有关<code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">info</code> ，请参阅<span class="q">“ <a href="acfs-commands-snapshots.html#GUID-519612AC-CFC1-4842-AEC1-CE271BF35051">acfsutil snap info</a> ”</span> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-AEC4D157-CF2B-4D83-9DEE-DFD52AF9B565__GUID-2CA85798-69ED-4E29-B202-52EC3E97AC97">例子</p>
                     <p>以下示例显示了<code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">quota</code>命令的<code class="codeph">acfsutil</code> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-AEC4D157-CF2B-4D83-9DEE-DFD52AF9B565__GUID-6645765C-8089-4A84-9C4D-97F430C83766">
                     <p class="titleinexample">示例16-93使用acfsutil snap quota命令</p><pre class="oac_no_warn" dir="ltr">$ / sbin / acfsutil snap quota + 500M snap_test / acfsmounts / acfs1</pre></div>
                  <!-- class="example" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-495A26C3-9237-4DA2-AB65-BF12D9050A87" name="GUID-495A26C3-9237-4DA2-AB65-BF12D9050A87"></a><h3 id="OSTMG-GUID-495A26C3-9237-4DA2-AB65-BF12D9050A87" class="sect3">acfsutil snap remaster</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-495A26C3-9237-4DA2-AB65-BF12D9050A87__GUID-361DFA25-ADD2-48E9-820F-8FD178EA17AB">目的</p>
                     <p>使用快照重新构建Oracle ACFS文件系统。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-495A26C3-9237-4DA2-AB65-BF12D9050A87__GUID-97156F08-6136-443D-9038-CE79C0260347">语法和说明</p><pre class="oac_no_warn" dir="ltr">acfsutil snap remaster -h acfsutil snap remaster { <span class="italic">snapshot</span> | -c} -f <span class="italic">卷</span></pre><p><code class="codeph">acfsutil snap remaster</code> <code class="codeph">-h</code>显示帮助文本并退出。
                     </p>
                     <p><a href="acfs-commands-snapshots.html#GUID-495A26C3-9237-4DA2-AB65-BF12D9050A87__OPTIONSFORTHEACFSUTILSNAPREMASTERCO-89AAFC31" title="此表列出了acfsutil snap remaster命令的选项，以及每个选项的说明">表16-97</a>包含<code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">remaster</code>命令可用的选项。
                     </p>
                     <div class="tblformal" id="GUID-495A26C3-9237-4DA2-AB65-BF12D9050A87__OPTIONSFORTHEACFSUTILSNAPREMASTERCO-89AAFC31">
                        <p class="titleintable">表16-97 acfsutil snap remaster命令的选项</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="acfsutil snap remaster命令的选项" width="100%" border="1" summary="This table lists the options for the acfsutil snap remaster command, along with a description for each option" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d176644e3574">选项</th>
                                 <th align="left" valign="bottom" width="69%" id="d176644e3577">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d176644e3582" headers="d176644e3574 ">
                                    <p><code class="codeph">-C</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d176644e3582 d176644e3577 ">
                                    <p>继续中断的remaster操作。命令启动后，重新制作必须运行完成。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d176644e3590" headers="d176644e3574 ">
                                    <p><code class="codeph">-F</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d176644e3590 d176644e3577 ">
                                    <p>强制操作，不提示问题。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d176644e3598" headers="d176644e3574 ">
                                    <p><span class="italic"><code class="codeph">快照</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d176644e3598 d176644e3577 ">
                                    <p>指定现有快照的名称。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d176644e3607" headers="d176644e3574 ">
                                    <p><span class="italic"><code class="codeph">体积</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d176644e3607 d176644e3577 ">
                                    <p>指定指定文件系统的主Oracle ADVM卷设备路径。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>此命令接受快照名称或<code class="codeph">—c</code>选项。
                     </p>
                     <p>指定的快照用于文件系统的基础，替换文件系统的当前基础。使用现有的只读或读写快照，该命令将快照扩展区重新集成到当前文件系统的基础中，从而创建具有快照时间点状态的新重新制作的文件系统。重新制作的文件系统没有快照。此操作必须在卸载的文件系统上完成，并且无法撤消。</p>
                     <p>使用<code class="codeph">-c</code>选项而不是快照名称来完成中断的快照重新制作。
                     </p>
                     <p>您无法重新运行正在运行复制，安全性或加密的文件系统。在运行<code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">remaster</code>命令之前，必须终止复制，安全性或加密。此外，您无法重新启用启用了插件的文件系统。
                     </p>
                     <p>使用此命令需要管理员权限，或者您必须是Oracle ASM管理员组的成员。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-495A26C3-9237-4DA2-AB65-BF12D9050A87__GUID-F2A769C2-96FD-46B3-8358-AF9909AD5202">例子</p>
                     <p><a href="acfs-commands-snapshots.html#GUID-495A26C3-9237-4DA2-AB65-BF12D9050A87__GUID-9554080D-A674-4831-8DD0-897A329B35BD">例16-94</a>显示了使用<code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">remaster</code>命令。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-495A26C3-9237-4DA2-AB65-BF12D9050A87__GUID-9554080D-A674-4831-8DD0-897A329B35BD">
                     <p class="titleinexample">示例16-94使用acfsutil snap remaster命令</p><pre class="oac_no_warn" dir="ltr">$ / sbin / acfsutil snap remaster snapshot volume</pre></div>
                  <!-- class="example" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-7A86E347-5263-4E9F-9AE9-44E4A0B825C1" name="GUID-7A86E347-5263-4E9F-9AE9-44E4A0B825C1"></a><h3 id="OSTMG-GUID-7A86E347-5263-4E9F-9AE9-44E4A0B825C1" class="sect3">acfsutil snap重命名</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-7A86E347-5263-4E9F-9AE9-44E4A0B825C1__GUID-E877910D-8442-4FAC-AD81-187DF3B7FA5F">目的</p>
                     <p>重命名Oracle ACFS快照。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-7A86E347-5263-4E9F-9AE9-44E4A0B825C1__GUID-68F99A2D-B4AC-4CC5-A178-E869B0F57267">语法和说明</p><pre class="oac_no_warn" dir="ltr">acfsutil snap rename -h acfsutil snap rename <span class="italic">old_snapshot</span> <span class="italic">new_snapshot</span> <span class="italic">mount_point</span></pre><p><code class="codeph">acfsutil snap rename</code> <code class="codeph">-h</code>显示帮助文本并退出。
                     </p>
                     <p><a href="acfs-commands-snapshots.html#GUID-7A86E347-5263-4E9F-9AE9-44E4A0B825C1__OPTIONSFORTHEACFSUTILSNAPRENAMECOMM-F4638335" title="此表列出了acfsutil snap rename命令的选项，以及每个选项的说明">表16-98</a>包含<code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">duplicate create</code>命令可用的选项。
                     </p>
                     <div class="tblformal" id="GUID-7A86E347-5263-4E9F-9AE9-44E4A0B825C1__OPTIONSFORTHEACFSUTILSNAPRENAMECOMM-F4638335">
                        <p class="titleintable">表16-98 acfsutil snap rename命令的选项</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="acfsutil snap rename命令的选项" width="100%" border="1" summary="This table lists the options for the acfsutil snap rename command, along with a description for each option" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d176644e3850">选项</th>
                                 <th align="left" valign="bottom" width="69%" id="d176644e3853">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d176644e3858" headers="d176644e3850 ">
                                    <p><span class="italic"><code class="codeph">old_snapshot</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d176644e3858 d176644e3853 ">
                                    <p>指定现有快照的名称。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d176644e3867" headers="d176644e3850 ">
                                    <p><span class="italic"><code class="codeph">new_snapshot</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d176644e3867 d176644e3853 ">
                                    <p>指定新快照的名称。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d176644e3876" headers="d176644e3850 ">
                                    <p><span class="italic"><code class="codeph">装入点</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d176644e3876 d176644e3853 ">
                                    <p>指定安装文件系统的目录。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p><code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">rename</code>命令用于安全地重命名文件系统中的现有快照。
                     </p>
                     <p>虽然可以重命名具有打开文件的快照，但访问该快照中的文件的应用程序的行为与在其中重命名其中一个父目录的非快照目录树中操作的行为相同。</p>
                     <p>目前不支持重命名与可插拔数据库（PDB）结合使用的快照。不应重命名此类快照。</p>
                     <p>无法重命名特定于复制的快照，因为这可能会导致复制并发症和不一致。</p>
                     <p>使用此命令需要管理员权限，或者您必须是Oracle ASM管理员组的成员。</p>
                     <p>有关显示快照信息的信息，请参阅<span class="q">“ <a href="acfs-commands-snapshots.html#GUID-519612AC-CFC1-4842-AEC1-CE271BF35051">acfsutil snap info</a> ”</span> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-7A86E347-5263-4E9F-9AE9-44E4A0B825C1__GUID-01845992-D36E-4F2C-94AC-4B92CA722862">例子</p>
                     <p><a href="acfs-commands-snapshots.html#GUID-7A86E347-5263-4E9F-9AE9-44E4A0B825C1__GUID-4070F287-BF81-4C8A-9A85-B5C9E7E52716">例16-95</a>显示了使用<code class="codeph">acfsutil snap rename</code>命令。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-7A86E347-5263-4E9F-9AE9-44E4A0B825C1__GUID-4070F287-BF81-4C8A-9A85-B5C9E7E52716">
                     <p class="titleinexample">示例16-95使用acfsutil snap rename命令</p><pre class="oac_no_warn" dir="ltr">$ / sbin / acfsutil snap重命名old_snapshot_name new_snapshot_name / acfsmounts / critical_apps</pre></div>
                  <!-- class="example" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html>