<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Syntactic and Semantic Checking</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Programmer's Guide">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Programmer's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="c-c-programmers-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-11T03:52:01-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96467-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="performance-tuning.html" title="Previous" type="text/html">
      <link rel="next" href="system-specific-references.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Pro*C/C++ Programmer's Guide">
    <meta name="dcterms.isVersionOf" content="LNPCC">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="performance-tuning.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="system-specific-references.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Programmer's Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="appendixes.html" property="item" typeof="WebPage"><span property="name"> Appendixes </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> Syntactic and Semantic Checking</li>
            </ol>
            <a id="GUID-C11CF911-407A-441F-BABF-9A308CAF54AB" name="GUID-C11CF911-407A-441F-BABF-9A308CAF54AB"></a><a id="LNPCC024"></a>
            
            <h2 id="LNPCC-GUID-C11CF911-407A-441F-BABF-9A308CAF54AB" class="sect2"><span class="enumeration_chapter">C </span> Syntactic and Semantic Checking
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>By checking the syntax and semantics of embedded SQL statements and PL/SQL blocks, the Pro*C/C++ Precompiler helps you quickly find and fix coding mistakes. This appendix shows you how to use the SQLCHECK option to control the type and extent of checking. This appendix contains the following topics:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="syntactic-and-semantic-checking.html#GUID-0DA15DAE-51F9-412F-95C4-CC3E06BB6F9F">What Is Syntactic and Semantic Checking? </a></p>
                     <p><a href="syntactic-and-semantic-checking.html#GUID-5C30A41D-4132-4C5A-A8B7-640A8931E15A">About Controlling the Type and Extent of Checking </a></p>
                  </li>
                  <li>
                     <p><a href="syntactic-and-semantic-checking.html#GUID-DC65C3C5-995D-445D-86C5-29D9BE3135F3">About Specifying SQLCHECK=SEMANTICS </a></p>
                  </li>
                  <li>
                     <p><a href="syntactic-and-semantic-checking.html#GUID-2CB9DAC3-84CC-417F-89D2-BF48071BFB3D">About Specifying SQLCHECK=SYNTAX </a></p>
                  </li>
                  <li>
                     <p><a href="syntactic-and-semantic-checking.html#GUID-A23461C2-15DB-490B-A5AF-8855996D5078">About Entering the SQLCHECK Option </a></p>
                  </li>
               </ul>
            </div><a id="LNPCC4581"></a><div class="props_rev_3"><a id="GUID-0DA15DAE-51F9-412F-95C4-CC3E06BB6F9F" name="GUID-0DA15DAE-51F9-412F-95C4-CC3E06BB6F9F"></a><h3 id="LNPCC-GUID-0DA15DAE-51F9-412F-95C4-CC3E06BB6F9F" class="sect3"><span class="enumeration_section">C.1 </span>What Is Syntactic and Semantic Checking? 
               </h3>
               <div>
                  <p>Rules of syntax specify how language elements are sequenced to form valid statements. Thus, <span class="italic">syntactic checking</span> verifies that keywords, object names, operators, delimiters, and so on are placed correctly in your SQL statement. For example, the following embedded SQL statements contain syntax errors:<a id="d115969e74" class="indexterm-anchor"></a> 
                  </p><pre class="oac_no_warn" dir="ltr">EXEC SQL DELETE FROM EMP WHER DEPTNO = 20; 
    -- misspelled keyword WHERE 
EXEC SQL INSERT INTO EMP COMM, SAL VALUES (NULL, 1500); 
    -- missing parentheses around column names COMM and SAL
</pre><p>Rules of semantics specify how valid external references are made. Thus, <span class="italic">semantic checking</span> verifies that references to database objects and host variables are valid and that host variable datatypes are correct. For example, the following embedded SQL statements contain semantic errors:<a id="d115969e86" class="indexterm-anchor"></a><a id="d115969e90" class="indexterm-anchor"></a> 
                  </p><pre class="oac_no_warn" dir="ltr">EXEC SQL DELETE FROM empp WHERE deptno = 20; 
    -- nonexistent table, EMPP 
EXEC SQL SELECT * FROM emp WHERE ename = :emp_name; 
    -- undeclared host variable, <span class="italic">emp_name</span> 
</pre><p>The rules of SQL syntax and semantics are defined in<a href="../sqlrf/index.html" target="_blank"><span class="italic"> Oracle Database SQL Language Reference</span></a>. 
                  </p>
               </div>
            </div><a id="LNPCC4582"></a><div class="props_rev_3"><a id="GUID-5C30A41D-4132-4C5A-A8B7-640A8931E15A" name="GUID-5C30A41D-4132-4C5A-A8B7-640A8931E15A"></a><h3 id="LNPCC-GUID-5C30A41D-4132-4C5A-A8B7-640A8931E15A" class="sect3"><span class="enumeration_section">C.2 </span>About Controlling the Type and Extent of Checking 
               </h3>
               <div>
                  <p>You control the type and extent of checking by specifying the SQLCHECK option on the command line. With SQLCHECK, the <span class="italic">type</span> of checking can be syntactic, semantic, or both. The <span class="italic">extent</span> of checking can include the following:<a id="d115969e137" class="indexterm-anchor"></a><a id="d115969e141" class="indexterm-anchor"></a> 
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Data definition statements (such as CREATE and GRANT) </p>
                     </li>
                     <li>
                        <p>Data manipulation statements (such as SELECT and INSERT) </p>
                     </li>
                     <li>
                        <p>PL/SQL blocks </p>
                     </li>
                  </ul>
                  <p>However, SQLCHECK cannot check dynamic SQL statements because they are not fully defined until run time.<a id="d115969e158" class="indexterm-anchor"></a> 
                  </p>
                  <p>You can specify the following values for SQLCHECK: </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>SEMANTICS or FULL</p>
                     </li>
                     <li>
                        <p>SYNTAX </p>
                     </li>
                  </ul>
                  <p>The default value is SYNTAX. </p>
                  <p>The use of SQLCHECK does not affect the normal syntax checking done on data control, cursor control, and dynamic SQL statements.<a id="d115969e176" class="indexterm-anchor"></a> 
                  </p>
               </div>
            </div><a id="LNPCC4583"></a><div class="props_rev_3"><a id="GUID-DC65C3C5-995D-445D-86C5-29D9BE3135F3" name="GUID-DC65C3C5-995D-445D-86C5-29D9BE3135F3"></a><h3 id="LNPCC-GUID-DC65C3C5-995D-445D-86C5-29D9BE3135F3" class="sect3"><span class="enumeration_section">C.3 </span>About Specifying SQLCHECK=SEMANTICS 
               </h3>
               <div>
                  <p>When SQLCHECK=SEMANTICS, the precompiler checks the syntax and semantics of </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Data manipulation statements (INSERT, UPDATE, and so on) </p>
                     </li>
                     <li>
                        <p>PL/SQL blocks </p>
                     </li>
                     <li>
                        <p>Host variable datatypes </p>
                     </li>
                  </ul>
                  <p>as well as the syntax of </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Data definition statements (CREATE, ALTER, and so on) </p>
                     </li>
                  </ul>
                  <p>However, only syntactic checking is done on data manipulation statements that use the AT <span class="italic">db_name</span> clause. 
                  </p>
                  <p>When SQLCHECK=SEMANTICS, the precompiler gets information needed for a semantic check by using embedded DECLARE TABLE statements or if you specify the USERID option on the command line, by connecting to the Oracle server and accessing the data dictionary. You need not connect to the Oracle server if every table referenced in a data manipulation statement or PL/SQL block is defined in a DECLARE TABLE statement. </p>
                  <p>If you connect to the Oracle server, but some needed information cannot be found in the data dictionary, you must use DECLARE TABLE statements to supply the missing information. A DECLARE TABLE definition overrides a data dictionary definition if they conflict. </p>
                  <p>If you embed PL/SQL blocks in a host program, you <span class="italic">must</span> specify SQLCHECK=SEMANTICS. 
                  </p>
                  <p>When checking data manipulation statements, the precompiler uses the syntax rules found in the<a href="../sqlrf/index.html" target="_blank"><span class="italic"> Oracle Database SQL Language Reference,</span></a> but uses a stricter set of semantic rules. In particular, stricter datatype checking is done. As a result, existing applications written for earlier versions of Oracle might not precompile successfully when SQLCHECK=SEMANTICS. 
                  </p>
                  <p>Specify SQLCHECK=SEMANTICS when you precompile new programs or want stricter datatype checking. </p>
               </div><a id="LNPCC4584"></a><div class="props_rev_3"><a id="GUID-98459C5D-0370-4B93-9D31-9B844E62A399" name="GUID-98459C5D-0370-4B93-9D31-9B844E62A399"></a><h4 id="LNPCC-GUID-98459C5D-0370-4B93-9D31-9B844E62A399" class="sect4"><span class="enumeration_section">C.3.1 </span>About Enabling a Semantic Check
                  </h4>
                  <div>
                     <p>When SQLCHECK=SEMANTICS, the precompiler can get information needed for a semantic check in either of the following ways:<a id="d115969e269" class="indexterm-anchor"></a> 
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Connect to the Oracle server and access the data dictionary. </p>
                        </li>
                        <li>
                           <p>Use embedded DECLARE TABLE and DECLARE TYPE statements. </p>
                        </li>
                     </ul>
                  </div><a id="LNPCC4585"></a><div class="props_rev_3"><a id="GUID-499EB901-16AF-4C29-ADCD-42111416261E" name="GUID-499EB901-16AF-4C29-ADCD-42111416261E"></a><h5 id="LNPCC-GUID-499EB901-16AF-4C29-ADCD-42111416261E" class="sect5"><span class="enumeration_section">C.3.1.1 </span>About Connecting to the Oracle server
                     </h5>
                     <div>
                        <p>To do a semantic check, the precompiler can connect to an Oracle database that maintains definitions of tables, types, and views referenced in your host program.<a id="d115969e305" class="indexterm-anchor"></a> 
                        </p>
                        <p>After connecting to the Oracle server, the precompiler accesses the data dictionary for needed information. The <span class="italic">data dictionary</span> stores table and column names, table and column constraints, column lengths, column datatypes, and so on. 
                        </p>
                        <p>If some of the needed information cannot be found in the data dictionary (because your program refers to a table not yet created, for example), you must supply the missing information using the DECLARE TABLE statement (discussed later in this appendix). </p>
                        <p>To connect to the Oracle server, specify the USERID option on the command line, using the syntax:<a id="d115969e319" class="indexterm-anchor"></a><a id="d115969e323" class="indexterm-anchor"></a> 
                        </p><pre class="oac_no_warn" dir="ltr">USERID=username/password 
</pre><p>where <span class="italic">username</span> and <span class="italic">password</span> comprise a valid Oracle userid. If you omit the password, you are prompted for it. 
                        </p>
                        <p>If, instead of a username and password, you specify </p><pre class="oac_no_warn" dir="ltr">USERID=/ 
</pre><p>the precompiler attempts to automatically connect to the Oracle server. The attempt succeeds only if an existing Oracle username matches your operating system ID prefixed with "CLUSTER$", or whatever value the parameter OS_AUTHENT_PREFIX is set to in the INIT.ORA file. For example, if your operating system ID is MBLAKE, an automatic connect only succeeds if CLUSTER$MBLAKE is a valid Oracle username. </p>
                        <p>If you omit the USERID option, the precompiler must get needed information from embedded DECLARE TABLE statements. </p>
                        <p>If you try connecting to the Oracle server but cannot (because the database is unavailable, for example), an error message is issued and your program is not precompiled. </p>
                     </div>
                  </div><a id="LNPCC4586"></a><div class="props_rev_3"><a id="GUID-FA93B032-BE6C-4933-992D-64CB1C271CDD" name="GUID-FA93B032-BE6C-4933-992D-64CB1C271CDD"></a><h5 id="LNPCC-GUID-FA93B032-BE6C-4933-992D-64CB1C271CDD" class="sect5"><span class="enumeration_section">C.3.1.2 </span>About Using DECLARE TABLE
                     </h5>
                     <div>
                        <p>The precompiler can do a semantic check without connecting to the Oracle server. To do the check, the precompiler must get information about tables and views from embedded DECLARE TABLE statements. Thus, every table referenced in a data manipulation statement or PL/SQL block must be defined in a DECLARE TABLE statement.<a id="d115969e370" class="indexterm-anchor"></a><a id="d115969e374" class="indexterm-anchor"></a> 
                        </p>
                        <p>The syntax of the DECLARE TABLE statement is:</p><pre class="oac_no_warn" dir="ltr">EXEC SQL DECLARE table_name TABLE 
    (col_name col_datatype [DEFAULT expr] [NULL|NOT NULL], ...); 
</pre><p>where <span class="italic">expr</span> is an integer that can be used as a default column value in the CREATE TABLE statement. 
                        </p>
                        <p>For user-defined object datatypes, the size is optional because it is not used.</p>
                        <p>If you use DECLARE TABLE to define a database table that already exists, the precompiler uses your definition, ignoring the one in the data dictionary. </p>
                     </div>
                  </div><a id="LNPCC4587"></a><div class="props_rev_3"><a id="GUID-AE8B7ADB-9EC9-4660-9E73-9B2006A51906" name="GUID-AE8B7ADB-9EC9-4660-9E73-9B2006A51906"></a><h5 id="LNPCC-GUID-AE8B7ADB-9EC9-4660-9E73-9B2006A51906" class="sect5"><span class="enumeration_section">C.3.1.3 </span>About Using DECLARE TYPE
                     </h5>
                     <div>
                        <p>Similarly, for TYPE, there is a DECLARE TYPE statement whose syntax is:</p><pre class="oac_no_warn" dir="ltr">EXEC SQL DECLARE type TYPE 
[AS OBJECT (col_name col_datatype, ...)] |
[AS VARRAY(size) OF element_type ]|
[AS TABLE OF object_type ] ;
</pre><p>This allows for better type-checking for user-defined types when SQLCHECK=SEMANTICS at precompile-time. When SQLCHECK=SYNTAX, the DECLARE TYPE statements serve as documentation only and are commented out and ignored.</p>
                     </div>
                  </div>
               </div>
            </div><a id="LNPCC4588"></a><div class="props_rev_3"><a id="GUID-2CB9DAC3-84CC-417F-89D2-BF48071BFB3D" name="GUID-2CB9DAC3-84CC-417F-89D2-BF48071BFB3D"></a><h3 id="LNPCC-GUID-2CB9DAC3-84CC-417F-89D2-BF48071BFB3D" class="sect3"><span class="enumeration_section">C.4 </span>About Specifying SQLCHECK=SYNTAX 
               </h3>
               <div>
                  <p>When SQLCHECK=SYNTAX, the precompiler checks the syntax of SQL statements documented in<a href="../sqlrf/index.html" target="_blank"><span class="italic"> Oracle Database SQL Language Reference</span></a>:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Data manipulation statements </p>
                     </li>
                     <li>
                        <p>Host-variable expressions</p>
                     </li>
                  </ul>
                  <p>No semantic check is done, and the following restrictions apply: </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>No connection to the Oracle server is attempted and USERID becomes an invalid option. If you specify USERID, a warning message is issued. </p>
                     </li>
                     <li>
                        <p>DECLARE TABLE and DECLARE TYPE statements are ignored; they serve only as documentation. </p>
                     </li>
                     <li>
                        <p>PL/SQL blocks are not allowed. If the precompiler finds a PL/SQL block, an error message is issued. </p>
                     </li>
                  </ul>
                  <p>When checking data manipulation statements, the precompiler uses Oracle syntax rules. These rules are downwardly compatible, so specify SQLCHECK=SYNTAX when migrating your precompiled programs. </p>
               </div>
            </div><a id="LNPCC4589"></a><div class="props_rev_3"><a id="GUID-A23461C2-15DB-490B-A5AF-8855996D5078" name="GUID-A23461C2-15DB-490B-A5AF-8855996D5078"></a><h3 id="LNPCC-GUID-A23461C2-15DB-490B-A5AF-8855996D5078" class="sect3"><span class="enumeration_section">C.5 </span>About Entering the SQLCHECK Option 
               </h3>
               <div>
                  <p>You can enter the SQLCHECK option inline or on the command line. However, the level of checking you specify inline cannot be higher than the level you specify (or accept by default) on the command line. For example, if you specify SQLCHECK=SYNTAX on the command line, you cannot specify SQLCHECK=SEMANTICS inline.</p>
                  <p></p>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>