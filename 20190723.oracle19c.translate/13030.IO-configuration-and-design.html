<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>I / O配置和设计</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Database Performance Tuning Guide"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Database Performance Tuning Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-performance-tuning-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-03-12T22:26:14-07:00"></meta>
      <meta name="dcterms.title" content="Database Performance Tuning Guide"></meta>
      <meta name="dcterms.dateCopyrighted" content="2007, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96347-03"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="part-IV-managing-system-resources.html" title="Previous" type="text/html"></link>
      <link rel="next" href="managing-operating-system-resources.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="TGDBA"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="part-IV-managing-system-resources.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="managing-operating-system-resources.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">数据库性能调优指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="part-IV-managing-system-resources.html" property="item" typeof="WebPage"><span property="name">管理系统资源</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">I / O配置和设计</li>
            </ol>
            <a id="GUID-B89C41F4-B12A-49E1-BFB9-5BF978E2D6B3" name="GUID-B89C41F4-B12A-49E1-BFB9-5BF978E2D6B3"></a><a id="TGDBA015"></a>
            
            <h2 id="TGDBA-GUID-B89C41F4-B12A-49E1-BFB9-5BF978E2D6B3" class="sect2"><span class="enumeration_chapter">17</span> I / O配置和设计</h2>
         </header>
         <div class="ind">
            <div>
               <p>I / O子系统是Oracle数据库的重要组成部分。本章介绍了基本的I / O概念，讨论了数据库不同部分的I / O要求，并提供了I / O子系统设计的示例配置。</p>
               <p>本章包括以下主题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="IO-configuration-and-design.html#GUID-96CEF863-67AC-47BE-8834-8AB42864FC6E">关于I / O.</a></p>
                  </li>
                  <li>
                     <p><a href="IO-configuration-and-design.html#GUID-FC77DFCF-FFDC-4669-BAC2-3254E3A75468">I / O配置</a></p>
                  </li>
                  <li>
                     <p><a href="IO-configuration-and-design.html#GUID-08ED4172-9398-402E-B0C4-4CE88DE87603">数据库内的I / O校准</a></p>
                  </li>
                  <li>
                     <p><a href="IO-configuration-and-design.html#GUID-355C99D8-29C1-421F-8B65-47A3C48324A2">使用Oracle Orion校准工具进行I / O校准</a></p>
                  </li>
               </ul>
            </div><a id="TGDBA94381"></a><div class="props_rev_3"><a id="GUID-96CEF863-67AC-47BE-8834-8AB42864FC6E" name="GUID-96CEF863-67AC-47BE-8834-8AB42864FC6E"></a><h3 id="TGDBA-GUID-96CEF863-67AC-47BE-8834-8AB42864FC6E" class="sect3"><span class="enumeration_section">17.1</span>关于I / O.</h3>
               <div>
                  <p>每个Oracle数据库都在磁盘上读取或写入数据，从而生成<span class="bold">磁盘I / O.</span>许多软件应用程序的性能本质上受到磁盘I / O的限制。占用大部分CPU时间等待I / O活动完成的应用程序被认为是<span class="bold">I / O绑定的</span> 。
                  </p>
                  <p>Oracle数据库的设计使得如果应用程序编写得很好，其性能不应受I / O的限制。如果I / O系统以容量或接近容量运行并且无法在可接受的时间内为I / O请求提供服务，则调整I / O可以增强应用程序的性能。但是，如果应用程序不受I / O限制（例如，当CPU是限制因素时），则调整I / O无法提高性能。</p>
                  <p>在设计I / O系统时，请考虑以下数据库要求：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>存储，例如最小磁盘容量</p>
                     </li>
                     <li>
                        <p>可用性，例如连续（24 x 7）或营业时间</p>
                     </li>
                     <li>
                        <p>性能，例如I / O吞吐量和应用程序响应时间</p>
                     </li>
                  </ul>
                  <p>许多I / O设计计划存储和可用性要求，并假设性能不会成为问题。这并非总是如此。最佳地，要配置的磁盘和控制器的数量应由I / O吞吐量和冗余要求确定。然后可以根据存储要求确定磁盘的大小。</p>
                  <p>在开发I / O设计计划时，请考虑使用<span class="bold">Oracle自动存储管理（Oracle ASM）</span> 。Oracle ASM是一个集成的高性能数据库文件系统和磁盘管理器，它基于数据库应该管理存储而不需要管理员来执行存储的原则。
                  </p>
                  <p>Oracle建议您使用Oracle ASM进行数据库文件存储，而不是使用原始设备或操作系统文件系统。Oracle ASM提供以下主要优势：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>条带化</p>
                     </li>
                     <li>
                        <p>镜像</p>
                     </li>
                     <li>
                        <p>在线存储重新配置和动态重新平衡</p>
                     </li>
                     <li>
                        <p>托管文件的创建和删除</p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-96CEF863-67AC-47BE-8834-8AB42864FC6E__GUID-696D8E4F-DD24-448B-9829-23C7A3617562">
                     <p class="notep1">也可以看看：</p>
                     <p>有关Oracle ASM的其他信息，请参见<a href="../ostmg/asm-intro.html#OSTMG036" target="_blank"><span class="italic">“Oracle自动存储管理管理员指南”</span></a></p>
                  </div>
               </div>
            </div><a id="TGDBA94385"></a><div class="props_rev_3"><a id="GUID-FC77DFCF-FFDC-4669-BAC2-3254E3A75468" name="GUID-FC77DFCF-FFDC-4669-BAC2-3254E3A75468"></a><h3 id="TGDBA-GUID-FC77DFCF-FFDC-4669-BAC2-3254E3A75468" class="sect3"><span class="enumeration_section">17.2</span> I / O配置</h3>
               <div>
                  <p>本节介绍在定义系统的I / O配置时要收集的基本信息和要做出的决策。您希望尽可能简化配置，同时保持所需的可用性，可恢复性和性能。配置越复杂，管理，维护和调整就越困难。</p>
                  <p>本节包含以下主题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="IO-configuration-and-design.html#GUID-8E417FDE-21AB-4FD7-8935-527EE73D3159">使用操作系统或硬件条带化布置文件</a></p>
                     </li>
                     <li>
                        <p><a href="IO-configuration-and-design.html#GUID-B36A0F16-20AC-4224-8CFB-8B27AA151A39">手动分发I / O.</a></p>
                     </li>
                     <li>
                        <p><a href="IO-configuration-and-design.html#GUID-CAC9BBAD-5471-4CEB-B406-C8D88620F892">何时分离文件</a></p>
                     </li>
                     <li>
                        <p><a href="IO-configuration-and-design.html#GUID-10F6D20D-4BA4-434C-A4B0-0E4C7CEEE267">三个示例配置</a></p>
                     </li>
                     <li>
                        <p><a href="IO-configuration-and-design.html#GUID-B8E5CBB5-5944-44D7-A337-EFE8484A0B41">Oracle托管文件</a></p>
                     </li>
                     <li>
                        <p><a href="IO-configuration-and-design.html#GUID-1D9458EB-7D82-47B7-81D8-A5A34D11C92C">选择数据块大小</a></p>
                     </li>
                  </ul>
               </div><a id="TGDBA94386"></a><div class="props_rev_3"><a id="GUID-8E417FDE-21AB-4FD7-8935-527EE73D3159" name="GUID-8E417FDE-21AB-4FD7-8935-527EE73D3159"></a><h4 id="TGDBA-GUID-8E417FDE-21AB-4FD7-8935-527EE73D3159" class="sect4"><span class="enumeration_section">17.2.1</span>使用操作系统或硬件条带化布置文件</h4>
                  <div>
                     <p>如果您的操作系统具有LVM软件或基于硬件的条带化，则可以使用这些工具分发I / O.使用LVM或硬件条带化时要做出的决定包括<strong class="term">条带深度</strong>和<strong class="term">条带宽度</strong> 。
                     </p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>条带深度是条带的大小，有时称为条带单元。</p>
                        </li>
                        <li>
                           <p>条带宽度是条带深度和条带集中的驱动器数量的乘积。</p>
                        </li>
                     </ul>
                     <p>明智地选择这些值，以便系统能够维持所需的吞吐量。对于Oracle数据库，合理的条带深度范围为256 KB到1 MB。不同类型的应用程序受益于不同的条带深度。最佳条纹深度和条带宽度取决于以下内容：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="IO-configuration-and-design.html#GUID-30EB6253-9B52-4462-97F1-D729057DB3C3">请求的I / O大小</a></p>
                        </li>
                        <li>
                           <p><a href="IO-configuration-and-design.html#GUID-18150B40-D8AE-4A37-955B-4437CDED92F7">I / O请求的并发性</a></p>
                        </li>
                        <li>
                           <p><a href="IO-configuration-and-design.html#GUID-47524569-3954-47F9-90ED-83C2E7671C02">物理条纹边界与块大小边界的对齐</a></p>
                        </li>
                        <li>
                           <p><a href="IO-configuration-and-design.html#GUID-BFC8D260-2D73-407E-AE39-A3E17FA846B2">拟议系统的可管理性</a></p>
                        </li>
                     </ul>
                  </div><a id="TGDBA94388"></a><a id="TGDBA94387"></a><div class="props_rev_3"><a id="GUID-30EB6253-9B52-4462-97F1-D729057DB3C3" name="GUID-30EB6253-9B52-4462-97F1-D729057DB3C3"></a><h5 id="TGDBA-GUID-30EB6253-9B52-4462-97F1-D729057DB3C3" class="sect5"><span class="enumeration_section">17.2.1.1</span>请求的I / O大小</h5>
                     <div>
                        <p><a href="IO-configuration-and-design.html#GUID-30EB6253-9B52-4462-97F1-D729057DB3C3__g35578" title="此表描述了可用于设置I / O大小的Oracle和操作系统参数。">表17-1</a>列出了可用于设置I / O大小的Oracle数据库和操作系统参数：</p>
                        <div class="tblformal" id="GUID-30EB6253-9B52-4462-97F1-D729057DB3C3__g35578">
                           <p class="titleintable">表17-1 Oracle数据库和操作系统操作参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="Oracle数据库和操作系统操作参数" width="100%" border="1" summary="This table describes the Oracle and operating system parameters that can be used to set I/O size." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="30%" id="d52149e409">参数</th>
                                    <th align="left" valign="bottom" width="70%" id="d52149e412">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d52149e417" headers="d52149e409 ">
                                       <p><code class="codeph">DB_BLOCK_SIZE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d52149e417 d52149e412 ">
                                       <p>单块I / O请求的大小。此参数还与多块参数结合使用，以确定多块I / O请求大小。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d52149e425" headers="d52149e409 ">
                                       <p>OS块大小</p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d52149e425 d52149e412 ">
                                       <p>确定重做日志和存档日志操作的I / O大小。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d52149e432" headers="d52149e409 ">
                                       <p>最大OS I / O大小</p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d52149e432 d52149e412 ">
                                       <p>对单个I / O请求的大小设置上限。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d52149e439" headers="d52149e409 ">
                                       <p><code class="codeph">DB_FILE_MULTIBLOCK_READ_COUNT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d52149e439 d52149e412 ">
                                       <p>通过将此参数与<code class="codeph">DB_BLOCK_SIZE</code>相乘来计算全表扫描的最大I / O大小。 （上限值受操作系统限制）。如果未明确设置此值（或设置为0），则默认值对应于可以有效执行的最大I / O大小，并且与平台相关。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d52149e450" headers="d52149e409 ">
                                       <p><code class="codeph">SORT_AREA_SIZE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d52149e450 d52149e412 ">
                                       <p>确定排序操作的I / O大小和并发性。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d52149e458" headers="d52149e409 ">
                                       <p><code class="codeph">HASH_AREA_SIZE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d52149e458 d52149e412 ">
                                       <p>确定哈希操作的I / O大小。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>除了I / O大小之外，并发度还有助于确定理想的条带深度。选择条带宽度和条纹深度时请考虑以下事项：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>在低并发（顺序）系统上，确保没有单个I / O访问同一磁盘两次。例如，假设条带宽度为四个磁盘，条带深度为32K。如果Oracle服务器进程发出单个1MB I / O请求（例如，对于全表扫描），则条带中的每个磁盘必须执行八个I / O以返回所请求的数据。为避免这种情况，平均I / O的大小应小于条带宽度乘以条带深度。如果不是这种情况，则Oracle数据库向操作系统发出的单个I / O请求会导致对同一磁盘的多个物理I / O请求。</p>
                           </li>
                           <li>
                              <p>在高并发（随机）系统上，确保没有单个I / O请求被分解为多个物理I / O调用。如果不这样做，则会增加系统中执行的物理I / O请求的数量，从而严重降低I / O响应时间。</p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="TGDBA94389"></a><div class="props_rev_3"><a id="GUID-18150B40-D8AE-4A37-955B-4437CDED92F7" name="GUID-18150B40-D8AE-4A37-955B-4437CDED92F7"></a><h5 id="TGDBA-GUID-18150B40-D8AE-4A37-955B-4437CDED92F7" class="sect5"><span class="enumeration_section">17.2.1.2</span> I / O请求的并发</h5>
                     <div>
                        <p>在具有高度并发小I / O请求的系统中，例如在传统的OLTP环境中，保持条带深度较大是有益的。使用大于I / O大小的条纹深度称为<span class="bold">粗粒度条纹</span> 。在高并发系统中，条带深度可以如下，其中<span class="italic"><code class="codeph">n</code></span> &gt; 1：</p><pre class="oac_no_warn" dir="ltr"><span class="italic">n</span> * DB_BLOCK_SIZE</pre><p>粗粒度条带化允许阵列中的磁盘为多个I / O请求提供服务。通过这种方式，大量并发I / O请求可由一组条带化磁盘提供服务，并且I / O设置成本最低。粗粒度条带化努力最大化整体I / O吞吐量。如同全表扫描一样，多块读取将在条带深度很大并且可以从一个驱动器进行服务时受益。数据仓库环境中的并行查询也是粗粒度条带化的候选者，因为许多单独的进程都会发出单独的I / O.如果在没有高并发请求的系统中使用粗粒度条带化，则可能导致热点。</p>
                        <p>在具有少量大I / O请求的系统中，例如在传统DSS环境或低并发OLTP系统中，保持条带深度较小是有益的。这称为<span class="bold">细晶粒条纹</span> 。在此类系统中，条带深度如下所示，其中<span class="italic"><code class="codeph">n</code></span>小于多块读取参数，例如<code class="codeph">DB_FILE_MULTIBLOCK_READ_COUNT</code> ：</p><pre class="oac_no_warn" dir="ltr"><span class="italic">n</span> * DB_BLOCK_ SIZE</pre><p>细粒度条带化允许单个I / O请求由多个磁盘提供服务。精细纹理条纹力求最大化单个I / O请求或响应时间的性能。</p>
                     </div>
                  </div><a id="TGDBA94391"></a><a id="TGDBA94390"></a><div class="props_rev_3"><a id="GUID-47524569-3954-47F9-90ED-83C2E7671C02" name="GUID-47524569-3954-47F9-90ED-83C2E7671C02"></a><h5 id="TGDBA-GUID-47524569-3954-47F9-90ED-83C2E7671C02" class="sect5"><span class="enumeration_section">17.2.1.3</span>物理条带边界与块大小边界的对齐</h5>
                     <div>
                        <p>在某些Oracle数据库端口上，数据库块边界可能与条带不对齐。如果条带深度与数据库块的大小相同，则Oracle数据库发出的单个I / O可能会导致两个物理I / O操作。</p>
                        <p>这在OLTP环境中不是最佳的。为确保一个逻辑I / O的概率更高，导致不超过一个物理I / O，最小条带深度应至少为Oracle块大小的两倍。<a href="IO-configuration-and-design.html#GUID-47524569-3954-47F9-90ED-83C2E7671C02__g35619" title="此表显示了randon访问和sequentiol读取的建议最小条带深度。">表17-2</a>显示了随机访问和顺序读取的建议最小条带深度。
                        </p>
                        <div class="tblformal" id="GUID-47524569-3954-47F9-90ED-83C2E7671C02__g35619">
                           <p class="titleintable">表17-2最小条带深度</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="最小条纹深度" width="100%" border="1" summary="This table displays recommended minimum stripe depth for randon access and for sequentiol reads." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d52149e629">磁盘访问</th>
                                    <th align="left" valign="bottom" width="69%" id="d52149e632">最小条纹深度</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d52149e637" headers="d52149e629 ">
                                       <p>随机读写</p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d52149e637 d52149e632 ">
                                       <p>最小条带深度是Oracle块大小的两倍。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d52149e644" headers="d52149e629 ">
                                       <p>顺序读取</p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d52149e644 d52149e632 ">
                                       <p>最小条带深度是<code class="codeph">DB_FILE_MULTIBLOCK_READ_COUNT</code>两倍，乘以Oracle块大小。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="infoboxnotealso" id="GUID-47524569-3954-47F9-90ED-83C2E7671C02__GUID-CAE0F929-D363-4D3F-B620-9D05B681984E">
                           <p class="notep1">也可以看看：</p>
                           <p>适用于您平台的特定文档</p>
                        </div>
                     </div>
                  </div><a id="TGDBA94392"></a><div class="props_rev_3"><a id="GUID-BFC8D260-2D73-407E-AE39-A3E17FA846B2" name="GUID-BFC8D260-2D73-407E-AE39-A3E17FA846B2"></a><h5 id="TGDBA-GUID-BFC8D260-2D73-407E-AE39-A3E17FA846B2" class="sect5"><span class="enumeration_section">17.2.1.4</span>拟议系统的可管理性</h5>
                     <div>
                        <p>对于LVM，最简单的管理配置是在所有可用磁盘上具有单个条带卷的配置。在这种情况下，条带宽度包含所有可用磁盘。所有数据库文件都驻留在该卷中，从而有效地均匀分配负载。在大多数情况下，这种单卷布局可提供足够的性能。</p>
                        <p>单卷配置仅在与允许轻松恢复的RAID技术结合使用时才可行，例如RAID 1。否则，丢失单个磁盘意味着同时丢失所有文件，从而执行完整的数据库还原和恢复。</p>
                        <p>除了性能之外，还存在可管理性问题：系统的设计必须允许简单地添加磁盘，以允许数据库增长。挑战是在保持负载均衡的同时这样做。</p>
                        <p>例如，初始配置可能涉及在64个磁盘上创建单个条带卷，每个磁盘为16 GB。这是主数据的总磁盘空间为1 TB。系统运行后的某个时间，必须添加额外的80 GB（即五个磁盘）以应对未来的数据库增长。</p>
                        <p>使此空间可用于数据库的选项包括创建包含五个新磁盘的第二个卷。但是，如果这些新磁盘无法维持放置在其上的文件所需的I / O吞吐量，则可能会产生I / O瓶颈。</p>
                        <p>另一种选择是增加原始卷的大小。LVM正变得足够复杂，允许动态重新配置条带宽度，从而允许在系统联机时添加磁盘。这开始使得在生产环境中单个条带卷上的所有文件的放置都是可行的。</p>
                        <p>如果您的LVM不支持动态地将磁盘添加到条带，那么您可能需要选择更小，更易管理的条带宽度。然后，当添加新磁盘时，系统可以按条带宽度增长。</p>
                        <p>在前面的示例中，八个磁盘可能是更易于管理的条带宽度。这仅在八个磁盘能够每秒维持所需数量的I / O时才可行。因此，当需要额外的磁盘空间时，可以添加另外八个磁盘条带，从而保持I / O在卷上保持平衡。</p>
                        <div class="infoboxnote" id="GUID-BFC8D260-2D73-407E-AE39-A3E17FA846B2__GUID-6B1AC983-7541-4F39-B491-1D7558680EF0">
                           <p class="notep1">注意：</p>
                           <p>条带宽度越小，您需要花时间在卷上分发文件的可能性越大，程序就越接近手动分发I / O.</p>
                        </div>
                     </div>
                  </div>
               </div><a id="TGDBA94393"></a><div class="props_rev_3"><a id="GUID-B36A0F16-20AC-4224-8CFB-8B27AA151A39" name="GUID-B36A0F16-20AC-4224-8CFB-8B27AA151A39"></a><h4 id="TGDBA-GUID-B36A0F16-20AC-4224-8CFB-8B27AA151A39" class="sect4"><span class="enumeration_section">17.2.2</span>手动分发I / O.</h4>
                  <div>
                     <p>如果您的系统没有LVM或硬件条带化，则必须通过根据每个文件的I / O要求分发文件，在可用磁盘上手动平衡I / O.为了确定文件放置，您应该熟悉数据库文件的I / O要求和I / O系统的功能。如果您不熟悉此数据并且没有要分析的代表性工作负载，则可以先进行猜测，然后在知道使用情况时调整布局。</p>
                     <p><a id="d52149e776" class="indexterm-anchor"></a>要手动条带化磁盘，您需要将文件的存储要求与其I / O要求相关联。
                     </p>
                     <ol>
                        <li>
                           <p>通过检查文件和磁盘的大小来评估数据库磁盘存储要求。</p>
                        </li>
                        <li>
                           <p>确定每个文件的预期I / O吞吐量。确定哪些文件具有最高的I / O速率以及哪些文件没有很多I / O.在所有可用磁盘上布置文件，以便均衡I / O速率。</p>
                        </li>
                     </ol>
                     <p> <a id="d52149e790" class="indexterm-anchor"></a><a id="d52149e794" class="indexterm-anchor"></a>一种流行的手动I / O分发方法建议将常用表与其索引分开。这是不正确的。在事务过程中，首先读取索引，然后读取表。由于这些I / O按顺序发生，因此表和索引可以存储在同一磁盘上而不会发生争用。仅仅因为数据文件包含索引或表数据而仅分离数据文件是不够的。仅当该文件的I / O速率影响数据库性能时，才应决定隔离文件。
                     </p>
                  </div>
               </div><a id="TGDBA94394"></a><div class="props_rev_3"><a id="GUID-CAC9BBAD-5471-4CEB-B406-C8D88620F892" name="GUID-CAC9BBAD-5471-4CEB-B406-C8D88620F892"></a><h4 id="TGDBA-GUID-CAC9BBAD-5471-4CEB-B406-C8D88620F892" class="sect4"><span class="enumeration_section">17.2.3</span>何时分离文件</h4>
                  <div>
                     <p>无论您使用的是操作系统条带化还是手动I / O分配，如果I / O系统或I / O布局无法支持所需的I / O速率，那么您需要分离具有高I / O速率的文件从剩余的文件。您可以在计划阶段或系统生效后识别此类文件。</p>
                     <p>隔离文件的决定应仅由I / O速率，可恢复性问题或可管理性问题驱动。（例如，如果您的LVM不支持条带宽度的动态重新配置，那么您可能需要创建较小的条带宽度，以便能够一次添加<span class="italic">n个</span>磁盘以创建具有相同配置的新条带。）
                     </p>
                     <p>在隔离文件之前，请验证瓶颈是否真的是I / O问题。 <span class="bold"> </span>调查瓶颈产生的数据确定哪些文件具有最高的I / O速率。
                     </p>
                     <p>以下部分描述了如何隔离以下文件类型：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="IO-configuration-and-design.html#GUID-BF22AB54-E425-405A-BC4A-2368415AF37F">表，索引和TEMP表空间</a></p>
                        </li>
                        <li>
                           <p><a href="IO-configuration-and-design.html#GUID-5740500F-777F-40F1-9008-1A62C5F6B66A">重做日志文件</a></p>
                        </li>
                        <li>
                           <p><a href="IO-configuration-and-design.html#GUID-7BC339EF-5491-4F08-A9E3-AE4616A5D128">存档的重做日志</a></p>
                        </li>
                     </ul>
                  </div><a id="TGDBA94395"></a><div class="props_rev_3"><a id="GUID-BF22AB54-E425-405A-BC4A-2368415AF37F" name="GUID-BF22AB54-E425-405A-BC4A-2368415AF37F"></a><h5 id="TGDBA-GUID-BF22AB54-E425-405A-BC4A-2368415AF37F" class="sect5"><span class="enumeration_section">17.2.3.1</span>表，索引和TEMP表空间</h5>
                     <div>
                        <p>如果具有高I / O的文件是属于包含表和索引的表空间的数据文件，则通过调整SQL或应用程序代码来确定是否可以减少这些文件的I / O. <span class="bold"> </span></p>
                        <p>如果具有高I / O的文件是属于<code class="codeph">TEMP</code>表空间的数据文件，则调查是否调整执行磁盘排序的SQL语句以避免此活动，或调整排序。
                        </p>
                        <p>在调整应用程序以避免不必要的I / O之后，如果I / O布局仍然无法维持所需的吞吐量，那么请考虑隔离高I / O文件。</p>
                     </div>
                  </div><a id="TGDBA94396"></a><div class="props_rev_3"><a id="GUID-5740500F-777F-40F1-9008-1A62C5F6B66A" name="GUID-5740500F-777F-40F1-9008-1A62C5F6B66A"></a><h5 id="TGDBA-GUID-5740500F-777F-40F1-9008-1A62C5F6B66A" class="sect5"><span class="enumeration_section">17.2.3.2</span>重做日志文件</h5>
                     <div>
                        <p>如果高I / O文件是重做日志文件，则考虑从其他文件中拆分重做日志文件。<a id="d52149e990" class="indexterm-anchor"></a>可能的配置可包括以下内容：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>将所有重做日志放在一个磁盘上，而不包含任何其他文件。还考虑可用性;同一组的成员应位于不同的物理磁盘和控制器上，以实现可恢复性。</p>
                           </li>
                           <li>
                              <p>将每个重做日志组放在不存储任何其他文件的单独磁盘上。</p>
                           </li>
                           <li>
                              <p>使用操作系统条带化工具在多个磁盘上划分重做日志文件。（在这种情况下无法进行手动条带化。）</p>
                           </li>
                           <li>
                              <p>避免将RAID 5用于重做日志。</p>
                           </li>
                        </ul>
                        <p>重做日志文件由Log Writer（LGWR）进程按顺序写入<a id="d52149e1010" class="indexterm-anchor"></a> 。如果同一磁盘上没有并发活动，则可以加快此操作。将单独的磁盘专用于重做日志文件通常可确保LGWR顺利运行，无需进一步调整。如果您的系统支持异步I / O但当前未配置此功能，请测试以查看使用此功能是否有益。与LGWR相关的性能瓶颈很少见。
                        </p>
                     </div>
                  </div><a id="TGDBA94398"></a><a id="TGDBA94397"></a><div class="props_rev_3"><a id="GUID-7BC339EF-5491-4F08-A9E3-AE4616A5D128" name="GUID-7BC339EF-5491-4F08-A9E3-AE4616A5D128"></a><h5 id="TGDBA-GUID-7BC339EF-5491-4F08-A9E3-AE4616A5D128" class="sect5"><span class="enumeration_section">17.2.3.3</span>存档的重做日志</h5>
                     <div>
                        <p>如果归档程序运行缓慢，那么通过确保归档程序读取和LGWR写入分离来防止归档程序进程和LGWR之间的I / O争用可能是明智的。这是通过将日志放在交替驱动器上来实现的。</p>
                        <p>例如，假设一个系统有四个重做日志组，每个组有两个成员。要创建单独磁盘访问，八个日志文件应标记为1a，1b，2a，2b，3a，3b，4a和4b。这需要至少四个磁盘，以及一个用于存档文件的磁盘。</p>
                        <p>下图说明了如何跨磁盘分发重做成员以最大限度地减少争用。</p>
                        <div class="figure" id="GUID-7BC339EF-5491-4F08-A9E3-AE4616A5D128__I21803">
                           <p class="titleinfigure">图17-1跨磁盘分发重做成员</p><img src="img/figure_171_distributing_redo_members_across_disks.png" alt="下面是图17-1的描述" title="下面是图17-1的描述" longdesc="img_text/figure_171_distributing_redo_members_across_disks.html"><br><a href="img_text/figure_171_distributing_redo_members_across_disks.html">“图17-1跨磁盘分发重做成员”的说明</a></div>
                        <!-- class="figure" -->
                        <p>在此示例中，LGWR切换出日志组1（成员1a和1b）并写入日志组2（2a和2b）。同时，归档进程从组1读取并写入其归档目标。请注意重做日志文件如何与争用隔离。</p>
                        <div class="infoboxnote" id="GUID-7BC339EF-5491-4F08-A9E3-AE4616A5D128__GUID-A0289EDB-3C81-486E-9D60-3F494843EE07">
                           <p class="notep1">注意：</p>
                           <p>镜像<a id="d52149e1082" class="indexterm-anchor"></a>重做日志文件<a id="d52149e1087" class="indexterm-anchor"></a>或者在不同的磁盘上维护每个重做日志文件的多个副本，并不会大大降低LGWR的速度。LGWR并行写入每个磁盘并等待，直到并行写入的每个部分完成。因此，并行写入不会比最长的单磁盘写入花费更长的时间。
                           </p>
                        </div>
                        <p>由于重做日志是串行编写的，因此专用于重做日志活动的驱动器通常需要有限的磁头移动。这显着加速了日志写入。</p>
                     </div>
                  </div>
               </div><a id="TGDBA94399"></a><div class="props_rev_3"><a id="GUID-10F6D20D-4BA4-434C-A4B0-0E4C7CEEE267" name="GUID-10F6D20D-4BA4-434C-A4B0-0E4C7CEEE267"></a><h4 id="TGDBA-GUID-10F6D20D-4BA4-434C-A4B0-0E4C7CEEE267" class="sect4"><span class="enumeration_section">17.2.4</span>三个示例配置</h4>
                  <div>
                     <p>本节包含三个配置I / O系统的高级示例。这些示例包括定义磁盘拓扑，条带深度等的示例计算：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="IO-configuration-and-design.html#GUID-E4BEEF56-D019-4903-A87B-BA0751FF30EC">在每个磁盘上条纹化所有内容</a></p>
                        </li>
                        <li>
                           <p><a href="IO-configuration-and-design.html#GUID-671FA7BB-AF35-4359-8502-89C533185B16">将存档日志移动到不同的磁盘</a></p>
                        </li>
                        <li>
                           <p><a href="IO-configuration-and-design.html#GUID-B26312AA-734B-40F4-BC42-341F365290C5">将重做日志移动到单独的磁盘</a></p>
                        </li>
                     </ul>
                  </div><a id="TGDBA94400"></a><div class="props_rev_3"><a id="GUID-E4BEEF56-D019-4903-A87B-BA0751FF30EC" name="GUID-E4BEEF56-D019-4903-A87B-BA0751FF30EC"></a><h5 id="TGDBA-GUID-E4BEEF56-D019-4903-A87B-BA0751FF30EC" class="sect5"><span class="enumeration_section">17.2.4.1</span>在每个磁盘上条带化所有内容</h5>
                     <div>
                        <p>最简单的I / O配置方法是在所有可用磁盘上构建一个巨大的卷。为了考虑可恢复性，镜像卷（RAID 1）。每个磁盘的条带化单元应大于频繁I / O操作的最大I / O大小。这为大多数情况提供了足够的性能。</p>
                     </div>
                  </div><a id="TGDBA94401"></a><div class="props_rev_3"><a id="GUID-671FA7BB-AF35-4359-8502-89C533185B16" name="GUID-671FA7BB-AF35-4359-8502-89C533185B16"></a><h5 id="TGDBA-GUID-671FA7BB-AF35-4359-8502-89C533185B16" class="sect5"><span class="enumeration_section">17.2.4.2</span>将存档日志移动到不同的磁盘</h5>
                     <div>
                        <p>如果归档的重做日志文件与其他文件在同一组磁盘上条带化，则当数据库归档重做日志时，这些磁盘上的任何I / O请求都会受到影响。将归档的重做日志文件移动到单独的磁盘可提供以下好处：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>存档可以以非常高的速率执行（使用顺序I / O）。</p>
                           </li>
                           <li>
                              <p>归档目标磁盘上的响应时间降低不会影响其他任何内容。</p>
                           </li>
                        </ul>
                        <p>存档日志的磁盘数由存档日志生成速率和所需的存档存储量决定。</p>
                     </div>
                  </div><a id="TGDBA94402"></a><div class="props_rev_3"><a id="GUID-B26312AA-734B-40F4-BC42-341F365290C5" name="GUID-B26312AA-734B-40F4-BC42-341F365290C5"></a><h5 id="TGDBA-GUID-B26312AA-734B-40F4-BC42-341F365290C5" class="sect5"><span class="enumeration_section">17.2.4.3</span>将重做日志移动到单独的磁盘</h5>
                     <div>
                        <p>在高度更新的OLTP系统中，重做日志是写入密集型的。将重做日志文件移动到与其他磁盘和归档重做日志文件分开的磁盘具有以下优点：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>写入重做日志以尽可能高的速率执行。因此，事务处理性能处于最佳状态。</p>
                           </li>
                           <li>
                              <p>任何其他I / O都不会影响重做日志的写入。</p>
                           </li>
                        </ul>
                        <p>重做日志的磁盘数量主要取决于重做日志大小，与当前技术磁盘大小相比，这通常较小。通常，具有两个磁盘的配置（可能镜像到四个磁盘以实现容错）就足够了。特别是，通过在两个磁盘上交替使用重做日志文件，将重做日志信息写入一个文件不会影响读取已完成的重做日志以进行存档。</p>
                     </div>
                  </div>
               </div><a id="TGDBA94403"></a><div class="props_rev_3"><a id="GUID-B8E5CBB5-5944-44D7-A337-EFE8484A0B41" name="GUID-B8E5CBB5-5944-44D7-A337-EFE8484A0B41"></a><h4 id="TGDBA-GUID-B8E5CBB5-5944-44D7-A337-EFE8484A0B41" class="sect4"><span class="enumeration_section">17.2.5</span> Oracle托管文件</h4>
                  <div>
                     <p>当文件系统可以包含所有Oracle数据库数据时，使用<span class="bold">Oracle托管文件</span>可以简化数据库管理。Oracle数据库内部使用标准文件系统接口根据表空间，临时文件，联机日志和控制文件的需要创建和删除文件。管理员仅指定要用于特定类型文件的文件系统目录。您可以为数据文件指定一个默认位置，为控制和联机重做日志文件指定最多五个多路复用位置。
                     </p>
                     <p>Oracle数据库确保创建一个唯一文件，然后在不再需要时将其删除。这可以减少管理员指定错误文件导致的损坏，减少过时文件占用的磁盘空间浪费，并简化测试和开发数据库的创建。它还使得便携式第三方工具的开发更容易，因为它消除了在SQL脚本中放置特定于操作系统的文件名的需要。</p>
                     <p>新文件可以创建为Oracle托管文件，而旧文件则以旧方式管理。因此，数据库可以混合使用Oracle托管文件和用户管理的文件。</p>
                     <div class="infoboxnote" id="GUID-B8E5CBB5-5944-44D7-A337-EFE8484A0B41__GUID-326FCB81-BDE4-4F54-B01C-E0FB9B7C5AD6">
                        <p class="notep1">注意：</p>
                        <p>Oracle Managed Files不能与原始设备一起使用。</p>
                     </div>
                     <p>调优Oracle托管文件时应考虑以下几点：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>由于Oracle托管文件需要使用文件系统，因此DBA会放弃对数据布局方式的控制。因此，正确配置文件系统很重要。</p>
                        </li>
                        <li>
                           <p>在支持条带化的LVM之上构建Oracle Managed Files的文件系统。要实现负载平衡和提高吞吐量，请在文件系统中对磁盘进行条带化。</p>
                        </li>
                        <li>
                           <p>如果在支持动态可扩展逻辑卷的LVM上使用Oracle托管文件，则它最有效。否则，请将逻辑卷配置为尽可能大。</p>
                        </li>
                        <li>
                           <p>如果文件系统提供大型可扩展文件，Oracle Managed Files最有效。</p>
                           <div class="infoboxnotealso" id="GUID-B8E5CBB5-5944-44D7-A337-EFE8484A0B41__GUID-0589D22E-1EC3-4056-93CC-228BA23B33ED">
                              <p class="notep1">也可以看看：</p>
                              <p>有关使用Oracle Managed Files的详细信息，请参见“ <a href="../admin/using-oracle-managed-files.html#ADMIN-GUID-4A3C4616-0D81-4BBA-8EAD-FCAA8AD5C15A" target="_blank"><span class="italic">Oracle数据库管理员指南</span></a> ”</p>
                           </div>
                        </li>
                     </ul>
                  </div>
               </div><a id="TGDBA94404"></a><div class="props_rev_3"><a id="GUID-1D9458EB-7D82-47B7-81D8-A5A34D11C92C" name="GUID-1D9458EB-7D82-47B7-81D8-A5A34D11C92C"></a><h4 id="TGDBA-GUID-1D9458EB-7D82-47B7-81D8-A5A34D11C92C" class="sect4"><span class="enumeration_section">17.2.6</span>选择数据块大小</h4>
                  <div>
                     <p>一个<a id="d52149e1472" class="indexterm-anchor"></a><a id="d52149e1476" class="indexterm-anchor"></a>块大小为8 KB是大多数系统的最佳选择。但是，OLTP系统偶尔会使用较小的块大小，而DSS系统偶尔会使用较大的块大小。本节讨论选择数据库块大小以获得最佳性能时的注意事项，并包含以下主题：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="IO-configuration-and-design.html#GUID-5E1FB9C7-28D5-43E9-A7E2-CC83A9261458">读</a></p>
                        </li>
                        <li>
                           <p><a href="IO-configuration-and-design.html#GUID-9784925C-FCCF-435F-89ED-A504839B2658">写</a></p>
                        </li>
                        <li>
                           <p><a href="IO-configuration-and-design.html#GUID-B7D17496-7388-4F9F-BAC1-FA7188580C3B">块大小的优点和缺点</a></p>
                        </li>
                     </ul>
                     <div class="infoboxnote" id="GUID-1D9458EB-7D82-47B7-81D8-A5A34D11C92C__GUID-E7F5AD9F-D64F-4DEE-8153-7F455697B099">
                        <p class="notep1">注意：</p>
                        <p>由于可管理性问题，不鼓励在单个数据库实例中使用多个块大小。</p>
                     </div>
                  </div><a id="TGDBA94405"></a><div class="props_rev_3"><a id="GUID-5E1FB9C7-28D5-43E9-A7E2-CC83A9261458" name="GUID-5E1FB9C7-28D5-43E9-A7E2-CC83A9261458"></a><h5 id="TGDBA-GUID-5E1FB9C7-28D5-43E9-A7E2-CC83A9261458" class="sect5"><span class="enumeration_section">17.2.6.1</span>读取</h5>
                     <div>
                        <p>无论数据大小如何，目标都是最小化检索所需数据所需的读取次数。</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>如果行很小并且访问主要是随机的，则选择较小的块大小。</p>
                           </li>
                           <li>
                              <p>如果行很小并且访问主要是顺序的，则选择更大的块大小。</p>
                           </li>
                           <li>
                              <p>如果行很小并且访问是随机的和顺序的，那么选择更大的块大小可能是有效的。</p>
                           </li>
                           <li>
                              <p>如果行很大，例如包含大对象（LOB）数据的行，则选择更大的块大小。</p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="TGDBA94406"></a><div class="props_rev_3"><a id="GUID-9784925C-FCCF-435F-89ED-A504839B2658" name="GUID-9784925C-FCCF-435F-89ED-A504839B2658"></a><h5 id="TGDBA-GUID-9784925C-FCCF-435F-89ED-A504839B2658" class="sect5"><span class="enumeration_section">17.2.6.2</span>写入</h5>
                     <div>
                        <p>对于高并发OLTP系统，在使用更大的块大小时，请考虑<code class="codeph">INITRANS</code> ， <code class="codeph">MAXTRANS</code>和<code class="codeph">FREELISTS</code>适当值。这些参数会影响块中允许的更新并发程度。但是，使用自动分段空间管理时，无需指定<code class="codeph">FREELISTS</code>的值。
                        </p>
                        <p>如果您不确定要选择哪个块大小，那么对于处理大量事务的大多数系统，请尝试8 KB的数据库块大小。这代表了一个很好的妥协，通常是有效的。只有处理LOB数据的系统才需要超过8 KB。</p>
                        <div class="infoboxnotealso" id="GUID-9784925C-FCCF-435F-89ED-A504839B2658__GUID-A12D9314-19D5-4BB0-B1D4-08E22083E3C4">
                           <p class="notep1">也可以看看：</p>
                           <p>特定于操作系统的Oracle数据库安装文档，以获取有关平台上最小和最大块大小的信息</p>
                        </div>
                     </div>
                  </div><a id="TGDBA94408"></a><a id="TGDBA94407"></a><div class="props_rev_3"><a id="GUID-B7D17496-7388-4F9F-BAC1-FA7188580C3B" name="GUID-B7D17496-7388-4F9F-BAC1-FA7188580C3B"></a><h5 id="TGDBA-GUID-B7D17496-7388-4F9F-BAC1-FA7188580C3B" class="sect5"><span class="enumeration_section">17.2.6.3</span>块尺寸的优点和缺点</h5>
                     <div>
                        <p><a href="IO-configuration-and-design.html#GUID-B7D17496-7388-4F9F-BAC1-FA7188580C3B__g35558" title="该表列出了各种块尺寸的优缺点。">表17-3</a>列出了不同块大小的优缺点。
                        </p>
                        <div class="tblformalwide" id="GUID-B7D17496-7388-4F9F-BAC1-FA7188580C3B__g35558">
                           <p class="titleintable">表17-3块大小的优点和缺点</p>
                           <table cellpadding="4" cellspacing="0" class="FormalWide" title="块大小的优点和缺点" width="100%" border="1" summary="This table lists the advantages and disadvantages of various block sizesl." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="14%" id="d52149e1703">块大小</th>
                                    <th align="left" valign="bottom" width="37%" id="d52149e1706">好处</th>
                                    <th align="left" valign="bottom" width="48%" id="d52149e1709">缺点</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="14%" id="d52149e1714" headers="d52149e1703 ">
                                       <p>较小</p>
                                    </td>
                                    <td align="left" valign="top" width="37%" headers="d52149e1714 d52149e1706 ">
                                       <p>适用于具有大量随机访问权限的小行。</p>
                                       <p>减少块争用。</p>
                                    </td>
                                    <td align="left" valign="top" width="48%" headers="d52149e1714 d52149e1709 ">
                                       <p>由于元数据（即块头）而具有相对较大的空间开销。</p>
                                       <p>不推荐用于大行。每个块可能只存储了几行，或者更糟糕的是，如果单行不适合块，则行链接，</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="14%" id="d52149e1728" headers="d52149e1703 ">
                                       <p>较大的</p>
                                    </td>
                                    <td align="left" valign="top" width="37%" headers="d52149e1728 d52149e1706 ">
                                       <p>具有较低的开销，因此存储数据的空间更大。</p>
                                       <p>允许使用单个I / O将多行读入缓冲区高速缓存（取决于行大小和块大小）。</p>
                                       <p>适用于顺序访问或非常大的行（例如LOB数据）。</p>
                                    </td>
                                    <td align="left" valign="top" width="48%" headers="d52149e1728 d52149e1709 ">
                                       <p>如果您对小行进行随机访问并且块大小较大，则会在缓冲区高速缓存中浪费空间。例如，对于8 KB的块大小和50字节的行大小，在进行随机访问时，会在缓冲区高速缓存中浪费7,950个字节。</p>
                                       <p>不适用于OLTP环境中使用的索引块，因为它们会增加索引叶块上的块争用。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                  </div>
               </div>
            </div><a id="TGDBA94382"></a><div class="props_rev_3"><a id="GUID-08ED4172-9398-402E-B0C4-4CE88DE87603" name="GUID-08ED4172-9398-402E-B0C4-4CE88DE87603"></a><h3 id="TGDBA-GUID-08ED4172-9398-402E-B0C4-4CE88DE87603" class="sect3"><span class="enumeration_section">17.3</span>数据库内的I / O校准</h3>
               <div>
                  <p>Oracle数据库的I / O校准功能使您能够评估存储子系统的性能，并确定I / O性能问题是由数据库还是存储子系统引起的。与顺序发出I / O的其他外部I / O校准工具不同，Oracle数据库的I / O校准功能使用Oracle数据文件随机发出I / O来访问存储介质，从而产生更接近实际性能的结果。数据库。</p>
                  <p>本节介绍如何使用Oracle数据库的I / O校准功能，并包含以下主题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="IO-configuration-and-design.html#GUID-7B16A2D4-F360-4271-9F26-B4DCEC36FD89">I / O校准的先决条件</a></p>
                     </li>
                     <li>
                        <p><a href="IO-configuration-and-design.html#GUID-BCAF1968-C076-41FC-9900-3A8681A21419">运行I / O校准</a></p>
                     </li>
                  </ul>
                  <p>Oracle数据库还提供了Orion，一种I / O校准工具。Orion是一种用于预测Oracle数据库性能的工具，无需安装Oracle或创建数据库。与其他I / O校准工具不同，Oracle Orion专门用于使用与Oracle相同的I / O软件堆栈来模拟Oracle数据库I / O工作负载。Orion还可以模拟Oracle自动存储管理执行条带化的效果。有关更多信息，请参阅<span class="q">“ <a href="IO-configuration-and-design.html#GUID-355C99D8-29C1-421F-8B65-47A3C48324A2">使用Oracle Orion校准工具进行I / O校准</a> ”</span> 。
                  </p>
               </div><a id="TGDBA94383"></a><div class="props_rev_3"><a id="GUID-7B16A2D4-F360-4271-9F26-B4DCEC36FD89" name="GUID-7B16A2D4-F360-4271-9F26-B4DCEC36FD89"></a><h4 id="TGDBA-GUID-7B16A2D4-F360-4271-9F26-B4DCEC36FD89" class="sect4"><span class="enumeration_section">17.3.1</span> I / O校准的先决条件</h4>
                  <div>
                     <p>在运行I / O校准之前，请确保满足以下要求：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>必须为用户授予<code class="codeph">SYSDBA</code>权限</p>
                        </li>
                        <li>
                           <p><code class="codeph">timed_statistics</code>必须设置为<code class="codeph">TRUE</code></p>
                        </li>
                        <li>
                           <p>必须启用异步I / O.</p>
                           <p>使用文件系统时，可以通过将<code class="codeph">FILESYSTEMIO_OPTIONS</code>初始化参数设置为<code class="codeph">SETALL</code>来启用异步I / O.</p>
                        </li>
                        <li>
                           <p>通过运行以下查询，确保为数据文件启用了异步I / O：</p><pre class="oac_no_warn" dir="ltr">COL NAME FORMAT A50 SELECT NAME，ASYNCH_IO from V $ DATAFILE F，V $ IOSTAT_FILE I WHERE F.FILE＃= I.FILE_NO AND FILETYPE_NAME ='Data File';</pre></li>
                     </ul>
                     <p>另外，一次只能对数据库实例执行一次校准。</p>
                  </div>
               </div><a id="TGDBA94384"></a><div class="props_rev_3"><a id="GUID-BCAF1968-C076-41FC-9900-3A8681A21419" name="GUID-BCAF1968-C076-41FC-9900-3A8681A21419"></a><h4 id="TGDBA-GUID-BCAF1968-C076-41FC-9900-3A8681A21419" class="sect4"><span class="enumeration_section">17.3.2</span>运行I / O校准</h4>
                  <div>
                     <div class="section">
                        <p>使用<code class="codeph">DBMS_RESOURCE_MANAGER</code>访问Oracle数据库的I / O校准功能。 <code class="codeph">CALIBRATE_IO</code>程序。此过程向数据库文件发出I / O密集型只读工作负载（由1兆字节的随机I / O组成），以确定最大IOPS（每秒I / O请求数）和MBPS（兆字节I / O）每秒可以由存储子系统维持。
                        </p>
                        <p>I / O校准分两步进行：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>在使用<code class="codeph">DBMS_RESOURCE_MANAGER</code>进行I / O校准的第一步中。 <code class="codeph">CALIBRATE_IO</code>过程，该过程向所有数据库实例中的所有数据文件发出随机数据库块大小的读取，默认情况下为8 KB。此步骤在输出参数<code class="codeph">max_iops</code>中提供数据库可以维持的最大IOPS。值<code class="codeph">max_iops</code>是OLTP数据库的重要度量标准。输出参数<code class="codeph">actual_latency</code>提供此工作负载的平均延迟。当您需要特定的目标延迟时，可以使用输入参数<code class="codeph">max_latency</code>指定目标延迟（指定数据库块大小的IO请求的最大可容忍延迟（以毫秒为单位））。
                              </p>
                           </li>
                           <li>
                              <p>使用<code class="codeph">DBMS_RESOURCE_MANAGER</code>进行校准的第二步。 <code class="codeph">CALIBRATE_IO</code>过程随机发出，1 MB读取来自所有数据库实例的所有数据文件。第二步产生输出参数<code class="codeph">max_mbps</code> ，它指定数据库可以承受的最大I / O MBPS。此步骤为数据仓库提供了重要指标。
                              </p>
                           </li>
                        </ul>
                        <p>如果用户提供<code class="codeph">num_physical_disks</code>输入参数，则可以更有效地运行校准，该参数指定数据库存储系统中的近似物理磁盘数。
                        </p>
                        <p>由于运行I / O工作负载的开销，I / O校准应该仅在数据库空闲时或非高峰时间执行，以最小化I / O工作负载对正常数据库工作负载的影响。</p>
                        <p>要运行I / O校准并评估Oracle数据库使用的存储子系统的I / O功能，请使用<code class="codeph">DBMS_RESOURCE_MANAGER</code> 。 <code class="codeph">CALIBRATE_IO</code>程序：</p><pre class="oac_no_warn" dir="ltr">SET SERVEROUTPUT ON DECLARE lat INTEGER; iops INTEGER; mbps INTEGER; BEGIN  -  DBMS_RESOURCE_MANAGER.CALIBRATE_IO（&lt;DISKS&gt;，&lt;MAX_LATENCY&gt;，iops，mbps，lat）; DBMS_RESOURCE_MANAGER.CALIBRATE_IO（2,10，iops，mbps，lat）; DBMS_OUTPUT.PUT_LINE（'max_iops ='|| iops）; DBMS_OUTPUT.PUT_LINE（'latency ='|| lat）; dbms_output.put_line（'max_mbps ='|| mbps）;结束; /</pre><p>运行<code class="codeph">DBMS_RESOURCE_MANAGER</code> 。 <code class="codeph">CALIBRATE_IO</code>程序，请考虑以下事项：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>仅在使用相同存储子系统的数据库上一次运行一次校准。如果同时在使用相同存储子系统的单独数据库中运行校准，则校准将失败。</p>
                           </li>
                           <li>
                              <p>停顿数据库以最小化实例上的I / O.</p>
                           </li>
                           <li>
                              <p>对于Oracle Real Application Clusters（Oracle RAC）配置，请确保打开所有实例以跨节点校准存储子系统。</p>
                           </li>
                           <li>
                              <p>对于Oracle Real Application Clusters（Oracle RAC）数据库，将同时从所有实例生成工作负载。</p>
                           </li>
                           <li>
                              <p><code class="codeph">num_physical_disks</code>输入参数是可选的。通过将<code class="codeph">num_physical_disks</code>参数设置为数据库存储系统中的近似物理磁盘数，可以更快，更准确地进行校准。
                              </p>
                           </li>
                           <li>
                              <p>在某些情况下，允许异步I / O用于数据文件，但用于提交异步I / O的I / O子系统可能会最大化，并且I / O校准无法继续。在这种情况下，请参阅特定于端口的文档，以获取有关检查系统上异步I / O的最大限制的信息。</p>
                           </li>
                        </ul>
                        <p>在I / O校准过程中的任何时候，您都可以在<code class="codeph">V$IO_CALIBRATION_STATUS</code>视图中查询校准状态。成功完成I / O校准后，您可以在<code class="codeph">DBA_RSRC_IO_CALIBRATE</code>表中查看结果。
                        </p>
                        <div class="infoboxnotealso" id="GUID-BCAF1968-C076-41FC-9900-3A8681A21419__GUID-0F062801-0FC9-4373-A967-84798878492D">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>有关运行<code class="codeph">DBMS_RESOURCE_MANAGER</code>详细信息，请<a href="../arpls/DBMS_RESOURCE_MANAGER.html#ARPLS-GUID-90D0674E-6A10-41A9-ABBD-783F908502C3" target="_blank"><span class="italic">参见Oracle Database PL / SQL包和类型参考</span></a> 。 <code class="codeph">CALIBRATE_IO</code>程序</p>
                              </li>
                              <li>
                                 <p>有关<a href="../refrn/V-IO_CALIBRATION_STATUS.html#REFRN-GUID-E7D2C4C2-7EE6-4A7F-A4EE-01686C6CF576" target="_blank"><code class="codeph">V$IO_CALIBRATION_STATUS</code></a>视图和<a href="../refrn/DBA_RSRC_IO_CALIBRATE.html#REFRN-GUID-A833CB61-D035-4786-B971-F5AB67C499ED" target="_blank"><code class="codeph">DBA_RSRC_IO_CALIBRATE</code></a>表的更多信息，请<span class="italic">参见Oracle数据库参考</span></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="TGDBA95244"></a><div class="props_rev_3"><a id="GUID-355C99D8-29C1-421F-8B65-47A3C48324A2" name="GUID-355C99D8-29C1-421F-8B65-47A3C48324A2"></a><h3 id="TGDBA-GUID-355C99D8-29C1-421F-8B65-47A3C48324A2" class="sect3"><span class="enumeration_section">17.4</span>使用Oracle Orion校准工具进行I / O校准</h3>
               <div>
                  <p>本节介绍Oracle Orion校准工具，包括以下部分：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="IO-configuration-and-design.html#GUID-E523FA5B-C002-4528-B43E-58F84790DFEC">Oracle Orion校准工具简介</a></p>
                     </li>
                     <li>
                        <p><a href="IO-configuration-and-design.html#GUID-D0FC09D7-75EE-4FAB-9E52-43432D65C5A3">猎户座入门</a></p>
                     </li>
                     <li>
                        <p><a href="IO-configuration-and-design.html#GUID-E5209602-9ED6-4663-AF07-18A140A5D6EA">猎户座输入文件</a></p>
                     </li>
                     <li>
                        <p><a href="IO-configuration-and-design.html#GUID-580F3E45-D631-4630-AAE2-7B573F685BA5">猎户座参数</a></p>
                     </li>
                     <li>
                        <p><a href="IO-configuration-and-design.html#GUID-6FB98415-D623-4BCD-916E-663E84FE0882">猎户座输出文件</a></p>
                     </li>
                     <li>
                        <p><a href="IO-configuration-and-design.html#GUID-54E92BB0-B45B-45C4-8439-D873FC7E9DB8">猎户座故障排除</a></p>
                     </li>
                  </ul>
               </div><a id="TGDBA95223"></a><a id="TGDBA95222"></a><div class="props_rev_3"><a id="GUID-E523FA5B-C002-4528-B43E-58F84790DFEC" name="GUID-E523FA5B-C002-4528-B43E-58F84790DFEC"></a><h4 id="TGDBA-GUID-E523FA5B-C002-4528-B43E-58F84790DFEC" class="sect4"><span class="enumeration_section">17.4.1</span> Oracle Orion校准工具简介</h4>
                  <div>
                     <p>Oracle Orion是一种用于预测Oracle数据库性能的工具，无需安装Oracle或创建数据库。与其他I / O校准工具不同，Oracle Orion专门用于使用与Oracle相同的I / O软件堆栈来模拟Oracle数据库I / O工作负载。Orion还可以模拟Oracle自动存储管理执行条带化的效果。</p>
                     <p><a href="IO-configuration-and-design.html#GUID-E523FA5B-C002-4528-B43E-58F84790DFEC__BABCGCEJ" title="Orion支持I / O工作负载">表17-4</a>列出了Orion支持的I / O工作负载类型。
                     </p>
                     <p>对于<a href="IO-configuration-and-design.html#GUID-E523FA5B-C002-4528-B43E-58F84790DFEC__BABCGCEJ" title="Orion支持I / O工作负载">表17-4中</a>显示的每种类型的工作负载，Orion可以使用不同的I / O负载运行测试，以测量性能指标，如MBPS，IOPS和I / O延迟。负载以未完成的异步I / O数表示。在内部，对于每个这样的负载级别，Orion软件会在完成时尽快发出I / O请求，以将I / O负载维持在该级别。对于随机工作负载，使用大型或小型I / O，负载级别是未完成的I / O数。对于大型顺序工作负载，负载级别是顺序流数量和每个流的未完成I / O数量的组合。在一系列负载级别上测试给定工作负载可以帮助您了解负载对性能的影响。
                     </p>
                     <p>使用Orion时请注意以下事项：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>当存储空闲（或非常接近空闲）时运行Orion。Orion根据其生成的I / O负载校准存储的性能;如果非Orion I / O工作负载同时运行，Orion无法正确评估性能。</p>
                        </li>
                        <li>
                           <p>如果已在存储上创建数据库，则可以使用PL / SQL例程<code class="codeph">dbms_resource_manager.calibrate_io()</code>来校准存储。
                           </p>
                        </li>
                     </ul>
                     <div class="tblformalwide" id="GUID-E523FA5B-C002-4528-B43E-58F84790DFEC__BABCGCEJ">
                        <p class="titleintable">表17-4 Orion I / O工作负载支持</p>
                        <table cellpadding="4" cellspacing="0" class="FormalWide" title="Orion I / O工作负载支持" width="100%" border="1" summary="Orion supported I/O workloads" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="28%" id="d52149e2251">工作负荷</th>
                                 <th align="left" valign="bottom" width="72%" id="d52149e2254">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="28%" id="d52149e2259" headers="d52149e2251 ">
                                    <p>小随机I / O.</p>
                                 </td>
                                 <td align="left" valign="top" width="72%" headers="d52149e2259 d52149e2254 ">
                                    <p>OLTP应用程序通常生成随机读取和写入，其大小等于数据库块大小，通常为8 KB。此类应用程序通常关注每秒I / O（IOPS）的吞吐量以及每个请求的平均延迟（I / O周转时间）。这些参数转换为应用层的交易率和交易周转时间。</p>
                                    <p>Orion模拟随机I / O工作负载，与写入，给定I / O大小和给定数量的未完成I / O相比，具有给定百分比的读取。在此Orion工作负载模拟中，I / O分布在所有磁盘上。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="28%" id="d52149e2268" headers="d52149e2251 ">
                                    <p>大型顺序I / O.</p>
                                 </td>
                                 <td align="left" valign="top" width="72%" headers="d52149e2268 d52149e2254 ">
                                    <p>数据仓库应用程序，数据加载，备份和恢复生成由多个未完成的1 MB I / O组成的顺序读取和写入流。此类应用程序正在处理大量数据，例如整个表或整个数据库，它们通常关注以兆字节/秒（MBPS）为单位的总体数据吞吐量。</p>
                                    <p>Orion可以使用给定数量的未完成I / O模拟给定I / O大小的给定数量的顺序读取或写入流。在测试顺序流时，Orion可以选择模拟Oracle自动存储管理条带化。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="28%" id="d52149e2277" headers="d52149e2251 ">
                                    <p>大型随机I / O.</p>
                                 </td>
                                 <td align="left" valign="top" width="72%" headers="d52149e2277 d52149e2254 ">
                                    <p>顺序流通常与其他数据库流量同时访问磁盘。通过条带化，顺序流分布在许多磁盘上。因此，在磁盘级别，多个顺序流被视为随机1 MB I / O.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="28%" id="d52149e2284" headers="d52149e2251 ">
                                    <p>混合工作量</p>
                                 </td>
                                 <td align="left" valign="top" width="72%" headers="d52149e2284 d52149e2254 ">
                                    <p>Orion可以模拟两个同时工作负载：小型随机I / O和大型顺序I / O或大型随机I / O.此工作负载类型使您可以模拟，例如，8 KB随机读取和写入的OLTP工作负载，以及4个1 MB I / O的连续读取流的备份工作负载。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>每个Orion数据点都是对持续时间持续的小型和大型I / O负载的特定组合的测试。猎户座测试由多个数据点测试组成。这些数据点测试可以表示为二维矩阵。矩阵中的每一列代表具有相同的小I / O负载但具有不同的大I / O负载的数据点测试。每行代表具有相同大I / O负载但具有不同的小I / O负载的数据点测试。猎户座测试可以是单点，单行，单列或整个矩阵。</p>
                  </div><a id="TGDBA95224"></a><div class="props_rev_3"><a id="GUID-F236A5F3-1DA4-4D8D-9F92-5519969654D2" name="GUID-F236A5F3-1DA4-4D8D-9F92-5519969654D2"></a><h5 id="TGDBA-GUID-F236A5F3-1DA4-4D8D-9F92-5519969654D2" class="sect5"><span class="enumeration_section">17.4.1.1</span>猎户座测试目标</h5>
                     <div>
                        <p>您可以使用Orion来测试任何支持异步I / O的基于磁盘的字符设备。猎户座已经在以下类型的目标上进行了测试：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>DAS（直接连接）存储：您可以使用Orion测试本地主机上的一个或多个本地磁盘，卷或文件的性能。</p>
                           </li>
                           <li>
                              <p>SAN（存储区域网络）存储：Orion可以在任何主机上运行，该主机将全部或部分SAN存储映射为字符设备。设备可以对应于由存储阵列或单个磁盘或一个或多个整个阵列导出的条带或非条带卷。</p>
                           </li>
                           <li>
                              <p>NAS（网络附加存储）：您可以使用Orion测试NAS存储上的数据文件的性能。通常，NAS存储的性能结果取决于创建和更新数据文件的I / O模式。因此，您应该在运行Orion之前适当地初始化数据文件。</p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="TGDBA95225"></a><div class="props_rev_3"><a id="GUID-59E9F9C5-BC68-4523-AE5B-EA2B812659DB" name="GUID-59E9F9C5-BC68-4523-AE5B-EA2B812659DB"></a><h5 id="TGDBA-GUID-59E9F9C5-BC68-4523-AE5B-EA2B812659DB" class="sect5"><span class="enumeration_section">17.4.1.2</span> Oracle管理员的猎户座</h5>
                     <div>
                        <p>Oracle管理员可以使用Orion根据预期的工作负载评估和比较不同的存储阵列。Oracle管理员还可以使用Orion确定预期峰值工作负载的最佳网络连接数，存储阵列，存储阵列控制器和磁盘数。</p>
                     </div>
                  </div>
               </div><a id="TGDBA95226"></a><div class="props_rev_3"><a id="GUID-D0FC09D7-75EE-4FAB-9E52-43432D65C5A3" name="GUID-D0FC09D7-75EE-4FAB-9E52-43432D65C5A3"></a><h4 id="TGDBA-GUID-D0FC09D7-75EE-4FAB-9E52-43432D65C5A3" class="sect4"><span class="enumeration_section">17.4.2</span>猎户座入门</h4>
                  <div>
                     <div class="section">
                        <p>要开始使用Orion，请执行以下操作：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>选择要与Orion <code class="codeph">–testname</code>参数一起使用的测试名称。此参数指定Orion运行的唯一标识符。例如，使用测试名称“mytest”。有关更多信息，请参阅<span class="q">“ <a href="IO-configuration-and-design.html#GUID-580F3E45-D631-4630-AAE2-7B573F685BA5">Orion参数</a> ”</span> 。</span></li>
                        <li class="stepexpand"><span>根据测试名称创建Orion输入文件。例如，创建名为<code class="codeph">mytest.lun</code>的文件。在输入文件列表中要测试的原始卷或文件。每行添加一个卷名。不要在<code class="codeph">.lun</code>文件中添加注释或其他任何内容。</span><div>
                              <p>例如，Orion输入文件可能包含以下内容：</p><pre class="oac_no_warn" dir="ltr">/ dev / raw / raw1 / dev / raw / raw2 / dev / raw / raw3 / dev / raw / raw4 / dev / raw / raw5 / dev / raw / raw6 / dev / raw / raw7 / dev / raw / raw8</pre><p>有关更多信息，请参阅<span class="q">“ <a href="IO-configuration-and-design.html#GUID-E5209602-9ED6-4663-AF07-18A140A5D6EA">猎户座输入文件</a> ”</span> 。
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>验证是否可以使用命令<code class="codeph">dd</code>或其他等效文件查看实用程序访问输入文件中指定的所有卷，例如mytest.lun。例如，对于典型的完整性检查，请在Linux系统上尝试以下操作：</span><div><pre class="oac_no_warn" dir="ltr">$ dd if = / dev / raw / raw1 of = / dev / null bs = 32k count = 1024</pre><p>根据您的平台，您使用的文件查看实用程序及其界面可能不同。</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>验证您的平台是否已安装必要的库以执行异步I / O.Orion测试完全依赖于异步I / O.在Linux和Solaris上，库<code class="codeph">libaio</code>必须位于标准的<code class="codeph">lib</code>目录中，或者可以通过shell环境的库路径变量访问（通常是<code class="codeph">LD_LIBRARY_PATH</code>或<code class="codeph">LIBPATH</code> ，具体取决于您的shell）。Windows具有内置的异步I / O库，因此该问题不适用。</span></li>
                        <li class="stepexpand"><span>作为Orion的第一个测试，使用<code class="codeph">–run</code>和<code class="codeph">oltp</code>或<code class="codeph">dss</code>选项。如果数据库主要是OLTP，则使用<code class="codeph">–run oltp</code> 。如果数据库主要用于数据仓库或分析，则使用<code class="codeph">–run dss</code> 。</span><div>
                              <p>例如，使用以下命令使用默认输入文件名<code class="codeph">orion.lun</code>运行类似OLTP的工作负载：</p><pre class="oac_no_warn" dir="ltr">$ ./orion-run oltp</pre><p>Orion生成的I / O负载级别考虑了正在测试（或使用<code class="codeph">–num_disks</code>参数指定）的磁盘轴数。请记住，主轴的数量<span class="italic">可能</span>与输入文件中指定的卷数相关<span class="italic">也可能不</span>相关，具体取决于这些卷的映射方式。
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span><span class="q">“ <a href="IO-configuration-and-design.html#GUID-6FB98415-D623-4BCD-916E-663E84FE0882">猎户座输出文件</a> ”部分</span>提供了显示猎户座输出文件的示例结果。使用示例文件<code class="codeph">mytest_summary.txt</code>是验证输入参数和分析输出的良好起点。示例文件<code class="codeph">mytest_*.csv</code>包含多个I / O性能度量的逗号分隔值。</span></li>
                     </ol>
                  </div>
               </div><a id="TGDBA95227"></a><div class="props_rev_3"><a id="GUID-E5209602-9ED6-4663-AF07-18A140A5D6EA" name="GUID-E5209602-9ED6-4663-AF07-18A140A5D6EA"></a><h4 id="TGDBA-GUID-E5209602-9ED6-4663-AF07-18A140A5D6EA" class="sect4"><span class="enumeration_section">17.4.3</span>猎户座输入文件</h4>
                  <div>
                     <p>指定Orion <code class="codeph">–testname</code> &lt; <span class="italic">testname</span> &gt;参数时，将为Orion输入和输出文件名设置测试名称前缀。<code class="codeph">–testname</code>选项的默认值为“orion”。
                     </p>
                     <p>猎户座输入文件&lt; <span class="italic">testname</span> &gt;。 <code class="codeph">lun</code>应该包含一个以回车<code class="codeph">lun</code>分隔的LUN列表。
                     </p>
                  </div>
               </div><a id="TGDBA95228"></a><div class="props_rev_3"><a id="GUID-580F3E45-D631-4630-AAE2-7B573F685BA5" name="GUID-580F3E45-D631-4630-AAE2-7B573F685BA5"></a><h4 id="TGDBA-GUID-580F3E45-D631-4630-AAE2-7B573F685BA5" class="sect4"><span class="enumeration_section">17.4.4</span>猎户座参数</h4>
                  <div>
                     <p><a id="d52149e2682" class="indexterm-anchor"></a><a id="d52149e2686" class="indexterm-anchor"></a>使用Orion命令参数指定I / O工作负载类型并指定其他Orion选项。
                     </p>
                  </div><a id="TGDBA95230"></a><a id="TGDBA95229"></a><div class="props_rev_3"><a id="GUID-887193BA-64CF-4ECA-AB58-4FBE0937D52F" name="GUID-887193BA-64CF-4ECA-AB58-4FBE0937D52F"></a><h5 id="TGDBA-GUID-887193BA-64CF-4ECA-AB58-4FBE0937D52F" class="sect5"><span class="enumeration_section">17.4.4.1</span>猎户座必需参数</h5>
                     <div>
                        <div class="section">
                           <p>Orion命令需要<code class="codeph">–run</code>参数。<a href="IO-configuration-and-design.html#GUID-887193BA-64CF-4ECA-AB58-4FBE0937D52F__BABCDGFJ" title="所需Orion命令行选项的摘要">表17-5说明</a>了<code class="codeph">–run</code>参数。
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="tblformalwide" id="GUID-887193BA-64CF-4ECA-AB58-4FBE0937D52F__BABCDGFJ">
                           <p class="titleintable">表17-5所需的猎户座参数</p>
                           <table cellpadding="4" cellspacing="0" class="FormalWide" title="必需的猎户座参数" width="100%" border="1" summary="Summary of required Orion command line options" frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="10%" id="d52149e2766">选项</th>
                                    <th align="left" valign="bottom" width="79%" id="d52149e2769">描述</th>
                                    <th align="left" valign="bottom" width="11%" id="d52149e2772">默认</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="10%" id="d52149e2777" headers="d52149e2766 ">
                                       <p><code class="codeph">–run</code> <span class="italic">级别</span></p>
                                    </td>
                                    <td align="left" valign="top" width="79%" headers="d52149e2777 d52149e2769 ">
                                       <p>将测试运行级别指定为<span class="italic">级别</span> 。此选项提供运行级别，并允许在高级别指定复杂命令。如果未设置为<code class="codeph">–run advanced</code> ，则除了<code class="codeph">–cache_size</code>或<code class="codeph">–verbose</code>之外，设置任何其他参数<code class="codeph">–cache_size</code>导致错误。
                                       </p>
                                       <p>除<span class="bold">高级</span>外，所有<code class="codeph">–run</code> <span class="italic">级别</span>设置都使用预先指定的一组参数。
                                       </p>
                                       <p><span class="italic">级别</span>必须是以下之一：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><span class="bold">OLTP</span></p>
                                             <p>在增加负载的情况下测试随机小（8K）I / O以确定最大IOPS。</p>
                                             <p>此参数对应于以下Orion调用：</p><pre class="oac_no_warn" dir="ltr">％&gt; ./orion -run advanced \ -num_large 0 -size_small 8 -type rand \ -simulate concat -write 0 -duration 60 \ -matrix row</pre></li>
                                          <li>
                                             <p><span class="bold">DSS</span></p>
                                             <p>在增加负载的情况下测试随机大（1M）I / O以确定最大吞吐量。</p>
                                             <p>此参数对应于以下Orion调用：</p><pre class="oac_no_warn" dir="ltr">％&gt; ./orion -run advanced \ -num_small 0 -size_large 1024 -type rand \ -simulate concat -write 0 -duration 60 \ -matrix column</pre></li>
                                          <li>
                                             <p><span class="bold">简单</span></p>
                                             <p>为一系列负载级别生成小型随机I / O和大型随机I / O工作负载。在此选项中，小型和大型I / O是单独测试的。可以在此运行级别指定的唯一可选参数是<code class="codeph">–cache_size</code>和<code class="codeph">–verbose</code> 。
                                             </p>
                                             <p>此参数对应于以下Orion调用：</p><pre class="oac_no_warn" dir="ltr">％&gt; ./orion -run advanced \ -size_small 8 -size_large 1024 -type rand \ -simulate concat -write 0 -duration 60 \ -matrix basic</pre></li>
                                          <li>
                                             <p><span class="bold">正常</span></p>
                                             <p>与<code class="codeph">simple</code>相同，但也为一系列负载生成小型随机I / O和大型随机I / O工作负载的组合。可以在此运行级别指定的唯一可选参数是<code class="codeph">–cache_size</code>和<code class="codeph">–verbose</code> 。
                                             </p>
                                             <p>此参数对应于以下Orion调用：</p><pre class="oac_no_warn" dir="ltr">％&gt; ./orion -run advanced \ -size_small 8 -size_large 1024 -type rand \ -simulate concat -write 0 -duration 60 \ -matrix detailed</pre></li>
                                          <li>
                                             <p><span class="bold">高级</span></p>
                                             <p>使用可选参数测试您指定的工作负载。可以在此运行级别指定任何可选参数。</p>
                                          </li>
                                       </ul>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d52149e2777 d52149e2772 ">
                                       <p><code class="codeph">正常</code></p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                  </div><a id="TGDBA95232"></a><a id="TGDBA95231"></a><div class="props_rev_3"><a id="GUID-AABADCBD-D209-4099-8853-4CF79803DD49" name="GUID-AABADCBD-D209-4099-8853-4CF79803DD49"></a><h5 id="TGDBA-GUID-AABADCBD-D209-4099-8853-4CF79803DD49" class="sect5"><span class="enumeration_section">17.4.4.2</span>猎户座可选参数</h5>
                     <div>
                        <div class="tblformalwide" id="GUID-AABADCBD-D209-4099-8853-4CF79803DD49__GUID-0D94CD8B-67A9-4DBE-95DB-79B3D3353451">
                           <p class="titleintable">表17-6可选的Orion参数</p>
                           <table cellpadding="4" cellspacing="0" class="FormalWide" title="可选的猎户座参数" width="100%" border="1" summary="Orion optional input parameters" frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="19%" id="d52149e2942">选项</th>
                                    <th align="left" valign="bottom" width="57%" id="d52149e2945">描述</th>
                                    <th align="left" valign="bottom" width="24%" id="d52149e2948">默认</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d52149e2953" headers="d52149e2942 ">
                                       <p><code class="codeph">–cache_size</code> <span class="italic">num</span></p>
                                    </td>
                                    <td align="left" valign="top" width="57%" headers="d52149e2953 d52149e2945 ">
                                       <p>存储阵列的读取或写入高速缓存的大小（以MB为单位）。对于大型顺序I / O工作负载，Orion通过在每个数据点之前执行随机大I / O来加热缓存。Orion使用缓存大小来确定此缓存预热操作的持续时间。如果设置为0，请不要执行缓存预热。</p>
                                       <p>除非此选项设置为0，否则Orion会在每个大型顺序数据点之前发出几个未测量的随机I / O.这些I / O使用随机数据填充存储阵列的高速缓存（如果有），以便来自一个数据点的I / O不会导致下一个数据点的高速缓存命中。读取测试之前是垃圾读取，写入测试之前是垃圾写入。如果指定，直到I / O的<span class="italic">NUM</span> MB的已读或写这个“高速缓存预热”执行。
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="24%" headers="d52149e2953 d52149e2948 ">
                                       <p>默认值：</p>
                                       <p>如果未指定，则在默认时间（两分钟）内发生加温。也就是说，在每个数据点之前发出两分钟未测量的随机I / O.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d52149e2974" headers="d52149e2942 ">
                                       <p><code class="codeph">–duration</code> <span class="italic">NUM_SECONDS</span></p>
                                    </td>
                                    <td align="left" valign="top" width="57%" headers="d52149e2974 d52149e2945 ">
                                       <p>将持续时间设置为以秒为单位测试每个数据点的值<span class="italic">num_seconds</span> 。
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="24%" headers="d52149e2974 d52149e2948 ">
                                       <p>默认值： <code class="codeph">60</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d52149e2993" headers="d52149e2942 ">
                                       <p><code class="codeph">-救命</code></p>
                                    </td>
                                    <td align="left" valign="top" width="57%" headers="d52149e2993 d52149e2945 ">
                                       <p>打印猎户座帮助信息。使用帮助集忽略所有其他选项。</p>
                                    </td>
                                    <td align="left" valign="top" width="24%" headers="d52149e2993 d52149e2948 "> </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d52149e3002" headers="d52149e2942 ">
                                       <p><code class="codeph">–matrix</code> <span class="italic">类型</span></p>
                                    </td>
                                    <td align="left" valign="top" width="57%" headers="d52149e3002 d52149e2945 ">
                                       <p>要在一系列负载上进行测试的混合工作负载的类型。猎户座测试由多个数据点测试组成。数据点测试可以表示为二维矩阵。</p>
                                       <p>矩阵中的每一列代表具有相同的小I / O负载但具有不同的大I / O负载的数据点测试。每行代表具有相同大I / O负载但具有不同的小I / O负载的数据点测试。猎户座测试可以是单点，单行，单列或整个矩阵，具体取决于矩阵<span class="italic">类型</span> ：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><span class="bold">基本：</span>没有混合工作量。小随机和大随机/顺序工作负载单独测试。仅测试小型I / O，然后仅测试大型I / O.
                                             </p>
                                          </li>
                                          <li>
                                             <p><span class="bold">详细信息：</span>小型随机和大型随机/顺序工作负载经过组合测试。测试整个矩阵。
                                             </p>
                                          </li>
                                          <li>
                                             <p><span class="bold">point：</span>具有<span class="italic">S个</span>优秀小型随机I / O和<span class="italic">L个</span>优秀大型随机I / O或顺序流的单个数据点。<span class="italic">S</span>由<code class="codeph">–num_small</code>参数设置。<span class="italic">L</span>由<code class="codeph">–num_large</code>参数设置。使用<code class="codeph">–num_small</code>小I / O， <code class="codeph">–num_large</code>大I / O进行测试。
                                             </p>
                                          </li>
                                          <li>
                                             <p><span class="bold">col：</span>仅限大型随机/顺序工作负载。使用<code class="codeph">–num_small</code>小I / O测试变化的大I / O负载。
                                             </p>
                                          </li>
                                          <li>
                                             <p><span class="bold">行：</span>仅限小型随机工作负载。使用<code class="codeph">–num_large</code>大I / O测试变化的小I / O负载。
                                             </p>
                                          </li>
                                          <li>
                                             <p><span class="bold">max：</span>与详细信息相同，但仅测试由<code class="codeph">–num_small</code>和<code class="codeph">–num_large</code>参数指定的最大负载下的工作负载。测试不同的负载，直到<code class="codeph">–num_small</code>和<code class="codeph">–num_large</code>限制。
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                    <td align="left" valign="top" width="24%" headers="d52149e3002 d52149e2948 ">
                                       <p>默认值： <code class="codeph">basic</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d52149e3097" headers="d52149e2942 ">
                                       <p>- <code class="codeph">num_disks</code> <span class="italic">值</span></p>
                                    </td>
                                    <td align="left" valign="top" width="57%" headers="d52149e3097 d52149e2945 ">
                                       <p>指定测试使用的物理磁盘数。用于生成负载范围。指定磁盘数（物理轴）。此<span class="italic">数值</span>用于衡量Orion应测试的负载范围。增加此参数会导致Orion使用较重的I / O负载。
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="24%" headers="d52149e3097 d52149e2948 ">
                                       <p>默认值：&lt; <span class="italic">testname</span> &gt; .lun中的LUN数。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d52149e3118" headers="d52149e2942 ">
                                       <p><code class="codeph">–num_large</code> <span class="italic">值</span></p>
                                    </td>
                                    <td align="left" valign="top" width="57%" headers="d52149e3118 d52149e2945 ">
                                       <p>控制大I / O负载。</p>
                                       <p>请注意，此选项仅在将<code class="codeph">–matrix</code>指定为： <code class="codeph">row</code> ， <code class="codeph">point</code>或<code class="codeph">max</code> 。
                                       </p>
                                       <p>当<code class="codeph">–type</code>选项设置为<code class="codeph">rand</code> ，参数参数<span class="italic">值</span>指定未完成的大I / O的数量。
                                       </p>
                                       <p>当<code class="codeph">–type</code>选项设置为<code class="codeph">seq</code> ，参数参数<span class="italic">值</span>指定顺序I / O流的数量。
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="24%" headers="d52149e3118 d52149e2948 ">
                                       <p>默认值：无默认值</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d52149e3168" headers="d52149e2942 ">
                                       <p><code class="codeph">–num_smal</code> l</p>
                                    </td>
                                    <td align="left" valign="top" width="57%" headers="d52149e3168 d52149e2945 ">
                                       <p>指定Small Random I / O工作负载的最大未完成I / O数。</p>
                                       <p>注意：这仅在将<code class="codeph">–matrix</code>指定为<code class="codeph">col</code> ， <code class="codeph">point</code>或<code class="codeph">max</code> 。
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="24%" headers="d52149e3168 d52149e2948 ">
                                       <p>默认值：无默认值</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d52149e3194" headers="d52149e2942 ">
                                       <p>- <code class="codeph">num_streamIO</code> <span class="italic">num</span></p>
                                    </td>
                                    <td align="left" valign="top" width="57%" headers="d52149e3194 d52149e2945 ">
                                       <p>将每个流的并发I / O数指定为<span class="italic">num</span> 。
                                       </p>
                                       <p>注意：仅当<code class="codeph">–type</code>为<code class="codeph">seq</code>时才使用此参数。
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="24%" headers="d52149e3194 d52149e2948 ">
                                       <p>默认值： <code class="codeph">4</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d52149e3222" headers="d52149e2942 ">
                                       <p><code class="codeph">–simulate</code> <span class="italic">类型</span></p>
                                    </td>
                                    <td align="left" valign="top" width="57%" headers="d52149e3222 d52149e2945 ">
                                       <p>用于模拟大型顺序I / O工作负载的数据布局。Orion测试通过以下列方式之一组合指定LUN而形成的虚拟LUN。<span class="italic">类型</span>是一个：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><span class="bold">concat：</span>通过串行链接指定的LUN来模拟虚拟卷。对此虚拟卷的顺序测试将从某个点到每个LUN的末尾，然后是下一个LUN的开始到结束，依此类推。
                                             </p>
                                          </li>
                                          <li>
                                             <p><span class="bold">raid0：</span>通过在指定的LUN上进行条带化来模拟虚拟卷。每个顺序流使用raid0条带化在所有LUN上发出I / O.默认情况下，条带深度为1M，以匹配Oracle自动存储管理条带深度，并且可以使用<code class="codeph">–stripe</code>参数进行更改。
                                             </p>
                                          </li>
                                       </ul>
                                       <p>I / O的偏移量确定如下：</p>
                                       <p>对于小型随机和大型随机工作负载：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p>LUN连接成单个虚拟LUN（VLUN），并在VLUN中选择随机偏移。</p>
                                          </li>
                                       </ul>
                                       <p>对于大型顺序工作负载：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p>使用条带化（ <code class="codeph">–simulate</code> <code class="codeph">raid0</code> ）。LUN用于创建单个条带化VLUN。在没有并发小型随机工作负载的情况下，顺序流从条带化VLUN内的固定偏移开始。对于<span class="italic">n个</span>流，流<span class="italic">i</span>以偏移VLUNsize *（ <span class="italic">i</span> + 1）/（ <span class="italic">n</span> + 1）开始，除非<span class="italic">n</span>为1，在这种情况下，单个流从偏移0开始。对于并发的小随机工作负载，流在条带化VLUN内的随机偏移处开始。</p>
                                          </li>
                                          <li>
                                             <p>没有条纹（ <code class="codeph">–simulate</code> <code class="codeph">CONCAT</code> ）。LUN连接成一个VLUN。流在单个VLUN内以随机偏移开始。</p>
                                          </li>
                                       </ul>
                                       <p>通常仅在<code class="codeph">–type</code>为<code class="codeph">seq</code>使用此参数。
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="24%" headers="d52149e3222 d52149e2948 ">
                                       <p>默认值： <code class="codeph">concat</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d52149e3308" headers="d52149e2942 ">
                                       <p><code class="codeph">–size_large</code> <span class="italic">num</span></p>
                                    </td>
                                    <td align="left" valign="top" width="57%" headers="d52149e3308 d52149e2945 ">
                                       <p>指定<span class="italic">num，</span>则I / O的（在KB）的尺寸为大型随机或顺序I / O工作负载。
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="24%" headers="d52149e3308 d52149e2948 ">
                                       <p>默认值： <code class="codeph">1024</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d52149e3327" headers="d52149e2942 ">
                                       <p><code class="codeph">–size_small</code> <span class="italic">num</span></p>
                                    </td>
                                    <td align="left" valign="top" width="57%" headers="d52149e3327 d52149e2945 ">
                                       <p>指定Small Random I / O工作负载的数量，I / O大小（以KB为单位）。</p>
                                    </td>
                                    <td align="left" valign="top" width="24%" headers="d52149e3327 d52149e2948 ">
                                       <p>默认值： <code class="codeph">8</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d52149e3344" headers="d52149e2942 ">
                                       <p><code class="codeph">–storax</code> <span class="italic">类型</span></p>
                                    </td>
                                    <td align="left" valign="top" width="57%" headers="d52149e3344 d52149e2945 ">
                                       <p>用于测试I / O工作负载的API。</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><span class="bold">skgfr：</span>使用操作系统I / O层。
                                             </p>
                                          </li>
                                          <li>
                                             <p><span class="bold">oss：</span>在Exadata机器中使用OSS API进行I / O与Cell服务器的连接。
                                             </p>
                                          </li>
                                          <li>
                                             <p><span class="bold">asmlib：</span>使用基于ASMLIB磁盘设备的I / O存储API。</p>
                                          </li>
                                          <li>
                                             <p><span class="bold">odmlib：</span>使用基于直接NFS存储的API进行I / O.</p>
                                          </li>
                                       </ul>
                                    </td>
                                    <td align="left" valign="top" width="24%" headers="d52149e3344 d52149e2948 ">
                                       <p>默认值： <code class="codeph">skgfr</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d52149e3381" headers="d52149e2942 ">
                                       <p><code class="codeph">–testname</code> <span class="italic">tname</span></p>
                                    </td>
                                    <td align="left" valign="top" width="57%" headers="d52149e3381 d52149e2945 ">
                                       <p>指定测试运行的<span class="italic">tname</span>标识符。指定后，包含LUN磁盘或文件名的输入文件必须命名为&lt; <span class="italic">tname</span> &gt; .lun。
                                       </p>
                                       <p>输出文件以前缀&lt; <span class="italic">tname</span> &gt; _命名。
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="24%" headers="d52149e3381 d52149e2948 ">
                                       <p>默认值： <code class="codeph">orion</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d52149e3408" headers="d52149e2942 ">
                                       <p><code class="codeph">–type</code> [ <code class="codeph">rand</code> | <code class="codeph">seq</code> ]</p>
                                    </td>
                                    <td align="left" valign="top" width="57%" headers="d52149e3408 d52149e2945 ">
                                       <p>大I / O工作负载的类型。</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><span class="bold">rand</span> ：随机分布的大I / O.
                                             </p>
                                          </li>
                                          <li>
                                             <p><span class="bold">seq</span> ：大I / O的顺序流。
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                    <td align="left" valign="top" width="24%" headers="d52149e3408 d52149e2948 ">
                                       <p>默认值： <code class="codeph">rand</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d52149e3439" headers="d52149e2942 ">
                                       <p><code class="codeph">-verbose</code></p>
                                    </td>
                                    <td align="left" valign="top" width="57%" headers="d52149e3439 d52149e2945 ">
                                       <p>将状态和跟踪信息打印到标准输出。</p>
                                    </td>
                                    <td align="left" valign="top" width="24%" headers="d52149e3439 d52149e2948 ">
                                       <p>默认值：未设置选项</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d52149e3450" headers="d52149e2942 ">
                                       <p><code class="codeph">–write</code> <span class="italic">num_write</span></p>
                                    </td>
                                    <td align="left" valign="top" width="57%" headers="d52149e3450 d52149e2945 ">
                                       <p>指定写入<span class="italic">num_write</span>的I / O百分比;其余的都是读。
                                       </p>
                                       <p>此参数适用于大型和小型I / O工作负载。对于大型顺序I / O，每个流都是只读或只写;该参数指定只写流的百分比。写入磁盘的数据是垃圾，与磁盘上的任何现有数据无关。</p>
                                       <p><span class="bold">警告</span> ：写入测试会删除指定LUN上的所有数据。</p>
                                    </td>
                                    <td align="left" valign="top" width="24%" headers="d52149e3450 d52149e2948 ">
                                       <p>默认值： <code class="codeph">0</code></p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="section">
                           <div class="infoboxnote" id="GUID-AABADCBD-D209-4099-8853-4CF79803DD49__GUID-12632449-21E8-4856-BE44-5EE917BB4C88">
                              <p class="notep1">注意：</p>
                              <p>写测试会删除指定LUN上的所有数据。</p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="TGDBA95233"></a><div class="props_rev_3"><a id="GUID-FF860BB7-BD74-4538-A37B-E1C8B96080F1" name="GUID-FF860BB7-BD74-4538-A37B-E1C8B96080F1"></a><h5 id="TGDBA-GUID-FF860BB7-BD74-4538-A37B-E1C8B96080F1" class="sect5"><span class="enumeration_section">17.4.4.3</span>猎户座命令行示例</h5>
                     <div>
                        <div class="section">
                           <p>以下提供了针对不同类型的I / O工作负载的示例Orion命令：</p>
                           <ol>
                              <li>
                                 <p>要评估OLTP数据库的存储：</p><pre class="oac_no_warn" dir="ltr">-run oltp</pre></li>
                              <li>
                                 <p>要评估数据仓库的存储：</p><pre class="oac_no_warn" dir="ltr">-run dss</pre></li>
                              <li>
                                 <p>对于一组基本数据：</p><pre class="oac_no_warn" dir="ltr">- 正常</pre></li>
                              <li>
                                 <p>要使用只读，小型和大型随机I / O工作负载来了解存储性能，请执行以下操作：</p><pre class="oac_no_warn" dir="ltr">$ orion -run简单</pre></li>
                              <li>
                                 <p>要通过混合的小型和大型随机I / O工作负载来了解您的存储性能：</p><pre class="oac_no_warn" dir="ltr">$ orion -run normal</pre></li>
                              <li>
                                 <p>要生成32KB和1MB读取到随机位置的组合：</p><pre class="oac_no_warn" dir="ltr">$ orion -run advanced -size_small 32 \ -size_large 1024 -type rand -matrix详细</pre></li>
                              <li>
                                 <p>要生成多个连续的1 MB写入流，请模拟1 MB RAID-0条带：</p><pre class="oac_no_warn" dir="ltr">$ orion -run advanced -simulate raid0 \ -stripe 1024 -write 100-type seq -matrix col -num_small 0</pre></li>
                              <li>
                                 <p>要生成32 KB和1 MB读取到随机位置的组合：</p><pre class="oac_no_warn" dir="ltr">-run advanced -size_small 32 -size_large 1024 -type rand -matrix详细</pre></li>
                              <li>
                                 <p>要生成多个连续的1 MB写入流，请模拟RAID0条带化：</p><pre class="oac_no_warn" dir="ltr">-run advanced -simulate raid0 -write 100-type seq -matrix col -num_small 0</pre></li>
                           </ol>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div><a id="TGDBA95235"></a><a id="TGDBA95234"></a><div class="props_rev_3"><a id="GUID-6FB98415-D623-4BCD-916E-663E84FE0882" name="GUID-6FB98415-D623-4BCD-916E-663E84FE0882"></a><h4 id="TGDBA-GUID-6FB98415-D623-4BCD-916E-663E84FE0882" class="sect4"><span class="enumeration_section">17.4.5</span>猎户座输出文件</h4>
                  <div>
                     <p>测试运行的输出文件以&lt; <span class="italic">testname</span> &gt; _ &lt; <span class="italic">date</span> &gt;为前缀，其中<span class="italic">date</span>为<span class="italic">yyyymmdd_hhmm</span> 。
                     </p>
                     <p><a href="IO-configuration-and-design.html#GUID-6FB98415-D623-4BCD-916E-663E84FE0882__BABHBEJC" title="猎户座生成的输出文件">表17-7</a>列出了Orion输出文件。
                     </p>
                     <div class="tblformalwide" id="GUID-6FB98415-D623-4BCD-916E-663E84FE0882__BABHBEJC">
                        <p class="titleintable">表17-7 Orion生成的输出文件</p>
                        <table cellpadding="4" cellspacing="0" class="FormalWide" title="猎户座生成的输出文件" width="100%" border="1" summary="Orion generated output files" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d52149e3657">输出文件</th>
                                 <th align="left" valign="bottom" width="69%" id="d52149e3660">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d52149e3665" headers="d52149e3657 ">
                                    <p>&lt; <span class="italic">testname</span> &gt; _ &lt; <span class="italic">date</span> &gt; _hist.csv</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d52149e3665 d52149e3660 ">
                                    <p>I / O延迟的直方图。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d52149e3678" headers="d52149e3657 ">
                                    <p>&lt; <span class="italic">testname</span> &gt; _ &lt; <span class="italic">date</span> &gt; _iops.csv</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d52149e3678 d52149e3660 ">
                                    <p>IOPS中小I / O的性能结果。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d52149e3691" headers="d52149e3657 ">
                                    <p>&lt; <span class="italic">testname</span> &gt; _ &lt; <span class="italic">date</span> &gt; _lat.csv</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d52149e3691 d52149e3660 ">
                                    <p>小I / O的延迟（以微秒为单位）。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d52149e3704" headers="d52149e3657 ">
                                    <p>&lt; <span class="italic">testname</span> &gt; _ &lt; <span class="italic">date</span> &gt; _mbps.csv</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d52149e3704 d52149e3660 ">
                                    <p>MBPS中大I / O的性能结果。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d52149e3717" headers="d52149e3657 ">
                                    <p>&lt; <span class="italic">testname</span> &gt; _ &lt; <span class="italic">date</span> &gt; _summary.txt</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d52149e3717 d52149e3660 ">
                                    <p>输入参数摘要，以及最小的I / O延迟（以秒为单位），最大MBPS和观察到的最大IOPS。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d52149e3730" headers="d52149e3657 ">
                                    <p>&lt; <span class="italic">testname</span> &gt; _ &lt; <span class="italic">date</span> &gt; _trace.txt</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d52149e3730 d52149e3660 ">
                                    <p>扩展的未处理输出。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="infoboxnote" id="GUID-6FB98415-D623-4BCD-916E-663E84FE0882__GUID-E9BFEC2A-B79D-4DB1-BB21-C74987009CDC">
                        <p class="notep1">注意：</p>
                        <p>如果您正在执行写入测试，请准备丢失存储在LUN上的任何数据。</p>
                     </div>
                  </div><a id="TGDBA95238"></a><a id="TGDBA95240"></a><a id="TGDBA95242"></a><a id="TGDBA95236"></a><div class="props_rev_3"><a id="GUID-606D7B6A-391B-4D39-9B6E-C9146D3D47BA" name="GUID-606D7B6A-391B-4D39-9B6E-C9146D3D47BA"></a><h5 id="TGDBA-GUID-606D7B6A-391B-4D39-9B6E-C9146D3D47BA" class="sect5"><span class="enumeration_section">17.4.5.1</span>猎户座样本输出文件</h5>
                     <div>
                        <p>Orion创建了几个输出文件，如<a href="IO-configuration-and-design.html#GUID-6FB98415-D623-4BCD-916E-663E84FE0882__BABHBEJC" title="猎户座生成的输出文件">表17-7中所示</a> 。对于“ <span class="q"><a href="IO-configuration-and-design.html#GUID-D0FC09D7-75EE-4FAB-9E52-43432D65C5A3">猎户座入门</a> ”</span>部分中显示的示例“mytest <span class="q">”</span> ，输出文件为：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="bold">mytest_summary.txt</span> ：此文件包含：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>输入参数</p>
                                 </li>
                                 <li>
                                    <p>观察到大型随机/顺序工作负载的最大吞吐量</p>
                                 </li>
                                 <li>
                                    <p>小随机工作负载观察到的最大I / O速率</p>
                                 </li>
                                 <li>
                                    <p>观察到小型随机工作负载的最小延迟</p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p><span class="bold">mytest_mbps.csv：</span>逗号分隔的值文件，包含大型随机/顺序工作负载的数据传输速率（MBPS）结果。在一般情况下，此文件和所有其他CSV文件包含二维表。表中的每一行对应一个大的I / O负载级别，每列对应一个特定的小I / O负载级别。因此，列标题是未完成的小I / O的数量，行标题是未完成的大I / O数（用于随机大I / O测试）或顺序流的数量（用于顺序大I / O测试） ）。
                              </p>
                              <p>以下示例显示了“mytest”的Orion MBPS输出CSV文件的前几个数据点。简单的mytest命令行不测试大小I / O的组合。因此，MBPS文件只有一列对应于0个优秀的小I / O.在此示例中，在8个未完成的大读取和不小I / O的负载级别，报告数据指示吞吐量为103.06 MBPS。</p><pre class="oac_no_warn" dir="ltr">大/小<span class="bold">，0</span> <span class="bold">1，19.18</span> 2 <span class="bold">37.59</span> 4 <span class="bold">65.53</span> <span class="bold">6，87.03</span> 8 <span class="bold">103.06</span> 10 <span class="bold">109.67。</span> 。 。 。 。。 。 。 。 。</pre><p>下图显示了在不同的大I / O负载水平下测量的示例数据传输速率。可以通过将<code class="codeph">mytest_mbps.csv</code>加载到电子表格并绘制数据点图表来生成此图表。猎户座不会直接生成此类图表。x轴对应于突出的大读数的数量，y轴对应于观察到的吞吐量。
                              </p>
                              <p>该图显示了典型的存储系统行为。随着未完成的I / O请求数量的增加，吞吐量也会增加。但是，在某一点上，吞吐量水平稳定，表明存储系统的最大吞吐量值。</p>
                              <div class="figure" id="GUID-606D7B6A-391B-4D39-9B6E-C9146D3D47BA__BABHCHCF">
                                 <p class="titleinfigure">图17-2 I / O负载级别示例</p><img src="img/figure_172_sample_io_load_levels.gif" alt="下面是图17-2的描述" title="下面是图17-2的描述" longdesc="img_text/figure_172_sample_io_load_levels.html"><br><a href="img_text/figure_172_sample_io_load_levels.html">“图17-2样本I / O负载级别”的说明</a></div>
                              <!-- class="figure" -->
                           </li>
                           <li>
                              <p><span class="bold">mytest_iops.csv</span> ：逗号分隔的值文件，包含Small Random工作负载的I / O吞吐量（以IOPS为单位）结果。与MBPS文件中一样，列标题是未完成的小I / O的数量，行标题是当测试大的随机数或连续流的数量（对于大的顺序）时未完成的大I / O的数量。
                              </p>
                              <p>在一般情况下，CSV文件包含二维表。但是，对于不测试大小I / O组合的简单测试，结果文件只有一行。因此，IOPS结果文件只有一行，有0个大I / O.如以下示例所示，具有12个未完成的小读取且没有大I / O的数据点提供951 IOPS的样本吞吐量。</p><pre class="oac_no_warn" dir="ltr">大/小，1，2，3，6，9，12。 。 。 。0,105,208,309,569,782,951。 。 。 。
</pre><p>通过将<code class="codeph">mytest_iops.csv</code>加载到Excel并绘制数据图表来生成以下图表。此图说明了在不同的小I / O负载级别上看到的IOPS吞吐量。
                              </p>
                              <p>该图显示了典型的存储系统行为。随着未完成的I / O请求数量的增加，吞吐量也会增加。但是，在某一时刻，吞吐量水平稳定，表明存储系统达到最大吞吐量值。在更高的吞吐量级别，I / O请求的延迟也会显着增加。因此，使用mytest_lat.csv中生成的延迟结果中提供的延迟数据来查看此数据非常重要。</p>
                              <div class="figure" id="GUID-606D7B6A-391B-4D39-9B6E-C9146D3D47BA__BABIBEJC">
                                 <p class="titleinfigure">图17-3不同小I / O负载级别的I / O吞吐量</p><img src="img/figure_173_io_throughput_at_different_small_io_load_levels.gif" alt="下面是图17-3的描述" title="下面是图17-3的描述" longdesc="img_text/figure_173_io_throughput_at_different_small_io_load_levels.html"><br><a href="img_text/figure_173_io_throughput_at_different_small_io_load_levels.html">“图17-3不同小I / O负载级别的I / O吞吐量”的说明</a></div>
                              <!-- class="figure" -->
                           </li>
                           <li>
                              <p><span class="bold">mytest_lat.csv</span> ：逗号分隔的值文件，包含Small Random工作负载的延迟结果。与MBPS和IOPS文件一样，列标题是未完成的小I / O的数量，行标题是未完成的大I / O（测试大型随机I / O时）或连续流的数量。
                              </p>
                              <p>在一般情况下，CSV文件包含二维表。但是，对于不测试大小I / O组合的简单测试，结果文件只有一行。因此，IOPS结果文件只有一行，有0个大I / O.在以下示例中，在12个未完成的小读取和没有大I / O的持续负载水平下，生成的结果显示I / O周转延迟为22.25毫秒。</p><pre class="oac_no_warn" dir="ltr">大/小，1，2，3，6，9，12。 。 。 。0,14.22,14.69,15.09,16.98,18.91,21.25。 。 。 。
</pre><p>通过将<code class="codeph">mytest_lat.csv</code>加载到Excel并绘制数据图表来生成以下图表。此图说明了mytest在不同的小I / O负载水平下的小I / O延迟。</p>
                              <div class="figure" id="GUID-606D7B6A-391B-4D39-9B6E-C9146D3D47BA__BABEIHJB">
                                 <p class="titleinfigure">图17-4小I / O负载级别的I / O延迟</p><img src="img/figure_174_io_latency_at_small_io_load_levels.gif" alt="下面是图17-4的描述" title="下面是图17-4的描述" longdesc="img_text/figure_174_io_latency_at_small_io_load_levels.html"><br><a href="img_text/figure_174_io_latency_at_small_io_load_levels.html">“图17-4小I / O负载级别的I / O延迟”的描述</a></div>
                              <!-- class="figure" -->
                           </li>
                           <li>
                              <p><span class="bold">mytest_trace.txt</span> ：包含扩展的未处理测试输出。
                              </p>
                              <div class="infoboxnote" id="GUID-606D7B6A-391B-4D39-9B6E-C9146D3D47BA__GUID-012A273C-C364-4CD8-ADF2-CEED48D0F815">
                                 <p class="notep1">注意：</p>
                                 <p>Orion报告在标准输出测试期间发生的错误。</p>
                              </div>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="TGDBA95243"></a><div class="props_rev_3"><a id="GUID-54E92BB0-B45B-45C4-8439-D873FC7E9DB8" name="GUID-54E92BB0-B45B-45C4-8439-D873FC7E9DB8"></a><h4 id="TGDBA-GUID-54E92BB0-B45B-45C4-8439-D873FC7E9DB8" class="sect4"><span class="enumeration_section">17.4.6</span>猎户座故障排除</h4>
                  <div>
                     <ol>
                        <li>
                           <p>如果在&lt; <span class="italic">testname</span> &gt; .lun文件中指定的一个或多个卷上收到I / O错误：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>验证是否可以使用文件复制程序（如<code class="codeph">dd</code>以与测试，读取或写入相同的模式访问卷。
                                 </p>
                              </li>
                              <li>
                                 <p>验证您的主机操作系统版本是否可以执行异步I / O.</p>
                              </li>
                              <li>
                                 <p>在Linux和Solaris上，库<code class="codeph">libaio</code>必须位于标准的lib目录中，或者可以通过shell环境的库路径变量访问（通常是LD_LIBRARY_PATH或LIBPATH，具体取决于您的shell）。
                                 </p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p>如果您在NAS存储上运行：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>必须正确安装文件系统才能运行Orion。有关说明，请参阅Oracle安装指南（例如，“适用于Linux x86的数据库安装指南”中的“使用NAS设备”附录B部分）。</p>
                              </li>
                              <li>
                                 <p>mytest.lun文件应包含一个或多个现有文件路径。Orion不适用于目录或挂载点。该文件必须足够大才能进行有意义的测试。此文件的大小应表示数据文件的最终预期大小（例如，使用几年后）。</p>
                              </li>
                              <li>
                                 <p>您可能会看到在Linux上通过NFS进行异步I / O（包括2.6内核）的性能很差。</p>
                              </li>
                              <li>
                                 <p>如果您正在进行读取测试并且读取未触及未初始化或先前写入的文件的未触摸块，则某些智能NAS系统可能会通过返回归零块来“伪造”读取。发生这种情况时，您会看到意外的良好性能。</p>
                                 <p>解决方法是在执行读取测试之前使用<code class="codeph">dd</code>等工具编写所有块。</p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p>如果在Windows上运行Orion：在原始分区上进行测试需要临时将分区映射到驱动器号并在test.lun文件中指定这些驱动器号。</p>
                        </li>
                        <li>
                           <p>如果在x86_64系统上运行Orion 32位Linux / x86二进制文件：请从运行相同Linux版本的32位计算机上复制32位libaio.so文件。</p>
                        </li>
                        <li>
                           <p>如果您要测试大量磁盘（ <code class="codeph">num_disks</code>大于30）：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>您应该使用-duration选项（有关详细信息，请参阅可选参数部分）为每个数据点指定一个较长的持续时间（如120秒或更长）。由于Orion试图保持所有主轴在特定负载水平下运行，因此每个数据点都需要一个加速时间，这意味着测试的持续时间更长。</p>
                              </li>
                              <li>
                                 <p>您可能会收到以下错误消息，指示您增加持续时间值：</p><pre class="oac_no_warn" dir="ltr">指定更长的持续时间值。
</pre><p>持续时间为锭子数量的2倍似乎是一个很好的经验法则。根据您的磁盘技术，您的平台可能需要更多或更少的时间。</p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p>如果您收到有关Orion使用的库的错误：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>Linux / Solaris：请参阅I / O错误故障排除。</p>
                              </li>
                              <li>
                                 <p><span class="bold">仅限NT：</span>不要移动/删除分发中包含的Oracle库。这些必须与orion.exe位于同一目录中。
                                 </p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p>如果你看到的表现数字“令人难以置信的好”：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>您可能在Orion程序和磁盘轴之间的某处有一个大的读取或写入缓存，或读取和写入缓存。通常，存储阵列控制器具有最大的影响。找出此缓存的大小，并使用-cache_size advanced选项将其指定给Orion（有关详细信息，请参阅可选参数部分）。</p>
                              </li>
                              <li>
                                 <p>与沿途的一个或多个缓存相比，卷的总大小可能非常小。尝试关闭缓存。如果共享存储的其他卷在生产环境中显示重要的I / O活动（并最终使用共享缓存的大部分），则需要这样做。</p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p>如果Orion报告了长时间的估计运行时间：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>当<code class="codeph">-num_disks</code>为高时，运行时间会增加。Orion内部使用线性公式来确定使给定数量的磁盘饱和所需的时间。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">-cache_size</code>参数会影响运行时，即使未指定它也是如此。Orion默认情况下每个数据点缓存加热两分钟。如果已关闭缓存，请指定<code class="codeph">-cache_size 0</code> 。
                                 </p>
                              </li>
                              <li>
                                 <p>如前所述，当指定long -duration值时，运行时间会增加。</p>
                              </li>
                           </ul>
                        </li>
                     </ol>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>