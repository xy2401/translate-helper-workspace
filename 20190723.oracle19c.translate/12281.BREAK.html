<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>打破</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="User&#39;s Guide and Reference"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="User&#39;s Guide and Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="sqlplus-users-guide-and-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-04-25T05:48:09-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96459-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="ATTRIBUTE.html" title="Previous" type="text/html"></link>
      <link rel="next" href="BTITLE.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="SQL*Plus User&#39;s Guide and Reference"></meta>
    <meta name="dcterms.isVersionOf" content="SQPUG"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="ATTRIBUTE.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="BTITLE.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">用户指南和参考</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="SQL-Plus-reference.html" property="item" typeof="WebPage"><span property="name">SQL * Plus参考</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="SQL-Plus-command-reference.html" property="item" typeof="WebPage"><span property="name">SQL * Plus命令参考</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">打破</li>
            </ol>
            <a id="GUID-8C5811BC-01DF-4D95-A3A0-5C42C546534F" name="GUID-8C5811BC-01DF-4D95-A3A0-5C42C546534F"></a><a id="SQPUG030"></a>
            
            <h2 id="SQPUG-GUID-8C5811BC-01DF-4D95-A3A0-5C42C546534F" class="sect2"><span class="enumeration_section">12.9</span> BREAK</h2>
         </header>
         <div class="ind">
            <div>
               <div class="section">
                  <p class="subhead1" id="GUID-8C5811BC-01DF-4D95-A3A0-5C42C546534F__GUID-8A16928F-002A-4AFE-96F7-0A8D1E465397">句法</p><pre class="oac_no_warn" dir="ltr">BRE [AK] [ON <span class="italic">report_element</span> [ <span class="italic">action</span> [ <span class="italic">action</span> ]]] ......</pre><p>其中<span class="italic">report_element</span>的语法为{ <span class="italic">column</span> | <span class="italic">expr</span> | ROW | REPORT}</p>
                  <p>和<span class="italic">动作</span>的语法[SKI [P] <span class="italic">n</span> | [SKI [P]] PAGE] [ <span class="underline">NODUP [LICATES</span> ] | DUP [LICATES]]</p>
                  <p>指定报表中发生更改的位置<a id="d25094e60" class="indexterm-anchor"></a>以及要执行的格式化操作，例如：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>禁止显示给定列的重复值</p>
                     </li>
                     <li>
                        <p>每次给定列值更改时跳过一行</p>
                     </li>
                     <li>
                        <p>印花<a id="d25094e75" class="indexterm-anchor"></a>每次给定列值更改时或在报告结束时计算的数字。
                        </p>
                        <p>请参阅<a href="COMPUTE.html#GUID-F9E6205D-4C14-4D61-9B90-F6BB1AC08A8C">COMPUTE</a>命令。
                        </p>
                     </li>
                  </ul>
                  <p>输入BREAK，不带任何条款列出当前的BREAK定义。</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-8C5811BC-01DF-4D95-A3A0-5C42C546534F__GUID-65778B33-3409-42DB-848B-ED32987DDB51">条款</p><pre class="oac_no_warn" dir="ltr">在<span class="italic">列</span> [ <span class="italic">action</span> [ <span class="italic">action</span> ]]</pre><p>当您包含操作时，指定SQL * Plus在指定列（称为中断列）中发生中断时执行的操作<a id="d25094e104" class="indexterm-anchor"></a> ）。 （ <span class="italic">列</span>不能附加表或视图。要实现此目的，您可以在SQL语句中为该列添加别名。）中断是三个事件之一，列或表达式的值更改，行的输出或报表的结尾</p>
                  <p><a id="d25094e111" class="indexterm-anchor"></a><a id="d25094e115" class="indexterm-anchor"></a>省略操作时，BREAK ON列会禁止在<span class="italic">列中</span>打印重复值，并在报表中标记一个位置，其中SQL * Plus将执行您在相应的COMPUTE命令中指定的计算。<a id="d25094e123" class="indexterm-anchor"></a></p>
                  <p>您可以指定ON <span class="italic">列</span>一次或多次。如果指定多个<a id="d25094e132" class="indexterm-anchor"></a> ON条款，如</p><pre class="oac_no_warn" dir="ltr">在JOB_ID上的DEPARTMENT_ID SKIP页面上休息 - 在SALIAL SKIP 1上跳过1</pre><p>第一个ON子句表示最外面的中断（在本例中为ON DEPARTMENT_ID），最后一个ON子句表示最内部中断（在本例中为ON SALARY）。SQL * Plus在输出的每一行中搜索指定的中断，从最外面的中断开始，然后按照输入子句的顺序继续到最里面。在该示例中，SQL * Plus搜索DEPARTMENT_ID值的更改，然后搜索JOB_ID，然后搜索SALARY。</p>
                  <p>接下来，SQL * Plus执行从为最里面的中断指定的操作开始的操作，并以相反的顺序向最外面的中断进行操作（在这种情况下，从ON SALARY的SKIP 1到ON DEPARTMENT_ID的SKIP PAGE）。SQL * Plus执行每个操作，包括为初始搜索中遇到的第一个中断指定的操作。</p>
                  <p>例如，如果在给定行中JOB_ID的值发生更改 - 但DEPARTMENT_ID和SALARY的值保持不变 - 在打印行之前，SQL * Plus会跳过两行（一行是SKIP 1 ON SALARY，另一行是SKIP 1 ON JOB_ID的结果）。</p>
                  <p>每当使用ON <span class="italic">列时</span> ，您还应该使用ORDER BY <a id="d25094e150" class="indexterm-anchor"></a> SQL SELECT中的子句<a id="d25094e155" class="indexterm-anchor"></a>命令。通常，BREAK命令中使用的列应该在ORDER BY子句中以相同的顺序出现（尽管ORDER BY子句中指定的所有列都不需要出现在BREAK命令中）。这可以防止在报告中无意义的点发生中断。
                  </p>
                  <p>如果使用本节前面指定的BREAK命令，则以下SELECT命令将生成有意义的结果：</p><pre class="oac_no_warn" dir="ltr">SELECT DEPARTMENT_ID，JOB_ID，SALARY，LAST_NAME FROM EMP_DETAILS_VIEW WHERE SALARY&gt; 12000 ORDER BY DEPARTMENT_ID，JOB_ID，SALARY，LAST_NAME;</pre><p>具有相同DEPARTMENT_ID的所有行在一个页面上一起打印，并且在该页面内，具有相同JOB_ID的所有行在组中打印。在每组作业中，具有相同SALARY的那些作业按组打印。LAST_NAME中的中断不会导致任何操作，因为LAST_NAME未显示在BREAK命令中。<a id="d25094e167" class="indexterm-anchor"></a><a id="d25094e171" class="indexterm-anchor"></a></p>
                  <p>在BREAK命令中，空值被认为彼此相等，但不等于其他任何内容。这与WHERE子句中的空值处理不同。</p><pre class="oac_no_warn" dir="ltr">ON <span class="italic">expr</span> [ <span class="italic">action</span> [ <span class="italic">action</span> ]]</pre><p>包含操作时，指定SQL * Plus在表达式值更改时要执行的操作。</p>
                  <p>如果省略行动，打破<span class="italic">expr的</span>抑制，其中SQL * Plus将执行你在相应的COMPUTE命令中指定的计算<span class="italic">expr</span>的重复值和标志的印刷。<a id="d25094e198" class="indexterm-anchor"></a></p>
                  <p>您可以使用涉及一个或多个表列的表达式或分配给SQL SELECT中的报表列的别名<a id="d25094e204" class="indexterm-anchor"></a>或SQL * Plus COLUMN <a id="d25094e209" class="indexterm-anchor"></a>命令。如果在BREAK命令中使用表达式，则必须完全按照SELECT命令中的显示输入<span class="italic">expr</span> 。例如，如果SELECT命令中的表达式为+ b，则不能在BREAK命令中使用b + a或（a + b）来引用SELECT命令中的表达式。
                  </p>
                  <p>为ON <span class="italic">列</span>提供的信息也适用于ON <span class="italic">expr</span> 。
                  </p><pre class="oac_no_warn" dir="ltr">在行[ <span class="italic">行动</span> [ <span class="italic">行动</span> ]]</pre><p><a id="d25094e234" class="indexterm-anchor"></a><a id="d25094e238" class="indexterm-anchor"></a>包含操作时，指定SQL * Plus在SQL SELECT时执行的操作<a id="d25094e243" class="indexterm-anchor"></a>命令返回一行。无论您在BREAK命令中指定的位置如何，ROW中断都将成为最里面的中断。当你在一行上BREAK时，你应该总是指定一个动作。
                  </p><pre class="oac_no_warn" dir="ltr">ON REPORT [ <span class="italic">行动</span> ]</pre><p><a id="d25094e255" class="indexterm-anchor"></a><a id="d25094e259" class="indexterm-anchor"></a>在报告中标记一个位置，其中SQL * Plus将执行您在相应的COMPUTE命令中指定的计算。使用BREAK <a id="d25094e264" class="indexterm-anchor"></a> ON REPORT与COMPUTE一起打印总计或其他“大”计算值。
                  </p>
                  <p>无论您在BREAK命令中指定的位置如何，REPORT中断都将成为最外层的中断。</p>
                  <p>请注意，SQL * Plus不会跳过报告末尾的页面，因此您无法使用BREAK ON REPORT SKIP PAGE。</p><pre class="oac_no_warn" dir="ltr">SKI [P] <span class="italic">n</span></pre><p><a id="d25094e278" class="indexterm-anchor"></a><a id="d25094e282" class="indexterm-anchor"></a>在打印发生中断的行之前跳过<span class="italic">n</span>行。除非PREFORMAT设置为ON，否则BREAK SKIP <span class="italic">n</span>在SET MARKUP HTML ON模式下不起作用。</p><pre class="oac_no_warn" dir="ltr">[SKI [P]] PAGE</pre><p><a id="d25094e296" class="indexterm-anchor"></a><a id="d25094e300" class="indexterm-anchor"></a>在打印中断发生的行之前，跳过定义为页面的行数。可以使用SET命令的PAGESIZE子句设置每页的行数。请注意，PAGESIZE仅更改SQL * Plus认为是页面的行数。因此，SKIP PAGE可能并不总是导致物理分页，除非您还指定了NEWPAGE 0。另请注意，如果要在报表中打印的最后一行数据之后有中断，SQL * Plus将不会跳过该页面。
                  </p><pre class="oac_no_warn" dir="ltr">NODUP [LICATES]</pre><p>当值与前一行中列的值重复时，打印空白而不是break列的值。</p><pre class="oac_no_warn" dir="ltr">DUP [LICATES]</pre><p><a id="d25094e310" class="indexterm-anchor"></a><a id="d25094e312" class="indexterm-anchor"></a>在每个选定的行中打印中断列的值。
                  </p>
                  <p>输入BREAK <a id="d25094e320" class="indexterm-anchor"></a>没有用于列出当前中断定义的子句。<a id="d25094e325" class="indexterm-anchor"></a></p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-8C5811BC-01DF-4D95-A3A0-5C42C546534F__GUID-2AE40729-3595-4C61-AD0D-F147165FA9A0">用法</p>
                  <p>您输入的每个新BREAK命令都会替换前一个命令。</p>
                  <p>要删除BREAK命令，请使用CLEAR BREAKS。</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-8C5811BC-01DF-4D95-A3A0-5C42C546534F__GUID-28D62BE7-D0AB-40BF-A9FB-7D6B0ACA8DA7">例子</p>
                  <p>要生成打印重复作业值的报告，打印SALARY的平均值，并另外打印SALARY的总和，您可以输入以下命令。（该示例仅选择部门50和80以及职员和销售人员的工作。）</p><pre class="oac_no_warn" dir="ltr">在JOB_ID DUPLICATES上的DEPARTMENT_ID上休息COMPART_ID上的SALARY COMPALE SUM计算JOID_ID，JOB_ID，LAST_NAME，来自EMP_DETAILS_VIEW的SALAL中的SALAL的数字AVG中JOB_ID IN（'SH_CLERK'，'SA_MAN'）和DEPARTMENT_ID IN（50,80）ORDER BY DEPARTMENT_ID，JOB_ID;</pre><pre class="pre codeblock"><code>DEPARTMENT_ID JOB_ID LAST_NAME SALARY ------------- ---------- ----------------------- -  ---------- 50 SH_CLERK Taylor 3200 SH_CLERK Fleaur 3100。。。SH_CLERK Gates 2900 DEPARTMENT_ID JOB_ID LAST_NAME SALARY ------------- ---------- -------------------- ----- ---------- 50 SH_CLERK Perkins 2500 SH_CLERK Bell 4000。。。SH_CLERK Grant 2600 ********** ---------- avg 3215 DEPARTMENT_ID JOB_ID LAST_NAME SALARY ------------- -------- -  ------------------------- ---------- ************* ----------总和64300 80 SA_MAN Russell 14000 SA_MAN合作伙伴13500 SA_MAN Errazuriz 12000 SA_MAN Cambrault 11000 SA_MAN Zlotkey 10500 ********** ---------- avg 12200 DEPARTMENT_ID JOB_ID LAST_NAME SALARY ------------- ---------- ----------------------- -  ---------- ************* ----------总和61000选择25行。</code></pre></div>
               <!-- class="section" -->
            </div>
         </div>
      </article>
   </body>
</html>