<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="Oracle recommends Oracle Automatic Storage Management (Oracle ASM) as a storage management solution that provides an alternative to conventional volume managers, file systems, and raw devices.">
      <meta name="description" content="Oracle recommends Oracle Automatic Storage Management (Oracle ASM) as a storage management solution that provides an alternative to conventional volume managers, file systems, and raw devices.">
      <title>Administering Storage in Oracle RAC</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Real Application Clusters Administration and Deployment Guide">
      <meta property="og:description" content="Oracle recommends Oracle Automatic Storage Management (Oracle ASM) as a storage management solution that provides an alternative to conventional volume managers, file systems, and raw devices.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Real Application Clusters Administration and Deployment Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="real-application-clusters-administration-and-deployment-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-04-25T14:02:30-07:00">
      <meta name="dcterms.title" content="Real Application Clusters Administration and Deployment Guide">
      <meta name="dcterms.dateCopyrighted" content="1999, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E95728-03">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="introduction-to-oracle-rac.html" title="Previous" type="text/html">
      <link rel="next" href="administering-database-instances-and-cluster-databases.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="RACAD">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="introduction-to-oracle-rac.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="administering-database-instances-and-cluster-databases.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Real Application Clusters Administration and Deployment Guide</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Administering Storage in Oracle RAC</li>
            </ol>
            <a id="GUID-94CBE29D-A3DF-43FE-B15F-C3B9A1AD1A63" name="GUID-94CBE29D-A3DF-43FE-B15F-C3B9A1AD1A63"></a><a id="RACAD703"></a>
            
            <h2 id="RACAD-GUID-94CBE29D-A3DF-43FE-B15F-C3B9A1AD1A63" class="sect2"><span class="enumeration_chapter">2 </span>Administering Storage in Oracle RAC
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>Oracle recommends Oracle Automatic Storage Management (Oracle ASM) as a storage management solution that provides an alternative to conventional volume managers, file systems, and raw devices.</p>
               <p>Oracle ASM is a <a href="glossary.html#GUID-CF0EFF65-9E17-4B52-B94E-91AC84A08DCE"><span class="xrefglossterm">volume manager</span></a> and a <a href="glossary.html#GUID-DFAF8EED-EA6D-4437-A903-97E01F8D36A8"><span class="xrefglossterm">file system</span></a> for Oracle database files that supports single-instance Oracle Database and Oracle Real Application Clusters (Oracle RAC) configurations.
               </p>
               <p>Oracle ASM uses disk groups to store data files; an Oracle ASM disk group is a collection of disks that Oracle ASM manages as a unit. Within a disk group, Oracle ASM exposes a file system interface for Oracle database files. The content of files that are stored in a disk group is evenly distributed to eliminate hot spots and to provide uniform performance across the disks. The performance is comparable to the performance of raw devices.</p>
               <p>You can add or remove disks from a disk group while a database continues to access files from the disk group. When you add or remove disks from a disk group, Oracle ASM automatically redistributes the file contents and eliminates the need for downtime when redistributing the content.</p>
               <p>The Oracle ASM volume manager functionality provides flexible server-based mirroring options. The Oracle ASM normal and high redundancy disk groups enable two-way and three-way mirroring respectively. You can use external redundancy to enable a Redundant Array of Independent Disks (RAID) storage subsystem to perform the mirroring protection function.</p>
               <p>Oracle ASM also uses the Oracle Managed Files feature to simplify database file management. Oracle Managed Files automatically creates files in designated locations. Oracle Managed Files also names files and removes them while relinquishing space when tablespaces or files are deleted.</p>
               <p>Oracle ASM reduces the administrative overhead for managing database storage by consolidating data storage into a small number of disk groups. The smaller number of disk groups consolidates the storage for multiple databases and dprovides for improved I/O performance.</p>
               <p>Oracle ASM files can coexist with other storage management options such as raw disks and third-party file systems. This capability simplifies the integration of Oracle ASM into pre-existing environments.</p>
               <p>Oracle ASM has easy to use management interfaces such as SQL*Plus, the Oracle ASM Command Line Utility (ASMCMD) command-line interface, and Oracle ASM Configuration Assistant (ASMCA).</p>
               <p>This chapter includes the following topics:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="administering-storage-in-oracle-rac.html#GUID-4673280F-D42B-4002-8F29-275800D34F69" title="All data files (including an undo tablespace for each instance) and redo log files (at least two for each instance) for an Oracle RAC database must reside on shared storage.">Overview of Storage Management for Oracle RAC</a></p>
                  </li>
                  <li>
                     <p><a href="administering-storage-in-oracle-rac.html#GUID-3DD2742D-327C-4A41-96FD-5DF9192793A6">Data File Access in Oracle RAC</a></p>
                  </li>
                  <li>
                     <p><a href="administering-storage-in-oracle-rac.html#GUID-B27F3557-4C20-483A-ADC0-8E02D385CE99" title="An Oracle database can serve as a network file system (NFS) server. The database responds to NFS requests from any NFS client and stores both the files and their metadata within the database.">NFS Server for Storage</a></p>
                  </li>
                  <li>
                     <p><a href="administering-storage-in-oracle-rac.html#GUID-4E4EF420-6E22-4A95-B9AB-B9C6E33D31A5">Redo Log File Storage in Oracle RAC</a></p>
                  </li>
                  <li>
                     <p><a href="administering-storage-in-oracle-rac.html#GUID-486BF5F7-870D-4723-BA95-35AEF4CBF9C7">Automatic Undo Management in Oracle RAC</a></p>
                  </li>
                  <li>
                     <p><a href="administering-storage-in-oracle-rac.html#GUID-C1E8F960-0CD8-4608-80BA-A9F335A34BD5" title="Oracle ASM automatically maximizes I/O performance by managing the storage configuration across the disks that Oracle ASM manages.">Oracle Automatic Storage Management with Oracle RAC</a></p>
                  </li>
               </ul>
            </div>
            <div>
               <div class="relinfo">
                  <p><strong>Related Topics</strong></p>
                  <ul>
                     <li><a href="../ostmg/admin-asm-diskgroups.html#OSTMG-GUID-C455CEB1-0FC3-4DF4-9CD4-25EFA4D2BE01" target="_blank"><span><cite>Oracle Automatic Storage Management Administrator's Guide</cite></span></a></li>
                     <li><a href="../ostmg/part-instance-diskgroup.html#OSTMG-GUID-74C67180-6F24-4F50-8581-0DF71F1C5B47" target="_blank"><span><cite>Oracle Automatic Storage Management Administrator's Guide</cite></span></a></li>
                  </ul>
               </div>
            </div><a id="RACAD802"></a><div class="sect2"><a id="GUID-4673280F-D42B-4002-8F29-275800D34F69" name="GUID-4673280F-D42B-4002-8F29-275800D34F69"></a><h3 id="RACAD-GUID-4673280F-D42B-4002-8F29-275800D34F69" class="sect3">Overview of Storage Management for Oracle RAC</h3>
               <div>
                  <p>All data files (including an undo tablespace for each instance) and redo log files (at least two for each instance) for an Oracle RAC database must reside on shared storage.</p>
                  <p>Oracle recommends that you use Oracle ASM to store these files in an Oracle ASM disk group.</p>
                  <p>Oracle supports alternative ways of using shared storage, such as certified <a href="glossary.html#GUID-0152C87A-A61B-433F-ACAB-B3680D27B2F4"><span class="xrefglossterm">cluster file system</span></a>s. In addition, Oracle recommends that you use one shared server parameter file (SPFILE) with instance-specific entries. Oracle RAC 12<span class="italic">c</span> allows storing shared password files in Oracle ASM and storing Oracle Database files on Oracle Automatic Storage Management Cluster File System (Oracle ACFS).
                  </p>
                  <div class="infoboxnote" id="GUID-4673280F-D42B-4002-8F29-275800D34F69__GUID-FEEEBF94-C85F-4A03-9876-7E85A9FF6091">
                     <p class="notep1">Note:</p>
                     <p>Oracle Database and related technologies, such as Oracle Clusterware, no longer support the use of raw (block) storage devices. You must move files to Oracle ASM before upgrading to Oracle Clusterware 12<span class="italic">c</span>.
                     </p>
                  </div>
                  <p>Unless otherwise noted, Oracle Database storage features such as Oracle ASM, Oracle Managed Files, automatic segment-space management, and so on, function the same in Oracle RAC environments as they do in noncluster Oracle database environments.</p>
                  <div class="infoboxnote" id="GUID-4673280F-D42B-4002-8F29-275800D34F69__GUID-ADDCEA61-917E-4102-86E8-F097CA24EEE6">
                     <p class="notep1">Note:</p>
                     <p>To create an Oracle RAC database using Oracle Database Standard Edition, you must use Oracle ASM for your database storage.</p>
                  </div>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="../admqs/installing-oracle-database-creating-database.html#ADMQS-GUID-DBC8C390-D3B7-40A6-B625-26AE44AA45E1" target="_blank"><span><cite>Oracle Database 2 Day DBA</cite></span></a></li>
                        <li><a href="../ostmg/asm-intro.html#OSTMG-GUID-BC612D35-5399-4A35-843E-CF76E3D3CDB5" target="_blank"><span><cite>Oracle Automatic Storage Management Administrator's Guide</cite></span></a></li>
                        <li><a href="../admin/oracle-database-structure-and-storage.html#ADMIN-GUID-F11D30A7-BF12-4D8F-A1C2-D7437D38F8C7" target="_blank"><span><cite>Oracle Database Administrator’s Guide</cite></span></a></li>
                     </ul>
                  </div>
               </div>
            </div><a id="RACAD830"></a><div class="sect2"><a id="GUID-3DD2742D-327C-4A41-96FD-5DF9192793A6" name="GUID-3DD2742D-327C-4A41-96FD-5DF9192793A6"></a><h3 id="RACAD-GUID-3DD2742D-327C-4A41-96FD-5DF9192793A6" class="sect3">Data File Access in Oracle RAC</h3>
               <div>
                  <p><a id="d10773e563" class="indexterm-anchor"></a>All Oracle RAC instances must be able to access all data files. If a data file must be recovered when the database is opened, then the first Oracle RAC instance to start is the instance that performs the recovery and verifies access to the file. As other instances start, they also verify their access to the data files. Similarly, when you add a tablespace or data file or bring a tablespace or data file online, all instances verify access to the file or files.
                  </p>
                  <p>If you add a data file to a disk that other instances cannot access, then verification fails. Verification also fails if instances access different copies of the same data file. If verification fails for any instance, then diagnose and fix the problem. Then run the <code class="codeph">ALTER SYSTEM CHECK DATAFILES</code> statement on each instance to verify data file access.
                  </p>
               </div>
            </div>
            <div class="sect2"><a id="GUID-B27F3557-4C20-483A-ADC0-8E02D385CE99" name="GUID-B27F3557-4C20-483A-ADC0-8E02D385CE99"></a><h3 id="RACAD-GUID-B27F3557-4C20-483A-ADC0-8E02D385CE99" class="sect3">NFS Server for Storage</h3>
               <div>
                  <p>An Oracle database can serve as a network file system (NFS) server. The database responds to NFS requests from any NFS client and stores both the files and their metadata within the database.</p>
                  <p>Files associated with a primary database, such as SQL scripts, can be automatically replicated on a standby database. You can also store unstructured data, such as emails, on the database.</p>
                  <p>You can create or destroy an Oracle file system and access it though the NFS server using the procedures documented in <span><cite>Oracle Database SecureFiles and Large Objects Developer's Guide</cite></span>.
                  </p>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="../adlob/introducing-network-file-system.html#ADLOB-GUID-099C7265-BAED-4970-9A6B-0DD7F620B18E" target="_blank"><span><cite>Oracle Database SecureFiles and Large Objects Developer's Guide</cite></span></a></li>
                        <li><a href="../arpls/DBMS_FS.html#ARPLS-GUID-F21D6EF9-F8CA-403B-95A5-ED081951C51D" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a></li>
                        <li><a href="../refrn/background-processes.html#REFRN-GUID-86184690-5531-405F-AA05-BB935F57B76D" target="_blank"><span><cite>Oracle Database Reference</cite></span></a></li>
                     </ul>
                  </div>
               </div>
            </div><a id="RACAD704"></a><div class="sect2"><a id="GUID-4E4EF420-6E22-4A95-B9AB-B9C6E33D31A5" name="GUID-4E4EF420-6E22-4A95-B9AB-B9C6E33D31A5"></a><h3 id="RACAD-GUID-4E4EF420-6E22-4A95-B9AB-B9C6E33D31A5" class="sect3">Redo Log File Storage in Oracle RAC</h3>
               <div>
                  <p>In an Oracle RAC database, each instance must have at least two groups of redo log files. You must allocate the redo log groups before enabling a new instance with the <code class="codeph">ALTER DATABASE ENABLE INSTANCE <span class="variable" translate="no">instance_name</span></code> command. When you use DBCA to create the database, DBCA allocates redo log files to instances, as required, automatically. You can change the number of redo log groups and the size of the redo log files as required either during the initial database creation or as a post-creation step.
                  </p>
                  <p>When the current group fills, an instance begins writing to the next log file group. If your database is in <code class="codeph">ARCHIVELOG</code> mode, then each instance must save filled online log groups as archived redo log files that are tracked in the control file. During database recovery, all enabled instances are checked to see if recovery is needed. If you remove an instance from your Oracle RAC database, then you should disable the instance's thread of redo so that Oracle does not have to check the thread during database recovery.
                  </p>
                  <p>Redo log management must be considered when the number of instances for a particular production Oracle RAC database changes. For example, if you increase the cardinality of a server pool for a policy-managed database and a new server is allocated to the server pool, then Oracle starts an instance on the new server. As soon as the database instance on the new server starts, it will require a set of redo log groups. Using Oracle Managed Files based on an Oracle ASM disk group, allocation of the required redo log thread and respective files is performed automatically. You should create redo log groups only if you use administrator-managed databases.</p>
                  <p>For administrator-managed databases, each instance has its own online redo log groups. Create these redo log groups and establish group members. To add a redo log group to a specific instance, specify the <code class="codeph">INSTANCE</code> clause in the <code class="codeph">ALTER DATABASE ADD LOGFILE</code> statement. If you do not specify the instance when adding the redo log group, then the redo log group is added to the instance to which you are currently connected.
                  </p>
                  <p>Each instance must have at least two groups of redo log files. You must allocate the redo log groups before enabling a new instance with the <code class="codeph">ALTER DATABASE ENABLE INSTANCE</code> <span class="italic"><code class="codeph">instance_name</code></span> command. When the current group fills, an instance begins writing to the next log file group. If your database is in <code class="codeph">ARCHIVELOG</code> mode, then each instance must save filled online log groups as archived redo log files that are tracked in the control file.
                  </p>
                  <p>During database recovery, all enabled instances are checked to see if recovery is needed. If you remove an instance from your Oracle RAC database, then you should disable the instance's thread of redo so that Oracle does not have to check the thread during database recovery.</p>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="introduction-to-oracle-rac.html#GUID-3A105B5C-75B4-4031-AC3A-7D8896CF0A72" title="Any enterprise that is designing and implementing a high availability strategy with Oracle RAC must begin by performing a thorough analysis of the business drivers that require high availability.">About Designing and Deploying Oracle RAC Environments</a></li>
                        <li><a href="../admin/managing-the-redo-log.html#ADMIN-GUID-081AE57B-A821-4F26-97B2-4B141FDB3946" target="_blank"><span><cite>Oracle Database Administrator’s Guide</cite></span></a></li>
                        <li><a href="../sqlrf/ALTER-DATABASE.html#SQLRF-GUID-8069872F-E680-4511-ADD8-A4E30AF67986" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a></li>
                     </ul>
                  </div>
               </div>
            </div><a id="RACAD705"></a><div class="sect2"><a id="GUID-486BF5F7-870D-4723-BA95-35AEF4CBF9C7" name="GUID-486BF5F7-870D-4723-BA95-35AEF4CBF9C7"></a><h3 id="RACAD-GUID-486BF5F7-870D-4723-BA95-35AEF4CBF9C7" class="sect3">Automatic Undo Management in Oracle RAC</h3>
               <div>
                  <p>Oracle Database automatically manages undo segments within a specific undo tablespace that is assigned to an instance. Instances can always read all undo blocks throughout the <a href="glossary.html#GUID-1B7C963C-0E0C-425E-AD47-D75C912230CB"><span class="xrefglossterm">cluster</span></a> environment for consistent read purposes. Also, any instance can update any undo tablespace during transaction recovery, if that undo tablespace is not currently used by another instance for undo generation or transaction recovery.
                  </p>
                  <p>You assign undo tablespaces in your Oracle RAC administrator-managed database by specifying a different value for the <code class="codeph">UNDO_TABLESPACE</code> parameter for each instance in your SPFILE or individual PFILEs. For policy-managed databases, Oracle automatically allocates the undo tablespace when the instance starts if you have Oracle Managed Files enabled. You cannot simultaneously use automatic undo management and manual undo management in an Oracle RAC database. In other words, all instances of an Oracle RAC database must operate in the same undo mode.
                  </p>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="administering-database-instances-and-cluster-databases.html#GUID-A982117D-2647-4399-8F98-9E3B31F4332F">Setting SPFILE Parameter Values for Oracle RAC</a></li>
                        <li><a href="../admin/managing-tablespaces.html#ADMIN-GUID-5E395CA6-A7AF-4E05-B9C1-E85DE0EA235A" target="_blank"><span><cite>Oracle Database Administrator’s Guide</cite></span></a></li>
                     </ul>
                  </div>
               </div>
            </div><a id="RACAD820"></a><div class="sect2"><a id="GUID-C1E8F960-0CD8-4608-80BA-A9F335A34BD5" name="GUID-C1E8F960-0CD8-4608-80BA-A9F335A34BD5"></a><h3 id="RACAD-GUID-C1E8F960-0CD8-4608-80BA-A9F335A34BD5" class="sect3">Oracle Automatic Storage Management with Oracle RAC</h3>
               <div>
                  <p>Oracle ASM automatically maximizes I/O performance by managing the storage configuration across the disks that Oracle ASM manages.</p>
                  <p>Oracle ASM does this by evenly distributing the database files across all of the available storage assigned to the disk groups within Oracle ASM. Oracle ASM allocates your total disk space requirements into uniformly sized units across all disks in a disk group. Oracle ASM can also automatically mirror files to prevent data loss. Because of these features, Oracle ASM also significantly reduces your administrative overhead.</p>
                  <p>Oracle ASM instances are created on each node where you install Oracle Clusterware. Each Oracle ASM instance has either an SPFILE or PFILE type parameter file. Oracle recommends that you back up the parameter files and the TNS entries for nondefault Oracle Net listeners.</p>
                  <p>To use Oracle ASM with Oracle RAC, select Oracle ASM as your storage option when you create your database with the Database Configuration Assistant (DBCA). As in noncluster Oracle databases, using Oracle ASM with Oracle RAC does not require I/O tuning.</p>
                  <p>The following topics describe Oracle ASM and Oracle ASM administration, as follows: </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="administering-storage-in-oracle-rac.html#GUID-641E877B-7250-444F-8EFA-2346B54EC879" title="You can create Oracle ASM disk groups and configure mirroring for Oracle ASM disk groups using the Oracle ASM configuration assistant (ASMCA).">Storage Management in Oracle RAC</a></p>
                     </li>
                     <li>
                        <p><a href="administering-storage-in-oracle-rac.html#GUID-9A219E43-9592-48C7-B9D1-5F918205979A" title="When you create a disk group for a cluster or add new disks to an existing clustered disk group, prepare the underlying physical storage on shared disks and give the Oracle user permission to read and write to the disk.">Modifying Disk Group Configurations for Oracle ASM</a></p>
                     </li>
                     <li>
                        <p><a href="administering-storage-in-oracle-rac.html#GUID-0A11530A-2A2D-442A-A339-D37F4EBDD909" title="To use Oracle ASM, you must first create disk groups with ASMCA before creating a database with DBCA.">Oracle ASM Disk Group Management</a></p>
                     </li>
                     <li>
                        <p><a href="administering-storage-in-oracle-rac.html#GUID-62EC3F26-074C-468E-B2BB-67206AD24646">Configuring Preferred Mirror Read Disks in Extended Distance Clusters</a></p>
                     </li>
                     <li>
                        <p><a href="administering-storage-in-oracle-rac.html#GUID-1329FEE7-CB53-4D2B-888B-66AFCBBB17F7">Converting Nonclustered Oracle ASM to Clustered Oracle ASM</a></p>
                     </li>
                     <li>
                        <p><a href="administering-storage-in-oracle-rac.html#GUID-2D617A25-0E8E-4B3E-95AA-8AD26DA12DF2" title="You can use the Server Control Utility (SRVCTL) to add or remove an Oracle ASM instance.">Administering Oracle ASM Instances with SRVCTL in Oracle RAC</a></p>
                     </li>
                  </ul>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="../ostmg/asm-intro.html#OSTMG-GUID-BC612D35-5399-4A35-843E-CF76E3D3CDB5" target="_blank"><span><cite>Oracle Automatic Storage Management Administrator's Guide</cite></span></a></li>
                     </ul>
                  </div>
               </div><a id="RACAD0014"></a><div class="sect3"><a id="GUID-641E877B-7250-444F-8EFA-2346B54EC879" name="GUID-641E877B-7250-444F-8EFA-2346B54EC879"></a><h4 id="RACAD-GUID-641E877B-7250-444F-8EFA-2346B54EC879" class="sect4">Storage Management in Oracle RAC</h4>
                  <div>
                     <p>You can create Oracle ASM disk groups and configure mirroring for Oracle ASM disk groups using the Oracle ASM configuration assistant (ASMCA).</p>
                     <p>Alternatively, you can use Oracle Enterprise Manager to administer Oracle ASM disk groups after you have discovered the respective servers with Oracle Enterprise Manager.</p>
                     <p>The Oracle tools that you use to manage Oracle ASM, including ASMCA, Oracle Enterprise Manager, and the silent mode install and upgrade commands, include options to manage Oracle ASM instances and disk groups.</p>
                     <p>You can use the Cluster Verification Utility (CVU) to verify the integrity of Oracle ASM across the <a href="glossary.html#GUID-1B7C963C-0E0C-425E-AD47-D75C912230CB"><span class="xrefglossterm">cluster</span></a>. Typically, this check ensures that the Oracle ASM instances on all nodes run from the same Oracle home and, if <code class="codeph">asmlib</code> exists, that it is a valid version and has valid ownership. Run the following command to perform this check:
                     </p><pre class="pre codeblock"><code>cluvfy comp asm [-n <span class="variable" translate="no">node_list</span>] [-verbose]
</code></pre><p>Replace <code class="codeph"><span class="variable" translate="no">node_list</span></code> with a comma-delimited list of node names on which the check is to be performed. Specify <code class="codeph">all</code> to check all nodes in the cluster.
                     </p>
                     <p>Use the <code class="codeph">cluvfy comp ssa</code> command to locate shared storage.
                     </p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="../cwadd/cluster-verification-utility-reference.html#CWADD-GUID-B88DC0CC-851A-4821-AB02-539D994ED524" target="_blank"><span><cite>Oracle Clusterware Administration and Deployment Guide</cite></span></a></li>
                        </ul>
                     </div>
                  </div>
               </div><a id="RACAD824"></a><div class="sect3"><a id="GUID-9A219E43-9592-48C7-B9D1-5F918205979A" name="GUID-9A219E43-9592-48C7-B9D1-5F918205979A"></a><h4 id="RACAD-GUID-9A219E43-9592-48C7-B9D1-5F918205979A" class="sect4">Modifying Disk Group Configurations for Oracle ASM</h4>
                  <div>
                     <p>When you create a disk group for a cluster or add new disks to an existing clustered disk group, prepare the underlying physical storage on shared disks and give the Oracle user permission to read and write to the disk.</p>
                     <p>The shared disk requirement is the only substantial difference between using Oracle ASM with an Oracle RAC database compared to using it with a noncluster Oracle database. Oracle ASM automatically redistributes the data files after you add or delete a disk or disk group.</p>
                     <p>In a cluster, each Oracle ASM instance manages its node's metadata updates to the disk groups. In addition, each Oracle ASM instance coordinates disk group metadata with other nodes in the cluster. As with noncluster Oracle databases, you can use Oracle Enterprise Manager, ASMCA, SQL*Plus, and the Server Control Utility (SRVCTL) to administer disk groups for Oracle ASM that are used by Oracle RAC. <span><cite>Oracle Automatic Storage Management Administrator's Guide</cite></span> explains how to use SQL*Plus to administer Oracle ASM instances. Subsequent sections describe how to use the other tools.
                     </p>
                     <div class="infoboxnote" id="GUID-9A219E43-9592-48C7-B9D1-5F918205979A__GUID-ECC3A56C-B87A-42D1-B437-ED9E95875856">
                        <p class="notep1">Note:</p>
                        <p>When you start ASMCA, if there is not an Oracle ASM instance, then the utility prompts you to create one.</p>
                     </div>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="../ostmg/asm-instance.html#OSTMG-GUID-461E1F97-9F75-4B14-AB6A-893BD8D371DE" target="_blank"><span><cite>Oracle Automatic Storage Management Administrator's Guide</cite></span></a></li>
                        </ul>
                     </div>
                  </div>
               </div><a id="RACAD647"></a><div class="sect3"><a id="GUID-0A11530A-2A2D-442A-A339-D37F4EBDD909" name="GUID-0A11530A-2A2D-442A-A339-D37F4EBDD909"></a><h4 id="RACAD-GUID-0A11530A-2A2D-442A-A339-D37F4EBDD909" class="sect4">Oracle ASM Disk Group Management</h4>
                  <div>
                     <p>To use Oracle ASM, you must first create disk groups with ASMCA before creating a database with DBCA.</p>
                     <p>You can also use the disk group management commands to create and manage an Oracle ASM instance and its associated disk groups independently of creating a database. You can use Oracle Enterprise Manager or ASMCA to add disks to a disk group, to mount a disk group or to mount all of the disk groups, or to create Oracle ASM instances. Additionally, you can use Oracle Enterprise Manager to dismount and drop disk groups or to delete Oracle ASM instances.</p>
                     <p>Oracle ASM instances are created when you install Oracle Clusterware. To create an Oracle ASM disk group, run ASMCA from the <code class="codeph"><span class="variable" translate="no">Grid_home</span>/bin</code> directory. You can also use the Oracle ASM Disk Groups page in ASMCA for Oracle ASM management. That is, you can configure Oracle ASM storage separately from database creation. For example, from the ASM Disk Groups page, you can create disk groups, add disks to existing disk groups, or mount disk groups that are not currently mounted.
                     </p>
                     <p>When you start ASMCA, if the Oracle ASM instance has not been created, then ASMCA prompts you to create the instance. ASMCA prompts you for the <code class="codeph">sysasm</code> password and the <code class="codeph">ASMSNMP</code> password.
                     </p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="../ostmg/manage-asm-asmca.html#OSTMG-GUID-C29F444F-C440-450B-A13B-84CC2147826F" target="_blank"><span><cite>Oracle Automatic Storage Management Administrator's Guide</cite></span></a></li>
                        </ul>
                     </div>
                  </div>
               </div><a id="RACAD01832"></a><div class="sect3"><a id="GUID-62EC3F26-074C-468E-B2BB-67206AD24646" name="GUID-62EC3F26-074C-468E-B2BB-67206AD24646"></a><h4 id="RACAD-GUID-62EC3F26-074C-468E-B2BB-67206AD24646" class="sect4">Configuring Preferred Mirror Read Disks in Extended Distance Clusters</h4>
                  <div>
                     <p>When you configure Oracle ASM <a href="glossary.html#GUID-F8FF4964-08FC-4976-B1EB-74C99DEA199A"><span class="xrefglossterm">failure group</span></a>s, it may be more efficient for a node to read from an extent that is closest to the node, even if that extent is a secondary extent. You can configure Oracle ASM to read from a secondary extent if that extent is closer to the node instead of Oracle ASM reading from the primary copy which might be farther from the node. Using preferred read failure groups is most beneficial in an <a href="glossary.html#GUID-A0C837CD-9E57-4EC9-AA24-18511C0C5B07"><span class="xrefglossterm">extended distance cluster</span></a>.
                     </p>
                     <p>To configure this feature, set the <code class="codeph">ASM_PREFERRED_READ_FAILURE_GROUPS</code> initialization parameter to specify a list of failure group names as preferred read disks. Oracle recommends that you configure at least one mirrored extent copy from a disk that is local to a node in an extended cluster. However, a failure group that is preferred for one instance might be remote to another instance in the same Oracle RAC database. The parameter setting for preferred read failure groups is instance specific.
                     </p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="../ostmg/mirroring-diskgroup-redundancy.html#OSTMG-GUID-C0EF42F0-4C35-4ACA-AF10-FA98A952B244" target="_blank"><span><cite>Oracle Automatic Storage Management Administrator's Guide</cite></span></a></li>
                           <li><a href="../refrn/ASM_PREFERRED_READ_FAILURE_GROUPS.html#REFRN-GUID-184C54A6-24CC-4A19-AA81-35AA76FF22A1" target="_blank"><span><cite>Oracle Database Reference</cite></span></a></li>
                        </ul>
                     </div>
                  </div>
               </div><a id="RACAD7290"></a><div class="sect3"><a id="GUID-1329FEE7-CB53-4D2B-888B-66AFCBBB17F7" name="GUID-1329FEE7-CB53-4D2B-888B-66AFCBBB17F7"></a><h4 id="RACAD-GUID-1329FEE7-CB53-4D2B-888B-66AFCBBB17F7" class="sect4">Converting Nonclustered Oracle ASM to Clustered Oracle ASM</h4>
                  <div>
                     <p>When installing Oracle Grid Infrastructure, any nonclustered Oracle ASM instances are automatically converted to clustered Oracle ASM.</p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="../ostmg/mirroring-diskgroup-redundancy.html#OSTMG-GUID-C0EF42F0-4C35-4ACA-AF10-FA98A952B244" target="_blank"><span><cite>Oracle Automatic Storage Management Administrator's Guide</cite></span></a></li>
                        </ul>
                     </div>
                  </div>
               </div><a id="RACAD826"></a><div class="sect3"><a id="GUID-2D617A25-0E8E-4B3E-95AA-8AD26DA12DF2" name="GUID-2D617A25-0E8E-4B3E-95AA-8AD26DA12DF2"></a><h4 id="RACAD-GUID-2D617A25-0E8E-4B3E-95AA-8AD26DA12DF2" class="sect4">Administering Oracle ASM Instances with SRVCTL in Oracle RAC</h4>
                  <div>
                     <p>You can use the Server Control Utility (SRVCTL) to add or remove an Oracle ASM instance.</p>
                     <p>To issue SRVCTL commands to manage Oracle ASM, log in as the operating system user that owns the Oracle Grid Infrastructure home and issue the SRVCTL commands from the bin directory of the Oracle Grid Infrastructure home.</p>
                     <p>Use the following syntax to add an Oracle ASM instance:</p><pre class="pre codeblock"><code>srvctl add asm</code></pre><p>Use the following syntax to remove an Oracle ASM instance:</p><pre class="pre codeblock"><code>srvctl remove asm [-force]</code></pre><p>You can also use SRVCTL to start, stop, and obtain the status of an Oracle ASM instance as in the following examples. </p>
                     <p>Use the following syntax to start an Oracle ASM instance:</p><pre class="pre codeblock"><code>srvctl start asm [-node <span class="variable" translate="no">node_name</span>] [-startoption <span class="variable" translate="no">start_options</span>]</code></pre><p>Use the following syntax to stop an Oracle ASM instance:</p><pre class="pre codeblock"><code>srvctl stop asm [-node <span class="variable" translate="no">node_name</span>] [-stopoption <span class="variable" translate="no">stop_options</span>]</code></pre><p>Use the following syntax to show the configuration of an Oracle ASM instance:</p><pre class="pre codeblock"><code>srvctl config asm -node <span class="variable" translate="no">node_name</span></code></pre><p>Use the following syntax to display the state of an Oracle ASM instance:</p><pre class="pre codeblock"><code>srvctl status asm [-node <span class="variable" translate="no">node_name</span>]</code></pre></div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="server-control-utility-reference.html#GUID-3ED4DBCE-A148-462B-8A79-534A3F0D6E7D" title="SRVCTL is installed on each node in a cluster by default. To use SRVCTL, log in to the operating system of a node and enter the SRVCTL command and its parameters in case-sensitive syntax.Use SRVCTL to manage databases, instances, cluster databases, cluster database instances, Oracle ASM instances and disk groups, services, listeners, or other clusterware resources. This section includes information about using context sensitive help with SRVCTL.A number of SRVCTL commands and parameters have been deprecated in this release.Single-character parameters have been deprecated in Oracle Database 12c.A comprehensive list of SRVCTL commands to use in Oracle RAC environments.Adds a database configuration to Oracle Clusterware.Displays the configuration for an Oracle RAC database or lists all configured databases that are registered with Oracle Clusterware.Converts a database either to or from an Oracle RAC One Node database.Disables a running database.Downgrades the configuration of a database and its services from its current version to a specific lower version.Enables a cluster database and its instances.Displays the values for environment variables associated with a database.Modifies the configuration for a database.Predicts the consequences of the failure of a specific database.Initiates the relocation of an Oracle RAC One Node database from one node to another node.Removes database configurations.Administers cluster database environment configurations.Starts a cluster database and its enabled instances, and all listeners on nodes with database instances.This command displays the current state of the of the database.Stops a database, its instances, and its services.Unsets the cluster database environment configurations.Updates the specified database to use the new listener endpoints.Upgrades the configuration of a database and all of its services to the version of the database home from where this command is run.Disables a specific disk group on a number of specified nodes.Enables a specific disk group on a number of specified nodes.Predicts the consequences of an Oracle ASM disk group failure.Removes a specific Oracle ASM disk group resource from Oracle Clusterware or Oracle Restart.Starts a specific Oracle ASM disk group resource on a number of specified nodes.Displays the status of a specific disk group on a number of specified nodes.Stops a specific Oracle ASM disk group resource on a number of specified nodes.Starts all the Oracle Restart-managed or Oracle Clusterware-managed resources on the specified Oracle home.Displays the status of all the Oracle Restart-managed or Oracle Clusterware-managed resources for the specified Oracle home.Stops all the Oracle Restart-managed or Oracle Clusterware-managed resources that run from the specified Oracle home.Adds a configuration for an instance to your cluster database configuration. Disables a database instance.Enables an instance of an Oracle RAC database.For an administrator-managed database, this command modifies the configuration for a database instance from its current node to another node. For a policy-managed database, this command defines an instance name to use when the database runs on the specified node.Removes the configurations for an instance of an administrator-managed database.Starts instances in the cluster database.The srvctl stop instance command stops instances and stops any services running on specified instances.The srvctl update instance command changes to which Oracle ASM instance or Oracle ASM IOServer the instance connects, or it changes the open mode of the instance.Adds a listener to every node in a cluster.Displays configuration information of a specific listener that is registered with Oracle Clusterware.Disables a listener resource.Enables a listener resource.Displays the environment variables for the specified listener.Changes several aspects of the listenerPredicts the consequences of a listener failure.Removes the configuration of a specific listener, or all listeners, from Oracle Clusterware or Oracle Restart.Administers listener environment configurations.Starts the default listener on specific node, or starts the specified listener on all nodes that are registered with Oracle Clusterware or on the given node.Displays the status of listener resources.Stops the default listener or a specific listener on all nodes or the specified node.Unsets the environment configuration for a listener.Updates the listener to listen on the new endpoints.Adds a static or dynamic network.Displays the network configuration for the cluster.Modifies the subnet, network type, or IP address type for a network.Predicts the consequences of network failure.Removes the network configuration.Adds a node application configuration to the specified node.Displays the VIP configuration for each node in the cluster.Disables node applications on all nodes in the cluster.Enables the node applications on all nodes in the cluster.Displays the environment variables for the node application configurations.Modifies the configuration for a node application.Removes the node application configuration.Sets the environment variables for the node application configurations.Starts node-level applications on a node or all nodes in the cluster.Displays the status of node applications.Stops node-level applications on a node in the cluster.Unsets the environment configuration for the node applications.Adds an Oracle Notification Service daemon to an Oracle Restart configuration.Displays configuration information for the Oracle Notification Service daemon.Disables the Oracle Notification Service daemon for Oracle Restart installations.Enables the Oracle Notification Service daemon.Modifies the ports used by the Oracle Notification Service daemon that is registered with Oracle Restart.Removes Oracle Notification Service from the Oracle Grid Infrastructure home.Starts the Oracle Notification Service daemon.Displays the current state of the Oracle Notification Service daemon.Stops the Oracle Notification Service daemon.Adds Oracle Clusterware resources for the given SCAN. Displays the configuration information for all SCAN VIPs, by default, or a specific SCAN VIP identified by ordinal_number.Disables all SCAN VIPs, by default, or a specific SCAN VIP identified by ordinal_number.Enables all SCAN VIPs, by default, or a specific SCAN VIP identified by its ordinal number.Modifies the number of SCAN VIPs to match the number of IP addresses returned by looking up the scan_name you specify in DNS.Predicts the consequences of SCAN failure.Relocates a specific SCAN VIP from its current hosting node to another node within the cluster.Removes Oracle Clusterware resources from all SCAN VIPs.Starts all SCAN VIPs, by default, or a specific SCAN VIP, on all nodes or a specific node in the cluster.Displays the status for all SCAN VIPs, by default, or a specific SCAN VIP.Stops all SCAN VIPs, by default, that are running or in starting state, or stops a specific SCAN VIP identified by an ordinal number.Adds Oracle Clusterware resources for the SCAN listeners.Displays the configuration information for all SCAN listeners, by default, or a specific listener identified by network number or ordinal_number.Disables all SCAN listeners, by default, or a specific listener identified by an ordinal number.Enables all SCAN listeners, by default, or a specific listener identified by its ordinal number.Modifies the SCAN listener to match that of the SCAN VIP, or modifies the SCAN listener endpoints or service registration restrictions.Predicts the consequences of SCAN listener failure.Relocates a specific SCAN listener from its current hosting node to another node within the cluster.Removes Oracle Clusterware resources from all SCAN listeners.Starts all SCAN listeners, by default, or a specific listener on all nodes or a specific node in the cluster.Displays the status for all SCAN listeners, by default, or a specific listener.Stops all SCAN listeners, by default, that are in a running or starting state, or a specific listener identified by an ordinal number.Updates the SCAN listeners to listen on the new endpoints.Relocates servers to a server pool in the cluster.Displays the current state of specific servers.Adds services to a database and assigns them to instances.Displays the configuration for a service.Disables a service.Enables a service for Oracle Clusterware.Modifies service configuration.Predicts the consequences of service failure.Temporarily relocates the specified service names from one specified instance to another specified instance.Removes the configuration for a service.Starts a service or multiple services on a database, pluggable database, or instance.Displays the status of a service.Stops one or more services globally across the cluster database, or on the specified instance.Adds a server pool that is configured to host Oracle databases to a cluster.Displays configuration information including name, minimum size, maximum size, importance, and a list of server names, if applicable, for a specific server pool in a cluster.Modifies a server pool in a cluster.Removes a specific server pool.Displays server pool names, number of servers in server pools, and, optionally, the names of the servers in the server pools.Adds a virtual IP address (VIP) to a node.Displays all VIPs on all networks in the cluster except for user VIPs.Disables a specific VIP.Enables a specific VIP.Obtains the values of environment variables for a specific VIP.Modifies IP address type but you can also use it to modify just the IP address.Predicts the consequences of VIP failure.Relocates a specific VIP from its current hosting node to another node within the cluster.Removes specific VIPs.Administers cluster VIP environment configurations.Starts a specific VIP or a VIP on a specific node.Displays status for a specific VIP or a VIP on a specific node.Stops a specific VIP or all VIPs on a specific node, including any VIPs that were relocated due to a failover.Unsets the environment configuration for the specified cluster VIP.Displays the configuration for a specific volume or all volumes.Disables Oracle Clusterware management for a specific volume or all volumes.Enables Oracle Clusterware management for a specific volume or all volumes.Removes a specific volume.Starts a specific, enabled volume.Displays the status of a specific volume or all volumes.Stops a specific, running volume.">Server Control Utility Reference</a></li>
                           <li><a href="../ostmg/asm-instance.html#OSTMG-GUID-461E1F97-9F75-4B14-AB6A-893BD8D371DE" target="_blank"><span><cite>Oracle Automatic Storage Management Administrator's Guide</cite></span></a></li>
                        </ul>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>