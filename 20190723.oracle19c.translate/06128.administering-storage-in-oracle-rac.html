<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="Oracle recommends Oracle Automatic Storage Management (Oracle ASM) as a storage management solution that provides an alternative to conventional volume managers, file systems, and raw devices."></meta>
      <meta name="description" content="Oracle recommends Oracle Automatic Storage Management (Oracle ASM) as a storage management solution that provides an alternative to conventional volume managers, file systems, and raw devices."></meta>
      <title>在Oracle RAC中管理存储</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Real Application Clusters Administration and Deployment Guide"></meta>
      <meta property="og:description" content="Oracle recommends Oracle Automatic Storage Management (Oracle ASM) as a storage management solution that provides an alternative to conventional volume managers, file systems, and raw devices."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Real Application Clusters Administration and Deployment Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="real-application-clusters-administration-and-deployment-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-04-25T14:02:30-07:00"></meta>
      <meta name="dcterms.title" content="Real Application Clusters Administration and Deployment Guide"></meta>
      <meta name="dcterms.dateCopyrighted" content="1999, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E95728-03"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="introduction-to-oracle-rac.html" title="Previous" type="text/html"></link>
      <link rel="next" href="administering-database-instances-and-cluster-databases.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="RACAD"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="introduction-to-oracle-rac.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="administering-database-instances-and-cluster-databases.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Real Application Clusters管理和部署指南</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">在Oracle RAC中管理存储</li>
            </ol>
            <a id="GUID-94CBE29D-A3DF-43FE-B15F-C3B9A1AD1A63" name="GUID-94CBE29D-A3DF-43FE-B15F-C3B9A1AD1A63"></a><a id="RACAD703"></a>
            
            <h2 id="RACAD-GUID-94CBE29D-A3DF-43FE-B15F-C3B9A1AD1A63" class="sect2"><span class="enumeration_chapter">2</span>在Oracle RAC中管理存储</h2>
         </header>
         <div class="ind">
            <div>
               <p>Oracle建议将Oracle自动存储管理（Oracle ASM）用作存储管理解决方案，以替代传统的卷管理器，文件系统和原始设备。</p>
               <p>Oracle ASM是Oracle数据库文件的<a href="glossary.html#GUID-CF0EFF65-9E17-4B52-B94E-91AC84A08DCE"><span class="xrefglossterm">卷管理器</span></a>和<a href="glossary.html#GUID-DFAF8EED-EA6D-4437-A903-97E01F8D36A8"><span class="xrefglossterm">文件系统</span></a> ，支持单实例Oracle数据库和Oracle Real Application Clusters（Oracle RAC）配置。
               </p>
               <p>Oracle ASM使用磁盘组来存储数据文件; Oracle ASM磁盘组是Oracle ASM作为一个单元管理的磁盘集合。在磁盘组中，Oracle ASM公开Oracle数据库文件的文件系统接口。存储在磁盘组中的文件内容均匀分布，以消除热点并在磁盘上提供统一的性能。性能与原始设备的性能相当。</p>
               <p>当数据库继续访问磁盘组中的文件时，您可以在磁盘组中添加或删除磁盘。在磁盘组中添加或删除磁盘时，Oracle ASM会自动重新分配文件内容，并在重新分发内容时无需停机。</p>
               <p>Oracle ASM卷管理器功能提供灵活的基于服务器的镜像选项。Oracle ASM普通和高冗余磁盘组分别支持双向和三向镜像。您可以使用外部冗余来启用独立磁盘冗余阵列（RAID）存储子系统来执行镜像保护功能。</p>
               <p>Oracle ASM还使用Oracle托管文件功能来简化数据库文件管理。Oracle Managed Files会自动在指定位置创建文件。Oracle管理文件还命名文件并在删除表空间或文件时放弃空间时删除它们。</p>
               <p>Oracle ASM通过将数据存储整合到少量磁盘组中来减少管理数据库存储的管理开销。较少数量的磁盘组合并了多个数据库和dprovides的存储，以提高I / O性能。</p>
               <p>Oracle ASM文件可以与其他存储管理选项共存，例如原始磁盘和第三方文件系统。此功能简化了Oracle ASM与预先存在的环境的集成。</p>
               <p>Oracle ASM具有易于使用的管理界面，例如SQL * Plus，Oracle ASM命令行实用程序（ASMCMD）命令行界面和Oracle ASM配置助手（ASMCA）。</p>
               <p>本章包括以下主题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="administering-storage-in-oracle-rac.html#GUID-4673280F-D42B-4002-8F29-275800D34F69" title="Oracle RAC数据库的所有数据文件（包括每个实例的撤消表空间）和重做日志文件（每个实例至少两个）必须驻留在共享存储上。">Oracle RAC存储管理概述</a></p>
                  </li>
                  <li>
                     <p><a href="administering-storage-in-oracle-rac.html#GUID-3DD2742D-327C-4A41-96FD-5DF9192793A6">Oracle RAC中的数据文件访问</a></p>
                  </li>
                  <li>
                     <p><a href="administering-storage-in-oracle-rac.html#GUID-B27F3557-4C20-483A-ADC0-8E02D385CE99" title="Oracle数据库可以充当网络文件系统（NFS）服务器。数据库响应来自任何NFS客户端的NFS请求，并将文件及其元数据存储在数据库中。">NFS服务器用于存储</a></p>
                  </li>
                  <li>
                     <p><a href="administering-storage-in-oracle-rac.html#GUID-4E4EF420-6E22-4A95-B9AB-B9C6E33D31A5">Oracle RAC中的重做日志文件存储</a></p>
                  </li>
                  <li>
                     <p><a href="administering-storage-in-oracle-rac.html#GUID-486BF5F7-870D-4723-BA95-35AEF4CBF9C7">Oracle RAC中的自动撤消管理</a></p>
                  </li>
                  <li>
                     <p><a href="administering-storage-in-oracle-rac.html#GUID-C1E8F960-0CD8-4608-80BA-A9F335A34BD5" title="Oracle ASM通过管理Oracle ASM管理的磁盘上的存储配置，自动最大化I / O性能。">使用Oracle RAC进行Oracle自动存储管理</a></p>
                  </li>
               </ul>
            </div>
            <div>
               <div class="relinfo">
                  <p><strong>相关话题</strong></p>
                  <ul>
                     <li><a href="../ostmg/admin-asm-diskgroups.html#OSTMG-GUID-C455CEB1-0FC3-4DF4-9CD4-25EFA4D2BE01" target="_blank"><span><cite>Oracle自动存储管理管理员指南</cite></span></a></li>
                     <li><a href="../ostmg/part-instance-diskgroup.html#OSTMG-GUID-74C67180-6F24-4F50-8581-0DF71F1C5B47" target="_blank"><span><cite>Oracle自动存储管理管理员指南</cite></span></a></li>
                  </ul>
               </div>
            </div><a id="RACAD802"></a><div class="sect2"><a id="GUID-4673280F-D42B-4002-8F29-275800D34F69" name="GUID-4673280F-D42B-4002-8F29-275800D34F69"></a><h3 id="RACAD-GUID-4673280F-D42B-4002-8F29-275800D34F69" class="sect3">Oracle RAC存储管理概述</h3>
               <div>
                  <p>Oracle RAC数据库的所有数据文件（包括每个实例的撤消表空间）和重做日志文件（每个实例至少两个）必须驻留在共享存储上。</p>
                  <p>Oracle建议您使用Oracle ASM将这些文件存储在Oracle ASM磁盘组中。</p>
                  <p>Oracle支持使用共享存储的其他方法，例如经过认证的<a href="glossary.html#GUID-0152C87A-A61B-433F-ACAB-B3680D27B2F4"><span class="xrefglossterm">集群文件系统</span></a> 。此外，Oracle建议您将一个共享服务器参数文件（SPFILE）与特定于实例的条目一起使用。Oracle RAC 12 <span class="italic">c</span>允许在Oracle ASM中存储共享密码文件，并将Oracle数据库文件存储在Oracle自动存储管理群集文件系统（Oracle ACFS）上。
                  </p>
                  <div class="infoboxnote" id="GUID-4673280F-D42B-4002-8F29-275800D34F69__GUID-FEEEBF94-C85F-4A03-9876-7E85A9FF6091">
                     <p class="notep1">注意：</p>
                     <p>Oracle数据库和相关技术（如Oracle Clusterware）不再支持使用原始（块）存储设备。在升级到Oracle Clusterware 12 <span class="italic">c</span>之前，必须将文件移动到Oracle ASM。
                     </p>
                  </div>
                  <p>除非另有说明，否则Oracle数据库存储功能（如Oracle ASM，Oracle托管文件，自动段空间管理等）在Oracle RAC环境中的功能与在非群集Oracle数据库环境中的功能相同。</p>
                  <div class="infoboxnote" id="GUID-4673280F-D42B-4002-8F29-275800D34F69__GUID-ADDCEA61-917E-4102-86E8-F097CA24EEE6">
                     <p class="notep1">注意：</p>
                     <p>要使用Oracle Database Standard Edition创建Oracle RAC数据库，必须使用Oracle ASM进行数据库存储。</p>
                  </div>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="../admqs/installing-oracle-database-creating-database.html#ADMQS-GUID-DBC8C390-D3B7-40A6-B625-26AE44AA45E1" target="_blank"><span><cite>Oracle数据库2天DBA</cite></span></a></li>
                        <li><a href="../ostmg/asm-intro.html#OSTMG-GUID-BC612D35-5399-4A35-843E-CF76E3D3CDB5" target="_blank"><span><cite>Oracle自动存储管理管理员指南</cite></span></a></li>
                        <li><a href="../admin/oracle-database-structure-and-storage.html#ADMIN-GUID-F11D30A7-BF12-4D8F-A1C2-D7437D38F8C7" target="_blank"><span><cite>Oracle数据库管理员指南</cite></span></a></li>
                     </ul>
                  </div>
               </div>
            </div><a id="RACAD830"></a><div class="sect2"><a id="GUID-3DD2742D-327C-4A41-96FD-5DF9192793A6" name="GUID-3DD2742D-327C-4A41-96FD-5DF9192793A6"></a><h3 id="RACAD-GUID-3DD2742D-327C-4A41-96FD-5DF9192793A6" class="sect3">Oracle RAC中的数据文件访问</h3>
               <div>
                  <p><a id="d10773e563" class="indexterm-anchor"></a>所有Oracle RAC实例都必须能够访问所有数据文件。如果在打开数据库时必须恢复数据文件，则要启动的第一个Oracle RAC实例是执行恢复并验证对文件的访问权的实例。在其他实例启动时，它们还会验证对数据文件的访问权限。同样，当您添加表空间或数据文件或将表空间或数据文件联机时，所有实例都会验证对文件的访问权限。
                  </p>
                  <p>如果将数据文件添加到其他实例无法访问的磁盘，则验证将失败。如果实例访问同一数据文件的不同副本，则验证也会失败。如果任何实例的验证失败，则诊断并解决问题。然后在每个实例上运行<code class="codeph">ALTER SYSTEM CHECK DATAFILES</code>语句以验证数据文件访问。
                  </p>
               </div>
            </div>
            <div class="sect2"><a id="GUID-B27F3557-4C20-483A-ADC0-8E02D385CE99" name="GUID-B27F3557-4C20-483A-ADC0-8E02D385CE99"></a><h3 id="RACAD-GUID-B27F3557-4C20-483A-ADC0-8E02D385CE99" class="sect3">NFS服务器用于存储</h3>
               <div>
                  <p>Oracle数据库可以充当网络文件系统（NFS）服务器。数据库响应来自任何NFS客户端的NFS请求，并将文件及其元数据存储在数据库中。</p>
                  <p>与主数据库关联的文件（如SQL脚本）可以在备用数据库上自动复制。您还可以在数据库中存储非结构化数据，例如电子邮件。</p>
                  <p>您可以使用<span><cite>Oracle Database SecureFiles和Large Objects Developer's Guide中</cite></span>记录的过程创建或销毁Oracle文件系统并通过NFS服务器访问它。
                  </p>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="../adlob/introducing-network-file-system.html#ADLOB-GUID-099C7265-BAED-4970-9A6B-0DD7F620B18E" target="_blank"><span><cite>Oracle Database SecureFiles和大对象开发人员指南</cite></span></a></li>
                        <li><a href="../arpls/DBMS_FS.html#ARPLS-GUID-F21D6EF9-F8CA-403B-95A5-ED081951C51D" target="_blank"><span><cite>Oracle数据库PL / SQL包和类型参考</cite></span></a></li>
                        <li><a href="../refrn/background-processes.html#REFRN-GUID-86184690-5531-405F-AA05-BB935F57B76D" target="_blank"><span><cite>Oracle数据库参考</cite></span></a></li>
                     </ul>
                  </div>
               </div>
            </div><a id="RACAD704"></a><div class="sect2"><a id="GUID-4E4EF420-6E22-4A95-B9AB-B9C6E33D31A5" name="GUID-4E4EF420-6E22-4A95-B9AB-B9C6E33D31A5"></a><h3 id="RACAD-GUID-4E4EF420-6E22-4A95-B9AB-B9C6E33D31A5" class="sect3">Oracle RAC中的重做日志文件存储</h3>
               <div>
                  <p>在Oracle RAC数据库中，每个实例必须至少有两组重做日志文件。在使用<code class="codeph">ALTER DATABASE ENABLE INSTANCE <span class="variable" translate="no">instance_name</span></code>命令<code class="codeph">ALTER DATABASE ENABLE INSTANCE <span class="variable" translate="no">instance_name</span></code>新实例之前，必须分配重做日志组。使用DBCA创建数据库时，DBCA会根据需要自动为实例分配重做日志文件。您可以在初始数据库创建期间或作为创建后步骤，根据需要更改重做日志组的数量和重做日志文件的大小。
                  </p>
                  <p>当前组填充时，实例开始写入下一个日志文件组。如果数据库处于<code class="codeph">ARCHIVELOG</code>模式，则每个实例必须将填充的联机日志组保存为在控制文件中跟踪的归档重做日志文件。在数据库恢复期间，将检查所有已启用的实例以查看是否需要恢复。如果从Oracle RAC数据库中删除实例，则应禁用实例的重做线程，以便Oracle在数据库恢复期间不必检查线程。
                  </p>
                  <p>当特定生产Oracle RAC数据库的实例数发生更改时，必须考虑重做日志管理。例如，如果为策略管理的数据库增加服务器池的基数并将新服务器分配给服务器池，则Oracle会在新服务器上启动实例。一旦新服务器上的数据库实例启动，它将需要一组重做日志组。使用基于Oracle ASM磁盘组的Oracle Managed Files，将自动执行所需重做日志线程和相应文件的分配。只有在使用管理员管理的数据库时，才应创建重做日志组。</p>
                  <p>对于管理员管理的数据库，每个实例都有自己的联机重做日志组。创建这些重做日志组并建立组成员。要将重做日志组添加到特定实例，请在<code class="codeph">ALTER DATABASE ADD LOGFILE</code>语句中指定<code class="codeph">INSTANCE</code>子句。如果在添加重做日志组时未指定实例，则重做日志组将添加到当前连接的实例。
                  </p>
                  <p>每个实例必须至少有两组重做日志文件。在使用<code class="codeph">ALTER DATABASE ENABLE INSTANCE</code> <span class="italic"><code class="codeph">instance_name</code></span>命令<code class="codeph">ALTER DATABASE ENABLE INSTANCE</code>新实例之前，必须分配重做日志组。当前组填充时，实例开始写入下一个日志文件组。如果数据库处于<code class="codeph">ARCHIVELOG</code>模式，则每个实例必须将填充的联机日志组保存为在控制文件中跟踪的归档重做日志文件。
                  </p>
                  <p>在数据库恢复期间，将检查所有已启用的实例以查看是否需要恢复。如果从Oracle RAC数据库中删除实例，则应禁用实例的重做线程，以便Oracle在数据库恢复期间不必检查线程。</p>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="introduction-to-oracle-rac.html#GUID-3A105B5C-75B4-4031-AC3A-7D8896CF0A72" title="任何使用Oracle RAC设计和实施高可用性策略的企业都必须首先对需要高可用性的业务驱动程序进行全面分析。">关于设计和部署Oracle RAC环境</a></li>
                        <li><a href="../admin/managing-the-redo-log.html#ADMIN-GUID-081AE57B-A821-4F26-97B2-4B141FDB3946" target="_blank"><span><cite>Oracle数据库管理员指南</cite></span></a></li>
                        <li><a href="../sqlrf/ALTER-DATABASE.html#SQLRF-GUID-8069872F-E680-4511-ADD8-A4E30AF67986" target="_blank"><span><cite>Oracle数据库SQL语言参考</cite></span></a></li>
                     </ul>
                  </div>
               </div>
            </div><a id="RACAD705"></a><div class="sect2"><a id="GUID-486BF5F7-870D-4723-BA95-35AEF4CBF9C7" name="GUID-486BF5F7-870D-4723-BA95-35AEF4CBF9C7"></a><h3 id="RACAD-GUID-486BF5F7-870D-4723-BA95-35AEF4CBF9C7" class="sect3">Oracle RAC中的自动撤消管理</h3>
               <div>
                  <p>Oracle数据库自动管理分配给实例的特定还原表空间内的还原段。实例始终可以读取整个<a href="glossary.html#GUID-1B7C963C-0E0C-425E-AD47-D75C912230CB"><span class="xrefglossterm">群集</span></a>环境中的所有撤消块，以实现一致的读取目的。此外，任何实例都可以在事务恢复期间更新任何撤消表空间，如果该撤消表空间当前未被另一个实例用于撤消生成或事务恢复。
                  </p>
                  <p>通过为SPFILE或单个PFILE中的每个实例指定<code class="codeph">UNDO_TABLESPACE</code>参数的不同值，可以在Oracle RAC管理员管理的数据库中分配撤消表空间。对于策略管理的数据库，如果启用了Oracle Managed Files，Oracle会在实例启动时自动分配undo表空间。您无法在Oracle RAC数据库中同时使用自动撤消管理和手动撤消管理。换句话说，Oracle RAC数据库的所有实例必须以相同的撤消模式运行。
                  </p>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="administering-database-instances-and-cluster-databases.html#GUID-A982117D-2647-4399-8F98-9E3B31F4332F">为Oracle RAC设置SPFILE参数值</a></li>
                        <li><a href="../admin/managing-tablespaces.html#ADMIN-GUID-5E395CA6-A7AF-4E05-B9C1-E85DE0EA235A" target="_blank"><span><cite>Oracle数据库管理员指南</cite></span></a></li>
                     </ul>
                  </div>
               </div>
            </div><a id="RACAD820"></a><div class="sect2"><a id="GUID-C1E8F960-0CD8-4608-80BA-A9F335A34BD5" name="GUID-C1E8F960-0CD8-4608-80BA-A9F335A34BD5"></a><h3 id="RACAD-GUID-C1E8F960-0CD8-4608-80BA-A9F335A34BD5" class="sect3">使用Oracle RAC进行Oracle自动存储管理</h3>
               <div>
                  <p>Oracle ASM通过管理Oracle ASM管理的磁盘上的存储配置，自动最大化I / O性能。</p>
                  <p>Oracle ASM通过在分配给Oracle ASM中的磁盘组的所有可用存储中均匀分布数据库文件来实现此目的。 Oracle ASM将磁盘空间总需求分配到磁盘组中所有磁盘的统一大小的单元中。Oracle ASM还可以自动镜像文件以防止数据丢失。由于这些功能，Oracle ASM还可以显着降低您的管理开销。</p>
                  <p>在安装Oracle Clusterware的每个节点上创建Oracle ASM实例。每个Oracle ASM实例都有一个SPFILE或PFILE类型的参数文件。Oracle建议您备份非默认Oracle Net侦听器的参数文件和TNS条目。</p>
                  <p>要将Oracle ASM与Oracle RAC一起使用，请在使用Database Configuration Assistant（DBCA）创建数据库时选择Oracle ASM作为存储选项。与非群集Oracle数据库一样，将Oracle ASM与Oracle RAC一起使用不需要I / O调整。</p>
                  <p>以下主题描述了Oracle ASM和Oracle ASM管理，如下所示：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="administering-storage-in-oracle-rac.html#GUID-641E877B-7250-444F-8EFA-2346B54EC879" title="您可以使用Oracle ASM配置助手（ASMCA）创建Oracle ASM磁盘组并为Oracle ASM磁盘组配置镜像。">Oracle RAC中的存储管理</a></p>
                     </li>
                     <li>
                        <p><a href="administering-storage-in-oracle-rac.html#GUID-9A219E43-9592-48C7-B9D1-5F918205979A" title="为群集创建磁盘组或将新磁盘添加到现有群集磁盘组时，请在共享磁盘上准备基础物理存储，并授予Oracle用户读取和写入磁盘的权限。">修改Oracle ASM的磁盘组配置</a></p>
                     </li>
                     <li>
                        <p><a href="administering-storage-in-oracle-rac.html#GUID-0A11530A-2A2D-442A-A339-D37F4EBDD909" title="要使用Oracle ASM，必须先使用ASCAA创建磁盘组，然后再使用DBCA创建数据库。">Oracle ASM磁盘组管理</a></p>
                     </li>
                     <li>
                        <p><a href="administering-storage-in-oracle-rac.html#GUID-62EC3F26-074C-468E-B2BB-67206AD24646">在远程距离群集中配置首选镜像读取磁盘</a></p>
                     </li>
                     <li>
                        <p><a href="administering-storage-in-oracle-rac.html#GUID-1329FEE7-CB53-4D2B-888B-66AFCBBB17F7">将非集群Oracle ASM转换为集群Oracle ASM</a></p>
                     </li>
                     <li>
                        <p><a href="administering-storage-in-oracle-rac.html#GUID-2D617A25-0E8E-4B3E-95AA-8AD26DA12DF2" title="您可以使用服务器控制实用程序（SRVCTL）添加或删除Oracle ASM实例。">在Oracle RAC中使用SRVCTL管理Oracle ASM实例</a></p>
                     </li>
                  </ul>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="../ostmg/asm-intro.html#OSTMG-GUID-BC612D35-5399-4A35-843E-CF76E3D3CDB5" target="_blank"><span><cite>Oracle自动存储管理管理员指南</cite></span></a></li>
                     </ul>
                  </div>
               </div><a id="RACAD0014"></a><div class="sect3"><a id="GUID-641E877B-7250-444F-8EFA-2346B54EC879" name="GUID-641E877B-7250-444F-8EFA-2346B54EC879"></a><h4 id="RACAD-GUID-641E877B-7250-444F-8EFA-2346B54EC879" class="sect4">Oracle RAC中的存储管理</h4>
                  <div>
                     <p>您可以使用Oracle ASM配置助手（ASMCA）创建Oracle ASM磁盘组并为Oracle ASM磁盘组配置镜像。</p>
                     <p>或者，您可以在使用Oracle Enterprise Manager发现相应的服务器之后使用Oracle Enterprise Manager来管理Oracle ASM磁盘组。</p>
                     <p>用于管理Oracle ASM的Oracle工具（包括ASMCA，Oracle Enterprise Manager以及静默方式安装和升级命令）包括管理Oracle ASM实例和磁盘组的选项。</p>
                     <p>您可以使用群集验证实用程序（CVU）来验证<a href="glossary.html#GUID-1B7C963C-0E0C-425E-AD47-D75C912230CB"><span class="xrefglossterm">群集中</span></a> Oracle ASM的完整性。通常，此检查可确保所有节点上的Oracle ASM实例从同一Oracle主目录运行，如果存在<code class="codeph">asmlib</code> ，则确保它是有效版本且具有有效所有权。运行以下命令以执行此检查：</p><pre class="pre codeblock"><code>cluvfy comp asm [-n <span class="variable" translate="no">node_list</span> ] [-verbose]</code></pre><p>将<code class="codeph"><span class="variable" translate="no">node_list</span></code>替换为要在其上执行检查的以逗号分隔的节点名列表。指定<code class="codeph">all</code>以检查群集中的所有节点。
                     </p>
                     <p>使用<code class="codeph">cluvfy comp ssa</code>命令查找共享存储。
                     </p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="../cwadd/cluster-verification-utility-reference.html#CWADD-GUID-B88DC0CC-851A-4821-AB02-539D994ED524" target="_blank"><span><cite>“Oracle Clusterware管理和部署指南”</cite></span></a></li>
                        </ul>
                     </div>
                  </div>
               </div><a id="RACAD824"></a><div class="sect3"><a id="GUID-9A219E43-9592-48C7-B9D1-5F918205979A" name="GUID-9A219E43-9592-48C7-B9D1-5F918205979A"></a><h4 id="RACAD-GUID-9A219E43-9592-48C7-B9D1-5F918205979A" class="sect4">修改Oracle ASM的磁盘组配置</h4>
                  <div>
                     <p>为群集创建磁盘组或将新磁盘添加到现有群集磁盘组时，请在共享磁盘上准备基础物理存储，并授予Oracle用户读取和写入磁盘的权限。</p>
                     <p>与将Oracle ASM与Oracle RAC数据库与非集群Oracle数据库一起使用相比，共享磁盘要求是使用Oracle ASM与Oracle RAC数据库之间唯一的重大差异。添加或删除磁盘或磁盘组后，Oracle ASM会自动重新分发数据文件。</p>
                     <p>在集群中，每个Oracle ASM实例都管理其节点对磁盘组的元数据更新。此外，每个Oracle ASM实例都会与群集中的其他节点协调磁盘组元数据。与非群集Oracle数据库一样，您可以使用Oracle Enterprise Manager，ASMCA，SQL * Plus和服务器控制实用程序（SRVCTL）来管理Oracle RAC使用的Oracle ASM的磁盘组。 <span><cite>“Oracle自动存储管理管理员指南”</cite></span>介绍了如何使用SQL * Plus来管理Oracle ASM实例。后续部分描述了如何使用其他工具。
                     </p>
                     <div class="infoboxnote" id="GUID-9A219E43-9592-48C7-B9D1-5F918205979A__GUID-ECC3A56C-B87A-42D1-B437-ED9E95875856">
                        <p class="notep1">注意：</p>
                        <p>启动ASMCA时，如果没有Oracle ASM实例，则该实用程序会提示您创建一个。</p>
                     </div>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="../ostmg/asm-instance.html#OSTMG-GUID-461E1F97-9F75-4B14-AB6A-893BD8D371DE" target="_blank"><span><cite>Oracle自动存储管理管理员指南</cite></span></a></li>
                        </ul>
                     </div>
                  </div>
               </div><a id="RACAD647"></a><div class="sect3"><a id="GUID-0A11530A-2A2D-442A-A339-D37F4EBDD909" name="GUID-0A11530A-2A2D-442A-A339-D37F4EBDD909"></a><h4 id="RACAD-GUID-0A11530A-2A2D-442A-A339-D37F4EBDD909" class="sect4">Oracle ASM磁盘组管理</h4>
                  <div>
                     <p>要使用Oracle ASM，必须先使用ASCAA创建磁盘组，然后再使用DBCA创建数据库。</p>
                     <p>您还可以使用磁盘组管理命令创建和管理Oracle ASM实例及其关联的磁盘组，而不必创建数据库。您可以使用Oracle Enterprise Manager或ASMCA将磁盘添加到磁盘组，装入磁盘组或装入所有磁盘组，或创建Oracle ASM实例。此外，您可以使用Oracle Enterprise Manager卸载和删除磁盘组或删除Oracle ASM实例。</p>
                     <p>安装Oracle Clusterware时会创建Oracle ASM实例。要创建Oracle ASM磁盘组，请从<code class="codeph"><span class="variable" translate="no">Grid_home</span> /bin</code>目录运行ASMCA。您还可以在ASMCA for Oracle ASM管理中使用Oracle ASM磁盘组页面。也就是说，您可以与数据库创建分开配置Oracle ASM存储。例如，从“ASM磁盘组”页面，您可以创建磁盘组，将磁盘添加到现有磁盘组，或装入当前未装入的磁盘组。
                     </p>
                     <p>启动ASMCA时，如果尚未创建Oracle ASM实例，则ASMCA会提示您创建实例。ASMCA会提示您输入<code class="codeph">sysasm</code>密码和<code class="codeph">ASMSNMP</code>密码。
                     </p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="../ostmg/manage-asm-asmca.html#OSTMG-GUID-C29F444F-C440-450B-A13B-84CC2147826F" target="_blank"><span><cite>Oracle自动存储管理管理员指南</cite></span></a></li>
                        </ul>
                     </div>
                  </div>
               </div><a id="RACAD01832"></a><div class="sect3"><a id="GUID-62EC3F26-074C-468E-B2BB-67206AD24646" name="GUID-62EC3F26-074C-468E-B2BB-67206AD24646"></a><h4 id="RACAD-GUID-62EC3F26-074C-468E-B2BB-67206AD24646" class="sect4">在远程距离群集中配置首选镜像读取磁盘</h4>
                  <div>
                     <p>配置Oracle ASM <a href="glossary.html#GUID-F8FF4964-08FC-4976-B1EB-74C99DEA199A"><span class="xrefglossterm">故障组时</span></a> ，节点从最接近节点的范围读取可能更有效，即使该范围是辅助范围也是如此。您可以将Oracle ASM配置为从辅助扩展区读取该扩展区是否更接近节点而不是从主副本读取的Oracle ASM，该主副本可能距离节点更远。使用首选读取故障组在<a href="glossary.html#GUID-A0C837CD-9E57-4EC9-AA24-18511C0C5B07"><span class="xrefglossterm">扩展距离群集中</span></a>最有用。
                     </p>
                     <p>要配置此功能，请设置<code class="codeph">ASM_PREFERRED_READ_FAILURE_GROUPS</code>初始化参数，以将故障组名称列表指定为首选读取磁盘。Oracle建议您从扩展群集中节点本地磁盘配置至少一个镜像扩展区副本。但是，对于一个实例首选的故障组可能远程到同一Oracle RAC数据库中的另一个实例。首选读取故障组的参数设置是特定于实例的。
                     </p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="../ostmg/mirroring-diskgroup-redundancy.html#OSTMG-GUID-C0EF42F0-4C35-4ACA-AF10-FA98A952B244" target="_blank"><span><cite>Oracle自动存储管理管理员指南</cite></span></a></li>
                           <li><a href="../refrn/ASM_PREFERRED_READ_FAILURE_GROUPS.html#REFRN-GUID-184C54A6-24CC-4A19-AA81-35AA76FF22A1" target="_blank"><span><cite>Oracle数据库参考</cite></span></a></li>
                        </ul>
                     </div>
                  </div>
               </div><a id="RACAD7290"></a><div class="sect3"><a id="GUID-1329FEE7-CB53-4D2B-888B-66AFCBBB17F7" name="GUID-1329FEE7-CB53-4D2B-888B-66AFCBBB17F7"></a><h4 id="RACAD-GUID-1329FEE7-CB53-4D2B-888B-66AFCBBB17F7" class="sect4">将非集群Oracle ASM转换为集群Oracle ASM</h4>
                  <div>
                     <p>安装Oracle Grid Infrastructure时，任何非集群Oracle ASM实例都会自动转换为集群Oracle ASM。</p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="../ostmg/mirroring-diskgroup-redundancy.html#OSTMG-GUID-C0EF42F0-4C35-4ACA-AF10-FA98A952B244" target="_blank"><span><cite>Oracle自动存储管理管理员指南</cite></span></a></li>
                        </ul>
                     </div>
                  </div>
               </div><a id="RACAD826"></a><div class="sect3"><a id="GUID-2D617A25-0E8E-4B3E-95AA-8AD26DA12DF2" name="GUID-2D617A25-0E8E-4B3E-95AA-8AD26DA12DF2"></a><h4 id="RACAD-GUID-2D617A25-0E8E-4B3E-95AA-8AD26DA12DF2" class="sect4">在Oracle RAC中使用SRVCTL管理Oracle ASM实例</h4>
                  <div>
                     <p>您可以使用服务器控制实用程序（SRVCTL）添加或删除Oracle ASM实例。</p>
                     <p>要发出SRVCTL命令以管理Oracle ASM，请以拥有Oracle Grid Infrastructure主目录的操作系统用户身份登录，并从Oracle Grid Infrastructure主目录的bin目录发出SRVCTL命令。</p>
                     <p>使用以下语法添加Oracle ASM实例：</p><pre class="pre codeblock"><code>srvctl添加asm</code></pre><p>使用以下语法删除Oracle ASM实例：</p><pre class="pre codeblock"><code>srvctl删除asm [-force]</code></pre><p>您还可以使用SRVCTL来启动，停止和获取Oracle ASM实例的状态，如以下示例所示。</p>
                     <p>使用以下语法启动Oracle ASM实例：</p><pre class="pre codeblock"><code>srvctl start asm [-node <span class="variable" translate="no">node_name</span> ] [-startoption <span class="variable" translate="no">start_options</span> ]</code></pre><p>使用以下语法停止Oracle ASM实例：</p><pre class="pre codeblock"><code>srvctl stop asm [-node <span class="variable" translate="no">node_name</span> ] [-stopoption <span class="variable" translate="no">stop_options</span> ]</code></pre><p>使用以下语法显示Oracle ASM实例的配置：</p><pre class="pre codeblock"><code>srvctl config asm -node <span class="variable" translate="no">node_name</span></code></pre><p>使用以下语法显示Oracle ASM实例的状态：</p><pre class="pre codeblock"><code>srvctl status asm [-node <span class="variable" translate="no">node_name</span> ]</code></pre></div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="server-control-utility-reference.html#GUID-3ED4DBCE-A148-462B-8A79-534A3F0D6E7D" title="默认情况下，SRVCTL安装在群集中的每个节点上。要使用SRVCTL，请登录节点的操作系统，并以区分大小写的语法输入SRVCTL命令及其参数。使用SRVCTL管理数据库，实例，集群数据库，集群数据库实例，Oracle ASM实例和磁盘组，服务，侦听器或其他集群件资源。本节包含有关对SRVCTL使用上下文相关帮助的信息。此版本中已弃用了许多SRVCTL命令和参数。Oracle Database 12c中不推荐使用单字符参数。在Oracle RAC环境中使用的SRVCTL命令的完整列表。将数据库配置添加到Oracle Clusterware。显示Oracle RAC数据库的配置或列出向Oracle Clusterware注册的所有已配置数据库。将数据库转换为Oracle RAC One Node数据库或从Oracle RAC One Node数据库转换数据库。禁用正在运行的数据库。将数据库及其服务的配置从当前版本降级到特定的较低版本。启用集群数据库及其实例。显示与数据库关联的环境变量的值。修改数据库的配置。预测特定数据库失败的后果。启动Oracle RAC One Node数据库从一个节点到另一个节点的重定位。删除数据库配置。管理群集数据库环境配置。启动集群数据库及其启用的实例，以及具有数据库实例的节点上的所有侦听器。此命令显示数据库的当前状态。停止数据库，其实例及其服务。取消设置群集数据库环境配置。更新指定的数据库以使用新的侦听器端点。将数据库及其所有服务的配置升级到运行此命令的数据库主目录版本。在许多指定节点上禁用特定磁盘组。在许多指定节点上启用特定磁盘组。预测Oracle ASM磁盘组故障的后果。从Oracle Clusterware或Oracle Restart中删除特定的Oracle ASM磁盘组资源。在许多指定节点上启动特定的Oracle ASM磁盘组资源。显示多个指定节点上特定磁盘组的状态。在许多指定节点上停止特定的Oracle ASM磁盘组资源。启动指定Oracle主目录上的所有Oracle Restart管理或Oracle Clusterware管理的资源。显示指定Oracle主目录的所有Oracle Restart管理资源或Oracle Clusterware管理资源的状态。停止从指定的Oracle主目录运行的所有Oracle Restart管理的或Oracle Clusterware管理的资源。将实例的配置添加到群集数据库配置。禁用数据库实例。启用Oracle RAC数据库的实例。对于管理员管理的数据库，此命令将数据库实例的配置从其当前节点修改为另一个节点。对于策略管理的数据库，此命令定义在数据库在指定节点上运行时要使用的实例名称。删除管理员管理的数据库实例的配置。在集群数据库中启动实例。srvctl stop instance命令停止实例并停止在指定实例上运行的任何服务。srvctl update instance命令更改实例连接的Oracle ASM实例或Oracle ASM IOServer，或者更改实例的打开模式。向集群中的每个节点添加侦听器。显示向Oracle Clusterware注册的特定侦听器的配置信息。禁用侦听器资源。启用侦听器资源。显示指定侦听器的环境变量。改变listener的几个方面预测听者失败的后果。从Oracle Clusterware或Oracle Restart中删除特定侦听器或所有侦听器的配置。管理侦听器环境配置。在特定节点上启动默认侦听器，或在Oracle Clusterware或给定节点上注册的所有节点上启动指定的侦听器。显示侦听器资源的状态。在所有节点或指定节点上停止默认侦听器或特定侦听器。取消设置侦听器的环境配置。更新侦听器以侦听新端点。添加静态或动态网络。显示群集的网络配置。修改网络的子网，网络类型或IP地址类型。预测网络故障的后果。删除网络配置。将节点应用程序配置添加到指定节点。显示群集中每个节点的VIP配置。禁用群集中所有节点上的节点应用程序。在群集中的所有节点上启用节点应用程序。显示节点应用程序配置的环境变量。修改节点应用程序的配置。删除节点应用程序配置。设置节点应用程序配置的环境变量。在节点或集群中的所有节点上启动节点级应用程序。显示节点应用程序的状态。停止群集中节点上的节点级应用程序。取消设置节点应用程序的环境配置。将Oracle Notification Service守护程序添加到Oracle Restart配置。显示Oracle Notification Service守护程序的配置信息。为Oracle重新启动安装禁用Oracle Notification Service守护程序。启用Oracle Notification Service守护程序。修改使用Oracle Restart注册的Oracle Notification Service后台驻留程序使用的端口。从Oracle Grid Infrastructure主目录中删除Oracle Notification Service。启动Oracle Notification Service守护程序。显示Oracle Notification Service守护程序的当前状态。停止Oracle Notification Service守护程序。为给定的SCAN添加Oracle Clusterware资源。默认情况下显示所有SCAN VIP的配置信息，或者显示ordinal_number标识的特定SCAN VIP。默认情况下禁用所有SCAN VIP，或者由ordinal_number标识的特定SCAN VIP。默认情况下启用所有SCAN VIP，或通过其序号识别的特定SCAN VIP。通过查找在DNS中指定的scan_name，修改SCAN VIP的数量以匹配返回的IP地址数。预测SCAN失败的后果。将特定SCAN VIP从其当前主机节点重定位到群集中的另一个节点。从所有SCAN VIP中删除Oracle Clusterware资源。默认情况下，在所有节点或群集中的特定节点上启动所有SCAN VIP或特定SCAN VIP。默认情况下显示所有SCAN VIP的状态或特定SCAN VIP。默认情况下，所有SCAN VIP都在运行或处于启动状态，或者停止由序号识别的特定SCAN VIP。为SCAN侦听器添加Oracle Clusterware资源。默认情况下显示所有SCAN侦听器的配置信息，或者显示由网络号或ordinal_number标识的特定侦听器。默认情况下禁用所有SCAN侦听器，或者按序号识别的特定侦听器。默认情况下启用所有SCAN侦听器，或由其序号标识的特定侦听器。修改SCAN侦听器以匹配SCAN VIP的侦听器，或修改SCAN侦听器端点或服务注册限制。预测SCAN侦听器失败的后果。将特定SCAN侦听器从其当前宿主节点重定位到群集中的另一个节点。从所有SCAN侦听器中删除Oracle Clusterware资源。默认情况下启动所有SCAN侦听器，或在所有节点或群集中的特定节点上启动特定侦听器。默认情况下显示所有SCAN侦听器的状态或特定侦听器。默认情况下，停止处于运行或启动状态的所有SCAN侦听器或由序号标识的特定侦听器。更新SCAN侦听器以侦听新端点。将服务器重定位到群集中的服务器池。显示特定服务器的当前状态。将服务添加到数据库并将其分配给实例。显示服务的配置。禁用服务。为Oracle Clusterware启用服务。修改服务配置。预测服务失败的后果。临时将指定的服务名称从一个指定的实例重定位到另一个指定的实例。删除服务的配置。在数据库，可插拔数据库或实例上启动服务或多个服务。显示服务的状态。跨群集数据库或指定实例全局停止一个或多个服务。添加配置为将Oracle数据库托管到群集的服务器池。显示配置信息，包括名称，最小大小，最大大小，重要性以及群集中特定服务器池的服务器名称列表（如果适用）。修改群集中的服务器池。删除特定的服务器池。显示服务器池名称，服务器池中的服务器数量，以及（可选）服务器池中服务器的名称。向节点添加虚拟IP地址（VIP）。显示群集中除用户VIP之外的所有网络上的所有VIP。禁用特定VIP.Enables特定VIP。为特定VIP设置环境变量的值。修改IP地址类型，但您也可以使用它来修改IP地址。预测VIP失败的后果。将特定VIP从其当前主机节点重定位到群集中的另一个节点。删除特定的VIP。管理群集VIP环境配置。在特定节点上启动特定VIP或VIP。显示特定节点上特定VIP或VIP的状态。停止特定节点上的特定VIP或所有VIP，包括因故障转移而重新定位的任何VIP。取消设置指定群集VIP的环境配置。显示特定卷或所有卷的配置。禁用特定卷或所有卷的Oracle Clusterware管理。为特定卷或所有卷启用Oracle Clusterware管理。删除特定卷。启动特定的启用卷。显示特定卷或所有卷的状态。停止特定的运行卷。">Server Control Utility Reference</a></li>
                           <li><a href="../ostmg/asm-instance.html#OSTMG-GUID-461E1F97-9F75-4B14-AB6A-893BD8D371DE" target="_blank"><span><cite>Oracle自动存储管理管理员指南</cite></span></a></li>
                        </ul>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>