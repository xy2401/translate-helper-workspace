<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>调整Oracle数据库</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Database Administrator&#39;s Reference"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Database Administrator&#39;s Reference for Linux and UNIX System-Based Operating Systems"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="administrators-reference-linux-and-unix-system-based-operating-systems.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-07T05:04:28-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2006, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96356-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="SQLLoader-and-PLSQL-demonstrations.html" title="Previous" type="text/html"></link>
      <link rel="next" href="administering-oracle-database-on-linux.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Administrator&#39;s Reference for Linux and UNIX System-Based Operating Systems"></meta>
    <meta name="dcterms.isVersionOf" content="UNXAR"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="SQLLoader-and-PLSQL-demonstrations.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="administering-oracle-database-on-linux.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">数据库管理员参考</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">调整Oracle数据库</li>
            </ol>
            <a id="GUID-D7706280-A944-4FF1-9A45-CEA224BCF965" name="GUID-D7706280-A944-4FF1-9A45-CEA224BCF965"></a><a id="UNXAR008"></a>
            
            <h2 id="UNXAR-GUID-D7706280-A944-4FF1-9A45-CEA224BCF965" class="sect2"><span class="enumeration_chapter">8</span>调整Oracle数据库</h2>
         </header>
         <div class="ind">
            <div>
               <p>本章介绍如何调优Oracle数据库。它包含以下部分：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="tuning-oracle-database.html#GUID-A8B7D96B-5BCC-45D6-8750-63FAD6945673">调整的重要性</a></p>
                  </li>
                  <li>
                     <p><a href="tuning-oracle-database.html#GUID-1AE0E2C3-3688-4237-9E7C-2BEA0BBD581F" title="vmstat报告有关进程，内存，分页，块IO，陷阱和cpu活动的信息。">操作系统工具</a></p>
                  </li>
                  <li>
                     <p><a href="tuning-oracle-database.html#GUID-AF1D9E38-7B2B-42C0-BFA1-C2101076399E">调整内存管理</a></p>
                  </li>
                  <li>
                     <p><a href="tuning-oracle-database.html#GUID-275FAC97-75EE-46A2-9A14-D1843978461C">调整磁盘输入 - 输出</a></p>
                  </li>
                  <li>
                     <p><a href="tuning-oracle-database.html#GUID-8856E5FC-9C62-4881-A313-76200BA5FA17">监控磁盘性能</a></p>
                  </li>
                  <li>
                     <p><a href="tuning-oracle-database.html#GUID-4F58C709-3605-4272-8976-C0051DD4D270">系统全球区</a></p>
                  </li>
                  <li>
                     <p><a href="tuning-oracle-database.html#GUID-34D4D084-2E28-4325-86E9-C19FDA524710">调整操作系统缓冲区高速缓存</a></p>
                  </li>
               </ul>
            </div><a id="UNXAR241"></a><div class="props_rev_3"><a id="GUID-A8B7D96B-5BCC-45D6-8750-63FAD6945673" name="GUID-A8B7D96B-5BCC-45D6-8750-63FAD6945673"></a><h3 id="UNXAR-GUID-A8B7D96B-5BCC-45D6-8750-63FAD6945673" class="sect3"><span class="enumeration_section">8.1</span>调整的重要性</h3>
               <div>
                  <p>本节的目的是有效地调整和优化Oracle数据库的性能。频繁调整可提高系统性能并防止数据瓶颈。</p>
                  <p>在调整数据库之前，必须使用<span class="q">“ <a href="tuning-oracle-database.html#GUID-1AE0E2C3-3688-4237-9E7C-2BEA0BBD581F" title="vmstat报告有关进程，内存，分页，块IO，陷阱和cpu活动的信息。">操作系统工具</a> ”</span>部分中描述的工具来观察其正常行为。
                  </p>
               </div>
            </div><a id="UNXAR242"></a><div class="props_rev_3"><a id="GUID-1AE0E2C3-3688-4237-9E7C-2BEA0BBD581F" name="GUID-1AE0E2C3-3688-4237-9E7C-2BEA0BBD581F"></a><h3 id="UNXAR-GUID-1AE0E2C3-3688-4237-9E7C-2BEA0BBD581F" class="sect3"><span class="enumeration_section">8.2</span>操作系统工具</h3>
               <div>
                  <p>有几种操作系统工具可用于评估数据库性能和确定数据库要求。除了提供Oracle进程的统计信息外，这些工具还提供有关整个系统的CPU使用率，中断，交换，分页，上下文切换和I / O的统计信息。</p>
                  <p>本节提供有关以下常用工具的信息：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="tuning-oracle-database.html#GUID-ECFDE132-9FB5-4DE4-B384-1D89F9AC033C" title="vmstat报告有关进程，内存，分页，块IO，陷阱和cpu活动的信息。">vmstat的</a></p>
                     </li>
                     <li>
                        <p><a href="tuning-oracle-database.html#GUID-A700EA3B-4B44-4D97-91F4-352DC0A7E3CB">SAR</a></p>
                     </li>
                     <li>
                        <p><a href="tuning-oracle-database.html#GUID-05AE3E63-503D-4F77-9F47-4D275182269F">iostat的</a></p>
                     </li>
                     <li>
                        <p><a href="tuning-oracle-database.html#GUID-0A22446B-4F9E-4A3B-AFCE-26A793332145">swap_ swapinfo_ swapon_或lsps</a></p>
                     </li>
                     <li>
                        <p><a href="tuning-oracle-database.html#GUID-EF193C34-65C3-4C08-B748-155942FCAC7D">Oracle Solaris工具</a></p>
                     </li>
                     <li>
                        <p><a href="tuning-oracle-database.html#GUID-3086EC24-00ED-4A83-914E-B060D60315EB">Linux工具</a></p>
                     </li>
                     <li>
                        <p><a href="tuning-oracle-database.html#GUID-6A22E14C-FE99-41DB-B5D2-1505AE8BE41D">POWER Systems（64位）工具上的IBM AIX</a></p>
                     </li>
                     <li>
                        <p><a href="tuning-oracle-database.html#GUID-43021DDB-74B6-4634-A2FE-53256E181F58">HP-UX工具</a></p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-1AE0E2C3-3688-4237-9E7C-2BEA0BBD581F__GUID-80249BDB-A386-46ED-9F8C-0D60CAD6556E">
                     <p class="notep1">也可以看看：</p>
                     <p>有关这些工具的更多信息，请参见操作系统文档和手册页</p>
                  </div>
               </div><a id="UNXAR243"></a><div class="props_rev_2"><a id="GUID-ECFDE132-9FB5-4DE4-B384-1D89F9AC033C" name="GUID-ECFDE132-9FB5-4DE4-B384-1D89F9AC033C"></a><h4 id="UNXAR-GUID-ECFDE132-9FB5-4DE4-B384-1D89F9AC033C" class="sect4"><span class="enumeration_section">8.2.1</span> vmstat</h4>
                  <div>
                     <p>vmstat报告有关进程，内存，分页，块IO，陷阱和cpu活动的信息。</p>
                     <div class="section">
                        <p>使用<code class="codeph">vmstat</code>命令查看进程，虚拟内存，磁盘，陷阱和CPU活动，具体取决于您使用该命令提供的交换机。运行以下命令之一以六秒为间隔显示CPU活动摘要六次：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>在Oracle Solaris和HP-UX上：</p><pre class="oac_no_warn" dir="ltr">$ vmstat -S 5 6</pre><div class="infoboxnote" id="GUID-ECFDE132-9FB5-4DE4-B384-1D89F9AC033C__GUID-6B66B2DB-90FF-415B-974B-3F65F0D44F5E">
                                 <p class="notep1">注意：</p><code class="codeph">-S</code>选项显示交换统计信息。
                              </div>
                           </li>
                           <li>
                              <p>在POWER系统上的Linux和IBM AIX上（64位）：</p><pre class="oac_no_warn" dir="ltr">$ vmstat 5 6</pre></li>
                        </ul>
                        <p>以下是Linux上此命令的示例输出：</p><pre class="oac_no_warn" dir="ltr">procs memory swap io system cpu rb swpd free buff cache si so bi bo in cs us sy id wa st 0 0 130668 103604 198144 5029000 0 0 1 68 8 6 0 0 100 0 0 0 0 130668 103604 198144 5029000 0 0 0 86 226 352 0 0 100 0 0 0 0 130668 103604 198148 5029000 0 0 0 58 223 357 0 0 100 0 0 0 0 130668 103604 198152 5029004 0 0 0 68 223 358 0 0 100 0 0 0 0 130668 103604 198152 5029004 0 0 0 56 223 357 0 0 100 0 0 0 0 130668 103604 198152 5029004 0 0 0 57 228 362 0 0 100 0 0</pre><p>以下是HP-UX上<code class="codeph">$ vmstat -S 1 2</code>命令的示例输出：</p><pre class="oac_no_warn" dir="ltr">procs memory page faults cpu rbw avm free si so pi po fr de sr in sy cs us sy id 1 0 0 112085 2189167 0 0 3 0 0 0 1 1033 32186 108 1 0 98 1 0 0 112085 2189074 0 0 4 0 0 0 0 1022 508 60 0 0 100</pre><p><code class="codeph">procs</code>列下的<code class="codeph">w</code>子列显示已被换出并写入磁盘的潜在进程数。如果该值不为零，则发生交换并且系统内存不足。
                        </p>
                        <p>对于HP-UX和Oracle Solaris， <code class="codeph">page</code>列下的<code class="codeph">si</code>和<code class="codeph">so</code>列分别表示每秒交换和交换的进程数。理想情况下，这些值应为零。
                        </p>
                        <p>对于Linux， <code class="codeph">si</code>和<code class="codeph">so</code>列表示交换和换出的内存量。
                        </p>
                        <p><code class="codeph">page</code>列下的<code class="codeph">sr</code>列表示扫描速率。高扫描速率是由可用内存不足引起的。
                        </p>
                        <p><code class="codeph">page</code>列下的<code class="codeph">pi</code>和<code class="codeph">po</code>列分别表示每秒的页面调入次数和页面调出次数。页面输入和页面输出的数量增加是正常的。即使在具有足够可用内存的系统上也会发生一些分页。
                        </p>
                        <div class="infoboxnotealso" id="GUID-ECFDE132-9FB5-4DE4-B384-1D89F9AC033C__GUID-283607F7-15E8-46B8-B421-C46E3D45B009">
                           <p class="notep1">也可以看看：</p>
                           <p>有关解释输出的信息，请参见适用于您的平台的vmstat手册页</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="UNXAR244"></a><div class="props_rev_2"><a id="GUID-A700EA3B-4B44-4D97-91F4-352DC0A7E3CB" name="GUID-A700EA3B-4B44-4D97-91F4-352DC0A7E3CB"></a><h4 id="UNXAR-GUID-A700EA3B-4B44-4D97-91F4-352DC0A7E3CB" class="sect4"><span class="enumeration_section">8.2.2</span> sar</h4>
                  <div>
                     <div class="section">
                        <p>根据您使用该命令提供的开关，使用<code class="codeph">sar</code> （system activity reporter）命令在操作系统中显示累积活动计数器。
                        </p>
                        <p><span>在UNIX系统上，</span>以下命令每十秒显示一次输入和输出活动的摘要：</p><pre class="oac_no_warn" dir="ltr">$ sar -b 10 10</pre><p>以下示例显示了Linux系统上此命令的输出：</p><pre class="oac_no_warn" dir="ltr">10:28:01 tps rtps wtps bread / s bwrtn / s 10:28:11 17.20 0.00 17.20 0.00 300.80 10:28:21 46.40 0.00 46.40 0.00 467.20 10:28:31 16.40 0.00 16.40 0.00 283.20 10:28:41 15.60 0.00 15.60 0.00 275.20 10:28:51 17.02 0.00 17.02 0.00 254.65 10:29:01 35.80 0.00 35.80 0.00 414.40 10:29:11 15.80 0.00 15.80 0.00 273.60 10:29:21 17.40 0.00 17.40 0.00 262.40 10:29:31 32.20 0.00 32.20 0.00 406.40 10:29:41 20.98 0.00 20.98 0.00 354.85平均：23.48 0.00 23.48 0.00 329.28</pre><p><code class="codeph">sar</code>输出提供给定时间点的系统输入和输出活动的快照。如果使用多个选项指定间隔时间，则输出可能变得难以阅读。如果指定的间隔时间小于5，则<code class="codeph">sar</code>活动本身会影响输出。
                        </p>
                        <div class="infoboxnotealso" id="GUID-A700EA3B-4B44-4D97-91F4-352DC0A7E3CB__GUID-EE68E784-ACE6-4E7A-868F-BB38F3C24247">
                           <p class="notep1">也可以看看：</p>
                           <p>有关<code class="codeph">sar</code>更多信息的手册页</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="UNXAR245"></a><div class="props_rev_3"><a id="GUID-05AE3E63-503D-4F77-9F47-4D275182269F" name="GUID-05AE3E63-503D-4F77-9F47-4D275182269F"></a><h4 id="UNXAR-GUID-05AE3E63-503D-4F77-9F47-4D275182269F" class="sect4"><span class="enumeration_section">8.2.3</span> iostat</h4>
                  <div>
                     <div class="section">
                        <p>使用<code class="codeph">iostat</code>命令查看终端和磁盘活动，具体取决于您使用该命令提供的交换机。<code class="codeph">iostat</code>命令的输出不包括磁盘请求队列，但它显示哪些磁盘正忙。您可以使用此信息来平衡输入 - 输出负载。
                        </p>
                        <p>以下命令以五秒为间隔显示终端和磁盘活动五次：</p><pre class="oac_no_warn" dir="ltr">$ iostat 5 5</pre><p>以下是Oracle Solaris上的命令的示例输出：</p><pre class="oac_no_warn" dir="ltr">tty blkdev0 sd1 sd2 sd3 cpu tin tout kps tps serv kps tps serv kps tps serv kps tps serv us sy st id 0 1 0 0 0 0 0 31 0 0 18 3 0 42 0 0 0 99 0 16 0 0 0 0 0 0 0 0 0 1 0 14 0 0 0 100 0 16 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 100 0 16 0 0 0 0 0 0 2 0 14 12 2 47 0 0 1 98</pre><p>使用<code class="codeph">iostat</code>命令查找大型磁盘请求队列。请求队列显示特定磁盘设备上的输入 - 输出请求必须等待多长时间才能得到服务。请求队列是由对该磁盘的大量输入 - 输出请求或具有较长平均寻道时间的输入 - 输出引起的。理想情况下，磁盘请求队列应该为零或接近零。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="UNXAR246"></a><div class="props_rev_3"><a id="GUID-0A22446B-4F9E-4A3B-AFCE-26A793332145" name="GUID-0A22446B-4F9E-4A3B-AFCE-26A793332145"></a><h4 id="UNXAR-GUID-0A22446B-4F9E-4A3B-AFCE-26A793332145" class="sect4"><span class="enumeration_section">8.2.4</span> swap，swapinfo，swapon或lsps</h4>
                  <div>
                     <div class="section">
                        <p>使用<code class="codeph">swap</code> ， <code class="codeph">swapinfo</code> ， <code class="codeph">swapon</code>或<code class="codeph">lsps</code>命令报告有关交换空间使用情况的信息。交换空间不足可能会阻止进程响应，从而导致<code class="codeph">Out of Memory</code>错误导致进程失败。<span>下表列出了适用于每个平台的命令：</span></p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <div class="tblformal" id="GUID-0A22446B-4F9E-4A3B-AFCE-26A793332145__GUID-95E0D896-C03A-44B9-9A1E-1E4609FAA9A4">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="This 2 column table lists commands for determining swap space usage. Column 1 is the parameter. Column 2 is the command." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="28%" id="d14091e938">平台</th>
                                    <th align="left" valign="bottom" width="72%" id="d14091e941">命令</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="28%" id="d14091e946" headers="d14091e938 ">
                                       <p>Oracle Solaris</p>
                                    </td>
                                    <td align="left" valign="top" width="72%" headers="d14091e946 d14091e941 ">
                                       <p><code class="codeph">swap -lh</code> ， <code class="codeph">swap -sh</code>和<code class="codeph">zfs list rpool/swap</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="28%" id="d14091e960" headers="d14091e938 ">
                                       <p>Linux的</p>
                                    </td>
                                    <td align="left" valign="top" width="72%" headers="d14091e960 d14091e941 ">
                                       <p><code class="codeph">swapon -s</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="28%" id="d14091e968" headers="d14091e938 ">
                                       <p>POWER Systems上的IBM AIX（64位）</p>
                                    </td>
                                    <td align="left" valign="top" width="72%" headers="d14091e968 d14091e941 ">
                                       <p><code class="codeph">lsps -a</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="28%" id="d14091e976" headers="d14091e938 ">
                                       <p>HP-UX</p>
                                    </td>
                                    <td align="left" valign="top" width="72%" headers="d14091e976 d14091e941 ">
                                       <p><code class="codeph">swapinfo -m</code></p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>以下示例显示<span>了Oracle Solaris上</span> <code class="codeph">swap -l</code>命令的示例输出：</p><pre class="oac_no_warn" dir="ltr">swapfile dev swaplo blocks free / dev / zvol / dsk / rpool / swap 274,1 8 20971447 20971447</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="UNXAR253"></a><div class="props_rev_3"><a id="GUID-EF193C34-65C3-4C08-B748-155942FCAC7D" name="GUID-EF193C34-65C3-4C08-B748-155942FCAC7D"></a><h4 id="UNXAR-GUID-EF193C34-65C3-4C08-B748-155942FCAC7D" class="sect4"><span class="enumeration_section">8.2.5</span> Oracle Solaris Tools</h4>
                  <div>
                     <p>在Oracle Solaris系统上，使用<code class="codeph">mpstat</code>命令查看多处理器系统中每个处理器的统计信息。表的每一行代表一个处理器的活动。第一行汇总了自上次系统重新启动以来的所有活动。每个后续行汇总前一个时间间隔的活动。除非另有说明，否则所有值均为每秒事件数。参数用于统计和迭代次数之间的时间间隔。
                     </p>
                     <p>以下示例显示了<code class="codeph">mpstat</code>命令的示例输出：</p><pre class="oac_no_warn" dir="ltr">CPU minf mjf xcal intr ithr csw icsw migr smtx srw syscl usr sys st idl 0 3 0 2 319 103 109 0 19 11 0 73 0 1 0 99 1 4 0 1 71 1 95 0 14 12 0 96 0 0 0 99</pre></div>
               </div><a id="UNXAR252"></a><div class="props_rev_3"><a id="GUID-3086EC24-00ED-4A83-914E-B060D60315EB" name="GUID-3086EC24-00ED-4A83-914E-B060D60315EB"></a><h4 id="UNXAR-GUID-3086EC24-00ED-4A83-914E-B060D60315EB" class="sect4"><span class="enumeration_section">8.2.6</span> Linux工具</h4>
                  <div>
                     <p>在Linux系统上，使用<code class="codeph">top</code> ， <code class="codeph">free</code>和<code class="codeph">cat /proc/meminfo</code>命令查看有关交换空间，内存和缓冲区使用情况的信息。
                     </p>
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-6A22E14C-FE99-41DB-B5D2-1505AE8BE41D" name="GUID-6A22E14C-FE99-41DB-B5D2-1505AE8BE41D"></a><h4 id="UNXAR-GUID-6A22E14C-FE99-41DB-B5D2-1505AE8BE41D" class="sect4"><span class="enumeration_section">8.2.7</span> POWER系统上的IBM AIX（64位）工具</h4>
                  <div>
                     <p>以下部分描述了POWER Systems上的IBM AIX上可用的工具（64位）：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="tuning-oracle-database.html#GUID-EA13B755-1851-403B-A45D-61921FD67E58">基本操作系统工具</a></p>
                        </li>
                        <li>
                           <p><a href="tuning-oracle-database.html#GUID-1CB0E24A-9133-463E-9FA2-3AEB9F838106">性能工具箱</a></p>
                        </li>
                        <li>
                           <p><a href="tuning-oracle-database.html#GUID-968C5E22-7DAB-423A-804A-119929008DF9">系统管理界面工具</a></p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-6A22E14C-FE99-41DB-B5D2-1505AE8BE41D__GUID-C714865A-2BEE-4F08-B5E8-3C754B1DD387">
                        <p class="notep1">也可以看看：</p>
                        <p>有关这些工具的更多信息，请参阅IBM AIX on POWER Systems（64位）操作系统文档和手册页</p>
                     </div>
                  </div>
                  <div class="props_rev_3"><a id="GUID-EA13B755-1851-403B-A45D-61921FD67E58" name="GUID-EA13B755-1851-403B-A45D-61921FD67E58"></a><h5 id="UNXAR-GUID-EA13B755-1851-403B-A45D-61921FD67E58" class="sect5"><span class="enumeration_section">8.2.7.1</span>基本操作系统工具</h5>
                     <div>
                        <div class="section">
                           <p>POWER系统上的IBM AIX（64位）基本操作系统包含历史上是UNIX系统的一部分或需要在POWER Systems（64位）上管理IBM AIX的特定于实现的功能的性能工具。下表列出了最重要的基本操作系统工具。</p>
                        </div>
                        <!-- class="section" -->
                        <div class="tblformal" id="GUID-EA13B755-1851-403B-A45D-61921FD67E58__GUID-DED1054A-C64B-449F-8AAD-B68510D32DF8">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="This 2 column table describes AIX Base  Operation System tools. Column 1 is the tool. Column 2 is its function. " frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="20%" id="d14091e1390">工具</th>
                                    <th align="left" valign="bottom" width="80%" id="d14091e1393">功能</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d14091e1398" headers="d14091e1390 ">
                                       <p><code class="codeph">lsattr来</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d14091e1398 d14091e1393 ">
                                       <p>显示设备的属性</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d14091e1406" headers="d14091e1390 ">
                                       <p><code class="codeph">lslv</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d14091e1406 d14091e1393 ">
                                       <p>显示有关逻辑卷的信息或物理卷的逻辑卷分配</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d14091e1414" headers="d14091e1390 ">
                                       <p><code class="codeph">netstat的</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d14091e1414 d14091e1393 ">
                                       <p>显示与网络相关的数据结构的内容</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d14091e1422" headers="d14091e1390 ">
                                       <p><code class="codeph">使用nfsstat</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d14091e1422 d14091e1393 ">
                                       <p>显示有关网络文件系统和远程过程调用活动的统计信息</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d14091e1430" headers="d14091e1390 ">
                                       <p><code class="codeph">不错</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d14091e1430 d14091e1393 ">
                                       <p>更改进程的初始优先级</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d14091e1438" headers="d14091e1390 ">
                                       <p><code class="codeph">没有</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d14091e1438 d14091e1393 ">
                                       <p>显示或设置网络选项</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d14091e1446" headers="d14091e1390 ">
                                       <p><code class="codeph">PS</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d14091e1446 d14091e1393 ">
                                       <p>显示一个或多个进程的状态</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d14091e1454" headers="d14091e1390 ">
                                       <p><code class="codeph">reorgvg</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d14091e1454 d14091e1393 ">
                                       <p>重新组织卷组中的物理分区分配</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d14091e1462" headers="d14091e1390 ">
                                       <p><code class="codeph">时间</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d14091e1462 d14091e1393 ">
                                       <p>显示已执行的执行，用户CPU处理和系统CPU处理时间</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d14091e1470" headers="d14091e1390 ">
                                       <p><code class="codeph">跟踪</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d14091e1470 d14091e1393 ">
                                       <p>记录和报告选定的系统事件</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d14091e1478" headers="d14091e1390 ">
                                       <p><code class="codeph">VMO</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d14091e1478 d14091e1393 ">
                                       <p>管理虚拟内存管理器可调参数</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                  </div>
                  <div class="props_rev_3"><a id="GUID-1CB0E24A-9133-463E-9FA2-3AEB9F838106" name="GUID-1CB0E24A-9133-463E-9FA2-3AEB9F838106"></a><h5 id="UNXAR-GUID-1CB0E24A-9133-463E-9FA2-3AEB9F838106" class="sect5"><span class="enumeration_section">8.2.7.2</span>性能工具箱</h5>
                     <div>
                        <div class="section">
                           <p>IBM AIX on POWER Systems（64位）性能工具箱包含用于本地和远程监视和调整系统活动的工具。Performance Tool Box由两个主要组件组成<a id="d14091e1567" class="indexterm-anchor"></a><a id="d14091e1571" class="indexterm-anchor"></a>性能工具箱管理器和<a id="d14091e1576" class="indexterm-anchor"></a><a id="d14091e1578" class="indexterm-anchor"></a><a id="d14091e1582" class="indexterm-anchor"></a> Performance Tool Box Agent。Performance Tool Box Manager使用<code class="codeph">xmperf</code>实用程序收集和显示配置中各种系统的数据。Performance Tool Box Agent使用<code class="codeph">xmserd</code>守护程序收集数据并将数据传输到Performance Tool Box Manager。Performance Tool Box Agent也可作为单独的产品在Power Systems（64位）上用于IBM AIX的Performance Aide。
                           </p>
                           <p>Performance Tool Box和Performance Aide都包含下表中列出的监视和调整工具：</p>
                        </div>
                        <!-- class="section" -->
                        <div class="tblformal" id="GUID-1CB0E24A-9133-463E-9FA2-3AEB9F838106__GUID-AF2EDA10-E69A-4857-8B3D-7BD064516E47">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="This 2 column table describes AIX monitoring and tuning tools. Column 1 is the tool. Column 2 is a description of the tool. " frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="20%" id="d14091e1603">工具</th>
                                    <th align="left" valign="bottom" width="80%" id="d14091e1606">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d14091e1611" headers="d14091e1603 ">
                                       <p><code class="codeph">FDPR</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d14091e1611 d14091e1606 ">
                                       <p>优化特定工作负载的可执行程序</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d14091e1619" headers="d14091e1603 ">
                                       <p><code class="codeph">菲莱蒙</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d14091e1619 d14091e1606 ">
                                       <p>使用跟踪工具来监视和报告文件系统的活动</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d14091e1627" headers="d14091e1603 ">
                                       <p><code class="codeph">fileplace又</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d14091e1627 d14091e1606 ">
                                       <p>显示逻辑卷或物理卷中文件块的位置</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d14091e1635" headers="d14091e1603 ">
                                       <p><code class="codeph">的lockstat</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d14091e1635 d14091e1606 ">
                                       <p>显示有关内核锁争用的统计信息</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d14091e1643" headers="d14091e1603 ">
                                       <p><code class="codeph">lvedit</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d14091e1643 d14091e1606 ">
                                       <p>便于在卷组中交互放置逻辑卷</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d14091e1651" headers="d14091e1603 ">
                                       <p><code class="codeph">netpmon</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d14091e1651 d14091e1606 ">
                                       <p>使用跟踪工具报告网络输入输出和网络相关的CPU使用情况</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d14091e1659" headers="d14091e1603 ">
                                       <p><code class="codeph">RMSS</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d14091e1659 d14091e1606 ">
                                       <p>模拟具有各种内存大小的系统以进行性能测试</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d14091e1667" headers="d14091e1603 ">
                                       <p><code class="codeph">svmon的</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d14091e1667 d14091e1606 ">
                                       <p>捕获并分析有关虚拟内存使用情况的信息</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d14091e1675" headers="d14091e1603 ">
                                       <p><code class="codeph">系统调用</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d14091e1675 d14091e1606 ">
                                       <p>记录和计算系统调用</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d14091e1683" headers="d14091e1603 ">
                                       <p><code class="codeph">则tprof</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d14091e1683 d14091e1606 ">
                                       <p>使用<code class="codeph">trace</code>工具报告模块和源代码语句级别的CPU使用情况</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d14091e1694" headers="d14091e1603 ">
                                       <p><code class="codeph">大脚</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d14091e1694 d14091e1606 ">
                                       <p>报告进程的内存访问模式</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d14091e1703" headers="d14091e1603 ">
                                       <p><code class="codeph">干</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d14091e1703 d14091e1606 ">
                                       <p>允许现有可执行文件的子例程级别进入和退出检测</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="section">
                           <div class="infoboxnotealso" id="GUID-1CB0E24A-9133-463E-9FA2-3AEB9F838106__GUID-F2FE6005-D44C-4C9F-9192-D643AFCD37BD">
                              <p class="notep1">也可以看看：</p>
                              <p></p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><span class="italic">Performance Toolbox版本2和3指南和参考</span>有关这些工具的信息</p>
                                 </li>
                                 <li>
                                    <p><span class="italic">“AIX 5L性能管理指南”，</span>以获取有关这些工具的语法的信息</p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
                  <div class="props_rev_3"><a id="GUID-968C5E22-7DAB-423A-804A-119929008DF9" name="GUID-968C5E22-7DAB-423A-804A-119929008DF9"></a><h5 id="UNXAR-GUID-968C5E22-7DAB-423A-804A-119929008DF9" class="sect5"><span class="enumeration_section">8.2.7.3</span>系统管理界面工具</h5>
                     <div>
                        <p>IBM AIX on POWER Systems（64位）系统管理界面工具（SMIT）为各种系统管理和性能工具提供了菜单驱动的界面。通过使用SMIT，您可以浏览大量工具并专注于您要执行的作业。</p>
                     </div>
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-43021DDB-74B6-4634-A2FE-53256E181F58" name="GUID-43021DDB-74B6-4634-A2FE-53256E181F58"></a><h4 id="UNXAR-GUID-43021DDB-74B6-4634-A2FE-53256E181F58" class="sect4"><span class="enumeration_section">8.2.8</span> HP-UX工具</h4>
                  <div>
                     <p>HP-UX系统上提供以下性能分析工具：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>GlancePlus的/ UX</p>
                           <p>此HP-UX实用程序是一种在线诊断工具，用于测量系统的活动。GlancePlus显示有关如何使用系统资源的信息。它在一系列屏幕上显示有关系统输入输出，CPU和内存使用情况的动态信息。您可以使用该实用程序来监视各个进程如何使用资源。</p>
                        </li>
                        <li>
                           <p>惠普程序员分析工具包</p>
                           <p>HP Programmer's Analysis Kit包含以下工具：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>美洲狮</p>
                                 <p>该工具在程序运行期间收集性能统计信息。它提供了几个图形显示，用于查看和分析收集的统计信息。</p>
                              </li>
                              <li>
                                 <p>线程跟踪可视化器</p>
                                 <p>此工具以图形格式显示由检测的线程库<code class="codeph">libpthread_tr.sl</code>生成的跟踪文件。它使您能够查看线程如何交互以及查找线程被阻塞等待资源的位置。
                                 </p>
                                 <p>HP Programmer的分析工具包与HP Fortran 77，HP Fortran 90，HP C，HP C ++，HP ANSI C ++和HP Pascal编译器捆绑在一起。</p>
                                 <p>下表列出了可用于在HP-UX上进行其他性能调整的性能调整工具：</p>
                                 <div class="tblformal" id="GUID-43021DDB-74B6-4634-A2FE-53256E181F58__GUID-967880E4-48BB-4025-A417-277EE72316AB">
                                    <table cellpadding="4" cellspacing="0" class="Formal" title="" width="90%" border="1" summary="This 2 column table describes HP-UX monitoring and tuning tools. Column 1 is the tool. Column 2 is a description. " frame="hsides" rules="rows">
                                       <thead>
                                          <tr align="left" valign="top">
                                             <th align="left" valign="bottom" width="20%" id="d14091e1934">工具</th>
                                             <th align="left" valign="bottom" width="80%" id="d14091e1937">描述</th>
                                          </tr>
                                       </thead>
                                       <tbody>
                                          <tr align="left" valign="top">
                                             <td align="left" valign="top" width="20%" id="d14091e1942" headers="d14091e1934 ">
                                                <p><code class="codeph">caliper</code> （仅限Itanium）</p>
                                             </td>
                                             <td align="left" valign="top" width="80%" headers="d14091e1942 d14091e1937 ">
                                                <p>收集系统分析任务的运行时应用程序数据，例如缓存未命中，转换后备缓冲区或指令周期，以及快速动态检测。它是C，C ++，Fortran和汇编应用程序的动态性能测量工具</p>
                                             </td>
                                          </tr>
                                          <tr align="left" valign="top">
                                             <td align="left" valign="top" width="20%" id="d14091e1951" headers="d14091e1934 ">
                                                <p><code class="codeph">gprof的</code></p>
                                             </td>
                                             <td align="left" valign="top" width="80%" headers="d14091e1951 d14091e1937 ">
                                                <p>为程序创建执行配置文件</p>
                                             </td>
                                          </tr>
                                          <tr align="left" valign="top">
                                             <td align="left" valign="top" width="20%" id="d14091e1959" headers="d14091e1934 ">
                                                <p><code class="codeph">监控</code></p>
                                             </td>
                                             <td align="left" valign="top" width="80%" headers="d14091e1959 d14091e1937 ">
                                                <p>监视程序计数器并调用某些功能</p>
                                             </td>
                                          </tr>
                                          <tr align="left" valign="top">
                                             <td align="left" valign="top" width="20%" id="d14091e1967" headers="d14091e1934 ">
                                                <p><code class="codeph">netfmt将</code></p>
                                             </td>
                                             <td align="left" valign="top" width="80%" headers="d14091e1967 d14091e1937 ">
                                                <p>监控网络</p>
                                             </td>
                                          </tr>
                                          <tr align="left" valign="top">
                                             <td align="left" valign="top" width="20%" id="d14091e1975" headers="d14091e1934 ">
                                                <p><code class="codeph">netstat的</code></p>
                                             </td>
                                             <td align="left" valign="top" width="80%" headers="d14091e1975 d14091e1937 ">
                                                <p>报告网络性能统计信息</p>
                                             </td>
                                          </tr>
                                          <tr align="left" valign="top">
                                             <td align="left" valign="top" width="20%" id="d14091e1983" headers="d14091e1934 ">
                                                <p><code class="codeph">使用nfsstat</code></p>
                                             </td>
                                             <td align="left" valign="top" width="80%" headers="d14091e1983 d14091e1937 ">
                                                <p>显示有关网络文件系统和远程过程调用活动的统计信息</p>
                                             </td>
                                          </tr>
                                          <tr align="left" valign="top">
                                             <td align="left" valign="top" width="20%" id="d14091e1991" headers="d14091e1934 ">
                                                <p><code class="codeph">的nettl</code></p>
                                             </td>
                                             <td align="left" valign="top" width="80%" headers="d14091e1991 d14091e1937 ">
                                                <p>通过记录和跟踪捕获网络事件或数据包</p>
                                             </td>
                                          </tr>
                                          <tr align="left" valign="top">
                                             <td align="left" valign="top" width="20%" id="d14091e1999" headers="d14091e1934 ">
                                                <p><code class="codeph">教授</code></p>
                                             </td>
                                             <td align="left" valign="top" width="80%" headers="d14091e1999 d14091e1937 ">
                                                <p>创建C程序的执行配置文件并显示程序的性能统计信息，显示程序花费大部分执行时间的位置</p>
                                             </td>
                                          </tr>
                                          <tr align="left" valign="top">
                                             <td align="left" valign="top" width="20%" id="d14091e2007" headers="d14091e1934 ">
                                                <p><code class="codeph">PROFIL</code></p>
                                             </td>
                                             <td align="left" valign="top" width="80%" headers="d14091e2007 d14091e1937 ">
                                                <p>将程序计数器信息复制到缓冲区中</p>
                                             </td>
                                          </tr>
                                          <tr align="left" valign="top">
                                             <td align="left" valign="top" width="20%" id="d14091e2015" headers="d14091e1934 ">
                                                <p><code class="codeph">最佳</code></p>
                                             </td>
                                             <td align="left" valign="top" width="80%" headers="d14091e2015 d14091e1937 ">
                                                <p>显示系统上的顶级进程并定期更新信息</p>
                                             </td>
                                          </tr>
                                       </tbody>
                                    </table>
                                 </div>
                                 <!-- class="inftblhruleinformal" -->
                              </li>
                           </ul>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="UNXAR254"></a><div class="props_rev_3"><a id="GUID-AF1D9E38-7B2B-42C0-BFA1-C2101076399E" name="GUID-AF1D9E38-7B2B-42C0-BFA1-C2101076399E"></a><h3 id="UNXAR-GUID-AF1D9E38-7B2B-42C0-BFA1-C2101076399E" class="sect3"><span class="enumeration_section">8.3</span>调整内存管理</h3>
               <div>
                  <p>通过测量分页和交换空间来开始内存调整过程，以确定可用的内存量。 <a id="d14091e2112" class="indexterm-anchor"></a><a id="d14091e2116" class="indexterm-anchor"></a><a id="d14091e2120" class="indexterm-anchor"></a><a id="d14091e2124" class="indexterm-anchor"></a><a id="d14091e2126" class="indexterm-anchor"></a> 确定系统内存使用情况后，调整Oracle缓冲区缓存。
                  </p>
                  <p><a id="d14091e2130" class="indexterm-anchor"></a><a id="d14091e2132" class="indexterm-anchor"></a> Oracle缓冲区管理器确保最常访问的数据缓存更长时间。如果监视缓冲区管理器并调整缓冲区高速缓存，则可以显着提高Oracle数据库性能。系统的最佳Oracle数据库缓冲区大小取决于整个系统负载以及Oracle数据库相对于其他应用程序的相对优先级。<a id="d14091e2135" class="indexterm-anchor"></a></p>
                  <p>本节包括以下主题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="tuning-oracle-database.html#GUID-5B8CCA34-B819-44DF-8283-E9DE8ABC425A">分配足够的交换空间</a></p>
                     </li>
                     <li>
                        <p><a href="tuning-oracle-database.html#GUID-6782A06C-D726-44A8-AE6A-4351C370DC7F">监控分页</a></p>
                     </li>
                     <li>
                        <p><a href="tuning-oracle-database.html#GUID-6FE967A1-86ED-4088-A8BF-30453A2FB11D">调整Oracle块大小</a></p>
                     </li>
                     <li>
                        <p><a href="tuning-oracle-database.html#GUID-E1DD1E7F-76BA-45EE-AD3F-E709A4FB3D23">分配内存资源</a></p>
                     </li>
                  </ul>
               </div><a id="UNXAR255"></a><div class="props_rev_3"><a id="GUID-5B8CCA34-B819-44DF-8283-E9DE8ABC425A" name="GUID-5B8CCA34-B819-44DF-8283-E9DE8ABC425A"></a><h4 id="UNXAR-GUID-5B8CCA34-B819-44DF-8283-E9DE8ABC425A" class="sect4"><span class="enumeration_section">8.3.1</span>分配足够的交换空间</h4>
                  <div>
                     <p>尽量减少交换，因为它会导致显着的操作系统开销。要检查交换，请使用<code class="codeph">sar</code>或<code class="codeph">vmstat</code>命令。有关与这些命令一起使用的相应选项的信息，请参见手册页。
                     </p>
                     <p>如果系统正在交换，您必须节省内存，那么：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>避免运行不必要的系统守护进程或应用程序进程。</p>
                        </li>
                        <li>
                           <p>减少数据库缓冲区的数量以释放一些内存。</p>
                        </li>
                        <li>
                           <p>减少操作系统文件缓冲区的数量。</p>
                        </li>
                     </ul>
                     <p>要确定的交换空间量，运行下面的命令<span>S</span> <span>的一个</span> <span>，取决于平台</span> ：</p>
                     <div class="tblformal" id="GUID-5B8CCA34-B819-44DF-8283-E9DE8ABC425A__GUID-EA87D3C7-E30A-4595-93E3-1BCD163E182D">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="This 2 column table lists the commands to determine swap space by platform. Column 1 is the platform. Column 2 is the command. " frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="28%" id="d14091e2285">平台</th>
                                 <th align="left" valign="bottom" width="72%" id="d14091e2288">命令</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="28%" id="d14091e2293" headers="d14091e2285 ">
                                    <p>Oracle Solaris</p>
                                 </td>
                                 <td align="left" valign="top" width="72%" headers="d14091e2293 d14091e2288 ">
                                    <p><code class="codeph">swap -l</code> ， <code class="codeph">swap -s</code>和<code class="codeph">zfs get volsize rpool/swap</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="28%" id="d14091e2307" headers="d14091e2285 ">
                                    <p>Linux的</p>
                                 </td>
                                 <td align="left" valign="top" width="72%" headers="d14091e2307 d14091e2288 ">
                                    <p><code class="codeph">swapon -s</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="28%" id="d14091e2315" headers="d14091e2285 ">
                                    <p>POWER Systems上的IBM AIX（64位）</p>
                                 </td>
                                 <td align="left" valign="top" width="72%" headers="d14091e2315 d14091e2288 ">
                                    <p><code class="codeph">lsps -a</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="28%" id="d14091e2323" headers="d14091e2285 ">
                                    <p>HP-UX</p>
                                 </td>
                                 <td align="left" valign="top" width="72%" headers="d14091e2323 d14091e2288 ">
                                    <p>	<code class="codeph">swapinfo -m</code></p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>监视交换空间的使用，并根据需要增加它。下表描述了最初建议的已安装RAM与配置的交换空间要求之间的关系：</p>
                     <div class="tblformal" id="GUID-5B8CCA34-B819-44DF-8283-E9DE8ABC425A__THIS2COLUMNTABLELISTSTHERECOMMENDED-515BC171">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="This 2 column table lists the recommended relationship between installed RAM and the configured swap space requirement. Column 1 is RAM. Column 2 is swap space." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" id="d14091e2341">内存</th>
                                 <th align="left" valign="bottom" id="d14091e2344">交换空间</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d14091e2349" headers="d14091e2341 ">
                                    <p>介于1 GB和2 GB之间</p>
                                 </td>
                                 <td align="left" valign="top" headers="d14091e2349 d14091e2344 ">
                                    <p>RAM大小的1.5倍</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d14091e2356" headers="d14091e2341 ">
                                    <p>介于2 GB和16 GB之间</p>
                                 </td>
                                 <td align="left" valign="top" headers="d14091e2356 d14091e2344 ">
                                    <p>等于RAM的大小</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d14091e2363" headers="d14091e2341 ">
                                    <p>超过16 GB</p>
                                 </td>
                                 <td align="left" valign="top" headers="d14091e2363 d14091e2344 ">
                                    <p>16 GB</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>要添加交换空间的系统，运行以下命令<span>S</span> <span>的一个</span> <span>，根据不同的平台</span> ：</p>
                     <div class="tblformal" id="GUID-5B8CCA34-B819-44DF-8283-E9DE8ABC425A__GUID-3A915CAD-39A7-4576-963B-ACAC986D79F1">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="This 2 column table lists platform-specific commands to add swap space. Column 1 is the platform. Column 2 is the command. " frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="28%" id="d14091e2385">平台</th>
                                 <th align="left" valign="bottom" width="72%" id="d14091e2388">命令</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="28%" id="d14091e2393" headers="d14091e2385 ">
                                    <p>Oracle Solaris</p>
                                 </td>
                                 <td align="left" valign="top" width="72%" headers="d14091e2393 d14091e2388 ">
                                    <p>使用以下选项之一：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p>对于ZFS文件系统，使用以下命令扩展交换卷：</p>
                                          <p><code class="codeph">zfs set volsize=</code> <span class="italic"><code class="codeph">newsize</code></span> <code class="codeph">rpool/swap</code></p>
                                          <p><span class="italic"><code class="codeph">newsize</code></span>是您想要增加的交换量的大小。
                                          </p>
                                       </li>
                                       <li>
                                          <p>对于非ZFS文件系统，请使用以下命令：</p>
                                          <p><code class="codeph">交换-a</code></p>
                                       </li>
                                    </ul>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="28%" id="d14091e2425" headers="d14091e2385 ">
                                    <p>Linux的</p>
                                 </td>
                                 <td align="left" valign="top" width="72%" headers="d14091e2425 d14091e2388 ">
                                    <p><code class="codeph">交换-a</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="28%" id="d14091e2433" headers="d14091e2385 ">
                                    <p>POWER Systems上的IBM AIX（64位）</p>
                                 </td>
                                 <td align="left" valign="top" width="72%" headers="d14091e2433 d14091e2388 ">
                                    <p><code class="codeph">chps</code>或<code class="codeph">mkps</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="28%" id="d14091e2444" headers="d14091e2385 ">
                                    <p>HP-UX</p>
                                 </td>
                                 <td align="left" valign="top" width="72%" headers="d14091e2444 d14091e2388 ">
                                    <p> <code class="codeph">swapon命令</code></p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="infoboxnotealso" id="GUID-5B8CCA34-B819-44DF-8283-E9DE8ABC425A__GUID-988CBFFC-40CE-403B-BA68-EED87F1547BB">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="https://support.oracle.com/epmos/faces/DocumentDisplay?id=1587357.1" target="_blank">我的Oracle支持说明1587357.1</a></p>
                           </li>
                           <li>
                              <p>有关这些命令的更多信息，请参见操作系统文档</p>
                           </li>
                        </ul>
                     </div>
                     <div class="infoboxnote" id="GUID-5B8CCA34-B819-44DF-8283-E9DE8ABC425A__GUID-1333B570-EBB5-40B9-A35A-7E5C92D150FA">
                        <p class="notep1">注意：</p>
                        <p>从12 <span class="italic">c</span>开始，Oracle数据库使用Oracle Solaris的优化共享内存（OSM）模型来实现自动内存管理。与DISM不同，OSM不需要交换磁盘空间的双重分配。有关交换空间要求，请参阅以下注释：</p>
                        <p><a href="https://support.oracle.com/epmos/faces/DocumentDisplay?id=1010818.1" target="_blank">我的Oracle支持说明1010818.1</a></p>
                     </div>
                  </div>
               </div><a id="UNXAR256"></a><div class="props_rev_3"><a id="GUID-6782A06C-D726-44A8-AE6A-4351C370DC7F" name="GUID-6782A06C-D726-44A8-AE6A-4351C370DC7F"></a><h4 id="UNXAR-GUID-6782A06C-D726-44A8-AE6A-4351C370DC7F" class="sect4"><span class="enumeration_section">8.3.2</span>监控分页</h4>
                  <div>
                     <p>分页可能不会像交换一样出现严重的问题，因为整个程序不必存储在内存中运行。少量页面输出可能不会显着影响系统的性能。</p>
                     <p>为了检测过度寻呼，在快速响应或空闲时间期间运行测量以与慢响应时段的测量进行比较。</p>
                     <p>使用<code class="codeph">vmstat</code>或<code class="codeph">sar</code>命令监视分页。
                     </p>
                     <div class="infoboxnotealso" id="GUID-6782A06C-D726-44A8-AE6A-4351C370DC7F__GUID-C9F4ED52-8809-4BB4-B16D-3406D858EB45">
                        <p class="notep1">也可以看看：</p>
                        <p>手册页或操作系统文档，以获取有关解释平台结果的信息</p>
                     </div>
                     <p>在Oracle Solaris中， <code class="codeph">vmstat —p</code>表示地址转换页面错误的数量。当进程引用不在内存中的有效页面时，会发生地址转换错误。
                     </p>
                     <p>分析内存相关问题应从检查<code class="codeph">vmstat</code>输出中的可用内存量开始。如果空闲内存不足，则应检查<code class="codeph">sr</code> （扫描速率）列是否为非零值。这表示页面扫描程序正在扫描内存页面以放回要重用的空闲列表。
                     </p>
                     <p>在<code class="codeph">api</code> （匿名页面输入）和<code class="codeph">apo</code> （匿名页面输出）列下的<code class="codeph">vmstat -p</code>命令输出中可以观察到匿名（错误）分页。当系统在内存不足期间将匿名页面移动到交换设备时，会发生这种分页。
                     </p>
                     <p>如果系统始终具有过多的页面调出活动<a id="d14091e2603" class="indexterm-anchor"></a> ，然后考虑以下解决方案：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>安装更多内存。</p>
                        </li>
                        <li>
                           <p>将一些工作转移到另一个系统。</p>
                        </li>
                        <li>
                           <p>配置系统全局区域（SGA）以使用更少的内存。</p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="https://support.oracle.com/epmos/faces/DocumentDisplay?id=1007494.1" target="_blank">MOS文件：1007494.1</a></li>
                        </ul>
                     </div>
                  </div>
               </div><a id="UNXAR257"></a><div class="props_rev_3"><a id="GUID-6FE967A1-86ED-4088-A8BF-30453A2FB11D" name="GUID-6FE967A1-86ED-4088-A8BF-30453A2FB11D"></a><h4 id="UNXAR-GUID-6FE967A1-86ED-4088-A8BF-30453A2FB11D" class="sect4"><span class="enumeration_section">8.3.3</span>调整Oracle块大小</h4>
                  <div>
                     <p>在读取操作期间，从磁盘读取整个操作系统块。如果数据库块大小小于操作系统文件系统块大小，则输入 - 输出带宽效率低下。如果将Oracle数据库块大小设置为文件系统块大小的倍数，则可以将性能提高多达5％。</p>
                     <p><code class="codeph">DB_BLOCK_SIZE</code>初始化参数设置数据库块大小。但是，要更改此参数的值，必须重新创建数据库。
                     </p>
                     <p>若要查看<code class="codeph">DB_BLOCK_SIZE</code>参数的当前值，请在SQL * Plus中运行<code class="codeph">SHOW PARAMETER</code> <code class="codeph">DB_BLOCK_SIZE</code>命令。
                     </p>
                  </div>
               </div><a id="UNXAR258"></a><div class="props_rev_3"><a id="GUID-E1DD1E7F-76BA-45EE-AD3F-E709A4FB3D23" name="GUID-E1DD1E7F-76BA-45EE-AD3F-E709A4FB3D23"></a><h4 id="UNXAR-GUID-E1DD1E7F-76BA-45EE-AD3F-E709A4FB3D23" class="sect4"><span class="enumeration_section">8.3.4</span>分配内存资源</h4>
                  <div>
                     <p>您可以根据工作负载的需求以及在同一系统上运行的各种数据库实例的要求，设置参数以自动分配内存。<code class="codeph">MEMORY_TARGET</code>参数指定该实例的Oracle系统范围可用内存，并自动调整SGA和Process Global Area（PGA）组件。<code class="codeph">MEMORY_MAX_TARGET</code>参数标识<code class="codeph">MEMORY_TARGET</code>参数可以动态增长的值。
                     </p>
                     <p>默认情况下，这两个参数的值均为零，并且没有自动调整。您可以通过将<code class="codeph">MEMORY_TARGET</code>参数设置为非零值来激活自动调整。要动态地启用<code class="codeph">MEMORY_TARGET</code>参数，该<code class="codeph">MEMORY_MAX_TARGET</code>参数必须在启动时设置。
                     </p>
                     <div class="infoboxnote" id="GUID-E1DD1E7F-76BA-45EE-AD3F-E709A4FB3D23__GUID-43792AF8-9144-4101-BFFB-5AE242A8DA1B">
                        <p class="notep1">注意：</p>
                        <p>如果只将<code class="codeph">MEMORY_TARGET</code>参数设置为非零值，则<code class="codeph">MEMORY_MAX_TARGET</code>参数会自动获取此值。
                        </p>
                        <p>该<code class="codeph">MEMORY_TARGET</code>和<code class="codeph">MEMORY_MAX_TARGET</code>参数只支持Linux，甲骨文的Solaris，HP-UX和IBM AIX Power Systems上的（64位）平台。
                        </p>
                        <p>在Oracle Solaris，动态内部共享内存启用了<code class="codeph">MEMORY_TARGET</code>或<code class="codeph">MEMORY_MAX_TARGET</code> 。有关更多信息，请参阅<a href="administering-oracle-database-on-oracle-solaris.html#GUID-D84AD8D9-82E8-471C-ABD3-A36745D6A8A8" title="Solaris资源池通过将一组专用CPU与数据库实例相关联来提高数据库性能。每个数据库实例只能使用其资源池中的资源。您可以使用多CPU绑定（MCB）作为资源管理策略的一部分来提高性能。">“在Oracle Solaris上管理Oracle数据库”</a>一节。
                        </p>
                        <p>在Linux上，当某个共享资源的需求增加<code class="codeph">MEMORY_TARGET</code>或<code class="codeph">MEMORY_MAX_TARGET</code>被启用。有关更多信息，请参阅<span class="q">“ <a href="administering-oracle-database-on-linux.html#GUID-5FBCEDFE-6548-44B5-9A96-9F89D7FEC5AF">分配共享资源</a> ”</span>部分。
                        </p>
                     </div>
                     <div class="infobox-tip" id="GUID-E1DD1E7F-76BA-45EE-AD3F-E709A4FB3D23__GUID-D77D6CC7-100E-4C72-8284-7EECEE797267">
                        <p class="notep1">小费：</p>
                        <p>您可以设置<code class="codeph">MEMORY_TARGET</code>和<code class="codeph">MEMORY_MAX_TARGET</code>基于原始设置，在计算机上可用于Oracle的内存，并且内存的工作负载要求的参数。
                        </p>
                     </div>
                  </div>
               </div>
            </div><a id="UNXAR259"></a><div class="props_rev_3"><a id="GUID-275FAC97-75EE-46A2-9A14-D1843978461C" name="GUID-275FAC97-75EE-46A2-9A14-D1843978461C"></a><h3 id="UNXAR-GUID-275FAC97-75EE-46A2-9A14-D1843978461C" class="sect3"><span class="enumeration_section">8.4</span>调整磁盘输入 - 输出</h3>
               <div>
                  <p>在所有可用磁盘上均匀地平衡输入 - 输出，以减少磁盘访问时间。对于较小的数据库和不使用RAID的数据库，请确保在可用磁盘上分布不同的数据文件和表空间。<a id="d14091e2974" class="indexterm-anchor"></a><a id="d14091e2978" class="indexterm-anchor"></a><a id="d14091e2982" class="indexterm-anchor"></a></p>
                  <p>本节包含以下主题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="tuning-oracle-database.html#GUID-2E98C54B-E99D-4335-989A-04AD4949CF0C">使用自动存储管理</a></p>
                     </li>
                     <li>
                        <p><a href="tuning-oracle-database.html#GUID-4E6B63D1-382A-4132-ADC2-457C4361D609">选择适当的文件系统类型</a></p>
                     </li>
                  </ul>
               </div><a id="UNXAR260"></a><div class="props_rev_3"><a id="GUID-2E98C54B-E99D-4335-989A-04AD4949CF0C" name="GUID-2E98C54B-E99D-4335-989A-04AD4949CF0C"></a><h4 id="UNXAR-GUID-2E98C54B-E99D-4335-989A-04AD4949CF0C" class="sect4"><span class="enumeration_section">8.4.1</span>使用自动存储管理</h4>
                  <div>
                     <p>如果选择使用自动存储管理进行数据库存储，则会在自动存储管理磁盘组中的所有可用磁盘设备之间平衡所有数据库输入 - 输出。</p>
                     <p>通过使用自动存储管理，您可以避免手动调整磁盘输入输出。</p>
                  </div>
               </div><a id="UNXAR261"></a><div class="props_rev_3"><a id="GUID-4E6B63D1-382A-4132-ADC2-457C4361D609" name="GUID-4E6B63D1-382A-4132-ADC2-457C4361D609"></a><h4 id="UNXAR-GUID-4E6B63D1-382A-4132-ADC2-457C4361D609" class="sect4"><span class="enumeration_section">8.4.2</span>选择合适的文件系统类型</h4>
                  <div>
                     <div class="section">
                        <p>根据操作系统的不同，您可以从一系列文件系统类型中进行选择。每种文件系统类型都有不同的特征。这一事实可能对数据库性能产生重大影响。下表列出了常见的文件系统类型：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-4E6B63D1-382A-4132-ADC2-457C4361D609__GUID-F8434FAE-D9C0-4DDF-92F6-E2E9F37889BA">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="This 3 column table lists platform-specific files system types. Column 1 is the file system. Column 2 is the platform. Column 3 is a description of the file system." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" id="d14091e3193">文件系统</th>
                                 <th align="left" valign="bottom" id="d14091e3196">平台</th>
                                 <th align="left" valign="bottom" id="d14091e3199">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d14091e3204" headers="d14091e3193 ">
                                    <p>ZFS</p>
                                 </td>
                                 <td align="left" valign="top" headers="d14091e3204 d14091e3196 ">
                                    <p>Oracle Solaris</p>
                                 </td>
                                 <td align="left" valign="top" headers="d14091e3204 d14091e3199 ">
                                    <p>Oracle Solaris ZFS文件系统</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d14091e3214" headers="d14091e3193 ">
                                    <p>S5</p>
                                 </td>
                                 <td align="left" valign="top" headers="d14091e3214 d14091e3196 ">
                                    <p>HP-UX</p>
                                 </td>
                                 <td align="left" valign="top" headers="d14091e3214 d14091e3199 ">
                                    <p>UNIX System V文件系统</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d14091e3224" headers="d14091e3193 ">
                                    <p>U FS</p>
                                 </td>
                                 <td align="left" valign="top" headers="d14091e3224 d14091e3196 ">
                                    <p>Oracle Solaris，POWER Systems（64位）上的IBM AIX和HP-UX</p>
                                 </td>
                                 <td align="left" valign="top" headers="d14091e3224 d14091e3199 ">
                                    <p><a id="d14091e3237" class="indexterm-anchor"></a> Unix文件系统，源自BSD UNIX</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d14091e3241" headers="d14091e3193 ">
                                    <p>V xFS</p>
                                 </td>
                                 <td align="left" valign="top" headers="d14091e3241 d14091e3196 ">
                                    <p>Oracle Solaris，POWER Systems（64位）上的IBM AIX和HP-UX</p>
                                 </td>
                                 <td align="left" valign="top" headers="d14091e3241 d14091e3199 ">
                                    <p><a id="d14091e3254" class="indexterm-anchor"></a> VERITAS文件系统</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d14091e3258" headers="d14091e3193 ">
                                    <p>EXT2 / <a id="d14091e3261" class="indexterm-anchor"></a> EXT3</p>
                                 </td>
                                 <td align="left" valign="top" headers="d14091e3258 d14091e3196 ">
                                    <p>Linux的</p>
                                 </td>
                                 <td align="left" valign="top" headers="d14091e3258 d14091e3199 ">
                                    <p><a id="d14091e3271" class="indexterm-anchor"></a>适用于Linux的扩展文件系统</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d14091e3275" headers="d14091e3193 ">
                                    <p>OC FS2</p>
                                 </td>
                                 <td align="left" valign="top" headers="d14091e3275 d14091e3196 ">
                                    <p>Linux的</p>
                                 </td>
                                 <td align="left" valign="top" headers="d14091e3275 d14091e3199 ">
                                    <p>Oracle集群文件系统</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d14091e3290" headers="d14091e3193 ">
                                    <p>JF S / JFS2</p>
                                 </td>
                                 <td align="left" valign="top" headers="d14091e3290 d14091e3196 ">
                                    <p>POWER Systems上的IBM AIX（64位）</p>
                                 </td>
                                 <td align="left" valign="top" headers="d14091e3290 d14091e3199 ">
                                    <p>J mynaled文件系统</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d14091e3308" headers="d14091e3193 ">
                                    <p>GP FS</p>
                                 </td>
                                 <td align="left" valign="top" headers="d14091e3308 d14091e3196 ">
                                    <p>POWER Systems上的IBM AIX（64位）</p>
                                 </td>
                                 <td align="left" valign="top" headers="d14091e3308 d14091e3199 ">
                                    <p>一般并行文件系统</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p>通常没有记录文件系统对应用程序的适用性。例如，甚至难以比较UFS的不同实现。根据您选择的文件系统，性能差异最高可达20％。如果您选择使用文件系统，则：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>创建一个新的文件系统分区，以确保硬盘清理和未分段。</p>
                           </li>
                           <li>
                              <p>在将分区用于数据库文件之前，请对分区执行文件系统检查。</p>
                           </li>
                           <li>
                              <p>尽可能均匀地分配磁盘输入 - 输出。</p>
                           </li>
                           <li>
                              <p>如果您没有使用逻辑卷管理器或RAID设备，请考虑将日志文件放在与数据文件不同的文件系统上。</p>
                           </li>
                        </ul>
                        <div class="infoboxnotealso" id="GUID-4E6B63D1-382A-4132-ADC2-457C4361D609__GUID-3A60609A-4838-4410-80F7-BDD72263FEBA">
                           <p class="notep1">也可以看看：</p>有关调整ZFS for Oracle数据库的详细信息，请<span class="italic">参见</span> <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/unxar&amp;id=tuning_zfs_for_db_products" target="_blank">“</a> <span class="italic">Oracle Solaris 11.3可调参数参考手册</span> <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/unxar&amp;id=tuning_zfs_for_db_products" target="_blank">”</a>中的<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/unxar&amp;id=tuning_zfs_for_db_products" target="_blank">“调整数据库产品的ZFS”</a></div>。
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="UNXAR262"></a><div class="props_rev_3"><a id="GUID-8856E5FC-9C62-4881-A313-76200BA5FA17" name="GUID-8856E5FC-9C62-4881-A313-76200BA5FA17"></a><h3 id="UNXAR-GUID-8856E5FC-9C62-4881-A313-76200BA5FA17" class="sect3"><span class="enumeration_section">8.5</span>监控磁盘性能</h3>
               <div>
                  <p>以下部分描述了监视磁盘性能的过程：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="tuning-oracle-database.html#GUID-00169169-FDBC-445C-AA79-79870574475A">监视其他操作系统上的磁盘性能</a></p>
                     </li>
                     <li>
                        <p><a href="tuning-oracle-database.html#GUID-7A46CC1E-F9C4-4E98-8C6D-E780527CC75E">使用磁盘重新同步监视自动存储管理磁盘组</a></p>
                     </li>
                  </ul>
               </div><a id="UNXAR263"></a><div class="props_rev_3"><a id="GUID-00169169-FDBC-445C-AA79-79870574475A" name="GUID-00169169-FDBC-445C-AA79-79870574475A"></a><h4 id="UNXAR-GUID-00169169-FDBC-445C-AA79-79870574475A" class="sect4"><span class="enumeration_section">8.5.1</span>监视操作系统上的磁盘性能</h4>
                  <div>
                     <div class="section">
                        <p>要监视磁盘性能，请使用<code class="codeph">sar -b</code>和<code class="codeph">sar -u</code>命令。
                        </p>
                        <p>下表描述了<code class="codeph">sar -b</code>命令输出的列，这些列对于分析磁盘性能非常重要：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-00169169-FDBC-445C-AA79-79870574475A__GUID-21C1607B-60A5-4849-9EEE-751FC10455DC">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="This 2 column table lists the important output columns of the sar -b command. Column 1 is the column. Column 2 is a description." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="27%" id="d14091e3549">列</th>
                                 <th align="left" valign="bottom" width="73%" id="d14091e3552">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="27%" id="d14091e3557" headers="d14091e3549 ">
                                    <p><code class="codeph">bread/s</code> ， <code class="codeph">bwrit/s</code></p>
                                 </td>
                                 <td align="left" valign="top" width="73%" headers="d14091e3557 d14091e3552 ">
                                    <p>块读取和每秒写入的块（对于文件系统数据库很重要）</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="27%" id="d14091e3568" headers="d14091e3549 ">
                                    <p><code class="codeph">pread/s</code> ， <code class="codeph">pwrit/s</code></p>
                                 </td>
                                 <td align="left" valign="top" width="73%" headers="d14091e3568 d14091e3552 ">
                                    <p>原始设备上每秒的I / O操作数（对于原始分区数据库系统很重要）</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p>主要指标是：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">bread</code> ， <code class="codeph">bwrit</code> ， <code class="codeph">pread</code>和<code class="codeph">pwrit</code>列值的总和表示磁盘输入 - 输出子系统的活动级别。总和越高，输入 - 输出子系统越忙。物理驱动器的数量越大，总阈值数量就越高。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">%rcache</code>列值应大于90， <code class="codeph">%wcache</code>列值应大于60。否则，系统可能是磁盘输入 - 输出绑定。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="UNXAR264"></a><div class="props_rev_3"><a id="GUID-7A46CC1E-F9C4-4E98-8C6D-E780527CC75E" name="GUID-7A46CC1E-F9C4-4E98-8C6D-E780527CC75E"></a><h4 id="UNXAR-GUID-7A46CC1E-F9C4-4E98-8C6D-E780527CC75E" class="sect4"><span class="enumeration_section">8.5.2</span>使用磁盘重新同步监视自动存储管理磁盘组</h4>
                  <div>
                     <p>使用<code class="codeph">alter diskgroup disk online</code>和<code class="codeph">alter diskgroup disk offline</code>命令暂时将Input-Output挂起到一组磁盘。您可以使用这些命令执行常规维护任务或升级，例如磁盘固件升级。如果磁盘组中的某些磁盘发生瞬时故障，请使用<code class="codeph">alter diskgroup disk online</code>快速恢复磁盘组。
                     </p>
                  </div>
               </div>
            </div><a id="UNXAR265"></a><div class="props_rev_3"><a id="GUID-4F58C709-3605-4272-8976-C0051DD4D270" name="GUID-4F58C709-3605-4272-8976-C0051DD4D270"></a><h3 id="UNXAR-GUID-4F58C709-3605-4272-8976-C0051DD4D270" class="sect3"><span class="enumeration_section">8.6</span>系统全球区域</h3>
               <div>
                  <div class="section">
                     <p>SGA是位于共享内存中的Oracle结构。它包含静态数据结构，锁和数据缓冲区。</p>
                     <p>单个共享内存段的最大大小由<code class="codeph">shmmax</code>内核参数指定。
                     </p>
                     <p>下表显示了此参数的建议值，具体取决于平台：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-4F58C709-3605-4272-8976-C0051DD4D270__GUID-F2D148C3-70B7-410D-9F3A-85A50385C842">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="This 2 column table lists platform-specific recommended values for the SHMMAX kernel parameter. Column 1 is the platform. Column 2 is the recommended value." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="27%" id="d14091e3875">平台</th>
                              <th align="left" valign="bottom" width="73%" id="d14091e3878">推荐值</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="27%" id="d14091e3883" headers="d14091e3875 ">
                                 <p>Oracle Solaris</p>
                              </td>
                              <td align="left" valign="top" width="73%" headers="d14091e3883 d14091e3878 ">
                                 <p>4294967295或4 GB减去16 MB</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="27%" id="d14091e3890" headers="d14091e3875 ">
                                 <p>Linux的</p>
                              </td>
                              <td align="left" valign="top" width="73%" headers="d14091e3890 d14091e3878 ">
                                 <p>至少以下值：</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p>系统上安装的物理内存大小的一半</p>
                                    </li>
                                    <li>
                                       <p>4 GB  -  1个字节</p>
                                    </li>
                                 </ul>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="27%" id="d14091e3904" headers="d14091e3875 ">
                                 <p>POWER Systems上的IBM AIX（64位）</p>
                              </td>
                              <td align="left" valign="top" width="73%" headers="d14091e3904 d14091e3878 ">
                                 <p>NA</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="27%" id="d14091e3911" headers="d14091e3875 ">
                                 <p>HP-UX</p>
                              </td>
                              <td align="left" valign="top" width="73%" headers="d14091e3911 d14091e3878 ">
                                 <p>系统上安装的物理内存的大小</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>如果SGA的大小超过共享内存段的最大大小（ <code class="codeph">shm</code> <code class="codeph">max</code>或<code class="codeph">shm</code> <code class="codeph">_max</code> ），则Oracle数据库会尝试附加更多连续段以满足请求的SGA大小。<code class="codeph">shm</code> <code class="codeph">seg</code>内核参数指定任何进程可以附加的最大段数。设置以下初始化参数以控制SGA的大小：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">DB_CACHE_SIZE</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">DB_BLOCK_SIZE</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">JAVA_POOL_SIZE</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">LARGE_POOL_SIZE</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">LOG_BUFFERS</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">SHARED_POOL_SIZE</code></p>
                        </li>
                     </ul>
                     <p>或者，设置<code class="codeph">SGA_TARGET</code>初始化参数以启用SGA大小的自动调整。
                     </p>
                     <p>设置这些参数的值时要小心。当值设置得太高时，太多的物理内存专用于共享内存。这导致性能不佳。</p>
                     <p>使用Shared Server配置的Oracle数据库需要更高的<code class="codeph">SHARED_POOL_SIZE</code>初始化参数设置或使用<code class="codeph">LARGE_POOL_SIZE</code>初始化参数的自定义配置。如果使用Oracle Universal Installer安装了数据库，则Oracle Database Configuration Assistant会自动设置<code class="codeph">SHARED_POOL_SIZE</code>参数的值。但是，如果手动创建数据库，则为每个并发用户将参数文件中<code class="codeph">SHARED_POOL_SIZE</code>参数的值增加1 KB。
                     </p>
                     <p>每个Oracle进程必须有足够的共享内存来处理整个SGA：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="tuning-oracle-database.html#GUID-662D0B05-AC6D-42DC-8AB1-83DE27C1A4B1">确定SGA的大小</a></p>
                        </li>
                        <li>
                           <p><a href="tuning-oracle-database.html#GUID-9E5F396E-8EC1-4066-8EF9-074577F86FFF">系统资源验证工具</a></p>
                        </li>
                        <li>
                           <p><a href="tuning-oracle-database.html#GUID-C73270F7-381B-4514-B9DB-6F02FB76A0BA">设置信号量参数的准则</a></p>
                        </li>
                        <li>
                           <p><a href="tuning-oracle-database.html#GUID-52B0BDCF-398F-4719-88A2-E780E46DBBAA">POWER Systems上的IBM AIX上的共享内存（64位）</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div><a id="UNXAR266"></a><div class="props_rev_3"><a id="GUID-662D0B05-AC6D-42DC-8AB1-83DE27C1A4B1" name="GUID-662D0B05-AC6D-42DC-8AB1-83DE27C1A4B1"></a><h4 id="UNXAR-GUID-662D0B05-AC6D-42DC-8AB1-83DE27C1A4B1" class="sect4"><span class="enumeration_section">8.6.1</span>确定SGA的大小</h4>
                  <div>
                     <div class="section">
                        <p>您可以通过以下方式之一确定SGA大小：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>运行以下SQL * Plus命令以显示正在运行的数据库的SGA大小：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; SHOW SGA</pre><p>结果以字节显示。</p>
                           </li>
                           <li>
                              <p>启动数据库实例以查看“Total System Global Area”标题旁边显示的SGA的大小。</p>
                           </li>
                           <li>
                              <p>以<code class="codeph">oracle</code>用户身份运行<code class="codeph">ipcs</code>命令。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="UNXAR408"></a><div class="props_rev_3"><a id="GUID-9E5F396E-8EC1-4066-8EF9-074577F86FFF" name="GUID-9E5F396E-8EC1-4066-8EF9-074577F86FFF"></a><h4 id="UNXAR-GUID-9E5F396E-8EC1-4066-8EF9-074577F86FFF" class="sect4"><span class="enumeration_section">8.6.2</span>系统资源验证工具</h4>
                  <div>
                     <p>Oracle8 <span class="italic"><code class="codeph">i</code></span>及更高版本提供了System Resource Verifier实用程序（ <code class="codeph">sysresv</code> ）。它为您指定的Oracle系统标识符（ <code class="codeph">ORACLE_SID</code> ）提供Oracle实例和操作系统资源信息。此实用程序位于<code class="codeph">$ORACLE_HOME/bin</code> ，但可以在其他位置使用。
                     </p>
                  </div><a id="UNXAR409"></a><div class="props_rev_3"><a id="GUID-974745AE-DB1D-44AF-9C4A-C8876CFE6601" name="GUID-974745AE-DB1D-44AF-9C4A-C8876CFE6601"></a><h5 id="UNXAR-GUID-974745AE-DB1D-44AF-9C4A-C8876CFE6601" class="sect5"><span class="enumeration_section">8.6.2.1</span> sysresv实用程序的用途</h5>
                     <div>
                        <p>使用<code class="codeph">sysresv</code>实用程序显示Oracle实例的状态并标识其使用的操作系统资源，例如内存和信号量参数。当多个实例运行时，此实用程序特别有用。例如，如果实例没有响应，则可以使用此实用程序删除操作系统资源。
                        </p>
                        <p>当Oracle实例崩溃或中止时，您可以使用此实用程序，并且不会自动清除与此实例相关的内存和信号量。此实用程序在确定正在运行的Oracle实例时也很有用。</p>
                     </div>
                  </div><a id="UNXAR410"></a><div class="props_rev_3"><a id="GUID-C5F360F7-C0D6-4762-BB4C-3EC4153F038A" name="GUID-C5F360F7-C0D6-4762-BB4C-3EC4153F038A"></a><h5 id="UNXAR-GUID-C5F360F7-C0D6-4762-BB4C-3EC4153F038A" class="sect5"><span class="enumeration_section">8.6.2.2</span>使用sysresv的前提条件</h5>
                     <div>
                        <p>要使用<code class="codeph">sysresv</code>实用程序，您必须能够访问系统全局区域（SGA）。要访问SGA，您必须是Oracle所有者或拥有Oracle二进制文件的组的成员。
                        </p>
                     </div>
                  </div><a id="UNXAR411"></a><div class="props_rev_3"><a id="GUID-6B97A4E3-2A54-415A-9F4B-57324A538BB1" name="GUID-6B97A4E3-2A54-415A-9F4B-57324A538BB1"></a><h5 id="UNXAR-GUID-6B97A4E3-2A54-415A-9F4B-57324A538BB1" class="sect5"><span class="enumeration_section">8.6.2.3 sysresv的</span>语法</h5>
                     <div>
                        <div class="section">
                           <p><code class="codeph">sysresv</code>实用程序的语法如下：</p><pre class="oac_no_warn" dir="ltr">sysresv [-i] [-f] [-d on | off] [-l sid1 [sid2 ...]]
</pre><p>哪里：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">-i</code>在为每个<code class="codeph">sid</code>删除IPC资源之前提示</p>
                              </li>
                              <li>
                                 <p><code class="codeph">-f</code>删除IPC资源而不提示确认。该标志覆盖<code class="codeph">-i</code>选项</p>
                              </li>
                              <li>
                                 <p><code class="codeph">-d on|off</code>列出每个<code class="codeph">sid</code> IPC资源（如果<code class="codeph">sid</code> 。如果未指定，则<code class="codeph">-d</code>的默认值为on</p>
                              </li>
                              <li>
                                 <p><code class="codeph">-l sid1 [sid2 sid3]</code>对一个或多个以空格分隔的系统标识符运行<code class="codeph">sysresv</code>检查</p>
                              </li>
                           </ul>
                           <p>如果在没有标志的情况下使用<code class="codeph">sysresv</code> ，则它会在Oracle安装所有者用户配置文件环境变量列表中报告由<code class="codeph">$ORACLE_SID</code>环境变量标识的Oracle实例的IPC资源。
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="UNXAR412"></a><div class="props_rev_3"><a id="GUID-DC7D8001-CFA9-4EE4-B549-B33251340416" name="GUID-DC7D8001-CFA9-4EE4-B549-B33251340416"></a><h5 id="UNXAR-GUID-DC7D8001-CFA9-4EE4-B549-B33251340416" class="sect5"><span class="enumeration_section">8.6.2.4</span>使用sysresv的示例</h5>
                     <div>
                        <div class="section">
                           <p>以下示例显示了如何使用<code class="codeph">sysresv</code>实用程序：</p><pre class="oac_no_warn" dir="ltr">$ sysresv ORACLE_SID“sales”的IPV资源：共享内存：ID KEY 10345 0x51c051ad信号量ID 10345 0x51c051ad Oracle实例为sid“sales”存活</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div><a id="UNXAR420"></a><div class="props_rev_3"><a id="GUID-C73270F7-381B-4514-B9DB-6F02FB76A0BA" name="GUID-C73270F7-381B-4514-B9DB-6F02FB76A0BA"></a><h4 id="UNXAR-GUID-C73270F7-381B-4514-B9DB-6F02FB76A0BA" class="sect4"><span class="enumeration_section">8.6.3</span>设置信号量参数的指导原则</h4>
                  <div>
                     <div class="section">
                        <p>仅当默认信号量参数值太低而无法容纳所有Oracle进程时，才使用以下准则：</p>
                        <div class="infoboxnote" id="GUID-C73270F7-381B-4514-B9DB-6F02FB76A0BA__GUID-F7BB1FA5-E5AD-472F-B7A4-EE6174BB5805">
                           <p class="notep1">注意：</p>
                           <p>Oracle建议您查看操作系统文档以获取有关设置信号量参数的更多信息。</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>使用以下公式计算最小总信号量要求：</span><div><pre class="oac_no_warn" dir="ltr">sum（系统上所有数据库实例的进程参数）+ oracle后台进程+系统和其他应用程序要求的开销</pre></div>
                        </li>
                        <li class="stepexpand"><span>将<code class="codeph">semmns</code> （服务器允许的最大信号量）设置为此总数。</span></li>
                        <li class="stepexpand"><span>将<code class="codeph">semmsl</code> （信号量集中的最大信号量数）设置为250。</span></li>
                        <li class="stepexpand"><span>将<code class="codeph">semmni</code> （信号量集的最大数量）设置为<code class="codeph">semmns/semmsl</code>舍入到最接近的1024的倍数。</span><div>
                              <div class="infoboxnotealso" id="GUID-C73270F7-381B-4514-B9DB-6F02FB76A0BA__GUID-28813C15-71C2-4B90-A029-0C27C25724C0">
                                 <p class="notep1">也可以看看：</p>
                                 <p>我的Oracle支持说明226209.1，“Linux：如何检查当前共享内存，信号量值”，位于以下URL：</p>
                                 <p><a href="https://support.oracle.com/CSP/main/article?cmd=show&amp;type=NOT&amp;id=226209.1" target="_blank"><code class="codeph">https://support.oracle.com/CSP/main/article?cmd=show&amp;type=NOT&amp;id=226209.1</code></a></p>
                                 <p>在Oracle Solaris 10及更高版本上，信号量参数<code class="codeph">semmns</code> ， <code class="codeph">semmsl</code>和<code class="codeph">semmni</code>已过时。请参阅My Oracle Support说明1006158.1：</p>
                                 <p><code class="codeph"><a href="https://support.oracle.com/CSP/main/article?cmd=show&amp;type=NOT&amp;id=1006158.1" target="_blank">https://support.oracle.com/CSP/main/article?cmd=show&amp;type=NOT&amp;id=1006158.1</a></code></p>
                              </div>
                           </div>
                        </li>
                     </ol>
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-52B0BDCF-398F-4719-88A2-E780E46DBBAA" name="GUID-52B0BDCF-398F-4719-88A2-E780E46DBBAA"></a><h4 id="UNXAR-GUID-52B0BDCF-398F-4719-88A2-E780E46DBBAA" class="sect4"><span class="enumeration_section">8.6.4</span> POWER系统上的IBM AIX上的共享内存（64位）</h4>
                  <div>
                     <div class="infoboxnote" id="GUID-52B0BDCF-398F-4719-88A2-E780E46DBBAA__GUID-EAB5EF1B-31B7-45C0-A35D-3857AC766A49">
                        <p class="notep1">注意：</p>
                        <p>本节中的信息仅适用于POWER Systems上的IBM AIX（64位）。</p>
                     </div>
                     <p>共享内存使用跨进程的公共虚拟内存资源。进程通过一组通用的虚拟内存转换资源（例如表和高速缓存的条目）共享虚拟内存段，以提高性能。</p>
                     <p>可以固定共享内存以防止分页并减少输入 - 输出开销。要执行此操作，请将<code class="codeph">LOCK_SGA</code>参数设置为<code class="codeph">true</code> 。在POWER Systems（64位）5L上的IBM AIX上，只要底层硬件支持，同一参数就会激活大页面功能。
                     </p>
                     <p>运行以下命令以使Oracle数据库可以使用固定内存：</p><pre class="oac_no_warn" dir="ltr">$ / usr / sbin / vmo -r -o v_pinshm = 1</pre><p>运行类似于以下内容的命令，以设置固定内存可用的实际内存的最大百分比，其中<span class="italic"><code class="codeph">percent_of_real_memory</code></span>是您要设置的实际内存的最大百分比：</p><pre class="oac_no_warn" dir="ltr">$ / usr / sbin目录/ VMO -r -o maxpin百分率为<span class="italic">percent_of_real_memory</span>
</pre><p>使用<code class="codeph">maxpin percent</code>选项时，固定内存量超过Oracle SGA大小至少占系统实际内存的3％是非常重要的，这样内核就可以使用免费的可固定内存。例如，如果您有2 GB的物理内存，并且希望将SGA固定为400 MB（20％的RAM），请运行以下命令：</p><pre class="oac_no_warn" dir="ltr">$ / usr / sbin / vmo -r -o maxpin percent = 23</pre><div class="infoboxnote" id="GUID-52B0BDCF-398F-4719-88A2-E780E46DBBAA__GUID-BDF655B8-4F76-43FB-B83C-0168AC7CF351">
                        <p class="notep1">注意：</p>
                        <p>默认的<code class="codeph">maxpin percent</code>值（设置为80 <code class="codeph">percent</code> ）适用于大多数安装。
                        </p>
                     </div>
                     <p>使用<code class="codeph">svmon</code>命令监视系统运行期间固定内存的使用情况。仅当<code class="codeph">LOCK_SGA</code>参数设置为<code class="codeph">true</code> Oracle数据库才会尝试固定内存。如果SGA大小超过可用于固定的内存大小，则超出这些大小的SGA部分将分配给普通共享内存。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-52B0BDCF-398F-4719-88A2-E780E46DBBAA__GUID-E1BD3197-1D54-49DB-A1D9-ACEBF9B061B7">POWER系统（64位）基于POWER4和POWER5的系统上的IBM AIX上的大页面功能</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>要在POWER4或POWER5系统上打开并保留10个大小为16 MB的大页面，请运行以下命令：</p><pre class="oac_no_warn" dir="ltr">$ / usr / sbin / vmo -r -o lgpg_regions = 10 -o lgpg_size = 16777216</pre><p>此命令建议使用<code class="codeph">bosboot</code>并警告需要重新启动才能使更改生效。
                        </p>
                        <p>Oracle建议指定足够大的页面来包含整个SGA。当<code class="codeph">LOCK_SGA</code>参数设置为<code class="codeph">true</code>时，Oracle数据库实例会尝试分配大页面。
                        </p>
                        <p>16 MB页面始终固定，不能用于标准内存。如果配置了16 MB大小的页面池，则即使当前没有其他应用程序正在使用大页面，此内存也无法用于分配标准内存。</p>
                        <p>基于POWER5的系统支持64 K页。如果可用，Oracle会将它们用于SGA。这些64K页面不需要任何其他配置，也不依赖于<code class="codeph">LOCK_SGA</code>参数设置。
                        </p>
                        <p>要监视大页面的使用，请使用以下命令：</p><pre class="oac_no_warn" dir="ltr">$ vmstat -P all</pre><p>对于IBM AIX on POWER Systems（64位）操作系统，在分配共享内存时使用16 MB页面或固定内存，Oracle用户ID必须具有<code class="codeph">CAP_BYPASS_RAC_VMM</code>和<code class="codeph">CAP_PROPAGATE</code>功能。用于启动数据库实例的用户标识也必须具有相同的功能。特别是，在Oracle Real Application Cluster（Oracle RAC）数据库上使用大页面时，使用<code class="codeph">srvctl</code>命令启动和停止Oracle RAC数据库实例，还需要为<code class="codeph">root</code>用户设置<code class="codeph">CAP_BYPASS_RAC_VMM</code>和<code class="codeph">CAP_PROPAGATE</code>功能。
                        </p>
                        <div class="infoboxnotealso" id="GUID-52B0BDCF-398F-4719-88A2-E780E46DBBAA__GUID-4EFE9109-84DD-4F30-9659-A18989A5D3A7">
                           <p class="notep1">也可以看看：</p>
                           <p>有关启用和调整固定内存和大页面的详细信息，请参阅有关POWER系统的IBM AIX（64位）文档</p>
                        </div>
                        <p>可以使用以下命令设置和检查功能：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>运行以下命令以检查当前功能：</p><pre class="oac_no_warn" dir="ltr">$ lsuser -a功能oracle</pre></li>
                           <li>
                              <p>将<code class="codeph">CAP_BYPASS_RAC_VMM</code>和<code class="codeph">CAP_PROPAGATE</code>功能添加到此用户标识：</p><pre class="oac_no_warn" dir="ltr">$ chuser capabilities = CAP_BYPASS_RAC_VMM，CAP_PROPAGATE oracle</pre></li>
                        </ul>
                        <div class="infoboxnote" id="GUID-52B0BDCF-398F-4719-88A2-E780E46DBBAA__GUID-30647B57-813F-4337-807A-A306A8F6181A">
                           <p class="notep1">注意：</p>
                           <p>只有<code class="codeph">root</code>用户才能显示和设置capabilities属性。
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="UNXAR269"></a><div class="props_rev_3"><a id="GUID-34D4D084-2E28-4325-86E9-C19FDA524710" name="GUID-34D4D084-2E28-4325-86E9-C19FDA524710"></a><h3 id="UNXAR-GUID-34D4D084-2E28-4325-86E9-C19FDA524710" class="sect3"><span class="enumeration_section">8.7</span>调整操作系统缓冲区高速缓存</h3>
               <div>
                  <p>调整Oracle数据库缓冲区缓存的大小。如果内存有限，则调整操作系统缓冲区缓存。<a id="d14091e5047" class="indexterm-anchor"></a><a id="d14091e5051" class="indexterm-anchor"></a><a id="d14091e5053" class="indexterm-anchor"></a></p>
                  <p>当操作系统缓冲区高速缓存从内存传输到磁盘或从磁盘传输到内存时，它会将数据块保存在内存中。</p>
                  <p>Oracle数据库缓冲区缓存是存储Oracle数据库缓冲区的内存区域。</p>
                  <p>如果系统上的内存量有限，则相应减少操作系统缓冲区高速缓存大小。</p>
                  <p>使用<code class="codeph">sar</code>命令确定必须增加或减少的缓冲区高速缓存。
                  </p>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>