<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Using Scripts in SQL*Plus</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="User's Guide and Reference">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="User's Guide and Reference">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="sqlplus-users-guide-and-reference.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-04-25T05:48:09-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96459-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="SQL-Plus-basics.html" title="Previous" type="text/html">
      <link rel="next" href="formatting-SQL-Plus-reports.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="SQL*Plus User's Guide and Reference">
    <meta name="dcterms.isVersionOf" content="SQPUG">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="SQL-Plus-basics.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="formatting-SQL-Plus-reports.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">User's Guide and Reference</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="using-SQL-Plus.html" property="item" typeof="WebPage"><span property="name"> Using SQL*Plus </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> Using Scripts in SQL*Plus</li>
            </ol>
            <a id="GUID-DFCF7A00-B15A-4B10-8493-46D2248BCC2A" name="GUID-DFCF7A00-B15A-4B10-8493-46D2248BCC2A"></a><a id="SQPUG015"></a>
            
            <h2 id="SQPUG-GUID-DFCF7A00-B15A-4B10-8493-46D2248BCC2A" class="sect2"><span class="enumeration_chapter">5 </span> Using Scripts in SQL*Plus
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>This chapter helps you learn to write and edit scripts containing SQL*Plus commands, SQL commands, and PL/SQL blocks. It covers the following topics:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="using-scripts-in-SQL-Plus.html#GUID-E9305EF3-85CF-49BF-AB4D-E2BBBA2C8025">About Editing Scripts</a></p>
                  </li>
                  <li>
                     <p><a href="using-scripts-in-SQL-Plus.html#GUID-AE1E6E02-4992-4EB8-A321-F5A0B8651617">About Editing Scripts in SQL*Plus Command-Line</a></p>
                  </li>
                  <li>
                     <p><a href="using-scripts-in-SQL-Plus.html#GUID-BA55A3E2-19A9-4331-AFEE-F6FD81397181">About Placing Comments in Scripts</a></p>
                  </li>
                  <li>
                     <p><a href="using-scripts-in-SQL-Plus.html#GUID-C00A6D73-48A9-4C51-BB7C-A120BC8B8BDA">Running Scripts</a></p>
                  </li>
                  <li>
                     <p><a href="using-scripts-in-SQL-Plus.html#GUID-619EAD89-0F4A-47FC-886A-A79228A9F8D6">Nesting Scripts</a></p>
                  </li>
                  <li>
                     <p><a href="using-scripts-in-SQL-Plus.html#GUID-27BCB57D-4B87-432C-8F1F-7B26F61EAA7F">About Exiting from a Script with a Return Code</a></p>
                  </li>
                  <li>
                     <p><a href="using-scripts-in-SQL-Plus.html#GUID-026B5022-3F51-4306-A48C-F12DE48DB174">Defining Substitution Variables</a></p>
                  </li>
                  <li>
                     <p><a href="using-scripts-in-SQL-Plus.html#GUID-843C726C-F57D-46B7-B3E8-CE4B75AE4191">About Using Predefined Variables</a></p>
                  </li>
                  <li>
                     <p><a href="using-scripts-in-SQL-Plus.html#GUID-68AC9FF2-B92A-48D1-9699-133D47F8DDC1">Using Substitution Variables</a></p>
                  </li>
                  <li>
                     <p><a href="using-scripts-in-SQL-Plus.html#GUID-678E9B76-3E97-4E00-B869-939FF2D43E3F">Passing Parameters through the START Command</a></p>
                  </li>
                  <li>
                     <p><a href="using-scripts-in-SQL-Plus.html#GUID-573671D6-ACFD-4C1D-A29D-D6C50A95056C">About Communicating with the User</a></p>
                  </li>
                  <li>
                     <p><a href="using-scripts-in-SQL-Plus.html#GUID-B52D6F2E-A28A-48B6-B73F-6A9D018BD107">About Using Bind Variables</a></p>
                  </li>
                  <li>
                     <p><a href="using-scripts-in-SQL-Plus.html#GUID-40F6AC0B-B312-4BAB-8709-D15D24514D0F">Fetching Iterative Results from a SELECT inside a PL/SQL Block</a></p>
                  </li>
               </ul>
               <p>Read this chapter while sitting at your computer and try out the examples shown. Before beginning, make sure you have access to the <a id="d9848e91" class="indexterm-anchor"></a><a id="d9848e95" class="indexterm-anchor"></a>sample schema described in <a href="SQL-Plus-quick-start.html#GUID-2AA5AAC7-6027-4B2F-8442-C1EA79D9956B">SQL*Plus Overview</a>.
               </p>
            </div><a id="SQPUG409"></a><div class="props_rev_3"><a id="GUID-E9305EF3-85CF-49BF-AB4D-E2BBBA2C8025" name="GUID-E9305EF3-85CF-49BF-AB4D-E2BBBA2C8025"></a><h3 id="SQPUG-GUID-E9305EF3-85CF-49BF-AB4D-E2BBBA2C8025" class="sect3"><span class="enumeration_section">5.1 </span>About Editing Scripts
               </h3>
               <div>
                  <p>In SQL*Plus command-line, the use of an external editor in combination with the @, @@ or START commands is an effective method of creating and executing generic scripts. You can write scripts which contain SQL*Plus, SQL and PL/SQL commands, <a id="d9848e126" class="indexterm-anchor"></a>which you can retrieve and edit. This is especially useful for storing complex commands or frequently used reports. 
                  </p>
               </div><a id="SQPUG411"></a><a id="SQPUG410"></a><div class="props_rev_3"><a id="GUID-430B6622-B743-46C2-B330-BDCA85125160" name="GUID-430B6622-B743-46C2-B330-BDCA85125160"></a><h4 id="SQPUG-GUID-430B6622-B743-46C2-B330-BDCA85125160" class="sect4"><span class="enumeration_section">5.1.1 </span>Writing Scripts with a System Editor
                  </h4>
                  <div>
                     <div class="section">
                        <p>Your operating system<a id="d9848e155" class="indexterm-anchor"></a> may have one or more text editors<a id="d9848e160" class="indexterm-anchor"></a><a id="d9848e164" class="indexterm-anchor"></a> that you can use to write scripts. You can run your operating system's default text editor without leaving the  SQL*Plus command-line by entering the EDIT<a id="d9848e169" class="indexterm-anchor"></a> command. 
                        </p>
                        <p>You can use the SQL*Plus DEFINE<a id="d9848e174" class="indexterm-anchor"></a> command to define the variable, <a id="d9848e179" class="indexterm-anchor"></a><a id="d9848e181" class="indexterm-anchor"></a>_EDITOR<a id="d9848e186" class="indexterm-anchor"></a>, to hold the name of your preferred text editor. For example, to define the editor used by EDIT to be vi, enter the following command:
                        </p><pre class="oac_no_warn" dir="ltr">DEFINE _EDITOR = vi</pre><p>You can include an editor definition in your user or site profile so that it is always enabled when you start SQL*Plus. See <a href="configuring-SQL-Plus.html#GUID-410DDF15-7230-4238-B3FF-BA965CE16B2E">SQL*Plus Configuration</a>, and the <a href="DEFINE.html#GUID-72D4998C-EC2C-4FA6-9F7F-A305C407D666">DEFINE</a> and <a href="EDIT.html#GUID-25BC5CA1-4B03-4186-8ED3-715B5C6A6C42">EDIT</a> commands for more information.
                        </p>
                        <p>To create a script<a id="d9848e207" class="indexterm-anchor"></a> with a text editor, enter EDIT<a id="d9848e212" class="indexterm-anchor"></a> followed by the name of the file to edit or create, for example:
                        </p><pre class="oac_no_warn" dir="ltr">EDIT SALES</pre><p>EDIT adds the filename extension .SQL to the name unless you specify the file extension. When you save the script with the text editor, it is saved back into the same file. EDIT lets you create or modify scripts.</p>
                        <p>You must include a semicolon at the end of each SQL command and a slash (/) on a line by itself after each PL/SQL block in the file. You can include multiple SQL commands<a id="d9848e223" class="indexterm-anchor"></a> and PL/SQL blocks in a script<a id="d9848e228" class="indexterm-anchor"></a>.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-430B6622-B743-46C2-B330-BDCA85125160__I1210192">
                        <p class="titleinexample">Example 5-1 Using a System Editor to Write a SQL Script</p>
                        <p>Suppose you have composed a query to display a list of salespeople and their commissions. You plan to run it once a month to keep track of how well each employee is doing. </p>
                        <p>To compose and save the query using your system editor, invoke your editor and create a file to hold your script:</p><pre class="oac_no_warn" dir="ltr">EDIT SALES<a id="d9848e242" class="indexterm-anchor"></a><a id="d9848e246" class="indexterm-anchor"></a></pre><p>Enter each of the following lines in your editor. Do not forget to include the semicolon at the end of the SQL statement:</p><pre class="oac_no_warn" dir="ltr">COLUMN LAST_NAME HEADING 'LAST NAME'
COLUMN SALARY HEADING 'MONTHLY SALARY' FORMAT $99,999
COLUMN COMMISSION_PCT HEADING 'COMMISSION %' FORMAT 90.90
SELECT LAST_NAME, SALARY, COMMISSION_PCT
FROM EMP_DETAILS_VIEW
WHERE JOB_ID='SA_MAN';</pre><p>The format model for the column COMMISSION_PCT tells SQL*Plus to display an initial zero for decimal values, and a zero instead of a blank when the value of COMMISSION_PCT is zero for a given row. Format models and the COLUMN command are described in more detail in the <a href="COLUMN.html#GUID-643B665F-B134-4A0B-88F7-10400D6D199E">COLUMN</a> command and in <a href="../sqlrf/Format-Models.html#SQLRF-GUID-DFB23985-2943-4C6A-96DF-DF0F664CED96" target="_blank">Format Models</a>. 
                        </p>
                        <p>Now use your editor's save<a id="d9848e264" class="indexterm-anchor"></a> command to store your query in a file<a id="d9848e269" class="indexterm-anchor"></a> called SALES.SQL.
                        </p>
                     </div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div><a id="SQPUG413"></a><a id="SQPUG412"></a><div class="props_rev_3"><a id="GUID-AE1E6E02-4992-4EB8-A321-F5A0B8651617" name="GUID-AE1E6E02-4992-4EB8-A321-F5A0B8651617"></a><h3 id="SQPUG-GUID-AE1E6E02-4992-4EB8-A321-F5A0B8651617" class="sect3"><span class="enumeration_section">5.2 </span>About Editing Scripts in SQL*Plus Command-Line
               </h3>
               <div>
                  <p>You can use a number of SQL*Plus commands to edit the SQL command<a id="d9848e307" class="indexterm-anchor"></a> or PL/SQL block<a id="d9848e314" class="indexterm-anchor"></a> currently stored in the buffer. 
                  </p>
                  <p><a href="using-scripts-in-SQL-Plus.html#GUID-AE1E6E02-4992-4EB8-A321-F5A0B8651617__CCHBCFHJ" title="Shows command-line script editing commands, abbreviations, and descriptions.">Table 5-1</a> lists the SQL*Plus commands that allow you to examine or change the command in the buffer without re-entering the command.
                  </p>
                  <div class="tblformal" id="GUID-AE1E6E02-4992-4EB8-A321-F5A0B8651617__CCHBCFHJ">
                     <p class="titleintable">Table 5-1 SQL*Plus Editing Commands</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="SQL*Plus Editing Commands" summary="Shows command-line script editing commands, abbreviations, and descriptions." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="31%" id="d9848e336">Command</th>
                              <th align="left" valign="bottom" width="17%" id="d9848e339">Abbreviation</th>
                              <th align="left" valign="bottom" width="52%" id="d9848e342">Purpose</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d9848e347" headers="d9848e336 "><pre class="oac_no_warn" dir="ltr">APPEND<a id="d9848e350" class="indexterm-anchor"></a> <span class="italic">text</span></pre></td>
                              <td align="left" valign="top" width="17%" headers="d9848e347 d9848e339 "><pre class="oac_no_warn" dir="ltr">A <span class="italic">text</span></pre></td>
                              <td align="left" valign="top" width="52%" headers="d9848e347 d9848e342 ">
                                 <p>adds <span class="italic">text</span> at the end of the current line
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d9848e367" headers="d9848e336 "><pre class="oac_no_warn" dir="ltr">CHANGE<a id="d9848e370" class="indexterm-anchor"></a>/old/new</pre></td>
                              <td align="left" valign="top" width="17%" headers="d9848e367 d9848e339 "><pre class="oac_no_warn" dir="ltr">C/<span class="italic">old</span>/<span class="italic">new</span></pre></td>
                              <td align="left" valign="top" width="52%" headers="d9848e367 d9848e342 ">
                                 <p>changes <span class="italic">old</span> to <span class="italic">new</span> in the current line
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d9848e391" headers="d9848e336 "><pre class="oac_no_warn" dir="ltr">CHANGE/<span class="italic">text</span></pre></td>
                              <td align="left" valign="top" width="17%" headers="d9848e391 d9848e339 "><pre class="oac_no_warn" dir="ltr">C/<span class="italic">text</span></pre></td>
                              <td align="left" valign="top" width="52%" headers="d9848e391 d9848e342 ">
                                 <p>deletes <span class="italic">text</span> from the current line
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d9848e408" headers="d9848e336 "><pre class="oac_no_warn" dir="ltr">CLEAR<a id="d9848e411" class="indexterm-anchor"></a> BUFFER<a id="d9848e416" class="indexterm-anchor"></a></pre></td>
                              <td align="left" valign="top" width="17%" headers="d9848e408 d9848e339 "><pre class="oac_no_warn" dir="ltr">CL BUFF</pre></td>
                              <td align="left" valign="top" width="52%" headers="d9848e408 d9848e342 ">
                                 <p>deletes<a id="d9848e424" class="indexterm-anchor"></a> all lines<a id="d9848e429" class="indexterm-anchor"></a></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d9848e434" headers="d9848e336 "><pre class="oac_no_warn" dir="ltr">DEL<a id="d9848e437" class="indexterm-anchor"></a></pre></td>
                              <td align="left" valign="top" width="17%" headers="d9848e434 d9848e339 ">
                                 <p>(none)</p>
                              </td>
                              <td align="left" valign="top" width="52%" headers="d9848e434 d9848e342 ">
                                 <p>deletes the current line</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d9848e446" headers="d9848e336 "><pre class="oac_no_warn" dir="ltr">DEL <span class="italic">n</span></pre></td>
                              <td align="left" valign="top" width="17%" headers="d9848e446 d9848e339 ">
                                 <p>(none)</p>
                              </td>
                              <td align="left" valign="top" width="52%" headers="d9848e446 d9848e342 ">
                                 <p>deletes line <span class="italic">n</span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d9848e460" headers="d9848e336 "><pre class="oac_no_warn" dir="ltr">DEL *<a id="d9848e463" class="indexterm-anchor"></a> <a id="d9848e468" class="indexterm-anchor"></a></pre></td>
                              <td align="left" valign="top" width="17%" headers="d9848e460 d9848e339 ">
                                 <p>(none)</p>
                              </td>
                              <td align="left" valign="top" width="52%" headers="d9848e460 d9848e342 ">
                                 <p>deletes the current line<a id="d9848e478" class="indexterm-anchor"></a></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d9848e483" headers="d9848e336 "><pre class="oac_no_warn" dir="ltr">DEL <span class="italic">n</span> *</pre></td>
                              <td align="left" valign="top" width="17%" headers="d9848e483 d9848e339 ">
                                 <p>(none)</p>
                              </td>
                              <td align="left" valign="top" width="52%" headers="d9848e483 d9848e342 ">
                                 <p>deletes line <span class="italic">n</span> through the current line
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d9848e499" headers="d9848e336 "><pre class="oac_no_warn" dir="ltr">DEL LAST</pre></td>
                              <td align="left" valign="top" width="17%" headers="d9848e499 d9848e339 ">
                                 <p>(none)</p>
                              </td>
                              <td align="left" valign="top" width="52%" headers="d9848e499 d9848e342 ">
                                 <p>deletes the last line<a id="d9848e508" class="indexterm-anchor"></a></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d9848e513" headers="d9848e336 "><pre class="oac_no_warn" dir="ltr">DEL <span class="italic">m</span> <span class="italic">n</span></pre></td>
                              <td align="left" valign="top" width="17%" headers="d9848e513 d9848e339 ">
                                 <p>(none)</p>
                              </td>
                              <td align="left" valign="top" width="52%" headers="d9848e513 d9848e342 ">
                                 <p>deletes a range of lines (<span class="italic">m</span> to <span class="italic">n</span>)<a id="d9848e533" class="indexterm-anchor"></a></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d9848e538" headers="d9848e336 "><pre class="oac_no_warn" dir="ltr">DEL * <span class="italic">n</span></pre></td>
                              <td align="left" valign="top" width="17%" headers="d9848e538 d9848e339 ">
                                 <p>(none)</p>
                              </td>
                              <td align="left" valign="top" width="52%" headers="d9848e538 d9848e342 ">
                                 <p>deletes the current line through line <span class="italic">n</span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d9848e553" headers="d9848e336 "><pre class="oac_no_warn" dir="ltr">INPUT<a id="d9848e556" class="indexterm-anchor"></a></pre></td>
                              <td align="left" valign="top" width="17%" headers="d9848e553 d9848e339 "><pre class="oac_no_warn" dir="ltr">I</pre></td>
                              <td align="left" valign="top" width="52%" headers="d9848e553 d9848e342 ">
                                 <p>adds one or more lines</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d9848e565" headers="d9848e336 "><pre class="oac_no_warn" dir="ltr">INPUT <span class="italic">text</span></pre></td>
                              <td align="left" valign="top" width="17%" headers="d9848e565 d9848e339 "><pre class="oac_no_warn" dir="ltr">I <span class="italic">text</span></pre></td>
                              <td align="left" valign="top" width="52%" headers="d9848e565 d9848e342 ">
                                 <p>adds a line consisting of <span class="italic">text</span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d9848e581" headers="d9848e336 "><pre class="oac_no_warn" dir="ltr">LIST<a id="d9848e584" class="indexterm-anchor"></a><a id="d9848e586" class="indexterm-anchor"></a></pre></td>
                              <td align="left" valign="top" width="17%" headers="d9848e581 d9848e339 "><pre class="oac_no_warn" dir="ltr">; or L</pre></td>
                              <td align="left" valign="top" width="52%" headers="d9848e581 d9848e342 ">
                                 <p>lists all lines<a id="d9848e594" class="indexterm-anchor"></a><a id="d9848e598" class="indexterm-anchor"></a> in the SQL buffer
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d9848e604" headers="d9848e336 "><pre class="oac_no_warn" dir="ltr">LIST <span class="italic">n</span></pre></td>
                              <td align="left" valign="top" width="17%" headers="d9848e604 d9848e339 "><pre class="oac_no_warn" dir="ltr">L <span class="italic">n</span> or <span class="italic">n</span></pre></td>
                              <td align="left" valign="top" width="52%" headers="d9848e604 d9848e342 ">
                                 <p>lists line <span class="italic">n</span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d9848e623" headers="d9848e336 "><pre class="oac_no_warn" dir="ltr">LIST *<a id="d9848e626" class="indexterm-anchor"></a> <a id="d9848e631" class="indexterm-anchor"></a></pre></td>
                              <td align="left" valign="top" width="17%" headers="d9848e623 d9848e339 "><pre class="oac_no_warn" dir="ltr">L *</pre></td>
                              <td align="left" valign="top" width="52%" headers="d9848e623 d9848e342 ">
                                 <p>lists the current line<a id="d9848e641" class="indexterm-anchor"></a></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d9848e646" headers="d9848e336 "><pre class="oac_no_warn" dir="ltr">LIST <span class="italic">n</span> *</pre></td>
                              <td align="left" valign="top" width="17%" headers="d9848e646 d9848e339 "><pre class="oac_no_warn" dir="ltr">L <span class="italic">n</span> *</pre></td>
                              <td align="left" valign="top" width="52%" headers="d9848e646 d9848e342 ">
                                 <p>lists line <span class="italic">n</span> through the current line
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d9848e665" headers="d9848e336 "><pre class="oac_no_warn" dir="ltr">LIST LAST</pre></td>
                              <td align="left" valign="top" width="17%" headers="d9848e665 d9848e339 "><pre class="oac_no_warn" dir="ltr">L LAST</pre></td>
                              <td align="left" valign="top" width="52%" headers="d9848e665 d9848e342 ">
                                 <p>lists the last line<a id="d9848e674" class="indexterm-anchor"></a></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d9848e679" headers="d9848e336 "><pre class="oac_no_warn" dir="ltr">LIST <span class="italic">m</span> <span class="italic">n</span></pre></td>
                              <td align="left" valign="top" width="17%" headers="d9848e679 d9848e339 "><pre class="oac_no_warn" dir="ltr">L <span class="italic">m</span> <span class="italic">n</span></pre></td>
                              <td align="left" valign="top" width="52%" headers="d9848e679 d9848e342 ">
                                 <p>lists a range of lines (<span class="italic">m</span> to <span class="italic">n</span>)<a id="d9848e704" class="indexterm-anchor"></a></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d9848e709" headers="d9848e336 "><pre class="oac_no_warn" dir="ltr">LIST * <span class="italic">n</span></pre></td>
                              <td align="left" valign="top" width="17%" headers="d9848e709 d9848e339 "><pre class="oac_no_warn" dir="ltr">L * <span class="italic">n</span></pre></td>
                              <td align="left" valign="top" width="52%" headers="d9848e709 d9848e342 ">
                                 <p>lists the current line through line <span class="italic">n</span></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p>These are useful if you want to correct or modify a command you have entered.</p>
               </div><a id="SQPUG415"></a><a id="SQPUG414"></a><div class="props_rev_3"><a id="GUID-72C6ECF8-E83F-4ECA-8A82-9D8B94270070" name="GUID-72C6ECF8-E83F-4ECA-8A82-9D8B94270070"></a><h4 id="SQPUG-GUID-72C6ECF8-E83F-4ECA-8A82-9D8B94270070" class="sect4"><span class="enumeration_section">5.2.1 </span>Listing the Buffer Contents
                  </h4>
                  <div>
                     <div class="section">
                        <p>The SQL buffer contains the last SQL or PL/SQL command. Any editing command other than LIST and DEL affects only a single line in the buffer<a id="d9848e750" class="indexterm-anchor"></a>. This line is called the current line. It is marked with an asterisk when you list the current command<a id="d9848e755" class="indexterm-anchor"></a> or block<a id="d9848e762" class="indexterm-anchor"></a>.
                        </p><pre class="pre codeblock"><code>SELECT EMPLOYEE_ID, LAST_NAME, JOB_ID, SALARY
  2  FROM EMP_DETAILS_VIEW
  3* WHERE SALARY&gt;12000</code></pre><p>Notice that the semicolon you entered at the end of the SELECT command is not listed. This semicolon<a id="d9848e771" class="indexterm-anchor"></a> is necessary to indicate the end of the command when you enter it, but it is not part of the SQL command and SQL*Plus does not store it in the SQL buffer. 
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-72C6ECF8-E83F-4ECA-8A82-9D8B94270070__GUID-35E4D877-2D23-4392-B02C-D5638C4437F8">
                        <p class="titleinexample">Example 5-2 Listing the Buffer Contents</p>
                        <p>Suppose you want to list the current command. Use the LIST command as shown. (If you have exited SQL*Plus or entered another SQL command or PL/SQL block since following the steps in <a href="SQL-Plus-basics.html#GUID-19D38608-829E-49BC-A452-50895163E311__I1039424">Example 4-3</a>, perform the steps in that example again before continuing.)
                        </p><pre class="oac_no_warn" dir="ltr">LIST</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="SQPUG417"></a><a id="SQPUG418"></a><a id="SQPUG416"></a><div class="props_rev_3"><a id="GUID-0A853493-EC7D-416C-ABAD-D6C7F8624902" name="GUID-0A853493-EC7D-416C-ABAD-D6C7F8624902"></a><h4 id="SQPUG-GUID-0A853493-EC7D-416C-ABAD-D6C7F8624902" class="sect4"><span class="enumeration_section">5.2.2 </span>Editing the Current Line
                  </h4>
                  <div>
                     <div class="section">
                        <p>The SQL*Plus CHANGE<a id="d9848e810" class="indexterm-anchor"></a> command enables you to edit<a id="d9848e813" class="indexterm-anchor"></a> the current line.<a id="d9848e818" class="indexterm-anchor"></a> Various actions determine which line<a id="d9848e823" class="indexterm-anchor"></a> is the current line:
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>LIST<a id="d9848e833" class="indexterm-anchor"></a> a given line to make it the current line.
                              </p>
                           </li>
                           <li>
                              <p>When you LIST<a id="d9848e841" class="indexterm-anchor"></a> or RUN<a id="d9848e846" class="indexterm-anchor"></a> the command in the buffer, the last line of the command becomes the current line. (Note, that using the slash (/) command to run the command in the buffer does not affect the current line.)
                              </p>
                           </li>
                           <li>
                              <p>If you get an error<a id="d9848e854" class="indexterm-anchor"></a>, the error line automatically becomes the current line.
                              </p>
                           </li>
                        </ul><pre class="pre codeblock"><code>SELECT EMPLOYEE_ID, LAST_NAME, JO_ID, SALARY
                               *
ERROR at line 1:
ORA-00904: invalid column name</code></pre><p>Examine the error message; it indicates an invalid column name in line 1 of the query. The asterisk shows the point of error—the mis-typed column JOB_ID.</p>
                        <p>Instead of re-entering the entire command, you can correct the mistake by editing the command in the buffer. The line containing the error is now the current line. Use the CHANGE command to correct the mistake. This command has three parts, separated by slashes or any other non-alphanumeric character:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>the word CHANGE or the letter C</p>
                           </li>
                           <li>
                              <p>the sequence of characters you want to change</p>
                           </li>
                           <li>
                              <p>the replacement sequence of characters</p>
                           </li>
                        </ul>
                        <p>The CHANGE command finds the first occurrence in the current line of the character sequence to be changed and changes it to the new sequence. You do not need to use the CHANGE command to re-enter an entire line. </p><pre class="pre codeblock"><code>1* SELECT EMPLOYEE_ID, FIRST_NAME, JOB_ID, SALARY</code></pre><p>Now that you have corrected the error, you can use the RUN command to run the command again:</p><pre class="oac_no_warn" dir="ltr">RUN</pre><p>SQL*Plus correctly displays the query and its result:</p><pre class="pre codeblock"><code>  1  SELECT EMPLOYEE_ID, LAST_NAME, JOB_ID, SALARY
  2  FROM EMP_DETAILS_VIEW
  3* WHERE JOB_ID='SA_MAN'

EMPLOYEE_ID LAST_NAME                 JOB_ID     MONTHLY SALARY
----------- ------------------------- ---------- --------------
        145 Russell                   SA_MAN            $14,000
        146 Partners                  SA_MAN            $13,500
        147 Errazuriz                 SA_MAN            $12,000
        148 Cambrault                 SA_MAN            $11,000
        149 Zlotkey                   SA_MAN            $10,500</code></pre><p>Note that the column SALARY retains the format you gave it in <a href="SQL-Plus-basics.html#GUID-884295EA-F37A-4445-9708-298B738CFECA__I1039769">Example 4-4</a>. (If you have left SQL*Plus and started again since performing <a href="SQL-Plus-basics.html#GUID-884295EA-F37A-4445-9708-298B738CFECA__I1039769">Example 4-4</a> the column has reverted to its original format.)
                        </p>
                        <p>See <a href="CHANGE.html#GUID-9002CADF-74E2-427D-A404-F8019C7A2791">CHANGE</a> for information about the significance of case in a CHANGE command and on using wildcards to specify blocks of text in a CHANGE command.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-0A853493-EC7D-416C-ABAD-D6C7F8624902__GUID-DD589681-BDFF-47E1-A4B4-61A15A05504D">
                        <p class="titleinexample">Example 5-3 Making an Error in Command Entry</p>
                        <p>Suppose you try to select the JOB_ID column but mistakenly enter it as JO_ID. Enter the following command, purposely misspelling JOB_ID in the first line:</p><pre class="oac_no_warn" dir="ltr">SELECT EMPLOYEE_ID, LAST_NAME, JO_ID, SALARY
FROM EMP_DETAILS_VIEW
WHERE JOB_ID='SA_MAN';</pre><p>You see this message on your screen:</p>
                     </div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-0A853493-EC7D-416C-ABAD-D6C7F8624902__I1210512">
                        <p class="titleinexample">Example 5-4 Correcting the Error</p>
                        <p>To change JO_ID to JOB_ID, change the line with the CHANGE command:</p><pre class="oac_no_warn" dir="ltr">CHANGE /JO_ID/JOB_ID</pre><p>The corrected line appears on your screen:</p>
                     </div>
                     <!-- class="example" -->
                  </div>
               </div><a id="SQPUG420"></a><a id="SQPUG419"></a><div class="props_rev_3"><a id="GUID-5E790971-210F-45A9-A2CE-54C7BC16FA42" name="GUID-5E790971-210F-45A9-A2CE-54C7BC16FA42"></a><h4 id="SQPUG-GUID-5E790971-210F-45A9-A2CE-54C7BC16FA42" class="sect4"><span class="enumeration_section">5.2.3 </span>Appending Text to a Line 
                  </h4>
                  <div>
                     <div class="section">
                        <p>To add text<a id="d9848e943" class="indexterm-anchor"></a> to the end of a line<a id="d9848e948" class="indexterm-anchor"></a> in the buffer<a id="d9848e953" class="indexterm-anchor"></a>, use the APPEND<a id="d9848e958" class="indexterm-anchor"></a> command.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Use the LIST command (or the line number) to list the line you want to change.</span><div></div>
                        </li>
                        <li class="stepexpand"><span>Enter APPEND followed by the text you want to add. If the text you want to add begins with a blank, separate the word APPEND from the first character of the text by two blanks: one to separate APPEND from the text, and one to go into the buffer with the text.</span><div></div>
                        </li>
                     </ol>
                     <div class="example" id="GUID-5E790971-210F-45A9-A2CE-54C7BC16FA42__GUID-C250624C-1410-422F-990D-F860D184F150">
                        <p class="titleinexample">Example 5-5 Appending Text to a Line</p>
                        <p>To append a space and the clause DESC to line 4 of the current query, first list line 4:</p><pre class="oac_no_warn" dir="ltr">LIST 4</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-5E790971-210F-45A9-A2CE-54C7BC16FA42__GUID-E83F601A-60A6-4571-B615-E8D810BF82CE"><pre class="pre codeblock"><code>4* ORDER BY SALARY</code></pre><p>Next, enter the following command (be sure to type two spaces between APPEND and DESC):</p><pre class="oac_no_warn" dir="ltr">APPEND  DESC</pre><pre class="pre codeblock"><code>4* ORDER BY SALARY DESC</code></pre><p>Type RUN to verify the query:</p><pre class="pre codeblock"><code>  1  SELECT EMPLOYEE_ID, LAST_NAME, JOB_ID, SALARY
  2  FROM EMP_DETAILS_VIEW
  3  WHERE JOB_ID='SA_MAN'
  4* ORDER BY SALARY DESC

EMPLOYEE_ID LAST_NAME                 JOB_ID     MONTHLY SALARY
----------- ------------------------- ---------- --------------
        145 Russell                   SA_MAN            $14,000
        146 Partners                  SA_MAN            $13,500
        147 Errazuriz                 SA_MAN            $12,000
        148 Cambrault                 SA_MAN            $11,000
        149 Zlotkey                   SA_MAN            $10,500</code></pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="SQPUG422"></a><a id="SQPUG421"></a><div class="props_rev_3"><a id="GUID-B2E6812D-897D-4DDC-99F2-6FC10DC9D64E" name="GUID-B2E6812D-897D-4DDC-99F2-6FC10DC9D64E"></a><h4 id="SQPUG-GUID-B2E6812D-897D-4DDC-99F2-6FC10DC9D64E" class="sect4"><span class="enumeration_section">5.2.4 </span>Adding a New Line
                  </h4>
                  <div>
                     <div class="section">
                        <p>To insert<a id="d9848e1014" class="indexterm-anchor"></a> a new line<a id="d9848e1019" class="indexterm-anchor"></a> after the current line, use the INPUT<a id="d9848e1024" class="indexterm-anchor"></a> command.
                        </p>
                        <p>To insert a line before line 1, enter a zero ("0") and follow the zero with text. SQL*Plus inserts the line at the beginning of the buffer and all lines are renumbered starting at 1.</p><pre class="oac_no_warn" dir="ltr">0 SELECT EMPLOYEE_ID</pre><pre class="pre codeblock"><code>4</code></pre><p>Enter the new line. Then press Return. </p><pre class="oac_no_warn" dir="ltr">4 ORDER BY SALARY</pre><p>SQL*Plus prompts you again for a new line:</p><pre class="pre codeblock"><code>5</code></pre><p>Press Return again to indicate that you will not enter any more lines, and then use RUN to verify and re-run the query.</p><pre class="pre codeblock"><code>  1  SELECT EMPLOYEE_ID, LAST_NAME, JOB_ID, SALARY
  2  FROM EMP_DETAILS_VIEW
  3  WHERE JOB_ID='SA_MAN'
  4* ORDER BY SALARY

EMPLOYEE_ID LAST_NAME                 JOB_ID     MONTHLY SALARY
----------- ------------------------- ---------- --------------
        149 Zlotkey                   SA_MAN            $10,500
        148 Cambrault                 SA_MAN            $11,000
        147 Errazuriz                 SA_MAN            $12,000
        146 Partners                  SA_MAN            $13,500
        145 Russell                   SA_MAN            $14,000</code></pre></div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-B2E6812D-897D-4DDC-99F2-6FC10DC9D64E__GUID-79C47676-AB41-44D1-89DF-B217AA9D70B4">
                        <p class="titleinexample">Example 5-6 Adding a Line</p>
                        <p>Suppose you want to add a fourth line to the SQL command you modified in <a href="using-scripts-in-SQL-Plus.html#GUID-0A853493-EC7D-416C-ABAD-D6C7F8624902__I1210512">Example 5-4</a>. Since line 3 is already the current line, enter INPUT and press Return. 
                        </p><pre class="oac_no_warn" dir="ltr">INPUT</pre><p>SQL*Plus prompts you for the new line:</p>
                     </div>
                     <!-- class="example" -->
                  </div>
               </div><a id="SQPUG423"></a><div class="props_rev_3"><a id="GUID-6B3B23FB-13FF-43B3-B8E2-8E4D055D93D1" name="GUID-6B3B23FB-13FF-43B3-B8E2-8E4D055D93D1"></a><h4 id="SQPUG-GUID-6B3B23FB-13FF-43B3-B8E2-8E4D055D93D1" class="sect4"><span class="enumeration_section">5.2.5 </span>Deleting Lines 
                  </h4>
                  <div>
                     <div class="section">
                        <p><a id="d9848e1078" class="indexterm-anchor"></a>Use the DEL<a id="d9848e1083" class="indexterm-anchor"></a> command to delete lines<a id="d9848e1086" class="indexterm-anchor"></a> in the buffer. Enter DEL specifying the line numbers you want to delete. 
                        </p>
                        <p>Suppose you want to delete the current line to the last line inclusive. Use the DEL command as shown.</p><pre class="oac_no_warn" dir="ltr">DEL * LAST</pre><p>DEL makes the following line of the buffer (if any) the current line.</p>
                        <p>See <a href="DEL.html#GUID-BC85B0D4-4AC0-4B0C-82C2-C2563E116A5A">DEL</a> for more information.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="SQPUG424"></a><div class="props_rev_3"><a id="GUID-BA55A3E2-19A9-4331-AFEE-F6FD81397181" name="GUID-BA55A3E2-19A9-4331-AFEE-F6FD81397181"></a><h3 id="SQPUG-GUID-BA55A3E2-19A9-4331-AFEE-F6FD81397181" class="sect3"><span class="enumeration_section">5.3 </span>About Placing Comments in Scripts
               </h3>
               <div>
                  <p>You can enter comments<a id="d9848e1126" class="indexterm-anchor"></a> in a script<a id="d9848e1131" class="indexterm-anchor"></a> in three ways:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>using the SQL*Plus REMARK command for single line comments.</p>
                     </li>
                     <li>
                        <p>using the SQL comment delimiters /*... */ for single or multi line comments.</p>
                     </li>
                     <li>
                        <p>using ANSI/ISO (American National Standards Institute/International Standards Organization) comments - - for single line comments.</p>
                        <p>Comments entered at the command-line are not stored in the SQL buffer.</p>
                     </li>
                  </ul>
               </div><a id="SQPUG425"></a><div class="props_rev_3"><a id="GUID-514A4730-42D1-4B26-B5CA-F4E1CCDDBD45" name="GUID-514A4730-42D1-4B26-B5CA-F4E1CCDDBD45"></a><h4 id="SQPUG-GUID-514A4730-42D1-4B26-B5CA-F4E1CCDDBD45" class="sect4"><span class="enumeration_section">5.3.1 </span>Using the REMARK Command
                  </h4>
                  <div>
                     <div class="section">
                        <p>Use the REMARK<a id="d9848e1171" class="indexterm-anchor"></a> command on a line by itself in a script, followed by comments<a id="d9848e1174" class="indexterm-anchor"></a> on the same line. To continue the comments on additional lines, enter additional REMARK commands. Do not place a REMARK command between different lines of a single SQL command.
                        </p><pre class="oac_no_warn" dir="ltr">REMARK Commission Report;
REMARK to be run monthly.;
COLUMN LAST_NAME HEADING 'LAST_NAME';
COLUMN SALARY HEADING 'MONTHLY SALARY' FORMAT $99,999;
COLUMN COMMISSION_PCT HEADING 'COMMISSION %' FORMAT 90.90;
REMARK Includes only salesmen;
SELECT LAST_NAME, SALARY, COMMISSION_PCT
FROM EMP_DETAILS_VIEW
WHERE JOB_ID='SA_MAN';</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="SQPUG426"></a><div class="props_rev_3"><a id="GUID-E2839D99-77DA-4997-8CE8-F33802B794DA" name="GUID-E2839D99-77DA-4997-8CE8-F33802B794DA"></a><h4 id="SQPUG-GUID-E2839D99-77DA-4997-8CE8-F33802B794DA" class="sect4"><span class="enumeration_section">5.3.2 </span>Using /*...*/
                  </h4>
                  <div>
                     <div class="section">
                        <p>Enter the SQL comment<a id="d9848e1204" class="indexterm-anchor"></a> delimiters, /*...*/<a id="d9848e1209" class="indexterm-anchor"></a>, on separate lines in your script, on the same line as a SQL command, or on a line in a PL/SQL block. 
                        </p>
                        <p>You must enter a space after the slash-asterisk(/*) beginning a comment.</p>
                        <p>The comments can span multiple lines, but cannot be nested within one another:</p><pre class="oac_no_warn" dir="ltr">/* Commission Report
 to be run monthly. */
COLUMN LAST_NAME HEADING 'LAST_NAME';
COLUMN SALARY HEADING 'MONTHLY SALARY' FORMAT $99,999;
COLUMN COMMISSION_PCT HEADING 'COMMISSION %' FORMAT 90.90;
REMARK Includes only salesmen;
SELECT LAST_NAME, SALARY, COMMISSION_PCT
FROM EMP_DETAILS_VIEW
/* Include only salesmen.*/
WHERE JOB_ID='SA_MAN'; </pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="SQPUG427"></a><div class="props_rev_3"><a id="GUID-6FB74818-2CB2-4B44-9E83-270BEAB8C354" name="GUID-6FB74818-2CB2-4B44-9E83-270BEAB8C354"></a><h4 id="SQPUG-GUID-6FB74818-2CB2-4B44-9E83-270BEAB8C354" class="sect4"><span class="enumeration_section">5.3.3 </span>Using - -
                  </h4>
                  <div>
                     <div class="section">
                        <p>You can use ANSI/ISO "- -"<a id="d9848e1242" class="indexterm-anchor"></a> style comments<a id="d9848e1245" class="indexterm-anchor"></a> within SQL statements, PL/SQL blocks, or SQL*Plus commands. Since there is no ending delimiter, the comment cannot span multiple lines.
                        </p>
                        <p>For PL/SQL and SQL, enter the comment after a command on a line, or on a line by itself:</p><pre class="oac_no_warn" dir="ltr">-- Commissions report to be run monthly
DECLARE --block for reporting monthly sales</pre><p>For SQL*Plus commands, you can only include "- -" style comments if they are on a line by themselves. For example, these comments are legal:</p><pre class="oac_no_warn" dir="ltr">-- set maximum width for LONG to 777
SET LONG 777</pre><p>This comment is illegal:</p><pre class="oac_no_warn" dir="ltr">SET LONG 777 -- set maximum width for LONG to 777</pre><p>If you enter the following SQL*Plus command, SQL*Plus interprets it as a comment and does not execute the command:</p><pre class="oac_no_warn" dir="ltr">-- SET LONG 777</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="SQPUG428"></a><div class="props_rev_3"><a id="GUID-30DBE334-DA77-4FE3-BA97-45A7BCB5348A" name="GUID-30DBE334-DA77-4FE3-BA97-45A7BCB5348A"></a><h4 id="SQPUG-GUID-30DBE334-DA77-4FE3-BA97-45A7BCB5348A" class="sect4"><span class="enumeration_section">5.3.4 </span>Notes on Placing Comments
                  </h4>
                  <div>
                     <p>SQL*Plus does not have a SQL or PL/SQL command parser. It scans the first few keywords of each new statement to determine the command type, SQL, PL/SQL or SQL*Plus. Comments in some locations can prevent SQL*Plus from correctly identifying the command type, giving unexpected results. The following usage notes may help you to use SQL*Plus comments more effectively:</p>
                     <ol>
                        <li>
                           <p>Do not put comments within the first few keywords of a statement. For example: </p><pre class="oac_no_warn" dir="ltr">CREATE OR REPLACE
  2  /* HELLO */
  3  PROCEDURE HELLO AS
  4  BEGIN
  5  DBMS_OUTPUT.PUT_LINE('HELLO');
  6  END;
  7  /

Warning: Procedure created with compilation errors.</pre><p>The location of the comment prevents SQL*Plus from recognizing the command as a command. SQL*Plus submits the PL/SQL block to the server when it sees the slash "/" at the beginning of the comment, which it interprets as the "/" statement terminator. Move the comment to avoid this error. For example:</p><pre class="oac_no_warn" dir="ltr"> CREATE OR REPLACE PROCEDURE
  2  /* HELLO */
  3  HELLO AS
  4  BEGIN
  5  DBMS_OUTPUT.PUT_LINE('HELLO');
  6  END;
  7  /

Procedure created.</pre></li>
                        <li>
                           <p>Do not put comments after statement terminators (period, semicolon or slash). For example, if you enter:</p><pre class="oac_no_warn" dir="ltr">SELECT 'Y' FROM DUAL; -- TESTING</pre><p>You get the following error:</p><pre class="pre codeblock"><code>SELECT 'Y' FROM DUAL; -- TESTING
                    *
ERROR at line 1:
ORA-00911: invalid character</code></pre><p>SQL*Plus expects no text after a statement terminator and is unable to process the command. </p>
                        </li>
                        <li>
                           <p>Do not put statement termination characters at the end of a comment line or after comments in a SQL statement or a PL/SQL block. For example, if you enter: </p><pre class="oac_no_warn" dir="ltr">SELECT *
-- COMMENT;</pre><p>You get the following error:</p><pre class="pre codeblock"><code>-- COMMENT
         *
ERROR at line 2:
ORA-00923: FROM keyword not found where expected</code></pre><p>The semicolon is interpreted as a statement terminator and SQL*Plus submits the partially formed SQL command to the server for processing, resulting in an error.</p>
                        </li>
                        <li>
                           <p>Do not use ampersand characters '&amp;' in comments in a SQL statement or PL/SQL block. For example, if you enter a script such as: </p><pre class="oac_no_warn" dir="ltr">SELECT REGION_NAME, CITY
/* THIS &amp; THAT */
FROM EMP_DETAILS_VIEW
WHERE SALARY&gt;12000;</pre><p>SQL*Plus interprets text after the ampersand character "&amp;" as a substitution variable and prompts for the value of the variable, &amp;that:</p><pre class="pre codeblock"><code>Enter value for that: 
old   2: /* THIS &amp; THAT */
new   2: /* THIS  */

REGION_NAME               CITY
------------------------- ------------------------------
Americas                  Seattle
Americas                  Seattle
Americas                  Seattle
Europe                    Oxford
Europe                    Oxford
Americas                  Toronto
6 rows selected.</code></pre><p>You can SET DEFINE OFF to prevent scanning for the substitution character. </p>
                        </li>
                     </ol>
                     <p>For more information on substitution and termination characters, see DEFINE, SQLTERMINATOR and SQLBLANKLINES in the <a href="SET.html#GUID-9095C4FF-F4EB-4218-84AA-83061186625F">SET</a> command.
                     </p>
                  </div>
               </div>
            </div><a id="SQPUG430"></a><a id="SQPUG429"></a><div class="props_rev_3"><a id="GUID-C00A6D73-48A9-4C51-BB7C-A120BC8B8BDA" name="GUID-C00A6D73-48A9-4C51-BB7C-A120BC8B8BDA"></a><h3 id="SQPUG-GUID-C00A6D73-48A9-4C51-BB7C-A120BC8B8BDA" class="sect3"><span class="enumeration_section">5.4 </span>Running Scripts
               </h3>
               <div>
                  <div class="section">
                     <p>The START<a id="d9848e1361" class="indexterm-anchor"></a> command retrieves a script<a id="d9848e1364" class="indexterm-anchor"></a> and runs the commands it contains. Use START<a id="d9848e1369" class="indexterm-anchor"></a> to run a script<a id="d9848e1374" class="indexterm-anchor"></a> containing SQL commands, PL/SQL blocks, and SQL*Plus commands. You can have many commands in the file. Follow the START command with the name of the file:
                     </p><pre class="oac_no_warn" dir="ltr">START <span class="italic">file_name</span></pre><p>SQL*Plus assumes the file has a .SQL extension by default. </p><pre class="pre codeblock"><code>LAST NAME                 MONTHLY SALARY COMMISSION %
------------------------- -------------- ------------
Russell                          $14,000         0.40
Partners                         $13,500         0.30
Errazuriz                        $12,000         0.30
Cambrault                        $11,000         0.30
Zlotkey                          $10,500         0.20</code></pre><p>You can also use the @ (at sign)<a id="d9848e1389" class="indexterm-anchor"></a> command to run a script<a id="d9848e1394" class="indexterm-anchor"></a>:
                     </p><pre class="oac_no_warn" dir="ltr">@SALES</pre><p>The @<a id="d9848e1403" class="indexterm-anchor"></a> and @@ commands list and run the commands in the specified script<a id="d9848e1408" class="indexterm-anchor"></a> in the same manner as START<a id="d9848e1413" class="indexterm-anchor"></a>. SET ECHO affects the @ and @@ commands in the same way as it affects the START command.
                     </p>
                     <p>To see the commands as SQL*Plus "enters" them, you can SET ECHO<a id="d9848e1420" class="indexterm-anchor"></a> ON. The ECHO system variable controls the listing of the commands in scripts run with the START, @ and @@ commands. Setting the ECHO variable OFF suppresses the listing.
                     </p>
                     <p>START, @ and @@ leave the last SQL command or PL/SQL block of the script in the buffer.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-C00A6D73-48A9-4C51-BB7C-A120BC8B8BDA__GUID-44D0F82E-59B8-46CC-9EAF-E1C59439355C">
                     <p class="titleinexample">Example 5-7 Running a Script</p>
                     <p>To retrieve and run the command stored in SALES.SQL, enter</p><pre class="oac_no_warn" dir="ltr">START SALES</pre><p>SQL*Plus runs the commands in the file SALES and displays the results of the commands on your screen, formatting the query results according to the SQL*Plus commands in the file:</p>
                  </div>
                  <!-- class="example" -->
               </div><a id="SQPUG431"></a><div class="props_rev_3"><a id="GUID-E373B27D-A922-43D7-8F10-6B00F85C3EAE" name="GUID-E373B27D-A922-43D7-8F10-6B00F85C3EAE"></a><h4 id="SQPUG-GUID-E373B27D-A922-43D7-8F10-6B00F85C3EAE" class="sect4"><span class="enumeration_section">5.4.1 </span>Running a Script as You Start SQL*Plus
                  </h4>
                  <div>
                     <div class="section">
                        <p>To run a <a id="d9848e1457" class="indexterm-anchor"></a>script<a id="d9848e1462" class="indexterm-anchor"></a> as you start SQL*Plus, use one of the following options:
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Follow the SQLPLUS command with your username, a slash, a space, @, and the name of the file:</p><pre class="oac_no_warn" dir="ltr">SQLPLUS HR @SALES</pre><p>SQL*Plus starts, prompts for your password and runs the script.</p>
                           </li>
                           <li>
                              <p>Include your username as the first line of the file. Follow the SQLPLUS command with @ and the filename. SQL*Plus starts, prompts for your password and runs the file. </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="SQPUG432"></a><div class="props_rev_3"><a id="GUID-619EAD89-0F4A-47FC-886A-A79228A9F8D6" name="GUID-619EAD89-0F4A-47FC-886A-A79228A9F8D6"></a><h3 id="SQPUG-GUID-619EAD89-0F4A-47FC-886A-A79228A9F8D6" class="sect3"><span class="enumeration_section">5.5 </span>Nesting Scripts
               </h3>
               <div>
                  <div class="section">
                     <p>To run a series of scripts<a id="d9848e1502" class="indexterm-anchor"></a> in<a id="d9848e1507" class="indexterm-anchor"></a> sequence, first create a script containing several START commands, each followed by the name of a script in the sequence. Then run the script containing the START commands. For example, you could include the following START commands in a script named SALESRPT:
                     </p><pre class="oac_no_warn" dir="ltr">START Q1SALES
START Q2SALES
START Q3SALES
START Q4SALES
START YRENDSLS</pre><div class="infoboxnote" id="GUID-619EAD89-0F4A-47FC-886A-A79228A9F8D6__GUID-DCEA8A51-DF6E-42EC-8432-C84925BE9605">
                        <p class="notep1">Note:</p>
                        <p>The @@ command may be useful in this example. See the <a href="double-at-sign.html#GUID-AD1F392F-8D07-4424-8376-0FE3A721E3B1">@@ (double at sign)</a> command for more information.
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="SQPUG433"></a><div class="props_rev_3"><a id="GUID-27BCB57D-4B87-432C-8F1F-7B26F61EAA7F" name="GUID-27BCB57D-4B87-432C-8F1F-7B26F61EAA7F"></a><h3 id="SQPUG-GUID-27BCB57D-4B87-432C-8F1F-7B26F61EAA7F" class="sect3"><span class="enumeration_section">5.6 </span>About Exiting from a Script with a Return Code
               </h3>
               <div>
                  <p>You can include an EXIT command in a script to return a value when the script finishes. See the <a href="EXIT.html#GUID-81B9B8B3-4236-4AAC-9EE8-75B873009D03">EXIT</a> command for more information.
                  </p>
                  <p>You can include a WHENEVER SQLERROR command in a script to automatically exit SQL*Plus with a return code should your <a id="d9848e1550" class="indexterm-anchor"></a>script<a id="d9848e1555" class="indexterm-anchor"></a> generate a SQL error<a id="d9848e1560" class="indexterm-anchor"></a>. Similarly, you can include a WHENEVER OSERROR command to automatically exit should an operating system error occur. See the <a href="WHENEVER-SQLERROR.html#GUID-66C1C12C-5E95-4440-A37B-7CCE7E33491C">WHENEVER SQLERROR</a> command, and the <a href="WHENEVER-OSERROR.html#GUID-A52F926F-D6EC-434E-9C7E-CFDB76422E94">WHENEVER OSERROR</a> command for more information.
                  </p>
               </div>
            </div><a id="SQPUG435"></a><a id="SQPUG434"></a><div class="props_rev_3"><a id="GUID-026B5022-3F51-4306-A48C-F12DE48DB174" name="GUID-026B5022-3F51-4306-A48C-F12DE48DB174"></a><h3 id="SQPUG-GUID-026B5022-3F51-4306-A48C-F12DE48DB174" class="sect3"><span class="enumeration_section">5.7 </span>Defining Substitution Variables
               </h3>
               <div>
                  <div class="section">
                     <p>You can define variables, called substitution variables,<a id="d9848e1595" class="indexterm-anchor"></a><a id="d9848e1597" class="indexterm-anchor"></a> for repeated use in a single script by using the SQL*Plus DEFINE command<a id="d9848e1602" class="indexterm-anchor"></a>. Note that you can also define substitution variables<a id="d9848e1605" class="indexterm-anchor"></a> to use in titles and to save your keystrokes (by defining a long string as the value for a variable with a short name). 
                     </p><pre class="pre codeblock"><code>DEFINE L_NAME = "SMITH" (CHAR)</code></pre><p>To list all substitution variable<a id="d9848e1614" class="indexterm-anchor"></a> definitions, enter DEFINE by itself. Note that any substitution variable you define explicitly through DEFINE takes only CHAR values (that is, the value you assign to the variable is always treated as a CHAR datatype). You can define a substitution variable of datatype NUMBER implicitly through the ACCEPT command. You will learn more about the ACCEPT command.
                     </p>
                     <p>To delete a substitution variable<a id="d9848e1621" class="indexterm-anchor"></a>, use the SQL*Plus command UNDEFINE<a id="d9848e1626" class="indexterm-anchor"></a><a id="d9848e1628" class="indexterm-anchor"></a> followed by the variable name.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-026B5022-3F51-4306-A48C-F12DE48DB174__GUID-ED5BAEAE-AC32-464A-B1AF-8BA6193609D3">
                     <p class="titleinexample">Example 5-8 Defining a Substitution Variable</p>
                     <p>To define a substitution variable L_NAME and give it the value "SMITH", enter the following command:</p><pre class="oac_no_warn" dir="ltr">DEFINE L_NAME = SMITH</pre><p>To confirm the variable<a id="d9848e1642" class="indexterm-anchor"></a> definition, enter DEFINE followed by the variable name:
                     </p><pre class="oac_no_warn" dir="ltr">DEFINE L_NAME</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="SQPUG436"></a><div class="props_rev_3"><a id="GUID-843C726C-F57D-46B7-B3E8-CE4B75AE4191" name="GUID-843C726C-F57D-46B7-B3E8-CE4B75AE4191"></a><h3 id="SQPUG-GUID-843C726C-F57D-46B7-B3E8-CE4B75AE4191" class="sect3"><span class="enumeration_section">5.8 </span>About Using Predefined Variables
               </h3>
               <div>
                  <p>There are nine variables containing SQL*Plus information that are defined during SQL*Plus installation. These variables can be redefined, referenced or removed the same as any other variable. They are always available from session to session unless you explicitly remove or redefine them.</p>
                  <div class="infoboxnotealso" id="GUID-843C726C-F57D-46B7-B3E8-CE4B75AE4191__GUID-FFA6553B-D731-4EFF-941D-43F39D935403">
                     <p class="notep1">See Also:</p>
                     <p><a href="DEFINE.html#GUID-D6727C11-E4D9-4AB5-A7B8-9C6527A44A50">Predefined Variables</a> for a list of the predefined variables and examples of their use. 
                     </p>
                  </div>
               </div>
            </div><a id="SQPUG437"></a><div class="props_rev_3"><a id="GUID-68AC9FF2-B92A-48D1-9699-133D47F8DDC1" name="GUID-68AC9FF2-B92A-48D1-9699-133D47F8DDC1"></a><h3 id="SQPUG-GUID-68AC9FF2-B92A-48D1-9699-133D47F8DDC1" class="sect3"><span class="enumeration_section">5.9 </span>Using Substitution Variables
               </h3>
               <div>
                  <div class="section">
                     <p>Suppose you want to write a query like the one in SALES to list the employees with various jobs, not just those whose job is SA_MAN. You could do that by editing a different value into the WHERE clause each time you run the command, but there is an easier way.</p>
                     <p>By using a substitution variable<a id="d9848e1703" class="indexterm-anchor"></a> in place of the text, SA_MAN, in the WHERE clause, you can get the same results you would get if you had written the values into the command itself.
                     </p>
                     <p>A substitution variable is preceded by one or two ampersands<a id="d9848e1708" class="indexterm-anchor"></a><a id="d9848e1712" class="indexterm-anchor"></a> (&amp;). When SQL*Plus encounters a substitution variable in a command, SQL*Plus executes the command as though it contained the value of the substitution variable, rather than the variable itself.
                     </p>
                     <p>For example, if the variable SORTCOL has the value JOB_ID and the variable MYTABLE has the value EMP_DETAILS_VIEW, SQL*Plus executes the commands</p><pre class="oac_no_warn" dir="ltr">SELECT &amp;SORTCOL, SALARY
FROM &amp;MYTABLE
WHERE SALARY&gt;12000;</pre><p>as if they were</p><pre class="oac_no_warn" dir="ltr">SELECT JOB_ID, SALARY
FROM EMP_DETAILS_VIEW
WHERE SALARY&gt;12000;</pre></div>
                  <!-- class="section" -->
               </div><a id="SQPUG439"></a><a id="SQPUG438"></a><div class="props_rev_3"><a id="GUID-DD1BE849-0B66-4F99-83D0-F3B9F5A0D361" name="GUID-DD1BE849-0B66-4F99-83D0-F3B9F5A0D361"></a><h4 id="SQPUG-GUID-DD1BE849-0B66-4F99-83D0-F3B9F5A0D361" class="sect4"><span class="enumeration_section">5.9.1 </span>Where and How to Use Substitution Variables
                  </h4>
                  <div>
                     <div class="section">
                        <p>You can use substitution variables<a id="d9848e1749" class="indexterm-anchor"></a> anywhere in SQL and SQL*Plus commands, except as the first word entered. When SQL*Plus encounters an <a id="d9848e1754" class="indexterm-anchor"></a>undefined substitution variable in a command, SQL*Plus prompts you for the value.<a id="d9848e1759" class="indexterm-anchor"></a></p>
                        <p>You can enter any string at the prompt, even one containing blanks and punctuation. If the SQL command containing the reference should have quote marks around the variable and you do not include them there, the user must include the quotes when prompted.</p>
                        <p>SQL*Plus reads your response from the keyboard, even if you have redirected terminal input or output to a file. If a terminal is not available (if, for example, you run the script in batch mode), SQL*Plus uses the redirected file.</p>
                        <p>After you enter a value at the prompt, SQL*Plus lists the line containing the substitution variable twice: once before substituting the value you enter and once after substitution. You can suppress this listing by setting the SET<a id="d9848e1769" class="indexterm-anchor"></a> command variable VERIFY<a id="d9848e1774" class="indexterm-anchor"></a> to OFF.
                        </p><pre class="pre codeblock"><code>Created file STATS</code></pre><p>Now run the script STATS:</p><pre class="oac_no_warn" dir="ltr">@STATS</pre><p>And respond to the prompts for values as shown:</p><pre class="pre codeblock"><code>Enter value for group_col: JOB_ID
old   1: SELECT   &amp;GROUP_COL,
new   1: SELECT   JOB_ID,
Enter value for number_col: SALARY
old   2:          MAX(&amp;NUMBER_COL) MAXIMUM
new   2:          MAX(SALARY) MAXIMUM
Enter value for table: EMP_DETAILS_VIEW
old   3: FROM     &amp;TABLE
new   3: FROM     EMP_DETAILS_VIEW
Enter value for group_col: JOB_ID
old   4: GROUP BY &amp;GROUP_COL
new   4: GROUP BY JOB_ID</code></pre><p>SQL*Plus displays the following output:</p><pre class="pre codeblock"><code>JOB_ID        MAXIMUM
---------- ----------
AC_ACCOUNT       8300
AC_MGR          12000
AD_ASST          4400
AD_PRES         24000
AD_VP           17000
FI_ACCOUNT       9000
FI_MGR          12000
HR_REP           6500
IT_PROG          9000
MK_MAN          13000
MK_REP           6000

JOB_ID        MAXIMUM
---------- ----------
PR_REP          10000
PU_CLERK         3100
PU_MAN          11000
SA_MAN          14000
SA_REP          11500
SH_CLERK         4200
ST_CLERK         3600
ST_MAN           8200

19 rows selected.</code></pre><p>If you wish to append characters immediately after a substitution variable<a id="d9848e1794" class="indexterm-anchor"></a>, use a period to separate the variable from the character. For example:
                        </p><pre class="oac_no_warn" dir="ltr">SELECT SALARY FROM EMP_DETAILS_VIEW WHERE EMPLOYEE_ID='&amp;X.5';
Enter value for X:  20</pre><p>is interpreted as</p><pre class="oac_no_warn" dir="ltr">SELECT SALARY FROM EMP_DETAILS_VIEW WHERE EMPLOYEE_ID='205';</pre></div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-DD1BE849-0B66-4F99-83D0-F3B9F5A0D361__I1211231">
                        <p class="titleinexample">Example 5-9 Using Substitution Variables</p>
                        <p>Create a script named STATS, to be used to calculate a subgroup statistic (the maximum value) on a numeric column:</p><pre class="oac_no_warn" dir="ltr">SELECT &amp;GROUP_COL, MAX(&amp;NUMBER_COL) MAXIMUM
FROM &amp;TABLE
GROUP BY &amp;GROUP_COL
.
SAVE STATS</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="SQPUG441"></a><a id="SQPUG440"></a><div class="props_rev_3"><a id="GUID-DAEF8542-1042-4F98-9C68-CED90AC42A79" name="GUID-DAEF8542-1042-4F98-9C68-CED90AC42A79"></a><h4 id="SQPUG-GUID-DAEF8542-1042-4F98-9C68-CED90AC42A79" class="sect4"><span class="enumeration_section">5.9.2 </span>Avoiding Unnecessary Prompts for Values
                  </h4>
                  <div>
                     <div class="section">
                        <p>Suppose<a id="d9848e1836" class="indexterm-anchor"></a> you<a id="d9848e1841" class="indexterm-anchor"></a> wanted to expand the file STATS to include the minimum, sum, and average of the "number" column. You may have noticed that SQL*Plus prompted you twice for the value of GROUP_COL and once for the value of NUMBER_COL in <a href="using-scripts-in-SQL-Plus.html#GUID-DD1BE849-0B66-4F99-83D0-F3B9F5A0D361__I1211231">Example 5-9</a>, and that each GROUP_COL or NUMBER_COL had a single ampersand in front of it. If you were to add three more functions—using a single ampersand before each—to the script, SQL*Plus would prompt you a total of four times for the value of the number column.
                        </p>
                        <p><a id="d9848e1849" class="indexterm-anchor"></a><a id="d9848e1851" class="indexterm-anchor"></a>You can avoid being re-prompted for the group and number columns by adding a second ampersand in front of each GROUP_COL and NUMBER_COL in STATS. SQL*Plus automatically DEFINEs any substitution variable preceded by two ampersands, but does not DEFINE those preceded by only one ampersand. When you have defined a variable, SQL*Plus will not prompt for its value in the current session.
                        </p><pre class="pre codeblock"><code>SELECT   &amp;GROUP_COL,
MAX(&amp;NUMBER_COL) MAXIMUM
FROM     &amp;TABLE
GROUP BY &amp;GROUP_COL</code></pre><pre class="oac_no_warn" dir="ltr">2</pre><pre class="pre codeblock"><code>2* MAX(&amp;NUMBER_COL) MAXIMUM</code></pre><pre class="oac_no_warn" dir="ltr">APPEND ,</pre><pre class="pre codeblock"><code>2* MAX(&amp;NUMBER_COL) MAXIMUM,</code></pre><pre class="oac_no_warn" dir="ltr">CHANGE/&amp;/&amp;&amp;</pre><pre class="pre codeblock"><code>2* MAX(&amp;&amp;NUMBER_COL) MAXIMUM,</code></pre><pre class="oac_no_warn" dir="ltr">I</pre><pre class="pre codeblock"><code>3i</code></pre><pre class="oac_no_warn" dir="ltr">MIN (&amp;&amp;NUMBER_COL) MINIMUM,</pre><pre class="pre codeblock"><code>4i</code></pre><pre class="oac_no_warn" dir="ltr">SUM(&amp;&amp;NUMBER_COL)  TOTAL,</pre><pre class="pre codeblock"><code>5i</code></pre><pre class="oac_no_warn" dir="ltr">AVG(&amp;&amp;NUMBER_COL)  AVERAGE</pre><pre class="pre codeblock"><code>6i</code></pre><pre class="oac_no_warn" dir="ltr">1</pre><pre class="pre codeblock"><code>1* SELECT   &amp;GROUP_COL,</code></pre><pre class="oac_no_warn" dir="ltr">CHANGE/&amp;/&amp;&amp;</pre><pre class="pre codeblock"><code>1* SELECT   &amp;&amp;GROUP_COL,</code></pre><pre class="oac_no_warn" dir="ltr">7</pre><pre class="pre codeblock"><code>7* GROUP BY &amp;GROUP_COL</code></pre><pre class="oac_no_warn" dir="ltr">CHANGE/&amp;/&amp;&amp;/</pre><pre class="pre codeblock"><code>7* GROUP BY &amp;&amp;GROUP_COL</code></pre><pre class="oac_no_warn" dir="ltr">SAVE STATS2</pre><pre class="pre codeblock"><code>Created file STATS2</code></pre><p>Finally, run the script STATS2 and respond to the prompts as follows:</p><pre class="oac_no_warn" dir="ltr">START STATS2
Enter value for group_col: JOB_ID
Enter value for number_col: SALARY
Enter value for table: EMP_DETAILS_VIEW</pre><p>SQL*Plus displays the following output:</p><pre class="pre codeblock"><code>JOB_ID        MAXIMUM    MINIMUM      TOTAL    AVERAGE
---------- ---------- ---------- ---------- ----------
AC_ACCOUNT       8300       8300       8300       8300
AC_MGR          12000      12000      12000      12000
AD_ASST          4400       4400       4400       4400
AD_PRES         24000      24000      24000      24000
AD_VP           17000      17000      34000      17000
FI_ACCOUNT       9000       6900      39600       7920
FI_MGR          12000      12000      12000      12000
HR_REP           6500       6500       6500       6500
IT_PROG          9000       4200      28800       5760
MK_MAN          13000      13000      13000      13000
MK_REP           6000       6000       6000       6000

JOB_ID        MAXIMUM    MINIMUM      TOTAL    AVERAGE
---------- ---------- ---------- ---------- ----------
PR_REP          10000      10000      10000      10000
PU_CLERK         3100       2500      13900       2780
PU_MAN          11000      11000      11000      11000
SA_MAN          14000      10500      61000      12200
SA_REP          11500       6100     250500       8350
SH_CLERK         4200       2500      64300       3215
ST_CLERK         3600       2100      55700       2785
ST_MAN           8200       5800      36400       7280

19 rows selected.</code></pre><p>Note that you were prompted for the values of NUMBER_COL and GROUP_COL only once. If you were to run STATS2 again during the current session, you would be prompted for TABLE (because its name has a single ampersand and the variable is therefore not DEFINEd) but not for GROUP_COL or NUMBER_COL (because their names have double ampersands and the variables are therefore DEFINEd).</p>
                        <p>Before continuing, set the system variable VERIFY back to ON:</p><pre class="oac_no_warn" dir="ltr">SET VERIFY ON</pre></div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-DAEF8542-1042-4F98-9C68-CED90AC42A79__GUID-8DA17867-151E-441D-89F9-ADF350304FC2">
                        <p class="titleinexample">Example 5-10 Using Double Ampersands</p>
                        <p>To expand the script STATS using double ampersands and then run the file, first suppress the display of each line before and after substitution:</p><pre class="oac_no_warn" dir="ltr">SET VERIFY OFF</pre><p>Now retrieve and edit STATS by entering the following commands:</p><pre class="oac_no_warn" dir="ltr">GET STATS</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="SQPUG442"></a><div class="props_rev_3"><a id="GUID-396C98D4-3296-44E4-9CC9-CBC0B2DF9011" name="GUID-396C98D4-3296-44E4-9CC9-CBC0B2DF9011"></a><h4 id="SQPUG-GUID-396C98D4-3296-44E4-9CC9-CBC0B2DF9011" class="sect4"><span class="enumeration_section">5.9.3 </span>Restrictions 
                  </h4>
                  <div>
                     <p>You cannot use substitution variables<a id="d9848e1957" class="indexterm-anchor"></a> in the buffer editing commands, APPEND, CHANGE, DEL, and INPUT, nor in other commands where substitution would be meaningless. The buffer editing commands, APPEND, CHANGE, and INPUT, treat text beginning with "&amp;" or "&amp;&amp;" literally, like any other text string.
                     </p>
                  </div>
               </div><a id="SQPUG443"></a><div class="props_rev_3"><a id="GUID-17D8BED6-F315-4894-8F12-099CE7E8D785" name="GUID-17D8BED6-F315-4894-8F12-099CE7E8D785"></a><h4 id="SQPUG-GUID-17D8BED6-F315-4894-8F12-099CE7E8D785" class="sect4"><span class="enumeration_section">5.9.4 </span>System Variables
                  </h4>
                  <div>
                     <div class="section">
                        <p><a id="d9848e1984" class="indexterm-anchor"></a><a id="d9848e1988" class="indexterm-anchor"></a>The following system variables, specified with the SQL*Plus SET command, affect substitution variables<a id="d9848e1993" class="indexterm-anchor"></a>:
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-17D8BED6-F315-4894-8F12-099CE7E8D785__GUID-107CDBAF-C14B-4C11-927E-08939549EAEB">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="2 column table showing the system variables that affect substitution variables and their descriptions." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="29%" id="d9848e2006">System Variable</th>
                                 <th align="left" valign="bottom" width="71%" id="d9848e2009">Affect on Substitution Variables</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d9848e2014" headers="d9848e2006 "><pre class="oac_no_warn" dir="ltr">SET CONCAT</pre></td>
                                 <td align="left" valign="top" width="71%" headers="d9848e2014 d9848e2009 ">
                                    <p><a id="d9848e2019" class="indexterm-anchor"></a><a id="d9848e2023" class="indexterm-anchor"></a>Defines the character that separates the name of a substitution variable or parameter from characters that immediately follow the variable or parameter—by default the period (.).
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d9848e2027" headers="d9848e2006 "><pre class="oac_no_warn" dir="ltr">SET DEFINE</pre></td>
                                 <td align="left" valign="top" width="71%" headers="d9848e2027 d9848e2009 ">
                                    <p><a id="d9848e2032" class="indexterm-anchor"></a><a id="d9848e2036" class="indexterm-anchor"></a><a id="d9848e2040" class="indexterm-anchor"></a><a id="d9848e2042" class="indexterm-anchor"></a>Defines the substitution character (by default the ampersand "&amp;") and turns substitution on and off.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d9848e2048" headers="d9848e2006 "><pre class="oac_no_warn" dir="ltr">SET ESCAPE</pre></td>
                                 <td align="left" valign="top" width="71%" headers="d9848e2048 d9848e2009 ">
                                    <p><a id="d9848e2053" class="indexterm-anchor"></a><a id="d9848e2057" class="indexterm-anchor"></a>Defines an escape character you can use before the substitution character. The escape character instructs SQL*Plus to treat the substitution character as an ordinary character rather than as a request for variable substitution. The default escape character is a backslash (\).
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d9848e2061" headers="d9848e2006 "><pre class="oac_no_warn" dir="ltr">SET NUMFORMAT</pre></td>
                                 <td align="left" valign="top" width="71%" headers="d9848e2061 d9848e2009 ">
                                    <p><a id="d9848e2066" class="indexterm-anchor"></a><a id="d9848e2070" class="indexterm-anchor"></a>Sets the default format for displaying<a id="d9848e2073" class="indexterm-anchor"></a> numbers, including numeric substitution variables.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d9848e2079" headers="d9848e2006 "><pre class="oac_no_warn" dir="ltr">SET NUMWIDTH</pre></td>
                                 <td align="left" valign="top" width="71%" headers="d9848e2079 d9848e2009 ">
                                    <p><a id="d9848e2084" class="indexterm-anchor"></a><a id="d9848e2088" class="indexterm-anchor"></a>Sets the default width for displaying<a id="d9848e2091" class="indexterm-anchor"></a> numbers, including numeric substitution variables.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d9848e2097" headers="d9848e2006 "><pre class="oac_no_warn" dir="ltr">SET VERIFY ON</pre></td>
                                 <td align="left" valign="top" width="71%" headers="d9848e2097 d9848e2009 ">
                                    <p><a id="d9848e2102" class="indexterm-anchor"></a><a id="d9848e2106" class="indexterm-anchor"></a>Lists each line of the script before and after substitution.
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p>See <a href="SET.html#GUID-9095C4FF-F4EB-4218-84AA-83061186625F">SET</a> for more information about system variables.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="SQPUG445"></a><a id="SQPUG444"></a><div class="props_rev_3"><a id="GUID-678E9B76-3E97-4E00-B869-939FF2D43E3F" name="GUID-678E9B76-3E97-4E00-B869-939FF2D43E3F"></a><h3 id="SQPUG-GUID-678E9B76-3E97-4E00-B869-939FF2D43E3F" class="sect3"><span class="enumeration_section">5.10 </span>Passing Parameters through the START Command
               </h3>
               <div>
                  <div class="section">
                     <p>You can bypass the prompts for values<a id="d9848e2140" class="indexterm-anchor"></a> associated with substitution variables by passing values to parameters<a id="d9848e2145" class="indexterm-anchor"></a> in a script<a id="d9848e2148" class="indexterm-anchor"></a> through the START<a id="d9848e2153" class="indexterm-anchor"></a> command.
                     </p>
                     <p>You do this by placing an ampersand<a id="d9848e2160" class="indexterm-anchor"></a> (&amp;) followed by a numeral in the script in place of a substitution variable. Each time you run this script, START replaces each &amp;1 in the file with the first value (called an argument<a id="d9848e2165" class="indexterm-anchor"></a>) after START<a id="d9848e2170" class="indexterm-anchor"></a> filename, then replaces each &amp;2 with the second value, and so forth.
                     </p>
                     <p>For example, you could include the following commands in a script called MYFILE:</p><pre class="oac_no_warn" dir="ltr">SELECT * FROM EMP_DETAILS_VIEW
WHERE JOB_ID='&amp;1'
AND SALARY='&amp;2';</pre><p>In the following START command, SQL*Plus would substitute PU_CLERK for &amp;1 and 3100 for &amp;2 in the script MYFILE:</p><pre class="oac_no_warn" dir="ltr">START MYFILE PU_CLERK 3100</pre><p>When you use arguments with the START command, SQL*Plus DEFINEs each parameter in the script with the value of the appropriate argument.</p><pre class="pre codeblock"><code>1  COLUMN LAST_NAME HEADING 'LAST NAME'
2  COLUMN SALARY  HEADING 'MONTHLY SALARY' FORMAT $99,999
3  COLUMN COMMISSION_PCT HEADING 'COMMISSION %' FORMAT 90.90
4  SELECT LAST_NAME, SALARY, COMMISSION_PCT
5  FROM EMP_DETAILS_VIEW
6* WHERE JOB_ID='SA_MAN'</code></pre><pre class="oac_no_warn" dir="ltr">6</pre><pre class="pre codeblock"><code>6* WHERE JOB_ID='SA_MAN'</code></pre><pre class="oac_no_warn" dir="ltr">CHANGE /SA_MAN/&amp;1</pre><pre class="pre codeblock"><code>6* WHERE JOB_ID='&amp;1'</code></pre><pre class="oac_no_warn" dir="ltr">SAVE ONEJOB</pre><pre class="pre codeblock"><code>Created file ONEJOB</code></pre><p>Now run the command with the parameter SA_MAN:</p><pre class="oac_no_warn" dir="ltr">START ONEJOB SA_MAN</pre><p>SQL*Plus lists the line of the SQL command that contains the parameter, before and after replacing the parameter with its value, and then displays the output:</p><pre class="pre codeblock"><code>old   3: WHERE JOB_ID='&amp;1'
new   3: WHERE JOB_ID='SA_MAN'

LAST NAME                 MONTHLY SALARY COMMISSION %
------------------------- -------------- ------------
Russell                          $14,000         0.40
Partners                         $13,500         0.30
Errazuriz                        $12,000         0.30
Cambrault                        $11,000         0.30
Zlotkey                          $10,500         0.20</code></pre><p>You can use many parameters in a script. Within a script, you can refer to each parameter many times, and you can include the parameters in any order.</p>
                     <p>While you cannot use parameters when you run a command with RUN or slash (/), you could use substitution variables instead. </p>
                     <p>Before continuing, return the columns to their original heading by entering the following command:</p><pre class="oac_no_warn" dir="ltr">CLEAR COLUMN</pre></div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-678E9B76-3E97-4E00-B869-939FF2D43E3F__GUID-55E20379-A4CA-43D5-B1BA-421075A76561">
                     <p class="titleinexample">Example 5-11 Passing Parameters through START</p>
                     <p>To create a new script based on SALES that takes a parameter specifying the job to be displayed, enter</p><pre class="oac_no_warn" dir="ltr">GET SALES</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="SQPUG446"></a><div class="props_rev_3"><a id="GUID-573671D6-ACFD-4C1D-A29D-D6C50A95056C" name="GUID-573671D6-ACFD-4C1D-A29D-D6C50A95056C"></a><h3 id="SQPUG-GUID-573671D6-ACFD-4C1D-A29D-D6C50A95056C" class="sect3"><span class="enumeration_section">5.11 </span>About Communicating with the User
               </h3>
               <div>
                  <p>Three SQL*Plus commands—PROMPT, ACCEPT, and PAUSE—help you communicate with the end user. These commands enable you to send messages to the screen and receive input from the user, including a simple Return. You can also use PROMPT and ACCEPT to customize the prompts for values SQL*Plus automatically generates for substitution variables.</p>
               </div><a id="SQPUG448"></a><a id="SQPUG447"></a><div class="props_rev_3"><a id="GUID-7EA61B86-26F9-4C90-9E19-3E84E12060B8" name="GUID-7EA61B86-26F9-4C90-9E19-3E84E12060B8"></a><h4 id="SQPUG-GUID-7EA61B86-26F9-4C90-9E19-3E84E12060B8" class="sect4"><span class="enumeration_section">5.11.1 </span>Receiving a Substitution Variable Value 
                  </h4>
                  <div>
                     <div class="section">
                        <p>Through PROMPT<a id="d9848e2269" class="indexterm-anchor"></a> and ACCEPT<a id="d9848e2272" class="indexterm-anchor"></a>, you can send messages to the end user and receive values from end-user input<a id="d9848e2275" class="indexterm-anchor"></a>. PROMPT displays a message<a id="d9848e2280" class="indexterm-anchor"></a> you specify on-screen to give directions or information to the user. ACCEPT prompts the user for a value<a id="d9848e2283" class="indexterm-anchor"></a> and stores it in the substitution variabl<a id="d9848e2289" class="indexterm-anchor"></a>e you specify. Use PROMPT in conjunction with ACCEPT when a prompt spans more than one line.
                        </p><pre class="pre codeblock"><code>Created file PROMPT1.sql</code></pre><p>The TTITLE command sets the top title for your report. See <a href="formatting-SQL-Plus-reports.html#GUID-59489A36-AAC7-4A46-ABB1-B41FB61C012C">About Defining Page and Report Titles and Dimensions</a> for more information about the TTITILE command.
                        </p>
                        <p>Finally, run the script, responding to the prompt for the title as shown:</p><pre class="oac_no_warn" dir="ltr">START PROMPT1</pre><pre class="pre codeblock"><code>Enter a title of up to 30 characters
Title: Department Report
Department ReportEMPLOYEE_ID FIRST_NAME           LAST_NAME                     SALARY
----------- -------------------- ------------------------- ----------
        145 John                 Russell                        14000
        146 Karen                Partners                       13500
        147 Alberto              Errazuriz                      12000
        148 Gerald               Cambrault                      11000
        149 Eleni                Zlotkey                        10500</code></pre><p>Before continuing, turn the TTITLE command off:</p><pre class="oac_no_warn" dir="ltr">TTITLE OFF</pre></div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-7EA61B86-26F9-4C90-9E19-3E84E12060B8__I1211672">
                        <p class="titleinexample">Example 5-12 Prompting for and Accepting Input</p>
                        <p>To direct the user to supply a report title and to store the input in the variable MYTITLE for use in a subsequent query, first clear the buffer:</p><pre class="oac_no_warn" dir="ltr">CLEAR BUFFER</pre><p>Next, set up a script as shown<a id="d9848e2321" class="indexterm-anchor"></a> and save this file as PROMPT1:<a id="d9848e2324" class="indexterm-anchor"></a></p><pre class="oac_no_warn" dir="ltr">PROMPT Enter a title of up to 30 characters
ACCEPT MYTITLE PROMPT 'Title: '
TTITLE LEFT MYTITLE SKIP 2
SELECT EMPLOYEE_ID, FIRST_NAME, LAST_NAME, SALARY
FROM EMP_DETAILS_VIEW
WHERE JOB_ID='SA_MAN'
  
SAVE PROMPT1</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="SQPUG450"></a><a id="SQPUG449"></a><div class="props_rev_3"><a id="GUID-2091414F-6E1C-4220-B275-DF3438FB7CEC" name="GUID-2091414F-6E1C-4220-B275-DF3438FB7CEC"></a><h4 id="SQPUG-GUID-2091414F-6E1C-4220-B275-DF3438FB7CEC" class="sect4"><span class="enumeration_section">5.11.2 </span>Customizing Prompts for Substitution Variable 
                  </h4>
                  <div>
                     <div class="section">
                        <p>If you want to customize the prompt for a substitution variable value<a id="d9848e2354" class="indexterm-anchor"></a>, use PROMPT<a id="d9848e2359" class="indexterm-anchor"></a> and ACCEPT<a id="d9848e2364" class="indexterm-anchor"></a> in conjunction with the substitution variable, as shown in the following example.
                        </p><pre class="pre codeblock"><code>Enter a valid employee ID
For Example 145, 206

Employee ID. :</code></pre><pre class="oac_no_warn" dir="ltr">205</pre><pre class="pre codeblock"><code>old   3: WHERE EMPLOYEE_ID=&amp;ENUMBER
new   3: WHERE EMPLOYEE_ID=       205

Department Report

FIRST_NAME           LAST_NAME                     SALARY
-------------------- ------------------------- ----------
Shelley              Higgins                        12000</code></pre><p>What would happen if you typed characters instead of numbers? Since you specified NUMBER<a id="d9848e2377" class="indexterm-anchor"></a> after the variable name in the ACCEPT<a id="d9848e2380" class="indexterm-anchor"></a> command, SQL*Plus will not accept a non-numeric value:
                        </p>
                        <p>Try entering characters instead of numbers to the prompt for "Employee ID.", SQL*Plus will respond with an error message and prompt you again to re-enter the correct number:</p><pre class="oac_no_warn" dir="ltr">START PROMPT2</pre><p>When SQL*Plus prompts you to enter an Employee ID, enter the word "one" instead of a number:</p><pre class="pre codeblock"><code>Enter a valid employee ID
For Example 145, 206

Employee ID. :</code></pre><pre class="oac_no_warn" dir="ltr">one</pre><pre class="pre codeblock"><code>SP2-0425: "one" is not a valid number</code></pre></div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-2091414F-6E1C-4220-B275-DF3438FB7CEC__GUID-A0D926AB-534D-4539-81EE-362AA9DE5B87">
                        <p class="titleinexample">Example 5-13 Using PROMPT and ACCEPT in Conjunction with Substitution Variables</p>
                        <p>As you have seen in <a href="using-scripts-in-SQL-Plus.html#GUID-7EA61B86-26F9-4C90-9E19-3E84E12060B8__I1211672">Example 5-12</a>, SQL*Plus automatically generates a prompt for a value when you use a substitution variable. You can replace this prompt by including PROMPT and ACCEPT in the script with the query that references the substitution variable. First clear the buffer with:
                        </p><pre class="oac_no_warn" dir="ltr">CLEAR BUFFER</pre><p>To create such a file, enter the following:</p><pre class="oac_no_warn" dir="ltr">INPUT
PROMPT Enter a valid employee ID
PROMPT For Example 145, 206
ACCEPT ENUMBER NUMBER PROMPT 'Employee ID. :'
SELECT FIRST_NAME, LAST_NAME, SALARY
FROM EMP_DETAILS_VIEW
WHERE EMPLOYEE_ID=&amp;ENUMBER;</pre><p>Save this file as PROMPT2. Next, run this script. SQL*Plus prompts for the value of ENUMBER using the text you specified with PROMPT and ACCEPT:</p><pre class="oac_no_warn" dir="ltr">START PROMPT2</pre><p>SQL*Plus prompts you to enter an Employee ID:</p>
                     </div>
                     <!-- class="example" -->
                  </div>
               </div><a id="SQPUG451"></a><div class="props_rev_3"><a id="GUID-0B4FA53B-B5CD-493E-BDCB-1979048D801F" name="GUID-0B4FA53B-B5CD-493E-BDCB-1979048D801F"></a><h4 id="SQPUG-GUID-0B4FA53B-B5CD-493E-BDCB-1979048D801F" class="sect4"><span class="enumeration_section">5.11.3 </span>Sending a Message and Accepting Return as Input
                  </h4>
                  <div>
                     <div class="section">
                        <p><a id="d9848e2439" class="indexterm-anchor"></a>If you want to display a message on the user's screen and then have the user press Return after reading the message, use the SQL*Plus command PAUSE<a id="d9848e2444" class="indexterm-anchor"></a>. For example, you might include the following lines in a script:
                        </p><pre class="oac_no_warn" dir="ltr">PROMPT Before continuing, make sure you have your account card.
PAUSE Press RETURN to continue.</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="SQPUG452"></a><div class="props_rev_3"><a id="GUID-71E3C81D-0916-4BED-9843-F4D35059FE51" name="GUID-71E3C81D-0916-4BED-9843-F4D35059FE51"></a><h4 id="SQPUG-GUID-71E3C81D-0916-4BED-9843-F4D35059FE51" class="sect4"><span class="enumeration_section">5.11.4 </span>Clearing the Screen
                  </h4>
                  <div>
                     <div class="section">
                        <p>If you want to clear the screen<a id="d9848e2472" class="indexterm-anchor"></a> before displaying a report (or at any other time), include the SQL*Plus CLEAR<a id="d9848e2477" class="indexterm-anchor"></a> command with its SCREEN<a id="d9848e2482" class="indexterm-anchor"></a> clause at the appropriate point in your script, using the following format:
                        </p><pre class="oac_no_warn" dir="ltr">CLEAR SCREEN</pre><p>Before continuing to the next section, reset all columns to their original formats and headings by entering the following command:</p><pre class="oac_no_warn" dir="ltr">CLEAR COLUMNS</pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="SQPUG453"></a><div class="props_rev_3"><a id="GUID-B52D6F2E-A28A-48B6-B73F-6A9D018BD107" name="GUID-B52D6F2E-A28A-48B6-B73F-6A9D018BD107"></a><h3 id="SQPUG-GUID-B52D6F2E-A28A-48B6-B73F-6A9D018BD107" class="sect3"><span class="enumeration_section">5.12 </span>About Using Bind Variables
               </h3>
               <div>
                  <p>Bind variables are variables you create in SQL*Plus and then reference in PL/SQL or SQL. If you create a bind variable in SQL*Plus, you can use the variable as you would a declared variable in your PL/SQL subprogram and then access the variable from SQL*Plus. You can use a bind variable as an input bind variable to hold data which can then be used in PL/SQL or SQL statements to insert data into the database. You can assign a value to a newly defined variable. The value assigned in this variable can then be used in a statement.</p>
                  <p>Because bind variables are recognized by SQL*Plus, you can display their values in SQL*Plus or reference them in PL/SQL subprograms that you run in SQL*Plus.</p>
               </div><a id="SQPUG454"></a><div class="props_rev_3"><a id="GUID-C6F23D1E-C167-49EE-9578-97383C116CB8" name="GUID-C6F23D1E-C167-49EE-9578-97383C116CB8"></a><h4 id="SQPUG-GUID-C6F23D1E-C167-49EE-9578-97383C116CB8" class="sect4"><span class="enumeration_section">5.12.1 </span>Creating Bind Variables
                  </h4>
                  <div>
                     <div class="section">
                        <p>You create bind variables in SQL*Plus with the VARIABLE command. For example</p><pre class="oac_no_warn" dir="ltr">VARIABLE ret_val NUMBER</pre><p>This command creates a bind variable named ret_val with a datatype of NUMBER. See the <a href="VARIABLE.html#GUID-B4A0DAA3-B6E0-42F7-89B0-EF9C41F02FA3">VARIABLE</a> command for more information. (To list all bind variables created in a session, type VARIABLE without any arguments.)
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="SQPUG455"></a><div class="props_rev_3"><a id="GUID-3B528845-8EBD-4950-BD26-BB345B6E22A7" name="GUID-3B528845-8EBD-4950-BD26-BB345B6E22A7"></a><h4 id="SQPUG-GUID-3B528845-8EBD-4950-BD26-BB345B6E22A7" class="sect4"><span class="enumeration_section">5.12.2 </span>Referencing Bind Variables
                  </h4>
                  <div>
                     <div class="section">
                        <p>You reference bind variables in PL/SQL by typing a colon (:) followed immediately by the name of the variable. For example</p><pre class="oac_no_warn" dir="ltr">:ret_val := 1;</pre><p>To change this bind variable in SQL*Plus, you must enter a PL/SQL block. For example:</p><pre class="oac_no_warn" dir="ltr">BEGIN
 :ret_val:=4;
END;
/</pre><pre class="pre codeblock"><code>PL/SQL procedure successfully completed.</code></pre><p>This command assigns a value to the bind variable named <span class="italic">ret_val</span>.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="SQPUG456"></a><div class="props_rev_3"><a id="GUID-9867449B-2217-4477-9DF2-732989D6BCDE" name="GUID-9867449B-2217-4477-9DF2-732989D6BCDE"></a><h4 id="SQPUG-GUID-9867449B-2217-4477-9DF2-732989D6BCDE" class="sect4"><span class="enumeration_section">5.12.3 </span>Displaying Bind Variables
                  </h4>
                  <div>
                     <div class="section">
                        <p>To display the value of a bind variable in SQL*Plus, you use the SQL*Plus PRINT command. For example:</p><pre class="oac_no_warn" dir="ltr">PRINT RET_VAL</pre><pre class="pre codeblock"><code>   RET_VAL
----------
         4</code></pre><p>This command displays a bind variable named ret_val. See <a href="PRINT.html#GUID-3C8951DC-7895-46DE-8FBB-7508B4D16499">PRINT</a> for more information about displaying bind variables.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-E19A3E15-0FD2-498D-AAE4-936473E2CC38" name="GUID-E19A3E15-0FD2-498D-AAE4-936473E2CC38"></a><h4 id="SQPUG-GUID-E19A3E15-0FD2-498D-AAE4-936473E2CC38" class="sect4"><span class="enumeration_section">5.12.4 </span>Executing an Input Bind
                  </h4>
                  <div>
                     <p></p>
                     <div class="section">
                        <p>You can assign a value to a variable for input binding.</p><pre class="oac_no_warn" dir="ltr">SQL&gt; variable abc number=123 
SQL&gt; select :abc from dual;

  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:ABC 
----------  
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4

SQL&gt;</pre><p></p><pre class="oac_no_warn" dir="ltr">SQL&gt; create table mytab (col1 number, col2 varchar2(10));  

Table created.  

SQL&gt; var abc number=123 
SQL&gt; var xyz varchar2(10)='test' 
SQL&gt; insert into mytab values(:abc,:xyz);  

1 row created.  

SQL&gt; select * from mytab;  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

       COL1 COL2 
---------- ----------
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;123 test 

SQL&gt;</pre><p>See the <a href="VARIABLE.html#GUID-B4A0DAA3-B6E0-42F7-89B0-EF9C41F02FA3">VARIABLE</a> command for more information.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="SQPUG458"></a><a id="SQPUG459"></a><a id="SQPUG460"></a><a id="SQPUG457"></a><div class="props_rev_3"><a id="GUID-9C965E00-45C6-42B2-8E4D-9B1EFA143834" name="GUID-9C965E00-45C6-42B2-8E4D-9B1EFA143834"></a><h3 id="SQPUG-GUID-9C965E00-45C6-42B2-8E4D-9B1EFA143834" class="sect3"><span class="enumeration_section">5.13 </span>Using REFCURSOR Bind Variables
               </h3>
               <div>
                  <div class="section">
                     <p>SQL*Plus REFCURSOR bind variables allow SQL*Plus to fetch and format the results of a <a id="d9848e2695" class="indexterm-anchor"></a>SELECT statement contained in a PL/SQL block.
                     </p>
                     <p>REFCURSOR bind variables can also be used to reference PL/SQL cursor variables in stored procedures. This enables you to store SELECT statements in the database and reference them from SQL*Plus.</p>
                     <p><a id="d9848e2703" class="indexterm-anchor"></a><a id="d9848e2707" class="indexterm-anchor"></a>A REFCURSOR bind variable can also be returned from a stored function.
                     </p><pre class="pre codeblock"><code>PL/SQL procedure successfully completed.</code></pre><p>The results from the SELECT statement can now be displayed in SQL*Plus with the PRINT command.</p><pre class="oac_no_warn" dir="ltr">PRINT employee_info</pre><pre class="pre codeblock"><code>EMPLOYEE_ID     SALARY
----------- ----------
        145      14000
        146      13500
        147      12000
        148      11000
        149      10500</code></pre><p>The PRINT statement also closes the cursor. To reprint the results, the PL/SQL block must be executed again before using PRINT.</p><pre class="pre codeblock"><code>Package created.</code></pre><p>Next, create the stored procedure containing an OPEN... FOR SELECT statement.</p><pre class="oac_no_warn" dir="ltr">CREATE OR REPLACE PACKAGE BODY EmpPack AS
  PROCEDURE EmpInfoRpt (emp_cv IN OUT EmpInfoTyp) AS
  BEGIN
    OPEN emp_cv FOR SELECT EMPLOYEE_ID, SALARY
    FROM EMP_DETAILS_VIEW
    WHERE JOB_ID='SA_MAN' ;
  END;
END;
 /</pre><pre class="pre codeblock"><code>Procedure created.</code></pre><p>Execute the procedure with a SQL*Plus bind variable as the parameter.</p><pre class="oac_no_warn" dir="ltr">VARIABLE cv REFCURSOR
EXECUTE EmpPack.EmpInfoRpt(:cv)</pre><pre class="pre codeblock"><code>PL/SQL procedure successfully completed.</code></pre><p>Now print the bind variable.</p><pre class="oac_no_warn" dir="ltr">PRINT cv</pre><pre class="pre codeblock"><code>EMPLOYEE_ID     SALARY
----------- ----------
        145      14000
        146      13500
        147      12000
        148      11000
        149      10500</code></pre><p>The procedure can be executed multiple times using the same or a different REFCURSOR bind variable.</p><pre class="oac_no_warn" dir="ltr">VARIABLE pcv REFCURSOR
EXECUTE EmpInfo_rpt(:pcv)</pre><pre class="pre codeblock"><code>PL/SQL procedure successfully completed.</code></pre><pre class="oac_no_warn" dir="ltr">PRINT pcv</pre><pre class="pre codeblock"><code>EMPLOYEE_ID     SALARY
----------- ----------
        145      14000
        146      13500
        147      12000
        148      11000
        149      10500</code></pre><pre class="pre codeblock"><code>Function created.</code></pre><p>Execute the function.</p><pre class="oac_no_warn" dir="ltr">VARIABLE rc REFCURSOR
EXECUTE :rc := EmpInfo_fn</pre><pre class="pre codeblock"><code>PL/SQL procedure successfully completed.</code></pre><p>Now print the bind variable.</p><pre class="oac_no_warn" dir="ltr">PRINT rc</pre><pre class="pre codeblock"><code>EMPLOYEE_ID     SALARY
----------- ----------
        145      14000
        146      13500
        147      12000
        148      11000
        149      10500</code></pre><p>The function can be executed multiple times using the same or a different REFCURSOR bind variable.</p><pre class="oac_no_warn" dir="ltr">EXECUTE :rc := EmpInfo_fn</pre><pre class="pre codeblock"><code>PL/SQL procedure successfully completed.</code></pre></div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-9C965E00-45C6-42B2-8E4D-9B1EFA143834__GUID-1C45A3F5-1738-4C29-AFEA-9A390D4DE9BD">
                     <p class="titleinexample">Example 5-14 Creating, Referencing, and Displaying REFCURSOR Bind Variables</p>
                     <p>To create, reference and display a REFCURSOR bind variable, first declare a local bind variable of the REFCURSOR datatype</p><pre class="oac_no_warn" dir="ltr">create procedure p4 as
  c1 sys_refcursor;
  c2 sys_refcursor;
begin
  open c1 for SELECT * FROM DEPT;
  dbms_sql.return_result(c1);
  open c2 for SELECT * FROM EMP;
  dbms_sql.return_result(c2);
end;
/</pre><p>Next, enter a PL/SQL block that uses the bind variable in an OPEN... FOR SELECT statement. This statement opens a cursor variable and executes a query. See <a href="../lnpls/OPEN-statement.html#LNPLS-GUID-FB5A9CC3-655F-4AF4-8105-14CB39F2FEA8" target="_blank">OPEN Statement</a>for information on the OPEN command and cursor variables.
                     </p>
                     <p>In this example we are binding the SQL*Plus <span class="italic">employee_info</span> bind variable to the cursor variable.
                     </p><pre class="oac_no_warn" dir="ltr">BEGIN
OPEN :employee_info FOR SELECT EMPLOYEE_ID, SALARY
FROM 	EMP_DETAILS_VIEW WHERE JOB_ID='SA_MAN' ;
END;
 /</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-9C965E00-45C6-42B2-8E4D-9B1EFA143834__GUID-F3CAD3F7-3F87-4C72-B205-90D977E39AAA">
                     <p class="titleinexample">Example 5-15 Using REFCURSOR Variables in Stored Procedures</p>
                     <p>A REFCURSOR bind variable is passed as a parameter to a procedure. The parameter has a REF CURSOR type. First, define the type.</p><pre class="oac_no_warn" dir="ltr">CREATE OR REPLACE PACKAGE EmpPack AS
  TYPE EmpInfoTyp IS REF CURSOR;
  PROCEDURE EmpInfoRpt (emp_cv IN OUT EmpInfoTyp);
END EmpPack;
/</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-9C965E00-45C6-42B2-8E4D-9B1EFA143834__GUID-D9F56929-140F-482A-A163-42EA4CDE2DC8">
                     <p class="titleinexample">Example 5-16 Using REFCURSOR Variables in Stored Functions</p>
                     <p>Create a stored function containing an OPEN... FOR SELECT statement:</p><pre class="oac_no_warn" dir="ltr">CREATE OR REPLACE FUNCTION EmpInfo_fn RETURN -
cv_types.EmpInfo IS
resultset cv_types.EmpInfoTyp;
BEGIN
OPEN resultset FOR SELECT EMPLOYEE_ID, SALARY
FROM EMP_DETAILS_VIEW
WHERE JOB_ID='SA_MAN';
RETURN(resultset);
END;
/</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="SQPUG461"></a><a id="SQPUG200"></a><div class="props_rev_3"><a id="GUID-40F6AC0B-B312-4BAB-8709-D15D24514D0F" name="GUID-40F6AC0B-B312-4BAB-8709-D15D24514D0F"></a><h3 id="SQPUG-GUID-40F6AC0B-B312-4BAB-8709-D15D24514D0F" class="sect3"><span class="enumeration_section">5.14 </span>Fetching Iterative Results from a SELECT inside a PL/SQL Block
               </h3>
               <div>
                  <div class="section">
                     <p>SQL*Plus can iteratively fetch and format the results of a <a id="d9848e2830" class="indexterm-anchor"></a>SELECT statement contained in a PL/SQL block or stored procedure. You do not need to define local REFCURSOR variables. 
                     </p>
                     <p>The results from the SELECT statements are displayed.</p><pre class="oac_no_warn" dir="ltr">ResultSet #1</pre><pre class="pre codeblock"><code>DEPTNO DNAME       LOC
------ ----------  ---------
10     ACCOUNTING  NEW YORK
20     RESEARCH    DALLAS
30     SALES       CHICAGO
40     OPERATIONS  BOSTON

4 rows selected</code></pre><pre class="oac_no_warn" dir="ltr">ResultSet #2</pre><pre class="pre codeblock"><code>EMPNO ENAME  JOB       MGR  HIREDATE  SAL  COMM DEPTNO
----- ------ --------- ---- --------- ---- ---- --
7369  SMITH  CLERK     7902 17-DEC-80  800      20
7499  ALLEN  SALESMAN  7698 20-FEB-81 1600  300 30
7521  WARD   SALESMAN  7698 22-FEB-81 1250  500 30
7566  JONES  MANAGER   7839 02-APR-81 2975      20
7654  MARTIN SALESMAN  7698 28-SEP-81 1250 1400 30
7698  BLAKE  MANAGER   7839 01-MAY-81 2850      30
7782  CLARK  MANAGER   7839 09-JUN-81 2450      10
7788  SCOTT  ANALYST   7566 05-APR-11 3000      20
7839  KING   PRESIDENT      17-NOV-81 5000      10
7844  TURNER SALESMAN  7698 08-SEP-81 1500    0 30
7876  ADAMS  CLERK     7788 09-MAY-11 1100

14 rows selected</code></pre></div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-40F6AC0B-B312-4BAB-8709-D15D24514D0F__GUID-F9F66FC8-F55D-4805-9399-C3A41F8FD450">
                     <p class="titleinexample">Example 5-17 Creating a PL/SQL Procedure</p>
                     <p>Create a PL/SQL procedure P4 which calls two statements.</p><pre class="oac_no_warn" dir="ltr">create procedure p4 as
    c1 sys_refcursor;
    c2 sys_refcursor;
begin
    open c1 for SELECT * FROM DEBT;
    dbms_sql.return_result(c1);
    open c2 for SELECT * FROM EMP;
    dbms_sql.return_result(c2);
end;
/
Procedure created.</pre><p>Next, run the procedure to retrieve results iteratively from the SELECT statements in the procedure. </p><pre class="oac_no_warn" dir="ltr">exec p4
PL/SQL procedure successfully completed.
</pre></div>
                  <!-- class="example" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html>