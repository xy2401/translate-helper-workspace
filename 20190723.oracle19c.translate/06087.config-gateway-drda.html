<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>为DRDA配置Oracle数据库网关</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Installation and Configuration Guide "></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Installation and Configuration Guide for Microsoft Windows"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-gateway-installation-and-configuration-guide-microsoft-windows.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-04-16T19:13:41-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2006, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="F18242-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="config-drda-server.html" title="Previous" type="text/html"></link>
      <link rel="next" href="security-consideration-drda-gateway.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Gateway Installation and Configuration Guide for Microsoft Windows"></meta>
    <meta name="dcterms.isVersionOf" content="OTGIW"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="config-drda-server.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="security-consideration-drda-gateway.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">安装和配置指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="part-drda-gateway.html" property="item" typeof="WebPage"><span property="name">为DRDA安装和配置Oracle数据库网关</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">为DRDA配置Oracle数据库网关</li>
            </ol>
            <a id="GUID-CBB74D39-66CA-4005-8312-0ABB0B2EAF48" name="GUID-CBB74D39-66CA-4005-8312-0ABB0B2EAF48"></a><a id="OTGIW140"></a>
            
            <h2 id="OTGIW-GUID-CBB74D39-66CA-4005-8312-0ABB0B2EAF48" class="sect2"><span class="enumeration_chapter">14</span>为DRDA配置Oracle数据库网关</h2>
         </header>
         <div class="ind">
            <div>
               <p>安装网关后，执行以下任务为DRDA配置Oracle数据库网关：</p>
               <ol>
                  <li>
                     <p><a href="config-gateway-drda.html#GUID-E1CFC60C-973A-4EA6-93EC-A75CE158B376">配置网关初始化参数文件</a></p>
                  </li>
                  <li>
                     <p><a href="config-gateway-drda.html#GUID-445A9D91-1DBA-4FD3-AF28-873939DD9AC0">为网关配置Oracle Net</a></p>
                  </li>
                  <li>
                     <p><a href="config-gateway-drda.html#GUID-34D00152-DAEB-4A8D-90FD-B1EE4AC35CF5">配置两阶段提交</a></p>
                  </li>
                  <li>
                     <p><a href="config-gateway-drda.html#GUID-AFF28A3F-F63F-411E-87F1-B5D7207A6007">为数据字典支持创建表和视图</a></p>
                  </li>
                  <li>
                     <p><a href="config-gateway-drda.html#GUID-E020A28A-C039-4D57-A691-372D9A27548C">配置Oracle数据库以进行网关访问</a></p>
                  </li>
                  <li>
                     <p><a href="config-gateway-drda.html#GUID-E28327A2-F8F8-4E02-A012-866AECEEEF20">创建数据库链接</a></p>
                  </li>
                  <li>
                     <p><a href="config-gateway-drda.html#GUID-81523F23-5707-4203-BCED-7ED81054BB65">配置网关以访问多个DRDA数据库</a></p>
                  </li>
               </ol>
               <p>提供SQL脚本以执行诸如创建<code class="codeph">HS_TRANSACTION_LOG</code>表，删除过时的表和视图以及创建要提供的表和视图等步骤<a id="d24770e71" class="indexterm-anchor"></a>数据字典支持。
               </p>
               <p>必须使用a在DRDA服务器平台上运行这些脚本<a id="d24770e78" class="indexterm-anchor"></a>数据库本机工具（如<a id="d24770e83" class="indexterm-anchor"></a> SPUFI上<a id="d24770e86" class="indexterm-anchor"></a> DB2 UDB for Linux，UNIX和Windows），因为没有为网关提供执行这些脚本的工具。请注意，运行这些脚本时，必须对使用的用户ID进行适当授权。
               </p>
               <p>SQL脚本位于<code class="codeph">dg4db2/admin</code>目录中。通过在其文件名中具有DB2平台标识符（例如：“zos”，“as400”和“luw”）和版本特定数字（例如：vw7，vw8）来指定适当的平台脚本。
               </p>
            </div><a id="OTGIW1054"></a><div class="props_rev_3"><a id="GUID-E1CFC60C-973A-4EA6-93EC-A75CE158B376" name="GUID-E1CFC60C-973A-4EA6-93EC-A75CE158B376"></a><h3 id="OTGIW-GUID-E1CFC60C-973A-4EA6-93EC-A75CE158B376" class="sect3">配置网关初始化参数文件</h3>
               <div>
                  <div class="section">
                     <p>执行以下任务以配置网关初始化参数文件<a id="d24770e129" class="indexterm-anchor"></a></p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li><span><a href="config-gateway-drda.html#GUID-016825C4-6B78-4DB9-B832-9E4419C0514E">选择网关的系统标识符</a></span></li>
                     <li><span><a href="config-gateway-drda.html#GUID-7D770233-240C-4203-9CB9-F66B0E5DE9C6">自定义初始化参数文件</a></span></li>
                  </ol>
               </div><a id="OTGIW1055"></a><div class="props_rev_3"><a id="GUID-016825C4-6B78-4DB9-B832-9E4419C0514E" name="GUID-016825C4-6B78-4DB9-B832-9E4419C0514E"></a><h4 id="OTGIW-GUID-016825C4-6B78-4DB9-B832-9E4419C0514E" class="sect4">选择网关的系统标识符</h4>
                  <div>
                     <p>网关系统标识符（SID）是标识网关实例的字母数字字符串。对于要访问的每个DRDA数据库，您需要一个网关实例，因此需要一个网关SID。但是，如果要访问两个DRDA数据库，则需要两个网关SID，一个用于网关的每个实例。如果您有一个DRDA数据库并且希望有时使用一组网关参数设置来访问它，而有时使用不同的网关参数设置来访问它，则可以通过为单个DRDA数据库提供多个网关SID来实现。SID用作初始化参数文件的文件名的一部分。</p>
                  </div>
               </div><a id="OTGIW1056"></a><div class="props_rev_3"><a id="GUID-7D770233-240C-4203-9CB9-F66B0E5DE9C6" name="GUID-7D770233-240C-4203-9CB9-F66B0E5DE9C6"></a><h4 id="OTGIW-GUID-7D770233-240C-4203-9CB9-F66B0E5DE9C6" class="sect4">自定义初始化参数文件</h4>
                  <div>
                     <p>根据需要使用其他参数定制参数文件。请参阅<a href="init-param-gateway.html#GUID-69E5F431-CF22-48B1-B05B-984644117C1F">初始化参数</a>支持的初始化参数列表。有关定制参数文件的安全性方面，请参阅<a href="security-consideration-drda-gateway.html#GUID-8A5E29B7-B0A0-4A21-A072-97D3639FB141">安全注意事项</a> 。
                     </p>
                  </div>
               </div>
            </div><a id="OTGIW1057"></a><div class="props_rev_3"><a id="GUID-445A9D91-1DBA-4FD3-AF28-873939DD9AC0" name="GUID-445A9D91-1DBA-4FD3-AF28-873939DD9AC0"></a><h3 id="OTGIW-GUID-445A9D91-1DBA-4FD3-AF28-873939DD9AC0" class="sect3">为网关配置Oracle Net</h3>
               <div>
                  <div class="section">
                     <p>网关要求Oracle Net与Oracle数据库通信。配置网关后，执行以下任务以配置Oracle Net以使用网关：</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li><span><a href="config-gateway-drda.html#GUID-573EB94C-163A-43AB-B444-FE0BEB525C0F">为网关配置Oracle Net Listener</a></span></li>
                     <li><span><a href="config-gateway-drda.html#GUID-D70F0D59-6BD4-432A-8DAD-0F5CA9D357C6">停止并启动Gateway的Oracle Net Listener</a></span></li>
                  </ol>
               </div><a id="OTGIW1058"></a><div class="props_rev_3"><a id="GUID-573EB94C-163A-43AB-B444-FE0BEB525C0F" name="GUID-573EB94C-163A-43AB-B444-FE0BEB525C0F"></a><h4 id="OTGIW-GUID-573EB94C-163A-43AB-B444-FE0BEB525C0F" class="sect4">为网关配置Oracle Net Listener</h4>
                  <div>
                     <div class="section">
                        <p>Oracle Net Listener侦听来自Oracle数据库的传入请求。要使Oracle Net Listener监听网关，必须将有关网关的信息添加到Oracle Net Listener配置文件<code class="codeph">listener.ora</code> 。默认情况下，此文件位于<span class="italic"><code class="codeph">ORACLE_HOME</code></span> <code class="codeph">\network\admin</code> ，其中<span class="italic"><code class="codeph">ORACLE_HOME</code></span>是安装网关的目录。
                        </p>
                        <p>必须将以下条目添加到<code class="codeph">listener.ora</code>文件中：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>Oracle Net Listener侦听的Oracle Net地址列表</p>
                           </li>
                           <li>
                              <p>Oracle Net Listener响应传入连接请求而启动的网关的可执行文件名</p>
                           </li>
                        </ul>
                        <p><span class="italic"><code class="codeph">ORACLE_HOME</code></span> <code class="codeph">\dg4db2\admin</code>目录中提供了<code class="codeph">listener.ora</code>条目（ <code class="codeph">listener.ora.sample</code> ）的示例，其中<code class="codeph">ORACLE_HOME</code>是安装网关的目录。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div><a id="OTGIW1059"></a><div class="props_rev_3"><a id="GUID-9F0D767E-667B-4F62-8D64-E29D990B047E" name="GUID-9F0D767E-667B-4F62-8D64-E29D990B047E"></a><h5 id="OTGIW-GUID-9F0D767E-667B-4F62-8D64-E29D990B047E" class="sect5">listener.ora文件条目的语法</h5>
                     <div>
                        <p>Oracle数据库使用Oracle Net和任何支持的协议适配器与网关通信。Oracle Net Listener使用TCP / IP协议适配器侦听的地址语法如下：</p><pre class="oac_no_warn" dir="ltr">LISTENER =（ADDRESS =（PROTOCOL = TCP）（HOST = <span class="italic">host_name</span> ）（PORT = <span class="italic">port_number</span> ））</pre><p>哪里：</p>
                        <div class="tblformal" id="GUID-9F0D767E-667B-4F62-8D64-E29D990B047E__GUID-0E0319C1-8889-4E54-AC88-68C0645EDFCD">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="summary" frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="27%" id="d24770e384">变量</th>
                                    <th align="left" valign="bottom" width="73%" id="d24770e387">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d24770e392" headers="d24770e384 ">
                                       <p><span class="italic"><code class="codeph">主机名</code></span></p>
                                    </td>
                                    <td align="left" valign="top" width="73%" headers="d24770e392 d24770e387 ">
                                       <p>是安装网关的计算机的名称。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d24770e401" headers="d24770e384 ">
                                       <p><span class="italic"><code class="codeph">端口号</code></span></p>
                                    </td>
                                    <td align="left" valign="top" width="73%" headers="d24770e401 d24770e387 ">
                                       <p>指定Oracle Net Listener使用的端口号。如果在同一台机器上运行其他侦听器，则<span class="italic"><code class="codeph">port_number</code></span>的值必须与其他侦听器的端口号不同。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>要指示Oracle Net Listener启动网关以响应传入的连接请求，请在<code class="codeph">listener.ora</code>文件中添加一个条目。
                        </p>
                        <div class="infoboxnote" id="GUID-9F0D767E-667B-4F62-8D64-E29D990B047E__GUID-23A6D393-7C2C-45DD-81E8-BCC085C5A497">
                           <p class="notep1">注意：</p>
                           <p>您必须在<code class="codeph">listener.ora</code>文件中使用相同的SID值，并在<code class="codeph">tnsnames.ora</code>文件中使用，该文件将在下一步中配置。
                           </p>
                        </div><pre class="oac_no_warn" dir="ltr">SID_LIST_LISTENER =（SID_LIST =（SID_DESC =（SID_NAME = <span class="italic">gateway_sid</span> ）（ORACLE_HOME = <span class="italic">oracle_home_directory</span> ）（PROGRAM = dg4db2）））</pre><p>哪里：</p>
                        <div class="tblformal" id="GUID-9F0D767E-667B-4F62-8D64-E29D990B047E__GUID-82CB91B5-DB66-476E-8E1E-5C14866E974B">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="summary" frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="27%" id="d24770e445">变量</th>
                                    <th align="left" valign="bottom" width="73%" id="d24770e448">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d24770e453" headers="d24770e445 ">
                                       <p><span class="italic"><code class="codeph">gateway_sid</code></span></p>
                                    </td>
                                    <td align="left" valign="top" width="73%" headers="d24770e453 d24770e448 ">
                                       <p>指定网关的SID，并匹配<code class="codeph">tnsnames.ora</code>文件中连接描述符条目中指定的网关SID。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d24770e465" headers="d24770e445 ">
                                       <p><span class="italic"><code class="codeph">oracle_home_directory</code></span></p>
                                    </td>
                                    <td align="left" valign="top" width="73%" headers="d24770e465 d24770e448 ">
                                       <p>指定网关所在的Oracle主目录。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d24770e474" headers="d24770e445 ">
                                       <p><code class="codeph">dg4db2</code></p>
                                    </td>
                                    <td align="left" valign="top" width="73%" headers="d24770e474 d24770e448 ">
                                       <p>指定DRDA的Oracle数据库网关的可执行文件名称。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>如果您已在运行侦听多个数据库SID的Oracle Net Listener，请在现有<code class="codeph">listener.ora</code>文件中仅将以下语法添加到<code class="codeph">SID_LIST</code> ：</p><pre class="oac_no_warn" dir="ltr">SID_LIST_LISTENER =（SID_LIST =（SID_DESC =。。）（SID_DESC =。。）（SID_DESC =（SID_NAME = <span class="italic">gateway_sid</span> ）（ORACLE_HOME = <span class="italic">oracle_home_directory</span> ）（PROGRAM = dg4db2）））</pre><div class="infoboxnotealso" id="GUID-9F0D767E-667B-4F62-8D64-E29D990B047E__GUID-062D1FAE-5066-485B-8F04-1B19E003DDB7">
                           <p class="notep1">也可以看看：</p>
                           <p>有关更改<code class="codeph">listener.ora</code>文件的信息，请参见“ <a href="../netag/configuring-and-administering-oracle-net-listener.html#NETAG294" target="_blank"><span class="italic">Oracle数据库网络服务管理员指南”</span></a> 。
                           </p>
                        </div>
                     </div>
                  </div>
               </div><a id="OTGIW1060"></a><div class="props_rev_3"><a id="GUID-D70F0D59-6BD4-432A-8DAD-0F5CA9D357C6" name="GUID-D70F0D59-6BD4-432A-8DAD-0F5CA9D357C6"></a><h4 id="OTGIW-GUID-D70F0D59-6BD4-432A-8DAD-0F5CA9D357C6" class="sect4">停止并启动Gateway的Oracle Net Listener</h4>
                  <div>
                     <div class="section">
                        <p>你必须停止并重新启动<a id="d24770e541" class="indexterm-anchor"></a> Oracle Net Listener启动新设置，如下所示：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li><span>从“ <span class="bold">开始”</span>菜单中选择<span class="bold">“设置”</span> ，“ <span class="bold">控制面板”</span> ，然后选择“ <span class="bold">服务”</span></span></li>
                        <li><span>选择网关的Oracle Net Listener服务。</span></li>
                        <li><span>如果该服务已在运行，请单击“ <span class="bold">停止”</span>以停止该服务。</span></li>
                        <li><span>单击“ <span class="bold">开始”</span>以启动或重新启动该服务。</span></li>
                     </ol>
                  </div>
               </div>
            </div><a id="OTGIW1061"></a><div class="props_rev_3"><a id="GUID-34D00152-DAEB-4A8D-90FD-B1EE4AC35CF5" name="GUID-34D00152-DAEB-4A8D-90FD-B1EE4AC35CF5"></a><h3 id="OTGIW-GUID-34D00152-DAEB-4A8D-90FD-B1EE4AC35CF5" class="sect3">配置两阶段提交</h3>
               <div>
                  <p>支持两阶段提交需要在DB2服务器上运行<code class="codeph">ORACLE_HOME\dg4db2\admin\dg4db2_tx.sql</code>脚本。此脚本将创建网关用于两阶段提交的对象。编辑脚本并使用为<code class="codeph">HS_FDS_RECOVERY_ACCOUNT</code>初始化参数指定的帐户名替换默认的恢复帐户架构（“ <code class="codeph">RECOVER</code> ”）。有关更多详细信息，请参阅<a href="init-param-gateway.html#GUID-69E5F431-CF22-48B1-B05B-984644117C1F">初始化参数</a> 。
                  </p>
               </div>
            </div><a id="OTGIW1065"></a><div class="props_rev_3"><a id="GUID-AFF28A3F-F63F-411E-87F1-B5D7207A6007" name="GUID-AFF28A3F-F63F-411E-87F1-B5D7207A6007"></a><h3 id="OTGIW-GUID-AFF28A3F-F63F-411E-87F1-B5D7207A6007" class="sect3">为数据字典支持创建表和视图</h3>
               <div>
                  <div class="section">
                     <p>要启用数据字典转换支持，必须在要通过网关访问的每个非Oracle系统上创建数据字典表和视图。</p>
                     <p>执行以下步骤以使用数据库本机工具创建数据字典表和视图：</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>从以前的网关版本升级</span><div>
                           <p>如果要从以前版本的网关升级，请运行相应的脚本以删除旧的数据字典定义。</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>如果连接到DB2 UDB for Linux，UNIX和Windows，则运行</p><pre class="oac_no_warn" dir="ltr"><span class="italic">ORACLE_HOME</span> \ dg4db2 \ admin \ dg4db2_luw_drop.sql</pre></li>
                              <li>
                                 <p>如果连接到DB2 UDB for z / OS，则运行</p><pre class="oac_no_warn" dir="ltr"><span class="italic">ORACLE_HOME</span> \ dg4db2 \ admin \ dg4db2_zos_drop.sql</pre></li>
                              <li>
                                 <p>如果连接到DB2 UDB for iSeries，则运行</p><pre class="oac_no_warn" dir="ltr"><span class="italic">ORACLE_HOME</span> \ dg4db2 \ admin \ dg4db2_as400_drop.sql</pre></li>
                           </ul>
                        </div>
                     </li>
                     <li class="stepexpand"><span>创建数据字典表</span><div>
                           <p>运行相应的脚本以创建数据字典表。</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>如果连接到DB2 UDB for Linux，UNIX和Windows，则运行</p><pre class="oac_no_warn" dir="ltr"><span class="italic">ORACLE_HOME</span> \ dg4db2 \ admin \ dg4db2_luw_tab.sql</pre></li>
                              <li>
                                 <p>如果连接到DB2 UDB for z / OS，则运行</p><pre class="oac_no_warn" dir="ltr"><span class="italic">ORACLE_HOME</span> \ dg4db2 \ admin \ dg4db2_zos_tab.sql</pre></li>
                              <li>
                                 <p>如果连接到DB2 UDB for iSeries，则运行</p><pre class="oac_no_warn" dir="ltr"><span class="italic">ORACLE_HOME</span> \ dg4db2 \ admin \ dg4db2_as400_tab.sql</pre></li>
                           </ul>
                        </div>
                     </li>
                     <li class="stepexpand"><span>创建数据字典视图</span><div>
                           <p>运行相应的脚本以创建数据字典视图：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>如果连接到DB2 UDB for Linux，UNIX和Windows，则运行</p>
                                 <p>对于DB2 UDB Linux版，UNIX版和Windows V7版：</p><pre class="oac_no_warn" dir="ltr"><span class="italic">ORACLE_HOME</span> \ dg4db2 \ admin \ dg4db2_luw_vw7.sql</pre><p>对于DB2 UDB Linux版，UNIX版和Windows V8版：</p><pre class="oac_no_warn" dir="ltr"><span class="italic">ORACLE_HOME</span> \ dg4db2 \ admin \ dg4db2_luw_vw8.sql</pre></li>
                              <li>
                                 <p>如果连接到DB2 UDB for z / OS，则运行</p>
                                 <p>对于DB2 UDB for z / OS V7（RACF安全性）：</p><pre class="oac_no_warn" dir="ltr"><span class="italic">ORACLE_HOME</span> \ dg4db2 \ admin \ dg4db2_zos_vw7r.sql</pre><p>对于DB2 UDB for z / OS V7（DB2安全性）：</p><pre class="oac_no_warn" dir="ltr"><span class="italic">ORACLE_HOME</span> \ dg4db2 \ admin \ dg4db2_zos_vw7s.sql</pre><p>对于DB2 UDB for z / OS V8（RACF安全性）：</p><pre class="oac_no_warn" dir="ltr"><span class="italic">ORACLE_HOME</span> \ dg4db2 \ admin \ dg4db2_zos_vw8r.sql</pre><p>对于DB2 UDB for z / OS V8（DB2安全性）：</p><pre class="oac_no_warn" dir="ltr"><span class="italic">ORACLE_HOME</span> \ dg4db2 \ admin \ dg4db2_zos_vw8s.sql</pre></li>
                              <li>
                                 <p>如果连接到DB2 UDB for iSeries，则运行</p>
                                 <p>对于DB2 UDB for iSeries V5.1：</p><pre class="oac_no_warn" dir="ltr"><span class="italic">ORACLE_HOME</span> \ dg4db2 \ admin \ dg4db2_as400_vw51.sql</pre><p>对于DB2 UDB for iSeries V5.2：</p><pre class="oac_no_warn" dir="ltr"><span class="italic">ORACLE_HOME</span> \ dg4db2 \ admin \ dg4db2_as400_vw52.sql</pre><p>对于DB2 UDB for iSeries V5.3：</p><pre class="oac_no_warn" dir="ltr">ORACLE_HOME \ dg4db2 \ ADMIN \ dg4db2_as400_vw53.sql</pre></li>
                           </ul>
                        </div>
                     </li>
                  </ol>
               </div>
            </div><a id="OTGIW1067"></a><div class="props_rev_3"><a id="GUID-E020A28A-C039-4D57-A691-372D9A27548C" name="GUID-E020A28A-C039-4D57-A691-372D9A27548C"></a><h3 id="OTGIW-GUID-E020A28A-C039-4D57-A691-372D9A27548C" class="sect3">配置Oracle数据库以进行网关访问</h3>
               <div>
                  <div class="section">
                     <p>在使用网关访问DB2数据之前，必须配置Oracle数据库以启用与Oracle Net上的网关通信。</p>
                     <p>要配置Oracle数据库，必须将连接描述符添加到<code class="codeph">tnsnames.ora</code>文件中。默认情况下，此文件位于<span class="italic"><code class="codeph">ORACLE_HOME</code></span> <code class="codeph">\network\admin</code> ，其中<span class="italic"><code class="codeph">ORACLE_HOME</code></span>是安装Oracle数据库的目录。您无法使用Oracle Net Assistant或Oracle Net Easy Config工具来配置<code class="codeph">tnsnames.ora</code>文件。您必须手动编辑该文件。
                     </p>
                     <p><span class="italic"><code class="codeph">ORACLE_HOME</code></span> <code class="codeph">\dg4db2\admin</code>目录中提供了<code class="codeph">tnsnames.ora</code>条目（ <code class="codeph">tnsnames.ora.sample</code> ）的示例，其中<code class="codeph">ORACLE_HOME</code>是安装网关的目录。
                     </p>
                     <div class="infoboxnotealso" id="GUID-E020A28A-C039-4D57-A691-372D9A27548C__GUID-393904A2-1631-4C79-89A8-67DFA9E52186">
                        <p class="notep1">也可以看看：</p>
                        <p>有关编辑<code class="codeph">tnsnames.ora</code>文件的信息，请<code class="codeph">tnsnames.ora</code> <a href="../netag/configuring-naming-methods.html#NETAG256" target="_blank"><span><cite>“Oracle数据库网络服务管理员指南”</cite></span></a> 。
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div><a id="OTGIW1244"></a><a id="OTGIW1068"></a><div class="props_rev_3"><a id="GUID-8C491956-D82A-467A-B7BC-2A2C45A88FF0" name="GUID-8C491956-D82A-467A-B7BC-2A2C45A88FF0"></a><h4 id="OTGIW-GUID-8C491956-D82A-467A-B7BC-2A2C45A88FF0" class="sect4">配置tnsnames.ora</h4>
                  <div>
                     <div class="section">
                        <p>编辑<code class="codeph">tnsnames.ora</code>文件以添加网关的连接描述符。以下是使用TCP / IP协议的Oracle Net条目的语法。
                        </p><pre class="oac_no_warn" dir="ltr"><span class="italic">connect_descriptor</span> =（DESCRIPTION =（ADDRESS =（PROTOCOL = TCP）（HOST = <span class="italic">host_name</span> ）（PORT = <span class="italic">port_number</span> ））（CONNECT_DATA =（SID = <span class="italic">gateway_sid</span> ））（HS = OK））</pre><p>哪里：</p>
                        <div class="tblformal" id="GUID-8C491956-D82A-467A-B7BC-2A2C45A88FF0__GUID-1E55127D-0331-4FA1-8CC4-25D0DE88A8F3">
                           <p class="titleintable">表14-1 tnsnames.ora文件的DRDA参数的Oracle数据库网关</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="适用于tnsnames.ora文件的DRDA参数的Oracle数据库网关" width="100%" border="1" summary="Gateway Parameters for tnsnames.ora File" frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d24770e924">变量</th>
                                    <th align="left" valign="bottom" width="69%" id="d24770e927">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d24770e932" headers="d24770e924 ">
                                       <p><span class="italic"><code class="codeph">connect_descriptor</code></span></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d24770e932 d24770e927 ">
                                       <p>是在创建数据库链接时指定的要连接的对象的描述，例如<code class="codeph">dg4db2</code> 。
                                       </p>
                                       <p>检查<code class="codeph">sqlnet.ora</code>文件以获取以下参数设置：</p>
                                       <p><code class="codeph">names.directory_path</code> = <code class="codeph">(TNSNAMES)</code> 
                                       </p>
                                       <p>注意： <code class="codeph">sqlnet.ora</code>文件通常存储在<span class="italic"><code class="codeph">ORACLE_HOME</code></span> <code class="codeph">\network\admin</code> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d24770e967" headers="d24770e924 ">
                                       <p>TCP</p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d24770e967 d24770e927 ">
                                       <p>是用于TCP / IP连接的TCP协议。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d24770e974" headers="d24770e924 ">
                                       <p><span class="italic"><code class="codeph">主机名</code></span></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d24770e974 d24770e927 ">
                                       <p>指定运行网关的计算机。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d24770e983" headers="d24770e924 ">
                                       <p><span class="italic"><code class="codeph">端口号</code></span></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d24770e983 d24770e927 ">
                                       <p>匹配正在侦听网关的Oracle Net Listener使用的端口号。Oracle Net Listener的端口号可以在Oracle Net Listener使用的<code class="codeph">listener.ora</code>文件中找到。请参阅<a href="config-gateway-drda.html#GUID-9F0D767E-667B-4F62-8D64-E29D990B047E">listener.ora文件条目的语法</a> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d24770e999" headers="d24770e924 ">
                                       <p><span class="italic"><code class="codeph">gateway_sid</code></span></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d24770e999 d24770e927 ">
                                       <p>指定网关的SID，并匹配正在侦听网关的Oracle Net Listener的<code class="codeph">listener.ora</code>文件中指定的SID。有关更多信息，请参阅<a href="config-gateway-drda.html#GUID-573EB94C-163A-43AB-B444-FE0BEB525C0F">为网关配置Oracle Net Listener</a> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d24770e1015" headers="d24770e924 ">
                                       <p><code class="codeph">（HS = OK）</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d24770e1015 d24770e927 ">
                                       <p>指定此连接描述符连接到非Oracle系统。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-513AA5DB-F8D0-4FFD-9210-6596F9DC344C" name="GUID-513AA5DB-F8D0-4FFD-9210-6596F9DC344C"></a><h4 id="OTGIW-GUID-513AA5DB-F8D0-4FFD-9210-6596F9DC344C" class="sect4">为多个侦听器配置tnsnames.ora</h4>
                  <div>
                     <div class="section">
                        <p>要确保更高的可用性，您可以指定多个<a id="d24770e1066" class="indexterm-anchor"></a> connect de scriptor中的监听器。
                        </p><pre class="oac_no_warn" dir="ltr"> <a id="d24770e1074" class="indexterm-anchor"></a> <span class="italic">connect_descriptor</span> =（DESCRIPTION =（ADDRESS =（PROTOCOL = TCP）（HOST = <span class="italic">host_name_1</span> ）（PORT = <span class="italic">port_number_1</span> ））（ADDRESS =（PROTOCOL = TCP）（HOST = <span class="italic">host_name_2</span> ）（PORT = <span class="italic">port_number_2</span> ））（CONNECT_DATA =（SID = <span class="italic">gateway_sid</span> ））（HS = OK））</pre><p>这表明，如果<span class="italic"><code class="codeph">host_name_1</code></span>和<span class="italic"><code class="codeph">port_number_1</code></span>的侦听器不可用，则<span class="italic"><code class="codeph">host_name_2</code></span>和<span class="italic"><code class="codeph">port_number_2</code></span>的第二个侦听器将接管。
                        </p>
                        <div class="infoboxnotealso" id="GUID-513AA5DB-F8D0-4FFD-9210-6596F9DC344C__GUID-2E229209-7F28-4BD9-9C0B-327FC45C1D9D">
                           <p class="notep1">也可以看看：</p>
                           <p>有关编辑<code class="codeph">tnsnames.ora</code>文件的信息，请<code class="codeph">tnsnames.ora</code> <a href="../netag/configuring-naming-methods.html#NETAG256" target="_blank"><span><cite>“Oracle数据库网络服务管理员指南”</cite></span></a> 。
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="OTGIW1069"></a><div class="props_rev_3"><a id="GUID-E28327A2-F8F8-4E02-A012-866AECEEEF20" name="GUID-E28327A2-F8F8-4E02-A012-866AECEEEF20"></a><h3 id="OTGIW-GUID-E28327A2-F8F8-4E02-A012-866AECEEEF20" class="sect3">创建数据库链接</h3>
               <div>
                  <div class="section">
                     <p>连接到Oracle数据库的任何Oracle客户端都可以通过网关访问DB2数据。Oracle客户端和Oracle数据库可以驻留在不同的计算机上。网关仅接受来自Oracle数据库的连接。</p>
                     <p>首次在Oracle会话中使用时，通过数据库链接建立与网关的连接。在此上下文中，连接是指Oracle数据库与网关之间的连接。在Oracle会话结束之前，连接将保持建立状态。另一个会话或用户可以访问相同的数据库链接，并获得与网关和DRDA数据库的不同连接。</p>
                     <p>数据库链接在网关会话期间处于活动状态。如果要在会话期间关闭数据库链接，可以使用<code class="codeph">ALTER SESSION</code>语句执行此操作。
                     </p>
                     <p>要访问DRDA服务器，您必须创建数据库链接。公共数据库链接是最常见的数据库链接。</p><pre class="oac_no_warn" dir="ltr">SQL&gt; CREATE PUBLIC DATABASE LINK <span class="italic">dblink</span> CONNECT TO 2“ <span class="italic">user”</span> IDENTIFIED BY <span class="italic">“password”</span> <span class="italic">USING'tns_name_entry</span> ';</pre><p>哪里：</p>
                     <div class="tblformal" id="GUID-E28327A2-F8F8-4E02-A012-866AECEEEF20__GUID-800595F3-162D-47F9-AA09-957FC0E37E35">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="variable definition" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="25%" id="d24770e1191">变量</th>
                                 <th align="left" valign="bottom" width="75%" id="d24770e1194">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d24770e1199" headers="d24770e1191 ">
                                    <p><span class="italic"><code class="codeph">DBLINK</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d24770e1199 d24770e1194 ">
                                    <p>是完整的数据库链接名称。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d24770e1208" headers="d24770e1191 ">
                                    <p><span class="italic"><code class="codeph">tns_name_entry</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d24770e1208 d24770e1194 ">
                                    <p>指定<code class="codeph">tnsnames.ora</code>文件中指定的标识网关的Oracle Net连接描述符</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>创建数据库链接后，您可以验证与DRDA数据库的连接，如下所示：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT * FROM DUAL @dblink;</pre><div class="infoboxnotealso" id="GUID-E28327A2-F8F8-4E02-A012-866AECEEEF20__GUID-E9635626-D491-48AF-AB4A-17EAF380E76F">
                        <p class="notep1">也可以看看：</p>
                        <p>有关使用数据库链接的详细信息，请<a href="../admin/distributed-database-concepts.html#ADMIN12083" target="_blank"><span><cite>参见Oracle数据库管理员指南</cite></span></a> 。
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="OTGIW1070"></a><div class="props_rev_3"><a id="GUID-81523F23-5707-4203-BCED-7ED81054BB65" name="GUID-81523F23-5707-4203-BCED-7ED81054BB65"></a><h3 id="OTGIW-GUID-81523F23-5707-4203-BCED-7ED81054BB65" class="sect3">配置网关以访问多个DRDA数据库</h3>
               <div>
                  <div class="section">
                     <p>配置网关以访问多个DRDA数据库的任务类似于为单个数据库配置网关的任务。配置示例假定以下内容：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type:disc">
                        <li>
                           <p>网关已安装。</p>
                        </li>
                        <li>
                           <p>为一个名为<code class="codeph">db1</code> DRDA数据库配置网关。
                           </p>
                        </li>
                        <li>
                           <p>正在添加具有IP地址204.179.79.15的主机上名为<code class="codeph">db2</code>和<code class="codeph">db3</code>两个DRDA数据库。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div><a id="OTGIW1245"></a><a id="OTGIW1246"></a><a id="OTGIW1071"></a><div class="props_rev_3"><a id="GUID-068B544D-D7B3-47EE-AFA1-94EA4962FC93" name="GUID-068B544D-D7B3-47EE-AFA1-94EA4962FC93"></a><h4 id="OTGIW-GUID-068B544D-D7B3-47EE-AFA1-94EA4962FC93" class="sect4">多个DRDA数据库示例：配置网关</h4>
                  <div>
                     <div class="section">
                        <p class="subhead3" id="GUID-068B544D-D7B3-47EE-AFA1-94EA4962FC93__GUID-875B970A-A66F-4DD7-A053-82DEE712C491">为每个DRDA数据库选择一个系统ID</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>每个DRDA数据库都需要一个单独的网关实例。每个实例都需要自己的网关系统ID（SID）。对于此示例，为访问DRDA数据库的实例选择网关SID：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">dg4db22</code>用于访问数据库<code class="codeph">db2</code>的网关。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">dg4db23</code>用于访问数据库<code class="codeph">db3</code>的网关。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-068B544D-D7B3-47EE-AFA1-94EA4962FC93__GUID-6C76EB0D-67D6-494D-AA17-919B935D57B9">创建两个初始化参数文件</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>通过复制原始初始化参数文件： <span class="italic"><code class="codeph">ORACLE_HOME</code></span> <code class="codeph">\dg4db2\admin\initdg4db2.ora</code>两次为网关的每个实例创建一个初始化参数文件，用<code class="codeph">db2</code>的网关SID命名一个，用<code class="codeph">db3</code>的网关SID命名另一个：</p><pre class="oac_no_warn" dir="ltr">&gt; cd <span class="italic">ORACLE_HOME</span> \ dg4db2 \ admin&gt; copy initdg4db2.ora initdg4db22.ora&gt; copy initdg4db2.ora initdg4db23.ora</pre><div class="infoboxnote" id="GUID-068B544D-D7B3-47EE-AFA1-94EA4962FC93__GUID-12725F87-8F6F-4F16-9433-E157DE244406">
                           <p class="notep1">注意：</p>
                           <p>如果您有相同DRDA数据库的多个网关SID，因为您希望在不同时间使用不同的网关参数设置，请按照相同的步骤进行操作。您可以创建多个初始化参数文件，每个文件具有不同的SID和不同的参数设置。</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="OTGIW1247"></a><a id="OTGIW1072"></a><div class="props_rev_3"><a id="GUID-67BF4F41-99C6-41CF-9F97-2BFAEEC637F3" name="GUID-67BF4F41-99C6-41CF-9F97-2BFAEEC637F3"></a><h4 id="OTGIW-GUID-67BF4F41-99C6-41CF-9F97-2BFAEEC637F3" class="sect4">多个DRDA数据库示例：配置Oracle Net Listener</h4>
                  <div>
                     <div class="section">
                        <p class="subhead3" id="GUID-67BF4F41-99C6-41CF-9F97-2BFAEEC637F3__GUID-555CB888-1B42-4ACD-AC46-C24A7F06056A">将条目添加到listener.ora</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>在Oracle Net Listener配置文件中添加两个新条目， <span class="bold"> </span> <code class="codeph">listener.ora</code> 。即使多个网关实例访问同一数据库，您也必须为每个网关实例提供一个条目。
                        </p>
                        <p>以下示例首先显示原始安装网关的条目，然后显示新条目：</p><pre class="oac_no_warn" dir="ltr">SID_LIST_LISTENER =（SID_LIST =（SID_DESC =（SID_NAME = dg4db2）（ORACLE_HOME = <span class="italic">oracle_home_directory</span> ）（PROGRAM = dg4db2））（SID_DESC =（SID_NAME = dg4db22）（ORACLE_HOME = <span class="italic">oracle_home_directory</span> ）（PROGRAM = dg4db2））（SID_DESC =（SID_NAME = dg4db23） ）（ORACLE_HOME = <span class="italic">oracle_home_directory</span> ）（PROGRAM = dg4db2）））</pre><p>其中， <code class="codeph">oracle_home_directory</code>是网关所在的目录。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="OTGIW1073"></a><div class="props_rev_3"><a id="GUID-5B5F97FE-DAF1-4C4C-985D-1B682B74CD62" name="GUID-5B5F97FE-DAF1-4C4C-985D-1B682B74CD62"></a><h4 id="OTGIW-GUID-5B5F97FE-DAF1-4C4C-985D-1B682B74CD62" class="sect4">多个DRDA数据库示例：停止并启动Oracle Net Listener</h4>
                  <div>
                     <div class="section">
                        <p>执行以下步骤：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li><span>从“ <span class="bold">开始”</span>菜单中选择<span class="bold">“设置”</span> ，“ <span class="bold">控制面板”</span> ，然后选择“ <span class="bold">服务”</span></span></li>
                        <li><span>选择网关的Oracle Net Listener服务。</span></li>
                        <li><span>单击<span class="bold">停止</span> 。</span></li>
                        <li><span>单击<span class="bold">开始</span> 。</span></li>
                     </ol>
                  </div>
               </div><a id="OTGIW1074"></a><div class="props_rev_3"><a id="GUID-248D7020-9D18-4BEC-A644-3FDDCB833A86" name="GUID-248D7020-9D18-4BEC-A644-3FDDCB833A86"></a><h4 id="OTGIW-GUID-248D7020-9D18-4BEC-A644-3FDDCB833A86" class="sect4">多个DRDA数据库示例：为网关访问配置Oracle数据库</h4>
                  <div>
                     <div class="section">
                        <p>将两个连接描述符条目添加到<code class="codeph">tnsnames.ora</code>文件中。即使网关实例访问同一数据库，您也必须为每个网关实例创建一个条目。
                        </p>
                        <p>此示例描述如何在Oracle数据库上为多个网关实例配置Oracle Net。它首先显示原始安装网关的条目，然后是新网关实例的两个条目：</p><pre class="oac_no_warn" dir="ltr"><span class="italic">old_db_using</span> =（DESCRIPTION =（ADDRESS =（PROTOCOL = TCP）（PORT = port_number）（HOST = host_name））（CONNECT_DATA =（SID = dg4db2））（HS = OK）） <span class="italic">new_db2_using</span> =（DESCRIPTION =（ADDRESS =（PROTOCOL = TCP）（PORT = port_number）（HOST = host_name））（CONNECT_DATA =（SID = dg4db22））（HS = OK）） <span class="italic">new_db3_using</span> =（DESCRIPTION =（ADDRESS =（PROTOCOL = TCP）（PORT = port_number）（HOST = host_name ））（CONNECT_DATA =（SID = dg4db23））（HS = OK））</pre><p><code class="codeph">PORT</code>的值是正在侦听网关的Oracle Net Listener的TCP / IP端口号。该数字可以在Oracle Net Listener使用的<code class="codeph">listener.ora</code>文件中找到。<code class="codeph">HOST</code>的值是运行网关的计算机的名称。该名称也可以在Oracle Net Listener使用的<code class="codeph">listener.ora</code>文件中找到。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="OTGIW1075"></a><div class="props_rev_3"><a id="GUID-9EE101AE-0FF3-4177-A962-2728E343990F" name="GUID-9EE101AE-0FF3-4177-A962-2728E343990F"></a><h4 id="OTGIW-GUID-9EE101AE-0FF3-4177-A962-2728E343990F" class="sect4">多个DRDA数据库示例：访问DB2数据</h4>
                  <div>
                     <div class="section">
                        <p>输入以下内容<code class="codeph">dg4db22</code>网关创建数据库链接：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; CREATE PUBLIC DATABASE LINK DRDA2 CONNECT TO 2“ <span class="italic">user2”</span> IDENTIFIED BY“ <span class="italic">password2</span> ”USING'new_db2_using';</pre><p>输入以下内容<code class="codeph">dg4db23</code>网关创建数据库链接：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; CREATE PUBLIC DATABASE LINK DRDA3 CONNECT TO 2 <span class="italic">“user3”</span> IDENTIFIED BY“ <span class="italic">password3”</span> USING'new_db3_using';</pre><p>创建数据库链接后，您可以验证与新DRDA数据库的连接，如下所示：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT * FROM ALL_USERS @ DRDA2;</pre><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT * FROM ALL_USERS @ DRDA3;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>