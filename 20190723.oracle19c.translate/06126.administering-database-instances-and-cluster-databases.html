<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>管理数据库实例和群集数据库</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Real Application Clusters Administration and Deployment Guide"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Real Application Clusters Administration and Deployment Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="real-application-clusters-administration-and-deployment-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-04-25T14:02:30-07:00"></meta>
      <meta name="dcterms.title" content="Real Application Clusters Administration and Deployment Guide"></meta>
      <meta name="dcterms.dateCopyrighted" content="1999, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E95728-03"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="administering-storage-in-oracle-rac.html" title="Previous" type="text/html"></link>
      <link rel="next" href="administering-oracle-rac-one-node.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="RACAD"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="administering-storage-in-oracle-rac.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="administering-oracle-rac-one-node.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Real Application Clusters管理和部署指南</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">管理数据库实例和群集数据库</li>
            </ol>
            <a id="GUID-C9DB4DCB-34B9-42F0-8AB4-33199087CE98" name="GUID-C9DB4DCB-34B9-42F0-8AB4-33199087CE98"></a><a id="RACAD900"></a>
            
            <h2 id="RACAD-GUID-C9DB4DCB-34B9-42F0-8AB4-33199087CE98" class="sect2"><span class="enumeration_chapter">3</span>管理数据库实例和群集数据库</h2>
         </header>
         <div class="ind">
            <div>
               <p>本章介绍如何管理Oracle Real Application Clusters（Oracle RAC）数据库和数据库实例。</p>
               <p>本章的主题包括：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="administering-database-instances-and-cluster-databases.html#GUID-3A46DC3A-6D07-402D-BC09-CD33E6E8484B" title="Oracle RAC数据库管理需要某些特权，并且涉及策略管理或管理员管理的部署模型。">Oracle RAC数据库管理概述</a></p>
                  </li>
                  <li>
                     <p><a href="administering-database-instances-and-cluster-databases.html#GUID-1A66952C-D02A-4465-9D7A-0EFEDF809F4E" title="您可以使用Oracle Enterprise Manager，SQL * Plus或SRVCTL启动和停止实例。">启动和停止实例和Oracle RAC数据库</a></p>
                  </li>
                  <li>
                     <p><a href="administering-database-instances-and-cluster-databases.html#GUID-57166C75-59D4-4037-81CD-8CAD753DA64D" title="管理可插拔数据库（PDB）涉及管理非CDB所需的一小部分任务。">在Oracle RAC中启动和停止PDB</a></p>
                  </li>
                  <li>
                     <p><a href="administering-database-instances-and-cluster-databases.html#GUID-7232DA64-5C34-4BD6-BBAD-A8A1782408B1" title="您可以使用SQL * Plus来验证数据库实例是否正在运行。">验证实例正在运行</a></p>
                  </li>
                  <li>
                     <p><a href="administering-database-instances-and-cluster-databases.html#GUID-64018FBD-C34F-43DC-A76B-D62DD10B2F28" title="您可以使用ALTER SYSTEM KILL SESSION语句终止特定实例上的会话。">终止特定群集实例上的会话</a></p>
                  </li>
                  <li>
                     <p><a href="administering-database-instances-and-cluster-databases.html#GUID-395DE0A5-6892-4988-B7F0-19D621DF2EB3" title="Oracle数据库会根据您的平台以特定顺序搜索参数文件。对于Oracle RAC数据库，您可以使用srvctl config database命令轻松确定参数文件的位置。Oracle建议您定期备份服务器参数文件以进行恢复。">Oracle RAC中的初始化参数文件概述</a></p>
                  </li>
                  <li>
                     <p><a href="administering-database-instances-and-cluster-databases.html#GUID-59DEC066-5743-4EDE-9A02-E8896005F658" title="默认情况下，大多数参数都设置为默认值，并且此值在所有实例中都相同。">初始化参数在Oracle RAC中使用</a></p>
                  </li>
                  <li>
                     <p><a href="administering-database-instances-and-cluster-databases.html#GUID-1423B27A-3FD5-4B5F-AD29-029A799E28FF" title="您可以将管理员管理的数据库转换为策略管理的数据库。">将管理员管理的数据库转换为策略管理的数据库</a></p>
                  </li>
                  <li>
                     <p><a href="administering-database-instances-and-cluster-databases.html#GUID-47567ABC-B23E-40D7-AE82-D6ADE437ED81">管理数据库服务器的内存压力</a></p>
                  </li>
                  <li>
                     <p><a href="administering-database-instances-and-cluster-databases.html#GUID-8FCC2701-0226-4E9A-BAD7-AF479291274F" title="停顿Oracle RAC数据库的过程与停顿非群集数据库相同。">停顿Oracle RAC数据库</a></p>
                  </li>
                  <li>
                     <p><a href="administering-database-instances-and-cluster-databases.html#GUID-902A9C37-6534-4675-92B5-7F3B856106B0" title="在Linux和UNIX平台上运行的Oracle RAC环境中，可以使用CLUSTER_INTERCONNECTS初始化参数指定Oracle Clusterware用于专用网络的备用互连。">在Linux和UNIX平台上管理多个群集互连</a></p>
                  </li>
                  <li>
                     <p><a href="administering-database-instances-and-cluster-databases.html#GUID-724B90C3-8A4A-4E39-B39A-C13586668B1E" title="使用这些示例可以最大限度地减少Oracle Clusterware对Oracle RAC数据库的控制，您可能需要在升级期间执行这些操作。">自定义Oracle Clusterware如何管理Oracle RAC数据库</a></p>
                  </li>
                  <li>
                     <p><a href="administering-database-instances-and-cluster-databases.html#GUID-298F829A-FE36-4FEC-9423-D0225FE39F1B" title="您可以使用Oracle Enterprise Manager Cloud Control从单个位置安装，配置和监视Oracle RAC数据库。">高级Oracle企业管理器管理</a></p>
                  </li>
               </ul>
               <div class="infoboxnotealso" id="GUID-C9DB4DCB-34B9-42F0-8AB4-33199087CE98__GUID-B7627CFD-CB1D-4626-8681-95C74DEA7077">
                  <p class="notep1">也可以看看：</p>
                  <p>有关Oracle企业管理器云控制的更多信息，请参阅Oracle企业管理器云控制联机帮助</p>
               </div>
            </div><a id="RACAD8313"></a><a id="RACAD803"></a><div class="sect2"><a id="GUID-3A46DC3A-6D07-402D-BC09-CD33E6E8484B" name="GUID-3A46DC3A-6D07-402D-BC09-CD33E6E8484B"></a><h3 id="RACAD-GUID-3A46DC3A-6D07-402D-BC09-CD33E6E8484B" class="sect3">Oracle RAC数据库管理概述</h3>
               <div>
                  <p>Oracle RAC数据库管理需要某些特权，并且涉及策略管理或管理员管理的部署模型。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-3A46DC3A-6D07-402D-BC09-CD33E6E8484B__GUID-3B6D6D57-F169-48D7-9601-D42385DB2C37">Oracle RAC数据库管理所需的权限</p>
                     <p>为了提高安全性并进一步分离管理职责，Oracle RAC数据库管理员使用SYSRAC管理权限管理Oracle RAC数据库，不再需要SYSDBA管理权限。SYSRAC管理权限是Oracle Clusterware代理代表Oracle RAC实用程序（例如SRVCTL）连接到数据库的默认模式，这意味着对于Oracle RAC数据库集群的日常管理，不需要与数据库建立SYSDBA连接。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-3A46DC3A-6D07-402D-BC09-CD33E6E8484B__GUID-305A4F0C-9ADA-4AD4-8B4F-BD1486F4901C">Oracle RAC数据库解复模型</p>
                     <p>Oracle RAC数据库支持两种不同的管理方式和部署模型：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>管理员管理的部署基于Oracle Database <span class="italic">11g第</span> 2版（11.2）之前存在的Oracle RAC部署类型，并要求您静态配置每个数据库实例以在群集中的特定节点上运行，并将数据库服务配置为使用<code class="codeph">preferred</code>和<code class="codeph">available</code>名称在属于某个数据库的特定实例上运行。
                           </p>
                        </li>
                        <li>
                           <p>策略管理部署基于<span class="italic">服务器池</span> ，其中数据库服务在服务器池中作为<span class="italic">单例</span>或<span class="italic">统一</span>在服务器池中的所有服务器上运行。数据库部署在一个或多个服务器池中，服务器池的大小决定了部署中的数据库实例数。
                           </p>
                        </li>
                     </ul>
                     <p>您可以使用管理员管理或策略管理的部署模型使用相同的命令或方法（例如DBCA或Oracle Enterprise Manager）管理数据库。所有命令和实用程序都保持向后兼容性，以支持仅支持基于管理员的管理的Oracle数据库的管理（Oracle Database <span class="italic">11g第</span> 2版（11.2）之前的Oracle数据库）。
                     </p>
                     <p>通常，数据库被定义为Oracle Clusterware中的资源。使用DBCA创建数据库或使用Rapid Home Provisioning设置数据库时，将自动创建数据库资源，或者可以通过使用SRVCTL添加数据库来手动创建数据库资源。数据库资源包含Oracle主目录，SPFILE，一个或多个服务器池以及数据库启动所需的一个或多个Oracle ASM磁盘组。您可以使用<code class="codeph">srvctl add database</code>或<code class="codeph">srvctl modify database</code>命令指定Oracle ASM磁盘组，或者，当数据库在不在此列表中的磁盘组上打开数据文件时，磁盘组将添加到列表中。
                     </p>
                     <p>数据库资源对侦听器类型也具有<span class="italic">弱启动依赖性</span> ，这意味着资源在数据库实例启动时尝试启动节点的所有侦听器。Oracle Clusterware尝试在数据库实例启动的节点上启动侦听器。依次启动侦听器会启动节点的VIP。
                     </p>
                     <p>查看管理员管理的数据库的数据库资源时，您会看到定义了与Oracle数据库同名的服务器池。此服务器池是Oracle定义的特殊服务器池（称为<span class="italic">Generic）的一部分</span> 。Oracle RAC管理通用服务器池以支持管理员管理的数据库。使用SRVCTL或DBCA添加或删除管理员管理的数据库时，Oracle RAC会创建或删除作为Generic成员的服务器池。您不能使用SRVCTL或CRSCTL命令来修改通用服务器池。
                     </p>
                     <p>使用<a href="glossary.html#GUID-40027912-D18A-41CD-896B-7C949886BFC5"><span class="xrefglossterm">策略管理的数据库</span></a>来简化动态系统的管理。策略管理允许群集和数据库随着需求的变化而扩展或缩小。如果使用策略管理的数据库，则必须在群集中的每个节点上安装Oracle主页软件。策略管理的数据库必须使用Oracle Database <span class="italic">11g第</span> 2版（11.2）或更高版本的软件，并且不能与管理员管理的数据库共存于同一服务器上。
                     </p>
                     <div class="infoboxnote" id="GUID-3A46DC3A-6D07-402D-BC09-CD33E6E8484B__GUID-66099FE8-1F38-4DE2-97DA-78DEF3D2425B">
                        <p class="notep1">注意：</p>
                        <p>您不能在同一节点上运行同一数据库的多个实例。</p>
                     </div>
                     <p>策略管理的数据库由<a href="glossary.html#GUID-23AE8FAD-90E8-4C3C-9E97-D4EE2A1179B3"><span class="xrefglossterm">基数</span></a>定义， <a href="glossary.html#GUID-23AE8FAD-90E8-4C3C-9E97-D4EE2A1179B3"><span class="xrefglossterm">基数</span></a>是您希望在正常操作期间运行的数据库实例的数量。策略管理的数据库在群集管理员在群集中创建的一个或多个数据库服务器池中运行，并且可以在不同的时间在不同的服务器上运行。策略管理数据库的每个服务器池应至少具有一个数据库服务。数据库实例在为数据库定义的服务器池中的服务器上启动。如果您将Oracle自动存储管理（Oracle ASM）与Oracle Managed Files用于数据库存储，那么，当实例启动且没有可用的重做线程时，Oracle RAC会自动启用一个并创建所需的重做日志文件并撤消表空间。客户端可以使用相同的基于SCAN的连接字符串连接到策略管理的数据库，无论他们当时正在运行哪些服务器。
                     </p>
                     <p>策略管理的数据库名为<code class="codeph"><span class="variable" translate="no">db_unique_name</span> _ <span class="variable" translate="no">cardinality</span></code> ，其中<code class="codeph"><span class="variable" translate="no">cardinality</span></code>是服务器池中服务器的基数ID。使用<code class="codeph">srvctl status database -sid</code>命令检索本地节点上的实例名称。您还可以使用<code class="codeph">srvctl modify instance</code>命令创建节点到实例名称的固定映射。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-3A46DC3A-6D07-402D-BC09-CD33E6E8484B__GUID-877572F2-1C66-4A4F-8219-F0106B01773A">为管理员管理的数据库和策略管理的数据库使用相同的群集</p>
                     <p>如果要在已托管策略管理数据库的群集上创建管理员管理的数据库，则必须仔细选择管理员管理的数据库的节点。这是因为在策略管理的服务器池中为管理员管理的数据库选择的节点将作为此过程的一部分移动到通用服务器池中。</p>
                     <p>如果选择已运行其他策略管理数据库实例的节点，则DBCA会提示您一条消息，其中列出了在DBCA创建管理员管理的数据库时将关闭的实例和服务。如果在DBCA询问“是否要继续？”时在对话框中选择“ <span class="bold">是”</span>按钮？“，由于管理员管理的数据库创建过程，您的策略管理数据库实例和服务将被关闭。
                     </p>
                     <div class="infoboxnote" id="GUID-3A46DC3A-6D07-402D-BC09-CD33E6E8484B__GUID-36973441-AD9D-4F93-B942-1E16493BB200">
                        <p class="notep1">注意：</p>
                        <p>如果使用<code class="codeph">srvctl add instance</code>命令也是如此，该命令返回类似的错误消息，指示将关闭数据库。如果还将强制选项（ <code class="codeph">-f</code> ）与<code class="codeph">srvctl add instance</code>命令一起使用，则这与在DBCA对话框中选择<span class="bold">“</span>是”相同。执行此操作会在将节点移动到通用服务器池之前关闭节点上运行的所有策略管理的数据库。
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="../dbseg/configuring-privilege-and-role-authorization.html#DBSEG-GUID-69D0614C-D24E-4EC1-958A-79D7CCA3FA3A" target="_blank"><span><cite>Oracle数据库安全指南</cite></span></a></li>
                        <li><a href="../cwadd/making-applications-highly-available-using-oracle-clusterware.html#CWADD-GUID-13400D83-3FF4-482E-B7A7-41C864A491DC" target="_blank"><span><cite>“Oracle Clusterware管理和部署指南”</cite></span></a></li>
                        <li><a href="administering-database-instances-and-cluster-databases.html#GUID-1423B27A-3FD5-4B5F-AD29-029A799E28FF" title="您可以将管理员管理的数据库转换为策略管理的数据库。">将管理员管理的数据库转换为策略管理的数据库</a></li>
                     </ul>
                  </div>
               </div><a id="RACAD7893"></a><div class="sect3"><a id="GUID-4F468ADC-D3E6-4D6F-B3AE-19BE5E5837A5" name="GUID-4F468ADC-D3E6-4D6F-B3AE-19BE5E5837A5"></a><h4 id="RACAD-GUID-4F468ADC-D3E6-4D6F-B3AE-19BE5E5837A5" class="sect4">管理Oracle RAC的工具</h4>
                  <div>
                     <p>以下部分使用您常用于管理Oracle RAC数据库和实例的三个工具来介绍Oracle RAC管理：SRVCTL实用程序，Oracle Enterprise Manager和SQL * Plus。在许多情况下，您使用这些工具以相同的方式管理Oracle RAC环境，就像使用它们管理非集群一样<a id="d11719e734" class="indexterm-anchor"></a><a id="d11719e738" class="indexterm-anchor"></a><a id="d11719e742" class="indexterm-anchor"></a> Oracle数据库：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="administering-database-instances-and-cluster-databases.html#GUID-9C50DE0C-02CF-41CB-97A5-9A0A8035F409" title="服务器控制实用程序（SRVCTL）是一个命令行界面，可用于以集中方式管理Oracle数据库。">使用SRVCTL管理Oracle RAC</a></p>
                        </li>
                        <li>
                           <p><a href="administering-database-instances-and-cluster-databases.html#GUID-24D9DF7E-630D-4FE1-BC28-0AF782BDF4D0" title="Oracle Enterprise Manager为Oracle RAC环境提供了一个集中控制点，允许您在多个集群数据库上同时执行管理任务。">使用Oracle Enterprise Manager管理Oracle RAC</a></p>
                        </li>
                        <li>
                           <p><a href="administering-database-instances-and-cluster-databases.html#GUID-65948DDA-06AA-4AB0-97DF-DF3BCF576921" title="与SRVCTL或Oracle Enterprise Manager不同，SQL * Plus是面向实例的管理工具。">使用SQL * Plus管理Oracle RAC</a></p>
                        </li>
                     </ul>
                  </div><a id="RACAD808"></a><div class="sect4"><a id="GUID-9C50DE0C-02CF-41CB-97A5-9A0A8035F409" name="GUID-9C50DE0C-02CF-41CB-97A5-9A0A8035F409"></a><h5 id="RACAD-GUID-9C50DE0C-02CF-41CB-97A5-9A0A8035F409" class="sect5">使用SRVCTL管理Oracle RAC</h5>
                     <div>
                        <p>服务器控制实用程序（SRVCTL）是一个命令行界面，可用于以集中方式管理Oracle数据库。</p>
                        <p>Oracle基于Oracle Grid，在Oracle网格基础架构中使用Oracle ASM，针对非集群环境和Oracle RAC数据库，在Oracle Database <span class="italic">11g第</span> 2版（11.2）中提供基于SRVCTL的集中式数据库管理，用于单实例Oracle数据库集群的基础架构。这样可以使用SRVCTL对所有Oracle数据库类型进行同类管理。您可以使用SRVCTL来启动和停止数据库和实例，以及删除或移动实例和服务。除了群集中的其他资源之外，您还可以使用SRVCTL添加服务和管理配置信息。
                        </p>
                        <p>使用SRVCTL在群集上执行配置操作时，SRVCTL将配置数据存储在Oracle Restart Group环境中的群集或Oracle本地注册表（OLR）中的Oracle Cluster Registry（OCR）中。SRVCTL通过配置和管理Oracle Clusterware资源来执行其他操作，例如启动和停止实例，Oracle Clusterware资源定义使用Oracle调用接口API执行数据库启动和关闭操作的代理。</p>
                        <div class="infoboxnote" id="GUID-9C50DE0C-02CF-41CB-97A5-9A0A8035F409__GUID-98504CF4-701E-4D3C-964A-AEF1BA118335">
                           <p class="notep1">注意：</p>
                           <p>如果需要数据库（或数据库实例）开始使用某些环境变量，请使用<code class="codeph">srvctl setenv</code>命令为使用SRVCTL为数据库维护的数据库配置文件设置这些变量。您不需要设置<code class="codeph">ORACLE_HOME</code>和<code class="codeph">ORACLE_SID</code>环境变量，因为SRVCTL会自动维护和设置这些参数。
                           </p>
                        </div>
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>相关话题</strong></p>
                           <ul>
                              <li><a href="server-control-utility-reference.html#GUID-3ED4DBCE-A148-462B-8A79-534A3F0D6E7D" title="默认情况下，SRVCTL安装在群集中的每个节点上。要使用SRVCTL，请登录节点的操作系统，并以区分大小写的语法输入SRVCTL命令及其参数。使用SRVCTL管理数据库，实例，集群数据库，集群数据库实例，Oracle ASM实例和磁盘组，服务，侦听器或其他集群件资源。本节包含有关对SRVCTL使用上下文相关帮助的信息。此版本中已弃用了许多SRVCTL命令和参数。Oracle Database 12c中不推荐使用单字符参数。在Oracle RAC环境中使用的SRVCTL命令的完整列表。将数据库配置添加到Oracle Clusterware。显示Oracle RAC数据库的配置或列出向Oracle Clusterware注册的所有已配置数据库。将数据库转换为Oracle RAC One Node数据库或从Oracle RAC One Node数据库转换数据库。禁用正在运行的数据库。将数据库及其服务的配置从当前版本降级到特定的较低版本。启用集群数据库及其实例。显示与数据库关联的环境变量的值。修改数据库的配置。预测特定数据库失败的后果。启动Oracle RAC One Node数据库从一个节点到另一个节点的重定位。删除数据库配置。管理群集数据库环境配置。启动集群数据库及其启用的实例，以及具有数据库实例的节点上的所有侦听器。此命令显示数据库的当前状态。停止数据库，其实例及其服务。取消设置群集数据库环境配置。更新指定的数据库以使用新的侦听器端点。将数据库及其所有服务的配置升级到运行此命令的数据库主目录版本。在许多指定节点上禁用特定磁盘组。在许多指定节点上启用特定磁盘组。预测Oracle ASM磁盘组故障的后果。从Oracle Clusterware或Oracle Restart中删除特定的Oracle ASM磁盘组资源。在许多指定节点上启动特定的Oracle ASM磁盘组资源。显示多个指定节点上特定磁盘组的状态。在许多指定节点上停止特定的Oracle ASM磁盘组资源。启动指定Oracle主目录上的所有Oracle Restart管理或Oracle Clusterware管理的资源。显示指定Oracle主目录的所有Oracle Restart管理资源或Oracle Clusterware管理资源的状态。停止从指定的Oracle主目录运行的所有Oracle Restart管理的或Oracle Clusterware管理的资源。将实例的配置添加到群集数据库配置。禁用数据库实例。启用Oracle RAC数据库的实例。对于管理员管理的数据库，此命令将数据库实例的配置从其当前节点修改为另一个节点。对于策略管理的数据库，此命令定义在数据库在指定节点上运行时要使用的实例名称。删除管理员管理的数据库实例的配置。在集群数据库中启动实例。srvctl stop instance命令停止实例并停止在指定实例上运行的任何服务。srvctl update instance命令更改实例连接的Oracle ASM实例或Oracle ASM IOServer，或者更改实例的打开模式。向集群中的每个节点添加侦听器。显示向Oracle Clusterware注册的特定侦听器的配置信息。禁用侦听器资源。启用侦听器资源。显示指定侦听器的环境变量。改变listener的几个方面预测听者失败的后果。从Oracle Clusterware或Oracle Restart中删除特定侦听器或所有侦听器的配置。管理侦听器环境配置。在特定节点上启动默认侦听器，或在Oracle Clusterware或给定节点上注册的所有节点上启动指定的侦听器。显示侦听器资源的状态。在所有节点或指定节点上停止默认侦听器或特定侦听器。取消设置侦听器的环境配置。更新侦听器以侦听新端点。添加静态或动态网络。显示群集的网络配置。修改网络的子网，网络类型或IP地址类型。预测网络故障的后果。删除网络配置。将节点应用程序配置添加到指定节点。显示群集中每个节点的VIP配置。禁用群集中所有节点上的节点应用程序。在群集中的所有节点上启用节点应用程序。显示节点应用程序配置的环境变量。修改节点应用程序的配置。删除节点应用程序配置。设置节点应用程序配置的环境变量。在节点或集群中的所有节点上启动节点级应用程序。显示节点应用程序的状态。停止群集中节点上的节点级应用程序。取消设置节点应用程序的环境配置。将Oracle Notification Service守护程序添加到Oracle Restart配置。显示Oracle Notification Service守护程序的配置信息。为Oracle重新启动安装禁用Oracle Notification Service守护程序。启用Oracle Notification Service守护程序。修改使用Oracle Restart注册的Oracle Notification Service后台驻留程序使用的端口。从Oracle Grid Infrastructure主目录中删除Oracle Notification Service。启动Oracle Notification Service守护程序。显示Oracle Notification Service守护程序的当前状态。停止Oracle Notification Service守护程序。为给定的SCAN添加Oracle Clusterware资源。默认情况下显示所有SCAN VIP的配置信息，或者显示ordinal_number标识的特定SCAN VIP。默认情况下禁用所有SCAN VIP，或者由ordinal_number标识的特定SCAN VIP。默认情况下启用所有SCAN VIP，或通过其序号识别的特定SCAN VIP。通过查找在DNS中指定的scan_name，修改SCAN VIP的数量以匹配返回的IP地址数。预测SCAN失败的后果。将特定SCAN VIP从其当前主机节点重定位到群集中的另一个节点。从所有SCAN VIP中删除Oracle Clusterware资源。默认情况下，在所有节点或群集中的特定节点上启动所有SCAN VIP或特定SCAN VIP。默认情况下显示所有SCAN VIP的状态或特定SCAN VIP。默认情况下，所有SCAN VIP都在运行或处于启动状态，或者停止由序号识别的特定SCAN VIP。为SCAN侦听器添加Oracle Clusterware资源。默认情况下显示所有SCAN侦听器的配置信息，或者显示由网络号或ordinal_number标识的特定侦听器。默认情况下禁用所有SCAN侦听器，或者按序号识别的特定侦听器。默认情况下启用所有SCAN侦听器，或由其序号标识的特定侦听器。修改SCAN侦听器以匹配SCAN VIP的侦听器，或修改SCAN侦听器端点或服务注册限制。预测SCAN侦听器失败的后果。将特定SCAN侦听器从其当前宿主节点重定位到群集中的另一个节点。从所有SCAN侦听器中删除Oracle Clusterware资源。默认情况下启动所有SCAN侦听器，或在所有节点或群集中的特定节点上启动特定侦听器。默认情况下显示所有SCAN侦听器的状态或特定侦听器。默认情况下，停止处于运行或启动状态的所有SCAN侦听器或由序号标识的特定侦听器。更新SCAN侦听器以侦听新端点。将服务器重定位到群集中的服务器池。显示特定服务器的当前状态。将服务添加到数据库并将其分配给实例。显示服务的配置。禁用服务。为Oracle Clusterware启用服务。修改服务配置。预测服务失败的后果。临时将指定的服务名称从一个指定的实例重定位到另一个指定的实例。删除服务的配置。在数据库，可插拔数据库或实例上启动服务或多个服务。显示服务的状态。跨群集数据库或指定实例全局停止一个或多个服务。添加配置为将Oracle数据库托管到群集的服务器池。显示配置信息，包括名称，最小大小，最大大小，重要性以及群集中特定服务器池的服务器名称列表（如果适用）。修改群集中的服务器池。删除特定的服务器池。显示服务器池名称，服务器池中的服务器数量，以及（可选）服务器池中服务器的名称。向节点添加虚拟IP地址（VIP）。显示群集中除用户VIP之外的所有网络上的所有VIP。禁用特定VIP.Enables特定VIP。为特定VIP设置环境变量的值。修改IP地址类型，但您也可以使用它来修改IP地址。预测VIP失败的后果。将特定VIP从其当前主机节点重定位到群集中的另一个节点。删除特定的VIP。管理群集VIP环境配置。在特定节点上启动特定VIP或VIP。显示特定节点上特定VIP或VIP的状态。停止特定节点上的特定VIP或所有VIP，包括因故障转移而重新定位的任何VIP。取消设置指定群集VIP的环境配置。显示特定卷或所有卷的配置。禁用特定卷或所有卷的Oracle Clusterware管理。为特定卷或所有卷启用Oracle Clusterware管理。删除特定卷。启动特定的启用卷。显示特定卷或所有卷的状态。停止特定的运行卷。">Server Control Utility Reference</a></li>
                           </ul>
                        </div>
                     </div>
                  </div><a id="RACAD804"></a><div class="sect4"><a id="GUID-24D9DF7E-630D-4FE1-BC28-0AF782BDF4D0" name="GUID-24D9DF7E-630D-4FE1-BC28-0AF782BDF4D0"></a><h5 id="RACAD-GUID-24D9DF7E-630D-4FE1-BC28-0AF782BDF4D0" class="sect5">使用Oracle Enterprise Manager管理Oracle RAC</h5>
                     <div>
                        <p>Oracle Enterprise Manager为Oracle RAC环境提供了一个集中控制点，允许您在多个集群数据库上同时执行管理任务。</p>
                        <p>基于Oracle企业管理云控制（网格控制Oracle企业管理11 <span class="italic">克</span> ）的图形用户界面（GUI），可以同时管理非聚集和Oracle RAC环境。
                        </p>
                        <p>在Oracle Enterprise Manager中，Oracle RAC特定的管理任务通常集中在两个级别：影响整个<a href="glossary.html#GUID-5D32446E-2961-496F-BDE1-FE5E9C119DA0"><span class="xrefglossterm">集群数据库的</span></a>任务和影响特定实例的任务。例如，您可以使用Oracle Enterprise Manager启动，停止和监视数据库，群集数据库实例及其侦听器，以及计划作业或设置度量标准的警报阈值。或者，您可以执行特定于实例的命令，例如设置参数或创建资源计划。您还可以使用Oracle Enterprise Manager来管理架构，安全性和群集数据库存储功能。
                        </p>
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>相关话题</strong></p>
                           <ul>
                              <li><a href="administering-database-instances-and-cluster-databases.html#GUID-298F829A-FE36-4FEC-9423-D0225FE39F1B" title="您可以使用Oracle Enterprise Manager Cloud Control从单个位置安装，配置和监视Oracle RAC数据库。">高级Oracle企业管理器管理</a></li>
                           </ul>
                        </div>
                     </div>
                  </div><a id="RACAD806"></a><div class="sect4"><a id="GUID-65948DDA-06AA-4AB0-97DF-DF3BCF576921" name="GUID-65948DDA-06AA-4AB0-97DF-DF3BCF576921"></a><h5 id="RACAD-GUID-65948DDA-06AA-4AB0-97DF-DF3BCF576921" class="sect5">使用SQL * Plus管理Oracle RAC</h5>
                     <div>
                        <p>与SRVCTL或Oracle Enterprise Manager不同，SQL * Plus是面向实例的管理工具。</p>
                        <p>SQL * Plus命令在当前实例上运行。当前实例可以是您启动SQL * Plus会话的本地默认实例，也可以是您与Oracle Net Services连接的远程实例。对于同时在一个数据库上运行多个实例的Oracle RAC环境，这意味着您需要考虑SQL * Plus在此实例上的操作范围。由于这些限制，您不应使用SQL * Plus来管理策略管理的数据库。</p>
                        <p>例如，在使用可插拔数据库（PDB）时 - 无论这些数据库是以管理员管理还是策略管理的方式管理 - 您必须考虑默认情况下使用SQL * Plus连接在PDB上执行的任何更改都将默认，只影响当前实例。要进行影响属于PDB的所有实例的更改，必须使用带有<code class="codeph">instance=all</code>的<code class="codeph">ALTER PLUGGABLE DATABASE</code>命令。使用PDB时，必须使用动态数据库服务（ <code class="codeph"><span class="variable" translate="no">net_service_name</span></code> ）将其连接到实例，因为PDB将自身表示为与Oracle RAC数据库的一个或多个实例关联的动态数据库服务。
                        </p>
                        <p>因为，默认情况下，SQL * Plus提示符不标识当前实例，因此应将命令定向到正确的实例。启动SQL * Plus会话并连接到数据库而不指定实例会将所有SQL * Plus命令定向到本地实例。在这种情况下，默认实例也是当前实例。</p>
                        <p>由于SQL * Plus提示默认不识别当前实例，因此应将命令定向到正确的实例。启动SQL * Plus会话并连接到数据库而不指定实例会将所有SQL * Plus命令定向到本地实例。在这种情况下，默认实例也是当前实例。要连接到SQL * Plus中的其他实例，请发出新的<code class="codeph">CONNECT</code>命令并指定远程实例网络服务名称，如以下示例所示，其中<code class="codeph"><span class="variable" translate="no">password</span></code>是密码：</p><pre class="pre codeblock"><code>CONNECT <span class="variable" translate="no">user_name</span> @ <span class="variable" translate="no">net_service_name</span>输入密码： <span class="variable" translate="no">password</span></code></pre><p>通过<code class="codeph">SYSOPER</code>或<code class="codeph">SYSRAC</code>连接，可以执行特权操作，例如实例启动和关闭。多个SQL * Plus会话可以同时连接到同一个实例。每当您连接到另一个实例时，SQL * Plus会自动断开您与第一个实例的连接。
                        </p>
                        <div class="infoboxnote" id="GUID-65948DDA-06AA-4AB0-97DF-DF3BCF576921__GUID-880075EB-A5D4-48B2-B6B8-B1C60EC42353">
                           <p class="notep1">注意：</p>
                           <p>使用<code class="codeph">SYSASM</code>权限而不是<code class="codeph">SYSRAC</code>权限连接和管理Oracle ASM实例。如果使用<code class="codeph">SYSRAC</code>权限连接到Oracle ASM实例，则Oracle数据库会将警告写入警报日志文件，因为不建议使用在Oracle ASM实例上使用<code class="codeph">SYSRAC</code>特权运行的命令。
                           </p>
                        </div>
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>相关话题</strong></p>
                           <ul>
                              <li><a href="../admin/index.html" target="_blank"><span><cite>Oracle数据库管理员指南</cite></span></a></li>
                              <li><a href="../ostmg/authenticate-access-asm-instance.html#OSTMG-GUID-1A4E79BE-7D26-4FAC-BC11-B6C2F677A41F" target="_blank"><span><cite>Oracle自动存储管理管理员指南</cite></span></a></li>
                              <li><a href="../netag/configuring-naming-methods.html#NETAG-GUID-E5358DEA-D619-4B7B-A799-3D2F802500F1" target="_blank"><span><cite>Oracle数据库网络服务管理员指南</cite></span></a></li>
                              <li><a href="../multi/administering-pdbs-with-sql-plus.html#GUID-E73BCAED-FF57-474A-A8C5-207D3F465413" target="_blank"><span><cite>Oracle数据库管理员指南</cite></span></a></li>
                           </ul>
                        </div>
                     </div><a id="RACAD7683"></a><a id="RACAD039"></a><div class="sect5"><a id="GUID-8BAC72B2-20AA-49FC-B3DD-F5FC647C3E5E" name="GUID-8BAC72B2-20AA-49FC-B3DD-F5FC647C3E5E"></a><h6 id="RACAD-GUID-8BAC72B2-20AA-49FC-B3DD-F5FC647C3E5E" class="sect6">SQL * Plus命令如何影响实例</h6>
                        <div>
                           <p>大多数SQL语句都会影响当前实例。您可以使用SQL * Plus在Oracle RAC数据库中启动和停止实例。您无需在Linux和UNIX系统上以<code class="codeph">root</code>身份运行SQL * Plus命令，也无需在Windows系统上以<code class="codeph">Administrator</code>身份运行SQL * Plus命令。您只需要具有通常用于非群集Oracle数据库的权限的正确数据库帐户。SQL * Plus命令如何影响实例的一些示例如下：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">ALTER SYSTEM CHECKPOINT LOCAL</code>仅影响您当前连接的实例，而不是默认实例或所有实例。 <a id="d11719e1552" class="indexterm-anchor"></a><a id="d11719e1556" class="indexterm-anchor"></a> 
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">ALTER SYSTEM CHECKPOINT</code>或<code class="codeph">ALTER SYSTEM CHECKPOINT GLOBAL</code>影响集群数据库中的<span class="italic">所有</span>实例。<a id="d11719e1572" class="indexterm-anchor"></a><a id="d11719e1576" class="indexterm-anchor"></a><a id="d11719e1580" class="indexterm-anchor"></a><a id="d11719e1584" class="indexterm-anchor"></a></p>
                              </li>
                              <li>
                                 <p><code class="codeph">ALTER SYSTEM SWITCH LOGFILE</code>仅影响当前实例。
                                 </p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p>要强制进行全局日志切换，请使用<a id="d11719e1597" class="indexterm-anchor"></a> <code class="codeph">ALTER SYSTEM ARCHIVE LOG CURRENT</code>语句。
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">ALTER SYSTEM ARCHIVE LOG</code>的<code class="codeph">INSTANCE</code>选项使您可以归档特定实例的每个联机重做日志文件。<a id="d11719e1611" class="indexterm-anchor"></a><a id="d11719e1613" class="indexterm-anchor"></a><a id="d11719e1615" class="indexterm-anchor"></a><a id="d11719e1617" class="indexterm-anchor"></a></p>
                                    </li>
                                 </ul>
                              </li>
                           </ul>
                           <p><a href="administering-database-instances-and-cluster-databases.html#GUID-8BAC72B2-20AA-49FC-B3DD-F5FC647C3E5E__CHDBHEDB" title="SQL * Plus命令如何影响实例">表3-1</a>描述了SQL * Plus命令的方式<a id="d11719e1627" class="indexterm-anchor"></a><a id="d11719e1633" class="indexterm-anchor"></a>影响实例。
                           </p>
                           <div class="tblformal" id="GUID-8BAC72B2-20AA-49FC-B3DD-F5FC647C3E5E__CHDBHEDB">
                              <p class="titleintable">表3-1 SQL * Plus命令如何影响实例</p>
                              <table cellpadding="4" cellspacing="0" class="Formal" title="SQL * Plus命令如何影响实例" width="100%" border="1" summary="How SQL*Plus Commands Affect Instances" frame="hsides" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="27%" id="d11719e1648">SQL * Plus命令</th>
                                       <th align="left" valign="bottom" width="73%" id="d11719e1652">相关实例</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="27%" id="d11719e1658" headers="d11719e1648 "><pre class="oac_no_warn" dir="ltr"><a id="d11719e1660" class="indexterm-anchor"></a>存档日志</pre></td>
                                       <td align="left" valign="top" width="73%" headers="d11719e1658 d11719e1652 ">
                                          <p>始终影响当前实例。</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="27%" id="d11719e1669" headers="d11719e1648 "><pre class="oac_no_warn" dir="ltr"><a id="d11719e1671" class="indexterm-anchor"></a> CONNECT</pre></td>
                                       <td align="left" valign="top" width="73%" headers="d11719e1669 d11719e1652 ">
                                          <p>如果<code class="codeph">CONNECT</code>命令中未指定实例，则会影响默认实例<a id="d11719e1682" class="indexterm-anchor"></a> 。
                                          </p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="27%" id="d11719e1686" headers="d11719e1648 "><pre class="oac_no_warn" dir="ltr"><a id="d11719e1688" class="indexterm-anchor"></a>主办</pre></td>
                                       <td align="left" valign="top" width="73%" headers="d11719e1686 d11719e1652 ">
                                          <p>无论当前和默认实例的位置如何，都会影响运行SQL * Plus会话的节点。<a id="d11719e1696" class="indexterm-anchor"></a></p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="27%" id="d11719e1699" headers="d11719e1648 "><pre class="oac_no_warn" dir="ltr"><a id="d11719e1701" class="indexterm-anchor"></a>恢复</pre></td>
                                       <td align="left" valign="top" width="73%" headers="d11719e1699 d11719e1652 ">
                                          <p>不影响任何特定实例，而是影响数据库<a id="d11719e1709" class="indexterm-anchor"></a> 。
                                          </p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="27%" id="d11719e1713" headers="d11719e1648 "><pre class="oac_no_warn" dir="ltr"><a id="d11719e1715" class="indexterm-anchor"></a>显示实例</pre></td>
                                       <td align="left" valign="top" width="73%" headers="d11719e1713 d11719e1652 ">
                                          <p>显示有关当前实例的信息，该信息可以与默认本地实例不同<a id="d11719e1723" class="indexterm-anchor"></a>如果您已将命令重定向到远程实例。
                                          </p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="27%" id="d11719e1727" headers="d11719e1648 "><pre class="oac_no_warn" dir="ltr"><a id="d11719e1729" class="indexterm-anchor"></a>显示参数</pre><p>和</p><pre class="oac_no_warn" dir="ltr"><a id="d11719e1737" class="indexterm-anchor"></a>显示SGA</pre></td>
                                       <td align="left" valign="top" width="73%" headers="d11719e1727 d11719e1652 ">
                                          <p>显示当前的参数和SGA信息<a id="d11719e1745" class="indexterm-anchor"></a>例<a id="d11719e1748" class="indexterm-anchor"></a> 。
                                          </p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="27%" id="d11719e1752" headers="d11719e1648 "><pre class="oac_no_warn" dir="ltr"><a id="d11719e1754" class="indexterm-anchor"></a>启动</pre><p>和</p><pre class="oac_no_warn" dir="ltr"><a id="d11719e1762" class="indexterm-anchor"></a>关掉</pre></td>
                                       <td align="left" valign="top" width="73%" headers="d11719e1752 d11719e1652 ">
                                          <p>始终影响当前实例。这些是特权SQL * Plus命令。</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                        </div>
                     </div>
                  </div>
               </div>
            </div><a id="RACAD8965"></a><a id="RACAD801"></a><div class="sect2"><a id="GUID-1A66952C-D02A-4465-9D7A-0EFEDF809F4E" name="GUID-1A66952C-D02A-4465-9D7A-0EFEDF809F4E"></a><h3 id="RACAD-GUID-1A66952C-D02A-4465-9D7A-0EFEDF809F4E" class="sect3">启动和停止实例和Oracle RAC数据库</h3>
               <div>
                  <p>您可以使用Oracle Enterprise Manager，SQL * Plus或SRVCTL启动和停止实例。</p>
                  <p>Oracle Enterprise Manager和SRVCTL都提供了通过一个步骤启动和停止Oracle RAC数据库中所有实例的选项。</p>
                  <p>使用任何工具，您可以选择要启动数据库的启动状态。数据库和数据库实例的状态将确定您可以执行的操作。仅当数据库处于MOUNT（NOMOUNT）状态时，才能执行某些操作。执行其他操作需要数据库处于OPEN状态。</p>
                  <div class="infoboxnote" id="GUID-1A66952C-D02A-4465-9D7A-0EFEDF809F4E__GUID-0C695242-E23E-45D0-AE0C-218B6A48262E">
                     <p class="notep1">注意：</p>
                     <p>Oracle不支持在同一节点上运行同一数据库的多个实例。</p>
                  </div>
                  <p>要在群集中的节点上启动Oracle RAC数据库实例，必须首先在节点上启动Oracle Grid Infrastructure堆栈。Oracle RAC数据库实例无法在未运行Oracle Grid Infrastructure堆栈的服务器上启动。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-1A66952C-D02A-4465-9D7A-0EFEDF809F4E__GUID-20394B29-7AC8-4D4D-AFE9-80E6FA1028B1">Oracle数据库QoS管理策略工作负载关键性确定数据库启动顺序</p>
                  </div>
                  <!-- class="section" -->
                  <p>如果用户创建的Oracle数据库服务质量管理（Oracle数据库QoS管理）策略处于活动状态，则性能类的排序顺序将确定关联的Oracle RAC数据库启动或请求实时LMS进程槽的顺序。使用性能类排名可确保在整合环境中运行的关键任务数据库使其LMS进程实时运行，从而消除节点间通信中的资源瓶颈。由于Oracle数据库QoS管理策略指定了每个工作负载的等级，因此使用每个数据库的<code class="codeph">Max(Ranks)</code>值可以提供每个数据库表达的业务关键性的一致表达式。
                  </p>
                  <p>以下各节中的过程讨论启动和停止Oracle RAC数据库实例：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="administering-database-instances-and-cluster-databases.html#GUID-DD4526A0-F895-4725-94F5-7049884E87D6" title="使用SRVCTL启动Oracle RAC数据库和实例。">使用SRVCTL启动一个或多个实例和Oracle RAC数据库</a></p>
                     </li>
                     <li>
                        <p><a href="administering-database-instances-and-cluster-databases.html#GUID-B3DEBED2-5FA5-4D0C-8DEC-05E9D978F99C" title="使用SRVCTL停止实例和Oracle RAC数据库。">使用SRVCTL停止一个或多个实例和Oracle RAC数据库</a></p>
                     </li>
                     <li>
                        <p><a href="administering-database-instances-and-cluster-databases.html#GUID-B3BB6D75-C02F-4E97-B50A-210EBC214067">使用CRSCTL停止所有数据库和实例</a></p>
                     </li>
                     <li>
                        <p><a href="administering-database-instances-and-cluster-databases.html#GUID-F55A16C0-F8B8-4CE6-9FC4-6349DC98F9AF" title="如果要仅启动或停止一个实例并且已连接到本地节点，则必须首先确保当前环境包含本地实例的SID。">使用SQL * Plus启动和停止单个实例</a></p>
                     </li>
                  </ul>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="../cncpt/oracle-database-instance.html#CNCPT-GUID-5FCFB104-8365-4E7B-87A1-736E65D6658F" target="_blank"><span><cite>Oracle数据库概念</cite></span></a></li>
                     </ul>
                  </div>
               </div><a id="RACAD8909"></a><div class="sect3"><a id="GUID-DD4526A0-F895-4725-94F5-7049884E87D6" name="GUID-DD4526A0-F895-4725-94F5-7049884E87D6"></a><h4 id="RACAD-GUID-DD4526A0-F895-4725-94F5-7049884E87D6" class="sect4">使用SRVCTL启动一个或多个实例和Oracle RAC数据库</h4>
                  <div>
                     <p>使用SRVCTL启动Oracle RAC数据库和实例。</p>
                     <div class="infoboxnote" id="GUID-DD4526A0-F895-4725-94F5-7049884E87D6__GUID-1890CD19-7894-4EDF-9E43-407BF7C5316D">
                        <p class="notep1">注意：</p>
                        <p>本节假定您正在为数据库使用SPFILE。</p>
                     </div>
                     <p>从命令行输入以下SRVCTL语法，提供所需的数据库名称和实例名称，或包含多个实例名称以启动多个特定实例：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>要启动或停止整个群集数据库（即所有实例及其启用的服务），请输入以下SRVCTL命令：</p><pre class="pre codeblock"><code>$ srvctl start database -db <span class="variable" translate="no">db_unique_name</span> [-startoption <span class="variable" translate="no">start_options</span> ]</code></pre><pre class="pre codeblock"><code>$ srvctl stop database -db <span class="variable" translate="no">db_unique_name</span> [-o <span class="variable" translate="no">stop_options</span> ]</code></pre><p>例如，以下SRVCTL命令将挂载Oracle RAC数据库的所有未运行实例：</p><pre class="pre codeblock"><code>$ srvctl启动数据库-db orcl -startoption mount</code></pre></li>
                        <li>
                           <p>要启动管理员管理的数据库，请输入以逗号分隔的实例名称列表：</p><pre class="pre codeblock"><code>$ srvctl start instance -db <span class="variable" translate="no">db_unique_name</span> -instance <span class="variable" translate="no">instance_name_list</span> [-startoption <span class="variable" translate="no">start_options</span> ]</code></pre><p>在Windows中，您必须用双引号（ <code class="codeph">""</code> ）括住逗号分隔的列表。
                           </p>
                        </li>
                        <li>
                           <p>要启动策略管理的数据库，请输入单个节点名称：</p><pre class="pre codeblock"><code>$ srvctl start instance -db <span class="variable" translate="no">db_unique_name</span> -node <span class="variable" translate="no">node_name</span> [-startoption <span class="variable" translate="no">start_options</span> ]</code></pre><p>请注意，此命令还会启动具有<code class="codeph">AUTOMATIC</code>管理策略且数据库角色与其中一个服务角色匹配的已启用和未运行的服务。
                           </p>
                        </li>
                        <li>
                           <p>要停止一个或多个实例，请从命令行输入以下SRVCTL语法：</p><pre class="pre codeblock"><code>$ srvctl stop instance -db <span class="variable" translate="no">db_unique_name</span> [-instance“ <span class="variable" translate="no">instance_name_list</span> ”| -node <span class="variable" translate="no">node_name</span> ] [-stopoption <span class="variable" translate="no">stop_options</span> ]</code></pre><p>您可以输入以逗号分隔的实例名称列表来停止多个实例，也可以输入节点名称来停止一个实例。在Windows中，您必须用双引号（ <code class="codeph">""</code> ）括住逗号分隔的列表。
                           </p>
                        </li>
                     </ul>
                     <p>此命令还会停止与运行实例的节点上的已终止实例相关的服务。例如，以下命令使用<code class="codeph">immediate</code> stop选项关闭<code class="codeph">orcl</code>数据库上的两个实例<code class="codeph">orcl3</code>和<code class="codeph">orcl4</code> ：</p><pre class="pre codeblock"><code>$ srvctl stop instance -db orcl -instance“orcl3，orcl4”-stopoption immediate</code></pre></div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="server-control-utility-reference.html#GUID-3ED4DBCE-A148-462B-8A79-534A3F0D6E7D" title="默认情况下，SRVCTL安装在群集中的每个节点上。要使用SRVCTL，请登录节点的操作系统，并以区分大小写的语法输入SRVCTL命令及其参数。使用SRVCTL管理数据库，实例，集群数据库，集群数据库实例，Oracle ASM实例和磁盘组，服务，侦听器或其他集群件资源。本节包含有关对SRVCTL使用上下文相关帮助的信息。此版本中已弃用了许多SRVCTL命令和参数。Oracle Database 12c中不推荐使用单字符参数。在Oracle RAC环境中使用的SRVCTL命令的完整列表。将数据库配置添加到Oracle Clusterware。显示Oracle RAC数据库的配置或列出向Oracle Clusterware注册的所有已配置数据库。将数据库转换为Oracle RAC One Node数据库或从Oracle RAC One Node数据库转换数据库。禁用正在运行的数据库。将数据库及其服务的配置从当前版本降级到特定的较低版本。启用集群数据库及其实例。显示与数据库关联的环境变量的值。修改数据库的配置。预测特定数据库失败的后果。启动Oracle RAC One Node数据库从一个节点到另一个节点的重定位。删除数据库配置。管理群集数据库环境配置。启动集群数据库及其启用的实例，以及具有数据库实例的节点上的所有侦听器。此命令显示数据库的当前状态。停止数据库，其实例及其服务。取消设置群集数据库环境配置。更新指定的数据库以使用新的侦听器端点。将数据库及其所有服务的配置升级到运行此命令的数据库主目录版本。在许多指定节点上禁用特定磁盘组。在许多指定节点上启用特定磁盘组。预测Oracle ASM磁盘组故障的后果。从Oracle Clusterware或Oracle Restart中删除特定的Oracle ASM磁盘组资源。在许多指定节点上启动特定的Oracle ASM磁盘组资源。显示多个指定节点上特定磁盘组的状态。在许多指定节点上停止特定的Oracle ASM磁盘组资源。启动指定Oracle主目录上的所有Oracle Restart管理或Oracle Clusterware管理的资源。显示指定Oracle主目录的所有Oracle Restart管理资源或Oracle Clusterware管理资源的状态。停止从指定的Oracle主目录运行的所有Oracle Restart管理的或Oracle Clusterware管理的资源。将实例的配置添加到群集数据库配置。禁用数据库实例。启用Oracle RAC数据库的实例。对于管理员管理的数据库，此命令将数据库实例的配置从其当前节点修改为另一个节点。对于策略管理的数据库，此命令定义在数据库在指定节点上运行时要使用的实例名称。删除管理员管理的数据库实例的配置。在集群数据库中启动实例。srvctl stop instance命令停止实例并停止在指定实例上运行的任何服务。srvctl update instance命令更改实例连接的Oracle ASM实例或Oracle ASM IOServer，或者更改实例的打开模式。向集群中的每个节点添加侦听器。显示向Oracle Clusterware注册的特定侦听器的配置信息。禁用侦听器资源。启用侦听器资源。显示指定侦听器的环境变量。改变listener的几个方面预测听者失败的后果。从Oracle Clusterware或Oracle Restart中删除特定侦听器或所有侦听器的配置。管理侦听器环境配置。在特定节点上启动默认侦听器，或在Oracle Clusterware或给定节点上注册的所有节点上启动指定的侦听器。显示侦听器资源的状态。在所有节点或指定节点上停止默认侦听器或特定侦听器。取消设置侦听器的环境配置。更新侦听器以侦听新端点。添加静态或动态网络。显示群集的网络配置。修改网络的子网，网络类型或IP地址类型。预测网络故障的后果。删除网络配置。将节点应用程序配置添加到指定节点。显示群集中每个节点的VIP配置。禁用群集中所有节点上的节点应用程序。在群集中的所有节点上启用节点应用程序。显示节点应用程序配置的环境变量。修改节点应用程序的配置。删除节点应用程序配置。设置节点应用程序配置的环境变量。在节点或集群中的所有节点上启动节点级应用程序。显示节点应用程序的状态。停止群集中节点上的节点级应用程序。取消设置节点应用程序的环境配置。将Oracle Notification Service守护程序添加到Oracle Restart配置。显示Oracle Notification Service守护程序的配置信息。为Oracle重新启动安装禁用Oracle Notification Service守护程序。启用Oracle Notification Service守护程序。修改使用Oracle Restart注册的Oracle Notification Service后台驻留程序使用的端口。从Oracle Grid Infrastructure主目录中删除Oracle Notification Service。启动Oracle Notification Service守护程序。显示Oracle Notification Service守护程序的当前状态。停止Oracle Notification Service守护程序。为给定的SCAN添加Oracle Clusterware资源。默认情况下显示所有SCAN VIP的配置信息，或者显示ordinal_number标识的特定SCAN VIP。默认情况下禁用所有SCAN VIP，或者由ordinal_number标识的特定SCAN VIP。默认情况下启用所有SCAN VIP，或通过其序号识别的特定SCAN VIP。通过查找在DNS中指定的scan_name，修改SCAN VIP的数量以匹配返回的IP地址数。预测SCAN失败的后果。将特定SCAN VIP从其当前主机节点重定位到群集中的另一个节点。从所有SCAN VIP中删除Oracle Clusterware资源。默认情况下，在所有节点或群集中的特定节点上启动所有SCAN VIP或特定SCAN VIP。默认情况下显示所有SCAN VIP的状态或特定SCAN VIP。默认情况下，所有SCAN VIP都在运行或处于启动状态，或者停止由序号识别的特定SCAN VIP。为SCAN侦听器添加Oracle Clusterware资源。默认情况下显示所有SCAN侦听器的配置信息，或者显示由网络号或ordinal_number标识的特定侦听器。默认情况下禁用所有SCAN侦听器，或者按序号识别的特定侦听器。默认情况下启用所有SCAN侦听器，或由其序号标识的特定侦听器。修改SCAN侦听器以匹配SCAN VIP的侦听器，或修改SCAN侦听器端点或服务注册限制。预测SCAN侦听器失败的后果。将特定SCAN侦听器从其当前宿主节点重定位到群集中的另一个节点。从所有SCAN侦听器中删除Oracle Clusterware资源。默认情况下启动所有SCAN侦听器，或在所有节点或群集中的特定节点上启动特定侦听器。默认情况下显示所有SCAN侦听器的状态或特定侦听器。默认情况下，停止处于运行或启动状态的所有SCAN侦听器或由序号标识的特定侦听器。更新SCAN侦听器以侦听新端点。将服务器重定位到群集中的服务器池。显示特定服务器的当前状态。将服务添加到数据库并将其分配给实例。显示服务的配置。禁用服务。为Oracle Clusterware启用服务。修改服务配置。预测服务失败的后果。临时将指定的服务名称从一个指定的实例重定位到另一个指定的实例。删除服务的配置。在数据库，可插拔数据库或实例上启动服务或多个服务。显示服务的状态。跨群集数据库或指定实例全局停止一个或多个服务。添加配置为将Oracle数据库托管到群集的服务器池。显示配置信息，包括名称，最小大小，最大大小，重要性以及群集中特定服务器池的服务器名称列表（如果适用）。修改群集中的服务器池。删除特定的服务器池。显示服务器池名称，服务器池中的服务器数量，以及（可选）服务器池中服务器的名称。向节点添加虚拟IP地址（VIP）。显示群集中除用户VIP之外的所有网络上的所有VIP。禁用特定VIP.Enables特定VIP。为特定VIP设置环境变量的值。修改IP地址类型，但您也可以使用它来修改IP地址。预测VIP失败的后果。将特定VIP从其当前主机节点重定位到群集中的另一个节点。删除特定的VIP。管理群集VIP环境配置。在特定节点上启动特定VIP或VIP。显示特定节点上特定VIP或VIP的状态。停止特定节点上的特定VIP或所有VIP，包括因故障转移而重新定位的任何VIP。取消设置指定群集VIP的环境配置。显示特定卷或所有卷的配置。禁用特定卷或所有卷的Oracle Clusterware管理。为特定卷或所有卷启用Oracle Clusterware管理。删除特定卷。启动特定的启用卷。显示特定卷或所有卷的状态。停止特定的运行卷。">Server Control Utility Reference</a></li>
                        </ul>
                     </div>
                  </div>
               </div><a id="RACAD8910"></a><div class="sect3"><a id="GUID-B3DEBED2-5FA5-4D0C-8DEC-05E9D978F99C" name="GUID-B3DEBED2-5FA5-4D0C-8DEC-05E9D978F99C"></a><h4 id="RACAD-GUID-B3DEBED2-5FA5-4D0C-8DEC-05E9D978F99C" class="sect4">使用SRVCTL停止一个或多个实例和Oracle RAC数据库</h4>
                  <div>
                     <p>使用SRVCTL停止实例和Oracle RAC数据库。</p>
                     <p>关闭Oracle RAC实例的过程与关闭非群集Oracle数据库中的实例完全相同，但以下情况除外：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>在Oracle RAC中，关闭一个实例不会干扰其他正在运行的实例的操作。</p>
                        </li>
                        <li>
                           <p>要完全关闭Oracle RAC数据库，请关闭打开或装入数据库的每个实例。</p>
                        </li>
                        <li>
                           <p>在<code class="codeph">NORMAL</code>或<code class="codeph">IMMEDIATE</code>关闭后，不需要实例恢复。但是，在发出<code class="codeph">SHUTDOWN ABORT</code>命令或实例异常终止后，需要进行恢复。仍在运行的实例会为关闭的实例执行实例恢复。如果没有其他实例正在运行，则打开数据库的下一个实例将为需要它的任何实例执行实例恢复。
                           </p>
                        </li>
                        <li>
                           <p>使用<a id="d11719e2510" class="indexterm-anchor"></a>带有<code class="codeph">LOCAL</code>选项的<code class="codeph">SHUTDOWN TRANSACTIONAL</code>命令对于关闭特定的Oracle RAC数据库实例很有用。其他实例上的事务不会阻止此操作。如果省略<code class="codeph">LOCAL</code>选项，则此操作将等待，直到您运行<code class="codeph">SHUTDOWN</code>命令之前启动的所有其他实例上的事务提交或回滚，这是一种有效的方法，如果您打算关闭Oracle RAC数据库的所有实例。
                           </p>
                           <div class="infoboxnote" id="GUID-B3DEBED2-5FA5-4D0C-8DEC-05E9D978F99C__GUID-76E79265-D88B-4B54-B5E8-2B394FB95B80">
                              <p class="notep1">注意：</p>
                              <p><code class="codeph">SHUTDOWN TRANSACTIONAL</code>和<code class="codeph">SHUTDOWN TRANSACTIONAL LOCAL</code>在非集群数据库上执行相同的操作，但这两个命令在Oracle RAC数据库上是不同的。
                              </p>
                           </div>
                        </li>
                     </ul>
                     <p>使用SRVCTL关闭Oracle RAC数据库或数据库实例。相应的SRVCTL命令（ <code class="codeph">srvctl stop database</code>或<code class="codeph">srvctl stop instance</code> ）提供关闭选项以执行优化的事务关闭。使用<code class="codeph">TRANSACTIONAL</code>与停止选项<code class="codeph">srvctl stop database</code>命令和<code class="codeph">TRANSACTIONAL LOCAL</code>与停止选项<code class="codeph">srvctl stop instance</code>命令。
                     </p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="server-control-utility-reference.html#GUID-9A08F16D-0AA7-4719-A7BB-2562A7F33016" title="停止数据库，其实例及其服务。">srvctl停止数据库</a></li>
                           <li><a href="server-control-utility-reference.html#GUID-6329CE4F-DDCF-47C8-905E-A58E6000F486">srvctl停止实例</a></li>
                           <li><a href="../cncpt/oracle-database-instance.html#CNCPT-GUID-ADFF9AAC-EDA9-4F3C-8AD7-156BB620E812" target="_blank"><span><cite>Oracle数据库概念</cite></span></a></li>
                           <li><a href="../admin/starting-up-and-shutting-down.html#ADMIN-GUID-3661B282-5C34-4E32-BC6A-906A72712866" target="_blank"><span><cite>Oracle数据库管理员指南</cite></span></a></li>
                        </ul>
                     </div>
                  </div>
               </div><a id="RACAD8911"></a><div class="sect3"><a id="GUID-B3BB6D75-C02F-4E97-B50A-210EBC214067" name="GUID-B3BB6D75-C02F-4E97-B50A-210EBC214067"></a><h4 id="RACAD-GUID-B3BB6D75-C02F-4E97-B50A-210EBC214067" class="sect4">使用CRSCTL停止所有数据库和实例</h4>
                  <div>
                     <p>如果要停止整个节点或群集（例如，出于维护目的），则在节点上运行<code class="codeph">crsctl stop crs</code>命令或<code class="codeph">crsctl stop cluster -all</code>命令，前提是您具有所需的群集权限。这些命令将停止在服务器或群集中运行的所有数据库实例，并确保在重新启动群集后恢复其状态。使用CRSCTL还可以使Oracle Clusterware重新定位可在其他位置运行的服务和其他资源。
                     </p>
                     <p>使用这些CRSCTL命令中的任何一个来停止服务器或群集中的所有数据库实例都可能导致数据库实例停止，类似于<span class="italic">shutdown abort</span> ，这需要在启动时进行实例恢复。如果在停止群集之前使用SRVCTL手动停止数据库实例，则可以阻止<span class="italic">关闭中止</span> ，但这需要在重新启动Oracle Clusterware后手动重新启动数据库实例。
                     </p>
                  </div>
               </div><a id="RACAD8912"></a><div class="sect3"><a id="GUID-F55A16C0-F8B8-4CE6-9FC4-6349DC98F9AF" name="GUID-F55A16C0-F8B8-4CE6-9FC4-6349DC98F9AF"></a><h4 id="RACAD-GUID-F55A16C0-F8B8-4CE6-9FC4-6349DC98F9AF" class="sect4">使用SQL * Plus启动和停止单个实例</h4>
                  <div>
                     <p>如果要仅启动或停止一个实例并且已连接到本地节点，则必须首先确保当前环境包含本地实例的SID。</p>
                     <p>请注意，会话中的任何后续命令（无论是在SQL * Plus会话内部还是外部）都与相同的SID相关联。</p>
                     <div class="infoboxnote" id="GUID-F55A16C0-F8B8-4CE6-9FC4-6349DC98F9AF__GUID-4FECAF21-6973-4DA3-9A0D-C2131AC0AFF8">
                        <p class="notep1">注意：</p>
                        <p>本节假定您使用的是SPFILE。</p>
                     </div>
                     <p>要启动或关闭本地实例，请启动SQL * Plus会话并使用SYSRAC或SYSOPER权限进行连接，然后发出所需命令。例如，要在本地节点上启动并装入实例，请在SQL * Plus会话中运行以下命令：</p><pre class="pre codeblock"><code>CONNECT / AS SYSRAC STARTUP MOUNT</code></pre><div class="infoboxnote" id="GUID-F55A16C0-F8B8-4CE6-9FC4-6349DC98F9AF__GUID-34473513-617C-4C7B-BEA0-147EC60333D2">
                        <p class="notep1">注意：</p>
                        <p>如果使用Oracle ASM磁盘组，则使用SYSASM权限而不是SYSRAC权限来连接和管理Oracle ASM实例。</p>
                        <p>Oracle建议您不要使用SQL * Plus来管理Oracle RAC环境中的Oracle ASM实例。Oracle Clusterware根据需要自动管理Oracle ASM实例。如果需要手动干预，则使用相应的SRVCTL命令。</p>
                     </div>
                     <p>您可以使用Oracle Net Services在一个节点上从单个SQL * Plus会话启动多个实例。使用Net Services连接字符串依次连接到每个实例，通常是<code class="codeph">tnsnames.ora</code>文件中特定于实例的别名。
                     </p>
                     <p>例如，您可以在本地节点上使用SQL * Plus会话，通过使用实例的单个别名依次连接到每个实例来对远程节点上的两个实例执行事务关闭。假设第一个实例的别名是<code class="codeph">db1</code> ，第二个实例的别名是<code class="codeph">db2</code> 。连接到第一个实例并按如下所示关闭它：</p><pre class="pre codeblock"><code>CONNECT / @ db1 AS SYSRAC SHUTDOWN TRANSACTIONAL</code></pre><div class="infoboxnote" id="GUID-F55A16C0-F8B8-4CE6-9FC4-6349DC98F9AF__GUID-2017FE85-0E7E-4B71-86A6-CF2A171F3564">
                        <p class="notep1">注意：</p>
                        <p>要确保连接到正确的实例，必须在连接字符串中使用仅与一个实例关联的别名。如果使用连接字符串使用连接到服务的TNS别名或列出多个IP地址的Oracle Net地址，则可能未连接到要关闭的特定实例。</p>
                     </div>
                     <p>然后通过在SQL * Plus会话中输入以下内容来连接并关闭第二个实例：</p><pre class="pre codeblock"><code>CONNECT / @ db2 AS SYSRAC SHUTDOWN TRANSACTIONAL</code></pre><p>使用SQL * Plus同时启动或停止多个实例是不可能的，因此您无法使用单个SQL * Plus命令启动或停止集群数据库的所有实例。您可能希望创建一个脚本，该脚本依次连接到每个实例并启动它并将其关闭。但是，如果添加或删除实例，则必须手动维护此脚本。</p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="../ostmg/authenticate-access-asm-instance.html#OSTMG-GUID-D07029C9-339C-4E6F-BEF0-8E8EC3EE51A8" target="_blank"><span><cite>Oracle自动存储管理管理员指南</cite></span></a></li>
                           <li><a href="../sqpug/SQL-Plus-reference.html#SQPUG-GUID-C3D4A718-56AD-4872-ADFF-A216FF70EDF2" target="_blank"><span><cite>SQL * Plus用户指南和参考</cite></span></a></li>
                        </ul>
                     </div>
                  </div>
               </div>
            </div><a id="RACAD8913"></a><div class="sect2"><a id="GUID-57166C75-59D4-4037-81CD-8CAD753DA64D" name="GUID-57166C75-59D4-4037-81CD-8CAD753DA64D"></a><h3 id="RACAD-GUID-57166C75-59D4-4037-81CD-8CAD753DA64D" class="sect3">在Oracle RAC中启动和停止PDB</h3>
               <div>
                  <p>管理可插拔数据库（PDB）涉及管理非CDB所需的一小部分任务。</p>
                  <p>管理基于Oracle RAC的多租户容器数据库（CDB）与管理非CDB类似。不同之处在于，某些管理任务适用于整个CDB，一些适用于CDB根，一些适用于特定PDB。在这个任务子集中，大多数对于PDB和非CDB是相同的。但是，存在一些差异，例如修改PDB的打开模式时。此外，PDB管理员仅限于管理单个PDB，并且不受CDB中其他PDB的影响。</p>
                  <p>您可以通过管理服务来管理Oracle RAC CDB中的PDB。无论PDB是策略管理还是管理员管理，都是如此。为每个PDB分配一个动态数据库服务，以协调PDB在集群容器数据库中的实例之间的启动，停止和放置。</p>
                  <p>例如，如果您在名为<code class="codeph">prod</code>的服务器池中有一个名为<code class="codeph">raccont</code>的CDB， <code class="codeph">raccont</code>包含名为<code class="codeph">spark</code>的策略管理PDB，则使用以下命令将名为<code class="codeph">plug</code>的服务分配给此数据库：</p><pre class="pre codeblock"><code>srvctl添加服务-db raccont -pdb spark -service plug -serverpool prod</code></pre><p>服务器<code class="codeph">plug</code>在服务器池中的所有节点上统一管理。如果要将此服务作为单个服务在同一服务器池中运行，请将<code class="codeph">-cardinality singleton</code>参数与前面的命令一起使用。
                  </p>
                  <p>要打开PDB <code class="codeph">spark</code> ，必须按如下方式启动服务<code class="codeph">plug</code> ：</p><pre class="pre codeblock"><code>srvctl启动服务-db raccont -service插件</code></pre><p>要停止服务<code class="codeph">plug</code> ：</p><pre class="pre codeblock"><code>srvctl停止服务-db raccont -service插件</code></pre><p>在您使用SQL命令<code class="codeph">ALTER PLUGGABLE DATABASE <span class="variable" translate="no">PDB_NAME</span> CLOSE IMMEDIATE</code>关闭PDB之前，PDB <code class="codeph">spark</code>保持打开状态。您可以使用<code class="codeph">srvctl status service</code>命令检查数据库的<code class="codeph">srvctl status service</code> 。
                  </p>
                  <p>由于PDB是使用动态数据库服务进行管理的，因此适用典型的基于Oracle RAC的管理实践。因此，如果在托管此服务的服务器上关闭Oracle Clusterware时服务<code class="codeph">plug</code>处于联机状态，则在此服务器上重新启动Oracle Clusterware后，该服务将恢复到其原始状态。因此，与任何其他Oracle RAC数据库一样，启动PDB是自动的。
                  </p>
                  <div class="infoboxnote" id="GUID-57166C75-59D4-4037-81CD-8CAD753DA64D__GUID-0FF0BD2E-ACF4-4E6C-8D1A-8926046D8C48">
                     <p class="notep1">注意：</p>
                     <p>与SQL * Plus不同，SRVCTL在整个群集数据库上运行。因此，当定义服务同时在多个服务器上运行并且群集的当前状态允许此放置时，使用服务启动PDB同时适用于群集CDB的多个实例。</p>
                  </div>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="workload-management-with-dynamic-database-services.html#GUID-8DC4D5E0-CA9D-47BC-BAD0-8769405AFEC5" title="工作负载管理包括负载平衡，为Oracle Real Application Clusters（Oracle RAC），分布式事务处理和服务启用客户端。">使用动态数据库服务管理工作负载</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="RACAD920"></a><div class="sect2"><a id="GUID-7232DA64-5C34-4BD6-BBAD-A8A1782408B1" name="GUID-7232DA64-5C34-4BD6-BBAD-A8A1782408B1"></a><h3 id="RACAD-GUID-7232DA64-5C34-4BD6-BBAD-A8A1782408B1" class="sect3">验证实例正在运行</h3>
               <div>
                  <p>要验证数据库实例是否可用，请使用Oracle Enterprise Manager，SRVCTL或SQL * Plus。</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="administering-database-instances-and-cluster-databases.html#GUID-1A21C71D-7A5D-4845-8D0E-DC9CDFAAF07D">使用SRVCTL验证实例正在运行</a></p>
                     </li>
                     <li>
                        <p><a href="administering-database-instances-and-cluster-databases.html#GUID-6BBC485B-B5DD-4C44-A421-2A3974CFAAB0" title="您可以使用SQL * Plus来验证数据库实例是否正在运行。">使用SQL * Plus验证实例是否正在运行</a></p>
                     </li>
                  </ul>
               </div><a id="RACAD8914"></a><div class="sect3"><a id="GUID-1A21C71D-7A5D-4845-8D0E-DC9CDFAAF07D" name="GUID-1A21C71D-7A5D-4845-8D0E-DC9CDFAAF07D"></a><h4 id="RACAD-GUID-1A21C71D-7A5D-4845-8D0E-DC9CDFAAF07D" class="sect4">使用SRVCTL验证实例正在运行</h4>
                  <div>
                     <p>您可以使用SRVCTL来验证实例是否在特定数据库上运行。</p>
                     <p>以下命令提供了使用SRVCTL检查名为mail的Oracle RAC数据库的数据库实例的状态的示例：</p><pre class="oac_no_warn" dir="ltr">$ srvctl status database -db mail</pre><p>此命令返回类似于以下内容的输出：</p><pre class="oac_no_warn" dir="ltr">实例mail1正在节点上运行betal011实例mail2正在节点betal010上运行</pre><p>此外，您可以通过检查其分配的服务的可用性来检查PDB是否在群集中运行，如下所示：</p><pre class="oac_no_warn" dir="ltr">$ srvctl status service -db <span class="italic">db_unique_name</span> -service <span class="italic">service_name</span></pre></div>
               </div><a id="RACAD7684"></a><a id="RACAD8915"></a><div class="sect3"><a id="GUID-6BBC485B-B5DD-4C44-A421-2A3974CFAAB0" name="GUID-6BBC485B-B5DD-4C44-A421-2A3974CFAAB0"></a><h4 id="RACAD-GUID-6BBC485B-B5DD-4C44-A421-2A3974CFAAB0" class="sect4">使用SQL * Plus验证实例是否正在运行</h4>
                  <div>
                     <p>您可以使用SQL * Plus来验证数据库实例是否正在运行。</p>
                     <ol>
                        <li>
                           <p>在任何节点上，从SQL * Plus提示符，使用Net Services连接字符串连接到数据库实例，该字符串通常是<code class="codeph">tnsnames.ora</code>文件中特定于实例的别名。
                           </p><pre class="pre codeblock"><code>CONNECT / @ db1 as SYSRAC</code></pre></li>
                        <li>
                           <p>使用以下语句查询V $ ACTIVE_INSTANCES视图：</p><pre class="pre codeblock"><code>CONNECT SYS / as SYSRAC输入密码： <span class="italic">password</span> SELECT * FROM V $ ACTIVE_INSTANCES;</code></pre><p>此查询返回类似于以下内容的输出：</p><pre class="pre codeblock"><code>INST_NUMBER INST_NAME ----------- ----------------- 1 db1-sun：db1 2 db2-sun：db2 3 db3-sun：db3</code></pre></li>
                     </ol>
                     <p>此示例的输出列如下表所示。</p>
                     <div class="tblformal" id="GUID-6BBC485B-B5DD-4C44-A421-2A3974CFAAB0__G58991">
                        <p class="titleintable">表3-2 V $ ACTIVE_INSTANCES列的说明</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="V $ ACTIVE_INSTANCES列的说明" width="100%" border="1" summary="Descriptions of V$ACTIVE_INSTANCES Columns" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="29%" id="d11719e3692">柱</th>
                                 <th align="left" valign="bottom" width="71%" id="d11719e3695">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d11719e3700" headers="d11719e3692 "><code class="codeph">INST_NUMBER</code></td>
                                 <td align="left" valign="top" width="71%" headers="d11719e3700 d11719e3695 ">
                                    <p>标识实例编号。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d11719e3707" headers="d11719e3692 "><code class="codeph">INST_NAME</code></td>
                                 <td align="left" valign="top" width="71%" headers="d11719e3707 d11719e3695 ">
                                    <p>将主机名和实例名标识为<code class="codeph"><span class="variable" translate="no">host_name</span></code> ： <code class="codeph"><span class="variable" translate="no">instance_name</span></code> 。
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
               </div>
            </div><a id="RACAD8327"></a><a id="RACAD8328"></a><a id="RACAD8329"></a><a id="RACAD7293"></a><div class="sect2"><a id="GUID-64018FBD-C34F-43DC-A76B-D62DD10B2F28" name="GUID-64018FBD-C34F-43DC-A76B-D62DD10B2F28"></a><h3 id="RACAD-GUID-64018FBD-C34F-43DC-A76B-D62DD10B2F28" class="sect3">终止特定群集实例上的会话</h3>
               <div>
                  <p>您可以使用<code>ALTER SYSTEM KILL SESSION</code>语句终止特定实例上的会话。
                  </p>
                  <p>会话终止时，将回滚任何会话活动事务，并且会话保留的资源（例如锁和内存区域）将立即释放并可供其他会话使用。</p>
                  <p>使用<code class="codeph">ALTER SYSTEM KILL SESSION</code>语句可以在Oracle RAC环境中维护严格的应用程序服务级别协议。通常，服务级别协议的目标是在指定的时间限制内执行事务。在Oracle RAC环境中，这可能需要终止实例上的事务，并在指定的时间范围内重试另一个实例上的事务。
                  </p>
                  <div class="infoboxnote" id="GUID-64018FBD-C34F-43DC-A76B-D62DD10B2F28__GUID-93897679-4CE9-478A-BA70-DD3D4F389074">
                     <p class="notep1">注意：</p>
                     <p>如果应用程序最初使用启用了应用程序连续性的动态数据库服务来连接到数据库实例，则可以使用应用程序连续性来隐藏用户取消事务。</p>
                     <p>对于更细粒度的服务级别管理方法，Oracle建议您对所有基于Oracle RAC的数据库使用Oracle数据库服务质量管理（Oracle数据库QoS管理）。</p>
                  </div>
                  <p>要终止会话，请按照下列步骤操作：</p>
                  <ol>
                     <li>
                        <p>查询<code class="codeph">GV$SESSION</code>动态性能视图中<code class="codeph">INST_ID</code>列的值，以标识要终止的会话。
                        </p>
                     </li>
                     <li>
                        <p>发出<code class="codeph">ALTER SYSTEM KILL SESSION</code>并指定您使用<code class="codeph">GV$SESSION</code>动态性能视图标识的会话的会话索引号（SID）和序列号。
                        </p><pre class="pre codeblock"><code>KILL <span class="variable" translate="no">integer1</span> ， <span class="variable" translate="no">integer2</span> [，@ <span class="variable" translate="no">integer3</span> ]'</code></pre><ul style="list-style-type:disc">
                           <li>
                              <p>对于<code class="codeph"><span class="variable" translate="no">integer1</span></code> ，请指定SID列的值。
                              </p>
                           </li>
                           <li>
                              <p>对于<code class="codeph"><span class="variable" translate="no">integer2</span></code> ，请指定<code class="codeph">SERIAL#</code>列的值。
                              </p>
                           </li>
                           <li>
                              <p>对于可选的<code class="codeph"><span class="variable" translate="no">integer3</span></code> ，请指定要杀死的会话所在的实例的ID。您可以通过查询<code class="codeph">GV$</code>表来查找实例ID。
                              </p>
                           </li>
                        </ul>
                        <p>要使用此语句，您的实例必须打开数据库，并且您的会话和要终止的会话必须位于同一实例上，除非您指定<code class="codeph"><span class="variable" translate="no">integer3</span></code> 。
                        </p>
                     </li>
                  </ol>
                  <p>如果会话正在执行必须完成的某些活动，例如等待远程数据库的回复或回滚事务，则Oracle数据库等待此活动完成，将会话标记为已终止，然后将控制权返回给您。如果等待持续一分钟，则Oracle数据库会标记会话终止并将控制权返回给您，并显示会话标记为已终止的消息。然后，PMON后台进程将会话标记为活动完成时终止。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-64018FBD-C34F-43DC-A76B-D62DD10B2F28__GUID-7DC11EBA-3186-430B-A2D6-BFC7E5F4E20D">识别和终止会话的示例</p>
                  </div>
                  <!-- class="section" -->
                  <p>以下示例提供了三种用户识别和终止特定会话的方案。在每个示例中，SYSDBA首先查询<code class="codeph">SCOTT</code>用户会话的<code class="codeph">GV$SESSION</code>视图以标识要终止的会话，然后运行<code class="codeph">ALTER SYSTEM KILL SESSION</code>语句以终止实例上的会话。
                  </p>
                  <div class="example" id="GUID-64018FBD-C34F-43DC-A76B-D62DD10B2F28__GUID-A40B00D7-5963-4D78-8EA8-3421B9C6AB63">
                     <p class="titleinexample">示例3-1识别并终止繁忙实例上的会话</p>
                     <p>在此示例中，假设执行会话是实例<code class="codeph">INST_ID=1</code>上的<code class="codeph">SYSDBA</code> 。返回<code class="codeph">ORA-00031</code>消息是因为必须先完成某些活动才能终止会话。
                     </p><pre class="pre codeblock"><code>SQL&gt; SELECT SID，SERIAL＃，INST_ID FROM GV $ SESSION WHERE USERNAME ='SCOTT'; SID SERIAL＃INST_ID ---------- ---------- ---------- 80 4 2 SQL&gt; ALTER SYSTEM KILL SESSION '80,4，@ 2 “; alter system kill session '80,4，@ 2'*第1行的错误：ORA-00031：标记为kill SQL的会话&gt;</code></pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-64018FBD-C34F-43DC-A76B-D62DD10B2F28__GUID-871BF291-E69D-4BD5-940B-983450A47685">
                     <p class="titleinexample">示例3-2识别并终止空闲实例上的会话</p>
                     <p>在此示例中，假设执行会话是实例<code class="codeph">INST_ID=1</code>上的<code class="codeph">SYSDBA</code> 。当Oracle数据库在60秒内执行语句时，实例<code class="codeph">INST_ID=2</code>的会话立即终止。
                     </p><pre class="pre codeblock"><code>SQL&gt; SELECT SID，SERIAL＃，INST_ID FROM GV $ SESSION WHERE USERNAME ='SCOTT'; SID SERIAL＃INST_ID ---------- ---------- ---------- 80 6 2 SQL&gt; ALTER SYSTEM KILL SESSION '80,6，@ 2 “;系统改变了。SQL&gt;</code></pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-64018FBD-C34F-43DC-A76B-D62DD10B2F28__GUID-EDEF2924-1C1F-4667-A093-C31FA733D910">
                     <p class="titleinexample">示例3-3使用IMMEDIATE参数</p>
                     <p>以下示例包含可选的<code>IMMEDIATE</code>子句，用于立即终止会话，而无需等待未完成的活动完成。
                     </p><pre class="pre codeblock"><code>SQL&gt; SELECT SID，SERIAL＃，INST_ID FROM GV $ SESSION WHERE USERNAME ='SCOTT'; SID SERIAL＃INST_ID ---------- ---------- ---------- 80 8 2 SQL&gt; ALTER SYSTEM KILL SESSION '80,8，@ 2 '立即;系统改变了。SQL&gt;</code></pre></div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="../admin/managing-processes.html#ADMIN-GUID-1837277B-EF67-4D60-A1A2-F69520D27502" target="_blank"><span><cite>Oracle数据库管理员指南</cite></span></a></li>
                        <li><a href="../tdppt/monitoring-real-time-database-performance.html#TDPPT-GUID-F89D9B48-A4CA-4AC6-80FB-81EF8BB78DFC" target="_blank"><span><cite>Oracle数据库2天+性能调优指南</cite></span></a></li>
                        <li><a href="ensuring-application-continuity.html#GUID-BD699AEB-9F85-42A8-8687-5A979918938D" title="应用程序连续性通过还原数据库会话从应用程序和用户屏蔽许多可恢复的数据库中断（当重放成功时）：完整会话，包括所有状态，游标，变量和最后一个事务（如果有）。">关于应用程序连续性</a></li>
                     </ul>
                  </div>
               </div>
            </div><a id="RACAD020"></a><div class="sect2"><a id="GUID-395DE0A5-6892-4988-B7F0-19D621DF2EB3" name="GUID-395DE0A5-6892-4988-B7F0-19D621DF2EB3"></a><h3 id="RACAD-GUID-395DE0A5-6892-4988-B7F0-19D621DF2EB3" class="sect3">Oracle RAC中的初始化参数文件概述</h3>
               <div>
                  <p>创建数据库时，Oracle数据库会创建一个<a id="d11719e4209" class="indexterm-anchor"></a><a id="d11719e4213" class="indexterm-anchor"></a>您指定的文件位置中的SPFILE。此位置可以是Oracle ASM磁盘组或<a href="glossary.html#GUID-0152C87A-A61B-433F-ACAB-B3680D27B2F4"><span class="xrefglossterm">群集文件系统</span></a> 。如果您手动创建数据库，那么Oracle建议您<a id="d11719e4222" class="indexterm-anchor"></a><a id="d11719e4226" class="indexterm-anchor"></a>从初始化创建SPFILE <a id="d11719e4231" class="indexterm-anchor"></a>参数文件（PFILE）。
                  </p>
                  <div class="infoboxnote" id="GUID-395DE0A5-6892-4988-B7F0-19D621DF2EB3__GUID-019E0F16-1C6F-4DE0-BFBD-301BCB505225">
                     <p class="notep1">注意：</p>
                     <p>仅当SPFILE不存在或者在<code class="codeph">STARTUP</code>命令中指定<code class="codeph">PFILE</code> ，Oracle RAC才使用传统的PFILE。Oracle建议您使用SPFILE来简化管理，维护参数设置的一致性，并保证跨数据库关闭和启动事件的参数设置持久性。此外，您可以配置RMAN来备份SPFILE。</p>
                  </div>
                  <p>群集数据库中的所有实例在启动时都使用相同的SPFILE。由于SPFILE是二进制文件，因此不要使用编辑器直接编辑SPFILE。相反，改变<a id="d11719e4247" class="indexterm-anchor"></a>使用Oracle Enterprise Manager或<code class="codeph">ALTER SYSTEM</code> SQL语句的SPFILE参数设置。
                  </p>
                  <p>创建SPFILE时，如果包含<a id="d11719e4257" class="indexterm-anchor"></a><a id="d11719e4261" class="indexterm-anchor"></a><a id="d11719e4265" class="indexterm-anchor"></a><a id="d11719e4269" class="indexterm-anchor"></a><a id="d11719e4273" class="indexterm-anchor"></a> <code class="codeph">FROM MEMORY</code>子句（例如， <code class="codeph">CREATE PFILE FROM MEMORY</code>或<code class="codeph">CREATE SPFILE FROM MEMORY</code> ），然后<code class="codeph">CREATE</code>语句使用当前系统范围的参数设置创建PFILE或SPFILE。在Oracle RAC环境中，创建的文件包含每个实例的参数设置。由于<code class="codeph">FROM MEMORY</code>子句要求所有其他实例将其参数设置发送到尝试创建参数文件的实例，因此总执行时间取决于实例数，每个实例上的参数设置数以及这些设置的数据。
                  </p>
                  <p>本节包括以下主题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="administering-database-instances-and-cluster-databases.html#GUID-A982117D-2647-4399-8F98-9E3B31F4332F">为Oracle RAC设置SPFILE参数值</a></p>
                     </li>
                     <li>
                        <p><a href="administering-database-instances-and-cluster-databases.html#GUID-086BB575-46F2-4EE0-939D-9E5A4726BC89" title="Oracle数据库会根据您的平台以特定顺序搜索参数文件。对于Oracle RAC数据库，您可以使用srvctl config database命令轻松确定参数文件的位置。">Oracle RAC中的参数文件搜索顺序</a></p>
                     </li>
                     <li>
                        <p><a href="administering-database-instances-and-cluster-databases.html#GUID-AE135EE8-BB02-4A80-9CBD-189475FB96F0" title="Oracle建议您定期备份服务器参数文件以进行恢复。">备份服务器参数文件</a></p>
                     </li>
                  </ul>
               </div><a id="RACAD815"></a><div class="sect3"><a id="GUID-A982117D-2647-4399-8F98-9E3B31F4332F" name="GUID-A982117D-2647-4399-8F98-9E3B31F4332F"></a><h4 id="RACAD-GUID-A982117D-2647-4399-8F98-9E3B31F4332F" class="sect4">为Oracle RAC设置SPFILE参数值</h4>
                  <div>
                     <p><a id="d11719e4460" class="indexterm-anchor"></a>您可以使用Oracle Enterprise Manager或使用<code class="codeph">ALTER SYSTEM</code>语句的<code class="codeph">SET</code>子句更改SPFILE设置。
                     </p>
                     <div class="infoboxnote" id="GUID-A982117D-2647-4399-8F98-9E3B31F4332F__GUID-CA51CE6C-763E-46D1-BD3F-5D58D4CA77BC">
                        <p class="notep1">注意：</p>
                        <p>修改<a id="d11719e4474" class="indexterm-anchor"></a>使用Oracle Enterprise Manager或SQL * Plus以外的工具进行SPFILE可能会破坏文件并阻止数据库启动。要修复该文件，可能需要创建PFILE，然后重新生成SPFILE。</p>
                     </div>
                     <p>虽然SPFILE是二进制文件，但本节中的示例以ASCII文本显示。假设您使用包含以下条目的SPFILE启动实例：</p><pre class="oac_no_warn" dir="ltr">*。OPEN_CURSORS = 500 prod1。OPEN_CURSORS = 1000</pre><p>SPFILE条目中句点（。）之前的值标识特定参数值所属的实例。如果星号（*）位于句点之前，则该值将应用于SPFILE中未列出后续单个值的所有实例。</p>
                     <p>对于具有Oracle系统标识符（SID） <code class="codeph">prod1</code>的实例，即使<code class="codeph">OPEN_CURSORS</code>参数的数据库范围设置为<code class="codeph">500</code> ，也将其设置为<code class="codeph">1000</code> 。具有星号（*）通配符的参数文件条目仅影响没有特定于实例的条目的实例。这使您可以控制实例<code class="codeph">prod1</code>参数设置。这两种类型的设置可以在参数文件中以任何顺序出现。
                     </p>
                     <p>如果另一个DBA运行以下语句，则Oracle Database将更新除具有SID <code class="codeph">prod1</code>实例之外的所有实例的设置：</p><pre class="oac_no_warn" dir="ltr">ALTER SYSTEM SET OPEN_CURSORS = 1500 sid ='*'SCOPE = SPFILE;</pre><p>SPFILE现在具有以下<code class="codeph">OPEN_CURSORS</code>条目：</p><pre class="oac_no_warn" dir="ltr">*。OPEN_CURSORS = 1500 prod1。OPEN_CURSORS = 1000</pre><p>运行以下语句将<code class="codeph">OPEN_CURSORS</code>重置为除<code class="codeph">prod1</code>之外的所有实例的默认值：</p><pre class="oac_no_warn" dir="ltr">ALTER SYSTEM RESET OPEN_CURSORS SCOPE = SPFILE;</pre><p>SPFILE现在只有<code class="codeph">prod1</code>的以下条目：</p><pre class="oac_no_warn" dir="ltr">PROD1。OPEN_CURSORS = 1000</pre><p>运行以下语句将<code class="codeph">OPEN_CURSORS</code>参数重置为仅用于实例<code class="codeph">prod1</code>默认值：</p><pre class="oac_no_warn" dir="ltr">ALTER SYSTEM RESET OPEN_CURSORS SCOPE = SPFILE SID ='prod1';</pre></div>
               </div><a id="RACAD7294"></a><div class="sect3"><a id="GUID-086BB575-46F2-4EE0-939D-9E5A4726BC89" name="GUID-086BB575-46F2-4EE0-939D-9E5A4726BC89"></a><h4 id="RACAD-GUID-086BB575-46F2-4EE0-939D-9E5A4726BC89" class="sect4">Oracle RAC中的参数文件搜索顺序</h4>
                  <div>
                     <p>Oracle数据库会根据您的平台以特定顺序搜索参数文件。对于Oracle RAC数据库，您可以使用<code class="codeph">srvctl config database</code>命令轻松确定参数文件的位置。
                     </p>
                     <p>在Linux和UNIX平台上，搜索顺序如下：</p>
                     <ol>
                        <li>
                           <p><code class="codeph">$ORACLE_HOME/dbs/spfile</code> <code class="codeph"><span class="variable" translate="no">sid</span></code> <code class="codeph">.ora</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">$ ORACLE_HOME / DBS / spfile.ora中</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">$ORACLE_HOME/dbs/init</code> <code class="codeph"><span class="variable" translate="no">sid</span></code> <code class="codeph">.ora</code></p>
                        </li>
                     </ol>
                     <p>在Windows平台上，搜索顺序如下：</p>
                     <ol>
                        <li>
                           <p><code class="codeph">%ORACLE_HOME%\database\spfile</code> <code class="codeph"><span class="variable" translate="no">sid</span></code> <code class="codeph">.ora</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">％ORACLE_HOME％\数据库\ spfile.ora中</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">%ORACLE_HOME%\database\init</code> <code class="codeph"><span class="variable" translate="no">sid</span></code> <code class="codeph">.ora</code></p>
                        </li>
                     </ol>
                     <div class="infoboxnote" id="GUID-086BB575-46F2-4EE0-939D-9E5A4726BC89__GUID-7F6D7F95-F976-45C4-B5E5-FFD525BE1989">
                        <p class="notep1">注意：</p>
                        <p>Oracle建议您不要使用默认的SPFILE名称，因为所有实例都必须使用相同的文件，并且它们都具有不同的SID。而是将SPFILE存储在Oracle ASM上。如果将SPFILE存储在群集文件系统上，则对SPFILE使用以下命名约定： <code class="codeph">$ORACLE_HOME/dbs/spfile</code> <code class="codeph"><span class="variable" translate="no">db_unique_name</span></code> <code class="codeph">.ora</code> 。创建名为<code class="codeph">$ORACLE_HOME/dbs/init</code> <code class="codeph"><span class="variable" translate="no">sid</span></code> <code class="codeph">.ora</code> <code class="codeph"><span class="variable" translate="no">db_unique_name</span></code> ，其中包含名称<code class="codeph">SPFILE=</code> <code class="codeph"><span class="variable" translate="no">ORACLE_HOME</span></code> <code class="codeph">/dbs/spfile</code> <code class="codeph"><span class="variable" translate="no">db_unique_name</span></code> <code class="codeph">.ora</code> 。
                        </p>
                     </div>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="server-control-utility-reference.html#GUID-B524D687-81BE-4101-9905-D1F8CE2933F0" title="显示Oracle RAC数据库的配置或列出向Oracle Clusterware注册的所有已配置数据库。">srvctl配置数据库</a></li>
                        </ul>
                     </div>
                  </div>
               </div><a id="RACAD819"></a><div class="sect3"><a id="GUID-AE135EE8-BB02-4A80-9CBD-189475FB96F0" name="GUID-AE135EE8-BB02-4A80-9CBD-189475FB96F0"></a><h4 id="RACAD-GUID-AE135EE8-BB02-4A80-9CBD-189475FB96F0" class="sect4">备份服务器参数文件</h4>
                  <div>
                     <p>Oracle建议您定期备份服务器参数文件以进行恢复。</p>
                     <p>使用Oracle Enterprise Manager或使用<code class="codeph">CREATE PFILE</code>语句执行此操作。例如：</p><pre class="pre codeblock"><code>CREATE PFILE ='/ u01 / oracle / dbs / test_init.ora'FROM SPFILE ='/ u01 / oracle / dbs / test_spfile.ora';</code></pre><p>您可以使用Recovery Manager（RMAN）创建服务器参数文件的备份。您还可以通过使用客户端初始化参数文件启动实例来恢复SPFILE。然后使用<code class="codeph">CREATE SPFILE</code>语句重新创建服务器参数文件。请注意，如果用于此操作的参数文件是针对单个实例的，则参数文件不包含特定于实例的值，即使是那些在Oracle RAC实例中必须唯一的值。因此，请确保您的参数文件包含本章前面所述的相应设置。
                     </p>
                     <p>要确保在典型的备份操作期间RMAN自动备份您的SPFILE（和控制文件），请使用Oracle Enterprise Manager或RMAN <code class="codeph">CONTROLFILE AUTOBACKUP</code>语句启用RMAN自动备份功能</p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="../sqlrf/SQL-Statements-CREATE-SEQUENCE-to-DROP-CLUSTER.html#SQLRF-GUID-01CD18EA-DF10-4B99-B64A-69BB959EEE59" target="_blank"><span><cite>Oracle数据库SQL语言参考</cite></span></a></li>
                           <li><a href="../rcmrf/rman-commands-at-sign-to-quit.html#RCMRF-GUID-8757D5C8-9360-4696-B5EF-5E6D0F8E5440" target="_blank"><span><cite>Oracle数据库备份和恢复参考</cite></span></a></li>
                        </ul>
                     </div>
                  </div>
               </div>
            </div><a id="RACAD7685"></a><a id="RACAD017"></a><div class="sect2"><a id="GUID-59DEC066-5743-4EDE-9A02-E8896005F658" name="GUID-59DEC066-5743-4EDE-9A02-E8896005F658"></a><h3 id="RACAD-GUID-59DEC066-5743-4EDE-9A02-E8896005F658" class="sect3">初始化参数在Oracle RAC中使用</h3>
               <div>
                  <p>默认情况下，大多数参数都设置为默认值，并且此值在所有实例中都相同。</p>
                  <p>但是，许多初始化参数也可以在不同的实例上具有不同的值，如<a href="administering-database-instances-and-cluster-databases.html#GUID-59DEC066-5743-4EDE-9A02-E8896005F658__CACFJFJB" title="此表总结了在Oracle RAC数据库中使用特定初始化参数的注意事项">表3-3中所述</a> 。其他参数<span class="italic">必须</span>是唯一的或相同的，如以下部分所述</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="administering-database-instances-and-cluster-databases.html#GUID-845E2ECD-9089-4666-BFCD-C42C5F11C6C3">所有实例必须具有相同设置的参数</a></p>
                     </li>
                     <li>
                        <p><a href="administering-database-instances-and-cluster-databases.html#GUID-AD27701A-FBB7-4BA1-8631-6B474999A462">在所有实例上具有唯一设置的参数</a></p>
                     </li>
                     <li>
                        <p><a href="administering-database-instances-and-cluster-databases.html#GUID-8828EB74-EA82-4879-8548-A2AD666C608F" title="Oracle建议此处列出的参数在所有实例上具有相同的设置。">在所有实例上应具有相同设置的参数</a></p>
                     </li>
                  </ul>
                  <p><a href="administering-database-instances-and-cluster-databases.html#GUID-59DEC066-5743-4EDE-9A02-E8896005F658__CACFJFJB" title="此表总结了在Oracle RAC数据库中使用特定初始化参数的注意事项">表3-3</a>总结了专门用于Oracle RAC数据库的初始化参数。
                  </p>
                  <div class="tblformalwide" id="GUID-59DEC066-5743-4EDE-9A02-E8896005F658__CACFJFJB">
                     <p class="titleintable">表3-3 Oracle RAC特有的初始化参数</p>
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="初始化参数特定于Oracle RAC" width="100%" border="1" summary="This table summarizes considerations for using specific initialization parameters in Oracle RAC databases" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="29%" id="d11719e5254">参数</th>
                              <th align="left" valign="bottom" width="71%" id="d11719e5257">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d11719e5262" headers="d11719e5254 "><code class="codeph"><a href="../refrn/ACTIVE_INSTANCE_COUNT.html#REFRN10001" target="_blank">ACTIVE_INSTANCE_COUNT</a></code></td>
                              <td align="left" valign="top" width="71%" headers="d11719e5262 d11719e5257 ">
                                 <p>在Oracle RAC <span class="italic">11g第</span> 2版（11.2）中不推荐使用此初始化参数。而是使用具有一个首选实例和一个可用实例的服务。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d11719e5274" headers="d11719e5254 "><code class="codeph"><a href="../refrn/ASM_PREFERRED_READ_FAILURE_GROUPS.html#REFRN10279" target="_blank">ASM_PREFERRED_READ_FAILURE_GROUPS</a></code></td>
                              <td align="left" valign="top" width="71%" headers="d11719e5274 d11719e5257 ">
                                 <p>指定一组磁盘作为从中读取镜像数据副本的首选磁盘。您为此参数设置的值是特定于实例的，并且在所有实例上不必相同。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d11719e5283" headers="d11719e5254 "><code class="codeph"><a href="../refrn/CLUSTER_DATABASE.html#REFRN10015" target="_blank">CLUSTER_DATABASE</a></code></td>
                              <td align="left" valign="top" width="71%" headers="d11719e5283 d11719e5257 ">
                                 <p>允许以群集模式启动数据库。将此参数设置为<code class="codeph">TRUE</code> 。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d11719e5295" headers="d11719e5254 "><code class="codeph"><a href="../refrn/CLUSTER_DATABASE_INSTANCES.html#REFRN10016" target="_blank">CLUSTER_DATABASE_INSTANCES</a></code></td>
                              <td align="left" valign="top" width="71%" headers="d11719e5295 d11719e5257 ">
                                 <p>Oracle RAC使用此参数来分配足够的内存资源。必须在所有实例上将其设置为相同的值。</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p>对于策略管理的数据库，Oracle在内部将此参数设置为16</p>
                                    </li>
                                    <li>
                                       <p>对于管理员管理的数据库，Oracle在内部将其设置为已配置的Oracle RAC实例的数量</p>
                                    </li>
                                 </ul>
                                 <p>如果计划添加实例，则可以将此参数设置为<span class="italic">大于</span>当前实例数的值。对于策略管理的数据库，仅当您打算运行具有16个以上实例的数据库时，才应将此参数设置为更高的值。在这种情况下，请将参数设置为此数据库将运行的预期最大实例数。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d11719e5316" headers="d11719e5254 "><code class="codeph"><a href="../refrn/CLUSTER_INTERCONNECTS.html#REFRN10017" target="_blank">CLUSTER_INTERCONNECTS</a></code></td>
                              <td align="left" valign="top" width="71%" headers="d11719e5316 d11719e5257 ">
                                 <p>当存在多个互连时，为专用网络指定备用群集互连。</p>
                                 <p><span class="bold">笔记：</span></p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p>Oracle建议所有Oracle数据库和Oracle Clusterware使用相同的互连网络。</p>
                                    </li>
                                    <li>
                                       <p>除某些情况外，Oracle不建议设置<code class="codeph">CLUSTER_INTERCONNECTS</code>参数。有关更多详细信息，请参阅<span class="q">“ <a href="administering-database-instances-and-cluster-databases.html#GUID-902A9C37-6534-4675-92B5-7F3B856106B0" title="在Linux和UNIX平台上运行的Oracle RAC环境中，可以使用CLUSTER_INTERCONNECTS初始化参数指定Oracle Clusterware用于专用网络的备用互连。">在Linux和UNIX平台上管理多个群集互连</a> ”</span> 。
                                       </p>
                                    </li>
                                    <li>
                                       <p>此参数存储在网格即插即用环境中的网格即插即用配置文件中。</p>
                                    </li>
                                 </ul>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d11719e5352" headers="d11719e5254 "><code class="codeph"><a href="../refrn/DB_NAME.html#REFRN10041" target="_blank">DB_NAME</a></code></td>
                              <td align="left" valign="top" width="71%" headers="d11719e5352 d11719e5257 ">
                                 <p>如果在特定于实例的参数文件中为<code class="codeph">DB_NAME</code>设置了值，则所有实例的设置必须相同。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d11719e5364" headers="d11719e5254 "><code class="codeph"><a href="../refrn/DISPATCHERS.html#REFRN10049" target="_blank">DISPATCHERS</a></code></td>
                              <td align="left" valign="top" width="71%" headers="d11719e5364 d11719e5257 ">
                                 <p>设置<code class="codeph">DISPATCHERS</code>参数以启用共享服务器配置，即配置为允许许多用户进程共享极少数服务器进程的服务器。使用共享服务器配置，许多用户进程连接到调度程序。<code class="codeph">DISPATCHERS</code>参数可能包含许多属性。
                                 </p>
                                 <p>Oracle建议您至少配置<code class="codeph">PROTOCOL</code>和<code class="codeph">LISTENER</code>属性。<code class="codeph">PROTOCOL</code>指定调度程序进程为其生成侦听终点的网络协议。<code class="codeph">LISTENER</code>为Oracle Net Services侦听<code class="codeph">LISTENER</code>指定别名。将别名设置为通过命名方法（如<code class="codeph">tnsnames.ora</code>文件）解析的名称。<code class="codeph">tnsnames.ora</code>文件包含网络服务名称。客户端，节点和Oracle Performance Manager节点需要此文件。Oracle Enterprise Manager在客户端上不需要用于Cloud Control的<code class="codeph">tnsnames.ora</code>条目。
                                 </p>
                                 <p><span class="bold">另请参阅：</span> <a href="../netag/configuring-shared-server-architecture.html#NETAG323" target="_blank"><span class="italic">Oracle数据库网络服务管理员指南，</span></a>以获取有关配置<code class="codeph">DISPATCHERS</code>参数及其属性以及配置共享服务器的完整信息</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d11719e5415" headers="d11719e5254 "><code class="codeph"><a href="../refrn/GCS_SERVER_PROCESSES.html#REFRN10259" target="_blank">GCS_SERVER_PROCESSES</a></code></td>
                              <td align="left" valign="top" width="71%" headers="d11719e5415 d11719e5257 ">
                                 <p>此静态参数指定Oracle RAC实例的全局缓存服务（GCS）的初始服务器进程数。GCS进程管理Oracle RAC实例之间的实例间流量的路由。默认的GCS服务器进程数是根据系统资源计算的，最小设置为2。对于具有一个CPU的系统，有一个GCS服务器进程。对于具有2到8个CPU的系统，有两个GCS服务器进程。对于具有八个以上CPU的系统，GCS服务器进程的数量等于CPU的数量除以4，从而丢弃任何分数。例如，如果您有10个CPU，则10除以4意味着您的系统有2个GCS进程。您可以在不同实例上将此参数设置为不同的值。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d11719e5424" headers="d11719e5254 "><code class="codeph"><a href="../refrn/INSTANCE_NAME.html#REFRN10072" target="_blank">INSTANCE_NAME</a></code></td>
                              <td align="left" valign="top" width="71%" headers="d11719e5424 d11719e5257 ">
                                 <p>指定实例的唯一名称。客户端可以使用此名称强制将其会话连接到群集中的特定实例。<code class="codeph">INSTANCE_NAME</code>参数的格式通常为<code class="codeph"><span class="variable" translate="no">db_unique_name_instance_number</span></code> ，例如<code class="codeph">orcldb_2</code> 。
                                 </p>
                                 <p><span class="bold">注意：</span>在网格即插即用环境中，不需要<code class="codeph">INSTANCE_NAME</code>参数，如果未指定，则默认为<code class="codeph"><span class="variable" translate="no">db_unique_name_instance_number</span></code> 。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d11719e5454" headers="d11719e5254 "><code class="codeph"><a href="../refrn/RESULT_CACHE_MAX_SIZE.html#REFRN10272" target="_blank">RESULT_CACHE_MAX_SIZE</a></code></td>
                              <td align="left" valign="top" width="71%" headers="d11719e5454 d11719e5257 ">
                                 <p>在集群数据库中，您可以在每个实例上设置<code class="codeph">RESULT_CACHE_MAX_SIZE=0</code>以禁用<a href="glossary.html#GUID-AE74368D-0256-4320-B6F4-3F5F79843674"><span class="xrefglossterm">结果缓存</span></a> ，或者在每个实例上使用非零值来启用结果缓存。要在启用和禁用结果缓存之间切换，需要重新启动每个实例：</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p><span class="bold">启用结果缓存：</span>将<code class="codeph">RESULT_CACHE_MAX_SIZE</code>设置为大于<code class="codeph">0</code>的值，或保留参数未设置。您可以在各个实例上以不同方式调整缓存大小
                                       </p>
                                    </li>
                                    <li>
                                       <p><span class="bold">禁用结果缓存：</span>在所有实例上设置<code class="codeph">RESULT_CACHE_MAX_SIZE=0</code>以禁用结果缓存。如果在启动任何一个实例时设置<code class="codeph">RESULT_CACHE_MAX_SIZE=0</code> ，则必须在所有实例启动时将参数设置为零，因为禁用结果缓存必须在群集范围内完成。在某些实例上禁用结果缓存可能会导致错误的结果。
                                       </p>
                                    </li>
                                 </ul>
                                 <p>如果未设置<code class="codeph">RESULT_CACHE_MAX_SIZE</code>参数，则参数将解析为默认的非零值。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d11719e5498" headers="d11719e5254 "><code class="codeph"><a href="../refrn/SERVICE_NAMES.html#REFRN10194" target="_blank">SERVICE_NAMES</a></code></td>
                              <td align="left" valign="top" width="71%" headers="d11719e5498 d11719e5257 ">
                                 <p>使用服务时，Oracle建议您不要为<code class="codeph">SERVICE_NAMES</code>参数设置值，而应通过Oracle企业管理器云控制中的“集群管理服务”页面创建集群管理服务。这是因为Oracle Clusterware控制您为所创建的服务和默认数据库服务设置此参数的设置。<a href="workload-management-with-dynamic-database-services.html#GUID-8DC4D5E0-CA9D-47BC-BAD0-8769405AFEC5" title="工作负载管理包括负载平衡，为Oracle Real Application Clusters（Oracle RAC），分布式事务处理和服务启用客户端。">使用动态数据库服务的工作负载管理中</a>描述的服务功能与Oracle在设置<code class="codeph">SERVICE_NAMES</code>时提供的功能没有直接关系。此外，为此参数设置值可能会覆盖使用服务的一些好处。
                                 </p>
                                 <p><span class="bold">注意：</span> Oracle建议客户端连接使用服务而不是实例名称。<code class="codeph">SERVICE_NAMES</code>参数中的条目可以由客户端连接使用，而不是<code class="codeph">INSTANCE_NAME</code>参数值。<code class="codeph">SERVICE_NAMES</code>参数可以包括一个或多个名称，不同的实例可以与其他实例共享一个或多个名称，使客户端能够连接到特定实例或一组实例中的任何一个，具体取决于在连接字符串。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d11719e5534" headers="d11719e5254 "><code class="codeph"><a href="../refrn/SPFILE.html#REFRN10207" target="_blank">SPFILE</a></code></td>
                              <td align="left" valign="top" width="71%" headers="d11719e5534 d11719e5257 ">
                                 <p>使用SPFILE时，所有Oracle RAC数据库实例都必须使用SPFILE，并且该文件必须位于共享存储上。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d11719e5543" headers="d11719e5254 "><code class="codeph"><a href="../refrn/THREAD.html#REFRN10216" target="_blank">线</a></code></td>
                              <td align="left" valign="top" width="71%" headers="d11719e5543 d11719e5257 ">
                                 <p>指定实例要使用的重做线程数。如果该线程编号已启用且未使用，则可以指定任何可用的重做线程编号。如果指定，则此参数必须在所有实例上具有唯一值。最佳做法是使用<code class="codeph">INSTANCE_NAME</code>参数指定重做日志组。
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="../refrn/initialization-parameters-2.html#REFRN-GUID-FD266F6F-D047-4EBB-8D96-B51B1DCA2D61" target="_blank"><span><cite>Oracle数据库参考</cite></span></a></li>
                     </ul>
                  </div>
               </div><a id="RACAD816"></a><div class="sect3"><a id="GUID-845E2ECD-9089-4666-BFCD-C42C5F11C6C3" name="GUID-845E2ECD-9089-4666-BFCD-C42C5F11C6C3"></a><h4 id="RACAD-GUID-845E2ECD-9089-4666-BFCD-C42C5F11C6C3" class="sect4">所有实例必须具有相同设置的参数</h4>
                  <div>
                     <p>某些<a id="d11719e5702" class="indexterm-anchor"></a>初始化<a id="d11719e5707" class="indexterm-anchor"></a>对数据库创建至关重要或影响某些数据库操作的参数必须对Oracle RAC数据库中的每个实例具有相同的值。在SPFILE或每个实例的单个PFILE中指定这些参数值。以下列表包含每个实例上必须相同的参数：</p>
                     <ul class="simple" style="list-style-type:none;padding-left:0">
                        <li><a id="d11719e5714" class="indexterm-anchor"></a><a href="../refrn/COMPATIBLE.html#REFRN10019" target="_blank"><code class="codeph">COMPATIBLE</code></a></li>
                        <li><a id="d11719e5721" class="indexterm-anchor"></a><a href="../refrn/CLUSTER_DATABASE.html#REFRN10015" target="_blank"><code class="codeph">CLUSTER_DATABASE</code></a></li>
                        <li><a id="d11719e5728" class="indexterm-anchor"></a><a href="../refrn/CONTROL_FILES.html#REFRN10021" target="_blank"><code class="codeph">CONTROL_FILES</code></a></li>
                        <li><a id="d11719e5735" class="indexterm-anchor"></a><a href="../refrn/DB_BLOCK_SIZE.html#REFRN10031" target="_blank"><code class="codeph">DB_BLOCK_SIZE</code></a></li>
                        <li><a id="d11719e5742" class="indexterm-anchor"></a><a href="../refrn/DB_DOMAIN.html#REFRN10036" target="_blank"><code class="codeph">DB_DOMAIN</code></a></li>
                        <li><a id="d11719e5749" class="indexterm-anchor"></a><a href="../refrn/DB_FILES.html#REFRN10039" target="_blank"><code class="codeph">DB_FILES</code></a></li>
                        <li><a id="d11719e5756" class="indexterm-anchor"></a><a href="../refrn/DB_NAME.html#REFRN10041" target="_blank"><code class="codeph">DB_NAME</code></a></li>
                        <li><a id="d11719e5763" class="indexterm-anchor"></a><a href="../refrn/DB_RECOVERY_FILE_DEST.html#REFRN10234" target="_blank"><code class="codeph">DB_RECOVERY_FILE_DEST</code></a></li>
                        <li><a id="d11719e5770" class="indexterm-anchor"></a><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/racad&amp;id=REFRN10235" target="_blank"><code class="codeph">DB_RECOVERY_FILE_DEST_SIZE</code></a></li>
                        <li><a id="d11719e5777" class="indexterm-anchor"></a><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/racad&amp;id=REFRN10242" target="_blank"><code class="codeph">DB_UNIQUE_NAME</code></a></li>
                        <li><a id="d11719e5784" class="indexterm-anchor"></a> <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/racad&amp;id=REFRN10244" target="_blank"><code class="codeph">INSTANCE_TYPE</code></a> （RDBMS或ASM）</li>
                        <li><a id="d11719e5793" class="indexterm-anchor"></a><a href="../refrn/PARALLEL_EXECUTION_MESSAGE_SIZE.html#REFRN10156" target="_blank"><code class="codeph">PARALLEL_EXECUTION_MESSAGE_SIZE</code></a></li>
                        <li><a id="d11719e5800" class="indexterm-anchor"></a><a href="../refrn/REMOTE_LOGIN_PASSWORDFILE.html#REFRN10184" target="_blank"><code class="codeph">REMOTE_LOGIN_PASSWORDFILE</code></a></li>
                        <li><a id="d11719e5807" class="indexterm-anchor"></a><a href="../refrn/UNDO_MANAGEMENT.html#REFRN10224" target="_blank"><code class="codeph">UNDO_MANAGEMENT</code></a></li>
                     </ul>
                     <p></p>
                     <p>仅当参数值设置为零时，以下参数在每个实例上必须相同：</p>
                     <ul class="simple" style="list-style-type:none;padding-left:0">
                        <li><a id="d11719e5818" class="indexterm-anchor"></a><code class="codeph">DML_LOCKS</code></li>
                        <li><a id="d11719e5823" class="indexterm-anchor"></a><code class="codeph">RESULT_CACHE_MAX_SIZE</code></li>
                     </ul>
                  </div>
               </div><a id="RACAD817"></a><div class="sect3"><a id="GUID-AD27701A-FBB7-4BA1-8631-6B474999A462" name="GUID-AD27701A-FBB7-4BA1-8631-6B474999A462"></a><h4 id="RACAD-GUID-AD27701A-FBB7-4BA1-8631-6B474999A462" class="sect4">在所有实例上具有唯一设置的参数</h4>
                  <div>
                     <p>当需要在策略管理的数据库上设置具有唯一设置的参数时，可以通过对每个可以运行的服务器运行<code class="codeph">srvctl modify instance -n <span class="variable" translate="no">node_name</span> -i <span class="variable" translate="no">instance_name</span></code>命令，确保实例始终在特定节点上使用相同的名称。分配给数据库的服务器池。然后，可以为<code class="codeph"><span class="variable" translate="no">instance_name</span></code>指定唯一的参数值，该值在数据库在<code class="codeph"><span class="variable" translate="no">node_name</span></code>运行时使用。
                     </p>
                     <p>指定<code class="codeph">ORACLE_SID</code>环境变量，该变量由数据库名称和分配给实例的<code class="codeph">INSTANCE_NAME</code>的编号组成。
                     </p>
                     <p>使用<code class="codeph">CLUSTER_INTERCONNECTS</code>初始化参数指定Oracle Clusterware用于专用网络的备用互连。设置<code class="codeph">CLUSTER_INTERCONNECTS</code>初始化参数时，Oracle RAC数据库的每个实例都会获得唯一值。
                     </p>
                     <p>Oracle数据库使用<code class="codeph">INSTANCE_NUMBER</code>参数来区分启动时的<code class="codeph">INSTANCE_NAME</code>和<code class="codeph">INSTANCE_NAME</code>参数，以将重做日志组分配给特定实例。实例名称可以采用<code class="codeph"><span class="variable" translate="no">db_unique_name_instance_number</span></code>形式，当它具有由下划线分隔的此形式的名称和编号时，下划线后面的数字将用作<code class="codeph">INSTANCE_NUMBER</code> 。使用网格即插即用的Oracle Database 11.2，您不再需要为策略管理的数据库显式分配实例编号，实例名称缺省为<code class="codeph"><span class="variable" translate="no">db_unique_name_instance_number</span></code> ，Oracle Database会在其中分配实例编号。
                     </p>
                     <p>如果在启用自动撤消管理的情况下指定<code class="codeph">UNDO_TABLESPACE</code> ，则将此参数设置为每个实例的唯一撤消表空间名称。
                     </p>
                     <p>如果使用<code class="codeph">ROLLBACK_SEGMENTS</code>参数，则Oracle建议使用SPFILE中的<code class="codeph">SID</code>标识符为其设置唯一值。但是，您必须为每个实例设置<code class="codeph">INSTANCE_NUMBER</code>的唯一值，并且不能使用默认值。
                     </p>
                     <p>使用<code class="codeph">ASM_PREFERRED_READ_FAILURE_GROUPS</code>初始化参数，可以指定首选读取失败组名称列表。这些故障组中的磁盘成为首选读取磁盘。因此，每个节点都可以从其本地磁盘读取。这样可以提高效率和性能，并减少网络流量。此参数的设置是特定于实例的，并且所有实例上的值不必相同。
                     </p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="administering-database-instances-and-cluster-databases.html#GUID-902A9C37-6534-4675-92B5-7F3B856106B0" title="在Linux和UNIX平台上运行的Oracle RAC环境中，可以使用CLUSTER_INTERCONNECTS初始化参数指定Oracle Clusterware用于专用网络的备用互连。">在Linux和UNIX平台上管理多个群集互连</a></li>
                        </ul>
                     </div>
                  </div>
               </div><a id="RACAD7686"></a><a id="RACAD818"></a><div class="sect3"><a id="GUID-8828EB74-EA82-4879-8548-A2AD666C608F" name="GUID-8828EB74-EA82-4879-8548-A2AD666C608F"></a><h4 id="RACAD-GUID-8828EB74-EA82-4879-8548-A2AD666C608F" class="sect4">在所有实例上应具有相同设置的参数</h4>
                  <div>
                     <p>Oracle建议此处列出的参数在所有实例上具有相同的设置。</p>
                     <p>Oracle建议您将<a href="administering-database-instances-and-cluster-databases.html#GUID-8828EB74-EA82-4879-8548-A2AD666C608F__CACBIBFA" title="此表列出了初始化参数，这些参数应该（但不必）在Oracle RAC环境中的所有实例上设置相同的方式。">表3-4中</a>的参数值设置为所有实例上的相同值。虽然您可以在不同实例上对这些参数设置不同的设置，但在所有实例上将每个参数设置为相同的值可简化管理。
                     </p>
                     <div class="tblformal" id="GUID-8828EB74-EA82-4879-8548-A2AD666C608F__CACBIBFA">
                        <p class="titleintable">表3-4所有实例上应具有相同设置的参数</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="在所有实例上应具有相同设置的参数" width="100%" border="1" summary="This table lists initialization parameters that should (but do not have to) be set the same way on all instances in the Oracle RAC environment." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="29%" id="d11719e6249">参数</th>
                                 <th align="left" valign="bottom" width="71%" id="d11719e6252">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d11719e6257" headers="d11719e6249 "><code class="codeph">ARCHIVE_LAG_TARGET</code></td>
                                 <td align="left" valign="top" width="71%" headers="d11719e6257 d11719e6252 ">
                                    <p>由于数据库处理执行了额外的自动同步，Oracle RAC数据库中实例的不同值可能会增加开销。</p>
                                    <p>在Oracle RAC数据库的下游捕获配置中使用Oracle GoldenGate下游捕获或Oracle GoldenGate集成捕获模式时，该值必须大于零。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d11719e6266" headers="d11719e6249 "><code class="codeph">CLUSTER_DATABASE_INSTANCES</code></td>
                                 <td align="left" valign="top" width="71%" headers="d11719e6266 d11719e6252 ">
                                    <p>虽然此参数最好在所有Oracle RAC数据库实例中具有相同的设置，但这不是必需的。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d11719e6273" headers="d11719e6249 "><code class="codeph">LICENSE_MAX_USERS</code></td>
                                 <td align="left" valign="top" width="71%" headers="d11719e6273 d11719e6252 ">
                                    <p>由于此参数确定数据库范围内对数据库中定义的用户数量的限制，因此在数据库的所有实例上使用相同的值非常有用，这样无论您使用哪个实例，都可以看到当前值。设置不同的值可能会导致Oracle数据库在实例启动期间生成其他警告消息，或导致与数据库用户管理相关的命令在某些情况下失败。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d11719e6280" headers="d11719e6249 "><code class="codeph">LOG_ARCHIVE_FORMAT</code></td>
                                 <td align="left" valign="top" width="71%" headers="d11719e6280 d11719e6252 ">
                                    <p>如果不对所有实例使用相同的值，则会不必要地使介质恢复复杂化。恢复实例期望所需的归档日志文件名具有由其自己的<code class="codeph">LOG_ARCHIVE_FORMAT</code>值定义的格式，而不管哪个实例创建了归档日志文件。
                                    </p>
                                    <p>支持Oracle Data Guard的数据库（发送或接收存档的重做日志文件）必须对所有实例使用相同的<code class="codeph">LOG_ARCHIVE_FORMAT</code>值。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d11719e6295" headers="d11719e6249 "><code class="codeph">SPFILE</code></td>
                                 <td align="left" valign="top" width="71%" headers="d11719e6295 d11719e6252 ">
                                    <p>如果此参数未向所有实例标识同一文件，则每个实例在故障转移，负载平衡和正常操作期间的行为可能会有所不同且不可预测。此外，使用<code class="codeph">ALTER SYSTEM SET</code>或<code class="codeph">ALTER SYSTEM RESET</code>命令对SPFILE所做的<code class="codeph">ALTER SYSTEM SET</code>仅保存在运行命令的实例所使用的SPFILE中。您的更改不会反映在使用不同SPFILE的实例中。
                                    </p>
                                    <p>如果SPFILE值在服务器设置值的实例中不同，则应重新启动未使用默认SPFILE的实例。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d11719e6310" headers="d11719e6249 "><code class="codeph">TRACE_ENABLED</code></td>
                                 <td align="left" valign="top" width="71%" headers="d11719e6310 d11719e6252 ">
                                    <p>如果希望诊断跟踪信息始终可用于Oracle RAC数据库，则必须在所有数据库实例<code class="codeph">TRACE_ENABLED</code>设置为<code class="codeph">TRUE</code> 。如果仅跟踪某些实例，则在需要时，如果唯一可访问的实例是<code class="codeph">TRACE_ENABLED</code>设置为<code class="codeph">FALSE</code>实例，则诊断信息可能不可用。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d11719e6329" headers="d11719e6249 "><code class="codeph">UNDO_RETENTION</code></td>
                                 <td align="left" valign="top" width="71%" headers="d11719e6329 d11719e6252 ">
                                    <p>通过在每个实例中为<code class="codeph">UNDO_RETENTION</code>设置不同的值，您可能会降低可伸缩性并在故障转移后遇到不可预测的行为。因此，在将此参数的不同值分配给Oracle RAC数据库中的实例之前，应仔细考虑是否有任何好处。
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
               </div>
            </div><a id="RACAD8211"></a><div class="sect2"><a id="GUID-1423B27A-3FD5-4B5F-AD29-029A799E28FF" name="GUID-1423B27A-3FD5-4B5F-AD29-029A799E28FF"></a><h3 id="RACAD-GUID-1423B27A-3FD5-4B5F-AD29-029A799E28FF" class="sect3">将管理员管理的数据库转换为策略管理的数据库</h3>
               <div>
                  <p>您可以将管理员管理的数据库转换为策略管理的数据库。</p>
                  <div class="infoboxnote" id="GUID-1423B27A-3FD5-4B5F-AD29-029A799E28FF__GUID-BBDA0724-1D20-4D24-BED8-F026F576F11D">
                     <p class="notep1">注意：</p>
                     <p>如果为低权限用户配置了管理员管理的数据库，并且您尝试将数据库转换为策略管理的数据库，则必须为此低权限用户手动添加钱包（如果尚不存在），因此可以创建Oracle数据库的Windows服务。</p>
                  </div>
                  <p>要转换管理员管理的数据库：</p>
                  <ol>
                     <li id="GUID-1423B27A-3FD5-4B5F-AD29-029A799E28FF__CACCGFAI">
                        <p>检查所有服务和数据库的当前配置（如果您犯了错误并需要恢复，那么您可以知道开始时配置的样子），如下所示：</p><pre class="pre codeblock"><code>srvctl config database -db <span class="variable" translate="no">db_unique_name</span> srvctl config service -db <span class="variable" translate="no">db_unique_name</span></code></pre></li>
                     <li>
                        <p>为策略管理的数据库创建服务器池（您必须是集群管理员才能执行此操作），如下所示：</p><pre class="pre codeblock"><code>srvctl add srvpool -serverpool <span class="variable" translate="no">server_pool</span> -min 0 -max <span class="variable" translate="no">n</span></code></pre><p>在上面的命令中，0是服务器池中所需的最小服务器数， <code class="codeph"><span class="variable" translate="no">n</span></code>是最大值。
                        </p>
                        <div class="infoboxnote" id="GUID-1423B27A-3FD5-4B5F-AD29-029A799E28FF__GUID-61541A10-9BC9-47CA-88AA-278FB4E7F3F4">
                           <p class="notep1">注意：</p>
                           <p>此步骤不一定将服务器放在新创建的服务器池中。例如，如果新服务器池可以从中分配服务器的空闲池中没有服务器，那么在转换完成后，您可能必须使用<code class="codeph">srvctl relocate server</code>命令从另一个服务器池重定位服务器。
                           </p>
                        </div>
                     </li>
                     <li>
                        <p>使用Oracle Enterprise Manager或SRVCTL停止数据库，如下所示：</p><pre class="pre codeblock"><code>srvctl stop database -db <span class="variable" translate="no">db_unique_name</span></code></pre></li>
                     <li>
                        <p>将数据库修改为新服务器池，如下所示：</p><pre class="pre codeblock"><code>srvctl修改数据库-db <span class="variable" translate="no">db_unique_name</span> -serverpool <span class="variable" translate="no">server_pool</span></code></pre></li>
                     <li>
                        <p>将服务用户添加到钱包，如下所示：</p><pre class="pre codeblock"><code>crsctl add wallet -type OSUSER -user <span class="variable" translate="no">user_name</span> -passwd</code></pre></li>
                     <li>
                        <p>通过重复步骤<a href="administering-database-instances-and-cluster-databases.html#GUID-1423B27A-3FD5-4B5F-AD29-029A799E28FF__CACCGFAI">1中</a>的命令，检查数据库的状态以确认它现在是策略管理。
                        </p>
                     </li>
                  </ol>
                  <p>配置Oracle Enterprise Manager以识别您在上一过程中所做的更改，如下所示：</p>
                  <ol>
                     <li>
                        <p>为了使Oracle Enterprise Manager Cloud Control能够识别新的数据库实例，您必须将实例名称从<code class="codeph"><span class="variable" translate="no">db_unique_name#</span></code>更改为<code class="codeph"><span class="variable" translate="no">db_unique_name_#</span></code> _ <code class="codeph"><span class="variable" translate="no">db_unique_name_#</span></code> （注意数字符号（＃）前面的附加下划线（_））。
                        </p>
                     </li>
                     <li>
                        <p>重命名<code class="codeph">dbs/database</code>目录中的<code class="codeph">orapwd</code>文件（或通过运行<code class="codeph">orapwd</code>命令创建新的<code class="codeph">orapwd</code>文件）。
                        </p>
                        <p>默认情况下，会有一个附加了实例名称的<code class="codeph">orapwd</code>文件，例如<code class="codeph">orapwdORCL1</code> 。您必须更改文件的名称以对应于您在上一步中更改的实例名称。例如，您必须将<code class="codeph">orapwdORCL1</code>更改为<code class="codeph">orapwdORCL_1</code>或创建新的<code class="codeph">orapwd</code>文件。
                        </p>
                     </li>
                  </ol>
                  <p>您无法将策略管理的数据库直接转换为管理员管理的数据库。相反，您可以使用<code class="codeph">srvctl remove database</code>和<code class="codeph">srvctl remove service</code>命令删除策略管理的配置，然后使用<code class="codeph">srvctl add database</code>和<code class="codeph">srvctl add instance</code>命令将相同的数据库注册为管理员管理的数据库。注册数据库和实例后，必须使用<code class="codeph">srvctl add service</code>命令在删除<code class="codeph">srvctl add service</code>时添加这些服务。
                  </p>
                  <p>管理员管理的数据库的服务继续由<code class="codeph">PREFERRED</code>和<code class="codeph">AVAILABLE</code>定义定义。对于策略管理的数据库，服务定义为数据库服务器池，可以是<span class="italic">统一的</span> （在服务器池中的所有实例上运行）或<span class="italic">单例</span> （仅在服务器池中的一个实例上运行）。如果更改数据库的管理策略，则必须将数据库服务重新创建为uniform / singleton或<code class="codeph">PREFERRED</code> / <code class="codeph">AVAILABLE</code> ，具体取决于您选择的数据库管理策略。
                  </p>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="server-control-utility-reference.html#GUID-3ED4DBCE-A148-462B-8A79-534A3F0D6E7D" title="默认情况下，SRVCTL安装在群集中的每个节点上。要使用SRVCTL，请登录节点的操作系统，并以区分大小写的语法输入SRVCTL命令及其参数。使用SRVCTL管理数据库，实例，集群数据库，集群数据库实例，Oracle ASM实例和磁盘组，服务，侦听器或其他集群件资源。本节包含有关对SRVCTL使用上下文相关帮助的信息。此版本中已弃用了许多SRVCTL命令和参数。Oracle Database 12c中不推荐使用单字符参数。在Oracle RAC环境中使用的SRVCTL命令的完整列表。将数据库配置添加到Oracle Clusterware。显示Oracle RAC数据库的配置或列出向Oracle Clusterware注册的所有已配置数据库。将数据库转换为Oracle RAC One Node数据库或从Oracle RAC One Node数据库转换数据库。禁用正在运行的数据库。将数据库及其服务的配置从当前版本降级到特定的较低版本。启用集群数据库及其实例。显示与数据库关联的环境变量的值。修改数据库的配置。预测特定数据库失败的后果。启动Oracle RAC One Node数据库从一个节点到另一个节点的重定位。删除数据库配置。管理群集数据库环境配置。启动集群数据库及其启用的实例，以及具有数据库实例的节点上的所有侦听器。此命令显示数据库的当前状态。停止数据库，其实例及其服务。取消设置群集数据库环境配置。更新指定的数据库以使用新的侦听器端点。将数据库及其所有服务的配置升级到运行此命令的数据库主目录版本。在许多指定节点上禁用特定磁盘组。在许多指定节点上启用特定磁盘组。预测Oracle ASM磁盘组故障的后果。从Oracle Clusterware或Oracle Restart中删除特定的Oracle ASM磁盘组资源。在许多指定节点上启动特定的Oracle ASM磁盘组资源。显示多个指定节点上特定磁盘组的状态。在许多指定节点上停止特定的Oracle ASM磁盘组资源。启动指定Oracle主目录上的所有Oracle Restart管理或Oracle Clusterware管理的资源。显示指定Oracle主目录的所有Oracle Restart管理资源或Oracle Clusterware管理资源的状态。停止从指定的Oracle主目录运行的所有Oracle Restart管理的或Oracle Clusterware管理的资源。将实例的配置添加到群集数据库配置。禁用数据库实例。启用Oracle RAC数据库的实例。对于管理员管理的数据库，此命令将数据库实例的配置从其当前节点修改为另一个节点。对于策略管理的数据库，此命令定义在数据库在指定节点上运行时要使用的实例名称。删除管理员管理的数据库实例的配置。在集群数据库中启动实例。srvctl stop instance命令停止实例并停止在指定实例上运行的任何服务。srvctl update instance命令更改实例连接的Oracle ASM实例或Oracle ASM IOServer，或者更改实例的打开模式。向集群中的每个节点添加侦听器。显示向Oracle Clusterware注册的特定侦听器的配置信息。禁用侦听器资源。启用侦听器资源。显示指定侦听器的环境变量。改变listener的几个方面预测听者失败的后果。从Oracle Clusterware或Oracle Restart中删除特定侦听器或所有侦听器的配置。管理侦听器环境配置。在特定节点上启动默认侦听器，或在Oracle Clusterware或给定节点上注册的所有节点上启动指定的侦听器。显示侦听器资源的状态。在所有节点或指定节点上停止默认侦听器或特定侦听器。取消设置侦听器的环境配置。更新侦听器以侦听新端点。添加静态或动态网络。显示群集的网络配置。修改网络的子网，网络类型或IP地址类型。预测网络故障的后果。删除网络配置。将节点应用程序配置添加到指定节点。显示群集中每个节点的VIP配置。禁用群集中所有节点上的节点应用程序。在群集中的所有节点上启用节点应用程序。显示节点应用程序配置的环境变量。修改节点应用程序的配置。删除节点应用程序配置。设置节点应用程序配置的环境变量。在节点或集群中的所有节点上启动节点级应用程序。显示节点应用程序的状态。停止群集中节点上的节点级应用程序。取消设置节点应用程序的环境配置。将Oracle Notification Service守护程序添加到Oracle Restart配置。显示Oracle Notification Service守护程序的配置信息。为Oracle重新启动安装禁用Oracle Notification Service守护程序。启用Oracle Notification Service守护程序。修改使用Oracle Restart注册的Oracle Notification Service后台驻留程序使用的端口。从Oracle Grid Infrastructure主目录中删除Oracle Notification Service。启动Oracle Notification Service守护程序。显示Oracle Notification Service守护程序的当前状态。停止Oracle Notification Service守护程序。为给定的SCAN添加Oracle Clusterware资源。默认情况下显示所有SCAN VIP的配置信息，或者显示ordinal_number标识的特定SCAN VIP。默认情况下禁用所有SCAN VIP，或者由ordinal_number标识的特定SCAN VIP。默认情况下启用所有SCAN VIP，或通过其序号识别的特定SCAN VIP。通过查找在DNS中指定的scan_name，修改SCAN VIP的数量以匹配返回的IP地址数。预测SCAN失败的后果。将特定SCAN VIP从其当前主机节点重定位到群集中的另一个节点。从所有SCAN VIP中删除Oracle Clusterware资源。默认情况下，在所有节点或群集中的特定节点上启动所有SCAN VIP或特定SCAN VIP。默认情况下显示所有SCAN VIP的状态或特定SCAN VIP。默认情况下，所有SCAN VIP都在运行或处于启动状态，或者停止由序号识别的特定SCAN VIP。为SCAN侦听器添加Oracle Clusterware资源。默认情况下显示所有SCAN侦听器的配置信息，或者显示由网络号或ordinal_number标识的特定侦听器。默认情况下禁用所有SCAN侦听器，或者按序号识别的特定侦听器。默认情况下启用所有SCAN侦听器，或由其序号标识的特定侦听器。修改SCAN侦听器以匹配SCAN VIP的侦听器，或修改SCAN侦听器端点或服务注册限制。预测SCAN侦听器失败的后果。将特定SCAN侦听器从其当前宿主节点重定位到群集中的另一个节点。从所有SCAN侦听器中删除Oracle Clusterware资源。默认情况下启动所有SCAN侦听器，或在所有节点或群集中的特定节点上启动特定侦听器。默认情况下显示所有SCAN侦听器的状态或特定侦听器。默认情况下，停止处于运行或启动状态的所有SCAN侦听器或由序号标识的特定侦听器。更新SCAN侦听器以侦听新端点。将服务器重定位到群集中的服务器池。显示特定服务器的当前状态。将服务添加到数据库并将其分配给实例。显示服务的配置。禁用服务。为Oracle Clusterware启用服务。修改服务配置。预测服务失败的后果。临时将指定的服务名称从一个指定的实例重定位到另一个指定的实例。删除服务的配置。在数据库，可插拔数据库或实例上启动服务或多个服务。显示服务的状态。跨群集数据库或指定实例全局停止一个或多个服务。添加配置为将Oracle数据库托管到群集的服务器池。显示配置信息，包括名称，最小大小，最大大小，重要性以及群集中特定服务器池的服务器名称列表（如果适用）。修改群集中的服务器池。删除特定的服务器池。显示服务器池名称，服务器池中的服务器数量，以及（可选）服务器池中服务器的名称。向节点添加虚拟IP地址（VIP）。显示群集中除用户VIP之外的所有网络上的所有VIP。禁用特定VIP.Enables特定VIP。为特定VIP设置环境变量的值。修改IP地址类型，但您也可以使用它来修改IP地址。预测VIP失败的后果。将特定VIP从其当前主机节点重定位到群集中的另一个节点。删除特定的VIP。管理群集VIP环境配置。在特定节点上启动特定VIP或VIP。显示特定节点上特定VIP或VIP的状态。停止特定节点上的特定VIP或所有VIP，包括因故障转移而重新定位的任何VIP。取消设置指定群集VIP的环境配置。显示特定卷或所有卷的配置。禁用特定卷或所有卷的Oracle Clusterware管理。为特定卷或所有卷启用Oracle Clusterware管理。删除特定卷。启动特定的启用卷。显示特定卷或所有卷的状态。停止特定的运行卷。">Server Control Utility Reference</a></li>
                        <li><a href="workload-management-with-dynamic-database-services.html#GUID-6524637F-FE3E-46D9-8B47-887C0D7C562C" title="Oracle GoldenGate利用Oracle RAC功能。使用Oracle Clusterware管理数据库时，可以使用带有-policy参数的srvctl add service命令添加服务时，为每个单独的数据库服务配置启动选项。如果在您的环境中配置了Oracle Data Guard，则可以在使用SRVCTL添加或修改服务时为服务定义角色，并使用适当的命令添加-role参数。为管理员管理的数据库定义服务时，可以使用带有-preferred参数的SRVCTL定义通常支持该服务的实例。如果可能，Oracle RAC将具有相同COLOCATION_TAG的客户端路由到同一数据库实例。为策略管理的数据库定义服务时，可以使用带有-serverpool参数的SRVCTL将服务分配给托管数据库的服务器池。Oracle Net Services提供连接负载平衡，使您能够跨所有支持服务的实例分布用户连接。默认情况下，此功能仅允许从本地IP地址注册侦听器，并提供配置和动态更新侦听器允许注册请求的一组IP地址或子网的功能。">服务部署选项</a></li>
                     </ul>
                  </div>
               </div>
            </div><a id="RACAD8962"></a><div class="sect2"><a id="GUID-47567ABC-B23E-40D7-AE82-D6ADE437ED81" name="GUID-47567ABC-B23E-40D7-AE82-D6ADE437ED81"></a><h3 id="RACAD-GUID-47567ABC-B23E-40D7-AE82-D6ADE437ED81" class="sect3">管理数据库服务器的内存压力</h3>
               <div>
                  <p>由于过多的打开会话或失控的工作负载，企业数据库服务器可以使用所有可用内存。内存不足可能导致事务失败，或者在极端情况下，导致服务器重新启动以及丢失应用程序的宝贵资源。Memory Guard实时检测服务器上的<a href="glossary.html#GUID-2BDE4D57-1D3B-4E2F-A3D8-95DFA8B2452F"><span class="xrefglossterm">内存压力</span></a> ，并将新会话重定向到其他服务器，以防止使用压力服务器上的所有可用内存。
                  </p>
                  <p>启用Oracle数据库QoS管理并管理Oracle Clusterware服务器池时，Cluster Health Monitor会发送一个度量流，该群集流可为群集服务器提供有关内存资源的实时信息。 <a id="d11719e6869" class="indexterm-anchor"></a>记忆保护。此信息包括以下内容：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>可用内存量</p>
                     </li>
                     <li>
                        <p>当前正在使用的内存量</p>
                     </li>
                  </ul>
                  <p>如果Memory Guard确定节点遇到内存压力，则Oracle Clusterware管理的数据库服务将在该节点上停止，从而阻止创建新连接。释放内存压力后，该节点上的服务将自动重新启动，并且侦听器开始向该服务器发送新连接。可以通过多种方式缓解内存压力（例如，通过关闭现有会话或通过用户干预）。</p>
                  <p>将新会话重新路由到不同的服务器可以保护内存压力服务器上的现有工作负载，并使服务器保持可用状态。Memory Guard是Oracle RAC的一项功能，可管理服务器的内存压力，为管理Oracle RAC数据库上托管的应用程序的服务级别添加新的资源保护功能。</p>
               </div>
            </div><a id="RACAD038"></a><div class="sect2"><a id="GUID-8FCC2701-0226-4E9A-BAD7-AF479291274F" name="GUID-8FCC2701-0226-4E9A-BAD7-AF479291274F"></a><h3 id="RACAD-GUID-8FCC2701-0226-4E9A-BAD7-AF479291274F" class="sect3">停顿Oracle RAC数据库</h3>
               <div>
                  <p>停顿Oracle RAC数据库的过程与停顿非群集数据库相同。</p>
                  <p>您可以使用一个实例的<code class="codeph">ALTER SYSTEM QUIESCE RESTRICTED</code>语句。在数据库处于停顿状态时，您无法从任何实例打开数据库。当所有非DBA会话变为非活动状态时， <code class="codeph">ALTER SYSTEM QUIESCE RESTRICTED</code>语句结束，并且数据库被视为处于静默状态。在Oracle RAC环境中，此语句会影响所有实例，而不仅仅是发出语句的实例。
                  </p>
                  <p>要在Oracle RAC环境中成功发出<code class="codeph">ALTER SYSTEM QUIESCE RESTRICTED</code>语句，必须激活数据库资源管理器功能，并且必须在实例启动后为集群数据库中的所有实例激活该功能。通过数据库资源管理器的功能，可以防止非DBA会话变为活动状态。此外，在此语句生效时，任何更改当前资源计划的尝试都会排队，直到系统取消静默。
                  </p>
                  <p>这些条件适用于Oracle RAC：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>如果您发出了<code class="codeph">ALTER SYSTEM QUIESCE RESTRICTED</code>语句但Oracle数据库尚未完成处理，则无法打开数据库。
                        </p>
                     </li>
                     <li>
                        <p>如果数据库处于静默状态，则无法打开该数据库。</p>
                     </li>
                     <li>
                        <p><code class="codeph">ALTER SYSTEM QUIESCE RESTRICTED</code>和<code class="codeph">ALTER SYSTEM UNQUIESCE</code>语句会影响Oracle RAC环境中的所有实例，而不仅仅是发出命令的实例。
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnote" id="GUID-8FCC2701-0226-4E9A-BAD7-AF479291274F__GUID-E6F40CDF-A2A6-430A-98DB-0643EE0E6370">
                     <p class="notep1">注意：</p>
                     <p>您无法使用静默状态进行冷备份。这是因为即使在数据库处于静默状态时，Oracle数据库后台进程仍可能为Oracle数据库内部目的执行更新。此外，在线数据文件的文件头继续看起来像是被访问。它们看起来不像干净关闭一样。在数据库处于静默状态时，您仍可以进行联机备份。</p>
                  </div>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="../admin/starting-up-and-shutting-down.html#ADMIN-GUID-A4DC6300-D0C2-4908-8658-95DD6ECA7A23" target="_blank"><span><cite>Oracle数据库管理员指南</cite></span></a></li>
                        <li><a href="../sqlrf/SQL-Statements-ALTER-SYNONYM-to-COMMENT.html#SQLRF-GUID-7B9A6386-C065-4D0D-957E-9859DD917A6C" target="_blank"><span><cite>Oracle数据库SQL语言参考</cite></span></a></li>
                     </ul>
                  </div>
               </div>
            </div><a id="RACAD7295"></a><div class="sect2"><a id="GUID-902A9C37-6534-4675-92B5-7F3B856106B0" name="GUID-902A9C37-6534-4675-92B5-7F3B856106B0"></a><h3 id="RACAD-GUID-902A9C37-6534-4675-92B5-7F3B856106B0" class="sect3">在Linux和UNIX平台上管理多个群集互连</h3>
               <div>
                  <p>在Linux和UNIX平台上运行的Oracle RAC环境中，可以使用<code class="codeph">CLUSTER_INTERCONNECTS</code>初始化参数指定Oracle Clusterware用于专用网络的备用互连。
                  </p>
                  <div class="infoboxnote" id="GUID-902A9C37-6534-4675-92B5-7F3B856106B0__GUID-D8BF022B-8846-466E-BC46-720AA9899222">
                     <p class="notep1">注意：</p>
                     <p>不应将<code class="codeph">CLUSTER_INTERCONNECTS</code>初始化参数设置为冗余互连使用提供的高可用IP（HAIP）地址。HAIP地址自动识别。
                     </p>
                  </div>
                  <p>如果为<code class="codeph">CLUSTER_INTERCONNECTS</code>设置了多个值，则Oracle数据库将使用您为互连指定的所有网络接口，从而在所有列出的互连保持运行时提供负载平衡。在使用此参数定义多个互连时，必须在数据库的所有实例上使用相同的值，包括列出互连的顺序。
                  </p>
                  <div class="infoboxnote" id="GUID-902A9C37-6534-4675-92B5-7F3B856106B0__GUID-EB4B2088-A922-48D5-B4E7-90F468DB3D29">
                     <p class="notep1">注意：</p>
                     <p>Oracle建议不要设置<code class="codeph">CLUSTER_INTERCONNECTS</code>初始化参数，该参数会覆盖操作系统级别的默认互连设置。
                     </p>
                  </div>
                  <p>相反，最佳实践是使用冗余互连使用，可用于Oracle RAC和Oracle Real Application Clusters One Node 11 <span class="italic">g</span>版本2（11.2）数据库及更高版本的Oracle Grid Infrastructure <span class="italic">11g第</span> 2版（11.2）。对于Oracle Database <span class="italic">11g第</span> 2版（11.2）之前的数据库，请使用基于操作系统的网络绑定技术为要用作群集互连的网络接口卡启用高可用性（和负载平衡）。如果要在一个群集中使用多个数据库版本，可以将这两种技术结合使用。冗余互连使用将使用操作系统级别上提供的接口，无论绑定如何。有关粘接技术的更多信息，请与操作系统供应商联系。
                  </p>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="../cwadd/oracle-clusterware-administration.html#CWADD-GUID-478452E9-5A0B-4B36-BF82-CDF585007D14" target="_blank"><span><cite>“Oracle Clusterware管理和部署指南”</cite></span></a></li>
                     </ul>
                  </div>
               </div><a id="RACAD8916"></a><a id="RACAD7296"></a><div class="sect3"><a id="GUID-84A783D4-9D71-434A-B885-77B77345C8DF" name="GUID-84A783D4-9D71-434A-B885-77B77345C8DF"></a><h4 id="RACAD-GUID-84A783D4-9D71-434A-B885-77B77345C8DF" class="sect4">用例设置CLUSTER_INTERCONNECTS参数</h4>
                  <div>
                     <p><code class="codeph">CLUSTER_INTERCONNECTS</code>初始化参数需要IP地址。它允许您指定多个IP地址，以冒号分隔。Oracle RAC网络流量在指定的IP地址之间分配。
                     </p>
                     <div class="infoboxnote" id="GUID-84A783D4-9D71-434A-B885-77B77345C8DF__GUID-D4E48490-EF23-458C-A1C2-86E6C0A5A69E">
                        <p class="notep1">注意：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>在使用策略管理的数据库时，Oracle建议不要设置<code class="codeph">CLUSTER_INTERCONNECTS</code>参数。
                              </p>
                           </li>
                           <li>
                              <p>Oracle建议所有数据库和Oracle Clusterware使用相同的互连网络。</p>
                           </li>
                        </ul>
                     </div>
                     <p>通常，仅在以下情况下设置<code class="codeph">CLUSTER_INTERCONNECTS</code>参数：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>群集正在运行<a id="d11719e7474" class="indexterm-anchor"></a>多个数据库，您需要分离互连流量，并且不使用冗余互连使用。
                           </p>
                        </li>
                        <li>
                           <p>您有一个操作系统高度可用的单个IP地址，并且它没有稳定的接口名称（例如，重新启动时名称可能会更改）。</p>
                        </li>
                     </ul>
                     <p>不要为以下常见配置设置<code class="codeph">CLUSTER_INTERCONNECTS</code>参数：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>如果要使用冗余互连使用。</p>
                        </li>
                        <li>
                           <p>如果只有一个群集互连。</p>
                        </li>
                        <li>
                           <p>如果默认群集互连符合Oracle RAC数据库的带宽要求，通常就是这种情况。</p>
                        </li>
                     </ul>
                     <p>在指定<code class="codeph">CLUSTER_INTERCONNECTS</code>初始化参数时，请考虑以下要点：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">CLUSTER_INTERCONNECTS</code>初始化参数仅在启用了UDP IPC的Linux和UNIX环境中有用。
                           </p>
                        </li>
                        <li>
                           <p>在参数文件中设置<code class="codeph">CLUSTER_INTERCONNECTS</code>初始化参数时，为每个Oracle RAC数据库实例指定不同的值。
                           </p>
                        </li>
                        <li>
                           <p>您为不同节点上的同一数据库的不同实例指定的IP地址必须属于连接到同一互连网络的网络适配器。</p>
                        </li>
                        <li>
                           <p>如果为此参数指定多个IP地址，则以相同顺序为同一数据库的所有实例列出它们。例如，如果<code class="codeph">node1</code>上第一个实例的参数按该<code class="codeph">alt0:</code>列出<code class="codeph">alt0:</code> ， <code class="codeph">fta0:</code>和<code class="codeph">ics0:</code>设备的IP地址，则<code class="codeph">node2</code>上第二个实例的参数必须列出等效网络的IP地址适配器的顺序相同。
                           </p>
                        </li>
                        <li>
                           <p>如果在Oracle数据库写入您使用<code class="codeph">CLUSTER_INTERCONNECTS</code>参数指定的互连时发生操作系统错误，则即使某些其他接口可用，Oracle数据库也会返回错误。这是因为Oracle数据库和互连之间的通信协议可能因您的平台而有很大差异。有关更多信息，请参见Oracle数据库平台特定的文档。
                           </p>
                        </li>
                     </ul>
                     <div class="section">
                        <p class="subhead3" id="GUID-84A783D4-9D71-434A-B885-77B77345C8DF__GUID-79766051-22CD-41BB-90FC-B4F1A3BE309C">例</p>
                     </div>
                     <!-- class="section" -->
                     <p>当单个群集互连无法满足您的带宽要求时，请考虑设置<code class="codeph">CLUSTER_INTERCONNECTS</code> 。您可能需要在数据仓库环境中设置此参数，该环境具有来自一个或多个无法使用冗余互连使用的数据库的高互连带宽需求。
                     </p>
                     <p>例如，如果您有两个具有高互连带宽要求的数据库，则可以覆盖操作系统提供的默认互连，并在每个服务器参数文件中使用以下语法为每个数据库指定不同的互连，其中<code class="codeph">ip <span class="variable" translate="no">n</span></code>是IP地址标准点小数格式，例如： <code class="codeph">144.25.16.214</code> ：</p><pre class="pre codeblock"><code>数据库一：crm1。CLUSTER_INTERCONNECTS = ip1数据库二：ext1。CLUSTER_INTERCONNECTS = ip2</code></pre><p>如果您有一个具有高带宽需求的数据库，则可以使用以下语法指定多个互连：</p><pre class="pre codeblock"><code>CLUSTER_INTERCONNECTS = ip1：ip2：...：ip <span class="variable" translate="no">n</span></code></pre></div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="../refrn/CLUSTER_INTERCONNECTS.html#REFRN-GUID-6B0B0F1D-3DB0-415B-B914-2649FE02E4DA" target="_blank"><span><cite>Oracle数据库参考</cite></span></a></li>
                        </ul>
                     </div>
                  </div>
               </div>
            </div><a id="RACAD8332"></a><a id="RACAD8333"></a><a id="RACAD8334"></a><a id="RACAD7298"></a><div class="sect2"><a id="GUID-724B90C3-8A4A-4E39-B39A-C13586668B1E" name="GUID-724B90C3-8A4A-4E39-B39A-C13586668B1E"></a><h3 id="RACAD-GUID-724B90C3-8A4A-4E39-B39A-C13586668B1E" class="sect3">自定义Oracle Clusterware如何管理Oracle RAC数据库</h3>
               <div>
                  <p>使用这些示例可以最大限度地减少Oracle Clusterware对Oracle RAC数据库的控制，您可能需要在升级期间执行这些操作。</p>
                  <p>默认情况下，Oracle Clusterware控制Oracle RAC环境中的数据库重新启动。在某些情况下，您可能需要最小化Oracle Clusterware对Oracle RAC数据库的控制级别，例如，在数据库升级期间。</p>
                  <div class="infoboxnote" id="GUID-724B90C3-8A4A-4E39-B39A-C13586668B1E__GUID-E2ED1A11-3F39-4C39-B396-6DDA10ACDC40">
                     <p class="notep1">注意：</p>
                     <p>使用第三方集群件时，Oracle建议您使用Oracle Clusterware管理Oracle RAC实例。如果将实例设置为手动并使用第三方集群件启动，则不要使用第三方集群件来监视和重新启动数据库实例，因为Oracle Clusterware必须这样做。</p>
                  </div>
                  <p>要在重新启动系统时阻止Oracle Clusterware重新启动Oracle RAC数据库，或者为了避免多次重新启动失败的实例，请配置管理策略以定义控制程度。有两个管理策略：AUTOMATIC（默认值）和MANUAL（管理）。如果管理策略设置为AUTOMATIC，则在重新启动数据库主机时，数据库将自动恢复到先前的运行状态（已启动或已停止）。如果是MANUAL，则在重新启动数据库主机时，数据库永远不会自动重新启动。MANUAL设置不会阻止Oracle Restart在数据库运行时监视数据库，并在发生故障时重新启动数据库。</p>
                  <p>使用SRVCTL命令显示和更改Oracle Clusterware管理策略，如以下示例所示：</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-724B90C3-8A4A-4E39-B39A-C13586668B1E__GUID-CBC4C513-BA8A-403F-9D7F-01E928AC77CD">示例1：显示当前管理策略</p>
                     <p>使用以下命令语法显示当前管理策略，其中<code class="codeph"><span class="variable" translate="no">db_unique_name</span></code>是要更改管理策略的数据库的名称：</p><pre class="pre codeblock"><code>srvctl config database -db <span class="variable" translate="no">db_unique_name</span> -all</code></pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-724B90C3-8A4A-4E39-B39A-C13586668B1E__GUID-7BF7FC1D-94A1-4EC1-A7B6-FB7EA99B3486">示例2：将当前管理策略更改为另一个管理策略</p>
                     <p>使用以下SRVCTL命令语法将当前管理策略更改为AUTOMATIC，MANUAL或NORESTART：</p><pre class="pre codeblock"><code>srvctl修改数据库-db <span class="variable" translate="no">db_unique_name</span> -policy [AUTOMATIC |手动| NORESTART]</code></pre><p>此命令语法设置数据库资源的资源属性。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-724B90C3-8A4A-4E39-B39A-C13586668B1E__GUID-CEBA1A26-D789-4343-B1AB-6D2C63F6D954">示例3：为新数据库指定管理策略</p>
                     <p>使用<code>srvctl add database</code>命令添加新数据库时，可以使用<code class="codeph">-policy</code>参数将管理策略指定为<code>AUTOMATIC</code> ， <code>MANUAL</code>或<code>NORESTART</code> ，如以下示例所示，其中<code class="codeph"><span class="variable" translate="no">db_unique_name</span></code>是数据库的名称：</p><pre class="pre codeblock"><code>srvctl add database -db <span class="variable" translate="no">db_unique_name</span> -policy [AUTOMATIC |手动| NORESTART] -oraclehome $ ORACLE_HOME -dbname DATA</code></pre><p>此命令语法将新数据库置于Oracle Clusterware的控制之下。如果您未提供管理策略选项，则Oracle数据库使用默认值<code class="codeph"><code>automatic</code></code> 。更改管理策略后，Oracle Clusterware资源会记录受影响数据库的新值。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="server-control-utility-reference.html#GUID-B524D687-81BE-4101-9905-D1F8CE2933F0" title="显示Oracle RAC数据库的配置或列出向Oracle Clusterware注册的所有已配置数据库。">srvctl配置数据库</a></li>
                        <li><a href="server-control-utility-reference.html#GUID-EDA4A5A2-AAC8-4DB8-B0BE-3074AAA02410" title="修改数据库的配置。">srvctl修改数据库</a></li>
                        <li><a href="server-control-utility-reference.html#GUID-CC177CE9-D7D8-4C62-A238-EC660A3837B7" title="将数据库配置添加到Oracle Clusterware。">srvctl添加数据库</a></li>
                     </ul>
                  </div>
               </div>
            </div><a id="RACAD1804"></a><div class="sect2"><a id="GUID-298F829A-FE36-4FEC-9423-D0225FE39F1B" name="GUID-298F829A-FE36-4FEC-9423-D0225FE39F1B"></a><h3 id="RACAD-GUID-298F829A-FE36-4FEC-9423-D0225FE39F1B" class="sect3">高级Oracle企业管理器管理</h3>
               <div>
                  <p>您可以使用Oracle Enterprise Manager Cloud Control从单个位置安装，配置和监视Oracle RAC数据库。</p>
                  <p>本节提供<span><cite>Oracle数据库2日+实际应用程序集群指南</cite></span>或<span class="q">“监视和调优Oracle RAC数据库概述”</span>中未涵盖的高级管理任务。
                  </p>
                  <p>本节包括以下主题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="administering-database-instances-and-cluster-databases.html#GUID-3D1282DE-818F-4F9B-ADD0-D023A4069C6C">使用Oracle Enterprise Manager云控制来发现节点和实例</a></p>
                     </li>
                     <li>
                        <p><a href="administering-database-instances-and-cluster-databases.html#GUID-194C1104-11E4-482A-9F59-63034A9BD1E8">其他Oracle企业管理器功能</a></p>
                     </li>
                     <li>
                        <p><a href="administering-database-instances-and-cluster-databases.html#GUID-7BF7E846-D911-4CAC-B618-E56E9E7872F1" title="您可以使用Oracle Enterprise Manager配置Oracle RAC环境警报。">在Oracle RAC中管理作业和警报</a></p>
                     </li>
                  </ul>
               </div><a id="RACAD901"></a><div class="sect3"><a id="GUID-3D1282DE-818F-4F9B-ADD0-D023A4069C6C" name="GUID-3D1282DE-818F-4F9B-ADD0-D023A4069C6C"></a><h4 id="RACAD-GUID-3D1282DE-818F-4F9B-ADD0-D023A4069C6C" class="sect4">使用Oracle Enterprise Manager云控制来发现节点和实例</h4>
                  <div>
                     <p>在Oracle Enterprise Manager中发现Oracle RAC数据库和实例目标可实现监视和管理。</p>
                     <p><span class="bold">通过Oracle Enterprise Manager Cloud Control，</span>您可以使用Oracle Enterprise Manager控制台界面来发现Oracle RAC数据库和实例目标。
                     </p>
                     <p>如果Oracle Enterprise Manager Cloud Control代理安装在具有Oracle RAC数据库的群集上，则会在安装时发现Oracle RAC数据库目标。如果在安装代理程序后创建数据库，或者在代理程序安装时未自动发现数据库，则可以使用控制台界面发现目标。</p>
                     <p>要发现节点和实例，请使用Oracle Enterprise Manager Cloud Control，如下所示：</p>
                     <ol>
                        <li>
                           <p>登录Oracle Enterprise Manager，然后单击“ <span class="bold">目标”</span>选项卡。
                           </p>
                        </li>
                        <li>
                           <p>单击“ <span class="bold">数据库”</span>选项卡以查看所有可用目标。标记为“ <span class="bold">类型</span> ”的列显示使用条目<span class="italic">群集数据库</span>的Oracle RAC数据库。
                           </p>
                        </li>
                        <li>
                           <p>通过选择目标名称添加数据库目标，然后单击“ <span class="bold">添加”</span> 。将显示“添加数据库目标：指定主机”页面，使您可以将数据库，侦听器和Oracle ASM添加为受监视目标。
                           </p>
                        </li>
                        <li>
                           <p>单击手电筒图标以显示可用的主机名，选择主机，然后单击<span class="bold">继续</span> 。将出现“添加数据库：指定源”页面。
                           </p>
                        </li>
                        <li>
                           <p>请求Oracle Enterprise Manager仅发现非群集数据库和侦听器，或者发现群集上的所有群集数据库，非群集数据库和侦听器，然后单击“ <span class="bold">继续”</span> 。
                           </p>
                        </li>
                        <li>
                           <p>如果此过程未发现重新配置的群集数据库及其所有实例，则可以使用“在群集上发现的目标”页面手动配置群集数据库和非群集数据库。</p>
                        </li>
                     </ol>
                  </div>
               </div><a id="RACAD8213"></a><div class="sect3"><a id="GUID-194C1104-11E4-482A-9F59-63034A9BD1E8" name="GUID-194C1104-11E4-482A-9F59-63034A9BD1E8"></a><h4 id="RACAD-GUID-194C1104-11E4-482A-9F59-63034A9BD1E8" class="sect4">其他Oracle企业管理器功能</h4>
                  <div>
                     <p>本节列出了Oracle Enterprise Manager 12 <span class="italic">c中</span>可用的Oracle Enterprise Manager功能。
                     </p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>Oracle Grid Infrastructure / Oracle RAC Provisioning部署过程提供了Oracle RAC 12 <span class="italic">c</span>和Oracle Grid Infrastructure。此过程还具有名为“ <span class="italic">个人档案”</span>的功能，使您可以记录输入并随后将其用于重复部署。
                           </p>
                        </li>
                        <li>
                           <p>当连接到My Oracle Support（以前称为Oracle <span class="italic">MetaLink</span> ）时，新过程的动态先决条件使Oracle Enterprise Manager能够下载Oracle RAC配置的最新先决条件和工具。
                           </p>
                        </li>
                        <li>
                           <p>现有的<span class="italic">一键式扩展群集数据库</span>功能现在支持Oracle RAC 12 <span class="italic">c</span>堆栈。
                           </p>
                        </li>
                        <li>
                           <p>现有的<span class="italic">删除/缩减Oracle Real Application Clusters</span>功能已通过Oracle RAC 12 <span class="italic">c</span>群集认证。
                           </p>
                        </li>
                        <li>
                           <p>现有的<span class="italic">Oracle数据库配置</span>过程现在支持配置Oracle Database 12 <span class="italic">c</span>的单个实例。
                           </p>
                        </li>
                        <li>
                           <p>已引入新的部署过程 - 针对独立服务器的Oracle Grid Infrastructure Provisioning  - 为非群集数据库配置Oracle Grid Infrastructure 12 <span class="italic">c</span> 。
                           </p>
                        </li>
                     </ul>
                  </div>
               </div><a id="RACAD915"></a><div class="sect3"><a id="GUID-7BF7E846-D911-4CAC-B618-E56E9E7872F1" name="GUID-7BF7E846-D911-4CAC-B618-E56E9E7872F1"></a><h4 id="RACAD-GUID-7BF7E846-D911-4CAC-B618-E56E9E7872F1" class="sect4">在Oracle RAC中管理作业和警报</h4>
                  <div>
                     <p>Cluster Database主页显示Oracle RAC数据库中的所有实例，并提供<a href="glossary.html#GUID-A77E24D9-6B1E-47B1-A5AD-A64E34A6F023"><span class="xrefglossterm">自动工作负载存储库（AWR）</span></a>为服务器可管理性收集的若干Oracle RAC特定统计信息的聚合集合。
                     </p>
                     <p>您无需导航到特定于实例的页面即可查看这些详细信息。但是，在“群集数据库主页”上，如果某个实例已关闭且应该正在运行，或者实例具有大量警报，则可以深入查看每个警报的特定于实例的页面。</p>
                     <p>要执行本节其余部分所述的特定管理任务，请登录到目标Oracle RAC数据库，导航到Cluster Database Home页面，然后单击<span class="bold">Administration</span>选项卡。
                     </p>
                     <p>本节包括以下主题：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="administering-database-instances-and-cluster-databases.html#GUID-39030925-33F1-482A-AC86-7C8A8111F456">在Oracle RAC中管理作业</a></p>
                        </li>
                        <li>
                           <p><a href="administering-database-instances-and-cluster-databases.html#GUID-0F0D32E1-C49D-408E-B88B-2C747863FE71" title="您可以使用Oracle Enterprise Manager配置Oracle RAC环境警报。">使用Oracle Enterprise Manager在Oracle RAC中管理警报</a></p>
                        </li>
                        <li>
                           <p><a href="administering-database-instances-and-cluster-databases.html#GUID-36BC76C5-1EB3-4B84-9F0F-5C7C2D3202F5">在Oracle Enterprise Manager中使用已定义的黑名单</a></p>
                        </li>
                     </ul>
                  </div><a id="RACAD916"></a><div class="sect4"><a id="GUID-39030925-33F1-482A-AC86-7C8A8111F456" name="GUID-39030925-33F1-482A-AC86-7C8A8111F456"></a><h5 id="RACAD-GUID-39030925-33F1-482A-AC86-7C8A8111F456" class="sect5">在Oracle RAC中管理作业</h5>
                     <div>
                        <p>你可以管理<a id="d11719e8730" class="indexterm-anchor"></a><a id="d11719e8734" class="indexterm-anchor"></a><a id="d11719e8738" class="indexterm-anchor"></a>数据库和实例级别的Oracle Enterprise Manager作业。例如，您可以在群集数据库级别创建作业，以在目标Oracle RAC数据库的任何活动实例上运行。或者，您可以在实例级别创建作业，以在您为其创建的特定实例上运行。如果出现故障，则可以在正常运行的实例上运行重复作业。
                        </p>
                        <p>由于可以在实例级别，集群级别或集群数据库级别创建作业，因此作业可以在集群数据库中的任何可用主机上运行。这也适用于预定的工作。Oracle Enterprise Manager还显示多个类别的作业活动，包括“ <code class="codeph">Active</code> ，“ <code class="codeph">History</code> ”和“ <code class="codeph">Library</code> 。
                        </p>
                        <p>使用“作业”选项卡提交操作系统脚本和SQL脚本并检查计划作业。例如，要为特定Oracle RAC数据库创建备份作业：</p>
                        <ol>
                           <li>
                              <p>单击“ <span class="bold">目标”</span> ，然后单击要为其创建作业的数据库。
                              </p>
                           </li>
                           <li>
                              <p>登录目标数据库。</p>
                           </li>
                           <li>
                              <p>当Oracle Enterprise Manager显示“数据库主页”时，单击“ <span class="bold">维护”</span> 。
                              </p>
                           </li>
                           <li>
                              <p>完成“企业管理作业向导”页面以创建作业。</p>
                           </li>
                        </ol>
                     </div>
                  </div><a id="RACAD917"></a><div class="sect4"><a id="GUID-0F0D32E1-C49D-408E-B88B-2C747863FE71" name="GUID-0F0D32E1-C49D-408E-B88B-2C747863FE71"></a><h5 id="RACAD-GUID-0F0D32E1-C49D-408E-B88B-2C747863FE71" class="sect5">使用Oracle Enterprise Manager在Oracle RAC中管理警报</h5>
                     <div>
                        <p>您可以使用Oracle Enterprise Manager配置Oracle RAC环境警报。</p>
                        <p>您还可以配置特殊的Oracle RAC数据库测试，例如全局高速缓存转换，一致性读取请求等。</p>
                        <p>Oracle Enterprise Manager区分Oracle RAC环境中的数据库级和实例级警报。可以在实例目标级别设置实例级警报的警报阈值，例如存档日志警报。此功能使您可以在性能超过阈值时接收特定实例的警报。您还可以在数据库级别配置警报，例如设置表空间的警报，以避免在每个实例上接收重复警报。</p>
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>相关话题</strong></p>
                           <ul>
                              <li><a href="../arpls/introduction-to-oracle-supplied-plsql-packages-and-types.html#ARPLS-GUID-4AA6AA30-CAEE-4DCD-B214-9AD51D0229B4" target="_blank"><span><cite>Oracle数据库PL / SQL包和类型参考</cite></span></a></li>
                           </ul>
                        </div>
                        <div class="infoboxnotealso" id="GUID-0F0D32E1-C49D-408E-B88B-2C747863FE71__GUID-C0321553-51B6-4141-AE54-E6710A51A5C5">
                           <p class="notep1">也可以看看：</p>
                           <p>有关使用程序包配置阈值的信息，请参阅Oracle技术网，以获取在Oracle RAC和<span><cite>Oracle数据库PL / SQL程序包和类型参考</cite></span>中配置警报的示例</p>
                        </div>
                     </div>
                  </div><a id="RACAD918"></a><div class="sect4"><a id="GUID-36BC76C5-1EB3-4B84-9F0F-5C7C2D3202F5" name="GUID-36BC76C5-1EB3-4B84-9F0F-5C7C2D3202F5"></a><h5 id="RACAD-GUID-36BC76C5-1EB3-4B84-9F0F-5C7C2D3202F5" class="sect5">在Oracle Enterprise Manager中使用已定义的黑名单</h5>
                     <div>
                        <p>您可以<a id="d11719e9094" class="indexterm-anchor"></a>定义停电（数据库监控暂停的时间段，以便维护操作不会扭曲监控数据或生成不必要的警报），以便Oracle RAC数据库的所有受管目标在执行维护时防止发生警报。您可以为整个群集数据库或特定群集数据库实例定义中断。
                        </p>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>