<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>全球环境中的OCI编程</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Database Globalization Support Guide "></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Database Globalization Support Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-globalization-support-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-02-12T02:55:13-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2007, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96349-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="sql-and-plsql-programming-in-global-environment.html" title="Previous" type="text/html"></link>
      <link rel="next" href="character-set-migration.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Globalization Support Guide"></meta>
    <meta name="dcterms.isVersionOf" content="NLSPG"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="sql-and-plsql-programming-in-global-environment.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="character-set-migration.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">数据库全球化支持指南</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">全球环境中的OCI编程</li>
            </ol>
            <a id="GUID-EC6C34A4-EBA0-4AA6-BBDC-191A1068A2E9" name="GUID-EC6C34A4-EBA0-4AA6-BBDC-191A1068A2E9"></a><a id="NLSPG010"></a>
            
            <h2 id="NLSPG-GUID-EC6C34A4-EBA0-4AA6-BBDC-191A1068A2E9" class="sect2"><span class="enumeration_chapter">10</span>全球环境中的OCI编程</h2>
         </header>
         <div class="ind">
            <div>
               <p>本章包含有关全球化环境中OCI编程的信息。本章包括以下主题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="OCI-programming-in-global-environment.html#GUID-5CBC5809-C3AB-41E8-BB16-C8F2429C0B72">使用OCI NLS功能</a></p>
                  </li>
                  <li>
                     <p><a href="OCI-programming-in-global-environment.html#GUID-862EA6EF-0D7E-43DD-9ADE-D6648D8F7988">在OCI中指定字符集</a></p>
                  </li>
                  <li>
                     <p><a href="OCI-programming-in-global-environment.html#GUID-598A9DB5-FA59-4CF2-931C-31DB9C810897">获取OCI中的区域设置信息</a></p>
                  </li>
                  <li>
                     <p><a href="OCI-programming-in-global-environment.html#GUID-E93C7910-8B5A-4094-BA5A-2096A4D83673">在Oracle和其他标准之间映射区域设置信息</a></p>
                  </li>
                  <li>
                     <p><a href="OCI-programming-in-global-environment.html#GUID-1B4CE8FF-AA33-46D1-82E2-882897D2A4DA">在OCI中操纵字符串</a></p>
                  </li>
                  <li>
                     <p><a href="OCI-programming-in-global-environment.html#GUID-10FE378D-F1FB-4E0D-A9A7-709089CE5036">在OCI中对字符进行分类</a></p>
                  </li>
                  <li>
                     <p><a href="OCI-programming-in-global-environment.html#GUID-EB5518AA-9EE2-4B3F-A3C6-16CCE480E355">在OCI中转换字符集</a></p>
                  </li>
                  <li>
                     <p><a href="OCI-programming-in-global-environment.html#GUID-15309D1A-7A71-4383-B7D9-3F050D06A937">OCI消息传递功能</a></p>
                  </li>
                  <li>
                     <p><a href="OCI-programming-in-global-environment.html#GUID-B0EB7DD5-72B4-4297-AFC0-5C88E87A20F9">lmsgen实用程序</a></p>
                  </li>
               </ul>
            </div><a id="NLSPG451"></a><div class="props_rev_3"><a id="GUID-5CBC5809-C3AB-41E8-BB16-C8F2429C0B72" name="GUID-5CBC5809-C3AB-41E8-BB16-C8F2429C0B72"></a><h3 id="NLSPG-GUID-5CBC5809-C3AB-41E8-BB16-C8F2429C0B72" class="sect3"><span class="enumeration_section">10.1</span>使用OCI NLS功能</h3>
               <div>
                  <p>许多OCI NLS函数接受以下句柄之一：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>环境处理</p>
                     </li>
                     <li>
                        <p>用户会话句柄</p>
                     </li>
                  </ul>
                  <p>OCI环境句柄与客户端NLS环境相关联，并使用客户端NLS环境变量进行初始化。向服务器发出<code class="codeph">ALTER</code> <code class="codeph">SESSION</code>语句时，此环境不会更改。与环境句柄关联的字符集是客户端字符集。
                  </p>
                  <p>OCI会话句柄与服务器会话环境相关联。使用<code class="codeph">ALTER</code> <code class="codeph">SESSION</code>语句修改会话环境时，其NLS设置会更改。与会话句柄关联的字符集是数据库字符集。
                  </p>
                  <p>请注意，在会话中第一个事务开始之前，OCI会话句柄没有与之关联的任何NLS设置。<code class="codeph">SELECT</code>语句不会开始事务。
                  </p>
                  <div class="infoboxnotealso" id="GUID-5CBC5809-C3AB-41E8-BB16-C8F2429C0B72__GUID-54417F46-D364-4D78-9A20-3D24A5A9DB3D">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="../lnoci/oci-globalization-support-functions.html#LNOCI210" target="_blank"><span class="italic">Oracle Call Interface Programmer's Guide</span></a> ，了解有关OCI NLS功能的详细信息</p>
                  </div>
               </div>
            </div><a id="NLSPG452"></a><div class="props_rev_3"><a id="GUID-862EA6EF-0D7E-43DD-9ADE-D6648D8F7988" name="GUID-862EA6EF-0D7E-43DD-9ADE-D6648D8F7988"></a><h3 id="NLSPG-GUID-862EA6EF-0D7E-43DD-9ADE-D6648D8F7988" class="sect3"><span class="enumeration_section">10.2</span>在OCI中指定字符集</h3>
               <div>
                  <p>在创建OCI环境时，使用<code class="codeph">OCIEnvNlsCreate</code>函数指定客户端数据库和国家字符集。此功能使用户可以在应用程序中动态设置字符集信息，与<code class="codeph">NLS_LANG</code>和<code class="codeph">NLS_NCHAR</code>初始化参数设置无关。此外，一个应用程序可以在同一服务器环境中为不同的客户端环境初始化多个环境句柄。
                  </p>
                  <p>可以通过<code class="codeph">OCIEnvNlsCreate</code>函数指定除AL16UTF16之外的任何Oracle字符集ID，以指定元数据，SQL <code class="codeph">CHAR</code>数据和SQL <code class="codeph">NCHAR</code>数据的编码。在<code class="codeph">OCIEnvNlsCreate</code>函数中使用<code class="codeph">OCI_UTF16ID</code>指定UTF-16数据。
                  </p>
                  <div class="infoboxnotealso" id="GUID-862EA6EF-0D7E-43DD-9ADE-D6648D8F7988__GUID-22AA787F-4385-45FA-8454-8269A0F88307">
                     <p class="notep1">也可以看看：</p>
                     <p>有关<code class="codeph">OCIEnvNlsCreate</code>函数的更多信息，请<code class="codeph">OCIEnvNlsCreate</code> <a href="../lnoci/oci-globalization-support-functions.html#LNOCI210" target="_blank"><span class="italic">Oracle调用接口程序员指南</span></a></p>
                  </div>
               </div>
            </div><a id="NLSPG848"></a><a id="NLSPG453"></a><div class="props_rev_3"><a id="GUID-598A9DB5-FA59-4CF2-931C-31DB9C810897" name="GUID-598A9DB5-FA59-4CF2-931C-31DB9C810897"></a><h3 id="NLSPG-GUID-598A9DB5-FA59-4CF2-931C-31DB9C810897" class="sect3"><span class="enumeration_section">10.3</span>在OCI中获取区域设置信息</h3>
               <div>
                  <p>Oracle语言环境由语言，区域和字符集定义组成。区域设置确定常规，例如日期和月份名称，以及日期，时间，数字和货币格式。全球化应用程序符合用户的区域设置和文化习俗。例如，当语言环境设置为德语时，用户希望以德语显示日期和月份名称。</p>
                  <p>您可以使用<code class="codeph">OCINlsGetInfo()</code>函数来检索以下语言环境信息：</p>
                  <p>- 一周中的几天（已翻译）<br>- 一周的缩短日期（已翻译）<br>- 月份名称（已翻译）<br>- 缩写的月份名称（已翻译）<br>- 是/否（已翻译）<br>- 上午/下午（翻译）<br>-  AD / BC（已翻译）<br>- 数字格式<br>-  借记卡信用卡<br>-  日期格式<br>- 货币格式<br>- 默认语言<br>- 默认区域<br>- 默认字符集<br>- 默认语言排序<br>- 默认日历</p>
                  <p><a href="OCI-programming-in-global-environment.html#GUID-598A9DB5-FA59-4CF2-931C-31DB9C810897__G1009360" title="此表列出了返回区域设置信息的OCI函数。">表10-1</a>总结了返回区域设置信息的OCI函数。
                  </p>
                  <div class="tblformalwide" id="GUID-598A9DB5-FA59-4CF2-931C-31DB9C810897__G1009360">
                     <p class="titleintable">表10-1返回区域设置信息的OCI功能</p>
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="返回区域设置信息的OCI函数" width="100%" border="1" summary="This table lists the OCI functions that return locale information." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" id="d81174e448">功能</th>
                              <th align="left" valign="bottom" id="d81174e451">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d81174e456" headers="d81174e448 ">
                                 <p><code class="codeph">OCINlsGetInfo（）</code></p>
                              </td>
                              <td align="left" valign="top" headers="d81174e456 d81174e451 ">
                                 <p>返回区域设置信息。见前文。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d81174e464" headers="d81174e448 ">
                                 <p><code class="codeph">OCINlsCharSetNameTold（）</code></p>
                              </td>
                              <td align="left" valign="top" headers="d81174e464 d81174e451 ">
                                 <p>返回指定Oracle字符集名称的Oracle字符集ID</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d81174e472" headers="d81174e448 ">
                                 <p><code class="codeph">OCINlsCharSetIdToName（）</code></p>
                              </td>
                              <td align="left" valign="top" headers="d81174e472 d81174e451 ">
                                 <p>从指定的字符集ID返回Oracle字符集名称</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d81174e480" headers="d81174e448 ">
                                 <p><code class="codeph">OCINlsNumericInfoGet（）</code></p>
                              </td>
                              <td align="left" valign="top" headers="d81174e480 d81174e451 ">
                                 <p>返回指定的数字信息，例如最大字符大小</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d81174e488" headers="d81174e448 ">
                                 <p><code class="codeph">OCINlsEnvironmentVariableGet（）</code></p>
                              </td>
                              <td align="left" valign="top" headers="d81174e488 d81174e451 ">
                                 <p>从<code class="codeph">NLS_LANG</code>返回字符集ID或从<code class="codeph">NLS_NCHAR</code>返回国家字符集ID</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="infoboxnotealso" id="GUID-598A9DB5-FA59-4CF2-931C-31DB9C810897__GUID-CCE5C8AF-68B6-4C43-91EE-58247AE7AAB2">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="../lnoci/oci-globalization-support-functions.html#LNOCI210" target="_blank"><span class="italic">Oracle调用接口程序员指南</span></a></p>
                  </div>
               </div>
            </div><a id="NLSPG454"></a><div class="props_rev_3"><a id="GUID-E93C7910-8B5A-4094-BA5A-2096A4D83673" name="GUID-E93C7910-8B5A-4094-BA5A-2096A4D83673"></a><h3 id="NLSPG-GUID-E93C7910-8B5A-4094-BA5A-2096A4D83673" class="sect3"><span class="enumeration_section">10.4</span>在Oracle和其他标准之间映射区域设置信息</h3>
               <div>
                  <p><code class="codeph">OCINlsNameMap</code>函数将Oracle字符集名称，语言名称和地域名称映射到Internet Assigned Numbers Authority（IANA）和国际标准化组织（ISO）名称。
                  </p>
               </div>
            </div><a id="NLSPG849"></a><a id="NLSPG455"></a><div class="props_rev_3"><a id="GUID-1B4CE8FF-AA33-46D1-82E2-882897D2A4DA" name="GUID-1B4CE8FF-AA33-46D1-82E2-882897D2A4DA"></a><h3 id="NLSPG-GUID-1B4CE8FF-AA33-46D1-82E2-882897D2A4DA" class="sect3"><span class="enumeration_section">10.5</span>在OCI中操纵字符串</h3>
               <div>
                  <p>字符串操作支持两种类型的数据结构：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>原生字符串</p>
                     </li>
                     <li>
                        <p>宽字符串</p>
                     </li>
                  </ul>
                  <p>本机字符串以本机Oracle字符集编码。对本机字符串进行操作的函数将字符串作为整个单元，字符串的长度以字节为单位计算。宽字符（ <code class="codeph">wchar</code> ）字符串函数为字符串操作提供了更大的灵活性。它们支持基于字符和基于字符串的操作，字符串的长度以字符计算。
                  </p>
                  <p>宽字符数据类型是特定于Oracle的，不应与ANSI / ISO C标准定义的<code class="codeph">wchar_t</code>数据类型混淆。所有平台中的Oracle宽字符数据类型总是4个字节，而<code class="codeph">wchar_t</code>的大小取决于实现和平台。Oracle宽字符数据类型规范化本机字符，以便它们具有固定宽度以便于处理。这保证了Oracle宽字符格式和本机字符格式之间的往返转换不会丢失数据。
                  </p>
                  <p>字符串操作包括：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>在本机字符格式和宽字符格式之间转换字符串</p>
                     </li>
                     <li>
                        <p>角色分类</p>
                     </li>
                     <li>
                        <p>案例转换</p>
                     </li>
                     <li>
                        <p>显示长度的计算</p>
                     </li>
                     <li>
                        <p>常规字符串操作，例如比较，连接和搜索</p>
                     </li>
                  </ul>
                  <p><a href="OCI-programming-in-global-environment.html#GUID-1B4CE8FF-AA33-46D1-82E2-882897D2A4DA__G1009164" title="该表在前面的文本中描述。">表10-2</a>总结了OCI字符串操作函数。
                  </p>
                  <div class="infoboxnote" id="GUID-1B4CE8FF-AA33-46D1-82E2-882897D2A4DA__GUID-6EB10180-1BF7-4372-8E84-F354148C39DD">
                     <p class="notep1">注意：</p>
                     <p><a href="OCI-programming-in-global-environment.html#GUID-1B4CE8FF-AA33-46D1-82E2-882897D2A4DA__G1009164" title="该表在前面的文本中描述。">表10-2</a>中涉及多字节字符串的函数和说明适用于本机字符串。
                     </p>
                  </div>
                  <div class="tblformalwide" id="GUID-1B4CE8FF-AA33-46D1-82E2-882897D2A4DA__G1009164">
                     <p class="titleintable">表10-2 OCI字符串操作函数</p>
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="OCI字符串操作函数" width="100%" border="1" summary="This table is described in the preceding text." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" id="d81174e730">功能</th>
                              <th align="left" valign="bottom" id="d81174e733">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d81174e738" headers="d81174e730 ">
                                 <p><code class="codeph">OCIMultiByteToWideChar（）</code></p>
                              </td>
                              <td align="left" valign="top" headers="d81174e738 d81174e733 ">
                                 <p>将整个以null结尾的字符串转换为<code class="codeph">wchar</code>格式。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d81174e749" headers="d81174e730 ">
                                 <p><code class="codeph">OCIMultiByteInSizeToWideChar（）</code></p>
                              </td>
                              <td align="left" valign="top" headers="d81174e749 d81174e733 ">
                                 <p>将部分字符串转换为<code class="codeph">wchar</code>格式。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d81174e760" headers="d81174e730 ">
                                 <p><code class="codeph">OCIWideCharToMultiByte（）</code></p>
                              </td>
                              <td align="left" valign="top" headers="d81174e760 d81174e733 ">
                                 <p>将整个以null结尾的宽字符串转换为多字节字符串。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d81174e768" headers="d81174e730 ">
                                 <p><code class="codeph">OCIWideCharInSizeToMultiByte（）</code></p>
                              </td>
                              <td align="left" valign="top" headers="d81174e768 d81174e733 ">
                                 <p>将宽字符串的一部分转换为多字节格式。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d81174e776" headers="d81174e730 ">
                                 <p><code class="codeph">OCIWideCharToLower（）</code></p>
                              </td>
                              <td align="left" valign="top" headers="d81174e776 d81174e733 ">
                                 <p>如果<code class="codeph">wc</code>指定的<code class="codeph">wchar</code>字符存在于指定的语言环境中，则将<code class="codeph">wc</code>指定的<code class="codeph">wchar</code>字符转换为相应的小写字符。如果不存在相应的小写字符，则返回<code class="codeph">wc</code>本身。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d81174e793" headers="d81174e730 ">
                                 <p><code class="codeph">OCIWideCharToUpper（）</code></p>
                              </td>
                              <td align="left" valign="top" headers="d81174e793 d81174e733 ">
                                 <p>如果<code class="codeph">wc</code>指定的<code class="codeph">wchar</code>字符存在于指定的语言环境中，则将<code class="codeph">wc</code>指定的<code class="codeph">wchar</code>字符转换为相应的大写字符。如果不存在相应的大写字符，则返回<code class="codeph">wc</code>本身。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d81174e810" headers="d81174e730 ">
                                 <p><code class="codeph">OCIWideCharStrcmp（）</code></p>
                              </td>
                              <td align="left" valign="top" headers="d81174e810 d81174e733 ">
                                 <p>通过二进制，语言或不区分大小写的比较方法比较两个宽字符串。</p>
                                 <p><span class="bold">注意：</span> <code class="codeph">UNICODE_BINARY</code>排序方法不能与<code class="codeph">OCIWideCharStrcmp()</code>一起使用，以对提供的宽字符参数进行语言比较。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d81174e828" headers="d81174e730 ">
                                 <p><code class="codeph">OCIWideCharStrncmp（）</code></p>
                              </td>
                              <td align="left" valign="top" headers="d81174e828 d81174e733 ">
                                 <p>与<code class="codeph">OCIWideCharStrcmp()</code>类似。通过二进制，语言或不区分大小写的比较方法比较两个宽字符串。最多<code class="codeph">len1</code>字节形成<code class="codeph">str1</code> ， <code class="codeph">len2</code>字节形成<code class="codeph">str2</code> 。
                                 </p>
                                 <p><span class="bold">注意：</span>与<code class="codeph">OCIWideCharStrcmp()</code> ， <code class="codeph">UNICODE_BINARY</code>排序方法不能与<code class="codeph">OOCIWideCharStrncmp()</code>一起使用，以对提供的宽字符参数进行语言比较。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d81174e864" headers="d81174e730 ">
                                 <p><code class="codeph">OCIWideCharStrcat（）</code></p>
                              </td>
                              <td align="left" valign="top" headers="d81174e864 d81174e733 ">
                                 <p>附加<code class="codeph">wsrcstr</code>指向的字符串的副本。然后它返回结果字符串中的字符数。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d81174e875" headers="d81174e730 ">
                                 <p><code class="codeph">OCIWideCharStrncat（）</code></p>
                              </td>
                              <td align="left" valign="top" headers="d81174e875 d81174e733 ">
                                 <p>附加<code class="codeph">wsrcstr</code>指向的字符串的副本。然后它返回结果字符串中的字符数。最多附加<span class="italic"><code class="codeph">n</code></span>字符。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d81174e890" headers="d81174e730 ">
                                 <p><code class="codeph">OCIWideCharStrchr（）</code></p>
                              </td>
                              <td align="left" valign="top" headers="d81174e890 d81174e733 ">
                                 <p>搜索<code class="codeph">wstr</code>指向的字符串中第一次出现的<code class="codeph">wc</code> 。然后，如果搜索成功，则返回指向<code class="codeph">wchar</code>的指针。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d81174e908" headers="d81174e730 ">
                                 <p><code class="codeph">OCIWideCharStrrchr（）</code></p>
                              </td>
                              <td align="left" valign="top" headers="d81174e908 d81174e733 ">
                                 <p>搜索<code class="codeph">wstr</code>指向的字符串中最后一次出现的<code class="codeph">wc</code> 。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d81174e922" headers="d81174e730 ">
                                 <p><code class="codeph">OCIWideCharStrcpy（）</code></p>
                              </td>
                              <td align="left" valign="top" headers="d81174e922 d81174e733 ">
                                 <p>拷贝<code class="codeph">wchar</code>串指向<code class="codeph">wsrcstr</code>到阵列通过指向<code class="codeph">wdststr</code> 。然后它返回复制的字符数。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d81174e939" headers="d81174e730 ">
                                 <p><code class="codeph">OCIWideCharStrncpy（）</code></p>
                              </td>
                              <td align="left" valign="top" headers="d81174e939 d81174e733 ">
                                 <p>拷贝<code class="codeph">wchar</code>串指向<code class="codeph">wsrcstr</code>到阵列通过指向<code class="codeph">wdststr</code> 。然后它返回复制的字符数。最多从阵列中复制<span class="italic"><code class="codeph">n</code></span>字符。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d81174e960" headers="d81174e730 ">
                                 <p><code class="codeph">OCIWideCharStrlen（）</code></p>
                              </td>
                              <td align="left" valign="top" headers="d81174e960 d81174e733 ">
                                 <p>计算<code class="codeph">wstr</code>指向的<code class="codeph">wchar</code>字符串中的字符数并返回此数字。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d81174e974" headers="d81174e730 ">
                                 <p><code class="codeph">OCIWideCharStrCaseConversion（）</code></p>
                              </td>
                              <td align="left" valign="top" headers="d81174e974 d81174e733 ">
                                 <p>将<code class="codeph">wsrcstr</code>指向的宽字符串转换为由标志指定的大小写，并将结果复制到<code class="codeph">wdststr</code>指向的数组中。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d81174e988" headers="d81174e730 ">
                                 <p><code class="codeph">OCIWideCharDisplayLength（）</code></p>
                              </td>
                              <td align="left" valign="top" headers="d81174e988 d81174e733 ">
                                 <p>确定显示中<code class="codeph">wc</code>所需的列位置数。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d81174e999" headers="d81174e730 ">
                                 <p><code class="codeph">OCIWideCharMultibyteLength（）</code></p>
                              </td>
                              <td align="left" valign="top" headers="d81174e999 d81174e733 ">
                                 <p>确定多字节编码中<code class="codeph">wc</code>所需的字节数。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d81174e1010" headers="d81174e730 ">
                                 <p><code class="codeph">OCIMultiByteStrcmp（）</code></p>
                              </td>
                              <td align="left" valign="top" headers="d81174e1010 d81174e733 ">
                                 <p>通过二进制，语言或不区分大小写的比较方法比较两个多字节字符串。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d81174e1018" headers="d81174e730 ">
                                 <p><code class="codeph">OCIMultiByteStrncmp（）</code></p>
                              </td>
                              <td align="left" valign="top" headers="d81174e1018 d81174e733 ">
                                 <p>通过二进制，语言或不区分大小写的比较方法比较两个多字节字符串。最多<code class="codeph">len1</code>字节形成<code class="codeph">str1</code>和<code class="codeph">len2</code>字节形成<code class="codeph">str2.</code> 。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d81174e1038" headers="d81174e730 ">
                                 <p><code class="codeph">OCIMultiByteStrcat（）</code></p>
                              </td>
                              <td align="left" valign="top" headers="d81174e1038 d81174e733 ">
                                 <p>附加<code class="codeph">srcstr</code>指向的多字节字符串的<code class="codeph">srcstr</code> 。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d81174e1049" headers="d81174e730 ">
                                 <p><code class="codeph">OCIMultiByteStrncat（）</code></p>
                              </td>
                              <td align="left" valign="top" headers="d81174e1049 d81174e733 ">
                                 <p>附加<code class="codeph">srcstr</code>指向的多字节字符串的<code class="codeph">srcstr</code> 。来自<code class="codeph">srcstr</code>最多<span class="italic"><code class="codeph">n</code></span>个字节被附加到<code class="codeph">dststr</code> 。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d81174e1071" headers="d81174e730 ">
                                 <p><code class="codeph">OCIMultiByteStrcpy（）</code></p>
                              </td>
                              <td align="left" valign="top" headers="d81174e1071 d81174e733 ">
                                 <p>份多字节字符串指向<code class="codeph">srcstr</code>成阵列通过指向<code class="codeph">dststr</code> 。它返回复制的字节数。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d81174e1085" headers="d81174e730 ">
                                 <p><code class="codeph">OCIMultiByteStrncpy（）</code></p>
                              </td>
                              <td align="left" valign="top" headers="d81174e1085 d81174e733 ">
                                 <p>份多字节字符串指向<code class="codeph">srcstr</code>成阵列通过指向<code class="codeph">dststr</code> 。它返回复制的字节数。至多<span class="italic"><code class="codeph">n</code></span>字节从数组复制指向<code class="codeph">srcstr</code>到阵列指向<code class="codeph">dststr</code> 。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d81174e1109" headers="d81174e730 ">
                                 <p><code class="codeph">OCIMultiByteStrlen（）</code></p>
                              </td>
                              <td align="left" valign="top" headers="d81174e1109 d81174e733 ">
                                 <p>返回<code class="codeph">str</code>指向的多字节字符串中的字节数。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d81174e1120" headers="d81174e730 ">
                                 <p><code class="codeph">OCIMultiByteStrnDisplayLength（）</code></p>
                              </td>
                              <td align="left" valign="top" headers="d81174e1120 d81174e733 ">
                                 <p>返回<span class="italic"><code class="codeph">n</code></span>个字节范围内完整字符占用的显示位置数。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d81174e1132" headers="d81174e730 ">
                                 <p><code class="codeph">OCIMultiByteStrCaseConversion（）</code></p>
                              </td>
                              <td align="left" valign="top" headers="d81174e1132 d81174e733 ">
                                 <p>将字符串的一部分从一个字符集转换为另一个字符集。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="infoboxnotealso" id="GUID-1B4CE8FF-AA33-46D1-82E2-882897D2A4DA__GUID-658A94A7-3E8C-4052-9804-EDB91CCB4D16">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="../lnoci/oci-globalization-support-functions.html#LNOCI210" target="_blank"><span class="italic">Oracle调用接口程序员指南</span></a> 
                     </p>
                  </div>
               </div>
            </div><a id="NLSPG850"></a><a id="NLSPG456"></a><div class="props_rev_3"><a id="GUID-10FE378D-F1FB-4E0D-A9A7-709089CE5036" name="GUID-10FE378D-F1FB-4E0D-A9A7-709089CE5036"></a><h3 id="NLSPG-GUID-10FE378D-F1FB-4E0D-A9A7-709089CE5036" class="sect3"><span class="enumeration_section">10.6</span>对OCI中的字符进行分类</h3>
               <div>
                  <div class="section">
                     <p>OCI字符分类功能如<a href="OCI-programming-in-global-environment.html#GUID-10FE378D-F1FB-4E0D-A9A7-709089CE5036__g1009256" title="该表在前面的文本中描述">表10-3</a>所示。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformalwide" id="GUID-10FE378D-F1FB-4E0D-A9A7-709089CE5036__g1009256">
                     <p class="titleintable">表10-3 OCI字符分类功能</p>
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="OCI字符分类功能" width="100%" border="1" summary="This table is described in the preceding text" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="33%" id="d81174e1237">功能</th>
                              <th align="left" valign="bottom" width="67%" id="d81174e1240">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d81174e1245" headers="d81174e1237 ">
                                 <p><code class="codeph">OCIWideCharIsAlnum（）</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d81174e1245 d81174e1240 ">
                                 <p>测试宽字符是字母还是十进制数字</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d81174e1253" headers="d81174e1237 ">
                                 <p><code class="codeph">OCIWideCharIsAlpha（）</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d81174e1253 d81174e1240 ">
                                 <p>测试宽字符是否是字母</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d81174e1261" headers="d81174e1237 ">
                                 <p><code class="codeph">OCIWideCharIsCntrl（）</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d81174e1261 d81174e1240 ">
                                 <p>测试宽字符是否为控制字符</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d81174e1269" headers="d81174e1237 ">
                                 <p><code class="codeph">OCIWideCharIsDigit（）</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d81174e1269 d81174e1240 ">
                                 <p>测试宽字符是否为十进制数字</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d81174e1277" headers="d81174e1237 ">
                                 <p><code class="codeph">OCIWideCharIsGraph（）</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d81174e1277 d81174e1240 ">
                                 <p>测试宽字符是否为图形字符</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d81174e1285" headers="d81174e1237 ">
                                 <p><code class="codeph">OCIWideCharIsLower（）</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d81174e1285 d81174e1240 ">
                                 <p>测试宽字符是否为小写字母</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d81174e1293" headers="d81174e1237 ">
                                 <p><code class="codeph">OCIWideCharIsPrint（）</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d81174e1293 d81174e1240 ">
                                 <p>测试宽字符是否为可打印字符</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d81174e1301" headers="d81174e1237 ">
                                 <p><code class="codeph">OCIWideCharIsPunct（）</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d81174e1301 d81174e1240 ">
                                 <p>测试宽字符是否是标点字符</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d81174e1309" headers="d81174e1237 ">
                                 <p><code class="codeph">OCIWideCharIsSpace（）</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d81174e1309 d81174e1240 ">
                                 <p>测试宽字符是否为空格字符</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d81174e1317" headers="d81174e1237 ">
                                 <p><code class="codeph">OCIWideCharIsUpper（）</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d81174e1317 d81174e1240 ">
                                 <p>测试宽字符是否为大写字符</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d81174e1325" headers="d81174e1237 ">
                                 <p><code class="codeph">OCIWideCharIsXdigit（）</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d81174e1325 d81174e1240 ">
                                 <p>测试宽字符是否为十六进制数字</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d81174e1334" headers="d81174e1237 ">
                                 <p><code class="codeph">OCIWideCharIsSingleByte（）</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d81174e1334 d81174e1240 ">
                                 <p>测试转换为多字节时<code class="codeph">wc</code>是否为单字节字符</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <div class="infoboxnotealso" id="GUID-10FE378D-F1FB-4E0D-A9A7-709089CE5036__GUID-595B3B34-315B-4B32-A34C-353AA10EDEA9">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="../lnoci/oci-globalization-support-functions.html#LNOCI210" target="_blank"><span class="italic">Oracle调用接口程序员指南</span></a></p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="NLSPG851"></a><a id="NLSPG457"></a><div class="props_rev_3"><a id="GUID-EB5518AA-9EE2-4B3F-A3C6-16CCE480E355" name="GUID-EB5518AA-9EE2-4B3F-A3C6-16CCE480E355"></a><h3 id="NLSPG-GUID-EB5518AA-9EE2-4B3F-A3C6-16CCE480E355" class="sect3"><span class="enumeration_section">10.7</span>在OCI中转换字符集</h3>
               <div>
                  <div class="section">
                     <p>支持Oracle字符集和Unicode（16位，固定宽度Unicode编码）之间的转换。如果字符没有从Unicode到Oracle字符集的映射，则使用替换字符。因此，在没有数据丢失的情况下，并不总是可以转换回原始字符集。</p>
                     <p><a href="OCI-programming-in-global-environment.html#GUID-EB5518AA-9EE2-4B3F-A3C6-16CCE480E355__g1009299" title="该表在前面的文本中描述">表10-4</a>总结了OCI字符集转换函数。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformalwide" id="GUID-EB5518AA-9EE2-4B3F-A3C6-16CCE480E355__g1009299">
                     <p class="titleintable">表10-4 OCI字符集转换功能</p>
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="OCI字符集转换功能" width="100%" border="1" summary="This table is described in the preceding text" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="50%" id="d81174e1451">功能</th>
                              <th align="left" valign="bottom" width="50%" id="d81174e1454">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="50%" id="d81174e1459" headers="d81174e1451 ">
                                 <p><code class="codeph">OCICharSetToUnicode（）</code></p>
                              </td>
                              <td align="left" valign="top" width="50%" headers="d81174e1459 d81174e1454 ">
                                 <p>将<code class="codeph">src</code>指向的多字节字符串转换为<code class="codeph">dst</code>指向的数组</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="50%" id="d81174e1472" headers="d81174e1451 ">
                                 <p><code class="codeph">OCIUnicodeToCharSet（）</code></p>
                              </td>
                              <td align="left" valign="top" width="50%" headers="d81174e1472 d81174e1454 ">
                                 <p>转换Unicode字符串指向<code class="codeph">src</code>为多字节到阵列指向<code class="codeph">dst</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="50%" id="d81174e1485" headers="d81174e1451 ">
                                 <p><a id="d81174e1487" class="indexterm-anchor"></a><code class="codeph">OCINlsCharSetConvert()</code></p>
                              </td>
                              <td align="left" valign="top" width="50%" headers="d81174e1485 d81174e1454 ">
                                 <p>将字符串从一个字符集转换为另一个字符集</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="50%" id="d81174e1495" headers="d81174e1451 ">
                                 <p><code class="codeph">OCICharSetConversionIsReplacementUsed（）</code></p>
                              </td>
                              <td align="left" valign="top" width="50%" headers="d81174e1495 d81174e1454 ">
                                 <p>指示替换字符是否用于上次调用<code class="codeph">OCINlsCharSetConvert()</code>或<code class="codeph">OCIUnicodeToCharSet()</code>无法转换的字符</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <div class="infoboxnotealso" id="GUID-EB5518AA-9EE2-4B3F-A3C6-16CCE480E355__GUID-24E96A37-C217-4317-88F4-D04116262FC2">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="../lnoci/oci-globalization-support-functions.html#LNOCI210" target="_blank"><span class="italic">Oracle调用接口程序员指南</span></a> 
                              </p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="programming-with-unicode.html#GUID-C0EF74CA-C9C1-4651-B820-9B3E8FB70E8E">使用Unicode进行OCI编程</a> ”</span></p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="NLSPG852"></a><a id="NLSPG458"></a><div class="props_rev_3"><a id="GUID-15309D1A-7A71-4383-B7D9-3F050D06A937" name="GUID-15309D1A-7A71-4383-B7D9-3F050D06A937"></a><h3 id="NLSPG-GUID-15309D1A-7A71-4383-B7D9-3F050D06A937" class="sect3"><span class="enumeration_section">10.8</span> OCI消息传递功能</h3>
               <div>
                  <div class="section">
                     <p>用户消息API为磁带盒开发人员提供了一个简单的界面，可以检索自己的消息以及Oracle消息。</p>
                     <p><a href="OCI-programming-in-global-environment.html#GUID-15309D1A-7A71-4383-B7D9-3F050D06A937__g1009322" title="该表在前面的文本中描述">表10-5</a>总结了OCI消息传递功能。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformalwide" id="GUID-15309D1A-7A71-4383-B7D9-3F050D06A937__g1009322">
                     <p class="titleintable">表10-5 OCI消息传递功能</p>
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="OCI消息传递功能" width="100%" border="1" summary="This table is described in the preceding text" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="31%" id="d81174e1615">功能</th>
                              <th align="left" valign="bottom" width="69%" id="d81174e1618">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d81174e1623" headers="d81174e1615 ">
                                 <p><code class="codeph">OCIMessageOpen（）</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d81174e1623 d81174e1618 ">
                                 <p>以<code class="codeph">hndl</code>指向的语言打开消息句柄</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d81174e1633" headers="d81174e1615 ">
                                 <p><code class="codeph">OCIMessageGet（）</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d81174e1633 d81174e1618 ">
                                 <p>检索<code class="codeph">msgno</code>标识的消息号的消息。如果缓冲区不为零，则该函数将消息复制到<code class="codeph">msgbuf</code>指定的<code class="codeph">msgbuf</code> 。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d81174e1647" headers="d81174e1615 ">
                                 <p><code class="codeph">OCIMessageClose（）</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d81174e1647 d81174e1618 ">
                                 <p>关闭<code class="codeph">msgh</code>指向的消息句柄并释放与此句柄关联的任何内存</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <div class="infoboxnotealso" id="GUID-15309D1A-7A71-4383-B7D9-3F050D06A937__GUID-F2E8FF52-B352-40B9-9FF0-E1477E55930C">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="../lnoci/oci-programming-basics.html#LNOCI16256" target="_blank"><span class="italic">Oracle调用接口程序员指南</span></a></p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="NLSPG853"></a><a id="NLSPG854"></a><a id="NLSPG855"></a><a id="NLSPG856"></a><a id="NLSPG459"></a><div class="props_rev_3"><a id="GUID-B0EB7DD5-72B4-4297-AFC0-5C88E87A20F9" name="GUID-B0EB7DD5-72B4-4297-AFC0-5C88E87A20F9"></a><h3 id="NLSPG-GUID-B0EB7DD5-72B4-4297-AFC0-5C88E87A20F9" class="sect3"><span class="enumeration_section">10.9</span> lmsgen实用程序</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-B0EB7DD5-72B4-4297-AFC0-5C88E87A20F9__GUID-38E7610B-CF92-4909-A356-264F3EDF3278">目的</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p><code class="codeph">lmsgen</code>实用程序将基于文本的消息文件（ <code class="codeph">.msg</code> ）转换为二进制格式（ <code class="codeph">.msb</code> ），以便用户提供的Oracle消息和OCI消息可以返回到所需语言的OCI函数。
                     </p>
                     <p>服务器使用的消息存储在二进制格式文件中，这些文件位于<code class="codeph">$ORACLE_HOME/product_name/mesg</code>目录中，或者等效于操作系统。使用以下文件名约定，可以存在这些文件的多个版本，每个受支持的语言一个版本：</p><pre class="oac_no_warn" dir="ltr">&lt;PRODUCT_ID&gt; &lt;language_abbrev&gt; .msb</pre><p>例如，包含法语服务器消息的文件称为<code class="codeph">oraf.msb</code> ，因为<code class="codeph">ORA</code>是产品ID（&lt; <code class="codeph">product_id</code> &gt;）， <code class="codeph">F</code>是法语的语言缩写（&lt; <code class="codeph">language_abbrev</code> &gt;）。<code class="codeph">product_name</code>的值是rdbms，因此它位于<code class="codeph">$ORACLE_HOME/rdbms/mesg</code>目录中。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-B0EB7DD5-72B4-4297-AFC0-5C88E87A20F9__GUID-D5DD05DB-85DD-478C-A96A-F8747C9F1E30">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">LMSGEN <span class="italic"><code class="codeph">text_file</code></span> <span class="italic"><code class="codeph">product</code></span> <span class="italic"><code class="codeph">facility</code></span> [ <span class="italic"><code class="codeph">language</code></span> ] [-i <span class="italic">indir</span> ] [-o <span class="italic">outdir</span> ]</pre><ul class="simple" style="list-style-type:none;padding-left:0">
                        <li><span class="italic"><code class="codeph">text_file</code></span>是消息文本文件。
                        </li>
                        <li><span class="italic"><code class="codeph">product</code></span>是<span class="italic"><code class="codeph">product</code></span>的名称。
                        </li>
                        <li><span class="italic"><code class="codeph">facility</code></span>是<span class="italic"><code class="codeph">facility</code></span>的名称。
                        </li>
                        <li><span class="italic"><code class="codeph">language</code></span>是与<code class="codeph">NLS_LANG</code>参数中指定的语言对应的可选消息语言。如果消息文件未使用语言正确标记，则需要语言参数。
                        </li>
                        <li><span class="italic"><code class="codeph">indir</code></span>是指定文本文件位置的可选目录。
                        </li>
                        <li><span class="italic"><code class="codeph">outdir</code></span>是指定输出文件位置的可选目录。
                        </li>
                     </ul>
                     <p>输出（ <code class="codeph">.msb</code> ）文件将在<code class="codeph">$ORACLE_HOME/product/mesg/</code>目录下生成。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-B0EB7DD5-72B4-4297-AFC0-5C88E87A20F9__GUID-EF44E5E4-A144-453D-9862-DB72A52D05D8">短信文件</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>短信文件必须遵循以下准则：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>以<code class="codeph">/</code>和<code class="codeph">//</code>开头的行被视为内部注释，并被忽略。
                           </p>
                        </li>
                        <li>
                           <p>要使用特定语言标记消息文件，请包含类似于以下内容的行：</p>
                        </li>
                     </ul><pre class="oac_no_warn" dir="ltr">＃CHARACTER_SET_NAME = Japanese_Japan。JA16EUC</pre><ul style="list-style-type:disc">
                        <li>
                           <p>每条消息包含三个字段：</p>
                        </li>
                     </ul><pre class="oac_no_warn" dir="ltr"><span class="italic"><code class="codeph">message_number</code></span> ， <span class="italic"><code class="codeph">warning_level</code></span> ， <span class="italic"><code class="codeph">message_text</code></span>
</pre><ul class="simple" style="list-style-type:none;padding-left:0">
                        <li>消息编号在消息文件中必须是唯一的。</li>
                        <li>目前未使用警告级别。使用<code class="codeph">0</code> 。
                        </li>
                        <li>消息文本不能超过511个字节。</li>
                     </ul>
                     <p>以下示例显示了Oracle消息文本文件：</p><pre class="oac_no_warn" dir="ltr">/ Oracle版权所有（c）2006。版权所有。/这是测试us7ascii消息文件＃CHARACTER_SET_NAME = american_america.us7ascii / 00000,00000，“导出未成功终止\ n”00003,00000，“找不到段的存储定义（％lu，％lu）”</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-B0EB7DD5-72B4-4297-AFC0-5C88E87A20F9__GUID-64618DA8-7F79-4F12-9843-F4EB7D3AB022">示例：从文本消息文件创建二进制消息文件</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>下表包含<code class="codeph">lmsgen</code>参数的示例值：</p>
                     <div class="tblformal" id="GUID-B0EB7DD5-72B4-4297-AFC0-5C88E87A20F9__GUID-4D37CF96-2000-4F7F-9723-9D13E398FA82">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="This table is described in the preceding text" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="39%" id="d81174e1932">参数</th>
                                 <th align="left" valign="bottom" width="61%" id="d81174e1935">值</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="39%" id="d81174e1940" headers="d81174e1932 ">
                                    <p><span class="italic"><code class="codeph">产品</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="61%" headers="d81174e1940 d81174e1935 ">
                                    <p><code class="codeph">MYAPP</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="39%" id="d81174e1950" headers="d81174e1932 ">
                                    <p><span class="italic"><code class="codeph">设施</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="61%" headers="d81174e1950 d81174e1935 ">
                                    <p><code class="codeph">恶魔</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="39%" id="d81174e1960" headers="d81174e1932 ">
                                    <p><span class="italic"><code class="codeph">语言</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="61%" headers="d81174e1960 d81174e1935 ">
                                    <p><code class="codeph">AMERICAN</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="39%" id="d81174e1970" headers="d81174e1932 ">
                                    <p><span class="italic"><code class="codeph">文本文件</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="61%" headers="d81174e1970 d81174e1935 ">
                                    <p><code class="codeph">impus.msg</code></p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>文本消息文件中的一行是以下内容：</p><pre class="oac_no_warn" dir="ltr">00128,2，“在％s中找到重复的条目％s”</pre><p><code class="codeph">lmsgen</code>实用程序将文本消息文件（ <code class="codeph">impus.msg</code> ）转换为二进制格式，从而生成名为<code class="codeph">impus.msb</code>的文件。<code class="codeph">$ORACLE_HOME/myapp/mesg</code>目录必须已存在。
                     </p><pre class="oac_no_warn" dir="ltr">％lmsgen impus.msg myapp imp AMERICAN</pre><p>以下输出结果：</p><pre class="oac_no_warn" dir="ltr">生成消息文件impus.msg  - &gt; $ ORACLE_HOME / myapp / mesg / impus.msb</pre></div>
                  <!-- class="section" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html>