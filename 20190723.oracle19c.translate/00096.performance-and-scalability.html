<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Performance and Scalability</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Database Development Guide">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Database Development Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-development-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-31T23:23:15-08:00">
      <meta name="dcterms.title" content="Database Development Guide">
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96334-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="connection_strategies.html" title="Previous" type="text/html">
      <link rel="next" href="rwp.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="ADFNS">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="connection_strategies.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="rwp.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Database Development Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="fundamentals.html" property="item" typeof="WebPage"><span property="name">Database Development Fundamentals</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Performance and Scalability</li>
            </ol>
            <a id="GUID-826DD1D3-C722-4915-8790-E870D6B5123A" name="GUID-826DD1D3-C722-4915-8790-E870D6B5123A"></a><a id="ADFNS132"></a><a id="ADFNS131"></a>
            
            <h2 id="ADFNS-GUID-826DD1D3-C722-4915-8790-E870D6B5123A" class="sect2"><span class="enumeration_chapter">3 </span>Performance and Scalability
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>This chapter explains some techniques for designing performance and scalability into the database and database applications.</p>
               <div class="section">
                  <p class="subhead1" id="GUID-826DD1D3-C722-4915-8790-E870D6B5123A__GUID-8922BFE7-5084-4C3A-98A9-051E66F32F8E">Topics:</p>
               </div>
               <!-- class="section" -->
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="performance-and-scalability.html#GUID-1F79D82B-95C0-4A52-9A19-A34092E145EB">Performance Strategies</a></p>
                  </li>
                  <li>
                     <p><a href="performance-and-scalability.html#GUID-3BC2DA6F-0836-42EF-8155-C6FA27893360">Tools for Performance</a></p>
                  </li>
                  <li>
                     <p><a href="performance-and-scalability.html#GUID-8A9CDE8E-6AF8-4523-9840-061F5D2DD8A9">Monitoring Database Performance</a></p>
                  </li>
                  <li>
                     <p><a href="rwp.html#GUID-20D3F573-B043-42A7-867D-0C1C0A0067AD">Using Instrumentation</a></p>
                  </li>
                  <li>
                     <p><a href="performance-and-scalability.html#GUID-EED13F50-D5BF-4A94-A69C-B1AFECC3760D">Testing for Performance</a></p>
                  </li>
                  <li>
                     <p><a href="rwp.html#GUID-D95280DE-969D-4B83-825E-ECC872C111EA" title="A bind variable placeholder in a SQL statement or PL/SQL block indicates where data must be supplied at runtime.">Using Bind Variables</a></p>
                  </li>
                  <li>
                     <p><a href="performance-and-scalability.html#GUID-35CB2592-7588-4C2D-9075-6F639F25425E">Using Client Result Cache</a></p>
                  </li>
                  <li>
                     <p><a href="performance-and-scalability.html#GUID-1ECC306F-D6DB-435A-A46D-65E9D2571ED6">Statement Caching</a></p>
                  </li>
                  <li>
                     <p><a href="performance-and-scalability.html#GUID-82D4AFAE-136B-4B83-B9F8-765111642B4F">OCI Client Statement Cache Auto-Tuning</a></p>
                  </li>
                  <li>
                     <p><a href="performance-and-scalability.html#GUID-93D145D2-845E-4285-A6EE-330BCFF23B24">Client-Side Deployment Parameters</a></p>
                  </li>
                  <li>
                     <p><a href="performance-and-scalability.html#GUID-8E2B36A1-CDD2-454D-AE60-58784834601F">Using Query Change Notification</a></p>
                  </li>
                  <li>
                     <p><a href="performance-and-scalability.html#GUID-015CA8C1-2386-4626-855D-CC546DDC1086" title="You can use the OCISessionPoolCreate API to set a connection class as HRMS.You can use the OCISessionPoolCreate API to create a connection class as RECMS.">Using Database Resident Connection Pool</a></p>
                  </li>
                  <li>
                     <p><a href="performance-and-scalability.html#GUID-18D1F761-0312-48E8-BE6A-0ED17AEDC12E" title="This pool optimizes the read operation for select statements">Memoptimize Pool</a></p>
                  </li>
                  <li>
                     <p><a href="performance-and-scalability.html#GUID-F722C73B-2CB0-4876-B699-B68DA6C08CBE" title="This section explains about Oracle RAC Sharding">Oracle RAC Sharding</a></p>
                  </li>
               </ul>
            </div><a id="ADFNS136"></a><a id="ADFNS133"></a><div class="props_rev_3"><a id="GUID-1F79D82B-95C0-4A52-9A19-A34092E145EB" name="GUID-1F79D82B-95C0-4A52-9A19-A34092E145EB"></a><h3 id="ADFNS-GUID-1F79D82B-95C0-4A52-9A19-A34092E145EB" class="sect3">Performance Strategies</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-1F79D82B-95C0-4A52-9A19-A34092E145EB__GUID-5D7B4A60-76E4-4D66-B3B4-90C6F61B5358">Topics:</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="performance-and-scalability.html#GUID-7D7DDE5A-9EA4-4A82-A7C5-130248BC469B">Designing Your Data Model to Perform Well</a></p>
                        </li>
                        <li>
                           <p><a href="performance-and-scalability.html#GUID-D760D806-6151-4C5A-A775-2809BE68508C">Setting Performance Goals (Metrics)</a></p>
                        </li>
                        <li>
                           <p><a href="performance-and-scalability.html#GUID-2783BEBF-6D2D-4242-930D-40EE8F1D1D27">Benchmarking Your Application</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div><a id="ADFNS252"></a><div class="props_rev_3"><a id="GUID-7D7DDE5A-9EA4-4A82-A7C5-130248BC469B" name="GUID-7D7DDE5A-9EA4-4A82-A7C5-130248BC469B"></a><h4 id="ADFNS-GUID-7D7DDE5A-9EA4-4A82-A7C5-130248BC469B" class="sect4">Designing Your Data Model to Perform Well</h4>
                  <div>
                     <div class="section">
                        <p>This topic briefly describes the important concepts of data modeling. Entire books about this subject are available; refer to them for details and further guidance.</p>
                        <p>Design your data model for optimal performance of the most important and frequent queries, following this basic procedure:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li><span><a href="performance-and-scalability.html#GUID-2965BB39-76A2-4C02-9CBA-E7CE1FE8A036">Analyze the Data Requirements of the Application</a></span></li>
                        <li><span><a href="performance-and-scalability.html#GUID-3C67559B-58F5-4E92-83AA-43DF9428A506">Create the Database Design for the Application</a></span></li>
                        <li><span><a href="performance-and-scalability.html#GUID-B86945DC-25EC-4FBD-9776-73278DDD56DE">Implement the Database Application</a></span></li>
                        <li><span><a href="performance-and-scalability.html#GUID-CF8EF82C-FBB9-45A6-AD65-BA88294ADBE2">Maintain the Database and Database Application</a></span></li>
                     </ol>
                  </div><a id="ADFNS253"></a><div class="props_rev_3"><a id="GUID-2965BB39-76A2-4C02-9CBA-E7CE1FE8A036" name="GUID-2965BB39-76A2-4C02-9CBA-E7CE1FE8A036"></a><h5 id="ADFNS-GUID-2965BB39-76A2-4C02-9CBA-E7CE1FE8A036" class="sect5">Analyze the Data Requirements of the Application</h5>
                     <div>
                        <div class="section">
                           <p>Analyze the data requirements of your application by following this basic procedure:</p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>Collect data.</span><div>
                                 <p>Interview people to learn about the business, the nature of the application, who uses information and how, and the expectations of end users. Collect business documents—personnel forms, invoice forms, order forms, and so on—to learn how the business uses information.</p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>Analyze the collected data.</span><div>
                                 <p>This bottom-up process includes normalization of the data, entity-relationship modeling, and transaction analysis.</p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>Do a functional analysis of the data.</span><div>
                                 <p>The end result of this top-down process is a data flow diagram that identifies the main process blocks and how data flows into and out of them over its life time.</p>
                              </div>
                           </li>
                        </ol>
                     </div>
                  </div><a id="ADFNS1442"></a><a id="ADFNS255"></a><div class="props_rev_3"><a id="GUID-3C67559B-58F5-4E92-83AA-43DF9428A506" name="GUID-3C67559B-58F5-4E92-83AA-43DF9428A506"></a><h5 id="ADFNS-GUID-3C67559B-58F5-4E92-83AA-43DF9428A506" class="sect5">Create the Database Design for the Application</h5>
                     <div>
                        <div class="section">
                           <p>To create the database design, you must first create the logical design, and then translate this logical design into a physical design.</p>
                           <p>Topics:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="performance-and-scalability.html#GUID-E5C1ACB7-169E-4633-BC48-D600170FB280">Create the Logical Design</a></p>
                              </li>
                              <li>
                                 <p><a href="performance-and-scalability.html#GUID-A4DF01FA-1AF9-415D-BB3E-E8646ADAC89F">Create the Physical Design</a></p>
                              </li>
                           </ul>
                           <div class="infoboxnotealso" id="GUID-3C67559B-58F5-4E92-83AA-43DF9428A506__GUID-DC0E5448-2E73-44FA-AE4D-69CB53B40046">
                              <p class="notep1">See Also:</p>
                              <p><a href="../tgdba/designing-and-developing-for-performance.html#TGDBA-GUID-CF4C8C89-9FFA-474F-B0F8-79049B8EB5FC" target="_blank"><span><cite>Oracle Database Performance Tuning Guide</cite></span></a> for more information about designing and developing for performance
                              </p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div><a id="ADFNS1443"></a><div class="props_rev_3"><a id="GUID-E5C1ACB7-169E-4633-BC48-D600170FB280" name="GUID-E5C1ACB7-169E-4633-BC48-D600170FB280"></a><h6 id="ADFNS-GUID-E5C1ACB7-169E-4633-BC48-D600170FB280" class="sect6">Create the Logical Design</h6>
                        <div>
                           <div class="section">
                              <p>The logical design is a graphical representation of the database. The logical design models both relationships between database objects and transaction activity of the application. Effective logical design considers the requirements of different users who must own, access, and update data.</p>
                              <p>To model relationships between database objects:</p>
                           </div>
                           <!-- class="section" -->
                           <ol>
                              <li><span>Translate the data requirements into data items (columns).</span></li>
                              <li><span>Group related columns into tables.</span></li>
                              <li><span>Map relationships among columns and tables, determining primary and foreign key attributes for each table.</span></li>
                              <li><span>Normalize the tables to minimize redundancy and dependency.</span></li>
                           </ol>
                           <div class="section">
                              <p>To model transaction activity:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>Know the most common transactions and those that users consider most important.</p>
                                 </li>
                                 <li>
                                    <p>Trace transaction paths through the logical model.</p>
                                 </li>
                                 <li>
                                    <p>Prototype transactions in SQL and develop a volume table that indicates the size of your database.</p>
                                 </li>
                                 <li>
                                    <p>Determine which tables are accessed by which users in which sequences, which transactions read data, and which transactions write data.</p>
                                 </li>
                                 <li>
                                    <p>Determine whether the application mostly reads data or mostly writes data.</p>
                                 </li>
                              </ul>
                           </div>
                           <!-- class="section" -->
                        </div>
                     </div><a id="ADFNS1444"></a><div class="props_rev_3"><a id="GUID-A4DF01FA-1AF9-415D-BB3E-E8646ADAC89F" name="GUID-A4DF01FA-1AF9-415D-BB3E-E8646ADAC89F"></a><h6 id="ADFNS-GUID-A4DF01FA-1AF9-415D-BB3E-E8646ADAC89F" class="sect6">Create the Physical Design</h6>
                        <div>
                           <div class="section">
                              <p>The physical design is the implementation of the logical design on the physical database.</p>
                              <p>Because the logical design integrates the information about tables and columns, the relationships between and among tables, and all known transaction activity, you know how the database stores data in tables and creates other structures, such as indexes.</p>
                              <p>Using this knowledge, create scripts that use SQL data definition language (DDL) to create the schema definition, define the database objects in their required sequence, define the storage requirements to specification, and so on.</p>
                           </div>
                           <!-- class="section" -->
                        </div>
                     </div>
                  </div><a id="ADFNS256"></a><div class="props_rev_3"><a id="GUID-B86945DC-25EC-4FBD-9776-73278DDD56DE" name="GUID-B86945DC-25EC-4FBD-9776-73278DDD56DE"></a><h5 id="ADFNS-GUID-B86945DC-25EC-4FBD-9776-73278DDD56DE" class="sect5">Implement the Database Application</h5>
                     <div>
                        <div class="section">
                           <p>Implement the database application by following this basic procedure:</p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>Implement the application in a test environment.</span><div>
                                 <p>In a test environment that is as similar as possible to the production environment, run the scripts that implement the physical database design. Load the data into the physical schema. Select the programming language in which to develop the application, develop the user interface, create and test the transactions, and so on.</p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>Ensure that the application runs to specification.</span><div>
                                 <p>Ensure that all components are exercised, the application is fully operational, and the database features that the application uses are optimally configured.</p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>Run benchmark tests on the application.</span><div>
                                 <p>Benchmark tests determine whether the application performs as expected under various workloads (including peak activity) with simulated real-time operations, such as adding data and users. Ensure that the application scales well.</p>
                                 <p>If the application does not meet the benchmarks, tune your SQL statements to perform optimally, first with no workload and then with increasing workloads.</p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>Implement the application in the production environment.</span></li>
                        </ol>
                        <div class="section">
                           <div class="infoboxnotealso" id="GUID-B86945DC-25EC-4FBD-9776-73278DDD56DE__GUID-4D15F503-07E7-4377-8DF4-5DA2C96AC29B">
                              <p class="notep1">See Also:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=TGSQL-GUID-B653E5F3-F078-4BBC-9516-B892960046A2" target="_blank"><span><cite>Oracle Database SQL Tuning Guide</cite></span></a> for more information about SQL tuning
                                    </p>
                                 </li>
                                 <li>
                                    <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=TDPPT-GUID-CEF73784-0C70-415A-ACB6-72504CC10B70" target="_blank"><span><cite>Oracle Database 2 Day + Performance Tuning Guide</cite></span></a> for more information about SQL tuning
                                    </p>
                                 </li>
                                 <li>
                                    <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=TGDBA-GUID-DD122227-0E55-49DB-8DF0-0F321D03800F" target="_blank"><span><cite>Oracle Database Performance Tuning Guide</cite></span></a> for more information about workload testing, modeling, and implementation
                                    </p>
                                 </li>
                                 <li>
                                    <p><a href="performance-and-scalability.html#GUID-3BC2DA6F-0836-42EF-8155-C6FA27893360">Tools for Performance</a> for information about tools for testing performance
                                    </p>
                                 </li>
                                 <li>
                                    <p><a href="performance-and-scalability.html#GUID-2783BEBF-6D2D-4242-930D-40EE8F1D1D27">Benchmarking Your Application</a> for information about benchmarking your application
                                    </p>
                                 </li>
                                 <li>
                                    <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=TGDBA94132" target="_blank"><span class="italic">Oracle Database Performance Tuning Guide</span></a> for more information about deploying new applications
                                    </p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="ADFNS268"></a><div class="props_rev_3"><a id="GUID-CF8EF82C-FBB9-45A6-AD65-BA88294ADBE2" name="GUID-CF8EF82C-FBB9-45A6-AD65-BA88294ADBE2"></a><h5 id="ADFNS-GUID-CF8EF82C-FBB9-45A6-AD65-BA88294ADBE2" class="sect5">Maintain the Database and Database Application</h5>
                     <div>
                        <div class="section">
                           <p>Maintaining the database, the database application, and the operating system are on-going tasks for the database administrator, the application developer, and the system administrator, respectively. The resources that the business allocates to maintenance depend on the importance of the database and the database application, its growth potential, the need to accommodate more users, and so on.</p>
                           <p>If you are responsible for maintenance, you must periodically monitor the system, schedule maintenance periods, and inform users of upcoming maintenance periods. If maintenance periods require down time, schedule them for periods with little or no database activity.</p>
                           <p>Application maintenance includes fixing bugs, applying patches, and releasing upgrades. Test maintenance work in a test environment to catch and resolve any before implemented it on production systems.</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div><a id="ADFNS349"></a><div class="props_rev_3"><a id="GUID-D760D806-6151-4C5A-A775-2809BE68508C" name="GUID-D760D806-6151-4C5A-A775-2809BE68508C"></a><h4 id="ADFNS-GUID-D760D806-6151-4C5A-A775-2809BE68508C" class="sect4">Setting Performance Goals (Metrics)</h4>
                  <div>
                     <div class="section">
                        <p>Start your application development project by setting performance goals (metrics), including:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Expected number of application users</p>
                           </li>
                           <li>
                              <p>Expected number of transactions per second at peak load times</p>
                           </li>
                           <li>
                              <p>Expected query response times at peak load times</p>
                           </li>
                           <li>
                              <p>Expected number of records for each table per unit of time (such as one day, one month, or one year)</p>
                           </li>
                        </ul>
                        <p>Use these metrics to create benchmark tests.</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADFNS696"></a><div class="props_rev_3"><a id="GUID-2783BEBF-6D2D-4242-930D-40EE8F1D1D27" name="GUID-2783BEBF-6D2D-4242-930D-40EE8F1D1D27"></a><h4 id="ADFNS-GUID-2783BEBF-6D2D-4242-930D-40EE8F1D1D27" class="sect4">Benchmarking Your Application</h4>
                  <div>
                     <div class="section">
                        <p><span class="bold">Benchmarks</span> are tests that measure aspects of application performance. Benchmark results either validate application design or raise issues that you can resolve before putting the application into production.
                        </p>
                        <p>Usually, you first run benchmarks on an isolated single-user system to minimize interference from other factors. Results from such benchmarks provide a performance baseline for the application. For meaningful benchmark results, you must test the application in the environment where you expect it to run.</p>
                        <p>You can create small benchmarks that measure performance of the most important transactions, compare different solutions to performance problems, and help resolve design issues that could affect performance.</p>
                        <p>You must develop much larger, more complex benchmarks to measure application performance during peak user loads, peak transaction loads, or both. Such benchmarks are especially important if you expect the user or transaction load to increase over time. You must budget and plan for such benchmarks.</p>
                        <p>After the application is in production, run benchmarks regularly in the production environment and store their results in a database table. After each benchmark run, compare the previous and new records for transactions that cannot afford performance degradation. Using this method, you isolate issues as they arise. If you wait until users complain about performance, you might be unable to determine when the problem started.</p>
                        <div class="infoboxnotealso" id="GUID-2783BEBF-6D2D-4242-930D-40EE8F1D1D27__GUID-5B97DB4F-86D3-45D1-BC15-0FC741001E77">
                           <p class="notep1">See Also:</p>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=TGDBA94129" target="_blank"><span class="italic">Oracle Database Performance Tuning Guide</span></a> for more information about benchmarking applications
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="ADFNS697"></a><a id="ADFNS158"></a><div class="props_rev_3"><a id="GUID-3BC2DA6F-0836-42EF-8155-C6FA27893360" name="GUID-3BC2DA6F-0836-42EF-8155-C6FA27893360"></a><h3 id="ADFNS-GUID-3BC2DA6F-0836-42EF-8155-C6FA27893360" class="sect3">Tools for Performance</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-3BC2DA6F-0836-42EF-8155-C6FA27893360__GUID-722414AE-FFBF-445B-84CB-7CC30A4C3F3D">Topics:</p>
                     <p>Several tools report runtime performance information about your application.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="performance-and-scalability.html#GUID-DFDA6843-4472-47D6-A2E6-BF72189D2E31">DBMS_APPLICATION_INFO Package</a></p>
                        </li>
                        <li>
                           <p><a href="performance-and-scalability.html#GUID-C1AD0758-6D69-4D2F-80BB-30BA6DA2DCF2">SQL Trace Facility (SQL_TRACE)</a></p>
                        </li>
                        <li>
                           <p><a href="performance-and-scalability.html#GUID-E59C729D-5257-450A-828B-DE7DA423BFB1">EXPLAIN PLAN Statement</a></p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-3BC2DA6F-0836-42EF-8155-C6FA27893360__GUID-CFF2B4B2-77F7-4600-8BF2-056F84A26656">
                        <p class="notep1">See Also:</p>
                        <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=RATUG101" target="_blank"><span class="italic">Oracle Database Testing Guide</span></a> for more information about tools for tuning the database
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div><a id="ADFNS699"></a><div class="props_rev_3"><a id="GUID-DFDA6843-4472-47D6-A2E6-BF72189D2E31" name="GUID-DFDA6843-4472-47D6-A2E6-BF72189D2E31"></a><h4 id="ADFNS-GUID-DFDA6843-4472-47D6-A2E6-BF72189D2E31" class="sect4">DBMS_APPLICATION_INFO Package</h4>
                  <div>
                     <div class="section">
                        <p>Use the <code class="codeph">DBMS_APPLICATION_INFO</code> package with the SQL Trace facility and Oracle Trace and to record the names of executing modules or transactions in the database. System administrators and performance tuning specialists can use this recorded information to track the performance of individual modules and for debugging. System administrators can also use this information to track resource use by module.
                        </p>
                        <p>When you register the application with the database, its name and actions are recorded in the views <code class="codeph">V$SESSION</code> and <code class="codeph">V$SQLAREA</code>.
                        </p>
                        <p>The <code class="codeph">DBMS_APPLICATION_INFO</code> package provides subprograms that set the following columns in the <code class="codeph">V$SESSION</code> view:
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">MODULE</code> (name of application or package)
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">ACTION</code> (name of transaction or packaged subprogram)
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">CLIENT_INFO</code> (additional information about the client application, such as initial bind variable values for the current session)
                              </p>
                           </li>
                        </ul>
                        <p>The <code class="codeph">DBMS_APPLICATION_INFO</code> package also provides subprograms that return information from the preceding <code class="codeph">V$SESSION</code> columns for the current session.
                        </p>
                        <p>You can also use the <code class="codeph">DBMS_APPLICATION_INFO</code> package to track the progress of commands that take many seconds to display results (such as those that create indexes or update many rows). The <code class="codeph">DBMS_APPLICATION_INFO</code> package provides a subprogram that stores information about the command in the <code class="codeph">V$SESSION_LONGOPS</code> view. The <code class="codeph">V$SESSION_LONGOPS</code> view shows when the command started, how far it has progressed, and its estimated time to completion.
                        </p>
                        <div class="infoboxnotealso" id="GUID-DFDA6843-4472-47D6-A2E6-BF72189D2E31__GUID-7D2FEFBB-C06C-4421-B81C-DE3B67436E6B">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=ARPLS003" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for more information about the <code class="codeph">DBMS_APPLICATION_INFO</code> package
                                 </p>
                              </li>
                              <li>
                                 <p> <a href="performance-and-scalability.html#GUID-C1AD0758-6D69-4D2F-80BB-30BA6DA2DCF2">SQL Trace Facility (SQL_TRACE)</a> for more information about <code class="codeph">DBMS_APPLICATION_INFO</code> package with the SQL Trace facility 
                                 </p>
                              </li>
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=REFRN30223" target="_blank"><span class="italic">Oracle Database Reference</span></a> for information about the <code class="codeph">V$SESSION</code> view
                                 </p>
                              </li>
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=REFRN30227" target="_blank"><span class="italic">Oracle Database Reference</span></a> for information about the <code class="codeph">V$SESSION_LONGOPS</code> view
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../refrn/V-SQLAREA.html#REFRN30259" target="_blank"><span class="italic">Oracle Database Reference</span></a> for information about the <code class="codeph">V$SQLAREA</code> view
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADFNS700"></a><div class="props_rev_3"><a id="GUID-C1AD0758-6D69-4D2F-80BB-30BA6DA2DCF2" name="GUID-C1AD0758-6D69-4D2F-80BB-30BA6DA2DCF2"></a><h4 id="ADFNS-GUID-C1AD0758-6D69-4D2F-80BB-30BA6DA2DCF2" class="sect4">SQL Trace Facility (SQL_TRACE)</h4>
                  <div>
                     <div class="section">
                        <p>Use the SQL Trace facility, <code class="codeph">SQL_TRACE</code>, to trace all SQL statements and PL/SQL blocks that your application executes. By enabling the SQL Trace facility for a single statement or module and then disabling it after the statement or module runs, you can get trace information for only that statement or module.
                        </p>
                        <p>For best results, use the SQL Trace facility with <code class="codeph">TKPROF</code> and the <code class="codeph">EXPLAIN</code> <code class="codeph">PLAN</code> statement. The SQL Trace facility provides performance information for individual SQL statements. <code class="codeph">TKPROF</code> formats the trace file contents in a readable file. The <code class="codeph">EXPLAIN</code> <code class="codeph">PLAN</code> statement shows the execution plans chosen by the optimizer and the execution plan for the specified SQL statement if it were executed in the current session.
                        </p>
                        <p>Use the SQL Trace facility while designing your application, so that you know what you want to trace and how the application performs before putting it into production. If you wait until performance problems develop in the production environment, your application structure might make using the SQL Trace facility almost impossible.</p>
                        <div class="infoboxnotealso" id="GUID-C1AD0758-6D69-4D2F-80BB-30BA6DA2DCF2__GUID-0A660639-52DF-4FB4-BBA6-C02D471AF301">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="performance-and-scalability.html#GUID-E59C729D-5257-450A-828B-DE7DA423BFB1">EXPLAIN PLAN Statement</a></p>
                              </li>
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=TGSQL806" target="_blank"><span class="italic">Oracle Database SQL Tuning Guide</span></a> for more information about <code class="codeph">SQL_TRACE</code> and <code class="codeph">TKPROF</code></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADFNS701"></a><div class="props_rev_3"><a id="GUID-E59C729D-5257-450A-828B-DE7DA423BFB1" name="GUID-E59C729D-5257-450A-828B-DE7DA423BFB1"></a><h4 id="ADFNS-GUID-E59C729D-5257-450A-828B-DE7DA423BFB1" class="sect4">EXPLAIN PLAN Statement</h4>
                  <div>
                     <div class="section">
                        <p>When you run a SQL statement, the optimizer generates several possible execution plans, calculates the cost of each plan, and uses the plan with the lowest cost.</p>
                        <p>Plan cost is based on statistics such as the data distribution and storage characteristics of the tables, indexes, and partitions that the SQL statement accesses. The cost of access paths and join orders is based on estimated use of computer resources such as I/O, CPU, and memory.</p>
                        <p>When you use the statement <code class="codeph">EXPLAIN</code> <code class="codeph">PLAN</code> <code class="codeph">FOR</code> <span class="italic"><code class="codeph">statement</code></span> before running <span class="italic"><code class="codeph">statement</code></span>, the <code class="codeph">EXPLAIN</code> <code class="codeph">PLAN</code> statement stores the execution plan for <span class="italic"><code class="codeph">statement</code></span> in a plan table. By querying the plan table, you can examine the execution plan that the optimizer chose.
                        </p>
                        <p>The plan table presents the execution plan as a row source tree, which shows the steps that Oracle Database uses to execute the SQL statement. The row source tree shows the order in which the statement references tables, the join method for tables affected by join operations, and data operations such as filtering, sorting, and aggregation. The plan table also contains optimization information, such as the cost and cardinality of each operation, partitioning information (such as the set of accessed partitions), and parallel execution information (such as the distribution method of join inputs). This information provides valuable insight into how and why the optimizer chose the execution plan.</p>
                        <p>If you have information about the data that the optimizer does not have, you can give the optimizer a hint, which might change the execution plan. If tests show that the hint improves performance, keep the hint in your code.</p>
                        <div class="infoboxnote" id="GUID-E59C729D-5257-450A-828B-DE7DA423BFB1__GUID-7C3383E4-EB72-4291-BC3A-C4B8B90AC75D">
                           <p class="notep1">Note:</p>
                           <p>You must regularly test code that contains hints, because changing database conditions and query performance enhancements in subsequent releases can significantly impact how hints affect performance.</p>
                        </div>
                        <p>The <code class="codeph">EXPLAIN PLAN</code> statement shows only how Oracle Database would run the SQL statement when the statement was explained. If the execution environment or explain plan environment changes, the optimizer might use a different execution plan. Therefore, Oracle recommends using SQL plan management to build a SQL plan baseline, which is a set of accepted execution plans for a SQL statement.
                        </p>
                        <p>First, use the <code class="codeph">EXPLAIN PLAN</code> statement to see the statement's execution plan. Second, test the execution plan to verify that it is optimal, considering the statement's actual resource consumption. Finally, if the plan is optimal, use SQL plan management.
                        </p>
                        <div class="infoboxnotealso" id="GUID-E59C729D-5257-450A-828B-DE7DA423BFB1__GUID-43767D49-861A-4D54-B540-E4A337B3024F">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=TGSQL193" target="_blank"><span class="italic">Oracle Database SQL Tuning Guide</span></a> for more information about the query optimizer
                                 </p>
                              </li>
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=TGSQL196" target="_blank"><span class="italic">Oracle Database SQL Tuning Guide</span></a> for more information about query execution plans 
                                 </p>
                              </li>
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=TGSQL259" target="_blank"><span class="italic">Oracle Database SQL Tuning Guide</span></a> for more information about influencing the optimizer with hints
                                 </p>
                              </li>
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=TGSQL615" target="_blank"><span class="italic">Oracle Database SQL Tuning Guide</span></a> for more information about SQL plan management
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="ADFNS698"></a><a id="ADFNS161"></a><div class="props_rev_3"><a id="GUID-8A9CDE8E-6AF8-4523-9840-061F5D2DD8A9" name="GUID-8A9CDE8E-6AF8-4523-9840-061F5D2DD8A9"></a><h3 id="ADFNS-GUID-8A9CDE8E-6AF8-4523-9840-061F5D2DD8A9" class="sect3">Monitoring Database Performance</h3>
               <div>
                  <div class="section">
                     <p>Oracle Database provides advisors and powerful tools to help you manage and tune your database.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-8A9CDE8E-6AF8-4523-9840-061F5D2DD8A9__GUID-0D5FCF61-20E8-4C91-A3A8-A124FB6F51CA">Topics:</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="performance-and-scalability.html#GUID-9243415A-D624-4A83-BB66-501B1DF40A11">Automatic Database Diagnostic Monitor (ADDM)</a></p>
                        </li>
                        <li>
                           <p><a href="performance-and-scalability.html#GUID-E2806DB2-BCC1-4EA0-B264-1DC78DB2769D">Monitoring Real-Time Database Performance</a></p>
                        </li>
                        <li>
                           <p><a href="performance-and-scalability.html#GUID-2719174B-73C2-4E61-906D-0F15321AD1F5">Responding to Performance-Related Alerts</a></p>
                        </li>
                        <li>
                           <p><a href="performance-and-scalability.html#GUID-57A86725-A163-44A7-85C1-53F73ACDD0F3">SQL Advisors and Memory Advisors</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div><a id="ADFNS931"></a><div class="props_rev_3"><a id="GUID-9243415A-D624-4A83-BB66-501B1DF40A11" name="GUID-9243415A-D624-4A83-BB66-501B1DF40A11"></a><h4 id="ADFNS-GUID-9243415A-D624-4A83-BB66-501B1DF40A11" class="sect4">Automatic Database Diagnostic Monitor (ADDM)</h4>
                  <div>
                     <p>Automatic Database Diagnostic Monitor (ADDM) is an advisor that analyzes data captured in Automatic Workload Repository (AWR). ADDM and AWR are part of the Oracle Diagnostic Pack.</p>
                     <p>ADDM determines where database performance problems might exist and where they do not exist, and recommends corrections for the former.</p>
                     <p>ADDM performs its analysis after each AWR snapshot and stores the results in the database. By default, the AWR snapshot interval is 1 hour and the ADDM results retention period is 8 days.</p>
                     <p>Oracle Enterprise Manager Cloud Control (Cloud Control) displays ADDM Findings on the Database home page. This AWR snapshot data confirms ADDM results, but lacks the analysis and recommendations that ADDM provides. (AWR snapshot data is similar to Statspack data that database administrators used for performance analysis.)</p>
                     <div class="infoboxnotealso" id="GUID-9243415A-D624-4A83-BB66-501B1DF40A11__GUID-FA8230EE-41BC-45F7-BE04-EC16D997036B">
                        <p class="notep1">See Also:</p>
                        <p><a href="../tdppt/automatic-database-performance-monitoring.html#TDPPT020" target="_blank"><span class="italic">Oracle Database 2 Day + Performance Tuning Guide</span></a> for more information about configuring ADDM, reviewing ADDM analysis, interpreting ADDM findings, implementing ADDM recommendations, and viewing snapshot statistics using Enterprise Manager
                        </p>
                     </div>
                  </div>
               </div><a id="ADFNS945"></a><div class="props_rev_3"><a id="GUID-E2806DB2-BCC1-4EA0-B264-1DC78DB2769D" name="GUID-E2806DB2-BCC1-4EA0-B264-1DC78DB2769D"></a><h4 id="ADFNS-GUID-E2806DB2-BCC1-4EA0-B264-1DC78DB2769D" class="sect4">Monitoring Real-Time Database Performance</h4>
                  <div>
                     <div class="section">
                        <p>Using Oracle Enterprise Manager Cloud Control (Cloud Control), you can monitor real-time database performance from the Performance page. From the Performance page, you can access pages that identify performance issues and resolve those issues without waiting for the next ADDM analysis.</p>
                        <div class="infoboxnotealso" id="GUID-E2806DB2-BCC1-4EA0-B264-1DC78DB2769D__GUID-9B3EEFDC-A3EE-4CEC-B89F-20DC3608B9DC">
                           <p class="notep1">See Also:</p>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=TDPPT033" target="_blank"><span class="italic">Oracle Database 2 Day + Performance Tuning Guide</span></a> for more information about monitoring real-time database performance
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADFNS946"></a><div class="props_rev_3"><a id="GUID-2719174B-73C2-4E61-906D-0F15321AD1F5" name="GUID-2719174B-73C2-4E61-906D-0F15321AD1F5"></a><h4 id="ADFNS-GUID-2719174B-73C2-4E61-906D-0F15321AD1F5" class="sect4">Responding to Performance-Related Alerts</h4>
                  <div>
                     <div class="section">
                        <p>The Database home page in Oracle Enterprise Manager Cloud Control (Cloud Control) displays performance-related alerts generated by the database. You can improve database performance by resolving problems indicated by these alerts. Oracle Database by default enables alerts for tablespace usage, snapshot too old, recovery area low on free space, and resumable session suspended. You can view metrics and thresholds, set metric thresholds, respond to alerts, clear alerts, and set up direct alert email notification. Using this built-in alerts infrastructure allows you to be notified for these special performance-related alerts.</p>
                        <div class="infoboxnotealso" id="GUID-2719174B-73C2-4E61-906D-0F15321AD1F5__GUID-28AD46E7-007F-464D-B1B1-1F2AF27A84DA">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=ADMIN11247" target="_blank"><span class="italic">Oracle Database Administrator's Guide</span></a> for more information about using alerts to help you monitor and tune the database and managing alerts 
                                 </p>
                              </li>
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=TDPPT045" target="_blank"><span class="italic">Oracle Database 2 Day + Performance Tuning Guide</span></a> for more information about monitoring performance alerts
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADFNS947"></a><div class="props_rev_3"><a id="GUID-57A86725-A163-44A7-85C1-53F73ACDD0F3" name="GUID-57A86725-A163-44A7-85C1-53F73ACDD0F3"></a><h4 id="ADFNS-GUID-57A86725-A163-44A7-85C1-53F73ACDD0F3" class="sect4">SQL Advisors and Memory Advisors</h4>
                  <div>
                     <p>Oracle Database provides SQL advisors and memory advisors that you can use to help improve database performance.</p>
                     <p>SQL advisors include SQL Tuning Advisor and SQL Access Advisor, which are part of the Oracle Database Tuning Pack.</p>
                     <p>SQL Tuning Advisor accepts one or more SQL statements as input and returns specific tuning recommendations. Each recommendation includes a rationale and expected benefit. Recommendations are based on object statistics, new index creation, SQL statement restructuring, and SQL profile creation.</p>
                     <p>SQL Access Advisor enables you to optimize data access paths of SQL queries by recommending a set of materialized views and view logs, indexes, and partitions for a given SQL workload.</p>
                     <p>Memory advisors include Memory Advisor, SGA Advisor, Shared Pool Advisor, Buffer Cache Advisor, and PGA Advisor. Memory advisors provide graphical analyses of total memory target settings, SGA and PGA target settings, and SGA component size settings. Use these analyses to tune database performance and to plan for possible situations.</p>
                     <div class="infoboxnotealso" id="GUID-57A86725-A163-44A7-85C1-53F73ACDD0F3__GUID-AF590FA2-8ACC-4023-AE73-577198C8851E">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=ADMQS103" target="_blank"><span class="italic">Oracle Database 2 Day DBA</span></a> for more information about using advisors to optimize database performance, including a brief description of each performance advisor
                              </p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=ADMQS1034" target="_blank"><span class="italic">Oracle Database 2 Day DBA</span></a> for more information about optimizing memory usage with the memory advisors
                              </p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=TDPPT005" target="_blank"><span class="italic">Oracle Database 2 Day + Performance Tuning Guide</span></a> for more information about tools for tuning the database
                              </p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=TGSQL540" target="_blank"><span class="italic">Oracle Database SQL Tuning Guide</span></a> for more information about SQL Tuning Advisor
                              </p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=TGSQL591" target="_blank"><span class="italic">Oracle Database SQL Tuning Guide</span></a> for more information about SQL Access Advisor
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div>
            </div><a id="ADFNS166"></a><div class="props_rev_3"><a id="GUID-EED13F50-D5BF-4A94-A69C-B1AFECC3760D" name="GUID-EED13F50-D5BF-4A94-A69C-B1AFECC3760D"></a><h3 id="ADFNS-GUID-EED13F50-D5BF-4A94-A69C-B1AFECC3760D" class="sect3">Testing for Performance</h3>
               <div>
                  <div class="section">
                     <p>When testing an application for performance, follow these guidelines:</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Use Automatic Database Diagnostic Monitor (ADDM) and SQL Tuning Advisor for design validation.</p>
                           <p>ADDM determines where database performance problems might exist and recommends corrections. For example, if ADDM finds high-load SQL statements, then you can use SQL Tuning Advisor to analyze those statements and provide tuning recommendations.</p>
                        </li>
                        <li>
                           <p>Test with realistic data volumes and distributions.</p>
                           <p>The test database must contain data representative of the production system. Tables must be fully populated and represent the data volume and cardinality between tables found in the production system. All production indexes must be built and the schema statistics must be populated correctly.</p>
                        </li>
                        <li>
                           <p>Test with the optimizer mode to be used in production.</p>
                           <p>Because Oracle Database research and development focuses on the query optimizer, Oracle re commands using the query optimizer in both the test and production environments.</p>
                        </li>
                        <li>
                           <p>Test a single user performance first.</p>
                           <p>Start testing with a single user on an idle or lightly-used database. If a single user cannot achieve acceptable performance under ideal conditions, then multiple users cannot achieve acceptable performance under real conditions.</p>
                        </li>
                        <li>
                           <p>Get an execution plan for each SQL statement.</p>
                           <p>Verify that the optimizer uses optimal execution plans, and that you understand the relative cost of each SQL statement in terms of CPU time and physical I/O. Identify heavily used transactions that would benefit most from tuning.</p>
                        </li>
                        <li>
                           <p>Test with multiple users.</p>
                           <p>This testing is difficult to perform accurately because user workload and profiles might not be fully quantified. However, you must test DML transactions in a multiuser environment to ensure that there are no locking conflicts or serialization problems.</p>
                        </li>
                        <li>
                           <p>Test with a hardware configuration as close as possible to the production system.</p>
                           <p>Testing on a realistic system is particularly important for network latencies, I/O subsystem bandwidth, and processor type and speed. Testing on an unrealistic system can fail to reveal potential performance problems.</p>
                        </li>
                        <li>
                           <p>Measure steady state performance.</p>
                           <p>Each benchmark run must have a ramp-up phase, where users connect to the database and start using the application. This phase lets frequently cached data be initialized into the cache and lets single-execution operations (such as parsing) be completed before reaching the steady state condition. Likewise, each benchmark run must end with a ramp-down period, where resources are freed from the system and users exit the application and disconnect from the database.</p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-EED13F50-D5BF-4A94-A69C-B1AFECC3760D__GUID-7767048D-796A-4466-AFA7-E71A655DCE84">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=TGDBA-GUID-5C5C081B-A2C1-442D-9F11-A760234C8815" target="_blank"><span><cite>Oracle Database Performance Tuning Guide</cite></span></a> for more information about performance tuning, workload testing, modeling, and implementation
                              </p>
                           </li>
                           <li>
                              <p><a href="performance-and-scalability.html#GUID-9243415A-D624-4A83-BB66-501B1DF40A11">Automatic Database Diagnostic Monitor (ADDM)</a>and <a href="performance-and-scalability.html#GUID-57A86725-A163-44A7-85C1-53F73ACDD0F3">SQL Advisors and Memory Advisors</a> for more information about ADDM and SQL Tuning Advisor respectively
                              </p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=TDPPT161" target="_blank"><span class="italic">Oracle Database 2 Day + Performance Tuning Guide</span></a> for more information about tuning SQL statements using the SQL Tuning Advisor
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ADFNS1336"></a><a id="ADFNS213"></a><div class="props_rev_3"><a id="GUID-35CB2592-7588-4C2D-9075-6F639F25425E" name="GUID-35CB2592-7588-4C2D-9075-6F639F25425E"></a><h3 id="ADFNS-GUID-35CB2592-7588-4C2D-9075-6F639F25425E" class="sect3">Using Client Result Cache</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-35CB2592-7588-4C2D-9075-6F639F25425E__GUID-8D2C349D-6BE2-4CDB-A810-FFB91232DC72">Topics:</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="performance-and-scalability.html#GUID-C7AC2B1B-1A5B-4414-B48D-78CAF0B23080">About Client Result Cache</a></p>
                        </li>
                        <li>
                           <p><a href="performance-and-scalability.html#GUID-5B2C4E40-51A2-4510-9353-5C24734E76A0">Benefits of Client Result Cache</a></p>
                        </li>
                        <li>
                           <p><a href="performance-and-scalability.html#GUID-82C71A2F-0CC9-450E-97EE-B57163AFD22F">Guidelines for Using Client Result Cache</a></p>
                        </li>
                        <li>
                           <p><a href="performance-and-scalability.html#GUID-7B761E11-3094-44B3-B802-4C671422397B">Client Result Cache Consistency</a></p>
                        </li>
                        <li>
                           <p><a href="performance-and-scalability.html#GUID-AD2A54E0-0DEB-4F08-96AA-3A9FA50CE521">Deployment-Time Settings for Client Result Cache</a></p>
                        </li>
                        <li>
                           <p><a href="performance-and-scalability.html#GUID-4BFBAB90-4172-4A8C-A907-C73ABF8EA85E">Client Result Cache Statistics</a></p>
                        </li>
                        <li>
                           <p><a href="performance-and-scalability.html#GUID-27F72393-751D-47DF-88DA-49EEA0937F99">Validation of Client Result Cache</a></p>
                        </li>
                        <li>
                           <p><a href="performance-and-scalability.html#GUID-265350EB-DE84-4094-8616-6AB0E55BF94B">Client Result Cache and Server Result Cache</a></p>
                        </li>
                        <li>
                           <p><a href="performance-and-scalability.html#GUID-AEC83CB0-D984-4208-BC98-AACA313F1530">Client Result Cache Demo Files</a></p>
                        </li>
                        <li>
                           <p><a href="performance-and-scalability.html#GUID-C1456214-194A-444B-9EAE-C48DB793B79B">Client Result Cache Compatibility with Previous Releases</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div><a id="ADFNS464"></a><div class="props_rev_3"><a id="GUID-C7AC2B1B-1A5B-4414-B48D-78CAF0B23080" name="GUID-C7AC2B1B-1A5B-4414-B48D-78CAF0B23080"></a><h4 id="ADFNS-GUID-C7AC2B1B-1A5B-4414-B48D-78CAF0B23080" class="sect4">About Client Result Cache</h4>
                  <div>
                     <p>Applications that use Oracle Database drivers and adapters built on OCI libraries—including C, C++, Java (JDBC-OCI), PHP, Python, Ruby, and Perl—can use client result cache to improve response times of repetitive queries.</p>
                     <p>Client result cache enables client-side caching of SQL query (<code class="codeph">SELECT</code> statement) result sets in client memory. Because retrieving results from a client process is faster than calling the database and rerunning the query, frequently run queries perform significantly faster when their results are cached. Client result cache also reduces the server CPU time that would have been used to process the query, thereby improving server scalability.
                     </p>
                     <p>OCI statements from multiple sessions can match the same cached result set in the OCI process memory if they have similar schemas, SQL text, bind values, and session settings. If not, the query execution is directed to the server.</p>
                     <p>Client result cache is transparent to applications, and its cache of result set data is kept consistent with session or database changes that affect its result set data.</p>
                     <p>Applications that use client result cache benefit from faster performance for queries that have cache hits. These applications use the cached result sets on clients or middle tiers.</p>
                     <p>Client result cache works with OCI features such as the OCI session pool, the OCI connection pool, DRCP, and OCI transparent application failover (TAF).</p>
                     <p>When using client result cache, you must also enable OCI statement caching or cache statements at the application level.</p>
                     <div class="infoboxnotealso" id="GUID-C7AC2B1B-1A5B-4414-B48D-78CAF0B23080__GUID-85313B3F-5C4F-4BA9-A8C7-479960394F6E">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=LNOCI16655" target="_blank"><span class="italic">Oracle Call Interface Programmer's Guide</span></a> for information about statement caching
                              </p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=JJDBC28649" target="_blank"><span class="italic">Oracle Database JDBC Developer's Guide</span></a> for information about JDBC statement caching
                              </p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=LNOCI092" target="_blank"><span class="italic">Oracle Call Interface Programmer's Guide</span></a></p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=LNCPP21896" target="_blank"><span class="italic">Oracle C++ Call Interface Programmer's Guide</span></a></p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=JJDBC28219" target="_blank"><span class="italic">Oracle Database JDBC Developer's Guide</span></a></p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=TGDBA638" target="_blank"><span class="italic">Oracle Database Performance Tuning Guide</span></a></p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=CNCPT1919" target="_blank"><span class="italic">Oracle Database Concepts</span></a></p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=SQLRF00219" target="_blank">SQL hints</a> and <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=SQLRF30051" target="_blank"><code class="codeph">RESULT_CACHE</code></a> for clauses of <code class="codeph">ALTER TABLE</code> <code class="codeph"></code> and <code class="codeph">CREATE TABLE</code></p> 
                           </li>
                           <li>
                              <p><code class="codeph"><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=REFRN10270" target="_blank">RESULT_CACHE_MODE</a></code> 
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph"><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=REFRN29085" target="_blank">CLIENT_RESULT_CACHE_STAT$</a></code> view
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="ADFNS465"></a><div class="props_rev_3"><a id="GUID-5B2C4E40-51A2-4510-9353-5C24734E76A0" name="GUID-5B2C4E40-51A2-4510-9353-5C24734E76A0"></a><h4 id="ADFNS-GUID-5B2C4E40-51A2-4510-9353-5C24734E76A0" class="sect4">Benefits of Client Result Cache</h4>
                  <div>
                     <p>The benefits of client result cache are:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Because client result cache is on the client, a cache hit causes fetch (<code class="codeph">OCIStmtFetch2()</code>) and execute (<code class="codeph">OCIStmtExecute()</code>) calls to be processed locally, eliminating a server round trip. Eliminating server round trips reduces the use of server resources (such as server CPU and server I/O), significantly improving performance.
                           </p>
                        </li>
                        <li>
                           <p>Client result cache is transparent and consistent.</p>
                        </li>
                        <li>
                           <p>Client result cache is available to every process, so multiple client sessions can simultaneously use matching cached result sets.</p>
                        </li>
                        <li>
                           <p>Client result cache minimizes the need for each OCI application to have its own custom result cache.</p>
                        </li>
                        <li>
                           <p>Client result cache transparently manages:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Concurrent access by multiple threads, multiple statements, and multiple sessions</p>
                              </li>
                              <li>
                                 <p>Invalidation of cached result sets that might have been affected by database changes</p>
                              </li>
                              <li>
                                 <p>Refreshing of cached result sets</p>
                              </li>
                              <li>
                                 <p>Cache memory management</p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p>Client result cache is automatically available to applications and drivers that use OCI libraries, including JDBC OCI, ODP.NET, OCCI, Pro*C/C++, Pro*COBOL, and ODBC.</p>
                        </li>
                        <li>
                           <p>Client result cache uses OCI client memory, which might be less expensive than server memory.</p>
                        </li>
                        <li>
                           <p>A local cache on the client has better locality of reference for queries executed by that client.</p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-5B2C4E40-51A2-4510-9353-5C24734E76A0__GUID-E688D513-E782-4E15-81E2-B6156E41F33D">
                        <p class="notep1">See Also:</p>
                        <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=LNOCI17163" target="_blank"><code class="codeph">OCIStmtExecute()</code></a> and <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=LNOCI17165" target="_blank"><code class="codeph">OCIStmtFetch2()</code></a> in <span class="italic">Oracle Call Interface Programmer's Guide</span></p>
                     </div>
                  </div>
               </div><a id="ADFNS896"></a><a id="ADFNS466"></a><div class="props_rev_3"><a id="GUID-82C71A2F-0CC9-450E-97EE-B57163AFD22F" name="GUID-82C71A2F-0CC9-450E-97EE-B57163AFD22F"></a><h4 id="ADFNS-GUID-82C71A2F-0CC9-450E-97EE-B57163AFD22F" class="sect4">Guidelines for Using Client Result Cache</h4>
                  <div>
                     <p>You can enable or disable client result cache at three levels, which are, in order of descending precedence:</p>
                     <ol>
                        <li>
                           <p>Query</p>
                           <p>For a specific query, you can enable or disable client result cache with a SQL hint. To add or change a SQL hint, you must change the application.</p>
                        </li>
                        <li>
                           <p>Table</p>
                           <p>For all queries on a specific table, you can enable or disable client result cache with a table annotation, without changing the application.</p>
                        </li>
                        <li>
                           <p>Session</p>
                           <p>For all queries in your database session, you can enable or disable client result cache with a session parameter, without changing the application.</p>
                        </li>
                     </ol>
                     <p>Higher-level settings take precedence over lower-level ones.</p>
                     <p>Oracle recommends enabling client result cache only for queries on read-only and seldom-updated tables (tables that are rarely updated). That is, enable client result cache:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>At query level only for queries of read-only and seldom-read tables</p>
                        </li>
                        <li>
                           <p>At table level only for read-only and seldom-read tables</p>
                        </li>
                        <li>
                           <p>At session level only when running applications that query only read-only or seldom-read tables</p>
                        </li>
                     </ul>
                     <p>Enabling client result cache for queries that have large result sets or many sets of bind values can use a large amount of client result cache memory. Each set of bind values (for the same SQL text) creates a different cached result set.</p>
                     <p>When client result cache is enabled for a query, its result sets can be cached on the client, server, or both. Client result cache can be enabled even if the server result cache (which is enabled by default) is disabled.</p>
                     <p>For OCI, the first <code class="codeph">OCIStmtExecute()</code> call of every OCI statement handle call always goes to the server even if there might be a valid cached result set. An <code class="codeph">OCIStmtExecute()</code> call must be made for each statement handle to be able to match a cached result set. Oracle recommends that applications either have their own statement caching for OCI statement handles or use OCI statement caching so that <code class="codeph">OCIStmtPrepare2()</code> can return an OCI statement handle that has been executed once. Multiple OCI statement handles, from the same or different sessions, can simultaneously fetch data from the same cached result set.
                     </p>
                     <p>For OCI, for a result set to be cached, the <code class="codeph">OCIStmtExecute()</code> or <code class="codeph">OCIStmtFetch2()</code> calls that transparently create this cached result set must fetch rows until ORA-01403 (No Data Found) is returned. Subsequent <code class="codeph">OCIStmtExecute()</code> or <code class="codeph">OCIStmtFetch2()</code> calls that match a locally cached result set need not fetch to completion.
                     </p>
                     <div class="infoboxnotealso" id="GUID-82C71A2F-0CC9-450E-97EE-B57163AFD22F__GUID-F319ABC5-010B-4402-8F87-BFDBA7833F2C">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="performance-and-scalability.html#GUID-972CC982-35B7-4EAC-ABBA-BFB77282CD46">SQL Hints</a> 
                              </p>
                           </li>
                           <li>
                              <p><a href="performance-and-scalability.html#GUID-F5C06AD6-286B-4B64-819D-82BF0ECEC9B4">Table Annotation</a></p>
                           </li>
                           <li>
                              <p><a href="performance-and-scalability.html#GUID-4F5DDDD0-6739-4380-B5B9-248BB9A85EF7">Session Parameter</a></p>
                           </li>
                           <li>
                              <p><a href="performance-and-scalability.html#GUID-E04C552C-FCE8-4C17-AF6A-D185951186E4">Result Cache Mode Use Cases</a></p>
                           </li>
                           <li>
                              <p><a href="../lnoci/statement-functions.html#LNOCI17163" target="_blank"><code class="codeph">OCIStmtExecute()</code></a></p>
                           </li>
                           <li>
                              <p><a href="../lnoci/statement-functions.html#LNOCI17168" target="_blank"><code class="codeph">OCIStmtPrepare2()</code></a></p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=LNOCI17165" target="_blank"><code class="codeph">OCIStmtFetch2()</code></a></p>
                           </li>
                        </ul>
                     </div>
                     <div class="section">
                        <p class="subhead3" id="GUID-82C71A2F-0CC9-450E-97EE-B57163AFD22F__GUID-1BDC3368-BC97-4E97-A307-11241B1F1D66">Topics:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="performance-and-scalability.html#GUID-972CC982-35B7-4EAC-ABBA-BFB77282CD46">SQL Hints</a></p>
                           </li>
                           <li>
                              <p><a href="performance-and-scalability.html#GUID-F5C06AD6-286B-4B64-819D-82BF0ECEC9B4">Table Annotation</a></p>
                           </li>
                           <li>
                              <p><a href="performance-and-scalability.html#GUID-4F5DDDD0-6739-4380-B5B9-248BB9A85EF7">Session Parameter</a></p>
                           </li>
                           <li>
                              <p><a href="performance-and-scalability.html#GUID-5887A8D4-B1A5-418B-82AD-E8A6AE4E8BF5">Effective Table Result Cache Mode</a></p>
                           </li>
                           <li>
                              <p><a href="performance-and-scalability.html#GUID-3E3524FF-8423-4CBB-ADAA-F2A98A30504D">Displaying Effective Table Result Cache Mode</a></p>
                           </li>
                           <li>
                              <p><a href="performance-and-scalability.html#GUID-E04C552C-FCE8-4C17-AF6A-D185951186E4">Result Cache Mode Use Cases</a></p>
                           </li>
                           <li>
                              <p><a href="performance-and-scalability.html#GUID-7DB489C2-351C-4C06-9D84-2520843527F2">Queries Never Result Cached in Client Result Cache</a></p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div><a id="ADFNS467"></a><div class="props_rev_3"><a id="GUID-972CC982-35B7-4EAC-ABBA-BFB77282CD46" name="GUID-972CC982-35B7-4EAC-ABBA-BFB77282CD46"></a><h5 id="ADFNS-GUID-972CC982-35B7-4EAC-ABBA-BFB77282CD46" class="sect5">SQL Hints</h5>
                     <div>
                        <p>The SQL hint <code class="codeph">RESULT_CACHE</code> or <code class="codeph">NO_RESULT_CACHE</code> applies to a single query, for which it enables or disables client result cache. These hints take precedence over both table annotations and the <code class="codeph">RESULT_CACHE_MODE</code> server initialization parameter.
                        </p>
                        <p>For OCI, the SQL hint <code class="codeph">/*+ result_cache */</code> or <code class="codeph">/*+ no_result_cache */</code> must be set in SQL text passed to <code class="codeph">OCIStmtPrepare()</code> and <code class="codeph">OCIStmtPrepare2()</code> calls.
                        </p>
                        <p>For JDBC OCI, the SQL hint <code class="codeph">/*+ result_cache */</code> or <code class="codeph">/*+ no_result_cache */</code> is included in the query (<code class="codeph">SELECT</code> statement) as part of the query string.
                        </p>
                        <div class="infoboxnotealso" id="GUID-972CC982-35B7-4EAC-ABBA-BFB77282CD46__GUID-33C2CA7C-C7AC-4203-8C56-D97CC5B57B36">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=SQLRF00219" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for general information about SQL hints
                                 </p>
                              </li>
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=LNOCI17167" target="_blank"><code class="codeph">OCIStmtPrepare()</code></a>, <a href="../lnoci/statement-functions.html#LNOCI17168" target="_blank"><code class="codeph">OCIStmtPrepare2()</code></a> in <span class="italic">Oracle Call Interface Programmer's Guide</span></p>
                              </li>
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=JJDBC28224" target="_blank"><span class="italic">Oracle Database JDBC Developer's Guide</span></a> for information about SQL hints in JDBC
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div><a id="ADFNS1338"></a><a id="ADFNS1337"></a><div class="props_rev_3"><a id="GUID-F5C06AD6-286B-4B64-819D-82BF0ECEC9B4" name="GUID-F5C06AD6-286B-4B64-819D-82BF0ECEC9B4"></a><h5 id="ADFNS-GUID-F5C06AD6-286B-4B64-819D-82BF0ECEC9B4" class="sect5">Table Annotation</h5>
                     <div>
                        <p>A <span class="bold">table annotation</span> enables or disables client result cache for all queries on a specific table. A table annotation takes precedence over the <code class="codeph">RESULT_CACHE_MODE</code> server initialization parameter, but the SQL hints <code class="codeph">/*+&nbsp;RESULT_CACHE&nbsp;*/</code> and <code class="codeph">/*+&nbsp;NO_RESULT_CACHE&nbsp;*/</code> take precedence over a table annotation.
                        </p>
                        <p>You annotate a table with either the <code class="codeph">CREATE</code> <code class="codeph">TABLE</code> or <code class="codeph">ALTER</code> <code class="codeph">TABLE</code> statement, using the <code class="codeph">RESULT_CACHE</code> clause. To enable client result cache, specify <code class="codeph">RESULT_CACHE</code> <code class="codeph">(MODE</code> <code class="codeph">FORCE)</code>; to disable it, use <code class="codeph">RESULT_CACHE</code> <code class="codeph">(MODE</code> <code class="codeph">DEFAULT)</code>.
                        </p>
                        <p><a href="performance-and-scalability.html#GUID-F5C06AD6-286B-4B64-819D-82BF0ECEC9B4__CACHHFCG" title="Table Result Cache Annotation Modes">Table 3-1</a> summarizes the table annotation result cache modes.
                        </p>
                        <div class="tblformal" id="GUID-F5C06AD6-286B-4B64-819D-82BF0ECEC9B4__CACHHFCG">
                           <p class="titleintable">Table 3-1 Table Annotation Result Cache Modes</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="Table Annotation Result Cache Modes" summary="Table Result Cache Annotation Modes" width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="14%" id="d10075e3976">Mode</th>
                                    <th align="left" valign="bottom" width="86%" id="d10075e3979">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="14%" id="d10075e3984" headers="d10075e3976 ">
                                       <p><code class="codeph">DEFAULT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="86%" headers="d10075e3984 d10075e3979 ">
                                       <p>The default value. Result caching is not determined at the table level. You can use this value to clear any table annotations.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="14%" id="d10075e3992" headers="d10075e3976 ">
                                       <p><code class="codeph">FORCE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="86%" headers="d10075e3992 d10075e3979 ">
                                       <p>If all table names in the query have this setting, then the query result is always considered for caching unless the <code class="codeph">NO_RESULT_CACHE</code> hint is specified for the query. If one or more tables named in the query are set to <code class="codeph">DEFAULT</code>, then the effective table annotation for that query is <code class="codeph">DEFAULT</code>.
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="infoboxnotealso" id="GUID-F5C06AD6-286B-4B64-819D-82BF0ECEC9B4__GUID-3286726C-C796-4F7F-B165-F80FECA31BC4">
                           <p class="notep1">See Also:</p>
                           <p> </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=SQLRF30051" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for more information about <code class="codeph">RESULT_CACHE</code> clause of <code class="codeph">ALTER</code> <code class="codeph">TABLE</code> and <code class="codeph">CREATE</code> <code class="codeph">TABLE</code></p>
                              </li>
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=JJDBC28223" target="_blank"><span class="italic">Oracle Database JDBC Developer's Guide</span></a> for information about table annotations in JDBC
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div><a id="ADFNS1339"></a><div class="props_rev_3"><a id="GUID-4F5DDDD0-6739-4380-B5B9-248BB9A85EF7" name="GUID-4F5DDDD0-6739-4380-B5B9-248BB9A85EF7"></a><h5 id="ADFNS-GUID-4F5DDDD0-6739-4380-B5B9-248BB9A85EF7" class="sect5">Session Parameter</h5>
                     <div>
                        <div class="section">
                           <p>The session parameter <code class="codeph">RESULT_CACHE_MODE</code> enables or disables client result cache for all queries for your database session. <code class="codeph">RESULT_CACHE_MODE</code> can be overruled for specific tables by table annotations and for specific queries by SQL hints.
                           </p>
                           <p>You can set <code class="codeph">RESULT_CACHE_MODE</code> in either the server parameter file (<code class="codeph">init.ora</code>) or the <code class="codeph">ALTER</code> <code class="codeph">SESSION</code> or <code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code> statement. To enable client result cache, set <code class="codeph">RESULT_CACHE_MODE</code> to <code class="codeph">FORCE</code>; to disable it, set <code class="codeph">RESULT_CACHE_MODE</code> to <code class="codeph">MANUAL</code>.
                           </p>
                           <div class="infoboxnotealso" id="GUID-4F5DDDD0-6739-4380-B5B9-248BB9A85EF7__GUID-AF993A86-4974-48EE-ADB6-8D20D0E4E9A2">
                              <p class="notep1">See Also:</p>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=REFRN10270" target="_blank"><span class="italic">Oracle Database Reference</span></a> for more information about <code class="codeph">RESULT_CACHE_MODE</code></p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="ADFNS473"></a><a id="ADFNS472"></a><div class="props_rev_3"><a id="GUID-5887A8D4-B1A5-418B-82AD-E8A6AE4E8BF5" name="GUID-5887A8D4-B1A5-418B-82AD-E8A6AE4E8BF5"></a><h5 id="ADFNS-GUID-5887A8D4-B1A5-418B-82AD-E8A6AE4E8BF5" class="sect5">Effective Table Result Cache Mode</h5>
                     <div>
                        <p>The effective result cache mode for a table depends on both the table annotation result cache mode and the <code class="codeph">RESULT_CACHE_MODE</code> session parameter setting, as <a href="performance-and-scalability.html#GUID-5887A8D4-B1A5-418B-82AD-E8A6AE4E8BF5__CACDAAHC" title="Effective Result Cache Table Mode">Table 3-2</a> shows.
                        </p>
                        <div class="tblformal" id="GUID-5887A8D4-B1A5-418B-82AD-E8A6AE4E8BF5__CACDAAHC">
                           <p class="titleintable">Table 3-2 Effective Result Cache Table Mode</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="Effective Result Cache Table Mode" summary="Effective Result Cache Table Mode" width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="36%" id="d10075e4316">Table Annotation Result&nbsp;Cache Mode</th>
                                    <th align="left" valign="bottom" width="32%" id="d10075e4319">RESULT_CACHE_MODE = MANUAL</th>
                                    <th align="left" valign="bottom" width="32%" id="d10075e4322">RESULT_CACHE_MODE = FORCE</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d10075e4327" headers="d10075e4316 ">
                                       <p><code class="codeph">FORCE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="32%" headers="d10075e4327 d10075e4319 ">
                                       <p><code class="codeph">FORCE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="32%" headers="d10075e4327 d10075e4322 ">
                                       <p><code class="codeph">FORCE</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d10075e4340" headers="d10075e4316 ">
                                       <p><code class="codeph">DEFAULT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="32%" headers="d10075e4340 d10075e4319 ">
                                       <p><code class="codeph">MANUAL</code></p>
                                    </td>
                                    <td align="left" valign="top" width="32%" headers="d10075e4340 d10075e4322 ">
                                       <p><code class="codeph">FORCE</code></p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>When the effective mode is <code class="codeph">FORCE</code>, every query is considered for result caching unless the query has the <code class="codeph">NO_RESULT_CACHE</code> hint, but actual result caching depends on internal restrictions for client and server caches, query potential for reuse, and space available in the client result cache.
                        </p>
                        <p>The effective table result cache mode <code class="codeph">FORCE</code> is similar to the SQL hint <code class="codeph">RESULT_CACHE</code> in that both are only requests.
                        </p>
                     </div>
                  </div><a id="ADFNS470"></a><div class="props_rev_3"><a id="GUID-3E3524FF-8423-4CBB-ADAA-F2A98A30504D" name="GUID-3E3524FF-8423-4CBB-ADAA-F2A98A30504D"></a><h5 id="ADFNS-GUID-3E3524FF-8423-4CBB-ADAA-F2A98A30504D" class="sect5">Displaying Effective Table Result Cache Mode</h5>
                     <div>
                        <div class="section">
                           <p>To display the result cache mode for one or more tables, see the <code class="codeph">RESULT_CACHE</code> column of a <code class="codeph">*_TABLES</code> static data dictionary view. For example:
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>This query displays the result cache mode for the table <code class="codeph">T</code>:
                                 </p><pre class="oac_no_warn" dir="ltr">SELECT result_cache FROM all_tables WHERE table_name = 'T'
</pre></li>
                              <li>
                                 <p>This query displays the result cache mode for all relational tables that you own:</p><pre class="oac_no_warn" dir="ltr">SELECT table_name, result_cache FROM user_tables
</pre></li>
                           </ul>
                           <p>If the result cache mode is <code class="codeph">DEFAULT</code>, then the table is not annotated.
                           </p>
                           <p>If the result cache mode is <code class="codeph">FORCE</code>, then the table was annotated with the <code class="codeph">RESULT_CACHE</code> <code class="codeph">(MODE</code> <code class="codeph">FORCE)</code> clause of the <code class="codeph">CREATE</code> <code class="codeph">TABLE</code> or <code class="codeph">ALTER</code> <code class="codeph">TABLE</code> statement.
                           </p>
                           <p>If the result cache mode is <code class="codeph">MANUAL</code>, then the session parameter <code class="codeph">RESULT_CACHE_MODE</code> was set to <code class="codeph">MANUAL</code> in either the server parameter file (<code class="codeph">init.ora</code>) or an <code class="codeph">ALTER</code> <code class="codeph">SESSION</code> or <code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code> statement.
                           </p>
                           <div class="infoboxnotealso" id="GUID-3E3524FF-8423-4CBB-ADAA-F2A98A30504D__GUID-7E0A70BA-2864-4E49-83E4-192607255820">
                              <p class="notep1">See Also:</p>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=REFRN20286" target="_blank"><span class="italic">Oracle Database Reference </span></a>for more information about <code class="codeph">*_TABLES</code> static data dictionary views
                              </p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="ADFNS474"></a><div class="props_rev_3"><a id="GUID-E04C552C-FCE8-4C17-AF6A-D185951186E4" name="GUID-E04C552C-FCE8-4C17-AF6A-D185951186E4"></a><h5 id="ADFNS-GUID-E04C552C-FCE8-4C17-AF6A-D185951186E4" class="sect5">Result Cache Mode Use Cases</h5>
                     <div>
                        <p>The following examples show when SQL hints take precedence over table annotations and the <code class="codeph">RESULT_CACHE_MODE</code> session parameter.
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>If the <code class="codeph">emp</code> table is annotated with <code class="codeph">ALTER</code> <code class="codeph">TABLE</code> <code class="codeph">emp</code> <code class="codeph">RESULT_CACHE</code> (<code class="codeph">MODE</code> <code class="codeph">FORCE</code>) and the session parameter has its default value, <code class="codeph">MANUAL</code>, then queries on <code class="codeph">emp</code> are considered for result caching.
                              </p>
                              <p>However, results of the query <code class="codeph">SELECT</code> <code class="codeph">/*+ no_result_cache */</code> <code class="codeph">empno</code> <code class="codeph">FROM</code> <code class="codeph">emp</code> are not cached, because the SQL hint takes precedence over the table annotation and session parameter.
                              </p>
                           </li>
                           <li>
                              <p>If the <code class="codeph">emp</code> table is not annotated, or is annotated with <code class="codeph">ALTER</code> <code class="codeph">TABLE</code> <code class="codeph">emp</code> <code class="codeph">RESULT_CACHE</code> (<code class="codeph">MODE</code> <code class="codeph">DEFAULT</code>), and the session parameter has its default value, <code class="codeph">MANUAL</code>, then queries on <code class="codeph">emp</code> are not result cached.
                              </p>
                              <p>However, results of the query <code class="codeph">SELECT</code> <code class="codeph">/*+ result_cache */</code> <code class="codeph">*</code> <code class="codeph">FROM</code> <code class="codeph">emp</code> are considered for caching, because the SQL hint takes precedence over the table annotation and session parameter.
                              </p>
                           </li>
                           <li>
                              <p>If the session parameter <code class="codeph">RESULT_CACHE_MODE</code> is set to <code class="codeph">FORCE</code>, and no table annotations or SQL hints override it, then all queries on all tables are considered for query caching.
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="ADFNS475"></a><div class="props_rev_3"><a id="GUID-7DB489C2-351C-4C06-9D84-2520843527F2" name="GUID-7DB489C2-351C-4C06-9D84-2520843527F2"></a><h5 id="ADFNS-GUID-7DB489C2-351C-4C06-9D84-2520843527F2" class="sect5">Queries Never Result Cached in Client Result Cache</h5>
                     <div>
                        <p>Results of the following queries are never cached in client result cache (even if the queries include the <code class="codeph">RESULT_CACHE</code> hint):
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Queries that contain any of the following:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>Remote object</p>
                                 </li>
                                 <li>
                                    <p>Complex type in the select list</p>
                                 </li>
                                 <li>
                                    <p>PL/SQL function</p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p>Snapshot-based queries</p>
                           </li>
                           <li>
                              <p>Flashback queries</p>
                           </li>
                           <li>
                              <p>Queries executed in serializable, read-only transactions</p>
                           </li>
                           <li>
                              <p>Queries of tables on which virtual private database (VPD) policies are enabled</p>
                           </li>
                        </ul>
                        <p>Such queries might be cached on the database if the server result cache feature is enabled—for more information, see <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=CNCPT1919" target="_blank"><span class="italic">Oracle Database Concepts</span></a>.
                        </p>
                     </div>
                  </div>
               </div><a id="ADFNS476"></a><div class="props_rev_3"><a id="GUID-7B761E11-3094-44B3-B802-4C671422397B" name="GUID-7B761E11-3094-44B3-B802-4C671422397B"></a><h4 id="ADFNS-GUID-7B761E11-3094-44B3-B802-4C671422397B" class="sect4">Client Result Cache Consistency</h4>
                  <div>
                     <p>Client result cache transparently keeps its result sets consistent with any database or session state changes that affect them.</p>
                     <p>When a transaction modifies the data or metadata of any database object used to construct a cached result set, invalidation of that cached result set is sent to the client on its next round trip to the server. If the application does no database calls for a period of time, then the client result cache lag setting forces the next <code class="codeph">OCIStmtExecute()</code> call to make a database call to check for such invalidations.
                     </p>
                     <p>Cached result sets relevant to database invalidations are immediately invalidated. Any OCI statement handles that are fetching from cached result sets when their invalidations are received can continue fetching from them, but no subsequent <code class="codeph">OCIStmtExecute()</code> calls can match them.
                     </p>
                     <p>The next <code class="codeph">OCIStmtExecute()</code> call by the process might cache the new result set if the client result cash has space available. Client result cache periodically reclaims unused memory.
                     </p>
                     <p>If a session has a transaction open, OCI ensures that its queries that reference database objects changed in this transaction go to the server instead of client result cache.</p>
                     <p>This consistency mechanism ensures that client result cache is always close to committed database changes. If the application has relatively frequent calls involving database round trips due to queries that cannot be cached (DMLs, <code class="codeph">OCILob</code> calls, and so on), then these calls transparently keep client result cache consistent with database changes.
                     </p>
                     <p>Sometimes, when a table is modified, a trigger causes another table to be modified. Client result cache is sensitive to such changes.</p>
                     <p>When the session state is altered—for example, when NLS session parameters are modified—query results can change. Client result cache is sensitive to such changes and for subsequent query executions, returns the correct result set. However, client result cache keeps the current cached result sets (and does not invalidate them) so that other sessions in the process can match them. If other processes do not match them, these result sets are "Ruled" after a while. Result sets that correspond to the new session state are cached.</p>
                     <p>For an application, keeping track of database and session state changes that affect query result sets can be cumbersome and error-prone, but client result cache transparently keeps its result sets consistent with such changes.</p>
                     <p>Client result cache does not require thread support in the client.</p>
                     <div class="infoboxnotealso" id="GUID-7B761E11-3094-44B3-B802-4C671422397B__GUID-91E3C291-4637-4CCF-8618-4DAFAD38D9D6">
                        <p class="notep1">See Also:</p>
                        <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=LNOCI17163" target="_blank"><code class="codeph">OCIStmtExecute()</code></a> in <span class="italic">Oracle Call Interface Programmer's Guide</span></p>
                     </div>
                  </div>
               </div><a id="ADFNS477"></a><div class="props_rev_3"><a id="GUID-AD2A54E0-0DEB-4F08-96AA-3A9FA50CE521" name="GUID-AD2A54E0-0DEB-4F08-96AA-3A9FA50CE521"></a><h4 id="ADFNS-GUID-AD2A54E0-0DEB-4F08-96AA-3A9FA50CE521" class="sect4">Deployment-Time Settings for Client Result Cache</h4>
                  <div>
                     <p>When you deploy your application, you can set the following for client result cache (without changing the application):</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Server initialization parameters</p>
                        </li>
                        <li>
                           <p>Client configuration parameters</p>
                        </li>
                        <li>
                           <p>Table annotations</p>
                        </li>
                        <li>
                           <p><code class="codeph">RESULT_CACHE_MODE</code> session parameter
                           </p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-AD2A54E0-0DEB-4F08-96AA-3A9FA50CE521__GUID-C9FD4271-6812-48A9-897F-F582DF6F2080">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="performance-and-scalability.html#GUID-A9D4A5F5-B939-48FF-80AE-0228E7314C7D">Server Initialization Parameters</a></p>
                           </li>
                           <li>
                              <p><a href="performance-and-scalability.html#GUID-E63D75A1-FCAA-4A54-A3D2-B068442CE766">Client Configuration Parameters</a></p>
                           </li>
                           <li>
                              <p><a href="performance-and-scalability.html#GUID-F5C06AD6-286B-4B64-819D-82BF0ECEC9B4">Table Annotation</a></p>
                           </li>
                           <li>
                              <p><a href="performance-and-scalability.html#GUID-4F5DDDD0-6739-4380-B5B9-248BB9A85EF7">Session Parameter</a></p>
                           </li>
                           <li>
                              <p><a href="performance-and-scalability.html#GUID-93D145D2-845E-4285-A6EE-330BCFF23B24">Client-Side Deployment Parameters</a></p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="ADFNS948"></a><div class="props_rev_3"><a id="GUID-A9D4A5F5-B939-48FF-80AE-0228E7314C7D" name="GUID-A9D4A5F5-B939-48FF-80AE-0228E7314C7D"></a><h5 id="ADFNS-GUID-A9D4A5F5-B939-48FF-80AE-0228E7314C7D" class="sect5">Server Initialization Parameters</h5>
                     <div>
                        <div class="section">
                           <p>The server initialization parameters to set for client result cache when you deploy your application are:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="performance-and-scalability.html#GUID-AAAC6C71-6722-4801-8A27-EC569E2BF2E0">COMPATIBLE</a></p>
                              </li>
                              <li>
                                 <p><a href="performance-and-scalability.html#GUID-5BF0E0FC-BF34-4B73-8832-86268886A092">CLIENT_RESULT_CACHE_SIZE</a></p>
                              </li>
                              <li>
                                 <p><a href="performance-and-scalability.html#GUID-084D2C56-DEAA-4068-8159-DEAE01EA01B7">CLIENT_RESULT_CACHE_LAG</a></p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                     </div><a id="ADFNS1445"></a><div class="props_rev_3"><a id="GUID-AAAC6C71-6722-4801-8A27-EC569E2BF2E0" name="GUID-AAAC6C71-6722-4801-8A27-EC569E2BF2E0"></a><h6 id="ADFNS-GUID-AAAC6C71-6722-4801-8A27-EC569E2BF2E0" class="sect6">COMPATIBLE</h6>
                        <div>
                           <div class="section">
                              <p>Specifies the release with which Oracle Database must maintain compatibility. To enable client result cache, <code class="codeph">COMPATIBLE</code> must be at least 11.0.0.0. To enable client result cache for views, <code class="codeph">COMPATIBLE</code> must be at least 11.2.0.0.
                              </p>
                           </div>
                           <!-- class="section" -->
                        </div>
                     </div><a id="ADFNS1001"></a><div class="props_rev_3"><a id="GUID-5BF0E0FC-BF34-4B73-8832-86268886A092" name="GUID-5BF0E0FC-BF34-4B73-8832-86268886A092"></a><h6 id="ADFNS-GUID-5BF0E0FC-BF34-4B73-8832-86268886A092" class="sect6">CLIENT_RESULT_CACHE_SIZE</h6>
                        <div>
                           <div class="section">
                              <p><a id="d10075e5498" class="indexterm-anchor"></a>Specifies the maximum size of the client result set cache for each OCI client process. The default value, 0, means that client result cache is disabled. To enable client result cache, set <code class="codeph">CLIENT_RESULT_CACHE_SIZE</code> to at least 32768 bytes (32 kilobytes (KB)).
                              </p>
                              <p>If client result cache is enabled on the server by <code class="codeph">CLIENT_RESULT_CACHE_SIZE</code>, then its value can be overridden by the <code class="codeph">sqlnet.ora</code> configuration parameter <code class="codeph">OCI_RESULT_CACHE_MAX_SIZE</code>. If client result cache is disabled on the server, then <code class="codeph">OCI_RESULT_CACHE_MAX_SIZE</code> is ignored and client result cache cannot be enabled on the client.
                              </p>
                              <p>Oracle recommends either enabling client result cache for all Oracle Real Application Clusters (<a id="d10075e5520" class="indexterm-anchor"></a>Oracle RAC) nodes or disabling client result cache for all Oracle RAC nodes. Otherwise, within a client process, some sessions might have caching enabled and other sessions might have caching disabled (thereby getting the latest results from the server). This combination might present an inconsistent view of the database to the application.
                              </p>
                              <p><code class="codeph">CLIENT_RESULT_CACHE_SIZE</code> is a static parameter. Therefore, if you use an <code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code> statement to change the value of <code class="codeph">CLIENT_RESULT_CACHE_SIZE</code>, you must include the <code class="codeph">SCOPE</code> <code class="codeph">=</code> <code class="codeph">SPFILE</code> clause and restart the database before the change will take effect.
                              </p>
                              <p>The maximum value for <code class="codeph">CLIENT_RESULT_CACHE_SIZE</code> is the least of these values:
                              </p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>Available client memory</p>
                                 </li>
                                 <li>
                                    <p>((Possible number of result sets to be cached) * (average size of a row in a result set) * (average number of rows in a result set))</p>
                                 </li>
                                 <li>
                                    <p>2 gigabytes (GB)</p>
                                    <p>If you specify a value greater than 2 GB, then the value is 2 GB.</p>
                                 </li>
                              </ul>
                              <div class="infoboxnote" id="GUID-5BF0E0FC-BF34-4B73-8832-86268886A092__GUID-42C73083-B44E-49A2-B585-AB64EB6EE7B2">
                                 <p class="notep1">Note:</p>
                                 <p>Do not set the <code class="codeph">CLIENT_RESULT_CACHE_SIZE</code> parameter during database creation, because that can cause errors.
                                 </p>
                              </div>
                           </div>
                           <!-- class="section" -->
                        </div>
                     </div><a id="ADFNS1011"></a><div class="props_rev_3"><a id="GUID-084D2C56-DEAA-4068-8159-DEAE01EA01B7" name="GUID-084D2C56-DEAA-4068-8159-DEAE01EA01B7"></a><h6 id="ADFNS-GUID-084D2C56-DEAA-4068-8159-DEAE01EA01B7" class="sect6">CLIENT_RESULT_CACHE_LAG</h6>
                        <div>
                           <div class="section">
                              <p><a id="d10075e5669" class="indexterm-anchor"></a>Specifies the maximum time in milliseconds that client result cache can lag behind changes in the database that affect its result sets. The default is 3000 milliseconds.
                              </p>
                              <p><code class="codeph">CLIENT_RESULT_CACHE_LAG</code> is a static parameter. Therefore, if you use an <code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code> statement to change the value of <code class="codeph">CLIENT_RESULT_CACHE_LAG</code>, you must include the <code class="codeph">SCOPE</code> <code class="codeph">=</code> <code class="codeph">SPFILE</code> clause and restart the database before the change will take effect.
                              </p>
                           </div>
                           <!-- class="section" -->
                        </div>
                     </div>
                  </div><a id="ADFNS909"></a><a id="ADFNS478"></a><div class="props_rev_3"><a id="GUID-E63D75A1-FCAA-4A54-A3D2-B068442CE766" name="GUID-E63D75A1-FCAA-4A54-A3D2-B068442CE766"></a><h5 id="ADFNS-GUID-E63D75A1-FCAA-4A54-A3D2-B068442CE766" class="sect5">Client Configuration Parameters</h5>
                     <div>
                        <div class="section">
                           <p>Client configuration parameters are optional, but if set, they override the equivalent parameters in the server initialization file <code class="codeph">init.ora</code>.
                           </p>
                           <p>Client configuration parameters can be set in the <code class="codeph">oraaccess.xml</code> file, the <code class="codeph">sqlnet.ora</code> file, or both. When equivalent parameters are set both files, the <code class="codeph">oraaccess.xml</code> setting takes precedence over the corresponding <code class="codeph">sqlnet.ora</code> setting. When a parameter is not set in <code class="codeph">oraaccess.xml</code>, the process searches for its setting in <code class="codeph">sqlnet.ora</code>.
                           </p>
                           <p>When a client configuration parameter can be set in both <code class="codeph">oraaccess.xml</code> and <code class="codeph">sqlnet.ora</code>, Oracle recommends setting the parameter in <code class="codeph">oraaccess.xml</code>. However, for a network configuration, <code class="codeph">sqlnet.ora</code> is the primary file, because <code class="codeph">oraaccess.xml</code> does not support network level settings.
                           </p>
                           <p><a href="performance-and-scalability.html#GUID-E63D75A1-FCAA-4A54-A3D2-B068442CE766__CACJADHD" title="This table of optional client configuration parameters lists the oraaccess.xml parameters in column 1, lists the equivalent sqlnet.ora parameters in column 2, and describes the parameters in column 3.">Table 3-3</a> describes the equivalent <code class="codeph">oraaccess.xml</code> and <code class="codeph">sqlnet.ora</code> client configuration parameters.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="tblformal" id="GUID-E63D75A1-FCAA-4A54-A3D2-B068442CE766__CACJADHD">
                           <p class="titleintable">Table 3-3 Client Configuration Parameters (Optional)</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="Client Configuration Parameters (Optional)" summary="This table of optional client configuration parameters lists the oraaccess.xml parameters in column 1, lists the equivalent sqlnet.ora parameters in column 2, and describes the parameters in column 3." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="22%" id="d10075e5862">oraacess.xml Parameter</th>
                                    <th align="left" valign="bottom" width="42%" id="d10075e5865">sqlnet.ora Parameter</th>
                                    <th align="left" valign="bottom" width="36%" id="d10075e5868">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d10075e5873" headers="d10075e5862 ">
                                       <p><code class="codeph">max_size</code></p>
                                    </td>
                                    <td align="left" valign="top" width="42%" headers="d10075e5873 d10075e5865 ">
                                       <p><code class="codeph">OCI_RESULT_CACHE_MAX_SIZE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="36%" headers="d10075e5873 d10075e5868 ">
                                       <p>Maximum size in bytes for the client result cache for each process.</p>
                                       <p>Specifying a size less than 32768 in <code class="codeph">sqlnet.ora</code> disables client result cache for client processes the read <code class="codeph">sqlnet.ora</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d10075e5893" headers="d10075e5862 ">
                                       <p><code class="codeph">max_rset_size</code></p>
                                    </td>
                                    <td align="left" valign="top" width="42%" headers="d10075e5893 d10075e5865 ">
                                       <p><code class="codeph">OCI_RESULT_CACHE_MAX_RSET_SIZE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="36%" headers="d10075e5893 d10075e5868 ">
                                       <p>Maximum size of any result set in bytes in the client result cache for each process.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d10075e5905" headers="d10075e5862 ">
                                       <p><code class="codeph">max_rset_rows</code></p>
                                    </td>
                                    <td align="left" valign="top" width="42%" headers="d10075e5905 d10075e5865 ">
                                       <p><code class="codeph">OCI_RESULT_CACHE_MAX_RSET_ROWS</code></p>
                                    </td>
                                    <td align="left" valign="top" width="36%" headers="d10075e5905 d10075e5868 ">
                                       <p>Maximum size of any result set in rows in the client result cache for each process.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="section">
                           <p>The result cache lag cannot be set on the client.</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>Related Topics</strong></p>
                           <ul>
                              <li><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=LNOCI-GUID-D6CD51D8-9379-4D1B-A767-9E4F186A3E7B" target="_blank"><span><cite>Oracle Call Interface Programmer's Guide</cite></span></a></li>
                           </ul>
                        </div>
                     </div>
                  </div>
               </div><a id="ADFNS479"></a><div class="props_rev_3"><a id="GUID-4BFBAB90-4172-4A8C-A907-C73ABF8EA85E" name="GUID-4BFBAB90-4172-4A8C-A907-C73ABF8EA85E"></a><h4 id="ADFNS-GUID-4BFBAB90-4172-4A8C-A907-C73ABF8EA85E" class="sect4">Client Result Cache Statistics</h4>
                  <div>
                     <p>On round trips to the server from the OCI client, OCI periodically sends client result cache statistics to the server. These statistics, shown in the <code class="codeph">CLIENT_RESULT_CACHE_STATS$</code> view, include number of result sets successfully cached, number of cache hits, and number of cached result sets invalidated. The number of cache misses for queries is at least equal to the number of Create Counts in client result cache statistics. More precisely, the cache miss count equals the number of server executions in server Automatic Workload Repository (AWR) reports.
                     </p>
                     <div class="infoboxnotealso" id="GUID-4BFBAB90-4172-4A8C-A907-C73ABF8EA85E__GUID-A9748EDE-5035-40BE-B681-A2FD356E8EC8">
                        <p class="notep1">See Also:</p>
                        <p> </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=REFRN29085" target="_blank"><span class="italic">Oracle Database Reference</span></a> for information about the <code class="codeph">CLIENT_RESULT_CACHE_STAT$</code> view
                              </p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=TGDBA661" target="_blank"><span class="italic">Oracle Database Performance Tuning Guide</span></a> to find the client process IDs and session IDs for the sessions doing client result caching
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="ADFNS480"></a><div class="props_rev_3"><a id="GUID-27F72393-751D-47DF-88DA-49EEA0937F99" name="GUID-27F72393-751D-47DF-88DA-49EEA0937F99"></a><h4 id="ADFNS-GUID-27F72393-751D-47DF-88DA-49EEA0937F99" class="sect4">Validation of Client Result Cache</h4>
                  <div>
                     <div class="section">
                        <p>Some ways to validate client result cache are:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="performance-and-scalability.html#GUID-B0D2C946-235B-4082-A153-196D86569278">Measure Execution Times</a></p>
                           </li>
                           <li>
                              <p><a href="performance-and-scalability.html#GUID-CBE8313B-4737-4698-819F-20D1EA126E38">Query V$MYSTAT</a></p>
                           </li>
                           <li>
                              <p><a href="performance-and-scalability.html#GUID-7BA7A945-EC34-4D74-8E88-688A552C265E">Query V$SQLAREA</a></p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div><a id="ADFNS481"></a><div class="props_rev_3"><a id="GUID-B0D2C946-235B-4082-A153-196D86569278" name="GUID-B0D2C946-235B-4082-A153-196D86569278"></a><h5 id="ADFNS-GUID-B0D2C946-235B-4082-A153-196D86569278" class="sect5">Measure Execution Times</h5>
                     <div>
                        <div class="section">
                           <p>First, measure the execution time of the queries without <code class="codeph">RESULT_CACHE</code> hints. Then add <code class="codeph">RESULT_CACHE</code> hints to the queries and measure the execution time again. The difference in execution times is your performance gain.
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="ADFNS482"></a><div class="props_rev_3"><a id="GUID-CBE8313B-4737-4698-819F-20D1EA126E38" name="GUID-CBE8313B-4737-4698-819F-20D1EA126E38"></a><h5 id="ADFNS-GUID-CBE8313B-4737-4698-819F-20D1EA126E38" class="sect5">Query V$MYSTAT</h5>
                     <div>
                        <div class="section">
                           <div class="infoboxnote" id="GUID-CBE8313B-4737-4698-819F-20D1EA126E38__GUID-5E55D613-8366-4A87-A048-375C4ECB5BB8">
                              <p class="notep1">Note:</p>
                              <p>To query the <code class="codeph">V$MYSTAT</code> view, you must have the <code class="codeph">SELECT</code> privilege on it.
                              </p>
                           </div>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand" id="GUID-CBE8313B-4737-4698-819F-20D1EA126E38__CACGCEAG"><span>Run this query 5 times:</span><div><pre class="oac_no_warn" dir="ltr">SELECT count(*) FROM <span class="italic">table_name</span>
</pre></div>
                           </li>
                           <li class="stepexpand" id="GUID-CBE8313B-4737-4698-819F-20D1EA126E38__CACBFACG"><span>Query <code class="codeph">V$MYSTAT</code>:</span><div><pre class="oac_no_warn" dir="ltr">SELECT * FROM V$MYSTAT
</pre></div>
                           </li>
                           <li class="stepexpand" id="GUID-CBE8313B-4737-4698-819F-20D1EA126E38__CACCEHFI"><span>Run this query 5 times:</span><div><pre class="oac_no_warn" dir="ltr">SELECT <span class="bold">/*+ result_cache */</span> count(*) FROM <span class="italic">table_name</span>
</pre><p>Because the query results are cached, this step requires fewer round trips between client and server than <code class="codeph">step&nbsp;1</code> did.
                                 </p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>Query <code class="codeph">V$MYSTAT</code>:</span><div><pre class="oac_no_warn" dir="ltr">SELECT * FROM V$MYSTAT
</pre><p>Compare the values of the columns for this query to those for the query in <code class="codeph">step&nbsp;2</code>.
                                 </p>
                              </div>
                           </li>
                        </ol>
                        <div class="section">
                           <p>Instead of adding the hint to the query in <code class="codeph">step&nbsp;3</code>, you can add the table annotation <code class="codeph">RESULT_CACHE</code> <code class="codeph">(MODE</code> <code class="codeph">FORCE)</code> to <span class="italic"><code class="codeph">table_name</code></span> at <code class="codeph">step&nbsp;3</code> and then run the query in <code class="codeph">step 1</code> a few times.
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="ADFNS483"></a><div class="props_rev_3"><a id="GUID-7BA7A945-EC34-4D74-8E88-688A552C265E" name="GUID-7BA7A945-EC34-4D74-8E88-688A552C265E"></a><h5 id="ADFNS-GUID-7BA7A945-EC34-4D74-8E88-688A552C265E" class="sect5">Query V$SQLAREA</h5>
                     <div>
                        <div class="section">
                           <div class="infoboxnote" id="GUID-7BA7A945-EC34-4D74-8E88-688A552C265E__GUID-70F1C80F-A911-40D4-B78D-65067AC5008C">
                              <p class="notep1">Note:</p>
                              <p>To query the <code class="codeph">V$SQLAREA</code> view, you must have the <code class="codeph">SELECT</code> privilege on it.
                              </p>
                           </div>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand" id="GUID-7BA7A945-EC34-4D74-8E88-688A552C265E__CACHEBBG"><span>Run this query 5 times:</span><div><pre class="oac_no_warn" dir="ltr">SELECT count(*) FROM <span class="italic">table_name</span>
</pre></div>
                           </li>
                           <li class="stepexpand" id="GUID-7BA7A945-EC34-4D74-8E88-688A552C265E__CACEAICC"><span>Query <code class="codeph">V$SQLAREA</code>:</span><div><pre class="oac_no_warn" dir="ltr">SELECT executions, fetches, parse_calls FROM V$SQLAREA
  WHERE sql_text LIKE '% FROM <span class="italic">table_name</span>'
</pre></div>
                           </li>
                           <li class="stepexpand" id="GUID-7BA7A945-EC34-4D74-8E88-688A552C265E__CACCEBBG"><span>Run this query 5 times:</span><div><pre class="oac_no_warn" dir="ltr">SELECT <span class="bold">/*+ result_cache */</span> count(*) FROM <span class="italic">table_name</span>
</pre></div>
                           </li>
                           <li class="stepexpand"><span>Query <code class="codeph">V$SQLAREA</code>:</span><div><pre class="oac_no_warn" dir="ltr">SELECT executions, fetches, parse_calls FROM V$SQLAREA
  WHERE sql_text LIKE '% FROM <span class="italic">table_name</span>'
</pre><p>Compare the values of the columns <code class="codeph">executions</code>, <code class="codeph">fetches</code>, and <code class="codeph">parse_calls</code> for this query to those for the query in <code class="codeph">step 2</code>. The difference in execution times is your performance gain.
                                 </p>
                              </div>
                           </li>
                        </ol>
                        <div class="section">
                           <p>Instead of adding the hint to the query in <code class="codeph">step 3</code>, you can add the table annotation <code class="codeph">RESULT_CACHE</code> <code class="codeph">(MODE</code> <code class="codeph">FORCE)</code> to <span class="italic"><code class="codeph">table_name</code></span> at step&nbsp;<code class="codeph">step 3</code> and then run the query in step&nbsp;<code class="codeph">step 1</code> a few times.
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div><a id="ADFNS485"></a><a id="ADFNS484"></a><div class="props_rev_3"><a id="GUID-265350EB-DE84-4094-8616-6AB0E55BF94B" name="GUID-265350EB-DE84-4094-8616-6AB0E55BF94B"></a><h4 id="ADFNS-GUID-265350EB-DE84-4094-8616-6AB0E55BF94B" class="sect4">Client Result Cache and Server Result Cache</h4>
                  <div>
                     <p>Client result cache is different from server result cache. Client result cache caches results of top-level SQL queries in OCI client memory, whereas server result cache caches result sets and query fragments in server SGA memory.</p>
                     <p>You can enable client result cache independently of server result cache, though they share the result cache SQL hints, table annotations, and session parameter <code class="codeph">RESULT_CACHE_MODE</code>. <a href="performance-and-scalability.html#GUID-265350EB-DE84-4094-8616-6AB0E55BF94B__CACCEHEB" title="Ways to set client result cache">Table 3-4</a> shows the result cache association for result cache parameters, the PL/SQL package <code class="codeph">DBMS_RESULT_CACHE</code>, and result cache views. 
                     </p>
                     <div class="p">
                        <div class="infoboxnotealso" id="GUID-265350EB-DE84-4094-8616-6AB0E55BF94B__NOTE-1231-C4A82752">
                           <p class="notep1">See Also:</p>
                           <p><a href="../cncpt/memory-architecture.html#CNCPT1919" target="_blank"><span class="italic">Oracle Database Concepts</span></a></p>
                        </div>
                     </div>
                     <div class="tblformal" id="GUID-265350EB-DE84-4094-8616-6AB0E55BF94B__CACCEHEB">
                        <p class="titleintable">Table 3-4 Setting Client Result Cache and Server Result Cache</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Setting Client Result Cache and Server Result Cache" summary="Ways to set client result cache" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="75%" id="d10075e6772">Parameters, PL/SQL Package, and Database Views</th>
                                 <th align="left" valign="bottom" width="25%" id="d10075e6775">Result Cache Association</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="75%" id="d10075e6780" headers="d10075e6772 ">
                                    <p><code class="codeph">CLIENT_RESULT_CACHE_*</code> parameters:
                                    </p>
                                    <ul style="list-style-type: disc;">
                                       <li>
                                          <p><code class="codeph">CLIENT_RESULT_CACHE_SIZE</code></p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">CLIENT_RESULT_CACHE_LAG</code></p>
                                       </li>
                                    </ul>
                                 </td>
                                 <td align="left" valign="top" width="25%" headers="d10075e6780 d10075e6775 ">
                                    <p>client result cache</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="75%" id="d10075e6798" headers="d10075e6772 ">
                                    <p>SQL hints:</p>
                                    <ul style="list-style-type: disc;">
                                       <li>
                                          <p><code class="codeph">RESULT_CACHE</code></p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">NO_RESULT_CACHE</code></p>
                                       </li>
                                    </ul>
                                 </td>
                                 <td align="left" valign="top" width="25%" headers="d10075e6798 d10075e6775 ">
                                    <p>client result cache, server result cache</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="75%" id="d10075e6814" headers="d10075e6772 ">
                                    <p><code class="codeph">sqlnet.ora OCI_RESULT_CACHE*</code> parameters:
                                    </p>
                                    <ul style="list-style-type: disc;">
                                       <li>
                                          <p><code class="codeph">OCI_RESULT_CACHE_MAX_SIZE</code></p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">OCI_RESULT_CACHE_MAX_RSET_SIZE</code></p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">OCI_RESULT_CACHE_MAX_RSET_ROWS</code></p>
                                       </li>
                                    </ul>
                                 </td>
                                 <td align="left" valign="top" width="25%" headers="d10075e6814 d10075e6775 ">
                                    <p>client result cache</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="75%" id="d10075e6836" headers="d10075e6772 ">
                                    <p><code class="codeph">CLIENT_RESULT_CACHE_STATS$</code> view
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="25%" headers="d10075e6836 d10075e6775 ">
                                    <p>client result cache</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="75%" id="d10075e6845" headers="d10075e6772 ">
                                    <p><code class="codeph">RESULT_CACHE_MODE</code> parameter
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="25%" headers="d10075e6845 d10075e6775 ">
                                    <p>client result cache, server result cache</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="75%" id="d10075e6854" headers="d10075e6772 ">
                                    <p>All other <code class="codeph">RESULT_CACHE_*</code> parameters (for example, <code class="codeph">RESULT_CACHE_MAX_SIZE</code>)
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="25%" headers="d10075e6854 d10075e6775 ">
                                    <p>server result cache</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="75%" id="d10075e6867" headers="d10075e6772 ">
                                    <p><code class="codeph">DBMS_RESULT_CACHE</code> package
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="25%" headers="d10075e6867 d10075e6775 ">
                                    <p>server result cache</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="75%" id="d10075e6876" headers="d10075e6772 ">
                                    <p><code class="codeph">V$RESULT_CACHE_*</code> and <code class="codeph">GV$RESULT_CACHE_*</code> views (for example, <code class="codeph">V$RESULT_CACHE_STATISTICS</code> and <code class="codeph">GV$RESULT_CACHE_MEMORY</code>)
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="25%" headers="d10075e6876 d10075e6775 ">
                                    <p>server result cache</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="75%" id="d10075e6894" headers="d10075e6772 ">
                                    <p><code class="codeph">CREATE</code> <code class="codeph">TABLE</code> annotation
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="25%" headers="d10075e6894 d10075e6775 ">
                                    <p>client result cache, server result cache</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="75%" id="d10075e6906" headers="d10075e6772 ">
                                    <p><code class="codeph">ALTER</code> <code class="codeph">TABLE</code> annotation
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="25%" headers="d10075e6906 d10075e6775 ">
                                    <p>client result cache, server result cache</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
               </div><a id="ADFNS486"></a><div class="props_rev_3"><a id="GUID-AEC83CB0-D984-4208-BC98-AACA313F1530" name="GUID-AEC83CB0-D984-4208-BC98-AACA313F1530"></a><h4 id="ADFNS-GUID-AEC83CB0-D984-4208-BC98-AACA313F1530" class="sect4">Client Result Cache Demo Files</h4>
                  <div>
                     <p>For OCI applications, demonstration files for client result cache are <code class="codeph">cdemoqc.sql</code>, <code class="codeph">cdemoqc.c</code>, and <code class="codeph">cdemoqc2.c</code> (in the <code class="codeph">demo</code> directory for your operating system).
                     </p>
                  </div>
               </div><a id="ADFNS487"></a><div class="props_rev_3"><a id="GUID-C1456214-194A-444B-9EAE-C48DB793B79B" name="GUID-C1456214-194A-444B-9EAE-C48DB793B79B"></a><h4 id="ADFNS-GUID-C1456214-194A-444B-9EAE-C48DB793B79B" class="sect4">Client Result Cache Compatibility with Previous Releases</h4>
                  <div>
                     <div class="section">
                        <p>To use client result cache, applications must be relinked with Oracle Database 11<span class="italic">g</span> Release 1 (11.1) or later client libraries and be connected to an Oracle Database 11<span class="italic">g</span> Release 1 (11.1) or later database server. Client result cache is available to all OCI applications, including JDBC Type II driver, OCCI, Pro*C/C++, and ODP.NET. OCI drivers automatically pass the SQL hint <code class="codeph">RESULT_CACHE</code> to <code class="codeph">OCIStmtPrepare()</code> and <code class="codeph">OCIStmtPrepare2()</code> calls.
                        </p>
                        <div class="infoboxnotealso" id="GUID-C1456214-194A-444B-9EAE-C48DB793B79B__GUID-EBBAE1B4-993C-4AD1-B3A0-2FEB8C034D8C">
                           <p class="notep1">See Also:</p>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=LNOCI17167" target="_blank"><code class="codeph">OCIStmtPrepare()</code></a>, <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=LNOCI17168" target="_blank"><code class="codeph">OCIStmtPrepare2()</code></a> in <span class="italic">Oracle Call Interface Programmer's Guide</span></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="ADFNS1051"></a><div class="props_rev_3"><a id="GUID-1ECC306F-D6DB-435A-A46D-65E9D2571ED6" name="GUID-1ECC306F-D6DB-435A-A46D-65E9D2571ED6"></a><h3 id="ADFNS-GUID-1ECC306F-D6DB-435A-A46D-65E9D2571ED6" class="sect3">Statement Caching</h3>
               <div>
                  <p>Statement caching is a feature that establishes and manages a cache of statements for each session. In the server, statement caching lets cursors be used without reparsing the statement, eliminating repetitive statement parsing. You can use statement caching with both connection pooling and session pooling, thereby improving performance and scalability. You can also use statement caching without session pooling in OCI and without connection pooling in OCCI, in the JDBC interface, and in the ODP.NET interface. You can also use dynamic SQL statement caching in Oracle precompiler applications that rely on dynamic SQL statements, such as Pro*C/C++ and ProCOBOL.</p>
                  <p>In the JDBC interface, you can enable and disable implicit and explicit statement caching independently of the other—you can use either, neither, or both. Implicit and explicit statement caching share a single cache for each connection. You can also disable implicit caching for a particular statement.</p>
                  <div class="infoboxnotealso" id="GUID-1ECC306F-D6DB-435A-A46D-65E9D2571ED6__GUID-01CCA6EE-5B81-4872-9F20-1C474CC98D96">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=LNOCI16655" target="_blank"><span class="italic">Oracle Call Interface Programmer's Guide</span></a> for more information and guidelines about using statement caching in OCI
                           </p>
                        </li>
                        <li>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=LNCPP0038" target="_blank"><span class="italic">Oracle C++ Call Interface Programmer's Guide</span></a> for more information about statement caching in OCCI
                           </p>
                        </li>
                        <li>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=JJDBC28650" target="_blank"><span class="italic">Oracle Database JDBC Developer's Guide</span></a> for more information about using statement caching
                           </p>
                        </li>
                        <li>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=ODPNT-GUID-A1573B48-71B1-47C7-B3E9-5DEA64B715EF" target="_blank"><span><cite>Oracle Data Provider for .NET Developer's Guide for Microsoft Windows</cite></span></a> for more information about using statement caching in ODP.NET applications
                           </p>
                        </li>
                        <li>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=ZZPRE-GUID-AE348149-CC26-400C-BC7D-5B0CBEB33B0C" target="_blank"><span><cite>Oracle Database Programmer's Guide to the Oracle Precompilers</cite></span></a>, <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=LNPCC-GUID-20CBCC27-EC6B-4651-92CC-7E008BD73611" target="_blank"><span><cite>Pro*C/C++ Programmer's Guide</cite></span></a>, and <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=LNPCB-GUID-2F2833F4-62F3-4FC7-8FC1-B742E44727B0" target="_blank"><span><cite>Pro*COBOL Programmer's Guide</cite></span></a> for more information about using dynamic SQL statement caching in precompiler applications that rely on dynamic SQL statements
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="ADFNS214"></a><div class="props_rev_3"><a id="GUID-82D4AFAE-136B-4B83-B9F8-765111642B4F" name="GUID-82D4AFAE-136B-4B83-B9F8-765111642B4F"></a><h3 id="ADFNS-GUID-82D4AFAE-136B-4B83-B9F8-765111642B4F" class="sect3">OCI Client Statement Cache Auto-Tuning</h3>
               <div>
                  <p>OCI client statement cache auto-tuning optimizes OCI client session features of middle-tier applications to improve performance without changing your OCI application.</p>
                  <p>Without auto-tuning, the OCI client statement cache size setting can become suboptimal—for example, when a changing workload causes a different working set of SQL statements. If the size is too low, it causes excess network activity and more parses at the server. If the size is too high, it causes excess memory use. It can be difficult for the client application to keep the cache size optimal.</p>
                  <p>Auto-tuning solves this potential performance problem by automatically and periodically reconfiguring the OCI statement cache size.</p>
                  <p>Auto-tuning is achieved by providing a deployment-time setting that provides an option to reconfigure OCI statement caching. These settings are provided as connect-string-based deployment settings in a client <code class="codeph">oraaccess.xml</code> file that overrides programmatic settings to the user configuration of OCI features.
                  </p>
                  <p>Middle-tier application developers and database administrators (DBAs) can expect reduced time and effort in diagnosing and fixing performance problems with each part of their system using the auto-tuning OCI client statement caching parameter setting.</p>
                  <div class="infoboxnotealso" id="GUID-82D4AFAE-136B-4B83-B9F8-765111642B4F__NOTE-136-C4AB1EDB">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=LNOCI73009" target="_blank"><span class="italic">Oracle Call Interface Programmer's Guide</span></a></p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="ADFNS489"></a><div class="props_rev_3"><a id="GUID-93D145D2-845E-4285-A6EE-330BCFF23B24" name="GUID-93D145D2-845E-4285-A6EE-330BCFF23B24"></a><h3 id="ADFNS-GUID-93D145D2-845E-4285-A6EE-330BCFF23B24" class="sect3">Client-Side Deployment Parameters</h3>
               <div>
                  <div class="section">
                     <p>Beginning with Oracle Database 12<span class="italic">c</span> Release 1 (12.1.0.1), OCI deployment parameters are available in a new configuration file (<code class="codeph">oraaccess.xml</code>).
                     </p>
                     <div class="infoboxnotealso" id="GUID-93D145D2-845E-4285-A6EE-330BCFF23B24__NOTE-1212-C4ABF33D">
                        <p class="notep1">See Also:</p>
                        <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=LNOCI73052" target="_blank"><span class="italic">Oracle Call Interface Programmer's Guide.</span></a></p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ADFNS226"></a><div class="props_rev_3"><a id="GUID-8E2B36A1-CDD2-454D-AE60-58784834601F" name="GUID-8E2B36A1-CDD2-454D-AE60-58784834601F"></a><h3 id="ADFNS-GUID-8E2B36A1-CDD2-454D-AE60-58784834601F" class="sect3">Using Query Change Notification</h3>
               <div>
                  <p>Continuous Query Notification (CQN) lets client applications register queries with the database and receive notifications of DML or DDL changes on the objects (object change notification (OCN)) or result set changes associated with the queries (query result change notification (QRCN)). The database publishes notifications when the DML or DDL transaction commits.</p>
                  <p>A <span class="bold">CQN registration</span> associates one or more queries with a notification type (OCN or QRCN) and a notification handler. To create a CQN registration, you can use:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>PL/SQL interface</p>
                        <p>When you use the PL/SQL interface, the notification handler is a server-side PL/SQL stored procedure. PL/SQL registration can be used by nonthreaded languages and systems, such as PHP. For PHP, the PL/SQL listener invokes a PHP callback when it receives the database notification.</p>
                     </li>
                     <li>
                        <p>Oracle Call Interface (OCI)</p>
                        <p>When you use OCI, the notification handler is a client-side C callback procedure.</p>
                     </li>
                     <li>
                        <p>Java Database Connectivity (JDBC) interface</p>
                        <p>When you use the JDBC interface, the JDBC driver creates a registration on the server. The JDBC driver launches a new thread that listens for notifications from the server (through a dedicated channel), converts them to Java events, and then notifies all listeners registered with this registration.</p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-8E2B36A1-CDD2-454D-AE60-58784834601F__GUID-C52E7BBF-B101-478F-BE30-6C541AFF3871">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="cqn.html#GUID-373BAF72-3E63-42FE-8BEA-8A2AEFBF1C35" title="Some types of queries are so simplified that invalidations are generated at object level; that is, whenever any object referenced in those queries changes. Examples of such queries are those that use unsupported column types or include subqueries. The solution to this problem is to rewrite the original queries.">Using Continuous Query Notification (CQN)</a> for a complete discussion of the concepts of this feature and how to use the PL/SQL and OCI interfaces to create CQN registrations
                           </p>
                        </li>
                        <li>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=JJDBC28815" target="_blank"><span class="italic">Oracle Database JDBC Developer's Guide</span></a> for information about using JDBC for CQN registration on the server
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="ADFNS1341"></a><a id="ADFNS228"></a><div class="props_rev_3"><a id="GUID-015CA8C1-2386-4626-855D-CC546DDC1086" name="GUID-015CA8C1-2386-4626-855D-CC546DDC1086"></a><h3 id="ADFNS-GUID-015CA8C1-2386-4626-855D-CC546DDC1086" class="sect3">Using Database Resident Connection Pool</h3>
               <div>
                  <div class="section">
                     <p>Database Resident Connection Pool (DRCP) provides a connection pool in the database server for typical web application usage scenarios where the application acquires a database connection, works on the database for a relatively short time, and then releases the connection.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-015CA8C1-2386-4626-855D-CC546DDC1086__GUID-EEACB0C4-F62D-4DBE-B6EE-9038DE3143DF">Topics:</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="performance-and-scalability.html#GUID-0B0DC596-17FF-4EEE-BAA1-9F428710C1AC">About Database Resident Connection Pool</a></p>
                        </li>
                        <li>
                           <p><a href="performance-and-scalability.html#GUID-78B32D33-EB8D-4A0A-817F-0957D51C9AF2">Configuring DRCP</a></p>
                        </li>
                        <li>
                           <p><a href="performance-and-scalability.html#GUID-73BCD307-BD01-4ABF-A63A-E647DAFB8ED0">Sharing Proxy Sessions</a></p>
                        </li>
                        <li>
                           <p><a href="performance-and-scalability.html#GUID-2F3128AD-DEE9-4436-9BEB-528B187F2313">Using JDBC with DRCP</a></p>
                        </li>
                        <li>
                           <p><a href="performance-and-scalability.html#GUID-226C6F55-7500-4A74-85AD-DFF9F8D6A04A">Using OCI Session Pool APIs with DRCP</a></p>
                        </li>
                        <li>
                           <p><a href="performance-and-scalability.html#GUID-4D0F5126-061C-4A46-BDAB-ED40F13E8B06" title="You can use the OCISessionPoolCreate API to set a connection class as HRMS.You can use the OCISessionPoolCreate API to create a connection class as RECMS.">Session Purity and Connection Class</a></p>
                        </li>
                        <li>
                           <p><a href="performance-and-scalability.html#GUID-FFDF247E-893A-48E2-88EB-8C2963A25F35">Starting Database Resident Connection Pool</a></p>
                        </li>
                        <li>
                           <p><a href="performance-and-scalability.html#GUID-9A4AA54E-68F8-49C2-BF20-616BCDA5F4F2">Enabling DRCP</a></p>
                        </li>
                        <li>
                           <p><a href="performance-and-scalability.html#GUID-661BB906-74D2-4C5D-9C7E-2798F76501B3">Benefiting from the Scalability of DRCP in an OCI Application</a></p>
                        </li>
                        <li>
                           <p><a href="performance-and-scalability.html#GUID-836F7840-EAB4-4BCD-82AC-22D82AC89404">Benefiting from the Scalability of DRCP in a Java Application</a></p>
                        </li>
                        <li>
                           <p><a href="performance-and-scalability.html#GUID-54F02FBA-36BD-4644-B2B5-9C16A730EFB5">Best Practices for Using DRCP</a></p>
                        </li>
                        <li>
                           <p><a href="performance-and-scalability.html#GUID-EB60065E-3E36-4226-8B97-EF4779D61DA5">Compatibility and Migration</a></p>
                        </li>
                        <li>
                           <p><a href="performance-and-scalability.html#GUID-37504E6D-B64F-4EF1-BD7E-335F51F2CE73">DRCP Restrictions</a></p>
                        </li>
                        <li>
                           <p><a href="performance-and-scalability.html#GUID-C3C1C26F-3B79-454A-A3AF-D25AAB0F28FE">Using DRCP with Custom Pools</a></p>
                        </li>
                        <li>
                           <p><a href="performance-and-scalability.html#GUID-4E0EC973-0E3A-4654-A52E-156CDCCB74E3">Explicitly Marking Sessions Stateful or Stateless</a></p>
                        </li>
                        <li>
                           <p><a href="performance-and-scalability.html#GUID-A96FA454-6182-498F-B94D-EC4F7D0858AD">Using DRCP with Oracle Real Application Clusters</a></p>
                        </li>
                        <li>
                           <p><a href="performance-and-scalability.html#GUID-D4A5051F-BFCC-470B-A219-C8072BFA33F0">Using DRCP with Pluggable Databases</a></p>
                        </li>
                        <li>
                           <p><a href="performance-and-scalability.html#GUID-E97AEC94-1A4D-4D83-A1D8-3EED0413437C">DRCP with Data Guard</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div><a id="ADFNS491"></a><div class="props_rev_3"><a id="GUID-0B0DC596-17FF-4EEE-BAA1-9F428710C1AC" name="GUID-0B0DC596-17FF-4EEE-BAA1-9F428710C1AC"></a><h4 id="ADFNS-GUID-0B0DC596-17FF-4EEE-BAA1-9F428710C1AC" class="sect4">About Database Resident Connection Pool</h4>
                  <div>
                     <p>DRCP pools server processes, each of which is the equivalent of a dedicated server process and database session combined; these are called <span class="bold">pooled servers</span>. Pooled servers can be shared by multiple applications running on the same or several hosts. A connection broker process manages the pooled servers at the database instance level.
                     </p>
                     <p>DRCP is a configurable feature, chosen at application runtime. It allows concurrent use of traditional and DRCP-based connection architectures.</p>
                     <p>DRCP is especially useful for architectures with multiprocess single-threaded application servers (such as PHP and Apache) that cannot do middle-tier connection pooling. DRCP is also very useful in large-scale web deployments where hundreds or thousands of web servers or middle-tiers need database access and client-side pools (even in multithreaded systems and languages such as Java). Using DRCP, the database can scale to tens of thousands of simultaneous connections. If your database web application must scale to large numbers of connections, DRCP is your connection pooling solution.</p>
                     <p>DRCP complements middle-tier connection pools that share connections between threads in a middle-tier process. DRCP also enables sharing of database connections across middle-tier processes on the same middle-tier host, across multiple middle-tier hosts, and across multiple middle-tiers (web servers, containers) that accommodate applications written in different languages. This sharing significantly reduces the database resources needed to support a large number of client connections, thereby reducing the database tier memory footprint and increasing the scalability of both middle and database tiers. Having a pool of readily available servers also reduces the cost of creating and releasing client connections.</p>
                     <p>Clients get connections from the DRCP, which is connected to an Oracle Database background process called the connection broker. The connection broker implements the pool functionality and multiplexes pooled servers among persistent inbound connections from the client.</p>
                     <p>When a client needs database access, the connection broker gets a server process from the pool and gives it to the client. The client is then directly connected to the server. After the server executes the client request, the server process returns to the pool and the connection from the client is restored to the connection broker as a persistent inbound connection from the client process. In DRCP, releasing resources leaves the session intact, but no longer associated with a connection (server process). Because this session stores its user global area (UGA) in the program global area (PGA), not in the system global area (SGA), a client can reestablish a connection transparently upon detecting activity.</p>
                     <p>DRCP is typically recommended for applications with a large number of connections. Shared servers are recommended for applications with a medium number of connections and dedicated sessions are recommended for applications with a small number of connections. The threshold sizes depend on the amount of memory available on the database host.</p>
                     <p>DRCP has these advantages:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>DRCP enables resource sharing among multiple client applications and middle-tier application servers.</p>
                        </li>
                        <li>
                           <p>DRCP improves scalability of databases and applications by reducing resource usage on the database host.</p>
                        </li>
                     </ul>
                     <p>Compared to client-side connection pooling and shared servers:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>DRCP provides a direct connection to the database server, furnished by client-side connection pooling (like client-side connection pooling but unlike shared servers).</p>
                        </li>
                        <li>
                           <p>DRCP can pool database servers (like client-side connection pooling and shared servers).</p>
                        </li>
                        <li>
                           <p>DRCP can pool sessions (like client-side connection pooling but unlike shared servers).</p>
                        </li>
                        <li>
                           <p>DRCP can share connections across middle-tier boundaries (unlike client-side connection pooling).</p>
                        </li>
                     </ul>
                     <p>DRCP supports shared connections in both PDB and non-PDB environments.</p>
                     <p>DRCP offers a unique connection pooling solution that addresses scalability requirements in environments requiring large numbers of connections with minimal database resource usage.</p>
                     <div class="infoboxnotealso" id="GUID-0B0DC596-17FF-4EEE-BAA1-9F428710C1AC__GUID-E7A18513-A3EB-4DFE-9B0A-60EDFF263980">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=CNCPT1896" target="_blank"><span class="italic">Oracle Database Concepts</span></a> for details about DRCP architecture
                              </p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=ADMIN-GUID-A67C5365-99A1-4BE1-87CB-CA9A4DEBBF70" target="_blank"><span class="italic">Oracle Database Administrator’s Guide</span></a> for more information about switch service enhancements.
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="ADFNS492"></a><div class="props_rev_3"><a id="GUID-78B32D33-EB8D-4A0A-817F-0957D51C9AF2" name="GUID-78B32D33-EB8D-4A0A-817F-0957D51C9AF2"></a><h4 id="ADFNS-GUID-78B32D33-EB8D-4A0A-817F-0957D51C9AF2" class="sect4">Configuring DRCP</h4>
                  <div>
                     <p>DRCP is installed by default, but the DBA must start, and configure it using the <code class="codeph">DBMS_CONNECTION_POOL</code> package. Configuration options include minimum and maximum number of pooled servers, number of connection brokers, maximum number of connections that each connection broker can handle, and so on.
                     </p>
                     <p>Starting with Oracle Database 12<span class="italic">c</span> Release 2 (12.2.0.1) , the new <code class="codeph">MAX_TXN_THINK_TIME</code> parameter specifies the maximum time of inactivity allowed before termination for a client with an open transaction. This can be set to allow more time than the client that does not have transactions (specified by the <code class="codeph">MAX_THINK_TIME</code> parameter value). This allows efficient pool reuse, while giving incomplete transactions a longer time to conclude.
                     </p>
                     <p>OCI session pool APIs have been extended to interoperate with DRCP.</p>
                     <div class="infoboxnotealso" id="GUID-78B32D33-EB8D-4A0A-817F-0957D51C9AF2__GUID-E4FFF79F-AF8A-4767-8841-DFC680181CB3">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=ARPLS215" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for details about the <code class="codeph">DBMS_CONNECTION_POOL</code> package
                              </p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=ADMIN12347" target="_blank"><span class="italic">Oracle Database Administrator's Guide</span></a> for more information about Configuring the Connection Pool for Database Resident Connection Pooling
                              </p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=LNOCI9110" target="_blank"><span class="italic">Oracle Call Interface Programmer's Guide</span></a> 
                              </p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=JJDBC29023" target="_blank"><span class="italic">Oracle Database JDBC Developer's Guide</span></a></p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=JJUCP8142" target="_blank"><span class="italic">Oracle Universal Connection Pool for JDBC Developer's Guide</span></a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-73BCD307-BD01-4ABF-A63A-E647DAFB8ED0" name="GUID-73BCD307-BD01-4ABF-A63A-E647DAFB8ED0"></a><h4 id="ADFNS-GUID-73BCD307-BD01-4ABF-A63A-E647DAFB8ED0" class="sect4">Sharing Proxy Sessions</h4>
                  <div>
                     <p>Starting with Oracle Database 12c Release 2 (12.2.0.1), proxy sessions in DRCP are shared among applications that are connected to the same schema.</p>
                  </div>
               </div><a id="ADFNS1425"></a><div class="props_rev_3"><a id="GUID-2F3128AD-DEE9-4436-9BEB-528B187F2313" name="GUID-2F3128AD-DEE9-4436-9BEB-528B187F2313"></a><h4 id="ADFNS-GUID-2F3128AD-DEE9-4436-9BEB-528B187F2313" class="sect4">Using JDBC with DRCP</h4>
                  <div>
                     <div class="section">
                        <p>Beginning with Oracle Database 12<span class="italic">c</span> Release 1 (12.1.0.1), Oracle JDBC drivers support DRCP. The DRCP implementation creates a pool on the server side, which is shared across multiple client pools. These client pools use Universal Connection Pool for JDBC. Using Universal Connection Pool significantly lowers memory consumption (because of the reduced number of server processes on the server) and increases the scalability of the Database server.
                        </p>
                        <p>To track check-in and checkout operations of server-side connections, Java applications must use a client-side pool such as Universal Connection Pool for JDBC or a third-party Java connection pool.</p>
                        <p>To enable DRCP on the client side, you must do the following:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Pass a non-<code class="codeph">NULL</code>, nonempty <code class="codeph">String</code> value to the connection property <code class="codeph">oracle.jdbc.DRCPConnectionClass</code>.
                              </p>
                           </li>
                           <li>
                              <p>Pass (<code class="codeph">SERVER=POOLED</code>) in the long connection string.
                              </p>
                           </li>
                        </ul>
                        <p>You can also specify (<code class="codeph">SERVER=POOLED</code>) in the short URL form as follows:
                        </p><pre class="oac_no_warn" dir="ltr">jdbc:oracle:thin:@//&lt;host&gt;:&lt;port&gt;/&lt;service_name&gt;[:POOLED]
</pre><p>For example:</p><pre class="oac_no_warn" dir="ltr">jdbc:oracle:thin:@//localhost:5221/orcl:POOLED
</pre><p>By setting the same DRCP Connection class name for all the pooled server processes on the server using the connection property <code class="codeph">oracle.jdbc.DRCPConnectionClass</code>, you can share pooled server processes on the server across multiple connection pools.
                        </p>
                        <p>In DRCP, you can also apply a tag to a given connection and easily retrieve that tagged connection later. </p>
                        <div class="infoboxnotealso" id="GUID-2F3128AD-DEE9-4436-9BEB-528B187F2313__NOTE-1229-C4AD9647">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="performance-and-scalability.html#GUID-FFDF247E-893A-48E2-88EB-8C2963A25F35">Starting Database Resident Connection Pool</a></p>
                              </li>
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=JJDBC29030" target="_blank"><span class="italic">Oracle Database JDBC Developer's Guide</span></a> for more information about APIs that are used to control custom connection pool implementations
                                 </p>
                              </li>
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=JJDBC29043" target="_blank"><span class="italic">Oracle Database JDBC Developer's Guide</span></a> for more information about enabling DRCP on client side
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADFNS493"></a><div class="props_rev_3"><a id="GUID-226C6F55-7500-4A74-85AD-DFF9F8D6A04A" name="GUID-226C6F55-7500-4A74-85AD-DFF9F8D6A04A"></a><h4 id="ADFNS-GUID-226C6F55-7500-4A74-85AD-DFF9F8D6A04A" class="sect4">Using OCI Session Pool APIs with DRCP</h4>
                  <div>
                     <div class="section">
                        <p>The OCI session pool APIs <code class="codeph">OCISessionPoolCreate()</code>, <code class="codeph">OCISessionGet()</code>, and <code class="codeph">OCISessionRelease()</code> interoperate with DRCP.
                        </p>
                        <p>An OCI application initializes the environment for the OCI session pool for DRCP by invoking <code class="codeph">OCISessionPoolCreate()</code>, which is described in <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=LNOCI17124" target="_blank"><span class="italic">Oracle Call Interface Programmer's Guide</span></a>.
                        </p>
                        <p>To get a session from the OCI session pool for DRCP, an OCI application invokes <code class="codeph">OCISessionGet()</code>, specifying <code class="codeph">OCI_SESSGET_SPOOL</code> for the <code class="codeph">mode</code> parameter. 
                        </p>
                        <p>To release a session to the OCI session pool for DRCP, an OCI application invokes <code class="codeph">OCISessionRelease()</code>.
                        </p>
                        <p>To improve performance, the OCI session pool can transparently cache connections to the connection broker. An OCI application can reuse the sessions within which the application leaves sessions of a similar state either by invoking <code class="codeph">OCISessionGet()</code> with the <code class="codeph">authInfop</code> parameter set to <code class="codeph">OCI_ATTR_CONNECTION_CLASS</code> and specifying a connection class name or by using the <code class="codeph">OCIAuthInfo</code> handle before invoking <code class="codeph">OCISessionGet()</code>. 
                        </p>
                        <p>DRCP also supports features offered by the traditional client-side OCI session pool, such as tagging, statement caching, and TAF.</p>
                        <div class="infoboxnotealso" id="GUID-226C6F55-7500-4A74-85AD-DFF9F8D6A04A__NOTE-1217-C4D8B7B3">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=LNOCI17123" target="_blank"><span class="italic">Oracle Call Interface Programmer's Guide</span></a> for information about <code class="codeph">OCISessionGet()</code></p>
                              </li>
                              <li>
                                 <p><a href="../lnoci/connect-authorize-and-initialize-functions.html#LNOCI17126" target="_blank"><span class="italic">Oracle Call Interface Programmer's Guide</span></a> for more information about <code class="codeph">OCISessionRelease()</code></p>
                              </li>
                              <li>
                                 <p><a href="performance-and-scalability.html#GUID-4D0F5126-061C-4A46-BDAB-ED40F13E8B06" title="You can use the OCISessionPoolCreate API to set a connection class as HRMS.You can use the OCISessionPoolCreate API to create a connection class as RECMS.">Session Purity and Connection Class</a> for more information about improving the performance of DRCP
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADFNS1335"></a><a id="ADFNS494"></a><div class="props_rev_3"><a id="GUID-4D0F5126-061C-4A46-BDAB-ED40F13E8B06" name="GUID-4D0F5126-061C-4A46-BDAB-ED40F13E8B06"></a><h4 id="ADFNS-GUID-4D0F5126-061C-4A46-BDAB-ED40F13E8B06" class="sect4">Session Purity and Connection Class</h4>
                  <div>
                     <p>In Oracle Database 11<span class="italic">g</span> Release 1 (11.1), OCI introduced two settings that can be specified when obtaining a session using <code class="codeph">OCISessionGet()</code>: session purity and connection class.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-4D0F5126-061C-4A46-BDAB-ED40F13E8B06__GUID-D0D36213-DC7E-4865-9AAC-B00CF57125C1">Topics:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="performance-and-scalability.html#GUID-12410EEC-FE79-42E2-8F6B-EAA9EDA59665">Session Purity</a></p>
                           </li>
                           <li>
                              <p><a href="performance-and-scalability.html#GUID-EC3DEE61-512C-4CBB-A431-91894D0E1E37">Connection Class</a></p>
                           </li>
                           <li>
                              <p><a href="performance-and-scalability.html#GUID-CE6E4DCC-92DF-4946-92B8-2BDD9845DA35" title="You can use the OCISessionPoolCreate API to set a connection class as HRMS.">Example: Setting the Connection Class as HRMS</a></p>
                           </li>
                           <li>
                              <p><a href="performance-and-scalability.html#GUID-AADEB9A7-1B00-4E29-9414-4AE5252314A8" title="You can use the OCISessionPoolCreate API to create a connection class as RECMS.">Example: Setting the Connection Class as RECMS</a></p>
                           </li>
                           <li>
                              <p><a href="performance-and-scalability.html#GUID-95BE385D-ADCD-48ED-A801-B670EA3A956D">Session Purity and Connection Class Defaults</a></p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div><a id="ADFNS496"></a><a id="ADFNS495"></a><div class="props_rev_3"><a id="GUID-12410EEC-FE79-42E2-8F6B-EAA9EDA59665" name="GUID-12410EEC-FE79-42E2-8F6B-EAA9EDA59665"></a><h5 id="ADFNS-GUID-12410EEC-FE79-42E2-8F6B-EAA9EDA59665" class="sect5">Session Purity</h5>
                     <div>
                        <p><span class="bold">Session purity</span> specifies whether an OCI application can reuse a pooled session (<code class="codeph">OCI_SESSGET_PURITY_SELF</code>) or must use a new session (<code class="codeph">OCI_SESSGET_PURITY_NEW</code>).
                        </p>
                        <p>The application can set session purity either on the <code class="codeph">OCIAuthInfo</code> handle before invoking <code class="codeph">OCISessionGet()</code> or in the <code class="codeph">mode</code> parameter when invoking <code class="codeph">OCISessionGet()</code>.
                        </p>
                        <div class="infoboxnotealso" id="GUID-12410EEC-FE79-42E2-8F6B-EAA9EDA59665__SHOWSHOWACONNECTIONPOOLINGAPPLICATI-C4D968ED">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="performance-and-scalability.html#GUID-12410EEC-FE79-42E2-8F6B-EAA9EDA59665__CACHBGAH">Example 3-1</a> for more information about how a connection pooling application sets up a new session
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <div class="example" id="GUID-12410EEC-FE79-42E2-8F6B-EAA9EDA59665__CACHBGAH">
                           <p class="titleinexample">Example 3-1 Setting Session Purity for New Session</p><pre class="oac_no_warn" dir="ltr">/* OCIAttrSet method */
ub4 purity = OCI_ATTR_PURITY_NEW; 
OCIAttrSet(authInfop, OCI_HTYPE_AUTHINFO, &amp;purity, (ub4)sizeof(purity) OCI_ATTR_PURITY, errhp);

/*  OCISessionGet mode method */  
OCISessionGet (envhp, errhp, &amp;svchp, authInfop, poolName, poolNameLen, NULL, 0, NULL, NULL, NULL, OCI_SESSGET_SPOOL);
/* poolName is the name returned by OCISessionPoolCreate() */

</pre><div class="infoboxnote" id="GUID-12410EEC-FE79-42E2-8F6B-EAA9EDA59665__GUID-33BE1F78-FFB2-4E9D-A483-E83FCD49CF0A">
                              <p class="notep1">Note:</p>
                              <p>When reusing a pooled session, the NLS attributes of the server override those of the client.</p>
                              <p>For example, if the client sets <code class="codeph">NLS_LANG</code> to <code class="codeph">french_france.us7ascii</code> and then is assigned a German session from the pool, the client session becomes German.
                              </p>
                              <p>To avoid this problem, use connection classes to restrict sharing.</p>
                           </div>
                        </div>
                        <!-- class="example" -->
                     </div>
                  </div><a id="ADFNS498"></a><a id="ADFNS499"></a><a id="ADFNS497"></a><div class="props_rev_3"><a id="GUID-EC3DEE61-512C-4CBB-A431-91894D0E1E37" name="GUID-EC3DEE61-512C-4CBB-A431-91894D0E1E37"></a><h5 id="ADFNS-GUID-EC3DEE61-512C-4CBB-A431-91894D0E1E37" class="sect5">Connection Class</h5>
                     <div>
                        <p><span class="bold">Connection class</span> defines a logical name for the type of connection that an OCI application needs. When a pooled session has a connection class, OCI ensures that the session is not shared outside of that connection class.
                        </p>
                        <p>For example, a connection class can prevent the following from sharing pooled sessions:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Different users</p>
                              <p>(A session first created for user <code class="codeph">HR</code> is assigned only to subsequent requests by user <code class="codeph">HR</code>.)
                              </p>
                           </li>
                           <li>
                              <p>Different sessions of the same user</p>
                           </li>
                           <li>
                              <p>Different applications being run by the same user</p>
                              <p>(Each application can have its own connection class.)</p>
                           </li>
                        </ul>
                        <p>To set the connection class, you can use the <code class="codeph">OCI_ATTR_CONNECTION_CLASS</code> attribute of the <code class="codeph">OCIAuthInfo</code> handle. A connection class name is a string of at most 1024 bytes, and it cannot include an asterisk (*).
                        </p>
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-CE6E4DCC-92DF-4946-92B8-2BDD9845DA35" name="GUID-CE6E4DCC-92DF-4946-92B8-2BDD9845DA35"></a><h5 id="ADFNS-GUID-CE6E4DCC-92DF-4946-92B8-2BDD9845DA35" class="sect5">Example: Setting the Connection Class as HRMS</h5>
                     <div>
                        <p>You can use the <code class="codeph">OCISessionPoolCreate</code> API to set a connection class as HRMS.
                        </p>
                        <p><a href="performance-and-scalability.html#GUID-CE6E4DCC-92DF-4946-92B8-2BDD9845DA35__CACCIFIE">Example 3-2</a> specifies that an HRMS application needs sessions with the connection class <code class="codeph">HRMS</code>.
                        </p>
                        <div class="example" id="GUID-CE6E4DCC-92DF-4946-92B8-2BDD9845DA35__CACCIFIE">
                           <p class="titleinexample">Example 3-2 Setting the Connection Class as HRMS</p><pre class="oac_no_warn" dir="ltr">OCISessionPoolCreate (envhp, errhp, spoolhp, &amp;poolName, &amp;poolNameLen, "HRDB",
    strlen("HRDB"), 0, 10, 1, "HR", strlen("HR"), "HR", strlen("HR"),
    OCI_SPC_HOMOGENEOUS);
 
OCIAttrSet (authInfop, OCI_HTYPE_AUTHINFO, <span class="bold">"HRMS", strlen ("HRMS"),</span>
    <span class="bold">OCI_ATTR_CONNECTION_CLASS,</span> errhp);
OCISessionGet (envhp, errhp, &amp;svchp, authInfop, poolName, poolNameLen, NULL, 0,
    NULL, NULL, NULL, OCI_SESSGET_SPOOL);
</pre></div>
                        <!-- class="example" -->
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-AADEB9A7-1B00-4E29-9414-4AE5252314A8" name="GUID-AADEB9A7-1B00-4E29-9414-4AE5252314A8"></a><h5 id="ADFNS-GUID-AADEB9A7-1B00-4E29-9414-4AE5252314A8" class="sect5">Example: Setting the Connection Class as RECMS</h5>
                     <div>
                        <p>You can use the <code class="codeph">OCISessionPoolCreate</code> API to create a connection class as RECMS.
                        </p>
                        <p><a href="performance-and-scalability.html#GUID-AADEB9A7-1B00-4E29-9414-4AE5252314A8__CACGGBBC">Example 3-3</a> specifies that a recruitment application needs sessions with the connection class <code class="codeph">RECMS</code>.
                        </p>
                        <div class="example" id="GUID-AADEB9A7-1B00-4E29-9414-4AE5252314A8__CACGGBBC">
                           <p class="titleinexample">Example 3-3 Setting the Connection Class as RECMS</p><pre class="oac_no_warn" dir="ltr">OCISessionPoolCreate (envhp, errhp, spoolhp, &amp;poolName, &amp;poolNameLen, "HRDB",
    strlen("HRDB"), 0, 10, 1, "HR", strlen("HR"), "HR", strlen("HR"),
    OCI_SPC_HOMOGENEOUS);
 
OCIAttrSet (authInfop, OCI_HTYPE_AUTHINFO,  <span class="bold">"RECMS", strlen("RECMS"),</span>
    <span class="bold">OCI_ATTR_CONNECTION_CLASS,</span> errhp);
OCISessionGet (envhp, errhp, &amp;svchp, authInfop, poolName, poolNameLen, NULL, 0,
    NULL, NULL, NULL, OCI_SESSGET_SPOOL);</pre></div>
                        <!-- class="example" -->
                     </div>
                  </div><a id="ADFNS501"></a><a id="ADFNS500"></a><div class="props_rev_3"><a id="GUID-95BE385D-ADCD-48ED-A801-B670EA3A956D" name="GUID-95BE385D-ADCD-48ED-A801-B670EA3A956D"></a><h5 id="ADFNS-GUID-95BE385D-ADCD-48ED-A801-B670EA3A956D" class="sect5">Session Purity and Connection Class Defaults</h5>
                     <div>
                        <p><a href="performance-and-scalability.html#GUID-95BE385D-ADCD-48ED-A801-B670EA3A956D__CACCIJFF" title="Session purity and connection class defaults for Database Resident Connection Pooling.">Table 3-5</a> shows the defaults for the attributes and settings of connections that an OCI application gets from the OCI session pool (using <code class="codeph">OCISessionGet()</code>) and from other sources.
                        </p>
                        <div class="tblformalwide" id="GUID-95BE385D-ADCD-48ED-A801-B670EA3A956D__CACCIJFF">
                           <p class="titleintable">Table 3-5 Session Purity and Connection Class Defaults</p>
                           <table cellpadding="4" cellspacing="0" class="FormalWide" title="Session Purity and Connection Class Defaults" summary="Session purity and connection class defaults for Database Resident Connection Pooling." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="30%" id="d10075e9439">Attribute or Setting</th>
                                    <th align="left" valign="bottom" width="35%" id="d10075e9442">Default Value for Connection From OCI Session Pool</th>
                                    <th align="left" valign="bottom" width="35%" id="d10075e9445">Default Value for Connection Not From OCI Session Pool</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d10075e9450" headers="d10075e9439 ">
                                       <p><code class="codeph">OCI_ATTR_PURITY</code></p>
                                    </td>
                                    <td align="left" valign="top" width="35%" headers="d10075e9450 d10075e9442 ">
                                       <p><code class="codeph">OCI_ATTR_PURITY_SELF</code></p>
                                    </td>
                                    <td align="left" valign="top" width="35%" headers="d10075e9450 d10075e9445 ">
                                       <p><code class="codeph">OCI_ATTR_PURITY_NEW</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d10075e9463" headers="d10075e9439 ">
                                       <p><code class="codeph">OCI_ATTR_CONNECTION_CLASS</code></p>
                                    </td>
                                    <td align="left" valign="top" width="35%" headers="d10075e9463 d10075e9442 ">
                                       <p>OCI-generated globally unique name for each client-side session pool, used as the default connection class for all connections in the OCI session pool</p>
                                    </td>
                                    <td align="left" valign="top" width="35%" headers="d10075e9463 d10075e9445 ">
                                       <p><code class="codeph">SHARED</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d10075e9475" headers="d10075e9439 ">
                                       <p>Sessions shared by ...</p>
                                    </td>
                                    <td align="left" valign="top" width="35%" headers="d10075e9475 d10075e9442 ">
                                       <p>Threads that request sessions from the OCI session pool</p>
                                    </td>
                                    <td align="left" valign="top" width="35%" headers="d10075e9475 d10075e9445 ">
                                       <p>Connections to a particular database that have the <code class="codeph">SHARED</code> connection class
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                  </div>
               </div><a id="ADFNS502"></a><div class="props_rev_3"><a id="GUID-FFDF247E-893A-48E2-88EB-8C2963A25F35" name="GUID-FFDF247E-893A-48E2-88EB-8C2963A25F35"></a><h4 id="ADFNS-GUID-FFDF247E-893A-48E2-88EB-8C2963A25F35" class="sect4">Starting Database Resident Connection Pool</h4>
                  <div>
                     <div class="section">
                        <p>The DBA must log on as <code class="codeph">SYSDBA</code> and start the default pool, <code class="codeph">SYS_DEFAULT_CONNECTION_POOL</code>, using <code class="codeph">DBMS_CONNECTION_POOL.START_POOL</code> with the default settings.
                        </p>
                        <div class="infoboxnotealso" id="GUID-FFDF247E-893A-48E2-88EB-8C2963A25F35__FORDETAILEDINFORMATIONABOUTCONFIGUR-C4DB0E23">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=ADMIN12347" target="_blank"><span class="italic">Oracle Database Administrator's Guide</span></a> for detailed information about configuring the pool
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADFNS1342"></a><a id="ADFNS505"></a><a id="ADFNS503"></a><div class="props_rev_3"><a id="GUID-9A4AA54E-68F8-49C2-BF20-616BCDA5F4F2" name="GUID-9A4AA54E-68F8-49C2-BF20-616BCDA5F4F2"></a><h4 id="ADFNS-GUID-9A4AA54E-68F8-49C2-BF20-616BCDA5F4F2" class="sect4">Enabling DRCP</h4>
                  <div>
                     <div class="section">
                        <p>To enable DRCP in an application, specify either <code class="codeph">:POOLED</code> in the Easy Connect string (as in <a href="performance-and-scalability.html#GUID-9A4AA54E-68F8-49C2-BF20-616BCDA5F4F2__CACJBFAG">Example 3-4</a>) or <code class="codeph">(SERVER=POOLED)</code> in the TNS connect string (as in <a href="performance-and-scalability.html#GUID-9A4AA54E-68F8-49C2-BF20-616BCDA5F4F2__CACEGJCH">Example 3-5</a>).
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-9A4AA54E-68F8-49C2-BF20-616BCDA5F4F2__CACJBFAG">
                        <p class="titleinexample">Example 3-4 Enabling DRCP With :POOLED in Easy Connect String</p><pre class="oac_no_warn" dir="ltr">oraclehost.company.com:1521/books.company.com:POOLED</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-9A4AA54E-68F8-49C2-BF20-616BCDA5F4F2__CACEGJCH">
                        <p class="titleinexample">Example 3-5 Enabling DRCP With SERVER=POOLED in TNS Connect String</p><pre class="oac_no_warn" dir="ltr">BOOKSDB = (DESCRIPTION=(ADDRESS=(PROTOCOL=tcp)(HOST=oraclehost.company.com)
 (PORT=1521))(CONNECT_DATA = (SERVICE_NAME=books.company.com)(SERVER=POOLED)))</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADFNS506"></a><div class="props_rev_3"><a id="GUID-661BB906-74D2-4C5D-9C7E-2798F76501B3" name="GUID-661BB906-74D2-4C5D-9C7E-2798F76501B3"></a><h4 id="ADFNS-GUID-661BB906-74D2-4C5D-9C7E-2798F76501B3" class="sect4">Benefiting from the Scalability of DRCP in an OCI Application</h4>
                  <div>
                     <p>Consider the following OCI application scenarios and how they benefit from DRCP:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>An application neither uses the OCI session pool nor specifies a connection class or purity setting (or specifies <code class="codeph">PURITY=NEW</code>).
                           </p>
                           <p>The application gets a new session from DRCP. When the application returns a connection to the pool, the session is not shared with other instances of the same application by default. Therefore, the pooled server remains assigned to the client for the life of the client session. (SQL*Plus is an example of a client that does not use the OCI session pool. SQL*Plus keeps connections even when they are idle.)</p>
                           <p>The application benefits from reusing an existing pooled server.</p>
                        </li>
                        <li>
                           <p>An application invokes <code class="codeph">OCISessionGet()</code> outside of the OCI session pool, or to specify the connection class and <code class="codeph">PURITY=SELF</code>.
                           </p>
                           <p>The application can reuse both DRCP pooled servers and sessions. However, after an <code class="codeph">OCISessionRelease()</code> call, OCI terminates the connection to the connection broker. On the next <code class="codeph">OCISessionGet()</code> call, the application reconnects to the broker, and then DRCP assigns a pooled server (and session) belonging to the specified connection class. Reconnecting incurs the cost of connection establishment and reauthentication.
                           </p>
                           <p>The application achieves better sharing of DRCP resources (processes and sessions) but does not benefit from caching connections to the connection broker.</p>
                        </li>
                        <li>
                           <p>An application uses OCI session pool APIs, specifies a connection class, and specifies <code class="codeph">PURITY=SELF</code>.
                           </p>
                           <p>The application uses all DRCP functionality, reusing both the pooled server and the associated session and benefiting from cached connections to the connection broker. Cached connections do not incur the cost of reauthentication on the <code class="codeph">OCISessionGet()</code> call.
                           </p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-661BB906-74D2-4C5D-9C7E-2798F76501B3__GUID-5C1D2979-7014-4CDF-8CB0-D73861671417">
                        <p class="notep1">See Also:</p>
                        <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=LNOCI17124" target="_blank"><code class="codeph">OCISessionPoolCreate()</code></a></p>
                        <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=LNOCI17123" target="_blank"><code class="codeph">OCISessionGet()</code></a></p>
                        <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=LNOCI17126" target="_blank"><code class="codeph">OCISessionRelease(),</code></a></p>
                        <p> <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=LNOCI17125" target="_blank"><code class="codeph">OCISessionPoolDestroy()</code></a></p>
                     </div>
                  </div>
               </div><a id="ADFNS1428"></a><div class="props_rev_3"><a id="GUID-836F7840-EAB4-4BCD-82AC-22D82AC89404" name="GUID-836F7840-EAB4-4BCD-82AC-22D82AC89404"></a><h4 id="ADFNS-GUID-836F7840-EAB4-4BCD-82AC-22D82AC89404" class="sect4">Benefiting from the Scalability of DRCP in a Java Application</h4>
                  <div>
                     <p>A customer who uses Universal Connection Pool (UCP), or uses ConnectionPoolDataSource as the connection factory, can upgrade to using DRCP by changing only the configuration (not the code).</p>
                     <div class="infoboxnotealso" id="GUID-836F7840-EAB4-4BCD-82AC-22D82AC89404__GUID-0F6F2F29-F247-48AA-A238-32C139D35286">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="performance-and-scalability.html#GUID-661BB906-74D2-4C5D-9C7E-2798F76501B3">Benefiting from the Scalability of DRCP in an OCI Application</a> for more information about how Java applications benefit from DRCP as OCI applications
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="ADFNS508"></a><a id="ADFNS509"></a><a id="ADFNS510"></a><a id="ADFNS507"></a><div class="props_rev_3"><a id="GUID-54F02FBA-36BD-4644-B2B5-9C16A730EFB5" name="GUID-54F02FBA-36BD-4644-B2B5-9C16A730EFB5"></a><h4 id="ADFNS-GUID-54F02FBA-36BD-4644-B2B5-9C16A730EFB5" class="sect4">Best Practices for Using DRCP</h4>
                  <div>
                     <div class="section">
                        <p>The steps for designing an application that can benefit from the full power of DRCP are very similar to those for an application that uses the OCI session pool.</p>
                        <p>The only additional step is that for best performance, when deployed to run with DRCP, the application must explicitly specify a connection class.</p>
                        <p>Multiple instances of the same application must specify the same connection class for best performance and enhanced sharing of DRCP resources. Ensure that the different instances of the application can share database sessions.</p>
                        <p><a href="performance-and-scalability.html#GUID-54F02FBA-36BD-4644-B2B5-9C16A730EFB5__CACFIIIJ">Example 3-6</a> shows a DRCP application.
                        </p>
                        <div class="infoboxnotealso" id="GUID-54F02FBA-36BD-4644-B2B5-9C16A730EFB5__GUID-BF3D6FEA-C35F-499B-9703-5BE4BB3051F3">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=LNOCI16617" target="_blank"><span class="italic">Oracle Call Interface Programmer's Guide</span></a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-54F02FBA-36BD-4644-B2B5-9C16A730EFB5__CACFIIIJ">
                        <p class="titleinexample">Example 3-6 DRCP Application</p><pre class="oac_no_warn" dir="ltr">/* Assume that all necessary handles are allocated. */
 
/*   This middle tier uses a single database user. Create a homogeneous
     client-side session pool */
OCISessionPoolCreate (envhp, errhp, spoolhp, &amp;poolName, &amp;poolNameLen, "BOOKSDB",
    strlen("BOOKSDB"), 0, 10, 1, "SCOTT", strlen("SCOTT"), "<span class="italic">password</span>",
    strlen("<span class="italic">password</span>"), OCI_SPC_HOMOGENEOUS);
 
while (1)
{
   /* Process a client request */
   WaitForClientRequest();
   /* Application function */
 
   /* Set the Connection Class on the OCIAuthInfo handle that is passed as
      argument to OCISessionGet*/
   
   OCIAttrSet (authInfop, OCI_HTYPE_AUTHINFO,  "BOOKSTORE", strlen("BOOKSTORE"),
               OCI_ATTR_CONNECTION_CLASS, errhp);
 
   /* Purity need not be set, as default is OCI_ATTR_PURITY_SELF
      for OCISessionPool connections */
 
   /* You can get a SCOTT session released by Middle-tier 2 */
   OCISessionGet(envhp, errhp, &amp;svchp, authInfop, poolName, poolNameLen, NULL, 0,
                 NULL, NULL, NULL, OCI_SESSGET_SPOOL); 
 
   /* Database calls using the svchp obtained above  */
   OCIStmtExecute(...)
 
   /* This releases the pooled server on the database for reuse */
   OCISessionRelease (svchp, errhp, NULL, 0, OCI_DEFAULT);
}
 
/* Middle tier is done - exiting */
OCISessionPoolDestroy (spoolhp, errhp, OCI_DEFAULT);
</pre><p><a href="performance-and-scalability.html#GUID-54F02FBA-36BD-4644-B2B5-9C16A730EFB5__CACBDIHE">Example 3-7</a> and <a href="performance-and-scalability.html#GUID-54F02FBA-36BD-4644-B2B5-9C16A730EFB5__CACJJGAB">Example 3-8</a> show connect strings that deploy code in 10 middle-tier hosts that service the <code class="codeph">BOOKSTORE</code> application from <a href="performance-and-scalability.html#GUID-54F02FBA-36BD-4644-B2B5-9C16A730EFB5__CACFIIIJ">Example 3-6</a>.
                        </p>
                        <p>In <a href="performance-and-scalability.html#GUID-54F02FBA-36BD-4644-B2B5-9C16A730EFB5__CACBDIHE">Example 3-7</a>, assume that the database is Oracle Database 12<span class="italic">c</span> (or earlier) in dedicated server mode with DRCP not enabled and that the client has 12<span class="italic">c</span> libraries. The application gets dedicated server connections from the database.
                        </p>
                     </div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-54F02FBA-36BD-4644-B2B5-9C16A730EFB5__CACBDIHE">
                        <p class="titleinexample">Example 3-7 Connect String for Deployment in Dedicated Server Mode Without DRCP</p><pre class="oac_no_warn" dir="ltr">BOOKSDB = (DESCRIPTION=(ADDRESS=(PROTOCOL=tcp)(HOST=oraclehost.company.com)
 (PORT=1521))(CONNECT_DATA = (SERVICE_NAME=books.company.com)))
</pre><p>In <a href="performance-and-scalability.html#GUID-54F02FBA-36BD-4644-B2B5-9C16A730EFB5__CACJJGAB">Example 3-8</a>, assume that DRCP is enabled on the Oracle Database 12<span class="italic">c</span> database. All middle-tier processes can benefit from the pooling capability of DRCP. The database resource requirement with DRCP is much less than it would be in dedicated server mode.
                        </p>
                     </div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-54F02FBA-36BD-4644-B2B5-9C16A730EFB5__CACJJGAB">
                        <p class="titleinexample">Example 3-8 Connect String for Deployment With DRCP</p><pre class="oac_no_warn" dir="ltr">BOOKSDB = (DESCRIPTION=(ADDRESS=(PROTOCOL=tcp)(HOST=oraclehost.company.com)
 (PORT=1521))(CONNECT_DATA = (SERVICE_NAME=books.company.com)(SERVER=POOLED)))</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADFNS511"></a><div class="props_rev_3"><a id="GUID-EB60065E-3E36-4226-8B97-EF4779D61DA5" name="GUID-EB60065E-3E36-4226-8B97-EF4779D61DA5"></a><h4 id="ADFNS-GUID-EB60065E-3E36-4226-8B97-EF4779D61DA5" class="sect4">Compatibility and Migration</h4>
                  <div>
                     <p>An OCI application linked with Oracle Database 12<span class="italic">c</span> client libraries works unaltered with:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>An Oracle Database 12<span class="italic">c</span> database with DRCP disabled
                           </p>
                        </li>
                        <li>
                           <p>A database server from a release earlier than Oracle Database 12<span class="italic">c</span></p>
                        </li>
                        <li>
                           <p>An Oracle Database 12<span class="italic">c</span> database server with DRCP enabled, when deployed with the DRCP connect string
                           </p>
                        </li>
                     </ul>
                     <p>Suitable clients benefit from enhanced scalability offered by DRCP if they are appropriately modified to use the OCI session pool APIs with the connection class and purity settings previously described.</p>
                     <div class="infoboxnotealso" id="GUID-EB60065E-3E36-4226-8B97-EF4779D61DA5__GUID-92974C88-3A2B-4903-8FDC-A1FF904A8135">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=JJDBC29023" target="_blank"><span class="italic">Oracle Database JDBC Developer's Guide</span></a> for more information about Oracle JDBC drivers support for DRCP
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="ADFNS512"></a><div class="props_rev_3"><a id="GUID-37504E6D-B64F-4EF1-BD7E-335F51F2CE73" name="GUID-37504E6D-B64F-4EF1-BD7E-335F51F2CE73"></a><h4 id="ADFNS-GUID-37504E6D-B64F-4EF1-BD7E-335F51F2CE73" class="sect4">DRCP Restrictions</h4>
                  <div>
                     <p>The following cannot be performed with pooled servers:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Shutting down the database</p>
                        </li>
                        <li>
                           <p>Stopping DRCP</p>
                        </li>
                        <li>
                           <p>Changing the password for the connected user</p>
                        </li>
                        <li>
                           <p>Using shared database links to connect to a DRCP that is on a different instance</p>
                        </li>
                        <li>
                           <p>Using Advanced Security Options (ASO) with TCPS</p>
                        </li>
                        <li>
                           <p>Using Enterprise user security with DRCP</p>
                        </li>
                        <li>
                           <p>Using migratable sessions on the server side, either directly (using the <code class="codeph">OCI_MIGRATE</code> option) or indirectly (invoking <code class="codeph">OCISessionPoolCreate()</code>)
                           </p>
                        </li>
                        <li>
                           <p>Using initial client roles</p>
                        </li>
                        <li>
                           <p>Using application context attributes (such as <code class="codeph">OCI_ATTR_APPCTX_NAME</code> and <code class="codeph">OCI_ATTR_APPCTX_VALUE</code>)
                           </p>
                        </li>
                     </ul>
                     <p>Sessions created before DDL statements run can be assigned to clients after DDL statements run. Therefore, be careful when running DDL statements that affect database users in the pool. For example, before dropping a user, ensure that there are no sessions of that user in the pool and no connections to the broker that were authenticated as that user.</p>
                     <p>If sessions with explicit roles enabled are released to the pool, they can later be assigned to connections (of the same user) that need the default logon role. Therefore, avoid releasing sessions with explicit roles; instead, terminate them.</p>
                     <div class="infoboxnote" id="GUID-37504E6D-B64F-4EF1-BD7E-335F51F2CE73__GUID-0E3B4626-175C-42AE-967B-1F591F4AA0F9">
                        <p class="notep1">Note:</p>
                        <p>You can use Oracle Advanced Security features such as encryption and strong authentication with DRCP.</p>
                     </div>
                     <p>Users can mix data encryption/data integrity combinations. However, users must segregate each such combination by using connection classes. For example, if the user application must specify AES256 as the encryption mechanism for one set of connections and DES for another set of connections, then the application must specify different connection classes for each set.</p>
                  </div>
               </div><a id="ADFNS513"></a><div class="props_rev_3"><a id="GUID-C3C1C26F-3B79-454A-A3AF-D25AAB0F28FE" name="GUID-C3C1C26F-3B79-454A-A3AF-D25AAB0F28FE"></a><h4 id="ADFNS-GUID-C3C1C26F-3B79-454A-A3AF-D25AAB0F28FE" class="sect4">Using DRCP with Custom Pools</h4>
                  <div>
                     <div class="section">
                        <p>Oracle highly recommends using the OCI session pool, which is already integrated with DRCP, FAN, and RLB. However, an application that does not use the OCI session pool can still use DRCP if either of the following is true:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The application was built using its own custom connection pool.</p>
                           </li>
                           <li>
                              <p>The application uses no pool, but has periods when it does not use its session (and could therefore release it to a pool) and does not depend on getting back the same session</p>
                           </li>
                        </ul>
                        <p>To use DRCP with such an application, the session must be stateful; that is, the session must have the <code class="codeph">OCI_ATTR_SESSION_STATE</code> attribute . When an application is stateful and DRCP is enabled, OCI transparently assigns it an appropriate session from the DRCP pool. If the application is stateless (has the <code class="codeph">OCI_SESSION_STATELESS</code> attribute) and DRCP is enabled, OCI transparently returns the session to the DRCP pool.
                        </p>
                        <p>Applications must identify session state as promptly as possible for efficient utilization of underlying database resources.</p>
                        <div class="infoboxnote" id="GUID-C3C1C26F-3B79-454A-A3AF-D25AAB0F28FE__GUID-2C6A3FEE-9CDA-4D4C-8647-0AA232681701">
                           <p class="notep1">Note:</p>
                           <p>An application that specifies the attribute <code class="codeph">OCI_ATTR_SESSION_STATE</code> or <code class="codeph">OCI_SESSION_STATELESS</code> must also specify session purity and connection class.
                           </p>
                        </div>
                        <div class="infoboxnotealso" id="GUID-C3C1C26F-3B79-454A-A3AF-D25AAB0F28FE__GUID-F7EE3F7C-7E51-436A-824F-C5280DDD4167">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="performance-and-scalability.html#GUID-4D0F5126-061C-4A46-BDAB-ED40F13E8B06" title="You can use the OCISessionPoolCreate API to set a connection class as HRMS.You can use the OCISessionPoolCreate API to create a connection class as RECMS.">Session Purity and Connection Class</a> for more information about <code class="codeph">OCI_ATTR_SESSION_STATE</code> and <code class="codeph">OCI_SESSION_STATELESS</code> 
                                 </p>
                              </li>
                              <li>
                                 <p><a href="performance-and-scalability.html#GUID-4E0EC973-0E3A-4654-A52E-156CDCCB74E3">Explicitly Marking Sessions Stateful or Stateless</a> for more information about session states
                                 </p>
                              </li>
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=LNOCI72659" target="_blank"><span class="italic">Oracle Call Interface Programmer's Guide</span></a> for more information about <code class="codeph">OCI_ATTR_SESSION_STATE</code> attribute
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADFNS1446"></a><a id="ADFNS72659"></a><div class="props_rev_3"><a id="GUID-4E0EC973-0E3A-4654-A52E-156CDCCB74E3" name="GUID-4E0EC973-0E3A-4654-A52E-156CDCCB74E3"></a><h4 id="ADFNS-GUID-4E0EC973-0E3A-4654-A52E-156CDCCB74E3" class="sect4">Explicitly Marking Sessions Stateful or Stateless</h4>
                  <div>
                     <p>An application typically requires a specific database session for the duration of a unit of work. For this duration, the session is <span class="bold">stateful</span>. After this duration, if the application does not depend on retaining the specific session for subsequent units of work, then the session is <span class="bold">stateless</span>.
                     </p>
                     <p>When an application or caller detects a session's transition from stateful to stateless, or the reverse, the application can explicitly inform OCI of the transition by using the <code class="codeph">OCI_ATTR_SESSION_STATE</code> or <code class="codeph">OCI_SESSION_STATELESS</code> attribute. This information lets OCI and Oracle Database transparently perform scalability optimizations, such as reassigning the session that the application is not using to someone else and then assigning the application a new session when necessary.
                     </p>
                     <div class="infoboxnotealso" id="GUID-4E0EC973-0E3A-4654-A52E-156CDCCB74E3__GUID-3D5C5706-11C5-417B-972D-F7C147D57503">
                        <p class="notep1">See Also:</p>
                        <p><a href="performance-and-scalability.html#GUID-C3C1C26F-3B79-454A-A3AF-D25AAB0F28FE">Using DRCP with Custom Pools</a></p>
                     </div>
                     <p><a href="performance-and-scalability.html#GUID-4E0EC973-0E3A-4654-A52E-156CDCCB74E3__CACIEBBB">Example 3-9</a> shows a code fragment that explicitly marks session states.
                     </p>
                     <div class="example" id="GUID-4E0EC973-0E3A-4654-A52E-156CDCCB74E3__CACIEBBB">
                        <p class="titleinexample">Example 3-9 Explicitly Marking Sessions Stateful or Stateless</p><pre class="pre codeblock"><code>wait_for_transaction_request();
do {
 
ub1 state;
 
/* mark  database session as STATEFUL  */
state = OCI_SESSION_STATEFUL;
checkerr(errhp, OCIAttrSet(usrhp, OCI_HTYPE_SESSION,
        &amp;state, 0, OCI_ATTR_SESSION_STATE, errhp));
/* do database work consisting of one or more related calls to the database */
 
...
 
/* done with database work, mark session as stateless */
state = OCI_SESSION_STATELESS;
checkerr(errhp, OCIAttrSet(usrhp, OCI_HTYPE_SESSION,
         &amp;state, 0,OCI_ATTR_SESSION_STATE, errhp));
 
wait_for_transaction_request();
 
} while(not _done); </code></pre><p>A session obtained from outside the OCI session pool is marked <code class="codeph">OCI_SESSION_STATEFUL</code> and remains <code class="codeph">OCI_SESSION_STATEFUL</code> unless the application explicitly marks it <code class="codeph">OCI_SESSION_STATELESS</code>.
                        </p>
                        <p>A session obtained from the OCI session pool is marked <code class="codeph">OCI_SESSION_STATEFUL</code> by default when the first call is initiated on that session. When the session is released to the pool, it is marked <code class="codeph">OCI_SESSION_STATELESS</code> by default. Therefore, you need not explicitly mark sessions as stateful or stateless when you use the OCI session pool.
                        </p>
                        <div class="infoboxnotealso" id="GUID-4E0EC973-0E3A-4654-A52E-156CDCCB74E3__GUID-9A139A70-4822-4AC0-80C0-95717362E490">
                           <p class="notep1">See Also:</p>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=LNOCI72873" target="_blank"><span class="italic">Oracle Call Interface Programmer's Guide</span></a> for more information about <code class="codeph">OCI_ATTR_SESSION_STATE</code> 
                           </p>
                        </div>
                     </div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADFNS1429"></a><div class="props_rev_3"><a id="GUID-A96FA454-6182-498F-B94D-EC4F7D0858AD" name="GUID-A96FA454-6182-498F-B94D-EC4F7D0858AD"></a><h4 id="ADFNS-GUID-A96FA454-6182-498F-B94D-EC4F7D0858AD" class="sect4">Using DRCP with Oracle Real Application Clusters</h4>
                  <div>
                     <p>Oracle Real Application Clusters (Oracle RAC) is a database option in which a single database is hosted by multiple instances on multiple nodes. When DRCP is configured in a database in an Oracle RAC environment, the pool configuration is applied to each database instance. Starting or stopping the pool on one instance starts or stops the pool on all instances.</p>
                  </div>
               </div><a id="ADFNS1430"></a><div class="props_rev_3"><a id="GUID-D4A5051F-BFCC-470B-A219-C8072BFA33F0" name="GUID-D4A5051F-BFCC-470B-A219-C8072BFA33F0"></a><h4 id="ADFNS-GUID-D4A5051F-BFCC-470B-A219-C8072BFA33F0" class="sect4">Using DRCP with Pluggable Databases</h4>
                  <div>
                     <p>The DRCP in a multitenant container database (CDB) is configured and managed in the root container. You can configure, start, and stop the pool when you are connected to the root container. The pool maintains the pooled servers of different pluggable databases to which the clients are connected using different service names.</p>
                  </div>
               </div><a id="ADFNS1431"></a><div class="props_rev_3"><a id="GUID-E97AEC94-1A4D-4D83-A1D8-3EED0413437C" name="GUID-E97AEC94-1A4D-4D83-A1D8-3EED0413437C"></a><h4 id="ADFNS-GUID-E97AEC94-1A4D-4D83-A1D8-3EED0413437C" class="sect4">DRCP with Data Guard</h4>
                  <div>
                     <p>When operating DRCP in a Data Guard environment:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>On a physical standby database:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>You can start the pool only if the pool is running on the primary database.</p>
                              </li>
                              <li>
                                 <p>You can stop the pool only if the pool is stopped on the primary database.</p>
                              </li>
                              <li>
                                 <p>You cannot configure, restore to defaults, or alter pool parameters.</p>
                              </li>
                           </ul>
                           <p>The preceding restrictions cease to apply to the physical standby database if it becomes the primary database.</p>
                        </li>
                        <li>
                           <p>On a logical standby database, all pool operations are allowed.</p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-18D1F761-0312-48E8-BE6A-0ED17AEDC12E" name="GUID-18D1F761-0312-48E8-BE6A-0ED17AEDC12E"></a><h3 id="ADFNS-GUID-18D1F761-0312-48E8-BE6A-0ED17AEDC12E" class="sect3">Memoptimize Pool</h3>
               <div>
                  <p>This pool optimizes the read operation for select statements</p>
                  <p>Memoptimize Rowstore performs high-performance reads for tables specified with the&nbsp;<code class="codeph">MEMOPTIMIZE FOR READ</code>&nbsp;clause.
                  </p>
                  <div class="p">
                     <div class="infoboxnote" id="GUID-18D1F761-0312-48E8-BE6A-0ED17AEDC12E__GUID-AC28AF5F-0538-46EF-8230-0CF0E10691D3">
                        <p class="notep1">Note:</p>Deferred inserts cannot be rolled back because they do not use standard locking and redo mechanisms
                     </div> 
                  </div>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=CNCPT-GUID-D58DC90F-0ABB-4B1E-96C1-6094A04A5E12" target="_blank"><span><cite>Oracle Database Concepts</cite></span></a></li>
                        <li><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=ARPLS-GUID-49F0E799-97F0-41E7-9CD3-24AE3CAA8105" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a></li>
                        <li><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=SQLRF-GUID-F9CE0CC3-13AE-4744-A43C-EAC7A71AAAB6" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a></li>
                        <li><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=REFRN-GUID-D33BB2FE-94A7-475F-B8C8-CC9AC61B502F" target="_blank"><span><cite>Oracle Database Reference</cite></span></a></li>
                     </ul>
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-F722C73B-2CB0-4876-B699-B68DA6C08CBE" name="GUID-F722C73B-2CB0-4876-B699-B68DA6C08CBE"></a><h3 id="ADFNS-GUID-F722C73B-2CB0-4876-B699-B68DA6C08CBE" class="sect3">Oracle RAC Sharding </h3>
               <div>
                  <p>This section explains about Oracle RAC Sharding</p>
                  <p>Oracle RAC Sharding increases the performance and scalability of a Oracle RAC database with minimal application changes. It affinitizes table partitions to Oracle RAC instances, and routes the database requests, which specify a partitioning key to the instance that logically holds the corresponding partition. This provides better cache utilization and reduces block pings across instances. The partitioning key can be added only to the most performance critical requests. Requests that do not specify the key works transparently and can be routed to any instance. This feature can be enabled by executing an <code class="codeph">ALTER SYSTEM</code> command and without modifying the database schema and SQL statements. 
                  </p>
                  <div class="p">
                     <div class="infoboxnote" id="GUID-F722C73B-2CB0-4876-B699-B68DA6C08CBE__THEPARTITIONINGKEYVALUEMUSTBEPROVID-4AC2F4E8">
                        <p class="notep1">Note:</p>The partitioning key value must be provided when requesting a database connection.
                     </div>
                  </div>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=NETAG-GUID-5EC77A57-1DD5-49E7-85E6-5ABE57B18803" target="_blank"><span><cite>Oracle Database Net Services Administrator's Guide</cite></span></a></li>
                        <li><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=LNOCI-GUID-CEDBD404-E18E-4CCF-88D1-F13DB20EDA9A" target="_blank"><span><cite>Oracle Call Interface Programmer's Guide</cite></span></a></li>
                        <li><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=JJUCP-GUID-3B91E8F7-AE45-4CC8-B87F-6F4FC9EEA001" target="_blank"><span><cite>Oracle Universal Connection Pool Developer’s Guide</cite></span></a></li>
                        <li><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=ODPNT-GUID-D42183C2-3C84-443E-9A92-93EF764D5770" target="_blank"><span><cite>Oracle Data Provider for .NET Developer's Guide for Microsoft Windows</cite></span></a></li>
                        <li><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=RACAD-GUID-1100990E-18BD-4C92-A0C7-3C08C40AAD14" target="_blank"><span><cite>Oracle Real Application Clusters Administration and Deployment Guide</cite></span></a></li>
                        <li><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=CNCPT-GUID-3B87285B-F156-4CDA-87F7-BF4FC0E2EE5E" target="_blank"><span><cite>Oracle Database Concepts</cite></span></a></li>
                        <li><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=ADMIN-GUID-A49CEDDD-49F7-49EF-B83B-74048A63021E" target="_blank"><span><cite>Oracle Database Administrator’s Guide</cite></span></a></li>
                     </ul>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>