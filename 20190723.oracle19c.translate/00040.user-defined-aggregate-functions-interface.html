<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>User-Defined Aggregate Functions Interface</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Data Cartridge Developer's Guide">
      <meta property="og:description" content>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Data Cartridge Developer's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="data-cartridge-developers-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-10T07:34:53-08:00">
      <meta name="dcterms.title" content="Data Cartridge Developer's Guide">
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96431-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="extensible-optimizer-interface.html" title="Previous" type="text/html">
      <link rel="next" href="pipelined-and-parallel-table-functions.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="ADDCI">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="extensible-optimizer-interface.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="pipelined-and-parallel-table-functions.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Data Cartridge Developer's Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="reference.html" property="item" typeof="WebPage"><span property="name">Reference</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">User-Defined Aggregate Functions Interface </li>
            </ol>
            <a id="GUID-76049AC3-03F2-461A-8E5F-EC364AF2169F" name="GUID-76049AC3-03F2-461A-8E5F-EC364AF2169F"></a><a id="ADDCI4220"></a>
            
            <h2 id="ADDCI-GUID-76049AC3-03F2-461A-8E5F-EC364AF2169F" class="sect2"><span class="enumeration_chapter">22 </span>User-Defined Aggregate Functions Interface 
            </h2>
         </header>
         <div class="ind">
            <div>
               <p><a id="d81077e52" class="indexterm-anchor"></a><a id="d81077e54" class="indexterm-anchor"></a><a id="d81077e56" class="indexterm-anchor"></a>These routines must be implemented to define a user-defined aggregate function. The routines are implemented as methods in an object type. Then the <a id="d81077e61" class="indexterm-anchor"></a><code class="codeph">CREATE FUNCTION</code> statement is used to actually create the aggregate function.
               </p>
               <div class="infoboxnotealso" id="GUID-76049AC3-03F2-461A-8E5F-EC364AF2169F__GUID-53802B31-41D4-4E9A-8674-574297789903">
                  <p class="notep1">See Also:</p>
                  <p><a href="using-user-defined-aggregate-functions.html#GUID-D7E77319-DC23-4CF0-B746-27ED7BE9240D"> Using User-Defined Aggregate Functions</a></p>
               </div>
            </div><a id="ADDCI5122"></a><a id="ADDCI5121"></a><div class="props_rev_3"><a id="GUID-532B9DF3-92C7-410D-AE28-8CB70D596D63" name="GUID-532B9DF3-92C7-410D-AE28-8CB70D596D63"></a><h3 id="ADDCI-GUID-532B9DF3-92C7-410D-AE28-8CB70D596D63" class="sect3"><span class="enumeration_section">22.1 </span>User-Defined Aggregate Functions
               </h3>
               <div>
                  <div class="section">
                     <p>The methods described here are implemented as methods in an object type. The <a id="d81077e128" class="indexterm-anchor"></a><code class="codeph">CREATE FUNCTION</code> statement is used to actually create the aggregate function. <a href="user-defined-aggregate-functions-interface.html#GUID-532B9DF3-92C7-410D-AE28-8CB70D596D63__BABGDHGJ" title="Column 1 lists the function; Column 2 provides its description.">Table 22-1</a> summarizes these functions.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-532B9DF3-92C7-410D-AE28-8CB70D596D63__BABGDHGJ">
                     <p class="titleintable">Table 22-1 Summary of User-Defined Aggregate Functions</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="Summary of User-Defined Aggregate Functions" summary="Column 1 lists the function; Column 2 provides its description." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="43%" id="d81077e148">Function</th>
                              <th align="left" valign="bottom" width="57%" id="d81077e151">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="43%" id="d81077e156" headers="d81077e148 ">
                                 <p><a href="user-defined-aggregate-functions-interface.html#GUID-561F78C7-15D4-441D-8473-5F9D73AD310A">ODCIAggregateDelete()</a></p>
                              </td>
                              <td align="left" valign="top" width="57%" headers="d81077e156 d81077e151 ">
                                 <p>Removes an input value from the current group.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="43%" id="d81077e165" headers="d81077e148 ">
                                 <p><a href="user-defined-aggregate-functions-interface.html#GUID-CECC6140-A457-46BF-AC78-D29243758111">ODCIAggregateInitialize()</a></p>
                              </td>
                              <td align="left" valign="top" width="57%" headers="d81077e165 d81077e151 ">
                                 <p>Initializes the aggregation context and instance of the implementation object type, and returns it as an <code class="codeph">OUT</code> parameter.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="43%" id="d81077e177" headers="d81077e148 ">
                                 <p><a href="user-defined-aggregate-functions-interface.html#GUID-6F703759-4FA6-4120-BEC3-F5BD2A576BF4">ODCIAggregateIterate()</a></p>
                              </td>
                              <td align="left" valign="top" width="57%" headers="d81077e177 d81077e151 ">
                                 <p>Iterates through input rows by processing the input values, updating and then returning the aggregation context.</p>
                                 <p><span class="bold">Note</span> : ODCIAggregateIterate is not invoked for null values.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="43%" id="d81077e190" headers="d81077e148 ">
                                 <p><a href="user-defined-aggregate-functions-interface.html#GUID-12D1C061-ECF3-4133-AA24-2C7E2036DF94">ODCIAggregateMerge()</a></p>
                              </td>
                              <td align="left" valign="top" width="57%" headers="d81077e190 d81077e151 ">
                                 <p>Merges two aggregation contexts into a single object instance during either serial or parallel evaluation of the user-defined aggregate.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="43%" id="d81077e199" headers="d81077e148 ">
                                 <p><a href="user-defined-aggregate-functions-interface.html#GUID-881F8137-350A-4C42-994C-490D34C5ECE7">ODCIAggregateTerminate()</a></p>
                              </td>
                              <td align="left" valign="top" width="57%" headers="d81077e199 d81077e151 ">
                                 <p>Calculates the result of the aggregate computation and performs all necessary cleanup, such as freeing memory.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="43%" id="d81077e208" headers="d81077e148 ">
                                 <p><a href="user-defined-aggregate-functions-interface.html#GUID-424482C3-0051-4EE8-9E36-6AEE141F8370">ODCIAggregateWrapContext()</a></p>
                              </td>
                              <td align="left" valign="top" width="57%" headers="d81077e208 d81077e151 ">
                                 <p>Integrates all external pieces of the current aggregation context to make the context self-contained.</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div><a id="ADDCI5124"></a><a id="ADDCI5125"></a><a id="ADDCI5123"></a><div class="props_rev_3"><a id="GUID-561F78C7-15D4-441D-8473-5F9D73AD310A" name="GUID-561F78C7-15D4-441D-8473-5F9D73AD310A"></a><h4 id="ADDCI-GUID-561F78C7-15D4-441D-8473-5F9D73AD310A" class="sect4"><span class="enumeration_section">22.1.1 </span>ODCIAggregateDelete()
                  </h4>
                  <div>
                     <div class="section">
                        <p>Removes an input value from the current group. The routine is invoked by Oracle by passing in the aggregation context and the value of the input to be removed during It processes the input value, updates the aggregation context, and returns the context. This is an optional routine and is implemented as a member method.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-561F78C7-15D4-441D-8473-5F9D73AD310A__GUID-9E4194F9-8B26-4E41-9B39-829D4BE97A56">Syntax</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">MEMBER FUNCTION ODCIAggregateDelete(
&nbsp;&nbsp;&nbsp;self IN OUT &lt;impltype&gt;, 
&nbsp;&nbsp;&nbsp;val &lt;inputdatatype&gt;) 
RETURN NUMBER</pre></div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-561F78C7-15D4-441D-8473-5F9D73AD310A__GUID-63198801-26AD-49ED-A4D8-D7F58B9D47C6">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="First column lists a parameter; second column indicates the IN or OUT binding of the parameter, the third column describes the parameter." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="15%" id="d81077e302">Parameter</th>
                                 <th align="left" valign="bottom" width="11%" id="d81077e305">IN/OUT</th>
                                 <th align="left" valign="bottom" width="74%" id="d81077e308">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="15%" id="d81077e313" headers="d81077e302 "><pre class="oac_no_warn" dir="ltr">self</pre></td>
                                 <td align="left" valign="top" width="11%" headers="d81077e313 d81077e305 "><pre class="oac_no_warn" dir="ltr">IN OUT</pre></td>
                                 <td align="left" valign="top" width="74%" headers="d81077e313 d81077e308 ">
                                    <p>As input, the value of the current aggregation context; as output, the updated value.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="15%" id="d81077e323" headers="d81077e302 "><pre class="oac_no_warn" dir="ltr">val</pre></td>
                                 <td align="left" valign="top" width="11%" headers="d81077e323 d81077e305 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                                 <td align="left" valign="top" width="74%" headers="d81077e323 d81077e308 ">
                                    <p>The input value that is being removed from the current group.</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-561F78C7-15D4-441D-8473-5F9D73AD310A__GUID-6AF83306-0B87-41BD-B1C3-D267DC4A2FE0">Returns</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><code class="codeph">ODCIConst.Success</code> on success, or <code class="codeph">ODCIConst.Error</code> on error.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADDCI5127"></a><a id="ADDCI5128"></a><a id="ADDCI5126"></a><div class="props_rev_3"><a id="GUID-CECC6140-A457-46BF-AC78-D29243758111" name="GUID-CECC6140-A457-46BF-AC78-D29243758111"></a><h4 id="ADDCI-GUID-CECC6140-A457-46BF-AC78-D29243758111" class="sect4"><span class="enumeration_section">22.1.2 </span>ODCIAggregateInitialize()
                  </h4>
                  <div>
                     <div class="section">
                        <p>Initializes the aggregation context and instance of the implementation object type, and returns it as an <code class="codeph">OUT</code> parameter. Implement this routine as a static method.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CECC6140-A457-46BF-AC78-D29243758111__GUID-6B25A4E9-2479-4B79-800C-2201E2ECB649">Syntax</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">STATIC FUNCTION ODCIAggregateInitialize(
&nbsp;&nbsp;&nbsp;actx IN OUT &lt;impltype&gt;) 
RETURN NUMBER</pre></div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-CECC6140-A457-46BF-AC78-D29243758111__GUID-49732FDF-C051-4E75-AA78-E6D9BC733F09">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="First column lists a parameter; second column indicates the IN or OUT binding of the parameter, the third column describes the parameter." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="15%" id="d81077e432">Parameter</th>
                                 <th align="left" valign="bottom" width="11%" id="d81077e435">In/Out</th>
                                 <th align="left" valign="bottom" width="74%" id="d81077e438">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="15%" id="d81077e443" headers="d81077e432 "><pre class="oac_no_warn" dir="ltr">actx</pre></td>
                                 <td align="left" valign="top" width="11%" headers="d81077e443 d81077e435 "><pre class="oac_no_warn" dir="ltr">IN OUT</pre></td>
                                 <td align="left" valign="top" width="74%" headers="d81077e443 d81077e438 ">
                                    <p>The aggregation context that is initialized by the routine. This value is <code class="codeph">NULL</code> for regular aggregation cases. In aggregation over windows, <code class="codeph">actx</code> is the context of the previous window. This object instance is passed in as a parameter to the next aggregation routine.
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CECC6140-A457-46BF-AC78-D29243758111__GUID-FF955A94-63D1-4538-B6DF-11586A6463DC">Returns</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><code class="codeph">ODCIConst.Success</code> on success, or <code class="codeph">ODCIConst.Error</code> on error.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADDCI5130"></a><a id="ADDCI5131"></a><a id="ADDCI5129"></a><div class="props_rev_3"><a id="GUID-6F703759-4FA6-4120-BEC3-F5BD2A576BF4" name="GUID-6F703759-4FA6-4120-BEC3-F5BD2A576BF4"></a><h4 id="ADDCI-GUID-6F703759-4FA6-4120-BEC3-F5BD2A576BF4" class="sect4"><span class="enumeration_section">22.1.3 </span>ODCIAggregateIterate()
                  </h4>
                  <div>
                     <div class="section">
                        <p>Iterates through input rows by processing the input values, updating and then returning the aggregation context. This is a mandatory routine and is implemented as a member method.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6F703759-4FA6-4120-BEC3-F5BD2A576BF4__GUID-6BF68A70-7952-4797-9062-93D0781F303C">Syntax</p><pre class="oac_no_warn" dir="ltr">MEMBER FUNCTION ODCIAggregateIterate(
&nbsp;&nbsp;&nbsp;self IN OUT &lt;impltype&gt;, 
&nbsp;&nbsp;&nbsp;val &lt;inputdatatype&gt;) 
RETURN NUMBER</pre></div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-6F703759-4FA6-4120-BEC3-F5BD2A576BF4__GUID-1CB59A24-7E07-4A7E-AFE0-8E787D3B7F22">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="First column lists a parameter; second column indicates the IN or OUT binding of the parameter, the third column describes the parameter." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="15%" id="d81077e555">Parameter</th>
                                 <th align="left" valign="bottom" width="11%" id="d81077e558">IN/OUT</th>
                                 <th align="left" valign="bottom" width="74%" id="d81077e561">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="15%" id="d81077e566" headers="d81077e555 "><pre class="oac_no_warn" dir="ltr">self</pre></td>
                                 <td align="left" valign="top" width="11%" headers="d81077e566 d81077e558 "><pre class="oac_no_warn" dir="ltr">IN OUT</pre></td>
                                 <td align="left" valign="top" width="74%" headers="d81077e566 d81077e561 ">
                                    <p>As input, the value of the current aggregation context; as output, the updated value.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="15%" id="d81077e576" headers="d81077e555 "><pre class="oac_no_warn" dir="ltr">val</pre></td>
                                 <td align="left" valign="top" width="11%" headers="d81077e576 d81077e558 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                                 <td align="left" valign="top" width="74%" headers="d81077e576 d81077e561 ">
                                    <p>The input value that is being aggregated.</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6F703759-4FA6-4120-BEC3-F5BD2A576BF4__GUID-818ECDBE-A89B-407C-9069-45BA64365D99">Returns</p>
                        <p><code class="codeph">ODCIConst.Success</code> on success, or <code class="codeph">ODCIConst.Error</code> on error.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADDCI5133"></a><a id="ADDCI5134"></a><a id="ADDCI5132"></a><div class="props_rev_3"><a id="GUID-12D1C061-ECF3-4133-AA24-2C7E2036DF94" name="GUID-12D1C061-ECF3-4133-AA24-2C7E2036DF94"></a><h4 id="ADDCI-GUID-12D1C061-ECF3-4133-AA24-2C7E2036DF94" class="sect4"><span class="enumeration_section">22.1.4 </span>ODCIAggregateMerge()
                  </h4>
                  <div>
                     <div class="section">
                        <p>Merges two aggregation contexts into a single object instance during either serial or parallel evaluation of the user-defined aggregate. This is a mandatory routine and is implemented as a member method.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-12D1C061-ECF3-4133-AA24-2C7E2036DF94__GUID-D96E1429-82E9-4C46-914E-D2B11AC7712F">Syntax</p><pre class="oac_no_warn" dir="ltr">MEMBER FUNCTION ODCIAggregateMerge(
&nbsp;&nbsp;&nbsp;self IN OUT &lt;impltype&gt;, 
&nbsp;&nbsp;&nbsp;ctx2 IN &lt;impltype&gt;)
RETURN NUMBER</pre></div>
                     <!-- class="section" -->
                     <div class="section"></div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-12D1C061-ECF3-4133-AA24-2C7E2036DF94__GUID-FD2DB9B5-3D3A-441F-AB0C-024EABF2EE23">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="First column lists a parameter; second column indicates the IN or OUT binding of the parameter, the third column describes the parameter." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="15%" id="d81077e681">Parameter</th>
                                 <th align="left" valign="bottom" width="11%" id="d81077e684">IN/OUT</th>
                                 <th align="left" valign="bottom" width="74%" id="d81077e687">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="15%" id="d81077e692" headers="d81077e681 "><pre class="oac_no_warn" dir="ltr">self</pre></td>
                                 <td align="left" valign="top" width="11%" headers="d81077e692 d81077e684 "><pre class="oac_no_warn" dir="ltr">IN OUT</pre></td>
                                 <td align="left" valign="top" width="74%" headers="d81077e692 d81077e687 ">
                                    <p>On input, the value of the first aggregation context; on output, the resulting value of the two merged aggregation contexts.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="15%" id="d81077e702" headers="d81077e681 "><pre class="oac_no_warn" dir="ltr">ctx2</pre></td>
                                 <td align="left" valign="top" width="11%" headers="d81077e702 d81077e684 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                                 <td align="left" valign="top" width="74%" headers="d81077e702 d81077e687 ">
                                    <p>The value of the second aggregation context.</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-12D1C061-ECF3-4133-AA24-2C7E2036DF94__GUID-C5E1E170-A7E1-4C2E-ADD6-41C901376EAB">Returns</p>
                        <p><code class="codeph">ODCIConst.Success</code> on success, or <code class="codeph">ODCIConst.Error</code> on error.
                        </p>
                        <p>If the user-defined aggregate is a window function, and it is not possible to make an implementation of  ODCIAggregateMerge(), <code class="codeph">ODCIConst.Error</code>should be returned. This error is translated as an Oracle user error. 
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADDCI5136"></a><a id="ADDCI5137"></a><a id="ADDCI5135"></a><div class="props_rev_3"><a id="GUID-881F8137-350A-4C42-994C-490D34C5ECE7" name="GUID-881F8137-350A-4C42-994C-490D34C5ECE7"></a><h4 id="ADDCI-GUID-881F8137-350A-4C42-994C-490D34C5ECE7" class="sect4"><span class="enumeration_section">22.1.5 </span>ODCIAggregateTerminate()
                  </h4>
                  <div>
                     <div class="section">
                        <p>Calculates the result of the aggregate computation and performs all necessary cleanup, such as freeing memory. Invoked by Oracle as the last step of aggregate computation. This is a mandatory routine and is implemented as a member method.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-881F8137-350A-4C42-994C-490D34C5ECE7__GUID-0958308B-7350-4E32-8DDD-6E27C6552B56">Syntax</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">MEMBER FUNCTION ODCIAggregateTerminate(
&nbsp;&nbsp;&nbsp;self IN &lt;impltype&gt;, 
&nbsp;&nbsp;&nbsp;ReturnValue OUT &lt;return_type&gt;, 
&nbsp;&nbsp;&nbsp;flags IN number) 
RETURN NUMBER</pre></div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-881F8137-350A-4C42-994C-490D34C5ECE7__GUID-8C9C5CFD-BE1F-433B-8033-CA87FA633A39">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="First column lists a parameter; second column indicates the IN or OUT binding of the parameter, the third column describes the parameter." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="15%" id="d81077e812">Parameter</th>
                                 <th align="left" valign="bottom" width="11%" id="d81077e815">IN/OUT</th>
                                 <th align="left" valign="bottom" width="74%" id="d81077e818">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="15%" id="d81077e823" headers="d81077e812 "><pre class="oac_no_warn" dir="ltr">self</pre></td>
                                 <td align="left" valign="top" width="11%" headers="d81077e823 d81077e815 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                                 <td align="left" valign="top" width="74%" headers="d81077e823 d81077e818 ">
                                    <p>The value of the aggregation context.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="15%" id="d81077e833" headers="d81077e812 "><pre class="oac_no_warn" dir="ltr">ctx2</pre></td>
                                 <td align="left" valign="top" width="11%" headers="d81077e833 d81077e815 "><pre class="oac_no_warn" dir="ltr">OUT</pre></td>
                                 <td align="left" valign="top" width="74%" headers="d81077e833 d81077e818 ">
                                    <p>The resultant aggregation value.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="15%" id="d81077e843" headers="d81077e812 "><pre class="oac_no_warn" dir="ltr">flags</pre></td>
                                 <td align="left" valign="top" width="11%" headers="d81077e843 d81077e815 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                                 <td align="left" valign="top" width="74%" headers="d81077e843 d81077e818 ">
                                    <p>A bit vector that indicates various options. A set bit of <code class="codeph">ODCI_AGGREGATE_REUSE_CTX</code> indicates that the context is reused and any external context should not be freed.
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-881F8137-350A-4C42-994C-490D34C5ECE7__GUID-8BDAED80-64E0-4148-9760-C3C5A2844D4F">Returns</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><code class="codeph">ODCIConst.Success</code> on success, or <code class="codeph">ODCIConst.Error</code> on error.
                        </p>
                        <div class="infoboxnotealso" id="GUID-881F8137-350A-4C42-994C-490D34C5ECE7__GUID-5BEFE886-6C5F-40E0-BF76-985CC99666D3">
                           <p class="notep1">See Also:</p>
                           <p><span class="q">"<a href="using-user-defined-aggregate-functions.html#GUID-FD1CCD4C-A2B6-47EE-85E9-20BC01C69949">Reuse of Aggregation Context for Analytic Functions</a>"</span>  for details on setting the <code class="codeph">ODCI_AGGREGATE_REUSE_CTX</code> flag bit.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADDCI5139"></a><a id="ADDCI5140"></a><a id="ADDCI5138"></a><div class="props_rev_3"><a id="GUID-424482C3-0051-4EE8-9E36-6AEE141F8370" name="GUID-424482C3-0051-4EE8-9E36-6AEE141F8370"></a><h4 id="ADDCI-GUID-424482C3-0051-4EE8-9E36-6AEE141F8370" class="sect4"><span class="enumeration_section">22.1.6 </span>ODCIAggregateWrapContext()
                  </h4>
                  <div>
                     <div class="section">
                        <p>Integrates all external pieces of the current aggregation context to make the context self-contained. Invoked by Oracle if the user-defined aggregate has been declared to have external context and is transmitting partial aggregates from slave processes. This is an optional routine and is implemented as a member method.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-424482C3-0051-4EE8-9E36-6AEE141F8370__GUID-145F9582-DCB3-4258-B17C-A9A558A05BE8">Syntax</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">MEMBER FUNCTION ODCIAggregateWrapContext(
&nbsp;&nbsp;&nbsp;self IN OUT &lt;impltype&gt;) 
RETURN NUMBER</pre></div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-424482C3-0051-4EE8-9E36-6AEE141F8370__GUID-93846762-1570-4755-89AF-6736765F64D5">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="First column lists a parameter; second column indicates the IN or OUT binding of the parameter, the third column describes the parameter." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="15%" id="d81077e963">Parameter</th>
                                 <th align="left" valign="bottom" width="11%" id="d81077e966">IN/OUT</th>
                                 <th align="left" valign="bottom" width="74%" id="d81077e969">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="15%" id="d81077e974" headers="d81077e963 "><pre class="oac_no_warn" dir="ltr">self</pre></td>
                                 <td align="left" valign="top" width="11%" headers="d81077e974 d81077e966 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                                 <td align="left" valign="top" width="74%" headers="d81077e974 d81077e969 ">
                                    <p>On input, the value of the current aggregation context; on output, the self-contained combined aggregation context.</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-424482C3-0051-4EE8-9E36-6AEE141F8370__GUID-5446FF3F-2016-482C-9E6E-DCF111BAC361">Returns</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><code class="codeph">ODCIConst.Success</code> on success, or <code class="codeph">ODCIConst.Error</code> on error.
                        </p>
                        <div class="infoboxnotealso" id="GUID-424482C3-0051-4EE8-9E36-6AEE141F8370__GUID-0F1B5745-B356-4F55-BE8D-966826ED0E57">
                           <p class="notep1">See Also:</p>
                           <p><span class="q">"<a href="using-user-defined-aggregate-functions.html#GUID-E6D8A0B9-540C-41A7-B031-09958739E940">Handling Large Aggregation Contexts</a>"</span> for more information on using this function
                           </p>
                        </div>
                        <p></p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>