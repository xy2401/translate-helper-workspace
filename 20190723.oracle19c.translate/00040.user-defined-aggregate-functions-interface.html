<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>用户定义的聚合函数接口</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Data Cartridge Developer&#39;s Guide"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Data Cartridge Developer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="data-cartridge-developers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-10T07:34:53-08:00"></meta>
      <meta name="dcterms.title" content="Data Cartridge Developer&#39;s Guide"></meta>
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96431-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="extensible-optimizer-interface.html" title="Previous" type="text/html"></link>
      <link rel="next" href="pipelined-and-parallel-table-functions.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="ADDCI"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="extensible-optimizer-interface.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="pipelined-and-parallel-table-functions.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">数据盒式开发人员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="reference.html" property="item" typeof="WebPage"><span property="name">参考</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">用户定义的聚合函数接口</li>
            </ol>
            <a id="GUID-76049AC3-03F2-461A-8E5F-EC364AF2169F" name="GUID-76049AC3-03F2-461A-8E5F-EC364AF2169F"></a><a id="ADDCI4220"></a>
            
            <h2 id="ADDCI-GUID-76049AC3-03F2-461A-8E5F-EC364AF2169F" class="sect2"><span class="enumeration_chapter">22个</span>用户定义的聚合函数接口</h2>
         </header>
         <div class="ind">
            <div>
               <p><a id="d81077e52" class="indexterm-anchor"></a><a id="d81077e54" class="indexterm-anchor"></a><a id="d81077e56" class="indexterm-anchor"></a>必须实现这些例程以定义用户定义的聚合函数。例程实现为对象类型中的方法。那么<a id="d81077e61" class="indexterm-anchor"></a> <code class="codeph">CREATE FUNCTION</code>语句用于实际创建聚合函数。
               </p>
               <div class="infoboxnotealso" id="GUID-76049AC3-03F2-461A-8E5F-EC364AF2169F__GUID-53802B31-41D4-4E9A-8674-574297789903">
                  <p class="notep1">也可以看看：</p>
                  <p><a href="using-user-defined-aggregate-functions.html#GUID-D7E77319-DC23-4CF0-B746-27ED7BE9240D">使用用户定义的聚合函数</a></p>
               </div>
            </div><a id="ADDCI5122"></a><a id="ADDCI5121"></a><div class="props_rev_3"><a id="GUID-532B9DF3-92C7-410D-AE28-8CB70D596D63" name="GUID-532B9DF3-92C7-410D-AE28-8CB70D596D63"></a><h3 id="ADDCI-GUID-532B9DF3-92C7-410D-AE28-8CB70D596D63" class="sect3"><span class="enumeration_section">22.1</span>用户定义的聚合函数</h3>
               <div>
                  <div class="section">
                     <p>这里描述的方法被实现为对象类型中的方法。该<a id="d81077e128" class="indexterm-anchor"></a> <code class="codeph">CREATE FUNCTION</code>语句用于实际创建聚合函数。<a href="user-defined-aggregate-functions-interface.html#GUID-532B9DF3-92C7-410D-AE28-8CB70D596D63__BABGDHGJ" title="第1列列出了该功能;第2列提供了其描述。">表22-1</a>总结了这些功能。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-532B9DF3-92C7-410D-AE28-8CB70D596D63__BABGDHGJ">
                     <p class="titleintable">表22-1用户定义的聚合函数摘要</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="用户定义的聚合函数摘要" width="100%" border="1" summary="Column 1 lists the function; Column 2 provides its description." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="43%" id="d81077e148">功能</th>
                              <th align="left" valign="bottom" width="57%" id="d81077e151">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="43%" id="d81077e156" headers="d81077e148 ">
                                 <p><a href="user-defined-aggregate-functions-interface.html#GUID-561F78C7-15D4-441D-8473-5F9D73AD310A">ODCIAggregateDelete（）</a></p>
                              </td>
                              <td align="left" valign="top" width="57%" headers="d81077e156 d81077e151 ">
                                 <p>从当前组中删除输入值。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="43%" id="d81077e165" headers="d81077e148 ">
                                 <p><a href="user-defined-aggregate-functions-interface.html#GUID-CECC6140-A457-46BF-AC78-D29243758111">ODCIAggregateInitialize（）</a></p>
                              </td>
                              <td align="left" valign="top" width="57%" headers="d81077e165 d81077e151 ">
                                 <p>初始化实现对象类型的聚合上下文和实例，并将其作为<code class="codeph">OUT</code>参数返回。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="43%" id="d81077e177" headers="d81077e148 ">
                                 <p><a href="user-defined-aggregate-functions-interface.html#GUID-6F703759-4FA6-4120-BEC3-F5BD2A576BF4">ODCIAggregateIterate（）</a></p>
                              </td>
                              <td align="left" valign="top" width="57%" headers="d81077e177 d81077e151 ">
                                 <p>通过处理输入值，更新然后返回聚合上下文来迭代输入行。</p>
                                 <p><span class="bold">注意</span> ：不会为空值调用ODCIAggregateIterate。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="43%" id="d81077e190" headers="d81077e148 ">
                                 <p><a href="user-defined-aggregate-functions-interface.html#GUID-12D1C061-ECF3-4133-AA24-2C7E2036DF94">ODCIAggregateMerge（）</a></p>
                              </td>
                              <td align="left" valign="top" width="57%" headers="d81077e190 d81077e151 ">
                                 <p>在对用户定义的聚合进行串行或并行评估期间，将两个聚合上下文合并为单个对象实例。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="43%" id="d81077e199" headers="d81077e148 ">
                                 <p><a href="user-defined-aggregate-functions-interface.html#GUID-881F8137-350A-4C42-994C-490D34C5ECE7">ODCIAggregateTerminate（）</a></p>
                              </td>
                              <td align="left" valign="top" width="57%" headers="d81077e199 d81077e151 ">
                                 <p>计算聚合计算的结果并执行所有必要的清理，例如释放内存。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="43%" id="d81077e208" headers="d81077e148 ">
                                 <p><a href="user-defined-aggregate-functions-interface.html#GUID-424482C3-0051-4EE8-9E36-6AEE141F8370">ODCIAggregateWrapContext（）</a></p>
                              </td>
                              <td align="left" valign="top" width="57%" headers="d81077e208 d81077e151 ">
                                 <p>集成当前聚合上下文的所有外部部分，以使上下文自包含。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div><a id="ADDCI5124"></a><a id="ADDCI5125"></a><a id="ADDCI5123"></a><div class="props_rev_3"><a id="GUID-561F78C7-15D4-441D-8473-5F9D73AD310A" name="GUID-561F78C7-15D4-441D-8473-5F9D73AD310A"></a><h4 id="ADDCI-GUID-561F78C7-15D4-441D-8473-5F9D73AD310A" class="sect4"><span class="enumeration_section">22.1.1</span> ODCIAggregateDelete（）</h4>
                  <div>
                     <div class="section">
                        <p>从当前组中删除输入值。Oracle通过传入聚合上下文和要在其处理输入值，更新聚合上下文并返回上下文期间要删除的输入值来调用例程。这是一个可选例程，并作为成员方法实现。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-561F78C7-15D4-441D-8473-5F9D73AD310A__GUID-9E4194F9-8B26-4E41-9B39-829D4BE97A56">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">成员函数ODCIAggregateDelete（自我IN OUT &lt;impltype&gt;，val &lt;inputdatatype&gt;）返回数字</pre></div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-561F78C7-15D4-441D-8473-5F9D73AD310A__GUID-63198801-26AD-49ED-A4D8-D7F58B9D47C6">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="First column lists a parameter; second column indicates the IN or OUT binding of the parameter, the third column describes the parameter." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="15%" id="d81077e302">参数</th>
                                 <th align="left" valign="bottom" width="11%" id="d81077e305">进出</th>
                                 <th align="left" valign="bottom" width="74%" id="d81077e308">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="15%" id="d81077e313" headers="d81077e302 "><pre class="oac_no_warn" dir="ltr">自</pre></td>
                                 <td align="left" valign="top" width="11%" headers="d81077e313 d81077e305 "><pre class="oac_no_warn" dir="ltr">进出</pre></td>
                                 <td align="left" valign="top" width="74%" headers="d81077e313 d81077e308 ">
                                    <p>作为输入，当前聚合上下文的值;作为输出，更新的值。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="15%" id="d81077e323" headers="d81077e302 "><pre class="oac_no_warn" dir="ltr">VAL</pre></td>
                                 <td align="left" valign="top" width="11%" headers="d81077e323 d81077e305 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                                 <td align="left" valign="top" width="74%" headers="d81077e323 d81077e308 ">
                                    <p>要从当前组中删除的输入值。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-561F78C7-15D4-441D-8473-5F9D73AD310A__GUID-6AF83306-0B87-41BD-B1C3-D267DC4A2FE0">返回</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><code class="codeph">ODCIConst。Success</code>的成功，或<code class="codeph">ODCIConst.Error</code>时出错。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADDCI5127"></a><a id="ADDCI5128"></a><a id="ADDCI5126"></a><div class="props_rev_3"><a id="GUID-CECC6140-A457-46BF-AC78-D29243758111" name="GUID-CECC6140-A457-46BF-AC78-D29243758111"></a><h4 id="ADDCI-GUID-CECC6140-A457-46BF-AC78-D29243758111" class="sect4"><span class="enumeration_section">22.1.2</span> ODCIAggregateInitialize（）</h4>
                  <div>
                     <div class="section">
                        <p>初始化实现对象类型的聚合上下文和实例，并将其作为<code class="codeph">OUT</code>参数返回。将此例程实现为静态方法。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CECC6140-A457-46BF-AC78-D29243758111__GUID-6B25A4E9-2479-4B79-800C-2201E2ECB649">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">静态功能ODCIAggregateInitialize（actx IN OUT &lt;impltype&gt;）返回编号</pre></div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-CECC6140-A457-46BF-AC78-D29243758111__GUID-49732FDF-C051-4E75-AA78-E6D9BC733F09">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="First column lists a parameter; second column indicates the IN or OUT binding of the parameter, the third column describes the parameter." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="15%" id="d81077e432">参数</th>
                                 <th align="left" valign="bottom" width="11%" id="d81077e435">进出</th>
                                 <th align="left" valign="bottom" width="74%" id="d81077e438">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="15%" id="d81077e443" headers="d81077e432 "><pre class="oac_no_warn" dir="ltr">ACTX</pre></td>
                                 <td align="left" valign="top" width="11%" headers="d81077e443 d81077e435 "><pre class="oac_no_warn" dir="ltr">进出</pre></td>
                                 <td align="left" valign="top" width="74%" headers="d81077e443 d81077e438 ">
                                    <p>由例程初始化的聚合上下文。对于常规聚合情况，此值为<code class="codeph">NULL</code> 。在通过窗口聚合时， <code class="codeph">actx</code>是上一个窗口的上下文。此对象实例作为参数传递给下一个聚合例程。
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CECC6140-A457-46BF-AC78-D29243758111__GUID-FF955A94-63D1-4538-B6DF-11586A6463DC">返回</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><code class="codeph">ODCIConst。Success</code>的成功，或<code class="codeph">ODCIConst.Error</code>时出错。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADDCI5130"></a><a id="ADDCI5131"></a><a id="ADDCI5129"></a><div class="props_rev_3"><a id="GUID-6F703759-4FA6-4120-BEC3-F5BD2A576BF4" name="GUID-6F703759-4FA6-4120-BEC3-F5BD2A576BF4"></a><h4 id="ADDCI-GUID-6F703759-4FA6-4120-BEC3-F5BD2A576BF4" class="sect4"><span class="enumeration_section">22.1.3</span> ODCIAggregateIterate（）</h4>
                  <div>
                     <div class="section">
                        <p>通过处理输入值，更新然后返回聚合上下文来迭代输入行。这是一个强制性例程，并作为成员方法实现。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6F703759-4FA6-4120-BEC3-F5BD2A576BF4__GUID-6BF68A70-7952-4797-9062-93D0781F303C">句法</p><pre class="oac_no_warn" dir="ltr">成员函数ODCIAggregateIterate（自IN OUT &lt;impltype&gt;，val &lt;inputdatatype&gt;）返回编号</pre></div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-6F703759-4FA6-4120-BEC3-F5BD2A576BF4__GUID-1CB59A24-7E07-4A7E-AFE0-8E787D3B7F22">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="First column lists a parameter; second column indicates the IN or OUT binding of the parameter, the third column describes the parameter." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="15%" id="d81077e555">参数</th>
                                 <th align="left" valign="bottom" width="11%" id="d81077e558">进出</th>
                                 <th align="left" valign="bottom" width="74%" id="d81077e561">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="15%" id="d81077e566" headers="d81077e555 "><pre class="oac_no_warn" dir="ltr">自</pre></td>
                                 <td align="left" valign="top" width="11%" headers="d81077e566 d81077e558 "><pre class="oac_no_warn" dir="ltr">进出</pre></td>
                                 <td align="left" valign="top" width="74%" headers="d81077e566 d81077e561 ">
                                    <p>作为输入，当前聚合上下文的值;作为输出，更新的值。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="15%" id="d81077e576" headers="d81077e555 "><pre class="oac_no_warn" dir="ltr">VAL</pre></td>
                                 <td align="left" valign="top" width="11%" headers="d81077e576 d81077e558 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                                 <td align="left" valign="top" width="74%" headers="d81077e576 d81077e561 ">
                                    <p>正在聚合的输入值。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6F703759-4FA6-4120-BEC3-F5BD2A576BF4__GUID-818ECDBE-A89B-407C-9069-45BA64365D99">返回</p>
                        <p><code class="codeph">ODCIConst。Success</code>的成功，或<code class="codeph">ODCIConst.Error</code>时出错。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADDCI5133"></a><a id="ADDCI5134"></a><a id="ADDCI5132"></a><div class="props_rev_3"><a id="GUID-12D1C061-ECF3-4133-AA24-2C7E2036DF94" name="GUID-12D1C061-ECF3-4133-AA24-2C7E2036DF94"></a><h4 id="ADDCI-GUID-12D1C061-ECF3-4133-AA24-2C7E2036DF94" class="sect4"><span class="enumeration_section">22.1.4</span> ODCIAggregateMerge（）</h4>
                  <div>
                     <div class="section">
                        <p>在对用户定义的聚合进行串行或并行评估期间，将两个聚合上下文合并为单个对象实例。这是一个强制性例程，并作为成员方法实现。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-12D1C061-ECF3-4133-AA24-2C7E2036DF94__GUID-D96E1429-82E9-4C46-914E-D2B11AC7712F">句法</p><pre class="oac_no_warn" dir="ltr">成员函数ODCIAggregateMerge（自我IN OUT &lt;impltype&gt;，ctx2 IN &lt;impltype&gt;）返回数字</pre></div>
                     <!-- class="section" -->
                     <div class="section"></div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-12D1C061-ECF3-4133-AA24-2C7E2036DF94__GUID-FD2DB9B5-3D3A-441F-AB0C-024EABF2EE23">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="First column lists a parameter; second column indicates the IN or OUT binding of the parameter, the third column describes the parameter." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="15%" id="d81077e681">参数</th>
                                 <th align="left" valign="bottom" width="11%" id="d81077e684">进出</th>
                                 <th align="left" valign="bottom" width="74%" id="d81077e687">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="15%" id="d81077e692" headers="d81077e681 "><pre class="oac_no_warn" dir="ltr">自</pre></td>
                                 <td align="left" valign="top" width="11%" headers="d81077e692 d81077e684 "><pre class="oac_no_warn" dir="ltr">进出</pre></td>
                                 <td align="left" valign="top" width="74%" headers="d81077e692 d81077e687 ">
                                    <p>输入时，第一个聚合上下文的值;在输出上，两个合并聚合上下文的结果值。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="15%" id="d81077e702" headers="d81077e681 "><pre class="oac_no_warn" dir="ltr">ctx2</pre></td>
                                 <td align="left" valign="top" width="11%" headers="d81077e702 d81077e684 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                                 <td align="left" valign="top" width="74%" headers="d81077e702 d81077e687 ">
                                    <p>第二个聚合上下文的值。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-12D1C061-ECF3-4133-AA24-2C7E2036DF94__GUID-C5E1E170-A7E1-4C2E-ADD6-41C901376EAB">返回</p>
                        <p><code class="codeph">ODCIConst。Success</code>的成功，或<code class="codeph">ODCIConst.Error</code>时出错。
                        </p>
                        <p>如果用户定义的聚合是窗口函数，则无法实现ODCIAggregateMerge（）， <code class="codeph">ODCIConst.应该返回Error</code> 。此错误被转换为Oracle用户错误。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADDCI5136"></a><a id="ADDCI5137"></a><a id="ADDCI5135"></a><div class="props_rev_3"><a id="GUID-881F8137-350A-4C42-994C-490D34C5ECE7" name="GUID-881F8137-350A-4C42-994C-490D34C5ECE7"></a><h4 id="ADDCI-GUID-881F8137-350A-4C42-994C-490D34C5ECE7" class="sect4"><span class="enumeration_section">22.1.5</span> ODCIAggregateTerminate（）</h4>
                  <div>
                     <div class="section">
                        <p>计算聚合计算的结果并执行所有必要的清理，例如释放内存。由Oracle调用作为聚合计算的最后一步。这是一个强制性例程，并作为成员方法实现。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-881F8137-350A-4C42-994C-490D34C5ECE7__GUID-0958308B-7350-4E32-8DDD-6E27C6552B56">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">成员函数ODCIAggregateTerminate（自我IN &lt;impltype&gt;，ReturnValue OUT &lt;return_type&gt;，标志IN编号）返回编号</pre></div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-881F8137-350A-4C42-994C-490D34C5ECE7__GUID-8C9C5CFD-BE1F-433B-8033-CA87FA633A39">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="First column lists a parameter; second column indicates the IN or OUT binding of the parameter, the third column describes the parameter." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="15%" id="d81077e812">参数</th>
                                 <th align="left" valign="bottom" width="11%" id="d81077e815">进出</th>
                                 <th align="left" valign="bottom" width="74%" id="d81077e818">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="15%" id="d81077e823" headers="d81077e812 "><pre class="oac_no_warn" dir="ltr">自</pre></td>
                                 <td align="left" valign="top" width="11%" headers="d81077e823 d81077e815 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                                 <td align="left" valign="top" width="74%" headers="d81077e823 d81077e818 ">
                                    <p>聚合上下文的值。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="15%" id="d81077e833" headers="d81077e812 "><pre class="oac_no_warn" dir="ltr">ctx2</pre></td>
                                 <td align="left" valign="top" width="11%" headers="d81077e833 d81077e815 "><pre class="oac_no_warn" dir="ltr">OUT</pre></td>
                                 <td align="left" valign="top" width="74%" headers="d81077e833 d81077e818 ">
                                    <p>得到的聚合值。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="15%" id="d81077e843" headers="d81077e812 "><pre class="oac_no_warn" dir="ltr">旗</pre></td>
                                 <td align="left" valign="top" width="11%" headers="d81077e843 d81077e815 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                                 <td align="left" valign="top" width="74%" headers="d81077e843 d81077e818 ">
                                    <p>一个指示各种选项的位向量。<code class="codeph">ODCI_AGGREGATE_REUSE_CTX</code>的设置位指示重用上下文并且不应释放任何外部上下文。
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-881F8137-350A-4C42-994C-490D34C5ECE7__GUID-8BDAED80-64E0-4148-9760-C3C5A2844D4F">返回</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><code class="codeph">ODCIConst。Success</code>的成功，或<code class="codeph">ODCIConst.Error</code>时出错。
                        </p>
                        <div class="infoboxnotealso" id="GUID-881F8137-350A-4C42-994C-490D34C5ECE7__GUID-5BEFE886-6C5F-40E0-BF76-985CC99666D3">
                           <p class="notep1">也可以看看：</p>
                           <p><span class="q">“ <a href="using-user-defined-aggregate-functions.html#GUID-FD1CCD4C-A2B6-47EE-85E9-20BC01C69949">重用分析函数的聚合上下文</a> ”</span>以获取有关设置<code class="codeph">ODCI_AGGREGATE_REUSE_CTX</code>标志位的详细信息。
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADDCI5139"></a><a id="ADDCI5140"></a><a id="ADDCI5138"></a><div class="props_rev_3"><a id="GUID-424482C3-0051-4EE8-9E36-6AEE141F8370" name="GUID-424482C3-0051-4EE8-9E36-6AEE141F8370"></a><h4 id="ADDCI-GUID-424482C3-0051-4EE8-9E36-6AEE141F8370" class="sect4"><span class="enumeration_section">22.1.6</span> ODCIAggregateWrapContext（）</h4>
                  <div>
                     <div class="section">
                        <p>集成当前聚合上下文的所有外部部分，以使上下文自包含。如果已声明用户定义的聚合具有外部上下文并且正在从从属进程传输部分聚合，则由Oracle调用。这是一个可选例程，并作为成员方法实现。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-424482C3-0051-4EE8-9E36-6AEE141F8370__GUID-145F9582-DCB3-4258-B17C-A9A558A05BE8">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">成员函数ODCIAggregateWrapContext（自我输出&lt;impltype&gt;）返回编号</pre></div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-424482C3-0051-4EE8-9E36-6AEE141F8370__GUID-93846762-1570-4755-89AF-6736765F64D5">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="First column lists a parameter; second column indicates the IN or OUT binding of the parameter, the third column describes the parameter." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="15%" id="d81077e963">参数</th>
                                 <th align="left" valign="bottom" width="11%" id="d81077e966">进出</th>
                                 <th align="left" valign="bottom" width="74%" id="d81077e969">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="15%" id="d81077e974" headers="d81077e963 "><pre class="oac_no_warn" dir="ltr">自</pre></td>
                                 <td align="left" valign="top" width="11%" headers="d81077e974 d81077e966 "><pre class="oac_no_warn" dir="ltr">在</pre></td>
                                 <td align="left" valign="top" width="74%" headers="d81077e974 d81077e969 ">
                                    <p>输入时，当前聚合上下文的值;在输出上，自包含的组合聚合上下文。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-424482C3-0051-4EE8-9E36-6AEE141F8370__GUID-5446FF3F-2016-482C-9E6E-DCF111BAC361">返回</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><code class="codeph">ODCIConst。Success</code>的成功，或<code class="codeph">ODCIConst.Error</code>时出错。
                        </p>
                        <div class="infoboxnotealso" id="GUID-424482C3-0051-4EE8-9E36-6AEE141F8370__GUID-0F1B5745-B356-4F55-BE8D-966826ED0E57">
                           <p class="notep1">也可以看看：</p>
                           <p>有关使用此功能的更多信息，请参阅<span class="q">“ <a href="using-user-defined-aggregate-functions.html#GUID-E6D8A0B9-540C-41A7-B031-09958739E940">处理大型聚合上下文</a> ”</span></p>
                        </div>
                        <p></p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>