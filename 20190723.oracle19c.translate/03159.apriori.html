<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="Learn how to calculate Association Rules using Apriori algorithm.">
      <meta name="description" content="Learn how to calculate Association Rules using Apriori algorithm.">
      <title>Apriori</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Concepts">
      <meta property="og:description" content="Learn how to calculate Association Rules using Apriori algorithm.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Concepts">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="data-mining-concepts.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-10T04:37:09-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="2005, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E97867-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="algorithms.html" title="Previous" type="text/html">
      <link rel="next" href="cur-matrix-decomposition.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Data Mining Concepts">
    <meta name="dcterms.isVersionOf" content="DMCON">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="algorithms.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="cur-matrix-decomposition.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Concepts</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="algorithms.html" property="item" typeof="WebPage"><span property="name"> Algorithms</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> Apriori</li>
            </ol>
            <a id="GUID-B7D12599-FB4C-45E3-BCE4-E54A3C6F0E64" name="GUID-B7D12599-FB4C-45E3-BCE4-E54A3C6F0E64"></a>
            
            <h2 id="DMCON-GUID-B7D12599-FB4C-45E3-BCE4-E54A3C6F0E64" class="sect2"><span class="enumeration_chapter">11 </span> Apriori
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>Learn how to calculate Association Rules using Apriori algorithm. </p>
               <p><a id="d12725e8" class="indexterm-anchor"></a><a id="d12725e10" class="indexterm-anchor"></a><a id="d12725e14" class="indexterm-anchor"></a></p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="apriori.html#GUID-9357EC61-F2F4-436B-B205-C775DC5EC72D" title="Learn about Apriori.">About Apriori</a></p>
                  </li>
                  <li>
                     <p><a href="apriori.html#GUID-B1A63951-407B-4363-8986-46B38F080EC2">Association Rules and Frequent Itemsets</a></p>
                  </li>
                  <li>
                     <p><a href="apriori.html#GUID-F4608620-7379-485F-AC7E-EF1AE42B2B15" title="Learn about storage format of transactional data.Learn about missing items through sparsity.Association Rules (AR) can use a good sample size with performance guarantee, based on the work of Riondato and Upfal.The sample size is only computed when users turn on the sampling (ODMS_SAMPLING is set as ODMS_SAMPLING_ENABLE) and do not specify the sample size (ODMS_SAMPLE_SIZE is unspecified).">Data Preparation for Apriori</a></p>
                  </li>
                  <li>
                     <p><a href="apriori.html#GUID-306942EA-B80E-44C4-B060-AD9C2B024984" title="Learn about itemsets.Learn about Frequent Itemsets and Support.Example to calculating rules from Frequent itemsets.Aggregates refer to the quantities associated with each item that the user opts for Association Rules Model to aggregate. The following example shows the concept of Aggregates.Explains including rules and excluding rules used in Association. Aggregate function requires more memory usage and longer execution time.">Calculating Association Rules</a></p>
                  </li>
                  <li>
                     <p><a href="apriori.html#GUID-376A915C-D473-46C5-B360-5DD9E4814645" title="Minimum support Count defines minimum threshold in transactions that each rule must satisfy.The confidence of a rule indicates the probability of both the antecedent and the consequent appearing in the same transaction.The Reverse Confidence of a rule is defined as the number of transactions in which the rule occurs divided by the number of transactions in which the consequent occurs.">Evaluating Association Rules</a></p>
                  </li>
               </ul>
            </div>
            <div>
               <div class="relinfo">
                  <p><strong>Related Topics</strong></p>
                  <ul>
                     <li><a href="association.html#GUID-491998B3-B92B-4F84-8A79-94780B8AFD0C" title="Learn how to discover Association Rules through Association - an unsupervised mining function.">Association</a></li>
                  </ul>
               </div>
            </div><a id="DMCON283"></a><div class="props_rev_3"><a id="GUID-9357EC61-F2F4-436B-B205-C775DC5EC72D" name="GUID-9357EC61-F2F4-436B-B205-C775DC5EC72D"></a><h3 id="DMCON-GUID-9357EC61-F2F4-436B-B205-C775DC5EC72D" class="sect3"><span class="enumeration_section">11.1 </span>About Apriori
               </h3>
               <div>
                  <p>Learn about Apriori.</p>
                  <p>An <a id="d12725e88" class="indexterm-anchor"></a>association mining problem can be decomposed into the following subproblems:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Find all combinations of items in a set of transactions that occur with a specified minimum frequency. These combinations are called <a id="d12725e97" class="indexterm-anchor"></a><strong class="term">frequent itemsets</strong>.
                        </p>
                     </li>
                     <li>
                        <p>Calculate <a id="d12725e105" class="indexterm-anchor"></a>rules that express the probable co-occurrence of items within frequent itemsets.
                        </p>
                     </li>
                  </ul>
                  <p>Apriori calculates the probability of an item being present in a frequent itemset, given that another item or items is present.</p>
                  <p>Association rule mining is not recommended for finding associations involving rare events in problem domains with a large number of items. Apriori discovers patterns with frequencies above the minimum support threshold. Therefore, to find associations involving rare events, the algorithm must run with very low minimum support values. However, doing so potentially explodes the number of enumerated itemsets, especially in cases with a large number of items. This increases the execution time significantly. Classification or Anomaly Detection is more suitable for discovering rare events when the data has a high number of attributes.</p>
                  <p>The build process for Apriori supports <a id="d12725e116" class="indexterm-anchor"></a>parallel execution. 
                  </p>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="apriori.html#GUID-BC6755A4-DFDF-4616-848C-60C529E94EA5" title="Example to calculating rules from Frequent itemsets.">Example: Calculating Rules from Frequent Itemsets</a></li>
                        <li><a href="../vldbg/using-parallel.html#VLDBG010" target="_blank"><span><cite>Oracle Database VLDB and Partitioning Guide</cite></span></a></li>
                     </ul>
                  </div>
               </div>
            </div><a id="DMCON284"></a><div class="props_rev_3"><a id="GUID-B1A63951-407B-4363-8986-46B38F080EC2" name="GUID-B1A63951-407B-4363-8986-46B38F080EC2"></a><h3 id="DMCON-GUID-B1A63951-407B-4363-8986-46B38F080EC2" class="sect3"><span class="enumeration_section">11.2 </span>Association Rules and Frequent Itemsets
               </h3>
               <div>
                  <p>The Apriori algorithm calculates rules that express probabilistic relationships between items in frequent itemsets. For example, a rule derived from frequent itemsets containing A, B, and C might state that if A and B are included in a transaction, then C is likely to also be included.</p>
                  <p>An association rule states that an item or group of items implies the presence of another item with some probability. Unlike decision tree rules, which predict a target, association rules simply express correlation. </p>
               </div><a id="DMCON285"></a><div class="props_rev_3"><a id="GUID-46324016-DB1B-4831-B3F2-4CDA4822AE1E" name="GUID-46324016-DB1B-4831-B3F2-4CDA4822AE1E"></a><h4 id="DMCON-GUID-46324016-DB1B-4831-B3F2-4CDA4822AE1E" class="sect4"><span class="enumeration_section">11.2.1 </span>Antecedent and Consequent
                  </h4>
                  <div>
                     <p>The IF component of an association rule is known as the <strong class="term">antecedent</strong>. The THEN component is known as the <strong class="term">consequent</strong>. The antecedent and the consequent are disjoint; they have no items in common. 
                     </p>
                     <p>Oracle Data Mining supports association rules that have one or more items in the antecedent and a single item in the consequent. </p>
                  </div>
               </div><a id="DMCON286"></a><div class="props_rev_3"><a id="GUID-0DD7FCEB-1C90-43F4-8F42-963BA707A6D3" name="GUID-0DD7FCEB-1C90-43F4-8F42-963BA707A6D3"></a><h4 id="DMCON-GUID-0DD7FCEB-1C90-43F4-8F42-963BA707A6D3" class="sect4"><span class="enumeration_section">11.2.2 </span>Confidence
                  </h4>
                  <div>
                     <p>Rules have an associated <a id="d12725e204" class="indexterm-anchor"></a>confidence, which is the conditional probability that the consequent occurs given the occurrence of the antecedent. You can specify the minimum confidence for rules.
                     </p>
                  </div>
               </div>
            </div><a id="DMCON295"></a><div class="props_rev_3"><a id="GUID-F4608620-7379-485F-AC7E-EF1AE42B2B15" name="GUID-F4608620-7379-485F-AC7E-EF1AE42B2B15"></a><h3 id="DMCON-GUID-F4608620-7379-485F-AC7E-EF1AE42B2B15" class="sect3"><span class="enumeration_section">11.3 </span>Data Preparation for Apriori
               </h3>
               <div>
                  <p><a id="d12725e228" class="indexterm-anchor"></a>Association models<a id="d12725e233" class="indexterm-anchor"></a> are designed to use <a id="d12725e236" class="indexterm-anchor"></a>transactional data. In transactional data, there is a one-to-many relationship between the case identifier and the values for each case. Each case ID/value pair is specified in a separate record (row). 
                  </p>
               </div><a id="DMCON549"></a><div class="props_rev_3"><a id="GUID-C35F8DE2-B3DD-4F1A-9C62-C6D41BDB91FC" name="GUID-C35F8DE2-B3DD-4F1A-9C62-C6D41BDB91FC"></a><h4 id="DMCON-GUID-C35F8DE2-B3DD-4F1A-9C62-C6D41BDB91FC" class="sect4"><span class="enumeration_section">11.3.1 </span>Native Transactional Data and Star Schemas
                  </h4>
                  <div>
                     <p>Learn about storage format of transactional data.</p>
                     <p>Transactional data may be stored in native transactional format, with a non-unique case ID column and a values column, or it may be stored in some other configuration, such as a star schema. If the data is not stored in native transactional format, it must be transformed to a <a id="d12725e265" class="indexterm-anchor"></a>nested column for processing by the Apriori algorithm.
                     </p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="association.html#GUID-B7D14354-A1EF-4E56-974C-18255226C0BD" title="Learn about transactional data, also known as market-basket data.">Transactional Data</a></li>
                           <li><a href="../dmprg/using-nested-dita.html#DMPRG-GUID-4BBB376F-7CED-4E23-826B-922D00CBFA44" target="_blank"><span><cite>Oracle Data Mining User’s Guide</cite></span></a></li>
                        </ul>
                     </div>
                  </div>
               </div><a id="DMCON550"></a><div class="props_rev_3"><a id="GUID-159F8D42-1CB1-46CF-B2AF-A2C7485D6660" name="GUID-159F8D42-1CB1-46CF-B2AF-A2C7485D6660"></a><h4 id="DMCON-GUID-159F8D42-1CB1-46CF-B2AF-A2C7485D6660" class="sect4"><span class="enumeration_section">11.3.2 </span>Items and Collections
                  </h4>
                  <div>
                     <p>In transactional data, a collection of items is associated with each case. The collection theoretically includes all possible members of the collection. For example, all products can theoretically be purchased in a single market-basket transaction. However, in actuality, only a tiny subset of all possible items are present in a given transaction; the items in the market-basket represent only a small fraction of the items available for sale in the store.</p>
                  </div>
               </div><a id="DMCON551"></a><div class="props_rev_3"><a id="GUID-97571C6E-F447-4C43-B22D-AB02D5DB423D" name="GUID-97571C6E-F447-4C43-B22D-AB02D5DB423D"></a><h4 id="DMCON-GUID-97571C6E-F447-4C43-B22D-AB02D5DB423D" class="sect4"><span class="enumeration_section">11.3.3 </span>Sparse Data
                  </h4>
                  <div>
                     <p>Learn about missing items through sparsity.</p>
                     <p>Missing items in a collection indicate <strong class="term">sparsity</strong>. Missing items may be present with a null value, or they may simply be missing. 
                     </p>
                     <p>Nulls in transactional data are assumed to represent values that are known but not present in the transaction. For example, three items out of hundreds of possible items might be purchased in a single transaction. The items that were not purchased are known but not present in the transaction.</p>
                     <p>Oracle Data Mining assumes sparsity in transactional data. The Apriori algorithm is optimized for processing sparse data.</p>
                     <div class="infoboxnote" id="GUID-97571C6E-F447-4C43-B22D-AB02D5DB423D__GUID-4903C543-3A98-40A7-B0E1-C0C9E828D30D">
                        <p class="notep1">Note:</p>
                        <p>Apriori is not affected by Automatic Data Preparation.</p>
                     </div>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="../dmprg/handling-missing-values.html#DMPRG-GUID-C989D94A-0B6A-4A2B-91D8-C8B2E460709B" target="_blank"><span><cite>Oracle Data Mining User’s Guide</cite></span></a></li>
                        </ul>
                     </div>
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-3D4A2CB0-931B-405A-905C-86214ECCAC01" name="GUID-3D4A2CB0-931B-405A-905C-86214ECCAC01"></a><h4 id="DMCON-GUID-3D4A2CB0-931B-405A-905C-86214ECCAC01" class="sect4"><span class="enumeration_section">11.3.4 </span>Improved Sampling
                  </h4>
                  <div>
                     <p>Association Rules (AR) can use a good sample size with performance guarantee, based on the work of Riondato and Upfal.</p>
                     <p><a id="d12725e362" class="indexterm-anchor"></a><a id="d12725e366" class="indexterm-anchor"></a>The AR algorithm computes the sample size by the following inputs:
                     </p>
                     <div class="p">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="italic">d</span>-index of the dataset
                              </p>
                           </li>
                           <li>
                              <p>Absolute error <span class="italic">ε</span></p>
                           </li>
                           <li>
                              <p>Confidence level <span class="italic">γ</span></p>
                           </li>
                        </ul>
                     </div>
                     <p><span class="italic"><strong class="term">d</strong></span><strong class="term">-index</strong> is defined as the maximum integer <span class="italic">d</span> such that the dataset contains at least <span class="italic">d</span> transactions of length <span class="italic">d</span> at the minimum. It is the upper bound of Vapnik-Chervonenkis (VC) dimension. The AR algorithm computes <span class="italic">d</span>-index of the dataset by scanning the length of all transactions in the dataset. 
                     </p>
                     <p>Users specify absolute error <span class="italic">ε</span> and confidence level <span class="italic">γ</span> parameters. A large <span class="italic">d</span>-index, small AR support, small <span class="italic">ε</span> or large <span class="italic">γ</span> can cause a large sample size. The sample size theoretically guarantees that the absolute error of both the support and confidence of the approximated AR (from sampling) is less than <span class="italic">ε</span> compared to the exact AR with probability (or confidence level) at least <span class="italic">γ</span>. In this document this sample size is called AR-specific sample size.
                     </p>
                  </div>
                  <div class="props_rev_3"><a id="GUID-F6F3C5A0-7791-4175-810B-75309CE2B5D5" name="GUID-F6F3C5A0-7791-4175-810B-75309CE2B5D5"></a><h5 id="DMCON-GUID-F6F3C5A0-7791-4175-810B-75309CE2B5D5" class="sect5"><span class="enumeration_section">11.3.4.1 </span>Sampling Implementation
                     </h5>
                     <div>
                        <p>The sample size is only computed when users turn on the sampling (<code class="codeph">ODMS_SAMPLING</code> is set as <code class="codeph">ODMS_SAMPLING_ENABLE</code>) and do not specify the sample size (<code class="codeph">ODMS_SAMPLE_SIZE</code> is unspecified).
                        </p>
                        <p><a id="d12725e458" class="indexterm-anchor"></a><a id="d12725e462" class="indexterm-anchor"></a></p>
                        <div class="section">
                           <p class="subhead3" id="GUID-F6F3C5A0-7791-4175-810B-75309CE2B5D5__GUID-B9AF4A42-DE87-434B-A738-BCB63D35F8A5">Usage Notes</p>
                           <div class="p">
                              <ol>
                                 <li>
                                    <p>If <code class="codeph">ODMS_SAMPLING</code> is unspecified or set as <code class="codeph">ODMS_SAMPLING_DISABLE</code>, the sampling is not performed for AR and the exact AR is obtained.
                                    </p>
                                 </li>
                                 <li>
                                    <p>If <code class="codeph">ODMS_SAMPLING</code> is set as <code class="codeph">ODMS_SAMPLING_ENABLE</code> and if <code class="codeph">ODMS_SAMPLE_SIZE</code> is specified as positive integer number then the user-specified sample size (<code class="codeph">ODMS_SAMPLE_SIZE</code>) is utilized. The sampling is performed in the general data preparation stage before the AR algorithm. The AR-specific sample size is not computed. The approximated AR is obtained.
                                    </p>
                                 </li>
                                 <li>
                                    <div class="p">If <code class="codeph">ODMS_SAMPLING</code> is set as <code class="codeph">ODMS_SAMPLING_ENABLE</code> and <code class="codeph">ODMS_SAMPLE_SIZE</code> is not specified, the AR-specified sample size is computed and then sampling is performed in the AR algorithm. The approximated AR is obtained. 
                                       <div class="infoboxnote" id="GUID-F6F3C5A0-7791-4175-810B-75309CE2B5D5__GUID-51C74E1B-16C5-40C5-BCBE-E08167125007">
                                          <p class="notep1">Note:</p>
                                          <p>If the computed AR-specific sample size is larger than or equal to the total transaction size in the dataset, the sampling is not performed and the exact AR is obtained.</p>
                                       </div>
                                    </div>
                                 </li>
                              </ol>
                           </div>
                           <p>If users do not have a good idea on the choice of sample size for AR, it is suggested to leave <code class="codeph">ODMS_SAMPLE_SIZE</code> unspecified, only specify proper values for sampling parameters and let AR algorithm compute the suitable AR-specific sample size.
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>Related Topics</strong></p>
                           <ul>
                              <li><a href="../arpls/DBMS_DATA_MINING.html#ARPLS-GUID-CE514371-EC80-41EA-AB07-7F6501687D12" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a></li>
                           </ul>
                        </div>
                     </div>
                  </div>
               </div>
            </div><a id="DMCON552"></a><div class="props_rev_3"><a id="GUID-306942EA-B80E-44C4-B060-AD9C2B024984" name="GUID-306942EA-B80E-44C4-B060-AD9C2B024984"></a><h3 id="DMCON-GUID-306942EA-B80E-44C4-B060-AD9C2B024984" class="sect3"><span class="enumeration_section">11.4 </span>Calculating Association Rules
               </h3>
               <div>
                  <p>The first step in association analysis is the enumeration of <strong class="term">itemsets</strong>. An itemset is any combination of two or more items in a transaction.
                  </p>
               </div><a id="DMCON256"></a><a id="DMCON553"></a><a id="DMCON255"></a><div class="props_rev_3"><a id="GUID-E174E4F9-C4E5-4ABC-B096-ADEF805570DF" name="GUID-E174E4F9-C4E5-4ABC-B096-ADEF805570DF"></a><h4 id="DMCON-GUID-E174E4F9-C4E5-4ABC-B096-ADEF805570DF" class="sect4"><span class="enumeration_section">11.4.1 </span>Itemsets
                  </h4>
                  <div>
                     <p>Learn about itemsets.</p>
                     <p>The maximum number of items in an itemset is user-specified. If the maximum is two, then all the item pairs are counted. If the maximum is greater than two, then all the item pairs, all the item triples, and all the item combinations up to the specified maximum are counted.</p>
                     <p>The following table shows the itemsets derived from the transactions shown in the following example, assuming that maximum number of items in an itemset is set to 3.</p>
                     <div class="tblformal" id="GUID-E174E4F9-C4E5-4ABC-B096-ADEF805570DF__BABFFIEG">
                        <p class="titleintable">Table 11-1 Itemsets</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Itemsets" summary="Pairs of items (itemsets) in transactions shown in the sample transaction data in this chapter." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="19%" id="d12725e583">Transaction</th>
                                 <th align="left" valign="bottom" width="81%" id="d12725e586">Itemsets</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d12725e591" headers="d12725e583 ">
                                    <p>11</p>
                                 </td>
                                 <td align="left" valign="top" width="81%" headers="d12725e591 d12725e586 ">
                                    <p>(B,D) (B,E) (D,E) (B,D,E)</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d12725e598" headers="d12725e583 ">
                                    <p>12</p>
                                 </td>
                                 <td align="left" valign="top" width="81%" headers="d12725e598 d12725e586 ">
                                    <p>(A,B) (A,C) (A,E) (B,C) (B,E) (C,E) (A,B,C) (A,B,E) (A,C,E) (B,C,E)</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d12725e605" headers="d12725e583 ">
                                    <p>13</p>
                                 </td>
                                 <td align="left" valign="top" width="81%" headers="d12725e605 d12725e586 ">
                                    <p>(B,C) (B,D) (B,E) (C,D) (C,E) (D,E) (B,C,D) (B,C,E) (B,D,E) (C,D,E)</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="example" id="GUID-E174E4F9-C4E5-4ABC-B096-ADEF805570DF__BGBFDAFB">
                        <p class="titleinexample">Example 11-1 Sample Transactional Data</p><pre class="oac_no_warn" dir="ltr">TRANS_ID   ITEM_ID
---------  -------------------
11         B
11         D
11         E
12         A
12         B
12         C
12         E
13         B
13         C
13         D
13         E
</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="DMCON258"></a><a id="DMCON257"></a><div class="props_rev_3"><a id="GUID-FDAA1BBA-078A-411F-8003-DA7A4BC2F49F" name="GUID-FDAA1BBA-078A-411F-8003-DA7A4BC2F49F"></a><h4 id="DMCON-GUID-FDAA1BBA-078A-411F-8003-DA7A4BC2F49F" class="sect4"><span class="enumeration_section">11.4.2 </span>Frequent Itemsets
                  </h4>
                  <div>
                     <p>Learn about Frequent Itemsets and Support.</p>
                     <p>Association rules are calculated from itemsets. If rules are generated from all possible itemsets, there can be a very high number of rules and the rules may not be very meaningful. Also, the model can take a long time to build. Typically it is desirable to only generate rules from itemsets that are well-represented in the data. <strong class="term">Frequent itemsets</strong> are those that occur with a minimum frequency specified by the user. 
                     </p>
                     <p>The minimum frequent itemset <strong class="term">Support</strong> is a user-specified percentage that limits the number of itemsets used for association rules. An itemset must appear in at least this percentage of all the transactions if it is to be used as a basis for rules.
                     </p>
                     <p>The following table shows the itemsets from <a href="apriori.html#GUID-E174E4F9-C4E5-4ABC-B096-ADEF805570DF__BABFFIEG" title="Pairs of items (itemsets) in transactions shown in the sample transaction data in this chapter.">Table 11-1</a> that are frequent itemsets with support &gt; 66%.
                     </p>
                     <div class="tblformal" id="GUID-FDAA1BBA-078A-411F-8003-DA7A4BC2F49F__BABIBFFH">
                        <p class="titleintable">Table 11-2 Frequent Itemsets</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Frequent Itemsets" summary="Frequent itemsets derived from sample transactions shown in figure 8-1. Only the frequent itemsets with support &gt; 5% are shown. There are seven frequent itemsets with support &gt; 5%." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="41%" id="d12725e673">Frequent Itemset</th>
                                 <th align="left" valign="bottom" width="32%" id="d12725e676">Transactions</th>
                                 <th align="left" valign="bottom" width="27%" id="d12725e679">Support</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="41%" id="d12725e684" headers="d12725e673 ">
                                    <p>(B,C)</p>
                                 </td>
                                 <td align="left" valign="top" width="32%" headers="d12725e684 d12725e676 ">
                                    <p>2 of 3</p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d12725e684 d12725e679 ">
                                    <p>67%</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="41%" id="d12725e694" headers="d12725e673 ">
                                    <p>(B,D)</p>
                                 </td>
                                 <td align="left" valign="top" width="32%" headers="d12725e694 d12725e676 ">
                                    <p>2 of 3</p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d12725e694 d12725e679 ">
                                    <p>67%</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="41%" id="d12725e704" headers="d12725e673 ">
                                    <p>(B,E)</p>
                                 </td>
                                 <td align="left" valign="top" width="32%" headers="d12725e704 d12725e676 ">
                                    <p>3 of 3</p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d12725e704 d12725e679 ">
                                    <p>100%</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="41%" id="d12725e714" headers="d12725e673 ">
                                    <p>(C,E)</p>
                                 </td>
                                 <td align="left" valign="top" width="32%" headers="d12725e714 d12725e676 ">
                                    <p>2 of 3</p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d12725e714 d12725e679 ">
                                    <p>67%</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="41%" id="d12725e724" headers="d12725e673 ">
                                    <p>(D,E)</p>
                                 </td>
                                 <td align="left" valign="top" width="32%" headers="d12725e724 d12725e676 ">
                                    <p>2 of 3</p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d12725e724 d12725e679 ">
                                    <p>67%</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="41%" id="d12725e734" headers="d12725e673 ">
                                    <p>(B,C,E)</p>
                                 </td>
                                 <td align="left" valign="top" width="32%" headers="d12725e734 d12725e676 ">
                                    <p>2 of 3</p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d12725e734 d12725e679 ">
                                    <p>67%</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="41%" id="d12725e744" headers="d12725e673 ">
                                    <p>(B,D,E)</p>
                                 </td>
                                 <td align="left" valign="top" width="32%" headers="d12725e744 d12725e676 ">
                                    <p>2 of 3</p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d12725e744 d12725e679 ">
                                    <p>67%</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="apriori.html#GUID-B7D12599-FB4C-45E3-BCE4-E54A3C6F0E64" title="Learn how to calculate Association Rules using Apriori algorithm.">Apriori</a></li>
                        </ul>
                     </div>
                  </div>
               </div><a id="DMCON288"></a><a id="DMCON289"></a><a id="DMCON290"></a><a id="DMCON287"></a><div class="props_rev_3"><a id="GUID-BC6755A4-DFDF-4616-848C-60C529E94EA5" name="GUID-BC6755A4-DFDF-4616-848C-60C529E94EA5"></a><h4 id="DMCON-GUID-BC6755A4-DFDF-4616-848C-60C529E94EA5" class="sect4"><span class="enumeration_section">11.4.3 </span>Example: Calculating Rules from Frequent Itemsets
                  </h4>
                  <div>
                     <p>Example to calculating rules from Frequent itemsets.</p>
                     <p>The following tables show the itemsets and frequent itemsets that were calculated in <span class="q">"Association"</span>. The frequent itemsets are the itemsets that occur with a minimum support of 67%; at least 2 of the 3 transactions must include the itemset.
                     </p>
                     <div class="tblformal" id="GUID-BC6755A4-DFDF-4616-848C-60C529E94EA5__BGBHGCEF">
                        <p class="titleintable">Table 11-3 Itemsets</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Itemsets" summary="Pairs of items (itemsets) in transactions shown in the sample transaction data in this chapter." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="19%" id="d12725e800">Transaction</th>
                                 <th align="left" valign="bottom" width="81%" id="d12725e803">Itemsets</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d12725e808" headers="d12725e800 ">
                                    <p>11</p>
                                 </td>
                                 <td align="left" valign="top" width="81%" headers="d12725e808 d12725e803 ">
                                    <p>(B,D) (B,E) (D,E) (B,D,E)</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d12725e815" headers="d12725e800 ">
                                    <p>12</p>
                                 </td>
                                 <td align="left" valign="top" width="81%" headers="d12725e815 d12725e803 ">
                                    <p>(A,B) (A,C) (A,E) (B,C) (B,E) (C,E) (A,B,C) (A,B,E) (A,C,E) (B,C,E)</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d12725e822" headers="d12725e800 ">
                                    <p>13</p>
                                 </td>
                                 <td align="left" valign="top" width="81%" headers="d12725e822 d12725e803 ">
                                    <p>(B,C) (B,D) (B,E) (C,D) (C,E) (D,E) (B,C,D) (B,C,E) (B,D,E) (C,D,E)</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="tblformal" id="GUID-BC6755A4-DFDF-4616-848C-60C529E94EA5__BGBCGCBA">
                        <p class="titleintable">Table 11-4 Frequent Itemsets with Minimum Support 67%</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Frequent Itemsets with Minimum Support 67%" summary="Sample set of frequent itemsets as shown in the chapter on Association" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="34%" id="d12725e839">Itemset</th>
                                 <th align="left" valign="bottom" width="33%" id="d12725e842">Transactions</th>
                                 <th align="left" valign="bottom" width="33%" id="d12725e845">Support</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="34%" id="d12725e850" headers="d12725e839 ">
                                    <p>(B,C)</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d12725e850 d12725e842 ">
                                    <p>12 and 13</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d12725e850 d12725e845 ">
                                    <p>67%</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="34%" id="d12725e860" headers="d12725e839 ">
                                    <p>(B,D)</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d12725e860 d12725e842 ">
                                    <p>11 and 13</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d12725e860 d12725e845 ">
                                    <p>67%</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="34%" id="d12725e870" headers="d12725e839 ">
                                    <p>(B,E)</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d12725e870 d12725e842 ">
                                    <p>11, 12, and 13</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d12725e870 d12725e845 ">
                                    <p>100%</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="34%" id="d12725e880" headers="d12725e839 ">
                                    <p>(C,E)</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d12725e880 d12725e842 ">
                                    <p>12 and 13</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d12725e880 d12725e845 ">
                                    <p>67%</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="34%" id="d12725e890" headers="d12725e839 ">
                                    <p>(D,E)</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d12725e890 d12725e842 ">
                                    <p>11 and 13</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d12725e890 d12725e845 ">
                                    <p>67%</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="34%" id="d12725e900" headers="d12725e839 ">
                                    <p>(B,C,E)</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d12725e900 d12725e842 ">
                                    <p>12 and 13</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d12725e900 d12725e845 ">
                                    <p>67%</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="34%" id="d12725e910" headers="d12725e839 ">
                                    <p>(B,D,E)</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d12725e910 d12725e842 ">
                                    <p>11 and 13</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d12725e910 d12725e845 ">
                                    <p>67%</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>A rule expresses a conditional probability. Confidence in a rule is calculated by dividing the probability of the items occurring together by the probability of the occurrence of the antecedent.</p>
                     <p>For example, if B (antecedent) is present, what is the chance that C (consequent) is also present? What is the confidence for the rule "IF B, THEN C"? </p>
                     <p>As shown in <a href="apriori.html#GUID-BC6755A4-DFDF-4616-848C-60C529E94EA5__BGBHGCEF" title="Pairs of items (itemsets) in transactions shown in the sample transaction data in this chapter.">Table 11-3</a>:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>All 3 transactions include B (3/3 or 100%)</p>
                        </li>
                        <li>
                           <p>Only 2 transactions include both B and C (2/3 or 67%)</p>
                        </li>
                        <li>
                           <p>Therefore, the confidence of the rule "IF B, THEN C" is 67/100 or 67%.</p>
                        </li>
                     </ul>
                     <p>The following table the rules that can be derived from the frequent itemsets in <a href="apriori.html#GUID-BC6755A4-DFDF-4616-848C-60C529E94EA5__BGBCGCBA" title="Sample set of frequent itemsets as shown in the chapter on Association">Table 11-4</a>. 
                     </p>
                     <div class="tblformal" id="GUID-BC6755A4-DFDF-4616-848C-60C529E94EA5__BABBECFA">
                        <p class="titleintable">Table 11-5 Frequent Itemsets and Rules</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Frequent Itemsets and Rules" summary="This table lists the frequent itemsets with support &gt; 5% and the rules that are derived from each. The confidence is displayed for each rule." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="22%" id="d12725e959">Frequent Itemset</th>
                                 <th align="left" valign="bottom" width="23%" id="d12725e962">Rules</th>
                                 <th align="left" valign="bottom" width="41%" id="d12725e965">prob(antecedent and consequent) / prob(antecedent)</th>
                                 <th align="left" valign="bottom" width="15%" id="d12725e968">Confidence</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d12725e973" headers="d12725e959 ">
                                    <p>(B,C)</p>
                                 </td>
                                 <td align="left" valign="top" width="23%" headers="d12725e973 d12725e962 ">
                                    <ul class="simple" style="list-style-type: none;padding-left:0;">
                                       <li>(If B then C) </li>
                                       <li>(If C then B)</li>
                                    </ul>
                                 </td>
                                 <td align="left" valign="top" width="41%" headers="d12725e973 d12725e965 ">
                                    <ul class="simple" style="list-style-type: none;padding-left:0;">
                                       <li>67/100</li>
                                       <li>67/67</li>
                                    </ul>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d12725e973 d12725e968 ">
                                    <ul class="simple" style="list-style-type: none;padding-left:0;">
                                       <li>67%</li>
                                       <li>100%</li>
                                    </ul>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d12725e995" headers="d12725e959 ">
                                    <p>(B,D)</p>
                                 </td>
                                 <td align="left" valign="top" width="23%" headers="d12725e995 d12725e962 ">
                                    <ul class="simple" style="list-style-type: none;padding-left:0;">
                                       <li>(If B then D) </li>
                                       <li>(If D then B)</li>
                                    </ul>
                                 </td>
                                 <td align="left" valign="top" width="41%" headers="d12725e995 d12725e965 ">
                                    <ul class="simple" style="list-style-type: none;padding-left:0;">
                                       <li>67/100</li>
                                       <li>67/67</li>
                                    </ul>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d12725e995 d12725e968 ">
                                    <ul class="simple" style="list-style-type: none;padding-left:0;">
                                       <li>67%</li>
                                       <li>100%</li>
                                    </ul>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d12725e1017" headers="d12725e959 ">
                                    <p>(B,E)</p>
                                 </td>
                                 <td align="left" valign="top" width="23%" headers="d12725e1017 d12725e962 ">
                                    <ul class="simple" style="list-style-type: none;padding-left:0;">
                                       <li>(If B then E) </li>
                                       <li>(If E then B)</li>
                                    </ul>
                                 </td>
                                 <td align="left" valign="top" width="41%" headers="d12725e1017 d12725e965 ">
                                    <ul class="simple" style="list-style-type: none;padding-left:0;">
                                       <li>100/100</li>
                                       <li>100/100</li>
                                    </ul>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d12725e1017 d12725e968 ">
                                    <ul class="simple" style="list-style-type: none;padding-left:0;">
                                       <li>100%</li>
                                       <li>100%</li>
                                    </ul>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d12725e1039" headers="d12725e959 ">
                                    <p>(C,E)</p>
                                 </td>
                                 <td align="left" valign="top" width="23%" headers="d12725e1039 d12725e962 ">
                                    <ul class="simple" style="list-style-type: none;padding-left:0;">
                                       <li>(If C then E) </li>
                                       <li>(If E then C)</li>
                                    </ul>
                                 </td>
                                 <td align="left" valign="top" width="41%" headers="d12725e1039 d12725e965 ">
                                    <ul class="simple" style="list-style-type: none;padding-left:0;">
                                       <li>67/67</li>
                                       <li>67/100</li>
                                    </ul>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d12725e1039 d12725e968 ">
                                    <ul class="simple" style="list-style-type: none;padding-left:0;">
                                       <li>100%</li>
                                       <li>67%</li>
                                    </ul>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d12725e1061" headers="d12725e959 ">
                                    <p>(D,E)</p>
                                 </td>
                                 <td align="left" valign="top" width="23%" headers="d12725e1061 d12725e962 ">
                                    <ul class="simple" style="list-style-type: none;padding-left:0;">
                                       <li>(If D then E)</li>
                                       <li>I(f E then D)</li>
                                    </ul>
                                 </td>
                                 <td align="left" valign="top" width="41%" headers="d12725e1061 d12725e965 ">
                                    <ul class="simple" style="list-style-type: none;padding-left:0;">
                                       <li>67/67</li>
                                       <li>67/100</li>
                                    </ul>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d12725e1061 d12725e968 ">
                                    <ul class="simple" style="list-style-type: none;padding-left:0;">
                                       <li>100%</li>
                                       <li>67%</li>
                                    </ul>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d12725e1083" headers="d12725e959 ">
                                    <p>(B,C,E)</p>
                                 </td>
                                 <td align="left" valign="top" width="23%" headers="d12725e1083 d12725e962 ">
                                    <ul class="simple" style="list-style-type: none;padding-left:0;">
                                       <li>(If B and C then E)</li>
                                       <li>(If B and E then C)</li>
                                       <li>(If C and E then B)</li>
                                    </ul>
                                 </td>
                                 <td align="left" valign="top" width="41%" headers="d12725e1083 d12725e965 ">
                                    <ul class="simple" style="list-style-type: none;padding-left:0;">
                                       <li>67/67</li>
                                       <li>67/100</li>
                                       <li>67/67</li>
                                    </ul>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d12725e1083 d12725e968 ">
                                    <ul class="simple" style="list-style-type: none;padding-left:0;">
                                       <li>100%</li>
                                       <li>67%</li>
                                       <li>100%</li>
                                    </ul>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d12725e1111" headers="d12725e959 ">
                                    <p>(B,D,E)</p>
                                 </td>
                                 <td align="left" valign="top" width="23%" headers="d12725e1111 d12725e962 ">
                                    <ul class="simple" style="list-style-type: none;padding-left:0;">
                                       <li>(If B and D then E)</li>
                                       <li>(If B and E then D)</li>
                                       <li>(If D and E then B)</li>
                                    </ul>
                                 </td>
                                 <td align="left" valign="top" width="41%" headers="d12725e1111 d12725e965 ">
                                    <ul class="simple" style="list-style-type: none;padding-left:0;">
                                       <li>67/67</li>
                                       <li>67/100</li>
                                       <li>67/67</li>
                                    </ul>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d12725e1111 d12725e968 ">
                                    <ul class="simple" style="list-style-type: none;padding-left:0;">
                                       <li>100%</li>
                                       <li>67%</li>
                                       <li>100%</li>
                                    </ul>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>If the minimum confidence is 70%, ten rules are generated for these frequent itemsets. If the minimum confidence is 60%, sixteen rules are generated.</p>
                     <div class="infobox-tip" id="GUID-BC6755A4-DFDF-4616-848C-60C529E94EA5__GUID-F72469C3-06A1-47B9-9D1F-E420F9B5C213">
                        <p class="notep1">Tip:</p>
                        <p>Increase the minimum confidence if you want to decrease the build time for the model and generate fewer rules.</p>
                     </div>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="association.html#GUID-491998B3-B92B-4F84-8A79-94780B8AFD0C" title="Learn how to discover Association Rules through Association - an unsupervised mining function.">Association</a></li>
                        </ul>
                     </div>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-AC930293-E48C-4C4D-A468-1811DCFCC265" name="GUID-AC930293-E48C-4C4D-A468-1811DCFCC265"></a><h4 id="DMCON-GUID-AC930293-E48C-4C4D-A468-1811DCFCC265" class="sect4"><span class="enumeration_section">11.4.4 </span>Aggregates
                  </h4>
                  <div>
                     <p>Aggregates refer to the quantities associated with each item that the user opts for Association Rules Model to aggregate. </p>
                     <p>There can be more than one aggregate. For example, the user can specify the model to aggregate both profit and quantity.</p>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-A907D44F-B4BA-45A8-B77B-050D67A099D8" name="GUID-A907D44F-B4BA-45A8-B77B-050D67A099D8"></a><h4 id="DMCON-GUID-A907D44F-B4BA-45A8-B77B-050D67A099D8" class="sect4"><span class="enumeration_section">11.4.5 </span>Example: Calculating Aggregates
                  </h4>
                  <div>
                     <p>The following example shows the concept of Aggregates.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-A907D44F-B4BA-45A8-B77B-050D67A099D8__GUID-648AFC6D-24FB-4A3D-9530-9D237788BFD6">Calculating Aggregates for Grocery Store Data </p>
                        <p>Assume a grocery store has the following data:</p>
                        <div class="tblformal" id="GUID-A907D44F-B4BA-45A8-B77B-050D67A099D8__GUID-8DFDC42D-281B-47C2-B33C-F9C063864715">
                           <p class="titleintable">Table 11-6 Grocery Store Data</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="Grocery Store Data" summary="The table has the grocery store data with customer purchases and profit associated with each item." frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" id="d12725e1221">Customer</th>
                                    <th align="left" valign="bottom" id="d12725e1223">Item A</th>
                                    <th align="left" valign="bottom" id="d12725e1225">Item B</th>
                                    <th align="left" valign="bottom" id="d12725e1227">Item C</th>
                                    <th align="left" valign="bottom" id="d12725e1229">Item D</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d12725e1233" headers="d12725e1221 ">Customer 1</td>
                                    <td align="left" valign="top" headers="d12725e1233 d12725e1223 ">Buys (Profit $5.00)</td>
                                    <td align="left" valign="top" headers="d12725e1233 d12725e1225 ">Buys (Profit $3.20)</td>
                                    <td align="left" valign="top" headers="d12725e1233 d12725e1227 ">Buys (Profit $12.00)</td>
                                    <td align="left" valign="top" headers="d12725e1233 d12725e1229 ">NA</td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d12725e1244" headers="d12725e1221 ">Customer 2</td>
                                    <td align="left" valign="top" headers="d12725e1244 d12725e1223 ">Buys (Profit $4.00)</td>
                                    <td align="left" valign="top" headers="d12725e1244 d12725e1225 ">NA</td>
                                    <td align="left" valign="top" headers="d12725e1244 d12725e1227 ">Buys (Profit $4.20)</td>
                                    <td align="left" valign="top" headers="d12725e1244 d12725e1229 ">NA</td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d12725e1255" headers="d12725e1221 ">Customer 3</td>
                                    <td align="left" valign="top" headers="d12725e1255 d12725e1223 ">Buys (Profit $3.00)</td>
                                    <td align="left" valign="top" headers="d12725e1255 d12725e1225 ">Buys (Profit $10.00)</td>
                                    <td align="left" valign="top" headers="d12725e1255 d12725e1227 ">Buys (Profit $14.00)</td>
                                    <td align="left" valign="top" headers="d12725e1255 d12725e1229 ">Buys (Profit $8.00)</td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d12725e1266" headers="d12725e1221 ">Customer 4</td>
                                    <td align="left" valign="top" headers="d12725e1266 d12725e1223 ">Buys (Profit $2.00)</td>
                                    <td align="left" valign="top" headers="d12725e1266 d12725e1225 ">NA</td>
                                    <td align="left" valign="top" headers="d12725e1266 d12725e1227 ">NA</td>
                                    <td align="left" valign="top" headers="d12725e1266 d12725e1229 ">Buys (Profit $1.00)</td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>The basket of each customer can be viewed as a transaction. The manager of the store is interested in not only the existence of certain association rules, but also in the aggregated profit if such rules exist. </p>
                        <p>In this example, one of the association rules can be (A, B)=&gt;C for customer 1 and customer 3. Together with this rule, the store manager may want to know the following:</p>
                        <div class="p">
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>The total profit of item A appearing in this rule</p>
                              </li>
                              <li>
                                 <p>The total profit of item B appearing in this rule</p>
                              </li>
                              <li>
                                 <p>The total profit for consequent C appearing in this rule</p>
                              </li>
                              <li>
                                 <p>The total profit of all items appearing in the rule</p>
                              </li>
                           </ul>
                        </div>
                        <p>For this rule, the profit for item A is $5.00 + $3.00 = $8.00, for item B the profit is $3.20 + $10.00 = $13.20, for consequent C, the profit is $12.00 + $14.00 = $26.00, for the antecedent itemset (A, B) is $8.00 + $13.20 = $21.20. For the whole rule, the profit is $21.20 + $26.00 = $47.40. </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="../arpls/DBMS_DATA_MINING.html#ARPLS-GUID-4669DF41-ED9B-4A61-A9A2-3B553FF23998" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a></li>
                        </ul>
                     </div>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-5840C2D4-5B76-4E06-9B5F-3EE12F135D8D" name="GUID-5840C2D4-5B76-4E06-9B5F-3EE12F135D8D"></a><h4 id="DMCON-GUID-5840C2D4-5B76-4E06-9B5F-3EE12F135D8D" class="sect4"><span class="enumeration_section">11.4.6 </span>Including and Excluding Rules
                  </h4>
                  <div>
                     <p>Explains including rules and excluding rules used in Association. </p>
                     <p>Including rules enables a user to provide a list of items such that at least one item from the list must appear in the rules that are returned. Excluding rules enables a user to provide a list of items such that no item from the list can appear in the rules that are returned.</p>
                     <div class="infoboxnote" id="GUID-5840C2D4-5B76-4E06-9B5F-3EE12F135D8D__GUID-926B4C0C-26E8-4886-96EC-C1B8174C6842">
                        <p class="notep1">Note:</p>Since each association rule includes both antecedent and consequent, a set of including or excluding rules can be specified for antecedent while another set of including or excluding rules can be specified for consequent. Including or excluding rules can also be defined for the association rule.
                     </div>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="../dmprg/model-detail-views.html#DMPRG-GUID-3B46FDE8-DA4F-4E5C-80E1-F984942E496D" target="_blank"><span><cite>Oracle Data Mining User’s Guide</cite></span></a></li>
                           <li><a href="../arpls/DBMS_DATA_MINING.html#ARPLS-GUID-4669DF41-ED9B-4A61-A9A2-3B553FF23998" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a></li>
                        </ul>
                     </div>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-4FB6709D-A7E1-418F-A661-2845E8B6651F" name="GUID-4FB6709D-A7E1-418F-A661-2845E8B6651F"></a><h4 id="DMCON-GUID-4FB6709D-A7E1-418F-A661-2845E8B6651F" class="sect4"><span class="enumeration_section">11.4.7 </span>Performance Impact for Aggregates
                  </h4>
                  <div>
                     <p>Aggregate function requires more memory usage and longer execution time. </p>
                     <p>For each item, the user may supply several columns to aggregate. It requires more memory to buffer the extra data and more time to compute the aggregate values.</p>
                  </div>
               </div>
            </div><a id="DMCON291"></a><div class="props_rev_3"><a id="GUID-376A915C-D473-46C5-B360-5DD9E4814645" name="GUID-376A915C-D473-46C5-B360-5DD9E4814645"></a><h3 id="DMCON-GUID-376A915C-D473-46C5-B360-5DD9E4814645" class="sect3"><span class="enumeration_section">11.5 </span>Evaluating Association Rules
               </h3>
               <div>
                  <p>Minimum support and confidence are used to influence the build of an association model. Support and confidence are also the primary metrics for evaluating the quality of the rules generated by the model. Additionally, Oracle Data Mining supports lift for association rules. These statistical measures can be used to rank the rules and hence the usefulness of the predictions.</p>
               </div><a id="DMCON292"></a><div class="props_rev_3"><a id="GUID-B63B808D-BCB2-4C95-9B6A-6FDD30F8B948" name="GUID-B63B808D-BCB2-4C95-9B6A-6FDD30F8B948"></a><h4 id="DMCON-GUID-B63B808D-BCB2-4C95-9B6A-6FDD30F8B948" class="sect4"><span class="enumeration_section">11.5.1 </span>Support
                  </h4>
                  <div>
                     <p>The support of a <a id="d12725e1416" class="indexterm-anchor"></a>rule indicates how frequently the items in the rule occur together. For example, cereal and milk might appear together in 40% of the transactions. If so, the following rules each have a support of 40%:
                     </p><pre class="oac_no_warn" dir="ltr">cereal implies milk
milk implies cereal
</pre><p>Support is the ratio of transactions that include all the items in the antecedent and consequent to the number of total transactions.</p>
                     <p>Support can be expressed in probability notation as follows:</p><pre class="oac_no_warn" dir="ltr">support(A implies B) = P(A, B)</pre></div>
               </div>
               <div class="sect3"><a id="GUID-23073363-FF41-47AC-A61F-7B2B415E95C3" name="GUID-23073363-FF41-47AC-A61F-7B2B415E95C3"></a><h4 id="DMCON-GUID-23073363-FF41-47AC-A61F-7B2B415E95C3" class="sect4"><span class="enumeration_section">11.5.2 </span>Minimum Support Count
                  </h4>
                  <div>
                     <p>Minimum support Count defines minimum threshold in transactions that each rule must satisfy.</p>
                     <p>When the number of transactions is unknown, the support percentage threshold parameter can be tricky to set appropriately. For this reason, support can also be expressed as a count of transactions, with the greater of the two thresholds being used to filter out infrequent itemsets. The default is <code class="codeph">1</code> indicating that this criterion is not applied.
                     </p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="association.html#GUID-F80B15E1-BE38-4E37-9D98-2307E44C5435">Association Rules</a></li>
                           <li><a href="../dmprg/model-detail-views.html#DMPRG-GUID-3B46FDE8-DA4F-4E5C-80E1-F984942E496D" target="_blank"><span><cite>Oracle Data Mining User’s Guide</cite></span></a></li>
                           <li><a href="apriori.html#GUID-FDAA1BBA-078A-411F-8003-DA7A4BC2F49F" title="Learn about Frequent Itemsets and Support.">Frequent Itemsets</a></li>
                        </ul>
                     </div>
                  </div>
               </div><a id="DMCON293"></a><div class="props_rev_3"><a id="GUID-E7FE6EA9-5C7E-4D4E-8017-D494BB54490A" name="GUID-E7FE6EA9-5C7E-4D4E-8017-D494BB54490A"></a><h4 id="DMCON-GUID-E7FE6EA9-5C7E-4D4E-8017-D494BB54490A" class="sect4"><span class="enumeration_section">11.5.3 </span>Confidence
                  </h4>
                  <div>
                     <p>The confidence of a rule indicates the probability of both the antecedent and the consequent appearing in the same transaction.</p>
                     <p><a id="d12725e1499" class="indexterm-anchor"></a>Confidence is the conditional probability of the consequent given the antecedent. For example, cereal appears in 50 transactions; 40 of the 50 might also include milk. The rule confidence is:
                     </p><pre class="oac_no_warn" dir="ltr">cereal implies milk with 80% confidence
</pre><p>Confidence is the ratio of the rule support to the number of transactions that include the antecedent. </p>
                     <p>Confidence can be expressed in probability notation as follows.</p><pre class="oac_no_warn" dir="ltr">confidence (A implies B) = P (B/A), which is equal to P(A, B) / P(A)</pre></div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="apriori.html#GUID-0DD7FCEB-1C90-43F4-8F42-963BA707A6D3">Confidence</a></li>
                           <li><a href="apriori.html#GUID-FDAA1BBA-078A-411F-8003-DA7A4BC2F49F" title="Learn about Frequent Itemsets and Support.">Frequent Itemsets</a></li>
                        </ul>
                     </div>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-B7F0AF82-95BE-4641-98A9-866445CBB3AC" name="GUID-B7F0AF82-95BE-4641-98A9-866445CBB3AC"></a><h4 id="DMCON-GUID-B7F0AF82-95BE-4641-98A9-866445CBB3AC" class="sect4"><span class="enumeration_section">11.5.4 </span>Reverse Confidence
                  </h4>
                  <div>
                     <p>The Reverse Confidence of a rule is defined as the number of transactions in which the rule occurs divided by the number of transactions in which the consequent occurs. </p>
                     <p>Reverse Confidence eliminates rules that occur because the consequent is frequent. The default is <code class="codeph">0</code>.
                     </p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="apriori.html#GUID-0DD7FCEB-1C90-43F4-8F42-963BA707A6D3">Confidence</a></li>
                           <li><a href="apriori.html#GUID-BC6755A4-DFDF-4616-848C-60C529E94EA5" title="Example to calculating rules from Frequent itemsets.">Example: Calculating Rules from Frequent Itemsets</a></li>
                           <li><a href="../dmprg/model-detail-views.html#DMPRG-GUID-3B46FDE8-DA4F-4E5C-80E1-F984942E496D" target="_blank"><span><cite>Oracle Data Mining User’s Guide</cite></span></a></li>
                           <li><a href="../arpls/DBMS_DATA_MINING.html#ARPLS-GUID-4669DF41-ED9B-4A61-A9A2-3B553FF23998" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a></li>
                        </ul>
                     </div>
                  </div>
               </div><a id="DMCON294"></a><div class="props_rev_3"><a id="GUID-5099F398-2764-4323-8828-725FE9E63B26" name="GUID-5099F398-2764-4323-8828-725FE9E63B26"></a><h4 id="DMCON-GUID-5099F398-2764-4323-8828-725FE9E63B26" class="sect4"><span class="enumeration_section">11.5.5 </span>Lift
                  </h4>
                  <div>
                     <p>Both <a id="d12725e1598" class="indexterm-anchor"></a>support and confidence must be used to determine if a rule is valid. However, there are times when both of these measures may be high, and yet still produce a rule that is not useful. For example:
                     </p><pre class="oac_no_warn" dir="ltr">Convenience store customers who buy orange juice also buy milk with 
a 75% confidence. 
The combination of milk and orange juice has a support of 30%.
</pre><p>This at first sounds like an excellent rule, and in most cases, it would be. It has high confidence and high support. However, what if convenience store customers in general buy milk 90% of the time? In that case, orange juice customers are actually <span class="italic">less</span> likely to buy milk than customers in general. 
                     </p>
                     <p>A third measure is needed to evaluate the quality of the rule. Lift indicates the strength of a rule over the random co-occurrence of the antecedent and the consequent, given their individual support. It provides information about the improvement, the increase in probability of the consequent given the antecedent. Lift is defined as follows.</p><pre class="oac_no_warn" dir="ltr">(Rule Support) /(Support(Antecedent) * Support(Consequent))
</pre><p>This can also be defined as the confidence of the combination of items divided by the support of the consequent. So in our milk example, assuming that 40% of the customers buy orange juice, the improvement would be:</p><pre class="oac_no_warn" dir="ltr">30% / (40% * 90%)
</pre><p>which is 0.83 &#x2013; an improvement of less than 1. </p>
                     <p>Any rule with an improvement of less than 1 does not indicate a real cross-selling opportunity, no matter how high its support and confidence, because it actually offers less ability to predict a purchase than does random chance.</p>
                     <div class="infobox-tip" id="GUID-5099F398-2764-4323-8828-725FE9E63B26__GUID-87999053-3382-4CD3-AE34-965E2E416BA7">
                        <p class="notep1">Tip:</p>
                        <p>Decrease the maximum rule length if you want to decrease the build time for the model and generate simpler rules. </p>
                     </div>
                     <div class="infobox-tip" id="GUID-5099F398-2764-4323-8828-725FE9E63B26__GUID-1ADC29E6-622A-4684-AB2B-387137EDFB6D">
                        <p class="notep1">Tip:</p>
                        <p>Increase the minimum support if you want to decrease the build time for the model and generate fewer rules.</p>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>