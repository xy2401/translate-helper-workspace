<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>XS_DIAG包</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Real Application Security Administrator&#39;s and Developer&#39;s Guide "></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Real Application Security Administrator&#39;s and Developer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="real-application-security-administrators-and-developers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-11T05:21:48-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2012, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E95725-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="XS_DATA_SECURITY_UTIL-package.html" title="Previous" type="text/html"></link>
      <link rel="next" href="XS_NAMESPACE-package.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Real Application Security Administrator&#39;s and Developer&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="DBFSG"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="XS_DATA_SECURITY_UTIL-package.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="XS_NAMESPACE-package.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Real Application Security管理员和开发人员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="real-application-security-plsql-packages.html" property="item" typeof="WebPage"><span property="name">Oracle数据库真实应用程序安全PL / SQL包</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">XS_DIAG包</li>
            </ol>
            <a id="GUID-A9C89475-4E4F-43D4-981B-C44596FB2B54" name="GUID-A9C89475-4E4F-43D4-981B-C44596FB2B54"></a><a id="DBFSG636"></a>
            
            <h2 id="DBFSG-GUID-A9C89475-4E4F-43D4-981B-C44596FB2B54" class="sect2">XS_DIAG包</h2>
         </header>
         <div class="ind">
            <div>
               <div class="section">
                  <p><code class="codeph">XS_DIAG</code>程序包包含子程序，用于诊断主体，安全类，acls，数据安全策略，命名空间和工作空间中所有对象的数据安全性中的潜在问题。如果对象有效，则所有子程序都返回<code class="codeph">TRUE</code> ;否则，每个返回<code class="codeph">FALSE</code> 。对于每个已识别的不一致，将在<code class="codeph">XS$VALIDATION_TABLE</code>验证表中插入一行，直到达到您使用<code class="codeph">error_limit</code>参数指定的最大不一致数。用户可以查询此验证表，以确定所识别的信息不一致性，包括消息代码，错误描述，导致无效对象的路径以及可能有助于您识别不一致性质的任何其他有用信息。
                  </p>
                  <div class="p">本节包括以下主题：<ul style="list-style-type:disc">
                        <li>
                           <p><a href="XS_DIAG-package.html#GUID-D3FCEE5B-C7E4-4349-86E8-5F50DC511F15">安全模型</a></p>
                        </li>
                        <li>
                           <p><a href="XS_DIAG-package.html#GUID-10B93FBA-CD34-4D9A-9F8E-2E9F63D8E150">XS_DIAG子程序摘要</a></p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
            </div><a id="DBFSG637"></a><div class="props_rev_3"><a id="GUID-D3FCEE5B-C7E4-4349-86E8-5F50DC511F15" name="GUID-D3FCEE5B-C7E4-4349-86E8-5F50DC511F15"></a><h3 id="DBFSG-GUID-D3FCEE5B-C7E4-4349-86E8-5F50DC511F15" class="sect3">安全模型</h3>
               <div>
                  <div class="section">
                     <p><code class="codeph">XS_DIAG</code>包<a id="d112789e263" class="indexterm-anchor"></a>在<code class="codeph">SYS</code>架构中创建。调用者对此程序包具有调用者权限，并且需要具有<code class="codeph">ADMIN_ANY_SEC_POLICY</code>系统特权才能运行<code class="codeph">XS_DIAG</code>程序包。对<code class="codeph">PUBLIC</code>授予<code class="codeph">XS_DIAG</code>包的<code class="codeph">EXECUTE</code>权限。对<code class="codeph">PUBLIC</code>授予对<code class="codeph">XS$VALIDATION_TABLE</code>验证表的<code class="codeph">SELECT</code>权限。</p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="DBFSG639"></a><a id="DBFSG638"></a><div class="props_rev_3"><a id="GUID-10B93FBA-CD34-4D9A-9F8E-2E9F63D8E150" name="GUID-10B93FBA-CD34-4D9A-9F8E-2E9F63D8E150"></a><h3 id="DBFSG-GUID-10B93FBA-CD34-4D9A-9F8E-2E9F63D8E150" class="sect3">XS_DIAG子程序摘要</h3>
               <div>
                  <div class="tblformal" id="GUID-10B93FBA-CD34-4D9A-9F8E-2E9F63D8E150__GUID-386E0EB6-7DBF-41DD-97CE-9FB445364886">
                     <p class="titleintable">表11-8 XS_DIAG子程序汇总</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="XS_DIAG子程序摘要" width="100%" border="1" summary="This table has 2 columns. Column 1 is the name of the subprogram and column 2 is its description." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="47%" id="d112789e419">子程序</th>
                              <th align="left" valign="bottom" width="53%" id="d112789e422">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d112789e427" headers="d112789e419 ">
                                 <p><a href="XS_DIAG-package.html#GUID-5E0D77E1-EF27-49B6-AF38-C5C2F94C0AB1">VALIDATE_PRINCIPAL函数</a></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d112789e427 d112789e422 ">
                                 <p>验证委托人。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d112789e435" headers="d112789e419 ">
                                 <p><a href="XS_DIAG-package.html#GUID-09C2ECF8-EE7D-4233-AE8E-50DDC37D2BAB">VALIDATE_SECURITY_CLASS函数</a></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d112789e435 d112789e422 ">
                                 <p>验证安全性类。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d112789e443" headers="d112789e419 ">
                                 <p><a href="XS_DIAG-package.html#GUID-5F2D3B07-06BC-4EDA-B7DB-D41277E3D1B9">VALIDATE_ACL函数</a></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d112789e443 d112789e422 ">
                                 <p>验证ACL。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d112789e451" headers="d112789e419 ">
                                 <p><a href="XS_DIAG-package.html#GUID-39061A4F-C36E-410E-9944-D8A57E302853">VALIDATE_DATA_SECURITY函数</a></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d112789e451 d112789e422 ">
                                 <p>验证数据安全策略或针对特定表验证数据安全策略。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d112789e459" headers="d112789e419 ">
                                 <p><a href="XS_DIAG-package.html#GUID-306835D0-D57C-4819-894A-315D0579BD08">VALIDATE_NAMESPACE_TEMPLATE函数</a></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d112789e459 d112789e422 ">
                                 <p>验证命名空间模板。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d112789e467" headers="d112789e419 ">
                                 <p><a href="XS_DIAG-package.html#GUID-03CCCD5A-3A8C-4905-9CC8-5F6451936522">VALIDATE_WORKSPACE函数</a></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d112789e467 d112789e422 ">
                                 <p>验证整个工作区。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>本节介绍以下XS_DIAG子程序：</p>
                  </div>
                  <!-- class="section" -->
               </div><a id="DBFSG641"></a><a id="DBFSG642"></a><a id="DBFSG643"></a><a id="DBFSG640"></a><div class="props_rev_3"><a id="GUID-5E0D77E1-EF27-49B6-AF38-C5C2F94C0AB1" name="GUID-5E0D77E1-EF27-49B6-AF38-C5C2F94C0AB1"></a><h4 id="DBFSG-GUID-5E0D77E1-EF27-49B6-AF38-C5C2F94C0AB1" class="sect4">VALIDATE_PRINCIPAL函数</h4>
                  <div>
                     <div class="section">
                        <p><code class="codeph">VALIDATE_PRINCIPAL</code>函数验证主体。如果对象有效，则此函数返回<code class="codeph">TRUE</code> ;否则，它返回<code class="codeph">FALSE</code> 。对于每个已识别的不一致，将在<code class="codeph">XS$VALIDATION_TABLE</code>验证表中插入一行，直到达到可存储的最大不一致数。用户必须查询此验证表以找出导致验证失败的原因。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5E0D77E1-EF27-49B6-AF38-C5C2F94C0AB1__GUID-D69854BD-BBAC-47FD-9C8C-F27D5532B8FD">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">validate_principal（名称IN VARCHAR2，error_limit IN PLS_INTEGER：= 1）RETURN BOOLEAN;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5E0D77E1-EF27-49B6-AF38-C5C2F94C0AB1__GUID-FAC0C42D-43B3-4F78-8D4A-4F04B661B3AE">参数</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-5E0D77E1-EF27-49B6-AF38-C5C2F94C0AB1__GUID-1CD40A91-94AF-47E8-B98E-EDA789963B55">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="VALIDATE_PRINCIPAL Parameters" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d112789e634">参数</th>
                                 <th align="left" valign="bottom" width="69%" id="d112789e637">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d112789e642" headers="d112789e634 ">
                                    <p><code class="codeph">名称</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d112789e642 d112789e637 ">
                                    <p>要验证的对象的名称。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d112789e650" headers="d112789e634 ">
                                    <p><code class="codeph">error_limit</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d112789e650 d112789e637 ">
                                    <p>可以存储在验证表中的最大不一致数。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5E0D77E1-EF27-49B6-AF38-C5C2F94C0AB1__GUID-858BBAC3-F585-4A0A-844D-684E48B16627">例子</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>验证主体user <code class="codeph">user1</code> ，然后查询验证表以防出现不一致。
                        </p><pre class="oac_no_warn" dir="ltr">如果sys.xs_diag.validate_principal（'user1'，100）然后dbms_output.put_line（'用户有效，则开始）。“）; else dbms_output.put_line（'用户无效。“）;万一;结束; / select * from xs $ validation_table;</pre><p>验证主体，角色<code class="codeph">role1</code> ，然后在存在不一致的情况下查询验证表。
                        </p><pre class="oac_no_warn" dir="ltr">如果sys.xs_diag.validate_principal（'role1'，100）则开始，然后dbms_output.put_line（'角色有效。“）; else dbms_output.put_line（'角色无效。“）;万一;结束; / select * from xs $ validation_table;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="DBFSG649"></a><a id="DBFSG650"></a><a id="DBFSG651"></a><a id="DBFSG648"></a><div class="props_rev_3"><a id="GUID-09C2ECF8-EE7D-4233-AE8E-50DDC37D2BAB" name="GUID-09C2ECF8-EE7D-4233-AE8E-50DDC37D2BAB"></a><h4 id="DBFSG-GUID-09C2ECF8-EE7D-4233-AE8E-50DDC37D2BAB" class="sect4">VALIDATE_SECURITY_CLASS函数</h4>
                  <div>
                     <div class="section">
                        <p><code class="codeph">VALIDATE_SECURITY_CLASS</code>函数验证安全性类。如果对象有效，则此函数返回<code class="codeph">TRUE</code> ;否则，它返回<code class="codeph">FALSE</code> 。对于每个已识别的不一致，将在<code class="codeph">XS$VALIDATION_TABLE</code>验证表中插入一行，直到达到可存储的最大不一致数。用户必须查询此验证表以找出导致验证失败的原因。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-09C2ECF8-EE7D-4233-AE8E-50DDC37D2BAB__GUID-B8FE0509-D171-4CAB-BE40-2D55FB8D3055">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">validate_security_class（名称IN VARCHAR2，error_limit IN PLS_INTEGER：= 1）RETURN BOOLEAN;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-09C2ECF8-EE7D-4233-AE8E-50DDC37D2BAB__GUID-25FF7912-A5E8-48A9-B7DE-199D087E9F36">参数</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-09C2ECF8-EE7D-4233-AE8E-50DDC37D2BAB__GUID-8BF88C7E-07AB-48AD-9168-DA0E6448120C">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="VALIDATE_SECURITY_CLASS Parameters" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d112789e832">参数</th>
                                 <th align="left" valign="bottom" width="69%" id="d112789e835">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d112789e840" headers="d112789e832 ">
                                    <p><code class="codeph">名称</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d112789e840 d112789e835 ">
                                    <p>要验证的对象的名称。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d112789e848" headers="d112789e832 ">
                                    <p><code class="codeph">error_limit</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d112789e848 d112789e835 ">
                                    <p>可以存储在验证表中的最大不一致数。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-09C2ECF8-EE7D-4233-AE8E-50DDC37D2BAB__GUID-2FC9B0BA-D61D-49C9-B111-F535FCF3BAF9">例子</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>验证安全性类<code class="codeph">sec1</code> ，然后在存在不一致的情况下查询验证表。
                        </p><pre class="oac_no_warn" dir="ltr">如果sys.xs_diag.validate_security_class（'sec1'，100）则开始，然后是dbms_output.put_line（'安全类有效。“）; else dbms_output.put_line（'安全类无效。“）;万一;结束; / select * from xs $ validation_table;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="DBFSG653"></a><a id="DBFSG654"></a><a id="DBFSG655"></a><a id="DBFSG652"></a><div class="props_rev_3"><a id="GUID-5F2D3B07-06BC-4EDA-B7DB-D41277E3D1B9" name="GUID-5F2D3B07-06BC-4EDA-B7DB-D41277E3D1B9"></a><h4 id="DBFSG-GUID-5F2D3B07-06BC-4EDA-B7DB-D41277E3D1B9" class="sect4">VALIDATE_ACL函数</h4>
                  <div>
                     <div class="section">
                        <p><code class="codeph">VALIDATE_ACL</code>函数验证ACL。如果对象有效，则此函数返回<code class="codeph">TRUE</code> ;否则，它返回<code class="codeph">FALSE</code> 。对于每个已识别的不一致，将在<code class="codeph">XS$VALIDATION_TABLE</code>验证表中插入一行，直到达到可存储的最大不一致数。用户必须查询此验证表以找出导致验证失败的原因。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5F2D3B07-06BC-4EDA-B7DB-D41277E3D1B9__GUID-14D67B5E-7246-4866-B0F4-379096C19778">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">validate_acl（名称IN VARCHAR2，error_limit IN PLS_INTEGER：= 1）RETURN BOOLEAN;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5F2D3B07-06BC-4EDA-B7DB-D41277E3D1B9__GUID-6BF527A4-FA5C-488E-A9FD-C5AC352F7E22">参数</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-5F2D3B07-06BC-4EDA-B7DB-D41277E3D1B9__GUID-F001C13A-9BAB-47F4-A3A1-0324D5D873E7">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="VALIDATE_ACL Parameters" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d112789e1024">参数</th>
                                 <th align="left" valign="bottom" width="69%" id="d112789e1027">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d112789e1032" headers="d112789e1024 ">
                                    <p><code class="codeph">名称</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d112789e1032 d112789e1027 ">
                                    <p>要验证的对象的名称。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d112789e1040" headers="d112789e1024 ">
                                    <p><code class="codeph">error_limit</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d112789e1040 d112789e1027 ">
                                    <p>可以存储在验证表中的最大不一致数。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5F2D3B07-06BC-4EDA-B7DB-D41277E3D1B9__GUID-9DE85198-B293-4347-8405-0BEAF5A63063">例子</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>验证ACL， <code class="codeph">acl1</code> ，然后查询验证表，以防出现不一致。
                        </p><pre class="oac_no_warn" dir="ltr">如果sys.xs_diag.validate_acl（'acl1'，100）则dbms_output.put_line（'ACL有效。“）; else dbms_output.put_line（'ACL无效。“）;万一;结束; / select * from xs $ validation_table;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="DBFSG657"></a><a id="DBFSG658"></a><a id="DBFSG659"></a><a id="DBFSG656"></a><div class="props_rev_3"><a id="GUID-39061A4F-C36E-410E-9944-D8A57E302853" name="GUID-39061A4F-C36E-410E-9944-D8A57E302853"></a><h4 id="DBFSG-GUID-39061A4F-C36E-410E-9944-D8A57E302853" class="sect4">VALIDATE_DATA_SECURITY函数</h4>
                  <div>
                     <div class="section">
                        <p><code class="codeph">VALIDATE_DATA_SECURITY</code>函数验证数据安全性。如果对象有效，则此函数返回<code class="codeph">TRUE</code> ;否则，它返回<code class="codeph">FALSE</code> 。对于每个已识别的不一致，将在<code class="codeph">XS$VALIDATION_TABLE</code>验证表中插入一行，直到达到可存储的最大不一致数。用户必须查询此验证表以找出导致验证失败的原因。
                        </p>
                        <p>此功能有三种策略验证方式。</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>当<code class="codeph">policy</code>不为NULL且<code class="codeph">table_name</code>为<code class="codeph">NULL</code> ，该函数将针对应用策略的所有表验证策略。请注意，当<code class="codeph">table_name</code>为NULL时，即使<code class="codeph">table_owner</code>不为NULL，也会忽略<code class="codeph">table_owner</code> 。</p>
                           </li>
                           <li>
                              <p>当<code class="codeph">policy</code>和<code class="codeph">table_name</code>都不为NULL时，该函数将根据特定表验证策略。如果未提供<code class="codeph">table_owner</code> ，则使用当前架构。
                              </p>
                           </li>
                           <li>
                              <p>当policy为NULL且table_name不为NULL时，该函数将根据表验证应用于表的所有策略。如果未提供<code class="codeph">table_owner</code> ，则使用当前架构。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-39061A4F-C36E-410E-9944-D8A57E302853__GUID-3373D36D-4EAE-49F3-A1D9-3C4312989B5C">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">validate_data_security（policy IN VARCHAR2：= NULL，table_owner IN VARCHAR2：= NULL，table_name IN VARCHAR2：= NULL，error_limit IN PLS_INTEGER：= 1）RETURN BOOLEAN;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-39061A4F-C36E-410E-9944-D8A57E302853__GUID-104E2BEF-ABE7-44F9-92F0-BB72DA977BD6">参数</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-39061A4F-C36E-410E-9944-D8A57E302853__GUID-5DE88FE6-7556-4FFD-BBC1-24FDF8D79F08">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="VALIDATE_DATA_SECURITY Parameters" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d112789e1254">参数</th>
                                 <th align="left" valign="bottom" width="69%" id="d112789e1257">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d112789e1262" headers="d112789e1254 ">
                                    <p><code class="codeph">政策</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d112789e1262 d112789e1257 ">
                                    <p>要验证的对象的名称。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d112789e1270" headers="d112789e1254 ">
                                    <p><code class="codeph">TABLE_OWNER</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d112789e1270 d112789e1257 ">
                                    <p>表或视图的架构名称。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d112789e1278" headers="d112789e1254 ">
                                    <p><code class="codeph">TABLE_NAME</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d112789e1278 d112789e1257 ">
                                    <p>表或视图的名称。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d112789e1286" headers="d112789e1254 ">
                                    <p><code class="codeph">error_limit</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d112789e1286 d112789e1257 ">
                                    <p>可以存储在验证表中的最大不一致数。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-39061A4F-C36E-410E-9944-D8A57E302853__GUID-49E5A1F6-C2C1-4EEE-ACBF-D21A629F45C6">例子</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>在所有应用的表上验证策略<code class="codeph">policy1</code> ，然后在存在不一致的情况下查询验证表。
                        </p><pre class="oac_no_warn" dir="ltr">如果sys.xs_diag.validate_data_security（policy =&gt;'policy1'，error_limit =&gt; 100）则开始，然后dbms_output.put_line（'该策略对所有应用的表都有效。“）; else dbms_output.put_line（'某些应用表的策略无效。“）;万一;结束; / select * from xs $ validation_table;</pre><p>验证给定表上的策略<code class="codeph">policy1</code> ，然后在存在不一致的情况下查询验证表。
                        </p><pre class="oac_no_warn" dir="ltr">如果sys.xs_diag.validate_data_security（policy =&gt;'policy1'，table_owner =&gt;'HR'，table_name =&gt;'EMPLOYEES'，error_limit =&gt; 100）则开始，然后dbms_output.put_line（'该策略在表上有效。“）; else dbms_output.put_line（'该策略在表上无效。“）;万一;结束; / select * from xs $ validation_table;</pre><p>验证应用于给定表的所有策略，然后在存在不一致的情况下查询验证表。</p><pre class="oac_no_warn" dir="ltr">如果sys.xs_diag.validate_data_security（table_owner =&gt;'HR'，table_name =&gt;'EMPLOYEES'，error_limit =&gt; 100）则开始，然后dbms_output.put_line（'表上的所有应用策略都有效。“）; else dbms_output.put_line（'表上的某些应用策略无效'）;万一;结束; / select * from xs $ validation_table;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="DBFSG661"></a><a id="DBFSG662"></a><a id="DBFSG663"></a><a id="DBFSG660"></a><div class="props_rev_3"><a id="GUID-306835D0-D57C-4819-894A-315D0579BD08" name="GUID-306835D0-D57C-4819-894A-315D0579BD08"></a><h4 id="DBFSG-GUID-306835D0-D57C-4819-894A-315D0579BD08" class="sect4">VALIDATE_NAMESPACE_TEMPLATE函数</h4>
                  <div>
                     <div class="section">
                        <p><code class="codeph">VALIDATE_NAMESPACE_TEMPLATE</code>函数验证命名空间。如果对象有效，则此函数返回<code class="codeph">TRUE</code> ;否则，它返回<code class="codeph">FALSE</code> 。对于每个已识别的不一致，将在<code class="codeph">XS$VALIDATION_TABLE</code>验证表中插入一行，直到达到可存储的最大不一致数。用户必须查询此验证表以找出导致验证失败的原因。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-306835D0-D57C-4819-894A-315D0579BD08__GUID-608C7D69-E707-43D7-B494-A806D614B916">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">validate_namespace_template（name IN VARCHAR2，error_limit IN PLS_INTEGER：= 1）RETURN BOOLEAN;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-306835D0-D57C-4819-894A-315D0579BD08__GUID-95CE7BC8-8234-4517-8992-629E30128A19">参数</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-306835D0-D57C-4819-894A-315D0579BD08__GUID-94F9EC37-B837-4337-80D3-9ABB9C66F97A">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="VALIDATE_NAMESPACE_TEMPLATE Parameters" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d112789e1472">参数</th>
                                 <th align="left" valign="bottom" width="69%" id="d112789e1475">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d112789e1480" headers="d112789e1472 ">
                                    <p><code class="codeph">名称</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d112789e1480 d112789e1475 ">
                                    <p>要验证的对象的名称。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d112789e1488" headers="d112789e1472 ">
                                    <p><code class="codeph">error_limit</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d112789e1488 d112789e1475 ">
                                    <p>可以存储在验证表中的最大不一致数。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-306835D0-D57C-4819-894A-315D0579BD08__GUID-0CE5773A-5433-471A-8402-0D6955FFFD0D">例子</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>验证命名空间<code class="codeph">ns1</code> ，然后查询验证表以防出现不一致。
                        </p><pre class="oac_no_warn" dir="ltr">如果sys.xs_diag.validate_namespace_template（'ns1'，100）则开始，然后dbms_output.put_line（'命名空间模板有效。“）; else dbms_output.put_line（'命名空间模板无效。“）;万一;结束; / select * from xs $ validation_table;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="DBFSG665"></a><a id="DBFSG666"></a><a id="DBFSG667"></a><a id="DBFSG664"></a><div class="props_rev_3"><a id="GUID-03CCCD5A-3A8C-4905-9CC8-5F6451936522" name="GUID-03CCCD5A-3A8C-4905-9CC8-5F6451936522"></a><h4 id="DBFSG-GUID-03CCCD5A-3A8C-4905-9CC8-5F6451936522" class="sect4">VALIDATE_WORKSPACE函数</h4>
                  <div>
                     <div class="section">
                        <p><code class="codeph">VALIDATE_WORKSPACE</code>函数验证所有工件，换句话说，它使用这一个函数验证工作空间中存在的所有对象。如果所有对象都有效，则此函数返回<code class="codeph">TRUE</code> ;否则，它返回<code class="codeph">FALSE</code> 。对于每个已识别的不一致，将在<code class="codeph">XS$VALIDATION_TABLE</code>验证表中插入一行，直到达到可存储的最大不一致数。用户必须查询此验证表以找出导致验证失败的原因。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-03CCCD5A-3A8C-4905-9CC8-5F6451936522__GUID-6481594F-3341-4DAA-89F0-97A8804DBFC0">句法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">validate_workspace（error_limit IN PLS_INTEGER：= 1）RETURN BOOLEAN;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-03CCCD5A-3A8C-4905-9CC8-5F6451936522__GUID-8E16C71F-3E5D-4067-8AE9-42CA19B01144">参数</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-03CCCD5A-3A8C-4905-9CC8-5F6451936522__GUID-250CCA32-0AAB-479F-9A25-2D9B3D57BBA4">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="VALIDATE_WORKSPACE Parameters" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d112789e1664">参数</th>
                                 <th align="left" valign="bottom" width="69%" id="d112789e1667">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d112789e1672" headers="d112789e1664 ">
                                    <p><code class="codeph">error_limit</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d112789e1672 d112789e1667 ">
                                    <p>可以存储在验证表中的最大不一致数。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-03CCCD5A-3A8C-4905-9CC8-5F6451936522__GUID-65E74DDF-D11F-44BE-8CD8-4E46A477F7E2">例子</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>验证工作空间中的所有对象，然后查询验证表以防出现不一致。</p><pre class="oac_no_warn" dir="ltr">如果sys.xs_diag.validate_workspace（100）然后dbms_output.put_line（'对象有效，则开始）。“）; else dbms_output.put_line（'对象无效。“）;万一;结束; / select * from xs $ validation_table;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>