<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="Memory management involves maintaining optimal sizes for the Oracle Database instance memory structures as demands on the database change."></meta>
      <meta name="description" content="Memory management involves maintaining optimal sizes for the Oracle Database instance memory structures as demands on the database change."></meta>
      <title>管理记忆</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Database Administrator’s Guide "></meta>
      <meta property="og:description" content="Memory management involves maintaining optimal sizes for the Oracle Database instance memory structures as demands on the database change."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Database Administrator’s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-administrators-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-03-14T11:02:35-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96348-04"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="managing-processes.html" title="Previous" type="text/html"></link>
      <link rel="next" href="managing-users-and-securing-the-database.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Administrator&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="ADMIN"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="managing-processes.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="managing-users-and-securing-the-database.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">数据库管理员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="basic-database-administration.html" property="item" typeof="WebPage"><span property="name">基础数据库管理</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">管理记忆</li>
            </ol>
            <a id="GUID-BEABE53D-8058-4834-B99B-5C80A8AD5B06" name="GUID-BEABE53D-8058-4834-B99B-5C80A8AD5B06"></a><a id="ADMIN00207"></a>
            
            <h2 id="ADMIN-GUID-BEABE53D-8058-4834-B99B-5C80A8AD5B06" class="sect2"><span class="enumeration_chapter">6</span>管理记忆</h2>
         </header>
         <div class="ind">
            <p>内存管理涉及在数据库更改需求时维护Oracle数据库实例内存结构的最佳大小。</p>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="managing-memory.html#GUID-04EFED7D-D1F1-43C3-B78F-0FF9AFAC02B0">关于内存管理</a><br>必须管理的存储器结构是系统全局区域（SGA）和实例程序全局区域（实例PGA）。Oracle数据库支持各种内存管理方法，这些方法由初始化参数设置选择。
                  </li>
                  <li class="ulchildlink"><a href="managing-memory.html#GUID-24312D78-522D-4C08-8934-820BE18D34C7">内存架构概述</a><br>了解与Oracle数据库关联的基本内存结构。
                  </li>
                  <li class="ulchildlink"><a href="managing-memory.html#GUID-8F54391B-D42A-4FDA-9D12-E1F81FD113EA">使用自动内存管理</a><br>您可以允许Oracle数据库实例自动管理和调整内存。
                  </li>
                  <li class="ulchildlink"><a href="managing-memory.html#GUID-27A013E8-66E2-483B-83A4-76DE10E3DADD">手动配置内存</a><br>如果您希望对单个内存组件的大小进行更直接的控制，则可以禁用自动内存管理并将数据库配置为手动内存管理。
                  </li>
                  <li class="ulchildlink"><a href="managing-memory.html#GUID-CEBDCC3D-4B69-43C1-A7BE-F635F9F69D5F">使用强制完全数据库缓存模式</a><br>Oracle数据库实例可以将完整数据库缓存在缓冲区缓存中。
                  </li>
                  <li class="ulchildlink"><a href="managing-memory.html#GUID-31E0885D-53DB-442D-BC5F-DDE0588C915A">配置数据库智能闪存缓存</a><br>数据库智能闪存缓存功能是使用固态设备（SSD）技术的数据库缓冲区缓存的透明扩展。数据库智能闪存缓存可以通过减少磁盘I / O的数量来大大提高Oracle数据库的性能，其成本远低于添加等量的RAM。</li>
                  <li class="ulchildlink"><a href="managing-memory.html#GUID-7990553D-9199-4AFE-B912-40ADC9C3EDF1">使用Oracle数据库内存提高查询性能</a><br>Oracle数据库内存（Database In-Memory）是Oracle数据库12 <span class="italic">c</span>第1版（12.1.0.2）中首次引入的一套功能，可极大地提高实时分析和混合工作负载的性能。
                  </li>
                  <li class="ulchildlink"><a href="managing-memory.html#GUID-902A51B8-F850-4B89-938A-220B3DF49145">使用Memoptimized Rowstore启用高性能数据流</a><br>Memoptimized Rowstore为应用程序提供高性能数据流，例如物联网（IoT）应用程序，它们通常在同时从大量客户端插入单行插入的少量数据，并以非常高的频率查询客户端的数据。
                  </li>
                  <li class="ulchildlink"><a href="managing-memory.html#GUID-2D28DBE2-1CA8-484E-A1CF-3280F939D009">内存管理参考</a><br>仅在某些平台上支持自动内存管理。此外，您还可以查询一组数据字典视图，以获取有关内存管理的信息。
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>父主题：</strong> <a href="basic-database-administration.html#GUID-1DF51F9B-86E9-4E40-A30E-00714E7C0003" title="数据库管理员具有特定的职责，必须了解如何完成数据库管理任务。">基本数据库管理</a></p>
                  </div>
               </div>
            </div>
            <a id="ADMIN12562"></a><a id="ADMIN12563"></a><a id="ADMIN11197"></a><div class="props_rev_3"><a id="GUID-04EFED7D-D1F1-43C3-B78F-0FF9AFAC02B0" name="GUID-04EFED7D-D1F1-43C3-B78F-0FF9AFAC02B0"></a><h3 id="ADMIN-GUID-04EFED7D-D1F1-43C3-B78F-0FF9AFAC02B0" class="sect3"><span class="enumeration_section">6.1</span>关于内存管理</h3>
               <div>
                  <p>必须管理的存储器结构是系统全局区域（SGA）和实例程序全局区域（实例PGA）。Oracle数据库支持各种内存管理方法，这些方法由初始化参数设置选择。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-04EFED7D-D1F1-43C3-B78F-0FF9AFAC02B0__GUID-7258E617-4E3D-421B-8B7A-016689803448">自动内存管理</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>Oracle数据库可以完全自动管理SGA内存和实例PGA内存。您只指定实例使用的总内存大小，Oracle Database根据需要动态地在SGA和实例PGA之间交换内存以满足处理需求。此功能称为<span class="italic">自动内存管理</span> 。利用这种存储器管理方法，数据库还可以动态调整各个SGA组件的大小和各个PGA的大小。Oracle建议对数据库进行自动内存管理，其中SGA和PGA内存的总大小小于或等于4千兆字节。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-04EFED7D-D1F1-43C3-B78F-0FF9AFAC02B0__GUID-88FF8DB3-AEF5-44E5-BCA5-2816DF69FD7F">手动内存管理</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>如果您希望对单个内存组件的大小进行更直接的控制，则可以禁用自动内存管理并将数据库配置为手动内存管理。有几种不同的方法可用于手动内存管理。其中一些方法保留了一定程度的自动化。因此，这些方法在DBA所需的工作量和知识上有所不同。这些方法是：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>自动共享内存管理 - 用于SGA</p>
                        </li>
                        <li>
                           <p>手动共享内存管理 - 用于SGA</p>
                        </li>
                        <li>
                           <p>自动PGA内存管理 - 用于实例PGA</p>
                        </li>
                        <li>
                           <p>手动PGA内存管理 - 用于实例PGA</p>
                        </li>
                     </ul>
                     <p>这些内存管理方法将在本章后面介绍。</p>
                     <p>如果使用Database Configuration Assistant（DBCA）创建数据库并选择基本安装选项，则在系统内存小于或等于4千兆字节时启用自动内存管理。当系统内存大于4千兆字节时，将禁用自动内存管理，并启用自动共享内存管理。如果选择高级安装，则DBCA允许您选择自动内存管理或自动共享内存管理。</p>
                     <p>当SGA和PGA内存的总大小为4千兆字节或更大时，Oracle建议使用自动共享内存管理。</p>
                     <div class="infoboxnote" id="GUID-04EFED7D-D1F1-43C3-B78F-0FF9AFAC02B0__GUID-63FD844F-6180-44A8-99FA-E235555CB6D3">
                        <p class="notep1">注意：</p>
                        <p>管理内存的最简单方法是使用Oracle Enterprise Manager Database Express（EM Express）或Oracle Enterprise Manager云控制（云控制）的图形用户界面。</p>
                        <p>有关使用EM Express管理内存的信息，请参阅<a href="../admqs/managing-the-oracle-instance.html#ADMQS054" target="_blank"><span class="italic">Oracle Database 2 Day DBA</span></a> 。</p>
                        <p>有关使用Cloud Control管理内存的信息，请参阅Cloud Control联机帮助。</p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-04EFED7D-D1F1-43C3-B78F-0FF9AFAC02B0__GUID-1E64C81E-7473-4F51-B920-2B7E8BEF69A6">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="../cncpt/concepts-for-database-administrators.html#CNCPT1244" target="_blank"><span class="italic">Oracle Database Concepts</span></a> ，介绍各种自动和手动管理内存的方法。
                     </p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="managing-memory.html#GUID-BEABE53D-8058-4834-B99B-5C80A8AD5B06" title="内存管理涉及在数据库更改需求时维护Oracle数据库实例内存结构的最佳大小。">管理内存</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADMIN13019"></a><a id="ADMIN11198"></a><div class="props_rev_3"><a id="GUID-24312D78-522D-4C08-8934-820BE18D34C7" name="GUID-24312D78-522D-4C08-8934-820BE18D34C7"></a><h3 id="ADMIN-GUID-24312D78-522D-4C08-8934-820BE18D34C7" class="sect3"><span class="enumeration_section">6.2</span>内存架构概述</h3>
               <div>
                  <p>了解与Oracle数据库关联的基本内存结构。</p>
                  <p>与Oracle数据库关联的基本内存结构包括：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>系统全局区域（SGA）</p>
                        <p>SGA是一组共享内存结构，称为<span class="italic">SGA组件</span> ，包含一个Oracle数据库实例的数据和控制信息。SGA由所有服务器和后台进程共享。存储在SGA中的数据的示例包括高速缓存的数据块和共享的SQL区域。
                        </p>
                     </li>
                     <li>
                        <p>全球计划（PGA）</p>
                        <p>PGA是包含服务器进程的数据和控制信息的内存区域。它是服务器进程启动时由Oracle数据库创建的非共享内存。访问PGA是服务器进程独有的。每个服务器进程都有一个PGA。后台进程还分配自己的PGA。为连接到Oracle数据库实例的所有后台和服务器进程分配的总PGA内存称为<span class="bold">总实例PGA内存</span> ，所有单个PGA的集合称为<span class="bold">总实例PGA</span> ，或仅称为<span class="bold">实例PGA</span> 。</p>
                     </li>
                  </ul>
                  <p><a href="managing-memory.html#GUID-24312D78-522D-4C08-8934-820BE18D34C7__CHDHAHIJ">图6-1</a>说明了这些内存结构之间的关系。
                  </p>
                  <div class="figure" id="GUID-24312D78-522D-4C08-8934-820BE18D34C7__CHDHAHIJ">
                     <p class="titleinfigure">图6-1 Oracle数据库内存结构</p><img src="img/admin083.png" width="445" alt="下面是图6-1的描述" title="下面是图6-1的描述" longdesc="img_text/admin083.html"><br><a href="img_text/admin083.html">“图6-1 Oracle数据库内存结构”的说明</a></div>
                  <!-- class="figure" -->
                  <p>如果数据库在Solaris或Oracle Linux上运行，则可以选择添加另一个内存组件：Database Smart Flash Cache。Database Smart Flash Cache是SGA驻留缓冲区缓存的扩展，为数据库块提供2级缓存。它可以改善数据仓库环境中读取密集型联机事务处理（OLTP）工作负载和即席查询以及批量数据修改的响应时间和总体吞吐量。Database Smart Flash Cache驻留在一个或多个闪存磁盘设备上，这些设备是使用闪存的固态存储设备。数据库智能闪存缓存通常比额外的主存储器更经济，并且比磁盘驱动器快一个数量级。</p>
                  <p><a id="d105594e260" class="indexterm-anchor"></a><a id="d105594e262" class="indexterm-anchor"></a><a id="d105594e264" class="indexterm-anchor"></a>从Oracle Database 12 <span class="italic">c</span>第1版（12.1.0.2）开始，大表缓存使串行查询和并行查询能够使用缓冲区缓存。大表缓存有助于在数据仓库环境中对大型表进行高效缓存，即使这些表不完全适合缓冲区缓存。表扫描可以在以下方案中使用大表缓存：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>并行查询</p>
                        <p>在单实例和Oracle Real Application Clusters（Oracle RAC）数据库中，当<code class="codeph">DB_BIG_TABLE_CACHE_PERCENT_TARGET</code>初始化参数设置为非零值并且<code class="codeph">PARALLEL_DEGREE_POLICY</code>设置为<code class="codeph">AUTO</code>或<code class="codeph">ADAPTIVE</code>时，并行查询可以使用大表缓存。</p>
                     </li>
                     <li>
                        <p>串行查询</p>
                        <p>仅在单实例配置中，当<code class="codeph">DB_BIG_TABLE_CACHE_PERCENT_TARGET</code>初始化参数设置为非零值时，串行查询可以使用大表缓存。
                        </p>
                     </li>
                  </ul>
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-24312D78-522D-4C08-8934-820BE18D34C7__GUID-D8A3B9B7-BC57-4B28-B114-8534579979B4">
                     <p class="notep1">也可以看看：</p>
                     <p></p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="q">“ <a href="managing-memory.html#GUID-31E0885D-53DB-442D-BC5F-DDE0588C915A" title="数据库智能闪存缓存功能是使用固态设备（SSD）技术的数据库缓冲区缓存的透明扩展。数据库智能闪存缓存可以通过减少磁盘I / O的数量来大大提高Oracle数据库的性能，其成本远低于添加等量的RAM。">配置数据库智能闪存缓存</a> ”</span></p>
                        </li>
                        <li>
                           <p>有关Oracle数据库实例中内存体系结构的更多信息，请参见<a href="../cncpt/memory-architecture.html#CNCPT007" target="_blank"><span class="italic">Oracle数据库概念</span></a></p>
                        </li>
                        <li>
                           <p>有关<code class="codeph">DB_BIG_TABLE_CACHE_PERCENT_TARGET</code>初始化参数的详细信息，请<code class="codeph">DB_BIG_TABLE_CACHE_PERCENT_TARGET</code> <a href="../refrn/DB_BIG_TABLE_CACHE_PERCENT_TARGET.html#REFRN10340" target="_blank"><span class="italic">Oracle数据库参考</span></a></p>
                        </li>
                        <li>
                           <p>有关<code class="codeph">PARALLEL_DEGREE_POLICY</code>初始化参数的详细信息，请<a href="../refrn/PARALLEL_DEGREE_POLICY.html#REFRN10310" target="_blank"><span class="italic">参见Oracle数据库参考</span></a></p>
                        </li>
                        <li>
                           <p>有关大表缓存的更多信息<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=VLDBG14145" target="_blank"><span class="italic">，请参见“Oracle数据库VLDB和分区指南”</span></a></p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="managing-memory.html#GUID-BEABE53D-8058-4834-B99B-5C80A8AD5B06" title="内存管理涉及在数据库更改需求时维护Oracle数据库实例内存结构的最佳大小。">管理内存</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADMIN11011"></a><div class="props_rev_3"><a id="GUID-8F54391B-D42A-4FDA-9D12-E1F81FD113EA" name="GUID-8F54391B-D42A-4FDA-9D12-E1F81FD113EA"></a><h3 id="ADMIN-GUID-8F54391B-D42A-4FDA-9D12-E1F81FD113EA" class="sect3"><span class="enumeration_section">6.3</span>使用自动内存管理</h3>
               <p>您可以允许Oracle数据库实例自动管理和调整内存。</p>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-memory.html#GUID-0F348EAB-9970-4207-8EF3-0F58B64E959A">关于自动内存管理</a><br>管理实例内存的最简单方法是允许Oracle数据库实例自动为您管理和调整它。为此（在大多数平台上），您只设置<span class="italic">目标</span>内存大小初始化参数（ <code class="codeph">MEMORY_TARGET</code> ）和可选的<span class="italic">最大</span>内存大小初始化参数（ <code class="codeph">MEMORY_MAX_TARGET</code> ）。
                     </li>
                     <li class="ulchildlink"><a href="managing-memory.html#GUID-0E201F66-D280-472A-AD80-20AB8F7E9C01">启用自动内存管理</a><br>如果在创建数据库时未启用自动内存管理（通过在DBCA中选择适当的选项或通过为<code class="codeph">CREATE DATABASE</code> SQL语句设置适当的初始化参数），则可以在以后启用它。启用自动内存管理涉及关闭和重新启动数据库。
                     </li>
                     <li class="ulchildlink"><a href="managing-memory.html#GUID-98B11E31-DFAB-4AF6-9438-6B3C9DDB9847">监控和调整自动内存管理</a><br>动态性能视图<code class="codeph">V$MEMORY_DYNAMIC_COMPONENTS</code>显示所有动态调整的内存组件的当前大小，包括SGA和实例PGA的总大小。</li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="managing-memory.html#GUID-BEABE53D-8058-4834-B99B-5C80A8AD5B06" title="内存管理涉及在数据库更改需求时维护Oracle数据库实例内存结构的最佳大小。">管理内存</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN11199"></a><div class="props_rev_3"><a id="GUID-0F348EAB-9970-4207-8EF3-0F58B64E959A" name="GUID-0F348EAB-9970-4207-8EF3-0F58B64E959A"></a><h4 id="ADMIN-GUID-0F348EAB-9970-4207-8EF3-0F58B64E959A" class="sect4"><span class="enumeration_section">6.3.1</span>关于自动内存管理</h4>
                  <div>
                     <p>管理实例内存的最简单方法是允许Oracle数据库实例自动为您管理和调整它。为此（在大多数平台上），您只设置<span class="italic">目标</span>内存大小初始化参数（ <code class="codeph">MEMORY_TARGET</code> ）和可选的<span class="italic">最大</span>内存大小初始化参数（ <code class="codeph">MEMORY_MAX_TARGET</code> ）。
                     </p>
                     <p>实例使用的总内存基于<code class="codeph">MEMORY_TARGET</code>的值保持相对恒定，并且实例自动在系统全局区域（SGA）和实例程序全局区域（实例PGA）之间分配内存。随着内存需求的变化，实例动态地在SGA和实例PGA之间重新分配内存。</p>
                     <p>如果未启用自动内存管理，则必须手动调整SGA和实例PGA的大小。</p>
                     <p>由于<code class="codeph">MEMORY_TARGET</code>初始化参数是动态的，因此您可以随时更改<code class="codeph">MEMORY_TARGET</code>而无需重新启动数据库。<code class="codeph">MEMORY_MAX_TARGET</code> （非动态）用作上限，因此您不会意外地将<code class="codeph">MEMORY_TARGET</code>设置得太高，以便为数据库实例留出足够的内存，以防您以后想要增加总实例内存。由于某些SGA组件不能轻易收缩或必须保持最小大小，因此该实例还会阻止您将<code class="codeph">MEMORY_TARGET</code>设置得太低。
                     </p>
                     <div class="infoboxnote" id="GUID-0F348EAB-9970-4207-8EF3-0F58B64E959A__GUID-8EA3E65C-CB8A-4712-BB07-9A63D689215A">
                        <p class="notep1">注意：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>如果数据库实例的总物理内存大于4 GB，则在数据库安装和创建期间无法指定“自动内存管理”选项。Oracle建议您在此类环境中使用自动共享内存管理。</p>
                           </li>
                           <li>
                              <p>如果<code class="codeph">LOCK_SGA</code>初始化参数为<code class="codeph">TRUE</code>则无法启用自动内存管理。有关此参数的信息，请参见<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=REFRN10084" target="_blank"><span class="italic">Oracle数据库参考</span></a> 。
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-0F348EAB-9970-4207-8EF3-0F58B64E959A__GUID-213CBE48-CA88-4082-B27A-ADC567ADA571">
                        <p class="notep1">也可以看看：</p>
                        <p><span class="q">“ <a href="managing-memory.html#GUID-16238F1A-3747-4893-8B8C-EEE51F4EF72B" title="某些平台支持自动内存管理。">支持自动内存管理的平台</a> ”</span></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-memory.html#GUID-8F54391B-D42A-4FDA-9D12-E1F81FD113EA" title="您可以允许Oracle数据库实例自动管理和调整内存。">使用自动内存管理</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN12564"></a><a id="ADMIN11200"></a><div class="props_rev_3"><a id="GUID-0E201F66-D280-472A-AD80-20AB8F7E9C01" name="GUID-0E201F66-D280-472A-AD80-20AB8F7E9C01"></a><h4 id="ADMIN-GUID-0E201F66-D280-472A-AD80-20AB8F7E9C01" class="sect4"><span class="enumeration_section">6.3.2</span>启用自动内存管理</h4>
                  <div>
                     <p>如果在创建数据库时未启用自动内存管理（通过在DBCA中选择适当的选项或通过为<code class="codeph">CREATE DATABASE</code> SQL语句设置适当的初始化参数），则可以在以后启用它。启用自动内存管理涉及关闭和重新启动数据库。
                     </p>
                     <div class="section">
                        <p>要启用自动内存管理：</p>
                        <ol>
                           <li>
                              <p>启动SQL * Plus并使用<code class="codeph">SYSDBA</code>管理权限连接到Oracle数据库实例。
                              </p>
                              <p>有关说明，请参阅<span class="q">“ <a href="getting-started-with-database-administration.html#GUID-895EC72B-C620-4D93-9F23-3F6DC1706764" title="Oracle数据库包括以下组件：Oracle数据库实例（一组进程和内存）以及一组包含用户数据和系统数据的磁盘文件。">使用SQL * Plus连接到数据库</a> ”</span>和<span class="q">“ <a href="getting-started-with-database-administration.html#GUID-F5B8F921-18D6-4DA0-809D-F14F241E016D" title="作为DBA，您经常执行特殊操作，例如关闭或启动数据库。由于只有DBA应执行这些操作，因此数据库管理员用户名需要安全的身份验证方案。">数据库管理员身份验证</a> ”</span> 。
                              </p>
                           </li>
                           <li>
                              <p>计算<code class="codeph">MEMORY_TARGET</code>的最小值，如下所示：</p>
                              <ol type="a">
                                 <li>
                                    <p>通过输入以下SQL * Plus命令，确定<code class="codeph">SGA_TARGET</code>和<code class="codeph">PGA_AGGREGATE_TARGET</code>的当前大小（以兆字节为单位）：</p><pre class="oac_no_warn" dir="ltr">SHOW PARAMETER SGA_TARGET NAME TYPE VALUE ------------------------------------ -------- --- -------------------------- sga_target大整数272M SHOW PARAMETER PGA_AGGREGATE_TARGET NAME TYPE VALUE ----------- ------------------------- ----------- -------------- ------------ pga_aggregate_target大整数90M</pre><p>有关设置<code class="codeph">SGA_TARGET</code>参数（如果未设置）的信息，请参阅<span class="q">“ <a href="managing-memory.html#GUID-0E0EBCD5-6134-492B-9232-3F76D92B1900" title="启用自动共享内存管理（ASMM）的过程会有所不同，具体取决于您是从手动共享内存管理还是从自动内存管理更改为ASMM。">启用自动共享内存管理</a> ”</span> 。
                                    </p>
                                 </li>
                                 <li>
                                    <p>运行以下查询以确定自数据库启动以来以兆字节为单位分配的最大实例PGA：</p><pre class="oac_no_warn" dir="ltr">SELECT VALUE / 1048576来自V $ PGASTAT WHERE NAME ='分配的最大PGA';</pre></li>
                                 <li>
                                    <p>计算步骤2b和<code class="codeph">PGA_AGGREGATE_TARGET</code>的查询结果之间的最大值。将<code class="codeph">SGA_TARGET</code>添加到此值。
                                    </p><pre class="oac_no_warn" dir="ltr">MEMORY_TARGET = SGA_TARGET + MAX（PGA_AGGREGATE_TARGET，MAXIMUM PGA ALLOCATED）</pre></li>
                              </ol>
                              <p>例如，如果<code class="codeph">SGA_TARGET</code>为272M且<code class="codeph">PGA_AGGREGATE_TARGET</code>为90M，如上所示，并且如果确定分配的最大PGA为120M，则<code class="codeph">MEMORY_TARGET</code>应至少为392M（272M + 120M）。
                              </p>
                           </li>
                           <li id="GUID-0E201F66-D280-472A-AD80-20AB8F7E9C01__BGBBCCJH">
                              <p>选择要使用的<code class="codeph">MEMORY_TARGET</code>的值。
                              </p>
                              <p>这可以是您在步骤2中计算的最小值，或者如果您有足够的可用物理内存，则可以选择使用更大的值。</p>
                           </li>
                           <li id="GUID-0E201F66-D280-472A-AD80-20AB8F7E9C01__BGBGJFHE">
                              <p>对于<code class="codeph">MEMORY_MAX_TARGET</code>初始化参数，确定在可预见的将来您希望分配给数据库的最大内存量。也就是说，确定SGA和实例PGA大小之和的最大值。此数字可以大于或<code class="codeph">MEMORY_TARGET</code>您在上一步中选择的<code class="codeph">MEMORY_TARGET</code>值。
                              </p>
                           </li>
                           <li>
                              <p>执行以下操作之一：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>如果使用服务器参数文件启动Oracle数据库实例，如果使用Database Configuration Assistant（DBCA）创建数据库，则这是默认设置，请输入以下命令：</p><pre class="oac_no_warn" dir="ltr">ALTER SYSTEM SET MEMORY_MAX_TARGET = <span class="italic">n</span> M SCOPE = SPFILE;</pre><p>其中<span class="italic">n</span>是您在步骤4中计算的值。
                                    </p>
                                    <p><code class="codeph">SCOPE</code> <code class="codeph">=</code> <code class="codeph">SPFILE</code>子句仅在服务器参数文件中设置值，而不是为正在运行的实例设置值。您必须包含此<code class="codeph">SCOPE</code>子句，因为<code class="codeph">MEMORY_MAX_TARGET</code>不是动态初始化参数。
                                    </p>
                                 </li>
                                 <li>
                                    <p>如果使用文本初始化参数文件启动实例，请手动编辑该文件，使其包含以下语句：</p><pre class="oac_no_warn" dir="ltr">memory_max_target = <span class="italic">n</span> M memory_target = <span class="italic">m</span> M.</pre><p>其中<span class="italic">n</span>是您在步骤4中确定的值， <span class="italic">m</span>是您在步骤3中确定的值。
                                    </p>
                                 </li>
                              </ul>
                              <div class="infoboxnote" id="GUID-0E201F66-D280-472A-AD80-20AB8F7E9C01__GUID-ED8CCF9D-E51A-47AA-9D75-C454AA51DEEB">
                                 <p class="notep1">注意：</p>
                                 <p>在一个文本初始化参数文件，如果省略行<code class="codeph">MEMORY_MAX_TARGET</code>并包括一个价值<code class="codeph">MEMORY_TARGET</code> ，则数据库会自动设置<code class="codeph">MEMORY_MAX_TARGET</code>到的值<code class="codeph">MEMORY_TARGET</code> 。如果省略行<code class="codeph">MEMORY_TARGET</code> ，并包括一个价值<code class="codeph">MEMORY_MAX_TARGET</code> ，那么<code class="codeph">MEMORY_TARGET</code>参数的默认值为零。启动后，你就可以动态地改变<code class="codeph">MEMORY_TARGET</code>为非零值，只要不超过价值<code class="codeph">MEMORY_MAX_TARGET</code> 。</p>
                              </div>
                           </li>
                           <li>
                              <p>关闭并重新启动数据库。</p>
                              <p>有关说明，请参阅<a href="starting-up-and-shutting-down.html#GUID-045DE684-6680-4099-A49E-2F5B5FA59670" title="启动数据库时，将创建该数据库的实例，并确定数据库的状态。关闭当前运行的Oracle数据库实例可以选择关闭和卸载数据库。">启动和关闭</a> 。
                              </p>
                           </li>
                           <li>
                              <p>如果使用服务器参数文件启动Oracle数据库实例，请输入以下命令：</p><pre class="oac_no_warn" dir="ltr">ALTER SYSTEM SET MEMORY_TARGET = <span class="italic">n</span> M; ALTER SYSTEM SET SGA_TARGET = 0; ALTER SYSTEM SET PGA_AGGREGATE_TARGET = 0;</pre><p>其中<span class="italic">n</span>是您在步骤3中确定的值。
                              </p>
                           </li>
                        </ol>
                        <div class="infoboxnote" id="GUID-0E201F66-D280-472A-AD80-20AB8F7E9C01__GUID-879F7970-A673-47B9-80A7-B77199338807">
                           <p class="notep1">注意：</p>
                           <p>设置<code class="codeph">MEMORY_TARGET</code> ， <code class="codeph">SGA_TARGET</code>设置将成为SGA的最小大小， <code class="codeph">PGA_AGGREGATE_TARGET</code>设置将成为实例PGA的最小大小。如图所示，通过将这两者设置为零，没有最小值，只要SGA和实例PGA的总和小于或等于<code class="codeph">MEMORY_TARGET</code>设置，它们就可以根据需要增长。SQL工作区的大小调整仍然是自动的。
                           </p>
                           <p>您可以省略将<code class="codeph">SGA_TARGET</code>和<code class="codeph">PGA_AGGREGATE_TARGET</code>参数值设置为零的语句，并将其中一个或两个值保留为正数。在这种情况下，这些值充当SGA或实例PGA的大小的最小值。</p>
                           <p>此外，您可以使用<code class="codeph">PGA_AGGREGATE_LIMIT</code>初始化参数为PGA内存设置实例范围的硬限制。无论是否使用自动内存管理，都可以设置<code class="codeph">PGA_AGGREGATE_LIMIT</code> 。请参阅<span class="q">“ <a href="managing-memory.html#GUID-2B2581E8-DFD7-4FA0-9C2A-86E485235B78" title="默认情况下，Oracle数据库自动并全局管理专用于实例PGA的内存总量。您可以通过设置初始化参数PGA_AGGREGATE_TARGET来控制此数量。">使用自动PGA内存管理</a> ”</span> 。
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-0E201F66-D280-472A-AD80-20AB8F7E9C01__GUID-DD0D093D-2360-4E1F-9001-FC23A30142B4">
                        <p class="notep1">也可以看看：</p>
                        <p></p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="managing-memory.html#GUID-0F348EAB-9970-4207-8EF3-0F58B64E959A" title="管理实例内存的最简单方法是允许Oracle数据库实例自动为您管理和调整它。为此（在大多数平台上），您只设置目标内存大小初始化参数（MEMORY_TARGET）和可选的最大内存大小初始化参数（MEMORY_MAX_TARGET）。">关于自动内存管理</a> ”</span></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="managing-memory.html#GUID-24312D78-522D-4C08-8934-820BE18D34C7" title="了解与Oracle数据库关联的基本内存结构。">内存架构概述</a> ”</span></p>
                           </li>
                           <li>
                              <p>有关<code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code> SQL语句的信息，请<a href="../sqlrf/ALTER-SYSTEM.html#SQLRF00902" target="_blank"><span class="italic">参见Oracle数据库SQL语言参考</span></a></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-memory.html#GUID-8F54391B-D42A-4FDA-9D12-E1F81FD113EA" title="您可以允许Oracle数据库实例自动管理和调整内存。">使用自动内存管理</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11201"></a><div class="props_rev_3"><a id="GUID-98B11E31-DFAB-4AF6-9438-6B3C9DDB9847" name="GUID-98B11E31-DFAB-4AF6-9438-6B3C9DDB9847"></a><h4 id="ADMIN-GUID-98B11E31-DFAB-4AF6-9438-6B3C9DDB9847" class="sect4"><span class="enumeration_section">6.3.3</span>监视和调整自动内存管理</h4>
                  <div>
                     <p>动态性能视图<code class="codeph">V$MEMORY_DYNAMIC_COMPONENTS</code>显示所有动态调整的内存组件的当前大小，包括SGA和实例PGA的总大小。</p>
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>查询<code class="codeph">V$MEMORY_TARGET_ADVICE</code>视图以获取<code class="codeph">MEMORY_TARGET</code>初始化参数的调优建议。
                              </p>
                           </li>
                        </ul>
                        <p>例如，运行以下查询：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; select * from v $ memory_target_advice order by memory_size; MEMORY_SIZE MEMORY_SIZE_FACTOR ESTD_DB_TIME ESTD_DB_TIME_FACTOR VERSION ----------- ------------------ ------------ ---- --------------- ---------- 180 .5 458 1.344 0 270 .75 367 1.0761 0 360 1 341 1 0 450 1.25 335 .9817 0 540 1.5 335 .9817 0 630 1.75 335 .9817 0 720 2 335 .9817 0</pre><p><code class="codeph">MEMORY_SIZE_FACTOR</code>为1的行显示当前内存大小（由<code class="codeph">MEMORY_TARGET</code>初始化参数设置）以及完成当前工作负载所需的DB时间量。在前一行和后续行中，结果显示了几种可选的<code class="codeph">MEMORY_TARGET</code>大小。对于每个备用大小，数据库显示大小因子（当前大小的倍数），以及在<code class="codeph">MEMORY_TARGET</code>参数更改为备用大小时完成当前工作负载的估计DB时间。请注意，对于总内存大小小于当前<code class="codeph">MEMORY_TARGET</code>大小，估计的DB时间会增加。另请注意，在此示例中，通过将总内存大小增加到450MB以上无法获得任何结果。但是，如果尚未运行完整工作负载，则此情况可能会发生变化。
                        </p>
                        <p>EM Express提供易于使用的图形内存顾问程序，可帮助您为<code class="codeph">MEMORY_TARGET</code>选择最佳大小。有关详细信息，请参阅<a href="../admqs/managing-the-oracle-instance.html#ADMQS12101" target="_blank"><span class="italic">Oracle Database 2 Day DBA</span></a> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-98B11E31-DFAB-4AF6-9438-6B3C9DDB9847__GUID-7867C5C8-04E5-474C-A78D-118CBBB22471">
                        <p class="notep1">也可以看看：</p>
                        <p></p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>有关<code class="codeph">V$MEMORY_DYNAMIC_COMPONENTS</code>动态性能视图的更多信息，请<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=REFRN30463" target="_blank"><span class="italic">参见Oracle数据库参考</span></a></p>
                           </li>
                           <li>
                              <p>有关<code class="codeph">V$MEMORY_TARGET_ADVICE</code>动态性能视图的更多信息，请<a href="../refrn/V-MEMORY_TARGET_ADVICE.html#REFRN30465" target="_blank"><span class="italic">参见Oracle数据库参考</span></a></p>
                           </li>
                           <li>
                              <p><a href="../tgdba/measuring-database-performance.html#TGDBA147" target="_blank"><span class="italic">Oracle数据库性能调整指南，</span></a>用于定义DB时间。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-memory.html#GUID-8F54391B-D42A-4FDA-9D12-E1F81FD113EA" title="您可以允许Oracle数据库实例自动管理和调整内存。">使用自动内存管理</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADMIN11202"></a><div class="props_rev_3"><a id="GUID-27A013E8-66E2-483B-83A4-76DE10E3DADD" name="GUID-27A013E8-66E2-483B-83A4-76DE10E3DADD"></a><h3 id="ADMIN-GUID-27A013E8-66E2-483B-83A4-76DE10E3DADD" class="sect3"><span class="enumeration_section">6.4</span>手动配置内存</h3>
               <p>如果您希望对单个内存组件的大小进行更直接的控制，则可以禁用自动内存管理并将数据库配置为手动内存管理。</p>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-memory.html#GUID-CFBD8AA8-BDD3-40A3-83BD-FCB592DC15F5">关于手动内存管理</a><br>SGA有两种不同的手动内存管理方法，实例PGA有两种。</li>
                     <li class="ulchildlink"><a href="managing-memory.html#GUID-3CEA1AB5-4850-4064-9823-F62C500A579F">使用自动共享内存管理</a><br>自动共享内存管理简化了SGA内存管理。
                     </li>
                     <li class="ulchildlink"><a href="managing-memory.html#GUID-A2DC5193-CE89-4F20-AA4B-3EC45F4C770E">使用手动共享内存管理</a><br>要手动管理共享内存，首先要确保禁用自动内存管理和自动共享内存管理。然后，您可以手动配置，监视和调整内存组件。
                     </li>
                     <li class="ulchildlink"><a href="managing-memory.html#GUID-2B2581E8-DFD7-4FA0-9C2A-86E485235B78">使用自动PGA内存管理</a><br>默认情况下，Oracle数据库自动并全局管理专用于实例PGA的内存总量。您可以通过设置初始化参数<code class="codeph">PGA_AGGREGATE_TARGET</code>来控制此数量。</li>
                     <li class="ulchildlink"><a href="managing-memory.html#GUID-8D7FC70A-56D8-4CA1-9F74-592F04172EA7">使用手动PGA内存管理</a><br>Oracle数据库支持手动PGA内存管理，您可以在其中手动调整SQL工作区。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="managing-memory.html#GUID-BEABE53D-8058-4834-B99B-5C80A8AD5B06" title="内存管理涉及在数据库更改需求时维护Oracle数据库实例内存结构的最佳大小。">管理内存</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="sect3"><a id="GUID-CFBD8AA8-BDD3-40A3-83BD-FCB592DC15F5" name="GUID-CFBD8AA8-BDD3-40A3-83BD-FCB592DC15F5"></a><h4 id="ADMIN-GUID-CFBD8AA8-BDD3-40A3-83BD-FCB592DC15F5" class="sect4"><span class="enumeration_section">6.4.1</span>关于手动内存管理</h4>
                  <div>
                     <p>SGA有两种不同的手动内存管理方法，实例PGA有两种。</p>
                     <p>SGA的两种手动内存管理方法因DBA所需的工作量和知识而异。通过<span class="italic">自动共享内存管理</span> ，您可以为SGA设置目标和最大大小。然后，数据库将SGA的总大小设置为指定的目标，并动态调整许多SGA组件的大小。通过<span class="italic">手动共享内存管理</span> ，您可以设置多个单独SGA组件的大小，从而确定整体SGA大小。然后，您可以持续手动调整这些单独的SGA组件。
                     </p>
                     <p>对于实例PGA，有<span class="italic">自动PGA内存管理</span> ，您可以在其中为实例PGA设置目标大小。然后，数据库将实例PGA的大小设置为目标，并动态调整各个PGA的大小。还有<span class="italic">手动PGA内存管理</span> ，您可以在其中为每种类型的SQL运算符设置最大工作区大小（例如排序或散列连接）。建议不要使用此内存管理方法。
                     </p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-CFBD8AA8-BDD3-40A3-83BD-FCB592DC15F5__GUID-BF33365B-C8C4-4ADB-A3F4-1EEAFBABCC5F">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="../cncpt/concepts-for-database-administrators.html#CNCPT1244" target="_blank"><span class="italic">Oracle数据库概念</span></a> ，概述了Oracle数据库内存管理方法。
                        </p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-memory.html#GUID-27A013E8-66E2-483B-83A4-76DE10E3DADD" title="如果您希望对单个内存组件的大小进行更直接的控制，则可以禁用自动内存管理并将数据库配置为手动内存管理。">手动配置内存</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11203"></a><div class="props_rev_3"><a id="GUID-3CEA1AB5-4850-4064-9823-F62C500A579F" name="GUID-3CEA1AB5-4850-4064-9823-F62C500A579F"></a><h4 id="ADMIN-GUID-3CEA1AB5-4850-4064-9823-F62C500A579F" class="sect4"><span class="enumeration_section">6.4.2</span>使用自动共享内存管理</h4>
                  <div>
                     <p>自动共享内存管理简化了SGA内存管理。</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="managing-memory.html#GUID-B8B8923C-4213-42A9-8ED3-4ABE48C23914">关于自动共享内存管理</a><br>通过自动共享内存管理，您可以使用<code class="codeph">SGA_TARGET</code>初始化参数指定实例可用的SGA内存总量，Oracle Database会自动在各种SGA组件中分配此内存，以确保最有效的内存利用率。
                        </li>
                        <li class="ulchildlink"><a href="managing-memory.html#GUID-F07D8DE0-C756-4E3D-ABFC-27A0D3B45F4B">SGA中的组分和颗粒</a><br>SGA包括几个存储器<span class="bold">组件</span> ，它们是用于满足特定类别的存储器分配请求的存储器池。
                        </li>
                        <li class="ulchildlink"><a href="managing-memory.html#GUID-DFDA2DAA-B15D-4EC9-B7B1-A32304D7BEF9">设置最大SGA大小</a><br><code class="codeph">SGA_MAX_SIZE</code>初始化参数指定实例生命周期的系统全局区域的最大大小。
                        </li>
                        <li class="ulchildlink"><a href="managing-memory.html#GUID-3F0255D6-CE7F-4581-80D1-BE23362A99CF">设置SGA目标大小</a><br>通过将<code class="codeph">SGA_TARGET</code>初始化参数设置为非零值来启用自动共享内存管理功能。此参数设置SGA的总大小。它取代了控制为特定单个组件集分配的内存的参数，现在可以根据需要自动和动态调整大小（调整）。
                        </li>
                        <li class="ulchildlink"><a href="managing-memory.html#GUID-0E0EBCD5-6134-492B-9232-3F76D92B1900">启用自动共享内存管理</a><br>启用自动共享内存管理（ASMM）的过程会有所不同，具体取决于您是从手动共享内存管理还是从自动内存管理更改为ASMM。
                        </li>
                        <li class="ulchildlink"><a href="managing-memory.html#GUID-3DB194B9-1F36-4522-91A1-EC8304FF9DA7">设置自动调整大小的SGA组件的最小值</a><br>您可以通过为与这些组件对应的参数指定最小值来对自动调整大小的SGA组件的大小进行一些控制。如果您知道在没有特定组件的最小内存量的情况下应用程序无法正常运行，则此操作非常有用。
                        </li>
                        <li class="ulchildlink"><a href="managing-memory.html#GUID-CB7EE1F0-B6A0-4118-A0DD-5A3CC32A8ECA">SGA_TARGET的动态修改</a><br><code class="codeph">SGA_TARGET</code>参数可以动态增加到为<code class="codeph">SGA_MAX_SIZE</code>参数指定的值，也可以减少。
                        </li>
                        <li class="ulchildlink"><a href="managing-memory.html#GUID-17DE9E10-3066-4908-A295-B27DD94EF2CB">修改自动调整大小的组件的参数</a><br>启用自动共享内存管理后，手动指定的自动调整大小的组件大小将作为组件大小的下限。您可以通过更改相应参数的值来动态修改此限制。
                        </li>
                        <li class="ulchildlink"><a href="managing-memory.html#GUID-EBA07C5C-A639-4B6A-A2BF-E3F1176F80D0">修改手动大小的组件的参数</a><br>也可以动态地改变手动大小的组件的参数。但是，参数的值不是设置最小大小，而是指定相应组件的精确大小。
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-3CEA1AB5-4850-4064-9823-F62C500A579F__GUID-7D4709FF-09A8-446B-B56F-303AC9B3896B">
                        <p class="notep1">也可以看看：</p>
                        <p></p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>有关调整SGA组件的信息，请<a href="../tgdba/database-memory-allocation.html#TGDBA291" target="_blank"><span class="italic">参见“Oracle数据库性能调整指南”</span></a></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-memory.html#GUID-27A013E8-66E2-483B-83A4-76DE10E3DADD" title="如果您希望对单个内存组件的大小进行更直接的控制，则可以禁用自动内存管理并将数据库配置为手动内存管理。">手动配置内存</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADMIN11204"></a><div class="props_rev_3"><a id="GUID-B8B8923C-4213-42A9-8ED3-4ABE48C23914" name="GUID-B8B8923C-4213-42A9-8ED3-4ABE48C23914"></a><h5 id="ADMIN-GUID-B8B8923C-4213-42A9-8ED3-4ABE48C23914" class="sect5"><span class="enumeration_section">6.4.2.1</span>关于自动共享内存管理</h5>
                     <div>
                        <p>通过自动共享内存管理，您可以使用<code class="codeph">SGA_TARGET</code>初始化参数指定实例可用的SGA内存总量，Oracle Database会自动在各种SGA组件中分配此内存，以确保最有效的内存利用率。
                        </p>
                        <p>启用自动共享内存管理后，不同SGA组件的大小非常灵活，可以适应工作负载的需要，而无需任何其他配置。数据库根据需要自动在各种组件之间分配可用内存，从而允许系统最大限度地使用所有可用的SGA内存。</p>
                        <p>如果您使用的是服务器参数文件（ <code class="codeph">SPFILE</code> ），则数据库会记住实例关闭时自动调整的SGA组件的大小。因此，每次启动实例时，数据库实例都不需要再次了解工作负载的特征。该实例可以从先前实例的信息开始，并继续评估上次关闭时停止的工作负载。
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="managing-memory.html#GUID-3CEA1AB5-4850-4064-9823-F62C500A579F" title="自动共享内存管理简化了SGA内存管理。">使用自动共享内存管理</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN14216"></a><a id="ADMIN11205"></a><div class="props_rev_3"><a id="GUID-F07D8DE0-C756-4E3D-ABFC-27A0D3B45F4B" name="GUID-F07D8DE0-C756-4E3D-ABFC-27A0D3B45F4B"></a><h5 id="ADMIN-GUID-F07D8DE0-C756-4E3D-ABFC-27A0D3B45F4B" class="sect5"><span class="enumeration_section">6.4.2.2</span> SGA中的组分和颗粒</h5>
                     <div>
                        <p>SGA包括几个存储器<span class="bold">组件</span> ，它们是用于满足特定类别的存储器分配请求的存储器池。
                        </p>
                        <p>内存组件的示例包括共享池（用于为SQL和PL / SQL执行分配内存），java池（用于java对象和其他java执行内存）和缓冲区缓存（用于缓存磁盘块）。所有SGA组件都以<span class="bold">颗粒</span>为单位分配和释放空间。Oracle数据库跟踪每个SGA组件的内部颗粒数量中的SGA内存使用情况。
                        </p>
                        <p>SGA中动态组件的内存以颗粒为单位进行分配。粒度大小由实例启动时请求的SGA内存量决定。具体而言，粒度大小基于<code class="codeph">SGA_MAX_SIZE</code>初始化参数的值。<a href="managing-memory.html#GUID-F07D8DE0-C756-4E3D-ABFC-27A0D3B45F4B__BABGDHDH" title="此表显示了不同数量的SGA内存的颗粒大小。">表6-1</a>显示了不同量的SGA记忆的颗粒大小。
                        </p>
                        <div class="tblformal" id="GUID-F07D8DE0-C756-4E3D-ABFC-27A0D3B45F4B__BABGDHDH">
                           <p class="titleintable">表6-1颗粒大小</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="颗粒大小" width="100%" border="1" summary="This table shows the granule size for different amounts of SGA memory." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="56%" id="d105594e1346">SGA内存量</th>
                                    <th align="left" valign="bottom" width="44%" id="d105594e1349">颗粒大小</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="56%" id="d105594e1354" headers="d105594e1346 ">
                                       <p>小于或等于1 GB</p>
                                    </td>
                                    <td align="left" valign="top" width="44%" headers="d105594e1354 d105594e1349 ">
                                       <p>4 MB</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="56%" id="d105594e1361" headers="d105594e1346 ">
                                       <p>大于1 GB且小于或等于8 GB</p>
                                    </td>
                                    <td align="left" valign="top" width="44%" headers="d105594e1361 d105594e1349 ">
                                       <p>16 MB</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="56%" id="d105594e1368" headers="d105594e1346 ">
                                       <p>大于8 GB且小于或等于16 GB</p>
                                    </td>
                                    <td align="left" valign="top" width="44%" headers="d105594e1368 d105594e1349 ">
                                       <p>32 MB</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="56%" id="d105594e1375" headers="d105594e1346 ">
                                       <p>大于16 GB且小于或等于32 GB</p>
                                    </td>
                                    <td align="left" valign="top" width="44%" headers="d105594e1375 d105594e1349 ">
                                       <p>64 MB</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="56%" id="d105594e1382" headers="d105594e1346 ">
                                       <p>大于32 GB且小于或等于64 GB</p>
                                    </td>
                                    <td align="left" valign="top" width="44%" headers="d105594e1382 d105594e1349 ">
                                       <p>128 MB</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="56%" id="d105594e1389" headers="d105594e1346 ">
                                       <p>大于64 GB且小于或等于128 GB</p>
                                    </td>
                                    <td align="left" valign="top" width="44%" headers="d105594e1389 d105594e1349 ">
                                       <p>256 MB</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="56%" id="d105594e1396" headers="d105594e1346 ">
                                       <p>大于128 GB</p>
                                    </td>
                                    <td align="left" valign="top" width="44%" headers="d105594e1396 d105594e1349 ">
                                       <p>512 MB</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>可能会出现一些平台依赖性。有关更多详细信息，请参阅操作系统特定文档</p>
                        <p>您可以查询<code class="codeph">V$SGAINFO</code>视图以查看实例正在使用的粒度大小。相同的颗粒尺寸用于SGA中的所有组件。</p>
                        <p>如果为组件指定的粒度不是粒度大小的倍数，则Oracle数据库会将指定的大小舍入到最接近的倍数。例如，如果粒度大小为4 MB并且您将<code class="codeph">DB_CACHE_SIZE</code>指定为10 MB，则数据库实际分配12 MB。</p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="managing-memory.html#GUID-3CEA1AB5-4850-4064-9823-F62C500A579F" title="自动共享内存管理简化了SGA内存管理。">使用自动共享内存管理</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11206"></a><div class="props_rev_3"><a id="GUID-DFDA2DAA-B15D-4EC9-B7B1-A32304D7BEF9" name="GUID-DFDA2DAA-B15D-4EC9-B7B1-A32304D7BEF9"></a><h5 id="ADMIN-GUID-DFDA2DAA-B15D-4EC9-B7B1-A32304D7BEF9" class="sect5"><span class="enumeration_section">6.4.2.3</span>设置最大SGA大小</h5>
                     <div>
                        <p><code class="codeph">SGA_MAX_SIZE</code>初始化参数指定实例生命周期的系统全局区域的最大大小。
                        </p>
                        <div class="section">
                           <p>要设置系统全局区域的最大大小：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>设置<code class="codeph">SGA_MAX_SIZE</code>初始化参数。
                                 </p>
                              </li>
                           </ul>
                           <p>您可以动态更改影响缓冲区高速缓存，共享池，大型池，Java池和流池大小的初始化参数，但仅限于这些大小的总和以及SGA的其他组件的大小（已修复） SGA，变量SGA和重做日志缓冲区）不超过<code class="codeph">SGA_MAX_SIZE</code>指定的值。</p>
                           <p>如果未指定<code class="codeph">SGA_MAX_SIZE</code> ，则Oracle数据库会选择一个默认值，该值是在初始化时指定或默认的所有组件的总和。如果确实指定了<code class="codeph">SGA_MAX_SIZE</code> ，并且在初始化数据库时，该值小于为所有组件分配的内存总和（显式在参数文件中）或默认情况下，则数据库将忽略<code class="codeph">SGA_MAX_SIZE</code>的设置并选择此参数的正确值。
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="managing-memory.html#GUID-3CEA1AB5-4850-4064-9823-F62C500A579F" title="自动共享内存管理简化了SGA内存管理。">使用自动共享内存管理</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN13020"></a><a id="ADMIN13021"></a><a id="ADMIN11207"></a><div class="props_rev_3"><a id="GUID-3F0255D6-CE7F-4581-80D1-BE23362A99CF" name="GUID-3F0255D6-CE7F-4581-80D1-BE23362A99CF"></a><h5 id="ADMIN-GUID-3F0255D6-CE7F-4581-80D1-BE23362A99CF" class="sect5"><span class="enumeration_section">6.4.2.4</span>设置SGA目标大小</h5>
                     <div>
                        <p>通过将<code class="codeph">SGA_TARGET</code>初始化参数设置为非零值来启用自动共享内存管理功能。此参数设置SGA的总大小。它取代了控制为特定单个组件集分配的内存的参数，现在可以根据需要自动和动态调整大小（调整）。
                        </p>
                        <div class="section">
                           <p>要启用自动共享内存管理功能：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>将<code class="codeph">SGA_TARGET</code>初始化参数设置为非零值。
                                 </p>
                              </li>
                           </ul>
                           <div class="infoboxnote" id="GUID-3F0255D6-CE7F-4581-80D1-BE23362A99CF__GUID-148D218E-E1B8-40EE-886B-A1F99669C6BF">
                              <p class="notep1">注意：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>必须将<code class="codeph">STATISTICS_LEVEL</code>初始化参数设置为<code class="codeph">TYPICAL</code> （缺省值）或<code class="codeph">ALL</code>才能使自动共享内存管理正常运行。
                                    </p>
                                 </li>
                                 <li>
                                    <p>启用自动共享内存管理的更简单方法是使用EM Express。启用自动共享内存管理并设置总SGA大小时，EM Express会自动生成<code class="codeph">ALTER SYSTEM</code>语句，以将<code class="codeph">SGA_TARGET</code>设置为指定大小，并将所有自动调整大小的SGA组件设置为零。有关更多信息，请参见<a href="../admqs/managing-the-oracle-instance.html#ADMQS054" target="_blank"><span class="italic">Oracle Database 2 Day DBA</span></a> 。
                                    </p>
                                 </li>
                              </ul>
                              <p>如果使用SQL * Plus设置<code class="codeph">SGA_TARGET</code> ，则必须将自动调整大小的SGA组件设置为零或最小值。
                              </p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <ul class="ullinks">
                           <li class="ulchildlink"><a href="managing-memory.html#GUID-1B568DEC-AAC0-4626-B44C-A6D446077032">SGA目标和自动调整大小的SGA组件</a><br>设置<code class="codeph">SGA_TARGET</code>时，某些SGA组件会自动调整大小。
                           </li>
                           <li class="ulchildlink"><a href="managing-memory.html#GUID-C3277A7A-F7F2-40E0-BD27-A4DCA5131F60">SGA和虚拟内存</a><br>为了在大多数系统中获得最佳性能，整个SGA应该适合实际内存。如果没有，并且如果使用虚拟内存来存储部分内容，则整体数据库系统性能可能会急剧下降。这样做的原因是操作系统对SGA的某些部分进行分页（写入磁盘和从磁盘读取）。
                           </li>
                           <li class="ulchildlink"><a href="managing-memory.html#GUID-D3D22DD9-BB12-4445-B853-F317F5456144">监视和调整SGA目标大小</a><br><code class="codeph">V$SGAINFO</code>视图提供有关各种SGA组件的当前调整大小的信息。<code class="codeph">V$SGA_TARGET_ADVICE</code>视图提供的信息可帮助您确定<code class="codeph">SGA_TARGET</code>的值。</li>
                        </ul>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="managing-memory.html#GUID-3CEA1AB5-4850-4064-9823-F62C500A579F" title="自动共享内存管理简化了SGA内存管理。">使用自动共享内存管理</a></p>
                           </div>
                        </div>
                     </div>
                     
                     <div class="sect5"><a id="GUID-1B568DEC-AAC0-4626-B44C-A6D446077032" name="GUID-1B568DEC-AAC0-4626-B44C-A6D446077032"></a><h6 id="ADMIN-GUID-1B568DEC-AAC0-4626-B44C-A6D446077032" class="sect6"><span class="enumeration_section">6.4.2.4.1</span> SGA目标和自动调整大小的SGA组件</h6>
                        <div>
                           <p>设置<code class="codeph">SGA_TARGET</code>时，某些SGA组件会自动调整大小。
                           </p>
                           <div class="section">
                              <p>下表列出了设置<code class="codeph">SGA_TARGET</code>时自动调整大小的SGA组件。对于每个SGA组件，列出其对应的初始化参数。
                              </p>
                              <div class="tblformal" id="GUID-1B568DEC-AAC0-4626-B44C-A6D446077032__BABDCHDE">
                                 <p class="titleintable">表6-2自动调整大小的SGA组件和相应参数</p>
                                 <table cellpadding="4" cellspacing="0" class="Formal" title="自动调整大小的SGA组件和相应的参数" width="100%" border="1" summary="Column 1 lists the automatically sized SGA components. Column 2 lists corresponding initialization parameters." frame="hsides" rules="rows">
                                    <thead>
                                       <tr align="left" valign="top">
                                          <th align="left" valign="bottom" width="41%" id="d105594e1647">SGA组件</th>
                                          <th align="left" valign="bottom" width="59%" id="d105594e1650">初始化参数</th>
                                       </tr>
                                    </thead>
                                    <tbody>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="41%" id="d105594e1655" headers="d105594e1647 ">
                                             <p>修复了Oracle数据库实例所需的SGA和其他内部分配</p>
                                          </td>
                                          <td align="left" valign="top" width="59%" headers="d105594e1655 d105594e1650 ">
                                             <p>N / A</p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="41%" id="d105594e1662" headers="d105594e1647 ">
                                             <p>共享池</p>
                                          </td>
                                          <td align="left" valign="top" width="59%" headers="d105594e1662 d105594e1650 ">
                                             <p><code class="codeph">SHARED_POOL_SIZE</code></p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="41%" id="d105594e1670" headers="d105594e1647 ">
                                             <p>大型游泳池</p>
                                          </td>
                                          <td align="left" valign="top" width="59%" headers="d105594e1670 d105594e1650 ">
                                             <p><code class="codeph">LARGE_POOL_SIZE</code></p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="41%" id="d105594e1678" headers="d105594e1647 ">
                                             <p>Java池</p>
                                          </td>
                                          <td align="left" valign="top" width="59%" headers="d105594e1678 d105594e1650 ">
                                             <p><code class="codeph">JAVA_POOL_SIZE</code></p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="41%" id="d105594e1686" headers="d105594e1647 ">
                                             <p>缓冲区缓存</p>
                                          </td>
                                          <td align="left" valign="top" width="59%" headers="d105594e1686 d105594e1650 ">
                                             <p><code class="codeph">DB_CACHE_SIZE</code></p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="41%" id="d105594e1694" headers="d105594e1647 ">
                                             <p>Streams游泳池</p>
                                          </td>
                                          <td align="left" valign="top" width="59%" headers="d105594e1694 d105594e1650 ">
                                             <p><code class="codeph">STREAMS_POOL_SIZE</code></p>
                                          </td>
                                       </tr>
                                    </tbody>
                                 </table>
                              </div>
                              <!-- class="inftblhruleinformal" -->
                              <p><a href="managing-memory.html#GUID-1B568DEC-AAC0-4626-B44C-A6D446077032__BABBDEFJ" title="第1列列出了自动调整大小的SGA组件。第2列列出了相应的初始化参数">表6-3中</a>列出的手动大小的参数（如果已设置）从<code class="codeph">SGA_TARGET</code>获取其内存，留下<a href="managing-memory.html#GUID-1B568DEC-AAC0-4626-B44C-A6D446077032__BABDCHDE" title="第1列列出了自动调整大小的SGA组件。第2列列出了相应的初始化参数">表6-2中</a>列出的组件可用的内容。
                              </p>
                              <div class="tblformal" id="GUID-1B568DEC-AAC0-4626-B44C-A6D446077032__BABBDEFJ">
                                 <p class="titleintable">表6-3使用SGA_TARGET空间的手动大小的SGA组件</p>
                                 <table cellpadding="4" cellspacing="0" class="Formal" title="使用SGA_TARGET空间的手动大小的SGA组件" width="100%" border="1" summary="Column 1 lists the automatically sized SGA components. Column 2 lists corresponding initialization parameters." frame="hsides" rules="rows">
                                    <thead>
                                       <tr align="left" valign="top">
                                          <th align="left" valign="bottom" width="41%" id="d105594e1726">SGA组件</th>
                                          <th align="left" valign="bottom" width="59%" id="d105594e1729">初始化参数</th>
                                       </tr>
                                    </thead>
                                    <tbody>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="41%" id="d105594e1734" headers="d105594e1726 ">
                                             <p>日志缓冲区</p>
                                          </td>
                                          <td align="left" valign="top" width="59%" headers="d105594e1734 d105594e1729 ">
                                             <p><code class="codeph">LOG_BUFFER</code></p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="41%" id="d105594e1742" headers="d105594e1726 ">
                                             <p>保持和循环缓冲区缓存</p>
                                          </td>
                                          <td align="left" valign="top" width="59%" headers="d105594e1742 d105594e1729 ">
                                             <p><code class="codeph">DB_KEEP_CACHE_SIZE</code></p>
                                             <p><code class="codeph">DB_RECYCLE_CACHE_SIZE</code></p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="41%" id="d105594e1753" headers="d105594e1726 ">
                                             <p>非标准块大小缓冲区高速缓存</p>
                                          </td>
                                          <td align="left" valign="top" width="59%" headers="d105594e1753 d105594e1729 ">
                                             <p><code class="codeph">DB_</code> <span class="italic"><code class="codeph">n</code></span> <code class="codeph">K_CACHE_SIZE</code></p>
                                          </td>
                                       </tr>
                                    </tbody>
                                 </table>
                              </div>
                              <!-- class="inftblhruleinformal" -->
                              <p>除了将<code class="codeph">SGA_TARGET</code>设置为非零值之外，还必须将<a href="managing-memory.html#GUID-1B568DEC-AAC0-4626-B44C-A6D446077032__BABDCHDE" title="第1列列出了自动调整大小的SGA组件。第2列列出了相应的初始化参数">表6-2中</a>列出的所有初始化参数设置为零，以启用自动调整大小的SGA组件的全自动调整。
                              </p>
                              <p>或者，您可以将一个或多个自动调整大小的SGA组件设置为非零值，然后在SGA调整期间将其用作该组件的最小设置。本节稍后将对此进行详细讨论。</p>
                           </div>
                           <!-- class="section" -->
                        </div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="managing-memory.html#GUID-3F0255D6-CE7F-4581-80D1-BE23362A99CF" title="通过将SGA_TARGET初始化参数设置为非零值来启用自动共享内存管理功能。此参数设置SGA的总大小。它取代了控制为特定单个组件集分配的内存的参数，现在可以根据需要自动和动态调整大小（调整）。">设置SGA目标大小</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div><a id="ADMIN11208"></a><div class="props_rev_3"><a id="GUID-C3277A7A-F7F2-40E0-BD27-A4DCA5131F60" name="GUID-C3277A7A-F7F2-40E0-BD27-A4DCA5131F60"></a><h6 id="ADMIN-GUID-C3277A7A-F7F2-40E0-BD27-A4DCA5131F60" class="sect6"><span class="enumeration_section">6.4.2.4.2</span> SGA和虚拟内存</h6>
                        <div>
                           <p>为了在大多数系统中获得最佳性能，整个SGA应该适合实际内存。如果没有，并且如果使用虚拟内存来存储部分内容，则整体数据库系统性能可能会急剧下降。这样做的原因是操作系统对SGA的某些部分进行分页（写入磁盘和从磁盘读取）。</p>
                           <p>有关监视分页活动的说明，请参阅操作系统文档。您还可以使用Cloud Control查看分页活动。有关详细信息，请参阅“ <a href="../tdppt/monitoring-real-time-database-performance.html#TDPPT043" target="_blank"><span class="italic">Oracle数据库2天+性能调整指南”</span></a> 。
                           </p>
                        </div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="managing-memory.html#GUID-3F0255D6-CE7F-4581-80D1-BE23362A99CF" title="通过将SGA_TARGET初始化参数设置为非零值来启用自动共享内存管理功能。此参数设置SGA的总大小。它取代了控制为特定单个组件集分配的内存的参数，现在可以根据需要自动和动态调整大小（调整）。">设置SGA目标大小</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div><a id="ADMIN11209"></a><div class="props_rev_3"><a id="GUID-D3D22DD9-BB12-4445-B853-F317F5456144" name="GUID-D3D22DD9-BB12-4445-B853-F317F5456144"></a><h6 id="ADMIN-GUID-D3D22DD9-BB12-4445-B853-F317F5456144" class="sect6"><span class="enumeration_section">6.4.2.4.3</span>监视和调整SGA目标大小</h6>
                        <div>
                           <p><code class="codeph">V$SGAINFO</code>视图提供有关各种SGA组件的当前调整大小的信息。<code class="codeph">V$SGA_TARGET_ADVICE</code>视图提供的信息可帮助您确定<code class="codeph">SGA_TARGET</code>的值。</p>
                           <div class="section">
                              <p>要监视和调整SGA目标大小：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>查询<code class="codeph">V$SGAINFO</code>和<code class="codeph">V$SGA_TARGET_ADVICE</code>视图。
                                    </p>
                                 </li>
                              </ul>
                              <p>例如，运行以下查询：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; select * from v $ sga_target_advice order by sga_size; SGA_SIZE SGA_SIZE_FACTOR ESTD_DB_TIME ESTD_DB_TIME_FACTOR ESTD_PHYSICAL_READS ---------- --------------- ------------ -------- ----------- ------------------- 290 .5 448176 1.6578 1636103 435 .75 339336 1.2552 1636103 580 1 270344 1 1201780 725 1.25 239038 .8842 907584 870 1.5 211517 .7824 513881 1015 1.75 201866 .7467 513881 1160 2 200703 .7424 513881</pre><p>此视图中的信息类似于<code class="codeph">V$MEMORY_TARGET_ADVICE</code>视图中提供的自动内存管理信息。有关该视图的说明，请参阅<span class="q">“ <a href="managing-memory.html#GUID-98B11E31-DFAB-4AF6-9438-6B3C9DDB9847" title="动态性能视图V $ MEMORY_DYNAMIC_COMPONENTS显示所有动态调整的内存组件的当前大小，包括SGA和实例PGA的总大小。">监视和调整自动内存管理</a> ”</span> 。
                              </p>
                              <p>EM Express提供易于使用的图形内存顾问程序，可帮助您为<code class="codeph">SGA_TARGET</code>选择最佳大小。有关详细信息，请参阅<a href="../admqs/managing-the-oracle-instance.html#ADMQS0541" target="_blank"><span class="italic">Oracle Database 2 Day DBA</span></a> 。
                              </p>
                           </div>
                           <!-- class="section" -->
                        </div>
                        <div>
                           <div class="infoboxnotealso" id="GUID-D3D22DD9-BB12-4445-B853-F317F5456144__GUID-20C55DF6-967B-4483-A8EA-7C98DADAB73D">
                              <p class="notep1">也可以看看：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>有关<code class="codeph">V$SGAINFO</code>视图的更多信息，请<a href="../refrn/V-SGAINFO.html#REFRN30314" target="_blank"><span class="italic">参见Oracle数据库参考</span></a></p>
                                 </li>
                                 <li>
                                    <p>有关<code class="codeph">V$SGA_TARGET_ADVICE</code>视图的更多信息，请<a href="../refrn/V-SGA_TARGET_ADVICE.html#REFRN30393" target="_blank"><span class="italic">参见Oracle数据库参考</span></a></p>
                                 </li>
                              </ul>
                           </div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="managing-memory.html#GUID-3F0255D6-CE7F-4581-80D1-BE23362A99CF" title="通过将SGA_TARGET初始化参数设置为非零值来启用自动共享内存管理功能。此参数设置SGA的总大小。它取代了控制为特定单个组件集分配的内存的参数，现在可以根据需要自动和动态调整大小（调整）。">设置SGA目标大小</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                  </div><a id="ADMIN11210"></a><div class="props_rev_3"><a id="GUID-0E0EBCD5-6134-492B-9232-3F76D92B1900" name="GUID-0E0EBCD5-6134-492B-9232-3F76D92B1900"></a><h5 id="ADMIN-GUID-0E0EBCD5-6134-492B-9232-3F76D92B1900" class="sect5"><span class="enumeration_section">6.4.2.5</span>启用自动共享内存管理</h5>
                     <div>
                        <p>启用自动共享内存管理（ASMM）的过程会有所不同，具体取决于您是从手动共享内存管理还是从自动内存管理更改为ASMM。</p>
                        <div class="section">
                           <p>要从手动共享内存管理更改为ASMM：</p>
                           <ol>
                              <li id="GUID-0E0EBCD5-6134-492B-9232-3F76D92B1900__BGBBFBCE">
                                 <p>运行以下查询以获取<code class="codeph">SGA_TARGET</code>的值：</p><pre class="oac_no_warn" dir="ltr">SELECT（（SELECT SUM（value）FROM V $ SGA） - （SELECT CURRENT_SIZE FROM V $ SGA_DYNAMIC_FREE_MEMORY））“SGA_TARGET”FROM DUAL;</pre></li>
                              <li>
                                 <p>通过编辑文本初始化参数文件并重新启动数据库，或通过发出以下语句来设置<code class="codeph">SGA_TARGET</code>的值：</p><pre class="oac_no_warn" dir="ltr">ALTER SYSTEM SET SGA_TARGET = <span class="italic">value</span> [SCOPE = {SPFILE | MEMORY | BOTH}]</pre><p>其中<span class="italic">value</span>是在步骤<a href="managing-memory.html#GUID-0E0EBCD5-6134-492B-9232-3F76D92B1900__BGBBFBCE">1中</a>计算的值，或者是所有SGA组件大小的总和与<code class="codeph">SGA_MAX_SIZE</code>之间的某个值。有关<code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code>语句及其<code class="codeph">SCOPE</code>子句的更多信息，请参见<a href="../sqlrf/ALTER-SYSTEM.html#SQLRF00902" target="_blank"><span class="italic">Oracle数据库SQL语言参考</span></a> 。
                                 </p>
                              </li>
                              <li>
                                 <p>执行以下操作之一：</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p>要进行更完整的自动调整，请将<a href="managing-memory.html#GUID-1B568DEC-AAC0-4626-B44C-A6D446077032__BABDCHDE" title="第1列列出了自动调整大小的SGA组件。第2列列出了相应的初始化参数">表6-2中</a>列出的自动调整大小的SGA组件的值设置为零。通过编辑文本初始化参数文件或发出<code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code>语句来完成此操作。
                                       </p>
                                    </li>
                                    <li>
                                       <p>要控制一个或多个自动调整大小的SGA组件的最小大小，请将这些组件大小设置为所需的值。（有关详细信息，请参阅下一节。）将其他自动调整大小的SGA组件的值设置为零。通过编辑文本初始化参数文件或发出<code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code>语句来完成此操作。
                                       </p>
                                    </li>
                                 </ul>
                              </li>
                           </ol>
                           <p>要从自动内存管理更改为ASMM：</p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>将<code class="codeph">MEMORY_TARGET</code>初始化参数设置为0。</span><div><pre class="oac_no_warn" dir="ltr">ALTER SYSTEM SET MEMORY_TARGET = 0;</pre><p>数据库根据当前的SGA内存分配设置<code class="codeph">SGA_TARGET</code> 。
                                 </p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>执行以下操作之一：</span><div>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p>要进行更完整的自动调整，请将<a href="managing-memory.html#GUID-1B568DEC-AAC0-4626-B44C-A6D446077032__BABDCHDE" title="第1列列出了自动调整大小的SGA组件。第2列列出了相应的初始化参数">表6-2中</a>列出的自动调整大小的SGA组件的大小设置为零。通过编辑文本初始化参数文件或发出<code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code>语句来完成此操作。
                                       </p>
                                    </li>
                                    <li>
                                       <p>要控制一个或多个自动调整大小的SGA组件的最小大小，请将这些组件大小设置为所需的值。（有关详细信息，请参阅下一节。）将其他自动调整大小的SGA组件的大小设置为零。通过编辑文本初始化参数文件或发出<code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code>语句来完成此操作。
                                       </p>
                                    </li>
                                 </ul>
                              </div>
                           </li>
                        </ol>
                        <div class="example" id="GUID-0E0EBCD5-6134-492B-9232-3F76D92B1900__GUID-F5A8DAB9-F006-4984-82E5-1FF8ED56A2DE">
                           <p class="titleinexample">例6-1使用ASMM</p>
                           <p>例如，假设您当前为配置为手动共享内存管理且<code class="codeph">SGA_MAX_SIZE</code>设置为1200M的实例配置了以下参数配置：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">SHARED_POOL_SIZE</code> = 200M</p>
                              </li>
                              <li>
                                 <p><code class="codeph">DB_CACHE_SIZE</code> = 500M</p>
                              </li>
                              <li>
                                 <p><code class="codeph">LARGE_POOL_SIZE</code> = 200M</p>
                              </li>
                           </ul>
                           <p>还假设以下查询结果：</p>
                           <div class="tblformal" id="GUID-0E0EBCD5-6134-492B-9232-3F76D92B1900__GUID-0E653F6E-E954-441C-8ADE-C5C808577DBF">
                              <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="This table has two rows and two columns. The columns are Query and Results. The left column shows a complete SQL query." frame="hsides" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="61%" id="d105594e2123">询问</th>
                                       <th align="left" valign="bottom" width="39%" id="d105594e2126">结果</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="61%" id="d105594e2131" headers="d105594e2123 ">
                                          <p><code class="codeph">SELECT SUM（value）FROM V $ SGA</code></p>
                                       </td>
                                       <td align="left" valign="top" width="39%" headers="d105594e2131 d105594e2126 ">
                                          <p>1200M</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="61%" id="d105594e2139" headers="d105594e2123 ">
                                          <p><code class="codeph">从V $ SGA_DYNAMIC_FREE_MEMORY中选择CURRENT_SIZE</code></p>
                                       </td>
                                       <td align="left" valign="top" width="39%" headers="d105594e2139 d105594e2126 ">
                                          <p>208M</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                           <p>您可以通过发出以下语句来利用自动共享内存管理：</p><pre class="oac_no_warn" dir="ltr">ALTER SYSTEM SET SGA_TARGET = 992M; ALTER SYSTEM SET SHARED_POOL_SIZE = 0; ALTER SYSTEM SET LARGE_POOL_SIZE = 0; ALTER SYSTEM SET JAVA_POOL_SIZE = 0; ALTER SYSTEM SET DB_CACHE_SIZE = 0; ALTER SYSTEM SET STREAMS_POOL_SIZE = 0;</pre><p>其中992M = 1200M减去208M。</p>
                        </div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="managing-memory.html#GUID-3CEA1AB5-4850-4064-9823-F62C500A579F" title="自动共享内存管理简化了SGA内存管理。">使用自动共享内存管理</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11213"></a><div class="props_rev_3"><a id="GUID-3DB194B9-1F36-4522-91A1-EC8304FF9DA7" name="GUID-3DB194B9-1F36-4522-91A1-EC8304FF9DA7"></a><h5 id="ADMIN-GUID-3DB194B9-1F36-4522-91A1-EC8304FF9DA7" class="sect5"><span class="enumeration_section">6.4.2.6</span>设置自动调整大小的SGA组件的<span class="enumeration_section">最小值</span></h5>
                     <div>
                        <p>您可以通过为与这些组件对应的参数指定最小值来对自动调整大小的SGA组件的大小进行一些控制。如果您知道在没有特定组件的最小内存量的情况下应用程序无法正常运行，则此操作非常有用。</p>
                        <div class="section">
                           <p>要为组件指定最小SGA空间量，请执行以下操作：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>为其对应的初始化参数设置一个值。</p>
                              </li>
                           </ul>
                           <p>手动限制一个或多个自动调整大小的组件的最小大小可减少可用于动态调整的内存总量。这种减少又限制了系统适应工作负荷变化的能力。因此，除特殊情况外，不建议采用这种做法。默认的自动管理行为可以最大化系统性能和可用资源的使用。</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>相关话题</strong></p>
                           <ul>
                              <li><a href="managing-memory.html#GUID-1B568DEC-AAC0-4626-B44C-A6D446077032" title="设置SGA_TARGET时，某些SGA组件会自动调整大小。">SGA目标和自动调整大小的SGA组件</a></li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="managing-memory.html#GUID-3CEA1AB5-4850-4064-9823-F62C500A579F" title="自动共享内存管理简化了SGA内存管理。">使用自动共享内存管理</a></p>
                           </div>
                        </div>
                     </div>
                  </div><a id="ADMIN11215"></a><div class="props_rev_3"><a id="GUID-CB7EE1F0-B6A0-4118-A0DD-5A3CC32A8ECA" name="GUID-CB7EE1F0-B6A0-4118-A0DD-5A3CC32A8ECA"></a><h5 id="ADMIN-GUID-CB7EE1F0-B6A0-4118-A0DD-5A3CC32A8ECA" class="sect5"><span class="enumeration_section">6.4.2.7</span> SGA_TARGET的动态修改</h5>
                     <div>
                        <p><code class="codeph">SGA_TARGET</code>参数可以动态增加到为<code class="codeph">SGA_MAX_SIZE</code>参数指定的值，也可以减少。
                        </p>
                        <p>如果减小<code class="codeph">SGA_TARGET</code>的值，系统将识别一个或多个自动调整的组件，以释放内存。您可以减少<code class="codeph">SGA_TARGET</code>直到一个或多个自动调整的组件达到其最小大小。Oracle数据库确定<code class="codeph">SGA_TARGET</code>的最小允许值，同时考虑了几个因素，包括为自动调整大小的组件设置的值，使用<code class="codeph">SGA_TARGET</code>空间的手动调整大小的组件以及CPU数量。
                        </p>
                        <p>修改<code class="codeph">SGA_TARGET</code>时消耗的物理内存量的变化取决于操作系统。在某些不支持动态共享内存的UNIX平台上，SGA使用的物理内存等于<code class="codeph">SGA_MAX_SIZE</code>参数的值。在这样的平台上，将<code class="codeph">SGA_TARGET</code>设置为小于<code class="codeph">SGA_MAX_SIZE</code>的值没有任何实际好处。因此，不建议在这些平台上设置<code class="codeph">SGA_MAX_SIZE</code> 。
                        </p>
                        <p>在其他平台上，例如Solaris和Windows，SGA消耗的物理内存等于<code class="codeph">SGA_TARGET</code>的值。</p>
                        <p>例如，假设您有一个具有以下配置的环境：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">SGA_MAX_SIZE</code> = 1024M</p>
                           </li>
                           <li>
                              <p><code class="codeph">SGA_TARGET</code> = 512M</p>
                           </li>
                           <li>
                              <p><code class="codeph">DB_8K_CACHE_SIZE</code> = 128M</p>
                           </li>
                        </ul>
                        <p>在此示例中， <code class="codeph">SGA_TARGET</code>的值可以调整为最大1024M，也可以减小，直到一个或多个自动调整大小的组件达到其最小大小。确切的值取决于环境因素，例如系统上的CPU数量。但是， <code class="codeph">DB_8K_CACHE_SIZE</code>的值<code class="codeph">DB_8K_CACHE_SIZE</code>保持固定为128M</p>
                        <div class="infoboxnote" id="GUID-CB7EE1F0-B6A0-4118-A0DD-5A3CC32A8ECA__GUID-8F12D78F-49A8-448F-9720-258FA99DEB0E">
                           <p class="notep1">注意：</p>
                           <p>启用自动共享内存管理时，最好在启动数据库之前将<code class="codeph">SGA_TARGET</code>设置为所需的非零值。将<code class="codeph">SGA_TARGET</code>从零动态修改为非零值可能无法实现所需的结果，因为共享池可能无法收缩。启动后，您可以根据需要向上或向下动态调整<code class="codeph">SGA_TARGET</code> 。
                           </p>
                        </div>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="managing-memory.html#GUID-3CEA1AB5-4850-4064-9823-F62C500A579F" title="自动共享内存管理简化了SGA内存管理。">使用自动共享内存管理</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11216"></a><div class="props_rev_3"><a id="GUID-17DE9E10-3066-4908-A295-B27DD94EF2CB" name="GUID-17DE9E10-3066-4908-A295-B27DD94EF2CB"></a><h5 id="ADMIN-GUID-17DE9E10-3066-4908-A295-B27DD94EF2CB" class="sect5"><span class="enumeration_section">6.4.2.8</span>修改自动调整大小的组件的参数</h5>
                     <div>
                        <p>启用自动共享内存管理后，手动指定的自动调整大小的组件大小将作为组件大小的下限。您可以通过更改相应参数的值来动态修改此限制。</p>
                        <div class="section">
                           <p>如果给定SGA组件的大小的指定下限小于其当前大小，则该组件的大小不会立即发生变化。新设置仅将自动调整算法限制为将来减小的最小尺寸。</p>
                           <p>要设置组件大小的下限：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>将组件的初始化参数设置为最小值。</p>
                              </li>
                           </ul>
                           <p>例如，请考虑以下配置：</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">SGA_TARGET</code> = 512M</p>
                              </li>
                              <li>
                                 <p><code class="codeph">LARGE_POOL_SIZE</code> = 256M</p>
                              </li>
                              <li>
                                 <p>目前的实际大型泳池面积= 284M</p>
                              </li>
                           </ul>
                           <p>在此示例中，如果将<code class="codeph">LARGE_POOL_SIZE</code>的值增加到大于组件的实际当前大小的值，系统将扩展组件以适应增加的最小大小。例如，如果将<code class="codeph">LARGE_POOL_SIZE</code>的值增加到300M，则系统会逐步增加大型池，直到达到300M。调整大小是以一个或多个自动调整的组件为代价的。如果将<code class="codeph">LARGE_POOL_SIZE</code>的值减小到200，则该组件的大小不会立即发生变化。新设置仅限制将来将大池的大小减小到200M。
                           </p>
                           <div class="infoboxnote" id="GUID-17DE9E10-3066-4908-A295-B27DD94EF2CB__GUID-4F9849FB-B9D6-4AFD-A7C4-A0D18F2B9E8F">
                              <p class="notep1">注意：</p>未设置<code class="codeph">SGA_TARGET</code> ，不启用自动共享内存管理功能。因此，管理所有组件参数大小调整的规则与早期版本中的相同。
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="managing-memory.html#GUID-3CEA1AB5-4850-4064-9823-F62C500A579F" title="自动共享内存管理简化了SGA内存管理。">使用自动共享内存管理</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11217"></a><div class="props_rev_3"><a id="GUID-EBA07C5C-A639-4B6A-A2BF-E3F1176F80D0" name="GUID-EBA07C5C-A639-4B6A-A2BF-E3F1176F80D0"></a><h5 id="ADMIN-GUID-EBA07C5C-A639-4B6A-A2BF-E3F1176F80D0" class="sect5"><span class="enumeration_section">6.4.2.9</span>修改手动大小的组件的参数</h5>
                     <div>
                        <p>也可以动态地改变手动大小的组件的参数。但是，参数的值不是设置最小大小，而是指定相应组件的精确大小。</p>
                        <div class="section">
                           <p>增加手动大小的组件的大小时，会从一个或多个自动调整大小的组件中删除额外的内存。当您减小手动大小的组件的大小时，释放的内存将提供给自动调整大小的组件。</p>
                           <p>要修改组件的精确大小：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>设置组件的初始化参数。</p>
                              </li>
                           </ul>
                           <p>例如，考虑以下配置：</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">SGA_TARGET</code> = 512M</p>
                              </li>
                              <li>
                                 <p><code class="codeph">DB_8K_CACHE_SIZE</code> = 128M</p>
                              </li>
                           </ul>
                           <p>在此示例中，将<code class="codeph">DB_8K_CACHE_SIZE</code>增加16M至144M意味着16M将从自动调整大小的组件中删除。同样，将<code class="codeph">DB_8K_CACHE_SIZE</code>减少16M到112M意味着16M被赋予自动调整大小的组件。
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="managing-memory.html#GUID-3CEA1AB5-4850-4064-9823-F62C500A579F" title="自动共享内存管理简化了SGA内存管理。">使用自动共享内存管理</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="ADMIN11218"></a><div class="props_rev_3"><a id="GUID-A2DC5193-CE89-4F20-AA4B-3EC45F4C770E" name="GUID-A2DC5193-CE89-4F20-AA4B-3EC45F4C770E"></a><h4 id="ADMIN-GUID-A2DC5193-CE89-4F20-AA4B-3EC45F4C770E" class="sect4"><span class="enumeration_section">6.4.3</span>使用手动共享内存管理</h4>
                  <p>要手动管理共享内存，首先要确保禁用自动内存管理和自动共享内存管理。然后，您可以手动配置，监视和调整内存组件。</p>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="managing-memory.html#GUID-904F96E9-39AD-4777-AE7F-53A984CD028E">关于手动共享内存管理</a><br>如果决定不使用自动内存管理或自动共享内存管理，则必须手动配置多个SGA组件大小，然后在数据库工作负载发生变化时持续监视和调整这些大小。您可以遵循有关设置控制这些SGA组件大小的参数的指导原则。
                        </li>
                        <li class="ulchildlink"><a href="managing-memory.html#GUID-769DCB8C-7FE0-4DEC-8389-390C2A277715">启用手动共享内存管理</a><br>没有初始化参数本身可以启用手动共享内存管理。通过禁用自动内存管理和自动共享内存管理，您可以有效地启用手动共享内存管理。
                        </li>
                        <li class="ulchildlink"><a href="managing-memory.html#GUID-CEF55C3D-298C-406A-9D97-BB5279CDCE1E">设置缓冲区高速缓存初始化参数</a><br>缓冲区高速缓存初始化参数确定SGA的缓冲区高速缓存组件的大小。</li>
                        <li class="ulchildlink"><a href="managing-memory.html#GUID-9443370C-4E61-41DD-91CD-18CB80BB4374">指定共享池大小</a><br><code class="codeph">SHARED_POOL_SIZE</code>初始化参数是一个动态参数，可用于指定或调整SGA的共享池组件的大小。 Oracle数据库选择适当的默认值。
                        </li>
                        <li class="ulchildlink"><a href="managing-memory.html#GUID-3542FC32-ADE0-4D14-9064-09B3BF0ABAE4">指定大池大小</a><br><code class="codeph">LARGE_POOL_SIZE</code>初始化参数是一个动态参数，可用于指定或调整SGA的大池组件的大小。</li>
                        <li class="ulchildlink"><a href="managing-memory.html#GUID-06540DF1-314C-408D-B896-A88C74D9459D">指定Java池大小</a><br><code class="codeph">JAVA_POOL_SIZE</code>初始化参数是一个动态参数，可用于指定或调整SGA的Java池组件的大小。</li>
                        <li class="ulchildlink"><a href="managing-memory.html#GUID-BCB75118-E325-4535-BC38-E46C2866A7DB">指定Streams池大小</a><br><code class="codeph">STREAMS_POOL_SIZE</code>初始化参数是一个动态参数，可用于指定或调整SGA的Streams Pool组件的大小。</li>
                        <li class="ulchildlink"><a href="managing-memory.html#GUID-0EE95237-32D3-4E70-B0C9-186A5B37AD83">指定结果缓存最大大小</a><br><code class="codeph">RESULT_CACHE_MAX_SIZE</code>初始化参数是一个动态参数，使您可以指定SGA的结果缓存组件的最大大小。</li>
                        <li class="ulchildlink"><a href="managing-memory.html#GUID-0713B499-7532-4E04-8D2C-6347DCD9A0B9">指定其他SGA初始化参数</a><br>您可以设置一些额外的初始化参数来控制SGA如何使用内存。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-memory.html#GUID-27A013E8-66E2-483B-83A4-76DE10E3DADD" title="如果您希望对单个内存组件的大小进行更直接的控制，则可以禁用自动内存管理并将数据库配置为手动内存管理。">手动配置内存</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="sect4"><a id="GUID-904F96E9-39AD-4777-AE7F-53A984CD028E" name="GUID-904F96E9-39AD-4777-AE7F-53A984CD028E"></a><h5 id="ADMIN-GUID-904F96E9-39AD-4777-AE7F-53A984CD028E" class="sect5"><span class="enumeration_section">6.4.3.1</span>关于手动共享内存管理</h5>
                     <div>
                        <p>如果决定不使用自动内存管理或自动共享内存管理，则必须手动配置多个SGA组件大小，然后在数据库工作负载发生变化时持续监视和调整这些大小。您可以遵循有关设置控制这些SGA组件大小的参数的指导原则。</p>
                        <p>如果使用DBCA创建数据库并选择手动共享内存管理，则DBCA会提供必须输入缓冲区高速缓存，共享池，大型池和Java池大小的字段。然后，它在其创建的服务器参数文件（ <code class="codeph">SPFILE</code> ）中设置相应的初始化参数。如果您使用<code class="codeph">CREATE DATABASE</code> SQL语句和文本初始化参数文件创建数据库，则可以执行以下操作之一：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>为设置SGA组件大小的初始化参数提供值。</p>
                           </li>
                           <li>
                              <p>从文本初始化文件中省略SGA组件大小参数。Oracle数据库为未设置大小的任何组件选择合理的默认值。</p>
                           </li>
                        </ul>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="managing-memory.html#GUID-A2DC5193-CE89-4F20-AA4B-3EC45F4C770E" title="要手动管理共享内存，首先要确保禁用自动内存管理和自动共享内存管理。然后，您可以手动配置，监视和调整内存组件。">使用手动共享内存管理</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11219"></a><div class="props_rev_3"><a id="GUID-769DCB8C-7FE0-4DEC-8389-390C2A277715" name="GUID-769DCB8C-7FE0-4DEC-8389-390C2A277715"></a><h5 id="ADMIN-GUID-769DCB8C-7FE0-4DEC-8389-390C2A277715" class="sect5"><span class="enumeration_section">6.4.3.2</span>启用手动共享内存管理</h5>
                     <div>
                        <p>没有初始化参数本身可以启用手动共享内存管理。通过禁用自动内存管理和自动共享内存管理，您可以有效地启用手动共享内存管理。</p>
                        <div class="section">
                           <p>要启用手动共享内存管理：</p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li><span>将<code class="codeph">MEMORY_TARGET</code>初始化参数设置为0。</span></li>
                           <li><span>将<code class="codeph">SGA_TARGET</code>初始化参数设置为0。</span></li>
                        </ol>
                        <div class="section">
                           <p>然后，您必须为各种SGA组件设置值，如以下部分所述。</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="managing-memory.html#GUID-A2DC5193-CE89-4F20-AA4B-3EC45F4C770E" title="要手动管理共享内存，首先要确保禁用自动内存管理和自动共享内存管理。然后，您可以手动配置，监视和调整内存组件。">使用手动共享内存管理</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11220"></a><div class="props_rev_3"><a id="GUID-CEF55C3D-298C-406A-9D97-BB5279CDCE1E" name="GUID-CEF55C3D-298C-406A-9D97-BB5279CDCE1E"></a><h5 id="ADMIN-GUID-CEF55C3D-298C-406A-9D97-BB5279CDCE1E" class="sect5"><span class="enumeration_section">6.4.3.3</span>设置缓冲区高速缓存初始化参数</h5>
                     <div>
                        <p>缓冲区高速缓存初始化参数确定SGA的缓冲区高速缓存组件的大小。</p>
                        <div class="section">
                           <p>您可以使用它们为数据库使用的各种块大小指定高速缓存的大小。这些初始化参数都是动态的。</p>
                           <p>缓冲区高速缓存的大小会影响性能。较大的高速缓存大小通常会减少磁盘读写次数。但是，大缓存可能会占用太多内存并导致内存分页或交换。</p>
                           <p>Oracle数据库支持数据库中的多个块大小。如果创建具有非标准块大小的表空间，则必须配置非标准块大小缓冲区以适应这些表空间。标准块大小用于<code class="codeph">SYSTEM</code>表空间。通过设置初始化参数<code class="codeph">DB_BLOCK_SIZE</code>指定标准块大小。合法值从2K到32K。</p>
                           <p>如果要在数据库中使用多个块大小，则必须设置<code class="codeph">DB_CACHE_SIZE</code>和至少一个<code class="codeph">DB_</code> <span class="italic"><code class="codeph">n</code></span> <code class="codeph">K_CACHE_SIZE</code>参数。Oracle数据库为<code class="codeph">DB_CACHE_SIZE</code>参数指定了适当的默认值，但<code class="codeph">DB_</code> <span class="italic"><code class="codeph">n</code></span> <code class="codeph">K_CACHE_SIZE</code>参数默认为0，并且未配置其他块大小缓存。
                           </p>
                           <p>非标准块大小缓冲区的大小和数量由以下参数指定：</p><pre class="oac_no_warn" dir="ltr">DB_2K_CACHE_SIZE DB_4K_CACHE_SIZE DB_8K_CACHE_SIZE DB_16K_CACHE_SIZE DB_32K_CACHE_SIZE</pre><pre class="oac_no_warn" dir="ltr"></pre><p>每个参数指定相应块大小的高速缓存大小。</p>
                           <div class="infoboxnote" id="GUID-CEF55C3D-298C-406A-9D97-BB5279CDCE1E__GUID-9D387F9E-7200-40AA-BF33-CBE9E14557C4">
                              <p class="notep1">注意：</p>
                              <p></p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>有关最大块大小的特定于平台的限制适用，因此某些平台上可能不允许某些大小。</p>
                                 </li>
                                 <li>
                                    <p>32K块大小仅在64位平台上有效。</p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <ul class="ullinks">
                           <li class="ulchildlink"><a href="managing-memory.html#GUID-8C8C6435-8784-40F2-933A-7AD2E4858509">设置块和缓存大小的示例</a><br>示例说明了设置块和高速缓存大小。
                           </li>
                           <li class="ulchildlink"><a href="managing-memory.html#GUID-663A16F9-DF59-47C7-A4AB-ADC8298C1C26">多个缓冲池</a><br>您可以使用单独的缓冲池配置数据库缓冲区缓存，这些缓冲池可以将数据保留在缓冲区缓存中，也可以在使用数据块后立即使缓冲区可用于新数据。
                           </li>
                        </ul>
                        <div class="infoboxnotealso" id="GUID-CEF55C3D-298C-406A-9D97-BB5279CDCE1E__GUID-E970CAC4-92E3-46C8-9A18-98B086FAFABC">
                           <p class="notep1">也可以看看：</p>
                           <p><span class="q">“ <a href="managing-tablespaces.html#GUID-A789CECE-226C-4280-8BC4-39F064036965" title="您可以创建块大小不同于标准数据库块大小的表空间，该大小由DB_BLOCK_SIZE初始化参数指定。此功能允许您在数据库之间传输具有不同块大小的表空间。">为表空间指定非标准块大小</a> ”</span></p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="managing-memory.html#GUID-A2DC5193-CE89-4F20-AA4B-3EC45F4C770E" title="要手动管理共享内存，首先要确保禁用自动内存管理和自动共享内存管理。然后，您可以手动配置，监视和调整内存组件。">使用手动共享内存管理</a></p>
                           </div>
                        </div>
                     </div>
                     <a id="ADMIN11221"></a><div class="props_rev_3"><a id="GUID-8C8C6435-8784-40F2-933A-7AD2E4858509" name="GUID-8C8C6435-8784-40F2-933A-7AD2E4858509"></a><h6 id="ADMIN-GUID-8C8C6435-8784-40F2-933A-7AD2E4858509" class="sect6"><span class="enumeration_section">6.4.3.3.1</span>设置块和缓存大小的示例</h6>
                        <div>
                           <p>示例说明了设置块和高速缓存大小。</p><pre class="oac_no_warn" dir="ltr">DB_BLOCK_SIZE = 4096 DB_CACHE_SIZE = 1024M DB_2K_CACHE_SIZE = 256M DB_8K_CACHE_SIZE = 512M</pre><pre class="oac_no_warn" dir="ltr"></pre><p>在前面的示例中，参数<code class="codeph">DB_BLOCK_SIZE</code>将数据库的标准块大小设置为4K。标准块大小缓冲区的缓存大小为1024MB。此外，还配置了2K和8K高速缓存，大小分别为256MB和512MB。
                           </p>
                           <div class="infoboxnote" id="GUID-8C8C6435-8784-40F2-933A-7AD2E4858509__GUID-C0E6600C-2409-4BDA-AB0A-EED623EA78D6">
                              <p class="notep1">注意：</p>
                              <p><code class="codeph">DB_</code> <span class="italic"><code class="codeph">n</code></span> <code class="codeph">K_CACHE_SIZE</code>参数不能用于调整标准块大小的高速缓存大小。如果<code class="codeph">DB_BLOCK_SIZE</code>值为<span class="italic">n</span> K，则设置<code class="codeph">DB_</code> <span class="italic"><code class="codeph">n</code></span> <code class="codeph">K_CACHE_SIZE</code>无效。标准块大小的高速缓存大小始终由<code class="codeph">DB_CACHE_SIZE</code>的值确定。</p>
                           </div>
                           <p>缓存的大小有限，因此磁盘上的所有数据都不适合缓存。当缓存已满时，后续缓存未命中导致Oracle数据库将缓存中已有的脏数据写入磁盘，以便为新数据腾出空间。（如果缓冲区不脏，则在将新块读入缓冲区之前不需要将其写入磁盘。）随后访问写入磁盘然后被覆盖的任何数据会导致额外的缓存未命中。</p>
                           <p>缓存的大小会影响数据请求导致缓存命中的可能性。如果缓存很大，则更有可能包含所请求的数据。增加高速缓存的大小会增加导致高速缓存命中的数据请求的百分比。</p>
                           <p>您可以在实例运行时更改缓冲区高速缓存的大小，而无需关闭数据库。使用<code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code>语句执行此操作。
                           </p>
                           <p>使用固定视图<code class="codeph">V$BUFFER_POOL</code>跟踪不同缓存组件的大小和任何挂起的调整大小操作。
                           </p>
                        </div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="managing-memory.html#GUID-CEF55C3D-298C-406A-9D97-BB5279CDCE1E" title="缓冲区高速缓存初始化参数确定SGA的缓冲区高速缓存组件的大小。">设置缓冲区高速缓存初始化参数</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div><a id="ADMIN11222"></a><div class="props_rev_3"><a id="GUID-663A16F9-DF59-47C7-A4AB-ADC8298C1C26" name="GUID-663A16F9-DF59-47C7-A4AB-ADC8298C1C26"></a><h6 id="ADMIN-GUID-663A16F9-DF59-47C7-A4AB-ADC8298C1C26" class="sect6"><span class="enumeration_section">6.4.3.3.2</span>多个缓冲池</h6>
                        <div>
                           <p>您可以使用单独的缓冲池配置数据库缓冲区缓存，这些缓冲池可以将数据保留在缓冲区缓存中，也可以在使用数据块后立即使缓冲区可用于新数据。</p>
                           <p>然后，可以将特定的模式对象（表，集群，索引和分区）分配给适当的缓冲池，以控制其数据块从缓存中老化的方式。</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">KEEP</code>缓冲池将架构对象的数据块保留在内存中。
                                 </p>
                              </li>
                              <li>
                                 <p>一旦不再需要， <code class="codeph">RECYCLE</code>缓冲池就会从内存中删除数据块。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">DEFAULT</code>缓冲池包含未分配给任何缓冲池的架构对象的数据块，以及显式分配给<code class="codeph">DEFAULT</code>池的架构对象。
                                 </p>
                              </li>
                           </ul>
                           <p>配置<code class="codeph">KEEP</code>和<code class="codeph">RECYCLE</code>缓冲池的初始化参数是<code class="codeph">DB_KEEP_CACHE_SIZE</code>和<code class="codeph">DB_RECYCLE_CACHE_SIZE</code> 。</p>
                           <div class="infoboxnote" id="GUID-663A16F9-DF59-47C7-A4AB-ADC8298C1C26__GUID-915E81AB-E9D3-4857-92F4-EA4488039271">
                              <p class="notep1">注意：</p>
                              <p>多个缓冲池仅适用于标准块大小。非标准块大小的缓存具有单个<code class="codeph">DEFAULT</code>池。
                              </p>
                           </div>
                        </div>
                        <div>
                           <div class="infoboxnotealso" id="GUID-663A16F9-DF59-47C7-A4AB-ADC8298C1C26__GUID-205ED62F-E9F7-4F67-878F-11DBF3A7F1CE">
                              <p class="notep1">也可以看看：</p>
                              <p><a href="../tgdba/tuning-database-buffer-cache.html#TGDBA295" target="_blank"><span class="italic">“Oracle数据库性能调整指南”</span></a> ，了解有关调整缓冲区高速缓存的信息以及有关多个缓冲池的更多信息</p>
                           </div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="managing-memory.html#GUID-CEF55C3D-298C-406A-9D97-BB5279CDCE1E" title="缓冲区高速缓存初始化参数确定SGA的缓冲区高速缓存组件的大小。">设置缓冲区高速缓存初始化参数</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                  </div><a id="ADMIN11223"></a><div class="props_rev_3"><a id="GUID-9443370C-4E61-41DD-91CD-18CB80BB4374" name="GUID-9443370C-4E61-41DD-91CD-18CB80BB4374"></a><h5 id="ADMIN-GUID-9443370C-4E61-41DD-91CD-18CB80BB4374" class="sect5"><span class="enumeration_section">6.4.3.4</span>指定共享池大小</h5>
                     <div>
                        <p><code class="codeph">SHARED_POOL_SIZE</code>初始化参数是一个动态参数，可用于指定或调整SGA的共享池组件的大小。 Oracle数据库选择适当的默认值。
                        </p>
                        <div class="section">
                           <p>在Oracle Database <span class="italic">10g</span>之前的版本中，分配的共享池内存量等于<code class="codeph">SHARED_POOL_SIZE</code>初始化参数的值加上实例启动期间计算的内部SGA开销量。内部SGA开销是指Oracle Database在启动期间根据其他几个初始化参数的值分配的内存。此内存用于维护SGA中不同服务器组件的状态。例如，如果<code class="codeph">SHARED_POOL_SIZE</code>参数设置为64 MB并且内部SGA开销计算为12 MB，则共享池的实际大小为64 + 12 = 76 MB，尽管<code class="codeph">SHARED_POOL_SIZE</code>参数的值仍显示为64 MB。</p>
                           <p>从Oracle Database <span class="italic">10g开始</span> ，内部SGA开销的大小包含在用户指定的<code class="codeph">SHARED_POOL_SIZE</code>值中。如果您不使用自动内存管理或自动共享内存管理，则启动时分配的共享池内存量等于<code class="codeph">SHARED_POOL_SIZE</code>初始化参数的值，向上舍入为粒度大小的倍数。因此，必须设置此参数，使其除了包含共享池大小的所需值外，还包括内部SGA开销。在前面的示例中，如果<code class="codeph">SHARED_POOL_SIZE</code>参数在启动时设置为64 MB，则启动后可用的共享池为64  -  12 = 52 MB，假设内部SGA开销的值保持不变。为了在启动后为共享池内存保持64 MB的有效值，必须将<code class="codeph">SHARED_POOL_SIZE</code>参数设置为64 + 12 = 76 MB。</p>
                           <p>从早于Oracle Database <span class="italic">10g</span>的发行版迁移时，迁移实用程序会根据升级前环境中的内部SGA开销值以及此参数的旧值，为此参数建议新值。从Oracle Database <span class="italic">10g</span>开始，可以从<code class="codeph">V$SGAINFO</code>视图查询内部SGA开销的确切值，也称为共享池中的启动开销。此外，在手动共享内存管理模式下，如果用户指定的<code class="codeph">SHARED_POOL_SIZE</code>值太小而无法满足内部SGA开销的要求，则Oracle数据库在启动期间会生成<code class="codeph">ORA-00371</code>错误，并建议使用该值。 <code class="codeph">SHARED_POOL_SIZE</code>参数。使用自动共享内存管理时，将自动调整共享池，并且不会生成<code class="codeph">ORA-00371</code>错误。
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <ul class="ullinks">
                           <li class="ulchildlink"><a href="managing-memory.html#GUID-D2A4AA78-16D3-4E49-A337-957B027FC120">结果缓存和共享池大小</a><br></li>
                        </ul>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="managing-memory.html#GUID-A2DC5193-CE89-4F20-AA4B-3EC45F4C770E" title="要手动管理共享内存，首先要确保禁用自动内存管理和自动共享内存管理。然后，您可以手动配置，监视和调整内存组件。">使用手动共享内存管理</a></p>
                           </div>
                        </div>
                     </div>
                     <a id="ADMIN11224"></a><div class="props_rev_3"><a id="GUID-D2A4AA78-16D3-4E49-A337-957B027FC120" name="GUID-D2A4AA78-16D3-4E49-A337-957B027FC120"></a><h6 id="ADMIN-GUID-D2A4AA78-16D3-4E49-A337-957B027FC120" class="sect6"><span class="enumeration_section">6.4.3.4.1</span>结果缓存和共享池大小</h6>
                        <div>
                           <p>结果缓存从共享池中获取其内存。因此，如果您希望增加结果缓存的最大大小，请在调整共享池大小时考虑这一点。</p>
                        </div>
                        <div>
                           <div class="infoboxnotealso" id="GUID-D2A4AA78-16D3-4E49-A337-957B027FC120__GUID-924B284D-2080-4E5F-AC4D-5FB9AA2015B5">
                              <p class="notep1">也可以看看：</p>
                              <p><span class="q">“ <a href="managing-memory.html#GUID-0EE95237-32D3-4E70-B0C9-186A5B37AD83" title="RESULT_CACHE_MAX_SIZE初始化参数是一个动态参数，使您可以指定SGA的结果缓存组件的最大大小。">指定结果缓存最大大小</a> ”</span></p>
                           </div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="managing-memory.html#GUID-9443370C-4E61-41DD-91CD-18CB80BB4374" title="SHARED_POOL_SIZE初始化参数是一个动态参数，可用于指定或调整SGA的共享池组件的大小。 Oracle数据库选择适当的默认值。">指定共享池大小</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                  </div><a id="ADMIN11225"></a><div class="props_rev_3"><a id="GUID-3542FC32-ADE0-4D14-9064-09B3BF0ABAE4" name="GUID-3542FC32-ADE0-4D14-9064-09B3BF0ABAE4"></a><h5 id="ADMIN-GUID-3542FC32-ADE0-4D14-9064-09B3BF0ABAE4" class="sect5"><span class="enumeration_section">6.4.3.5</span>指定大池大小</h5>
                     <div>
                        <p><code class="codeph">LARGE_POOL_SIZE</code>初始化参数是一个动态参数，可用于指定或调整SGA的大池组件的大小。</p>
                        <div class="section">
                           <p>大型池是SGA的可选组件。您必须专门设置<code class="codeph">LARGE_POOL_SIZE</code>参数以创建大型池。“ <a href="../tgdba/database-memory-allocation.html#TGDBA291" target="_blank"><span class="italic">Oracle数据库性能调整指南”中</span></a>讨论了配置大型池。
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="managing-memory.html#GUID-A2DC5193-CE89-4F20-AA4B-3EC45F4C770E" title="要手动管理共享内存，首先要确保禁用自动内存管理和自动共享内存管理。然后，您可以手动配置，监视和调整内存组件。">使用手动共享内存管理</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11226"></a><div class="props_rev_3"><a id="GUID-06540DF1-314C-408D-B896-A88C74D9459D" name="GUID-06540DF1-314C-408D-B896-A88C74D9459D"></a><h5 id="ADMIN-GUID-06540DF1-314C-408D-B896-A88C74D9459D" class="sect5"><span class="enumeration_section">6.4.3.6</span>指定Java池大小</h5>
                     <div>
                        <p><code class="codeph">JAVA_POOL_SIZE</code>初始化参数是一个动态参数，可用于指定或调整SGA的Java池组件的大小。</p>
                        <div class="section">
                           <p>Oracle数据库选择适当的默认值。<a href="../jjdev/about-Java-memory-usage.html#JJDEV09200" target="_blank"><span class="italic">Oracle数据库Java开发人员指南中</span></a>讨论了Java池的配置。
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="managing-memory.html#GUID-A2DC5193-CE89-4F20-AA4B-3EC45F4C770E" title="要手动管理共享内存，首先要确保禁用自动内存管理和自动共享内存管理。然后，您可以手动配置，监视和调整内存组件。">使用手动共享内存管理</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11227"></a><div class="props_rev_3"><a id="GUID-BCB75118-E325-4535-BC38-E46C2866A7DB" name="GUID-BCB75118-E325-4535-BC38-E46C2866A7DB"></a><h5 id="ADMIN-GUID-BCB75118-E325-4535-BC38-E46C2866A7DB" class="sect5"><span class="enumeration_section">6.4.3.7</span>指定Streams池大小</h5>
                     <div>
                        <p><code class="codeph">STREAMS_POOL_SIZE</code>初始化参数是一个动态参数，可用于指定或调整SGA的Streams Pool组件的大小。</p>
                        <div class="section">
                           <p>如果<code class="codeph">STREAMS_POOL_SIZE</code>设置为0，则Oracle Streams产品会在需要时将内存从缓冲区缓存传输到Streams池。 。
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="managing-memory.html#GUID-A2DC5193-CE89-4F20-AA4B-3EC45F4C770E" title="要手动管理共享内存，首先要确保禁用自动内存管理和自动共享内存管理。然后，您可以手动配置，监视和调整内存组件。">使用手动共享内存管理</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11228"></a><div class="props_rev_3"><a id="GUID-0EE95237-32D3-4E70-B0C9-186A5B37AD83" name="GUID-0EE95237-32D3-4E70-B0C9-186A5B37AD83"></a><h5 id="ADMIN-GUID-0EE95237-32D3-4E70-B0C9-186A5B37AD83" class="sect5"><span class="enumeration_section">6.4.3.8</span>指定结果缓存最大大小</h5>
                     <div>
                        <p><code class="codeph">RESULT_CACHE_MAX_SIZE</code>初始化参数是一个动态参数，使您可以指定SGA的结果缓存组件的最大大小。</p>
                        <div class="section">
                           <p>通常，不需要指定此参数，因为数据库根据SGA可用的总内存和当前使用的内存管理方法选择默认的最大大小。您可以通过显示<code class="codeph">RESULT_CACHE_MAX_SIZE</code>参数的值来查看当前的默认最大大小。要更改此最大大小，可以使用<code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code>语句设置<code class="codeph">RESULT_CACHE_MAX_SIZE</code> ，也可以在文本初始化参数文件中指定此参数。在每种情况下，该值都会向上舍入到最接近的32K的倍数。</p>
                           <p>如果在实例启动时<code class="codeph">RESULT_CACHE_MAX_SIZE</code>为0，则禁用结果缓存。要重新启用它，必须将<code class="codeph">RESULT_CACHE_MAX_SIZE</code>设置为非零值（或从文本初始化参数文件中删除此参数以获取默认的最大大小），然后重新启动数据库。
                           </p>
                           <p>请注意，在禁用结果缓存的情况下启动数据库后，如果使用<code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code>语句将<code class="codeph">RESULT_CACHE_MAX_SIZE</code>设置为非零值但不重新启动数据库，则查询<code class="codeph">RESULT_CACHE_MAX_SIZE</code>参数的值将返回非零值，即使结果缓存为还是残疾人因此， <code class="codeph">RESULT_CACHE_MAX_SIZE</code>的值不是确定结果缓存是否已启用的最可靠方法。您可以使用以下查询：</p><pre class="oac_no_warn" dir="ltr">SELECT dbms_result_cache.status（）FROM dual; DBMS_RESULT_CACHE.STATUS（）---------------------------------------------启用</pre><p>结果缓存从共享池中获取其内存，因此如果增加最大结果缓存大小，请考虑增加共享池大小。</p>
                           <p>视图<code class="codeph">V$RESULT_CACHE_STATISTICS</code>和PL / SQL包过程<code class="codeph">DBMS_RESULT_CACHE.MEMORY_REPORT</code>显示信息，以帮助您确定当前分配给结果缓存的内存量。
                           </p>
                           <p>PL / SQL包函数<code class="codeph">DBMS_RESULT_CACHE.FLUSH</code>清除结果缓存并将所有内存释放回共享池。
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-0EE95237-32D3-4E70-B0C9-186A5B37AD83__GUID-02097596-BF8D-4AA6-9285-EC77997B1E50">
                           <p class="notep1">也可以看看：</p>
                           <p></p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>有关结果缓存的详细信息，请<a href="../tgdba/tuning-result-cache.html#TGDBA631" target="_blank"><span class="italic">参见“Oracle数据库性能调整指南”</span></a></p>
                              </li>
                              <li>
                                 <p>有关<code class="codeph">DBMS_RESULT_CACHE</code>包过程和函数的更多信息，请<a href="../arpls/DBMS_RESULT_CACHE.html#ARPLS202" target="_blank"><span class="italic">参见Oracle Database PL / SQL包和类型参考</span></a> 。
                                 </p>
                              </li>
                              <li>
                                 <p>有关<code class="codeph">V$RESULT_CACHE_STATISTICS</code>视图的更多信息，请<a href="../refrn/V-RESULT_CACHE_STATISTICS.html#REFRN30439" target="_blank"><span class="italic">参见Oracle数据库参考</span></a> 。
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../racad/administering-database-instances-and-cluster-databases.html#RACAD017" target="_blank"><span class="italic">“Oracle Real Application Clusters管理和部署指南”，</span></a>以获取有关为集群数据库设置<code class="codeph">RESULT_CACHE_MAX_SIZE</code>的信息。
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="managing-memory.html#GUID-A2DC5193-CE89-4F20-AA4B-3EC45F4C770E" title="要手动管理共享内存，首先要确保禁用自动内存管理和自动共享内存管理。然后，您可以手动配置，监视和调整内存组件。">使用手动共享内存管理</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11229"></a><div class="props_rev_3"><a id="GUID-0713B499-7532-4E04-8D2C-6347DCD9A0B9" name="GUID-0713B499-7532-4E04-8D2C-6347DCD9A0B9"></a><h5 id="ADMIN-GUID-0713B499-7532-4E04-8D2C-6347DCD9A0B9" class="sect5"><span class="enumeration_section">6.4.3.9</span>指定其他SGA初始化参数</h5>
                     <p>您可以设置一些额外的初始化参数来控制SGA如何使用内存。</p>
                     <div>
                        <ul class="ullinks">
                           <li class="ulchildlink"><a href="managing-memory.html#GUID-487FCEA7-F44B-4E34-9422-80F2BE242CC0">物理内存</a><br><code class="codeph">LOCK_SGA</code>参数设置为<code class="codeph">TRUE</code> ， <code class="codeph">LOCK_SGA</code>整个SGA锁定到物理内存中。
                           </li>
                           <li class="ulchildlink"><a href="managing-memory.html#GUID-B68A076F-98AD-42CC-B6C1-740713A41192">SGA起始地址</a><br><code class="codeph">SHARED_MEMORY_ADDRESS</code>和<code class="codeph">HI_SHARED_MEMORY_ADDRESS</code>参数指定运行时SGA的起始地址。
                           </li>
                        </ul>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="managing-memory.html#GUID-A2DC5193-CE89-4F20-AA4B-3EC45F4C770E" title="要手动管理共享内存，首先要确保禁用自动内存管理和自动共享内存管理。然后，您可以手动配置，监视和调整内存组件。">使用手动共享内存管理</a></p>
                           </div>
                        </div>
                     </div>
                     <a id="ADMIN11230"></a><div class="props_rev_3"><a id="GUID-487FCEA7-F44B-4E34-9422-80F2BE242CC0" name="GUID-487FCEA7-F44B-4E34-9422-80F2BE242CC0"></a><h6 id="ADMIN-GUID-487FCEA7-F44B-4E34-9422-80F2BE242CC0" class="sect6"><span class="enumeration_section">6.4.3.9.1</span>物理内存</h6>
                        <div>
                           <p><code class="codeph">LOCK_SGA</code>参数设置为<code class="codeph">TRUE</code> ， <code class="codeph">LOCK_SGA</code>整个SGA锁定到物理内存中。
                           </p>
                           <p>此参数不能与自动内存管理一起使用。</p>
                        </div>
                        <div>
                           <div class="infoboxnotealso" id="GUID-487FCEA7-F44B-4E34-9422-80F2BE242CC0__GUID-C7B882C8-EF2E-49D6-A221-44E4C9151964">
                              <p class="notep1">也可以看看：</p>
                              <p></p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>有关这些初始化参数的更多信息，请<a href="../refrn/LOCK_NAME_SPACE.html#REFRN-GUID-2B5D1E3B-918B-4FD4-9941-21C545CC8537" target="_blank"><span class="italic">参见Oracle数据库</span></a></p>
                                 </li>
                                 <li>
                                    <p><span class="q">“ <a href="managing-memory.html#GUID-8F54391B-D42A-4FDA-9D12-E1F81FD113EA" title="您可以允许Oracle数据库实例自动管理和调整内存。">使用自动内存管理</a> ”</span></p>
                                 </li>
                                 <li>
                                    <p><span class="q">“ <a href="managing-memory.html#GUID-3CEA1AB5-4850-4064-9823-F62C500A579F" title="自动共享内存管理简化了SGA内存管理。">使用自动共享内存管理</a> ”</span></p>
                                 </li>
                              </ul>
                           </div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="managing-memory.html#GUID-0713B499-7532-4E04-8D2C-6347DCD9A0B9" title="您可以设置一些额外的初始化参数来控制SGA如何使用内存。">指定其他SGA初始化参数</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div><a id="ADMIN11231"></a><div class="props_rev_3"><a id="GUID-B68A076F-98AD-42CC-B6C1-740713A41192" name="GUID-B68A076F-98AD-42CC-B6C1-740713A41192"></a><h6 id="ADMIN-GUID-B68A076F-98AD-42CC-B6C1-740713A41192" class="sect6"><span class="enumeration_section">6.4.3.9.2</span> SGA起始地址</h6>
                        <div>
                           <p><code class="codeph">SHARED_MEMORY_ADDRESS</code>和<code class="codeph">HI_SHARED_MEMORY_ADDRESS</code>参数指定运行时SGA的起始地址。
                           </p>
                           <p>很少使用这些参数。对于64位平台， <code class="codeph">HI_SHARED_MEMORY_ADDRESS</code>指定64位地址的高32位。
                           </p>
                        </div>
                        <div>
                           <div class="infoboxnotealso" id="GUID-B68A076F-98AD-42CC-B6C1-740713A41192__GUID-C7B882C8-EF2E-49D6-A221-44E4C9151964">
                              <p class="notep1">也可以看看：</p>
                              <p></p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>有关<code class="codeph">SHARED_MEMORY_ADDRESS</code>初始化参数的更多信息，请<code class="codeph">SHARED_MEMORY_ADDRESS</code> <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=REFRN10200" target="_blank"><span class="italic">Oracle数据库参考</span></a></p>
                                 </li>
                                 <li>
                                    <p>有关<code class="codeph">HI_SHARED_MEMORY_ADDRESS</code>初始化参数的更多信息，请<code class="codeph">HI_SHARED_MEMORY_ADDRESS</code> <a href="../refrn/HI_SHARED_MEMORY_ADDRESS.html#REFRN10068" target="_blank"><span class="italic">Oracle数据库参考</span></a></p>
                                 </li>
                                 <li>
                                    <p><span class="q">“ <a href="managing-memory.html#GUID-8F54391B-D42A-4FDA-9D12-E1F81FD113EA" title="您可以允许Oracle数据库实例自动管理和调整内存。">使用自动内存管理</a> ”</span></p>
                                 </li>
                                 <li>
                                    <p><span class="q">“ <a href="managing-memory.html#GUID-3CEA1AB5-4850-4064-9823-F62C500A579F" title="自动共享内存管理简化了SGA内存管理。">使用自动共享内存管理</a> ”</span></p>
                                 </li>
                              </ul>
                           </div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="managing-memory.html#GUID-0713B499-7532-4E04-8D2C-6347DCD9A0B9" title="您可以设置一些额外的初始化参数来控制SGA如何使用内存。">指定其他SGA初始化参数</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                  </div>
               </div><a id="ADMIN11233"></a><div class="props_rev_3"><a id="GUID-2B2581E8-DFD7-4FA0-9C2A-86E485235B78" name="GUID-2B2581E8-DFD7-4FA0-9C2A-86E485235B78"></a><h4 id="ADMIN-GUID-2B2581E8-DFD7-4FA0-9C2A-86E485235B78" class="sect4"><span class="enumeration_section">6.4.4</span>使用自动PGA内存管理</h4>
                  <div>
                     <p>默认情况下，Oracle数据库自动并全局管理专用于实例PGA的内存总量。您可以通过设置初始化参数<code class="codeph">PGA_AGGREGATE_TARGET</code>来控制此数量。</p>
                     <div class="section">
                        <p>然后，Oracle数据库尝试确保在所有数据库服务器进程和后台进程中分配的PGA内存总量不会超过此目标。</p>
                        <p>如果使用DBCA创建数据库，则可以为总实例PGA指定值。然后，DBCA在其创建的服务器参数文件（ <code class="codeph">SPFILE</code> ）中设置<code class="codeph">PGA_AGGREGATE_TARGET</code>初始化参数。如果未指定总实例PGA，DBCA会选择合理的默认值。
                        </p>
                        <p>如果使用<code class="codeph">CREATE DATABASE</code> SQL语句和文本初始化参数文件<code class="codeph">CREATE DATABASE</code> ，则可以为<code class="codeph">PGA_AGGREGATE_TARGET</code>提供值。如果省略此参数，数据库将为其选择默认值。
                        </p>
                        <p>使用自动PGA内存管理，SQL工作区的大小自动调整，并忽略所有<code class="codeph">*_AREA_SIZE</code>初始化参数。在任何给定时间，实例上活动工作区可用的PGA内存总量将自动从参数<code class="codeph">PGA_AGGREGATE_TARGET</code>派生。此数量设置为<code class="codeph">PGA_AGGREGATE_TARGET</code>的值减去为其他目的分配的PGA内存（例如，会话内存）。然后根据特定的存储器要求将得到的PGA存储器分配给各个活动工作区。
                        </p>
                        <p>有动态性能视图提供PGA内存使用统计信息。设置<code class="codeph">PGA_AGGREGATE_TARGET</code>时，大多数这些统计信息都会启用。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>可以在以下动态性能视图中查看有关工作区内存分配和使用的统计信息：</p>
                           </li>
                        </ul>
                        <ul class="simple" style="list-style-type:none;padding-left:0">
                           <li><code class="codeph">V $ SYSSTAT</code></li>
                           <li><code class="codeph">V $ SESSTAT</code></li>
                           <li><code class="codeph">V $ PGASTAT</code> 
                           </li>
                           <li><code class="codeph">V $ SQL_WORKAREA</code></li>
                           <li><code class="codeph">V $ SQL_WORKAREA_ACTIVE</code></li>
                        </ul>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">V$PROCESS</code>视图中的以下三列报告Oracle数据库进程分配和使用的PGA内存：</p>
                           </li>
                        </ul>
                        <ul class="simple" style="list-style-type:none;padding-left:0">
                           <li><code class="codeph">PGA_USED_MEM</code></li>
                           <li><code class="codeph">PGA_ALLOC_MEM</code></li>
                           <li><code class="codeph">PGA_MAX_MEM</code></li>
                        </ul>
                        <p><code class="codeph">PGA_AGGREGATE_TARGET</code>设置是目标。因此，Oracle数据库会尝试将PGA内存使用量限制为目标，但有时可能会超出设置。要指定PGA内存使用的硬限制，请使用<code class="codeph">PGA_AGGREGATE_LIMIT</code>初始化参数。Oracle数据库确保PGA大小不超过此限制。如果数据库超出限制，则数据库将中止具有最高不可中断PGA内存分配的会话的调用。无论是否使用自动内存管理，都可以设置<code class="codeph">PGA_AGGREGATE_LIMIT</code> 。如果未设置<code class="codeph">PGA_AGGREGATE_LIMIT</code> ，则Oracle数据库会确定适当的默认限制。有关此参数的详细信息，请参阅<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=REFRN10328" target="_blank"><span class="italic">Oracle数据库参考</span></a> 。
                        </p>
                        <div class="infoboxnote" id="GUID-2B2581E8-DFD7-4FA0-9C2A-86E485235B78__GUID-870EAAE7-0814-4182-8AA8-3A5D16D47CDD">
                           <p class="notep1">注意：</p>
                           <p>自动PGA内存管理方法适用于由专用和共享服务器进程分配的工作区。有关在专用和共享服务器模式下PGA内存分配的信息，请参阅<a href="../cncpt/memory-architecture.html#CNCPT1243" target="_blank"><span class="italic">Oracle数据库概念</span></a> 。
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-2B2581E8-DFD7-4FA0-9C2A-86E485235B78__GUID-7CC141A0-E86C-4EFB-B62F-A59C96DF19F1">
                        <p class="notep1">也可以看看：</p>
                        <p></p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>有关本节中描述的初始化参数和视图的信息，请<a href="../refrn/index.html" target="_blank"><span class="italic">参见Oracle数据库参考</span></a></p>
                           </li>
                           <li>
                              <p>有关使用本节中描述的视图的信息，请参见<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=TGDBA470" target="_blank"><span class="italic">“Oracle数据库性能调整指南”</span></a></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-memory.html#GUID-27A013E8-66E2-483B-83A4-76DE10E3DADD" title="如果您希望对单个内存组件的大小进行更直接的控制，则可以禁用自动内存管理并将数据库配置为手动内存管理。">手动配置内存</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11234"></a><div class="props_rev_3"><a id="GUID-8D7FC70A-56D8-4CA1-9F74-592F04172EA7" name="GUID-8D7FC70A-56D8-4CA1-9F74-592F04172EA7"></a><h4 id="ADMIN-GUID-8D7FC70A-56D8-4CA1-9F74-592F04172EA7" class="sect4"><span class="enumeration_section">6.4.5</span>使用手动PGA内存管理</h4>
                  <div>
                     <p>Oracle数据库支持手动PGA内存管理，您可以在其中手动调整SQL工作区。</p>
                     <div class="section">
                        <p>在Oracle Database <span class="italic">10g</span>之前的版本中，数据库管理员通过设置以下参数来控制SQL工作区的最大大小： <code class="codeph">SORT_AREA_SIZE</code> ， <code class="codeph">HASH_AREA_SIZE</code> ， <code class="codeph">BITMAP_MERGE_AREA_SIZE</code>和<code class="codeph">CREATE_BITMAP_AREA_SIZE</code> 。设置这些参数很困难，因为最大工作区域大小最好从数据输入大小和系统中活动的工作区域总数中选择。这两个因素在一个工作区域与另一个工作区域之间变化很大。因此，各种<code class="codeph">*_AREA_SIZE</code>参数在最佳情况下难以调整。
                        </p>
                        <p>因此，Oracle强烈建议您启用自动PGA内存管理。</p>
                        <p>如果决定手动调整SQL工作区，则必须将<code class="codeph">WORKAREA_SIZE_POLICY</code>初始化参数设置为<code class="codeph">MANUAL</code> 。</p>
                        <div class="infoboxnote" id="GUID-8D7FC70A-56D8-4CA1-9F74-592F04172EA7__GUID-BFFFF430-8BF2-4CBD-AE09-9A3002D972EC">
                           <p class="notep1">注意：</p>
                           <p>初始化参数<code class="codeph">WORKAREA_SIZE_POLICY</code>是会话级和系统级参数，只能使用两个值： <code class="codeph">MANUAL</code>或<code class="codeph">AUTO</code> 。默认为<code class="codeph">AUTO</code> 。您可以设置<code class="codeph">PGA_AGGREGATE_TARGET</code> ，然后在自动内存管理模式<code class="codeph">PGA_AGGREGATE_TARGET</code>回切换。当<code class="codeph">WORKAREA_SIZE_POLICY</code>设置为<code class="codeph">AUTO</code> ，将忽略<code class="codeph">*_AREA_SIZE</code>参数的设置。
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-memory.html#GUID-27A013E8-66E2-483B-83A4-76DE10E3DADD" title="如果您希望对单个内存组件的大小进行更直接的控制，则可以禁用自动内存管理并将数据库配置为手动内存管理。">手动配置内存</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADMIN14235"></a><div class="props_rev_3"><a id="GUID-CEBDCC3D-4B69-43C1-A7BE-F635F9F69D5F" name="GUID-CEBDCC3D-4B69-43C1-A7BE-F635F9F69D5F"></a><h3 id="ADMIN-GUID-CEBDCC3D-4B69-43C1-A7BE-F635F9F69D5F" class="sect3"><span class="enumeration_section">6.5</span>使用强制完全数据库缓存模式</h3>
               <div>
                  <p>Oracle数据库实例可以将完整数据库缓存在缓冲区缓存中。</p>
                  <div class="infoboxnote" id="GUID-CEBDCC3D-4B69-43C1-A7BE-F635F9F69D5F__GUID-C3331808-DF0E-47B0-B410-CC2BC2470CD8">
                     <p class="notep1">注意：</p>
                     <p>从Oracle Database 12 <span class="italic">c</span>第1版（12.1.0.2）开始提供此功能。
                     </p>
                  </div>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-memory.html#GUID-9FF68862-BAF0-4D30-A154-D80E3DEDC4B9">关于强制完全数据库缓存模式</a><br>在默认缓存模式下，当用户查询大型表时，Oracle数据库并不总是缓存基础数据，因为这样做可能会从缓冲区缓存中删除更多有用的数据。从Oracle Database 12 <span class="italic">c</span>第1版（12.1.0.2）开始，如果Oracle数据库实例确定有足够的空间来缓存缓冲区缓存中的完整数据库并且这样做是有益的，那么实例会自动缓存缓冲区缓存中的完整数据库。
                     </li>
                     <li class="ulchildlink"><a href="managing-memory.html#GUID-C1ED8A97-254A-44E8-B33A-FC3F9E3D406E">在启用强制完全数据库缓存模式之前</a><br>数据库必须处于12.0.0或更高的兼容级别，才能为数据库实例强制使用完全数据库缓存模式。此外，请确保缓冲区缓存足够大以缓存整个数据库。
                     </li>
                     <li class="ulchildlink"><a href="managing-memory.html#GUID-3BA728CF-55F8-4592-B2CD-452116D1F91F">启用强制完全数据库缓存模式</a><br>您可以为数据库启用强制完全数据库缓存模式。
                     </li>
                     <li class="ulchildlink"><a href="managing-memory.html#GUID-9B9B25A7-D4F3-4BFA-8F83-B473BD52B6D4">禁用强制完全数据库缓存模式</a><br>您可以为数据库禁用强制完全数据库缓存模式。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="managing-memory.html#GUID-BEABE53D-8058-4834-B99B-5C80A8AD5B06" title="内存管理涉及在数据库更改需求时维护Oracle数据库实例内存结构的最佳大小。">管理内存</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN14236"></a><div class="props_rev_3"><a id="GUID-9FF68862-BAF0-4D30-A154-D80E3DEDC4B9" name="GUID-9FF68862-BAF0-4D30-A154-D80E3DEDC4B9"></a><h4 id="ADMIN-GUID-9FF68862-BAF0-4D30-A154-D80E3DEDC4B9" class="sect4"><span class="enumeration_section">6.5.1</span>关于强制完全数据库缓存模式</h4>
                  <div>
                     <p>在默认缓存模式下，当用户查询大型表时，Oracle数据库并不总是缓存基础数据，因为这样做可能会从缓冲区缓存中删除更多有用的数据。从Oracle Database 12 <span class="italic">c</span>第1版（12.1.0.2）开始，如果Oracle数据库实例确定有足够的空间来缓存缓冲区缓存中的完整数据库并且这样做是有益的，那么实例会自动缓存缓冲区缓存中的完整数据库。
                     </p>
                     <p>在缓冲区缓存中缓存完整数据库可能会提高性能。您可以使用<code class="codeph">ALTER DATABASE FORCE FULL DATABASE CACHING</code>语句强制实例将数据库缓存在缓冲区缓存中。此语句将实例生效为完全数据库缓存模式。在此模式下，Oracle数据库假定缓冲区缓存足够大，可以缓存整个数据库，并尝试缓存随后访问的所有块。
                     </p>
                     <p>当Oracle数据库实例处于强制完全数据库缓存模式时，以下查询将返回<code class="codeph">YES</code> ：</p><pre class="oac_no_warn" dir="ltr">从V $ DATABASE中选择FORCE_FULL_DB_CACHING;</pre><p>当实例处于默认缓存模式时， <code class="codeph">NOCACHE</code> LOB不会缓存在缓冲区缓存中。但是，当实例处于强制完全数据库缓存模式时， <code class="codeph">NOCACHE</code> LOB可以缓存在缓冲区缓存中。此外，使用SecureFiles LOB存储的LOB和使用BasicFiles LOB存储的LOB都可以缓存在缓冲区缓存中，仅限于强制完全数据库缓存模式。
                     </p>
                     <div class="infoboxnote" id="GUID-9FF68862-BAF0-4D30-A154-D80E3DEDC4B9__GUID-8A3FCD29-7823-47FB-ACA7-7E0756A21245">
                        <p class="notep1">注意：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>当实例处于强制完全数据库缓存模式时，数据库对象不会立即加载到缓冲区缓存中。相反，它们在访问时缓存在缓冲区缓存中。</p>
                           </li>
                           <li>
                              <p>在多租户环境中，强制完全数据库缓存模式适用于整个多租户容器数据库（CDB），包括其所有可插拔数据库（PDB）。</p>
                           </li>
                           <li>
                              <p>有关强制完全数据库缓存模式的信息存储在控制文件中。如果替换或重新创建控制文件，则有关强制完全数据库缓存模式的信息将丢失。恢复的控制文件可能包含也可能不包含此信息，具体取决于备份控制文件的时间。</p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-9FF68862-BAF0-4D30-A154-D80E3DEDC4B9__GUID-35383769-C645-4F21-BEF9-EF43A409E3FF">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=MULTI-GUID-93F1E584-D309-4301-82E0-AD0E60D4977C" target="_blank"><span><cite>Oracle多租户管理员指南</cite></span></a></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="managing-control-files.html#GUID-5F6F9382-6921-4992-9789-E63B18E99C5F" title="您可以创建，备份和删除控制文件。">管理控制文件</a> ”</span></p>
                           </li>
                           <li>
                              <p>有关何时使用强制完全数据库缓存模式的信息，请<a href="../tgdba/index.html" target="_blank"><span class="italic">参见“Oracle数据库性能调整指南”</span></a></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-memory.html#GUID-CEBDCC3D-4B69-43C1-A7BE-F635F9F69D5F" title="Oracle数据库实例可以将完整数据库缓存在缓冲区缓存中。">使用强制完全数据库缓存模式</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN14327"></a><div class="props_rev_3"><a id="GUID-C1ED8A97-254A-44E8-B33A-FC3F9E3D406E" name="GUID-C1ED8A97-254A-44E8-B33A-FC3F9E3D406E"></a><h4 id="ADMIN-GUID-C1ED8A97-254A-44E8-B33A-FC3F9E3D406E" class="sect4"><span class="enumeration_section">6.5.2</span>启用强制完全数据库缓存模式之前</h4>
                  <div>
                     <p>数据库必须处于12.0.0或更高的兼容级别，才能为数据库实例强制使用完全数据库缓存模式。此外，请确保缓冲区缓存足够大以缓存整个数据库。</p>
                     <p>将数据库配置为使用<code class="codeph">SGA_TARGET</code>或<code class="codeph">MEMORY_TARGET</code>初始化参数进行自动内存管理时，缓冲区高速缓存的大小可能会根据工作负载而变化。当实例处于正常工作负载时，运行以下查询以估计缓冲区高速缓存大小：</p><pre class="oac_no_warn" dir="ltr">SELECT NAME，BY $ from V $ SGAINFO WHERE NAME ='Buffer Cache Size';</pre><p>此查询返回所有可能块大小的缓冲区高速缓存大小。如果数据库使用多个块大小，则最好确保每个可能块大小的缓冲区高速缓存大小大于该块大小的总数据库大小。</p>
                     <p>您可以使用<code class="codeph">DB_</code> <span class="italic"><code class="codeph">n</code></span> <code class="codeph">K_CACHE_SIZE</code>初始化参数确定非默认块大小的缓冲区高速缓存大小。使用<code class="codeph">SGA_TARGET</code>或<code class="codeph">MEMORY_TARGET</code> ，默认池中默认块大小的缓冲区高速缓存大小可能会根据工作负载而更改。以下查询返回默认池中默认块大小的当前缓冲区高速缓存大小：</p><pre class="oac_no_warn" dir="ltr">SELECT COMPONENT，CURRENT_SIZE from V $ SGA_DYNAMIC_COMPONENTS WHERE COMPONENT LIKE'DEFAULT buffer cache';</pre><p>如果要估计在缓冲区高速缓存中完全运行数据库的内存要求，则可以将缓冲区高速缓存的大小估计为以下之一：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>如果您计划使用<code class="codeph">SGA_TARGET</code> ，则可以将缓冲区高速缓存大小估计为<code class="codeph">SGA_TARGET</code> 60％。</p>
                        </li>
                        <li>
                           <p>如果您计划使用<code class="codeph">MEMORY_TARGET</code> ，那么您可以将SGA大小估计为<code class="codeph">MEMORY_TARGET</code> 60％，缓冲区高速缓存大小为SGA大小的60％。也就是说，您可以将缓冲区高速缓存大小估计为<code class="codeph">MEMORY_TARGET</code> 36％。</p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-C1ED8A97-254A-44E8-B33A-FC3F9E3D406E__GUID-9B92335F-DEAA-4B6B-A016-2930D471966C">
                        <p class="notep1">也可以看看：</p>
                        <p><span class="q">“ <a href="managing-memory.html#GUID-8F54391B-D42A-4FDA-9D12-E1F81FD113EA" title="您可以允许Oracle数据库实例自动管理和调整内存。">使用自动内存管理</a> ”</span></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-memory.html#GUID-CEBDCC3D-4B69-43C1-A7BE-F635F9F69D5F" title="Oracle数据库实例可以将完整数据库缓存在缓冲区缓存中。">使用强制完全数据库缓存模式</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN14237"></a><div class="props_rev_3"><a id="GUID-3BA728CF-55F8-4592-B2CD-452116D1F91F" name="GUID-3BA728CF-55F8-4592-B2CD-452116D1F91F"></a><h4 id="ADMIN-GUID-3BA728CF-55F8-4592-B2CD-452116D1F91F" class="sect4"><span class="enumeration_section">6.5.3</span>启用强制完全数据库缓存模式</h4>
                  <div>
                     <p>您可以为数据库启用强制完全数据库缓存模式。</p>
                     <div class="section"></div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>使用<code class="codeph">ALTER DATABASE</code>系统特权以用户身份连接到实例。</span></li>
                        <li class="stepexpand"><span>确保已装入数据库但未打开。</span><div>
                              <p>请参阅<span class="q">“ <a href="starting-up-and-shutting-down.html#GUID-01B47551-8B2E-4A4C-9A8A-4999C09161FC" title="您可以启动实例并装入数据库而无需打开它，从而允许您执行特定的维护操作。">启动实例并装入数据库</a> ”</span> 。
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>发出以下SQL语句：</span><div><pre class="oac_no_warn" dir="ltr">ALTER DATABASE FORCE FULL DATABASE CACHING;</pre></div>
                        </li>
                        <li class="stepexpand"><span>（可选）打开数据库：</span><div><pre class="oac_no_warn" dir="ltr">ALTER DATABASE OPEN;</pre></div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-memory.html#GUID-CEBDCC3D-4B69-43C1-A7BE-F635F9F69D5F" title="Oracle数据库实例可以将完整数据库缓存在缓冲区缓存中。">使用强制完全数据库缓存模式</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN14265"></a><div class="props_rev_3"><a id="GUID-9B9B25A7-D4F3-4BFA-8F83-B473BD52B6D4" name="GUID-9B9B25A7-D4F3-4BFA-8F83-B473BD52B6D4"></a><h4 id="ADMIN-GUID-9B9B25A7-D4F3-4BFA-8F83-B473BD52B6D4" class="sect4"><span class="enumeration_section">6.5.4</span>禁用强制完全数据库缓存模式</h4>
                  <div>
                     <p>您可以为数据库禁用强制完全数据库缓存模式。</p>
                     <div class="section"></div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>使用<code class="codeph">ALTER DATABASE</code>系统特权以用户身份连接到实例。</span></li>
                        <li class="stepexpand"><span>确保已装入数据库但未打开。</span><div>
                              <p>请参阅<span class="q">“ <a href="starting-up-and-shutting-down.html#GUID-01B47551-8B2E-4A4C-9A8A-4999C09161FC" title="您可以启动实例并装入数据库而无需打开它，从而允许您执行特定的维护操作。">启动实例并装入数据库</a> ”</span> 。
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>发出以下SQL语句：</span><div><pre class="oac_no_warn" dir="ltr">ALTER DATABASE NO FORCE FULL DATABASE CACHING;</pre></div>
                        </li>
                        <li class="stepexpand"><span>（可选）打开数据库：</span><div><pre class="oac_no_warn" dir="ltr">ALTER DATABASE OPEN;</pre></div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-memory.html#GUID-CEBDCC3D-4B69-43C1-A7BE-F635F9F69D5F" title="Oracle数据库实例可以将完整数据库缓存在缓冲区缓存中。">使用强制完全数据库缓存模式</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADMIN13391"></a><div class="props_rev_3"><a id="GUID-31E0885D-53DB-442D-BC5F-DDE0588C915A" name="GUID-31E0885D-53DB-442D-BC5F-DDE0588C915A"></a><h3 id="ADMIN-GUID-31E0885D-53DB-442D-BC5F-DDE0588C915A" class="sect3"><span class="enumeration_section">6.6</span>配置数据库智能闪存缓存</h3>
               <div>
                  <p>数据库智能闪存缓存功能是使用固态设备（SSD）技术的数据库缓冲区缓存的透明扩展。数据库智能闪存缓存可以通过减少磁盘I / O的数量来大大提高Oracle数据库的性能，其成本远低于添加等量的RAM。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-memory.html#GUID-ECBF51C2-1777-4714-A509-0E75A19EB061">何时配置数据库智能闪存缓存</a><br>在满足特定条件时，应考虑配置数据库智能闪存缓存。
                     </li>
                     <li class="ulchildlink"><a href="managing-memory.html#GUID-E99AE68E-1165-4F9F-AA80-002227073655">调整数据库智能闪存缓存</a><br>作为一般规则，数据库智能闪存缓存大小介于缓冲区缓存大小的2倍到10倍之间。
                     </li>
                     <li class="ulchildlink"><a href="managing-memory.html#GUID-683DB014-8B94-49A7-B25F-DE374DF0E352">调整数据库智能闪存缓存的内存</a><br>对于从缓冲区高速缓存移动到数据库智能闪存高速缓存的每个数据库块，有关该块的少量元数据将保留在缓冲区高速缓存中。
                     </li>
                     <li class="ulchildlink"><a href="managing-memory.html#GUID-AA1EDDB2-203B-43DA-84D5-73FD7DF3ECE2">数据库智能闪存缓存初始化参数</a><br>您可以使用一组初始化参数来配置数据库智能闪存缓存。
                     </li>
                     <li class="ulchildlink"><a href="managing-memory.html#GUID-DD34BE6F-4EDE-482D-8F75-7D786F2701AB">Oracle Real Applications Clusters环境中的数据库智能闪存缓存</a><br>Oracle建议您在Oracle Real Application Clusters环境中的所有实例上或在任何实例上配置数据库智能闪存缓存。此外，在每个实例上配置的总闪存高速缓存大小应大致相同。
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-31E0885D-53DB-442D-BC5F-DDE0588C915A__GUID-D5F83007-FF8A-41E0-AA9A-448D5F8C0793">
                     <p class="notep1">也可以看看：</p>
                     <p><span class="q">“ <a href="managing-memory.html#GUID-24312D78-522D-4C08-8934-820BE18D34C7" title="了解与Oracle数据库关联的基本内存结构。">内存架构概述</a> ”，</span>用于描述数据库智能闪存缓存</p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="managing-memory.html#GUID-BEABE53D-8058-4834-B99B-5C80A8AD5B06" title="内存管理涉及在数据库更改需求时维护Oracle数据库实例内存结构的最佳大小。">管理内存</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN13392"></a><div class="props_rev_3"><a id="GUID-ECBF51C2-1777-4714-A509-0E75A19EB061" name="GUID-ECBF51C2-1777-4714-A509-0E75A19EB061"></a><h4 id="ADMIN-GUID-ECBF51C2-1777-4714-A509-0E75A19EB061" class="sect4"><span class="enumeration_section">6.6.1</span>何时配置数据库智能闪存缓存</h4>
                  <div>
                     <p>在满足特定条件时，应考虑配置数据库智能闪存缓存。</p>
                     <p>在满足以下所有条件时，请考虑添加Database Smart Flash Cache：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>您的数据库正在Solaris或Oracle Linux操作系统上运行。仅限这些操作系统支持Database Smart Flash Cache。</p>
                        </li>
                        <li>
                           <p>自动工作负载存储库（AWR）报告或STATSPACK报告的缓冲池建议部分指示将缓冲区高速缓存的大小加倍将是有益的。</p>
                        </li>
                        <li>
                           <p><code class="codeph">db</code> <code class="codeph">file</code> <code class="codeph">sequential</code> <code class="codeph">read</code>是一个顶级等待事件。
                           </p>
                        </li>
                        <li>
                           <p>你有备用的CPU。</p>
                        </li>
                     </ul>
                     <div class="infoboxnote" id="GUID-ECBF51C2-1777-4714-A509-0E75A19EB061__GUID-493AD4D1-0560-45F9-98D4-40B8E436D31F">
                        <p class="notep1">注意：</p>
                        <p>您无法在多个实例之间共享一个Flash文件。但是，如果使用逻辑卷管理器或类似工具静态分区闪存设备，则可以在多个实例之间共享单个闪存设备。</p>
                     </div>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-memory.html#GUID-31E0885D-53DB-442D-BC5F-DDE0588C915A" title="数据库智能闪存缓存功能是使用固态设备（SSD）技术的数据库缓冲区缓存的透明扩展。数据库智能闪存缓存可以通过减少磁盘I / O的数量来大大提高Oracle数据库的性能，其成本远低于添加等量的RAM。">配置数据库智能闪存缓存</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN13393"></a><div class="props_rev_3"><a id="GUID-E99AE68E-1165-4F9F-AA80-002227073655" name="GUID-E99AE68E-1165-4F9F-AA80-002227073655"></a><h4 id="ADMIN-GUID-E99AE68E-1165-4F9F-AA80-002227073655" class="sect4"><span class="enumeration_section">6.6.2</span>调整数据库智能闪存缓存的大小</h4>
                  <div>
                     <p>作为一般规则，数据库智能闪存缓存大小介于缓冲区缓存大小的2倍到10倍之间。</p>
                     <p>任何小于2的乘数都不会带来任何好处。如果使用自动共享内存管理，请将Database Smart Flash Cache设置为<code class="codeph">SGA_TARGET</code>大小的2倍到10倍。使用<code class="codeph">SGA_TARGET</code> 80％而不是全尺寸也足以进行此计算。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-memory.html#GUID-31E0885D-53DB-442D-BC5F-DDE0588C915A" title="数据库智能闪存缓存功能是使用固态设备（SSD）技术的数据库缓冲区缓存的透明扩展。数据库智能闪存缓存可以通过减少磁盘I / O的数量来大大提高Oracle数据库的性能，其成本远低于添加等量的RAM。">配置数据库智能闪存缓存</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN13394"></a><div class="props_rev_3"><a id="GUID-683DB014-8B94-49A7-B25F-DE374DF0E352" name="GUID-683DB014-8B94-49A7-B25F-DE374DF0E352"></a><h4 id="ADMIN-GUID-683DB014-8B94-49A7-B25F-DE374DF0E352" class="sect4"><span class="enumeration_section">6.6.3</span>调整数据库智能闪存缓存的内存</h4>
                  <div>
                     <p>对于从缓冲区高速缓存移动到数据库智能闪存高速缓存的每个数据库块，有关该块的少量元数据将保留在缓冲区高速缓存中。</p>
                     <div class="section">
                        <p>对于单实例数据库，元数据消耗大约100个字节。对于Oracle Real Application Clusters（Oracle RAC）数据库，它更接近200个字节。因此，在添加数据库智能闪存缓存时，必须考虑此额外内存要求。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>要调整Database Smart Flash Cache的内存，请完成以下操作之一：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>如果您手动管理内存，则将缓冲区高速缓存的大小增加大约等于配置为数据库智能闪存高速缓存的数据库块的数量，再乘以100（对于Oracle RAC，则为200）。</p>
                           </li>
                           <li>
                              <p>如果使用自动内存管理，则使用上述算法增加<code class="codeph">MEMORY_TARGET</code>初始化参数的大小。您可能首先必须增加<code class="codeph">MEMORY_MAX_TARGET</code>初始化参数的大小。
                              </p>
                           </li>
                           <li>
                              <p>如果使用自动共享内存管理，则增加<code class="codeph">SGA_TARGET</code>初始化参数的大小。
                              </p>
                           </li>
                        </ul>
                        <p>此外，对于使用闪存缓存的Oracle RAC数据库，必须为全局缓存服务（GCS）资源的共享池分配额外的内存。每个GCS资源在共享池中需要大约208个字节。</p>
                        <div class="infoboxnote" id="GUID-683DB014-8B94-49A7-B25F-DE374DF0E352__GUID-28A8776D-42B0-4587-94EC-16039CB3FF0E">
                           <p class="notep1">注意：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>您可以选择不增加缓冲区高速缓存大小以考虑数据库智能闪存缓存。在这种情况下，减少了缓冲区高速缓存的有效大小。在某些情况下，您可以使用更大的数据库智能闪存缓存来抵消此损失。</p>
                              </li>
                              <li>
                                 <p>您可以通过发出<code class="codeph">ALTER SYSTEM FLUSH FLASH_CACHE</code>语句来刷新数据库智能闪存缓存。刷新数据库如果您需要测量重写查询的性能或来自相同起点的一组查询，或者缓存中是否存在损坏，则智能闪存缓存非常有用。
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-683DB014-8B94-49A7-B25F-DE374DF0E352__GUID-7C210DBF-A5E2-4952-A27A-CB68EA88E106">
                        <p class="notep1">也可以看看：</p>
                        <p><span class="q">“ <a href="managing-memory.html#GUID-04EFED7D-D1F1-43C3-B78F-0FF9AFAC02B0" title="必须管理的存储器结构是系统全局区域（SGA）和实例程序全局区域（实例PGA）。Oracle数据库支持各种内存管理方法，这些方法由初始化参数设置选择。">关于内存管理</a> ”</span></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-memory.html#GUID-31E0885D-53DB-442D-BC5F-DDE0588C915A" title="数据库智能闪存缓存功能是使用固态设备（SSD）技术的数据库缓冲区缓存的透明扩展。数据库智能闪存缓存可以通过减少磁盘I / O的数量来大大提高Oracle数据库的性能，其成本远低于添加等量的RAM。">配置数据库智能闪存缓存</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN13396"></a><a id="ADMIN13395"></a><div class="props_rev_3"><a id="GUID-AA1EDDB2-203B-43DA-84D5-73FD7DF3ECE2" name="GUID-AA1EDDB2-203B-43DA-84D5-73FD7DF3ECE2"></a><h4 id="ADMIN-GUID-AA1EDDB2-203B-43DA-84D5-73FD7DF3ECE2" class="sect4"><span class="enumeration_section">6.6.4</span>数据库智能闪存缓存初始化参数</h4>
                  <div>
                     <p>您可以使用一组初始化参数来配置数据库智能闪存缓存。</p>
                     <div class="section"></div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-AA1EDDB2-203B-43DA-84D5-73FD7DF3ECE2__BABDCJAF">
                        <p class="titleintable">表6-4数据库智能闪存缓存初始化参数</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="数据库智能闪存缓存初始化参数" width="100%" border="1" summary="This table contains two columns: Parameter and Description. It describes the two initialization parameters required to configure flash cache" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="35%" id="d105594e4604">参数</th>
                                 <th align="left" valign="bottom" width="65%" id="d105594e4607">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="35%" id="d105594e4612" headers="d105594e4604 ">
                                    <p><code class="codeph">DB_FLASH_CACHE_FILE</code></p>
                                 </td>
                                 <td align="left" valign="top" width="65%" headers="d105594e4612 d105594e4607 ">
                                    <p>指定操作系统文件系统或Oracle自动存储管理磁盘组中包含数据库智能闪存缓存的文件的路径和文件名列表。如果指定的文件不存在，则数据库在启动期间创建它。每个文件必须驻留在闪存设备上。如果在磁盘驱动器（主轴）上配置Database Smart Flash Cache，则性能可能会受到影响。最多支持16个文件。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="35%" id="d105594e4620" headers="d105594e4604 ">
                                    <p><code class="codeph">DB_FLASH_CACHE_SIZE</code></p>
                                 </td>
                                 <td align="left" valign="top" width="65%" headers="d105594e4620 d105594e4607 ">
                                    <p>指定数据库智能闪存缓存中每个文件的大小。每个大小对应于<code class="codeph">DB_FLASH_CACHE_FILE</code>指定的文件。文件和大小按照指定的顺序对应。如果指定大小的数量与指定文件的数量不匹配，则会引发错误。
                                    </p>
                                    <p>每个大小规范必须小于或等于其闪存设备的物理内存大小。大小表示为<span class="italic">n</span> G，表示千兆字节（GB）。例如，要指定16 GB数据库智能闪存缓存，请将<code class="codeph">DB_FLASH_CACHE_SIZE</code>值设置为<code class="codeph">16G</code> 。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p>例如，假设您的数据库智能闪存缓存使用以下闪存设备：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-AA1EDDB2-203B-43DA-84D5-73FD7DF3ECE2__GUID-ADB042C1-E656-466A-8FE8-E75277B61F65">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="This table lists the file and the size for each flash raw device." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="50%" id="d105594e4652">文件</th>
                                 <th align="left" valign="bottom" width="50%" id="d105594e4655">尺寸</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="50%" id="d105594e4660" headers="d105594e4652 ">
                                    <p>/ dev / sda上</p>
                                 </td>
                                 <td align="left" valign="top" width="50%" headers="d105594e4660 d105594e4655 ">
                                    <p>32G</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="50%" id="d105594e4667" headers="d105594e4652 ">
                                    <p>的/ dev / sdb的</p>
                                 </td>
                                 <td align="left" valign="top" width="50%" headers="d105594e4667 d105594e4655 ">
                                    <p>32G</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="50%" id="d105594e4674" headers="d105594e4652 ">
                                    <p>的/ dev / SDC</p>
                                 </td>
                                 <td align="left" valign="top" width="50%" headers="d105594e4674 d105594e4655 ">
                                    <p>64G</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p>您可以将初始化参数设置为以下值：</p><pre class="oac_no_warn" dir="ltr">DB_FLASH_CACHE_FILE = / dev / sda，/ dev / sdb，/ dev / sdc DB_FLASH_CACHE_SIZE = 32G，32G，64G</pre><p>您可以查询<code class="codeph">V$FLASHFILESTAT</code>视图以确定每个文件的累积延迟和读取计数，并计算平均延迟。
                        </p>
                        <p>对于要禁用的每个闪存设备，可以使用<code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code>将<code class="codeph">DB_FLASH_CACHE_SIZE</code>设置为零。您还可以使用<code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code>将任何已禁用的闪存设备的大小设置回其原始大小以重新启用它。但是，不支持动态更改数据库智能闪存缓存的大小。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-AA1EDDB2-203B-43DA-84D5-73FD7DF3ECE2__GUID-2F42B34D-B5C7-401D-8968-718699A99521">
                        <p class="notep1">也可以看看：</p>
                        <p>有关本节中描述的初始化参数的更多信息以及有关<code class="codeph">V$FLASHFILESTAT</code>视图的更多信息，请参阅<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=REFRN" target="_blank"><span class="italic">Oracle数据库参考</span></a></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-memory.html#GUID-31E0885D-53DB-442D-BC5F-DDE0588C915A" title="数据库智能闪存缓存功能是使用固态设备（SSD）技术的数据库缓冲区缓存的透明扩展。数据库智能闪存缓存可以通过减少磁盘I / O的数量来大大提高Oracle数据库的性能，其成本远低于添加等量的RAM。">配置数据库智能闪存缓存</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN13397"></a><div class="props_rev_3"><a id="GUID-DD34BE6F-4EDE-482D-8F75-7D786F2701AB" name="GUID-DD34BE6F-4EDE-482D-8F75-7D786F2701AB"></a><h4 id="ADMIN-GUID-DD34BE6F-4EDE-482D-8F75-7D786F2701AB" class="sect4"><span class="enumeration_section">6.6.5</span> Oracle Real Applications集群环境中的数据库智能闪存缓存</h4>
                  <p>Oracle建议您在Oracle Real Application Clusters环境中的所有实例上或在任何实例上配置数据库智能闪存缓存。此外，在每个实例上配置的总闪存高速缓存大小应大致相同。</p>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-memory.html#GUID-31E0885D-53DB-442D-BC5F-DDE0588C915A" title="数据库智能闪存缓存功能是使用固态设备（SSD）技术的数据库缓冲区缓存的透明扩展。数据库智能闪存缓存可以通过减少磁盘I / O的数量来大大提高Oracle数据库的性能，其成本远低于添加等量的RAM。">配置数据库智能闪存缓存</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-7990553D-9199-4AFE-B912-40ADC9C3EDF1" name="GUID-7990553D-9199-4AFE-B912-40ADC9C3EDF1"></a><h3 id="ADMIN-GUID-7990553D-9199-4AFE-B912-40ADC9C3EDF1" class="sect3"><span class="enumeration_section">6.7</span>利用Oracle数据库内存提高查询性能</h3>
               <div>
                  <p>Oracle数据库内存（Database In-Memory）是Oracle数据库12 <span class="italic">c</span>第1版（12.1.0.2）中首次引入的一套功能，可极大地提高实时分析和混合工作负载的性能。
                  </p>
                  <p>Database In-Memory功能可以显着提高执行以下操作的查询的性能：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>扫描大量行并应用使用<code class="codeph">&lt;</code> ， <code class="codeph">&gt;</code> ， <code class="codeph">=</code>和<code class="codeph">IN</code>等运算符的过滤器</p>
                     </li>
                     <li>
                        <p>从表或具有大量列的物化视图中选择少量列，例如访问100列中的5列的查询</p>
                     </li>
                     <li>
                        <p>使用SQL运算符选择LOB列</p>
                     </li>
                     <li>
                        <p>使用大型事实表加入小维度表</p>
                     </li>
                     <li>
                        <p>汇总数据</p>
                     </li>
                  </ul>
                  <p>Database In-Memory功能集包括内存中列存储（IM列存储），高级查询优化和可用性解决方案。</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><span class="bold">IM专栏商店</span></p>
                        <p>IM列存储是Database In-Memory的关键功能。IM列存储以特殊的压缩列格式维护表，分区和单个列的副本，该格式针对快速扫描进行了优化。IM列存储位于内存区域中，该区域是系统全局区域（SGA）的可选部分。</p>
                        <p>IM列存储不会替换基于行的存储或数据库缓冲区缓存，而是对其进行补充。该数据库使数据能够以行为基础和列式格式存储在内存中，从而提供两全其美的优势。IM列存储提供独立于磁盘格式的表数据的附加事务一致性副本。</p>
                     </li>
                     <li>
                        <p><span class="bold">高级查询优化</span></p>
                        <p>Database In-Memory包括针对分析查询的多种性能优化：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>内存中表达式（IM表达式）：允许识别和填充IM列存储中的<span class="italic">热</span>表达式。
                              </p>
                           </li>
                           <li>
                              <p>加入组：可以消除解压缩和散列列值的性能开销。</p>
                           </li>
                           <li>
                              <p>内存中聚合（IM聚合）：增强将小维表与大事实表连接在一起的聚合查询的性能。</p>
                           </li>
                           <li>
                              <p>重新填充：通过使用修改的对象自动重新填充IM列存储来增强查询的性能。</p>
                           </li>
                           <li>
                              <p>内存中动态扫描（IM动态扫描）：通过在CPU资源空闲时自动使用轻量级线程并行化表扫描来增强查询性能。</p>
                           </li>
                        </ul>
                     </li>
                     <li>
                        <p><span class="bold">高可用性支持</span></p>
                        <p>Database In-Memory包含以下可用性功能：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>减少数据库实例重新启动时将数据填充到IM列存储中的时间。使用内存中快速启动（IM FastStart）功能可实现此功能。</p>
                           </li>
                           <li>
                              <p>在Oracle Real Application Clusters（Oracle RAC）环境中的每个节点上提供IM列存储。</p>
                           </li>
                           <li>
                              <p>在Active Data Guard环境中的备用数据库上提供IM列存储。</p>
                           </li>
                        </ul>
                     </li>
                  </ul>
                  <div class="infoboxnote" id="GUID-7990553D-9199-4AFE-B912-40ADC9C3EDF1__GUID-1752ECF9-C190-4EC9-B4AA-1719C9F53BF1">
                     <p class="notep1">注意：</p>
                     <p>默认情况下，Oracle数据库中禁用Oracle Database In-Memory。可以通过将<code class="codeph">INMEMORY_SIZE</code>初始化参数设置为大于0的值来启用它。启用Oracle Database In-Memory时，Oracle数据库资源管理器（资源管理器）也会自动启用。
                     </p>
                  </div>
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-7990553D-9199-4AFE-B912-40ADC9C3EDF1__ORACLEDATABASEIN-MEMORYGUIDE-0B5FD7CE">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=INMEM-GUID-BFA53515-7643-41E5-A296-654AB4A9F9E7" target="_blank"><span><cite>Oracle数据库内存指南</cite></span></a></p>
                        </li>
                        <li>
                           <p><a href="https://www.youtube.com/watch?v=IZ7UMoQxtLo" target="_blank">Oracle Video：在内存中管理Oracle数据库</a></p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="managing-memory.html#GUID-BEABE53D-8058-4834-B99B-5C80A8AD5B06" title="内存管理涉及在数据库更改需求时维护Oracle数据库实例内存结构的最佳大小。">管理内存</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="props_rev_3"><a id="GUID-902A51B8-F850-4B89-938A-220B3DF49145" name="GUID-902A51B8-F850-4B89-938A-220B3DF49145"></a><h3 id="ADMIN-GUID-902A51B8-F850-4B89-938A-220B3DF49145" class="sect3"><span class="enumeration_section">6.8</span>使用Memoptimized Rowstore启用高性能数据流</h3>
               <div>
                  <p>Memoptimized Rowstore为应用程序提供高性能数据流，例如物联网（IoT）应用程序，它们通常在同时从大量客户端插入单行插入的少量数据，并以非常高的频率查询客户端的数据。</p>
                  <p>Memoptimized Rowstore提供以下功能：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>快速摄取</p>
                        <p>快速摄取优化了高频，单行数据插入数据库的处理。快速摄取使用大型池在将插件写入磁盘之前缓冲插件，从而提高数据插入性能。</p>
                     </li>
                     <li>
                        <p>快速查找</p>
                        <p>快速查找可以快速从数据库中检索数据，以进行高频查询。快速查找在SGA中使用称为<span class="italic">memoptimize池</span>的单独内存区域来缓冲从表中查询的数据，从而提高查询性能。
                        </p>
                        <div class="infoboxnote" id="GUID-902A51B8-F850-4B89-938A-220B3DF49145__GUID-6C6CEE5F-962F-43B3-BDE3-4B4AA5B08952">
                           <p class="notep1">注意：</p>
                           <p>要使用快速查找，必须使用<code class="codeph">MEMOPTIMIZE_POOL_SIZE</code>初始化参数为memoptimize池分配适当的内存大小。
                           </p>
                        </div>
                     </li>
                  </ul>
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-902A51B8-F850-4B89-938A-220B3DF49145__GUID-F38CBAF9-94F5-4B0F-B530-FEB70502B4FF">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>有关配置和使用Memoptimized Rowstore的信息，请参见<a href="../tgdba/tuning-system-global-area.html#TGDBA-GUID-9752E93D-55A7-4584-B09B-9623B33B5CCF" target="_blank"><span><cite>“Oracle数据库性能调整指南”</cite></span></a></p>
                        </li>
                        <li>
                           <p>有关memoptimize池内存体系结构的信息，请参见<a href="../cncpt/memory-architecture.html#CNCPT-GUID-D58DC90F-0ABB-4B1E-96C1-6094A04A5E12" target="_blank"><span><cite>Oracle数据库概念</cite></span></a></p>
                        </li>
                        <li>
                           <p>有关<code class="codeph">MEMOPTIMIZE_POOL_SIZE</code>初始化参数的信息，请<code class="codeph">MEMOPTIMIZE_POOL_SIZE</code> <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=REFRN-GUID-D33BB2FE-94A7-475F-B8C8-CC9AC61B502F" target="_blank"><span><cite>Oracle数据库参考</cite></span></a></p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="managing-memory.html#GUID-BEABE53D-8058-4834-B99B-5C80A8AD5B06" title="内存管理涉及在数据库更改需求时维护Oracle数据库实例内存结构的最佳大小。">管理内存</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADMIN11235"></a><div class="props_rev_3"><a id="GUID-2D28DBE2-1CA8-484E-A1CF-3280F939D009" name="GUID-2D28DBE2-1CA8-484E-A1CF-3280F939D009"></a><h3 id="ADMIN-GUID-2D28DBE2-1CA8-484E-A1CF-3280F939D009" class="sect3"><span class="enumeration_section">6.9</span>内存管理参考</h3>
               <p>仅在某些平台上支持自动内存管理。此外，您还可以查询一组数据字典视图，以获取有关内存管理的信息。</p>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-memory.html#GUID-16238F1A-3747-4893-8B8C-EEE51F4EF72B">支持自动内存管理的平台</a><br>某些平台支持自动内存管理。
                     </li>
                     <li class="ulchildlink"><a href="managing-memory.html#GUID-63B0AC98-B2B5-4AB8-845B-82FE8A3E6588">内存管理数据字典视图</a><br>一组动态性能视图提供有关内存管理的信息。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="managing-memory.html#GUID-BEABE53D-8058-4834-B99B-5C80A8AD5B06" title="内存管理涉及在数据库更改需求时维护Oracle数据库实例内存结构的最佳大小。">管理内存</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN11236"></a><div class="props_rev_3"><a id="GUID-16238F1A-3747-4893-8B8C-EEE51F4EF72B" name="GUID-16238F1A-3747-4893-8B8C-EEE51F4EF72B"></a><h4 id="ADMIN-GUID-16238F1A-3747-4893-8B8C-EEE51F4EF72B" class="sect4"><span class="enumeration_section">6.9.1</span>支持自动内存管理的平台</h4>
                  <div>
                     <p>某些平台支持自动内存管理。</p>
                     <p>以下平台支持自动内存管理 -  Oracle数据库能够自动调整SGA和PGA的大小，根据需要将内存从一个重新分配到另一个以优化性能：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>Linux的</p>
                        </li>
                        <li>
                           <p>的Solaris</p>
                        </li>
                        <li>
                           <p>视窗</p>
                        </li>
                        <li>
                           <p>HP-UX</p>
                        </li>
                        <li>
                           <p>AIX</p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-memory.html#GUID-2D28DBE2-1CA8-484E-A1CF-3280F939D009" title="仅在某些平台上支持自动内存管理。此外，您还可以查询一组数据字典视图，以获取有关内存管理的信息。">内存管理参考</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11237"></a><div class="props_rev_3"><a id="GUID-63B0AC98-B2B5-4AB8-845B-82FE8A3E6588" name="GUID-63B0AC98-B2B5-4AB8-845B-82FE8A3E6588"></a><h4 id="ADMIN-GUID-63B0AC98-B2B5-4AB8-845B-82FE8A3E6588" class="sect4"><span class="enumeration_section">6.9.2</span>内存管理数据字典视图</h4>
                  <div>
                     <p>一组动态性能视图提供有关内存管理的信息。</p>
                     <div class="section"></div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-63B0AC98-B2B5-4AB8-845B-82FE8A3E6588__GUID-E54BBCF0-59FB-4B7B-A049-D8DB500BA5A8">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Column 1 lists the views the provide information about the SGA. Column 2 describes each view." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="40%" id="d105594e5147">视图</th>
                                 <th align="left" valign="bottom" width="60%" id="d105594e5150">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="40%" id="d105594e5155" headers="d105594e5147 ">
                                    <p><code class="codeph"><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=REFRN30233" target="_blank">V $ SGA</a></code></p>
                                 </td>
                                 <td align="left" valign="top" width="60%" headers="d105594e5155 d105594e5150 ">
                                    <p>显示有关系统全局区域（SGA）的摘要信息。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="40%" id="d105594e5165" headers="d105594e5147 ">
                                    <p><code class="codeph"><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=REFRN30314" target="_blank">V $ SGAINFO</a></code></p>
                                 </td>
                                 <td align="left" valign="top" width="60%" headers="d105594e5165 d105594e5150 ">
                                    <p>显示有关SGA的大小信息，包括不同SGA组件的大小，粒度大小和可用内存。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="40%" id="d105594e5175" headers="d105594e5147 ">
                                    <p><code class="codeph"><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=REFRN30238" target="_blank">V $ SGASTAT</a></code></p>
                                 </td>
                                 <td align="left" valign="top" width="60%" headers="d105594e5175 d105594e5150 ">
                                    <p>显示有关如何在共享池，大型池，Java池和Streams池中分配内存的详细信息。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="40%" id="d105594e5185" headers="d105594e5147 ">
                                    <p><code class="codeph"><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=REFRN30180" target="_blank">V $ PGASTAT</a></code></p>
                                 </td>
                                 <td align="left" valign="top" width="60%" headers="d105594e5185 d105594e5150 ">
                                    <p>显示PGA内存使用情况统计信息以及启用时自动PGA内存管理器的统计信息（即设置<code class="codeph">PGA_AGGREGATE_TARGET</code>时）。实例启动后累积<code class="codeph">V$PGASTAT</code>中的累积值。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="40%" id="d105594e5201" headers="d105594e5147 ">
                                    <p><code class="codeph"><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=REFRN30463" target="_blank">V $ MEMORY_DYNAMIC_COMPONENTS</a></code></p>
                                 </td>
                                 <td align="left" valign="top" width="60%" headers="d105594e5201 d105594e5150 ">
                                    <p>显示有关所有自动调整和静态内存组件的当前大小的信息，以及每个组件上发生的最后一个操作（例如，增大或缩小）。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="40%" id="d105594e5211" headers="d105594e5147 ">
                                    <p><code class="codeph"><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=REFRN30235" target="_blank">V $ SGA_DYNAMIC_COMPONENTS</a></code></p>
                                 </td>
                                 <td align="left" valign="top" width="60%" headers="d105594e5211 d105594e5150 ">
                                    <p>显示所有SGA组件的当前大小，以及每个组件的最后一个操作。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="40%" id="d105594e5221" headers="d105594e5147 ">
                                    <p><code class="codeph"><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=REFRN30236" target="_blank">V $ SGA_DYNAMIC_FREE_MEMORY</a></code></p>
                                 </td>
                                 <td align="left" valign="top" width="60%" headers="d105594e5221 d105594e5150 ">
                                    <p>显示有关可用于将来动态SGA调整大小操作的SGA内存量的信息。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="40%" id="d105594e5231" headers="d105594e5147 ">
                                    <p><code class="codeph"><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=REFRN30462" target="_blank">V $ MEMORY_CURRENT_RESIZE_OPS</a></code></p>
                                 </td>
                                 <td align="left" valign="top" width="60%" headers="d105594e5231 d105594e5150 ">
                                    <p>显示有关当前正在进行的调整大小操作的信息。调整大小操作是SGA，实例PGA或动态SGA组件的放大或缩小。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="40%" id="d105594e5241" headers="d105594e5147 ">
                                    <p><code class="codeph"><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=REFRN30234" target="_blank">V $ SGA_CURRENT_RESIZE_OPS</a></code></p>
                                 </td>
                                 <td align="left" valign="top" width="60%" headers="d105594e5241 d105594e5150 ">
                                    <p>显示有关当前正在进行的动态SGA组件调整大小操作的信息。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="40%" id="d105594e5251" headers="d105594e5147 ">
                                    <p><code class="codeph"><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=REFRN30464" target="_blank">V $ MEMORY_RESIZE_OPS</a></code></p>
                                 </td>
                                 <td align="left" valign="top" width="60%" headers="d105594e5251 d105594e5150 ">
                                    <p>显示有关最近800个已完成的内存组件调整大小操作的信息，包括<code class="codeph">SGA_TARGET</code>和<code class="codeph">PGA_AGGREGATE_TARGET</code>自动增长和收缩操作。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="40%" id="d105594e5267" headers="d105594e5147 ">
                                    <p><code class="codeph"><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=REFRN30237" target="_blank">V $ SGA_RESIZE_OPS</a></code></p>
                                 </td>
                                 <td align="left" valign="top" width="60%" headers="d105594e5267 d105594e5150 ">
                                    <p>显示有关最近800个已完成的SGA组件调整大小操作的信息。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="40%" id="d105594e5278" headers="d105594e5147 ">
                                    <p><code class="codeph"><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=REFRN30465" target="_blank">V $ MEMORY_TARGET_ADVICE</a></code></p>
                                 </td>
                                 <td align="left" valign="top" width="60%" headers="d105594e5278 d105594e5150 ">
                                    <p>如果启用了自动内存管理，则显示可帮助您调整<code class="codeph">MEMORY_TARGET</code>信息。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="40%" id="d105594e5291" headers="d105594e5147 ">
                                    <p><code class="codeph"><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=REFRN30393" target="_blank">V $ SGA_TARGET_ADVICE</a></code></p>
                                 </td>
                                 <td align="left" valign="top" width="60%" headers="d105594e5291 d105594e5150 ">
                                    <p>显示可帮助您调整<code class="codeph">SGA_TARGET</code> 。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="40%" id="d105594e5304" headers="d105594e5147 ">
                                    <p><code class="codeph"><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=REFRN30178" target="_blank">V $ PGA_TARGET_ADVICE</a></code></p>
                                 </td>
                                 <td align="left" valign="top" width="60%" headers="d105594e5304 d105594e5150 ">
                                    <p>显示可帮助您调整<code class="codeph">PGA_AGGREGATE_TARGET</code> 。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="40%" id="d105594e5317" headers="d105594e5147 ">
                                    <p><code class="codeph"><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=REFRN30739" target="_blank">V $ IM_SEGMENTS</a></code></p>
                                 </td>
                                 <td align="left" valign="top" width="60%" headers="d105594e5317 d105594e5150 ">
                                    <p>显示有关为IM列存储中的所有段分配的存储的信息。</p>
                                    <p><span class="bold">注意：</span>此视图从Oracle Database 12 <span class="italic">c</span>第1版（12.1.0.2）开始提供。
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-memory.html#GUID-2D28DBE2-1CA8-484E-A1CF-3280F939D009" title="仅在某些平台上支持自动内存管理。此外，您还可以查询一组数据字典视图，以获取有关内存管理的信息。">内存管理参考</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
         </div>
      </article>
   </body>
</html>