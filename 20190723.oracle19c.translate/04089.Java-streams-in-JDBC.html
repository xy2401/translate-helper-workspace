<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Java Streams in JDBC</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="JDBC Developer's Guide">
      <meta property="og:description" content>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="JDBC Developer's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="jdbc-developers-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-02-13T13:20:37-08:00">
      <meta name="dcterms.title" content="JDBC Developer's Guide">
      <meta name="dcterms.dateCopyrighted" content="1999, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96471-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="accessing-and-manipulating-Oracle-data.html" title="Previous" type="text/html">
      <link rel="next" href="Oracle-object-types.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="JJDBC">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="accessing-and-manipulating-Oracle-data.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="Oracle-object-types.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">JDBC Developer's Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="data-access-and-manipulation.html" property="item" typeof="WebPage"><span property="name"> Data Access and Manipulation</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> Java Streams in JDBC</li>
            </ol>
            <a id="GUID-B7ACBCEB-367D-4B39-A9E2-B0EAE6D475BC" name="GUID-B7ACBCEB-367D-4B39-A9E2-B0EAE6D475BC"></a><a id="JJDBC28409"></a>
            
            <h2 id="JJDBC-GUID-B7ACBCEB-367D-4B39-A9E2-B0EAE6D475BC" class="sect2"><span class="enumeration_chapter">12 </span> Java Streams in JDBC
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>This <a id="d49423e22" class="indexterm-anchor"></a><a id="d49423e26" class="indexterm-anchor"></a>chapter describes how the Oracle Java Database Connectivity (JDBC) drivers handle Java streams for several data types. Data streams enable you to read <code class="codeph">LONG</code> column data of up to 2 gigabytes (GB).
               </p>
               <p>This chapter covers the following topics:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="Java-streams-in-JDBC.html#GUID-F65AB98A-00B9-4B23-972F-F5E4200B4C10">Overview of Java Streams</a></p>
                  </li>
                  <li>
                     <p><a href="Java-streams-in-JDBC.html#GUID-E9EBBAB9-BE2D-491F-BB36-A19911B4A9EB">About Streaming LONG or LONG RAW Columns</a></p>
                  </li>
                  <li>
                     <p><a href="Java-streams-in-JDBC.html#GUID-6AE64DE5-A05B-43C5-894D-4260BC731DDA">About Streaming CHAR_ VARCHAR_ or RAW Columns</a></p>
                  </li>
                  <li>
                     <p><a href="Java-streams-in-JDBC.html#GUID-9DFFE7D3-C173-4D9D-8F0E-746CEAA324E5">About Streaming LOBs and External Files</a></p>
                  </li>
                  <li>
                     <p><a href="Java-streams-in-JDBC.html#GUID-2A5CD25F-E34E-49E3-BD78-A27B50A18A6B">Relation Between Data Streaming and Multiple Columns</a></p>
                  </li>
                  <li>
                     <p><a href="Java-streams-in-JDBC.html#GUID-D2A59D17-639C-4122-87F9-A36CEDEE6D3D">Relation Between Streaming and Row Prefetching</a></p>
                  </li>
                  <li>
                     <p><a href="Java-streams-in-JDBC.html#GUID-AF94E206-56E2-452C-B88A-C7EAD2AAF05D">Closing a Stream</a></p>
                  </li>
                  <li>
                     <p><a href="Java-streams-in-JDBC.html#GUID-16F826CB-4141-4451-9CAC-F3C8205A80BD">Notes and Precautions on Streams</a></p>
                  </li>
               </ul>
            </div><a id="JJDBC28410"></a><div class="props_rev_3"><a id="GUID-F65AB98A-00B9-4B23-972F-F5E4200B4C10" name="GUID-F65AB98A-00B9-4B23-972F-F5E4200B4C10"></a><h3 id="JJDBC-GUID-F65AB98A-00B9-4B23-972F-F5E4200B4C10" class="sect3"><span class="enumeration_section">12.1 </span>Overview of Java Streams
               </h3>
               <div>
                  <div class="section">
                     <p>Oracle JDBC drivers support the manipulation of data streams in either direction between server and client. The drivers support all stream conversions: binary, ASCII, and Unicode. Following is a brief description of each type of stream:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Binary</p>
                           <p>Used for <code class="codeph">RAW</code> bytes of data, and corresponds to the <code class="codeph">getBinaryStream</code> method
                           </p>
                        </li>
                        <li>
                           <p>ASCII</p>
                           <p>Used for ASCII bytes in ISO-Latin-1 encoding, and corresponds to the <code class="codeph">getAsciiStream</code> method
                           </p>
                        </li>
                        <li>
                           <p>Unicode</p>
                           <p>Used for Unicode bytes with the <code class="codeph">UTF-16</code> encoding, and corresponds to the <code class="codeph">getUnicodeStream</code> method
                           </p>
                        </li>
                     </ul>
                     <p>The <code class="codeph">getBinaryStream</code>, <code class="codeph">getAsciiStream</code>, and <code class="codeph">getUnicodeStream</code> methods return the bytes of data in an <code class="codeph">InputStream</code> object.
                     </p>
                     <div class="infoboxnote" id="GUID-F65AB98A-00B9-4B23-972F-F5E4200B4C10__GUID-92D97B1B-7B5B-4422-ACD5-2A32D99066DD">
                        <p class="notep1">Note:</p>
                        <p>Starting from Oracle Database 12<span class="italic">c </span>Release 1 (12.1), the <code class="codeph">CONNECTION_PROPERTY_STREAM_CHUNK_SIZE</code> is deprecated and the driver does not use it internally for setting the stream chunk size.
                        </p>
                     </div>
                     <div class="infoboxnotealso" id="GUID-F65AB98A-00B9-4B23-972F-F5E4200B4C10__GUID-83DE62F8-6226-41D0-A8E8-5CB4EA32A9C1">
                        <p class="notep1">See Also:</p>
                        <p><a href="LOBs-and-BFiles.html#GUID-401E10DB-16B5-41C9-965E-E5F286F01E4C"> Working with LOBs and BFILEs</a></p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="JJDBC28411"></a><div class="props_rev_3"><a id="GUID-E9EBBAB9-BE2D-491F-BB36-A19911B4A9EB" name="GUID-E9EBBAB9-BE2D-491F-BB36-A19911B4A9EB"></a><h3 id="JJDBC-GUID-E9EBBAB9-BE2D-491F-BB36-A19911B4A9EB" class="sect3"><span class="enumeration_section">12.2 </span>About Streaming LONG or LONG RAW Columns
               </h3>
               <div>
                  <p>This section covers the following topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="Java-streams-in-JDBC.html#GUID-E7D523A2-0B17-4714-9ACC-B45160C82C65">Overview of Streaming LONG or LONG RAW Columns</a></p>
                     </li>
                     <li>
                        <p><a href="Java-streams-in-JDBC.html#GUID-5572A63D-A5AC-4ABC-9028-BDB7A2F9177A">LONG RAW Data Conversions</a></p>
                     </li>
                     <li>
                        <p><a href="Java-streams-in-JDBC.html#GUID-D4437DEC-25C3-4D47-BF1F-D91B19DCC69E">LONG Data Conversions</a></p>
                     </li>
                     <li>
                        <p><a href="Java-streams-in-JDBC.html#GUID-5CAF21D3-84EE-4F5E-B133-2BD22F5EC98A">Examples:Streaming LONG RAW Data</a></p>
                     </li>
                     <li>
                        <p><a href="Java-streams-in-JDBC.html#GUID-E1C93335-F7D4-4122-A8A3-932D3349DFD4">About Avoiding Streaming for LONG or LONG RAW</a></p>
                     </li>
                  </ul>
               </div>
               <div class="props_rev_3"><a id="GUID-E7D523A2-0B17-4714-9ACC-B45160C82C65" name="GUID-E7D523A2-0B17-4714-9ACC-B45160C82C65"></a><h4 id="JJDBC-GUID-E7D523A2-0B17-4714-9ACC-B45160C82C65" class="sect4"><span class="enumeration_section">12.2.1 </span>Overview of Streaming LONG or LONG RAW Columns
                  </h4>
                  <div>
                     <p><a id="d49423e231" class="indexterm-anchor"></a><a id="d49423e235" class="indexterm-anchor"></a>When a query selects one or more <code class="codeph">LONG</code> or <code class="codeph">LONG</code> <code class="codeph">RAW</code> columns, the JDBC driver transfers these columns to the client in streaming mode. In streaming mode, the JDBC driver does not read the column data from the network for<code class="codeph"> LONG</code> or <code class="codeph">LONG RAW</code> columns, until required. The column data remains in the network communications channel until your code calls a <code class="codeph">getXXX</code> method to read the column data. Even after the call, the column data is read only as needed to populate return value from the getXXX call. Because the column data remains in the communications channel, the streaming mode interferes with all other use of the connection. Any use of the connection, other than reading the column data, will discard the column data from the channel. While the streaming mode makes efficient use of memory and minimizes network round trips, it interferes with many other database operations. 
                     </p>
                     <div class="infoboxnote" id="GUID-E7D523A2-0B17-4714-9ACC-B45160C82C65__GUID-29DD9AE0-D790-436E-AA1F-2F4901D93214">
                        <p class="notep1">Note:</p>
                        <p>Oracle recommends avoiding <code class="codeph">LONG</code> and <code class="codeph">LONG RAW</code> columns. Use <code class="codeph">LOB</code> instead.
                        </p>
                     </div>
                     <p>To access the data in a <code class="codeph">LONG</code> column, you can get the column as a Java <code class="codeph">InputStream</code> object and use the <code class="codeph">read</code> method of the <code class="codeph">InputStream</code> object. As an alternative, you can get the data as a <code class="codeph">String</code> or <code class="codeph">byte</code> array. In this case, the driver will do the streaming for you. 
                     </p>
                     <p>You can get <code class="codeph">LONG</code> and <code class="codeph">LONG</code> <code class="codeph">RAW</code> data with any of the three stream types. The driver performs conversions for you, depending on the character set of the database and the driver.
                     </p>
                     <div class="infoboxnote" id="GUID-E7D523A2-0B17-4714-9ACC-B45160C82C65__GUID-BBB9E177-8D43-4B67-B7D3-E09667CF3486">
                        <p class="notep1">Note:</p>
                        <p>Do not create tables with <code class="codeph">LONG</code> columns. Use large object (LOB) columns, <code class="codeph">CLOB</code>, <code class="codeph">NCLOB</code>, and <code class="codeph">BLOB</code>, instead. <code class="codeph">LONG</code> columns are supported only for backward compatibility. Oracle recommends that you convert existing <code class="codeph">LONG</code> columns to <code class="codeph">LOB</code> columns. <code class="codeph">LOB</code> columns are subject to far fewer restrictions than <code class="codeph">LONG</code> columns.
                        </p>
                     </div>
                  </div>
               </div><a id="JJDBC28412"></a><div class="props_rev_3"><a id="GUID-5572A63D-A5AC-4ABC-9028-BDB7A2F9177A" name="GUID-5572A63D-A5AC-4ABC-9028-BDB7A2F9177A"></a><h4 id="JJDBC-GUID-5572A63D-A5AC-4ABC-9028-BDB7A2F9177A" class="sect4"><span class="enumeration_section">12.2.2 </span>LONG RAW Data Conversions
                  </h4>
                  <div>
                     <div class="section">
                        <p><a id="d49423e358" class="indexterm-anchor"></a><a id="d49423e362" class="indexterm-anchor"></a>A call to <code class="codeph">getBinaryStream</code> returns <code class="codeph">RAW</code> data. A call to <code class="codeph">getAsciiStream</code> converts the <code class="codeph">RAW</code> data to hexadecimal and returns the ASCII representation. A call to <code class="codeph">getUnicodeStream</code> converts the <code class="codeph">RAW</code> data to hexadecimal and returns the Unicode characters.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDBC28414"></a><a id="JJDBC28413"></a><div class="props_rev_3"><a id="GUID-D4437DEC-25C3-4D47-BF1F-D91B19DCC69E" name="GUID-D4437DEC-25C3-4D47-BF1F-D91B19DCC69E"></a><h4 id="JJDBC-GUID-D4437DEC-25C3-4D47-BF1F-D91B19DCC69E" class="sect4"><span class="enumeration_section">12.2.3 </span>LONG Data Conversions
                  </h4>
                  <div>
                     <div class="section">
                        <p><a id="d49423e412" class="indexterm-anchor"></a><a id="d49423e416" class="indexterm-anchor"></a>When you get <code class="codeph">LONG</code> data with <code class="codeph">getAsciiStream</code>, the drivers assume that the underlying data in the database uses an <code class="codeph">US7ASCII</code> or <code class="codeph">WE8ISO8859P1</code> character set. If the assumption is true, then the drivers return bytes corresponding to ASCII characters. If the database is not using an <code class="codeph">US7ASCII</code> or <code class="codeph">WE8ISO8859P1</code> character set, a call to <code class="codeph">getAsciiStream</code> returns meaningless information.
                        </p>
                        <p>When you get <code class="codeph">LONG</code> data with <code class="codeph">getUnicodeStream</code>, you get a stream of Unicode characters in the <code class="codeph">UTF-16</code> encoding. This applies to all underlying database character sets that Oracle supports.
                        </p>
                        <p>When you get <code class="codeph">LONG</code> data with <code class="codeph">getBinaryStream</code>, there are two possible cases: 
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>If the driver is JDBC OCI and the <span class="italic">client</span> character set is <span class="italic">not</span> <code class="codeph">US7ASCII</code> or <code class="codeph">WE8ISO8859P1</code>, then a call to <code class="codeph">getBinaryStream</code> returns <code class="codeph">UTF-8</code>. If the <span class="italic">client</span> character set is <code class="codeph">US7ASCII</code> or <code class="codeph">WE8ISO8859P1</code>, then the call returns a <code class="codeph">US7ASCII</code> stream of bytes.
                              </p>
                           </li>
                           <li>
                              <p>If the driver is JDBC Thin and the <span class="italic">database</span> character set is <span class="italic">not</span> <code class="codeph">US7ASCII</code> or <code class="codeph">WE8ISO8859P1</code>, then a call to <code class="codeph">getBinaryStream</code> returns <code class="codeph">UTF-8</code>. If the server-side character set is <code class="codeph">US7ASCII</code> or <code class="codeph">WE8ISO8859P1</code>, then the call returns a <code class="codeph">US7ASCII</code> stream of bytes.
                              </p>
                           </li>
                        </ul>
                        <div class="infoboxnote" id="GUID-D4437DEC-25C3-4D47-BF1F-D91B19DCC69E__GUID-77B2A5F6-8634-422C-89E1-2708D1202504">
                           <p class="notep1">Note:</p>
                           <p>Receiving <code class="codeph">LONG</code> or <code class="codeph">LONG</code> <code class="codeph">RAW</code> columns as a stream requires you to pay special attention to the order in which you retrieve columns from the database.
                           </p>
                        </div>
                        <p>The following table summarizes <code class="codeph">LONG</code> and <code class="codeph">LONG</code> <code class="codeph">RAW</code> data conversions for each stream type.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-D4437DEC-25C3-4D47-BF1F-D91B19DCC69E__G1028088">
                        <p class="titleintable">Table 12-1 LONG and LONG RAW Data Conversions</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="LONG and LONG RAW Data Conversions" summary="table" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="11%" id="d49423e563">Data type</th>
                                 <th align="left" valign="bottom" width="38%" id="d49423e566">BinaryStream</th>
                                 <th align="left" valign="bottom" width="32%" id="d49423e569">AsciiStream</th>
                                 <th align="left" valign="bottom" width="18%" id="d49423e572">UnicodeStream</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="11%" id="d49423e577" headers="d49423e563 ">
                                    <p><span class="bold">LONG</span></p>
                                 </td>
                                 <td align="left" valign="top" width="38%" headers="d49423e577 d49423e566 ">
                                    <p>Bytes representing characters in Unicode <code class="codeph">UTF-8</code>. The bytes can represent characters in <code class="codeph">US7ASCII</code> or <code class="codeph">WE8ISO8859P1</code> if the database character set is <code class="codeph">US7ASCII</code> or <code class="codeph">WE8ISO8859P1</code>.
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="32%" headers="d49423e577 d49423e569 ">
                                    <p>Bytes representing characters in ISO-Latin-1 (<code class="codeph">WE8ISO8859P1</code>) encoding
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="18%" headers="d49423e577 d49423e572 ">
                                    <p>Bytes representing characters in Unicode <code class="codeph">UTF-16</code> encoding
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="11%" id="d49423e612" headers="d49423e563 ">
                                    <p><span class="bold">LONG RAW</span></p>
                                 </td>
                                 <td align="left" valign="top" width="38%" headers="d49423e612 d49423e566 ">
                                    <p>unchanged data</p>
                                 </td>
                                 <td align="left" valign="top" width="32%" headers="d49423e612 d49423e569 ">
                                    <p>ASCII representation of hexadecimal bytes</p>
                                 </td>
                                 <td align="left" valign="top" width="18%" headers="d49423e612 d49423e572 ">
                                    <p>Unicode representation of hexadecimal bytes</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="globalization-support.html#GUID-CE02B998-DD6A-46FC-8ECF-AD2413F09A97">Globalization Support</a></li>
                           <li><a href="Java-streams-in-JDBC.html#GUID-2A5CD25F-E34E-49E3-BD78-A27B50A18A6B">Relation Between Data Streaming and Multiple Columns</a></li>
                        </ul>
                     </div>
                  </div>
                  
               </div><a id="JJDBC28416"></a><a id="JJDBC28417"></a><a id="JJDBC28415"></a><div class="props_rev_3"><a id="GUID-5CAF21D3-84EE-4F5E-B133-2BD22F5EC98A" name="GUID-5CAF21D3-84EE-4F5E-B133-2BD22F5EC98A"></a><h4 id="JJDBC-GUID-5CAF21D3-84EE-4F5E-B133-2BD22F5EC98A" class="sect4"><span class="enumeration_section">12.2.4 </span>Examples:Streaming LONG RAW Data
                  </h4>
                  <div>
                     <div class="section">
                        <p>One of the features of a <code class="codeph">get</code><span class="italic"><code class="codeph">XXX</code></span><code class="codeph">Stream</code> method is that it enables you to fetch data incrementally. In contrast, <code class="codeph">getBytes</code> fetches all the data in one call. <a id="d49423e678" class="indexterm-anchor"></a>This section contains two examples of getting a stream of binary data. The first version uses the <code class="codeph">getBinaryStream</code> method to obtain <code class="codeph">LONG</code> <code class="codeph">RAW</code> data, and the second version uses the <code class="codeph">getBytes</code> method.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5CAF21D3-84EE-4F5E-B133-2BD22F5EC98A__GUID-5C17073E-929D-4547-9F9F-57BE1F661D96">Getting a LONG RAW Data Column with getBinaryStream</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>This <a id="d49423e702" class="indexterm-anchor"></a>example writes the contents of a <code class="codeph">LONG</code> <code class="codeph">RAW</code> column to a file on the local file system. In this case, the driver fetches the data incrementally.
                        </p>
                        <p>The following code creates the table that stores a column of <code class="codeph">LONG</code> <code class="codeph">RAW</code> data associated with the name LESLIE: 
                        </p><pre class="oac_no_warn" dir="ltr">-- SQL code:
create table streamexample (NAME varchar2 (256), GIFDATA long raw);
insert into streamexample values ('LESLIE', '00010203040506070809');
</pre><p>The following Java code snippet writes the data from the <code class="codeph">LONG</code> <code class="codeph">RAW</code> column into a file called <code class="codeph">leslie.gif:</code></p><pre class="oac_no_warn" dir="ltr">ResultSet rset = stmt.executeQuery 
                 ("select GIFDATA from streamexample where NAME='LESLIE'");

// get first row
if (rset.next())
{
    // Get the GIF data as a stream from Oracle to the client
    InputStream gif_data = rset.getBinaryStream (1);
   try
   {
      FileOutputStream file = null;
      file = new FileOutputStream ("leslie.gif");
      int chunk;
      while ((chunk = gif_data.read()) != -1)
         file.write(chunk);
   }
   catch (Exception e)
   {
      String err = e.toString();
      System.out.println(err);
   }
   finally
   {
      if file != null()
         file.close();
   }
} 
</pre><p>In this example, the <code class="codeph">InputStream</code> object returned by the call to <code class="codeph">getBinaryStream</code> reads the data directly from the database connection.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5CAF21D3-84EE-4F5E-B133-2BD22F5EC98A__GUID-20DE26E4-F3D7-43BA-978E-D8739BA83085">Getting a LONG RAW Data Column with getBytes</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>This <a id="d49423e747" class="indexterm-anchor"></a>example gets the content of the <code class="codeph">GIFDATA</code> column with <code class="codeph">getBytes</code> instead of <code class="codeph">getBinaryStream</code>. In this case, the driver fetches all the data in one call and stores it in a byte array. The code snippet is as follows: 
                        </p><pre class="oac_no_warn" dir="ltr">ResultSet rset2 = stmt.executeQuery 
                  ("select GIFDATA from streamexample where NAME='LESLIE'"); 

// get first row
if (rset2.next())
{
   // Get the GIF data as a stream from Oracle to the client
   byte[] bytes = rset2.getBytes(1);
   try
   {
      FileOutputStream file = null;
      file = new FileOutputStream ("leslie2.gif");
      file.write(bytes);
   }
   catch (Exception e)
   {
      String err = e.toString();
      System.out.println(err);
   }
   finally
   {
      if file != null()
         file.close();
   }
}
</pre><p>Because a <code class="codeph">LONG RAW</code> column can contain up to 2 gigabytes of data, the <code class="codeph">getBytes</code> example can use much more memory than the <code class="codeph">getBinaryStream</code> example. Use streams if you do not know the maximum size of the data in your <code class="codeph">LONG</code> or <code class="codeph">LONG RAW</code> columns. 
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDBC28418"></a><div class="props_rev_3"><a id="GUID-E1C93335-F7D4-4122-A8A3-932D3349DFD4" name="GUID-E1C93335-F7D4-4122-A8A3-932D3349DFD4"></a><h4 id="JJDBC-GUID-E1C93335-F7D4-4122-A8A3-932D3349DFD4" class="sect4"><span class="enumeration_section">12.2.5 </span>About Avoiding Streaming for LONG or LONG RAW
                  </h4>
                  <div>
                     <div class="section">
                        <div class="infoboxnote" id="GUID-E1C93335-F7D4-4122-A8A3-932D3349DFD4__GUID-59920A95-6CAC-48A2-9F70-22A52174EEA6">
                           <p class="notep1">Note:</p>
                           <p>Starting from Oracle Database 12<span class="italic">c </span>Release 1 (12.1), this method is deprecated.
                           </p>
                        </div>
                        <p><a id="d49423e808" class="indexterm-anchor"></a>The JDBC driver automatically streams any <code class="codeph">LONG</code> and <code class="codeph">LONG RAW</code> columns. However, there may be situations where you want to avoid data streaming. For example, if you have a very small <code class="codeph">LONG</code> column, then you may want to avoid returning the data incrementally and, instead, return the data in one call. 
                        </p>
                        <p>To avoid streaming, use the <code class="codeph">defineColumnType</code> method to redefine the type of the <code class="codeph">LONG</code> column. For example, if you redefine the <code class="codeph">LONG</code> or <code class="codeph">LONG RAW</code> column as <code class="codeph">VARCHAR</code> or <code class="codeph">VARBINARY</code> type, then the driver will not automatically stream the data.
                        </p>
                        <p>If you redefine column types with <code class="codeph">defineColumnType</code>, then you must declare the types of the columns in the query. If you do not declare the types of the columns, then <code class="codeph">executeQuery</code> will fail. In addition, you must cast the <code class="codeph">Statement</code> object to <code class="codeph">oracle.jdbc.OracleStatement</code>.
                        </p>
                        <p>As an added benefit, using <code class="codeph">defineColumnType</code> saves the OCI driver a database round-trip when running the query. Without <code class="codeph">defineColumnType</code>, these JDBC drivers must request the data types of the column types. The JDBC Thin driver derives no benefit from <code class="codeph">defineColumnType</code>, because it always uses the minimum number of round-trips.
                        </p>
                        <p>Using the example from the previous section, the <code class="codeph">Statement</code> object <code class="codeph">stmt</code> is cast to <code class="codeph">OracleStatement</code> and the column containing <code class="codeph">LONG RAW</code> data is redefined to be of the type <code class="codeph">VARBINARAY</code>. The data is not streamed. Instead, it is returned in a byte array. The code snippet is as follows:
                        </p><pre class="oac_no_warn" dir="ltr">//cast the statement stmt to an OracleStatement
oracle.jdbc.OracleStatement ostmt = 
   (oracle.jdbc.OracleStatement)stmt;

//redefine the LONG column at index position 1 to VARBINARY
ostmt.defineColumnType(1, Types.VARBINARY);

// Do a query to get the images named 'LESLIE'
ResultSet rset = ostmt.executeQuery
         ("select GIFDATA from streamexample where NAME='LESLIE'");

// The data is not streamed here
rset.next();
byte [] bytes = rset.getBytes(1);
</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="release-changes.html#GUID-AC113DA4-DA08-4FB8-A447-7C3A6CDD8F22">Deprecated Features</a></li>
                        </ul>
                     </div>
                  </div>
                  
               </div>
            </div><a id="JJDBC28419"></a><div class="props_rev_3"><a id="GUID-6AE64DE5-A05B-43C5-894D-4260BC731DDA" name="GUID-6AE64DE5-A05B-43C5-894D-4260BC731DDA"></a><h3 id="JJDBC-GUID-6AE64DE5-A05B-43C5-894D-4260BC731DDA" class="sect3"><span class="enumeration_section">12.3 </span>About Streaming CHAR, VARCHAR, or RAW Columns
               </h3>
               <div>
                  <div class="infoboxnote" id="GUID-6AE64DE5-A05B-43C5-894D-4260BC731DDA__GUID-ADAB68FA-6F1C-4072-A91C-CEAC916E2A6C">
                     <p class="notep1">Note:</p>
                     <p>Starting from Oracle Database 12<span class="italic">c </span>Release 1 (12.1), this method is deprecated..
                     </p>
                  </div>
                  <p><a id="d49423e927" class="indexterm-anchor"></a><a id="d49423e931" class="indexterm-anchor"></a><a id="d49423e935" class="indexterm-anchor"></a>If you use the <code class="codeph">defineColumnType</code> Oracle extension to redefine a <code class="codeph">CHAR</code>, <code class="codeph">VARCHAR</code>, or <code class="codeph">RAW</code> column as a <code class="codeph">LONGVARCHAR</code> or <code class="codeph">LONGVARBINARY</code>, then you can get the column as a stream. The program will behave as if the column were actually of type <code class="codeph">LONG</code> or <code class="codeph">LONG RAW</code>. Note that there is not much point to this, because these columns are usually short. 
                  </p>
                  <p>If you try to get a <code class="codeph">CHAR</code>, <code class="codeph">VARCHAR</code>, or <code class="codeph">RAW</code> column as a data stream without redefining the column type, then the JDBC driver will return a Java <code class="codeph">InputStream</code>, but no real streaming occurs. In the case of these data types, the JDBC driver fully fetches the data into an in-memory buffer during a call to the <code class="codeph">executeQuery</code> method or the <code class="codeph">next</code> method. The <code class="codeph">get</code><span class="italic"><code class="codeph">XXX</code></span><code class="codeph">Stream</code> entry points return a stream that reads data from this buffer.
                  </p>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="release-changes.html#GUID-AC113DA4-DA08-4FB8-A447-7C3A6CDD8F22">Deprecated Features</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="JJDBC28421"></a><a id="JJDBC28422"></a><a id="JJDBC28420"></a><div class="props_rev_3"><a id="GUID-9DFFE7D3-C173-4D9D-8F0E-746CEAA324E5" name="GUID-9DFFE7D3-C173-4D9D-8F0E-746CEAA324E5"></a><h3 id="JJDBC-GUID-9DFFE7D3-C173-4D9D-8F0E-746CEAA324E5" class="sect3"><span class="enumeration_section">12.4 </span>About Streaming LOBs and External Files
               </h3>
               <div>
                  <p><a id="d49423e1029" class="indexterm-anchor"></a>The term large object (LOB) refers to a data item that is too large to be stored directly in a database table. Instead, a locator is stored in the database table, which points to the location of the actual data. External files are managed similarly. The JDBC drivers can support the following types through the use of strea<a id="d49423e1034" class="indexterm-anchor"></a><a id="d49423e1038" class="indexterm-anchor"></a>ms:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Binary large object (BLOB)</p>
                        <p>For unstructured binary data</p>
                     </li>
                     <li>
                        <p>Character large object (CLOB)</p>
                        <p>For character data</p>
                     </li>
                     <li>
                        <p>National Character large object (NCLOB)</p>
                        <p>For national character data</p>
                     </li>
                     <li>
                        <p>Binary file (BFILE)</p>
                        <p>For external files</p>
                     </li>
                  </ul>
                  <p>LOBs and BFILEs behave differently from the other types of streaming data described in this chapter. Instead of storing the actual data in the table, a locator is stored. The actual data can be manipulated using this locator, including reading and writing the data as a stream. Even when streaming, only the chunk of data (defined by a size) is streamed across the network. By contrast, when streaming a <code class="codeph">LONG</code> or <code class="codeph">LONG</code> <code class="codeph">RAW</code>, the entire data is streamed across the network.   
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-9DFFE7D3-C173-4D9D-8F0E-746CEAA324E5__GUID-7F090CF3-C1FD-424D-96CE-5DD6D5964B9D">Streaming BLOBs, CLOBs, and NCLOBs</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>When a query fetches one or more <code class="codeph">BLOB</code>, <code class="codeph">CLOB</code>, or <code class="codeph">NCLOB</code> columns, the JDBC driver transfers the data to the client. This data can be accessed as a stream. To manipulate <code class="codeph">BLOB</code>, <code class="codeph">CLOB</code>, or <code class="codeph">NCLOB</code> data from JDBC, use methods in the Oracle extension classes <code class="codeph">oracle.sql.BLOB</code>, <code class="codeph">oracle.sql.CLOB</code> and <code class="codeph">oracle.sql.NCLOB</code>. These classes provide specific functionality, such as reading from the <code class="codeph">BLOB</code>, <code class="codeph">CLOB</code>, or <code class="codeph">NCLOB</code> into an input stream, writing from an output stream into a <code class="codeph">BLOB</code>, <code class="codeph">CLOB</code>, or <code class="codeph">NCLOB</code>, determining the length of a <code class="codeph">BLOB</code>, <code class="codeph">CLOB</code>, or <code class="codeph">NCLOB</code>, and closing a <code class="codeph">BLOB</code>, <code class="codeph">CLOB</code>, or <code class="codeph">NCLOB</code>.
                     </p>
                     <div class="infoboxnote" id="GUID-9DFFE7D3-C173-4D9D-8F0E-746CEAA324E5__GUID-5C2C2856-AC88-4337-BE65-FAE8258CD6E3">
                        <p class="notep1">Note:</p>
                        <p>Starting from Oracle Database 12<span class="italic">c </span>Release 1 (12.1), the concrete classes in the <code class="codeph">oracle.sql</code> package are deprecated and replaced with the interfaces in the <code class="codeph">oracle.jdbc</code> package. Oracle recommends you to use the methods available in the <code class="codeph">java.sql</code> package, where possible, for standard compatibility and methods available in the <code class="codeph">oracle.jdbc</code> package for Oracle specific extensions. Refer to MoS Note 1364193.1 for more information about these interfaces.
                        </p>
                     </div>
                     <div class="infoboxnotealso" id="GUID-9DFFE7D3-C173-4D9D-8F0E-746CEAA324E5__GUID-2A04F6A3-4508-470F-B0F1-0B9B46FB0415">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="LOBs-and-BFiles.html#GUID-B88A9B7F-FFDD-4B9F-9B6D-ED9C70B7545F">Data Interface for LOBs</a>"</span></p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-9DFFE7D3-C173-4D9D-8F0E-746CEAA324E5__GUID-F433F7C8-81C4-4661-A5E9-47AB633F2BCF">Streaming BFILEs</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p><a id="d49423e1176" class="indexterm-anchor"></a><a id="d49423e1180" class="indexterm-anchor"></a>An external file, or BFILE, is used to store a locator to a file outside the database. The file can be stored somewhere on the file system of the data server. The locator points to the actual location of the file.
                     </p>
                     <p>When a query fetches one or more <code class="codeph">BFILE</code> columns, the JDBC driver transfers the file to the client as required. The data can be accessed as a stream To manipulate BFILE data from JDBC, use methods in the Oracle extension class <code class="codeph">oracle.sql.BFILE</code>. This class provides specific functionality, such as reading from the BFILE into an input stream, writing from an output stream into a BFILE, determining the length of a BFILE, and closing a BFILE.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="JJDBC28424"></a><a id="JJDBC28425"></a><a id="JJDBC28423"></a><div class="props_rev_3"><a id="GUID-2A5CD25F-E34E-49E3-BD78-A27B50A18A6B" name="GUID-2A5CD25F-E34E-49E3-BD78-A27B50A18A6B"></a><h3 id="JJDBC-GUID-2A5CD25F-E34E-49E3-BD78-A27B50A18A6B" class="sect3"><span class="enumeration_section">12.5 </span>Relation Between Data Streaming and Multiple Columns
               </h3>
               <div>
                  <p><a id="d49423e1218" class="indexterm-anchor"></a>If a query fetches multiple columns and one of the columns contains a data stream, then the contents of the columns following the stream column are not available until the stream has been read, and the stream column is no longer available once any following column is read. Any attempt to read a column beyond a streaming column closes the streaming column.
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-2A5CD25F-E34E-49E3-BD78-A27B50A18A6B__GUID-F5E60400-216A-4DDD-AC2C-BC20F66B127F">Streaming Example with Multiple Columns</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>Consider the following code:</p><pre class="oac_no_warn" dir="ltr">ResultSet rset = stmt.executeQuery
        ("select DATECOL, LONGCOL, NUMBERCOL from TABLE");
while rset.next()
{
   //get the date data
   java.sql.Date date = rset.getDate(1);

   // get the streaming data
   InputStream is = rset.getAsciiStream(2); 

   // Open a file to store the gif data
   FileOutputStream file = new FileOutputStream ("ascii.dat");

   // Loop, reading from the ascii stream and 
   // write to the file
   int chunk;
   while ((chunk = is.read ()) != -1)
      file.write(chunk);
   // Close the file
   file.close();

   //get the number column data
   int n = rset.getInt(3);  
}
</pre><p>The incoming data for each row has the following shape: </p><pre class="oac_no_warn" dir="ltr">&lt;a date&gt;&lt;the characters of the long column&gt;&lt;a number&gt;
</pre><p>As you process each row of the result set, you must complete any processing of the stream column before reading the number column.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-2A5CD25F-E34E-49E3-BD78-A27B50A18A6B__I1014850">
                     <p class="subhead2" id="GUID-2A5CD25F-E34E-49E3-BD78-A27B50A18A6B__GUID-C1F13488-2710-4397-BE86-2901CC5E691E">Bypassing Streaming Data Columns</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>There may be situations where you want to avoid reading a column that contains streaming data. If you <a id="d49423e1243" class="indexterm-anchor"></a>do not want to read such data, then call the <code class="codeph">close</code> method of the stream object. This method discards the stream data and enables the driver to continue reading data from all the columns that contain non-streaming data and follow the column containing streaming data. Even though you are intentionally discarding the stream, it is a good programming practice to retrieve the columns in the same order as in the <code class="codeph">SELECT</code> statement.
                     </p>
                     <p>In the following example, the stream data in the <code class="codeph">LONG</code> column is discarded and the data from only the <code class="codeph">DATE</code> and <code class="codeph">NUMBER</code> column is recovered:
                     </p><pre class="oac_no_warn" dir="ltr">ResultSet rset = stmt.executeQuery
        ("select DATECOL, LONGCOL, NUMBERCOL from TABLE");

while rset.next()
{
   //get the date
   java.sql.Date date = rset.getDate(1);
   
   // access the stream data and discard it with close()
   InputStream is = rset.getAsciiStream(2);
   is.close();   
   
   // get the number column data
   int n = rset.getInt(3); 
}
</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="Java-streams-in-JDBC.html#GUID-6A449885-5082-44B2-93B6-36060EEA7C15">About Streaming Data Precautions</a></li>
                        <li><a href="Java-streams-in-JDBC.html#GUID-9DFFE7D3-C173-4D9D-8F0E-746CEAA324E5">About Streaming LOBs and External Files</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="JJDBC28426"></a><div class="props_rev_3"><a id="GUID-AF94E206-56E2-452C-B88A-C7EAD2AAF05D" name="GUID-AF94E206-56E2-452C-B88A-C7EAD2AAF05D"></a><h3 id="JJDBC-GUID-AF94E206-56E2-452C-B88A-C7EAD2AAF05D" class="sect3"><span class="enumeration_section">12.6 </span>Closing a Stream
               </h3>
               <div>
                  <div class="section">
                     <p><a id="d49423e1307" class="indexterm-anchor"></a>You can discard the data from a stream at any time by calling the <code class="codeph">close</code> method. It is a good programming practice to close the stream when you no longer need it. For example:
                     </p><pre class="oac_no_warn" dir="ltr">   ...
   InputStream is = rset.getAsciiStream(2);
   is.close();   </pre><div class="infoboxnote" id="GUID-AF94E206-56E2-452C-B88A-C7EAD2AAF05D__GUID-461DE5C3-65AD-45A7-91CC-96ADB13587F9">
                        <p class="notep1">Note:</p>
                        <p>Closing a stream has little performance effect on a LONG or LONG RAW column. All of the data still move across the network and the driver must read the bits from the network.</p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="Java-streams-in-JDBC.html#GUID-2A5CD25F-E34E-49E3-BD78-A27B50A18A6B">Relation Between Data Streaming and Multiple Columns</a></li>
                        <li><a href="Java-streams-in-JDBC.html#GUID-6A449885-5082-44B2-93B6-36060EEA7C15">About Streaming Data Precautions</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="JJDBC28427"></a><div class="props_rev_3"><a id="GUID-16F826CB-4141-4451-9CAC-F3C8205A80BD" name="GUID-16F826CB-4141-4451-9CAC-F3C8205A80BD"></a><h3 id="JJDBC-GUID-16F826CB-4141-4451-9CAC-F3C8205A80BD" class="sect3"><span class="enumeration_section">12.7 </span>Notes and Precautions on Streams
               </h3>
               <div>
                  <div class="section">
                     <p>This section discusses several cautionary issues regarding the use of streams:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="Java-streams-in-JDBC.html#GUID-6A449885-5082-44B2-93B6-36060EEA7C15">About Streaming Data Precautions</a></p>
                        </li>
                        <li>
                           <p><a href="Java-streams-in-JDBC.html#GUID-6921B177-A519-47AA-8DD0-66E6FA9F50AE">About Using Streams to Avoid Limits on setBytes and setString</a></p>
                        </li>
                        <li>
                           <p><a href="Java-streams-in-JDBC.html#GUID-D2A59D17-639C-4122-87F9-A36CEDEE6D3D">Relation Between Streaming and Row Prefetching</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div><a id="JJDBC28428"></a><div class="props_rev_3"><a id="GUID-6A449885-5082-44B2-93B6-36060EEA7C15" name="GUID-6A449885-5082-44B2-93B6-36060EEA7C15"></a><h4 id="JJDBC-GUID-6A449885-5082-44B2-93B6-36060EEA7C15" class="sect4"><span class="enumeration_section">12.7.1 </span>About Streaming Data Precautions
                  </h4>
                  <div>
                     <p>This section describes some of the precautions you must take to ensure that you do not accidentally discard or lose your stream data. The drivers automatically discard stream data if you perform any JDBC operation that communicates with the database, other than reading the current stream. Two common precautions are:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Use the stream data after you access it.</p>
                           <p>To recover the data from a column containing a data stream, it is not enough to fetch the column. You must immediately process the contents of the column. Otherwise, the contents will be discarded when you fetch the next column.</p>
                        </li>
                        <li>
                           <p>Call the stream column in the same order as in the <code class="codeph">SELECT</code> statement.
                           </p>
                           <p>If your query fetches multiple columns, the database sends each row as a set of bytes representing the columns in the <code class="codeph">SELECT</code> order. If one of the columns contains stream data, then the database sends the entire data stream before proceeding to the next column.
                           </p>
                           <p>If you do not use the order as in the <code class="codeph">SELECT</code> statement to access data, then you can lose the stream data. That is, if you bypass the stream data column and access data in a column that follows it, then the stream data will be lost. For example, if you try to access the data for the <code class="codeph">NUMBER</code> column <span class="italic">before</span> reading the data from the stream data column, then the JDBC driver first reads then discards the streaming data automatically. This can be very inefficient if the <code class="codeph">LONG</code> column contains a large amount of data. 
                           </p>
                           <p>If you try to access the <code class="codeph">LONG</code> column later in the program, then the data will not be available and the driver will return a "<code class="codeph">Stream Closed</code>" error. 
                           </p>
                        </li>
                     </ul>
                     <p>The later point is illustrated in the following example: </p><pre class="oac_no_warn" dir="ltr">ResultSet rset = stmt.executeQuery
        ("select DATECOL, LONGCOL, NUMBERCOL from TABLE");
while rset.next()
{
   int n = rset.getInt(3);  // This discards the streaming data
   InputStream is = rset.getAsciiStream(2);
                            // Raises an error: stream closed.
}
</pre><p>If you get the stream but do not use it <span class="italic">before</span> you get the <code class="codeph">NUMBER</code> column, then the stream still closes automatically: 
                     </p><pre class="oac_no_warn" dir="ltr">ResultSet rset = stmt.executeQuery
                 ("select DATECOL, LONGCOL, NUMBERCOL from TABLE");
while rset.next()
{
   InputStream is = rset.getAsciiStream(2); // Get the stream
   int n = rset.getInt(3);
   // Discards streaming data and closes the stream
}
int c = is.read(); // c is -1: no more characters to read-stream closed
</pre></div>
               </div><a id="JJDBC28429"></a><div class="props_rev_3"><a id="GUID-6921B177-A519-47AA-8DD0-66E6FA9F50AE" name="GUID-6921B177-A519-47AA-8DD0-66E6FA9F50AE"></a><h4 id="JJDBC-GUID-6921B177-A519-47AA-8DD0-66E6FA9F50AE" class="sect4"><span class="enumeration_section">12.7.2 </span>About Using Streams to Avoid Limits on setBytes and setString
                  </h4>
                  <div>
                     <div class="section">
                        <p>Starting from Oracle Database 12<span class="italic">c</span>, the size limit of the data that is used with the <code class="codeph">setBytes</code> and <code class="codeph">setString</code> methods, have been increased significantly. Any Java <code class="codeph">byte</code> array can be passed to <code class="codeph">setBytes</code>, and any Java <code class="codeph">String</code> can be passed to <code class="codeph">setString</code>. The JDBC driver automatically switches to using <code class="codeph">setBinaryStream</code> or <code class="codeph">setCharacterStream</code> or to using <code class="codeph">setBytesForBlob</code> or <code class="codeph">setStringForClob</code>, depending on the size of the data, whether the statement is SQL or PL/SQL, and the driver used.
                        </p>
                        <p>There are some limitation with earlier versions of Oracle Database and in the server-side internal driver.</p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="LOBs-and-BFiles.html#GUID-B88A9B7F-FFDD-4B9F-9B6D-ED9C70B7545F">Data Interface for LOBs</a></li>
                        </ul>
                     </div>
                  </div>
                  
               </div><a id="JJDBC28430"></a><div class="props_rev_3"><a id="GUID-D2A59D17-639C-4122-87F9-A36CEDEE6D3D" name="GUID-D2A59D17-639C-4122-87F9-A36CEDEE6D3D"></a><h4 id="JJDBC-GUID-D2A59D17-639C-4122-87F9-A36CEDEE6D3D" class="sect4"><span class="enumeration_section">12.7.3 </span>Relation Between Streaming and Row Prefetching
                  </h4>
                  <div>
                     <div class="section">
                        <p>If the JDBC driver encounters a<a id="d49423e1567" class="indexterm-anchor"></a><a id="d49423e1571" class="indexterm-anchor"></a> column containing a data stream, then row fetch size is set back to one. Row fetch size is an Oracle performance enhancement that enables multiple rows of data to be retrieved with each trip to the database.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>