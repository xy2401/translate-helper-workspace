<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="Describes how to add nodes to an existing cluster, and how to delete nodes from clusters.">
      <meta name="description" content="Describes how to add nodes to an existing cluster, and how to delete nodes from clusters.">
      <title>Adding and Deleting Cluster Nodes</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Clusterware Administration and Deployment Guide">
      <meta property="og:description" content="Describes how to add nodes to an existing cluster, and how to delete nodes from clusters.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Clusterware Administration and Deployment Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="clusterware-administration-and-deployment-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-04-24T07:05:38-07:00">
      <meta name="dcterms.title" content="Clusterware Administration and Deployment Guide">
      <meta name="dcterms.dateCopyrighted" content="2007, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E95727-05">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="managing-oracle-cluster-registry-and-voting-files.html" title="Previous" type="text/html">
      <link rel="next" href="cloning-oracle-clusterware.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="CWADD">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="managing-oracle-cluster-registry-and-voting-files.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="cloning-oracle-clusterware.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Clusterware Administration and Deployment Guide</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Adding and Deleting Cluster Nodes</li>
            </ol>
            <a id="GUID-929C0CD9-9B67-45D6-B864-5ED3B47FE458" name="GUID-929C0CD9-9B67-45D6-B864-5ED3B47FE458"></a><a id="CWADD1167"></a>
            
            <h2 id="CWADD-GUID-929C0CD9-9B67-45D6-B864-5ED3B47FE458" class="sect2"><span class="enumeration_chapter">7 </span>Adding and Deleting Cluster Nodes
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>Describes how to add nodes to an existing cluster, and how to delete nodes from clusters.</p>
               <p>This chapter provides procedures for these tasks for Linux, UNIX, and Windows systems.</p>
               <div class="infoboxnote" id="GUID-929C0CD9-9B67-45D6-B864-5ED3B47FE458__GUID-C19FF93E-2BAF-41B8-B269-A40AF3165619">
                  <p class="notep1">Note:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Unless otherwise instructed, perform all add and delete node steps as the user that installed Oracle Clusterware.</p>
                     </li>
                     <li>
                        <p>You can use Fleet Patching and Provisioning to added and delete cluster nodes.</p>
                     </li>
                     <li>
                        <p>Oracle recommends that you use the cloning procedure described in <span class="q">"Cloning Oracle Clusterware"</span> to create clusters.
                        </p>
                     </li>
                  </ul>
               </div>
               <p>This chapter includes the following topics:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="adding-and-deleting-cluster-nodes.html#GUID-25D8D7A2-5240-401F-A998-00C4B525413F">Prerequisite Steps for Adding Cluster Nodes</a></p>
                  </li>
                  <li>
                     <p><a href="adding-and-deleting-cluster-nodes.html#GUID-1965B829-795E-4977-9500-E16F1CE2A856" title="Add or delete cluster nodes on Linux and UNIX systems.">Adding and Deleting Cluster Nodes on Linux and UNIX Systems</a></p>
                  </li>
                  <li>
                     <p><a href="adding-and-deleting-cluster-nodes.html#GUID-D39503EC-3E13-4AF7-8A57-932B6E382C7B" title="Delete a cluster node from Windows systems.">Adding and Deleting Cluster Nodes on Windows Systems</a></p>
                  </li>
               </ul>
            </div>
            <div>
               <div class="relinfo">
                  <p><strong>Related Topics</strong></p>
                  <ul>
                     <li><a href="cloning-oracle-clusterware.html#GUID-502ABA1D-8246-4A13-BE72-3E806B77AB8F" title="To set up the new Oracle Clusterware environment, run the gridSetup.sh utility in either interactive or silent mode on one node, as you would when installing Oracle Grid Infrastructure for a new cluster.You can also use cloning to add nodes to a cluster.">Cloning Oracle Clusterware</a></li>
                  </ul>
               </div>
            </div><a id="CWADD90987"></a><div class="props_rev_3"><a id="GUID-25D8D7A2-5240-401F-A998-00C4B525413F" name="GUID-25D8D7A2-5240-401F-A998-00C4B525413F"></a><h3 id="CWADD-GUID-25D8D7A2-5240-401F-A998-00C4B525413F" class="sect3">Prerequisite Steps for Adding Cluster Nodes</h3>
               <div>
                  <div class="section">
                     <div class="infoboxnote" id="GUID-25D8D7A2-5240-401F-A998-00C4B525413F__GUID-2BF47DD1-B474-4B94-8CB1-34250BDB9BD6">
                        <p class="notep1">Note:</p>
                        <p>Ensure that you perform the preinstallation tasks listed in <span><cite>Oracle Grid Infrastructure Installation and Upgrade Guide for Linux</cite></span> before adding a node to a cluster.
                        </p>
                        <p><span class="italic">Do not</span> install Oracle Clusterware. The software is copied from an existing node when you add a node to the cluster.
                        </p>
                     </div>
                     <p>Complete the following steps to prepare nodes to add to the cluster:</p>
                     <ol>
                        <li>
                           <p>Make physical connections.</p>
                           <p>Connect the nodes' hardware to the network infrastructure of your cluster. This includes establishing electrical connections, configuring network interconnects, configuring shared disk subsystem connections, and so on. See your hardware vendor documentation for details about this step.</p>
                        </li>
                        <li>
                           <p>Install the operating system.</p>
                           <p>Install a cloned image of the operating system that matches the operating system on the other nodes in your cluster. This includes installing required service patches, updates, and drivers. See your operating system vendor documentation for details about this process.</p>
                           <div class="infoboxnote" id="GUID-25D8D7A2-5240-401F-A998-00C4B525413F__GUID-9D4F50DD-7BFD-4653-B436-6592DD613F02">
                              <p class="notep1">Note:</p>
                              <p>Oracle recommends that you use a cloned image. However, if the installation fulfills the installation requirements, then install the operating system according to the vendor documentation.</p>
                           </div>
                        </li>
                        <li>
                           <p>Create Oracle users.</p>
                           <p>You must create all Oracle users on the new node that exist on the existing nodes. For example, if you are adding a node to a cluster that has two nodes, and those two nodes have different owners for the Oracle Grid Infrastructure home and the Oracle home, then you must create those owners on the new node, even if you do not plan to install an Oracle home on the new node.</p>
                           <div class="infoboxnote" id="GUID-25D8D7A2-5240-401F-A998-00C4B525413F__GUID-3B0163C1-0EAB-448E-83BA-1544EE1DCB6B">
                              <p class="notep1">Note:</p>
                              <p>Perform this step only for Linux and UNIX systems.</p>
                           </div>
                           <p>As <code class="codeph">root</code>, create the Oracle users and groups using the same user ID and group ID as on the existing nodes.
                           </p>
                        </li>
                        <li>
                           <p>Ensure that SSH is configured on the node.</p>
                           <div class="infoboxnote" id="GUID-25D8D7A2-5240-401F-A998-00C4B525413F__GUID-A9D98D13-54C9-47EA-A57A-3774687626F9">
                              <p class="notep1">Note:</p>
                              <p>SSH is configured when you install Oracle Clusterware 12<span class="italic">c</span>. If SSH is not configured, then see <span><cite>Oracle Grid Infrastructure Installation and Upgrade Guide</cite></span> for information about configuring SSH.
                              </p>
                           </div>
                        </li>
                        <li>
                           <p>Verify the hardware and operating system installations with the Cluster Verification Utility (CVU).</p>
                           <p>After you configure the hardware and operating systems on the nodes you want to add, you can run the following commands to verify that the nodes you want to add are reachable by other nodes in the cluster. You can also use this command to verify user equivalence to all given nodes from the local node, node connectivity among all of the given nodes, accessibility to shared storage from all of the given nodes, and so on.</p>
                           <ol type="a">
                              <li>
                                 <p>From the <code class="codeph"><span class="variable" translate="no">Grid_home</span>/bin</code> directory on an existing node, run the CVU command to obtain a detailed comparison of the properties of the reference node with all of the other nodes that are part of your current cluster environment. Replace <code class="codeph"><span class="variable" translate="no">ref_node</span></code> with the name of a node in your existing cluster against which you want CVU to compare the nodes to be added. Specify a comma-delimited list of nodes after the <code class="codeph">-n</code> option. In the following example, <code class="codeph"><span class="variable" translate="no">orainventory_group</span></code> is the name of the Oracle Inventory group, and <code class="codeph"><span class="variable" translate="no">osdba_group</span></code> is the name of the OSDBA group:
                                 </p><pre class="pre codeblock"><code>$ cluvfy comp peer [-refnode <span class="variable" translate="no">ref_node</span>] -n <span class="variable" translate="no">node_list</span>
[-orainv <span class="variable" translate="no">orainventory_group</span>] [-osdba <span class="variable" translate="no">osdba_group</span>] [-verbose]</code></pre></li>
                              <li>
                                 <p>Ensure that the Grid Infrastructure Management Repository has at least an additional 500 MB of space for each node added above four, as follows:</p><pre class="pre codeblock"><code>$ oclumon manage -get repsize</code></pre><p>Add additional space, if required, as follows:</p><pre class="pre codeblock"><code>$ oclumon manage -repos changerepossize <span class="variable" translate="no">total_in_MB</span></code></pre><div class="infoboxnotealso" id="GUID-25D8D7A2-5240-401F-A998-00C4B525413F__GUID-6AE75113-5EF9-4E80-BFD1-D1934E194EF0">
                                    <p class="notep1">See Also:</p>
                                    <p><span><cite>Oracle Autonomous Health Framework User's Guide</cite></span> for more information about using OCLUMON
                                    </p>
                                 </div>
                              </li>
                           </ol>
                           <div class="infoboxnote" id="GUID-25D8D7A2-5240-401F-A998-00C4B525413F__GUID-352DE339-DA28-4C34-AF87-98688B60C178">
                              <p class="notep1">Note:</p>
                              <p>For the reference node, select a cluster node against which you want CVU to compare, for example, the nodes that you want to add that you specify with the <code class="codeph">-n</code> option.
                              </p>
                           </div>
                        </li>
                     </ol>
                     <p>After completing the procedures in this section, you are ready to add the nodes to the cluster.</p>
                     <div class="infoboxnote" id="GUID-25D8D7A2-5240-401F-A998-00C4B525413F__GUID-C4657204-52E5-402B-8350-59DB40E592C8">
                        <p class="notep1">Note:</p>
                        <p>Avoid changing host names after you complete the Oracle Clusterware installation, including adding or deleting domain qualifications. Nodes with changed host names must be deleted from the cluster and added back with the new name.</p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="../cwlin/oracle-grid-infrastructure-installation-checklist.html#CWLIN-GUID-71A93E07-7E50-449C-B425-02F04A2EA8E6" target="_blank"><span><cite>Oracle Grid Infrastructure Installation and Upgrade Guide for Linux</cite></span></a></li>
                        <li><a href="../atnms/oclumon-command-reference.html#ATNMS-GUID-1A00F7D4-4843-4647-AFF8-07021719404F" target="_blank"><span><cite>Oracle Autonomous Health Framework User's Guide</cite></span></a></li>
                     </ul>
                  </div>
               </div>
            </div><a id="CWADD90988"></a><div class="props_rev_3"><a id="GUID-1965B829-795E-4977-9500-E16F1CE2A856" name="GUID-1965B829-795E-4977-9500-E16F1CE2A856"></a><h3 id="CWADD-GUID-1965B829-795E-4977-9500-E16F1CE2A856" class="sect3">Adding and Deleting Cluster Nodes on Linux and UNIX Systems</h3>
               <div>
                  <p>Add or delete cluster nodes on Linux and UNIX systems.</p>
                  <p>The procedure in the section for adding nodes assumes that you have performed the steps in the <span class="q">"Prerequisite Steps for Adding Cluster Nodes"</span> section.
                  </p>
                  <p>The last step of the node addition process includes extending the Oracle Clusterware home from an Oracle Clusterware home on an existing node to the nodes that you want to add.</p>
                  <p>This section includes the following topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="adding-and-deleting-cluster-nodes.html#GUID-2AE1FEE2-7A45-40E5-97CD-CF6DD91A4E8B" title="There are three methods you can use to add a node to your cluster.">Adding a Cluster Node on Linux and UNIX Systems</a></p>
                     </li>
                     <li>
                        <p><a href="adding-and-deleting-cluster-nodes.html#GUID-8ADA9667-EC27-4EF9-9F34-C8F65A757F2A" title="Delete a node from a cluster on Linux and UNIX systems.">Deleting a Cluster Node on Linux and UNIX Systems</a></p>
                     </li>
                  </ul>
                  <div class="infoboxnote" id="GUID-1965B829-795E-4977-9500-E16F1CE2A856__GUID-A9653A53-1DCC-477D-8631-935AB663A781">
                     <p class="notep1">Note:</p>
                     <p>Beginning with Oracle Clusterware 11<span class="italic">g</span> release 2 (11.2), Oracle Universal Installer defaults to silent mode when adding nodes.
                     </p>
                  </div>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="adding-and-deleting-cluster-nodes.html#GUID-25D8D7A2-5240-401F-A998-00C4B525413F">Prerequisite Steps for Adding Cluster Nodes</a></li>
                     </ul>
                  </div>
               </div><a id="CWADD90989"></a><div class="props_rev_3"><a id="GUID-2AE1FEE2-7A45-40E5-97CD-CF6DD91A4E8B" name="GUID-2AE1FEE2-7A45-40E5-97CD-CF6DD91A4E8B"></a><h4 id="CWADD-GUID-2AE1FEE2-7A45-40E5-97CD-CF6DD91A4E8B" class="sect4">Adding a Cluster Node on Linux and UNIX Systems</h4>
                  <div>
                     <p>There are three methods you can use to add a node to your cluster.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-2AE1FEE2-7A45-40E5-97CD-CF6DD91A4E8B__GUID-24D09AEA-4021-4654-AB2E-2101369AA7A6">Using Fleet Patching and Provisioning to Add a Node</p>
                        <p>If you have a Fleet Patching and Provisioning Server, then you can use Fleet Patching and Provisioning to add a node to a cluster with one command, as shown in the following example:</p><pre class="pre codeblock"><code>$ rhpctl addnode gihome -client rhpclient -newnodes clientnode2:clientnode2-vip -root</code></pre><p>The preceding example adds a node named <code class="codeph">clientnode2</code> with VIP <code class="codeph">clientnode2-vip</code> to the Fleet Patching and Provisioning Client named <code class="codeph">rhpclient</code>, using root credentials (login for the node you are adding).
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2AE1FEE2-7A45-40E5-97CD-CF6DD91A4E8B__GUID-32510CA8-6F06-4C07-8CE1-7715B99D970A">Using Oracle Grid Infrastructure Installer to Add a Node</p>
                        <div class="p">If you do you not want to use Fleet Patching and Provisioning to add a node to the cluster, then you can use the Oracle Grid Infrastructure installer to accomplish the task.
                           <div class="infoboxnote" id="GUID-2AE1FEE2-7A45-40E5-97CD-CF6DD91A4E8B__GUID-1CD6C85C-0E6D-48F7-9855-376B02C75D72">
                              <p class="notep1">Note:</p>You can use the <code><span class="variable" translate="no">$Oracle_home</span>/install/response/gridSetup.rsp</code> template to create a response file to add nodes using the Oracle Grid Infrastructure Installer for non-interactive (silent mode) operation.
                           </div>
                        </div>
                        <p>To add a node to the cluster using the Oracle Grid Infrastructure installer</p>
                        <ol>
                           <li>
                              <p>Run <code class="codeph">./gridSetup.sh</code> to start the installer.
                              </p>
                           </li>
                           <li>
                              <p>On the <span class="wintitle">Select Configuration Option</span> page, select <span class="uicontrol bold">Add more nodes to the cluster</span>.
                              </p>
                           </li>
                           <li>
                              <p>On the <span class="wintitle">Cluster Node Information</span> page, click <span class="uicontrol bold">Add...</span> to provide information for nodes you want to add.
                              </p>
                           </li>
                           <li>
                              <p>When the verification process finishes on the <span class="wintitle">Perform Prerequisite Checks</span> page, check the summary and then click <span class="uicontrol bold">Install</span>.
                              </p>
                           </li>
                           <li>
                              <p>If prompted, then run the <code class="codeph">orainstRoot.sh</code> script as root to populate the <code class="codeph">/etc/oraInst.loc</code> file with the location of the central inventory. For example:
                              </p><pre class="pre codeblock"><code># /opt/oracle/oraInventory/orainstRoot.sh</code></pre></li>
                           <li id="GUID-2AE1FEE2-7A45-40E5-97CD-CF6DD91A4E8B__CFHFEJIA">
                              <p>If you have an Oracle RAC or Oracle RAC One Node database configured on the cluster and you have a local Oracle home, then do the following to extend the Oracle database home to <code class="codeph">node3</code>:
                              </p>
                              <ol type="a">
                                 <li>
                                    <p>Navigate to the <code class="codeph"><span class="variable" translate="no">Oracle_home</span></code><code class="codeph">/addnode</code> directory on <code class="codeph">node1</code> and run the <code class="codeph">addnode.sh</code> script as the user that installed Oracle RAC using the following syntax:
                                    </p><pre class="pre codeblock"><code>$ ./addnode.sh "CLUSTER_NEW_NODES={node3}"</code></pre></li>
                                 <li>
                                    <p>Run the <code class="codeph"><span class="variable" translate="no">Oracle_home</span></code><code class="codeph">/root.sh</code> script on <code class="codeph">node3</code> as <code class="codeph">root</code>, where <code class="codeph"><span class="variable" translate="no">Oracle_home</span></code> is the Oracle RAC home.
                                    </p>
                                 </li>
                              </ol>
                              <p>If you have a shared Oracle home that is shared using Oracle Automatic Storage Management Cluster File System (Oracle ACFS), then do the following to extend the Oracle database home to <code class="codeph">node3</code>:
                              </p>
                              <ol type="a">
                                 <li>
                                    <p>Run the <code class="codeph"><span class="variable" translate="no">Grid_home</span></code><code class="codeph">/root.sh</code> script on <code class="codeph">node3</code> as <code class="codeph">root</code>, where <code class="codeph"><span class="variable" translate="no">Grid_home</span></code> is the Oracle Grid Infrastructure home.
                                    </p>
                                 </li>
                                 <li>
                                    <p>Run the following command as the user that installed Oracle RAC from the <code class="codeph"><span class="variable" translate="no">Oracle_home</span></code><code class="codeph">/oui/bin</code> directory on the node you are adding to add the Oracle RAC database home:
                                    </p><pre class="pre codeblock"><code>$ ./runInstaller -attachHome ORACLE_HOME="ORACLE_HOME" "CLUSTER_NODES={node3}"
LOCAL_NODE="node3" ORACLE_HOME_NAME="<span class="variable" translate="no">home_name</span>" -cfs</code></pre></li>
                                 <li>
                                    <p>Navigate to the <code class="codeph"><span class="variable" translate="no">Oracle_home</span></code><code class="codeph">/addnode</code> directory on <code class="codeph">node1</code> and run the <code class="codeph">addnode.sh</code> script as the user that installed Oracle RAC using the following syntax:
                                    </p><pre class="pre codeblock"><code>$ ./addnode.sh -noCopy "CLUSTER_NEW_NODES={node3}"</code></pre><div class="infoboxnote" id="GUID-2AE1FEE2-7A45-40E5-97CD-CF6DD91A4E8B__GUID-B63EA082-E180-43A2-AF1F-7A1155295086">
                                       <p class="notep1">Note:</p>
                                       <p>Use the <code class="codeph">-noCopy</code> option because the Oracle home on the destination node is already fully populated with software.
                                       </p>
                                    </div>
                                 </li>
                              </ol>
                              <p>If you have a shared Oracle home on a shared file system that <span class="italic">is not</span> Oracle ACFS, then you must first create a mount point for the Oracle RAC database home on the target node, mount and attach the Oracle RAC database home, and update the Oracle Inventory, as follows:
                              </p>
                              <ol type="a">
                                 <li>
                                    <p>Run the <code class="codeph">srvctl config database -db <span class="variable" translate="no">db_name</span></code> command on an existing node in the cluster to obtain the mount point information.
                                    </p>
                                 </li>
                                 <li>
                                    <p>Run the following command as <code class="codeph">root</code> on <code class="codeph">node3</code> to create the mount point:
                                    </p><pre class="pre codeblock"><code># mkdir -p <span class="variable" translate="no">mount_point_path</span></code></pre></li>
                                 <li>
                                    <p>Mount the file system that hosts the Oracle RAC database home.</p>
                                 </li>
                                 <li>
                                    <p>Run the following command as the user that installed Oracle RAC from the <code class="codeph"><span class="variable" translate="no">Oracle_home</span></code><code class="codeph">/oui/bin</code> directory on the node you are adding to add the Oracle RAC database home:
                                    </p><pre class="pre codeblock"><code>$ ./runInstaller -attachHome ORACLE_HOME="ORACLE_HOME" "CLUSTER
_NODES={<span class="variable" translate="no">local_node_name</span>}" LOCAL_NODE="<span class="variable" translate="no">node_name</span>" ORACLE_HOME_NAME="<span class="variable" translate="no">home_name</span>" -cfs</code></pre><p>Navigate to the <code class="codeph"><span class="variable" translate="no">Oracle_home</span>/addnode</code> directory on <code class="codeph">node1</code> and run the <code class="codeph">addnode.sh</code> script as the user that installed Oracle RAC using the following syntax:
                                    </p><pre class="oac_no_warn" dir="ltr">$ ./addnode.sh -noCopy "CLUSTER_NEW_NODES={node3}"</pre><div class="infoboxnote" id="GUID-2AE1FEE2-7A45-40E5-97CD-CF6DD91A4E8B__GUID-9E6DDBC1-E6AD-4D4D-B093-CD063C5920B4">
                                       <p class="notep1">Note:</p>
                                       <p>Use the <code class="codeph">-noCopy</code> option because the Oracle home on the destination node is already fully populated with software.
                                       </p>
                                    </div>
                                 </li>
                              </ol>
                              <div class="infoboxnote" id="GUID-2AE1FEE2-7A45-40E5-97CD-CF6DD91A4E8B__GUID-738D8668-E5CD-4EA3-A2C4-365B8FA3EFEB">
                                 <p class="notep1">Note:</p>After running <code class="codeph">addnode.sh</code>, ensure the <code><span class="variable" translate="no">Grid_home</span>/network/admin/samples</code> directory has permissions set to 750. 
                              </div>
                           </li>
                           <li>
                              <p>Run the <code class="codeph"><span class="variable" translate="no">Grid_home</span>/root.sh</code> script on the <code class="codeph">node3</code> as <code class="codeph">root</code> and run the subsequent script, as instructed.
                              </p>
                              <div class="infoboxnote" id="GUID-2AE1FEE2-7A45-40E5-97CD-CF6DD91A4E8B__GUID-C5F5BA72-89E4-4467-81F2-659F069B7D67">
                                 <p class="notep1">Note:</p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>If you ran the <code class="codeph">root.sh</code> script in the step <a href="adding-and-deleting-cluster-nodes.html#GUID-2AE1FEE2-7A45-40E5-97CD-CF6DD91A4E8B__CFHFEJIA">6</a>, then you do not need to run it again.
                                       </p>
                                    </li>
                                    <li>
                                       <p>If you have a policy-managed database, then you must ensure that the Oracle home is cloned to the new node before you run the <code class="codeph">root.sh</code> script.
                                       </p>
                                    </li>
                                    <li>
                                       <p>If you have any administrator-managed database instances configured on the nodes which are going to be added to the cluster, then you must extend the Oracle home to the new node before you run the <code class="codeph">root.sh</code> script.
                                       </p>
                                       <p>Alternatively, remove the administrator-managed database instances using the <code class="codeph">srvctl remove instance</code> command.
                                       </p>
                                    </li>
                                 </ul>
                              </div>
                           </li>
                           <li>
                              <p>Start the Oracle ACFS resource on the new node by running the following command as <code class="codeph">root</code> from the <code class="codeph"><span class="variable" translate="no">Grid_home</span>/bin</code> directory:
                              </p><pre class="pre codeblock"><code># srvctl start filesystem -device <span class="variable" translate="no">volume_device_name</span> -node node3</code></pre><div class="infoboxnote" id="GUID-2AE1FEE2-7A45-40E5-97CD-CF6DD91A4E8B__GUID-916DDEED-7892-406C-BC3B-4F904F62B013">
                                 <p class="notep1">Note:</p>
                                 <p>Ensure the Oracle ACFS resources, including Oracle ACFS registry resource and Oracle ACFS file system resource where the Oracle home is located, are online on the newly added node.</p>
                              </div>
                           </li>
                           <li>
                              <p>Run the following CVU command as the user that installed Oracle Clusterware to check cluster integrity. This command verifies that any number of specified nodes has been successfully added to the cluster at the network, shared storage, and clusterware levels:</p><pre class="pre codeblock"><code>$ cluvfy stage -post nodeadd -n node3 [-verbose]</code></pre></li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="rapid-home-provisioning.html#GUID-CCEC5960-EDA4-4A3F-9643-0CA308EA49AA" title="Fleet Patching and Provisioning is a software lifecycle management method for provisioning and maintaining Oracle homes.">Fleet Patching and Provisioning and Maintenance</a></li>
                           <li><a href="../install-and-upgrade.html" target="_blank"><span><cite>Oracle Grid Infrastructure Installation and Upgrade Guide</cite></span></a></li>
                           <li><a href="cluster-verification-utility-reference.html#GUID-F9E3F87E-BFEC-4D50-A11E-0F096EC05880" title="Use the cluvfy stage -pre nodeadd command to verify the specified nodes are configured correctly before adding them to your existing cluster, and to verify the integrity of the cluster before you add the nodes. Use the cluvfy stage -post nodeadd command to verify that the specified nodes have been successfully added to the cluster at the network, shared storage, and clusterware levels.">cluvfy stage [-pre | -post] nodeadd</a></li>
                           <li><a href="../racad/adding-and-deleting-oracle-rac-from-nodes-on-windows-systems.html#RACAD-GUID-53F37237-C0D8-4EEF-B845-EDFD56B9715A" target="_blank"><span><cite>Oracle Real Application Clusters Administration and Deployment Guide</cite></span></a></li>
                           <li><a href="../racad/adding-and-deleting-oracle-rac-from-nodes-on-linux-and-unix-systems.html#RACAD-GUID-A46AFF14-33F8-4379-AEC2-5A4F4FC8199E" target="_blank"><span><cite>Oracle Real Application Clusters Administration and Deployment Guide</cite></span></a></li>
                        </ul>
                     </div>
                  </div>
               </div><a id="CWADD90992"></a><div class="props_rev_3"><a id="GUID-8ADA9667-EC27-4EF9-9F34-C8F65A757F2A" name="GUID-8ADA9667-EC27-4EF9-9F34-C8F65A757F2A"></a><h4 id="CWADD-GUID-8ADA9667-EC27-4EF9-9F34-C8F65A757F2A" class="sect4">Deleting a Cluster Node on Linux and UNIX Systems</h4>
                  <div>
                     <p>Delete a node from a cluster on Linux and UNIX systems.</p>
                     <div class="section">
                        <div class="infoboxnote" id="GUID-8ADA9667-EC27-4EF9-9F34-C8F65A757F2A__GUID-1FEBB7F1-07E1-494E-8778-C8243656E4B8">
                           <p class="notep1">Note:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>You can remove the Oracle RAC database instance from the node before removing the node from the cluster but this step is not required. If you do not remove the instance, then the instance is still configured but never runs. Deleting a node from a cluster does not remove a node's configuration information from the cluster. The residual configuration information does not interfere with the operation of the cluster.</p>
                                 <p><span class="bold">See Also:</span><span><cite>Oracle Real Application Clusters Administration and Deployment Guide</cite></span> for more information about deleting an Oracle RAC database instance
                                 </p>
                              </li>
                              <li>
                                 <p>If you delete the last node of a cluster that is serviced by GNS, then you must delete the entries for that cluster from GNS.</p>
                              </li>
                              <li>
                                 <p>If you have nodes in the cluster that are unpinned, then Oracle Clusterware ignores those nodes after a time and there is no need for you to remove them.</p>
                              </li>
                              <li>
                                 <p>If one creates node-specific configuration for a node (such as disabling a service on a specific node, or adding the node to the candidate list for a server pool) that node-specific configuration is not removed when the node is deleted from the cluster. Such node-specific configuration must be removed manually.</p>
                              </li>
                              <li>
                                 <p>Voting files are automatically backed up in OCR after any changes you make to the cluster.</p>
                              </li>
                              <li>
                                 <p>When you want to delete a non-Hub Node from an Oracle Flex Cluster, you need only complete steps 1 through 4 of this procedure.</p>
                              </li>
                           </ul>
                        </div>
                        <p>To delete a node from a cluster:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Ensure that <code class="codeph"><span class="variable" translate="no">Grid_home</span></code> correctly specifies the full directory path for the Oracle Clusterware home on each node, where <code class="codeph"><span class="variable" translate="no">Grid_home</span></code> is the location of the installed Oracle Clusterware software.</span></li>
                        <li class="stepexpand"><span>Run the following command as either <code class="codeph">root</code> or the user that installed Oracle Clusterware to determine whether the node you want to delete is active and whether it is pinned:</span><div><pre class="pre codeblock"><code>$ olsnodes -s -t</code></pre><p>If the node is pinned, then run the <code class="codeph">crsctl unpin css</code> command. Otherwise, proceed to the next step.
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>On the node that you are deleting, depending on whether you have a shared or local Oracle home, complete one of the following procedures as the user that installed Oracle Clusterware:</span><div>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>For a local home, deinstall the Oracle Clusterware home from the node that you want to delete, as follows, by running the following command, where <code class="codeph"><span class="variable" translate="no">Grid_home</span></code> is the path defined for the Oracle Clusterware home:
                                    </p><pre class="pre codeblock"><code>$ <span class="variable" translate="no">Grid_home</span>/deinstall/deinstall -local</code></pre><div class="infoboxnote" id="GUID-8ADA9667-EC27-4EF9-9F34-C8F65A757F2A__GUID-90DC8FCB-2FF1-4274-BE4D-5AC0A645EA59">
                                       <p class="notep1">Caution:</p>
                                       <p></p>
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p>If you do not specify the <code class="codeph">-local</code> flag, then the command removes the Oracle Grid Infrastructure home from every node in the cluster.
                                             </p>
                                          </li>
                                          <li>
                                             <p>If you cut and paste the preceding command, then paste it into a text editor before pasting it to the command line to remove any formatting this document might contain.</p>
                                          </li>
                                       </ul>
                                    </div>
                                    <div class="infoboxnote" id="GUID-8ADA9667-EC27-4EF9-9F34-C8F65A757F2A__GUID-3A4F2019-9A8A-4A27-B928-87AB46B4EBA2">
                                       <p class="notep1">Note:</p>Alternatively, after you configure Oracle Grid Infrastructure, if you want to delete any node from the grid infrastructure, then you can do so by running <code class="codeph"><span class="variable" translate="no">Grid_home</span>/gridSetup.sh</code>, selecting <span class="bold">Remove nodes from the cluster</span> and following the prompts.
                                    </div>
                                 </li>
                                 <li>
                                    <p>If you have a shared home, then run the following commands in the following order on the node you want to delete.</p>
                                    <p>Run the following command to deconfigure Oracle Clusterware:</p><pre class="pre codeblock"><code>$ <span class="variable" translate="no">Grid_home</span>/crs/install/rootcrs.sh -deconfig -force</code></pre><p>Run the following command from the <code class="codeph"><span class="variable" translate="no">Grid_home</span></code><code class="codeph">/oui/bin</code> directory to detach the Grid home:
                                    </p><pre class="pre codeblock"><code>$ ./runInstaller -detachHome ORACLE_HOME=<span class="variable" translate="no">Grid_home</span> -silent -local</code></pre><p>Manually delete any configuration files, as prompted by the installation utility.</p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                        <li class="stepexpand"><span>From any node that you are <span class="italic">not deleting</span>, run the following command from the <code class="codeph"><span class="variable" translate="no">Grid_home</span></code><code class="codeph">/bin</code> directory as <code class="codeph">root</code> to delete the node from the cluster:</span><div><pre class="pre codeblock"><code># crsctl delete node -n <span class="variable" translate="no">node_to_be_deleted</span></code></pre></div>
                        </li>
                        <li class="stepexpand"><span>Run the following CVU command to verify that the specified nodes have been successfully deleted from the cluster:</span><div><pre class="pre codeblock"><code>$ cluvfy stage -post nodedel -n <span class="variable" translate="no">node_list</span> [-verbose]</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>If you remove a cluster node on which Oracle Clusterware is down, then determine whether the VIP for the deleted node still exists, as follows:</span><div><pre class="pre codeblock"><code>$ srvctl config vip -node <span class="variable" translate="no">deleted_node_name</span></code></pre><p>If the VIP still exists, then delete it, as follows:</p><pre class="pre codeblock"><code>$ srvctl stop vip -node <span class="variable" translate="no">deleted_node_name</span>
$ srvctl remove vip -vip <span class="variable" translate="no">deleted_vip_name</span></code></pre></div>
                        </li>
                     </ol>
                     <div class="section">
                        <p><span class="bold">Using Fleet Patching and Provisioning to Delete a Node</span></p>
                        <p>Alternatively, you can use Fleet Patching and Provisioning to delete a node from a cluster with one command, as shown in the following example:</p><pre class="pre codeblock"><code>$ rhpctl deletenode gihome -client rhpclient -node clientnode2 -root</code></pre><p>The preceding example deletes a node named <code class="codeph">clientnode2</code> from the Fleet Patching and Provisioning Client named <code class="codeph">rhpclient</code>, using root credentials (login for the node you are deleting).
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="../racad/adding-and-deleting-oracle-rac-from-nodes-on-linux-and-unix-systems.html#RACAD-GUID-BFA0BA52-0387-4B90-AAC9-9DABA85A36E1" target="_blank"><span><cite>Oracle Real Application Clusters Administration and Deployment Guide</cite></span></a></li>
                           <li><a href="cluster-verification-utility-reference.html#GUID-73A94814-62E0-425C-ABA6-DE1D6DF45747" title="Verifies that specific nodes have been successfully deleted from a cluster. Typically, this command verifies that the node-specific interface configuration details have been removed, the nodes are no longer a part of cluster configuration, and proper Oracle ASM cleanup has been performed.">cluvfy stage -post nodedel</a></li>
                           <li><a href="rapid-home-provisioning.html#GUID-CCEC5960-EDA4-4A3F-9643-0CA308EA49AA" title="Fleet Patching and Provisioning is a software lifecycle management method for provisioning and maintaining Oracle homes.">Fleet Patching and Provisioning and Maintenance</a></li>
                        </ul>
                     </div>
                  </div>
               </div>
            </div><a id="CWADD90995"></a><div class="props_rev_3"><a id="GUID-D39503EC-3E13-4AF7-8A57-932B6E382C7B" name="GUID-D39503EC-3E13-4AF7-8A57-932B6E382C7B"></a><h3 id="CWADD-GUID-D39503EC-3E13-4AF7-8A57-932B6E382C7B" class="sect3">Adding and Deleting Cluster Nodes on Windows Systems</h3>
               <div>
                  <p>This section explains cluster node addition and deletion on Windows systems. This section includes the following topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="adding-and-deleting-cluster-nodes.html#GUID-2FC91C59-35C2-4714-AAD2-9F35E3A4BB4D">Adding a Node to a Cluster on Windows Systems</a></p>
                     </li>
                     <li>
                        <p><a href="adding-and-deleting-cluster-nodes.html#GUID-DDED83A3-F1BB-43EB-AFA4-FDAF51E84EAF" title="Delete a cluster node from Windows systems.">Deleting a Cluster Node on Windows Systems</a></p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-D39503EC-3E13-4AF7-8A57-932B6E382C7B__GUID-50EA8375-3D9F-4040-8ACF-C23451308FBB">
                     <p class="notep1">See Also:</p>
                     <p><span><cite>Oracle Grid Infrastructure Installation and Upgrade Guide for Microsoft Windows x64 (64-Bit)</cite></span> for more information about deleting an entire cluster
                     </p>
                  </div>
               </div><a id="CWADD90996"></a><div class="props_rev_3"><a id="GUID-2FC91C59-35C2-4714-AAD2-9F35E3A4BB4D" name="GUID-2FC91C59-35C2-4714-AAD2-9F35E3A4BB4D"></a><h4 id="CWADD-GUID-2FC91C59-35C2-4714-AAD2-9F35E3A4BB4D" class="sect4">Adding a Node to a Cluster on Windows Systems</h4>
                  <div>
                     <div class="section">
                        <p>Ensure that you complete the prerequisites listed in <span class="q">"Prerequisite Steps for Adding Cluster Nodes"</span> before adding nodes.
                        </p>
                        <p>This procedure describes how to add a node to your cluster. This procedure assumes that:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>There is an existing cluster with two nodes named <code class="codeph">node1</code> and <code class="codeph">node2</code></p>
                           </li>
                           <li>
                              <p>You are adding a node named <code class="codeph">node3</code></p>
                           </li>
                           <li>
                              <p>You have successfully installed Oracle Clusterware on <code class="codeph">node1</code> and <code class="codeph">node2</code> in a local home, where <code class="codeph"><span class="variable" translate="no">Grid_home</span></code> represents the successfully installed home
                              </p>
                           </li>
                        </ul>
                        <div class="infoboxnote" id="GUID-2FC91C59-35C2-4714-AAD2-9F35E3A4BB4D__GUID-A0FC9024-5652-4D74-8A92-E258AD4B3EB4">
                           <p class="notep1">Note:</p>
                           <p>Do not use the procedures described in this section to add cluster nodes in configurations where the Oracle database has been upgraded from Oracle Database 10<span class="italic">g</span> release 1 (10.1) on Windows systems.
                           </p>
                        </div>
                        <p>To add a node:</p>
                        <ol>
                           <li>
                              <p>Verify the integrity of the cluster and <code class="codeph">node3</code>:
                              </p><pre class="pre codeblock"><code>C:\&gt;cluvfy stage -pre nodeadd -n node3 [-fixup] [-verbose]</code></pre><p>You can specify the <code class="codeph">-fixup</code> option and a directory into which CVU prints instructions to fix the cluster or node if the verification fails.
                              </p>
                           </li>
                           <li>
                              <p>On <code class="codeph">node1</code>, go to the <code class="codeph"><span class="variable" translate="no">Grid_home</span>\addnode</code> directory and run the <code class="codeph">addnode.bat</code> script, as follows:
                              </p><pre class="pre codeblock"><code>C:\&gt;addnode.bat "CLUSTER_NEW_NODES={node3}"
"CLUSTER_NEW_VIRTUAL_HOSTNAMES={node3-vip}"</code></pre></li>
                           <li>
                              <p>Run the following command on the new node:</p><pre class="pre codeblock"><code>C:\&gt;<span class="variable" translate="no">Grid_home</span>\crs\config\gridconfig.bat</code></pre></li>
                           <li>
                              <p>The following steps are required <span class="italic">only</span> if you have database homes configured to use Oracle ACFS:
                              </p>
                              <ol type="a">
                                 <li id="GUID-2FC91C59-35C2-4714-AAD2-9F35E3A4BB4D__CFHDFCEI">
                                    <p>For each database configured to use Oracle ACFS, run the following command from the Oracle RAC database home:</p><pre class="pre codeblock"><code>C:\&gt;<span class="variable" translate="no">ORACLE_HOME</span>/bin/srvctl stop database -db <span class="variable" translate="no">database_unique_name</span></code></pre><div class="infoboxnote" id="GUID-2FC91C59-35C2-4714-AAD2-9F35E3A4BB4D__GUID-D23333CF-54F9-4E6B-BDFC-CBC8D257C209">
                                       <p class="notep1">Note:</p>
                                       <p>Run the <code class="codeph">srvctl config database</code> command to list all of the databases configured with Oracle Clusterware. Use the <code class="codeph">srvctl config database -db </code><code class="codeph"><span class="variable" translate="no">database_unique_name</span></code> to find the database details. If the <code class="codeph"><span class="variable" translate="no">ORACLE_HOME</span></code> path leads to the Oracle ACFS mount path, then the database uses Oracle ACFS. Use the command output to find the database instance name configured to run on the newly added node.
                                       </p>
                                    </div>
                                 </li>
                                 <li>
                                    <p>Use Windows Server Manager Control to stop and delete services.</p>
                                 </li>
                                 <li>
                                    <p>For each of the databases and database homes collected in step <a href="adding-and-deleting-cluster-nodes.html#GUID-2FC91C59-35C2-4714-AAD2-9F35E3A4BB4D__CFHDFCEI">4.a</a>, run the following command:
                                    </p><pre class="pre codeblock"><code>C:\&gt; <span class="variable" translate="no">ORACLE_HOME</span>/bin/srvctl start database -db <span class="variable" translate="no">database_unique_name</span></code></pre></li>
                              </ol>
                           </li>
                           <li>
                              <p>Run the following command to verify the integrity of the Oracle Clusterware components on all of the configured nodes, both the preexisting nodes and the nodes that you have added:</p><pre class="pre codeblock"><code>C:\&gt;cluvfy stage -post crsinst -n all [-verbose]</code></pre></li>
                        </ol>
                        <p>After you complete the procedure in this section for adding nodes, you can optionally extend Oracle Database with Oracle RAC components to the new nodes, making them members of an existing Oracle RAC database.</p>
                        <div class="infoboxnotealso" id="GUID-2FC91C59-35C2-4714-AAD2-9F35E3A4BB4D__GUID-25382E7A-60CC-4D21-998A-EE16EA3995CE">
                           <p class="notep1">See Also:</p>
                           <p><span><cite>Oracle Real Application Clusters Administration and Deployment Guide</cite></span> for more information about extending Oracle Database with Oracle RAC to new nodes
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2FC91C59-35C2-4714-AAD2-9F35E3A4BB4D__GUID-FBF46B97-D023-4E93-85C3-D91340433B7B">Creating the OraMTS Service for Microsoft Transaction Server</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Oracle Services for Microsoft Transaction Server (OraMTS) permit Oracle databases to be used as resource managers in Microsoft application-coordinated transactions. OraMTS acts as a proxy for the Oracle database to the Microsoft Distributed Transaction Coordinator (MSDTC). As a result, OraMTS provides client-side connection pooling and allows client components that leverage Oracle to participate in promotable and distributed transactions. In addition, OraMTS can operate with Oracle databases running on any operating system, given that the services themselves are run on Windows.</p>
                        <p>On releases earlier than Oracle Database 12<span class="italic">c</span>, the OraMTS service was created as part of a software-only installation. Starting with Oracle Database 12<span class="italic">c</span>, you must use a configuration tool to create this service.
                        </p>
                        <p>Create the OraMTS service after adding a node or performing a software-only installation for Oracle RAC, as follows:</p>
                        <ol>
                           <li>
                              <p>Open a command window.</p>
                           </li>
                           <li>
                              <p>Change directories to <code class="codeph">%ORACLE_HOME%\bin</code>.
                              </p>
                           </li>
                           <li>
                              <p>Run the <code class="codeph">OraMTSCtl</code> utility to create the OraMTS Service, where <code class="codeph"><span class="variable" translate="no">host_name</span></code> is a list of nodes on which the service should be created:
                              </p><pre class="pre codeblock"><code>C:\..bin&gt; oramtsctl.exe -new -host <span class="variable" translate="no">host_name</span></code></pre></li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="adding-and-deleting-cluster-nodes.html#GUID-25D8D7A2-5240-401F-A998-00C4B525413F">Prerequisite Steps for Adding Cluster Nodes</a></li>
                           <li><a href="../racad/adding-and-deleting-oracle-rac-from-nodes-on-windows-systems.html#RACAD-GUID-CAB424F6-5C00-4F3E-A250-7B5CBD991FCE" target="_blank"><span><cite>Oracle Real Application Clusters Administration and Deployment Guide</cite></span></a></li>
                           <li><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/cwadd&amp;id=NTMTS-GUID-DB70DB58-370C-4B98-A559-C5CA94415085" target="_blank"><span><cite>Oracle Services for Microsoft Transaction Server Developer's Guide for Microsoft Windows</cite></span></a></li>
                        </ul>
                     </div>
                     <div class="infoboxnotealso" id="GUID-2FC91C59-35C2-4714-AAD2-9F35E3A4BB4D__GUID-4A09E0EC-345C-4805-8CB6-DC0C66BC2688">
                        <p class="notep1">See Also:</p>
                        <p><span><cite>Oracle Services for Microsoft Transaction Server Developer's Guide for Microsoft Windows</cite></span> for more information about OraMTS, which allows Oracle databases to be used as resource managers in distributed transactions
                        </p>
                     </div>
                  </div>
               </div><a id="CWADD90997"></a><div class="props_rev_3"><a id="GUID-DDED83A3-F1BB-43EB-AFA4-FDAF51E84EAF" name="GUID-DDED83A3-F1BB-43EB-AFA4-FDAF51E84EAF"></a><h4 id="CWADD-GUID-DDED83A3-F1BB-43EB-AFA4-FDAF51E84EAF" class="sect4">Deleting a Cluster Node on Windows Systems</h4>
                  <div>
                     <p>Delete a cluster node from Windows systems.</p>
                     <div class="section">
                        <p>This procedure assumes that Oracle Clusterware is installed on <code class="codeph">node1</code>, <code class="codeph">node2</code>, and <code class="codeph">node3</code>, and that you are deleting <code class="codeph">node3</code> from the cluster.
                        </p>
                        <div class="infoboxnote" id="GUID-DDED83A3-F1BB-43EB-AFA4-FDAF51E84EAF__GUID-2AC16357-57F0-4304-97AE-19969F2FE23A">
                           <p class="notep1">Note:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Oracle does not support using Oracle Enterprise Manager to delete nodes on Windows systems.</p>
                              </li>
                              <li>
                                 <p>If you delete the last node of a cluster that is serviced by GNS, then you must delete the entries for that cluster from GNS.</p>
                              </li>
                              <li>
                                 <p>You can remove the Oracle RAC database instance from the node before removing the node from the cluster but this step is not required. If you do not remove the instance, then the instance is still configured but never runs. Deleting a node from a cluster does not remove a node's configuration information from the cluster. The residual configuration information does not interfere with the operation of the cluster.</p>
                                 <p><span class="bold">See Also:</span> <span><cite>Oracle Real Application Clusters Administration and Deployment Guide</cite></span> for more information about deleting an Oracle RAC database instance
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <p>To delete a cluster node on Windows systems:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Only if you have a local home, on the node you want to delete, run the following command with <code class="codeph">-local</code> option to update the node list:</span><div><pre class="pre codeblock"><code>C:\&gt;<span class="variable" translate="no">Grid_home</span>\oui\bin\setup.exe -updateNodeList ORACLE_HOME=<span class="variable" translate="no">Grid_home</span> "CLUSTER_NODES=
{<span class="variable" translate="no">node_to_be_deleted</span>}" CRS=TRUE -local</code></pre><div class="infoboxnote" id="GUID-DDED83A3-F1BB-43EB-AFA4-FDAF51E84EAF__GUID-D2ACF6C2-92AA-40FB-9600-235FA7F29234">
                                 <p class="notep1">Note:</p>
                                 <p>If you are deleting a non-Hub Node from an Oracle Flex Cluster, then you do not have run this command.</p>
                              </div>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Run the deinstall tool on the node you want to delete to deinstall and deconfigure the Oracle Clusterware home, as follows:</span><div><pre class="pre codeblock"><code>C:\<span class="variable" translate="no">Grid_home</span>\deinstall\&gt;deinstall.bat -local</code></pre><div class="infoboxnote" id="GUID-DDED83A3-F1BB-43EB-AFA4-FDAF51E84EAF__GUID-F26A6633-8B8A-4480-AFC2-14551A3A2356">
                                 <p class="notep1">Caution:</p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>If you do not specify the <code class="codeph">-local</code> flag, then the command removes the Oracle Grid Infrastructure home from every node in the cluster.
                                       </p>
                                    </li>
                                    <li>
                                       <p>If you cut and paste the preceding command, then paste it into a text editor before pasting it to the command line to remove any formatting this document might contain.</p>
                                    </li>
                                 </ul>
                              </div>
                           </div>
                        </li>
                        <li class="stepexpand"><span>On a node that you are not deleting, run the following command:</span><div><pre class="pre codeblock"><code>C:\&gt;<span class="variable" translate="no">Grid_home</span>\bin\crsctl delete node -n <span class="variable" translate="no">node_to_be_deleted</span></code></pre></div>
                        </li>
                        <li class="stepexpand"><span>Run the following CVU command to verify that the specified nodes have been successfully deleted from the cluster:</span><div><pre class="pre codeblock"><code>C:\&gt;cluvfy stage -post nodedel -n <span class="variable" translate="no">node_list</span> [-verbose]</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>If you remove a cluster node on which Oracle Clusterware is down, then determine whether the VIP for the deleted node still exists, as follows:</span><div><pre class="pre codeblock"><code>C:\&gt; <span class="variable" translate="no">ORACLE_HOME</span>/bin/srvctl config vip -node <span class="variable" translate="no">deleted_node_name</span></code></pre><p>If the VIP still exists, then delete it, as follows:</p><pre class="pre codeblock"><code>C:\&gt; <span class="variable" translate="no">ORACLE_HOME</span>/bin/srvctl srvctl stop vip -node <span class="variable" translate="no">deleted_node_name</span>
C:\&gt; <span class="variable" translate="no">ORACLE_HOME</span>/bin/srvctl srvctl remove vip -node <span class="variable" translate="no">deleted_node_name</span></code></pre></div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="../racad/adding-and-deleting-oracle-rac-from-nodes-on-windows-systems.html#RACAD-GUID-7CCBB478-056F-4701-864F-2B18D5748E61" target="_blank"><span><cite>Oracle Real Application Clusters Administration and Deployment Guide</cite></span></a></li>
                           <li><a href="cluster-verification-utility-reference.html#GUID-73A94814-62E0-425C-ABA6-DE1D6DF45747" title="Verifies that specific nodes have been successfully deleted from a cluster. Typically, this command verifies that the node-specific interface configuration details have been removed, the nodes are no longer a part of cluster configuration, and proper Oracle ASM cleanup has been performed.">cluvfy stage -post nodedel</a></li>
                        </ul>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>