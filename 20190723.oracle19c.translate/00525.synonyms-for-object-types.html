<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>对象类型的同义词</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Object-Relational Developer&#39;s Guide "></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Object-Relational Developer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="object-relational-developers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-11T02:05:10-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96436-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="type-dependencies.html" title="Previous" type="text/html"></link>
      <link rel="next" href="performance-tuning.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Object-Relational Developer&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="ADOBJ"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="type-dependencies.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="performance-tuning.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">对象关系开发人员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="managing-oracle-objects.html" property="item" typeof="WebPage"><span property="name">管理Oracle对象</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">对象类型的同义词</li>
            </ol>
            <a id="GUID-863F7925-55CE-453C-98FF-EF247441ACE5" name="GUID-863F7925-55CE-453C-98FF-EF247441ACE5"></a><a id="ADOBJ00404"></a>
            
            <h2 id="ADOBJ-GUID-863F7925-55CE-453C-98FF-EF247441ACE5" class="sect2"><span class="enumeration_section">7.3</span>对象类型的同义词</h2>
         </header>
         <div class="ind">
            <div>
               <p>就像您可以为表，视图和各种其他模式对象创建同义词一样，您也可以为对象类型定义同义词。</p>
               <p>类型的同义词与其他类型的模式对象的同义词具有相同的优点：它们提供了一种与位置无关的方式来引用底层模式对象。使用公共类型同义词的应用程序可以在数据库的任何模式中不加改变地部署，而不需要具有模式名称的限定类型名称。</p>
               <div class="infoboxnotealso" id="GUID-863F7925-55CE-453C-98FF-EF247441ACE5__GUID-B1A6D49F-6822-4CF6-9CC9-1DA51262F8F2">
                  <p class="notep1">也可以看看：</p>
                  <p>有关同义词的更多信息，请参见<a href="../admin/managing-views-sequences-and-synonyms.html#ADMIN11805" target="_blank"><span class="italic">“Oracle数据库管理员指南”</span></a></p>
               </div>
               <p>话题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="synonyms-for-object-types.html#GUID-24E2C8E5-5900-46D3-8632-681B4ACC6714" title="您使用CREATE SYNONYM语句创建类型同义词。">创建类型同义词</a></p>
                  </li>
                  <li>
                     <p><a href="synonyms-for-object-types.html#GUID-26378111-A8E0-4B7C-BE8E-7293FCAE0E1E">使用类型同义词</a></p>
                  </li>
               </ul>
            </div><a id="ADOBJ7653"></a><a id="ADOBJ7371"></a><div class="props_rev_3"><a id="GUID-24E2C8E5-5900-46D3-8632-681B4ACC6714" name="GUID-24E2C8E5-5900-46D3-8632-681B4ACC6714"></a><h3 id="ADOBJ-GUID-24E2C8E5-5900-46D3-8632-681B4ACC6714" class="sect3"><span class="enumeration_section">7.3.1</span>创建类型同义词</h3>
               <div>
                  <p>您使用<code class="codeph">CREATE</code> <code class="codeph">SYNONYM</code>语句创建类型同义词。
                  </p>
                  <div class="section">
                     <p>用户必须已被授予<code class="codeph">CREATE</code> <code class="codeph">SYNONYM</code>和<code class="codeph">CREATE</code> <code class="codeph">PUBLIC SYNONYM</code>权限。
                     </p>
                     <p>例如，这些语句创建一个类型<code class="codeph">typ1</code> ，然后为它创建一个同义词：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-24E2C8E5-5900-46D3-8632-681B4ACC6714__GUID-9B7079F3-7C52-474C-8C60-66B67254F7C1">
                     <p class="titleinexample">例7-11 user1的CREATE TYPE / SYNONYM</p><pre class="oac_no_warn" dir="ltr">- 示例需要Ex.7-1创建user1并授予它CREATE SYNONYM  - 和CREATE PUBLIC SYNONYM权限 - 如果尚未连接，则以user1身份连接。CREATE TYPE typ1 AS OBJECT（x number）; / <span class="bold">CREATE SYNONYM</span> syn1 FOR typ1;</pre></div>
                  <!-- class="example" -->
                  <div class="section">
                     <p>也可以为集合类型创建同义词。以下示例为嵌套表类型创建同义词：</p><pre class="oac_no_warn" dir="ltr">创建类型typ2作为数字表; / <span class="bold">CREATE SYNONYM</span> syn2 FOR typ2;</pre><p>您可以使用<code class="codeph">PUBLIC</code>关键字创建公共同义词：</p><pre class="oac_no_warn" dir="ltr">CREATE TYPE shape AS OBJECT（name VARCHAR2（10））; / CREATE <span class="bold">PUBLIC</span> SYNONYM pub_shape FOR shape;</pre><p>使用<code class="codeph">REPLACE</code>选项，您可以将同义词指向不同的基础类型。例如，以下语句导致<code class="codeph">syn1</code>指向<code class="codeph">typ2</code>类型而不是以前指向的类型：</p><pre class="oac_no_warn" dir="ltr">创建或<span class="bold">替换</span> SYNONYM syn1 FOR typ2;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="ADOBJ7373"></a><a id="ADOBJ7372"></a><div class="props_rev_3"><a id="GUID-26378111-A8E0-4B7C-BE8E-7293FCAE0E1E" name="GUID-26378111-A8E0-4B7C-BE8E-7293FCAE0E1E"></a><h3 id="ADOBJ-GUID-26378111-A8E0-4B7C-BE8E-7293FCAE0E1E" class="sect3"><span class="enumeration_section">7.3.2</span>使用类型同义词</h3>
               <div>
                  <div class="section">
                     <p>您可以在可以引用类型的任何位置使用类型同义词。例如，您可以在DDL语句中使用类型同义词来命名表列或类型属性的类型。</p>
                     <p><a href="synonyms-for-object-types.html#GUID-26378111-A8E0-4B7C-BE8E-7293FCAE0E1E__BCGHHBJD">实施例7-12</a>使用同义词<code class="codeph">syn1</code>来指定类型的属性的类型<code class="codeph">typ3</code> ：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-26378111-A8E0-4B7C-BE8E-7293FCAE0E1E__BCGHHBJD">
                     <p class="titleinexample">示例7-12在Create语句中使用类型同义词</p><pre class="oac_no_warn" dir="ltr">- 需要Ex 7-1并以user1连接 - 如果为Ex创建，则删除syn1和typ1。7-12 CREATE TYPE typ1 AS OBJECT（x编号）; / CREATE SYNONYM syn1 FOR typ1; CREATE TYPE typ3 AS OBJECT（一个syn1）; /</pre></div>
                  <!-- class="example" -->
                  <div class="section">
                     <p>在下一个语句中，类型同义词<code class="codeph">syn1</code>调用对象类型为<code class="codeph">typ1</code>的构造<code class="codeph">typ1</code> ，其中<code class="codeph">syn1</code>是同义词。该语句返回<code class="codeph">typ1</code>的对象实例：</p><pre class="oac_no_warn" dir="ltr">SELECT syn1（0）FROM dual;</pre><p>在下文中， <code class="codeph">syn2</code>是嵌套表类型的同义词。同义词替换<code class="codeph">CAST</code>表达式中的实际类型名称。
                     </p><pre class="oac_no_warn" dir="ltr">SELECT <span class="bold">CAST</span> （MULTISET）（从USER3中选择eno）。EMP）AS syn2）FROM dual;</pre><p>此代码返回以下输出：</p><pre class="pre codeblock"><code>SQL&gt;  - 用于调用构造函数/嵌套表的类型同义词SELECT syn1（0）FROM dual; SELECT CAST（MULTISET）（从USER3中选择eno）。EMP）AS syn2）FROM dual; SQL&gt; SYN1（0）（X）----------------------------------------- ----------------------- TYP1（0）SQL&gt; CAST（MULTISET（SELECTENOFROMUSER3。EMP）ASSYN2）---------------------------------------------- ------------------ TYP2（）</code></pre><p>类型同义词可用于以下类型的语句：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>DML语句： <code class="codeph">SELECT</code> ， <code class="codeph">INSERT</code> ， <code class="codeph">UPDATE</code> ， <code class="codeph">DELETE</code> ， <code class="codeph">FLASHBACK</code> <code class="codeph">TABLE</code> ， <code class="codeph">EXPLAIN</code> <code class="codeph">PLAN</code>和<code class="codeph">LOCK</code> <code class="codeph">TABLE</code></p>
                        </li>
                        <li>
                           <p>DDL声明： <code class="codeph">AUDIT</code> ， <code class="codeph">NOAUDIT</code> ， <code class="codeph">GRANT</code> ， <code class="codeph">REVOKE</code>和<code class="codeph">COMMENT</code></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div><a id="ADOBJ7374"></a><div class="props_rev_3"><a id="GUID-BB0AB1D9-3E5E-4F3E-B9A8-9C800015FEB4" name="GUID-BB0AB1D9-3E5E-4F3E-B9A8-9C800015FEB4"></a><h4 id="ADOBJ-GUID-BB0AB1D9-3E5E-4F3E-B9A8-9C800015FEB4" class="sect4"><span class="enumeration_section">7.3.2.1</span>描述使用同义词的模式对象</h4>
                  <div>
                     <div class="section">
                        <p>如果使用类型同义词创建了类型或表，则<code class="codeph">DESCRIBE</code>命令将显示类型表示的同义词。
                        </p>
                        <p>您可以查询目录视图<code class="codeph">USER_SYNONYMS</code>以查找类型同义词的基础类型。
                        </p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>使用<code class="codeph">DESCRIBE</code>命令显示同义词而不是它们表示的类型。
                              </p>
                           </li>
                        </ul>
                        <p>同样，显示类型名称的目录视图（如<code class="codeph">USER_TYPE_ATTRS</code> ）会在其位置显示类型同义词名称。
                        </p>
                        <div class="infoboxnotealso" id="GUID-BB0AB1D9-3E5E-4F3E-B9A8-9C800015FEB4__GUID-E71D0983-A8DB-45D2-90CE-DC7CEB40AB63">
                           <p class="notep1">也可以看看：</p>
                           <p>有关数据字典目录视图的完整列表，请<a href="../refrn/about-static-data-dictionary-views.html#REFRN002" target="_blank"><span class="italic">参见Oracle数据库参考的</span></a>第2章</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADOBJ7375"></a><div class="props_rev_3"><a id="GUID-31197813-CC6D-4F38-8279-B230EDA99A16" name="GUID-31197813-CC6D-4F38-8279-B230EDA99A16"></a><h4 id="ADOBJ-GUID-31197813-CC6D-4F38-8279-B230EDA99A16" class="sect4"><span class="enumeration_section">7.3.2.2</span>类型同义词的家属</h4>
                  <div>
                     <p>直接或间接引用其类型声明中的同义词的类型是该同义词的依赖。因此，在<a href="synonyms-for-object-types.html#GUID-26378111-A8E0-4B7C-BE8E-7293FCAE0E1E__BCGHHBJD">示例7-12</a>的以下行中，类型<code class="codeph">typ3</code>是同义词<code class="codeph">syn1</code>的依赖类型。
                     </p><pre class="oac_no_warn" dir="ltr">CREATE TYPE typ3 AS OBJECT（一个syn1）; /</pre><p>在DDL语句中引用同义词的其他类型的模式对象也成为这些同义词的依赖项。依赖于类型同义词的对象取决于同义词的同义词和基础类型。</p>
                     <p>同义词的依赖关系会影响您删除或重命名同义词的能力。依赖模式对象也受到对同义词的一些操作的影响。以下部分描述了这些不同的后果。</p>
                  </div>
               </div><a id="ADOBJ7376"></a><div class="props_rev_3"><a id="GUID-6ECFD785-E88C-4CF9-BEDE-9B8BDAAB231F" name="GUID-6ECFD785-E88C-4CF9-BEDE-9B8BDAAB231F"></a><h4 id="ADOBJ-GUID-6ECFD785-E88C-4CF9-BEDE-9B8BDAAB231F" class="sect4"><span class="enumeration_section">7.3.2.3</span>替换类型同义词的限制</h4>
                  <div>
                     <p>只有在没有依赖表或有效的用户定义类型的情况下，才能替换同义词。替换同义词等同于删除它，然后重新创建具有相同名称的新同义词。</p>
                  </div>
               </div><a id="ADOBJ7378"></a><a id="ADOBJ7377"></a><div class="props_rev_3"><a id="GUID-18B69C46-D8E9-4A9C-959E-940446D45CFC" name="GUID-18B69C46-D8E9-4A9C-959E-940446D45CFC"></a><h4 id="ADOBJ-GUID-18B69C46-D8E9-4A9C-959E-940446D45CFC" class="sect4"><span class="enumeration_section">7.3.2.4</span>删除类型同义词</h4>
                  <div>
                     <div class="section">
                        <p>您删除<code class="codeph">DROP</code> <code class="codeph">SYNONYM</code>语句的<code class="codeph">SYNONYM</code> ，如<a href="synonyms-for-object-types.html#GUID-18B69C46-D8E9-4A9C-959E-940446D45CFC__BCGHBDAB">例7-13</a>所示。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-18B69C46-D8E9-4A9C-959E-940446D45CFC__BCGHBDAB">
                        <p class="titleinexample">例7-13删除类型同义词</p><pre class="oac_no_warn" dir="ltr">为typ1创建SYNONYM syn4; DROP SYNONYM syn4;</pre></div>
                     <!-- class="example" -->
                     <div class="section">
                        <p>除非使用<code class="codeph">FORCE</code>选项，否则如果它具有表或有效对象类型作为依赖项，则不能删除类型同义词。<code class="codeph">FORCE</code>选项会导致任何直接或间接依赖于同义词的列被标记为未使用，就像删除了列的实际类型一样。（例如，如果同义词用于指定声明的列类型的属性类型，则列间接依赖于同义词。）
                        </p>
                        <p>丢弃的同义词的任何从属模式对象都将失效。可以通过创建本地对象或与删除的同义词同名的新公共同义词来重新验证它们。</p>
                        <p>删除类型同义词的基础类型对依赖对象的影响与删除同义词相同。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADOBJ7379"></a><div class="props_rev_3"><a id="GUID-6337A44A-BDA3-4243-BDFC-DC65EBF41535" name="GUID-6337A44A-BDA3-4243-BDFC-DC65EBF41535"></a><h4 id="ADOBJ-GUID-6337A44A-BDA3-4243-BDFC-DC65EBF41535" class="sect4"><span class="enumeration_section">7.3.2.5</span>重命名类型同义词</h4>
                  <div>
                     <div class="section">
                        <p>您可以使用<code class="codeph">RENAME</code>语句重命名类型同义词。重命名同义词等同于删除它，然后使用新名称重新创建它。如果类型同义词具有依赖表或有效对象类型，则无法重命名该类型同义词。以下示例失败，因为同义词<code class="codeph">syn1</code>具有从属对象类型：</p><pre class="oac_no_warn" dir="ltr">RENAME syn1 TO syn3  - 无效语句;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADOBJ7380"></a><div class="props_rev_3"><a id="GUID-CAF3B31D-5218-46C6-9C98-42BD8D7B7021" name="GUID-CAF3B31D-5218-46C6-9C98-42BD8D7B7021"></a><h4 id="ADOBJ-GUID-CAF3B31D-5218-46C6-9C98-42BD8D7B7021" class="sect4"><span class="enumeration_section">7.3.2.6</span>公共类型同义词和本地模式对象</h4>
                  <div>
                     <p>如果公共同义词在将保存新架构对象的本地架构中具有依赖表或有效对象类型，则无法创建与公共同义词同名的本地架构对象。您也不能创建与同一模式中的私有同义词同名的本地模式对象。</p>
                     <p>例如，在以下示例中，table <code class="codeph">shape_tab</code>是公共同义词<code class="codeph">pub_shape</code>的从属表，因为该表具有在其类型定义中使用同义词的列。因此，尝试在与依赖表相同的模式中创建与公共同义词<code class="codeph">pub_shape</code>同名的表失败：</p><pre class="oac_no_warn" dir="ltr">- 以下使用公共同义词pub_shape CREATE TABLE shape_tab（c1 pub_shape）; - 不允许以下CREATE TABLE pub_shape（c1 NUMBER） - 无效语句;</pre></div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>