<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>定义呼叫规范</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Java Developer&#39;s Guide "></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Java Developer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="java-developers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-11T00:55:24-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1999, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96468-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="about-call-specifications.html" title="Previous" type="text/html"></link>
      <link rel="next" href="writing-top-level-call-specifications.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Java Developer&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="JJDEV"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="about-call-specifications.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="writing-top-level-call-specifications.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Java开发人员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="publishing-Java-classes.html" property="item" typeof="WebPage"><span property="name">使用呼叫规范发布Java类</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">定义呼叫规范</li>
            </ol>
            <a id="GUID-61370303-0F46-4FAC-8CDB-EBC42F08AE68" name="GUID-61370303-0F46-4FAC-8CDB-EBC42F08AE68"></a><a id="JJDEV13258"></a>
            
            <h2 id="JJDEV-GUID-61370303-0F46-4FAC-8CDB-EBC42F08AE68" class="sect2"><span class="enumeration_section">7.2</span>定义呼叫规范</h2>
         </header>
         <div class="ind">
            <div>
               <div class="section">
                  <p>除非Java方法具有<code class="codeph">PUBLIC</code>同义词，否则它发布的调用规范和Java方法必须位于同一模式中。您可以将调用规范声明为：</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <ul style="list-style-type:disc">
                     <li>
                        <p>独立的PL / SQL函数或过程</p>
                     </li>
                     <li>
                        <p>打包的PL / SQL函数或过程</p>
                     </li>
                     <li>
                        <p>SQL对象类型的成员方法</p>
                     </li>
                  </ul>
                  <p>调用规范将Java方法的顶级入口点公开给Oracle数据库。因此，您只能发布<code class="codeph">public</code> <code class="codeph">static</code>方法。但是，有一个例外。您可以将实例方法发布为SQL对象类型的成员方法。
                  </p>
                  <p>打包的呼叫规范与顶级呼叫规范一样。因此，为了便于维护，您可能希望将呼叫规范放在包体中。这将帮助您修改调用规范，而不会使其他模式对象失效。此外，您可以重载呼叫规范。</p>
                  <p>本节包括以下主题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="defining-call-specifications.html#GUID-87526982-2255-41E3-9706-191A3CE43B60">关于设置参数模式</a></p>
                     </li>
                     <li>
                        <p><a href="defining-call-specifications.html#GUID-698850EA-53C0-42C3-84A3-9A590BB15123">关于映射数据类型</a></p>
                     </li>
                     <li>
                        <p><a href="defining-call-specifications.html#GUID-6C4C60D2-2D1A-4A32-8062-C3CF8E77AC22">使用服务器端内部JDBC驱动程序</a></p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
            </div><a id="JJDEV13259"></a><div class="props_rev_3"><a id="GUID-87526982-2255-41E3-9706-191A3CE43B60" name="GUID-87526982-2255-41E3-9706-191A3CE43B60"></a><h3 id="JJDEV-GUID-87526982-2255-41E3-9706-191A3CE43B60" class="sect3"><span class="enumeration_section">7.2.1</span>关于设置参数模式</h3>
               <div>
                  <p>在Java和其他面向对象语言中，方法不能将值赋给作为参数传递的对象。从SQL或PL / SQL调用方法时，要更改参数的值，必须在调用规范中将其声明为<code class="codeph">OUT</code>或<code class="codeph">IN OUT</code>参数。相应的Java参数必须是只包含一个元素的数组。
                  </p>
                  <p>您可以使用相应类型的另一个Java对象替换元素值，或者如果Java类型允许，您可以修改该值。无论哪种方式，新值都会传播回调用者。例如，将<code class="codeph">NUMBER</code>类型的调用规范<code class="codeph">OUT</code>参数映射到声明为<code class="codeph">float[]</code> <code class="codeph">p</code>的Java参数，然后将新值分配给<code class="codeph">p[0]</code> 。
                  </p>
                  <div class="infoboxnote" id="GUID-87526982-2255-41E3-9706-191A3CE43B60__GUID-26694B7B-848E-4179-8766-ACBEC56058AF">
                     <p class="notep1">注意：</p>
                     <p>无法从SQL数据操作语言（DML）语句调用声明<code class="codeph">OUT</code>或<code class="codeph">IN</code> <code class="codeph">OUT</code>参数的函数。
                     </p>
                  </div>
               </div>
            </div><a id="JJDEV13261"></a><a id="JJDEV13260"></a><div class="props_rev_3"><a id="GUID-698850EA-53C0-42C3-84A3-9A590BB15123" name="GUID-698850EA-53C0-42C3-84A3-9A590BB15123"></a><h3 id="JJDEV-GUID-698850EA-53C0-42C3-84A3-9A590BB15123" class="sect3"><span class="enumeration_section">7.2.2</span>关于映射数据类型</h3>
               <div>
                  <div class="section">
                     <p>在调用规范中，相应的SQL和Java参数和函数结果必须具有兼容的数据类型。</p>
                     <p><a href="defining-call-specifications.html#GUID-698850EA-53C0-42C3-84A3-9A590BB15123__BABHCEIG" title="合法数据类型映射表">表7-1</a>列出了合法数据类型映射。Oracle数据库自动在SQL类型和Java类之间进行转换。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-698850EA-53C0-42C3-84A3-9A590BB15123__BABHCEIG">
                     <p class="titleintable">表7-1法律数据类型映射</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="法律数据类型映射" width="100%" border="1" summary="Legal data type mappings table" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="31%" id="d26590e384">SQL类型</th>
                              <th align="left" valign="bottom" width="69%" id="d26590e387">Java类</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d26590e392" headers="d26590e384 ">
                                 <p><code class="codeph">CHAR</code> ， <code class="codeph">VARCHAR2</code> ， <code class="codeph">LONG</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d26590e392 d26590e387 ">
                                 <p><code class="codeph">java.lang中。串</code></p>
                                 <p><code class="codeph">oracle.sql。CHAR</code></p>
                                 <p><code class="codeph">oracle.sql。ROWID</code></p>
                                 <p><code class="codeph">字节[]</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d26590e416" headers="d26590e384 ">
                                 <p><code class="codeph">数</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d26590e416 d26590e387 ">
                                 <p><code class="codeph">布尔</code></p>
                                 <p><code class="codeph">烧焦</code></p>
                                 <p><code class="codeph">字节</code></p>
                                 <p><code class="codeph">字节[]</code></p>
                                 <p><code class="codeph">短</code></p>
                                 <p><code class="codeph">INT</code></p>
                                 <p><code class="codeph">长</code></p>
                                 <p><code class="codeph">浮动</code></p>
                                 <p><code class="codeph">双</code></p>
                                 <p><code class="codeph">java.lang中。字节</code></p>
                                 <p><code class="codeph">java.lang中。短</code></p>
                                 <p><code class="codeph">java.lang中。整数</code></p>
                                 <p><code class="codeph">java.lang中。长</code></p>
                                 <p><code class="codeph">java.lang中。浮动</code></p>
                                 <p><code class="codeph">java.lang中。双</code></p>
                                 <p><code class="codeph">java.math中。BigDecimal的</code></p>
                                 <p><code class="codeph">oracle.sql。数</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d26590e474" headers="d26590e384 ">
                                 <p><code class="codeph">BINARY_INTEGER</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d26590e474 d26590e387 ">
                                 <p><code class="codeph">布尔</code></p>
                                 <p><code class="codeph">烧焦</code></p>
                                 <p><code class="codeph">字节</code></p>
                                 <p><code class="codeph">字节[]</code></p>
                                 <p><code class="codeph">短</code></p>
                                 <p><code class="codeph">INT</code></p>
                                 <p><code class="codeph">长</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d26590e501" headers="d26590e384 ">
                                 <p><code class="codeph">BINARY_FLOAT</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d26590e501 d26590e387 ">
                                 <p><code class="codeph">oracle.sql。BINARY_FLOAT</code></p>
                                 <p><code class="codeph">字节[]</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d26590e513" headers="d26590e384 ">
                                 <p><code class="codeph">BINARY_DOUBLE</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d26590e513 d26590e387 ">
                                 <p><code class="codeph">oracle.sql。BINARY_DOUBLE</code></p>
                                 <p><code class="codeph">字节[]</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d26590e525" headers="d26590e384 ">
                                 <p><code class="codeph">日期</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d26590e525 d26590e387 ">
                                 <p><code class="codeph">oracle.sql。日期</code></p>
                                 <p><code class="codeph">字节[]</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d26590e537" headers="d26590e384 ">
                                 <p><code class="codeph">生的</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d26590e537 d26590e387 ">
                                 <p><code class="codeph">oracle.sql。生的</code></p>
                                 <p><code class="codeph">字节[]</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d26590e549" headers="d26590e384 ">
                                 <p><code class="codeph">BLOB</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d26590e549 d26590e387 ">
                                 <p><code class="codeph">oracle.sql。BLOB</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d26590e558" headers="d26590e384 ">
                                 <p><code class="codeph">CLOB</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d26590e558 d26590e387 ">
                                 <p><code class="codeph">oracle.sql。CLOB</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d26590e567" headers="d26590e384 ">
                                 <p><code class="codeph">BFILE</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d26590e567 d26590e387 ">
                                 <p><code class="codeph">oracle.sql。BFILE</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d26590e576" headers="d26590e384 ">
                                 <p><code class="codeph">ROWID</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d26590e576 d26590e387 ">
                                 <p><code class="codeph">oracle.sql。ROWID</code></p>
                                 <p><code class="codeph">字节[]</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d26590e589" headers="d26590e384 ">
                                 <p><code class="codeph">TIMESTAMP</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d26590e589 d26590e387 ">
                                 <p><code class="codeph">oracle.sql。TIMESTAMP</code></p>
                                 <p><code class="codeph">字节[]</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d26590e601" headers="d26590e384 ">
                                 <p><code class="codeph">TIMESTAMP与时区</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d26590e601 d26590e387 ">
                                 <p><code class="codeph">oracle.sql。TIMESTAMPTZ</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d26590e610" headers="d26590e384 ">
                                 <p><code class="codeph">TIMESTAMP与当地时区</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d26590e610 d26590e387 ">
                                 <p><code class="codeph">oracle.sql。TIMESTAMPLTZ</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d26590e619" headers="d26590e384 ">
                                 <p>引用光标</p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d26590e619 d26590e387 ">
                                 <p>j <code class="codeph">ava.sql.结果集</code></p>
                                 <p><code class="codeph">sqlj.runtime。ResultSetIterator</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d26590e631" headers="d26590e384 ">
                                 <p>用户定义的命名类型，ADT</p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d26590e631 d26590e387 ">
                                 <p><code class="codeph">oracle.sql。STRUCT</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d26590e639" headers="d26590e384 ">
                                 <p>不透明的命名类型</p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d26590e639 d26590e387 ">
                                 <p><code class="codeph">oracle.sql。不透明</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d26590e647" headers="d26590e384 ">
                                 <p>嵌套表和VARRAY命名类型</p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d26590e647 d26590e387 ">
                                 <p><code class="codeph">oracle.sql。ARRAY</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d26590e655" headers="d26590e384 ">
                                 <p>对命名类型的引用</p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d26590e655 d26590e387 ">
                                 <p><code class="codeph">oracle.sql。REF</code></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>您还必须考虑以下事项：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>最后四种SQL类型统称为命名类型。</p>
                        </li>
                        <li>
                           <p>除<code class="codeph">BLOB</code> ， <code class="codeph">CLOB</code> ， <code class="codeph">BFILE</code> ， <code class="codeph">REF</code> <code class="codeph">CURSOR</code>和命名类型之外的所有SQL类型都可以映射到Java类型<code class="codeph">byte[]</code> ，它是一个Java字节数组。在这种情况下，参数转换意味着将SQL值的原始二进制表示复制到Java字节数组或从Java字节数组复制。
                           </p>
                        </li>
                        <li>
                           <p>实现<code class="codeph">ORAData</code>接口和相关方法的Java类，或者作为表中出现的<code class="codeph">oracle.sql</code>类的子类的Java类，可以从除<code class="codeph">BINARY_INTEGER</code>和<code class="codeph">REF</code> <code class="codeph">CURSOR</code>之外的SQL类型映射。</p>
                        </li>
                        <li>
                           <p>不支持<code class="codeph">UROWID</code>类型和<code class="codeph">NUMBER</code>子类型，例如<code class="codeph">INTEGER</code>和<code class="codeph">REAL</code> 。
                           </p>
                        </li>
                        <li>
                           <p>无法从<code class="codeph">LONG</code>或<code class="codeph">LONG RAW</code>列检索大于32 KB的值到Java存储过程中。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="JJDEV13263"></a><a id="JJDEV13262"></a><div class="props_rev_3"><a id="GUID-6C4C60D2-2D1A-4A32-8062-C3CF8E77AC22" name="GUID-6C4C60D2-2D1A-4A32-8062-C3CF8E77AC22"></a><h3 id="JJDEV-GUID-6C4C60D2-2D1A-4A32-8062-C3CF8E77AC22" class="sect3"><span class="enumeration_section">7.2.3</span>使用服务器端内部JDBC驱动程序</h3>
               <div>
                  <div class="section">
                     <p>Java数据库连接（JDBC）使您可以使用<code class="codeph">DriverManager</code>类建立与数据库的连接，该类管理一组JDBC驱动程序。加载JDBC驱动程序后，可以使用<code class="codeph">getConnection()</code>方法。当<code class="codeph">getConnection()</code>方法找到正确的驱动程序时，它返回表示数据库会话的<code class="codeph">Connection</code>对象。所有SQL语句都在该会话的上下文中运行。
                     </p>
                     <p>但是，服务器端内部JDBC驱动程序在默认会话和默认事务上下文中运行。因此，您已连接到数据库，并且所有SQL操作都是默认事务的一部分。您无需注册驱动程序，因为它已预先注册。要获取<code class="codeph">Connection</code>对象，请运行以下代码行：</p><pre class="oac_no_warn" dir="ltr">Connection conn = DriverManager.getConnection（“jdbc：default：connection：”）;</pre><p>对不使用<code class="codeph">IN</code>参数且仅运行一次的SQL语句使用<code class="codeph">Statement</code>类。在<code class="codeph">Connection</code>对象上调用时， <code class="codeph">createStatement()</code>方法返回一个新的<code class="codeph">Statement</code>对象，如下所示：</p><pre class="oac_no_warn" dir="ltr">String sql =“DROP”+ object_type +“”+ object_name;语句stmt = conn.createStatement（）; stmt.executeUpdate（SQL）;</pre><p>对于采用<code class="codeph">IN</code>参数或多次运行的SQL语句，请使用<code class="codeph">PreparedStatement</code>类。可以包含一个或多个参数占位符的SQL语句是预编译的。问号（？）作为占位符。在<code class="codeph">Connection</code>对象上调用时， <code class="codeph">prepareStatement()</code>方法返回一个新的<code class="codeph">PreparedStatement</code>对象，该对象包含预编译的SQL语句。例如：</p><pre class="oac_no_warn" dir="ltr">String sql =“DELETE FROM dept WHERE deptno =？“; PreparedStatement pstmt = conn.prepareStatement（sql）; pstmt.setInt（1，deptID）; pstmt.executeUpdate（）;</pre><p><code class="codeph">ResultSet</code>对象包含SQL查询结果，即满足搜索条件的行。您可以使用<code class="codeph">next()</code>方法移动到下一行，然后该行成为当前行。您可以使用<code class="codeph">get</code> <span class="italic"><code class="codeph">XXX</code></span> <code class="codeph">()</code>方法从当前行检索列值。例如：</p><pre class="oac_no_warn" dir="ltr">String sql =“SELECT COUNT（*）FROM”+ tabName; int rows = 0;语句stmt = conn.createStatement（）; ResultSet rset = stmt.executeQuery（sql）; while（rset.next（））{rows = rset.getInt（1）; }</pre><p><code class="codeph">CallableStatement</code>对象允许您调用存储过程。它包含调用文本，可包括返回参数和任意数量的<code class="codeph">IN</code> ， <code class="codeph">OUT</code>和<code class="codeph">IN OUT</code>参数。该调用使用escape子句编写，该子句由大括号（ <code class="codeph">{}</code> ）分隔。如以下示例所示，转义语法有三种形式：</p><pre class="oac_no_warn" dir="ltr">//无参数存储过程CallableStatement cstmt = conn.prepareCall（“{CALL proc}”）; //存储过程CallableStatement cstmt = conn.prepareCall（“{CALL proc（？，？）}“）; //存储函数CallableStatement cstmt = conn.prepareCall（”{？= CALL函数（？，？）}“）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-6C4C60D2-2D1A-4A32-8062-C3CF8E77AC22__GUID-68DD85A1-9BAF-4362-8901-184A40D535DA">重点</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>在开发访问存储过程的JDBC应用程序时，必须考虑以下事项：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>每个Oracle JVM会话都与其所在的数据库会话具有单个隐式本机连接。此连接是概念性的，不是Java对象。它是会话的固有方面，无法在JVM中打开或关闭。</p>
                        </li>
                        <li>
                           <p>服务器端内部JDBC驱动程序在默认事务上下文中运行。您已连接到数据库，并且所有SQL操作都是默认事务的一部分。请注意，此事务是本地事务，而不是全局事务的一部分，例如由Java Transaction API（JTA）或Java Transaction Service（JTS）实现的事务。</p>
                        </li>
                        <li>
                           <p>语句和结果集在调用之间保持不变，并且它们的终结器不会释放数据库游标。为避免游标用完，请在使用完毕后关闭所有语句和结果集。或者，您可以要求DBA提高初始化参数<code class="codeph">OPEN_CURSORS</code>设置的限制。</p>
                        </li>
                        <li>
                           <p>服务器端内部JDBC驱动程序不支持自动提交。因此，您的应用程序必须显式提交或回滚数据库更改。</p>
                        </li>
                        <li>
                           <p>您无法使用服务器端内部JDBC驱动程序连接到远程数据库。您只能连接到运行Java程序的服务器。对于服务器到服务器的连接，请使用服务器端JDBC Thin驱动程序。对于客户端/服务器连接，请使用客户端JDBC Thin或JDBC Oracle调用接口（OCI）驱动程序。</p>
                        </li>
                        <li>
                           <p>通常，您不应关闭默认连接实例，因为它是可以存储在多个位置的单个实例，如果关闭实例，则每个实例都将变为不可用。如果它关闭，稍后调用<code class="codeph">OracleDriver.defaultConnection</code>方法将获得一个新的打开实例。<code class="codeph">OracleDataSource.getConnection</code>方法每次调用它时都会返回一个新对象，但每次都不会创建新的数据库连接。它们都使用相同的隐式本机连接并共享相同的会话状态，特别是本地事务。
                           </p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-6C4C60D2-2D1A-4A32-8062-C3CF8E77AC22__GUID-0BDC1EDE-D3B3-4459-B8CA-054C79A8E918">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="../jjdbc/introducing-JDBC.html#JJDBC-GUID-864DB502-5E50-4044-8132-33D6AAF8927A" target="_blank"><span><cite>Oracle数据库JDBC开发人员指南</cite></span></a></p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html>