<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="Oracle Database 12c includes improvements to the upgrade process, and to how upgrade status appears for the upgraded database.">
      <meta name="description" content="Oracle Database 12c includes improvements to the upgrade process, and to how upgrade status appears for the upgraded database.">
      <title>Improvements to Data Dictionary Upgrade and Upgrade Status Displays</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Database Upgrade Guide">
      <meta property="og:description" content="Oracle Database 12c includes improvements to the upgrade process, and to how upgrade status appears for the upgraded database.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Database Upgrade Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-upgrade-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-04-25T08:26:31-07:00">
      <meta name="dcterms.title" content="Database Upgrade Guide">
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96252-05">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="manual-upgrade-scenarios-multitenant-architecture-oracle-databases.html" title="Previous" type="text/html">
      <link rel="next" href="dbupgrade-scripts-catupgrd.sql-earlier-release.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="UPGRD">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="manual-upgrade-scenarios-multitenant-architecture-oracle-databases.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="dbupgrade-scripts-catupgrd.sql-earlier-release.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Database Upgrade Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="upgrading-oracle-database.html" property="item" typeof="WebPage"><span property="name">Upgrading Oracle Database</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Improvements to Data Dictionary Upgrade and Upgrade Status Displays</li>
            </ol>
            <a id="GUID-62179D93-837E-41E2-A8D9-D8B697AC6902" name="GUID-62179D93-837E-41E2-A8D9-D8B697AC6902"></a><a id="UPGRD52887"></a>
            
            <h2 id="UPGRD-GUID-62179D93-837E-41E2-A8D9-D8B697AC6902" class="sect2">Improvements to Data Dictionary Upgrade and Upgrade Status Displays</h2>
         </header>
         <div class="ind">
            <div>
               <p>Oracle Database 12<span class="italic">c</span> includes improvements to the upgrade process, and to how upgrade status appears for the upgraded database.
               </p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="improvements-data-dictionary-upgrade-and-upgrade-status-displays.html#GUID-B59A686C-BF95-41EE-B92E-D6F3B31A0F13">Upgrading the Data Dictionary in Parallel with Parallel Upgrade Utility</a><br>Upgrading the data dictionary in Oracle Database is now done in parallel with the Parallel Upgrade Utility, which speeds up the upgrade process.
                  </li>
                  <li class="ulchildlink"><a href="improvements-data-dictionary-upgrade-and-upgrade-status-displays.html#GUID-34429081-C0F4-4C8F-AB66-6A0D1A02977A">Change to Upgrade Status Setting</a><br>Starting in Oracle Database 12<span class="italic">c</span> release 1 and later releases, the meaning of the UPGRADED status has changed. 
                  </li>
                  <li class="ulchildlink"><a href="improvements-data-dictionary-upgrade-and-upgrade-status-displays.html#GUID-B82C8A96-9A9B-4465-A509-6D4A2702C571">Change to Status After Running the Recompilation utlrp.sql Script</a><br>To ensure that database users obtain expected performance after upgrades, Oracle recommends that you run the <code class="codeph">utlrp.sql</code> script. 
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>Parent topic:</strong> <a href="upgrading-oracle-database.html#GUID-CC88F262-3370-4FFA-8604-EDA9F20F56D9" title="Oracle provides a comprehensive set of tools for upgrading Oracle Database with minimal downtime and for migrating your applications to the new release.">Upgrading Oracle Database</a></p>
                  </div>
               </div>
            </div>
            <a id="UPGRD52888"></a><div class="props_rev_3"><a id="GUID-B59A686C-BF95-41EE-B92E-D6F3B31A0F13" name="GUID-B59A686C-BF95-41EE-B92E-D6F3B31A0F13"></a><h3 id="UPGRD-GUID-B59A686C-BF95-41EE-B92E-D6F3B31A0F13" class="sect3">Upgrading the Data Dictionary in Parallel with Parallel Upgrade Utility</h3>
               <div>
                  <p>Upgrading the data dictionary in Oracle Database is now done in parallel with the Parallel Upgrade Utility, which speeds up the upgrade process.</p>
                  <p>Instead of one SQL process loading the data dictionary, you can now have multiple processes, depending on your serverâ€™s CPU capacity. The Parallel Upgrade Utility (<code>catctl.pl</code>, which you can run from the command line using <code>dbupgrade</code> on Linux and Unix, and <code>dbupgrade.com</code> on Windows) loads data into the dictionary as fast as possible, and defers any work that can be done in <code>normal</code> mode instead of <code>upgrade</code> mode. Upgrading the database using the Parallel Upgrade Utility reduces overall downtime.
                  </p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="improvements-data-dictionary-upgrade-and-upgrade-status-displays.html#GUID-62179D93-837E-41E2-A8D9-D8B697AC6902" title="Oracle Database 12c includes improvements to the upgrade process, and to how upgrade status appears for the upgraded database.">Improvements to Data Dictionary Upgrade and Upgrade Status Displays</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="UPGRD52889"></a><div class="props_rev_3"><a id="GUID-34429081-C0F4-4C8F-AB66-6A0D1A02977A" name="GUID-34429081-C0F4-4C8F-AB66-6A0D1A02977A"></a><h3 id="UPGRD-GUID-34429081-C0F4-4C8F-AB66-6A0D1A02977A" class="sect3">Change to Upgrade Status Setting</h3>
               <div>
                  <p>Starting in Oracle Database 12<span class="italic">c</span> release 1 and later releases, the meaning of the UPGRADED status has changed. 
                  </p>
                  <p>When the upgrade is complete, and if there are no errors during the upgrade, then the status of the Oracle Server, Oracle Multimedia (ORDIM), Spatial (SDO) and XDB are all set to <code class="codeph">UPGRADED</code>. This behavior is different from releases earlier than 12.1. In earlier releases, the status of the Oracle Server, Oracle Multimedia (ORDIM), Spatial (SDO) and XDB was set to <code class="codeph">VALID</code> after upgrading. In 12.1 and later releases, the <code class="codeph">UPGRADED</code> status indicates that the data dictionary has loaded without any errors. If any errors are logged to <code class="codeph">registry$error</code>, then the status of the upgrade is set to <code class="codeph">INVALID</code>.
                  </p>
                  <p>When the upgrade is complete and if there are no errors, then the status of the database is set to <code class="codeph">UPGRADED</code>. This behavior differs from earlier releases where the status of the database was set to <code class="codeph">VALID</code> after upgrading. The <code class="codeph">UPGRADED</code> status indicates that the data dictionary has been loaded without any errors. If any errors are logged to <code class="codeph">registry$error</code>, then the status of the upgrade is set to <code class="codeph">INVALID</code>.
                  </p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="improvements-data-dictionary-upgrade-and-upgrade-status-displays.html#GUID-62179D93-837E-41E2-A8D9-D8B697AC6902" title="Oracle Database 12c includes improvements to the upgrade process, and to how upgrade status appears for the upgraded database.">Improvements to Data Dictionary Upgrade and Upgrade Status Displays</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="UPGRD52890"></a><div class="props_rev_3"><a id="GUID-B82C8A96-9A9B-4465-A509-6D4A2702C571" name="GUID-B82C8A96-9A9B-4465-A509-6D4A2702C571"></a><h3 id="UPGRD-GUID-B82C8A96-9A9B-4465-A509-6D4A2702C571" class="sect3">Change to Status After Running the Recompilation utlrp.sql Script</h3>
               <div>
                  <p>To ensure that database users obtain expected performance after upgrades, Oracle recommends that you run the <code class="codeph">utlrp.sql</code> script. 
                  </p>
                  <p>In earlier releases of Oracle Database after upgrading a database, <code class="codeph">VALID</code> meant that all objects in the data dictionary have been recompiled and are ready for use. In Oracle Database 12c and later releases, obtaining a <code class="codeph">VALID</code> status has a different meaning. Running the <code class="codeph">utlrp.sql</code> script in <span class="italic">normal</span> mode recompiles data dictionary objects and moves the data dictionary from an <code class="codeph">UPGRADED</code> status to a <code class="codeph">VALID</code> status.
                  </p>
                  <p>Oracle cannot guarantee that the database upgrade is <span class="italic">valid</span> unless <code class="codeph">utlrp.sql</code> has been run after upgrading and before starting the upgraded database for the first time. Not running <code class="codeph">utlrp.sql</code> after performing an upgrade forces data dictionary objects to compile during their first access. The first user accessing the database suffers the performance cost for each invalid object accessed during this initial access. After these invalid objects are recompiled, normal processing returns. Running <code class="codeph">utlrp.sql</code> ensures that the database is ready for use after upgrading. Any errors found are reported immediately. You can fix them before users of the upgraded database encounter problems.
                  </p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="improvements-data-dictionary-upgrade-and-upgrade-status-displays.html#GUID-62179D93-837E-41E2-A8D9-D8B697AC6902" title="Oracle Database 12c includes improvements to the upgrade process, and to how upgrade status appears for the upgraded database.">Improvements to Data Dictionary Upgrade and Upgrade Status Displays</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html>