<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>将企业用户安全性与Microsoft Active Directory集成</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Enterprise User Security Administrator&#39;s Guide"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Enterprise User Security Administrator&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="enterprise-user-security-administrators-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-11T05:14:01-08:00"></meta>
      <meta name="dcterms.title" content="Enterprise User Security Administrator&#39;s Guide"></meta>
      <meta name="dcterms.dateCopyrighted" content="2000, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96086-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="ssl-external-users-conversion-script.html" title="Previous" type="text/html"></link>
      <link rel="next" href="upgrading-from-oracle9i-to-oracle-database-12c-release-12-2.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="DBIMI"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="ssl-external-users-conversion-script.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="upgrading-from-oracle9i-to-oracle-database-12c-release-12-2.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">企业用户安全管理员指南</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">将企业用户安全性与Microsoft Active Directory集成</li>
            </ol>
            <a id="GUID-BE9B2E2D-CC4A-4516-B4EF-41BC58038593" name="GUID-BE9B2E2D-CC4A-4516-B4EF-41BC58038593"></a><a id="DBIMI350"></a>
            
            <h2 id="DBIMI-GUID-BE9B2E2D-CC4A-4516-B4EF-41BC58038593" class="sect2"><span class="enumeration_appendix">C</span>将企业用户安全性与Microsoft Active Directory集成</h2>
         </header>
         <div class="ind">
            <div>
               <div class="p">本附录列出了使用kerberos进行身份验证将Enterprise User Security与Microsoft Active Directory集成所涉及的步骤。它包括以下部分：<ul style="list-style-type:disc">
                     <li>
                        <p><a href="integrating-enterprise-user-security-with-microsoft-active-directory.html#GUID-AD9ACC84-D0EF-4281-8A9E-2916E5BA2AF4" title="Oracle数据库18c版，18.1版及更高版本支持使用新的集中管理用户功能与Microsoft Active Directory（MSAD）直接集成。">关于与Microsoft Active Directory的直接集成</a></p>
                     </li>
                     <li>
                        <p><a href="integrating-enterprise-user-security-with-microsoft-active-directory.html#GUID-D3F3FC53-D2D9-4480-9418-AB45C5520B8D">设置Active Directory和Oracle Internet Directory之间的同步</a></p>
                     </li>
                     <li>
                        <p><a href="integrating-enterprise-user-security-with-microsoft-active-directory.html#GUID-ED7971A5-4969-4D3D-9C1F-5C835CEFDDF9">设置Active Directory以与Oracle客户端进行互操作</a></p>
                     </li>
                     <li>
                        <p><a href="integrating-enterprise-user-security-with-microsoft-active-directory.html#GUID-589A70B8-9871-4864-8820-13CFF9D83405">设置Oracle数据库以与Microsoft Active Directory互操作</a></p>
                     </li>
                     <li>
                        <p><a href="integrating-enterprise-user-security-with-microsoft-active-directory.html#GUID-36DA932C-39A3-4AC7-A9C0-E587B0ED4505">设置Oracle数据库客户端以与Microsoft Active Directory互操作</a></p>
                     </li>
                     <li>
                        <p><a href="integrating-enterprise-user-security-with-microsoft-active-directory.html#GUID-4C48C8B3-17B8-44F6-ADC6-5599EB1E53D9">获取客户的初始票证</a></p>
                     </li>
                     <li>
                        <p><a href="integrating-enterprise-user-security-with-microsoft-active-directory.html#GUID-E3A979AD-779E-433B-A415-15128C23B601">为Kerberos身份验证配置企业用户安全性</a></p>
                     </li>
                  </ul>
               </div>
            </div>
            <div class="sect2"><a id="GUID-AD9ACC84-D0EF-4281-8A9E-2916E5BA2AF4" name="GUID-AD9ACC84-D0EF-4281-8A9E-2916E5BA2AF4"></a><h3 id="DBIMI-GUID-AD9ACC84-D0EF-4281-8A9E-2916E5BA2AF4" class="sect3">关于与Microsoft Active Directory的直接集成</h3>
               <div>
                  <p>Oracle数据库18c版，18.1版及更高版本支持使用新的集中管理用户功能与Microsoft Active Directory（MSAD）直接集成。</p>
                  <p>从Oracle数据库18c版本18.1开始，Oracle数据库引入了集中管理的用户，可以直接使用Microsoft Active Directory对用户进行身份验证和授权。通过集中管理的用户，可以集中管理访问数据库的用户，以改善组织的安全状况。企业用户（Microsoft Active Directory中的用户）可以独占映射到数据库帐户，或者许多企业用户（在Microsoft Active Directory组中）可以映射到数据库中的共享帐户。Microsoft Active Directory组还可以映射到数据库全局角色，该角色为用户提供超出其登录帐户（独占或共享）授予的其他权限和角色。通过集中管理的用户，可以使用密码，Kerberos和PKI证书对用户进行身份验证。</p>
                  <p>对于开始不需要某些更复杂的企业用户安全功能（如可信数据库链接）的新目录服务项目的组织，使用Microsoft Active Directory的集中管理用户允许您使用其当前的Microsoft Active Directory服务作为其集中用户管理和集中式数据库访问授权。对于新的目录服务项目，这可能是实现目录服务的首选选项，因为这样可以降低维护和开发方面的复杂性和操作成本。</p>
                  <p>企业用户还可以使用Oracle Internet Directory，它是Oracle身份管理基础结构的一部分。如果您的组织使用Microsoft Active Directory等第三方目录来存储和管理用户条目，则可以将其与Oracle Internet Directory集成以管理企业用户安全性。如果您的组织需要某些更复杂的企业用户安全功能（如可信数据库链接），这可能是您的首选选项。</p>
                  <div class="infoboxnotealso" id="GUID-AD9ACC84-D0EF-4281-8A9E-2916E5BA2AF4__GUID-5D5AC597-5389-41A8-AFD4-6A15F50ADE4B">
                     <p class="notep1">也可以看看：</p>
                     <p>有关使用Microsoft Active Directory配置集中管理用户的详细信息，请参见“ <a href="../dbseg/integrating_mads_with_oracle_database.html#DBSEG-GUID-9739D541-FA9D-422A-95CA-799A4C6F488D" target="_blank"><span><cite>Oracle数据库安</cite></span></a>
                     </p>
                  </div>
               </div>
            </div><a id="DBIMI351"></a><div class="props_rev_3"><a id="GUID-D3F3FC53-D2D9-4480-9418-AB45C5520B8D" name="GUID-D3F3FC53-D2D9-4480-9418-AB45C5520B8D"></a><h3 id="DBIMI-GUID-D3F3FC53-D2D9-4480-9418-AB45C5520B8D" class="sect3">设置Active Directory和Oracle Internet Directory之间的同步</h3>
               <div>
                  <p>Oracle组件使用Oracle Internet Directory进行集中安全管理。您的组织可能具有使用Microsoft Active Directory进行集中管理的Microsoft Windows域。在配置企业用户安全性以使用Microsoft Active Directory之前，应在Oracle Internet Directory和Microsoft Active Directory之间设置同步。</p>
                  <p>同步配置文件用于同步两个目录。该配置文件包含同步两个目录所需的配置信息。这包括同步方向，映射规则和格式，Microsoft Windows域的连接细节等。映射规则包含域规则和属性规则，以将一个目录中的域和属性映射到另一个目录，可选择格式化属性。</p>
                  <div class="infoboxnotealso" id="GUID-D3F3FC53-D2D9-4480-9418-AB45C5520B8D__GUID-7CF5D799-5144-41F3-860F-AC6CC770A3F1">
                     <p class="notep1">也可以看看：</p>
                     <p>有关将Oracle Internet Directory与Microsoft Active Directory集成的分步说明，请参阅“ <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/dbimi&amp;id=OIMIG1930" target="_blank"><span class="italic">Oracle身份管理集成指南”</span></a></p>
                  </div>
               </div>
            </div><a id="DBIMI352"></a><div class="props_rev_3"><a id="GUID-ED7971A5-4969-4D3D-9C1F-5C835CEFDDF9" name="GUID-ED7971A5-4969-4D3D-9C1F-5C835CEFDDF9"></a><h3 id="DBIMI-GUID-ED7971A5-4969-4D3D-9C1F-5C835CEFDDF9" class="sect3">设置Active Directory以与Oracle客户端进行互操作</h3>
               <div>
                  <div class="section">
                     <p>必须在Windows域控制器上执行以下任务：</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>在Microsoft Active Directory中创建Oracle数据库主体。</span><div>
                           <p>这将为Microsoft Active Directory中的数据库创建新用户。</p>
                        </div>
                     </li>
                     <li class="stepexpand"><span>使用<code class="codeph">okcreate</code>命令行实用程序自动创建服务主体<code class="codeph">keytab</code>文件。</span><div>
                           <p>从Oracle Database 12 <span class="italic">c</span>第2版（12.2）开始， <code class="codeph">okcreate</code>实用程序提供了在密钥分发中心（KDC）上创建服务主体密钥表的自动化，以创建设置所需的所有服务密钥表。要将Active Directory用作KDC，需要<code class="codeph">keytab</code>文件。如果Oracle客户端在<code class="codeph">SQLNET.KERBEROS5_CONF</code>指定的位置没有<code class="codeph">keytab</code>文件，则它使用通用<code class="codeph">krb5.conf</code>文件。在这种情况下，它会从DNS检测领域和KDC设置。此实用程序获取有关keytabs的输入以创建并将它们输出到指定位置。所采用的输入是服务名称（默认为oracle）和安装数据库服务器的主机名列表。
                           </p>
                        </div>
                     </li>
                  </ol>
                  <div class="section">
                     <div class="infoboxnotealso" id="GUID-ED7971A5-4969-4D3D-9C1F-5C835CEFDDF9__GUID-4F868699-088B-475D-AD0F-12FE0AD3D507">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="../dbseg/configuring-kerberos-authentication.html#DBSEG060" target="_blank"><span><cite>“Oracle数据库安全指南”</cite></span></a> ，以获取上述步骤的详细列表。
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="DBIMI353"></a><div class="props_rev_3"><a id="GUID-589A70B8-9871-4864-8820-13CFF9D83405" name="GUID-589A70B8-9871-4864-8820-13CFF9D83405"></a><h3 id="DBIMI-GUID-589A70B8-9871-4864-8820-13CFF9D83405" class="sect3">设置Oracle数据库以与Microsoft Active Directory互操作</h3>
               <div>
                  <div class="section">
                     <p>必须在安装了Oracle数据库的主机上执行以下任务：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type:disc">
                        <li>
                           <p>使用kerberos参数更新数据库中的<code class="codeph">sqlnet.ora</code>文件</p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-589A70B8-9871-4864-8820-13CFF9D83405__GUID-8F48BB29-0D52-4CFA-9A39-515E2395C316">
                        <p class="notep1">也可以看看：</p>
                        <p>有关上一步的详细说明，请参见<a href="../dbseg/configuring-kerberos-authentication.html#DBSEG060" target="_blank"><span><cite>“Oracle数据库安全指南”</cite></span></a> 。
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="DBIMI354"></a><div class="props_rev_3"><a id="GUID-36DA932C-39A3-4AC7-A9C0-E587B0ED4505" name="GUID-36DA932C-39A3-4AC7-A9C0-E587B0ED4505"></a><h3 id="DBIMI-GUID-36DA932C-39A3-4AC7-A9C0-E587B0ED4505" class="sect3">设置Oracle数据库客户端以与Microsoft Active Directory互操作</h3>
               <div>
                  <div class="section">
                     <p>必须在Oracle kerberos客户端上执行以下步骤：</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>创建客户端kerberos配置文件</span><div>
                           <p>客户端kerberos配置文件将Microsoft Active Directory称为kerberos KDC。</p>
                        </div>
                     </li>
                     <li class="stepexpand"><span>在客户端<code class="codeph">sqlnet.ora</code>文件中指定kerberos参数</span><div>
                           <p>您可以手动更新文件或使用Oracle Net Manager实用程序。</p>
                        </div>
                     </li>
                  </ol>
                  <div class="section">
                     <div class="infoboxnotealso" id="GUID-36DA932C-39A3-4AC7-A9C0-E587B0ED4505__GUID-DBAA86F3-C77A-4FFC-9C40-265ADED4FE03">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="../dbseg/configuring-kerberos-authentication.html#DBSEG060" target="_blank"><span><cite>“Oracle数据库安全指南”</cite></span></a> ，以获取上述步骤的详细列表。
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="DBIMI355"></a><div class="props_rev_3"><a id="GUID-4C48C8B3-17B8-44F6-ADC6-5599EB1E53D9" name="GUID-4C48C8B3-17B8-44F6-ADC6-5599EB1E53D9"></a><h3 id="DBIMI-GUID-4C48C8B3-17B8-44F6-ADC6-5599EB1E53D9" class="sect3">获取客户的初始票证</h3>
               <div>
                  <p>在客户端可以连接到数据库之前，客户端必须请求初始票证。初始票证将客户端标识为有权要求其他服务票证。使用<code class="codeph">okinit</code>命令请求初始票证。
                  </p>
                  <div class="infoboxnotealso" id="GUID-4C48C8B3-17B8-44F6-ADC6-5599EB1E53D9__GUID-22AAF3AA-9F02-4615-9C76-88972EDB81A9">
                     <p class="notep1">也可以看看：</p>
                     <p>有关使用<code class="codeph">okinit</code>请求初始<code class="codeph">okinit</code>单的更多详细信息，请参见<a href="../dbseg/configuring-kerberos-authentication.html#DBSEG060" target="_blank"><span><cite>“Oracle数据库安全指南</cite></span></a>
                     </p>
                  </div>
               </div>
            </div><a id="DBIMI356"></a><div class="props_rev_3"><a id="GUID-E3A979AD-779E-433B-A415-15128C23B601" name="GUID-E3A979AD-779E-433B-A415-15128C23B601"></a><h3 id="DBIMI-GUID-E3A979AD-779E-433B-A415-15128C23B601" class="sect3">为Kerberos身份验证配置企业用户安全性</h3>
               <div>
                  <div class="section">
                     <p>要为Kerberos身份验证配置企业用户安全性，请使用以下步骤：</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>在Oracle Internet Directory中注册数据库</span><div>
                           <p>您可以使用Database Configuration Assistant注册数据库。</p>
                        </div>
                     </li>
                     <li class="stepexpand"><span>在数据库和Oracle Internet Directory中配置企业用户安全对象</span><div>
                           <p>在数据库中创建全局模式和全局角色。还可以在企业域中创建企业角色。配置企业域的用户架构映射，将全局数据库角色添加到企业角色，并为企业用户授予企业角色以进行数据库访问。</p>
                        </div>
                     </li>
                     <li class="stepexpand"><span>配置企业域以接受kerberos身份验证</span><div>
                           <p>使用Oracle Enterprise Manager为您的企业域启用kerberos身份验证。</p>
                        </div>
                     </li>
                     <li class="stepexpand"><span>以kerberos身份验证的企业用户身份进行连接。</span><div>
                           <p>启动SQL * Plus并使用命令<code class="codeph">connect /@</code> <span class="italic"><code class="codeph">net_service_name</code></span>作为kerberos身份验证的企业用户进行连接。
                           </p>
                        </div>
                     </li>
                  </ol>
                  <div class="section">
                     <div class="infoboxnotealso" id="GUID-E3A979AD-779E-433B-A415-15128C23B601__GUID-72C43B6B-5D10-4A6F-B469-54B2A19B5F6E">
                        <p class="notep1">也可以看看：</p>
                        <p>有关上述步骤的详细信息，请参阅<span class="q">“ <a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-73C75D2F-5A13-49AA-B55A-0CBA14FD602F">为Kerberos身份验证配置企业用户安全性</a> ”</span> 。
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html>