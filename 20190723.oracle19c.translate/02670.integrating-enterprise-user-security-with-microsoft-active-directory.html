<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Integrating Enterprise User Security with Microsoft Active Directory</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Enterprise User Security Administrator's Guide">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Enterprise User Security Administrator's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="enterprise-user-security-administrators-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-11T05:14:01-08:00">
      <meta name="dcterms.title" content="Enterprise User Security Administrator's Guide">
      <meta name="dcterms.dateCopyrighted" content="2000, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96086-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="ssl-external-users-conversion-script.html" title="Previous" type="text/html">
      <link rel="next" href="upgrading-from-oracle9i-to-oracle-database-12c-release-12-2.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="DBIMI">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="ssl-external-users-conversion-script.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="upgrading-from-oracle9i-to-oracle-database-12c-release-12-2.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Enterprise User Security Administrator's Guide</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Integrating Enterprise User Security with Microsoft Active Directory</li>
            </ol>
            <a id="GUID-BE9B2E2D-CC4A-4516-B4EF-41BC58038593" name="GUID-BE9B2E2D-CC4A-4516-B4EF-41BC58038593"></a><a id="DBIMI350"></a>
            
            <h2 id="DBIMI-GUID-BE9B2E2D-CC4A-4516-B4EF-41BC58038593" class="sect2"><span class="enumeration_appendix">C </span>Integrating Enterprise User Security with Microsoft Active Directory
            </h2>
         </header>
         <div class="ind">
            <div>
               <div class="p">This appendix lists the steps involved in integrating Enterprise User Security with Microsoft Active Directory using kerberos for authentication. It includes the following sections:
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="integrating-enterprise-user-security-with-microsoft-active-directory.html#GUID-AD9ACC84-D0EF-4281-8A9E-2916E5BA2AF4" title="Oracle Database release 18c, version 18.1 and later supports direct integration with Microsoft Active Directory (MSAD) using the new centrally managed users capability.">About Direct Integration with Microsoft Active Directory</a></p>
                     </li>
                     <li>
                        <p><a href="integrating-enterprise-user-security-with-microsoft-active-directory.html#GUID-D3F3FC53-D2D9-4480-9418-AB45C5520B8D">Set Up Synchronization Between Active Directory and Oracle Internet Directory</a></p>
                     </li>
                     <li>
                        <p><a href="integrating-enterprise-user-security-with-microsoft-active-directory.html#GUID-ED7971A5-4969-4D3D-9C1F-5C835CEFDDF9">Set Up Active Directory to Interoperate with Oracle Client</a></p>
                     </li>
                     <li>
                        <p><a href="integrating-enterprise-user-security-with-microsoft-active-directory.html#GUID-589A70B8-9871-4864-8820-13CFF9D83405">Set Up Oracle Database to Interoperate with Microsoft Active Directory</a></p>
                     </li>
                     <li>
                        <p><a href="integrating-enterprise-user-security-with-microsoft-active-directory.html#GUID-36DA932C-39A3-4AC7-A9C0-E587B0ED4505">Set Up Oracle Database Client to Interoperate with Microsoft Active Directory</a></p>
                     </li>
                     <li>
                        <p><a href="integrating-enterprise-user-security-with-microsoft-active-directory.html#GUID-4C48C8B3-17B8-44F6-ADC6-5599EB1E53D9">Obtain an Initial Ticket for the Client</a></p>
                     </li>
                     <li>
                        <p><a href="integrating-enterprise-user-security-with-microsoft-active-directory.html#GUID-E3A979AD-779E-433B-A415-15128C23B601">Configure Enterprise User Security for Kerberos Authentication</a></p>
                     </li>
                  </ul>
               </div>
            </div>
            <div class="sect2"><a id="GUID-AD9ACC84-D0EF-4281-8A9E-2916E5BA2AF4" name="GUID-AD9ACC84-D0EF-4281-8A9E-2916E5BA2AF4"></a><h3 id="DBIMI-GUID-AD9ACC84-D0EF-4281-8A9E-2916E5BA2AF4" class="sect3">About Direct Integration with Microsoft Active Directory</h3>
               <div>
                  <p>Oracle Database release 18c, version 18.1 and later supports direct integration with Microsoft Active Directory (MSAD) using the new centrally managed users capability.</p>
                  <p>Beginning with Oracle Database release 18c, version 18.1, Oracle Database introduces centrally managed users to authenticate and authorize users directly with Microsoft Active Directory. With centrally managed users, users accessing the database can be centrally managed to improve an organization's security posture. An enterprise user (a user in Microsoft Active Directory) can be exclusively mapped to a database account, or many enterprise users (in an Microsoft Active Directory group) can be mapped to a shared account in the database. Microsoft Active Directory groups can also be mapped to a database global role, which provides users with additional privileges and roles above what their login account (exclusive or shared) is granted. With centrally managed users, users can be authenticated with passwords, and Kerberos and PKI certificates.</p>
                  <p>For organizations beginning new directory services projects that do not require some of the more complex Enterprise User Security features like trusted database links, centrally managed users with Microsoft Active Directory allows you to use their current Microsoft Active Directory service as their centralized user management and centralized database access authorization. For new directory services projects, this may be the preferred option in implementing directory services as this reduces complexity as well as costs of operation in terms of maintenance and development.</p>
                  <p>Enterprise users can also make use of Oracle Internet Directory, which is a part of the Oracle Identity Management infrastructure. If your organization uses a third party directory like Microsoft Active Directory to store and manage user entries, then you can integrate it with Oracle Internet Directory to manage Enterprise User Security. This may be your preferred option if your organization requires some of the more complex Enterprise User Security features like trusted database links.</p>
                  <div class="infoboxnotealso" id="GUID-AD9ACC84-D0EF-4281-8A9E-2916E5BA2AF4__GUID-5D5AC597-5389-41A8-AFD4-6A15F50ADE4B">
                     <p class="notep1">See Also:</p>
                     <p><a href="../dbseg/integrating_mads_with_oracle_database.html#DBSEG-GUID-9739D541-FA9D-422A-95CA-799A4C6F488D" target="_blank"><span><cite>Oracle Database Security Guide</cite></span></a> for details about configuring centrally managed users with Microsoft Active Directory.
                     </p>
                  </div>
               </div>
            </div><a id="DBIMI351"></a><div class="props_rev_3"><a id="GUID-D3F3FC53-D2D9-4480-9418-AB45C5520B8D" name="GUID-D3F3FC53-D2D9-4480-9418-AB45C5520B8D"></a><h3 id="DBIMI-GUID-D3F3FC53-D2D9-4480-9418-AB45C5520B8D" class="sect3">Set Up Synchronization Between Active Directory and Oracle Internet Directory</h3>
               <div>
                  <p>Oracle components make use of Oracle Internet Directory for centralized security administration. Your organization might have a Microsoft Windows domain that uses Microsoft Active Directory for centralized administration. You should set up synchronization between Oracle Internet Directory and Microsoft Active Directory before you configure Enterprise User Security to work with Microsoft Active Directory.</p>
                  <p> Synchronization profiles are used to synchronize the two directories. The profile contains configuration information required to synchronize the two directories. This includes direction of synchronization, mapping rules and formats, connection details of Microsoft Windows domain and the like. Mapping rules contain domain rules and attribute rules to map a domain and attributes in one directory to the other directory, optionally formatting the attributes.   </p>
                  <div class="infoboxnotealso" id="GUID-D3F3FC53-D2D9-4480-9418-AB45C5520B8D__GUID-7CF5D799-5144-41F3-860F-AC6CC770A3F1">
                     <p class="notep1">See Also:</p>
                     <p>For step-by-step instructions on integrating Oracle Internet Directory with Microsoft Active Directory, refer to the <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/dbimi&amp;id=OIMIG1930" target="_blank"><span class="italic">Oracle Identity Management Integration Guide</span></a></p>
                  </div>
               </div>
            </div><a id="DBIMI352"></a><div class="props_rev_3"><a id="GUID-ED7971A5-4969-4D3D-9C1F-5C835CEFDDF9" name="GUID-ED7971A5-4969-4D3D-9C1F-5C835CEFDDF9"></a><h3 id="DBIMI-GUID-ED7971A5-4969-4D3D-9C1F-5C835CEFDDF9" class="sect3">Set Up Active Directory to Interoperate with Oracle Client</h3>
               <div>
                  <div class="section">
                     <p>The following tasks must be performed on the Windows domain controller: </p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>Create the Oracle Database Principal in Microsoft Active Directory.</span><div>
                           <p>This creates a new user for the database in Microsoft Active Directory.</p>
                        </div>
                     </li>
                     <li class="stepexpand"><span>Use the <code class="codeph">okcreate</code> command-line utility to automate the creation of the service principal <code class="codeph">keytab</code> file.</span><div>
                           <p>Beginning with Oracle Database 12<span class="italic">c</span> Release 2 (12.2), the <code class="codeph">okcreate</code> utility provides for automation of service principal keytab creation on the Key Distribution Center (KDC) to create all service keytabs that setup requires. To use an Active Directory as a KDC, this requires the <code class="codeph">keytab</code> file. If the Oracle client does not have a <code class="codeph">keytab</code> file in the location specified by <code class="codeph">SQLNET.KERBEROS5_CONF</code>, it uses a generic <code class="codeph">krb5.conf</code> file. In this case, it detects realm and KDC settings from DNS. This utility takes input about the keytabs to create and output them to a specified location. The inputs taken are the service name (defaults to oracle) and a list of hostnames on which the database server is installed.
                           </p>
                        </div>
                     </li>
                  </ol>
                  <div class="section">
                     <div class="infoboxnotealso" id="GUID-ED7971A5-4969-4D3D-9C1F-5C835CEFDDF9__GUID-4F868699-088B-475D-AD0F-12FE0AD3D507">
                        <p class="notep1">See Also:</p>
                        <p><a href="../dbseg/configuring-kerberos-authentication.html#DBSEG060" target="_blank"><span><cite>Oracle Database Security Guide</cite></span></a> for a detailed listing of the preceding steps.
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="DBIMI353"></a><div class="props_rev_3"><a id="GUID-589A70B8-9871-4864-8820-13CFF9D83405" name="GUID-589A70B8-9871-4864-8820-13CFF9D83405"></a><h3 id="DBIMI-GUID-589A70B8-9871-4864-8820-13CFF9D83405" class="sect3">Set Up Oracle Database to Interoperate with Microsoft Active Directory</h3>
               <div>
                  <div class="section">
                     <p>The following task must be performed on the host computer where Oracle Database is installed:</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Update the <code class="codeph">sqlnet.ora</code> file in the database with kerberos parameters
                           </p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-589A70B8-9871-4864-8820-13CFF9D83405__GUID-8F48BB29-0D52-4CFA-9A39-515E2395C316">
                        <p class="notep1">See Also:</p>
                        <p><a href="../dbseg/configuring-kerberos-authentication.html#DBSEG060" target="_blank"><span><cite>Oracle Database Security Guide</cite></span></a> for a detailed description of the preceding step.
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="DBIMI354"></a><div class="props_rev_3"><a id="GUID-36DA932C-39A3-4AC7-A9C0-E587B0ED4505" name="GUID-36DA932C-39A3-4AC7-A9C0-E587B0ED4505"></a><h3 id="DBIMI-GUID-36DA932C-39A3-4AC7-A9C0-E587B0ED4505" class="sect3">Set Up Oracle Database Client to Interoperate with Microsoft Active Directory</h3>
               <div>
                  <div class="section">
                     <p>The following steps must be performed on the Oracle kerberos client:</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>Create client kerberos configuration files</span><div>
                           <p>The client kerberos configuration files refer to the Microsoft Active Directory as the kerberos KDC.</p>
                        </div>
                     </li>
                     <li class="stepexpand"><span>Specify kerberos parameters in the client <code class="codeph">sqlnet.ora</code> file</span><div>
                           <p>You can either manually update the file or use Oracle Net Manager utility.</p>
                        </div>
                     </li>
                  </ol>
                  <div class="section">
                     <div class="infoboxnotealso" id="GUID-36DA932C-39A3-4AC7-A9C0-E587B0ED4505__GUID-DBAA86F3-C77A-4FFC-9C40-265ADED4FE03">
                        <p class="notep1">See Also:</p>
                        <p><a href="../dbseg/configuring-kerberos-authentication.html#DBSEG060" target="_blank"><span><cite>Oracle Database Security Guide</cite></span></a> for a detailed listing of the preceding steps.
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="DBIMI355"></a><div class="props_rev_3"><a id="GUID-4C48C8B3-17B8-44F6-ADC6-5599EB1E53D9" name="GUID-4C48C8B3-17B8-44F6-ADC6-5599EB1E53D9"></a><h3 id="DBIMI-GUID-4C48C8B3-17B8-44F6-ADC6-5599EB1E53D9" class="sect3">Obtain an Initial Ticket for the Client</h3>
               <div>
                  <p>Before a client can connect to the database, the client must request for an initial ticket. The initial ticket identifies the client as having the rights to ask for additional service tickets. An initial ticket is requested using the <code class="codeph">okinit</code> command. 
                  </p>
                  <div class="infoboxnotealso" id="GUID-4C48C8B3-17B8-44F6-ADC6-5599EB1E53D9__GUID-22AAF3AA-9F02-4615-9C76-88972EDB81A9">
                     <p class="notep1">See Also:</p>
                     <p><a href="../dbseg/configuring-kerberos-authentication.html#DBSEG060" target="_blank"><span><cite>Oracle Database Security Guide</cite></span></a> for more details on requesting an initial ticket with <code class="codeph">okinit</code>.
                     </p>
                  </div>
               </div>
            </div><a id="DBIMI356"></a><div class="props_rev_3"><a id="GUID-E3A979AD-779E-433B-A415-15128C23B601" name="GUID-E3A979AD-779E-433B-A415-15128C23B601"></a><h3 id="DBIMI-GUID-E3A979AD-779E-433B-A415-15128C23B601" class="sect3">Configure Enterprise User Security for Kerberos Authentication</h3>
               <div>
                  <div class="section">
                     <p>To configure Enterprise User Security for Kerberos Authentication, use the following steps: </p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>Register the database in Oracle Internet Directory</span><div>
                           <p>You can use Database Configuration Assistant for registering the database.</p>
                        </div>
                     </li>
                     <li class="stepexpand"><span>Configure Enterprise User Security Objects in the database and Oracle Internet Directory</span><div>
                           <p>Create global schemas and global roles in the database. Also create enterprise roles in the enterprise domain. Configure user schema mappings for the enterprise domain, add global database roles to enterprise roles and grant enterprise roles to enterprise users for database access.</p>
                        </div>
                     </li>
                     <li class="stepexpand"><span>Configure the enterprise domain to accept kerberos authentication</span><div>
                           <p>Use Oracle Enterprise Manager to enable kerberos authentication for your enterprise domain.</p>
                        </div>
                     </li>
                     <li class="stepexpand"><span>Connect as kerberos authenticated enterprise user.</span><div>
                           <p>Launch SQL*Plus and use the command, <code class="codeph">connect /@</code><span class="italic"><code class="codeph">net_service_name</code></span> to connect as a kerberos authenticated enterprise user.
                           </p>
                        </div>
                     </li>
                  </ol>
                  <div class="section">
                     <div class="infoboxnotealso" id="GUID-E3A979AD-779E-433B-A415-15128C23B601__GUID-72C43B6B-5D10-4A6F-B469-54B2A19B5F6E">
                        <p class="notep1">See Also:</p>
                        <p>For detailed information on the preceding steps, refer to <span class="q">"<a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-73C75D2F-5A13-49AA-B55A-0CBA14FD602F">Configuring Enterprise User Security for Kerberos Authentication</a>"</span> .
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html>