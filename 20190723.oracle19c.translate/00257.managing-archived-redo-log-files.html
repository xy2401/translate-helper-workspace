<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="You manage the archived redo log files by completing tasks such as choosing between NOARCHIVELOG or ARCHIVELOG mode and specifying archive destinations."></meta>
      <meta name="description" content="You manage the archived redo log files by completing tasks such as choosing between NOARCHIVELOG or ARCHIVELOG mode and specifying archive destinations."></meta>
      <title>管理存档的重做日志文件</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Database Administrator’s Guide "></meta>
      <meta property="og:description" content="You manage the archived redo log files by completing tasks such as choosing between NOARCHIVELOG or ARCHIVELOG mode and specifying archive destinations."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Database Administrator’s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-administrators-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-03-14T11:02:35-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96348-04"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="managing-the-redo-log.html" title="Previous" type="text/html"></link>
      <link rel="next" href="managing-tablespaces.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Administrator&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="ADMIN"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="managing-the-redo-log.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="managing-tablespaces.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">数据库管理员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="oracle-database-structure-and-storage.html" property="item" typeof="WebPage"><span property="name">Oracle数据库结构和存储</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">管理存档的重做日志文件</li>
            </ol>
            <a id="GUID-5EE4AC49-E1B2-41A2-BEE7-AA951EAAB2F3" name="GUID-5EE4AC49-E1B2-41A2-BEE7-AA951EAAB2F3"></a><a id="ADMIN008"></a>
            
            <h2 id="ADMIN-GUID-5EE4AC49-E1B2-41A2-BEE7-AA951EAAB2F3" class="sect2"><span class="enumeration_chapter">12</span>管理存档的重做日志文件</h2>
         </header>
         <div class="ind">
            <div>
               <p>您可以通过完成<code class="codeph">NOARCHIVELOG</code>或<code class="codeph">ARCHIVELOG</code>模式之间的选择以及指定存档目标等任务来管理存档的重做日志文件。
               </p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="managing-archived-redo-log-files.html#GUID-9BD00F2E-DC98-4871-8D26-FDB40623909C">归档重做日志是什么？</a><br>Oracle数据库允许您将已填充的重做日志文件组保存到一个或多个脱机目标，统称为<span class="bold">归档重做日志</span> 。
                  </li>
                  <li class="ulchildlink"><a href="managing-archived-redo-log-files.html#GUID-2FF3967A-44E6-4EA1-8759-5DB2D67CBDE1">在NOARCHIVELOG和ARCHIVELOG模式之间选择</a><br>您必须在<code class="codeph">NOARCHIVELOG</code>或<code class="codeph">ARCHIVELOG</code>模式下运行数据库。
                  </li>
                  <li class="ulchildlink"><a href="managing-archived-redo-log-files.html#GUID-BE84B19D-7BE2-40D5-B962-5EF54E53095C">控制存档</a><br>您可以为数据库设置存档模式并调整存档过程的数量。
                  </li>
                  <li class="ulchildlink"><a href="managing-archived-redo-log-files.html#GUID-FC700EB5-72AF-414F-8D36-327D266F0BA8">指定存档目标</a><br>在归档重做日志之前，必须确定要归档的目标，并熟悉各种目标状态。
                  </li>
                  <li class="ulchildlink"><a href="managing-archived-redo-log-files.html#GUID-2A6DDDDA-4127-4574-8F2D-07AC926FCEBB">关于日志传输模式</a><br>将归档日志传输到目的地的两种模式是<span class="bold">正常归档传输</span>和<span class="bold">备用传输</span>模式。正常传输涉及将文件传输到本地磁盘。备用传输涉及通过网络将文件传输到本地或远程备用数据库。
                  </li>
                  <li class="ulchildlink"><a href="managing-archived-redo-log-files.html#GUID-B2D14414-7CC4-4265-9CF4-2AADFE1F29DA">管理存档目标失败</a><br>有时归档目标可能会失败，导致在自动归档模式下运行时出现问题。Oracle数据库提供的过程可帮助您最大限度地减少与目标故障相关的问
                  </li>
                  <li class="ulchildlink"><a href="managing-archived-redo-log-files.html#GUID-CDFE66B4-7448-4FC8-A676-58B20FF5CC25">控制Archivelog进程生成的跟踪输出</a><br>后台进程始终在适当时写入跟踪文件。对于archivelog进程，您可以控制生成到跟踪文件的输出。
                  </li>
                  <li class="ulchildlink"><a href="managing-archived-redo-log-files.html#GUID-62E48748-F8A8-4740-90B1-5B3708A63386">查看有关存档重做日志的信息</a><br>您可以使用动态性能视图或<code class="codeph">ARCHIVE</code> <code class="codeph">LOG</code> <code class="codeph">LIST</code>命令显示有关归档重做日志的信息。
                  </li>
               </ul>
               <div class="infoboxnotealso" id="GUID-5EE4AC49-E1B2-41A2-BEE7-AA951EAAB2F3__GUID-75537103-BDE9-4B7D-A412-013680BB2C60">
                  <p class="notep1">也可以看看：</p>
                  <p></p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="using-oracle-managed-files.html#GUID-4A3C4616-0D81-4BBA-8EAD-FCAA8AD5C15A" title="Oracle数据库可以管理组成数据库的文件。">使用Oracle Managed Files</a>获取有关创建由Oracle数据库服务器创建和管理的归档重做日志的信息</p>
                     </li>
                     <li>
                        <p><a href="../racad/configuring-recovery-manager-and-archiving.html#RACAD325" target="_blank"><span class="italic">“Oracle Real Application Clusters管理和部署指南”</span></a> ，了解有关在Oracle Real Application Clusters环境中归档的信息</p>
                     </li>
                  </ul>
               </div>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>父主题：</strong> <a href="oracle-database-structure-and-storage.html#GUID-F11D30A7-BF12-4D8F-A1C2-D7437D38F8C7" title="您可以创建和管理数据库结构和存储组件。">Oracle数据库结构和存储</a></p>
                  </div>
               </div>
            </div>
            <a id="ADMIN11329"></a><div class="props_rev_3"><a id="GUID-9BD00F2E-DC98-4871-8D26-FDB40623909C" name="GUID-9BD00F2E-DC98-4871-8D26-FDB40623909C"></a><h3 id="ADMIN-GUID-9BD00F2E-DC98-4871-8D26-FDB40623909C" class="sect3"><span class="enumeration_section">12.1</span>什么是归档重做日志？
               </h3>
               <div>
                  <p>Oracle数据库允许您将已填充的重做日志文件组保存到一个或多个脱机目标，统称为<span class="bold">归档重做日志</span> 。
                  </p>
                  <p>将重做日志文件转换为归档重做日志文件的过程称为<span class="bold">归档</span> 。只有在数据库以<span class="bold"><code class="codeph">ARCHIVELOG</code></span> <span class="bold">模式</span>运行时，才能执行此过程。您可以选择自动或手动存档。
                  </p>
                  <p>归档重做日志文件是重做日志组的一个已填充成员的副本。它包括重做条目和重做日志组的相同成员的唯一日志序列号。例如，如果要复用重做日志，并且组1包含相同的成员文件<code class="codeph">a_log1</code>和<code class="codeph">b_log1</code> ，则归档进程（ARC <span class="italic">n</span> ）将归档其中一个成员文件。如果<code class="codeph">a_log1</code>损坏，则ARC <span class="italic">n</span>仍然可以归档相同的<code class="codeph">b_log1</code> 。归档重做日志包含自您启用归档后创建的每个组的副本。
                  </p>
                  <p>当数据库在<code class="codeph">ARCHIVELOG</code>模式下运行时，日志写入器进程（LGWR）无法重用，因此会覆盖重做日志组，直到它被归档为止。后台进程ARC <span class="italic">n</span>在启用自动存档时自动执行存档操作。数据库根据需要启动多个归档进程，以确保填充的重做日志的归档不会落后。
                  </p>
                  <p>您可以使用存档的重做日志文件：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>恢复数据库</p>
                     </li>
                     <li>
                        <p>更新备用数据库</p>
                     </li>
                     <li>
                        <p>使用LogMiner实用程序获取有关数据库历史记录的信息</p>
                        <div class="infoboxnotealso" id="GUID-9BD00F2E-DC98-4871-8D26-FDB40623909C__GUID-D4879D41-5849-4121-8B76-8ABC85ADE92F">
                           <p class="notep1">也可以看看：</p>
                           <p>以下来源记录了归档重做日志文件的用法：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><a href="../bradv/index.html" target="_blank"><span class="italic">Oracle数据库备份和恢复用户指南</span></a></p>
                              </li>
                              <li>
                                 <p><a href="../sbydb/index.html" target="_blank"><span class="italic">Oracle Data Guard概念和管理</span></a>讨论了设置和维护备用数据库</p>
                              </li>
                              <li>
                                 <p><a href="../sutil/oracle-logminer-utility.html#SUTIL019" target="_blank"><span class="italic">Oracle数据库实用程序</span></a>包含有关使用LogMiner PL / SQL程序包的说明</p>
                              </li>
                           </ul>
                        </div>
                     </li>
                  </ul>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="managing-archived-redo-log-files.html#GUID-5EE4AC49-E1B2-41A2-BEE7-AA951EAAB2F3" title="您可以通过完成NOARCHIVELOG或ARCHIVELOG模式之间的选择以及指定存档目标等任务来管理存档的重做日志文件。">管理存档的重做日志文件</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADMIN11330"></a><div class="props_rev_3"><a id="GUID-2FF3967A-44E6-4EA1-8759-5DB2D67CBDE1" name="GUID-2FF3967A-44E6-4EA1-8759-5DB2D67CBDE1"></a><h3 id="ADMIN-GUID-2FF3967A-44E6-4EA1-8759-5DB2D67CBDE1" class="sect3"><span class="enumeration_section">12.2</span>在NOARCHIVELOG和ARCHIVELOG模式之间选择</h3>
               <div>
                  <p>您必须在<code class="codeph">NOARCHIVELOG</code>或<code class="codeph">ARCHIVELOG</code>模式下运行数据库。
                  </p>
                  <p>是否启用已填充的重做日志文件归档的选择取决于在数据库上运行的应用程序的可用性和可靠性要求。如果在磁盘发生故障时无法丢失数据库中的任何数据，请使用<code class="codeph">ARCHIVELOG</code>模式。填充的重做日志文件的归档可能需要您执行额外的管理操作。
                  </p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-archived-redo-log-files.html#GUID-21A9A3AC-1D90-4848-B3BB-3A9E797547F8">在NOARCHIVELOG模式下运行数据库</a><br>在<code class="codeph">NOARCHIVELOG</code>模式下运行数据库时，将禁用重做日志的归档。
                     </li>
                     <li class="ulchildlink"><a href="managing-archived-redo-log-files.html#GUID-36F3335E-A28B-47BA-82C2-E17B4C8A453A">在ARCHIVELOG模式下运行数据库</a><br>在<code class="codeph">ARCHIVELOG</code>模式下运行数据库时，将启用重做日志的归档。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="managing-archived-redo-log-files.html#GUID-5EE4AC49-E1B2-41A2-BEE7-AA951EAAB2F3" title="您可以通过完成NOARCHIVELOG或ARCHIVELOG模式之间的选择以及指定存档目标等任务来管理存档的重做日志文件。">管理存档的重做日志文件</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN11331"></a><div class="props_rev_3"><a id="GUID-21A9A3AC-1D90-4848-B3BB-3A9E797547F8" name="GUID-21A9A3AC-1D90-4848-B3BB-3A9E797547F8"></a><h4 id="ADMIN-GUID-21A9A3AC-1D90-4848-B3BB-3A9E797547F8" class="sect4"><span class="enumeration_section">12.2.1</span>在NOARCHIVELOG模式下运行数据库</h4>
                  <div>
                     <p>在<code class="codeph">NOARCHIVELOG</code>模式下运行数据库时，将禁用重做日志的归档。
                     </p>
                     <p>数据库控制文件指示不需要存档已填充的组。因此，当填充组在日志切换后变为非活动状态时，该组可供LGWR重用。</p>
                     <p><code class="codeph">NOARCHIVELOG</code>模式可以保护数据库免受实例故障的影响，但不能防止介质故障。只有对数据库所做的最新更改（存储在联机重做日志组中）才可用于实例恢复。如果在数据库处于<code class="codeph">NOARCHIVELOG</code>模式时发生介质故障，则只能将数据库还原到最新的完整数据库备份点。您无法恢复该备份之后的事务。
                     </p>
                     <p>在<code class="codeph">NOARCHIVELOG</code>模式下，您无法执行联机表空间备份，也无法在数据库处于<code class="codeph">ARCHIVELOG</code>模式时使用先前采用的联机表空间备份。要还原在<code class="codeph">NOARCHIVELOG</code>模式下运行的数据库，只能在数据库关闭时使用整个数据库备份。因此，如果您决定在<code class="codeph">NOARCHIVELOG</code>模式下操作数据库，请定期，频繁地进行整个数据库备份。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-archived-redo-log-files.html#GUID-2FF3967A-44E6-4EA1-8759-5DB2D67CBDE1" title="您必须在NOARCHIVELOG或ARCHIVELOG模式下运行数据库。">在NOARCHIVELOG和ARCHIVELOG模式之间进行选择</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN13042"></a><a id="ADMIN11332"></a><div class="props_rev_3"><a id="GUID-36F3335E-A28B-47BA-82C2-E17B4C8A453A" name="GUID-36F3335E-A28B-47BA-82C2-E17B4C8A453A"></a><h4 id="ADMIN-GUID-36F3335E-A28B-47BA-82C2-E17B4C8A453A" class="sect4"><span class="enumeration_section">12.2.2</span>在ARCHIVELOG模式下运行数据库</h4>
                  <div>
                     <p>在<code class="codeph">ARCHIVELOG</code>模式下运行数据库时，将启用重做日志的归档。
                     </p>
                     <p>数据库控制文件指示LGWR无法重复使用一组已填充的重做日志文件，直到该组被归档为止。在重做日志切换发生后，填充组可立即进行存档。</p>
                     <p>填充组的归档具有以下优点：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>数据库备份以及联机和归档重做日志文件可确保您可以在操作系统或磁盘发生故障时恢复所有已提交的事务。</p>
                        </li>
                        <li>
                           <p>如果保留存档日志，则可以在数据库打开和正常系统使用时使用备份。</p>
                        </li>
                        <li>
                           <p>通过将原始归档重做日志文件连续应用到备用数据库，可以使备用数据库与其原始数据库保持同步。</p>
                        </li>
                     </ul>
                     <p>您可以配置实例以自动存档已填充的重做日志文件，也可以手动存档。为了方便和高效，自动存档通常是最好的。 <a href="managing-archived-redo-log-files.html#GUID-36F3335E-A28B-47BA-82C2-E17B4C8A453A__i1006201">图12-1</a>说明了归档程序进程（本图中的ARC0）如何将填充的重做日志文件写入数据库归档重做日志。
                     </p>
                     <p>如果分布式数据库中的所有数据库都以<code class="codeph">ARCHIVELOG</code>模式运行，则可以执行协调的分布式数据库恢复。但是，如果分布式数据库中的任何数据库处于<code class="codeph">NOARCHIVELOG</code>模式，则恢复全局分布式数据库（使所有数据库保持一致）受限于在<code class="codeph">NOARCHIVELOG</code>模式下运行的任何数据库的上次完全备份。
                     </p>
                     <div class="figure" id="GUID-36F3335E-A28B-47BA-82C2-E17B4C8A453A__i1006201">
                        <p class="titleinfigure">图12-1 ARCHIVELOG模式下的重做日志文件使用</p><img src="img/admin056.gif" width="422" alt="下面是图12-1的描述" title="下面是图12-1的描述" longdesc="img_text/admin056.html"><br><a href="img_text/admin056.html">“图12-1在ARCHIVELOG模式下使用重做日志文件”的说明</a></div>
                     <!-- class="figure" -->
                     <div class="infobox-tip" id="GUID-36F3335E-A28B-47BA-82C2-E17B4C8A453A__GUID-EFBED8B0-1B95-42C2-B9EB-9CDE90505FC3">
                        <p class="notep1">小费：</p>
                        <p>将归档的重做日志文件和相应的数据库备份从本地磁盘移动到永久脱机存储介质（如磁带）是一种很好的做法。归档日志的主要值是数据库恢复，因此您需要确保在主数据库受到灾难时这些日志是安全的。</p>
                     </div>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-archived-redo-log-files.html#GUID-2FF3967A-44E6-4EA1-8759-5DB2D67CBDE1" title="您必须在NOARCHIVELOG或ARCHIVELOG模式下运行数据库。">在NOARCHIVELOG和ARCHIVELOG模式之间进行选择</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADMIN11333"></a><div class="props_rev_3"><a id="GUID-BE84B19D-7BE2-40D5-B962-5EF54E53095C" name="GUID-BE84B19D-7BE2-40D5-B962-5EF54E53095C"></a><h3 id="ADMIN-GUID-BE84B19D-7BE2-40D5-B962-5EF54E53095C" class="sect3"><span class="enumeration_section">12.3</span>控制存档</h3>
               <div>
                  <p>您可以为数据库设置存档模式并调整存档过程的数量。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-archived-redo-log-files.html#GUID-0FC1DF01-4AB0-4888-B61F-19D234DAB6CB">设置初始数据库存档模式</a><br>您可以在<code class="codeph">CREATE DATABASE</code>语句中将初始归档模式设置为数据库创建的一部分。
                     </li>
                     <li class="ulchildlink"><a href="managing-archived-redo-log-files.html#GUID-C12EA833-4717-430A-8919-5AEA747087B9">更改数据库归档模式</a><br>要更改数据库的归档模式，请使用带有<code class="codeph">ARCHIVELOG</code>或<code class="codeph">NOARCHIVELOG</code>子句的<code class="codeph">ALTER DATABASE</code>语句。
                     </li>
                     <li class="ulchildlink"><a href="managing-archived-redo-log-files.html#GUID-6796C2F0-C35B-42E0-85C2-C19A94855E96">执行手动存档</a><br>为了方便和高效，自动存档通常是最好的。但是，您可以仅将数据库配置为手动存档。
                     </li>
                     <li class="ulchildlink"><a href="managing-archived-redo-log-files.html#GUID-8E0F3F8E-0727-46F4-8E8E-FFEC2EE0D375">调整Archiver进程数</a><br><code class="codeph">LOG_ARCHIVE_MAX_PROCESSES</code>初始化参数指定数据库最初启动的ARC <span class="italic">n</span>进程数。默认值为四个进程。
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-BE84B19D-7BE2-40D5-B962-5EF54E53095C__GUID-6BCEAE57-F33B-4B47-8464-CFF36EB9E2BA">
                     <p class="notep1">也可以看看：</p>
                     <p>有关控制归档模式的其他信息，请参见Oracle操作系统特定文档</p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="managing-archived-redo-log-files.html#GUID-5EE4AC49-E1B2-41A2-BEE7-AA951EAAB2F3" title="您可以通过完成NOARCHIVELOG或ARCHIVELOG模式之间的选择以及指定存档目标等任务来管理存档的重做日志文件。">管理存档的重做日志文件</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN11334"></a><div class="props_rev_3"><a id="GUID-0FC1DF01-4AB0-4888-B61F-19D234DAB6CB" name="GUID-0FC1DF01-4AB0-4888-B61F-19D234DAB6CB"></a><h4 id="ADMIN-GUID-0FC1DF01-4AB0-4888-B61F-19D234DAB6CB" class="sect4"><span class="enumeration_section">12.3.1</span>设置初始数据库归档模式</h4>
                  <div>
                     <p>您可以在<code class="codeph">CREATE DATABASE</code>语句中将初始归档模式设置为数据库创建的一部分。
                     </p>
                     <div class="section">
                        <p>通常，您可以在创建数据库时使用默认的<code class="codeph">NOARCHIVELOG</code>模式，因为不需要存档该进程生成的重做信息。创建数据库后，决定是否更改初始存档模式。
                        </p>
                        <p>如果指定<code class="codeph">ARCHIVELOG</code>模式，则必须设置初始化参数，以指定归档重做日志文件的目标（请参阅<span class="q">“ <a href="managing-archived-redo-log-files.html#GUID-9D577C54-A0BF-43E9-BB56-24A9BFCF4F26" title="您可以选择将重做日志存档到单个目标或多个目标。">设置归档目标的初始化参数</a> ”</span> ）。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-archived-redo-log-files.html#GUID-BE84B19D-7BE2-40D5-B962-5EF54E53095C" title="您可以为数据库设置存档模式并调整存档过程的数量。">控制存档</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11335"></a><div class="props_rev_3"><a id="GUID-C12EA833-4717-430A-8919-5AEA747087B9" name="GUID-C12EA833-4717-430A-8919-5AEA747087B9"></a><h4 id="ADMIN-GUID-C12EA833-4717-430A-8919-5AEA747087B9" class="sect4"><span class="enumeration_section">12.3.2</span>更改数据库归档模式</h4>
                  <div>
                     <p>要更改数据库的归档模式，请使用带有<code class="codeph">ARCHIVELOG</code>或<code class="codeph">NOARCHIVELOG</code>子句的<code class="codeph">ALTER DATABASE</code>语句。
                     </p>
                     <div class="section">
                        <p>要更改存档模式，必须使用管理员权限（ <code class="codeph">AS SYSDBA</code> ）连接到数据库。
                        </p>
                        <p>以下步骤将数据库归档模式从<code class="codeph">NOARCHIVELOG</code>切换到<code class="codeph">ARCHIVELOG</code> ：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>关闭数据库实例。</span><div><pre class="oac_no_warn" dir="ltr">立即关闭</pre><p>必须先关闭打开的数据库，然后关闭所有关联的实例，然后才能切换数据库归档模式。如果任何数据文件需要介质恢复，则无法将模式从<code class="codeph">ARCHIVELOG</code>更改为<code class="codeph">NOARCHIVELOG</code> 。
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>备份数据库。</span><div>
                              <p>在对数据库进行任何重大更改之前，请始终备份数据库以防止出现任何问题。这将是<code class="codeph">NOARCHIVELOG</code>模式下数据库的最终备份，如果在更改<code class="codeph">ARCHIVELOG</code>模式期间出现问题，则可以使用它。有关进行<a href="../bradv/rman-backup-concepts.html#BRADV002" target="_blank"><span class="italic">数据库备份的信息，</span></a>请参见“ <a href="../bradv/rman-backup-concepts.html#BRADV002" target="_blank"><span class="italic">Oracle数据库备份和恢复用户指南”</span></a> 。
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>编辑初始化参数文件以包含指定归档重做日志文件的目标的初始化参数（请参阅<span class="q">“ <a href="managing-archived-redo-log-files.html#GUID-9D577C54-A0BF-43E9-BB56-24A9BFCF4F26" title="您可以选择将重做日志存档到单个目标或多个目标。">设置归档目标的初始化参数</a> ”</span> ）。</span></li>
                        <li class="stepexpand"><span>启动一个新实例并挂载，但不要打开数据库。</span><div><pre class="oac_no_warn" dir="ltr">启动安装</pre><p>要启用或禁用存档，必须装入数据库但不能打开。</p>
                           </div>
                        </li>
                        <li class="stepexpand" id="GUID-C12EA833-4717-430A-8919-5AEA747087B9__I1007390"><span>更改数据库归档模式。然后打开数据库以进行正常操作。</span><div><pre class="oac_no_warn" dir="ltr">ALTER DATABASE ARCHIVELOG; ALTER DATABASE OPEN;</pre></div>
                        </li>
                        <li class="stepexpand"><span>关闭数据库。</span><div><pre class="oac_no_warn" dir="ltr">立即关闭</pre></div>
                        </li>
                        <li class="stepexpand"><span>备份数据库。</span><div>
                              <p>更改数据库归档模式会更新控制文件。更改数据库归档模式后，必须备份所有数据库文件和控制文件。之前的任何备份都不再可用，因为它是在<code class="codeph">NOARCHIVELOG</code>模式下进行的。
                              </p>
                              <div class="infoboxnotealso" id="GUID-C12EA833-4717-430A-8919-5AEA747087B9__GUID-5195DD40-D4F1-4BC2-98AB-397AEB1BB19F">
                                 <p class="notep1">也可以看看：</p>
                                 <p>有关在使用Real Application Clusters时切换归档模式的详细信息，请参阅<a href="../racad/configuring-recovery-manager-and-archiving.html#RACAD327" target="_blank"><span class="italic">“Oracle Real Application Clusters管理和部署指南”</span></a></p>
                              </div>
                           </div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-archived-redo-log-files.html#GUID-BE84B19D-7BE2-40D5-B962-5EF54E53095C" title="您可以为数据库设置存档模式并调整存档过程的数量。">控制存档</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11336"></a><div class="props_rev_3"><a id="GUID-6796C2F0-C35B-42E0-85C2-C19A94855E96" name="GUID-6796C2F0-C35B-42E0-85C2-C19A94855E96"></a><h4 id="ADMIN-GUID-6796C2F0-C35B-42E0-85C2-C19A94855E96" class="sect4"><span class="enumeration_section">12.3.3</span>执行手动存档</h4>
                  <div>
                     <p>为了方便和高效，自动存档通常是最好的。但是，您可以仅将数据库配置为手动存档。</p>
                     <div class="section">
                        <p>在手动<code class="codeph">ARCHIVELOG</code>模式下操作数据库时，必须归档已填充的重做日志文件的非活动组，否则可以暂时中止数据库操作。
                        </p>
                        <p>要在手动存档模式下操作数据库：</p>
                        <ol>
                           <li>
                              <p>按照<span class="q">“ <a href="managing-archived-redo-log-files.html#GUID-C12EA833-4717-430A-8919-5AEA747087B9" title="要更改数据库的归档模式，请使用带有ARCHIVELOG或NOARCHIVELOG子句的ALTER DATABASE语句。">更改数据库存档模式</a> ”中</span>所述的过程，但使用以下语句替换<code class="codeph">ALTER</code> <code class="codeph">DATABASE</code>语句：</p><pre class="oac_no_warn" dir="ltr">ALTER DATABASE ARCHIVELOG MANUAL;</pre></li>
                           <li>
                              <p>以具有管理员权限的用户身份连接到数据库。</p>
                           </li>
                           <li>
                              <p>确保数据库已安装或打开。</p>
                           </li>
                           <li>
                              <p></p>
                              <p>使用带有<code class="codeph">ARCHIVE LOG</code>子句的<code class="codeph">ALTER SYSTEM</code>语句手动存档已填充的重做日志文件。例如，以下语句将归档所有未归档的重做日志文件：</p><pre class="oac_no_warn" dir="ltr">ALTER SYSTEM ARCHIVE LOG ALL;</pre></li>
                        </ol>
                        <p>使用手动存档模式时，无法在存档目标中指定任何备用数据库。</p>
                        <p>即使启用了自动存档，您也可以使用手动存档执行此操作，例如将非活动的已填充重做日志成员组重新归档到另一个位置。在这种情况下，实例可以在完成手动归档之前重用重做日志组，从而覆盖文件。如果发生这种情况，数据库会将错误消息写入警报日志。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="managing-archived-redo-log-files.html#GUID-36F3335E-A28B-47BA-82C2-E17B4C8A453A" title="在ARCHIVELOG模式下运行数据库时，将启用重做日志的归档。">在ARCHIVELOG模式下运行数据库</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-archived-redo-log-files.html#GUID-BE84B19D-7BE2-40D5-B962-5EF54E53095C" title="您可以为数据库设置存档模式并调整存档过程的数量。">控制存档</a></p>
                        </div>
                     </div>
                  </div>
               </div><a id="ADMIN11337"></a><div class="props_rev_3"><a id="GUID-8E0F3F8E-0727-46F4-8E8E-FFEC2EE0D375" name="GUID-8E0F3F8E-0727-46F4-8E8E-FFEC2EE0D375"></a><h4 id="ADMIN-GUID-8E0F3F8E-0727-46F4-8E8E-FFEC2EE0D375" class="sect4"><span class="enumeration_section">12.3.4</span>调整Archiver进程数</h4>
                  <div>
                     <p><code class="codeph">LOG_ARCHIVE_MAX_PROCESSES</code>初始化参数指定数据库最初启动的ARC <span class="italic">n</span>进程数。默认值为四个进程。
                     </p>
                     <div class="section">
                        <p>为了避免启动其他ARC <span class="italic">n</span>进程的任何运行时开销：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>设置<code class="codeph">LOG_ARCHIVE_MAX_PROCESSES</code>初始化参数以指定在实例启动时最多启动30个ARC <span class="italic">n</span>进程。
                              </p>
                           </li>
                        </ul>
                        <p><code class="codeph">LOG_ARCHIVE_MAX_PROCESSES</code>参数是动态的，因此您可以使用<code class="codeph">ALTER SYSTEM</code>语句更改它。
                        </p>
                        <p>以下语句将数据库配置为在启动时启动六个ARC <span class="italic">n</span>进程：</p><pre class="oac_no_warn" dir="ltr">ALTER SYSTEM SET LOG_ARCHIVE_MAX_PROCESSES = 6;</pre><p>该语句还对当前运行的实例产生直接影响。它将当前运行的ARC <span class="italic">n</span>进程数增加或减少到6。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-archived-redo-log-files.html#GUID-BE84B19D-7BE2-40D5-B962-5EF54E53095C" title="您可以为数据库设置存档模式并调整存档过程的数量。">控制存档</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADMIN11338"></a><div class="props_rev_3"><a id="GUID-FC700EB5-72AF-414F-8D36-327D266F0BA8" name="GUID-FC700EB5-72AF-414F-8D36-327D266F0BA8"></a><h3 id="ADMIN-GUID-FC700EB5-72AF-414F-8D36-327D266F0BA8" class="sect3"><span class="enumeration_section">12.4</span>指定存档目的地</h3>
               <div>
                  <p>在归档重做日志之前，必须确定要归档的目标，并熟悉各种目标状态。</p>
                  <p><span class="q">“ <a href="managing-archived-redo-log-files.html#GUID-62E48748-F8A8-4740-90B1-5B3708A63386" title="您可以使用动态性能视图或ARCHIVE LOG LIST命令显示有关归档重做日志的信息。">查看有关存档重做日志的信息</a> ”中</span>列出的动态性能（V $）视图提供了所有必需的存档信息。
                  </p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-archived-redo-log-files.html#GUID-9D577C54-A0BF-43E9-BB56-24A9BFCF4F26">设置存档目标的初始化参数</a><br>您可以选择将重做日志存档到单个目标或多个目标。
                     </li>
                     <li class="ulchildlink"><a href="managing-archived-redo-log-files.html#GUID-EA2AC2BF-E369-4074-A406-AF223A582ED6">使用日志归档目标组扩展备用目标</a><br>您可以使用日志归档目标组来扩展备用归档目标的数量。
                     </li>
                     <li class="ulchildlink"><a href="managing-archived-redo-log-files.html#GUID-D0B92621-7356-48FF-B7EA-4E15BBE1BED9">了解存档目标状态</a><br>有几个变量决定了归档目标的状态。
                     </li>
                     <li class="ulchildlink"><a href="managing-archived-redo-log-files.html#GUID-64C78392-5AD5-4972-A832-8BF3865D1945">指定备用目标</a><br>要仅在另一个目标发生故障时指定某个位置是归档目标，您可以将其作为备用目标。本地和远程目的地都可以是替代目的地。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="managing-archived-redo-log-files.html#GUID-5EE4AC49-E1B2-41A2-BEE7-AA951EAAB2F3" title="您可以通过完成NOARCHIVELOG或ARCHIVELOG模式之间的选择以及指定存档目标等任务来管理存档的重做日志文件。">管理存档的重做日志文件</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN00801"></a><div class="props_rev_3"><a id="GUID-9D577C54-A0BF-43E9-BB56-24A9BFCF4F26" name="GUID-9D577C54-A0BF-43E9-BB56-24A9BFCF4F26"></a><h4 id="ADMIN-GUID-9D577C54-A0BF-43E9-BB56-24A9BFCF4F26" class="sect4"><span class="enumeration_section">12.4.1</span>设置归档目标的初始化参数</h4>
                  <div>
                     <p>您可以选择将重做日志存档到单个目标或多个目标。</p>
                     <div class="section">
                        <p>目标可以是本地文件系统或Oracle自动存储管理（Oracle ASM）磁盘组或远程（在备用数据库上）。归档到多个目标时，会将每个填充的重做日志文件的副本写入每个目标。这些冗余副本有助于确保在其中一个目标发生故障时，归档日志始终可用。</p>
                        <p>要归档到仅一个目的地：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>使用<code class="codeph">LOG_ARCHIVE_DEST</code>初始化参数指定该目标。
                              </p>
                           </li>
                        </ul>
                        <p>要归档到多个目的地：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>选择使用<code class="codeph">LOG_ARCHIVE_DEST_</code> <span class="italic"><code class="codeph">n</code></span>初始化参数存档到两个或多个位置，或使用<code class="codeph">LOG_ARCHIVE_DEST</code>和<code class="codeph">LOG_ARCHIVE_DUPLEX_DEST</code>初始化参数仅存档到主目标和辅助目标。
                              </p>
                           </li>
                        </ul>
                        <p>对于本地目标，除了本地文件系统或Oracle ASM磁盘组之外，还可以归档到快速恢复区。数据库使用快速恢复区来存储和自动管理与备份和恢复相关的各种文件的磁盘空间。有关快速恢复区的详细信息，请参见“ <a href="../bradv/configuring-rman-client-basic.html#BRADV8183" target="_blank"><span class="italic">Oracle数据库备份和恢复用户指南”</span></a> 。
                        </p>
                        <p>通常，您在数据库规划期间确定存档日志目标，并在数据库安装期间设置存档目标的初始化参数。但是，您可以使用<code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code>命令在数据库运行后动态添加或更改归档目标。您所做的任何目标更改将在下一个日志切换（自动或手动）时生效。
                        </p>
                        <p>下表总结了归档目标替代方案，这些方案将在后续章节中进一步介绍。</p>
                        <div class="tblformalwide" id="GUID-9D577C54-A0BF-43E9-BB56-24A9BFCF4F26__GUID-5EBE9A39-B2EE-449F-991B-47F851D688C4">
                           <table cellpadding="4" cellspacing="0" class="FormalWide" title="" width="100%" border="1" summary="This table lists two methods for specifying archive log destinations. The method is identified in column 1, relevant initialization parameters are listed in column 2, the host environment is specified in column 3, and an example is given in column 4." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="11%" id="d136417e1298">方法</th>
                                    <th align="left" valign="bottom" width="37%" id="d136417e1301">初始化参数</th>
                                    <th align="left" valign="bottom" width="16%" id="d136417e1304">主办</th>
                                    <th align="left" valign="bottom" width="37%" id="d136417e1307">例</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="11%" id="d136417e1312" headers="d136417e1298 ">
                                       <p>1</p>
                                    </td>
                                    <td align="left" valign="top" width="37%" headers="d136417e1312 d136417e1301 ">
                                       <p><code class="codeph">LOG_ARCHIVE_DEST_</code> <span class="italic"><code class="codeph">n</code></span><span class="italic"></span></p>
                                       <p>哪里：</p>
                                       <p><span class="italic">n</span>是1至31的整数。归档目标1到10可用于本地或远程位置。存档目的地11至31仅适用于远程位置。
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="16%" headers="d136417e1312 d136417e1304 ">
                                       <p>本地或远程</p>
                                    </td>
                                    <td align="left" valign="top" width="37%" headers="d136417e1312 d136417e1307 ">
                                       <p><code class="codeph">LOG_ARCHIVE_DEST_1 ='LOCATION = / disk1 / arc'</code></p>
                                       <p><code class="codeph">LOG_ARCHIVE_DEST_2 ='LOCATION = / disk2 / arc'</code></p>
                                       <p><code class="codeph">LOG_ARCHIVE_DEST_3 ='SERVICE = standby1'</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="11%" id="d136417e1343" headers="d136417e1298 ">
                                       <p>2</p>
                                    </td>
                                    <td align="left" valign="top" width="37%" headers="d136417e1343 d136417e1301 ">
                                       <p><code class="codeph">LOG_ARCHIVE_DEST</code>和</p>
                                       <p><code class="codeph">LOG_ARCHIVE_DUPLEX_DEST</code></p>
                                    </td>
                                    <td align="left" valign="top" width="16%" headers="d136417e1343 d136417e1304 ">
                                       <p>仅限本地</p>
                                    </td>
                                    <td align="left" valign="top" width="37%" headers="d136417e1343 d136417e1307 ">
                                       <p><code class="codeph">LOG_ARCHIVE_DEST ='/ disk1 / arc'</code></p>
                                       <p><code class="codeph">LOG_ARCHIVE_DUPLEX_DEST ='/ disk2 / arc'</code></p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="managing-archived-redo-log-files.html#GUID-C883DC9C-0771-4146-9204-9F09B5682C9B">方法1：使用LOG_ARCHIVE_DEST_n参数</a><br>您可以使用<code class="codeph">LOG_ARCHIVE_DEST_</code> <span class="italic"><code class="codeph">n</code></span>初始化参数为归档日志指定不同的目标。
                        </li>
                        <li class="ulchildlink"><a href="managing-archived-redo-log-files.html#GUID-A13B0CC7-0383-478A-8EEE-17C0ECFF8EE1">方法2：使用LOG_ARCHIVE_DEST和LOG_ARCHIVE_DUPLEX_DEST</a><br>要指定最多两个位置，请使用<code class="codeph">LOG_ARCHIVE_DEST</code>参数指定主存档目标，使用<code class="codeph">LOG_ARCHIVE_DUPLEX_DEST</code>指定可选的辅助存档目标。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-archived-redo-log-files.html#GUID-FC700EB5-72AF-414F-8D36-327D266F0BA8" title="在归档重做日志之前，必须确定要归档的目标，并熟悉各种目标状态。">指定存档目标</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADMIN11339"></a><div class="props_rev_3"><a id="GUID-C883DC9C-0771-4146-9204-9F09B5682C9B" name="GUID-C883DC9C-0771-4146-9204-9F09B5682C9B"></a><h5 id="ADMIN-GUID-C883DC9C-0771-4146-9204-9F09B5682C9B" class="sect5"><span class="enumeration_section">12.4.1.1</span>方法1：使用LOG_ARCHIVE_DEST_ <span class="italic">n</span>参数</h5>
                     <div>
                        <p>您可以使用<code class="codeph">LOG_ARCHIVE_DEST_</code> <span class="italic"><code class="codeph">n</code></span>初始化参数为归档日志指定不同的目标。
                        </p>
                        <div class="section">
                           <p>设置<code class="codeph">LOG_ARCHIVE_DEST_</code> <span class="italic"><code class="codeph">n</code></span>初始化参数（其中<span class="italic">n</span>是1到31之间的整数）以指定从1到31。每个数字后缀参数唯一地标识单个目的地。
                           </p>
                           <p>您可以使用下表中说明的关键字指定<code class="codeph">LOG_ARCHIVE_DEST_</code> <span class="italic"><code class="codeph">n</code></span>的位置：</p>
                           <div class="tblformalwide" id="GUID-C883DC9C-0771-4146-9204-9F09B5682C9B__GUID-9C44838E-6493-4F17-A19C-807315BCA81F">
                              <table cellpadding="4" cellspacing="0" class="FormalWide" title="" width="100%" border="1" summary="Keywords of the LOG_ARCHIVE_DEST_n initialization parameter are listed in column 1, what the keyword indicates is shown in column 2, and an example is provided in column 3." frame="hsides" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="17%" id="d136417e1470">关键词</th>
                                       <th align="left" valign="bottom" width="28%" id="d136417e1473">指示</th>
                                       <th align="left" valign="bottom" width="55%" id="d136417e1476">例</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="17%" id="d136417e1481" headers="d136417e1470 ">
                                          <p><code class="codeph">地点</code></p>
                                       </td>
                                       <td align="left" valign="top" width="28%" headers="d136417e1481 d136417e1473 ">
                                          <p>本地文件系统位置或Oracle ASM磁盘组</p>
                                       </td>
                                       <td align="left" valign="top" width="55%" headers="d136417e1481 d136417e1476 ">
                                          <p><code class="codeph">LOG_ARCHIVE_DEST_</code> <span class="italic"><code class="codeph">n</code></span> <code class="codeph">= 'LOCATION=/disk1/arc'</code> 
                                          </p>
                                          <p><code class="codeph">LOG_ARCHIVE_DEST_</code> <span class="italic"><code class="codeph">n</code></span> <code class="codeph">= 'LOCATION=+DGROUP1/orcl/arc_1'</code></p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="17%" id="d136417e1507" headers="d136417e1470 ">
                                          <p><code class="codeph">地点</code></p>
                                       </td>
                                       <td align="left" valign="top" width="28%" headers="d136417e1507 d136417e1473 ">
                                          <p>快速恢复区</p>
                                       </td>
                                       <td align="left" valign="top" width="55%" headers="d136417e1507 d136417e1476 ">
                                          <p><code class="codeph">LOG_ARCHIVE_DEST_</code> <span class="italic"><code class="codeph">n</code></span> <code class="codeph">= 'LOCATION=USE_DB_RECOVERY_FILE_DEST'</code> 
                                          </p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="17%" id="d136417e1525" headers="d136417e1470 ">
                                          <p><code class="codeph">服务</code></p>
                                       </td>
                                       <td align="left" valign="top" width="28%" headers="d136417e1525 d136417e1473 ">
                                          <p>通过Oracle Net服务名远程存档。</p>
                                       </td>
                                       <td align="left" valign="top" width="55%" headers="d136417e1525 d136417e1476 ">
                                          <p><code class="codeph">LOG_ARCHIVE_DEST_</code> <span class="italic"><code class="codeph">n</code></span> <code class="codeph">= 'SERVICE=standby1'</code> 
                                          </p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                           <p>如果使用<code class="codeph">LOCATION</code>关键字，请指定以下之一：</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>操作系统的本地文件系统中的有效路径名</p>
                              </li>
                              <li>
                                 <p>Oracle ASM磁盘组</p>
                              </li>
                              <li>
                                 <p>关键字<code class="codeph">USE_DB_RECOVERY_FILE_DEST</code>表示快速恢复区</p>
                              </li>
                           </ul>
                           <p>如果指定<code class="codeph">SERVICE</code> ，请提供Oracle Net可以解析为备用数据库的连接描述符的网络服务名称。连接描述符包含连接到远程数据库所需的信息。
                           </p>
                           <p>执行以下步骤，使用<code class="codeph">LOG_ARCHIVE_DEST_</code> <span class="italic"><code class="codeph">n</code></span>初始化参数设置归档重做日志文件的目标：</p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>设置<code class="codeph">LOG_ARCHIVE_DEST_</code> <span class="italic"><code class="codeph">n</code></span>初始化参数以指定从1个归档位置到31个归档位置。例如，输入：</span><div><pre class="oac_no_warn" dir="ltr">LOG_ARCHIVE_DEST_1 ='LOCATION = / disk1 / archive'LOG_ARCHIVE_DEST_2 ='LOCATION = / disk2 / archive'LOG_ARCHIVE_DEST_3 ='LOCATION = + RECOVERY / orcl / arc_3'</pre><p>如果要归档到备用数据库，则使用<code class="codeph">SERVICE</code>关键字指定有效的网络服务名称。例如，输入：</p><pre class="oac_no_warn" dir="ltr">LOG_ARCHIVE_DEST_4 ='SERVICE = standby1'</pre></div>
                           </li>
                           <li class="stepexpand" id="GUID-C883DC9C-0771-4146-9204-9F09B5682C9B__i1008112"><span>（可选）设置<code class="codeph">LOG_ARCHIVE_FORMAT</code>初始化参数，使用<code class="codeph">%t</code>包含作为文件名一部分的线程号， <code class="codeph">%s</code>包括日志序列号， <code class="codeph">%r</code>包括resetlogs ID（以ub4表示的时间戳值）。使用大写字母（ <code class="codeph">%T</code> ， <code class="codeph">%S</code>和<code class="codeph">%R</code> ）以零填充左侧的文件名。</span><div>
                                 <div class="infoboxnote" id="GUID-C883DC9C-0771-4146-9204-9F09B5682C9B__GUID-2C21D6DA-4905-46FC-86B8-BBCD7A0C5AD7">
                                    <p class="notep1">注意：</p>
                                    <p>包含<code class="codeph">LOG_ARCHIVE_FORMAT</code>参数时，数据库需要指定resetlogs ID（ <code class="codeph">%r</code> ）。此参数的默认值取决于操作系统。
                                    </p>
                                    <p>使用<code class="codeph">RESETLOGS</code>选项打开数据库时，数据库的化身会发生变化。指定<code class="codeph">%r</code>会导致数据库捕获归档重做日志文件名中的resetlogs ID。有关此恢复方法的详细信息，请参阅“ <a href="../bradv/rman-data-repair-concepts.html#BRADV1171" target="_blank"><span class="italic">Oracle数据库备份和恢复用户指南”</span></a> 。
                                    </p>
                                 </div>
                                 <p>以下示例显示了<code class="codeph">LOG_ARCHIVE_FORMAT</code>的设置：</p><pre class="oac_no_warn" dir="ltr">LOG_ARCHIVE_FORMAT = arch_％t_％s_％r.arc</pre><p>此设置将为线程1生成如下的存档日志;日志序列号100,101和102; resetlogs ID 509210197。相同的resetlogs ID表示这些文件都来自同一个数据库化身：</p><pre class="oac_no_warn" dir="ltr">/disk1/archive/arch_1_100_509210197.arc,/disk1/archive/arch_1_101_509210197.arc,/disk1/archive/arch_1_102_509210197.arc /disk2/archive/arch_1_100_509210197.arc,/disk2/archive/arch_1_101_509210197.arc,/ disk2 / archive / arch_1_102_509210197 .arc /disk3/archive/arch_1_100_509210197.arc,/disk3/archive/arch_1_101_509210197.arc,/disk3/archive/arch_1_102_509210197.arc</pre></div>
                           </li>
                        </ol>
                        <div class="section">
                           <p>在某些情况下，将忽略<code class="codeph">LOG_ARCHIVE_FORMAT</code>初始化参数。有关此参数的详细信息，请参阅<a href="../refrn/LOG_ARCHIVE_FORMAT.html#REFRN10089" target="_blank"><span class="italic">Oracle数据库参考</span></a> 。
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="managing-archived-redo-log-files.html#GUID-9D577C54-A0BF-43E9-BB56-24A9BFCF4F26" title="您可以选择将重做日志存档到单个目标或多个目标。">设置归档目标的初始化参数</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11340"></a><div class="props_rev_3"><a id="GUID-A13B0CC7-0383-478A-8EEE-17C0ECFF8EE1" name="GUID-A13B0CC7-0383-478A-8EEE-17C0ECFF8EE1"></a><h5 id="ADMIN-GUID-A13B0CC7-0383-478A-8EEE-17C0ECFF8EE1" class="sect5"><span class="enumeration_section">12.4.1.2</span>方法2：使用LOG_ARCHIVE_DEST和LOG_ARCHIVE_DUPLEX_DEST</h5>
                     <div>
                        <p>要指定最多两个位置，请使用<code class="codeph">LOG_ARCHIVE_DEST</code>参数指定主存档目标，使用<code class="codeph">LOG_ARCHIVE_DUPLEX_DEST</code>指定可选的辅助存档目标。
                        </p>
                        <div class="section">
                           <p>所有地点都必须是当地的。只要数据库归档重做日志，它就会将其归档到由任一参数集指定的每个目标。</p>
                           <p>使用方法2执行以下步骤：</p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>指定<code class="codeph">LOG_ARCHIVE_DEST</code>和<code class="codeph">LOG_ARCHIVE_DUPLEX_DEST</code>参数的目标（您还可以使用<code class="codeph">ALTER SYSTEM</code>语句动态指定<code class="codeph">LOG_ARCHIVE_DUPLEX_DEST</code> ）。例如，输入：</span><div><pre class="oac_no_warn" dir="ltr">LOG_ARCHIVE_DEST ='/ disk1 / archive'LOG_ARCHIVE_DUPLEX_DEST ='/ disk2 / archive'</pre></div>
                           </li>
                           <li class="stepexpand"><span>按方法1的步骤<a href="managing-archived-redo-log-files.html#GUID-C883DC9C-0771-4146-9204-9F09B5682C9B__i1008112">2中</a>所述设置<code class="codeph">LOG_ARCHIVE_FORMAT</code>初始化参数。</span></li>
                        </ol>
                        <div class="section">
                           <div class="infoboxnote" id="GUID-A13B0CC7-0383-478A-8EEE-17C0ECFF8EE1__GUID-F86415FB-886B-40F2-B7A6-88BFD1AA4B3F">
                              <p class="notep1">注意：</p>
                              <p>如果配置快速恢复区（通过设置<code class="codeph">DB_RECOVERY_FILE_DEST</code>和<code class="codeph">DB_RECOVERY_FILE_DEST_SIZE</code>参数）并且未指定任何本地存档目标，则数据库会自动选择快速恢复区作为本地存档目标，并将<code class="codeph">LOG_ARCHIVE_DEST_1</code>设置为<code class="codeph">USE_DB_RECOVERY_FILE_DEST</code> 。</p>
                           </div>
                           <div class="infoboxnotewarn" id="GUID-A13B0CC7-0383-478A-8EEE-17C0ECFF8EE1__GUID-8E4B98CD-E996-4759-9A5B-E16B0A296655">
                              <p class="notep1">警告：</p>
                              <p>您必须确保存档日志目标始终有足够的磁盘空间。如果数据库在尝试归档日志文件时遇到磁盘已满错误，则会发生致命错误并且数据库停止响应。您可以检查警报日志以获取磁盘已满信息。</p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-A13B0CC7-0383-478A-8EEE-17C0ECFF8EE1__GUID-CDEF9887-29AB-4B52-AF99-E4B6175A0EEA">
                           <p class="notep1">也可以看看：</p>
                           <p></p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>有关用于控制重做日志归档的初始化参数的其他信息，请<a href="../refrn/index.html" target="_blank"><span class="italic">参见Oracle数据库参考</span></a></p>
                              </li>
                              <li>
                                 <p><a href="../sbydb/oracle-data-guard-redo-transport-services.html#SBYDB00400" target="_blank"><span class="italic">Oracle数据卫士概念和管理</span></a>的有关使用<code class="codeph">LOG_ARCHIVE_DEST_</code> <span class="italic"><code class="codeph">n</code></span> <span class="italic"> </span>用于指定备用目标的初始化参数。可以使用此初始化参数指定的其他关键字未在本书中讨论。
                                 </p>
                              </li>
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=NETAG186" target="_blank"><span class="italic">“Oracle数据库网络服务管理员指南”，</span></a>用于讨论网络服务名称和连接描述符。
                                 </p>
                              </li>
                              <li>
                                 <p>有关快速恢复区的信息，请参见<a href="../bradv/configuring-rman-client-basic.html#BRADV8183" target="_blank"><span class="italic">“Oracle数据库备份和恢复用户指南”</span></a></p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="managing-archived-redo-log-files.html#GUID-9D577C54-A0BF-43E9-BB56-24A9BFCF4F26" title="您可以选择将重做日志存档到单个目标或多个目标。">设置归档目标的初始化参数</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
               <div class="sect3"><a id="GUID-EA2AC2BF-E369-4074-A406-AF223A582ED6" name="GUID-EA2AC2BF-E369-4074-A406-AF223A582ED6"></a><h4 id="ADMIN-GUID-EA2AC2BF-E369-4074-A406-AF223A582ED6" class="sect4"><span class="enumeration_section">12.4.2</span>使用日志归档目标组扩展备用目标</h4>
                  <div>
                     <p>您可以使用日志归档目标组来扩展备用归档目标的数量。</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="managing-archived-redo-log-files.html#GUID-17979201-6775-4F5D-B8AB-DB1DE3FAD80E">关于日志存档目标组</a><br>日志归档目标组指定多个归档目标，并且可以对组中的目标进行优先级排序。您可以指定多个组以扩展数据库的可能存档目标数。
                        </li>
                        <li class="ulchildlink"><a href="managing-archived-redo-log-files.html#GUID-840A49BE-9410-4D28-B4E8-6FBF6C1E9021">指定日志归档目标组</a><br>使用<code class="codeph">LOG_ARCHIVE_DEST_ <span class="codeinlineitalic">n</span></code>初始化参数的<code class="codeph">GROUP</code>属性指定日志归档目标组。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-archived-redo-log-files.html#GUID-FC700EB5-72AF-414F-8D36-327D266F0BA8" title="在归档重做日志之前，必须确定要归档的目标，并熟悉各种目标状态。">指定存档目标</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="sect4"><a id="GUID-17979201-6775-4F5D-B8AB-DB1DE3FAD80E" name="GUID-17979201-6775-4F5D-B8AB-DB1DE3FAD80E"></a><h5 id="ADMIN-GUID-17979201-6775-4F5D-B8AB-DB1DE3FAD80E" class="sect5"><span class="enumeration_section">12.4.2.1</span>关于日志归档目标组</h5>
                     <div>
                        <p>日志归档目标组指定多个归档目标，并且可以对组中的目标进行优先级排序。您可以指定多个组以扩展数据库的可能存档目标数。</p>
                        <p>要指定日志归档目标组，请使用<code class="codeph">LOG_ARCHIVE_DEST_ <span class="codeinlineitalic">n</span></code>初始化参数的<code class="codeph">GROUP</code>属性。组中最多可包含30个日志归档目标。每个组中的一个成员处于活动状态，其他成员可在活动目标发生故障时使用。如果活动目标变为非活动状态，则只要组中有一个或多个可用目标，Oracle数据库就会切换到可用目标。您可以通过使用<code class="codeph">PRIORITY</code>属性确定目的地的<code class="codeph">PRIORITY</code>级来指定首先使用的目的地。
                        </p>
                        <p>日志归档目标组由组编号引用，该组编号在创建组时指定。最多可以有八个组。要指定归档组中重做数据的位置，所有日志归档目标都必须指定<code class="codeph">SERVICE</code>属性。
                        </p>
                        <p>要确定组中目标的优先级，请将目标的<code class="codeph">PRIORITY</code>属性设置为1到8之间的整数。数字越小表示优先级越高。优先级确定在装入数据库或活动目标失败时组中的哪个目标处于活动状态。例如， <code class="codeph">PRIORITY</code>值为<code class="codeph">2</code>的优先级高于<code class="codeph">PRIORITY</code>值<code class="codeph">7</code> 。因此，如果组中<code class="codeph">PRIORITY</code>值为<code class="codeph">1</code>的当前活动目标变为非活动状态，则在<code class="codeph">PRIORITY</code>值为<code class="codeph">7</code>的目标之前使用<code class="codeph">PRIORITY</code>值为<code class="codeph">2</code>的目标。如果未为目标设置<code class="codeph">PRIORITY</code>属性，则默认值为<code class="codeph">1</code> 。
                        </p>
                        <p>当先前失败的目的地变得可用时，也考虑优先级。如果活动目标失败，并且Oracle数据库切换到优先级较低的目标，则Oracle数据库会在再次可用时切换回具有更高优先级的目标。例如，如果优先级为1的活动目标变为非活动状态，并且Oracle数据库切换到优先级为2的目标，则Oracle数据库在再次可用时切换回优先级为1的目标，即使优先级2目标未失败。</p>
                        <p>但是，分配给同一组的多个目标可以具有相同的优先级。例如，可以有三个目标优先级为1。在这样的组中，活动目的地的故障导致切换到具有相同优先级的另一个成员。在这种情况下，当它再次可用时，没有切换回原始目的地，因为两个目的地具有相同的优先级。如果第二个目标在第一个目标再次可用后失败，则数据库将切换到具有相同优先级的组中的第一个目标或另一个目标。</p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-17979201-6775-4F5D-B8AB-DB1DE3FAD80E__GUID-5E9E2502-2804-431D-A737-B0739819C3E4">
                           <p class="notep1">也可以看看：</p><a href="../sbydb/creating-oracle-data-guard-far-sync-instance.html#SBYDB-GUID-5CA464E7-40B6-486C-AF95-2F04493EB2DD" target="_blank"><span><cite>Oracle Data Guard概念和管理</cite></span></a></div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="managing-archived-redo-log-files.html#GUID-EA2AC2BF-E369-4074-A406-AF223A582ED6" title="您可以使用日志归档目标组来扩展备用归档目标的数量。">使用日志归档目标组扩展备用目标</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-840A49BE-9410-4D28-B4E8-6FBF6C1E9021" name="GUID-840A49BE-9410-4D28-B4E8-6FBF6C1E9021"></a><h5 id="ADMIN-GUID-840A49BE-9410-4D28-B4E8-6FBF6C1E9021" class="sect5"><span class="enumeration_section">12.4.2.2</span>指定日志归档目标组</h5>
                     <div>
                        <p>使用<code class="codeph">LOG_ARCHIVE_DEST_ <span class="codeinlineitalic">n</span></code>初始化参数的<code class="codeph">GROUP</code>属性指定日志归档目标组。
                        </p>
                        <div class="section">
                           <p>您最多可以创建八个日志归档目标组，每个组最多可以指定30个目标。</p>
                        </div>
                        <!-- class="section" -->
                        <div class="p">要指定日志归档目标组，数据库必须以<code class="codeph">ARCHIVELOG</code>模式运行。
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>设置<code class="codeph">LOG_ARCHIVE_DEST_ <span class="codeinlineitalic">n</span></code>初始化参数，并包括<code class="codeph">GROUP</code>属性以指定日志归档目标组。
                                 </p>
                                 <p>（可选）包括<code class="codeph">PRIORITY</code>属性，以指定在启动系统或目标失败时组中的哪个日志归档目标处于活动状态。
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-840A49BE-9410-4D28-B4E8-6FBF6C1E9021__GUID-A200D0DC-0AFE-4988-A6F9-B89BB55B201A">
                           <p class="titleinexample">示例12-1指定两个日志归档目标组</p>
                           <p>此示例指定两个日志归档目标组（1和2）。每个组都指定了三个日志归档目标。</p><pre class="pre codeblock"><code>LOG_ARCHIVE_DEST_1 ='SERVICE = SITEa VALID_FOR =（ONLINE_LOGFILES，PRIMARY_ROLE）GROUP = 1'LOG_ARCHIVE_DEST_2 ='SERVICE = SITEb VALID_FOR =（ONLINE_LOGFILES，PRIMARY_ROLE）GROUP = 1'LOG_ARCHIVE_DEST_3 ='SERVICE = SITEc VALID_FOR =（ONLINE_LOGFILES，PRIMARY_ROLE）GROUP = 1 'LOG_ARCHIVE_DEST_4 ='SERVICE = SITE1 VALID_FOR =（ONLINE_LOGFILES，PRIMARY_ROLE）GROUP = 2'LOG_ARCHIVE_DEST_5 ='SERVICE = SITE2 VALID_FOR =（ONLINE_LOGFILES，PRIMARY_ROLE）GROUP = 2'LOG_ARCHIVE_DEST_6 ='SERVICE = SITE3 VALID_FOR =（ONLINE_LOGFILES，PRIMARY_ROLE）GROUP = 2'</code></pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-840A49BE-9410-4D28-B4E8-6FBF6C1E9021__GUID-A826467A-D262-410D-9B4B-6F1DB900B530">
                           <p class="titleinexample">示例12-2指定日志归档目标组中的优先级</p>
                           <p>此示例为单个日志归档目标组中的目标指定不同的优先级。具体地，目的地1和2都处于优先级1，目的地3处于优先级2，目的地4处于优先级3。</p><pre class="pre codeblock"><code>LOG_ARCHIVE_DEST_1 ='SERVICE = SITE1 SYNC VALID_FOR =（ONLINE_LOGFILES，PRIMARY_ROLE）GROUP = 1 PRIORITY = 1'LOG_ARCHIVE_DEST_2 ='SERVICE = SITE2 SYNC VALID_FOR =（ONLINE_LOGFILES，PRIMARY_ROLE）GROUP = 1 PRIORITY = 1'LOG_ARCHIVE_DEST_3 ='SERVICE = SITE3 ASYNC VALID_FOR =（ONLINE_LOGFILES，PRIMARY_ROLE）GROUP = 1 PRIORITY = 2'LOG_ARCHIVE_DEST_4 ='SERVICE = SITE4 ASYNC VALID_FOR =（ONLINE_LOGFILES，PRIMARY_ROLE）GROUP = 1 PRIORITY = 3'</code></pre><p>在此示例中，站点1,2和3可以是仅转发重做的Oracle Data Guard远程同步实例，而站点4是实际的远程备用数据库。或者，站点1,2,3和4都可以是备用数据库，这些备用数据库被配置为当它们是活动目的地时将重做级联到其他站点。</p>
                           <p>遵循以下优先级规则：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>默认活动目标可以是目标1或目标2，因为两者都处于优先级1。</p>
                              </li>
                              <li>
                                 <p>如果目标1处于活动状态但随后变为不可用，则Oracle数据库将切换到目标2。同样，如果目标2处于活动状态但随后变为不可用，则Oracle数据库将切换到目标1。当目标1或2可用时，使用其中一个。</p>
                              </li>
                              <li>
                                 <p>如果目的地1和目的地2都变得不可用，则使用目的地3。</p>
                              </li>
                              <li>
                                 <p>如果，当目标3处于活动状态时，目标1或目标2变为可用，Oracle数据库将切换到可用的优先级1目标。</p>
                              </li>
                              <li>
                                 <p>如果目的地1,2和3都变得不可用，则使用目的地4。</p>
                              </li>
                              <li>
                                 <p>如果，当目标4处于活动状态，目标1,2或3变为可用时，Oracle数据库首先切换到可用的优先级1目标，然后切换到可用的优先级2目标。</p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-840A49BE-9410-4D28-B4E8-6FBF6C1E9021__GUID-70AE9C3C-E03B-4ECC-A020-70377147D32D">
                           <p class="notep1">也可以看看：</p><a href="../sbydb/creating-oracle-data-guard-far-sync-instance.html#SBYDB-GUID-5CA464E7-40B6-486C-AF95-2F04493EB2DD" target="_blank"><span><cite>Oracle Data Guard概念和管理</cite></span></a></div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="managing-archived-redo-log-files.html#GUID-EA2AC2BF-E369-4074-A406-AF223A582ED6" title="您可以使用日志归档目标组来扩展备用归档目标的数量。">使用日志归档目标组扩展备用目标</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="ADMIN11341"></a><div class="props_rev_3"><a id="GUID-D0B92621-7356-48FF-B7EA-4E15BBE1BED9" name="GUID-D0B92621-7356-48FF-B7EA-4E15BBE1BED9"></a><h4 id="ADMIN-GUID-D0B92621-7356-48FF-B7EA-4E15BBE1BED9" class="sect4"><span class="enumeration_section">12.4.3</span>了解存档目标状态</h4>
                  <div>
                     <p>有几个变量决定了归档目标的状态。</p>
                     <p>每个归档目标都具有以下可变特征，用于确定其状态：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="bold">有效/无效</span> ：指示磁盘位置或服务名称信息是否已指定且有效</p>
                        </li>
                        <li>
                           <p><span class="bold">启用/禁用</span> ：指示位置的可用性状态以及数据库是否可以使用目标</p>
                        </li>
                        <li>
                           <p><span class="bold">活动/非活动</span> ：指示访问目标时是否存在问题</p>
                        </li>
                     </ul>
                     <p>这些特征的几种组合是可能的。要获取有关实例的每个目标的当前状态和其他信息，请查询<code class="codeph">V$ARCHIVE_DEST</code>视图。
                     </p>
                     <p><a id="d136417e2161" class="indexterm-anchor"></a><a id="d136417e2165" class="indexterm-anchor"></a>该<a id="d136417e2170" class="indexterm-anchor"></a><a id="d136417e2174" class="indexterm-anchor"></a> <code class="codeph">LOG_ARCHIVE_DEST_STATE_</code> <span class="italic"><code class="codeph">n</code></span> （其中<span class="italic">n</span>是1到31之间的整数）初始化参数允许您控制指定目标的可用性状态（ <span class="italic">n</span> ）。
                     </p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">ENABLE</code>表示数据库可以使用目标。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">DEFER</code>表示该位置暂时被禁用。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">ALTERNATE</code>表示目的地是替代。备用目的地的可用性状态是<code class="codeph">DEFER</code> 。如果其父目标失败，则备用项的可用性状态将变为<code class="codeph">ENABLE</code> 。 <code class="codeph">ALTERNATE</code>不能为目的地指定<code class="codeph">LOG_ARCHIVE_DEST_11</code>到<code class="codeph">LOG_ARCHIVE_DEST_31</code> 。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-archived-redo-log-files.html#GUID-FC700EB5-72AF-414F-8D36-327D266F0BA8" title="在归档重做日志之前，必须确定要归档的目标，并熟悉各种目标状态。">指定存档目标</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN13277"></a><div class="props_rev_3"><a id="GUID-64C78392-5AD5-4972-A832-8BF3865D1945" name="GUID-64C78392-5AD5-4972-A832-8BF3865D1945"></a><h4 id="ADMIN-GUID-64C78392-5AD5-4972-A832-8BF3865D1945" class="sect4"><span class="enumeration_section">12.4.4</span>指定备用目的地</h4>
                  <div>
                     <p>要仅在另一个目标发生故障时指定某个位置是归档目标，您可以将其作为备用目标。本地和远程目的地都可以是替代目的地。</p>
                     <div class="section">
                        <p>以下示例使<code class="codeph">LOG_ARCHIVE_DEST_4</code>一个备用<code class="codeph">LOG_ARCHIVE_DEST_3</code> ：</p><pre class="oac_no_warn" dir="ltr">ALTER SYSTEM SET LOG_ARCHIVE_DEST_4 ='LOCATION = / disk4 / arch'; ALTER SYSTEM SET LOG_ARCHIVE_DEST_3 ='LOCATION = / disk3 / arch MAX_FAILURE = 1 ALTERNATE = LOG_ARCHIVE_DEST_4'; ALTER SYSTEM SET LOG_ARCHIVE_DEST_STATE_4 = ALTERNATE; SQL&gt; SELECT dest_name，status，destination FROM v $ archive_dest; DEST_NAME STATUS DESTINATION ----------------------- --------- --------------- ------------------------------- LOG_ARCHIVE_DEST_1 VALID / disk1 / arch LOG_ARCHIVE_DEST_2 VALID / disk2 / arch LOG_ARCHIVE_DEST_3 VALID / disk3 / arch LOG_ARCHIVE_DEST_4 ALTERNATE / disk4 / arch</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-archived-redo-log-files.html#GUID-FC700EB5-72AF-414F-8D36-327D266F0BA8" title="在归档重做日志之前，必须确定要归档的目标，并熟悉各种目标状态。">指定存档目标</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADMIN11342"></a><div class="props_rev_3"><a id="GUID-2A6DDDDA-4127-4574-8F2D-07AC926FCEBB" name="GUID-2A6DDDDA-4127-4574-8F2D-07AC926FCEBB"></a><h3 id="ADMIN-GUID-2A6DDDDA-4127-4574-8F2D-07AC926FCEBB" class="sect3"><span class="enumeration_section">12.5</span>关于日志传输模式</h3>
               <p>将归档日志传输到目的地的两种模式是<span class="bold">正常归档传输</span>和<span class="bold">备用传输</span>模式。正常传输涉及将文件传输到本地磁盘。备用传输涉及通过网络将文件传输到本地或远程备用数据库。
               </p>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-archived-redo-log-files.html#GUID-6754FD0F-19C2-4B82-8CAE-6011589AA410">正常传输模式</a><br>在正常传输模式下，归档目标是数据库服务器的另一个磁盘驱动器。
                     </li>
                     <li class="ulchildlink"><a href="managing-archived-redo-log-files.html#GUID-77723E1D-B909-466B-9D7F-2ADC24DD3078">待机传输模式</a><br>在备用传输模式下，归档目标是本地或远程备用数据库。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="managing-archived-redo-log-files.html#GUID-5EE4AC49-E1B2-41A2-BEE7-AA951EAAB2F3" title="您可以通过完成NOARCHIVELOG或ARCHIVELOG模式之间的选择以及指定存档目标等任务来管理存档的重做日志文件。">管理存档的重做日志文件</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN11343"></a><div class="props_rev_3"><a id="GUID-6754FD0F-19C2-4B82-8CAE-6011589AA410" name="GUID-6754FD0F-19C2-4B82-8CAE-6011589AA410"></a><h4 id="ADMIN-GUID-6754FD0F-19C2-4B82-8CAE-6011589AA410" class="sect4"><span class="enumeration_section">12.5.1</span>正常传输模式</h4>
                  <div>
                     <p>在正常传输模式下，归档目标是数据库服务器的另一个磁盘驱动器。</p>
                     <p>在此配置中，归档不会与实例所需的其他文件竞争，并且可以更快地完成。使用<code class="codeph">LOG_ARCHIVE_DEST_</code> <span class="italic"><code class="codeph">n</code></span>或<code class="codeph">LOG_ARCHIVE_DEST</code>参数指定目标。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-archived-redo-log-files.html#GUID-2A6DDDDA-4127-4574-8F2D-07AC926FCEBB" title="将归档日志传输到目的地的两种模式是正常归档传输和备用传输模式。正常传输涉及将文件传输到本地磁盘。备用传输涉及通过网络将文件传输到本地或远程备用数据库。">关于日志传输模式</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11344"></a><div class="props_rev_3"><a id="GUID-77723E1D-B909-466B-9D7F-2ADC24DD3078" name="GUID-77723E1D-B909-466B-9D7F-2ADC24DD3078"></a><h4 id="ADMIN-GUID-77723E1D-B909-466B-9D7F-2ADC24DD3078" class="sect4"><span class="enumeration_section">12.5.2</span>待机传输模式</h4>
                  <div>
                     <p>在备用传输模式下，归档目标是本地或远程备用数据库。</p>
                     <div class="infoboxnote" id="GUID-77723E1D-B909-466B-9D7F-2ADC24DD3078__GUID-A9106CB4-D286-43BA-8ACB-162B396BA694">
                        <p class="notep1">注意：</p>
                        <p>您可以在本地磁盘上维护备用数据库，但Oracle强烈建议您通过在远程站点维护备用数据库来最大限度地提高灾难保护。</p>
                     </div>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-77723E1D-B909-466B-9D7F-2ADC24DD3078__GUID-EBD0BB89-2FB0-446D-B054-735DDA80DD34">
                        <p class="notep1">也可以看看：</p>
                        <p></p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="../sbydb/oracle-data-guard-redo-transport-services.html#SBYDB00400" target="_blank"><span class="italic">Oracle Data Guard概念和管理</span></a></p>
                           </li>
                           <li>
                              <p>有关使用服务名称连接到远程数据库的信息，请<a href="../netag/identifying-and-accessing-database.html#NETAG002" target="_blank"><span class="italic">参见“Oracle数据库网络服务管理员指南”</span></a></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-archived-redo-log-files.html#GUID-2A6DDDDA-4127-4574-8F2D-07AC926FCEBB" title="将归档日志传输到目的地的两种模式是正常归档传输和备用传输模式。正常传输涉及将文件传输到本地磁盘。备用传输涉及通过网络将文件传输到本地或远程备用数据库。">关于日志传输模式</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADMIN11345"></a><div class="props_rev_3"><a id="GUID-B2D14414-7CC4-4265-9CF4-2AADFE1F29DA" name="GUID-B2D14414-7CC4-4265-9CF4-2AADFE1F29DA"></a><h3 id="ADMIN-GUID-B2D14414-7CC4-4265-9CF4-2AADFE1F29DA" class="sect3"><span class="enumeration_section">12.6</span>管理存档目标失败</h3>
               <p>有时归档目标可能会失败，导致在自动归档模式下运行时出现问题。Oracle数据库提供的过程可帮助您最大限度地减少与目标故障相关的问</p>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-archived-redo-log-files.html#GUID-10247EA4-150D-4879-84DC-8A3BF8E9287E">指定成功目标的最小数量</a><br>可选的初始化参数<code class="codeph">LOG_ARCHIVE_MIN_SUCCEED_DEST=</code> <span class="italic"><code class="codeph">n</code></span>确定数据库在重用联机日志文件之前必须将重做日志组成功归档到的最小目标数。默认值为1。如果使用双工，则<span class="italic">n的</span>有效值为1到2;如果要进行多路复用，则有效值为1到31。
                     </li>
                     <li class="ulchildlink"><a href="managing-archived-redo-log-files.html#GUID-9A5FB47D-B6D8-45D7-99D7-41A6A55B00BB">重新归档到失败的目的地</a><br>使用<code class="codeph">LOG_ARCHIVE_DEST_</code> <span class="italic"><code class="codeph">n</code></span>参数的<code class="codeph">REOPEN</code>属性指定ARC <span class="italic">n</span>是否以及何时尝试在发生错误后重新归档到失败的目标。<code class="codeph">REOPEN</code>适用于所有错误，而不仅仅是<code class="codeph">OPEN</code>错误。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="managing-archived-redo-log-files.html#GUID-5EE4AC49-E1B2-41A2-BEE7-AA951EAAB2F3" title="您可以通过完成NOARCHIVELOG或ARCHIVELOG模式之间的选择以及指定存档目标等任务来管理存档的重做日志文件。">管理存档的重做日志文件</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN11346"></a><div class="props_rev_3"><a id="GUID-10247EA4-150D-4879-84DC-8A3BF8E9287E" name="GUID-10247EA4-150D-4879-84DC-8A3BF8E9287E"></a><h4 id="ADMIN-GUID-10247EA4-150D-4879-84DC-8A3BF8E9287E" class="sect4"><span class="enumeration_section">12.6.1</span>指定成功目的地的最小数量</h4>
                  <p>可选的初始化参数<code class="codeph">LOG_ARCHIVE_MIN_SUCCEED_DEST=</code> <span class="italic"><code class="codeph">n</code></span>确定数据库在重用联机日志文件之前必须将重做日志组成功归档到的最小目标数。默认值为1。如果使用双工，则<span class="italic">n的</span>有效值为1到2;如果要进行多路复用，则有效值为1到31。
                  </p>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="managing-archived-redo-log-files.html#GUID-55501252-0151-43A6-8936-3825702ADC76">指定强制和可选目的地</a><br><code class="codeph">LOG_ARCHIVE_DEST_</code> <span class="italic"><code class="codeph">n</code></span>初始化参数允许您指定目标是<code class="codeph">OPTIONAL</code> （默认）还是<code class="codeph">MANDATORY</code> 。</li>
                        <li class="ulchildlink"><a href="managing-archived-redo-log-files.html#GUID-E83D19E9-DE41-4CDA-8286-8482158083BD">指定成功目标的数量：方案</a><br>您可以通过示例方案最轻松地查看<code class="codeph">LOG_ARCHIVE_DEST_</code> <span class="italic"><code class="codeph">n</code></span>和<code class="codeph">LOG_ARCHIVE_MIN_SUCCEED_DEST</code>初始化参数之间的关系。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-archived-redo-log-files.html#GUID-B2D14414-7CC4-4265-9CF4-2AADFE1F29DA" title="有时归档目标可能会失败，导致在自动归档模式下运行时出现问题。Oracle数据库提供的过程可帮助您最大限度地减少与目标故障相关的问">管理存档目标失败</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADMIN11347"></a><div class="props_rev_3"><a id="GUID-55501252-0151-43A6-8936-3825702ADC76" name="GUID-55501252-0151-43A6-8936-3825702ADC76"></a><h5 id="ADMIN-GUID-55501252-0151-43A6-8936-3825702ADC76" class="sect5"><span class="enumeration_section">12.6.1.1</span>指定强制和可选目的地</h5>
                     <div>
                        <p><code class="codeph">LOG_ARCHIVE_DEST_</code> <span class="italic"><code class="codeph">n</code></span>初始化参数允许您指定目标是<code class="codeph">OPTIONAL</code> （默认）还是<code class="codeph">MANDATORY</code> 。</p>
                        <div class="section">
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>在<code class="codeph">LOG_ARCHIVE_DEST_</code> <span class="italic"><code class="codeph">n</code></span>初始化参数中将目标设置为<code class="codeph">OPTIONAL</code> （默认值）或<code class="codeph">MANDATORY</code> 。
                                 </p>
                              </li>
                           </ul>
                           <p><code class="codeph">LOG_ARCHIVE_MIN_SUCCEED_DEST=</code> <span class="italic"><code class="codeph">n</code></span>参数使用所有<code class="codeph">MANDATORY</code>目的地加上一些非备用<code class="codeph">OPTIONAL</code>目的地来确定LGWR是否可以覆盖在线日志。以下规则适用：</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>省略目标的<code class="codeph">MANDATORY</code>属性与指定<code class="codeph">OPTIONAL</code>相同。</p>
                              </li>
                              <li>
                                 <p>您必须至少有一个本地目的地，您可以声明<code class="codeph">OPTIONAL</code>或<code class="codeph">MANDATORY</code> 。</p>
                              </li>
                              <li>
                                 <p>只能为目标<code class="codeph">LOG_ARCHIVE_DEST_1</code>到<code class="codeph">LOG_ARCHIVE_DEST_10</code>指定<code class="codeph">MANDATORY</code>属性。
                                 </p>
                              </li>
                              <li>
                                 <p>为<code class="codeph">LOG_ARCHIVE_MIN_SUCCEED_DEST=</code> <span class="italic"><code class="codeph">n</code></span>指定值时，Oracle数据库将至少将一个本地目标视为<code class="codeph">MANDATORY</code> ，因为<code class="codeph">LOG_ARCHIVE_MIN_SUCCEED_DEST</code>的最小值为1。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">LOG_ARCHIVE_MIN_SUCCEED_DEST</code>值不能大于目标数量，也不能大于<code class="codeph">MANDATORY</code>目标数量加上<code class="codeph">OPTIONAL</code>本地目标数量。
                                 </p>
                              </li>
                              <li>
                                 <p>如果您<code class="codeph">DEFER</code>一个<code class="codeph">MANDATORY</code>目的地，并且数据库覆盖在线日志而不将存档日志传输到备用站点，则必须手动将日志传输到备用数据库。
                                 </p>
                              </li>
                           </ul>
                           <p>如果要双面存档日志，则可以使用<code class="codeph">LOG_ARCHIVE_DEST</code>和<code class="codeph">LOG_ARCHIVE_DUPLEX_DEST</code>参数确定哪些目标是必需的或可选的。以下规则适用：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">LOG_ARCHIVE_DEST</code>声明的任何目标都是必需的。
                                 </p>
                              </li>
                              <li>
                                 <p>通过声明的任何目的地<code class="codeph">LOG_ARCHIVE_DUPLEX_DEST</code>是可选的，如果<code class="codeph">LOG_ARCHIVE_MIN_SUCCEED_DEST = 1</code>和强制性的，如果<code class="codeph">LOG_ARCHIVE_MIN_SUCCEED_DEST = 2</code> 。
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="managing-archived-redo-log-files.html#GUID-10247EA4-150D-4879-84DC-8A3BF8E9287E" title="可选的初始化参数LOG_ARCHIVE_MIN_SUCCEED_DEST = n确定数据库在重用联机日志文件之前必须将重做日志组成功归档到的最小目标数。默认值为1。如果使用双工，则n的有效值为1到2;如果要进行多路复用，则有效值为1到31。">指定成功目标的最小数量</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11348"></a><div class="props_rev_3"><a id="GUID-E83D19E9-DE41-4CDA-8286-8482158083BD" name="GUID-E83D19E9-DE41-4CDA-8286-8482158083BD"></a><h5 id="ADMIN-GUID-E83D19E9-DE41-4CDA-8286-8482158083BD" class="sect5"><span class="enumeration_section">12.6.1.2</span>指定成功目的地的数量：场景</h5>
                     <div>
                        <p>您可以通过示例方案最轻松地查看<code class="codeph">LOG_ARCHIVE_DEST_</code> <span class="italic"><code class="codeph">n</code></span>和<code class="codeph">LOG_ARCHIVE_MIN_SUCCEED_DEST</code>初始化参数之间的关系。
                        </p>
                     </div>
                     <div>
                        <ul class="ullinks">
                           <li class="ulchildlink"><a href="managing-archived-redo-log-files.html#GUID-6F513BC8-4573-4C60-8071-129D15EC0D16">存档到可选本地目的地的方案</a><br>在此方案中，您将归档到三个本地目标，每个目标都声明为<code class="codeph">OPTIONAL</code> 。</li>
                           <li class="ulchildlink"><a href="managing-archived-redo-log-files.html#GUID-4AE7E629-E4DE-4943-B861-45D2329294D9">归档到强制目标和可选目的地的方案</a><br>在此方案中，您将归档到<code class="codeph">MANDATORY</code>和<code class="codeph">OPTIONAL</code>本地目标。
                           </li>
                        </ul>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="managing-archived-redo-log-files.html#GUID-10247EA4-150D-4879-84DC-8A3BF8E9287E" title="可选的初始化参数LOG_ARCHIVE_MIN_SUCCEED_DEST = n确定数据库在重用联机日志文件之前必须将重做日志组成功归档到的最小目标数。默认值为1。如果使用双工，则n的有效值为1到2;如果要进行多路复用，则有效值为1到31。">指定成功目标的最小数量</a></p>
                           </div>
                        </div>
                     </div>
                     <a id="ADMIN13044"></a><a id="ADMIN11349"></a><div class="props_rev_3"><a id="GUID-6F513BC8-4573-4C60-8071-129D15EC0D16" name="GUID-6F513BC8-4573-4C60-8071-129D15EC0D16"></a><h6 id="ADMIN-GUID-6F513BC8-4573-4C60-8071-129D15EC0D16" class="sect6"><span class="enumeration_section">12.6.1.2.1</span>存档到可选本地目的地的方案</h6>
                        <div>
                           <p>在此方案中，您将归档到三个本地目标，每个目标都声明为<code class="codeph">OPTIONAL</code> 。</p>
                           <p><a href="managing-archived-redo-log-files.html#GUID-6F513BC8-4573-4C60-8071-129D15EC0D16__G1009147" title="此表描述了归档到可选本地目标的方案。第1列列出了LOG_ARCHIVE_MIN_SUCCEED_DEST初始化参数的值。第2列列出了相应设置的含义。">表12-1</a>说明了<code class="codeph">LOG_ARCHIVE_MIN_SUCCEED_DEST=</code> <span class="italic"><code class="codeph">n</code></span>的可能值<span class="italic"> </span>在这种情况下。
                           </p>
                           <div class="tblformal" id="GUID-6F513BC8-4573-4C60-8071-129D15EC0D16__G1009147">
                              <p class="titleintable">表12-1方案1的LOG_ARCHIVE_MIN_SUCCEED_DEST值</p>
                              <table cellpadding="4" cellspacing="0" class="Formal" title="方案1的LOG_ARCHIVE_MIN_SUCCEED_DEST值" width="100%" border="1" summary="This table describes a scenario for archiving to optional local destinations. Column 1 lists a value for the LOG_ARCHIVE_MIN_SUCCEED_DEST initialization parameter. Column 2 lists the meaning of the corresponding setting." frame="hsides" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="19%" id="d136417e2982">值</th>
                                       <th align="left" valign="bottom" width="81%" id="d136417e2985">含义</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="19%" id="d136417e2990" headers="d136417e2982 ">
                                          <p>1</p>
                                       </td>
                                       <td align="left" valign="top" width="81%" headers="d136417e2990 d136417e2985 ">
                                          <p>仅当至少一个<code class="codeph">OPTIONAL</code>目标成功时，数据库才能重用日志文件。
                                          </p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="19%" id="d136417e3000" headers="d136417e2982 ">
                                          <p>2</p>
                                       </td>
                                       <td align="left" valign="top" width="81%" headers="d136417e3000 d136417e2985 ">
                                          <p>仅当至少两个<code class="codeph">OPTIONAL</code>目标成功时，数据库才能重用日志文件。
                                          </p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="19%" id="d136417e3010" headers="d136417e2982 ">
                                          <p>3</p>
                                       </td>
                                       <td align="left" valign="top" width="81%" headers="d136417e3010 d136417e2985 ">
                                          <p>仅当所有<code class="codeph">OPTIONAL</code>目标成功时，数据库才能重用日志文件。
                                          </p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="19%" id="d136417e3020" headers="d136417e2982 ">
                                          <p>4或更高</p>
                                       </td>
                                       <td align="left" valign="top" width="81%" headers="d136417e3020 d136417e2985 ">
                                          <p><code class="codeph">ERROR</code> ：该值大于目标数。
                                          </p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                           <p>此方案显示即使您未使用<code class="codeph">LOG_ARCHIVE_DEST_</code> <span class="italic"><code class="codeph">n</code></span>参数将任何目标明确设置为<code class="codeph">MANDATORY</code> ，当<code class="codeph">LOG_ARCHIVE_MIN_SUCCEED_DEST</code>设置为1,2或3时，数据库也必须成功存档到这些位置中的一个或多个。
                           </p>
                        </div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="managing-archived-redo-log-files.html#GUID-E83D19E9-DE41-4CDA-8286-8482158083BD" title="您可以通过示例方案最轻松地查看LOG_ARCHIVE_DEST_n和LOG_ARCHIVE_MIN_SUCCEED_DEST初始化参数之间的关系。">指定成功目标的数量：方案</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div><a id="ADMIN13045"></a><a id="ADMIN11350"></a><div class="props_rev_3"><a id="GUID-4AE7E629-E4DE-4943-B861-45D2329294D9" name="GUID-4AE7E629-E4DE-4943-B861-45D2329294D9"></a><h6 id="ADMIN-GUID-4AE7E629-E4DE-4943-B861-45D2329294D9" class="sect6"><span class="enumeration_section">12.6.1.2.2</span>存档到强制和可选目的地的场景</h6>
                        <div>
                           <p>在此方案中，您将归档到<code class="codeph">MANDATORY</code>和<code class="codeph">OPTIONAL</code>本地目标。
                           </p>
                           <p>考虑一个案例，其中：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>您指定两个<code class="codeph">MANDATORY</code>目的地。
                                 </p>
                              </li>
                              <li>
                                 <p>您指定两个<code class="codeph">OPTIONAL</code>目的地。
                                 </p>
                              </li>
                              <li>
                                 <p>没有目标是备用数据库。</p>
                              </li>
                           </ul>
                           <p><a href="managing-archived-redo-log-files.html#GUID-4AE7E629-E4DE-4943-B861-45D2329294D9__CEGDJEGD" title="此表描述了归档到强制目标和可选目标的方案。第1列列出了LOG_ARCHIVE_MIN_SUCCEED_DEST初始化参数的值。第2列列出了相应设置的含义。">表12-2</a>显示了<code class="codeph">LOG_ARCHIVE_MIN_SUCCEED_DEST=</code> <span class="italic"><code class="codeph">n</code></span>的可能值。
                           </p>
                           <div class="tblformal" id="GUID-4AE7E629-E4DE-4943-B861-45D2329294D9__CEGDJEGD">
                              <p class="titleintable">表12-2方案2的LOG_ARCHIVE_MIN_SUCCEED_DEST值</p>
                              <table cellpadding="4" cellspacing="0" class="Formal" title="方案2的LOG_ARCHIVE_MIN_SUCCEED_DEST值" width="100%" border="1" summary="This table describes a scenario for archiving to both mandatory and optional destinations. Column 1 lists a value for the LOG_ARCHIVE_MIN_SUCCEED_DEST initialization parameter. Column 2 lists the meaning of the corresponding setting." frame="hsides" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="19%" id="d136417e3132">值</th>
                                       <th align="left" valign="bottom" width="81%" id="d136417e3135">含义</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="19%" id="d136417e3140" headers="d136417e3132 ">
                                          <p>1</p>
                                       </td>
                                       <td align="left" valign="top" width="81%" headers="d136417e3140 d136417e3135 ">
                                          <p>数据库忽略该值并使用<code class="codeph">MANDATORY</code>目标的数量（在此示例中为2）。
                                          </p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="19%" id="d136417e3150" headers="d136417e3132 ">
                                          <p>2</p>
                                       </td>
                                       <td align="left" valign="top" width="81%" headers="d136417e3150 d136417e3135 ">
                                          <p>即使没有<code class="codeph">OPTIONAL</code>目标成功，数据库也可以重用日志文件。
                                          </p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="19%" id="d136417e3160" headers="d136417e3132 ">
                                          <p>3</p>
                                       </td>
                                       <td align="left" valign="top" width="81%" headers="d136417e3160 d136417e3135 ">
                                          <p>仅当至少一个<code class="codeph">OPTIONAL</code>目标成功时，数据库才能重用日志。
                                          </p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="19%" id="d136417e3170" headers="d136417e3132 ">
                                          <p>4</p>
                                       </td>
                                       <td align="left" valign="top" width="81%" headers="d136417e3170 d136417e3135 ">
                                          <p>仅当两个<code class="codeph">OPTIONAL</code>目标都成功时，数据库才能重用日志。
                                          </p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="19%" id="d136417e3180" headers="d136417e3132 ">
                                          <p>5或更高</p>
                                       </td>
                                       <td align="left" valign="top" width="81%" headers="d136417e3180 d136417e3135 ">
                                          <p><code class="codeph">ERROR</code> ：该值大于目标数。
                                          </p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                           <p>此案例显示数据库必须归档到您指定为<code class="codeph">MANDATORY</code>的目标，无论您是否将<code class="codeph">LOG_ARCHIVE_MIN_SUCCEED_DEST</code>设置为归档到较少数量的目标。
                           </p>
                        </div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="managing-archived-redo-log-files.html#GUID-E83D19E9-DE41-4CDA-8286-8482158083BD" title="您可以通过示例方案最轻松地查看LOG_ARCHIVE_DEST_n和LOG_ARCHIVE_MIN_SUCCEED_DEST初始化参数之间的关系。">指定成功目标的数量：方案</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                  </div>
               </div><a id="ADMIN11351"></a><div class="props_rev_3"><a id="GUID-9A5FB47D-B6D8-45D7-99D7-41A6A55B00BB" name="GUID-9A5FB47D-B6D8-45D7-99D7-41A6A55B00BB"></a><h4 id="ADMIN-GUID-9A5FB47D-B6D8-45D7-99D7-41A6A55B00BB" class="sect4"><span class="enumeration_section">12.6.2</span>重新归档到失败的目的地</h4>
                  <div>
                     <p>使用<code class="codeph">LOG_ARCHIVE_DEST_</code> <span class="italic"><code class="codeph">n</code></span>参数的<code class="codeph">REOPEN</code>属性指定ARC <span class="italic">n</span>是否以及何时尝试在发生错误后重新归档到失败的目标。<code class="codeph">REOPEN</code>适用于所有错误，而不仅仅是<code class="codeph">OPEN</code>错误。
                     </p>
                     <div class="section">
                        <p><code class="codeph">REOPEN=</code> <span class="italic"><code class="codeph">n</code></span>设置ARC <span class="italic">n</span>尝试重新打开失败目标之前的最小秒数。<span class="italic">n</span>的默认值为300秒。值0与关闭<code class="codeph">REOPEN</code>属性相同; ARC <span class="italic">n</span>在发生故障后不会尝试存档。如果未指定<code class="codeph">REOPEN</code>关键字，则ARC <span class="italic">n</span>将永远不会在发生错误后重新打开目标。
                        </p>
                        <p>您无法使用<code class="codeph">REOPEN</code>指定ARC <span class="italic">n</span>在重新连接和传输存档日志时应尝试的次数。<code class="codeph">REOPEN</code>尝试成功或失败。
                        </p>
                        <p>为<code class="codeph">OPTIONAL</code>目标指定<code class="codeph">REOPEN</code> ，如果出现错误，数据库可以覆盖在线日志。如果为<code class="codeph">MANDATORY</code>目标指定<code class="codeph">REOPEN</code> ，则数据库在无法成功存档时会停止生产数据库。在这种情况下，请考虑以下选项：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>手动归档到失败的目标。</p>
                           </li>
                           <li>
                              <p>通过延迟目标，将目标指定为可选或更改服务来更改目标。</p>
                           </li>
                           <li>
                              <p>放下目的地。</p>
                           </li>
                        </ul>
                        <p>使用<code class="codeph">REOPEN</code>关键字时，请注意以下事项：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>ARC <span class="italic">n</span>仅在<span class="italic">从</span>日志文件的开头开始存档操作时才重新打开目标，从不<span class="italic">在</span>当前操作<span class="italic">期间</span> 。ARC <span class="italic">n</span>始终从头开始重试日志副本。
                              </p>
                           </li>
                           <li>
                              <p>如果指定了<code class="codeph">REOPEN</code> ，则指定的时间为默认值，ARC <span class="italic">n将</span>检查记录的错误加上<code class="codeph">REOPEN</code>间隔的时间是否小于当前时间。如果是，ARC <span class="italic">n将</span>重试日志副本。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">REOPEN</code>子句成功影响<code class="codeph">ACTIVE=TRUE</code>目标状态。<code class="codeph">VALID</code>和<code class="codeph">ENABLED</code>状态不会更改。
                              </p>
                              <p>这里有点不对劲。目标可以处于非活动状态，有效状态或禁用状态。没有ACTIVE状态。所以我想也许应该说，“REOPEN子句将目标状态设置为VALID”......？DL</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-archived-redo-log-files.html#GUID-B2D14414-7CC4-4265-9CF4-2AADFE1F29DA" title="有时归档目标可能会失败，导致在自动归档模式下运行时出现问题。Oracle数据库提供的过程可帮助您最大限度地减少与目标故障相关的问">管理存档目标失败</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADMIN11352"></a><div class="props_rev_3"><a id="GUID-CDFE66B4-7448-4FC8-A676-58B20FF5CC25" name="GUID-CDFE66B4-7448-4FC8-A676-58B20FF5CC25"></a><h3 id="ADMIN-GUID-CDFE66B4-7448-4FC8-A676-58B20FF5CC25" class="sect3"><span class="enumeration_section">12.7</span>控制Archivelog进程生成的跟踪输出</h3>
               <div>
                  <p>后台进程始终在适当时写入跟踪文件。对于archivelog进程，您可以控制生成到跟踪文件的输出。</p>
                  <div class="section">
                     <p>要控制为archivelog进程生成跟踪文件的输出：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>设置<code class="codeph">LOG_ARCHIVE_TRACE</code>初始化参数以指定<span class="bold">跟踪级别</span> ，例如<code class="codeph">LOG_ARCHIVE_TRACE</code>等。
                           </p>
                        </li>
                     </ul>
                     <p>您可以通过指定等于要跟踪的各个级别之和的值来组合跟踪级别。例如，设置<code class="codeph">LOG_ARCHIVE_TRACE=12</code>将生成跟踪级别8和4输出。您可以为主数据库和任何备用数据库设置不同的值。
                     </p>
                     <p><code class="codeph">LOG_ARCHIVE_TRACE</code>参数的默认值为0。在此级别，archivelog进程会为错误情况生成适当的警报和跟踪条目。
                     </p>
                     <p>您可以使用<code class="codeph">ALTER SYSTEM</code>语句动态更改此参数的值。例如：</p><pre class="oac_no_warn" dir="ltr">ALTER SYSTEM SET LOG_ARCHIVE_TRACE = 12;</pre><p>以这种方式启动的更改将在下一个归档操作开始时生效。</p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-CDFE66B4-7448-4FC8-A676-58B20FF5CC25__GUID-C1B03B83-4C84-4C4A-9CDF-CAC48598894A">
                     <p class="notep1">也可以看看：</p>
                     <p></p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="q">“ <a href="monitoring-the-database.html#GUID-29ECD5A0-118F-40FC-B54A-8B0D92E91314" title="跟踪文件和警报日志包含有关错误的信息。">使用跟踪文件和警报日志监控错误</a> ”</span></p>
                        </li>
                        <li>
                           <p>有关<code class="codeph">LOG_ARCHIVE_TRACE</code>初始化参数的详细信息，请参阅<a href="../refrn/LOG_ARCHIVE_TRACE.html#REFRN10093" target="_blank"><span class="italic">Oracle数据库参考</span></a> ，包括此参数的有效值的说明</p>
                        </li>
                        <li>
                           <p>有关将此参数与备用数据库一起使用的信息，请参阅<a href="../sbydb/setting-LOG_ARCHIVE_TRACE-initialization-parameter.html#SBYDB01880" target="_blank"><span class="italic">Oracle Data Guard概念和管理</span></a></p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="managing-archived-redo-log-files.html#GUID-5EE4AC49-E1B2-41A2-BEE7-AA951EAAB2F3" title="您可以通过完成NOARCHIVELOG或ARCHIVELOG模式之间的选择以及指定存档目标等任务来管理存档的重做日志文件。">管理存档的重做日志文件</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADMIN11353"></a><div class="props_rev_3"><a id="GUID-62E48748-F8A8-4740-90B1-5B3708A63386" name="GUID-62E48748-F8A8-4740-90B1-5B3708A63386"></a><h3 id="ADMIN-GUID-62E48748-F8A8-4740-90B1-5B3708A63386" class="sect3"><span class="enumeration_section">12.8</span>查看有关存档重做日志的信息</h3>
               <p>您可以使用动态性能视图或<code class="codeph">ARCHIVE</code> <code class="codeph">LOG</code> <code class="codeph">LIST</code>命令显示有关归档重做日志的信息。
               </p>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-archived-redo-log-files.html#GUID-8DFA5382-48FC-4A7D-9443-DB6D3A2F5FE2">存档的重做日志文件视图</a><br>您可以查询一组动态性能视图，以获取有关归档重做日志文件的信息。
                     </li>
                     <li class="ulchildlink"><a href="managing-archived-redo-log-files.html#GUID-EE93A998-5FB5-4BB1-A90E-D48A92897D37">使用ARCHIVE LOG LIST命令</a><br>SQL * Plus命令<code class="codeph">ARCHIVE LOG LIST</code>显示已连接实例的归档信息。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="managing-archived-redo-log-files.html#GUID-5EE4AC49-E1B2-41A2-BEE7-AA951EAAB2F3" title="您可以通过完成NOARCHIVELOG或ARCHIVELOG模式之间的选择以及指定存档目标等任务来管理存档的重做日志文件。">管理存档的重做日志文件</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN11354"></a><div class="props_rev_3"><a id="GUID-8DFA5382-48FC-4A7D-9443-DB6D3A2F5FE2" name="GUID-8DFA5382-48FC-4A7D-9443-DB6D3A2F5FE2"></a><h4 id="ADMIN-GUID-8DFA5382-48FC-4A7D-9443-DB6D3A2F5FE2" class="sect4"><span class="enumeration_section">12.8.1</span>存档的重做日志文件视图</h4>
                  <div>
                     <p>您可以查询一组动态性能视图，以获取有关归档重做日志文件的信息。</p>
                     <div class="section">
                        <p>多个动态性能视图包含有关归档重做日志文件的有用信息，如下表所示。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-8DFA5382-48FC-4A7D-9443-DB6D3A2F5FE2__GUID-029E4B51-6488-4D25-A9F7-445C2015F301">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Column 1 lists the views containing useful information abut archived redo logs. Column 2 contains descriptions of these views." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="35%" id="d136417e3657">动态性能视图</th>
                                 <th align="left" valign="bottom" width="65%" id="d136417e3660">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="35%" id="d136417e3665" headers="d136417e3657 ">
                                    <p><code class="codeph"><a href="../refrn/V-DATABASE.html#REFRN30047" target="_blank">V $ DATABASE</a></code></p>
                                 </td>
                                 <td align="left" valign="top" width="65%" headers="d136417e3665 d136417e3660 ">
                                    <p>显示数据库是否处于<code class="codeph">ARCHIVELOG</code>或<code class="codeph">NOARCHIVELOG</code>模式，以及是否已指定<code class="codeph">MANUAL</code> （存档模式）。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="35%" id="d136417e3684" headers="d136417e3657 ">
                                    <p><code class="codeph"><a href="../refrn/V-ARCHIVED_LOG.html#REFRN30011" target="_blank">V $ ARCHIVED_LOG</a></code></p>
                                 </td>
                                 <td align="left" valign="top" width="65%" headers="d136417e3684 d136417e3660 ">
                                    <p>显示控制文件中的历史存档日志信息。如果使用恢复目录，则<code class="codeph">RC_ARCHIVED_LOG</code>视图包含类似的信息。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="35%" id="d136417e3697" headers="d136417e3657 ">
                                    <p><code class="codeph"><a href="../refrn/V-ARCHIVE_DEST.html#REFRN30007" target="_blank">V $ ARCHIVE_DEST</a></code></p>
                                 </td>
                                 <td align="left" valign="top" width="65%" headers="d136417e3697 d136417e3660 ">
                                    <p>描述当前实例，所有归档目标以及这些目标的当前值，模式和状态。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="35%" id="d136417e3707" headers="d136417e3657 ">
                                    <p><code class="codeph"><a href="../refrn/V-ARCHIVE_PROCESSES.html#REFRN30010" target="_blank">V $ ARCHIVE_PROCESSES</a></code></p>
                                 </td>
                                 <td align="left" valign="top" width="65%" headers="d136417e3707 d136417e3660 ">
                                    <p>显示有关实例的各种归档进程状态的信息。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="35%" id="d136417e3717" headers="d136417e3657 ">
                                    <p><code class="codeph"><a href="../refrn/V-BACKUP_REDOLOG.html#REFRN30024" target="_blank">V $ BACKUP_REDOLOG</a></code></p>
                                 </td>
                                 <td align="left" valign="top" width="65%" headers="d136417e3717 d136417e3660 ">
                                    <p>包含有关归档日志的任何备份的信息。如果使用恢复目录， <code class="codeph">RC_BACKUP_REDOLOG</code>包含类似的信息。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="35%" id="d136417e3730" headers="d136417e3657 ">
                                    <p><code class="codeph"><a href="../refrn/V-LOG.html#REFRN30127" target="_blank">V $ LOG</a></code></p>
                                 </td>
                                 <td align="left" valign="top" width="65%" headers="d136417e3730 d136417e3660 ">
                                    <p>显示数据库的所有重做日志组，并指示需要存档的日志组。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="35%" id="d136417e3740" headers="d136417e3657 ">
                                    <p><code class="codeph"><a href="../refrn/V-LOG_HISTORY.html#REFRN30128" target="_blank">V $ LOG_HISTORY</a></code></p>
                                 </td>
                                 <td align="left" valign="top" width="65%" headers="d136417e3740 d136417e3660 ">
                                    <p>包含日志历史信息，例如已归档的日志和每个归档日志的SCN范围。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p>例如，以下查询显示哪个重做日志组需要存档：</p><pre class="oac_no_warn" dir="ltr">SELECT GROUP＃，ARCHIVED来自SYS.V $ LOG; GROUP＃ARC -------- --- 1是2 NO</pre><p><a id="d136417e3755" class="indexterm-anchor"></a><a id="d136417e3759" class="indexterm-anchor"></a><a id="d136417e3763" class="indexterm-anchor"></a><a id="d136417e3765" class="indexterm-anchor"></a>要查看当前的归档模式，请查询<code class="codeph">V$DATABASE</code>视图：</p><pre class="oac_no_warn" dir="ltr">SELECT LOG_MODE FROM SYS.V $ DATABASE; LOG_MODE ------------ NOARCHIVELOG</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-archived-redo-log-files.html#GUID-62E48748-F8A8-4740-90B1-5B3708A63386" title="您可以使用动态性能视图或ARCHIVE LOG LIST命令显示有关归档重做日志的信息。">查看有关存档重做日志的信息</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11355"></a><div class="props_rev_3"><a id="GUID-EE93A998-5FB5-4BB1-A90E-D48A92897D37" name="GUID-EE93A998-5FB5-4BB1-A90E-D48A92897D37"></a><h4 id="ADMIN-GUID-EE93A998-5FB5-4BB1-A90E-D48A92897D37" class="sect4"><span class="enumeration_section">12.8.2</span>使用ARCHIVE LOG LIST命令</h4>
                  <div>
                     <p>SQL * Plus命令<code class="codeph">ARCHIVE LOG LIST</code>显示已连接实例的归档信息。
                     </p>
                     <div class="section">
                        <p>例如：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; ARCHIVE LOG LIST数据库日志模式存档模式自动存档已启用存档目标D：\ oracle \ oradata \ IDDB2 \ archive最旧的在线日志序列11160下一个存档日志序列11163当前日志序列11163</pre><p>此显示将显示有关当前实例的归档重做日志设置的所有必要信息：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>该数据库当前以<code class="codeph">ARCHIVELOG</code>模式运行。
                              </p>
                           </li>
                           <li>
                              <p>自动存档已启用。</p>
                           </li>
                           <li>
                              <p>归档的重做日志目标是D：\ oracle \ oradata \ IDDB2 \ archive。</p>
                           </li>
                           <li>
                              <p>最旧的填充重做日志组的序列号为11160。</p>
                           </li>
                           <li>
                              <p>要归档的下一个已填充的重做日志组的序列号为11163。</p>
                           </li>
                           <li>
                              <p>当前的重做日志文件的序列号为11163。</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-EE93A998-5FB5-4BB1-A90E-D48A92897D37__GUID-5074806E-6A15-4CBF-8F3E-8E24171CC19E">
                        <p class="notep1">也可以看看：</p>
                        <p>有关<code class="codeph">ARCHIVE LOG LIST</code>命令的更多信息<a href="../sqpug/ARCHIVE-LOG.html#SQPUG028" target="_blank"><span class="italic">，请参见SQL * Plus用户指南和参考</span></a></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-archived-redo-log-files.html#GUID-62E48748-F8A8-4740-90B1-5B3708A63386" title="您可以使用动态性能视图或ARCHIVE LOG LIST命令显示有关归档重做日志的信息。">查看有关存档重做日志的信息</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
         </div>
      </article>
   </body>
</html>