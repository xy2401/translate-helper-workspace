<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="Learn about Oracle Data Guard broker, its architecture and components, and how it automates the creation, control, and monitoring of an Oracle Data Guard configuration."></meta>
      <meta name="description" content="Learn about Oracle Data Guard broker, its architecture and components, and how it automates the creation, control, and monitoring of an Oracle Data Guard configuration."></meta>
      <title>Oracle Data Guard Broker概念</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Broker "></meta>
      <meta property="og:description" content="Learn about Oracle Data Guard broker, its architecture and components, and how it automates the creation, control, and monitoring of an Oracle Data Guard configuration."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Broker"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="data-guard-broker.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-03-29T04:14:25-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1999, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96245-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="release-changes.html" title="Previous" type="text/html"></link>
      <link rel="next" href="oracle-data-guard-broker-installation-requirements.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Data Guard Broker"></meta>
    <meta name="dcterms.isVersionOf" content="DGBKR"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="release-changes.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="oracle-data-guard-broker-installation-requirements.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">经纪人</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Oracle Data Guard Broker概念</li>
            </ol>
            <a id="GUID-723E5B73-A350-4B2E-AF3C-5EA4EFC83966" name="GUID-723E5B73-A350-4B2E-AF3C-5EA4EFC83966"></a><a id="DGBKR001"></a>
            
            <h2 id="DGBKR-GUID-723E5B73-A350-4B2E-AF3C-5EA4EFC83966" class="sect2"><span class="enumeration_chapter">1</span> Oracle Data Guard Broker概念</h2>
         </header>
         <div class="ind">
            <div>
               <p>了解Oracle Data Guard代理，其体系结构和组件，以及它如何自动创建，控制和监视Oracle Data Guard配置。</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="oracle-data-guard-broker-concepts.html#GUID-EAC49F16-D821-4F64-9E78-270E07F3B465" title="Oracle Data Guard提供了一整套服务，可以创建，维护，管理和监视一个或多个备用数据库，从而使生产Oracle数据库能够在灾难和数据损坏中幸免于难。">Oracle Data Guard和Broker概述</a></p>
                  </li>
                  <li>
                     <p><a href="oracle-data-guard-broker-concepts.html#GUID-7F1133DC-AFFE-44B5-B247-7F7F65DEF9E0" title="代理的接口提高了可用性，并集中管理和监视Oracle Data Guard配置。">Oracle Data Guard Broker的优点</a></p>
                  </li>
                  <li>
                     <p><a href="oracle-data-guard-broker-concepts.html#GUID-26348C71-E564-4289-880B-1612F77FA9A9" title="这些是组成Oracle Data Guard代理的组件。">Oracle Data Guard Broker组件</a></p>
                  </li>
                  <li>
                     <p><a href="oracle-data-guard-broker-concepts.html#GUID-B8CEA7B0-9251-4CBB-A8EF-B691D4C8FF61" title="您可以使用代理的任一用户界面来创建代理配置并控制和监视配置。">Oracle Data Guard Broker用户界面</a></p>
                  </li>
                  <li>
                     <p><a href="oracle-data-guard-broker-concepts.html#GUID-8511BA76-85EB-4581-A993-991DE2EF71A5" title="代理的配置，控制和监视功能由服务器端软件和配置文件实现，这些文件是为代理管理的每个数据库维护的。">Oracle Data Guard监视器</a></p>
                  </li>
               </ul>
               <p>有关<a href="../sbydb/getting-started-with-oracle-data-guard.html#SBYDB00100" target="_blank"><span class="italic">Oracle Data Guard</span></a>配置的定义以及有关Oracle Data Guard概念和术语的完整信息，请参阅<a href="../sbydb/getting-started-with-oracle-data-guard.html#SBYDB00100" target="_blank"><span class="italic">Oracle Data Guard概念和管理</span></a> 。
               </p>
            </div><a id="DGBKR3667"></a><a id="DGBKR005"></a><div class="props_rev_3"><a id="GUID-EAC49F16-D821-4F64-9E78-270E07F3B465" name="GUID-EAC49F16-D821-4F64-9E78-270E07F3B465"></a><h3 id="DGBKR-GUID-EAC49F16-D821-4F64-9E78-270E07F3B465" class="sect3"><span class="enumeration_section">1.1</span> Oracle Data Guard和Broker概述</h3>
               <div>
                  <div>Oracle Data Guard可确保企业数据的高可用性，数据保护和灾难恢复。<span>Oracle Data Guard提供了一整套服务，可以创建，维护，管理和监视一个或多个备用数据库，从而使生产Oracle数据库能够在灾难和数据损坏中幸免于难。</span>Oracle Data Guard将这些备用数据库维护为主数据库的事务一致性副本。如果主数据库由于计划内或计划外中断而变得不可用，则Oracle Data Guard允许您将任何备用数据库切换到生产角色，从而最大程度地减少与中断相关的停机时间。Oracle Data Guard可与传统的备份，恢复和集群技术一起使用，也可与闪回数据库功能一起使用，以提供高级别的数据保护和数据可用性。
                  </div>
                  <div class="section">
                     <p class="subhead2" id="GUID-EAC49F16-D821-4F64-9E78-270E07F3B465__GUID-12DD9D9B-A432-4F03-9FBB-8B4A390157C5">Oracle Data Guard和Oracle RAC One Node</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>从Oracle Database <span class="italic">11g</span>第2版（11.2.0.2）开始，Oracle Data Guard和Oracle Data Guard代理与Oracle Real Application Clusters One Node（Oracle RAC One Node）完全集成。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div><a id="DGBKR010"></a><div class="props_rev_3"><a id="GUID-8B013C48-82D0-4098-9598-6CFDA82160AD" name="GUID-8B013C48-82D0-4098-9598-6CFDA82160AD"></a><h4 id="DGBKR-GUID-8B013C48-82D0-4098-9598-6CFDA82160AD" class="sect4"><span class="enumeration_section">1.1.1</span> Oracle Data Guard配置和代理配置</h4>
                  <div>
                     <div><span><span class="italic">Oracle Data Guard配置</span>包含一个主数据库以及备用数据库，远程同步实例和直接从主数据库接收重做的零数据丢失恢复设备的组合。</span> Oracle Data Guard配置的成员由Oracle Net连接，可能在地理上分散。只要成员可以相互通信，对成员的位置没有限制。
                     </div>
                     <p>Oracle Data Guard代理在逻辑上将这些成员分组为<span class="italic">代理配置</span> ，允许代理作为集成单元一起管理和监视它们。您可以使用Oracle Enterprise Manager云控制（云控制）或Oracle Data Guard命令行界面管理代理配置。
                     </p>
                  </div>
               </div><a id="DGBKR3505"></a><a id="DGBKR015"></a><div class="props_rev_3"><a id="GUID-738DB75C-1366-42C5-849E-C25F7E811222" name="GUID-738DB75C-1366-42C5-849E-C25F7E811222"></a><h4 id="DGBKR-GUID-738DB75C-1366-42C5-849E-C25F7E811222" class="sect4"><span class="enumeration_section">1.1.2</span> Oracle Data Guard Broker</h4>
                  <div>
                     <p>Oracle Data Guard代理是一个分布式管理框架，可自动化和集中化Oracle Data Guard配置的创建，维护和监视。</p>
                     <p><a id="d3920e181" class="indexterm-anchor"></a><a id="d3920e185" class="indexterm-anchor"></a>以下列表描述了代理自动化和简化的一些操作：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>创建包含一个主数据库和零个或多个备用数据库（物理，逻辑或快照），远程同步实例和零数据丢失恢复设备以及任何关联的重做传输服务和日志应用服务的Oracle Data Guard配置。数据库可以是单实例，Oracle Real Application Clusters（Oracle RAC）或Oracle RAC One Node数据库。</p>
                        </li>
                        <li>
                           <p>将备用数据库（物理，逻辑或快照），远程同步实例和零数据丢失恢复设备添加到现有Data Guard配置。</p>
                        </li>
                        <li>
                           <p>管理配置的保护模式。</p>
                        </li>
                        <li>
                           <p>使用单个命令调用切换或故障转移，以启动和控制配置中所有数据库的复杂角色更改。</p>
                        </li>
                        <li>
                           <p>配置故障转移是在丢失主数据库时自动发生的，无需人工干预即可提高可用性。</p>
                        </li>
                        <li>
                           <p>监控整个配置的状态，捕获诊断信息，报告统计信息（如重做应用率和重做生成率），并使用集中监控，测试和性能工具快速检测问题。</p>
                        </li>
                        <li>
                           <p>评估数据库是否已准备好成为主数据库。（参见<span class="q">“确认<a href="oracle-data-guard-broker-commands.html#GUID-06ED8F7F-4547-4D4D-9D1A-4A84FF234A12" title="VALIDATE DATABASE命令在角色更改之前执行一组全面的数据库检查。">数据库</a> ”</span> ）。
                           </p>
                        </li>
                        <li>
                           <p>评估数据库之间是否正确配置了网络。（请参阅有效的<a href="oracle-data-guard-broker-commands.html#GUID-73D1C824-B71C-4BED-884B-3398D68157AF" title="VALIDATE NETWORK CONFIGURATION命令在配置成员之间执行网络连接检查。">网络配置</a> 。）
                           </p>
                        </li>
                     </ul>
                     <p>您可以执行所有管理操作<a id="d3920e235" class="indexterm-anchor"></a>在当地或<a id="d3920e240" class="indexterm-anchor"></a>远程通过经纪人易于使用的界面： <a id="d3920e245" class="indexterm-anchor"></a> Cloud Control中的Oracle Data Guard管理页面和名为DGMGRL的Oracle Data Guard命令行界面。</p>
                     <p>这些接口简化了Oracle Data Guard配置的配置和管理。下表提供了使用代理接口和使用SQL * Plus进行配置管理的比较。</p>
                     <div class="tblformalwide" id="GUID-738DB75C-1366-42C5-849E-C25F7E811222__I1005678">
                        <p class="titleintable">表1-1使用和不使用代理的配置管理</p>
                        <table cellpadding="4" cellspacing="0" class="FormalWide" title="有和没有经纪人的配置管理" width="100%" border="1" summary="This 3 column table is a comparison of configuration management with and without the Data Guard broker." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="15%" id="d3920e263">任务</th>
                                 <th align="left" valign="bottom" width="42%" id="d3920e266">与经纪人</th>
                                 <th align="left" valign="bottom" width="44%" id="d3920e269">没有经纪人</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="15%" id="d3920e274" headers="d3920e263 ">
                                    <p><span class="bold">一般</span></p>
                                 </td>
                                 <td align="left" valign="top" width="42%" headers="d3920e274 d3920e266 ">
                                    <p>提供主数据库，备用数据库和远程同步实例管理作为统一配置。</p>
                                 </td>
                                 <td align="left" valign="top" width="44%" headers="d3920e274 d3920e269 ">
                                    <p>您必须分别管理主数据库，备用数据库和远程同步实例。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="15%" id="d3920e285" headers="d3920e263 ">
                                    <p><span class="bold">备用数据库创建</span></p>
                                 </td>
                                 <td align="left" valign="top" width="42%" headers="d3920e285 d3920e266 ">
                                    <p>提供<a id="d3920e292" class="indexterm-anchor"></a> Cloud Control向导可自动化并简化在每个站点上使用Oracle数据库创建配置所需的步骤，包括创建备用控制文件，联机重做日志文件，数据文件和服务器参数文件。
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="44%" headers="d3920e285 d3920e269 ">
                                    <p>您必须手动（使用RMAN或其他工具，如DBCA）：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p>创建备用数据库。</p>
                                       </li>
                                       <li>
                                          <p>将数据库文件复制到备用数据库系统。</p>
                                       </li>
                                       <li>
                                          <p>在备用数据库系统上创建控制文件。</p>
                                       </li>
                                       <li>
                                          <p>在备用数据库系统上创建服务器参数或初始化参数文件。</p>
                                       </li>
                                    </ul>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="15%" id="d3920e316" headers="d3920e263 ">
                                    <p><span class="bold">配置和管理</span></p>
                                 </td>
                                 <td align="left" valign="top" width="42%" headers="d3920e316 d3920e266 ">
                                    <p>使您能够从单个位置配置和管理多个数据库，并自动统一代理配置中的所有数据库。</p>
                                 </td>
                                 <td align="left" valign="top" width="44%" headers="d3920e316 d3920e269 ">
                                    <p>您必须手动连接到多个位置才能：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p>在配置中的每个数据库上设置重做传输服务和日志应用服务。</p>
                                       </li>
                                       <li>
                                          <p>分别管理主数据库和备用数据库。</p>
                                       </li>
                                    </ul>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="15%" id="d3920e334" headers="d3920e263 ">
                                    <p><span class="bold">控制</span></p>
                                 </td>
                                 <td align="left" valign="top" width="42%" headers="d3920e334 d3920e266 ">
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p>自动设置重做传输服务和日志应用服务。简化这些服务的管理，尤其是在Oracle RAC环境中或包含大量备用数据库的配置中。</p>
                                       </li>
                                       <li>
                                          <p>简化切换，故障转移，恢复以及与快照备用数据库之间的转换，允许您通过单个命令调用它们。</p>
                                       </li>
                                       <li>
                                          <p>通过允许代理确定是否需要进行故障转移并启动故障转移到指定的目标备用数据库来自动执行故障转移，无需DBA干预，也不会丢失数据或丢失可配置的数据量。</p>
                                       </li>
                                       <li>
                                          <p>将角色更改与Oracle Clusterware集成。</p>
                                       </li>
                                       <li>
                                          <p>通过云控制实现可管理和可监控</p>
                                       </li>
                                       <li>
                                          <p>与Oracle全球数据服务集成，为特定于角色的全球服务提供支持。</p>
                                       </li>
                                    </ul>
                                 </td>
                                 <td align="left" valign="top" width="44%" headers="d3920e334 d3920e269 ">
                                    <p>您必须手动：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p>使用多个SQL语句来管理数据库。</p>
                                       </li>
                                       <li>
                                          <p>跨多个数据库站点协调多个命令的序列，以执行切换和故障转移操作。</p>
                                       </li>
                                       <li>
                                          <p>协调多个命令的序列，以在角色转换期间管理服务和实例。</p>
                                       </li>
                                    </ul>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="15%" id="d3920e372" headers="d3920e263 ">
                                    <p><span class="bold">监控</span></p>
                                 </td>
                                 <td align="left" valign="top" width="42%" headers="d3920e372 d3920e266 ">
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p>提供对配置运行状况，数据库运行状况和其他运行时参数的持续监视。</p>
                                       </li>
                                       <li>
                                          <p>提供统一的更新状态和详细报告。</p>
                                       </li>
                                       <li>
                                          <p>提供集成<a id="d3920e387" class="indexterm-anchor"></a><a id="d3920e391" class="indexterm-anchor"></a>云控制事件。
                                          </p>
                                       </li>
                                    </ul>
                                 </td>
                                 <td align="left" valign="top" width="44%" headers="d3920e372 d3920e269 ">
                                    <p>您必须手动：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p>使用每个数据库上的固定视图监视状态和运行时参数 - 配置中的所有数据库都没有统一的状态视图。</p>
                                       </li>
                                       <li>
                                          <p>提供用于监控Cloud Control事件的自定义方法。</p>
                                       </li>
                                    </ul>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
               </div><a id="DGBKR3678"></a><div class="props_rev_3"><a id="GUID-998C6A31-B223-4F8B-94D7-EB36BA8103EF" name="GUID-998C6A31-B223-4F8B-94D7-EB36BA8103EF"></a><h4 id="DGBKR-GUID-998C6A31-B223-4F8B-94D7-EB36BA8103EF" class="sect4"><span class="enumeration_section">1.1.3</span> Oracle Data Guard Broker和CDB</h4>
                  <div>
                     <p>Oracle Data Guard代理支持代理配置中的多租户容器数据库（CDB）。</p>
                     <p><a id="d3920e429" class="indexterm-anchor"></a><a id="d3920e435" class="indexterm-anchor"></a>请记住以下几点：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>当主数据库是CDB时，代理配置中的所有备用数据库也必须是CDB。</p>
                        </li>
                        <li>
                           <p>当代理配置由CDB组成时，所有代理操作都在根级别执行，而不是在单个可插拔数据库（PDB）级别执行。</p>
                        </li>
                        <li>
                           <p>要管理多租户环境，您必须具有<code class="codeph">CDB_DBA</code>角色。
                           </p>
                        </li>
                        <li>
                           <p>角色更改后，代理将打开新主节点的所有活动实例。代理还会打开快照备用数据库的所有活动实例，逻辑备用数据库和物理备用数据库的第一个实例（如果以前的物理备用数据库已打开以供读取）。</p>
                        </li>
                        <li>
                           <p>代理还会打开它打开的所有实例上的所有PDB。</p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-998C6A31-B223-4F8B-94D7-EB36BA8103EF__GUID-6EDDE922-E7B6-47BF-A517-8FA5C836E249">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>有关CDB的更多信息，请参见<a href="../multi/overview-of-the-multitenant-architecture.html#CNCPT89249" target="_blank"><span class="italic">Oracle数据库概念</span></a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="DGBKR3680"></a><a id="DGBKR3681"></a><a id="DGBKR3679"></a><div class="props_rev_3"><a id="GUID-F0079AFA-A9A9-4580-B332-60503E1DA18A" name="GUID-F0079AFA-A9A9-4580-B332-60503E1DA18A"></a><h4 id="DGBKR-GUID-F0079AFA-A9A9-4580-B332-60503E1DA18A" class="sect4"><span class="enumeration_section">1.1.4</span> Oracle Data Guard Broker和Oracle全球数据服务</h4>
                  <div>
                     <div><span>要管理支持Oracle全局数据服务（GDS）的代理配置，请同时使用代理命令行界面DGMGRL和GDS命令行界面</span> GDSCTL。经纪人配置被添加到GDS池（跨越GDS区域的GDS数据库的逻辑分组）。
                     </div>
                     <div class="section">
                        <p></p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F0079AFA-A9A9-4580-B332-60503E1DA18A__GUID-E2BF9433-6679-4DA2-8C98-70BB5589BE0B">管理GDS池中的代理配置</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>要将代理配置添加到GDS池，请使用GDS命令行界面GDSCTL。代理配置只能添加到空池中。代理配置不能跨越多个池。</p>
                        <p>要删除池中的代理配置，必须先使用GDSCTL <code class="codeph">REMOVE BROKERCONFIG ...</code>命令将其从池中<code class="codeph">REMOVE BROKERCONFIG ...</code> 。否则返回错误。
                        </p>
                        <p>使用GDSCTL仅添加和删除整个代理配置;要在代理配置中添加和删除单个数据库，请使用代理命令行界面DGMGRL。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F0079AFA-A9A9-4580-B332-60503E1DA18A__GUID-0C03A038-9084-4850-B174-7D5B2880CAF9">管理单个配置数据库时它们是GDS池的一部分</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>如果GDS池已包含代理配置，则只能将属于该配置的数据库添加到池中。向池中的代理配置添加或从中删除单个数据库的唯一方法是使用代理命令行界面DGMGRL。</p>
                        <p>将数据库添加到代理配置时，该数据库也会自动添加到配置所属的GDS池中。</p>
                        <p>从代理配置中删除数据库时，会自动从配置所属的GDS池中删除该数据库。</p>
                        <p>代理与GDS交互并通知其任何角色或配置更改，以确保相应的数据库服务处于活动状态，并在角色更改后发布相应的FAN事件。</p>
                        <div class="infoboxnotealso" id="GUID-F0079AFA-A9A9-4580-B332-60503E1DA18A__GUID-A8413E61-F23F-46B4-9D7D-7A070F013C41">
                           <p class="notep1">也可以看看：</p>
                           <p></p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>有关GDS的更多信息，请参见<a href="../gsmug/intro-global-data-services.html#GSMUG107" target="_blank"><span class="italic">“Oracle数据库全局数据服务概念和管理指南</span></a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="DGBKR3506"></a><a id="DGBKR3507"></a><a id="DGBKR3887"></a><a id="DGBKR3508"></a><a id="DGBKR3509"></a><a id="DGBKR3510"></a><a id="DGBKR3511"></a><a id="DGBKR3512"></a><a id="DGBKR3513"></a><a id="DGBKR020"></a><div class="props_rev_3"><a id="GUID-7F1133DC-AFFE-44B5-B247-7F7F65DEF9E0" name="GUID-7F1133DC-AFFE-44B5-B247-7F7F65DEF9E0"></a><h3 id="DGBKR-GUID-7F1133DC-AFFE-44B5-B247-7F7F65DEF9E0" class="sect3"><span class="enumeration_section">1.2</span> Oracle Data Guard Broker的优点</h3>
               <div>
                  <p>代理的接口提高了可用性，并集中管理和监视Oracle Data Guard配置。</p>
                  <p>该代理作为Oracle数据库企业版和个人版的一项功能提供，还与Oracle数据库和云控制集成。这些代理属性带来以下好处：</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-7F1133DC-AFFE-44B5-B247-7F7F65DEF9E0__GUID-F9929CE5-1033-4D57-8A7A-FB999F5D063A">防灾：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>通过自动执行配置和监视Oracle Data Guard配置所需的许多手动任务，代理可增强Oracle Data Guard中固有的高可用性，数据保护和灾难保护功能。可以通过客户端访问Oracle Data Guard配置中的任何系统，从而消除任何单点故障。如果主数据库发生故障，代理会自动执行任何一个备用数据库的进程以替换主数据库并接管生产处理。Oracle Data Guard提供的数据库可用性使您可以更轻松地保护数据。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-7F1133DC-AFFE-44B5-B247-7F7F65DEF9E0__GUID-0CA63191-6FED-4131-8206-B845EE4868DF">Oracle Real Application Clusters（Oracle RAC）数据库具有更高的可用性和可扩展性：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>虽然Oracle Data Guard代理通过维护主数据库的事务一致性副本来增强灾难保护，但Oracle Data Guard配置了Oracle高可用性解决方案（如Oracle Real Application Clusters（Oracle RAC）数据库），进一步增强了任何给定副本的可用性和可伸缩性那个数据库。Oracle RAC数据库的<span class="italic">站点内</span>高可用性补充了Oracle Data Guard代理提供的<span class="italic">站点间</span>保护。
                     </p>
                     <p>例如，如果Oracle RAC主数据库的一个实例意外失败，Oracle Clusterware会尝试恢复失败的实例并保持主数据库可用。从Oracle Data Guard角度来看，只要至少一个集群数据库实例继续将重做数据传输到备用数据库，主数据库就仍然可用。如果Oracle Clusterware无法恢复失败的实例，则Oracle RAC数据库将继续使用一个活动较少的实例自动运行。如果主数据库的最后一个实例失败，则Oracle RAC数据库提供了一种故障转移到指定备用数据库的方法。如果主数据库的最后一个实例失败，并且启用了快速启动故障转移，则代理可以通过自动故障转移到预定的备用数据库来继续提供高可用性。</p>
                     <p>该代理与Oracle Clusterware集成，因此可以平滑无缝地进行数据库角色更改。这在计划的角色切换的情况下尤其明显（例如，当前一个主数据库承担备用角色时，指示物理备用数据库接管主角色）。代理和Oracle Clusterware一起工作以暂时中止主数据库上的服务可用性，完成两个数据库的实际角色更改，在此期间Oracle Clusterware与代理一起工作，以便在旧主数据库上根据需要正确地重新启动实例，然后启动服务在新的主数据库上定义。代理管理基础Oracle Data Guard配置及其数据库角色，而Oracle Clusterware管理依赖于这些角色的服务可用性。依赖Oracle Clusterware管理服务可用性的应用程序只会在Oracle Data Guard配置中发生角色更改时才会看到临时的服务暂停。</p>
                     <p>请注意，虽然Oracle Clusterware有助于维护Oracle RAC数据库的各个实例的可用性，但代理会协调在多个地理位置分散的位置维护数据库的一个或多个物理或逻辑副本的操作，以提供灾难保护。代理和Oracle Clusterware共同为Oracle的高可用性架构提供了坚实的基础。</p>
                     <div class="infoboxnotealso" id="GUID-7F1133DC-AFFE-44B5-B247-7F7F65DEF9E0__GUID-1B4B0FC5-23F0-4565-BD7F-5EDE9D85D366">
                        <p class="notep1">也可以看看：</p>
                        <p>有关Oracle Clusterware的信息，请参见<a href="../racad/introduction-to-oracle-rac.html#RACAD1111" target="_blank"><span class="italic">“Oracle Real Application Clusters管理和部署指南”</span></a></p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-7F1133DC-AFFE-44B5-B247-7F7F65DEF9E0__GUID-9786E778-0917-4E2F-9306-E25F5B9BC819">支持Oracle RAC One节点：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>从Oracle Database <span class="italic">11g</span>第2版（11.2.0.2）开始，Oracle Data Guard和Oracle Data Guard代理与Oracle Real Application Clusters One Node（Oracle RAC One Node）完全集成。此支持通过利用Oracle RAC配置中提到的许多Oracle Clusterware优势，在本地站点提供更高级别的可用性。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-7F1133DC-AFFE-44B5-B247-7F7F65DEF9E0__GUID-14FEFE68-745B-41E2-AF0D-98FFCF47C0A6">自动创建Oracle Data Guard配置：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>代理可帮助您逻辑定义和创建Oracle Data Guard配置。代理使用Oracle Net Services自动在Oracle Data Guard配置的成员之间进行通信。成员可以是本地的或远程的，通过LAN连接或通过WAN在地理上分散。</p>
                     <p>Cloud Control提供了一个向导，可自动执行创建代理配置所涉及的复杂任务，包括：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>添加现有备用数据库或从通过Cloud Control获取的现有备份创建的新备用数据库</p>
                        </li>
                        <li>
                           <p>配置备用控制文件，服务器参数文件和数据文件</p>
                        </li>
                        <li>
                           <p>初始化与备用数据库的通信</p>
                        </li>
                        <li>
                           <p>创建备用重做日志文件</p>
                        </li>
                        <li>
                           <p>如果计划使用快速启动故障转移，请启用闪回数据库</p>
                        </li>
                     </ul>
                     <p>虽然DGMGRL无法自动创建新备用数据库，但您可以使用DGMGRL命令配置和监视现有备用数据库，包括使用Cloud Control创建的备用数据库。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-7F1133DC-AFFE-44B5-B247-7F7F65DEF9E0__GUID-80BFEB54-5927-44DF-80E8-5DF14C6209A6">轻松配置其他备用数据库：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>创建Oracle Data Guard配置后，可以为每个Oracle Data Guard配置添加新的或现有的备用数据库。Cloud Control提供“添加备用数据库”向导，指导您完成添加更多数据库的过程。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-7F1133DC-AFFE-44B5-B247-7F7F65DEF9E0__GUID-B4BB4078-1006-4083-B7FE-DFFE5C4AAF3E">简化，集中和扩展管理：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>您可以发出命令来管理代理配置的许多方面。这些包括：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>简化配置的所有组件的管理，包括主数据库，备用数据库，零数据丢失恢复设备，重做传输服务和日志应用服务。</p>
                        </li>
                        <li>
                           <p>协调数据库状态转换并动态更新数据库属性，代理在代理配置文件中记录更改，该文件包含有关配置中所有数据库的信息。代理将更改传播到配置中的所有数据库及其服务器参数文件。</p>
                        </li>
                        <li>
                           <p>简化配置保护模式的控制（最大化保护，最大化可用性或最大化性能）。</p>
                        </li>
                        <li>
                           <p>调用Cloud Control验证操作以确保重做传输服务和日志应用服务已配置并正常运行。</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-7F1133DC-AFFE-44B5-B247-7F7F65DEF9E0__GUID-5D626A17-A411-4D49-8A55-99B96CC4B7F4">简化的切换和故障转移操作：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>代理通过允许您使用Cloud Control中的单个键单击或DGMGRL命令行界面上的单个命令来调用切换和故障转移（在本文档中称为<a id="d3920e797" class="indexterm-anchor"></a> <span class="italic">手动</span>故障转移）。对于无人值守<span class="italic">管理</span> ，您可以启用快速启动故障转移，以允许代理确定是否需要进行故障转移，并自动启动故障转移到预先指定的目标备用数据库，而无需DBA干预。可以将快速启动故障转移配置为在没有数据丢失或可配置的数据丢失量的情况下发生。
                     </p>
                     <p>快速启动故障转移使您可以在不需要手动干预的情况下提高可用性，从而降低管理成本。通过手动故障转移，您可以准确控制故障转移的时间和目标备用数据库。无论您选择哪种方法，代理都会协调配置中所有数据库的角色转换。故障转移完成后，代理会发布快速应用程序通知（FAN）事件，以通知应用程序新主服务器可用。</p>
                     <p>请注意，您可以使用<code class="codeph">DBMS_DG</code> PL / SQL程序包使应用程序在遇到特定条件时启动快速启动故障转移。有关更多信息，请参阅<a href="managing-oracle-data-guard-broker-configuration-members.html#GUID-D9E5FC78-657B-4C66-8EB7-D56880665861" title="您可以使用DBMS_DG PL / SQL包来允许应用程序在遇到特定条件时指示快速启动故障转移。">应用程序启动的快速启动故障转移</a> 。
                     </p>
                     <p>只需一个命令即可为配置中所有数据库的切换或故障转移操作启动复杂角色更改。代理自动切换和故障转移到代理配置中的指定备用数据库。通过Cloud Control，您可以从一组可行的备用数据库中选择新的主数据库（已启用并正在运行，具有正常状态）。DGMGRL <code class="codeph">SWITCHOVER</code>和<code class="codeph">FAILOVER</code>命令仅要求您在自动启动并完成配置中多个数据库的切换或故障转移操作中的许多步骤之前指定目标备用数据库。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-7F1133DC-AFFE-44B5-B247-7F7F65DEF9E0__GUID-96FB36CD-900A-4AC4-8966-1EA2814C50D3">内置监控和警报和控制机制：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>该券商提供了内置的验证，监控所有在配置数据库的<span class="italic">健康</span> 。连接到配置中的任何数据库时，您可以使用集中式监视，测试和性能工具捕获诊断信息并快速检测明显和微妙的问题。Cloud Control和DGMGRL都会检索主数据库上重做传输服务进度的完整配置视图以及备用数据库上Redo Apply或SQL Apply的进度。
                     </p>
                     <p>通过代理的运行状况检查机制以及与Cloud Control事件管理系统的紧密集成，显着增强了监控本地和远程数据库以及响应事件的能力。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-7F1133DC-AFFE-44B5-B247-7F7F65DEF9E0__GUID-2A5E1175-A1FF-4949-A759-6CFB507BCB3A">应用透明：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>任何数据库都可以使用代理，因为代理可以透明地与应用程序一起工作;无需更改应用程序代码即可适应您使用代理管理的配置。</p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="DGBKR3515"></a><a id="DGBKR030"></a><div class="props_rev_3"><a id="GUID-26348C71-E564-4289-880B-1612F77FA9A9" name="GUID-26348C71-E564-4289-880B-1612F77FA9A9"></a><h3 id="DGBKR-GUID-26348C71-E564-4289-880B-1612F77FA9A9" class="sect3"><span class="enumeration_section">1.3</span> Oracle Data Guard Broker组件</h3>
               <div>
                  <p>这些是组成Oracle Data Guard代理的组件。</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="oracle-data-guard-broker-concepts.html#GUID-B550305D-FAB8-4805-82F3-18527F6801AC" title="Oracle企业管理器云控制（云控制）与Oracle Data Guard监视器配合使用，可自动化和简化Oracle Data Guard配置的管理。">Oracle企业管理器云控制</a></p>
                     </li>
                     <li>
                        <p><a href="oracle-data-guard-broker-concepts.html#GUID-1940EEE6-2398-4A9F-BFBD-FB9E81FC1EB4" title="Oracle Data Guard命令行界面（DGMGRL）使您能够从DGMGRL提示或脚本中控制和监视Oracle Data Guard配置。">Oracle Data Guard命令行界面（DGMGRL）</a></p>
                     </li>
                     <li>
                        <p><a href="oracle-data-guard-broker-concepts.html#GUID-8511BA76-85EB-4581-A993-991DE2EF71A5" title="代理的配置，控制和监视功能由服务器端软件和配置文件实现，这些文件是为代理管理的每个数据库维护的。">Oracle Data Guard监视器</a></p>
                     </li>
                  </ul>
                  <p>Cloud Control和Oracle Data Guard命令行界面（DGMGRL）是代理客户端界面，可帮助您定义和管理由主数据库和备用数据库集合组成的配置。DGMGRL还包括用于创建快速启动故障转移的<strong class="term">观察器</strong>进程的命令。
                  </p>
                  <p>Oracle Data Guard监视器是与Oracle数据库集成的代理服务器端组件。Oracle Data Guard监视器由多个进程组成，包括DMON进程和代理配置文件，允许您控制该配置的数据库，在运行时修改其行为，监视配置的整体运行状况，并提供其他通知运作特征。</p>
                  <p><a href="oracle-data-guard-broker-concepts.html#GUID-26348C71-E564-4289-880B-1612F77FA9A9__I1021687">图1-1</a>显示了代理的这些组件。
                  </p>
                  <div class="figure" id="GUID-26348C71-E564-4289-880B-1612F77FA9A9__I1021687">
                     <p class="titleinfigure">图1-1 Oracle Data Guard Broker</p><img src="img/dgbkr008.gif" alt="下面是图1-1的描述" title="下面是图1-1的描述" longdesc="img_text/dgbkr008.html"><br><a href="img_text/dgbkr008.html">“图1-1 Oracle Data Guard Broker”的描述</a></div>
                  <!-- class="figure" -->
               </div>
            </div><a id="DGBKR035"></a><div class="props_rev_3"><a id="GUID-B8CEA7B0-9251-4CBB-A8EF-B691D4C8FF61" name="GUID-B8CEA7B0-9251-4CBB-A8EF-B691D4C8FF61"></a><h3 id="DGBKR-GUID-B8CEA7B0-9251-4CBB-A8EF-B691D4C8FF61" class="sect3"><span class="enumeration_section">1.4</span> Oracle Data Guard Broker用户界面</h3>
               <div>
                  <p>您可以使用代理的任一用户界面来创建代理配置并控制和监视配置。</p>
                  <p>以下部分描述了代理的用户界面：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="oracle-data-guard-broker-concepts.html#GUID-B550305D-FAB8-4805-82F3-18527F6801AC" title="Oracle企业管理器云控制（云控制）与Oracle Data Guard监视器配合使用，可自动化和简化Oracle Data Guard配置的管理。">Oracle企业管理器云控制</a></p>
                     </li>
                     <li>
                        <p><a href="oracle-data-guard-broker-concepts.html#GUID-1940EEE6-2398-4A9F-BFBD-FB9E81FC1EB4" title="Oracle Data Guard命令行界面（DGMGRL）使您能够从DGMGRL提示或脚本中控制和监视Oracle Data Guard配置。">Oracle Data Guard命令行界面（DGMGRL）</a></p>
                     </li>
                  </ul>
               </div><a id="DGBKR040"></a><div class="props_rev_3"><a id="GUID-B550305D-FAB8-4805-82F3-18527F6801AC" name="GUID-B550305D-FAB8-4805-82F3-18527F6801AC"></a><h4 id="DGBKR-GUID-B550305D-FAB8-4805-82F3-18527F6801AC" class="sect4"><span class="enumeration_section">1.4.1</span> Oracle企业管理器云控制</h4>
                  <div>
                     <p>Oracle企业管理器云控制（云控制）与Oracle Data Guard监视器配合使用，可自动化和简化Oracle Data Guard配置的管理。</p>
                     <p>借助Cloud Control，通过Oracle Data Guard管理页面和向导简化了创建和管理备用数据库的复杂操作，包括：<a id="d3920e1003" class="indexterm-anchor"></a><a id="d3920e1007" class="indexterm-anchor"></a><a id="d3920e1013" class="indexterm-anchor"></a><a id="d3920e1017" class="indexterm-anchor"></a><a id="d3920e1021" class="indexterm-anchor"></a><a id="d3920e1025" class="indexterm-anchor"></a><a id="d3920e1029" class="indexterm-anchor"></a></p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>一个<a id="d3920e1037" class="indexterm-anchor"></a><a id="d3920e1041" class="indexterm-anchor"></a><a id="d3920e1045" class="indexterm-anchor"></a>添加备用数据库向导，该向导可帮助您创建具有主数据库和本地或远程备用数据库的代理配置（如果尚不存在）。该向导可以创建物理，快照或逻辑备用数据库<a id="d3920e1050" class="indexterm-anchor"></a>数据库或导入现有物理，快照或逻辑（Oracle RAC或非Oracle RAC）备用数据库。如果向导创建物理，快照或逻辑备用数据库，则向导还会自动创建备用控制文件，服务器参数文件，联机和备用重做日志文件以及备用数据文件。
                           </p>
                        </li>
                        <li>
                           <p>一个<a id="d3920e1058" class="indexterm-anchor"></a>切换操作，可帮助您在主数据库和备用数据库之间切换角色。
                           </p>
                        </li>
                        <li>
                           <p>一个<a id="d3920e1068" class="indexterm-anchor"></a>更改其中一个的故障转移操作<a id="d3920e1073" class="indexterm-anchor"></a>备用数据库到主数据库的角色。
                           </p>
                        </li>
                        <li>
                           <p><a id="d3920e1080" class="indexterm-anchor"></a><a id="d3920e1084" class="indexterm-anchor"></a>性能工具和图形，可帮助您监视和调整重做传输服务和日志应用服务。
                           </p>
                        </li>
                        <li>
                           <p><a id="d3920e1091" class="indexterm-anchor"></a><a id="d3920e1095" class="indexterm-anchor"></a><a id="d3920e1099" class="indexterm-anchor"></a>允许您在任何数据库上设置数据库属性的属性页，以及（如果适用）设置会立即传播到配置中的所有其他数据库和服务器参数文件。
                           </p>
                        </li>
                        <li>
                           <p><a id="d3920e1106" class="indexterm-anchor"></a><a id="d3920e1110" class="indexterm-anchor"></a>通过电子邮件报告事件。
                           </p>
                        </li>
                     </ul>
                     <p>此外，它使所有<a id="d3920e1117" class="indexterm-anchor"></a><a id="d3920e1121" class="indexterm-anchor"></a><a id="d3920e1125" class="indexterm-anchor"></a> Oracle Net Services配置更改需要支持<a id="d3920e1130" class="indexterm-anchor"></a>重做运输服务和应用服务。
                     </p>
                     <div class="infoboxnotealso" id="GUID-B550305D-FAB8-4805-82F3-18527F6801AC__GUID-86248E6A-F4AB-400E-B001-FC5D1B814864">
                        <p class="notep1">也可以看看：</p>
                        <p>有关在各种Oracle数据库版本中管理全套Oracle Data Guard功能所需的云控制版本的信息，请访问<a href="http://support.oracle.com" target="_blank"><code class="codeph">http://support.oracle.com</code></a> My Oracle Support说明787461.1</p>
                     </div>
                  </div>
               </div><a id="DGBKR045"></a><div class="props_rev_3"><a id="GUID-1940EEE6-2398-4A9F-BFBD-FB9E81FC1EB4" name="GUID-1940EEE6-2398-4A9F-BFBD-FB9E81FC1EB4"></a><h4 id="DGBKR-GUID-1940EEE6-2398-4A9F-BFBD-FB9E81FC1EB4" class="sect4"><span class="enumeration_section">1.4.2</span> Oracle Data Guard命令行界面（DGMGRL）</h4>
                  <div>
                     <p>Oracle Data Guard命令行界面（DGMGRL）使您能够从DGMGRL提示或脚本中控制和监视Oracle Data Guard配置。</p>
                     <p><a id="d3920e1172" class="indexterm-anchor"></a><a id="d3920e1176" class="indexterm-anchor"></a>您可以执行管理和管理所需的大多数活动<a id="d3920e1181" class="indexterm-anchor"></a>使用DGMGRL命令监视配置中的数据库。
                     </p>
                     <p><a id="d3920e1187" class="indexterm-anchor"></a> DGMGRL还包括创建观察器进程的命令，这些进程持续监视主数据库和目标备用数据库，并评估是否需要进行故障转移，然后在条件允许时启动快速启动故障转移。
                     </p>
                     <div class="infoboxnotealso" id="GUID-1940EEE6-2398-4A9F-BFBD-FB9E81FC1EB4__GUID-1A88F64B-7C41-4347-BA31-C594005B2FEC">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="oracle-data-guard-broker-commands.html#GUID-E7889124-C414-466F-9FBB-B8F035881F89" title="使用命令参考了解如何使用Data Guard代理命令行界面（DGMGRL）来管理代理配置。">Oracle Data Guard命令行界面参考</a> ，以获取Oracle Data Guard命令行界面的完整参考信息。
                        </p>
                     </div>
                  </div>
               </div>
            </div><a id="DGBKR050"></a><div class="props_rev_3"><a id="GUID-8511BA76-85EB-4581-A993-991DE2EF71A5" name="GUID-8511BA76-85EB-4581-A993-991DE2EF71A5"></a><h3 id="DGBKR-GUID-8511BA76-85EB-4581-A993-991DE2EF71A5" class="sect3"><span class="enumeration_section">1.5</span> Oracle Data Guard监视器</h3>
               <div>
                  <p>代理的配置，控制和监视功能由服务器端软件和配置文件实现，这些文件是为代理管理的每个数据库维护的。</p>
                  <p>该软件称为Oracle Data Guard监视器。以下主题描述了Oracle Data Guard监视器如何与Oracle数据库以及远程Oracle Data Guard监视器交互以管理代理配置。</p>
               </div><a id="DGBKR3517"></a><a id="DGBKR055"></a><div class="props_rev_3"><a id="GUID-948B0D53-79BF-4E69-815F-421B8B68038F" name="GUID-948B0D53-79BF-4E69-815F-421B8B68038F"></a><h4 id="DGBKR-GUID-948B0D53-79BF-4E69-815F-421B8B68038F" class="sect4"><span class="enumeration_section">1.5.1</span> Oracle Data Guard监视器（DMON）进程</h4>
                  <div>
                     <p>Oracle Data Guard监视进程（DMON）是一个Oracle后台进程，它在代理管理的每个数据库实例上运行。</p>
                     <p>启动Oracle Data Guard代理时，将创建DMON进程。</p>
                     <div class="infoboxnotealso" id="GUID-948B0D53-79BF-4E69-815F-421B8B68038F__GUID-B25A9D42-F6FC-406C-92F6-EBB89DB32C2B">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="managing-oracle-data-guard-broker-configurations.html#GUID-BAAE6C51-C29F-4950-A885-EB1289A230B2" title="After setting up the configuration files, the DG_BROKER_START initialization parameter must be set to TRUE for each database to start the DMON processes.">启动Data Guard Broker</a>以获取有关启动<a href="managing-oracle-data-guard-broker-configurations.html#GUID-BAAE6C51-C29F-4950-A885-EB1289A230B2" title="设置配置文件后，必须将每个数据库的DG_BROKER_START初始化参数设置为TRUE才能启动DMON进程。">代理</a>的信息</p>
                     </div>
                     <p>无论您使用Cloud Control还是DGMGRL来管理数据库，DMON进程都是服务器端组件，它与本地数据库和其他数据库的DMON进程交互以执行所请求的功能。DMON进程还负责监视代理配置的运行状况，并确保每个数据库都具有一致的配置描述。</p>
                     <p><a href="oracle-data-guard-broker-concepts.html#GUID-948B0D53-79BF-4E69-815F-421B8B68038F__I1005892">图1-2</a>显示了代理的DMON进程，它是构成Oracle数据库实例的几个后台进程之一。图中显示的每个数据库实例都有自己的DMON进程。
                     </p>
                     <div class="figure" id="GUID-948B0D53-79BF-4E69-815F-421B8B68038F__I1005892">
                        <p class="titleinfigure">图1-2具有代理（DMON）进程的数据库</p><img src="img/dgbkr003.gif" alt="下面是图1-2的描述" title="下面是图1-2的描述" longdesc="img_text/dgbkr003.html"><br><a href="img_text/dgbkr003.html">“图1-2具有代理（DMON）进程的数据库”的描述</a></div>
                     <!-- class="figure" -->
                     <p><a href="oracle-data-guard-broker-concepts.html#GUID-948B0D53-79BF-4E69-815F-421B8B68038F__I1005892">图1-2</a>中间的锯齿形箭头表示存在于同一代理配置中的两个数据库的DMON进程之间的双向Oracle Net Services通信通道。
                     </p>
                     <p>此双向通信通道用于在数据库之间传递请求，并监视代理配置中所有数据库的运行状况。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-948B0D53-79BF-4E69-815F-421B8B68038F__GUID-07EABE3C-2511-41F4-AEB9-5FAB67157BCF">监视Data Guard Broker进程</p>
                        <div class="p">使用<code class="codeph">V$DATAGUARD_PROCESS</code>视图监视代理进程的状态以及其他Data Guard进程。此视图包含一行，显示代理DMON进程的信息。以下是为DMON流程显示的列和值（视图中的其他列通常与代理无关）：<ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">NAME</code> -  DMON</p>
                              </li>
                              <li>
                                 <p><code class="codeph">ROLE</code> - 经纪人监督</p>
                              </li>
                              <li>
                                 <p><code class="codeph">PID</code> - 操作系统进程的进程标识符</p>
                              </li>
                              <li>
                                 <p><code class="codeph">PROC_TIME</code> - 进程启动或注册以包含在视图中的时间戳</p>
                              </li>
                           </ul>
                        </div>
                        <div class="infoboxnotealso" id="GUID-948B0D53-79BF-4E69-815F-421B8B68038F__GUID-15272F16-6630-41BA-BA8A-5F4FF8D8DB26">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>有关<code class="codeph">V$DATAGUARD_PROCESS</code>视图的更多信息，请<a href="../refrn/V-DATAGUARD_PROCESS.html#REFRN-GUID-F07EA03A-F3EF-4A2E-9250-A28AF3CEF5CF" target="_blank"><span><cite>参见Oracle数据库参考</cite></span></a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="DGBKR060"></a><div class="props_rev_3"><a id="GUID-755CC51D-7438-453D-9B59-2EA3B9689D8B" name="GUID-755CC51D-7438-453D-9B59-2EA3B9689D8B"></a><h4 id="DGBKR-GUID-755CC51D-7438-453D-9B59-2EA3B9689D8B" class="sect4"><span class="enumeration_section">1.5.2</span>配置管理</h4>
                  <div>
                     <p>代理的DMON进程持久地维护有关二进制配置文件中代理配置的所有成员的信息。</p>
                     <p>DMON进程为属于代理配置的每个数据库维护配置文件的副本。对于Oracle RAC数据库，数据库的所有实例共享相同的配置文件。</p>
                     <p>此配置文件包含描述配置中数据库的状态和属性的信息。例如，该文件记录属于配置的数据库，每个数据库的角色和属性以及配置中每个数据库的状态。</p>
                     <p>DMON进程透明地管理配置数据，以确保配置信息在所有数据库中保持一致。代理使用配置文件中的数据来配置和启动数据库，控制每个数据库的行为，并向DGMGRL和Cloud Control提供信息。</p>
                     <div class="infoboxnotealso" id="GUID-755CC51D-7438-453D-9B59-2EA3B9689D8B__GUID-AA679F09-7379-4F3C-BF28-E9B88F0B979D">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="managing-oracle-data-guard-broker-configuration-members.html#GUID-5CA7C5EC-DE39-482D-8E54-2C3126651271" title="有两种类型的数据库属性：可监视和可配置。">管理数据库属性</a>以获取更多信息</p>
                     </div>
                     <p>无论何时将数据库添加到代理配置，或者对现有数据库的属性进行更改，每个DMON进程都会在配置文件的副本中记录新信息。</p>
                  </div>
               </div><a id="DGBKR065"></a><div class="props_rev_3"><a id="GUID-D7C4C999-70E9-415D-8338-1CC6246D12BB" name="GUID-D7C4C999-70E9-415D-8338-1CC6246D12BB"></a><h4 id="DGBKR-GUID-D7C4C999-70E9-415D-8338-1CC6246D12BB" class="sect4"><span class="enumeration_section">1.5.3</span>数据库属性管理</h4>
                  <div>
                     <p>代理使用与每个数据库关联的各种属性来控制数据库的行为。属性记录在配置文件中。</p>
                     <p>要确保代理可以更新数据库本身和配置文件中的参数值，必须使用服务器参数文件来控制静态和动态初始化参数。使用服务器参数文件为代理提供了一种机制，允许它在将代理与服务器参数文件中记录的任何相关初始化参数值一起使用时，协调数据库管理员（DBA）选择的属性值。</p>
                     <p>在代理配置中设置数据库属性的值时，代理会在配置文件中记录更改，并将更改传播到Oracle Data Guard配置中的所有数据库。</p>
                     <div class="infoboxnote" id="GUID-D7C4C999-70E9-415D-8338-1CC6246D12BB__GUID-4BE4ABC6-7FE6-45C5-91F9-DB181B61E83F">
                        <p class="notep1">注意：</p>
                        <p>代理支持默认和非默认服务器参数文件文件名。如果使用非默认服务器参数文件名，则初始化参数文件必须包含服务器参数文件的完整文件名和位置。如果这是Oracle RAC数据库，则所有实例都必须有一个非默认服务器参数文件。</p>
                     </div>
                     <div class="infoboxnotealso" id="GUID-D7C4C999-70E9-415D-8338-1CC6246D12BB__GUID-26223C31-F483-4029-AA67-463060C88EEC">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="managing-oracle-data-guard-broker-configuration-members.html#GUID-58646FFF-47E4-40DC-A7DA-C4AB33CDB16B" title="可配置属性会影响数据库或远程同步实例的操作或配置。">可配置（可更改）属性</a>以获取更多信息</p>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>