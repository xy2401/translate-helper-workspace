<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>使用LOB API</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Database SecureFiles and Large Objects Developer&#39;s Guide"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Database SecureFiles and Large Objects Developer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="securefiles-and-large-objects-developers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-02-12T02:58:18-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96333-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="LOB-APIs-for-BFILE-operations.html" title="Previous" type="text/html"></link>
      <link rel="next" href="application-design-with-LOBs.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="SecureFiles and Large Objects Developer&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="ADLOB"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="LOB-APIs-for-BFILE-operations.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="application-design-with-LOBs.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Database SecureFiles和Large Objects Developer's Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="reference-semantics-LOBs.html" property="item" typeof="WebPage"><span property="name">参考语义LOB</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">使用LOB API</li>
            </ol>
            <a id="GUID-5BEE64AC-5528-45DC-AB57-A8EDE8E4DE65" name="GUID-5BEE64AC-5528-45DC-AB57-A8EDE8E4DE65"></a><a id="ADLOB1400"></a>
            
            <h2 id="ADLOB-GUID-5BEE64AC-5528-45DC-AB57-A8EDE8E4DE65" class="sect2"><span class="enumeration_chapter">12</span>使用LOB API</h2>
         </header>
         <div class="ind">
            <div>
               <p><a href="using-LOB-APIs.html#GUID-AEE4EC42-6F89-49C1-88D5-23D4CCCED6FC__G1098343" title="该表在前面的文本中描述">表12-1中</a>显示了对<code class="codeph">BLOB</code> ， <code class="codeph">CLOB</code>和<code class="codeph">NCLOB</code>数据类型执行操作的API。这些操作可以与持久或临时LOB实例一起使用。请注意，这些不适用于<code class="codeph">BFILE</code> 。
               </p>
               <div class="infoboxnotealso" id="GUID-5BEE64AC-5528-45DC-AB57-A8EDE8E4DE65__GUID-3CEBB568-DB98-48B5-B22F-70B188DF57AE">
                  <p class="notep1">也可以看看：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="operations-specific-to-persistent-and-temporary-LOBs.html#GUID-7B3D15D3-A182-4ED1-A265-8EE15E793C46">特定于持久和临时LOB的操作，</a>以获取有关如何创建临时和永久LOB实例以及特定于临时或永久LOB的其他操作的信息。
                        </p>
                     </li>
                     <li>
                        <p><a href="LOB-APIs-for-BFILE-operations.html#GUID-043A9B91-69C8-44D4-A38A-E872B0A2B9A9" title="You can determine whether a pattern exists in a BFILE using the INSTRoperation.">用于BFILE操作的LOB API，</a>用于有关特定于<code class="codeph">BFILE</code>实例的<a href="LOB-APIs-for-BFILE-operations.html#GUID-043A9B91-69C8-44D4-A38A-E872B0A2B9A9" title="您可以使用INSTRoperation确定BFILE中是否存在模式。">操作</a>的信息。
                        </p>
                     </li>
                  </ul>
               </div>
               <p>为每个操作提供此信息：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><span class="bold">前提条件</span>描述了必须满足的依赖关系以及在调用每个操作之前必须存在的条件。
                     </p>
                  </li>
                  <li>
                     <p><span class="bold">使用说明</span>提供了实施指南，例如特定于给定编程环境或数据类型的信息。
                     </p>
                  </li>
                  <li>
                     <p><span class="bold">语法</span>是指您为每个支持的编程环境中的语法参考文档。
                     </p>
                  </li>
                  <li>
                     <p><span class="bold">示例</span>描述了运行给定示例所需的任何设置任务。列出的演示文件位于<code class="codeph">$ORACLE_HOME/rdbms/demo/lobs/</code> named <code class="codeph">plsql</code> ， <code class="codeph">oci</code> ， <code class="codeph">vb</code>和<code class="codeph">java</code>下的子目录中。驱动程序<code class="codeph">lobdemo.sql</code>位于<code class="codeph">/plsql</code> ，驱动程序<code class="codeph">lobdemo.c</code>位于<code class="codeph">/oci</code> 。
                     </p>
                  </li>
               </ul>
               <p>话题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="using-LOB-APIs.html#GUID-AEE4EC42-6F89-49C1-88D5-23D4CCCED6FC">支持的环境</a></p>
                  </li>
                  <li>
                     <p><a href="using-LOB-APIs.html#GUID-8565620F-A9F9-4AE0-949E-C5A12DE405CB">关于将一个LOB附加到另一个</a></p>
                  </li>
                  <li>
                     <p><a href="using-LOB-APIs.html#GUID-512E9190-CD3B-40FB-B796-1CED146FACD0">关于确定字符集表单</a></p>
                  </li>
                  <li>
                     <p><a href="using-LOB-APIs.html#GUID-BD546589-AEFC-4C6D-9787-E6ACF4C9B8D0">关于确定字符集ID</a></p>
                  </li>
                  <li>
                     <p><a href="using-LOB-APIs.html#GUID-94FBC256-0F45-49CF-A01F-31701B34B586">使用BFILE中的数据加载LOB</a></p>
                  </li>
                  <li>
                     <p><a href="using-LOB-APIs.html#GUID-3DCD0C11-5A7D-46A2-ABF0-1DACFDE5BCD8">关于使用BFILE中的数据加载BLOB</a></p>
                  </li>
                  <li>
                     <p><a href="using-LOB-APIs.html#GUID-3E8F6AB9-B07B-4C22-981E-296C86ECC125">使用BFILE中的数据加载CLOB或NCLOB</a></p>
                  </li>
                  <li>
                     <p><a href="using-LOB-APIs.html#GUID-C6F6F1A5-F563-4194-919D-6620797AF6AA">确定LOB是否打开</a></p>
                  </li>
                  <li>
                     <p><a href="using-LOB-APIs.html#GUID-D44D2C71-8CAB-44F0-A82B-BF3F3E8BCDB9">关于显示LOB数据</a></p>
                  </li>
                  <li>
                     <p><a href="using-LOB-APIs.html#GUID-AC5E49A1-8479-4D68-AF1A-C497AACC5495">关于从LOB读取数据</a></p>
                  </li>
                  <li>
                     <p><a href="using-LOB-APIs.html#GUID-F41CA770-8003-4864-A999-91FA47FDB971">关于LOB Array Read</a></p>
                  </li>
                  <li>
                     <p><a href="using-LOB-APIs.html#GUID-913B73AA-F6A9-4F59-AD78-EF38F08B7BCE">读取LOB的一部分（SUBSTR）</a></p>
                  </li>
                  <li>
                     <p><a href="using-LOB-APIs.html#GUID-F4F530C0-1604-4A83-9479-F79400819B22">比较两个LOB的全部或部分</a></p>
                  </li>
                  <li>
                     <p><a href="using-LOB-APIs.html#GUID-66B2AC7A-9959-4D36-8C75-E02DC59AF0A9">模式：使用INSTR检查LOB中的模式</a></p>
                  </li>
                  <li>
                     <p><a href="using-LOB-APIs.html#GUID-8D5BBF87-8869-4ADB-A38C-318CA2FAEEDD">长度：确定LOB的长度</a></p>
                  </li>
                  <li>
                     <p><a href="using-LOB-APIs.html#GUID-CB96E540-2C7E-4DDA-8A25-E8077A4DBA8C">将一个LOB的全部或部分复制到另一个LOB</a></p>
                  </li>
                  <li>
                     <p><a href="using-LOB-APIs.html#GUID-39CAC466-1BA9-4BF8-8C63-8BD6265A8F21">复制LOB定位器</a></p>
                  </li>
                  <li>
                     <p><a href="using-LOB-APIs.html#GUID-2C03EEF3-2719-4BD0-AD13-ECF93E1B4492">平等：检查一个LOB定位器是否等于另一个</a></p>
                  </li>
                  <li>
                     <p><a href="using-LOB-APIs.html#GUID-9B110BA7-91BA-4800-AACF-590D81893A79">关于确定LOB定位器是否已初始化</a></p>
                  </li>
                  <li>
                     <p><a href="using-LOB-APIs.html#GUID-E5A777E0-512F-4D84-87A2-3F9AB7F8A400">关于附加到LOB</a></p>
                  </li>
                  <li>
                     <p><a href="using-LOB-APIs.html#GUID-361CDD50-6A70-4024-988C-273D885654F2">关于将数据写入LOB</a></p>
                  </li>
                  <li>
                     <p><a href="using-LOB-APIs.html#GUID-9C2E65CE-BCA5-4600-8B7F-E51C3466C985">LOB数组写</a></p>
                  </li>
                  <li>
                     <p><a href="using-LOB-APIs.html#GUID-1F0A8155-1431-4804-81DE-D55EE5A69CB2">关于修剪LOB数据</a></p>
                  </li>
                  <li>
                     <p><a href="using-LOB-APIs.html#GUID-CB83E58B-CF34-4771-A79B-61C57F48369C">关于擦除LOB的一部分</a></p>
                  </li>
                  <li>
                     <p><a href="using-LOB-APIs.html#GUID-9C8276AA-A510-4F5A-858F-8B40D2FB47AA">确定LOB实例是否为临时实例</a></p>
                  </li>
                  <li>
                     <p><a href="using-LOB-APIs.html#GUID-032C4593-7EAA-4B60-9B49-0FD6197EC80A" title="您可以使用PL / SQL过程DBMS_LOB.CONVERTTOCLOB将BLOB实例转换为CLOB。">将BLOB转换为CLOB</a></p>
                  </li>
                  <li>
                     <p><a href="using-LOB-APIs.html#GUID-DC046D03-AFB3-4B8C-A163-ED49C18A48CC">将CLOB转换为BLOB</a></p>
                  </li>
                  <li>
                     <p><a href="using-LOB-APIs.html#GUID-06CC03E6-4DD2-4326-82E2-3CABC9A37941">确保读一致性</a></p>
                  </li>
               </ul>
            </div><a id="ADLOB45696"></a><a id="ADLOB45695"></a><div class="props_rev_3"><a id="GUID-AEE4EC42-6F89-49C1-88D5-23D4CCCED6FC" name="GUID-AEE4EC42-6F89-49C1-88D5-23D4CCCED6FC"></a><h3 id="ADLOB-GUID-AEE4EC42-6F89-49C1-88D5-23D4CCCED6FC" class="sect3">支持的环境</h3>
               <div>
                  <p><a href="using-LOB-APIs.html#GUID-AEE4EC42-6F89-49C1-88D5-23D4CCCED6FC__G1098343" title="该表在前面的文本中描述">表12-1</a>显示了本章中讨论的API支持的编程环境。第一列描述了API执行的操作。其余列指示是或否，PL / SQL，OCI，OCCI，COBOL，Pro * C / C ++和JDBC是否支持API。</p>
                  <div class="tblformalwide" id="GUID-AEE4EC42-6F89-49C1-88D5-23D4CCCED6FC__G1098343">
                     <p class="titleintable">表12-1 LOB API支持的环境</p>
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="LOB API支持的环境" width="100%" border="1" summary="This table is described in the preceding text" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="44%" id="d63788e397">手术</th>
                              <th align="left" valign="bottom" width="9%" id="d63788e400">PL / SQL</th>
                              <th align="left" valign="bottom" width="9%" id="d63788e403">OCI</th>
                              <th align="left" valign="bottom" width="9%" id="d63788e406">OCCI</th>
                              <th align="left" valign="bottom" width="9%" id="d63788e409">COBOL</th>
                              <th align="left" valign="bottom" width="13%" id="d63788e412">PRO * C / C ++</th>
                              <th align="left" valign="bottom" width="9%" id="d63788e415">JDBC</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="44%" id="d63788e420" headers="d63788e397 ">
                                 <p><a href="using-LOB-APIs.html#GUID-8565620F-A9F9-4AE0-949E-C5A12DE405CB">关于将一个LOB附加到另一个</a> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e420 d63788e400 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e420 d63788e403 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e420 d63788e406 ">
                                 <p>没有</p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e420 d63788e409 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d63788e420 d63788e412 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e420 d63788e415 ">
                                 <p>是</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="44%" id="d63788e445" headers="d63788e397 ">
                                 <p><a href="using-LOB-APIs.html#GUID-512E9190-CD3B-40FB-B796-1CED146FACD0">关于确定字符集表单</a> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e445 d63788e400 ">
                                 <p>没有</p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e445 d63788e403 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e445 d63788e406 ">
                                 <p>没有</p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e445 d63788e409 ">
                                 <p>没有</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d63788e445 d63788e412 ">
                                 <p>没有</p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e445 d63788e415 ">
                                 <p>没有</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="44%" id="d63788e470" headers="d63788e397 ">
                                 <p><a href="using-LOB-APIs.html#GUID-BD546589-AEFC-4C6D-9787-E6ACF4C9B8D0">关于确定字符集ID</a> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e470 d63788e400 ">
                                 <p>没有</p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e470 d63788e403 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e470 d63788e406 ">
                                 <p>没有</p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e470 d63788e409 ">
                                 <p>没有</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d63788e470 d63788e412 ">
                                 <p>没有</p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e470 d63788e415 ">
                                 <p>没有</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="44%" id="d63788e495" headers="d63788e397 ">
                                 <p>确定块大小，请参阅： <a href="using-LOB-APIs.html#GUID-361CDD50-6A70-4024-988C-273D885654F2">关于将数据写入LOB</a></p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e495 d63788e400 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e495 d63788e403 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e495 d63788e406 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e495 d63788e409 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d63788e495 d63788e412 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e495 d63788e415 ">
                                 <p>是</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="44%" id="d63788e520" headers="d63788e397 ">
                                 <p><a href="using-LOB-APIs.html#GUID-F4F530C0-1604-4A83-9479-F79400819B22">比较两个LOB的全部或部分</a> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e520 d63788e400 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e520 d63788e403 ">
                                 <p>没有</p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e520 d63788e406 ">
                                 <p>没有</p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e520 d63788e409 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d63788e520 d63788e412 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e520 d63788e415 ">
                                 <p>是</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="44%" id="d63788e545" headers="d63788e397 ">
                                 <p><a href="using-LOB-APIs.html#GUID-032C4593-7EAA-4B60-9B49-0FD6197EC80A" title="您可以使用PL / SQL过程DBMS_LOB.CONVERTTOCLOB将BLOB实例转换为CLOB。">将BLOB转换为CLOB</a> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e545 d63788e400 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e545 d63788e403 ">
                                 <p>没有</p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e545 d63788e406 ">
                                 <p>没有</p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e545 d63788e409 ">
                                 <p>没有</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d63788e545 d63788e412 ">
                                 <p>没有</p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e545 d63788e415 ">
                                 <p>没有</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="44%" id="d63788e582" headers="d63788e397 ">
                                 <p><a href="using-LOB-APIs.html#GUID-DC046D03-AFB3-4B8C-A163-ED49C18A48CC">将CLOB转换为BLOB</a> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e582 d63788e400 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e582 d63788e403 ">
                                 <p>没有</p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e582 d63788e406 ">
                                 <p>没有</p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e582 d63788e409 ">
                                 <p>没有</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d63788e582 d63788e412 ">
                                 <p>没有</p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e582 d63788e415 ">
                                 <p>没有</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="44%" id="d63788e607" headers="d63788e397 ">
                                 <p><a href="using-LOB-APIs.html#GUID-39CAC466-1BA9-4BF8-8C63-8BD6265A8F21">复制LOB定位器</a> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e607 d63788e400 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e607 d63788e403 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e607 d63788e406 ">
                                 <p>没有</p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e607 d63788e409 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d63788e607 d63788e412 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e607 d63788e415 ">
                                 <p>是</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="44%" id="d63788e632" headers="d63788e397 ">
                                 <p><a href="using-LOB-APIs.html#GUID-CB96E540-2C7E-4DDA-8A25-E8077A4DBA8C">将一个LOB的全部或部分复制到另一个LOB</a> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e632 d63788e400 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e632 d63788e403 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e632 d63788e406 ">
                                 <p>没有</p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e632 d63788e409 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d63788e632 d63788e412 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e632 d63788e415 ">
                                 <p>是</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="44%" id="d63788e657" headers="d63788e397 ">
                                 <p><a href="using-LOB-APIs.html#GUID-D44D2C71-8CAB-44F0-A82B-BF3F3E8BCDB9">关于显示LOB数据</a> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e657 d63788e400 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e657 d63788e403 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e657 d63788e406 ">
                                 <p>没有</p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e657 d63788e409 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d63788e657 d63788e412 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e657 d63788e415 ">
                                 <p>是</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="44%" id="d63788e682" headers="d63788e397 ">
                                 <p><a href="using-LOB-APIs.html#GUID-2C03EEF3-2719-4BD0-AD13-ECF93E1B4492">平等：检查一个LOB定位器是否等于另一个</a> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e682 d63788e400 ">
                                 <p>没有</p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e682 d63788e403 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e682 d63788e406 ">
                                 <p>没有</p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e682 d63788e409 ">
                                 <p>没有</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d63788e682 d63788e412 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e682 d63788e415 ">
                                 <p>是</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="44%" id="d63788e708" headers="d63788e397 ">
                                 <p><a href="using-LOB-APIs.html#GUID-CB83E58B-CF34-4771-A79B-61C57F48369C">关于擦除LOB的一部分</a> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e708 d63788e400 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e708 d63788e403 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e708 d63788e406 ">
                                 <p>没有</p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e708 d63788e409 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d63788e708 d63788e412 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e708 d63788e415 ">
                                 <p>是</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="44%" id="d63788e733" headers="d63788e397 ">
                                 <p><a href="using-LOB-APIs.html#GUID-9B110BA7-91BA-4800-AACF-590D81893A79">关于确定LOB定位器是否已初始化</a> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e733 d63788e400 ">
                                 <p>没有</p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e733 d63788e403 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e733 d63788e406 ">
                                 <p>没有</p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e733 d63788e409 ">
                                 <p>没有</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d63788e733 d63788e412 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e733 d63788e415 ">
                                 <p>没有</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="44%" id="d63788e758" headers="d63788e397 ">
                                 <p><a href="using-LOB-APIs.html#GUID-8D5BBF87-8869-4ADB-A38C-318CA2FAEEDD">长度：确定LOB的长度</a> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e758 d63788e400 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e758 d63788e403 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e758 d63788e406 ">
                                 <p>没有</p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e758 d63788e409 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d63788e758 d63788e412 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e758 d63788e415 ">
                                 <p>是</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="44%" id="d63788e783" headers="d63788e397 ">
                                 <p><a href="using-LOB-APIs.html#GUID-94FBC256-0F45-49CF-A01F-31701B34B586">使用BFILE中的数据加载LOB</a> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e783 d63788e400 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e783 d63788e403 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e783 d63788e406 ">
                                 <p>没有</p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e783 d63788e409 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d63788e783 d63788e412 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e783 d63788e415 ">
                                 <p>是</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="44%" id="d63788e808" headers="d63788e397 ">
                                 <p><a href="using-LOB-APIs.html#GUID-3DCD0C11-5A7D-46A2-ABF0-1DACFDE5BCD8">关于使用BFILE中的数据加载BLOB</a> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e808 d63788e400 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e808 d63788e403 ">
                                 <p>没有</p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e808 d63788e406 ">
                                 <p>没有</p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e808 d63788e409 ">
                                 <p>没有</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d63788e808 d63788e412 ">
                                 <p>没有</p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e808 d63788e415 ">
                                 <p>没有</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="44%" id="d63788e833" headers="d63788e397 ">
                                 <p><a href="using-LOB-APIs.html#GUID-3E8F6AB9-B07B-4C22-981E-296C86ECC125">使用BFILE中的数据加载CLOB或NCLOB</a> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e833 d63788e400 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e833 d63788e403 ">
                                 <p>没有</p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e833 d63788e406 ">
                                 <p>没有</p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e833 d63788e409 ">
                                 <p>没有</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d63788e833 d63788e412 ">
                                 <p>没有</p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e833 d63788e415 ">
                                 <p>没有</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="44%" id="d63788e858" headers="d63788e397 ">
                                 <p><a href="using-LOB-APIs.html#GUID-F41CA770-8003-4864-A999-91FA47FDB971">关于LOB Array Read</a></p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e858 d63788e400 ">
                                 <p>没有</p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e858 d63788e403 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e858 d63788e406 ">
                                 <p>没有</p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e858 d63788e409 ">
                                 <p>没有</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d63788e858 d63788e412 ">
                                 <p>没有</p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e858 d63788e415 ">
                                 <p>没有</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="44%" id="d63788e882" headers="d63788e397 ">
                                 <p><a href="using-LOB-APIs.html#GUID-9C2E65CE-BCA5-4600-8B7F-E51C3466C985">LOB数组写</a></p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e882 d63788e400 ">
                                 <p>没有</p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e882 d63788e403 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e882 d63788e406 ">
                                 <p>没有</p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e882 d63788e409 ">
                                 <p>没有</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d63788e882 d63788e412 ">
                                 <p>没有</p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e882 d63788e415 ">
                                 <p>没有</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="44%" id="d63788e906" headers="d63788e397 ">
                                 <p><a href="advanced-design-considerations.html#GUID-B161D891-886D-4D53-89F0-BB42BD22C102">使用OPEN和CLOSE接口打开持久LOB</a></p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e906 d63788e400 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e906 d63788e403 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e906 d63788e406 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e906 d63788e409 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d63788e906 d63788e412 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e906 d63788e415 ">
                                 <p>是</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="44%" id="d63788e930" headers="d63788e397 ">
                                 <p>打开： <a href="using-LOB-APIs.html#GUID-C6F6F1A5-F563-4194-919D-6620797AF6AA">确定LOB是否打开</a></p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e930 d63788e400 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e930 d63788e403 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e930 d63788e406 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e930 d63788e409 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d63788e930 d63788e412 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e930 d63788e415 ">
                                 <p>是</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="44%" id="d63788e955" headers="d63788e397 ">
                                 <p><a href="using-LOB-APIs.html#GUID-66B2AC7A-9959-4D36-8C75-E02DC59AF0A9">模式：使用INSTR检查LOB中的模式</a> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e955 d63788e400 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e955 d63788e403 ">
                                 <p>没有</p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e955 d63788e406 ">
                                 <p>没有</p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e955 d63788e409 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d63788e955 d63788e412 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e955 d63788e415 ">
                                 <p>是</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="44%" id="d63788e981" headers="d63788e397 ">
                                 <p><a href="using-LOB-APIs.html#GUID-913B73AA-F6A9-4F59-AD78-EF38F08B7BCE">读取LOB的一部分（SUBSTR）</a> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e981 d63788e400 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e981 d63788e403 ">
                                 <p>没有</p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e981 d63788e406 ">
                                 <p>没有</p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e981 d63788e409 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d63788e981 d63788e412 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e981 d63788e415 ">
                                 <p>是</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="44%" id="d63788e1006" headers="d63788e397 ">
                                 <p><a href="using-LOB-APIs.html#GUID-AC5E49A1-8479-4D68-AF1A-C497AACC5495">关于从LOB读取数据</a> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e1006 d63788e400 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e1006 d63788e403 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e1006 d63788e406 ">
                                 <p>没有</p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e1006 d63788e409 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d63788e1006 d63788e412 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e1006 d63788e415 ">
                                 <p>是</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="44%" id="d63788e1031" headers="d63788e397 ">
                                 <p>存储限制，确定： <a href="advanced-design-considerations.html#GUID-A84520F4-05EF-48F3-B2A4-9CC001192B23">TB级大小LOB的最大存储限制</a></p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e1031 d63788e400 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e1031 d63788e403 ">
                                 <p>没有</p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e1031 d63788e406 ">
                                 <p>没有</p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e1031 d63788e409 ">
                                 <p>没有</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d63788e1031 d63788e412 ">
                                 <p>没有</p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e1031 d63788e415 ">
                                 <p>没有</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="44%" id="d63788e1056" headers="d63788e397 ">
                                 <p><a href="using-LOB-APIs.html#GUID-1F0A8155-1431-4804-81DE-D55EE5A69CB2">关于修剪LOB数据</a> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e1056 d63788e400 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e1056 d63788e403 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e1056 d63788e406 ">
                                 <p>没有</p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e1056 d63788e409 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d63788e1056 d63788e412 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e1056 d63788e415 ">
                                 <p>是</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="44%" id="d63788e1081" headers="d63788e397 ">
                                 <p>WriteNoAppend，请参阅<a href="using-LOB-APIs.html#GUID-E5A777E0-512F-4D84-87A2-3F9AB7F8A400">关于附加到LOB</a> 。
                                 </p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e1081 d63788e400 ">
                                 <p>没有</p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e1081 d63788e403 ">
                                 <p>没有</p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e1081 d63788e406 ">
                                 <p>没有</p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e1081 d63788e409 ">
                                 <p>没有</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d63788e1081 d63788e412 ">
                                 <p>没有</p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e1081 d63788e415 ">
                                 <p>没有</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="44%" id="d63788e1107" headers="d63788e397 ">
                                 <p><a href="using-LOB-APIs.html#GUID-361CDD50-6A70-4024-988C-273D885654F2">关于将数据写入LOB</a> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e1107 d63788e400 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e1107 d63788e403 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e1107 d63788e406 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e1107 d63788e409 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d63788e1107 d63788e412 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="9%" headers="d63788e1107 d63788e415 ">
                                 <p>是</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="ADLOB45697"></a><a id="ADLOB45698"></a><a id="ADLOB45699"></a><a id="ADLOB45700"></a><a id="ADLOB1001"></a><div class="props_rev_3"><a id="GUID-8565620F-A9F9-4AE0-949E-C5A12DE405CB" name="GUID-8565620F-A9F9-4AE0-949E-C5A12DE405CB"></a><h3 id="ADLOB-GUID-8565620F-A9F9-4AE0-949E-C5A12DE405CB" class="sect3">关于将一个LOB附加到另一个</h3>
               <div>
                  <div class="section">
                     <p>此操作将一个LOB实例附加到另一个LOB实例。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-8565620F-A9F9-4AE0-949E-C5A12DE405CB__GUID-F3B7A20E-14D8-47DB-A322-7A9AE027031A">前提条件</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>在将一个LOB附加到另一个LOB之前，必须满足以下条件：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>必须存在两个LOB实例。</p>
                        </li>
                        <li>
                           <p>两个实例必须属于同一类型，例如<code class="codeph">BLOB</code>或两种<code class="codeph">CLOB</code>类型。
                           </p>
                        </li>
                        <li>
                           <p>您可以将持久性或临时LOB实例的任意组合传递给此操作。</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-8565620F-A9F9-4AE0-949E-C5A12DE405CB__GUID-FD1216AB-974F-4FE7-B2E9-E9174D624E9E">使用说明</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p><span class="bold">持久LOB：</span>您必须锁定您之前选择LOB的行<a id="d63788e1230" class="indexterm-anchor"></a>更新<a id="d63788e1235" class="indexterm-anchor"></a>如果您使用PL / SQL <code class="codeph">DBMS_LOB</code>包或OCI，则为LOB值。虽然SQL <code class="codeph">INSERT</code>和<code class="codeph">UPDATE</code>语句隐式锁定行，但可以使用SQL和PL / SQL程序中的SQL <code class="codeph">SELECT</code> <code class="codeph">FOR</code> <code class="codeph">UPDATE</code>语句或在OCI程序中使用OCI <code class="codeph">pin</code>或<code class="codeph">lock</code>函数来显式锁定行。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-8565620F-A9F9-4AE0-949E-C5A12DE405CB__GUID-DDA59133-DC3D-416D-B3D5-57D75DF475DD">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>请参阅以下每个编程环境的语法参考：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>PL / SQL（DBMS_LOB包）： <a href="../arpls/DBMS_LOB.html#ARPLS600" target="_blank"><span class="italic">Oracle数据库PL / SQL包和类型参考</span></a> “DBMS_LOB” <span class="italic">-</span> APPEND</p>
                        </li>
                        <li>
                           <p>C（OCI）： <a href="../lnoci/more-database-access-c-api.html#LNOCI160" target="_blank"><span class="italic">Oracle调用接口程序员指南</span></a> “LOB函数” -  OCILobAppend（）</p>
                        </li>
                        <li>
                           <p>C ++（OCCI）： <a href="../lncpp/introduction-to-occi.html#LNCPP-GUID-99077609-BFCC-4FF7-9D23-C45623DDD465" target="_blank"><span><cite>Oracle C ++调用接口程序员指南</cite></span></a></p>
                        </li>
                        <li>
                           <p>COBOL（Pro * COBOL） <a href="../lnpcb/introduction-and-concepts.html#LNPCB-GUID-5B383B0F-9628-443B-8CB7-D2C01607EED6" target="_blank"><span><cite>Pro * COBOL程序员指南</cite></span></a> ，了解有关LOB的信息，LOB语句的使用说明以及LOB APPEND可执行嵌入式SQL扩展</p>
                        </li>
                        <li>
                           <p>C / C ++（Pro * C / C ++）： <a href="../lnpcc/embedded-SQL-statements-and-directives.html#LNPCC-GUID-A20A5780-99FA-445F-93D5-5BF3FCCD737D" target="_blank"><span><cite>Pro * C / C ++程序员指南</cite></span></a> ，了解有关嵌入式SQL语句和指令的信息 -  LOB APPEND</p>
                        </li>
                        <li>
                           <p>Java（JDBC）： <a href="../jjdbc/overview-of-JDBC.html#JJDBC-GUID-78462728-C5D3-4999-BDB9-7E676F772674" target="_blank"><span><cite>Oracle数据库JDBC开发人员指南</cite></span></a> ，了解有关在Java中创建和填充LOB列的信息。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-8565620F-A9F9-4AE0-949E-C5A12DE405CB__GUID-A6BB4A6A-9D2C-4863-BBB7-845FC565CD31">例子</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>要运行以下示例，必须创建两个LOB实例，并在调用给定的追加操作时传递它们。</p>
                     <p>以下编程环境中提供了此用例的示例：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>PL / SQL（DBMS_LOB包）： <code class="codeph">lappend.sql</code></p>
                        </li>
                        <li>
                           <p>OCI： <code class="codeph">lappend.c</code></p>
                        </li>
                        <li>
                           <p>Java（JDBC）： <code class="codeph">lappend.java</code></p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-8565620F-A9F9-4AE0-949E-C5A12DE405CB__NOTE-1252-DE7A2179">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="advanced-design-considerations.html#GUID-9E8A72FB-D1A7-4151-B184-BB1FEC850BBD">通过更新的定位器更新LOB的示例，</a>以获取有关<a href="advanced-design-considerations.html#GUID-9E8A72FB-D1A7-4151-B184-BB1FEC850BBD">更新后定位器</a>状态的更多详细信息</p>
                           </li>
                           <li>
                              <p>有关创建LOB实例的更多信息， <a href="operations-specific-to-persistent-and-temporary-LOBs.html#GUID-7B3D15D3-A182-4ED1-A265-8EE15E793C46">特定于持久性和临时性LOB的操作</a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ADLOB45702"></a><a id="ADLOB45703"></a><a id="ADLOB45701"></a><div class="props_rev_3"><a id="GUID-512E9190-CD3B-40FB-B796-1CED146FACD0" name="GUID-512E9190-CD3B-40FB-B796-1CED146FACD0"></a><h3 id="ADLOB-GUID-512E9190-CD3B-40FB-B796-1CED146FACD0" class="sect3">关于确定字符集表单</h3>
               <div>
                  <div class="section">
                     <p>本节介绍如何获取LOB实例的字符集形式。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-512E9190-CD3B-40FB-B796-1CED146FACD0__GUID-EAC13534-6824-41C3-96CC-ABB653DB83C7">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>对每个编程环境使用以下语法参考：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>PL / SQL（DBMS_LOB包）：此操作没有适用的语法参考。</p>
                        </li>
                        <li>
                           <p>C（OCI）： <a href="../lnoci/more-database-access-c-api.html#LNOCI160" target="_blank"><span class="italic">Oracle调用接口程序员指南</span></a> “LOB函数” -  OCILobCharSetForm（）</p>
                        </li>
                        <li>
                           <p>C ++（OCCI）： <a href="../lncpp/introduction-to-occi.html#LNCPP-GUID-99077609-BFCC-4FF7-9D23-C45623DDD465" target="_blank"><span><cite>Oracle C ++调用接口程序员指南</cite></span></a></p>
                        </li>
                        <li>
                           <p>COBOL（Pro * COBOL）：此操作没有适用的语法参考</p>
                        </li>
                        <li>
                           <p>C / C ++（Pro * C / C ++）：此操作没有适用的语法参考。</p>
                        </li>
                        <li>
                           <p>Java（JDBC）：此操作没有适用的语法参考。</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-512E9190-CD3B-40FB-B796-1CED146FACD0__GUID-53F4860B-C8A6-4E7E-AE30-9F9FE4D3A132">例</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>该示例演示了如何确定外语文本（ <code class="codeph">ad_fltextn</code> ）的字符集形式。
                     </p>
                     <p>此功能目前仅在OCI中可用：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>OCI： <code class="codeph">lgetchfm.c</code></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ADLOB45705"></a><a id="ADLOB45706"></a><a id="ADLOB45704"></a><div class="props_rev_3"><a id="GUID-BD546589-AEFC-4C6D-9787-E6ACF4C9B8D0" name="GUID-BD546589-AEFC-4C6D-9787-E6ACF4C9B8D0"></a><h3 id="ADLOB-GUID-BD546589-AEFC-4C6D-9787-E6ACF4C9B8D0" class="sect3">关于确定字符集ID</h3>
               <div>
                  <div class="section">
                     <p>本节介绍如何确定字符集ID。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-BD546589-AEFC-4C6D-9787-E6ACF4C9B8D0__GUID-D44F96B9-F5F9-4421-942A-7BB10407533E">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>对每个编程环境使用以下语法参考：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>PL / SQL（DBMS_LOB包）： <span class="italic"> </span>此操作没有适用的语法参考。
                           </p>
                        </li>
                        <li>
                           <p>C（OCI）： <a href="../lnoci/more-database-access-c-api.html#LNOCI160" target="_blank"><span class="italic">Oracle调用接口程序员指南</span></a> “关系函数” -  LOB函数，OCILobCharSetId（）</p>
                        </li>
                        <li>
                           <p>C ++（OCCI）： <a href="../lncpp/introduction-to-occi.html#LNCPP-GUID-99077609-BFCC-4FF7-9D23-C45623DDD465" target="_blank"><span><cite>Oracle C ++调用接口程序员指南</cite></span></a></p>
                        </li>
                        <li>
                           <p>COBOL（Pro * COBOL）：此操作没有适用的语法参考。</p>
                        </li>
                        <li>
                           <p>C / C ++（Pro * C / C ++）：此操作没有适用的语法参考</p>
                        </li>
                        <li>
                           <p>Java（JDBC）：此操作没有适用的语法参考。</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-BD546589-AEFC-4C6D-9787-E6ACF4C9B8D0__GUID-BF8E6E9F-76A4-4F26-8BBC-2B8AAFECE719">例</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>此功能目前仅在OCI中可用：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>OCI： <code class="codeph">lgetchar.c</code></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ADLOB45708"></a><a id="ADLOB45709"></a><a id="ADLOB45710"></a><a id="ADLOB45711"></a><a id="ADLOB45712"></a><a id="ADLOB45713"></a><a id="ADLOB45714"></a><a id="ADLOB45707"></a><div class="props_rev_3"><a id="GUID-94FBC256-0F45-49CF-A01F-31701B34B586" name="GUID-94FBC256-0F45-49CF-A01F-31701B34B586"></a><h3 id="ADLOB-GUID-94FBC256-0F45-49CF-A01F-31701B34B586" class="sect3">使用BFILE中的数据加载LOB</h3>
               <div>
                  <div class="section">
                     <p>此操作使用来自<code class="codeph">BFILE</code>数据加载LOB。此过程可用于将数据加载到任何LOB数据类型的任何持久或临时LOB实例中。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-94FBC256-0F45-49CF-A01F-31701B34B586__GUID-1FCC3C6A-6989-481F-AE62-AF61D0DBD7BA">前提条件</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>在使用来自<code class="codeph">BFILE</code>数据加载LOB之前，必须满足以下条件：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">BFILE</code>必须存在。
                           </p>
                        </li>
                        <li>
                           <p>目标LOB实例必须存在。</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-94FBC256-0F45-49CF-A01F-31701B34B586__GUID-EC1ECA8A-155E-4F27-AE94-AF4C796F7D3A">使用说明</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>请注意有关此操作的以下问题。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-94FBC256-0F45-49CF-A01F-31701B34B586__GUID-DAA59FA8-C756-471B-8D12-2BFBEB9C30C8">加载字符数据时使用LOADCLOBFROMFILE</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>使用<code class="codeph">DBMS_LOB.LOADFROMFILE</code>过程加载<code class="codeph">CLOB</code>或<code class="codeph">NCLOB</code>实例时，将使用<code class="codeph">BFILE</code>二进制数据加载LOB，并且不执行隐式字符集转换。因此，在加载字符数据时，建议使用<code class="codeph">DBMS_LOB.LOADCLOBFROMFILE</code>过程。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-94FBC256-0F45-49CF-A01F-31701B34B586__GUID-CCCB67E3-A327-4025-9200-10D0DDD24B0C">指定要加载的BFILE数据量</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>您为<a href="using-LOB-APIs.html#GUID-94FBC256-0F45-49CF-A01F-31701B34B586__G1098617" title="该表在前面的文本中描述">表12-2中</a>列出的函数传递amount参数的值必须是以下值之一：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>小于或等于要加载的<code class="codeph">BFILE</code>的实际大小（以字节为单位）的数量。
                           </p>
                        </li>
                        <li>
                           <p>允许的最大LOB大小（以字节为单位）。传递此值，加载整个<code class="codeph">BFILE</code> 。您可以使用此技术来加载整个<code class="codeph">BFILE</code>而不确定的大小<code class="codeph">BFILE</code>装货前。要获得允许的最大LOB大小，请使用<a href="using-LOB-APIs.html#GUID-94FBC256-0F45-49CF-A01F-31701B34B586__G1098617" title="该表在前面的文本中描述">表12-2中</a>所述的技术。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-94FBC256-0F45-49CF-A01F-31701B34B586__G1098617">
                     <p class="titleintable">表12-2文件操作加载的最大LOB大小</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="文件操作加载的最大LOB大小" width="100%" border="1" summary="This table is described in the preceding text" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="17%" id="d63788e1782">环境</th>
                              <th align="left" valign="bottom" width="48%" id="d63788e1785">功能</th>
                              <th align="left" valign="bottom" width="34%" id="d63788e1788">要传递最大LOB大小，请获取以下值：</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="17%" id="d63788e1793" headers="d63788e1782 "><code class="codeph">DBMS_LOB</code></td>
                              <td align="left" valign="top" width="48%" headers="d63788e1793 d63788e1785 "><code class="codeph">DBMS_LOB.LOADBLOBFROMFILE</code></td>
                              <td align="left" valign="top" width="34%" headers="d63788e1793 d63788e1788 "><code class="codeph">DBMS_LOB.LOBMAXSIZE</code></td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="17%" id="d63788e1803" headers="d63788e1782 "><code class="codeph">DBMS_LOB</code></td>
                              <td align="left" valign="top" width="48%" headers="d63788e1803 d63788e1785 "><code class="codeph">DBMS_LOB.LOADCLOBFROMFILE</code></td>
                              <td align="left" valign="top" width="34%" headers="d63788e1803 d63788e1788 "><code class="codeph">DBMS_LOB.LOBMAXSIZE</code></td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="17%" id="d63788e1813" headers="d63788e1782 "><code class="codeph">OCI</code></td>
                              <td align="left" valign="top" width="48%" headers="d63788e1813 d63788e1785 "><code class="codeph">OCILobLoadFromFile2（）</code></td>
                              <td align="left" valign="top" width="34%" headers="d63788e1813 d63788e1788 "><code class="codeph">UB8MAXVAL</code></td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="17%" id="d63788e1823" headers="d63788e1782 "><code class="codeph">OCI</code></td>
                              <td align="left" valign="top" width="48%" headers="d63788e1823 d63788e1785 "><code class="codeph">OCILobLoadFromFile()</code> （对于大小小于4千兆字节的LOB。）
                              </td>
                              <td align="left" valign="top" width="34%" headers="d63788e1823 d63788e1788 "><code class="codeph">UB4MAXVAL</code></td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-94FBC256-0F45-49CF-A01F-31701B34B586__GUID-BA6A4EA7-0947-4A33-B1E4-6B571E2AA77A">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>有关在每个编程环境中使用此操作的详细信息，请参阅以下语法参考：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>PL / SQL（DBMS_LOB包）： <a href="../arpls/DBMS_LOB.html#ARPLS-GUID-25F5EE35-1DB7-4F96-AB87-F81700484932" target="_blank"><span><cite>Oracle数据库PL / SQL包和类型参考</cite></span></a> “DBMS_LOB” <span class="italic">-</span> LOADFROMFILE。 <span class="italic"> </span></p>
                        </li>
                        <li>
                           <p>C（OCI）： <a href="../lnoci/more-database-access-c-api.html#LNOCI160" target="_blank"><span class="italic">Oracle调用接口程序员指南</span></a> “LOB函数” -  OCILobLoadFromFile（）</p>
                        </li>
                        <li>
                           <p>C ++（OCCI）： <a href="../lncpp/introduction-to-occi.html#LNCPP-GUID-99077609-BFCC-4FF7-9D23-C45623DDD465" target="_blank"><span><cite>Oracle C ++调用接口程序员指南</cite></span></a></p>
                        </li>
                        <li>
                           <p>COBOL（Pro * COBOL） <a href="../lnpcb/introduction-and-concepts.html#LNPCB-GUID-5B383B0F-9628-443B-8CB7-D2C01607EED6" target="_blank"><span><cite>Pro * COBOL程序员指南</cite></span></a> ，了解有关LOB的信息，LOB语句的使用说明， <code class="codeph">LOB LOAD</code> ， <code class="codeph">LOB OPEN</code>和<code class="codeph">LOB CLOSE</code>可执行嵌入式SQL扩展</p>
                        </li>
                        <li>
                           <p>C / C ++（Pro * C / C ++）： <a href="../lnpcc/embedded-SQL-statements-and-directives.html#LNPCC-GUID-ABAA3659-21EB-403E-8DDE-87CC69400DCF" target="_blank"><span><cite>Pro * C / C ++程序员指南</cite></span></a> ，有关<code class="codeph">LOB LOAD</code>可执行嵌入式SQL扩展的更多信息</p>
                        </li>
                        <li>
                           <p>Java（JDBC）： <a href="../jjdbc/LOBs-and-BFiles.html#JJDBC15000" target="_blank"><span class="italic">Oracle数据库JDBC开发人员指南</span></a>第7章“使用LOB” - 创建和<code class="codeph">BLOB</code>或<code class="codeph">CLOB</code>列</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-94FBC256-0F45-49CF-A01F-31701B34B586__GUID-ADBCEBF4-A585-4E64-B88D-6146058F9718">例子</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>以下编程环境中提供了示例：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>PL / SQL（DBMS_LOB包）： <code class="codeph">lloaddat.sql</code></p>
                        </li>
                        <li>
                           <p>OCI： <code class="codeph">lloaddat.c</code></p>
                        </li>
                        <li>
                           <p>Java（JDBC）： <code class="codeph">lloaddat.java</code></p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-94FBC256-0F45-49CF-A01F-31701B34B586__GUID-CEA25C78-4385-4AB1-ABD8-D8ACD71BA1DD">
                        <p class="notep1">也可以看看：</p>
                        <p></p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">LOADBLOBFROMFILE</code>和<code class="codeph">LOADCLOBFROMFILE</code>过程实现此过程的功能，并提供用于加载二进制数据和字符数据的改进功能。（这些改进的过程仅在PL / SQL环境中可用。）如果可能，建议使用其中一种改进的程序。有关详细信息，请参阅<span class="q">“ <a href="using-LOB-APIs.html#GUID-3DCD0C11-5A7D-46A2-ABF0-1DACFDE5BCD8">关于使用BFILE中的数据加载BLOB</a> ”</span>和<span class="q">“</span> <span class="q"><a href="using-LOB-APIs.html#GUID-3DCD0C11-5A7D-46A2-ABF0-1DACFDE5BCD8">使用BFILE中的数据</a></span> <span class="q"><a href="using-LOB-APIs.html#GUID-3E8F6AB9-B07B-4C22-981E-296C86ECC125">加载CLOB或NCLOB</a> ”</span> 。
                              </p>
                           </li>
                           <li>
                              <p>作为此操作的替代方法，您可以使用SQL * Loader直接从文件系统中的文件加载带有数据的持久LOB。有关详细信息，请参阅<span class="q">“ <a href="managing-LOBs.html#GUID-6C345C7E-120D-4653-AF13-DB99325D106E" title="使用SQL * Loader将数据加载到LOB中有两种常用技术">关于使用SQL * Loader加载LOB</a> ”</span> 。
                              </p>
                           </li>
                           <li>
                              <p><a href="using-LOB-APIs.html#GUID-3E8F6AB9-B07B-4C22-981E-296C86ECC125">使用来自BFILE的数据加载CLOB或NCLOB以</a>获取有关<code class="codeph">DBMS_LOB.LOADCLOBFROMFILE</code>过程的更多信息</p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ADLOB45715"></a><a id="ADLOB45716"></a><a id="ADLOB45717"></a><a id="ADLOB45718"></a><a id="ADLOB45719"></a><a id="ADLOB45720"></a><a id="ADLOB1100"></a><div class="props_rev_3"><a id="GUID-3DCD0C11-5A7D-46A2-ABF0-1DACFDE5BCD8" name="GUID-3DCD0C11-5A7D-46A2-ABF0-1DACFDE5BCD8"></a><h3 id="ADLOB-GUID-3DCD0C11-5A7D-46A2-ABF0-1DACFDE5BCD8" class="sect3">关于使用BFILE中的数据加载BLOB</h3>
               <div>
                  <div class="section">
                     <p>此过程使用来自<code class="codeph">BFILE</code>数据加载<code class="codeph">BLOB</code> 。此过程可用于将数据加载到任何持久或临时<code class="codeph">BLOB</code>实例中。
                     </p>
                     <div class="infoboxnotealso" id="GUID-3DCD0C11-5A7D-46A2-ABF0-1DACFDE5BCD8__GUID-E1E90C76-2395-438D-994E-1F8A308DA418">
                        <p class="notep1">也可以看看：</p>
                        <p> </p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="using-LOB-APIs.html#GUID-94FBC256-0F45-49CF-A01F-31701B34B586">使用BFILE中的数据加载LOB</a> ”</span></p>
                           </li>
                           <li>
                              <p>要加载字符数据，请使用<code class="codeph">DBMS_LOB.LOADCLOBFROMFILE</code> 。有关详细信息，请参阅<span class="q">“ <a href="using-LOB-APIs.html#GUID-3E8F6AB9-B07B-4C22-981E-296C86ECC125">使用BFILE中的数据加载CLOB或NCLOB</a> ”</span> 。
                              </p>
                           </li>
                           <li>
                              <p>作为此操作的替代方法，您可以使用SQL * Loader直接从文件系统中的文件加载带有数据的持久LOB。有关详细信息，请参阅<span class="q">“ <a href="managing-LOBs.html#GUID-6C345C7E-120D-4653-AF13-DB99325D106E" title="使用SQL * Loader将数据加载到LOB中有两种常用技术">关于使用SQL * Loader加载LOB</a> ”</span> 。
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-3DCD0C11-5A7D-46A2-ABF0-1DACFDE5BCD8__GUID-6FEFAE36-8A6A-464F-9BD4-5BE8980F5953">前提条件</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>在调用此过程之前，必须满足以下条件：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>目标<code class="codeph">BLOB</code>实例必须存在。
                           </p>
                        </li>
                        <li>
                           <p>源<code class="codeph">BFILE</code>必须存在。
                           </p>
                        </li>
                        <li>
                           <p>您必须打开<code class="codeph">BFILE</code> 。 （调用此过程后，您必须在某个时刻关闭<code class="codeph">BFILE</code> 。）
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-3DCD0C11-5A7D-46A2-ABF0-1DACFDE5BCD8__GUID-D3266570-B2D6-4EA5-9B62-9E87B4C84208">使用说明</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>请注意以下有关此操作：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-3DCD0C11-5A7D-46A2-ABF0-1DACFDE5BCD8__GUID-5C0CC2C1-2704-4492-9E9B-31376A162E38">返回新的偏移量</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>使用<code class="codeph">DBMS_LOB.LOADBLOBFROMFILE</code>将二进制数据加载到<code class="codeph">BLOB</code>可以获得与使用<code class="codeph">DBMS_LOB.LOADFROMFILE</code>相同的结果，但也会返回BLOB的新偏移量。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-3DCD0C11-5A7D-46A2-ABF0-1DACFDE5BCD8__GUID-7AEF4E24-0E87-4A67-B7E3-53568781E6A6">指定要加载的BFILE数据量</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>您为<code class="codeph">DBMS_LOB.LOADBLOBFROMFILE</code>函数传递amount参数的值必须是以下值之一：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>小于或等于要加载的<code class="codeph">BFILE</code>的实际大小（以字节为单位）的数量。
                           </p>
                        </li>
                        <li>
                           <p>允许的最大LOB大小： <code class="codeph">DBMS_LOB.LOBMAXSIZE</code> <code class="codeph">.</code>传递此值会导致函数加载整个<code class="codeph">BFILE</code> 。这是一种非常有用的技术，可以在不反省<code class="codeph">BFILE</code>大小的情况下加载整个<code class="codeph">BFILE</code> 。</p>
                           <div class="infoboxnotealso" id="GUID-3DCD0C11-5A7D-46A2-ABF0-1DACFDE5BCD8__GUID-2F740BF7-F3F9-4782-B4F6-B0143420B754">
                              <p class="notep1">也可以看看：</p>
                              <p><a href="using-LOB-APIs.html#GUID-94FBC256-0F45-49CF-A01F-31701B34B586__G1098617" title="该表在前面的文本中描述">表12-2</a></p>
                           </div>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-3DCD0C11-5A7D-46A2-ABF0-1DACFDE5BCD8__GUID-288A1616-C9F9-444D-A9F5-0871EF132121">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>请参阅<a href="../arpls/DBMS_LOB.html#ARPLS600" target="_blank"><span class="italic">Oracle数据库PL / SQL包和类型参考</span></a> ， <span class="italic"> </span> “DBMS_LOB” -  LOADBLOBFROMFILE过程，用于此过程的语法详细信息。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-3DCD0C11-5A7D-46A2-ABF0-1DACFDE5BCD8__GUID-482E41FC-89AF-4431-86BB-5BFECDE520BD">例子</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>此示例仅适用于PL / SQL。其他程序环境中未提供此API。在线文件是<code class="codeph">lldblobf.sql</code> 。这个例子说明：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>如何使用<code class="codeph">LOADBLOBFROMFILE</code>加载整个<code class="codeph">BFILE</code>而不首先获取其长度。
                           </p>
                        </li>
                        <li>
                           <p>如何使用偏移的返回值来计算加载的实际数量。</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ADLOB45721"></a><a id="ADLOB45722"></a><a id="ADLOB45723"></a><a id="ADLOB45724"></a><a id="ADLOB45725"></a><a id="ADLOB1017"></a><div class="props_rev_3"><a id="GUID-3E8F6AB9-B07B-4C22-981E-296C86ECC125" name="GUID-3E8F6AB9-B07B-4C22-981E-296C86ECC125"></a><h3 id="ADLOB-GUID-3E8F6AB9-B07B-4C22-981E-296C86ECC125" class="sect3">使用BFILE中的数据加载CLOB或NCLOB</h3>
               <div>
                  <div class="section">
                     <p>此过程使用来自<code class="codeph">BFILE</code>字符数据加载<code class="codeph">CLOB</code>或<code class="codeph">NCLOB</code> 。此过程可用于将数据加载到持久性或临时<code class="codeph">CLOB</code>或<code class="codeph">NCLOB</code>实例中。
                     </p>
                     <div class="infoboxnotealso" id="GUID-3E8F6AB9-B07B-4C22-981E-296C86ECC125__GUID-B5C60BF5-048B-4747-897A-F06BE8F0B8E4">
                        <p class="notep1">也可以看看：</p>
                        <p> </p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="using-LOB-APIs.html#GUID-94FBC256-0F45-49CF-A01F-31701B34B586">使用BFILE中的数据加载LOB</a> ”</span></p>
                           </li>
                           <li>
                              <p>要加载二进制数据，请使用<code class="codeph">DBMS_LOB.LOADBLOBFROMFILE</code> 。有关详细信息，请参阅<span class="q">“ <a href="using-LOB-APIs.html#GUID-3DCD0C11-5A7D-46A2-ABF0-1DACFDE5BCD8">关于使用BFILE中的数据加载BLOB</a> ”</span> 。
                              </p>
                           </li>
                           <li>
                              <p>作为此操作的替代方法，您可以使用SQL * Loader直接从文件系统中的文件加载带有数据的持久LOB。有关详细信息，请参阅<span class="q">“ <a href="managing-LOBs.html#GUID-6C345C7E-120D-4653-AF13-DB99325D106E" title="使用SQL * Loader将数据加载到LOB中有两种常用技术">关于使用SQL * Loader加载LOB</a> ”</span> 。
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-3E8F6AB9-B07B-4C22-981E-296C86ECC125__GUID-F7857691-A64D-400C-9B6E-D8F48DC7A1EB">前提条件</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>在调用此过程之前，必须满足以下条件：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>目标<code class="codeph">CLOB</code>或<code class="codeph">NCLOB</code>实例必须存在。
                           </p>
                        </li>
                        <li>
                           <p>源<code class="codeph">BFILE</code>必须存在。
                           </p>
                        </li>
                        <li>
                           <p>您必须打开<code class="codeph">BFILE</code> 。 （调用此过程后，您必须在某个时刻关闭<code class="codeph">BFILE</code> 。）
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-3E8F6AB9-B07B-4C22-981E-296C86ECC125__GUID-4CD1E9B8-1420-428D-9EF9-AD892312FD80">使用说明</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>调用此过程时，可以指定<code class="codeph">BFILE</code>的字符集ID。这样做可确保将字符集从<code class="codeph">BFILE</code>数据字符集正确转换为目标<code class="codeph">CLOB</code>或<code class="codeph">NCLOB</code>字符集。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-3E8F6AB9-B07B-4C22-981E-296C86ECC125__GUID-D86870D0-089D-4291-9DD0-2109E3651C4F">指定要加载的BFILE数据量</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>您为<code class="codeph">DBMS_LOB.LOADCLOBFROMFILE</code>函数传递amount参数的值必须是以下值之一：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>小于或等于您正在加载的<code class="codeph">BFILE</code>数据的实际大小（以字符为单位）的数量。
                           </p>
                        </li>
                        <li>
                           <p>允许的最大LOB大小： <code class="codeph">DBMS_LOB.LOBMAXSIZE</code></p>
                           <p>传递此值会导致函数加载整个<code class="codeph">BFILE</code> 。这是一种非常有用的技术，可以在不反省<code class="codeph">BFILE</code>大小的情况下加载整个<code class="codeph">BFILE</code> 。</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-3E8F6AB9-B07B-4C22-981E-296C86ECC125__GUID-C8F2ADDD-52B0-4102-A58A-45D198F82A1D">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>请参阅<a href="../arpls/DBMS_LOB.html#ARPLS66728" target="_blank"><span class="italic">Oracle数据库PL / SQL包和类型参考</span></a> ， <span class="italic"> </span> “DBMS_LOB” - <code class="codeph">LOADCLOBFROMFILE</code>过程，用于此过程的语法详细信息。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-3E8F6AB9-B07B-4C22-981E-296C86ECC125__GUID-7303D4DC-801C-4810-A4F3-CA6DFDCA2162">例子</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>以下示例说明了使用此API的不同技术：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="q">“ <a href="using-LOB-APIs.html#GUID-E59B97A9-6966-47A0-93D0-7B185002E4AC">关于PL / SQL：将字符数据从BFILE加载到LOB</a> ”</span> 
                           </p>
                        </li>
                        <li>
                           <p><span class="q">“ <a href="using-LOB-APIs.html#GUID-3415F194-403B-4D35-97F4-C07D80822DA4">关于PL / SQL：将字符数据段加载到不同的LOB中</a> ”</span></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div><a id="ADLOB45726"></a><div class="props_rev_3"><a id="GUID-E59B97A9-6966-47A0-93D0-7B185002E4AC" name="GUID-E59B97A9-6966-47A0-93D0-7B185002E4AC"></a><h4 id="ADLOB-GUID-E59B97A9-6966-47A0-93D0-7B185002E4AC" class="sect4">关于PL / SQL：将字符数据从BFILE加载到LOB中</h4>
                  <div>
                     <div class="section">
                        <p>以下示例说明：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>如何使用默认的csid（ <code class="codeph">0</code> ）。
                              </p>
                           </li>
                           <li>
                              <p>如何在不调用<code class="codeph">BFILE</code> <code class="codeph">getlength</code>情况下加载整个文件。</p>
                           </li>
                           <li>
                              <p>如何找出使用返回偏移加载的实际数量。</p>
                           </li>
                        </ul>
                        <p>此示例假定<code class="codeph">ad_source</code>是<code class="codeph">UTF8</code>字符集格式的<code class="codeph">BFILE</code> ，数据库字符集是<code class="codeph">UTF8</code> 。在线文件是<code class="codeph">lldclobf.sql</code> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADLOB45727"></a><div class="props_rev_3"><a id="GUID-3415F194-403B-4D35-97F4-C07D80822DA4" name="GUID-3415F194-403B-4D35-97F4-C07D80822DA4"></a><h4 id="ADLOB-GUID-3415F194-403B-4D35-97F4-C07D80822DA4" class="sect4">关于PL / SQL：将字符数据段加载到不同的LOB中</h4>
                  <div>
                     <div class="section">
                        <p>以下示例说明：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>如何使用<code class="codeph">NLS_CHARSET_ID</code>函数从字符集名称中获取字符集ID。
                              </p>
                           </li>
                           <li>
                              <p>如何使用返回的偏移值和语言上下文<code class="codeph">lang_ctx</code>将单个<code class="codeph">BFILE</code>的数据流加载到不同的LOB中。
                              </p>
                           </li>
                           <li>
                              <p>如何阅读警告信息。</p>
                           </li>
                        </ul>
                        <p>此示例假定<code class="codeph">ad_file_ext_01</code>是<code class="codeph">JA16TSTSET</code>格式的<code class="codeph">BFILE</code> ，数据库国家字符集是<code class="codeph">AL16UTF16</code> 。在线文件是<code class="codeph">lldclobs.sql</code> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="ADLOB45728"></a><a id="ADLOB45729"></a><a id="ADLOB45730"></a><a id="ADLOB45731"></a><a id="ADLOB1014"></a><div class="sect2"><a id="GUID-C6F6F1A5-F563-4194-919D-6620797AF6AA" name="GUID-C6F6F1A5-F563-4194-919D-6620797AF6AA"></a><h3 id="ADLOB-GUID-C6F6F1A5-F563-4194-919D-6620797AF6AA" class="sect3">确定LOB是否打开</h3>
               <div>
                  <p>此操作确定LOB是否打开。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-C6F6F1A5-F563-4194-919D-6620797AF6AA__GUID-28379599-B9F5-49FB-9914-49379120E06E">前提条件</p>
                  </div>
                  <!-- class="section" -->
                  <p>在执行此过程之前，LOB实例必须存在。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-C6F6F1A5-F563-4194-919D-6620797AF6AA__GUID-7A4F0EDF-6CDF-443A-9B91-D3829E166643">使用说明</p>
                  </div>
                  <!-- class="section" -->
                  <p>当LOB打开时，必须在会话后的某个时刻关闭它。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-C6F6F1A5-F563-4194-919D-6620797AF6AA__GUID-F9C99267-AA9A-4150-822E-C06540769504">句法</p>
                  </div>
                  <!-- class="section" -->
                  <p>对每个编程环境使用以下语法参考：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>PL / SQL（DBMS_LOB包）： <a href="../arpls/DBMS_LOB.html#ARPLS600" target="_blank"><span class="italic">Oracle数据库PL / SQL包和类型参考</span></a> “DBMS_LOB” <span class="italic">-</span> <code class="codeph">OPEN</code> ， <code class="codeph">ISOPEN</code> 。</p>
                     </li>
                     <li>
                        <p>C（OCI）： <a href="../lnoci/more-database-access-c-api.html#LNOCI160" target="_blank"><span class="italic">Oracle调用接口程序员指南</span></a> “LOB函数” - <code class="codeph">OCILobIsOpen()</code> 。
                        </p>
                     </li>
                     <li>
                        <p>C ++（OCCI）： <a href="../lncpp/introduction-to-occi.html#LNCPP-GUID-99077609-BFCC-4FF7-9D23-C45623DDD465" target="_blank"><span><cite>Oracle C ++调用接口程序员指南</cite></span></a></p>
                     </li>
                     <li>
                        <p>COBOL（Pro * COBOL） <a href="../lnpcb/embedded-SQL-statements-and-precompiler-directives.html#LNPCB-GUID-3FC5A4D6-B62E-4CA4-A60B-EA817240F483" target="_blank"><span><cite>Pro * COBOL程序员指南</cite></span></a> ，了解有关LOB的信息，LOB语句的使用说明以及LOB DESCRIBE可执行嵌入式SQL扩展。
                        </p>
                     </li>
                     <li>
                        <p>C / C ++（Pro * C / C ++）： <a href="../lnpcc/embedded-SQL-statements-and-directives.html#LNPCC-GUID-0BF4D6AD-4BAF-4729-8AD4-5992BA1EC73D" target="_blank"><span><cite>Pro * C / C ++程序员指南</cite></span></a> <code class="codeph">LOB DESCRIBE</code>可执行嵌入式SQL扩展</p>
                     </li>
                     <li>
                        <p>Java（JDBC）： <a href="../jjdbc/LOBs-and-BFiles.html#JJDBC15000" target="_blank"><span class="italic">Oracle数据库JDBC开发人员指南，</span></a> “使用LOB” - 创建和<code class="codeph">BLOB</code>或<code class="codeph">CLOB</code>列。
                        </p>
                     </li>
                  </ul>
                  <div class="section">
                     <p class="subhead2" id="GUID-C6F6F1A5-F563-4194-919D-6620797AF6AA__GUID-D90B2EAF-3EFD-4EBC-A3A9-2E2E38D1F17F">例子</p>
                  </div>
                  <!-- class="section" -->
                  <p>以下编程环境中提供了示例：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>PL / SQL（DBMS_LOB包）： <code class="codeph">lisopen.sql</code></p>
                     </li>
                     <li>
                        <p>OCI： <code class="codeph">lisopen.c</code></p>
                     </li>
                     <li>
                        <p>C ++（OCCI）：此版本未提供任何示例。</p>
                     </li>
                     <li>
                        <p>Java（JDBC）： <code class="codeph">lisopen.java</code></p>
                     </li>
                  </ul>
               </div><a id="ADLOB45732"></a><div class="sect3"><a id="GUID-FFFC36E2-34FC-4FC8-AF04-F1773A57877D" name="GUID-FFFC36E2-34FC-4FC8-AF04-F1773A57877D"></a><h4 id="ADLOB-GUID-FFFC36E2-34FC-4FC8-AF04-F1773A57877D" class="sect4">Java（JDBC）：检查LOB是否打开</h4>
                  <div>
                     <p>以下是检查<code class="codeph">BLOB</code>或<code class="codeph">CLOB</code> 。</p>
                  </div><a id="ADLOB45733"></a><div class="props_rev_3"><a id="GUID-4030F018-8AEA-49CA-AA89-E8BEF163D805" name="GUID-4030F018-8AEA-49CA-AA89-E8BEF163D805"></a><h5 id="ADLOB-GUID-4030F018-8AEA-49CA-AA89-E8BEF163D805" class="sect5">检查CLOB是否打开</h5>
                     <div>
                        <div class="section">
                           <p>要查看<code class="codeph">CLOB</code>是否已打开，JDBC应用程序可以使用<code class="codeph">oracle.sql.定义的<code class="codeph">isOpen</code>方法<code class="codeph">oracle.sql.CLOB</code> 。返回布尔值指示<code class="codeph">CLOB</code>先前是否已打开。<code class="codeph">isOpen</code>方法定义如下：</p><pre class="oac_no_warn" dir="ltr">/ ** *检查CLOB是否已打开。* @return如果打开LOB则为true。* / public boolean isOpen（）抛出SQLException</pre><p>用法示例是：</p><pre class="oac_no_warn" dir="ltr">CLOB clob = ...//查看CLOB是否打开boolean isOpen = clob.isOpen（）; ...</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="ADLOB45734"></a><div class="props_rev_3"><a id="GUID-32FE7672-468A-4896-86FC-CD5BC7859369" name="GUID-32FE7672-468A-4896-86FC-CD5BC7859369"></a><h5 id="ADLOB-GUID-32FE7672-468A-4896-86FC-CD5BC7859369" class="sect5">检查BLOB是否打开</h5>
                     <div>
                        <div class="section">
                           <p>要查看<code class="codeph">BLOB</code>是否已打开，JDBC应用程序可以使用<code class="codeph">oracle.sql.定义的<code class="codeph">isOpen</code>方法<code class="codeph">oracle.sql.BLOB</code> 。返回布尔值指示<code class="codeph">BLOB</code>先前是否已打开。<code class="codeph">isOpen</code>方法定义如下：</p><pre class="oac_no_warn" dir="ltr">/ ** *检查BLOB是否打开。* @return如果打开LOB则为true。* / public boolean isOpen（）抛出SQLException</pre><p>用法示例是：</p><pre class="oac_no_warn" dir="ltr">BLOB blob = ...//查看BLOB是否打开boolean isOpen = blob.isOpen（）; ...</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div>
            </div><a id="ADLOB45736"></a><a id="ADLOB45737"></a><a id="ADLOB45738"></a><a id="ADLOB45739"></a><a id="ADLOB45740"></a><a id="ADLOB45741"></a><a id="ADLOB45735"></a><div class="props_rev_3"><a id="GUID-D44D2C71-8CAB-44F0-A82B-BF3F3E8BCDB9" name="GUID-D44D2C71-8CAB-44F0-A82B-BF3F3E8BCDB9"></a><h3 id="ADLOB-GUID-D44D2C71-8CAB-44F0-A82B-BF3F3E8BCDB9" class="sect3">关于显示LOB数据</h3>
               <div>
                  <div class="section">
                     <p>本节介绍允许您读取LOB数据的API。您可以使用此操作将LOB数据读入缓冲区。如果您的应用程序需要显示大量LOB数据或流数据操作，这将非常有用。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-D44D2C71-8CAB-44F0-A82B-BF3F3E8BCDB9__GUID-15CF5BD0-F9A3-4666-98E0-0B184EAFE857">使用说明</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>使用这些API时请注意以下事项。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-D44D2C71-8CAB-44F0-A82B-BF3F3E8BCDB9__GUID-39072A17-6911-47A6-B03E-133BCB3CB253">流媒体机制</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>读取大量LOB数据的最有效方法是使用<code class="codeph">OCILobRead2</code> （）并启用流式传输机制。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-D44D2C71-8CAB-44F0-A82B-BF3F3E8BCDB9__GUID-10E24166-6A2A-4821-9DFF-4900240D8B88">金额参数</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>您为amount参数传递的值仅限于<a href="using-LOB-APIs.html#GUID-D44D2C71-8CAB-44F0-A82B-BF3F3E8BCDB9__G1136086" title="该表在前面的文本中描述">表12-3中</a>所述的API。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-D44D2C71-8CAB-44F0-A82B-BF3F3E8BCDB9__G1136086">
                     <p class="titleintable">表12-3金额参数的最大LOB大小</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="金额参数的最大LOB大小" width="100%" border="1" summary="This table is described in the preceding text" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="18%" id="d63788e3192">环境</th>
                              <th align="left" valign="bottom" width="41%" id="d63788e3195">功能</th>
                              <th align="left" valign="bottom" width="41%" id="d63788e3198">amount参数的值仅限于：</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="18%" id="d63788e3203" headers="d63788e3192 ">
                                 <p>DBMS_LOB</p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d63788e3203 d63788e3195 ">
                                 <p><code class="codeph">DBMS_LOB.READ</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d63788e3203 d63788e3198 ">
                                 <p>缓冲区的大小，32Kbytes。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="18%" id="d63788e3214" headers="d63788e3192 ">
                                 <p>OCI</p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d63788e3214 d63788e3195 ">
                                 <p><code class="codeph">OCILobRead（）</code></p>
                                 <p>（对于小于4千兆字节的LOB。）</p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d63788e3214 d63788e3198 ">
                                 <p><code class="codeph">UB4MAXVAL</code></p>
                                 <p>指定此金额将读取整个文件。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="18%" id="d63788e3230" headers="d63788e3192 ">
                                 <p>OCI</p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d63788e3230 d63788e3195 ">
                                 <p><code class="codeph">OCILobRead2（）</code></p>
                                 <p>（适用于任何规模的LOB。）</p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d63788e3230 d63788e3198 ">
                                 <p><code class="codeph">UB8MAXVAL</code></p>
                                 <p>指定此金额将读取整个文件。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-D44D2C71-8CAB-44F0-A82B-BF3F3E8BCDB9__GUID-300B4E7A-957F-45FF-8821-92596C293D27">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>对每个编程环境使用以下语法参考：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>PL / SQL（DBMS_LOB包）： <a href="../arpls/DBMS_LOB.html#ARPLS600" target="_blank"><span class="italic">Oracle数据库PL / SQL包和类型参考</span></a> “DBMS_LOB” <span class="italic">-</span> OPEN，READ，CLOSE。</p>
                        </li>
                        <li>
                           <p>C（OCI）： <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adlob&amp;id=LNOCI160" target="_blank"><span class="italic">Oracle调用接口程序员指南</span></a> “LOB函数” - ，OCILobOpen（），OCILobRead2（），OCILobClose（）。
                           </p>
                        </li>
                        <li>
                           <p>C ++（OCCI）： <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adlob&amp;id=LNCPP-GUID-99077609-BFCC-4FF7-9D23-C45623DDD465" target="_blank"><span><cite>Oracle C ++调用接口程序员指南</cite></span></a></p>
                        </li>
                        <li>
                           <p>COBOL（Pro * COBOL） <a href="../lnpcb/introduction-and-concepts.html#LNPCB-GUID-5B383B0F-9628-443B-8CB7-D2C01607EED6" target="_blank"><span><cite>Pro * COBOL程序员指南</cite></span></a> ，了解有关LOB的信息，LOB语句的使用说明以及LOB READ可执行嵌入式SQL扩展。
                           </p>
                        </li>
                        <li>
                           <p>C / C ++（Pro * C / C ++）： <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adlob&amp;id=LNPCC-GUID-EA6475A4-9B3B-477A-91CE-F554142D2A72" target="_blank"><span><cite>Pro * C / C ++程序员指南</cite></span></a> ，了解LOB READ可执行嵌入式SQL扩展的信息</p>
                        </li>
                        <li>
                           <p>Java（JDBC）： <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adlob&amp;id=JJDBC15000" target="_blank"><span class="italic">Oracle数据库JDBC开发人员指南，</span></a> “使用LOB” - 创建和<code class="codeph">BLOB</code>或<code class="codeph">CLOB</code>列。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-D44D2C71-8CAB-44F0-A82B-BF3F3E8BCDB9__GUID-31F37ED2-92D4-470E-9390-2037BF8D1B79">例子</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>以下编程环境中提供了示例：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>PL / SQL（DBMS_LOB包）： <code class="codeph">ldisplay.sql</code></p>
                        </li>
                        <li>
                           <p>OCI： <code class="codeph">ldisplay.c</code></p>
                        </li>
                        <li>
                           <p>C ++（OCCI）：此版本中未提供任何示例。</p>
                        </li>
                        <li>
                           <p>Java（JDBC）： <code class="codeph">ldisplay.java</code></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ADLOB45742"></a><a id="ADLOB45743"></a><a id="ADLOB45744"></a><a id="ADLOB45745"></a><a id="ADLOB45746"></a><a id="ADLOB1018"></a><div class="props_rev_3"><a id="GUID-AC5E49A1-8479-4D68-AF1A-C497AACC5495" name="GUID-AC5E49A1-8479-4D68-AF1A-C497AACC5495"></a><h3 id="ADLOB-GUID-AC5E49A1-8479-4D68-AF1A-C497AACC5495" class="sect3">关于从LOB读取数据</h3>
               <div>
                  <div class="section">
                     <p>本节介绍如何使用<code class="codeph">OCILobRead2()</code>从LOB读取数据。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-AC5E49A1-8479-4D68-AF1A-C497AACC5495__GUID-15275A6D-6EBC-437D-AC2B-B376FEBEDA88">使用说明</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>使用此操作时请注意以下事项。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-AC5E49A1-8479-4D68-AF1A-C497AACC5495__GUID-7CC5A061-0014-449D-B98F-CD5D6279FE67">流媒体读取OCI</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>读取大量LOB数据的最有效方法是使用<code class="codeph">OCILobRead2()</code> ，并使用轮询或回调启用流机制。为此，请使用<code class="codeph">offset</code>参数指定读取的起始点，如下所示：</p><pre class="oac_no_warn" dir="ltr">ub8 char_amt = 0; ub8 byte_amt = 0; ub4 offset = 1000; OCILobRead2（svchp，errhp，locp，＆byte_amt，＆char_amt，offset，bufp，bufl，OCI_ONE_PIECE，0,0,0,0）;</pre><p>使用<span class="italic">轮询模式时</span> ，请务必在每次<code class="codeph">OCILobRead2()</code>调用后查看<code class="codeph">byte_amt</code>参数的值，以查看缓冲区中读取了多少字节，因为缓冲区可能未完全填满。
                     </p>
                     <p>使用<span class="italic">回调时</span> ，输入到<span class="italic">回调</span>的<code class="codeph">lenp</code>参数指示缓冲区中填充的字节数。请务必在回调处理期间检查<code class="codeph">lenp</code>参数，因为整个缓冲区可能没有填充数据。
                     </p>
                     <div class="infoboxnotealso" id="GUID-AC5E49A1-8479-4D68-AF1A-C497AACC5495__NOTE-1355-DECA5DED">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adlob&amp;id=LNOCI16518" target="_blank"><span class="italic">Oracle调用接口程序员指南</span></a></p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-AC5E49A1-8479-4D68-AF1A-C497AACC5495__GUID-6CC3C073-32D8-4526-952E-1ECCCFDE7DDA">块大小</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>块是一个或多个Oracle块。您可以在创建包含LOB的表时指定BasicFiles LOB的块大小。这对应于Oracle数据库在访问或修改LOB值时使用的数据大小。块的一部分用于存储与系统相关的信息，其余部分用于存储LOB值。您正在使用的API具有一个函数，该函数返回LOB块中用于存储LOB值的空间量。在PL / SQL中使用<code class="codeph">DBMS_LOB.GETCHUNKSIZE</code> 。在OCI中，使用<code class="codeph">OCILobGetChunkSize()</code> 。对于SecureFiles， <code class="codeph">CHUNK</code>是一种建议大小，用于向后兼容。
                     </p>
                     <p>要提高性能，可以使用其中一个函数返回的值的多个来运行<code class="codeph">write</code>请求。原因是您使用与从磁盘读取数据时Oracle数据库使用的相同单元。如果它适合您的应用程序，那么您应该批量读取，直到您有足够的整个块，而不是发出在同一LOB块上运行的多个LOB读取调用。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-AC5E49A1-8479-4D68-AF1A-C497AACC5495__GUID-C059E3D7-E95A-476A-978F-CD81D9478BEF">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>对每个编程环境使用以下语法参考：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>PL / SQL（DBMS_LOB包）： <a href="../arpls/DBMS_LOB.html#ARPLS600" target="_blank"><span class="italic">Oracle数据库PL / SQL包和类型参考</span></a> “DBMS_LOB” <span class="italic">-</span> <code class="codeph">OPEN</code> ， <code class="codeph">GETCHUNKSIZE</code> ， <code class="codeph">READ</code> ， <code class="codeph">CLOSE</code></p>
                        </li>
                        <li>
                           <p>C（OCI）： <a href="../lnoci/more-database-access-c-api.html#LNOCI160" target="_blank"><span class="italic">Oracle调用接口程序员指南</span></a> “LOB函数” - <code class="codeph">OCILobOpen()</code> ， <code class="codeph">OCILobRead2()</code> ， <code class="codeph">OCILobClose()</code> 。
                           </p>
                        </li>
                        <li>
                           <p>C ++（OCCI）： <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adlob&amp;id=LNCPP-GUID-99077609-BFCC-4FF7-9D23-C45623DDD465" target="_blank"><span><cite>Oracle C ++调用接口程序员指南</cite></span></a></p>
                        </li>
                        <li>
                           <p>COBOL（Pro * COBOL） <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adlob&amp;id=LNPCB-GUID-5B383B0F-9628-443B-8CB7-D2C01607EED6" target="_blank"><span><cite>Pro * COBOL程序员指南</cite></span></a> ，了解有关LOB的信息，LOB语句的使用说明以及LOB READ可执行嵌入式SQL扩展</p>
                        </li>
                        <li>
                           <p>C / C ++（Pro * C / C ++）： <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adlob&amp;id=LNPCC-GUID-EA6475A4-9B3B-477A-91CE-F554142D2A72" target="_blank"><span><cite>Pro * C / C ++程序员指南</cite></span></a> ，了解有关LOB READ可执行嵌入式SQL扩展的信息</p>
                        </li>
                        <li>
                           <p>Java（JDBC）： <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adlob&amp;id=JJDBC15000" target="_blank"><span class="italic">Oracle数据库JDBC开发人员指南</span></a>第7章“使用LOB” - 创建和<code class="codeph">BLOB</code>或<code class="codeph">CLOB</code>列</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-AC5E49A1-8479-4D68-AF1A-C497AACC5495__GUID-D47FB853-A471-4CAB-94A2-7CF7128C72DA">例子</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>以下编程环境中提供了示例：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>PL / SQL（DBMS_LOB包）： <code class="codeph">lread.sql</code></p>
                        </li>
                        <li>
                           <p>OCI： <code class="codeph">lread.c</code></p>
                        </li>
                        <li>
                           <p>Java（JDBC）： <code class="codeph">lread.java</code></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ADLOB45748"></a><a id="ADLOB45749"></a><a id="ADLOB45750"></a><a id="ADLOB45751"></a><a id="ADLOB45752"></a><a id="ADLOB45753"></a><a id="ADLOB45754"></a><a id="ADLOB45747"></a><div class="props_rev_3"><a id="GUID-F41CA770-8003-4864-A999-91FA47FDB971" name="GUID-F41CA770-8003-4864-A999-91FA47FDB971"></a><h3 id="ADLOB-GUID-F41CA770-8003-4864-A999-91FA47FDB971" class="sect3">关于LOB Array Read</h3>
               <div>
                  <div class="section">
                     <p>本节介绍如何使用<code class="codeph">OCILobArrayRead()</code>在一次往返中读取多个定位器的LOB数据。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-F41CA770-8003-4864-A999-91FA47FDB971__GUID-F9A2A403-1567-4D4D-94E7-8F1DA776967A">使用说明</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>此功能可提高读取大小小于512千字节大小的LOB的性能。对于OCI应用程序示例，假设程序具有准备好的SQL语句，例如：</p><pre class="oac_no_warn" dir="ltr">SELECT lob1 FROM lob_table for UPDATE;</pre><p>其中<code class="codeph">lob1</code>是LOB列， <code class="codeph">lob_array</code>是对应于LOB列的定义变量数组：</p><pre class="oac_no_warn" dir="ltr">OCILobLocator * lob_array [10]; ...for（i = 0; i &lt;10，i ++）/ * initialize locators数组* / lob_array [i] = OCIDescriptorAlloc（...，OCI_DTYPE_LOB，...）; ...OCIDefineByPos（...，1，（dvoid *）lob_array，...SQLT_CLOB，...）; / *执行带有iters = 10的语句来执行10个定位器的数组提取。* / OCIStmtExecute（&lt;service context&gt;，&lt;statement handle&gt;，&lt;error handle&gt;，10，/ * iters * / 0，/ * row offset * / NULL，/ * snapshot IN * / NULL，/ * snapshot out * / OCI_DEFAULT / *模式* /）; ...ub4 array_iter = 10; char * bufp [10]; oraub8 bufl [10]; oraub8 char_amtp [10]; oraub8 offset [10]; for（i = 0; i &lt;10; i ++）{bufp [i] =（char *）malloc（1000）; bufl [i] = 1000; offset [i] = 1; char_amtp [i] = 1000; / *单字节固定宽度字符集。* /} / *在一次*往返中读取所有10个定位器的前1000个字符。请注意，对于所有定位器，偏移量和数量不必相同。* / OCILobArrayRead（&lt;服务上下文&gt;，&lt;错误句柄&gt;，＆array_iter，/ *数组大小* / lob_array，/ *定位器数组* / NULL，/ *字节数数组* / char_amtp，/ * char数量数组* / offset，/ *偏移数组* /（void **）bufp，/ *读缓冲区数组* / bufl，/ *缓冲区长度数组* / OCI_ONE_PIECE，/ *片段信息* / NULL，/ *回调上下文* / NULL，/ *回调函数* / 0，/ *字符集ID  - 默认* / SQLCS_IMPLICIT）; / *字符集形式* / ...for（i = 0; i &lt;10; i ++）{/ *用要写入的数据填充bufp [i]缓冲区* / strncpy（bufp [i]，“Test Data ------”，15）; bufl [i] = 1000; offset [i] = 50; char_amtp [i] = 15; / *单字节固定宽度字符集。* /} / *在一次往返中将偏移50的15个字符写入所有10 *个定位符。请注意，对于所有定位器，offset和* amount不必相同。* / * / OCILobArrayWrite（&lt;服务上下文&gt;，&lt;错误句柄&gt;，＆array_iter，/ *数组大小* / lob_array，/ *定位器数组* / NULL，/ *字节数量数组* / char_amtp，/ * char数组amount * / offset，/ *偏移数组* /（void **）bufp，/ *读缓冲区数组* / bufl，/ *缓冲区长度数组* / OCI_ONE_PIECE，/ * piece information * / NULL，/ * callback context * / NULL，/ *回调函数* / 0，/ *字符集ID  - 默认* / SQLCS_IMPLICIT）; / *字符集形式* / ...</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-F41CA770-8003-4864-A999-91FA47FDB971__GUID-3AF8B82B-4B93-4D7A-AA05-6948B8075500">流媒体支持</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>LOB数组API可用于读取/写入多个LOB数据。这可以通过使用轮询方法或回调函数来完成。这里，数据按顺序读取/写入多个定位器阵列。对于轮询，API将使用<code class="codeph">array_iter</code>参数（OUT）读取/写入每个部分后返回应用程序，该参数指示读取/写入数据的定位器的索引。使用回调函数，在使用<code class="codeph">array_iter</code>作为IN参数读取/写入每个部分后调用该函数。
                     </p>
                     <p>注意：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>可以一次读取/写入一些定位器的数据，也可以读取/写入多个其他定位器的数据。对于具有足够缓冲长度的定位器，数据被读/写为一体，以容纳要读/写的整个数据。</p>
                        </li>
                        <li>
                           <p>您的应用程序可以为每个定位器使用不同的数值和缓冲区长度。</p>
                        </li>
                        <li>
                           <p>您的应用程序可以传递零作为一个或多个定位器的数值，表示这些定位器的纯流。在读取的情况下，LOB数据被读取到那些定位器的末尾。对于写入，将写入数据，直到为这些定位器指定<code class="codeph">OCI_LAST_PIECE</code> 。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-F41CA770-8003-4864-A999-91FA47FDB971__GUID-2FD2FCE9-9E16-47AF-980F-F1E2AC09C0FF">LOB阵列在轮询模式下读取</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>以下示例为10个具有1Kbyte缓冲区大小的定位器中的每一个读取10K字节的数据。每个定位器需要10件才能读取完整的数据。必须将<code class="codeph">OCILobArrayRead()</code>调用100（10 * 10）次才能获取所有数据。首先，我们使用<code class="codeph">OCI_FIRST_PIECE</code>作为<code class="codeph">piece</code>参数调用<code class="codeph">OCILobArrayRead()</code> 。此调用返回第一个定位器的第一个1K片段。接下来，在循环中调用<code class="codeph">OCILobArrayRead()</code> ，直到应用程序完成读取定位器的所有部分并返回<code class="codeph">OCI_SUCCESS</code> 。在这个例子中，它循环99次，顺序返回定位器的碎片。
                     </p><pre class="oac_no_warn" dir="ltr">/ *获取定位器* / .../ * array_iter参数表示读取的数组中的定位符数。*它是轮询中第一次调用的IN参数，并且作为后续调用的IN *参数被忽略。作为OUT参数，它指示要读取片段的定位器*索引。* / ub4 array_iter = 10; char * bufp [10]; oraub8 bufl [10]; oraub8 char_amtp [10]; oraub8 offset [10];剑st; for（i = 0; i &lt;10; i ++）{bufp [i] =（char *）malloc（1000）; bufl [i] = 1000; offset [i] = 1; char_amtp [i] = 10000; / *单字节固定宽度字符集。* /} st = OCILobArrayRead（&lt;服务上下文&gt;，&lt;错误句柄&gt;，＆array_iter，/ *数组大小* / lob_array，/ *定位器数组* / NULL，/ *字节数量数组* / char_amtp，/ *数组char amount * / offset，/ * offsets数组* /（void **）bufp，/ *读缓冲区数组* / bufl，/ *缓冲区长度数组* / OCI_FIRST_PIECE，/ * piece information * / NULL，/ *回调上下文* / NULL，/ *回调函数* / 0，/ *字符集ID  - 默认* / SQLCS_IMPLICIT）; / *字符集形式* / / *第一个定位器的第一部分在这里阅读。* bufp [0] =&gt;读取数据的缓冲区指针。* char_amtp [0] =&gt;当前缓冲区中读取的字符数* * / while（st == OCI_NEED_DATA）{st = OCILobArrayRead（&lt;service context&gt;，&lt;error handle&gt;，＆array_iter，/ * array size * / lob_array，/ *定位器数组* / NULL，/ *字节数量* / char_amtp，/ * char数量* /偏移量，/ *偏移量数组* /（void **）bufp，/ *读取缓冲区数组* / bufl，/ *缓冲区长度数组* / OCI_NEXT_PIECE，/ *片段信息* / NULL，/ *回调上下文* / NULL，/ *回调函数* / 0，/ *字符集ID  - 默认* / SQLCS_IMPLICIT）; / * array_iter返回读取*数据的当前数组元素的索引。例如，aray_iter = 1表示第一个定位符，* array_iter = 2表示第二个定位符，依此类推。* * lob_array [array_iter  -  1] =&gt;读取数据的Lob定位器。* bufp [array_iter  -  1] =&gt;读取数据的缓冲区指针。* char_amtp [array_iter  -  1] =&gt;当前缓冲区中读取的字符数* / .../ *在这里使用数据* / ...}</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-F41CA770-8003-4864-A999-91FA47FDB971__GUID-9F0423BE-AC7D-451F-B274-06A8E309F23A">使用回调读取LOB数组</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>以下示例为10个具有1Kbyte缓冲区大小的定位器中的每一个读取10K字节的数据。每个定位器需要10件才能读取所有数据。回调函数被称为100（10 * 10）次，以顺序返回各个部分。</p><pre class="oac_no_warn" dir="ltr">/ *获取定位器* / ...ub4 array_iter = 10; char * bufp [10]; oraub8 bufl [10]; oraub8 char_amtp [10]; oraub8 offset [10];剑st; for（i = 0; i &lt;10; i ++）{bufp [i] =（char *）malloc（1000）; bufl [i] = 1000; offset [i] = 1; char_amtp [i] = 10000; / *单字节固定宽度字符集。* /} st = OCILobArrayRead（&lt;服务上下文&gt;，&lt;错误句柄&gt;，＆array_iter，/ *数组大小* / lob_array，/ *定位器数组* / NULL，/ *字节数量数组* / char_amtp，/ *数组char amount * / offset，/ *偏移数组* /（void **）bufp，/ *读取缓冲区数组* / bufl，/ *缓冲区长度数组* / OCI_FIRST_PIECE，/ *片段信息* / ctx，/ *回调上下文* / cbk_read_lob，/ *回调函数* / 0，/ *字符集ID  - 默认* / SQLCS_IMPLICIT）; .../ * LOB数组读取的回调函数。* / sb4 cbk_read_lob（dvoid * ctxp，ub4 array_iter，CONST dvoid * bufxp，oraub8 len，ub1 piece，dvoid ** changed_bufpp，oraub8 * changed_lenp）{static ub4 piece_count = 0; piece_count ++; switch（piece）{case OCI_LAST_PIECE：/ * ---缓冲处理代码在这里--- * /（void）printf（“回调读取％dth locator的最后一块（最后一块）\ n \ n”， piece_count，array_iter）; piece_count = 0;打破; case OCI_FIRST_PIECE：/ * ---缓冲区处理代码在这里--- * /（void）printf（“回调读取第一块为％dth locator \ n”，array_iter）; / *  - 如果需要动态更改缓冲区，则设置changed_bufpp和changed_lenp的可选代码 -  * / break; case OCI_NEXT_PIECE：/ * ---缓冲区处理代码在这里--- * /（void）printf（“回调读取％d th件为％dth locator \ n”，piece_count，array_iter）; / *  - 如果必须动态更改缓冲区，则设置changed_bufpp和changed_lenp的可选代码 -  * / break; default：（void）printf（“callback read error：unkown piece =％d。\ n”，piece）;返回OCI_ERROR; } return OCI_CONTINUE; } ...</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-F41CA770-8003-4864-A999-91FA47FDB971__GUID-F637AA90-3FCE-4DF2-AC0D-00D94377894E">轮询LOB阵列读取</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>下一个示例是使用变量<code class="codeph">amtp</code> ， <code class="codeph">bufl</code>和<code class="codeph">offset</code>在<code class="codeph">OCILobArrayRead()</code>轮询LOB数据。
                     </p><pre class="oac_no_warn" dir="ltr">/ *获取定位器* / ...ub4 array_iter = 10; char * bufp [10]; oraub8 bufl [10]; oraub8 char_amtp [10]; oraub8 offset [10];剑st; for（i = 0; i &lt;10; i ++）{bufp [i] =（char *）malloc（1000）; bufl [i] = 1000; offset [i] = 1; char_amtp [i] = 10000; / *单字节固定宽度字符集。* /} / *对于第三个定位器，从偏移量101开始读取500字节的数据。金额*是2000，即总件数是2000/500 = 4。* / offset [2] = 101; bufl [2] = 500; char_amtp [2] = 2000; / *对于第6个定位器，从偏移量51读取100个字节的数据。Amount *为0表示纯轮询，即读取数据直到达到LOB结束。* / offset [5] = 51; bufl [5] = 100; char_amtp [5] = 0; / *对于第8个定位器，读取一个100字节的数据。注意量*小于指示单件读取的缓冲长度。* / offset [7] = 61; bufl [7] = 200; char_amtp [7] = 100; st = OCILobArrayRead（&lt;服务上下文&gt;，&lt;错误句柄&gt;，＆array_iter，/ *数组大小* / lob_array，/ *定位器数组* / NULL，/ *字节数数组* / char_amtp，/ * char数量数组* / offset，/ *偏移数组* /（void **）bufp，/ *读缓冲区数组* / bufl，/ *缓冲区长度数组* / OCI_FIRST_PIECE，/ *片段信息* / NULL，/ *回调上下文* / NULL，/ *回调函数* / 0，/ *字符集ID  - 默认* / SQLCS_IMPLICIT）; / *字符集形式* / / *第一个定位器的第一部分在这里阅读。* bufp [0] =&gt;读取数据的缓冲区指针。* char_amtp [0] =&gt;当前缓冲区中读取的字符数* * / while（st == OCI_NEED_DATA）{st = OCILobArrayRead（&lt;service context&gt;，&lt;error handle&gt;，＆array_iter，/ * array size * / lob_array，/ *定位器数组* / NULL，/ *字节数量* / char_amtp，/ * char数量* /偏移量，/ *偏移量数组* /（void **）bufp，/ *读取缓冲区数组* / bufl，/ *缓冲区长度数组* / OCI_NEXT_PIECE，/ *片段信息* / NULL，/ *回调上下文* / NULL，/ *回调函数* / 0，/ *字符集ID  - 默认* / SQLCS_IMPLICIT）; / * array_iter返回读取*数据的当前数组元素的索引。例如，aray_iter = 1表示第一个定位符，* array_iter = 2表示第二个定位符，依此类推。* * lob_array [array_iter  -  1] =&gt;读取数据的Lob定位器。* bufp [array_iter  -  1] =&gt;读取数据的缓冲区指针。* char_amtp [array_iter  -  1] =&gt;当前缓冲区中读取的字符数* / .../ *在这里使用数据* / ...}</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-F41CA770-8003-4864-A999-91FA47FDB971__GUID-8306FFCF-4B65-479E-87DD-FAAC6040AD34">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>对OCI编程环境使用以下语法参考：</p>
                     <p>C（OCI）： <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adlob&amp;id=LNOCI160" target="_blank"><span class="italic">Oracle调用接口程序员指南</span></a> “LOB函数” - <code class="codeph">OCILobArrayRead()</code> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-F41CA770-8003-4864-A999-91FA47FDB971__GUID-517F55DD-B84C-4C38-A018-F13878EF6752">例</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>以下编程环境中提供了一个示例：</p>
                     <p>OCI：lreadarr.c</p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ADLOB45755"></a><a id="ADLOB45756"></a><a id="ADLOB1019"></a><div class="props_rev_3"><a id="GUID-913B73AA-F6A9-4F59-AD78-EF38F08B7BCE" name="GUID-913B73AA-F6A9-4F59-AD78-EF38F08B7BCE"></a><h3 id="ADLOB-GUID-913B73AA-F6A9-4F59-AD78-EF38F08B7BCE" class="sect3">读取LOB的一部分（SUBSTR）</h3>
               <div>
                  <div class="section">
                     <p>本节介绍如何使用SUBSTR读取LOB的一部分。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-913B73AA-F6A9-4F59-AD78-EF38F08B7BCE__GUID-E40B1059-4374-4FC9-B38F-34A9817E052A">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>对每个编程环境使用以下语法参考：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>PL / SQL（DBMS_LOB包）： <a href="../arpls/DBMS_LOB.html#ARPLS600" target="_blank"><span class="italic">Oracle数据库PL / SQL包和类型参考</span></a> “DBMS_LOB” -  SUBSTR，OPEN，CLOSE</p>
                        </li>
                        <li>
                           <p>C（OCI）：此用例没有适用的语法参考</p>
                        </li>
                        <li>
                           <p>C ++（OCCI）： <a href="../lncpp/introduction-to-occi.html#LNCPP-GUID-99077609-BFCC-4FF7-9D23-C45623DDD465" target="_blank"><span><cite>Oracle C ++调用接口程序员指南</cite></span></a></p>
                        </li>
                        <li>
                           <p>COBOL（Pro * COBOL） <a href="../lnpcb/introduction-and-concepts.html#LNPCB-GUID-5B383B0F-9628-443B-8CB7-D2C01607EED6" target="_blank"><span><cite>Pro * COBOL程序员指南</cite></span></a> ，了解有关LOB的信息，LOB语句的使用说明，以及ALLOCATE，LOB OPEN，LOB READ，LOB CLOSE可执行嵌入式SQL扩展</p>
                        </li>
                        <li>
                           <p>C / C ++（Pro * C / C ++）： <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adlob&amp;id=LNPCC-GUID-EA6475A4-9B3B-477A-91CE-F554142D2A72" target="_blank"><span><cite>Pro * C / C ++程序员指南</cite></span></a> LOB READ可执行嵌入式SQL扩展</p>
                        </li>
                        <li>
                           <p>Java（JDBC）： <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adlob&amp;id=JJDBC15000" target="_blank"><span class="italic">Oracle数据库JDBC开发人员指南，</span></a> “使用LOB” - 创建和<code class="codeph">BLOB</code>或<code class="codeph">CLOB</code>列</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-913B73AA-F6A9-4F59-AD78-EF38F08B7BCE__GUID-329F1149-D1A9-4180-9A86-2CF5B41E9EB6">例子</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>以下编程环境中提供了示例：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>PL / SQL（DBMS_LOB包）： <code class="codeph">lsubstr.sql</code></p>
                        </li>
                        <li>
                           <p>OCI：此版本未提供任何示例。</p>
                        </li>
                        <li>
                           <p>C ++（OCCI）：此版本未提供任何示例。</p>
                        </li>
                        <li>
                           <p>Java（JDBC）： <code class="codeph">lsubstr.java</code></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ADLOB45757"></a><a id="ADLOB45758"></a><a id="ADLOB1003"></a><div class="props_rev_3"><a id="GUID-F4F530C0-1604-4A83-9479-F79400819B22" name="GUID-F4F530C0-1604-4A83-9479-F79400819B22"></a><h3 id="ADLOB-GUID-F4F530C0-1604-4A83-9479-F79400819B22" class="sect3">比较两个LOB的全部或部分</h3>
               <div>
                  <div class="section">
                     <p>本节介绍如何比较两个LOB的全部或部分。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-F4F530C0-1604-4A83-9479-F79400819B22__GUID-F442A86E-E5AA-4C04-ADC8-008EB902C617">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>对每个编程环境使用以下语法参考：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>PL / SQL（DBMS_LOB包）： <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adlob&amp;id=ARPLS600" target="_blank"><span class="italic">Oracle数据库PL / SQL包和类型参考</span></a> “DBMS_LOB” - 比较。</p>
                        </li>
                        <li>
                           <p>C（OCI）：此用例没有适用的语法参考。</p>
                        </li>
                        <li>
                           <p>C ++（OCCI）： <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adlob&amp;id=LNCPP-GUID-99077609-BFCC-4FF7-9D23-C45623DDD465" target="_blank"><span><cite>Oracle C ++调用接口程序员指南</cite></span></a></p>
                        </li>
                        <li>
                           <p>COBOL（Pro * COBOL） <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adlob&amp;id=LNPCB-GUID-5B383B0F-9628-443B-8CB7-D2C01607EED6" target="_blank"><span><cite>Pro * COBOL程序员指南</cite></span></a>或有关LOB的信息，LOB语句的使用说明以及执行嵌入式SQL的EXECUTE</p>
                           <p>C / C ++（Pro * C / C ++）： <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adlob&amp;id=LNPCC-GUID-769F628D-66FC-4948-BB9F-E44074104034" target="_blank"><span><cite>Pro * C / C ++程序员指南</cite></span></a> ，了解有关EXECUTE执行嵌入式SQL的更多信息</p>
                        </li>
                        <li>
                           <p>Java（JDBC）： <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adlob&amp;id=JJDBC15000" target="_blank"><span class="italic">Oracle数据库JDBC开发人员指南，</span></a> “使用LOB” - 创建和<code class="codeph">BLOB</code>或<code class="codeph">CLOB</code>列</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-F4F530C0-1604-4A83-9479-F79400819B22__GUID-038622A2-3F09-40BA-9C4A-E9DDDC95B2AE">例子</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>以下编程环境中提供了示例：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>PL / SQL（DBMS_LOB包）： <code class="codeph">lcompare.sql</code></p>
                        </li>
                        <li>
                           <p>C（OCI）：此版本未提供任何示例。</p>
                        </li>
                        <li>
                           <p>C ++（OCCI）：此版本未提供任何示例。</p>
                        </li>
                        <li>
                           <p>Java（JDBC）： <code class="codeph">lcompare.java</code></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ADLOB45760"></a><a id="ADLOB45761"></a><a id="ADLOB45759"></a><div class="props_rev_3"><a id="GUID-66B2AC7A-9959-4D36-8C75-E02DC59AF0A9" name="GUID-66B2AC7A-9959-4D36-8C75-E02DC59AF0A9"></a><h3 id="ADLOB-GUID-66B2AC7A-9959-4D36-8C75-E02DC59AF0A9" class="sect3">模式：使用INSTR检查LOB中的模式</h3>
               <div>
                  <div class="section">
                     <p>本节介绍如何使用<code class="codeph">INSTR</code>查看LOB中是否存在模式。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-66B2AC7A-9959-4D36-8C75-E02DC59AF0A9__GUID-D950A84B-EAFD-4615-AB84-567B5AE9D144">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>对每个编程环境使用以下语法参考：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>PL / SQL（DBMS_LOB包）： <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adlob&amp;id=ARPLS600" target="_blank"><span class="italic">Oracle数据库PL / SQL包和类型参考</span></a> “DBMS_LOB” -  INSTR</p>
                        </li>
                        <li>
                           <p>C（OCI）：此用例没有适用的语法参考。</p>
                        </li>
                        <li>
                           <p>C ++（OCCI）： <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adlob&amp;id=LNCPP-GUID-99077609-BFCC-4FF7-9D23-C45623DDD465" target="_blank"><span><cite>Oracle C ++调用接口程序员指南</cite></span></a> 
                           </p>
                        </li>
                        <li>
                           <p>COBOL（Pro * COBOL） <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adlob&amp;id=LNPCB-GUID-5B383B0F-9628-443B-8CB7-D2C01607EED6" target="_blank"><span><cite>Pro * COBOL程序员指南</cite></span></a> ，了解有关LOB的信息，LOB语句的使用说明以及EXECUTE执行的嵌入式SQL</p>
                        </li>
                        <li>
                           <p>C / C ++（Pro * C / C ++）： <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adlob&amp;id=LNPCC-GUID-769F628D-66FC-4948-BB9F-E44074104034" target="_blank"><span><cite>Pro * C / C ++程序员指南</cite></span></a> ，了解有关EXECUTE执行嵌入式SQL的更多信息</p>
                        </li>
                        <li>
                           <p>Java（JDBC）： <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adlob&amp;id=JJDBC15000" target="_blank"><span class="italic">Oracle数据库JDBC开发人员指南</span></a>第7章“使用LOB” - 创建和<code class="codeph">BLOB</code>或<code class="codeph">CLOB</code>列</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-66B2AC7A-9959-4D36-8C75-E02DC59AF0A9__GUID-318A2DA5-BE15-4D2F-AB44-8B3FDE99BFDF">例子</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>以下编程环境中提供了示例：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>PL / SQL（DBMS_LOB包）： <code class="codeph">linstr.sql</code></p>
                        </li>
                        <li>
                           <p>C（OCI）：此版本未提供任何示例。</p>
                        </li>
                        <li>
                           <p>C ++（OCCI）：此版本未提供任何示例。</p>
                        </li>
                        <li>
                           <p>Java（JDBC）： <code class="codeph">linstr.java</code></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ADLOB45762"></a><a id="ADLOB45763"></a><a id="ADLOB1074"></a><div class="props_rev_3"><a id="GUID-8D5BBF87-8869-4ADB-A38C-318CA2FAEEDD" name="GUID-8D5BBF87-8869-4ADB-A38C-318CA2FAEEDD"></a><h3 id="ADLOB-GUID-8D5BBF87-8869-4ADB-A38C-318CA2FAEEDD" class="sect3">长度：确定LOB的长度</h3>
               <div>
                  <div class="section">
                     <p>本节介绍如何确定LOB的长度。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-8D5BBF87-8869-4ADB-A38C-318CA2FAEEDD__GUID-02D4384D-7CB8-4FC0-AE72-2EDAA22F53C1">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>对每个编程环境使用以下语法参考：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>PL / SQL（DBMS_LOB包）： <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adlob&amp;id=ARPLS600" target="_blank"><span class="italic">Oracle数据库PL / SQL包和类型参考</span></a> “DBMS_LOB” -  GETLENGTH</p>
                        </li>
                        <li>
                           <p>C（OCI）： <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adlob&amp;id=LNOCI160" target="_blank"><span class="italic">Oracle调用接口程序员指南</span></a> “LOB函数” - <code class="codeph">OCILobGetLength2()</code></p>
                        </li>
                        <li>
                           <p>C ++（OCCI）： <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adlob&amp;id=LNCPP-GUID-99077609-BFCC-4FF7-9D23-C45623DDD465" target="_blank"><span><cite>Oracle C ++调用接口程序员指南</cite></span></a> 
                           </p>
                        </li>
                        <li>
                           <p>COBOL（Pro * COBOL） <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adlob&amp;id=LNPCB-GUID-3FC5A4D6-B62E-4CA4-A60B-EA817240F483" target="_blank"><span><cite>Pro * COBOL程序员指南</cite></span></a> ，了解有关LOB的信息，LOB语句的使用说明以及LOB DESCRIBE可执行嵌入式SQL扩展</p>
                        </li>
                        <li>
                           <p>C / C ++（Pro * C / C ++）： <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adlob&amp;id=LNPCC-GUID-0BF4D6AD-4BAF-4729-8AD4-5992BA1EC73D" target="_blank"><span><cite>Pro * C / C ++程序员指南</cite></span></a> ，了解有关LOB DESCRIBE可执行嵌入式SQL扩展的更多信息</p>
                        </li>
                        <li>
                           <p>Java（JDBC）： <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adlob&amp;id=JJDBC15000" target="_blank"><span class="italic">Oracle数据库JDBC开发人员指南，</span></a> “使用LOB” - 创建和<code class="codeph">BLOB</code>或<code class="codeph">CLOB</code>列</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-8D5BBF87-8869-4ADB-A38C-318CA2FAEEDD__GUID-61129893-D02A-4B5D-8EA3-D10F8F3E3A5D">例子</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>以下编程环境中提供了示例：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>PL / SQL（DBMS_LOB包） <code class="codeph">llength.sql</code></p>
                        </li>
                        <li>
                           <p>OCI： <code class="codeph">llength.c</code></p>
                        </li>
                        <li>
                           <p>C ++（OCCI）：此版本未提供任何示例。</p>
                        </li>
                        <li>
                           <p>Java（JDBC）： <code class="codeph">llength.java</code></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ADLOB45764"></a><a id="ADLOB45765"></a><a id="ADLOB45766"></a><a id="ADLOB45767"></a><a id="ADLOB45768"></a><a id="ADLOB1004"></a><div class="props_rev_3"><a id="GUID-CB96E540-2C7E-4DDA-8A25-E8077A4DBA8C" name="GUID-CB96E540-2C7E-4DDA-8A25-E8077A4DBA8C"></a><h3 id="ADLOB-GUID-CB96E540-2C7E-4DDA-8A25-E8077A4DBA8C" class="sect3">将一个LOB的全部或部分复制到另一个LOB</h3>
               <div>
                  <div class="section">
                     <p>本节介绍如何将全部或部分LOB复制到另一个LOB。这些API将您指定的数据量从源LOB复制到目标LOB。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-CB96E540-2C7E-4DDA-8A25-E8077A4DBA8C__GUID-EA1200A9-AA82-4064-B24C-5D5A21069431">使用说明</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>使用此API时请注意以下问题。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-CB96E540-2C7E-4DDA-8A25-E8077A4DBA8C__GUID-9E4505CD-A4AF-492F-9C8A-99095095DE19">指定要复制的数据量</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>您为<code class="codeph">DBMS_LOB.COPY</code>函数传递<code class="codeph">amount</code>参数的值必须是以下值之一：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>小于或等于您正在加载的数据的实际大小的数量。</p>
                        </li>
                        <li>
                           <p>允许的最大LOB大小： <code class="codeph">DBMS_LOB.LOBMAXSIZE</code> <code class="codeph">.</code>传递此值会导致函数读取整个LOB。这是一种有用的技术，用于读取整个LOB而无需内省LOB的大小。</p>
                        </li>
                     </ul>
                     <p>请注意，对于字符数据，金额以字符指定，而对于二进制数据，金额以字节为单位指定。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-CB96E540-2C7E-4DDA-8A25-E8077A4DBA8C__GUID-C3277EEB-EE3E-4881-B1D2-6B1F0EEB02AC">在更新之前锁定行</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>如果计划更新LOB值，则必须在更新之前锁定包含LOB的行。<a id="d63788e4554" class="indexterm-anchor"></a>虽然SQL <code class="codeph">INSERT</code>和<code class="codeph">UPDATE</code>语句隐式锁定行，但是通过SQL和PL / SQL程序中的SQL <code class="codeph">SELECT</code> <code class="codeph">FOR</code> <code class="codeph">UPDATE</code>语句或在OCI程序中使用<code class="codeph">OCI</code> <code class="codeph">pin</code>或<code class="codeph">lock</code>函数显式完成<code class="codeph">lock</code> 。
                     </p>
                     <div class="infoboxnotealso" id="GUID-CB96E540-2C7E-4DDA-8A25-E8077A4DBA8C__FORMOREDETAILSONTHESTATEOFTHELOCATO-DECA8776">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="advanced-design-considerations.html#GUID-9E8A72FB-D1A7-4151-B184-BB1FEC850BBD">通过更新的定位器更新LOB的示例，</a>以获取有关<a href="advanced-design-considerations.html#GUID-9E8A72FB-D1A7-4151-B184-BB1FEC850BBD">更新后定位器</a>状态的更多详细信息</p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-CB96E540-2C7E-4DDA-8A25-E8077A4DBA8C__GUID-9C29F290-4623-4D9A-8915-CB285C53BB32">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>请参阅以下每个编程环境的语法参考：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>PL / SQL（DBMS_LOB包）： <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adlob&amp;id=ARPLS600" target="_blank"><span class="italic">Oracle数据库PL / SQL包和类型参考</span></a> “DBMS_LOB” -  COPY</p>
                        </li>
                        <li>
                           <p>C（OCI）： <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adlob&amp;id=LNOCI160" target="_blank"><span class="italic">Oracle调用接口程序员指南</span></a> “LOB函数” -  OCILobCopy2</p>
                        </li>
                        <li>
                           <p>C ++（OCCI）： <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adlob&amp;id=LNCPP-GUID-99077609-BFCC-4FF7-9D23-C45623DDD465" target="_blank"><span><cite>Oracle C ++调用接口程序员指南</cite></span></a></p>
                        </li>
                        <li>
                           <p>COBOL（Pro * COBOL） <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adlob&amp;id=LNPCB-GUID-6CE19A44-9DAD-464F-AAA9-EDD760847F77" target="_blank"><span><cite>Pro * COBOL程序员指南</cite></span></a> ，了解有关LOB的信息，LOB语句的使用说明以及LOB COPY可执行嵌入式SQL扩展</p>
                        </li>
                        <li>
                           <p>C / C ++（Pro * C / C ++）： <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adlob&amp;id=LNPCC-GUID-5A4E856B-F638-4A79-872D-F4A359ADF98E" target="_blank"><span><cite>Pro * C / C ++程序员指南</cite></span></a> ，了解LOB COPY可执行嵌入式SQL扩展的信息</p>
                        </li>
                        <li>
                           <p>Java（JDBC）： <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adlob&amp;id=JJDBC15000" target="_blank"><span class="italic">Oracle数据库JDBC开发人员指南，</span></a> “使用LOB” - 创建和<code class="codeph">BLOB</code>或<code class="codeph">CLOB</code>列</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-CB96E540-2C7E-4DDA-8A25-E8077A4DBA8C__GUID-91205FF6-5B13-482C-9353-75289F2CA117">例子</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>以下编程环境中提供了示例：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>PL / SQL（DBMS_LOB包）： <code class="codeph">lcopy.sql</code></p>
                        </li>
                        <li>
                           <p>OCI： <code class="codeph">lcopy.c</code></p>
                        </li>
                        <li>
                           <p>Java（JDBC）： <code class="codeph">lcopy.java</code></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ADLOB45770"></a><a id="ADLOB45771"></a><a id="ADLOB45769"></a><div class="props_rev_3"><a id="GUID-39CAC466-1BA9-4BF8-8C63-8BD6265A8F21" name="GUID-39CAC466-1BA9-4BF8-8C63-8BD6265A8F21"></a><h3 id="ADLOB-GUID-39CAC466-1BA9-4BF8-8C63-8BD6265A8F21" class="sect3">复制LOB定位器</h3>
               <div>
                  <div class="section">
                     <p>本节介绍如何复制LOB定位器。请注意，不同的定位器可能指向相同或不同的数据，或指向当前或过时的数据。</p>
                     <div class="infoboxnotealso" id="GUID-39CAC466-1BA9-4BF8-8C63-8BD6265A8F21__GUID-6C7F458F-20C8-4D65-A8FF-870553251E24">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="advanced-design-considerations.html#GUID-B1E476A2-F3FE-4D13-BC2B-FFB809698ED3">Read-Consistent Locators</a>有关如何使用PL <code class="codeph">:=</code> SQL使用<code class="codeph">:=</code>运算符将一个LOB分配给另一个LOB的更多详细信息</p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-39CAC466-1BA9-4BF8-8C63-8BD6265A8F21__GUID-D8BF7AB4-540E-4A7F-BA7E-43C4D80D2327">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>对每个编程环境使用以下语法参考：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>PL / SQL（DBMS_LOB包）：有关将一个lob定位器分配给另一个定位器的信息，请参阅<span class="q">“ <a href="advanced-design-considerations.html#GUID-B1E476A2-F3FE-4D13-BC2B-FFB809698ED3">Read-Consistent Locators</a> ”</span></p>
                        </li>
                        <li>
                           <p>C（OCI）： <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adlob&amp;id=LNOCI160" target="_blank"><span class="italic">Oracle调用接口程序员指南</span></a> “LOB函数” - <code class="codeph">OCILobAssign()</code> ， <code class="codeph">OCILobIsEqual()</code></p>
                        </li>
                        <li>
                           <p>C ++（OCCI）： <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adlob&amp;id=LNCPP-GUID-99077609-BFCC-4FF7-9D23-C45623DDD465" target="_blank"><span><cite>Oracle C ++调用接口程序员指南</cite></span></a></p>
                        </li>
                        <li>
                           <p>COBOL（Pro * COBOL） <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adlob&amp;id=LNPCB-GUID-F5251483-48EC-4B39-8E14-68F65480B16B" target="_blank"><span><cite>Pro * COBOL程序员指南</cite></span></a> ，了解有关LOB的信息，LOB语句的使用说明以及ALLOCATE和LOB ASSIGN可执行嵌入式SQL扩展</p>
                        </li>
                        <li>
                           <p>C / C ++（Pro * C / C ++）： <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adlob&amp;id=LNPCC-GUID-0ABBFB3E-F2BA-4906-8DEF-53EA78D758B5" target="_blank"><span><cite>Pro * C / C ++程序员指南</cite></span></a> SELECT，LOB ASSIGN可执行嵌入式SQL扩展</p>
                        </li>
                        <li>
                           <p>Java（JDBC）： <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adlob&amp;id=JJDBC15000" target="_blank"><span class="italic">Oracle数据库JDBC开发人员指南</span></a>第7章“使用LOB” - 创建和<code class="codeph">BLOB</code>或<code class="codeph">CLOB</code>列</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-39CAC466-1BA9-4BF8-8C63-8BD6265A8F21__GUID-89F13F72-DE05-44A4-856D-3D06D05BC26B">例子</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>以下编程环境中提供了示例：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>PL / SQL（DBMS_LOB包）： <code class="codeph">lcopyloc.sql</code></p>
                        </li>
                        <li>
                           <p>OCI： <code class="codeph">lcopyloc.c</code></p>
                        </li>
                        <li>
                           <p>C ++（OCCI）：此版本未提供任何示例。</p>
                        </li>
                        <li>
                           <p>Java（JDBC）： <code class="codeph">lcopyloc.java</code></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ADLOB45773"></a><a id="ADLOB45774"></a><a id="ADLOB45772"></a><div class="props_rev_3"><a id="GUID-2C03EEF3-2719-4BD0-AD13-ECF93E1B4492" name="GUID-2C03EEF3-2719-4BD0-AD13-ECF93E1B4492"></a><h3 id="ADLOB-GUID-2C03EEF3-2719-4BD0-AD13-ECF93E1B4492" class="sect3">平等：检查一个LOB定位器是否等于另一个</h3>
               <div>
                  <div class="section">
                     <p>本节介绍如何确定一个LOB定位器是否与另一个LOB定位器相等。如果两个定位器相等，那么这意味着它们引用相同版本的LOB数据。</p>
                     <div class="infoboxnotealso" id="GUID-2C03EEF3-2719-4BD0-AD13-ECF93E1B4492__GUID-C2B17C2B-C8C0-438C-9578-70A929E9190F">
                        <p class="notep1">也可以看看：</p>
                        <p></p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="using-LOB-APIs.html#GUID-AEE4EC42-6F89-49C1-88D5-23D4CCCED6FC__G1098343">LOB API支持的环境</a> 
                              </p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="advanced-design-considerations.html#GUID-B1E476A2-F3FE-4D13-BC2B-FFB809698ED3">Read-Consistent Locators</a> ”</span></p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-2C03EEF3-2719-4BD0-AD13-ECF93E1B4492__GUID-6669C5C4-A76B-488F-A84A-165839957ABA">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>对每个编程环境使用以下语法参考：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>C（OCI）： <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adlob&amp;id=LNOCI160" target="_blank"><span class="italic">Oracle调用接口程序员指南</span></a> “LOB函数” - <code class="codeph">OCILobAssign()</code> ， <code class="codeph">OCILobIsEqual()</code></p>
                        </li>
                        <li>
                           <p>C ++（OCCI）： <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adlob&amp;id=LNCPP-GUID-99077609-BFCC-4FF7-9D23-C45623DDD465" target="_blank"><span><cite>Oracle C ++调用接口程序员指南</cite></span></a></p>
                        </li>
                        <li>
                           <p>COBOL（Pro * COBOL）：此用例没有适用的语法参考。</p>
                        </li>
                        <li>
                           <p>C / C ++（Pro * C / C ++）： <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adlob&amp;id=LNPCC-GUID-CDF10597-439B-4F3A-BBCA-6BF00386A39E" target="_blank"><span><cite>Pro * C / C ++程序员指南</cite></span></a> LOB ASSIGN可执行嵌入式SQL扩展</p>
                        </li>
                        <li>
                           <p>Java（JDBC）： <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adlob&amp;id=JJDBC15000" target="_blank"><span class="italic">Oracle数据库JDBC开发人员指南，</span></a> “使用LOB” - 创建和<code class="codeph">BLOB</code>或<code class="codeph">CLOB</code>列</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-2C03EEF3-2719-4BD0-AD13-ECF93E1B4492__GUID-FDE6F7A5-3809-4226-9816-C960F200A2FA">例子</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>以下编程环境中提供了示例：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>PL / SQL：此版本未提供任何示例。</p>
                        </li>
                        <li>
                           <p>OCI： <code class="codeph">lequal.c</code></p>
                        </li>
                        <li>
                           <p>C ++（OCCI）：此版本未提供任何示例。</p>
                        </li>
                        <li>
                           <p>Java（JDBC）： <code class="codeph">lequal.java</code></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ADLOB45776"></a><a id="ADLOB45777"></a><a id="ADLOB45775"></a><div class="props_rev_3"><a id="GUID-9B110BA7-91BA-4800-AACF-590D81893A79" name="GUID-9B110BA7-91BA-4800-AACF-590D81893A79"></a><h3 id="ADLOB-GUID-9B110BA7-91BA-4800-AACF-590D81893A79" class="sect3">关于确定LOB定位器是否已初始化</h3>
               <div>
                  <div class="section">
                     <p>本节介绍如何确定是否初始化LOB定位器。</p>
                     <div class="infoboxnotealso" id="GUID-9B110BA7-91BA-4800-AACF-590D81893A79__GUID-0EFD9DAD-7331-4D0A-87B9-67B1F70BFD3A">
                        <p class="notep1">也可以看看：</p>
                        <p> <a href="using-LOB-APIs.html#GUID-AEE4EC42-6F89-49C1-88D5-23D4CCCED6FC__G1098343" title="该表在前面的文本中描述">表12-1</a> 
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-9B110BA7-91BA-4800-AACF-590D81893A79__GUID-8B3C0642-F090-485D-9DA1-6366CDA77C26">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>对每个编程环境使用以下语法参考：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>PL / SQL（DBMS_LOB包）：此用例没有适用的语法参考。 <span class="italic"> </span></p>
                        </li>
                        <li>
                           <p>C（OCI）： <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adlob&amp;id=LNOCI160" target="_blank"><span class="italic">Oracle调用接口程序员指南</span></a> “LOB函数” - <code class="codeph">OCILobLocatorIsInit()</code></p>
                        </li>
                        <li>
                           <p>C ++（OCCI）： <a href="../lncpp/introduction-to-occi.html#LNCPP-GUID-99077609-BFCC-4FF7-9D23-C45623DDD465" target="_blank"><span><cite>Oracle C ++调用接口程序员指南</cite></span></a></p>
                        </li>
                        <li>
                           <p>COBOL（Pro * COBOL）：此用例没有适用的语法参考。</p>
                        </li>
                        <li>
                           <p>C / C ++（Pro * C / C ++） <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adlob&amp;id=LNPCC-GUID-20CBCC27-EC6B-4651-92CC-7E008BD73611" target="_blank"><span><cite>Pro * C / C ++程序员指南</cite></span></a></p>
                        </li>
                        <li>
                           <p>Java（JDBC）：此用例没有适用的语法参考。</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-9B110BA7-91BA-4800-AACF-590D81893A79__GUID-DACB21CA-9470-493B-B24A-0E923F918829">例子</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>以下编程环境中提供了示例：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>PL / SQL（DBMS_LOB包）：此版本未提供示例。</p>
                        </li>
                        <li>
                           <p>OCI： <code class="codeph">linit.c</code></p>
                        </li>
                        <li>
                           <p>C（OCCI））：此版本未提供任何示例。</p>
                        </li>
                        <li>
                           <p>Java（JDBC）：此版本未提供任何示例。</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ADLOB45778"></a><a id="ADLOB45779"></a><a id="ADLOB45780"></a><a id="ADLOB45781"></a><a id="ADLOB45782"></a><a id="ADLOB45783"></a><a id="ADLOB1021"></a><div class="props_rev_3"><a id="GUID-E5A777E0-512F-4D84-87A2-3F9AB7F8A400" name="GUID-E5A777E0-512F-4D84-87A2-3F9AB7F8A400"></a><h3 id="ADLOB-GUID-E5A777E0-512F-4D84-87A2-3F9AB7F8A400" class="sect3">关于附加到LOB</h3>
               <div>
                  <div class="section">
                     <p>本节介绍如何将缓冲区的内容写入附加到LOB。</p>
                     <div class="infoboxnotealso" id="GUID-E5A777E0-512F-4D84-87A2-3F9AB7F8A400__GUID-42DED2EF-1061-4B07-9100-3A21D66D0DC9">
                        <p class="notep1">也可以看看：</p>
                        <p> <a href="using-LOB-APIs.html#GUID-AEE4EC42-6F89-49C1-88D5-23D4CCCED6FC__G1098343" title="该表在前面的文本中描述">表12-1</a> 
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-E5A777E0-512F-4D84-87A2-3F9AB7F8A400__GUID-C5BAE5BC-ED7A-449A-A9B0-8918C3BD65CA">使用说明</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>请注意有关此API使用的以下问题。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-E5A777E0-512F-4D84-87A2-3F9AB7F8A400__GUID-D2C7F682-AED4-4D89-9FB6-A75FA9759FA4">单打或分段写作</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p><code class="codeph">writeappend</code>操作将缓冲区写入LOB的末尾。</p>
                     <p>对于OCI，可以通过此调用将缓冲区写入LOB中;或者，它可以使用回调或标准轮询方法进行分段渲染。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-E5A777E0-512F-4D84-87A2-3F9AB7F8A400__GUID-B8500263-2FDF-4679-92D4-4C2A03C0DCB0">分段写：何时使用回叫或轮询</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>如果piece参数的值为<code class="codeph">OCI_FIRST_PIECE</code> ，则必须通过回调或轮询提供数据。
                     </p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>如果在<code class="codeph">cbfp</code>参数中定义了回调函数，则在将一个片段写入管道后调用此回调函数以获取下一个片段。每篇文章都是用<code class="codeph">bufp</code>编写的。
                           </p>
                        </li>
                        <li>
                           <p>如果未定义回调函数，则<code class="codeph">OCILobWriteAppend2</code> （）返回<code class="codeph">OCI_NEED_DATA</code>错误代码。应用程序必须再次调用<code class="codeph">OCILobWriteAppend2</code> （）来编写更多的LOB。在这种模式下，如果片段具有不同的大小和不同的位置，则缓冲区指针和长度在每个调用中可以是不同的。片段值<code class="codeph">OCI_LAST_PIECE</code>终止分段写入。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-E5A777E0-512F-4D84-87A2-3F9AB7F8A400__GUID-AD11F749-27E1-4F37-AEB7-8BB489C68247">在更新之前锁定行</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p><a id="d63788e5315" class="indexterm-anchor"></a>在使用PL / SQL <code class="codeph">DBMS_LOB</code>程序包或OCI更新LOB值之前，必须锁定包含LOB的行。虽然SQL <code class="codeph">INSERT</code>和<code class="codeph">UPDATE</code>语句隐式锁定行，但是通过SQL和PL / SQL程序中的SQL <code class="codeph">SELECT</code> <code class="codeph">FOR</code> <code class="codeph">UPDATE</code>语句或在OCI程序中使用<code class="codeph">OCI</code> <code class="codeph">pin</code>或<code class="codeph">lock</code>函数显式完成<code class="codeph">lock</code> 。
                     </p>
                     <div class="infoboxnotealso" id="GUID-E5A777E0-512F-4D84-87A2-3F9AB7F8A400__FORMOREDETAILSONTHESTATEOFTHELOCATO-DECAFFAD">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="advanced-design-considerations.html#GUID-9E8A72FB-D1A7-4151-B184-BB1FEC850BBD">通过更新的定位器更新LOB的示例，</a>以获取有关<a href="advanced-design-considerations.html#GUID-9E8A72FB-D1A7-4151-B184-BB1FEC850BBD">更新后定位器</a>状态的更多详细信息</p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-E5A777E0-512F-4D84-87A2-3F9AB7F8A400__GUID-2A3C0F66-F857-47D8-9A9E-60ACB17C339B">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>对每个编程环境使用以下语法参考：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>PL / SQL（DBMS_LOB包）： <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adlob&amp;id=ARPLS600" target="_blank"><span class="italic">Oracle数据库PL / SQL包和类型参考</span></a> <span class="italic">“DBMS_LOB”</span> - <code class="codeph">WRITEAPPEND</code></p>
                        </li>
                        <li>
                           <p>C（OCI）： <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adlob&amp;id=LNOCI160" target="_blank"><span class="italic">Oracle调用接口程序员指南</span></a> “LOB函数” - <code class="codeph">OCILobWriteAppend2</code> （）</p>
                        </li>
                        <li>
                           <p>C ++（OCCI）： <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adlob&amp;id=LNCPP-GUID-99077609-BFCC-4FF7-9D23-C45623DDD465" target="_blank"><span><cite>Oracle C ++调用接口程序员指南</cite></span></a></p>
                        </li>
                        <li>
                           <p>COBOL（Pro * COBOL） <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adlob&amp;id=LNPCB-GUID-5B383B0F-9628-443B-8CB7-D2C01607EED6" target="_blank"><span><cite>Pro * COBOL程序员指南</cite></span></a> ，了解有关LOB的信息，LOB语句的使用说明</p>
                        </li>
                        <li>
                           <p>C / C ++（Pro * C / C ++）： <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adlob&amp;id=LNPCC-GUID-0ABBFB3E-F2BA-4906-8DEF-53EA78D758B5" target="_blank"><span><cite>Pro * C / C ++程序员指南</cite></span></a> ，了解有关嵌入式SQL语句和指令的更多信息</p>
                        </li>
                        <li>
                           <p>Java（JDBC）： <a href="../jjdbc/LOBs-and-BFiles.html#JJDBC15000" target="_blank"><span class="italic">Oracle数据库JDBC开发人员指南</span></a>第7章“使用LOB” - 创建和<code class="codeph">BLOB</code>或<code class="codeph">CLOB</code>列</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-E5A777E0-512F-4D84-87A2-3F9AB7F8A400__GUID-FF2C03FD-C76B-484A-9E1F-F69DA2878309">例子</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>以下编程环境中提供了示例：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>PL / SQL（DBMS_LOB包）： <code class="codeph">lwriteap.sql</code></p>
                        </li>
                        <li>
                           <p>OCI： <code class="codeph">lwriteap.c</code></p>
                        </li>
                        <li>
                           <p>C ++（OCCI）：此版本未提供任何示例。</p>
                        </li>
                        <li>
                           <p>Java（JDBC）： <code class="codeph">lwriteap.java</code></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ADLOB45784"></a><a id="ADLOB45785"></a><a id="ADLOB45786"></a><a id="ADLOB45787"></a><a id="ADLOB45788"></a><a id="ADLOB45789"></a><a id="ADLOB45790"></a><a id="ADLOB45791"></a><a id="ADLOB1013"></a><div class="props_rev_3"><a id="GUID-361CDD50-6A70-4024-988C-273D885654F2" name="GUID-361CDD50-6A70-4024-988C-273D885654F2"></a><h3 id="ADLOB-GUID-361CDD50-6A70-4024-988C-273D885654F2" class="sect3">关于将数据写入LOB</h3>
               <div>
                  <div class="section">
                     <p>本节介绍如何将缓冲区的内容写入LOB。</p>
                     <div class="infoboxnotealso" id="GUID-361CDD50-6A70-4024-988C-273D885654F2__GUID-F4C39899-F69D-4A30-AF10-CD7E5A753966">
                        <p class="notep1">也可以看看：</p>
                        <p> </p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="using-LOB-APIs.html#GUID-AEE4EC42-6F89-49C1-88D5-23D4CCCED6FC__G1098343" title="该表在前面的文本中描述">表12-1</a> 
                              </p>
                           </li>
                           <li>
                              <p><a href="using-LOB-APIs.html#GUID-AC5E49A1-8479-4D68-AF1A-C497AACC5495">关于从LOB读取数据</a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-361CDD50-6A70-4024-988C-273D885654F2__GUID-C9EDC22B-FBE4-493A-AFA2-C924973C35E7">使用说明</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>请注意有关此API使用的以下问题。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-361CDD50-6A70-4024-988C-273D885654F2__GUID-87C4E952-A60B-4E77-9A33-DAD930ECE82C">流写</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>编写大量LOB数据的最有效方法是使用启用了流机制的<code class="codeph">OCILobWrite2</code> （），并使用轮询或回调。如果您知道将多少数据写入LOB，则在调用<code class="codeph">OCILobWrite2()</code>时指定该数量。这可确保磁盘上的LOB数据是连续的。除了空间效率之外，LOB数据的连续结构使得后续操作中的读取和写入更快。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-361CDD50-6A70-4024-988C-273D885654F2__GUID-5BD6E4F3-6921-4220-964B-F65ECDF4394E">块大小</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>块是一个或多个Oracle块。您可以在创建包含LOB的表时指定LOB的块大小。这对应于Oracle数据库在访问或修改LOB值时使用的数据大小。块的一部分用于存储与系统相关的信息，其余部分用于存储LOB值。您正在使用的API具有一个函数，该函数返回LOB块中用于存储LOB值的空间量。在PL / SQL中使用<code class="codeph">DBMS_LOB.GETCHUNKSIZE</code> 。在OCI中，使用<code class="codeph">OCILobGetChunkSize()</code> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-361CDD50-6A70-4024-988C-273D885654F2__GUID-8C9ED42B-6667-4FEA-9E04-82425E992314">使用返回值的倍数来提高写入性能</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>要提高性能，请使用其中一个函数返回的值的多个来运行写入请求。这样做的原因是LOB块的每个<code class="codeph">write</code>操作都是版本化的。如果所有<code class="codeph">writes</code>都是以块为基础完成的，则不会产生额外的或过多的版本控制或重复。如果它适合您的应用程序，那么您应该批量写入，直到您有足够的整个块，而不是发出在同一LOB块上运行的多个LOB写入调用。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-361CDD50-6A70-4024-988C-273D885654F2__GUID-5D17B93C-7910-45BF-B63C-4FCDE27D6452">在更新之前锁定行</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p><a id="d63788e5608" class="indexterm-anchor"></a>在使用PL / SQL <code class="codeph">DBMS_LOB</code>包或OCI更新LOB值之前，必须锁定包含LOB的行。虽然SQL <code class="codeph">INSERT</code>和<code class="codeph">UPDATE</code>语句隐式锁定行，但是通过SQL和PL / SQL程序中的SQL <code class="codeph">SELECT</code> <code class="codeph">FOR</code> <code class="codeph">UPDATE</code>语句或在OCI程序中使用<code class="codeph">OCI</code> <code class="codeph">pin</code>或<code class="codeph">lock</code>函数显式完成<code class="codeph">lock</code> 。
                     </p>
                     <div class="infoboxnotealso" id="GUID-361CDD50-6A70-4024-988C-273D885654F2__FORMOREDETAILSONTHESTATEOFTHELOCATO-DECBE499">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="advanced-design-considerations.html#GUID-9E8A72FB-D1A7-4151-B184-BB1FEC850BBD">通过更新的定位器更新LOB的示例，</a>以获取有关<a href="advanced-design-considerations.html#GUID-9E8A72FB-D1A7-4151-B184-BB1FEC850BBD">更新后定位器</a>状态的更多详细信息</p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-361CDD50-6A70-4024-988C-273D885654F2__GUID-06A4432E-F077-44E3-9B00-F3F5772427E9">使用DBMS_LOB.WRITE将数据写入BLOB</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>当你通过时<a id="d63788e5655" class="indexterm-anchor"></a>十六进制字符串<a id="d63788e5660" class="indexterm-anchor"></a> DBMS_LOB.WRITE（）将数据写入BLOB，使用以下准则：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">amount</code>参数应该是&lt;=缓冲区<code class="codeph">length</code>参数</p>
                        </li>
                        <li>
                           <p>缓冲区的<code class="codeph">length</code>应为（（ <code class="codeph">amount</code> * 2） -  1）。该指南的存在是因为字符串的两个字符被视为一个十六进制字符（并且发生了隐式十六进制到原始转换），也就是说，字符串的每两个字节都被转换为一个原始字节。
                           </p>
                        </li>
                     </ul>
                     <p>以下示例是<span class="italic">正确的</span> ：</p><pre class="oac_no_warn" dir="ltr"><code class="codeph">declare</code> <code class="codeph">blob_loc BLOB;</code> <code class="codeph">rawbuf RAW(10);</code> <code class="codeph">an_offset INTEGER := 1;</code> <code class="codeph">an_amount BINARY_INTEGER := 10;</code> <code class="codeph">BEGIN</code> <code class="codeph">select blob_col into blob_loc from a_table</code> <code class="codeph">where id = 1;</code> <code class="codeph">select blob_col into blob_loc from a_table</code> <code class="codeph">where id = 1;</code> <code class="codeph">rawbuf := '1234567890123456789';</code> <code class="codeph">dbms_lob.write(blob_loc, an_amount, an_offset,</code> <code class="codeph">rawbuf);</code> <code class="codeph">commit;</code> <code class="codeph">END;</code></pre><pre class="oac_no_warn" dir="ltr"></pre><p>使用以下值替换上一示例中<code class="codeph">an_amount</code>的值，会产生错误消息ora_21560：</p><pre class="oac_no_warn" dir="ltr">an_amount BINARY_INTEGER：= 11;</pre><p>要么</p><pre class="oac_no_warn" dir="ltr">an_amount BINARY_INTEGER：= 19;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-361CDD50-6A70-4024-988C-273D885654F2__GUID-F9BBF621-585C-4704-9D1A-9AF01CCD7C7C">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>对每个编程环境使用以下语法参考：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>PL / SQL（DBMS_LOB包）： <a href="../arpls/DBMS_LOB.html#ARPLS600" target="_blank"><span class="italic">Oracle数据库PL / SQL包和类型参考</span></a> <span class="italic">“DBMS_LOB”</span> <span class="italic"> </span> - 写</p>
                        </li>
                        <li>
                           <p>C（OCI）： <a href="../lnoci/more-database-access-c-api.html#LNOCI160" target="_blank"><span class="italic">Oracle调用接口程序员指南</span></a> “LOB函数” -  OCILobWrite2（）。
                           </p>
                        </li>
                        <li>
                           <p>C ++（OCCI）： <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adlob&amp;id=LNCPP-GUID-99077609-BFCC-4FF7-9D23-C45623DDD465" target="_blank"><span><cite>Oracle C ++调用接口程序员指南</cite></span></a> 
                           </p>
                        </li>
                        <li>
                           <p>COBOL（Pro * COBOL） <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adlob&amp;id=LNPCB-GUID-5B383B0F-9628-443B-8CB7-D2C01607EED6" target="_blank"><span><cite>Pro * COBOL程序员指南</cite></span></a> ，了解有关LOB的信息，LOB语句的使用说明以及LOB WRITE可执行嵌入式SQL扩展</p>
                        </li>
                        <li>
                           <p>C / C ++（Pro * C / C ++）： <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adlob&amp;id=LNPCC-GUID-931269F4-868A-4E21-B304-1F509DF7F1FE" target="_blank"><span><cite>Pro * C / C ++程序员指南</cite></span></a> LOB WRITE可执行嵌入式SQL扩展</p>
                        </li>
                        <li>
                           <p>Java（JDBC）： <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adlob&amp;id=JJDBC15000" target="_blank"><span class="italic">Oracle数据库JDBC开发人员指南</span></a>第7章“使用LOB” - 创建和<code class="codeph">BLOB</code>或<code class="codeph">CLOB</code>列。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-361CDD50-6A70-4024-988C-273D885654F2__GUID-D17121CE-A53E-4D07-875E-EEA40E16F936">例子</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>以下编程环境中提供了示例：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>PL / SQL（DBMS_LOB包）： <code class="codeph">lwrite.sql</code></p>
                        </li>
                        <li>
                           <p>OCI： <code class="codeph">lwrite.c</code></p>
                        </li>
                        <li>
                           <p>Java（JDBC）： <code class="codeph">lwrite.java</code></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ADLOB45793"></a><a id="ADLOB45794"></a><a id="ADLOB45795"></a><a id="ADLOB45796"></a><a id="ADLOB45797"></a><a id="ADLOB45798"></a><a id="ADLOB45792"></a><div class="props_rev_3"><a id="GUID-9C2E65CE-BCA5-4600-8B7F-E51C3466C985" name="GUID-9C2E65CE-BCA5-4600-8B7F-E51C3466C985"></a><h3 id="ADLOB-GUID-9C2E65CE-BCA5-4600-8B7F-E51C3466C985" class="sect3">LOB数组写</h3>
               <div>
                  <div class="section">
                     <p>本节介绍如何使用<code class="codeph">OCILobArrayWrite()</code>在一次往返中为多个定位器写入LOB数据。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-9C2E65CE-BCA5-4600-8B7F-E51C3466C985__GUID-FF87657E-691A-4ECB-8E11-34B8640489C3">使用说明</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <div class="infoboxnotealso" id="GUID-9C2E65CE-BCA5-4600-8B7F-E51C3466C985__GUID-EA01553B-3F2B-47A1-BC1F-539CBA2343AA">
                        <p class="notep1">也可以看看：</p>
                        <p> <span class="q">“ <a href="using-LOB-APIs.html#GUID-F41CA770-8003-4864-A999-91FA47FDB971">关于LOB Array Read</a> ”</span>有关数组读/写的示例。
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-9C2E65CE-BCA5-4600-8B7F-E51C3466C985__GUID-643425CE-C6BA-4F34-9286-66933A809956">LOB阵列以轮询模式写入</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>以下示例为<code class="codeph">10</code>定位器中的每一个写入10K字节的数据，缓冲区大小为1K。<code class="codeph">OCILobArrayWrite()</code>调用<code class="codeph">100</code>次（ <code class="codeph">10</code>次<code class="codeph">10</code>次）才能写入所有数据。该函数的使用方式与<code class="codeph">OCILobWrite2()</code>类似。
                     </p><pre class="oac_no_warn" dir="ltr">/ *获取定位器* / .../ * array_iter参数表示读取的数组中的定位符数。*它是轮询中第一次调用的IN参数，并且作为后续调用的IN *参数被忽略。作为OUT参数，它指示要为其写入片段的定位器*索引。* / ub4 array_iter = 10; char * bufp [10]; oraub8 bufl [10]; oraub8 char_amtp [10]; oraub8 offset [10];剑st; int i，j; for（i = 0; i &lt;10; i ++）{bufp [i] =（char *）malloc（1000）; bufl [i] = 1000; / *在这里填写bufp。* / ...offset [i] = 1; char_amtp [i] = 10000; / *单字节固定宽度字符集。* /} for（i = 1; i &lt;= 10; i ++）{/ *在这里填写bufp [i-1]。ith定位器的第一部分将来自bufp [i-1] * / ...st = <span class="bold">OCILobArrayWrite</span> （&lt;服务上下文&gt;，&lt;错误句柄&gt;，＆array_iter，/ *数组大小* / lob_array，/ *定位器数组* / NULL，/ *字节数数组* / char_amtp，/ * char数量数组* / offset，/ *偏移数组* /（void **）bufp，/ *写缓冲区数组* / bufl，/ *缓冲区长度数组* / <span>OCI_FIRST_PIECE</span> ，/ *片段信息* / NULL，/ *回调上下文* / NULL，/ *回调函数* / 0，/ *字符集ID  - 默认* / SQLCS_IMPLICIT）; / *字符集形式* / for（j = 2; j &lt;10; j ++）{/ *在这里填写bufp [i-1]。第i个定位器的第j个部分将来自bufp [i-1] * / ...st = <span class="bold">OCILobArrayWrite</span> （&lt;服务上下文&gt;，&lt;错误句柄&gt;，＆array_iter，/ *数组大小* / lob_array，/ *定位器数组* / NULL，/ *字节数数组* / char_amtp，/ * char数量数组* / offset，/ *偏移数组* /（void **）bufp，/ *写缓冲区数组* / bufl，/ *缓冲区长度数组* / <span class="bold">OCI_NEXT_PIECE</span> ，/ *片段信息* / NULL，/ *回调上下文* / NULL，/ *回调函数* / 0，/ *字符集ID  - 默认* / SQLCS_IMPLICIT）; / * array_iter返回正在为其写入*数据的当前数组元素的索引。例如，aray_iter = 1表示第一个定位符，* array_iter = 2表示第二个定位符，依此类推。这里我= array_iter。* * lob_array [array_iter  -  1] =&gt;为其写入数据的Lob定位器。* bufp [array_iter  -  1] =&gt;从中写入数据的缓冲区指针。* char_amtp [array_iter  -  1] =&gt;用*刚写成的字符写的字符数* /} / *在这里填写bufp [i-1]。ith定位器的最后一块将是从bufp [i -1] * / ...写的st = OCILobArrayWrite（&lt;服务上下文&gt;，&lt;错误句柄&gt;，＆array_iter，/ *数组大小* / lob_array，/ *定位器数组* / NULL，/ *字节数数组* / char_amtp，/ * char数量数组* / offset，/ *偏移数组* /（void **）bufp，/ *写缓冲区数组* / bufl，/ *缓冲区长度数组* / <span class="bold">OCI_LAST_PIECE</span> ，/ *片段信息* / NULL，/ *回调上下文* / NULL，/ *回调函数* / 0，/ *字符集ID  - 默认* / SQLCS_IMPLICIT）; } ...</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-9C2E65CE-BCA5-4600-8B7F-E51C3466C985__GUID-4EDA7BDF-D316-42BE-BAE0-42EF445AA275">LOB数组写回调</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>以下示例为10个定位器中的每一个写入10K字节的数据，缓冲区大小为1K。必须写入总共100件（每个定位器10件）。第一部分由<code class="codeph">OCILobArrayWrite()</code>调用提供。回调函数被调用99次以获取后续片段的数据。
                     </p><pre class="oac_no_warn" dir="ltr">/ *获取定位器* / ...ub4 array_iter = 10; char * bufp [10]; oraub8 bufl [10]; oraub8 char_amtp [10]; oraub8 offset [10];剑st; for（i = 0; i &lt;10; i ++）{bufp [i] =（char *）malloc（1000）; bufl [i] = 1000; offset [i] = 1; char_amtp [i] = 10000; / *单字节固定宽度字符集。* /} st = <span class="bold">OCILobArrayWrite</span> （&lt;服务上下文&gt;，&lt;错误句柄&gt;，＆array_iter，/ *数组大小* / lob_array，/ *定位器数组* / NULL，/ *字节数量数组* / char_amtp，/ *数组char amount * / offset，/ * offsets数组* /（void **）bufp，/ *写缓冲区数组* / bufl，/ *缓冲区长度数组* / <span class="bold">OCI_FIRST_PIECE</span> ，/ * piece information * / ctx，/ *回调上下文* / cbk_write_lob / *回调函数* / 0，/ *字符集ID  - 默认* / SQLCS_IMPLICIT）; .../ * LOB数组写回写函数。* / sb4 cbk_write_lob（dvoid * ctxp， <span class="bold">ub4 array_iter</span> ，dvoid * bufxp，oraub8 * lenp，ub1 * piecep，ub1 * changed_bufpp，oraub8 * changed_lenp）{static ub4 piece_count = 0; piece_count ++; printf（“％dth piece为<span class="bold">％dth locator</span> \ n \ n”编写， <span class="bold">piece_count</span> ， <span class="bold">array_iter</span> ）; / *  - 用数据填充bufxp的代码在这里。 * lenp应反映大小，*应小于或等于MAXBUFLEN  -  * / / *  - 设置changed_bufpp和changed_lenp的可选代码，如果缓冲区必须*动态更改 -  * / if（这是最后一个数据）当前定位器的缓冲区）* piecep = <span class="bold">OCI_LAST_PIECE</span> ; else if（这是下一个定位器的第一个数据缓冲区）* piecep = <span class="bold">OCI_FIRST_PIECE</span> ; piece_count = 0; else * piecep = <span class="bold">OCI_NEXT_PIECE</span> ;返回OCI_CONTINUE; } ...</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-9C2E65CE-BCA5-4600-8B7F-E51C3466C985__GUID-942B5FD8-F01F-4B05-A2CE-E3298B8FA756">在数组写中轮询LOB数据</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>下一个示例是使用变量<code class="codeph">amtp</code> ， <code class="codeph">bufl</code>和<code class="codeph">offset</code>在<code class="codeph">OCILobArrayWrite()</code>轮询LOB数据。
                     </p><pre class="oac_no_warn" dir="ltr">/ *获取定位器* / ...ub4 array_iter = 10; char * bufp [10]; oraub8 bufl [10]; oraub8 char_amtp [10]; oraub8 offset [10];剑st; int i，j; int piece_count; for（i = 0; i &lt;10; i ++）{bufp [i] =（char *）malloc（1000）; bufl [i] = 1000; / *在这里填写bufp。* / ...offset [i] = 1; char_amtp [i] = 10000; / *单字节固定宽度字符集。* /} / *对于第三个定位器，从偏移量101写入500字节的数据。金额*是2000，即总件数是2000/500 = 4。* / offset [2] = 101; bufl [2] = 500; char_amtp [2] = 2000; / *对于第6个定位器，从偏移量51写入100个字节的数据。Amount *为0表示纯轮询，即数据写入*直到OCI_LAST_PIECE * / offset [5] = 51; bufl [5] = 100; char_amtp [5] = 0; / *对于第8个定位器，将100个字节的数据一次写入。注意量*小于表示单件写入的缓冲长度。* / offset [7] = 61; bufl [7] = 200; char_amtp [7] = 100; for（i = 1; i &lt;= 10; i ++）{/ *在这里填充bufp [i-1]。ith定位器的第一部分将来自bufp [i-1] * / .../ *计算必须写入的件数* / piece_count = char_amtp [i-1] / bufl [i-1]; / *单件案例* / if（char_amtp [i-1] &lt;= bufl [i-1]）piece_count = 1; / *零数量表示纯轮询。所以我们可以根据需要编写尽可能多的*部分。我们写50件。* / if（char_amtp [i-1] == 0）piece_count = 50; st = OCILobArrayWrite（&lt;服务上下文&gt;，&lt;错误句柄&gt;，＆array_iter，/ *数组大小* / lob_array，/ *定位器数组* / NULL，/ *字节数数组* / char_amtp，/ * char数量数组* / offset，/ *偏移数组* /（void **）bufp，/ *写缓冲区数组* / bufl，/ *缓冲区长度数组* / OCI_FIRST_PIECE，/ *片段信息* / NULL，/ *回调上下文* / NULL，/ *回调函数* / 0，/ *字符集ID  - 默认* / SQLCS_IMPLICIT）; / *字符集形式* / for（j = 2; j &lt;piece_count; j ++）{/ *在这里填写bufp [i-1]。ith定位器的第j个部分将来自bufp [i-1] * / ...st = OCILobArrayWrite（&lt;服务上下文&gt;，&lt;错误句柄&gt;，＆array_iter，/ *数组大小* / lob_array，/ *定位器数组* / NULL，/ *字节数数组* / char_amtp，/ * char数量数组* / offset，/ *偏移数组* /（void **）bufp，/ *写缓冲区数组* / bufl，/ *缓冲区长度数组* / OCI_NEXT_PIECE，/ *片段信息* / NULL，/ *回调上下文* / NULL，/ *回调函数* / 0，/ *字符集ID  - 默认* / SQLCS_IMPLICIT）; / * array_iter返回正在为其写入*数据的当前数组元素的索引。例如，aray_iter = 1表示第一个定位符，* array_iter = 2表示第二个定位符，依此类推。这里我= array_iter。* * lob_array [array_iter  -  1] =&gt;为其写入数据的Lob定位器。* bufp [array_iter  -  1] =&gt;从中写入数据的缓冲区指针。* char_amtp [array_iter  -  1] =&gt;用*刚写成的字符写的字符数* /} / *在这里填写bufp [i-1]。ith定位器的最后一块将从* bufp [i -1] * / ...写出来/ *如果piece_count为1，则为单件写入。* / if（piece_count [i]！= 1）st = OCILobArrayWrite（&lt;服务上下文&gt;，&lt;错误句柄&gt;，＆array_iter，/ *数组大小* / lob_array，/ *定位器数组* / NULL，/ *字节数量数组* / char_amtp，/ *数组char amount * / offset，/ * offsets数组* /（void **）bufp，/ *写缓冲区数组* / bufl，/ *缓冲区长度数组* / OCI_LAST_PIECE，/ * piece information * / NULL，/ *回调上下文* / NULL，/ *回调函数* / 0，/ *字符集ID  - 默认* / SQLCS_IMPLICIT）; } ...</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-9C2E65CE-BCA5-4600-8B7F-E51C3466C985__GUID-7537A7A4-726A-4068-B2CE-6EF7573365AC">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>对OCI编程环境使用以下语法参考：</p>
                     <p>C（OCI）： <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adlob&amp;id=LNOCI160" target="_blank"><span class="italic">Oracle调用接口程序员指南</span></a> “LOB函数” - <code class="codeph">OCILobArrayWrite()</code> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-9C2E65CE-BCA5-4600-8B7F-E51C3466C985__GUID-F91FB642-2F60-43CE-A208-CEB4316EE948">例</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>以下编程环境中提供了一个示例：</p>
                     <p>OCI：lwritearr.c</p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ADLOB45799"></a><a id="ADLOB45800"></a><a id="ADLOB45801"></a><a id="ADLOB45802"></a><a id="ADLOB1020"></a><div class="props_rev_3"><a id="GUID-1F0A8155-1431-4804-81DE-D55EE5A69CB2" name="GUID-1F0A8155-1431-4804-81DE-D55EE5A69CB2"></a><h3 id="ADLOB-GUID-1F0A8155-1431-4804-81DE-D55EE5A69CB2" class="sect3">关于修剪LOB数据</h3>
               <div>
                  <div class="section">
                     <p>本节介绍如何将LOB修剪为您指定的大小。</p>
                     <div class="infoboxnotealso" id="GUID-1F0A8155-1431-4804-81DE-D55EE5A69CB2__GUID-2699EBA0-863B-42B6-A22B-2C7ACC90582E">
                        <p class="notep1">也可以看看：</p>
                        <p> <a href="using-LOB-APIs.html#GUID-AEE4EC42-6F89-49C1-88D5-23D4CCCED6FC__G1098343" title="该表在前面的文本中描述">表12-1</a> 
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1F0A8155-1431-4804-81DE-D55EE5A69CB2__GUID-D1E97BF4-A7F3-4E2A-8021-6D0E08D33D2D">使用说明</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>请注意有关此API使用的以下问题。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1F0A8155-1431-4804-81DE-D55EE5A69CB2__GUID-3C1806BB-94BC-4B00-BF00-9FB50D952BA5">在更新之前锁定行</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p><a id="d63788e6145" class="indexterm-anchor"></a>在使用PL / SQL <code class="codeph">DBMS_LOB</code>包或OCI更新LOB值之前，必须锁定包含LOB的行。虽然SQL <code class="codeph">INSERT</code>和<code class="codeph">UPDATE</code>语句隐式锁定行，但锁定是通过以下方式显式完成的：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>SQL和PL / SQL程序中的<code class="codeph">SELECT</code> <code class="codeph">FOR</code> <code class="codeph">UPDATE</code>语句。
                           </p>
                        </li>
                        <li>
                           <p>OCI程序中的<code class="codeph">OCI</code> <code class="codeph">pin</code>或<code class="codeph">lock</code>功能。
                           </p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-1F0A8155-1431-4804-81DE-D55EE5A69CB2__FORMOREDETAILSONTHESTATEOFTHELOCATO-DECC1B17">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="advanced-design-considerations.html#GUID-9E8A72FB-D1A7-4151-B184-BB1FEC850BBD">通过更新的定位器更新LOB的示例，</a>以获取有关<a href="advanced-design-considerations.html#GUID-9E8A72FB-D1A7-4151-B184-BB1FEC850BBD">更新后定位器</a>状态的更多详细信息</p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1F0A8155-1431-4804-81DE-D55EE5A69CB2__GUID-0619E629-41BB-4AC2-883F-FE7DCA8F5C21">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>对每个编程环境使用以下语法参考：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>PL / SQL（DBMS_LOB包）： <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adlob&amp;id=ARPLS600" target="_blank"><span class="italic">Oracle数据库PL / SQL包和类型参考</span></a> <span class="italic">“DBMS_LOB”</span> - <code class="codeph">TRIM</code></p>
                        </li>
                        <li>
                           <p>C（OCI）： <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adlob&amp;id=LNOCI160" target="_blank"><span class="italic">Oracle调用接口程序员指南</span></a> “LOB函数” -  OCILobTrim2（）。
                           </p>
                        </li>
                        <li>
                           <p>C ++（OCCI）： <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adlob&amp;id=LNCPP-GUID-99077609-BFCC-4FF7-9D23-C45623DDD465" target="_blank"><span><cite>Oracle C ++调用接口程序员指南</cite></span></a></p>
                        </li>
                        <li>
                           <p>COBOL（Pro * COBOL） <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adlob&amp;id=LNPCB-GUID-5B383B0F-9628-443B-8CB7-D2C01607EED6" target="_blank"><span><cite>Pro * COBOL程序员指南</cite></span></a> ，了解有关LOB的信息，LOB语句的使用说明以及执行嵌入式SQL扩展的LOB TRIM</p>
                        </li>
                        <li>
                           <p>C / C ++（Pro * C / C ++）： <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adlob&amp;id=LNPCC-GUID-402B987A-DC50-4622-BE4C-41B85EA64B46" target="_blank"><span><cite>Pro * C / C ++程序员指南</cite></span></a> ，了解有关LOB TRIM执行嵌入式SQL扩展的更多信息</p>
                        </li>
                        <li>
                           <p>Java（JDBC）： <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adlob&amp;id=JJDBC15000" target="_blank"><span class="italic">Oracle数据库JDBC开发人员指南</span></a>第7章“使用LOB” - 创建和<code class="codeph">BLOB</code>或<code class="codeph">CLOB</code>列。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1F0A8155-1431-4804-81DE-D55EE5A69CB2__GUID-4292C321-3C76-4B41-916F-3B8C80F583F2">例子</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>以下编程环境中提供了示例：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>PL / SQL（DBMS_LOB包）： <code class="codeph">ltrim.sql</code></p>
                        </li>
                        <li>
                           <p>OCI： <code class="codeph">ltrim.c</code></p>
                        </li>
                        <li>
                           <p>C ++（OCCI）：此版本未提供任何示例。</p>
                        </li>
                        <li>
                           <p>Java（JDBC）： <code class="codeph">ltrim.java</code></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ADLOB45803"></a><a id="ADLOB45804"></a><a id="ADLOB45805"></a><a id="ADLOB45806"></a><a id="ADLOB1006"></a><div class="props_rev_3"><a id="GUID-CB83E58B-CF34-4771-A79B-61C57F48369C" name="GUID-CB83E58B-CF34-4771-A79B-61C57F48369C"></a><h3 id="ADLOB-GUID-CB83E58B-CF34-4771-A79B-61C57F48369C" class="sect3">关于擦除LOB的一部分</h3>
               <div>
                  <div class="section">
                     <p>本节介绍如何擦除LOB的一部分。</p>
                     <div class="infoboxnotealso" id="GUID-CB83E58B-CF34-4771-A79B-61C57F48369C__GUID-10C5444C-E63C-497E-B8BF-004705CE958C">
                        <p class="notep1">也可以看看：</p>
                        <p> <a href="using-LOB-APIs.html#GUID-AEE4EC42-6F89-49C1-88D5-23D4CCCED6FC__G1098343" title="该表在前面的文本中描述">表12-1</a> 
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-CB83E58B-CF34-4771-A79B-61C57F48369C__GUID-EC690938-587D-46C5-A3D2-AC8A9FEC8CAC">使用说明</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>请注意有关此API使用的以下问题。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-CB83E58B-CF34-4771-A79B-61C57F48369C__GUID-FDC8A8B7-0198-423C-9172-C8E25BD08F73">在更新之前锁定行</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p><a id="d63788e6383" class="indexterm-anchor"></a>在使用PL / SQL <code class="codeph">DBMS_LOB</code>包或OCI更新LOB值之前，必须锁定包含LOB的行。 <code class="codeph">INSERT</code>和<code class="codeph">UPDATE</code>语句隐式锁定行，而在SQL和PL / SQL程序中通过<code class="codeph">SELECT</code> <code class="codeph">FOR</code> <code class="codeph">UPDATE</code>语句或在OCI程序中使用<code class="codeph">OCI</code> <code class="codeph">pin</code>或<code class="codeph">lock</code>函数显式完成<code class="codeph">lock</code> 。
                     </p>
                     <div class="infoboxnotealso" id="GUID-CB83E58B-CF34-4771-A79B-61C57F48369C__FORMOREDETAILSONTHESTATEOFTHELOCATO-DECC485A">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="advanced-design-considerations.html#GUID-9E8A72FB-D1A7-4151-B184-BB1FEC850BBD">通过更新的定位器更新LOB的示例有关更新后定位器</a>状态的更多详细信息</p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-CB83E58B-CF34-4771-A79B-61C57F48369C__GUID-DDBF88A6-BDCC-42B6-99E9-BBCEFD9A7A7C">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>对每个编程环境使用以下语法参考：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>PL / SQL（DBMS_LOB包）： <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adlob&amp;id=ARPLS600" target="_blank"><span class="italic">Oracle数据库PL / SQL包和类型参考</span></a> “DBMS_LOB” - 删除</p>
                        </li>
                        <li>
                           <p>C（OCI）： <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adlob&amp;id=LNOCI160" target="_blank"><span class="italic">Oracle调用接口程序员指南</span></a> “LOB函数” - <code class="codeph">OCILobErase2()</code> 。
                           </p>
                        </li>
                        <li>
                           <p>C ++（OCCI）： <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adlob&amp;id=LNCPP-GUID-99077609-BFCC-4FF7-9D23-C45623DDD465" target="_blank"><span><cite>Oracle C ++调用接口程序员指南</cite></span></a></p>
                        </li>
                        <li>
                           <p>COBOL（Pro * COBOL） <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adlob&amp;id=LNPCB-GUID-5B383B0F-9628-443B-8CB7-D2C01607EED6" target="_blank"><span><cite>Pro * COBOL程序员指南</cite></span></a> ，了解有关LOB的信息，LOB语句的使用说明以及LOB ERASE可执行嵌入式SQL扩展。
                           </p>
                        </li>
                        <li>
                           <p>C / C ++（Pro * C / C ++）： <a href="../lnpcc/embedded-SQL-statements-and-directives.html#LNPCC-GUID-9E1439E2-F58C-4778-85AC-6570AFC61AA6" target="_blank"><span><cite>Pro * C / C ++程序员指南</cite></span></a> ，了解有关LOB ERASE可执行嵌入式SQL扩展的更多信息</p>
                        </li>
                        <li>
                           <p>Java（JDBC）： <a href="../jjdbc/LOBs-and-BFiles.html#JJDBC15000" target="_blank"><span class="italic">Oracle数据库JDBC开发人员指南，</span></a> “使用LOB” - 创建和<code class="codeph">BLOB</code>或<code class="codeph">CLOB</code>列</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-CB83E58B-CF34-4771-A79B-61C57F48369C__GUID-66A5766D-3BFD-4002-91C1-8E6345079774">例子</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>以下编程环境中提供了示例：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>PL / SQL（DBMS_LOB包）： <code class="codeph">lerase.sql</code></p>
                        </li>
                        <li>
                           <p>OCI： <code class="codeph">lerase.c</code></p>
                        </li>
                        <li>
                           <p>C ++（OCCI）：此版本未提供任何示例。</p>
                        </li>
                        <li>
                           <p>Java（JDBC）： <code class="codeph">lerase.java</code></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ADLOB45819"></a><a id="ADLOB45820"></a><a id="ADLOB1015"></a><div class="sect2"><a id="GUID-9C8276AA-A510-4F5A-858F-8B40D2FB47AA" name="GUID-9C8276AA-A510-4F5A-858F-8B40D2FB47AA"></a><h3 id="ADLOB-GUID-9C8276AA-A510-4F5A-858F-8B40D2FB47AA" class="sect3">确定LOB实例是否为临时实例</h3>
               <div>
                  <p>本节介绍如何确定LOB实例是否是临时的。</p>
                  <div class="infoboxnotealso" id="GUID-9C8276AA-A510-4F5A-858F-8B40D2FB47AA__GUID-A427F48A-62AB-4C1D-9E7E-B7CABFBB079C">
                     <p class="notep1">也可以看看：</p>
                     <p> <a href="using-LOB-APIs.html#GUID-AEE4EC42-6F89-49C1-88D5-23D4CCCED6FC__G1098343" title="该表在前面的文本中描述">表12-1</a> 
                     </p>
                  </div>
                  <div class="section">
                     <p class="subhead2" id="GUID-9C8276AA-A510-4F5A-858F-8B40D2FB47AA__GUID-137110E6-4A53-4570-B5A9-2348A46E7B26">句法</p>
                  </div>
                  <!-- class="section" -->
                  <p>对每个编程环境使用以下语法参考：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>PL / SQL（DBMS_LOB）： <a href="../arpls/DBMS_LOB.html#ARPLS600" target="_blank"><span class="italic">Oracle数据库PL / SQL包和类型参考</span></a> “DBMS_LOB” -  ISTEMPORARY，FREETEMPORARY</p>
                     </li>
                     <li>
                        <p>C（OCI）： <a href="../lnoci/more-database-access-c-api.html#LNOCI160" target="_blank"><span class="italic">Oracle调用接口程序员指南</span></a> “LOB函数” -  OCILobIsTemporary（）。
                        </p>
                     </li>
                     <li>
                        <p>COBOL（Pro * COBOL） <a href="../lnpcb/introduction-and-concepts.html#LNPCB-GUID-5B383B0F-9628-443B-8CB7-D2C01607EED6" target="_blank"><span><cite>Pro * COBOL程序员指南</cite></span></a> ，了解有关LOB的信息，LOB语句的使用说明以及嵌入式SQL和LOB DESCRIBE可执行嵌入式SQL扩展</p>
                     </li>
                     <li>
                        <p>C / C ++（Pro * C / C ++）： <a href="../lnpcc/embedded-SQL-statements-and-directives.html#LNPCC02012" target="_blank"><span><cite>Pro * C / C ++程序员指南</cite></span></a> ，了解有关LOB DESCRIBE可执行嵌入式SQL扩展的更多信息</p>
                     </li>
                     <li>
                        <p>Java（JDBC）： <a href="../jjdbc/LOBs-and-BFiles.html#JJDBC15000" target="_blank"><span class="italic">Oracle数据库JDBC开发人员指南</span></a> <span>，</span> “使用LOB” - 创建和<code class="codeph">BLOB</code>或<code class="codeph">CLOB</code>列。
                        </p>
                     </li>
                  </ul>
                  <div class="section">
                     <p class="subhead2" id="GUID-9C8276AA-A510-4F5A-858F-8B40D2FB47AA__GUID-5E2C3C99-6F11-4E9E-AA2C-2FB6CC8E7CEF">例子</p>
                  </div>
                  <!-- class="section" -->
                  <p>以下编程环境中提供了示例：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>PL / SQL（DBMS_LOB包）： <code class="codeph">listemp.sql</code></p>
                     </li>
                     <li>
                        <p>OCI： <code class="codeph">listemp.c</code></p>
                     </li>
                  </ul>
               </div><a id="ADLOB45821"></a><div class="props_rev_3"><a id="GUID-C5615FAF-BBCA-4F81-ADC6-097D701B141B" name="GUID-C5615FAF-BBCA-4F81-ADC6-097D701B141B"></a><h4 id="ADLOB-GUID-C5615FAF-BBCA-4F81-ADC6-097D701B141B" class="sect4">Java（JDBC）：确定BLOB是否是临时的</h4>
                  <div>
                     <div class="section">
                        <p>要查看<code class="codeph">BLOB</code>是否是临时的，JDBC应用程序可以使用<code class="codeph">isTemporary</code>实例方法来确定当前<code class="codeph">BLOB</code>对象是否是临时的，或者将<code class="codeph">BLOB</code>对象传递给静态<code class="codeph">isTemporary</code>方法以确定指定的<code class="codeph">BLOB</code>对象是否是临时的。这两个方法在<code class="codeph">listempb.java</code>中定义。
                        </p>
                        <p>此JDBC API取代了以前使用<code class="codeph">DBMS_LOB.isTemporary().</code></p>
                        <p>要确定<code class="codeph">CLOB</code>是否是临时的，JDBC应用程序可以使用<code class="codeph">isTemporary</code>实例方法来确定当前<code class="codeph">CLOB</code>对象是临时的，还是将<code class="codeph">CLOB</code>对象传递给静态<code class="codeph">isTemporary</code>方法。这两个方法在<code class="codeph">listempc.java</code>中定义。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="ADLOB45822"></a><div class="props_rev_3"><a id="GUID-032C4593-7EAA-4B60-9B49-0FD6197EC80A" name="GUID-032C4593-7EAA-4B60-9B49-0FD6197EC80A"></a><h3 id="ADLOB-GUID-032C4593-7EAA-4B60-9B49-0FD6197EC80A" class="sect3">将BLOB转换为CLOB</h3>
               <div>
                  <p>您可以使用PL / SQL过程<code class="codeph">DBMS_LOB.CONVERTTOCLOB</code>将<code class="codeph">BLOB</code>实例转换为<code class="codeph">CLOB</code> 。</p>
                  <div class="section">
                     <p>如果您要以二进制格式存储要以<code class="codeph">CLOB</code>存储的字符数据，则此方法很方便。您在调用此过程时指定二进制数据的字符集。
                     </p>
                     <div class="infoboxnotealso" id="GUID-032C4593-7EAA-4B60-9B49-0FD6197EC80A__ORACLEDATABASEPLSQLPACKAGESANDTYPES-DEFA77FD">
                        <p class="notep1">也可以看看：</p>
                        <p>有关此过程的语法和用法的详细信息，请<a href="../arpls/DBMS_LOB.html#ARPLS602" target="_blank"><span class="italic">参见Oracle Database PL / SQL包和类型参考</span></a></p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ADLOB45823"></a><div class="props_rev_3"><a id="GUID-DC046D03-AFB3-4B8C-A163-ED49C18A48CC" name="GUID-DC046D03-AFB3-4B8C-A163-ED49C18A48CC"></a><h3 id="ADLOB-GUID-DC046D03-AFB3-4B8C-A163-ED49C18A48CC" class="sect3">将CLOB转换为BLOB</h3>
               <div>
                  <div class="section">
                     <p>您可以使用PL / SQL过程<code class="codeph">DBMS_LOB.CONVERTTOBLOB</code>将<code class="codeph">CLOB</code>实例转换为<code class="codeph">BLOB</code>实例。此技术是使用LOB API将字符数据转换为二进制数据的便捷方式。看到</p>
                     <div class="infoboxnotealso" id="GUID-DC046D03-AFB3-4B8C-A163-ED49C18A48CC__ORACLEDATABASEPLSQLPACKAGESANDTYPES-DEFAC1BF">
                        <p class="notep1">也可以看看：</p>
                        <p>有关此过程的语法和用法的详细信息，请<a href="../arpls/DBMS_LOB.html#ARPLS603" target="_blank"><span class="italic">参见Oracle Database PL / SQL包和类型参考</span></a></p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ADLOB45824"></a><div class="props_rev_3"><a id="GUID-06CC03E6-4DD2-4326-82E2-3CABC9A37941" name="GUID-06CC03E6-4DD2-4326-82E2-3CABC9A37941"></a><h3 id="ADLOB-GUID-06CC03E6-4DD2-4326-82E2-3CABC9A37941" class="sect3">确保读一致性</h3>
               <div>
                  <div class="section">
                     <p>此脚本可用于确保可以对具有<code class="codeph">NOLOGGING</code>或<code class="codeph">FILESYSTEM_LIKE_LOGGING</code> LOB并具有已知恢复点且没有读取不一致的表进行热备份：</p><pre class="oac_no_warn" dir="ltr">ALTER DATABASE FORCE LOGGING; SELECT CHECKPOINT_CHANGE＃FROM V $ DATABASE; - 开始SCN</pre><pre class="oac_no_warn" dir="ltr"></pre><p>SCN（系统变更编号）是一个标记，用于定义提交事务时数据库的版本。</p>
                     <p>执行备份。</p>
                     <p>运行下一个脚本：</p><pre class="oac_no_warn" dir="ltr">ALTER SYSTEM CHECKPOINT GLOBAL; SELECT CHECKPOINT_CHANGE＃FROM V $ DATABASE; - 结束SCN ALTER DATABASE NO FORCE LOGGING;</pre><p>备份数据库生成的存档日志。必须至少备份启动SCN和结束SCN（包括两个SCN点）之间的存档日志。</p>
                     <p>要还原到没有读取不一致的点，请还原到SCN作为未完成的恢复点。如果在结束SCN之后对SCN进行恢复，则<code class="codeph">NOLOGGING</code> LOB中可能存在读取不一致的情况。
                     </p>
                     <p>对于SecureFiles，如果在介质恢复期间发现读取不一致，则数据库将不一致的块视为漏洞并用<code class="codeph">0</code>填充<code class="codeph">BLOB</code> ，使用填充字符填充<code class="codeph">CLOB</code> 。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html>