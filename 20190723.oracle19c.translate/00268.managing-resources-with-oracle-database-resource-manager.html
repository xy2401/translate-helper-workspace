<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="Oracle Database Resource Manager (Resource Manager) enables you to manage resource allocation for a database."></meta>
      <meta name="description" content="Oracle Database Resource Manager (Resource Manager) enables you to manage resource allocation for a database."></meta>
      <title>使用Oracle数据库资源管理器管理资源</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Database Administrator’s Guide "></meta>
      <meta property="og:description" content="Oracle Database Resource Manager (Resource Manager) enables you to manage resource allocation for a database."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Database Administrator’s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-administrators-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-03-14T11:02:35-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96348-04"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="managing-automated-database-maintenance-tasks.html" title="Previous" type="text/html"></link>
      <link rel="next" href="oracle-scheduler-concepts.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Administrator&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="ADMIN"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="managing-automated-database-maintenance-tasks.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="oracle-scheduler-concepts.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">数据库管理员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="database-resource-management-and-task-scheduling.html" property="item" typeof="WebPage"><span property="name">数据库资源管理和任务调度</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">使用Oracle数据库资源管理器管理资源</li>
            </ol>
            <a id="GUID-2BEF5482-CF97-4A85-BD90-9195E41E74EF" name="GUID-2BEF5482-CF97-4A85-BD90-9195E41E74EF"></a><a id="ADMIN027"></a>
            
            <h2 id="ADMIN-GUID-2BEF5482-CF97-4A85-BD90-9195E41E74EF" class="sect2"><span class="enumeration_chapter">27</span>使用Oracle Database Resource Manager管理资源</h2>
         </header>
         <div class="ind">
            <div>
               <p>Oracle数据库资源管理器（资源管理器）使您可以管理数据库的资源分配。</p>
               <div class="infoboxnote" id="GUID-2BEF5482-CF97-4A85-BD90-9195E41E74EF__GUID-C2A82FD4-4FD6-41B8-89BC-C43C0748F622">
                  <p class="notep1">注意：</p>
                  <p>本章讨论使用PL / SQL包过程来管理资源管理器。管理资源管理器的更简单方法是使用Oracle企业管理器云控制（云控制）的图形用户界面。有关使用Cloud Control管理Resource Manager的说明，请参阅Cloud Control联机帮助。</p>
                  <p>要将资源管理器与云控制一起使用：</p>
                  <ol>
                     <li>
                        <p>访问数据库主页。</p>
                     </li>
                     <li>
                        <p>从Administration菜单中，选择<span class="bold">Resource Manager</span> 。
                        </p>
                     </li>
                  </ol>
               </div>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-95F635A7-A241-4C11-8E0A-F04BEFD18248">关于Oracle数据库资源管理器</a><br>Oracle数据库资源管理器（资源管理器）使您能够管理数据库中争用系统和数据库资源的多个工作负载。
                  </li>
                  <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-B11A3D18-3D45-4751-85A0-DCC96FAF67B5">将会话分配给资源使用者组</a><br>数据库管理员，用户和应用程序可以使用自动和手动方法将会话分配给资源使用者组。将会话分配给资源使用者组时，Oracle数据库资源管理器（资源管理器）可以管理它的资源分配。
                  </li>
                  <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-4BBE0B17-3B05-49FA-979A-C649A9EE6DD9">资源管理器管理的资源类型</a><br>资源计划指令指定如何将资源分配给资源使用者组或子计划。每个指令可以指定几种不同的方法来将资源分配给其使用者组或子计划。
                  </li>
                  <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-EFC4517C-6C4D-44F8-A652-2266D6FB49EB">创建简单的资源计划</a><br>您可以使用<code class="codeph">CREATE_SIMPLE_PLAN</code>过程快速创建适用于许多情况的简单资源计划。
                  </li>
                  <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-4816CA07-1376-45FD-82D4-F9E332936683">创建复杂的资源计划</a><br>当您的情况需要更复杂的资源计划时，您必须在称为挂起区域的暂存区域中创建计划及其指令和使用者组，然后在将计划存储到数据字典中之前验证计划。
                  </li>
                  <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-E8FABE8D-A781-49BB-B623-98F096DED239">启用Oracle数据库资源管理器和切换计划</a><br>您可以通过设置<code class="codeph">RESOURCE_MANAGER_PLAN</code>初始化参数来启用Oracle数据库资源管理器（资源管理器）。此参数指定顶层计划，标识要用于当前实例的计划。如果未使用此参数指定计划，则不会启用资源管理器。
                  </li>
                  <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-A61AE3F0-75AC-4298-A5E6-D18482FDDA9F">全部放在一起：Oracle数据库资源管理器示例</a><br>示例说明如何使用Resource Manager分配资源。
                  </li>
                  <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-C00DB05B-E597-496B-835F-C9D0FB5EDFFD">在单个服务器上管理多个数据库实例</a><br>Oracle数据库提供了一种在运行多个数据库实例的多CPU服务器上管理CPU分配的方法。此方法称为实例锁定。实例控制和Oracle数据库资源管理器（资源管理器）协同工作，以支持跨多个实例的所需服务级别。
                  </li>
                  <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-86F4CE3C-3B5C-41D6-A50D-E965E13C1408">维护消费者群体，计划和指令</a><br>您可以维护Oracle数据库资源管理器（资源管理器）的使用者组，资源计划和资源计划指令。您使用<code class="codeph">DBMS_RESOURCE_MANAGER</code> PL / SQL包执行维护任务。
                  </li>
                  <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-3BFC030A-3C67-4255-9C3D-F8DAE8889301">查看数据库资源管理器配置和状态</a><br>您可以使用多个静态数据字典视图和动态性能视图来查看Oracle数据库资源管理器（资源管理器）的当前配置和状态。
                  </li>
                  <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-9CF57A7E-CCE3-4F80-9E21-29AF9B2283F0">监视Oracle数据库资源管理器</a><br>通过一组动态性能视图，您可以监视Oracle数据库资源管理器设置的结果。
                  </li>
                  <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-299C66F7-6FDF-4C37-9334-8EB2C87D0AEC">与操作系统资源控制交互</a><br>许多操作系统提供资源管理工具。这些工具通常在其名称中包含“工作负载管理器”或“资源管理器”，旨在允许多个应用程序使用管理员定义的策略共享单个服务器的资源。示例包括Hewlett Packard的Process Resource Manager或Solaris Containers，Zones和Resource Pools。
                  </li>
                  <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-9C21E4B3-E708-4A42-8683-12F4434962CC">Oracle数据库资源管理器参考</a><br>资源管理器包括预定义的资源计划，使用者组和使用者组映射规则。您可以查询数据字典视图，以获取有关Resource Manager配置的信息。
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>父主题：</strong> <a href="database-resource-management-and-task-scheduling.html#GUID-50F0AB88-007D-4A11-BCBC-78AE0367F8FD" title="您可以管理自动数据库维护任务，数据库资源和任务计划。">数据库资源管理和任务调度</a></p>
                  </div>
               </div>
            </div>
            <a id="ADMIN11841"></a><div class="props_rev_3"><a id="GUID-95F635A7-A241-4C11-8E0A-F04BEFD18248" name="GUID-95F635A7-A241-4C11-8E0A-F04BEFD18248"></a><h3 id="ADMIN-GUID-95F635A7-A241-4C11-8E0A-F04BEFD18248" class="sect3"><span class="enumeration_section">27.1</span>关于Oracle数据库资源管理器</h3>
               <p>Oracle数据库资源管理器（资源管理器）使您能够管理数据库中争用系统和数据库资源的多个工作负载。</p>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-040A4CC4-B8B3-40F8-9984-FA79D46521BB">资源管理器为工作负载管理提供哪些解决方案？</a><br>资源管理器允许数据库更好地控制硬件资源的分配方式。
                     </li>
                     <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-04B4805A-A3B4-4B1E-B42D-01BAB4D4ECB4">资源管理器的要素</a><br>资源管理器包含您可以管理的几个元素。
                     </li>
                     <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-1A627E9A-0138-4DA8-B2E3-E98D3C4AA65D">关于资源管理器管理权限</a><br>您必须具有管理资源管理器所需的权限。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-2BEF5482-CF97-4A85-BD90-9195E41E74EF" title="Oracle数据库资源管理器（资源管理器）使您可以管理数据库的资源分配。">使用Oracle数据库资源管理器管理资源</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN11842"></a><div class="props_rev_3"><a id="GUID-040A4CC4-B8B3-40F8-9984-FA79D46521BB" name="GUID-040A4CC4-B8B3-40F8-9984-FA79D46521BB"></a><h4 id="ADMIN-GUID-040A4CC4-B8B3-40F8-9984-FA79D46521BB" class="sect4"><span class="enumeration_section">27.1.1</span>资源管理器为工作负载管理提供哪些解决方案？
                  </h4>
                  <div>
                     <p>资源管理器允许数据库更好地控制硬件资源的分配方式。</p>
                     <p>当数据库资源分配决策留给操作系统时，您可能会遇到以下工作负载管理问题：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>开销过大</p>
                           <p>当服务器进程数量很多时，Oracle数据库服务器进程之间的操作系统上下文切换会导致过多的开销。</p>
                        </li>
                        <li>
                           <p>调度效率低下</p>
                           <p>操作系统在保存锁存器时对数据库服务器进行计划，这是低效的。</p>
                        </li>
                        <li>
                           <p>资源分配不当</p>
                           <p>操作系统在所有活动进程中平均分配资源，并且不能将一个任务优先于另一个任务。</p>
                        </li>
                        <li>
                           <p>无法管理特定于数据库的资源，例如并行执行服务器和活动会话</p>
                        </li>
                     </ul>
                     <p>资源管理器通过允许数据库更好地控制硬件资源的分配方式来帮助克服这些问题。在具有多个并发用户会话的环境中，这些会话运行具有不同优先级的作业，因此不应平等对待所有会话。资源管理器使您能够根据会话属性将会话分组，然后以优化应用程序环境的硬件利用率的方式将资源分配给这些组。</p>
                     <p>使用资源管理器，您可以：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>无论系统负载和用户数量如何，都要保证某些会话的CPU数量最少。</p>
                        </li>
                        <li>
                           <p>通过将CPU时间百分比分配给不同的用户和应用程序来分配可用的CPU。在数据仓库中，可以为ROLAP（关系在线分析处理）应用程序提供比批处理作业更高的百分比。</p>
                        </li>
                        <li>
                           <p>限制一组用户成员执行的任何操作的并行度。</p>
                        </li>
                        <li>
                           <p>管理并行语句队列中并行语句的顺序。来自关键应用程序的并行语句可以在来自低优先级用户组的并行语句之前排队。</p>
                        </li>
                        <li>
                           <p>限制一组用户可以使用的并行执行服务器的数量。这可确保所有可用的并行执行服务器不会仅分配给一组用户。</p>
                        </li>
                        <li>
                           <p>创建活动会话池。<span class="italic">活动会话池</span>由允许在一组用户中同时活动的指定最大数量的用户会话组成。超出最大值的其他会话将排队等待执行，但您可以指定超时期限，之后排队的作业将终止。活动会话池限制了主动竞争资源的会话总数，从而使活动会话能够更快地进行。
                           </p>
                        </li>
                        <li>
                           <p>监控资源</p>
                           <p>自动记录有关资源使用情况的统计信您可以使用实时SQL监视和Resource Manager动态性能视图（ <code class="codeph">V$RSRC_*</code>视图）来检查这些统计信息。有关使用实时SQL监视和Resource Manager动态性能视图的信息，请参阅<span class="q">“ <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-9CF57A7E-CCE3-4F80-9E21-29AF9B2283F0" title="通过一组动态性能视图，您可以监视Oracle数据库资源管理器设置的结果。">监视Oracle数据库资源管理器</a> ”</span> 。
                           </p>
                        </li>
                        <li>
                           <p>限制属于一组用户的每个会话使用的PGA内存量。</p>
                        </li>
                        <li>
                           <p>通过以下方式管理失控会话或呼叫：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>通过检测会话或呼叫何时消耗超过指定数量的CPU，物理I / O，逻辑I / O或已用时间，然后自动终止会话或呼叫，或切换到具有较低资源的使用者组分配或限制组可以使用的CPU百分比。由于过度消耗系统资源而终止的SQL语句被<span class="italic">隔离</span> ，也就是说，不允许它们在后续运行期间生成编译错误而再次运行。
                                 </p>
                                 <p>逻辑I / O（也称为缓冲区I / O）是指缓冲区高速缓存中缓冲区的读写。当在内存中找不到请求的缓冲区时，数据库执行物理I / O将缓冲区从磁盘或闪存缓存复制到内存中，然后执行逻辑I / O以读取缓存的缓冲区。</p>
                              </li>
                              <li>
                                 <p>通过记录有关消耗超过指定数量的CPU，物理I / O，逻辑I / O或实时SQL监视所用时间的SQL语句的详细信息。</p>
                              </li>
                              <li>
                                 <p>通过使用自动工作负载存储库（AWR）来分析消耗超过指定数量的CPU，物理I / O，逻辑I / O或已用时间的SQL语句的持久记录。</p>
                              </li>
                              <li>
                                 <p>通过记录有关失控会话的信息，而不采取与会话相关的任何其他操作。</p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p>阻止执行优化程序估计将运行的操作的时间超过指定限制。</p>
                        </li>
                        <li>
                           <p>限制会话空闲的时间。这可以进一步定义为仅表示阻止其他会话的会话。</p>
                        </li>
                        <li>
                           <p>允许数据库根据不断变化的工作负载要求使用不同的资源计划。您可以动态更改资源计划，例如，从白天资源计划到夜间资源计划，而无需关闭并重新启动实例。您还可以使用Oracle Scheduler计划资源计划更改。有关更多信息，请参阅<a href="oracle-scheduler-concepts.html#GUID-6B8C0335-D36B-44D3-95BC-82FA2141D967" title="您可以使用Oracle Scheduler计划任务。">Oracle Scheduler概念</a> 。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-95F635A7-A241-4C11-8E0A-F04BEFD18248" title="Oracle数据库资源管理器（资源管理器）使您能够管理数据库中争用系统和数据库资源的多个工作负载。">关于Oracle数据库资源管理器</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-04B4805A-A3B4-4B1E-B42D-01BAB4D4ECB4" name="GUID-04B4805A-A3B4-4B1E-B42D-01BAB4D4ECB4"></a><h4 id="ADMIN-GUID-04B4805A-A3B4-4B1E-B42D-01BAB4D4ECB4" class="sect4"><span class="enumeration_section">27.1.2</span>资源管理器的要素</h4>
                  <p>资源管理器包含您可以管理的几个元素。</p>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-0851CEC3-E8FD-48B2-A132-781EBA897CC0">关于资源管理器的元素</a><br>资源管理器的元素包括资源使用者组，资源计划和资源计划指令。
                        </li>
                        <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-CCAD3AA4-9606-4445-A659-286B04F19993">关于资源消费者组</a><br>资源使用者组（使用者组）是根据其处理需求组合在一起的用户会话的集合。
                        </li>
                        <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-81609C3A-1D20-4740-9531-BEACC26F7ABB">关于资源计划指令</a><br>资源管理器根据属于当前活动资源计划的资源计划指令集（指令）将资源分配给使用者组。
                        </li>
                        <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-C3D85280-C0E9-4D6D-8A83-FE9FD74E8315">关于资源计划</a><br>资源计划是指令的容器，用于指定如何将资源分配给资源使用者组。
                        </li>
                        <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-5C8292FD-3819-45EF-BDD0-1EBB9387255E">示例：简单资源计划</a><br>一个例子说明了一个简单的资源计划
                        </li>
                        <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-643C6A11-7721-4D75-AE88-65CF5AFAF6A4">关于Subplans</a><br>资源计划指令（指令）可以引用另一个资源计划，而不是引用使用者组。在这种情况下，该计划被称为子计划。
                        </li>
                        <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-6A6B04CE-6AC0-44C6-81B1-0D1CCFDB64BA">示例：包含子计划的资源计划</a><br>一个示例说明了具有子计划的资源计划。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-95F635A7-A241-4C11-8E0A-F04BEFD18248" title="Oracle数据库资源管理器（资源管理器）使您能够管理数据库中争用系统和数据库资源的多个工作负载。">关于Oracle数据库资源管理器</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADMIN11844"></a><div class="props_rev_3"><a id="GUID-0851CEC3-E8FD-48B2-A132-781EBA897CC0" name="GUID-0851CEC3-E8FD-48B2-A132-781EBA897CC0"></a><h5 id="ADMIN-GUID-0851CEC3-E8FD-48B2-A132-781EBA897CC0" class="sect5"><span class="enumeration_section">27.1.2.1</span>关于资源管理器的元素</h5>
                     <div>
                        <p>资源管理器的元素包括资源使用者组，资源计划和资源计划指令。</p>
                        <div class="tblformal" id="GUID-0851CEC3-E8FD-48B2-A132-781EBA897CC0__GUID-56087E65-7BDF-4D3B-BD78-C7A1F82E29CD">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Column 1 lists the elements of database resource management, column 2 describes each element." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d241756e516">元件</th>
                                    <th align="left" valign="bottom" width="76%" id="d241756e519">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d241756e524" headers="d241756e516 ">
                                       <p>资源消费者群体</p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d241756e524 d241756e519 ">
                                       <p>根据资源要求组合在一起的一组会话。资源管理器将资源分配给资源使用者组，而不是单个会话。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d241756e531" headers="d241756e516 ">
                                       <p>资源计划</p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d241756e531 d241756e519 ">
                                       <p>指令的容器，用于指定如何将资源分配给资源使用者组。您可以通过激活特定资源计划来指定数据库如何分配资源。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d241756e538" headers="d241756e516 ">
                                       <p>资源计划指令</p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d241756e538 d241756e519 ">
                                       <p>将资源使用者组与特定计划相关联，并指定如何将资源分配给该资源使用者组。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>您使用<code class="codeph">DBMS_RESOURCE_MANAGER</code> PL / SQL包来创建和维护这些元素。元素存储在数据字典中的表中。您可以使用数据字典视图查看有关它们的信息。
                        </p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-0851CEC3-E8FD-48B2-A132-781EBA897CC0__GUID-817AC9D3-9D3D-46C9-A0B2-FE4297BD2E2C">
                           <p class="notep1">也可以看看：</p>
                           <p><span class="q">“ <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-C253E1D1-513A-4F52-A619-325B1B33D8C0" title="您可以查询一组数据字典视图，以获取与数据库资源管理相关的信息。">资源管理器数据字典视图</a> ”</span></p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-04B4805A-A3B4-4B1E-B42D-01BAB4D4ECB4" title="资源管理器包含您可以管理的几个元素。">资源管理器的元素</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11845"></a><div class="props_rev_3"><a id="GUID-CCAD3AA4-9606-4445-A659-286B04F19993" name="GUID-CCAD3AA4-9606-4445-A659-286B04F19993"></a><h5 id="ADMIN-GUID-CCAD3AA4-9606-4445-A659-286B04F19993" class="sect5"><span class="enumeration_section">27.1.2.2</span>关于资源消费者组</h5>
                     <div>
                        <p>资源使用者组（使用者组）是根据其处理需求组合在一起的用户会话的集合。</p>
                        <p>创建会话时，会根据您设置的映射规则将其自动映射到使用者组。作为数据库管理员（DBA），您可以手动将会话切换到其他使用者组。同样，应用程序可以运行PL / SQL程序包过程，将其会话切换到特定的使用者组。</p>
                        <p>由于资源管理器仅将资源（例如CPU）分配给使用者组，因此当会话成为使用者组的成员时，其资源分配由使用者组的分配确定。</p>
                        <p>数据字典中始终存在特殊的使用者组。它们无法修改或删除。他们是：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">SYS_GROUP</code></p>
                              <p>这是用户帐户<code class="codeph">SYS</code>或<code class="codeph">SYSTEM</code>创建的所有会话的初始使用者组。会话到使用者组映射规则可以覆盖此初始使用者组。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">OTHER_GROUPS</code> 
                              </p>
                              <p>此使用者组包含尚未分配给使用者组的所有会话。每个资源计划都必须包含指向<code class="codeph">OTHER_GROUPS</code>的指令。</p>
                           </li>
                        </ul>
                        <p>任何活动计划中的资源消费者群组不得超过28个。</p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-CCAD3AA4-9606-4445-A659-286B04F19993__GUID-D68FD3FB-6281-461D-A50C-1D16B0A3CFB1">
                           <p class="notep1">也可以看看：</p>
                           <p></p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-9EAAC00F-008D-4F2D-B764-BF1D01F0CDD4__CHDJAJHE" title="该表有两列：Resource Consumer Group和Description。">表27-6</a></p>
                              </li>
                              <li>
                                 <p><span class="q">“ <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-5AA9FBC6-3C11-4DA5-B9EE-C98CC2553042" title="您可以创建会话到使用者组映射规则并确定其优先级。">指定会话到消费者组映射规则</a> ”</span></p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-04B4805A-A3B4-4B1E-B42D-01BAB4D4ECB4" title="资源管理器包含您可以管理的几个元素。">资源管理器的元素</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11846"></a><div class="props_rev_3"><a id="GUID-81609C3A-1D20-4740-9531-BEACC26F7ABB" name="GUID-81609C3A-1D20-4740-9531-BEACC26F7ABB"></a><h5 id="ADMIN-GUID-81609C3A-1D20-4740-9531-BEACC26F7ABB" class="sect5"><span class="enumeration_section">27.1.2.3</span>关于资源计划指令</h5>
                     <div>
                        <p>资源管理器根据属于当前活动资源计划的资源计划指令集（指令）将资源分配给使用者组。</p>
                        <p>资源计划与其资源计划指令之间存在父子关系。每个指令引用一个使用者组，当前活动计划的两个指令不能引用同一个使用者组。</p>
                        <p>指令有几种方法可以限制消费者组的资源分配。例如，它可以控制使用者组获得的CPU占总CPU的百分比，并且可以限制在使用者组中可以处于活动状态的会话总数。有关详细信息，请参阅<span class="q">“ <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-4BBE0B17-3B05-49FA-979A-C649A9EE6DD9" title="资源计划指令指定如何将资源分配给资源使用者组或子计划。每个指令可以指定几种不同的方法来将资源分配给其使用者组或子计划。">资源管理器管理的资源类型</a> ”</span> 。
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-04B4805A-A3B4-4B1E-B42D-01BAB4D4ECB4" title="资源管理器包含您可以管理的几个元素。">资源管理器的元素</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11847"></a><div class="props_rev_3"><a id="GUID-C3D85280-C0E9-4D6D-8A83-FE9FD74E8315" name="GUID-C3D85280-C0E9-4D6D-8A83-FE9FD74E8315"></a><h5 id="ADMIN-GUID-C3D85280-C0E9-4D6D-8A83-FE9FD74E8315" class="sect5"><span class="enumeration_section">27.1.2.4</span>关于资源计划</h5>
                     <div>
                        <p>资源计划是指令的容器，用于指定如何将资源分配给资源使用者组。</p>
                        <p>除了为每个Oracle数据库预定义的资源计划外，您还可以创建任意数量的资源计划。但是，一次只有一个资源计划处于活动状态。当资源计划处于活动状态时，其每个子资源计划指令都会控制不同使用者组的资源分配。每个计划都必须包含一个指令，该指令将资源分配给名为<code class="codeph">OTHER_GROUPS</code>的使用者组。 <code class="codeph">OTHER_GROUPS</code>适用于属于不属于当前活动计划的使用者组的所有会话。
                        </p>
                        <div class="infoboxnote" id="GUID-C3D85280-C0E9-4D6D-8A83-FE9FD74E8315__GUID-2E3FEDE2-6714-4861-8DCD-A01D03DD7BDA">
                           <p class="notep1">注意：</p>
                           <p>虽然术语“资源计划”（或仅“计划”）表示资源管理器的一个元素，但在本章中它还用于指代完整的<span class="italic">资源计划模式</span> ，其中包括资源计划元素本身及其资源计划指令。 ，以及指令引用的消费者群体。例如，当本章引用<code class="codeph">DAYTIME</code>资源计划时，它可能意味着名为<code class="codeph">DAYTIME</code>的资源计划元素，或<code class="codeph">DAYTIME</code>资源计划及其指令定义的特定资源分配模式。因此，为简洁起见，可以接受的是，“ <code class="codeph">DAYTIME</code>计划有利于交互式应用程序而不是批量应用程序。”</p>
                        </div>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-04B4805A-A3B4-4B1E-B42D-01BAB4D4ECB4" title="资源管理器包含您可以管理的几个元素。">资源管理器的元素</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN13073"></a><a id="ADMIN11848"></a><div class="props_rev_3"><a id="GUID-5C8292FD-3819-45EF-BDD0-1EBB9387255E" name="GUID-5C8292FD-3819-45EF-BDD0-1EBB9387255E"></a><h5 id="ADMIN-GUID-5C8292FD-3819-45EF-BDD0-1EBB9387255E" class="sect5"><span class="enumeration_section">27.1.2.5</span>示例：简单的资源计划</h5>
                     <div>
                        <p>一个例子说明了一个简单的资源计划</p>
                        <p><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-5C8292FD-3819-45EF-BDD0-1EBB9387255E__i1007657">图27-1</a>显示了在白天同时运行联机事务处理（OLTP）应用程序和报告应用程序的组织的简单资源计划。当前活动的计划<code class="codeph">DAYTIME</code>在三个资源使用者组之间分配CPU资源。具体来说， <code class="codeph">OLTP</code>分配75％的CPU时间， <code class="codeph">REPORTS</code>分配15％， <code class="codeph">OTHER_GROUPS</code>分配剩余的10％。如果没有资源争用，任何组都可以使用比保证更多的资源。例如， <code class="codeph">OLTP</code>保证75％的CPU，但如果没有资源争用，它可以使用高达100％的CPU。</p>
                        <div class="figure" id="GUID-5C8292FD-3819-45EF-BDD0-1EBB9387255E__i1007657">
                           <p class="titleinfigure">图27-1简单资源计划</p><img src="img/admin078.gif" width="343" alt="下面是图27-1的描述" title="下面是图27-1的描述" longdesc="img_text/admin078.html"><br><a href="img_text/admin078.html">“图27-1简单资源计划”的描述</a></div>
                        <!-- class="figure" -->
                        <p>Oracle数据库提供了一个过程（ <code class="codeph">CREATE_SIMPLE_PLAN</code> ），使您可以快速创建简单的资源计划。<span class="q">“ <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-EFC4517C-6C4D-44F8-A652-2266D6FB49EB" title="您可以使用CREATE_SIMPLE_PLAN过程快速创建适用于许多情况的简单资源计划。">创建简单资源计划</a> ”中</span>讨论了此过程。
                        </p>
                        <div class="infoboxnote" id="GUID-5C8292FD-3819-45EF-BDD0-1EBB9387255E__GUID-75056E33-81FE-4F9B-8FD2-752EE19F4EB4">
                           <p class="notep1">注意：</p>
                           <p>在CPU使用率为100％之前，当前活动的资源计划不会强制执行分配。如果CPU使用率低于100％，则数据库不受CPU限制，因此无需强制执行分配以确保所有会话都获得其指定的资源分配。</p>
                           <p>此外，在强制执行分配时，任何使用者组的未使用分配都可以由其他使用者组使用。在前面的示例中，如果<code class="codeph">OLTP</code>组未使用其所有分配，则资源管理器允许<code class="codeph">REPORTS</code>组或<code class="codeph">OTHER_GROUPS</code>组使用未使用的分配。
                           </p>
                        </div>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-04B4805A-A3B4-4B1E-B42D-01BAB4D4ECB4" title="资源管理器包含您可以管理的几个元素。">资源管理器的元素</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11849"></a><div class="props_rev_3"><a id="GUID-643C6A11-7721-4D75-AE88-65CF5AFAF6A4" name="GUID-643C6A11-7721-4D75-AE88-65CF5AFAF6A4"></a><h5 id="ADMIN-GUID-643C6A11-7721-4D75-AE88-65CF5AFAF6A4" class="sect5"><span class="enumeration_section">27.1.2.6</span>关于子计划</h5>
                     <div>
                        <p>资源计划指令（指令）可以引用另一个资源计划，而不是引用使用者组。在这种情况下，该计划被称为子计划。</p>
                        <p>子计划本身具有将资源分配给消费者组和其他子计划的指令。然后资源分配方案如下： <span class="italic">最高</span>资源计划（当前活动计划）在消费者组和子计划之间划分资源。每个子计划在其消费者组和子计划中分配其总资源分配的一部分。您可以使用任意数量的子计划创建分层计划。
                        </p>
                        <p>您可以使用与创建资源计划相同的方式创建资源子计划。要创建仅用作子计划的计划，请使用程序包过程<code class="codeph">DBMS_RESOURCE_MANAGER.CREATE_PLAN</code>的<code class="codeph">SUB_PLAN</code>参数。</p>
                        <p>在任何顶级计划中，您只能引用一次子计划。子计划不需要具有<code class="codeph">OTHER_GROUPS</code>的指令，也不能设置为资源计划。
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-04B4805A-A3B4-4B1E-B42D-01BAB4D4ECB4" title="资源管理器包含您可以管理的几个元素。">资源管理器的元素</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN13074"></a><a id="ADMIN11850"></a><div class="props_rev_3"><a id="GUID-6A6B04CE-6AC0-44C6-81B1-0D1CCFDB64BA" name="GUID-6A6B04CE-6AC0-44C6-81B1-0D1CCFDB64BA"></a><h5 id="ADMIN-GUID-6A6B04CE-6AC0-44C6-81B1-0D1CCFDB64BA" class="sect5"><span class="enumeration_section">27.1.2.7</span>示例：包含子计划的资源计划</h5>
                     <div>
                        <p>一个示例说明了具有子计划的资源计划。</p>
                        <p>在此示例中，Great Bread Company分配CPU资源， <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-6A6B04CE-6AC0-44C6-81B1-0D1CCFDB64BA__i1007676">如图27-2</a>所示。该图说明了一个顶级计划<a id="d241756e931" class="indexterm-anchor"></a><a id="d241756e935" class="indexterm-anchor"></a> （ <code class="codeph">GREAT_BREAD</code> ）及其所有后代。为简单起见，忽略包含<code class="codeph">OTHER_GROUPS</code>使用者组的要求，并且不显示资源计划指令，即使它们是计划的一部分。相反，指令分配的CPU百分比显示在计划，子计划和使用者组之间的连接线上。
                        </p>
                        <div class="figure" id="GUID-6A6B04CE-6AC0-44C6-81B1-0D1CCFDB64BA__i1007676">
                           <p class="titleinfigure">图27-2带子计划的资源计划</p><img src="img/admin027.gif" width="365" alt="下面是图27-2的描述" title="下面是图27-2的描述" longdesc="img_text/admin027.html"><br><a href="img_text/admin027.html">“图27-2带子计划的资源计划”的描述</a></div>
                        <!-- class="figure" -->
                        <p><code class="codeph">GREAT_BREAD</code>计划分配资源如下：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>20％的CPU资源给消费者群体<code class="codeph">MARKET</code></p>
                           </li>
                           <li>
                              <p>60％的CPU资源用于子计划<code class="codeph">SALES_TEAM</code> ，后者又在<code class="codeph">WHOLESALE</code>和<code class="codeph">RETAIL</code>消费者群体之间平均分配其份额</p>
                           </li>
                           <li>
                              <p>子计划<code class="codeph">DEVELOP_TEAM</code> 20％CPU资源，后者又在<code class="codeph">BREAD</code>和<code class="codeph">MUFFIN</code>消费者群体之间平均分配资源</p>
                           </li>
                        </ul>
                        <p>子计划或消费者群体可能有多个父母。一个例子是如果<code class="codeph">MARKET</code>组包含在<code class="codeph">SALES_TEAM</code>子计划中。但是，计划不能包含任何循环。例如， <code class="codeph">SALES_TEAM</code>子计划不能具有引用<code class="codeph">GREAT_BREAD</code>计划的指令。
                        </p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-6A6B04CE-6AC0-44C6-81B1-0D1CCFDB64BA__GUID-7B481347-20E8-43F2-9DEE-3EEAC6CBEB9A">
                           <p class="notep1">也可以看看：</p>
                           <p><span class="q">“ <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-A61AE3F0-75AC-4298-A5E6-D18482FDDA9F" title="示例说明如何使用Resource Manager分配资源。">将所有内容放在一起：Oracle数据库资源管理器示例</a> ”</span> ，以获取更复杂的资源计划示例。
                           </p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-04B4805A-A3B4-4B1E-B42D-01BAB4D4ECB4" title="资源管理器包含您可以管理的几个元素。">资源管理器的元素</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="ADMIN11860"></a><div class="props_rev_3"><a id="GUID-1A627E9A-0138-4DA8-B2E3-E98D3C4AA65D" name="GUID-1A627E9A-0138-4DA8-B2E3-E98D3C4AA65D"></a><h4 id="ADMIN-GUID-1A627E9A-0138-4DA8-B2E3-E98D3C4AA65D" class="sect4"><span class="enumeration_section">27.1.3</span>关于资源管理器管理权限</h4>
                  <div>
                     <p>您必须具有管理资源管理器所需的权限。</p>
                     <p>您必须具有系统特权<code class="codeph">ADMINISTER_RESOURCE_MANAGER</code>才能管理资源管理器。此权限（使用<code class="codeph">ADMIN</code>选项）通过<code class="codeph">DBA</code>角色授予数据库管理员。
                     </p>
                     <p>作为资源管理器的管理员，您可以执行<code class="codeph">DBMS_RESOURCE_MANAGER</code> PL / SQL包中的所有过程。
                     </p>
                     <p>作为<code class="codeph">ADMIN</code>选项的管理员，您可以选择将管理权限授予其他用户或角色。为此，请使用<code class="codeph">DBMS_RESOURCE_MANAGER_PRIVS</code> PL / SQL包。相关的包装程序列于下表中。
                     </p>
                     <div class="tblformal" id="GUID-1A627E9A-0138-4DA8-B2E3-E98D3C4AA65D__GUID-7DBA2F7A-276C-433A-B6EB-63B056588835">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Column 1 lists the procedures of the DBMS_RESOURCE_MANAGER_PRIVS package, column 2 describes the function of each procedure." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="40%" id="d241756e1113">程序</th>
                                 <th align="left" valign="bottom" width="60%" id="d241756e1116">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="40%" id="d241756e1121" headers="d241756e1113 ">
                                    <p><code class="codeph">GRANT_SYSTEM_PRIVILEGE</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="60%" headers="d241756e1121 d241756e1116 ">
                                    <p>将<code class="codeph">ADMINISTER_RESOURCE_MANAGER</code>系统特权授予用户或角色。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="40%" id="d241756e1133" headers="d241756e1113 ">
                                    <p><code class="codeph">REVOKE_SYSTEM_PRIVILEGE</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="60%" headers="d241756e1133 d241756e1116 ">
                                    <p>从用户或角色撤消<code class="codeph">ADMINISTER_RESOURCE_MANAGER</code>系统特权。
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>以下PL / SQL块将管理权限授予用户<code class="codeph">HR</code> ，但不授予<code class="codeph">HR</code> <code class="codeph">ADMIN</code>选项。因此， <code class="codeph">HR</code>可以执行<code class="codeph">DBMS_RESOURCE_MANAGER</code>包中的所有<code class="codeph">DBMS_RESOURCE_MANAGER</code> ，但<code class="codeph">HR</code>不能使用<code class="codeph">GRANT_SYSTEM_PRIVILEGE</code>过程将管理权限授予其他人。
                     </p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_RESOURCE_MANAGER_PRIVS.GRANT_SYSTEM_PRIVILEGE（GRANTEE_NAME =&gt;'HR'，PRIVILEGE_NAME =&gt;'ADMINISTER_RESOURCE_MANAGER'，ADMIN_OPTION =&gt; FALSE）;结束; /</pre><p>您可以使用<code class="codeph">REVOKE_SYSTEM_PRVILEGE</code>过程撤消此权限。
                     </p>
                     <div class="infoboxnote" id="GUID-1A627E9A-0138-4DA8-B2E3-E98D3C4AA65D__GUID-2DD32884-3596-4C95-9F36-FB2504025968">
                        <p class="notep1">注意：</p>
                        <p><code class="codeph">ADMINISTER_RESOURCE_MANAGER</code>系统特权只能使用<code class="codeph">DBMS_RESOURCE_MANAGER_PRIVS</code>包授予或撤销。它不能通过SQL <code class="codeph">GRANT</code>或<code class="codeph">REVOKE</code>语句授予或撤消。
                        </p>
                     </div>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-1A627E9A-0138-4DA8-B2E3-E98D3C4AA65D__GUID-8477BE1A-20FF-4498-B739-BBF27008AF14">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="../arpls/DBMS_RESOURCE_MANAGER.html#ARPLS050" target="_blank"><span class="italic">Oracle数据库PL / SQL包和类型参考。</span></a>有关<code class="codeph">DBMS_RESOURCE_MANAGER</code>包的信息</p>
                           </li>
                           <li>
                              <p><a href="../arpls/DBMS_RESOURCE_MANAGER_PRIVS.html#ARPLS051" target="_blank"><span class="italic">Oracle数据库PL / SQL包和类型参考。</span></a>有关<code class="codeph">DBMS_RESOURCE_MANAGER_PRIVS</code>包的信息</p>
                           </li>
                           <li>
                              <p>有关<code class="codeph">ADMIN</code>选项的信息，请<code class="codeph">ADMIN</code> <a href="../dbseg/configuring-privilege-and-role-authorization.html#DBSEG99948" target="_blank"><span class="italic">“Oracle数据库安全性指南</span></a></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-95F635A7-A241-4C11-8E0A-F04BEFD18248" title="Oracle数据库资源管理器（资源管理器）使您能够管理数据库中争用系统和数据库资源的多个工作负载。">关于Oracle数据库资源管理器</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADMIN11873"></a><div class="props_rev_3"><a id="GUID-B11A3D18-3D45-4751-85A0-DCC96FAF67B5" name="GUID-B11A3D18-3D45-4751-85A0-DCC96FAF67B5"></a><h3 id="ADMIN-GUID-B11A3D18-3D45-4751-85A0-DCC96FAF67B5" class="sect3"><span class="enumeration_section">27.2</span>为资源使用者组分配会话</h3>
               <div>
                  <p>数据库管理员，用户和应用程序可以使用自动和手动方法将会话分配给资源使用者组。将会话分配给资源使用者组时，Oracle数据库资源管理器（资源管理器）可以管理它的资源分配。</p>
                  <p></p>
                  <div class="infoboxnote" id="GUID-B11A3D18-3D45-4751-85A0-DCC96FAF67B5__GUID-6FB959A8-E0AE-4547-A176-A8B7C6E1F12D">
                     <p class="notep1">注意：</p>
                     <p>未分配给使用者组的会话将放置在使用者组<code class="codeph">OTHER_GROUPS</code> 。</p>
                  </div>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-CDB21596-5CE3-4202-AC45-452A28AC4E27">将会话分配给资源使用者组的概述</a><br>在启用资源管理器之前，必须指定如何将用户会话分配给资源使用者组。
                     </li>
                     <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-5562D553-06CC-4AA8-85A0-040BAF2D4005">分配初始资源使用者组</a><br>会话的初始使用者组由您配置的映射规则确定。
                     </li>
                     <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-5AA9FBC6-3C11-4DA5-B9EE-C98CC2553042">指定会话到消费者组映射规则</a><br>您可以创建会话到使用者组映射规则并确定其优先级。
                     </li>
                     <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-2A3C2DC0-6619-4CEC-B28E-CB3E3EB5328E">切换资源消费者组</a><br>您可以切换会话的资源使用者组。
                     </li>
                     <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-91AE9EA1-3457-4FCD-BA33-15DB1B658920">指定自动消费者组切换</a><br>您可以将资源管理器配置为在满足特定条件时自动将会话切换到另一个使用者组。
                     </li>
                     <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-754D0522-EBBE-40D5-8247-39278A965653">授予和撤销交换机权限</a><br>用户或应用程序必须具有交换机权限才能将会话切换到指定的资源使用者组。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-2BEF5482-CF97-4A85-BD90-9195E41E74EF" title="Oracle数据库资源管理器（资源管理器）使您可以管理数据库的资源分配。">使用Oracle数据库资源管理器管理资源</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN11874"></a><div class="props_rev_3"><a id="GUID-CDB21596-5CE3-4202-AC45-452A28AC4E27" name="GUID-CDB21596-5CE3-4202-AC45-452A28AC4E27"></a><h4 id="ADMIN-GUID-CDB21596-5CE3-4202-AC45-452A28AC4E27" class="sect4"><span class="enumeration_section">27.2.1</span>为资源使用者组分配会话的概述</h4>
                  <div>
                     <p>在启用资源管理器之前，必须指定如何将用户会话分配给资源使用者组。</p>
                     <p>您可以通过创建<span class="italic">映射规则</span>来实现此目的，该<span class="italic">规则</span>使资源管理器能够在会话启动时根据会话属性自动将每个会话分配给使用者组。将会话分配给其初始使用者组并且正在运行之后，您可以调用过程以手动将会话切换到其他使用者组。如果会话使用过多的资源，则通常会执行此操作，并且必须将其移动到资源分配更受限制的使用者组。您还可以向用户和应用程序授予<span class="italic">切换权限</span> ，以便他们可以将会话从一个使用者组切换到另一个使用者组。
                     </p>
                     <p>当会话属性发生更改或会话超出指定的资源消耗限制时，数据库还可以自动将会话从一个使用者组切换到另一个（通常是较低优先级）使用者组。</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-B11A3D18-3D45-4751-85A0-DCC96FAF67B5" title="数据库管理员，用户和应用程序可以使用自动和手动方法将会话分配给资源使用者组。将会话分配给资源使用者组时，Oracle数据库资源管理器（资源管理器）可以管理它的资源分配。">将会话分配给资源使用者组</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11875"></a><div class="props_rev_3"><a id="GUID-5562D553-06CC-4AA8-85A0-040BAF2D4005" name="GUID-5562D553-06CC-4AA8-85A0-040BAF2D4005"></a><h4 id="ADMIN-GUID-5562D553-06CC-4AA8-85A0-040BAF2D4005" class="sect4"><span class="enumeration_section">27.2.2</span>分配初始资源消费者组</h4>
                  <div>
                     <p>会话的初始使用者组由您配置的映射规则确定。</p>
                     <p>有关如何配置映射规则的信息，请参阅<span class="q">“ <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-5AA9FBC6-3C11-4DA5-B9EE-C98CC2553042" title="您可以创建会话到使用者组映射规则并确定其优先级。">指定会话到使用者组映射规则</a> ”</span> 。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-B11A3D18-3D45-4751-85A0-DCC96FAF67B5" title="数据库管理员，用户和应用程序可以使用自动和手动方法将会话分配给资源使用者组。将会话分配给资源使用者组时，Oracle数据库资源管理器（资源管理器）可以管理它的资源分配。">将会话分配给资源使用者组</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11882"></a><div class="props_rev_3"><a id="GUID-5AA9FBC6-3C11-4DA5-B9EE-C98CC2553042" name="GUID-5AA9FBC6-3C11-4DA5-B9EE-C98CC2553042"></a><h4 id="ADMIN-GUID-5AA9FBC6-3C11-4DA5-B9EE-C98CC2553042" class="sect4"><span class="enumeration_section">27.2.3</span>指定会话到消费者组映射规则</h4>
                  <p>您可以创建会话到使用者组映射规则并确定其优先级。</p>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-97B6E140-A204-495F-B826-6F0784150786">关于会话到消费者组映射规则</a><br>您可以为会话指定初始使用者组，并在会话属性更改时将会话动态切换到其他使用者组。
                        </li>
                        <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-1D62EF37-F2E2-4595-BA47-DECDE899E62E">创建使用者组映射规则</a><br>您使用<code class="codeph">SET_CONSUMER_GROUP_MAPPING</code>过程将会话属性/值对映射到使用者组。
                        </li>
                        <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-D86D68E2-CC5A-4846-AB5B-1C326A7794E5">修改和删除使用者组映射规则</a><br>要修改使用者组映射规则，请针对所需的属性/值对运行<code class="codeph">SET_CONSUMER_GROUP_MAPPING</code>过程，并指定新的使用者组。
                        </li>
                        <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-38701F35-5B52-475F-9C41-09DA5079AA4D">创建映射规则优先级</a><br>要解决冲突的映射规则，您可以建立会话属性的优先级顺序，从最重要到最不重要。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-B11A3D18-3D45-4751-85A0-DCC96FAF67B5" title="数据库管理员，用户和应用程序可以使用自动和手动方法将会话分配给资源使用者组。将会话分配给资源使用者组时，Oracle数据库资源管理器（资源管理器）可以管理它的资源分配。">将会话分配给资源使用者组</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADMIN13325"></a><a id="ADMIN11883"></a><div class="props_rev_3"><a id="GUID-97B6E140-A204-495F-B826-6F0784150786" name="GUID-97B6E140-A204-495F-B826-6F0784150786"></a><h5 id="ADMIN-GUID-97B6E140-A204-495F-B826-6F0784150786" class="sect5"><span class="enumeration_section">27.2.3.1</span>关于会话到消费者组映射规则</h5>
                     <div>
                        <p>您可以为会话指定初始使用者组，并在会话属性更改时将会话动态切换到其他使用者组。</p>
                        <p>通过创建会话到使用者组映射规则，您可以：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>根据会话属性指定会话的初始使用者组。</p>
                           </li>
                           <li>
                              <p>使资源管理器能够根据更改的会话属性动态地将正在运行的会话切换到另一个使用者组。</p>
                           </li>
                        </ul>
                        <p>映射规则基于会话属性，例如用户名，会话用于连接到数据库的服务或客户端程序的名称。</p>
                        <p>要解决映射规则之间的冲突，资源管理器按优先级排序规则。例如，假设用户<code class="codeph">SCOTT</code>使用<code class="codeph">SALES</code>服务连接到数据库。如果一个映射规则规定，用户<code class="codeph">SCOTT</code>开始在<code class="codeph">MED_PRIORITY</code>消费群，并与该连接会话的另一个国家<code class="codeph">SALES</code>的服务开始<code class="codeph">HIGH_PRIORITY</code>消费群，映射规则优先解决这一冲突。
                        </p>
                        <p>映射规则基于两种类型的会话属性：登录属性和运行时属性。仅当会话登录时，资源管理器确定会话的初始使用者组时，登录属性才有意义。在会话登录期间和之后的任何时间都应用运行时属性。您可以通过更改其任何运行时属性将登录的会话重新分配给另一个使用者组。</p>
                        <p>您可以使用<code class="codeph">SET_CONSUMER_GROUP_MAPPING</code>和<code class="codeph">SET_CONSUMER_GROUP_MAPPING_PRI</code>过程来配置自动分配到使用者组的会话。您必须使用待处理区域来执行这些过程。（您必须创建挂起区域，运行过程，可选地验证挂起区域，然后提交挂起区域。有关使用待处理区域的示例，请参阅<span class="q">“ <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-4816CA07-1376-45FD-82D4-F9E332936683" title="当您的情况需要更复杂的资源计划时，您必须在称为挂起区域的暂存区域中创建计划及其指令和使用者组，然后在将计划存储到数据字典中之前验证计划。">创建复杂资源计划</a> ”</span> 。）
                        </p>
                        <p>会话通过不同时间点的映射规则自动切换到使用者组：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>会话首次登录时，将评估映射规则以确定会话的初始组。</p>
                           </li>
                           <li>
                              <p>如果会话属性动态更改为新值（仅适用于运行时属性），则会重新评估映射规则，并且会话可能会切换到另一个使用者组。</p>
                           </li>
                        </ul>
                        <div class="section">
                           <p class="subhead3" id="GUID-97B6E140-A204-495F-B826-6F0784150786__GUID-C724504C-D54F-4E90-A177-202D7EF06615">预定义的使用者组映射规则</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>每个Oracle数据库都附带一组预定义的使用者组映射规则：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>如<span class="q">“ <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-CCAD3AA4-9606-4445-A659-286B04F19993" title="资源使用者组（使用者组）是根据其处理需求组合在一起的用户会话的集合。">关于资源使用者组</a> ”中所述</span> ，用户帐户<code class="codeph">SYS</code>或<code class="codeph">SYSTEM</code>创建的所有会话最初都映射到<code class="codeph">SYS_GROUP</code>使用者组。
                                 </p>
                              </li>
                              <li>
                                 <p>使用Data Pump执行数据加载或使用RMAN执行备份或复制操作的会话将自动映射到<a href="managing-resources-with-oracle-database-resource-manager.html#GUID-AC101C05-DD43-445C-85F7-0A04DCBC2EE0__CHDHJCHG" title="此表包含3列：Rule，Mapped Consumer Group和Notes。5行描述了5种不同的预定义映射规则及其映射的使用者组。">表27-7中</a>指定的预定义使用者组。
                                 </p>
                              </li>
                           </ul>
                           <p>您可以使用<code class="codeph">DBMS_RESOURCE_MANAGER</code> 。 <code class="codeph">SET_CONSUMER_GROUP_MAPPING</code>过程，用于修改或删除任何这些预定义的映射规则。
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-97B6E140-A204-495F-B826-6F0784150786__GUID-2738FEF5-55A9-41B5-BAB0-AD607D6EDDC9">
                           <p class="notep1">也可以看看：</p>
                           <p></p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="q">“ <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-5562D553-06CC-4AA8-85A0-040BAF2D4005" title="会话的初始使用者组由您配置的映射规则确定。">分配初始资源消费者组</a> ”</span></p>
                              </li>
                              <li>
                                 <p><span class="q">“ <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-8376660A-4B6A-484E-9F90-60D200154385" title="如果会话属性在会话运行时发生更改，则会重新评估会话到使用者组映射规则。如果新规则生效，则会话可能会移动到其他使用者组。">使用映射规则指定自动切换</a> ”</span></p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-5AA9FBC6-3C11-4DA5-B9EE-C98CC2553042" title="您可以创建会话到使用者组映射规则并确定其优先级。">指定会话到使用者组映射规则</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11884"></a><div class="props_rev_3"><a id="GUID-1D62EF37-F2E2-4595-BA47-DECDE899E62E" name="GUID-1D62EF37-F2E2-4595-BA47-DECDE899E62E"></a><h5 id="ADMIN-GUID-1D62EF37-F2E2-4595-BA47-DECDE899E62E" class="sect5"><span class="enumeration_section">27.2.3.2</span>创建使用者组映射规则</h5>
                     <div>
                        <p>您使用<code class="codeph">SET_CONSUMER_GROUP_MAPPING</code>过程将会话属性/值对映射到使用者组。
                        </p>
                        <div class="section">
                           <p>此过程的参数如下：</p>
                           <div class="tblformal" id="GUID-1D62EF37-F2E2-4595-BA47-DECDE899E62E__GUID-3CD57A09-07BB-4BFC-B519-4472034DC7FA">
                              <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Column 1 lists the parameters used with the consumer group mapping procedure, column 2 explains their usage." frame="hsides" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="28%" id="d241756e1690">参数</th>
                                       <th align="left" valign="bottom" width="72%" id="d241756e1693">描述</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="28%" id="d241756e1698" headers="d241756e1690 ">
                                          <p><code class="codeph">属性</code> 
                                          </p>
                                       </td>
                                       <td align="left" valign="top" width="72%" headers="d241756e1698 d241756e1693 ">
                                          <p>会话属性类型，指定为包常量</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="28%" id="d241756e1707" headers="d241756e1690 ">
                                          <p><code class="codeph">值</code> 
                                          </p>
                                       </td>
                                       <td align="left" valign="top" width="72%" headers="d241756e1707 d241756e1693 ">
                                          <p>属性的值</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="28%" id="d241756e1716" headers="d241756e1690 ">
                                          <p><code class="codeph">CONSUMER_GROUP</code> 
                                          </p>
                                       </td>
                                       <td align="left" valign="top" width="72%" headers="d241756e1716 d241756e1693 ">
                                          <p>要映射到此属性/值对的使用者组</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                           <p><code class="codeph">ATTRIBUTE</code>可以是以下之一：</p>
                           <div class="tblformal" id="GUID-1D62EF37-F2E2-4595-BA47-DECDE899E62E__GUID-E77DDA84-B686-498D-89F1-CF33E2AC6B9D">
                              <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Column 1 lists the attributes values that can be set with the ATTRIBUTE parameter of the SET_CONSUMER_GROUP_MAPPING procedure. Column 2 lists the type of the attribute, and column 3 describes its purpose." frame="hsides" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" id="d241756e1737">属性</th>
                                       <th align="left" valign="bottom" id="d241756e1740">类型</th>
                                       <th align="left" valign="bottom" id="d241756e1743">描述</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" id="d241756e1748" headers="d241756e1737 ">
                                          <p><code class="codeph">ORACLE_USER</code> 
                                          </p>
                                       </td>
                                       <td align="left" valign="top" headers="d241756e1748 d241756e1740 ">
                                          <p>登录</p>
                                       </td>
                                       <td align="left" valign="top" headers="d241756e1748 d241756e1743 ">
                                          <p>Oracle数据库用户名</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" id="d241756e1760" headers="d241756e1737 ">
                                          <p><code class="codeph">服务名称</code> 
                                          </p>
                                       </td>
                                       <td align="left" valign="top" headers="d241756e1760 d241756e1740 ">
                                          <p>登录</p>
                                       </td>
                                       <td align="left" valign="top" headers="d241756e1760 d241756e1743 ">
                                          <p>客户端用于建立连接的数据库服务名称</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" id="d241756e1772" headers="d241756e1737 ">
                                          <p><code class="codeph">CLIENT_OS_USER</code> 
                                          </p>
                                       </td>
                                       <td align="left" valign="top" headers="d241756e1772 d241756e1740 ">
                                          <p>登录</p>
                                       </td>
                                       <td align="left" valign="top" headers="d241756e1772 d241756e1743 ">
                                          <p>登录的客户端的操作系统用户名</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" id="d241756e1784" headers="d241756e1737 ">
                                          <p><code class="codeph">CLIENT_PROGRAM</code> 
                                          </p>
                                       </td>
                                       <td align="left" valign="top" headers="d241756e1784 d241756e1740 ">
                                          <p>登录</p>
                                       </td>
                                       <td align="left" valign="top" headers="d241756e1784 d241756e1743 ">
                                          <p>用于登录服务器的客户端程序的名称</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" id="d241756e1796" headers="d241756e1737 ">
                                          <p><code class="codeph">CLIENT_MACHINE</code> 
                                          </p>
                                       </td>
                                       <td align="left" valign="top" headers="d241756e1796 d241756e1740 ">
                                          <p>登录</p>
                                       </td>
                                       <td align="left" valign="top" headers="d241756e1796 d241756e1743 ">
                                          <p>客户端进行连接的计算机的名称</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" id="d241756e1808" headers="d241756e1737 ">
                                          <p><code class="codeph">CLIENT_ID</code> 
                                          </p>
                                       </td>
                                       <td align="left" valign="top" headers="d241756e1808 d241756e1740 ">
                                          <p>登录</p>
                                       </td>
                                       <td align="left" valign="top" headers="d241756e1808 d241756e1743 ">
                                          <p>会话的客户端标识符</p>
                                          <p>客户端标识符会话属性由<code class="codeph">DBMS_SESSION.SET_IDENTIFIER</code>过程设置。
                                          </p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" id="d241756e1825" headers="d241756e1737 ">
                                          <p><code class="codeph">MODULE_NAME</code> 
                                          </p>
                                       </td>
                                       <td align="left" valign="top" headers="d241756e1825 d241756e1740 ">
                                          <p>运行</p>
                                       </td>
                                       <td align="left" valign="top" headers="d241756e1825 d241756e1743 ">
                                          <p>当前运行的应用程序中的模块名称，由<code class="codeph">DBMS_APPLICATION_INFO.SET_MODULE</code>过程或等效的OCI属性设置设置</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" id="d241756e1840" headers="d241756e1737 ">
                                          <p><code class="codeph">MODULE_NAME_ACTION</code> 
                                          </p>
                                       </td>
                                       <td align="left" valign="top" headers="d241756e1840 d241756e1740 ">
                                          <p>运行</p>
                                       </td>
                                       <td align="left" valign="top" headers="d241756e1840 d241756e1743 ">
                                          <p>当前模块与正在执行的操作的组合，由以下任一过程或其等效的OCI属性设置设置：</p>
                                          <ul style="list-style-type:disc">
                                             <li>
                                                <p><code class="codeph">DBMS_APPLICATION_INFO.SET_MODULE</code> 
                                                </p>
                                             </li>
                                             <li>
                                                <p><code class="codeph">DBMS_APPLICATION_INFO.SET_ACTION</code> 
                                                </p>
                                             </li>
                                          </ul>
                                          <p>该属性被指定为模块名称，后跟句点（。），后跟操作名称（ <span class="italic"><code class="codeph">module_name.action_name</code></span> ）。
                                          </p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" id="d241756e1869" headers="d241756e1737 ">
                                          <p><code class="codeph">SERVICE_MODULE</code></p>
                                       </td>
                                       <td align="left" valign="top" headers="d241756e1869 d241756e1740 ">
                                          <p>运行</p>
                                       </td>
                                       <td align="left" valign="top" headers="d241756e1869 d241756e1743 ">
                                          <p>此形式的服务和模块名称的组合： <span class="italic"><code class="codeph">service_name.module_name</code></span></p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" id="d241756e1883" headers="d241756e1737 ">
                                          <p><code class="codeph">SERVICE_MODULE_ACTION</code></p>
                                       </td>
                                       <td align="left" valign="top" headers="d241756e1883 d241756e1740 ">
                                          <p>运行</p>
                                       </td>
                                       <td align="left" valign="top" headers="d241756e1883 d241756e1743 ">
                                          <p>服务名称，模块名称和操作名称的组合，格式如下： <span class="italic"><code class="codeph">service_name.module_name.action_name</code></span></p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" id="d241756e1897" headers="d241756e1737 ">
                                          <p><code class="codeph">ORACLE_FUNCTION</code></p>
                                       </td>
                                       <td align="left" valign="top" headers="d241756e1897 d241756e1740 ">
                                          <p>运行</p>
                                       </td>
                                       <td align="left" valign="top" headers="d241756e1897 d241756e1743 ">
                                          <p>RMAN或数据泵操作。有效值为<code class="codeph">DATALOAD</code> ， <code class="codeph">BACKUP</code>和<code class="codeph">COPY</code> 。每个值都有预定义的映射。如果您的会话正在执行任何这些功能，它将自动映射到预定义的使用者组。有关详细信息，请<a href="managing-resources-with-oracle-database-resource-manager.html#GUID-AC101C05-DD43-445C-85F7-0A04DCBC2EE0__CHDHJCHG" title="此表包含3列：Rule，Mapped Consumer Group和Notes。5行描述了5种不同的预定义映射规则及其映射的使用者组。">参见表27-7</a> 。
                                          </p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                           <p>例如，以下PL / SQL块会导致用户<code class="codeph">SCOTT</code>每次登录时都映射到<code class="codeph">DEV_GROUP</code>使用者组：</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_RESOURCE_MANAGER.SET_CONSUMER_GROUP_MAPPING（DBMS_RESOURCE_MANAGER.ORACLE_USER，'SCOTT'，'DEV_GROUP'）;结束; /</pre><p>同样，在运行<code class="codeph">SET_CONSUMER_GROUP_MAPPING</code>过程之前，必须创建一个挂起区域。
                           </p>
                           <p>您可以在<code class="codeph">SET_CONSUMER_GROUP_MAPPING</code>过程的<code class="codeph">value</code>参数中使用通配符作为大多数属性的<code class="codeph">value</code> 。要使用通配符指定值，请使用与SQL <code class="codeph">LIKE</code>运算符相同的语义。具体来说，通配符使用以下语义：</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>多字符通配符的<code class="codeph">%</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">_</code>用于单个字符通配符</p>
                              </li>
                              <li>
                                 <p><code class="codeph">\</code>逃脱通配符</p>
                              </li>
                           </ul>
                           <p>只有在属性为以下之一时才能使用通配符：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">CLIENT_OS_USER</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">CLIENT_PROGRAM</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">CLIENT_MACHINE</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">MODULE_NAME</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">MODULE_NAME_ACTION</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">SERVICE_MODULE</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">SERVICE_MODULE_ACTION</code></p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-5AA9FBC6-3C11-4DA5-B9EE-C98CC2553042" title="您可以创建会话到使用者组映射规则并确定其优先级。">指定会话到使用者组映射规则</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN13326"></a><div class="props_rev_3"><a id="GUID-D86D68E2-CC5A-4846-AB5B-1C326A7794E5" name="GUID-D86D68E2-CC5A-4846-AB5B-1C326A7794E5"></a><h5 id="ADMIN-GUID-D86D68E2-CC5A-4846-AB5B-1C326A7794E5" class="sect5"><span class="enumeration_section">27.2.3.3</span>修改和删除使用者组映射规则</h5>
                     <div>
                        <p>要修改使用者组映射规则，请针对所需的属性/值对运行<code class="codeph">SET_CONSUMER_GROUP_MAPPING</code>过程，并指定新的使用者组。
                        </p>
                        <div class="section">
                           <p>要删除规则，请对所需的属性/值对运行<code class="codeph">SET_CONSUMER_GROUP_MAPPING</code>过程，并指定<code class="codeph">NULL</code>使用者组。
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-5AA9FBC6-3C11-4DA5-B9EE-C98CC2553042" title="您可以创建会话到使用者组映射规则并确定其优先级。">指定会话到使用者组映射规则</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11885"></a><div class="props_rev_3"><a id="GUID-38701F35-5B52-475F-9C41-09DA5079AA4D" name="GUID-38701F35-5B52-475F-9C41-09DA5079AA4D"></a><h5 id="ADMIN-GUID-38701F35-5B52-475F-9C41-09DA5079AA4D" class="sect5"><span class="enumeration_section">27.2.3.4</span>创建映射规则优先级</h5>
                     <div>
                        <p>要解决冲突的映射规则，您可以建立会话属性的优先级顺序，从最重要到最不重要。</p>
                        <div class="section">
                           <p>您可以使用<code class="codeph">SET_CONSUMER_GROUP_MAPPING_PRI</code>过程将每个属性的优先级设置为从1（最重要）到12（最不重要）的唯一整数。以下示例说明了此优先级设置：</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_RESOURCE_MANAGER.SET_CONSUMER_GROUP_MAPPING_PRI（EXPLICIT =&gt; 1，SERVICE_MODULE_ACTION =&gt; 2，SERVICE_MODULE =&gt; 3，MODULE_NAME_ACTION =&gt; 4，MODULE_NAME =&gt; 5，SERVICE_NAME =&gt; 6，ORACLE_USER =&gt; 7，CLIENT_PROGRAM =&gt; 8，CLIENT_OS_USER =&gt; 9， CLIENT_MACHINE =&gt; 10，CLIENT_ID =&gt; 11）;结束; /</pre><p>在此示例中，数据库用户名的优先级设置为7（不太重要），而模块名称的优先级设置为5（更重要）。</p>
                           <div class="infoboxnote" id="GUID-38701F35-5B52-475F-9C41-09DA5079AA4D__GUID-F395DCB5-C7F3-4DEC-A2F0-AAB15F91EA82">
                              <p class="notep1">注意：</p>
                              <p><code class="codeph">SET_CONSUMER_GROUP_MAPPING_PRI</code>要求您将伪属性<code class="codeph">EXPLICIT</code>作为参数包含在内。必须设置为1。它表明显式的用户组交换机具有最高优先级。您使用这些包过程显式切换使用者组，这些过程在<a href="../arpls/DBMS_RESOURCE_MANAGER.html#ARPLS050" target="_blank"><span class="italic">Oracle Database PL / SQL包和类型参考</span></a>中有详细描述：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">DBMS_SESSION.SWITCH_CURRENT_CONSUMER_GROUP</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">DBMS_RESOURCE_MANAGER.SWITCH_CONSUMER_GROUP_FOR_SESS</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">DBMS_RESOURCE_MANAGER.SWITCH_CONSUMER_GROUP_FOR_USER</code></p>
                                 </li>
                              </ul>
                           </div>
                           <p>为了说明映射规则优先级如何工作，继续前面的示例，假设除了用户<code class="codeph">SCOTT</code>到<code class="codeph">DEV_GROUP</code>使用者组的映射之外，还有一个模块名称映射规则如下：</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_RESOURCE_MANAGER.SET_CONSUMER_GROUP_MAPPING（DBMS_RESOURCE_MANAGER.MODULE_NAME，'EOD_REPORTS'，'LOW_PRIORITY'）;结束; /</pre><p>现在，如果用户<code class="codeph">SCOTT</code>会话中的应用程序将其模块名称设置为<code class="codeph">EOD_REPORTS</code> ，则会话将重新分配给<code class="codeph">LOW_PRIORITY</code>使用者组，因为模块名称映射的优先级高于数据库用户映射。
                           </p>
                           <p>您可以查询视图<code class="codeph">DBA_RSRC_MAPPING_PRIORITY</code>以查看会话属性的当前优先级顺序。
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-38701F35-5B52-475F-9C41-09DA5079AA4D__GUID-06A96A1F-8929-4079-AF99-4C2A37ABE386">
                           <p class="notep1">也可以看看：</p>
                           <p></p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>有关使用<code class="codeph">DBMS_APPLICATION_INFO.SET_MODULE</code>过程设置模块名称的信息，请参阅<a href="../arpls/DBMS_APPLICATION_INFO.html#ARPLS003" target="_blank"><span class="italic">Oracle Database PL / SQL包和类型参考</span></a></p>
                              </li>
                              <li>
                                 <p><span class="q">“ <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-5E2D2547-068A-492E-84CD-2BACC25CADA3" title="使用DBMS_RESOURCE_MANAGER_PRIVS PL / SQL包，您可以向用户，角色或PUBLIC授予或撤消交换机权限。切换权限允许用户或应用程序将会话切换到指定的资源使用者组。">授予和撤消交换机权限</a> ”</span></p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-5AA9FBC6-3C11-4DA5-B9EE-C98CC2553042" title="您可以创建会话到使用者组映射规则并确定其优先级。">指定会话到使用者组映射规则</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="ADMIN13773"></a><div class="props_rev_3"><a id="GUID-2A3C2DC0-6619-4CEC-B28E-CB3E3EB5328E" name="GUID-2A3C2DC0-6619-4CEC-B28E-CB3E3EB5328E"></a><h4 id="ADMIN-GUID-2A3C2DC0-6619-4CEC-B28E-CB3E3EB5328E" class="sect4"><span class="enumeration_section">27.2.4</span>切换资源消费者组</h4>
                  <p>您可以切换会话的资源使用者组。</p>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-6929B184-496D-4867-B3C7-AD53CE544D2D">手动切换资源消费者组</a><br>您可以更改正在运行的会话的资源使用者组。
                        </li>
                        <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-9E06197C-E596-4D57-9511-5979966FF42C">允许用户或应用程序手动切换使用者组</a><br>您可以授予用户切换权限，以便他可以使用<code class="codeph">DBMS_SESSION</code>包中的<code class="codeph">SWITCH_CURRENT_CONSUMER_GROUP</code>过程切换其当前使用者组。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-B11A3D18-3D45-4751-85A0-DCC96FAF67B5" title="数据库管理员，用户和应用程序可以使用自动和手动方法将会话分配给资源使用者组。将会话分配给资源使用者组时，Oracle数据库资源管理器（资源管理器）可以管理它的资源分配。">将会话分配给资源使用者组</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="sect4"><a id="GUID-6929B184-496D-4867-B3C7-AD53CE544D2D" name="GUID-6929B184-496D-4867-B3C7-AD53CE544D2D"></a><h5 id="ADMIN-GUID-6929B184-496D-4867-B3C7-AD53CE544D2D" class="sect5"><span class="enumeration_section">27.2.4.1</span>手动切换资源消费者组</h5>
                     <p>您可以更改正在运行的会话的资源使用者组。</p>
                     <div>
                        <ul class="ullinks">
                           <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-A9246764-C06A-4ED9-9D30-BAFF42E06EF0">关于手动切换资源消费者组</a><br><code class="codeph">DBMS_RESOURCE_MANAGER</code> PL / SQL包提供了两个过程，使您可以更改正在运行的会话的资源使用者组。
                           </li>
                           <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-210F6132-4C05-4FD5-8189-00CA842C3493">切换单个会话</a><br><code class="codeph">SWITCH_CONSUMER_GROUP_FOR_SESS</code>过程使指定的会话立即移动到指定的资源使用者组中。实际上，此过程可以提高或降低会话的优先级。
                           </li>
                           <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-9EEB53C6-C394-4091-B876-6A4F4709C3C4">切换用户的所有会话</a><br><code class="codeph">SWITCH_CONSUMER_GROUP_FOR_USER</code>过程更改与指定用户名相关的所有会话的资源使用者组。
                           </li>
                        </ul>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-2A3C2DC0-6619-4CEC-B28E-CB3E3EB5328E" title="您可以切换会话的资源使用者组。">切换资源使用者组</a></p>
                           </div>
                        </div>
                     </div>
                     <a id="ADMIN11876"></a><div class="props_rev_3"><a id="GUID-A9246764-C06A-4ED9-9D30-BAFF42E06EF0" name="GUID-A9246764-C06A-4ED9-9D30-BAFF42E06EF0"></a><h6 id="ADMIN-GUID-A9246764-C06A-4ED9-9D30-BAFF42E06EF0" class="sect6"><span class="enumeration_section">27.2.4.1.1</span>关于手动切换资源消费者组</h6>
                        <div>
                           <p><code class="codeph">DBMS_RESOURCE_MANAGER</code> PL / SQL包提供了两个过程，使您可以更改正在运行的会话的资源使用者组。
                           </p>
                           <p>这两个过程还可以更改与协调程序会话关联的任何并行执行服务器会话的使用者组。这些程序所做的更改仅适用于当前会议;他们并不执着。它们也不会更改用户的初始使用者组。</p>
                           <p>您可以将该用户的使用者组更改为分配较少资源的用户，而不是杀死（终止）使用过多CPU的用户的会话。</p>
                        </div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-6929B184-496D-4867-B3C7-AD53CE544D2D" title="您可以更改正在运行的会话的资源使用者组。">手动切换资源使用者组</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div><a id="ADMIN11877"></a><div class="props_rev_3"><a id="GUID-210F6132-4C05-4FD5-8189-00CA842C3493" name="GUID-210F6132-4C05-4FD5-8189-00CA842C3493"></a><h6 id="ADMIN-GUID-210F6132-4C05-4FD5-8189-00CA842C3493" class="sect6"><span class="enumeration_section">27.2.4.1.2</span>切换单个会话</h6>
                        <div>
                           <p><code class="codeph">SWITCH_CONSUMER_GROUP_FOR_SESS</code>过程使指定的会话立即移动到指定的资源使用者组中。实际上，此过程可以提高或降低会话的优先级。
                           </p>
                           <div class="section">
                              <p>以下PL / SQL块将特定会话切换到新的使用者组。会话标识符（ <code class="codeph">SID</code> ）为17，会话序列号（ <code class="codeph">SERIAL#</code> ）为12345，新的使用者组为<code class="codeph">HIGH_PRIORITY</code>使用者组。
                              </p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_RESOURCE_MANAGER.SWITCH_CONSUMER_GROUP_FOR_SESS（'17'，'12345'，'HIGH_PRIORITY'）;结束; /</pre><p>可以使用<code class="codeph">V$SESSION</code>视图查看会话的<code class="codeph">SID</code> ，会话序列号和当前资源使用者组。
                              </p>
                           </div>
                           <!-- class="section" -->
                        </div>
                        <div>
                           <div class="infoboxnotealso" id="GUID-210F6132-4C05-4FD5-8189-00CA842C3493__GUID-0B5FF442-A506-4B19-B65F-BA3083CDC2CC">
                              <p class="notep1">也可以看看：</p>
                              <p>有关<code class="codeph">V$SESSION</code>视图的详细信息，请<a href="../refrn/V-SESSION.html#REFRN30223" target="_blank"><span class="italic">参见Oracle数据库参考</span></a> 。
                              </p>
                           </div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-6929B184-496D-4867-B3C7-AD53CE544D2D" title="您可以更改正在运行的会话的资源使用者组。">手动切换资源使用者组</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div><a id="ADMIN11878"></a><div class="props_rev_3"><a id="GUID-9EEB53C6-C394-4091-B876-6A4F4709C3C4" name="GUID-9EEB53C6-C394-4091-B876-6A4F4709C3C4"></a><h6 id="ADMIN-GUID-9EEB53C6-C394-4091-B876-6A4F4709C3C4" class="sect6"><span class="enumeration_section">27.2.4.1.3</span>切换用户的所有会话</h6>
                        <div>
                           <p><code class="codeph">SWITCH_CONSUMER_GROUP_FOR_USER</code>过程更改与指定用户名相关的所有会话的资源使用者组。
                           </p>
                           <div class="section">
                              <p>以下PL / SQL块将属于用户<code class="codeph">HR</code>所有会话切换到<code class="codeph">LOW_GROUP</code>使用者组：</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_RESOURCE_MANAGER.SWITCH_CONSUMER_GROUP_FOR_USER（'HR'，'LOW_GROUP'）;结束; /</pre></div>
                           <!-- class="section" -->
                        </div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-6929B184-496D-4867-B3C7-AD53CE544D2D" title="您可以更改正在运行的会话的资源使用者组。">手动切换资源使用者组</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                  </div><a id="ADMIN11886"></a><div class="props_rev_3"><a id="GUID-9E06197C-E596-4D57-9511-5979966FF42C" name="GUID-9E06197C-E596-4D57-9511-5979966FF42C"></a><h5 id="ADMIN-GUID-9E06197C-E596-4D57-9511-5979966FF42C" class="sect5"><span class="enumeration_section">27.2.4.2使</span>用户或应用程序可以手动切换用户组</h5>
                     <div>
                        <p>您可以授予用户切换权限，以便他可以使用<code class="codeph">DBMS_SESSION</code>包中的<code class="codeph">SWITCH_CURRENT_CONSUMER_GROUP</code>过程切换其当前使用者组。
                        </p>
                        <div class="section">
                           <p>用户可以从交互式会话（例如，从SQL * Plus）运行此过程，或者应用程序可以调用此过程来切换其会话，从而有效地动态更改其优先级。</p>
                           <p><code class="codeph">SWITCH_CURRENT_CONSUMER_GROUP</code>过程使用户只能切换到具有切换权限的那些使用者组。如果调用者是另一个过程，则此过程使用户能够切换到该过程的所有者具有切换权限的使用者组。
                           </p>
                           <p>此过程的参数如下：</p>
                           <div class="tblformal" id="GUID-9E06197C-E596-4D57-9511-5979966FF42C__GUID-74DB93CA-AB06-4923-9D10-3CA1A516E8B5">
                              <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Column 1 contains the parameters that can be used for switching consumer groups, column 2 explains the use of each parameter." frame="hsides" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="28%" id="d241756e2527">参数</th>
                                       <th align="left" valign="bottom" width="72%" id="d241756e2530">描述</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="28%" id="d241756e2535" headers="d241756e2527 ">
                                          <p><code class="codeph">NEW_CONSUMER_GROUP</code> 
                                          </p>
                                       </td>
                                       <td align="left" valign="top" width="72%" headers="d241756e2535 d241756e2530 ">
                                          <p>用户正在切换的使用者组。</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="28%" id="d241756e2544" headers="d241756e2527 ">
                                          <p><code class="codeph">OLD_CONSUMER_GROUP</code> 
                                          </p>
                                       </td>
                                       <td align="left" valign="top" width="72%" headers="d241756e2544 d241756e2530 ">
                                          <p>返回用户切换的使用者组的名称。可以用来以后切换回来。</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="28%" id="d241756e2553" headers="d241756e2527 ">
                                          <p><code class="codeph">INITIAL_GROUP_ON_ERROR</code> 
                                          </p>
                                       </td>
                                       <td align="left" valign="top" width="72%" headers="d241756e2553 d241756e2530 ">
                                          <p>如果发生切换错误，则控制行为。</p>
                                          <p>如果为<code class="codeph">TRUE</code> ，则在发生错误时，用户将切换到初始使用者组。
                                          </p>
                                          <p>如果为<code class="codeph">FALSE</code> ，则引发错误。
                                          </p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                           <p>以下SQL * Plus会话说明了切换到新的使用者组。通过打印输出参数<code class="codeph">old_group</code>的值，该示例说明了如何保存旧的使用者组名称。
                           </p><pre class="oac_no_warn" dir="ltr">在DECLARE old_group varchar2（30）上设置serveroutput; BEGIN DBMS_SESSION.SWITCH_CURRENT_CONSUMER_GROUP（'BATCH_GROUP'，old_group，FALSE）; DBMS_OUTPUT.PUT_LINE（'OLD GROUP ='|| old_group）;结束; /</pre><p>输出以下行：</p><pre class="oac_no_warn" dir="ltr">OLD GROUP = OLTP_GROUP</pre><p>请注意，即使调用<code class="codeph">SWITCH_CURRENT_CONSUMER_GROUP</code>过程将会话切换到已在<code class="codeph">SWITCH_CURRENT_CONSUMER_GROUP</code>的使用者组，资源管理器也会认为已经发生了切换。
                           </p>
                           <div class="infoboxnote" id="GUID-9E06197C-E596-4D57-9511-5979966FF42C__GUID-833033DA-28F4-431F-89EA-349F948DB1E0">
                              <p class="notep1">注意：</p>
                              <p>资源管理器还适用于使用通用数据库用户名登录应用程序的环境。可以调用<code class="codeph">DBMS_SESSION</code>包以在会话启动时切换会话的使用者组分配，或者在调用特定模块时切换。
                              </p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-9E06197C-E596-4D57-9511-5979966FF42C__GUID-4A1DC884-B4DA-4DE5-A90C-B36D034BB092">
                           <p class="notep1">也可以看看：</p>
                           <p></p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="q">“ <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-5E2D2547-068A-492E-84CD-2BACC25CADA3" title="使用DBMS_RESOURCE_MANAGER_PRIVS PL / SQL包，您可以向用户，角色或PUBLIC授予或撤消交换机权限。切换权限允许用户或应用程序将会话切换到指定的资源使用者组。">授予和撤消交换机权限</a> ”</span></p>
                              </li>
                              <li>
                                 <p>有关<code class="codeph">DBMS_SESSION</code>包的其他示例和更多信息，请<code class="codeph">DBMS_SESSION</code> <a href="../arpls/DBMS_SESSION.html#ARPLS054" target="_blank"><span class="italic">Oracle Database PL / SQL包和类型参考</span></a></p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-2A3C2DC0-6619-4CEC-B28E-CB3E3EB5328E" title="您可以切换会话的资源使用者组。">切换资源使用者组</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="ADMIN11879"></a><div class="props_rev_3"><a id="GUID-91AE9EA1-3457-4FCD-BA33-15DB1B658920" name="GUID-91AE9EA1-3457-4FCD-BA33-15DB1B658920"></a><h4 id="ADMIN-GUID-91AE9EA1-3457-4FCD-BA33-15DB1B658920" class="sect4"><span class="enumeration_section">27.2.5</span>指定自动消费者组切换</h4>
                  <div>
                     <p>您可以将资源管理器配置为在满足特定条件时自动将会话切换到另一个使用者组。</p>
                     <p>在以下情况下可以进行自动切换：会话属性更改，导致新的映射规则生效，或者会话超出其消费者组设置的CPU，物理I / O或逻辑I / O资源消耗限制，或者超过由其使用者组设置的已用时间限制。</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-8376660A-4B6A-484E-9F90-60D200154385">使用映射规则指定自动切换</a><br>如果会话属性在会话运行时发生更改，则会重新评估会话到使用者组映射规则。如果新规则生效，则会话可能会移动到其他使用者组。
                        </li>
                        <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-4206F2EE-E897-4F60-BDE0-3623C1BDBB12">通过设置资源限制指定自动切换</a><br>您可以管理超出指定限制的使用CPU，物理I / O或逻辑I / O资源的失控会话或调用。失控会话是SQL查询，而失控调用是PL / SQL调用。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-B11A3D18-3D45-4751-85A0-DCC96FAF67B5" title="数据库管理员，用户和应用程序可以使用自动和手动方法将会话分配给资源使用者组。将会话分配给资源使用者组时，Oracle数据库资源管理器（资源管理器）可以管理它的资源分配。">将会话分配给资源使用者组</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADMIN11880"></a><div class="props_rev_3"><a id="GUID-8376660A-4B6A-484E-9F90-60D200154385" name="GUID-8376660A-4B6A-484E-9F90-60D200154385"></a><h5 id="ADMIN-GUID-8376660A-4B6A-484E-9F90-60D200154385" class="sect5"><span class="enumeration_section">27.2.5.1</span>使用映射规则指定自动切换</h5>
                     <div>
                        <p>如果会话属性在会话运行时发生更改，则会重新评估会话到使用者组映射规则。如果新规则生效，则会话可能会移动到其他使用者组。</p>
                        <p>有关详细信息，请参阅<span class="q">“ <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-5AA9FBC6-3C11-4DA5-B9EE-C98CC2553042" title="您可以创建会话到使用者组映射规则并确定其优先级。">指定会话到使用者组映射规则</a> ”</span> 。
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-91AE9EA1-3457-4FCD-BA33-15DB1B658920" title="您可以将资源管理器配置为在满足特定条件时自动将会话切换到另一个使用者组。">指定自动使用者组切换</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN12657"></a><a id="ADMIN12658"></a><a id="ADMIN12659"></a><a id="ADMIN14006"></a><a id="ADMIN14144"></a><a id="ADMIN11881"></a><div class="props_rev_3"><a id="GUID-4206F2EE-E897-4F60-BDE0-3623C1BDBB12" name="GUID-4206F2EE-E897-4F60-BDE0-3623C1BDBB12"></a><h5 id="ADMIN-GUID-4206F2EE-E897-4F60-BDE0-3623C1BDBB12" class="sect5"><span class="enumeration_section">27.2.5.2</span>通过设置资源限制指定自动切换</h5>
                     <div>
                        <p>您可以管理超出指定限制的使用CPU，物理I / O或逻辑I / O资源的失控会话或调用。失控会话是SQL查询，而失控调用是PL / SQL调用。</p>
                        <div class="section">
                           <p>为使用者组创建资源计划指令时，可以为该组中的会话指定CPU，物理I / O或逻辑I / O资源消耗的限制。您可以分别指定物理I / O和逻辑I / O的限制。您还可以指定经过时间的限制。如果<code class="codeph">SWITCH_FOR_CALL</code>资源计划指令设置为<code class="codeph">FALSE</code> ，则资源管理器会在会话开始时强制执行这些限制。如果<code class="codeph">SWITCH_FOR_CALL</code>资源计划指令设置为<code class="codeph">TRUE</code> ，则资源管理器会从SQL操作或PL / SQL块的开头强制执行这些限制。
                           </p>
                           <p>然后，您可以指定在任何单个会话或呼叫超过这些限制之一时要采取的操作。可能的行动如下：</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>会话动态切换到指定的消费者组。</p>
                                 <p>目标消费者组通常是具有较低资源分配的消费者组。</p>
                              </li>
                              <li>
                                 <p>会话被终止（终止）。</p>
                              </li>
                              <li>
                                 <p>会话的当前SQL语句已中止。</p>
                              </li>
                              <li>
                                 <p>将记录有关会话的信息，但不会对会话执行任何其他操作。</p>
                              </li>
                           </ul>
                           <p>以下是此类自动会话切换中涉及的资源计划指令属性。</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">SWITCH_GROUP</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">SWITCH_TIME</code> 
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">SWITCH_ESTIMATE</code> 
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">SWITCH_IO_MEGABYTES</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">SWITCH_IO_REQS</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">SWITCH_FOR_CALL</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">SWITCH_IO_LOGICAL</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">SWITCH_ELAPSED_TIME</code></p>
                              </li>
                           </ul>
                           <p>有关这些属性的说明，请参阅<span class="q">“ <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-3BDCC024-22DD-479D-A7C3-92E7145C854F" title="您可以使用CREATE_PLAN_DIRECTIVE过程来创建资源计划指令。每个指令属于计划或子计划，并将资源分配给使用者组或子计划。">创建资源计划指令</a> ”</span> 。
                           </p>
                           <p>对正在运行和消耗资源的会话进行切换，而不是等待用户输入或等待CPU周期。在切换会话之后，它在目标消费者组中继续，直到它变为空闲，此时它将切换回其原始的消费者组。但是，如果<code class="codeph">SWITCH_FOR_CALL</code>设置为<code class="codeph">TRUE</code> ，则资源管理器不会等到会话空闲后将其返回到其原始资源使用者组。而是在当前顶级调用完成时返回会话。PL / SQL中的<span class="bold">顶级调用</span>是作为一个调用处理的整个PL / SQL块。SQL中的顶级调用是单独的SQL语句。
                           </p>
                           <p><code class="codeph">SWITCH_FOR_CALL</code>对于中间层服务器使用会话池的三层应用程序很有用。
                           </p>
                           <p>即使新组的活动会话池已满，也允许切换会话继续运行。在这些情况下，使用者组可以运行的会话数多于其活动会话池指定的会话数。</p>
                           <p>当<code class="codeph">SWITCH_FOR_CALL</code>为<code class="codeph">FALSE</code> ，如果在调用之间经过一定时间，资源管理器将会话视为空闲。此时间间隔是几秒钟，不可配置。
                           </p>
                           <p>以下是基于资源限制的自动切换示例。在运行这些示例之前，您必须创建一个挂起区域。</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-4206F2EE-E897-4F60-BDE0-3623C1BDBB12__GUID-DE26A147-A7CB-467F-8A03-261DA53F5EC5">例1</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>以下PL / SQL块为<code class="codeph">OLTP</code>组创建资源计划指令，如果会话中的调用超过5秒的CPU时间，则该指令将该组中的任何会话切换到<code class="codeph">LOW_GROUP</code>使用者组。此示例可防止意外长查询占用过多资源。切换到的消费者组通常是具有较低资源分配的消费者组。
                           </p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_RESOURCE_MANAGER.CREATE_PLAN_DIRECTIVE（PLAN =&gt;'DAYTIME'，GROUP_OR_SUBPLAN =&gt;'OLTP'，COMMENT =&gt;'OLTP group'，MGMT_P1 =&gt; 75，SWITCH_GROUP =&gt;'LOW_GROUP'，SWITCH_TIME =&gt; 5）;结束; /</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-4206F2EE-E897-4F60-BDE0-3623C1BDBB12__GUID-DCABF520-796D-4ECD-8082-7C9A62EC5ECF">例2</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>以下PL / SQL块为<code class="codeph">OLTP</code>组创建资源计划指令，如果会话超过10,000个物理I / O请求或超过2,500兆字节的数据传输，该指令会临时将该组中的任何会话切换到<code class="codeph">LOW_GROUP</code>使用者组。在违规的最高呼叫完成后，会话将返回到其原始组。
                           </p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_RESOURCE_MANAGER.CREATE_PLAN_DIRECTIVE（PLAN =&gt;'DAYTIME'，GROUP_OR_SUBPLAN =&gt;'OLTP'，COMMENT =&gt;'OLTP group'，MGMT_P1 =&gt; 75，SWITCH_GROUP =&gt;'LOW_GROUP'，SWITCH_IO_REQS =&gt; 10000，SWITCH_IO_MEGABYTES =&gt; 2500，SWITCH_FOR_CALL =&gt; TRUE）;结束; /</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-4206F2EE-E897-4F60-BDE0-3623C1BDBB12__GUID-7D7122FF-66F5-4F71-9808-92E62C3FCE93">例3</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>以下PL / SQL块为<code class="codeph">REPORTING</code>组创建资源计划指令，该指令终止（终止）超过60秒CPU时间的任何会话。此示例可防止失控查询占用过多资源。
                           </p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_RESOURCE_MANAGER.CREATE_PLAN_DIRECTIVE（PLAN =&gt;'DAYTIME'，GROUP_OR_SUBPLAN =&gt;'REPORTING'，COMMENT =&gt;'报告组'，MGMT_P1 =&gt; 75，SWITCH_GROUP =&gt;'KILL_SESSION'，SWITCH_TIME =&gt; 60）;结束; /</pre><p>在这个例子中，所保留的消费者组名<code class="codeph">KILL_SESSION</code>被指定<code class="codeph">SWITCH_GROUP</code> 。因此，当满足切换标准时会话终止。其他保留的使用者组名称是<code class="codeph">CANCEL_SQL</code>和<code class="codeph">LOG_ONLY</code> 。指定<code class="codeph">CANCEL_SQL</code>时，当满足切换条件时，将取消当前呼叫，但会话不会终止。指定<code class="codeph">LOG_ONLY</code> ，有关会话的信息将记录在实时SQL监视中，但不会对会话执行任何特定操作。
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-4206F2EE-E897-4F60-BDE0-3623C1BDBB12__GUID-19A7C348-FA33-4DBE-89BA-0CAF96A85D6A">例4</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>以下PL / SQL块为<code class="codeph">OLTP</code>组创建资源计划指令，如果会话超过100个逻辑I / O请求，该指令会临时将该组中的任何会话切换到<code class="codeph">LOW_GROUP</code>使用者组。在违规的最高呼叫完成后，会话将返回到其原始组。
                           </p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_RESOURCE_MANAGER.CREATE_PLAN_DIRECTIVE（PLAN =&gt;'DAYTIME'，GROUP_OR_SUBPLAN =&gt;'OLTP'，COMMENT =&gt;'OLTP group'，MGMT_P1 =&gt; 75，SWITCH_GROUP =&gt;'LOW_GROUP'，SWITCH_IO_LOGICAL =&gt; 100，SWITCH_FOR_CALL =&gt; TRUE）;结束; /</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-4206F2EE-E897-4F60-BDE0-3623C1BDBB12__GUID-004FAA56-2DD8-4855-8625-2FA2369DBB04">例5</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>以下PL / SQL块为<code class="codeph">OLTP</code>组创建资源计划指令，如果会话中的调用超过五分钟（300秒），该指令会临时将该组中的任何会话切换到<code class="codeph">LOW_GROUP</code>使用者组。在违规的最高呼叫完成后，会话将返回到其原始组。
                           </p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_RESOURCE_MANAGER.CREATE_PLAN_DIRECTIVE（PLAN =&gt;'DAYTIME'，GROUP_OR_SUBPLAN =&gt;'OLTP'，COMMENT =&gt;'OLTP group'，MGMT_P1 =&gt; 75，SWITCH_GROUP =&gt;'LOW_GROUP'，SWITCH_FOR_CALL =&gt; TRUE，SWITCH_ELAPSED_TIME =&gt; 300）;结束; /</pre></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-4206F2EE-E897-4F60-BDE0-3623C1BDBB12__GUID-AD294E83-6649-4DA7-8438-FE576CC430F0">
                           <p class="notep1">也可以看看：</p>
                           <p></p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="q">“ <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-3BDCC024-22DD-479D-A7C3-92E7145C854F" title="您可以使用CREATE_PLAN_DIRECTIVE过程来创建资源计划指令。每个指令属于计划或子计划，并将资源分配给使用者组或子计划。">制定资源计划指令</a> ”</span></p>
                              </li>
                              <li>
                                 <p><span class="q">“ <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-040A4CC4-B8B3-40F8-9984-FA79D46521BB" title="资源管理器允许数据库更好地控制硬件资源的分配方式。">资源管理器为工作负载管理提供了哪些解决方案？</a>“</span>有关逻辑I / O的信息</p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-91AE9EA1-3457-4FCD-BA33-15DB1B658920" title="您可以将资源管理器配置为在满足特定条件时自动将会话切换到另一个使用者组。">指定自动使用者组切换</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
               <div class="sect3"><a id="GUID-754D0522-EBBE-40D5-8247-39278A965653" name="GUID-754D0522-EBBE-40D5-8247-39278A965653"></a><h4 id="ADMIN-GUID-754D0522-EBBE-40D5-8247-39278A965653" class="sect4"><span class="enumeration_section">27.2.6</span>授予和撤销交换机权限</h4>
                  <p>用户或应用程序必须具有交换机权限才能将会话切换到指定的资源使用者组。</p>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-5E2D2547-068A-492E-84CD-2BACC25CADA3">关于授予和撤消交换机权限</a><br>使用<code class="codeph">DBMS_RESOURCE_MANAGER_PRIVS</code> PL / SQL包，您可以向用户，角色或<code class="codeph">PUBLIC</code>授予或撤消交换机权限。切换权限允许用户或应用程序将会话切换到指定的资源使用者组。
                        </li>
                        <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-C6CCACFB-5FDA-47EA-81F4-7F55C6993CAE">授予交换机权限</a><br>您可以使用<code class="codeph">GRANT_SWITCH_CONSUMER_GROUP</code>过程授予用户切换到特定使用者组的<code class="codeph">GRANT_SWITCH_CONSUMER_GROUP</code> 。
                        </li>
                        <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-65E6D0F5-4A1E-4991-A7BB-657E9E18ADFB">撤销交换机权限</a><br>您可以使用<code class="codeph">REVOKE_SWITCH_CONSUMER_GROUP</code>过程撤消用户的权限以切换到特定的使用者组。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-B11A3D18-3D45-4751-85A0-DCC96FAF67B5" title="数据库管理员，用户和应用程序可以使用自动和手动方法将会话分配给资源使用者组。将会话分配给资源使用者组时，Oracle数据库资源管理器（资源管理器）可以管理它的资源分配。">将会话分配给资源使用者组</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADMIN11887"></a><div class="props_rev_3"><a id="GUID-5E2D2547-068A-492E-84CD-2BACC25CADA3" name="GUID-5E2D2547-068A-492E-84CD-2BACC25CADA3"></a><h5 id="ADMIN-GUID-5E2D2547-068A-492E-84CD-2BACC25CADA3" class="sect5"><span class="enumeration_section">27.2.6.1</span>关于授予和撤销交换机权限</h5>
                     <div>
                        <p>使用<code class="codeph">DBMS_RESOURCE_MANAGER_PRIVS</code> PL / SQL包，您可以向用户，角色或<code class="codeph">PUBLIC</code>授予或撤消交换机权限。切换权限允许用户或应用程序将会话切换到指定的资源使用者组。
                        </p>
                        <p>该程序包还允许您撤消交换机权限。相关的包装程序列于下表中。</p>
                        <div class="tblformal" id="GUID-5E2D2547-068A-492E-84CD-2BACC25CADA3__GUID-8B1558E7-BA22-47F3-80FF-D50927940978">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Column 1 lists the procedures of the DBMS_RESOURCE_MANAGER_PRIVS package, column 2 describes the function of each procedure." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="45%" id="d241756e3108">程序</th>
                                    <th align="left" valign="bottom" width="55%" id="d241756e3111">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="45%" id="d241756e3116" headers="d241756e3108 ">
                                       <p><code class="codeph">GRANT_SWITCH_CONSUMER_GROUP</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="55%" headers="d241756e3116 d241756e3111 ">
                                       <p>授予用户，角色或<code class="codeph">PUBLIC</code>切换到指定资源使用者组的权限。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="45%" id="d241756e3128" headers="d241756e3108 ">
                                       <p><code class="codeph">REVOKE_SWITCH_CONSUMER_GROUP</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="55%" headers="d241756e3128 d241756e3111 ">
                                       <p>撤消用户，角色或<code class="codeph">PUBLIC</code>切换到指定资源使用者组的权限。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p><code class="codeph">OTHER_GROUPS</code>具有授予<code class="codeph">PUBLIC</code>切换权限。因此，将自动为所有用户授予此使用者组的切换权限。
                        </p>
                        <p>以下开关不需要显式切换权限：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>在<code class="codeph">DBMS_RESOURCE_MANAGER</code>包中有一个由<code class="codeph">SET_CONSUMER_GROUP_MAPPING</code>过程指定的使用者组映射，并且会话由于映射而切换到不同的使用者组。请参阅<span class="q">“ <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-1D62EF37-F2E2-4595-BA47-DECDE899E62E" title="您使用SET_CONSUMER_GROUP_MAPPING过程将会话属性/值对映射到使用者组。">创建使用者组映射规则</a> ”</span> 。
                              </p>
                           </li>
                           <li>
                              <p>根据资源计划指令的<code class="codeph">switch_group</code>参数的设置，在满足切换条件时，会有一个自动使用者组切换。
                              </p>
                           </li>
                        </ul>
                        <p>在所有其他情况下，用户需要显式切换权限才能将会话切换到使用者组。</p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-5E2D2547-068A-492E-84CD-2BACC25CADA3__GUID-DB032A06-DFC9-4593-80E1-AF866615B384">
                           <p class="notep1">也可以看看：</p>
                           <p></p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="q">“ <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-9E06197C-E596-4D57-9511-5979966FF42C" title="您可以授予用户切换权限，以便他可以使用DBMS_SESSION包中的SWITCH_CURRENT_CONSUMER_GROUP过程切换其当前使用者组。">允许用户或应用程序手动切换用户组</a> ”</span></p>
                              </li>
                              <li>
                                 <p><span class="q">“ <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-91AE9EA1-3457-4FCD-BA33-15DB1B658920" title="您可以将资源管理器配置为在满足特定条件时自动将会话切换到另一个使用者组。">指定自动消费者组切换</a> ”</span></p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-754D0522-EBBE-40D5-8247-39278A965653" title="用户或应用程序必须具有交换机权限才能将会话切换到指定的资源使用者组。">授予和撤消交换机权限</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11888"></a><div class="props_rev_3"><a id="GUID-C6CCACFB-5FDA-47EA-81F4-7F55C6993CAE" name="GUID-C6CCACFB-5FDA-47EA-81F4-7F55C6993CAE"></a><h5 id="ADMIN-GUID-C6CCACFB-5FDA-47EA-81F4-7F55C6993CAE" class="sect5"><span class="enumeration_section">27.2.6.2</span>授予交换机权限</h5>
                     <div>
                        <p>您可以使用<code class="codeph">GRANT_SWITCH_CONSUMER_GROUP</code>过程授予用户切换到特定使用者组的<code class="codeph">GRANT_SWITCH_CONSUMER_GROUP</code> 。
                        </p>
                        <div class="section">
                           <p>以下示例授予用户<code class="codeph">SCOTT</code>切换到使用者组<code class="codeph">OLTP</code>的权限。</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_RESOURCE_MANAGER_PRIVS.GRANT_SWITCH_CONSUMER_GROUP（GRANTEE_NAME =&gt;'SCOTT'，CONSUMER_GROUP =&gt;'OLTP'，GRANT_OPTION =&gt; TRUE）;结束; /</pre><p>用户<code class="codeph">SCOTT</code>还被授予向其他人授予<code class="codeph">OLTP</code>切换权限的权限。
                           </p>
                           <p>如果您授予角色切换到特定资源使用者组的权限，则授予该角色并启用该角色的任何用户都可以将其会话切换到该使用者组。</p>
                           <p>如果您授予<code class="codeph">PUBLIC</code>切换到特定使用者组的权限，则任何用户都可以切换到该组。
                           </p>
                           <p>如果<code class="codeph">GRANT_OPTION</code>参数为<code class="codeph">TRUE</code> ，则为该使用者组授予切换权限的用户也可以将该使用者组的切换权限授予其他用户。
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-754D0522-EBBE-40D5-8247-39278A965653" title="用户或应用程序必须具有交换机权限才能将会话切换到指定的资源使用者组。">授予和撤消交换机权限</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11889"></a><div class="props_rev_3"><a id="GUID-65E6D0F5-4A1E-4991-A7BB-657E9E18ADFB" name="GUID-65E6D0F5-4A1E-4991-A7BB-657E9E18ADFB"></a><h5 id="ADMIN-GUID-65E6D0F5-4A1E-4991-A7BB-657E9E18ADFB" class="sect5"><span class="enumeration_section">27.2.6.3</span>撤销交换机权限</h5>
                     <div>
                        <p>您可以使用<code class="codeph">REVOKE_SWITCH_CONSUMER_GROUP</code>过程撤消用户的权限以切换到特定的使用者组。
                        </p>
                        <div class="section">
                           <p>以下示例撤消用户<code class="codeph">SCOTT</code>切换到使用者组<code class="codeph">OLTP</code>的权限。</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_RESOURCE_MANAGER_PRIVS.REVOKE_SWITCH_CONSUMER_GROUP（REVOKEE_NAME =&gt;'SCOTT'，CONSUMER_GROUP =&gt;'OLTP'）;结束; /</pre><p>如果撤消用户对特定使用者组的切换权限，则该用户手动切换到该使用者组的任何后续尝试都将失败。然后，用户的会话将自动分配给<code class="codeph">OTHER_GROUPS</code> 。</p>
                           <p>如果您从某个角色撤消该开关权限到一个使用者组，则只有通过该角色对该使用者组具有切换权限的任何用户将无法再切换到该使用者组。</p>
                           <p>如果从<code class="codeph">PUBLIC</code>撤消对使用者组的切换权限，则除了直接或通过角色明确分配切换权限的用户之外的任何用户都将无法再切换到该使用者组。
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-754D0522-EBBE-40D5-8247-39278A965653" title="用户或应用程序必须具有交换机权限才能将会话切换到指定的资源使用者组。">授予和撤消交换机权限</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
            </div><a id="ADMIN11851"></a><div class="props_rev_3"><a id="GUID-4BBE0B17-3B05-49FA-979A-C649A9EE6DD9" name="GUID-4BBE0B17-3B05-49FA-979A-C649A9EE6DD9"></a><h3 id="ADMIN-GUID-4BBE0B17-3B05-49FA-979A-C649A9EE6DD9" class="sect3"><span class="enumeration_section">27.3</span>资源管理器管理的资源类型</h3>
               <p>资源计划指令指定如何将资源分配给资源使用者组或子计划。每个指令可以指定几种不同的方法来将资源分配给其使用者组或子计划。</p>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-514BDECF-BE80-4CCA-A00D-EF37C2CFC435">中央处理器</a><br>为了管理CPU资源，Resource Manager在使用者组之间分配资源，并重新分配已分配但未使用的CPU资源。您还可以设置可以分配给特定使用者组的CPU资源量的限制。
                     </li>
                     <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-FA1F02AF-9DBD-4F97-A781-25F427367619">Exadata I / O.</a><br>管理属性使您可以为Exadata I / O指定CPU资源分配。</li>
                     <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-B1E0B0A8-2709-4A1C-821D-9CEC35B03603">并行执行服务器</a><br>资源管理器可以管理数据库的可用并行执行服务器的使用情况。
                     </li>
                     <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-6D549CB5-9AEB-43F2-9901-0092C7B76115">全球计划（PGA）</a><br>要管理PGA资源，资源管理器可以限制可以分配给特定使用者组中每个会话的PGA内存量。
                     </li>
                     <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-DF4C2ADF-9369-44D5-933B-1D5DD4AF607F">失控的查询</a><br>如果管理不当，失控会话和呼叫会对整体性能产生负面影响。当会话或调用消耗超过指定数量的CPU，物理I / O，逻辑I / O或已用时间时，资源管理器可以执行操作。资源管理器可以切换会话或调用分配了少量CPU的使用者组，也可以终止会话或调用。
                     </li>
                     <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-4CC29C2F-62AC-4E8A-90AA-5B952EA8DC8E">具有排队的活动会话池</a><br>您可以控制使用者组中允许的最大并发活动会话数。此最大值定义<span class="bold">活动会话池</span> 。
                     </li>
                     <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-3BF122ED-7A05-45CB-ACEC-585B7BAB056A">撤消池</a><br>您可以为每个使用者组指定一个撤消池。撤消池控制可由消费者组生成的未提交事务的撤消总量。
                     </li>
                     <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-6DDADDCA-1E89-4F50-9089-7AAA8C056CA5">空闲时间限制</a><br>您可以指定会话可以空闲的时间量，之后会话终止。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-2BEF5482-CF97-4A85-BD90-9195E41E74EF" title="Oracle数据库资源管理器（资源管理器）使您可以管理数据库的资源分配。">使用Oracle数据库资源管理器管理资源</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN11852"></a><div class="props_rev_3"><a id="GUID-514BDECF-BE80-4CCA-A00D-EF37C2CFC435" name="GUID-514BDECF-BE80-4CCA-A00D-EF37C2CFC435"></a><h4 id="ADMIN-GUID-514BDECF-BE80-4CCA-A00D-EF37C2CFC435" class="sect4"><span class="enumeration_section">27.3.1</span> CPU</h4>
                  <p>为了管理CPU资源，Resource Manager在使用者组之间分配资源，并重新分配已分配但未使用的CPU资源。您还可以设置可以分配给特定使用者组的CPU资源量的限制。</p>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-0872B649-47E0-421C-A434-57D2280857ED">管理属性</a><br>管理属性使您可以指定在消费者组和子计划之间分配CPU资源的方式。
                        </li>
                        <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-DDE2E916-61E2-4754-B398-6AE677DFE44C">利用限制</a><br>使用<code class="codeph">UTILIZATION_LIMIT</code>属性对资源使用者组的CPU利用率施加绝对上限。此绝对限制将覆盖计划中CPU的任何重新分配。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-4BBE0B17-3B05-49FA-979A-C649A9EE6DD9" title="资源计划指令指定如何将资源分配给资源使用者组或子计划。每个指令可以指定几种不同的方法来将资源分配给其使用者组或子计划。">资源管理器管理的资源类型</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADMIN13322"></a><a id="ADMIN13465"></a><div class="props_rev_3"><a id="GUID-0872B649-47E0-421C-A434-57D2280857ED" name="GUID-0872B649-47E0-421C-A434-57D2280857ED"></a><h5 id="ADMIN-GUID-0872B649-47E0-421C-A434-57D2280857ED" class="sect5"><span class="enumeration_section">27.3.1.1</span>管理属性</h5>
                     <div>
                        <p>管理属性使您可以指定在消费者组和子计划之间分配CPU资源的方式。</p>
                        <p>多级CPU资源分配（最多八级）提供了一种在计划中优先考虑CPU使用率的方法。级别2的消费者组和子计划获得的资源未在级别1分配或在级别1分配但未完全被级别1的消费者组或子计划消耗。类似地，仅当某些分配保持在级别1和级别2时，才会为级别3的资源使用者分配资源。同样的规则适用于4到8级。多个级别不仅提供了一种优先级排序方式，而且还提供了一种明确指定如何使用所有主要资源和剩余资源的方法。</p>
                        <p>使用管理属性<code class="codeph">MGMT_P</code> <span class="italic"><code class="codeph">n</code></span> （其中<span class="italic">n</span>是1到8之间的整数）来指定多个级别的CPU资源分配。例如，使用<code class="codeph">MGMT_P1</code>指令属性指定级别1的CPU资源分配，使用<code class="codeph">MGMT_P2</code>指令属性指定级别2的资源分配。
                        </p>
                        <p>使用具有并行语句指令属性的管理属性（如<a href="managing-resources-with-oracle-database-resource-manager.html#GUID-15685C9E-AD79-4342-BFA9-18D478915267" title="您可以限制使用者组中任何操作的最大并行度。使用PARALLEL_DEGREE_LIMIT_P1指令属性指定使用者组的并行度。">并行度限制</a>和<a href="managing-resources-with-oracle-database-resource-manager.html#GUID-CDF30CA7-5A14-4C17-8C32-746F0763A7C9" title="使用PARALLEL_SERVER_LIMIT指令属性指定特定使用者组可以使用的并行执行服务器池的最大百分比。特定使用者组使用的并行执行服务器的数量计为该使用者组中所有会话使用的并行执行服务器的总和。">并行服务器限制</a> ）来控制并行语句排队。使用并行语句排队时，管理属性用于确定允许哪个使用者组发出下一个并行语句。例如，如果将使用者组的<code class="codeph">MGMT_P1</code>指令属性设置为80，则该组有80％的机会发出下一个并行语句。
                        </p>
                        <div class="infoboxnotealso" id="GUID-0872B649-47E0-421C-A434-57D2280857ED__GUID-026B2955-2961-4680-8F55-1CE770B6A158">
                           <p class="notep1">也可以看看：</p>
                           <p>有关并行语句排队的信息<a href="../vldbg/about-parallel-queuing.html#VLDBG1396" target="_blank"><span class="italic">，请参见“Oracle数据库VLDB和分区指南”</span></a></p>
                        </div>
                        <p><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-0872B649-47E0-421C-A434-57D2280857ED__CFHHJJHF" title="该表有4行，每个用户组一个，3列。列为：使用者组，1级CPU分配，2级CPU分配和3级CPU分配">表27-1</a>说明了一个包含三个级别的简单资源计划。
                        </p>
                        <div class="tblformal" id="GUID-0872B649-47E0-421C-A434-57D2280857ED__CFHHJJHF">
                           <p class="titleintable">表27-1简单的三级资源计划</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="一个简单的三级资源计划" width="100%" border="1" summary="This table has 4 rows, one for each consumer group, and 3 columns. The columns are: Consumer Group, Level 1 CPU Allocation, Level 2 CPU Allocation, and Level 3 CPU Allocation" frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="36%" id="d241756e3613">消费者集团</th>
                                    <th align="left" valign="bottom" width="22%" id="d241756e3616">1级CPU分配</th>
                                    <th align="left" valign="bottom" width="21%" id="d241756e3619">2级CPU分配</th>
                                    <th align="left" valign="bottom" width="21%" id="d241756e3622">3级CPU分配</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d241756e3627" headers="d241756e3613 ">
                                       <p><code class="codeph">HIGH_GROUP</code></p>
                                    </td>
                                    <td align="left" valign="top" width="22%" headers="d241756e3627 d241756e3616 ">
                                       <p>80％</p>
                                    </td>
                                    <td align="left" valign="top" width="21%" headers="d241756e3627 d241756e3619 ">
                                       <p></p>
                                    </td>
                                    <td align="left" valign="top" width="21%" headers="d241756e3627 d241756e3622 ">
                                       <p></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d241756e3639" headers="d241756e3613 ">
                                       <p><code class="codeph">LOW_GROUP</code></p>
                                    </td>
                                    <td align="left" valign="top" width="22%" headers="d241756e3639 d241756e3616 ">
                                       <p></p>
                                    </td>
                                    <td align="left" valign="top" width="21%" headers="d241756e3639 d241756e3619 ">
                                       <p>50％</p>
                                    </td>
                                    <td align="left" valign="top" width="21%" headers="d241756e3639 d241756e3622 ">
                                       <p></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d241756e3651" headers="d241756e3613 ">
                                       <p><code class="codeph">MAINT_SUBPLAN</code></p>
                                    </td>
                                    <td align="left" valign="top" width="22%" headers="d241756e3651 d241756e3616 ">
                                       <p></p>
                                    </td>
                                    <td align="left" valign="top" width="21%" headers="d241756e3651 d241756e3619 ">
                                       <p>50％</p>
                                    </td>
                                    <td align="left" valign="top" width="21%" headers="d241756e3651 d241756e3622 ">
                                       <p></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d241756e3663" headers="d241756e3613 ">
                                       <p><code class="codeph">OTHER_GROUPS</code></p>
                                    </td>
                                    <td align="left" valign="top" width="22%" headers="d241756e3663 d241756e3616 ">
                                       <p></p>
                                    </td>
                                    <td align="left" valign="top" width="21%" headers="d241756e3663 d241756e3619 ">
                                       <p></p>
                                    </td>
                                    <td align="left" valign="top" width="21%" headers="d241756e3663 d241756e3622 ">
                                       <p>100％</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>高优先级应用程序在<code class="codeph">HIGH_GROUP</code>内<code class="codeph">HIGH_GROUP</code> ，它被分配80％的CPU。由于<code class="codeph">HIGH_GROUP</code>处于第一级，因此它优先考虑CPU利用率，但仅占CPU的80％。这使得剩下的20％的CPU由<code class="codeph">LOW_GROUP</code>和<code class="codeph">MAINT_SUPLAN</code>共享50-50。然后，级别1和2的任何未使用的分配可用于3级的<code class="codeph">OTHER_GROUPS</code> 。由于<code class="codeph">OTHER_GROUPS</code>在其级别上没有兄弟消费者群体或子计划，因此指定了100％。
                        </p>
                        <p>在特定级别内，CPU分配不固定。如果特定消费者组或子计划中没有足够的负载，则可以将剩余CPU分配给剩余的消费者组或子计划。因此，当只有一个级别时，任何消费者组或子计划的未使用分配可以重新分配给其他“兄弟”消费者组或子计划。如果存在多个级别，则将未使用的分配分发给下一级别的使用者组或子计划。如果最后一级具有未使用的分配，则可以将这些分配与其指定的分配成比例地重新分配到所有其他级别。</p>
                        <p>作为将未使用的分配从一个级别重新分配到另一个级别的示例，如果在特定时间段内， <code class="codeph">HIGH_GROUP</code>仅消耗CPU的25％，则<code class="codeph">LOW_GROUP</code>和<code class="codeph">MAINT_SUBPLAN</code>可以共享75％。然后，第3级75％的任何未使用部分可在3级的<code class="codeph">OTHER_GROUPS</code>中使用。但是，如果<code class="codeph">OTHER_GROUPS</code>在级别3没有会话活动，那么级别2的75％可以按比例重新分配给计划中的所有其他使用者组和子计划。
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-514BDECF-BE80-4CCA-A00D-EF37C2CFC435" title="为了管理CPU资源，Resource Manager在使用者组之间分配资源，并重新分配已分配但未使用的CPU资源。您还可以设置可以分配给特定使用者组的CPU资源量的限制。">CPU</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN13324"></a><a id="ADMIN13323"></a><div class="props_rev_3"><a id="GUID-DDE2E916-61E2-4754-B398-6AE677DFE44C" name="GUID-DDE2E916-61E2-4754-B398-6AE677DFE44C"></a><h5 id="ADMIN-GUID-DDE2E916-61E2-4754-B398-6AE677DFE44C" class="sect5"><span class="enumeration_section">27.3.1.2</span>利用率限制</h5>
                     <div>
                        <p>使用<code class="codeph">UTILIZATION_LIMIT</code>属性对资源使用者组的CPU利用率施加绝对上限。此绝对限制将覆盖计划中CPU的任何重新分配。
                        </p>
                        <p>在前面的场景中，假设由于其他地方不活动， <code class="codeph">LOW_GROUP</code>获得了90％的CPU。假设您不希望<code class="codeph">LOW_GROUP</code>使用90％的服务器，因为您不希望非关键会话淹没CPU。资源计划指令的<code class="codeph">UTILIZATION_LIMIT</code>属性可以防止这种情况。
                        </p>
                        <p>设置<code class="codeph">UTILIZATION_LIMIT</code>属性是可选的。如果省略使用者组的此属性，则使用者组可以使用的CPU数量没有限制。因此，如果所有其他应用程序都处于空闲状态，则可以为未设置<code class="codeph">UTILIZATION_LIMIT</code>的使用者组分配100％的CPU资源。
                        </p>
                        <p>您还可以使用<code class="codeph">UTILIZATION_LIMIT</code>属性作为限制使用者组的CPU利用率的唯一方法，而无需指定级别限制。
                        </p>
                        <p><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-DDE2E916-61E2-4754-B398-6AE677DFE44C__CFHDIHII" title="该表有4行，每个用户组一个，4列。列为：使用者组，1级CPU分配，2级CPU分配，3级CPU分配和最大使用限制">表27-2</a>显示了先前计划的变体。在这个计划中，使用<code class="codeph">UTILIZATION_LIMIT</code> ，CPU利用率在75％为封端<code class="codeph">LOW_GROUP</code> ，50％ <code class="codeph">MAINT_SUBPLAN</code> ，和75％ <code class="codeph">OTHER_GROUPS</code> 。 （请注意，所有利用率限制的总和可以超过100％。每个限制都是独立应用的。）
                        </p>
                        <div class="tblformal" id="GUID-DDE2E916-61E2-4754-B398-6AE677DFE44C__CFHDIHII">
                           <p class="titleintable">表27-2具有利用率限制的三级资源计划</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="具有利用率限制的三级资源计划" width="100%" border="1" summary="This table has 4 rows, one for each consumer group, and 4 columns. The columns are: Consumer Group, Level 1 CPU Allocation, Level 2 CPU Allocation, Level 3 CPU Allocation, and Maximum Utiliization Limit" frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="25%" id="d241756e3813">消费者集团</th>
                                    <th align="left" valign="bottom" width="19%" id="d241756e3816">1级CPU分配</th>
                                    <th align="left" valign="bottom" width="18%" id="d241756e3819">2级CPU分配</th>
                                    <th align="left" valign="bottom" width="19%" id="d241756e3822">3级CPU分配</th>
                                    <th align="left" valign="bottom" width="18%" id="d241756e3825">利用限制</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d241756e3830" headers="d241756e3813 ">
                                       <p><code class="codeph">HIGH_GROUP</code></p>
                                    </td>
                                    <td align="left" valign="top" width="19%" headers="d241756e3830 d241756e3816 ">
                                       <p>80％</p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d241756e3830 d241756e3819 ">
                                       <p></p>
                                    </td>
                                    <td align="left" valign="top" width="19%" headers="d241756e3830 d241756e3822 ">
                                       <p></p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d241756e3830 d241756e3825 ">
                                       <p></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d241756e3844" headers="d241756e3813 ">
                                       <p><code class="codeph">LOW_GROUP</code></p>
                                    </td>
                                    <td align="left" valign="top" width="19%" headers="d241756e3844 d241756e3816 ">
                                       <p></p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d241756e3844 d241756e3819 ">
                                       <p>50％</p>
                                    </td>
                                    <td align="left" valign="top" width="19%" headers="d241756e3844 d241756e3822 ">
                                       <p></p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d241756e3844 d241756e3825 ">
                                       <p>75％</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d241756e3859" headers="d241756e3813 ">
                                       <p><code class="codeph">MAINT_SUBPLAN</code></p>
                                    </td>
                                    <td align="left" valign="top" width="19%" headers="d241756e3859 d241756e3816 ">
                                       <p></p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d241756e3859 d241756e3819 ">
                                       <p>50％</p>
                                    </td>
                                    <td align="left" valign="top" width="19%" headers="d241756e3859 d241756e3822 ">
                                       <p></p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d241756e3859 d241756e3825 ">
                                       <p>50％</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d241756e3874" headers="d241756e3813 ">
                                       <p><code class="codeph">OTHER_GROUPS</code></p>
                                    </td>
                                    <td align="left" valign="top" width="19%" headers="d241756e3874 d241756e3816 ">
                                       <p></p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d241756e3874 d241756e3819 ">
                                       <p></p>
                                    </td>
                                    <td align="left" valign="top" width="19%" headers="d241756e3874 d241756e3822 ">
                                       <p>100％</p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d241756e3874 d241756e3825 ">
                                       <p>75％</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>在所描述的示例<a href="managing-resources-with-oracle-database-resource-manager.html#GUID-DDE2E916-61E2-4754-B398-6AE677DFE44C__CFHDIHII" title="该表有4行，每个用户组一个，4列。列为：使用者组，1级CPU分配，2级CPU分配，3级CPU分配和最大使用限制">表27-2</a>中，如果<code class="codeph">HIGH_GROUP</code>是在给定时间仅使用10％的CPU，然后将剩余的90％是可用于<code class="codeph">LOW_GROUP</code>和消费群体中<code class="codeph">MAINT_SUBPLAN</code>处第2级。如果<code class="codeph">LOW_GROUP</code>仅使用20％的CPU，则可以将70％分配给<code class="codeph">MAINT_SUBPLAN</code> 。但是， <code class="codeph">MAINT_SUBPLAN</code>的<code class="codeph">UTILIZATION_LIMIT</code>为50％。因此，即使有更多的CPU资源可用，服务器也不能将超过50％的CPU分配给属于子计划<code class="codeph">MAINT_SUBPLAN</code>的使用者组。</p>
                        <p>您可以为子计划和子计划包含的使用者组设置<code class="codeph">UTILIZATION_LIMIT</code> 。在这种情况下，使用为子计划和该使用者组指定的限制来计算使用者组的限制。例如， <code class="codeph">MAINT_SUBPLAN</code>包含使用者组<code class="codeph">MAINT_GROUP1</code>和<code class="codeph">MAINT_GROUP2</code> 。<code class="codeph">MAINT_GROUP1</code>将<code class="codeph">UTILIZATION_LIMIT</code>设置为40％。但是， <code class="codeph">MAINT_SUBPLAN</code>的限制设置为50％。因此，消费者组<code class="codeph">MAINT_GROUP1</code>的限制计算为50％的40％或20％。有关如何为消费者组和该组所属的子计划指定限制时如何为使用者组计算<code class="codeph">UTILIZATION_LIMIT</code>的示例，请参阅<span class="q">“ <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-D695EE69-E08B-41BB-90FB-207E6810B938__BABEAJGH">示例4  - 为使用者组和子计划指定利用率限制</a> ”</span> 。
                        </p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-DDE2E916-61E2-4754-B398-6AE677DFE44C__GUID-4628DABB-EBDE-4717-A87A-30C7028035C2">
                           <p class="notep1">也可以看看：</p>
                           <p></p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="q">“ <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-3BDCC024-22DD-479D-A7C3-92E7145C854F" title="您可以使用CREATE_PLAN_DIRECTIVE过程来创建资源计划指令。每个指令属于计划或子计划，并将资源分配给使用者组或子计划。">制定资源计划指令</a> ”</span></p>
                              </li>
                              <li>
                                 <p><span class="q">“ <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-A61AE3F0-75AC-4298-A5E6-D18482FDDA9F" title="示例说明如何使用Resource Manager分配资源。">全部放在一起：Oracle数据库资源管理器示例</a> ”</span></p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-514BDECF-BE80-4CCA-A00D-EF37C2CFC435" title="为了管理CPU资源，Resource Manager在使用者组之间分配资源，并重新分配已分配但未使用的CPU资源。您还可以设置可以分配给特定使用者组的CPU资源量的限制。">CPU</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="ADMIN14007"></a><div class="props_rev_3"><a id="GUID-FA1F02AF-9DBD-4F97-A781-25F427367619" name="GUID-FA1F02AF-9DBD-4F97-A781-25F427367619"></a><h4 id="ADMIN-GUID-FA1F02AF-9DBD-4F97-A781-25F427367619" class="sect4"><span class="enumeration_section">27.3.2</span> Exadata I / O.</h4>
                  <div>
                     <p>管理属性使您可以为Exadata I / O指定CPU资源分配。</p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-FA1F02AF-9DBD-4F97-A781-25F427367619__GUID-099C4810-1F1E-428D-8A43-5C5CF720C503">
                        <p class="notep1">也可以看看：</p>
                        <p>有关使用Exadata I / O的管理属性的信息，请参阅Exadata文档</p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-4BBE0B17-3B05-49FA-979A-C649A9EE6DD9" title="资源计划指令指定如何将资源分配给资源使用者组或子计划。每个指令可以指定几种不同的方法来将资源分配给其使用者组或子计划。">资源管理器管理的资源类型</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN14008"></a><div class="props_rev_3"><a id="GUID-B1E0B0A8-2709-4A1C-821D-9CEC35B03603" name="GUID-B1E0B0A8-2709-4A1C-821D-9CEC35B03603"></a><h4 id="ADMIN-GUID-B1E0B0A8-2709-4A1C-821D-9CEC35B03603" class="sect4"><span class="enumeration_section">27.3.3</span>并行执行服务器</h4>
                  <p>资源管理器可以管理数据库的可用并行执行服务器的使用情况。</p>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-15685C9E-AD79-4342-BFA9-18D478915267">并行度限制</a><br>您可以限制使用者组中任何操作的最大并行度。使用<code class="codeph">PARALLEL_DEGREE_LIMIT_P1</code>指令属性指定使用者组的并行度。
                        </li>
                        <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-CDF30CA7-5A14-4C17-8C32-746F0763A7C9">并行服务器限制</a><br>使用<code class="codeph">PARALLEL_SERVER_LIMIT</code>指令属性指定特定使用者组可以使用的并行执行服务器池的最大百分比。特定使用者组使用的并行执行服务器的数量计为该使用者组中所有会话使用的并行执行服务器的总和。
                        </li>
                        <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-B141036C-7F55-45FE-8824-93528DD9517C">并行队列超时</a><br><code class="codeph">PARALLEL_QUEUE_TIMEOUT</code>指令属性使您可以指定并行语句在超时之前可以在并行语句队列中等待的最长时间（以秒为单位）。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-4BBE0B17-3B05-49FA-979A-C649A9EE6DD9" title="资源计划指令指定如何将资源分配给资源使用者组或子计划。每个指令可以指定几种不同的方法来将资源分配给其使用者组或子计划。">资源管理器管理的资源类型</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADMIN11854"></a><div class="props_rev_3"><a id="GUID-15685C9E-AD79-4342-BFA9-18D478915267" name="GUID-15685C9E-AD79-4342-BFA9-18D478915267"></a><h5 id="ADMIN-GUID-15685C9E-AD79-4342-BFA9-18D478915267" class="sect5"><span class="enumeration_section">27.3.3.1</span>并行度限制</h5>
                     <div>
                        <p>您可以限制使用者组中任何操作的最大并行度。使用<code class="codeph">PARALLEL_DEGREE_LIMIT_P1</code>指令属性指定使用者组的并行度。
                        </p>
                        <p>并行度限制适用于消费者群体中的一个操作;它不限制消费者组内所有操作的总并行度。但是，您可以将<code class="codeph">PARALLEL_DEGREE_LIMIT_P1</code>和<code class="codeph">PARALLEL_SERVER_LIMIT</code>指令属性组合在一起以实现所需的控制。有关<code class="codeph">PARALLEL_SERVER_LIMIT</code>属性的详细信息，请参阅<span class="q">“ <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-CDF30CA7-5A14-4C17-8C32-746F0763A7C9" title="使用PARALLEL_SERVER_LIMIT指令属性指定特定使用者组可以使用的并行执行服务器池的最大百分比。特定使用者组使用的并行执行服务器的数量计为该使用者组中所有会话使用的并行执行服务器的总和。">并行服务器限制</a> ”</span> 。
                        </p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-15685C9E-AD79-4342-BFA9-18D478915267__GUID-91074CD7-B349-459E-A3C2-AA68D296C352">
                           <p class="notep1">也可以看看：</p>
                           <p>有关生产者/消费者操作中并行度的更多信息，请参见<a href="../vldbg/about-parallel-queuing.html#VLDBG14020" target="_blank"><span class="italic">“Oracle数据库VLDB和分区指南”</span></a></p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-B1E0B0A8-2709-4A1C-821D-9CEC35B03603" title="资源管理器可以管理数据库的可用并行执行服务器的使用情况。">并行执行服务器</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN13466"></a><div class="props_rev_3"><a id="GUID-CDF30CA7-5A14-4C17-8C32-746F0763A7C9" name="GUID-CDF30CA7-5A14-4C17-8C32-746F0763A7C9"></a><h5 id="ADMIN-GUID-CDF30CA7-5A14-4C17-8C32-746F0763A7C9" class="sect5"><span class="enumeration_section">27.3.3.2</span>并行服务器限制</h5>
                     <div>
                        <p>使用<code class="codeph">PARALLEL_SERVER_LIMIT</code>指令属性指定特定使用者组可以使用的并行执行服务器池的最大百分比。特定使用者组使用的并行执行服务器的数量计为该使用者组中所有会话使用的并行执行服务器的总和。
                        </p>
                        <p>单个使用者组可以启动足够的并行语句来使用所有可用的并行执行服务器。如果在运行来自其他使用者组的高优先级并行语句时发生这种情况，则没有可用于分配给该组的并行执行服务器。您可以通过限制特定使用者组可以使用的并行执行服务器的数量来避免这种情况。您还可以为高优先级使用者组将指令<code class="codeph">PARALLEL_STMT_CRITICAL</code>设置为<code class="codeph">BYPASS_QUEUE</code> ，以便来自使用者组的并行语句绕过并行语句队列。
                        </p>
                        <p>例如，假设并行执行服务器的总数为32，由<code class="codeph">PARALLEL_SERVERS_TARGET</code>初始化参数设置，并且使用者组<code class="codeph">MY_GROUP</code>的<code class="codeph">PARALLEL_SERVER_LIMIT</code>指令属性设置为50％。此使用者组最多可以使用32个或16个并行执行服务器中的50％。
                        </p>
                        <p>如果资源计划具有管理属性（ <code class="codeph">MGMT_P1</code> ， <code class="codeph">MGMT_P2</code>等），则将单独的并行语句队列作为每个管理属性的先进先出（FIFO）队列进行管理。
                        </p>
                        <p>如果资源计划没有任何管理属性，则将单个并行语句队列作为FIFO队列进行管理。</p>
                        <p>对于Oracle Real Application Clusters（Oracle RAC）环境，并行执行服务器的目标数是所有Oracle RAC实例中（ <code class="codeph">PARALLEL_SERVER_LIMIT</code> * <code class="codeph">PARALLEL_SERVERS_TARGET</code> / 100）的总和。如果使用者组正在使用上面计算的并行执行服务器的数量，那么它已超出其限制，并且其并行语句将排队。
                        </p>
                        <p>如果使用者组在Oracle RAC数据库中没有运行任何并行语句，则允许第一个并行语句超过<code class="codeph">PARALLEL_SERVER_LIMIT</code>指定的限制。</p>
                        <div class="infoboxnote" id="GUID-CDF30CA7-5A14-4C17-8C32-746F0763A7C9__GUID-89B7AF41-DB39-4C0F-A609-B19E3268C1B0">
                           <p class="notep1">注意：</p>
                           <p>在Oracle Real Application Clusters（Oracle RAC）环境中， <code class="codeph">PARALLEL_SERVER_LIMIT</code>属性适用于整个群集，而不适用于单个实例。
                           </p>
                        </div>
                     </div>
                     <div>
                        <ul class="ullinks">
                           <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-D65FBE46-0B43-4CC7-B1D8-6C2F3A6768F8">使用并行服务器限制管理并行语句队列</a><br><code class="codeph">PARALLEL_SERVER_LIMIT</code>属性使您可以指定来自使用者组的并行语句何时可以排队。Oracle数据库为每个使用者组维护一个单独的并行语句队列。
                           </li>
                        </ul>
                        <div class="infoboxnotealso" id="GUID-CDF30CA7-5A14-4C17-8C32-746F0763A7C9__GUID-C73CF0E6-815E-4343-AF0E-8BEBC3684782">
                           <p class="notep1">也可以看看：</p>
                           <p></p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="q">“ <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-3BDCC024-22DD-479D-A7C3-92E7145C854F" title="您可以使用CREATE_PLAN_DIRECTIVE过程来创建资源计划指令。每个指令属于计划或子计划，并将资源分配给使用者组或子计划。">制定资源计划指令</a> ”</span></p>
                              </li>
                              <li>
                                 <p><span class="q">“ <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-D65FBE46-0B43-4CC7-B1D8-6C2F3A6768F8" title="PARALLEL_SERVER_LIMIT属性使您可以指定来自使用者组的并行语句何时可以排队。Oracle数据库为每个使用者组维护一个单独的并行语句队列。">使用并行服务器限制管理并行语句队列</a> ”</span></p>
                              </li>
                              <li>
                                 <p>有关并行语句排队的信息<a href="../vldbg/about-parallel-queuing.html#VLDBG1396" target="_blank"><span class="italic">，请参见“Oracle数据库VLDB和分区指南”</span></a></p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-B1E0B0A8-2709-4A1C-821D-9CEC35B03603" title="资源管理器可以管理数据库的可用并行执行服务器的使用情况。">并行执行服务器</a></p>
                           </div>
                        </div>
                     </div>
                     <a id="ADMIN13467"></a><div class="props_rev_3"><a id="GUID-D65FBE46-0B43-4CC7-B1D8-6C2F3A6768F8" name="GUID-D65FBE46-0B43-4CC7-B1D8-6C2F3A6768F8"></a><h6 id="ADMIN-GUID-D65FBE46-0B43-4CC7-B1D8-6C2F3A6768F8" class="sect6"><span class="enumeration_section">27.3.3.2.1</span>使用并行服务器限制管理并行语句队列</h6>
                        <div>
                           <p><code class="codeph">PARALLEL_SERVER_LIMIT</code>属性使您可以指定来自使用者组的并行语句何时可以排队。Oracle数据库为每个使用者组维护一个单独的并行语句队列。
                           </p>
                           <p>如果满足以下条件，则不会运行来自使用者组的并行语句，而是将其添加到该使用者组的并行语句队列中：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">PARALLEL_DEGREE_POLICY</code>设置为<code class="codeph">AUTO</code> 。</p>
                                 <p>将此初始化参数设置为<code class="codeph">AUTO</code>可启用自动并行度（Auto DOP），并行语句排队和内存中并行执行。
                                 </p>
                                 <p>请注意，将<code class="codeph">PARALLEL_DEGREE_POLICY</code>设置为<code class="codeph">MANUAL</code>或<code class="codeph">LIMITED</code>的并行语句立即执行，不会添加到并行语句队列中。
                                 </p>
                              </li>
                              <li>
                                 <p>所有使用者组中的活动并行执行服务器数超过<code class="codeph">PARALLEL_SERVERS_TARGET</code>初始化参数设置。无论您是否指定<code class="codeph">PARALLEL_SERVER_LIMIT</code>此条件都适用。如果未指定<code class="codeph">PARALLEL_SERVER_LIMIT</code> ，则默认为100％。
                                 </p>
                              </li>
                              <li>
                                 <p>使用者组的活动并行执行服务器数和并行语句的并行度之和超过了活动并行执行服务器的目标数。</p>
                                 <p>活动并行执行服务器的目标数量计算如下：</p>
                                 <p><code class="codeph">PARALLEL_SERVER_LIMIT</code> / 100 * <code class="codeph">PARALLEL_SERVERS_TARGET</code></p>
                              </li>
                           </ul>
                           <div class="infoboxnote" id="GUID-D65FBE46-0B43-4CC7-B1D8-6C2F3A6768F8__GUID-5B7C8185-447C-4FDD-864B-1D3DC2E88E06">
                              <p class="notep1">注意：</p>
                              <p>尽管监视所有会话的并行执行服务器使用情况，但您设置的并行执行服务器指令属性仅影响启用并行语句排队的会话（ <code class="codeph">PARALLEL_DEGREE_POLICY</code>设置为<code class="codeph">AUTO</code> ）。如果会话将<code class="codeph">PARALLEL_DEGREE_POLICY</code>设置为<code class="codeph">MANUAL</code> ，则此会话的并行语句不会排队。但是，此类会话使用的任何并行执行服务器都包含在用于确定<code class="codeph">PARALLEL_SERVER_LIMIT</code>限制的计数中。即使超出此限制，此会话的并行语句也不会排队。
                              </p>
                           </div>
                        </div>
                        <div>
                           <div class="infoboxnotealso" id="GUID-D65FBE46-0B43-4CC7-B1D8-6C2F3A6768F8__GUID-B0103B4E-1409-4AF0-A7F1-904F23507D03">
                              <p class="notep1">也可以看看：</p>
                              <p><span class="q">“ <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-CDF30CA7-5A14-4C17-8C32-746F0763A7C9" title="使用PARALLEL_SERVER_LIMIT指令属性指定特定使用者组可以使用的并行执行服务器池的最大百分比。特定使用者组使用的并行执行服务器的数量计为该使用者组中所有会话使用的并行执行服务器的总和。">并行服务器限制</a> ”</span></p>
                           </div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-CDF30CA7-5A14-4C17-8C32-746F0763A7C9" title="使用PARALLEL_SERVER_LIMIT指令属性指定特定使用者组可以使用的并行执行服务器池的最大百分比。特定使用者组使用的并行执行服务器的数量计为该使用者组中所有会话使用的并行执行服务器的总和。">并行服务器限制</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                  </div><a id="ADMIN13468"></a><div class="props_rev_3"><a id="GUID-B141036C-7F55-45FE-8824-93528DD9517C" name="GUID-B141036C-7F55-45FE-8824-93528DD9517C"></a><h5 id="ADMIN-GUID-B141036C-7F55-45FE-8824-93528DD9517C" class="sect5"><span class="enumeration_section">27.3.3.3</span>并行队列超时</h5>
                     <div>
                        <p><code class="codeph">PARALLEL_QUEUE_TIMEOUT</code>指令属性使您可以指定并行语句在超时之前可以在并行语句队列中等待的最长时间（以秒为单位）。
                        </p>
                        <p>使用并行语句排队时，如果数据库没有足够的资源来执行并行语句，则该语句将排队，直到所需的资源可用。但是，并行语句可能在并行语句队列中等待的时间超过了所需的时间。您可以通过指定并行语句在并行语句队列中等待的最长时间来防止此类情况。</p>
                        <p>可以为每个使用者组设置<code class="codeph">PARALLEL_QUEUE_TIMEOUT</code>属性。即使您未在资源计划中指定其他管理属性（ <code class="codeph">MGMT_P1</code> ， <code class="codeph">MGMT_P2</code>等），此属性也适用。
                        </p>
                        <div class="infoboxnotealso" id="GUID-B141036C-7F55-45FE-8824-93528DD9517C__GUID-25459C25-11A0-46D8-9E7B-280DF7D4100B">
                           <p class="notep1">也可以看看：</p>
                           <p>有关并行语句排队的详细信息<a href="../vldbg/about-parallel-queuing.html#VLDBG1396" target="_blank"><span class="italic">，请参见“Oracle数据库VLDB和分区指南”</span></a></p>
                        </div>
                        <div class="infoboxnote" id="GUID-B141036C-7F55-45FE-8824-93528DD9517C__GUID-139FDDDB-7FFE-408A-8619-4AF17A66E7FC">
                           <p class="notep1">注意：</p>
                           <p>因为并行语句队列是集群范围的，所以与并行语句队列相关的所有指令也是集群范围的。</p>
                        </div>
                        <p>您可以通过为每个使用者组设置<code class="codeph">PQ_TIMEOUT_ACTION</code>属性来控制如何处理超时并行语句。您可以将此属性设置为以下值：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">CANCEL</code> - 语句执行以错误<code class="codeph">ORA-07454</code> 。这是超时并行语句的默认操作。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">RUN</code> - 声明立即运行。如果没有足够的并行服务器立即运行该语句，则该语句将降级为以较低的并行度运行。
                              </p>
                              <p></p>
                           </li>
                        </ul>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-B141036C-7F55-45FE-8824-93528DD9517C__GUID-A03496B7-DA5D-4CA2-9EA9-6542133BAC47">
                           <p class="notep1">也可以看看：</p>
                           <p><span class="q">“ <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-B4256D06-2223-49A1-A939-9BE9706498BC" title="示例说明了使用指令属性管理并行语句。">有关使用指令属性管理并行语句的示例</a> ”</span> ，以获取有关组合使用所有并行执行服务器指令属性的更多信息</p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-B1E0B0A8-2709-4A1C-821D-9CEC35B03603" title="资源管理器可以管理数据库的可用并行执行服务器的使用情况。">并行执行服务器</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
               <div class="sect3"><a id="GUID-6D549CB5-9AEB-43F2-9901-0092C7B76115" name="GUID-6D549CB5-9AEB-43F2-9901-0092C7B76115"></a><h4 id="ADMIN-GUID-6D549CB5-9AEB-43F2-9901-0092C7B76115" class="sect4"><span class="enumeration_section">27.3.4</span>全球计划领域（PGA）</h4>
                  <div>
                     <p>要管理PGA资源，资源管理器可以限制可以分配给特定使用者组中每个会话的PGA内存量。</p>
                     <p>要限制使用者组中每个会话的PGA资源，请在程序包过程<code class="codeph">DBMS_RESOURCE_MANAGER.CREATE_PLAN_DIRECTIVE</code>设置<code class="codeph">session_pga_limit</code>参数。此参数的值是消费者组中每个会话允许的最大PGA内存量（以兆字节为单位）。如果会话超过为其使用者组设置的限制，则会引发错误ORA-10260。此限制包括并行查询从属和作业队列进程。
                     </p>
                     <p>例如，写得不好的PL / SQL代码会占用无限量的PGA。您可以使用<code class="codeph">session_pga_limit</code>参数来限制运行PL / SQL代码的会话，以确保这些会话不使用过多的PGA资源。
                     </p>
                     <p>下表说明了具有PGA限制的简单资源计划。</p>
                     <div class="tblformal" id="GUID-6D549CB5-9AEB-43F2-9901-0092C7B76115__CFHHJJHF">
                        <p class="titleintable">表27-3具有PGA限制的简单资源计划</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="具有PGA限制的简单资源计划" width="100%" border="1" summary="This table has 4 rows, one for each consumer group, and 2 columns. The columns are: Consumer Group and session_pga_limit Value." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="50%" id="d241756e4574">消费者集团</th>
                                 <th align="left" valign="bottom" width="50%" id="d241756e4577">session_pga_limit值</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="50%" id="d241756e4582" headers="d241756e4574 ">
                                    <p><code class="codeph">HIGH_GROUP</code></p>
                                 </td>
                                 <td align="left" valign="top" width="50%" headers="d241756e4582 d241756e4577 ">
                                    <p>20</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="50%" id="d241756e4590" headers="d241756e4574 ">
                                    <p><code class="codeph">LOW_GROUP</code></p>
                                 </td>
                                 <td align="left" valign="top" width="50%" headers="d241756e4590 d241756e4577 ">
                                    <p>10</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="50%" id="d241756e4598" headers="d241756e4574 ">
                                    <p><code class="codeph">MAINT_SUBPLAN</code></p>
                                 </td>
                                 <td align="left" valign="top" width="50%" headers="d241756e4598 d241756e4577 ">
                                    <p>空（无限制）</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="50%" id="d241756e4606" headers="d241756e4574 ">
                                    <p><code class="codeph">OTHER_GROUPS</code></p>
                                 </td>
                                 <td align="left" valign="top" width="50%" headers="d241756e4606 d241756e4577 ">
                                    <p>空（无限制）</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>在此资源计划中，高优先级应用程序在<code class="codeph">HIGH_GROUP</code>内<code class="codeph">HIGH_GROUP</code> ，并且该组中的每个会话限制为20 MB的PGA资源。<code class="codeph">LOW_GROUP</code>中较低优先级应用程序使用的会话限制为10 MB PGA资源。用于内部维修工作会议<code class="codeph">MAINT_SUPLAN</code>内和其他会议<code class="codeph">OTHER_GROUPS</code>可以使用无限的PGA资源。
                     </p>
                     <div class="infoboxnote" id="GUID-6D549CB5-9AEB-43F2-9901-0092C7B76115__GUID-A081A297-581E-4100-8EC5-D453BB16DDE8">
                        <p class="notep1">注意：</p>您可以使用<code class="codeph">PGA_AGGREGATE_LIMIT</code>初始化参数限制整个实例的PGA使用情况。
                     </div>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-4BBE0B17-3B05-49FA-979A-C649A9EE6DD9" title="资源计划指令指定如何将资源分配给资源使用者组或子计划。每个指令可以指定几种不同的方法来将资源分配给其使用者组或子计划。">资源管理器管理的资源类型</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN14010"></a><div class="props_rev_3"><a id="GUID-DF4C2ADF-9369-44D5-933B-1D5DD4AF607F" name="GUID-DF4C2ADF-9369-44D5-933B-1D5DD4AF607F"></a><h4 id="ADMIN-GUID-DF4C2ADF-9369-44D5-933B-1D5DD4AF607F" class="sect4"><span class="enumeration_section">27.3.5</span>失控查询</h4>
                  <div>
                     <p>如果管理不当，失控会话和呼叫会对整体性能产生负面影响。当会话或调用消耗超过指定数量的CPU，物理I / O，逻辑I / O或已用时间时，资源管理器可以执行操作。资源管理器可以切换会话或调用分配了少量CPU的使用者组，也可以终止会话或调用。</p>
                     <div class="p">
                        <div class="infoboxnote" id="GUID-DF4C2ADF-9369-44D5-933B-1D5DD4AF607F__GUID-A4FD7808-2924-49B7-9C93-00AB346EE425">
                           <p class="notep1">注意：</p>
                           <p>从Oracle Database 12 <span class="italic">c</span>第2版（12.2）开始，资源管理器还可以限制可分配给特定使用者组中每个会话的PGA内存量。
                           </p>
                        </div>
                     </div>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-E03C9BD0-20B6-4DB4-9EAA-571D66E3C512">自动消费者组切换</a><br>您可以通过指定条件来控制资源分配，如果满足这些条件，则会导致会话自动切换到指定的使用者组。
                        </li>
                        <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-8E8799CD-A07C-4F5E-8CB8-4587A782C035">取消SQL并终止会话</a><br>您可以使用资源管理器取消长时间运行的SQL查询，或根据系统资源（如CPU和I / O）的消耗量终止长时间运行的会话。</li>
                        <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-2C01FDE1-DCB3-44D6-8E80-66EEE98638F6">执行时间限制</a><br>您可以指定操作允许的最长执行时间。
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-DF4C2ADF-9369-44D5-933B-1D5DD4AF607F__GUID-7EDE0B3E-E302-4DBC-84F9-985BA29C5D15">
                        <p class="notep1">也可以看看：</p><span class="q">“ <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-6D549CB5-9AEB-43F2-9901-0092C7B76115" title="要管理PGA资源，资源管理器可以限制可以分配给特定使用者组中每个会话的PGA内存量。">全球计划（PGA）</a> ”</span></div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-4BBE0B17-3B05-49FA-979A-C649A9EE6DD9" title="资源计划指令指定如何将资源分配给资源使用者组或子计划。每个指令可以指定几种不同的方法来将资源分配给其使用者组或子计划。">资源管理器管理的资源类型</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADMIN11855"></a><div class="props_rev_3"><a id="GUID-E03C9BD0-20B6-4DB4-9EAA-571D66E3C512" name="GUID-E03C9BD0-20B6-4DB4-9EAA-571D66E3C512"></a><h5 id="ADMIN-GUID-E03C9BD0-20B6-4DB4-9EAA-571D66E3C512" class="sect5"><span class="enumeration_section">27.3.5.1</span>自动消费者组切换</h5>
                     <div>
                        <p>您可以通过指定条件来控制资源分配，如果满足这些条件，则会导致会话自动切换到指定的使用者组。</p>
                        <p>通常，此方法用于将会话从高优先级的使用者组（接收高比例系统资源的会话）切换到较低优先级的使用者组，因为该会话超出了组中典型会话的预期资源消耗。</p>
                        <p>有关详细信息，请参阅<span class="q">“ <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-4206F2EE-E897-4F60-BDE0-3623C1BDBB12" title="您可以管理超出指定限制的使用CPU，物理I / O或逻辑I / O资源的失控会话或调用。失控会话是SQL查询，而失控调用是PL / SQL调用。">通过设置资源限制指定自动切换</a> ”</span> 。
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-DF4C2ADF-9369-44D5-933B-1D5DD4AF607F" title="如果管理不当，失控会话和呼叫会对整体性能产生负面影响。当会话或调用消耗超过指定数量的CPU，物理I / O，逻辑I / O或已用时间时，资源管理器可以执行操作。资源管理器可以切换会话或调用分配了少量CPU的使用者组，也可以终止会话或调用。">失控查询</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11856"></a><div class="props_rev_3"><a id="GUID-8E8799CD-A07C-4F5E-8CB8-4587A782C035" name="GUID-8E8799CD-A07C-4F5E-8CB8-4587A782C035"></a><h5 id="ADMIN-GUID-8E8799CD-A07C-4F5E-8CB8-4587A782C035" class="sect5"><span class="enumeration_section">27.3.5.2</span>取消SQL并终止会话</h5>
                     <div>
                        <p>您可以使用资源管理器取消长时间运行的SQL查询，或根据系统资源（如CPU和I / O）的消耗量终止长时间运行的会话。</p>
                        <p>可以使用<code class="codeph">DBMS_SQLQ</code>程序包子程序将资源管理器取消的SQL查询配置为隔离，以便不允许再次运行这些查询。
                        </p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-8E8799CD-A07C-4F5E-8CB8-4587A782C035__GUID-0542B22D-D25D-4C12-8B8C-79DAAAF218A0">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="q">“ <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-4206F2EE-E897-4F60-BDE0-3623C1BDBB12" title="您可以管理超出指定限制的使用CPU，物理I / O或逻辑I / O资源的失控会话或调用。失控会话是SQL查询，而失控调用是PL / SQL调用。">通过设置资源限制指定自动切换</a> ”</span> ，以获取有关如何配置资源管理器以取消SQL查询或根据系统资源消耗终止会话的详细信息</p>
                              </li>
                              <li>
                                 <p><span class="q">“ <a href="diagnosing-and-resolving-problems.html#GUID-1CF7E2B7-1BF8-4907-889E-1107CAA83E51" title="从Oracle Database 19c开始，您可以使用SQL隔离基础结构（SQL隔离）隔离资源管理器终止的SQL语句的执行计划，以消耗Oracle数据库中过多的系统资源。单个SQL语句可能有多个执行计划，如果它尝试使用被隔离的执行计划，则不允许运行该SQL语句，从而防止数据库性能下降。">有关使用过多系统资源的SQL语句的执行计划的隔离</a> ”</span> ，以获取有关如何使用<code class="codeph">DBMS_SQLQ</code>程序包子程序为SQL查询配置隔离设置的详细信息</p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-DF4C2ADF-9369-44D5-933B-1D5DD4AF607F" title="如果管理不当，失控会话和呼叫会对整体性能产生负面影响。当会话或调用消耗超过指定数量的CPU，物理I / O，逻辑I / O或已用时间时，资源管理器可以执行操作。资源管理器可以切换会话或调用分配了少量CPU的使用者组，也可以终止会话或调用。">失控查询</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11857"></a><div class="props_rev_3"><a id="GUID-2C01FDE1-DCB3-44D6-8E80-66EEE98638F6" name="GUID-2C01FDE1-DCB3-44D6-8E80-66EEE98638F6"></a><h5 id="ADMIN-GUID-2C01FDE1-DCB3-44D6-8E80-66EEE98638F6" class="sect5"><span class="enumeration_section">27.3.5.3</span>执行时间限制</h5>
                     <div>
                        <p>您可以指定操作允许的最长执行时间。</p>
                        <p>如果数据库估计操作的运行时间超过指定的最大执行时间，则操作将终止并显示错误。可以捕获此错误并重新安排操作。</p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-DF4C2ADF-9369-44D5-933B-1D5DD4AF607F" title="如果管理不当，失控会话和呼叫会对整体性能产生负面影响。当会话或调用消耗超过指定数量的CPU，物理I / O，逻辑I / O或已用时间时，资源管理器可以执行操作。资源管理器可以切换会话或调用分配了少量CPU的使用者组，也可以终止会话或调用。">失控查询</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="ADMIN11853"></a><div class="props_rev_3"><a id="GUID-4CC29C2F-62AC-4E8A-90AA-5B952EA8DC8E" name="GUID-4CC29C2F-62AC-4E8A-90AA-5B952EA8DC8E"></a><h4 id="ADMIN-GUID-4CC29C2F-62AC-4E8A-90AA-5B952EA8DC8E" class="sect4"><span class="enumeration_section">27.3.6</span>带队列的活动会话池</h4>
                  <div>
                     <p>您可以控制使用者组中允许的最大并发活动会话数。此最大值定义<span class="bold">活动会话池</span> 。
                     </p>
                     <p><span class="bold">活动会话</span>是主动处理事务或SQL语句的会话。具体来说，活动会话要么在事务中，要么保持用户入队，要么具有打开的游标并且没有空闲超过5秒。即使活动会话被阻止，它也被视为活动会话，例如等待I / O请求完成。当活动会话池已满时，尝试处理呼叫的会话将被放入队列中。当活动会话完成时，可以从队列中删除队列中的第一个会话并安排执行。您还可以指定执行队列中的会话超时的时间段，从而导致调用因错误而终止。
                     </p>
                     <p>不应将活动会话限制用于OLTP工作负载。此外，不应使用活动会话限制来实现连接池或并行语句队列。</p>
                     <p>要管理并行语句，必须使用具有<code class="codeph">PARALLEL_SERVER_LIMIT</code>属性和管理属性（ <code class="codeph">MGMT_P1</code> ， <code class="codeph">MGMT_P2</code>等）的并行语句排队。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-4BBE0B17-3B05-49FA-979A-C649A9EE6DD9" title="资源计划指令指定如何将资源分配给资源使用者组或子计划。每个指令可以指定几种不同的方法来将资源分配给其使用者组或子计划。">资源管理器管理的资源类型</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11858"></a><div class="props_rev_3"><a id="GUID-3BF122ED-7A05-45CB-ACEC-585B7BAB056A" name="GUID-3BF122ED-7A05-45CB-ACEC-585B7BAB056A"></a><h4 id="ADMIN-GUID-3BF122ED-7A05-45CB-ACEC-585B7BAB056A" class="sect4"><span class="enumeration_section">27.3.7</span>撤消池</h4>
                  <div>
                     <p>您可以为每个使用者组指定一个撤消池。撤消池控制可由消费者组生成的未提交事务的撤消总量。</p>
                     <p>当消费者组生成的总撤消超过其撤消限制时，将终止生成撤消的当前DML语句。在从池中释放撤消空间之前，消费者组的其他成员不能执行进一步的数据操作。</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-4BBE0B17-3B05-49FA-979A-C649A9EE6DD9" title="资源计划指令指定如何将资源分配给资源使用者组或子计划。每个指令可以指定几种不同的方法来将资源分配给其使用者组或子计划。">资源管理器管理的资源类型</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11859"></a><div class="props_rev_3"><a id="GUID-6DDADDCA-1E89-4F50-9089-7AAA8C056CA5" name="GUID-6DDADDCA-1E89-4F50-9089-7AAA8C056CA5"></a><h4 id="ADMIN-GUID-6DDADDCA-1E89-4F50-9089-7AAA8C056CA5" class="sect4"><span class="enumeration_section">27.3.8</span>空闲时间限制</h4>
                  <div>
                     <p>您可以指定会话可以空闲的时间量，之后会话终止。</p>
                     <p>您还可以指定更严格的空闲时间限制，该限制适用于空闲的会话并阻止其他会话。</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-4BBE0B17-3B05-49FA-979A-C649A9EE6DD9" title="资源计划指令指定如何将资源分配给资源使用者组或子计划。每个指令可以指定几种不同的方法来将资源分配给其使用者组或子计划。">资源管理器管理的资源类型</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADMIN12649"></a><a id="ADMIN11861"></a><div class="props_rev_3"><a id="GUID-EFC4517C-6C4D-44F8-A652-2266D6FB49EB" name="GUID-EFC4517C-6C4D-44F8-A652-2266D6FB49EB"></a><h3 id="ADMIN-GUID-EFC4517C-6C4D-44F8-A652-2266D6FB49EB" class="sect3"><span class="enumeration_section">27.4</span>创建简单的资源计划</h3>
               <div>
                  <p>您可以使用<code class="codeph">CREATE_SIMPLE_PLAN</code>过程快速创建适用于许多情况的简单资源计划。
                  </p>
                  <div class="section">
                     <p>此过程使您可以通过执行单个过程调用来创建使用者组并为其分配资源。使用此过程，您无需调用后续部分中描述的过程来创建挂起区域，单独创建每个使用者组，指定资源计划指令等。</p>
                     <p>您为<code class="codeph">CREATE_SIMPLE_PLAN</code>过程指定以下参数：</p>
                     <div class="tblformal" id="GUID-EFC4517C-6C4D-44F8-A652-2266D6FB49EB__GUID-361099EF-D963-4B81-847A-6FB9BBA32CED">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Column 1 lists the parameters that can be specified for the CREATE_SIMPLE_PLAN procedure. Column2 describes the function of each parameter." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="44%" id="d241756e5077">参数</th>
                                 <th align="left" valign="bottom" width="56%" id="d241756e5080">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="44%" id="d241756e5085" headers="d241756e5077 ">
                                    <p><code class="codeph">简单的计划</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="56%" headers="d241756e5085 d241756e5080 ">
                                    <p>计划名称</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="44%" id="d241756e5094" headers="d241756e5077 ">
                                    <p><code class="codeph">CONSUMER_GROUP1</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="56%" headers="d241756e5094 d241756e5080 ">
                                    <p>第一组的使用者组名称</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="44%" id="d241756e5103" headers="d241756e5077 ">
                                    <p><code class="codeph">GROUP1_PERCENT</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="56%" headers="d241756e5103 d241756e5080 ">
                                    <p>分配给该组的CPU资源</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="44%" id="d241756e5112" headers="d241756e5077 ">
                                    <p><code class="codeph">CONSUMER_GROUP2</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="56%" headers="d241756e5112 d241756e5080 ">
                                    <p>第二组的使用者组名称</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="44%" id="d241756e5121" headers="d241756e5077 ">
                                    <p><code class="codeph">GROUP2_PERCENT</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="56%" headers="d241756e5121 d241756e5080 ">
                                    <p>分配给该组的CPU资源</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="44%" id="d241756e5130" headers="d241756e5077 ">
                                    <p><code class="codeph">CONSUMER_GROUP3</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="56%" headers="d241756e5130 d241756e5080 ">
                                    <p>第三组的使用者组名称</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="44%" id="d241756e5139" headers="d241756e5077 ">
                                    <p><code class="codeph">GROUP3_PERCENT</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="56%" headers="d241756e5139 d241756e5080 ">
                                    <p>分配给该组的CPU资源</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="44%" id="d241756e5148" headers="d241756e5077 ">
                                    <p><code class="codeph">CONSUMER_GROUP4</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="56%" headers="d241756e5148 d241756e5080 ">
                                    <p>第四组的使用者组名称</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="44%" id="d241756e5157" headers="d241756e5077 ">
                                    <p><code class="codeph">GROUP4_PERCENT</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="56%" headers="d241756e5157 d241756e5080 ">
                                    <p>分配给该组的CPU资源</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="44%" id="d241756e5166" headers="d241756e5077 ">
                                    <p><code class="codeph">CONSUMER_GROUP5</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="56%" headers="d241756e5166 d241756e5080 ">
                                    <p>第五组的使用者组名称</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="44%" id="d241756e5175" headers="d241756e5077 ">
                                    <p><code class="codeph">GROUP5_PERCENT</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="56%" headers="d241756e5175 d241756e5080 ">
                                    <p>分配给该组的CPU资源</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="44%" id="d241756e5185" headers="d241756e5077 ">
                                    <p><code class="codeph">CONSUMER_GROUP6</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="56%" headers="d241756e5185 d241756e5080 ">
                                    <p>第六组的消费者组名称</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="44%" id="d241756e5194" headers="d241756e5077 ">
                                    <p><code class="codeph">GROUP6_PERCENT</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="56%" headers="d241756e5194 d241756e5080 ">
                                    <p>分配给该组的CPU资源</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="44%" id="d241756e5203" headers="d241756e5077 ">
                                    <p><code class="codeph">CONSUMER_GROUP7</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="56%" headers="d241756e5203 d241756e5080 ">
                                    <p>第七组的消费者组名称</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="44%" id="d241756e5212" headers="d241756e5077 ">
                                    <p><code class="codeph">GROUP7_PERCENT</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="56%" headers="d241756e5212 d241756e5080 ">
                                    <p>分配给该组的CPU资源</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="44%" id="d241756e5221" headers="d241756e5077 ">
                                    <p><code class="codeph">CONSUMER_GROUP8</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="56%" headers="d241756e5221 d241756e5080 ">
                                    <p>第八组的消费者组名称</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="44%" id="d241756e5230" headers="d241756e5077 ">
                                    <p><code class="codeph">GROUP8_PERCENT</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="56%" headers="d241756e5230 d241756e5080 ">
                                    <p>分配给该组的CPU资源</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>您可以使用此过程指定最多八个使用者组。支持的唯一资源分配方法是CPU。该计划使用<code class="codeph">EMPHASIS</code> CPU分配策略（默认值），每个使用者组使用<code class="codeph">ROUND_ROBIN</code>调度策略（也是默认值）。计划中指定的每个使用者组在第2级分配其CPU百分比。计划中还隐含了<code class="codeph">SYS_GROUP</code> （系统定义的组，即用户<code class="codeph">SYS</code>和<code class="codeph">SYSTEM</code>的初始使用者组）和<code class="codeph">OTHER_GROUPS</code> 。 <code class="codeph">SYS_GROUP</code>使用者组在级别1分配100％的CPU，而<code class="codeph">OTHER_GROUPS</code>在级别3分配100％的CPU。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-EFC4517C-6C4D-44F8-A652-2266D6FB49EB__GUID-10917571-6EB0-4B71-AD91-7AC0110F901B">示例：使用CREATE_SIMPLE_PLAN过程创建简单计划</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>以下PL / SQL块创建一个包含两个用户指定的使用者组的简单资源计划：</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_RESOURCE_MANAGER.CREATE_SIMPLE_PLAN（SIMPLE_PLAN =&gt;'SIMPLE_PLAN1'，CONSUMER_GROUP1 =&gt;'MYGROUP1'，GROUP1_PERCENT =&gt; 80，CONSUMER_GROUP2 =&gt;'MYGROUP2'，GROUP2_PERCENT =&gt; 20）;结束; /</pre><p>执行前面的语句会创建以下计划：</p>
                     <div class="tblformal" id="GUID-EFC4517C-6C4D-44F8-A652-2266D6FB49EB__GUID-C78033BA-AB51-4B1F-96AA-AD8E71A4C8BC">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="This table describes the results of executing the previous statements. Column 1 lists the consumer group, columns 2-4 show the amount of CPU granted to each level (level1, level 2, and level3, respectively)." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="32%" id="d241756e5285">消费者集团</th>
                                 <th align="left" valign="bottom" width="23%" id="d241756e5288">1级</th>
                                 <th align="left" valign="bottom" width="23%" id="d241756e5291">2级</th>
                                 <th align="left" valign="bottom" width="23%" id="d241756e5294">3级</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="32%" id="d241756e5299" headers="d241756e5285 ">
                                    <p><code class="codeph">SYS_GROUP</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="23%" headers="d241756e5299 d241756e5288 ">
                                    <p>100％</p>
                                 </td>
                                 <td align="left" valign="top" width="23%" headers="d241756e5299 d241756e5291 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="23%" headers="d241756e5299 d241756e5294 ">
                                    <p>-</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="32%" id="d241756e5314" headers="d241756e5285 ">
                                    <p><code class="codeph">MyGroup1的</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="23%" headers="d241756e5314 d241756e5288 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="23%" headers="d241756e5314 d241756e5291 ">
                                    <p>80％</p>
                                 </td>
                                 <td align="left" valign="top" width="23%" headers="d241756e5314 d241756e5294 ">
                                    <p>-</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="32%" id="d241756e5329" headers="d241756e5285 ">
                                    <p><code class="codeph">MYGROUP2</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="23%" headers="d241756e5329 d241756e5288 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="23%" headers="d241756e5329 d241756e5291 ">
                                    <p>20％</p>
                                 </td>
                                 <td align="left" valign="top" width="23%" headers="d241756e5329 d241756e5294 ">
                                    <p>-</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="32%" id="d241756e5344" headers="d241756e5285 ">
                                    <p><code class="codeph">OTHER_GROUPS</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="23%" headers="d241756e5344 d241756e5288 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="23%" headers="d241756e5344 d241756e5291 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="23%" headers="d241756e5344 d241756e5294 ">
                                    <p>100％</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-EFC4517C-6C4D-44F8-A652-2266D6FB49EB__GUID-C0E45579-7B7E-4427-A0C6-8914F259C5EF">
                     <p class="notep1">也可以看看：</p>
                     <p></p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="q">“ <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-87C8949B-5251-43BB-8FDA-0AC385EC60FE" title="您使用CREATE_PLAN过程创建资源计划。">创建资源计划</a> ”</span>以获取有关<code class="codeph">EMPHASIS</code> CPU分配策略的更多信息</p>
                        </li>
                        <li>
                           <p><span class="q">“ <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-9CF0F7BF-F550-453F-ACB8-F26B416C564D" title="您可以使用CREATE_CONSUMER_GROUP过程创建资源使用者组。">创建资源使用者组</a> ”</span>以获取有关<code class="codeph">ROUND_ROBIN</code>调度策略的更多信息</p>
                        </li>
                        <li>
                           <p><span class="q">“ <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-0851CEC3-E8FD-48B2-A132-781EBA897CC0" title="资源管理器的元素包括资源使用者组，资源计划和资源计划指令。">资源管理器的元素</a> ”</span></p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-2BEF5482-CF97-4A85-BD90-9195E41E74EF" title="Oracle数据库资源管理器（资源管理器）使您可以管理数据库的资源分配。">使用Oracle数据库资源管理器管理资源</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADMIN11862"></a><div class="props_rev_3"><a id="GUID-4816CA07-1376-45FD-82D4-F9E332936683" name="GUID-4816CA07-1376-45FD-82D4-F9E332936683"></a><h3 id="ADMIN-GUID-4816CA07-1376-45FD-82D4-F9E332936683" class="sect3"><span class="enumeration_section">27.5</span>创建复杂的资源计划</h3>
               <div>
                  <p>当您的情况需要更复杂的资源计划时，您必须在称为挂起区域的暂存区域中创建计划及其指令和使用者组，然后在将计划存储到数据字典中之前验证计划。</p>
                  <div class="section">
                     <p>以下是创建复杂资源计划所需步骤的摘要。</p>
                     <div class="infoboxnote" id="GUID-4816CA07-1376-45FD-82D4-F9E332936683__GUID-667D08B0-3ABA-4657-A380-673063B10716">
                        <p class="notep1">注意：</p>
                        <p>复杂资源计划是不使用<code class="codeph">DBMS_RESOURCE_MANAGER.CREATE_SIMPLE_PLAN</code>过程创建的任何资源计划。
                        </p>
                     </div>
                     <p><span class="bold">第1步</span> ：创建待处理区域。
                     </p>
                     <p><span class="bold">第2步</span> ：创建，修改或删除使用者组。
                     </p>
                     <p><span class="bold">第3步：</span>将会话映射到使用者组。
                     </p>
                     <p><span class="bold">第4步</span> ：创建资源计划。
                     </p>
                     <p><span class="bold">第5步</span> ：创建资源计划指令。
                     </p>
                     <p><span class="bold">第6步</span> ：验证待处理区域。
                     </p>
                     <p><span class="bold">第7步</span> ：提交待处理区域。
                     </p>
                     <p>您可以使用<code class="codeph">DBMS_RESOURCE_MANAGER</code> PL / SQL包中的<code class="codeph">DBMS_RESOURCE_MANAGER</code>来完成这些步骤。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-A541F273-89D8-43DA-81CF-1F9BD46FC524">关于待定区域</a><br><span class="bold">待处理区域</span>是一个临时区域，您可以在其中创建新资源计划，更新现有计划或删除计划，而不会影响当前正在运行的应用程序。
                     </li>
                     <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-EF88A167-74C2-482A-BA44-2E14F6091411">创建待定区域</a><br>使用<code class="codeph">CREATE_PENDING_AREA</code>过程创建挂起区域。
                     </li>
                     <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-9CF0F7BF-F550-453F-ACB8-F26B416C564D">创建资源使用者组</a><br>您可以使用<code class="codeph">CREATE_CONSUMER_GROUP</code>过程创建资源使用者组。
                     </li>
                     <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-48954F1A-0AAE-4A88-969B-546B555F5664">将会话映射到消费者组</a><br>您可以使用<code class="codeph">SET_CONSUMER_GROUP_MAPPING</code>过程将会话映射到使用者组。
                     </li>
                     <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-87C8949B-5251-43BB-8FDA-0AC385EC60FE">创建资源计划</a><br>您使用<code class="codeph">CREATE_PLAN</code>过程创建资源计划。
                     </li>
                     <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-3BDCC024-22DD-479D-A7C3-92E7145C854F">创建资源计划指令</a><br>您可以使用<code class="codeph">CREATE_PLAN_DIRECTIVE</code>过程来创建资源计划指令。每个指令属于计划或子计划，并将资源分配给使用者组或子计划。
                     </li>
                     <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-A5C6447B-BFF5-4CCE-8114-8AD230375082">验证待定区域</a><br>在您在待处理区域中进行更改时，您可以调用<code class="codeph">VALIDATE_PENDING_AREA</code>以确保到目前为止待处理区域有效。
                     </li>
                     <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-6A81232C-BCA8-4939-8496-FC082ACA318E">提交待定区域</a><br>验证更改后，请调用<code class="codeph">SUBMIT_PENDING_AREA</code>过程以激活更改。
                     </li>
                     <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-2007FCF4-B204-4DF7-BAEE-0823D777CD8E">清除待定区域</a><br>您可以使用<code class="codeph">CLEAR_PENDING_AREA</code>过程随时清除待处理区域。
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-4816CA07-1376-45FD-82D4-F9E332936683__GUID-8E69E0C9-4812-4E26-8692-16785148FF2C">
                     <p class="notep1">也可以看看：</p>
                     <p></p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-AC101C05-DD43-445C-85F7-0A04DCBC2EE0" title="Oracle Database包含预定义的使用者组映射规则。">预定义的使用者组映射规则</a></p>
                        </li>
                        <li>
                           <p>有关<code class="codeph">DBMS_RESOURCE_MANAGER</code> PL / SQL包的详细信息，请参阅<a href="../arpls/DBMS_RESOURCE_MANAGER.html#ARPLS050" target="_blank"><span class="italic">Oracle Database PL / SQL包和类型参考</span></a> 。
                           </p>
                        </li>
                        <li>
                           <p><span class="q">“ <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-0851CEC3-E8FD-48B2-A132-781EBA897CC0" title="资源管理器的元素包括资源使用者组，资源计划和资源计划指令。">资源管理器的元素</a> ”</span></p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-2BEF5482-CF97-4A85-BD90-9195E41E74EF" title="Oracle数据库资源管理器（资源管理器）使您可以管理数据库的资源分配。">使用Oracle数据库资源管理器管理资源</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN11863"></a><div class="props_rev_3"><a id="GUID-A541F273-89D8-43DA-81CF-1F9BD46FC524" name="GUID-A541F273-89D8-43DA-81CF-1F9BD46FC524"></a><h4 id="ADMIN-GUID-A541F273-89D8-43DA-81CF-1F9BD46FC524" class="sect4"><span class="enumeration_section">27.5.1</span>关于待定区域</h4>
                  <div>
                     <p><span class="bold">待处理区域</span>是一个临时区域，您可以在其中创建新资源计划，更新现有计划或删除计划，而不会影响当前正在运行的应用程序。
                     </p>
                     <p>创建挂起区域时，数据库会对其进行初始化，然后将现有计划复制到挂起区域，以便可以更新它们。</p>
                     <div class="infobox-tip" id="GUID-A541F273-89D8-43DA-81CF-1F9BD46FC524__GUID-0BEC3E79-EDEA-4CCA-871B-5FEB50DF56E3">
                        <p class="notep1">小费：</p>
                        <p>创建待处理区域后，如果通过查询<code class="codeph">DBA_RSRC_PLANS</code>数据字典视图列出所有计划，则会看到每个计划的两个副本：一个具有<code class="codeph">PENDING</code>状态，另一个没有。具有<code class="codeph">PENDING</code>状态的计划反映了自创建待处理区域以来对计划所做的任何更改。待定的变化也可以被看作使用的消费群体<code class="codeph">DBA_RSRC_CONSUMER_GROUPS</code>和使用资源计划指令<code class="codeph">DBA_RSRC_PLAN_DIRECTIVES</code> 。有关更多信息，请参阅<a href="managing-resources-with-oracle-database-resource-manager.html#GUID-C253E1D1-513A-4F52-A619-325B1B33D8C0" title="您可以查询一组数据字典视图，以获取与数据库资源管理相关的信息。">资源管理器数据字典视</a>
                        </p>
                     </div>
                     <p>在待处理区域中进行更改后，您将验证待处理区域，然后提交它。提交后，所有挂起的更改都将应用于数据字典，并清除和停用待处理区域。</p>
                     <p>如果在未先创建挂起区域的情况下尝试创建，更新或删除计划（或创建，更新或删除使用者组或资源计划指令），则会收到错误消息。</p>
                     <p>提交待处理区域不会激活您创建的任何新计划;它只是在数据字典中存储新的或更新的计划信息。但是，如果修改当前处于活动状态的计划，则会使用新计划定义重新激活该计划。有关激活资源计划的信息，请参阅<span class="q">“ <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-E8FABE8D-A781-49BB-B623-98F096DED239" title="您可以通过设置RESOURCE_MANAGER_PLAN初始化参数来启用Oracle数据库资源管理器（资源管理器）。此参数指定顶层计划，标识要用于当前实例的计划。如果未使用此参数指定计划，则不会启用资源管理器。">启用Oracle数据库资源管理器和切换计划</a> ”</span> 。
                     </p>
                     <p>创建待处理区域时，在您提交或清除待处理区域或注销之前，其他任何用户都无法创建。</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-4816CA07-1376-45FD-82D4-F9E332936683" title="当您的情况需要更复杂的资源计划时，您必须在称为挂起区域的暂存区域中创建计划及其指令和使用者组，然后在将计划存储到数据字典中之前验证计划。">创建复杂资源计划</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN12650"></a><a id="ADMIN11864"></a><div class="props_rev_3"><a id="GUID-EF88A167-74C2-482A-BA44-2E14F6091411" name="GUID-EF88A167-74C2-482A-BA44-2E14F6091411"></a><h4 id="ADMIN-GUID-EF88A167-74C2-482A-BA44-2E14F6091411" class="sect4"><span class="enumeration_section">27.5.2</span>创建待定区域</h4>
                  <div>
                     <p>使用<code class="codeph">CREATE_PENDING_AREA</code>过程创建挂起区域。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-EF88A167-74C2-482A-BA44-2E14F6091411__GUID-A8734D26-E6B5-48D1-A2B6-DD0F12DA465F">示例：创建待处理区域：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>以下PL / SQL块创建并初始化挂起区域：</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_RESOURCE_MANAGER.CREATE_PENDING_AREA（）;结束; /</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-4816CA07-1376-45FD-82D4-F9E332936683" title="当您的情况需要更复杂的资源计划时，您必须在称为挂起区域的暂存区域中创建计划及其指令和使用者组，然后在将计划存储到数据字典中之前验证计划。">创建复杂资源计划</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN12651"></a><a id="ADMIN11865"></a><div class="props_rev_3"><a id="GUID-9CF0F7BF-F550-453F-ACB8-F26B416C564D" name="GUID-9CF0F7BF-F550-453F-ACB8-F26B416C564D"></a><h4 id="ADMIN-GUID-9CF0F7BF-F550-453F-ACB8-F26B416C564D" class="sect4"><span class="enumeration_section">27.5.3</span>创建资源使用者组</h4>
                  <div>
                     <p>您可以使用<code class="codeph">CREATE_CONSUMER_GROUP</code>过程创建资源使用者组。
                     </p>
                     <div class="section">
                        <p>您可以指定以下参数：</p>
                        <div class="tblformal" id="GUID-9CF0F7BF-F550-453F-ACB8-F26B416C564D__GUID-491019C2-402F-4C36-AC3C-BF06547F5C91">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Column 1 lists the parameters that can be specified when you create a resource consumer group. Column 2 describes the function of each parameter." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="27%" id="d241756e5800">参数</th>
                                    <th align="left" valign="bottom" width="73%" id="d241756e5803">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d241756e5808" headers="d241756e5800 ">
                                       <p><code class="codeph">CONSUMER_GROUP</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="73%" headers="d241756e5808 d241756e5803 ">
                                       <p>要分配给使用者组的名称。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d241756e5817" headers="d241756e5800 ">
                                       <p><code class="codeph">评论</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="73%" headers="d241756e5817 d241756e5803 ">
                                       <p>任何意见。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d241756e5826" headers="d241756e5800 ">
                                       <p><code class="codeph">CPU_MTH</code></p>
                                    </td>
                                    <td align="left" valign="top" width="73%" headers="d241756e5826 d241756e5803 ">
                                       <p>已过时。使用<code class="codeph">MGMT_MTH</code> 。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d241756e5837" headers="d241756e5800 ">
                                       <p><code class="codeph">MGMT_MTH</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="73%" headers="d241756e5837 d241756e5803 ">
                                       <p>用于在消费者组中的会话之间分配CPU的资源分配方法。默认值为<code class="codeph">'ROUND-ROBIN'</code> ，它使用循环调度程序来确保会话公平执行。<code class="codeph">'RUN-TO-COMPLETION'</code>指定在其他会话之前安排长时间运行的会话。此设置可帮助更快地完成长时间运行的会话（例如批处理）。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9CF0F7BF-F550-453F-ACB8-F26B416C564D__GUID-8FDBF740-D3E8-4B1F-93F9-4E30156955C1">示例：创建资源使用者组</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>以下PL / SQL块创建一个名为<code class="codeph">OLTP</code>的使用者组，其默认（ <code class="codeph">ROUND-ROBIN</code> ）方法是为组中的会话分配资源：</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_RESOURCE_MANAGER.CREATE_CONSUMER_GROUP（CONSUMER_GROUP =&gt;'OLTP'，COMMENT =&gt;'OLTP applications'）;结束; /</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-9CF0F7BF-F550-453F-ACB8-F26B416C564D__GUID-EC66E999-59E1-4961-9E6A-39DA3957D5F1">
                        <p class="notep1">也可以看看：</p>
                        <p></p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-9073BCF5-FA7B-473B-9D7A-B4CA31C0EB4F" title="您使用UPDATE_CONSUMER_GROUP过程来更新使用者组信息。">更新消费者群体</a> ”</span></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-5AA84FCC-5D81-4A25-800A-FD2C6AEBF288" title="DELETE_CONSUMER_GROUP过程删除指定的使用者组。">删除消费者群体</a> ”</span></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-4816CA07-1376-45FD-82D4-F9E332936683" title="当您的情况需要更复杂的资源计划时，您必须在称为挂起区域的暂存区域中创建计划及其指令和使用者组，然后在将计划存储到数据字典中之前验证计划。">创建复杂资源计划</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN14163"></a><a id="ADMIN14162"></a><div class="props_rev_3"><a id="GUID-48954F1A-0AAE-4A88-969B-546B555F5664" name="GUID-48954F1A-0AAE-4A88-969B-546B555F5664"></a><h4 id="ADMIN-GUID-48954F1A-0AAE-4A88-969B-546B555F5664" class="sect4"><span class="enumeration_section">27.5.4</span>将会话映射到消费者组</h4>
                  <div>
                     <p>您可以使用<code class="codeph">SET_CONSUMER_GROUP_MAPPING</code>过程将会话映射到使用者组。
                     </p>
                     <div class="section">
                        <p>您可以指定以下参数：</p>
                        <div class="tblformal" id="GUID-48954F1A-0AAE-4A88-969B-546B555F5664__GUID-79C01EA4-EA76-4AE9-8B8B-6E7F6609E165">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Column 1 lists the parameters that can be specified when you map a session to a resource consumer group. Column 2 describes the function of each parameter. " frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="36%" id="d241756e5940">参数</th>
                                    <th align="left" valign="bottom" width="64%" id="d241756e5943">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d241756e5948" headers="d241756e5940 ">
                                       <p><code class="codeph">属性</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="64%" headers="d241756e5948 d241756e5943 ">
                                       <p>会话属性类型，指定为包常量。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d241756e5957" headers="d241756e5940 ">
                                       <p><code class="codeph">值</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="64%" headers="d241756e5957 d241756e5943 ">
                                       <p>属性的值。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d241756e5966" headers="d241756e5940 ">
                                       <p><code class="codeph">CONSUMER_GROUP</code></p>
                                    </td>
                                    <td align="left" valign="top" width="64%" headers="d241756e5966 d241756e5943 ">
                                       <p>消费者组的名称。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-48954F1A-0AAE-4A88-969B-546B555F5664__GUID-A4F5078D-109E-4122-BE3C-ADFAE822761D">示例：将会话映射到使用者组</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>以下PL / SQL块将<code class="codeph">oe</code>用户映射到<code class="codeph">OLTP</code>使用者组：</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_RESOURCE_MANAGER.SET_CONSUMER_GROUP_MAPPING（ATTRIBUTE =&gt; DBMS_RESOURCE_MANAGER.ORACLE_USER，VALUE =&gt;'OE'，CONSUMER_GROUP =&gt;'OLTP'）;结束; /</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-48954F1A-0AAE-4A88-969B-546B555F5664__GUID-23DF313B-66AA-413A-AE60-48026EF91431">
                        <p class="notep1">也可以看看：</p>
                        <p><span class="q">“ <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-1D62EF37-F2E2-4595-BA47-DECDE899E62E" title="您使用SET_CONSUMER_GROUP_MAPPING过程将会话属性/值对映射到使用者组。">创建消费者组映射规则</a> ”</span></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-4816CA07-1376-45FD-82D4-F9E332936683" title="当您的情况需要更复杂的资源计划时，您必须在称为挂起区域的暂存区域中创建计划及其指令和使用者组，然后在将计划存储到数据字典中之前验证计划。">创建复杂资源计划</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN12652"></a><a id="ADMIN11866"></a><div class="props_rev_3"><a id="GUID-87C8949B-5251-43BB-8FDA-0AC385EC60FE" name="GUID-87C8949B-5251-43BB-8FDA-0AC385EC60FE"></a><h4 id="ADMIN-GUID-87C8949B-5251-43BB-8FDA-0AC385EC60FE" class="sect4"><span class="enumeration_section">27.5.5</span>创建资源计划</h4>
                  <div>
                     <p>您使用<code class="codeph">CREATE_PLAN</code>过程创建资源计划。
                     </p>
                     <div class="section">
                        <p>您可以指定下表中显示的参数。前两个参数是必需的。其余的是可选的。</p>
                        <div class="tblformal" id="GUID-87C8949B-5251-43BB-8FDA-0AC385EC60FE__GUID-1AF210F2-7CD4-40F8-9EBC-11C418DF788F">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Column 1 lists the parameters that can be specified when creating a resource plan. Column 2 describes the function of each parameter." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="32%" id="d241756e6117">参数</th>
                                    <th align="left" valign="bottom" width="68%" id="d241756e6120">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="32%" id="d241756e6125" headers="d241756e6117 ">
                                       <p><code class="codeph">计划</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="68%" headers="d241756e6125 d241756e6120 ">
                                       <p>要分配给计划的名称。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="32%" id="d241756e6134" headers="d241756e6117 ">
                                       <p><code class="codeph">评论</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="68%" headers="d241756e6134 d241756e6120 ">
                                       <p>任何描述性评论。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="32%" id="d241756e6143" headers="d241756e6117 ">
                                       <p><code class="codeph">CPU_MTH</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="68%" headers="d241756e6143 d241756e6120 ">
                                       <p>已过时。使用<code class="codeph">MGMT_MTH</code> 。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="32%" id="d241756e6155" headers="d241756e6117 ">
                                       <p><code class="codeph">ACTIVE_SESS_POOL_MTH</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="68%" headers="d241756e6155 d241756e6120 ">
                                       <p>活动会话池资源分配方法。<code class="codeph">ACTIVE_SESS_POOL_ABSOLUTE</code>是默认的唯一可用方法。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="32%" id="d241756e6167" headers="d241756e6117 ">
                                       <p><code class="codeph">PARALLEL_DEGREE_LIMIT_MTH</code></p>
                                    </td>
                                    <td align="left" valign="top" width="68%" headers="d241756e6167 d241756e6120 ">
                                       <p>用于指定<code class="codeph">PARALLEL_DEGREE_LIMIT_ABSOLUTE</code>限制的资源分配方法是默认且唯一可用的方法。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="32%" id="d241756e6178" headers="d241756e6117 ">
                                       <p><code class="codeph">QUEUEING_MTH</code></p>
                                    </td>
                                    <td align="left" valign="top" width="68%" headers="d241756e6178 d241756e6120 ">
                                       <p>排队资源分配方法。控制从队列中删除排队的非活动会话并将其添加到活动会话池的顺序。<code class="codeph">FIFO_TIMEOUT</code>是默认的唯一可用方法。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="32%" id="d241756e6189" headers="d241756e6117 ">
                                       <p><code class="codeph">MGMT_MTH</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="68%" headers="d241756e6189 d241756e6120 ">
                                       <p>资源分配方法，用于指定每个使用者组或子计划获得多少CPU。<code class="codeph">'EMPHASIS'</code>是一种默认方法，适用于单级或多级计划，它使用百分比来指定CPU在消费者组中的分布方式。<code class="codeph">'RATIO'</code>用于使用比率指定CPU分布方式的单级计划。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="32%" id="d241756e6204" headers="d241756e6117 ">
                                       <p><code class="codeph">SUB_PLAN</code></p>
                                    </td>
                                    <td align="left" valign="top" width="68%" headers="d241756e6204 d241756e6120 ">
                                       <p>如果为<code class="codeph">TRUE</code> ，则该计划不能用作最高计划;它只能用作子计划。默认值为<code class="codeph">FALSE</code> 。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-87C8949B-5251-43BB-8FDA-0AC385EC60FE__GUID-BC6466C8-3FBA-4680-B926-F2FDA2FDF1E7">示例：创建资源计划</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>以下PL / SQL块创建名为<code class="codeph">DAYTIME</code>的资源计划：</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_RESOURCE_MANAGER.CREATE_PLAN（PLAN =&gt;'DAYTIME'，COMMENT =&gt;'为OLTP应用程序提供更多资源'）;结束; /</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-33B74DA5-1CE6-43EE-A198-65E4FDC8497C">关于RATIO CPU分配方法</a><br><code class="codeph">RATIO</code>方法是一种备用CPU分配方法，用于仅具有单个CPU分配级别的简单计划。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-4816CA07-1376-45FD-82D4-F9E332936683" title="当您的情况需要更复杂的资源计划时，您必须在称为挂起区域的暂存区域中创建计划及其指令和使用者组，然后在将计划存储到数据字典中之前验证计划。">创建复杂资源计划</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADMIN11867"></a><div class="props_rev_3"><a id="GUID-33B74DA5-1CE6-43EE-A198-65E4FDC8497C" name="GUID-33B74DA5-1CE6-43EE-A198-65E4FDC8497C"></a><h5 id="ADMIN-GUID-33B74DA5-1CE6-43EE-A198-65E4FDC8497C" class="sect5"><span class="enumeration_section">27.5.5.1</span>关于RATIO CPU分配方法</h5>
                     <div>
                        <p><code class="codeph">RATIO</code>方法是一种备用CPU分配方法，用于仅具有单个CPU分配级别的简单计划。
                        </p>
                        <p>您可以指定与要为每个使用者组提供的CPU比率相对应的数字，而不是百分比。要使用<code class="codeph">RATIO</code>方法，请将<code class="codeph">CREATE_PLAN</code>过程的<code class="codeph">MGMT_MTH</code>参数设置为“ <code class="codeph">RATIO</code> ”。有关使用此方法的计划示例，请参阅<span class="q">“ <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-3BDCC024-22DD-479D-A7C3-92E7145C854F" title="您可以使用CREATE_PLAN_DIRECTIVE过程来创建资源计划指令。每个指令属于计划或子计划，并将资源分配给使用者组或子计划。">创建资源计划指令</a> ”</span> 。
                        </p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-33B74DA5-1CE6-43EE-A198-65E4FDC8497C__GUID-A80FEC10-B1B7-4900-B02F-5765DA5CDD06">
                           <p class="notep1">也可以看看：</p>
                           <p></p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="q">“ <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-BF867BB4-2DCD-4715-A0A5-A2514CB2C43E" title="您使用UPDATE_PLAN过程来更新计划信息。">更新计划</a> ”</span></p>
                              </li>
                              <li>
                                 <p><span class="q">“ <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-3EC483D5-2808-448A-84F5-24D79944F121" title="DELETE_PLAN过程删除指定的计划以及与之关联的所有计划指令。">删除计划</a> ”</span></p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-87C8949B-5251-43BB-8FDA-0AC385EC60FE" title="您使用CREATE_PLAN过程创建资源计划。">创建资源计划</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="ADMIN12653"></a><a id="ADMIN12654"></a><a id="ADMIN11868"></a><div class="props_rev_3"><a id="GUID-3BDCC024-22DD-479D-A7C3-92E7145C854F" name="GUID-3BDCC024-22DD-479D-A7C3-92E7145C854F"></a><h4 id="ADMIN-GUID-3BDCC024-22DD-479D-A7C3-92E7145C854F" class="sect4"><span class="enumeration_section">27.5.6</span>创建资源计划指令</h4>
                  <div>
                     <p>您可以使用<code class="codeph">CREATE_PLAN_DIRECTIVE</code>过程来创建资源计划指令。每个指令属于计划或子计划，并将资源分配给使用者组或子计划。
                     </p>
                     <div class="section"> 
                        <div class="infoboxnote" id="GUID-3BDCC024-22DD-479D-A7C3-92E7145C854F__GUID-6F4AA2D4-C078-470D-909A-CAC70509BE9D">
                           <p class="notep1">注意：</p>
                           <p>资源计划及其子计划的指令集只能将特定子计划命名一次。</p>
                           <p>您可以在顶层计划及其子计划中为特定的使用者组指定指令。但是，Oracle建议资源计划及其子计划的指令集仅为特定的使用者组命名一次。</p>
                        </div>
                        <p>您可以指定以下参数：</p>
                        <div class="tblformal" id="GUID-3BDCC024-22DD-479D-A7C3-92E7145C854F__GUID-EDDF20E4-40FC-4A0F-AEB7-3607A6112C7E">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Column 1 lists the parameters that can be specified when you create a resource plan directive. Column 2 describes the function of each parameter." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d241756e6402">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d241756e6405">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d241756e6410" headers="d241756e6402 ">
                                       <p><code class="codeph">计划</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d241756e6410 d241756e6405 ">
                                       <p>指令所属的资源计划的名称。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d241756e6419" headers="d241756e6402 ">
                                       <p><code class="codeph">GROUP_OR_SUBPLAN</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d241756e6419 d241756e6405 ">
                                       <p>要分配资源的使用者组或子计划的名称。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d241756e6428" headers="d241756e6402 ">
                                       <p><code class="codeph">评论</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d241756e6428 d241756e6405 ">
                                       <p>任何意见。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d241756e6437" headers="d241756e6402 ">
                                       <p><code class="codeph">CPU_P1</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d241756e6437 d241756e6405 ">
                                       <p>已过时。使用<code class="codeph">MGMT_P1</code> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d241756e6449" headers="d241756e6402 ">
                                       <p><code class="codeph">CPU_P2</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d241756e6449 d241756e6405 ">
                                       <p>已过时。使用<code class="codeph">MGMT_P2</code> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d241756e6461" headers="d241756e6402 ">
                                       <p><code class="codeph">CPU_P3</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d241756e6461 d241756e6405 ">
                                       <p>已过时。使用<code class="codeph">MGMT_P3</code> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d241756e6473" headers="d241756e6402 ">
                                       <p><code class="codeph">CPU_P4</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d241756e6473 d241756e6405 ">
                                       <p>已过时。使用<code class="codeph">MGMT_P4</code> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d241756e6485" headers="d241756e6402 ">
                                       <p><code class="codeph">CPU_P5</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d241756e6485 d241756e6405 ">
                                       <p>已过时。使用<code class="codeph">MGMT_P5</code> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d241756e6497" headers="d241756e6402 ">
                                       <p><code class="codeph">CPU_P6</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d241756e6497 d241756e6405 ">
                                       <p>已过时。使用<code class="codeph">MGMT_P6</code> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d241756e6509" headers="d241756e6402 ">
                                       <p><code class="codeph">CPU_P7</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d241756e6509 d241756e6405 ">
                                       <p>已过时。使用<code class="codeph">MGMT_P7</code> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d241756e6521" headers="d241756e6402 ">
                                       <p><code class="codeph">CPU_P8</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d241756e6521 d241756e6405 ">
                                       <p>已过时。使用<code class="codeph">MGMT_P8</code> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d241756e6534" headers="d241756e6402 ">
                                       <p><code class="codeph">ACTIVE_SESS_POOL_P1</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d241756e6534 d241756e6405 ">
                                       <p>指定使用者组的最大并发活动会话数。其他会话等待在非活动会话队列中执行。默认为<code class="codeph">UNLIMITED</code> 。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d241756e6546" headers="d241756e6402 ">
                                       <p><code class="codeph">QUEUEING_P1</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d241756e6546 d241756e6405 ">
                                       <p>指定非活动会话队列（等待执行）中的会话超时且呼叫中止的时间（以秒为单位）。默认为<code class="codeph">UNLIMITED</code> 。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d241756e6558" headers="d241756e6402 ">
                                       <p><code class="codeph">PARALLEL_DEGREE_LIMIT_P1</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d241756e6558 d241756e6405 ">
                                       <p>指定任何操作的并行度限制。默认为<code class="codeph">UNLIMITED</code> 。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d241756e6570" headers="d241756e6402 ">
                                       <p><code class="codeph">SWITCH_GROUP</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d241756e6570 d241756e6405 ">
                                       <p>指定在满足切换条件时切换会话的使用者组。</p>
                                       <p>如果组名称为<code class="codeph">CANCEL_SQL</code> ，则在满足切换条件时将取消当前呼叫。如果组名称为<code class="codeph">CANCEL_SQL</code> ，则<code class="codeph">SWITCH_FOR_CALL</code>参数始终设置为<code class="codeph">TRUE</code> ，从而覆盖用户指定的设置。
                                       </p>
                                       <p>如果组名称为<code class="codeph">KILL_SESSION</code> ，则会在满足切换条件时<code class="codeph">KILL_SESSION</code>会话。
                                       </p>
                                       <p>如果组名称为<code class="codeph">LOG_ONLY</code> ，则会在实时SQL监视中记录有关会话的信息，但不会对会话执行任何特定操作。
                                       </p>
                                       <p>如果为<code class="codeph">NULL</code> ，则不会切换会话，也不会执行其他日志记录。默认值为<code class="codeph">NULL</code> 。如果此参数设置为<code class="codeph">NULL</code>并且任何其他switch参数设置为非<code class="codeph">NULL</code>则会返回错误。</p>
                                       <p><span class="bold">注意：</span>保留以下使用者组名称： <code class="codeph">CANCEL_SQL</code> ， <code class="codeph">KILL_SESSION</code>和<code class="codeph">LOG_ONLY</code> 。如果您尝试使用其中一个名称创建使用者组，则会出现错误。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d241756e6630" headers="d241756e6402 ">
                                       <p><code class="codeph">SWITCH_TIME</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d241756e6630 d241756e6405 ">
                                       <p>指定在执行操作之前调用可以执行的时间（以CPU秒为单位）。默认为<code class="codeph">UNLIMITED</code> 。该操作由<code class="codeph">SWITCH_GROUP</code>指定。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d241756e6645" headers="d241756e6402 ">
                                       <p><code class="codeph">SWITCH_ESTIMATE</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d241756e6645 d241756e6405 ">
                                       <p>如果为<code class="codeph">TRUE</code> ，则数据库估计每次调用的执行时间，如果估计的执行时间超过<code class="codeph">SWITCH_TIME</code> ， <code class="codeph">SWITCH_GROUP</code>在开始调用之前将会话切换到<code class="codeph">SWITCH_GROUP</code> 。默认值为<code class="codeph">FALSE</code> 。</p>
                                       <p>执行时间估计从优化器获得。估计的准确性取决于许多因素，尤其是优化器统计数据的质量。一般来说，您应该期望统计数据不会超过±10分钟。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d241756e6668" headers="d241756e6402 ">
                                       <p><code class="codeph">MAX_EST_EXEC_TIME</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d241756e6668 d241756e6405 ">
                                       <p>指定呼叫允许的最长执行时间（以CPU秒为单位）。如果优化程序估计呼叫将花费的时间超过<code class="codeph">MAX_EST_EXEC_TIME</code> ，则不允许进行呼叫并发出<code class="codeph">ORA-07455</code> 。如果优化程序未提供估计值，则此指令无效。默认为<code class="codeph">UNLIMITED</code> 。</p>
                                       <p>估计的准确性取决于许多因素，尤其是优化器统计数据的质量。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d241756e6688" headers="d241756e6402 ">
                                       <p><code class="codeph">UNDO_POOL</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d241756e6688 d241756e6405 ">
                                       <p>设置可由消费者组生成的未提交事务的撤消总量的最大值（千字节（K））。默认为<code class="codeph">UNLIMITED</code> 。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d241756e6700" headers="d241756e6402 ">
                                       <p><code class="codeph">MAX_IDLE_TIME</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d241756e6700 d241756e6405 ">
                                       <p>最大会话空闲时间，以秒为单位。默认值为<code class="codeph">NULL</code> ，表示无限制。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d241756e6712" headers="d241756e6402 ">
                                       <p><code class="codeph">MAX_IDLE_BLOCKER_TIME</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d241756e6712 d241756e6405 ">
                                       <p>阻塞会话的最大会话空闲时间，以秒为单位。默认值为<code class="codeph">NULL</code> ，表示无限制。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d241756e6724" headers="d241756e6402 ">
                                       <p><code class="codeph">SWITCH_TIME_IN_CALL</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d241756e6724 d241756e6405 ">
                                       <p>已过时。使用<code class="codeph">SWITCH_FOR_CALL</code> 。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d241756e6737" headers="d241756e6402 ">
                                       <p><code class="codeph">MGMT_P1</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d241756e6737 d241756e6405 ">
                                       <p>对于<code class="codeph">MGMT_MTH</code>参数设置为<code class="codeph">EMPHASIS</code>的计划，指定要在第一级分配的CPU百分比。对于设置为<code class="codeph">RATIO</code> <code class="codeph">MGMT_MTH</code> ，指定CPU使用的权重。所有<code class="codeph">MGMT_P</code> <span class="italic"><code class="codeph">n</code></span>参数的默认值均为<code class="codeph">NULL</code> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d241756e6768" headers="d241756e6402 ">
                                       <p><code class="codeph">MGMT_P2</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d241756e6768 d241756e6405 ">
                                       <p>对于<code class="codeph">EMPHASIS</code> ，指定要在第二级分配的CPU百分比。不适用于<code class="codeph">RATIO</code> 。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d241756e6783" headers="d241756e6402 ">
                                       <p><code class="codeph">MGMT_P3</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d241756e6783 d241756e6405 ">
                                       <p>对于<code class="codeph">EMPHASIS</code> ，指定要在第三级分配的CPU百分比。不适用于<code class="codeph">RATIO</code> 。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d241756e6798" headers="d241756e6402 ">
                                       <p><code class="codeph">MGMT_P4</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d241756e6798 d241756e6405 ">
                                       <p>对于<code class="codeph">EMPHASIS</code> ，指定要在第四级分配的CPU百分比。不适用于<code class="codeph">RATIO</code> 。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d241756e6813" headers="d241756e6402 ">
                                       <p><code class="codeph">MGMT_P5</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d241756e6813 d241756e6405 ">
                                       <p>对于<code class="codeph">EMPHASIS</code> ，指定要在第五级分配的CPU百分比。不适用于<code class="codeph">RATIO</code> 。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d241756e6828" headers="d241756e6402 ">
                                       <p><code class="codeph">MGMT_P6</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d241756e6828 d241756e6405 ">
                                       <p>对于<code class="codeph">EMPHASIS</code> ，指定要在第六级分配的CPU百分比。不适用于<code class="codeph">RATIO</code> 。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d241756e6843" headers="d241756e6402 ">
                                       <p><code class="codeph">MGMT_P7</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d241756e6843 d241756e6405 ">
                                       <p>对于<code class="codeph">EMPHASIS</code> ，指定要在第七级分配的CPU百分比。不适用于<code class="codeph">RATIO</code> 。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d241756e6858" headers="d241756e6402 ">
                                       <p><code class="codeph">MGMT_P8</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d241756e6858 d241756e6405 ">
                                       <p>对于<code class="codeph">EMPHASIS</code> ，指定要在第八级分配的CPU百分比。不适用于<code class="codeph">RATIO</code> 。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d241756e6873" headers="d241756e6402 ">
                                       <p><code class="codeph">SWITCH_IO_MEGABYTES</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d241756e6873 d241756e6405 ">
                                       <p>指定在执行操作之前会话可以传输（读取和写入）的物理I / O的兆字节数。默认为<code class="codeph">UNLIMITED</code> 。该操作由<code class="codeph">SWITCH_GROUP</code>指定。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d241756e6887" headers="d241756e6402 ">
                                       <p><code class="codeph">SWITCH_IO_REQS</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d241756e6887 d241756e6405 ">
                                       <p>指定在执行操作之前会话可以执行的物理I / O请求的数量。默认为<code class="codeph">UNLIMITED</code> 。该操作由<code class="codeph">SWITCH_GROUP</code>指定。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d241756e6901" headers="d241756e6402 ">
                                       <p><code class="codeph">SWITCH_FOR_CALL</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d241756e6901 d241756e6405 ">
                                       <p>如果为<code class="codeph">TRUE</code> ，则在顶级调用完成时，自动切换到另一个使用者组的会话（根据<code class="codeph">SWITCH_TIME</code> ， <code class="codeph">SWITCH_IO_MEGABYTES</code>或<code class="codeph">SWITCH_IO_REQS</code> ）将返回到其原始使用者组。默认值为<code class="codeph">NULL</code> 。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d241756e6925" headers="d241756e6402 ">
                                       <p><code class="codeph">PARALLEL_QUEUE_TIMEOUT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d241756e6925 d241756e6405 ">
                                       <p>指定并行语句在超时之前可以在并行语句队列中等待的最长时间（以秒为单位）。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d241756e6933" headers="d241756e6402 ">
                                       <p><code class="codeph">PARALLEL_SERVER_LIMIT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d241756e6933 d241756e6405 ">
                                       <p>指定特定使用者组可以使用的并行执行服务器池的最大百分比。特定使用者组使用的并行执行服务器的数量计为该使用者组中所有会话使用的并行执行服务器的总和。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d241756e6941" headers="d241756e6402 ">
                                       <p><code class="codeph">UTILIZATION_LIMIT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d241756e6941 d241756e6405 ">
                                       <p>指定使用者组允许的最大CPU利用率百分比。此值将覆盖CPU的任何级别分配（ <code class="codeph">MGMT_P1</code>到<code class="codeph">MGMT_P8</code> ），并且还会在重新分配未使用的分配时对总CPU利用率施加限制。您可以指定此属性并将<code class="codeph">MGMT_P1</code>保留为<code class="codeph">MGMT_P8</code> <code class="codeph">NULL</code> 。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d241756e6964" headers="d241756e6402 ">
                                       <p><code class="codeph">SWITCH_IO_LOGICAL</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d241756e6964 d241756e6405 ">
                                       <p>将触发<code class="codeph">SWITCH_GROUP</code>指定的操作的逻辑I / O请求<code class="codeph">SWITCH_GROUP</code> 。与其他switch指令一样，如果<code class="codeph">SWITCH_FOR_CALL</code>为<code class="codeph">TRUE</code> ，则从调用开始就累积逻辑I / O请求的数量。否则，在会话长度内累积逻辑I / O请求的数量。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d241756e6981" headers="d241756e6402 ">
                                       <p><code class="codeph">SWITCH_ELAPSED_TIME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d241756e6981 d241756e6405 ">
                                       <p>经过的时间（以秒为单位），将触发<code class="codeph">SWITCH_GROUP</code>指定的<code class="codeph">SWITCH_GROUP</code> 。与其他开关指令一样，如果<code class="codeph">SWITCH_FOR_CALL</code>为<code class="codeph">TRUE</code> ，则从通话开始累计经过的时间。否则，在会话长度内累计经过的时间。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d241756e6998" headers="d241756e6402 ">
                                       <p><code class="codeph">分享</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d241756e6998 d241756e6405 ">
                                       <p>在多租户容器数据库（CDB）中的可插拔数据库（PDB）之间分配资源。还在非CDB或PDB中的消费者组之间分配资源。</p>
                                       <p>请参阅<a href="../multi/using-oracle-resource-manager-for-pdbs-with-sql-plus.html#MULTI-GUID-075BDB11-8B9D-4061-98F6-8D4F07E3AB6D" target="_blank"><span><cite>Oracle Multitenant管理员指南</cite></span></a> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d241756e7014" headers="d241756e6402 ">
                                       <p><code class="codeph">PARALLEL_STMT_CRITICAL</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d241756e7014 d241756e6405 ">
                                       <p>指定来自使用者组的并行语句是否至关重要。</p>
                                       <p>指定<code class="codeph">BYPASS_QUEUE</code> ，来自使用者组的并行语句至关重要。这些语句绕过并行队列并立即执行。
                                       </p>
                                       <p>如果指定了<code class="codeph">FALSE</code>或<code class="codeph">NULL</code> （缺省值），则来自使用者组的并行语句并不重要。必要时，这些语句将添加到并行队列中。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d241756e7035" headers="d241756e6402 ">
                                       <p><code class="codeph">SESSION_PGA_LIMIT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d241756e7035 d241756e6405 ">
                                       <p>指定可分配给特定使用者组中每个会话的PGA内存的最大数量（以兆字节为单位）。如果会话超出限制，则其进程将因<code class="codeph">ORA-10260</code>错误而终止。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-3BDCC024-22DD-479D-A7C3-92E7145C854F__GUID-A4E3AAA7-D098-49B0-93C0-08E626BCE760">例1</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>以下PL / SQL块为计划<code class="codeph">DAYTIME</code>创建资源计划指令。 （它假定已在待处理区域中创建了<code class="codeph">DAYTIME</code>计划和<code class="codeph">OLTP</code>使用者组。）
                        </p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_RESOURCE_MANAGER.CREATE_PLAN_DIRECTIVE（PLAN =&gt;'DAYTIME'，GROUP_OR_SUBPLAN =&gt;'OLTP'，COMMENT =&gt;'OLTP group'，MGMT_P1 =&gt; 75）;结束; /</pre><p>此指令将75％的CPU资源分配给级别1的<code class="codeph">OLTP</code>使用者组。
                        </p>
                        <p>您还可以创建<code class="codeph">REPORTING</code>使用者组，然后执行以下PL / SQL块：</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_RESOURCE_MANAGER.CREATE_PLAN_DIRECTIVE（PLAN =&gt;'DAYTIME'，GROUP_OR_SUBPLAN =&gt;'REPORTING'，COMMENT =&gt;'报告组'，MGMT_P1 =&gt; 15，PARALLEL_DEGREE_LIMIT_P1 =&gt; 8，ACTIVE_SESS_POOL_P1 =&gt; 4，SESSION_PGA_LIMIT =&gt; 20）; DBMS_RESOURCE_MANAGER.CREATE_PLAN_DIRECTIVE（PLAN =&gt;'DAYTIME'，GROUP_OR_SUBPLAN =&gt;'OTHER_GROUPS'，COMMENT =&gt;'这一个是必需的'，MGMT_P1 =&gt; 10）;结束; /</pre><p>在此计划中，消费者组<code class="codeph">REPORTING</code>对于任何操作都具有8的最大并行度，而其他任何消费者组都没有限制其并行度。此外， <code class="codeph">REPORTING</code>组最多有4个并发活动会话。每个会话最多可使用20 MB的PGA内存。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-3BDCC024-22DD-479D-A7C3-92E7145C854F__GUID-BF89EC03-2097-42B4-814D-D51C01A73B3E">例2</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>此示例使用<code class="codeph">RATIO</code>方法分配CPU，它使用比率而不是百分比。假设您的应用程序套件为客户提供三种服务级别：金牌，银牌和铜牌。您创建了三个名为<code class="codeph">GOLD_CG</code> ， <code class="codeph">SILVER_CG</code>和<code class="codeph">BRONZE_CG</code>使用者组，并创建以下资源计划：</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_RESOURCE_MANAGER.CREATE_PLAN（PLAN =&gt;'SERVICE_LEVEL_PLAN'，MGMT_MTH =&gt;'RATIO'，COMMENT =&gt;'支持三个服务级别的计划'）; DBMS_RESOURCE_MANAGER.CREATE_PLAN_DIRECTIVE（PLAN =&gt;'SERVICE_LEVEL_PLAN'，GROUP_OR_SUBPLAN =&gt;'GOLD_CG'，COMMENT =&gt;'金牌服务级别客户'，MGMT_P1 =&gt; 10）; DBMS_RESOURCE_MANAGER.CREATE_PLAN_DIRECTIVE（PLAN =&gt;'SERVICE_LEVEL_PLAN'，GROUP_OR_SUBPLAN =&gt;'SILVER_CG'，COMMENT =&gt;'Silver service level customers'，MGMT_P1 =&gt; 5）; DBMS_RESOURCE_MANAGER.CREATE_PLAN_DIRECTIVE（PLAN =&gt;'SERVICE_LEVEL_PLAN'，GROUP_OR_SUBPLAN =&gt;'BRONZE_CG'，COMMENT =&gt;'铜牌服务级客户'，MGMT_P1 =&gt; 2）; DBMS_RESOURCE_MANAGER.CREATE_PLAN_DIRECTIVE（PLAN =&gt;'SERVICE_LEVEL_PLAN'，GROUP_OR_SUBPLAN =&gt;'OTHER_GROUPS'，COMMENT =&gt;'最低优先级会话'，MGMT_P1 =&gt; 1）;结束; /</pre><p>对于<code class="codeph">GOLD_CG</code> ， <code class="codeph">SILVER_CG</code> ， <code class="codeph">BRONZE_CG</code>和<code class="codeph">OTHER_GROUPS</code>消费者组，CPU分配的比率分别为10：5：2：1。
                        </p>
                        <p>如果会话仅存在于<code class="codeph">GOLD_CG</code>和<code class="codeph">SILVER_CG</code>使用者组中，则两组之间的CPU分配比例为10：5。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-33AB510D-BFB6-4DAF-BD33-3B04AAA24F20">冲突的资源计划指令</a><br>虽然这是允许的，但Oracle强烈建议您避免从顶层计划及其任何子计划引用同一个使用者组。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-4816CA07-1376-45FD-82D4-F9E332936683" title="当您的情况需要更复杂的资源计划时，您必须在称为挂起区域的暂存区域中创建计划及其指令和使用者组，然后在将计划存储到数据字典中之前验证计划。">创建复杂资源计划</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADMIN11869"></a><div class="props_rev_3"><a id="GUID-33AB510D-BFB6-4DAF-BD33-3B04AAA24F20" name="GUID-33AB510D-BFB6-4DAF-BD33-3B04AAA24F20"></a><h5 id="ADMIN-GUID-33AB510D-BFB6-4DAF-BD33-3B04AAA24F20" class="sect5"><span class="enumeration_section">27.5.6.1</span>冲突的资源计划指令</h5>
                     <div>
                        <p>虽然这是允许的，但Oracle强烈建议您避免从顶层计划及其任何子计划引用同一个使用者组。</p>
                        <p>您可能有机会从最高计划和任意数量的子计划中引用同一个消费者群体。这导致多个资源计划指令引用同一个使用者组。</p>
                        <p>类似地，当多个资源计划指令引用同一个使用者组时，它们具有冲突的指令。虽然这是允许的，但Oracle强烈建议您避免引用同一个使用者组的多个资源计划指令。</p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-33AB510D-BFB6-4DAF-BD33-3B04AAA24F20__GUID-E811756C-7570-497D-B65E-2874F54A70B8">
                           <p class="notep1">也可以看看：</p>
                           <p></p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="q">“ <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-20267C07-2EBA-4AB4-90EA-8C853E7EA697" title="使用UPDATE_PLAN_DIRECTIVE过程更新计划指令。">更新资源计划指令</a> ”</span></p>
                              </li>
                              <li>
                                 <p><span class="q">“ <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-C61729C4-6ABF-45E4-831B-B0050152FE63" title="要删除资源计划指令，请使用DELETE_PLAN_DIRECTIVE过程。">删除资源计划指令</a> ”</span></p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-3BDCC024-22DD-479D-A7C3-92E7145C854F" title="您可以使用CREATE_PLAN_DIRECTIVE过程来创建资源计划指令。每个指令属于计划或子计划，并将资源分配给使用者组或子计划。">创建资源计划指令</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="ADMIN12655"></a><a id="ADMIN11870"></a><div class="props_rev_3"><a id="GUID-A5C6447B-BFF5-4CCE-8114-8AD230375082" name="GUID-A5C6447B-BFF5-4CCE-8114-8AD230375082"></a><h4 id="ADMIN-GUID-A5C6447B-BFF5-4CCE-8114-8AD230375082" class="sect4"><span class="enumeration_section">27.5.7</span>验证待定区域</h4>
                  <div>
                     <p>在您在待处理区域中进行更改时，您可以调用<code class="codeph">VALIDATE_PENDING_AREA</code>以确保到目前为止待处理区域有效。
                     </p>
                     <div class="section">
                        <p>必须遵守以下规则，并通过验证程序进行检查：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>没有计划可以包含任何循环。当子计划包含引用计划层次结构中子计划之上的计划的指令时，会发生循环。例如，子计划无法引用顶层计划。</p>
                           </li>
                           <li>
                              <p>计划指令引用的所有计划和资源消费者组必须存在。</p>
                           </li>
                           <li>
                              <p>所有计划必须具有指向计划或资源消费者组的计划指令。</p>
                           </li>
                           <li>
                              <p>任何给定级别的所有百分比不得超过100。</p>
                           </li>
                           <li>
                              <p>无法删除当前被活动实例用作顶层计划的计划。</p>
                           </li>
                           <li>
                              <p>以下参数只能出现在引用资源使用者组的计划指令中，而不能出现在其他资源计划中：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">ACTIVE_SESS_POOL_P1</code> 
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">MAX_EST_EXEC_TIME</code> 
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">MAX_IDLE_BLOCKER_TIME</code> 
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">MAX_IDLE_TIME</code> 
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">PARALLEL_DEGREE_LIMIT_P1</code> 
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">QUEUEING_P1</code> 
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">SESSION_PGA_LIMIT</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">SWITCH_ESTIMATE</code> 
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">SWITCH_FOR_CALL</code> 
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">SWITCH_GROUP</code> 
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">SWITCH_IO_MEGABYTES</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">SWITCH_IO_REQS</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">SWITCH_TIME</code> 
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">UNDO_POOL</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">UTILIZATION_LIMIT</code></p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p>任何活动计划中的资源消费者群组不得超过28个。此外，最多一个计划可以有28个孩子。</p>
                           </li>
                           <li>
                              <p>计划和资源使用者组不能具有相同的名称。</p>
                           </li>
                           <li>
                              <p>任何活动计划中的某处都必须有<code class="codeph">OTHER_GROUPS</code>的计划指令。这可确保不属于当前活动计划中包含的任何使用者组的会话被分配资源（由<code class="codeph">OTHER_GROUPS</code>指令指定）。
                              </p>
                           </li>
                        </ul>
                        <p>如果违反任何前述规则， <code class="codeph">VALIDATE_PENDING_AREA</code>会引发错误。然后，您可以进行更改以修复任何问题并再次调用该过程。
                        </p>
                        <p>可以创建没有引用它们的计划指令的“孤儿”消费者组。这允许创建当前不会使用的消费者群体，但可能是将来实施的某个计划的一部分。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A5C6447B-BFF5-4CCE-8114-8AD230375082__GUID-D6CC465C-B6CE-47FF-A476-FCF7464ADC35">示例：验证待定区域：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>以下PL / SQL块验证待处理区域。</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_RESOURCE_MANAGER.VALIDATE_PENDING_AREA（）;结束; /</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-A5C6447B-BFF5-4CCE-8114-8AD230375082__GUID-BBEE5755-97E2-416C-8A1D-31293225E1A5">
                        <p class="notep1">也可以看看：</p>
                        <p><span class="q">“ <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-A541F273-89D8-43DA-81CF-1F9BD46FC524" title="待处理区域是一个临时区域，您可以在其中创建新资源计划，更新现有计划或删除计划，而不会影响当前正在运行的应用程序。">关于待定区域</a> ”</span></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-4816CA07-1376-45FD-82D4-F9E332936683" title="当您的情况需要更复杂的资源计划时，您必须在称为挂起区域的暂存区域中创建计划及其指令和使用者组，然后在将计划存储到数据字典中之前验证计划。">创建复杂资源计划</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN12656"></a><a id="ADMIN11871"></a><div class="props_rev_3"><a id="GUID-6A81232C-BCA8-4939-8496-FC082ACA318E" name="GUID-6A81232C-BCA8-4939-8496-FC082ACA318E"></a><h4 id="ADMIN-GUID-6A81232C-BCA8-4939-8496-FC082ACA318E" class="sect4"><span class="enumeration_section">27.5.8</span>提交待定区域</h4>
                  <div>
                     <p>验证更改后，请调用<code class="codeph">SUBMIT_PENDING_AREA</code>过程以激活更改。
                     </p>
                     <div class="section">
                        <p>提交过程也会执行验证，因此您不必单独调用validate过程。但是，如果要对计划进行重大更改，则在逐步验证更改时，调试问题通常会更容易。在对待处理区域中的所有更改进行验证成功之前，不会提交任何更改（已激活）。</p>
                        <p>成功验证并提交更改后， <code class="codeph">SUBMIT_PENDING_AREA</code>过程将清除（停用）待处理区域。
                        </p>
                        <div class="infoboxnote" id="GUID-6A81232C-BCA8-4939-8496-FC082ACA318E__GUID-34697929-92A8-40D6-945D-C8BDE70E86C7">
                           <p class="notep1">注意：</p>
                           <p>即使<code class="codeph">VALIDATE_PENDING_AREA</code>成功，对<code class="codeph">SUBMIT_PENDING_AREA</code>的调用也可能失败。例如，如果在调用<code class="codeph">VALIDATE_PENDING_AREA</code>之后但在调用<code class="codeph">SUBMIT_PENDING_AREA</code>之前，实例正在加载正在删除的计划，则会发生这种情况。</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6A81232C-BCA8-4939-8496-FC082ACA318E__GUID-B3244BE0-18B1-402D-902F-328D50C51257">示例：提交待定区域：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>以下PL / SQL块提交挂起区域：</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_RESOURCE_MANAGER.SUBMIT_PENDING_AREA（）;结束; /</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-6A81232C-BCA8-4939-8496-FC082ACA318E__GUID-3FCC463A-F096-4D02-8C4D-BB5FD2B412E6">
                        <p class="notep1">也可以看看：</p>
                        <p><span class="q">“ <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-A541F273-89D8-43DA-81CF-1F9BD46FC524" title="待处理区域是一个临时区域，您可以在其中创建新资源计划，更新现有计划或删除计划，而不会影响当前正在运行的应用程序。">关于待定区域</a> ”</span></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-4816CA07-1376-45FD-82D4-F9E332936683" title="当您的情况需要更复杂的资源计划时，您必须在称为挂起区域的暂存区域中创建计划及其指令和使用者组，然后在将计划存储到数据字典中之前验证计划。">创建复杂资源计划</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11872"></a><div class="props_rev_3"><a id="GUID-2007FCF4-B204-4DF7-BAEE-0823D777CD8E" name="GUID-2007FCF4-B204-4DF7-BAEE-0823D777CD8E"></a><h4 id="ADMIN-GUID-2007FCF4-B204-4DF7-BAEE-0823D777CD8E" class="sect4"><span class="enumeration_section">27.5.9</span>清除待定区域</h4>
                  <div>
                     <p>您可以使用<code class="codeph">CLEAR_PENDING_AREA</code>过程随时清除待处理区域。
                     </p>
                     <div class="section">
                        <p>此PL / SQL块会导致从挂起区域清除所有更改并停用待处理区域：</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_RESOURCE_MANAGER.CLEAR_PENDING_AREA（）;结束; /</pre><p>调用<code class="codeph">CLEAR_PENDING_AREA</code> ，必须先调用<code class="codeph">CREATE_PENDING_AREA</code>过程，然后才能再次尝试进行更改。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-2007FCF4-B204-4DF7-BAEE-0823D777CD8E__GUID-CB5406C9-F6AE-400E-8AC3-2929A614C111">
                        <p class="notep1">也可以看看：</p>
                        <p><span class="q">“ <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-A541F273-89D8-43DA-81CF-1F9BD46FC524" title="待处理区域是一个临时区域，您可以在其中创建新资源计划，更新现有计划或删除计划，而不会影响当前正在运行的应用程序。">关于待定区域</a> ”</span></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-4816CA07-1376-45FD-82D4-F9E332936683" title="当您的情况需要更复杂的资源计划时，您必须在称为挂起区域的暂存区域中创建计划及其指令和使用者组，然后在将计划存储到数据字典中之前验证计划。">创建复杂资源计划</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADMIN12660"></a><a id="ADMIN12661"></a><a id="ADMIN12662"></a><a id="ADMIN11890"></a><div class="props_rev_3"><a id="GUID-E8FABE8D-A781-49BB-B623-98F096DED239" name="GUID-E8FABE8D-A781-49BB-B623-98F096DED239"></a><h3 id="ADMIN-GUID-E8FABE8D-A781-49BB-B623-98F096DED239" class="sect3"><span class="enumeration_section">27.6</span>启用Oracle数据库资源管理器和切换计划</h3>
               <div>
                  <p>您可以通过设置<code class="codeph">RESOURCE_MANAGER_PLAN</code>初始化参数来启用Oracle数据库资源管理器（资源管理器）。此参数指定顶层计划，标识要用于当前实例的计划。如果未使用此参数指定计划，则不会启用资源管理器。
                  </p>
                  <div class="section">
                     <p>默认情况下，除以下情况外，未启用资源管理器：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>在预配置的维护窗口期间，本节稍后将对此进行介绍。</p>
                        </li>
                        <li>
                           <p>通过将<code class="codeph">INMEMORY_SIZE</code>初始化参数设置为大于0的值来启用Oracle Database In-Memory时。
                           </p>
                        </li>
                     </ul>
                     <p>文本初始化参数文件中的以下语句在数据库启动时激活资源管理器，并将顶层计划设置为<code class="codeph">mydb_plan</code> 。
                     </p><pre class="oac_no_warn" dir="ltr">RESOURCE_MANAGER_PLAN = mydb_plan</pre><p>您还可以使用<code class="codeph">DBMS_RESOURCE_MANAGER.SWITCH_PLAN</code>程序包过程或<code class="codeph">ALTER SYSTEM</code>语句激活或停用资源管理器，或更改当前的最高计划。
                     </p>
                     <p>以下SQL语句将顶级计划设置为<code class="codeph">mydb_plan</code> ，并在资源管理器尚未激活时激活它：</p><pre class="oac_no_warn" dir="ltr">ALTER SYSTEM SET RESOURCE_MANAGER_PLAN ='mydb_plan';</pre><p>如果数据字典中不存在指定的计划，则会返回错误消息。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-E8FABE8D-A781-49BB-B623-98F096DED239__GUID-E0263E5E-74EF-4424-AB34-670AE5CF7AE6">Oracle Scheduler Windows自动启用资源管理器</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>如果打开指定资源计划的Oracle Scheduler窗口，资源管理器将自动激活。当“计划程序”窗口关闭时，将禁用与该窗口关联的资源计划，并重新启用在打开“计划程序”窗口之前运行的资源计划。（如果在打开窗口之前未启用任何资源计划，则会禁用资源管理器。）在Oracle Real Application Clusters环境中，Scheduler窗口适用于所有实例，因此在每个实例上都启用了窗口的资源计划。</p>
                     <p>请注意，默认情况下，在<span class="bold">维护窗口</span>期间运行一组自动维护任务，这些任务是预定义的计划程序窗口，它们是<code class="codeph">MAINTENANCE_WINDOW_GROUP</code>窗口组的成员，并指定<code class="codeph">DEFAULT_MAINTENANCE_PLAN</code>资源计划。因此，资源管理器在维护窗口期间默认激活。如果需要，您可以修改这些维护窗口以使用不同的资源计划。
                     </p>
                     <div class="infoboxnote" id="GUID-E8FABE8D-A781-49BB-B623-98F096DED239__GUID-F15EC3DB-D809-4E8A-AA8F-8A7FE780CB4F">
                        <p class="notep1">注意：</p>
                        <p>如果更改与维护窗口关联的计划，请确保在新计划中包含子计划<code class="codeph">ORA$AUTOTASK</code> 。
                        </p>
                     </div>
                     <div class="infoboxnotealso" id="GUID-E8FABE8D-A781-49BB-B623-98F096DED239__GUID-39B22912-F0E5-4E09-B425-7FB5C07E8C85">
                        <p class="notep1">也可以看看：</p>
                        <p></p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="oracle-scheduler-concepts.html#GUID-BBFA4965-B688-45CC-B7B4-E6D4E8060C21" title="您可以创建窗口以在一天，一周等各个时间段内自动启动作业或更改作业之间的资源分配。窗口由具有明确定义的开头和结尾的时间间隔表示，例如" from="" 12am-6a="." ="">Windows</a> ”</span></p>
                           </li>
                           <li>
                              <p><a href="managing-automated-database-maintenance-tasks.html#GUID-7F7C805E-BA64-43A5-9A09-FC259FFA9AA8" title="Oracle数据库已自动执行通常由数据库管理员执行的几项常见维护任当预期系统负载较轻时，执行这些自动维护任务。您可以启用和禁用单个维护任务，并可以配置这些任务的运行时间以及分配的资源分配。">管理自动数据库维护任务</a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-E8FABE8D-A781-49BB-B623-98F096DED239__GUID-8483DB1A-7CE2-4A9B-946E-6A9105A5DD0D">通过Oracle Scheduler Windows禁用计划切换</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>在某些情况下，在调度程序窗口边界处自动更改资源管理器计划可能是不合需要的。例如，如果您要完成一项重要任务，并且如果您将资源管理器计划设置为给予您的任务优先级，那么您希望该计划在您更改之前保持不变。但是，由于在设置计划后可能会激活“计划程序”窗口，因此在任务运行时，资源管理器计划可能会更改。</p>
                     <p>要防止出现这种情况，可以将<code class="codeph">RESOURCE_MANAGER_PLAN</code>初始化参数设置为系统所需的计划名称，并在名称前加上“ <code class="codeph">FORCE:</code> ”，如以下SQL语句所示：</p><pre class="oac_no_warn" dir="ltr">ALTER SYSTEM SET RESOURCE_MANAGER_PLAN ='FORCE：mydb_plan';</pre><p>使用前缀<code class="codeph">FORCE:</code>表示只有在数据库管理员更改<code class="codeph">RESOURCE_MANAGER_PLAN</code>初始化参数的值时才能更改当前资源计划。通过重新运行命令而不使用“ <code class="codeph">FORCE:</code> ”之前的计划名称，可以解除此限制。
                     </p>
                     <p><code class="codeph">DBMS_RESOURCE_MANAGER.SWITCH_PLAN</code>包过程具有类似的功能。
                     </p>
                     <div class="infoboxnotealso" id="GUID-E8FABE8D-A781-49BB-B623-98F096DED239__GUID-BF87B20C-7761-4971-9923-EFD0B55EB41B">
                        <p class="notep1">也可以看看：</p>
                        <p>有关<code class="codeph">DBMS_RESOURCE_MANAGER.SWITCH_PLAN</code>更多信息，请<a href="../arpls/DBMS_RESOURCE_MANAGER.html#ARPLS050" target="_blank"><span class="italic">参见Oracle Database PL / SQL包和类型参考</span></a> 。</p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-E8FABE8D-A781-49BB-B623-98F096DED239__GUID-D35532D0-8436-4E5A-A803-FCF238B418B4">禁用资源管理器</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>要禁用资源管理器，请完成以下步骤：</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>发出以下SQL语句：</span><div><pre class="oac_no_warn" dir="ltr">ALTER SYSTEM SET RESOURCE_MANAGER_PLAN ='';</pre></div>
                     </li>
                     <li class="stepexpand"><span>取消资源管理器与所有Oracle Scheduler窗口的关联。</span><div>
                           <p>为此，对于在其<code class="codeph">resource_plan</code>属性中引用资源计划的任何Scheduler窗口，请使用<code class="codeph">DBMS_SCHEDULER.SET_ATTRIBUTE</code>过程将<code class="codeph">resource_plan</code>设置为空字符串（''）。如果未以用户<code class="codeph">SYS</code>身份登录，则使用<code class="codeph">SYS</code>模式名称限定窗口名称。您可以使用<code class="codeph">DBA_SCHEDULER_WINDOWS</code>数据字典视图查看调度程序窗口。有关详细信息，请参阅<span class="q">“ <a href="scheduling-jobs-with-oracle-scheduler.html#GUID-7CFA978C-8EC4-4C20-951C-48D3F2B9BF59" title="您可以通过修改其属性来更改窗口。您可以使用DBMS_SCHEDULER包或Cloud Control中的SET_ATTRIBUTE和SET_ATTRIBUTE_NULL过程执行此操作。">更改Windows</a> ”</span>和“ <a href="../arpls/DBMS_SCHEDULER.html#ARPLS72235" target="_blank"><span class="italic">Oracle数据库PL / SQL包和类型参考</span></a> ”。
                           </p>
                           <div class="infoboxnote" id="GUID-E8FABE8D-A781-49BB-B623-98F096DED239__GUID-BC0E5930-040D-4BFE-9CA3-9F1EBEA49F2F">
                              <p class="notep1">注意：</p>
                              <p>默认情况下，所有维护窗口都引用<code class="codeph">DEFAULT_MAINTENANCE_PLAN</code>资源计划。要完全禁用资源管理器，必须更改所有维护窗口以删除此计划。但请谨慎使用，因为自动维护任务的资源消耗将不再受到管制，这可能会对其他会话的性能产生负面影响。有关<a href="managing-automated-database-maintenance-tasks.html#GUID-7F7C805E-BA64-43A5-9A09-FC259FFA9AA8" title="Oracle Database has automated several common maintenance tasks typically performed by database administrators. These automated maintenance tasks are performed when the system load is expected to be light. You can enable and disable individual maintenance tasks, and can configure when these tasks run and what resource allocations they are allotted.">维护时段</a>的更多信息，请参阅<a href="managing-automated-database-maintenance-tasks.html#GUID-7F7C805E-BA64-43A5-9A09-FC259FFA9AA8" title="Oracle数据库已自动执行通常由数据库管理员执行的几项常见维护任当预期系统负载较轻时，执行这些自动维护任务。您可以启用和禁用单个维护任务，并可以配置这些任务的运行时间以及分配的资源分配。">管理自动数据库维护任务</a> 。
                              </p>
                           </div>
                        </div>
                     </li>
                  </ol>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-2BEF5482-CF97-4A85-BD90-9195E41E74EF" title="Oracle数据库资源管理器（资源管理器）使您可以管理数据库的资源分配。">使用Oracle数据库资源管理器管理资源</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADMIN11012"></a><div class="props_rev_3"><a id="GUID-A61AE3F0-75AC-4298-A5E6-D18482FDDA9F" name="GUID-A61AE3F0-75AC-4298-A5E6-D18482FDDA9F"></a><h3 id="ADMIN-GUID-A61AE3F0-75AC-4298-A5E6-D18482FDDA9F" class="sect3"><span class="enumeration_section">27.7</span>全部放在一起：Oracle数据库资源管理器示例</h3>
               <p>示例说明如何使用Resource Manager分配资源。</p>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-57A6467A-4865-4C16-8A14-4DDCC969960F">多级计划示例</a><br>一个例子说明了一个多级计划。
                     </li>
                     <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-D695EE69-E08B-41BB-90FB-207E6810B938">使用利用率限制属性的示例</a><br>您可以使用<code class="codeph">UTILIZATION_LIMIT</code>指令属性来限制应用程序的CPU利用率。可以使用此属性的最常见方案之一是进行数据库整合。
                     </li>
                     <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-37CCBFC3-C64B-4474-8883-75FC4E42A18A">使用多种资源分配方法的示例</a><br>一个示例说明了使用多种资源分配方法。
                     </li>
                     <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-B4256D06-2223-49A1-A939-9BE9706498BC">使用指令属性管理并行语句的示例</a><br>示例说明了使用指令属性管理并行语句。
                     </li>
                     <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-24C55451-A87D-45B7-8230-4B51392AE89F">Oracle提供的混合工作负载计划</a><br>Oracle数据库包括一个预定义的资源计划<code class="codeph">MIXED_WORKLOAD_PLAN</code> ，它通过批处理操作确定交互操作的优先级，并包括Oracle推荐的所需子计划和使用者组。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-2BEF5482-CF97-4A85-BD90-9195E41E74EF" title="Oracle数据库资源管理器（资源管理器）使您可以管理数据库的资源分配。">使用Oracle数据库资源管理器管理资源</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN13075"></a><a id="ADMIN11891"></a><div class="props_rev_3"><a id="GUID-57A6467A-4865-4C16-8A14-4DDCC969960F" name="GUID-57A6467A-4865-4C16-8A14-4DDCC969960F"></a><h4 id="ADMIN-GUID-57A6467A-4865-4C16-8A14-4DDCC969960F" class="sect4"><span class="enumeration_section">27.7.1</span>多级计划示例</h4>
                  <div>
                     <p>一个例子说明了一个多级计划。</p>
                     <div class="section">
                        <p>以下PL / SQL块创建了一个多级计划， <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-57A6467A-4865-4C16-8A14-4DDCC969960F__BABIIIDF">如图27-3所示</a> 。默认资源分配方法设置用于所有计划和资源使用者组。
                        </p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_RESOURCE_MANAGER.CREATE_PENDING_AREA（）; DBMS_RESOURCE_MANAGER.CREATE_PLAN（PLAN =&gt;'bugdb_plan'，COMMENT =&gt;'错误用户会话的资源计划/方法'）; DBMS_RESOURCE_MANAGER.CREATE_PLAN（PLAN =&gt;'maildb_plan'，COMMENT =&gt;'用于邮件用户会话的资源计划/方法'）; DBMS_RESOURCE_MANAGER.CREATE_PLAN（PLAN =&gt;'mydb_plan'，COMMENT =&gt;'用于错误和邮件用户会话的资源计划/方法'）; DBMS_RESOURCE_MANAGER.CREATE_CONSUMER_GROUP（CONSUMER_GROUP =&gt;'Online_group'，COMMENT =&gt;'用于在线错误用户会话的资源使用者组/方法'）; DBMS_RESOURCE_MANAGER.CREATE_CONSUMER_GROUP（CONSUMER_GROUP =&gt;'Batch_group'，COMMENT =&gt;'用于批处理作业错误用户会话的资源使用者组/方法'）; DBMS_RESOURCE_MANAGER.CREATE_CONSUMER_GROUP（CONSUMER_GROUP =&gt;'Bug_Maint_group'，COMMENT =&gt;'用于bug db maint的用户会话的资源使用者组/方法'）; DBMS_RESOURCE_MANAGER.CREATE_CONSUMER_GROUP（CONSUMER_GROUP =&gt;'Users_group'，COMMENT =&gt;'用于邮件用户会话的资源使用者组/方法'）; DBMS_RESOURCE_MANAGER.CREATE_CONSUMER_GROUP（CONSUMER_GROUP =&gt;'Postman_group'，COMMENT =&gt;'邮件邮递员的资源使用者群组/方法'）; DBMS_RESOURCE_MANAGER.CREATE_CONSUMER_GROUP（CONSUMER_GROUP =&gt;'Mail_Maint_group'，COMMENT =&gt;'用于邮件db maint的用户会话的资源使用者组/方法'）; DBMS_RESOURCE_MANAGER.CREATE_PLAN_DIRECTIVE（PLAN =&gt;'bugdb_plan'，GROUP_OR_SUBPLAN =&gt;'Online_group'，COMMENT =&gt;'级别1的在线错误用户会话'，MGMT_P1 =&gt; 80，MGMT_P2 =&gt; 0）; DBMS_RESOURCE_MANAGER.CREATE_PLAN_DIRECTIVE（PLAN =&gt;'bugdb_plan'，GROUP_OR_SUBPLAN =&gt;'Batch_group'，COMMENT =&gt;'级别1的'批量错误用户会话'，MGMT_P1 =&gt; 20，MGMT_P2 =&gt; 0，PARALLEL_DEGREE_LIMIT_P1 =&gt; 8）; DBMS_RESOURCE_MANAGER.CREATE_PLAN_DIRECTIVE（PLAN =&gt;'bugdb_plan'，GROUP_OR_SUBPLAN =&gt;'Bug_Maint_group'，COMMENT =&gt;'级别2的错误维护用户会话'，MGMT_P1 =&gt; 0，MGMT_P2 =&gt; 100）; DBMS_RESOURCE_MANAGER.CREATE_PLAN_DIRECTIVE（PLAN =&gt;'bugdb_plan'，GROUP_OR_SUBPLAN =&gt;'OTHER_GROUPS'，COMMENT =&gt;'所有其他用户会话在3级'，MGMT_P1 =&gt; 0，MGMT_P2 =&gt; 0，MGMT_P3 =&gt; 100）; DBMS_RESOURCE_MANAGER.CREATE_PLAN_DIRECTIVE（PLAN =&gt;'maildb_plan'，GROUP_OR_SUBPLAN =&gt;'Postman_group'，COMMENT =&gt;'邮件邮递员在1级'，MGMT_P1 =&gt; 40，MGMT_P2 =&gt; 0）; DBMS_RESOURCE_MANAGER.CREATE_PLAN_DIRECTIVE（PLAN =&gt;'maildb_plan'，GROUP_OR_SUBPLAN =&gt;'Users_group'，COMMENT =&gt;'第2级邮件用户会话'，MGMT_P1 =&gt; 0，MGMT_P2 =&gt; 80）; DBMS_RESOURCE_MANAGER.CREATE_PLAN_DIRECTIVE（PLAN =&gt;'maildb_plan'，GROUP_OR_SUBPLAN =&gt;'Mail_Maint_group'，COMMENT =&gt;'邮件维护用户会话在2级'，MGMT_P1 =&gt; 0，MGMT_P2 =&gt; 20）; DBMS_RESOURCE_MANAGER.CREATE_PLAN_DIRECTIVE（PLAN =&gt;'maildb_plan'，GROUP_OR_SUBPLAN =&gt;'OTHER_GROUPS'，COMMENT =&gt;'所有其他用户会话在3级'，MGMT_P1 =&gt; 0，MGMT_P2 =&gt; 0，MGMT_P3 =&gt; 100）; DBMS_RESOURCE_MANAGER.CREATE_PLAN_DIRECTIVE（PLAN =&gt;'mydb_plan'，GROUP_OR_SUBPLAN =&gt;'maildb_plan'，COMMENT =&gt;'级别1的所有邮件用户会话'，MGMT_P1 =&gt; 30）; DBMS_RESOURCE_MANAGER.CREATE_PLAN_DIRECTIVE（PLAN =&gt;'mydb_plan'，GROUP_OR_SUBPLAN =&gt;'bugdb_plan'，COMMENT =&gt;'所有错误用户会话在1级'，MGMT_P1 =&gt; 70）; DBMS_RESOURCE_MANAGER.VALIDATE_PENDING_AREA（）; DBMS_RESOURCE_MANAGER.SUBMIT_PENDING_AREA（）;结束; /</pre><p>前面对<code class="codeph">VALIDATE_PENDING_AREA</code>调用是可选的，因为验证是在<code class="codeph">SUBMIT_PENDING_AREA</code>隐式执行的。</p>
                        <div class="figure" id="GUID-57A6467A-4865-4C16-8A14-4DDCC969960F__BABIIIDF">
                           <p class="titleinfigure">图27-3多级计划模式</p><img src="img/admin057.gif" width="620" alt="下面是图27-3的描述" title="下面是图27-3的描述" longdesc="img_text/admin057.html"><br><a href="img_text/admin057.html">“图27-3多级计划模式”的说明</a></div>
                        <!-- class="figure" -->
                        <p>在此计划架构中，CPU资源分配如下：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>在<code class="codeph">mydb_plan</code> ，30％的CPU分配给<code class="codeph">maildb_plan</code>子计划，70％分配给<code class="codeph">bugdb_plan</code>子计划。两个子计划均为1级。由于<code class="codeph">mydb_plan</code>本身没有低于级别1的级别，因此其级别1的子计划未使用的任何资源分配都可以由其兄弟子计划使用。因此，如果<code class="codeph">maildb_plan</code>仅使用20％的CPU，那么CPU的80％可用来<code class="codeph">bugdb_plan</code> 。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">maildb_plan</code>和<code class="codeph">bugdb_plan</code>定义级别1,2和3的分配。这些子计划中的级别与其父计划<code class="codeph">mydb_plan</code>的级别<code class="codeph">mydb_plan</code> 。也就是说，计划架构中的所有计划和子计划都有自己的级别1，级别2，级别3等等。
                              </p>
                           </li>
                           <li>
                              <p>在分配给<code class="codeph">maildb_plan</code>的30％的CPU中，40％的CPU（实际占总CPU的12％）被分配给1级的<code class="codeph">Postman_group</code> 。因为<code class="codeph">Postman_group</code>在级别1没有兄弟姐妹，所以在级别1有一个隐含的60％。然后，这个60％由<code class="codeph">Users_group</code>和<code class="codeph">Mail_Maint_group</code>在2级共享，分别为80％和20％。除此之外， <code class="codeph">Users_group</code>和<code class="codeph">Mail_Maint_group</code>还可以使用<code class="codeph">Postman_group</code>在级别1中未使用的40％中的任何一个。
                              </p>
                           </li>
                           <li>
                              <p>在级别2的<code class="codeph">Users_group</code>或<code class="codeph">Mail_Maint_group</code>未使用的CPU资源将分配给<code class="codeph">OTHER_GROUPS</code> ，因为在多级计划中，未使用的资源将重新分配给下一个较低级别的使用者组或子计划，而不是同级别的兄弟。因此，如果<code class="codeph">Users_group</code>仅使用70％而不是80％，则<code class="codeph">Mail_Maint_group</code>不能使用剩余的10％。这10％仅<code class="codeph">OTHER_GROUPS</code>于3级的<code class="codeph">OTHER_GROUPS</code> 。
                              </p>
                           </li>
                           <li>
                              <p>分配给<code class="codeph">bugdb_plan</code>子计划的70％的CPU以类似的方式分配给其使用者组。如果<code class="codeph">Online_group</code>或<code class="codeph">Batch_group</code>未使用其完整分配，则<code class="codeph">Bug_Maint_group</code>可以使用其余部分。如果<code class="codeph">Bug_Maint_group</code>不使用所有分配，则余数将转到<code class="codeph">OTHER_GROUPS</code> 。</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-A61AE3F0-75AC-4298-A5E6-D18482FDDA9F" title="Examples illustrate how to allocate resources with Resource Manager.">将所有</a> <strong>内容</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-A61AE3F0-75AC-4298-A5E6-D18482FDDA9F" title="示例说明如何使用Resource Manager分配资源。">放在一起：Oracle数据库资源管理器示例</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN13328"></a><a id="ADMIN13329"></a><a id="ADMIN13330"></a><a id="ADMIN13469"></a><a id="ADMIN13470"></a><a id="ADMIN13327"></a><div class="props_rev_3"><a id="GUID-D695EE69-E08B-41BB-90FB-207E6810B938" name="GUID-D695EE69-E08B-41BB-90FB-207E6810B938"></a><h4 id="ADMIN-GUID-D695EE69-E08B-41BB-90FB-207E6810B938" class="sect4"><span class="enumeration_section">27.7.2</span>使用利用率限制属性的示例</h4>
                  <div>
                     <p>您可以使用<code class="codeph">UTILIZATION_LIMIT</code>指令属性来限制应用程序的CPU利用率。可以使用此属性的最常见方案之一是进行数据库整合。
                     </p>
                     <div class="section">
                        <p>在数据库合并期间，您可能需要能够执行以下操作：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>管理一个应用程序可能对另一个应用程序的性能影响。</p>
                              <p>管理此性能影响的一种方法是为每个应用程序创建一个使用者组，并为每个使用者组分配资源。</p>
                           </li>
                           <li>
                              <p>限制每个应用程序的利用率。</p>
                              <p>通常，除了为每个使用者组分配特定百分比的CPU资源外，您可能还需要限制每个组的最大CPU利用率。当所有其他使用者组空闲时，此限制可防止使用者组使用所有CPU资源。</p>
                              <p>在某些情况下，您可能希望所有应用程序用户都能体验到一致的性能，无论其他应用程这可以通过为资源计划中的每个使用者组指定利用率限制来实现。</p>
                           </li>
                        </ul>
                        <p>以下示例演示了如何使用<code class="codeph">UTILIZATION_LIMIT</code>资源计划指令属性：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>限制总数据库CPU利用率</p>
                           </li>
                           <li>
                              <p>隔离失控查询</p>
                           </li>
                           <li>
                              <p>限制应用程序的CPU使用率</p>
                           </li>
                           <li>
                              <p>在维护窗口期间限制CPU利用率</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D695EE69-E08B-41BB-90FB-207E6810B938__GUID-B274EDE4-61D7-4946-B39B-C6F80BC3D06A">示例1  - 限制总体数据库CPU利用率</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>在此示例中，无论数据库负载如何，Oracle数据库的系统工作负载都不会超过CPU的90％，而其他应用程序共享服务器的CPU占10％。</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_RESOURCE_MANAGER.CREATE_PENDING_AREA（）; DBMS_RESOURCE_MANAGER.CREATE_PLAN（PLAN =&gt;'MAXCAP_PLAN'，COMMENT =&gt;'限制整个数据库CPU'）; DBMS_RESOURCE_MANAGER.CREATE_PLAN_DIRECTIVE（PLAN =&gt;'MAXCAP_PLAN'，GROUP_OR_SUBPLAN =&gt;'OTHER_GROUPS'，COMMENT =&gt;'此组是必需的'，UTILIZATION_LIMIT =&gt; 90）; DBMS_RESOURCE_MANAGER.VALIDATE_PENDING_AREA（）; DBMS_RESOURCE_MANAGER.SUBMIT_PENDING_AREA（）;结束; /</pre><p>因为除了<code class="codeph">OTHER_GROUPS</code>之外没有计划指令，所有会话都映射到<code class="codeph">OTHER_GROUPS</code> 。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D695EE69-E08B-41BB-90FB-207E6810B938__GUID-B077A2D4-8EC4-4177-8A94-A7F964E27372">示例2  - 隔离失控查询</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>在此示例中，失控查询将切换到利用率限制为20％的使用者组，限制他们可以消耗的资源量，直到您可以进行干预。失控查询在这里被描述为占用超过10分钟CPU时间的查询。假设会话映射规则启动<code class="codeph">START_GROUP</code>所有会话。</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_RESOURCE_MANAGER.CREATE_PENDING_AREA（）; DBMS_RESOURCE_MANAGER.CREATE_CONSUMER_GROUP（CONSUMER_GROUP =&gt;'START_GROUP'，评论=&gt;'会话从这里开始'）; DBMS_RESOURCE_MANAGER.CREATE_CONSUMER_GROUP（CONSUMER_GROUP =&gt;'QUARANTINE_GROUP'，COMMENT =&gt;'会话切换到此处隔离它们'）; DBMS_RESOURCE_MANAGER.CREATE_PLAN（PLAN =&gt;'Quarantine_plan'，COMMENT =&gt;'Quarantine runaway queries'）; DBMS_RESOURCE_MANAGER.CREATE_PLAN_DIRECTIVE（PLAN =&gt;'Quarantine_plan'，GROUP_OR_SUBPLAN =&gt;'START_GROUP'，COMMENT =&gt;'切换前10分钟最大CPU'，MGMT_P1 =&gt; 75，switch_group =&gt;'QUARANTINE_GROUP'，switch_time =&gt; 600）; DBMS_RESOURCE_MANAGER.CREATE_PLAN_DIRECTIVE（PLAN =&gt;'Quarantine_plan'，GROUP_OR_SUBPLAN =&gt;'OTHER_GROUPS'，COMMENT =&gt;'强制'，MGMT_P1 =&gt; 25）; DBMS_RESOURCE_MANAGER.CREATE_PLAN_DIRECTIVE（PLAN =&gt;'Quarantine_plan'，GROUP_OR_SUBPLAN =&gt;'QUARANTINE_GROUP'，COMMENT =&gt;'限制CPU'，MGMT_P2 =&gt; 100，UTILIZATION_LIMIT =&gt; 20）; DBMS_RESOURCE_MANAGER.VALIDATE_PENDING_AREA（）; DBMS_RESOURCE_MANAGER.SUBMIT_PENDING_AREA（）;结束; /</pre><div class="infoboxnote" id="GUID-D695EE69-E08B-41BB-90FB-207E6810B938__GUID-F99E8B65-8BD5-47EB-85FE-1857210CFB0A">
                           <p class="notep1">注意：</p>
                           <p>虽然您可以将<code class="codeph">QUARANTINE_GROUP</code>的利用率限制设置为零，从而完全隔离失控查询，但建议您避免这样做。如果失控查询持有任何其他会话所需的任何资源-PGA内存，锁等等，那么零分配设置可能会导致死锁。
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D695EE69-E08B-41BB-90FB-207E6810B938__GUID-1550A6FC-D121-4F0A-95AD-71B5272E9997">示例3  - 限制应用程序的CPU</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>在此示例中，假设映射规则将应用程序会话映射到四个应用程序组之一。每个应用程序组的利用率限制为30％。这将任何一个应用程序的CPU利用率限制为30％。<code class="codeph">UTILIZATION_LIMIT</code>值的总和超过100％，这在所有应用程序不同时处于活动状态的情况下是允许的和可接受的。
                        </p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_RESOURCE_MANAGER.CREATE_PENDING_AREA（）; DBMS_RESOURCE_MANAGER.CREATE_CONSUMER_GROUP（CONSUMER_GROUP =&gt;'APP1_GROUP'，COMMENT =&gt;'Apps group 1'）; DBMS_RESOURCE_MANAGER.CREATE_CONSUMER_GROUP（CONSUMER_GROUP =&gt;'APP2_GROUP'，COMMENT =&gt;'Apps group 2'）; DBMS_RESOURCE_MANAGER.CREATE_CONSUMER_GROUP（CONSUMER_GROUP =&gt;'APP3_GROUP'，COMMENT =&gt;'Apps group 3'）; DBMS_RESOURCE_MANAGER.CREATE_CONSUMER_GROUP（CONSUMER_GROUP =&gt;'APP4_GROUP'，COMMENT =&gt;'Apps group 4'）; DBMS_RESOURCE_MANAGER.CREATE_PLAN（PLAN =&gt;'apps_plan'，COMMENT =&gt;'应用合并'）; DBMS_RESOURCE_MANAGER.CREATE_PLAN_DIRECTIVE（PLAN =&gt;'apps_plan'，GROUP_OR_SUBPLAN =&gt;'APP1_GROUP'，COMMENT =&gt;'Apps group 1'，UTILIZATION_LIMIT =&gt; 30）; DBMS_RESOURCE_MANAGER.CREATE_PLAN_DIRECTIVE（PLAN =&gt;'apps_plan'，GROUP_OR_SUBPLAN =&gt;'APP2_GROUP'，COMMENT =&gt;'Apps group 2'，UTILIZATION_LIMIT =&gt; 30）; DBMS_RESOURCE_MANAGER.CREATE_PLAN_DIRECTIVE（PLAN =&gt;'apps_plan'，GROUP_OR_SUBPLAN =&gt;'APP3_GROUP'，COMMENT =&gt;'Apps group 3'，UTILIZATION_LIMIT =&gt; 30）; DBMS_RESOURCE_MANAGER.CREATE_PLAN_DIRECTIVE（PLAN =&gt;'apps_plan'，GROUP_OR_SUBPLAN =&gt;'APP4_GROUP'，COMMENT =&gt;'Apps group 4'，UTILIZATION_LIMIT =&gt; 30）; DBMS_RESOURCE_MANAGER.CREATE_PLAN_DIRECTIVE（PLAN =&gt;'apps_plan'，GROUP_OR_SUBPLAN =&gt;'OTHER_GROUPS'，COMMENT =&gt;'强制'，UTILIZATION_LIMIT =&gt; 20）; DBMS_RESOURCE_MANAGER.VALIDATE_PENDING_AREA（）; DBMS_RESOURCE_MANAGER.SUBMIT_PENDING_AREA（）;结束; /</pre><p>如果所有四个应用程序组都可以完全使用分配给它们的CPU（在这种情况下为30％），则分配给每个应用程序组的最小CPU计算为应用程序组的限制与所有限制的总和的比率申请组。在此示例中，所有四个应用程序组的利用率限制均为30％。因此，当所有四个组完全使用其限制时，每组的CPU分配为30 /（30 + 30 + 30 + 30）= 25％。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-D695EE69-E08B-41BB-90FB-207E6810B938__BABEAJGH">
                        <p class="subhead3" id="GUID-D695EE69-E08B-41BB-90FB-207E6810B938__GUID-F398ABCE-5215-4522-BE21-95182B620EAF">示例4  - 为使用者组和子计划指定利用率限制</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>下列<a id="d241756e8217" class="indexterm-anchor"></a>示例描述了如何为场景计算利用率限制，例如<a href="managing-resources-with-oracle-database-resource-manager.html#GUID-D695EE69-E08B-41BB-90FB-207E6810B938__BABHHCCA">图27-4中的</a>场景，为子计划和子计划中的使用者组设置<code class="codeph">UTILIZATION_LIMIT</code> 。为简单起见，忽略包含<code class="codeph">OTHER_GROUPS</code>使用者组的要求，并且不显示资源计划指令，即使它们是计划的一部分。
                        </p>
                        <div class="figure" id="GUID-D695EE69-E08B-41BB-90FB-207E6810B938__BABHHCCA">
                           <p class="titleinfigure">图27-4子计划和使用者组的最大利用率资源计划</p><img src="img/admin087.gif" width="585" alt="下面是图27-4的描述" title="下面是图27-4的描述" longdesc="img_text/admin087.html"><br><a href="img_text/admin087.html">“图27-4子计划和用户组最大利用率的资源计划”的说明</a></div>
                        <!-- class="figure" -->
                        <p>以下PL / SQL块创建了<a href="managing-resources-with-oracle-database-resource-manager.html#GUID-D695EE69-E08B-41BB-90FB-207E6810B938__BABHHCCA">图27-4中</a>描述的计划。
                        </p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_RESOURCE_MANAGER.CREATE_PENDING_AREA（）; DBMS_RESOURCE_MANAGER.CREATE_CONSUMER_GROUP（CONSUMER_GROUP =&gt;'APP1_GROUP'，COMMENT =&gt;'申请＃1的组'）; DBMS_RESOURCE_MANAGER.CREATE_CONSUMER_GROUP（CONSUMER_GROUP =&gt;'APP2_OLTP_GROUP'，COMMENT =&gt;'应用程序＃2中的OLTP活动组'）; DBMS_RESOURCE_MANAGER.CREATE_CONSUMER_GROUP（CONSUMER_GROUP =&gt;'APP2_ADHOC_GROUP'，COMMENT =&gt;'用于应用程序＃2中的临时查询的组'）; DBMS_RESOURCE_MANAGER.CREATE_CONSUMER_GROUP（CONSUMER_GROUP =&gt;'APP2_REPORT_GROUP'，COMMENT =&gt;'申请＃2中的报告组'）; DBMS_RESOURCE_MANAGER.CREATE_PLAN（PLAN =&gt;'APPS_PLAN'，COMMENT =&gt;'计划管理3个应用程序'）; DBMS_RESOURCE_MANAGER.CREATE_PLAN（PLAN =&gt;'APP2_SUBPLAN'，COMMENT =&gt;'用于管理应用程序＃2的子计划'，SUB_PLAN =&gt; TRUE）; DBMS_RESOURCE_MANAGER.CREATE_PLAN（PLAN =&gt;'APP2_REPORTS_SUBPLAN'，COMMENT =&gt;'用于管理应用程序＃2中的报告的子计划'，SUB_PLAN =&gt; TRUE）; DBMS_RESOURCE_MANAGER.CREATE_PLAN_DIRECTIVE（PLAN =&gt;'APPS_PLAN'，GROUP_OR_SUBPLAN =&gt;'APP1_GROUP'，COMMENT =&gt;'限制应用程序＃1的CPU为40％'，UTILIZATION_LIMIT =&gt; 40）; DBMS_RESOURCE_MANAGER.CREATE_PLAN_DIRECTIVE（PLAN =&gt;'APPS_PLAN'，GROUP_OR_SUBPLAN =&gt;'APP2_SUBPLAN'，COMMENT =&gt;'限制应用程序＃2的CPU为40％'，UTILIZATION_LIMIT =&gt; 40）; DBMS_RESOURCE_MANAGER.CREATE_PLAN_DIRECTIVE（PLAN =&gt;'APP2_SUBPLAN'，GROUP_OR_SUBPLAN =&gt;'APP2_OLTP_GROUP'，COMMENT =&gt;'将OLTP的CPU限制为应用程序＃2的90％'，UTILIZATION_LIMIT =&gt; 90）; DBMS_RESOURCE_MANAGER.CREATE_PLAN_DIRECTIVE（PLAN =&gt;'APP2_SUBPLAN'，GROUP_OR_SUBPLAN =&gt;'APP2_REPORTS_SUBPLAN'，COMMENT =&gt;'用于应用程序＃2的临时和正常报告的子计划'）; DBMS_RESOURCE_MANAGER.CREATE_PLAN_DIRECTIVE（PLAN =&gt;'APP2_REPORTS_SUBPLAN'，GROUP_OR_SUBPLAN =&gt;'APP2_ADHOC_GROUP'，COMMENT =&gt;'限制CPU用于临时查询到50％的应用程序＃2报告'，UTILIZATION_LIMIT =&gt; 50）; DBMS_RESOURCE_MANAGER.CREATE_PLAN_DIRECTIVE（PLAN =&gt;'APP2_REPORTS_SUBPLAN'，GROUP_OR_SUBPLAN =&gt;'APP2_REPORT_GROUP'，COMMENT =&gt;'限制报告的CPU为50％的应用程序＃2报告'，UTILIZATION_LIMIT =&gt; 50）; DBMS_RESOURCE_MANAGER.CREATE_PLAN_DIRECTIVE（PLAN =&gt;'APPS_PLAN'，GROUP_OR_SUBPLAN =&gt;'OTHER_GROUPS'，COMMENT =&gt;'没有默认用户的指令'）; DBMS_RESOURCE_MANAGER.VALIDATE_PENDING_AREA（）; DBMS_RESOURCE_MANAGER.SUBMIT_PENDING_AREA（）;结束; /</pre><p>在此示例中，使用者组<code class="codeph">APP1_GROUP</code>和子计划<code class="codeph">APP2_SUBPLAN</code>的最大CPU利用率设置为40％。消费者组<code class="codeph">APP2_ADHOC_GROUP</code>和<code class="codeph">APP2_REPORT_GROUP</code>的限制设置为50％。
                        </p>
                        <p>由于没有为子计划<code class="codeph">APP2_REPORTS_SUBPLAN</code>指定限制，因此它继承了其父子计划<code class="codeph">APP2_SUBPLAN</code>的限制，即40％。消费者组<code class="codeph">APP2_REPORT_GROUP</code>的绝对限制计算为其父子计划的50％，即40％的50％或20％。
                        </p>
                        <p>类似地，因为消费者组<code class="codeph">APP2_ADHOC_GROUP</code>包含在子计划<code class="codeph">APP2_REPORTS_SUBPLAN</code> ，所以其限制被计算为其父子计划的百分比。消费者组<code class="codeph">APP2_ADHOC_GROUP</code>的利用率限制为40％的50％，即20％。
                        </p>
                        <p>使用者组<code class="codeph">APP2_OLTP_GROUP</code>的最大CPU利用率设置为90％。<code class="codeph">APP2_OLTP_GROUP</code>的父子<code class="codeph">APP2_OLTP_GROUP</code> <code class="codeph">APP2_SUBPLAN</code>的限制为40％。因此， <code class="codeph">APP2_OLTP_GROUP</code>组的绝对限制为40％的90％，即36％。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-A61AE3F0-75AC-4298-A5E6-D18482FDDA9F" title="Examples illustrate how to allocate resources with Resource Manager.">将所有</a> <strong>内容</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-A61AE3F0-75AC-4298-A5E6-D18482FDDA9F" title="示例说明如何使用Resource Manager分配资源。">放在一起：Oracle数据库资源管理器示例</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11892"></a><div class="props_rev_3"><a id="GUID-37CCBFC3-C64B-4474-8883-75FC4E42A18A" name="GUID-37CCBFC3-C64B-4474-8883-75FC4E42A18A"></a><h4 id="ADMIN-GUID-37CCBFC3-C64B-4474-8883-75FC4E42A18A" class="sect4"><span class="enumeration_section">27.7.3</span>使用多种资源分配方法的示例</h4>
                  <div>
                     <p>一个示例说明了使用多种资源分配方法。</p>
                     <div class="section">
                        <p>此处提供的示例可以表示支持打包的ERP（企业资源规划）或CRM（客户关系管理）应用程序的数据库的计划。在这样的环境中工作可以变化很大。可能存在混合的短事务和快速查询，以及包含大型并行查询的较长运行批处理作业。目标是为OLTP（在线事务处理）提供良好的响应时间，同时允许批处理作业并行运行。</p>
                        <p>该计划总结在下表中。</p>
                        <div class="tblformalwide" id="GUID-37CCBFC3-C64B-4474-8883-75FC4E42A18A__GUID-63B91FD9-3F99-42E7-8686-CAAF67826CF6">
                           <table cellpadding="4" cellspacing="0" class="FormalWide" title="" width="100%" border="1" summary="Column 1 contains the consumer group name; column 2 specifies the CPU resource allocation percent; column 3 specifies the active session pool parameter; column 4 specifies the automatic switching parameters; column 5 specifies the maximum estimated execution time, and column 6 specifies the size of the undo pool." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="14%" id="d241756e8342">组</th>
                                    <th align="left" valign="bottom" width="14%" id="d241756e8345">CPU资源分配％</th>
                                    <th align="left" valign="bottom" width="14%" id="d241756e8348">并行语句队列</th>
                                    <th align="left" valign="bottom" width="14%" id="d241756e8351">自动消费者组切换</th>
                                    <th align="left" valign="bottom" width="14%" id="d241756e8354">最长估计执行时间</th>
                                    <th align="left" valign="bottom" width="14%" id="d241756e8357">撤消池</th>
                                    <th align="left" valign="bottom" width="14%" id="d241756e8360">每场比赛的PGA限制</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="14%" id="d241756e8365" headers="d241756e8342 ">
                                       <p><code class="codeph">OLTP</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="14%" headers="d241756e8365 d241756e8345 ">
                                       <p>60％</p>
                                    </td>
                                    <td align="left" valign="top" width="14%" headers="d241756e8365 d241756e8348 ">
                                       <p>-</p>
                                    </td>
                                    <td align="left" valign="top" width="14%" headers="d241756e8365 d241756e8351 ">
                                       <p>切换到组： <code class="codeph">batch</code></p>
                                       <p>切换时间：3秒</p>
                                    </td>
                                    <td align="left" valign="top" width="14%" headers="d241756e8365 d241756e8354 ">
                                       <p>-</p>
                                    </td>
                                    <td align="left" valign="top" width="14%" headers="d241756e8365 d241756e8357 ">
                                       <p>200K</p>
                                    </td>
                                    <td align="left" valign="top" width="14%" headers="d241756e8365 d241756e8360 ">
                                       <p>20M</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="14%" id="d241756e8393" headers="d241756e8342 ">
                                       <p><code class="codeph">批量</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="14%" headers="d241756e8393 d241756e8345 ">
                                       <p>30％</p>
                                    </td>
                                    <td align="left" valign="top" width="14%" headers="d241756e8393 d241756e8348 ">
                                       <p>并行服务器限制：8</p>
                                       <p>并行队列超时：600秒</p>
                                    </td>
                                    <td align="left" valign="top" width="14%" headers="d241756e8393 d241756e8351 ">
                                       <p>-</p>
                                    </td>
                                    <td align="left" valign="top" width="14%" headers="d241756e8393 d241756e8354 ">
                                       <p>3600秒</p>
                                    </td>
                                    <td align="left" valign="top" width="14%" headers="d241756e8393 d241756e8357 ">
                                       <p>-</p>
                                    </td>
                                    <td align="left" valign="top" width="14%" headers="d241756e8393 d241756e8360 ">
                                       <p>-</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="14%" id="d241756e8419" headers="d241756e8342 ">
                                       <p><code class="codeph">OTHER_GROUPS</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="14%" headers="d241756e8419 d241756e8345 ">
                                       <p>10％</p>
                                    </td>
                                    <td align="left" valign="top" width="14%" headers="d241756e8419 d241756e8348 ">
                                       <p>-</p>
                                    </td>
                                    <td align="left" valign="top" width="14%" headers="d241756e8419 d241756e8351 ">
                                       <p>-</p>
                                    </td>
                                    <td align="left" valign="top" width="14%" headers="d241756e8419 d241756e8354 ">
                                       <p>-</p>
                                    </td>
                                    <td align="left" valign="top" width="14%" headers="d241756e8419 d241756e8357 ">
                                       <p>-</p>
                                    </td>
                                    <td align="left" valign="top" width="14%" headers="d241756e8419 d241756e8360 ">
                                       <p>-</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>以下语句创建前面的计划，名为<code class="codeph">erp_plan</code> ：</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_RESOURCE_MANAGER.CREATE_PENDING_AREA（）; DBMS_RESOURCE_MANAGER.CREATE_PLAN（PLAN =&gt;'erp_plan'，COMMENT =&gt;'ERP数据库的资源计划/方法'）; DBMS_RESOURCE_MANAGER.CREATE_CONSUMER_GROUP（CONSUMER_GROUP =&gt;'oltp'，COMMENT =&gt;'用于OLTP作业的资源使用者组/方法'）; DBMS_RESOURCE_MANAGER.CREATE_CONSUMER_GROUP（CONSUMER_GROUP =&gt;'batch'，COMMENT =&gt;'BATCH作业的资源使用者组/方法'）; DBMS_RESOURCE_MANAGER.CREATE_PLAN_DIRECTIVE（PLAN =&gt;'erp_plan'，GROUP_OR_SUBPLAN =&gt;'oltp'，COMMENT =&gt;'OLTP sessions'，MGMT_P1 =&gt; 60，SWITCH_GROUP =&gt;'batch'，SWITCH_TIME =&gt; 3，UNDO_POOL =&gt; 200，SWITCH_FOR_CALL = &gt; TRUE，SESSION_PGA_LIMIT =&gt; 20）; DBMS_RESOURCE_MANAGER.CREATE_PLAN_DIRECTIVE（PLAN =&gt;'erp_plan'，GROUP_OR_SUBPLAN =&gt;'batch'，COMMENT =&gt;'BATCH sessions'，MGMT_P1 =&gt; 30，PARALLEL_SERVER_LIMIT =&gt; 8，PARALLEL_QUEUE_TIMEOUT =&gt; 600，MAX_EST_EXEC_TIME =&gt; 3600）; DBMS_RESOURCE_MANAGER.CREATE_PLAN_DIRECTIVE（PLAN =&gt;'erp_plan'，GROUP_OR_SUBPLAN =&gt;'OTHER_GROUPS'，COMMENT =&gt;'mandatory'，MGMT_P1 =&gt; 10）; DBMS_RESOURCE_MANAGER.VALIDATE_PENDING_AREA（）; DBMS_RESOURCE_MANAGER.SUBMIT_PENDING_AREA（）;结束; /</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-A61AE3F0-75AC-4298-A5E6-D18482FDDA9F" title="Examples illustrate how to allocate resources with Resource Manager.">将所有</a> <strong>内容</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-A61AE3F0-75AC-4298-A5E6-D18482FDDA9F" title="示例说明如何使用Resource Manager分配资源。">放在一起：Oracle数据库资源管理器示例</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN13472"></a><a id="ADMIN13471"></a><div class="props_rev_3"><a id="GUID-B4256D06-2223-49A1-A939-9BE9706498BC" name="GUID-B4256D06-2223-49A1-A939-9BE9706498BC"></a><h4 id="ADMIN-GUID-B4256D06-2223-49A1-A939-9BE9706498BC" class="sect4"><span class="enumeration_section">27.7.4</span>使用指令属性管理并行语句的示例</h4>
                  <div>
                     <p>示例说明了使用指令属性管理并行语句。</p>
                     <p>典型的数据仓库环境由具有不同资源需求的不同类型的用户组成。具有共同处理需求的用户被分组到消费者组中。消费者组<code class="codeph">URGENT_GROUP</code>由运行报告的用户组成，这些报告向最高管理层提供重要信息。该组生成大量并行查询。使用者组<code class="codeph">ETL_GROUP</code>用户从源系统导入数据并执行提取，转换和加载（ETL）操作。<code class="codeph">OTHER_GROUPS</code>组包含执行即席查询的用户。您必须在优化性能的同时管理这些不同用户组的要求。
                     </p>
                     <p>您可以使用以下指令属性来管理和优化并行语句的执行：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">MGMT_P</code> <span class="italic">n</span></p>
                        </li>
                        <li>
                           <p><code class="codeph">PARALLEL_SERVER_LIMIT</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">PARALLEL_STMT_CRITICAL</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">PARALLEL_QUEUE_TIMEOUT</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">PQ_TIMEOUT_ACTION</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">PARALLEL_DEGREE_LIMIT_P1</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">分享</code></p>
                        </li>
                     </ul>
                     <div class="infoboxnote" id="GUID-B4256D06-2223-49A1-A939-9BE9706498BC__GUID-3BD8665C-54D8-4D5A-8D0A-B2AEBB0A7DE1">
                        <p class="notep1">注意：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">MGMT_P</code> <span class="italic">n</span>管理属性和<code class="codeph">SHARES</code>属性控制如何从并行语句队列中选择并行语句以供执行。您可以通过为该组的管理属性设置更高的值来优先考虑一个使用者组的并行语句。
                              </p>
                           </li>
                           <li>
                              <p>在多租户环境中，如果您需要更多的每工作负载管理，则可以使用<code class="codeph">SHARES</code>属性指定可插拔数据库（PDB）的资源分配份额，其中包括并行语句排队资源。或者，您可以使用上面提到的其他指令属性。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <p><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-B4256D06-2223-49A1-A939-9BE9706498BC__BABBGHBA" title="此表描述了计划MY_PLAN的资源分配。">表27-4</a>描述了计划<code class="codeph">DW_PLAN</code>的资源分配，可用于管理数据仓库用户的需求。此计划包含消费者组<code class="codeph">URGENT_GROUP</code> ， <code class="codeph">ETL_GROUP</code>和<code class="codeph">OTHER_GROUPS</code> 。此示例演示如何使用指令属性来确保一个应用程序或使用者组不使用所有可用的并行执行服务器。
                     </p>
                     <div class="tblformalwide" id="GUID-B4256D06-2223-49A1-A939-9BE9706498BC__BABBGHBA">
                        <p class="titleintable">表27-4具有并行语句指令的资源计划</p>
                        <table cellpadding="4" cellspacing="0" class="FormalWide" title="并行声明指令的资源计划" width="100%" border="1" summary="This table describes the reource allocations for the plan MY_PLAN." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="19%" id="d241756e8593">消费者集团</th>
                                 <th align="left" valign="bottom" width="13%" id="d241756e8596">1级CPU分配</th>
                                 <th align="left" valign="bottom" width="13%" id="d241756e8599">2级CPU分配</th>
                                 <th align="left" valign="bottom" width="13%" id="d241756e8602">3级CPU分配</th>
                                 <th align="left" valign="bottom" width="13%" id="d241756e8605">PARALLEL_DEGREE_LIMIT_P1</th>
                                 <th align="left" valign="bottom" width="15%" id="d241756e8608">PARALLEL_SERVER_LIMIT</th>
                                 <th align="left" valign="bottom" width="13%" id="d241756e8611">PARALLEL_QUEUE_TIMEOUT</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d241756e8616" headers="d241756e8593 ">
                                    <p><code class="codeph">URGENT_GROUP</code></p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d241756e8616 d241756e8596 ">
                                    <p>100％</p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d241756e8616 d241756e8599 ">
                                    <p></p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d241756e8616 d241756e8602 ">
                                    <p></p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d241756e8616 d241756e8605 ">
                                    <p>12</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d241756e8616 d241756e8608 ">
                                    <p></p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d241756e8616 d241756e8611 ">
                                    <p></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d241756e8635" headers="d241756e8593 ">
                                    <p><code class="codeph">ETL_GROUP</code></p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d241756e8635 d241756e8596 ">
                                    <p></p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d241756e8635 d241756e8599 ">
                                    <p>100％</p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d241756e8635 d241756e8602 ">
                                    <p></p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d241756e8635 d241756e8605 ">
                                    <p>8</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d241756e8635 d241756e8608 ">
                                    <p>50％</p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d241756e8635 d241756e8611 ">
                                    <p></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d241756e8655" headers="d241756e8593 ">
                                    <p><code class="codeph">OTHER_GROUPS</code></p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d241756e8655 d241756e8596 ">
                                    <p></p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d241756e8655 d241756e8599 ">
                                    <p></p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d241756e8655 d241756e8602 ">
                                    <p>100％</p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d241756e8655 d241756e8605 ">
                                    <p>2</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d241756e8655 d241756e8608 ">
                                    <p>50％</p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d241756e8655 d241756e8611 ">
                                    <p>360</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>在此示例中，参数<code class="codeph">PARALLEL_SERVERS_TARGET</code>初始化参数设置为64，这意味着可用的并行执行服务器数为64。在将<code class="codeph">PARALLEL_DEGREE_POLICY</code>设置为<code class="codeph">AUTO</code> <code class="codeph">URGENT_GROUP</code>会话添加到并行语句队列之前，可用于并行语句执行的并行执行服务器总数等于64。由于<code class="codeph">ETL_GROUP</code>和<code class="codeph">OTHER_GROUPS</code>的<code class="codeph">PARALLEL_SERVER_LIMIT</code>属性为50％，因此这些组可以使用的最大并行执行服务器数为64％的50％，或者每个32个并行执行服务器。
                     </p>
                     <p>请注意，如果<code class="codeph">PARALLEL_DEGREE_POLICY</code>参数设置为<code class="codeph">AUTO</code>且消费者组的活动服务器总数高于<code class="codeph">PARALLEL_SERVERS_TARGET</code>则来自使用者组的并行语句将仅排队。如果<code class="codeph">PARALLEL_DEGREE_POLICY</code>设置为<code class="codeph">MANUAL</code>或<code class="codeph">LIMITED</code> ，则只要有足够的并行执行服务器可用，语句就会运行。此类语句使用的并行执行服务器将计入使用者组使用的并行执行服务器的总数。但是，并行语句不会添加到并行语句队列中。
                     </p>
                     <div class="infobox-tip" id="GUID-B4256D06-2223-49A1-A939-9BE9706498BC__GUID-5A6B2097-A027-4EA7-A2C6-8F4B5F43E58B">
                        <p class="notep1">小费：</p>
                        <p>对于低优先级应用程序，通常的做法是为<code class="codeph">PARALLEL_DEGREE_LIMIT_P1</code>和<code class="codeph">PARALLEL_SERVER_LIMIT</code>设置较低的值。</p>
                     </div>
                     <p>由于<code class="codeph">URGENT_GROUP</code>在级别1具有100％的分配，因此其并行语句将始终在并行语句队列中的其他使用者组之前出列。虽然<code class="codeph">URGENT_GROUP</code>没有<code class="codeph">PARALLEL_SERVER_LIMIT</code>指令属性，但如果没有足够的可用并行执行服务器来运行它，则该组中的会话发出的语句可能仍会排队。
                     </p>
                     <p>为<code class="codeph">URGENT_GROUP</code>创建资源计划指令时，可以将<code class="codeph">PARALLEL_STMT_CRITICAL</code>参数设置为<code class="codeph">BYPASS_QUEUE</code> 。使用此设置，来自使用者组的并行语句会绕过并行语句队列并立即执行。但是，并行执行服务器的数量可能会超过<code class="codeph">PARALLEL_SERVERS_TARGET</code>初始化参数的设置，如果达到<code class="codeph">PARALLEL_MAX_SERVERS</code>初始化参数设置的限制，则<code class="codeph">PARALLEL_MAX_SERVERS</code>度可能会降低。
                     </p>
                     <p>对于<code class="codeph">URGENT_GROUP</code> ，由<code class="codeph">PARALLEL_DEGREE_LIMIT_P1</code>表示的<code class="codeph">PARALLEL_DEGREE_LIMIT_P1</code>度设置为12。因此， <code class="codeph">URGENT_GROUP</code>每个并行语句<code class="codeph">URGENT_GROUP</code>可以使用12个并行执行服务器。类似地， <code class="codeph">ETL_GROUP</code>每个并行语句<code class="codeph">ETL_GROUP</code>可以使用8个并行执行服务器， <code class="codeph">OTHER_GROUPS</code>每个并行语句可以使用2个并行执行服务器。
                     </p>
                     <p>假设在给定时间，唯一的并行语句来自<code class="codeph">ETL_GROUP</code> ，并且它们使用该组可用的32个并行执行服务器中的26个。此使用者组的会话将<code class="codeph">PARALLEL_DEGREE_POLICY</code>设置为<code class="codeph">AUTO</code> 。如果从<code class="codeph">ETL_GROUP</code>启动另一个<code class="codeph">PARALLEL_DEGREE_LIMIT_P1</code>属性设置为8的并行语句，则无法立即运行此查询，因为<code class="codeph">ETL_GROUP</code>的可用并行执行服务器是32-26 = 6个并行执行服务器。新的并行语句将排队，直到它所需的并行执行服务器数量在<code class="codeph">ETL_GROUP</code>可用。</p>
                     <p>在执行<code class="codeph">ETL_GROUP</code>中的并行语句时，假设从<code class="codeph">OTHER_GROUPS</code>启动并行语句。该组仍有32个可用的并行执行服务器，因此执行并行语句。
                     </p>
                     <p><code class="codeph">OTHER_GROUPS</code>的<code class="codeph">PARALLEL_QUEUE_TIMEOUT</code>属性设置为360。因此，此组中的任何并行语句只能在并行执行服务器队列中保留360秒。在此之后，并行语句将从队列中删除，并返回错误<code class="codeph">ORA-07454</code> 。
                     </p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-B4256D06-2223-49A1-A939-9BE9706498BC__GUID-6F70B6AD-308D-4A5F-9A03-B64531A8B132">
                        <p class="notep1">也可以看看：</p>
                        <p></p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-B1E0B0A8-2709-4A1C-821D-9CEC35B03603" title="资源管理器可以管理数据库的可用并行执行服务器的使用情况。">并行执行服务器</a> ”</span></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-3BDCC024-22DD-479D-A7C3-92E7145C854F" title="您可以使用CREATE_PLAN_DIRECTIVE过程来创建资源计划指令。每个指令属于计划或子计划，并将资源分配给使用者组或子计划。">制定资源计划指令</a> ”</span></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-A61AE3F0-75AC-4298-A5E6-D18482FDDA9F" title="Examples illustrate how to allocate resources with Resource Manager.">将所有</a> <strong>内容</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-A61AE3F0-75AC-4298-A5E6-D18482FDDA9F" title="示例说明如何使用Resource Manager分配资源。">放在一起：Oracle数据库资源管理器示例</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11893"></a><div class="props_rev_3"><a id="GUID-24C55451-A87D-45B7-8230-4B51392AE89F" name="GUID-24C55451-A87D-45B7-8230-4B51392AE89F"></a><h4 id="ADMIN-GUID-24C55451-A87D-45B7-8230-4B51392AE89F" class="sect4"><span class="enumeration_section">27.7.5</span> Oracle提供的混合工作负载计划</h4>
                  <div>
                     <p>Oracle数据库包括一个预定义的资源计划<code class="codeph">MIXED_WORKLOAD_PLAN</code> ，它通过批处理操作确定交互操作的优先级，并包括Oracle推荐的所需子计划和使用者组。
                     </p>
                     <p><code class="codeph">MIXED_WORKLOAD_PLAN</code>定义如下：</p>
                     <div class="tblformal" id="GUID-24C55451-A87D-45B7-8230-4B51392AE89F__GUID-33EEFE13-B050-4506-8BB2-1755C2318B50">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Column 1 lists the resource consumer groups/subplans included in the plan; the next 3 columns specify the CPU resource allocations for level 1, level2, and level 3, respectively. The next column indicates automatic switching parameters, and the final column shows max degree of parallelism" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th rowspan="2" align="left" valign="bottom" width="17%" id="d241756e8919">小组或子计划</th>
                                 <th colspan="5" align="left" valign="bottom" id="d241756e8922">CPU资源分配</th>
                              </tr>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="17%" id="d241756e8926">1级</th>
                                 <th align="left" valign="bottom" width="17%" id="d241756e8929">2级</th>
                                 <th align="left" valign="bottom" width="17%" id="d241756e8932">3级</th>
                                 <th align="left" valign="bottom" width="17%" id="d241756e8935">自动消费者组切换</th>
                                 <th align="left" valign="bottom" width="17%" id="d241756e8938">最大并行度</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="17%" id="d241756e8943" headers="d241756e8919 ">
                                    <p><code class="codeph">BATCH_GROUP</code></p>
                                 </td>
                                 <td align="left" valign="top" width="17%" headers="d241756e8943 d241756e8922 d241756e8926 ">
                                    <p></p>
                                 </td>
                                 <td align="left" valign="top" width="17%" headers="d241756e8943 d241756e8922 d241756e8929 ">
                                    <p></p>
                                 </td>
                                 <td align="left" valign="top" width="17%" headers="d241756e8943 d241756e8922 d241756e8932 ">
                                    <p>100％</p>
                                 </td>
                                 <td align="left" valign="top" width="17%" headers="d241756e8943 d241756e8922 d241756e8935 ">
                                    <p></p>
                                 </td>
                                 <td align="left" valign="top" width="17%" headers="d241756e8943 d241756e8922 d241756e8938 ">
                                    <p></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="17%" id="d241756e8959" headers="d241756e8919 ">
                                    <p><code class="codeph">INTERACTIVE_GROUP</code></p>
                                 </td>
                                 <td align="left" valign="top" width="17%" headers="d241756e8959 d241756e8922 d241756e8926 ">
                                    <p></p>
                                 </td>
                                 <td align="left" valign="top" width="17%" headers="d241756e8959 d241756e8922 d241756e8929 ">
                                    <p>85％</p>
                                 </td>
                                 <td align="left" valign="top" width="17%" headers="d241756e8959 d241756e8922 d241756e8932 ">
                                    <p></p>
                                 </td>
                                 <td align="left" valign="top" width="17%" headers="d241756e8959 d241756e8922 d241756e8935 ">
                                    <p>切换到组： <code class="codeph">BATCH_GROUP</code></p>
                                    <p>切换时间：60秒</p>
                                    <p>切换到呼叫： <code class="codeph">TRUE</code></p>
                                 </td>
                                 <td align="left" valign="top" width="17%" headers="d241756e8959 d241756e8922 d241756e8938 ">
                                    <p>1</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="17%" id="d241756e8985" headers="d241756e8919 ">
                                    <p><code class="codeph">ORA $ AUTOTASK</code></p>
                                 </td>
                                 <td align="left" valign="top" width="17%" headers="d241756e8985 d241756e8922 d241756e8926 ">
                                    <p></p>
                                 </td>
                                 <td align="left" valign="top" width="17%" headers="d241756e8985 d241756e8922 d241756e8929 ">
                                    <p>5％</p>
                                 </td>
                                 <td align="left" valign="top" width="17%" headers="d241756e8985 d241756e8922 d241756e8932 ">
                                    <p></p>
                                 </td>
                                 <td align="left" valign="top" width="17%" headers="d241756e8985 d241756e8922 d241756e8935 ">
                                    <p></p>
                                 </td>
                                 <td align="left" valign="top" width="17%" headers="d241756e8985 d241756e8922 d241756e8938 ">
                                    <p></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="17%" id="d241756e9001" headers="d241756e8919 ">
                                    <p><code class="codeph">OTHER_GROUPS</code></p>
                                 </td>
                                 <td align="left" valign="top" width="17%" headers="d241756e9001 d241756e8922 d241756e8926 ">
                                    <p></p>
                                 </td>
                                 <td align="left" valign="top" width="17%" headers="d241756e9001 d241756e8922 d241756e8929 ">
                                    <p>5％</p>
                                 </td>
                                 <td align="left" valign="top" width="17%" headers="d241756e9001 d241756e8922 d241756e8932 ">
                                    <p></p>
                                 </td>
                                 <td align="left" valign="top" width="17%" headers="d241756e9001 d241756e8922 d241756e8935 ">
                                    <p></p>
                                 </td>
                                 <td align="left" valign="top" width="17%" headers="d241756e9001 d241756e8922 d241756e8938 ">
                                    <p></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="17%" id="d241756e9017" headers="d241756e8919 ">
                                    <p><code class="codeph">SYS_GROUP</code></p>
                                 </td>
                                 <td align="left" valign="top" width="17%" headers="d241756e9017 d241756e8922 d241756e8926 ">
                                    <p>100％</p>
                                 </td>
                                 <td align="left" valign="top" width="17%" headers="d241756e9017 d241756e8922 d241756e8929 ">
                                    <p></p>
                                 </td>
                                 <td align="left" valign="top" width="17%" headers="d241756e9017 d241756e8922 d241756e8932 ">
                                    <p></p>
                                 </td>
                                 <td align="left" valign="top" width="17%" headers="d241756e9017 d241756e8922 d241756e8935 ">
                                    <p></p>
                                 </td>
                                 <td align="left" valign="top" width="17%" headers="d241756e9017 d241756e8922 d241756e8938 ">
                                    <p></p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>在此计划中，由于<code class="codeph">INTERACTIVE_GROUP</code>用于短事务，因此任何耗时超过60秒CPU时间的调用都会自动切换到<code class="codeph">BATCH_GROUP</code> ，后者用于较长的批处理操作。
                     </p>
                     <p>如果适合您的环境，您可以使用此预定义计划。（您可以修改计划，或者如果您不打算使用它，则将其删除。）请注意，名称<code class="codeph">BATCH_GROUP</code>和<code class="codeph">INTERACTIVE_GROUP</code>没有什么特别之处。这些名称仅反映了组的预期用途，您可以将应用程序会话映射到这些组并相应地调整CPU资源分配百分比，以便为交互式和批处理应用程序实现正确的资源管理。例如，要确保您的交互式应用程序在<code class="codeph">INTERACTIVE_GROUP</code>使用者组下运行，您必须根据用户名，服务名称，程序名称，模块名称或操作将交互式应用程序的用户会话映射到此使用者组，如<span class="q">“ <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-5AA9FBC6-3C11-4DA5-B9EE-C98CC2553042" title="您可以创建会话到使用者组映射规则并确定其优先级。">指定会话到消费者组映射规则</a> “</span> 。您必须以相同的方式将批处理应用程序映射到<code class="codeph">BATCH_GROUP</code> 。最后，您必须按照<span class="q">“ <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-E8FABE8D-A781-49BB-B623-98F096DED239" title="您可以通过设置RESOURCE_MANAGER_PLAN初始化参数来启用Oracle数据库资源管理器（资源管理器）。此参数指定顶层计划，标识要用于当前实例的计划。如果未使用此参数指定计划，则不会启用资源管理器。">启用Oracle数据库资源管理器和切换计划</a> ”中的说明</span>启用此计划。
                     </p>
                     <p>有关此计划中其他资源使用者组和子计划的说明，请参阅<a href="managing-resources-with-oracle-database-resource-manager.html#GUID-9EAAC00F-008D-4F2D-B764-BF1D01F0CDD4__CHDBEJJB" title="该表有两列：资源计划和描述。">表27-5</a>和<a href="managing-resources-with-oracle-database-resource-manager.html#GUID-9EAAC00F-008D-4F2D-B764-BF1D01F0CDD4__CHDJAJHE" title="该表有两列：Resource Consumer Group和Description。">表27-6</a> 。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-A61AE3F0-75AC-4298-A5E6-D18482FDDA9F" title="Examples illustrate how to allocate resources with Resource Manager.">将所有</a> <strong>内容</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-A61AE3F0-75AC-4298-A5E6-D18482FDDA9F" title="示例说明如何使用Resource Manager分配资源。">放在一起：Oracle数据库资源管理器示例</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADMIN13332"></a><div class="props_rev_3"><a id="GUID-C00DB05B-E597-496B-835F-C9D0FB5EDFFD" name="GUID-C00DB05B-E597-496B-835F-C9D0FB5EDFFD"></a><h3 id="ADMIN-GUID-C00DB05B-E597-496B-835F-C9D0FB5EDFFD" class="sect3"><span class="enumeration_section">27.8</span>在单个服务器上管理多个数据库实例</h3>
               <p>Oracle数据库提供了一种在运行多个数据库实例的多CPU服务器上管理CPU分配的方法。此方法称为实例锁定。实例控制和Oracle数据库资源管理器（资源管理器）协同工作，以支持跨多个实例的所需服务级别。</p>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-787B9BC0-50DD-4E29-9D29-DCFA856BF8A5">关于实例囚笼</a><br>限制每个数据库实例的CPU消耗的一种简单方法是使用实例锁定。<span class="bold">实例囚笼</span>是一种使用初始化参数来限制实例可以同时使用的CPU数量的方法。
                     </li>
                     <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-A4F10766-1F2C-4952-9A8D-23765FB9B242">启用实例囚笼</a><br>您可以通过创建具有CPU指令的资源计划并设置<code class="codeph">CPU_COUNT</code>初始化参数来启用实例锁定。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-2BEF5482-CF97-4A85-BD90-9195E41E74EF" title="Oracle数据库资源管理器（资源管理器）使您可以管理数据库的资源分配。">使用Oracle数据库资源管理器管理资源</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN13473"></a><a id="ADMIN13333"></a><div class="props_rev_3"><a id="GUID-787B9BC0-50DD-4E29-9D29-DCFA856BF8A5" name="GUID-787B9BC0-50DD-4E29-9D29-DCFA856BF8A5"></a><h4 id="ADMIN-GUID-787B9BC0-50DD-4E29-9D29-DCFA856BF8A5" class="sect4"><span class="enumeration_section">27.8.1</span>关于实例囚笼</h4>
                  <div>
                     <p>限制每个数据库实例的CPU消耗的一种简单方法是使用实例锁定。<span class="bold">实例囚笼</span>是一种使用初始化参数来限制实例可以同时使用的CPU数量的方法。
                     </p>
                     <p>您可能决定在单个多CPU服务器上运行多个Oracle数据库实例。这样做的典型原因是服务器整合 - 更有效地使用可用的硬件资源。在单个服务器上运行多个实例时，实例会争用CPU。一个资源密集型数据库实例可能会显着降低其他实例的性能。例如，在具有四个数据库实例的16-CPU系统上，操作系统可能在该实例的高负载期间在大多数CPU上运行一个数据库实例。这可能会降低其他三个实例的性能。像这样的CPU分配决策完全由操作系统完成;用户通常无法控制它们。</p>
                     <p>在前面的示例中，如果使用实例锁定将四个实例中的每个实例的CPU数限制为四个，则一个实例可能会干扰其他实例的可能性更小。当约束到四个CPU时，实例可能会受CPU限制。这是资源管理器根据您为实例设置的资源计划开始在各种数据库会话中分配CPU的工作。因此，实例锁定和资源管理器一起提供了一种简单有效的方法来管理单个服务器上的多个实例。</p>
                     <p>有两种典型的服务器实例控制方法：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>超额订阅 - 您可以将此方法用于非关键数据库，例如开发和测试系统，或低负载非关键生产系统。在此方法中，每个实例的CPU限制总和超过了系统上的实际CPU数。例如，在具有四个数据库实例的4-CPU系统上，您可以将每个实例限制为三个CPU。当服务器以这种方式超额预订时，实例可能会影响彼此的性能。但是，实例锁定限制了影响并有助于提供一定程度的可预测性能。但是，如果其中一个实例具有高负载时段，则可以使用CPU来处理它。对于非关键系统，这是一种合理的方法，因为一个或多个实例可能经常处于空闲状态或负载非常低。</p>
                        </li>
                        <li>
                           <p>分区 - 此方法适用于关键生产系统，您希望防止实例相互干扰。您可以分配CPU，使所有分配的总和等于服务器上的CPU数。例如，在16服务器系统上，您可以为第一个实例分配8个CPU，为第二个实例分配4个CPU，为剩余的两个实例分配2个CPU。通过将CPU资源专用于每个数据库实例，一个实例上的负载不会影响另一个实例，并且每个实例都可以预测执行。</p>
                        </li>
                     </ul>
                     <div class="section">
                        <p class="subhead3" id="GUID-787B9BC0-50DD-4E29-9D29-DCFA856BF8A5__GUID-BD035F20-F203-4F20-8288-3A176B4D0357">使用具有利用率限制的实例囚笼</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>如果你<a id="d241756e9206" class="indexterm-anchor"></a>启用实例锁定并在资源计划中设置利用率限制，然后绝对限制将计算为已分配CPU资源的百分比。
                        </p>
                        <p>例如，如果启用实例锁定并将<code class="codeph">CPU_COUNT</code>设置为4，并且使用者组的利用率限制为50％，则使用者组最多可以使用4个CPU的50％，即2个CPU。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-C00DB05B-E597-496B-835F-C9D0FB5EDFFD" title="Oracle数据库提供了一种在运行多个数据库实例的多CPU服务器上管理CPU分配的方法。此方法称为实例锁定。实例控制和Oracle数据库资源管理器（资源管理器）协同工作，以支持跨多个实例的所需服务级别。">在单个服务器上管理多个数据库实例</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN13334"></a><div class="props_rev_3"><a id="GUID-A4F10766-1F2C-4952-9A8D-23765FB9B242" name="GUID-A4F10766-1F2C-4952-9A8D-23765FB9B242"></a><h4 id="ADMIN-GUID-A4F10766-1F2C-4952-9A8D-23765FB9B242" class="sect4"><span class="enumeration_section">27.8.2</span>启用实例囚笼</h4>
                  <div>
                     <p>您可以通过创建具有CPU指令的资源计划并设置<code class="codeph">CPU_COUNT</code>初始化参数来启用实例锁定。
                     </p>
                     <div class="section">
                        <p>要启用实例锁定，请对服务器上的每个实例执行以下操作：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>通过分配资源计划来启用资源管理器，并使用<code class="codeph">MGMT_P1</code>到<code class="codeph">MGMT_P8</code>参数确保资源计划具有CPU指令。</span><div>
                              <p>有关说明，请参阅<span class="q">“ <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-E8FABE8D-A781-49BB-B623-98F096DED239" title="您可以通过设置RESOURCE_MANAGER_PLAN初始化参数来启用Oracle数据库资源管理器（资源管理器）。此参数指定顶层计划，标识要用于当前实例的计划。如果未使用此参数指定计划，则不会启用资源管理器。">启用Oracle数据库资源管理器和切换计划</a> ”</span> 。
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>设置<code class="codeph">cpu_count</code>初始化参数。</span><div>
                              <p>这是一个动态参数，可以使用以下语句进行设置：</p><pre class="oac_no_warn" dir="ltr">ALTER SYSTEM SET CPU_COUNT = 4;</pre></div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-C00DB05B-E597-496B-835F-C9D0FB5EDFFD" title="Oracle数据库提供了一种在运行多个数据库实例的多CPU服务器上管理CPU分配的方法。此方法称为实例锁定。实例控制和Oracle数据库资源管理器（资源管理器）协同工作，以支持跨多个实例的所需服务级别。">在单个服务器上管理多个数据库实例</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADMIN12498"></a><div class="props_rev_3"><a id="GUID-86F4CE3C-3B5C-41D6-A50D-E965E13C1408" name="GUID-86F4CE3C-3B5C-41D6-A50D-E965E13C1408"></a><h3 id="ADMIN-GUID-86F4CE3C-3B5C-41D6-A50D-E965E13C1408" class="sect3"><span class="enumeration_section">27.9</span>维护消费者群体，计划和指令</h3>
               <div>
                  <p>您可以维护Oracle数据库资源管理器（资源管理器）的使用者组，资源计划和资源计划指令。您使用<code class="codeph">DBMS_RESOURCE_MANAGER</code> PL / SQL包执行维护任务。
                  </p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-9073BCF5-FA7B-473B-9D7A-B4CA31C0EB4F">更新消费者组</a><br>您使用<code class="codeph">UPDATE_CONSUMER_GROUP</code>过程来更新使用者组信息。
                     </li>
                     <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-5AA84FCC-5D81-4A25-800A-FD2C6AEBF288">删除消费者组</a><br><code class="codeph">DELETE_CONSUMER_GROUP</code>过程删除指定的使用者组。
                     </li>
                     <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-BF867BB4-2DCD-4715-A0A5-A2514CB2C43E">更新计划</a><br>您使用<code class="codeph">UPDATE_PLAN</code>过程来更新计划信息。
                     </li>
                     <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-3EC483D5-2808-448A-84F5-24D79944F121">删除计划</a><br><code class="codeph">DELETE_PLAN</code>过程删除指定的计划以及与之关联的所有计划指令。
                     </li>
                     <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-20267C07-2EBA-4AB4-90EA-8C853E7EA697">更新资源计划指令</a><br>使用<code class="codeph">UPDATE_PLAN_DIRECTIVE</code>过程更新计划指令。
                     </li>
                     <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-C61729C4-6ABF-45E4-831B-B0050152FE63">删除资源计划指令</a><br>要删除资源计划指令，请使用<code class="codeph">DELETE_PLAN_DIRECTIVE</code>过程。
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-86F4CE3C-3B5C-41D6-A50D-E965E13C1408__GUID-93DA4AAE-0BCC-4C35-BA2C-DA5129B4EDD4">
                     <p class="notep1">也可以看看：</p>
                     <p></p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-AC101C05-DD43-445C-85F7-0A04DCBC2EE0" title="Oracle Database包含预定义的使用者组映射规则。">预定义的使用者组映射规则</a></p>
                        </li>
                        <li>
                           <p>有关<code class="codeph">DBMS_RESOURCE_MANAGER</code> PL / SQL包的详细信息，请参阅<a href="../arpls/DBMS_RESOURCE_MANAGER.html#ARPLS050" target="_blank"><span class="italic">Oracle Database PL / SQL包和类型参考</span></a> 。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-2BEF5482-CF97-4A85-BD90-9195E41E74EF" title="Oracle数据库资源管理器（资源管理器）使您可以管理数据库的资源分配。">使用Oracle数据库资源管理器管理资源</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN11897"></a><div class="props_rev_3"><a id="GUID-9073BCF5-FA7B-473B-9D7A-B4CA31C0EB4F" name="GUID-9073BCF5-FA7B-473B-9D7A-B4CA31C0EB4F"></a><h4 id="ADMIN-GUID-9073BCF5-FA7B-473B-9D7A-B4CA31C0EB4F" class="sect4"><span class="enumeration_section">27.9.1</span>更新消费者组</h4>
                  <div>
                     <p>您使用<code class="codeph">UPDATE_CONSUMER_GROUP</code>过程来更新使用者组信息。
                     </p>
                     <div class="section">
                        <p>要更新使用者组：</p>
                        <ol>
                           <li>
                              <p>创建待定区域。</p>
                           </li>
                           <li>
                              <p>运行<code class="codeph">UPDATE_CONSUMER_GROUP</code>过程。
                              </p>
                              <p>如果未指定<code class="codeph">UPDATE_CONSUMER_GROUP</code>过程的参数，则它们在数据字典中保持不变。
                              </p>
                           </li>
                           <li>
                              <p>提交待处理区域。</p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-EF88A167-74C2-482A-BA44-2E14F6091411" title="使用CREATE_PENDING_AREA过程创建挂起区域。">创建待定区域</a></li>
                           <li><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-6A81232C-BCA8-4939-8496-FC082ACA318E" title="验证更改后，请调用SUBMIT_PENDING_AREA过程以激活更改。">提交待定区域</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-86F4CE3C-3B5C-41D6-A50D-E965E13C1408" title="您可以维护Oracle数据库资源管理器（资源管理器）的使用者组，资源计划和资源计划指令。您使用DBMS_RESOURCE_MANAGER PL / SQL包执行维护任务。">维护使用者组，计划和指令</a></p>
                        </div>
                     </div>
                  </div>
               </div><a id="ADMIN11898"></a><div class="props_rev_3"><a id="GUID-5AA84FCC-5D81-4A25-800A-FD2C6AEBF288" name="GUID-5AA84FCC-5D81-4A25-800A-FD2C6AEBF288"></a><h4 id="ADMIN-GUID-5AA84FCC-5D81-4A25-800A-FD2C6AEBF288" class="sect4"><span class="enumeration_section">27.9.2</span>删除消费者组</h4>
                  <div>
                     <p><code class="codeph">DELETE_CONSUMER_GROUP</code>过程删除指定的使用者组。
                     </p>
                     <div class="section">
                        <p>要删除使用者组：</p>
                        <ol>
                           <li>
                              <p>创建待定区域。</p>
                           </li>
                           <li>
                              <p>运行<code class="codeph">DELETE_CONSUMER_GROUP</code>过程。
                              </p>
                           </li>
                           <li>
                              <p>提交待处理区域。</p>
                           </li>
                        </ol>
                        <p>在删除消费者组时，将具有已删除组作为其初始消费者组的所有用户分配为<code class="codeph">OTHER_GROUPS</code>作为其初始消费者组。根据使用者组映射规则，将属于已删除的使用者组的所有当前正在运行的会话分配给新的使用者组。如果通过映射找不到会话的使用者组，则会话将切换到<code class="codeph">OTHER_GROUPS</code> 。</p>
                        <p>如果资源计划指令引用了消费者组，则无法删除该消费者组。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-EF88A167-74C2-482A-BA44-2E14F6091411" title="使用CREATE_PENDING_AREA过程创建挂起区域。">创建待定区域</a></li>
                           <li><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-6A81232C-BCA8-4939-8496-FC082ACA318E" title="验证更改后，请调用SUBMIT_PENDING_AREA过程以激活更改。">提交待定区域</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-86F4CE3C-3B5C-41D6-A50D-E965E13C1408" title="您可以维护Oracle数据库资源管理器（资源管理器）的使用者组，资源计划和资源计划指令。您使用DBMS_RESOURCE_MANAGER PL / SQL包执行维护任务。">维护使用者组，计划和指令</a></p>
                        </div>
                     </div>
                  </div>
               </div><a id="ADMIN11895"></a><div class="props_rev_3"><a id="GUID-BF867BB4-2DCD-4715-A0A5-A2514CB2C43E" name="GUID-BF867BB4-2DCD-4715-A0A5-A2514CB2C43E"></a><h4 id="ADMIN-GUID-BF867BB4-2DCD-4715-A0A5-A2514CB2C43E" class="sect4"><span class="enumeration_section">27.9.3</span>更新计划</h4>
                  <div>
                     <p>您使用<code class="codeph">UPDATE_PLAN</code>过程来更新计划信息。
                     </p>
                     <div class="section">
                        <p>要更新计划：</p>
                        <ol>
                           <li>
                              <p>创建待定区域。</p>
                           </li>
                           <li>
                              <p>运行<code class="codeph">UPDATE_PLAN</code>过程。例如，以下PL / SQL块更新<code class="codeph">COMMENT</code>参数：</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_RESOURCE_MANAGER.UPDATE_PLAN（PLAN =&gt;'DAYTIME'，NEW_COMMENT =&gt;'为OLTP应用程序提供50％以上的资源'）;结束; /</pre><p>如果未指定<code class="codeph">UPDATE_PLAN</code>过程的参数，则它们在数据字典中保持不变。
                              </p>
                           </li>
                           <li>
                              <p>提交待处理区域。</p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-EF88A167-74C2-482A-BA44-2E14F6091411" title="使用CREATE_PENDING_AREA过程创建挂起区域。">创建待定区域</a></li>
                           <li><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-6A81232C-BCA8-4939-8496-FC082ACA318E" title="验证更改后，请调用SUBMIT_PENDING_AREA过程以激活更改。">提交待定区域</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-86F4CE3C-3B5C-41D6-A50D-E965E13C1408" title="您可以维护Oracle数据库资源管理器（资源管理器）的使用者组，资源计划和资源计划指令。您使用DBMS_RESOURCE_MANAGER PL / SQL包执行维护任务。">维护使用者组，计划和指令</a></p>
                        </div>
                     </div>
                  </div>
               </div><a id="ADMIN11896"></a><div class="props_rev_3"><a id="GUID-3EC483D5-2808-448A-84F5-24D79944F121" name="GUID-3EC483D5-2808-448A-84F5-24D79944F121"></a><h4 id="ADMIN-GUID-3EC483D5-2808-448A-84F5-24D79944F121" class="sect4"><span class="enumeration_section">27.9.4</span>删除计划</h4>
                  <div>
                     <p><code class="codeph">DELETE_PLAN</code>过程删除指定的计划以及与之关联的所有计划指令。
                     </p>
                     <div class="section">
                        <p>删除计划：</p>
                        <ol>
                           <li>
                              <p>创建待定区域。</p>
                           </li>
                           <li>
                              <p>运行<code class="codeph">DELETE_PLAN_CASCADE</code>过程。例如，以下PL / SQL块删除<code class="codeph">great_bread</code>计划及其指令。
                              </p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_RESOURCE_MANAGER.DELETE_PLAN（PLAN =&gt;'great_bread'）;结束; /</pre><p>如果未指定<code class="codeph">UPDATE_PLAN</code>过程的参数，则它们在数据字典中保持不变。
                              </p>
                              <p>已删除指令引用的资源使用者组不会被删除，但它们不再与<code class="codeph">great_bread</code>计划相关联。
                              </p>
                              <p><code class="codeph">DELETE_PLAN_CASCADE</code>过程删除指定的计划及其所有后代：计划指令以及未被数据库标记为必需的子计划和资源使用者组。如果<code class="codeph">DELETE_PLAN_CASCADE</code>遇到错误，则会回滚，保持计划不变。
                              </p>
                              <p>您无法删除当前有效的计划。</p>
                           </li>
                           <li>
                              <p>提交待处理区域。</p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-EF88A167-74C2-482A-BA44-2E14F6091411" title="使用CREATE_PENDING_AREA过程创建挂起区域。">创建待定区域</a></li>
                           <li><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-6A81232C-BCA8-4939-8496-FC082ACA318E" title="验证更改后，请调用SUBMIT_PENDING_AREA过程以激活更改。">提交待定区域</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-86F4CE3C-3B5C-41D6-A50D-E965E13C1408" title="您可以维护Oracle数据库资源管理器（资源管理器）的使用者组，资源计划和资源计划指令。您使用DBMS_RESOURCE_MANAGER PL / SQL包执行维护任务。">维护使用者组，计划和指令</a></p>
                        </div>
                     </div>
                  </div>
               </div><a id="ADMIN11899"></a><div class="props_rev_3"><a id="GUID-20267C07-2EBA-4AB4-90EA-8C853E7EA697" name="GUID-20267C07-2EBA-4AB4-90EA-8C853E7EA697"></a><h4 id="ADMIN-GUID-20267C07-2EBA-4AB4-90EA-8C853E7EA697" class="sect4"><span class="enumeration_section">27.9.5</span>更新资源计划指令</h4>
                  <div>
                     <p>使用<code class="codeph">UPDATE_PLAN_DIRECTIVE</code>过程更新计划指令。
                     </p>
                     <div class="section">
                        <p>要更新资源计划指令：</p>
                        <ol>
                           <li>
                              <p>创建待定区域。</p>
                           </li>
                           <li>
                              <p>运行<code class="codeph">UPDATE_PLAN_DIRECTIVE</code>过程。
                              </p>
                              <p>以下示例向指令添加注释：</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_RESOURCE_MANAGER.CLEAR_PENDING_AREA（）; DBMS_RESOURCE_MANAGER.CREATE_PENDING_AREA（）; DBMS_RESOURCE_MANAGER.UPDATE_PLAN_DIRECTIVE（PLAN =&gt;'SIMPLE_PLAN1'，GROUP_OR_SUBPLAN =&gt;'MYGROUP1'，NEW_COMMENT =&gt;'更高优先级'）; DBMS_RESOURCE_MANAGER.SUBMIT_PENDING_AREA（）;结束; /</pre><p>要清除（取消）注释，请传递空字符串（ <code class="codeph">''</code> ）。要清除（零或无效）任何数字指令参数，请将其新值设置为-1：</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_RESOURCE_MANAGER.CLEAR_PENDING_AREA（）; DBMS_RESOURCE_MANAGER.CREATE_PENDING_AREA（）; DBMS_RESOURCE_MANAGER.UPDATE_PLAN_DIRECTIVE（PLAN =&gt;'SIMPLE_PLAN1'，GROUP_OR_SUBPLAN =&gt;'MYGROUP1'，NEW_MAX_EST_EXEC_TIME =&gt; -1）; DBMS_RESOURCE_MANAGER.SUBMIT_PENDING_AREA（）;结束; /</pre><p>如果没有为<code class="codeph">UPDATE_PLAN_DIRECTIVE</code>过程指定参数，则其在指令中的相应参数保持不变。
                              </p>
                           </li>
                           <li>
                              <p>提交待处理区域。</p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-EF88A167-74C2-482A-BA44-2E14F6091411" title="使用CREATE_PENDING_AREA过程创建挂起区域。">创建待定区域</a></li>
                           <li><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-6A81232C-BCA8-4939-8496-FC082ACA318E" title="验证更改后，请调用SUBMIT_PENDING_AREA过程以激活更改。">提交待定区域</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-86F4CE3C-3B5C-41D6-A50D-E965E13C1408" title="您可以维护Oracle数据库资源管理器（资源管理器）的使用者组，资源计划和资源计划指令。您使用DBMS_RESOURCE_MANAGER PL / SQL包执行维护任务。">维护使用者组，计划和指令</a></p>
                        </div>
                     </div>
                  </div>
               </div><a id="ADMIN11900"></a><div class="props_rev_3"><a id="GUID-C61729C4-6ABF-45E4-831B-B0050152FE63" name="GUID-C61729C4-6ABF-45E4-831B-B0050152FE63"></a><h4 id="ADMIN-GUID-C61729C4-6ABF-45E4-831B-B0050152FE63" class="sect4"><span class="enumeration_section">27.9.6</span>删除资源计划指令</h4>
                  <div>
                     <p>要删除资源计划指令，请使用<code class="codeph">DELETE_PLAN_DIRECTIVE</code>过程。
                     </p>
                     <div class="section">
                        <p>要删除资源计划指令：</p>
                        <ol>
                           <li>
                              <p>创建待定区域。</p>
                           </li>
                           <li>
                              <p>运行<code class="codeph">DELETE_PLAN_DIRECTIVE</code>过程。
                              </p>
                           </li>
                           <li>
                              <p>提交待处理区域。</p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-EF88A167-74C2-482A-BA44-2E14F6091411" title="使用CREATE_PENDING_AREA过程创建挂起区域。">创建待定区域</a></li>
                           <li><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-6A81232C-BCA8-4939-8496-FC082ACA318E" title="验证更改后，请调用SUBMIT_PENDING_AREA过程以激活更改。">提交待定区域</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-86F4CE3C-3B5C-41D6-A50D-E965E13C1408" title="您可以维护Oracle数据库资源管理器（资源管理器）的使用者组，资源计划和资源计划指令。您使用DBMS_RESOURCE_MANAGER PL / SQL包执行维护任务。">维护使用者组，计划和指令</a></p>
                        </div>
                     </div>
                  </div>
               </div>
            </div><a id="ADMIN11901"></a><div class="props_rev_3"><a id="GUID-3BFC030A-3C67-4255-9C3D-F8DAE8889301" name="GUID-3BFC030A-3C67-4255-9C3D-F8DAE8889301"></a><h3 id="ADMIN-GUID-3BFC030A-3C67-4255-9C3D-F8DAE8889301" class="sect3"><span class="enumeration_section">27.10</span>查看数据库资源管理器配置和状态</h3>
               <div>
                  <p>您可以使用多个静态数据字典视图和动态性能视图来查看Oracle数据库资源管理器（资源管理器）的当前配置和状态。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-8E8CEB24-10CA-40F7-8A90-8A31B84CCB08">查看授予用户或角色的使用者组</a><br><code class="codeph">DBA_RSRC_CONSUMER_GROUP_PRIVS</code>视图显示授予用户或角色的使用者组。
                     </li>
                     <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-EB4E8ECE-74B9-4F13-80A7-B6ADCB1197AB">查看计划信息</a><br>示例说明如何使用<code class="codeph">DBA_RSRC_PLANS</code>视图显示数据库中定义的所有资源计划。
                     </li>
                     <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-56416F58-C6E7-4278-A1CF-BDA523669636">查看当前消费者组的会话</a><br>您可以使用<code class="codeph">V$SESSION</code>视图显示当前分配给会话的使用者组。
                     </li>
                     <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-855E2EBA-4B4E-414C-9C51-0E8D3E9ED748">查看当前有效的计划</a><br><code class="codeph">V$RSRC_PLAN</code>视图显示当前活动的计划。
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-3BFC030A-3C67-4255-9C3D-F8DAE8889301__GUID-034D351F-FF18-4808-BA20-2A4A3204AC0D">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="../refrn/index.html" target="_blank"><span class="italic">Oracle Database Reference</span></a> ，了解有关所有静态数据字典视图和动态性能视图的详细信息</p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-2BEF5482-CF97-4A85-BD90-9195E41E74EF" title="Oracle数据库资源管理器（资源管理器）使您可以管理数据库的资源分配。">使用Oracle数据库资源管理器管理资源</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN11902"></a><div class="props_rev_3"><a id="GUID-8E8CEB24-10CA-40F7-8A90-8A31B84CCB08" name="GUID-8E8CEB24-10CA-40F7-8A90-8A31B84CCB08"></a><h4 id="ADMIN-GUID-8E8CEB24-10CA-40F7-8A90-8A31B84CCB08" class="sect4"><span class="enumeration_section">27.10.1</span>查看授予用户或角色的用户组</h4>
                  <div>
                     <p><code class="codeph">DBA_RSRC_CONSUMER_GROUP_PRIVS</code>视图显示授予用户或角色的使用者组。
                     </p>
                     <div class="section">
                        <p>具体来说，它显示允许用户或角色属于或切换到的组。例如，在下面显示的视图中，用户<code class="codeph">SCOTT</code>始终在<code class="codeph">SALES</code>使用者组中启动，可以通过特定授权切换到<code class="codeph">MARKETING</code>组，并且可以切换到<code class="codeph">DEFAULT_CONSUMER_GROUP</code> （ <code class="codeph">OTHER_GROUPS</code> ）和<code class="codeph">LOW_GROUP</code>组，因为它们被授予<code class="codeph">PUBLIC</code> 。 <code class="codeph">SCOTT</code>还可以向其他用户授予<code class="codeph">SALES</code>组但不授予<code class="codeph">MARKETING</code>组。
                        </p><pre class="oac_no_warn" dir="ltr">SELECT * FROM dba_rsrc_consumer_group_privs; GRANTEE GRANTED_GROUP GRANT_OPTION INITIAL_GROUP ------------------ ---------------------------- -  ------------ ------------- PUBLIC DEFAULT_CONSUMER_GROUP YES YES PUBLIC LOW_GROUP NO NO SCOTT MARKETING NO NO SCOTT SALES YES YES SYSTEM SYS_GROUP NO YES</pre><p><code class="codeph">SCOTT</code>被授予使用<code class="codeph">DBMS_RESOURCE_MANAGER_PRIVS</code>包切换到这些组的能力。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-3BFC030A-3C67-4255-9C3D-F8DAE8889301" title="您可以使用多个静态数据字典视图和动态性能视图来查看Oracle数据库资源管理器（资源管理器）的当前配置和状态。">查看数据库资源管理器配置和状态</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11903"></a><div class="props_rev_3"><a id="GUID-EB4E8ECE-74B9-4F13-80A7-B6ADCB1197AB" name="GUID-EB4E8ECE-74B9-4F13-80A7-B6ADCB1197AB"></a><h4 id="ADMIN-GUID-EB4E8ECE-74B9-4F13-80A7-B6ADCB1197AB" class="sect4"><span class="enumeration_section">27.10.2</span>查看计划信息</h4>
                  <div>
                     <p>示例说明如何使用<code class="codeph">DBA_RSRC_PLANS</code>视图显示数据库中定义的所有资源计划。
                     </p>
                     <div class="section">
                        <p>所有计划都具有<code class="codeph">NULL</code>状态，这意味着它们不在待处理区域中。
                        </p>
                        <div class="infoboxnote" id="GUID-EB4E8ECE-74B9-4F13-80A7-B6ADCB1197AB__GUID-9AC701A2-088B-4FD4-B7FA-AAE86B65A8CC">
                           <p class="notep1">注意：</p>
                           <p>在等待区计划有一个状态<code class="codeph">PENDING</code> 。正在编辑待定区域的计划。
                           </p>
                        </div><pre class="oac_no_warn" dir="ltr">SELECT计划，状态，评论FROM dba_rsrc_plans;计划状态评论--------------------------- -------- ------------ ---------------------------- DSS_PLAN prio的DSS工作负载的示例计划...ETL_CRITICAL_PLAN prio的DSS工作负载的示例计划...MIXED_WORKLOAD_PLAN混合工作负载的示例计划，...DEFAULT_MAINTENANCE_PLAN维护窗口的默认计划...DEFAULT_PLAN默认的，基本的，预先定义的计划，...INTERNAL_QUIESCE计划停顿数据库。这个......INTERNAL_PLAN内部使用的禁用r ...的计划。。。</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-3BFC030A-3C67-4255-9C3D-F8DAE8889301" title="您可以使用多个静态数据字典视图和动态性能视图来查看Oracle数据库资源管理器（资源管理器）的当前配置和状态。">查看数据库资源管理器配置和状态</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11904"></a><div class="props_rev_3"><a id="GUID-56416F58-C6E7-4278-A1CF-BDA523669636" name="GUID-56416F58-C6E7-4278-A1CF-BDA523669636"></a><h4 id="ADMIN-GUID-56416F58-C6E7-4278-A1CF-BDA523669636" class="sect4"><span class="enumeration_section">27.10.3</span>查看会话的当前使用者组</h4>
                  <div>
                     <p>您可以使用<code class="codeph">V$SESSION</code>视图显示当前分配给会话的使用者组。
                     </p>
                     <div class="section">
                        <p>以下示例查询<code class="codeph">V$SESSION</code>视图：</p><pre class="oac_no_warn" dir="ltr">SELECT sid，serial＃，username，resource_consumer_group FROM v $ session; SID SERIAL＃USERNAME RESOURCE_CONSUMER_GROUP ----- ------- ------------------------ --------- ----------------------- 11 136 SYS SYS_GROUP 13 16570 SCOTT SALES ...</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-3BFC030A-3C67-4255-9C3D-F8DAE8889301" title="您可以使用多个静态数据字典视图和动态性能视图来查看Oracle数据库资源管理器（资源管理器）的当前配置和状态。">查看数据库资源管理器配置和状态</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11905"></a><div class="props_rev_3"><a id="GUID-855E2EBA-4B4E-414C-9C51-0E8D3E9ED748" name="GUID-855E2EBA-4B4E-414C-9C51-0E8D3E9ED748"></a><h4 id="ADMIN-GUID-855E2EBA-4B4E-414C-9C51-0E8D3E9ED748" class="sect4"><span class="enumeration_section">27.10.4</span>查看当前有效的计划</h4>
                  <div>
                     <p><code class="codeph">V$RSRC_PLAN</code>视图显示当前活动的计划。
                     </p>
                     <div class="section">
                        <p>此示例将<code class="codeph">mydb_plan</code>设置为顶级计划，该<code class="codeph">mydb_plan</code>由<span class="q">“ <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-57A6467A-4865-4C16-8A14-4DDCC969960F" title="一个例子说明了一个多级计划。">多级计划示例</a> ”中</span>显示的示例创建。然后，它查询<code class="codeph">V$RSRC_PLAN</code>视图以显示当前活动的计划。该视图显示当前的顶级计划及其所有后代子计划。
                        </p><pre class="oac_no_warn" dir="ltr">ALTER SYSTEM SET RESOURCE_MANAGER_PLAN = mydb_plan;系统改变了。SELECT name，is_top_plan FROM v $ rsrc_plan; NAME IS_TOP_PLAN ---------------------------- MYDB_PLAN TRUE MAILDB_PLAN FALSE BUGDB_PLAN FALSE</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-3BFC030A-3C67-4255-9C3D-F8DAE8889301" title="您可以使用多个静态数据字典视图和动态性能视图来查看Oracle数据库资源管理器（资源管理器）的当前配置和状态。">查看数据库资源管理器配置和状态</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADMIN12663"></a><a id="ADMIN12664"></a><a id="ADMIN12665"></a><a id="ADMIN12666"></a><a id="ADMIN12667"></a><a id="ADMIN13474"></a><a id="ADMIN13475"></a><a id="ADMIN11906"></a><div class="props_rev_3"><a id="GUID-9CF57A7E-CCE3-4F80-9E21-29AF9B2283F0" name="GUID-9CF57A7E-CCE3-4F80-9E21-29AF9B2283F0"></a><h3 id="ADMIN-GUID-9CF57A7E-CCE3-4F80-9E21-29AF9B2283F0" class="sect3"><span class="enumeration_section">27.11</span>监控Oracle数据库资源管理器</h3>
               <div>
                  <p>通过一组动态性能视图，您可以监视Oracle数据库资源管理器设置的结果。</p>
                  <div class="section">
                     <p>使用以下动态性能视图可帮助您监视Oracle数据库资源管理器设置的结果：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-9CF57A7E-CCE3-4F80-9E21-29AF9B2283F0__CHDJIIHI">V $ RSRC_PLAN</a></p>
                        </li>
                        <li>
                           <p><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-9CF57A7E-CCE3-4F80-9E21-29AF9B2283F0__CHDCJCGB">V $ RSRC_CONSUMER_GROUP</a></p>
                        </li>
                        <li>
                           <p><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-9CF57A7E-CCE3-4F80-9E21-29AF9B2283F0__CHDEFABB">V $ RSRC_SESSION_INFO</a></p>
                        </li>
                        <li>
                           <p><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-9CF57A7E-CCE3-4F80-9E21-29AF9B2283F0__CHDBCICB">V $ RSRC_PLAN_HISTORY</a></p>
                        </li>
                        <li>
                           <p><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-9CF57A7E-CCE3-4F80-9E21-29AF9B2283F0__CHDEGIIA">V $ RSRC_CONS_GROUP_HISTORY</a></p>
                        </li>
                        <li>
                           <p><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-9CF57A7E-CCE3-4F80-9E21-29AF9B2283F0__BABFDBFA">V $ RSRCMGRMETRIC</a></p>
                        </li>
                        <li>
                           <p><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-9CF57A7E-CCE3-4F80-9E21-29AF9B2283F0__BABFEDEI">V $ RSRCMGRMETRIC_HISTORY</a></p>
                        </li>
                     </ul>
                     <p>这些观点提供：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>当前状态信息</p>
                        </li>
                        <li>
                           <p>资源计划激活的历史</p>
                        </li>
                        <li>
                           <p>资源消费者组和会话的资源消耗和CPU等待的当前和历史统计信息</p>
                        </li>
                     </ul>
                     <p>此外，历史统计数据都可以通过<code class="codeph">DBA_HIST_RSRC_PLAN</code>和<code class="codeph">DBA_HIST_RSRC_CONSUMER_GROUP</code>意见，其中包括自动负载信息库（AWR）中的快照<code class="codeph">V$RSRC_PLAN_HISTORY</code>和<code class="codeph">V$RSRC_CONS_GROUP_HISTORY</code> ，分别。
                     </p>
                     <p>有关调整的帮助，视图<code class="codeph">V$RSRCMGRMETRIC</code>和<code class="codeph">V$RSRCMGRMETRIC_HISTORY</code>显示了等待CPU花费了多少时间以及过去一小时内每个消费者组每分钟消耗的CPU数量。还可以在“资源管理器统计信息”页面上使用Cloud Control以图形方式查看这些度量标准。
                     </p>
                     <p>启用资源管理器后，资源管理器会自动记录有关资源使用情况的统计信息，您可以使用实时SQL监视和资源管理器动态性能视图来检查这些统计信息。</p>
                     <p>您可以通过访问Cloud Control中的SQL Monitor页面或查询<code class="codeph">V$SQL_MONITOR</code>视图和其他相关视图来使用实时SQL监视。<code class="codeph">V$SQL_MONITOR</code>视图还包括有关资源管理器为以下列中的使用者组执行的上一个操作的信息： <code class="codeph">RM_CONSUMER_GROUP</code> ， <code class="codeph">RM_LAST_ACTION</code> ， <code class="codeph">RM_LAST_ACTION_REASON</code>和<code class="codeph">RM_LAST_ACTION_TIME</code> 。</p>
                     <p>此外，以下动态性能视图包含有关资源使用情况的统计信息：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">V $ RSRCMGRMETRIC</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">V $ RSRCMGRMETRIC_HISTORY</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">V $ RSRC_CONSUMER_GROUP</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">V $ RSRC_CONS_GROUP_HISTORY</code></p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-9CF57A7E-CCE3-4F80-9E21-29AF9B2283F0__GUID-611CD077-89E7-4546-8352-481325A41250">
                        <p class="notep1">也可以看看：</p>
                        <p>有关实时SQL监视的详细信息，请<a href="../tgsql/monitoring-database-operations.html#TGSQL789" target="_blank"><span class="italic">参见“Oracle数据库SQL调优指南”</span></a></p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-9CF57A7E-CCE3-4F80-9E21-29AF9B2283F0__CHDJIIHI">
                     <p class="subhead2" id="GUID-9CF57A7E-CCE3-4F80-9E21-29AF9B2283F0__GUID-CF0117D1-C3B8-4225-AEB8-AA71ABCDABE3">V $ RSRC_PLAN</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>此视图显示当前活动的资源计划及其子计划。</p><pre class="oac_no_warn" dir="ltr">SELECT name，is_top_plan FROM v $ rsrc_plan; NAME IS_TOP_PLAN -------------------------------- ----------- DEFAULT_PLAN TRUE ORA $ AUTOTASK FALSE ORA $ AUTOTASK_HIGH_SUB_PLAN FALSE</pre><p><code class="codeph">IS_TOP_PLAN</code>为<code class="codeph">TRUE</code>的计划是当前活动（顶部）计划，其他计划是顶级计划或列表中其他子计划的子计划。
                     </p>
                     <p>此视图还包含其他信息，包括以下内容：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">INSTANCE_CAGING</code>列显示是否启用了实例锁定。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">CPU_MANAGED</code>列显示是否正在管理CPU。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">PARALLEL_EXECUTION_MANAGED</code>列显示是否启用了并行语句排队。
                           </p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-9CF57A7E-CCE3-4F80-9E21-29AF9B2283F0__GUID-61BF7BEA-E700-4620-B2D4-ADCBFBEFDF13">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="../refrn/V-RSRC_PLAN.html#REFRN30216" target="_blank"><span class="italic">Oracle数据库参考</span></a></p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-9CF57A7E-CCE3-4F80-9E21-29AF9B2283F0__CHDCJCGB">
                     <p class="subhead2" id="GUID-9CF57A7E-CCE3-4F80-9E21-29AF9B2283F0__GUID-1CF72898-F692-47B8-A9A8-941378C7AFE6">V $ RSRC_CONSUMER_GROUP</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>使用<code class="codeph">V$RSRC_CONSUMER_GROUP</code>视图监视所消耗的资源，包括CPU，I / O和并行执行服务器。它还可用于监视与CPU资源管理，失控查询管理，并行语句排队等相关的统计信息。所有统计数据都是从计划激活时开始累积的。
                     </p><pre class="oac_no_warn" dir="ltr">SELECT name，active_sessions，queue_length，consume_cpu_time，cpu_waits，cpu_wait_time FROM v $ rsrc_consumer_group;名称ACTIVE_SESSIONS QUEUE_LENGTH CONSUMED_CPU_TIME CPU_WAITS CPU_WAIT_TIME ------------------ --------------- ----------- -  ----------------- ---------- ------------- OLTP_ORDER_ENTRY 1 0 29690 467 6709 OTHER_GROUPS 0 0 5982366 4089 60425 SYS_GROUP 1 0 2420704 914 19540 DSS_QUERIES 4 2 4594660 3004 55700</pre><p>在前面的查询结果中， <code class="codeph">DSS_QUERIES</code>使用者组在其活动会话池中有四个会话，另外两个会话排队等待激活。
                     </p>
                     <p>此视图中的关键指标是<code class="codeph">CPU_WAIT_TIME</code> 。这表示由于资源管理，使用者组中的会话等待CPU的总时间。由于锁存或入队争用，I / O等等，此措施中不包括等待。
                     </p>
                     <div class="infoboxnote" id="GUID-9CF57A7E-CCE3-4F80-9E21-29AF9B2283F0__GUID-C1B768DB-A711-4326-B3F0-98D91905C197">
                        <p class="notep1">注意：</p>
                        <p><code class="codeph">V$RSRC_CONSUMER_GROUP</code>视图记录资源管理器当前未管理的资源的统计信息。当<code class="codeph">STATISTICS_LEVEL</code>初始化参数设置为<code class="codeph">ALL</code>或<code class="codeph">TYPICAL</code> 。</p>
                     </div>
                     <div class="infoboxnotealso" id="GUID-9CF57A7E-CCE3-4F80-9E21-29AF9B2283F0__GUID-10F53C5C-1637-4DAC-85C2-4DF313CC04E5">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="../refrn/V-RSRC_CONSUMER_GROUP.html#REFRN30214" target="_blank"><span class="italic">Oracle数据库参考</span></a></p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-9CF57A7E-CCE3-4F80-9E21-29AF9B2283F0__CHDEFABB">
                     <p class="subhead2" id="GUID-9CF57A7E-CCE3-4F80-9E21-29AF9B2283F0__GUID-95CF85D9-B340-41A1-A133-0F11CD04AA22">V $ RSRC_SESSION_INFO</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>使用此视图可监视一个或多个会话的状态。该视图显示了资源管理器如何影响会话。它提供的信息如下：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>会话当前所属的使用者组。</p>
                        </li>
                        <li>
                           <p>会话最初属于的消费者群体。</p>
                        </li>
                        <li>
                           <p>用于将会话映射到使用者组的会话属性。</p>
                        </li>
                        <li>
                           <p>会话状态（ <code class="codeph">RUNNING</code> ， <code class="codeph">WAIT_FOR_CPU</code> ， <code class="codeph">QUEUED</code>等）。
                           </p>
                        </li>
                        <li>
                           <p>度量标准的当前和累积统计信息，例如CPU消耗，等待时间，排队时间和使用的活动并行服务器数。当前统计信息反映了自加入当前消费者组以来的会话统计信息。累积统计信息反映了自创建以来所有消费者组中的会话统计信息。</p>
                        </li>
                     </ul><pre class="oac_no_warn" dir="ltr">SELECT se.sid sess_id，co.name consumer_group，se.state，se.consumed_cpu_time cpu_time，se.cpu_wait_time，se.queued_time FROM v $ rsrc_session_info se，v $ rsrc_consumer_group co WHERE se.current_consumer_group_id = co.id; SESS_ID CONSUMER_GROUP STATE CPU_TIME CPU_WAIT_TIME QUEUED_TIME ------- ------------------ -------- ---------  - ----------- ----------- 113 OLTP_ORDER_ENTRY WAITING 137947 28846 0 135 OTHER_GUUPS IDLE 785669 11126 0 124 OTHER_GROUPS WAITING 50401 14326 0 114 SYS_GROUP RUNNING 495 0 0 102 SYS_GROUP IDLE 88054 80 0 147 DSS_QUERIES WAITING 460910 512154 0</pre><p><code class="codeph">CPU_WAIT_TIME</code>在该视图中的含义与在同一个<code class="codeph">V$RSRC_CONSUMER_GROUP</code>看法，但适用于单个会话。
                     </p>
                     <p>您可以使用<code class="codeph">V$SESSION</code>视图加入此视图，以获取有关会话的更多信息。
                     </p>
                     <div class="infoboxnotealso" id="GUID-9CF57A7E-CCE3-4F80-9E21-29AF9B2283F0__GUID-A0C0129C-204B-4E1A-B490-6FB1D3E9F510">
                        <p class="notep1">也可以看看：</p>
                        <p></p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="../refrn/V-RSRC_SESSION_INFO.html#REFRN30404" target="_blank"><span class="italic">Oracle数据库参考</span></a></p>
                           </li>
                           <li>
                              <p><a href="../vldbg/monitor-parallel-performance.html#VLDBG14098" target="_blank"><span class="italic">Oracle数据库VLDB和分区指南</span></a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-9CF57A7E-CCE3-4F80-9E21-29AF9B2283F0__CHDBCICB">
                     <p class="subhead2" id="GUID-9CF57A7E-CCE3-4F80-9E21-29AF9B2283F0__GUID-A92895B4-7C29-41B2-9E55-4BA1944D0588">V $ RSRC_PLAN_HISTORY</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>此视图显示在实例上启用或禁用资源计划的时间。为每个资源计划激活或取消激活分配序列号。对于视图中的每个条目， <code class="codeph">V$RSRC_CONS_GROUP_HISTORY</code>视图具有计划中每个使用者组的相应条目，该条目显示使用者组的累积统计信息。这两个视图由每个<code class="codeph">SEQUENCE#</code>列连接<code class="codeph">SEQUENCE#</code> 。
                     </p><pre class="oac_no_warn" dir="ltr">SELECT sequence＃seq，name plan_name，to_char（start_time，'DD-MON-YY HH24：MM'）start_time，to_char（end_time，'DD-MON-YY HH24：MM'）end_time，window_name FROM v $ rsrc_plan_history; SEQ PLAN_NAME START_TIME END_TIME WINDOW_NAME ---- -------------------------- --------------- --------------- ---------------- 1 29-MAY-07 23:05 29-MAY-07 23:05 2 DEFAULT_MAINTENANCE_PLAN 29-MAY-07 23:05 30-MAY-07 02:05 TUESDAY_WINDOW 3 30-MAY-07 02:05 30-MAY-07 22:05 4 DEFAULT_MAINTENANCE_PLAN 30-MAY-07 22:05 31-MAY-07 02 ：05 WEDNESDAY_WINDOW 5 31-MAY-07 02:05 31-MAY-07 22:05 6 DEFAULT_MAINTENANCE_PLAN 31-MAY-07 22:05 THURSDAY_WINDOW</pre><p><code class="codeph">PLAN_NAME</code>下的空值表示没有计划处于活动状态。
                     </p>
                     <p>此视图的AWR快照存储在<code class="codeph">DBA_HIST_RSRC_PLAN</code>视图中。
                     </p>
                     <div class="infoboxnotealso" id="GUID-9CF57A7E-CCE3-4F80-9E21-29AF9B2283F0__GUID-1706C531-D0B2-471E-BA62-8980E3049E25">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="../refrn/V-RSRC_PLAN_HISTORY.html#REFRN30403" target="_blank"><span class="italic">Oracle数据库参考</span></a></p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-9CF57A7E-CCE3-4F80-9E21-29AF9B2283F0__CHDEGIIA">
                     <p class="subhead2" id="GUID-9CF57A7E-CCE3-4F80-9E21-29AF9B2283F0__GUID-6FB4BDB5-A635-4083-B040-28DA9402F7AE">V $ RSRC_CONS_GROUP_HISTORY</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>此视图可帮助您了解消费者组在一段时间内如何共享资源。<code class="codeph">sequence#</code>列对应于<code class="codeph">V$RSRC_PLAN_HISTORY</code>视图中的同名列。因此，您可以确定每行使用者组统计信息处于活动状态的计划。
                     </p><pre class="oac_no_warn" dir="ltr">SELECT sequence＃seq，name，cpu_wait_time，cpu_waits，consume_cpu_time FROM v $ rsrc_cons_group_history; SEQ NAME CPU_WAIT_TIME CPU_WAITS CONSUMED_CPU_TIME ---- ------------------------- ------------- --- ------- ----------------- 2 SYS_GROUP 18133 691 33364431 2 OTHER_GROUPS 51252 825 181058333 2 ORA $ AUTOTASK_MEDIUM_GROUP 21 5 4019709 2 ORA $ AUTOTASK_URGENT_GROUP 35 1 198760 2 ORA $ AUTOTASK_STATS_GROUP 0 0 0 2 ORA $ AUTOTASK_SPACE_GROUP 0 0 0 2 ORA $ AUTOTASK_SQL_GROUP 0 0 0 2 ORA $ AUTOTASK_HEALTH_GROUP 0 0 0 4 SYS_GROUP 40344 85 42519265 4 OTHER_GROUPS 123295 1040 371481422 4 ORA $ AUTOTASK_MEDIUM_GROUP 1 4 7433002 4 ORA $ AUTOTASK_URGENT_GROUP 22959 158 19964703 4 ORA $ AUTOTASK_STATS_GROUP 0 0 0。。
</pre><p>此视图的AWR快照存储在<code class="codeph">DBA_HIST_RSRC_CONSUMER_GROUP</code>视图中。将<code class="codeph">DBA_HIST_RSRC_CONSUMER_GROUP</code>与<code class="codeph">DBA_HIST_RSRC_PLAN</code>一起使用，以确定每个历史消费者组统计信息集的活动计划。
                     </p>
                     <div class="infoboxnote" id="GUID-9CF57A7E-CCE3-4F80-9E21-29AF9B2283F0__GUID-54836AB5-8BD8-4864-9F9E-786DD04134D0">
                        <p class="notep1">注意：</p>
                        <p><code class="codeph">V$RSRC_CONS_GROUP_HISTORY</code>视图记录资源管理器当前未管理的资源的统计信息。当<code class="codeph">STATISTICS_LEVEL</code>初始化参数设置为<code class="codeph">ALL</code>或<code class="codeph">TYPICAL</code> 。</p>
                     </div>
                     <div class="infoboxnotealso" id="GUID-9CF57A7E-CCE3-4F80-9E21-29AF9B2283F0__GUID-56500AF7-FC04-48BD-BFDB-A3A66D6EB348">
                        <p class="notep1">也可以看看：</p>
                        <p></p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="../refrn/V-RSRC_CONS_GROUP_HISTORY.html#REFRN30402" target="_blank"><span class="italic">Oracle数据库参考</span></a></p>
                           </li>
                           <li>
                              <p>有关AWR的信息，请参见<a href="../tgdba/gathering-database-statistics.html#TGDBA167" target="_blank"><span class="italic">“Oracle数据库性能调整指南”</span></a> 。</p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-9CF57A7E-CCE3-4F80-9E21-29AF9B2283F0__BABFDBFA">
                     <p class="subhead2" id="GUID-9CF57A7E-CCE3-4F80-9E21-29AF9B2283F0__GUID-5511409A-1FE6-4912-A095-83547FC46D93">V $ RSRCMGRMETRIC</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>通过此视图，您可以按照会话数或过去一分钟的利用率来跟踪CPU指标（以毫秒为单位）。它为每个使用者组提供实时指标，在您运行工作负载并希望持续监控CPU资源利用率的情况下非常有用。</p>
                     <p>使用此视图可以比较消费者组的最大可能CPU利用率和平均CPU利用率百分比以及其他使用者组设置，例如使用的CPU时间，等待CPU的时间，消耗CPU的平均会话数以及等待的会话数用于CPU分配。例如，您可以查看使用者组使用的CPU资源量以及等待资源分配的时间。或者，您可以查看每个使用者组的会话数与活动会话总数的比较。</p>
                     <p>要根据CPU利用率跟踪CPU消耗，请使用<code class="codeph">CPU_UTILIZATION_LIMIT</code>和<code class="codeph">AVG_CPU_UTILIZATION</code>列。<code class="codeph">AVG_CPU_UTILIZATION</code>列出了使用者组使用的服务器CPU的平均百分比。<code class="codeph">CPU_UTILIZATION_LIMIT</code>表示使用者组可以使用的服务器CPU的最大百分比。使用<code class="codeph">UTILIZATION_LIMIT</code>指令属性设置此限制。
                     </p><pre class="oac_no_warn" dir="ltr">SELECT consumer_group_name，cpu_utilization_limit，avg_cpu_utilization FROM v $ rsrcmgrmetric;</pre><p>使用<code class="codeph">CPU_CONSUMED_TIME</code>和<code class="codeph">CPU_TIME_WAIT</code>列来跟踪CPU消耗和限制（以毫秒为单位）。<code class="codeph">NUM_CPUS</code>列表示资源管理器正在管理的CPU数。
                     </p><pre class="oac_no_warn" dir="ltr">SELECT consumer_group_name，cpu_consumed_time，cpu_wait_time，num_cpus FROM v $ rsrcmgrmetric;</pre><p>要根据会话数跟踪CPU消耗和限制，请使用<code class="codeph">RUNNING_SESSIONS_LIMIT</code> ， <code class="codeph">AVG_RUNNING_SESSIONS</code>和<code class="codeph">AVG_WAITING_SESSIONS</code>列。<code class="codeph">RUNNING_SESSIONS_LIMIT</code>列出了可以随时运行的特定使用者组的最大会话数。此限制由您为使用者组或包含使用者组的子计划设置的<code class="codeph">UTILIZATION_LIMIT</code>指令属性定义。对于每个使用者组， <code class="codeph">AVG_RUNNING_SESSIONS</code>列出消耗CPU的平均会话数， <code class="codeph">AVG_WAITING_SESSIONS</code>列出等待CPU的平均会话数。</p><pre class="oac_no_warn" dir="ltr">SELECT sequence＃，consumer_group_name，running_sessions_limit，avg_running_sessions，avg_waiting_sessions FROM v $ rsrcmgrmetric;</pre><p>要跟踪使用者组的并行语句和并行服务器使用，请使用<code class="codeph">AVG_ACTIVE_PARALLEL_STMTS</code> ， <code class="codeph">AVG_QUEUED_PARALLEL_STMTS</code> ， <code class="codeph">AVG_ACTIVE_PARALLEL_SERVERS</code> ， <code class="codeph">AVG_QUEUED_PARALLEL_SERVERS</code>和<code class="codeph">PARALLEL_SERVERS_LIMIT</code>列。<code class="codeph">AVG_ACTIVE_PARALLEL_STMTS</code>和<code class="codeph">AVG_ACTIVE_PARALLEL_SERVERS</code>列出了运行的并行语句的平均数以及并行语句使用的并行服务器的平均数。<code class="codeph">AVG_QUEUED_PARALLEL_STMTS</code>和<code class="codeph">AVG_QUEUED_PARALLEL_SERVERS</code>列出了排队的并行语句的平均数以及排队并行语句请求的平行并行服务器数。<code class="codeph">PARALLEL_SERVERS_LIMIT</code>列出了允许由使用者组使用的并行服务器数。
                     </p><pre class="oac_no_warn" dir="ltr">SELECT avg_active_parallel_stmts，avg_queued_parallel_stmts，avg_active_parallel_servers，avg_queued_parallel_servers，parallel_servers_limit FROM v $ rsrcmgrmetric;</pre><div class="infoboxnote" id="GUID-9CF57A7E-CCE3-4F80-9E21-29AF9B2283F0__GUID-B74E8299-14DC-4D27-A3E8-615EB9E6E1A9">
                        <p class="notep1">注意：</p>
                        <p><code class="codeph">V$RSRCMGRMETRIC</code>视图记录资源管理器当前未管理的资源的统计信息。当<code class="codeph">STATISTICS_LEVEL</code>初始化参数设置为<code class="codeph">ALL</code>或<code class="codeph">TYPICAL</code> 。</p>
                     </div>
                     <div class="infoboxnotealso" id="GUID-9CF57A7E-CCE3-4F80-9E21-29AF9B2283F0__GUID-525512EE-F925-4A4F-96E0-8750FECE22FB">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="../refrn/V-RSRCMGRMETRIC.html#REFRN30482" target="_blank"><span class="italic">Oracle数据库参考</span></a></p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-9CF57A7E-CCE3-4F80-9E21-29AF9B2283F0__BABFEDEI">
                     <p class="subhead2" id="GUID-9CF57A7E-CCE3-4F80-9E21-29AF9B2283F0__GUID-57D56FC4-E3CA-437F-8713-B2A3079908AC">V $ RSRCMGRMETRIC_HISTORY</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>在列<code class="codeph">V$RSRCMGRMETRIC_HISTORY</code>是相同的视图<a href="managing-resources-with-oracle-database-resource-manager.html#GUID-9CF57A7E-CCE3-4F80-9E21-29AF9B2283F0__BABFDBFA">V $ RSRCMGRMETRIC</a> 。这些视图之间的唯一区别是<a href="managing-resources-with-oracle-database-resource-manager.html#GUID-9CF57A7E-CCE3-4F80-9E21-29AF9B2283F0__BABFDBFA">V $ RSRCMGRMETRIC仅</a>包含过去一分钟的度量标准，而V $ <code class="codeph">RSRCMGRMETRIC_HISTORY</code>包含过去60分钟的度量标准。
                     </p>
                     <div class="infoboxnote" id="GUID-9CF57A7E-CCE3-4F80-9E21-29AF9B2283F0__GUID-430AABFE-858C-4042-B198-3245E0321BA6">
                        <p class="notep1">注意：</p>
                        <p><code class="codeph">V$RSRCMGRMETRIC_HISTORY</code>视图记录资源管理器当前未管理的资源的统计信息。当<code class="codeph">STATISTICS_LEVEL</code>初始化参数设置为<code class="codeph">ALL</code>或<code class="codeph">TYPICAL</code> 。</p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-9CF57A7E-CCE3-4F80-9E21-29AF9B2283F0__GUID-C9ACD060-F7BA-4DB0-AD9C-54D4F9F4EBC3">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="../refrn/V-RSRCMGRMETRIC_HISTORY.html#REFRN30483" target="_blank"><span class="italic">Oracle数据库参考</span></a></p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-2BEF5482-CF97-4A85-BD90-9195E41E74EF" title="Oracle数据库资源管理器（资源管理器）使您可以管理数据库的资源分配。">使用Oracle数据库资源管理器管理资源</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADMIN11910"></a><div class="props_rev_3"><a id="GUID-299C66F7-6FDF-4C37-9334-8EB2C87D0AEC" name="GUID-299C66F7-6FDF-4C37-9334-8EB2C87D0AEC"></a><h3 id="ADMIN-GUID-299C66F7-6FDF-4C37-9334-8EB2C87D0AEC" class="sect3"><span class="enumeration_section">27.12</span>与操作系统资源控制交互</h3>
               <p>许多操作系统提供资源管理工具。这些工具通常在其名称中包含“工作负载管理器”或“资源管理器”，旨在允许多个应用程序使用管理员定义的策略共享单个服务器的资源。示例包括Hewlett Packard的Process Resource Manager或Solaris Containers，Zones和Resource Pools。</p>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-F6FB7E46-64C9-47B3-A29B-27A82070EEDF">使用操作系统资源控制的指南</a><br>如果使用操作系统资源控制，请遵循准则。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-2BEF5482-CF97-4A85-BD90-9195E41E74EF" title="Oracle数据库资源管理器（资源管理器）使您可以管理数据库的资源分配。">使用Oracle数据库资源管理器管理资源</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN11911"></a><div class="props_rev_3"><a id="GUID-F6FB7E46-64C9-47B3-A29B-27A82070EEDF" name="GUID-F6FB7E46-64C9-47B3-A29B-27A82070EEDF"></a><h4 id="ADMIN-GUID-F6FB7E46-64C9-47B3-A29B-27A82070EEDF" class="sect4"><span class="enumeration_section">27.12.1</span>使用操作系统资源控制的指南</h4>
                  <div>
                     <p>如果使用操作系统资源控制，请遵循准则。</p>
                     <p>如果您选择对Oracle数据库使用操作系统资源控制，则必须根据以下准则明智地使用它：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>如果节点上有多个实例，并且您希望在它们之间分配资源，则应将每个实例分配给专用的操作系统资源管理器组或管理实体。要在管理实体中运行多个实例，请使用实例锁定来管理如何在实例之间分配管理实体中的CPU资源。当Oracle数据库资源管理器管理CPU资源时，它需要为该实例提供固定数量的CPU资源。如果没有实例囚禁，它期望可用的CPU资源等于被管实体中的CPU数量。使用实例caging，它期望可用的CPU资源等于<code class="codeph">CPU_COUNT</code>初始化参数的值。如果CPU资源少于预期，则Oracle数据库资源管理器在执行资源计划中的资源分配方面效果不佳。有关实例锁定的信息，请参阅<span class="q">“ <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-C00DB05B-E597-496B-835F-C9D0FB5EDFFD" title="Oracle数据库提供了一种在运行多个数据库实例的多CPU服务器上管理CPU分配的方法。此方法称为实例锁定。实例控制和Oracle数据库资源管理器（资源管理器）协同工作，以支持跨多个实例的所需服务级别。">在单个服务器上管理多个数据库实例</a> ”</span> 。
                           </p>
                        </li>
                        <li>
                           <p>运行所有实例进程的专用实体必须以一个优先级（或资源消耗）级别运行。</p>
                        </li>
                        <li>
                           <p>分配给专用实体的CPU资源不能每隔几分钟更频繁地更改一次。</p>
                           <p>如果操作系统资源管理器正在快速更改分配给Oracle实例的CPU资源，则Oracle数据库资源管理器可能无法有效地管理CPU资源。特别是，如果分配给Oracle实例的CPU资源更改频率高于每几分钟，那么Oracle可能无法观察到这些更改，因为它只会每隔几分钟检查一次此类更改。在这些情况下，如果Oracle数据库资源管理器断定可用的CPU资源比实际可用资源多，则可以对进程进行过度调度，并且如果它认为可用的CPU资源少于实际可用的CPU资源，则可以对进程进行调度。如果它过度调度进程，则可能会超出<code class="codeph">UTILIZATION_LIMIT</code>指令，并且可能无法准确地强制执行CPU指令。如果它对进程进行了不足调度，那么Oracle实例可能无法完全使用服务器的资源。
                           </p>
                        </li>
                        <li>
                           <p>不得启用进程优先级管理。</p>
                        </li>
                        <li>
                           <p>不支持管理不同优先级的单个数据库进程（例如，在UNIX平台上使用<code class="codeph">nice</code>命令）。可能导致严重后果，包括实例崩溃。如果允许操作系统资源控制来管理固定Oracle数据库实例的内存，则可能出现类似的不良结果。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-299C66F7-6FDF-4C37-9334-8EB2C87D0AEC" title="许多操作系统提供资源管理工具。这些工具通常包含" workload="" manage="=" resource="" in="" their="" names,="" and="" are="" intended="" to="" allow="" multiple="" applications="" share="" the="" resources="" of="" a="" single="" server,="" using="" an="" administrator-defined="" policy.="" examples="" hewlett="" packard's="" process="" resource="" manager="" solaris="" containers,="" zones,="" pools="=">与操作系统资源控制交互</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADMIN11913"></a><div class="props_rev_3"><a id="GUID-9C21E4B3-E708-4A42-8683-12F4434962CC" name="GUID-9C21E4B3-E708-4A42-8683-12F4434962CC"></a><h3 id="ADMIN-GUID-9C21E4B3-E708-4A42-8683-12F4434962CC" class="sect3"><span class="enumeration_section">27.13</span> Oracle数据库资源管理器参考</h3>
               <p>资源管理器包括预定义的资源计划，使用者组和使用者组映射规则。您可以查询数据字典视图，以获取有关Resource Manager配置的信息。</p>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-9EAAC00F-008D-4F2D-B764-BF1D01F0CDD4">预定义的资源计划和消费者组</a><br>Oracle Database包含预定义的资源计划。
                     </li>
                     <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-AC101C05-DD43-445C-85F7-0A04DCBC2EE0">预定义的使用者组映射规则</a><br>Oracle Database包含预定义的使用者组映射规则。
                     </li>
                     <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-C253E1D1-513A-4F52-A619-325B1B33D8C0">资源管理器数据字典视图</a><br>您可以查询一组数据字典视图，以获取与数据库资源管理相关的信息。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-2BEF5482-CF97-4A85-BD90-9195E41E74EF" title="Oracle数据库资源管理器（资源管理器）使您可以管理数据库的资源分配。">使用Oracle数据库资源管理器管理资源</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN13076"></a><a id="ADMIN13077"></a><a id="ADMIN11914"></a><div class="props_rev_3"><a id="GUID-9EAAC00F-008D-4F2D-B764-BF1D01F0CDD4" name="GUID-9EAAC00F-008D-4F2D-B764-BF1D01F0CDD4"></a><h4 id="ADMIN-GUID-9EAAC00F-008D-4F2D-B764-BF1D01F0CDD4" class="sect4"><span class="enumeration_section">27.13.1</span>预定义的资源计划和消费者组</h4>
                  <div>
                     <p>Oracle Database包含预定义的资源计划。</p>
                     <div class="section">
                        <p><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-9EAAC00F-008D-4F2D-B764-BF1D01F0CDD4__CHDBEJJB" title="该表有两列：资源计划和描述。">表27-5</a>列出了资源计划， <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-9EAAC00F-008D-4F2D-B764-BF1D01F0CDD4__CHDJAJHE" title="该表有两列：Resource Consumer Group和Description。">表27-6</a>列出了每个Oracle数据库中预定义的资源使用者组。您可以通过查询视图<code class="codeph">DBA_RSRC_PLANS</code>和<code class="codeph">DBA_RSRC_CONSUMER_GROUPS</code>来验证这些。</p>
                        <p>以下查询显示示例计划<code class="codeph">DSS_PLAN</code>的CPU分配：</p><pre class="oac_no_warn" dir="ltr">SELECT group_or_subplan，mgmt_p1，mgmt_p2，mgmt_p3，mgmt_p4 FROM dba_rsrc_plan_directives WHERE plan ='DSS_PLAN'; GROUP_OR_SUBPLAN MGMT_P1 MGMT_P2 MGMT_P3 MGMT_P4 ------------------------------ ---------- ----- ----- ---------- ---------- SYS_GROUP 75 0 0 0 DSS_CRITICAL_GROUP 18 0 0 0 DSS_GROUP 3 0 0 0 ETL_GROUP 1 0 0 0 BATCH_GROUP 1 0 0 0 ORA $ AUTOTASK 1 0 0 0 OTHER_GROUPS 1 0 0 0</pre></div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-9EAAC00F-008D-4F2D-B764-BF1D01F0CDD4__CHDBEJJB">
                        <p class="titleintable">表27-5预定义的资源计划</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="预定义的资源计划" width="100%" border="1" summary="This table has two columns: Resource Plan and Description." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d241756e11088">资源计划</th>
                                 <th align="left" valign="bottom" width="69%" id="d241756e11091">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d241756e11096" headers="d241756e11088 ">
                                    <p><code class="codeph">DEFAULT_MAINTENANCE_PLAN</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d241756e11096 d241756e11091 ">
                                    <p>维护窗口的默认计划。有关此计划的详细信息，请参阅<span class="q">“ <a href="managing-automated-database-maintenance-tasks.html#GUID-540BF1F6-5BAD-4628-8E49-EF8CEFC1E3BD" title="默认情况下，所有预定义的维护窗口都使用资源计划DEFAULT_MAINTENANCE_PLAN。自动维护任务在其子计划ORA $ AUTOTASK下运行。该子计划在维护任务中平均分配其总资源分配部分。">关于自动维护任务的资源分配</a> ”</span> 。由于维护窗口是常规Oracle Scheduler窗口，因此您可以根据需要更改与其关联的资源计划。如果确实更改了维护<code class="codeph">ORA$AUTOTASK</code>资源计划，请确保在新计划中包含子计划<code class="codeph">ORA$AUTOTASK</code> 。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d241756e11121" headers="d241756e11088 ">
                                    <p><code class="codeph">DEFAULT_PLAN</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d241756e11121 d241756e11091 ">
                                    <p>基本默认计划，优先考虑<code class="codeph">SYS_GROUP</code>操作并为自动维护和诊断操作分配最少的资源。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d241756e11132" headers="d241756e11088 ">
                                    <p><code class="codeph">DSS_PLAN</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d241756e11132 d241756e11091 ">
                                    <p>数据仓库的示例计划，该计划通过非关键DSS查询和ETL操作确定关键DSS查询的优先级。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d241756e11140" headers="d241756e11088 ">
                                    <p><code class="codeph">ETL_CRITICAL_PLAN</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d241756e11140 d241756e11091 ">
                                    <p>通过DSS查询确定ETL操作优先级的数据仓库的示例计划。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d241756e11148" headers="d241756e11088 ">
                                    <p><code class="codeph">INTERNAL_PLAN</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d241756e11148 d241756e11091 ">
                                    <p>用于禁用资源管理器。仅限内部使用。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d241756e11156" headers="d241756e11088 ">
                                    <p><code class="codeph">INTERNAL_QUIESCE</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d241756e11156 d241756e11091 ">
                                    <p>用于停顿数据库。此计划无法直接激活。要激活，请使用<code class="codeph">QUIESCE</code>命令。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d241756e11167" headers="d241756e11088 ">
                                    <p><code class="codeph">MIXED_WORKLOAD_PLAN</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d241756e11167 d241756e11091 ">
                                    <p>混合工作负载的示例计划，优先考虑批处理操作的交互式操作。有关详细信息，请参阅<span class="q">“ <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-24C55451-A87D-45B7-8230-4B51392AE89F" title="Oracle数据库包括一个预定义的资源计划MIXED_WORKLOAD_PLAN，它通过批处理操作确定交互操作的优先级，并包括Oracle推荐的所需子计划和使用者组。">Oracle提供的混合工作负载计划</a> ”</span> 。
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="tblformal" id="GUID-9EAAC00F-008D-4F2D-B764-BF1D01F0CDD4__CHDJAJHE">
                        <p class="titleintable">表27-6预定义的资源使用者组</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="预定义的资源消费者组" width="100%" border="1" summary="This table has two columns: Resource Consumer Group and Description." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d241756e11195">资源消费者组织</th>
                                 <th align="left" valign="bottom" width="69%" id="d241756e11198">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d241756e11203" headers="d241756e11195 ">
                                    <p><code class="codeph">BATCH_GROUP</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d241756e11203 d241756e11198 ">
                                    <p>批处理操作的消费者组。由示例计划<code class="codeph">MIXED_WORKLOAD_PLAN</code> 。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d241756e11214" headers="d241756e11195 ">
                                    <p><code class="codeph">DSS_CRITICAL_GROUP</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d241756e11214 d241756e11198 ">
                                    <p>关键DSS查询的消费者组。由示例计划<code class="codeph">DSS_PLAN</code>和<code class="codeph">ETL_CRITICAL_PLAN</code> 。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d241756e11228" headers="d241756e11195 ">
                                    <p><code class="codeph">DSS_GROUP</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d241756e11228 d241756e11198 ">
                                    <p>非关键DSS查询的消费者组。由示例计划<code class="codeph">DSS_PLAN</code>和<code class="codeph">ETL_CRITICAL_PLAN</code> 。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d241756e11242" headers="d241756e11195 ">
                                    <p><code class="codeph">ETL_GROUP</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d241756e11242 d241756e11198 ">
                                    <p>ETL工作的消费者组织。由示例计划<code class="codeph">DSS_PLAN</code>和<code class="codeph">ETL_CRITICAL_PLAN</code> 。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d241756e11256" headers="d241756e11195 ">
                                    <p><code class="codeph">INTERACTIVE_GROUP</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d241756e11256 d241756e11198 ">
                                    <p>用于交互式OLTP操作的消费者组。由示例计划<code class="codeph">MIXED_WORKLOAD_PLAN</code> 。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d241756e11267" headers="d241756e11195 ">
                                    <p><code class="codeph">LOW_GROUP</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d241756e11267 d241756e11198 ">
                                    <p>低优先级会话的消费者组。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d241756e11275" headers="d241756e11195 ">
                                    <p><code class="codeph">ORA $ AUTOTASK</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d241756e11275 d241756e11198 ">
                                    <p>消费者组负责维护任务。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d241756e11283" headers="d241756e11195 ">
                                    <p><code class="codeph">OTHER_GROUPS</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d241756e11283 d241756e11198 ">
                                    <p>没有显式初始使用者组的所有会话的默认使用者组未映射到具有会话到使用者组映射规则的使用者组，或者映射到不在当前活动资源计划中的使用者组。</p>
                                    <p><code class="codeph">OTHER_GROUPS</code>必须在每个计划中指定资源计划指令。它不能通过映射规则明确分配给会话。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d241756e11295" headers="d241756e11195 ">
                                    <p><code class="codeph">SYS_GROUP</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d241756e11295 d241756e11198 ">
                                    <p>系统管理员的消费者组。它是由用户帐户<code class="codeph">SYS</code>或<code class="codeph">SYSTEM</code>创建的所有会话的初始使用者组。会话到使用者组映射规则可以覆盖此初始使用者组。
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-9C21E4B3-E708-4A42-8683-12F4434962CC" title="资源管理器包括预定义的资源计划，使用者组和使用者组映射规则。您可以查询数据字典视图，以获取有关Resource Manager配置的信息。">Oracle数据库资源管理器参考</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN13078"></a><a id="ADMIN11915"></a><div class="props_rev_3"><a id="GUID-AC101C05-DD43-445C-85F7-0A04DCBC2EE0" name="GUID-AC101C05-DD43-445C-85F7-0A04DCBC2EE0"></a><h4 id="ADMIN-GUID-AC101C05-DD43-445C-85F7-0A04DCBC2EE0" class="sect4"><span class="enumeration_section">27.13.2</span>预定义的使用者组映射规则</h4>
                  <div>
                     <p>Oracle Database包含预定义的使用者组映射规则。</p>
                     <div class="section">
                        <p><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-AC101C05-DD43-445C-85F7-0A04DCBC2EE0__CHDHJCHG" title="此表包含3列：Rule，Mapped Consumer Group和Notes。5行描述了5种不同的预定义映射规则及其映射的使用者组。">表27-7</a>总结了Oracle数据库中预定义的使用者组映射规则。您可以通过查询视图<code class="codeph">DBA_RSRC_GROUP_MAPPINGS</code>来验证这些规则。您可以使用<code class="codeph">DBMS_RESOURCE_MANAGER</code> 。 <code class="codeph">SET_CONSUMER_GROUP_MAPPING</code>过程，用于修改或删除任何这些映射规则。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-AC101C05-DD43-445C-85F7-0A04DCBC2EE0__CHDHJCHG">
                        <p class="titleintable">表27-7预定义的使用者组映射规则</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="预定义的使用者组映射规则" width="100%" border="1" summary="This table contains 3 columns: Rule, Mapped Consumer Group, and Notes. The 5 rows describe 5 different predefined mapping rules and their mapped consumer groups." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="20%" id="d241756e11371">属性</th>
                                 <th align="left" valign="bottom" width="20%" id="d241756e11374">值</th>
                                 <th align="left" valign="bottom" width="20%" id="d241756e11377">映射消费者组</th>
                                 <th align="left" valign="bottom" width="40%" id="d241756e11380">笔记</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d241756e11385" headers="d241756e11371 ">
                                    <p><code class="codeph">ORACLE_USER</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d241756e11385 d241756e11374 ">
                                    <p><code class="codeph">SYS</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d241756e11385 d241756e11377 ">
                                    <p><code class="codeph">SYS_GROUP</code></p>
                                 </td>
                                 <td align="left" valign="top" width="40%" headers="d241756e11385 d241756e11380 ">
                                    <p></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d241756e11401" headers="d241756e11371 ">
                                    <p><code class="codeph">ORACLE_USER</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d241756e11401 d241756e11374 ">
                                    <p><code class="codeph">系统</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d241756e11401 d241756e11377 ">
                                    <p><code class="codeph">SYS_GROUP</code></p>
                                 </td>
                                 <td align="left" valign="top" width="40%" headers="d241756e11401 d241756e11380 ">
                                    <p></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d241756e11417" headers="d241756e11371 ">
                                    <p><code class="codeph">ORACLE_FUNCTION</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d241756e11417 d241756e11374 ">
                                    <p><code class="codeph">BACKUP</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d241756e11417 d241756e11377 ">
                                    <p><code class="codeph">BATCH_GROUP</code></p>
                                 </td>
                                 <td align="left" valign="top" width="40%" headers="d241756e11417 d241756e11380 ">
                                    <p>会话正在使用RMAN运行备份操作。操作开始时，会话自动切换到<code class="codeph">BATCH_GROUP</code> 。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d241756e11437" headers="d241756e11371 ">
                                    <p><code class="codeph">ORACLE_FUNCTION</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d241756e11437 d241756e11374 ">
                                    <p><code class="codeph">复制</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d241756e11437 d241756e11377 ">
                                    <p><code class="codeph">BATCH_GROUP</code></p>
                                 </td>
                                 <td align="left" valign="top" width="40%" headers="d241756e11437 d241756e11380 ">
                                    <p>会话正在使用RMAN运行复制操作。操作开始时，会话自动切换到<code class="codeph">BATCH_GROUP</code> 。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d241756e11457" headers="d241756e11371 ">
                                    <p><code class="codeph">ORACLE_FUNCTION</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d241756e11457 d241756e11374 ">
                                    <p><code class="codeph">DATALOAD</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d241756e11457 d241756e11377 ">
                                    <p><code class="codeph">ETL_GROUP</code></p>
                                 </td>
                                 <td align="left" valign="top" width="40%" headers="d241756e11457 d241756e11380 ">
                                    <p>会话正在使用Data Pump执行数据加载操作。操作开始时，会话自动切换到<code class="codeph">ETL_GROUP</code> 。
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section"></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-AC101C05-DD43-445C-85F7-0A04DCBC2EE0__GUID-20034556-4D4D-49BA-9696-12A43A45337F">
                        <p class="notep1">也可以看看：</p>
                        <p><span class="q">“ <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-5AA9FBC6-3C11-4DA5-B9EE-C98CC2553042" title="您可以创建会话到使用者组映射规则并确定其优先级。">指定会话到消费者组映射规则</a> ”</span></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-9C21E4B3-E708-4A42-8683-12F4434962CC" title="资源管理器包括预定义的资源计划，使用者组和使用者组映射规则。您可以查询数据字典视图，以获取有关Resource Manager配置的信息。">Oracle数据库资源管理器参考</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN13079"></a><a id="ADMIN11916"></a><div class="props_rev_3"><a id="GUID-C253E1D1-513A-4F52-A619-325B1B33D8C0" name="GUID-C253E1D1-513A-4F52-A619-325B1B33D8C0"></a><h4 id="ADMIN-GUID-C253E1D1-513A-4F52-A619-325B1B33D8C0" class="sect4"><span class="enumeration_section">27.13.3</span>资源管理器数据字典视图</h4>
                  <div>
                     <p>您可以查询一组数据字典视图，以获取与数据库资源管理相关的信息。</p>
                     <div class="section">
                        <p><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-C253E1D1-513A-4F52-A619-325B1B33D8C0__CHDBHJAA" title="第1列列出了显示与数据库资源管理相关的信息的视图名称。第2列描述了每个视图。">表27-8</a>列出了与资源管理器关联的视图。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-C253E1D1-513A-4F52-A619-325B1B33D8C0__CHDBHJAA">
                        <p class="titleintable">表27-8资源管理器数据字典视图</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="资源管理器数据字典视图" width="100%" border="1" summary="Column 1 lists the names of views that display information relating to database resource management. Column 2 describes each view." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="36%" id="d241756e11548">视图</th>
                                 <th align="left" valign="bottom" width="64%" id="d241756e11551">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="36%" id="d241756e11556" headers="d241756e11548 ">
                                    <p><code class="codeph"><a href="../refrn/DBA_RSRC_CONSUMER_GROUP_PRIVS.html#REFRN23233" target="_blank">DBA_RSRC_CONSUMER_GROUP_PRIVS</a></code> 
                                    </p>
                                    <p><code class="codeph"><a href="../refrn/USER_RSRC_CONSUMER_GROUP_PRIVS.html#REFRN26233" target="_blank">USER_RSRC_CONSUMER_GROUP_PRIVS</a></code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="64%" headers="d241756e11556 d241756e11551 ">
                                    <p><code class="codeph">DBA</code>视图列出了所有资源使用者组以及已授予他们的用户和角色。<code class="codeph">USER</code>视图列出授予用户的所有资源使用者组。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="36%" id="d241756e11578" headers="d241756e11548 ">
                                    <p><code class="codeph"><a href="../refrn/DBA_RSRC_CONSUMER_GROUPS.html#REFRN23234" target="_blank">DBA_RSRC_CONSUMER_GROUPS</a></code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="64%" headers="d241756e11578 d241756e11551 ">
                                    <p>列出数据库中存在的所有资源使用者组。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="36%" id="d241756e11589" headers="d241756e11548 ">
                                    <p><code class="codeph"><a href="../refrn/DBA_RSRC_MANAGER_SYSTEM_PRIVS.html#REFRN23235" target="_blank">DBA_RSRC_MANAGER_SYSTEM_PRIVS</a></code> 
                                    </p>
                                    <p><code class="codeph"><a href="../refrn/USER_RSRC_MANAGER_SYSTEM_PRIVS.html#REFRN26235" target="_blank">USER_RSRC_MANAGER_SYSTEM_PRIVS</a></code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="64%" headers="d241756e11589 d241756e11551 ">
                                    <p><code class="codeph">DBA</code>视图列出已授予Resource Manager系统特权的所有用户和角色。<code class="codeph">USER</code>视图列出了为<code class="codeph">DBMS_RESOURCE_MANAGER</code>程序包授予系统特权的所有用户。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="36%" id="d241756e11614" headers="d241756e11548 ">
                                    <p><code class="codeph"><a href="../refrn/DBA_RSRC_PLAN_DIRECTIVES.html#REFRN23236" target="_blank">DBA_RSRC_PLAN_DIRECTIVES</a></code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="64%" headers="d241756e11614 d241756e11551 ">
                                    <p>列出数据库中存在的所有资源计划指令。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="36%" id="d241756e11625" headers="d241756e11548 ">
                                    <p><code class="codeph"><a href="../refrn/DBA_RSRC_PLANS.html#REFRN23237" target="_blank">DBA_RSRC_PLANS</a></code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="64%" headers="d241756e11625 d241756e11551 ">
                                    <p>列出数据库中存在的所有资源计划。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="36%" id="d241756e11636" headers="d241756e11548 ">
                                    <p><code class="codeph"><a href="../refrn/DBA_RSRC_GROUP_MAPPINGS.html#REFRN23365" target="_blank">DBA_RSRC_GROUP_MAPPINGS</a></code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="64%" headers="d241756e11636 d241756e11551 ">
                                    <p>列出所有会话属性的所有各种映射对。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="36%" id="d241756e11647" headers="d241756e11548 ">
                                    <p><code class="codeph"><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=REFRN23366" target="_blank">DBA_RSRC_MAPPING_PRIORITY</a></code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="64%" headers="d241756e11647 d241756e11551 ">
                                    <p>列出每个属性的当前映射优先级。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="36%" id="d241756e11658" headers="d241756e11548 ">
                                    <p><code class="codeph"><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=REFRN23650" target="_blank">DBA_HIST_RSRC_PLAN</a></code></p>
                                 </td>
                                 <td align="left" valign="top" width="64%" headers="d241756e11658 d241756e11551 ">
                                    <p>显示有关资源计划激活的历史信息。该视图包含<code class="codeph">V$RSRC_PLAN_HISTORY</code> AWR快照。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="36%" id="d241756e11671" headers="d241756e11548 ">
                                    <p><code class="codeph"><a href="../refrn/DBA_HIST_RSRC_CONSUMER_GROUP.html#REFRN23649" target="_blank">DBA_HIST_RSRC_CONSUMER_GROUP</a></code></p>
                                 </td>
                                 <td align="left" valign="top" width="64%" headers="d241756e11671 d241756e11551 ">
                                    <p>显示有关使用者组的历史统计信息。该视图包含<code class="codeph">V$RSRC_CONS_GROUP_HISTORY</code> AWR快照。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="36%" id="d241756e11684" headers="d241756e11548 ">
                                    <p><code class="codeph"><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=REFRN23302" target="_blank">DBA_USERS</a></code> 
                                    </p>
                                    <p><code class="codeph"><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=REFRN26302" target="_blank">USER_USERS</a></code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="64%" headers="d241756e11684 d241756e11551 ">
                                    <p><code class="codeph">DBA</code>视图包含有关数据库的所有用户的信息。它包含每个用户的初始资源使用者组。<code class="codeph">USER</code>视图包含有关当前用户的信息。它包含当前用户的初始资源使用者组。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="36%" id="d241756e11706" headers="d241756e11548 ">
                                    <p><code class="codeph"><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=REFRN30402" target="_blank">V $ RSRC_CONS_GROUP_HISTORY</a></code></p>
                                 </td>
                                 <td align="left" valign="top" width="64%" headers="d241756e11706 d241756e11551 ">
                                    <p>对于视图<code class="codeph">V$RSRC_PLAN_HISTORY</code>中的每个条目，包含计划中每个使用者组的条目，显示使用者组的累积统计信息。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="36%" id="d241756e11720" headers="d241756e11548 ">
                                    <p><code class="codeph"><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=REFRN30214" target="_blank">V $ RSRC_CONSUMER_GROUP</a></code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="64%" headers="d241756e11720 d241756e11551 ">
                                    <p>显示有关活动资源使用者组的信息。此视图可用于调整。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="36%" id="d241756e11731" headers="d241756e11548 ">
                                    <p><code class="codeph"><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=REFRN30482" target="_blank">V $ RSRCMGRMETRIC</a></code></p>
                                 </td>
                                 <td align="left" valign="top" width="64%" headers="d241756e11731 d241756e11551 ">
                                    <p>显示过去一分钟内每个使用者组消耗的资源历史记录和累计CPU等待时间（由于资源管理）。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="36%" id="d241756e11741" headers="d241756e11548 ">
                                    <p><code class="codeph"><a href="../refrn/V-RSRCMGRMETRIC_HISTORY.html#REFRN30483" target="_blank">V $ RSRCMGRMETRIC_HISTORY</a></code></p>
                                 </td>
                                 <td align="left" valign="top" width="64%" headers="d241756e11741 d241756e11551 ">
                                    <p>以分钟为单位显示过去一小时内每个消费者组的资源消耗历史和累计CPU等待时间（由于资源管理）。如果启用了新资源计划，则会清除历史记录。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="36%" id="d241756e11751" headers="d241756e11548 ">
                                    <p><code class="codeph"><a href="../refrn/V-RSRC_PLAN.html#REFRN30216" target="_blank">V $ RSRC_PLAN</a></code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="64%" headers="d241756e11751 d241756e11551 ">
                                    <p>显示所有当前活动资源计划的名称。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="36%" id="d241756e11762" headers="d241756e11548 ">
                                    <p><code class="codeph"><a href="../refrn/V-RSRC_PLAN_HISTORY.html#REFRN30403" target="_blank">V $ RSRC_PLAN_HISTORY</a></code></p>
                                 </td>
                                 <td align="left" valign="top" width="64%" headers="d241756e11762 d241756e11551 ">
                                    <p>显示在实例上启用或禁用资源管理器计划的时间。它可以帮助您了解消费者群体在一段时间内如何共享资源。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="36%" id="d241756e11772" headers="d241756e11548 ">
                                    <p><code class="codeph"><a href="../refrn/V-RSRC_SESSION_INFO.html#REFRN30404" target="_blank">V $ RSRC_SESSION_INFO</a></code></p>
                                 </td>
                                 <td align="left" valign="top" width="64%" headers="d241756e11772 d241756e11551 ">
                                    <p>显示每个会话的资源管理器统计信息显示资源管理器如何影响会话。可用于调整。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="36%" id="d241756e11782" headers="d241756e11548 ">
                                    <p><code class="codeph"><a href="../refrn/V-SESSION.html#REFRN30223" target="_blank">V $ SESSION</a></code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="64%" headers="d241756e11782 d241756e11551 ">
                                    <p>列出每个当前会话的会话信息。具体而言，列出每个当前会话的资源使用者组的名称。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-9C21E4B3-E708-4A42-8683-12F4434962CC" title="资源管理器包括预定义的资源计划，使用者组和使用者组映射规则。您可以查询数据字典视图，以获取有关Resource Manager配置的信息。">Oracle数据库资源管理器参考</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
         </div>
      </article>
   </body>
</html>