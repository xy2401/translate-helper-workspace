<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>ANALYZE</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="SQL Language Reference ">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="SQL Language Reference">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="sql-language-reference.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-02-12T15:36:36-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96310-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="ALTER-VIEW.html" title="Previous" type="text/html">
      <link rel="next" href="ASSOCIATE-STATISTICS.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="SQL Language Reference">
    <meta name="dcterms.isVersionOf" content="SQLRF">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="ALTER-VIEW.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="ASSOCIATE-STATISTICS.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">SQL Language Reference </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="SQL-Statements-ALTER-SYNONYM-to-COMMENT.html" property="item" typeof="WebPage"><span property="name">SQL Statements: ALTER SYNONYM to COMMENT</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">ANALYZE </li>
            </ol>
            <a id="GUID-535CE98E-2359-4147-839F-DCB3772C1B0E" name="GUID-535CE98E-2359-4147-839F-DCB3772C1B0E"></a><a id="SQLRF53664"></a><a id="SQLRF53665"></a><a id="SQLRF53666"></a><a id="SQLRF53667"></a><a id="SQLRF53668"></a><a id="SQLRF53669"></a><a id="SQLRF53670"></a><a id="SQLRF53671"></a><a id="SQLRF53672"></a><a id="SQLRF53673"></a><a id="SQLRF53674"></a><a id="SQLRF53675"></a><a id="SQLRF53676"></a><a id="SQLRF53677"></a><a id="SQLRF53678"></a><a id="SQLRF53680"></a><a id="SQLRF53681"></a><a id="SQLRF53682"></a><a id="SQLRF53679"></a><a id="SQLRF53683"></a><a id="SQLRF53684"></a><a id="SQLRF53685"></a><a id="SQLRF53686"></a><a id="SQLRF53687"></a><a id="SQLRF53688"></a><a id="SQLRF53689"></a><a id="SQLRF01105"></a>
            
            <h2 id="SQLRF-GUID-535CE98E-2359-4147-839F-DCB3772C1B0E" class="sect2">ANALYZE </h2>
         </header>
         <div class="ind">
            <div>
               <div class="section">
                  <p class="subhead1" id="GUID-535CE98E-2359-4147-839F-DCB3772C1B0E__GUID-AFFF4AF5-86B5-4F04-A111-A17FDC911432">Purpose</p>
                  <p><a id="d289770e168" class="indexterm-anchor"></a><a id="d289770e170" class="indexterm-anchor"></a><a id="d289770e172" class="indexterm-anchor"></a><a id="d289770e174" class="indexterm-anchor"></a><a id="d289770e180" class="indexterm-anchor"></a><a id="d289770e186" class="indexterm-anchor"></a>Use the <code class="codeph">ANALYZE</code> statement to collect statistics, for example, to:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Collect or delete statistics about an index or index partition, table or table partition, index-organized table, cluster, or scalar object attribute.</p>
                     </li>
                     <li>
                        <p>Validate the structure of an index or index partition, table or table partition, index-organized table, cluster, or object reference (<code class="codeph">REF</code>).
                        </p>
                     </li>
                     <li>
                        <p>Identify migrated and chained rows of a table or cluster.</p>
                     </li>
                  </ul>
                  <div class="infoboxnote" id="GUID-535CE98E-2359-4147-839F-DCB3772C1B0E__GUID-9D6A89F8-7C4D-490B-A20F-8B7CD6299858">
                     <p class="notep1">Note:</p>
                     <p>For the collection of most statistics, use the <code class="codeph">DBMS_STATS</code> package, which lets you collect statistics in parallel, collect global statistics for partitioned objects, and fine tune your statistics collection in other ways. See <a href="../arpls/DBMS_STATS.html#ARPLS059" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference </span></a>for more information on the <code class="codeph">DBMS_STATS</code> package.
                     </p>
                     <p>Use the <code class="codeph">ANALYZE</code> statement (rather than <code class="codeph">DBMS_STATS</code>) for statistics collection not related to the cost-based optimizer:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>To use the <code class="codeph">VALIDATE</code> or <code class="codeph">LIST</code> <code class="codeph">CHAINED</code> <code class="codeph">ROWS</code> clauses
                           </p>
                        </li>
                        <li>
                           <p>To collect information on freelist blocks</p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-535CE98E-2359-4147-839F-DCB3772C1B0E__GUID-85CDACFE-A205-4FD7-89C3-6AA297B4CBC0">Prerequisites </p>
                  <p>The schema object to be analyzed must be local, and it must be in your own schema or you must have the <code class="codeph">ANALYZE</code> <code class="codeph">ANY</code> system privilege. 
                  </p>
                  <p>If you want to list chained rows of a table or cluster into a list table, then the list table must be in your own schema, or you must have <code class="codeph">INSERT</code> privilege on the list table, or you must have <code class="codeph">INSERT</code> <code class="codeph">ANY</code> <code class="codeph">TABLE</code> system privilege. 
                  </p>
                  <p>If you want to validate a partitioned table, then you must have the <code class="codeph">INSERT</code> object privilege on the table into which you list analyzed rowids, or you must have the <code class="codeph">INSERT</code> <code class="codeph">ANY</code> <code class="codeph">TABLE</code> system privilege.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-535CE98E-2359-4147-839F-DCB3772C1B0E__GUID-41A2FED6-0395-4C5B-A154-DD5681FAFB58">Syntax </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-535CE98E-2359-4147-839F-DCB3772C1B0E__GUID-BD519F40-C658-4E88-8742-095AA617EC08"><span class="italic">analyze</span>::=
                  </p>
                  <div class="figure" id="GUID-535CE98E-2359-4147-839F-DCB3772C1B0E__GUID-56B44FFE-8BAE-4138-8F14-286A1E879E2E"><img src="img/analyze.gif" alt="Description of analyze.eps follows" title="Description of analyze.eps follows" longdesc="img_text/analyze.html"><br><a href="img_text/analyze.html">Description of the illustration analyze.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-535CE98E-2359-4147-839F-DCB3772C1B0E__GUID-43AD9B53-3D27-4390-BBC2-1B05A7136183"><span class="italic">partition_extension_clause</span>::=
                  </p>
                  <div class="figure" id="GUID-535CE98E-2359-4147-839F-DCB3772C1B0E__GUID-D7ED1804-4FF0-4A50-9C34-0076E34A7B04"><img src="img/partition_extension_clause.gif" alt="Description of partition_extension_clause.eps follows" title="Description of partition_extension_clause.eps follows" longdesc="img_text/partition_extension_clause.html"><br><a href="img_text/partition_extension_clause.html">Description of the illustration partition_extension_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-535CE98E-2359-4147-839F-DCB3772C1B0E__GUID-F10D7C3F-57B8-47F5-9D1B-7041B396400D"><span class="italic">validation_clauses</span>::=
                  </p>
                  <div class="figure" id="GUID-535CE98E-2359-4147-839F-DCB3772C1B0E__GUID-E589647D-8BA3-4151-90C2-258410A64368"><img src="img/validation_clauses.gif" alt="Description of validation_clauses.eps follows" title="Description of validation_clauses.eps follows" longdesc="img_text/validation_clauses.html"><br><a href="img_text/validation_clauses.html">Description of the illustration validation_clauses.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-535CE98E-2359-4147-839F-DCB3772C1B0E__GUID-7CE6533E-3039-4308-B046-3B2A515DFE2A"><span class="italic">into_clause</span>::=
                  </p>
                  <div class="figure" id="GUID-535CE98E-2359-4147-839F-DCB3772C1B0E__GUID-35036AA7-7EE2-4542-9B29-828DA3FF07A0"><img src="img/into_clause.gif" alt="Description of into_clause.eps follows" title="Description of into_clause.eps follows" longdesc="img_text/into_clause.html"><br><a href="img_text/into_clause.html">Description of the illustration into_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-535CE98E-2359-4147-839F-DCB3772C1B0E__GUID-0F6407D4-6CD5-4EFF-AAAD-635FA0AEC06D">Semantics</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-535CE98E-2359-4147-839F-DCB3772C1B0E__GUID-020C4708-5795-42C4-8E3C-04D2D4C9F37F"><span class="italic">schema</span></p>
                  <p>Specify the schema containing the table, index, or cluster. If you omit <span class="italic"><code class="codeph">schema</code></span>, then Oracle Database assumes the table, index, or cluster is in your own schema.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-535CE98E-2359-4147-839F-DCB3772C1B0E__GUID-4A4EFF29-5A2E-47C6-997E-90541445F20A">TABLE <span class="italic">table </span></p>
                  <p><a id="d289770e343" class="indexterm-anchor"></a><a id="d289770e347" class="indexterm-anchor"></a>Specify a table to be analyzed. When you analyze a table, the database collects statistics about expressions occurring in any function-based indexes as well. Therefore, be sure to create function-based indexes on the table before analyzing the table. Refer to <a href="CREATE-INDEX.html#GUID-1F89BBC0-825F-4215-AF71-7588E31D8BFE">CREATE INDEX</a> for more information about function-based indexes.
                  </p>
                  <p>When analyzing a table, the database skips all domain indexes marked <code class="codeph">LOADING</code> or <code class="codeph">FAILED</code>.
                  </p>
                  <p><a id="d289770e364" class="indexterm-anchor"></a><a id="d289770e368" class="indexterm-anchor"></a>For an index-organized table, the database also analyzes any mapping table and calculates its <code class="codeph">PCT_ACCESSS_DIRECT</code> statistics. These statistics estimate the accuracy of guess data block addresses stored as part of the local rowids in the mapping table.
                  </p>
                  <p><a id="d289770e377" class="indexterm-anchor"></a>Oracle Database collects the following statistics for a table. Statistics marked with an asterisk are always computed exactly. Table statistics, including the status of domain indexes, appear in the data dictionary views <code class="codeph">USER_TABLES</code>, <code class="codeph">ALL_TABLES</code>, and <code class="codeph">DBA_TABLES</code> in the columns shown in parentheses. 
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Number of rows (<code class="codeph">NUM_ROWS</code>)
                        </p>
                     </li>
                     <li>
                        <p>* Number of data blocks below the high water mark—the number of data blocks that have been formatted to receive data, regardless whether they currently contain data or are empty (<code class="codeph">BLOCKS</code>)
                        </p>
                     </li>
                     <li>
                        <p>* Number of data blocks allocated to the table that have never been used (<code class="codeph">EMPTY_BLOCKS</code>)
                        </p>
                     </li>
                     <li>
                        <p>Average available free space in each data block in bytes (<code class="codeph">AVG_SPACE</code>)
                        </p>
                     </li>
                     <li>
                        <p>Number of chained rows (<code class="codeph">CHAIN_COUNT</code>)
                        </p>
                     </li>
                     <li>
                        <p>Average row length, including the row overhead, in bytes (<code class="codeph">AVG_ROW_LEN</code>)
                        </p>
                     </li>
                  </ul>
                  <p><span class="bold">Restrictions on Analyzing Tables</span></p>
                  <p>Analyzing tables is subject to the following restrictions:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>You cannot use <code class="codeph">ANALYZE</code> to collect statistics on data dictionary tables.
                        </p>
                     </li>
                     <li>
                        <p>You cannot use <code class="codeph">ANALYZE</code> to collect statistics on an external table. Instead, you must use the <code class="codeph">DBMS_STATS</code> package.
                        </p>
                     </li>
                     <li>
                        <p>You cannot use <code class="codeph">ANALYZE</code> to collect default statistics on a temporary table. However, if you have already created an association between one or more columns of a temporary table and a user-defined statistics type, then you can use <code class="codeph">ANALYZE</code> to collect the user-defined statistics on the temporary table.
                        </p>
                     </li>
                     <li>
                        <p>You cannot compute or estimate statistics for the following column types: <code class="codeph">REF</code> column types, varrays, nested tables, LOB column types (LOB column types are not analyzed, they are skipped), <code class="codeph">LONG</code> column types, or object types. However, if a statistics type is associated with such a column, then Oracle Database collects user-defined statistics.
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-535CE98E-2359-4147-839F-DCB3772C1B0E__GUID-014D9B87-0D01-4137-ADD3-81C76147ECB1">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="ASSOCIATE-STATISTICS.html#GUID-BD02BA6A-32A7-4093-A6B6-BAE860C0F834">ASSOCIATE STATISTICS</a></p>
                        </li>
                        <li>
                           <p><a href="../refrn/static-data-dictionary-views.html#REFRN-GUID-8865F65B-EF6D-44A5-B0A1-3179EFF0C36A" target="_blank"><span class="italic">Oracle Database Reference</span></a> for information on the data dictionary views
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-535CE98E-2359-4147-839F-DCB3772C1B0E__GUID-46F2BB54-F39C-41F2-9986-B9A49C59B029"><span class="italic">partition_extension_clause</span></p>
                  <p><span class="italic">partition_extension_clause</span> <a id="d289770e488" class="indexterm-anchor"></a><a id="d289770e492" class="indexterm-anchor"></a></p>
                  <p>Specify the partition or subpartition, or the partition or subpartition value, on which you want statistics to be gathered. You cannot use this clause when analyzing clusters.</p>
                  <p>If you specify <code class="codeph">PARTITION</code> and <span class="italic"><code class="codeph">table</code></span> is composite-partitioned, then Oracle Database analyzes all the subpartitions within the specified partition.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-535CE98E-2359-4147-839F-DCB3772C1B0E__GUID-33AA9816-4FAC-4ECA-8393-6CF42F6EA10A">INDEX <span class="italic">index </span></p>
                  <p><a id="d289770e514" class="indexterm-anchor"></a><a id="d289770e518" class="indexterm-anchor"></a>Specify an index to be analyzed. 
                  </p>
                  <p>Oracle Database collects the following statistics for an index. Statistics marked with an asterisk are always computed exactly. For conventional indexes, when you compute or estimate statistics, the statistics appear in the data dictionary views <code class="codeph">USER_INDEXES</code>, <code class="codeph">ALL_INDEXES</code>, and <code class="codeph">DBA_INDEXES</code> in the columns shown in parentheses. 
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>* Depth of the index from its root block to its leaf blocks (<code class="codeph">BLEVEL</code>)
                        </p>
                     </li>
                     <li>
                        <p>Number of leaf blocks (<code class="codeph">LEAF_BLOCKS</code>)
                        </p>
                     </li>
                     <li>
                        <p>Number of distinct index values (<code class="codeph">DISTINCT_KEYS</code>)
                        </p>
                     </li>
                     <li>
                        <p>Average number of leaf blocks for each index value (<code class="codeph">AVG_LEAF_BLOCKS_PER_KEY</code>)
                        </p>
                     </li>
                     <li>
                        <p>Average number of data blocks for each index value (for an index on a table) (<code class="codeph">AVG_DATA_BLOCKS_PER_KEY</code>)
                        </p>
                     </li>
                     <li>
                        <p>Clustering factor (how well ordered the rows are about the indexed values) (<code class="codeph">CLUSTERING_FACTOR</code>)
                        </p>
                     </li>
                  </ul>
                  <p>For domain indexes, this statement invokes the user-defined statistics collection function specified in the statistics type associated with the index (see <a href="ASSOCIATE-STATISTICS.html#GUID-BD02BA6A-32A7-4093-A6B6-BAE860C0F834">ASSOCIATE STATISTICS</a>). If no statistics type is associated with the domain index, then the statistics type associated with its indextype is used. If no statistics type exists for either the index or its indextype, then no user-defined statistics are collected. User-defined index statistics appear in the <code class="codeph">STATISTICS</code> column of the data dictionary views <code class="codeph">USER_USTATS</code>, <code class="codeph">ALL_USTATS</code>, and <code class="codeph">DBA_USTATS</code>.
                  </p>
                  <div class="infoboxnote" id="GUID-535CE98E-2359-4147-839F-DCB3772C1B0E__GUID-FAFCAF53-62E2-46F2-9411-2034E6FAAE6E">
                     <p class="notep1">Note:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>When you analyze an index from which a substantial number of rows has been deleted, Oracle Database sometimes executes a <code class="codeph">COMPUTE</code> statistics operation (which can entail a full table scan) even if you request an <code class="codeph">ESTIMATE</code> statistics operation. Such an operation can be quite time consuming.
                           </p>
                        </li>
                        <li>
                           <p>In some cases, analyzing an index with the <code class="codeph">ANALYZE</code> statement takes an inordinate amount of time to complete. In these cases, you can use a SQL query to validate the index. If the query determines that there is an inconsistency between a table and the index, then you can use the <code class="codeph">ANALYZE</code> statement for a thorough analysis of the index. Refer to <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=ADMIN14215" target="_blank"><span class="italic">Oracle Database Administrator's Guide</span></a> for more information.
                           </p>
                        </li>
                     </ul>
                  </div>
                  <p><span class="bold">Restriction on Analyzing Indexes</span></p>
                  <p>You cannot analyze a domain index that is marked <code class="codeph">IN_PROGRESS</code> or <code class="codeph">FAILED</code>.
                  </p>
                  <div class="infoboxnotealso" id="GUID-535CE98E-2359-4147-839F-DCB3772C1B0E__GUID-A008D739-96E4-4C30-AE2A-4FC44E1783F7">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="CREATE-INDEX.html#GUID-1F89BBC0-825F-4215-AF71-7588E31D8BFE">CREATE INDEX</a> for more information on domain indexes
                           </p>
                        </li>
                        <li>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=REFRN-GUID-8865F65B-EF6D-44A5-B0A1-3179EFF0C36A" target="_blank"><span class="italic">Oracle Database Reference</span></a> for information on the data dictionary views
                           </p>
                        </li>
                        <li>
                           <p><span class="q">"<a href="ANALYZE.html#GUID-535CE98E-2359-4147-839F-DCB3772C1B0E__I2154661">Analyzing an Index: Example</a>"</span></p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-535CE98E-2359-4147-839F-DCB3772C1B0E__GUID-5C34A086-EB5D-431F-B9AB-71F87AEC3D8E">CLUSTER <span class="italic">cluster </span></p>
                  <p>Specify a cluster to be analyzed. When you collect statistics for a cluster, Oracle Database also automatically collects the statistics for all the tables in the cluster and all their indexes, including the cluster index. </p>
                  <p>For both indexed and hash clusters, the database collects the average number of data blocks taken up by a single cluster key (<code class="codeph">AVG_BLOCKS_PER_KEY</code>). These statistics appear in the data dictionary views <code class="codeph">ALL_CLUSTERS</code>, <code class="codeph">USER_CLUSTERS</code>, and <code class="codeph">DBA_CLUSTERS</code>. 
                  </p>
                  <div class="infoboxnotealso" id="GUID-535CE98E-2359-4147-839F-DCB3772C1B0E__GUID-B8756108-4A6B-4581-823A-FECB4605ED6A">
                     <p class="notep1">See Also:</p>
                     <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=REFRN-GUID-8865F65B-EF6D-44A5-B0A1-3179EFF0C36A" target="_blank"><span class="italic">Oracle Database Reference</span></a> for information on the data dictionary views and <span class="q">"<a href="ANALYZE.html#GUID-535CE98E-2359-4147-839F-DCB3772C1B0E__I2115909">Analyzing a Cluster: Example</a>"</span></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-535CE98E-2359-4147-839F-DCB3772C1B0E__GUID-1BA6DF50-F714-4FF0-A71E-7EC5378F9B5D"><span class="italic">validation_clauses</span></p>
                  <p>The validation clauses let you validate <code class="codeph">REF</code> values and the structure of the analyzed object.
                  </p>
                  <div class="infoboxnotealso" id="GUID-535CE98E-2359-4147-839F-DCB3772C1B0E__GUID-DC854467-9E3F-4F89-9DCD-1C9E2858547D">
                     <p class="notep1">See Also:</p>
                     <p><a href="../admin/managing-schema-objects.html#ADMIN11526" target="_blank"><span class="italic">Oracle Database Administrator's Guide</span></a> for more information about validating tables, indexes, clusters, and materialized views
                     </p>
                  </div>
                  <p><span class="bold">VALIDATE REF UPDATE Clause</span> <a id="d289770e694" class="indexterm-anchor"></a><a id="d289770e698" class="indexterm-anchor"></a><a id="d289770e702" class="indexterm-anchor"></a></p>
                  <p>Specify <code class="codeph">VALIDATE</code> <code class="codeph">REF</code> <code class="codeph">UPDATE</code> to validate the <code class="codeph">REF</code> values in the specified table, check the rowid portion in each <code class="codeph">REF</code>, compare it with the true rowid, and correct it, if necessary. You can use this clause only when analyzing a table.
                  </p>
                  <p>If the owner of the table does not have the <code class="codeph">READ</code> or <code class="codeph">SELECT</code> object privilege on the referenced objects, then Oracle Database will consider them invalid and set them to null. Subsequently these <code class="codeph">REF</code> values will not be available in a query, even if it is issued by a user with appropriate privileges on the objects.
                  </p>
                  <p><span class="bold">SET DANGLING TO NULL</span> <a id="d289770e738" class="indexterm-anchor"></a><a id="d289770e742" class="indexterm-anchor"></a></p>
                  <p><code class="codeph">SET</code> <code class="codeph">DANGLING</code> <code class="codeph">TO</code> <code class="codeph">NULL</code> sets to null any <code class="codeph">REF</code> values (whether or not scoped) in the specified table that are found to point to an invalid or nonexistent object. 
                  </p>
                  <p><span class="bold">VALIDATE STRUCTURE</span> <a id="d289770e766" class="indexterm-anchor"></a><a id="d289770e770" class="indexterm-anchor"></a><a id="d289770e774" class="indexterm-anchor"></a><a id="d289770e778" class="indexterm-anchor"></a><a id="d289770e782" class="indexterm-anchor"></a><a id="d289770e786" class="indexterm-anchor"></a><a id="d289770e790" class="indexterm-anchor"></a><a id="d289770e794" class="indexterm-anchor"></a></p>
                  <p>Specify <code class="codeph">VALIDATE</code> <code class="codeph">STRUCTURE</code> to validate the structure of the analyzed object. The statistics collected by this clause are not used by the Oracle Database optimizer. 
                  </p>
                  <div class="infoboxnotealso" id="GUID-535CE98E-2359-4147-839F-DCB3772C1B0E__GUID-7C634D67-1FD1-4E58-9462-17E66533373E">
                     <p class="notep1">See Also:</p>
                     <p><span class="q">"<a href="ANALYZE.html#GUID-535CE98E-2359-4147-839F-DCB3772C1B0E__I2115898">Validating a Table: Example</a>"</span></p>
                  </div>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>For a table, Oracle Database verifies the integrity of each of the data blocks and rows. For an index-organized table, the database also generates compression statistics (optimal prefix compression count) for the primary key index on the table.</p>
                     </li>
                     <li>
                        <p>For a cluster, Oracle Database automatically validates the structure of the cluster tables. </p>
                     </li>
                     <li>
                        <p>For a partitioned table, Oracle Database also verifies that each row belongs to the correct partition. If a row does not collate correctly, then its rowid is inserted into the <code class="codeph">INVALID_ROWS</code> table.
                        </p>
                     </li>
                     <li>
                        <p>For a temporary table, Oracle Database validates the structure of the table and its indexes during the current session.</p>
                     </li>
                     <li>
                        <p>For an index, Oracle Database verifies the integrity of each data block in the index and checks for block corruption. This clause does not confirm that each row in the table has an index entry or that each index entry points to a row in the table. You can perform these operations by validating the structure of the table with the <a href="ANALYZE.html#GUID-535CE98E-2359-4147-839F-DCB3772C1B0E__I2111178">CASCADE</a> clause. 
                        </p>
                        <p>Oracle Database also computes compression statistics (optimal prefix compression count) for all normal indexes.</p>
                        <p>Oracle Database stores statistics about the index in the data dictionary views <code class="codeph">INDEX_STATS</code> and <code class="codeph">INDEX_HISTOGRAM</code>.
                        </p>
                        <div class="infoboxnotealso" id="GUID-535CE98E-2359-4147-839F-DCB3772C1B0E__GUID-A649356C-2703-41ED-BE9B-46271E3EBE09">
                           <p class="notep1">See Also:</p>
                           <p><a href="../refrn/static-data-dictionary-views.html#REFRN-GUID-8865F65B-EF6D-44A5-B0A1-3179EFF0C36A" target="_blank"><span class="italic">Oracle Database Reference</span></a> for information on these views
                           </p>
                        </div>
                     </li>
                  </ul>
                  <p>If Oracle Database encounters corruption in the structure of the object, then an error message is returned. In this case, drop and re-create the object. </p>
                  <p id="GUID-535CE98E-2359-4147-839F-DCB3772C1B0E__I2111178"><span class="bold">CASCADE</span></p>
                  <p>Specify <code class="codeph">CASCADE</code> if you want Oracle Database to validate the structure of the indexes associated with the table or cluster. If you use this clause when validating a table, then the database also validates the indexes defined on the table. If you use this clause when validating a cluster, then the database also validates all the cluster tables indexes, including the cluster index. 
                  </p>
                  <p>By default, <code class="codeph">CASCADE</code> performs a <code class="codeph">COMPLETE</code> validation, which can be resource intensive. Specify <code class="codeph">FAST</code> if you want the database to check for the existence of corruptions without reporting details about the corruption. If the <code class="codeph">FAST</code> check finds a corruption, you can then use the <code class="codeph">CASCADE</code> option without the <code class="codeph">FAST</code> clause to locate and learn details about it.
                  </p>
                  <p>If you use this clause to validate an enabled (but previously disabled) function-based index, then validation errors may result. In this case, you must rebuild the index.</p>
                  <p><span class="bold">ONLINE | OFFLINE</span><a id="d289770e887" class="indexterm-anchor"></a><a id="d289770e891" class="indexterm-anchor"></a></p>
                  <p>Specify <code class="codeph">ONLINE</code> to enable Oracle Database to run the validation while DML operations are ongoing within the object. The database reduces the amount of validation performed to allow for concurrency.
                  </p>
                  <div class="infoboxnote" id="GUID-535CE98E-2359-4147-839F-DCB3772C1B0E__GUID-204BAD7D-5FD6-4A64-901E-B0CBCF8A63FD">
                     <p class="notep1">Note:</p>
                     <p>When you validate the structure of an object <code class="codeph">ONLINE</code>, Oracle Database does not collect any statistics, as it does when you validate the structure of the object <code class="codeph">OFFLINE</code>.
                     </p>
                  </div>
                  <p>Specify <code class="codeph">OFFLINE</code>, to maximize the amount of validation performed. This setting prevents <code class="codeph">INSERT</code>, <code class="codeph">UPDATE</code>, and <code class="codeph">DELETE</code> statements from concurrently accessing the object during validation but allows queries. This is the default.
                  </p>
                  <p><span class="bold">Restriction on ONLINE</span></p>
                  <p>You cannot specify <code class="codeph">ONLINE</code> when analyzing a cluster.
                  </p>
                  <p><span class="bold">INTO</span></p>
                  <p>The <code class="codeph">INTO</code> clause of <code class="codeph">VALIDATE</code> <code class="codeph">STRUCTURE</code> is valid only for partitioned tables. Specify a table into which Oracle Database lists the rowids of the partitions whose rows do not collate correctly. If you omit <span class="italic"><code class="codeph">schema</code></span>, then the database assumes the list is in your own schema. If you omit this clause altogether, then the database assumes that the table is named <code class="codeph">INVALID_ROWS</code>. The SQL script used to create this table is <code class="codeph">UTLVALID.SQL</code>.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-535CE98E-2359-4147-839F-DCB3772C1B0E__GUID-77B11873-9757-4A35-A846-2F13B7BDA25C">LIST CHAINED ROWS</p>
                  <p><a id="d289770e963" class="indexterm-anchor"></a><a id="d289770e967" class="indexterm-anchor"></a><a id="d289770e971" class="indexterm-anchor"></a><a id="d289770e975" class="indexterm-anchor"></a><a id="d289770e977" class="indexterm-anchor"></a><a id="d289770e981" class="indexterm-anchor"></a><code class="codeph">LIST</code> <code class="codeph">CHAINED</code> <code class="codeph">ROWS</code> lets you identify migrated and chained rows of the analyzed table or cluster. You cannot use this clause when analyzing an index.
                  </p>
                  <p>In the <code class="codeph">INTO</code> clause, specify a table into which Oracle Database lists the migrated and chained rows. If you omit <span class="italic"><code class="codeph">schema</code></span>, then the database assumes the chained-rows table is in your own schema. If you omit this clause altogether, then the database assumes that the table is named <code class="codeph">CHAINED_ROWS</code>. The chained-rows table must be on your local database.
                  </p>
                  <p>You can create the <code class="codeph">CHAINED_ROWS</code> table using one of these scripts:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><code class="codeph">UTLCHAIN.SQL</code> uses physical rowids. Therefore it can accommodate rows from conventional tables but not from index-organized tables. (See the Note that follows.)
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">UTLCHN1.SQL</code> uses universal rowids, so it can accommodate rows from both conventional and index-organized tables.
                        </p>
                     </li>
                  </ul>
                  <p>If you create your own chained-rows table, then it must follow the format prescribed by one of these two scripts. </p>
                  <p>If you are analyzing index-organized tables based on primary keys (rather than universal rowids), then you must create a separate chained-rows table for each index-organized table to accommodate its primary-key storage. Use the SQL scripts <code class="codeph">DBMSIOTC.SQL</code> and <code class="codeph">PRVTIOTC.PLB</code> to define the <code class="codeph">BUILD_CHAIN_ROWS_TABLE</code> procedure, and then execute this procedure to create an <code class="codeph">IOT_CHAINED_ROWS</code> table for each such index-organized table. 
                  </p>
                  <div class="infoboxnotealso" id="GUID-535CE98E-2359-4147-839F-DCB3772C1B0E__GUID-54E7D658-2DC7-4542-9040-A1F733D351E3">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The <code class="codeph">DBMS_IOT</code> package in <a href="../arpls/DBMS_IOT.html#ARPLS018" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for information on the packaged SQL scripts
                           </p>
                        </li>
                        <li>
                           <p><span class="q">"<a href="ANALYZE.html#GUID-535CE98E-2359-4147-839F-DCB3772C1B0E__I2115921">Listing Chained Rows: Example</a>"</span></p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-535CE98E-2359-4147-839F-DCB3772C1B0E__GUID-66739054-68E7-4D88-8811-11D02BB1CDE0">DELETE STATISTICS</p>
                  <p><a id="d289770e1060" class="indexterm-anchor"></a><a id="d289770e1064" class="indexterm-anchor"></a>Specify <code class="codeph">DELETE</code> <code class="codeph">STATISTICS</code> to delete any statistics about the analyzed object that are currently stored in the data dictionary. Use this statement when you no longer want Oracle Database to use the statistics.
                  </p>
                  <p>When you use this clause on a table, the database also automatically removes statistics for all the indexes defined on the table. When you use this clause on a cluster, the database also automatically removes statistics for all the cluster tables and all their indexes, including the cluster index.</p>
                  <p>Specify <code class="codeph">SYSTEM</code> if you want Oracle Database to delete only system (not user-defined) statistics. If you omit <code class="codeph">SYSTEM</code>, and if user-defined column or index statistics were collected for an object, then the database also removes the user-defined statistics by invoking the statistics deletion function specified in the statistics type that was used to collect the statistics.
                  </p>
                  <div class="infoboxnotealso" id="GUID-535CE98E-2359-4147-839F-DCB3772C1B0E__GUID-06488019-68D7-4CE0-858B-2DA23A6745AE">
                     <p class="notep1">See Also:</p>
                     <p><span class="q">"<a href="ANALYZE.html#GUID-535CE98E-2359-4147-839F-DCB3772C1B0E__I2115827">Deleting Statistics: Example</a>"</span></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-535CE98E-2359-4147-839F-DCB3772C1B0E__GUID-6B17DD37-12B7-40B9-BB23-9F5BC8433F40">Examples</p>
                  <p id="GUID-535CE98E-2359-4147-839F-DCB3772C1B0E__I2115827"><span class="bold">Deleting Statistics: Example</span></p>
                  <p>The following statement deletes statistics about the sample table <code class="codeph">oe.orders</code> and all its indexes from the data dictionary:
                  </p><pre class="oac_no_warn" dir="ltr">ANALYZE TABLE orders DELETE STATISTICS; </pre><p id="GUID-535CE98E-2359-4147-839F-DCB3772C1B0E__I2154661"><span class="bold">Analyzing an Index: Example</span></p>
                  <p>The following statement validates the structure of the sample index <code class="codeph">oe.inv_product_ix</code>:
                  </p><pre class="oac_no_warn" dir="ltr">ANALYZE INDEX inv_product_ix VALIDATE STRUCTURE; </pre><p id="GUID-535CE98E-2359-4147-839F-DCB3772C1B0E__I2115898"><span class="bold">Validating a Table: Example</span></p>
                  <p>The following statement analyzes the sample table <code class="codeph">hr.employees</code> and all of its indexes:
                  </p><pre class="oac_no_warn" dir="ltr">ANALYZE TABLE employees VALIDATE STRUCTURE CASCADE; 
</pre><p>For a table, the <code class="codeph">VALIDATE</code> <code class="codeph">REF</code> <code class="codeph">UPDATE</code> clause verifies the <code class="codeph">REF</code> values in the specified table, checks the rowid portion of each <code class="codeph">REF</code>, and then compares it with the true rowid. If the result is an incorrect rowid, then the <code class="codeph">REF</code> is updated so that the rowid portion is correct.
                  </p>
                  <p>The following statement validates the <code class="codeph">REF</code> values in the sample table <code class="codeph">oe.customers</code>:
                  </p><pre class="oac_no_warn" dir="ltr">ANALYZE TABLE customers VALIDATE REF UPDATE;
</pre><p>The following statement validates the structure of the sample table <code class="codeph">oe.customers</code> while allowing simultaneous DML:
                  </p><pre class="oac_no_warn" dir="ltr">ANALYZE TABLE customers VALIDATE STRUCTURE ONLINE;</pre><p id="GUID-535CE98E-2359-4147-839F-DCB3772C1B0E__I2115909"><span class="bold">Analyzing a Cluster: Example</span></p>
                  <p>The following statement analyzes the <code class="codeph">personnel</code> cluster (created in <span class="q">"<a href="CREATE-CLUSTER.html#GUID-4DBC701F-AFC3-486D-AA32-B5CB1D6946F7__I2105033">Creating a Cluster: Example</a>"</span>), all of its tables, and all of their indexes, including the cluster index:
                  </p><pre class="oac_no_warn" dir="ltr">ANALYZE CLUSTER personnel
    VALIDATE STRUCTURE CASCADE; </pre><p id="GUID-535CE98E-2359-4147-839F-DCB3772C1B0E__I2115921"><span class="bold">Listing Chained Rows: Example</span></p>
                  <p>The following statement collects information about all the chained rows in the table <code class="codeph">orders</code>:
                  </p><pre class="oac_no_warn" dir="ltr">ANALYZE TABLE orders
   LIST CHAINED ROWS INTO chained_rows; 
</pre><p>The preceding statement places the information into the table <code class="codeph">chained_rows</code>. You can then examine the rows with this query (no rows will be returned if the table contains no chained rows): 
                  </p><pre class="oac_no_warn" dir="ltr">SELECT owner_name, table_name, head_rowid, analyze_timestamp 
    FROM chained_rows
    ORDER BY owner_name, table_name, head_rowid, analyze_timestamp; 

OWNER_NAME  TABLE_NAME  HEAD_ROWID         ANALYZE_TIMESTAMP
----------  ----------  ------------------ -----------------
OE          ORDERS      AAAAZzAABAAABrXAAA 25-SEP-2000 </pre></div>
               <!-- class="section" -->
            </div>
         </div>
      </article>
   </body>
</html>