<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="To identify the storage requirements for using Oracle ASM, you must determine the number of devices and the amount of free disk space that you require. To complete this task, follow these steps:"></meta>
      <meta name="description" content="To identify the storage requirements for using Oracle ASM, you must determine the number of devices and the amount of free disk space that you require. To complete this task, follow these steps:"></meta>
      <title>确定Oracle自动存储管理的存储要求</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Database Installation Guide"></meta>
      <meta property="og:description" content="To identify the storage requirements for using Oracle ASM, you must determine the number of devices and the amount of free disk space that you require. To complete this task, follow these steps:"></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Database Installation Guide for Oracle Solaris"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-installation-guide-oracle-solaris.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-04-26T00:34:35-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2015, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96434-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="configuring-storage-for-oracle-automatic-storage-management.html" title="Previous" type="text/html"></link>
      <link rel="next" href="disk_space_requirements_for_oracle_asm.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Installation Guide for Oracle Solaris"></meta>
    <meta name="dcterms.isVersionOf" content="SSDBI"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="configuring-storage-for-oracle-automatic-storage-management.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="disk_space_requirements_for_oracle_asm.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">数据库安装指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="configuring-storage-for-oracle-grid-infrastructure-for-a-standalone-server.html" property="item" typeof="WebPage"><span property="name">为独立服务器配置Oracle Grid Infrastructure的存储</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="configuring-storage-for-oracle-automatic-storage-management.html" property="item" typeof="WebPage"><span property="name">配置Oracle自动存储管理存储</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">确定Oracle自动存储管理的存储要求</li>
            </ol>
            <a id="GUID-FBF71AA0-16BF-446E-AA41-AD35CBA5C2F8" name="GUID-FBF71AA0-16BF-446E-AA41-AD35CBA5C2F8"></a>
            
            <h2 id="SSDBI-GUID-FBF71AA0-16BF-446E-AA41-AD35CBA5C2F8" class="sect2">确定Oracle自动存储管理的存储要求</h2>
         </header>
         <div class="ind">
            <div>
               <p>要确定使用Oracle ASM的存储要求，必须确定所需的设备数量和可用磁盘空间量。若要完成此任务，请按照下列步骤操作：</p>
               <ol>
                  <li class="stepexpand"><span>确定是否要将Oracle ASM用于Oracle数据库文件，恢复文件或两者。Oracle数据库文件包括数据文件，控制文件，重做日志文件，服务器参数文件和密码文件。</span><div>
                        <p>在数据库安装期间，您可以选择文件系统或Oracle ASM作为Oracle数据库文件的存储机制。同样，您还可以选择文件系统或Oracle ASM作为恢复文件的存储机制。</p>
                        <div class="infoboxnote" id="GUID-FBF71AA0-16BF-446E-AA41-AD35CBA5C2F8__GUID-D57A073A-7774-411F-8BAB-8E55873DE94B">
                           <p class="notep1">注意：</p>
                           <p>您不必对Oracle Database文件和恢复文件使用相同的存储机制。您可以将文件系统用于一种文件类型，将Oracle ASM用于另一种文件类型。</p>
                        </div>
                        <p>如果选择Oracle ASM作为Oracle数据库文件的存储选项，则根据您在“指定恢复选项”屏幕中的选择，您可以使用以下恢复选项：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>如果为恢复文件选择Oracle ASM选项，则Oracle Universal Installer仅为您提供对Oracle Database文件和恢复文件使用相同磁盘组的选项。</p>
                           </li>
                           <li>
                              <p>如果您决定在数据库安装期间不启用恢复，则在数据库安装之后，您可以修改<code class="codeph">DB_RECOVERY_FILE_DEST</code>参数以启用快速恢复区域。
                              </p>
                           </li>
                        </ul>
                     </div>
                  </li>
                  <li class="stepexpand"><span>选择要用于您创建的每个Oracle ASM磁盘组的Oracle ASM冗余级别。</span><div>
                        <p>您为Oracle ASM磁盘组选择的冗余级别确定Oracle ASM如何镜像磁盘组中的文件，并确定所需的磁盘数和磁盘空间量，如下所示：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="uicontrol bold">外部冗余</span></p>
                              <p>此选项不允许Oracle ASM镜像磁盘组的内容。Oracle建议您在磁盘组包含提供其自身数据保护的设备（如RAID设备）或数据库不需要不间断访问数据时选择此冗余级别。</p>
                           </li>
                           <li>
                              <p><span class="uicontrol bold">正常冗余</span></p>
                              <p>为了优化正常冗余磁盘组的性能和可靠性，默认情况下，Oracle ASM对数据文件使用双向镜像，对控制文件使用三向镜像。此外，您还可以为磁盘组中的各个文件选择镜像特征。</p>
                              <p>如果使用双向镜像，则正常冗余磁盘组至少需要两个故障组（或两个磁盘设备）。普通冗余磁盘组中的有效磁盘空间是其所有设备的磁盘空间总和的一半。</p>
                              <p>对于大多数安装，Oracle建议您使用常规冗余磁盘组。在Oracle Exadata上，Oracle建议您使用高冗余磁盘组来增强防止故障的保护。</p>
                           </li>
                           <li>
                              <p><span class="uicontrol bold">高冗余</span></p>
                              <p>默认情况下，磁盘组的内容是三向镜像的。要创建具有高冗余的磁盘组，必须至少指定三个故障组（至少三个设备）。</p>
                              <p>虽然高冗余磁盘组提供高级别的数据保护，但在决定使用此冗余级别之前，必须考虑更高的额外存储设备成本。</p>
                           </li>
                           <li>
                              <p><span class="uicontrol bold">Flex冗余</span></p>
                              <p>Flex冗余磁盘组是一种新的磁盘组类型，具有灵活的文件冗余，镜像拆分和冗余更改等功能。Flex磁盘组可以将具有不同冗余要求的文件合并到一个磁盘组中。它还为数据库提供了更改其文件冗余的功能。</p>
                              <p>对于数据库数据，您可以选择不镜像（不受保护），双向镜像（镜像）或三向镜像（高）。Flex冗余磁盘组至少需要三个磁盘设备（或三个故障组）。</p>
                           </li>
                        </ul>
                     </div>
                  </li>
                  <li class="stepexpand"><span>确定数据库文件和恢复文件所需的磁盘空间总量。</span><div>
                        <p>如果系统上正在运行Oracle ASM实例，则可以使用现有磁盘组来满足这些存储要求。如有必要，可以在数据库安装期间将磁盘添加到现有磁盘组。</p>
                        <p>有关Oracle ASM磁盘空间要求，请参阅“Oracle <span><cite>数据库安装指南</cite></span> ”中的“Linux上的Oracle ASM磁盘空间要求”。
                        </p>
                        <div class="infoboxnote" id="GUID-FBF71AA0-16BF-446E-AA41-AD35CBA5C2F8__GUID-BA885152-8049-46DE-8B19-1A800468B9C4">
                           <p class="notep1">注意：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>磁盘设备必须由执行网格安装的用户拥有。</p>
                                 <p>请咨询系统管理员，以确定Oracle ASM使用的磁盘是否在存储级别进行镜像。如果是，请选择外部以获得冗余。如果磁盘未在存储级别进行镜像，则为冗余选择“正常”。</p>
                              </li>
                              <li>
                                 <p>每个Oracle ASM磁盘都分为分配单元（AU）。分配单元是磁盘组内的基本分配单位。您可以从1,2,4,8,16,32或64 MB中选择AU Size值，具体取决于特定的磁盘组兼容级别。对于Flex磁盘组，默认值为4 MB，对于所有其他磁盘组类型，默认值为1 MB。在工程系统上，默认值为4 MB。</p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </li>
                  <li class="stepexpand"><span>（可选）识别Oracle ASM磁盘组设备的故障组。</span><div>
                        <p>如果您打算使用普通，高或灵活冗余磁盘组，则可以通过关联自定义故障组中的一组磁盘设备来进一步保护数据库免受硬件故障的影响。默认情况下，每个设备都包含自己的故障组。但是，如果正常冗余磁盘组中的两个磁盘设备连接到同一SCSI控制器，则如果控制器出现故障，则磁盘组将变为不可用。此示例中的控制器是单点故障。</p>
                        <p>要防止此类故障，请使用两个SCSI控制器，每个控制器有两个磁盘，并为连接到每个控制器的磁盘定义故障组。此配置使磁盘组能够容忍一个SCSI控制器的故障。</p>
                        <p>定义自定义故障组时，请考虑以下准则：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>从版本12.2开始，您可以在Oracle Grid Infrastructure安装期间在“ <span class="uicontrol bold">创建ASM磁盘组”</span>屏幕中指定自定义故障组。
                              </p>
                           </li>
                           <li>
                              <p>您还可以使用GUI工具ASMCA，命令行工具<code>asmcmd</code>或SQL命令在安装后定义自定义故障组。
                              </p>
                           </li>
                           <li>
                              <p>如果定义自定义故障组，则对于仅包含数据库文件的故障组，必须为正常冗余磁盘组指定至少两个故障组，为高冗余磁盘组指定三个故障组。</p>
                           </li>
                        </ul>
                     </div>
                  </li>
                  <li class="stepexpand"><span>如果您确定系统上不存在合适的磁盘组，请安装或识别要添加到新磁盘组的相应磁盘设备。</span><div>
                        <p>在识别适当的磁盘设备时，请遵循以下准则：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>磁盘设备必须由执行Oracle Grid Infrastructure安装的用户拥有。</p>
                           </li>
                           <li>
                              <p>Oracle ASM磁盘组中的所有设备必须具有相同的大小并具有相同的性能特征。</p>
                           </li>
                           <li>
                              <p>不要将单个物理磁盘上的多个分区指定为磁盘组设备。Oracle ASM希望每个磁盘组设备都位于单独的物理磁盘上。</p>
                           </li>
                           <li>
                              <p>尽管您可以将逻辑卷指定为Oracle ASM磁盘组中的设备，但Oracle不建议使用它们，因为它会增加Oracle ASM不必要的复杂性。 Oracle建议，如果选择使用逻辑卷管理器，则使用逻辑卷管理器表示单个逻辑单元号（LUN），而不进行条带化或镜像，以便最大限度地减少对附加存储层的存储性能的影响。</p>
                           </li>
                        </ul>
                     </div>
                  </li>
               </ol>
            </div>
            <div>
               <div class="relinfo">
                  <p><strong>相关话题</strong></p>
                  <ul>
                     <li><a href="disk_space_requirements_for_oracle_asm.html#GUID-DE737EEE-A352-4DC3-BB85-8CADE800E6C1" title="确定数据库文件和恢复文件所需的Oracle自动存储管理（Oracle ASM）磁盘空间总量。">Oracle ASM磁盘空间要求</a></li>
                     <li><a href="../ostmg/asm-filegroups.html#OSTMG-GUID-1A056184-65E1-449C-B36A-83AF259A2309" target="_blank"><span><cite>Oracle自动存储管理管理员指南</cite></span></a></li>
                  </ul>
               </div>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>父主题：</strong> <a href="configuring-storage-for-oracle-automatic-storage-management.html#GUID-CBDF7400-9A35-4548-A3F2-52BA6871F130" title="确定存储要求和Oracle ASM磁盘组选项。">为Oracle自动存储管理配置存储</a></p>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>