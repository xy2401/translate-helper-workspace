<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="You can create and manage read-only materialized views and refresh groups. You can also refresh materialized views."></meta>
      <meta name="description" content="You can create and manage read-only materialized views and refresh groups. You can also refresh materialized views."></meta>
      <title>创建和管理只读物化视图</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Database Administrator’s Guide "></meta>
      <meta property="og:description" content="You can create and manage read-only materialized views and refresh groups. You can also refresh materialized views."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Database Administrator’s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-administrators-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-03-14T11:02:35-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96348-04"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="planning-for-read-only-materialized-views.html" title="Previous" type="text/html"></link>
      <link rel="next" href="troubleshooting-problems-with-read-only-materialized-views.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Administrator&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="ADMIN"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="planning-for-read-only-materialized-views.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="troubleshooting-problems-with-read-only-materialized-views.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">数据库管理员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="managing-read-only-materialized-views.html" property="item" typeof="WebPage"><span property="name">管理只读物化视图</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">创建和管理只读物化视图</li>
            </ol>
            <a id="GUID-005E917F-83C4-4D16-8A61-62C2C5100B7C" name="GUID-005E917F-83C4-4D16-8A61-62C2C5100B7C"></a>
            
            <h2 id="ADMIN-GUID-005E917F-83C4-4D16-8A61-62C2C5100B7C" class="sect2"><span class="enumeration_chapter">39</span>创建和管理只读物化视图</h2>
         </header>
         <div class="ind">
            <p>您可以创建和管理只读的物化视图和刷新组。您还可以刷新物化视图。</p>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="creating-and-managing-read-only-materialized-views.html#GUID-41870D29-1EB3-45FA-A9A8-FBEB3BA95971">创建只读的物化视图</a><br>创建只读的物化视图，以在物化视图数据库中复制主表的数据。
                  </li>
                  <li class="ulchildlink"><a href="creating-and-managing-read-only-materialized-views.html#GUID-AD3D974A-D57F-49D0-9951-F84710941C0A">创建刷新组</a><br>将实例化视图添加到刷新组，以确保刷新组中相关实例化视图之间的事务一致性。
                  </li>
                  <li class="ulchildlink"><a href="creating-and-managing-read-only-materialized-views.html#GUID-36FD5232-00CB-4FD6-8C78-8FFB98193FA4">刷新物化视图</a><br>刷新实例化视图会同步实体化视图的主数据中的数据和实例化视图中的数据。
                  </li>
                  <li class="ulchildlink"><a href="creating-and-managing-read-only-materialized-views.html#GUID-7B26829E-1389-46CF-81AD-28EA6C2F13A1">确定物化视图的快速刷新功能</a><br>通过尝试使用<code class="codeph">REFRESH FAST</code>子句或使用<code class="codeph">DBMS_MVIEW.EXPLAIN_MVIEW</code>过程创建<code class="codeph">DBMS_MVIEW.EXPLAIN_MVIEW</code>化视图， <code class="codeph">DBMS_MVIEW.EXPLAIN_MVIEW</code>化视图是否可以快速刷新。
                  </li>
                  <li class="ulchildlink"><a href="creating-and-managing-read-only-materialized-views.html#GUID-9109BF91-5F00-4056-84D1-6D291F6BC584">添加新的物化视图数据库</a><br>使用一个或多个物化视图数据库创建物化视图环境后，可能需要添加新的物化视图数据库。
                  </li>
                  <li class="ulchildlink"><a href="creating-and-managing-read-only-materialized-views.html#GUID-F6D8436F-832E-4E5D-9A91-5B3355A9AD96">监视物化视图日志</a><br>您可以运行查询以在主数据库中显示有关实例化视图日志的信息。
                  </li>
                  <li class="ulchildlink"><a href="creating-and-managing-read-only-materialized-views.html#GUID-A567993A-AAD2-4E50-B0DE-167502F7DA8C">监控物化视图</a><br>您可以运行查询以显示有关实例化视图和刷新组的信息。
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>父主题：</strong> <a href="managing-read-only-materialized-views.html#GUID-7AAEC1A7-01BA-4293-AF46-F026AA2B0237" title="只读物化视图可以提供对主表数据的只读访问。您可以创建和管理只读的物化视图。">管理只读实体化视图</a></p>
                  </div>
               </div>
            </div>
            
            <div class="props_rev_3"><a id="GUID-41870D29-1EB3-45FA-A9A8-FBEB3BA95971" name="GUID-41870D29-1EB3-45FA-A9A8-FBEB3BA95971"></a><h3 id="ADMIN-GUID-41870D29-1EB3-45FA-A9A8-FBEB3BA95971" class="sect3"><span class="enumeration_section">39.1</span>创建只读物化视图</h3>
               <div>
                  <p>创建只读的物化视图，以在物化视图数据库中复制主表的数据。</p>
                  <div class="section">
                     <p>在创建物化视图以在主数据库和物化视图数据库之间复制数据之前，您计划使用的数据库链接必须可用。</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li><span>以具有创建实例化视图所需权限的用户身份连接到数据库。</span></li>
                     <li><span>运行<code class="codeph">CREATE MATERIALIZED VIEW</code>语句。</span></li>
                  </ol>
                  <div class="example" id="GUID-41870D29-1EB3-45FA-A9A8-FBEB3BA95971__GUID-828720BE-43DC-40E5-A4BF-C8DB9812B6DF">
                     <p class="titleinexample">示例39-1创建主键物化视图</p><pre class="oac_no_warn" dir="ltr">创建物化视图hr.employees_mv1，主键为SELECT * FROM hr.employees@orc1.example.com;</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-41870D29-1EB3-45FA-A9A8-FBEB3BA95971__GUID-692838BE-9B81-4B13-93FF-CB8D54D28388">
                     <p class="titleinexample">示例39-2创建ROWID物化视图</p><pre class="oac_no_warn" dir="ltr">创建物化视图oe.orders REFRESH，ROWID as SELECT *来自oe.orders@orc1.example.com;</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-41870D29-1EB3-45FA-A9A8-FBEB3BA95971__GUID-483C4F22-A3E4-4D7C-830C-D4531679FD80">
                     <p class="titleinexample">示例39-3创建对象物化视图</p>
                     <p>在物化视图数据库中创建所需类型后，可以通过指定<code class="codeph">OF</code> <span class="italic">类型</span>子句来创建对象物化视图。
                     </p>
                     <p>例如，假设以下SQL语句在<code class="codeph">orc1.example.com</code>主数据库中创建<code class="codeph">oe.categories_tab</code>对象表：</p><pre class="oac_no_warn" dir="ltr">CREATE TYPE oe.category_typ AS OBJECT（category_name VARCHAR2（50），category_description VARCHAR2（1000），category_id NUMBER（2））; / CREATE TABLE oe.categories_tab OF oe.category_typ（category_id PRIMARY KEY）;</pre><p>要创建可以基于<code class="codeph">oe.categories_tab</code>主表快速刷新的<code class="codeph">oe.categories_tab</code>化视图，请为此表创建<code class="codeph">oe.categories_tab</code>化视图日志：</p><pre class="oac_no_warn" dir="ltr">使用OBJECT ID创建物料化视图oe.categories_tab;</pre><p>在对象表上创建实例化视图日志时，需要<code class="codeph">WITH</code> <code class="codeph">OBJECT</code> <code class="codeph">ID</code>子句。
                     </p>
                     <p>在物化视图数据库中使用与master数据库中相同类型相同的对象标识符创建<code class="codeph">oe.category_typ</code>类型后，可以使用<code class="codeph">OF</code> <span class="italic">类型</span>子句基于<code class="codeph">oe.categories_tab</code>对象表创建对象物化视图，如以下SQL语句：</p><pre class="oac_no_warn" dir="ltr">创建物化视图oe.category_objmv oe.category_typ快速选择*来自oe.categories_tab@orc1.example.com;</pre><p>这里， <span class="italic">type</span>是<code class="codeph">oe.category_typ</code> 。
                     </p>
                  </div>
                  <!-- class="example" -->
                  <div class="section">
                     <div class="infoboxnote" id="GUID-41870D29-1EB3-45FA-A9A8-FBEB3BA95971__GUID-020F883C-8A5F-4B31-B46F-06300A88561A">
                        <p class="notep1">注意：</p>
                        <p>物化视图数据库和主数据库中的类型必须相同。有关更多信息，请参见<span class="q">“ <a href="read-only-materialized-view-concepts.html#GUID-2E11F29F-BF60-4E3B-B94C-74EBB8C06F34" title="用户定义的类型包括使用CREATE TYPE语句创建的所有类型，包括object，嵌套表，VARRAY和indextype。要基于用户定义的类型复制架构对象，用户定义的类型本身必须存在，并且必须在master数据库和物化视图数据库中相同。">复制数据库中的类型协议</a> ”</span> 。
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-41870D29-1EB3-45FA-A9A8-FBEB3BA95971__GUID-54AB5B05-6C5C-43BC-B68A-5E5D9A74FAEC">
                     <p class="notep1">也可以看看：</p>
                     <p></p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="read-only-materialized-view-concepts.html#GUID-A422B474-4BED-4A60-AEDB-E93630746083" title="Understand the concepts related to read-only materialized views.">只读实体化视图</a>用于创建<a href="read-only-materialized-view-concepts.html#GUID-A422B474-4BED-4A60-AEDB-E93630746083" title="Understand the concepts related to read-only materialized views.">实体化视图</a>的几个示例的<a href="read-only-materialized-view-concepts.html#GUID-A422B474-4BED-4A60-AEDB-E93630746083" title="理解与只读物化视图相关的概念。">概念</a></p>
                        </li>
                        <li>
                           <p><span class="q">“ <a href="read-only-materialized-view-concepts.html#GUID-0A13D7EF-7AA3-42B1-9174-A6A245493DAE" title="三种不同类型的用户在物化视图上执行操作。">物化视图操作所需的权限</a> ”，</span>以获取有关创建实例化视图所需特权的信息</p>
                        </li>
                        <li>
                           <p><span class="q">“ <a href="planning-for-read-only-materialized-views.html#GUID-E81D58FF-9E15-4E5C-A132-E6DFD2CCA7CF" title="物化视图的定义查询可以使用一个或多个数据库链接来引用远程表数据。">物化视图所需的数据库链接</a> ”</span></p>
                        </li>
                        <li>
                           <p><span class="q">“ <a href="read-only-materialized-view-concepts.html#GUID-33DAEE07-5EC9-49C2-BA95-F9E1213664A8" title="如果物化视图基于对象表并使用OF类型子句创建，则物化视图称为对象物化视图。">基于对象表的物化视图</a> ”</span></p>
                        </li>
                        <li>
                           <p><a href="../sqlrf/CREATE-MATERIALIZED-VIEW.html#SQLRF01302" target="_blank"><span class="italic">Oracle数据库SQL语言参考</span></a></p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="creating-and-managing-read-only-materialized-views.html#GUID-005E917F-83C4-4D16-8A61-62C2C5100B7C" title="您可以创建和管理只读的物化视图和刷新组。您还可以刷新物化视图。">创建和管理只读实体化视图</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="props_rev_3"><a id="GUID-AD3D974A-D57F-49D0-9951-F84710941C0A" name="GUID-AD3D974A-D57F-49D0-9951-F84710941C0A"></a><h3 id="ADMIN-GUID-AD3D974A-D57F-49D0-9951-F84710941C0A" class="sect3"><span class="enumeration_section">39.2</span>创建刷新组</h3>
               <div>
                  <p>将实例化视图添加到刷新组，以确保刷新组中相关实例化视图之间的事务一致性。</p>
                  <div class="section">
                     <p>刷新刷新组时，将同时刷新添加到特定刷新组的所有实例化视图。</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li><span>以具有所需权限的管理用户身份连接到物化视图数据库，以创建刷新组并向其添加物化视图。</span></li>
                     <li><span>运行<code class="codeph">DBMS_REFRESH.MAKE</code>过程以创建刷新组。</span></li>
                     <li><span>运行<code class="codeph">DBMS_REFRESH.ADD</code>过程一次或多次，以将<code class="codeph">DBMS_REFRESH.ADD</code>化视图添加到刷新组。</span></li>
                  </ol>
                  <div class="example" id="GUID-AD3D974A-D57F-49D0-9951-F84710941C0A__GUID-FEE3299A-4B6E-4A63-A7E5-19DDF8E489E3">
                     <p class="titleinexample">示例39-4创建刷新组</p>
                     <p>此示例创建一个刷新组并向其添加两个物化视图。</p><pre class="oac_no_warn" dir="ltr">开始<a id="d334646e346" class="indexterm-anchor"></a><a id="d334646e350" class="indexterm-anchor"></a> DBMS_REFRESH.MAKE（name =&gt;'mviewadmin.hr_refg'，list =&gt;''，next_date =&gt; SYSDATE，interval =&gt;'SYSDATE + 1/24'，implicit_destroy =&gt; FALSE，rollback_seg =&gt;''，push_deferred_rpc =&gt; TRUE ，refresh_after_errors =&gt; FALSE）;结束; / BEGIN DBMS_REFRESH.ADD（name =&gt;'mviewadmin.hr_refg'，list =&gt;'hr.countries_mv1'，lax =&gt; TRUE）;结束; / BEGIN DBMS_REFRESH.ADD（name =&gt;'mviewadmin.hr_refg'，list =&gt;'hr.departments_mv1'，lax =&gt; TRUE）;结束; /</pre></div>
                  <!-- class="example" -->
                  <div class="section"></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-AD3D974A-D57F-49D0-9951-F84710941C0A__GUID-6DBF69DE-BB9D-4EAF-A091-9A310D31821F">
                     <p class="notep1">也可以看看：</p>
                     <p><span class="q">“ <a href="read-only-materialized-view-architecture.html#GUID-4440DB7A-5F04-4595-8672-2970028F7645" title="为了保留多个物化视图之间的参照完整性和事务（读取）一致性，Oracle数据库可以刷新单个物化视图作为刷新组的一部分。">刷新组</a> ”</span></p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="creating-and-managing-read-only-materialized-views.html#GUID-005E917F-83C4-4D16-8A61-62C2C5100B7C" title="您可以创建和管理只读的物化视图和刷新组。您还可以刷新物化视图。">创建和管理只读实体化视图</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="props_rev_3"><a id="GUID-36FD5232-00CB-4FD6-8C78-8FFB98193FA4" name="GUID-36FD5232-00CB-4FD6-8C78-8FFB98193FA4"></a><h3 id="ADMIN-GUID-36FD5232-00CB-4FD6-8C78-8FFB98193FA4" class="sect3"><span class="enumeration_section">39.3</span>刷新物化视图</h3>
               <div>
                  <p>刷新实例化视图会同步实体化视图的主数据中的数据和实例化视图中的数据。</p>
                  <div class="section">
                     <p>您可以一次刷新刷新组中的所有物化视图，也可以单独刷新物化视图。如果您的应用程序依赖于物化视图数据库中的多个物化视图，那么Oracle建议使用刷新组，以便数据在应用程序使用的所有物化视图中具有事务一致性。</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>以具有刷新刷新组或单个物化视图所需权限的用户身份连接到物化视图数据库。</span></li>
                     <li class="stepexpand"><span>执行以下操作之一：</span><div>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>运行<code class="codeph">DBMS_REFRESH.REFRESH</code>过程以刷新刷新组。
                                 </p>
                              </li>
                              <li>
                                 <p>运行<code class="codeph">DBMS_MVIEW.REFRESH</code>过程以刷新单个<code class="codeph">DBMS_MVIEW.REFRESH</code>化视图。
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </li>
                  </ol>
                  <div class="example" id="GUID-36FD5232-00CB-4FD6-8C78-8FFB98193FA4__GUID-5B0CEAE1-C2F4-48E2-8984-475711DD4779">
                     <p class="titleinexample">示例39-5刷新刷新组</p>
                     <p>以下示例刷新<code class="codeph">hr_refg</code>刷新组：</p><pre class="oac_no_warn" dir="ltr"><a id="d334646e428" class="indexterm-anchor"></a><a id="d334646e432" class="indexterm-anchor"></a> EXECUTE DBMS_REFRESH.REFRESH（'hr_refg'）;</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-36FD5232-00CB-4FD6-8C78-8FFB98193FA4__GUID-15EF937E-3A33-47DC-A725-9C3C6C9335B0">
                     <p class="titleinexample">示例39-6刷新单个物化视图</p>
                     <p>以下示例刷新<code class="codeph">hr.departments_mv</code>物化视图：</p><pre class="oac_no_warn" dir="ltr"><a id="d334646e444" class="indexterm-anchor"></a><a id="d334646e448" class="indexterm-anchor"></a> BEGIN DBMS_MVIEW.REFRESH（list =&gt;'hr.departments_mv'，method =&gt;'？“）;结束; /</pre></div>
                  <!-- class="example" -->
                  <div class="section">
                     <div class="infoboxnote" id="GUID-36FD5232-00CB-4FD6-8C78-8FFB98193FA4__GUID-3BBC76D9-95FE-41C2-82A6-703E1C3F78AB">
                        <p class="notep1">注意：</p>
                        <p><a id="d334646e454" class="indexterm-anchor"></a><a id="d334646e456" class="indexterm-anchor"></a>不要使用<code class="codeph">DBMS_MVIEW.REFRESH_ALL_MVIEWS</code>或<code class="codeph">DBMS_MVIEW.REFRESH_DEPENDENT</code>过程来刷新<code class="codeph">DBMS_MVIEW.REFRESH_DEPENDENT</code>化视图。而是使用<code class="codeph">DBMS_REFRESH.REFRESH</code>或<code class="codeph">DBMS_MVIEW.REFRESH</code>过程刷新复制环境中的<code class="codeph">DBMS_MVIEW.REFRESH</code>化视图。
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-36FD5232-00CB-4FD6-8C78-8FFB98193FA4__GUID-A9C18CA4-427D-4D2B-BBC0-B05194CA113A">
                     <p class="notep1">也可以看看：</p>
                     <p></p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="q">“ <a href="read-only-materialized-view-concepts.html#GUID-0A13D7EF-7AA3-42B1-9174-A6A245493DAE" title="三种不同类型的用户在物化视图上执行操作。">物化视图操作所需的权限</a> ”，</span>以获取有关创建实例化视图所需特权的信息</p>
                        </li>
                        <li>
                           <p>有关<code class="codeph">DBMS_MVIEW</code>包的更多信息，请<code class="codeph">DBMS_MVIEW</code> <a href="../arpls/DBMS_MVIEW.html#ARPLS027" target="_blank"><span class="italic">Oracle Database PL / SQL包和类型参考</span></a></p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="creating-and-managing-read-only-materialized-views.html#GUID-005E917F-83C4-4D16-8A61-62C2C5100B7C" title="您可以创建和管理只读的物化视图和刷新组。您还可以刷新物化视图。">创建和管理只读实体化视图</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="props_rev_3"><a id="GUID-7B26829E-1389-46CF-81AD-28EA6C2F13A1" name="GUID-7B26829E-1389-46CF-81AD-28EA6C2F13A1"></a><h3 id="ADMIN-GUID-7B26829E-1389-46CF-81AD-28EA6C2F13A1" class="sect3"><span class="enumeration_section">39.4</span>确定物化视图的快速刷新功能</h3>
               <div>
                  <p>通过尝试使用<code class="codeph">REFRESH FAST</code>子句或使用<code class="codeph">DBMS_MVIEW.EXPLAIN_MVIEW</code>过程创建<code class="codeph">DBMS_MVIEW.EXPLAIN_MVIEW</code>化视图， <code class="codeph">DBMS_MVIEW.EXPLAIN_MVIEW</code>化视图是否可以快速刷新。
                  </p>
                  <div class="section">
                     <p>快速刷新使用物化视图日志仅更新自上次刷新以来已更改的行。要确定物化视图是否可快速刷新，请使用<code class="codeph">REFRESH FAST</code>子句创建物化视图。如果实例化视图违反了对子查询实例化视图的任何限制，Oracle数据库将返回错误。如果指定强制刷新，则可能不会收到任何错误，因为在请求强制刷新时，如果Oracle数据库无法执行快速刷新，则会自动执行完全刷新。
                     </p>
                     <p>您还可以使用<code class="codeph">DBMS_MVIEW</code>包中的<code class="codeph">EXPLAIN_MVIEW</code>过程来确定有关现有<code class="codeph">DBMS_MVIEW</code>化视图或尚不存在的建议<code class="codeph">DBMS_MVIEW</code>化视图的以下信息：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type:disc">
                        <li>
                           <p>物化视图的功能</p>
                        </li>
                        <li>
                           <p>是否每种能力都是可能的</p>
                        </li>
                        <li>
                           <p>如果无法提供能力，那么为什么不可能</p>
                        </li>
                     </ul>
                     <p>此信息可以存储在varray或<code class="codeph">MV_CAPABILITIES_TABLE</code> 。要在表中存储信息，在运行<code class="codeph">EXPLAIN_MVIEW</code>过程之前，必须通过在<span class="italic">Oracle_home</span> <code class="codeph">/rdbms/admin</code>目录中运行<code class="codeph">utlxmv.sql</code>脚本来构建此表。
                     </p>
                     <p>要确定实例化视图的快速刷新功能：</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>以管理用户身份连接到物化视图数据库。</span></li>
                     <li class="stepexpand"><span>执行以下操作之一：</span><div>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>使用<code class="codeph">REFRESH FAST</code>子句创建<code class="codeph">REFRESH FAST</code>化视图。
                                 </p>
                              </li>
                              <li>
                                 <p>运行<code class="codeph">DBMS_MVIEW.EXPLAIN_MVIEW</code>过程。
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </li>
                  </ol>
                  <div class="example" id="GUID-7B26829E-1389-46CF-81AD-28EA6C2F13A1__GUID-948D9D8A-A3F2-498D-9004-E94B2328453E">
                     <p class="titleinexample">示例39-7使用FAST REFRESH子句创建物化视图</p><pre class="oac_no_warn" dir="ltr">创建物化视图oe.orders快速刷新选择*来自oe.orders@orc1.example.com o EXERE EXISTS（SELECT * FROM oe.customers@orc1.example.com c WHERE o.customer_id = c.customer_id AND c.credit_limit &gt; 10000）;</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-7B26829E-1389-46CF-81AD-28EA6C2F13A1__GUID-AADBF49A-127A-4D2E-9DFB-9F992E13747F">
                     <p class="titleinexample">示例39-8确定现有物化视图的刷新功能</p>
                     <p>例如，要确定<code class="codeph">oe.orders</code>物化视图的功能，请输入：</p><pre class="oac_no_warn" dir="ltr">EXECUTE DBMS_MVIEW.EXPLAIN_MVIEW（'oe.orders'）;</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-7B26829E-1389-46CF-81AD-28EA6C2F13A1__GUID-81430702-FBD5-4280-AF17-EFD22BD2B620">
                     <p class="titleinexample">示例39-9确定尚不存在的物化视图的刷新功能</p>
                     <p>或者，如果物化视图尚不存在，那么您可以提供要用于创建它的查询：</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_MVIEW.EXPLAIN_MVIEW（'SELECT * FROM oe.orders@orc1.example.com o WHERE EXISTS（SELECT * FROM oe.customers@orc1.example.com c WHERE o.customer_id = c.customer_id AND c.credit_limit&gt; 500） “）;结束; /</pre><p>查询<code class="codeph">MV_CAPABILITIES_TABLE</code>以查看结果。
                     </p>
                  </div>
                  <!-- class="example" -->
                  <div class="section">
                     <p>查询<code class="codeph">MV_CAPABILITIES_TABLE</code>以查看结果。
                     </p>
                     <div class="infoboxnote" id="GUID-7B26829E-1389-46CF-81AD-28EA6C2F13A1__GUID-F9459232-9FC9-4B72-92FC-EA871BD6095D">
                        <p class="notep1">注意：</p>
                        <p><code class="codeph">MV_CAPABILITIES_TABLE</code>不显示依赖于预构建容器表的物化视图刷新功能。例如，在预构建容器表上执行分区维护操作后需要完全刷新，但<code class="codeph">MV_CAPABILITIES_TABLE</code>不显示此限制。
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-7B26829E-1389-46CF-81AD-28EA6C2F13A1__GUID-6846E447-7BDB-4E28-92C4-12F3A6AFE6F4">
                     <p class="notep1">也可以看看：</p>
                     <p></p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="q">“ <a href="read-only-materialized-view-concepts.html#GUID-0C401A1A-D5BC-4009-B6DD-A1C61D65F9E9" title="具有子查询的物化视图的定义查询受若干限制，以保留物化视图的快速刷新功能。">使用子查询限制物化视图</a> ”</span></p>
                        </li>
                        <li>
                           <p><span class="q">“ <a href="read-only-materialized-view-concepts.html#GUID-E479B069-EE7D-4DF5-8086-8CB558A4B62A" title="物化视图日志是数据库中包含物化视图主表的表。它将所有DML更改记录到主表。">物化视图日志</a> ”</span></p>
                        </li>
                        <li>
                           <p>有关<code class="codeph">EXPLAIN_MVIEW</code>过程的详细信息，请参阅<a href="../dwhsg/basic-materialized-views.html#DWHSG8219" target="_blank"><span class="italic">“Oracle数据库数据仓库指南”</span></a></p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="creating-and-managing-read-only-materialized-views.html#GUID-005E917F-83C4-4D16-8A61-62C2C5100B7C" title="您可以创建和管理只读的物化视图和刷新组。您还可以刷新物化视图。">创建和管理只读实体化视图</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="props_rev_3"><a id="GUID-9109BF91-5F00-4056-84D1-6D291F6BC584" name="GUID-9109BF91-5F00-4056-84D1-6D291F6BC584"></a><h3 id="ADMIN-GUID-9109BF91-5F00-4056-84D1-6D291F6BC584" class="sect3"><span class="enumeration_section">39.5</span>添加新的物化视图数据库</h3>
               <div>
                  <p>使用一个或多个物化视图数据库创建物化视图环境后，可能需要添加新的物化视图数据库。</p>
                  <div class="section">
                     <p>如果满足以下两个条件，则在尝试对在新的物化视图数据库上创建的实例化视图执行快速刷新时，可能会遇到问题：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type:disc">
                        <li>
                           <p>新物化视图数据库中的物化视图和其他物化视图数据库中的现有物化视图基于相同的主表。</p>
                        </li>
                        <li>
                           <p>在新的物化视图数据库中创建新的物化视图时，可以刷新现有的物化视图。</p>
                        </li>
                     </ul>
                     <p>在新的物化视图可以执行其第一次快速刷新之前清除主表的物化视图日志时，会出现问题。如果发生这种情况并且您尝试在新的物化视图数据库上对实例化视图执行快速刷新，则可能会遇到以下错误：</p><pre class="oac_no_warn" dir="ltr">ORA-12004 REFRESH FAST不能用于物化视图<span class="italic">materialized_view_name</span> ORA-12034物化视图登录<span class="italic">materialized_view_name</span>小于上次刷新</pre><p>如果您收到这些错误，那么唯一的解决方案是执行新物化视图的完整刷新。要避免此问题，请在创建生成物化视图之前在新的物化视图数据库中创建虚拟物化视图。虚拟物化视图可确保在创建生产物化视图时不会清除物化视图日志。</p>
                     <p>如果选择在实例化视图数据库中创建虚拟物化视图，请完成以下步骤：</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>根据主表创建一个名为<code class="codeph">dummy_mview</code>的虚拟物化视图。例如，要基于名为<code class="codeph">sales</code>的主表创建虚拟物化视图，请在新的物化视图数据库中发出以下语句：</span><div><pre class="oac_no_warn" dir="ltr">CREATE MATERIALIZED VIEW dummy_mview REFRESH FAST AS SELECT * FROM pr.sales@orc1.example.com WHERE 1 = 0;</pre></div>
                     </li>
                     <li class="stepexpand"><span>在新的物化视图数据库中创建生产物化视图。</span></li>
                     <li class="stepexpand"><span>在新的物化视图数据库中快速刷新生产物化视图。</span></li>
                     <li class="stepexpand"><span>删除虚拟物化视图。</span></li>
                  </ol>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="creating-and-managing-read-only-materialized-views.html#GUID-005E917F-83C4-4D16-8A61-62C2C5100B7C" title="您可以创建和管理只读的物化视图和刷新组。您还可以刷新物化视图。">创建和管理只读实体化视图</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="props_rev_3"><a id="GUID-F6D8436F-832E-4E5D-9A91-5B3355A9AD96" name="GUID-F6D8436F-832E-4E5D-9A91-5B3355A9AD96"></a><h3 id="ADMIN-GUID-F6D8436F-832E-4E5D-9A91-5B3355A9AD96" class="sect3"><span class="enumeration_section">39.6</span>监视物化视图日志</h3>
               <p>您可以运行查询以在主数据库中显示有关实例化视图日志的信息。</p>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="creating-and-managing-read-only-materialized-views.html#GUID-4C37A8BE-BEA8-4FED-B991-0AA3C723A145">列出有关主数据库中的物化视图日志的信息</a><br>通过物化视图日志，您可以基于主数据对物化视图执行快速刷新。主服务器可以是主表或主物化视图。
                     </li>
                     <li class="ulchildlink"><a href="creating-and-managing-read-only-materialized-views.html#GUID-B1946F26-FCC8-46DA-8665-6FD7A5CBDEAC">列出使用实体化视图日志的物化视图</a><br>多个物化视图可以使用物化视图日志。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="creating-and-managing-read-only-materialized-views.html#GUID-005E917F-83C4-4D16-8A61-62C2C5100B7C" title="您可以创建和管理只读的物化视图和刷新组。您还可以刷新物化视图。">创建和管理只读实体化视图</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="props_rev_3"><a id="GUID-4C37A8BE-BEA8-4FED-B991-0AA3C723A145" name="GUID-4C37A8BE-BEA8-4FED-B991-0AA3C723A145"></a><h4 id="ADMIN-GUID-4C37A8BE-BEA8-4FED-B991-0AA3C723A145" class="sect4"><span class="enumeration_section">39.6.1</span>列出主数据库中物化视图日志的信息</h4>
                  <div>
                     <p>通过物化视图日志，您可以基于主数据对物化视图执行快速刷新。主服务器可以是主表或主物化视图。</p>
                     <div class="section">
                        <p>如果您具有基于主服务器的物化视图日志，则可以使用本节中的查询列出以下有关它们的信息：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>存储实例化视图日志数据的每个日志表的名称</p>
                           </li>
                           <li>
                              <p>每个物化视图日志的所有者</p>
                           </li>
                           <li>
                              <p>每个物化视图日志所基于的主站</p>
                           </li>
                           <li>
                              <p>物化视图日志是否是行id物化视图日志</p>
                           </li>
                           <li>
                              <p>物化视图日志是否是主键物化视图日志</p>
                           </li>
                           <li>
                              <p>物化视图日志是否是对象id物化视图日志</p>
                           </li>
                           <li>
                              <p>物化视图日志是否具有过滤列</p>
                           </li>
                        </ul>
                        <p>要查看此信息，请完成以下步骤：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>以管理用户身份连接到master数据库。</span></li>
                        <li class="stepexpand"><span>运行以下查询：</span><div><pre class="oac_no_warn" dir="ltr">COLUMN LOG_TABLE HEADING'Log Table'FORMAT A20 COLUMN LOG_OWNER HEADING'Log | Owner'FORMAT A5 COLUMN MASTER HEADING'Master'FORMAT A15 COLUMN ROWIDS HEADING'Row | ID？'FORMAT A3 COLUMN PRIMARY_KEY HEADING'主要|关键？'FORMAT A7 COLUMN OBJECT_ID HEADING'对象| ID？'FORMAT A6 COLUMN FILTER_COLUMNS HEADING'过滤器|列？'FORMAT A8 SELECT DISTINCT LOG_TABLE，LOG_OWNER，MASTER，ROWIDS，PRIMARY_KEY，OBJECT_ID，FILTER_COLUMNS FROM DBA_MVIEW_LOGS ORDER BY 1;</pre></div>
                        </li>
                     </ol>
                     <div class="section">
                        <p>您的输出类似于以下内容：</p><pre class="oac_no_warn" dir="ltr">日志行主对象过滤器日志表所有者主标识？键？ID？列？-------------------- ----- --------------- --- ------- ------ -------- MLOG $ _COUNTRIES HR国家否是没有MLOG $ _DEPARTMENTS HR部门否是没有MLOG $ _EMPLOYEES人力资源员工否是没有MLOG $ _JOBS HR JOBS NO YES NO NO MLOG $ _JOB_HISTORY HR JOB_HISTORY NO YES NO NO MLOG $ _LOCATIONS HR LOCATIONS NO YES NO NOT MLOG $ _REGIONS HR REGIONS NO YES NO NO</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="creating-and-managing-read-only-materialized-views.html#GUID-F6D8436F-832E-4E5D-9A91-5B3355A9AD96" title="您可以运行查询以在主数据库中显示有关实例化视图日志的信息。">监视实体化视图日志</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-B1946F26-FCC8-46DA-8665-6FD7A5CBDEAC" name="GUID-B1946F26-FCC8-46DA-8665-6FD7A5CBDEAC"></a><h4 id="ADMIN-GUID-B1946F26-FCC8-46DA-8665-6FD7A5CBDEAC" class="sect4"><span class="enumeration_section">39.6.2</span>列出使用物化视图日志的物化视图</h4>
                  <div>
                     <p>多个物化视图可以使用物化视图日志。</p>
                     <div class="section">
                        <p>如果您具有基于主服务器的物化视图日志，则可以使用本节中的查询列出以下使用每个日志的物化视图：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>存储实例化视图日志数据的每个日志表的名称</p>
                           </li>
                           <li>
                              <p>每个物化视图日志的所有者</p>
                           </li>
                           <li>
                              <p>每个物化视图日志所基于的主站</p>
                           </li>
                           <li>
                              <p>使用物化视图日志的每个物化视图的物化视图标识号</p>
                           </li>
                           <li>
                              <p>使用物化视图日志的每个物化视图的名称</p>
                           </li>
                        </ul>
                        <p>要查看此信息，请完成以下步骤：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>以管理用户身份连接到master数据库。</span></li>
                        <li class="stepexpand"><span>运行以下查询：</span><div><pre class="oac_no_warn" dir="ltr">COLUMN LOG_TABLE HEADING'Mview | Log Table'FORMAT A20 COLUMN LOG_OWNER HEADING'Mview | Log Owner'FORMAT A10 COLUMN MASTER HEADING'Master'FORMAT A20 COLUMN MVIEW_ID HEADING'Mview | ID'FORMAT 9999 COLUMN NAME HEADING'Mview Name'FORMAT A20 SELECT L.LOG_TABLE，L.LOG_OWNER，B.MASTER，B.MVIEW_ID，R.NAME FROM ALL_MVIEW_LOGS L，ALL_BASE_TABLE_MVIEWS B，ALL_REGISTERED_MVIEWS R WHERE B.MVIEW_ID = R.MVIEW_ID AND B.OWNER = L.LOG_OWNER AND B.MASTER = L 。主;</pre></div>
                        </li>
                     </ol>
                     <div class="section">
                        <p>您的输出类似于以下内容：</p><pre class="oac_no_warn" dir="ltr">Mview Mview Mview日志表日志所有者主ID Mview名称-------------------- ---------- --------- ----------- ----- -------------------- MLOG $ _COUNTRIES人力资源国家21国家_MV1 MLOG $ _DEPARTMENTS HR部门22 DEPARTMENTS_MV1 MLOG $ _EMPLOYEES HR EMPLOYEES 23 EMPLOYEES_MV1 MLOG $ _JOBS HR JOBS 24 JOBS_MV1 MLOG $ _JOB_HISTORY HR JOB_HISTORY 25 JOB_HISTORY_MV1 MLOG $ _LOCATIONS HR LOCATIONS 26 LOCATIONS_MV1 MLOG $ _REGIONS HR REGATION 27 REGIONS_MV1</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="creating-and-managing-read-only-materialized-views.html#GUID-F6D8436F-832E-4E5D-9A91-5B3355A9AD96" title="您可以运行查询以在主数据库中显示有关实例化视图日志的信息。">监视实体化视图日志</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-A567993A-AAD2-4E50-B0DE-167502F7DA8C" name="GUID-A567993A-AAD2-4E50-B0DE-167502F7DA8C"></a><h3 id="ADMIN-GUID-A567993A-AAD2-4E50-B0DE-167502F7DA8C" class="sect3"><span class="enumeration_section">39.7</span>监控物化视图</h3>
               <p>您可以运行查询以显示有关实例化视图和刷新组的信息。</p>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="creating-and-managing-read-only-materialized-views.html#GUID-51AB9672-C33D-4DE4-87B2-9C99BC47051C">列出物化视图的信息</a><br>您可以运行查询以显示有关实例化视图的信息。
                     </li>
                     <li class="ulchildlink"><a href="creating-and-managing-read-only-materialized-views.html#GUID-FE8225DC-BA8B-4473-8998-BB4CA698B7A5">列出有关物化视图数据库中的刷新组的信息</a><br>物化视图数据库中的每个刷新组都与刷新作业相关联，该刷新作业以设定的间隔刷新刷新组中的物化视图。
                     </li>
                     <li class="ulchildlink"><a href="creating-and-managing-read-only-materialized-views.html#GUID-A44E8132-95C9-4857-AEBB-1E7FEE0D67A2">确定物化视图数据库中每个刷新作业的作业ID</a><br>查询<code class="codeph">DBA_REFRESH</code>和<code class="codeph">DBA_JOBS</code>视图以确定物化视图数据库中每个刷新作业的作业标识号。
                     </li>
                     <li class="ulchildlink"><a href="creating-and-managing-read-only-materialized-views.html#GUID-0ED9528D-F13E-4275-A43B-E1B5DCEFC9F7">确定当前正在刷新的物化视图</a><br>查询<code class="codeph">V$MVREFRESH</code>视图以确定当前正在刷新的物化视图。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="creating-and-managing-read-only-materialized-views.html#GUID-005E917F-83C4-4D16-8A61-62C2C5100B7C" title="您可以创建和管理只读的物化视图和刷新组。您还可以刷新物化视图。">创建和管理只读实体化视图</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="props_rev_3"><a id="GUID-51AB9672-C33D-4DE4-87B2-9C99BC47051C" name="GUID-51AB9672-C33D-4DE4-87B2-9C99BC47051C"></a><h4 id="ADMIN-GUID-51AB9672-C33D-4DE4-87B2-9C99BC47051C" class="sect4"><span class="enumeration_section">39.7.1</span>列出物化视图的信息</h4>
                  <p>您可以运行查询以显示有关实例化视图的信息。</p>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="creating-and-managing-read-only-materialized-views.html#GUID-06E8AAB5-25A3-435C-9639-521AF66E128E">列出物化视图的主数据库信息</a><br>查询<code class="codeph">DBA_MVIEWS</code>视图以列出<code class="codeph">DBA_MVIEWS</code>视图的主数据库信息。
                        </li>
                        <li class="ulchildlink"><a href="creating-and-managing-read-only-materialized-views.html#GUID-C28B5706-FB9A-479D-B0F7-CF611B676B31">列出物化视图的属性</a><br>查询<code class="codeph">DBA_MVIEWS</code>视图以列出<code class="codeph">DBA_MVIEWS</code>视图的属性。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="creating-and-managing-read-only-materialized-views.html#GUID-A567993A-AAD2-4E50-B0DE-167502F7DA8C" title="您可以运行查询以显示有关实例化视图和刷新组的信息。">监视实体化视图</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="props_rev_3"><a id="GUID-06E8AAB5-25A3-435C-9639-521AF66E128E" name="GUID-06E8AAB5-25A3-435C-9639-521AF66E128E"></a><h5 id="ADMIN-GUID-06E8AAB5-25A3-435C-9639-521AF66E128E" class="sect5"><span class="enumeration_section">39.7.1.1</span>列出物化视图的主数据库信息</h5>
                     <div>
                        <p>查询<code class="codeph">DBA_MVIEWS</code>视图以列出<code class="codeph">DBA_MVIEWS</code>视图的主数据库信息。
                        </p>
                        <div class="section">
                           <p>完成以下步骤以显示复制数据库中每个实例化视图的主数据库以及是否可以快速刷新实例化视图：</p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>以管理用户身份连接到物化视图数据库。</span></li>
                           <li class="stepexpand"><span>运行以下查询：</span><div><pre class="oac_no_warn" dir="ltr">COLUMN MVIEW_NAME HEADING'物化|查看名称'格式A15列所有者标题'所有者'格式A10列MASTER_LINK HEADING'Master Link'格式A30列Fast_Refresh HEADING'快速|可刷新？'格式A16选择MVIEW_NAME，所有者，MASTER_LINK，解码（FAST_REFRESHABLE，'不'，'不'，'DML'，'是'，'DIRLOAD'，'直接负载'，'DIRLOAD_DML'，'是'，'DIRLOAD_LIMITEDDML '，'LIMITED'）Fast_Refresh来自DBA_MVIEWS;</pre></div>
                           </li>
                        </ol>
                        <div class="section">
                           <p>您的输出类似于以下内容：</p><pre class="oac_no_warn" dir="ltr">物化快速查看名称所有者主链接可刷新？--------------- ---------- ------------------------- ----- ---------------- COUNTRIES_MV1 HR @ ORC1。EXAMPLE.COM YES DEPARTMENTS_MV1 HR @ ORC1。EXAMPLE.COM YES EMPLOYEES_MV1 HR @ ORC1。EXAMPLE.COM YES JOBS_MV1 HR @ ORC1。EXAMPLE.COM YES JOB_HISTORY_MV1 HR @ ORC1。EXAMPLE.COM YES LOCATIONS_MV1 HR @ ORC1。EXAMPLE.COM YES REGIONS_MV1 HR @ ORC1。EXAMPLE.COM是的</pre></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="creating-and-managing-read-only-materialized-views.html#GUID-51AB9672-C33D-4DE4-87B2-9C99BC47051C" title="您可以运行查询以显示有关实例化视图的信息。">列出有关物化视图的信息</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="props_rev_3"><a id="GUID-C28B5706-FB9A-479D-B0F7-CF611B676B31" name="GUID-C28B5706-FB9A-479D-B0F7-CF611B676B31"></a><h5 id="ADMIN-GUID-C28B5706-FB9A-479D-B0F7-CF611B676B31" class="sect5"><span class="enumeration_section">39.7.1.2</span>列出物化视图的属性</h5>
                     <div>
                        <p>查询<code class="codeph">DBA_MVIEWS</code>视图以列出<code class="codeph">DBA_MVIEWS</code>视图的属性。
                        </p>
                        <div class="section">
                           <p>您可以使用本节中的查询列出有关当前复制数据库中的实例化视图的以下信息：</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>每个物化视图的名称</p>
                              </li>
                              <li>
                                 <p>每个物化视图的所有者</p>
                              </li>
                              <li>
                                 <p>每个物化视图使用的刷新方法： <code class="codeph">COMPLETE</code> ， <code class="codeph">FORCE</code> ， <code class="codeph">FAST</code>或<code class="codeph">NEVER</code></p>
                              </li>
                              <li>
                                 <p>每个物化视图刷新的最后日期</p>
                              </li>
                           </ul>
                           <p>要查看此信息，请完成以下步骤：</p>
                           <ol>
                              <li>
                                 <p>以管理用户身份连接到物化视图数据库。</p>
                              </li>
                              <li>
                                 <p>运行以下查询以列出此信息：</p>
                              </li>
                           </ol>
                           <p>要查看此信息，请完成以下步骤：</p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>以管理用户身份连接到物化视图数据库。</span></li>
                           <li class="stepexpand"><span>运行以下查询：</span><div><pre class="oac_no_warn" dir="ltr">COLUMN MVIEW_NAME HEADING'物化|查看名称'格式A15列所有者标题'所有者'格式A10列REFRESH_METHOD标题'刷新|方法'格式A10列LAST_REFRESH_DATE标题'上一个|刷新|日期'列'LAST_REFRESH_TYPE标题'上一个|刷新|类型'格式A15 SELECT MVIEW_NAME，OWNER，REFRESH_METHOD，LAST_REFRESH_DATE，LAST_REFRESH_TYPE来自DBA_MVIEWS;</pre></div>
                           </li>
                        </ol>
                        <div class="section">
                           <p>您的输出类似于以下内容：</p><pre class="oac_no_warn" dir="ltr">最后一次物化刷新刷新视图名称所有者方法日期类型--------------- ---------- ---------- --- ------ --------------- COUNTRIES_MV1 HR快速21-OCT-03快速部门_MV1 HR快速21-OCT-03快速员工_MV1 HR快速21-OCT-03快速JOBS_MV1 HR快速21-OCT-03快速JOB_HISTORY_MV1 HR快速21-OCT-03快速定位_MV1 HR快速21-OCT-03快速区域_MV1 HR快速21-OCT-03快速</pre></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="creating-and-managing-read-only-materialized-views.html#GUID-51AB9672-C33D-4DE4-87B2-9C99BC47051C" title="您可以运行查询以显示有关实例化视图的信息。">列出有关物化视图的信息</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-FE8225DC-BA8B-4473-8998-BB4CA698B7A5" name="GUID-FE8225DC-BA8B-4473-8998-BB4CA698B7A5"></a><h4 id="ADMIN-GUID-FE8225DC-BA8B-4473-8998-BB4CA698B7A5" class="sect4"><span class="enumeration_section">39.7.2</span>列出物化视图数据库中的刷新组的信息</h4>
                  <div>
                     <p>物化视图数据库中的每个刷新组都与刷新作业相关联，该刷新作业以设定的间隔刷新刷新组中的物化视图。</p>
                     <div class="section">
                        <p>您可以查询<code class="codeph">DBA_REFRESH</code>数据字典视图，以在物化视图数据库中列出有关刷新作业的以下信息：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>刷新组的名称。</p>
                           </li>
                           <li>
                              <p>刷新组的所有者。</p>
                           </li>
                           <li>
                              <p>刷新作业是否已损坏。</p>
                           </li>
                           <li>
                              <p>刷新作业运行的下一个日期和时间。</p>
                           </li>
                           <li>
                              <p>刷新作业的当前间隔设置。间隔设置指定作业开始和同一作业的下一次启动之间的时间量。</p>
                           </li>
                        </ul>
                        <p>要查看此信息，请完成以下步骤：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>以管理用户身份连接到物化视图数据库。</span></li>
                        <li class="stepexpand"><span>运行以下查询：</span><div><pre class="oac_no_warn" dir="ltr">COLUMN RNAME HEADING'刷新|组|名称'格式A10列ROWNER HEADING'刷新|组|所有者'格式A10列爆破标题'破碎？'FORMAT A7 COLUMN next_refresh HEADING'下一次刷新'COLUMN INTERVAL HEADING'间隔'格式A20选择RNAME，ROWNER，BROKEN，TO_CHAR（NEXT_DATE，'DD-MON-YYYY HH：MI：SS AM'）next_refresh，INTERVAL FROM DBA_REFRESH ORDER BY 1;</pre></div>
                        </li>
                     </ol>
                     <div class="section">
                        <p>您的输出类似于以下内容：</p><pre class="oac_no_warn" dir="ltr">刷新刷新组组名称所有者已损坏？下一个刷新间隔---------- ---------- ------- -------------------- --- -------------------- HR_REFG MVIEWADMIN N 24-OCT-2003 07:18:44 AM SYSDATE + 1/24</pre><p><code class="codeph">Broken?</code>的<code class="codeph">N</code> <code class="codeph">Broken?</code> 列意味着作业没有被破坏。因此，刷新作业将在下一个开始时间运行。此列中的<code class="codeph">Y</code>表示作业已损坏。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="creating-and-managing-read-only-materialized-views.html#GUID-A567993A-AAD2-4E50-B0DE-167502F7DA8C" title="您可以运行查询以显示有关实例化视图和刷新组的信息。">监视实体化视图</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-A44E8132-95C9-4857-AEBB-1E7FEE0D67A2" name="GUID-A44E8132-95C9-4857-AEBB-1E7FEE0D67A2"></a><h4 id="ADMIN-GUID-A44E8132-95C9-4857-AEBB-1E7FEE0D67A2" class="sect4"><span class="enumeration_section">39.7.3</span>确定物化视图数据库中每个刷新作业的作业ID</h4>
                  <div>
                     <p>查询<code class="codeph">DBA_REFRESH</code>和<code class="codeph">DBA_JOBS</code>视图以确定物化视图数据库中每个刷新作业的作业标识号。
                     </p>
                     <div class="section">
                        <p>您可以运行查询以在物化视图数据库中列出有关刷新作业的以下信息：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>每个刷新作业的作业标识号。Oracle Scheduler创建的每个作业都分配有唯一的标识号。</p>
                           </li>
                           <li>
                              <p>权限模式，其默认权限适用于作业的模式。</p>
                           </li>
                           <li>
                              <p>拥有每个刷新作业的架构。</p>
                           </li>
                           <li>
                              <p>作业刷新的刷新组的名称。</p>
                           </li>
                           <li>
                              <p>刷新作业的状态，正常或已损坏。</p>
                           </li>
                        </ul>
                        <p>要查看此信息，请完成以下步骤：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>以管理用户身份连接到物化视图数据库。</span></li>
                        <li class="stepexpand"><span>运行以下查询：</span><div><pre class="oac_no_warn" dir="ltr">COLUMN JOB HEADING'Job ID'格式999999 COLUMN PRIV_USER HEADING'特权|架构'格式A10栏目RNAME标题'刷新|组|名称'格式A10栏目ROWNER HEADING'刷新|组|所有者'格式A10栏目破碎标题'破碎？'格式A7选择J.JOB，J.PRIV_USER，R.ROWNER，R.RNAME，J.BROKEN来自DBA_REFRESH R，DBA_JOBS J WHERE R.JOB = J.JOB ORDER BY 1;</pre></div>
                        </li>
                     </ol>
                     <div class="section">
                        <p>您的输出类似于以下内容：</p><pre class="oac_no_warn" dir="ltr">刷新刷新权限组组作业ID架构所有者名称是否已损坏？------- ---------- ---------- ---------- ------- 21 MVIEWADMIN MVIEWADMIN HR_REFG N</pre><p><code class="codeph">Broken?</code>的<code class="codeph">N</code> <code class="codeph">Broken?</code> 列意味着作业没有被破坏。因此，作业将在下一个开始时间运行。此列中的<code class="codeph">Y</code>表示作业已损坏。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="creating-and-managing-read-only-materialized-views.html#GUID-A567993A-AAD2-4E50-B0DE-167502F7DA8C" title="您可以运行查询以显示有关实例化视图和刷新组的信息。">监视实体化视图</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-0ED9528D-F13E-4275-A43B-E1B5DCEFC9F7" name="GUID-0ED9528D-F13E-4275-A43B-E1B5DCEFC9F7"></a><h4 id="ADMIN-GUID-0ED9528D-F13E-4275-A43B-E1B5DCEFC9F7" class="sect4"><span class="enumeration_section">39.7.4</span>确定当前正在刷新的物化视图</h4>
                  <div>
                     <p>查询<code class="codeph">V$MVREFRESH</code>视图以确定当前正在刷新的物化视图。
                     </p>
                     <div class="section">
                        <p>完成以下步骤以显示当前正在刷新的实例化视图：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>以管理用户身份连接到物化视图数据库。</span></li>
                        <li class="stepexpand"><span>运行以下查询：</span><div><pre class="oac_no_warn" dir="ltr">COLUMN SID HEADING'会话|标识符'格式9999列串行#HEADING'序列号|编号'格式999999列CURRMVOWNER标题'所有者'格式A15列CURRMVNAME标题'物化|查看'格式A25选择*来自V $ MVREFRESH;</pre></div>
                        </li>
                     </ol>
                     <div class="section">
                        <p>您的输出类似于以下内容：</p><pre class="oac_no_warn" dir="ltr">会话序列物化标识号编号所有者视图---------- ------- --------------- ----------- -------------- 19 233 HR COUNTRIES_MV 5 647 HR EMPLOYEES_MV</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="creating-and-managing-read-only-materialized-views.html#GUID-A567993A-AAD2-4E50-B0DE-167502F7DA8C" title="您可以运行查询以显示有关实例化视图和刷新组的信息。">监视实体化视图</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
         </div>
      </article>
   </body>
</html>