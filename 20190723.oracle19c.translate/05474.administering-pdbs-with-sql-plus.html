<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="Administering PDBs includes tasks such as connecting to a PDB, modifying a PDB, and managing services associated with PDBs."></meta>
      <meta name="description" content="Administering PDBs includes tasks such as connecting to a PDB, modifying a PDB, and managing services associated with PDBs."></meta>
      <title>管理PDB</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Administrator’s Guide "></meta>
      <meta property="og:description" content="Administering PDBs includes tasks such as connecting to a PDB, modifying a PDB, and managing services associated with PDBs."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Administrator’s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="multitenant-administrators-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-03-20T09:59:22-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2017, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96136-03"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="administering-cdb-fleet.html" title="Previous" type="text/html"></link>
      <link rel="next" href="administering-pdb-snapshots.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Multitenant Administrator&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="MULTI"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="administering-cdb-fleet.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="administering-pdb-snapshots.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">管理员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="managing-a-multitenant-environment.html" property="item" typeof="WebPage"><span property="name">管理多租户环境</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">管理PDB</li>
            </ol>
            <a id="GUID-702231AB-ABDA-42F4-918C-4539BF8135D6" name="GUID-702231AB-ABDA-42F4-918C-4539BF8135D6"></a><a id="ADMIN13663"></a>
            
            <h2 id="MULTI-GUID-702231AB-ABDA-42F4-918C-4539BF8135D6" class="sect2"><span class="enumeration_chapter">15</span>管理PDB</h2>
         </header>
         <div class="ind">
            <div>
               <p>管理PDB包括诸如连接到PDB，修改PDB以及管理与PDB相关联的服务之类的任务。</p>
               <p>本章包含以下主题：</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="administering-pdbs-with-sql-plus.html#GUID-426C14AC-7628-4934-9C9E-0ECAEBCBF93C">关于PDB管理</a><br>管理可插拔数据库（PDB）涉及管理非CDB所需的子任务。</li>
                  <li class="ulchildlink"><a href="administering-pdbs-with-sql-plus.html#GUID-245289C5-75BC-4CD9-861F-FEAAA42064AC">管理与PDB的连接</a><br>您可以采用与非CDB相同的方式管理PDB的连接，但需要特别注意。
                  </li>
                  <li class="ulchildlink"><a href="administering-pdbs-with-sql-plus.html#GUID-3AAA613B-C52C-4080-B0C3-7212859E3A2F">在系统级别修改PDB</a><br>您可以使用<code class="codeph">ALTER SYSTEM</code>语句来修改PDB。</li>
                  <li class="ulchildlink"><a href="administering-pdbs-with-sql-plus.html#GUID-0200CF6A-8822-4347-9410-4435FDB47745">在数据库级别修改PDB</a><br>您可以使用<code class="codeph">ALTER PLUGGABLE DATABASE</code>语句修改PDB。
                  </li>
                  <li class="ulchildlink"><a href="administering-pdbs-with-sql-plus.html#GUID-94AD2899-CDC1-446E-9C8B-46497BEA4A18">启动和关闭PDB</a><br>当前容器是PDB时，可以使用SQL * Plus <code class="codeph">STARTUP</code>命令打开PDB，使用SQL * Plus <code class="codeph">SHUTDOWN</code>命令关闭PDB。</li>
               </ul>
               <div class="relinfo">
                  <p><strong>相关话题</strong></p>
                  <ul>
                     <li><a href="overview-of-managing-a-multitenant-environment.html#GUID-C1EEE559-3E2B-42A4-B0A0-94C82769ECCB" title="您可以使用各种工具来配置和管理多租户环境。">多租户环境的工具</a></li>
                  </ul>
               </div>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>父主题：</strong> <a href="managing-a-multitenant-environment.html#GUID-93F1E584-D309-4301-82E0-AD0E60D4977C" title="您可以使用SQL * Plus或企业管理器云控制（云控制）管理多租户环境。">管理多租户环境</a></p>
                  </div>
               </div>
            </div>
            <a id="ADMIN13860"></a><a id="ADMIN13859"></a><div class="props_rev_3"><a id="GUID-426C14AC-7628-4934-9C9E-0ECAEBCBF93C" name="GUID-426C14AC-7628-4934-9C9E-0ECAEBCBF93C"></a><h3 id="MULTI-GUID-426C14AC-7628-4934-9C9E-0ECAEBCBF93C" class="sect3"><span class="enumeration_section">15.1</span>关于PDB管理</h3>
               <div>
                  <p>管理可插拔数据库（PDB）涉及管理非CDB所需的子任务。</p>
                  <p>在这个任务子集中，大多数对于PDB和非CDB都是相同的，但存在差异。例如，修改PDB的打开模式时存在差异。此外，PDB管理员仅限于管理单个PDB，并且无法管理多租户容器数据库（CDB）中的其他PDB。</p>
                  <p>本节包含以下主题：</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="administering-pdbs-with-sql-plus.html#GUID-CCED11E2-6B63-4163-B748-E34FB171EC20">PDB和非CDB共有的任务</a><br>对于PDB和非CDB，大多数管理任务都是相同的。</li>
                     <li class="ulchildlink"><a href="administering-pdbs-with-sql-plus.html#GUID-ADC8A5DB-F6FF-4CBC-AE6F-6F937593AD5D">CDB特有的任务</a><br>当前容器是PDB时，无法执行某些管理任务。</li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-426C14AC-7628-4934-9C9E-0ECAEBCBF93C__GUID-80983D2D-EBDD-48D3-AF90-AC8040979791">
                     <p class="notep1">也可以看看：</p>
                     <p> <span class="q">“ <a href="administering-pdbs-with-sql-plus.html#GUID-0200CF6A-8822-4347-9410-4435FDB47745" title="您可以使用ALTER PLUGGABLE DATABASE语句修改PDB。">在数据库级别修改PDB</a> ”</span>以获取有关更改当前PDB的打开模式的更多信息</p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="administering-pdbs-with-sql-plus.html#GUID-702231AB-ABDA-42F4-918C-4539BF8135D6" title="管理PDB包括诸如连接到PDB，修改PDB以及管理与PDB相关联的服务之类的任务。">管理PDB</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="sect3"><a id="GUID-CCED11E2-6B63-4163-B748-E34FB171EC20" name="GUID-CCED11E2-6B63-4163-B748-E34FB171EC20"></a><h4 id="MULTI-GUID-CCED11E2-6B63-4163-B748-E34FB171EC20" class="sect4"><span class="enumeration_section">15.1.1</span> PDB和非CDB <span class="enumeration_section">共有的</span>任务</h4>
                  <div>
                     <p>对于PDB和非CDB，大多数管理任务都是相同的。</p>
                     <p>在管理PDB时，可以使用<code class="codeph">ALTER DATABASE</code> ， <code class="codeph">ALTER PLUGGABLE DATABASE</code>或<code class="codeph">ALTER SYSTEM</code>语句修改PDB。您还可以在PDB上执行DDL语句。下表描述了PDB和非CDB共有的一些任务。</p>
                     <div class="tblformalwide" id="GUID-CCED11E2-6B63-4163-B748-E34FB171EC20__BAJJFJIE">
                        <p class="titleintable">表15-1 PDB和非CDB共有的管理任务</p>
                        <table cellpadding="4" cellspacing="0" class="FormalWide" title="PDB和非CDB共同的管理任务" width="100%" border="1" summary="This table describes each common task and provides cross references to more information about each common task." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="34%" id="d71685e358">任务</th>
                                 <th align="left" valign="bottom" width="33%" id="d71685e361">描述</th>
                                 <th align="left" valign="bottom" width="33%" id="d71685e364">附加信息</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="34%" id="d71685e369" headers="d71685e358 ">
                                    <p>管理表空间</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d71685e369 d71685e361 ">
                                    <p>您可以为PDB创建，修改和删除表空间。您可以为每个PDB指定默认表空间和默认表空间类型。此外，每个PDB都有一个默认的临时表空间。您可以选择创建其他临时表空间供各个PDB使用。</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d71685e369 d71685e364 ">
                                    <p><span class="q">“ <a href="administering-pdbs-with-sql-plus.html#GUID-0200CF6A-8822-4347-9410-4435FDB47745" title="您可以使用ALTER PLUGGABLE DATABASE语句修改PDB。">在数据库级修改PDB</a> ”</span></p>
                                    <p>有关管理表空间的信息，请参见<a href="../admin/managing-tablespaces.html#ADMIN-GUID-1C162C60-6698-44F2-B2A9-F3E2D2958D88" target="_blank"><span><cite>“Oracle数据库管理员指南”</cite></span></a></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="34%" id="d71685e395" headers="d71685e358 ">
                                    <p>管理数据文件和临时文件</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d71685e395 d71685e361 ">
                                    <p>每个PDB都有自己的数据文件。您可以像管理非CDB一样管理数据文件和临时文件。您还可以使用<code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code>或<code class="codeph">ALTER</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code>语句中的<code class="codeph">STORAGE</code>子句限制PDB的数据文件使用的<code class="codeph">STORAGE</code> 。
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d71685e395 d71685e364 ">
                                    <p><span class="q">“ <a href="administering-pdbs-with-sql-plus.html#GUID-0200CF6A-8822-4347-9410-4435FDB47745" title="您可以使用ALTER PLUGGABLE DATABASE语句修改PDB。">在数据库级修改PDB</a> ”</span></p>
                                    <p>有关管理数据文件和临时文件的信息，请参见<a href="../admin/managing-data-files-and-temp-files.html#ADMIN-GUID-501A8889-3C18-4F99-B0B7-9095E981B970" target="_blank"><span><cite>“Oracle数据库管理员指南”</cite></span></a></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="34%" id="d71685e442" headers="d71685e358 ">
                                    <p>管理模式对象</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d71685e442 d71685e361 ">
                                    <p>您可以使用与非CDB中相同的方式在PDB中创建，修改和删除模式对象。您还可以创建触发特定PDB的触发器。</p>
                                    <p>在CDB中管理数据库链接时，根具有唯一的全局数据库名称，每个PDB也是如此。根的全局名称由<code class="codeph">DB_NAME</code>和<code class="codeph">DB_DOMAIN</code>初始化参数定义。PDB的全局数据库名称由PDB名称和<code class="codeph">DB_DOMAIN</code>初始化参数定义。每个PDB的全局数据库名称在域中必须是唯一的。
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d71685e442 d71685e364 ">
                                    <p>有关架构对象的更多信息，请参见<a href="../admin/schema-objects.html#ADMIN-GUID-2DA8C61C-58B0-4892-8E5D-E7A9120BC120" target="_blank"><span><cite>“Oracle数据库管理员指南”</cite></span></a></p><a href="../admin/managing-a-distributed-database.html#ADMIN-GUID-B5950167-35F8-4C88-B063-382E0290CB53" target="_blank"><span><cite>Oracle数据库管理员指南</cite></span></a><p>有关在CDB中创建触发器的信息，请参阅<a href="../lnpls/CREATE-TRIGGER-statement.html#LNPLS01374" target="_blank"><span><cite>Oracle Database PL / SQL语言参考</cite></span></a></p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="administering-pdbs-with-sql-plus.html#GUID-426C14AC-7628-4934-9C9E-0ECAEBCBF93C" title="管理可插拔数据库（PDB）涉及管理非CDB所需的子任务。">关于PDB管理</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-ADC8A5DB-F6FF-4CBC-AE6F-6F937593AD5D" name="GUID-ADC8A5DB-F6FF-4CBC-AE6F-6F937593AD5D"></a><h4 id="MULTI-GUID-ADC8A5DB-F6FF-4CBC-AE6F-6F937593AD5D" class="sect4"><span class="enumeration_section">15.1.2</span> CDB特有的任务</h4>
                  <div>
                     <p>当前容器是PDB时，无法执行某些管理任务。</p>
                     <p>当前容器是根时，由普通用户为整个CDB或CDB根执行以下任务：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>启动并关闭CDB实例</p>
                        </li>
                        <li>
                           <p>使用<code class="codeph">ALTER DATABASE</code>语句修改CDB或根</p>
                        </li>
                        <li>
                           <p>使用<code class="codeph">ALTER SYSTEM</code>语句修改CDB或根</p>
                        </li>
                        <li>
                           <p>在CDB或根上执行数据定义语言（DDL）语句</p>
                        </li>
                        <li>
                           <p>管理以下组件：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>流程</p>
                              </li>
                              <li>
                                 <p>记忆</p>
                              </li>
                              <li>
                                 <p>错误和警报</p>
                              </li>
                              <li>
                                 <p>诊断数据</p>
                              </li>
                              <li>
                                 <p>控制文件</p>
                              </li>
                              <li>
                                 <p>联机重做日志和归档重做日志文件</p>
                              </li>
                              <li>
                                 <p>解开</p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p>创建，插入，拔出和删除PDB</p>
                        </li>
                     </ul>
                     <p>当前容器为root的普通用户也可以更改一个或多个PDB的打开模式。类似地，当前容器是PDB的公共用户或本地用户可以改变当前PDB的打开模式。</p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-ADC8A5DB-F6FF-4CBC-AE6F-6F937593AD5D__GUID-1E958C80-2B5F-4B35-9D16-185DF567A6F2">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="administering-a-cdb-with-sql-plus.html#GUID-E1BBCE0F-76CA-49F3-9A6B-AC6B13AB9AC5" title="CDB中每个容器中的数据字典是独立的，当前容器是其数据字典用于名称解析和权限授权的容器。">关于当前的容器</a> ”</span></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="administering-a-cdb-with-sql-plus.html#GUID-2E5025EE-BED3-45A4-9EAA-B05C8DA66F97" title="管理多租户容器数据库（CDB）包括访问容器，修改CDB，执行DDL语句以及运行Oracle提供的SQL脚本等任务。">管理CDB</a> ”</span>以获取有关此任务以及与管理CDB或根相关的其他任务的更多信息</p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="administering-pdbs-with-sql-plus.html#GUID-426C14AC-7628-4934-9C9E-0ECAEBCBF93C" title="管理可插拔数据库（PDB）涉及管理非CDB所需的子任务。">关于PDB管理</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
            <div class="sect2"><a id="GUID-245289C5-75BC-4CD9-861F-FEAAA42064AC" name="GUID-245289C5-75BC-4CD9-861F-FEAAA42064AC"></a><h3 id="MULTI-GUID-245289C5-75BC-4CD9-861F-FEAAA42064AC" class="sect3"><span class="enumeration_section">15.2</span>管理与PDB的连接</h3>
               <div>
                  <p>您可以采用与非CDB相同的方式管理PDB的连接，但需要特别注意。</p>
                  <p>本节包含以下主题：</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="administering-pdbs-with-sql-plus.html#GUID-EA62913A-8033-4D76-8835-055FB3076D09">连接到PDB</a><br>您可以使用多种技术通过SQL * Plus <code class="codeph">CONNECT</code>命令连接到PDB。
                     </li>
                     <li class="ulchildlink"><a href="administering-pdbs-with-sql-plus.html#GUID-6FDBCEFC-29DF-4CBB-A000-B105A7328955">管理PDB服务</a><br>您可以为PDB创建，修改或删除服务。</li>
                     <li class="ulchildlink"><a href="administering-pdbs-with-sql-plus.html#GUID-2AE424AE-D534-4E98-A17C-D50E6051D2F8">修改引用的PDB的监听器设置</a><br>由代理PDB引用的PDB称为引用的PDB。</li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="administering-pdbs-with-sql-plus.html#GUID-702231AB-ABDA-42F4-918C-4539BF8135D6" title="管理PDB包括诸如连接到PDB，修改PDB以及管理与PDB相关联的服务之类的任务。">管理PDB</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN13862"></a><a id="ADMIN13861"></a><div class="props_rev_3"><a id="GUID-EA62913A-8033-4D76-8835-055FB3076D09" name="GUID-EA62913A-8033-4D76-8835-055FB3076D09"></a><h4 id="MULTI-GUID-EA62913A-8033-4D76-8835-055FB3076D09" class="sect4"><span class="enumeration_section">15.2.1</span>连接到PDB</h4>
                  <div>
                     <p>您可以使用多种技术通过SQL * Plus <code class="codeph">CONNECT</code>命令连接到PDB。
                     </p>
                     <div class="section">
                        <p>本节假定您了解如何连接到SQL * Plus中的非CDB。</p>
                        <p>您可以使用以下技术通过SQL * Plus <code class="codeph">CONNECT</code>命令连接到PDB：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>与操作系统身份验证的本地连接</p>
                           </li>
                           <li>
                              <p>数据库连接使用简单连接</p>
                           </li>
                           <li>
                              <p>使用网络服务名称的数据库连接</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-EA62913A-8033-4D76-8835-055FB3076D09__GUID-5D94F55B-4316-4C67-9466-BF0015E83B5D">先决条件</p>
                        <p>必须满足以下先决条件：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>必须在PDB中为连接到PDB的用户授予<code class="codeph">CREATE SESSION</code>权限。</p>
                           </li>
                           <li>
                              <p>要以没有<code class="codeph">SYSDBA</code> ， <code class="codeph">SYSOPER</code> ， <code class="codeph">SYSBACKUP</code>或<code class="codeph">SYSDG</code>管理权限的用户身份连接到PDB，必须打开PDB。
                              </p>
                           </li>
                        </ul>
                        <div class="infoboxnote" id="GUID-EA62913A-8033-4D76-8835-055FB3076D09__GUID-F21F095C-6F2C-46FE-8668-E2E4B4882D5A">
                           <p class="notep1">注意：</p>
                           <p>本节假定用户使用本地用户帐户连接到PDB。您也可以作为普通用户连接到PDB，并且可以作为普通用户连接到root并切换到PDB。</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-EA62913A-8033-4D76-8835-055FB3076D09__GUID-406DD806-F655-4A15-A8A2-5C57A442426F">要使用SQL * Plus CONNECT命令连接到PDB：</p>
                        <ol>
                           <li>
                              <p>配置您的环境，以便您可以打开SQL * Plus。</p>
                           </li>
                           <li>
                              <p>使用<code class="codeph">/NOLOG</code>参数启动SQL * Plus：</p><pre class="pre codeblock"><code>sqlplus / nolog</code></pre></li>
                           <li>
                              <p>使用简易连接或网络服务名称发出<code class="codeph">CONNECT</code>命令以连接到PDB。</p>
                              <p>要连接到PDB，请连接到具有<code class="codeph">PDB</code>属性的服务。
                              </p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-EA62913A-8033-4D76-8835-055FB3076D09__GUID-FB77A26F-2DC5-4329-B41F-5939C44D2089">
                        <p class="titleinexample">示例15-1使用PDB的网络服务名称连接到SQL * Plus中的PDB</p>
                        <p>以下命令使用<code class="codeph">hrapp</code>服务连接到<code class="codeph">hr</code>用户。<code class="codeph">hrapp</code>服务具有<code class="codeph">hrpdb</code> PDB的<code class="codeph">PDB</code>属性。此示例假定客户端配置为具有<code class="codeph">hrapp</code>服务的网络服务名称。
                        </p><pre class="pre codeblock"><code>CONNECT hr @ hrapp</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-EA62913A-8033-4D76-8835-055FB3076D09__GUID-C52AA647-40B6-46CF-A9C0-229147ACC5A0">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="administering-a-cdb-with-sql-plus.html#GUID-322C5C03-4C48-40CD-8230-0BA5F16BF96B" title="您可以使用ALTER PLUGGABLE DATABASE SQL语句或SQL * Plus STARTUP命令修改PDB的打开模式。">修改一个或多个PDB的开放模式</a> ”</span>和<span class="q">“ <a href="administering-pdbs-with-sql-plus.html#GUID-0200CF6A-8822-4347-9410-4435FDB47745" title="您可以使用ALTER PLUGGABLE DATABASE语句修改PDB。">在数据库级别修改PDB</a> ”，</span>以获取有关更改PDB的开放模式的信息。</p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="administering-a-cdb-with-sql-plus.html#GUID-D75CAF12-1073-40DB-B096-51B63E4C01E3" title="您可以使用SQL * Plus访问CDB中的根或PDB。">关于CDB中的容器访问</a> ”，</span>以获取有关以普通用户身份连接到PDB的信息</p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="administering-pdbs-with-sql-plus.html#GUID-6FDBCEFC-29DF-4CBB-A000-B105A7328955" title="您可以为PDB创建，修改或删除服务。">管理PDB服务</a> ”</span></p>
                           </li>
                           <li>
                              <p>有关使用SQL * Plus连接数据库的信息，请参见<a href="../admin/getting-started-with-database-administration.html#ADMIN-GUID-895EC72B-C620-4D93-9F23-3F6DC1706764" target="_blank"><span><cite>“Oracle数据库管理员指南”</cite></span></a></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="administering-pdbs-with-sql-plus.html#GUID-245289C5-75BC-4CD9-861F-FEAAA42064AC" title="您可以采用与非CDB相同的方式管理PDB的连接，但需要特别注意。">管理与PDB的连接</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN13973"></a><div class="props_rev_3"><a id="GUID-6FDBCEFC-29DF-4CBB-A000-B105A7328955" name="GUID-6FDBCEFC-29DF-4CBB-A000-B105A7328955"></a><h4 id="MULTI-GUID-6FDBCEFC-29DF-4CBB-A000-B105A7328955" class="sect4"><span class="enumeration_section">15.2.2</span>管理PDB服务</h4>
                  <div>
                     <p>您可以为PDB创建，修改或删除服务。</p>
                     <p>本节包含以下主题：</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="administering-pdbs-with-sql-plus.html#GUID-70D5B1C3-06C3-4BD9-B777-8BFAD62CC2E0">关于PDB服务</a><br>每个PDB都有一个默认服务，但您可以使用SRVCTL或<code class="codeph">DBMS_SERVICE</code>创建自己的<code class="codeph">DBMS_SERVICE</code> 。</li>
                        <li class="ulchildlink"><a href="administering-pdbs-with-sql-plus.html#GUID-D8667A99-F941-4C77-811B-1735241BA744">使用SRVCTL和DBMS_SERVICE管理PDB的服务</a><br>您可以使用<code class="codeph">PDB</code>属性创建，修改或删除服务。
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-6FDBCEFC-29DF-4CBB-A000-B105A7328955__GUID-AC192D48-6AC4-46DD-A835-A3DD1BAC9325">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="../admin/creating-and-configuring-an-oracle-database.html#ADMIN-GUID-1739D947-9967-4A40-8CE6-6EA7F46D4D9F" target="_blank"><span><cite>Oracle数据库管理员指南</cite></span></a></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="administering-pdbs-with-sql-plus.html#GUID-245289C5-75BC-4CD9-861F-FEAAA42064AC" title="您可以采用与非CDB相同的方式管理PDB的连接，但需要特别注意。">管理与PDB的连接</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADMIN13974"></a><div class="props_rev_3"><a id="GUID-70D5B1C3-06C3-4BD9-B777-8BFAD62CC2E0" name="GUID-70D5B1C3-06C3-4BD9-B777-8BFAD62CC2E0"></a><h5 id="MULTI-GUID-70D5B1C3-06C3-4BD9-B777-8BFAD62CC2E0" class="sect5"><span class="enumeration_section">15.2.2.1</span>关于PDB的服务</h5>
                     <div>
                        <p>每个PDB都有一个默认服务，但您可以使用SRVCTL或<code class="codeph">DBMS_SERVICE</code>创建自己的<code class="codeph">DBMS_SERVICE</code> 。</p>
                        <p>本节包含以下主题：</p>
                     </div>
                     <div>
                        <ul class="ullinks">
                           <li class="ulchildlink"><a href="administering-pdbs-with-sql-plus.html#GUID-F5F28252-16E1-49EB-A217-170A1A32D8B8">PDB财产</a><br><code class="codeph">PDB</code>属性将服务与PDB相关联。当客户端连接到具有<code class="codeph">PDB</code>属性的服务时，连接的当前容器是PDB。</li>
                           <li class="ulchildlink"><a href="administering-pdbs-with-sql-plus.html#GUID-5A2471BC-8501-4E38-BD28-7EE182F3B3A7">默认和用户定义的服务</a><br>创建PDB会自动为PDB创建新的默认服务。
                           </li>
                           <li class="ulchildlink"><a href="administering-pdbs-with-sql-plus.html#GUID-3908A23A-629F-4118-BAE3-937D1BE8E568">管理服务的工具</a><br>Oracle建议使用SRVCTL实用程序来创建和修改服务。或者，您可以使用<code class="codeph">DBMS_SERVICE</code>包。
                           </li>
                        </ul>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="administering-pdbs-with-sql-plus.html#GUID-6FDBCEFC-29DF-4CBB-A000-B105A7328955" title="您可以为PDB创建，修改或删除服务。">管理PDB服务</a></p>
                           </div>
                        </div>
                     </div>
                     
                     <div class="sect5"><a id="GUID-F5F28252-16E1-49EB-A217-170A1A32D8B8" name="GUID-F5F28252-16E1-49EB-A217-170A1A32D8B8"></a><h6 id="MULTI-GUID-F5F28252-16E1-49EB-A217-170A1A32D8B8" class="sect6"><span class="enumeration_section">15.2.2.1.1</span> PDB财产</h6>
                        <div>
                           <p><code class="codeph">PDB</code>属性将服务与PDB相关联。当客户端连接到具有<code class="codeph">PDB</code>属性的服务时，连接的当前容器是PDB。</p>
                           <p>只有在执行以下任一操作时才需要<code class="codeph">PDB</code>属性：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>创建服务</p>
                              </li>
                              <li>
                                 <p>修改服务的<code class="codeph">PDB</code>属性</p>
                              </li>
                           </ul>
                           <p>启动，停止或删除服务时，不指定<code class="codeph">PDB</code>属性。此外，您不需要指定<code class="codeph">PDB</code> ，当你修改服务，而无需修改其属性<code class="codeph">PDB</code>财产。
                           </p>
                           <p>您可以通过查询<code class="codeph">ALL_SERVICES</code>数据字典视图来查看服务的<code class="codeph">PDB</code>属性。或者，使用SRVCTL实用程序时，可以使用<code class="codeph">srvctl config service</code>命令。
                           </p>
                        </div>
                        <div>
                           <div class="infoboxnotealso" id="GUID-F5F28252-16E1-49EB-A217-170A1A32D8B8__GUID-BBC75B48-9DA3-47B8-8E51-C9E1A2AA98D8">
                              <p class="notep1">也可以看看：</p>
                              <p><span class="q">“ <a href="administering-a-cdb-with-sql-plus.html#GUID-E1BBCE0F-76CA-49F3-9A6B-AC6B13AB9AC5" title="CDB中每个容器中的数据字典是独立的，当前容器是其数据字典用于名称解析和权限授权的容器。">关于当前的容器</a> ”</span></p>
                           </div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="administering-pdbs-with-sql-plus.html#GUID-70D5B1C3-06C3-4BD9-B777-8BFAD62CC2E0" title="每个PDB都有一个默认服务，但您可以使用SRVCTL或DBMS_SERVICE创建自己的服务。">关于PDB的服务</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                     <div class="sect5"><a id="GUID-5A2471BC-8501-4E38-BD28-7EE182F3B3A7" name="GUID-5A2471BC-8501-4E38-BD28-7EE182F3B3A7"></a><h6 id="MULTI-GUID-5A2471BC-8501-4E38-BD28-7EE182F3B3A7" class="sect6"><span class="enumeration_section">15.2.2.1.2</span>默认和用户定义的服务</h6>
                        <div>
                           <p>创建PDB会自动为PDB创建新的默认服务。</p>
                           <p>每个数据库服务名称在CDB中必须是唯一的，并且每个数据库服务名称在通过特定侦听器到达其实例的所有CDB的范围内必须是唯一的。默认服务与PDB具有相同的名称。您无法管理此服务，您只应将其用于管理任务。</p>
                           <p>始终为应用程序使用用户定义的服务。原因是您可以自定义用户定义的服务以满足应用程序的要求。Oracle建议您不要将默认的PDB服务用于应用程序。</p>
                           <div class="infoboxnote" id="GUID-5A2471BC-8501-4E38-BD28-7EE182F3B3A7__GUID-87AC0207-31B1-4DCE-8893-BADAE4BD7C8F">
                              <p class="notep1">注意：</p>
                              <p>不要将服务与代理PDB关联。</p>
                           </div>
                           <p>在Oracle Clusterware环境中，必须为为PDB创建的每个服务创建Oracle Clusterware资源。当您的数据库由Oracle Restart或Oracle Clusterware管理时，以及当您使用SRVCTL实用程序为已关闭的PDB启动具有PDB属性的服务时，PDB将在读取/写入模式下在服务的节点上打开开始了。但是，停止PDB服务不会更改PDB的打开模式。</p>
                           <p>拔下或拔出PDB时，不会自动删除未插入或丢弃的PDB的服务。您可以手动删除这些服务。</p>
                        </div>
                        <div>
                           <div class="infoboxnotealso" id="GUID-5A2471BC-8501-4E38-BD28-7EE182F3B3A7__GUID-0CA16390-D22B-4AAC-8537-5FEF0C2F8250">
                              <p class="notep1">也可以看看：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><span class="q">“ <a href="administering-pdbs-with-sql-plus.html#GUID-E73BCAED-FF57-474A-A8C5-207D3F465413" title="要修改单个PDB的属性，请使用ALTER PLUGGABLE DATABASE语句。">使用ALTER PLUGGABLE DATABASE语句修改PDB</a> ”</span>以获取有关更改PDB的打开模式的信息</p>
                                 </li>
                                 <li>
                                    <p><span class="q">“ <a href="administering-application-containers-with-sql-plus.html#GUID-B96087B5-678C-4781-9464-42FC468B1FCC" title="当多个应用程序容器运行相同的应用程序时，应用程序容器中的应用程序可以使用代理PDB保持同步。">创建引用应用程序根副本的代理PDB</a> ”</span></p>
                                 </li>
                              </ul>
                           </div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="administering-pdbs-with-sql-plus.html#GUID-70D5B1C3-06C3-4BD9-B777-8BFAD62CC2E0" title="每个PDB都有一个默认服务，但您可以使用SRVCTL或DBMS_SERVICE创建自己的服务。">关于PDB的服务</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                     <div class="sect5"><a id="GUID-3908A23A-629F-4118-BAE3-937D1BE8E568" name="GUID-3908A23A-629F-4118-BAE3-937D1BE8E568"></a><h6 id="MULTI-GUID-3908A23A-629F-4118-BAE3-937D1BE8E568" class="sect6"><span class="enumeration_section">15.2.2.1.3</span>管理服务的工具</h6>
                        <div>
                           <p>Oracle建议使用SRVCTL实用程序来创建和修改服务。或者，您可以使用<code class="codeph">DBMS_SERVICE</code>包。
                           </p>
                           <div class="section">
                              <p class="subhead3" id="GUID-3908A23A-629F-4118-BAE3-937D1BE8E568__GUID-14B2659C-D83C-4019-B474-B64AFD75094C">SRVCTL</p>
                              <p>如果您的单实例数据库由Oracle Restart管理，或者您的Oracle RAC数据库由Oracle Clusterware管理，则使用服务器控制（SRVCTL）实用程序来创建，修改或删除该服务。</p>
                              <p>要使用SRVCTL实用程序为PDB创建服务，请使用<code class="codeph">add</code> <code class="codeph">service</code>命令并在<code class="codeph">-pdb</code>参数中指定PDB。如果未指定<code class="codeph">-pdb</code> ，则该服务与根关联。
                              </p>
                              <p>要使用SRVCTL实用程序<code class="codeph">modify</code> <code class="codeph">service</code>的<code class="codeph">PDB</code>属性，请使用<code class="codeph">modify</code> <code class="codeph">service</code>命令并在<code class="codeph">-pdb</code>参数中指定PDB。要使用SRVCTL实用程序<code class="codeph">remove</code> PDB的服务，请使用<code class="codeph">remove</code> <code class="codeph">service</code>命令。
                              </p>
                              <p>您可以使用其他SRVCTL命令来管理服务，例如<code class="codeph">start service</code> ， <code class="codeph">stop service</code>和重<code class="codeph">relocate service</code>命令，即使它们不包含<code class="codeph">-pdb</code>参数也是<code class="codeph">-pdb</code> 。
                              </p>
                              <p>使用SRVCTL实用程序创建或修改服务时，不验证PDB名称。但是，尝试使用无效的PDB名称启动服务会导致错误。</p>
                           </div>
                           <!-- class="section" -->
                           <div class="section">
                              <p class="subhead3" id="GUID-3908A23A-629F-4118-BAE3-937D1BE8E568__GUID-9AA1C1AF-F2EA-4B1E-B997-90003FD71E92">DBMS_SERVICE</p>
                              <p>如果您的数据库不是由Oracle Restart或Oracle Clusterware管理的，则使用<code class="codeph">DBMS_SERVICE</code>包来创建或删除数据库服务。
                              </p>
                              <p><code class="codeph">DBMS_SESSION</code>存在于根级别和每个PDB中。它由<code class="codeph">SYS</code>在每个级别拥有和执行。PDB管理员无法停止，重定位或测试另一个PDB拥有的服务的连接。</p>
                              <p>使用<code class="codeph">DBMS_SERVICE</code>包创建服务时，服务的<code class="codeph">PDB</code>属性将设置为当前容器。因此，要使用<code class="codeph">DBMS_SERVICE</code>包创建<code class="codeph">PDB</code>属性设置为特定PDB的<code class="codeph">DBMS_SERVICE</code> ，请在PDB是当前容器时运行<code class="codeph">CREATE_SERVICE</code>过程。如果在当前容器是根时使用<code class="codeph">CREATE_SERVICE</code>过程创建服务，则该服务与根关联。
                              </p>
                              <p>您无法使用<code class="codeph">DBMS_SERVICE</code>包修改服务的<code class="codeph">PDB</code>属性。但是，您可以在一个PDB中删除服务，并在不同的PDB中创建类似的服务。在这种情况下，新服务具有创建它的PDB的<code class="codeph">PDB</code>属性。
                              </p>
                              <p>您还可以使用其他<code class="codeph">DBMS_SERVICE</code>子程序来管理服务，例如<code class="codeph">START_SERVICE</code>和<code class="codeph">STOP_SERVICE</code>过程。您可以使用<code class="codeph">DBMS_SERVICE. <span class="codeinlineitalic">*</span> _CONNECTION_TEST</code>用于在计划维护期间检查数据库连接的运行状况的过程。使用<code class="codeph">DELETE_SERVICE</code>过程删除服务。
                              </p>
                           </div>
                           <!-- class="section" -->
                        </div>
                        <div>
                           <div class="infoboxnotealso" id="GUID-3908A23A-629F-4118-BAE3-937D1BE8E568__GUID-13F59075-1F1B-4E1E-88E1-10F6B2B5B37E">
                              <p class="notep1">也可以看看：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><span class="q">“ <a href="viewing-information-about-cdbs-and-pdbs-with-sql-plus.html#GUID-1DED3127-84E4-4967-BEB3-D0ADEC622643__CHDDHBAF">例19-9</a> ”</span></p>
                                 </li>
                                 <li>
                                    <p>有关配置Oracle数据库自动重新启动的信息，请参见<a href="../admin/configuring-automatic-restart-of-an-oracle-database.html#ADMIN-GUID-5832E064-85C6-453C-B932-99700B1732A9" target="_blank"><span><cite>“Oracle数据库管理员指南”</cite></span></a></p>
                                 </li>
                                 <li>
                                    <p>有关<code class="codeph">DBMS_SERVICE</code>包的信息，请<code class="codeph">DBMS_SERVICE</code> <a href="../arpls/DBMS_SERVICE.html#ARPLS092" target="_blank"><span><cite>Oracle Database PL / SQL包和类型参考</cite></span></a></p>
                                 </li>
                                 <li>
                                    <p><a href="../racad/workload-management-with-dynamic-database-services.html#RACAD076" target="_blank"><span><cite>“Oracle Real Application Clusters管理和部署指南”</cite></span></a> ，了解有关在Oracle Real Application Clusters（Oracle RAC）环境中创建服务的信息</p>
                                 </li>
                              </ul>
                           </div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="administering-pdbs-with-sql-plus.html#GUID-70D5B1C3-06C3-4BD9-B777-8BFAD62CC2E0" title="每个PDB都有一个默认服务，但您可以使用SRVCTL或DBMS_SERVICE创建自己的服务。">关于PDB的服务</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                  </div><a id="ADMIN13976"></a><a id="ADMIN13977"></a><a id="ADMIN14173"></a><a id="ADMIN14156"></a><a id="ADMIN14189"></a><a id="ADMIN13975"></a><div class="props_rev_3"><a id="GUID-D8667A99-F941-4C77-811B-1735241BA744" name="GUID-D8667A99-F941-4C77-811B-1735241BA744"></a><h5 id="MULTI-GUID-D8667A99-F941-4C77-811B-1735241BA744" class="sect5"><span class="enumeration_section">15.2.2.2</span>使用SRVCTL和DBMS_SERVICE管理PDB的服务</h5>
                     <div>
                        <p>您可以使用<code class="codeph">PDB</code>属性创建，修改或删除服务。
                        </p>
                        <div class="section">
                           <p class="subhead3" id="GUID-D8667A99-F941-4C77-811B-1735241BA744__GUID-788F16AF-C96A-4064-ABFA-7FF47DDBCD0D">使用SRVCTL实用程序管理具有PDB属性的服务：</p>
                           <ol>
                              <li>
                                 <p>使用正确的用户帐户登录主机。</p>
                              </li>
                              <li>
                                 <p>确保从正确的Oracle主目录运行SRVCTL。</p>
                              </li>
                              <li>
                                 <p>执行以下操作之一：</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p>要创建或修改服务，请运行<code class="codeph">add service</code>命令，并在<code class="codeph">-pdb</code>参数中指定PDB。
                                       </p>
                                    </li>
                                    <li>
                                       <p>要修改服务的<code class="codeph">PDB</code>属性，请运行<code class="codeph">modify service</code>命令，并在<code class="codeph">-pdb</code>参数中指定PDB。
                                       </p>
                                    </li>
                                    <li>
                                       <p>要删除服务，请运行<code class="codeph">remove service</code>命令。
                                       </p>
                                    </li>
                                 </ul>
                              </li>
                           </ol>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-D8667A99-F941-4C77-811B-1735241BA744__GUID-1CC9F503-DDE8-4077-8534-341FB45C4650">要使用DBMS_SERVICE包为PDB创建或删除服务，请执行以下操作：</p>
                           <ol>
                              <li>
                                 <p>在SQL * Plus中，确保当前容器是PDB。</p>
                                 <p>请参阅<span class="q">“ <a href="administering-pdbs-with-sql-plus.html#GUID-EA62913A-8033-4D76-8835-055FB3076D09" title="您可以使用多种技术通过SQL * Plus CONNECT命令连接到PDB。">连接到PDB</a> ”</span> 。
                                 </p>
                              </li>
                              <li>
                                 <p>在<code class="codeph">DBMS_SERVICE</code>包中运行相应的子程序。
                                 </p>
                              </li>
                           </ol>
                           <div class="infoboxnote" id="GUID-D8667A99-F941-4C77-811B-1735241BA744__GUID-AA56D45D-D2C3-49BB-9513-8E21DB781312">
                              <p class="notep1">注意：</p>
                              <p>如果您的数据库由Oracle Restart或Oracle Clusterware管理，则使用SRVCTL实用程序来管理服务。不要使用<code class="codeph">DBMS_SERVICE</code>包。
                              </p>
                           </div>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-D8667A99-F941-4C77-811B-1735241BA744__GUID-A59BE330-0CCB-46DA-86E2-BC67CBA48A30">
                           <p class="titleinexample">示例15-2使用SRVCTL实用程序为PDB创建服务</p>
                           <p>此示例使用<code class="codeph">DB_UNIQUE_NAME mycdb</code>在CDB中为PDB <code class="codeph">salespdb</code>添加<code class="codeph">salesrep</code>服务：</p><pre class="pre codeblock"><code>srvctl添加服务-db mycdb -service salesrep -pdb salespdb</code></pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-D8667A99-F941-4C77-811B-1735241BA744__GUID-39A9100D-7F85-437F-803B-E9FDBD8ED326">
                           <p class="titleinexample">示例15-3使用SRVCTL实用程序修改服务的PDB属性</p>
                           <p>此示例使用<code class="codeph">DB_UNIQUE_NAME mycdb</code>修改CDB中的<code class="codeph">salesrep</code>服务，以将服务与<code class="codeph">hrpdb</code> PDB关联：</p><pre class="pre codeblock"><code>srvctl修改服务-db mycdb -service salesrep -pdb hrpdb</code></pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-D8667A99-F941-4C77-811B-1735241BA744__GUID-657574C6-C45E-4135-B72E-F7AAF0912A19">
                           <p class="titleinexample">示例15-4使用SRVCTL实用程序在Oracle RAC中重新定位服务</p>
                           <p>您可以使用<code class="codeph">relocate service</code>命令将服务从当前正在运行的服务的一个Oracle RAC实例重定位到另一个可以运行的实例。此技术既适用于管理员管理的数据库服务，也适用于策略管理数据库的单例服务。
                           </p>
                           <p>以下命令将服务<code class="codeph">svc1</code>从当前正在运行的Oracle RAC实例<code class="codeph">cdb_inst1</code>定位到实例<code class="codeph">cdb_inst2</code> ，该实例当前未运行：</p><pre class="pre codeblock"><code>srvctl重定位服务db cdb service svc1 oldinst cdb_inst1 newinst cdb_inst2 -drain_timeout NNN -stopoption immediate</code></pre><p>以下命令对策略管理的数据库执行相同的操作：</p><pre class="pre codeblock"><code>srvctl重定位服务db cdb service svc1 currentnode cdb_inst1 targetnode cdb_inst2 -drain_timeout NNN -stopoption immediate</code></pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-D8667A99-F941-4C77-811B-1735241BA744__GUID-316A9F80-BF88-4797-959E-DA21C9A074F1">
                           <p class="titleinexample">示例15-5使用SRVCTL Utility删除服务</p>
                           <p>此示例使用<code class="codeph">DB_UNIQUE_NAME</code> <code class="codeph">mycdb</code>删除CDB中的<code class="codeph">salesrep</code>服务：</p><pre class="pre codeblock"><code>srvctl删除服务-db mycdb -service salesrep</code></pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-D8667A99-F941-4C77-811B-1735241BA744__GUID-DBBEA63C-B92F-4EA7-930F-17BF81B9F29B">
                           <p class="titleinexample">示例15-6使用DBMS_SERVICE包为PDB创建服务</p>
                           <p>此示例为当前PDB创建<code class="codeph">salesrep</code>服务：</p><pre class="pre codeblock"><code>BEGIN DBMS_SERVICE.CREATE_SERVICE（service_name =&gt;'salesrep'，network_name =&gt;'salesrep.example.com'）;结束; /</code></pre><p>服务的<code class="codeph">PDB</code>属性设置为当前容器。例如，如果当前容器是<code class="codeph">salespdb</code> PDB，则该服务的PDB属性为<code class="codeph">salespdb</code> 。
                           </p>
                        </div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-D8667A99-F941-4C77-811B-1735241BA744__GUID-5B6C937B-D629-43D7-A453-9454A6B5D39B">
                           <p class="titleinexample">示例15-7使用DBMS_SERVICE包删除服务</p>
                           <p>此示例删除当前PDB中的<code class="codeph">salesrep</code>服务。</p><pre class="pre codeblock"><code>BEGIN DBMS_SERVICE.DELETE_SERVICE（service_name =&gt;'salesrep'）;结束; /</code></pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-D8667A99-F941-4C77-811B-1735241BA744__GUID-13F59075-1F1B-4E1E-88E1-10F6B2B5B37E">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="q">“ <a href="viewing-information-about-cdbs-and-pdbs-with-sql-plus.html#GUID-1DED3127-84E4-4967-BEB3-D0ADEC622643__CHDDHBAF">例19-9</a> ”</span></p>
                              </li>
                              <li>
                                 <p>有关<code class="codeph">DBMS_SERVICE</code>包的信息，请<code class="codeph">DBMS_SERVICE</code> <a href="../arpls/DBMS_SERVICE.html#ARPLS092" target="_blank"><span><cite>Oracle Database PL / SQL包和类型参考</cite></span></a></p>
                              </li>
                              <li>
                                 <p><a href="../racad/workload-management-with-dynamic-database-services.html#RACAD076" target="_blank"><span><cite>“Oracle Real Application Clusters管理和部署指南”，</cite></span></a>以获取有关在Oracle Real Application Clusters（Oracle RAC）环境中管理服务的信息</p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="administering-pdbs-with-sql-plus.html#GUID-6FDBCEFC-29DF-4CBB-A000-B105A7328955" title="您可以为PDB创建，修改或删除服务。">管理PDB服务</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
               <div class="sect3"><a id="GUID-2AE424AE-D534-4E98-A17C-D50E6051D2F8" name="GUID-2AE424AE-D534-4E98-A17C-D50E6051D2F8"></a><h4 id="MULTI-GUID-2AE424AE-D534-4E98-A17C-D50E6051D2F8" class="sect4"><span class="enumeration_section">15.2.3</span>修改参考PDB的监听器设置</h4>
                  <div>
                     <p>由代理PDB引用的PDB称为引用的PDB。</p>
                     <p>当为引用的PDB的侦听器更改端口或主机名时，必须修改引用的PDB的侦听器设置，以使其代理PDB继续正常运行。</p>
                     <p>本节包含以下主题：</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="administering-pdbs-with-sql-plus.html#GUID-2E668740-E91D-4DB8-B545-666D3F2C63DE">更改引用的PDB的侦听器主机名</a><br>当引用的PDB的侦听器的主机名发生更改时，必须运行<code class="codeph">ALTER PLUGGABLE DATABASE CONTAINERS HOST</code>语句以重置引用的PDB的主机名，以便其代理PDB继续正常运行。
                        </li>
                        <li class="ulchildlink"><a href="administering-pdbs-with-sql-plus.html#GUID-19D9ACE5-CBC3-4586-B946-1B3DEBA30582">更改参考PDB的侦听器端口号</a><br>当引用的PDB的侦听器的端口号发生更改时，必须运行<code class="codeph">ALTER PLUGGABLE DATABASE CONTAINERS PORT</code>语句以重置引用的PDB的端口号，以便其代理PDB继续正常运行。
                        </li>
                     </ul>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="creating-a-proxy-pdb.html#GUID-7C23D560-5AD5-4AF2-93B4-F4FDC6DE768C" title="您可以通过在远程CDB中引用PDB来创建PDB作为代理PDB。">将PDB创建为代理PDB</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="administering-pdbs-with-sql-plus.html#GUID-245289C5-75BC-4CD9-861F-FEAAA42064AC" title="您可以采用与非CDB相同的方式管理PDB的连接，但需要特别注意。">管理与PDB的连接</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="sect4"><a id="GUID-2E668740-E91D-4DB8-B545-666D3F2C63DE" name="GUID-2E668740-E91D-4DB8-B545-666D3F2C63DE"></a><h5 id="MULTI-GUID-2E668740-E91D-4DB8-B545-666D3F2C63DE" class="sect5"><span class="enumeration_section">15.2.3.1</span>更改引用PDB的监听器主机名</h5>
                     <div>
                        <p>当引用的PDB的侦听器的主机名发生更改时，必须运行<code class="codeph">ALTER PLUGGABLE DATABASE CONTAINERS HOST</code>语句以重置引用的PDB的主机名，以便其代理PDB继续正常运行。
                        </p>
                        <div class="section">
                           <p>代理PDB使用数据库链接在PDB创建期间与其引用的PDB建立通信。建立通信后，代理PDB直接与引用的PDB通信，而不使用数据库链接，并且可以删除数据库链接。当侦听器主机名更改为引用的PDB时，每个代理PDB必须重新建立与其引用的PDB的通信。</p>
                           <p>引用的PDB的侦听器主机名是数据库属性。设置后，可以通过查询<code class="codeph">DATABASE_PROPERTIES</code>数据字典视图查看当前设置。
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="p">当前用户必须具有<code class="codeph">ALTER DATABASE</code>系统特权，并且必须在PDB中共同授予或本地授予该特权。</div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>在SQL * Plus中，确保当前容器是引用的PDB。</span><div>请参阅<span class="q">“ <a href="administering-pdbs-with-sql-plus.html#GUID-EA62913A-8033-4D76-8835-055FB3076D09" title="您可以使用多种技术通过SQL * Plus CONNECT命令连接到PDB。">连接到PDB</a> ”</span> 。
                              </div>
                           </li>
                           <li class="stepexpand"><span>运行<code class="codeph">ALTER PLUGGABLE DATABASE CONTAINERS HOST</code>语句并指定新主机名，或包含<code class="codeph">RESET</code>关键字以将主机名返回到其默认设置，即默认设置，即引用的PDB的主机名。</span></li>
                           <li class="stepexpand"><span>删除并重新创建引用引用的PDB的代理PDB，以重新建立每个代理PDB及其引用的PDB的通信。</span></li>
                        </ol>
                        <div class="example" id="GUID-2E668740-E91D-4DB8-B545-666D3F2C63DE__GUID-72385911-E885-4997-B9E7-D2EE24381A5F">
                           <p class="titleinexample">例15-8更改引用的PDB的监听器主机名</p>
                           <p>此示例将引用的PDB的主机名更改为<code class="codeph">myhost.example.com</code> 。
                           </p><pre class="pre codeblock"><code>ALTER PLUGGABLE DATABASE CONTAINERS HOST ='myhost.example.com';</code></pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-2E668740-E91D-4DB8-B545-666D3F2C63DE__GUID-39AE5BDC-B1FE-40F7-908F-9EA3B0C74BC2">
                           <p class="titleinexample">示例15-9将监听器主机名重置为默认值</p>
                           <p>此示例将引用的PDB的主机名重置为其默认值。默认值是引用的PDB的主机名。</p><pre class="pre codeblock"><code>ALTER PLUGGABLE DATABASE CONTAINERS主机重置;</code></pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-2E668740-E91D-4DB8-B545-666D3F2C63DE__GUID-90D43A6F-6C39-4E85-9AEB-B354D3725853">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="q">“ <a href="creating-a-proxy-pdb.html#GUID-7C23D560-5AD5-4AF2-93B4-F4FDC6DE768C" title="您可以通过在远程CDB中引用PDB来创建PDB作为代理PDB。">将PDB创建为代理PDB</a> ”</span></p>
                              </li>
                              <li>
                                 <p><span class="q">“ <a href="creating-a-proxy-pdb.html#GUID-A751F0A6-2949-4E20-BE36-711E682EC53A" title="CREATE PLUGGABLE DATABASE语句的HOST子句指定正在创建的PDB的侦听器的主机名。">HOST条款</a> ”</span></p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="administering-pdbs-with-sql-plus.html#GUID-2AE424AE-D534-4E98-A17C-D50E6051D2F8" title="由代理PDB引用的PDB称为引用的PDB。">修改引用的PDB的侦听器设置</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-19D9ACE5-CBC3-4586-B946-1B3DEBA30582" name="GUID-19D9ACE5-CBC3-4586-B946-1B3DEBA30582"></a><h5 id="MULTI-GUID-19D9ACE5-CBC3-4586-B946-1B3DEBA30582" class="sect5"><span class="enumeration_section">15.2.3.2</span>更改参考PDB的监听端口号</h5>
                     <div>
                        <p>当引用的PDB的侦听器的端口号发生更改时，必须运行<code class="codeph">ALTER PLUGGABLE DATABASE CONTAINERS PORT</code>语句以重置引用的PDB的端口号，以便其代理PDB继续正常运行。
                        </p>
                        <div class="section">
                           <p>代理PDB使用数据库链接在PDB创建期间与其引用的PDB建立通信。建立通信后，代理PDB直接与引用的PDB通信，而不使用数据库链接，并且可以删除数据库链接。当引用的PDB的侦听器端口号发生更改时，每个代理PDB必须与其引用的PDB重新建立通信。</p>
                           <p>引用的PDB的侦听器端口号是数据库属性。设置后，可以通过查询<code class="codeph">DATABASE_PROPERTIES</code>数据字典视图查看当前设置。
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="p">当前用户必须具有<code class="codeph">ALTER</code> <code class="codeph">DATABASE</code>系统特权，并且必须在PDB中共同授予或本地授予该特权。</div>
                        <!-- class="section" -->
                        <ol>
                           <li><span>在SQL * Plus中，确保当前容器是引用的PDB。</span></li>
                           <li><span>运行<code class="codeph">ALTER PLUGGABLE DATABASE CONTAINERS PORT</code>语句并指定新端口号，或包含<code class="codeph">RESET</code>关键字以将端口号返回到其默认设置（即1521）。</span></li>
                           <li><span>删除并重新创建引用引用的PDB的代理PDB，以重新建立每个代理PDB及其引用的PDB的通信。</span></li>
                        </ol>
                        <div class="example" id="GUID-19D9ACE5-CBC3-4586-B946-1B3DEBA30582__GUID-F923D6FC-AAE2-4357-AB19-50908F8FBCBE">
                           <p class="titleinexample">例15-10更改参考PDB的侦听器端口号</p>
                           <p>此示例将引用的PDB的端口号更改为<code class="codeph">1543</code> 。
                           </p><pre class="pre codeblock"><code>ALTER PLUGGABLE DATABASE CONTAINERS PORT = 1543;</code></pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-19D9ACE5-CBC3-4586-B946-1B3DEBA30582__GUID-A120D4CE-661E-41D1-A5C3-997C1B8DF211">
                           <p class="titleinexample">示例15-11将侦听器端口号重置为默认值</p>
                           <p>此示例将引用的PDB的端口号重置为其默认值。端口号的默认值为1521。</p><pre class="pre codeblock"><code>ALTER PLOGGABLE DATABASE CONTAINERS PORT RESET;</code></pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>相关话题</strong></p>
                           <ul>
                              <li><a href="administering-pdbs-with-sql-plus.html#GUID-EA62913A-8033-4D76-8835-055FB3076D09" title="您可以使用多种技术通过SQL * Plus CONNECT命令连接到PDB。">连接到PDB</a></li>
                              <li><a href="creating-a-proxy-pdb.html#GUID-7C23D560-5AD5-4AF2-93B4-F4FDC6DE768C" title="您可以通过在远程CDB中引用PDB来创建PDB作为代理PDB。">将PDB创建为代理PDB</a></li>
                              <li><a href="creating-a-proxy-pdb.html#GUID-62C98D1A-C4DC-4731-B3AB-6C6860B86921" title="CREATE PLUGGABLE DATABASE语句的PORT子句指定正在创建的PDB的侦听器的端口号。">PORT条款</a></li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="administering-pdbs-with-sql-plus.html#GUID-2AE424AE-D534-4E98-A17C-D50E6051D2F8" title="由代理PDB引用的PDB称为引用的PDB。">修改引用的PDB的侦听器设置</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
            </div><a id="ADMIN13652"></a><div class="props_rev_3"><a id="GUID-3AAA613B-C52C-4080-B0C3-7212859E3A2F" name="GUID-3AAA613B-C52C-4080-B0C3-7212859E3A2F"></a><h3 id="MULTI-GUID-3AAA613B-C52C-4080-B0C3-7212859E3A2F" class="sect3"><span class="enumeration_section">15.3</span>在系统级别修改PDB</h3>
               <div>
                  <p>您可以使用<code class="codeph">ALTER SYSTEM</code>语句来修改PDB。</p>
                  <p>本节包含以下主题：</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="administering-pdbs-with-sql-plus.html#GUID-E59C304F-DA37-46D3-BBD6-DEC9014E0497">关于PDB的系统级修改</a><br><code class="codeph">ALTER SYSTEM</code>语句可以动态地更改PDB。当您想要更改PDB的运行方式时，可以发出<code class="codeph">ALTER SYSTEM</code>语句。
                     </li>
                     <li class="ulchildlink"><a href="administering-pdbs-with-sql-plus.html#GUID-0CE633FB-ADF0-4EAF-B898-906DA4661391">使用ALTER SYSTEM修改PDB</a><br>要在系统级别修改PDB，请使用<code class="codeph">ALTER SYSTEM</code>语句（就像非CDB一样）。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="administering-pdbs-with-sql-plus.html#GUID-702231AB-ABDA-42F4-918C-4539BF8135D6" title="管理PDB包括诸如连接到PDB，修改PDB以及管理与PDB相关联的服务之类的任务。">管理PDB</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN14017"></a><div class="props_rev_3"><a id="GUID-E59C304F-DA37-46D3-BBD6-DEC9014E0497" name="GUID-E59C304F-DA37-46D3-BBD6-DEC9014E0497"></a><h4 id="MULTI-GUID-E59C304F-DA37-46D3-BBD6-DEC9014E0497" class="sect4"><span class="enumeration_section">15.3.1</span>关于PDB的系统级修改</h4>
                  <div>
                     <p><code class="codeph">ALTER SYSTEM</code>语句可以动态地更改PDB。当您想要更改PDB的运行方式时，可以发出<code class="codeph">ALTER SYSTEM</code>语句。
                     </p>
                     <p>当前容器是PDB时，您可以运行以下<code class="codeph">ALTER SYSTEM</code>语句：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">ALTER SYSTEM FLUSH {SHARED_POOL | BUFFER_CACHE | FLASH_CACHE}</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ALTER SYSTEM {ENABLE | DISABLE}受限制的会议</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ALTER SYSTEM SET USE_STORED_OUTLINES</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ALTER SYSTEM {SUSPEND |恢复 }</code><code class="codeph"></code></p>
                        </li>
                        <li>
                           <p><code class="codeph">更改系统检查点</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">更改系统检查数据文件</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">更改系统寄存器</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ALTER SYSTEM {KILL |断开}会话</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ALTER SYSTEM SET <span class="codeinlineitalic">initialization_parameter</span></code> （用于初始化参数的子集）</p>
                        </li>
                     </ul>
                     <p>所有其他<code class="codeph">ALTER SYSTEM</code>语句都会影响整个CDB，并且必须由root中的普通用户运行。
                     </p>
                     <p><code class="codeph">ALTER SYSTEM SET <span class="codeinlineitalic">initialization_parameter</span></code>语句只能修改PDB的一些初始化参数。可以为根设置所有初始化参数。对于未为PDB显式设置的任何初始化参数，PDB从根继承参数值。
                     </p>
                     <p>对于<code class="codeph">V$SYSTEM_PARAMETER</code>视图中的参数，如果<code class="codeph">ISPDB_MODIFIABLE</code> <code class="codeph">TRUE</code> ，则可以修改PDB的初始化参数。以下查询列出了可为PDB修改的所有初始化参数：</p><pre class="pre codeblock"><code>选择名称来自V $ SYSTEM_PARAMETER WHERE ISPDB_MODIFIABLE ='TRUE'按名称排序;</code></pre><p>当前容器是PDB时，运行<code class="codeph">ALTER SYSTEM SET <span class="codeinlineitalic">initialization_parameter</span></code>语句以修改PDB。该语句不会影响根或其他PDB。下表描述了使用服务器参数文件（SPFILE）并在PDB上运行<code class="codeph">ALTER SYSTEM SET</code>语句时<code class="codeph">SCOPE</code>子句的行为。</p>
                     <div class="tblformal" id="GUID-E59C304F-DA37-46D3-BBD6-DEC9014E0497__GUID-FEB5C959-389A-4E29-95C7-1E261039D395">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="This table describes the behavior of each setting of a SCOPE clause when the current container is a PDB." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="19%" id="d71685e2786">范围设定</th>
                                 <th align="left" valign="bottom" width="81%" id="d71685e2789">行为</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d71685e2794" headers="d71685e2786 ">
                                    <p><code class="codeph">记忆</code></p>
                                 </td>
                                 <td align="left" valign="top" width="81%" headers="d71685e2794 d71685e2789 ">
                                    <p>初始化参数设置在内存中更改，并立即在PDB中生效。新设置仅影响PDB。</p>
                                    <p>在以下任何一种情况下，该设置将恢复为根目录中设置的值：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p><code class="codeph">ALTER SYSTEM SET</code>语句设置根中参数的值， <code class="codeph">SCOPE</code>等于<code class="codeph">BOTH</code>或<code class="codeph">MEMORY</code> ，PDB关闭并重新打开。如果<code class="codeph">SCOPE</code>等于<code class="codeph">SPFILE</code> ，则PDB中的参数值不会更改，并且PDB将关闭并重新打开。
                                          </p>
                                       </li>
                                       <li>
                                          <p>PDB已关闭并重新开放。</p>
                                       </li>
                                       <li>
                                          <p>国开行被关闭并重新开放。</p>
                                       </li>
                                    </ul>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d71685e2833" headers="d71685e2786 ">
                                    <p><code class="codeph">SPFILE</code></p>
                                 </td>
                                 <td align="left" valign="top" width="81%" headers="d71685e2833 d71685e2789 ">
                                    <p>为PDB更改初始化参数设置并持久存储。新设置在以下任何一种情况下生效：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p>PDB已关闭并重新开放。</p>
                                       </li>
                                       <li>
                                          <p>国开行被关闭并重新开放。</p>
                                       </li>
                                    </ul>
                                    <p>在这些情况下，新设置仅影响PDB。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d71685e2850" headers="d71685e2786 ">
                                    <p><code class="codeph">都</code></p>
                                 </td>
                                 <td align="left" valign="top" width="81%" headers="d71685e2850 d71685e2789 ">
                                    <p>初始化参数设置在内存中更改，并且为PDB更改并持久存储。新设置在PDB中立即生效，并在PDB关闭并重新打开或CDB关闭并重新打开后持续存在。新设置仅影响PDB。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>从CDB拔出PDB时，为PDB指定的初始化参数值（ <code class="codeph">SCOPE=BOTH</code>或<code class="codeph">SCOPE=SPFILE</code>将添加到PDB的XML元数据文件中。当PDB插入CDB时，将为PDB恢复这些值。</p>
                     <div class="infoboxnote" id="GUID-E59C304F-DA37-46D3-BBD6-DEC9014E0497__GUID-DD1AF250-9797-4090-BFB6-5D5DBFB800C3">
                        <p class="notep1">注意：</p>
                        <p>文本初始化参数文件（PFILE）不能包含特定于PDB的参数值。</p>
                     </div>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-E59C304F-DA37-46D3-BBD6-DEC9014E0497__GUID-B714960D-AD34-439B-81C0-36D8720BA4FD">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="removing-a-pdb.html#GUID-893E1D67-BD95-4757-B862-03AD13AFF722" title="就像您可以将PDB插入CDB一样，您可以从CDB上拔下PDB。">从CDB上拔掉PDB</a> ”</span></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="administering-a-cdb-with-sql-plus.html#GUID-E1BBCE0F-76CA-49F3-9A6B-AC6B13AB9AC5" title="CDB中每个容器中的数据字典是独立的，当前容器是其数据字典用于名称解析和权限授权的容器。">关于当前的容器</a> ”</span></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="administering-a-cdb-with-sql-plus.html#GUID-E47348D6-5350-4890-ACD6-7BA1C1DD4E95" title="要在系统级别修改CDB，请使用ALTER SYSTEM语句。">使用ALTER SYSTEM修改CDB</a> ”</span></p>
                           </li>
                           <li>
                              <p><a href="../sqlrf/ALTER-SYSTEM.html#SQLRF00902" target="_blank"><span><cite>Oracle数据库SQL语言参考</cite></span></a></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="administering-pdbs-with-sql-plus.html#GUID-3AAA613B-C52C-4080-B0C3-7212859E3A2F" title="您可以使用ALTER SYSTEM语句来修改PDB。">在系统级别修改PDB</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN14081"></a><a id="ADMIN13654"></a><a id="ADMIN14018"></a><div class="props_rev_3"><a id="GUID-0CE633FB-ADF0-4EAF-B898-906DA4661391" name="GUID-0CE633FB-ADF0-4EAF-B898-906DA4661391"></a><h4 id="MULTI-GUID-0CE633FB-ADF0-4EAF-B898-906DA4661391" class="sect4"><span class="enumeration_section">15.3.2</span>使用ALTER SYSTEM修改PDB</h4>
                  <div>
                     <p>要在系统级别修改PDB，请使用<code class="codeph">ALTER SYSTEM</code>语句（就像非CDB一样）。
                     </p>
                     <div class="section"></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-0CE633FB-ADF0-4EAF-B898-906DA4661391__GUID-F635005E-5AF2-44E6-BC1F-AA75685F4EE5">先决条件</p>
                        <p>必须为当前用户授予以下权限，这些权限必须在PDB中通常授予或本地授予：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">创建会话</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">改变系统</code></p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-0CE633FB-ADF0-4EAF-B898-906DA4661391__GUID-C6C3F10A-2476-414C-8D69-0D17A52DF4FE">要使用ALTER SYSTEM修改PDB：</p>
                        <ol>
                           <li>
                              <p>在SQL * Plus中，确保当前容器是PDB。</p>
                              <p>请参阅<span class="q">“ <a href="administering-pdbs-with-sql-plus.html#GUID-EA62913A-8033-4D76-8835-055FB3076D09" title="您可以使用多种技术通过SQL * Plus CONNECT命令连接到PDB。">连接到PDB</a> ”</span> 。
                              </p>
                           </li>
                           <li>
                              <p>运行<code class="codeph">ALTER SYSTEM</code>语句。
                              </p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-0CE633FB-ADF0-4EAF-B898-906DA4661391__GUID-5DBA8BB4-B5AE-47B8-B8B7-0CBDE3F05103">
                        <p class="titleinexample">示例15-12在PDB中启用受限制的会话</p>
                        <p>要限制PDB中的会话，请发出以下语句：</p><pre class="pre codeblock"><code>更改系统启用限制会话;</code></pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-0CE633FB-ADF0-4EAF-B898-906DA4661391__GUID-35D06419-30B9-40B3-925D-67A42F05D045">
                        <p class="titleinexample">示例15-13更改PDB的统计信息收集级别</p>
                        <p>此<code class="codeph">ALTER SYSTEM</code>语句将<code class="codeph">STATISTICS_LEVEL</code>初始化参数设置为当前PDB的<code class="codeph">ALL</code> ：</p><pre class="pre codeblock"><code>ALTER SYSTEM SET STATISTICS_LEVEL = ALL SCOPE = MEMORY;</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-0CE633FB-ADF0-4EAF-B898-906DA4661391__GUID-993E2847-9C7C-4CA4-8F8D-5901799C7407">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="administering-a-cdb-with-sql-plus.html#GUID-E47348D6-5350-4890-ACD6-7BA1C1DD4E95" title="要在系统级别修改CDB，请使用ALTER SYSTEM语句。">使用ALTER SYSTEM修改CDB</a> ”</span></p>
                           </li>
                           <li>
                              <p><a href="../sqlrf/ALTER-SYSTEM.html#SQLRF00902" target="_blank"><span><cite>Oracle数据库SQL语言参考</cite></span></a></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="administering-pdbs-with-sql-plus.html#GUID-3AAA613B-C52C-4080-B0C3-7212859E3A2F" title="您可以使用ALTER SYSTEM语句来修改PDB。">在系统级别修改PDB</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADMIN13863"></a><div class="props_rev_3"><a id="GUID-0200CF6A-8822-4347-9410-4435FDB47745" name="GUID-0200CF6A-8822-4347-9410-4435FDB47745"></a><h3 id="MULTI-GUID-0200CF6A-8822-4347-9410-4435FDB47745" class="sect3"><span class="enumeration_section">15.4</span>在数据库级别修改PDB</h3>
               <div>
                  <p>您可以使用<code class="codeph">ALTER PLUGGABLE DATABASE</code>语句修改PDB。
                  </p>
                  <p>本节包含以下主题：</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="administering-pdbs-with-sql-plus.html#GUID-19CD8791-B61F-421D-90DE-6E07E10B0C46">关于PDB的数据库级修改</a><br>PDB的<code class="codeph">ALTER PLUGGABLE DATABASE</code>类似于非CDB的<code class="codeph">ALTER DATABASE</code> 。</li>
                     <li class="ulchildlink"><a href="administering-pdbs-with-sql-plus.html#GUID-E73BCAED-FF57-474A-A8C5-207D3F465413">使用ALTER PLUGGABLE DATABASE语句修改PDB</a><br>要修改单个PDB的属性，请使用<code class="codeph">ALTER PLUGGABLE DATABASE</code>语句。
                     </li>
                     <li class="ulchildlink"><a href="administering-pdbs-with-sql-plus.html#GUID-2003FF3F-C403-45B7-B198-4CAF7172A4F4">更改PDB的全局数据库名称</a><br>您可以使用<code class="codeph">ALTER PLUGGABLE DATABASE RENAME GLOBAL_NAME TO</code>语句<code class="codeph">ALTER PLUGGABLE DATABASE RENAME GLOBAL_NAME TO</code> PDB的全局数据库名称。
                     </li>
                     <li class="ulchildlink"><a href="administering-pdbs-with-sql-plus.html#GUID-666252E7-BE9E-4D59-B8A4-86F80A7B186A">管理可刷新的克隆PDB</a><br><span><strong class="term">可刷新克隆PDB</strong>是<span>只读克隆，可以定期与其源PDB同步。</span></span></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="administering-pdbs-with-sql-plus.html#GUID-702231AB-ABDA-42F4-918C-4539BF8135D6" title="管理PDB包括诸如连接到PDB，修改PDB以及管理与PDB相关联的服务之类的任务。">管理PDB</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN13631"></a><div class="props_rev_3"><a id="GUID-19CD8791-B61F-421D-90DE-6E07E10B0C46" name="GUID-19CD8791-B61F-421D-90DE-6E07E10B0C46"></a><h4 id="MULTI-GUID-19CD8791-B61F-421D-90DE-6E07E10B0C46" class="sect4"><span class="enumeration_section">15.4.1</span>关于PDB的数据库级修改</h4>
                  <div>
                     <p>PDB的<code class="codeph">ALTER PLUGGABLE DATABASE</code>类似于非CDB的<code class="codeph">ALTER DATABASE</code> 。</p>
                     <div class="infoboxnote" id="GUID-19CD8791-B61F-421D-90DE-6E07E10B0C46__GUID-C7B5E094-A9E4-41FD-8876-90DC419A7DE4">
                        <p class="notep1">注意：</p>
                        <p>一个<code class="codeph">ALTER DATABASE</code>发出声明当电流容器是PDB，其包括被支撑为一个条款<code class="codeph">ALTER PLUGGABLE DATABASE</code>语句具有作为相应的相同的效果<code class="codeph">ALTER PLUGGABLE DATABASE</code>语句。但是，这些语句不能包含特定于PDB的子句，例如<span class="italic">pdb_storage_clause</span> ， <span class="italic">pdb_change_state_clause</span> ， <span class="italic">logging_clause</span>和<span class="italic">pdb_recovery_clause</span> 。
                        </p>
                     </div>
                     <p>本节包含以下主题：</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="administering-pdbs-with-sql-plus.html#GUID-A8A2A8D1-D63E-4518-981B-AD25609F01CB">存储条款</a><br>使用<code class="codeph">ALTER PLUGGABLE DATABASE</code>在PDB级别配置存储。
                        </li>
                        <li class="ulchildlink"><a href="administering-pdbs-with-sql-plus.html#GUID-FB18A205-38C5-4DAF-A76C-7B813828A971">记录和恢复条款</a><br>使用<code class="codeph">ALTER PLUGGABLE DATABASE</code>在PDB级别设置日志记录和恢复和恢复模式。
                        </li>
                        <li class="ulchildlink"><a href="administering-pdbs-with-sql-plus.html#GUID-CA5AB30F-40B6-4587-9FD3-C00C34D0C872">杂项条款</a><br>您可以使用<code class="codeph">ALTER PLUGGABLE DATABASE</code>修改打开模式，全局名称，时区和默认版本。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="administering-pdbs-with-sql-plus.html#GUID-0200CF6A-8822-4347-9410-4435FDB47745" title="您可以使用ALTER PLUGGABLE DATABASE语句修改PDB。">在数据库级别修改PDB</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="sect4"><a id="GUID-A8A2A8D1-D63E-4518-981B-AD25609F01CB" name="GUID-A8A2A8D1-D63E-4518-981B-AD25609F01CB"></a><h5 id="MULTI-GUID-A8A2A8D1-D63E-4518-981B-AD25609F01CB" class="sect5"><span class="enumeration_section">15.4.1.1</span>存储条款</h5>
                     <div>
                        <p>使用<code class="codeph">ALTER PLUGGABLE DATABASE</code>在PDB级别配置存储。
                        </p>
                        <p><code class="codeph">ALTER PLUGGABLE DATABASE</code>的以下子句修改PDB存储：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="italic">database_file_clauses</span></p>
                              <p>这些子句与<code class="codeph">ALTER DATABASE</code>语句中的子句相同，但该语句适用于当前的PDB。</p>
                           </li>
                           <li>
                              <p><code class="codeph">DEFAULT TABLESPACE</code>子句</p>
                              <p>对于在当前容器是PDB时创建的用户，如果未在<code class="codeph">CREATE USER</code>语句中指定缺省表空间，则此子句指定用户的缺省表空间。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">DEFAULT TEMPORARY TABLESPACE</code>子句</p>
                              <p>对于在当前容器是PDB时创建的用户，如果未在<code class="codeph">CREATE USER</code>语句中指定缺省临时表空间，则此子句为用户指定缺省临时表空间。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">SET DEFAULT { BIGFILE | SMALLFILE } TABLESPACE</code>子句</p>
                              <p>此子句将PDB中随后创建的表空间的默认类型更改为bigfile或smallfile。此子句与<code class="codeph">ALTER DATABASE</code>语句中的子句相同，但它适用于当前的PDB。</p>
                           </li>
                           <li>
                              <p><span class="italic">pdb_storage_clause</span></p>
                              <p>此子句设置对属于PDB的所有表空间使用的存储量的限制。此限制适用于包含属于PDB的表空间的所有数据文件和临时文件的总大小。</p>
                              <p>此子句还可以设置PDB中统一审计OS溢出（.bin格式）文件可以使用的存储量的限制。如果达到限制，则这些文件没有可用的额外存储空间。</p>
                              <p>此子句还可以对共享临时表空间中的存储量设置限制，该表空间可以由连接到PDB的会话使用。如果达到限制，则共享临时表空间中的其他存储空间不可用于连接到PDB的会话。</p>
                           </li>
                        </ul>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="administering-pdbs-with-sql-plus.html#GUID-19CD8791-B61F-421D-90DE-6E07E10B0C46" title="PDB的ALTER PLUGGABLE DATABASE类似于非CDB的ALTER DATABASE。">关于PDB的数据库级修改</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-FB18A205-38C5-4DAF-A76C-7B813828A971" name="GUID-FB18A205-38C5-4DAF-A76C-7B813828A971"></a><h5 id="MULTI-GUID-FB18A205-38C5-4DAF-A76C-7B813828A971" class="sect5"><span class="enumeration_section">15.4.1.2</span>记录和恢复条款</h5>
                     <div>
                        <p>使用<code class="codeph">ALTER PLUGGABLE DATABASE</code>在PDB级别设置日志记录和恢复和恢复模式。
                        </p>
                        <div class="section">
                           <p class="subhead3" id="GUID-FB18A205-38C5-4DAF-A76C-7B813828A971__GUID-35BC1CE7-9CD9-4F01-9717-C6E6BE8754D8">logging_clause</p>
                           <div class="infoboxnote" id="GUID-FB18A205-38C5-4DAF-A76C-7B813828A971__GUID-F433CF7E-0E56-4B88-AEF0-EAB00FE19376">
                              <p class="notep1">注意：</p>
                              <p>从<span>Oracle Database 12c</span>第1版（12.1.0.2）开始提供此子句。
                              </p>
                           </div>
                           <p>此子句指定PDB的日志记录属性。 logging属性控制是否在重做日志文件（ <code class="codeph">LOGGING</code> ）中记录某些DML操作（ <code class="codeph">NOLOGGING</code> ）。
                           </p>
                           <p>您可以使用此子句指定以下属性之一：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">LOGGING</code>表示默认情况下将使用<code class="codeph">LOGGING</code>属性创建在PDB中创建的任何未来表空间。例如，您可以在<code class="codeph">CREATE TABLE</code>语句中通过在架构对象级别指定<code class="codeph">NOLOGGING</code>来覆盖此默认日志记录属性。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">NOLOGGING</code>表示默认情况下将使用<code class="codeph">NOLOGGING</code>属性创建在PDB中创建的任何未来表空间。例如，您可以通过在<code class="codeph">CREATE TABLE</code>语句中指定架构对象级别的<code class="codeph">LOGGING</code>来覆盖此默认日志记录属性。
                                 </p>
                              </li>
                           </ul>
                           <p>如果未在<code class="codeph">CREATE TABLESPACE</code>语句中指定<span class="italic">logging_clause，</span>则指定的属性用于建立在PDB中创建的表空间的日志记录属性。
                           </p>
                           <p><code class="codeph">DBA_PDBS</code>视图显示PDB的当前日志记录属性。</p>
                           <div class="infoboxnote" id="GUID-FB18A205-38C5-4DAF-A76C-7B813828A971__GUID-3B0B6E2A-6D2A-4961-A0DA-1327535B3F75">
                              <p class="notep1">注意：</p>
                              <p>PDB必须在受限模式下打开才能使用此子句。</p>
                           </div>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-FB18A205-38C5-4DAF-A76C-7B813828A971__GUID-F9019E4E-CC14-4E20-9F66-7A7C6A5400D8">pdb_force_logging_clause</p>
                           <div class="infoboxnote" id="GUID-FB18A205-38C5-4DAF-A76C-7B813828A971__THISCLAUSEISAVAILABLESTARTINGWITHOR-143224-F0A3C58A">
                              <p class="notep1">注意：</p>
                              <p>从<span>Oracle Database 12c</span>第1版（12.1.0.2）开始提供此子句。
                              </p>
                           </div>
                           <p>该子句将PDB置于强制日志记录或强制nologging模式，或者将PDB置于强制日志记录或强制nologging模式之下。</p>
                           <p>您可以使用此子句指定以下属性之一：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">ENABLE FORCE LOGGING</code>将PDB置于强制日志记录模式，这将导致PDB中的所有更改（临时表空间和临时段中的更改除外）被记录。无法在架构对象级别覆盖强制日志记录模式。
                                 </p>
                                 <p>PDB级别强制日志记录模式优先于并且独立于为PDB中的各个表空间指定的任何<code class="codeph">NOLOGGING</code>或<code class="codeph">FORCE LOGGING</code>设置以及为PDB中的各个数据库对象指定的任何<code class="codeph">NOLOGGING</code>设置。</p>
                                 <p>如果PDB处于有效的nologging模式，则无法指定<code class="codeph">ENABLE FORCE LOGGING</code> 。必须首先指定<code class="codeph">DISABLE FORCE NOLOGGING</code> 。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">DISABLE FORCE LOGGING</code>采用当前处于该模式之外的强制记录模式的PDB。如果当前PDB未处于强制记录模式，则指定<code class="codeph">DISABLE FORCE LOGGING</code>导致错误。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">ENABLE FORCE NOLOGGING</code>将PDB置于强制nologging模式，这样不会记录PDB中的任何更改。无法在架构对象级别覆盖强制nologging模式。
                                 </p>
                                 <p>CDB范围的力记录模式取代PDB级力量记录模式。PDB级强制nologging模式优先于PDB中为各个表空间指定的任何<code class="codeph">LOGGING</code>或<code class="codeph">FORCE LOGGING</code>设置，并且与您为PDB中的各个数据库对象指定的任何<code class="codeph">LOGGING</code>设置无关。</p>
                                 <p>如果PDB处于强制记录模式，则无法指定<code class="codeph">ENABLE FORCE NOLOGGING</code> 。必须首先指定<code class="codeph">DISABLE FORCE LOGGING</code> 。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">DISABLE FORCE NOLOGGING</code>采用当前有效的nologging模式的PDB。如果PDB当前没有强制使用nologging模式，则指定<code class="codeph">DISABLE FORCE NOLOGGING</code>导致错误。
                                 </p>
                              </li>
                           </ul>
                           <p><code class="codeph">DBA_PDBS</code>视图显示PDB是强制记录还是强制nologging模式。
                           </p>
                           <div class="infoboxnote" id="GUID-FB18A205-38C5-4DAF-A76C-7B813828A971__THEPDBMUSTBEOPENINRESTRICTEDMODETOU-143229-F0A3C58A">
                              <p class="notep1">注意：</p>
                              <p>PDB必须在受限模式下打开才能使用此子句。</p>
                           </div>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-FB18A205-38C5-4DAF-A76C-7B813828A971__GUID-9C73E3BB-30B9-4F4F-951A-824E85AF885A">pdb_recovery_clause</p>
                           <div class="infoboxnote" id="GUID-FB18A205-38C5-4DAF-A76C-7B813828A971__THISCLAUSEISAVAILABLESTARTINGWITHOR-F0A3C70A">
                              <p class="notep1">注意：</p>
                              <p>从<span>Oracle Database 12c</span>第1版（12.1.0.2）开始提供此子句。
                              </p>
                           </div>
                           <p><code class="codeph">ALTER PLUGGABLE DATABASE DISABLE RECOVERY</code>使属于PDB的数据文件脱机并禁用PDB的恢复。在再次启用之前，PDB数据文件不是任何恢复会话的一部分。禁用恢复时创建的任何新数据文件都将创建为PDB的未命名文件。</p>
                           <p><code class="codeph">ALTER PLUGGABLE DATABASE ENABLE RECOVERY</code>将属于PDB的数据文件联机并标记PDB以进行主动恢复。恢复会话包括这些文件。
                           </p>
                           <p>通过查询<code class="codeph">V$PDBS</code>视图中的<code class="codeph">RECOVERY_STATUS</code>列来检查PDB的恢复状态。
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-FB18A205-38C5-4DAF-A76C-7B813828A971__ORACLEDATABASEADMINISTRATORSGUIDEFO-F0A49DE1">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>有关<span class="italic">pdb_recovery_clause的</span>详细信息，请<span class="italic">参阅</span> <a href="../sbydb/using-RMAN-in-oracle-data-guard-configurations.html#SBYDB5261" target="_blank"><span><cite>Oracle Data Guard概念和管理</cite></span></a> 。
                                 </p>
                              </li>
                              <li>
                                 <p>有关控制重做记录写入的信息，请参见<a href="../admin/managing-tablespaces.html#ADMIN-GUID-A1939693-60AC-4009-B37C-A1D8D1360D49" target="_blank"><span><cite>“Oracle数据库管理员指南”</cite></span></a></p>
                              </li>
                              <li>
                                 <p>有关logging属性的更多信息，请<a href="../sqlrf/logging_clause.html#SQLRF30009" target="_blank"><span><cite>参见Oracle Database SQL语言参考</cite></span></a></p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="administering-pdbs-with-sql-plus.html#GUID-19CD8791-B61F-421D-90DE-6E07E10B0C46" title="PDB的ALTER PLUGGABLE DATABASE类似于非CDB的ALTER DATABASE。">关于PDB的数据库级修改</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-CA5AB30F-40B6-4587-9FD3-C00C34D0C872" name="GUID-CA5AB30F-40B6-4587-9FD3-C00C34D0C872"></a><h5 id="MULTI-GUID-CA5AB30F-40B6-4587-9FD3-C00C34D0C872" class="sect5"><span class="enumeration_section">15.4.1.3</span>其他条款</h5>
                     <div>
                        <p>您可以使用<code class="codeph">ALTER PLUGGABLE DATABASE</code>修改打开模式，全局名称，时区和默认版本。
                        </p>
                        <p>当前容器是PDB时，具有以下任何子句的<code class="codeph">ALTER PLUGGABLE DATABASE</code>语句将修改PDB：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="italic">pdb_change_state_clause</span></p>
                              <p>该子句更改当前PDB的打开模式。</p>
                              <p>如果指定可选的<code class="codeph">RESTRICTED</code>关键字，则PDB只能由PDB中具有<code class="codeph">RESTRICTED SESSION</code>权限的用户访问。</p>
                              <p>在此子句中指定<code class="codeph">FORCE</code>更改<code class="codeph">ALTER PLUGGABLE DATABASE</code>语句的语义，以便除了打开当前关闭的PDB之外，还可以使用它来更改已打开的PDB的打开模式。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">RENAME GLOBAL_NAME</code>条款</p>
                              <p>此子句更改PDB的唯一全局数据库名称。新的全局数据库名称必须与CDB中的任何容器的名称不同。更改PDB的全局数据库名称时，PDB名称将更改为全局数据库名称中第一个句点之前的名称。</p>
                              <p>更改全局数据库名称时，必须更改用于连接到<code class="codeph">PDB</code>的数据库服务的<code class="codeph">PDB</code>属性。
                              </p>
                           </li>
                           <li>
                              <p><span class="italic">set_time_zone_clause</span></p>
                              <p>此子句与<code class="codeph">ALTER DATABASE</code>语句中的子句相同，但它适用于当前的PDB。</p>
                           </li>
                           <li>
                              <p><code class="codeph">DEFAULT EDITION</code>条款</p>
                              <p>此子句与<code class="codeph">ALTER DATABASE</code>语句中的子句相同，但它适用于当前的PDB。每个PDB都可以使用基于版本的重新定义，并且一个PDB中的版本不会影响其他PDB中的版本。在每个PDB都有自己的应用程序的多租户环境中，您可以为每个不同的应用程序独立使用基于版本的重新定义。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-CA5AB30F-40B6-4587-9FD3-C00C34D0C872__NOTE-1425-F09F81AC">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="q">“ <a href="administering-pdbs-with-sql-plus.html#GUID-6FDBCEFC-29DF-4CBB-A000-B105A7328955" title="您可以为PDB创建，修改或删除服务。">管理PDB服务</a> ”</span></p>
                              </li>
                              <li>
                                 <p><span class="q">“ <a href="administering-a-cdb-with-sql-plus.html#GUID-A94D87DC-6954-454C-9230-D6E43845EC3C" title="您可以使用带有pdb_change_state子句的ALTER PLUGGABLE DATABASE语句修改PDB的打开模式。">使用ALTER PLUGGABLE DATABASE修改PDB的开放模式</a> ”</span></p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="administering-pdbs-with-sql-plus.html#GUID-19CD8791-B61F-421D-90DE-6E07E10B0C46" title="PDB的ALTER PLUGGABLE DATABASE类似于非CDB的ALTER DATABASE。">关于PDB的数据库级修改</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="ADMIN13972"></a><a id="ADMIN13643"></a><a id="ADMIN13672"></a><a id="ADMIN13864"></a><a id="ADMIN13683"></a><a id="ADMIN14298"></a><a id="ADMIN14299"></a><a id="ADMIN13718"></a><a id="ADMIN13641"></a><div class="props_rev_3"><a id="GUID-E73BCAED-FF57-474A-A8C5-207D3F465413" name="GUID-E73BCAED-FF57-474A-A8C5-207D3F465413"></a><h4 id="MULTI-GUID-E73BCAED-FF57-474A-A8C5-207D3F465413" class="sect4"><span class="enumeration_section">15.4.2</span>使用ALTER PLUGGABLE DATABASE语句修改PDB</h4>
                  <div>
                     <p>要修改单个PDB的属性，请使用<code class="codeph">ALTER PLUGGABLE DATABASE</code>语句。
                     </p>
                     <div class="section">
                        <p>当前容器是PDB时， <code class="codeph">ALTER PLUGGABLE DATABASE</code>语句修改PDB。这些修改会覆盖为PDB中的根设置的默认值。这些修改不会影响CDB根或其他PDB。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E73BCAED-FF57-474A-A8C5-207D3F465413__GUID-572A2962-5742-4C47-9646-A56D0B6855F1">先决条件</p>
                        <p>必须满足以下先决条件：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>要将PDB的打开模式从挂载更改为打开或从打开更改为已挂载，当前用户必须具有<code class="codeph">SYSDBA</code> ， <code class="codeph">SYSOPER</code> ， <code class="codeph">SYSBACKUP</code>或<code class="codeph">SYSDG</code>管理权限。该权限必须在PDB中被普遍授予或在本地授予。用户必须在连接时使用<code class="codeph">AS <span class="codeinlineitalic">sys_privilege_name</span></code>行使权限。
                              </p>
                           </li>
                           <li>
                              <p>对于使用<code class="codeph">ALTER PLUGGABLE DATABASE</code>语句执行的所有其他操作，当前用户必须具有<code class="codeph">ALTER DATABASE</code>系统特权，并且必须在PDB中共同授予或本地授予特权。</p>
                           </li>
                           <li>
                              <p>要关闭PDB，PDB必须是开放的。</p>
                           </li>
                        </ul>
                        <div class="infoboxnote" id="GUID-E73BCAED-FF57-474A-A8C5-207D3F465413__GUID-70070AE7-FA14-4E8B-BB79-B11DD3C86BFF">
                           <p class="notep1">注意：</p>
                           <p>本节不涉及使用<code class="codeph">ALTER PLUGGABLE DATABASE</code>语句<code class="codeph">ALTER PLUGGABLE DATABASE</code> PDB的全局数据库名称。
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E73BCAED-FF57-474A-A8C5-207D3F465413__GUID-297C50E7-028A-4A2C-9CB5-51755220EB08">要修改PDB：</p>
                        <ol>
                           <li>
                              <p>在SQL * Plus中，确保当前容器是PDB。</p>
                           </li>
                           <li>
                              <p>运行<code class="codeph">ALTER PLUGGABLE DATABASE</code>语句。
                              </p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-E73BCAED-FF57-474A-A8C5-207D3F465413__BAJIEAFG">
                        <p class="titleinexample">示例15-14更改PDB的开放模式</p>
                        <p>此<code class="codeph">ALTER PLUGGABLE DATABASE</code>语句将当前PDB的打开模式更改为已挂载。
                        </p><pre class="pre codeblock"><code>ALTER PLOGGABLE DATABASE CLOSE IMMEDIATE;</code></pre><p>以下语句将当前PDB的打开模式更改为以只读方式打开。</p><pre class="pre codeblock"><code>ALTER PLUGGABLE DATABASE OPEN READ ONLY;</code></pre><p>除非指定<code class="codeph">FORCE</code>关键字，否则PDB必须处于挂载模式才能将其打开模式更改为只读或读/写。
                        </p>
                        <p>以下语句将当前PDB的打开模式从已装入或打开的只读更改为打开的读/写。</p><pre class="pre codeblock"><code>ALTER PLOGGABLE DATABASE OPEN FORCE;</code></pre><p>以下语句将当前PDB的打开模式从挂载更改为迁移。</p><pre class="pre codeblock"><code>ALTER PLOGGABLE DATABASE OPEN UPGRADE;</code></pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-E73BCAED-FF57-474A-A8C5-207D3F465413__BAJJIGEH">
                        <p class="titleinexample">示例15-15为PDB联机提供数据文件</p>
                        <p>此<code class="codeph">ALTER PLUGGABLE DATABASE</code>语句使用<span class="italic">database_file_clause</span>将<code class="codeph">/u03/oracle/pdb1_01.dbf</code>数据文件联机。
                        </p><pre class="pre codeblock"><code>ALTER PLUGGABLE DATABASE DATAFILE'/u03/oracle/pdb1_01.dbf'ONLINE;</code></pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-E73BCAED-FF57-474A-A8C5-207D3F465413__BAJIHBGD">
                        <p class="titleinexample">示例15-16更改PDB的默认表空间</p>
                        <p>此<code class="codeph">ALTER PLUGGABLE DATABASE</code>语句使用<code class="codeph">DEFAULT TABLESPACE</code>子句将PDB的默认永久表空间设置为<code class="codeph">pdb1_tbs</code> 。</p><pre class="pre codeblock"><code>ALTER PLUGGABLE DATABASE DEFAULT TABLESPACE pdb1_tbs;</code></pre><p>此<code class="codeph">ALTER PLUGGABLE DATABASE</code>语句使用<code class="codeph">DEFAULT TEMPORARY TABLESPACE</code>子句将PDB的默认临时表空间设置为<code class="codeph">pdb1_temp</code> 。</p><pre class="pre codeblock"><code>ALTER PLOGGABLE DATABASE DEFAULT TEMPORARY TABLESPACE pdb1_temp;</code></pre><p><code class="codeph">ALTER PLUGGABLE DATABASE</code>语句中指定的表空间或表空间组必须存在于PDB中。当前容器是未明确分配默认表空间或默认临时表空间的PDB的用户使用PDB的默认表空间或默认临时表空间。</p>
                     </div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-E73BCAED-FF57-474A-A8C5-207D3F465413__BAJHJDIJ">
                        <p class="titleinexample">示例15-17更改PDB的默认表空间类型</p>
                        <p>此<code class="codeph">ALTER DATABASE</code>语句使用<code class="codeph">SET DEFAULT TABLESPACE</code>子句将默认表空间类型更改为PDB的bigfile。</p><pre class="pre codeblock"><code>ALTER PLOGGABLE DATABASE SET DEFAULT BIGFILE TABLESPACE;</code></pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-E73BCAED-FF57-474A-A8C5-207D3F465413__BABJCAHB">
                        <p class="titleinexample">示例15-18设置PDB的存储限制</p>
                        <p>此语句将属于PDB的所有表空间的存储限制设置为2 GB。</p><pre class="pre codeblock"><code>ALTER PLOGGABLE DATABASE STORAGE（MAXSIZE 2G）;</code></pre><p>此语句指定属于PDB的表空间没有存储限制。</p><pre class="pre codeblock"><code>ALTER PLOGGABLE DATABASE STORAGE（MAXSIZE UNLIMITED）;</code></pre><p>此语句指定属于PDB的表空间没有存储限制，并且连接到PDB的会话可以使用共享临时表空间没有存储限制。</p><pre class="pre codeblock"><code>ALTER PLOGGABLE DATABASE STORAGE UNLIMITED;</code></pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-E73BCAED-FF57-474A-A8C5-207D3F465413__GUID-819C5665-DA32-4311-9738-C383A6B8B637">
                        <p class="titleinexample">示例15-19设置PDB的日志记录属性</p>
                        <p>在PDB以限制模式打开时，此语句指定PDB的<code class="codeph">NOLOGGING</code>属性：</p><pre class="pre codeblock"><code>ALTER PLOGGABLE DATABASE NOLOGGING;</code></pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-E73BCAED-FF57-474A-A8C5-207D3F465413__BAJBEFEI">
                        <p class="titleinexample">示例15-20设置PDB的强制记录模式</p>
                        <p>此语句为PDB启用强制日志记录模式：</p><pre class="pre codeblock"><code>ALTER PLOGGABLE DATABASE ENABLE FORCE LOGGING;</code></pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-E73BCAED-FF57-474A-A8C5-207D3F465413__BAJGEJDE">
                        <p class="titleinexample">示例15-21设置PDB的默认版本</p>
                        <p>此示例将当前PDB的默认版本设置为<code class="codeph">PDB1E3</code> 。
                        </p><pre class="pre codeblock"><code>ALTER PLUGGABLE DATABASE DEFAULT EDITION = PDB1E3;</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-E73BCAED-FF57-474A-A8C5-207D3F465413__GUID-D5BE672A-7874-49FD-8F19-26D635D46EA8">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="administering-pdbs-with-sql-plus.html#GUID-19CD8791-B61F-421D-90DE-6E07E10B0C46" title="PDB的ALTER PLUGGABLE DATABASE类似于非CDB的ALTER DATABASE。">关于PDB的数据库级修改</a> ”，</span>以获取有关修改单个PDB的属性的子句的信息</p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="administering-pdbs-with-sql-plus.html#GUID-2003FF3F-C403-45B7-B198-4CAF7172A4F4" title="您可以使用ALTER PLUGGABLE DATABASE RENAME GLOBAL_NAME TO语句更改PDB的全局数据库名称。">更改PDB的全局数据库名称</a> ”</span></p>
                           </li>
                           <li>
                              <p>有关<code class="codeph">ALTER PLUGGABLE DATABASE</code>语句的详细信息，请<a href="../sqlrf/ALTER-PLUGGABLE-DATABASE.html#SQLRF55667" target="_blank"><span><cite>参见Oracle数据库SQL语言参考</cite></span></a></p>
                           </li>
                           <li>
                              <p><a href="../adfns/editions.html#ADFNS020" target="_blank"><span><cite>Oracle数据库开发指南</cite></span></a> ，完整讨论基于版本的重新定义</p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="administering-pdbs-with-sql-plus.html#GUID-0200CF6A-8822-4347-9410-4435FDB47745" title="您可以使用ALTER PLUGGABLE DATABASE语句修改PDB。">在数据库级别修改PDB</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN14188"></a><div class="props_rev_3"><a id="GUID-2003FF3F-C403-45B7-B198-4CAF7172A4F4" name="GUID-2003FF3F-C403-45B7-B198-4CAF7172A4F4"></a><h4 id="MULTI-GUID-2003FF3F-C403-45B7-B198-4CAF7172A4F4" class="sect4"><span class="enumeration_section">15.4.3</span>更改PDB的全局数据库名称</h4>
                  <div>
                     <p>您可以使用<code class="codeph">ALTER PLUGGABLE DATABASE RENAME GLOBAL_NAME TO</code>语句<code class="codeph">ALTER PLUGGABLE DATABASE RENAME GLOBAL_NAME TO</code> PDB的全局数据库名称。
                     </p>
                     <div class="section">
                        <p>更改PDB的全局数据库名称时，新的全局数据库名称必须与CDB中的任何容器的名称不同。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2003FF3F-C403-45B7-B198-4CAF7172A4F4__GUID-CF6B72CE-2FAC-445A-B88F-5C481C14AF7D">先决条件</p>
                        <p>必须满足以下先决条件：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>当前用户必须具有<code class="codeph">ALTER DATABASE</code>系统特权，并且必须在PDB中共同授予或本地授予该特权。</p>
                           </li>
                           <li>
                              <p>对于Oracle Real Application Clusters（Oracle RAC）数据库，PDB必须仅在当前实例上打开。必须在所有其他实例上关闭PDB。</p>
                           </li>
                           <li>
                              <p>正在修改的PDB必须在读/写模式下在当前实例上打开，并指定<code class="codeph">RESTRICTED</code>以便只有PDB中具有<code class="codeph">RESTRICTED SESSION</code>特权的用户才能访问它。</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2003FF3F-C403-45B7-B198-4CAF7172A4F4__GUID-488604A2-B01B-405A-B2EA-D47995B9EEDA">要更改PDB的全局数据库名称：</p>
                        <ol>
                           <li>
                              <p>在SQL * Plus中，确保当前容器是PDB。</p>
                           </li>
                           <li>
                              <p>运行<code class="codeph">ALTER PLUGGABLE DATABASE RENAME GLOBAL_NAME TO</code>语句。
                              </p>
                              <p>以下示例将PDB的全局数据库名称更改为<code class="codeph">salespdb.example.com</code> ：</p><pre class="pre codeblock"><code>ALTER PLUGGABLE DATABASE重命名GLOBAL_NAME至salespdb.example.com;</code></pre></li>
                           <li id="GUID-2003FF3F-C403-45B7-B198-4CAF7172A4F4__BAJEJGFD">
                              <p>关闭PDB。</p>
                           </li>
                           <li id="GUID-2003FF3F-C403-45B7-B198-4CAF7172A4F4__BAJJAJFE">
                              <p>以读/写模式打开PDB。</p>
                           </li>
                        </ol>
                        <p>更改PDB的全局数据库名称时，PDB名称将更改为新全局名称的第一部分，即新第一个时间段之前的部分。此外，Oracle数据库会自动更改PDB的默认数据库服务的名称。Oracle数据库还将<code class="codeph">PDB</code>中所有数据库服务的<code class="codeph">PDB</code>属性更改为<code class="codeph">PDB</code>的新全局名称。必须关闭PDB并在Oracle数据库的读/写模式下打开它才能完成新PDB服务名称与CDB的集成。</p>
                        <p>必须正确配置Oracle Net Services才能使客户端访问数据库服务。由于PDB名称更改，您可能需要更改Oracle Net Services配置。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-2003FF3F-C403-45B7-B198-4CAF7172A4F4__GUID-CEBC7993-1B7B-49A3-83E4-7AB10BECF828">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="administering-pdbs-with-sql-plus.html#GUID-EA62913A-8033-4D76-8835-055FB3076D09" title="您可以使用多种技术通过SQL * Plus CONNECT命令连接到PDB。">连接到PDB</a> ”</span></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="administering-pdbs-with-sql-plus.html#GUID-6FDBCEFC-29DF-4CBB-A000-B105A7328955" title="您可以为PDB创建，修改或删除服务。">管理PDB服务</a> ”</span>以获取有关PDB和数据库服务的信息</p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="administering-pdbs-with-sql-plus.html#GUID-0200CF6A-8822-4347-9410-4435FDB47745" title="您可以使用ALTER PLUGGABLE DATABASE语句修改PDB。">在数据库级别修改PDB</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-666252E7-BE9E-4D59-B8A4-86F80A7B186A" name="GUID-666252E7-BE9E-4D59-B8A4-86F80A7B186A"></a><h4 id="MULTI-GUID-666252E7-BE9E-4D59-B8A4-86F80A7B186A" class="sect4"><span class="enumeration_section">15.4.4</span>管理可刷新的克隆PDB</h4>
                  <div>
                     <p><span><strong class="term">可刷新克隆PDB</strong>是<span id="d163e422">只读克隆，可以定期与其源PDB同步。</span></span></p>
                     <p>本节包含以下主题：</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="administering-pdbs-with-sql-plus.html#GUID-80301677-C50F-45DE-AF6C-35492F11A49F">刷新PDB</a><br>您可以刷新作为可刷新克隆创建的PDB。
                        </li>
                        <li class="ulchildlink"><a href="administering-pdbs-with-sql-plus.html#GUID-B505C234-FAF4-4BAB-8B59-59276E0EA128">切换可刷新的克隆PDB</a><br>您可以切换源PDB及其可刷新克隆PDB的角色。</li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="administering-pdbs-with-sql-plus.html#GUID-0200CF6A-8822-4347-9410-4435FDB47745" title="您可以使用ALTER PLUGGABLE DATABASE语句修改PDB。">在数据库级别修改PDB</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="sect4"><a id="GUID-80301677-C50F-45DE-AF6C-35492F11A49F" name="GUID-80301677-C50F-45DE-AF6C-35492F11A49F"></a><h5 id="MULTI-GUID-80301677-C50F-45DE-AF6C-35492F11A49F" class="sect5"><span class="enumeration_section">15.4.4.1</span>刷新PDB</h5>
                     <div>
                        <p>您可以刷新作为可刷新克隆创建的PDB。</p>
                        <div class="section">
                           <p>手动刷新PDB时，自上次刷新以来对源PDB所做的更改将传播到正在刷新的PDB。您可以手动刷新配置为自动刷新的PDB。</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-80301677-C50F-45DE-AF6C-35492F11A49F__GUID-2D6F8EE2-E337-426A-8688-CC0181F75B04">先决条件</p>
                           <p>要刷新PDB，必须将PDB创建为包含<code class="codeph">REFRESH MODE MANUAL</code>或<code class="codeph">REFRESH MODE EVERY <span class="codeinlineitalic">minutes</span></code>子句的克隆。
                           </p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>在SQL * Plus中，确保当前容器是要刷新的PDB。</span></li>
                           <li class="stepexpand"><span>如果PDB未关闭，则关闭PDB。例如，发出以下SQL语句：</span><div><code class="codeph">ALTER PLOGGABLE DATABASE CLOSE IMMEDIATE;</code></div>
                           </li>
                           <li class="stepexpand"><span>发出以下SQL语句：</span><div><code class="codeph">ALTER PLOGGABLE DATABASE REFRESH;</code></div>
                           </li>
                        </ol>
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>相关话题</strong></p>
                           <ul>
                              <li><a href="cloning-a-pdb.html#GUID-C476B273-469B-4999-8637-A6BA1BD6300A" title="CREATE PLUGGABLE DATABASE ...REFRESH MODE语句克隆源PDB并将克隆配置为可刷新。刷新克隆PDB使用自上次重做日志应用以来累积的重做更新它。">关于可刷新克隆PDB</a></li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="administering-pdbs-with-sql-plus.html#GUID-666252E7-BE9E-4D59-B8A4-86F80A7B186A" title="可刷新克隆PDB是只读克隆，可以定期与其源PDB同步。">管理可刷新克隆PDB</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-B505C234-FAF4-4BAB-8B59-59276E0EA128" name="GUID-B505C234-FAF4-4BAB-8B59-59276E0EA128"></a><h5 id="MULTI-GUID-B505C234-FAF4-4BAB-8B59-59276E0EA128" class="sect5"><span class="enumeration_section">15.4.4.2</span>切换可刷新克隆PDB</h5>
                     <div>
                        <p>您可以切换源PDB及其可刷新克隆PDB的角色。</p>
                        <div class="section">
                           <p>以下语句执行切换：</p><pre class="pre codeblock"><code>ALTER PLUGGABLE DATABASE <span class="italic">refresh_mode</span> FROM <span class="italic">clonepdb @ dblink SWITCHOVER</span> ;</code></pre><p>您不能为<code class="codeph"><span class="codeinlineitalic">refresh_mode</span></code>指定<code class="codeph">REFRESH MODE NONE</code> 。<code class="codeph">FROM</code>子句中指定的数据库链接必须指向克隆PDB所在的CDB的根目录。
                           </p>
                           <p>切换完成后，源PDB成为可刷新的克隆PDB，只能在<code class="codeph">READ ONLY</code>模式下打开。
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-B505C234-FAF4-4BAB-8B59-59276E0EA128__GUID-BEE65915-0B03-4B67-8126-9FC906BB3D2E">先决条件</p>
                           <p>您必须满足以下先决条件：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>发出<code class="codeph">ALTER PLUGGABLE DATABASE ...时必须连接到源PDB <code class="codeph">ALTER PLUGGABLE DATABASE ...SWITCHOVER</code> 。</p>
                              </li>
                              <li>
                                 <p>如果源PDB和克隆PDB位于单独的CDB中，则数据库链接中指定的用户必须在源PDB中具有相同的名称和密码并克隆PDB。</p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-B505C234-FAF4-4BAB-8B59-59276E0EA128__GUID-3D2F1DC8-D775-4519-808B-0F24BE908EC8">要切换源和克隆PDB的角色：</p>
                           <ol>
                              <li>
                                 <p>在SQL * Plus或SQL Developer中，登录到源PDB。</p>
                              </li>
                              <li>
                                 <p>执行<code class="codeph">ALTER PLUGGABLE DATABASE <span class="codeinlineitalic">refresh_mode</span> FROM <span class="codeinlineitalic">clonepdb@dblink</span> SWITCHOVER</code>语句。
                                 </p>
                                 <p>语句完成后，当前连接的PDB现在是可刷新的克隆PDB。</p>
                              </li>
                              <li>
                                 <p>（可选）刷新克隆PDB：</p><pre class="pre codeblock"><code>ALTER PLOGGABLE DATABASE REFRESH;</code></pre></li>
                           </ol>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-B505C234-FAF4-4BAB-8B59-59276E0EA128__GUID-F9FE235C-BF26-489D-B684-10C5C9328467">
                           <p class="titleinexample">例15-22切换可刷新克隆PDB</p>
                           <p>此示例假定您的数据中心包含名为<code class="codeph">cdb1</code>和<code class="codeph">cdb2</code> CDB。名为<code class="codeph">cdb1_pdb1</code>的PDB位于<code class="codeph">cdb1</code> 。您想在<code class="codeph">cdb2</code>创建此PDB的可刷新克隆，并将其命名为<code class="codeph">cdb1_pdb1_ref</code> 。您的目标是切换<code class="codeph">cdb1_pdb1_ref</code> ，使其成为源PDB， <code class="codeph">cdb1_pdb1</code>成为克隆PDB。</p>
                           <ol>
                              <li>
                                 <p>在SQL * Plus中，以具有管理员权限的用户身份连接到<code class="codeph">cdb1</code> ，然后确保<code class="codeph">cdb1_pdb1</code>在读/写模式下打开（包括示例输出）：</p><pre class="pre codeblock"><code>CONNECT SYS @ cdb1 AS SYSDBA输入密码：******* ALTER PLUGGABLE DATABASE ALL CLOSE; ALTER PLUGGABLE DATABASE cdb1_pdb1 OPEN READ WRITE; SHOW PDBS; CON_ID CON_NAME OPEN MODE RESTRICTED ---------- ------------------------------ ----- ----- ---------- 2 PDB $ SEED READ ONLY NO 3 CDB1_PDB1 READ WRITE NO</code></pre></li>
                              <li>
                                 <p>创建一个名为<code class="codeph">c##u1</code>的公共用户（用用户指定的密码替换<span class="italic">pwd</span> ）：</p><pre class="pre codeblock"><code>DROP USER c ## u1 CASCADE;创建用户c ## u1由<span class="italic">pwd</span>识别;授予创建会话，资源，创建任何表格，无限制的表格到c ## u1 CONTAINER = ALL; GRANT CREATE PLUGGABLE DATABASE to c ## u1 CONTAINER = ALL; GRANT SYSOPER to c ## u1 CONTAINER = ALL;</code></pre></li>
                              <li>
                                 <p>将容器设置为<code class="codeph">cdb1_pdb1</code> ，然后创建一个用于测试的表<code class="codeph">t1</code> （包括样本输出）：</p><pre class="pre codeblock"><code>ALTER SESSION SET CONTAINER = cdb1_pdb1; CREATE TABLE t1（n1 NUMBER）;插入t1值（1）;承诺; SELECT * FROM t1; N1 ---------- 1</code></pre></li>
                              <li>
                                 <p>以具有管理员权限的用户身份连接到<code class="codeph">cdb2</code> ，然后创建名为<code class="codeph">c##u1</code>的公共用户（使用用户指定的密码替换<span class="italic">pwd</span> ）：</p><pre class="pre codeblock"><code>CONNECT SYS @ cdb2 AS SYSDBA输入密码：******* DROP USER c ## u1 CASCADE;创建用户c ## u1由<span class="italic">pwd</span>识别;授予创建会话，资源，创建任何表格，无限制的表格到c ## u1 CONTAINER = ALL; GRANT CREATE PLUGGABLE DATABASE to c ## u1 CONTAINER = ALL; GRANT SYSOPER to c ## u1 CONTAINER = ALL;</code></pre><p>现在<code class="codeph">cdb1</code>和<code class="codeph">cdb2</code>都有一个具有相同名称（ <code class="codeph">c##u1</code> ）和密码的普通用户。
                                 </p>
                              </li>
                              <li>
                                 <p>创建到<code class="codeph">cdb1</code>的数据库链接。
                                 </p>
                                 <p>以下命令指定用户<code class="codeph">c##u1</code> ，密码<span class="italic">pwd</span>和服务名称<code class="codeph">cdb1</code> ：</p><pre class="pre codeblock"><code>创建数据库链接cdb1_datalink连接到c ## u1通过<span class="italic">pwd</span>使用'cdb1'识别;</code></pre></li>
                              <li>
                                 <p>创建名为<code class="codeph">cdb1_pdb1_ref</code>可手动刷新的PDB。
                                 </p>
                                 <p>以下语句指定数据库链接<code class="codeph">cdb1_datalink</code>和文件destination <code class="codeph">/dsk1/df</code> ：</p><pre class="pre codeblock"><code>CREATE PLUGGABLE DATABASE cdb1_pdb1_ref FROM cdb1_pdb1 @ cdb1_datalink CREATE_FILE_DEST ='/ dsk1 / df'REFRESH MODE MANUAL;</code></pre></li>
                              <li>
                                 <p>刷新<code class="codeph">cdb1_pdb1_ref</code> ：</p><pre class="pre codeblock"><code>ALTER SESSION SET CONTAINER = cdb1_pdb1_ref; ALTER PLOGGABLE DATABASE REFRESH;</code></pre></li>
                              <li>
                                 <p>查询<code class="codeph">t1</code>以检查可刷新克隆PDB是否包含正确的内容（包括样本输出）：</p><pre class="pre codeblock"><code>ALTER PLUGGABLE DATABASE OPEN READ ONLY; SELECT * FROM t1; N1 ---------- 1</code></pre></li>
                              <li>
                                 <p>以具有管理员权限的用户身份连接到<code class="codeph">cdb1</code> ，然后创建到<code class="codeph">cdb2</code>的数据库链接：</p><pre class="pre codeblock"><code>CONNECT SYS @ cdb1 AS SYSDBA输入密码：******* CREATE DATABASE LINK cdb2_datalink连接到c ## u1由<span class="italic">pwd</span>识别使用'cdb2';</code></pre><p>上述语句指定用户<code class="codeph">c##u1</code> ，密码<span class="italic">pwd</span>和服务名称<code class="codeph">cdb2</code> 。
                                 </p>
                              </li>
                              <li>
                                 <p>将容器设置为<code class="codeph">cdb1_pdb1</code> ，然后切换以使<code class="codeph">cdb1_pdb1_ref</code>是主PDB并且当前PDB是克隆：</p><pre class="pre codeblock"><code>ALTER SESSION SET CONTAINER = cdb1_pdb1; ALTER PLUGGABLE DATABASE REFRESH MODE MANUAL from cdb1_pdb1_ref @ cdb2_datalink SWITCHOVER;</code></pre></li>
                              <li>
                                 <p>查询<code class="codeph">t1</code>以检查当前PDB（现在是可刷新克隆PDB）是否包含正确的内容（包括样本输出）：</p><pre class="pre codeblock"><code>ALTER PLUGGABLE DATABASE OPEN READ ONLY; SELECT * FROM t1; N1 ---------- 1</code></pre></li>
                              <li>
                                 <p>以具有管理员权限的用户身份连接到<code class="codeph">cdb2</code> ，将容器设置为新的源PDB <code class="codeph">cdb1_pdb1_ref</code> ，然后在表<code class="codeph">t1</code>插入一个新行（包括示例输出）：</p><pre class="pre codeblock"><code>CONNECT SYS @ cdb2 AS SYSDBA输入密码：******* ALTER SESSION SET CONTAINER = cdb1_pdb1_ref; SELECT * FROM t1; N1 ---------- 1插入t1值（2）;承诺; SELECT * FROM t1; N1 ---------- 1 2</code></pre></li>
                              <li>
                                 <p>以具有管理员权限的用户身份连接到<code class="codeph">cdb1</code> ，将容器设置为<code class="codeph">cdb1_pdb1</code> （这是新克隆），刷新它，然后查询<code class="codeph">t1</code> ：</p><pre class="pre codeblock"><code>CONNECT SYS @ cdb1 AS SYSDBA输入密码：******* ALTER SESSION SET CONTAINER = cdb1_pdb1; ALTER PLOGGABLE DATABASE CLOSE IMMEDIATE; ALTER PLOGGABLE DATABASE REFRESH; ALTER PLUGGABLE DATABASE OPEN READ ONLY; SELECT * FROM t1; N1 ---------- 1 2</code></pre><p>前面的输出显示克隆<code class="codeph">cdb1_pdb1</code>已从源<code class="codeph">cdb1_pdb1_ref</code>刷新。
                                 </p>
                              </li>
                           </ol>
                        </div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="administering-pdbs-with-sql-plus.html#GUID-666252E7-BE9E-4D59-B8A4-86F80A7B186A" title="可刷新克隆PDB是只读克隆，可以定期与其源PDB同步。">管理可刷新克隆PDB</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
            </div><a id="ADMIN14097"></a><div class="props_rev_3"><a id="GUID-94AD2899-CDC1-446E-9C8B-46497BEA4A18" name="GUID-94AD2899-CDC1-446E-9C8B-46497BEA4A18"></a><h3 id="MULTI-GUID-94AD2899-CDC1-446E-9C8B-46497BEA4A18" class="sect3"><span class="enumeration_section">15.5</span>启动和关闭PDB</h3>
               <div>
                  <p>当前容器是PDB时，可以使用SQL * Plus <code class="codeph">STARTUP</code>命令打开PDB，使用SQL * Plus <code class="codeph">SHUTDOWN</code>命令关闭PDB。</p>
                  <p>本节包含以下主题：</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="administering-pdbs-with-sql-plus.html#GUID-CD8BE686-3C89-445F-8347-263758AE448E">使用STARTUP命令启动PDB</a><br>当前容器是PDB时，SQL * Plus <code class="codeph">STARTUP</code>命令打开PDB。</li>
                     <li class="ulchildlink"><a href="administering-pdbs-with-sql-plus.html#GUID-B7AD1F92-3808-4AE6-A7BE-B5EC32B5BE2B">使用SHUTDOWN命令关闭PDB</a><br>当前容器是PDB时，SQL * Plus <code class="codeph">SHUTDOWN</code>命令关闭PDB。</li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="administering-pdbs-with-sql-plus.html#GUID-702231AB-ABDA-42F4-918C-4539BF8135D6" title="管理PDB包括诸如连接到PDB，修改PDB以及管理与PDB相关联的服务之类的任务。">管理PDB</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN14099"></a><a id="ADMIN14101"></a><a id="ADMIN14100"></a><a id="ADMIN14172"></a><a id="ADMIN14098"></a><div class="props_rev_3"><a id="GUID-CD8BE686-3C89-445F-8347-263758AE448E" name="GUID-CD8BE686-3C89-445F-8347-263758AE448E"></a><h4 id="MULTI-GUID-CD8BE686-3C89-445F-8347-263758AE448E" class="sect4"><span class="enumeration_section">15.5.1</span>使用STARTUP命令启动PDB</h4>
                  <div>
                     <p>当前容器是PDB时，SQL * Plus <code class="codeph">STARTUP</code>命令打开PDB。</p>
                     <div class="section">
                        <p>使用<code class="codeph">STARTUP</code>命令的以下选项打开PDB：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">力</code></p>
                              <p>在以读/写模式重新打开PDB之前关闭它。指定此选项时，不允许其他选项。</p>
                           </li>
                           <li>
                              <p><code class="codeph">限制</code></p>
                              <p>仅允许PDB中具有<code class="codeph">RESTRICTED</code> <code class="codeph">SESSION</code>系统特权的用户访问PDB。</p>
                              <p>如果既未指定<code class="codeph">OPEN READ WRITE</code>也未指定<code class="codeph">OPEN READ ONLY</code>且指定了<code class="codeph">RESTRICT</code> ，则当PDB所属的CDB是物理备用数据库时，PDB以只读模式打开。否则，PDB以读/写模式打开。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">打开<span class="codeinlineitalic">open_pdb_options</span></code></p>
                              <p>以读/写模式或只读模式打开PDB。指定<code class="codeph">OPEN READ WRITE</code>或<code class="codeph">OPEN READ ONLY</code> 。如果未指定<code class="codeph">RESTRICT</code> ，则<code class="codeph">READ WRITE</code>始终为默认值。
                              </p>
                           </li>
                        </ul>
                        <p>要在当前容器是PDB时发出<code class="codeph">STARTUP</code>命令，必须满足以下先决条件：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>当前用户必须具有<code class="codeph">SYSDBA</code> ， <code class="codeph">SYSOPER</code> ， <code class="codeph">SYSBACKUP</code>或<code class="codeph">SYSDG</code>管理权限，并且必须在PDB中共同授予或本地授予该权限。用户必须在连接时分别使用<code class="codeph">AS SYSDBA</code> ， <code class="codeph">AS SYSOPER</code> ， <code class="codeph">AS SYSBACKUP</code>或<code class="codeph">AS SYSDG</code>来执行权限。
                              </p>
                           </li>
                           <li>
                              <p>排除使用<code class="codeph">FORCE</code>选项，PDB必须处于挂载模式才能打开它。
                              </p>
                           </li>
                           <li>
                              <p>要将PDB置于挂载模式，PDB必须处于打开的只读或开放读/写模式。</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CD8BE686-3C89-445F-8347-263758AE448E__GUID-D19FCF87-C3A9-424D-B657-6CC86F4AC109">要使用STARTUP命令修改PDB：</p>
                        <ol>
                           <li>
                              <p>在SQL * Plus中，确保当前容器是PDB。</p>
                           </li>
                           <li>
                              <p>运行<code class="codeph">STARTUP</code>命令。
                              </p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-CD8BE686-3C89-445F-8347-263758AE448E__GUID-E4267C99-CACB-4FC1-8E7B-4E92E77C929E">
                        <p class="titleinexample">例15-23使用STARTUP命令在读/写模式下打开PDB</p><pre class="oac_no_warn" dir="ltr">开始打开</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-CD8BE686-3C89-445F-8347-263758AE448E__GUID-D945C3CF-BBA0-42D7-B110-2F74E7AE3141">
                        <p class="titleinexample">示例15-24使用STARTUP命令以只读模式打开PDB</p><pre class="oac_no_warn" dir="ltr">启动打开只读</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-CD8BE686-3C89-445F-8347-263758AE448E__GUID-165FED3D-513A-4282-B63A-DBD6BB8E7EE5">
                        <p class="titleinexample">示例15-25使用STARTUP命令以只读限制模式打开PDB</p><pre class="oac_no_warn" dir="ltr">STARTUP RESTRICT OPEN READ ONLY</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-CD8BE686-3C89-445F-8347-263758AE448E__GUID-9CBFC9B8-7152-43FD-97D9-51004FBA7824">
                        <p class="titleinexample">例15-26使用STARTUP命令和FORCE选项在读/写模式下打开PDB</p>
                        <p>此示例假定PDB当前处于打开状态。<code class="codeph">FORCE</code>选项关闭PDB，然后以读/写模式打开它。
                        </p><pre class="oac_no_warn" dir="ltr">启动力量</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-CD8BE686-3C89-445F-8347-263758AE448E__GUID-A266F23E-C2E3-4AC6-84A3-5B2C5B00786B">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="administering-a-cdb-with-sql-plus.html#GUID-E1BBCE0F-76CA-49F3-9A6B-AC6B13AB9AC5" title="CDB中每个容器中的数据字典是独立的，当前容器是其数据字典用于名称解析和权限授权的容器。">关于当前的容器</a> ”</span></p>
                           </li>
                           <li><span class="q">“ <a href="administering-pdbs-with-sql-plus.html#GUID-EA62913A-8033-4D76-8835-055FB3076D09" title="您可以使用多种技术通过SQL * Plus CONNECT命令连接到PDB。">连接到PDB</a> ”</span> 。
                           </li>
                           <li>
                              <p>有关启动数据库的信息，请参见<a href="../admin/starting-up-and-shutting-down.html#ADMIN-GUID-203404B5-5157-4F29-A241-B8ABC4753819" target="_blank"><span><cite>“Oracle数据库管理员指南”</cite></span></a></p>
                           </li>
                           <li>
                              <p><a href="../sqpug/STARTUP.html#SQPUG128" target="_blank"><span><cite>SQL * Plus用户指南和参考</cite></span></a></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="administering-pdbs-with-sql-plus.html#GUID-94AD2899-CDC1-446E-9C8B-46497BEA4A18" title="当前容器是PDB时，可以使用SQL * Plus STARTUP命令打开PDB，使用SQL * Plus SHUTDOWN命令关闭PDB。">启动和关闭PDB</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN14104"></a><a id="ADMIN14103"></a><div class="props_rev_3"><a id="GUID-B7AD1F92-3808-4AE6-A7BE-B5EC32B5BE2B" name="GUID-B7AD1F92-3808-4AE6-A7BE-B5EC32B5BE2B"></a><h4 id="MULTI-GUID-B7AD1F92-3808-4AE6-A7BE-B5EC32B5BE2B" class="sect4"><span class="enumeration_section">15.5.2</span>使用SHUTDOWN命令关闭PDB</h4>
                  <div>
                     <p>当前容器是PDB时，SQL * Plus <code class="codeph">SHUTDOWN</code>命令关闭PDB。</p>
                     <div class="section">
                        <p>在PDB上成功发出<code class="codeph">SHUTDOWN</code>命令后，它处于挂载模式。
                        </p>
                        <p>可以使用以下<code class="codeph">SHUTDOWN</code>模式：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>仅指定<code class="codeph">SHUTDOWN</code> ，PDB将以正常模式关闭。
                              </p>
                           </li>
                           <li>
                              <p>指定<code class="codeph">SHUTDOWN IMMEDIATE</code> ，PDB将以立即模式关闭。
                              </p>
                           </li>
                           <li>
                              <p>指定<code class="codeph">SHUTDOWN ABORT</code> ，将强制关闭PDB。
                              </p>
                              <p>对于单实例CDB，指定<code class="codeph">SHUTDOWN ABORT</code>时需要PDB介质恢复。对于Oracle Real Application Clusters（Oracle RAC）CDB，如果<code class="codeph">SHUTDOWN ABORT</code>命令关闭最后一个打开的实例，则需要PDB介质恢复。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-B7AD1F92-3808-4AE6-A7BE-B5EC32B5BE2B__GUID-1052457D-0077-4A02-8197-95B3A7BCB79D">先决条件</p>
                        <p>要在当前容器是PDB时发出<code class="codeph">SHUTDOWN</code>命令，必须满足以下先决条件：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>当前用户必须具有<code class="codeph">SYSDBA</code> ， <code class="codeph">SYSOPER</code> ， <code class="codeph">SYSBACKUP</code>或<code class="codeph">SYSDG</code>管理权限，并且必须在PDB中共同授予或本地授予该权限。用户必须在连接时分别使用<code class="codeph">AS SYSDBA</code> ， <code class="codeph">AS SYSOPER</code> ， <code class="codeph">AS SYSBACKUP</code>或<code class="codeph">AS SYSDG</code>来执行权限。
                              </p>
                           </li>
                           <li>
                              <p>要关闭PDB，PDB必须是开放的。</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-B7AD1F92-3808-4AE6-A7BE-B5EC32B5BE2B__GUID-647C0D31-AFB0-4EB0-8D62-4EB8FFF4F322">要使用<code class="codeph">SHUTDOWN</code>命令修改PDB：</p>
                        <ol>
                           <li>
                              <p>在SQL * Plus中，确保当前容器是PDB。</p>
                           </li>
                           <li>
                              <p>运行<code class="codeph">SHUTDOWN</code>命令。
                              </p>
                           </li>
                        </ol>
                        <div class="infoboxnote" id="GUID-B7AD1F92-3808-4AE6-A7BE-B5EC32B5BE2B__GUID-4E34AFD2-84F5-4BA6-AF49-A314484F8C12">
                           <p class="notep1">注意：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>当前容器是PDB时， <code class="codeph">SHUTDOWN</code>命令仅关闭PDB，而不关闭CDB实例。
                                 </p>
                              </li>
                              <li>
                                 <p>PDB没有<code class="codeph">SHUTDOWN</code>命令，相当于非CDB的<code class="codeph">SHUTDOWN</code> <code class="codeph">TRANSACTIONAL</code> 。</p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-B7AD1F92-3808-4AE6-A7BE-B5EC32B5BE2B__GUID-A9D32AAD-666B-4D2F-AE34-EAD8E2D4B905">
                        <p class="titleinexample">示例15-27使用SHUTDOWN IMMEDIATE命令关闭PDB</p><pre class="pre codeblock"><code>立即关闭</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-B7AD1F92-3808-4AE6-A7BE-B5EC32B5BE2B__GUID-3355CF66-CD9F-47D8-982B-E22FB26DFA20">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="administering-a-cdb-with-sql-plus.html#GUID-E1BBCE0F-76CA-49F3-9A6B-AC6B13AB9AC5" title="CDB中每个容器中的数据字典是独立的，当前容器是其数据字典用于名称解析和权限授权的容器。">关于当前的容器</a> ”</span></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="administering-pdbs-with-sql-plus.html#GUID-EA62913A-8033-4D76-8835-055FB3076D09" title="您可以使用多种技术通过SQL * Plus CONNECT命令连接到PDB。">连接到PDB</a> ”</span></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="administering-a-cdb-with-sql-plus.html#GUID-A94D87DC-6954-454C-9230-D6E43845EC3C" title="您可以使用带有pdb_change_state子句的ALTER PLUGGABLE DATABASE语句修改PDB的打开模式。">使用ALTER PLUGGABLE DATABASE修改PDB的开放模式</a> ”</span></p>
                           </li>
                           <li>
                              <p><a href="../admin/starting-up-and-shutting-down.html#ADMIN-GUID-3661B282-5C34-4E32-BC6A-906A72712866" target="_blank"><span><cite>“Oracle数据库管理员指南”</cite></span></a> ，了解有关关闭模式的更多信息</p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/multi&amp;id=SQPUG125" target="_blank"><span><cite>SQL * Plus用户指南和参考</cite></span></a></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="administering-pdbs-with-sql-plus.html#GUID-94AD2899-CDC1-446E-9C8B-46497BEA4A18" title="当前容器是PDB时，可以使用SQL * Plus STARTUP命令打开PDB，使用SQL * Plus SHUTDOWN命令关闭PDB。">启动和关闭PDB</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
         </div>
      </article>
   </body>
</html>