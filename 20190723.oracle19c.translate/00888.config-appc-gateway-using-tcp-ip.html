<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>使用TCP / IP通信协议配置网关</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Installation and Configuration Guide"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Installation and Configuration Guide for IBM AIX on POWER Systems (64-Bit), Linux x86-64, Oracle Solaris on SPARC (64-Bit), and HP-UX Itanium"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-gateway-appc-installation-and-configuration-guide-aix-5l-based-systems-64-bit-hp-ux-itanium-solaris-operating-system-sparc-64-bit-linux-x86-and-linux-x86-64.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-04-16T19:10:33-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2002, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="F18241-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="appc-gateway-config-oltp.html" title="Previous" type="text/html"></link>
      <link rel="next" href="appc-gateway-security-requirements.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Gateway for APPC Installation and Configuration Guide for AIX 5L Based Systems (64-Bit), HP-UX Itanium, Solaris Operating System (SPARC 64-Bit), Linux x86, and Linux x86-64"></meta>
    <meta name="dcterms.isVersionOf" content="APPCI"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="appc-gateway-config-oltp.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="appc-gateway-security-requirements.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">安装和配置指南</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">使用TCP / IP通信协议配置网关</li>
            </ol>
            <a id="GUID-04DEC93D-F75C-4490-8759-EBA02099B48E" name="GUID-04DEC93D-F75C-4490-8759-EBA02099B48E"></a><a id="APPCI239"></a>
            
            <h2 id="APPCI-GUID-04DEC93D-F75C-4490-8759-EBA02099B48E" class="sect2"><span class="enumeration_chapter">11</span>使用TCP / IP通信协议配置网关</h2>
         </header>
         <div class="ind">
            <div>
               <p>以下主题描述如何在UNIX平台上使用TCP / IP for IMS Connect为网关配置Oracle数据库。它还提供了验证网关和OLTP组件的安装和配置所需的步骤。</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="config-appc-gateway-using-tcp-ip.html#GUID-DD49F500-077F-446C-B554-739F851481BA">在你开始之前</a></p>
                  </li>
                  <li>
                     <p><a href="config-appc-gateway-using-tcp-ip.html#GUID-2D70C3E1-79CB-498C-9743-539B4693FE7D">准备配置网关安装/升级</a></p>
                  </li>
                  <li>
                     <p><a href="config-appc-gateway-using-tcp-ip.html#GUID-0E0F573C-31C5-46A1-A808-64D2304AEC6E">配置Oracle数据库：首次安装</a></p>
                  </li>
                  <li>
                     <p><a href="config-appc-gateway-using-tcp-ip.html#GUID-76463C17-3AFF-497B-AF47-38E3BD4A788A">允许多个用户的可选配置步骤</a></p>
                  </li>
                  <li>
                     <p><a href="config-appc-gateway-using-tcp-ip.html#GUID-76CBB60C-A5F2-40F6-93BC-4CE57E20A67D">配置网关的TCP / IP</a></p>
                  </li>
                  <li>
                     <p><a href="config-appc-gateway-using-tcp-ip.html#GUID-3ABEF2C2-2B97-4EDA-8FD4-2FECE4C0A46B">配置网关</a></p>
                  </li>
                  <li>
                     <p><a href="config-appc-gateway-using-tcp-ip.html#GUID-CAD33A0E-F584-4C5E-9726-BA482BEA30F2">加载PGA_TCP_IMSC表</a></p>
                  </li>
                  <li>
                     <p><a href="config-appc-gateway-using-tcp-ip.html#GUID-6251905A-234F-4662-97B8-194560A96D8C">验证网关安装和OLTP配置</a></p>
                  </li>
                  <li>
                     <p><a href="config-appc-gateway-using-tcp-ip.html#GUID-ECA2C74E-4708-4A8D-8C87-6A5E79A6BF9D">执行安装后程序</a></p>
                  </li>
               </ul>
               <p><a id="d14059e77" class="indexterm-anchor"></a><a id="d14059e83" class="indexterm-anchor"></a>使用针对IMS Connect的TCP / IP支持为APPC配置Oracle数据库网关涉及使用以下组件：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p>Oracle数据库</p>
                  </li>
                  <li>
                     <p>UNIX系统</p>
                  </li>
                  <li>
                     <p>网络</p>
                  </li>
                  <li>
                     <p>OLTP</p>
                  </li>
               </ul>
            </div><a id="APPCI240"></a><div class="props_rev_3"><a id="GUID-DD49F500-077F-446C-B554-739F851481BA" name="GUID-DD49F500-077F-446C-B554-739F851481BA"></a><h3 id="APPCI-GUID-DD49F500-077F-446C-B554-739F851481BA" class="sect3">在你开始之前</h3>
               <div>
                  <p>使用TCP / IP通信协议的网关配置要求您输入系统特有的参数，以正确配置网关和TCP / IP通信接口。</p>
                  <p>有关列出在完成配置过程之前需要了解的安装参数的工作<a href="appc-gateway-configuration-worksheet.html#GUID-2660834A-3E7D-4288-BDAA-AC38EC4D6230">表</a> ，请参阅<a href="appc-gateway-configuration-worksheet.html#GUID-2660834A-3E7D-4288-BDAA-AC38EC4D6230">配置工作</a>表。在开始之前，请让网络管理员为您提供这些唯一的参数名称。
                  </p>
               </div>
            </div><a id="APPCI365"></a><a id="APPCI366"></a><a id="APPCI367"></a><a id="APPCI241"></a><div class="props_rev_3"><a id="GUID-2D70C3E1-79CB-498C-9743-539B4693FE7D" name="GUID-2D70C3E1-79CB-498C-9743-539B4693FE7D"></a><h3 id="APPCI-GUID-2D70C3E1-79CB-498C-9743-539B4693FE7D" class="sect3">准备配置网关安装/升级</h3>
               <div>
                  <div class="section">
                     <p>在安装，升级或迁移网关时，有三种方法可以建立网关和Oracle数据库关系：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="config-appc-gateway-using-tcp-ip.html#GUID-2D70C3E1-79CB-498C-9743-539B4693FE7D__I1011353">当Oracle数据库和网关安装在相同的ORACLE_HOME中时</a></p>
                        </li>
                        <li>
                           <p><a href="config-appc-gateway-using-tcp-ip.html#GUID-2D70C3E1-79CB-498C-9743-539B4693FE7D__I1011368">在单独的系统上安装Oracle数据库和网关时</a></p>
                        </li>
                        <li>
                           <p><a href="config-appc-gateway-using-tcp-ip.html#GUID-2D70C3E1-79CB-498C-9743-539B4693FE7D__I1011275">当Oracle数据库和网关位于同一系统但位于不同目录中时</a></p>
                        </li>
                     </ul>
                     <p><a id="d14059e207" class="indexterm-anchor"></a><a id="d14059e211" class="indexterm-anchor"></a><a id="d14059e215" class="indexterm-anchor"></a>根据网关和Oracle数据库的位置，您可能需要将某些网关管理文件传输到安装Oracle数据库的位置。
                     </p>
                     <p>按照适用于下面列出的网关-Oracle数据库位置组合的说明进行操作。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-2D70C3E1-79CB-498C-9743-539B4693FE7D__I1011353">
                     <p class="subhead2" id="GUID-2D70C3E1-79CB-498C-9743-539B4693FE7D__GUID-689CC075-882E-4EC1-8735-BF45038994A9">当Oracle数据库和网关安装在相同的ORACLE_HOME中时</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>您不需要传输文件。继续<a href="config-appc-gateway-using-tcp-ip.html#GUID-0E0F573C-31C5-46A1-A808-64D2304AEC6E">配置Oracle数据库：首次安装</a> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-2D70C3E1-79CB-498C-9743-539B4693FE7D__I1011368">
                     <p class="subhead2" id="GUID-2D70C3E1-79CB-498C-9743-539B4693FE7D__GUID-49CC1E5B-7F99-4D18-809D-4CDDE1FA457A">在单独的系统上安装Oracle数据库和网关时</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>当Oracle数据库和网关安装在不同的系统上时，您需要执行以下任务：</p>
                     <ol>
                        <li>
                           <p>在网关<code class="codeph">$ORACLE_HOME/dg4appc/admin</code>目录中找到网关管理文件。此目录中所有文件的后缀为<code class="codeph">.sql</code> ， <code class="codeph">.pkh</code> ， <span class="bold"> </span>必须将<code class="codeph">.pkb</code>复制到Oracle数据库Oracle主目录中名称相似的目录中。
                           </p>
                        </li>
                        <li>
                           <p>现在，在网关<code class="codeph">$ORACLE_HOME/dg4appc/demo</code>目录中找到网关演示文件和子目录。将<code class="codeph">pgavsn.sql</code>和<code class="codeph">pgaecho.sql</code>文件复制到Oracle数据库中名称相似的目录中。
                           </p>
                        </li>
                        <li>
                           <p>将<code class="codeph">pgaims.sql</code>文件从网关Oracle home <code class="codeph">$ORACLE_HOME/dg4appc/demo/IMS</code>目录<code class="codeph">$ORACLE_HOME/dg4appc/demo/IMS</code>到Oracle数据库Oracle home <code class="codeph">$ORACLE_HOME/dg4appc/demo/IMS</code>目录。
                           </p>
                           <p> <span class="bold">可选步骤</span> ：如果要运行<code class="codeph">IVTNV</code>和<code class="codeph">IVTNO</code> ，则需要将<code class="codeph">ivtno.ctl</code> ， <code class="codeph">ivtnod.sql</code> ， <code class="codeph">ivtnv.ctl</code>和<code class="codeph">ivtnvd.sql</code>文件复制到<code class="codeph">$ORACLE_HOME/dg4appc/demo/IMS</code>的Oracle数据库Oracle主目录中。 <code class="codeph">$ORACLE_HOME/dg4appc/demo/IMS</code>目录也是如此。确保生成所需的TIP并将其传输。
                           </p>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-2D70C3E1-79CB-498C-9743-539B4693FE7D__I1011275">
                     <p class="subhead2" id="GUID-2D70C3E1-79CB-498C-9743-539B4693FE7D__GUID-C1904722-C3D0-4E28-82C4-D03D7D6AA48C">当Oracle数据库和网关位于同一系统但位于不同目录中时</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>您必须将网关Oracle主目录更改为Oracle数据库Oracle主目录。</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>例如，如果您的网关Oracle主目录设置如下：</span><div><pre class="oac_no_warn" dir="ltr">$ echo $ ORACLE_HOME /oracle/pga/12.2</pre><p>并且服务器Oracle主目录位于<code class="codeph">/oracle/pga/12.2</code>目录中，那么您需要执行以下操作：</p><pre class="oac_no_warn" dir="ltr">$ ORACLE_HOME = / oracle / pga / 12.2;导出ORACLE_HOME</pre></div>
                     </li>
                     <li class="stepexpand"><span>现在，使用以下命令创建目录：<a id="d14059e336" class="indexterm-anchor"></a></span><div><pre class="oac_no_warn" dir="ltr">$ cd $ ORACLE_HOME $ mkdir dg4appc $ mkdir dg4appc / admin $ mkdir dg4appc / demo $ mkdir dg4appc / demo / IMS</pre></div>
                     </li>
                     <li class="stepexpand"><span>使用系统上可用的任何文件传输机制将所有<code class="codeph">.sql</code> ， <code class="codeph">.pkh</code>和<code class="codeph">.pkb</code>文件从网关Oracle home <code class="codeph">$ORACLE_HOME/dg4appc/admin</code>目录<code class="codeph">$ORACLE_HOME/dg4appc/admin</code>到Oracle数据库Oracle主目录<code class="codeph">$ORACLE_HOME/dg4appc/admin</code>目录。</span></li>
                     <li class="stepexpand"><span>您还可以将演示文件从网关目录传输到Oracle数据库目录。将<code class="codeph">pgavsn.sql</code>和<code class="codeph">pgaecho.sql</code>文件<code class="codeph">and</code>目录以递归方式从网关Oracle home <code class="codeph">$ORACLE_HOME/dg4appc/demo</code>目录<code class="codeph">$ORACLE_HOME/dg4appc/demo</code>到Oracle数据库<code class="codeph">$ORACLE_HOME/dg4appc/demo</code>目录。</span></li>
                     <li class="stepexpand"><span>您还可以将<code class="codeph">pgaims.sql</code>文件从网关Oracle home <code class="codeph">$ORACLE_HOME/dg4appc/demo/IMS</code>目录<code class="codeph">$ORACLE_HOME/dg4appc/demo/IMS</code>到Oracle数据库Oracle主目录<code class="codeph">$ORACLE_HOME/dg4appc/demo/IMS</code>目录。</span><div>
                           <p><span class="bold">可选步骤</span> ：如果要运行<code class="codeph">IVTNV</code>和<code class="codeph">IVTNO</code> ，则需要将<code class="codeph">ivtno.ctl</code> ， <code class="codeph">ivtnod.sql</code> ， <code class="codeph">ivtnv.ctl</code>和<code class="codeph">ivtnvd.sql</code>文件复制到Oracle数据库Oracle主页<code class="codeph">$ORACLE_HOME/dg4appc/demo/IMS</code>目录也是如此。确保生成所需的TIP并将其传输。
                           </p>
                        </div>
                     </li>
                  </ol>
                  <div class="section">
                     <p>继续<a href="config-appc-gateway-using-tcp-ip.html#GUID-0E0F573C-31C5-46A1-A808-64D2304AEC6E">配置Oracle数据库：首次安装</a> 。执行这些步骤后，您可能需要执行“ <a href="config-appc-gateway-using-tcp-ip.html#GUID-76463C17-3AFF-497B-AF47-38E3BD4A788A">允许多个用户</a>的<a href="config-appc-gateway-using-tcp-ip.html#GUID-76463C17-3AFF-497B-AF47-38E3BD4A788A">可选配置步骤”</a> 。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="APPCI242"></a><div class="props_rev_3"><a id="GUID-0E0F573C-31C5-46A1-A808-64D2304AEC6E" name="GUID-0E0F573C-31C5-46A1-A808-64D2304AEC6E"></a><h3 id="APPCI-GUID-0E0F573C-31C5-46A1-A808-64D2304AEC6E" class="sect3">配置Oracle数据库：首次安装</h3>
               <div>
                  <div class="section">
                     <p>请按照以下步骤配置您的<a id="d14059e467" class="indexterm-anchor"></a>安装Oracle Database Gateway for APPC后的Oracle数据库。</p>
                     <ol>
                        <li>
                           <p>确保<a id="d14059e478" class="indexterm-anchor"></a><a id="d14059e480" class="indexterm-anchor"></a><a id="d14059e484" class="indexterm-anchor"></a> <code class="codeph">UTL_RAW</code> PL / SQL包已安装在Oracle数据库中。<a id="d14059e493" class="indexterm-anchor"></a><a id="d14059e499" class="indexterm-anchor"></a>程序网关管理实用程序（PGAU）生成的所有TIP规范都使用<code class="codeph">UTL_RAW</code> ，它提供了操作原始数据的例程。
                           </p>
                           <ol type="a">
                              <li>
                                 <p>使用<a id="d14059e511" class="indexterm-anchor"></a> SQL * Plus以<code class="codeph">SYS</code>用户身份连接到Oracle数据库。
                                 </p>
                              </li>
                              <li>
                                 <p>从SQL * Plus，输入以下命令：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; DESCRIBE UTL_RAW</pre><p><code class="codeph">DESCRIBE</code>语句在屏幕上生成输出。如果浏览输出，则应该看到一些函数，包括比较函数。如果没有看到此输出，请执行下面的步骤<a href="config-appc-gateway-using-tcp-ip.html#GUID-0E0F573C-31C5-46A1-A808-64D2304AEC6E__I1009553">1.d</a>继续安装<code class="codeph">UTL_RAW</code> 。
                                 </p>
                                 <p>如果<a id="d14059e537" class="indexterm-anchor"></a><a id="d14059e541" class="indexterm-anchor"></a> <code class="codeph">DESCRIBE</code>语句表示成功，然后是Oracle数据库<a id="d14059e546" class="indexterm-anchor"></a> <code class="codeph">UTL_RAW</code>安装<code class="codeph">UTL_RAW</code> ，您可以继续执行步骤<a href="config-appc-gateway-using-tcp-ip.html#GUID-0E0F573C-31C5-46A1-A808-64D2304AEC6E__I1009086">2</a> 。
                                 </p>
                              </li>
                              <li>
                                 <p>使用SQL * Plus以<code class="codeph">SYS</code>身份连接到Oracle数据库。</p>
                              </li>
                              <li id="GUID-0E0F573C-31C5-46A1-A808-64D2304AEC6E__I1009553">
                                 <p>从SQL * Plus，运行<a id="d14059e563" class="indexterm-anchor"></a><a id="d14059e567" class="indexterm-anchor"></a> <code class="codeph">utlraw.sql</code>和<a id="d14059e574" class="indexterm-anchor"></a><a id="d14059e576" class="indexterm-anchor"></a> Oracle数据库<code class="codeph">$ORACLE_HOME/rdbms/admin</code>目录中的<code class="codeph">prvtrawb.plb</code>脚本按以下顺序排列：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; @ $ ORACLE_HOME / rdbms / admin / utlraw.sql SQL&gt; @ $ ORACLE_HOME / rdbms / admin / prvtrawb.sql</pre></li>
                           </ol>
                        </li>
                        <li id="GUID-0E0F573C-31C5-46A1-A808-64D2304AEC6E__I1009086">
                           <p>确保<a id="d14059e591" class="indexterm-anchor"></a><a id="d14059e593" class="indexterm-anchor"></a> <code class="codeph">DBMS_OUTPUT</code>标准PL / SQL <a id="d14059e600" class="indexterm-anchor"></a><a id="d14059e602" class="indexterm-anchor"></a><a id="d14059e606" class="indexterm-anchor"></a>包已启用<a id="d14059e611" class="indexterm-anchor"></a> Oracle数据库。分发介质上的示例程序和安装验证程序使用此标准程序包。
                           </p>
                           <ol type="a">
                              <li>
                                 <p>如有必要，使用SQL * Plus以<code class="codeph">SYS</code>用户身份连接到Oracle数据库。
                                 </p>
                              </li>
                              <li>
                                 <p>输入以下命令：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; DESCRIBE DBMS_OUTPUT</pre><p>该<a id="d14059e630" class="indexterm-anchor"></a><a id="d14059e634" class="indexterm-anchor"></a> <code class="codeph">DESCRIBE</code>语句在屏幕上生成输出。如果您浏览该输出，那么您应该看到一些功能，包括a <a id="d14059e641" class="indexterm-anchor"></a><a id="d14059e643" class="indexterm-anchor"></a> <code class="codeph">put_line</code>函数。
                                 </p>
                                 <p>如果没有看到此输出，则必须创建<code class="codeph">DBMS_OUTPUT</code>包。有关<code class="codeph">DBMS_OUTPUT</code>程序包的更多信息，请参阅<a href="../arpls/DBMS_OUTPUT.html#ARPLS036" target="_blank"><span class="italic">Oracle数据库PL / SQL程序包和类型参考</span></a> 。成功安装<code class="codeph">DBMS_OUTPUT</code>包后，运行<code class="codeph">DESCRIBE</code>语句。
                                 </p>
                                 <p>如果<code class="codeph">DESCRIBE</code>语句指示成功，则Oracle数据库已创建<code class="codeph">DBMS_OUTPUT</code> ，您可以继续执行步骤3。
                                 </p>
                              </li>
                           </ol>
                        </li>
                        <li>
                           <p>安装<a id="d14059e680" class="indexterm-anchor"></a><a id="d14059e684" class="indexterm-anchor"></a> <code class="codeph">UTL_PG</code> PL / SQL包。所有<a id="d14059e691" class="indexterm-anchor"></a><a id="d14059e697" class="indexterm-anchor"></a> PGAU生成的TIP规范使用<code class="codeph">UTL_PG</code> ，它提供了与原始数据进行数字转换的例程。
                           </p>
                           <ol type="a">
                              <li>
                                 <p>如有必要，使用SQL * Plus以<code class="codeph">SYS</code>用户身份连接到Oracle数据库。
                                 </p>
                              </li>
                              <li>
                                 <p>从SQL * Plus，按以下顺序在Oracle数据库<code class="codeph">$ORACLE_HOME/rdbms/admin</code>目录中运行<code class="codeph">utlpg.sql</code>和<code class="codeph">prvtpgb.plb</code>脚本：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; @ $ ORACLE_HOME / rdbms / admin / utlpg.sql SQL&gt; @ $ ORACLE_HOME / rdbms / admin / prvtpgb.plb</pre></li>
                           </ol>
                        </li>
                        <li>
                           <p>我安装了异构服务（HS）目录。
                           </p>
                           <ol type="a">
                              <li>
                                 <p>如有必要，使用SQL * Plus以<code class="codeph">SYS</code>用户身份连接到Oracle数据库。
                                 </p>
                              </li>
                              <li>
                                 <p>输入以下命令：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; DESCRIBE HS_FDS_CLASS</pre><p><code class="codeph">DESCRIBE</code>语句在屏幕上生成输出。如果<code class="codeph">DESCRIBE</code>语句指示成功，则已在Oracle数据库上创建异构服务目录，您可以继续执行步骤<a href="config-appc-gateway-using-tcp-ip.html#GUID-0E0F573C-31C5-46A1-A808-64D2304AEC6E__I1009086">2</a> 。
                                 </p>
                                 <p>如果DESCRIBE语句未指示成功，则必须创建异构服务目录，并且必须遵循步骤<a href="config-appc-gateway-using-tcp-ip.html#GUID-0E0F573C-31C5-46A1-A808-64D2304AEC6E__I1011512">4.c</a> ：</p>
                              </li>
                              <li id="GUID-0E0F573C-31C5-46A1-A808-64D2304AEC6E__I1011512">
                                 <p>如果需要创建异构服务目录，请输入以下命令：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; @ $ ORACLE_HOME / rdbms / admin / caths.sql</pre></li>
                           </ol>
                        </li>
                        <li id="GUID-0E0F573C-31C5-46A1-A808-64D2304AEC6E__I1008586">
                           <p><a id="d14059e771" class="indexterm-anchor"></a><a id="d14059e775" class="indexterm-anchor"></a>创建公共数据库链接以访问APPC的Oracle数据库网关： <a id="d14059e782" class="indexterm-anchor"></a> 
                           </p>
                           <p>使用<a id="d14059e789" class="indexterm-anchor"></a> SQL * Plus连接到<a id="d14059e794" class="indexterm-anchor"></a> Oracle数据库作为<code class="codeph">SYSTEM</code>用户。您可以使用以下SQL * Plus <a id="d14059e800" class="indexterm-anchor"></a>表示Oracle数据库和网关是在同一系统上还是在不同系统上。在下面的示例中， <code class="codeph">pgasrv</code>是<span class="italic"><code class="codeph">tns_name_entry</code></span> ，稍后修改<code class="codeph">tnsnames.ora</code>文件时将分配给网关。
                           </p><pre class="oac_no_warn" dir="ltr">SQL&gt;使用<span class="italic">'PGASRV'</span>创建公共数据库链接PGA
</pre></li>
                        <li>
                           <p>创建网关管理员用户（ <a id="d14059e824" class="indexterm-anchor"></a> <code class="codeph">PGAADMIN</code> ）并安装<a id="d14059e831" class="indexterm-anchor"></a> PG DD。</p>
                           <ol type="a">
                              <li>
                                 <p>使用SQL * Plus以<code class="codeph">SYSTEM</code>用户身份连接到Oracle数据库。
                                 </p>
                              </li>
                              <li>
                                 <p>从SQL * Plus，运行<code class="codeph">pgacr8au.sql</code> <a id="d14059e849" class="indexterm-anchor"></a><a id="d14059e851" class="indexterm-anchor"></a> <code class="codeph">$ORACLE_HOME/dg4appc/admin</code>目录中的脚本。此脚本创建<code class="codeph">PGAADMIN</code>用户标识。</p>
                                 <p>定义的初始密码<a id="d14059e866" class="indexterm-anchor"></a> <code class="codeph">PGAADMIN</code>是<code class="codeph">PGAADMIN</code> 。使用<a id="d14059e876" class="indexterm-anchor"></a><a id="d14059e878" class="indexterm-anchor"></a> <code class="codeph">ALTER USER</code>命令用于更改密码。有关密码问题的更多信息，请参阅<a href="../sqlrf/ALTER-USER.html#SQLRF01103" target="_blank"><span class="italic">Oracle数据库SQL语言参考</span></a> 。
                                 </p><pre class="oac_no_warn" dir="ltr">SQL&gt; @ $ ORACLE_HOME / dg4appc / admin / pgacr8au.sql</pre></li>
                              <li>
                                 <p>使用SQL * Plus以<code class="codeph">PGAADMIN</code>身份连接到Oracle数据库。</p>
                              </li>
                              <li>
                                 <p>从SQL * Plus，运行<code class="codeph">pgddcr8.sql</code> <a id="d14059e904" class="indexterm-anchor"></a><a id="d14059e906" class="indexterm-anchor"></a><a id="d14059e910" class="indexterm-anchor"></a> <code class="codeph">$ORACLE_HOME/dg4appc/admin</code>目录中的脚本。此脚本安装PG DD。</p><pre class="oac_no_warn" dir="ltr">SQL&gt; @ $ ORACLE_HOME / dg4appc / admin / pgddcr8.sql</pre></li>
                              <li>
                                 <p>从SQL * Plus，以<code class="codeph">SYS</code>用户身份连接到Oracle数据库。
                                 </p>
                              </li>
                              <li>
                                 <p><a id="d14059e929" class="indexterm-anchor"></a>授予执行权限<a id="d14059e934" class="indexterm-anchor"></a> <code class="codeph">DBMS_PIPE</code>到<code class="codeph">PGAADMIN</code> ：<a id="d14059e942" class="indexterm-anchor"></a></p><pre class="oac_no_warn" dir="ltr">SQL&gt; GRANT EXECUTE DBMS_PIPE到PGAADMIN</pre></li>
                           </ol>
                        </li>
                        <li>
                           <p>确保<a id="d14059e951" class="indexterm-anchor"></a> <code class="codeph">pg4tcpmap</code>包已安装在Oracle数据库中。按照步骤a到c测试<code class="codeph">pg4tcpmap</code>正确安装。
                           </p>
                           <p>请参阅<a href="appc-gateway-initialization-parameters-tcp-ip.html#GUID-DB20E471-8E82-4F30-A7E5-77D5ECDE3337">输出为pg4tcpmap工具</a>在<a href="appc-gateway-initialization-parameters-tcp-ip.html#GUID-161073EE-D171-4C01-BB8F-640F6BC6B6D8">网关初始化参数为TCP / IP通信协议</a>从输出的样本<code class="codeph">pg4tcpmap</code>工具，并参考第6章<a href="../appug/pg4tcpmap-commands-tcpip.html#APPUG600" target="_blank"><span class="italic">Oracle数据库网关APPC用户指南</span></a>有关运行所需的命令的详细信息工具。
                           </p>
                           <ol type="a">
                              <li>
                                 <p>使用<a id="d14059e983" class="indexterm-anchor"></a> SQL * Plus以<code class="codeph">SYSTEM</code>用户身份连接到Oracle数据库。
                                 </p>
                              </li>
                              <li>
                                 <p>输入以下命令：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; select owner，table_name from dba_tables where table_name ='PGA_TCP_IMSC'，owner ='PGAADMIN'; SQL&gt;列所有者格式化10 SQL&gt;列index_name格式18 SQL&gt;列table_name格式化14 SQL&gt; select owner，index_name，table_name from dba_indexes其中index_name ='PGA_TCP_IMSC_IND';</pre><p>每个<code class="codeph">SELECT</code>语句必须生成一行。以下输出是第一个<code class="codeph">SELECT</code>语句的结果：</p><pre class="oac_no_warn" dir="ltr">TABLE_NAME OWNER ------------------------------ ------------------ ------------ PGA_TCP_IMSC PGAADMIN</pre><p>以下输出是第二个<code class="codeph">SELECT</code>语句的结果：</p><pre class="oac_no_warn" dir="ltr">所有者INDEX_NAME TABLE_NAME不确定---------- ------------------ -------------- ---- ----- PGAADMIN PGA_TCP_IMSC_IND PGA_TCP_IMSC UNIQUE</pre><p>如果<code class="codeph">SELECT</code>语句在屏幕上产生前面的输出，则可以跳到步骤8。如果<code class="codeph">SELECT</code>语句不产生输出或多行，则结果与上述输出不同，并且您必须执行步骤1。
                                 </p>
                              </li>
                              <li>
                                 <p>从SQL * Plus，在Oracle数据库<code class="codeph">$ORACLE_HOME/dg4appc/admin</code>目录中运行<code class="codeph">pgaimsc.sql</code>脚本：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; @ $ ORACLE_HOME / dg4appc / admin / pgaimsc.sql</pre></li>
                           </ol>
                        </li>
                        <li>
                           <p>安装<a id="d14059e1035" class="indexterm-anchor"></a><a id="d14059e1039" class="indexterm-anchor"></a> TIP跟踪访问PL / SQL例程。这些例程需要<a id="d14059e1042" class="indexterm-anchor"></a> <code class="codeph">DBMS_PIPE</code>标准PL / SQL包<a id="d14059e1047" class="indexterm-anchor"></a> <code class="codeph">PGAADMIN</code>具有执行权限。有关<code class="codeph">DBMS_PIPE</code>更多信息，请参阅<a href="../arpls/DBMS_PIPE.html#ARPLS038" target="_blank"><span class="italic">Oracle Database PL / SQL包和类型参考</span></a> 。
                           </p>
                           <ol type="a">
                              <li>
                                 <p>如有必要，请使用SQL * Plus连接到<a id="d14059e1065" class="indexterm-anchor"></a> Oracle数据库作为用户<code class="codeph">PGAADMIN</code> 。</p>
                              </li>
                              <li>
                                 <p>从SQL * Plus，在<code class="codeph">$ORACLE_HOME/dg4appc/admin</code>目录中运行<code class="codeph">pgatiptr.sql</code>脚本。这个脚本创建<a id="d14059e1082" class="indexterm-anchor"></a> PL / SQL例程，可以调用它们来读取和清除由PGAU生成的跟踪信息<a id="d14059e1087" class="indexterm-anchor"></a>提示规格。它还为这些例程创建公共同义词。该脚本会提示您输入必要的用户标识和密码。
                                 </p><pre class="oac_no_warn" dir="ltr">SQL&gt; @ $ ORACLE_HOME / dg4appc / admin / pgatiptr.sql</pre></li>
                           </ol>
                        </li>
                        <li>
                           <p>安装<code class="codeph">GPGLOCAL</code>包。编译和执行所有PGAU生成时需要此包<a id="d14059e1100" class="indexterm-anchor"></a>提示规格。<a id="d14059e1105" class="indexterm-anchor"></a><a id="d14059e1109" class="indexterm-anchor"></a><a id="d14059e1113" class="indexterm-anchor"></a>应该授予TIP开发人员执行权限<a id="d14059e1118" class="indexterm-anchor"></a> <code class="codeph">GPGLOCAL</code> （请参阅<a href="config-appc-gateway-using-tcp-ip.html#GUID-76463C17-3AFF-497B-AF47-38E3BD4A788A">允许多个用户的可选配置步骤</a> ）。
                           </p>
                           <ol type="a">
                              <li>
                                 <p>使用SQL * Plus连接到Oracle数据库<a id="d14059e1132" class="indexterm-anchor"></a> <code class="codeph">PGAADMIN</code> 。</p>
                              </li>
                              <li>
                                 <p>从SQL * Plus，在<code class="codeph">$ORACLE_HOME/dg4appc/admin</code>目录中运行<code class="codeph">gpglocal.pkh</code>脚本。这个脚本编译<a id="d14059e1148" class="indexterm-anchor"></a><a id="d14059e1150" class="indexterm-anchor"></a> <code class="codeph">GPGLOCAL</code>包规范。<a id="d14059e1158" class="indexterm-anchor"></a><a id="d14059e1160" class="indexterm-anchor"></a></p><pre class="oac_no_warn" dir="ltr">SQL&gt; @ $ ORACLE_HOME / dg4appc / admin / gpglocal.pkh</pre></li>
                              <li>
                                 <p>从SQL * Plus，在<code class="codeph">$ORACLE_HOME/dg4appc/admin</code>目录中运行<code class="codeph">gpglocal.pkb</code>脚本。该脚本编译<code class="codeph">GPGLOCAL</code>包体。<a id="d14059e1180" class="indexterm-anchor"></a><a id="d14059e1182" class="indexterm-anchor"></a></p><pre class="oac_no_warn" dir="ltr">SQL&gt; @ $ ORACLE_HOME / dg4appc / admin / gpglocal.pkb</pre><div class="infoboxnote" id="GUID-0E0F573C-31C5-46A1-A808-64D2304AEC6E__GUID-B4DEC47E-D3BB-499C-8FDF-84BE64F28827">
                                    <p class="notep1">注意：</p>
                                    <p><span class="bold">将通信协议从SNA更改为TCP / IP时重新编译TIP</span> ：</p>
                                    <p>如果您以前在网关上使用SNA通信包协议生成的现有TIP并且您希望使用新的TCP / IP功能，则必须通过PGAU使用某些强制<code class="codeph">NLS_LANGUAGE</code>和Side Profile Settings重新生成TIP。在<code class="codeph">DEFINE TRANSACTION</code>命令中指定正确的ASCII字符集。
                                    </p>
                                    <p>这是因为网关假定正在使用IMS Connect中的正确用户出口，这将在正确的ASCII和EBCDIC字符集之间进行转换。</p>
                                 </div>
                              </li>
                           </ol>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="APPCI243"></a><div class="props_rev_3"><a id="GUID-4DF3403C-D948-40CA-9732-15FF4D2219F7" name="GUID-4DF3403C-D948-40CA-9732-15FF4D2219F7"></a><h3 id="APPCI-GUID-4DF3403C-D948-40CA-9732-15FF4D2219F7" class="sect3">从以前的网关升级或迁移Oracle数据库</h3>
               <div>
                  <div class="section">
                     <p>仅当您的系统上安装了以前版本的Oracle Database Gateway for APPC并且需要为网关的12 <span class="italic">c</span>版本2（12.2）配置它时，请遵循这些说明。
                     </p>
                     <ol>
                        <li>
                           <p>将Oracle Database Gateway for APPC升级到当前版本级别，如下所示：</p>
                           <ol type="a">
                              <li>
                                 <p>使用SQL * Plus以<code class="codeph">SYS</code>用户身份连接到Oracle数据库。
                                 </p>
                              </li>
                              <li>
                                 <p>安装<code class="codeph">UTL_RAW</code>包体。从SQL * Plus中，运行<code class="codeph">prvtrawb.plb</code> <a id="d14059e1273" class="indexterm-anchor"></a><a id="d14059e1275" class="indexterm-anchor"></a>来自<code class="codeph">$ORACLE_HOME/rdbms/admin</code>目录的脚本。该脚本升级<code class="codeph">UTL_RAW</code>包体。
                                 </p><pre class="oac_no_warn" dir="ltr">SQL&gt; @ $ ORACLE_HOME / rdbms / admin / prvtrawb.plb</pre></li>
                              <li>
                                 <p>安装<code class="codeph">UTL_PG</code>包体。从SQL * Plus中，运行<code class="codeph">prvtpgb.plb</code> <a id="d14059e1297" class="indexterm-anchor"></a><a id="d14059e1301" class="indexterm-anchor"></a>来自<code class="codeph">$ORACLE_HOME/rdbms/admin</code>目录的脚本。 <a id="d14059e1309" class="indexterm-anchor"></a><a id="d14059e1314" class="indexterm-anchor"></a> 此脚本升级<code class="codeph">UTL_PG</code>程序包主体。
                                 </p><pre class="oac_no_warn" dir="ltr">SQL&gt; @ $ ORACLE_HOME / rdbms / admin / prvtpgb.plb</pre><p><code class="codeph">prvtrawb.plb</code>和<code class="codeph">prvtpgb.plb</code>脚本应该成功完成。如果由于规范不存在或无效而失败，请考虑按照以下部分的说明重新安装软件包规范。
                                 </p>
                              </li>
                           </ol>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
               </div><a id="APPCI387"></a><a id="APPCI388"></a><a id="APPCI244"></a><div class="props_rev_3"><a id="GUID-98F3B025-307D-4CE6-A28A-61964EC37AEC" name="GUID-98F3B025-307D-4CE6-A28A-61964EC37AEC"></a><h4 id="APPCI-GUID-98F3B025-307D-4CE6-A28A-61964EC37AEC" class="sect4">如果必须重新安装包规范</h4>
                  <div>
                     <div class="section">
                        <p>如果<a id="d14059e1376" class="indexterm-anchor"></a><a id="d14059e1382" class="indexterm-anchor"></a> <code class="codeph">UTL_RAW</code>或<a id="d14059e1391" class="indexterm-anchor"></a><a id="d14059e1397" class="indexterm-anchor"></a> <code class="codeph">UTL_PG</code>程序包已失效或已卸载，则<code class="codeph">prvtrawb.plb</code>和<code class="codeph">prvtpgb.plb</code>脚本可能无法成功完成。您可能需要重新安装<a id="d14059e1413" class="indexterm-anchor"></a><a id="d14059e1417" class="indexterm-anchor"></a><a id="d14059e1421" class="indexterm-anchor"></a>包装规格。
                        </p>
                        <p>如果确实重新安装了软件包规范，那么任何依赖对象（例如现有用户TIP和客户端应用程序）都将失效并随后需要<a id="d14059e1430" class="indexterm-anchor"></a>要重新编译。这种影响是一次性能延迟，同时重新编译TIP和从属客户端应用程序。
                        </p>
                        <div class="infoboxnote" id="GUID-98F3B025-307D-4CE6-A28A-61964EC37AEC__GUID-50679B6F-0B77-4EBF-B71B-50697CC626C4">
                           <p class="notep1">注意：</p>
                           <p>在继续重新安装包脚本之前，请确保您位于<code class="codeph">$ORACLE_HOME/dg4appc/admin</code>目录中。
                           </p>
                        </div>
                        <p>TIP在版本3.3中被拆分为单独的规范和正文文件，以避免在以后的版本中进行级联重新编译。</p>
                        <dl>
                           <dt class="dlterm"><a name="GUID-98F3B025-307D-4CE6-A28A-61964EC37AEC__GUID-E8CC2C0D-848E-4580-B198-69568802036C"><!-- --></a>步骤1在继续PGAU升级之前运行以下脚本</dt>
                           <dd>
                              <p>从SQL * Plus，运行<code class="codeph">utlraw.sql</code>脚本：</p>
                              <ol>
                                 <li>
                                    <p>如有必要，使用SQL * Plus以<code class="codeph">SYS</code>用户身份连接到Oracle数据库。
                                    </p>
                                 </li>
                                 <li>
                                    <p>从SQL * Plus中，按以下顺序在Oracle数据库<code class="codeph">$ORACLE_HOME/rdbms/admin</code>目录中运行<code class="codeph">utlraw.sql</code>和<code class="codeph">utlpg.sql</code>脚本，以升级其各自的包规范： <a id="d14059e1478" class="indexterm-anchor"></a><a id="d14059e1482" class="indexterm-anchor"></a><a id="d14059e1486" class="indexterm-anchor"></a><a id="d14059e1490" class="indexterm-anchor"></a> 
                                    </p><pre class="oac_no_warn" dir="ltr">SQL&gt; @ $ ORACLE_HOME / rdbms / admin / utlraw.sql SQL&gt; @ $ ORACLE_HOME / rdbms / admin / utlpg.sql</pre></li>
                              </ol>
                           </dd>
                           <dt class="dlterm"><a name="GUID-98F3B025-307D-4CE6-A28A-61964EC37AEC__GUID-88451163-0DF9-4B7C-8FA8-C088EBE81B01"><!-- --></a>步骤2重复安装UTL_RAW和UTL_PG包体</dt>
                           <dd>
                              <p>脚本运行后，重复<span class="q">“ <a href="config-appc-gateway-using-tcp-ip.html#GUID-4DF3403C-D948-40CA-9732-15FF4D2219F7">从以前的网关升级或迁移Oracle数据库</a> ”中的</span>步骤b和c。然后，继续执行标题为<span class="q">“ <a href="config-appc-gateway-using-tcp-ip.html#GUID-A60371FA-B377-40CA-88A1-88129A0F01D8">从先前网关版本升级PGAU</a> ”的部分</span> 。
                              </p>
                              <div class="infoboxnote" id="GUID-98F3B025-307D-4CE6-A28A-61964EC37AEC__GUID-4383B03B-87DA-412F-8B6A-6768CFC26482">
                                 <p class="notep1">注意：</p>
                                 <p>重新安装软件包规范后，必须重新编译TIP和从属客户端应用程序。有关编译TIP的信息，请参阅“ <a href="../appug/creating-tip-oracle-database-gateway-appc.html#APPUG968" target="_blank"><span class="italic">Oracle数据库网关APPC用户指南</span></a> ”第3章中的“编译提示”部分。
                                 </p>
                              </div>
                           </dd>
                        </dl>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="APPCI245"></a><div class="props_rev_3"><a id="GUID-A60371FA-B377-40CA-88A1-88129A0F01D8" name="GUID-A60371FA-B377-40CA-88A1-88129A0F01D8"></a><h4 id="APPCI-GUID-A60371FA-B377-40CA-88A1-88129A0F01D8" class="sect4">从以前的网关版本升级PGAU</h4>
                  <div>
                     <div class="section">
                        <p>升级了<a id="d14059e1554" class="indexterm-anchor"></a>在运行新的PGAU之前，PG DD如下：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li><span>如有必要，使用SQL * Plus以<code class="codeph">PGAADMIN</code>用户身份连接到Oracle数据库。</span></li>
                        <li><span>从SQL * Plus，运行<code class="codeph">pgddupgr.sql</code> <a id="d14059e1572" class="indexterm-anchor"></a><a id="d14059e1574" class="indexterm-anchor"></a> <code class="codeph">$ORACLE_HOME/dg4appc/admin</code>目录中的脚本。此脚本升级PG DD。</span></li>
                     </ol>
                  </div>
               </div>
            </div><a id="APPCI246"></a><div class="props_rev_3"><a id="GUID-76463C17-3AFF-497B-AF47-38E3BD4A788A" name="GUID-76463C17-3AFF-497B-AF47-38E3BD4A788A"></a><h3 id="APPCI-GUID-76463C17-3AFF-497B-AF47-38E3BD4A788A" class="sect3">允许多个用户的可选配置步骤</h3>
               <div>
                  <div class="section">
                     <p>以下配置步骤是可选的。如果要允许除以外的用户，请执行这些步骤<a id="d14059e1637" class="indexterm-anchor"></a> <code class="codeph">PGAADMIN</code>表演<a id="d14059e1644" class="indexterm-anchor"></a>使用PGAU的PG DD操作。</p>
                     <ol>
                        <li>
                           <p>创建<a id="d14059e1653" class="indexterm-anchor"></a><a id="d14059e1655" class="indexterm-anchor"></a> PG DD的公共同义词，允许其他用户访问表：</p>
                           <ol type="a">
                              <li>
                                 <p>使用SQL * Plus以<code class="codeph">SYSTEM</code>用户身份连接到Oracle数据库。
                                 </p>
                              </li>
                              <li>
                                 <p>从SQL * Plus中，在<code class="codeph">$ORACLE_HOME/dg4appc/admin</code>目录中运行<code class="codeph">pgddcr8s.sql</code>脚本。此脚本为PG DD创建公共同义词。</p><pre class="oac_no_warn" dir="ltr">SQL&gt; @ $ ORACLE_HOME / dg4appc / admin / pgddcr8.sql</pre></li>
                           </ol>
                        </li>
                        <li>
                           <p>创建角色以访问PG DD，执行事务定义和生成<a id="d14059e1683" class="indexterm-anchor"></a>提示规格。<code class="codeph">PGAADMIN</code>用户可以根据需要将这些角色授予其他用户。
                           </p>
                           <ol type="a">
                              <li>
                                 <p>使用SQL * Plus以用户<code class="codeph">PGAADMIN</code>连接到Oracle数据库。</p>
                              </li>
                              <li>
                                 <p>从SQL * Plus，在<code class="codeph">$ORACLE_HOME/dg4appc/admin</code>目录中运行<code class="codeph">pgddcr8r.sql</code>脚本。该脚本创建了两个角色， <code class="codeph">PGDDDEF</code>和<code class="codeph">PGDDGEN</code> 。该<a id="d14059e1716" class="indexterm-anchor"></a><a id="d14059e1718" class="indexterm-anchor"></a> <code class="codeph">PGDDDEF</code>角色为<code class="codeph">PGDDDEF</code>角色提供<code class="codeph">SELECT</code> ， <code class="codeph">INSERT</code> ， <code class="codeph">UPDATE</code>和<code class="codeph">DELETE</code>权限<a id="d14059e1738" class="indexterm-anchor"></a> PG DD表和对其他人的<code class="codeph">SELECT</code>权限，并允许执行PGAU <code class="codeph">DEFINE</code> ， <code class="codeph">GENERATE</code> ， <code class="codeph">REDEFINE</code> ， <code class="codeph">REPORT</code>和<code class="codeph">UNDEFINE</code>语句。该<a id="d14059e1762" class="indexterm-anchor"></a><a id="d14059e1764" class="indexterm-anchor"></a> <code class="codeph">PGDDGEN</code>角色为PG DD表提供select权限，并且只允许执行PGAU <code class="codeph">GENERATE</code>和<code class="codeph">REPORT</code>语句。
                                 </p><pre class="oac_no_warn" dir="ltr">SQL&gt; @ $ ORACLE_HOME / dg4appc / admin / pgddcr8r.sql</pre></li>
                           </ol>
                        </li>
                        <li id="GUID-76463C17-3AFF-497B-AF47-38E3BD4A788A__I1012843">
                           <p><a id="d14059e1781" class="indexterm-anchor"></a><a id="d14059e1785" class="indexterm-anchor"></a><a id="d14059e1789" class="indexterm-anchor"></a><a id="d14059e1793" class="indexterm-anchor"></a>授予访问PGA所需包的权限。
                           </p>
                           <p><a id="d14059e1799" class="indexterm-anchor"></a><a id="d14059e1803" class="indexterm-anchor"></a> TIP开发人员需要访问随附的以下PL / SQL包<a id="d14059e1808" class="indexterm-anchor"></a> Oracle数据库：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><a id="d14059e1816" class="indexterm-anchor"></a> <code class="codeph">$ORACLE_HOME/rdbms/admin</code>目录中的<code class="codeph">DBMS_PIPE</code></p>
                              </li>
                              <li>
                                 <p><a id="d14059e1826" class="indexterm-anchor"></a> <code class="codeph">$ORACLE_HOME/rdbms/admin</code> <code class="codeph">UTL_RAW</code> <a id="d14059e1833" class="indexterm-anchor"></a>目录</p>
                              </li>
                              <li>
                                 <p><a id="d14059e1842" class="indexterm-anchor"></a> <code class="codeph">$ORACLE_HOME/rdbms/admin</code> <code class="codeph">UTL_PG</code> <a id="d14059e1849" class="indexterm-anchor"></a><a id="d14059e1853" class="indexterm-anchor"></a>目录</p>
                              </li>
                           </ul>
                           <p>必须向TIP开发人员提供运行这些包的显式授权。</p>
                           <p>这些授权可以是私有的，如以下示例所示：</p><pre class="oac_no_warn" dir="ltr">$ sqlplus SYS / pw @ database_specification_string SQL&gt; GRANT EXECUTE ON UTL_RAW to tip_developer; SQL&gt; GRANT EXECUTE ON UTL_PG to tip_developer; SQL&gt; GRANT EXECUTE ON DBMS_PIPE TO tip_developer; SQL&gt; CONNECT PGAADMIN / pw @ database_specification_string SQL&gt;在PGAADMIN.PURGE_TRACE上执行GRANT EXECUTE到tip_developer; SQL&gt; GRANT EXECUTE在PGAADMIN.READ_TRACE上执行tip_developer; SQL&gt; GRANT EXECUTE on PGAADMIN.GPGLOCAL to tip_developer; SQL&gt; EXIT</pre><p>或者，这些授权可以是公共的，如以下示例所示：</p><pre class="oac_no_warn" dir="ltr">$ sqlplus SYS / pw @ database_specification_string SQL&gt;对UTL_RAW执行GRANT EXECUTE; SQL&gt;在UTL_PG上执行GRANT EXECUTE; SQL&gt; GRANT EXECUTE DBMS_PIPE到PUBLIC; SQL&gt; CONNECT PGAADMIN / pw @ database_specification_string SQL&gt; GRGA EXECUTE PGAADMIN.PURGE_TRACE TO PUBLIC; SQL&gt; GRGA EXECUTE PGAADMIN.READ_TRACE TO PUBLIC; SQL&gt; GRGA EXECUTE PGAADMIN.GPGLOCAL TO PUBLIC; SQL&gt; EXIT</pre><p>您可以使用私人或公共补助金。两者都足以使用PGA。公共补助更容易，现在可以执行。如果您使用私有授权，则每次创建新的TIP开发人员用户ID时都必须提供私有授权。</p>
                           <p>用于执行这些授权的SQL脚本在<code class="codeph">$ORACLE_HOME/dg4appc/admin</code>目录中提供。该<a id="d14059e1877" class="indexterm-anchor"></a><a id="d14059e1881" class="indexterm-anchor"></a> <code class="codeph">pgddapub.sql</code>脚本执行这些授权以公开访问包。<code class="codeph">pgddadev.sql</code>脚本执行授权，以便由单个TIP开发人员对包进行私有访问。如果要使用私有授权，则必须为每个TIP开发人员用户ID运行一次<code class="codeph">pgddadev.sql</code>脚本：</p>
                           <ol type="a">
                              <li>
                                 <p>使用SQL * Plus以<code class="codeph">PGAADMIN</code>身份连接到Oracle数据库。</p>
                              </li>
                              <li>
                                 <p>从SQL * Plus中，从<code class="codeph">$ORACLE_HOME/dg4appc/admin</code>目录运行相应的脚本（ <code class="codeph">pgddapub.sql</code>或<code class="codeph">pgddadev.sql</code> ）。该脚本执行必要的授权，如前所述。系统会提示您输入所需的用户标识，密码和数据库规范字符串。如果您使用私有授权，则对需要访问软件包的每个用户ID重复此步骤。
                                 </p>
                                 <p>如果您使用私有授权，则对需要访问软件包的每个用户ID重复此步骤。</p><pre class="oac_no_warn" dir="ltr">SQL&gt; @ $ ORACLE_HOME / dg4appc / admin / pgddapub.sql</pre><p>要么</p><pre class="oac_no_warn" dir="ltr">SQL&gt; @ $ ORACLE_HOME / dg4appc / admin / pgddadev.sql</pre></li>
                           </ol>
                        </li>
                        <li>
                           <p><a id="d14059e1925" class="indexterm-anchor"></a><a id="d14059e1931" class="indexterm-anchor"></a>如果在通信协议为SNA时从先前版本的网关升级到使用TCP / IP的当前网关，并且如果要升级现有网关<a id="d14059e1936" class="indexterm-anchor"></a><a id="d14059e1940" class="indexterm-anchor"></a>具有新功能和维护的TIP，然后使用。重新生成现有的T IP规范<a id="d14059e1950" class="indexterm-anchor"></a> PGAU <code class="codeph">GENERATE</code>声明。
                           </p>
                           <div class="infoboxnote" id="GUID-76463C17-3AFF-497B-AF47-38E3BD4A788A__GUID-EED172DF-C5DF-4CD5-BD0E-5A291AD7C9C7">
                              <p class="notep1">注意：</p>
                              <p>该<a id="d14059e1961" class="indexterm-anchor"></a> PGAU已得到增强，可自动升级现有的PG DD条目<a id="d14059e1966" class="indexterm-anchor"></a><a id="d14059e1970" class="indexterm-anchor"></a>当一个新的属性时<a id="d14059e1975" class="indexterm-anchor"></a>执行PGAU <code class="codeph">GENERATE</code>命令。要支持此增强功能，请为该增强功能添加新权限<a id="d14059e1983" class="indexterm-anchor"></a> <code class="codeph">PGDDGEN</code>角色。要以<code class="codeph">PGAADMIN</code>用户身份执行此操作，请使用SQL * Plus连接到存储PG DD的Oracle数据库安装。然后发出以下SQL命令：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; GRANT INSERT在PGA_DATA_VALUES到PGDDGEN</pre></div>
                           <ol type="a">
                              <li>
                                 <p>从生成PGAU控制文件的目录路径和存储TIP的位置启动PGAU：</p><pre class="oac_no_warn" dir="ltr">$ pgau PGAU&gt; CONNECT PGAADMIN / pgaadmin @ <span class="italic">database_specification_string</span> PGAU&gt; GENERATE <span class="italic">tranname</span> PGAU&gt; EXIT</pre></li>
                           </ol>
                           <p>有关<code class="codeph">GENERATE</code>命令的更多信息，请参阅<a href="../appug/pga-utility-oracle-database-gateway-appc.html#APPUG944" target="_blank"><span class="italic">Oracle Database Gateway for APPC用户指南</span></a>第2章中的PGAU <code class="codeph">GENERATE</code>命令部分。
                           </p>
                           <p>请注意，不必再次定义PG DD条目。</p>
                        </li>
                        <li>
                           <p>在存储新生成的TIP规范的同一目录路径中启动SQL * Plus。</p><pre class="oac_no_warn" dir="ltr">$ sqlplus <span class="italic">tip_owner / pw @ database_specification_string</span> SQL&gt; @ <span class="italic">tipname。</span> pkh SQL&gt; @ <span class="italic">tipname</span> .pkb SQL&gt;退出</pre><p><a id="d14059e2038" class="indexterm-anchor"></a><a id="d14059e2044" class="indexterm-anchor"></a><a id="d14059e2048" class="indexterm-anchor"></a> PGAU <code class="codeph">GENERATE</code>在两个输出文件中生成TIP：规范和正文。您必须先编译规范，然后再编译正文。
                           </p>
                           <p>有关<code class="codeph">GENERATE</code>命令的更多信息，请参阅“ <a href="../appug/pga-utility-oracle-database-gateway-appc.html#APPUG944" target="_blank"><span class="italic">Oracle数据库网关APPC用户指南”</span></a>第2章中的PGAU <code class="codeph">GENERATE</code>命令部分。
                           </p>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="APPCI247"></a><div class="props_rev_3"><a id="GUID-76CBB60C-A5F2-40F6-93BC-4CE57E20A67D" name="GUID-76CBB60C-A5F2-40F6-93BC-4CE57E20A67D"></a><h3 id="APPCI-GUID-76CBB60C-A5F2-40F6-93BC-4CE57E20A67D" class="sect3">配置网关的TCP / IP</h3>
               <div>
                  <p>您现在必须为TCP / IP连接的IMS Connect通信包配置文件配置TCP / IP。</p>
                  <p>配置配置文件以定义与TCP / IP对话<a id="d14059e2124" class="indexterm-anchor"></a> OLTP。</p>
                  <p>完成通信包的配置后，请返回以下<span class="q">“ <a href="config-appc-gateway-using-tcp-ip.html#GUID-3ABEF2C2-2B97-4EDA-8FD4-2FECE4C0A46B">配置网关</a> ”</span>部分。
                  </p>
               </div>
            </div><a id="APPCI248"></a><div class="props_rev_3"><a id="GUID-3ABEF2C2-2B97-4EDA-8FD4-2FECE4C0A46B" name="GUID-3ABEF2C2-2B97-4EDA-8FD4-2FECE4C0A46B"></a><h3 id="APPCI-GUID-3ABEF2C2-2B97-4EDA-8FD4-2FECE4C0A46B" class="sect3">配置网关</h3>
               <div>
                  <div class="section">
                     <p>要配置网关，请执行以下操作：</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>定制网关参数。</span><div>
                           <p>有许多具体的参数<a id="d14059e2178" class="indexterm-anchor"></a>在使用TCP / IP进行IMS Connect时，使用Oracle Database Gateway for APPC。它们在网关参数文件<code class="codeph">init</code> <span class="italic"><code class="codeph">sid.</code></span> <code class="codeph">ora</code> ，这是在<a id="d14059e2195" class="indexterm-anchor"></a> <code class="codeph">$ORACLE_HOME/dg4appc/admin</code>目录。示例网关参数<a id="d14059e2201" class="indexterm-anchor"></a><a id="d14059e2203" class="indexterm-anchor"></a><a id="d14059e2209" class="indexterm-anchor"></a>文件， <code class="codeph">initPGA.ora</code>在此子目录中提供。<a id="d14059e2217" class="indexterm-anchor"></a><a id="d14059e2221" class="indexterm-anchor"></a><a id="d14059e2227" class="indexterm-anchor"></a></p>
                           <div class="infoboxnote" id="GUID-3ABEF2C2-2B97-4EDA-8FD4-2FECE4C0A46B__GUID-E2B1DF15-C503-4995-B6F5-A24B0C61C0BC">
                              <p class="notep1">注意：</p>
                              <p>在里面<a id="d14059e2234" class="indexterm-anchor"></a><a id="d14059e2236" class="indexterm-anchor"></a> <code class="codeph">init</code> <span class="italic"><code class="codeph">sid.</code></span> <code class="codeph">ora</code>文件，替换你的网关<span class="bold"> </span>此文件名中“ <span class="italic"><code class="codeph">sid</code></span> ”的SID名称。
                              </p>
                              <p><code class="codeph">init</code> <span class="italic"><code class="codeph">sid.</code></span> <code class="codeph">ora</code>文件包含由描述分隔的APPC和TCP / IP参数。您必须修改<code class="codeph">init</code> <span class="italic"><code class="codeph">sid.</code></span> <code class="codeph">ora</code>文件删除APPC参数。有关有效的TCP / IP参数，请参阅<span class="q">“ <a href="appc-gateway-initialization-parameters-tcp-ip.html#GUID-29777E00-DE70-4FE6-BB98-0BD6CE25537C">使用TCP / IP的网关初始化参数文件</a> ”</span> 。
                              </p>
                           </div>
                           <p>参数分为两类：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>网关初始化<a id="d14059e2284" class="indexterm-anchor"></a><a id="d14059e2290" class="indexterm-anchor"></a><a id="d14059e2294" class="indexterm-anchor"></a>参数</p>
                                 <p>这些参数控制Oracle环境中网关的一般操作。</p>
                                 <div class="infoboxnote" id="GUID-3ABEF2C2-2B97-4EDA-8FD4-2FECE4C0A46B__GUID-5ED69225-F7E7-4C7E-8B4E-4D13964F6961">
                                    <p class="notep1">注意：</p>
                                    <p>在执行以下步骤之前，请参阅<span class="q">“ <a href="appc-gateway-initialization-parameters-tcp-ip.html#GUID-29777E00-DE70-4FE6-BB98-0BD6CE25537C">使用TCP / IP的网关初始化参数文件</a> ”</span>以获取有关定制网关初始化和PGA参数的信息。特别注意使用的信息<a id="d14059e2309" class="indexterm-anchor"></a> <code class="codeph">PGA_CAPABILITY</code>参数。
                                    </p>
                                 </div>
                              </li>
                              <li>
                                 <p>PGA <a id="d14059e2319" class="indexterm-anchor"></a><a id="d14059e2323" class="indexterm-anchor"></a><a id="d14059e2329" class="indexterm-anchor"></a>参数</p>
                                 <p>PGA参数控制网关的TCP / IP接口部分。使用<a id="d14059e2336" class="indexterm-anchor"></a><a id="d14059e2340" class="indexterm-anchor"></a> <code class="codeph">SET</code>网关初始化参数指定PGA参数。Oracle建议您对所有<code class="codeph">SET</code>命令进行分组<a id="d14059e2352" class="indexterm-anchor"></a><a id="d14059e2354" class="indexterm-anchor"></a>对于<code class="codeph">init</code> <span class="italic"><code class="codeph">sid.</code></span>末尾的PGA参数<span class="italic"><code class="codeph">sid.</code></span> <code class="codeph">ora</code>文件。
                                 </p>
                                 <div class="infoboxnote" id="GUID-3ABEF2C2-2B97-4EDA-8FD4-2FECE4C0A46B__GUID-9CAAD2E7-97BD-468A-AC31-34F2ACA24067">
                                    <p class="notep1">注意：</p>
                                    <p>拼写错误的参数将被忽略<a id="d14059e2371" class="indexterm-anchor"></a> 。但是，如果是<code class="codeph">$ORACLE_HOME/dg4appc/admin/init</code> <span class="italic"><code class="codeph">sid</code></span> 。 <code class="codeph">ora</code>文件丢失所有对网关的调用失败并返回<code class="codeph">PGA-20928</code>错误。
                                    </p>
                                 </div>
                              </li>
                           </ul>
                        </div>
                     </li>
                  </ol>
               </div>
            </div><a id="APPCI249"></a><div class="props_rev_3"><a id="GUID-CAD33A0E-F584-4C5E-9726-BA482BEA30F2" name="GUID-CAD33A0E-F584-4C5E-9726-BA482BEA30F2"></a><h3 id="APPCI-GUID-CAD33A0E-F584-4C5E-9726-BA482BEA30F2" class="sect3">加载PGA_TCP_IMSC表</h3>
               <div>
                  <div class="section">
                     <p>想要使用TCP / IP协议的网关用户通过使用<a id="d14059e2432" class="indexterm-anchor"></a> <code class="codeph">pg4tcpmap</code>工具。
                     </p>
                     <p>该<a id="d14059e2441" class="indexterm-anchor"></a> <code class="codeph">pg4tcpmap</code>工具位于网关上。其功能是将Side Profile Name映射到TCP / IP和IMS Connect属性。您必须在执行PL / SQL网关语句之前运行此工具（例如<code class="codeph">$ORACLE_HOME/dg4appc/demo/IMS/pgaims.sql</code> ）。
                     </p>
                     <p>在<a id="d14059e2454" class="indexterm-anchor"></a>例如， <code class="codeph">PGAINIT</code> TIP，用户必须指定Side Profile Name。SNA协议识别并利用该参数。在此版本的网关中， <code class="codeph">pg4tcpmap</code>工具使用原始<code class="codeph">PGAINIT</code> TIP格式将相关SNA参数映射到TCP / IP。 <code class="codeph">pg4tcpmap</code>工具将这些参数的值插入到一个名为的表中<a id="d14059e2468" class="indexterm-anchor"></a><a id="d14059e2473" class="indexterm-anchor"></a> <code class="codeph">PGA_TCP_IMSC</code> 。</p>
                     <p>在执行<code class="codeph">pg4tcpmap</code>之前，必须指定<code class="codeph">ORACLE_HOME</code> ，Oracle SID和修改<code class="codeph">init</code> <span class="italic"><code class="codeph">sid.</code></span> <code class="codeph">ora</code> 。有关<code class="codeph">pg4tcpmap</code>命令的完整信息，请参阅本指南中的<a href="appc-gateway-initialization-parameters-tcp-ip.html#GUID-161073EE-D171-4C01-BB8F-640F6BC6B6D8">“TCP / IP通信协议的网关初始化参数”</a>和“ <a href="../appug/pg4tcpmap-commands-tcpip.html#APPUG600" target="_blank"><span class="italic">Oracle数据库网关APPC用户指南”的</span></a>第6章。
                     </p>
                     <p>“ <a href="../appug/pg4tcpmap-commands-tcpip.html#APPUG600" target="_blank"><span class="italic">Oracle数据库网关APPC用户指南”的</span></a>第6章包含了一个列表<a id="d14059e2516" class="indexterm-anchor"></a> <code class="codeph">pg4tcpmap</code>命令和使用它们的说明，以及表的示例。有关已执行的<code class="codeph">pg4tcpmap</code>工具的跟踪文件的信息，请参阅“ <a href="../appug/troubleshooting-oracle-database-gateway-appc.html#APPUG800" target="_blank"><span class="italic">Oracle数据库网关中的APPC用户指南</span></a> ”中的第8章“故障排除”。
                     </p>
                     <p>要操作此工具，请执行以下命令：</p><pre class="oac_no_warn" dir="ltr">$ $ ORACLE_HOME / bin / pg4tcpmap</pre><p>有关<code class="codeph">pg4tcpmap</code>输出的示例，请参阅<a href="appc-gateway-initialization-parameters-tcp-ip.html#GUID-DB20E471-8E82-4F30-A7E5-77D5ECDE3337">pg4tcpmap工具</a>的输出。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="APPCI250"></a><div class="props_rev_3"><a id="GUID-6251905A-234F-4662-97B8-194560A96D8C" name="GUID-6251905A-234F-4662-97B8-194560A96D8C"></a><h3 id="APPCI-GUID-6251905A-234F-4662-97B8-194560A96D8C" class="sect3">验证网关安装和OLTP配置</h3>
               <div>
                  <div class="section">
                     <p>要验证网关安装和OLTP配置，请在安装网关后执行以下过程。<a id="d14059e2576" class="indexterm-anchor"></a><a id="d14059e2582" class="indexterm-anchor"></a></p>
                     <div class="infoboxnote" id="GUID-6251905A-234F-4662-97B8-194560A96D8C__GUID-478ABCA8-79F2-4364-BA7A-67470FE44F6B">
                        <p class="notep1">注意：</p>
                        <p>如果你的<a id="d14059e2591" class="indexterm-anchor"></a>数据库链接名称不是“PGA”，修改演示<code class="codeph">.sql</code>文件，为它们提供您在<a href="config-appc-gateway-using-tcp-ip.html#GUID-0E0F573C-31C5-46A1-A808-64D2304AEC6E">配置Oracle数据库：首次安装的</a>步骤<a href="config-appc-gateway-using-tcp-ip.html#GUID-0E0F573C-31C5-46A1-A808-64D2304AEC6E__I1008586">5</a>中创建的特定数据库链接名称。您必须修改以下内容。 <code class="codeph">sql</code>文件：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">pgavsn.sql</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">pgaecho.sql</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">pgaims.sql</code></p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div><a id="APPCI251"></a><div class="props_rev_3"><a id="GUID-83967F47-B017-4C5D-A320-5A9C7237B067" name="GUID-83967F47-B017-4C5D-A320-5A9C7237B067"></a><h4 id="APPCI-GUID-83967F47-B017-4C5D-A320-5A9C7237B067" class="sect4">验证网关安装</h4>
                  <div>
                     <div class="section">
                        <p>使用以验证网关软件安装<a id="d14059e2675" class="indexterm-anchor"></a><a id="d14059e2681" class="indexterm-anchor"></a>先前创建的数据库链接PGA，执行以下步骤：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>使用SQL * Plus，连接到您的<a id="d14059e2692" class="indexterm-anchor"></a> Oracle数据库为<a id="d14059e2699" class="indexterm-anchor"></a> <code class="codeph">PGAADMIN</code> 。</span></li>
                        <li class="stepexpand"><span>运行<code class="codeph">$ORACLE_HOME/dg4appc/demo/pgavsn.sql</code> 。</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; @ $ ORACLE_HOME / dg4appc / demo / pgavsn.sql</pre><p>服务器版本号标题出现在您的终端上。出现以下输出：</p><pre class="oac_no_warn" dir="ltr">适用于APPC的Oracle数据库网关（用于IMS连接的扩展TCP / IP）。版本12.2.0.1.0 2016年8月24日星期三14:52:36版权所有（c）Oracle Corporation 1979,2016。版权所有。PL / SQL过程成功完成。
</pre></div>
                        </li>
                        <li class="stepexpand"><span>运行<code class="codeph">$ORACLE_HOME/dg4appc/demo/pgaecho.sql</code> 。</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; @ $ ORACLE_HOME / dg4appc / demo / pgaecho.sql</pre><p>您将收到以下输出：</p><pre class="oac_no_warn" dir="ltr">==&gt;恭喜，您的安装成功。 &lt;==</pre></div>
                        </li>
                     </ol>
                  </div>
               </div><a id="APPCI252"></a><div class="props_rev_3"><a id="GUID-6C74A498-4D5F-4A56-B208-305355C3ABC4" name="GUID-6C74A498-4D5F-4A56-B208-305355C3ABC4"></a><h4 id="APPCI-GUID-6C74A498-4D5F-4A56-B208-305355C3ABC4" class="sect4">验证OLTP配置</h4>
                  <div>
                     <div class="section">
                        <p>使用以下过程验证OLTP配置。</p>
                        <div class="infoboxnote" id="GUID-6C74A498-4D5F-4A56-B208-305355C3ABC4__GUID-0E952F2F-1659-4222-9D1F-439A5131A660">
                           <p class="notep1">注意：</p>
                           <p>如果尚未完成“ <a href="config-appc-gateway-using-tcp-ip.html#GUID-2D70C3E1-79CB-498C-9743-539B4693FE7D">准备配置网关安装/升级”中</a>详细说明的文件传输，请在继续执行下一步之前完成这些文件传输。
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div><a id="APPCI253"></a><div class="props_rev_3"><a id="GUID-9C4466BE-5F80-4545-B1D3-984D87B49046" name="GUID-9C4466BE-5F80-4545-B1D3-984D87B49046"></a><h5 id="APPCI-GUID-9C4466BE-5F80-4545-B1D3-984D87B49046" class="sect5">IMS / TM验证</h5>
                     <div>
                        <div class="section">
                           <p>执行以下步骤以验证IMS / TM配置。在开始此过程之前，请确保已安装并配置了IMS Connect，并且它已启动并正在运行。有关如何执行安装和配置任务的信息，请参阅“IBM <span class="italic">IMS Connect指南和参考</span> ”。
                           </p>
                           <div class="infoboxnote" id="GUID-9C4466BE-5F80-4545-B1D3-984D87B49046__GUID-B9960098-1C1A-4CB7-8EF2-CEA88395585A">
                              <p class="notep1">注意：</p>
                              <p><a id="d14059e2852" class="indexterm-anchor"></a><a id="d14059e2856" class="indexterm-anchor"></a><a id="d14059e2860" class="indexterm-anchor"></a> <span class="bold">将通信协议更改为TCP / IP时，必须重新编译TIP</span> 。</p>
                              <p>仅限TCP / IP： <a id="d14059e2869" class="indexterm-anchor"></a><a id="d14059e2873" class="indexterm-anchor"></a>如果您之前使用SNA通信包协议在网关上生成了现有TIP，并且您希望使用新的TCP / IP功能，那么必须通过PGAU以强制<code class="codeph">NLS_LANGUAGE</code>和Side Profile Settings重新生成TIP。在<code class="codeph">DEFINE TRANSACTION</code>命令中指定适当的ASCII字符集。
                              </p>
                              <p>这是因为网关假定正在使用IMS Connect中的适当用户出口，这将在适当的ASCII和EBCDIC字符集之间进行转换。</p>
                           </div>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>验证<a id="d14059e2890" class="indexterm-anchor"></a> <code class="codeph">FLIP</code>事务已正确安装，登录到您的IMS / TM系统并输入以下事务（在为网关配置IMS / TM系统时，将<code class="codeph">FLIP</code>替换为您为<code class="codeph">FLIP</code>选择的事务ID）：</span><div><pre class="oac_no_warn" dir="ltr">翻上这条消息</pre><p>终端上显示以下输出：</p><pre class="oac_no_warn" dir="ltr">EGASSEM SIHT PILF</pre></div>
                           </li>
                           <li class="stepexpand"><span>登录到基于UNIX的系统。</span><div>
                                 <div class="infoboxnote" id="GUID-9C4466BE-5F80-4545-B1D3-984D87B49046__GUID-707695BF-C177-4A13-9DB7-21F0E1961709">
                                    <p class="notep1">注意：</p>
                                    <p>如果尚未完成<a href="config-appc-gateway-using-tcp-ip.html#GUID-2D70C3E1-79CB-498C-9743-539B4693FE7D">准备配置网关安装/升级</a> <a href="config-appc-gateway-using-tcp-ip.html#GUID-2D70C3E1-79CB-498C-9743-539B4693FE7D">准备配置网关安装/升级中</a>详细说明的文件传输，请立即完成，然后再继续执行下一步。
                                    </p>
                                 </div>
                              </div>
                           </li>
                           <li class="stepexpand"><span>修改<code class="codeph">pgaims.sql</code> <a id="d14059e2933" class="indexterm-anchor"></a><a id="d14059e2937" class="indexterm-anchor"></a>文件，位于<code class="codeph">$ORACLE_HOME/dg4appc/demo/IMS/pgaims.sql</code> 。自定义以下三个用于访问网关和IMS / TM系统的项目，如文件开头的注释中所述：</span><div>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p>IMS / TM事务ID</p>
                                    </li>
                                    <li>
                                       <p>侧面名称</p>
                                    </li>
                                    <li>
                                       <p>Logmode条目名称</p>
                                    </li>
                                 </ul>
                              </div>
                           </li>
                           <li class="stepexpand"><span>确保<a id="d14059e2961" class="indexterm-anchor"></a>系统上的TCP / IP通信协议已启动。</span></li>
                           <li class="stepexpand"><span>使用SQL * Plus，连接到您的<a id="d14059e2971" class="indexterm-anchor"></a>来自<code class="codeph">PGAADMIN</code> Oracle数据库。</span></li>
                           <li class="stepexpand"><span>运行<code class="codeph">pgaims.sql</code> 。</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; @ $ ORACLE_HOME / dg4appc / demo / IMS / pgaims.sql</pre><p>出现以下消息：</p>
                              </div>
                           </li>
                        </ol>
                        <div class="section"><pre class="oac_no_warn" dir="ltr">==&gt;恭喜，您的网关正在与IMS / TM &lt;==进行通信</pre><p>您的IMS / TM安装验证现已完成。</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div>
            </div><a id="APPCI254"></a><div class="props_rev_3"><a id="GUID-ECA2C74E-4708-4A8D-8C87-6A5E79A6BF9D" name="GUID-ECA2C74E-4708-4A8D-8C87-6A5E79A6BF9D"></a><h3 id="APPCI-GUID-ECA2C74E-4708-4A8D-8C87-6A5E79A6BF9D" class="sect3">执行安装后程序</h3>
               <div>
                  <div class="section">
                     <p>以下是您可以根据需要执行的可选步骤。建议为OLTP安装示例应用程序，以帮助您完全了解网关的工作方式以及它与OLTP的接口方式。</p>
                  </div>
                  <!-- class="section" -->
               </div><a id="APPCI255"></a><div class="props_rev_3"><a id="GUID-56D946BA-0FAC-447C-80C0-7E8AC3F6510E" name="GUID-56D946BA-0FAC-447C-80C0-7E8AC3F6510E"></a><h4 id="APPCI-GUID-56D946BA-0FAC-447C-80C0-7E8AC3F6510E" class="sect4">安装示例应用程序</h4>
                  <div>
                     <div class="section">
                        <p>适用于IMS Connect的Oracle数据库网关APPC包含用于IMS Connect的TCP / IP，包含演示网关功能的示例PL / SQL过程和OLTP事务程序。</p>
                        <div class="infoboxnote" id="GUID-56D946BA-0FAC-447C-80C0-7E8AC3F6510E__GUID-003D1DC9-978F-4727-96DB-231702802E5C">
                           <p class="notep1">注意：</p>
                           <p>当您调用使用TCP / IP作为通信协议的网关，并且您使用EBCDIC作为控制文件中的语言时，您必须将语言从EBCDIC更改为ASCII。可能使用EBCDIC语言的控制文件的一些示例是<code class="codeph">ivtno.ctl</code>和<code class="codeph">ivtnv.ctl</code> 。
                           </p>
                           <p>有关更多信息，请参阅<code class="codeph">$ORACLE_HOME/dg4appc/demo/IMS/ivtno.ctl</code>和<code class="codeph">$ORACLE_HOME/dg4appc/demo/IMS/ivtnv.ctl</code>文件。
                           </p>
                        </div>
                        <p>为IMS / TM提供样本：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>使用<code class="codeph">IVTNO</code>和<code class="codeph">IVTNV</code>样本事务进行IMS查询</p>
                           </li>
                        </ul>
                        <p>在较新版本的产品中，其他样品会添加到分发介质中。示例应用程序尽可能使用随数据库产品提供的示例数据库。</p>
                        <p>对于此版本，有关安装和使用示例应用程序的完整文档可在以下位置找到：</p>
                        <p><code class="codeph">$ ORACLE_HOME / dg4appc /演示/ IMS / sample_IMS_applications.txt</code></p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>