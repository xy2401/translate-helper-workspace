<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>单客户端访问名称</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="JDBC Developer&#39;s Guide"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="JDBC Developer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="jdbc-developers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-02-13T13:20:37-08:00"></meta>
      <meta name="dcterms.title" content="JDBC Developer&#39;s Guide"></meta>
      <meta name="dcterms.dateCopyrighted" content="1999, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96471-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="transparent-application-failover.html" title="Previous" type="text/html"></link>
      <link rel="next" href="transaction-management.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="JJDBC"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="transparent-application-failover.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="transaction-management.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">JDBC开发人员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="high-availablility.html" property="item" typeof="WebPage"><span property="name">高可用性</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">单客户端访问名称</li>
            </ol>
            <a id="GUID-2047E12A-0440-4B4D-9C59-6A7BC8B5909D" name="GUID-2047E12A-0440-4B4D-9C59-6A7BC8B5909D"></a><a id="JJDBC29151"></a>
            
            <h2 id="JJDBC-GUID-2047E12A-0440-4B4D-9C59-6A7BC8B5909D" class="sect2"><span class="enumeration_chapter">32</span>单客户端访问名称</h2>
         </header>
         <div class="ind">
            <div>
               <p>单客户端访问名称（SCAN）是Oracle Real Application Clusters（Oracle RAC）功能，它为客户端提供访问群集中运行的Oracle数据库的单一名称。本章讨论与SCAN相关的以下概念：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="single-client-access-name.html#GUID-FF33CA93-1A1F-4067-AC26-1CB13C5071D8">单客户端访问名称概述</a></p>
                  </li>
                  <li>
                     <p><a href="single-client-access-name.html#GUID-57C0B9EB-FBAC-4B9B-8E75-CC448F67C8D7">关于使用SCAN配置数据库</a></p>
                  </li>
                  <li>
                     <p><a href="single-client-access-name.html#GUID-85F7E439-62D1-4387-A4A7-841FBF5A0F85">在最高可用性体系结构环境中使用SCAN</a></p>
                  </li>
                  <li>
                     <p><a href="single-client-access-name.html#GUID-DE3FF1CB-7139-4E2C-B815-5B1280EA093A">使用SCAN和Oracle Connection Manager</a></p>
                  </li>
               </ul>
            </div><a id="JJDBC29152"></a><div class="props_rev_3"><a id="GUID-FF33CA93-1A1F-4067-AC26-1CB13C5071D8" name="GUID-FF33CA93-1A1F-4067-AC26-1CB13C5071D8"></a><h3 id="JJDBC-GUID-FF33CA93-1A1F-4067-AC26-1CB13C5071D8" class="sect3"><span class="enumeration_section">32.1</span>单客户端访问名称概述</h3>
               <div>
                  <p>SCAN是在域命名服务（DNS）或网格命名服务（GNS）中注册到至少一个和最多三个IP地址的域名。使用GNS和动态主机配置协议（DHCP）时，Oracle Clusterware会为群集配置期间提供的SCAN名称配置虚拟IP（VIP）地址。使用GNS时，从DHCP服务器获取节点VIP和三个SCAN VIP。</p>
                  <div class="infoboxnotealso" id="GUID-FF33CA93-1A1F-4067-AC26-1CB13C5071D8__GUID-F581C082-7C88-4C82-A033-D3006153B227">
                     <p class="notep1">也可以看看：</p>
                     <p>有关GNS的详细信息，请参阅<a href="../cwadd/oracle-clusterware-administration.html#CWADD11847" target="_blank"><span class="italic">“Oracle Clusterware管理和部署指南”</span></a></p>
                  </div>
                  <p>如果新服务器加入群集，则Oracle Clusterware会从DHCP服务器动态获取所需的VIP地址，更新群集资源，并通过GNS访问服务器。使用SCAN的好处是，如果在群集中添加或删除节点，则无需更改客户端的连接信息。只需一个名称即可访问群集，客户端可以使用EZConnect客户端和简单的JDBC瘦URL访问群集中运行的任何数据库，而不受群集中活动服务器的影响。SCAN为客户端与数据库的连接提供负载平衡和故障转移。SCAN用作群集中数据库的群集别名。</p>
               </div>
            </div><a id="JJDBC29160"></a><div class="props_rev_3"><a id="GUID-57C0B9EB-FBAC-4B9B-8E75-CC448F67C8D7" name="GUID-57C0B9EB-FBAC-4B9B-8E75-CC448F67C8D7"></a><h3 id="JJDBC-GUID-57C0B9EB-FBAC-4B9B-8E75-CC448F67C8D7" class="sect3"><span class="enumeration_section">32.2</span>关于使用SCAN配置数据库</h3>
               <div>
                  <div class="section">
                     <p>SCAN是数据库配置的重要组成部分。因此，默认情况下， <code class="codeph">REMOTE_LISTENER</code>参数设置为SCAN，假设使用标准Oracle工具创建数据库。这使实例能够作为远程侦听器向SCAN侦听器注册，以提供有关实例提供的服务，当前负载以及应将多少传入连接定向到实例的建议的信息。
                     </p>
                     <p>在此上下文中，必须将<code class="codeph">LOCAL_LISTENER</code>参数设置为node-VIP。如果需要完全限定的域名，请确保将<code class="codeph">LOCAL_LISTENER</code>参数设置为完全限定的域名。默认情况下，在群集配置期间，会在群集中的每个节点上创建节点侦听器。使用Oracle Grid Infrastructure，节点侦听器将耗尽Oracle Grid Infrastructure主目录，并使用指定的端口侦听node-VIP。默认端口为1521。
                     </p>
                     <p>与早期的数据库版本不同，Oracle不建议将<code class="codeph">REMOTE_LISTENER</code>参数设置为服务器端<code class="codeph">TNSNAMES</code>别名，该别名将主机解析为地址列表条目中的SCAN，例如， <code class="codeph">HOST=sales1-scan</code> 。相反，您必须使用简化的<code class="codeph">SCAN:port</code>语法，如下表所示，其中显示了<code class="codeph">LOCAL_LISTENER</code>和<code class="codeph">REMOTE_LISTENER</code>典型设置：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-57C0B9EB-FBAC-4B9B-8E75-CC448F67C8D7__GUID-EAADAD28-B67B-4E89-BB5C-33FC18D97132">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="Typical settings  for LOCAL_LISTENER and REMTE_LISTENER" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="26%" id="d79973e154">名称</th>
                              <th align="left" valign="bottom" width="26%" id="d79973e157">类型</th>
                              <th align="left" valign="bottom" width="47%" id="d79973e160">值</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d79973e165" headers="d79973e154 ">
                                 <p><code class="codeph">LOCAL_LISTENER</code></p>
                              </td>
                              <td align="left" valign="top" width="26%" headers="d79973e165 d79973e157 ">
                                 <p>串</p>
                              </td>
                              <td align="left" valign="top" width="47%" headers="d79973e165 d79973e160 ">
                                 <p><code class="codeph">（DESCRIPTION =（ADDRESS_LIST =（ADDRESS =（PROTOCOL = TCP）（HOST =本地主机）（PORT = 5221））））</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d79973e177" headers="d79973e154 ">
                                 <p><code class="codeph">REMOTE_LISTENER</code></p>
                              </td>
                              <td align="left" valign="top" width="26%" headers="d79973e177 d79973e157 ">
                                 <p>串</p>
                              </td>
                              <td align="left" valign="top" width="47%" headers="d79973e177 d79973e160 ">
                                 <p><code class="codeph">example.us.oracle.com:5221</code></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <div class="infoboxnote" id="GUID-57C0B9EB-FBAC-4B9B-8E75-CC448F67C8D7__GUID-00624A93-3DF2-43FA-929D-D445A0BB03C6">
                        <p class="notep1">注意：</p>
                        <p>如果您使用的是简单的连接命名方法，你可能需要修改<code class="codeph">SQLNET.ORA</code>文件，以确保<code class="codeph">EZCONNECT</code>在列表中，当你指定用于客户端名称解析查找的命名方法的顺序。
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="JJDBC29163"></a><a id="JJDBC29162"></a><div class="props_rev_3"><a id="GUID-5A0970B1-03C0-4779-9F8A-0CF062F0FC1E" name="GUID-5A0970B1-03C0-4779-9F8A-0CF062F0FC1E"></a><h3 id="JJDBC-GUID-5A0970B1-03C0-4779-9F8A-0CF062F0FC1E" class="sect3"><span class="enumeration_section">32.3</span>连接负载平衡如何使用SCAN工作</h3>
               <div>
                  <p>对于使用Oracle SQL * Net连接的客户端，客户端通过DNS解析SCAN名称来接收三个IP地址。然后，客户端浏览它从DNS接收的列表，并尝试通过列表中的一个IP地址进行连接。如果客户端收到错误，则会在将错误返回给用户或应用程序之前尝试连接到其他地址。这与客户端连接故障转移在早期数据库版本中的工作方式类似，此时客户端连接字符串中提供了地址列表。</p>
                  <p>当SCAN侦听器收到连接请求时，SCAN侦听器会检查提供所请求服务的最小负载实例。然后，它将连接请求重定向到运行负载最少的实例的节点上的本地侦听器。随后，客户端被赋予本地监听器的地址。然后，本地侦听器最终创建与Database实例的连接。</p>
                  <div class="figure" id="GUID-5A0970B1-03C0-4779-9F8A-0CF062F0FC1E__GUID-62CA84E4-2357-4712-B783-DD89420A1BBF">
                     <p class="titleinfigure">图32-1使用SCAN进行连接负载平衡</p><img src="img/scan.gif" alt="使用SCAN进行连接负载平衡" title="使用SCAN进行连接负载平衡"></div>
                  <!-- class="figure" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-5A0970B1-03C0-4779-9F8A-0CF062F0FC1E__GUID-9926ECBA-4BF6-4740-80E0-D37C45514B3D">例</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>此示例假定Oracle客户端使用默认的<code class="codeph">TNSNAMES.ora</code>文件：</p><pre class="oac_no_warn" dir="ltr">ORCLservice =（DESCRIPTION =（ADDRESS =（PROTOCOL = TCP）（HOST = sales1-scan.example.com）（PORT = 1521））（CONNECT_DATA =（SERVER = DEDICATED）（SERVICE_NAME = MyORCLservice）））</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="JJDBC29165"></a><div class="props_rev_3"><a id="GUID-BC792F51-E538-48C8-9E06-9A95F267C521" name="GUID-BC792F51-E538-48C8-9E06-9A95F267C521"></a><h3 id="JJDBC-GUID-BC792F51-E538-48C8-9E06-9A95F267C521" class="sect3"><span class="enumeration_section">32.4</span>版本和向后兼容性</h3>
               <div>
                  <div class="section">
                     <p>要成功使用SCAN连接到群集中的Oracle RAC数据库，取决于以下两个因素：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>客户理解和使用SCAN的能力</p>
                        </li>
                        <li>
                           <p>数据库中<code class="codeph">REMOTE_LISTENER</code>参数设置的正确配置</p>
                        </li>
                     </ul>
                     <p>如果连接到数据库的Oracle客户端版本和使用的Oracle数据库版本都是Oracle Database <span class="italic">11g</span>第2版，并且使用了前面部分中描述的默认配置，那么通常您不需要对其进行任何更改系统。
                     </p>
                     <p>如果Oracle客户端版本和客户端连接的Oracle数据库版本都早于Oracle Database <span class="italic">11g</span>第2版，那么通常您不需要对系统进行任何更改。在这种情况下，客户端使用TNS连接描述符解析为群集的节点VIP，而Oracle数据库使用指向节点VIP的<code class="codeph">REMOTE_LISTENER</code>条目。此配置的缺点是不使用SCAN，因此每次集群在后端更改时，客户端都会受到更改。
                     </p>
                     <p>如果您使用的是Oracle Database <span class="italic">11g</span>第2版，但客户端位于数据库的早期版本上，则必须相应地更改Oracle客户端或Oracle Database <code class="codeph">REMOTE_LISTENER</code>参数设置或两者。在这种情况下，您必须考虑以下情况：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-BC792F51-E538-48C8-9E06-9A95F267C521__GUID-CDDD9E9E-3A04-4BF5-8A2D-72C6709C715E">
                     <p class="titleintable">表32-1 SCAN的Oracle客户端和Oracle数据库版本兼容性</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="SCAN的Oracle客户端和Oracle数据库版本兼容性" width="100%" border="1" summary="Oracle Client and Oracle Database Version Compatibility for SCAN" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="33%" id="d79973e326">Oracle客户端版本</th>
                              <th align="left" valign="bottom" width="33%" id="d79973e329">Oracle数据库版本</th>
                              <th align="left" valign="bottom" width="33%" id="d79973e332">评论</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d79973e337" headers="d79973e326 ">
                                 <p>Oracle Database <span class="italic">11g</span>第2版</p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d79973e337 d79973e329 ">
                                 <p>Oracle Database <span class="italic">11g</span>第2版</p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d79973e337 d79973e332 ">
                                 <p>无需更改</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d79973e353" headers="d79973e326 ">
                                 <p>Oracle Database <span class="italic">11g</span>第2版</p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d79973e353 d79973e329 ">
                                 <p>早于Oracle Database <span class="italic">11g</span>第2版的Oracle数据库版本</p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d79973e353 d79973e332 ">
                                 <p>将SCAN VIP作为主机添加到<code class="codeph">REMOTE_LISTENER</code>参数。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d79973e372" headers="d79973e326 ">
                                 <p>早于Oracle Database <span class="italic">11g</span>第2版的Oracle数据库版本</p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d79973e372 d79973e329 ">
                                 <p>Oracle Database <span class="italic">11g</span>第2版</p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d79973e372 d79973e332 ">
                                 <p>更新客户端<code class="codeph">TNSNAMES.ora</code>文件以包含SCAN VIP。如果使用数据库升级助手（DBUA）从早于11 <span class="italic">g</span>第2版的数据库升级数据库，则DBUA会将<code class="codeph">REMOTE_LISTENER</code>参数配置为指向节点VIP和SCAN。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d79973e397" headers="d79973e326 ">
                                 <p>早于Oracle Database <span class="italic">11g</span>第2版的Oracle数据库版本</p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d79973e397 d79973e329 ">
                                 <p>早于Oracle Database <span class="italic">11g</span>第2版的Oracle数据库版本</p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d79973e397 d79973e332 ">
                                 <p>如果要使用SCAN（推荐），则将SCAN VIP作为主机添加到<code class="codeph">REMOTE_LISTENER</code>参数，并更新客户端<code class="codeph">TNSNAMES.ora</code>文件以包含SCAN VIP。否则，无需更改。
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>如果您使用的是早于Oracle Database <span class="italic">11g</span>第2版的客户端，则无法充分受益于SCAN的优势，因为Oracle客户端无法处理DNS为SCAN返回的三个IP地址集。相反，它尝试仅连接到列表中返回的第一个地址，并忽略其他两个地址。如果侦听此特定IP地址的SCAN侦听器不可用或IP地址本身不可用，则连接将失败。要确保与Oracle Database <span class="italic">11g</span>第2版之前的客户端进行负载平衡和连接故障转移，必须更新客户端的<code class="codeph">TNSNAMES.ora</code>文件，以便它使用三个地址行，其中每个地址行都解析为其中一个SCAN VIP。以下示例显示了早于Oracle Database <span class="italic">11g</span>第2版的客户端的示例<code class="codeph">TNSNAMES.ora</code>文件：</p><pre class="oac_no_warn" dir="ltr">sales.example.com =（DESCRIPTION =（ADDRESS_LIST =（LOAD_BALANCE = on）（FAILOVER = ON）（ADDRESS =（PROTOCOL = tcp）（HOST = 133.22.67.192）（PORT = 1521））（ADDRESS =（PROTOCOL = tcp） ）（HOST = 133.22.67.193）（PORT = 1521））（ADDRESS =（PROTOCOL = tcp）（HOST = 133.22.67.194）（PORT = 1521）））（CONNECT_DATA =（SERVICE_NAME = salesservice.example.com）））</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="JJDBC29166"></a><div class="props_rev_3"><a id="GUID-85F7E439-62D1-4387-A4A7-841FBF5A0F85" name="GUID-85F7E439-62D1-4387-A4A7-841FBF5A0F85"></a><h3 id="JJDBC-GUID-85F7E439-62D1-4387-A4A7-841FBF5A0F85" class="sect3"><span class="enumeration_section">32.5</span>在最高可用性体系结构环境中使用SCAN</h3>
               <div>
                  <div class="section">
                     <p>如果您实现了最高可用性体系结构（MAA）环境，在该环境中使用Oracle RAC同时使用Oracle Data Guard同步的主数据库和备用数据库，则使用SCAN提供简化的<code class="codeph">TNSNAMES</code>配置，客户端可以使用该配置进行连接到数据库，与主数据库或备用数据库是否是当前活动的数据库无关。
                     </p>
                     <p>为了使用这种简化的配置，Oracle Database <span class="italic">11g</span>第2版引入了以下两个SQL * Net参数，可用于各个客户端的连接字符串：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">CONNECT_TIMEOUT</code>参数</p>
                           <p>它指定客户端建立与Oracle数据库的Oracle Net连接的超时持续时间（秒）。此参数将覆盖<code class="codeph">SQLNET.ORA</code>文件中的<code class="codeph">SQLNET.OUTBOUT_CONNECT_TIMEOUT</code>参数。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">RETRY_COUNT</code>参数</p>
                           <p>它指定在终止连接尝试之前遍历<code class="codeph">ADDRESS_LIST</code>的次数。
                           </p>
                        </li>
                     </ul>
                     <p>使用这两个参数，可以在客户端连接字符串中使用SCAN（主站点上的SCAN和备用站点上的SCAN）。此外，如果随机选择的地址指向当前未处于活动状态的站点，则超时会使连接请求在客户端等待不合理的长时间之前进行故障转移。以下示例显示MAA环境的示例<code class="codeph">TNSNAMES.ORA</code>条目：</p><pre class="oac_no_warn" dir="ltr">sales.example.com =（DESCRIPTION =（CONNECT_TIMEOUT = 10）（RETRY_COUNT = 3）（ADDRESS_LIST =（LOAD_BALANCE = on）（FAILOVER = ON）（ADDRESS =（PROTOCOL = tcp）（HOST = sales1-scan）（PORT = 1521））（ADDRESS =（PROTOCOL = tcp）（HOST = sales2-scan）（PORT = 1521）））（CONNECT_DATA =（SERVICE_NAME = salesservice.example.com）））</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="JJDBC29167"></a><div class="props_rev_3"><a id="GUID-DE3FF1CB-7139-4E2C-B815-5B1280EA093A" name="GUID-DE3FF1CB-7139-4E2C-B815-5B1280EA093A"></a><h3 id="JJDBC-GUID-DE3FF1CB-7139-4E2C-B815-5B1280EA093A" class="sect3"><span class="enumeration_section">32.6</span>在Oracle Connection Manager中使用SCAN</h3>
               <div>
                  <div class="section">
                     <p>如果将Oracle连接管理器（CMAN）与Oracle RAC数据库一起使用，则Oracle RAC实例的<code class="codeph">REMOTE_LISTENER</code>参数必须包含CMAN服务器，以便CMAN服务器接收与负载平衡相关的信息，并可跨可用实例负载平衡连接。实现此目的的最简单方法是将CMAN服务器添加为客户端要通过CMAN连接的数据库的<code class="codeph">REMOTE_LISTENER</code>参数的条目。您还必须从客户端的<code class="codeph">TNSNAMES</code>连接描述符中删除SCAN并配置CMAN服务器。以下示例显示使用CMAN时的服务器端<code class="codeph">TNSNAMES.ora</code>示例条目：</p><pre class="oac_no_warn" dir="ltr"><span class="bold">SQL&gt; show parameters listener</span> NAME TYPE VALUE -------------------------- ----------- ----- ------------------------- listener_networks string local_listener string（DESCRIPTION =（ADDRESS_LIST =（ADDRESS =（PROTOCOL = TCP）（HOST = 148.87.58.109） （PORT = 1521））））remote_listener string stscan3.oracle.com:1521,(DESCRIPTION=(ADDRESS_LIST =（ADDRESS =（PROTOCOL = TCP）（HOST = CMANserver）（PORT = 1521））））</pre><div class="infoboxnotealso" id="GUID-DE3FF1CB-7139-4E2C-B815-5B1280EA093A__GUID-8F485DC1-D3A3-4C57-88F4-4D448C5247AE">
                        <p class="notep1">也可以看看：</p>
                        <p>有关配置CMAN服务器的详细信息，请<a href="../netrf/index.html" target="_blank"><span class="italic">参见Oracle数据库网络服务参考</span></a></p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html>