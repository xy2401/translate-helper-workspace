<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="You can use document sections in a text query application."></meta>
      <meta name="description" content="You can use document sections in a text query application."></meta>
      <title>在Oracle Text中搜索文档部分</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Application Developer&#39;s Guide "></meta>
      <meta property="og:description" content="You can use document sections in a text query application."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Application Developer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="text-application-developers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-07T01:45:16-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2001, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96275-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="tuning-oracle-text.html" title="Previous" type="text/html"></link>
      <link rel="next" href="using-oracle-text-name-search.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Text Application Developer&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="CCAPP"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="tuning-oracle-text.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="using-oracle-text-name-search.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">应用程序开发人员指南</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">在Oracle Text中搜索文档部分</li>
            </ol>
            <a id="GUID-9455DBD9-2C23-4CB0-A3C5-FB8B2033516A" name="GUID-9455DBD9-2C23-4CB0-A3C5-FB8B2033516A"></a><a id="CCAPP0800"></a>
            
            <h2 id="CCAPP-GUID-9455DBD9-2C23-4CB0-A3C5-FB8B2033516A" class="sect2"><span class="enumeration_chapter">11</span>在Oracle Text中搜索文档部分</h2>
         </header>
         <div class="ind">
            <div>
               <p>您可以在文本查询应用程序中使用文档部分。</p>
               <p>本章包含以下主题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="searching-document-sections-in-oracle-text.html#GUID-C9161012-F942-46BD-A9D6-68CF554F3D6D">关于Oracle Text Document Section Searching</a></p>
                  </li>
                  <li>
                     <p><a href="searching-document-sections-in-oracle-text.html#GUID-2F7B1652-42FB-4A0A-A37F-652DDCB82182">HTML部分使用Oracle Text搜索</a></p>
                  </li>
                  <li>
                     <p><a href="searching-document-sections-in-oracle-text.html#GUID-8D535B14-B377-4766-A062-1DA912438E23">使用Oracle Text搜索XML部分</a></p>
                  </li>
               </ul>
            </div><a id="CCAPP9284"></a><div class="props_rev_3"><a id="GUID-C9161012-F942-46BD-A9D6-68CF554F3D6D" name="GUID-C9161012-F942-46BD-A9D6-68CF554F3D6D"></a><h3 id="CCAPP-GUID-C9161012-F942-46BD-A9D6-68CF554F3D6D" class="sect3"><span class="enumeration_section">11.1</span>关于Oracle Text Document Section Searching</h3>
               <div>
                  <p>通过截面搜索，您可以将文本查询缩小到文档中的文本块。当文档具有内部结构（例如HTML和XML文档）时，节搜索很有用。</p>
                  <p>您还可以在句子和段落级别搜索文本。</p>
                  <p>本节包含以下主题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="searching-document-sections-in-oracle-text.html#GUID-38C50A3D-B2EE-45F2-805B-AA3B02988C7C">启用Oracle Text Section Searching</a></p>
                     </li>
                     <li>
                        <p><a href="searching-document-sections-in-oracle-text.html#GUID-53221B04-7597-46BC-AF34-3B16BE898D7A">Oracle文本部分类型</a></p>
                     </li>
                     <li>
                        <p><a href="searching-document-sections-in-oracle-text.html#GUID-4C591F14-29A8-47CF-AD3B-AD84F919F3A7">Oracle文本部分属性</a></p>
                     </li>
                  </ul>
               </div><a id="CCAPP9285"></a><div class="props_rev_3"><a id="GUID-38C50A3D-B2EE-45F2-805B-AA3B02988C7C" name="GUID-38C50A3D-B2EE-45F2-805B-AA3B02988C7C"></a><h4 id="CCAPP-GUID-38C50A3D-B2EE-45F2-805B-AA3B02988C7C" class="sect4"><span class="enumeration_section">11.1.1</span>启用Oracle Text Section Searching</h4>
                  <div>
                     <p>启用部分搜索文档集的步骤如下：</p>
                     <ol>
                        <li>
                           <p><a href="searching-document-sections-in-oracle-text.html#GUID-B1DE6C9A-6010-45E8-941F-D2E4BDED2397">创建一个Section Group</a></p>
                        </li>
                        <li>
                           <p><a href="searching-document-sections-in-oracle-text.html#GUID-193F643B-C72E-471F-A1CF-05F423C4C350">定义您的部分</a></p>
                        </li>
                        <li>
                           <p><a href="searching-document-sections-in-oracle-text.html#GUID-4056667C-6298-42BF-B6B5-1A67108BFD4B">索引您的文档</a></p>
                        </li>
                        <li>
                           <p><a href="searching-document-sections-in-oracle-text.html#GUID-2F97BA75-A0C4-48D1-BC73-C83921581E1D">使用WITHIN运算符搜索部分</a></p>
                        </li>
                        <li>
                           <p><a href="searching-document-sections-in-oracle-text.html#GUID-1A6CB754-E899-48B6-B042-01ACDEB78335">使用INPATH和HASPATH运算符搜索路径</a></p>
                        </li>
                        <li>
                           <p><a href="searching-document-sections-in-oracle-text.html#GUID-7D3BD659-7C9D-44EF-9DA8-F047017BC165">将SDATA部分标记为可搜索</a></p>
                        </li>
                     </ol>
                  </div><a id="CCAPP9514"></a><a id="CCAPP9286"></a><div class="props_rev_3"><a id="GUID-B1DE6C9A-6010-45E8-941F-D2E4BDED2397" name="GUID-B1DE6C9A-6010-45E8-941F-D2E4BDED2397"></a><h5 id="CCAPP-GUID-B1DE6C9A-6010-45E8-941F-D2E4BDED2397" class="sect5"><span class="enumeration_section">11.1.1.1</span>创建节组</h5>
                     <div>
                        <p>您可以通过定义节组来启用节搜索。您可以使用系统定义的部分组之一来创建部分组的实例。选择适合您的文档集的节组。</p>
                        <p>您可以使用节组指定您拥有的文档集类型，并隐式指示标记结构。例如，要索引HTML标记文档，请使用<code class="codeph">HTML_SECTION_GROUP.</code>同样，要索引XML标记文档，请使用<code class="codeph">XML_SECTION_GROUP.</code></p>
                        <p><a href="searching-document-sections-in-oracle-text.html#GUID-B1DE6C9A-6010-45E8-941F-D2E4BDED2397__BABEHHID" title="此表显示了可以使用的各种类型的节类型。">表11-1</a>列出了不同类型的节组。
                        </p>
                        <div class="tblformal" id="GUID-B1DE6C9A-6010-45E8-941F-D2E4BDED2397__BABEHHID">
                           <p class="titleintable">表11-1节组的类型</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="部分组的类型" width="100%" border="1" summary="This table shows the various types of section types you can use." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="36%" id="d28756e359">科组偏好</th>
                                    <th align="left" valign="bottom" width="64%" id="d28756e362">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d28756e367" headers="d28756e359 ">
                                       <p><code class="codeph">NULL_SECTION_GROUP</code></p>
                                    </td>
                                    <td align="left" valign="top" width="64%" headers="d28756e367 d28756e362 ">
                                       <p>这是默认值。如果不定义任何部分或<span class="italic">仅</span>定义<code class="codeph">SENTENCE</code>或<code class="codeph">PARAGRAPH</code>部分，请使用此组类型。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d28756e384" headers="d28756e359 ">
                                       <p><code class="codeph">BASIC_SECTION_GROUP</code></p>
                                    </td>
                                    <td align="left" valign="top" width="64%" headers="d28756e384 d28756e362 ">
                                       <p>使用此组类型定义开始和结束标记的格式为<code class="codeph">&lt;A&gt;</code>和<code class="codeph">&lt;/A&gt;</code> 。
                                       </p>
                                       <p><span class="bold">注意：</span>此组类型不支持不平衡括号，注释标记和属性等输入。对此类输入使用<code class="codeph">HTML_SECTION_GROUP</code> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d28756e405" headers="d28756e359 ">
                                       <p><code class="codeph">HTML_SECTION_GROUP</code></p>
                                    </td>
                                    <td align="left" valign="top" width="64%" headers="d28756e405 d28756e362 ">
                                       <p>使用此组类型索引HTML文档和定义HTML文档中的部分。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d28756e413" headers="d28756e359 ">
                                       <p><code class="codeph">XML_SECTION_GROUP</code></p>
                                    </td>
                                    <td align="left" valign="top" width="64%" headers="d28756e413 d28756e362 ">
                                       <p>使用此组类型来索引XML文档以及定义XML文档中的部分。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d28756e421" headers="d28756e359 ">
                                       <p><code class="codeph">AUTO_SECTION_GROUP</code></p>
                                    </td>
                                    <td align="left" valign="top" width="64%" headers="d28756e421 d28756e362 ">
                                       <p>使用此组类型可自动为XML文档中的每个开始标记/结束标记对创建区域部分。与在XML中一样，从XML标记派生的节名称区分大小写。</p>
                                       <p>为具有属性的XML标记自动创建属性部分。属性部分在表单<span class="italic">标记@ attribute</span>中命名<span class="italic">。</span></p>
                                       <p>停止节，空标签，处理指令和注释未编入索引。</p>
                                       <p>以下限制适用于自动节组：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p>您无法将区域，字段或特殊部分添加到自动部分组。</p>
                                          </li>
                                          <li>
                                             <p>自动切片不会索引XML文档类型（根元素）。</p>
                                          </li>
                                          <li>
                                             <p>索引标记的长度（包括前缀和名称空间）不能超过64个字节。长度超过64字节的标记未编入索引。</p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d28756e447" headers="d28756e359 ">
                                       <p><code class="codeph">PATH_SECTION_GROUP</code></p>
                                    </td>
                                    <td align="left" valign="top" width="64%" headers="d28756e447 d28756e362 ">
                                       <p>使用此组类型来索引XML文档。此首选项的行为类似于<code class="codeph">AUTO_SECTION_GROUP.</code></p>
                                       <p>不同之处在于您可以使用<code class="codeph">INPATH</code>和<code class="codeph">HASPATH</code>运算符搜索路径。查询对标记和属性名称也区分大小写。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d28756e465" headers="d28756e359 ">
                                       <p><code class="codeph">NEWS_SECTION_GROUP</code></p>
                                    </td>
                                    <td align="left" valign="top" width="64%" headers="d28756e465 d28756e362 ">
                                       <p>根据RFC 1036，使用此组定义新闻组格式的文档中的部分。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="infoboxnote" id="GUID-B1DE6C9A-6010-45E8-941F-D2E4BDED2397__GUID-DA793D0C-5C74-442B-AEC0-9A95B7D09BBA">
                           <p class="notep1">注意：</p>
                           <p>发送到<code class="codeph">HTML,</code> <code class="codeph">XML,</code> <code class="codeph">AUTO,</code>和<code class="codeph">PATH</code>分区器的文档必须以<code class="codeph">\s*&lt;.</code>开头<code class="codeph">\s*&lt;.</code> <code class="codeph">\s*</code>表示零个或多个空格字符。否则，文档将被视为纯文本文档，并且不会识别任何部分。
                           </p>
                        </div>
                        <p>您可以使用<code class="codeph">CTX_DDL</code>包创建节组并将节定义为节组的一部分。例如，要索引HTML文档，请使用<code class="codeph">HTML_SECTION_GROUP</code>创建一个节组：</p><pre class="oac_no_warn" dir="ltr">开始ctx_ddl.create_section_group（'htmgroup'，'HTML_SECTION_GROUP'）;结束;</pre><div class="section">
                           <div class="infoboxnote" id="GUID-B1DE6C9A-6010-45E8-941F-D2E4BDED2397__GUID-BD21B25D-9601-4B42-8B2A-AE0E3609E1AC">
                              <p class="notep1">注意：</p><span>从Oracle Database 18c开始，Oracle Text中不推荐使用<code class="codeph">NEWS_SECTION_GROUP</code> 。请改用外部处理。</span><p>如果要索引USENET帖子，则预处理帖子以在Oracle Text中使用<code class="codeph">BASIC_SECTION_GROUP</code>或<code class="codeph">HTML_SECTION_GROUP</code> 。USENET很少在商业上使用。
                              </p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="CCAPP9287"></a><div class="props_rev_3"><a id="GUID-193F643B-C72E-471F-A1CF-05F423C4C350" name="GUID-193F643B-C72E-471F-A1CF-05F423C4C350"></a><h5 id="CCAPP-GUID-193F643B-C72E-471F-A1CF-05F423C4C350" class="sect5"><span class="enumeration_section">11.1.1.2</span>定义您的章节</h5>
                     <div>
                        <p>您可以将节定义为节组的一部分。以下示例为HTML <code class="codeph">&lt; H1&gt;</code>标记中的所有文本定义名为heading的区域部分：</p><pre class="oac_no_warn" dir="ltr">开始ctx_ddl.create_section_group（'htmgroup'，'HTML_SECTION_GROUP'）; ctx_ddl.add_zone_section（'htmgroup'，'heading'，'H1'）;结束;</pre><div class="infoboxnote" id="GUID-193F643B-C72E-471F-A1CF-05F423C4C350__GUID-F2B34EC4-1F68-4E25-A3C9-DEDBBD0BFBE9">
                           <p class="notep1">注意：</p>
                           <p>如果使用<code class="codeph">AUTO_SECTION_GROUP</code>或<code class="codeph">PATH_SECTION_GROUP</code>来索引XML文档集合，则不必显式定义节。系统在索引期间定义部分。
                           </p>
                        </div>
                        <div class="infoboxnotealso" id="GUID-193F643B-C72E-471F-A1CF-05F423C4C350__GUID-2AEB8337-AE3B-408A-9917-E4063A097FB7">
                           <p class="notep1">也可以看看：</p>
                           <p></p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="q">“ <a href="searching-document-sections-in-oracle-text.html#GUID-53221B04-7597-46BC-AF34-3B16BE898D7A">Oracle文本节类型</a> ”</span>有关节的更多信息</p>
                              </li>
                              <li>
                                 <p><span class="q">“ <a href="searching-document-sections-in-oracle-text.html#GUID-8D535B14-B377-4766-A062-1DA912438E23">XML部分使用Oracle Text搜索</a> ”</span>以获取有关使用XML搜索部分的更多信息</p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div><a id="CCAPP9288"></a><div class="props_rev_3"><a id="GUID-4056667C-6298-42BF-B6B5-1A67108BFD4B" name="GUID-4056667C-6298-42BF-B6B5-1A67108BFD4B"></a><h5 id="CCAPP-GUID-4056667C-6298-42BF-B6B5-1A67108BFD4B" class="sect5"><span class="enumeration_section">11.1.1.3</span>索引文件</h5>
                     <div>
                        <p>索引文档时，可以在<code class="codeph">CREATE</code> <code class="codeph">INDEX.</code>的参数子句中指定节组<code class="codeph">INDEX.</code></p><pre class="oac_no_warn" dir="ltr">在docs上创建索引myindex（htmlfile）indextype是ctxsys.context参数（'filter ctxsys.null_filter section group htmgroup'）;</pre></div>
                  </div><a id="CCAPP9289"></a><div class="props_rev_3"><a id="GUID-2F97BA75-A0C4-48D1-BC73-C83921581E1D" name="GUID-2F97BA75-A0C4-48D1-BC73-C83921581E1D"></a><h5 id="CCAPP-GUID-2F97BA75-A0C4-48D1-BC73-C83921581E1D" class="sect5"><span class="enumeration_section">11.1.1.4</span>使用WITHIN运算符搜索节</h5>
                     <div>
                        <p>对文档编制索引后，可以使用<code class="codeph">WITHIN</code>运算符在节中查询。例如，要在其标题中查找包含单词<span class="italic">Oracle的</span>所有文档，请输入以下查询：</p><pre class="oac_no_warn" dir="ltr">'Oracle WITHIN标题'</pre><div class="infoboxnotealso" id="GUID-2F97BA75-A0C4-48D1-BC73-C83921581E1D__GUID-15ECB815-5B18-45BA-A47A-724A4F125E8A">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="../ccref/oracle-text-CONTAINS-query-operators.html#CCREF0330" target="_blank"><span class="italic">Oracle Text Reference</span></a>了解有关使用<code class="codeph">WITHIN</code>运算符的更多信息</p>
                        </div>
                     </div>
                  </div><a id="CCAPP9290"></a><div class="props_rev_3"><a id="GUID-1A6CB754-E899-48B6-B042-01ACDEB78335" name="GUID-1A6CB754-E899-48B6-B042-01ACDEB78335"></a><h5 id="CCAPP-GUID-1A6CB754-E899-48B6-B042-01ACDEB78335" class="sect5"><span class="enumeration_section">11.1.1.5</span>搜索与INPATH和HASPATH运营商路径</h5>
                     <div>
                        <p>使用<code class="codeph">PATH_SECTION_GROUP,</code>系统会自动创建XML部分。除了使用<code class="codeph">WITHIN</code>运算符输入查询外，还可以使用<code class="codeph">INPATH</code>和<code class="codeph">HASPATH</code>运算符输入路径查询。
                        </p>
                        <div class="infoboxnotealso" id="GUID-1A6CB754-E899-48B6-B042-01ACDEB78335__GUID-A0871D71-8EBE-4939-87B9-8F2FF5C5DA9C">
                           <p class="notep1">也可以看看：</p>
                           <p></p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="q">“ <a href="searching-document-sections-in-oracle-text.html#GUID-8D535B14-B377-4766-A062-1DA912438E23">使用Oracle Text搜索XML部分</a> ”</span>以了解有关使用这些运算符的更多信息</p>
                              </li>
                              <li>
                                 <p><a href="../ccref/oracle-text-CONTAINS-query-operators.html#CCREF-GUID-F78EC75C-55C8-4C79-A744-AE0DB2E1F581" target="_blank"><span class="italic">Oracle Text Reference</span></a>了解有关使用<code class="codeph">INPATH</code>运算符的更多信息</p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-7D3BD659-7C9D-44EF-9DA8-F047017BC165" name="GUID-7D3BD659-7C9D-44EF-9DA8-F047017BC165"></a><h5 id="CCAPP-GUID-7D3BD659-7C9D-44EF-9DA8-F047017BC165" class="sect5"><span class="enumeration_section">11.1.1.6</span>将SDATA部分标记为可搜索</h5>
                     <div>
                        <div class="section">要将<code class="codeph">SDATA</code>部分标记为可搜索并创建<code class="codeph">$S <span class="codeinlineitalic">datatype</span></code>表，请使用<code class="codeph">CTX_DDL.SET_SECTION_ATTRIBUTE</code> API。<p>创建以下表格：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">$SN</code> - <code class="codeph">NUMBER</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">$SD</code> - <code class="codeph">DATE</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">$SV</code> - <code class="codeph">VARCHAR2</code> ， <code class="codeph">CHAR</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">$SR</code> - <code class="codeph">RAW</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">$SBD</code> - <code class="codeph">BINARY DOUBLE</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">$SBF</code> - <code class="codeph">BINARY FLOAT</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">$ST</code> - <code class="codeph">TIMESTAMP</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">$STZ</code> - <code class="codeph">TIMESTAMP WITH TIMEZONE</code></p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                        <div class="section">以下示例为此<code class="codeph">SDATA</code>部分创建<code class="codeph">$SV</code>表，以允许在该部分上进行有效搜索。<pre class="pre codeblock"><code>ctx_ddl.add_sdata_section（'sec_grp'，'sdata_sec'，'mytag'，'varchar'）; ctx_ddl.set_section_attribute（'sec_grp'，'sdata_sec'，'optimized_for'，'search'）;</code></pre><p>此属性的默认值为<code class="codeph">FALSE.</code></p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div><a id="CCAPP9515"></a><a id="CCAPP9291"></a><div class="props_rev_3"><a id="GUID-53221B04-7597-46BC-AF34-3B16BE898D7A" name="GUID-53221B04-7597-46BC-AF34-3B16BE898D7A"></a><h4 id="CCAPP-GUID-53221B04-7597-46BC-AF34-3B16BE898D7A" class="sect4"><span class="enumeration_section">11.1.2</span> Oracle文本节类型</h4>
                  <div>
                     <p>所有节类型都是文档中的文本块。但是，部分的分隔方式和它们在索引中的记录方式可能有所不同。部分可以是以下类型之一：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="searching-document-sections-in-oracle-text.html#GUID-9BEFC13A-B5A6-42B7-B5AF-EDDE5345C12E">区域部分</a></p>
                        </li>
                        <li>
                           <p><a href="searching-document-sections-in-oracle-text.html#GUID-426E9F80-530D-42B7-9C52-550EFCEDC720">野外科</a></p>
                        </li>
                        <li>
                           <p><a href="searching-document-sections-in-oracle-text.html#GUID-4F6F335C-CDC5-4B08-84F4-2439DD908DA0">停止部分</a></p>
                        </li>
                        <li>
                           <p><a href="searching-document-sections-in-oracle-text.html#GUID-58DBD861-FD45-4FE4-8862-7EA360BD9F71">MDATA部分</a></p>
                        </li>
                        <li>
                           <p><a href="searching-document-sections-in-oracle-text.html#GUID-22EEA9FE-6051-4314-92B2-9C67CE0D167D">NDATA部分</a></p>
                        </li>
                        <li>
                           <p><a href="searching-document-sections-in-oracle-text.html#GUID-F71A270E-4AFB-4B2C-B374-538566E5C403">SDATA部分</a></p>
                        </li>
                        <li>
                           <p><a href="searching-document-sections-in-oracle-text.html#GUID-CD1BE817-6122-4EF7-A664-DEB7667C4B5F">属性部分</a> （用于XML文档）</p>
                        </li>
                        <li>
                           <p><a href="searching-document-sections-in-oracle-text.html#GUID-2F7732AB-2AE4-496F-BC0A-37FAF21FC043">特节</a> （句子或段落）</p>
                        </li>
                     </ul>
                     <p><a href="searching-document-sections-in-oracle-text.html#GUID-53221B04-7597-46BC-AF34-3B16BE898D7A__CACCGFDE" title="部分类型和部分组">表11-2</a> <a id="d28756e1130" class="indexterm-anchor"></a><a id="d28756e1134" class="indexterm-anchor"></a><a id="d28756e1138" class="indexterm-anchor"></a>显示哪种部分类型可以与每种部分组一起使用。
                     </p>
                     <div class="tblformalwide" id="GUID-53221B04-7597-46BC-AF34-3B16BE898D7A__CACCGFDE">
                        <p class="titleintable">表11-2节类型和节组</p>
                        <table cellpadding="4" cellspacing="0" class="FormalWide" title="部分类型和部分组" width="100%" border="1" summary="Section Types and Section Groups" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="16%" id="d28756e1160">科组</th>
                                 <th align="left" valign="bottom" width="8%" id="d28756e1163">区</th>
                                 <th align="left" valign="bottom" width="9%" id="d28756e1166">领域</th>
                                 <th align="left" valign="bottom" width="9%" id="d28756e1169">停</th>
                                 <th align="left" valign="bottom" width="11%" id="d28756e1172">MDATA</th>
                                 <th align="left" valign="bottom" width="10%" id="d28756e1175">NDATA</th>
                                 <th align="left" valign="bottom" width="10%" id="d28756e1178">SDATA</th>
                                 <th align="left" valign="bottom" width="15%" id="d28756e1181">属性</th>
                                 <th align="left" valign="bottom" width="12%" id="d28756e1184">特别</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="16%" id="d28756e1189" headers="d28756e1160 ">
                                    <p>空值</p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d28756e1189 d28756e1163 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d28756e1189 d28756e1166 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d28756e1189 d28756e1169 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d28756e1189 d28756e1172 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d28756e1189 d28756e1175 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d28756e1189 d28756e1178 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d28756e1189 d28756e1181 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d28756e1189 d28756e1184 ">
                                    <p>是</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="16%" id="d28756e1217" headers="d28756e1160 ">
                                    <p>BASIC</p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d28756e1217 d28756e1163 ">
                                    <p>是</p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d28756e1217 d28756e1166 ">
                                    <p>是</p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d28756e1217 d28756e1169 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d28756e1217 d28756e1172 ">
                                    <p>是</p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d28756e1217 d28756e1175 ">
                                    <p>是</p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d28756e1217 d28756e1178 ">
                                    <p>是</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d28756e1217 d28756e1181 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d28756e1217 d28756e1184 ">
                                    <p>是</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="16%" id="d28756e1245" headers="d28756e1160 ">
                                    <p>HTML</p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d28756e1245 d28756e1163 ">
                                    <p>是</p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d28756e1245 d28756e1166 ">
                                    <p>是</p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d28756e1245 d28756e1169 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d28756e1245 d28756e1172 ">
                                    <p>是</p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d28756e1245 d28756e1175 ">
                                    <p>是</p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d28756e1245 d28756e1178 ">
                                    <p>是</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d28756e1245 d28756e1181 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d28756e1245 d28756e1184 ">
                                    <p>是</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="16%" id="d28756e1273" headers="d28756e1160 ">
                                    <p>XML</p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d28756e1273 d28756e1163 ">
                                    <p>是</p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d28756e1273 d28756e1166 ">
                                    <p>是</p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d28756e1273 d28756e1169 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d28756e1273 d28756e1172 ">
                                    <p>是</p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d28756e1273 d28756e1175 ">
                                    <p>是</p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d28756e1273 d28756e1178 ">
                                    <p>是</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d28756e1273 d28756e1181 ">
                                    <p>是</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d28756e1273 d28756e1184 ">
                                    <p>是</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="16%" id="d28756e1301" headers="d28756e1160 ">
                                    <p>新闻</p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d28756e1301 d28756e1163 ">
                                    <p>是</p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d28756e1301 d28756e1166 ">
                                    <p>是</p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d28756e1301 d28756e1169 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d28756e1301 d28756e1172 ">
                                    <p>是</p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d28756e1301 d28756e1175 ">
                                    <p>是</p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d28756e1301 d28756e1178 ">
                                    <p>是</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d28756e1301 d28756e1181 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d28756e1301 d28756e1184 ">
                                    <p>是</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="16%" id="d28756e1329" headers="d28756e1160 ">
                                    <p>汽车</p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d28756e1329 d28756e1163 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d28756e1329 d28756e1166 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d28756e1329 d28756e1169 ">
                                    <p>是</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d28756e1329 d28756e1172 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d28756e1329 d28756e1175 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d28756e1329 d28756e1178 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d28756e1329 d28756e1181 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d28756e1329 d28756e1184 ">
                                    <p>没有</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="16%" id="d28756e1357" headers="d28756e1160 ">
                                    <p>路径</p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d28756e1357 d28756e1163 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d28756e1357 d28756e1166 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d28756e1357 d28756e1169 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d28756e1357 d28756e1172 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d28756e1357 d28756e1175 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d28756e1357 d28756e1178 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d28756e1357 d28756e1181 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d28756e1357 d28756e1184 ">
                                    <p>没有</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div><a id="CCAPP9688"></a><a id="CCAPP9689"></a><a id="CCAPP9690"></a><a id="CCAPP9292"></a><div class="props_rev_3"><a id="GUID-9BEFC13A-B5A6-42B7-B5AF-EDDE5345C12E" name="GUID-9BEFC13A-B5A6-42B7-B5AF-EDDE5345C12E"></a><h5 id="CCAPP-GUID-9BEFC13A-B5A6-42B7-B5AF-EDDE5345C12E" class="sect5"><span class="enumeration_section">11.1.2.1</span>区域部分</h5>
                     <div>
                        <p>区域部分是由文档中的开始和结束标记分隔的文本正文。开始和结束标记的位置记录在索引中，以便标记之间的任何单词都被认为是在该部分内。区域部分的任何实例都必须具有开始和结束标记。</p>
                        <p>例如，将<code class="codeph">&lt;TITLE&gt;</code>和<code class="codeph">&lt;/TITLE&gt;</code>标记之间的文本定义为区域部分，如下所示：</p><pre class="oac_no_warn" dir="ltr">&lt;TITLE&gt;两个城市的故事&lt;/ TITLE&gt;这是最好的时光......
</pre><p>区域部分可以在文档中嵌套，重叠和重复。</p>
                        <p>查询区域部分时，使用<code class="codeph">WITHIN</code>运算符在所有部分中搜索术语。Oracle Text返回在定义的部分中包含该术语的那些文档。
                        </p>
                        <p>区域部分非常适合定义HTML和XML文档中的部分。要定义区域部分，请使用<code class="codeph">CTX_DDL</code> 。 <code class="codeph">ADD_ZONE_SECTION.</code></p>
                        <p>例如，假设您定义了<code class="codeph">booktitle</code>部分，如下所示：</p><pre class="oac_no_warn" dir="ltr">开始ctx_ddl.create_section_group（'htmgroup'，'HTML_SECTION_GROUP'）; ctx_ddl.add_zone_section（'htmgroup'，'booktitle'，'TITLE'）;结束;</pre><p>索引后，您可以在<code class="codeph">booktitle</code>部分中搜索包含“ <span class="italic">城市</span> ”一词的所有文档，如下所示：</p><pre class="oac_no_warn" dir="ltr">“有书签的城市”</pre><p>使用多个查询术语（例如<span class="italic">（dog和cat）WITHIN booktitle），</span> Oracle Text会在<code class="codeph">booktitle</code>部分的同一实例中返回包含<span class="italic">cat</span>和<span class="italic">dog的</span>文档。
                        </p>
                        <div class="section">
                           <p class="subhead3" id="GUID-9BEFC13A-B5A6-42B7-B5AF-EDDE5345C12E__GUID-B564CCB7-32DC-4943-8170-9A5463185000">重复区域部分</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>区域部分可以重复。每次出现都被视为一个单独的部分。例如，如果<code class="codeph">&lt;H1&gt;</code>表示<code class="codeph">heading</code>部分，则可以在相同的文档中重复标题，如下所示：</p><pre class="oac_no_warn" dir="ltr">&lt;H1&gt;布朗福克斯&lt;/ H1&gt; &lt;H1&gt;灰狼&lt;/ H1&gt;</pre><p>假设这些区域部分名为<code class="codeph">Heading,</code> <span class="italic">Brown ININ Heading</span>的查询将返回此文档。但是， <span class="italic">（褐色和灰色）WITHIN标题</span>的查询不会。
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-9BEFC13A-B5A6-42B7-B5AF-EDDE5345C12E__GUID-40B12380-F994-4F48-A51B-A6B9AE4AAE9F">重叠区域部分</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>区域部分可以相互重叠。例如，如果<code class="codeph">&lt;B&gt;</code>和<code class="codeph">&lt;I&gt;</code>表示两个不同的区域部分，它们可以在文档中重叠，如下所示：</p><pre class="oac_no_warn" dir="ltr">plain &lt;B&gt;粗体&lt;I&gt;粗体和斜体&lt;/ B&gt;仅斜体&lt;/ I&gt;简单</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-9BEFC13A-B5A6-42B7-B5AF-EDDE5345C12E__GUID-6133CD0C-CA68-44DD-8F9B-B7394D06060D">嵌套区域部分</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>区域部分可以嵌套，如下所示：</p><pre class="oac_no_warn" dir="ltr">&lt;TD&gt; &lt;TABLE&gt; &lt;TD&gt;嵌套单元&lt;/ TD&gt; &lt;/ TABLE&gt; &lt;/ TD&gt;</pre><p>使用<code class="codeph">WITHIN</code>运算符，您可以编写查询以在节中的节中搜索文本。例如，假设<code class="codeph">BOOK1, BOOK2,</code>和<code class="codeph">AUTHOR</code>区域部分在doc1和doc2文档中如下所示：</p>
                           <p>DOC1：</p><pre class="oac_no_warn" dir="ltr">&lt;book1&gt; &lt;author&gt; Scott Tiger &lt;/ author&gt;这是一本很酷的书。&lt;/ book1&gt;</pre><p>DOC2：</p><pre class="oac_no_warn" dir="ltr">&lt;book2&gt; &lt;author&gt; Scott Tiger &lt;/ author&gt;这是一本很棒的书。&lt;/ book2&gt;</pre><p>考虑嵌套查询。它只返回doc1。</p><pre class="oac_no_warn" dir="ltr">'（作者中的斯科特）在book1'中</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="CCAPP9296"></a><div class="props_rev_3"><a id="GUID-426E9F80-530D-42B7-9C52-550EFCEDC720" name="GUID-426E9F80-530D-42B7-9C52-550EFCEDC720"></a><h5 id="CCAPP-GUID-426E9F80-530D-42B7-9C52-550EFCEDC720" class="sect5"><span class="enumeration_section">11.1.2.2</span>现场部分</h5>
                     <div>
                        <p>字段部分类似于区域部分，因为它是由开始和结束标记分隔的文本区域。字段部分从区域部分更有效，并且与区域部分不同，因为区域与文档的其余部分分开索引。您可以创建无限数量的字段部分。</p>
                        <p>由于字段部分的索引方式不同，因此在索引大量文档时，您还可以在区域部分获得更好的查询性能。</p>
                        <p>字段部分更适合于文档中单个部分的出现，例如新闻标题中的字段。字段部分也可以对文档的其余部分可见。</p>
                        <p>与区域部分不同，字段部分具有以下限制：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>它们不能重叠。</p>
                           </li>
                           <li>
                              <p>他们无法重复。</p>
                           </li>
                           <li>
                              <p>他们无法筑巢。</p>
                           </li>
                        </ul>
                        <div class="section">
                           <p class="subhead3" id="GUID-426E9F80-530D-42B7-9C52-550EFCEDC720__GUID-02402D8C-4645-4A45-A312-FAC19590F3A6">可见和不可见的现场部分</p>
                           <p>默认情况下，字段部分被索引为与文档其余部分分开的子文档。因此，字段部分对于周围文本是不可见的，只能通过显式命名<code class="codeph">WITHIN</code>子句中的部分来查询。
                           </p>
                           <p>如果希望将字段部分中的文本编入索引作为封闭文档的一部分，则可以使字段部分可见。您可以使用或不使用<code class="codeph">WITHIN</code>运算符查询可见字段部分中的文本。
                           </p>
                           <p>以下示例显示使用不可见和可见字段部分的差异。该代码定义<code class="codeph">BASIC_SECTION_GROUP</code>类型的<code class="codeph">basicgroup</code>组节组。然后，它在<code class="codeph">basicgroup</code>创建一个名为<code class="codeph">Author</code>的<code class="codeph">&lt;A&gt;</code>标记的字段。它还将可见标志设置为<code class="codeph">FALSE</code>以创建不可见的部分。
                           </p><pre class="oac_no_warn" dir="ltr">开始ctx_ddl.create_section_group（'basicgroup'，'BASIC_SECTION_GROUP'）; ctx_ddl.add_field_section（'basicgroup'，'Author'，'A'，FALSE）;结束;</pre><p>由于“ <code class="codeph">Author</code>字段部分不可见，因此要在“ <code class="codeph">Author</code>部分中查找文本，必须使用<code class="codeph">WITHIN</code>运算符。
                           </p><pre class="oac_no_warn" dir="ltr">'（马丁路德金）在作者'</pre><p>没有<code class="codeph">WITHIN</code>运算符的<span class="italic">Martin Luther King的</span>查询不会在字段中返回此术语的实例。如果要在不指定<code class="codeph">WITHIN,</code>情况下查询字段部分中的文本<code class="codeph">WITHIN,</code>必须在创建部分时将visible标记设置为<code class="codeph">TRUE</code> ，如下所示：</p><pre class="oac_no_warn" dir="ltr">开始ctx_ddl.add_field_section（'basicgroup'，'作者'，'A'，TRUE）;结束;</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-426E9F80-530D-42B7-9C52-550EFCEDC720__GUID-20A3E460-9B15-444F-9C36-60F9AF2A042C">嵌套字段</p>
                           <p>您不能嵌套字段部分。例如，如果您将字段部分定义为以<code class="codeph">&lt;TITLE&gt;</code>开头并将另一个字段部分定义为以<code class="codeph">&lt;FOO&gt;,</code>开头<code class="codeph">&lt;FOO&gt;,</code> <span class="italic">则无法</span>按如下方式嵌套这两个部分：</p><pre class="oac_no_warn" dir="ltr">&lt;TITLE&gt; dog &lt;FOO&gt; cat &lt;/ FOO&gt; &lt;/ TITLE&gt;</pre><p>要使用嵌套节，请将它们定义为区域节。</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-426E9F80-530D-42B7-9C52-550EFCEDC720__GUID-B5B2DB9A-F68F-4000-8D41-6953B954538C">重复的场部分</p>
                           <p>允许重复的字段部分，但<code class="codeph">WITHIN</code>查询将它们视为单个部分。以下是文档中重复字段的示例：</p><pre class="oac_no_warn" dir="ltr">&lt;TITLE&gt; cat &lt;/ TITLE&gt; &lt;TITLE&gt; dog &lt;/ TITLE&gt;</pre><p><span class="italic">标题中</span>的查询<span class="italic">dog和cat</span>返回文档，即使这些单词出现在不同的部分中。
                           </p>
                           <p>要让<code class="codeph">WITHIN</code>查询区分重复的部分，请将它们定义为区域部分。
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="CCAPP9300"></a><div class="props_rev_3"><a id="GUID-4F6F335C-CDC5-4B08-84F4-2439DD908DA0" name="GUID-4F6F335C-CDC5-4B08-84F4-2439DD908DA0"></a><h5 id="CCAPP-GUID-4F6F335C-CDC5-4B08-84F4-2439DD908DA0" class="sect5"><span class="enumeration_section">11.1.2.3</span>停止部分</h5>
                     <div>
                        <p>将停止节添加到自动节组时，自动节索引操作会忽略XML文档中的指定节。</p>
                        <div class="infoboxnote" id="GUID-4F6F335C-CDC5-4B08-84F4-2439DD908DA0__GUID-ECB85666-5497-4F7A-B93B-AF63D292D784">
                           <p class="notep1">注意：</p>
                           <p>添加停止部分不会导致在索引中创建部分信息。但是，停止部分中的文本始终是可搜索的。</p>
                        </div>
                        <p>当您的文档包含许多低信息标记时，添加停止部分非常有用。添加停止部分还可以提高自动部分组的索引性能。</p>
                        <p>您可以添加无限数量的停止部分。</p>
                        <p>停止部分没有部分名称，也没有记录在部分视图中。</p>
                     </div>
                  </div><a id="CCAPP9301"></a><div class="props_rev_3"><a id="GUID-58DBD861-FD45-4FE4-8862-7EA360BD9F71" name="GUID-58DBD861-FD45-4FE4-8862-7EA360BD9F71"></a><h5 id="CCAPP-GUID-58DBD861-FD45-4FE4-8862-7EA360BD9F71" class="sect5"><span class="enumeration_section">11.1.2.4</span> MDATA部分</h5>
                     <div>
                        <p>您可以使用<code class="codeph">MDATA</code>部分来引用文档的用户定义元数据。<code class="codeph">MDATA</code>部分可以加速混合查询，并且对查询中可以返回的<code class="codeph">MDATA</code>部分的数量没有限制。
                        </p>
                        <p>考虑您要根据文本内容和文档类型（杂志，报纸或小说）进行查询的情况。您可以使用文本列和文档类型列创建索引，然后对此表单执行混合查询。在这种情况下，使用短语<span class="italic">Adam Thorpe</span> （小说<span class="italic">Ulverton的</span>作者）搜索所有小说：</p><pre class="oac_no_warn" dir="ltr">SELECT id FROM documents WHERE doctype ='novel'AND CONTAINS（text，'Adam Thorpe'）&gt; 0;</pre><p>但是，在字段部分中合并属性（在本例中为文档类型）通常会更快，而不是使用单独的列，然后使用单个<code class="codeph">CONTAINS</code>查询。
                        </p><pre class="oac_no_warn" dir="ltr">SELECT id FROM documents WHERE CONTAINS（text，'Adam Thorpe AND novel WITHIN doctype'）&gt; 0;</pre><p>这种方法有两个缺点：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>每次更新属性时，都必须重新索引整个文本文档，从而导致索引碎片增加，数据操作语言（DML）处理速率降低。</p>
                           </li>
                           <li>
                              <p>字段部分标记部分值。标记化有几种效果。元数据中的特殊字符（如小数点或货币字符）不易搜索;价值搜索（寻找<span class="italic">约翰史密斯</span>而不是<span class="italic">约翰史密斯，Jr。</span> ）是困难的;通过短语查询多字值，这比单标记搜索慢;并且多行值不会显示在浏览的单词中，从而无法进行作者浏览或主题浏览。
                              </p>
                           </li>
                        </ul>
                        <p>出于这些原因，使用<code class="codeph">MDATA</code>部分而不是字段部分可能是值得的。<code class="codeph">MDATA</code>部分的索引类似于字段部分，但您可以在文档中添加和删除元数据值，而无需重新索引文档文本。与字段部分不同， <code class="codeph">MDATA</code>值不是标记化的。此外， <code class="codeph">MDATA</code>部分索引通常比字段部分索引占用更少的磁盘空间。
                        </p>
                        <p>从Oracle Database 12 <span class="italic">c</span>第2版（12.2）开始， <code class="codeph">MDATA</code>部分可以是可更新的或不可更新的，具体取决于其只读标记的值，可以设置为<code class="codeph">FALSE</code>或<code class="codeph">TRUE</code> 。</p>
                        <p>使用<code class="codeph">CTX_DDL.ADD_MDATA_SECTION</code>将<code class="codeph">MDATA</code>部分添加到部分组。默认情况下，只读<code class="codeph">MDATA</code>部分的值为<code class="codeph">FALSE.</code>这意味着您要允许为此<code class="codeph">MDATA</code>部分调用<code class="codeph">CTX_DDL.ADD_MDATA()</code>和<code class="codeph">CTX_DDL.REMOVE_MDATA()</code> ，否则可以将其设置为<code class="codeph">TRUE.</code>设置为<code class="codeph">FALSE,</code> <code class="codeph">MDATA</code>部分上的查询运行效率较低，因为必须在索引表上打开游标以跟踪该<code class="codeph">MDATA</code>部分的已删除值。这个例子添加了一个名为<code class="codeph">AUTHOR</code>的<code class="codeph">MDATA</code>部分，并为其赋予值<span class="italic">Soseki Natsume</span> （小说<span class="italic">Kokoro的</span>作者）。
                        </p><pre class="oac_no_warn" dir="ltr">ctx_ddl.create.section.group（'htmgroup'，'HTML_SECTION_GROUP'）; ctx_ddl.add_mdata_section（'htmgroup'，'author'，'Soseki Natsume'）;</pre><p>您可以使用<code class="codeph">CTX_DDL.ADD_MDATA,</code>更改<code class="codeph">MDATA</code>值<code class="codeph">CTX_DDL.ADD_MDATA,</code>并可以使用<code class="codeph">CTX_DDL.REMOVE_MDATA.</code>删除它们<code class="codeph">CTX_DDL.REMOVE_MDATA.</code>此外， <code class="codeph">MDATA</code>部分可以具有多个值。只有索引的所有者可以调用<code class="codeph">CTX_DDL.ADD_MDATA</code>和<code class="codeph">CTX_DDL.REMOVE_MDATA.</code></p>
                        <p>无论<code class="codeph">CTX_DDL.ADD_MDATA</code>也不<code class="codeph">CTX_DDL.REMOVE_MDATA</code>是支持<code class="codeph">CTXCAT</code>和<code class="codeph">CTXRULE</code>指标。
                        </p>
                        <p><code class="codeph">MDATA</code>值不通过词法分析器传递。相反，所有值都经过以下简化的规范化：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>删除值的前导和尾随空格。</p>
                           </li>
                           <li>
                              <p>该值被截断为255个字节。</p>
                           </li>
                           <li>
                              <p>该值被索引为单个值;如果值由多个单词组成，则不会被分解。</p>
                           </li>
                           <li>
                              <p>案件得以保留。如果文档是动态生成的，则可以通过大写<code class="codeph">MDATA</code>值并确保仅以大写形式搜索来实现不区分大小写。
                              </p>
                           </li>
                        </ul>
                        <p>将<code class="codeph">MDATA</code>元数据添加到文档后，可以使用<code class="codeph">CONTAINS</code>查询运算符查询该元数据：</p><pre class="oac_no_warn" dir="ltr">SELECT id FROM documents WHERE CONTAINS（text，'Tokyo and MDATA（author，Soseki Natsume）'）&gt; 0;</pre><p>仅当<code class="codeph">AUTHOR</code>标记具有确切值<span class="italic">Soseki Natsume</span> （在简化标记化之后）时，此查询才会成功。<span class="italic">Soseki</span>或<span class="italic">Natsume Soseki</span>没有返回任何行。
                        </p>
                        <p>以下是<code class="codeph">MDATA</code>注意事项：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">MDATA</code>值不可突出显示，不会出现在<code class="codeph">CTX_DOC.TOKENS,</code>的输出中<code class="codeph">CTX_DOC.TOKENS,</code>并且在启用<code class="codeph">FILTER PLAINTEXT.</code> <code class="codeph">CTX_DOC.TOKENS,</code>时不会出现<code class="codeph">FILTER PLAINTEXT.</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">MDATA</code>部分在部分组中必须是唯一的。例如，不要将<code class="codeph">FOO</code>用作<code class="codeph">MDATA</code>部分的名称以及同一部分组中的区域或字段部分。
                              </p>
                           </li>
                           <li>
                              <p>与字段部分一样， <code class="codeph">MDATA</code>部分不能重叠或嵌套。 <code class="codeph">MDATA</code>部分由遇到的第一个标记隐式关闭。在这个例子中：</p><pre class="oac_no_warn" dir="ltr">&lt;作者&gt;狄更斯&lt;B&gt;雪莱&lt;/ B&gt;济慈&lt;/ AUTHOR&gt;</pre><p><code class="codeph">&lt;B&gt;</code>标签关闭<code class="codeph">AUTHOR</code> <code class="codeph">MDATA</code>部分;因此，本文件的<code class="codeph">AUTHOR</code>是“狄更斯”，但不是“雪莱”或“济慈”。
                              </p>
                           </li>
                           <li>
                              <p>为了防止竞争条件，每次调用<code class="codeph">ADD_MDATA</code>和<code class="codeph">REMOVE_MDATA</code>锁定该rowid对所有值和节的索引的其他调用。但是，由于<code class="codeph">ADD_MDATA</code>和<code class="codeph">REMOVE_MDATA</code>不提交，因此应用程序在调用它们时可能会出现死锁。应用程序有责任防止死锁。
                              </p>
                           </li>
                        </ul>
                        <div class="infoboxnotealso" id="GUID-58DBD861-FD45-4FE4-8862-7EA360BD9F71__GUID-8D6385E8-3361-4D68-ACB0-C9C0475EF504">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><a href="../ccref/changes-in-this-release.html#CCREF-GUID-000FA75C-978F-40D3-A2FA-DA5C241C65A3" target="_blank"><span class="italic">Oracle Text Reference中的</span></a> <code class="codeph"><span class="q">"ALTER INDEX"</span></code></p>
                              </li>
                              <li>
                                 <p><a href="../ccref/changes-in-this-release.html#CCREF-GUID-000FA75C-978F-40D3-A2FA-DA5C241C65A3" target="_blank"><span class="italic">Oracle Text Reference中的</span></a> <code class="codeph"><span class="q">"ADD_MDATA_SECTION"</span></code> 
                                 </p>
                              </li>
                              <li>
                                 <p>有关<code class="codeph">MDATA</code>运算符的信息，请参阅<a href="../ccref/oracle-text-CONTAINS-query-operators.html#CCREF0300" target="_blank"><span class="italic">Oracle Text Reference</span></a>的<code class="codeph"><span class="q">"CONTAINS"</span></code>查询运算符章节</p>
                              </li>
                              <li>
                                 <p>有关添加和删除<code class="codeph">MDATA</code>部分的信息，请参阅<a href="../ccref/CTX_DDL-package.html#CCREF0600" target="_blank"><span class="italic">Oracle Text Reference</span></a>的<code class="codeph"><span class="q">"CTX_DDL"</span></code>包一章</p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div><a id="CCAPP9555"></a><div class="props_rev_3"><a id="GUID-22EEA9FE-6051-4314-92B2-9C67CE0D167D" name="GUID-22EEA9FE-6051-4314-92B2-9C67CE0D167D"></a><h5 id="CCAPP-GUID-22EEA9FE-6051-4314-92B2-9C67CE0D167D" class="sect5"><span class="enumeration_section">11.1.2.5</span> NDATA部分</h5>
                     <div>
                        <p>对于包含要为名称搜索建立索引的数据的字段，可以通过将<code class="codeph">NDATA</code>节添加到类型为<code class="codeph">BASIC_SECTION_GROUP,</code> <code class="codeph">HTML_SECTION_GROUP,</code>或<code class="codeph">XML_SECTION_GROUP.</code>节组中来专门指定它们<code class="codeph">XML_SECTION_GROUP.</code></p>
                        <p>用户可以使用两个可能的数据存储区合成包含名称数据的文本文档： <code class="codeph">MULTI_COLUMN_DATASTORE</code>或<code class="codeph">USER_DATASTORE.</code>以下示例使用<code class="codeph">MULTI_COLUMN_DATASTORE</code>来获取包含用于索引的名称数据的相关列：</p><pre class="oac_no_warn" dir="ltr">create table people（firstname varchar2（80），surname varchar2（80））;插入人的价值观（'约翰'，'史密斯'）;承诺;开始ctx_ddl.create_preference（'nameds'，'MULTI_COLUMN_DATASTORE'）; ctx_ddl.set_attribute（'nameds'，'columns'，'firstname，surname'）;结束; /</pre><p>此示例生成以下用于索引的虚拟文本：</p><pre class="oac_no_warn" dir="ltr">&lt;FIRSTNAME&gt; John &lt;/ FIRSTNAME&gt; &lt;SURNAME&gt; Smith &lt;/ SURNAME&gt;</pre><p>然后，您可以为<code class="codeph">FIRSTNAME</code>和<code class="codeph">SURNAME</code>部分创建<code class="codeph">NDATA</code>部分：</p><pre class="oac_no_warn" dir="ltr">begin ctx_ddl.create_section_group（'namegroup'，'BASIC_SECTION_GROUP'）; ctx_ddl.add_ndata_section（'namegroup'，'FIRSTNAME'，'FIRSTNAME'）; ctx_ddl.add_ndata_section（'namegroup'，'SURNAME'，'SURNAME'）;结束; /</pre><p>接下来，使用先前创建的数据存储区首选项和节组首选项创建索引：</p><pre class="oac_no_warn" dir="ltr">在人员（名字）上创建索引peopleidx indextype是ctxsys.context参数（'section group namegroup datastore nameds'）;</pre><p><code class="codeph">NDATA</code>部分支持基于字符和术语的限制的单字节和多字节数据。索引的<code class="codeph">NDATA</code>部分数据约束如下：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>单个以空格分隔的术语中的字符数：511</p>
                           </li>
                           <li>
                              <p>以空格分隔的术语数：255</p>
                           </li>
                           <li>
                              <p>字符总数，包括空格：511</p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="CCAPP9472"></a><div class="props_rev_3"><a id="GUID-F71A270E-4AFB-4B2C-B374-538566E5C403" name="GUID-F71A270E-4AFB-4B2C-B374-538566E5C403"></a><h5 id="CCAPP-GUID-F71A270E-4AFB-4B2C-B374-538566E5C403" class="sect5"><span class="enumeration_section">11.1.2.6</span> SDATA部分</h5>
                     <div>
                        <p>该<a id="d28756e2510" class="indexterm-anchor"></a><a id="d28756e2512" class="indexterm-anchor"></a><a id="d28756e2514" class="indexterm-anchor"></a><a id="d28756e2518" class="indexterm-anchor"></a><a id="d28756e2522" class="indexterm-anchor"></a><a id="d28756e2526" class="indexterm-anchor"></a><a id="d28756e2528" class="indexterm-anchor"></a><a id="d28756e2532" class="indexterm-anchor"></a><a id="d28756e2536" class="indexterm-anchor"></a><a id="d28756e2540" class="indexterm-anchor"></a> <code class="codeph">SDATA</code>部分的值与其他部分一样从文档文本中提取，但它被索引为结构化数据，也称为<code class="codeph">SDATA.</code> <code class="codeph">SDATA</code>部分支持投影，范围搜索和排序等操作。<code class="codeph">SDATA</code>部分还支持<code class="codeph">SDATA</code>索引段数据（例如嵌入式标记）和详细表或函数调用。您可以在一个SQL语句中执行文本和结构化搜索的各种组合。
                        </p>
                        <p>仅将<code class="codeph">SDATA</code>运算符用作也包含非<code class="codeph">SDATA</code>子<code class="codeph">SDATA</code>的<code class="codeph">AND</code>运算符的后代。<code class="codeph">SDATA</code>运营商旨在用作次要（检查或非驾驶）标准。例如，“查找具有价格&gt; 5的DOG的文档”，而不是“查找评级&gt; 4的文档”。
                        </p>
                        <p>使用<code class="codeph">CTX_DDL.ADD_SDATA_SECTION</code>将<code class="codeph">SDATA</code>部分添加到部分组。使用<code class="codeph">CTX_DDL.UPDATE_SDATA</code>更新现有<code class="codeph">SDATA</code>部分的值。在<code class="codeph">SDATA</code>部分中查询时，必须使用<code class="codeph">CONTAINS</code>运算符。下面的示例创建一个名为<code class="codeph">items,</code>的表<code class="codeph">items,</code>添加一个名为<code class="codeph">my_sec_group,</code>的<code class="codeph">SDATA</code>部分<code class="codeph">my_sec_group,</code>然后在该部分中查询<code class="codeph">SDATA</code> 。
                        </p>
                        <p>创建<code class="codeph">SDATA</code>部分后，可以使用<code class="codeph">CTX_DDL.SET_SECTION_ATTRIBUTE</code>进一步修改<code class="codeph">SDATA</code>部分的属性。</p>
                        <p>创建<code class="codeph">items</code>表：</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE项目（id NUMBER PRIMARY KEY，doc VARCHAR2（4000））; INSERT INTO项目价值（1，'&lt;描述&gt;本田Pilot &lt;/ description&gt; &lt;category&gt;汽车和卡车&lt;/ category&gt; &lt;price&gt; 27000 &lt;/ price&gt;'）; INSERT INTO项目价值（2，'&lt;描述&gt;丰田红杉&lt;/ description&gt; &lt;category&gt;汽车和卡车&lt;/ category&gt; &lt;price&gt; 35000 &lt;/ price&gt;'）; INSERT INTO项目价值（3，'&lt;描述&gt;丰田兰德酷路泽&lt;/ description&gt; &lt;category&gt;汽车和卡车&lt;/ category&gt; &lt;price&gt; 45000 &lt;/ price&gt;'）; INSERT INTO items VALUES（4，'&lt;description&gt; Palm Pilot &lt;/ description&gt; &lt;category&gt; Electronics &lt;/ category&gt; &lt;price&gt; 5 &lt;/ price&gt;'）; INSERT INTO items VALUES（5，'&lt;description&gt; Toyota Land Cruiser Grill &lt;/ description&gt; &lt;category&gt; Parts＆Accessories &lt;/ category&gt; &lt;price&gt; 100 &lt;/ price&gt;'）;承诺;</pre><p>添加<code class="codeph">my_sec_group</code> <code class="codeph">SDATA</code>部分：</p><pre class="oac_no_warn" dir="ltr">BEGIN CTX_DDL.CREATE_SECTION_GROUP（'my_sec_group'，'BASIC_SECTION_GROUP'）; CTX_DDL.ADD_SDATA_SECTION（'my_sec_group'，'category'，'category'，'VARCHAR2'）; CTX_DDL.ADD_SDATA_SECTION（'my_sec_group'，'price'，'price'，'NUMBER'）;结束;</pre><p>创建<code class="codeph">CONTEXT</code>索引：</p><pre class="oac_no_warn" dir="ltr">CREATE INDEX项目$ doc ON项目（doc）INDEXTYPE是CTXSYS.CONTEXT参数（'SECTION GROUP my_sec_group'）;</pre><p>运行查询：</p><pre class="oac_no_warn" dir="ltr">SELECT id，doc FROM FROM WHERE contains（doc，'Toyota AND SDATA（category =''Cars＆Trucks''）AND SDATA（price &lt;= 40000）'）&gt; 0;</pre><p>返回结果：</p><pre class="oac_no_warn" dir="ltr">ID DOC ---- -------------------------------------------- -------------------------- 2 &lt;description&gt; Toyota Sequoia &lt;/ description&gt; &lt;category&gt; Cars＆Trucks &lt;/ category&gt; &lt;price&gt; 35000 &lt;/价格&gt;</pre><p>考虑一个rowid为1的文档。此示例将<code class="codeph">price</code> <code class="codeph">SDATA</code>部分的值更新为新值30000：</p><pre class="oac_no_warn" dir="ltr">BEGIN SELECT ROWID INTO rowid_to_update FROM items WHERE id = 1; CTX_DDL.UPDATE_SDATA（'items $ doc'，'price'，SYS.ANYDATA.CONVERTVARCHAR2（'30000'），rowid_to_update）;结束;</pre><p>执行查询后， <code class="codeph">Honda Pilot</code>的价格从27000变为30000。
                        </p>
                        <div class="infoboxnote" id="GUID-F71A270E-4AFB-4B2C-B374-538566E5C403__GUID-5B810B7C-79CC-4234-94C1-5B8EC2747E83">
                           <p class="notep1">注意：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>您还可以将<code class="codeph">SDATA</code>部分添加到现有索引。使用<code class="codeph">ALTER INDEX PARAMETERS</code>语句的<code class="codeph">ADD SDATA SECTION</code>参数。有关更多信息，请参阅<a href="../ccref/oracle-text-SQL-statements-and-operators.html#CCREF-GUID-47E60252-C731-46A8-B587-AE30C1634F48" target="_blank"><span class="italic">Oracle Text Reference</span></a>的“ALTER INDEX”部分。
                                 </p>
                              </li>
                              <li>
                                 <p>在添加<code class="codeph">SDATA</code>部分之前编制索引的文档不会反映此新首选项。在这种情况下重建索引。
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <div class="infoboxnotealso" id="GUID-F71A270E-4AFB-4B2C-B374-538566E5C403__GUID-BAC8590F-7D24-4D69-BBF7-AAF83041C8D9">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>有关<code class="codeph">SDATA</code>运算符的信息，请参阅<a href="../ccref/oracle-text-CONTAINS-query-operators.html#CCREF0300" target="_blank"><span class="italic">Oracle Text Reference</span></a>的“ <code class="codeph">CONTAINS</code> ”查询部分</p>
                              </li>
                              <li>
                                 <p><a href="../ccref/CTX_DDL-package.html#CCREF0600" target="_blank"><span class="italic">Oracle Text Reference</span></a>的“ <code class="codeph">CTX_DDL</code> ”包部分，了解有关添加和更新<code class="codeph">SDATA</code>部分以及使用<code class="codeph">ADD_SDATA_SECTION</code> ， <code class="codeph">SET_SECTION_ATTRIBUTE</code>和<code class="codeph">UPDATE_SDATA</code>过程更改其属性的<code class="codeph">UPDATE_SDATA</code></p>
                              </li>
                           </ul>
                        </div>
                        <p><span class="bold">存储</span></p>
                        <p>对于<code class="codeph">optimized_for</code>搜索<code class="codeph">SDATA</code>节，请使用<code class="codeph">CTX_DDL.SET_ATTRIBUTE</code>指定<code class="codeph">$S <span class="codeinlineitalic">datatype</span></code>表的存储首选项以及这些表的索引。
                        </p>
                        <p>默认情况下，对于<code class="codeph">$S*</code>表启用大对象（LOB）缓存，对<code class="codeph">$S*</code>索引启用关闭。这些属性仅在<code class="codeph">SDATA</code>部分有效。
                        </p>
                        <p><span class="bold">查询运算符</span></p>
                        <p><code class="codeph">optimized_for search SDATA</code>支持以下查询运算符：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>=</p>
                           </li>
                           <li>
                              <p>&lt;&gt;</p>
                           </li>
                           <li>
                              <p>之间</p>
                           </li>
                           <li>
                              <p>不在之间</p>
                           </li>
                           <li>
                              <p>&lt;=</p>
                           </li>
                           <li>
                              <p>&lt;</p>
                           </li>
                           <li>
                              <p>&gt; =</p>
                           </li>
                           <li>
                              <p>&gt;</p>
                           </li>
                           <li>
                              <p>一片空白</p>
                           </li>
                           <li>
                              <p>不是空的</p>
                           </li>
                           <li>
                              <p>喜欢</p>
                           </li>
                           <li>
                              <p>不喜欢</p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="CCAPP9303"></a><div class="props_rev_3"><a id="GUID-CD1BE817-6122-4EF7-A664-DEB7667C4B5F" name="GUID-CD1BE817-6122-4EF7-A664-DEB7667C4B5F"></a><h5 id="CCAPP-GUID-CD1BE817-6122-4EF7-A664-DEB7667C4B5F" class="sect5"><span class="enumeration_section">11.1.2.7</span>属性部分</h5>
                     <div>
                        <p>您可以定义属性部分以查询XML属性文本。您还可以让系统自动为您定义和索引XML属性。</p>
                        <div class="infoboxnotealso" id="GUID-CD1BE817-6122-4EF7-A664-DEB7667C4B5F__GUID-03D76EEE-3C07-4227-8170-09E200A3AA7D">
                           <p class="notep1">也可以看看：</p>
                           <p><span class="q">“ <a href="searching-document-sections-in-oracle-text.html#GUID-8D535B14-B377-4766-A062-1DA912438E23">使用Oracle Text搜索XML部分</a> ”</span></p>
                        </div>
                     </div>
                  </div><a id="CCAPP9516"></a><a id="CCAPP9304"></a><div class="props_rev_3"><a id="GUID-2F7732AB-2AE4-496F-BC0A-37FAF21FC043" name="GUID-2F7732AB-2AE4-496F-BC0A-37FAF21FC043"></a><h5 id="CCAPP-GUID-2F7732AB-2AE4-496F-BC0A-37FAF21FC043" class="sect5"><span class="enumeration_section">11.1.2.8</span>特节</h5>
                     <div>
                        <p>标签无法识别特殊部分。目前，句子和段落是唯一受支持的特殊部分，它们使您能够搜索句子或段落中的单词组合。</p>
                        <p>句子和段落边界由词法分析器确定。例如， <code class="codeph">BASIC_LEXER</code>识别句子和段落部分边界，如下所示：</p>
                        <div class="tblformal" id="GUID-2F7732AB-2AE4-496F-BC0A-37FAF21FC043__GUID-C2295E0F-20F6-4E54-9C17-994C8979D217">
                           <p class="titleintable">表11-3 BASIC_LEXER的句子和段落部分边界</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="BASIC_LEXER的句子和段落部分边界" width="100%" border="1" summary="This table shows sentence and paragraph section boundaries for BASIC_LEXER." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d28756e2974">特节</th>
                                    <th align="left" valign="bottom" width="69%" id="d28756e2977">边界</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d28756e2982" headers="d28756e2974 ">
                                       <p>句子</p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d28756e2982 d28756e2977 ">
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p>WORD / PUNCT / WHITESPACE</p>
                                          </li>
                                          <li>
                                             <p>WORD / PUNCT / NEWLINE</p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d28756e2994" headers="d28756e2974 ">
                                       <p>段</p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d28756e2994 d28756e2977 ">
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p>WORD / PUNCT / NEWLINE / WHITESPACE</p>
                                          </li>
                                          <li>
                                             <p>WORD / PUNCT / NEWLINE / NEWLINE</p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>如果词法分析器无法识别边界，则不会对句子或段落部分编制索引。</p>
                        <p>要添加特殊部分，请使用<code class="codeph">CTX_DDL</code> 。 <code class="codeph">ADD_SPECIAL_SECTION</code>程序。例如，以下代码允许在HTML文档中的句子内进行搜索：</p><pre class="oac_no_warn" dir="ltr">开始ctx_ddl.create_section_group（'htmgroup'，'HTML_SECTION_GROUP'）; ctx_ddl.add_special_section（'htmgroup'，'SENTENCE'）;结束;</pre><p>要启用区域和句子搜索，请将区域部分添加到组中。以下示例将<code class="codeph">Headline</code>区域部分添加到<code class="codeph">htmgroup</code>部分组：</p><pre class="oac_no_warn" dir="ltr">开始ctx_ddl.create_section_group（'htmgroup'，'HTML_SECTION_GROUP'）; ctx_ddl.add_special_section（'htmgroup'，'SENTENCE'）; ctx_ddl.add_zone_section（'htmgroup'，'标题'，'H1'）;结束;</pre></div>
                  </div>
               </div><a id="CCAPP9557"></a><a id="CCAPP9556"></a><div class="props_rev_3"><a id="GUID-4C591F14-29A8-47CF-AD3B-AD84F919F3A7" name="GUID-4C591F14-29A8-47CF-AD3B-AD84F919F3A7"></a><h4 id="CCAPP-GUID-4C591F14-29A8-47CF-AD3B-AD84F919F3A7" class="sect4"><span class="enumeration_section">11.1.3</span> Oracle文本部分属性</h4>
                  <div>
                     <p>Section属性是标记化类型的Oracle Text部分的设置，例如field，zone，hybrid和<code class="codeph">SDATA.</code>由于在节级别而不是在文档级别或索引级别进行更精细的控制，节属性可以提高查询性能。
                     </p>
                     <p>通过使用section属性，您可以指定：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>Lexer对文档某些部分的偏好。当包含部件名称的文档部分需要与文档的其余部分不同时，首选项对部件名称搜索很有用。您还可以使用词法分析器首选项来处理多语言文档，其中有一个语言映射部分。</p>
                        </li>
                        <li>
                           <p>仅在文档的某些部分上的子字符串索引。此索引有助于减小索引大小。</p>
                        </li>
                        <li>
                           <p>仅在文档的某些部分上添加前缀标记。前缀令牌可提高右截断查询的性能，但也可能导致索引大小快速增长。仅在某些部分指定前缀索引可以为特定部分上的右截断查询提供改进的性能，而不会快速增加索引的大小。</p>
                        </li>
                        <li>
                           <p>对文档的某些部分进行停止列表。</p>
                        </li>
                        <li>
                           <p>一种新的部分类型，它将区域部分的灵活性与字段部分的性能相结合。目前，与现场部分相比，区域部分的性能较差。但是，字段部分不支持嵌套部分搜索。</p>
                        </li>
                     </ul>
                     <p>要设置节属性，请使用<code class="codeph">CTX_DDL.SET_SECTION_ATTRIBUTE</code>过程。
                     </p>
                     <p><a href="searching-document-sections-in-oracle-text.html#GUID-4C591F14-29A8-47CF-AD3B-AD84F919F3A7__CACBGCHA" title="此表显示了可以使用的各种类型的节类型。">表11-4</a> <a id="d28756e3124" class="indexterm-anchor"></a><a id="d28756e3128" class="indexterm-anchor"></a><a id="d28756e3132" class="indexterm-anchor"></a>列出您可以使用的部分属性：</p>
                     <div class="tblformal" id="GUID-4C591F14-29A8-47CF-AD3B-AD84F919F3A7__CACBGCHA">
                        <p class="titleintable">表11-4部分属性</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="部分属性" width="100%" border="1" summary="This table shows the various types of section types you can use." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="36%" id="d28756e3147">部分属性</th>
                                 <th align="left" valign="bottom" width="64%" id="d28756e3150">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="36%" id="d28756e3155" headers="d28756e3147 ">
                                    <p><code class="codeph">可见</code></p>
                                 </td>
                                 <td align="left" valign="top" width="64%" headers="d28756e3155 d28756e3150 ">
                                    <p>对于标记化的所有节类型，使用<code class="codeph">visible</code>属性，区域节类型除外。因此， <code class="codeph">visible</code>属性可用于field，hybrid和<code class="codeph">SDATA</code>节类型。
                                    </p>
                                    <p>指定<code class="codeph">TRUE</code>以使文本在文档中可见。字段部分中的文本被索引为封闭文档的一部分。
                                    </p>
                                    <p>默认值为<code class="codeph">FALSE</code> 。字段部分中的文本与文档的其余部分分开编制索引。
                                    </p>
                                    <p>对于“字段”部分类型，visible属性将覆盖<code class="codeph">CTX_DDL.ADD_FIELD_SECTION</code>过程中指定的值。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="36%" id="d28756e3187" headers="d28756e3147 ">
                                    <p><code class="codeph">词法分析器</code></p>
                                 </td>
                                 <td align="left" valign="top" width="64%" headers="d28756e3187 d28756e3150 ">
                                    <p>对所有标记化的节类型（字段，区域，混合和<code class="codeph">SDATA</code>节）使用<code class="codeph">lexer</code>属性。
                                    </p>
                                    <p>指定词法分析器首选项名称以确定SDATA部分的标记化。默认值为<code class="codeph">NULL,</code>并使用主文档的词法分析器。
                                    </p>
                                    <p>在调用<code class="codeph">set_section_attribute</code>过程时，词法分析器首选项必须有效。如果在现有字段部分引用词法分析器首选项时尝试删除其中一个首选项，则<code class="codeph">drop_preference</code>过程将失败。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="36%" id="d28756e3214" headers="d28756e3147 ">
                                    <p><code class="codeph">词汇表</code></p>
                                 </td>
                                 <td align="left" valign="top" width="64%" headers="d28756e3214 d28756e3150 ">
                                    <p>对所有标记化的节类型（字段，区域，混合和<code class="codeph">SDATA</code>节）使用<code class="codeph">wordlist</code>属性。
                                    </p>
                                    <p>要启用特定于节的索引和子字符串索引，请为节指定wordlist首选项名称。默认值为<code class="codeph">NULL,</code>并使用主文档的词表。
                                    </p>
                                    <p>在调用<code class="codeph">set_section_attribute</code>过程时，wordlist首选项必须有效。如果在现有字段部分引用词表首选项时尝试删除其中一个首选项，则<code class="codeph">drop_preference</code>过程将失败。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="36%" id="d28756e3241" headers="d28756e3147 ">
                                    <p><code class="codeph">终止列表</code></p>
                                 </td>
                                 <td align="left" valign="top" width="64%" headers="d28756e3241 d28756e3150 ">
                                    <p>对所有标记化的节类型（字段，区域，混合和<code class="codeph">SDATA</code>节）使用<code class="codeph">stoplist</code>属性。
                                    </p>
                                    <p>要启用特定于部分的停止列表，请指定停止列表首选项名称。默认值为<code class="codeph">NULL,</code>并使用主文档的停止列表。
                                    </p>
                                    <p>在调用<code class="codeph">set_section_attribute</code>过程时， <code class="codeph">set_section_attribute</code>首选项必须有效。如果在现有字段部分引用停止列表首选项时尝试删除其中一个首选项，则<code class="codeph">drop_preference</code>过程将失败。
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>以下示例启用Field部分的<code class="codeph">visible</code>属性：</p><pre class="oac_no_warn" dir="ltr">开始ctx_ddl.create_section_group（'fieldgroup'，'BASIC_SECTION_GROUP'）; ctx_ddl.add_field_section（'fieldgroup'，'author'，'AUTHOR'）; ctx_ddl.set_section_attribute（'fieldgroup'，'author'，'visible'，'true'）;结束;</pre><div class="infoboxnotealso" id="GUID-4C591F14-29A8-47CF-AD3B-AD84F919F3A7__GUID-D0818B4A-338D-4978-B048-1A576D45DF3F">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="../ccref/oracle-text-CONTAINS-query-operators.html#CCREF0300" target="_blank"><span class="italic">Oracle Text Reference</span></a> ，了解<code class="codeph">CTX_DDL.SET_SECTION_ATTRIBUTE</code>过程的语法。
                        </p>
                     </div>
                  </div>
               </div>
            </div><a id="CCAPP9305"></a><div class="props_rev_3"><a id="GUID-2F7B1652-42FB-4A0A-A37F-652DDCB82182" name="GUID-2F7B1652-42FB-4A0A-A37F-652DDCB82182"></a><h3 id="CCAPP-GUID-2F7B1652-42FB-4A0A-A37F-652DDCB82182" class="sect3"><span class="enumeration_section">11.2</span> HTML部分使用Oracle Text搜索</h3>
               <div>
                  <p>HTML具有标记文本形式的内部结构，您可以使用它进行部分搜索。例如，为<code class="codeph">&lt;H1&gt;</code>标记定义名为<code class="codeph">headings</code>的部分，然后仅在文档集中的这些标记内搜索术语。
                  </p>
                  <p>要进行查询，请使用<code class="codeph">WITHIN</code>运算符。Oracle Text会在<code class="codeph">headings</code>部分中返回包含查询字词的所有文档。例如，如果要查找<code class="codeph">headings,</code>中包含单词<code class="codeph">oracle</code>所有文档<code class="codeph">headings,</code>输入以下查询：</p><pre class="oac_no_warn" dir="ltr">'标题中的oracle'</pre><p>本节包含以下主题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="searching-document-sections-in-oracle-text.html#GUID-407F6C32-D2C7-45A7-8B36-A6C8DBB2C6BC">创建HTML部分</a></p>
                     </li>
                     <li>
                        <p><a href="searching-document-sections-in-oracle-text.html#GUID-8BF45F86-6AFD-4BA2-A1DB-7F08D39A7E75">搜索HTML元标记</a></p>
                     </li>
                  </ul>
               </div><a id="CCAPP9306"></a><div class="props_rev_3"><a id="GUID-407F6C32-D2C7-45A7-8B36-A6C8DBB2C6BC" name="GUID-407F6C32-D2C7-45A7-8B36-A6C8DBB2C6BC"></a><h4 id="CCAPP-GUID-407F6C32-D2C7-45A7-8B36-A6C8DBB2C6BC" class="sect4"><span class="enumeration_section">11.2.1</span>创建HTML部分</h4>
                  <div>
                     <p>以下代码定义了名为<code class="codeph">htmgroup</code>的类型为<code class="codeph">HTML_SECTION_GROUP.</code>的节组<code class="codeph">HTML_SECTION_GROUP.</code>然后它在<code class="codeph">htmgroup</code>创建一个区域部分，名为由<code class="codeph">&lt;H1&gt;</code>标记标识的<code class="codeph">heading</code> ：</p><pre class="oac_no_warn" dir="ltr">开始ctx_ddl.create_section_group（'htmgroup'，'HTML_SECTION_GROUP'）; ctx_ddl.add_zone_section（'htmgroup'，'heading'，'H1'）;结束;</pre><p>然后，您可以按如下方式索引文档：</p><pre class="oac_no_warn" dir="ltr">在docs上创建索引myindex（htmlfile）indextype是ctxsys.context参数（'filter ctxsys.null_filter section group htmgroup'）;</pre><p>使用<code class="codeph">htmgroup</code>部分组建立索引后，您可以通过发出以下查询在<code class="codeph">heading</code>部分中进行查询：</p><pre class="oac_no_warn" dir="ltr">'Oracle WITHIN标题'</pre></div>
               </div><a id="CCAPP9691"></a><a id="CCAPP9307"></a><div class="props_rev_3"><a id="GUID-8BF45F86-6AFD-4BA2-A1DB-7F08D39A7E75" name="GUID-8BF45F86-6AFD-4BA2-A1DB-7F08D39A7E75"></a><h4 id="CCAPP-GUID-8BF45F86-6AFD-4BA2-A1DB-7F08D39A7E75" class="sect4"><span class="enumeration_section">11.2.2</span>搜索HTML元标记</h4>
                  <div>
                     <p>使用HTML文档，您还可以在<code class="codeph">&lt;META&gt;</code>标记中为<code class="codeph">NAME/CONTENT</code>对创建部分。执行此操作时，您可以将搜索范围限制为<code class="codeph">CONTENT.</code>文本<code class="codeph">CONTENT.</code></p>
                     <div class="section">
                        <p>考虑具有以下<code class="codeph">META</code>标记的HTML文档：</p><pre class="oac_no_warn" dir="ltr">&lt;META NAME =“author”CONTENT =“ken”&gt;</pre><p>创建一个区域部分，索引其<code class="codeph">NAME</code>值为author的<code class="codeph">META</code>标记的所有<code class="codeph">CONTENT</code>属性：</p><pre class="oac_no_warn" dir="ltr">开始ctx_ddl.create_section_group（'htmgroup'，'HTML_SECTION_GROUP'）; ctx_ddl.add_zone_section（'htmgroup'，'author'，'meta @ author'）;结束</pre><p>使用<code class="codeph">htmgroup</code>部分组建立索引后，您可以查询文档：</p><pre class="oac_no_warn" dir="ltr">'肯在作者'</pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="CCAPP9309"></a><div class="props_rev_3"><a id="GUID-8D535B14-B377-4766-A062-1DA912438E23" name="GUID-8D535B14-B377-4766-A062-1DA912438E23"></a><h3 id="CCAPP-GUID-8D535B14-B377-4766-A062-1DA912438E23" class="sect3"><span class="enumeration_section">11.3</span>使用Oracle Text搜索XML部分</h3>
               <div>
                  <p>与HTML文档一样，XML文档具有标记文本，您可以使用它们来定义分段搜索的文本块。您可以使用<code class="codeph">WITHIN</code>或<code class="codeph">INPATH</code>运算符搜索节的内容。
                  </p>
                  <p>以下部分描述了不同类型的XML搜索：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="searching-document-sections-in-oracle-text.html#GUID-46DC9D00-19DC-4B39-8D84-5D5E05288833">自动切片</a></p>
                     </li>
                     <li>
                        <p><a href="searching-document-sections-in-oracle-text.html#GUID-91B86C14-8744-4958-99C4-E65337AB0797">属性搜索</a></p>
                     </li>
                     <li>
                        <p><a href="searching-document-sections-in-oracle-text.html#GUID-DA44A63B-459D-43E4-B454-871ED8BD36D7">文件类型敏感部分</a></p>
                     </li>
                     <li>
                        <p><a href="searching-document-sections-in-oracle-text.html#GUID-B06BB08F-831F-4FBB-A586-32487D45F132">路径部分搜索</a></p>
                     </li>
                  </ul>
               </div><a id="CCAPP9310"></a><div class="props_rev_3"><a id="GUID-46DC9D00-19DC-4B39-8D84-5D5E05288833" name="GUID-46DC9D00-19DC-4B39-8D84-5D5E05288833"></a><h4 id="CCAPP-GUID-46DC9D00-19DC-4B39-8D84-5D5E05288833" class="sect4"><span class="enumeration_section">11.3.1</span>自动分段</h4>
                  <div>
                     <p>要设置索引操作以自动从XML文档创建节，请使用<code class="codeph">AUTO_SECTION_GROUP</code>节组。系统为XML标记创建区域部分。为具有属性的标记和表单<code class="codeph">tag@attribute.</code>指定的节创建属性部分<code class="codeph">tag@attribute.</code></p>
                     <p>例如，下面的语句使用<code class="codeph">AUTO_SECTION_GROUP</code>对含有XML文件的列创建<span class="italic">myindex</span>指数：</p><pre class="oac_no_warn" dir="ltr">CREATE INDEX myindex ON xmldocs（xmlfile）INDEXTYPE IS ctxsys.context PARAMETERS（'datastore ctxsys.default_datastore filter ctxsys.null_filter section group ctxsys.auto_section_group'）;</pre></div>
               </div><a id="CCAPP9311"></a><div class="props_rev_3"><a id="GUID-91B86C14-8744-4958-99C4-E65337AB0797" name="GUID-91B86C14-8744-4958-99C4-E65337AB0797"></a><h4 id="CCAPP-GUID-91B86C14-8744-4958-99C4-E65337AB0797" class="sect4"><span class="enumeration_section">11.3.2</span>属性搜索</h4>
                  <div>
                     <p>您可以通过以下两种方式之一搜索XML属性文本：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="bold">创建属性部分</span></p>
                           <p>使用<code class="codeph">CTX_DDL</code>创建属性部分。 <code class="codeph">ADD_ATTR_SECTION</code>然后使用<code class="codeph">XML_SECTION_GROUP.</code>进行索引<code class="codeph">XML_SECTION_GROUP.</code>如果在索引时使用<code class="codeph">AUTO_SECTION_GROUP</code> ，则会自动创建属性部分。您可以使用<code class="codeph">WITHIN</code>运算符查询属性部分。
                           </p>
                           <p>考虑使用<code class="codeph">TITLE</code>属性定义<code class="codeph">BOOK</code>标记的XML文件：</p><pre class="oac_no_warn" dir="ltr">&lt;BOOK TITLE =“双城记”&gt;这是最好的时期。&lt;/ BOOK&gt;</pre><p>要将title属性定义为属性部分，请创建<code class="codeph">XML_SECTION_GROUP</code>并定义属性部分：</p><pre class="oac_no_warn" dir="ltr">开始ctx_ddl.create_section_group（'myxmlgroup'，'XML_SECTION_GROUP'）; ctx_ddl.add_attr_section（'myxmlgroup'，'booktitle'，'book @ title'）;结束;</pre><p>索引：</p><pre class="oac_no_warn" dir="ltr">CREATE INDEX myindex ON xmldocs（xmlfile）INDEXTYPE IS ctxsys.context PARAMETERS（'datastore ctxsys.default_datastore filter ctxsys.null_filter section group myxmlgroup'）;</pre><p>要查询<span class="italic">booktitle</span> XML属性部分：</p><pre class="oac_no_warn" dir="ltr">'书签中的城市'</pre></li>
                        <li>
                           <p><span class="bold">使用INPATH运算符搜索属性</span></p>
                           <p>使用<code class="codeph">INPATH</code>运算符索引<code class="codeph">PATH_SECTION_GROUP</code>和查询属性文本。
                           </p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-91B86C14-8744-4958-99C4-E65337AB0797__GUID-CB165855-F347-48D1-B6A0-48C5CD2C349F">
                        <p class="notep1">也可以看看：</p>
                        <p><span class="q">“ <a href="searching-document-sections-in-oracle-text.html#GUID-B06BB08F-831F-4FBB-A586-32487D45F132">路径部分搜索</a> ”</span></p>
                     </div>
                  </div>
               </div><a id="CCAPP9314"></a><div class="props_rev_3"><a id="GUID-DA44A63B-459D-43E4-B454-871ED8BD36D7" name="GUID-DA44A63B-459D-43E4-B454-871ED8BD36D7"></a><h4 id="CCAPP-GUID-DA44A63B-459D-43E4-B454-871ED8BD36D7" class="sect4"><span class="enumeration_section">11.3.3</span>文件类型敏感部分</h4>
                  <div>
                     <p>对于包含为不同文档类型声明的<code class="codeph">&lt;book&gt;</code>标记的XML文档集，您可能希望为每种文档类型创建不同的book部分以提高搜索功能。以下方案说明如何为每种文档类型创建书籍部分。
                     </p>
                     <p>假设<code class="codeph">mydocname1</code>被声明为XML文档类型（根元素）：</p><pre class="oac_no_warn" dir="ltr">&lt;！DOCTYPE mydocname1 ...[...
</pre><p>在<code class="codeph">mydocname1,</code>声明了<code class="codeph">&lt;book&gt;</code>元素。对于此标记，您可以创建一个名为<code class="codeph">mybooksec1</code>的部分，该部分对标记的文档类型敏感：</p><pre class="oac_no_warn" dir="ltr">开始</pre><pre class="oac_no_warn" dir="ltr">ctx_ddl.create_section_group（'myxmlgroup'，'XML_SECTION_GROUP'）; ctx_ddl.add_zone_section（'myxmlgroup'，'mybooksec1'，'mydocname1（book）'）;</pre><pre class="oac_no_warn" dir="ltr">结束;</pre><p>假设<code class="codeph">mydocname2</code>被声明为另一个XML文档类型（根元素）：</p><pre class="oac_no_warn" dir="ltr">&lt;！DOCTYPE mydocname2 ...[...
</pre><p>在<code class="codeph">mydocname2,</code>声明了<code class="codeph">&lt;book&gt;</code>元素。对于此标记，您可以创建一个名为<code class="codeph">mybooksec2</code>的部分，该部分对标记的文档类型敏感：</p><pre class="oac_no_warn" dir="ltr">开始</pre><pre class="oac_no_warn" dir="ltr">ctx_ddl.create_section_group（'myxmlgroup'，'XML_SECTION_GROUP'）; ctx_ddl.add_zone_section（'myxmlgroup'，'mybooksec2'，'mydocname2（book）'）;</pre><pre class="oac_no_warn" dir="ltr">结束;</pre><p>要在<code class="codeph">mybooksec1</code>部分中查询，请使用<code class="codeph">WITHIN</code> ：</p><pre class="oac_no_warn" dir="ltr">'myraclesec1中的oracle'</pre></div>
               </div><a id="CCAPP9315"></a><div class="props_rev_3"><a id="GUID-B06BB08F-831F-4FBB-A586-32487D45F132" name="GUID-B06BB08F-831F-4FBB-A586-32487D45F132"></a><h4 id="CCAPP-GUID-B06BB08F-831F-4FBB-A586-32487D45F132" class="sect4"><span class="enumeration_section">11.3.4</span>路径段搜索</h4>
                  <div>
                     <p>XML文档可以具有父子标记结构，例如：</p><pre class="oac_no_warn" dir="ltr">&lt;A&gt; &lt;B&gt; &lt;C&gt;狗&lt;/ C&gt; &lt;/ B&gt; &lt;/A&gt;</pre><p>在这种情况下，标记C是标记B的子标记，它是标记A的子标记。</p>
                     <p>使用Oracle Text，您可以使用<code class="codeph">PATH_SECTION_GROUP.</code>搜索路径<code class="codeph">PATH_SECTION_GROUP.</code>此部分组使您可以在查询中指定直接父项，例如查找元素C中包含术语<span class="italic">dog的</span>所有文档，这是元素B的子项，依此类推。
                     </p>
                     <p>使用<code class="codeph">PATH_SECTION_GROUP,</code>您还可以执行属性值搜索和属性相等性测试。
                     </p>
                     <p>与此功能相关的新运算符是</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">INPATH</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">HASPATH</code></p>
                        </li>
                     </ul>
                     <p>本节包含以下主题。</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="searching-document-sections-in-oracle-text.html#GUID-7C14AE2D-64AA-4459-8D62-2EAF5DBCF921">使用PATH_SECTION_GROUP创建索引</a></p>
                        </li>
                        <li>
                           <p><a href="searching-document-sections-in-oracle-text.html#GUID-AC618E08-E422-4401-B654-2682DB8F4B1C">顶级标签搜索</a></p>
                        </li>
                        <li>
                           <p><a href="searching-document-sections-in-oracle-text.html#GUID-71A48905-34EB-4392-A74E-E50CD66F4555">任意级别的标签搜索</a></p>
                        </li>
                        <li>
                           <p><a href="searching-document-sections-in-oracle-text.html#GUID-B03DCEF8-1885-49CE-B4A2-8A742CE6C92A">直接亲子搜索</a></p>
                        </li>
                        <li>
                           <p><a href="searching-document-sections-in-oracle-text.html#GUID-2EA144DC-21AF-4CC0-A7BE-43A75566AB9E">标签值测试</a></p>
                        </li>
                        <li>
                           <p><a href="searching-document-sections-in-oracle-text.html#GUID-4794BF0E-9681-45DC-B674-98969DD09C94">属性搜索</a></p>
                        </li>
                        <li>
                           <p><a href="searching-document-sections-in-oracle-text.html#GUID-D3AB31A4-C7BD-4575-A9B9-1A91C49DD7C5">属性值测试</a></p>
                        </li>
                        <li>
                           <p><a href="searching-document-sections-in-oracle-text.html#GUID-6AC290D3-4FDB-43F7-ABA3-040EE4191D53">路径测试</a></p>
                        </li>
                        <li>
                           <p><a href="searching-document-sections-in-oracle-text.html#GUID-BAAF07B7-CD52-4082-BF6E-BCC05AF32146">使用HASPATH进行平等测试</a></p>
                        </li>
                     </ul>
                  </div><a id="CCAPP9316"></a><div class="props_rev_3"><a id="GUID-7C14AE2D-64AA-4459-8D62-2EAF5DBCF921" name="GUID-7C14AE2D-64AA-4459-8D62-2EAF5DBCF921"></a><h5 id="CCAPP-GUID-7C14AE2D-64AA-4459-8D62-2EAF5DBCF921" class="sect5"><span class="enumeration_section">11.3.4.1</span>使用PATH_SECTION_GROUP创建索引</h5>
                     <div>
                        <p>要启用路径部分搜索，请使用<code class="codeph">PATH_SECTION_GROUP.</code>索引XML文档集<code class="codeph">PATH_SECTION_GROUP.</code>例如：</p>
                        <p>创建首选项。</p><pre class="oac_no_warn" dir="ltr">开始ctx_ddl.create_section_group（'xmlpathgroup'，'PATH_SECTION_GROUP'）;结束;</pre><p>创建索引。</p><pre class="oac_no_warn" dir="ltr">CREATE INDEX myindex ON xmldocs（xmlfile）INDEXTYPE IS ctxsys.context PARAMETERS（'datastore ctxsys.default_datastore filter ctxsys.null_filter section group xmlpathgroup'）;</pre><pre class="oac_no_warn" dir="ltr"></pre><p>创建索引时，可以使用<code class="codeph">INPATH</code>和<code class="codeph">HASPATH</code>运算符。
                        </p>
                     </div>
                  </div><a id="CCAPP9317"></a><div class="props_rev_3"><a id="GUID-AC618E08-E422-4401-B654-2682DB8F4B1C" name="GUID-AC618E08-E422-4401-B654-2682DB8F4B1C"></a><h5 id="CCAPP-GUID-AC618E08-E422-4401-B654-2682DB8F4B1C" class="sect5"><span class="enumeration_section">11.3.4.2</span>顶级标签搜索</h5>
                     <div>
                        <p>要在顶级标记<code class="codeph">&lt;A&gt;:</code>查找包含术语<span class="italic">dog的</span>所有文档<code class="codeph">&lt;A&gt;:</code></p><pre class="oac_no_warn" dir="ltr">狗INPATH（/ A）</pre><p>要么</p><pre class="oac_no_warn" dir="ltr">狗INPATH（A）</pre></div>
                  </div><a id="CCAPP9318"></a><div class="props_rev_3"><a id="GUID-71A48905-34EB-4392-A74E-E50CD66F4555" name="GUID-71A48905-34EB-4392-A74E-E50CD66F4555"></a><h5 id="CCAPP-GUID-71A48905-34EB-4392-A74E-E50CD66F4555" class="sect5"><span class="enumeration_section">11.3.4.3</span>任意级别的标签搜索</h5>
                     <div>
                        <p>要在任何级别的<code class="codeph">&lt;A&gt;</code>标记中查找包含术语<span class="italic">dog的</span>所有文档：</p><pre class="oac_no_warn" dir="ltr">狗INPATH（// A）</pre><p>此查询查找以下文档：</p><pre class="oac_no_warn" dir="ltr">&lt;A&gt;狗&lt;/A&gt;</pre><p>和</p><pre class="oac_no_warn" dir="ltr">&lt;C&gt; &lt;B&gt; &lt;A&gt;狗&lt;/A&gt; &lt;/ B&gt; &lt;/ C&gt;</pre></div>
                  </div><a id="CCAPP9319"></a><div class="props_rev_3"><a id="GUID-B03DCEF8-1885-49CE-B4A2-8A742CE6C92A" name="GUID-B03DCEF8-1885-49CE-B4A2-8A742CE6C92A"></a><h5 id="CCAPP-GUID-B03DCEF8-1885-49CE-B4A2-8A742CE6C92A" class="sect5"><span class="enumeration_section">11.3.4.4</span>直接亲子搜索</h5>
                     <div>
                        <p>要在B元素中查找包含术语<span class="italic">dog的</span>所有文档，该元素是顶级A元素的直接子元素：</p><pre class="oac_no_warn" dir="ltr">狗INPATH（A / B）</pre><p>此查询查找以下XML文档：</p><pre class="oac_no_warn" dir="ltr">&lt;A&gt; &lt;B&gt;我的狗很友好。&lt;/ B&gt; &lt;/A&gt;</pre><p>但它找不到：</p><pre class="oac_no_warn" dir="ltr">&lt;C&gt; &lt;B&gt;我的狗很友善。&lt;/ B&gt; &lt;/ C&gt;</pre></div>
                  </div><a id="CCAPP9320"></a><div class="props_rev_3"><a id="GUID-2EA144DC-21AF-4CC0-A7BE-43A75566AB9E" name="GUID-2EA144DC-21AF-4CC0-A7BE-43A75566AB9E"></a><h5 id="CCAPP-GUID-2EA144DC-21AF-4CC0-A7BE-43A75566AB9E" class="sect5"><span class="enumeration_section">11.3.4.5</span>标签值测试</h5>
                     <div>
                        <p>您可以测试标签的值。例如，查询：</p><pre class="oac_no_warn" dir="ltr">狗INPATH（A [B =“狗”]）</pre><p>查找以下文档：</p><pre class="oac_no_warn" dir="ltr">&lt;A&gt; &lt;B&gt;狗&lt;/ B&gt; &lt;/A&gt;</pre><p>但没有找到：</p><pre class="oac_no_warn" dir="ltr">&lt;A&gt; &lt;B&gt;我的狗很友好。&lt;/ B&gt; &lt;/A&gt;</pre></div>
                  </div><a id="CCAPP9321"></a><div class="props_rev_3"><a id="GUID-4794BF0E-9681-45DC-B674-98969DD09C94" name="GUID-4794BF0E-9681-45DC-B674-98969DD09C94"></a><h5 id="CCAPP-GUID-4794BF0E-9681-45DC-B674-98969DD09C94" class="sect5"><span class="enumeration_section">11.3.4.6</span>属性搜索</h5>
                     <div>
                        <p>您可以搜索属性的内容。例如，查询：</p><pre class="oac_no_warn" dir="ltr">狗INPATH（// A / @ B）</pre><p>查找文档：</p><pre class="oac_no_warn" dir="ltr">&lt;C&gt; &lt;AB =“snoop dog”&gt; &lt;/A&gt; &lt;/ C&gt;</pre></div>
                  </div><a id="CCAPP9322"></a><div class="props_rev_3"><a id="GUID-D3AB31A4-C7BD-4575-A9B9-1A91C49DD7C5" name="GUID-D3AB31A4-C7BD-4575-A9B9-1A91C49DD7C5"></a><h5 id="CCAPP-GUID-D3AB31A4-C7BD-4575-A9B9-1A91C49DD7C5" class="sect5"><span class="enumeration_section">11.3.4.7</span>属性值测试</h5>
                     <div>
                        <p>您可以测试属性的值。例如，查询：</p><pre class="oac_no_warn" dir="ltr">加州INPATH（// [A = @ =“家庭住址”]）</pre><p>查找文档：</p><pre class="oac_no_warn" dir="ltr">&lt;AB =“家庭住址”&gt;美国加利福尼亚州旧金山&lt;/A&gt;</pre><p>但它没有找到：</p><pre class="oac_no_warn" dir="ltr">&lt;AB =“工作地址”&gt;美国加利福尼亚州旧金山&lt;/A&gt;</pre></div>
                  </div><a id="CCAPP9323"></a><div class="props_rev_3"><a id="GUID-6AC290D3-4FDB-43F7-ABA3-040EE4191D53" name="GUID-6AC290D3-4FDB-43F7-ABA3-040EE4191D53"></a><h5 id="CCAPP-GUID-6AC290D3-4FDB-43F7-ABA3-040EE4191D53" class="sect5"><span class="enumeration_section">11.3.4.8</span>路径测试</h5>
                     <div>
                        <p>您可以测试<code class="codeph">HASPATH</code>运算符是否存在路径。例如，查询：</p><pre class="oac_no_warn" dir="ltr">HASPATH（A / B / C）</pre><p>查找并返回文档的分数为100</p><pre class="oac_no_warn" dir="ltr">&lt;A&gt; &lt;B&gt; &lt;C&gt;狗&lt;/ C&gt; &lt;/ B&gt; &lt;/A&gt;</pre><p>没有查询必须引用<span class="italic">狗</span> 。
                        </p>
                     </div>
                  </div><a id="CCAPP9324"></a><div class="props_rev_3"><a id="GUID-BAAF07B7-CD52-4082-BF6E-BCC05AF32146" name="GUID-BAAF07B7-CD52-4082-BF6E-BCC05AF32146"></a><h5 id="CCAPP-GUID-BAAF07B7-CD52-4082-BF6E-BCC05AF32146" class="sect5"><span class="enumeration_section">11.3.4.9</span>使用HASPATH进行平等测试</h5>
                     <div>
                        <p>您可以使用<code class="codeph">HASPATH</code>运算符进行截面质量测试。例如，请考虑以下查询：</p><pre class="oac_no_warn" dir="ltr">狗INPATH A.</pre><p>它发现：</p><pre class="oac_no_warn" dir="ltr">&lt;A&gt;狗&lt;/A&gt;</pre><p>但它也发现：</p><pre class="oac_no_warn" dir="ltr">&lt;A&gt;狗公园&lt;/A&gt;</pre><p>要将查询限制为术语<span class="italic">dog</span>而不是其他任何内容，可以使用<code class="codeph">HASPATH</code>运算符的节相等性测试。例如，</p><pre class="oac_no_warn" dir="ltr">HASPATH（A = “狗”）</pre><p>查找并仅为第一个文档返回分数100，而不是第二个文档。</p>
                        <div class="infoboxnotealso" id="GUID-BAAF07B7-CD52-4082-BF6E-BCC05AF32146__GUID-3D5DCCDD-4A30-423F-95AB-DCF3AC79B048">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="../ccref/oracle-text-CONTAINS-query-operators.html#CCREF0300" target="_blank"><span class="italic">Oracle Text Reference</span></a>了解有关使用<code class="codeph">INPATH</code>和<code class="codeph">HASPATH</code>运算符的更多信息</p>
                        </div>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>