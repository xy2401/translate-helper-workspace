<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>字符集迁移</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Database Globalization Support Guide "></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Database Globalization Support Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-globalization-support-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-02-12T02:55:13-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2007, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96349-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="OCI-programming-in-global-environment.html" title="Previous" type="text/html"></link>
      <link rel="next" href="customizing-locale-data.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Globalization Support Guide"></meta>
    <meta name="dcterms.isVersionOf" content="NLSPG"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="OCI-programming-in-global-environment.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="customizing-locale-data.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">数据库全球化支持指南</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">字符集迁移</li>
            </ol>
            <a id="GUID-53A6A5B1-6F79-44AE-9205-C32D9BA6B69A" name="GUID-53A6A5B1-6F79-44AE-9205-C32D9BA6B69A"></a><a id="NLSPG011"></a>
            
            <h2 id="NLSPG-GUID-53A6A5B1-6F79-44AE-9205-C32D9BA6B69A" class="sect2"><span class="enumeration_chapter">11</span>字符集迁移</h2>
         </header>
         <div class="ind">
            <div>
               <p>本章讨论字符集转换和字符集迁移。本章包括以下主题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="character-set-migration.html#GUID-3C4B1468-73E2-4A78-BF03-3FA624F1A635">字符集迁移概述</a></p>
                  </li>
                  <li>
                     <p><a href="character-set-migration.html#GUID-68664144-771B-4AD2-B015-8EBC91D8EEA8">更改现有数据库的数据库字符集</a></p>
                  </li>
                  <li>
                     <p><a href="character-set-migration.html#GUID-5F2F37FD-D4B4-4E30-A81F-B52C6BF0DA13">修复数据库字符集元数据</a></p>
                  </li>
                  <li>
                     <p><a href="character-set-migration.html#GUID-56D71786-F68F-496F-97B2-E3412B93E13E">语言和字符集文件扫描程序</a></p>
                  </li>
               </ul>
            </div><a id="NLSPG460"></a><div class="props_rev_3"><a id="GUID-3C4B1468-73E2-4A78-BF03-3FA624F1A635" name="GUID-3C4B1468-73E2-4A78-BF03-3FA624F1A635"></a><h3 id="NLSPG-GUID-3C4B1468-73E2-4A78-BF03-3FA624F1A635" class="sect3"><span class="enumeration_section">11.1</span>字符集迁移概述</h3>
               <div>
                  <p><a id="d85035e166" class="indexterm-anchor"></a><a id="d85035e170" class="indexterm-anchor"></a><a id="d85035e172" class="indexterm-anchor"></a><a id="d85035e176" class="indexterm-anchor"></a>为数据库选择合适的字符集是一个重要的决定。选择数据库字符集时，请考虑以下因素：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>您需要存储的数据类型</p>
                     </li>
                     <li>
                        <p>数据库现在和将来需要适应的语言</p>
                     </li>
                     <li>
                        <p>每个字符集的不同大小要求以及相应的性能影响</p>
                     </li>
                  </ul>
                  <p>Oracle建议选择Unicode，以实现其通用性以及与当前和未来技术和语言要求的兼容性。Unicode标准中定义的字符集支持所有具有重要用途的当代书面语言和一些历史脚本。它还支持各种符号，例如，用于技术，科学和音乐符号的符号。它是许多技术的本机或推荐字符集，例如Java，Windows，HTML或XML。没有其他字符集是如此普遍。此外，在业界的大力支持下，Unicode的采用迅速增加。</p>
                  <p>Oracle的Unicode实现AL32UTF8提供1字节的ASCII字符编码，欧洲和中东语言的字符编码为2字节，南亚和东亚语言的字符为3字节。因此，Unicode的存储要求通常高于同一语言的传统字符集的存储要求。</p>
                  <p>相关主题是为现有数据库选择新的字符集。更改现有数据库的数据库字符集称为<span class="bold">字符集迁移</span> 。在这种情况下，Oracle也建议迁移到Unicode，以实现其通用性和兼容性。从一个数据库字符集迁移到另一个数据库字符集时，还应计划最大限度地减少以下来源的数据丢失：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="character-set-migration.html#GUID-8F973339-3D66-4C6D-A045-249A81007092">数据截断</a></p>
                     </li>
                     <li>
                        <p><a href="character-set-migration.html#GUID-0925F089-FFE5-457A-975B-4D004B8EFF2A">字符集转换问题</a></p>
                        <div class="infoboxnotealso" id="GUID-3C4B1468-73E2-4A78-BF03-3FA624F1A635__GUID-192B41A7-1702-4B01-8093-1D8222436065">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="choosing-character-set.html#GUID-BF26E01D-AB92-48FC-855A-69A5B3AF9A92">选择一个字符集</a></p>
                        </div>
                     </li>
                  </ul>
               </div><a id="NLSPG857"></a><a id="NLSPG461"></a><div class="props_rev_3"><a id="GUID-8F973339-3D66-4C6D-A045-249A81007092" name="GUID-8F973339-3D66-4C6D-A045-249A81007092"></a><h4 id="NLSPG-GUID-8F973339-3D66-4C6D-A045-249A81007092" class="sect4"><span class="enumeration_section">11.1.1</span>数据截断</h4>
                  <div>
                     <p>什么时候<a id="d85035e291" class="indexterm-anchor"></a>数据库是使用字节语义创建的， <code class="codeph">CHAR</code>和<code class="codeph">VARCHAR2</code>数据类型的大小以字节为单位，而不是字符。例如，表定义中的规范<code class="codeph">CHAR(20)</code>允许20个字节用于存储字符数据。当数据库字符集使用单字节字符编码方案时，存储字符时不会发生数据丢失，因为字符数等于字节数。如果数据库字符集使用多字节字符集，则字节数不再等于字符数，因为字符可以包含一个或多个字节。
                     </p>
                     <p>在迁移到新字符集期间，验证现有<code class="codeph">CHAR</code>和<code class="codeph">VARCHAR2</code>列的列宽是很重要的，因为它们可能需要扩展以支持需要多字节存储的编码。如果转换导致数据扩展，则可能会发生截断数据。
                     </p>
                     <p>下表显示了一个示例<a id="d85035e313" class="indexterm-anchor"></a><a id="d85035e317" class="indexterm-anchor"></a>单字节字符通过转换成为多字节字符时的数据扩展。
                     </p>
                     <div class="tblformal" id="GUID-8F973339-3D66-4C6D-A045-249A81007092__G1007573">
                        <p class="titleintable">表11-1单字节和多字节编码</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="单字节和多字节编码" width="100%" border="1" summary="This table shows examples of data expansion when single-byte characters become multibyte characters through conversion." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" id="d85035e333">字符</th>
                                 <th align="left" valign="bottom" id="d85035e336">WE8MSWIN 1252编码</th>
                                 <th align="left" valign="bottom" id="d85035e339">AL32UTF8编码</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d85035e344" headers="d85035e333 ">
                                    <p>一个</p>
                                 </td>
                                 <td align="left" valign="top" headers="d85035e344 d85035e336 ">
                                    <p>E4</p>
                                 </td>
                                 <td align="left" valign="top" headers="d85035e344 d85035e339 ">
                                    <p>C3 A4</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d85035e354" headers="d85035e333 ">
                                    <p>ö</p>
                                 </td>
                                 <td align="left" valign="top" headers="d85035e354 d85035e336 ">
                                    <p>F6</p>
                                 </td>
                                 <td align="left" valign="top" headers="d85035e354 d85035e339 ">
                                    <p>C3 B6</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d85035e364" headers="d85035e333 ">
                                    <p>©</p>
                                 </td>
                                 <td align="left" valign="top" headers="d85035e364 d85035e336 ">
                                    <p>A9</p>
                                 </td>
                                 <td align="left" valign="top" headers="d85035e364 d85035e339 ">
                                    <p>C2 A9</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d85035e374" headers="d85035e333 ">
                                    <p>€</p>
                                 </td>
                                 <td align="left" valign="top" headers="d85035e374 d85035e336 ">
                                    <p>80</p>
                                 </td>
                                 <td align="left" valign="top" headers="d85035e374 d85035e339 ">
                                    <p>E2 82 AC</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>上表的第一列显示了所选字符。第二列显示WE8MSWIN1252字符集中字符的十六进制表示。第三列显示AL32UTF8字符集中每个字符的十六进制表示形式。每对字母和数字代表一个字节。例如， <code class="codeph">ä</code> （ <code class="codeph">a</code>元音变音）是单字节字符（ <code class="codeph">E4</code>在WE8MSWIN1252），但它成为一个两个字节的字符（ <code class="codeph">C3 A4</code> ）在AL32UTF8。此外，欧元符号的编码从一个字节（ <code class="codeph">80</code> ）扩展到三个字节（ <code class="codeph">E2 82 AC</code> ）。
                     </p>
                     <p>如果新字符集中的数据要求存储大于数据类型支持的字节大小，则必须更改架构。您可能需要使用<code class="codeph">CLOB</code>列。
                     </p>
                     <div class="infoboxnotealso" id="GUID-8F973339-3D66-4C6D-A045-249A81007092__GUID-EA0269D4-ABA3-4813-8000-7391A2EAB568">
                        <p class="notep1">也可以看看：</p>
                        <p><span class="q">“ <a href="choosing-character-set.html#GUID-B3C74175-7F77-49A6-9CC9-1F6F70F3A69D">长度语义</a> ”</span></p>
                     </div>
                  </div><a id="NLSPG462"></a><div class="props_rev_3"><a id="GUID-452FF3A9-816A-4CC5-9E27-A68E86817E6D" name="GUID-452FF3A9-816A-4CC5-9E27-A68E86817E6D"></a><h5 id="NLSPG-GUID-452FF3A9-816A-4CC5-9E27-A68E86817E6D" class="sect5"><span class="enumeration_section">11.1.1.1</span>数据截断引起的其他问题</h5>
                     <div>
                        <p><a id="d85035e488" class="indexterm-anchor"></a><a id="d85035e492" class="indexterm-anchor"></a>数据截断可能会导致以下问题：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>在数据库数据字典中，模式对象名称的长度不能超过30个字节。如果模式对象的名称在新数据库字符集中超过30个字节，则必须重命名该模式对象。例如，泰国国家字符集中的一个泰语字符需要1个字节。在AL32UTF8中，它需要3个字节。如果已定义名称为11个泰语字符的表，则在将数据库字符集更改为AL32UTF8时，表名必须缩短为10个或更少的泰语字符。</p>
                           </li>
                           <li>
                              <p>如果是现有的Oracle用户名<a id="d85035e504" class="indexterm-anchor"></a><a id="d85035e508" class="indexterm-anchor"></a>或者密码是根据新字符集中大小变化的字符创建的，因此在迁移到新字符集后，由于身份验证失败，用户将无法登录。发生这种情况是因为在迁移到新字符集期间，可能无法更新存储在数据字典中的加密用户名和密码。例如，如果当前数据库字符集为WE8MSWIN1252且新数据库字符集为AL32UTF8，则用户名<code class="codeph">scött</code> （带有变音符号的<code class="codeph">o</code> ）的长度从5个字节更改为6个字节。在AL32UTF8中，由于用户名不同， <code class="codeph">scött</code>无法再登录。Oracle建议用户名和密码基于ASCII字符。如果不是，则必须在迁移到新字符集后重置受影响的用户名和密码。
                              </p>
                           </li>
                           <li>
                              <p>当<code class="codeph">CHAR</code>数据包含在迁移到新字符集后展开的字符时， <a id="d85035e528" class="indexterm-anchor"></a><a id="d85035e532" class="indexterm-anchor"></a>默认情况下，在数据库导出期间不会删除空间填充。这意味着在使用新字符集导入数据库时将拒绝这些行。解决方法是设置<a id="d85035e537" class="indexterm-anchor"></a><a id="d85035e539" class="indexterm-anchor"></a>导入<code class="codeph">CHAR</code>数据之前， <code class="codeph">BLANK_TRIMMING</code>初始化参数为<code class="codeph">TRUE</code> 。
                              </p>
                              <div class="infoboxnotealso" id="GUID-452FF3A9-816A-4CC5-9E27-A68E86817E6D__GUID-8BC52DBC-E71F-4BF1-A398-061B3431A0AE">
                                 <p class="notep1">也可以看看：</p>
                                 <p>有关<code class="codeph">BLANK_TRIMMING</code>初始化参数的详细信息，请<code class="codeph">BLANK_TRIMMING</code> <a href="../refrn/BLANK_TRIMMING.html#REFRN10011" target="_blank"><span class="italic">Oracle数据库参考</span></a></p>
                              </div>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="NLSPG463"></a><div class="props_rev_3"><a id="GUID-0925F089-FFE5-457A-975B-4D004B8EFF2A" name="GUID-0925F089-FFE5-457A-975B-4D004B8EFF2A"></a><h4 id="NLSPG-GUID-0925F089-FFE5-457A-975B-4D004B8EFF2A" class="sect4"><span class="enumeration_section">11.1.2</span>字符集转换问题</h4>
                  <div>
                     <p>本节包括以下主题：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="character-set-migration.html#GUID-6ECEAE2B-CB7B-4CA4-8124-F639089F31A7">使用导出和导入实用程序产生的替换字符</a></p>
                        </li>
                        <li>
                           <p><a href="character-set-migration.html#GUID-A12A0D7B-17C1-4025-89CE-C6AF8E518574">通过错误地设置客户端的NLS_LANG参数导致的无效数据</a></p>
                        </li>
                        <li>
                           <p><a href="character-set-migration.html#GUID-CD0F5CA4-F2CE-4970-A4D9-427B23050DDD">从单字节到多字节字符集和Oracle数据泵的转换</a></p>
                        </li>
                     </ul>
                  </div><a id="NLSPG858"></a><a id="NLSPG464"></a><div class="props_rev_3"><a id="GUID-6ECEAE2B-CB7B-4CA4-8124-F639089F31A7" name="GUID-6ECEAE2B-CB7B-4CA4-8124-F639089F31A7"></a><h5 id="NLSPG-GUID-6ECEAE2B-CB7B-4CA4-8124-F639089F31A7" class="sect5"><span class="enumeration_section">11.1.2.1</span>使用导出和导入实用程序产生的替换字符</h5>
                     <div>
                        <p><a id="d85035e727" class="indexterm-anchor"></a><a id="d85035e731" class="indexterm-anchor"></a>导出和导入实用程序可以将字符集从原始数据库字符集转换为新的数据库字符集。但是，字符集转换有时会导致数据丢失或数据损坏。例如，如果要从字符集A迁移到字符集B，则目标字符集B应该是字符集A的超集。目标字符集B是包含字符中定义的所有字符的<span class="bold">超集</span> 。设置A.字符集B中不可用的字符将转换为替换字符，通常指定为<code class="codeph">?</code> 或<code class="codeph">¿</code>或作为与不可用字符相关的字符。例如， <code class="codeph">ä</code> （ <code class="codeph">a</code>元音变音）可以被替换为<code class="codeph">a</code> 。替换字符由目标字符集定义。
                        </p>
                        <div class="infoboxnote" id="GUID-6ECEAE2B-CB7B-4CA4-8124-F639089F31A7__GUID-699D135A-1412-42CF-B502-2AEE1A490FD7">
                           <p class="notep1">注意：</p>
                           <p>目标字符集B应该是字符集A的超集的要求有一个例外。如果您的数据不包含字符集A但不在字符集B中的字符，那么目标字符集不需要成为字符集A的超集，以避免数据丢失或数据损坏。</p>
                        </div>
                        <p>下图显示了将版权和欧元符号转换为字符集转换的示例<code class="codeph">?</code> 和<code class="codeph">ä</code>被转换为<code class="codeph">a</code> 。
                        </p>
                        <div class="figure" id="GUID-6ECEAE2B-CB7B-4CA4-8124-F639089F31A7__I1006012">
                           <p class="titleinfigure">图11-1字符集转换中的替换字符</p><img src="img/nlspg020.gif" alt="下面是图11-1的描述" title="下面是图11-1的描述" longdesc="img_text/nlspg020.html"><br><a href="img_text/nlspg020.html">“图11-1字符集转换中的替换字符”的说明</a></div>
                        <!-- class="figure" -->
                        <p>要降低丢失数据的风险，请选择具有相似字符库的目标字符集。迁移到Unicode可能是最佳选择，因为AL32UTF8包含大多数旧版字符集中的字符。</p>
                     </div>
                  </div><a id="NLSPG859"></a><a id="NLSPG860"></a><a id="NLSPG465"></a><div class="props_rev_3"><a id="GUID-A12A0D7B-17C1-4025-89CE-C6AF8E518574" name="GUID-A12A0D7B-17C1-4025-89CE-C6AF8E518574"></a><h5 id="NLSPG-GUID-A12A0D7B-17C1-4025-89CE-C6AF8E518574" class="sect5"><span class="enumeration_section">11.1.2.2通过</span>错误地设置客户端的NLS_LANG参数导致的无效数据</h5>
                     <div>
                        <p>另一个可能导致数据丢失的字符集迁移方案是迁移包含无效数据的数据库。无效数据通常发生在数据库中，因为在客户端上未正确设置<code class="codeph">NLS_LANG</code>参数。<code class="codeph">NLS_LANG</code>值应反映客户端操作系统代码页。例如，在英语Windows环境中，代码页为WE8MSWIN1252。正确设置<code class="codeph">NLS_LANG</code>参数后，数据库可以自动转换来自客户端操作系统的传入数据。如果未正确设置<code class="codeph">NLS_LANG</code>参数，则无法正确转换进入数据库的数据。例如，假设数据库字符集是AL32UTF8，客户端是英语Windows操作系统，客户端上的<code class="codeph">NLS_LANG</code>设置是AL32UTF8。进入数据库的数据在WE8MSWIN1252中编码，并且不会转换为AL32UTF8数据，因为客户端上的<code class="codeph">NLS_LANG</code>设置与数据库字符集匹配。因此，Oracle假定不需要转换，并且将无效数据输入数据库。
                        </p>
                        <p><a id="d85035e872" class="indexterm-anchor"></a><a id="d85035e874" class="indexterm-anchor"></a>这可能导致两种可能的数据不一致问题。当数据库包含来自与数据库字符集不同但在两个字符集中都存在相同代码点的字符集的数据时，会出现一个问题。例如，如果数据库字符集为WE8ISO8859P1且中文Windows NT客户端的<code class="codeph">NLS_LANG</code>设置为SIMPLIFIED CHINESE_CHINA.WE8ISO8859P1，则所有多字节中文数据（来自ZHS16GBK字符集）将存储为单字节WE8ISO8859P1数据的倍数。这意味着Oracle将这些字符视为单字节WE8ISO8859P1字符。因此，所有SQL字符串操作函数（如SUBSTR或LENGTH）都基于字节而不是字符。构成ZHS16GBK数据的所有字节都是合法的WE8ISO8859P1代码。如果将此类数据库迁移到另一个字符集（如AL32UTF8），则转换字符代码就像它们在WE8ISO8859P1中一样。这样，ZHS16GBK字符的两个字节中的每一个都被单独转换，在AL32UTF8中产生无意义的值。下图显示了此错误字符集替换的示例。
                        </p>
                        <div class="figure" id="GUID-A12A0D7B-17C1-4025-89CE-C6AF8E518574__I1006027">
                           <p class="titleinfigure">图11-2不正确的字符集替换</p><img src="img/nlspg021.gif" alt="下面是图11-2的描述" title="下面是图11-2的描述" longdesc="img_text/nlspg021.html"><br><a href="img_text/nlspg021.html">“图11-2不正确的字符集替换”的说明</a></div>
                        <!-- class="figure" -->
                        <p>第二个可能的问题是从数据库中的混合字符集中获取数据。例如，如果数据字符集是WE8MSWIN1252，并且使用德语和希腊语的两个单独的Windows客户端都使用WE8MSWIN1252作为<code class="codeph">NLS_LANG</code>字符集，则数据库包含德语和希腊语的混合<a id="d85035e892" class="indexterm-anchor"></a><a id="d85035e896" class="indexterm-anchor"></a>字符。下图显示了不同客户端如何在同一数据库中使用不同的字符集。
                        </p>
                        <div class="figure" id="GUID-A12A0D7B-17C1-4025-89CE-C6AF8E518574__I1006038">
                           <p class="titleinfigure">图11-3混合字符集</p><img src="img/nlspg022.gif" alt="下面是图11-3的描述" title="下面是图11-3的描述" longdesc="img_text/nlspg022.html"><br><a href="img_text/nlspg022.html">“图11-3混合字符集”的描述</a></div>
                        <!-- class="figure" -->
                        <p>要使数据库字符集迁移成功，这两种情况都需要手动干预，因为Oracle数据库无法确定所存储数据的字符集。不正确的数据转换可能导致数据损坏，因此在尝试将数据迁移到新字符集之前，请执行数据库的完整备份。有关使用Unicode迁移助手程序（DMU）软件在字符集迁移到Unicode期间处理无效字符数据的详细信息，请参阅<span class="q">“ <a href="character-set-migration.html#GUID-68664144-771B-4AD2-B015-8EBC91D8EEA8">更改现有数据库的数据库字符集</a> ”</span>主题。
                        </p>
                     </div>
                  </div><a id="NLSPG466"></a><div class="props_rev_3"><a id="GUID-CD0F5CA4-F2CE-4970-A4D9-427B23050DDD" name="GUID-CD0F5CA4-F2CE-4970-A4D9-427B23050DDD"></a><h5 id="NLSPG-GUID-CD0F5CA4-F2CE-4970-A4D9-427B23050DDD" class="sect5"><span class="enumeration_section">11.1.2.3</span>从单字节到多字节字符集和Oracle数据泵的转换</h5>
                     <div>
                        <p>如果正在使用Oracle Data Pump，并且执行了从单字节到多字节的字符集迁移，那么<a id="d85035e992" class="indexterm-anchor"></a>必须重新加载Data Pump PL / SQL包。
                        </p>
                     </div>
                  </div>
               </div>
            </div><a id="NLSPG467"></a><div class="props_rev_3"><a id="GUID-68664144-771B-4AD2-B015-8EBC91D8EEA8" name="GUID-68664144-771B-4AD2-B015-8EBC91D8EEA8"></a><h3 id="NLSPG-GUID-68664144-771B-4AD2-B015-8EBC91D8EEA8" class="sect3"><span class="enumeration_section">11.2</span>更改现有数据库的数据库字符集</h3>
               <div>
                  <p><a id="d85035e1068" class="indexterm-anchor"></a><a id="d85035e1072" class="indexterm-anchor"></a><a id="d85035e1076" class="indexterm-anchor"></a>数据库字符集迁移是一个复杂的过程，通常涉及三个阶段：数据扫描，数据清理和数据转换。
                  </p>
                  <p>在更改数据库字符集之前，必须确定可能的数据库字符集转换问题和截断数据。此步骤称为数据扫描。数据扫描标识在更改数据库字符集之前将数据迁移到新字符编码方案所需的工作量。在数据扫描期间可以找到的一些示例是需要扩展列宽度的模式对象的数量以及目标字符库中不存在的数据的范围。此信息有助于确定转换数据库字符集的最佳方法。</p>
                  <p>在确定潜在的数据问题后，需要对其进行适当的清理，以确保在数据转换期间保持数据完整性。数据清理步骤可能需要大量时间和精力，具体取决于发现的数据问题的规模和复杂性。可能需要多次迭代数据扫描和清理才能正确处理所有数据异常。</p>
                  <p>数据转换是将字符数据从源字符集转换为目标字符集表示的过程。不正确的数据转换可能导致数据损坏，因此在尝试将数据迁移到新字符集之前，请执行数据库的完整备份。</p>
                  <p>迁移数据库字符集有两种方法：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="character-set-migration.html#GUID-DEE399F7-315A-48F5-B1BE-CF4E44E3C2E8">使用Unicode的数据库迁移助手迁移字符数据</a></p>
                     </li>
                     <li>
                        <p><a href="character-set-migration.html#GUID-75E21F87-13EA-4319-8448-73B2A1CB564B">使用完全导出和导入迁移字符数据</a></p>
                     </li>
                  </ul>
               </div><a id="NLSPG979"></a><div class="props_rev_3"><a id="GUID-DEE399F7-315A-48F5-B1BE-CF4E44E3C2E8" name="GUID-DEE399F7-315A-48F5-B1BE-CF4E44E3C2E8"></a><h4 id="NLSPG-GUID-DEE399F7-315A-48F5-B1BE-CF4E44E3C2E8" class="sect4"><span class="enumeration_section">11.2.1</span>使用Unicode的数据库迁移助手迁移字符数据</h4>
                  <div>
                     <p>Unicode数据库迁移助手（DMU）提供<a id="d85035e1183" class="indexterm-anchor"></a><a id="d85035e1187" class="indexterm-anchor"></a>直观且用户友好的GUI，可帮助您通过最小化手动工作负载的界面简化迁移过程到Unicode，并确保正确有效地执行迁移任务。
                     </p>
                     <p>DMU的一些优点是它具有以下功能：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>指导您完成工作流程</p>
                           <p>DMU的一个重要优势是它提供了一个逻辑工作流程来指导您完成迁移字符集的整个过程。</p>
                        </li>
                        <li>
                           <p>提供处理某些问题的建议</p>
                           <p>当您遇到某些问题时，DMU可以帮助您，例如在扫描或清理数据期间出现错误或故障。</p>
                        </li>
                        <li>
                           <p>支持数据的选择性转换</p>
                           <p>通过DMU，您只能转换表，列和行级别必须转换的数据。</p>
                        </li>
                        <li>
                           <p>提供进度监控</p>
                           <p>DMU提供GUI以可视化步骤的进展情况。</p>
                        </li>
                        <li>
                           <p>提供互动可视化功能</p>
                           <p>通过DMU，您可以以交互方式分析数据并在GUI中查看结果。它还使您能够在GUI中查看数据本身，并从已识别的迁移问题中以交互方式清除它。</p>
                        </li>
                        <li>
                           <p>提供仅支持内联转换的工具</p>
                           <p>通过DMU，Oracle数据库支持数据库内容的内联转换。与其他现有转换方法相比，这提供了性能和安全优势。</p>
                        </li>
                        <li>
                           <p>允许安排清理操作，以便以后在转换步骤中执行</p>
                           <p>推迟清理操作（例如数据类型迁移）可确保生产数据库和应用程序在实际迁移停机时间窗口之前不受影响。</p>
                        </li>
                     </ul>
                     <p>此版本的Unicode数据库迁移助手对于可以转换的数据库有一些限制。特别是，它不会在数据字典中转换具有某些类型的可转换数据的数据库。可以使用导出/导入迁移方法来克服这些限制。</p>
                     <p>在当前数据库版本中，DMU安装在<code class="codeph">$ORACLE_HOME/dmu</code>目录下。
                     </p>
                     <div class="infoboxnotealso" id="GUID-DEE399F7-315A-48F5-B1BE-CF4E44E3C2E8__GUID-4070BBE6-B2E0-4C36-98FD-42995EB89D8A">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/nlspg&amp;id=DUMAG113" target="_blank"><span class="italic">适用于Unicode的Oracle数据库迁移助手指南</span></a></p>
                     </div>
                  </div>
               </div><a id="NLSPG468"></a><div class="props_rev_3"><a id="GUID-75E21F87-13EA-4319-8448-73B2A1CB564B" name="GUID-75E21F87-13EA-4319-8448-73B2A1CB564B"></a><h4 id="NLSPG-GUID-75E21F87-13EA-4319-8448-73B2A1CB564B" class="sect4"><span class="enumeration_section">11.2.2</span>使用完全导出和导入迁移字符数据</h4>
                  <div>
                     <p>完全导出和导入也可用于将数据库转换为新的字符集。由于必须设置单独的目标实例，因此可能更耗时且占用资源。如果您计划将数据迁移到非强制阻止的非Unicode字符集，则可以使用DMU在数据库中查找无效的字符表示问题，并使用导出和导入进行数据转换。请注意，如果迁移不是Unicode，则DMU将无法正确识别数据扩展问题（列和数据类型限制违规）。它也不会识别源数据库字符集中存在但在非Unicode目标字符集中不存在的字符。</p>
                     <div class="infoboxnotealso" id="GUID-75E21F87-13EA-4319-8448-73B2A1CB564B__GUID-76975F25-7A71-4C19-8C5B-B950460D989F">
                        <p class="notep1">也可以看看：</p>
                        <p>有关导出和导入实用<a href="../sutil/oracle-data-pump-overview.html#SUTIL-GUID-17FAE261-0972-4220-A2E4-44D479F519D4" target="_blank"><span class="italic">程序</span></a>的详细信息，请参见<a href="../sutil/oracle-data-pump-overview.html#SUTIL-GUID-17FAE261-0972-4220-A2E4-44D479F519D4" target="_blank"><span class="italic">Oracle数据库实用</span></a>程序</p>
                     </div>
                  </div>
               </div>
            </div><a id="NLSPG980"></a><div class="props_rev_3"><a id="GUID-5F2F37FD-D4B4-4E30-A81F-B52C6BF0DA13" name="GUID-5F2F37FD-D4B4-4E30-A81F-B52C6BF0DA13"></a><h3 id="NLSPG-GUID-5F2F37FD-D4B4-4E30-A81F-B52C6BF0DA13" class="sect3"><span class="enumeration_section">11.3</span>修复数据库字符集元数据</h3>
               <div>
                  <div class="section">
                     <p>如果您的数据库处于通常称为传递配置的位置，其中客户端参数集（通常通过<code class="codeph">NLS_LANG</code>客户端设置）定义为等于数据库字符集，则可以存储数据库中的字符数据在声明的数据库字符集的不同字符集中。在此方案中，建议的解决方案是使用DMU假定的数据库字符集功能将数据库迁移到Unicode，以指示数据的实际字符集。如果由于业务或技术限制而无法立即迁移到Unicode，则至少需要更正数据库字符集声明以匹配数据库内容。
                     </p>
                     <p>使用适用于Unicode版本1.2的数据库迁移助手，您可以使用<code class="codeph">CSREPAIR</code>脚本在这种情况下修复数据库字符集元数据。<code class="codeph">CSREPAIR</code>脚本与DMU客户端一起使用并访问DMU存储库。只有在DMU执行完整数据库扫描后，才能将数据库字符集声明更改为数据的真实字符集，方法是将“假定数据库字符集”属性设置为目标字符集，并且不报告任何无效表示问题，它验证数据库中的所有现有数据是否根据假定的数据库字符集定义。请注意， <code class="codeph">CSREPAIR</code>仅更改数据字典元数据中的数据库字符集声明，并且不转换任何数据库数据。
                     </p>
                     <p>您可以在DMU安装的<code class="codeph">admin</code>子目录下找到<code class="codeph">CSREPAIR</code>脚本。使用<code class="codeph">CSREPAIR</code>脚本时的要求是：</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li><span>必须首先在DMU中执行成功的完整数据库扫描，并将“假定数据库字符集”属性设置为数据的实际字符集。在这种情况下，假定的数据库字符集必须与当前数据库字符集不同，否则不会执行任何操作。如果DMU报告存在无效数据，则<code class="codeph">CSREPAIR</code>脚本将不会继续。但是，如果扫描中存在无变化或可转换数据，它将继续进行。</span></li>
                     <li><span>假定数据库字符集中的目标字符集必须是US7ASCII的二进制超集。</span></li>
                     <li><span>仅允许从单字节到单字节字符集或多字节到多字节字符集的修复，因为不会尝试转换<code class="codeph">CLOB</code>数据。</span></li>
                     <li><span>如果在列级别设置假定字符集，则该值必须与假定的数据库字符集相同。否则， <code class="codeph">CSREPAIR</code>将无法运行。</span></li>
                     <li><span>您必须具有<code class="codeph">SYSDBA</code>权限才能运行<code class="codeph">CSREPAIR</code> 。</span></li>
                  </ol>
               </div><a id="NLSPG981"></a><div class="props_rev_3"><a id="GUID-43495C8E-FD91-4F9E-BA85-27BB696533F9" name="GUID-43495C8E-FD91-4F9E-BA85-27BB696533F9"></a><h4 id="NLSPG-GUID-43495C8E-FD91-4F9E-BA85-27BB696533F9" class="sect4"><span class="enumeration_section">11.3.1</span>示例：使用CSREPAIR</h4>
                  <div>
                     <div class="section">
                        <p>典型示例是通过直通配置将WE8MSWIN1252数据存储在WE8ISO8859P1数据库中。要更正从WE8ISO8859P1到WE8MSWIN1252的数据库字符集，请执行以下步骤：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>设置DMU并连接到目标WE8ISO8859P1数据库。</span></li>
                        <li class="stepexpand"><span>打开DMU中的“数据库属性”选项卡。</span></li>
                        <li class="stepexpand"><span>将Assumed Database Character Set属性设置为WE8MSWIN1252。</span></li>
                        <li class="stepexpand"><span>使用DMU执行完整数据库扫描。</span></li>
                        <li class="stepexpand"><span>打开数据库扫描报告，确认“无效表示”类别下没有报告数据。</span></li>
                        <li class="stepexpand"><span>退出DMU客户端。</span></li>
                        <li class="stepexpand"><span>启动SQL * Plus实用程序并以具有<code class="codeph">SYSDBA</code>权限的用户身份进行连接。</span></li>
                        <li class="stepexpand"><span>运行<code class="codeph">CSREPAIR</code>脚本：</span><div>
                              <p><code class="codeph">SQL&gt; @@ CSREPAIR.PLB</code></p>
                              <p>完成后，您应该收到消息：</p>
                              <p>数据库字符集已成功更改为WE8MSWIN1252。您必须立即重新启动数据库。</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>关闭并重新启动数据库。</span></li>
                     </ol>
                  </div>
               </div>
            </div><a id="NLSPG982"></a><div class="props_rev_3"><a id="GUID-56D71786-F68F-496F-97B2-E3412B93E13E" name="GUID-56D71786-F68F-496F-97B2-E3412B93E13E"></a><h3 id="NLSPG-GUID-56D71786-F68F-496F-97B2-E3412B93E13E" class="sect3"><span class="enumeration_section">11.4</span>语言和字符集文件扫描程序</h3>
               <div>
                  <p>语言和<a id="d85035e1648" class="indexterm-anchor"></a><a id="d85035e1650" class="indexterm-anchor"></a><a id="d85035e1652" class="indexterm-anchor"></a>字符集文件扫描程序（ <code class="codeph">LCSSCAN</code> ）是一种基于统计的高性能实用程序，用于确定未知文件文本的语言和字符集。它可以自动识别各种语言和字符集对。对于每个文本，语言和字符集检测引擎设置一系列概率，每个概率对应于语言和字符集对。最具统计可能性的对识别主导语言和字符集。
                  </p>
                  <p>文本的纯度会影响语言和字符集检测的准确性。理想的情况是单一语言的文学文本，没有拼写或语法错误。这些类型的文本可能需要100个字符或更多数据，并且可以以非常高的置信度返回结果。另一方面，一些技术文档在被识别之前可能需要更长的段。包含多种语言或字符集或文本（如地址，电话号码或编程语言代码）的文档可能会产生不良结果。例如，如果文档同时嵌入了法语和德语，则可以统计地减少猜测任一语言的准确性。纯文本和HTML文件都被接受。如果格式已知，则应设置<code class="codeph">FORMAT</code>参数以提高准确性。
                  </p>
                  <p>本节包括以下主题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="character-set-migration.html#GUID-989EAEDA-E366-48B3-999B-F0B49EEC7B26">LCSSCAN命令的语法</a></p>
                     </li>
                     <li>
                        <p><a href="character-set-migration.html#GUID-DEEAE2C6-DD53-4E52-8EE0-1518B4B7A148">示例：使用LCSSCAN命令</a></p>
                     </li>
                     <li>
                        <p><a href="character-set-migration.html#GUID-D4DD9AE0-5096-4946-B198-EC12BBB7209D">获取语言和字符集文件扫描程序的命令行帮助</a></p>
                     </li>
                     <li>
                        <p><a href="character-set-migration.html#GUID-99DA1573-0D35-44AD-B178-0AD9724975AD">支持的语言和字符集</a></p>
                     </li>
                     <li>
                        <p><a href="character-set-migration.html#GUID-02258EFA-4F3A-4550-AE9A-EA3EF1F76477">LCSSCAN错误消息</a></p>
                     </li>
                  </ul>
               </div><a id="NLSPG984"></a><a id="NLSPG985"></a><a id="NLSPG986"></a><a id="NLSPG987"></a><a id="NLSPG988"></a><a id="NLSPG983"></a><div class="props_rev_3"><a id="GUID-989EAEDA-E366-48B3-999B-F0B49EEC7B26" name="GUID-989EAEDA-E366-48B3-999B-F0B49EEC7B26"></a><h4 id="NLSPG-GUID-989EAEDA-E366-48B3-999B-F0B49EEC7B26" class="sect4"><span class="enumeration_section">11.4.1</span> LCSSCAN命令的语法</h4>
                  <div>
                     <div class="section">
                        <p>使用<code class="codeph">LCSSCAN</code>命令启动语言和字符集文件扫描程序。其语法如下：</p><pre class="oac_no_warn" dir="ltr">LCSSCAN [RESULTS = <span class="italic">number</span> ] [FORMAT = <span class="italic">file_type</span> ] [BEGIN = <span class="italic">number</span> ] [END = <span class="italic">number</span> ] FILE = <span class="italic">file_name</span>
</pre><p>参数将在本节的其余部分中介绍。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-989EAEDA-E366-48B3-999B-F0B49EEC7B26__GUID-6EAD44DF-557D-4D8C-BD68-AE1F96EB4B71">结果</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>该<a id="d85035e1800" class="indexterm-anchor"></a> <code class="codeph">RESULTS</code>参数是可选的。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-989EAEDA-E366-48B3-999B-F0B49EEC7B26__GUID-18AACD93-8345-4E44-BAB5-56B1E6C8B3AA">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="This table describes the properties of the RESULTS parameter." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="28%" id="d85035e1815">属性</th>
                                 <th align="left" valign="bottom" width="72%" id="d85035e1818">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="28%" id="d85035e1823" headers="d85035e1815 ">
                                    <p><span class="bold">默认值</span></p>
                                 </td>
                                 <td align="left" valign="top" width="72%" headers="d85035e1823 d85035e1818 ">
                                    <p><code class="codeph">1</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="28%" id="d85035e1832" headers="d85035e1815 ">
                                    <p><span class="bold">最低价值</span></p>
                                 </td>
                                 <td align="left" valign="top" width="72%" headers="d85035e1832 d85035e1818 ">
                                    <p><code class="codeph">1</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="28%" id="d85035e1841" headers="d85035e1815 ">
                                    <p><span class="bold">最大价值</span></p>
                                 </td>
                                 <td align="left" valign="top" width="72%" headers="d85035e1841 d85035e1818 ">
                                    <p><code class="codeph">3</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="28%" id="d85035e1850" headers="d85035e1815 ">
                                    <p><span class="bold">目的</span></p>
                                 </td>
                                 <td align="left" valign="top" width="72%" headers="d85035e1850 d85035e1818 ">
                                    <p>返回的语言和字符集对的数量。它们按概率顺序列出。第一种选择的比较权重无法量化。此参数的建议值是默认值<code class="codeph">1</code> 。
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-989EAEDA-E366-48B3-999B-F0B49EEC7B26__GUID-F5D1F3BE-4BE8-4FF8-B831-9414E5C8B51D">格式</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><code class="codeph">FORMAT</code>参数是可选的。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-989EAEDA-E366-48B3-999B-F0B49EEC7B26__GUID-A5F25753-0E82-43EE-A788-EE5BA6AACD2F">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="This table describes the properties of the FORMAT parameter." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="24%" id="d85035e1877">属性</th>
                                 <th align="left" valign="bottom" width="76%" id="d85035e1880">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d85035e1885" headers="d85035e1877 ">
                                    <p><span class="bold">默认值</span></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d85035e1885 d85035e1880 ">
                                    <p><code class="codeph">文本</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d85035e1894" headers="d85035e1877 ">
                                    <p><span class="bold">目的</span></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d85035e1894 d85035e1880 ">
                                    <p>此参数标识要扫描的文件类型。可能的值是<code class="codeph">html</code> ， <code class="codeph">text</code>和<code class="codeph">auto</code> 。
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-989EAEDA-E366-48B3-999B-F0B49EEC7B26__GUID-ECC92F2B-D005-49B2-8E52-67231A20EF00">开始</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>该<a id="d85035e1916" class="indexterm-anchor"></a> <code class="codeph">BEGIN</code>参数是可选的。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-989EAEDA-E366-48B3-999B-F0B49EEC7B26__GUID-46324B91-6DC2-4B8C-9F49-E3E56B108FF8">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="This table describes the properties of the BEGIN parameter." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="28%" id="d85035e1931">属性</th>
                                 <th align="left" valign="bottom" width="72%" id="d85035e1934">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="28%" id="d85035e1939" headers="d85035e1931 ">
                                    <p><span class="bold">默认值</span></p>
                                 </td>
                                 <td align="left" valign="top" width="72%" headers="d85035e1939 d85035e1934 ">
                                    <p><code class="codeph">1</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="28%" id="d85035e1948" headers="d85035e1931 ">
                                    <p><span class="bold">最低价值</span></p>
                                 </td>
                                 <td align="left" valign="top" width="72%" headers="d85035e1948 d85035e1934 ">
                                    <p><code class="codeph">1</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="28%" id="d85035e1957" headers="d85035e1931 ">
                                    <p><span class="bold">最大价值</span></p>
                                 </td>
                                 <td align="left" valign="top" width="72%" headers="d85035e1957 d85035e1934 ">
                                    <p>文件中的字节数</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="28%" id="d85035e1965" headers="d85035e1931 ">
                                    <p><span class="bold">目的</span></p>
                                 </td>
                                 <td align="left" valign="top" width="72%" headers="d85035e1965 d85035e1934 ">
                                    <p><code class="codeph">LCSSCAN</code>开始扫描过程的输入文件的字节。默认值是输入文件的第一个字节。
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-989EAEDA-E366-48B3-999B-F0B49EEC7B26__GUID-89187DA2-5D79-41D1-9832-07170FBB2DAE">结束</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>该<a id="d85035e1982" class="indexterm-anchor"></a> <code class="codeph">END</code>参数是可选的。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-989EAEDA-E366-48B3-999B-F0B49EEC7B26__GUID-FB91296D-9E65-4B75-82DB-FB96D58D342B">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="This table describes the properties of the END parameter." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="28%" id="d85035e1998">属性</th>
                                 <th align="left" valign="bottom" width="72%" id="d85035e2001">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="28%" id="d85035e2006" headers="d85035e1998 ">
                                    <p><span class="bold">默认值</span></p>
                                 </td>
                                 <td align="left" valign="top" width="72%" headers="d85035e2006 d85035e2001 ">
                                    <p>文件结束</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="28%" id="d85035e2014" headers="d85035e1998 ">
                                    <p><span class="bold">最低价值</span></p>
                                 </td>
                                 <td align="left" valign="top" width="72%" headers="d85035e2014 d85035e2001 ">
                                    <p><code class="codeph">3</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="28%" id="d85035e2023" headers="d85035e1998 ">
                                    <p><span class="bold">最大价值</span></p>
                                 </td>
                                 <td align="left" valign="top" width="72%" headers="d85035e2023 d85035e2001 ">
                                    <p>文件中的字节数</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="28%" id="d85035e2031" headers="d85035e1998 ">
                                    <p><span class="bold">目的</span></p>
                                 </td>
                                 <td align="left" valign="top" width="72%" headers="d85035e2031 d85035e2001 ">
                                    <p><code class="codeph">LCSSCAN</code>扫描的输入文件的最后一个字节。默认值是输入文件的最后一个字节。
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-989EAEDA-E366-48B3-999B-F0B49EEC7B26__GUID-547313C6-F53E-41D2-AFCC-935C0477A523">文件</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>该<a id="d85035e2047" class="indexterm-anchor"></a> <code class="codeph">FILE</code>参数是必需的。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-989EAEDA-E366-48B3-999B-F0B49EEC7B26__GUID-12D00DEF-164E-4E04-97C8-D11BAEE6A400">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="This table describes the properties of the FILE parameter." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="28%" id="d85035e2063">属性</th>
                                 <th align="left" valign="bottom" width="72%" id="d85035e2066">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="28%" id="d85035e2071" headers="d85035e2063 ">
                                    <p><span class="bold">默认值</span></p>
                                 </td>
                                 <td align="left" valign="top" width="72%" headers="d85035e2071 d85035e2066 ">
                                    <p>没有</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="28%" id="d85035e2079" headers="d85035e2063 ">
                                    <p><span class="bold">目的</span></p>
                                 </td>
                                 <td align="left" valign="top" width="72%" headers="d85035e2079 d85035e2066 ">
                                    <p>指定要扫描的文本文件的名称</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
               </div><a id="NLSPG990"></a><a id="NLSPG991"></a><a id="NLSPG992"></a><a id="NLSPG993"></a><a id="NLSPG994"></a><a id="NLSPG989"></a><div class="props_rev_3"><a id="GUID-DEEAE2C6-DD53-4E52-8EE0-1518B4B7A148" name="GUID-DEEAE2C6-DD53-4E52-8EE0-1518B4B7A148"></a><h4 id="NLSPG-GUID-DEEAE2C6-DD53-4E52-8EE0-1518B4B7A148" class="sect4"><span class="enumeration_section">11.4.2</span>示例：使用LCSSCAN命令</h4>
                  <div>
                     <div class="example" id="GUID-DEEAE2C6-DD53-4E52-8EE0-1518B4B7A148__GUID-B8B16A3C-061B-4754-BF29-971D842638A7">
                        <p class="titleinexample">示例11-1仅在LCSSCAN命令中指定文件名</p><pre class="oac_no_warn" dir="ltr">LCSSCAN FILE = example.txt</pre><p>在此示例中，扫描整个<code class="codeph">example.txt</code>文件，因为尚未指定<code class="codeph">BEGIN</code>和<code class="codeph">END</code>参数。将返回一个语言和字符集对，因为尚未指定<code class="codeph">RESULTS</code>参数。
                        </p>
                     </div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-DEEAE2C6-DD53-4E52-8EE0-1518B4B7A148__GUID-8D6AAC29-D29F-4116-9B0D-B1CC0FD37C29">
                        <p class="titleinexample">示例11-2将格式指定为HTML</p><pre class="oac_no_warn" dir="ltr">LCSSCAN FILE = example.html FORMAT = html</pre><p>在此示例中，扫描整个<code class="codeph">example.html</code>文件，因为尚未指定<code class="codeph">BEGIN</code>和<code class="codeph">END</code>参数。扫描将在扫描之前剥离HTML标记，因此结果更准确。将返回一个语言和字符集对，因为尚未指定<code class="codeph">RESULTS</code>参数。
                        </p>
                     </div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-DEEAE2C6-DD53-4E52-8EE0-1518B4B7A148__GUID-EBB00532-958E-4073-B759-BB6B496149C2">
                        <p class="titleinexample">例11-3为LCSSCAN指定RESULTS和BEGIN参数</p><pre class="oac_no_warn" dir="ltr">LCSSCAN结果= 2 BEGIN = 50 FILE = example.txt</pre><p>扫描过程从文件的第50个字节开始，并继续到文件的末尾。将返回两个语言和字符集对。</p>
                     </div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-DEEAE2C6-DD53-4E52-8EE0-1518B4B7A148__GUID-F11759EE-70F6-4057-BB2B-0E9041260942">
                        <p class="titleinexample">例11-4为LCSSCAN指定RESULTS和END参数</p><pre class="oac_no_warn" dir="ltr">LCSSCAN RESULTS = 3 END = 100 FILE = example.txt</pre><p>扫描过程从文件的开头开始，到文件的第100个字节结束。将返回三种语言和字符集对。</p>
                     </div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-DEEAE2C6-DD53-4E52-8EE0-1518B4B7A148__GUID-5BEAA436-DEB6-4938-BE9F-3FBAEC187232">
                        <p class="titleinexample">例11-5为LCSSCAN指定BEGIN和END参数</p><pre class="oac_no_warn" dir="ltr">LCSSCAN BEGIN = 50 END = 100 FILE = example.txt</pre><p>扫描过程从第50个字节开始，到文件的第100个字节结束。将返回一个语言和字符集对，因为尚未指定<code class="codeph">RESULTS</code>参数。
                        </p>
                     </div>
                     <!-- class="example" -->
                  </div>
               </div><a id="NLSPG995"></a><div class="props_rev_3"><a id="GUID-D4DD9AE0-5096-4946-B198-EC12BBB7209D" name="GUID-D4DD9AE0-5096-4946-B198-EC12BBB7209D"></a><h4 id="NLSPG-GUID-D4DD9AE0-5096-4946-B198-EC12BBB7209D" class="sect4"><span class="enumeration_section">11.4.3</span>获取语言和字符集文件扫描程序的命令行帮助</h4>
                  <div>
                     <div class="section">
                        <p>至<a id="d85035e2308" class="indexterm-anchor"></a><a id="d85035e2312" class="indexterm-anchor"></a>获取语言和字符集文件扫描程序参数的摘要，输入以下命令：</p><pre class="oac_no_warn" dir="ltr">LCSSCAN HELP = y</pre><p>结果输出显示语言和字符集扫描程序参数的摘要。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="NLSPG996"></a><div class="props_rev_3"><a id="GUID-99DA1573-0D35-44AD-B178-0AD9724975AD" name="GUID-99DA1573-0D35-44AD-B178-0AD9724975AD"></a><h4 id="NLSPG-GUID-99DA1573-0D35-44AD-B178-0AD9724975AD" class="sect4"><span class="enumeration_section">11.4.4</span>支持的语言和字符集</h4>
                  <div>
                     <p>语言和字符集文件扫描程序支持每种语言的多个字符集。</p>
                     <p>当语言的二进制值与具有子集/超集关系的两个或多个编码匹配时，将返回子集字符集。例如，如果语言是德语并且所有字符都是7位，则返回US7ASCII而不是WE8MSWIN1252，WE8ISO8859P15或WE8ISO8859P1。</p>
                     <p>当字符集确定为UTF-8时，默认情况下返回Oracle字符集UTF8，除非在文本中检测到4字节字符（增补字符）。如果检测到4字节字符，则将字符集报告为AL32UTF8。</p>
                     <div class="infoboxnotealso" id="GUID-99DA1573-0D35-44AD-B178-0AD9724975AD__GUID-07CE4340-B53E-4CED-9242-E9283C84C728">
                        <p class="notep1">也可以看看：</p>
                        <p><span class="q">“ <a href="appendix-A-locale-data.html#GUID-20E0601E-18D9-474C-868D-1DA9A29A1D26">语言和字符集检测支持</a> ”，</span>用于支持的语言和字符集列表</p>
                     </div>
                  </div>
               </div><a id="NLSPG997"></a><div class="props_rev_3"><a id="GUID-02258EFA-4F3A-4550-AE9A-EA3EF1F76477" name="GUID-02258EFA-4F3A-4550-AE9A-EA3EF1F76477"></a><h4 id="NLSPG-GUID-02258EFA-4F3A-4550-AE9A-EA3EF1F76477" class="sect4"><span class="enumeration_section">11.4.5</span> LCSSCAN错误消息</h4>
                  <div>
                     <div class="section">
                        <dl>
                           <dt class="dlterm"><a name="GUID-02258EFA-4F3A-4550-AE9A-EA3EF1F76477__GUID-5FBE744A-E01D-405B-9BC9-0399829AB494"><!-- --></a> LCD-00001发生未知错误。
                           </dt>
                           <dd>
                              <p><span class="keyword">原因：</span>访问内部结构时出错。
                              </p>
                           </dd>
                           <dd class="ddexpand">
                              <p><span class="keyword">操作：</span>将此错误报告给Oracle支持。
                              </p>
                           </dd>
                           <dd class="ddexpand">
                              <p> </p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-02258EFA-4F3A-4550-AE9A-EA3EF1F76477__GUID-5A49DEC6-5B92-4711-A6BD-CCF9C41A31A5"><!-- --></a> LCD-00002无法加载NLS数据。
                           </dt>
                           <dd>
                              <p><span class="keyword">原因：</span>访问<code class="codeph">$ORACLE_HOME/nls/data</code>出错。
                              </p>
                           </dd>
                           <dd class="ddexpand">
                              <p><span class="keyword">操作：</span>检查以确保<code class="codeph">$ORACLE_HOME/nls/data</code>存在且可访问。如果没有找到，请检查<code class="codeph">$ORA_NLS10</code>目录。
                              </p>
                           </dd>
                           <dd class="ddexpand">
                              <p> </p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-02258EFA-4F3A-4550-AE9A-EA3EF1F76477__GUID-5ABA23BA-4B83-498A-A891-2C07B2D6092F"><!-- --></a> LCD-00003读取配置文件时发生错误。
                           </dt>
                           <dd>
                              <p><span class="keyword">原因：</span>访问<code class="codeph">$ORACLE_HOME/nls/data</code>出错。
                              </p>
                           </dd>
                           <dd class="ddexpand">
                              <p><span class="keyword">操作：</span>检查以确保<code class="codeph">$ORACLE_HOME/nls/data</code>存在且可访问。如果没有找到，请检查<code class="codeph">$ORA_NLS10</code>目录。
                              </p>
                           </dd>
                           <dd class="ddexpand">
                              <p> </p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-02258EFA-4F3A-4550-AE9A-EA3EF1F76477__GUID-46D1EC26-AFC5-4675-9591-2338DA307FF2"><!-- --></a> LCD-00004开始或结束偏移设置不正确。
                           </dt>
                           <dd>
                              <p><span class="keyword">原因：</span>开始和结束偏移必须是大于0的整数。
                              </p>
                           </dd>
                           <dd class="ddexpand">
                              <p><span class="keyword">操作：</span>将偏移更改为正数。
                              </p>
                           </dd>
                           <dd class="ddexpand">
                              <p> </p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-02258EFA-4F3A-4550-AE9A-EA3EF1F76477__GUID-BA7783EB-8B2B-491A-96DD-46D2781A7940"><!-- --></a> LCD-00005结束偏移设置不正确。
                           </dt>
                           <dd>
                              <p><span class="keyword">原因：</span>结束偏移量必须大于起始偏移量。
                              </p>
                           </dd>
                           <dd class="ddexpand">
                              <p><span class="keyword">操作：</span>将结束偏移更改为大于起始偏移。
                              </p>
                           </dd>
                           <dd class="ddexpand">
                              <p> </p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-02258EFA-4F3A-4550-AE9A-EA3EF1F76477__GUID-2E497639-1AE4-460D-B342-56576309D442"><!-- --></a> LCD-00006打开输入文件时出错。
                           </dt>
                           <dd>
                              <p><span class="keyword">原因：</span>找不到文件或无法打开文件。
                              </p>
                           </dd>
                           <dd class="ddexpand">
                              <p><span class="keyword">操作：</span>检查指定文件的名称。确保指定了完整的文件名，并且该文件未在使用中。
                              </p>
                           </dd>
                           <dd class="ddexpand">
                              <p> </p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-02258EFA-4F3A-4550-AE9A-EA3EF1F76477__GUID-8A75F87F-94B5-43DD-96F0-00B32D98CC28"><!-- --></a> LCD-00007初始偏移设置不正确。
                           </dt>
                           <dd>
                              <p><span class="keyword">原因：</span>起始偏移量必须小于文件中的字节数。
                              </p>
                           </dd>
                           <dd class="ddexpand">
                              <p><span class="keyword">操作：</span>检查文件的大小并指定较小的起始偏移量。
                              </p>
                           </dd>
                           <dd class="ddexpand">
                              <p> </p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-02258EFA-4F3A-4550-AE9A-EA3EF1F76477__GUID-9C47FBF1-99AD-4BDC-BFA8-112053484B9A"><!-- --></a> LCD-00008未返回任何结果。
                           </dt>
                           <dd>
                              <p><span class="keyword">原因：</span>输入的文本不足以产生结果。
                              </p>
                           </dd>
                           <dd class="ddexpand">
                              <p><span class="keyword">行动：</span>需要输入更大的文本样本以产生可靠的结果。
                              </p>
                           </dd>
                        </dl>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>