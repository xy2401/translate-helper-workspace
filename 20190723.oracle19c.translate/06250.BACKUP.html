<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>BACKUP</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Backup and Recovery Reference"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Backup and Recovery Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-backup-and-recovery-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-09T19:31:58-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2003, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96242-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="ALLOCATE-CHANNEL-FOR-MAINTENANCE.html" title="Previous" type="text/html"></link>
      <link rel="next" href="CATALOG.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Backup and Recovery Reference"></meta>
    <meta name="dcterms.isVersionOf" content="RCMRF"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="ALLOCATE-CHANNEL-FOR-MAINTENANCE.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="CATALOG.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">备份和恢复参考</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="rman-commands-at-sign-to-quit.html" property="item" typeof="WebPage"><span property="name">RMAN命令：@（at符号）到QUIT</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">BACKUP</li>
            </ol>
            <a id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50" name="GUID-73642FF2-43C5-48B2-9969-99001C52EB50"></a><a id="RCMRF90006"></a><a id="RCMRF90591"></a><a id="RCMRF90007"></a><a id="RCMRF90008"></a><a id="RCMRF90009"></a><a id="RCMRF90592"></a><a id="RCMRF90010"></a><a id="RCMRF90593"></a><a id="RCMRF90011"></a><a id="RCMRF90594"></a><a id="RCMRF90595"></a><a id="RCMRF90012"></a><a id="RCMRF90013"></a><a id="RCMRF90014"></a><a id="RCMRF90015"></a><a id="RCMRF90016"></a><a id="RCMRF90017"></a><a id="RCMRF90018"></a><a id="RCMRF90019"></a><a id="RCMRF90020"></a><a id="RCMRF90021"></a><a id="RCMRF90023"></a><a id="RCMRF90024"></a><a id="RCMRF90025"></a><a id="RCMRF90026"></a><a id="RCMRF90027"></a><a id="RCMRF90028"></a><a id="RCMRF90029"></a><a id="RCMRF90030"></a><a id="RCMRF90031"></a><a id="RCMRF90032"></a><a id="RCMRF90033"></a><a id="RCMRF90035"></a><a id="RCMRF90036"></a><a id="RCMRF90596"></a><a id="RCMRF90037"></a><a id="RCMRF90038"></a><a id="RCMRF90039"></a><a id="RCMRF90040"></a><a id="RCMRF90041"></a><a id="RCMRF90042"></a><a id="RCMRF90043"></a><a id="RCMRF90044"></a><a id="RCMRF90045"></a><a id="RCMRF90046"></a><a id="RCMRF90047"></a><a id="RCMRF90048"></a><a id="RCMRF90049"></a><a id="RCMRF90050"></a><a id="RCMRF90513"></a><a id="RCMRF90597"></a><a id="RCMRF90598"></a><a id="RCMRF90599"></a><a id="RCMRF90600"></a><a id="RCMRF90601"></a><a id="RCMRF90602"></a><a id="RCMRF90603"></a><a id="RCMRF90604"></a><a id="RCMRF90605"></a><a id="RCMRF107"></a>
            
            <h2 id="RCMRF-GUID-73642FF2-43C5-48B2-9969-99001C52EB50" class="sect2"><span class="enumeration_section">2.6</span>备份</h2>
         </header>
         <div class="ind">
            <div>
               <div class="section">
                  <p class="subhead1" id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__GUID-CF9C4837-9398-436A-9292-AFA420225215">目的</p>
                  <p>使用<code class="codeph" id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDDJJAJ">BACKUP</code>命令备份主数据库，备用数据库，表空间，数据文件（当前或副本），控制文件（当前或副本），服务器参数文件，归档重做日志文件或备份集。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__GUID-44A37349-D3F9-4F5E-A53E-7332F148169C">其他主题</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDBIAHI">先决条件</a></p>
                     </li>
                     <li>
                        <p><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDCBIDC">使用说明</a></p>
                     </li>
                     <li>
                        <p><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDIJGIJ">句法</a></p>
                     </li>
                     <li>
                        <p><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDCFGEI">语义</a></p>
                     </li>
                     <li>
                        <p><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDBGAJB">例子</a></p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDBIAHI">
                  <p class="subhead1" id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__GUID-0FAF9280-FA79-4166-B251-D2429A7DC637">先决条件</p>
                  <p>RMAN必须连接到目标数据库。请参阅<code class="codeph"><a href="CONNECT.html#GUID-64ECF1B8-4F70-413E-BEBE-1D5E8CD48B67">CONNECT</a></code>和<code class="codeph"><a href="RMAN.html#GUID-E5514ACB-59F6-4DB0-B4DB-64DF4C87CDE7">RMAN</a></code>命令以了解如何以<code class="codeph">TARGET</code>身份连接到数据库。</p>
                  <p><span class="bold">数据库归档模式</span></p>
                  <p><a id="d12121e328" class="indexterm-anchor"></a><a id="d12121e330" class="indexterm-anchor"></a><a id="d12121e334" class="indexterm-anchor"></a><a id="d12121e336" class="indexterm-anchor"></a><a id="d12121e338" class="indexterm-anchor"></a><a id="d12121e340" class="indexterm-anchor"></a><a id="d12121e342" class="indexterm-anchor"></a>如果目标数据库处于<code class="codeph">ARCHIVELOG</code>模式，则必须使用当前控制文件挂载或打开数据库。数据库打开时进行的备份不一致。恢复不一致的备份后，必须应用重做日志文件才能使数据库保持一致。
                  </p>
                  <p>如果目标数据库处于<code class="codeph">NOARCHIVELOG</code>模式，则在进行备份时必须在一致关闭后装入数据库。如果使用<code class="codeph">NORMAL</code> ， <code class="codeph">IMMEDIATE</code>或<code class="codeph">TRANSACTIONAL</code>选项成功执行<code class="codeph">SHUTDOWN</code>命令，则关闭仅一致。在实例失败或<code class="codeph">SHUTDOWN ABORT</code>之后，您无法使用RMAN备份<code class="codeph">NOARCHIVELOG</code>数据库。</p>
                  <p id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__BGBBBHIB"><span class="bold">备份跨平台传输的数据</span><a id="d12121e375" class="indexterm-anchor"></a><a id="d12121e379" class="indexterm-anchor"></a></p>
                  <p>要创建将数据传输到另一个平台的备份集，目标数据库中的<code class="codeph">COMPATIBLE</code>参数必须为12.0.0或更高版本。
                  </p>
                  <p>要备份整个数据库以进行跨平台传输，源和目标平台必须使用相同的endian格式。源数据库必须以只读模式打开。</p>
                  <p>备份表空间以进行跨平台传输时，如果未使用<code class="codeph">ALLOW INCONSISTENT</code>子句，则表空间必须处于只读模式。
                  </p>
                  <p> </p>
                  <p><span class="bold">预备份备份</span></p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>必须在源CDB和目标CDB上将<code class="codeph">COMPATIBLE</code>初始化参数设置为18.0.0或更高。</p>
                     </li>
                     <li>
                        <p>源数据库必须处于<code class="codeph">ARCHIVELOG</code>模式。
                        </p>
                     </li>
                     <li>
                        <p>源数据库必须处于读写模式。</p>
                     </li>
                     <li>
                        <p>目标数据库必须可以访问包含预制备份备份的备份位置。</p>
                     </li>
                  </ul>
                  <p><span class="bold">备份媒体</span></p>
                  <p>RMAN只能将文件备份到有效的媒体上。如果指定<code class="codeph">DEVICE TYPE DISK</code> ，则RMAN会对随机访问磁盘进行备份。您可以在任何可以存储数据文件的设备上进行备份。如果语句<code class="codeph">CREATE TABLESPACE</code> <span class="italic"><code class="codeph">tablespace_name</code></span> <code class="codeph">DATAFILE</code> <code class="codeph">'</code> <span class="italic"><code class="codeph">filename</code></span> <code class="codeph">'</code>的作品，那么<code class="codeph">'</code> <span class="italic"><code class="codeph">filename</code></span> <code class="codeph">'</code>是一个有效的备份路径名。如果指定<code class="codeph">DEVICE TYPE sbt</code> ，则可以将文件备份到媒体管理器支持的任何媒体。
                  </p>
                  <p><a id="d12121e459" class="indexterm-anchor"></a><a id="d12121e461" class="indexterm-anchor"></a><a id="d12121e463" class="indexterm-anchor"></a><a id="d12121e465" class="indexterm-anchor"></a>将Oracle数据库文件备份到磁盘时，文件的逻辑块大小必须是目标设备的物理块大小的偶数倍。例如，块大小为2 KB的磁盘设备只能用作备份Oracle文件的目标，其逻辑块大小为2 KB，4 KB，6 KB等。实际上，大多数磁盘驱动器的物理块大小为512字节，因此此限制很少影响备份。但是，使用<code class="codeph">BACKUP ...时可能会遇到此限制<code class="codeph">BACKUP ...DEVICE TYPE DISK</code>将数据库备份到可写CD或DVD，或其他具有较大物理块大小的设备。
                  </p>
                  <p><span class="bold">通道</span></p>
                  <p>如果没有为指定的设备类型配置自动通道，则必须为每个<code class="codeph">BACKUP</code>执行手动分配通道。如果未分配手动通道，则RMAN使用通过<code class="codeph"><a href="CONFIGURE.html#GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A">CONFIGURE</a></code>命令设置的默认通道。RMAN预先配置了<code class="codeph">DISK</code>通道，但没有预先配置的<code class="codeph">sbt</code>通道。
                  </p>
                  <div class="infoboxnote" id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__GUID-7F901989-E225-44CC-91DE-1F3F22320C60">
                     <p class="notep1">注意：</p>
                     <p>生产备份不支持使用磁盘测试API的备份。而是使用预配置的<code class="codeph">DISK</code>通道或手动分配<code class="codeph">DISK</code>通道。
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDCBIDC">
                  <p class="subhead1" id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__GUID-4BD6AC54-C4ED-48F9-A11D-E3955F69723C">使用说明</p>
                  <p><a id="d12121e503" class="indexterm-anchor"></a><a id="d12121e505" class="indexterm-anchor"></a><a id="d12121e507" class="indexterm-anchor"></a><a id="d12121e511" class="indexterm-anchor"></a><a id="d12121e515" class="indexterm-anchor"></a><a id="d12121e517" class="indexterm-anchor"></a><a id="d12121e521" class="indexterm-anchor"></a><a id="d12121e523" class="indexterm-anchor"></a> RMAN只能备份这些文件的数据文件，控制文件，服务器参数文件，归档重做日志文件和RMAN备份。RMAN无法备份其他与数据库相关的文件，如网络配置文件，密码文件，块更改跟踪文件以及Oracle主目录的内容。同样，Oracle数据库的某些功能（如外部表或<code class="codeph">BFILE</code>数据类型）将数据存储在上述列表中的文件之外。RMAN无法备份这些文件。
                  </p>
                  <p><a id="d12121e530" class="indexterm-anchor"></a><a id="d12121e532" class="indexterm-anchor"></a> RMAN将<code class="codeph">BACKUP</code>命令分解为多个独立的备份步骤。RMAN可以在为特定设备分配的任何信道上执行每个独立步骤。如果分配了多个通道，并且如果一个通道在备份步骤中出现故障或遇到问题，则RMAN会尝试在另一个通道上完成工作。当发生通道故障转移时，RMAN会在<code class="codeph">V$RMAN_OUTPUT</code>以及在交互式会话或日志文件的输出中报告消息。
                  </p>
                  <p><a id="d12121e544" class="indexterm-anchor"></a><a id="d12121e546" class="indexterm-anchor"></a><a id="d12121e550" class="indexterm-anchor"></a>只有在创建备份时使用<code class="codeph">FOR TRANSPORT</code>或<code class="codeph">TO PLATFORM</code>子句，才能将在一个平台上进行的RMAN备份传输到其他平台。
                  </p>
                  <p>在数据库迁移或升级之后，可以在先前版本的Oracle数据库中进行RMAN备份。有关此过程的信息，请参阅<a href="https://support.oracle.com/rs?type=doc&amp;id=790559.1" target="_blank"><code class="codeph">https://support.oracle.com/rs?type=doc&amp;id=790559.1</code></a> My Oracle Support说明790559.1。
                  </p>
                  <p><a id="d12121e567" class="indexterm-anchor"></a><a id="d12121e569" class="indexterm-anchor"></a><a id="d12121e573" class="indexterm-anchor"></a>如果您更改数据库的<code class="codeph">DB_NAME</code> ，而不是其DBID，则RMAN会将数据库备份与前一个<code class="codeph">DB_NAME</code>视为有资格恢复。
                  </p>
                  <p id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__BGBHABHH"><span class="bold">增量备份</span></p>
                  <p><a id="d12121e588" class="indexterm-anchor"></a><a id="d12121e590" class="indexterm-anchor"></a><a id="d12121e594" class="indexterm-anchor"></a><a id="d12121e596" class="indexterm-anchor"></a><a id="d12121e598" class="indexterm-anchor"></a>级别0的<code class="codeph">INCREMENTAL</code>备份将备份正在备份的数据文件中的所有数据块。级别0的增量备份在内容上与<code class="codeph"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDBDFGF">FULL</a></code>备份相同，但与完全备份不同，0级备份是增量备份策略的一部分。
                  </p>
                  <p>1级备份仅复制更改的块。1级增量备份是差异备份或<code class="codeph">CUMULATIVE</code>备份。如果累积，RMAN将备份自最近的0级备份以来更改的所有块。如果是差异，则RMAN会备份自最近的0级或1级增量备份以来更新的块。您可以将备用数据库的1级备份应用于主数据库的0级备份，还可以将主数据库的1级备份应用于备用数据库的0级备份。
                  </p>
                  <p>级别0的增量备份可以是备份集或映像副本，但级别1的增量备份只能是备份集。</p>
                  <p>尝试创建1级增量备份时，数据库会执行检查，以确保后续<code class="codeph"><a href="RECOVER.html#GUID-CA98040F-9865-4F4F-BAF2-91C518612E95">RECOVER</a></code>命令可以使用增量备份。执行的检查包括：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>必须为<code class="codeph">BACKUP</code>命令中的每个数据文件存在0级备份，作为增量策略的基本备份。0级备份的状态不能为<code class="codeph">UNAVAILABLE</code> 。如果不存在0级备份，则RMAN会自动进行0级备份。
                        </p>
                     </li>
                     <li>
                        <p>自级别0以来必须进行足够的增量备份并且可用，以便可以使用要创建的增量备份。</p>
                     </li>
                  </ul>
                  <div class="infoboxnote" id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__GUID-A53A4C1B-A188-4C29-BC1A-BC561D6702FA">
                     <p class="notep1">注意：</p>
                     <p>创建增量备份时，RMAN会将父级化身的备份视为有效。例如，假设您进行0级备份然后<code class="codeph">OPEN RESETLOGS</code> 。如果进行1级增量备份，则RMAN将备份自<code class="codeph">RESETLOGS</code>前级别0备份以来更改的所有块。进行1级备份时，如果当前或父数据库化身中没有0级可用，则RMAN仅进行新的0级备份。
                     </p>
                  </div>
                  <p><a id="d12121e648" class="indexterm-anchor"></a><a id="d12121e652" class="indexterm-anchor"></a><a id="d12121e656" class="indexterm-anchor"></a>您可以通过在主数据库或备用数据库上启用<span class="bold">块更改跟踪</span>来提高增量备份性能。在这种情况下，RMAN会记录块更改跟踪文件中哪些块已更改。
                  </p>
                  <p>更改跟踪文件维护位图，以标记备份之间数据文件的更改。数据库在每次备份之前执行位图切换。Oracle数据库自动管理更改跟踪文件中的空间，以保留涵盖最近8个备份的块更改数据。达到最多8位图后，最新的位图将被跟踪当前更改的位图覆盖。</p>
                  <p>第一级0增量备份扫描整个数据文件。后续增量备份使用块更改跟踪文件仅扫描自上次备份以来已标记为已更改的块。仅当增量备份基于块更改跟踪文件中最旧位图开始之后创建的父备份时，才能优化增量备份。</p>
                  <p>在开发增量备份策略时，请考虑8位图限制。例如，如果您进行0级数据库备份，然后进行7次差异增量备份，则块更改跟踪文件现在包含8个位图。如果随后进行累积级别1增量备份，则RMAN无法优化备份，因为与父级别0备份对应的位图将被跟踪当前更改的位图覆盖。</p>
                  <div class="infoboxnotealso" id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__GUID-680D7F8E-10F8-4C9A-A912-370E4E9009A9">
                     <p class="notep1">也可以看看：</p>
                     <p> 有关块更改跟踪的详细信息，请参见<a href="../bradv/backing-up-database.html#BRADV8125" target="_blank"><span class="italic">“Oracle数据库备份和恢复用户指南”</span></a></p>
                  </div>
                  <p><span class="bold">CDB和PDB的备份</span><a id="d12121e681" class="indexterm-anchor"></a><a id="d12121e685" class="indexterm-anchor"></a><a id="d12121e689" class="indexterm-anchor"></a><a id="d12121e693" class="indexterm-anchor"></a><a id="d12121e697" class="indexterm-anchor"></a><a id="d12121e699" class="indexterm-anchor"></a></p>
                  <p>RMAN使您可以备份整个CDB，根，一个或多个PDB以及PDB中的一个或多个表空间。备份可以是映像副本或备份集的形式。您还可以使用<code class="codeph">BACKUP</code>命令为跨平台数据传输创建备份集。
                  </p>
                  <p>有关在执行备份操作之前如何<span class="q"><a href="CONNECT.html#GUID-64ECF1B8-4F70-413E-BEBE-1D5E8CD48B67__BGBGAIGG">连接到CDB和PDB</a></span>的信息，请参阅<span class="q">“ <a href="CONNECT.html#GUID-64ECF1B8-4F70-413E-BEBE-1D5E8CD48B67__BGBGAIGG">连接到CDB和PDB</a> ”</span> 。
                  </p>
                  <div class="infoboxnotealso" id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__GUID-9C523144-C32A-406D-A497-9844BA6612F6">
                     <p class="notep1">也可以看看：</p>
                     <p>有关备份CDB，PDB和稀疏数据库的信息，请参见<a href="../bradv/backing-up-database.html#BRADV428" target="_blank"><span class="italic">“Oracle数据库备份和恢复用户指南”</span></a></p>
                  </div>
                  <p><span class="bold">稀疏数据库的备份</span></p>
                  <p>RMAN使您可以备份稀疏数据库。这可能包括备份稀疏数据文件，包含一些稀疏数据文件的表空间，包含一些稀疏数据文件的PDB，以及包含备份集或映像副本格式中的一些稀疏PDB的CDB。稀疏备份是一个RMAN对象，它包含来自其专用增量存储空间的稀疏数据文件的数据块。要执行稀疏备份，稀疏数据库的<code class="codeph">COMPATIBLE</code>初始化参数必须为12. 2或更高。
                  </p>
                  <p>在执行稀疏备份时，默认情况下，RMAN会在备份期间从其增量存储空间备份稀疏数据文件的数据块。它不备份后备数据文件中的逻辑数据块。稀疏数据库环境中的后备数据文件必须是只读的。</p>
                  <p>如果要在稀疏数据库上执行传统的完全备份或增量备份以备份本地和远程数据块，则可以选择使用<code class="codeph">FROM NONSPARSE</code>选项运行备份。
                  </p>
                  <p>对于<code class="codeph">COMPATIBLE</code>初始化参数小于12.2的数据库，RMAN继续对非稀疏模式下的稀疏数据库执行传统的备份和恢复操作。
                  </p>
                  <p id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDIHIGD"><span class="bold">备份集的加密</span></p>
                  <p><a id="d12121e744" class="indexterm-anchor"></a><a id="d12121e748" class="indexterm-anchor"></a><a id="d12121e752" class="indexterm-anchor"></a><a id="d12121e754" class="indexterm-anchor"></a><a id="d12121e758" class="indexterm-anchor"></a><a id="d12121e762" class="indexterm-anchor"></a><a id="d12121e764" class="indexterm-anchor"></a><a id="d12121e766" class="indexterm-anchor"></a> RMAN可以透明地加密写入备份集的数据，并在<code class="codeph">RESTORE</code>操作中需要时解密这些备份集。要在磁盘上创建加密备份，数据库必须使用高级安全性选项。要直接在磁带上创建加密备份，RMAN必须使用Oracle Secure Backup SBT界面，但不需要高级安全选项。RMAN发布了一个<a id="d12121e775" class="indexterm-anchor"></a><a id="d12121e777" class="indexterm-anchor"></a>如果您尝试使用Oracle Secure Backup以外的SBT库创建加密的RMAN备份，则会出现<code class="codeph">ORA-19916</code>错误。
                  </p>
                  <p><a id="d12121e785" class="indexterm-anchor"></a><a id="d12121e787" class="indexterm-anchor"></a><a id="d12121e789" class="indexterm-anchor"></a><a id="d12121e791" class="indexterm-anchor"></a><a id="d12121e793" class="indexterm-anchor"></a><a id="d12121e795" class="indexterm-anchor"></a><a id="d12121e797" class="indexterm-anchor"></a> RMAN可以使用几种不同的加密算法对备份进行加密，这些算法列在<code class="codeph">V$RMAN_ENCRYPTION_ALGORITHMS</code> 。 RMAN支持三种备份加密模式：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><span>透明加密</span> ，如果数据已在Oracle数据库中使用透明数据加密（TDE）保护，RMAN可以创建和恢复加密备份而无需特殊的DBA干预</p>
                     </li>
                     <li>
                        <p><span>基于密码的加密</span> ，在备份期间指定密码，并且必须提供相同的密码才能恢复备份</p>
                     </li>
                     <li>
                        <p><span>双模加密</span> ，可以使用透明加密或基于密码的加密创建备份，也可以根据Oracle软件密钥库或DBA在解密时提供的密码执行解密</p>
                     </li>
                  </ul>
                  <div class="infoboxnote" id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__GUID-E0B2269C-846E-447A-B049-AB3B8977E9B2">
                     <p class="notep1">注意：</p>
                     <p>基于密钥库的加密比基于密码的加密更安全，因为不涉及密码。仅在绝对必要时才使用基于密码的加密，因为备份必须是可传输的。</p>
                  </div>
                  <p><a id="d12121e825" class="indexterm-anchor"></a><a id="d12121e829" class="indexterm-anchor"></a> <code class="codeph"><a href="CONFIGURE.html#GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A">CONFIGURE</a></code>和<code class="codeph"><a href="SET.html#GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3">SET</a></code>命令管理数据库备份的加密设置。有关更多详细信息，请参阅这些命令的参考条目。如果满足以下任何条件，则包含归档重做日志文件的备份集将被加密：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><code class="codeph"><a href="SET.html#GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3">SET</a></code> <code class="codeph">ENCRYPTION ON</code>在创建备份时生效。
                        </p>
                     </li>
                     <li>
                        <p>为整个数据库或至少一个表空间配置加密。</p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__GUID-2C6A5888-DADE-4D96-BAD5-19D885EB6C17">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="../bradv/configuring-rman-client-advanced.html#BRADV-GUID-21D5FCCE-7AF1-4CF8-BC53-2496ECE3C56E" target="_blank"><span><cite>Oracle数据库备份和恢复用户指南</cite></span></a> ，了解备份加密概述，使用指南以及有关在不同加密模式中进行选择的信息</p>
                        </li>
                        <li>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/rcmrf&amp;id=ASOAG10139" target="_blank"><span class="italic">Oracle数据库高级安全性指南</span></a> ，了解TDE表空间加密和Oracle软件密钥库</p>
                        </li>
                     </ul>
                  </div>
                  <p><span class="bold">备份备用数据库</span></p>
                  <p>RMAN <code class="codeph">BACKUP</code>命令备份备用数据库与主数据库完全相同，只是备份发生在备用站点上。主数据库对备用数据库的备份没有影响。
                  </p>
                  <p>连接到备用数据库以执行备份时，请使用<code class="codeph">TARGET</code>关键字而不是<code class="codeph">AUXILIARY</code>关键字。
                  </p>
                  <p>进行备份时备用数据库的状态决定备份是一致还是不一致。要进行一致的备份，备用数据库必须干净地关闭并挂载，但不能置于恢复模式。任何其他状态都会导致备份不一致，必须使用介质恢复进行恢复。</p>
                  <p id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDJIIGD"><span class="bold">Data Guard环境中的RMAN备份</span></p>
                  <p><a id="d12121e898" class="indexterm-anchor"></a><a id="d12121e902" class="indexterm-anchor"></a><a id="d12121e906" class="indexterm-anchor"></a>在Data Guard环境中执行RMAN操作时，需要恢复目录。该目录允许所有RMAN操作在任何主数据库或备用数据库中透明地执行。您可以将主数据库备份卸载到环境中的任何备用数据库中; RMAN备份是可互换的。如果在<code class="codeph">NOCATALOG</code>模式下使用RMAN，则RMAN仅使用已安装的控制文件中的元数据。
                  </p>
                  <p>在Data Guard环境中，创建备份或副本的数据库与该文件相关联。例如，如果RMAN作为<code class="codeph">TARGET</code>连接到数据库<code class="codeph">prod</code>并备份它，则此数据库备份与<code class="codeph">prod</code>相关联。除非您使用<code class="codeph"><a href="CHANGE.html#GUID-961151C6-EEFF-4347-AF1E-93EFDD5F5BF2">CHANGE</a></code> ，否则备份仍与创建的数据库关联<code class="codeph">...RESET DB_UNIQUE_NAME</code>将备份与其他数据库关联。
                  </p>
                  <p><a id="d12121e931" class="indexterm-anchor"></a>备份的关联与其可访问性不同。恢复目录将磁盘备份视为仅对创建它的Data Guard环境中的数据库可访问，而在一个数据库上创建的磁带备份被认为可供所有数据库访问。如果备份文件未与任何数据库关联，则在恢复目录视图中描述它的行对于<code class="codeph">SITE_KEY</code>列显示为<code class="codeph">null</code> 。默认情况下，RMAN将<code class="codeph">SITE_KEY</code>为<code class="codeph">null</code>文件与RMAN连接到的数据库关联为<code class="codeph">TARGET</code> 。</p>
                  <p>在Data Guard环境中，RMAN命令可以对任何可访问的备份进行操作。例如，假设数据库<code class="codeph">prod</code>和<code class="codeph">standby1</code>驻留在不同的主机上。RMAN将<code class="codeph">prod</code>上的数据文件1备份到生产主机上的<code class="codeph">/prodhst/disk1/df1.dbf</code> ，也备份到磁带。RMAN将<code class="codeph">standby1</code>上的数据文件1备份到备用主机上的<code class="codeph">/sby1hst/disk2/df1.dbf</code> ，也备份到磁带。如果RMAN作为<code class="codeph">TARGET</code>连接到数据库<code class="codeph">prod</code> ，则无法使用RMAN对备用主机上的<code class="codeph">/sby1hst/disk2/df1.dbf</code>备份执行操作。但是，RMAN认为在<code class="codeph">standby1</code>上进行的磁带备份有资格进行恢复。
                  </p>
                  <div class="infoboxnote" id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__GUID-B1AD5B14-7A17-4355-8CA8-79049FDB25E4">
                     <p class="notep1">注意：</p>
                     <p><a id="d12121e985" class="indexterm-anchor"></a><a id="d12121e987" class="indexterm-anchor"></a><a id="d12121e989" class="indexterm-anchor"></a>您可以将备份从备用主机FTP到主要主机，反之亦然，然后对其进行<code class="codeph"><a href="CATALOG.html#GUID-6E337759-9860-463A-BF7C-8512B272B8E1">CATALOG</a></code> 。在目标数据库对文件进行编目之后，该文件将与目标数据库关联。
                     </p>
                  </div>
                  <p>如果RMAN可以访问备份，则可以在连接到任何主数据库或备用数据库时使用RMAN维护命令（如<code class="codeph"><a href="CHANGE.html#GUID-961151C6-EEFF-4347-AF1E-93EFDD5F5BF2">CHANGE</a></code> ， <code class="codeph"><a href="CROSSCHECK.html#GUID-07E07E7E-9A29-4901-9739-FFC472029A7D">CROSSCHECK</a></code>和<code class="codeph"><a href="DELETE.html#GUID-FB4EAC69-4978-42F7-8B09-77C6736188B3">DELETE</a></code>进行备份。
                  </p>
                  <div class="infoboxnotealso" id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__GUID-35E34F8F-4F41-4ED0-90D4-D7D5ECC0AF8A">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="../sbydb/using-RMAN-in-oracle-data-guard-configurations.html#SBYDB04700" target="_blank"><span class="italic">Oracle Data Guard概念和管理</span></a> ，了解如何使用RMAN在Data Guard环境中备份和还原文件</p>
                  </div>
                  <p id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__BGBCCDEA"><span class="bold">备份跨平台传输的数据</span><a id="d12121e1024" class="indexterm-anchor"></a><a id="d12121e1028" class="indexterm-anchor"></a></p>
                  <p><code class="codeph">BACKUP</code>命令可以创建用于将整个数据库，数据文件或表空间从一个平台传输到另一个平台的备份集。要创建跨平台备份，请使用<code class="codeph">BACKUP</code>命令中的<code class="codeph">FOR TRANSPORT</code>或<code class="codeph">TO PLATFORM</code>子句。<code class="codeph">V$TRANSPORT_TABLESPACE</code>视图包含跨平台传输支持的平台列表</p>
                  <div class="infoboxnotealso" id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__GUID-3083DB4D-6EAB-4012-9C87-CB0A24FA27DE">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="../bradv/rman-transporting-data-across-platforms.html#BRADV05432" target="_blank"><span class="italic">“Oracle数据库备份和恢复用户指南”</span></a> ，了解有关如何为跨平台数据传输创建备份集的信息</p>
                  </div>
                  <p><span class="bold">与TO PLATFORM和FOR TRANSPORT不兼容的条款清单</span><a id="d12121e1059" class="indexterm-anchor"></a><a id="d12121e1063" class="indexterm-anchor"></a></p>
                  <p>您可以使用<code class="codeph">BACKUP</code>命令为跨平台数据传输创建备份集。要指示备份是用于跨平台传输，请使用<code class="codeph">FOR TRANSPORT</code>或<code class="codeph">TO PLATFORM</code>子句。
                  </p>
                  <p>使用<code class="codeph">FOR TRANSPORT</code>或<code class="codeph">TO PLATFORM</code>子句时，不能使用<code class="codeph">BACKUP</code>命令的以下子句：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><code class="codeph">累积</code></p>
                     </li>
                     <li>
                        <p><span class="italic">forRecoveryOfSpec</span></p>
                     </li>
                     <li>
                        <p><span class="italic">keepOption</span></p>
                     </li>
                     <li>
                        <p><span class="italic">notBackedUpSpec</span></p>
                     </li>
                     <li>
                        <p><code class="codeph">代理</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">部分尺寸</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">标签</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">VALIDATE</code></p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDIJGIJ">
                  <p class="subhead1" id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__GUID-F74C8466-D9AC-48C4-B3C1-D3E163BFCD38">句法</p>
                  <p id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDDBGEA"><a id="d12121e1126" class="indexterm-anchor"></a><a id="d12121e1130" class="indexterm-anchor"></a> <span class="bold"><span class="italic">backup</span> :: =</span></p>
                  <div class="figure" id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__GUID-C67DEC48-2782-4469-8E8D-2F88C3B895D4"><img src="img/backup.gif" alt="backup.eps的描述如下" title="backup.eps的描述如下" longdesc="img_text/backup.html"><br><a href="img_text/backup.html">说明backup.eps的说明</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDBCEDG">backupOperand :: =</a></span> ， <span class="italic"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDCBGDA">backupSpec :: =</a></span> ， <span class="italic"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDDCEFI">backupSpecOperand :: =</a></span> ）</p>
                  <p id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDBCEDG"><a id="d12121e1156" class="indexterm-anchor"></a><a id="d12121e1160" class="indexterm-anchor"></a> <span class="bold"><span class="italic">backupOperand</span> :: =</span></p>
                  <div class="figure" id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__GUID-C766810B-B357-42F4-A5B6-EA12DB08DD48"><img src="img/backupoperand.gif" alt="backupoperand.eps的描述如下" title="backupoperand.eps的描述如下" longdesc="img_text/backupoperand.html"><br><a href="img_text/backupoperand.html">说明backupoperand.eps的说明</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDHHDGG">backupTypeSpec :: =</a></span> ， <span class="italic"><a href="deviceSpecifier.html#GUID-F653748D-4AB5-4A0E-B6E5-D891A000ADAC__BABDEJAC">deviceSpecifier :: =</a></span> ， <span class="italic"><a href="fileNameConversionSpec.html#GUID-486FE88C-2B48-40C7-B29A-8AC669F29FA3__BABBJGBH">fileNameConversionSpec :: =</a></span> ， <span class="italic"><a href="formatSpec.html#GUID-E51F637A-57E0-4B06-803F-3F879DF5BEED__BABHCHAG">formatSpec :: =</a></span> ， <span class="italic"><a href="toDestSpec.html#GUID-A37AAC9F-1522-44F7-BECE-4ADA562A8BB7__CIHBDIGE">toDestSpec :: =</a></span> ， <span class="italic"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDEHIDJ">forRecoveryOfSpec :: =</a></span> ， <span class="italic"><a href="keepOption.html#GUID-36E9008E-48A5-4AB9-8C9D-2D477342594B__BABGDGCC">keepOption :: =</a></span> ， <span class="italic"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDCFHEA">notBackedUpSpec :: =</a></span> ， <span class="italic"><a href="sizeSpec.html#GUID-146EDBEE-BCED-4BD4-A720-8E51AA8DC577__BABHAICB">sizeSpec :: =</a></span> ， <span class="italic"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDGFJFB">skipSpec :: =</a></span> ）</p>
                  <p id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDCBGDA"><a id="d12121e1215" class="indexterm-anchor"></a><a id="d12121e1219" class="indexterm-anchor"></a> <span class="bold"><span class="italic">backupSpec</span> :: =</span></p>
                  <div class="figure" id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__GUID-EC53024D-EDBD-4FD8-9057-A4F40D18406F"><img src="img/backupspec.gif" alt="backuppec.eps的描述如下" title="backuppec.eps的描述如下" longdesc="img_text/backupspec.html"><br><a href="img_text/backupspec.html">backuppec.eps插图说明</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="archivelogRecordSpecifier.html#GUID-DDF929FF-796B-4AD6-AE58-F831CAFC7703__BABJGBFG">archivelogRecordSpecifier :: =</a></span> ， <span class="italic"><a href="completedTimeSpec.html#GUID-BC83D915-FF57-467D-A606-5B699F2EF4DE__BABGAJEH">completedTimeSpec :: =</a></span> ， <span class="italic"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDFEBDC">copyOfSpec :: =</a></span> ， <span class="italic"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDHEJEG">datafileCopySpec :: =</a></span> ， <span class="italic"><a href="datafileSpec.html#GUID-A0A69931-D404-4D89-8F95-3AB898B6A220__BABCCBBJ">datafileSpec :: =</a></span> ， <span class="italic"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDDCEFI">backupSpecOperand :: =</a></span> ）</p>
                  <p id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDDCEFI"><a id="d12121e1258" class="indexterm-anchor"></a><a id="d12121e1262" class="indexterm-anchor"></a> <span class="bold"><span class="italic">backupSpecOperand</span> :: =</span></p>
                  <div class="figure" id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__GUID-37D7E87B-5B57-4C3C-BE26-8FADE8BC9AD4"><img src="img/backupspecoperand.gif" alt="backuppecoperand.eps的描述如下" title="backuppecoperand.eps的描述如下" longdesc="img_text/backupspecoperand.html"><br><a href="img_text/backupspecoperand.html">backuppecoperand.eps插图说明</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="formatSpec.html#GUID-E51F637A-57E0-4B06-803F-3F879DF5BEED__BABHCHAG">formatSpec :: =</a></span> ， <span class="italic"><a href="toDestSpec.html#GUID-A37AAC9F-1522-44F7-BECE-4ADA562A8BB7__CIHBDIGE">toDestSpec :: =</a></span> <span class="italic"><a href="keepOption.html#GUID-36E9008E-48A5-4AB9-8C9D-2D477342594B__BABGDGCC">keepOption :: =</a></span> ， <span class="italic"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDCFHEA">notBackedUpSpec :: =</a></span> ， <span class="italic"><a href="sizeSpec.html#GUID-146EDBEE-BCED-4BD4-A720-8E51AA8DC577__BABHAICB">sizeSpec :: =</a></span> ， <span class="italic"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDGFJFB">skipSpec :: =</a></span> ）</p>
                  <p id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDHHDGG"><a id="d12121e1302" class="indexterm-anchor"></a><a id="d12121e1306" class="indexterm-anchor"></a> <span class="bold"><span class="italic">backupTypeSpec :: =</span></span></p>
                  <div class="figure" id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__GUID-A626182C-0EAC-49F7-985A-20D6B8469251"><img src="img/backuptypespec.gif" alt="backuptypespec.eps的描述如下" title="backuptypespec.eps的描述如下" longdesc="img_text/backuptypespec.html"><br><a href="img_text/backuptypespec.html">backuptypespec.eps插图的描述</a></div>
                  <!-- class="figure" -->
                  <p id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDFEBDC"><a id="d12121e1317" class="indexterm-anchor"></a><a id="d12121e1321" class="indexterm-anchor"></a> <span class="bold"><span class="italic">copyOfSpec</span> :: =</span></p>
                  <div class="figure" id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__GUID-D458C3EF-6158-4CAC-8C29-4F223F98AB45"><img src="img/copyofspec.gif" alt="copyofspec.eps的描述如下" title="copyofspec.eps的描述如下" longdesc="img_text/copyofspec.html"><br><a href="img_text/copyofspec.html">copyofspec.eps插图的描述</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="datafileSpec.html#GUID-A0A69931-D404-4D89-8F95-3AB898B6A220__BABCCBBJ">datafileSpec :: =</a></span> ）</p>
                  <p id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDHEJEG"><a id="d12121e1339" class="indexterm-anchor"></a><a id="d12121e1343" class="indexterm-anchor"></a> <span class="bold"><span class="italic">datafileCopySpec</span> :: =</span></p>
                  <div class="figure" id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__GUID-3ECF2C3C-697F-44B0-BDA4-D76C6B15C43C"><img src="img/datafilecopyspec.gif" alt="datafilecopyspec.eps的描述如下" title="datafilecopyspec.eps的描述如下" longdesc="img_text/datafilecopyspec.html"><br><a href="img_text/datafilecopyspec.html">插图datafilecopyspec.eps的描述</a></div>
                  <!-- class="figure" -->
                  <p id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDIFHEH"><a id="d12121e1355" class="indexterm-anchor"></a><a id="d12121e1359" class="indexterm-anchor"></a> <span class="bold"><span class="italic">duration</span> :: =</span></p>
                  <div class="figure" id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__GUID-ADDA19EC-BA25-4677-B596-C6C34B6949A4"><img src="img/duration.gif" alt="duration.eps的描述如下" title="duration.eps的描述如下" longdesc="img_text/duration.html"><br><a href="img_text/duration.html">插图duration.eps的描述</a></div>
                  <!-- class="figure" -->
                  <p id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDEHIDJ"><a id="d12121e1372" class="indexterm-anchor"></a><a id="d12121e1376" class="indexterm-anchor"></a> <span class="bold"><span class="italic">forRecoveryOfSpec</span> :: =</span></p>
                  <div class="figure" id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__GUID-A219F470-4B33-451F-8B23-55003CF48666"><img src="img/forrecoveryofspec.gif" alt="以下是forrecoveryofspec.eps的描述" title="以下是forrecoveryofspec.eps的描述" longdesc="img_text/forrecoveryofspec.html"><br><a href="img_text/forrecoveryofspec.html">forrecoveryofspec.eps的插图说明</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="formatSpec.html#GUID-E51F637A-57E0-4B06-803F-3F879DF5BEED__BABHCHAG">formatSpec :: =</a></span> ）</p>
                  <p id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDCFHEA"><a id="d12121e1394" class="indexterm-anchor"></a><a id="d12121e1398" class="indexterm-anchor"></a> <span class="bold"><span class="italic">notBackedUpSpec</span> :: =</span></p>
                  <div class="figure" id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__GUID-550CB35F-518D-4B3A-8B47-5A77868F1199"><img src="img/notbackedupspec.gif" alt="NOTbackedupspec.eps的描述如下" title="NOTbackedupspec.eps的描述如下" longdesc="img_text/notbackedupspec.html"><br><a href="img_text/notbackedupspec.html">插图描述notbackedupspec.eps</a></div>
                  <!-- class="figure" -->
                  <p id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDGFJFB"><a id="d12121e1410" class="indexterm-anchor"></a><a id="d12121e1414" class="indexterm-anchor"></a> <span class="bold"><span class="italic">skipSpec</span> :: =</span></p>
                  <div class="figure" id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__GUID-A5E144FB-CA25-44DF-9F28-2F9216C9BC99"><img src="img/skipspec.gif" alt="skipspec.eps的描述如下" title="skipspec.eps的描述如下" longdesc="img_text/skipspec.html"><br><a href="img_text/skipspec.html">skipspec.eps插图的描述</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDCFGEI">
                  <p class="subhead1" id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__GUID-BC9DF3CC-DB19-426C-BD6C-CF30FA2BB84B">语义</p>
                  <p id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__I1016992"><a id="d12121e1429" class="indexterm-anchor"></a><a id="d12121e1433" class="indexterm-anchor"></a> <span class="bold"><span class="italic">备用</span></span></p>
                  <p>此子句指定要备份的对象以及控制备份的选项。有关语法图，请参阅<span class="italic"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDBCEDG">backupOperand :: =</a></span> 。
                  </p>
                  <div class="tblformalwide" id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__GUID-8EFBFA10-FB72-44D0-974C-A110792C6EB8">
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="" width="100%" border="1" summary="Describes BACKUP command parameters" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="29%" id="d12121e1455">语法元素</th>
                              <th align="left" valign="bottom" width="71%" id="d12121e1458">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d12121e1463" headers="d12121e1455 ">
                                 <p><span class="italic"><code class="codeph"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__I1009966">backupOperand</a></code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d12121e1463 d12121e1458 ">
                                 <p>指定<code class="codeph">BACKUP</code>命令的各种选项。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d12121e1476" headers="d12121e1455 ">
                                 <p id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__I1035382"><span class="italic"><code class="codeph"><span class="codeinlineitalic"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__BGBGHJEH">backupSpec</a></span></code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d12121e1476 d12121e1458 ">
                                 <p>指定要备份的一个或多个对象。</p>
                                 <p>每个<span class="italic"><code class="codeph">backupSpec</code></span>子句生成一个或多个备份集（ <code class="codeph"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDBGAJI">AS BACKUPSET</a></code> ）或映像副本（ <code class="codeph"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDEHBEJ">AS COPY</a></code> ）。对于<code class="codeph">AS BACKUPSET</code> ，如果其对象列表中指定或隐含的数据文件数超过<code class="codeph">FILESPERSET</code>限制，则<span class="italic"><code class="codeph">backupSpec</code></span>子句将生成多个备份集。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d12121e1512" headers="d12121e1455 ">
                                 <p><code class="codeph">加上ARCHIVELOG</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d12121e1512 d12121e1458 ">
                                 <p><a id="d12121e1518" class="indexterm-anchor"></a>包括备份中的归档重做日志文件（请参阅<a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDFHAHB">示例2-13</a> ）。导致RMAN执行以下步骤：</p>
                                 <ol>
                                    <li>
                                       <p>运行<code class="codeph">ALTER SYSTEM ARCHIVE LOG CURRENT</code>语句。
                                       </p>
                                    </li>
                                    <li>
                                       <p>运行<code class="codeph">BACKUP ARCHIVELOG ALL</code>命令。如果启用了备份优化，则RMAN仅备份尚未备份的日志。
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">BACKUP</code>命令中指定的文件。
                                       </p>
                                    </li>
                                    <li>
                                       <p>运行<code class="codeph">ALTER SYSTEM ARCHIVE LOG CURRENT</code>语句。
                                       </p>
                                    </li>
                                    <li>
                                       <p>备份所有剩余的归档重做日志文件。如果未启用备份优化，则RMAN将备份步骤1中生成的日志以及备份期间生成的所有日志。</p>
                                    </li>
                                 </ol>
                                 <p>在CDB中， <a id="d12121e1555" class="indexterm-anchor"></a><a id="d12121e1559" class="indexterm-anchor"></a>只有当您以具有<code class="codeph">SYSDBA</code>或<code class="codeph">SYSBACKUP</code>权限的普通用户身份连接到根时，才能备份存档的重做日志。连接到PDB时，不能在备份中包含存档日志。请参阅<span class="q">“ <a href="CONNECT.html#GUID-64ECF1B8-4F70-413E-BEBE-1D5E8CD48B67__BGBGAIGG">连接到CDB和PDB</a> ”</span> 。
                                 </p>
                                 <p><span class="bold">注意：</span>您不能在<code class="codeph">BACKUP ARCHIVELOG</code>命令或<code class="codeph">BACKUP AS COPY INCREMENTAL</code>命令（或默认备份类型为<code class="codeph">COPY</code>时的<code class="codeph">BACKUP INCREMENTAL</code>命令）上指定<code class="codeph">PLUS ARCHIVELOG</code> 。在指定<code class="codeph"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDFFDAG">INCREMENTAL FROM SCN</a></code>时，不能指定<code class="codeph">PLUS ARCHIVELOG</code> 。</p>
                                 <p><span class="bold">注意：</span>除非在备份结束时归档联机重做日志，否则此备份无法进行<code class="codeph">DUPLICATE</code> 。
                                 </p>
                                 <p><span class="bold">注意：</span>此子句不能与<code class="codeph">KEEP UNTIL</code>子句一起使用。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d12121e1618" headers="d12121e1455 ">
                                 <p><code class="codeph">   </code> <span class="italic"><code class="codeph"><span class="codeinlineitalic"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__I1017449">backupSpecOperand</a></span></code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d12121e1618 d12121e1458 ">
                                 <p>指定影响<span class="italic"><code class="codeph"><span class="codeinlineitalic"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__BGBGHJEH">backupSpec</a></span></code></span>子句的各种选项和参数。
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__I1009966"><span class="bold"><span class="italic">backupOperand</span></span></p>
                  <p>本小节指定了诸如设备类型和输出格式之类的选项。有关语法图，请参阅<span class="italic"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDBCEDG">backupOperand :: =</a></span> 。
                  </p>
                  <div class="tblformalwide" id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__GUID-C679377C-8C01-4A1C-B0CD-3EFC2333B841">
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="" width="100%" border="1" summary="Describes BACKUP command backupOperand parameters" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="29%" id="d12121e1655">语法元素</th>
                              <th align="left" valign="bottom" width="71%" id="d12121e1658">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d12121e1663" headers="d12121e1655 ">
                                 <p><span class="italic"><code class="codeph"><span class="codeinlineitalic"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__I1015382">backupTypeSpec</a></span></code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d12121e1663 d12121e1658 ">
                                 <p>指定要创建的备份类型，备份集（ <code class="codeph"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDBGAJI">AS BACKUPSET</a></code> ）或映像副本（ <code class="codeph"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDEHBEJ">AS COPY</a></code> ）。
                                 </p>
                                 <p><span class="bold">另请参阅：</span> <span class="italic"><code class="codeph"><span class="codeinlineitalic"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__I1015382">backupTypeSpec</a></span></code></span>以获取详细信息</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d12121e1692" headers="d12121e1655 ">
                                 <p><code class="codeph" id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDDCCAA">CHANNEL</code> <span class="italic"><code class="codeph">channel_id</code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d12121e1692 d12121e1658 ">
                                 <p>指定创建备份时要使用的通道的区分大小写的名称。使用任何有意义的名称，例如<code class="codeph">ch1</code>或<code class="codeph">dev1</code> 。数据库使用通道ID报告I / O错误。如果未设置此参数，则RMAN会在执行期间动态地将备份集分配给任何可用通道。
                                 </p>
                                 <p>如<a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDCJHFH">例2-23</a>所示，您可以使用<code class="codeph">CHANNEL</code>指定备份哪些文件的文件。
                                 </p>
                                 <p><span class="bold">注意：</span>您还可以在<span class="italic"><code class="codeph"><span class="codeinlineitalic"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__BGBGHJEH">backupSpec</a></span></code></span>子句中指定此参数。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d12121e1727" headers="d12121e1655 ">
                                 <p><code class="codeph" id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDBHECJ">检查逻辑</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d12121e1727 d12121e1658 ">
                                 <p>测试通过物理损坏检查逻辑损坏的数据和索引块（请参见<a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDFIFDI">示例2-25</a> ）。此选项通常会增加1-3％的开销。
                                 </p>
                                 <p>逻辑损坏的示例是行段或索引条目的损坏。如果RMAN发现逻辑损坏，则它会将该日志记录在警报日志和服务器会话跟踪文件中。<code class="codeph"><a href="SET.html#GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3">SET</a></code> <code class="codeph">MAXCORRUPT</code>命令指定数据文件中允许的物理和逻辑损坏的总数。
                                 </p>
                                 <p>默认情况下， <code class="codeph">BACKUP</code>命令计算每个块的校验和并将其存储在备份中。如果指定<code class="codeph">NOCHECKSUM</code>选项，则RMAN在写入备份时不会执行块的校验和。
                                 </p>
                                 <p>如果未设置<code class="codeph">SET MAXCORRUPT</code>和<code class="codeph"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDCHHBH">NOCHECKSUM</a></code> ，则<code class="codeph">CHECK</code> <code class="codeph">LOGICAL</code>会检测备份期间可能检测到的所有类型的损坏。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d12121e1770" headers="d12121e1655 ">
                                 <p><code class="codeph">一致的</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d12121e1770 d12121e1658 ">
                                 <p></p>
                                 <p>创建指定数据库或PDB的一致备份集。单个一致的备份足以将数据库或PDB恢复到一致状态。</p>
                                 <p><span class="bold">注意：</span>此子句不能与<code class="codeph">KEEP</code>和<code class="codeph">AS COPY</code>选项一起使用。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d12121e1789" headers="d12121e1655 ">
                                 <p><code class="codeph" id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDJAEBG">COPIES</code> <span class="italic"><code class="codeph">integer</code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d12121e1789 d12121e1658 ">
                                 <p>设置RMAN创建的相同备份（ <code class="codeph">1</code> - <code class="codeph">4</code> ）的数量。默认值为<code class="codeph">1</code> 。
                                 </p>
                                 <p>您可以使用多个格式字符串为副本指定不同的名称和位置。<a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDJIJDH">例2-22</a>说明了磁盘上不同位置的双工备份。
                                 </p>
                                 <p>RMAN可以将备份双工复制到磁盘或磁带，但不能同时将备份复制到磁带和磁盘。备份到磁带时，请确保副本数量不超过可用磁带设备的数量。此外，如果<code class="codeph">COPIES</code>大于1，则必须在目标数据库上启用<code class="codeph">BACKUP_TAPE_IO_SLAVES</code>初始化参数。
                                 </p>
                                 <p>您可以在多个命令中指定双工。优先顺序如下，列表中的设置更高，覆盖较低的设置：</p>
                                 <ol>
                                    <li>
                                       <p><code class="codeph">BACKUP</code> <code class="codeph">COPIES</code></p>
                                    </li>
                                    <li>
                                       <p><code class="codeph"><a href="SET.html#GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3">SET</a></code> <code class="codeph">BACKUP</code> <code class="codeph">COPIES</code></p>
                                    </li>
                                    <li>
                                       <p><code class="codeph"><a href="CONFIGURE.html#GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A">CONFIGURE</a></code> <code class="codeph">...</code> <code class="codeph">BACKUP</code> <code class="codeph">COPIES</code></p>
                                    </li>
                                 </ol>
                                 <p><span class="bold">注意：</span>此选项不适用于<code class="codeph">AS COPY</code>并导致出现错误消息。
                                 </p>
                                 <p><span class="bold">注意：</span>在快速恢复区域中创建文件时，无法使用双面打印。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d12121e1870" headers="d12121e1655 ">
                                 <p><code class="codeph">累积</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d12121e1870 d12121e1658 ">
                                 <p>复制自最近的0级备份以来使用的数据块（请参见<a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDECGDC">示例2-16</a> ）。
                                 </p>
                                 <p><span class="bold">注意：</span>此选项不适用于<code class="codeph"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDEHBEJ">AS COPY</a></code>并导致出现错误消息。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d12121e1888" headers="d12121e1655 ">
                                 <p><code class="codeph" id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDGBFGF">DEVICE TYPE</code> <span class="italic"><code class="codeph"><span class="codeinlineitalic"><a href="deviceSpecifier.html#GUID-F653748D-4AB5-4A0E-B6E5-D891A000ADAC">deviceSpecifier</a></span></code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d12121e1888 d12121e1658 ">
                                 <p>仅为指定的设备类型分配自动通道。例如，如果配置磁盘和磁带通道，然后将<code class="codeph">sbt</code>配置为默认设备类型，则以下命令仅分配磁盘通道：</p><pre class="oac_no_warn" dir="ltr">备份设备类型磁盘数据库;</pre><p><code class="codeph">DEVICE TYPE</code>选项仅对自动通道有效，对手动分配的通道无效。如果尚未为此设备运行<code class="codeph"><a href="CONFIGURE.html#GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A">CONFIGURE</a></code> <code class="codeph">DEVICE TYPE</code> ，则不能对<code class="codeph">DISK</code>以外的设备使用<code class="codeph">DEVICE TYPE</code>选项。
                                 </p>
                                 <p><span class="bold">注意：</span>要为<code class="codeph">BACKUP RECOVERY AREA</code>命令指定磁盘通道，必须使用<a href="allocOperandList.html#GUID-8B6C1DAB-F27A-4DA8-BECC-5DA04F5907DA__CIHHJFBD">子目录toDestSpec</a>的<code class="codeph">TO DESTINATION</code> 。</p>
                                 <p><span class="bold">另请参见：</span> <span class="italic"><code class="codeph"><span class="codeinlineitalic"><a href="deviceSpecifier.html#GUID-F653748D-4AB5-4A0E-B6E5-D891A000ADAC">deviceSpecifier</a></span></code></span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d12121e1950" headers="d12121e1655 ">
                                 <p><code class="codeph">DISKRATIO</code> <span class="italic"><code class="codeph">integer</code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d12121e1950 d12121e1658 ">
                                 <p>指示RMAN使用至少<span class="italic">整数</span>磁盘中的数据文件填充每个备份集。
                                 </p>
                                 <p>仅当备份数据文件或控制文件时，以及操作系统可以提供RMAN磁盘争用和节点关联数据时，才会启用此参数。要手动禁用此功能，请将<code class="codeph">DISKRATIO</code>设置为<code class="codeph">0</code> 。
                                 </p>
                                 <p>例如，假设数据文件分布在10个磁盘上。如果磁盘以10字节/秒提供数据，并且磁带驱动器需要50字节/秒来保持流式传输，则将<code class="codeph">DISKRATIO</code>设置为<code class="codeph">5</code>以指示RMAN包含来自每个备份集中至少5个磁盘的数据文件。
                                 </p>
                                 <p>如果设置<code class="codeph"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDEECJA">FILESPERSET</a></code>但不设置<code class="codeph">DISKRATIO</code> ，则<code class="codeph">DISKRATIO</code>默认为与<code class="codeph">FILESPERSET</code>相同的值。如果您既未指定参数，则<code class="codeph">DISKRATIO</code>默认为4。RMAN将<code class="codeph">DISKRATIO</code>值与备份中涉及的实际设备数进行比较，并使用最低值。例如，如果<code class="codeph">DISKRATIO</code>为4且数据文件位于三个磁盘上，则RMAN会尝试在每个备份集中包含三个磁盘中的数据文件。
                                 </p>
                                 <p>当数据文件被条带化或驻留在单独的磁盘轴上时， <code class="codeph">DISKRATIO</code>参数更容易进行数据文件备份，您可以：</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p>使用需要多个数据文件的高带宽磁带驱动器，以保持磁带驱动器的流式传输。</p>
                                    </li>
                                    <li>
                                       <p>在数据库打开时进行备份，并将I / O负载分散到多个磁盘轴上，为在线操作留出带宽。</p>
                                    </li>
                                 </ul>
                                 <p><span class="bold">注意：</span>不要将I / O扩展超过保持磁带流所需的最小磁盘数。否则，您可以在不提高性能的情况下增加文件的还原时间。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d12121e2022" headers="d12121e1655 ">
                                 <p><span class="italic"><code class="codeph"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__I1010261">持续时间</a></code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d12121e2022 d12121e1658 ">
                                 <p>指定与运行备份命令的最长时间相关的选项。</p>
                                 <p><span class="bold">另见：</span> <span class="italic"><code class="codeph"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__I1010261">duration</a></code></span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d12121e2040" headers="d12121e1655 ">
                                 <p><span class="italic"><code class="codeph"><span class="codeinlineitalic"><a href="fileNameConversionSpec.html#GUID-486FE88C-2B48-40C7-B29A-8AC669F29FA3">fileNameConversionSpec</a></span></code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d12121e2040 d12121e1658 ">
                                 <p>此选项仅在<code class="codeph">BACKUP</code>创建映像副本时有效。正在复制的文件将根据指定的模式重命名。如果正在备份的文件的名称与任何指定的重命名模式都不匹配，则RMAN使用<code class="codeph"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDJFEHD">FORMAT</a></code>命名输出映像副本。如果未指定<code class="codeph">FORMAT</code> ，则RMAN使用默认格式<code class="codeph"><a href="formatSpec.html#GUID-E51F637A-57E0-4B06-803F-3F879DF5BEED__BABGHHGH">%U</a></code> 。</p>
                                 <p><span class="bold">另请参阅：</span> <span class="italic"><code class="codeph"><span class="codeinlineitalic"><a href="fileNameConversionSpec.html#GUID-486FE88C-2B48-40C7-B29A-8AC669F29FA3">fileNameConversionSpec</a></span></code></span>用于文件重命名模式</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d12121e2077" headers="d12121e1655 ">
                                 <p><code class="codeph" id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDEECJA">FILESPERSET</code> <span class="italic"><code class="codeph">integer</code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d12121e2077 d12121e1658 ">
                                 <p>指定要包含在每个输出备份集中的最大输入文件数。仅当<code class="codeph">BACKUP</code>生成备份集时，此参数才有意义。
                                 </p>
                                 <p>RMAN将每个<span class="italic"><code class="codeph"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__BGBGHJEH">backupSpec</a></code></span>的文件备份为一个或多个备份集。当每个<span class="italic"><code class="codeph"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__BGBGHJEH">backupSpec</a></code></span>的文件数超过<code class="codeph">FILESPERSET</code>设置时，RMAN会相应地将文件拆分为多个备份集。<code class="codeph">FILESPERSET</code>的默认值为<code class="codeph">64</code> 。
                                 </p>
                                 <p>RMAN行为由以下<code class="codeph">BACKUP</code>命令说明：</p><pre class="oac_no_warn" dir="ltr">BACKUP AS BACKUPSET（DATAFILE 3,4,5,6,7）（DATAFILE 8,9）; BACKUP作为BACKUPSET DATAFILE 3,4,5,6,7,8,9;备份为BACKUPSET DATAFILE 3，...72;</pre><p>在第一个命令中，RMAN将数据文件3,4,5,6和7放入一个备份集，将数据文件8和9放入另一个备份集。在第二个命令中，RMAN将所有数据文件放入一个备份集中。在第三个命令中，省略号表示数据文件3到72。因为在这种情况下，RMAN备份70个数据文件，RMAN在一个备份集中放置64个文件，在另一个备份集中放置6个文件。</p>
                                 <p>默认情况下，RMAN在备份集之间划分文件以优化使用通道资源。要备份的文件数除以通道数。如果结果小于64，则此数字为<code class="codeph">FILESPERSET</code>值。否则， <code class="codeph">FILESPERSET</code>默认为64。
                                 </p>
                                 <p><span class="bold">注意：</span>您无法指定备份集中的备份片数。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d12121e2135" headers="d12121e1655 ">
                                 <p><code class="codeph" id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDGFFBB">力</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d12121e2135 d12121e1658 ">
                                 <p>强制RMAN忽略备份优化。也就是说，即使<code class="codeph"><a href="CONFIGURE.html#GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A">CONFIGURE</a></code> <code class="codeph">BACKUP OPTIMIZATION</code>设置为<code class="codeph">ON</code> ，RMAN也会备份所有指定的文件。
                                 </p>
                                 <p><span class="bold">注意：</span>您还可以在<span class="italic"><code class="codeph"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__I1017449">backupSpecOperand</a></code></span>子句中指定此选项。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d12121e2163" headers="d12121e1655 ">
                                 <p><code class="codeph">辅助格式</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d12121e2163 d12121e1658 ">
                                 <p>将目标数据库上的文件复制到辅助实例上的指定位置。RMAN只能在指定<code class="codeph">AUXILIARY FORMAT</code>时生成图像副本。RMAN必须连接到<code class="codeph">TARGET</code>和<code class="codeph">AUXILIARY</code>实例，并且可以访问辅助通道。
                                 </p>
                                 <p>您可以使用<code class="codeph">BACKUP AUXILIARY FORMAT</code>命令在主数据库和备用数据库之间通过网络复制数据文件，存档日志，控制文件和服务器参数文件（spfile）。例如，如果主数据库上的数据文件丢失，您可以作为<code class="codeph">TARGET</code> <code class="codeph"><a href="CONNECT.html#GUID-64ECF1B8-4F70-413E-BEBE-1D5E8CD48B67">CONNECT</a></code>到备用数据库，将主数据库作为<code class="codeph">AUXILIARY</code> ，并将完整的数据文件从备用主机复制到主要主机。
                                 </p>
                                 <p><span class="bold">另请参见：</span> <a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__BGBCEHII">例2-30</a></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d12121e2200" headers="d12121e1655 ">
                                 <p><code class="codeph">   </code><span class="italic"><code class="codeph"><a href="formatSpec.html#GUID-E51F637A-57E0-4B06-803F-3F879DF5BEED">formatSpec</a></code></span> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d12121e2200 d12121e1658 ">
                                 <p>指定用于在辅助实例上命名输出图像副本的模式。该路径必须在辅助主机上有效。</p>
                                 <p><span class="bold">另请参见：</span> <span class="italic"><code class="codeph"><a href="formatSpec.html#GUID-E51F637A-57E0-4B06-803F-3F879DF5BEED">formatSpec</a></code></span>用于有效的替换变量</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d12121e2224" headers="d12121e1655 ">
                                 <p><code class="codeph">新</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d12121e2224 d12121e1658 ">
                                 <p>在辅助实例的<code class="codeph">DB_CREATE_FILE_DEST</code>初始化参数中指定的目录中创建映像副本。映像副本是Oracle管理的文件。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d12121e2235" headers="d12121e1655 ">
                                 <p><code class="codeph" id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDJFEHD">FORMAT</code> <span class="italic"><code class="codeph"><a href="formatSpec.html#GUID-E51F637A-57E0-4B06-803F-3F879DF5BEED">formatSpec</a></code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d12121e2235 d12121e1658 ">
                                 <p>指定用于命名输出备份片或映像副本的模式（请参见<a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDHAGDD">示例2-17</a> ）。对于<code class="codeph"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDEHBEJ">AS COPY</a></code> ，如果指定格式中提到的一个或多个目录不存在，则RMAN发出错误信号。
                                 </p>
                                 <p>磁盘备份的默认位置取决于是否启用了快速恢复区以及是否指定了<code class="codeph">FORMAT</code> ：</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p>如果快速恢复区已启用，如果<span class="italic">你</span>指定<code class="codeph">FORMAT</code> ，然后RMAN名称根据输出文件<code class="codeph">FORMAT</code>设置。如果在<code class="codeph">FORMAT</code>未指定任何位置，则RMAN会在特定于平台的位置创建备份，而不是在恢复区域中创建备份。
                                       </p>
                                    </li>
                                    <li>
                                       <p>如果启用了快速恢复区域，并且<span class="italic">未</span>指定<code class="codeph">FORMAT</code> ，则RMAN会在恢复区域中创建备份，并使用替换变量<code class="codeph"><a href="formatSpec.html#GUID-E51F637A-57E0-4B06-803F-3F879DF5BEED__BABGHHGH">%U</a></code>来命名备份。
                                       </p>
                                    </li>
                                    <li>
                                       <p>如果<span class="italic">未</span>启用快速恢复区域，并且<span class="italic">未</span>指定<code class="codeph">FORMAT</code> ，则RMAN会在特定于平台的位置创建备份，并使用<code class="codeph"><a href="formatSpec.html#GUID-E51F637A-57E0-4B06-803F-3F879DF5BEED__BABGHHGH">%U</a></code>命名备份。
                                       </p>
                                    </li>
                                 </ul>
                                 <p>要使用Oracle Managed Files格式的名称在快速恢复区域中创建RMAN备份，请不要在<code class="codeph">BACKUP</code>命令或通道上指定<code class="codeph">FORMAT</code>子句。
                                 </p>
                                 <p><span class="bold">注意：</span>您无法将Oracle Managed Files文件名指定为备份的格式。例如，如果<code class="codeph">+DISK1/datafile/system.732.609791431</code>是OMF文件名，则无法在<code class="codeph">FORMAT</code>参数中指定此文件名。
                                 </p>
                                 <p>备份件必须具有唯一的名称。备份片文件名的最大长度是特定于平台的。对于媒体管理器的备份，长度也受支持的媒体管理API版本的限制。支持SBT 1.1的供应商必须支持最多14个字符的文件名。某些SBT 1.1供应商可能支持更长的文件名。支持SBT 2.0的供应商必须支持最多512个字符的文件名。某些SBT 2.0供应商可能支持更长的文件名。</p>
                                 <p>您不能在单个<span class="italic"><code class="codeph"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__BGBGHJEH">backupSpec</a></code></span>指定多个相同的<code class="codeph">FORMAT</code>字符串（例如， <code class="codeph">BACKUP DATAFILE 3 TO '/tmp/df3.f', DATAFILE 4 TO '/tmp/df4.f'</code> ）。但是，RMAN允许在多个<span class="italic"><code class="codeph"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__BGBGHJEH">backupSpec</a></code></span>子句中存在单个<code class="codeph">FORMAT</code>字符串。
                                 </p>
                                 <p><span class="bold">注意：</span>如果使用<code class="codeph">KEEP</code>选项进行归档备份（请参阅<a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDCIBCJ">示例2-26</a> ），则格式字符串必须包含<code class="codeph">%U</code> 。自动备份也使用此格式字符串。
                                 </p>
                                 <p><span class="bold">另请参见：</span> <span class="italic"><code class="codeph"><a href="formatSpec.html#GUID-E51F637A-57E0-4B06-803F-3F879DF5BEED">formatSpec</a></code></span>用于有效的替换变量</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d12121e2368" headers="d12121e1655 ">
                                 <p><span class="italic"><code class="codeph"><a href="allocOperandList.html#GUID-8B6C1DAB-F27A-4DA8-BECC-5DA04F5907DA__CIHHJFBD">toDestSpec</a></code></span> <code class="codeph">TO DESTINATION</code> <span class="italic"><code class="codeph"><a href="allocOperandList.html#GUID-8B6C1DAB-F27A-4DA8-BECC-5DA04F5907DA__CIHHJFBD">toDestSpec</a></code></span> <code class="codeph">TO DESTINATION</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d12121e2368 d12121e1658 ">
                                 <p>指定创建备份的目录。此参数对磁盘而不是SBT通道有效。备份文件在Oracle Managed Files（OMF）目录中创建。仅当指定的<code class="codeph">TO DESTINATION</code>不存在备份时，备份才会跳过文件。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d12121e2384" headers="d12121e1655 ">
                                 <p><span class="italic"><code class="codeph"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__I1015480">forRecoveryOfSpec</a></code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d12121e2384 d12121e1658 ">
                                 <p>将正在创建的备份标识为用于前滚映像副本的增量备份。</p>
                                 <p><span class="bold">另请参见：</span> <span class="italic"><code class="codeph"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__I1015480">forRecoveryOfSpec</a></code></span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d12121e2402" headers="d12121e1655 ">
                                 <p><code class="codeph" id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__BGBFDFJE">运输</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d12121e2402 d12121e1658 ">
                                 <p>创建一个<a id="d12121e2409" class="indexterm-anchor"></a><a id="d12121e2413" class="indexterm-anchor"></a>使用备份集进行跨平台备份。您可以备份数据文件，表空间或整个数据库。在创建跨平台表空间备份时，使用<code class="codeph">DATAPUMP</code>子句备份传输的表空间的元数据。此元数据用于目标数据库以插入传输的表空间。
                                 </p>
                                 <p>由跨平台备份创建的备份集不会在控制文件中编目。</p>
                                 <p>在备份整个数据库以进行跨平台传输之前，请确保数据库处于只读模式。仅当源和目标使用相同的endian格式时，才能传输数据库。</p>
                                 <p>备份表空间时，除非使用<code class="codeph">ALLOW INCONSISTENT</code>子句，否则备份的表空间必须处于只读模式。要传输表空间，源和目标可以使用不同的endian格式。使用<code class="codeph">FOR TRANSPORT</code> ，将在目标数据库上执行字节序转换。
                                 </p>
                                 <p><span class="bold">另请参阅：</span> <span class="q">“ <a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__BGBCCDEA">备份跨平台传输的数据</a> ”</span></p>
                                 <p><span class="bold">注意：</span> Oracle Database 12 <span class="italic">c</span>第1版（12.1）支持使用备份集的跨平台备份。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d12121e2448" headers="d12121e1655 ">
                                 <p>      <code class="codeph" id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__BGBIFHAH">允许不一致</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d12121e2448 d12121e1658 ">
                                 <p>使您可以备份不处于只读模式的表空间。</p>
                                 <p>您不能使用<code class="codeph">ALLOW INCONSISTENT</code>进行跨平台的整个数据库备份。
                                 </p>
                                 <p>虽然创建了备份，但您无法将这些表空间直接插入目标数据库，因为它们不一致。您必须稍后在表空间处于只读模式时创建表空间的增量备份。此增量备份必须包含<code class="codeph">DATAPUMP</code>子句，该子句用于创建包含表空间元数据的导出转储文件的备份集。
                                 </p>
                                 <p><span class="bold">另请参阅：“</span> <a href="../bradv/rman-transporting-data-across-platforms.html#BRADV05432" target="_blank"><span class="italic">Oracle数据库备份和恢复用户指南”</span></a> ，以获取有关创建还原不一致表空间备份的详细信息。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d12121e2476" headers="d12121e1655 ">
                                 <p><code class="codeph">运输接入<span class="codeinlineitalic">文件名</span></code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d12121e2476 d12121e1658 ">
                                 <p></p>
                                 <p>使用备份集创建PDB的跨平台一致备份。将PDB插入不同CDB所需的元数据存储在使用<span class="italic">filename</span>指定的XML文件中。
                                 </p>
                                 <p>您可以使用此备份执行PDB到任何支持平台的跨平台传输。正在运输的PDB必须在拔下插头之前关闭。该PDB所属的CDB必须处于读写模式。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d12121e2492" headers="d12121e1655 ">
                                 <p><code class="codeph" id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDBDFGF">充分</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d12121e2492 d12121e1658 ">
                                 <p>创建备份中包含的所有数据文件块的备份。<code class="codeph">FULL</code>与<code class="codeph">INCREMENTAL</code>相反。如果既未指定<code class="codeph">FULL</code>也未指定<code class="codeph">INCREMENTAL</code>则RMAN默认进行完全备份。
                                 </p>
                                 <p>完整备份对后续增量备份没有影响，不会被视为任何增量备份策略的一部分。但是，可以通过使用<code class="codeph"><a href="RECOVER.html#GUID-CA98040F-9865-4F4F-BAF2-91C518612E95">RECOVER</a></code>命令应用增量备份来逐步更新完整映像副本备份。
                                 </p>
                                 <p><span class="bold">注意：</span>未使用的块压缩（在<code class="codeph">BACKUP</code> <code class="codeph"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDIHCHG">AS BACKUPSET</a></code>的条目中描述）会导致在完全备份期间跳过某些数据文件块。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d12121e2531" headers="d12121e1655 ">
                                 <p><code class="codeph">INCREMENTAL LEVEL</code> <span class="italic"><code class="codeph">integer</code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d12121e2531 d12121e1658 ">
                                 <p>仅复制自上次增量<span class="italic"><code class="codeph">integer</code></span>备份以来已更改的数据块，其中<span class="italic"><code class="codeph">integer</code></span>为<code class="codeph">0</code>或<code class="codeph">1</code> （请参见<a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDECGDC">示例2-16</a> ）。
                                 </p>
                                 <p>有关<span class="q"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__BGBHABHH">增量备份</a></span>的说明，请参阅<span class="q">“ <a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__BGBHABHH">增量备份</a> ”</span> 。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d12121e2565" headers="d12121e1655 ">
                                 <p><code class="codeph">INCREMENTAL FROM SCN</code> <span class="italic"><code class="codeph">integer</code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d12121e2565 d12121e1658 ">
                                 <p>创建所有指定数据文件的增量备份，其中包括在SCN大于或等于指定SCN时更改的所有数据文件块。</p>
                                 <p>此选项的一个用途是使用来自主数据库的更改刷新备用数据库（请参阅<a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDECIJB">示例2-24</a> ，以及<a href="../sbydb/using-RMAN-in-oracle-data-guard-configurations.html#SBYDB04700" target="_blank"><span class="italic">Oracle Data Guard概念和管理中的</span></a> RMAN备份章节）。此备份包含自备用数据库创建或上次同步以来所有已更改的块。在备用数据库中，您可以将<code class="codeph"><a href="RECOVER.html#GUID-CA98040F-9865-4F4F-BAF2-91C518612E95">RECOVER</a></code>与<code class="codeph">NOREDO</code>一起使用以应用增量备份。增量备份中捕获的所有已更改块都将应用于备用数据库，使其与主数据库保持同步。
                                 </p>
                                 <p><a id="d12121e2594" class="indexterm-anchor"></a><a id="d12121e2596" class="indexterm-anchor"></a>如果<span class="italic">不是</span>基于卷影复制服务（VSS）快照进行增量备份，则在指定<code class="codeph" id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDFFDAG">INCREMENTAL FROM SCN</code>时指定<span class="italic"><code class="codeph"><a href="formatSpec.html#GUID-E51F637A-57E0-4B06-803F-3F879DF5BEED">formatSpec</a></code></span> 。 <code class="codeph">FORMAT</code>字符串应包含替换变量，例如<code class="codeph"><a href="formatSpec.html#GUID-E51F637A-57E0-4B06-803F-3F879DF5BEED__BABGHHGH">%U</a></code>因为RMAN会生成控制文件备份。
                                 </p>
                                 <p>如果使用<code class="codeph">NOKEEP</code>选项指定<code class="codeph">FROM SCN</code> ，并且在指定<code class="codeph">INCREMENTAL FROM SCN</code>时<span class="italic">未</span>指定<span class="italic"><code class="codeph"><a href="formatSpec.html#GUID-E51F637A-57E0-4B06-803F-3F879DF5BEED">formatSpec</a></code></span> ，则RMAN会在快速恢复区域中创建增量备份，以便您可以在Windows环境中基于VSS快照创建增量备份。通过这种方式，您可以结合使用增量备份集和VSS卷影副本。<code class="codeph">FROM SCN</code>参数中指定的检查点SCN值应与VSS备份元数据文档中的<code class="codeph">BACKUP_CHECKPOINT</code>值相同。如果启用了块更改跟踪，则备份将使用更改跟踪机制，从而显着减少创建增量备份所需的时间。RMAN可以在恢复期间透明地从快速恢复区域应用增量备份。
                                 </p>
                                 <p><span class="bold">注意：</span>在指定<code class="codeph">INCREMENTAL FROM SCN</code>时，不能使用<code class="codeph">PLUS ARCHIVELOG</code> 。</p>
                                 <p><span class="bold">另请参阅：</span> <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/rcmrf&amp;id=NTQRF280" target="_blank"><span class="italic">Oracle数据库平台指南（适用于Microsoft Windows）</span></a> ，了解如何使用VSS进行备份</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d12121e2668" headers="d12121e1655 ">
                                 <p><span class="italic"><code class="codeph"><a href="keepOption.html#GUID-36E9008E-48A5-4AB9-8C9D-2D477342594B">keepOption</a></code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d12121e2668 d12121e1658 ">
                                 <p><a id="d12121e2677" class="indexterm-anchor"></a><a id="d12121e2681" class="indexterm-anchor"></a>覆盖此备份的任何已配置保留策略，以便不将备份视为已过时，如<a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDCIBCJ">示例2-26中</a>所示。
                                 </p>
                                 <p>您可以使用<code class="codeph">KEEP</code>语法生成满足业务或法律要求的归档数据库备份。<code class="codeph">KEEP</code>设置是备份集（不是单个备份片）或图像副本的属性。
                                 </p>
                                 <p><span class="bold">注意：</span>您不能将<code class="codeph">KEEP</code>与<code class="codeph">BACKUP BACKUPSET</code>一起使用。</p>
                                 <p>使用<code class="codeph">KEEP</code>语法，您可以保留备份，使其在指定时间（ <code class="codeph">KEEP UNTIL</code> ）后被视为过时，或者使它们永远不会过时（ <code class="codeph">KEEP FOREVER</code> ）。如<a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDJJIJG">例2-27</a>所示，当您指定<code class="codeph">KEEP FOREVER</code>时，必须连接到恢复目录。</p>
                                 <p><span class="bold">注意：</span>您可以使用<code class="codeph"><a href="CHANGE.html#GUID-961151C6-EEFF-4347-AF1E-93EFDD5F5BF2">CHANGE</a></code>更改使用<code class="codeph">KEEP</code>生成的备份的状态。</p>
                                 <p><span class="bold">注意：</span>您不能将<code class="codeph">KEEP UNTIL</code>与<code class="codeph">PLUS ARCHIVELOG</code>一起<code class="codeph">PLUS ARCHIVELOG</code> 。</p>
                                 <p><span class="bold">另请参阅：</span> <span class="italic"><code class="codeph"><a href="keepOption.html#GUID-36E9008E-48A5-4AB9-8C9D-2D477342594B">keepOption</a></code></span>以获取有关使用<code class="codeph">KEEP</code>选项进行的备份的更多信息</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d12121e2758" headers="d12121e1655 ">
                                 <p><code class="codeph">MAXSETSIZE</code> <span class="italic"><code class="codeph"><a href="sizeSpec.html#GUID-146EDBEE-BCED-4BD4-A720-8E51AA8DC577">sizeSpec</a></code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d12121e2758 d12121e1658 ">
                                 <p><a id="d12121e2770" class="indexterm-anchor"></a>指定备份集的最大大小（如<a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDHAGDD">示例2-17中</a>所示）。RMAN将所有备份集限制为此大小。
                                 </p>
                                 <p>备份集可以跨多个磁带，因此每个数据文件中的块都会写入多个磁带。如果多卷备份集中的一个磁带发生故障，则会丢失所有磁带上的数据而不是一个磁带上的数据。由于备份集始终包含整个文件而不是文件的一部分，因此可以使用<code class="codeph">MAXSETSIZE</code>指定每个备份集可以放在一个磁带上。
                                 </p>
                                 <p>指定大小（以字节为单位）（默认），千字节（ <code class="codeph">K</code> ），兆字节（ <code class="codeph">M</code> ）或千兆字节（ <code class="codeph">G</code> ）。例如，要将备份集限制为3 MB，请指定<code class="codeph">MAXSETSIZE 3M</code> 。默认大小以字节为单位，从千字节向下舍入。例如， <code class="codeph">MAXSETSIZE 3000</code>向下舍入为2 KB（2048字节）。最小值必须大于或等于数据库块大小。
                                 </p>
                                 <p>每个备份集中的默认文件数由<code class="codeph"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDEECJA">FILESPERSET</a></code>确定，默认为64。指定<code class="codeph">MAXSETSIZE</code> ，RMAN会尝试根据<code class="codeph">MAXSETSIZE</code>参数限制备份集的大小（以字节为单位）。即使生成的备份集的总大小小于<code class="codeph">MAXSETSIZE</code>应用对备份集中文件数的限制。</p>
                                 <p><span class="bold">注意：</span>如果与<code class="codeph">BACKUP</code> <code class="codeph"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDFDFEH">AS COPY</a></code>一起使用，此选项会导致出现错误消息。如果在设置了<code class="codeph">MAXSETSIZE</code>的通道上运行<code class="codeph">BACKUP AS COPY</code> ， <code class="codeph">MAXSETSIZE</code>以静默方式忽略<code class="codeph">MAXSETSIZE</code> 。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d12121e2835" headers="d12121e1655 ">
                                 <p><span class="italic"><code class="codeph"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__I1017236">notBackedUpSpec</a></code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d12121e2835 d12121e1658 ">
                                 <p><a id="d12121e2843" class="indexterm-anchor"></a>根据是否存在指定数量的备份（而不是过时），或者是否自指定日期以来备份日志，限制要备份的归档重做日志文件集。
                                 </p>
                                 <p><span class="bold">另请参见：</span> <span class="italic"><code class="codeph"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__I1017236">notBackedUpSpec</a></code></span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d12121e2857" headers="d12121e1655 ">
                                 <p id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDCHHBH"><code class="codeph">NOCHECKSUM</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d12121e2857 d12121e1658 ">
                                 <p><a id="d12121e2863" class="indexterm-anchor"></a><a id="d12121e2865" class="indexterm-anchor"></a>在备份期间禁止块校验和。
                                 </p>
                                 <p>校验和是根据数据块的内容计算的数字。<code class="codeph">DB_BLOCK_CHECKSUM</code>是一个数据库初始化参数，用于控制数据库（而非备份）中数据文件中块的校验和的写入。如果<code class="codeph">DB_BLOCK_CHECKSUM</code>是<code class="codeph">typical</code> ，则数据库在正常操作期间计算每个块的校验和，并在将其写入磁盘之前将其存储在块中。当数据库稍后从磁盘读取块时，它会重新计算校验和并将其与存储的值进行比较。如果它们不匹配，则块被损坏。
                                 </p>
                                 <p><span class="bold">注意：</span>即使<code class="codeph">DB_BLOCK_CHECKSUM=false</code>也无法禁用<code class="codeph">SYSTEM</code>表空间中数据文件的校验和。
                                 </p>
                                 <p>默认情况下， <code class="codeph">BACKUP</code>命令计算每个块的校验和并将其存储在备份中。<code class="codeph">BACKUP</code>命令忽略<code class="codeph">DB_BLOCK_CHECKSUM</code>的值，因为此初始化参数适用于数据库中的数据文件，而不是备份。如果指定<code class="codeph">NOCHECKSUM</code>选项，则RMAN在写入备份时不会执行块的校验和。
                                 </p>
                                 <p>在恢复备份数据文件时，RMAN尊重<a id="d12121e2905" class="indexterm-anchor"></a><a id="d12121e2907" class="indexterm-anchor"></a> <code class="codeph">DB_BLOCK_CHECKSUM</code>初始化参数设置。如果<code class="codeph">DB_BLOCK_CHECKSUM</code>设置为<code class="codeph">false</code> RMAN将清除校验和。如果设置为<code class="codeph">typical</code> ，则RMAN会在从备份还原并写入数据文件时验证校验和。
                                 </p>
                                 <p><span class="bold">注意：</span>您可以通过指定<code class="codeph">NOCHECKSUM</code>来关闭校验和检查，但不能禁用其他物理一致性检查，例如<code class="codeph">NOCHECKSUM</code>和页脚的检查。
                                 </p>
                                 <p><span class="bold">另请参阅：</span> <a href="../refrn/DB_BLOCK_CHECKSUM.html#REFRN-GUID-A0F72B65-BC1C-441B-824E-03ADCE66063A" target="_blank"><span class="italic">Oracle数据库参考</span></a> ，以获取有关<code class="codeph">DB_BLOCK_CHECKSUM</code>初始化参数的更多信息</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d12121e2943" headers="d12121e1655 ">
                                 <p><code class="codeph">NOEXCLUDE</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d12121e2943 d12121e1658 ">
                                 <p>在<code class="codeph">BACKUP</code> <code class="codeph"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDFCICI">DATABASE</a></code>或<code class="codeph">BACKUP COPY OF DATABASE</code>命令上指定时，RMAN会备份所有表空间，包括已输入<code class="codeph"><a href="CONFIGURE.html#GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A">CONFIGURE</a></code> <code class="codeph">EXCLUDE</code>命令的任何表空间。此选项不会覆盖<code class="codeph"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDJJJCB">SKIP</a></code> <code class="codeph">OFFLINE</code>或<code class="codeph">SKIP READONLY</code> 。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d12121e2980" headers="d12121e1655 ">
                                 <p><code class="codeph">POOL</code> <span class="italic"><code class="codeph">integer</code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d12121e2980 d12121e1658 ">
                                 <p><a id="d12121e2990" class="indexterm-anchor"></a>指定存储备份的媒体池。请参阅您的媒体管理文档以查看是否支持<code class="codeph">POOL</code> 。
                                 </p>
                                 <p><span class="bold">注意：</span>此选项不适用于<code class="codeph"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDFDFEH">AS COPY</a></code>并导致错误。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d12121e3005" headers="d12121e1655 ">
                                 <p><code class="codeph">代理</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d12121e3005 d12121e1658 ">
                                 <p><a id="d12121e3011" class="indexterm-anchor"></a><a id="d12121e3015" class="indexterm-anchor"></a><a id="d12121e3019" class="indexterm-anchor"></a>使用代理复制功能备份指定的文件，从而使介质管理软件可以控制存储设备与磁盘上的数据文件之间的数据传输。媒体管理器 - 而不是RMAN  - 决定如何以及何时移动数据。
                                 </p>
                                 <p>当您使用<code class="codeph">PROXY</code>选项运行<code class="codeph">BACKUP</code>时，RMAN执行以下步骤：</p>
                                 <ol>
                                    <li>
                                       <p>搜索具有代理功能的指定设备类型的通道。如果未找到此类通道，则RMAN会发出警告并尝试对指定文件进行常规（即非代理）备份。</p>
                                    </li>
                                    <li>
                                       <p>如果RMAN找到支持代理的通道，则它会调用媒体管理器以检查它是否可以代理复制文件。如果媒体管理器无法代理复制，则RMAN使用传统备份集备份文件。</p>
                                    </li>
                                 </ol>
                                 <p><span class="bold">注意：</span>如果指定<code class="codeph">PROXY</code> ，则<code class="codeph">%p</code>变量必须在<code class="codeph"><a href="formatSpec.html#GUID-E51F637A-57E0-4B06-803F-3F879DF5BEED__BABGHHGH">%U</a></code>显式或隐式包含在<code class="codeph">FORMAT</code>字符串中。</p>
                                 <p><span class="bold">注意：</span>此选项不适用于<code class="codeph"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDFDFEH">AS COPY</a></code>并导致错误。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d12121e3065" headers="d12121e1655 ">
                                 <p><code class="codeph">只要</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d12121e3065 d12121e1658 ">
                                 <p>当数据库无法代理复制而不是创建传统备份集时，会导致数据库发出错误消息。如果您不希望RMAN在代理副本失败时尝试传统副本，请使用<code class="codeph">ONLY</code>选项。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d12121e3076" headers="d12121e1655 ">
                                 <p><code class="codeph">REUSE</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d12121e3076 d12121e1658 ">
                                 <p><a id="d12121e3082" class="indexterm-anchor"></a><a id="d12121e3084" class="indexterm-anchor"></a><a id="d12121e3088" class="indexterm-anchor"></a>使RMAN能够覆盖与<code class="codeph">BACKUP</code>当前正在创建的文件同名的现有备份或副本。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d12121e3098" headers="d12121e1655 ">
                                 <p id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__BGBJCAHI"><span class="italic"><code class="codeph"><span class="codeinlineitalic"><a href="sizeSpec.html#GUID-146EDBEE-BCED-4BD4-A720-8E51AA8DC577">sizeSpec</a></span></code></span> <code class="codeph">SECTION SIZE</code> <span class="italic"><code class="codeph"><span class="codeinlineitalic"><a href="sizeSpec.html#GUID-146EDBEE-BCED-4BD4-A720-8E51AA8DC577">sizeSpec</a></span></code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d12121e3098 d12121e1658 ">
                                 <p><a id="d12121e3111" class="indexterm-anchor"></a><a id="d12121e3113" class="indexterm-anchor"></a><a id="d12121e3115" class="indexterm-anchor"></a><a id="d12121e3119" class="indexterm-anchor"></a><a id="d12121e3123" class="indexterm-anchor"></a>指定在数据文件或数据文件副本备份期间生成的每个备份部分的大小。
                                 </p>
                                 <p>通过设置此参数，RMAN可以创建<span class="bold">多节备份</span> 。在多节备份中，RMAN创建一个备份片，其中包含一个<span class="bold">文件节</span> ，该<span class="bold">节</span>是<span class="bold">文件中</span>连续的块范围。多节备份的所有部分都具有相同的大小。
                                 </p>
                                 <p>文件部分使RMAN能够为备份单个大型数据文件创建多个步骤。RMAN通道可以独立并行地处理每个步骤，每个通道生成一个多节备份集的一部分。</p>
                                 <p>多节备份可以存储为映像副本或备份集（完整备份和增量备份）。要创建多节图像副本或增量备份， <code class="codeph">COMPATIBLE</code>参数必须为12.0.0或更高。
                                 </p>
                                 <p><span class="bold">另请参阅：</span> <a href="../bradv/backing-up-database.html#BRADV665" target="_blank"><span class="italic">Oracle数据库备份和恢复用户指南</span></a> ，以获取有关多节图像副本的更多信息。
                                 </p>
                                 <p><span class="bold">注意：</span> RMAN始终创建多层备份，并将<code class="codeph">FILESPERSET</code>设置为1。
                                 </p>
                                 <p>如果指定的段大小大于文件大小，则RMAN不会对文件使用多段备份。如果指定的小部分大小将产生超过256个部分，则RMAN会将部分大小增加到一个导致恰好256个部分的值。</p>
                                 <p><span class="bold">注意：</span>根据您在RMAN语法中指定此参数的位置，您可以为同一备份作业中的不同文件指定不同的节大小。
                                 </p>
                                 <p><span class="bold">注意：</span>您不能将<code class="codeph">SECTION SIZE</code>与<code class="codeph">MAXPIECESIZE</code>一起<code class="codeph">MAXPIECESIZE</code> 。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d12121e3174" headers="d12121e1655 ">
                                 <p><span class="italic"><code class="codeph"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__I1017259">skipSpec</a></code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d12121e3174 d12121e1658 ">
                                 <p><a id="d12121e3182" class="indexterm-anchor"></a><a id="d12121e3186" class="indexterm-anchor"></a>如果数据文件或归档重做日志文件不可访问，脱机或只读，则从备份中排除这些文件或归档重做日志文件。
                                 </p>
                                 <p><span class="bold">另请参阅：</span> <span class="italic"><code class="codeph"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__I1017259">skipSpec</a></code></span>了解详细信息。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d12121e3201" headers="d12121e1655 ">
                                 <p><code class="codeph">TAG</code> <span class="italic"><code class="codeph">tag_name</code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d12121e3201 d12121e1658 ">
                                 <p><a id="d12121e3211" class="indexterm-anchor"></a><a id="d12121e3215" class="indexterm-anchor"></a><a id="d12121e3219" class="indexterm-anchor"></a><a id="d12121e3223" class="indexterm-anchor"></a><a id="d12121e3227" class="indexterm-anchor"></a>指定备份集，代理副本，数据文件副本或控制文件副本的用户指定标记名称。该标记应用于<code class="codeph">BACKUP</code>命令生成的输出文件。
                                 </p>
                                 <p>标记名称不区分大小写。名称不得超过30个字符。字符仅限于目标文件系统上文件名中有效的字符。例如，ASM不支持在其内部使用的文件名中使用连字符（ <code class="codeph">-</code> ）字符，因此<code class="codeph">weekly-incremental</code>不是ASM磁盘组中备份的有效标记名。环境变量在<code class="codeph">TAG</code>参数中无效。
                                 </p>
                                 <p>通常，标记名称是有意义的名称，例如<code class="codeph">MON_PM_BKUP</code>或<code class="codeph">WEEKLY_FULL_BKUP</code> 。标签是可重复使用的，因此备份集100可以具有一周的标签<code class="codeph">MON_PM_BKUP</code>而备份集105在下一周具有相同的标签。
                                 </p>
                                 <p>如果未指定标记名称，则默认情况下RMAN会为备份创建标记（控制文件自动备份除外）。默认标签使用格式<code class="codeph">TAG</code> <span class="italic"><code class="codeph">YYYYMMDDTHHMMSS</code></span> ，其中<span class="italic"><code class="codeph">YYYY</code></span>是年份， <span class="italic"><code class="codeph">MM</code></span>是月份， <span class="italic"><code class="codeph">DD</code></span>是日期， <span class="italic"><code class="codeph">HH</code></span>是小时（24小时格式）， <span class="italic"><code class="codeph">MM</code></span>是分钟， <span class="italic"><code class="codeph">SS</code></span>是秒。例如，数据文件<code class="codeph">1</code>的备份可能会收到标记<code class="codeph">TAG20130208T133437</code> 。日期和时间是指RMAN何时开始备份。如果一个<code class="codeph">BACKUP</code> <code class="codeph"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDIHCHG">AS BACKUPSET</a></code>命令创建了多个备份集，则为每个备份块分配相同的默认标记。
                                 </p>
                                 <p>您还可以在<span class="italic"><code class="codeph"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__BGBGHJEH">backupSpec</a></code></span>级别指定标记。如果您在以下位置指定标记：</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p>命令级别，然后该命令创建的所有备份集都具有标记。</p>
                                    </li>
                                    <li>
                                       <p><span class="italic"><code class="codeph">backupSpec</code></span>级别，然后使用不同备份规范创建的备份集可以具有不同的标记。
                                       </p>
                                    </li>
                                    <li>
                                       <p>两个级别，然后<span class="italic"><code class="codeph">backupSpec</code></span>的标记优先。
                                       </p>
                                    </li>
                                 </ul>
                                 <p><span class="bold">注意：</span>标记是备份集（对于<code class="codeph"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDIHCHG">AS BACKUPSET</a></code> ）或每个映像副本（对于<code class="codeph"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDFDFEH">AS COPY</a></code> ）的给定副本中的每个备份片段的属性。例如，如果运行<code class="codeph">BACKUP AS BACKUPSET COPIES 1 DATABASE TAG TUE_PM</code> ，则只存在备份集的一个副本，并且每个备份片段都有标记<code class="codeph">TUE_PM</code> 。假设该备份集具有主键<code class="codeph">1234</code> 。如果您随后运行<code class="codeph">BACKUP BACKUPSET 1234 TAG WED_PM</code> ，则备份集的第一个副本具有标记<code class="codeph">TUE_PM</code> ，备份集的第二个副本具有标记<code class="codeph">WED_PM</code> 。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d12121e3360" headers="d12121e1655 ">
                                 <p><code class="codeph">TO PLATFORM '</code> <span class="italic"><code class="codeph">platform</code></span> <code class="codeph">'</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d12121e3360 d12121e1658 ">
                                 <p>指定<a id="d12121e3372" class="indexterm-anchor"></a><a id="d12121e3376" class="indexterm-anchor"></a>跨平台备份将传输到的目标平台的全名。如果省略<code class="codeph">TO PLATFORM</code> ，则RMAN假定目标平台与源平台相同。
                                 </p>
                                 <p>由跨平台备份创建的备份集不会在控制文件中编目。</p>
                                 <p>您可以使用<code class="codeph">FOR TRANSPORT</code>或<code class="codeph">TO PLATFORM</code>来指示备份是跨平台备份。如果使用<code class="codeph">TO PLATFORM</code>指定平台名称，则在源平台上执行endianess转换（如果需要）。因此，您只能在指定的平台上还原此跨平台备份。如果省略<code class="codeph">TO PLATFORM</code> ，则可以在任何支持的平台上恢复此跨平台备份。<code class="codeph">V$TRANSPORTABLE_PLATFORM</code>视图提供有关受支持平台的信息。
                                 </p>
                                 <p><span class="bold">另见：</span> <span class="q">“ <a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__BGBFDFJE">FOR TRANSPORT</a> ”</span></p>
                                 <p><span class="bold">另请参阅：</span> <span class="q">“ <a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__BGBBBHIB">备份跨平台传输数据</a> ”，</span>以获取有关在创建跨平台备份之前打开数据库或表空间的模式的信息</p>
                                 <p><span class="bold">注意：</span> Oracle Database 12 <span class="italic">c</span>第1版（12.1）支持使用备份集的跨平台备份。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d12121e3426" headers="d12121e1655 ">
                                 <p>       <code class="codeph">允许不一致</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d12121e3426 d12121e1658 ">
                                 <p>使您可以备份不处于只读模式的表空间。</p>
                                 <p>您不能使用<code class="codeph">ALLOW INCONSISTENT</code>进行跨平台的整个数据库备份。
                                 </p>
                                 <p><span class="bold">另请参阅：</span> <span class="q">“ <a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__BGBIFHAH">允许不一致</a> ”</span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d12121e3447" headers="d12121e1655 ">
                                 <p><code class="codeph">PLATFORM UNPLUG INTO <span class="codeinlineitalic">filename</span></code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d12121e3447 d12121e1658 ">
                                 <p></p>
                                 <p>使用备份集创建PDB的跨平台一致备份。将PDB插入不同CDB所需的元数据存储在使用<span class="italic">filename</span>指定的XML文件中。
                                 </p>
                                 <p>您可以使用此备份执行PDB到指定平台的跨平台传输。在拔下插头之前必须关闭PDB。CDB必须处于读写模式。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d12121e3463" headers="d12121e1655 ">
                                 <p><code class="codeph">VALIDATE</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d12121e3463 d12121e1658 ">
                                 <p><a id="d12121e3469" class="indexterm-anchor"></a><a id="d12121e3473" class="indexterm-anchor"></a><a id="d12121e3477" class="indexterm-anchor"></a><a id="d12121e3479" class="indexterm-anchor"></a>扫描指定的文件并验证其内容，测试是否可以备份此文件以及数据块是否已损坏。
                                 </p>
                                 <p>RMAN不创建输出文件。此选项等效于对备份中指定的数据库文件使用<code class="codeph"><a href="VALIDATE.html#GUID-ECE57997-40CE-4029-A434-320441D2AD1E">VALIDATE</a></code>命令。
                                 </p>
                                 <p>如果未指定<code class="codeph">CHECK LOGICAL</code> ，则<code class="codeph">BACKUP VALIDATE</code>仅检查物理损坏。如果指定<code class="codeph">CHECK LOGICAL</code> ，则<code class="codeph">BACKUP VALIDATE</code>检查物理和逻辑损坏。RMAN使用它找到的任何损坏填充<code class="codeph">V$DATABASE_BLOCK_CORRUPTION</code>视图。
                                 </p>
                                 <p>您可以使用<code class="codeph"><a href="SET.html#GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3">SET</a></code> <code class="codeph">MAXCORRUPT</code>命令设置备份验证期间容忍的损坏块数限制。默认值为零。
                                 </p>
                                 <p>如果使用<code class="codeph">VALIDATE</code>执行<code class="codeph">BACKUP INCREMENTAL</code> ，则行为取决于是否启用了块更改跟踪。如果启用了更改跟踪，则RMAN仅验证更改的块;否则，RMAN将验证备份中包含的文件中的所有块。
                                 </p>
                                 <p><span class="bold">注意：</span>您无法验证备份集的备份。
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__BGBGHJEH"><span class="bold"><span class="italic">backupSpec</span></span></p>
                  <p>本子条款指定要备份的一个或多个对象的列表。每个<span class="italic">backupSpec</span>子句生成一个或多个备份集（ <code class="codeph"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDIHCHG">AS BACKUPSET</a></code> ）或映像副本（ <code class="codeph"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDFDFEH">AS COPY</a></code> ）。对于<code class="codeph">AS BACKUPSET</code> ，如果对象列表中指定或隐含的数据文件数超过每个备份集中的4个数据文件或16个归档重做日志文件的默认限制，则<span class="italic">backupSpec</span>子句将生成多个备份集。有关语法图，请参阅<span class="italic"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDCBGDA">backupSpec :: =</a></span> 。
                  </p>
                  <div class="tblformalwide" id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__GUID-11122EF8-7256-4D05-BF59-73835A56A970">
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="" width="100%" border="1" summary="Describes BACKUP command backupSpec parameters" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="29%" id="d12121e3566">语法元素</th>
                              <th align="left" valign="bottom" width="71%" id="d12121e3569">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d12121e3574" headers="d12121e3566 ">
                                 <p><span class="italic"><code class="codeph"><a href="archivelogRecordSpecifier.html#GUID-DDF929FF-796B-4AD6-AE58-F831CAFC7703">archivelogRecordSpecifier</a></code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d12121e3574 d12121e3569 ">
                                 <p><a id="d12121e3583" class="indexterm-anchor"></a><a id="d12121e3587" class="indexterm-anchor"></a>指定要备份的归档重做日志文件的范围。
                                 </p>
                                 <p>备份存档的重做日志<a id="d12121e3592" class="indexterm-anchor"></a><a id="d12121e3596" class="indexterm-anchor"></a> CDB，以具有<code class="codeph">SYSDBA</code>或<code class="codeph">SYSBACKUP</code>权限的普通用户身份连接到root。连接到PDB时，无法备份存档的重做日志。请参阅<span class="q">“ <a href="CONNECT.html#GUID-64ECF1B8-4F70-413E-BEBE-1D5E8CD48B67__BGBGAIGG">连接到CDB和PDB</a> ”</span> 。
                                 </p>
                                 <p>备份存档的重做日志文件时，RMAN可以自动执行存档日志故障转移。当至少一个对应于给定日志序列号和线程的归档日志可用时，RMAN备份日志。此外，如果RMAN备份的副本包含损坏的块，则它会在相同的归档重做日志文件的其他副本中搜索这些块的良好副本。</p>
                                 <p>如果命令找不到要备份的日志，则RMAN不会发出错误信号，因为这种情况可能存在，因为在上一个<code class="codeph">BACKUP ARCHIVELOG ALL</code> <code class="codeph"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDIEAIE">DELETE INPUT</a></code>命令之后没有生成新日志。此行为的唯一例外是指定<code class="codeph">SEQUENCE</code>数字子句时。在这种情况下，如果找不到指定序列的归档重做日志文件，RMAN将发出<code class="codeph">RMAN-06004</code>错误信号。
                                 </p>
                                 <p>如果指定<code class="codeph">BACKUP ARCHIVELOG ALL</code> ，则RMAN将备份每个不同日志序列号的一个副本。例如，如果归档到多个目的地，RMAN备份的每个日志序列号，而不是每个每个日志序列号的复印件<span class="italic">一份</span> 。对于其他命令，例如<code class="codeph"><a href="DELETE.html#GUID-FB4EAC69-4978-42F7-8B09-77C6736188B3">DELETE</a></code> <code class="codeph">ALL</code>确实引用了每个日志，甚至是重复的日志序列。
                                 </p>
                                 <p>如果在运行<code class="codeph">BACKUP ARCHIVELOG</code>时数据库已打开，并且未指定<code class="codeph">UNTIL</code>子句或<code class="codeph">SEQUENCE</code>参数，则RMAN将运行<code class="codeph">ALTER SYSTEM ARCHIVE LOG CURRENT</code> 。</p>
                                 <p><span class="bold">注意：</span>如果运行<code class="codeph">BACKUP ARCHIVELOG ALL</code> ，或者如果指定的日志范围包含先前化身的日志，则RMAN将备份先前化身的日志，以确保通过<code class="codeph">OPEN RESETLOGS</code>恢复可能需要的所有日志的可用性。</p>
                                 <p><span class="bold">另请参阅：</span> <span class="italic"><code class="codeph"><a href="archivelogRecordSpecifier.html#GUID-DDF929FF-796B-4AD6-AE58-F831CAFC7703">archivelogRecordSpecifier</a></code></span>用于语法，以及<a href="../bradv/backing-up-database.html#BRADV-GUID-4481CA5F-B1B5-4819-9E6B-7184951EC81A" target="_blank"><span class="italic">Oracle数据库备份和恢复用户指南</span></a>解释日志和自动日志切换的备份故障转移</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d12121e3686" headers="d12121e3566 ">
                                 <p><code class="codeph">BACKUPSET</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d12121e3686 d12121e3569 ">
                                 <p>指定备份集的备份。将此参数与<code class="codeph"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDGBFGF">DEVICE TYPE</a></code> <code class="codeph">sbt</code>子句一起使用可将磁盘上的备份卸载到磁带上（如<a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDGAGID">示例2-21</a>所示）。您无法从磁带备份到磁带或从磁带备份到磁盘：仅从磁盘备份到磁盘或从磁盘备份到磁带。
                                 </p>
                                 <p>如果在<code class="codeph">BACKUP BACKUPSET</code>命令上指定<code class="codeph"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDIEAIE">DELETE INPUT</a></code>选项，则RMAN将删除磁盘上存在的备份集的所有副本。例如，如果将备份双工为4个位置，则RMAN将删除所有4个备份集。<code class="codeph">ALL</code>选项不添加任何功能。
                                 </p>
                                 <p>RMAN执行<a id="d12121e3716" class="indexterm-anchor"></a><a id="d12121e3718" class="indexterm-anchor"></a><a id="d12121e3722" class="indexterm-anchor"></a> <strong class="term">备份备份集</strong>时<strong class="term">备份集故障转移</strong> 。当尝试备份的副本已损坏或丢失时，RMAN将搜索所有可用的备份副本。此行为类似于备份存在于多个归档目标中的归档重做日志文件时RMAN的行为。
                                 </p>
                                 <p>如果在<strong class="term">备份</strong>备份集时启用了<strong class="term">备份优化</strong> ，并且相同的备份集已备份到同一设备类型，则RMAN会跳过此备份集的备份。
                                 </p>
                                 <p>从Oracle Database Release 18c开始，您可以使用<code class="codeph">BACKUP AS COMPRESSED BACKUPSET</code>命令压缩未使用压缩创建的备份集。
                                 </p>
                                 <p>你可以使用<code class="codeph">BACKUP ...BACKUPSET</code>备份加密的备份集加密格式。在运行<code class="codeph">BACKUP</code>命令之前，使用<code class="codeph">SET ENCRYPTION FOR DATABASE ON</code>命令启用加密。
                                 </p>
                                 <p><span class="bold">注意：</span>对加密备份集使用<code class="codeph">BACKUP BACKUPSET</code>命令时，备份集将以加密形式备份。因为<code class="codeph">BACKUP BACKUPSET</code>只是将加密的备份集复制到磁盘或磁带，所以在<code class="codeph">BACKUP BACKUPSET</code>操作期间不需要解密密钥。在操作的任何部分期间，数据永远不会被解密。<code class="codeph">BACKUP BACKUPSET</code>命令既不能加密也不能解密备份集。
                                 </p>
                                 <p><span class="bold">注意：</span>您可以使用<code class="codeph">BACKUP COPIES</code>和<code class="codeph"><a href="SET.html#GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3">SET</a></code> <code class="codeph">BACKUP COPIES</code>双工备份备份集。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d12121e3782" headers="d12121e3566 ">
                                 <p><code class="codeph">所有</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d12121e3782 d12121e3569 ">
                                 <p>指定所有备份集。</p>
                                 <p></p>
                                 <p>与CDB一起使用时，RMAN会跳过备份已删除的PDB的备份。无法备份已删除的PDB备份集。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d12121e3793" headers="d12121e3566 ">
                                 <p><code class="codeph"> </code><span class="italic"><code class="codeph"><a href="completedTimeSpec.html#GUID-BC83D915-FF57-467D-A606-5B699F2EF4DE">completedTimeSpec</a></code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d12121e3793 d12121e3569 ">
                                 <p>根据完成时间标识备份集。</p>
                                 <p><span class="bold">另请参见：</span> <span class="italic"><code class="codeph"><a href="completedTimeSpec.html#GUID-BC83D915-FF57-467D-A606-5B699F2EF4DE">completedTimeSpec</a></code></span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d12121e3815" headers="d12121e3566 ">
                                 <p><code class="codeph">   </code><span class="italic"><code class="codeph">integer</code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d12121e3815 d12121e3569 ">
                                 <p>根据主键指定备份集。您可以从<code class="codeph"><a href="LIST.html#GUID-2BAB704C-A3C9-4F76-8D96-4BD961FBEF2E">LIST</a></code> <code class="codeph">BACKUP</code>命令的输出中获取备份集的主键。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d12121e3834" headers="d12121e3566 ">
                                 <p><span>  </span> <code class="codeph">FROM TAG</code> <span class="italic"><code class="codeph">tag_name</code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d12121e3834 d12121e3569 ">
                                 <p>按标签名称标识一个或多个备份集。如果多个备份集具有相同的标记名称，则它们都将被备份。<span class="italic"><code class="codeph">tag_name</code></span>不区分大小写。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d12121e3852" headers="d12121e3566 ">
                                 <p><code class="codeph">CONTROLFILECOPY</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d12121e3852 d12121e3569 ">
                                 <p>指定一个或多个备份的控制文件副本。</p>
                                 <p><a id="d12121e3860" class="indexterm-anchor"></a>可以使用<code class="codeph">BACKUP AS COPY CURRENT CONTROLFILE</code>命令或SQL <code class="codeph">ALTER DATABASE BACKUP CONTROLFILE TO '...'</code>命令创建控制文件副本。
                                 </p>
                                 <p><span class="bold">注意：</span>控制文件自动备份不是控制文件副本。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d12121e3874" headers="d12121e3566 ">
                                 <p><code class="codeph">'</code> <span class="italic"><code class="codeph">filename</code></span> <code class="codeph">'</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d12121e3874 d12121e3569 ">
                                 <p>按文件名指定控制文件副本。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d12121e3887" headers="d12121e3566 ">
                                 <p><code class="codeph">所有</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d12121e3887 d12121e3569 ">
                                 <p>指定所有控制文件副本。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d12121e3895" headers="d12121e3566 ">
                                 <p><code class="codeph">LIKE</code> <code class="codeph">'</code> <span class="italic"><code class="codeph">string_pattern</code></span> <code class="codeph">'</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d12121e3895 d12121e3569 ">
                                 <p>按文件名模式指定控制文件副本。百分号（ <code class="codeph">%</code> ）为通配符，表示0个或更多字符;下划线（ <code class="codeph">_</code> ）是一个通配符，表示1个字符。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d12121e3916" headers="d12121e3566 ">
                                 <p><span class="italic"><code class="codeph"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__I1017172">copyOfSpec</a></code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d12121e3916 d12121e3569 ">
                                 <p>备份数据文件的先前映像副本以及可能的控制文件。</p>
                                 <p><span class="bold">另请参见：</span> <span class="italic"><code class="codeph"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__I1017172">copyOfSpec</a></code></span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d12121e3935" headers="d12121e3566 ">
                                 <p><code class="codeph">当前的控制文件</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d12121e3935 d12121e3569 ">
                                 <p>指定当前控制文件。备份为备份集时，RMAN首先创建快照控制文件以实现读取一致性。您可以使用<code class="codeph"><a href="CONFIGURE.html#GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A">CONFIGURE</a></code>命令<code class="codeph"><a href="CONFIGURE.html#GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A">CONFIGURE</a></code>快照控制文件的位置。在Oracle Real Application Clusters（Oracle RAC）环境中，以下限制适用：</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p>快照控制文件位置必须位于共享存储上，即所有Oracle RAC实例均可访问的存储。</p>
                                    </li>
                                    <li>
                                       <p>当前控制文件的映像副本的目标必须是共享存储。</p>
                                    </li>
                                 </ul>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d12121e3955" headers="d12121e3566 "><code class="codeph">APPLICATION ROOT DATABASE <span class="codeinlineitalic">app_root_name</span></code></td>
                              <td align="left" valign="top" width="71%" headers="d12121e3955 d12121e3569 ">
                                 <p></p>
                                 <p>创建应用程序根目录中所有数据文件的备份。</p>
                                 <p>使用<code class="codeph">SYSDBA</code>或<code class="codeph">SYSBACKUP</code>权限以普通用户身份连接到CDB根目录。或者，以具有<code class="codeph">SYSDBA</code>或<code class="codeph">SYSBACKUP</code>权限的应用程序通用用户身份连接到应用程序根目录。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d12121e3979" headers="d12121e3566 ">
                                 <p><code class="codeph" id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDFCICI">数据库</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d12121e3979 d12121e3569 ">
                                 <p>创建数据库中所有数据文件的备份。如果生成备份集，则RMAN只能包含数据文件和控制文件：它不能包含存档的重做日志文件。</p>
                                 <p>在一个<a id="d12121e3988" class="indexterm-anchor"></a><a id="d12121e3992" class="indexterm-anchor"></a> CDB，创建整个CDB中所有数据文件的备份。您连接到根以备份整个CDB。在PDB中，创建PDB中所有数据文件的备份。要备份PDB，请连接到该PDB。请参阅<span class="q">“ <a href="CONNECT.html#GUID-64ECF1B8-4F70-413E-BEBE-1D5E8CD48B67__BGBGAIGG">连接到CDB和PDB</a> ”</span> 。
                                 </p>
                                 <p></p>
                                 <p>在应用程序容器中，创建应用程序容器中所有数据文件的备份。这包括应用程序根目录和属于此应用程序根目录的所有应用程序PDB。以具有<code class="codeph">SYSDBA</code>或<code class="codeph">SYSBACKUP</code>权限的应用程序通用用户身份连接到应用程序根目录。
                                 </p>
                                 <p>如果<span class="italic"><code class="codeph"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__BGBGHJEH">backupSpec</a></code></span>包含数据文件1，如果<a id="d12121e4017" class="indexterm-anchor"></a> <code class="codeph"><a href="CONFIGURE.html#GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A">CONFIGURE</a> <a href="CONFIGURE.html#GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A__CHDDCAHE">CONTROLFILE AUTOBACKUP</a></code>为<code class="codeph">OFF</code> ，然后RMAN自动在备份中包含控制文件。如果使用服务器参数文件启动实例，则RMAN还会在备份中包含此参数文件。
                                 </p>
                                 <p>如果<span class="italic"><code class="codeph"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__BGBGHJEH">backupSpec</a></code></span>包括数据文件1，并且如果<code class="codeph"><a href="CONFIGURE.html#GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A">CONFIGURE</a> <a href="CONFIGURE.html#GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A__CHDDCAHE">CONTROLFILE AUTOBACKUP</a></code>是<code class="codeph">ON</code> ，则RMAN <span class="italic">不会</span>自动包括在输出控制文件中。相反，RMAN生成一个单独的控制文件自动备份片。如果使用服务器参数文件启动实例，则RMAN将此参数文件包含在自动备份片中。
                                 </p>
                                 <p>完整数据库备份通常是映像副本或压缩备份集。出于某些目的，映像副本比备份集更灵活（例如在增量更新的备份策略中使用），并且压缩备份集可以更有效地利用存储空间，如果创建它们所涉及的CPU开销是可以容忍的。</p>
                                 <p><span class="bold">注意：</span>要在<code class="codeph">CONTROLFILE AUTOBACKUP</code>为<code class="codeph">ON</code>时强制RMAN将当前控制文件包含在备份中，请指定<code class="codeph"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDCIAAH">INCLUDE CURRENT CONTROLFILE</a></code>子句。
                                 </p>
                                 <p><span class="bold">注意：</span> CDB备份期间不会备份代理PDB。
                                 </p>
                                 <p><span class="bold">另请参阅：</span> <code class="codeph"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDECCGE">TABLESPACE</a></code>描述，以了解数据库包含bigfile表空间时的备份行为</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d12121e4081" headers="d12121e3566 ">
                                 <p><code class="codeph">数据库根</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d12121e4081 d12121e3569 ">
                                 <p>在CDB中， <a id="d12121e4088" class="indexterm-anchor"></a><a id="d12121e4092" class="indexterm-anchor"></a>在根目录中创建数据文件的备份。使用通用<code class="codeph">SYSDBA</code>或<code class="codeph">SYSBACKUP</code>权限以普通用户身份连接到root用户。
                                 </p>
                                 <p></p>
                                 <p>在应用程序容器中，创建应用程序根目录和所有应用程序PDB中的文件备份。以具有<code class="codeph">SYSDBA</code>或<code class="codeph">SYSBACKUP</code>权限的应用程序通用用户身份连接到应用程序根目录。
                                 </p>
                                 <p>请参阅以前的<code class="codeph">DATABASE</code>说明。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d12121e4118" headers="d12121e3566 ">
                                 <p><code class="codeph">PLUGGABLE DATABASE</code> <span class="italic"><code class="codeph">pdb_name</code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d12121e4118 d12121e3569 ">
                                 <p>创建一个<a id="d12121e4129" class="indexterm-anchor"></a><a id="d12121e4133" class="indexterm-anchor"></a>备份逗号分隔列表中指定的一个或多个PDB中的数据文件。按照<span class="q">“ <a href="CONNECT.html#GUID-64ECF1B8-4F70-413E-BEBE-1D5E8CD48B67__BGBGAIGG">连接到CDB和PDB</a> ”中的说明</span>连接到根目录。
                                 </p>
                                 <p></p>
                                 <p>对于应用程序容器，请使用以下子句：</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p>要备份一个或多个应用程序PDB，请以具有<code class="codeph">SYSDBA</code>或<code class="codeph">SYSBACKUP</code>权限的应用程序通用用户身份连接到应用程序根目录。使用逗号分隔的列表指定多个应用程序PDB。
                                       </p>
                                    </li>
                                    <li>
                                       <p>要备份应用程序根目录和所有应用程序PDB，请以具有<code class="codeph">SYSDBA</code>或<code class="codeph">SYSBACKUP</code>权限的公共用户身份连接到CDB根目录，并将应用程序根目录名称指定为<code class="codeph">pdb_name</code> 。
                                       </p>
                                    </li>
                                 </ul>
                                 <p><span class="bold">注意：</span>不支持备份代理PDB</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d12121e4172" headers="d12121e3566 ">
                                 <p><span class="italic"><code class="codeph"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__I1017077">datafileCopySpec</a></code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d12121e4172 d12121e3569 ">
                                 <p><a id="d12121e4180" class="indexterm-anchor"></a>指定一个或多个数据文件映像副本的文件名。
                                 </p>
                                 <p><span class="bold">另请参阅：</span> <span class="italic"><code class="codeph"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__I1017077">datafileCopySpec</a></code></span>以获取详细信息</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d12121e4195" headers="d12121e3566 ">
                                 <p><code class="codeph">DATAFILE</code> <span class="italic"><code class="codeph"><a href="datafileSpec.html#GUID-A0A69931-D404-4D89-8F95-3AB898B6A220">datafileSpec</a></code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d12121e4195 d12121e3569 ">
                                 <p>指定一个或多个数据文件的列表。<code class="codeph">BACKUP</code>数据文件1时，请参阅<code class="codeph">BACKUP</code> <code class="codeph"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDFCICI">DATABASE</a></code>对RMAN行为的描述。
                                 </p>
                                 <p><span class="bold">另请参见：</span> <span class="italic"><code class="codeph"><a href="datafileSpec.html#GUID-A0A69931-D404-4D89-8F95-3AB898B6A220">datafileSpec</a></code></span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d12121e4225" headers="d12121e3566 ">
                                 <p><code class="codeph">数据泵</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d12121e4225 d12121e3569 ">
                                 <p>指定一个<a id="d12121e4232" class="indexterm-anchor"></a>在执行跨平台表空间备份时创建数据泵导出转储文件。
                                 </p>
                                 <p>导出转储文件包含正在传输的只读表空间的元数据。您需要此元数据来插入目标数据库中的表空间。转储文件在单独的备份集中创建。如果将<code class="codeph">DATAPUMP</code>子句与<code class="codeph">INCREMENTAL FROM SCN</code> ，则表空间必须处于只读模式。
                                 </p>
                                 <p>此子句不能与<code class="codeph">ALLOW INCONSISTENT</code>子句一起使用。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d12121e4251" headers="d12121e3566 ">
                                 <p>      <code class="codeph">FORMAT</code> <span class="italic"><code class="codeph"><a href="formatSpec.html#GUID-E51F637A-57E0-4B06-803F-3F879DF5BEED">formatSpec</a></code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d12121e4251 d12121e3569 ">
                                 <p>指定用于存储包含导出转储文件的备份片的模式。如果省略<code class="codeph">FORMAT</code> ，则使用<code class="codeph">BACKUP</code>命令中提供的格式。如果<code class="codeph">BACKUP</code>命令也没有使用<code class="codeph">FORMAT</code>子句，则默认格式用于备份片段。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d12121e4277" headers="d12121e3566 ">
                                 <p><code class="codeph">恢复区域</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d12121e4277 d12121e3569 ">
                                 <p><a id="d12121e4283" class="indexterm-anchor"></a>备份在当前和所有先前快速恢复区域目标中创建的恢复文件。备份可以转到SBT和磁盘。要备份到磁盘，必须使用<span class="italic"><a href="allocOperandList.html#GUID-8B6C1DAB-F27A-4DA8-BECC-5DA04F5907DA__CIHHJFBD">toDestSpec中</a></span>概述的<code class="codeph">TO DESTINATION</code>语法。</p>
                                 <p>恢复文件是完整备份集和增量备份集，控制文件自动备份，数据文件副本和归档重做日志文件。如果存档的重做日志文件丢失或损坏，则RMAN会在恢复区域外查找可用于备份的日志的良好副本。<span class="italic">不</span>备份闪回日志，当前控制文件和联机重做日志文件。
                                 </p>
                                 <p>默认情况下，即使<code class="codeph"><a href="CONFIGURE.html#GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A">CONFIGURE</a></code> <code class="codeph">BACKUP OPTIMIZATION</code>设置为<code class="codeph">OFF</code>也会为此命令启用<code class="codeph">BACKUP OPTIMIZATION</code> 。您可以通过指定<code class="codeph">FORCE</code>来禁用<code class="codeph">BACKUP RECOVERY AREA</code>的备份优化。</p>
                                 <p><span class="bold">注意：</span>如果未启用快速恢复区域但先前已启用，则会备份在先前快速恢复区域位置中创建的文件。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d12121e4322" headers="d12121e3566 ">
                                 <p><code class="codeph">DB_RECOVERY_FILE_DEST</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d12121e4322 d12121e3569 ">
                                 <p><code class="codeph">RECOVERY AREA</code>和<code class="codeph">DB_RECOVERY_FILE_DEST</code>是同义词。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d12121e4336" headers="d12121e3566 ">
                                 <p><code class="codeph">恢复文件</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d12121e4336 d12121e3569 ">
                                 <p><a id="d12121e4342" class="indexterm-anchor"></a><a id="d12121e4344" class="indexterm-anchor"></a>备份磁盘上的<span class="italic">所有</span>恢复文件，无论它们是存储在快速恢复区还是磁盘上的其他位置。备份可以转到SBT或磁盘。要备份到磁盘，必须使用<span class="italic"><a href="allocOperandList.html#GUID-8B6C1DAB-F27A-4DA8-BECC-5DA04F5907DA__CIHHJFBD">toDestSpec中</a></span>概述的<code class="codeph">TO DESTINATION</code>语法。</p>
                                 <p>恢复文件包括完整和增量备份集，控制文件自动备份，归档重做日志文件和数据文件副本。</p>
                                 <p>默认情况下，即使<code class="codeph"><a href="CONFIGURE.html#GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A">CONFIGURE</a></code> <code class="codeph">BACKUP OPTIMIZATION</code>设置为<code class="codeph">OFF</code>也会为此命令启用<code class="codeph">BACKUP OPTIMIZATION</code> 。您可以通过指定<code class="codeph">FORCE</code>来禁用<code class="codeph">RECOVERY FILES</code>的备份优化。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d12121e4379" headers="d12121e3566 ">
                                 <p><code class="codeph">SPFILE</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d12121e4379 d12121e3569 ">
                                 <p><a id="d12121e4385" class="indexterm-anchor"></a><a id="d12121e4389" class="indexterm-anchor"></a>在备份集中包含服务器参数文件。服务器参数文件备份不支持<code class="codeph">AS COPY</code>选项。
                                 </p>
                                 <p>RMAN备份目标数据库当前使用的服务器参数文件。使用初始化参数文件启动实例时，RMAN无法备份服务器参数文件。RMAN无法对<code class="codeph">SPFILE</code>进行增量备份。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d12121e4403" headers="d12121e3566 "><code class="codeph" id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDECCGE">TABLESPACE</code> <span class="italic"><code class="codeph">tablespace_name</code></span></td>
                              <td align="left" valign="top" width="71%" headers="d12121e4403 d12121e3569 ">
                                 <p>指定一个或多个表空间的名称。RMAN将表空间名称内部转换为数据文件列表，然后备份当前属于表空间的所有数据文件。如果<code class="codeph">SYSTEM</code>表空间（以及数据文件1）包含在备份中，并且未配置<code class="codeph"><a href="CONFIGURE.html#GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A__CHDDCAHE">CONTROLFILE AUTOBACKUP</a></code> ，则RMAN还会创建控制文件的副本。
                                 </p>
                                 <p>什么时候<a id="d12121e4422" class="indexterm-anchor"></a><a id="d12121e4426" class="indexterm-anchor"></a>连接到CDB中的根，指的是根中的表空间。直接连接到PDB时，指PDB中的表空间。有关连接到CDB或PDB的信息，请参阅<span class="q">“ <a href="CONNECT.html#GUID-64ECF1B8-4F70-413E-BEBE-1D5E8CD48B67__BGBGAIGG">连接到CDB和PDB</a> ”</span> 。
                                 </p>
                                 <p>您无法备份本地管理的<a id="d12121e4439" class="indexterm-anchor"></a>临时表空间，但您可以备份字典管理的表空间。
                                 </p>
                                 <p>如果满足以下条件，则RMAN可以备份<a id="d12121e4444" class="indexterm-anchor"></a>运输后<span class="italic">未</span>进行读/写的可传输表空间：</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p><code class="codeph">COMPATIBLE</code>初始化参数设置为11.0.0或更高。
                                       </p>
                                    </li>
                                    <li>
                                       <p>您正在使用Oracle Database <span class="italic">11g</span>或更高版本的RMAN客户端。
                                       </p>
                                    </li>
                                 </ul>
                                 <p>如果不满足上述任何条件，则RMAN会自动跳过尚未进行读/写的可传输表空间。如果在未满足任何条件时显式指定可传输表空间，则RMAN会发出错误消息，指出表空间不存在。</p>
                                 <p><span class="bold">注意：</span> <a id="d12121e4471" class="indexterm-anchor"></a>如果重命名表空间，则RMAN会检测到表空间已更改其名称，并在下次重新同步时更新恢复目录。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d12121e4477" headers="d12121e3566 ">
                                 <p><span class="italic"><code class="codeph"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__I1017449">backupSpecOperand</a></code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d12121e4477 d12121e3569 ">
                                 <p><span class="italic"><code class="codeph">backupSpecOperand</code></span>的<span class="italic"><code class="codeph"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__BGBGHJEH">backupSpec</a></code></span>指定适用于<span class="italic"><code class="codeph"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__BGBGHJEH">backupSpec</a></code></span>选项。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__I1017449"><span class="bold"><span class="italic">backupSpecOperand</span></span></p>
                  <p>本小节指定了影响<span class="italic"><code class="codeph"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__BGBGHJEH">backupSpec</a></code></span>子句的各种选项和参数。许多子条款也与<span class="italic"><code class="codeph"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__I1009966">backupOperand</a></code></span>一起<span class="italic"><code class="codeph"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__I1009966">backupOperand</a></code></span> 。此处列出了与<span class="italic"><code class="codeph"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__I1009966">backupOperand</a></code></span>不共享的选项。有关语法图，请参阅<span class="italic"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDDCEFI">backupSpecOperand :: =</a></span> 。
                  </p>
                  <div class="tblformalwide" id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__GUID-AEF14607-9C91-42D1-91AC-10E2ECBBB14C">
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="" width="100%" border="1" summary="Describes BACKUP command backupSpecOperand parameters" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="29%" id="d12121e4534">语法元素</th>
                              <th align="left" valign="bottom" width="71%" id="d12121e4537">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d12121e4542" headers="d12121e4534 ">
                                 <p><code class="codeph">删除[全部]输入</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d12121e4542 d12121e4537 ">
                                 <p><a id="d12121e4548" class="indexterm-anchor"></a><a id="d12121e4550" class="indexterm-anchor"></a><a id="d12121e4554" class="indexterm-anchor"></a><a id="d12121e4558" class="indexterm-anchor"></a>成功备份后删除输入文件。
                                 </p>
                                 <p>仅在备份存档的重做日志文件，数据文件副本（ <code class="codeph">COPY OF</code>或<code class="codeph">DATAFILECOPY</code> ）或备份集时指定此选项。<code class="codeph">BACKUP ARCHIVELOG</code>命令仅备份每个不同日志序列号的一个副本，因此如果在<span class="italic">没有</span> <code class="codeph">ALL</code>关键字的<span class="italic">情况下</span>使用<code class="codeph">DELETE INPUT</code>选项，则RMAN仅删除它备份的文件的副本。
                                 </p>
                                 <p>指定<code class="codeph" id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDIEAIE">DELETE INPUT</code>选项等同于为输入文件发出<code class="codeph"><a href="DELETE.html#GUID-FB4EAC69-4978-42F7-8B09-77C6736188B3">DELETE</a></code>命令。备份存档的重做日志文件时，RMAN使用配置的设置来确定是否可以删除存档的重做日志（ <code class="codeph"><a href="CONFIGURE.html#GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A">CONFIGURE</a> <a href="CONFIGURE.html#GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A__CHDHCEEH">ARCHIVELOG DELETION POLICY</a> TO BACKED UP</code> ）。
                                 </p>
                                 <p><code class="codeph">ALL</code>选项仅适用于归档重做日志文件。如果运行<code class="codeph">DELETE ALL INPUT</code> ，则该命令将删除与<code class="codeph">BACKUP</code>命令中的选择条件匹配的相应归档重做日志文件或数据文件副本的所有副本（如<a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDJGDDC">示例2-19</a>所示）。例如，如果指定<code class="codeph">SEQUENCE</code> <span class="italic"><code class="codeph">n</code></span>子句，则RMAN将删除具有相同序列号<span class="italic"><code class="codeph">n</code></span>所有归档重做日志文件。
                                 </p>
                                 <p><span class="bold">注意：</span>如果可能，数据库会在快速恢复区域中保留已归档的重做日志文件，并在需要磁盘空间时自动删除它们。您可以使用<code class="codeph">BACKUP DELETE INPUT</code> ， <code class="codeph"><a href="DELETE.html#GUID-FB4EAC69-4978-42F7-8B09-77C6736188B3">DELETE</a></code> <code class="codeph">ARCHIVELOG</code>和<code class="codeph">DELETE OBSOLETE</code>命令从恢复区域内部或外部手动删除日志文件。<code class="codeph">BACKUP DELETE INPUT</code>恢复区时无需指定<code class="codeph">BACKUP DELETE INPUT</code> ，因为数据库会根据存档的重做日志删除策略和其他快速恢复区规则自动删除日志文件。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d12121e4650" headers="d12121e4534 ">
                                 <p><code class="codeph">FROM TAG</code> <span class="italic"><code class="codeph">tag_name</code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d12121e4650 d12121e4537 ">
                                 <p>按标签名称标识文件（请参见<a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDFGJJH">示例2-18</a> ）。仅备份与tag_name匹配的文件。在其他几个命令的上下文中定义。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d12121e4664" headers="d12121e4534 ">
                                 <p><code class="codeph" id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDCIAAH">包括当前的控制文件</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d12121e4664 d12121e4537 ">
                                 <p><a id="d12121e4670" class="indexterm-anchor"></a><a id="d12121e4674" class="indexterm-anchor"></a>创建当前控制文件的快照，并将其放入<code class="codeph">BACKUP</code>命令生成的备份集之一。
                                 </p>
                                 <p><span class="bold">注意：</span>此选项不适用于<code class="codeph">AS COPY</code>并导致出现错误消息。
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__I1015382"><span class="bold"><span class="italic">backupTypeSpec</span></span></p>
                  <p>本小节指定<code class="codeph">BACKUP</code>命令输出的形式：备份集或映像副本。有关语法图，请参阅<span class="italic"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDHHDGG">backupTypeSpec :: =</a></span> 。
                  </p>
                  <div class="tblformalwide" id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__GUID-DB2CEFF8-6876-4986-A4A4-9FD9782E882B">
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="" width="100%" border="1" summary="Describes BACKUP command backupTypeSpec parameters" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="21%" id="d12121e4710">语法元素</th>
                              <th align="left" valign="bottom" width="79%" id="d12121e4713">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="21%" id="d12121e4718" headers="d12121e4710 ">
                                 <p id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDBGAJI"><code class="codeph" id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDIHCHG">作为BACKUPSET</code></p>
                              </td>
                              <td align="left" valign="top" width="79%" headers="d12121e4718 d12121e4713 ">
                                 <p>在指定设备上创建备份集。这是默认备份类型。</p>
                                 <p><code class="codeph">AS</code> <code class="codeph">BACKUPSET</code>是备份到磁带以及为任何目标创建1级增量备份的唯一可能性。备份集是特定于RMAN的逻辑结构。备份集是备份的最小单位。
                                 </p>
                                 <p><code class="codeph">BACKUP</code>命令的<code class="codeph"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDEECJA">FILESPERSET</a></code>参数确定每个备份集中的最大文件数。存档的重做日志文件和数据文件永远不会合并为一个备份集。
                                 </p>
                                 <p>使用加密备份时，来自具有不同加密设置的表空间的数据文件永远不会写入同一备份集。</p>
                                 <p>RMAN无法将具有不同块大小的文件备份到同一备份集中。RMAN可以备份具有不同块大小的表空间，但是将每个不同大小的数据文件放入其自己的备份集中。</p>
                                 <p><a id="d12121e4746" class="indexterm-anchor"></a><a id="d12121e4750" class="indexterm-anchor"></a><a id="d12121e4754" class="indexterm-anchor"></a><a id="d12121e4756" class="indexterm-anchor"></a><a id="d12121e4760" class="indexterm-anchor"></a><a id="d12121e4764" class="indexterm-anchor"></a><a id="d12121e4768" class="indexterm-anchor"></a><a id="d12121e4770" class="indexterm-anchor"></a>应用<span class="bold">未使用的块压缩</span>时，RMAN仅读取当前分配给表的块。RMAN仍会检查每个块以查看标头是否已将块标记为未使用。如果块未被使用，则不会将其写入备份。
                                 </p>
                                 <p>当满足以下所有五个条件时，将自动打开未使用的块压缩：</p>
                                 <ol>
                                    <li>
                                       <p><code class="codeph">COMPATIBLE</code>初始化参数设置为10.2或更高。
                                       </p>
                                       <p><span class="bold">注意：</span>如果<code class="codeph">COMPATIBLE</code>设置为10.2，则仅优化使用10.2兼容性创建的表空间，以排除当前不包含数据的块。但是，如果<code class="codeph">COMPATIBLE</code>设置为11.0.0或更高，那么在COMPATIBLE设置为11.0.0或更高版本后生成备份集的第一个备份会更新所有本地管理的数据文件的标头，以便可以优化所有本地管理的数据文件。
                                       </p>
                                    </li>
                                    <li>
                                       <p>目前无法保证<a id="d12121e4800" class="indexterm-anchor"></a>为数据库定义的还原点。
                                       </p>
                                    </li>
                                    <li>
                                       <p>数据文件是本地管理的</p>
                                    </li>
                                    <li>
                                       <p>数据文件作为完整备份或0级增量备份的一部分备份到备份集</p>
                                    </li>
                                    <li>
                                       <p>备份集在磁盘或磁盘上创建<a id="d12121e4812" class="indexterm-anchor"></a><a id="d12121e4814" class="indexterm-anchor"></a><a id="d12121e4816" class="indexterm-anchor"></a> Oracle Secure Backup是媒体管理器。
                                       </p>
                                       <p><span class="bold">注意：</span>备份到非Oracle Secure Backup的介质管理器时，RMAN会复制所有块，无论它们是否包含数据。
                                       </p>
                                    </li>
                                 </ol>
                                 <p><span class="bold">注意：</span>损坏的未使用块无害。这是因为当一个块损坏且RMAN由于未使用的块压缩而未读取它时，RMAN不会检测到损坏。
                                 </p>
                                 <p><a id="d12121e4828" class="indexterm-anchor"></a><a id="d12121e4832" class="indexterm-anchor"></a><a id="d12121e4836" class="indexterm-anchor"></a>每个备份集至少包含一个<strong class="term">备份片</strong> ，它是包含备份数据的特定于RMAN的物理文件。您还可以使用<code class="codeph">BACKUP</code>命令生成<strong class="term">代理副本</strong> ，这是一个备份，其中整个数据传输由媒体管理器执行。
                                 </p>
                                 <p>RMAN仅在RMAN存储库中记录完整的备份集。没有部分备份集。当<code class="codeph">BACKUP</code>命令创建备份片但未生成完整备份集时，将丢弃备份片。
                                 </p>
                                 <p><span class="bold">注意：</span>您不能跨多个通道对单个备份集进行条带化。您也无法跨多个备份集对单个输入文件进行条带化。
                                 </p>
                                 <p><span class="bold">另请参阅：</span> <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/rcmrf&amp;id=OBADM183" target="_blank"><span class="italic">Oracle Secure Backup管理员指南</span></a> ，了解如何将Oracle Secure Backup与RMAN一起使用</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="21%" id="d12121e4868" headers="d12121e4710 ">
                                 <p><code class="codeph">作为压缩后备箱</code></p>
                              </td>
                              <td align="left" valign="top" width="79%" headers="d12121e4868 d12121e4713 ">
                                 <p><a id="d12121e4874" class="indexterm-anchor"></a><a id="d12121e4876" class="indexterm-anchor"></a><a id="d12121e4878" class="indexterm-anchor"></a><a id="d12121e4880" class="indexterm-anchor"></a><a id="d12121e4884" class="indexterm-anchor"></a><a id="d12121e4888" class="indexterm-anchor"></a>启用二进制压缩。
                                 </p>
                                 <p>RMAN压缩写入备份集的数据，以减少备份集的总体大小。创建备份集的所有备份都可以创建压缩备份集。还原压缩备份集与还原未压缩备份集没有什么不同。</p>
                                 <p>RMAN在将数据写入备份集时应用二进制压缩算法。此压缩类似于许多媒体管理器供应商提供的压缩。备份到<span class="italic">本地连接的</span>磁带设备时，介质管理供应商提供的压缩通常优于<code class="codeph">BACKUP AS COMPRESSED BACKUPSET</code>提供的二进制压缩。因此，在备份到本地连接的磁带设备时，请使用未压缩的备份集并打开介质管理供应商提供的压缩。不要一起使用RMAN二进制压缩和媒体管理器压缩。
                                 </p>
                                 <p>某些CPU开销与压缩备份集相关联。如果目标数据库以其最大负载或接近其最大负载运行，那么您可能会发现开销不可接受。在大多数其他情况下，压缩备份集可以节省足够的磁盘空间，从而节省CPU开销。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="21%" id="d12121e4906" headers="d12121e4710 ">
                                 <p id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDEHBEJ"><code class="codeph" id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDFDFEH">作为复制</code></p>
                              </td>
                              <td align="left" valign="top" width="79%" headers="d12121e4906 d12121e4713 ">
                                 <p><a id="d12121e4912" class="indexterm-anchor"></a><a id="d12121e4916" class="indexterm-anchor"></a><a id="d12121e4918" class="indexterm-anchor"></a><a id="d12121e4920" class="indexterm-anchor"></a><a id="d12121e4922" class="indexterm-anchor"></a><a id="d12121e4926" class="indexterm-anchor"></a><a id="d12121e4930" class="indexterm-anchor"></a>创建映像副本（而不是备份集）。
                                 </p>
                                 <p>映像副本是原始文件的逐字节相同副本。您可以创建数据文件，控制文件，数据文件副本，控制文件副本和归档重做日志文件的映像副本备份。映像副本文件只能存在于磁盘上。使用增量更新的备份时，0级增量必须是映像副本备份。</p>
                                 <p>默认情况下， <code class="codeph">BACKUP</code>生成备份集。您可以使用<code class="codeph"><a href="CONFIGURE.html#GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A">CONFIGURE</a></code> <code class="codeph">DEVICE TYPE ...将磁盘备份的默认备份类型更改为映像副本<code class="codeph">DEVICE TYPE ...BACKUP TYPE TO COPY</code>命令。
                                 </p>
                                 <p>RMAN根据以下规则选择副本的位置，按优先顺序列出：</p>
                                 <ol>
                                    <li>
                                       <p>在<code class="codeph">BACKUP</code>命令中为正在备份的对象指定的<code class="codeph">FORMAT</code></p>
                                    </li>
                                    <li>
                                       <p>为<code class="codeph">BACKUP</code>命令指定的<code class="codeph">FORMAT</code></p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">BACKUP</code>命令的<span class="italic"><code class="codeph"><a href="fileNameConversionSpec.html#GUID-486FE88C-2B48-40C7-B29A-8AC669F29FA3">fileNameConversionSpec</a></code></span>设置</p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">CONFIGURE CHANNEL</code> <span class="italic"><code class="codeph">integer</code></span> <code class="codeph">...格式</code></p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">配置频道设备类型...格式</code></p>
                                    </li>
                                    <li>
                                       <p>特定于平台的默认<code class="codeph">FORMAT</code> （包括用于生成唯一文件名的<code class="codeph"><a href="formatSpec.html#GUID-E51F637A-57E0-4B06-803F-3F879DF5BEED__BABGHHGH">%U</a></code> ）</p>
                                    </li>
                                 </ol>
                                 <p>您可以使用RMAN创建和还原映像副本备份，也可以使用本机操作系统命令来复制文件。使用RMAN时，副本将记录在RMAN存储库中，并且更易于在还原和恢复中使用。否则，必须使用<code class="codeph"><a href="CATALOG.html#GUID-6E337759-9860-463A-BF7C-8512B272B8E1">CATALOG</a></code>命令将用户管理的副本添加到RMAN存储库，以便RMAN可以使用它们。
                                 </p>
                                 <p>虽然您可以制作图像副本的图像副本，但无法制作备份集的副本。要备份备份集，请使用<code class="codeph">BACKUP BACKUPSET</code> 。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="21%" id="d12121e5016" headers="d12121e4710 "><code class="codeph">作为SPARSE BACKUPSET</code></td>
                              <td align="left" valign="top" width="79%" headers="d12121e5016 d12121e4713 ">
                                 <p></p>
                                 <p>以备份集格式创建稀疏数据文件的稀疏备份。要使用此子句，要备份的数据库的<code class="codeph">COMPATIBLE</code>初始化参数必须设置为12.2或更高。
                                 </p>
                                 <p>如果在非稀疏数据库上运行此命令，则RMAN将以备份集格式执行传统备份。</p>
                                 <p>此设置使用<a href="CONFIGURE.html#GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A">CONFIGURE</a>命令覆盖默认设备类型参数集。
                                 </p>
                                 <p>有关备份集格式的更多信息，请参阅<code class="codeph">AS BACKUPSET</code>子句。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="21%" id="d12121e5040" headers="d12121e4710 "><code class="codeph">作为NONSPARSE BACKUPSET</code></td>
                              <td align="left" valign="top" width="79%" headers="d12121e5040 d12121e4713 ">
                                 <p></p>
                                 <p>以备份集格式在稀疏环境中创建数据文件的传统（非稀疏）备份。源数据文件可以是稀疏的和非稀疏的。要使用此子句，要备份的数据库的<code class="codeph">COMPATIBLE</code>初始化参数必须设置为12.2或更高。
                                 </p>
                                 <p>有关备份集格式的更多信息，请参阅<code class="codeph">AS BACKUPSET</code>子句。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="21%" id="d12121e5056" headers="d12121e4710 "><code class="codeph">作为SPARSE压缩后备</code></td>
                              <td align="left" valign="top" width="79%" headers="d12121e5056 d12121e4713 ">
                                 <p></p>
                                 <p>以压缩备份集格式创建稀疏数据文件的稀疏备份。要使用此子句，必须将数据库的<code class="codeph">COMPATIBLE</code>初始化参数设置为12.2或更高。
                                 </p>
                                 <p>如果在非稀疏数据库上运行此命令，则RMAN将以压缩备份集格式执行传统备份。</p>
                                 <p>此设置使用<a href="CONFIGURE.html#GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A">CONFIGURE</a>命令覆盖默认设备类型参数集。
                                 </p>
                                 <p>有关压缩备份集格式的详细信息，请参阅<code class="codeph">AS COMPRESSED BACKUPSET</code>子句。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="21%" id="d12121e5080" headers="d12121e4710 "><code class="codeph">AS NONSPARSE压缩后备箱</code></td>
                              <td align="left" valign="top" width="79%" headers="d12121e5080 d12121e4713 ">
                                 <p></p>
                                 <p>以压缩备份集格式在稀疏环境中创建数据文件的传统（非稀疏）备份。源数据文件可以是稀疏的和非稀疏的。要使用此子句，必须将数据库的<code class="codeph">COMPATIBLE</code>初始化参数设置为12.2或更高。
                                 </p>
                                 <p>有关压缩备份集格式的详细信息，请参阅<code class="codeph">AS COMPRESSED BACKUPSET</code>子句。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="21%" id="d12121e5096" headers="d12121e4710 "><code class="codeph">作为SPARSE COPY</code></td>
                              <td align="left" valign="top" width="79%" headers="d12121e5096 d12121e4713 ">
                                 <p></p>
                                 <p>以图像副本格式创建稀疏数据文件的稀疏备份。要使用此子句，必须将数据库的<code class="codeph">COMPATIBLE</code>初始化参数设置为12.2或更高。
                                 </p>
                                 <p>如果在非稀疏数据库上运行此命令，则RMAN将以映像副本格式执行传统的完整备份。</p>
                                 <p>此设置使用<a href="CONFIGURE.html#GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A">CONFIGURE</a>命令覆盖默认设备类型参数集。
                                 </p>
                                 <p>有关映像副本格式的详细信息，请参阅<code class="codeph">AS COPY</code>子句。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="21%" id="d12121e5120" headers="d12121e4710 "><code class="codeph">作为NONSPARSE复制</code></td>
                              <td align="left" valign="top" width="79%" headers="d12121e5120 d12121e4713 ">
                                 <p></p>
                                 <p>以图像副本格式在稀疏环境中创建数据文件的传统（非稀疏）备份。源数据文件可以是稀疏的和非稀疏的。要使用此子句，必须将数据库的<code class="codeph">COMPATIBLE</code>初始化参数设置为12.2或更高。
                                 </p>
                                 <p>有关映像副本格式的详细信息，请参阅<code class="codeph">AS COPY</code>子句。
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__I1017172"><span class="bold"><span class="italic">copyOfSpec</span></span></p>
                  <p>本小节指定<code class="codeph">BACKUP</code>命令输出的形式：备份集或映像副本。有关语法图，请参阅<span class="italic"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDFEBDC">copyOfSpec :: =</a></span> 。
                  </p>
                  <div class="tblformalwide" id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__GUID-FE1208B4-E302-45A3-B144-91C5966B4C04">
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="" width="100%" border="1" summary="Describes BACKUP command copyOfSpec parameters" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="29%" id="d12121e5156">语法元素</th>
                              <th align="left" valign="bottom" width="71%" id="d12121e5159">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d12121e5164" headers="d12121e5156 ">
                                 <p><a id="d12121e5166" class="indexterm-anchor"></a><code class="codeph">COPY OF DATABASE</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d12121e5164 d12121e5159 ">
                                 <p><a id="d12121e5174" class="indexterm-anchor"></a><a id="d12121e5178" class="indexterm-anchor"></a><a id="d12121e5182" class="indexterm-anchor"></a>备份数据库中所有数据文件和控制文件的先前映像副本。通常由<code class="codeph">BACKUP</code> <code class="codeph"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDFCICI">DATABASE</a></code>包含的所有数据文件都应具有副本：如果不是，则RMAN发出错误信号。所有副本都不必由单个<code class="codeph">BACKUP</code>命令生成。如果存在数据文件的多个副本，则RMAN将备份最新的副本。 （可选）按标记名称指定副本（例如， <code class="codeph">FULL_COLD_COPY</code> ）。
                                 </p>
                                 <p>在一个<a id="d12121e5202" class="indexterm-anchor"></a><a id="d12121e5208" class="indexterm-anchor"></a> CDB，创建CDB中所有数据文件和控制文件的先前映像副本的备份。您连接到根以备份整个CDB。在PDB中，创建PDB中所有数据文件和控制文件的先前映像副本的备份。要备份PDB，请连接到该PDB。请参阅<span class="q">“ <a href="CONNECT.html#GUID-64ECF1B8-4F70-413E-BEBE-1D5E8CD48B67__BGBGAIGG">连接到CDB和PDB</a> ”</span> 。
                                 </p>
                                 <p><span class="bold">注意</span> ：此命令的输出可以是映像副本或备份集。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d12121e5224" headers="d12121e5156 ">
                                 <p><code class="codeph">数据库根的复制</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d12121e5224 d12121e5159 ">
                                 <p>在CDB中， <a id="d12121e5231" class="indexterm-anchor"></a><a id="d12121e5235" class="indexterm-anchor"></a>备份根目录中数据文件和控制文件的先前映像副本。请参阅先前对<code class="codeph">COPY OF DATABASE</code>描述。请参阅<span class="q">“ <a href="CONNECT.html#GUID-64ECF1B8-4F70-413E-BEBE-1D5E8CD48B67__BGBGAIGG">连接到CDB和PDB</a> ”</span> 。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d12121e5248" headers="d12121e5156 ">
                                 <p><code class="codeph">COPY OF PLUGGABLE DATABASE</code> <span class="italic"><code class="codeph">pdb_name</code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d12121e5248 d12121e5159 ">
                                 <p>在CDB中， <a id="d12121e5258" class="indexterm-anchor"></a><a id="d12121e5262" class="indexterm-anchor"></a>备份数据文件的先前映像副本并控制一个或多个PDB中的文件。使用逗号分隔的列表指定多个PDB。按照<span class="q">“ <a href="CONNECT.html#GUID-64ECF1B8-4F70-413E-BEBE-1D5E8CD48B67__BGBGAIGG">连接到CDB和PDB</a> ”中的说明</span>连接到根目录。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d12121e5272" headers="d12121e5156 ">
                                 <p><code class="codeph">COPY OF DATAFILE</code> <span class="italic"><code class="codeph"><a href="datafileSpec.html#GUID-A0A69931-D404-4D89-8F95-3AB898B6A220">datafileSpec</a></code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d12121e5272 d12121e5159 ">
                                 <p>备份一个或多个数据文件的先前映像副本。按文件编号（ <code class="codeph">DATAFILE 3</code> ）或文件名（ <code class="codeph">DATAFILE '?/oradata/trgt/users01.dbf'</code> ）。您指定数据文件名，而<span class="italic">不是</span>数据文件副本的文件名。如果存在多个数据文件副本，则RMAN将备份最新的副本。
                                 </p>
                                 <p><span class="bold">注意：</span>备份的映像副本不必由单个<code class="codeph">BACKUP</code>命令创建。
                                 </p>
                                 <p><span class="bold">注意</span> ：此命令的输出可以是映像副本或备份集。
                                 </p>
                                 <p><span class="bold">另请参见：</span> <span class="italic"><code class="codeph"><a href="datafileSpec.html#GUID-A0A69931-D404-4D89-8F95-3AB898B6A220">datafileSpec</a></code></span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d12121e5315" headers="d12121e5156 ">
                                 <p><code class="codeph">COPY OF TABLESPACE</code> <span class="italic"><code class="codeph">tablespace_name</code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d12121e5315 d12121e5159 ">
                                 <p>在一个或多个指定的表空间中备份数据文件的先前映像副本。通常由<code class="codeph">BACKUP</code> <code class="codeph"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDECCGE">TABLESPACE</a></code>包含的所有数据文件都应该有副本：如果没有，则RMAN发出错误信号。所有副本都不必由单个<code class="codeph">BACKUP</code>命令生成。如果存在数据文件的多个副本，则RMAN将备份最新的副本。</p>
                                 <p>按表空间名称（例如， <code class="codeph">users</code> ）指定列表中的表空间，或按标记名称指定特定副本（例如， <code class="codeph">0403_CPY_OF_USERS</code> ）。如果未指定<code class="codeph">TAG</code> ，则RMAN将备份表空间中每个数据文件的最新数据文件副本。
                                 </p>
                                 <p><span class="bold">注意</span> ：此命令的输出可以是映像副本或备份集。
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__I1017077"><span class="bold"><span class="italic">datafileCopySpec</span></span></p>
                  <p>本小节指定数据文件副本。有关语法图，请参阅<span class="italic"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDHEJEG">datafileCopySpec :: =</a></span> 。
                  </p>
                  <div class="tblformalwide" id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__GUID-42A791B7-2DE5-458F-8855-121262751210">
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="" width="100%" border="1" summary="Describes BACKUP command datafileCopySpec parameters" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="29%" id="d12121e5369">语法元素</th>
                              <th align="left" valign="bottom" width="71%" id="d12121e5372">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d12121e5377" headers="d12121e5369 ">
                                 <p><code class="codeph">'</code> <span class="italic"><code class="codeph">filename</code></span> <code class="codeph">'</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d12121e5377 d12121e5372 ">
                                 <p>指定一个或多个数据文件映像副本的文件名。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d12121e5390" headers="d12121e5369 ">
                                 <p><code class="codeph">所有</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d12121e5390 d12121e5372 ">
                                 <p>指定要备份的所有数据文件映像副本。</p>
                                 <p></p>
                                 <p>与CDB一起使用时，RMAN会跳过备份丢弃的所有PDB副本。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d12121e5401" headers="d12121e5369 ">
                                 <p><code class="codeph">LIKE</code> <code class="codeph">'</code> <span class="italic"><code class="codeph">string_pattern</code></span> <code class="codeph">'</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d12121e5401 d12121e5372 ">
                                 <p>指定文件名模式。百分号（ <code class="codeph">%</code> ）是一个通配符，表示零个或多个字符;下划线（ <code class="codeph">_</code> ）是一个通配符，表示一个字符。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d12121e5423" headers="d12121e5369 ">
                                 <p><code class="codeph">FROM TAG</code> <span class="italic"><code class="codeph">tag_name</code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d12121e5423 d12121e5372 ">
                                 <p>指定由标记名称标识的一个或多个数据文件副本的列表。如果存在具有此标记的多个数据文件副本，则RMAN仅备份任何特定数据文件的最新数据文件副本。标签不区分大小写。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d12121e5435" headers="d12121e5369 ">
                                 <p><code class="codeph">NODUPLICATES</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d12121e5435 d12121e5372 ">
                                 <p>防止在备份操作中包含相同的数据文件副本（ <a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDHIAJB">示例2-29</a> ）。对于每组重复数据文件副本，选择具有最新时间戳的文件。
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__I1010261"><span class="bold"><span class="italic">持续时间</span></span></p>
                  <p>本小节指定数据文件副本。有关语法图，请参阅<span class="italic"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDIFHEH">duration :: =</a></span> 。
                  </p>
                  <div class="tblformalwide" id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__GUID-AAF7331E-B32B-4BD5-AFBF-A9C76E7841E4">
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="" width="100%" border="1" summary="Describes BACKUP command duration parameters" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="29%" id="d12121e5463">语法元素</th>
                              <th align="left" valign="bottom" width="71%" id="d12121e5466">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d12121e5471" headers="d12121e5463 ">
                                 <p><code class="codeph">DURATION</code> <span class="italic"><code class="codeph">hh:mm</code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d12121e5471 d12121e5466 ">
                                 <p><a id="d12121e5481" class="indexterm-anchor"></a><a id="d12121e5485" class="indexterm-anchor"></a><a id="d12121e5489" class="indexterm-anchor"></a><a id="d12121e5491" class="indexterm-anchor"></a>指定运行备份命令的最长时间。如果备份命令未在指定的持续时间内完成，则备份将停止。
                                 </p>
                                 <p>如果没有<code class="codeph">PARTIAL</code>选项，如果备份命令在指定的持续时间内未完成，则认为该命令已失败，并且RMAN报告错误。如果备份命令是一个的一部分<code class="codeph"><a href="RUN.html#GUID-88250EEF-DC49-42A9-822C-4011B1345C7B">RUN</a></code>块，然后在随后的命令<code class="codeph">RUN</code>块不执行。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d12121e5510" headers="d12121e5463 "><code class="codeph">MINIMIZE</code> <code class="codeph">{LOAD | TIME}</code></td>
                              <td align="left" valign="top" width="71%" headers="d12121e5510 d12121e5466 ">
                                 <p>使用磁盘备份，您可以使用<code class="codeph">MINIMIZE TIME</code>以最大速度（默认）运行备份，或使用<code class="codeph">MINIMIZE LOAD</code>来降低备份速率以减轻系统负载。使用<code class="codeph">MINIMIZE LOAD</code> ，备份将占用指定的完整持续时间。
                                 </p>
                                 <p>如果指定<code class="codeph">TIME</code> ，则最近备份的文件将被赋予最低的备份优先级。这种调度机制在连续的备份窗口期间提供数据库的最终完整备份，因为不同的数据文件以循环方式备份。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d12121e5534" headers="d12121e5463 ">
                                 <p><code class="codeph">局部</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d12121e5534 d12121e5466 ">
                                 <p><a id="d12121e5540" class="indexterm-anchor"></a><a id="d12121e5542" class="indexterm-anchor"></a><a id="d12121e5546" class="indexterm-anchor"></a>使用<code class="codeph">PARTIAL</code>选项，该命令被认为已成功完成，即使整个备份未在指定的持续时间内完成，RMAN也不会报告任何错误。
                                 </p>
                                 <p>如果没有<code class="codeph">PARTIAL</code>选项，如果备份命令在指定的持续时间内未完成，则认为该命令已失败，并且RMAN报告错误。如果备份命令是一个的一部分<code class="codeph"><a href="RUN.html#GUID-88250EEF-DC49-42A9-822C-4011B1345C7B">RUN</a></code>块，然后在随后的命令<code class="codeph">RUN</code>块不执行。
                                 </p>
                                 <p>无论是否使用<code class="codeph">PARTIAL</code> ，都会保留在备份中断之前完成的所有备份集，并且可以在<code class="codeph"><a href="RESTORE.html#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B">RESTORE</a></code>和<code class="codeph"><a href="RECOVER.html#GUID-CA98040F-9865-4F4F-BAF2-91C518612E95">RECOVER</a></code>操作中使用。
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__I1015480"><span class="bold"><span class="italic">forRecoveryOfSpec</span></span></p>
                  <p>本子条款指定用于增量更新备份策略的备份。指定<code class="codeph">FOR RECOVER OF</code>时，必须指定<code class="codeph">INCREMENTAL LEVEL 1</code> 。有关语法图，请参阅<span class="italic"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDEHIDJ">forRecoveryOfSpec :: =</a></span> 。
                  </p>
                  <div class="tblformalwide" id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__GUID-9C064CBD-EF06-4E26-B72A-B69985F03601">
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="" width="100%" border="1" summary="Describes BACKUP command forRecoveryOfSpec parameters" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="29%" id="d12121e5606">语法元素</th>
                              <th align="left" valign="bottom" width="71%" id="d12121e5609">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d12121e5614" headers="d12121e5606 ">
                                 <p><code class="codeph">恢复复制</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d12121e5614 d12121e5609 ">
                                 <p><a id="d12121e5620" class="indexterm-anchor"></a><a id="d12121e5622" class="indexterm-anchor"></a>指定此增量备份包含自上次数据文件复制或增量备份以来的所有更改。默认情况下，RMAN会创建差异增量备份。您必须指定<code class="codeph">CUMULATIVE</code>以强制RMAN创建累积备份。
                                 </p>
                                 <p>使用<code class="codeph">WITH TAG</code>子句将此增量备份策略与其余备份策略分开。如果<span class="italic">未</span>指定<code class="codeph">WITH TAG</code> ，则RMAN使用最新的数据文件副本作为增量备份的基础。
                                 </p>
                                 <p><code class="codeph">BACKUP INCREMENTAL LEVEL 1 FOR RECOVER OF COPY</code>命令的<code class="codeph">BACKUP INCREMENTAL LEVEL 1 FOR RECOVER OF COPY</code>可以创建映像副本或备份集。如果不存在此类副本，RMAN将创建0级映像副本，否则会创建备份集。
                                 </p>
                                 <p><span class="bold">另请参阅：</span> <a href="../bradv/backing-up-database.html#BRADV8186" target="_blank"><span class="italic">Oracle数据库备份和恢复用户指南</span></a> ，了解如何进行增量更新备份</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d12121e5656" headers="d12121e5606 ">
                                 <p><code class="codeph">WITH TAG</code> <span class="italic"><code class="codeph">tag_name</code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d12121e5656 d12121e5609 ">
                                 <p>指定0级增量备份的标记，作为备份策略的基础（请参阅<a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDBJCAJ">示例2-20</a> ）。
                                 </p>
                                 <p>使用<code class="codeph">BACKUP INCREMENTAL ...WITH TAG</code>语法，您可以创建适合前滚0级图像副本的1级增量备份。然后你可以使用<code class="codeph"><a href="RECOVER.html#GUID-CA98040F-9865-4F4F-BAF2-91C518612E95">RECOVER</a></code> <code class="codeph">COPY OF ...WITH TAG</code>将1级备份应用于此副本。通过这种方式，策略继续前滚数据文件副本，以便介质恢复不需要应用尽可能多的更改。此技术是企业管理器磁盘备份策略的基础。
                                 </p>
                                 <p>指定<code class="codeph">WITH TAG</code> ，RMAN会自动为策略中的所有新增量备份分配与0级数据文件副本相同的标记。RMAN根据具有此标记的可用增量备份决定在1级备份中包含哪些块。
                                 </p>
                                 <p><span class="bold">注意：</span>如果<code class="codeph">BACKUP</code>命令同时具有<code class="codeph">TAG</code>和<code class="codeph">WITH TAG</code>选项，则RMAN会发出警告，指出将忽略<code class="codeph">TAG</code>选项，并且增量备份将收到<code class="codeph">WITH TAG</code>指定的<code class="codeph">WITH TAG</code> 。</p>
                                 <p>如果在当前或父数据库化身中不存在<code class="codeph">WITH TAG</code>参数中指定的标记的0级备份，则<code class="codeph">FOR RECOVER OF COPY</code>选项会创建<code class="codeph">WITH TAG</code>参数中指定的值标记的0级数据文件副本。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d12121e5717" headers="d12121e5606 "> <code class="codeph">DATAFILECOPY  FORMAT</code> <span class="italic"><code class="codeph"><a href="formatSpec.html#GUID-E51F637A-57E0-4B06-803F-3F879DF5BEED">formatSpec</a></code></span></td>
                              <td align="left" valign="top" width="71%" headers="d12121e5717 d12121e5609 ">
                                 <p>指定用于命名输出图像副本的模式。</p>
                                 <p>如果将数据文件添加到数据库，则无需更改备份脚本，因为RMAN会自动为新创建的文件创建增量更新备份策略所需的0级数据文件副本。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d12121e5733" headers="d12121e5606 "><code class="codeph">FOR RECOVER OF TAG</code> <span class="italic"><code class="codeph">tag_name</code></span></td>
                              <td align="left" valign="top" width="71%" headers="d12121e5733 d12121e5609 ">
                                 <p>备份用于恢复<span class="italic"><code class="codeph">tag_name</code></span>指定的0级增量备份的归档重做日志文件或增量备份。
                                 </p>
                                 <p>例如，用于恢复标签的<code class="codeph">BACKUP INCREMENTAL LEVEL 1 FOR RECOVER OF TAG wholedb ARCHIVELOG ALL</code>命令备份恢复标记为<code class="codeph">wholedb</code> 0级增量备份所需的所有归档重做日志文件。
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__I1017236"><span class="bold"><span class="italic">notBackedUpSpec</span></span></p>
                  <p>本小节指定RMAN仅备份尚未备份到同一设备类型的文件。有关语法图，请参阅<span class="italic"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDCFHEA">notBackedUpSpec :: =</a></span> 。
                  </p>
                  <div class="tblformalwide" id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__GUID-798CC7C0-2B8D-43DD-B825-58C5931A8D55">
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="" width="100%" border="1" summary="Describes BACKUP command notBackedUpSpec parameters" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="29%" id="d12121e5773">语法元素</th>
                              <th align="left" valign="bottom" width="71%" id="d12121e5776">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d12121e5781" headers="d12121e5773 ">
                                 <p><code class="codeph">没有备份</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d12121e5781 d12121e5776 ">
                                 <p><a id="d12121e5787" class="indexterm-anchor"></a><a id="d12121e5789" class="indexterm-anchor"></a><a id="d12121e5793" class="indexterm-anchor"></a>仅<code class="codeph">BACKUP</code>命令中指定的文件的文件 -  RMAN从未备份相同的设备类型（请参阅<a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDIJDDE">示例2-28</a> ）。
                                 </p>
                                 <p>本子条款是将新数据文件添加到数据库后备份的便捷方式。RMAN不检查数据文件检查点，但备份任何尚未备份的数据文件。备份备份集时，您还可以指定<code class="codeph">NOT BACKED UP</code> 。
                                 </p>
                                 <p>使用带有此子句的<code class="codeph">BACKUP</code>可以手动执行归档重做日志删除策略可以自动执行的操作。如果指定<code class="codeph">CONFIGURE</code> <code class="codeph"><a href="CONFIGURE.html#GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A__CHDHCEEH">ARCHIVELOG DELETION POLICY</a> TO BACKED UP</code> <span class="italic"><code class="codeph">integer</code></span> <code class="codeph">TIMES</code>命令，则<code class="codeph">BACKUP ARCHIVELOG ALL</code>命令将复制所有日志，除非指定设备类型上存在<span class="italic"><code class="codeph">integer</code></span>备份。如果存在日志的<span class="italic"><code class="codeph">integer</code></span>备份，则<code class="codeph">BACKUP</code>命令会跳过日志。这样，归档日志删除策略在<code class="codeph">BACKUP</code>命令上用作默认的<code class="codeph">NOT BACKED UP</code> <span class="italic"><code class="codeph">integer</code></span> <code class="codeph">TIMES</code>子句。
                                 </p>
                                 <p>使用<code class="codeph">KEEP</code>选项创建的归档备份在评估<code class="codeph">NOT BACKED UP</code>子句时不计算在内。例如，如果您发出命令</p><pre class="oac_no_warn" dir="ltr">备份ARCHIVELOG序列345没有备份3次</pre><p>并且指定的日志已备份到两个非<code class="codeph">KEEP</code>备份集和一个<code class="codeph">KEEP</code>备份集中，然后该命令再次备份日志。
                                 </p>
                                 <p><span class="bold">注意：</span>此子句将覆盖备份优化（ <code class="codeph"><a href="CONFIGURE.html#GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A">CONFIGURE</a> BACKUP OPTIMIZATION</code> ）和归档重做日志文件删除策略（ <code class="codeph">CONFIGURE <a href="CONFIGURE.html#GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A__CHDHCEEH">ARCHIVELOG DELETION POLICY</a></code> ）。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d12121e5891" headers="d12121e5773 ">
                                 <p><code class="codeph">在任何SCN</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d12121e5891 d12121e5776 ">
                                 <p>仅备份尚未在任何SCN备份的数据文件。</p>
                                 <p>此选项是仅备份新数据文件的便捷方式。使用<code class="codeph">BACKUP DATAFILECOPY ALL</code>命令将作为增量更新备份策略一部分的磁盘备份备份到磁带或Oracle Cloud时，使用<code class="codeph">SINCE TIME</code>子句还会备份已备份的数据文件。使用<code class="codeph">AT ANY SCN</code>仅备份从未备份过的新数据文件。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d12121e5910" headers="d12121e5773 ">
                                 <p><code class="codeph">   </code> <span class="italic"><code class="codeph">integer</code></span> <code class="codeph">TIMES</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d12121e5910 d12121e5776 ">
                                 <p><a id="d12121e5922" class="indexterm-anchor"></a>仅备份至少<span class="italic"><code class="codeph">integer</code></span>次未备份的归档重做日志文件。
                                 </p>
                                 <p><span class="bold">注意：</span>将归档的重做日志文件备份到备份集时，只能指定<code class="codeph">NOT BACKED UP</code> <span class="italic"><code class="codeph">integer</code></span> <code class="codeph">TIMES</code> 。
                                 </p>
                                 <p>要确定文件的备份数，RMAN仅考虑在与当前备份相同的设备类型上创建的备份。</p>
                                 <p>此选项是备份指定媒体上的归档重做日志文件的便捷方式。例如，您希望在磁带上至少保留每个日志的三个副本。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d12121e5950" headers="d12121e5773 "><code class="codeph">SINCE TIME</code> <code class="codeph">'</code> <span class="italic"><code class="codeph">date_string</code></span> <code class="codeph">'</code></td>
                              <td align="left" valign="top" width="71%" headers="d12121e5950 d12121e5776 ">
                                 <p><a id="d12121e5965" class="indexterm-anchor"></a><a id="d12121e5969" class="indexterm-anchor"></a><a id="d12121e5971" class="indexterm-anchor"></a>指定RMAN备份没有备份的文件的日期。
                                 </p>
                                 <p><span class="italic"><code class="codeph">date_string</code></span>是当前<code class="codeph">NLS_DATE_FORMAT</code>的日期或SQL日期表达式，例如<code class="codeph">'SYSDATE-1'</code> 。在计算文件的备份数时，RMAN仅考虑在与当前备份相同的设备类型上创建的备份。
                                 </p>
                                 <p>此选项是备份先前失败备份期间未备份的数据文件的便捷方法。例如，您备份数据库，但实例失败了一半。您可以使用<code class="codeph">NOT BACKED UP SINCE TIME</code>子句重新启动备份，并避免备份已备份的文件。如果指定了<code class="codeph"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDIHCHG">AS BACKUPSET</a></code> ，则此功能仅在RMAN在备份期间生成多个备份集时才有用。
                                 </p>
                                 <p>在确定是否已备份文件时，将<code class="codeph">SINCE</code>日期与最近备份的完成时间进行比较。对于<code class="codeph">BACKUP AS BACKUPSET</code> ，备份集中文件的完成时间是整个备份集的完成时间。换句话说，同一备份集中的所有文件具有相同的完成时间。
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__I1017259"><span class="bold"><span class="italic">skipSpec</span></span></p>
                  <p>本子条款指定要从备份中排除的文件。有关语法图，请参阅<span class="italic"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDGFJFB">skipSpec :: =</a></span> 。
                  </p>
                  <div class="tblformalwide" id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__GUID-199F8A3F-7C4C-4846-A0C6-E99D038FE763">
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="" width="100%" border="1" summary="Describes BACKUP command skipSpec parameters" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="29%" id="d12121e6022">语法元素</th>
                              <th align="left" valign="bottom" width="71%" id="d12121e6025">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d12121e6030" headers="d12121e6022 ">
                                 <p><code class="codeph" id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDJJJCB">跳跃</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d12121e6030 d12121e6025 ">
                                 <p><a id="d12121e6036" class="indexterm-anchor"></a><a id="d12121e6040" class="indexterm-anchor"></a><a id="d12121e6044" class="indexterm-anchor"></a><a id="d12121e6048" class="indexterm-anchor"></a>根据以下关键字指定的条件排除数据文件或归档重做日志文件。
                                 </p>
                                 <p><span class="bold">注意：</span>您还可以在<span class="italic"><code class="codeph"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__BGBGHJEH">backupSpec</a></code></span>子句中指定此选项。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d12121e6063" headers="d12121e6022 ">
                                 <p><code class="codeph">INACCESSIBLE</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d12121e6063 d12121e6025 ">
                                 <p>排除由于I / O错误而无法读取的数据文件或归档重做日志文件。</p>
                                 <p>如果无法读取数据文件，则该文件仅被视为无法访问。仍然可以读取某些脱机数据文件，因为它们仍存在于磁盘上。其他人已被删除或移动，因此无法阅读，使其无法访问。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d12121e6073" headers="d12121e6022 ">
                                 <p><code class="codeph">离线</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d12121e6073 d12121e6025 ">
                                 <p>排除脱机数据文件。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d12121e6081" headers="d12121e6022 ">
                                 <p><code class="codeph">只读</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d12121e6081 d12121e6025 ">
                                 <p>排除只读数据文件。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDBGAJB">
                  <p class="subhead1" id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__GUID-DE5D215A-1129-4263-8CEE-A17711E08ABA">例子</p>
               </div>
               <!-- class="section" -->
               <div class="example" id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDFHAHB">
                  <p class="titleinexample">示例2-13备份数据库</p>
                  <p>此示例从操作系统命令行启动RMAN客户端，然后使用操作系统身份验证连接到目标数据库。<code class="codeph">BACKUP</code>命令将所有数据文件，当前控制文件，服务器参数文件和归档重做日志文件备份到默认存储设备：</p><pre class="oac_no_warn" dir="ltr">％rman RMAN&gt; CONNECT TARGET / RMAN&gt; BACKUP DATABASE PLUS ARCHIVELOG;</pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__GUID-83DD92E8-737D-4DC7-856A-A84AADBFD8A4">
                  <p class="titleinexample">示例2-14备份稀疏数据库</p>
                  <p>此示例使用<code class="codeph">BACKUP</code>命令备份备份集格式和存档日志中的稀疏数据库。
                  </p><pre class="oac_no_warn" dir="ltr">RMAN&gt;备份为SPARSE BACKUPSET DATABASE PLUS ARCHIVELOG;</pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__GUID-E9F8DCFD-2CAD-46E2-A57E-C293FBEC547D">
                  <p class="titleinexample">示例2-15备份多个PDB</p>
                  <p>此示例使用操作系统身份验证连接到root，然后创建PDB <code class="codeph">hr_pdb</code>和<code class="codeph">sales_pdb</code>备份。
                  </p><pre class="oac_no_warn" dir="ltr">％rman RMAN&gt; CONNECT TARGET / RMAN&gt; BACKUP PLUGGABLE DATABASE hr_pdb，sales_pdb;</pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDECGDC">
                  <p class="titleinexample">示例2-16执行累积增量备份</p>
                  <p>此示例备份自最近的0级增量备份以来数据库中更改的所有块。如果运行1级备份时不存在0级备份，则RMAN会自动进行0级备份。将跳过任何无法访问的文件。</p><pre class="oac_no_warn" dir="ltr">备份增量级别1累积跳过无法访问的数据库;</pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDHAGDD">
                  <p class="titleinexample">示例2-17跨多个磁盘分发备份</p>
                  <p><a id="d12121e6136" class="indexterm-anchor"></a><a id="d12121e6140" class="indexterm-anchor"></a><a id="d12121e6144" class="indexterm-anchor"></a>此示例将表空间备份到两个不同的磁盘，并让RMAN执行备份的自动并行化。<code class="codeph">FORMAT</code>字符串中的<code class="codeph"><a href="formatSpec.html#GUID-E51F637A-57E0-4B06-803F-3F879DF5BEED__BABGHHGH">%U</a></code>是替换变量，它为每个输出图像副本生成唯一的文件名。
                  </p><pre class="oac_no_warn" dir="ltr">RUN {ALLOCATE CHANNEL dev1 DEVICE TYPE DISK FORMAT'/ disk1 /％U'; ALLOCATE CHANNEL dev2 DEVICE TYPE DISK FORMAT'/ disk2 /％U'; BACKUP AS COPY TABLESPACE系统，工具，用户，undotbs; }</pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDFGJJH">
                  <p class="titleinexample">示例2-18按标记标识数据文件副本</p>
                  <p>在此示例中，您将数据文件映像副本备份到磁带。<code class="codeph">BACKUP</code>命令使用标签<code class="codeph">LATESTCOPY</code>查找所有数据文件副本，将它们备份到磁带，并使用替换变量命名备份。变量<code class="codeph">%f</code>指定绝对文件编号，而<code class="codeph">%d</code>指定数据库的名称。数据文件副本在磁带上后，该示例将使用标签<code class="codeph">LATESTCOPY</code>删除所有图像副本。</p><pre class="oac_no_warn" dir="ltr">备份设备类型sbt DATAFILECOPY来自TAG'LATESTCOPY'FORMAT'Datafile％f_Database％d';删除复制标签'LATESTCOPY';</pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDJGDDC">
                  <p class="titleinexample">示例2-19备份和删除存档的重做日志文件</p>
                  <p>此示例假定您设置了两个归档目标： <code class="codeph">/disk2/PROD/archivelog/</code>和<code class="codeph">/disk1/arch/</code> 。该命令为每个唯一序列号备份一个归档重做日志。例如，如果归档重做日志1000在两个目录中，则RMAN仅备份此日志的一个副本。带有<code class="codeph">ALL</code>关键字的<code class="codeph"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDIEAIE">DELETE INPUT</a></code>子句在备份后删除两个归档目录中的所有归档重做日志文件。
                  </p><pre class="oac_no_warn" dir="ltr">BACKUP DEVICE TYPE sbt ARCHIVELOG LIKE'/ disk％arc％'DELETE ALL INPUT;</pre><p>上述命令的示例输出如下所示：</p><pre class="oac_no_warn" dir="ltr">在12-MAR-13分配的通道开始备份：ORA_SBT_TAPE_1通道ORA_SBT_TAPE_1：SID = 150设备类型= SBT_TAPE通道ORA_SBT_TAPE_1：Oracle安全备份通道ORA_SBT_TAPE_1：启动存档日志备份集通道ORA_SBT_TAPE_1：指定存档的备份集输入中的存档日志log thread = 1 sequence = 4 RECID = 4 STAMP = 616789551输入存档日志线程= 1序列= 5 RECID = 5 STAMP = 616789551输入存档日志线程= 1序列= 6 RECID = 6 STAMP = 616789554输入存档日志线程= 1序列= 7 RECID = 7 STAMP = 616789731输入存档日志线程= 1序列= 8 RECID = 8 STAMP = 616789825输入存档日志线程= 1序列= 9 RECID = 10 STAMP = 616789901输入存档日志线程= 1序列= 10 RECID = 12 STAMP = 616789985频道ORA_SBT_TAPE_1：12-MAR-13频道的起始片段1 ORA_SBT_TAPE_1：12-MAR-13片段处理完成片段1 = 0vice0g7_1_1 tag = TAG20130312T105917 comment = API Version 2.0，MMS Version 10.1.0.3 channel ORA_SBT_TAPE_1：backup set完成，经过时间：00：00：25 cha nnel ORA_SBT_TAPE_1：删除归档日志归档日志文件名= / disk2 / PROD / archivelog / 2013_03_09 / o1_mf_1_4_2z45sgrc_.arc RECID = 4 STAMP = 616789551归档日志文件名= / disk2 / PROD / archivelog / 2013_03_09 / o1_mf_1_5_2z45sgrc_.arc RECID = 5 STAMP = 616789551归档日志文件名= / disk2 / PROD / archivelog / 2013_03_09 / o1_mf_1_6_2z45sl3g_.arc RECID = 6 STAMP = 616789554归档日志文件名= / disk2 / PROD / archivelog / 2013_03_09 / o1_mf_1_7_2z45z2kt_.arc RECID = 7 STAMP = 616789731存档日志文件名= / disk2 / PROD / archivelog / 2013_03_09 / o1_mf_1_8_2z4620sk_.arc RECID = 8 STAMP = 616789825存档日志文件名= / disk1 / arch / archiver_1_8_616789153.arc RECID = 9 STAMP = 616789825存档日志文件名= / disk2 /PROD/archivelog/2013_03_09/o1_mf_1_9_2z464dhk_.arc RECID = 10 STAMP = 616789901归档日志文件名= / disk1 / arch / archiver_1_9_616789153.arc RECID = 11 STAMP = 616789901归档日志文件名= / disk2 / PROD / archivelog / 2013_03_09 / o1_mf_1_10_2z4670gr_ .arc RECID = 12 STAMP = 616789985归档日志文件名= / disk1 / arch / archiver _1_10_616789153.arc RECID = 13 STAMP = 616789985完成后备12-MAR-13启动控制文件和SPFILE自动备份12-MAR-13件手柄= c-28643857-20130312-02评论= API版本2.0，MMS版本10.1.0.3 12-MAR-13完成控制文件和SPFILE自动备份</pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDBJCAJ">
                  <p class="titleinexample">示例2-20脚本逐步更新的备份</p>
                  <p><a id="d12121e6208" class="indexterm-anchor"></a>通过逐步更新备份，您可以避免对数据文件进行完整映像副本备份的开销，同时还可以最大限度地缩短介质恢复时间。例如，如果您运行每日备份脚本，那么您永远不会有超过一天的重做来申请媒体恢复。
                  </p>
                  <p>假设您每天运行以下脚本。首次执行时，该脚本使用指定的标记在磁盘上创建数据库的映像副本备份。在第二次执行时，该脚本将创建数据库的1级差异增量备份。在每次后续执行时，RMAN将1级增量备份应用于数据文件副本，然后进行新的1级备份。</p><pre class="oac_no_warn" dir="ltr">运行{恢复数据库与标记'incr_update';用TAG'incr_update'数据库恢复补充级别1以恢复复制; }</pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDGAGID">
                  <p class="titleinexample">示例2-21将基于磁盘的备份集备份到磁带</p>
                  <p>假设您的目标是将最近的备份集保留在磁盘上，将较旧的备份集保留在磁带上。此外，您希望避免同时在磁盘和磁带上保留相同备份集的副本。此示例将两周前创建的备份集备份到磁带，然后从磁盘中删除备份片。</p><pre class="oac_no_warn" dir="ltr">备份设备类型sbt BACKUPSET在'SYSDATE-14'删除输入之前完成;</pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDJIJDH">
                  <p class="titleinexample">示例2-22双工数据库备份</p>
                  <p>此示例使用<code class="codeph"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDJAEBG">COPIES</a></code>参数创建数据库的两个压缩备份，每个备份位于单独的磁盘上。输出位置在<code class="codeph">FORMAT</code>参数中指定。
                  </p><pre class="oac_no_warn" dir="ltr">BACKUP as COMPRESSED BACKUPSET DEVICE TYPE DISK COPIES 2 DATABASE FORMAT'/ disk1 / db_％U'，'/ disk2 / db_％U';</pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDCJHFH">
                  <p class="titleinexample">示例2-23指定通道如何划分工作负载</p>
                  <p><a id="d12121e6242" class="indexterm-anchor"></a>此示例通过使用<code class="codeph"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDDCCAA">CHANNEL</a></code>参数显式并行化备份，以指定哪些通道备份哪些文件以及哪些位置。
                  </p><pre class="oac_no_warn" dir="ltr">RUN {ALLOCATE CHANNEL ch1 DEVICE TYPE sbt PARMS'ENV =（OB_DEVICE_1 = stape1）'; ALLOCATE CHANNEL ch2 DEVICE TYPE sbt PARMS'ENV =（OB_DEVICE_1 = stape2）'; BACKUP（DATABASE＃ch1将数据库备份到磁带驱动器stape1 CHANNEL ch1）（ARCHIVELOG ALL CHANNEL ch2）; #ch2将归档的重做日志文件备份到磁带驱动器stape2}</pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDECIJB">
                  <p class="titleinexample">示例2-24创建用于刷新备用数据库的增量备份</p>
                  <p><a id="d12121e6257" class="indexterm-anchor"></a>在此示例中，您的目标是对主数据库进行增量备份，并使用它来更新关联的备用数据库。您启动RMAN客户端，作为<code class="codeph">TARGET</code> <code class="codeph"><a href="CONNECT.html#GUID-64ECF1B8-4F70-413E-BEBE-1D5E8CD48B67">CONNECT</a></code>到主数据库，然后连接到恢复目录。<code class="codeph">BACKUP</code>命令创建主数据库的增量备份，该备份可以应用于备用数据库，以使用指定的SCN以来的更改对其进行更新。</p><pre class="oac_no_warn" dir="ltr">RMAN&gt; CONNECT TARGET /连接到目标数据库：PROD（DBID = 39525561）RMAN&gt; CONNECT CATALOG rco @ catdb恢复目录数据库密码：连接到恢复目录数据库的<span class="italic">密码</span> RMAN&gt;备份设备类型磁盘2&gt;从SCN增加404128数据库3&gt;格式'/磁盘1 / incr_standby_％U';</pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDFIFDI">
                  <p class="titleinexample">示例2-25指定数据文件备份的损坏容差</p>
                  <p><a id="d12121e6282" class="indexterm-anchor"></a><a id="d12121e6286" class="indexterm-anchor"></a><a id="d12121e6290" class="indexterm-anchor"></a><a id="d12121e6292" class="indexterm-anchor"></a>此示例假定数据库包含五个数据文件。它使用<code class="codeph"><a href="SET.html#GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3">SET</a></code> <code class="codeph">MAXCORRUPT</code>命令指示每个数据文件中只允许一个损坏。由于在<code class="codeph">BACKUP</code>命令中指定了<code class="codeph"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDBHECJ">CHECK LOGICAL</a></code>选项，因此RMAN会检查物理和逻辑损坏。
                  </p><pre class="oac_no_warn" dir="ltr">运行{SET MAXCORRUPT FOR DATAFILE 1,2,3,4,5 to 1;备份检查逻辑数据库; }</pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDCIBCJ">
                  <p class="titleinexample">示例2-26为归档目的创建一致的数据库备份</p>
                  <p>此示例使用<span class="italic"><code class="codeph"><a href="keepOption.html#GUID-36E9008E-48A5-4AB9-8C9D-2D477342594B">keepOption</a></code></span>创建一个存档备份集，该备份集在一年内不能被视为过时。该示例备份数据库，将重做归档到当前联机日志中以确保此新备份是一致的，并仅备份将数据文件备份还原到一致状态所需的归档重做日志文件。
                  </p>
                  <p><code class="codeph">BACKUP</code>命令还会创建一个还原点，以匹配此备份一致的SCN。<code class="codeph">FORMAT</code>参数必须能够在多个备份集中创建多个备份片段。
                  </p><pre class="oac_no_warn" dir="ltr">备份数据库格式'/disk1/archival_backups/db_%U.bck'TAG每季度保持时间'SYSDATE + 365'恢复点Q1FY06;</pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDJJIJG">
                  <p class="titleinexample">示例2-27免除保留策略的副本</p>
                  <p><a id="d12121e6340" class="indexterm-anchor"></a>以下示例复制两个数据文件，并永久保留它们不受保留策略的影响。即使关闭自动备份，也会备份控制文件和服务器参数文件。
                  </p>
                  <p><code class="codeph">KEEP</code> <code class="codeph">FOREVER</code>需要恢复目录。
                  </p><pre class="oac_no_warn" dir="ltr">立即关闭;启动安装;备份保持格式'？/dbs/%U_longterm.cpy'TAG LONGTERM_BCK DATAFILE 1 DATAFILE 2; ALTER DATABASE OPEN;</pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDIJDDE">
                  <p class="titleinexample">示例2-28备份需要备份的文件</p>
                  <p>假设您通过运行以下命令每晚将数据库和归档的重做日志文件备份到磁带。</p><pre class="oac_no_warn" dir="ltr">备份MAXSETSIZE 500M DATABASE PLUS ARCHIVELOG;</pre><p>上述命令设置每个备份集大小的上限，以便RMAN生成多个备份集。假设媒体管理设备在备份中途失败，然后重新启动。第二天，您发现只有一半备份集完成。在这种情况下，您可以在晚上运行以下命令：</p><pre class="oac_no_warn" dir="ltr">自上次'SYSDATE-1'MAXSETSIZE 500M DATABASE PLUS ARCHIVELOG后备份没有备份;</pre><p>使用上述命令，RMAN仅备份在过去24小时内未备份的文件。当RMAN确定指定时间窗口中的备份可用时，它将显示如下输出：</p><pre class="oac_no_warn" dir="ltr">跳过数据文件1;已经备份了18-JAN-13跳过数据文件2;已经备份了18-JAN-13跳过数据文件3;已经在18日 -  1月13日备份</pre><p>如果在<code class="codeph">BACKUP</code>命令之后立即放置<code class="codeph">NOT</code> <code class="codeph">BACKED</code> <code class="codeph">UP</code> <code class="codeph">SINCE</code>子句，则它会影响要备份的所有对象。您也可以在单个<span class="italic"><code class="codeph">backupSpec</code></span>子句之后放置它，以使备份<span class="italic"><code class="codeph">backupSpec</code></span>描述的那些对象的备份仅受限制。
                  </p>
               </div>
               <!-- class="example" -->
               <div class="example" id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDHIAJB">
                  <p class="titleinexample">示例2-29使用NODUPLICATES备份数据文件副本</p>
                  <p>此示例创建名为<code class="codeph">/disk2/df2.cpy</code>的数据文件2的数据文件副本。然后，该示例将此数据文件副本备份到<code class="codeph">/disk1</code>和<code class="codeph">/disk3</code>目录。最后一个<code class="codeph">BACKUP</code>命令的<code class="codeph">NODUPLICATES</code>选项表示只备份了一个数据文件副本<code class="codeph">2</code> 。
                  </p><pre class="oac_no_warn" dir="ltr">备份为复制数据文件2格式'/disk2/df2.cpy'TAG my_tag;备份为复制DATAFILECOPY'/ disk2 / df2.cpy'格式'/disk1/df2.cpy';备份为复制DATAFILECOPY'/ disk1 / df2.cpy'格式'/disk3/df2.cpy';备份设备类型sbt DATAFILECOPY所有NODUPLICATES; ＃仅备份数据文件2的副本</pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__BGBCEHII">
                  <p class="titleinexample">示例2-30将存档日志从操作系统文件复制到ASM</p><pre class="oac_no_warn" dir="ltr">备份作为复制重新使用ARCHIVELOG像“/ade/b/369893928/oracle/work/arc_dest/arcr_1_11_686060575.arc”AUXILIARY FORMAT“+ RCVAREA”;</pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__GUID-64CCCFBF-621C-43A1-99E0-D4F052DDBF0C">
                  <p class="titleinexample">示例2-31将数据文件多次备份为映像副本</p>
                  <p>此示例创建数据文件<code class="codeph">users_df.dbf</code>的多节备份。备份创建为映像副本，每个备份不能超过150MB。</p><pre class="oac_no_warn" dir="ltr">BACKUP AS COPY SECTION SIZE 150M DATAFILE'/oradata/dbs/users_df.dbf';</pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__GUID-DF7E6EDD-BD34-4066-A680-6492AC676F8E">
                  <p class="titleinexample">示例2-32将数据库多次增量备份备份为备份集</p>
                  <p>此示例创建数据库的多节增量备份作为备份集。增量备份包括在SCN上更改的所有数据文件块大于或等于8564。使用<code class="codeph">INCREMENTAL FROM SCN</code>创建多节增量备份时，必须使用<code class="codeph">FORMAT</code>子句。
                  </p><pre class="oac_no_warn" dir="ltr">备份格式'/ tmp / datafiles / db_incr_ms_％U'从SCN 8564增加部分大小400M数据库;</pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__GUID-72C66D4E-13F6-4D5C-BBAD-E86062080315">
                  <p class="titleinexample">示例2-33表空间的多节增量备份</p>
                  <p>此示例创建表空间<code class="codeph">orders</code>的多节增量备份作为备份集。在创建备份之前，使用<code class="codeph">ALLOCATE CHANNEL</code>命令显式分配三个通道。因此，RMAN使用这些通道并行写入备份片段。
                  </p><pre class="oac_no_warn" dir="ltr">运行{ALLOCATE CHANNEL MY_CH1 TYPE DISK; ALLOCATE CHANNEL MY_CH2 TYPE DISK; ALLOCATE CHANNEL MY_CH3型磁盘;支持增量水平1作为压缩后备部分尺寸100M TABLESPACE销售; };</pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__BGBECGFG">
                  <p class="titleinexample">示例2-34整个数据库的跨平台备份</p>
                  <p>此示例创建整个数据库的跨平台备份，以便传输到Linux x86 64位平台。源平台是Microsoft Windows IA（32位），备份存储在名为<code class="codeph">full_db.bck</code>的备份集中。在创建备份之前，必须将数据库置于只读模式。
                  </p><pre class="oac_no_warn" dir="ltr">备份到PLATFORM ='Linux x86 64位'格式'/tmp/xplat_backups/full_db.bck'数据库;</pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__BGBJFJAC">
                  <p class="titleinexample">示例2-35一致表空间的跨平台备份</p>
                  <p>此示例备份了跨平台传输的表空间<code class="codeph">example</code> 。在执行备份之前，必须将表空间置于只读模式。包含表空间数据的备份集称为<code class="codeph">example_readonly.bck</code> 。将此表空间插入目标数据库所需的元数据存储在备份集<code class="codeph">example_dmp.bck</code> 。
                  </p><pre class="oac_no_warn" dir="ltr">运输格式的备份'/tmp/xplat_backups/example_readonly.bck'TABLESPACE示例DATAPUMP FORMAT'/ tmp / xplat_backups / example_dmp.bck';</pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__BGBFJIGG">
                  <p class="titleinexample">示例2-36使用多个备份集的表空间的跨平台备份</p>
                  <p>此示例使用多个备份集创建表空间<code class="codeph">example</code>的跨平台备份。在创建备份之前，请确保表空间是只读的。由于<code class="codeph">FILESPERSET</code>设置为1，因此每个备份集仅包含一个输入文件。备份集使用以<code class="codeph">db_multiple_</code>开头的唯一名称。
                  </p><pre class="oac_no_warn" dir="ltr">备份传输FILESPERSET 1 FORMAT'/ tmp / xplat_backups / db_multiple_％U'TABLESPACE示例DATAPUMP FORMAT'/ tmp / xplat_backups / db_multiple.dmp';</pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__BGBCECEE">
                  <p class="titleinexample">示例2-37使用多个备份片段的表空间的跨平台备份</p>
                  <p>此示例创建表空间<code class="codeph">example</code>的跨平台备份。备份使用多个备份片，因为在<code class="codeph">ALLOCATE CHANNEL</code>命令中设置了<code class="codeph">MAXPIECESIZE</code> 。在创建备份之前，请确保表空间处于只读模式。
                  </p><pre class="oac_no_warn" dir="ltr">运行{ALLOCATE CHANNEL c1设备类型磁盘MAXPIECESIZE 301464;备份传输格式'/tmp/xplat_backups/example_multi-piece.bck'TABLESPACE示例DATAPUMP格式'/tmp/xplat_backups/example_multi-piece_dmp.bck';}</pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__BGBEJBGF">
                  <p class="titleinexample">示例2-38表空间的跨平台不一致备份</p>
                  <p>此示例创建表空间<code class="codeph">example</code>的跨平台级别0增量备份。表空间在创建备份时处于读写模式，因此，您使用<code class="codeph">ALLOW INCONSISTENT</code>创建不一致的备份。
                  </p>
                  <p>请注意，表空间的不一致备份不能用于将表空间直接插入目标数据库。必须使用在表空间为只读时创建的表空间的增量备份，以使表空间保持一致。<a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__BGBBFFBI">例2-39</a>介绍了如何创建跨平台增量备份。
                  </p><pre class="oac_no_warn" dir="ltr">备份运输允许不一致的增量级别0格式'/tmp/xplat_backups/example_inconsist.bck'TABLESPACE示例;</pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-73642FF2-43C5-48B2-9969-99001C52EB50__BGBBFFBI">
                  <p class="titleinexample">示例2-39表空间的跨平台增量备份</p>
                  <p>此示例创建表空间<code class="codeph">example</code>的跨平台1级增量备份。在创建此备份之前，表空间处于只读模式。此备份包含在创建最新增量备份后对表空间所做的更改。备份存储在名为<code class="codeph">example_inconsist_incr.bck</code>的备份集中。将表空间插入目标数据库所需的元数据存储在备份集<code class="codeph">example_incr_dmp.bck</code> 。
                  </p>
                  <p>您可以使用此级别1增量备份以及<a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__BGBEJBGF">示例2-38中</a>创建的级别0增量备份，将表空间示例传输到其他平台。在目标数据库上，首先还原在<a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__BGBEJBGF">示例2-38</a>中创建的0级增量备份，以创建一组外部数据文件。这些外部数据文件不一致，因为在创建0级增量备份时，表空间处于读/写模式。然后，将1级增量备份应用于外部数据文件。接下来，通过还原<code class="codeph">DATAPUMP</code>子句中指定的备份集，将表空间插入目标数据库。有关使用备份集执行跨平台不一致表空间传输的完整示例，请参见“ <a href="../bradv/rman-transporting-data-across-platforms.html#BRADV783" target="_blank"><span class="italic">Oracle数据库备份和恢复用户指南”</span></a> 。
                  </p>
                  <p>在大多数情况下，在创建0级增量备份后，您将创建多个1级增量备份，并将表空间置于读/写模式。创建最终的增量级别1备份，并将表空间置于只读模式。随着时间的推移创建和应用的这些增量备份有助于最小化源数据库和目标数据库之间的数据差异。</p><pre class="oac_no_warn" dir="ltr">备用运输增量等级1 TABLESPACE示例格式'/tmp/xplat_backups/example_inconsist_incr.bck'DATAPUMP FORMAT'/tmp/xplat_backups/example_incr_dmp.bck';</pre></div>
               <!-- class="example" -->
            </div>
         </div>
      </article>
   </body>
</html>