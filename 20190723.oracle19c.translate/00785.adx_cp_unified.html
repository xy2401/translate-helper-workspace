<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="The unified C++ interfaces are described."></meta>
      <meta name="description" content="The unified C++ interfaces are described."></meta>
      <title>Unified C ++接口概述</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Programmer&#39;s Guide"></meta>
      <meta property="og:description" content="The unified C++ interfaces are described."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Programmer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="xml-developers-kit-programmers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-11T05:58:48-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2001, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96292-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="getting-started-with-XDK-for-C-plus-plus.html" title="Previous" type="text/html"></link>
      <link rel="next" href="using-XML-parser-for-C-plus-plus.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="XML Developers Kit Programmers Guide"></meta>
    <meta name="dcterms.isVersionOf" content="ADXDK"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="getting-started-with-XDK-for-C-plus-plus.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="using-XML-parser-for-C-plus-plus.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">程序员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="XDK-for-C-plus-plus.html" property="item" typeof="WebPage"><span property="name">Oracle XML Developer's Kit for C ++</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Unified C ++接口概述</li>
            </ol>
            <a id="GUID-6824EE66-4A13-47BB-A36A-C887515F40C1" name="GUID-6824EE66-4A13-47BB-A36A-C887515F40C1"></a><a id="ADXDK1048"></a><a id="ADXDK1800"></a>
            
            <h2 id="ADXDK-GUID-6824EE66-4A13-47BB-A36A-C887515F40C1" class="sect2"><span class="enumeration_chapter">27</span> Unified C ++接口概述</h2>
         </header>
         <div class="ind">
            <div>
               <p>描述了统一的C ++接口。</p>
               <div class="section"></div>
               <!-- class="section" -->
            </div><a id="ADXDK19890"></a><div class="sect2"><a id="GUID-45494943-289E-49A4-AA95-F05AE7980A58" name="GUID-45494943-289E-49A4-AA95-F05AE7980A58"></a><h3 id="ADXDK-GUID-45494943-289E-49A4-AA95-F05AE7980A58" class="sect3">什么是Unified C ++ API？</h3>
               <div>
                  <p>用于可扩展标记语言（XML）工具的统一C ++应用程序编程接口（API）代表Oracle XML工具的一组C ++接口。所有三种C ++接口：抽象类，模板和由通用模板参数表示的隐式接口，由统一框架使用。</p>
                  <p>这种统一的方法提供了一个通用的，基于接口的框架，允许改进，更新，替换或添加XML工具，而不会影响任何基于接口的用户代码，并且最小程度地影响应用程序驱动程序，甚至可能影响应用程序配置。</p>
                  <div class="infoboxnote" id="GUID-45494943-289E-49A4-AA95-F05AE7980A58__GUID-78BF8190-944D-4864-A953-9D1F2AD9698B">
                     <p class="notep1">注意：</p>
                     <p>在<code class="codeph">xml.hpp</code>使用统一的C ++ API，用于Oracle XML Developer's Kit（XDK）应用程序。在较旧的，nonunified C ++ API <code class="codeph">oraxml.hpp</code>已被废弃，仅支持向后兼容。它将在以后的版本中删除。
                     </p>
                     <p>统一的C ++ API尽可能地支持万维网联盟（W3C）规范。但是，Oracle无法保证我们的实现完全支持该规范，因为W3C规范不涉及C ++实现。</p>
                  </div>
               </div>
            </div><a id="ADXDK19891"></a><div class="props_rev_3"><a id="GUID-DC251B82-CE44-4581-BE59-7AB4ED930B7A" name="GUID-DC251B82-CE44-4581-BE59-7AB4ED930B7A"></a><h3 id="ADXDK-GUID-DC251B82-CE44-4581-BE59-7AB4ED930B7A" class="sect3">访问C ++接口</h3>
               <div>
                  <p>C ++接口随Oracle数据库一起提供。示例文件位于<code class="codeph">$ORACLE_HOME/xdk/demo/cpp</code> 。软件存档根目录中的<code class="codeph">readme.html</code>包含特定于发行版的信息，包括错误修复和API添加。
                  </p>
               </div>
            </div><a id="ADXDK19892"></a><div class="props_rev_3"><a id="GUID-0347E121-1707-41E0-A500-E308311A5090" name="GUID-0347E121-1707-41E0-A500-E308311A5090"></a><h3 id="ADXDK-GUID-0347E121-1707-41E0-A500-E308311A5090" class="sect3">OracleXML命名空间</h3>
               <div>
                  <p><code class="codeph">OracleXml</code>是所有XML C ++接口的C ++名称空间。它包含用于不同XDK包的通用接口和命名空间。
                  </p>
                  <p>以下命名空间包含在命名空间<code class="codeph">OracleXML</code> ：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><code class="codeph">Ctx</code> -命名为TCTX相关声明</p>
                     </li>
                     <li>
                        <p>用于文档对象模型（DOM）相关声明的<code class="codeph">Dom</code> -namespace</p>
                     </li>
                     <li>
                        <p>解析器和模式验证器声明的<code class="codeph">Parser</code> -namespace</p>
                     </li>
                     <li>
                        <p><code class="codeph">IO</code> -namespace用于输入和输出源声明</p>
                     </li>
                     <li>
                        <p>用于可扩展样式表语言转换（XSLT）相关声明的<code class="codeph">Xsl</code> -namespace</p>
                     </li>
                     <li>
                        <p><code class="codeph">XPath</code> - 与XPath相关的声明的命名空间</p>
                     </li>
                     <li>
                        <p><code class="codeph">Tools</code> :: Factory相关声明的工具 - 名称空间</p>
                     </li>
                  </ul>
                  <p><code class="codeph">OracleXml</code>在文件<code class="codeph">xml.hpp</code>完全定义。用户可见的另一个名称空间<code class="codeph">XmlCtxNS</code>在<code class="codeph">xmlctx.hpp</code>定义。该命名空间包含与<code class="codeph">xmlctx</code>上下文的C级定义和相关数据结构相对应的数据结构的C ++定义。虽然用户无需了解该命名空间的详细信息，但<code class="codeph">xmlctx.hpp</code>必须包含在大多数应用程序主模块中。
                  </p>
                  <p>目前应该由所有实现使用的<code class="codeph">oratext</code>类型的基础上支持多种编码。所有字符串都表示为<code class="codeph">oratext*</code> 。
                  </p>
               </div><a id="ADXDK19893"></a><div class="props_rev_3"><a id="GUID-A2D24C3C-8B6A-4DCF-BCC4-9ABDF4620AE0" name="GUID-A2D24C3C-8B6A-4DCF-BCC4-9ABDF4620AE0"></a><h4 id="ADXDK-GUID-A2D24C3C-8B6A-4DCF-BCC4-9ABDF4620AE0" class="sect4">OracleXML接口</h4>
                  <div>
                     <p><code class="codeph">XMLException</code>接口 - 这是所有XML异常的根接口。
                     </p>
                  </div>
               </div>
            </div><a id="ADXDK19894"></a><div class="props_rev_3"><a id="GUID-DE6794F9-C041-4AEB-A645-B31551C18A0C" name="GUID-DE6794F9-C041-4AEB-A645-B31551C18A0C"></a><h3 id="ADXDK-GUID-DE6794F9-C041-4AEB-A645-B31551C18A0C" class="sect3">Ctx命名空间</h3>
               <div>
                  <p>Ctx命名空间包含与TCtx接口相关的数据类型和接口。</p>
               </div><a id="ADXDK19895"></a><div class="props_rev_3"><a id="GUID-EE7AB45E-33DA-402A-8B94-FBDA53614EAB" name="GUID-EE7AB45E-33DA-402A-8B94-FBDA53614EAB"></a><h4 id="ADXDK-GUID-EE7AB45E-33DA-402A-8B94-FBDA53614EAB" class="sect4">OracleXML数据类型</h4>
                  <div>
                     <p>描述了OracleXML数据类型。</p>
                     <p><code class="codeph">encoding</code> - 一种特殊支持的编码。支持以下类型的编码（或编码名称）：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>data_encoding</p>
                        </li>
                        <li>
                           <p>default_input_encoding</p>
                        </li>
                        <li>
                           <p>input_encoding  - 覆盖前一个</p>
                        </li>
                        <li>
                           <p>error_language-被错误处理程序的语言覆盖（如果已指定）</p>
                        </li>
                     </ul>
                     <p><code class="codeph">encodings</code>阵列。
                     </p>
                  </div>
               </div><a id="ADXDK19896"></a><div class="props_rev_3"><a id="GUID-EAEA97DA-8EE1-42F7-9012-A1EAC607C748" name="GUID-EAEA97DA-8EE1-42F7-9012-A1EAC607C748"></a><h4 id="ADXDK-GUID-EAEA97DA-8EE1-42F7-9012-A1EAC607C748" class="sect4">Ctx接口</h4>
                  <div>
                     <p>描述了<code class="codeph">MemAllocator</code>接口<code class="codeph">ErrorHandler</code> ， <code class="codeph">MemAllocator</code>和<code class="codeph">Tctx</code> 。
                     </p>
                     <p><code class="codeph">ErrorHandler</code>接口 - 这是根错误处理程序类。它处理错误的本地处理，主要来自底层的C实现。在某些实现中，它可能会抛出<code class="codeph">XmlException</code> 。为了满足所有实现的需要，未在其签名中指定此行为。但是，它可以创建异常对象。错误处理程序传递给<code class="codeph">TCtx</code>构造函数时<code class="codeph">TCtx</code>被初始化。该界面的实现由用户提供。
                     </p>
                     <p><code class="codeph">MemAllocator</code>接口 - 这是一个简单的根接口，使<code class="codeph">TCtx</code>接口具有合理的通用性，以便将来可以使用不同的分配器方法。初始化<code class="codeph">TCt</code>时， <code class="codeph">TCtx</code>传递给<code class="codeph">TCt</code> x构造函数。它是一个低级分配器，不知道正在分配的对象的类型。具有此接口的分配器也可以直接使用。在这种情况下，用户负责显式释放对象（使用<code class="codeph">dealloc</code> ）。
                     </p>
                     <p>如果将<code class="codeph">MemAllocator</code>接口作为参数传递给<code class="codeph">TCtx</code>构造函数，则覆盖operator new通常是有意义的。在这种情况下，C和C ++中的所有内存分配都可以由同一个分配器完成。
                     </p>
                     <p><code class="codeph">Tctx</code>接口 - 这是XML上下文实现的隐式接口。它主要用于内存分配，错误（非异常）处理和不同的编码处理。上下文接口是一个隐式接口，应该用作类型参数。名称<code class="codeph">TCtx</code>用作相应的类型参数名称。其实际替换是通过实际上下文实现参数化（模板化）的实现的实例化。在出现错误的情况下，可能会抛出<code class="codeph">XmlException</code> 。所有构造函数都创建并初始化上下文实现。在多线程环境中，必须为每个线程初始化单独的上下文实现。
                     </p>
                  </div>
               </div>
            </div><a id="ADXDK19897"></a><div class="props_rev_3"><a id="GUID-FDDC3F0D-528E-4D88-8DC1-E988EEDCE99D" name="GUID-FDDC3F0D-528E-4D88-8DC1-E988EEDCE99D"></a><h3 id="ADXDK-GUID-FDDC3F0D-528E-4D88-8DC1-E988EEDCE99D" class="sect3">IO命名空间</h3>
               <div>
                  <p><code class="codeph">IO</code>命名空间为所有XML工具指定了不同输入和输出选项的接口。
                  </p>
               </div><a id="ADXDK19898"></a><div class="props_rev_3"><a id="GUID-67E5D1CB-54B5-467A-9204-E4D6F2625484" name="GUID-67E5D1CB-54B5-467A-9204-E4D6F2625484"></a><h4 id="ADXDK-GUID-67E5D1CB-54B5-467A-9204-E4D6F2625484" class="sect4">IO数据类型</h4>
                  <div>
                     <p>数据类型<code class="codeph">InputSourceType</code>指定支持的输入源类型。
                     </p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">ISRC_URI</code> - 从指定的<code class="codeph">ISRC_URI</code>资源标识符（URI）读取输入。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">ISRC_FILE</code> - 要从文件中读取输入。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">ISRC_BUFFER</code> - 从缓冲区读取输入。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">ISRC_DOM</code>是一个DOM树。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">ISRC_CSTREAM</code>是C级流。
                           </p>
                        </li>
                     </ul>
                  </div>
               </div><a id="ADXDK19899"></a><div class="props_rev_3"><a id="GUID-A848B09E-E26E-4F4E-9223-A823561084FC" name="GUID-A848B09E-E26E-4F4E-9223-A823561084FC"></a><h4 id="ADXDK-GUID-A848B09E-E26E-4F4E-9223-A823561084FC" class="sect4">IO接口</h4>
                  <div>
                     <p>描述了输入接口。</p>
                     <p><code class="codeph">URISource</code> - 这是指定URI输入的接口。</p>
                     <p><code class="codeph">FileSource</code> - 这是一个来自文件输入的接口。
                     </p>
                     <p><code class="codeph">BufferSource</code> - 这是缓冲区输入的接口。
                     </p>
                     <p><code class="codeph">DOMSource</code> - 这是来自DOM树的输入的接口。
                     </p>
                     <p><code class="codeph">CStreamSource</code> - 这是来自C级流的输入的接口。
                     </p>
                  </div>
               </div>
            </div><a id="ADXDK19900"></a><div class="props_rev_3"><a id="GUID-8F22E850-496D-49B1-8528-96B7410E55CF" name="GUID-8F22E850-496D-49B1-8528-96B7410E55CF"></a><h3 id="ADXDK-GUID-8F22E850-496D-49B1-8528-96B7410E55CF" class="sect3">工具包</h3>
               <div>
                  <p><code class="codeph">Tools</code>是用于与Oracle XML工具的创建和实例化相关的类型和接口的包（ <code class="codeph">OracleXml</code>子空间）。
                  </p>
               </div><a id="ADXDK19901"></a><div class="props_rev_3"><a id="GUID-FCD7042D-7503-460C-AB3E-CD969C49A615" name="GUID-FCD7042D-7503-460C-AB3E-CD969C49A615"></a><h4 id="ADXDK-GUID-FCD7042D-7503-460C-AB3E-CD969C49A615" class="sect4">工具接口</h4>
                  <div>
                     <p>描述了XML工具的接口。</p>
                     <p><code class="codeph">FactoryException</code>工具工厂例外。它源自<code class="codeph">XMLExceptions</code> 。
                     </p>
                     <p><code class="codeph">Factory</code> -XML工具厂。隐藏所有XML工具的实现，并提供基于其标识符（ID）值创建表示这些工具的对象的方法。
                     </p>
                  </div>
               </div>
            </div><a id="ADXDK19902"></a><div class="props_rev_3"><a id="GUID-A94FFD67-979A-4AB3-8EE7-EAA678DF5413" name="GUID-A94FFD67-979A-4AB3-8EE7-EAA678DF5413"></a><h3 id="ADXDK-GUID-A94FFD67-979A-4AB3-8EE7-EAA678DF5413" class="sect3">错误消息文件</h3>
               <div>
                  <p>错误消息文件在<code class="codeph">$ORACLE_HOME/xdk/mesg</code>目录中提供。您可以将环境变量<code class="codeph">ORA_XML_MESG</code>设置为指向此目录，但这不是必需的。
                  </p>
                  <div class="infoboxnotealso" id="GUID-A94FFD67-979A-4AB3-8EE7-EAA678DF5413__GUID-9DF2D0CB-652F-4CFB-B05D-5C78721E3F31">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="../cpxml/package-Ctx-API.html#CPXML01000" target="_blank"><span><cite>Oracle Database XML C ++ API参考</cite></span></a>包Ctx API for C ++</p>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>