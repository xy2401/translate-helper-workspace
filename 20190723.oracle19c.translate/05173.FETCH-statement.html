<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="The FETCH statement retrieves rows of data from the result set of a multiple-row query—one row at a time, several rows at a time, or all rows at once—and stores the data in variables, records, or collections."></meta>
      <meta name="description" content="The FETCH statement retrieves rows of data from the result set of a multiple-row query—one row at a time, several rows at a time, or all rows at once—and stores the data in variables, records, or collections."></meta>
      <title>FETCH声明</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Database PL/SQL Language Reference "></meta>
      <meta property="og:description" content="The FETCH statement retrieves rows of data from the result set of a multiple-row query—one row at a time, several rows at a time, or all rows at once—and stores the data in variables, records, or collections."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Database PL/SQL Language Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-pl-sql-language-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-13T20:26:20-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96448-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="expression.html" title="Previous" type="text/html"></link>
      <link rel="next" href="FOR-LOOP-statement.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database PL/SQL Language Reference"></meta>
    <meta name="dcterms.isVersionOf" content="LNPLS"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="expression.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="FOR-LOOP-statement.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">数据库PL / SQL语言参考</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="plsql-language-elements.html" property="item" typeof="WebPage"><span property="name">PL / SQL语言元素</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">FETCH声明</li>
            </ol>
            <a id="GUID-75BC6E63-841A-4103-9B96-8AC97F5C28BB" name="GUID-75BC6E63-841A-4103-9B96-8AC97F5C28BB"></a><a id="LNPLS1502"></a><a id="LNPLS1503"></a><a id="LNPLS1504"></a><a id="LNPLS1505"></a><a id="LNPLS1506"></a><a id="LNPLS1507"></a><a id="LNPLS1508"></a><a id="LNPLS1509"></a><a id="LNPLS1510"></a><a id="LNPLS1511"></a><a id="LNPLS01320"></a>
            
            <h2 id="LNPLS-GUID-75BC6E63-841A-4103-9B96-8AC97F5C28BB" class="sect2"><span class="enumeration_section">13.32</span> FETCH声明</h2>
         </header>
         <div class="ind">
            <div>
               <p><code class="codeph">FETCH</code>语句从多行查询的结果集中检索数据行 - 一次一行，一次几行，或一次所有行 - 并将数据存储在变量，记录或集合中。
               </p>
               <div class="section"></div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-75BC6E63-841A-4103-9B96-8AC97F5C28BB__GUID-786DA4F5-10F8-413A-89CF-00E4F6E5F32A">话题</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="FETCH-statement.html#GUID-75BC6E63-841A-4103-9B96-8AC97F5C28BB__CJAFCDBD">句法</a></p>
                     </li>
                     <li>
                        <p><a href="FETCH-statement.html#GUID-75BC6E63-841A-4103-9B96-8AC97F5C28BB__CJAEJEFG">语义</a></p>
                     </li>
                     <li>
                        <p><a href="FETCH-statement.html#GUID-75BC6E63-841A-4103-9B96-8AC97F5C28BB__CJAHEFJJ">例子</a></p>
                     </li>
                     <li>
                        <p><a href="FETCH-statement.html#GUID-75BC6E63-841A-4103-9B96-8AC97F5C28BB__CJAHIJFJ">相关话题</a></p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-75BC6E63-841A-4103-9B96-8AC97F5C28BB__CJAFCDBD">
                  <p class="subhead1" id="GUID-75BC6E63-841A-4103-9B96-8AC97F5C28BB__GUID-950F52DA-C7AA-43B0-A10A-E23202E3EE44">句法</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-75BC6E63-841A-4103-9B96-8AC97F5C28BB__GUID-9D18D28B-B089-4D46-B262-E5194ADFE953"><span class="italic">fetch_statement</span> :: =</p>
                  <div class="figure" id="GUID-75BC6E63-841A-4103-9B96-8AC97F5C28BB__GUID-4235D554-B6A7-476C-A5AD-1B359C12E050"><img src="img/fetch_statement.gif" alt="fetch_statement.eps的描述如下" title="fetch_statement.eps的描述如下" longdesc="img_text/fetch_statement.html"><br><a href="img_text/fetch_statement.html">fetch_statement.eps插图的描述</a></div>
                  <!-- class="figure" -->
                  <p>（ <a href="RETURNING-INTO-clause.html#GUID-38F735B9-1100-45AF-AE71-18FB74A899BE__CJAIAGHJ">bulk_collect_into_clause :: =</a> ， <a href="RETURNING-INTO-clause.html#GUID-38F735B9-1100-45AF-AE71-18FB74A899BE__CJAJDJHC">into_clause :: =</a> ， <a href="expression.html#GUID-D4700B45-F2C8-443E-AEE7-2BD20FFD45B8__CHDIEJAI">numeric_expression :: =</a> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-75BC6E63-841A-4103-9B96-8AC97F5C28BB__CJAEJEFG">
                  <p class="subhead1" id="GUID-75BC6E63-841A-4103-9B96-8AC97F5C28BB__GUID-97EEEFF1-8344-4764-9DB4-61E9C4539C1D">语义</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-75BC6E63-841A-4103-9B96-8AC97F5C28BB__GUID-682AB6FD-0123-4EBC-83B0-1CA501B29C49"><span class="italic">fetch_statement</span></p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold"><span class="italic">光标</span></span></p>
                  <p>打开显式游标的名称。要打开显式游标，请使用<span class="q">“ <a href="OPEN-statement.html#GUID-FB5A9CC3-655F-4AF4-8105-14CB39F2FEA8" title="OPEN语句打开显式游标，分配数据库资源以处理关联查询，标识结果集，并将光标定位在结果集的第一行之前。">OPEN语句</a> ”</span> 。
                  </p>
                  <p>如果您尝试在打开它之前或关闭它之后从显式游标中获取，PL / SQL会引发预定义的异常<code class="codeph">INVALID_CURSOR</code> 。</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold"><span class="italic">cursor_variable</span></span></p>
                  <p>打开游标变量的名称。要打开游标变量，请使用<span class="q">“ <a href="OPEN-FOR-statement.html#GUID-EB7AF439-FDD3-4461-9E3F-B621E8ABFB96" title="OPEN FOR语句将游标变量与查询相关联，分配数据库资源以处理查询，标识结果集，并将光标定位在结果集的第一行之前。">OPEN FOR语句</a> ”</span> 。游标变量可以是正式的子程序参数（请参阅<span class="q">“ <a href="static-sql.html#GUID-9713DFC2-3C2E-49B2-922F-02D43F9D0619" title="您可以使用游标变量作为子程序参数，这使得它可以在子程序之间传递查询结果。">光标变量作为子程序参数</a> ”</span> ）。
                  </p>
                  <p>如果您尝试在打开游标变量之前或关闭它之后从游标变量中获取，PL / SQL会引发预定义的异常<code class="codeph">INVALID_CURSOR</code> 。</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold">： <span class="italic">host_cursor_variable</span></span></p>
                  <p>在PL / SQL主机环境中声明的游标变量的名称，作为绑定变量传递给PL / SQL，然后打开。要打开主机游标变量，请使用<span class="q">“ <a href="OPEN-FOR-statement.html#GUID-EB7AF439-FDD3-4461-9E3F-B621E8ABFB96" title="OPEN FOR语句将游标变量与查询相关联，分配数据库资源以处理查询，标识结果集，并将光标定位在结果集的第一行之前。">OPEN FOR语句</a> ”</span> 。不要在冒号（:)和<span class="italic"><code class="codeph">host_cursor_variable</code></span>之间放置空格。
                  </p>
                  <p>主机游标变量的数据类型与任何PL / SQL游标变量的返回类型兼容。</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-75BC6E63-841A-4103-9B96-8AC97F5C28BB__GUID-17E1F958-85EC-4B07-B002-FD7EEE3C6B63"><span class="italic">into_clause</span></p>
                  <p>要让<code class="codeph">FETCH</code>语句一次检索一行，请使用此子句指定存储游标返回的行的列值的变量或记录。有关<span class="italic"><code class="codeph">into_clause</code></span>更多信息，请参阅<span class="q">“ <a href="RETURNING-INTO-clause.html#GUID-38F735B9-1100-45AF-AE71-18FB74A899BE__CJAJDJHC">into_clause :: =</a> ”</span> 。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-75BC6E63-841A-4103-9B96-8AC97F5C28BB__GUID-D47E778B-E08D-4552-9891-6DA0FDE116AD"><span class="italic">bulk_collect_into_clause</span> [LIMIT <span class="italic">numeric_expression</span> ]</p>
                  <p>使用<span class="italic"><code class="codeph">bulk_collect_into_clause</code></span>指定一个或多个集合，用于存储<code class="codeph">FETCH</code>语句返回的行。有关<span class="italic"><code class="codeph">bulk_collect_into_clause</code></span>详细信息，请参阅<span class="q">“ <a href="RETURNING-INTO-clause.html#GUID-38F735B9-1100-45AF-AE71-18FB74A899BE__CJAIAGHJ">bulk_collect_into_clause :: =</a> ”</span> 。
                  </p>
                  <p>要让<code class="codeph">FETCH</code>语句一次检索所有行，请省略<code class="codeph">LIMIT</code> <span class="italic"><code class="codeph">numeric_expression</code></span> 。
                  </p>
                  <p>要限制<code class="codeph">FETCH</code>语句一次检索的行数，请指定<code class="codeph">LIMIT</code> <span class="italic"><code class="codeph">numeric_expression</code></span> 。
                  </p>
                  <p><span class="bold">对<span class="italic">bulk_collect_into_clause的</span>限制</span></p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>您不能在客户端程序中使用<span class="italic"><code class="codeph">bulk_collect_into_clause</code></span> 。
                        </p>
                     </li>
                     <li>
                        <p>当<code class="codeph">FETCH</code>语句需要隐式数据类型转换时， <span class="italic"><code class="codeph">bulk_collect_into_clause</code></span>只能有一个<span class="italic"><code class="codeph">collection</code></span>或<span class="italic"><code class="codeph">host_array</code></span> 。
                        </p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-75BC6E63-841A-4103-9B96-8AC97F5C28BB__CJAHEFJJ">
                  <p class="subhead1" id="GUID-75BC6E63-841A-4103-9B96-8AC97F5C28BB__GUID-EE3A1FEB-7AEF-48C4-856C-0E7FB2979227">例子</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="plsql-collections-and-records.html#GUID-CC1DA893-4087-4DA4-8B13-052AB76DAC4F__BEIDDADJ">例5-51</a> ， <span class="q">“FETCH分配值来记录函数返回”</span></p>
                     </li>
                     <li>
                        <p><a href="static-sql.html#GUID-9DEED64C-A87E-4EAD-97DA-ABDD3FDF172C__BABCFDJE">例6-6</a> ， <span class="q">“LOOP语句中的FETCH语句”</span></p>
                     </li>
                     <li>
                        <p><a href="static-sql.html#GUID-9DEED64C-A87E-4EAD-97DA-ABDD3FDF172C__CJADGBJE">例6-7</a> ， <span class="q">“将相同的显式游标提取到不同的变量中”</span></p>
                     </li>
                     <li>
                        <p><a href="static-sql.html#GUID-AA5A2016-1B76-4961-9AFB-EB052F0D0FB2__BABDJIFB">例6-26</a> ， <span class="q">“使用游标变量获取数据”</span></p>
                     </li>
                     <li>
                        <p><a href="static-sql.html#GUID-AA5A2016-1B76-4961-9AFB-EB052F0D0FB2__BABGAICI">例6-27</a> ， <span class="q">“从游标变量获取到集合中”</span></p>
                     </li>
                     <li>
                        <p><a href="static-sql.html#GUID-E9A9E94A-9E63-42E0-A4DC-F25E9B7A23B9__CHDHIIAI">例6-41</a> ， <span class="q">“COMMIT语句后带有FOR UPDATE游标的FETCH”</span></p>
                     </li>
                     <li>
                        <p><a href="dynamic-sql.html#GUID-BAC52F38-B427-4860-9B6D-336B3AEE6AD2__BHCFDIAI">例7-8</a> ， <span class="q">“带有OPEN FOR，FETCH和CLOSE语句的本机动态SQL”</span></p>
                     </li>
                     <li>
                        <p><a href="plsql-optimization-and-tuning.html#GUID-541A8B35-9B8F-432F-9E30-E73305A6E17C__BABCCJCB">例12-22</a> ， <span class="q">“批量获取到两个嵌套表”</span></p>
                     </li>
                     <li>
                        <p><a href="plsql-optimization-and-tuning.html#GUID-541A8B35-9B8F-432F-9E30-E73305A6E17C__CIHBDHIB">例12-23</a> ， <span class="q">“批量获取到嵌套的记录表”</span></p>
                     </li>
                     <li>
                        <p><a href="plsql-optimization-and-tuning.html#GUID-2AD6C621-3B71-4D27-8E94-574A54BB93A6__BABJIAFH">例12-24</a> ， <span class="q">“使用LIMIT限制批量FETCH”</span></p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-75BC6E63-841A-4103-9B96-8AC97F5C28BB__CJAHIJFJ">
                  <p class="subhead1" id="GUID-75BC6E63-841A-4103-9B96-8AC97F5C28BB__GUID-2A4661D7-8074-4C74-90DA-3EC16426E7C5">相关话题</p>
                  <p>在这一章当中：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><span class="q">“ <a href="assignment-statement.html#GUID-4C3BEFDF-3FFA-4E9D-96D0-4C5E13E08643" title="赋值语句将数据项的值设置为有效值。">作业声明</a> ”</span></p>
                     </li>
                     <li>
                        <p><span class="q">“ <a href="CLOSE-statement.html#GUID-46E7086C-8C29-4689-A062-0FF059E268FD" title="CLOSE语句关闭一个命名游标，释放其资源以供重用。">关闭声明</a> ”</span></p>
                     </li>
                     <li>
                        <p><span class="q">“ <a href="cursor-variable-declaration.html#GUID-CE884B31-07F0-46AA-8067-EBAF73821F3D" title="游标变量类似于显式游标，不限于一个查询。">游标变量声明</a> ”</span></p>
                     </li>
                     <li>
                        <p><span class="q">“ <a href="explicit-cursor-declaration-and-definition.html#GUID-38C5DBA3-9DEC-4AF2-9B5E-7B721D11A77C" title="显式游标是指向私有SQL区域的命名指针，该区域存储用于处理特定查询或DML语句的信息 - 通常是返回或影响多行的语句。">明确的游标声明和定义</a> ”</span></p>
                     </li>
                     <li>
                        <p><span class="q">“ <a href="OPEN-statement.html#GUID-FB5A9CC3-655F-4AF4-8105-14CB39F2FEA8" title="OPEN语句打开显式游标，分配数据库资源以处理关联查询，标识结果集，并将光标定位在结果集的第一行之前。">OPEN声明</a> ”</span></p>
                     </li>
                     <li>
                        <p><span class="q">“ <a href="OPEN-FOR-statement.html#GUID-EB7AF439-FDD3-4461-9E3F-B621E8ABFB96" title="OPEN FOR语句将游标变量与查询相关联，分配数据库资源以处理查询，标识结果集，并将光标定位在结果集的第一行之前。">开放声明</a> ”</span></p>
                     </li>
                     <li>
                        <p><span class="q">“ <a href="RETURNING-INTO-clause.html#GUID-38F735B9-1100-45AF-AE71-18FB74A899BE" title="RETURNING INTO子句指定用于存储子句所属语句返回的值的变量。">归还条款</a> ”</span></p>
                     </li>
                     <li>
                        <p><span class="q">“ <a href="ROWTYPE-attribute.html#GUID-4E0B9FE2-909D-444A-9B4A-E0243B7FCB99" title="％ROWTYPE属性允许您声明一条记录，该记录表示数据库表或视图的完整行或部分行。">％ROWTYPE属性</a> ”</span></p>
                     </li>
                     <li>
                        <p><span class="q">“ <a href="SELECT-INTO-statement.html#GUID-6E14E04D-4344-45F3-BE80-979DD26C7A90" title="SELECT INTO语句从一个或多个数据库表中检索值（如SQL SELECT语句所做的那样）并将它们存储在变量中（SQL SELECT语句不这样做）。">SELECT INTO Statement</a> ”</span></p>
                     </li>
                     <li>
                        <p><span class="q">“ <a href="TYPE-attribute.html#GUID-EAB44F7E-B2AB-4AC6-B83D-B586193D75FC" title="％TYPE属性允许您将常量，变量，集合元素，记录字段或子程序参数声明为与先前声明的变量或列具有相同的数据类型（不知道该类型是什么）。">％TYPE属性</a> ”</span></p>
                     </li>
                  </ul>
                  <p>在其他章节中：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><span class="q">“ <a href="plsql-collections-and-records.html#GUID-CC1DA893-4087-4DA4-8B13-052AB76DAC4F">使用FETCH将行分配给记录变量</a> ”</span></p>
                     </li>
                     <li>
                        <p><span class="q">“ <a href="static-sql.html#GUID-9DEED64C-A87E-4EAD-97DA-ABDD3FDF172C">使用显式游标获取数据</a> ”</span></p>
                     </li>
                     <li>
                        <p><span class="q">“ <a href="static-sql.html#GUID-25917214-FD91-499D-AB39-CE21484AB167" title="游标FOR LOOP语句允许您运行SELECT语句，然后立即循环遍历结果集的行。">处理查询结果集与光标FOR LOOP语句</a> ”</span></p>
                     </li>
                     <li>
                        <p><span class="q">“ <a href="static-sql.html#GUID-AA5A2016-1B76-4961-9AFB-EB052F0D0FB2" title="打开游标变量后，可以使用FETCH语句获取查询结果集的行。">使用光标变量获取数据</a> ”</span></p>
                     </li>
                     <li>
                        <p><span class="q">“ <a href="dynamic-sql.html#GUID-BAC52F38-B427-4860-9B6D-336B3AEE6AD2">OPEN FOR，FETCH和CLOSE语句</a> ”</span></p>
                     </li>
                     <li>
                        <p><span class="q">“ <a href="plsql-optimization-and-tuning.html#GUID-541A8B35-9B8F-432F-9E30-E73305A6E17C" title="具有BULK COLLECT子句（也称为FETCH BULK COLLECT语句）的FETCH语句将整个结果集提取到一个或多个集合变量中。">FETCH声明与BULK COLLECT条款</a> ”</span></p>
                     </li>
                     <li>
                        <p><span class="q">“ <a href="plsql-optimization-and-tuning.html#GUID-66AF0686-5781-4BCB-B067-6F03BA9B23AE">从流水线表函数的结果中获取</a> ”</span></p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
            </div>
         </div>
      </article>
   </body>
</html>