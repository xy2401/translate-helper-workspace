<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="Oracle Data Pump technology enables very high-speed movement of data and metadata from one database to another."></meta>
      <meta name="description" content="Oracle Data Pump technology enables very high-speed movement of data and metadata from one database to another."></meta>
      <title>Oracle Data Pump概述</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Utilities "></meta>
      <meta property="og:description" content="Oracle Data Pump technology enables very high-speed movement of data and metadata from one database to another."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Utilities"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-utilities.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-04-23T19:07:17-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2002, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96081-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="oracle-data-pump.html" title="Previous" type="text/html"></link>
      <link rel="next" href="oracle-data-pump-export-utility.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Utilities"></meta>
    <meta name="dcterms.isVersionOf" content="SUTIL"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="oracle-data-pump.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="oracle-data-pump-export-utility.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">公用事业</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="oracle-data-pump.html" property="item" typeof="WebPage"><span property="name">Oracle Data Pump</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Oracle Data Pump概述</li>
            </ol>
            <a id="GUID-17FAE261-0972-4220-A2E4-44D479F519D4" name="GUID-17FAE261-0972-4220-A2E4-44D479F519D4"></a><a id="SUTIL100"></a>
            
            <h2 id="SUTIL-GUID-17FAE261-0972-4220-A2E4-44D479F519D4" class="sect2"><span class="enumeration_chapter">1</span> Oracle Data Pump概述</h2>
         </header>
         <div class="ind">
            <div>
               <p>Oracle Data Pump技术可以将数据和元数据从一个数据库高速移动到另一个数据库。</p>
               <p>了解以下主题可帮助您最大限度地成功使用Oracle Data Pump：</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="oracle-data-pump-overview.html#GUID-47B26B0B-3C95-4182-ACDF-2EEDD577FC9E">Oracle数据泵组件</a><br>Oracle Data Pump由三个不同的组件组成：命令行客户端， <code class="codeph">expdp</code>和<code class="codeph">impdp</code> ; <code class="codeph">DBMS_DATAPUMP</code> PL / SQL包（也称为Data Pump API）;和<code class="codeph">DBMS_METADATA</code> PL / SQL包（也称为Metadata API）。
                  </li>
                  <li class="ulchildlink"><a href="oracle-data-pump-overview.html#GUID-3F418F02-5FE2-455A-B5AD-C1910DB3B5E0">数据泵如何移动数据？</a><br>您可以使用多种Oracle Data Pump方法将数据移入和移出数据库。您可以选择最适合您的用例的方法。
                  </li>
                  <li class="ulchildlink"><a href="oracle-data-pump-overview.html#GUID-45B17B65-20F2-4128-9A39-B1B0F5E323BB">使用带有CDB的Oracle数据泵</a><br>Oracle Data Pump可以将数据库的全部或部分从非CDB迁移到PDB，在相同或不同CDB中的PDB之间，以及从PDB迁移到非CDB。</li>
                  <li class="ulchildlink"><a href="oracle-data-pump-overview.html#GUID-8B6975D3-3BEC-4584-B416-280125EEC57E">数据泵导出和导入操作所需的角色</a><br>许多数据泵导出和导入操作要求用户具有<code class="codeph">DATAPUMP_EXP_FULL_DATABASE</code>角色或<code class="codeph">DATAPUMP_IMP_FULL_DATABASE</code>角色，或两者都具有。
                  </li>
                  <li class="ulchildlink"><a href="oracle-data-pump-overview.html#GUID-6BDC1CC8-8596-402D-B016-602985B97AB6">在执行Oracle数据泵作业期间会发生什么？</a><br>Oracle Data Pump作业使用主表，主进程和工作进程来执行工作并跟踪进度。
                  </li>
                  <li class="ulchildlink"><a href="oracle-data-pump-overview.html#GUID-E365D74E-12CD-495C-BA23-5A55F679C7E7">监控工作状态</a><br>Oracle Data Pump导出和导入客户端实用程序可以以日志记录模式或交互式命令模式附加到作业。
                  </li>
                  <li class="ulchildlink"><a href="oracle-data-pump-overview.html#GUID-A4C5E6C1-28DE-45AF-B90C-B7FEEFF62069">监控执行工作的进度</a><br>要监视表数据传输，可以使用<code class="codeph">V$SESSION_LONGOPS</code>动态性能视图来监视Oracle Data Pump作业。
                  </li>
                  <li class="ulchildlink"><a href="oracle-data-pump-overview.html#GUID-FE7E746D-A343-463E-A4E2-A6AD1349FE4B">文件分配</a><br>Oracle Data Pump管理几种不同类型的文件。您可以在交互模式下使用命令来修改OracleData Pump分配和处理这些文件的方式。
                  </li>
                  <li class="ulchildlink"><a href="oracle-data-pump-overview.html#GUID-BAA3B679-A758-4D55-9820-432D9EB83C68">在不同的Oracle数据库版本之间导出和导入</a><br>您可以使用Oracle Data Pump在不同版本的数据库软件之间迁移Oracle数据库的全部或任何部分。
                  </li>
                  <li class="ulchildlink"><a href="oracle-data-pump-overview.html#GUID-9030BC32-193B-4455-8DBB-4271DD44FA7A">SecureFiles LOB注意事项</a><br>使用Oracle Data Pump Export导出SecureFiles LOB时，导出行为取决于多种因素，包括Export <code class="codeph">VERSION</code>参数值，是否存在ContentType，以及是否存档LOB以及是否缓存数据。
                  </li>
                  <li class="ulchildlink"><a href="oracle-data-pump-overview.html#GUID-34D0DEE7-3530-42DC-BE01-C2588CC73CE5">Oracle Data Pump退出代码</a><br>您可以在日志文件和进程退出代码中查看Oracle Data Pump导出和导入操作结果。
                  </li>
                  <li class="ulchildlink"><a href="oracle-data-pump-overview.html#GUID-4443B80B-0446-4010-B8CA-2524659516BC">审核数据泵作业</a><br>要监视和记录特定的用户数据库操作，请使用统一审计对Data Pump作业执行审计。
                  </li>
                  <li class="ulchildlink"><a href="oracle-data-pump-overview.html#GUID-7EE60BAB-0D3D-46EB-8E11-4FDDA68EF14E">数据泵如何处理时间戳数据？</a><br>本节介绍可能影响成功完成导出和导入作业的因素，这些作业涉及时间戳数据类型<code class="codeph">TIMESTAMP WITH TIMEZONE</code>和<code class="codeph">TIMESTAMP WITH LOCAL TIMEZONE</code> 。</li>
                  <li class="ulchildlink"><a href="oracle-data-pump-overview.html#GUID-72F01BF0-61F5-4775-8C7B-4E227F244866">字符集和全球化支持注意事项</a><br>数据泵导出和导入的全球化支持行为。
                  </li>
                  <li class="ulchildlink"><a href="oracle-data-pump-overview.html#GUID-B1A6BBA2-0269-48CC-8A0E-8E3955A231C0">具有数据绑定排序规则的Oracle数据泵行为</a><br>Oracle Data Pump支持数据绑定归类（DBC）。
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>父主题：</strong> <a href="oracle-data-pump.html#GUID-501A9908-BCC5-434C-8853-9A6096766B5A">Oracle Data Pump</a></p>
                  </div>
               </div>
            </div>
            <a id="SUTIL801"></a><div class="props_rev_3"><a id="GUID-47B26B0B-3C95-4182-ACDF-2EEDD577FC9E" name="GUID-47B26B0B-3C95-4182-ACDF-2EEDD577FC9E"></a><h3 id="SUTIL-GUID-47B26B0B-3C95-4182-ACDF-2EEDD577FC9E" class="sect3"><span class="enumeration_section">1.1</span> Oracle数据泵组件</h3>
               <div>
                  <p>Oracle Data Pump由三个不同的组件组成：命令行客户端， <code class="codeph">expdp</code>和<code class="codeph">impdp</code> ; <code class="codeph">DBMS_DATAPUMP</code> PL / SQL包（也称为Data Pump API）;和<code class="codeph">DBMS_METADATA</code> PL / SQL包（也称为Metadata API）。
                  </p>
                  <p>Oracle Data Pump客户端<code class="codeph">expdp</code>和<code class="codeph">impdp</code>启动Oracle Data Pump Export实用程序和Oracle Data Pump Import实用程序。
                  </p>
                  <p><code class="codeph">expdp</code>和<code class="codeph">impdp</code>客户端使用<code class="codeph">DBMS_DATAPUMP</code> PL / SQL包中提供的过程，使用在命令行输入的参数执行导出和导入命令。这些参数支持导出和导入完整数据库或数据库子集的数据和元数据。
                  </p>
                  <p>移动元数据时，Data Pump使用<code class="codeph">DBMS_METADATA</code> PL / SQL包提供的功能。<code class="codeph">DBMS_METADATA</code>包为字典元数据的提取，操作和重新创建提供了集中的工具。
                  </p>
                  <p><code class="codeph">DBMS_DATAPUMP</code>和<code class="codeph">DBMS_METADATA</code> PL / SQL包可以独立于Data Pump客户端使用。
                  </p>
                  <div class="infoboxnote" id="GUID-47B26B0B-3C95-4182-ACDF-2EEDD577FC9E__GUID-F0F71B60-F143-4EE4-B5BF-40FD1CD1A594">
                     <p class="notep1">注意：</p>
                     <p>所有Oracle Data Pump导出和导入处理（包括读取和写入转储文件）都在由指定数据库连接字符串选择的系统（服务器）上完成。<span class="bold">这意味着对于非特权用户，数据库管理员（DBA）必须为在该服务器文件系统上读取和写入的数据泵文件创建目录对象。</span> （出于安全原因，DBA必须确保只允许经过批准的用户访问目录对象。）对于特权用户，可以使用默认目录对象。
                     </p>
                  </div>
                  <p>从Oracle Database 18c开始，您可以使用Oracle Data Pump在完整或部分导出和导入操作中包含统一审计跟踪。用户界面没有变化。执行数据库的导出或导入操作时，统一审计跟踪将自动包含在Oracle Data Pump转储文件中。有关<code class="codeph">DBMS_DATAPUMP</code>和<code class="codeph">DBMS_METADATA</code>包的说明，请参见<cite>Oracle Database PL / SQL包和类型参考</cite> 。有关使用Oracle Data Pump导出和导入统一审计跟踪的信息，请参见“ <cite>Oracle数据库安全指南”</cite> 。
                  </p>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="oracle-data-pump-overview.html#GUID-EEB32B50-8A00-40B0-8787-CC2C8BA05DC5" title="Data Pump是基于服务器而不是基于客户端的。相对于基于服务器的目录路径，访问转储文件，日志文件和SQL文件。">了解转储，日志和SQL文件默认位置</a></li>
                        <li><a href="../arpls/DBMS_DATAPUMP.html#ARPLS356" target="_blank"><span><cite>Oracle数据库PL / SQL包和类型参考</cite></span></a></li>
                        <li><a href="../dbseg/administering-the-audit-trail.html#DBSEG-GUID-8140CCBF-77EE-4F86-A055-B9F9AB8B4573" target="_blank"><span><cite>Oracle数据库安全指南</cite></span></a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="oracle-data-pump-overview.html#GUID-17FAE261-0972-4220-A2E4-44D479F519D4" title="Oracle Data Pump技术可以将数据和元数据从一个数据库高速移动到另一个数据库。">Oracle Data Pump概述</a></p>
                     </div>
                  </div>
               </div>
            </div><a id="SUTIL802"></a><div class="props_rev_3"><a id="GUID-3F418F02-5FE2-455A-B5AD-C1910DB3B5E0" name="GUID-3F418F02-5FE2-455A-B5AD-C1910DB3B5E0"></a><h3 id="SUTIL-GUID-3F418F02-5FE2-455A-B5AD-C1910DB3B5E0" class="sect3"><span class="enumeration_section">1.2</span>数据泵如何移动数据？
               </h3>
               <div>
                  <p>您可以使用多种Oracle Data Pump方法将数据移入和移出数据库。您可以选择最适合您的用例的方法。</p>
                  <div class="infoboxnote" id="GUID-3F418F02-5FE2-455A-B5AD-C1910DB3B5E0__GUID-B77A4D96-BC67-431E-9C68-09DF5865A7C4">
                     <p class="notep1">注意：</p>
                     <p>Data Pump不会加载具有禁用的唯一索引的表。要将数据加载到表中，必须删除索引或重新启用索引。</p>
                  </div>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="oracle-data-pump-overview.html#GUID-06B2DF71-2A66-498F-B659-1EF5859B1648">使用数据文件复制移动数据</a><br>移动数据的最快方法是将数据库数据文件复制到目标数据库，而无需解释或更改数据。使用此方法，Data Pump Export用于仅将结构信息（元数据）卸载到转储文件中。
                     </li>
                     <li class="ulchildlink"><a href="oracle-data-pump-overview.html#GUID-F5790243-15A3-4932-9258-1A466985964D">使用直接路径移动数据</a><br>数据文件复制后，直接路径是移动数据的最快方法。在此方法中，绕过数据库的SQL层，并且只使用最少的解释将行移入和转出转储文件。
                     </li>
                     <li class="ulchildlink"><a href="oracle-data-pump-overview.html#GUID-EDB0DFE2-A20A-4FF6-B584-1D31583054AB">使用外部表移动数据</a><br>如果不选择数据文件复制，并且无法使用直接路径移动数据，则可以使用外部表机制。
                     </li>
                     <li class="ulchildlink"><a href="oracle-data-pump-overview.html#GUID-C746E643-C199-4746-AD16-13334734778F">使用传统路径移动数据</a><br>在存在冲突表属性的情况下，Oracle Data Pump使用传统路径来移动数据。
                     </li>
                     <li class="ulchildlink"><a href="oracle-data-pump-overview.html#GUID-3E1D4B46-E856-4ABE-ACC5-977A898BB0F1">使用网络链接导入移动数据</a><br>使用Import <code class="codeph">NETWORK_LINK</code>参数为导入操作指定网络链接时，默认使用直接路径方法。查看支持的数据库链接类型
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="oracle-data-pump-overview.html#GUID-17FAE261-0972-4220-A2E4-44D479F519D4" title="Oracle Data Pump技术可以将数据和元数据从一个数据库高速移动到另一个数据库。">Oracle Data Pump概述</a></p>
                     </div>
                  </div>
               </div>
               <a id="SUTIL803"></a><div class="props_rev_3"><a id="GUID-06B2DF71-2A66-498F-B659-1EF5859B1648" name="GUID-06B2DF71-2A66-498F-B659-1EF5859B1648"></a><h4 id="SUTIL-GUID-06B2DF71-2A66-498F-B659-1EF5859B1648" class="sect4"><span class="enumeration_section">1.2.1</span>使用数据文件复制移动数据</h4>
                  <div>
                     <p>移动数据的最快方法是将数据库数据文件复制到目标数据库，而无需解释或更改数据。使用此方法，Data Pump Export用于仅将结构信息（元数据）卸载到转储文件中。</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">TRANSPORT_TABLESPACES</code>参数用于指定可传输的表空间导出。仅导出指定表空间的元数据。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">TRANSPORTABLE=ALWAYS</code>参数在表模式导出（使用<code class="codeph">TABLES</code>参数指定）或完整模式导出（使用<code class="codeph">FULL</code>参数指定）或完整模式网络导入（使用<code class="codeph">FULL</code>和<code class="codeph">NETWORK_LINK</code>参数指定）上提供。
                           </p>
                        </li>
                     </ul>
                     <p>当导出操作使用数据文件复制时，相应的导入作业也始终使用数据文件复制。在随后的导入操作期间，必须加载数据文件和导出转储文件。</p>
                     <div class="infoboxnote" id="GUID-06B2DF71-2A66-498F-B659-1EF5859B1648__GUID-79DBB18B-5A11-4880-85B9-AA9894400F69">
                        <p class="notep1">注意：</p>
                        <p>在可传输导入期间，表空间暂时进行读/写，然后再设置为只读。Oracle Database 12 <span class="italic">c</span>第1版（12.1.0.2）引入了临时设置更改以提高性能。但请注意，此行为还会导致导入作业数据文件的SCN发生更改。更改数据文件的SCN可能会在将来可传输的这些文件导入过程中出现问题。
                        </p>
                        <p>例如，如果在表空间读/写后（即使它们现在是只读的），可传输表空间导入在任何时候都失败，那么数据文件就会损坏。<span class="italic">他们无法恢复。</span></p>
                        <p>由于可传输作业无法重新启动，因此必须从头开始重新启动失败的作业。您必须删除损坏的数据文件，并将新版本复制到目标目标。</p>
                        <p>执行可传输作业时，最佳做法是在源系统上保留数据文件的副本，直到在目标系统上成功完成导入作业。如果导入作业由于某种原因失败，则保留副本可确保您可以拥有未损坏的数据文件副本。</p>
                     </div>
                     <p>使用数据文件复制移动数据时，源数据库和目标数据库之间的字符集兼容性存在一些限制。</p>
                     <p>如果源平台和目标平台具有不同的字节顺序，则必须转换正在传输的数据，使其采用目标平台的格式。您可以使用<code class="codeph">DBMS_FILE_TRANSFER</code> PL / SQL包或<code class="codeph">RMAN</code> <code class="codeph">CONVERT</code>命令来转换数据。
                     </p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-06B2DF71-2A66-498F-B659-1EF5859B1648__GUID-55F4DEF3-2F9E-4FB5-B565-39500D43E464">
                        <p class="notep1">也可以看看：</p>
                        <p></p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>有关RMAN <code class="codeph">CONVERT</code>命令的信息<a href="../rcmrf/CONVERT.html#RCMRF192" target="_blank"><span><cite>，请参见Oracle数据库备份和恢复参考</cite></span></a></p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sutil&amp;id=ADMIN10140" target="_blank"><span><cite>“Oracle数据库管理员指南”</cite></span></a> ，了解在数据库之间传输表空间的描述和示例（包括如何转换数据）</p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-data-pump-overview.html#GUID-3F418F02-5FE2-455A-B5AD-C1910DB3B5E0" title="您可以使用多种Oracle Data Pump方法将数据移入和移出数据库。您可以选择最适合您的用例的方法。">数据泵如何移动数据？</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SUTIL2878"></a><a id="SUTIL2879"></a><a id="SUTIL804"></a><div class="props_rev_3"><a id="GUID-F5790243-15A3-4932-9258-1A466985964D" name="GUID-F5790243-15A3-4932-9258-1A466985964D"></a><h4 id="SUTIL-GUID-F5790243-15A3-4932-9258-1A466985964D" class="sect4"><span class="enumeration_section">1.2.2</span>使用直接路径移动数据</h4>
                  <div>
                     <p>数据文件复制后，直接路径是移动数据的最快方法。在此方法中，绕过数据库的SQL层，并且只使用最少的解释将行移入和转出转储文件。</p>
                     <p>除非表的结构不允许，否则Data Pump会自动使用直接路径方法来加载和卸载数据。例如，如果表包含<code class="codeph">BFILE</code>类型的列，则不能使用直接路径来加载该表，而是使用外部表。
                     </p>
                     <p>以下部分描述了直接路径不能用于加载和卸载的情况。</p>
                     <div class="section" id="GUID-F5790243-15A3-4932-9258-1A466985964D__CJAJJJBH">
                        <p class="subhead3" id="GUID-F5790243-15A3-4932-9258-1A466985964D__GUID-828E0A7A-B1DE-4F6B-8074-9B3DEE67D4B7">不使用直接路径加载的情况</p>
                        <p>如果表存在以下任何条件，则Data Pump使用外部表加载该表的数据，而不是直接路径：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>LOB列存在不是<code class="codeph">CONTEXT</code>类型索引的域索引。
                              </p>
                           </li>
                           <li>
                              <p>单分区加载期间存在多分区表的全局索引。这种情况包括分区的对象表。</p>
                           </li>
                           <li>
                              <p>表位于群集中。</p>
                           </li>
                           <li>
                              <p>在预先存在的表上有一个活动触发器。</p>
                           </li>
                           <li>
                              <p>在预先存在的表上以插入模式启用细粒度访问控制。</p>
                           </li>
                           <li>
                              <p>表包含<code class="codeph">BFILE</code>列或不透明类型的列。
                              </p>
                           </li>
                           <li>
                              <p>参考完整性约束存在于预先存在的表中。</p>
                           </li>
                           <li>
                              <p>表包含具有嵌入式opaque类型的<code class="codeph">VARRAY</code>列。
                              </p>
                           </li>
                           <li>
                              <p>该表有加密列。</p>
                           </li>
                           <li>
                              <p>导入数据的表是预先存在的表，并且至少存在以下条件之一：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>有一个主动触发器</p>
                                 </li>
                                 <li>
                                    <p>该表是分区的</p>
                                 </li>
                                 <li>
                                    <p>细粒度访问控制处于插入模式</p>
                                 </li>
                                 <li>
                                    <p>存在参照完整性约束</p>
                                 </li>
                                 <li>
                                    <p>存在唯一索引</p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p>启用补充日志记录，并且该表至少有一个LOB列。</p>
                           </li>
                           <li>
                              <p>指定表的Data Pump命令使用<code class="codeph">QUERY</code> ， <code class="codeph">SAMPLE</code>或<code class="codeph">REMAP_DATA</code>参数。
                              </p>
                           </li>
                           <li>
                              <p>表包含具有<code class="codeph">TIMESTAMP WITH TIME ZONE</code>数据类型的列（包括<code class="codeph">VARRAY</code>列），并且导出和导入系统之间的时区数据文件的版本不同。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-F5790243-15A3-4932-9258-1A466985964D__CJAEGFIF">
                        <p class="subhead3" id="GUID-F5790243-15A3-4932-9258-1A466985964D__GUID-5936D5A5-9682-49E5-AD0F-76447AB4F3CC">不使用直接路径卸载的情况</p>
                        <p>如果表存在以下任何条件，则Data Pump使用外部表而不是直接路径来卸载数据：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>启用了<code class="codeph">SELECT</code>的细粒度访问控制。
                              </p>
                           </li>
                           <li>
                              <p>该表是一个队列表。</p>
                           </li>
                           <li>
                              <p>该表包含一个或多个<code class="codeph">BFILE</code>或opaque类型的列，或包含不透明列的对象类型。
                              </p>
                           </li>
                           <li>
                              <p>该表包含加密列。</p>
                           </li>
                           <li>
                              <p>该表包含需要升级的演进类型的列。</p>
                           </li>
                           <li>
                              <p>指定表的Data Pump命令使用<code class="codeph">QUERY</code> ， <code class="codeph">SAMPLE</code>或<code class="codeph">REMAP_DATA</code>参数。
                              </p>
                           </li>
                           <li>
                              <p>在卸载操作之前，表被更改为包含非NULL的列，并且还指定了默认值。</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-data-pump-overview.html#GUID-3F418F02-5FE2-455A-B5AD-C1910DB3B5E0" title="您可以使用多种Oracle Data Pump方法将数据移入和移出数据库。您可以选择最适合您的用例的方法。">数据泵如何移动数据？</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SUTIL805"></a><div class="props_rev_3"><a id="GUID-EDB0DFE2-A20A-4FF6-B584-1D31583054AB" name="GUID-EDB0DFE2-A20A-4FF6-B584-1D31583054AB"></a><h4 id="SUTIL-GUID-EDB0DFE2-A20A-4FF6-B584-1D31583054AB" class="sect4"><span class="enumeration_section">1.2.3</span>使用外部表移动数据</h4>
                  <div>
                     <p>如果不选择数据文件复制，并且无法使用直接路径移动数据，则可以使用外部表机制。</p>
                     <p>外部表机制创建一个外部表，该表映射到数据库表的转储文件数据。然后使用SQL引擎移动数据。如果可能，请在导入时使用<code class="codeph">APPEND</code>提示来加速将数据复制到数据库中。直接路径数据和外部表数据的数据表示在转储文件中是相同的。因为它们是相同的，Oracle Data Pump可以在导出时使用直接路径机制，但在将数据导入目标数据库时使用外部表。同样，Oracle Data Pump可以使用外部表进行导出，但使用直接路径进行导入。
                     </p>
                     <p>特别是，Oracle Data Pump可以在以下情况下使用外部表：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>在有利于使用并行SQL功能的情况下加载和卸载非常大的表和分区</p>
                        </li>
                        <li>
                           <p>加载在其上定义全局或域索引的表，包括分区对象表</p>
                        </li>
                        <li>
                           <p>使用活动触发器或群集表加载表</p>
                        </li>
                        <li>
                           <p>使用加密列加载和卸载表</p>
                        </li>
                        <li>
                           <p>加载具有细粒度访问控制的表以启用插入</p>
                        </li>
                        <li>
                           <p>加载非导入操作创建的表（导入开始前表存在）</p>
                        </li>
                     </ul>
                     <div class="infoboxnote" id="GUID-EDB0DFE2-A20A-4FF6-B584-1D31583054AB__GUID-A53E13CA-BB76-4558-8618-B6CC3A49F7A0">
                        <p class="notep1">注意：</p>
                        <p>当Oracle Data Pump使用外部表作为数据访问机制时，它使用<code class="codeph">ORACLE_DATAPUMP</code>访问驱动程序。但是，请注意Data Pump在使用外部表时创建的文件与使用SQL <code class="codeph">CREATE TABLE ...手动创建外部表时创建的文件不兼容<code class="codeph">CREATE TABLE ...ORGANIZATION EXTERNAL</code>声明。
                        </p>
                     </div>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="oracle_datapump-access-driver.html#GUID-084DC623-9656-499C-885B-D8180C07704B" title="ORACLE_DATAPUMP访问驱动程序提供一组访问参数，这些参数对于ORACLE_DATAPUMP类型的外部表是唯一的。">ORACLE_DATAPUMP访问驱动程序</a></li>
                        </ul>
                     </div>
                     <div class="infoboxnotealso" id="GUID-EDB0DFE2-A20A-4FF6-B584-1D31583054AB__GUID-55AC5DAD-8AF7-4DC7-9AB9-60B967F73049">
                        <p class="notep1">也可以看看：</p>
                        <p>有关使用<code class="codeph">APPEND</code>提示的信息，请参阅<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sutil&amp;id=SQLRF50901" target="_blank"><span><cite>Oracle数据库SQL语言参考</cite></span></a></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-data-pump-overview.html#GUID-3F418F02-5FE2-455A-B5AD-C1910DB3B5E0" title="您可以使用多种Oracle Data Pump方法将数据移入和移出数据库。您可以选择最适合您的用例的方法。">数据泵如何移动数据？</a></p>
                        </div>
                     </div>
                  </div>
               </div><a id="SUTIL2880"></a><div class="props_rev_3"><a id="GUID-C746E643-C199-4746-AD16-13334734778F" name="GUID-C746E643-C199-4746-AD16-13334734778F"></a><h4 id="SUTIL-GUID-C746E643-C199-4746-AD16-13334734778F" class="sect4"><span class="enumeration_section">1.2.4</span>使用传统路径移动数据</h4>
                  <div>
                     <p>在存在冲突表属性的情况下，Oracle Data Pump使用传统路径来移动数据。</p>
                     <p>在存在冲突表属性的情况下，Oracle Data Pump无法使用直接路径表或外部表将数据加载到表中。在这种情况下，使用传统路径，这会影响性能。</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-data-pump-overview.html#GUID-3F418F02-5FE2-455A-B5AD-C1910DB3B5E0" title="您可以使用多种Oracle Data Pump方法将数据移入和移出数据库。您可以选择最适合您的用例的方法。">数据泵如何移动数据？</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SUTIL2881"></a><a id="SUTIL2882"></a><a id="SUTIL806"></a><div class="props_rev_3"><a id="GUID-3E1D4B46-E856-4ABE-ACC5-977A898BB0F1" name="GUID-3E1D4B46-E856-4ABE-ACC5-977A898BB0F1"></a><h4 id="SUTIL-GUID-3E1D4B46-E856-4ABE-ACC5-977A898BB0F1" class="sect4"><span class="enumeration_section">1.2.5</span>使用网络链接导入移动数据</h4>
                  <div>
                     <p>使用Import <code class="codeph">NETWORK_LINK</code>参数为导入操作指定网络链接时，默认使用直接路径方法。查看支持的数据库链接类型
                     </p>
                     <p>如果不能使用直接路径（例如，因为其中一列是<code class="codeph">BFILE</code> ），则使用SQL来使用<code class="codeph">INSERT SELECT</code>语句移动数据。（在Oracle Database 12 <span class="italic">c</span>第2版（12.2.0.1）之前，缺省情况是使用<code class="codeph">INSERT SELECT</code>语句。）<code class="codeph">SELECT</code>子句通过网络链接从远程数据库中检索数据。<code class="codeph">INSERT</code>子句使用SQL将数据插入目标数据库。没有涉及转储文件。
                     </p>
                     <p>使用Export <code class="codeph">NETWORK_LINK</code>参数为导出操作指定网络链接时，来自远程数据库的数据将写入目标数据库上的转储文件。（请注意，要从只读数据库导出，需要<code class="codeph">NETWORK_LINK</code>参数。）
                     </p>
                     <p>由于链接可以识别远程网络数据库，因此术语数据库链接和网络链接可互换使用。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-3E1D4B46-E856-4ABE-ACC5-977A898BB0F1__GUID-EB393636-DC5C-492B-879E-7FD63D84292F">支持的链接类型</p>
                        <p>支持以下类型的数据库链接与数据泵导出和导入一起使用：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>公共固定用户</p>
                           </li>
                           <li>
                              <p>公共连接用户</p>
                           </li>
                           <li>
                              <p>公共共享用户（仅在链接所有者使用时）</p>
                           </li>
                           <li>
                              <p>私人共享用户（仅在链接所有者使用时）</p>
                           </li>
                           <li>
                              <p>私人固定用户（仅在链接所有者使用时）</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-3E1D4B46-E856-4ABE-ACC5-977A898BB0F1__GUID-8181A476-E862-44D4-8DEE-EE496E7C411E">不支持的链接类型</p>
                        <p>数据泵导出和导入不支持以下类型的数据库链接：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>私人连接用户</p>
                           </li>
                           <li>
                              <p>当前用户</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-3E1D4B46-E856-4ABE-ACC5-977A898BB0F1__GUID-143DC5B2-FD38-4980-BC29-6CE34E65D953">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>导出<a href="oracle-data-pump-export-utility.html#GUID-23E58D59-A477-4A87-BD0E-C82447581D0A" title="Data Pump Export命令行实用程序NETWORK_LINK参数允许从由有效数据库链接标识的（源）数据库导出。源数据库实例中的数据将写入已连接数据库实例上的转储文件集。">NETWORK_LINK</a>参数以获取有关通过数据库链接执行导出的信息</p>
                           </li>
                           <li>
                              <p>有关通过数据库链接执行导入的信息，请导入<a href="datapump-import-utility.html#GUID-0871E56B-07EB-43B3-91DA-D1F457CF6182" title="数据泵导入命令行模式NETWORK_LINK参数允许从由有效数据库链接标识的（源）数据库导入/">NETWORK_LINK</a>参数</p>
                           </li>
                           <li>
                              <p>有关创建数据库链接和不同类型链接的信息，请参见<a href="../admin/managing-a-distributed-database.html#ADMIN12150" target="_blank"><span><cite>“Oracle数据库管理员指南”</cite></span></a></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-data-pump-overview.html#GUID-3F418F02-5FE2-455A-B5AD-C1910DB3B5E0" title="您可以使用多种Oracle Data Pump方法将数据移入和移出数据库。您可以选择最适合您的用例的方法。">数据泵如何移动数据？</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="SUTIL4334"></a><div class="props_rev_3"><a id="GUID-45B17B65-20F2-4128-9A39-B1B0F5E323BB" name="GUID-45B17B65-20F2-4128-9A39-B1B0F5E323BB"></a><h3 id="SUTIL-GUID-45B17B65-20F2-4128-9A39-B1B0F5E323BB" class="sect3"><span class="enumeration_section">1.3</span>使用带有CDB的Oracle数据泵</h3>
               <div>
                  <p>Oracle Data Pump可以将数据库的全部或部分从非CDB迁移到PDB，在相同或不同CDB中的PDB之间，以及从PDB迁移到非CDB。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="oracle-data-pump-overview.html#GUID-BD76463C-0867-477E-983F-4329610EC458">关于在多租户环境中使用数据泵</a><br>通常，将数据泵与PDB一起使用与使用非CDB的数据泵相同。</li>
                     <li class="ulchildlink"><a href="oracle-data-pump-overview.html#GUID-49A847B1-3193-4C45-B7F3-B7F514B75C71">使用数据泵将数据移入CDB</a><br>创建空PDB后，可以使用Oracle Data Pump全模式导出和导入操作将数据移动到PDB中。</li>
                     <li class="ulchildlink"><a href="oracle-data-pump-overview.html#GUID-C1578FB6-216F-473E-A6D5-18453D4F9021">使用数据泵在CDB内或之间移动PDB</a><br>PDB上的数据泵导出和导入操作与非CDB上的数据泵导出和导入操作相同，但常见用户的处理方式除外。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="oracle-data-pump-overview.html#GUID-17FAE261-0972-4220-A2E4-44D479F519D4" title="Oracle Data Pump技术可以将数据和元数据从一个数据库高速移动到另一个数据库。">Oracle Data Pump概述</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="sect3"><a id="GUID-BD76463C-0867-477E-983F-4329610EC458" name="GUID-BD76463C-0867-477E-983F-4329610EC458"></a><h4 id="SUTIL-GUID-BD76463C-0867-477E-983F-4329610EC458" class="sect4"><span class="enumeration_section">1.3.1</span>关于在多租户环境中使用数据泵</h4>
                  <div>
                     <p>通常，将数据泵与PDB一起使用与使用非CDB的数据泵相同。</p>
                     <p>多租户容器数据库（CDB）是一个Oracle数据库，包括零个，一个或多个用户创建的可插拔数据库（PDB）。PDB是一组可移植的模式，模式对象和非模式对象，它们在Oracle Net客户端中显示为非CDB。非CDB是不是CDB的Oracle数据库。</p>
                     <p>在以下方案中，您可以使用Data Pump迁移全部或部分数据库：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>从非CDB到PDB</p>
                        </li>
                        <li>
                           <p>在相同或不同CDB内的PDB之间</p>
                        </li>
                        <li>
                           <p>从PDB到非CDB</p>
                        </li>
                     </ul>
                     <div class="infoboxnote" id="GUID-BD76463C-0867-477E-983F-4329610EC458__GUID-140B9CD4-E02E-4A16-9410-B036E8310254">
                        <p class="notep1">注意：</p>
                        <p>Data Pump不支持任何CDB范围的操作。如果您连接到CDB的根数据库或种子数据库，则Data Pump会发出以下警告：</p><pre class="pre codeblock"><code>ORA-39357：警告：连接到容器数据库的根目录或种子时，通常不需要Oracle Data Pump操作。</code></pre></div>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-data-pump-overview.html#GUID-45B17B65-20F2-4128-9A39-B1B0F5E323BB" title="Oracle Data Pump可以将数据库的全部或部分从非CDB迁移到PDB，在相同或不同CDB中的PDB之间，以及从PDB迁移到非CDB。">将Oracle Data Pump与CDB一起使用</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SUTIL4335"></a><div class="props_rev_3"><a id="GUID-49A847B1-3193-4C45-B7F3-B7F514B75C71" name="GUID-49A847B1-3193-4C45-B7F3-B7F514B75C71"></a><h4 id="SUTIL-GUID-49A847B1-3193-4C45-B7F3-B7F514B75C71" class="sect4"><span class="enumeration_section">1.3.2</span>使用数据泵将数据移入CDB</h4>
                  <div>
                     <p>创建空PDB后，可以使用Oracle Data Pump全模式导出和导入操作将数据移动到PDB中。</p>
                     <p>您可以使用或不使用transportable选项导入数据。如果在完整模式导出或导入时使用可传输选项，则将其称为完全可传输导出/导入。</p>
                     <p>使用可传输选项时，导出和导入使用可传输的表空间数据移动和传统的数据移动;后者用于驻留在非可传输表空间（如<code class="codeph">SYSTEM</code>和<code class="codeph">SYSAUX</code>那些表。使用transportable选项可以减少导出时间，尤其是导入时间，因为不需要卸载和重新加载表数据，也不需要重新创建用户表空间中的索引结构。
                     </p>
                     <p>使用Data Pump将数据移动到CDB时，请注意以下要求：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>要管理多租户环境，您必须具有<code class="codeph">CDB_DBA</code>角色。
                           </p>
                        </li>
                        <li>
                           <p>可以将Oracle Database 11.2.0.2及更早版本的完整数据库导出导入Oracle Database 12c（CDB或非CDB）。但是，Oracle建议您首先将源数据库升级到Oracle Database 11g第2版（11.2.0.3或更高版本），以便导出中包含有关已注册选项和组件的信息。</p>
                        </li>
                        <li>
                           <p>使用完整数据库导出或完全可传输数据库导出将Oracle Database 11g第2版（11.2.0.3或更高版本）迁移到CDB（或非CDB）时，必须将数据泵导出参数<code class="codeph">VERSION=12</code>为生成一个准备导入Oracle Database 12c的转储文件。如果未设置<code class="codeph">VERSION=12</code> ，则生成的导出文件不包含有关已注册数据库选项和组件的完整信息。
                           </p>
                        </li>
                        <li>
                           <p>基于网络的完全可传输导入需要使用<code class="codeph">FULL=YES</code> ， <code class="codeph">TRANSPORTABLE=ALWAYS</code>和<code class="codeph">TRANSPORT_DATAFILES= <span class="variable" translate="no">datafile_name</span></code>参数。当源数据库是Oracle Database 11g 11.2.0.3或更高版本，但早于Oracle Database 12c第1版（12.1）时，还需要<code class="codeph">VERSION=12</code>参数。
                           </p>
                        </li>
                        <li>
                           <p>基于文件的完全可传输导入仅需要使用<code class="codeph">TRANSPORT_DATAFILES= <span class="variable" translate="no">datafile_name</span></code>参数。数据泵导入推断出<code class="codeph">TRANSPORTABLE=ALWAYS</code>和<code class="codeph">FULL=YES</code>参数的存在。
                           </p>
                        </li>
                        <li>
                           <p>从Oracle Database 12c第2版（12.2）开始，在多租户容器数据库（CDB）环境中，默认数据泵目录对象<code class="codeph">DATA_PUMP_DIR</code>被定义为CDB中每个PDB的唯一路径。定义此唯一路径是定义<code class="codeph">CREATE PLUGGABLE DATABASE</code>语句的<code class="codeph">PATH_PREFIX</code>子句还是未定义相对路径。
                           </p>
                        </li>
                        <li>
                           <p>从Oracle Database 19c开始， <code class="codeph">impdp</code>的<code class="codeph">credential</code>参数指定凭证对象的名称，该凭证对象包含访问对象存储桶所需的用户名和密码。您还可以使用名为<code class="codeph">DEFAULT_CREDENTIAL</code>的PDB属性指定默认凭据。使用当时的默认凭据运行<code class="codeph">impdb</code>时，使用<code class="codeph">DEFAULT_CREDENTIAL:</code>为转储文件名添加前缀<code class="codeph">DEFAULT_CREDENTIAL:</code>并且不指定<code class="codeph">credential</code>参数。
                           </p>
                        </li>
                     </ul>
                     <div class="example" id="GUID-49A847B1-3193-4C45-B7F3-B7F514B75C71__GUID-13F8CE65-B6F4-4A75-AB27-5F6268C39C84">
                        <p class="titleinexample">示例1-1将表导入PDB</p>
                        <p>要为导出/导入操作指定特定PDB，请在启动Data Pump时在连接字符串中提供连接标识符。例如，要将数据导入名为<code class="codeph">pdb1</code>的PDB，可以在Data Pump命令行中输入以下内容：</p><pre class="pre codeblock"><code>impdp hr @ pdb1 DIRECTORY = dpump_dir1 DUMPFILE = hr.dmp TABLES =员工</code></pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-49A847B1-3193-4C45-B7F3-B7F514B75C71__GUID-30BBDAEB-AC3A-4672-BC72-09052CFBFB35">
                        <p class="titleinexample">示例1-2导入数据时指定凭据</p>
                        <p>此示例假定您使用<code class="codeph">DBMS_CREDENTIAL.CREATE_CREDENTIAL</code>创建了名为<code class="codeph">HR_CRED</code>的凭据，如下所示：</p><pre class="pre codeblock"><code>BEGIN DBMS_CLOUD.CREATE_CREDENTIAL（credential_name =&gt;'HR_CRED'，用户名=&gt;'atpc_user@oracle.com'，密码=&gt;' <span class="italic">密码</span> '）;结束; /</code></pre><p>以下命令指定凭证<code class="codeph">HR_CRED</code> ，并指定存储在对象库中的文件。该文件的URL是<code class="codeph">https://example.com/ostore/dnfs/myt.dmp</code> 。</p><pre class="pre codeblock"><code>impdp hr @ pdb1 \ table_exists_action = replace \ credential = HR_CRED \ parallel = 16 \ dumpfile = https://example.com/ostore/dnfs/myt.dmp</code></pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-49A847B1-3193-4C45-B7F3-B7F514B75C71__GUID-73EF3BB4-46CA-44E4-B67C-1DD09FC48DA3">
                        <p class="titleinexample">示例1-3使用默认凭据导入数据</p>
                        <ol id="GUID-49A847B1-3193-4C45-B7F3-B7F514B75C71__OL_D5V_NX3_QFB">
                           <li>
                              <p>您可以使用<code class="codeph">DBMS_CREDENTIAL.CREATE_CREDENTIAL</code>创建名为<code class="codeph">HR_CRED</code>的凭证，如下所示：</p><pre class="pre codeblock"><code>BEGIN DBMS_CLOUD.CREATE_CREDENTIAL（credential_name =&gt;'HR_CRED'，用户名=&gt;'atpc_user@oracle.com'，密码=&gt;' <span class="italic">密码</span> '）;结束; /</code></pre></li>
                           <li>
                              <p>您可以按如下方式设置PDB属性<code class="codeph">DEFAULT_CREDENTIAL</code> ：</p><pre class="pre codeblock"><code>ALTER DATABASE PROPERTY SET DEFAULT_CREDENTIAL ='ADMIN.HR_CRED'</code></pre></li>
                           <li>
                              <p>以下命令将默认凭据指定为转储文件位置的前缀<code class="codeph">https://example.com/ostore/dnfs/myt.dmp</code> ：</p><pre class="pre codeblock"><code>impdp hr @ pdb1 \ table_exists_action = replace \ parallel = 16 \ dumpfile = default_credential：https：//example.com/ostore/dnfs/myt.dmp</code></pre><p>请注意，未指定<code class="codeph">credential</code>参数。
                              </p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-49A847B1-3193-4C45-B7F3-B7F514B75C71__GUID-3144C863-B387-49F4-AEDF-010D15E4D2B1">
                        <p class="notep1">也可以看看：</p>
                        <ul id="GUID-49A847B1-3193-4C45-B7F3-B7F514B75C71__UL_BYJ_FW3_QFB" style="list-style-type:disc">
                           <li>
                              <p><a href="../dbseg/configuring-secure-sockets-layer-authentication.html#DBSEG-GUID-6AD89576-526F-4D6B-A539-ADF4B840819F" target="_blank"><span><cite>Oracle数据库安全指南</cite></span></a> ，了解如何配置SSL身份验证，这是对象存储访问所必需的</p>
                           </li>
                           <li>
                              <p><a href="datapump-import-utility.html#SUTIL-GUID-D11E340E-14C6-43B8-AB09-6335F0C1F71B" target="_blank"><span><cite>Oracle数据库实用程序</cite></span></a> ，了解如何使用Data Pump Import将文件加载到对象库</p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-data-pump-overview.html#GUID-45B17B65-20F2-4128-9A39-B1B0F5E323BB" title="Oracle Data Pump可以将数据库的全部或部分从非CDB迁移到PDB，在相同或不同CDB中的PDB之间，以及从PDB迁移到非CDB。">将Oracle Data Pump与CDB一起使用</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SUTIL4336"></a><div class="props_rev_3"><a id="GUID-C1578FB6-216F-473E-A6D5-18453D4F9021" name="GUID-C1578FB6-216F-473E-A6D5-18453D4F9021"></a><h4 id="SUTIL-GUID-C1578FB6-216F-473E-A6D5-18453D4F9021" class="sect4"><span class="enumeration_section">1.3.3</span>使用数据泵在CDB内或之间移动PDB</h4>
                  <div>
                     <p>PDB上的数据泵导出和导入操作与非CDB上的数据泵导出和导入操作相同，但常见用户的处理方式除外。</p>
                     <div class="section">
                        <p>如果您在CDB中创建了一个公共用户，那么该用户从CDB中的任何PDB中导出的完整数据库或特权架构将导致在导入时执行标准的<code class="codeph">CREATE USER C##common name</code> DDL语句。由于用户名上的公共用户前缀<code class="codeph">C##</code> ，该语句将失败。将返回以下错误消息：</p><pre class="pre codeblock"><code>ORA-65094：无效的本地用户或角色名称</code></pre><p>在导出的PDB中，如果已在该用户的架构中创建了本地对象并且要导入它们，则要么确保目标CDB实例中已存在同名的公共用户，要么使用数据泵导入<code class="codeph">REMAP_SCHEMA</code>参数<code class="codeph">impdp</code>命令，如下：</p><pre class="pre codeblock"><code>REMAP_SCHEMA = C ## <span class="variable" translate="no">common name:local user name</span>
</code></pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="oracle-data-pump-export-utility.html#GUID-079769D8-40F4-432F-88AD-E7264D7A2E2D" title="您可以使用数据泵通过使用FULL参数执行完整数据库导出。">完整模式</a></li>
                           <li><a href="datapump-import-utility.html#GUID-E27D2DC9-A6D8-4F0B-AB72-6BF526B3AA18" title="使用FULL参数指定完全导入。">完全导入模式</a></li>
                           <li><a href="oracle-original-export-utility.html#GUID-1EAD5074-652B-46AB-9F4B-B9902E3F2BDE" title="描述在网络上使用“导出”时要考虑的因素。">网络注意事项</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-data-pump-overview.html#GUID-45B17B65-20F2-4128-9A39-B1B0F5E323BB" title="Oracle Data Pump可以将数据库的全部或部分从非CDB迁移到PDB，在相同或不同CDB中的PDB之间，以及从PDB迁移到非CDB。">将Oracle Data Pump与CDB一起使用</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="SUTIL807"></a><div class="props_rev_3"><a id="GUID-8B6975D3-3BEC-4584-B416-280125EEC57E" name="GUID-8B6975D3-3BEC-4584-B416-280125EEC57E"></a><h3 id="SUTIL-GUID-8B6975D3-3BEC-4584-B416-280125EEC57E" class="sect3"><span class="enumeration_section">1.4</span>数据泵导出和导入操作所需的角色</h3>
               <div>
                  <p>许多数据泵导出和导入操作要求用户具有<code class="codeph">DATAPUMP_EXP_FULL_DATABASE</code>角色或<code class="codeph">DATAPUMP_IMP_FULL_DATABASE</code>角色，或两者都具有。
                  </p>
                  <p>运行作为数据库创建一部分的标准脚本时，将自动为Oracle数据库定义这些角色。（请注意，虽然这些角色的名称包含单词FULL，但这些角色实际上适用于任何导出或导入模式下的任何特权操作，而不仅仅是完整模式。）</p>
                  <p><code class="codeph">DATAPUMP_EXP_FULL_DATABASE</code>角色仅影响导出操作。<code class="codeph">DATAPUMP_IMP_FULL_DATABASE</code>角色影响使用Import <code class="codeph">SQLFILE</code>参数的导入操作和操作。这些角色允许用户执行导出和导入以执行以下操作：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>在其架构范围之外执行操作</p>
                     </li>
                     <li>
                        <p>监视由其他用户启动的作业</p>
                     </li>
                     <li>
                        <p>导出无特权用户无法引用的对象（如表空间定义）和导入对象（如目录定义）</p>
                     </li>
                  </ul>
                  <p>这些都是强大的角色。在向用户授予这些角色时，数据库管理员应谨慎使用。</p>
                  <p>尽管<code class="codeph">SYS</code>模式没有为其分配这些角色，但Data Pump执行的所有需要这些角色的安全检查也会授予对<code class="codeph">SYS</code>模式的访问权限。
                  </p>
                  <div class="infoboxnote" id="GUID-8B6975D3-3BEC-4584-B416-280125EEC57E__GUID-51ABDCC3-9DC6-44B6-882E-7344F314E00D">
                     <p class="notep1">注意：</p>
                     <p>如果您收到<code class="codeph">ORA-39181: Only Partial Data Exported Due to Fine Grain Access Control</code>错误消息，请参阅My Oracle Support说明422480.1，以获取有关在导出具有细粒度访问控制策略的表数据导出期间的安全性的信息：</p>
                     <p><a href="https://support.oracle.com/rs?type=doc&amp;id=422480.1" target="_blank">https://support.oracle.com/rs?type=doc&amp;id=422480.1</a></p>
                  </div>
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-8B6975D3-3BEC-4584-B416-280125EEC57E__GUID-75AB188A-BC01-4230-9879-B9F91687A311">
                     <p class="notep1">也可以看看：</p>
                     <p>有关Oracle数据库安装中预定义角色的更多信息，请参见<a href="../dbseg/configuring-privilege-and-role-authorization.html#DBSEG4414" target="_blank"><span><cite>“Oracle数据库安全指南</cite></span></a></p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="oracle-data-pump-overview.html#GUID-17FAE261-0972-4220-A2E4-44D479F519D4" title="Oracle Data Pump技术可以将数据和元数据从一个数据库高速移动到另一个数据库。">Oracle Data Pump概述</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SUTIL808"></a><div class="props_rev_3"><a id="GUID-6BDC1CC8-8596-402D-B016-602985B97AB6" name="GUID-6BDC1CC8-8596-402D-B016-602985B97AB6"></a><h3 id="SUTIL-GUID-6BDC1CC8-8596-402D-B016-602985B97AB6" class="sect3"><span class="enumeration_section">1.5</span>执行Oracle数据泵作业时会发生什么？
               </h3>
               <p>Oracle Data Pump作业使用主表，主进程和工作进程来执行工作并跟踪进度。</p>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="oracle-data-pump-overview.html#GUID-E4F373D6-0D0C-4FBD-AEC1-FDC91F46BD28">协调工作</a><br>创建主进程以协调每个数据泵导出和数据泵导入作业。
                     </li>
                     <li class="ulchildlink"><a href="oracle-data-pump-overview.html#GUID-B9A676E5-B3CB-417B-BC97-65FE33448C2F">跟踪工作中的进度</a><br>在传输数据和元数据时，主表用于跟踪作业内的进度。
                     </li>
                     <li class="ulchildlink"><a href="oracle-data-pump-overview.html#GUID-DB178A4E-36D4-4ECF-932A-6DE26FE2C2EF">在作业期间过滤数据和元数据</a><br>您可以使用<code class="codeph">EXCLUDE</code>和<code class="codeph">INCLUDE</code>参数来过滤导出和导入的对象类型。
                     </li>
                     <li class="ulchildlink"><a href="oracle-data-pump-overview.html#GUID-15CF2160-0F2C-49D4-9FCC-8B60BD111331">在工作期间转换元数据</a><br>可以使用数据泵导入参数<code class="codeph">REMAP_DATAFILE</code> ， <code class="codeph">REMAP_SCHEMA</code> ， <code class="codeph">REMAP_TABLE,REMAP_TABLESPACE</code> ， <code class="codeph">TRANSFORM,</code>和<code class="codeph">PARTITION_OPTIONS</code>完成元数据的<code class="codeph">TRANSFORM,</code> 。</li>
                     <li class="ulchildlink"><a href="oracle-data-pump-overview.html#GUID-AE83786E-EFC9-4552-BF79-AC72CE063EB6">最大化工作绩效</a><br>Data Pump可以使用多个并行运行的工作进程来提高作业性能。
                     </li>
                     <li class="ulchildlink"><a href="oracle-data-pump-overview.html#GUID-31DA185F-92E9-49F7-8431-B10354199C5A">加载和卸载数据</a><br>工作进程卸载并加载元数据和表数据。对于导出，除了使用可传输表空间的作业外，所有元数据和数据都是并行卸载的。对于导入，必须以正确的依赖关系顺序创建对象。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="oracle-data-pump-overview.html#GUID-17FAE261-0972-4220-A2E4-44D479F519D4" title="Oracle Data Pump技术可以将数据和元数据从一个数据库高速移动到另一个数据库。">Oracle Data Pump概述</a></p>
                     </div>
                  </div>
               </div>
               <a id="SUTIL809"></a><div class="props_rev_3"><a id="GUID-E4F373D6-0D0C-4FBD-AEC1-FDC91F46BD28" name="GUID-E4F373D6-0D0C-4FBD-AEC1-FDC91F46BD28"></a><h4 id="SUTIL-GUID-E4F373D6-0D0C-4FBD-AEC1-FDC91F46BD28" class="sect4"><span class="enumeration_section">1.5.1</span>协调工作</h4>
                  <div>
                     <p>创建主进程以协调每个数据泵导出和数据泵导入作业。</p>
                     <p>主进程控制整个作业，包括与客户端通信，创建和控制工作进程池以及执行日志记录操作。</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-data-pump-overview.html#GUID-6BDC1CC8-8596-402D-B016-602985B97AB6" title="Oracle Data Pump作业使用主表，主进程和工作进程来执行工作并跟踪进度。">执行Oracle Data Pump作业期间会发生什么？</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SUTIL810"></a><div class="props_rev_3"><a id="GUID-B9A676E5-B3CB-417B-BC97-65FE33448C2F" name="GUID-B9A676E5-B3CB-417B-BC97-65FE33448C2F"></a><h4 id="SUTIL-GUID-B9A676E5-B3CB-417B-BC97-65FE33448C2F" class="sect4"><span class="enumeration_section">1.5.2</span>跟踪工作进度</h4>
                  <div>
                     <p>在传输数据和元数据时，主表用于跟踪作业内的进度。</p>
                     <p>主表实现为数据库中的用户表。主表的导出和导入作业的具体功能如下：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>对于导出作业，主表记录转储文件集中数据库对象的位置。导出在作业持续时间内构建和维护主表。在导出作业结束时，主表的内容将写入转储文件集中的文件。</p>
                        </li>
                        <li>
                           <p>对于导入作业，主表从转储文件集加载，用于控制用于查找需要导入目标数据库的对象的操作序列。</p>
                        </li>
                     </ul>
                     <p>主表在执行导出或导入操作的当前用户的模式中创建。因此，该用户必须具有<code class="codeph">CREATE TABLE</code>系统特权和足够的表空间配额才能创建主表。主表的名称与创建它的作业的名称相同。因此，您无法显式地为数据泵作业提供与预先存在的表或视图相同的名称。
                     </p>
                     <p>对于所有操作，主表中的信息用于重新启动作业。（请注意，可传输作业无法重新启动。）</p>
                     <p>根据具体情况保留或删除主表，如下所示：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>成功完成作业后，将删除主表。您可以通过为作业设置Data Pump <code class="codeph">KEEP_MASTER=YES</code>参数来覆盖它。
                           </p>
                        </li>
                        <li>
                           <p>对于未成功完成的作业，将自动保留主表。</p>
                        </li>
                        <li>
                           <p>如果使用<code class="codeph">STOP_JOB</code>交互式命令停止作业，则保留主表以用于重新启动作业。
                           </p>
                        </li>
                        <li>
                           <p>如果使用<code class="codeph">KILL_JOB</code>交互式命令<code class="codeph">KILL_JOB</code>作业，则会删除主表，并且无法重新启动作业。
                           </p>
                        </li>
                        <li>
                           <p>如果作业意外终止，则保留主表。如果您不打算重新启动作业，可以将其删除。</p>
                        </li>
                        <li>
                           <p>如果作业在开始运行之前停止（即，在复制任何数据库对象之前），则删除主表。</p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-B9A676E5-B3CB-417B-BC97-65FE33448C2F__GUID-D903556B-4797-4296-B374-182932E81663">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="oracle-data-pump-export-utility.html#GUID-C146E99F-CBAB-43B4-A802-A8D5AD5898AE" title="Data Pump Export命令行实用程序JOB_NAME参数标识后续操作中的导出作业，例如使用ATTACH附加到作业时，或使用DBA_DATAPUMP_JOBS或USER_DATAPUMP_JOBS视图标识作业。">JOB_NAME</a> ，了解有关如何形成作业名称的更多信息</p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-data-pump-overview.html#GUID-6BDC1CC8-8596-402D-B016-602985B97AB6" title="Oracle Data Pump作业使用主表，主进程和工作进程来执行工作并跟踪进度。">执行Oracle Data Pump作业期间会发生什么？</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SUTIL811"></a><div class="props_rev_3"><a id="GUID-DB178A4E-36D4-4ECF-932A-6DE26FE2C2EF" name="GUID-DB178A4E-36D4-4ECF-932A-6DE26FE2C2EF"></a><h4 id="SUTIL-GUID-DB178A4E-36D4-4ECF-932A-6DE26FE2C2EF" class="sect4"><span class="enumeration_section">1.5.3</span>在作业期间过滤数据和元数据</h4>
                  <div>
                     <p>您可以使用<code class="codeph">EXCLUDE</code>和<code class="codeph">INCLUDE</code>参数来过滤导出和导入的对象类型。
                     </p>
                     <p>在主表中，为特定对象分配名称或拥有模式等属性。对象也属于一类对象（例如<code class="codeph">TABLE</code> ， <code class="codeph">INDEX,</code>或<code class="codeph">DIRECTORY</code> ）。对象的类称为其对象类型。您可以使用<code class="codeph">EXCLUDE</code>和<code class="codeph">INCLUDE</code>参数来限制导出和导入的对象类型。对象可以基于对象的名称或拥有该对象的模式的名称。您还可以指定特定于数据的筛选器以限制导出和导入的行。
                     </p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-DB178A4E-36D4-4ECF-932A-6DE26FE2C2EF__GUID-64C90897-556D-466A-AA03-C040A8D9340F">
                        <p class="notep1">也可以看看：</p>
                        <p></p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="oracle-data-pump-export-utility.html#GUID-1F85C939-E439-4436-BFEF-6DC7E167C912" title="Data Pump Export提供数据和元数据过滤功能。此功能可帮助您限制导出的信息类型。">在导出操作期间过滤</a></p>
                           </li>
                           <li>
                              <p><a href="datapump-import-utility.html#GUID-107CA775-350C-4CCE-9601-E1E810589B40" title="Data Pump Import提供数据和元数据过滤功能，可以帮助您限制导入的信息类型。">导入操作期间过滤</a></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-data-pump-overview.html#GUID-6BDC1CC8-8596-402D-B016-602985B97AB6" title="Oracle Data Pump作业使用主表，主进程和工作进程来执行工作并跟踪进度。">执行Oracle Data Pump作业期间会发生什么？</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SUTIL812"></a><div class="props_rev_3"><a id="GUID-15CF2160-0F2C-49D4-9FCC-8B60BD111331" name="GUID-15CF2160-0F2C-49D4-9FCC-8B60BD111331"></a><h4 id="SUTIL-GUID-15CF2160-0F2C-49D4-9FCC-8B60BD111331" class="sect4"><span class="enumeration_section">1.5.4</span>在作业期间转换元数据</h4>
                  <div>
                     <p>可以使用数据泵导入参数<code class="codeph">REMAP_DATAFILE</code> ， <code class="codeph">REMAP_SCHEMA</code> ， <code class="codeph">REMAP_TABLE,REMAP_TABLESPACE</code> ， <code class="codeph">TRANSFORM,</code>和<code class="codeph">PARTITION_OPTIONS</code>完成元数据的<code class="codeph">TRANSFORM,</code> 。</p>
                     <p>当您将数据从一个数据库移动到另一个数据库时，对元数据执行转换以在表空间之间重新映射存储或重新定义特定对象集的所有者通常很有用。</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-data-pump-overview.html#GUID-6BDC1CC8-8596-402D-B016-602985B97AB6" title="Oracle Data Pump作业使用主表，主进程和工作进程来执行工作并跟踪进度。">执行Oracle Data Pump作业期间会发生什么？</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SUTIL813"></a><div class="props_rev_3"><a id="GUID-AE83786E-EFC9-4552-BF79-AC72CE063EB6" name="GUID-AE83786E-EFC9-4552-BF79-AC72CE063EB6"></a><h4 id="SUTIL-GUID-AE83786E-EFC9-4552-BF79-AC72CE063EB6" class="sect4"><span class="enumeration_section">1.5.5</span>最大化工作绩效</h4>
                  <div>
                     <p>Data Pump可以使用多个并行运行的工作进程来提高作业性能。</p>
                     <p>使用<code class="codeph">PARALLEL</code>参数设置最大程度利用当前条件的并行度。例如，要限制作业对生产系统的影响，数据库管理员（DBA）可能希望限制并行性。可以在作业期间的任何时间重置并行度。例如， <code class="codeph">PARALLEL</code>可以在生产时间设置为2，以将特定作业限制为仅两个并行度，并且在非生产时间内可以将其重置为8。并行性设置由主进程强制执行，主进程将要执行的工作分配给在操作中执行数据和元数据处理的工作进程。这些工作进程并行运行。有关设置并行度的建议，请参阅“导出PARALLEL”和“导入PARALLEL”参数说明。
                     </p>
                     <div class="infoboxnote" id="GUID-AE83786E-EFC9-4552-BF79-AC72CE063EB6__GUID-75136923-D9BA-4537-871A-CE2DD6CBC98F">
                        <p class="notep1">注意：</p>
                        <p>调整并行度的功能仅在Oracle数据库企业版中可用。</p>
                     </div>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-AE83786E-EFC9-4552-BF79-AC72CE063EB6__GUID-A1A74F5D-703D-4D0E-B093-E37DBDC419BA">
                        <p class="notep1">也可以看看：</p>
                        <p></p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="oracle-data-pump-export-utility.html#GUID-55E6AC71-5CDE-410E-AB02-798AEC54F411__CIHGACIA">在Oracle RAC环境中导出期间使用PARALLEL</a></p>
                           </li>
                           <li>
                              <p><a href="datapump-import-utility.html#GUID-3081A258-0C23-40B0-8487-9C7A0D248E23__CIHFEFCD">在Oracle RAC环境中导入期间使用PARALLEL</a></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-data-pump-overview.html#GUID-6BDC1CC8-8596-402D-B016-602985B97AB6" title="Oracle Data Pump作业使用主表，主进程和工作进程来执行工作并跟踪进度。">执行Oracle Data Pump作业期间会发生什么？</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SUTIL814"></a><div class="props_rev_3"><a id="GUID-31DA185F-92E9-49F7-8431-B10354199C5A" name="GUID-31DA185F-92E9-49F7-8431-B10354199C5A"></a><h4 id="SUTIL-GUID-31DA185F-92E9-49F7-8431-B10354199C5A" class="sect4"><span class="enumeration_section">1.5.6</span>加载和卸载数据</h4>
                  <div>
                     <p>工作进程卸载并加载元数据和表数据。对于导出，除了使用可传输表空间的作业外，所有元数据和数据都是并行卸载的。对于导入，必须以正确的依赖关系顺序创建对象。</p>
                     <p>如果有足够多的相同类型的对象来使用多个工作程序，那么这些对象将由多个工作进程导入。某些元数据对象具有相互依赖性，这需要一个工作进程以串行方式创建它们以满足这些依赖性。根据需要创建工作进程，直到工作进程数等于为<code class="codeph">PARALLEL</code>命令行参数提供的值。可以在作业的整个生命周期中重置活动工作进程的数量。可以在Oracle Real Application Clusters（Oracle RAC）环境中的不同节点上启动工作进程。
                     </p>
                     <div class="infoboxnote" id="GUID-31DA185F-92E9-49F7-8431-B10354199C5A__GUID-4DF1D2B5-224A-4302-A8D3-50A4A8043CF7">
                        <p class="notep1">注意：</p>
                        <p>在Oracle数据库标准版中， <code class="codeph">PARALLEL</code>的值限制为1。
                        </p>
                     </div>
                     <p>当为工作进程分配加载或卸载非常大的表或分区的任务时，它可以选择使用外部表访问方法来最大限度地使用并行执行。在这种情况下，工作进程成为并行执行协调器。实际的加载和卸载工作分为从Oracle RAC环境中的可用进程池分配的一些并行I / O执行进程（有时称为从属）。</p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="oracle-data-pump-export-utility.html#GUID-55E6AC71-5CDE-410E-AB02-798AEC54F411">平行</a></li>
                           <li><a href="datapump-import-utility.html#GUID-3081A258-0C23-40B0-8487-9C7A0D248E23">平行</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-data-pump-overview.html#GUID-6BDC1CC8-8596-402D-B016-602985B97AB6" title="Oracle Data Pump作业使用主表，主进程和工作进程来执行工作并跟踪进度。">执行Oracle Data Pump作业期间会发生什么？</a></p>
                        </div>
                     </div>
                  </div>
               </div>
            </div><a id="SUTIL815"></a><div class="props_rev_3"><a id="GUID-E365D74E-12CD-495C-BA23-5A55F679C7E7" name="GUID-E365D74E-12CD-495C-BA23-5A55F679C7E7"></a><h3 id="SUTIL-GUID-E365D74E-12CD-495C-BA23-5A55F679C7E7" class="sect3"><span class="enumeration_section">1.6</span>监控工作状态</h3>
               <div>
                  <p>Oracle Data Pump导出和导入客户端实用程序可以以日志记录模式或交互式命令模式附加到作业。</p>
                  <p>在记录模式下，在作业执行期间会自动显示有关作业的实时详细状态。显示的信息可包括作业和参数描述，要处理的数据量的估计，当前操作或正在处理的项目的描述，作业期间使用的文件，遇到的任何错误以及最终作业状态（已停止）或已完成）。</p>
                  <p>在交互式命令模式下，可以根据请求显示作业状态。显示的信息可以包括作业描述和状态，当前操作或正在处理的项目的描述，正在写入的文件以及累积状态。</p>
                  <p>您还可以在执行作业期间写入日志文件。日志文件汇总了作业的进度，列出了在执行作业期间遇到的任何错误，并记录了作业的完成状态。</p>
                  <p>作为替代，以确定作业状态或有关Oracle数据泵作业等信息，您可以查询<code class="codeph">DBA_DATAPUMP_JOBS</code> ， <code class="codeph">USER_DATAPUMP_JOBS</code> ，或<code class="codeph">DBA_DATAPUMP_SESSIONS</code>意见。有关更多信息，请参阅<cite>Oracle数据库参考</cite> 。
                  </p>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="../refrn/DBA_DATAPUMP_JOBS.html#REFRN23338" target="_blank"><span><cite>Oracle数据库参考</cite></span></a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="oracle-data-pump-overview.html#GUID-17FAE261-0972-4220-A2E4-44D479F519D4" title="Oracle Data Pump技术可以将数据和元数据从一个数据库高速移动到另一个数据库。">Oracle Data Pump概述</a></p>
                     </div>
                  </div>
               </div>
            </div><a id="SUTIL816"></a><div class="props_rev_3"><a id="GUID-A4C5E6C1-28DE-45AF-B90C-B7FEEFF62069" name="GUID-A4C5E6C1-28DE-45AF-B90C-B7FEEFF62069"></a><h3 id="SUTIL-GUID-A4C5E6C1-28DE-45AF-B90C-B7FEEFF62069" class="sect3"><span class="enumeration_section">1.7</span>监督执行工作的进度</h3>
               <div>
                  <p>要监视表数据传输，可以使用<code class="codeph">V$SESSION_LONGOPS</code>动态性能视图来监视Oracle Data Pump作业。
                  </p>
                  <p>传输表数据（导出和导入）的Oracle Data Pump操作在<code class="codeph">V$SESSION_LONGOPS</code>动态性能视图中维护一个条目，指示作业进度（以兆字节为单位传输的表数据）。该条目包含估计的传输大小，并定期更新以反映传输的实际数据量。
                  </p>
                  <p>使用<code class="codeph">COMPRESSION</code> ， <code class="codeph">ENCRYPTION</code> ， <code class="codeph">ENCRYPTION_ALGORITHM</code> ， <code class="codeph">ENCRYPTION_MODE</code> ， <code class="codeph">ENCRYPTION_PASSWORD</code> ， <code class="codeph">QUERY</code>和<code class="codeph">REMAP_DATA</code>参数不会反映在估计值的确定中。
                  </p>
                  <p>出口业务估计值的有用性取决于启动业务时所要求的估计类型，如果超过实际转移金额，则按要求更新。进口业务的估计值是准确的。</p>
                  <p>与数据泵作业相关的<code class="codeph">V$SESSION_LONGOPS</code>列如下：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><code class="codeph">USERNAME</code> ：工作所有者</p>
                     </li>
                     <li>
                        <p><code class="codeph">OPNAME</code> ：工作名称</p>
                     </li>
                     <li>
                        <p><code class="codeph">TARGET_DESC</code> ：工作操作</p>
                     </li>
                     <li>
                        <p><code class="codeph">SOFAR</code> ：在工作期间转移到目前为止的兆字节</p>
                     </li>
                     <li>
                        <p><code class="codeph">TOTALWORK</code>估算作业中的兆字节数</p>
                     </li>
                     <li>
                        <p><code class="codeph">UNITS</code> ：兆字节（MB）</p>
                     </li>
                     <li>
                        <p><code class="codeph">MESSAGE</code> ：格式化的状态消息，使用以下格式：</p><pre class="pre codeblock"><code>' <span class="variable" translate="no">job_name</span> ： <span class="variable" translate="no">operation_name</span> ： <span class="variable" translate="no">nnn</span> out of <span class="variable" translate="no">mmm</span> MB done'</code></pre></li>
                  </ul>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="oracle-data-pump-overview.html#GUID-17FAE261-0972-4220-A2E4-44D479F519D4" title="Oracle Data Pump技术可以将数据和元数据从一个数据库高速移动到另一个数据库。">Oracle Data Pump概述</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SUTIL817"></a><div class="props_rev_3"><a id="GUID-FE7E746D-A343-463E-A4E2-A6AD1349FE4B" name="GUID-FE7E746D-A343-463E-A4E2-A6AD1349FE4B"></a><h3 id="SUTIL-GUID-FE7E746D-A343-463E-A4E2-A6AD1349FE4B" class="sect3"><span class="enumeration_section">1.8</span>文件分配</h3>
               <div>
                  <p>Oracle Data Pump管理几种不同类型的文件。您可以在交互模式下使用命令来修改OracleData Pump分配和处理这些文件的方式。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="oracle-data-pump-overview.html#GUID-29E88FEC-5F68-4841-B1B2-D4CD8B2880EE">了解数据泵中的文件分配</a><br>了解Data Pump如何分配和处理文件将帮助您充分利用导出和导入。
                     </li>
                     <li class="ulchildlink"><a href="oracle-data-pump-overview.html#GUID-8C1CD0EA-F6F8-4627-867E-956ABCB984F0">指定文件和添加其他转储文件</a><br>对于导出操作，您可以在定义作业时指定转储文件，也可以在操作期间的稍后时间指定转储文件。
                     </li>
                     <li class="ulchildlink"><a href="oracle-data-pump-overview.html#GUID-02A2E765-03BA-4097-B3A3-67B006C749AC">转储，日志和SQL文件的默认位置</a><br>查看这些主题以了解Oracle Data Pump的默认文件位置，并了解在使用Oracle RAC，Oracle自动存储管理和多租户架构时这些位置的影响。
                     </li>
                     <li class="ulchildlink"><a href="oracle-data-pump-overview.html#GUID-6F532CA9-CE90-47D6-84ED-AD10F1E18056">使用替换变量</a><br>除了列出特定文件名之外，您可以在导出操作期间使用<code class="codeph">DUMPFILE</code>参数指定多个转储文件，方法是使用文件名中的替换变量。这称为转储文件模板。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="oracle-data-pump-overview.html#GUID-17FAE261-0972-4220-A2E4-44D479F519D4" title="Oracle Data Pump技术可以将数据和元数据从一个数据库高速移动到另一个数据库。">Oracle Data Pump概述</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="sect3"><a id="GUID-29E88FEC-5F68-4841-B1B2-D4CD8B2880EE" name="GUID-29E88FEC-5F68-4841-B1B2-D4CD8B2880EE"></a><h4 id="SUTIL-GUID-29E88FEC-5F68-4841-B1B2-D4CD8B2880EE" class="sect4"><span class="enumeration_section">1.8.1</span>了解数据泵中的文件分配</h4>
                  <div>
                     <p>了解Data Pump如何分配和处理文件将帮助您充分利用导出和导入。</p>
                     <p>Data Pump作业管理以下类型的文件：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>转储文件以包含正在移动的数据和元数据。</p>
                        </li>
                        <li>
                           <p>记录文件以记录与操作关联的消息。</p>
                        </li>
                        <li>
                           <p>用于记录SQLFILE操作输出的SQL文件。使用Data Pump Import <code class="codeph">SQLFILE</code>参数启动SQLFILE操作，并根据写入SQL文件的其他参数生成Import将执行的所有SQL DDL。
                           </p>
                        </li>
                        <li>
                           <p>在可传输导入期间由<code class="codeph">DATA_FILES</code>参数指定的文件。
                           </p>
                        </li>
                     </ul>
                     <div class="infoboxnote" id="GUID-29E88FEC-5F68-4841-B1B2-D4CD8B2880EE__GUID-4FD8114C-E2B6-4B7A-B39E-A59B26BD5E28">
                        <p class="notep1">注意：</p>
                        <p>如果数据泵作业生成与网络文件存储（NFS）相关的错误，请参阅所用平台的安装指南以确定正确的NFS安装设置。</p>
                     </div>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-data-pump-overview.html#GUID-FE7E746D-A343-463E-A4E2-A6AD1349FE4B" title="Oracle Data Pump管理几种不同类型的文件。您可以在交互模式下使用命令来修改OracleData Pump分配和处理这些文件的方式。">文件分配</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SUTIL818"></a><div class="props_rev_3"><a id="GUID-8C1CD0EA-F6F8-4627-867E-956ABCB984F0" name="GUID-8C1CD0EA-F6F8-4627-867E-956ABCB984F0"></a><h4 id="SUTIL-GUID-8C1CD0EA-F6F8-4627-867E-956ABCB984F0" class="sect4"><span class="enumeration_section">1.8.2</span>指定文件并添加其他转储文件</h4>
                  <div>
                     <p>对于导出操作，您可以在定义作业时指定转储文件，也可以在操作期间的稍后时间指定转储文件。</p>
                     <p>如果在导出操作期间发现空间不足，则可以在交互模式下使用“数据泵导出<code class="codeph">ADD_FILE</code>命令添加其他转储文件。
                     </p>
                     <p>对于导入操作，必须在定义作业时指定所有转储文件。</p>
                     <p>日志文件和SQL文件会覆盖以前存在的文件。对于转储文件，可以使用Export <code class="codeph">REUSE_DUMPFILES</code>参数指定是否覆盖预先存在的转储文件。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-data-pump-overview.html#GUID-FE7E746D-A343-463E-A4E2-A6AD1349FE4B" title="Oracle Data Pump管理几种不同类型的文件。您可以在交互模式下使用命令来修改OracleData Pump分配和处理这些文件的方式。">文件分配</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-02A2E765-03BA-4097-B3A3-67B006C749AC" name="GUID-02A2E765-03BA-4097-B3A3-67B006C749AC"></a><h4 id="SUTIL-GUID-02A2E765-03BA-4097-B3A3-67B006C749AC" class="sect4"><span class="enumeration_section">1.8.3</span>转储，日志和SQL文件的默认位置</h4>
                  <div>
                     <p>查看这些主题以了解Oracle Data Pump的默认文件位置，并了解在使用Oracle RAC，Oracle自动存储管理和多租户架构时这些位置的影响。</p>
                     <p></p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="oracle-data-pump-overview.html#GUID-EEB32B50-8A00-40B0-8787-CC2C8BA05DC5">了解转储，日志和SQL文件默认位置</a><br>Data Pump是基于服务器而不是基于客户端的。相对于基于服务器的目录路径，访问转储文件，日志文件和SQL文件。
                        </li>
                        <li class="ulchildlink"><a href="oracle-data-pump-overview.html#GUID-8E63A90B-8E72-4E94-B2F4-41CF0603293E">了解如何在Oracle RAC中使用Oracle Data Pump</a><br>在Oracle Real Application Clusters（Oracle RAC）环境中使用Oracle Data Pump需要您执行一些检查以确保您可以使集群成员节点可用。
                        </li>
                        <li class="ulchildlink"><a href="oracle-data-pump-overview.html#GUID-1A269231-3365-4A3B-B838-649AAC2766CB">启用Oracle自动存储管理时使用目录对象</a><br>您可以使用Data Pump Export或Import with Oracle Automatic Storage Management（Oracle ASM）。您必须定义用于转储文件的目录对象，以便使用Oracle ASM磁盘组名称，而不是操作系统目录路径。
                        </li>
                        <li class="ulchildlink"><a href="oracle-data-pump-overview.html#GUID-BB478188-0F26-44E3-99E6-C161ED5A2473">DATA_PUMP_DIR目录对象和可插拔数据库</a><br>默认的数据泵目录对象<code class="codeph">DATA_PUMP_DIR</code>被定义为CDB中每个PDB的唯一路径。</li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-data-pump-overview.html#GUID-FE7E746D-A343-463E-A4E2-A6AD1349FE4B" title="Oracle Data Pump管理几种不同类型的文件。您可以在交互模式下使用命令来修改OracleData Pump分配和处理这些文件的方式。">文件分配</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="SUTIL819"></a><div class="props_rev_3"><a id="GUID-EEB32B50-8A00-40B0-8787-CC2C8BA05DC5" name="GUID-EEB32B50-8A00-40B0-8787-CC2C8BA05DC5"></a><h5 id="SUTIL-GUID-EEB32B50-8A00-40B0-8787-CC2C8BA05DC5" class="sect5"><span class="enumeration_section">1.8.3.1</span>了解转储，日志和SQL文件默认位置</h5>
                     <div>
                        <p>Data Pump是基于服务器而不是基于客户端的。相对于基于服务器的目录路径，访问转储文件，日志文件和SQL文件。</p>
                        <p>Data Pump要求将目录路径指定为目录对象。目录对象将名称映射到文件系统上的目录路径。DBA必须确保只允许经过批准的用户访问与目录路径关联的目录对象。</p>
                        <p>以下示例显示了一个SQL语句，该语句创建名为<code class="codeph">dpump_dir1</code>的目录对象，该对象映射到位于<code class="codeph">/usr/apps/datafiles.</code></p><pre class="oac_no_warn" dir="ltr">SQL&gt; CREATE DIRECTORY dpump_dir1 AS'/ usr / apps / datafiles';</pre><p>需要目录对象的原因是为了确保数据安全性和完整性。例如：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>如果允许您为输入文件指定目录路径位置，那么您可能能够读取服务器可以访问但不应该访问的数据。</p>
                           </li>
                           <li>
                              <p>如果允许您为输出文件指定目录路径位置，则服务器可能会覆盖您通常无权删除的文件。</p>
                           </li>
                        </ul>
                        <p>在UNIX和Windows操作系统上，默认目录对象<code class="codeph">DATA_PUMP_DIR</code>是在创建数据库时或每当升级数据库字典时创建的。默认情况下，它仅适用于特权用户。（默认情况下，用户<code class="codeph">SYSTEM</code>具有对<code class="codeph">DATA_PUMP_DIR</code>目录的读写权限。）在升级期间或应用修补程序时，Oracle可能会更改<code class="codeph">DATA_PUMP_DIR</code>目录的定义。
                        </p>
                        <p>如果您不是特权用户，则在运行Data Pump Export或Data Pump Import之前，必须由数据库管理员（DBA）或具有<code class="codeph">CREATE</code> <code class="codeph">ANY</code> <code class="codeph">DIRECTORY</code>权限的任何用户<code class="codeph">CREATE</code> <code class="codeph">DIRECTORY</code> 。
                        </p>
                        <p>创建目录后，创建目录对象的用户必须将该目录的<code class="codeph">READ</code>或<code class="codeph">WRITE</code>权限授予其他用户。例如，要允许Oracle数据库代表用户<code class="codeph">hr</code>在<code class="codeph">dpump_dir1</code>指定的目录中读取和写入文件，DBA必须执行以下命令：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; GRANT READ，WRITE ON DIRECTORY dpump_dir1 TO hr;</pre><p>请注意，对目录对象的<code class="codeph">READ</code>或<code class="codeph">WRITE</code>权限仅表示Oracle数据库可以代表您读取或写入相应目录中的文件。除非您具有相应的操作系统权限，否则不能直接访问Oracle数据库之外的那些文件。同样，Oracle数据库需要操作系统的许可才能读取和写入目录中的文件。
                        </p>
                        <p>数据泵导出和导入使用以下优先顺序来确定文件的位置：</p>
                        <ol>
                           <li>
                              <p>如果将目录对象指定为文件规范的一部分，则使用该目录对象指定的位置。（目录对象必须用冒号与文件名分开。）</p>
                           </li>
                           <li>
                              <p>如果未将目录对象指定为文件规范的一部分，则使用<code class="codeph">DIRECTORY</code>参数指定的目录对象。
                              </p>
                           </li>
                           <li>
                              <p>如果未将目录对象指定为文件规范的一部分，并且如果<code class="codeph">DIRECTORY</code>参数未指定目录对象，则使用环境变量<code class="codeph">DATA_PUMP_DIR</code>的值。此环境变量是使用运行数据泵导出和导入实用程序的客户端系统上的操作系统命令定义的。分配给此基于客户机的环境变量的值必须是基于服务器的目录对象的名称，该目标对象必须首先由DBA在服务器系统上创建。例如，以下SQL语句在服务器系统上创建目录对象。目录对象的名称是<code class="codeph">DUMP_FILES1</code> ，它位于<code class="codeph">'/usr/apps/dumpfiles1'</code> 。
                              </p><pre class="oac_no_warn" dir="ltr">SQL&gt; CREATE DIRECTORY DUMP_FILES1 AS'/ usr / apps / dumpfiles1';</pre><p>然后，使用<code class="codeph">csh</code>的基于UNIX的客户端系统上的用户可以将值<code class="codeph">DUMP_FILES1</code>分配给环境变量<code class="codeph">DATA_PUMP_DIR</code> 。然后可以从命令行中省略<code class="codeph">DIRECTORY</code>参数。转储文件<code class="codeph">employees.dmp</code>和日志文件<code class="codeph">export.log</code>将写入<code class="codeph">'/usr/apps/dumpfiles1'</code> 。
                              </p><pre class="oac_no_warn" dir="ltr">％setenv DATA_PUMP_DIR DUMP_FILES1％expdp hr TABLES = employees DUMPFILE = employees.dmp</pre></li>
                           <li>
                              <p>如果前三个条件都不生成目录对象且您是特权用户，则Data Pump会尝试使用默认的基于服务器的目录对象<code class="codeph">DATA_PUMP_DIR</code> 。在创建数据库时或升级数据库字典时会自动创建此目录对象。您可以使用以下SQL查询来查看<code class="codeph">DATA_PUMP_DIR</code>的路径定义：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT directory_name，directory_path FROM dba_directories 2 WHERE directory_name ='DATA_PUMP_DIR';</pre><p>如果您不是特权用户，则必须<code class="codeph">DATA_PUMP_DIR</code> DBA授予对<code class="codeph">DATA_PUMP_DIR</code>目录对象的访问权限。</p>
                              <p>不要将默认的<code class="codeph">DATA_PUMP_DIR</code>目录对象与同名的基于客户端的环境变量混淆。
                              </p>
                           </li>
                        </ol>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="oracle-data-pump-overview.html#GUID-02A2E765-03BA-4097-B3A3-67B006C749AC" title="查看这些主题以了解Oracle Data Pump的默认文件位置，并了解在使用Oracle RAC，Oracle自动存储管理和多租户架构时这些位置的影响。">转储，日志和SQL文件的默认位置</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="SUTIL3755"></a><div class="props_rev_3"><a id="GUID-8E63A90B-8E72-4E94-B2F4-41CF0603293E" name="GUID-8E63A90B-8E72-4E94-B2F4-41CF0603293E"></a><h5 id="SUTIL-GUID-8E63A90B-8E72-4E94-B2F4-41CF0603293E" class="sect5"><span class="enumeration_section">1.8.3.2</span>了解如何在Oracle RAC中使用Oracle Data Pump</h5>
                     <div>
                        <p>在Oracle Real Application Clusters（Oracle RAC）环境中使用Oracle Data Pump需要您执行一些检查以确保您可以使集群成员节点可用。</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>要在Oracle RAC配置中使用Data Pump或外部表，必须确保目录对象路径位于群集范围的文件系统上。</p>
                              <p>目录对象必须指向可以运行Data Pump和/或外部表进程的所有实例可见并可从中访问的共享物理存储。</p>
                           </li>
                           <li>
                              <p>默认的数据泵行为是工作进程可以在Oracle RAC配置中的任何实例上运行。因此，这些Oracle RAC实例上的工作人员必须具有对目录对象定义的位置的物理访问权限，例如共享存储介质。如果配置没有用于此目的的共享存储，但仍需要并行性，则可以使用<code class="codeph">CLUSTER=NO</code>参数将所有工作进程约束到启动Data Pump作业的实例。
                              </p>
                           </li>
                           <li>
                              <p>在某些情况下，Data Pump使用并行查询从服务器来加载或卸载数据。在Oracle RAC环境中，Data Pump不控制这些从站的运行位置。因此，无论为数据泵作业的<code class="codeph">CLUSTER</code>和<code class="codeph">SERVICE_NAME</code>指定了哪个实例，这些从属服务器都可以在群集中的其他群集成员节点上运行。并行查询操作的控件独立于Data Pump。当并行查询从属服务器作为数据泵作业的一部分在其他实例上运行时，它们还需要访问转储文件集的物理存储。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="oracle-data-pump-overview.html#GUID-02A2E765-03BA-4097-B3A3-67B006C749AC" title="查看这些主题以了解Oracle Data Pump的默认文件位置，并了解在使用Oracle RAC，Oracle自动存储管理和多租户架构时这些位置的影响。">转储，日志和SQL文件的默认位置</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="SUTIL820"></a><div class="props_rev_3"><a id="GUID-1A269231-3365-4A3B-B838-649AAC2766CB" name="GUID-1A269231-3365-4A3B-B838-649AAC2766CB"></a><h5 id="SUTIL-GUID-1A269231-3365-4A3B-B838-649AAC2766CB" class="sect5"><span class="enumeration_section">1.8.3.3</span>启用Oracle自动存储管理时使用目录对象</h5>
                     <div>
                        <p>您可以使用Data Pump Export或Import with Oracle Automatic Storage Management（Oracle ASM）。您必须定义用于转储文件的目录对象，以便使用Oracle ASM磁盘组名称，而不是操作系统目录路径。</p>
                        <div class="section">
                           <p>对于日志文件，请使用指向操作系统目录路径的单独目录对象。</p>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-1A269231-3365-4A3B-B838-649AAC2766CB__GUID-AEC0C77B-9277-446A-A2F7-AF942E0B3BAE">
                           <p>例如，您可以使用此过程为Oracle ASM转储文件创建目录对象。</p><pre class="pre codeblock"><code>SQL&gt; CREATE或REPLACE DIRECTORY dpump_dir为'+ DATAFILES /';</code></pre><p>创建目录对象后，然后为日志文件创建单独的目录对象：</p><pre class="pre codeblock"><code>SQL&gt; CREATE或REPLACE DIRECTORY dpump_log为'/ homedir / user1 /';</code></pre><p>要使用户<code class="codeph">hr</code>能够访问这些目录对象，请为该用户分配必要的权限：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; GRANT READ，WRITE ON DIRECTORY dpump_dir TO hr; SQL&gt; GRANT READ，WRITE ON DIRECTORY dpump_log TO hr;</pre><p>最后，您可以使用以下Data Pump Export命令：</p><pre class="pre codeblock"><code>&gt; expdp hr DIRECTORY = dpump_dir DUMPFILE = hr.dmp LOGFILE = dpump_log：hr.log</code></pre><p>在执行命令之前，系统会提示您输入密码。</p>
                           <div class="infoboxnote" id="GUID-1A269231-3365-4A3B-B838-649AAC2766CB__GUID-8DF266E3-743D-4012-B2D4-42EA45D19979">
                              <p class="notep1">注意：</p>
                              <p>如果您只想在ASM和磁盘目录之间复制Data Pump转储文件，则可以使用<code class="codeph">DBMS_FILE_TRANSFER</code> PL / SQL包。
                              </p>
                           </div>
                        </div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>相关话题</strong></p>
                           <ul>
                              <li><a href="../sqlrf/CREATE-DIRECTORY.html#SQLRF01207" target="_blank"><span><cite>Oracle数据库SQL语言参考</cite></span></a></li>
                              <li><a href="../arpls/DBMS_FILE_TRANSFER.html#ARPLS095" target="_blank"><span><cite>Oracle数据库PL / SQL包和类型参考</cite></span></a></li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="oracle-data-pump-overview.html#GUID-02A2E765-03BA-4097-B3A3-67B006C749AC" title="查看这些主题以了解Oracle Data Pump的默认文件位置，并了解在使用Oracle RAC，Oracle自动存储管理和多租户架构时这些位置的影响。">转储，日志和SQL文件的默认位置</a></p>
                           </div>
                        </div>
                     </div>
                  </div><a id="SUTIL4337"></a><div class="props_rev_3"><a id="GUID-BB478188-0F26-44E3-99E6-C161ED5A2473" name="GUID-BB478188-0F26-44E3-99E6-C161ED5A2473"></a><h5 id="SUTIL-GUID-BB478188-0F26-44E3-99E6-C161ED5A2473" class="sect5"><span class="enumeration_section">1.8.3.4</span> DATA_PUMP_DIR目录对象和可插拔数据库</h5>
                     <div>
                        <p>默认的数据泵目录对象<code class="codeph">DATA_PUMP_DIR</code>被定义为CDB中每个PDB的唯一路径。</p>
                        <p>从Oracle Database 12 <code class="codeph">c</code> 2版（12.2）开始，在多租户容器数据库（CDB）环境中，默认数据泵目录对象<code class="codeph">DATA_PUMP_DIR</code>被定义为CDB中每个PDB的唯一路径，无论<code class="codeph">PATH_PREFIX</code>子句是否<code class="codeph">PATH_PREFIX</code> <code class="codeph">CREATE PLUGGABLE DATABASE</code>语句的定义是针对相对路径定义的。
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="oracle-data-pump-overview.html#GUID-02A2E765-03BA-4097-B3A3-67B006C749AC" title="查看这些主题以了解Oracle Data Pump的默认文件位置，并了解在使用Oracle RAC，Oracle自动存储管理和多租户架构时这些位置的影响。">转储，日志和SQL文件的默认位置</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="SUTIL822"></a><div class="props_rev_3"><a id="GUID-6F532CA9-CE90-47D6-84ED-AD10F1E18056" name="GUID-6F532CA9-CE90-47D6-84ED-AD10F1E18056"></a><h4 id="SUTIL-GUID-6F532CA9-CE90-47D6-84ED-AD10F1E18056" class="sect4"><span class="enumeration_section">1.8.4</span>使用替换变量</h4>
                  <div>
                     <p>除了列出特定文件名之外，您可以在导出操作期间使用<code class="codeph">DUMPFILE</code>参数指定多个转储文件，方法是使用文件名中的替换变量。这称为转储文件模板。
                     </p>
                     <div class="infoboxnote" id="GUID-6F532CA9-CE90-47D6-84ED-AD10F1E18056__GUID-80197391-6DE8-4FF7-90F0-C472D3D11095">
                        <p class="notep1">注意：</p>本节使用％U来解释Data Pump如何使用替换变量。有关其他可用替换变量的信息，请参阅Data Pump Export <a href="oracle-data-pump-export-utility.html#GUID-A6300021-419F-4C1D-AFF1-38FE1123326B" title="Data Pump Export命令行实用程序DUMPFILE参数指定导出作业的转储文件的名称和（可选）目录对象。">DUMPFILE</a>参数和Data Pump Import <a href="datapump-import-utility.html#GUID-DE156692-2955-4D5B-A327-C421F9E45FEB" title="Data Pump Import命令行模式DUMPFILE参数指定Export创建的转储文件集的名称和（可选）目录对象。">DUMPFILE</a>参数。
                     </div>
                     <p>根据需要创建新的转储文件。例如，如果您使用的替代变量％U，然后是根据需要用开始创建新的转储文件<code class="codeph">01</code>的<code class="codeph">%U</code> ，然后用<code class="codeph">02</code> ， <code class="codeph">03</code> ，等等。创建足够的转储文件以允许<code class="codeph">PARALLEL</code>参数的当前设置指定的所有进程处于活动状态。如果其中一个转储文件因其大小已达到<code class="codeph">FILESIZE</code>参数指定的最大大小而变满，则会关闭该文件，并创建一个新的转储文件（使用新生成的名称）来取代它。
                     </p>
                     <p>如果提供了多个转储文件模板，则它们用于以循环方式生成转储文件。例如，如果为并行度为6的作业指定了<code class="codeph">expa%U</code> ， <code class="codeph">expb%U,</code>和<code class="codeph">expc%U</code> ，则创建的初始转储文件将为<code class="codeph">expa01</code> 。 <code class="codeph">dmp</code> ， <code class="codeph">expb01</code> 。 <code class="codeph">dmp</code> ， <code class="codeph">expc01</code> 。 <code class="codeph">dmp</code> ， <code class="codeph">expa02</code> 。 <code class="codeph">dmp</code> ， <code class="codeph">expb02</code> 。 <code class="codeph">dmp</code>和<code class="codeph">expc02</code> 。 <code class="codeph">dmp</code> 。
                     </p>
                     <p>对于import和SQLFILE操作，如果指定了转储文件规范<code class="codeph">expa%U</code> ， <code class="codeph">expb%U,</code>和<code class="codeph">expc%U</code> ，则操作首先尝试打开转储文件<code class="codeph">expa01</code> 。 <code class="codeph">dmp</code> ， <code class="codeph">expb01</code> 。 <code class="codeph">dmp</code>和<code class="codeph">expc01</code> 。 <code class="codeph">dmp</code> 。这是可能的主表跨越多个转储文件，所以直到主表的所有作品中发现，转储文件将继续被打开，通过增加替代变量和查找新的文件名（例如， <code class="codeph">expa02</code> 。 <code class="codeph">dmp</code> ， <code class="codeph">expb02</code> ， <code class="codeph">dmp</code> ，并<code class="codeph">expc02</code> 。 <code class="codeph">dmp</code> ）。如果转储文件不存在，则操作将停止为出错的转储文件规范递增替换变量。例如，如果是<code class="codeph">expb01</code> 。 <code class="codeph">dmp</code>和<code class="codeph">expb02</code> 。找到<code class="codeph">dmp</code>但是<code class="codeph">expb03</code> 。找不到<code class="codeph">dmp</code> ，然后使用<code class="codeph">expb%U</code>规范搜索不再有文件。找到整个主表后，它将用于确定是否已找到转储文件集中的所有转储文件。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-data-pump-overview.html#GUID-FE7E746D-A343-463E-A4E2-A6AD1349FE4B" title="Oracle Data Pump管理几种不同类型的文件。您可以在交互模式下使用命令来修改OracleData Pump分配和处理这些文件的方式。">文件分配</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="SUTIL110"></a><div class="props_rev_3"><a id="GUID-BAA3B679-A758-4D55-9820-432D9EB83C68" name="GUID-BAA3B679-A758-4D55-9820-432D9EB83C68"></a><h3 id="SUTIL-GUID-BAA3B679-A758-4D55-9820-432D9EB83C68" class="sect3"><span class="enumeration_section">1.9</span>在不同的Oracle数据库版本之间导出和导入</h3>
               <div>
                  <p>您可以使用Oracle Data Pump在不同版本的数据库软件之间迁移Oracle数据库的全部或任何部分。</p>
                  <p>通常，您使用Oracle Data Pump Export <code class="codeph">VERSION</code>参数在数据库版本之间进行迁移。使用<code class="codeph">VERSION</code>生成与指定版本兼容的Oracle Data Pump转储文件集。
                  </p>
                  <p><code class="codeph">VERSION</code>的默认值是<code class="codeph">COMPATIBLE</code> 。此值指示导出的数据库对象定义与为<code class="codeph">COMPATIBLE</code>初始化参数指定的发行版<code class="codeph">COMPATIBLE</code> 。
                  </p>
                  <p>在升级情况下，当基于Oracle Data Pump的目标版本的迁移高于源时，通常不必指定<code class="codeph">VERSION</code>参数。当目标版本高于源时，源数据库中的所有对象都与较高目标版本兼容。但是，例外情况是导出整个Oracle Database 11g（版本11.2.0.3或更高版本）以准备导入Oracle Database 12c第1版（12.1.0.1）或更高版本。在这种情况下，要包含一整套Oracle数据库内部组件元数据，请使用<code class="codeph">FULL=YES</code>显式指定<code class="codeph">VERSION=12</code> 。</p>
                  <p>在降级情况下，当基于Oracle Data Pump的目标版本的迁移低于源时，请将<code class="codeph">VERSION</code>参数值设置为与目标版本相同的版本。目标发行版本与源系统上<code class="codeph">COMPATIBLE</code>初始化参数的值相同时例外。在这种情况下，您不需要指定<code class="codeph">VERSION</code> 。但是，一般情况下，除非明确指定<code class="codeph">VERSION</code>参数，否则Oracle Data Pump导入无法读取由当前版本更新的Oracle数据库版本创建的转储文件集。
                  </p>
                  <p>在不同数据库版本之间导出和导入时，请记住以下信息：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>在Oracle Data Pump导出中，如果指定的数据库版本早于当前数据库版本，则会创建一个转储文件集，您可以将其导入到该旧版本的数据库中。例如，如果您运行的是Oracle Database 12c第1版（12.1.0.2），并且在导出时指定了<code class="codeph">VERSION=11.2</code> ，则可以将创建的转储文件集导入Oracle Database 11g（版本11.2）数据库。
                        </p>
                        <div class="infoboxnote" id="GUID-BAA3B679-A758-4D55-9820-432D9EB83C68__GUID-CEF899D4-95B6-4A14-8992-944B04D1CFA8">
                           <p class="notep1">注意：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>仅在Oracle Database 12c第1版（12.1.0.2）及更高版本中有效的数据库权限（例如，对表，视图，物化视图和同义词的<code class="codeph">READ</code>权限）无法导入Oracle Database 12c第1版（12.1.0.1） ）或更早。如果尝试这样做，则Import会将其报告为错误，并继续导入操作。
                                 </p>
                              </li>
                              <li>
                                 <p>导出到早于Oracle Database 12c第2版（12.2.0.1）的发行版时，Oracle Data Pump不会过滤掉超过30个字节的对象名称。导出对象。在导入时，如果您尝试创建名称长度超过30个字节的对象，则会返回错误。</p>
                              </li>
                           </ul>
                        </div>
                     </li>
                     <li>
                        <p>如果指定的Oracle数据库版本早于当前的Oracle数据库版本，则某些功能和数据类型可能不可用。例如，如果还为作业指定了数据压缩，则指定<code class="codeph">VERSION=10.1</code>会导致错误，因为Oracle Database 10g第1版（10.1）中不支持压缩。另一个示例：如果源Oracle数据库发行版中的用户定义类型或Oracle提供的类型是比目标Oracle数据库发行版中的类型更高的版本，则不会加载该类型，因为它与任何版本的键入目标数据库。
                        </p>
                     </li>
                     <li>
                        <p>Oracle Data Pump Import始终可以读取旧版Oracle数据库版本创建的Oracle Data Pump转储文件集。</p>
                     </li>
                     <li>
                        <p>通过网络链接进行操作时，Oracle Data Pump要求源数据库和目标Oracle数据库版本的差异不超过两个版本。</p>
                        <p>例如，如果一个数据库是Oracle Database 12c，则另一个Oracle Database版本必须是12c，11g或10g。Oracle Data Pump仅检查主要版本号（例如，10g，11g，12c），而不检查特定的Oracle数据库版本号（例如，12.2,12.1,11.1,11.2,10.1或10.2）。</p>
                     </li>
                     <li>
                        <p>将包含表统计信息的Oracle Database 11g转储文件导入Oracle Database 12c第1版（12.1）或更高版本的Oracle数据库版本可能会导致Oracle ORA-39346错误。发生此错误的原因是Oracle Database 11g转储文件包含表统计信息作为元数据。Oracle Database 12c第1版（12.1）及更高版本要求将表统计信息显示为表数据。解决方法是在导入操作期间忽略错误。导入操作完成后，重新收集表统计信息。</p>
                     </li>
                  </ul>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="oracle-data-pump-export-utility.html#GUID-2877B4DB-0082-438F-AC9B-18D1686F5DDC">版</a></li>
                        <li><a href="datapump-import-utility.html#GUID-A5B19146-2CAA-47E7-8AE5-57A05E3347F6">版</a></li>
                     </ul>
                  </div>
                  <div class="infoboxnotealso" id="GUID-BAA3B679-A758-4D55-9820-432D9EB83C68__GUID-DFB580D8-F11A-43A4-BCE7-74AFC99CE772">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>有关<code class="codeph">READ</code>和<code class="codeph">READ ANY TABLE</code>权限的更多信息，请<code class="codeph">READ</code> <a href="../dbseg/configuring-privilege-and-role-authorization.html#DBSEG992" target="_blank"><span class="italic">“Oracle数据库安全指南”</span></a></p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="oracle-data-pump-overview.html#GUID-17FAE261-0972-4220-A2E4-44D479F519D4" title="Oracle Data Pump技术可以将数据和元数据从一个数据库高速移动到另一个数据库。">Oracle Data Pump概述</a></p>
                     </div>
                  </div>
               </div>
            </div><a id="SUTIL2883"></a><div class="props_rev_3"><a id="GUID-9030BC32-193B-4455-8DBB-4271DD44FA7A" name="GUID-9030BC32-193B-4455-8DBB-4271DD44FA7A"></a><h3 id="SUTIL-GUID-9030BC32-193B-4455-8DBB-4271DD44FA7A" class="sect3"><span class="enumeration_section">1.10</span> SecureFiles LOB注意事项</h3>
               <div>
                  <p>使用Oracle Data Pump Export导出SecureFiles LOB时，导出行为取决于多种因素，包括Export <code class="codeph">VERSION</code>参数值，是否存在ContentType，以及是否存档LOB以及是否缓存数据。
                  </p>
                  <p></p>
                  <p>以下方案涵盖了这些变量的不同组合：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>如果表包含具有ContentType的SecureFiles LOB且Export <code class="codeph">VERSION</code>参数设置为早于<code class="codeph">11.2.0.0.0</code>的值，则不会导出ContentType。
                        </p>
                     </li>
                     <li>
                        <p>如果表包含具有ContentType的SecureFiles LOB且Export <code class="codeph">VERSION</code>参数设置为值<code class="codeph">11.2.0.0.0</code>或更高版本，则会在后续导入时导出和还原ContentType。
                        </p>
                     </li>
                     <li>
                        <p>如果表包含当前已归档的SecureFiles LOB并且数据已缓存，并且Export <code class="codeph">VERSION</code>参数设置为早于<code class="codeph">11.2.0.0.0</code>的值，则会导出SecureFiles LOB数据并删除归档元数据。在这种情况下，如果<code class="codeph">VERSION</code>设置为<code class="codeph">11.1</code>或更高版本，则SecureFiles LOB将成为一个vanilla SecureFiles LOB。但是如果将<code class="codeph">VERSION</code>设置为早于<code class="codeph">11.1</code>的值，则SecureFiles LOB将成为BasicFiles LOB。</p>
                     </li>
                     <li>
                        <p>如果表包含当前已存档但未缓存数据的SecureFiles LOB，并且Export <code class="codeph">VERSION</code>参数设置为早于<code class="codeph">11.2.0.0.0</code>的值，则会返回ORA-45001错误。
                        </p>
                     </li>
                     <li>
                        <p>如果表包含当前已归档的SecureFiles LOB并且数据已缓存，并且Export <code class="codeph">VERSION</code>参数设置为值<code class="codeph">11.2.0.0.0</code>或更高版本，则将导出缓存数据和归档元数据。
                        </p>
                     </li>
                  </ul>
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-9030BC32-193B-4455-8DBB-4271DD44FA7A__GUID-327BEFAE-B5E2-437C-B9AF-01911E9AE56D">
                     <p class="notep1">也可以看看：</p>
                     <p>有关SecureFiles的更多信息，请参见<a href="../adlob/using-oracle-LOBs-storage.html#ADLOB4444" target="_blank"><span><cite>Oracle Database SecureFiles和Large Objects Developer's Guide</cite></span></a></p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="oracle-data-pump-overview.html#GUID-17FAE261-0972-4220-A2E4-44D479F519D4" title="Oracle Data Pump技术可以将数据和元数据从一个数据库高速移动到另一个数据库。">Oracle Data Pump概述</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SUTIL3835"></a><a id="SUTIL3834"></a><div class="props_rev_3"><a id="GUID-34D0DEE7-3530-42DC-BE01-C2588CC73CE5" name="GUID-34D0DEE7-3530-42DC-BE01-C2588CC73CE5"></a><h3 id="SUTIL-GUID-34D0DEE7-3530-42DC-BE01-C2588CC73CE5" class="sect3"><span class="enumeration_section">1.11</span> Oracle数据泵退出代码</h3>
               <div>
                  <p>您可以在日志文件和进程退出代码中查看Oracle Data Pump导出和导入操作结果。</p>
                  <div class="section">
                     <p>Oracle Data Pump在完成后立即提供导出和导入操作的结果。除了将结果记录在日志文件中之外，Oracle Data Pump还可以在流程退出代码中报告结果。使用Oracle Data Pump退出代码从命令行或脚本检查Oracle Data Pump作业的结果：</p>
                     <div class="tblformalwide" id="GUID-34D0DEE7-3530-42DC-BE01-C2588CC73CE5__BABICAEC">
                        <p class="titleintable">表1-1数据泵退出代码</p>
                        <table cellpadding="4" cellspacing="0" class="FormalWide" title="数据泵退出代码" width="100%" border="1" summary="Data Pump Exit Codes for Linux, Unix, and Windows" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="29%" id="d10392e3670">退出代码</th>
                                 <th align="left" valign="bottom" width="71%" id="d10392e3673">含义</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d10392e3678" headers="d10392e3670 ">
                                    <p><code class="codeph">EX_SUCC 0</code></p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d10392e3678 d10392e3673 ">
                                    <p>导出或导入作业成功完成。没有错误显示在输出设备上或记录在日志文件中（如果有）。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d10392e3686" headers="d10392e3670 ">
                                    <p><code class="codeph">EX_SUCC_ERR 5</code></p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d10392e3686 d10392e3673 ">
                                    <p>导出或导入作业成功完成，但在作业期间遇到错误。错误将显示在输出设备上，并记录在日志文件中（如果有）。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d10392e3694" headers="d10392e3670 ">
                                    <p><code class="codeph">EX_FAIL 1</code></p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d10392e3694 d10392e3673 ">
                                    <p>导出或导入作业遇到一个或多个致命错误，包括以下内容：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p>命令行或命令语法中的错误</p>
                                       </li>
                                       <li>
                                          <p>导出或导入无法恢复的Oracle数据库错误</p>
                                       </li>
                                       <li>
                                          <p>操作系统错误（例如malloc）</p>
                                       </li>
                                       <li>
                                          <p>阻止作业启动的无效参数值（例如， <code class="codeph">DIRECTORY</code>参数中指定的无效目录对象）</p>
                                       </li>
                                    </ul>
                                    <p>输出设备显示致命错误，但可能未记录在日志文件中。是否记录在日志文件中可能取决于几个因素，包括：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p>是否在作业开始时指定了日志文件？</p>
                                       </li>
                                       <li>
                                          <p>作业的处理是否足以打开日志文件？</p>
                                       </li>
                                    </ul>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="oracle-data-pump-overview.html#GUID-17FAE261-0972-4220-A2E4-44D479F519D4" title="Oracle Data Pump技术可以将数据和元数据从一个数据库高速移动到另一个数据库。">Oracle Data Pump概述</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SUTIL4280"></a><div class="props_rev_3"><a id="GUID-4443B80B-0446-4010-B8CA-2524659516BC" name="GUID-4443B80B-0446-4010-B8CA-2524659516BC"></a><h3 id="SUTIL-GUID-4443B80B-0446-4010-B8CA-2524659516BC" class="sect3"><span class="enumeration_section">1.12</span>审核数据泵作业</h3>
               <div>
                  <p>要监视和记录特定的用户数据库操作，请使用统一审计对Data Pump作业执行审计。</p>
                  <div class="section">
                     <p>您可以对Data Pump作业执行审核，以监视和记录特定的用户数据库操作。Data Pump使用统一审计，其中所有审计记录集中在一个地方。</p>
                     <p>要设置统一审核，请创建统一审核策略或更改现有策略。审核策略是一组命名的审核设置，使您可以审核数据库中用户行为的特定方面。要创建策略，请使用SQL <code class="codeph">CREATE AUDIT POLICY</code>语句。
                     </p>
                     <p>创建审核策略后，分别使用<code class="codeph">AUDIT</code>和<code class="codeph">NOAUDIT</code> SQL语句启用和禁用策略。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-4443B80B-0446-4010-B8CA-2524659516BC__GUID-9E9A3DDD-CFA5-4F37-A0BA-B204B344120B">
                     <p class="notep1">也可以看看：</p>
                     <p></p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>有关SQL <code class="codeph">CREATE AUDIT POLICY,ALTER AUDIT POLICY, AUDIT,</code>和<code class="codeph">NOAUDIT</code>语句的更多信息，请<a href="../sqlrf/CREATE-AUDIT-POLICY-Unified-Auditing.html#SQLRF56055" target="_blank"><span><cite>参见Oracle数据库SQL语言参考</cite></span></a></p>
                        </li>
                        <li>
                           <p>有关在Oracle数据库中使用审计的详细信息，请参见<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sutil&amp;id=DBSEG006" target="_blank"><span><cite>“Oracle数据库安全指南”</cite></span></a></p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="oracle-data-pump-overview.html#GUID-17FAE261-0972-4220-A2E4-44D479F519D4" title="Oracle Data Pump技术可以将数据和元数据从一个数据库高速移动到另一个数据库。">Oracle Data Pump概述</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SUTIL4292"></a><div class="props_rev_3"><a id="GUID-7EE60BAB-0D3D-46EB-8E11-4FDDA68EF14E" name="GUID-7EE60BAB-0D3D-46EB-8E11-4FDDA68EF14E"></a><h3 id="SUTIL-GUID-7EE60BAB-0D3D-46EB-8E11-4FDDA68EF14E" class="sect3"><span class="enumeration_section">1.13</span>数据泵如何处理时间戳数据？
               </h3>
               <div>
                  <p>本节介绍可能影响成功完成导出和导入作业的因素，这些作业涉及时间戳数据类型<code class="codeph">TIMESTAMP WITH TIMEZONE</code>和<code class="codeph">TIMESTAMP WITH LOCAL TIMEZONE</code> 。</p>
                  <div class="infoboxnote" id="GUID-7EE60BAB-0D3D-46EB-8E11-4FDDA68EF14E__GUID-65C5A862-FA8A-4237-9D33-07B06BEAD85D">
                     <p class="notep1">注意：</p>
                     <p>本节中的信息仅适用于在Oracle Database <span class="italic">12c</span>及更高版本上运行的Oracle Data Pump。
                     </p>
                  </div>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="oracle-data-pump-overview.html#GUID-9B6C92EE-860E-43DD-9728-735B17B9DA89">TIMESTAMP与TIMEZONE限制</a><br>具有<code class="codeph">TIMESTAMP WITH TIME ZONE</code>数据的导出和导入作业受到限制。
                     </li>
                     <li class="ulchildlink"><a href="oracle-data-pump-overview.html#GUID-D8443A5E-BF6D-4329-AF11-8E5899356C64">TIMESTAMP与当地时区限制</a><br>使用可传输模式移动表受到限制。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="oracle-data-pump-overview.html#GUID-17FAE261-0972-4220-A2E4-44D479F519D4" title="Oracle Data Pump技术可以将数据和元数据从一个数据库高速移动到另一个数据库。">Oracle Data Pump概述</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="sect3"><a id="GUID-9B6C92EE-860E-43DD-9728-735B17B9DA89" name="GUID-9B6C92EE-860E-43DD-9728-735B17B9DA89"></a><h4 id="SUTIL-GUID-9B6C92EE-860E-43DD-9728-735B17B9DA89" class="sect4"><span class="enumeration_section">1.13.1具有</span> TIMEZONE限制的TIMESTAMP</h4>
                  <div>
                     <p>具有<code class="codeph">TIMESTAMP WITH TIME ZONE</code>数据的导出和导入作业受到限制。
                     </p>
                     <p></p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="oracle-data-pump-overview.html#GUID-02A6F03E-7754-41B5-A579-93A6E171A61C">了解TIMESTAMP与时区限制</a><br>执行具有<code class="codeph">TIMESTAMP WITH TIME ZONE</code>数据的导出和导入作业需要了解有关时区文件数据和Oracle数据库版本的信息。
                        </li>
                        <li class="ulchildlink"><a href="oracle-data-pump-overview.html#GUID-EF3AF1D8-716B-4C3E-931D-52937A5175F1">具有时区数据的TIMESTAMP的数据泵支持</a><br>Data Pump在不同的导出和导入模式（如非可传输模式，可传输表空间和可传输表模式以及完全可传输模式）期间支持<code class="codeph">TIMESTAMP WITH TIME ZONE</code>数据。
                        </li>
                        <li class="ulchildlink"><a href="oracle-data-pump-overview.html#GUID-4DABDB38-BEAA-471B-9026-F91CD22FD5C4">源和目标上的时区文件版本</a><br>成功完成作业可能取决于源和目标时区文件版本是否匹配。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-data-pump-overview.html#GUID-7EE60BAB-0D3D-46EB-8E11-4FDDA68EF14E" title="本节介绍可能影响成功完成导出和导入作业的因素，这些作业涉及时间戳数据类型TIMESTAMP WITH TIMEZONE和TIMESTAMP WITH LOCAL TIMEZONE。">数据泵如何处理时间戳数据？</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="SUTIL4320"></a><div class="props_rev_3"><a id="GUID-02A6F03E-7754-41B5-A579-93A6E171A61C" name="GUID-02A6F03E-7754-41B5-A579-93A6E171A61C"></a><h5 id="SUTIL-GUID-02A6F03E-7754-41B5-A579-93A6E171A61C" class="sect5"><span class="enumeration_section">1.13.1.1</span>了解TIMESTAMP与时区限制</h5>
                     <div>
                        <p>执行具有<code class="codeph">TIMESTAMP WITH TIME ZONE</code>数据的导出和导入作业需要了解有关时区文件数据和Oracle数据库版本的信息。
                        </p>
                        <div class="section">
                           <p>成功完成工作取决于以下因素：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>源数据库和目标数据库上的Oracle数据库时区文件的版本。</p>
                              </li>
                              <li>
                                 <p>导出/导入模式以及所使用的数据泵版本是否支持<code class="codeph">TIMESTAMP WITH TIME ZONE</code>数据。（Data Pump 11.2.0.1及更高版本为<code class="codeph">TIMESTAMP WITH TIME ZONE</code>数据提供支持。）
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-02A6F03E-7754-41B5-A579-93A6E171A61C__GUID-BFCD545C-EDE5-4280-9C2B-4B3A0638781F">
                           <p>要标识数据库的时区文件版本，可以执行以下SQL语句：</p><pre class="pre codeblock"><code>SQL&gt; SELECT VERSION FROM V $ TIMEZONE_FILE;</code></pre></div>
                        <!-- class="example" -->
                        <div class="section">有关时区文件的详细信息，请参阅“ <cite>Oracle数据库全球化支持指南”</cite> 。
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>相关话题</strong></p>
                           <ul>
                              <li><a href="../nlspg/datetime-data-types-and-time-zone-support.html#NLSPG258" target="_blank"><span><cite>Oracle数据库全球化支持指南</cite></span></a></li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="oracle-data-pump-overview.html#GUID-9B6C92EE-860E-43DD-9728-735B17B9DA89" title="具有TIMESTAMP WITH TIME ZONE数据的导出和导入作业受到限制。">TIMESTAMP WITH TIMEZONE限制</a></p>
                           </div>
                        </div>
                     </div>
                  </div><a id="SUTIL4323"></a><a id="SUTIL4324"></a><a id="SUTIL4325"></a><a id="SUTIL4322"></a><div class="props_rev_3"><a id="GUID-EF3AF1D8-716B-4C3E-931D-52937A5175F1" name="GUID-EF3AF1D8-716B-4C3E-931D-52937A5175F1"></a><h5 id="SUTIL-GUID-EF3AF1D8-716B-4C3E-931D-52937A5175F1" class="sect5"><span class="enumeration_section">1.13.1.2带</span>时区数据的TIMESTAMP的数据泵支持</h5>
                     <div>
                        <p>Data Pump在不同的导出和导入模式（如非可传输模式，可传输表空间和可传输表模式以及完全可传输模式）期间支持<code class="codeph">TIMESTAMP WITH TIME ZONE</code>数据。
                        </p>
                        <p>本节介绍在源数据库和目标数据库上Oracle数据库时区文件的版本不同时，在不同的导出和导入模式下， <code class="codeph">TIMESTAMP WITH TIME ZONE</code>数据的数据泵支持。
                        </p>
                        <div class="section">
                           <p class="subhead3" id="GUID-EF3AF1D8-716B-4C3E-931D-52937A5175F1__GUID-B6D7D52C-5A63-4479-B732-8433BC8B155B">不可运输的模式</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>如果使用支持<code class="codeph">TIMESTAMP WITH TIME ZONE</code>数据（11.2.0.1或更高版本）的数据泵版本创建转储文件，则导出系统的时区文件版本将记录在转储文件中。Data Pump使用该信息来确定是否需要进行数据转换。如果目标数据库知道源时区版本，但实际上使用的是更高版本，则数据将转换为更高版本。<code class="codeph">TIMESTAMP WITH TIME ZONE</code>数据无法降级，因此如果您尝试导入使用时区文件的早期版本而非使用的源的目标，则导入将失败。
                                 </p>
                              </li>
                              <li>
                                 <p>如果使用Oracle Database <span class="italic">11g第</span> 2版（11.2.0.1）之前的数据泵版本创建转储文件，则不支持<code class="codeph">TIMESTAMP WITH TIME ZONE</code>数据，因此不会进行转换并可能发生损坏。
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-EF3AF1D8-716B-4C3E-931D-52937A5175F1__GUID-306AD66A-A9D1-4035-ABBD-336770ADE243">可传输表空间和可传输表模式</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>在可传输表空间和可传输表模式中，如果源和目标具有不同的时区文件版本，则不会创建具有<code class="codeph">TIMESTAMP WITH TIME ZONE</code>列的表。作业开头会显示一条警告，显示源和目标数据库时区文件版本。还会为每个未创建的表显示一条消息。即使用于创建转储文件的数据泵版本支持<code class="codeph">TIMESTAMP WITH TIME ZONE</code>数据，也是如此。（版本11.2.0.1及更高版本支持<code class="codeph">TIMESTAMP WITH TIMEZONE</code>数据。）
                                 </p>
                              </li>
                              <li>
                                 <p>如果源早于Oracle Database <span class="italic">11g第</span> 2版（11.2.0.1），则所有可传输作业的源和目标数据库上的时区文件版本必须相同，无论可传输集是否使用<code class="codeph">TIMESTAMP WITH TIME ZONE</code>列。
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-EF3AF1D8-716B-4C3E-931D-52937A5175F1__GUID-4E60A499-6C75-4F94-9CA0-13B1FF70243A">完全可移动模式</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>当源数据库至少是Oracle Database <span class="italic">11g第</span> 2版（11.2.0.3）且目标是Oracle Database 12c第1版（12.1）或更高版本时，支持完全可传输的导出和导入。
                           </p>
                           <p>Data Pump 11.2.0.1及更高版本为<code class="codeph">TIMESTAMP WITH TIME ZONE</code>数据提供支持。因此，在完全可传输的操作中，将创建具有<code class="codeph">TIMESTAMP WITH TIME ZONE</code>列的表。如果源和目标数据库具有不同的时区文件版本，则源中的<code class="codeph">TIMESTAMP WITH TIME ZONE</code>列将转换为目标的时区文件版本。
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-EF3AF1D8-716B-4C3E-931D-52937A5175F1__GUID-91544DBB-B246-4082-9F94-304D109C167D">
                           <p class="notep1">也可以看看：</p>
                           <p></p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>有关可传输表空间的详细信息，请参见<a href="../admin/transporting-data.html#ADMIN10140" target="_blank"><span class="italic">“Oracle数据库管理员指南”</span></a></p>
                              </li>
                              <li>
                                 <p><a href="oracle-data-pump-export-utility.html#GUID-079769D8-40F4-432F-88AD-E7264D7A2E2D__BEHFFGJG">在完整模式导出期间使用可传输选项</a>以获取有关完全可传输导出的更多信息</p>
                              </li>
                              <li>
                                 <p><a href="datapump-import-utility.html#GUID-E27D2DC9-A6D8-4F0B-AB72-6BF526B3AA18__BEHFEGFI">在完整模式下使用可传输选项导入</a>有关完全可传输导入的更多信息</p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="oracle-data-pump-overview.html#GUID-9B6C92EE-860E-43DD-9728-735B17B9DA89" title="具有TIMESTAMP WITH TIME ZONE数据的导出和导入作业受到限制。">TIMESTAMP WITH TIMEZONE限制</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="SUTIL4321"></a><div class="props_rev_3"><a id="GUID-4DABDB38-BEAA-471B-9026-F91CD22FD5C4" name="GUID-4DABDB38-BEAA-471B-9026-F91CD22FD5C4"></a><h5 id="SUTIL-GUID-4DABDB38-BEAA-471B-9026-F91CD22FD5C4" class="sect5"><span class="enumeration_section">1.13.1.3</span>源和目标上的时区文件版本</h5>
                     <div>
                        <p>成功完成作业可能取决于源和目标时区文件版本是否匹配。</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>如果源数据库和目标数据库上的Oracle数据库时区文件版本相同，则无需转换<code class="codeph">TIMESTAMP WITH TIME ZONE</code>数据。导出/导入作业应该成功完成。
                              </p>
                              <p>例外情况是使用早于11.2.0.1的数据泵版本执行的可传输表空间或可传输表导出。在这种情况下，即使源和目标上的时区文件版本相同，也不会在导入时创建转储文件中具有<code class="codeph">TIMESTAMP WITH TIME ZONE</code>列的表。
                              </p>
                           </li>
                           <li>
                              <p>如果目标数据库上的源时区文件版本不可用，则作业将失败。源上的时区文件版本可能在目标上不可用，因为源可能已将其时区文件更新为更高版本但目标尚未更新。例如，如果导出是在Oracle Database <span class="italic">11g第</span> 2版（11.2.0.2）上完成的，时区文件版本为17，并且导入是在11.2.0.2上完成的，只有16个时区文件可用，那么工作失败。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="oracle-data-pump-overview.html#GUID-9B6C92EE-860E-43DD-9728-735B17B9DA89" title="具有TIMESTAMP WITH TIME ZONE数据的导出和导入作业受到限制。">TIMESTAMP WITH TIMEZONE限制</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="SUTIL4326"></a><div class="props_rev_3"><a id="GUID-D8443A5E-BF6D-4329-AF11-8E5899356C64" name="GUID-D8443A5E-BF6D-4329-AF11-8E5899356C64"></a><h4 id="SUTIL-GUID-D8443A5E-BF6D-4329-AF11-8E5899356C64" class="sect4"><span class="enumeration_section">1.13.2具有</span>当地时区的TIMESTAMP限制</h4>
                  <div>
                     <p>使用可传输模式移动表受到限制。</p>
                     <p>如果使用可传输模式（可传输表，可传输表空间或完全可传输）移动表，并且存在以下条件，则会发出警告并且不会创建表：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>源数据库和目标数据库具有不同的数据库时区。</p>
                        </li>
                        <li>
                           <p>该表包含<code class="codeph">TIMESTAMP WITH LOCAL TIME ZONE</code>数据类型。
                           </p>
                        </li>
                     </ul>
                     <p>若要成功移动由于这些条件而未创建的表，请使用不可传输的导出和导入模式。</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-data-pump-overview.html#GUID-7EE60BAB-0D3D-46EB-8E11-4FDDA68EF14E" title="本节介绍可能影响成功完成导出和导入作业的因素，这些作业涉及时间戳数据类型TIMESTAMP WITH TIMEZONE和TIMESTAMP WITH LOCAL TIMEZONE。">数据泵如何处理时间戳数据？</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="SUTIL4307"></a><div class="props_rev_3"><a id="GUID-72F01BF0-61F5-4775-8C7B-4E227F244866" name="GUID-72F01BF0-61F5-4775-8C7B-4E227F244866"></a><h3 id="SUTIL-GUID-72F01BF0-61F5-4775-8C7B-4E227F244866" class="sect3"><span class="enumeration_section">1.14</span>字符集和全球化支持注意事项</h3>
               <div>
                  <p>数据泵导出和导入的全球化支持行为。</p>
                  <p>这些部分描述了数据泵导出和导入的全球化支持行为，涉及用户数据和数据定义语言（DDL）的字符集转换。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="oracle-data-pump-overview.html#GUID-7B94D834-313B-4BA7-80F2-A29C1870DF27">数据定义语言（DDL）</a><br>导出实用程序使用导出系统的数据库字符集写入转储文件。
                     </li>
                     <li class="ulchildlink"><a href="oracle-data-pump-overview.html#GUID-A786A4B1-A913-4765-81F9-C877A6566F9C">单字节字符集和导出导入</a><br>确保导出数据库和导入数据库使用相同的字符集。
                     </li>
                     <li class="ulchildlink"><a href="oracle-data-pump-overview.html#GUID-5F23F5CF-82F0-4254-B865-20ED68F4AE31">多字节字符集和导出和导入</a><br>在字符集转换期间，导出文件中导入数据库字符集中没有等效项的任何字符都将替换为默认字符。导入数据库字符集定义默认字符。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="oracle-data-pump-overview.html#GUID-17FAE261-0972-4220-A2E4-44D479F519D4" title="Oracle Data Pump技术可以将数据和元数据从一个数据库高速移动到另一个数据库。">Oracle Data Pump概述</a></p>
                     </div>
                  </div>
               </div>
               <a id="SUTIL4310"></a><div class="props_rev_3"><a id="GUID-7B94D834-313B-4BA7-80F2-A29C1870DF27" name="GUID-7B94D834-313B-4BA7-80F2-A29C1870DF27"></a><h4 id="SUTIL-GUID-7B94D834-313B-4BA7-80F2-A29C1870DF27" class="sect4"><span class="enumeration_section">1.14.1</span>数据定义语言（DDL）</h4>
                  <div>
                     <p>导出实用程序使用导出系统的数据库字符集写入转储文件。</p>
                     <p>导入转储文件时，仅当导入系统的数据库字符集与导出系统的数据库字符集不同时，才需要对DDL进行字符集转换。</p>
                     <p>若要最大限度地减少由于字符集转换而导致的数据丢失，请确保导入数据库字符集是导出数据库字符集的超集。</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-data-pump-overview.html#GUID-72F01BF0-61F5-4775-8C7B-4E227F244866" title="数据泵导出和导入的全球化支持行为。">字符集和全球化支持注意事项</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SUTIL4311"></a><div class="props_rev_3"><a id="GUID-A786A4B1-A913-4765-81F9-C877A6566F9C" name="GUID-A786A4B1-A913-4765-81F9-C877A6566F9C"></a><h4 id="SUTIL-GUID-A786A4B1-A913-4765-81F9-C877A6566F9C" class="sect4"><span class="enumeration_section">1.14.2</span>单字节字符集和导出导入</h4>
                  <div>
                     <p>确保导出数据库和导入数据库使用相同的字符集。</p>
                     <p>如果进行导入的系统使用7位字符集，并导入8位字符集转储文件，则某些8位字符可能会转换为7位等效字符。发生这种情况的迹象是重音字符失去重音标记。</p>
                     <p>要避免此不需要的转换，请确保导出数据库和导入数据库使用相同的字符集。</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-data-pump-overview.html#GUID-72F01BF0-61F5-4775-8C7B-4E227F244866" title="数据泵导出和导入的全球化支持行为。">字符集和全球化支持注意事项</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SUTIL4312"></a><div class="props_rev_3"><a id="GUID-5F23F5CF-82F0-4254-B865-20ED68F4AE31" name="GUID-5F23F5CF-82F0-4254-B865-20ED68F4AE31"></a><h4 id="SUTIL-GUID-5F23F5CF-82F0-4254-B865-20ED68F4AE31" class="sect4"><span class="enumeration_section">1.14.3</span>多字节字符集以及导出和导入</h4>
                  <div>
                     <p>在字符集转换期间，导出文件中导入数据库字符集中没有等效项的任何字符都将替换为默认字符。导入数据库字符集定义默认字符。</p>
                     <p>如果导入系统在转换DDL时必须使用替换字符，则会显示警告消息，系统会尝试加载已转换的DDL。</p>
                     <p>如果导入系统在转换用户数据时必须使用替换字符，则默认行为是加载转换后的数据。但是，可以指示导入系统拒绝使用替换字符转换的用户数据行。有关详细信息，请参阅导入<code class="codeph">DATA OPTIONS</code>参数。
                     </p>
                     <p>为了保证100％转换，导入数据库字符集必须是用于生成导出文件的字符集的超集（或等效）。</p>
                     <div class="infoboxnote" id="GUID-5F23F5CF-82F0-4254-B865-20ED68F4AE31__GUID-47BCA3F7-50F1-444B-BEDE-CFABB6000811">
                        <p class="notep1">警告：</p>
                        <p>当导出系统的数据库字符集与导入系统的数据库字符集不同时，导入系统会在作业开始时显示信息性消息，以显示数据库字符集的内容。</p>
                        <p>如果导入数据库字符集不是用于生成导出文件的字符集的超集，则导入系统会显示一条警告，指出由于字符集转换可能会丢失数据。</p>
                     </div>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="datapump-import-utility.html#GUID-5FFA128D-B7F5-41D0-A72C-EB2CE384765D">DATA_OPTIONS</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="oracle-data-pump-overview.html#GUID-72F01BF0-61F5-4775-8C7B-4E227F244866" title="数据泵导出和导入的全球化支持行为。">字符集和全球化支持注意事项</a></p>
                        </div>
                     </div>
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-B1A6BBA2-0269-48CC-8A0E-8E3955A231C0" name="GUID-B1A6BBA2-0269-48CC-8A0E-8E3955A231C0"></a><h3 id="SUTIL-GUID-B1A6BBA2-0269-48CC-8A0E-8E3955A231C0" class="sect3"><span class="enumeration_section">1.15</span>具有数据绑定排序规则的Oracle数据泵行为</h3>
               <div>
                  <p>Oracle Data Pump支持数据绑定归类（DBC）。</p>
                  <div class="p">Data Pump Export始终将所有可用的归类元数据包含到创建的转储文件中。这包括：<ul style="list-style-type:disc">
                        <li>
                           <p>导出的用户模式的当前默认排序规则</p>
                        </li>
                        <li>
                           <p>导出的表，视图，物化视图和PL / SQL单元（包括用户定义的类型）的当前默认排序规则</p>
                        </li>
                        <li>
                           <p>声明了所有表和集群字符数据类型列的归类</p>
                        </li>
                     </ul>
                  </div>
                  <p>导入从Oracle Database 12 <span class="italic">c</span> Release 2（12.2）数据库导出的转储文件时，Data Pump Import的行为取决于导入时Data Pump <code class="codeph">VERSION</code>参数的有效值以及数据绑定排序规则（DBC）功能已在目标数据库中启用。<code class="codeph">VERSION</code>参数的有效值由其指定方式决定。参数可以指定如下：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><code class="codeph">VERSION= <span class="codeinlineitalic">n</span></code> ，表示有效值是特定版本号<code class="codeph"><span class="codeinlineitalic">n</span></code> ，例如， <code class="codeph">VERSION=12.2</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">VERSION=LATEST</code> ，表示有效值是当前正在运行的数据库版本</p>
                     </li>
                     <li>
                        <p><code class="codeph">VERSION=COMPATIBLE</code> ，表示有效值与数据库初始化参数<code class="codeph">COMPATIBLE</code>的值相同。如果没有为<code class="codeph">VERSION</code>指定值，也是如此。</p>
                     </li>
                  </ul>
                  <p>要在数据库中启用DBC功能，必须将初始化参数<code class="codeph">COMPATIBLE</code>设置为12.2或更高，并且必须将初始化参数<code class="codeph">MAX_STRING_SIZE</code>设置为<code class="codeph">EXTENDED</code> 。</p>
                  <p>如果Data Pump Import <code class="codeph">VERSION</code>参数的有效值为12.2且在目标数据库中启用了DBC，则Data Pump Import将生成DDL语句，其中collation子句引用转储文件中的collation元数据。使用源数据库中的原始排序规则元数据创建导出的对象。
                  </p>
                  <p>如果禁用DBC或将数据泵导入<code class="codeph">VERSION</code>参数设置为低于12.2的值，则不会生成排序规则语法。
                  </p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="oracle-data-pump-overview.html#GUID-17FAE261-0972-4220-A2E4-44D479F519D4" title="Oracle Data Pump技术可以将数据和元数据从一个数据库高速移动到另一个数据库。">Oracle Data Pump概述</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html>