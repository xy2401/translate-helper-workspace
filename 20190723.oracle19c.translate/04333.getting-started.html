<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>入门</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="SQLJ Developer&#39;s Guide "></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="SQLJ Developer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="sqlj-developers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-11T08:20:03-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1999, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96458-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="changes-this-release-oracle-sqlj-developers-guide.html" title="Previous" type="text/html"></link>
      <link rel="next" href="intro-to-SQLJ.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="SQLJ Developer&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="JSQLJ"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="changes-this-release-oracle-sqlj-developers-guide.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="intro-to-SQLJ.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">SQLJ开发人员指南</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">入门</li>
            </ol>
            <a id="GUID-B85E73E1-E3B4-45DA-A07A-40678F164AAE" name="GUID-B85E73E1-E3B4-45DA-A07A-40678F164AAE"></a><a id="JSQLJ111"></a>
            
            <h2 id="JSQLJ-GUID-B85E73E1-E3B4-45DA-A07A-40678F164AAE" class="sect2"><span class="enumeration_chapter">2</span>入门</h2>
         </header>
         <div class="ind">
            <div>
               <p>本章将指导您完成测试Oracle SQLJ安装和配置以及运行简单应用程序的基础知识。</p>
               <p>本章讨论以下主题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="getting-started.html#GUID-0040091C-31D7-4D14-B098-A589AB7EDFB3">假设和要求</a></p>
                  </li>
                  <li>
                     <p><a href="getting-started.html#GUID-C31603B9-46A5-4AF6-B7A1-53942EDC8760">检查安装和配置</a></p>
                  </li>
                  <li>
                     <p><a href="getting-started.html#GUID-FE224725-2852-4A60-8F80-08515E040C1A">测试安装程序</a></p>
                  </li>
               </ul>
            </div><a id="JSQLJ112"></a><div class="props_rev_3"><a id="GUID-0040091C-31D7-4D14-B098-A589AB7EDFB3" name="GUID-0040091C-31D7-4D14-B098-A589AB7EDFB3"></a><h3 id="JSQLJ-GUID-0040091C-31D7-4D14-B098-A589AB7EDFB3" class="sect3">假设和要求</h3>
               <div>
                  <p>本节讨论有关您的环境和系统要求的基本假设，以便您可以运行SQLJ，包括以下主题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="getting-started.html#GUID-F3CC2900-4FCF-41BD-881B-DCC80648BD20">关于您的环境的假设</a></p>
                     </li>
                     <li>
                        <p><a href="getting-started.html#GUID-59D43923-4D2A-42FB-8F03-9CF1F3B60C67">使用Oracle SQLJ实现的要求</a></p>
                     </li>
                     <li>
                        <p><a href="getting-started.html#GUID-1F9357A2-0076-4616-8803-A5C10905CE52">SQLJ环境</a></p>
                     </li>
                     <li>
                        <p><a href="getting-started.html#GUID-AFFCA7E2-5E95-4F3B-BD95-4EE182D5DC65">环境考虑因素</a></p>
                     </li>
                     <li>
                        <p><a href="getting-started.html#GUID-4382A912-1BB8-45E6-9864-30D09CC314EC">SQLJ向后兼容性</a></p>
                     </li>
                  </ul>
               </div><a id="JSQLJ113"></a><div class="props_rev_3"><a id="GUID-F3CC2900-4FCF-41BD-881B-DCC80648BD20" name="GUID-F3CC2900-4FCF-41BD-881B-DCC80648BD20"></a><h4 id="JSQLJ-GUID-F3CC2900-4FCF-41BD-881B-DCC80648BD20" class="sect4">关于您的环境的假设</h4>
                  <div>
                     <p>对将运行Oracle SQLJ实现的系统进行以下假设：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>您有一个可在您的系统上运行的标准Java环境。这通常使用Sun Microsystems Java Development Kit（JDK），但Java的其他实现也可以使用。确保您可以运行Java（通常是<code class="codeph">java</code> ）和Java编译器（通常是<code class="codeph">javac</code> ）。
                           </p>
                           <p>要在标准JDK上转换和运行SQLJ应用程序，必须使用JDK 6或JDK 7。您必须使用与SQLJ相同版本的JDBC驱动程序，可以是thin或OCI8驱动程序</p>
                           <div class="infoboxnotealso" id="GUID-F3CC2900-4FCF-41BD-881B-DCC80648BD20__GUID-E9D41623-C4EA-4D42-A317-E47CD2383EBF">
                              <p class="notep1">也可以看看：</p>
                              <p><span class="q">“ <a href="getting-started.html#GUID-1F9357A2-0076-4616-8803-A5C10905CE52">SQLJ环境</a> ”</span></p>
                           </div>
                        </li>
                     </ul>
                     <div class="infoboxnote" id="GUID-F3CC2900-4FCF-41BD-881B-DCC80648BD20__GUID-5897424B-61BB-43D9-82F2-DF3709869937">
                        <p class="notep1">注意：</p>
                        <p>Java运行时环境（JRE）（例如随Oracle Database 12 <span class="italic">c</span>第2版（12.2）一起安装的环境）本身不足以翻译SQLJ程序。然而，JRE <span class="italic">是</span>足以运行已经被翻译和编译SQLJ程序。
                        </p>
                     </div>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>您已经可以在您的环境中运行JDBC应用程序。</p>
                           <div class="infoboxnote" id="GUID-F3CC2900-4FCF-41BD-881B-DCC80648BD20__GUID-38B0D565-392D-42ED-9A9F-18606B4DF64B">
                              <p class="notep1">也可以看看：</p>
                              <p><a href="../jjdbc/introducing-JDBC.html#JJDBC-GUID-D6975767-9F5A-4B30-8910-9298DDD7FEF0" target="_blank"><span><cite>Oracle数据库JDBC开发人员指南</cite></span></a></p>
                           </div>
                        </li>
                     </ul>
                  </div>
               </div><a id="JSQLJ114"></a><div class="props_rev_3"><a id="GUID-59D43923-4D2A-42FB-8F03-9CF1F3B60C67" name="GUID-59D43923-4D2A-42FB-8F03-9CF1F3B60C67"></a><h4 id="JSQLJ-GUID-59D43923-4D2A-42FB-8F03-9CF1F3B60C67" class="sect4">使用Oracle SQLJ实现的要求</h4>
                  <div>
                     <div class="section">
                        <p>使用Oracle SQLJ实现需要以下内容：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>可以使用JDBC驱动程序访问的数据库系统</p>
                           </li>
                           <li>
                              <p>SQLJ转换器的类文件</p>
                              <p>以下文件中提供了与翻译器相关的类：</p>
                              <p><span class="italic"><code class="codeph">ORACLE_HOME</code></span> <code class="codeph">/sqlj/lib/translator.jar</code></p>
                              <div class="infoboxnote" id="GUID-59D43923-4D2A-42FB-8F03-9CF1F3B60C67__GUID-797E74FF-8A08-4BAF-A742-D98CF8ACBEC9">
                                 <p class="notep1">注意：</p>
                                 <p>有关<code class="codeph">translator.jar</code>更多信息<code class="codeph">,</code>请参阅<span class="q">“ <a href="getting-started.html#GUID-44AF7A57-693F-4584-8365-E6234884A467">设置路径和类路径</a> ”</span> 。
                                 </p>
                              </div>
                           </li>
                           <li>
                              <p>SQLJ运行时的类文件。</p>
                              <p><span class="italic"><code class="codeph">ORACLE_HOME</code></span> <code class="codeph">/sqlj/lib/runtime12.jar</code></p>
                              <div class="infoboxnote" id="GUID-59D43923-4D2A-42FB-8F03-9CF1F3B60C67__GUID-839D4B63-050F-419C-A9DB-3F8CE889AA8D">
                                 <p class="notep1">注意：</p>
                                 <p>自Oracle Database <span class="italic">11g</span>第1版以来，不推荐使用<code class="codeph">runtime12ee.jar</code> 。请改用<code class="codeph">runtime12.jar</code> 。
                                 </p>
                              </div>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JSQLJ115"></a><div class="props_rev_3"><a id="GUID-1F9357A2-0076-4616-8803-A5C10905CE52" name="GUID-1F9357A2-0076-4616-8803-A5C10905CE52"></a><h4 id="JSQLJ-GUID-1F9357A2-0076-4616-8803-A5C10905CE52" class="sect4">SQLJ环境</h4>
                  <div>
                     <div class="section">
                        <p>为确保您拥有完全可用的环境，必须考虑环境的几个方面：SQLJ及其代码生成模式，JDBC和JDK。</p>
                        <div class="infoboxnote" id="GUID-1F9357A2-0076-4616-8803-A5C10905CE52__GUID-18C30E49-6122-4B38-BE83-D040A5B3D9FA">
                           <p class="notep1">注意：</p>
                           <p>代码生成由SQLJ <code class="codeph">-codegen</code>选项决定。有关更多信息，请参阅<span class="q">“ <a href="translator-command-line-and-options.html#GUID-51E9826F-8FD9-48CD-9423-9DA8CDC10180">代码生成（-codegen）</a> ”</span> 。
                           </p>
                        </div>
                        <p>以下是Oracle特定代码生成的典型环境设置：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>SQLJ代码生成： <code class="codeph">-codegen=oracle</code> （默认）</p>
                           </li>
                           <li>
                              <p>SQLJ翻译库： <code class="codeph">translator.jar</code></p>
                           </li>
                           <li>
                              <p>SQLJ运行时库： <code class="codeph">runtime12.jar</code></p>
                           </li>
                           <li>
                              <p>JDBC驱动程序：Oracle Database 12 <span class="italic">c</span>第2版（12.2）</p>
                           </li>
                           <li>
                              <p>JDK版本：6或7</p>
                           </li>
                        </ul>
                        <div class="infoboxnote" id="GUID-1F9357A2-0076-4616-8803-A5C10905CE52__GUID-C3246178-5AD7-4C21-AE2C-3864F6FBF0FF">
                           <p class="notep1">注意：</p>
                           <p>如果您针对不同的JDBC版本运行，则针对早期版本进行翻译。</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JSQLJ118"></a><div class="props_rev_3"><a id="GUID-AFFCA7E2-5E95-4F3B-BD95-4EE182D5DC65" name="GUID-AFFCA7E2-5E95-4F3B-BD95-4EE182D5DC65"></a><h4 id="JSQLJ-GUID-AFFCA7E2-5E95-4F3B-BD95-4EE182D5DC65" class="sect4">环境考虑因素</h4>
                  <div>
                     <div class="section">
                        <p>您可以针对JDK版本运行应用程序，该版本至少与您下载代码的版本一样高。</p>
                        <div class="infoboxnote" id="GUID-AFFCA7E2-5E95-4F3B-BD95-4EE182D5DC65__GUID-90DF6DF0-CD34-429B-9D09-362078894F29">
                           <p class="notep1">注意：</p>
                           <p>有关<code class="codeph">translator.jar</code>更多信息<code class="codeph">,</code>请参阅<span class="q">“ <a href="getting-started.html#GUID-44AF7A57-693F-4584-8365-E6234884A467">设置路径和类路径</a> ”</span> 。
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JSQLJ119"></a><div class="props_rev_3"><a id="GUID-4382A912-1BB8-45E6-9864-30D09CC314EC" name="GUID-4382A912-1BB8-45E6-9864-30D09CC314EC"></a><h4 id="JSQLJ-GUID-4382A912-1BB8-45E6-9864-30D09CC314EC" class="sect4">SQLJ向后兼容性</h4>
                  <div>
                     <div class="section">
                        <p>关于Oracle SQLJ实现的向后兼容性，您必须牢记以下几点：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>使用早期版本的SQLJ转换器生成的代码可以继续运行并针对当前运行时库进行编译。但是，这受<span class="q">“ <a href="getting-started.html#GUID-AFFCA7E2-5E95-4F3B-BD95-4EE182D5DC65">环境注意事项</a> ”中</span>讨论的交叉兼容性限制的约束。
                              </p>
                           </li>
                           <li>
                              <p>必须使用<code class="codeph">runtime12.jar</code>库创建并执行特定于Oracle的转换器输出，即使用缺省<code class="codeph">-codegen=oracle</code>设置生成的代码。此外：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>此类代码将在未来的Oracle JDBC和SQLJ实现中执行。</p>
                                 </li>
                                 <li>
                                    <p>但是，此类代码在早期版本的Oracle JDBC驱动程序和Oracle SQLJ运行时期间<span class="italic">不可</span>执行。在这些情况下，您将不得不重新转换代码。
                                    </p>
                                 </li>
                              </ul>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="JSQLJ120"></a><div class="props_rev_3"><a id="GUID-C31603B9-46A5-4AF6-B7A1-53942EDC8760" name="GUID-C31603B9-46A5-4AF6-B7A1-53942EDC8760"></a><h3 id="JSQLJ-GUID-C31603B9-46A5-4AF6-B7A1-53942EDC8760" class="sect3">检查安装和配置</h3>
               <div>
                  <div class="section">
                     <p>在确认满足上述假设和要求后，必须检查SQLJ安装。请注意，对于Oracle Database 12c第2版（12.2），此安装包含SQLJ及其演示应用程序。你必须：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="getting-started.html#GUID-F6E12512-D2B2-4E2E-9FBE-6E30AD3A653E">检查已安装的目录和文件</a></p>
                        </li>
                        <li>
                           <p><a href="getting-started.html#GUID-44AF7A57-693F-4584-8365-E6234884A467">设置路径和类路径</a></p>
                        </li>
                        <li>
                           <p><a href="getting-started.html#GUID-1466CCE7-6871-491A-9A47-E40A3A752830">验证sqljutl包的安装</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div><a id="JSQLJ121"></a><div class="props_rev_3"><a id="GUID-A89026B0-66E3-4824-B54E-2D2458A85F38" name="GUID-A89026B0-66E3-4824-B54E-2D2458A85F38"></a><h4 id="JSQLJ-GUID-A89026B0-66E3-4824-B54E-2D2458A85F38" class="sect4">检查SQLJ和演示应用程序的可用性</h4>
                  <div>
                     <p>对于Oracle Database 12 <span class="italic">c</span>第2版（12.2），SQLJ及其演示应用程序包含在安装中。
                     </p>
                  </div>
               </div><a id="JSQLJ123"></a><a id="JSQLJ124"></a><a id="JSQLJ122"></a><div class="props_rev_3"><a id="GUID-F6E12512-D2B2-4E2E-9FBE-6E30AD3A653E" name="GUID-F6E12512-D2B2-4E2E-9FBE-6E30AD3A653E"></a><h4 id="JSQLJ-GUID-F6E12512-D2B2-4E2E-9FBE-6E30AD3A653E" class="sect4">检查已安装的目录和文件</h4>
                  <div>
                     <div class="section">
                        <p>验证是否已安装以下目录并已填充：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F6E12512-D2B2-4E2E-9FBE-6E30AD3A653E__GUID-7A1E0187-52C4-40B3-9FFC-FADEB992CC5E">JDBC目录</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>有关应在系统上安装的JDBC文件的信息，请参阅<a href="../jjdbc/JDBC-getting-started.html#JJDBC-GUID-356ECF59-F426-4185-9D8D-74C99B83A2F0" target="_blank"><span><cite>Oracle数据库JDBC开发人员指南</cite></span></a> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F6E12512-D2B2-4E2E-9FBE-6E30AD3A653E__GUID-DCA915B2-A129-4306-A6DE-FFBF35CA63C5">SQLJ的目录</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>安装Oracle数据库12 <span class="italic">c</span>第2版（12.2）Java环境包括在<span class="italic"><code class="codeph">ORACLE_HOME</code></span>目录下安装<code class="codeph">sqlj</code>目录。<code class="codeph">sqlj</code>目录包含以下子目录：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">demo</code> （演示应用程序，包括本章中引用的一些）</p>
                           </li>
                           <li>
                              <p><code class="codeph">lib</code> （包含SQLJ类文件的<code class="codeph">.jar</code>文件）</p>
                           </li>
                        </ul>
                        <p>检查是否已创建并填充所有这些目录，尤其是<code class="codeph">lib</code> 。
                        </p>
                        <p><span class="italic"><code class="codeph">ORACLE_HOME</code></span> <code class="codeph">/bin</code>目录包含所有Java产品区域的实用程序，包括SQLJ可执行文件。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JSQLJ125"></a><div class="props_rev_3"><a id="GUID-44AF7A57-693F-4584-8365-E6234884A467" name="GUID-44AF7A57-693F-4584-8365-E6234884A467"></a><h4 id="JSQLJ-GUID-44AF7A57-693F-4584-8365-E6234884A467" class="sect4">设置路径和类路径</h4>
                  <div>
                     <div class="section">
                        <p>确保<code class="codeph">PATH</code>和<code class="codeph">CLASSPATH</code>环境变量具有Oracle SQLJ实现的必要设置。为Oracle SQLJ实现设置<code class="codeph">PATH</code>和<code class="codeph">CLASSPATH</code>环境变量，如下所示：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>设置<code class="codeph">PATH</code></p>
                              <p>要运行调用SQLJ转换<code class="codeph">sqlj</code>脚本，而不必完全指定其路径，请验证<code class="codeph">PATH</code>环境变量是否已更新为包含以下内容：</p><pre class="oac_no_warn" dir="ltr"><span class="italic">ORACLE_HOME</span> / bin</pre><p>对Microsoft Windows使用反斜杠（\）。将<span class="italic"><code class="codeph">ORACLE_HOME</code></span>替换为您的实际Oracle主目录。
                              </p>
                           </li>
                           <li>
                              <p>设置<code class="codeph">CLASSPATH</code></p>
                              <p>更新<code class="codeph">CLASSPATH</code>环境变量以包括当前目录以及以下内容：</p><pre class="oac_no_warn" dir="ltr"><span class="italic">ORACLE_HOME</span> /sqlj/lib/translator.jar</pre><p>对Microsoft Windows使用反斜杠（\）。将<span class="italic"><code class="codeph">ORACLE_HOME</code></span>替换为您的实际Oracle主目录。
                              </p>
                              <p>在<code class="codeph">CLASSPATH</code>包含以下运行时库：</p><pre class="oac_no_warn" dir="ltr"><span class="italic">ORACLE_HOME</span> /sqlj/lib/runtime12.jar</pre><p>此外，您必须在<code class="codeph">CLASSPATH</code>包含以下JDBC JAR文件：</p><pre class="oac_no_warn" dir="ltr">ORACLE_HOME / jdbc / lib / ojdbc6.jar ORACLE_HOME / jdbc / lib / ojdbc7.jar</pre><div class="infoboxnote" id="GUID-44AF7A57-693F-4584-8365-E6234884A467__GUID-86CE0890-9221-4ABC-B313-311FA3D4B581">
                                 <p class="notep1">注意：</p>
                                 <p></p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p>要在JDK 6环境中翻译或运行SQLJ程序，你应该在类路径中有<code class="codeph">ojdbc6.jar</code> ，并且要在JDK 7环境中翻译或运行SQLJ程序，你应该在类路径中有<code class="codeph">ojdbc7.jar</code> 。确保在运行时选择正确的JDBC JAR以连接到Oracle数据库。
                                       </p>
                                    </li>
                                    <li>
                                       <p>如果不添加运行时库，则无法运行SQLJ转换程序。您必须在<code class="codeph">CLASSPATH</code>指定运行时库和转换程序库。</p>
                                       <p>要查看SQLJ是否已正确安装，并查看SQLJ，JDBC和Java的版本信息，请运行以下命令：</p><pre class="oac_no_warn" dir="ltr">％sqlj -version-long</pre></li>
                                 </ul>
                              </div>
                              <div class="infoboxnotealso" id="GUID-44AF7A57-693F-4584-8365-E6234884A467__GUID-518DC242-D299-4DD8-AD23-994C8896002F">
                                 <p class="notep1">也可以看看：</p>
                                 <p><span class="q">“ <a href="getting-started.html#GUID-59D43923-4D2A-42FB-8F03-9CF1F3B60C67">使用Oracle SQLJ实现的要求</a> ”</span></p>
                              </div>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JSQLJ128"></a><div class="props_rev_3"><a id="GUID-1466CCE7-6871-491A-9A47-E40A3A752830" name="GUID-1466CCE7-6871-491A-9A47-E40A3A752830"></a><h4 id="JSQLJ-GUID-1466CCE7-6871-491A-9A47-E40A3A752830" class="sect4">验证sqljutl包的安装</h4>
                  <div>
                     <div class="section">
                        <p>在Oracle数据库实例中联机检查存储过程和函数需要<code class="codeph">sqljutl</code>包。在为支持Java的数据库安装服务器端Java虚拟机（JVM）期间，程序包将自动安装在<code class="codeph">SYS</code>模式下。如果您的数据库未启用Java，则必须手动安装此程序包。
                        </p>
                        <p>如果要验证<code class="codeph">sqljutl</code>的安装， <code class="codeph">sqljutl</code>从SQL * Plus发出以下SQL命令：</p><pre class="oac_no_warn" dir="ltr">描述sys.sqljutl</pre><p>这应该导致包的简要描述。</p>
                        <p>如果您收到一条消息，指出无法找到该软件包，或者您要安装软件包的更新版本，则可以使用SQL * Plus安装它来运行<code class="codeph">sqljutl.sql</code>脚本，该脚本位于：</p><pre class="oac_no_warn" dir="ltr"><span class="italic">ORACLE_HOME</span> /sqlj/lib/sqljutl.sql</pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="JSQLJ129"></a><div class="props_rev_3"><a id="GUID-FE224725-2852-4A60-8F80-08515E040C1A" name="GUID-FE224725-2852-4A60-8F80-08515E040C1A"></a><h3 id="JSQLJ-GUID-FE224725-2852-4A60-8F80-08515E040C1A" class="sect3">测试安装程序</h3>
               <div>
                  <div class="section">
                     <p>您可以使用以下源文件中定义的演示应用程序测试数据库，JDBC和SQLJ设置：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">TestInstallCreateTable.java</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">TestInstallJDBC.java</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">TestInstallSQLJ.sqlj</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">TestInstallSQLJChecker.sqlj</code></p>
                        </li>
                     </ul>
                     <p>还有一个Java属性文件<code class="codeph">connect.properties</code> ，可帮助您设置数据库连接。您必须编辑此文件以设置适当的用户，密码和URL值。
                     </p>
                     <p>这里讨论的演示应用程序随着您在<code class="codeph">demo</code>目录中的SQLJ安装一起提供：</p><pre class="oac_no_warn" dir="ltr"><span class="italic">ORACLE_HOME</span> / sqlj / demo</pre><p>您可能必须编辑一些源文件并根据需要进行翻译和编译。随Oracle SQLJ实现提供的演示应用程序引用Oracle数据库帐户上的表，用户名为<code class="codeph">HR</code> ，密码为<code class="codeph">hr</code> 。大多数Oracle数据库安装都有此帐户。如果需要，您可以将其他值替换为<code class="codeph">HR</code>和<code class="codeph">hr</code> 。
                     </p>
                     <div class="infoboxnote" id="GUID-FE224725-2852-4A60-8F80-08515E040C1A__GUID-C7A77268-F4A5-4264-9633-3A558C465796">
                        <p class="notep1">注意：</p>
                        <p>运行演示应用程序要求<code class="codeph">demo</code>目录是当前目录，并且应在<code class="codeph">CLASSPATH</code>指定当前目录（“ <code class="codeph">.</code> ”）。</p>
                     </div>
                     <p>本节包括以下主题：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="getting-started.html#GUID-896CA936-1CD5-4478-90CD-1E0738E94204">设置运行时连接</a></p>
                        </li>
                        <li>
                           <p><a href="getting-started.html#GUID-CFACAC3C-07C8-4DCD-8EE7-C16874EB551E">创建表以验证数据库</a></p>
                        </li>
                        <li>
                           <p><a href="getting-started.html#GUID-6D4A30E3-BE7A-49D1-92E2-F335EBDB657B">验证JDBC驱动程序</a></p>
                        </li>
                        <li>
                           <p><a href="getting-started.html#GUID-F4310850-CB2F-466A-9014-7AC999A5A111">验证SQLJ转换程序和运行时</a></p>
                        </li>
                        <li>
                           <p><a href="getting-started.html#GUID-9B09EBB7-D901-4E85-BFEF-3693E6FA1107">验证SQLJ转换程序与数据库的连接</a></p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-FE224725-2852-4A60-8F80-08515E040C1A__GUID-8C61CAD5-DABD-4A0F-AF7F-7D435C57B9B6">
                        <p class="notep1">也可以看看：</p>
                        <p><span class="q">“ <a href="getting-started.html#GUID-A89026B0-66E3-4824-B54E-2D2458A85F38">检查SQLJ和演示应用程序的可用性</a> ”</span></p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div><a id="JSQLJ131"></a><a id="JSQLJ130"></a><div class="props_rev_3"><a id="GUID-896CA936-1CD5-4478-90CD-1E0738E94204" name="GUID-896CA936-1CD5-4478-90CD-1E0738E94204"></a><h4 id="JSQLJ-GUID-896CA936-1CD5-4478-90CD-1E0738E94204" class="sect4">设置运行时连接</h4>
                  <div>
                     <div class="section">
                        <p>本节介绍如何更新<code class="codeph">connect.properties</code>文件以配置运行时的Oracle连接。该文件位于<code class="codeph">demo</code>目录中，如下所示：</p>
                        <div class="infoboxnote" id="GUID-896CA936-1CD5-4478-90CD-1E0738E94204__GUID-0DA15CE3-AD32-42AF-BCE2-4BF59882648E">
                           <p class="notep1">注意：</p>
                           <p>在里面<a id="d4542e931" class="indexterm-anchor"></a><a id="d4542e933" class="indexterm-anchor"></a><a id="d4542e935" class="indexterm-anchor"></a> Oracle Database 12 <span class="italic">c</span>第2版（12.2）JD BC实现，不推荐使用SID的数据库URL连接字符串。以下是一个示例，其中<code class="codeph">orcl</code>是SID：</p><pre class="oac_no_warn" dir="ltr">JDBC：预言：瘦：@localhost：5221：ORCL</pre><p>这将产生警告，但不是致命错误。相反，建议您使用数据库服务名称，例如以下示例中的<code class="codeph">myservice</code> ：</p><pre class="oac_no_warn" dir="ltr">JDBC：预言：瘦：@localhost：5221 /为MyService</pre></div><pre class="oac_no_warn" dir="ltr">＃用户应取消注释以下URL之一或添加自己的URL。＃（如果使用Thin，请根据需要进行编辑。）#sqlj.url = jdbc：oracle：thin：@localhost：5221 / myservice #sqlj.url = jdbc：oracle：oci：@＃用户名和密码在这里sqlj.user = HR sqlj.password = hr</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-896CA936-1CD5-4478-90CD-1E0738E94204__GUID-34CE29D0-439C-4B9D-BAA6-DA6559D59E02">连接Oracle JDBC驱动程序</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>在任何新代码中，在Oracle JDBC OCI驱动程序的连接字符串中使用<code class="codeph">oci</code> 。但是，为了向后兼容，仍然接受<code class="codeph">oci8</code> 。因此，您不必更改现有代码。
                        </p>
                        <p>如果您使用的是JDBC Thin驱动程序，则取消注释<code class="codeph">connect.properties</code>的<code class="codeph">thin</code> URL行，并根据您的Oracle连接进行编辑。使用设置JDBC驱动程序时指定的相同URL。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JSQLJ132"></a><div class="props_rev_3"><a id="GUID-CFACAC3C-07C8-4DCD-8EE7-C16874EB551E" name="GUID-CFACAC3C-07C8-4DCD-8EE7-C16874EB551E"></a><h4 id="JSQLJ-GUID-CFACAC3C-07C8-4DCD-8EE7-C16874EB551E" class="sect4">创建表以验证数据库</h4>
                  <div>
                     <div class="section">
                        <p>以下测试假设一个名为<code class="codeph">SALES</code>的表。编译并运行<code class="codeph">TestInstallCreateTable</code> ，如下所示：</p><pre class="oac_no_warn" dir="ltr">％javac TestInstallCreateTable.java％java TestInstallCreateTable</pre><p>如果数据库和JDBC驱动程序正常工作并且在<code class="codeph">connect.properties</code>文件中正确设置了连接，这将为您创建表。
                        </p>
                        <div class="infoboxnote" id="GUID-CFACAC3C-07C8-4DCD-8EE7-C16874EB551E__GUID-BC306B5A-D835-4F17-B6D5-3F7E16D0C648">
                           <p class="notep1">注意：</p>
                           <p>如果您的架构中已经有一个名为<code class="codeph">SALES</code>的表，并且不希望它被更改，请编辑<code class="codeph">TestInstallCreateTable.java</code>以更改表名。否则，您的原始表将被删除并替换。
                           </p>
                        </div>
                        <p>如果您不想使用<code class="codeph">TestInstallCreateTable</code> ，则可以使用以下SQL语句创建<code class="codeph">SALES</code>表：</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE SALES（ITEM_NUMBER NUMBER，ITEM_NAME CHAR（30），SALES_DATE DATE，COST NUMBER，SALES_REP_NUMBER NUMBER，SALES_REP_NAME CHAR（20））;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JSQLJ133"></a><div class="props_rev_3"><a id="GUID-6D4A30E3-BE7A-49D1-92E2-F335EBDB657B" name="GUID-6D4A30E3-BE7A-49D1-92E2-F335EBDB657B"></a><h4 id="JSQLJ-GUID-6D4A30E3-BE7A-49D1-92E2-F335EBDB657B" class="sect4">验证JDBC驱动程序</h4>
                  <div>
                     <div class="section">
                        <p>如果要进一步测试Oracle JDBC驱动程序，请使用<code class="codeph">TestInstallJDBC</code>演示。验证您的连接是否已在<code class="codeph">connect.properties</code>正确设置。然后，编译并运行<code class="codeph">TestInstallJDBC</code> ，如下所示：</p><pre class="oac_no_warn" dir="ltr">％javac TestInstallJDBC.java％java TestInstallJDBC</pre><p>该程序应打印：</p><pre class="oac_no_warn" dir="ltr">你好，JDBC！
</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JSQLJ134"></a><div class="props_rev_3"><a id="GUID-F4310850-CB2F-466A-9014-7AC999A5A111" name="GUID-F4310850-CB2F-466A-9014-7AC999A5A111"></a><h4 id="JSQLJ-GUID-F4310850-CB2F-466A-9014-7AC999A5A111" class="sect4">验证SQLJ转换程序和运行时</h4>
                  <div>
                     <div class="section">
                        <p>现在翻译并运行<code class="codeph">TestInstallSQLJ</code>演示，这是一个SQLJ应用程序，其功能类似于<code class="codeph">TestInstallJDBC</code> 。使用以下命令翻译源：</p><pre class="oac_no_warn" dir="ltr">％sqlj TestInstallSQLJ.sqlj</pre><p>请注意，此命令也会编译应用程序。</p>
                        <p>在UNIX环境中， <code class="codeph">sqlj</code>脚本位于<span class="italic"><code class="codeph">ORACLE_HOME</code></span> <code class="codeph">/bin</code> ，该脚本应该已经在<code class="codeph">PATH</code> 。在Windows上，使用<code class="codeph">bin</code>目录中的<code class="codeph">sqlj.exe</code>可执行文件。SQLJ <code class="codeph">translator.jar</code>文件具有SQLJ转换器和运行时的类文件。它位于<span class="italic"><code class="codeph">ORACLE_HOME</code></span> <code class="codeph">/sqlj/lib</code> ，应该已经在<code class="codeph">CLASSPATH</code> 。</p>
                        <div class="infoboxnotealso" id="GUID-F4310850-CB2F-466A-9014-7AC999A5A111__GUID-C2981EF8-33E2-4D1B-B3DF-C3389156E12A">
                           <p class="notep1">也可以看看：</p>
                           <p><span class="q">“ <a href="getting-started.html#GUID-44AF7A57-693F-4584-8365-E6234884A467">设置路径和类路径</a> ”</span></p>
                        </div>
                        <p>现在运行应用程序如下：</p><pre class="oac_no_warn" dir="ltr">％java TestInstallSQLJ</pre><p>该程序应打印：</p><pre class="oac_no_warn" dir="ltr">你好，SQLJ！</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JSQLJ135"></a><div class="props_rev_3"><a id="GUID-9B09EBB7-D901-4E85-BFEF-3693E6FA1107" name="GUID-9B09EBB7-D901-4E85-BFEF-3693E6FA1107"></a><h4 id="JSQLJ-GUID-9B09EBB7-D901-4E85-BFEF-3693E6FA1107" class="sect4">验证SQLJ转换程序与数据库的连接</h4>
                  <div>
                     <div class="section">
                        <p>如果SQLJ转换器能够连接到数据库，那么它可以在转换期间提供对SQL操作的在线语义检查。SQLJ转换器是用Java编写的，它使用JDBC从您指定的数据库连接中获取所需的信息。您可以使用<code class="codeph">sqlj</code>脚本命令行或使用SQLJ属性文件（默认情况下为<code class="codeph">sqlj.properties</code>提供联机语义检查的连接参数。
                        </p>
                        <p>仍在<code class="codeph">demo</code>目录中时，编辑<code class="codeph">sqlj.properties</code>文件并根据需要更新，注释或取消注释<code class="codeph">sqlj.password</code> ， <code class="codeph">sqlj.url</code>和<code class="codeph">sqlj.driver</code>行，以反映您的数据库连接信息。有关帮助，请参阅<code class="codeph">sqlj.properties</code>文件中的<code class="codeph">sqlj.properties</code> 。
                        </p>
                        <p>以下是使用Oracle JDBC OCI驱动程序时适当的驱动程序，URL和密码设置的示例。</p><pre class="oac_no_warn" dir="ltr">sqlj.url = jdbc：oracle：oci：@sqlj.driver = oracle.jdbc。OracleDriver sqlj.password = hr</pre><p>只要为转换时连接指定用户名，就会启用联机语义检查。您可以通过取消注释<code class="codeph">sqlj.properties</code>文件中的<code class="codeph">sqlj.user</code>行或使用<code class="codeph">-user</code>命令行选项来指定用户名。<code class="codeph">user</code> ， <code class="codeph">password</code> ， <code class="codeph">url</code>和<code class="codeph">driver</code>选项都可以在命令行或属性文件中设置。
                        </p>
                        <div class="infoboxnotealso" id="GUID-9B09EBB7-D901-4E85-BFEF-3693E6FA1107__GUID-91B42005-ED8A-4AD6-8A90-09B93B7C9253">
                           <p class="notep1">也可以看看：</p>
                           <p><span class="q">“ <a href="translator-command-line-and-options.html#GUID-E001FA35-824A-47A1-8973-AA5771B0DFE5">连接选项</a> ”</span></p>
                        </div>
                        <p>您可以通过翻译位于<code class="codeph">demo</code>目录中的<code class="codeph">TestInstallSQLJChecker.sqlj</code>文件来测试在线语义检查，如下所示（或者使用其他用户名，如果适用）：</p><pre class="oac_no_warn" dir="ltr">％sqlj -user = HR TestInstallSQLJChecker.sqlj</pre><p>如果您使用的是其中一个Oracle JDBC驱动程序，则应该产生以下错误消息：</p><pre class="oac_no_warn" dir="ltr">TestInstallSQLJChecker.sqlj：41：警告：无法检查SQL查询。数据库返回的错误是：ORA-00904：列名无效</pre><p>编辑<code class="codeph">TestInstallSQLJChecker.sqlj</code>以修复第41行的错误。列名称应为<code class="codeph">ITEM_NAME</code>而不是<code class="codeph">ITEM_NAMAE</code> 。进行此更改后，您可以使用以下命令无错误地翻译和运行应用程序：</p><pre class="oac_no_warn" dir="ltr">％sqlj -user = HR TestInstallSQLJChecker.sqlj％java TestInstallSQLJChecker</pre><p>如果一切正常，则显示以下行：</p><pre class="oac_no_warn" dir="ltr">你好，SQLJ Checker！
</pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>