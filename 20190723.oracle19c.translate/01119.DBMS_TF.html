<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="The DBMS_TF package contains utilities for Polymorphic Table Functions (PTF) implementation. You can use DBMS_TF subprograms to consume and produce data, and get information about its execution environment."></meta>
      <meta name="description" content="The DBMS_TF package contains utilities for Polymorphic Table Functions (PTF) implementation. You can use DBMS_TF subprograms to consume and produce data, and get information about its execution environment."></meta>
      <title>DBMS_TF</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="PL/SQL Packages and Types Reference"></meta>
      <meta property="og:description" content="The DBMS_TF package contains utilities for Polymorphic Table Functions (PTF) implementation. You can use DBMS_TF subprograms to consume and produce data, and get information about its execution environment."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="PL/SQL Packages and Types Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-pl-sql-packages-and-types-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-03-25T11:24:34-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96430-03"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="DBMS_TDB.html" title="Previous" type="text/html"></link>
      <link rel="next" href="DBMS_TNS.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database PL/SQL Packages and Types Reference"></meta>
    <meta name="dcterms.isVersionOf" content="ARPLS"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="DBMS_TDB.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="DBMS_TNS.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">PL / SQL包和类型参考</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">DBMS_TF</li>
            </ol>
            <a id="GUID-E8D0433C-7442-4909-87EF-217ECB278312" name="GUID-E8D0433C-7442-4909-87EF-217ECB278312"></a>
            
            <h2 id="ARPLS-GUID-E8D0433C-7442-4909-87EF-217ECB278312" class="sect2"><span class="enumeration_chapter">169</span> DBMS_TF</h2>
         </header>
         <div class="ind">
            <div>
               <p>DBMS_TF包中包含多态表函数（PTF）实现的实用程序。您可以使用DBMS_TF子程序来使用和生成数据，并获取有关其执行环境的信息。</p>
               <div class="section">
                  <p>您必须熟悉多态表函数（PTF）概念，语法和语义。</p>
                  <div class="infoboxnotealso" id="GUID-E8D0433C-7442-4909-87EF-217ECB278312__GUID-08313201-00DA-4190-A119-32B790A035FC">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="../lnpls/plsql-optimization-and-tuning.html#LNPLS-GUID-981102A8-5204-4931-B10A-93486304B184" target="_blank"><span class="italic">Oracle Database PL / SQL语言参考</span></a> ，概述了多态表函数（PTF）概念</p>
                        </li>
                        <li>
                           <p>有关<code class="codeph">CREATE</code> <code class="codeph">FUNCTION</code> <code class="codeph">PIPELINED</code>子句语法和语义的更多信息，请<a href="../lnpls/PIPELINED-clause.html#LNPLS-GUID-FA182210-C68D-4E03-85B9-A6C681099705" target="_blank"><span class="italic">参见Oracle Database PL / SQL语言参考</span></a></p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p>本章包含以下主题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="DBMS_TF.html#GUID-A0AE8010-FB2C-4AE2-892B-1357FFBC649B" title="DBMS_TF包中包含多态表函数（PTF）可以使用的类型，常量和子程序。">DBMS_TF概述</a></p>
                     </li>
                     <li>
                        <p><a href="DBMS_TF.html#GUID-218FB90B-605E-4E70-B359-519ABA786F63">DBMS_TF安全模型</a></p>
                     </li>
                     <li>
                        <p><a href="DBMS_TF.html#GUID-92C604B3-D0F9-4306-AD2D-48CA202B3C05" title="本主题描述了DBMS_TF包中定义的有用常量。">DBMS_TF常量</a></p>
                     </li>
                     <li>
                        <p><a href="DBMS_TF.html#GUID-F4FF6B9F-9438-4E40-8EEC-1E98E936166C" title="这些操作说明描述了客户端和服务器端接口，并详细说明了多态表函数（PTF）的编译和执行语句管理。">DBMS_TF操作说明</a></p>
                     </li>
                     <li>
                        <p><a href="DBMS_TF.html#GUID-6751290C-C9F7-40B7-AF6D-A108AB482E45" title="调用多态表函数（PTF）的查询执行遵循此执行模型和数据传输流程。">DBMS_TF执行流程</a></p>
                     </li>
                     <li>
                        <p><a href="DBMS_TF.html#GUID-B21F7DDF-A9EC-4CAE-AC98-84983B6FCFCD" title="这些限制适用于多态表函数（PTF）和使用DBMS_TF包。">DBMS_TF限制</a></p>
                     </li>
                     <li>
                        <p><a href="DBMS_TF.html#GUID-2D97C0CD-6AD9-4F86-86E6-C806D688C57A" title="这些示例使用DBMS_TF子程序。">DBMS_TF示例</a></p>
                     </li>
                     <li>
                        <p><a href="DBMS_TF.html#GUID-E67D4F4B-1FA5-4A9C-8F1D-83EB4A2A6DC2" title="DBMS_TF包定义了这些RECORD类型，TABLE类型和子类型。">DBMS_TF数据结构</a></p>
                     </li>
                     <li>
                        <p><a href="DBMS_TF.html#GUID-D03D40B2-1D30-4292-938D-8E668C00EBE9" title="本摘要简要介绍了DBMS_TF包子程序。">DBMS_TF子程序摘要</a></p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
            </div>
            <div class="sect2"><a id="GUID-A0AE8010-FB2C-4AE2-892B-1357FFBC649B" name="GUID-A0AE8010-FB2C-4AE2-892B-1357FFBC649B"></a><h3 id="ARPLS-GUID-A0AE8010-FB2C-4AE2-892B-1357FFBC649B" class="sect3"><span class="enumeration_section">169.1</span> DBMS_TF概述</h3>
               <div>
                  <p>DBMS_TF包中包含多态表函数（PTF）可以使用的类型，常量和子程序。</p>
                  <div class="section">
                     <p>多态表函数（PTF）需要来自数据库的各种服务来实现其功能。例如，PTF需要一种机制来从数据库中获取行并发回新行。DBMS_TF包提供这些服务器和客户端接口实用程序。</p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-218FB90B-605E-4E70-B359-519ABA786F63" name="GUID-218FB90B-605E-4E70-B359-519ABA786F63"></a><h3 id="ARPLS-GUID-218FB90B-605E-4E70-B359-519ABA786F63" class="sect3"><span class="enumeration_section">169.2</span> DBMS_TF安全模型</h3>
               <div>
                  <div class="section">
                     <p>PUBLIC被授予包DBMS_TF的EXECUTE特权。它的子程序以调用者的权限特权执行。</p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-92C604B3-D0F9-4306-AD2D-48CA202B3C05" name="GUID-92C604B3-D0F9-4306-AD2D-48CA202B3C05"></a><h3 id="ARPLS-GUID-92C604B3-D0F9-4306-AD2D-48CA202B3C05" class="sect3"><span class="enumeration_section">169.3</span> DBMS_TF常量</h3>
               <div>
                  <p>本主题描述了DBMS_TF包中定义的有用常量。</p>
                  <div class="section">
                     <p><code class="codeph">DBMS_TF</code>包定义了几个枚举常量，这些常量应该用于指定参数值或类型。枚举常量必须以包名称为前缀，例如<code class="codeph">DBMS_TF</code> 。 <code class="codeph">TYPE_DATE</code> 。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <div class="tblformal" id="GUID-92C604B3-D0F9-4306-AD2D-48CA202B3C05__DBMS_TFSUPPORTEDTYPES-3ACFD083">
                        <p class="titleintable">表169-1 DBMS_TF支持的类型</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_TF支持的类型" border="1" summary="This table describes supported types for DBMS_TF GET_COL and PUT_COL subprograms." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" id="d1047042e480">名称</th>
                                 <th align="left" valign="bottom" id="d1047042e483">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d1047042e488" headers="d1047042e480 "><code class="codeph">TYPE_BINARY_DOUBLE</code></td>
                                 <td align="left" valign="top" headers="d1047042e488 d1047042e483 ">
                                    <p>键入<code class="codeph">BINARY_DOUBLE</code>代码</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d1047042e497" headers="d1047042e480 "><code class="codeph">TYPE_BINARY_FLOAT</code></td>
                                 <td align="left" valign="top" headers="d1047042e497 d1047042e483 ">
                                    <p>键入<code class="codeph">BINARY_FLOAT</code>代码</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d1047042e506" headers="d1047042e480 "><code class="codeph">TYPE_BLOB</code></td>
                                 <td align="left" valign="top" headers="d1047042e506 d1047042e483 ">
                                    <p>输入<code class="codeph">BLOB</code>代码</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d1047042e515" headers="d1047042e480 "><code class="codeph">TYPE_CHAR</code></td>
                                 <td align="left" valign="top" headers="d1047042e515 d1047042e483 ">
                                    <p>输入<code class="codeph">CHAR</code>代码</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d1047042e524" headers="d1047042e480 "><code class="codeph">TYPE_CLOB</code></td>
                                 <td align="left" valign="top" headers="d1047042e524 d1047042e483 ">
                                    <p>输入<code class="codeph">CLOB</code>代码</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d1047042e533" headers="d1047042e480 "><code class="codeph">TYPE_DATE</code></td>
                                 <td align="left" valign="top" headers="d1047042e533 d1047042e483 ">
                                    <p>输入<code class="codeph">DATE</code>代码</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d1047042e542" headers="d1047042e480 "><code class="codeph">TYPE_INTERVAL_DS</code></td>
                                 <td align="left" valign="top" headers="d1047042e542 d1047042e483 ">
                                    <p>输入<code class="codeph">INTERVAL_DS</code>代码</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d1047042e551" headers="d1047042e480 "><code class="codeph">TYPE_INTERVAL_YM</code></td>
                                 <td align="left" valign="top" headers="d1047042e551 d1047042e483 ">
                                    <p>输入<code class="codeph">INTERVAL_YM</code>代码</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d1047042e560" headers="d1047042e480 "><code class="codeph">TYPE_NUMBER</code></td>
                                 <td align="left" valign="top" headers="d1047042e560 d1047042e483 ">
                                    <p>键入<code class="codeph">NUMBER</code>代码</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d1047042e569" headers="d1047042e480 "><code class="codeph">TYPE_ROWID</code></td>
                                 <td align="left" valign="top" headers="d1047042e569 d1047042e483 ">
                                    <p>输入<code class="codeph">ROWID</code>代码</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d1047042e578" headers="d1047042e480 "><code class="codeph">TYPE_RAW</code></td>
                                 <td align="left" valign="top" headers="d1047042e578 d1047042e483 ">
                                    <p>输入<code class="codeph">RAW</code>代码</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d1047042e588" headers="d1047042e480 "><code class="codeph">TYPE_TIMESTAMP</code></td>
                                 <td align="left" valign="top" headers="d1047042e588 d1047042e483 ">
                                    <p>输入<code class="codeph">TIMESTAMP</code>代码</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d1047042e597" headers="d1047042e480 "><code class="codeph">TYPE_TIMESTAMP_TZ</code></td>
                                 <td align="left" valign="top" headers="d1047042e597 d1047042e483 ">
                                    <p>输入<code class="codeph">TIMESTAMP_TZ</code>代码</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d1047042e606" headers="d1047042e480 "><code class="codeph">TYPE_VARCHAR2</code></td>
                                 <td align="left" valign="top" headers="d1047042e606 d1047042e483 ">
                                    <p>输入<code class="codeph">VARCHAR2</code>代码</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>定义附加常量以用于特定子程序。</p>
                     <div class="p">
                        <div class="infoboxnotealso" id="GUID-92C604B3-D0F9-4306-AD2D-48CA202B3C05__GUID-BC900143-8637-4BFF-9C24-06F37D6CEB66">
                           <p class="notep1">也可以看看：</p>
                           <div class="p">
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><a href="DBMS_TF.html#GUID-375CF300-0C4D-4EBD-8DC1-ACDB98B1BCBB__DBMS_TFCSTOREPREDEFINEDTYPES-24C5B880" title="此表描述了与CSTORE子程序一起使用的预定义标量支持的类型。">表169-3</a>约CSTORE相关常量的更多信息</p>
                                 </li>
                                 <li>
                                    <p>有关预定义PTF方法名称的更多信息，请<a href="DBMS_TF.html#GUID-375CF300-0C4D-4EBD-8DC1-ACDB98B1BCBB__GUID-00B790A0-060E-423D-BF54-CE04D79689B8" title="此表描述了DBMS_TF子程序默认使用的方法名称。">参见表169-4</a></p>
                                 </li>
                                 <li>
                                    <p><a href="DBMS_TF.html#GUID-44B1E12B-F063-492E-A878-293327A5ACEB__GUID-425E9AF1-350A-46AC-B146-A5F179744BA4" title="此表描述了与XSTORE子程序一起使用的预定义标量支持的类型。">表169-6</a>约XSTORE相关常量的更多信息</p>
                                 </li>
                                 <li>
                                    <p><a href="DBMS_TF.html#GUID-DB56A9B9-15A9-450C-BAFB-28BF4089AED3" title="每种受支持的类型都定义了相应的预定义集合">支持的类型集合</a> ，以获取有关受支持类型的预定义集合的更多信</p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-F4FF6B9F-9438-4E40-8EEC-1E98E936166C" name="GUID-F4FF6B9F-9438-4E40-8EEC-1E98E936166C"></a><h3 id="ARPLS-GUID-F4FF6B9F-9438-4E40-8EEC-1E98E936166C" class="sect3"><span class="enumeration_section">169.4</span> DBMS_TF操作说明</h3>
               <div>
                  <p>这些操作说明描述了客户端和服务器端接口，并详细说明了多态表函数（PTF）的编译和执行语句管理。</p>
                  <div class="section"></div>
                  <!-- class="section" -->
               </div>
               <div class="sect3"><a id="GUID-47E8026F-B66B-4F8D-A2E2-D4324AAB2CED" name="GUID-47E8026F-B66B-4F8D-A2E2-D4324AAB2CED"></a><h4 id="ARPLS-GUID-47E8026F-B66B-4F8D-A2E2-D4324AAB2CED" class="sect4"><span class="enumeration_section">169.4.1</span> PTF客户端接口</h4>
                  <div>
                     <p>多态表函数（PTF）实现客户端接口是一组具有固定名称的子程序，每个PTF必须提供这些子程序。</p>
                     <p>PTF客户端界面最多可以包含四个子程序，如下所示：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">DESCRIBE</code>功能（必填）</p>
                        </li>
                        <li>
                           <p><code class="codeph">OPEN</code>程序（可选）</p>
                        </li>
                        <li>
                           <p><code class="codeph">FETCH_ROWS</code>过程（可选）</p>
                        </li>
                        <li>
                           <p><code class="codeph">CLOSE</code>程序（可选）</p>
                        </li>
                     </ul>
                     <p>在SQL游标编译期间调用函数<code class="codeph">DESCRIBE</code> 。
                     </p>
                     <p>在查询执行期间调用过程<code class="codeph">OPEN</code> ， <code class="codeph">FETCH_ROWS</code>和<code class="codeph">CLOSE</code> 。
                     </p>
                     <p>实现函数的参数必须与PTF函数匹配，并进行以下修改：</p>
                     <ol>
                        <li>
                           <p>对于执行过程<code class="codeph">OPEN</code> ， <code class="codeph">FETCH_ROWS</code>和<code class="codeph">CLOSE</code> ，将跳过类型<code class="codeph">TABLE</code>和<code class="codeph">COLUMNS</code>参数。</p>
                        </li>
                        <li>
                           <p><code class="codeph">TABLE</code>和<code class="codeph">COLUMNS</code>参数具有<code class="codeph">DESCRIBE</code>函数的<code class="codeph">DESCRIBE</code>符类型。
                           </p>
                        </li>
                        <li>
                           <p>编译期间不可用的标量参数将作为NULL值传递（例如，使用绑定变量时）。在执行期间，传入实际值。</p>
                        </li>
                     </ol>
                     <div class="section" id="GUID-47E8026F-B66B-4F8D-A2E2-D4324AAB2CED__DESCRIBE-23372474">
                        <p class="subhead3" id="GUID-47E8026F-B66B-4F8D-A2E2-D4324AAB2CED__GUID-CCF9EAF3-2226-4234-8686-C97F47B82201">DESCRIBE功能</p>
                        <p>调用<code class="codeph">DESCRIBE</code>函数以确定由多态表函数（PTF）生成的行的类型（行形状）。它返回一个<code class="codeph">DBMS_TF.DESCRIBE_T</code>表。
                        </p>
                        <p>当SQL查询引用PTF时，在SQL游标编译期间调用函数<code class="codeph">DESCRIBE</code> 。 SQL编译器定位PTF实现包中定义的<code class="codeph">DESCRIBE</code>函数。调用PTF的查询中的所有参数值都传递给<code class="codeph">DESCRIBE</code>函数。与任何PLSQL函数一样， <code class="codeph">DESCRIBE</code>函数可以重载并且可以具有参数默认值。
                        </p>
                        <p>PTF函数和<code class="codeph">DESCRIBE</code>函数的参数必须匹配，但任何<code class="codeph">TABLE</code>参数的类型都替换为<code class="codeph">DBMS_TF.TABLE_T</code>描述符类型，并且任何<code class="codeph">COLUMNS</code>参数的类型都替换为<code class="codeph">DBMS_TF.COLUMN_T</code>描述符。
                        </p>
                        <p><code class="codeph">DESCRIBE</code>函数指示数据库必须保留哪些列，并作为PTF输出（Pass-Through列）传递不变。此外， <code class="codeph">DESCRIBE</code>函数指示PTF将用于其计算的任何输入列（读取列）。
                        </p>
                        <p>最后， <code class="codeph">DESCRIBE</code>函数返回使用<code class="codeph">DBMS_TF.DESCRIBE_T</code>描述符的PTF将创建的任何新列的列表（如果没有生成新列，则返回<code class="codeph">NULL</code> ）。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-47E8026F-B66B-4F8D-A2E2-D4324AAB2CED__OPEN-23372763">
                        <p class="subhead3" id="GUID-47E8026F-B66B-4F8D-A2E2-D4324AAB2CED__GUID-F5A352B6-361C-40BD-8AFA-FC676E583B12">开放程序</p>
                        <p><code class="codeph">OPEN</code>过程的目的是初始化和分配任何特定于执行的状态。实现表语义PTF时， <code class="codeph">OPEN</code>过程最有用。该函数通常调用<code class="codeph">GET_XID</code>函数来获取用于管理执行状态的唯一ID。
                        </p>
                        <p>通常在调用<code class="codeph">FETCH_ROWS</code>过程之前调用<code class="codeph">OPEN</code>过程。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-47E8026F-B66B-4F8D-A2E2-D4324AAB2CED__FETCH_ROWS-23372A3A">
                        <p class="subhead3" id="GUID-47E8026F-B66B-4F8D-A2E2-D4324AAB2CED__GUID-90C2A1B8-444D-4705-B0BC-5D94633AF5F1">FETCH_ROWS过程</p>
                        <p><code class="codeph">FETCH_ROWS</code>过程生成它发送到数据库的输出行集。此函数的调用次数和每个行集的大小取决于数据，并在查询执行期间确定。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-47E8026F-B66B-4F8D-A2E2-D4324AAB2CED__CLOSE-23372C4B">
                        <p class="subhead3" id="GUID-47E8026F-B66B-4F8D-A2E2-D4324AAB2CED__GUID-1FA481E5-0271-4C30-BF68-341614D78A96">关闭程序</p>
                        <p>在PTF执行结束时调用<code class="codeph">CLOSE</code>过程。该过程释放与PTF执行状态相关的资源。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-47E8026F-B66B-4F8D-A2E2-D4324AAB2CED__NOOPPOLYMORPHICTABLEFUNCTION-35241E9E">
                        <p class="titleinexample">例169-1 Noop多态表功能示例</p>
                        <p>此示例创建一个名为noop的PTF。此PTF将输入行作为输出行返回，而不进行任何修改或过滤。Noop是您可以编写的最小的PTF之一。</p>
                        <div class="infoboxnote" id="GUID-47E8026F-B66B-4F8D-A2E2-D4324AAB2CED__GUID-48B486B6-0819-49A1-B51F-576E6BC41C6E">
                           <p class="notep1">实时SQL：</p>
                           <p>您可以在<a href="https://livesql.oracle.com/apex/livesql/docs/arpls/ptf/ptfnoop.html" target="_blank">Noop Polymorphic Table Function</a>上的Oracle Live SQL上查看和运行此示例</p>
                        </div>
                        <p>要实现noop PTF，首先要创建实现包noop_package。</p><pre class="pre codeblock"><code>CREATE PACKAGE noop_package AS功能描述（t IN OUT DBMS_TF.TABLE_T）RETURN DBMS_TF.DESCRIBE_T;程序fetch_rows;结束noop_package;</code></pre><p><code class="codeph">DESCRIBE</code>函数不会生成任何新列，因此返回<code class="codeph">NULL</code> 。执行<code class="codeph">FETCH_ROWS</code>也会导致<code class="codeph">NULL</code> 。</p><pre class="pre codeblock"><code>CREATE PACKAGE BODY noop_package AS FUNCTION describe（t IN OUT DBMS_TF.TABLE_T）RETURN DBMS_TF.DESCRIBE_T AS BEGIN RETURN NULL;结束;程序fetch_rows AS BEGIN RETURN;结束;结束noop_package;</code></pre><p>noop PTF被定义为在调用noop_package时执行。</p><pre class="pre codeblock"><code>创建功能noop（t TABLE）返回表使用noop_package管道行多形式;</code></pre><p>可以在查询中调用PTF。例如：</p><pre class="pre codeblock"><code>SELECT * FROM NOOP（emp）WHERE deptno = 10;</code></pre><pre class="oac_no_warn" dir="ltr">7782 CLARK MANAGER 7839 09-JUN-81 2450 10 7839 KING PRESIDENT 17-NOV-81 5000 10 7934 MILLER CLERK 7782 23-JAN-82 1300 10</pre><pre class="pre codeblock"><code>with e AS（SELECT * FROM emp NATURAL JOIN dept WHERE dname ='SALES'）SELECT t。*来自NOOP（e）t;</code></pre><pre class="oac_no_warn" dir="ltr">30 7499 ALLEN SALESMAN 7698 20-FEB-81 1600 300销售芝加哥30 7521 WARD SALESMAN 7698 22-FEB-81 1250 500销售芝加哥30 7654 MARTIN SALESMAN 7698 28-SEP-81 1250 1400销售芝加哥30 7698 BLAKE MANAGER 7839 01-MAY -81 2850销售芝加哥30 7844 TURNER SALESMAN 7698 08-SEP-81 1500 0销售芝加哥30 7900 JAMES CLERK 7698 03-DEC-81 950销售芝加哥</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div class="sect4"><a id="GUID-6E589F68-6693-42A1-8766-61AF1476DE1C" name="GUID-6E589F68-6693-42A1-8766-61AF1476DE1C"></a><h5 id="ARPLS-GUID-6E589F68-6693-42A1-8766-61AF1476DE1C" class="sect5"><span class="enumeration_section">169.4.1.1</span>仅描述多态表功能</h5>
                     <div>
                        <p>多态表函数（PTF）只能具有DESCRIBE函数。</p>
                        <div class="section">
                           <p>没有任何运行时方法的PTF（Open / Fetch_Rows / Close）仅在游标编译时使用，不分配运行时行源。Describe-Only PTF的解释计划输出不会显示PTF的任何行。</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-49232E37-8EFE-4440-A2CC-3E61F7153935" name="GUID-49232E37-8EFE-4440-A2CC-3E61F7153935"></a><h4 id="ARPLS-GUID-49232E37-8EFE-4440-A2CC-3E61F7153935" class="sect4"><span class="enumeration_section">169.4.2</span> PTF服务器端接口</h4>
                  <div>
                     <p><code class="codeph">DBMS_TF</code>包提供多态表函数（PTF）实现所需的服务器端接口，以读取和写入数据库中的信息。
                     </p>
                     <p>本主题包含用于PTF服务器端实现的部分类型和子程序列表。</p>
                     <div class="tblformal" id="GUID-49232E37-8EFE-4440-A2CC-3E61F7153935__GUID-9BC8ACDE-172B-4FFA-819D-BAD048F51DF2">
                        <p class="titleintable">表169-2 PTF服务器端接口中常用类型和子程序的摘要</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="PTF服务器端接口常用类型和子程序的总结" border="1" summary="This table provides the list of DBMS_TF types and subprograms commonly used in PTF server side interface and gives a description of each." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="20%" id="d1047042e1241">名称</th>
                                 <th align="left" valign="bottom" width="20%" id="d1047042e1244">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d1047042e1249" headers="d1047042e1241 "><code class="codeph">COLUMN_METADATA_T</code></td>
                                 <td align="left" valign="top" width="20%" headers="d1047042e1249 d1047042e1244 ">列元数据记录</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d1047042e1255" headers="d1047042e1241 "><code class="codeph">COLUMN_T</code></td>
                                 <td align="left" valign="top" width="20%" headers="d1047042e1255 d1047042e1244 ">列描述符记录</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d1047042e1261" headers="d1047042e1241 "><code class="codeph">片剂</code></td>
                                 <td align="left" valign="top" width="20%" headers="d1047042e1261 d1047042e1244 ">表描述符记录</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d1047042e1267" headers="d1047042e1241 "><code class="codeph">COLUMNS_T</code></td>
                                 <td align="left" valign="top" width="20%" headers="d1047042e1267 d1047042e1244 ">包含列名的集合</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d1047042e1273" headers="d1047042e1241 "><code class="codeph">COLUMNS_NEW_T</code></td>
                                 <td align="left" valign="top" width="20%" headers="d1047042e1273 d1047042e1244 ">新列的集合</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d1047042e1279" headers="d1047042e1241 "><code class="codeph">TAB_ &lt;典型值&gt; _T</code></td>
                                 <td align="left" valign="top" width="20%" headers="d1047042e1279 d1047042e1244 ">每种受支持类型的集合，其中&lt;typ&gt;在<span class="q">“ <a href="DBMS_TF.html#GUID-DB56A9B9-15A9-450C-BAFB-28BF4089AED3" title="每种受支持的类型都定义了相应的预定义集合">支持的类型集合</a> ”中描述</span></td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d1047042e1292" headers="d1047042e1241 "><code class="codeph">ROW_SET_T</code> 
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d1047042e1292 d1047042e1244 ">行集记录的数据</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d1047042e1299" headers="d1047042e1241 "><code class="codeph">GET_COL</code>程序</td>
                                 <td align="left" valign="top" width="20%" headers="d1047042e1299 d1047042e1244 ">获取指定（输入）列的数据</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d1047042e1306" headers="d1047042e1241 "><code class="codeph">PUT_COL</code>程序</td>
                                 <td align="left" valign="top" width="20%" headers="d1047042e1306 d1047042e1244 ">返回指定（新）列的数据</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d1047042e1313" headers="d1047042e1241 "><code class="codeph">GET_ROW_SET</code>程序</td>
                                 <td align="left" valign="top" width="20%" headers="d1047042e1313 d1047042e1244 ">获取列值的输入行集</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d1047042e1320" headers="d1047042e1241 "><code class="codeph">PUT_ROW_SET</code>程序</td>
                                 <td align="left" valign="top" width="20%" headers="d1047042e1320 d1047042e1244 ">返回所有（新）列的数据</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d1047042e1328" headers="d1047042e1241 "><code class="codeph">SUPPORTED_TYPE</code>功能</td>
                                 <td align="left" valign="top" width="20%" headers="d1047042e1328 d1047042e1244 ">验证<code class="codeph">DBMS_TF</code>子程序是否支持某种类型</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d1047042e1338" headers="d1047042e1241 "><code class="codeph">GET_XID</code>功能</td>
                                 <td align="left" valign="top" width="20%" headers="d1047042e1338 d1047042e1244 ">返回在会话中索引PTF状态的唯一执行ID</td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-49232E37-8EFE-4440-A2CC-3E61F7153935__GUID-A7BE660C-C602-4A85-BD9F-40B9BCE1113A">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><a href="DBMS_TF.html#GUID-E67D4F4B-1FA5-4A9C-8F1D-83EB4A2A6DC2" title="DBMS_TF包定义了这些RECORD类型，TABLE类型和子类型。">DBMS_TF数据结构，</a>用于完整的类型列表</p>
                              </li>
                              <li>
                                 <p><a href="DBMS_TF.html#GUID-D03D40B2-1D30-4292-938D-8E668C00EBE9" title="本摘要简要介绍了DBMS_TF包子程序。">DBMS_TF子程序的摘要，</a>用于完整的子程序列表</p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-9DFD82D1-9D11-4311-BAE6-0184BF4EE96E" name="GUID-9DFD82D1-9D11-4311-BAE6-0184BF4EE96E"></a><h4 id="ARPLS-GUID-9DFD82D1-9D11-4311-BAE6-0184BF4EE96E" class="sect4"><span class="enumeration_section">169.4.3</span>读取列</h4>
                  <div>
                     <p>读取列是一组表格列，多态表函数（PTF）在执行<code class="codeph">FETCH_ROWS</code>过程时处理这些列。
                     </p>
                     <p>PTF通过在输入表描述符<code class="codeph">TABLE_T</code>注释它们来指示<code class="codeph">DESCRIBE</code>内的读取列。只会获取指示的读取列，因此可在<code class="codeph">FETCH_ROWS</code>期间进行处理。</p>
                     <p>查询中的PTF调用通常使用<code class="codeph">COLUMNS</code>运算符来指示查询希望PTF读取哪些列，并将此信息传递给<code class="codeph">DESCRIBE</code>函数，然后<code class="codeph">DESCRIBE</code>函数又设置<code class="codeph">COLUMN_T</code> 。 <code class="codeph">FOR_READ</code>布尔标志。
                     </p>
                     <p>只有标量SQL数据类型才允许读取列。</p>
                     <p><a href="DBMS_TF.html#GUID-0F66E239-DE77-4C0E-AC76-D5B632AB8072" title="echo PTF接收表和列列表，并生成具有相同值的新列。">Echo Polymorphic Table函数示例</a>获取表和列列表，并生成具有相同值的新列。
                     </p>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-D60CFEA0-F4F9-4336-A3F5-359A6E3BF487" name="GUID-D60CFEA0-F4F9-4336-A3F5-359A6E3BF487"></a><h4 id="ARPLS-GUID-D60CFEA0-F4F9-4336-A3F5-359A6E3BF487" class="sect4"><span class="enumeration_section">169.4.4</span>直通列</h4>
                  <div>
                     <p>传递列从多态表函数（PTF）的输入表传递到输出，无需任何修改。</p>
                     <p><code class="codeph">DESCRIBE</code>函数通过在输入表描述符<code class="codeph">DBMS_TF.TABLE_T</code>上设置<code class="codeph">COLUMN_T.PASS_THROUGH</code>布尔标志来指示传递列。</p>
                     <p>默认情况下， <code class="codeph">Row Semantics</code> PTF中的所有列都标记为传递。对于<code class="codeph">Table Semantics</code> PTF，传递的默认值设置为false。对于<code class="codeph">Table Semantics</code> PTF，分区列始终是直通的，并且DESCRIBE函数无法更改这一点。
                     </p>
                     <p>注意，Pass-Through和Read的概念是正交的，并且表示列对一个列没有另一个含义。</p>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-EAC49A1C-F4EB-48C8-B726-A143643A479C" name="GUID-EAC49A1C-F4EB-48C8-B726-A143643A479C"></a><h4 id="ARPLS-GUID-EAC49A1C-F4EB-48C8-B726-A143643A479C" class="sect4"><span class="enumeration_section">169.4.5</span>国家管理</h4>
                  <div>
                     <p>数据库管理多态表函数（PTF）的编译和执行状态。</p>
                     <div class="section">
                        <p></p>
                        <p>数据库履行PTF指挥角色。因此，它负责PTF编译状态和执行状态。</p>
                        <ol>
                           <li>
                              <p>编译状态：这是<code class="codeph">DESCRIBE</code>生成的不可变状态，在执行之前需要该状态。
                              </p>
                           </li>
                           <li>
                              <p>执行状态：这是<code class="codeph">Table semantics</code> PTF的执行时间过程（ <code class="codeph">OPEN</code> ， <code class="codeph">FETCH_ROWS</code>和<code class="codeph">CLOSE</code> ）使用的状态。</p>
                           </li>
                        </ol>
                        <p>编译状态的最常见用途是跟踪要读取的列和要生成的新列。PTF服务器接口提供了可用于实现此目的的功能： <code class="codeph">GET_ENV</code>和<code class="codeph">GET_ROW_SET</code> 。定义，记录和实现PTF的PTF作者可以依靠数据库来管理PTF状态。PTF作者不应尝试使用会话状态（例如PL / SQL包全局变量）来存储任何编译状态。可能会出现问题，因为在给定会话中，使用PTF的所有游标将共享该状态，而执行PTF游标的其他会话将看不到原始编译状态。
                        </p>
                        <p>由于执行状态是会话和游标私有，因此<code class="codeph">Table Semantics</code> PTF可以使用包全局来存储执行状态，但是规定PTF使用数据库提供的唯一执行ID来标识该状态。<code class="codeph">GET_XID</code>函数保证为PTF的执行过程提供执行唯一ID，其中该ID对于PTF的所有执行功能保持不变。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div class="sect4"><a id="GUID-375CF300-0C4D-4EBD-8DC1-ACDB98B1BCBB" name="GUID-375CF300-0C4D-4EBD-8DC1-ACDB98B1BCBB"></a><h5 id="ARPLS-GUID-375CF300-0C4D-4EBD-8DC1-ACDB98B1BCBB" class="sect5"><span class="enumeration_section">169.4.5.1</span> CSTORE编译状态管理</h5>
                     <div>
                        <p>CSTORE是PTF编译状态管理界面。</p>
                        <div class="section">
                           <p>CSTORE启用多态表函数（PTF）以将编译状态存储在SQL游标中。</p>
                           <p>CSTORE接口用于在游标编译期间通过<code class="codeph">DBMS_TF.DESCRIBE_T</code>记录存储键值对。
                           </p>
                           <p>在执行过程（例如<code class="codeph">OPEN</code> ， <code class="codeph">FETCH_ROWS</code>和<code class="codeph">CLOSE</code>期间检索编译状态信息。</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-375CF300-0C4D-4EBD-8DC1-ACDB98B1BCBB__GUID-F1CC231A-2325-4F52-B2EA-BDCB8B30BF65">CSTORE子程序</p>
                           <p>CSTORE接口由以下子程序组成。</p>
                           <table cellpadding="4" cellspacing="0" border="1" summary="" frame="hsides" rules="rows" role="presentation">
                              <tr>
                                 <td valign="top" width="38%"><span class="bold">名称</span></td>
                                 <td valign="top" width="63%"><span class="bold">描述</span></td>
                              </tr>
                              <tr>
                                 <td valign="top">
                                    <p><code class="codeph">CSTORE_GET</code>程序</p>
                                 </td>
                                 <td valign="top">
                                    <p>获取指定类型的项目。如果未找到，则OUT值保持不变。</p>
                                 </td>
                              </tr>
                              <tr>
                                 <td valign="top">
                                    <p><code class="codeph">CSTORE_EXISTS</code>函数</p>
                                 </td>
                                 <td valign="top">
                                    <p>如果CSTORE中存在具有给定键的项，则此函数返回TRUE。</p>
                                 </td>
                              </tr>
                           </table>
                        </div>
                        <!-- class="section" -->
                        <div class="section" id="GUID-375CF300-0C4D-4EBD-8DC1-ACDB98B1BCBB__CSTOREPREDEFINEDTYPES-35296B69">
                           <p class="subhead3" id="GUID-375CF300-0C4D-4EBD-8DC1-ACDB98B1BCBB__GUID-26904335-0F93-4937-B87A-255429C6A0AE">CSTORE支持的类型</p>
                           <p><code class="codeph">DBMS_TF.DESCRIBE_T</code>支持为这些标量类型指定键值对： <code class="codeph">VARCHAR2</code> ， <code class="codeph">NUMBER</code> ， <code class="codeph">DATE</code> ， <code class="codeph">BOOLEAN</code> 。</p>
                           <div class="tblformal" id="GUID-375CF300-0C4D-4EBD-8DC1-ACDB98B1BCBB__DBMS_TFCSTOREPREDEFINEDTYPES-24C5B880">
                              <p class="titleintable">表169-3 DBMS_TF CSTORE标量支持的类型</p>
                              <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_TF CSTORE标量支持的类型" width="100%" border="1" summary="This table describes predefined scalar supported types to use with the CSTORE subprograms." frame="hsides" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="20%" id="d1047042e1907">名称</th>
                                       <th align="left" valign="bottom" width="20%" id="d1047042e1910">描述</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="20%" id="d1047042e1915" headers="d1047042e1907 "><code class="codeph">CSTORE_TYPE_VARCHAR2</code></td>
                                       <td align="left" valign="top" width="20%" headers="d1047042e1915 d1047042e1910 ">
                                          <p>CSTORE <code class="codeph">VARCHAR2</code>类型代码</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="20%" id="d1047042e1925" headers="d1047042e1907 "><code class="codeph">CSTORE_TYPE_NUMBER</code></td>
                                       <td align="left" valign="top" width="20%" headers="d1047042e1925 d1047042e1910 ">
                                          <p>CSTORE <code class="codeph">NUMBER</code>类型代码</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="20%" id="d1047042e1935" headers="d1047042e1907 "><code class="codeph">CSTORE_TYPE_DATE</code></td>
                                       <td align="left" valign="top" width="20%" headers="d1047042e1935 d1047042e1910 ">
                                          <p>CSTORE <code class="codeph">DATE</code>类型代码</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="20%" id="d1047042e1945" headers="d1047042e1907 "><code class="codeph">CSTORE_TYPE_BOOLEAN</code></td>
                                       <td align="left" valign="top" width="20%" headers="d1047042e1945 d1047042e1910 ">
                                          <p>CSTORE <code class="codeph">BOOLEAN</code>类型代码</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                        </div>
                        <!-- class="section" -->
                        <div class="section" id="GUID-375CF300-0C4D-4EBD-8DC1-ACDB98B1BCBB__COLLECTIONSFORCOMPILATIONSTORAGE-35297006">
                           <p class="subhead3" id="GUID-375CF300-0C4D-4EBD-8DC1-ACDB98B1BCBB__GUID-E57FCA5B-E26B-48D3-B2A3-19462EFBDB56">用于编译存储的集合</p>
                           <p>这些预定义的集合类型用于编译状态管理。</p><pre class="oac_no_warn" dir="ltr">TYPE CSTORE_CHR_T是VARCHAR2的表（32767）INDEX BY VARCHAR2（32767）; TYPE CSTORE_NUM_T是VARCHAR2的数字索引表（32767）; TYPE CSTORE_BOL_T是BOCHAN INDEX BY VARCHAR2的表（32767）; TYPE CSTORE_DAT_T是VARCHAR2的日期索引表（32767）;</pre></div>
                        <!-- class="section" -->
                        <div class="section" id="GUID-375CF300-0C4D-4EBD-8DC1-ACDB98B1BCBB__DBMS_TFMETHODNAMES-352973EA">
                           <p class="subhead3" id="GUID-375CF300-0C4D-4EBD-8DC1-ACDB98B1BCBB__GUID-AF720E94-6202-4F48-AECC-6E9448F9D1CE">DBMS_TF方法名称</p>
                           <p>方法名称也存储在<code class="codeph">DBMS_TF.DESCRIBE_T</code>记录中。PTF作者可以自定义方法名称的这些预定义值。
                           </p>
                           <p>有关更改默认方法名称的详细信息，请参阅<a href="DBMS_TF.html#GUID-8BA8FAA3-79C6-43A6-9986-9541CFA5D644" title="当多个多态表函数（PTF）实现位于同一个包中时，您可以使用PTF特定名称覆盖缺省运行时方法名称（OPEN，FETCH_ROWS和CLOSE）。">方法名称覆盖</a></p>
                           <div class="tblformal" id="GUID-375CF300-0C4D-4EBD-8DC1-ACDB98B1BCBB__GUID-00B790A0-060E-423D-BF54-CE04D79689B8">
                              <p class="titleintable">表169-4 DBMS_TF方法名称常量</p>
                              <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_TF方法名称常量" border="1" summary="This table describes method names used by default by DBMS_TF subprograms." frame="hsides" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th class="text-center" valign="bottom" id="d1047042e1998">名称</th>
                                       <th class="text-center" valign="bottom" id="d1047042e2001">类型</th>
                                       <th class="text-center" valign="bottom" id="d1047042e2004">值</th>
                                       <th class="text-center" valign="bottom" id="d1047042e2007">描述</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" id="d1047042e2012" headers="d1047042e1998 ">
                                          <p><code class="codeph">关</code></p>
                                       </td>
                                       <td align="left" valign="top" headers="d1047042e2012 d1047042e2001 ">
                                          <p><code class="codeph">DBMS_QUOTED_ID</code></p>
                                       </td>
                                       <td align="left" valign="top" headers="d1047042e2012 d1047042e2004 ">
                                          <p>'关'</p>
                                       </td>
                                       <td align="left" valign="top" headers="d1047042e2012 d1047042e2007 ">
                                          <p>名为CLOSE的方法的预定义索引值</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" id="d1047042e2027" headers="d1047042e1998 ">
                                          <p><code class="codeph">FETCH_ROWS</code></p>
                                       </td>
                                       <td align="left" valign="top" headers="d1047042e2027 d1047042e2001 ">
                                          <p><code class="codeph">DBMS_QUOTED_ID</code></p>
                                       </td>
                                       <td align="left" valign="top" headers="d1047042e2027 d1047042e2004 ">
                                          <p>'FETCH_ROWS'</p>
                                       </td>
                                       <td align="left" valign="top" headers="d1047042e2027 d1047042e2007 ">
                                          <p>名为FETCH_ROWS的方法的预定义索引值</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" id="d1047042e2042" headers="d1047042e1998 ">
                                          <p><code class="codeph">打开</code></p>
                                       </td>
                                       <td align="left" valign="top" headers="d1047042e2042 d1047042e2001 ">
                                          <p><code class="codeph">DBMS_QUOTED_ID</code></p>
                                       </td>
                                       <td align="left" valign="top" headers="d1047042e2042 d1047042e2004 ">
                                          <p>'打开'</p>
                                       </td>
                                       <td align="left" valign="top" headers="d1047042e2042 d1047042e2007 ">
                                          <p>名为OPEN的方法的预定义索引值</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-44B1E12B-F063-492E-A878-293327A5ACEB" name="GUID-44B1E12B-F063-492E-A878-293327A5ACEB"></a><h5 id="ARPLS-GUID-44B1E12B-F063-492E-A878-293327A5ACEB" class="sect5"><span class="enumeration_section">169.4.5.2</span> XSTORE执行状态管理</h5>
                     <div>
                        <p>XSTORE是PTF执行状态管理接口。</p>
                        <div class="section">
                           <p>当键是字符串并且值是常用的标量类型时， <code class="codeph">XSTORE</code>键值接口通过提供自动状态管理功能简化了<code class="codeph">Table Semantics</code> PTF的实现。
                           </p>
                           <p>数据库自动管理删除使用此接口分配的所有执行状态。</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-44B1E12B-F063-492E-A878-293327A5ACEB__GUID-B9AD0F15-83D9-4920-B1EA-7FF41A6EEC9D">XSTORE子程序</p>
                           <p>执行状态管理界面由以下子程序组成。</p>
                           <div class="tblformal" id="GUID-44B1E12B-F063-492E-A878-293327A5ACEB__GUID-7DDC66DE-AF42-48BB-8539-238A95C0B69D">
                              <p class="titleintable">表169-5 DBMS_TF XSTORE子程序</p>
                              <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_TF XSTORE子程序" border="1" summary="This table describes the XSTORE subprograms." frame="hsides" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th class="text-center" valign="bottom" id="d1047042e2173">名称</th>
                                       <th class="text-center" valign="bottom" id="d1047042e2176">描述</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" id="d1047042e2181" headers="d1047042e2173 ">
                                          <p><code class="codeph">XSTORE_CLEAR</code>过程</p>
                                       </td>
                                       <td align="left" valign="top" headers="d1047042e2181 d1047042e2176 ">
                                          <p>从XSTORE执行状态中删除所有键值对</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" id="d1047042e2190" headers="d1047042e2173 ">
                                          <p><code class="codeph">XSTORE_EXISTS</code>函数</p>
                                       </td>
                                       <td align="left" valign="top" headers="d1047042e2190 d1047042e2176 ">
                                          <p>如果XSTORE中存在具有给定键的项，则返回TRUE</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" id="d1047042e2199" headers="d1047042e2173 ">
                                          <p><code class="codeph">XSTORE_GET</code>程序</p>
                                       </td>
                                       <td align="left" valign="top" headers="d1047042e2199 d1047042e2176 ">
                                          <p>获取存储在XSTORE中的给定键的关联值</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" id="d1047042e2208" headers="d1047042e2173 ">
                                          <p><code class="codeph">XSTORE_REMOVE</code>程序</p>
                                       </td>
                                       <td align="left" valign="top" headers="d1047042e2208 d1047042e2176 ">
                                          <p>删除与给定键和key_type关联的项目</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" id="d1047042e2217" headers="d1047042e2173 ">
                                          <p><code class="codeph">XSTORE_SET</code>程序</p>
                                       </td>
                                       <td align="left" valign="top" headers="d1047042e2217 d1047042e2176 ">
                                          <p>设置PTF执行状态管理的给定密钥的值</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                        </div>
                        <!-- class="section" -->
                        <div class="section" id="GUID-44B1E12B-F063-492E-A878-293327A5ACEB__XSTOREPREDEFINEDTYPES-352A8269">
                           <p class="subhead3" id="GUID-44B1E12B-F063-492E-A878-293327A5ACEB__GUID-9E0DC3A6-A354-4424-98AB-0E0576260250">XSTORE预定义类型</p>
                           <p>XSTORE支持为这些标量类型指定键值对： <code class="codeph">VARCHAR2</code> ， <code class="codeph">NUMBER</code> ， <code class="codeph">DATE</code>和<code class="codeph">BOOLEAN</code> 。</p>
                           <div class="tblformal" id="GUID-44B1E12B-F063-492E-A878-293327A5ACEB__GUID-425E9AF1-350A-46AC-B146-A5F179744BA4">
                              <p class="titleintable">表169-6 DBMS_TF XSTORE标量支持的类型</p>
                              <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_TF XSTORE标量支持的类型" border="1" summary="This table describes predefined scalar supported types to use with the XSTORE subprograms." frame="hsides" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th class="text-center" valign="bottom" id="d1047042e2252">名称</th>
                                       <th class="text-center" valign="bottom" id="d1047042e2255">描述</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" id="d1047042e2260" headers="d1047042e2252 ">
                                          <p><code class="codeph">XSTORE_TYPE_VARCHAR2</code></p>
                                       </td>
                                       <td align="left" valign="top" headers="d1047042e2260 d1047042e2255 ">
                                          <p>XSTORE <code class="codeph">VARCHAR2</code>类型代码</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" id="d1047042e2271" headers="d1047042e2252 ">
                                          <p><code class="codeph">XSTORE_TYPE_NUMBER</code></p>
                                       </td>
                                       <td align="left" valign="top" headers="d1047042e2271 d1047042e2255 ">
                                          <p>XSTORE <code class="codeph">NUMBER</code>类型代码</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" id="d1047042e2282" headers="d1047042e2252 ">
                                          <p><code class="codeph">XSTORE_TYPE_DATE</code></p>
                                       </td>
                                       <td align="left" valign="top" headers="d1047042e2282 d1047042e2255 ">
                                          <p>XSTORE <code class="codeph">DATE</code>类型代码</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" id="d1047042e2293" headers="d1047042e2252 ">
                                          <p><code class="codeph">XSTORE_TYPE_BOOLEAN</code></p>
                                       </td>
                                       <td align="left" valign="top" headers="d1047042e2293 d1047042e2255 ">
                                          <p>XSTORE <code class="codeph">BOOLEAN</code>类型代码</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-8BA8FAA3-79C6-43A6-9986-9541CFA5D644" name="GUID-8BA8FAA3-79C6-43A6-9986-9541CFA5D644"></a><h4 id="ARPLS-GUID-8BA8FAA3-79C6-43A6-9986-9541CFA5D644" class="sect4"><span class="enumeration_section">169.4.6</span>方法名称覆盖</h4>
                  <div>
                     <p>当多个多态表函数（PTF）实现位于同一个包中时，您可以使用PTF特定名称覆盖缺省运行时方法名称（ <code class="codeph">OPEN</code> ， <code class="codeph">FETCH_ROWS</code>和<code class="codeph">CLOSE</code> ）。
                     </p>
                     <div class="section">
                        <p>要覆盖方法名称，应用程序可以使用<code class="codeph">DBMS_TF</code> <code class="codeph">METHOD_NAMES</code>集合指定新方法名称（请参阅<a href="DBMS_TF.html#GUID-62B3CC06-D95E-4CD2-B264-EAAD4452CB66" title="PTF的DESCRIBE方法的返回类型。">DESCRIBE_T记录类型</a> ）。
                        </p>
                        <div class="infoboxnotealso" id="GUID-8BA8FAA3-79C6-43A6-9986-9541CFA5D644__GUID-003474D8-12A0-4094-81F5-5861EE22387D">
                           <p class="notep1">也可以看看：</p><a href="DBMS_TF.html#GUID-375CF300-0C4D-4EBD-8DC1-ACDB98B1BCBB__GUID-00B790A0-060E-423D-BF54-CE04D79689B8" title="此表描述了DBMS_TF子程序默认使用的方法名称。">表169-4</a></div>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-8BA8FAA3-79C6-43A6-9986-9541CFA5D644__DBMS_TFMETHODNAMEOVERRIDESEXAMPLE-35304EB0">
                        <p class="titleinexample">示例169-2 DBMS_TF方法名称覆盖</p>
                        <p>此示例显示如何将noop_p PTF fetch_rows方法的默认方法名称更改为noop_fetch。</p>
                        <div class="infoboxnote" id="GUID-8BA8FAA3-79C6-43A6-9986-9541CFA5D644__GUID-B4E140C2-CF42-4C58-ADE6-A0BC6F8AFDD6">
                           <p class="notep1">实时SQL：</p>
                           <p>您可以在<a href="https://livesql.oracle.com/apex/livesql/docs/arpls/ptf/noop_method_overrides.html" target="_blank">DBMS_TF方法名称覆盖的</a> Oracle Live SQL上查看和运行此示例</p>
                        </div>
                        <p>创建PTF实现包noop_p。</p><pre class="pre codeblock"><code>CREATE PACKAGE noop_p AS FUNCTION describe（tab IN OUT DBMS_TF.table_t）RETURN DBMS_TF.describe_t;程序<span class="bold">noop_fetch</span> ;结束noop_p;</code></pre><p>要提供方法名称覆盖，可以使用DBMS_TF.Method_Names集合指定新方法名称。FETCH_ROWS方法名称更改为“Noop_Fetch”。实现此方法的过程noop_fetch在包中定义。</p><pre class="pre codeblock"><code>创建或替换PACKAGE BODY noop_p AS FUNCTION describe（tab IN OUT DBMS_TF.table_t）RETURN DBMS_TF.describe_t AS <span class="bold">方法DBMS_TF.methods_t：= DBMS_TF.methods_t（DBMS_TF.fetch_rows =&gt;'Noop_Fetch'）</span> ; BEGIN RETURN DBMS_TF.describe_t（ <span class="bold">method_names =&gt; methods</span> ）;结束;程序<span class="bold">noop_fetch</span> AS BEGIN RETURN;结束;结束noop_p;</code></pre><p>noop PTF被定义为在调用noop_p时执行noop_p。</p><pre class="pre codeblock"><code>创建功能noop（t TABLE）返回表使用noop_p管道行多态？</code></pre><p>在查询块的FROM子句中调用PTF。</p><pre class="pre codeblock"><code>SELECT * FROM noop（scott.emp）WHERE deptno = 10;</code></pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-ECBD7B38-0D6B-448B-AEAF-D6CBA50BC4A8" name="GUID-ECBD7B38-0D6B-448B-AEAF-D6CBA50BC4A8"></a><h4 id="ARPLS-GUID-ECBD7B38-0D6B-448B-AEAF-D6CBA50BC4A8" class="sect4"><span class="enumeration_section">169.4.7</span>使用COLUMNS伪操作符</h4>
                  <div>
                     <p><code class="codeph">COLUMNS</code>伪运算符是SQL表达式语言的补充。
                     </p>
                     <p>在<code class="codeph">FROM</code>子句中调用多态表函数（PTF）时，使用<code class="codeph">COLUMNS</code>伪运算符指定参数。<code class="codeph">COLUMNS</code>伪运算符参数指定列名列表或具有关联类型的列名列表。
                     </p>
                     <div class="infoboxnotealso" id="GUID-ECBD7B38-0D6B-448B-AEAF-D6CBA50BC4A8__GUID-82F3D1A8-37F5-47C2-B0EB-4325395FD13C">
                        <p class="notep1">也可以看看：</p>
                        <p>有关COLUMNS伪运算符语法和语义的更多信息，请<a href="../lnpls/plsql-optimization-and-tuning.html#LNPLS-GUID-AB520C25-6735-4E5D-AC01-6237CD32BE17" target="_blank"><span class="italic">参见Oracle Database PL / SQL语言参考</span></a></p> 
                     </div>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-7157DA21-E9D1-4B18-A57D-1DE57190DCA1" name="GUID-7157DA21-E9D1-4B18-A57D-1DE57190DCA1"></a><h4 id="ARPLS-GUID-7157DA21-E9D1-4B18-A57D-1DE57190DCA1" class="sect4"><span class="enumeration_section">169.4.8</span>查询转换</h4>
                  <div>
                     <p>关于谓词，投影和分区。</p>
                     <p><code class="codeph">Row Semantics</code> PTF的传递列和<code class="codeph">Table Semantics</code> PTF的<code class="codeph">PARTITION BY</code>键列可用于投影和谓词下推。
                     </p>
                     <div class="example" id="GUID-7157DA21-E9D1-4B18-A57D-1DE57190DCA1__QUERYTRANSFORMATIONS-3532C2DF">
                        <p class="titleinexample">示例169-3查询转换</p>
                     </div>
                     <!-- class="example" -->
                     <p>此示例说明了<code class="codeph">Row Semantics</code> PTF的谓词和投影下推。</p>
                     <div class="p">此查询调用在<a href="DBMS_TF.html#GUID-0F66E239-DE77-4C0E-AC76-D5B632AB8072" title="echo PTF接收表和列列表，并生成具有相同值的新列。">Echo Polymorphic Table Function Example中</a>创建的echo PTF。<pre class="pre codeblock"><code>SELECT empno，ename，sal，comm，echo_sal FROM echo（emp，COLUMNS（sal，comm））WHERE deptno = 30 AND echo_sal&gt; 1000;</code></pre><pre class="oac_no_warn" dir="ltr">EMPNO ENAME SAL COMM ECHO_SAL ---------- ---------- ---------- ---------- ----- ----- 7499 ALLEN 1600 300 1600 7521 WARD 1250 500 1250 7654 MARTIN 1250 1400 1250 7698 BLAKE 2850 2850 7844 TURNER 1500 0 1500</pre>从概念上讲，此查询将被重写为：</div><pre class="pre codeblock"><code>WITH t AS（SELECT empno，ename，sal，comm FROM emp WHERE deptno = 30）SELECT empno，ename，sal，comm，echo_sal FROM echo（t，COLUMNS（sal，comm））WHERE echo_sal&gt; 1000;</code></pre></div>
               </div>
               <div class="sect3"><a id="GUID-25923930-2385-4710-BE53-97E43A85125D" name="GUID-25923930-2385-4710-BE53-97E43A85125D"></a><h4 id="ARPLS-GUID-25923930-2385-4710-BE53-97E43A85125D" class="sect4"><span class="enumeration_section">169.4.9</span>并行执行</h4>
                  <div>
                     <p>多态表函数（PTF）的一个主要优点是它们的执行可以并行化。</p>
                     <p>行和表语义PTF以不同方式并行执行。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-25923930-2385-4710-BE53-97E43A85125D__GUID-40A440E3-14B7-44C8-9958-12479DA7F263">行语义PTF</p>
                        <p><code class="codeph">Row Semantics</code> PTF下，并行查询以与不存在PTF时相同的并行度（DOP）执行。DOP由子行源驱动。
                        </p>
                        <p>如果表emp上的DOP已设置为5，则以下是显示此并行化的示例：</p><pre class="oac_no_warn" dir="ltr">SELECT * FROM EXPLAIN PLAN（emp，COLUMNS（ename，job））WHERE deptno！= 20; -------------------------------------------------- -  | Id |操作|名称| -------------------------------------------------- -  | 0 |选择声明| | | 1 | PX COORDINATOR | | | 2 | PX SEND QC（RANDOM）| ：TQ10000 | | 3 |多态表功能| ECHO | | 6 | PX BLOCK ITERATOR | | | * 7 |表访问完全| EMP | -------------------------------------------------- - 谓词信息（由操作ID标识）：---------------------------------------- ----------- 5  - 过滤器（“EMP”。“DEPTNO”&lt;&gt; 20）</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-25923930-2385-4710-BE53-97E43A85125D__GUID-3AF7877F-5977-4807-B7C4-D3E695BC6751">表语义PTF</p>
                        <p><code class="codeph">Table Semantics</code> PTF要求使用<code class="codeph">PARTITION BY</code>键重新分配其输入表行。并行执行由查询中指定的<code class="codeph">PARTITION BY</code>子句确定。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-6751290C-C9F7-40B7-AF6D-A108AB482E45" name="GUID-6751290C-C9F7-40B7-AF6D-A108AB482E45"></a><h3 id="ARPLS-GUID-6751290C-C9F7-40B7-AF6D-A108AB482E45" class="sect3"><span class="enumeration_section">169.5</span> DBMS_TF执行流程</h3>
               <div>
                  <p>调用多态表函数（PTF）的查询执行遵循此执行模型和数据传输流程。</p>
                  <div class="section">
                     <p>在查询执行期间，数据库会调用PTF执行过程（ <code class="codeph">OPEN</code> ， <code class="codeph">FETCH_ROWS</code>和<code class="codeph">CLOSE</code> ）。
                     </p>
                     <div class="p">PTF执行遵循以下流程：<ol>
                           <li>
                              <p><code class="codeph">OPEN</code> （如果存在）</p>
                           </li>
                           <li>
                              <p> <code class="codeph">FETCH_ROWS</code> （可以多次调用）</p>
                           </li>
                           <li>
                              <p><code class="codeph">CLOSE</code> （如果存在）</p>
                           </li>
                        </ol>
                     </div>
                     <div class="figure" id="GUID-6751290C-C9F7-40B7-AF6D-A108AB482E45__GUID-4A1FDECA-5294-4961-AB19-A22557E4C9F5"><img src="img/dbms_tf-execution-flow.gif" alt="下面是dbms_tf-execution-flow.eps的描述" title="下面是dbms_tf-execution-flow.eps的描述" longdesc="img_text/dbms_tf-execution-flow.html"><br><a href="img_text/dbms_tf-execution-flow.html">说明dbms_tf-execution-flow.eps的说明</a></div>
                     <!-- class="figure" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p><code class="codeph">FETCH_ROWS</code>过程读取行集（行集合）的数据，并生成输出行集。
                     </p>
                     <p>每次对<code class="codeph">FETCH_ROWS</code>调用都与一个行集相关联，该行集是预期由PTF处理的输入行的数据集合。</p>
                     <p><code class="codeph">GET_ROW_SET</code>或<code class="codeph">GET_COL</code>用于读取输入行集。
                     </p>
                     <p><code class="codeph">PUT_ROW_SET</code>或<code class="codeph">PUT_COL</code>用于生成输出行集，该行集写回数据库。
                     </p>
                     <p><code class="codeph">PUT_ROW_SET</code>用于在单个调用中设置所有新列。
                     </p>
                     <p><code class="codeph">ROWSET_T</code>记录保存多列的数据。当PTF算法更适合一次生成单个输出列时，可以使用<code class="codeph">PUT_COL</code>生成单个列。给定列只能在对<code class="codeph">FETCH_ROWS</code>的调用中生成一次。</p>
                     <p>对于<code class="codeph">Row Semantics</code> PTF， <code class="codeph">FETCH_ROWS</code>过程将在返回数据库之前使用PTF服务器接口返回新行。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-B21F7DDF-A9EC-4CAE-AC98-84983B6FCFCD" name="GUID-B21F7DDF-A9EC-4CAE-AC98-84983B6FCFCD"></a><h3 id="ARPLS-GUID-B21F7DDF-A9EC-4CAE-AC98-84983B6FCFCD" class="sect3"><span class="enumeration_section">169.6</span> DBMS_TF限制</h3>
               <div>
                  <p>这些限制适用于多态表函数（PTF）和使用DBMS_TF包。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-B21F7DDF-A9EC-4CAE-AC98-84983B6FCFCD__GUID-C8F2BE1D-FCDA-4965-9762-3DC4F174ECCA">类型限制</p>
                     <p>多态表函数（PTF）可以在具有任何SQL类型列的表上运行。但是，read和new列仅限于标量类型。读取和新列用于<code class="codeph">PUT_ROW_SET</code> ， <code class="codeph">PUT_COL</code> ， <code class="codeph">GET_ROW_SET</code>和<code class="codeph">GET_COL</code>过程。所有SQL类型都可以与传递列一起使用。<code class="codeph">DESCRIBE</code>函数可以使用<code class="codeph">DBMS_TF.SUPPORTED_TYPE</code>函数确定支持的类型。
                     </p>
                     <p></p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-B21F7DDF-A9EC-4CAE-AC98-84983B6FCFCD__GUID-2E2CFBDC-6699-4F99-BDA2-6D00D6859625">PTF调用和执行限制</p>
                     <p></p>
                     <p>多态表函数不能嵌套在查询的<code class="codeph">FROM</code>子句中。仅允许使用<code class="codeph">WITH</code>子句嵌套PTF。
                     </p>
                     <p>只允许使用<code class="codeph">CURSOR</code>表达式使用具有多态表函数的嵌套表函数。不能将PTF指定为表函数的参数。
                     </p>
                     <p>您无法从多态表函数（PTF）中选择rowid。</p>
                     <p><code class="codeph">PARTITION BY</code>和<code class="codeph">ORDER BY</code>子句只能在<code class="codeph">Table Semantics</code> PTF的参数上指定。</p>
                     <p>必须仅在多态表函数执行上下文中调用PTF执行方法<code class="codeph">OPEN</code> ， <code class="codeph">FETCH_ROWS</code>和<code class="codeph">CLOSE</code> 。
                     </p>
                     <p>您无法直接调用<code class="codeph">DESCRIBE</code>方法。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>此示例显示了十个PTF嵌套调用。</p><pre class="pre codeblock"><code>WITH t0 AS（SELECT / * + parallel * / * FROM noop（dept）），t1 AS（SELECT * FROM noop（t0）），t2 AS（SELECT * FROM noop（t1）），t3 AS（SELECT * FROM noop） （t2）），t4 AS（SELECT * FROM noop（t3）），t5 AS（SELECT * FROM noop（t4）），t6 AS（SELECT * FROM noop（t5）），t7 AS（SELECT * FROM noop（t6） ）），t8 AS（SELECT * FROM noop（t7）），t9 AS（SELECT * FROM noop（t8））SELECT * FROM noop（t9）WHERE deptno = 10;</code></pre><pre class="oac_no_warn" dir="ltr">10纽约会计</pre></div>
                  <!-- class="section" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-2D97C0CD-6AD9-4F86-86E6-C806D688C57A" name="GUID-2D97C0CD-6AD9-4F86-86E6-C806D688C57A"></a><h3 id="ARPLS-GUID-2D97C0CD-6AD9-4F86-86E6-C806D688C57A" class="sect3"><span class="enumeration_section">169.7</span> DBMS_TF示例</h3>
               <div>
                  <p>这些示例使用DBMS_TF子程序。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-2D97C0CD-6AD9-4F86-86E6-C806D688C57A__GUID-961ED0C0-0430-4364-B246-72C163CD4A49">DBMS_TF示例摘要</p>
                     <p>这些示例不完整，仅供演示之用。</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="DBMS_TF.html#GUID-47E8026F-B66B-4F8D-A2E2-D4324AAB2CED__NOOPPOLYMORPHICTABLEFUNCTION-35241E9E">例169-1</a> ， <span class="q">“Noop多态表功能”</span></p>
                        </li>
                        <li>
                           <p><a href="DBMS_TF.html#GUID-0F66E239-DE77-4C0E-AC76-D5B632AB8072" title="echo PTF接收表和列列表，并生成具有相同值的新列。">回声多态表功能示例</a></p>
                        </li>
                        <li>
                           <p><a href="DBMS_TF.html#GUID-8BA8FAA3-79C6-43A6-9986-9541CFA5D644__DBMS_TFMETHODNAMEOVERRIDESEXAMPLE-35304EB0">例169-2</a> ， <span class="q">“DBMS_TF方法名称覆盖”</span></p>
                        </li>
                        <li>
                           <p><a href="DBMS_TF.html#GUID-7157DA21-E9D1-4B18-A57D-1DE57190DCA1__QUERYTRANSFORMATIONS-3532C2DF">例169-3</a> ， <span class="q">“查询转换”</span></p>
                        </li>
                        <li>
                           <p><a href="DBMS_TF.html#GUID-7855D0E0-1ADB-4A90-AB9E-C33667C3D1C7__GUID-7F45B90B-BF29-435F-9384-1AE2F89C7F53">例169-5</a> ， <span class="q">“DBMS_TF.COLUMN_TYPE_NAME示例”</span></p>
                        </li>
                        <li>
                           <p><a href="DBMS_TF.html#GUID-C8E533D9-243E-4874-86B9-116A97980A54__GUID-D535E2D0-F92F-4580-AB84-1E6DB898B18B">例169-6</a> ， <span class="q">“DBMS_TF.COL_TO_CHAR示例”</span></p>
                        </li>
                        <li>
                           <p><a href="DBMS_TF.html#GUID-AB5593F5-D1FF-4676-927E-8000EA2A226E__GUID-2D023F03-F7D9-4970-B597-1CFC7365D0B2">例169-7</a> ， <span class="q">“DBMS_TF.CSTORE_EXISTS示例”</span></p>
                        </li>
                        <li>
                           <p><a href="DBMS_TF.html#GUID-D1C12B28-0D84-425B-8E1C-35650F434603__DBMS_TF.GET_COLEXAMPLE-353A1FBA">例169-8</a> ， <span class="q">“DBMS_TF.GET_COL示例”</span></p>
                        </li>
                        <li>
                           <p><a href="DBMS_TF.html#GUID-5E2C650E-1310-49A2-AF59-7E5B4D2497D2__GET_ENVEXAMPLE-353A67C6">例169-9</a> ， <span class="q">“DBMS_TF.GET_ENV示例”</span></p>
                        </li>
                        <li>
                           <p><a href="DBMS_TF.html#GUID-4F4DCBFA-78D1-4573-ADE9-A435469C2908__DBMS_TF.GET_ROW_SETEXAMPLE-353ABC3E">例169-10</a> ， <span class="q">“DBMS_TF.GET_ROW_SET示例”</span></p>
                        </li>
                        <li>
                           <p><a href="DBMS_TF.html#GUID-E151DA71-DBD2-4B80-AD2E-71D830283BE3__DBMS_TF.GET_XIDEXAMPLE-353B353D">例169-12</a> ， <span class="q">“DBMS_TF.GET_XID示例”</span></p>
                        </li>
                        <li>
                           <p><a href="DBMS_TF.html#GUID-5C861282-03EE-420F-90D6-B01EB18A744D" title="rand_col PTF将指定数量的随机值列附加到输出。">Rand_col多态表函数示例</a> ，（DBMS_TF.PUT_COL示例）</p>
                        </li>
                        <li>
                           <p><a href="DBMS_TF.html#GUID-218BB245-0878-4139-9E8C-1231A52F7E40" title="堆栈PTF示例通过将每个列值转换为新行来取消指定数字列的非空值。">堆栈多态表功能示例</a></p>
                        </li>
                        <li>
                           <p><a href="DBMS_TF.html#GUID-73409F70-2C85-4200-A280-76A2E7179B67" title="拆分PTF示例将输入表的每一行拆分为指定的部分。">拆分多态表功能示例</a> ，（DBMS_TF.GET_ROW_SET和PUT_ROW_SET示例）</p>
                        </li>
                        <li>
                           <p><a href="DBMS_TF.html#GUID-549CEC61-3483-431C-86A2-D088E135EF4F__DBMS_TF.PUT_ROW_SETEXAMPLE-353B8C15">例169-14</a> ， <span class="q">“DBMS_TF.PUT_ROW_SET示例”</span></p>
                        </li>
                        <li>
                           <p><a href="DBMS_TF.html#GUID-F0B21736-CDE8-45CD-B250-64984E1CDE20__REPLICATEPTFDBMS_TF.ROW_REPLICATION-353BCFE5">例169-16</a> ， <span class="q">“复制：DBMS_TF.ROW_REPLICATION示例”</span></p>
                        </li>
                        <li>
                           <p><a href="DBMS_TF.html#GUID-E757C3C4-CAAD-419B-8022-1037FA0A4962__DBMS_TF.ROW_TO_CHAREXAMPLE-353C8705">例169-17</a> ， <span class="q">“DBMS_TF.ROW_TO_CHAR示例”</span></p>
                        </li>
                        <li>
                           <p><a href="DBMS_TF.html#GUID-83C57DB9-C8D8-4F3B-8D47-F2B850C597FA__DBMS_TF.TRACEEXAMPLE-353CD740">例169-18</a> ， <span class="q">“DBMS_TF.TRACE示例”</span></p>
                        </li>
                        <li>
                           <p><a href="DBMS_TF.html#GUID-C318D8C8-E80C-4671-B515-F3B22E073547" title="row_num PTF示例将序列列附加到表。">Row_num多态表函数示例</a> ，（DBMS_TF.XSTORE_GET和XSTORE_SET示例）</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">在其他书籍中：<div class="p">
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="../lnpls/plsql-optimization-and-tuning.html#LNPLS-GUID-695FBA1A-89EA-45B4-9C81-CA99F6C794A5" target="_blank"><span class="italic">Oracle PL / SQL语言参考</span></a> ， <span class="q">“Skip_col多态表函数示例”</span></p>
                              <p><a href="../lnpls/plsql-optimization-and-tuning.html#LNPLS-GUID-F8E13DDD-710D-4626-824E-B344849C5AFE" target="_blank"><span class="italic">Oracle PL / SQL语言参考</span></a> ， <span class="q">“To_doc多态表函数示例”</span></p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
               <div class="sect3"><a id="GUID-0F66E239-DE77-4C0E-AC76-D5B632AB8072" name="GUID-0F66E239-DE77-4C0E-AC76-D5B632AB8072"></a><h4 id="ARPLS-GUID-0F66E239-DE77-4C0E-AC76-D5B632AB8072" class="sect4"><span class="enumeration_section">169.7.1</span>回波多态表功能示例</h4>
                  <div>
                     <p>echo PTF接收表和列列表，并生成具有相同值的新列。</p>
                     <div class="section">
                        <p>此PTF返回输入表选项卡中的所有列，并将cols中列出的列添加到其中，但列名称前缀为“ECHO_”。</p>
                        <div class="infoboxnote" id="GUID-0F66E239-DE77-4C0E-AC76-D5B632AB8072__GUID-D7618D35-645E-429F-B50E-499183806F89">
                           <p class="notep1">实时SQL：</p>
                           <p>您可以在<a href="https://livesql.oracle.com/apex/livesql/docs/arpls/ptf/ptfecho.html" target="_blank">Echo Polymorphic Table Function</a>上的Oracle Live SQL上查看和运行此示例</p>
                        </div>
                        <p>echo PTF可以出现在查询的FROM子句中。COLUMNS运算符用于指定列，例如：</p><pre class="oac_no_warn" dir="ltr">SELECT * FROM echo（scott.dept，COLUMNS（dname，loc））; DEPTNO DNAME LOC ECHO_DNAME ECHO_LOC ---------- -------------- ------------- -------- ------ ------------- 10会计纽约会计纽约20研究达拉斯研究达拉斯30销售芝加哥销售芝加哥40运营波士顿运营波士顿</pre></div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-0F66E239-DE77-4C0E-AC76-D5B632AB8072__GUID-D5196819-FBE1-4FF5-BA4A-B3DBF839DA89">
                        <div class="p">PTF包括以下内容：<ul style="list-style-type:disc">
                              <li>
                                 <p>PTF实现包规范：规范必须具有DESCRIBE方法。OPEN，FETCH_ROWS和CLOSE方法是可选的。</p>
                              </li>
                              <li>
                                 <p>PTF实现包主体：DESCRIBE方法可以有一个new-columns参数（由此PTF创建的附加列），后面跟着PTF函数参数。</p>
                              </li>
                              <li>
                                 <p>PTF功能：PTF功能引用了实现包。</p>
                              </li>
                           </ul> 
                        </div>
                        <p>echo_package包规范定义了DESCRIBE和FETCH_ROWS方法。</p><pre class="pre codeblock"><code>CREATE PACKAGE echo_package AS前缀DBMS_ID：='ECHO_'; FUNCTION描述（选项卡IN OUT DBMS_TF.TABLE_T，cols IN DBMS_TF.COLUMNS_T）RETURN DBMS_TF.DESCRIBE_T;程序fetch_rows; END echo_package;</code></pre><p>echo_package包体包含PTF实现。</p><pre class="pre codeblock"><code>CREATE PACKAGE BODY echo_package AS FUNCTION describe（tab IN OUT DBMS_TF.TABLE_T，cols IN DBMS_TF.COLUMNS_T）RETURN DBMS_TF.DESCRIBE_T AS new_cols DBMS_TF.COLUMNS_NEW_T; col_id PLS_INTEGER：= 1;开始为我在1 ..标签。COLINN.COUNT LOOP FOR J IN 1 .. cols。COUNT LOOP IF（标签。COLUMN（i）。description.name = cols（j））那么如果（不是DBMS_TF.SUPPORTED_TYPE（标签。COLUMN（ⅰ）.DESCRIPTION。TYPE））THEN RAISE_APPLICATION_ERROR（-20102，'不支持的列类型['|| TAB.COLUMN（i）.description。TYPE || ']'）;万一; TAB.COLUMN（i）.for_read：= TRUE; NEW_COLS（col_id）：= TAB.COLUMN（i）.description; NEW_COLS（col_id）.name：= prefix || TAB.COLUMN（ⅰ）.description.name; col_id：= col_id + 1;出口;万一;结束循环;结束循环; / *验证找到所有列* / IF（col_id  -  1！= cols。COUNT）THEN RAISE_APPLICATION_ERROR（-20101，'列不匹配['|| col_id  -  1 ||']，['|| cols。COUNT || ']'）;万一; RETURN DBMS_TF.DESCRIBE_T（new_columns =&gt; new_cols）;结束; PROCEDURE FETCH_ROWS作为ROWSET DBMS_TF.ROW_SET_T; BEGIN DBMS_TF.GET_ROW_SET（rowset）; DBMS_TF.PUT_ROW_SET（行集）;结束; END echo_package;</code></pre><p>PTF echo引用实现包echo_package。</p><pre class="pre codeblock"><code>CREATE FUNCTION echo（tab TABLE，cols COLUMNS）RETURN TABLE PIPLINING ROW POLYMORPHIC使用echo_package;</code></pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-0F66E239-DE77-4C0E-AC76-D5B632AB8072__GUID-89FB0A5E-CFF3-44D5-938B-C6279DD7A05B">
                        <p class="titleinexample">示例169-4在查询中使用Echo PTF</p>
                        <p>此示例选择部门20中的所有员工。生成的行有三个新列<code class="codeph">ECHO_ENAME</code> ， <code class="codeph">ECHO_HIREDATE</code>和<code class="codeph">ECHO_SAL</code> 。</p><pre class="pre codeblock"><code>SELECT * FROM echo（scott.emp，COLUMNS（ename，sal，hiredate））WHERE deptno = 20;</code></pre><pre class="oac_no_warn" dir="ltr">EMPNO ENAME JOB MGR HIREDATE SAL COMM DEPTNO ECHO_ENAME ECHO_HIRE ECHO_SAL ----- ----- -------- ---- --------- ---- ---- ------ ---------- --------- -------- 7369 SMITH CLERK 7902 17-DEC-80 800 20 SMITH 17-DEC-80 800 7566 JONES MANAGER 7839 02-APR-81 2975 20 JONES 02-APR-81 2975 7788 SCOTT ANALYST 7566 19-APR-87 3000 20 SCOTT 19-APR-87 3000 7876 ADAMS CLERK 7788 23-MAY-87 1100 20 ADAMS 23 -MAY-87 1100 7902 FORD ANALYST 7566 03-DEC-81 3000 20 FORD 03-DEC-81 3000</pre><p>使用子查询<code class="codeph">W</code> ，显示<code class="codeph">ENAME</code> ， <code class="codeph">ECHO_LOC</code>和<code class="codeph">DNAME</code>在部门30薪水大于1000列所有员工。
                        </p><pre class="pre codeblock"><code>与w AS（选择e。*，dname，loc FROM scott.emp e，scott.dept d WHERE e.deptno = d.deptno）SELECT ename，echo_loc，dname FROM echo（w，COLUMNS（sal，dname，loc，hiredate））WHERE deptno = 30 AND echo_sal&gt; 1000;</code></pre><pre class="oac_no_warn" dir="ltr">ENAME ECHO_LOC DNAME ---------- --------------- -------- ALLEN芝加哥销售芝加哥芝加哥销售马丁芝加哥销售芝加哥芝加哥特卖芝加哥芝加哥销售</pre><p>使用子查询<code class="codeph">W</code> ，为薪水大于1000的所有员工显示<code class="codeph">ENAME</code>和<code class="codeph">DNAME</code>列。
                        </p><pre class="pre codeblock"><code>与w AS（选择e。*，dname，loc FROM scott.emp e，scott.dept d WHERE e.deptno = d.deptno）SELECT echo_ename，dname FROM echo（w，COLUMNS（loc，deptno，dname，ename））e WHERE ename IN（SELECT echo_ename FROM echo（scott.emp，COLUMNS（sal，deptno，ename，hiredate））WHERE deptno = e.echo_deptno AND sal&gt; 1000）;</code></pre><pre class="oac_no_warn" dir="ltr">ECHO_ENAME DNAME ---------- ---------- ALLEN SALES MILLER会计CLARK会计核算销售ADAMS研究专家销售SCOTT研究BLAKE销售JONES RESEARCH KING会计研究马丁销售</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-E67D4F4B-1FA5-4A9C-8F1D-83EB4A2A6DC2" name="GUID-E67D4F4B-1FA5-4A9C-8F1D-83EB4A2A6DC2"></a><h3 id="ARPLS-GUID-E67D4F4B-1FA5-4A9C-8F1D-83EB4A2A6DC2" class="sect3"><span class="enumeration_section">169.8</span> DBMS_TF数据结构</h3>
               <div>
                  <p>DBMS_TF包定义了这些RECORD类型，TABLE类型和子类型。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-E67D4F4B-1FA5-4A9C-8F1D-83EB4A2A6DC2__GUID-EA1BAF83-53C6-4646-9A5E-3115F9909E52">记录类型</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="DBMS_TF.html#GUID-B9284567-69FA-442D-B193-A44418EE7AC7" title="单列的数据（变体记录）。">COLUMN_DATA_T记录类型</a></p>
                        </li>
                        <li>
                           <p><a href="DBMS_TF.html#GUID-BF81AD20-0139-4A27-849C-DD4216217CEE" title="此类型包含有关现有表列或PTF生成的新列的元数据。">COLUMN_METADATA_T记录类型</a></p>
                        </li>
                        <li>
                           <p><a href="DBMS_TF.html#GUID-F721AF27-AA51-4813-B090-C285876B02F3" title="包含PTF特定属性的COLUMN_METADATA_T类型的列描述符记录。">COLUMN_T记录类型</a></p>
                        </li>
                        <li>
                           <p><a href="DBMS_TF.html#GUID-62B3CC06-D95E-4CD2-B264-EAAD4452CB66" title="PTF的DESCRIBE方法的返回类型。">DESCRIBE_T记录类型</a></p>
                        </li>
                        <li>
                           <p><a href="DBMS_TF.html#GUID-69D4B241-802D-44CC-BD04-ABF3DC0622C5" title="此记录包含有关多态表函数执行状态的元数据。">ENV_T记录类型</a></p>
                        </li>
                        <li>
                           <p><a href="DBMS_TF.html#GUID-3B1388A3-5E6C-45CF-B833-31D7CA43678F" title="该记录包含特定于多态表函数并行执行的元数据。">PARALLEL_ENV_T记录类型</a></p>
                        </li>
                        <li>
                           <p><a href="DBMS_TF.html#GUID-C29EF370-F918-4199-B8B2-A20B8EC47967" title="DESCRIBE函数输入表描述符参数是TABLE_T记录类型。">TABLE_T记录类型</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-E67D4F4B-1FA5-4A9C-8F1D-83EB4A2A6DC2__GUID-A708413A-6437-4352-AC51-5CEEC0D9EAD9">表类型</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="DBMS_TF.html#GUID-DB56A9B9-15A9-450C-BAFB-28BF4089AED3" title="每种受支持的类型都定义了相应的预定义集合">支持的类型集合</a> （TAB_ &lt;typ&gt; _T）</p>
                        </li>
                        <li>
                           <p><a href="DBMS_TF.html#GUID-BE3D92DB-E1CC-424E-8259-C9CEC0B074E7" title="新列的集合">COLUMNS_NEW_T表类型</a></p>
                        </li>
                        <li>
                           <p><a href="DBMS_TF.html#GUID-C7F0225A-D62E-4071-82FA-A2C81A63E3FA" title="包含列名的集合">COLUMNS_T表类型</a></p>
                        </li>
                        <li>
                           <p><a href="DBMS_TF.html#GUID-B1594949-62E5-4D0E-B721-C014EBA212C0" title="包含列元数据的集合">COLUMNS_WITH_TYPE_T表类型</a></p>
                        </li>
                        <li>
                           <p><a href="DBMS_TF.html#GUID-CFE41BE1-6414-4547-9258-32F61CEC665A" title="列集合（COLUMN_T）">TABLE_COLUMNS_T表类型</a></p>
                        </li>
                        <li>
                           <p><a href="DBMS_TF.html#GUID-AFA813DD-462E-40A2-9794-EF11D44ABEA6" title="行集的数据">ROW_SET_T表类型</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-E67D4F4B-1FA5-4A9C-8F1D-83EB4A2A6DC2__GUID-A19E2FE4-4564-4415-97ED-571B54F1F480">类型</p>
                     <div class="p">
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="DBMS_TF.html#GUID-84687227-E47E-4B3C-AAE0-D72D7B66606F" title="XID_T子类型被定义为存储由函数GET_XID返回的执行唯一ID。">XID_T子类型</a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-E67D4F4B-1FA5-4A9C-8F1D-83EB4A2A6DC2__GUID-964DE12C-2959-491B-9213-E99DF6AA091E">CSTORE和XSTORE数据结构</p>
                     <p>编译和执行状态管理接口在内部使用数据结构。</p>
                     <p>有关更多信息，请参阅<a href="DBMS_TF.html#GUID-375CF300-0C4D-4EBD-8DC1-ACDB98B1BCBB__COLLECTIONSFORCOMPILATIONSTORAGE-35297006">用于编译存储的集合</a> 。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div class="sect3"><a id="GUID-DB56A9B9-15A9-450C-BAFB-28BF4089AED3" name="GUID-DB56A9B9-15A9-450C-BAFB-28BF4089AED3"></a><h4 id="ARPLS-GUID-DB56A9B9-15A9-450C-BAFB-28BF4089AED3" class="sect4"><span class="enumeration_section">169.8.1</span>支持的类型集合</h4>
                  <div>
                     <p>每种受支持的类型都定义了相应的预定义集合</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-DB56A9B9-15A9-450C-BAFB-28BF4089AED3__GUID-233A80D3-2571-49FC-BDB7-693CE4628432">句法</p>
                        <div class="p"><pre class="oac_no_warn" dir="ltr">TYPE TAB_BOOLEAN_T是PLS_INTEGER的BOOLEAN索引表; TYPE TAB_BINARY_FLOAT_T是PLS_INTEGER的BINARY_FLOAT索引表; TYPE TAB_BINARY_DOUBLE_T是PLS_INTEGER的BINARY_DOUBLE索引表; TYPE TAB_BLOB_T是PLS_INTEGER的BLOB索引表; TYPE TAB_CHAR_T是CHARS的表（32767）索引由PLS_INTEGER; TYPE TAB_CLOB_T是PLS_INTEGER的CLOB索引表; TYPE TAB_DATE_T是PLS_INTEGER的日期索引表; TYPE TAB_INTERVAL_YM_T是PLS_INTEGER的YMINTERVAL_UNCONSTRAINED索引表; TYPE TAB_INTERVAL_DS_T是PLS_INTEGER的DSINTERVAL_UNCONSTRAINED INDEX表; TYPE TAB_NATURALN_T是PLS_INTEGER的自然索引表; TYPE TAB_NUMBER_T是PLS_INTEGER的数字索引表; TYPE TAB_RAW_T是原始表（32767）索引由PLS_INTEGER; TYPE TAB_ROWID_T是PLS_INTEGER的ROWID索引表; TYPE TAB_VARCHAR2_T是VARCHAR2的表（32767）INDEX BY PLS_INTEGER; TYPE TAB_TIMESTAMP_T是PLEST_INTEGER的TIMESTAMP_UNCONSTRAINED INDEX表; TYPE TAB_TIMESTAMP_TZ_T是PLEST_INTEGER的TIMESTAMP_TZ_UNCONSTRAINED INDEX表; TYPE TAB_TIMESTAMP_LTZ_T是PLEST_INTEGER的TIMESTAMP_LTZ_UNCONSTRAINED INDEX表;</pre></div>
                        <div class="infoboxnotealso" id="GUID-DB56A9B9-15A9-450C-BAFB-28BF4089AED3__GUID-B1F03F4E-75B9-4C74-8FB9-CB22960F54FA">
                           <p class="notep1">也可以看看：</p>有关DBMS_TF支持的类型的更多信息，请<a href="DBMS_TF.html#GUID-92C604B3-D0F9-4306-AD2D-48CA202B3C05__DBMS_TFSUPPORTEDTYPES-3ACFD083" title="此表描述了DBMS_TF GET_COL和PUT_COL子程序的受支持类型。">参见表169-1</a></div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-B9284567-69FA-442D-B193-A44418EE7AC7" name="GUID-B9284567-69FA-442D-B193-A44418EE7AC7"></a><h4 id="ARPLS-GUID-B9284567-69FA-442D-B193-A44418EE7AC7" class="sect4"><span class="enumeration_section">169.8.2</span> COLUMN_DATA_T记录类型</h4>
                  <div>
                     <p>单列的数据（变体记录）。</p>
                     <div class="section">
                        <p>记录中只有一个变量字段处于活动状态。该描述包括有关活动的列类型的信息。</p>
                        <p>有关支持的类型列表，请参阅<a href="DBMS_TF.html#GUID-92C604B3-D0F9-4306-AD2D-48CA202B3C05__DBMS_TFSUPPORTEDTYPES-3ACFD083" title="此表描述了DBMS_TF GET_COL和PUT_COL子程序的受支持类型。">表169-1</a> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-B9284567-69FA-442D-B193-A44418EE7AC7__GUID-39BFF89D-AE22-4771-B92B-FAF605314EB6">句法</p><pre class="oac_no_warn" dir="ltr">TYPE COLUMN_DATA_T IS RECORD（介绍COLUMN_METADATA_T，tab_varchar2 TAB_VARCHAR2_T，tab_number TAB_NUMBER_T，tab_date TAB_DATE_T，tab_binary_float TAB_BINARY_FLOAT_T，tab_binary_double TAB_BINARY_DOUBLE_T，tab_raw TAB_RAW_T，tab_char TAB_CHAR_T，tab_clob TAB_CLOB_T，tab_blob TAB_BLOB_T，tab_timestamp TAB_TIMESTAMP_T，tab_timestamp_tz TAB_TIMESTAMP_TZ_T，tab_interval_ym TAB_INTERVAL_YM_T，tab_interval_ds TAB_INTERVAL_DS_T，tab_timestamp_ltz TAB_TIMESTAMP_LTZ_T， tab_rowid TAB_ROWID_T）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-B9284567-69FA-442D-B193-A44418EE7AC7__GUID-7502ACDD-BA05-4891-BE91-D74880E5B84E">字段</p>
                        <div class="tblformal" id="GUID-B9284567-69FA-442D-B193-A44418EE7AC7__GUID-271FCC26-1DC1-4733-B508-5E3E79CE6DD7">
                           <p class="titleintable">表169-7 COLUMN_DATA_T字段</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="COLUMN_DATA_T个字段" width="100%" border="1" summary="This table describes the fields of the record type COLUMN_DATA_T and briefly describes them." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="40%" id="d1047042e4091">领域</th>
                                    <th align="left" valign="bottom" width="60%" id="d1047042e4094">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="40%" id="d1047042e4099" headers="d1047042e4091 ">
                                       <p><code class="codeph">描述</code></p>
                                    </td>
                                    <td align="left" valign="top" width="60%" headers="d1047042e4099 d1047042e4094 ">
                                       <p>标记定义列的元数据，指示哪个变体字段处于活动状态。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="40%" id="d1047042e4107" headers="d1047042e4091 ">
                                       <p><code class="codeph">tab_varchar2</code></p>
                                    </td>
                                    <td align="left" valign="top" width="60%" headers="d1047042e4107 d1047042e4094 ">
                                       <p>变体字段</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="40%" id="d1047042e4115" headers="d1047042e4091 ">
                                       <p><code class="codeph">tab_number</code></p>
                                    </td>
                                    <td align="left" valign="top" width="60%" headers="d1047042e4115 d1047042e4094 ">
                                       <p>变体字段</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="40%" id="d1047042e4123" headers="d1047042e4091 ">
                                       <p><code class="codeph">tab_date</code></p>
                                    </td>
                                    <td align="left" valign="top" width="60%" headers="d1047042e4123 d1047042e4094 ">
                                       <p>变体字段</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="40%" id="d1047042e4131" headers="d1047042e4091 ">
                                       <p><code class="codeph">tab_binary_float</code></p>
                                    </td>
                                    <td align="left" valign="top" width="60%" headers="d1047042e4131 d1047042e4094 ">
                                       <p>变体字段</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="40%" id="d1047042e4139" headers="d1047042e4091 ">
                                       <p><code class="codeph">tab_binary_double</code></p>
                                    </td>
                                    <td align="left" valign="top" width="60%" headers="d1047042e4139 d1047042e4094 ">
                                       <p>变体字段</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="40%" id="d1047042e4147" headers="d1047042e4091 ">
                                       <p><code class="codeph">tab_raw</code></p>
                                    </td>
                                    <td align="left" valign="top" width="60%" headers="d1047042e4147 d1047042e4094 ">
                                       <p>变体字段</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="40%" id="d1047042e4155" headers="d1047042e4091 ">
                                       <p><code class="codeph">tab_char</code></p>
                                    </td>
                                    <td align="left" valign="top" width="60%" headers="d1047042e4155 d1047042e4094 ">
                                       <p>变体字段</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="40%" id="d1047042e4163" headers="d1047042e4091 ">
                                       <p><code class="codeph">tab_clob</code></p>
                                    </td>
                                    <td align="left" valign="top" width="60%" headers="d1047042e4163 d1047042e4094 ">
                                       <p>变体字段</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="40%" id="d1047042e4171" headers="d1047042e4091 ">
                                       <p><code class="codeph">tab_blob</code></p>
                                    </td>
                                    <td align="left" valign="top" width="60%" headers="d1047042e4171 d1047042e4094 ">
                                       <p>变体字段</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="40%" id="d1047042e4179" headers="d1047042e4091 ">
                                       <p><code class="codeph">tab_timestamp</code></p>
                                    </td>
                                    <td align="left" valign="top" width="60%" headers="d1047042e4179 d1047042e4094 ">
                                       <p>变体字段</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="40%" id="d1047042e4188" headers="d1047042e4091 ">
                                       <p><code class="codeph">tab_timestamp_tz</code></p>
                                    </td>
                                    <td align="left" valign="top" width="60%" headers="d1047042e4188 d1047042e4094 ">
                                       <p>变体字段</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="40%" id="d1047042e4196" headers="d1047042e4091 ">
                                       <p><code class="codeph">tab_interval_ym</code></p>
                                    </td>
                                    <td align="left" valign="top" width="60%" headers="d1047042e4196 d1047042e4094 ">
                                       <p>变体字段</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="40%" id="d1047042e4204" headers="d1047042e4091 ">
                                       <p><code class="codeph">tab_interval_ds</code></p>
                                    </td>
                                    <td align="left" valign="top" width="60%" headers="d1047042e4204 d1047042e4094 ">
                                       <p>变体字段</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="40%" id="d1047042e4212" headers="d1047042e4091 ">
                                       <p><code class="codeph">tab_timestamp_ltz</code></p>
                                    </td>
                                    <td align="left" valign="top" width="60%" headers="d1047042e4212 d1047042e4094 ">
                                       <p>变体字段</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="40%" id="d1047042e4220" headers="d1047042e4091 ">
                                       <p><code class="codeph">tab_rowid</code></p>
                                    </td>
                                    <td align="left" valign="top" width="60%" headers="d1047042e4220 d1047042e4094 ">
                                       <p>变体字段</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-BF81AD20-0139-4A27-849C-DD4216217CEE" name="GUID-BF81AD20-0139-4A27-849C-DD4216217CEE"></a><h4 id="ARPLS-GUID-BF81AD20-0139-4A27-849C-DD4216217CEE" class="sect4"><span class="enumeration_section">169.8.3</span> COLUMN_METADATA_T记录类型</h4>
                  <div>
                     <p>此类型包含有关现有表列或PTF生成的新列的元数据。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-BF81AD20-0139-4A27-849C-DD4216217CEE__GUID-A1918E26-4D83-4FBE-828D-3A89FFC0960E">句法</p><pre class="oac_no_warn" dir="ltr">TYPE COLUMN_METADATA_T是RECORD（类型PLS_INTEGER，max_len PLS_integer DEFAULT -1，名称VARCHAR2（32767），name_len PLS_INTEGER，precision PLS_INTEGER，scale PLS_INTEGER，charsetid PLS_INTEGER，charsetform PLS_INTEGER，collation PLS_INTEGER）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-BF81AD20-0139-4A27-849C-DD4216217CEE__GUID-55AC40FC-862B-4651-82EF-64ECEDC56636">字段</p>
                        <div class="tblformal" id="GUID-BF81AD20-0139-4A27-849C-DD4216217CEE__GUID-8CC86B51-C8EE-4B0A-BD63-34914B1AE687">
                           <p class="titleintable">表169-8 COLUMN_METADATA_T字段</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="COLUMN_METADATA_T字段" width="100%" border="1" summary="This table describes the fields of the record type COLUMN_METADATA_T and briefly describes them." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="28%" id="d1047042e4338">领域</th>
                                    <th align="left" valign="bottom" width="72%" id="d1047042e4341">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="28%" id="d1047042e4346" headers="d1047042e4338 ">
                                       <p><code class="codeph">类型</code></p>
                                    </td>
                                    <td align="left" valign="top" width="72%" headers="d1047042e4346 d1047042e4341 ">
                                       <p>列的类型的内部Oracle类型代码</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="28%" id="d1047042e4354" headers="d1047042e4338 ">
                                       <p><code class="codeph">MAX_LEN</code></p>
                                    </td>
                                    <td align="left" valign="top" width="72%" headers="d1047042e4354 d1047042e4341 ">
                                       <p>列的最大长度。如果它小于允许的最大长度，那么将使用该值，如果它是NULL或零，则将使用零。如果它小于零，则将使用最大允许长度。如果类型（如date，float）不关心长度，那么这个值将被忽略。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="28%" id="d1047042e4362" headers="d1047042e4338 ">
                                       <p><code class="codeph">名称</code></p>
                                    </td>
                                    <td align="left" valign="top" width="72%" headers="d1047042e4362 d1047042e4341 ">
                                       <p>列的名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="28%" id="d1047042e4370" headers="d1047042e4338 ">
                                       <p><code class="codeph">name_len</code></p>
                                    </td>
                                    <td align="left" valign="top" width="72%" headers="d1047042e4370 d1047042e4341 ">
                                       <p>名称的长度</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="28%" id="d1047042e4378" headers="d1047042e4338 ">
                                       <p><code class="codeph">精确</code></p>
                                    </td>
                                    <td align="left" valign="top" width="72%" headers="d1047042e4378 d1047042e4341 ">
                                       <p>精度或最大有效十进制数字数（对于数字数据类型）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="28%" id="d1047042e4386" headers="d1047042e4338 ">
                                       <p><code class="codeph">规模</code></p>
                                    </td>
                                    <td align="left" valign="top" width="72%" headers="d1047042e4386 d1047042e4341 ">
                                       <p>比例，或从小数点到最低有效数字的位数（对于数字数据类型）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="28%" id="d1047042e4394" headers="d1047042e4338 ">
                                       <p><code class="codeph">字符设置</code></p>
                                    </td>
                                    <td align="left" valign="top" width="72%" headers="d1047042e4394 d1047042e4341 ">
                                       <p>字符集ID（内部Oracle代码，适用于字符串类型）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="28%" id="d1047042e4402" headers="d1047042e4338 ">
                                       <p><code class="codeph">charsetform</code></p>
                                    </td>
                                    <td align="left" valign="top" width="72%" headers="d1047042e4402 d1047042e4341 ">
                                       <p>字符集表单（内部Oracle代码，适用于字符串类型）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="28%" id="d1047042e4410" headers="d1047042e4338 ">
                                       <p><code class="codeph">整理</code></p>
                                    </td>
                                    <td align="left" valign="top" width="72%" headers="d1047042e4410 d1047042e4341 ">
                                       <p>排序规则ID（内部Oracle代码，适用于字符串类型）</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-F721AF27-AA51-4813-B090-C285876B02F3" name="GUID-F721AF27-AA51-4813-B090-C285876B02F3"></a><h4 id="ARPLS-GUID-F721AF27-AA51-4813-B090-C285876B02F3" class="sect4"><span class="enumeration_section">169.8.4</span> COLUMN_T记录类型</h4>
                  <div>
                     <p>包含PTF特定属性的COLUMN_METADATA_T类型的列描述符记录。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-F721AF27-AA51-4813-B090-C285876B02F3__GUID-395F209D-772E-41AF-B004-F317C13E7A44">句法</p><pre class="oac_no_warn" dir="ltr">TYPE column_t是RECORD（描述COLUMN_METADATA_T，pass_through BOOLEAN，for_read BOOLEAN）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F721AF27-AA51-4813-B090-C285876B02F3__GUID-FC966BE9-4B6E-4BA3-BF87-11D6C25258F0">字段</p>
                        <div class="tblformal" id="GUID-F721AF27-AA51-4813-B090-C285876B02F3__GUID-DF1D39AF-65DE-431C-B8F1-2C368DADFB92">
                           <p class="titleintable">表169-9 COLUMN_T字段</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="COLUMN_T字段" width="100%" border="1" summary="This table describes the fields of the Record Type COLUMN_T and briefly describes them." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="28%" id="d1047042e4531">领域</th>
                                    <th align="left" valign="bottom" width="72%" id="d1047042e4534">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="28%" id="d1047042e4539" headers="d1047042e4531 ">
                                       <p><code class="codeph">描述</code></p>
                                    </td>
                                    <td align="left" valign="top" width="72%" headers="d1047042e4539 d1047042e4534 ">
                                       <p>列元数据</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="28%" id="d1047042e4547" headers="d1047042e4531 ">
                                       <p><code class="codeph">pass_through</code></p>
                                    </td>
                                    <td align="left" valign="top" width="72%" headers="d1047042e4547 d1047042e4534 ">
                                       <p>这是一个传递列</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="28%" id="d1047042e4555" headers="d1047042e4531 ">
                                       <p><code class="codeph">for_read</code></p>
                                    </td>
                                    <td align="left" valign="top" width="72%" headers="d1047042e4555 d1047042e4534 ">
                                       <p>该列是否由PTF读取</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-62B3CC06-D95E-4CD2-B264-EAAD4452CB66" name="GUID-62B3CC06-D95E-4CD2-B264-EAAD4452CB66"></a><h4 id="ARPLS-GUID-62B3CC06-D95E-4CD2-B264-EAAD4452CB66" class="sect4"><span class="enumeration_section">169.8.5</span> DESCRIBE_T记录类型</h4>
                  <div>
                     <p>PTF的DESCRIBE方法的返回类型。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-62B3CC06-D95E-4CD2-B264-EAAD4452CB66__GUID-812F9EFF-F724-4FD0-AFB8-2033E567C61E">句法</p><pre class="oac_no_warn" dir="ltr">TYPE DESCRIBE_T IS RECORD（NEW_COLUMNS COLUMNS_NEW_T DEFAULT COLUMNS_NEW_T（），CSTORE_CHR CSTORE_CHR_T DEFAULT CSTORE_CHR_T（），CSTORE_NUM CSTORE_NUM_T DEFAULT CSTORE_NUM_T（），CSTORE_BOL CSTORE_BOL_T DEFAULT CSTORE_BOL_T（），CSTORE_DAT CSTORE_DAT_T DEFAULT CSTORE_DAT_T（），METHOD_NAMES METHODS_T DEFAULT METHODS_T（））;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-62B3CC06-D95E-4CD2-B264-EAAD4452CB66__GUID-F66FC8AE-CCA6-4839-8117-4327DC23DD17">字段</p>
                        <div class="tblformal" id="GUID-62B3CC06-D95E-4CD2-B264-EAAD4452CB66__GUID-CD896F22-4B1C-46B4-94BC-2DD254DE7352">
                           <p class="titleintable">表169-10 DESCRIBE_T字段</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="DESCRIBE_T字段" width="100%" border="1" summary="This table describes the fields of the Record Type DESCRIBE_T and briefly describes them." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d1047042e4673">领域</th>
                                    <th align="left" valign="bottom" width="76%" id="d1047042e4676">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d1047042e4681" headers="d1047042e4673 ">
                                       <p><code class="codeph">NEW_COLUMNS</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d1047042e4681 d1047042e4676 ">
                                       <p>将由PTF生成的新列描述</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d1047042e4689" headers="d1047042e4673 ">
                                       <p><code class="codeph">CSTORE_CHR</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d1047042e4689 d1047042e4676 ">
                                       <p>CStore数组键类型： <code class="codeph">VARCHAR2</code> （可选）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d1047042e4700" headers="d1047042e4673 ">
                                       <p><code class="codeph">CSTORE_NUM</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d1047042e4700 d1047042e4676 ">
                                       <p>CStore数组键类型： <code class="codeph">NUMBER</code> （可选）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d1047042e4711" headers="d1047042e4673 ">
                                       <p><code class="codeph">CSTORE_BOL</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d1047042e4711 d1047042e4676 ">
                                       <p>CStore数组键类型： <code class="codeph">BOOLEAN</code> （可选）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d1047042e4722" headers="d1047042e4673 ">
                                       <p><code class="codeph">CSTORE_DAT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d1047042e4722 d1047042e4676 ">
                                       <p>CStore数组键类型： <code class="codeph">DATE</code> （可选）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d1047042e4733" headers="d1047042e4673 ">
                                       <p><code class="codeph">METHOD_NAMES</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d1047042e4733 d1047042e4676 ">
                                       <p>方法名称，如果用户想要覆盖<code class="codeph">OPEN</code> ， <code class="codeph">FETCH_ROWS</code> ， <code class="codeph">CLOSE</code>方法</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-69D4B241-802D-44CC-BD04-ABF3DC0622C5" name="GUID-69D4B241-802D-44CC-BD04-ABF3DC0622C5"></a><h4 id="ARPLS-GUID-69D4B241-802D-44CC-BD04-ABF3DC0622C5" class="sect4"><span class="enumeration_section">169.8.6</span> ENV_T记录类型</h4>
                  <div>
                     <p>此记录包含有关多态表函数执行状态的元数据。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-69D4B241-802D-44CC-BD04-ABF3DC0622C5__GUID-39009BFC-282E-4BFF-8931-B77E844934AF">句法</p><pre class="oac_no_warn" dir="ltr">TYPE ENV_T是RECORD（get_columns TABLE_METADATA_T，put_columns TABLE_METADATA_T，ref_put_col REFERENCED_COLS_T，parallel_env PARALLEL_ENV_T，query_optim BOOLEAN，row_count PLS_INTEGER，row_replication BOOLEAN，row_insertion BOOLEAN）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-69D4B241-802D-44CC-BD04-ABF3DC0622C5__GUID-2FD1E1E9-21C8-4783-86BC-3135A95B2562">字段</p>
                        <div class="tblformal" id="GUID-69D4B241-802D-44CC-BD04-ABF3DC0622C5__GUID-19A23A42-8336-4262-91FF-93EF078A1C5B">
                           <p class="titleintable">表169-11 ENV_T字段</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="ENV_T字段" width="100%" border="1" summary="This table describes the fields of the record type ENV_T and briefly describes them." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="28%" id="d1047042e4859">领域</th>
                                    <th align="left" valign="bottom" width="72%" id="d1047042e4862">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="28%" id="d1047042e4867" headers="d1047042e4859 ">
                                       <p><code class="codeph">get_columns</code></p>
                                    </td>
                                    <td align="left" valign="top" width="72%" headers="d1047042e4867 d1047042e4862 ">
                                       <p>有关PTF <code class="codeph">GET_COL</code>过程读取的列的元数据</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="28%" id="d1047042e4878" headers="d1047042e4859 ">
                                       <p><code class="codeph">put_columns</code></p>
                                    </td>
                                    <td align="left" valign="top" width="72%" headers="d1047042e4878 d1047042e4862 ">
                                       <p>有关通过<code class="codeph">PUT_COL</code>过程发回数据库的列的元数据</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="28%" id="d1047042e4889" headers="d1047042e4859 ">
                                       <p><code class="codeph">ref_put_col</code></p>
                                    </td>
                                    <td align="left" valign="top" width="72%" headers="d1047042e4889 d1047042e4862 ">
                                       <p>如果在查询中引用了put列，则为TRUE</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="28%" id="d1047042e4897" headers="d1047042e4859 ">
                                       <p><code class="codeph">parallel_env</code></p>
                                    </td>
                                    <td align="left" valign="top" width="72%" headers="d1047042e4897 d1047042e4862 ">
                                       <p>并行执行信息（当查询并行运行时）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="28%" id="d1047042e4905" headers="d1047042e4859 ">
                                       <p><code class="codeph">query_optim</code></p>
                                    </td>
                                    <td align="left" valign="top" width="72%" headers="d1047042e4905 d1047042e4862 ">
                                       <p>这是执行查询优化吗？</p>
                                       <p>如果查询是代表优化器运行的，则为TRUE</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="28%" id="d1047042e4915" headers="d1047042e4859 ">
                                       <p><code class="codeph">ROW_COUNT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="72%" headers="d1047042e4915 d1047042e4862 ">
                                       <p>当前行集中的行数</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="28%" id="d1047042e4923" headers="d1047042e4859 ">
                                       <p><code class="codeph">row_replication</code></p>
                                    </td>
                                    <td align="left" valign="top" width="72%" headers="d1047042e4923 d1047042e4862 ">
                                       <p>是否启用了行复制？</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="28%" id="d1047042e4931" headers="d1047042e4859 ">
                                       <p><code class="codeph">row_insertion</code></p>
                                    </td>
                                    <td align="left" valign="top" width="72%" headers="d1047042e4931 d1047042e4862 ">
                                       <p>行插入是否已启用？</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-3B1388A3-5E6C-45CF-B833-31D7CA43678F" name="GUID-3B1388A3-5E6C-45CF-B833-31D7CA43678F"></a><h4 id="ARPLS-GUID-3B1388A3-5E6C-45CF-B833-31D7CA43678F" class="sect4"><span class="enumeration_section">169.8.7</span> PARALLEL_ENV_T记录类型</h4>
                  <div>
                     <p>该记录包含特定于多态表函数并行执行的元数据。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-3B1388A3-5E6C-45CF-B833-31D7CA43678F__GUID-558474BB-4561-43C1-9724-EDBF209F7068">句法</p><pre class="oac_no_warn" dir="ltr">TYPE PARALLEL_ENV_T是RECORD（instance_id PLS_INTEGER，session_id PLS_INTEGER，slave_svr_grp PLS_INTEGER，slave_set_no PLS_INTEGER，no_slocal_slaves PLS_INTEGER，global_slave_no PLS_INTEGER，no_local_slaves PLS_INTEGER，local_slave_no PLS_INTEGER）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-3B1388A3-5E6C-45CF-B833-31D7CA43678F__FIELDS-212B1C93">字段</p>
                        <div class="tblformal" id="GUID-3B1388A3-5E6C-45CF-B833-31D7CA43678F__GUID-541F7B71-3BC9-40E2-935E-F20A534CDFD9">
                           <p class="titleintable">表169-12 PARALLEL_ENV_T字段</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="PARALLEL_ENV_T字段" width="100%" border="1" summary="This table describes the fields of the record type PARALLEL_ENV_T and briefly describes them." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="28%" id="d1047042e5048">领域</th>
                                    <th align="left" valign="bottom" width="72%" id="d1047042e5051">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="28%" id="d1047042e5056" headers="d1047042e5048 ">
                                       <p><code class="codeph">INSTANCE_ID</code></p>
                                    </td>
                                    <td align="left" valign="top" width="72%" headers="d1047042e5056 d1047042e5051 ">
                                       <p>QC实例ID</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="28%" id="d1047042e5064" headers="d1047042e5048 ">
                                       <p><code class="codeph">SESSION_ID</code></p>
                                    </td>
                                    <td align="left" valign="top" width="72%" headers="d1047042e5064 d1047042e5051 ">
                                       <p>QC会话ID</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="28%" id="d1047042e5072" headers="d1047042e5048 ">
                                       <p><code class="codeph">slave_svr_grp</code></p>
                                    </td>
                                    <td align="left" valign="top" width="72%" headers="d1047042e5072 d1047042e5051 ">
                                       <p>从服务器组</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="28%" id="d1047042e5080" headers="d1047042e5048 ">
                                       <p><code class="codeph">slave_set_no</code></p>
                                    </td>
                                    <td align="left" valign="top" width="72%" headers="d1047042e5080 d1047042e5051 ">
                                       <p>从服务器设置号</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="28%" id="d1047042e5088" headers="d1047042e5048 ">
                                       <p><code class="codeph">no_slocal_slaves</code></p>
                                    </td>
                                    <td align="left" valign="top" width="72%" headers="d1047042e5088 d1047042e5051 ">
                                       <p>兄弟奴隶的数量（包括自己）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="28%" id="d1047042e5096" headers="d1047042e5048 ">
                                       <p><code class="codeph">global_slave_no</code></p>
                                    </td>
                                    <td align="left" valign="top" width="72%" headers="d1047042e5096 d1047042e5051 ">
                                       <p>全局从站号（基数为0）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="28%" id="d1047042e5104" headers="d1047042e5048 ">
                                       <p><code class="codeph">no_local_slaves</code></p>
                                    </td>
                                    <td align="left" valign="top" width="72%" headers="d1047042e5104 d1047042e5051 ">
                                       <p>在实例上运行的兄弟从属的数量</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="28%" id="d1047042e5112" headers="d1047042e5048 ">
                                       <p><code class="codeph">local_slave_no</code></p>
                                    </td>
                                    <td align="left" valign="top" width="72%" headers="d1047042e5112 d1047042e5051 ">
                                       <p>本地从站号（基数为0）</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-C29EF370-F918-4199-B8B2-A20B8EC47967" name="GUID-C29EF370-F918-4199-B8B2-A20B8EC47967"></a><h4 id="ARPLS-GUID-C29EF370-F918-4199-B8B2-A20B8EC47967" class="sect4"><span class="enumeration_section">169.8.8</span> TABLE_T记录类型</h4>
                  <div>
                     <p>DESCRIBE函数输入表描述符参数是TABLE_T记录类型。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-C29EF370-F918-4199-B8B2-A20B8EC47967__GUID-24F44711-7419-4D25-BCDB-1C69C21C8E84">句法</p><pre class="oac_no_warn" dir="ltr">TYPE TABLE_T是RECORD（列TABLE_COLUMNS_T，schema_name DBMS_id，package_name DBMS_id，ptf_name DBMS_id）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-C29EF370-F918-4199-B8B2-A20B8EC47967__GUID-E00A868E-A168-49F9-8A6F-1BAB60BB7BE1">字段</p>
                        <div class="tblformal" id="GUID-C29EF370-F918-4199-B8B2-A20B8EC47967__GUID-307D21DA-2CC1-4741-871A-DE2F6692A0B0">
                           <p class="titleintable">表169-13 TABLE_T字段</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="TABLE_T字段" width="100%" border="1" summary="This table describes the fields of the record type TABLE_T  and briefly describes them." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="28%" id="d1047042e5234">领域</th>
                                    <th align="left" valign="bottom" width="72%" id="d1047042e5237">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="28%" id="d1047042e5242" headers="d1047042e5234 ">
                                       <p><code class="codeph">柱</code></p>
                                    </td>
                                    <td align="left" valign="top" width="72%" headers="d1047042e5242 d1047042e5237 ">
                                       <p>列信息</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="28%" id="d1047042e5250" headers="d1047042e5234 ">
                                       <p><code class="codeph">SCHEMA_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="72%" headers="d1047042e5250 d1047042e5237 ">
                                       <p>PTF架构名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="28%" id="d1047042e5258" headers="d1047042e5234 ">
                                       <p><code class="codeph">包裹名字</code></p>
                                    </td>
                                    <td align="left" valign="top" width="72%" headers="d1047042e5258 d1047042e5237 ">
                                       <p>PTF实现包名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="28%" id="d1047042e5266" headers="d1047042e5234 ">
                                       <p><code class="codeph">ptf_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="72%" headers="d1047042e5266 d1047042e5237 ">
                                       <p>调用了PTF名称</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-BE3D92DB-E1CC-424E-8259-C9CEC0B074E7" name="GUID-BE3D92DB-E1CC-424E-8259-C9CEC0B074E7"></a><h4 id="ARPLS-GUID-BE3D92DB-E1CC-424E-8259-C9CEC0B074E7" class="sect4"><span class="enumeration_section">169.8.9</span> COLUMNS_NEW_T表类型</h4>
                  <div>
                     <p>新列的集合</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-BE3D92DB-E1CC-424E-8259-C9CEC0B074E7__GUID-A2501DC5-2EBB-4395-9D96-1B0012FD7947">句法</p><pre class="oac_no_warn" dir="ltr">TYPE COLUMNS_NEW_T是PLYS_INTEGER的COLUMN_METADATA_T索引表;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-C7F0225A-D62E-4071-82FA-A2C81A63E3FA" name="GUID-C7F0225A-D62E-4071-82FA-A2C81A63E3FA"></a><h4 id="ARPLS-GUID-C7F0225A-D62E-4071-82FA-A2C81A63E3FA" class="sect4"><span class="enumeration_section">169.8.10</span> COLUMNS_T表类型</h4>
                  <div>
                     <p>包含列名的集合</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-C7F0225A-D62E-4071-82FA-A2C81A63E3FA__GUID-ED68D682-0D46-450A-B815-65EBDA880C68">句法</p><pre class="oac_no_warn" dir="ltr">TYPE COLUMNS_T是DBMS_QUOTED_ID表;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-B1594949-62E5-4D0E-B721-C014EBA212C0" name="GUID-B1594949-62E5-4D0E-B721-C014EBA212C0"></a><h4 id="ARPLS-GUID-B1594949-62E5-4D0E-B721-C014EBA212C0" class="sect4"><span class="enumeration_section">169.8.11</span> COLUMNS_WITH_TYPE_T表类型</h4>
                  <div>
                     <p>包含列元数据的集合</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-B1594949-62E5-4D0E-B721-C014EBA212C0__GUID-72402F0F-5267-4801-97EE-5072669FC87A">句法</p><pre class="oac_no_warn" dir="ltr">TYPE COLUMNS_WITH_TYPE_T是COLUMN_METADATA_T表;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-CFE41BE1-6414-4547-9258-32F61CEC665A" name="GUID-CFE41BE1-6414-4547-9258-32F61CEC665A"></a><h4 id="ARPLS-GUID-CFE41BE1-6414-4547-9258-32F61CEC665A" class="sect4"><span class="enumeration_section">169.8.12</span> TABLE_COLUMNS_T表类型</h4>
                  <div>
                     <p>列集合（COLUMN_T）</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-CFE41BE1-6414-4547-9258-32F61CEC665A__GUID-61E21867-75DA-457A-A8BB-EA69A9C799E4">句法</p><pre class="oac_no_warn" dir="ltr">TYPE TABLE_COLUMNS_T是COLUMN_T表;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-AFA813DD-462E-40A2-9794-EF11D44ABEA6" name="GUID-AFA813DD-462E-40A2-9794-EF11D44ABEA6"></a><h4 id="ARPLS-GUID-AFA813DD-462E-40A2-9794-EF11D44ABEA6" class="sect4"><span class="enumeration_section">169.8.13</span> ROW_SET_T表类型</h4>
                  <div>
                     <p>行集的数据</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-AFA813DD-462E-40A2-9794-EF11D44ABEA6__GUID-6EDE6078-EB52-4F58-B7D2-D820032A71BB">句法</p><pre class="oac_no_warn" dir="ltr">TYPE ROW_SET_T是PLUM_INTEGER的COLUMN_DATA_T索引表;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-84687227-E47E-4B3C-AAE0-D72D7B66606F" name="GUID-84687227-E47E-4B3C-AAE0-D72D7B66606F"></a><h4 id="ARPLS-GUID-84687227-E47E-4B3C-AAE0-D72D7B66606F" class="sect4"><span class="enumeration_section">169.8.14</span> XID_T子类型</h4>
                  <div>
                     <p>XID_T子类型被定义为存储由函数GET_XID返回的执行唯一ID。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-84687227-E47E-4B3C-AAE0-D72D7B66606F__GUID-44F30155-3F9E-462E-A56F-F07C262224BF">句法</p><pre class="oac_no_warn" dir="ltr">SUBTYPE XID_T IS VARCHAR2（1024）;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-D03D40B2-1D30-4292-938D-8E668C00EBE9" name="GUID-D03D40B2-1D30-4292-938D-8E668C00EBE9"></a><h3 id="ARPLS-GUID-D03D40B2-1D30-4292-938D-8E668C00EBE9" class="sect3"><span class="enumeration_section">169.9</span> DBMS_TF子程序摘要</h3>
               <div>
                  <p>本摘要简要介绍了<code class="codeph">DBMS_TF</code>程序。
                  </p>
                  <div class="section">
                     <div class="tblformal" id="GUID-D03D40B2-1D30-4292-938D-8E668C00EBE9__PTFSERVERAPISUBPROGRAMS-1E13D7E0">
                        <p class="titleintable">表169-14 DBMS_TF子程序</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_TF子程序" width="100%" border="1" summary="This table lists the DBMS_TF package subprograms in alphabetical order and briefly describes them." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" id="d1047042e5957">子程序</th>
                                 <th align="left" valign="bottom" id="d1047042e5960">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d1047042e5965" headers="d1047042e5957 ">
                                    <p><code class="codeph">COLUMN_TYPE_NAME</code>功能</p>
                                 </td>
                                 <td align="left" valign="top" headers="d1047042e5965 d1047042e5960 ">
                                    <p>返回指定列类型的类型名称</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d1047042e5974" headers="d1047042e5957 ">
                                    <p><code class="codeph">COL_TO_CHAR</code>功能</p>
                                 </td>
                                 <td align="left" valign="top" headers="d1047042e5974 d1047042e5960 ">
                                    <p>返回指定列的字符串表示形式</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d1047042e5983" headers="d1047042e5957 ">
                                    <p><code class="codeph">CSTORE_EXISTS</code>功能</p>
                                 </td>
                                 <td align="left" valign="top" headers="d1047042e5983 d1047042e5960 ">
                                    <p>如果PTF编译状态管理存储中存在具有给定键的项，则返回TRUE</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d1047042e5992" headers="d1047042e5957 ">
                                    <p><code class="codeph">CSTORE_GET</code>程序</p>
                                 </td>
                                 <td align="left" valign="top" headers="d1047042e5992 d1047042e5960 ">
                                    <p>从PTF编译状态管理存储中获取指定类型的项目</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d1047042e6001" headers="d1047042e5957 ">
                                    <p><code class="codeph">GET_COL</code>程序</p>
                                 </td>
                                 <td align="left" valign="top" headers="d1047042e6001 d1047042e5960 ">
                                    <p>获取读取列值</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d1047042e6010" headers="d1047042e5957 ">
                                    <p><code class="codeph">GET_ENV</code>功能</p>
                                 </td>
                                 <td align="left" valign="top" headers="d1047042e6010 d1047042e5960 ">
                                    <p>返回有关PTF运行时环境的信息</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d1047042e6019" headers="d1047042e5957 ">
                                    <p><code class="codeph">GET_ROW_SET</code>程序</p>
                                 </td>
                                 <td align="left" valign="top" headers="d1047042e6019 d1047042e5960 ">
                                    <p>获取集合中的列值的读取集</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d1047042e6028" headers="d1047042e5957 ">
                                    <p><code class="codeph">GET_XID</code>功能</p>
                                 </td>
                                 <td align="left" valign="top" headers="d1047042e6028 d1047042e5960 ">
                                    <p>返回一个唯一的执行ID，PTF可以使用该id来索引任何特定于游标的运行时状态</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d1047042e6037" headers="d1047042e5957 ">
                                    <p><code class="codeph">PUT_COL</code>程序</p>
                                 </td>
                                 <td align="left" valign="top" headers="d1047042e6037 d1047042e5960 ">
                                    <p>将列值放在数据库中</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d1047042e6046" headers="d1047042e5957 ">
                                    <p><code class="codeph">PUT_ROW_SET</code>程序</p>
                                 </td>
                                 <td align="left" valign="top" headers="d1047042e6046 d1047042e5960 ">
                                    <p>将集合读取的列值集放入数据库中</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d1047042e6055" headers="d1047042e5957 ">
                                    <p><code class="codeph">ROW_REPLICATION</code>程序</p>
                                 </td>
                                 <td align="left" valign="top" headers="d1047042e6055 d1047042e5960 ">
                                    <p>设置行复制因子</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d1047042e6065" headers="d1047042e5957 ">
                                    <p><code class="codeph">ROW_TO_CHAR</code>函数</p>
                                 </td>
                                 <td align="left" valign="top" headers="d1047042e6065 d1047042e5960 ">
                                    <p>返回行集中行的字符串表示形式</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d1047042e6074" headers="d1047042e5957 ">
                                    <p><code class="codeph">SUPPORTED_TYPE</code>功能</p>
                                 </td>
                                 <td align="left" valign="top" headers="d1047042e6074 d1047042e5960 ">
                                    <p>如果PTF基础结构支持指定的类型，则返回TRUE</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d1047042e6083" headers="d1047042e5957 ">
                                    <p><code class="codeph">TRACE</code>程序</p>
                                 </td>
                                 <td align="left" valign="top" headers="d1047042e6083 d1047042e5960 ">
                                    <p>打印数据结构以帮助开发和问题诊断</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d1047042e6092" headers="d1047042e5957 ">
                                    <p><code class="codeph">XSTORE_CLEAR</code>过程</p>
                                 </td>
                                 <td align="left" valign="top" headers="d1047042e6092 d1047042e5960 ">
                                    <p>从XStore中删除所有键值对</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d1047042e6101" headers="d1047042e5957 ">
                                    <p><code class="codeph">XSTORE_EXISTS</code>过程</p>
                                 </td>
                                 <td align="left" valign="top" headers="d1047042e6101 d1047042e5960 ">
                                    <p>如果键具有关联值，则返回TRUE</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d1047042e6110" headers="d1047042e5957 ">
                                    <p><code class="codeph">XSTORE_GET</code>程序</p>
                                 </td>
                                 <td align="left" valign="top" headers="d1047042e6110 d1047042e5960 ">
                                    <p>获取PTF执行状态管理的键值存储</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d1047042e6119" headers="d1047042e5957 ">
                                    <p><code class="codeph">XSTORE_REMOVE</code>过程</p>
                                 </td>
                                 <td align="left" valign="top" headers="d1047042e6119 d1047042e5960 ">
                                    <p>删除与给定键关联的任何值</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d1047042e6128" headers="d1047042e5957 ">
                                    <p><code class="codeph">XSTORE_SET</code>过程</p>
                                 </td>
                                 <td align="left" valign="top" headers="d1047042e6128 d1047042e5960 ">
                                    <p>设置PTF执行状态管理的给定密钥库的值</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
               </div>
               <div class="sect3"><a id="GUID-7855D0E0-1ADB-4A90-AB9E-C33667C3D1C7" name="GUID-7855D0E0-1ADB-4A90-AB9E-C33667C3D1C7"></a><h4 id="ARPLS-GUID-7855D0E0-1ADB-4A90-AB9E-C33667C3D1C7" class="sect4"><span class="enumeration_section">169.9.1</span> COLUMN_TYPE_NAME函数</h4>
                  <div>
                     <p>返回指定列类型的类型名称。</p>
                     <div class="section"></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-7855D0E0-1ADB-4A90-AB9E-C33667C3D1C7__GUID-C560CC2F-362A-4BDA-B19E-9696B7AB315F">句法</p><pre class="oac_no_warn" dir="ltr">FUNCTION COLUMN_TYPE_NAME（col COLUMN_METADATA_T）RETURN VARCHAR2;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-7855D0E0-1ADB-4A90-AB9E-C33667C3D1C7__GUID-02A6BB18-DB44-4888-A62E-9EB50899A25A">参数</p>
                        <div class="tblformal" id="GUID-7855D0E0-1ADB-4A90-AB9E-C33667C3D1C7__GUID-77850840-32A8-447F-9E78-029466097EF6">
                           <p class="titleintable">表169-15 DBMS_TF.COLUMN_TYPE_NAME函数参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_TF.COLUMN_TYPE_NAME函数参数" width="100%" border="1" summary="This table describes the parameters of DBMS_TF.COLUMN_TYPE_NAME subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d1047042e6245">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d1047042e6248">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1047042e6253" headers="d1047042e6245 ">
                                       <p><code class="codeph">关口</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1047042e6253 d1047042e6248 ">
                                       <p>列元数据。请参见<a href="DBMS_TF.html#GUID-BF81AD20-0139-4A27-849C-DD4216217CEE" title="此类型包含有关现有表列或PTF生成的新列的元数据。">COLUMN_METADATA_T记录类型</a></p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-7855D0E0-1ADB-4A90-AB9E-C33667C3D1C7__GUID-E89C6139-51D6-4299-88E8-F1000F6C42AB">返回值</p>
                        <p>返回转换为文本的列类型。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-7855D0E0-1ADB-4A90-AB9E-C33667C3D1C7__GUID-7F45B90B-BF29-435F-9384-1AE2F89C7F53">
                        <p class="titleinexample">示例169-5 DBMS_TF.COLUMN_TYPE_NAME示例</p>
                        <p>此示例显示了一个应用程序类型检查，它调用<code class="codeph">COLUMN_TYPE_NAME</code>来比较列类型，如果列类型不是<code class="codeph">VARCHAR2</code>则引发应用程序错误。
                        </p><pre class="oac_no_warn" dir="ltr">FUNCTION描述（选项卡IN OUT DBMS_TF.table_t，cols IN DBMS_TF.columns_t）RETURN DBMS_TF.describe_t AS new_cols DBMS_TF.columns_new_t; col_id PLS_INTEGER：= 1; BEGIN for i IN 1 .. tab.count LOOP FOR j IN 1 .. cols.count LOOP IF（tab（i）.description.name = cols（j））THEN IF（DBMS_TF.column_type_name（tab（i）.description .type）！='VARCHAR2'）THEN raise_application_error（-20102，'Unsupported column type ['|| tab（i）.description.type ||']'）;万一; tab（i）.for_read：= true; new_cols（col_id）：= tab（i）.description; new_cols（col_id）.name：='ECHO_'||标签（ⅰ）.description.name; col_id：= col_id + 1;出口;万一;结束循环;结束循环; - 验证是否找到所有列IF（col_id  -  1！= cols.count）那么raise_application_error（-20101，'列不匹配['|| col_id-1 ||']，['|| cols.count ||']'）;万一; RETURN DBMS_TF.describe_t（new_columns =&gt; new_cols）;结束;</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-C8E533D9-243E-4874-86B9-116A97980A54" name="GUID-C8E533D9-243E-4874-86B9-116A97980A54"></a><h4 id="ARPLS-GUID-C8E533D9-243E-4874-86B9-116A97980A54" class="sect4"><span class="enumeration_section">169.9.2</span> COL_TO_CHAR功能</h4>
                  <div>
                     <p>返回指定列的字符串表示形式。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-C8E533D9-243E-4874-86B9-116A97980A54__GUID-9FAAB21A-D089-493A-8205-AA7C3E29B750">句法</p><pre class="oac_no_warn" dir="ltr">FUNCTION COL_TO_CHAR（col COLUMN_DATA_T，rid PLS_INTEGER，quote VARCHAR2 DEFAULT'“'）RETURN VARCHAR2;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-C8E533D9-243E-4874-86B9-116A97980A54__GUID-92599475-C73C-49E8-BBD3-27F26DC92B01">参数</p>
                        <div class="tblformal" id="GUID-C8E533D9-243E-4874-86B9-116A97980A54__GUID-F4B3D131-0356-4C46-B23E-3C174E6A78FB">
                           <p class="titleintable">表169-16 DBMS_TF.COL_TO_CHAR函数参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_TF.COL_TO_CHAR函数参数" width="100%" border="1" summary="This table describes the parameters of DBMS_TF.COL_TO_CHAR subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="33%" id="d1047042e6388">参数</th>
                                    <th align="left" valign="bottom" width="67%" id="d1047042e6391">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1047042e6396" headers="d1047042e6388 ">
                                       <p><code class="codeph">关口</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1047042e6396 d1047042e6391 ">
                                       <p>要转换其值的列</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1047042e6404" headers="d1047042e6388 ">
                                       <p><code class="codeph">摆脱</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1047042e6404 d1047042e6391 ">
                                       <p>行号</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1047042e6412" headers="d1047042e6388 ">
                                       <p><code class="codeph">引用</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1047042e6412 d1047042e6391 ">
                                       <p>用于非数字值的引号</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-C8E533D9-243E-4874-86B9-116A97980A54__GUID-5DBA798C-96A1-4AC0-9847-3B11603508AA">返回值</p>
                        <p>列数据值的字符串表示形式。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-C8E533D9-243E-4874-86B9-116A97980A54__GUID-D535E2D0-F92F-4580-AB84-1E6DB898B18B">
                        <p class="titleinexample">例169-6 DBMS_TF.COL_TO_CHAR示例</p><pre class="pre codeblock"><code>PROCEDURE Fetch_Rows AS rowset DBMS_TF.rROW_SET_T; str VARCHAR2（32000）; BEGIN DBMS_TF.GET_ROW_SET（rowset）; str：= DBMS_TF.COL_TO_CHAR（rowset（1），1）END;</code></pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-AB5593F5-D1FF-4676-927E-8000EA2A226E" name="GUID-AB5593F5-D1FF-4676-927E-8000EA2A226E"></a><h4 id="ARPLS-GUID-AB5593F5-D1FF-4676-927E-8000EA2A226E" class="sect4"><span class="enumeration_section">169.9.3</span> CSTORE_EXISTS函数</h4>
                  <div>
                     <p>如果Store PTF编译状态中存在具有给定键的项，则返回TRUE。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-AB5593F5-D1FF-4676-927E-8000EA2A226E__GUID-B514DD79-74EE-4C04-9DA0-ED8D1D6D4E9B">句法</p><pre class="oac_no_warn" dir="ltr">功能CSTORE_EXISTS（键IN VARCHAR2，key_type IN PLS_INTEGER默认为NULL）返回BOOLEAN;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-AB5593F5-D1FF-4676-927E-8000EA2A226E__GUID-382CD32B-FDC0-4B62-8E2E-2B578B7267A6">参数</p>
                        <div class="tblformal" id="GUID-AB5593F5-D1FF-4676-927E-8000EA2A226E__GUID-E049F941-6A91-4458-8FB4-E425244B62A6">
                           <p class="titleintable">表169-17 CSTORE_EXISTS函数参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="CSTORE_EXISTS函数参数" width="100%" border="1" summary="This table describes the parameters of DBMS_TF.CSTORE_EXISTS subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d1047042e6535">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d1047042e6538">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1047042e6543" headers="d1047042e6535 ">
                                       <p><code class="codeph">键</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1047042e6543 d1047042e6538 ">
                                       <p>一个独特的字符键</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1047042e6551" headers="d1047042e6535 ">
                                       <p><code class="codeph">为key_type</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1047042e6551 d1047042e6538 ">
                                       <p>键的类型（可选）默认值：NULL</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-AB5593F5-D1FF-4676-927E-8000EA2A226E__GUID-29140E33-5587-4A5C-AFE9-FD45DD3EFA6A">返回值</p>
                        <p>如果键具有关联值，则返回TRUE。当key_type为NULL（默认值）时，如果密钥具有任何受支持类型的关联值，则返回TRUE。</p>
                        <p>传递key_type参数值时，如果键和指定类型的键具有关联值，则返回TRUE。否则，它返回FALSE。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-AB5593F5-D1FF-4676-927E-8000EA2A226E__GUID-2D023F03-F7D9-4970-B597-1CFC7365D0B2">
                        <p class="titleinexample">示例169-7 DBMS_TF.CSTORE_EXISTS示例</p>
                        <p>此代码摘录在从编译存储区读取之前检查具有该键的项是否存在。</p><pre class="pre codeblock"><code>IF（DBMS_TF.CSTORE_EXISTS（'min'|| j））那么DBMS_TF.CSTORE_GET（'min'|| j，min_col）;万一;</code></pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-67C16F2C-8E61-4FF0-A426-FB7ECC5E05C0" name="GUID-67C16F2C-8E61-4FF0-A426-FB7ECC5E05C0"></a><h4 id="ARPLS-GUID-67C16F2C-8E61-4FF0-A426-FB7ECC5E05C0" class="sect4"><span class="enumeration_section">169.9.4</span> CSTORE_GET程序</h4>
                  <div>
                     <p>您可以使用CSTORE_GET过程获取为PTF编译状态存储的给定密钥的关联值。</p>
                     <div class="section">
                        <p>CSTORE是PTF编译状态管理界面。CSTORE接口用于在游标编译期间通过<code class="codeph">DBMS_TF.DESCRIBE</code>函数设置和存储键值对。
                        </p>
                        <p>您可以在运行时程序（如<code class="codeph">OPEN</code> ， <code class="codeph">FETCH_ROWS</code>和<code class="codeph">CLOSE</code>获取PTF编译状态。</p>
                        <p>此过程已超载。<code class="codeph">DESCRIBE_T</code>支持为这些标量类型指定键值对： <code class="codeph">VARCHAR2</code> ， <code class="codeph">NUMBER</code> ， <code class="codeph">DATE</code> ， <code class="codeph">BOOLEAN</code> 。</p>
                        <p>有关更多信息，请<a href="DBMS_TF.html#GUID-375CF300-0C4D-4EBD-8DC1-ACDB98B1BCBB__DBMS_TFCSTOREPREDEFINEDTYPES-24C5B880" title="此表描述了与CSTORE子程序一起使用的预定义标量支持的类型。">参见表169-3</a> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-67C16F2C-8E61-4FF0-A426-FB7ECC5E05C0__GUID-BB24D653-4A75-471A-B3D8-96A6358DC41B">句法</p>
                        <p>获取value out变量中与键关联的值。返回的值类型是受支持的标量类型之一。</p><pre class="oac_no_warn" dir="ltr">PROCEDURE CSTORE_GET（键入IN VARCHAR2，值IN OUT VARCHAR2）;</pre><pre class="oac_no_warn" dir="ltr">PROCEDURE CSTORE_GET（键入IN VARCHAR2，值IN OUT NUMBER）;</pre><pre class="oac_no_warn" dir="ltr">PROCEDURE CSTORE_GET（键入IN VARCHAR2，值IN OUT DATE）;</pre><pre class="oac_no_warn" dir="ltr">PROCEDURE CSTORE_GET（键入IN VARCHAR2，值IN OUT BOOLEAN）;</pre><p>如果没有将特定键作为输入参数传递，则返回CSTORE中存在的该类型的整个键值集合。</p><pre class="oac_no_warn" dir="ltr">PROCEDURE CSTORE_GET（key_value OUT CSTORE_CHR_T）; PROCEDURE CSTORE_GET（key_value OUT CSTORE_NUM_T）; PROCEDURE CSTORE_GET（key_value OUT CSTORE_BOL_T）; PROCEDURE CSTORE_GET（key_value OUT CSTORE_DAT_T）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-67C16F2C-8E61-4FF0-A426-FB7ECC5E05C0__GUID-BDF6D706-9B0C-45DA-B92B-51418D712969">参数</p>
                        <div class="tblformal" id="GUID-67C16F2C-8E61-4FF0-A426-FB7ECC5E05C0__GUID-6CF4FA16-4680-48D6-9AA5-7F8374B58A62">
                           <p class="titleintable">表169-18 DBMS_TF.CSTORE_GET过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_TF.CSTORE_GET过程参数" width="100%" border="1" summary="This table describes the parameters of DBMS_TF.CSTORE_GET subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="34%" id="d1047042e6735">参数</th>
                                    <th align="left" valign="bottom" width="66%" id="d1047042e6738">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="34%" id="d1047042e6743" headers="d1047042e6735 ">
                                       <p><code class="codeph">键</code></p>
                                    </td>
                                    <td align="left" valign="top" width="66%" headers="d1047042e6743 d1047042e6738 ">
                                       <p>一个独特的字符键</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="34%" id="d1047042e6751" headers="d1047042e6735 ">
                                       <p><code class="codeph">值</code></p>
                                    </td>
                                    <td align="left" valign="top" width="66%" headers="d1047042e6751 d1047042e6738 ">
                                       <p>与支持的类型的键对应的值</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="34%" id="d1047042e6759" headers="d1047042e6735 ">
                                       <p><code class="codeph">核心价值</code></p>
                                    </td>
                                    <td align="left" valign="top" width="66%" headers="d1047042e6759 d1047042e6738 ">
                                       <p>核心价值</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-D1C12B28-0D84-425B-8E1C-35650F434603" name="GUID-D1C12B28-0D84-425B-8E1C-35650F434603"></a><h4 id="ARPLS-GUID-D1C12B28-0D84-425B-8E1C-35650F434603" class="sect4"><span class="enumeration_section">169.9.5</span> GET_COL程序</h4>
                  <div>
                     <p>获取读取列值</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-D1C12B28-0D84-425B-8E1C-35650F434603__GUID-4B297F54-9BD7-497E-A8AD-26E009D5D928">句法</p><pre class="oac_no_warn" dir="ltr">程序GET_COL（columnId NUMBER，集合IN OUT NOCOPY &lt;datatype&gt;）;</pre><p>其中<span class="italic">&lt;datatype&gt;</span>可以是任何一种受支持的类型。
                        </p>有关支持的类型列表，请参阅<a href="DBMS_TF.html#GUID-92C604B3-D0F9-4306-AD2D-48CA202B3C05__DBMS_TFSUPPORTEDTYPES-3ACFD083" title="此表描述了DBMS_TF GET_COL和PUT_COL子程序的受支持类型。">表169-1</a> 。
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D1C12B28-0D84-425B-8E1C-35650F434603__GUID-9F622732-8612-490B-A0D3-FB6087ED8594">参数</p>
                        <div class="tblformal" id="GUID-D1C12B28-0D84-425B-8E1C-35650F434603__GUID-4BC10455-50D6-46FF-9347-3A7A551EE450">
                           <p class="titleintable">表169-19 GET_COL过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="GET_COL过程参数" width="100%" border="1" summary="This table describes the parameters of DBMS_TF.GET_COL subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="34%" id="d1047042e6897">参数</th>
                                    <th align="left" valign="bottom" width="66%" id="d1047042e6900">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="34%" id="d1047042e6905" headers="d1047042e6897 ">
                                       <p><code class="codeph">ColumnID的</code></p>
                                    </td>
                                    <td align="left" valign="top" width="66%" headers="d1047042e6905 d1047042e6900 ">
                                       <p>列的id</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="34%" id="d1047042e6913" headers="d1047042e6897 ">
                                       <p><code class="codeph">采集</code></p>
                                    </td>
                                    <td align="left" valign="top" width="66%" headers="d1047042e6913 d1047042e6900 ">
                                       <p>列的数据</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D1C12B28-0D84-425B-8E1C-35650F434603__GUID-4B7FE523-0D10-4D56-9323-6914803881B0">使用说明</p>
                        <p>此过程用于获取标量类型集合中的读取列值。</p>
                        <p>列号采用在PTF的<code class="codeph">DESCRIBE</code>方法中创建的get列顺序。</p>
                        <p>对于相同的ColumnId， <code class="codeph">GET_COL</code>和<code class="codeph">PUT_COL</code>可以对应于不同的列。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-D1C12B28-0D84-425B-8E1C-35650F434603__DBMS_TF.GET_COLEXAMPLE-353A1FBA">
                        <p class="titleinexample">例169-8 DBMS_TF.GET_COL示例</p>
                        <p>此示例是PTF实现包中定义的fetch_rows过程的摘录。</p><pre class="pre codeblock"><code>程序fetch_rows IS col1 DBMS_TF.TAB_CLOB_T; col2 DBMS_TF.TAB_CLOB_T; out1 DBMS_TF.TAB_CLOB_T; out2 DBMS_TF.TAB_CLOB_T; BEGIN DBMS_TF.GET_COL（1，col1）; DBMS_TF.GET_COL（2，col2）;因为我在1 .. col1。COUNT LOOP out1（i）：='ECHO-'|| COL1（ⅰ）;结束循环;因为我1 ... col2。COUNT LOOP out2（i）：='ECHO-'|| COL2（ⅰ）;结束循环; DBMS_TF.PUT_COL（1，out1）; DBMS_TF.PUT_COL（2，out2）;结束;</code></pre><p>请注意，不允许直接调用DBMS_TF API。如果尝试在上下文之外执行这些过程，则会引发错误。</p><pre class="oac_no_warn" dir="ltr">第1行的exec fetch_rows错误：ORA-62562：只能在多态表函数的执行时间内调用API Get_Col。
</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-5E2C650E-1310-49A2-AF59-7E5B4D2497D2" name="GUID-5E2C650E-1310-49A2-AF59-7E5B4D2497D2"></a><h4 id="ARPLS-GUID-5E2C650E-1310-49A2-AF59-7E5B4D2497D2" class="sect4"><span class="enumeration_section">169.9.6</span> GET_ENV功能</h4>
                  <div>
                     <p>返回有关PTF运行时环境的信息</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-5E2C650E-1310-49A2-AF59-7E5B4D2497D2__GUID-BEAE260F-6986-405A-A162-CD1647E49124">句法</p><pre class="oac_no_warn" dir="ltr">功能GET_ENV返回ENV_T;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5E2C650E-1310-49A2-AF59-7E5B4D2497D2__GUID-479DE382-48BF-4F7B-B72E-5C1DCB66D68C">返回值</p>
                        <p>返回有关PTF运行时环境的信息。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-5E2C650E-1310-49A2-AF59-7E5B4D2497D2__GET_ENVEXAMPLE-353A67C6">
                        <p class="titleinexample">示例169-9 DBMS_TF.GET_ENV示例</p>
                        <p>该行显示了如何使用<code class="codeph">FETCH_ROWS</code>实现过程中的PTF执行信息初始化ENV_T类型的局部变量env。
                        </p><pre class="pre codeblock"><code>env DBMS_TF.ENV_T：= DBMS_TF.GET_ENV（）;</code></pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-4F4DCBFA-78D1-4573-ADE9-A435469C2908" name="GUID-4F4DCBFA-78D1-4573-ADE9-A435469C2908"></a><h4 id="ARPLS-GUID-4F4DCBFA-78D1-4573-ADE9-A435469C2908" class="sect4"><span class="enumeration_section">169.9.7</span> GET_ROW_SET程序</h4>
                  <div>
                     <p>获取读取列值</p>
                     <div class="section">
                        <p><code class="codeph">FETCH_ROW</code>过程可以调用<code class="codeph">GET_ROW_SET</code>过程来读取支持的标量类型集合中的输入行集列值。此过程已超载。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-4F4DCBFA-78D1-4573-ADE9-A435469C2908__GUID-13C5FAA9-80A0-4DD3-80CA-F2BE2E998907">句法</p><pre class="oac_no_warn" dir="ltr">程序GET_ROW_SET（行集OUT NOCOPY ROW_SET_T）;</pre><pre class="oac_no_warn" dir="ltr">程序GET_ROW_SET（行集OUT NOCOPY ROW_SET_T，row_count OUT PLS_INTEGER）;</pre><pre class="oac_no_warn" dir="ltr">程序GET_ROW_SET（行集OUT NOCOPY ROW_SET_T，row_count OUT PLS_INTEGER，col_count OUT PLS_INTEGER）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-4F4DCBFA-78D1-4573-ADE9-A435469C2908__GUID-561BFE79-8E8F-48E5-97F1-D242EA673E06">参数</p>
                        <div class="tblformal" id="GUID-4F4DCBFA-78D1-4573-ADE9-A435469C2908__GUID-21354576-178B-46A0-A07B-773E6B821E35">
                           <p class="titleintable">表169-20 GET_ROW_SET过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="GET_ROW_SET过程参数" width="100%" border="1" summary="This table describes the parameters of DBMS_TF.GET_ROW_SET subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d1047042e7182">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d1047042e7185">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1047042e7190" headers="d1047042e7182 ">
                                       <p><code class="codeph">行集</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1047042e7190 d1047042e7185 ">
                                       <p>数据和元数据的集合</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1047042e7198" headers="d1047042e7182 ">
                                       <p><code class="codeph">ROW_COUNT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1047042e7198 d1047042e7185 ">
                                       <p>列中的行数</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1047042e7206" headers="d1047042e7182 ">
                                       <p><code class="codeph">col_count</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1047042e7206 d1047042e7185 ">
                                       <p>列数</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-4F4DCBFA-78D1-4573-ADE9-A435469C2908__DBMS_TF.GET_ROW_SETEXAMPLE-353ABC3E">
                        <p class="titleinexample">例169-10 DBMS_TF.GET_ROW_SET示例</p>
                        <p>此示例是用于演示目的的PTF实现包的摘录。</p><pre class="pre codeblock"><code>PROCEDURE fetch_rows（new_name IN VARCHAR2 DEFAULT'PTF_CONCATENATE'）AS rowset DBMS_TF.ROW_SET_T;累加器DBMS_TF.TAB_VARCHAR2_T; row_count PLS_INTEGER; FUNCTION get_value（col PLS_INTEGER，ROW PLS_INTEGER）RETURN VARCHAR2 AS col_type PLS_INTEGER：= rowset（col）.description。类型; BEGIN CASE col_type WHEN DBMS_TF.TYPE_VARCHAR2然后返回NVL（行集（col）。TAB_VARCHAR2（ROW），'空'）; ELSE RAISE_APPLICATION_ERROR（-20201，'Non-Varchar Type ='|| col_type）;结束案例;结束; BEGIN DBMS_TF.GET_ROW_SET（rowset，row_count）; IF（rowset.count = 0）然后返回;万一; FOR row_num IN 1 .. row_count LOOP accumulator（row_num）：='empty';结束循环; FOR col_num IN 1 .. rowset.count LOOP FOR row_num IN 1 .. row_count LOOP accumulator（row_num）：= accumulator（row_num）|| get_value（col_num，row_num）;结束循环;结束循环; - 推出累加器DBMS_TF.PUT_COL（1，累加器）;结束;</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div class="sect4"><a id="GUID-218BB245-0878-4139-9E8C-1231A52F7E40" name="GUID-218BB245-0878-4139-9E8C-1231A52F7E40"></a><h5 id="ARPLS-GUID-218BB245-0878-4139-9E8C-1231A52F7E40" class="sect5"><span class="enumeration_section">169.9.7.1</span>堆栈多态表功能示例</h5>
                     <div>
                        <p>堆栈PTF示例通过将每个列值转换为新行来取消指定数字列的非空值。</p>
                        <div class="example" id="GUID-218BB245-0878-4139-9E8C-1231A52F7E40__GUID-4C96DD2D-1E9F-432F-8A07-E51BD2A7ADC1">
                           <p class="titleinexample">例169-11堆栈多态表功能示例</p>
                           <div class="infoboxnote" id="GUID-218BB245-0878-4139-9E8C-1231A52F7E40__GUID-6A29C86D-1690-4E54-9D2D-E59F3A93BCCB">
                              <p class="notep1">实时SQL：</p>
                              <p>您可以在<a href="https://livesql.oracle.com/apex/livesql/docs/arpls/ptf/ptfstack.html" target="_blank">Stack Polymorphic Table Function</a>上的Oracle Live SQL上查看和运行此示例</p>
                           </div>
                           <p>创建PTF实现包stack_p。</p>
                           <div class="p">参数是：<ul style="list-style-type:disc">
                                 <li>
                                    <p>选项卡 - 输入表</p>
                                 </li>
                                 <li>
                                    <p>col  - 要堆叠的数字（输入）表列的名称</p>
                                 </li>
                              </ul> 
                           </div><pre class="pre codeblock"><code>CREATE PACKAGE stack_p AS FUNCTION describe（tab IN OUT dbms_tf.table_t，col dbms_tf.columns_t）RETURN dbms_tf.describe_t;程序fetch_rows; END stack_p;</code></pre><p>创建PTF实现包主体stack_p。</p>
                           <p>此PTF生成两个新列<code class="codeph">COLUMN_NAME</code>和<code class="codeph">COLUMN_VALUE</code> ，其中前者包含unpivoted列的名称，后者包含该列的数值。此外，从PTF的输出中删除不透明的列。
                           </p><pre class="pre codeblock"><code>CREATE PACKAGE BODY stack_p AS FUNCTION describe（tab IN OUT dbms_tf.table_t，col dbms_tf.columns_t）RETURN dbms_tf.describe_t AS BEGIN FOR i IN 1 .. tab.column.count LOOP FOR j IN 1 .. col.count LOOP IF（ tab.column（i）.description.name = col（j）AND tab.column（i）.description。TYPE = dbms_tf.type_number）那么tab.column（i）.pass_through：= false; tab.column（i）.for_read：= true;万一;结束循环;结束循环; RETURN dbms_tf.describe_t（new_columns =&gt; dbms_tf.columns_new_t（1 =&gt; dbms_tf.column_metadata_t（name =&gt;'COLUMN_NAME'，TYPE =&gt; dbms_tf.type_varchar2），2 =&gt; dbms_tf.column_metadata_t（name =&gt;'COLUMN_VALUE'，TYPE = &gt; dbms_tf.type_number）），row_replication =&gt; true）;结束;程序fetch_rows AS env dbms_tf.env_t：= dbms_tf.get_env（）; rowset dbms_tf.row_set_t; colcnt PLS_INTEGER; rowcnt PLS_INTEGER; repfac dbms_tf.tab_naturaln_t; namcol dbms_tf.tab_varchar2_t; valcol dbms_tf.tab_number_t; BEGIN dbms_tf.get_row_set（rowset，rowcnt，colcnt）; FOR i IN 1 .. rowcnt LOOP repfac（i）：= 0;结束循环; FOR r IN 1 .. rowcnt LOOP FOR c IN 1 .. colcnt LOOP IF rowset（c）.tab_number（r）IS NOT NULL那么repfac（r）：= repfac（r）+ 1; namcol（nvl（namcol.last + 1,1））：= INITCAP（regexp_replace（env.get_columns（c）.name，'^“|”$'））; valcol（NVL（valcol.last + 1,1））：= rowset（c）.tab_number（r）;万一;结束循环;结束循环; dbms_tf.row_replication（replication_factor =&gt; repfac）; dbms_tf.put_col（1，namcol）; dbms_tf.put_col（2，valcol）;结束; END stack_p;</code></pre><p>创建名为stack的独立PTF。准确指定<code class="codeph">TABLE</code>类型的一个形式参数，将PTF的返回类型指定为<code class="codeph">TABLE</code> ，指定行语义PTF类型，并指示要使用的PTF实现包是stack_p。
                           </p><pre class="pre codeblock"><code>CREATE FUNCTION堆栈（tab TABLE，col columns）RETURN TABLE PIPLINING ROW POLYMORPHIC using stack_p;</code></pre><p>对于部门10和部门30中的所有员工，报告按部门编号和员工姓名排序的<code class="codeph">MGR</code> ， <code class="codeph">SAL,</code>和<code class="codeph">COMM</code>列的值。
                           </p><pre class="pre codeblock"><code>SELECT deptno，ename，column_name，column_value FROM stack（scott.emp，COLUMNS（mgr，sal，comm））WHERE deptno IN（10,30）ORDER BY deptno，ename;</code></pre><pre class="oac_no_warn" dir="ltr">DEPTNO ENAME COLUMN_NAME COLUMN_VALUE ---------- ---------- --------------- ----------- -  10 CLARK经理7839 10 CLARK Sal 2450 10 KING Sal 5000 10 MILLER Sal 1300 10 MILLER经理7782 30 ALLEN Comm 300 30 ALLEN经理7698 30 ALLEN Sal 1600 30 BLAKE经理7839 30 BLAKE Sal 2850 30 JAMES Sal 950 30 JAMES经理7698 30 MARTIN Comm 1400 30 MARTIN经理7698 30 MARTIN Sal 1250 30 TURNER Comm 0 30 TURNER Sal 1500 30 TURNER经理7698 30 WARD Comm 500 30 WARD经理7698 30 WARD Sal 1250</pre></div>
                        <!-- class="example" -->
                     </div>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-E151DA71-DBD2-4B80-AD2E-71D830283BE3" name="GUID-E151DA71-DBD2-4B80-AD2E-71D830283BE3"></a><h4 id="ARPLS-GUID-E151DA71-DBD2-4B80-AD2E-71D830283BE3" class="sect4"><span class="enumeration_section">169.9.8</span> GET_XID功能</h4>
                  <div>
                     <p>返回一个唯一的执行ID，PTF可以使用它来索引任何特定于游标的运行时状态。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-E151DA71-DBD2-4B80-AD2E-71D830283BE3__GUID-E6838868-B0DE-4C62-86CE-349290D96BF6">句法</p><pre class="oac_no_warn" dir="ltr">功能GET_XID返回XID_T;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E151DA71-DBD2-4B80-AD2E-71D830283BE3__GUID-6753C984-87DF-49FC-9C5F-A854D8CB38CB">返回值</p>
                        <p>PTF可以使用唯一的执行ID来索引任何特定于游标的运行时状态。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-E151DA71-DBD2-4B80-AD2E-71D830283BE3__DBMS_TF.GET_XIDEXAMPLE-353B353D">
                        <p class="titleinexample">示例169-12 DBMS_TF.GET_XID示例</p>
                        <p>这是代码的摘录，显示了调用GET_XID以将使用执行id索引的局部变量初始化为零值。</p><pre class="pre codeblock"><code>程序打开IS BEGIN xst（DBMS_TF.GET_XID（））：= 0;结束;</code></pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-93002459-D3C7-4846-9E20-012F58AB3B3D" name="GUID-93002459-D3C7-4846-9E20-012F58AB3B3D"></a><h4 id="ARPLS-GUID-93002459-D3C7-4846-9E20-012F58AB3B3D" class="sect4"><span class="enumeration_section">169.9.9</span> PUT_COL程序</h4>
                  <div>
                     <p>放置列值</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-93002459-D3C7-4846-9E20-012F58AB3B3D__GUID-7EB69B1E-9F83-4AAF-8F8A-843B80FE93CF">句法</p><pre class="oac_no_warn" dir="ltr">PROCEDURE PUT_COL（columnid NUMBER，集合IN &lt;datatype&gt;）;</pre><p>其中<span class="italic">&lt;datatype&gt;</span>可以是任何一种受支持的类型。
                        </p>有关支持的类型列表，请参阅<a href="DBMS_TF.html#GUID-92C604B3-D0F9-4306-AD2D-48CA202B3C05__DBMS_TFSUPPORTEDTYPES-3ACFD083" title="此表描述了DBMS_TF GET_COL和PUT_COL子程序的受支持类型。">表169-1</a> 。
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-93002459-D3C7-4846-9E20-012F58AB3B3D__GUID-9F622732-8612-490B-A0D3-FB6087ED8594">参数</p>
                        <div class="tblformal" id="GUID-93002459-D3C7-4846-9E20-012F58AB3B3D__GUID-4BC10455-50D6-46FF-9347-3A7A551EE450">
                           <p class="titleintable">表169-21 PUT_COL过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="PUT_COL过程参数" width="100%" border="1" summary="This table describes the parameters of DBMS_TF.PUT_COL subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d1047042e7607">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d1047042e7610">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1047042e7615" headers="d1047042e7607 ">
                                       <p><code class="codeph">ColumnID的</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1047042e7615 d1047042e7610 ">
                                       <p>列的id</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1047042e7623" headers="d1047042e7607 ">
                                       <p><code class="codeph">采集</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1047042e7623 d1047042e7610 ">
                                       <p>列的数据</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-93002459-D3C7-4846-9E20-012F58AB3B3D__GUID-4B7FE523-0D10-4D56-9323-6914803881B0">使用说明</p>
                        <p>此过程用于将读取列值放入标量类型的集合中。</p>
                        <p>标量类型的集合应仅为受支持的类型。</p>
                        <p>列号采用在PTF的<code class="codeph">DESCRIBE</code>方法中创建的get列顺序。</p>
                        <p>对于相同的columnid， <code class="codeph">GET_COL</code>和<code class="codeph">PUT_COL</code>可以对应于不同的列。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div class="sect4"><a id="GUID-5C861282-03EE-420F-90D6-B01EB18A744D" name="GUID-5C861282-03EE-420F-90D6-B01EB18A744D"></a><h5 id="ARPLS-GUID-5C861282-03EE-420F-90D6-B01EB18A744D" class="sect5"><span class="enumeration_section">169.9.9.1</span> Rand_col多态表函数示例</h5>
                     <div>
                        <p>rand_col PTF将指定数量的随机值列附加到输出。</p>
                        <div class="section"></div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-5C861282-03EE-420F-90D6-B01EB18A744D__GUID-B7754859-0A09-4EDA-8B2C-0566489203DB">
                           <p class="titleinexample">例169-13 Rand_col多态表功能示例</p>
                           <div class="infoboxnote" id="GUID-5C861282-03EE-420F-90D6-B01EB18A744D__GUID-4694EB6C-C095-464F-8E84-09810037F68B">
                              <p class="notep1">实时SQL：</p>
                              <p>您可以在<a href="https://livesql.oracle.com/apex/livesql/docs/arpls/ptf/ptfrdncol.html" target="_blank">Rand_col Polymorphic Table Function</a>上的Oracle Live SQL上查看和运行此示例</p>
                           </div>
                           <p>此rand_col PTF示例将col_count个随机值列附加到输出。可选地，调用者可以通过指定[low，high]将随机值限制为数值范围。新列名为“RAND_ <span class="italic">&lt;n&gt;</span> ”</p>
                           <p>创建PTF实现包rand_col_p。</p>
                           <p>参数是：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>选项卡：输入表</p>
                              </li>
                              <li>
                                 <p>col_count（可选）：要生成的随机值列数[Default = 1]</p>
                              </li>
                              <li>
                                 <p>low（可选）：随机数的下限[Default = Null]</p>
                              </li>
                              <li>
                                 <p>high（可选）：随机数的上限[Default = Null]</p>
                              </li>
                           </ul><pre class="pre codeblock"><code>CREATE PACKAGE rand_col_p AS FUNCTION describe（tab IN OUT DBMS_TF.table_t，col_count NATURALN DEFAULT 1，low NUMBER DEFAULT NULL，high NUMBER DEFAULT NULL）RETURN DBMS_TF.describe_t;程序fetch_rows（col_count NATURALN DEFAULT 1，低NUMBER DEFAULT NULL，高NUMBER DEFAULT NULL）; END rand_col_p;</code></pre><p>创建PTF实现包体rand_col_p。</p>
                           <p>参数col_count是'形状确定'参数，因此必须是常量（没有绑定，相关或表达式）。通过将col_count的类型定义为<code class="codeph">NATURALN</code> （具有隐式<code class="codeph">NOT NULL</code>约束），我们保证具有此参数的非常量值的游标将获得编译错误。
                           </p><pre class="pre codeblock"><code>CREATE PACKAGE BODY rand_col_p AS col_name_prefix CONSTANT dbms_id：='RAND_'; FUNCTION描述（选项卡IN OUT DBMS_TF.table_t，col_count NATURALN DEFAULT 1，低NUMBER DEFAULT NULL，高NUMBER DEFAULT NULL）RETURN DBMS_TF.describe_t AS cols DBMS_TF.columns_new_t; BEGIN FOR i IN 1 .. col_count LOOP cols（i）：= DBMS_TF.column_metadata_t（name =&gt; col_name_prefix || i，TYPE =&gt; DBMS_TF.type_number）;结束循环; RETURN DBMS_TF.describe_t（new_columns =&gt; cols）;结束;程序fetch_rows（col_count NATURALN DEFAULT 1，低NUMBER DEFAULT NULL，高NUMBER DEFAULT NULL）AS row_count CONSTANT PLS_INTEGER：= DBMS_TF.get_env（）。row_count; col DBMS_TF.tab_number_t; BEGIN FOR c IN 1 .. col_count LOOP FOR i IN 1 .. row_count LOOP col（i）：= CASE WHEN（低IS NULL或高IS NULL）然后dbms_random。VALUE ELSE dbms_random。VALUE（低，高）END;结束循环; DBMS_TF.put_col（c，col）;结束循环;结束; END rand_col_p;</code></pre><p>创建独立的rand_col PTF。准确指定TABLE类型的一个形式参数，将PTF的返回类型指定为TABLE，指定行语义PTF类型，并指示要使用的PTF实现包是rand_col_p。</p><pre class="pre codeblock"><code>创建函数rand_col（tab TABLE，col_count NATURALN DEFAULT 1，低NUMBER DEFAULT NULL，高NUMBER DEFAULT NULL）返回表使用rand_col_p管道行多边形;</code></pre><p>调用rand_col PTF以显示表SCOTT.DEPT的所有列以及一个生成的RAND_1列。</p><pre class="pre codeblock"><code>SELECT * FROM rand_col（scott.dept）;</code></pre><pre class="oac_no_warn" dir="ltr">DEPTNO DNAME LOC RAND_1 ---------- -------------- ------------- --------- -  10会计纽约.738666262 20研究DALLAS .093256312 30销售芝加哥.992944835 40运营波士顿.397948124</pre><p>调用rand_col PTF以显示表SCOTT.DEPT的所有列，其中包含两个生成的RAND_1和RAND_2列。</p><pre class="pre codeblock"><code>SELECT * FROM rand_col（scott.dept，col_count =&gt; 2）;</code></pre><pre class="oac_no_warn" dir="ltr">DEPTNO DNAME LOC RAND_1 RAND_2 ---------- -------------- ------------- -------- -  ---------- 10会计纽约.976521361 .209802028 20研究DALLAS .899577891 .10050334 30 SALES CHICAGO .277238362 .110736583 40操作波士顿.989839995 .164822363</pre><p>对于其工作不是SALESMAN的所有员工，显示员工姓名，工作，并生成三个RAND列，生成-10到10之间的随机值。</p><pre class="pre codeblock"><code>SELECT ename，job，rand_1，rand_2，rand_3 FROM rand_col（scott.emp，col_count =&gt; 3，low =&gt; -10，high =&gt; +10）WHERE job！='销售员';</code></pre><pre class="oac_no_warn" dir="ltr">ENAME JOB RAND_1 RAND_2 RAND_3 ---------- --------- ---------- ---------- ------ ---- SMITH CLERK 8.91760464 6.67366638 -9.2789076 JONES MANAGER 6.78612961 -1.8617958 6.5282227 BLAKE MANAGER 7.59545803 5.22269017 -2.7966401 CLARK MANAGER -6.4747304 -7.3650276 3.28388872 SCOTT ANALYST 6.80492435 -3.2271045 -.97099797 KING PRESIDENT -9.3161177 6.27762154 -1.8184785 ADAMS CLERK -1.6618848 3.13119089 8.06363075 JAMES CLERK 2.86918245 -3.5187936 -.72913809 FORD ANALYST 6.67038328 -7.4989893 1.99072598 MILLER CLERK -2.1574578 -8.5082989 -.56046716</pre></div>
                        <!-- class="example" -->
                     </div>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-549CEC61-3483-431C-86A2-D088E135EF4F" name="GUID-549CEC61-3483-431C-86A2-D088E135EF4F"></a><h4 id="ARPLS-GUID-549CEC61-3483-431C-86A2-D088E135EF4F" class="sect4"><span class="enumeration_section">169.9.10</span> PUT_ROW_SET程序</h4>
                  <div>
                     <p>在数据库中写入新列值的集合。</p>
                     <div class="section">
                        <p>您可以使用此过程在数据库的行集合中写入所有新列。</p>
                        <p>此过程已超载。默认情况下不会复制行。您可以使用<code class="codeph">ROW_REPLICATION</code>过程来设置复制因子。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-549CEC61-3483-431C-86A2-D088E135EF4F__GUID-D39E4E04-8C16-44D4-8279-12843F428D5A">句法</p>
                        <p>未复制行时使用此语法。</p><pre class="oac_no_warn" dir="ltr">程序PUT_ROW_SET（行集IN ROW_SET_T）;</pre><p>当复制因子是常量时，将使用此语法。</p><pre class="oac_no_warn" dir="ltr">程序PUT_ROW_SET（行集IN ROW_SET_T，replication_factor IN NATURALN）;</pre><p>将复制因子指定为具有多个值的数组时，将使用此语法。</p><pre class="oac_no_warn" dir="ltr">PROCEDURE PUT_ROW_SET（行集IN ROW_SET_T，replication_factor IN TAB_NATURALN_T）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-549CEC61-3483-431C-86A2-D088E135EF4F__GUID-B87928BC-5FBA-42D3-9F10-4E6A9BB2F8E8">参数</p>
                        <div class="tblformal" id="GUID-549CEC61-3483-431C-86A2-D088E135EF4F__GUID-0BFCFDA4-745D-4BCE-B00E-B940AD42EB04">
                           <p class="titleintable">表169-22 PUT_ROW_SET过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="PUT_ROW_SET过程参数" width="100%" border="1" summary="This table describes the parameters of DBMS_TF.PUT_ROW_SET subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d1047042e7933">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d1047042e7936">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1047042e7941" headers="d1047042e7933 ">
                                       <p><code class="codeph">行集</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1047042e7941 d1047042e7936 ">
                                       <p>数据和元数据的集合</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1047042e7949" headers="d1047042e7933 ">
                                       <p><code class="codeph">replication_factor</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1047042e7949 d1047042e7936 ">
                                       <p>每行的复制因子</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-549CEC61-3483-431C-86A2-D088E135EF4F__DBMS_TF.PUT_ROW_SETEXAMPLE-353B8C15">
                        <p class="titleinexample">例169-14 DBMS_TF.PUT_ROW_SET示例</p>
                        <p>此代码摘录获取行集合，并将所有新列写回数据库而不进行任何处理。</p><pre class="pre codeblock"><code>程序fetch_rows AS rowset DBMS_TF.ROW_SET_T; BEGIN DBMS_TF.GET_ROW_SET（rowset）; DBMS_TF.PUT_ROW_SET（行集）;结束;</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div class="sect4"><a id="GUID-73409F70-2C85-4200-A280-76A2E7179B67" name="GUID-73409F70-2C85-4200-A280-76A2E7179B67"></a><h5 id="ARPLS-GUID-73409F70-2C85-4200-A280-76A2E7179B67" class="sect5"><span class="enumeration_section">169.9.10.1</span>分裂多态表功能示例</h5>
                     <div>
                        <p>拆分PTF示例将输入表的每一行拆分为指定的部分。</p>
                        <div class="example" id="GUID-73409F70-2C85-4200-A280-76A2E7179B67__GUID-9470863B-8260-44A4-A299-2F03B0249D9E">
                           <p class="titleinexample">例169-15分割多态表功能示例</p>
                           <p>此PTF示例将输入表的每一行拆分为分割拆分列值的cnt片段。</p>
                           <div class="infoboxnote" id="GUID-73409F70-2C85-4200-A280-76A2E7179B67__GUID-E4CB9E3C-F782-4BA3-BDDF-4DC86AE29347">
                              <p class="notep1">实时SQL：</p>
                              <p>您可以在<a href="https://livesql.oracle.com/apex/livesql/docs/arpls/ptf/ptfsplit.html" target="_blank">拆分多态表函数的</a> Oracle Live SQL上查看和运行此示例</p>
                           </div>
                           <p>创建PTF实现包split_p。</p>
                           <div class="p">参数是：<ul style="list-style-type:disc">
                                 <li>
                                    <p>选项卡 - 输入表</p>
                                 </li>
                                 <li>
                                    <p>col  - 要拆分的数字（输入）表列的名称</p>
                                 </li>
                                 <li>
                                    <p>cnt  - 要分割每个输入行的次数</p>
                                 </li>
                              </ul>
                           </div><pre class="pre codeblock"><code>CREATE PACKAGE split_p AS FUNCTION describe（tab IN OUT DBMS_TF.table_t，col DBMS_TF.columns_t，cnt NATURALN）RETURN DBMS_TF.describe_t;程序fetch_rows（cnt NATURALN）; END split_p;</code></pre><p>创建PTF实现包body split_p。输入表的每一行被分成cnt片段，用于划分分割列的值。</p><pre class="pre codeblock"><code>CREATE PACKAGE BODY split_p AS FUNCTION describe（tab IN OUT DBMS_TF.Table_t，col DBMS_TF.Columns_t，cnt NATURALN）RETURN DBMS_TF.describe_t AS new_cols DBMS_TF.columns_new_t; col_id PLS_INTEGER：= 1; BEGIN FOR i IN 1 .. tab.column.count LOOP FOR j IN 1 .. col.count LOOP IF（tab.column（i）.description.name = col（j）AND tab.column（i）.description。TYPE = DBMS_TF.type_number）那么tab.column（i）.pass_through：= FALSE; tab.column（i）.for_read：= TRUE; new_cols（col_id）：= tab.column（i）.description; col_id：= col_id + 1;万一;结束循环;结束循环; RETURN DBMS_TF.describe_t（new_columns =&gt; new_cols，row_replication =&gt; true）;结束;程序fetch_rows（cnt NATURALN）AS inp_rs DBMS_TF.row_set_t; out_rs DBMS_TF.row_set_t;行PLS_INTEGER; BEGIN DBMS_TF.get_row_set（inp_rs，rows）; FOR c IN 1 .. inp_rs.count（）LO IN FOR IN IN .. rows LOOP FOR i IN 1 .. cnt LOOP out_rs（c）.tab_number（（r-1）* cnt + i）：= inp_rs（c ）.tab_number（R）/ CNT;结束循环;结束循环;结束循环; DBMS_TF.put_row_set（out_rs，replication_factor =&gt; cnt）;结束; END split_p;</code></pre><p>创建名为split的独立PTF。准确指定<code class="codeph">TABLE</code>类型的一个形式参数，将PTF的返回类型指定为<code class="codeph">TABLE</code> ，指定行语义PTF类型，并指示要使用的PTF实现包是split_p。
                           </p><pre class="pre codeblock"><code>CREATE FUNCTION split（tab TABLE，col columns，cnt NATURALN）RETURN TABLE PIPLINING ROW POLYMORPHIC使用split_p;</code></pre><p>对于部门30中的所有员工，显示<code class="codeph">ENAME</code> ， <code class="codeph">SAL</code>和<code class="codeph">COMM</code>列。使用<code class="codeph">COLUMNS</code>伪运算符调用拆分PTF，以便为查询返回的每个复制行划分<code class="codeph">SAL</code>和<code class="codeph">COMM</code>的值2。每行复制两次。
                           </p><pre class="pre codeblock"><code>SELECT ename，sal，comm FROM split（scott.emp，COLUMNS（sal，comm），cnt =&gt; 2）WHERE deptno = 30;</code></pre><pre class="oac_no_warn" dir="ltr">ENAME SAL COMM ---------- ---------- ------------------- ALLEN 800 150 ALLEN 800 150 WARD 625 250 WARD 625 250 MARTIN 625 700 MARTIN 625 700 BLAKE 1425 BLAKE 1425 TURNER 750 0 TURNER 750 0 JAMES 475 JAMES 475</pre></div>
                        <!-- class="example" -->
                     </div>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-F0B21736-CDE8-45CD-B250-64984E1CDE20" name="GUID-F0B21736-CDE8-45CD-B250-64984E1CDE20"></a><h4 id="ARPLS-GUID-F0B21736-CDE8-45CD-B250-64984E1CDE20" class="sect4"><span class="enumeration_section">169.9.11</span> ROW_REPLICATION程序</h4>
                  <div>
                     <p>将行复制因子设置为固定值或每行值。</p>
                     <div class="section">
                        <p>此过程已超载。<code class="codeph">Row Semantics</code>多态表函数将为给定的输入行（一对一）生成单个输出行，或者它可以为给定的输入行（一对多）生成更多的输出行，或者它可以生成没有输出行（一对一）。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F0B21736-CDE8-45CD-B250-64984E1CDE20__GUID-D766757E-6368-4892-9CCC-51F7C449752B">句法</p>
                        <p>将行复制因子设置为固定值。</p><pre class="oac_no_warn" dir="ltr">程序ROW_REPLICATION（replication_factor IN NATURALN）;</pre><p>将行复制因子设置为每行的值。</p><pre class="oac_no_warn" dir="ltr">程序ROW_REPLICATION（replication_factor IN TAB_NATURALN_T）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F0B21736-CDE8-45CD-B250-64984E1CDE20__GUID-EEF27459-1B98-4A98-843C-321B73B4C0B6">参数</p>
                        <div class="tblformal" id="GUID-F0B21736-CDE8-45CD-B250-64984E1CDE20__GUID-1FA0B636-EBA9-4FBA-9013-63D69E4E137B">
                           <p class="titleintable">表169-23 ROW_REPLICATION过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="ROW_REPLICATION过程参数" width="100%" border="1" summary="This table describes the parameters of DBMS_TF.ROW_REPLICATION subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="36%" id="d1047042e8239">参数</th>
                                    <th align="left" valign="bottom" width="64%" id="d1047042e8242">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d1047042e8247" headers="d1047042e8239 ">
                                       <p><code class="codeph">replication_factor</code></p>
                                    </td>
                                    <td align="left" valign="top" width="64%" headers="d1047042e8247 d1047042e8242 ">
                                       <p>每行的复制因子</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-F0B21736-CDE8-45CD-B250-64984E1CDE20__REPLICATEPTFDBMS_TF.ROW_REPLICATION-353BCFE5">
                        <p class="titleinexample">示例169-16复制多态表功能示例</p>
                        <p>此示例创建一个PTF，它通过作为参数提供的replication_factor复制每个输入行。</p>
                        <div class="infoboxnote" id="GUID-F0B21736-CDE8-45CD-B250-64984E1CDE20__GUID-4E4DC866-AB80-4C56-B62E-DAEADC551A87">
                           <p class="notep1">实时SQL：</p>
                           <p>您可以在<a href="https://livesql.oracle.com/apex/livesql/docs/arpls/ptf/ptfrepl.html" target="_blank">复制多态表函数的</a> Oracle Live SQL上查看和运行此示例</p>
                        </div>
                        <p>创建PTF实现包replicate_p。</p><pre class="pre codeblock"><code>CREATE PACKAGE replicate_p AS FUNCTION描述（选项卡IN OUT DBMS_TF.TABLE_T，replication_factor NATURAL）RETURN DBMS_TF.describe_t; PROCEDURE Fetch_Rows（replication_factor NATURALN）; END replicate_p;</code></pre><p>创建PTF实现包主体replicate_p。PTF通过作为参数给出的replication_factor复制每个输入行。</p><pre class="pre codeblock"><code>CREATE PACKAGE body replicate_p AS FUNCTION描述（选项卡IN OUT DBMS_TF.Table_t，replication_factor NATURAL）RETURN DBMS_TF.describe_t AS BEGIN RETURN DBMS_TF.describe_t（row_replication =&gt; True）;结束; PROCEDURE Fetch_Rows（replication_factor NATURALN）AS BEGIN DBMS_TF.ROW_REPLICATION（replication_factor）;结束; END replicate_p;</code></pre><p>创建名为replicate的独立PTF。准确指定TABLE类型的一个形式参数，将PTF的返回类型指定为TABLE，指定行语义PTF类型，并指示要使用的PTF实现包是replicate_p。</p><pre class="pre codeblock"><code>CREATE FUNCTION复制（tab TABLE，replication_factor NATURAL）返回表使用replicate_p管道行多态？</code></pre><p>此示例将replication_factor设置为2，这会导致行数加倍。</p><pre class="pre codeblock"><code>SELECT * FROM replicate（dept，replication_factor =&gt; 2）;</code></pre><pre class="oac_no_warn" dir="ltr">DEPTNO DNAME LOC ---------- -------------- ------------- 10会计纽约10会计纽约20研究达拉斯20研究达拉斯30销售芝加哥30销售芝加哥40运营波士顿40运营波士顿</pre><p>此示例将replication_factor设置为零。</p><pre class="pre codeblock"><code>SELECT * FROM replicate（dept，replication_factor =&gt; 0）;</code></pre><pre class="oac_no_warn" dir="ltr">没有选择任何行</pre><p>计算每个部门的员工人数。调用复制PTF以从<code class="codeph">SCOTT</code>报告。 <code class="codeph">EMP</code>表将replication_factor设置为1000000。
                        </p><pre class="pre codeblock"><code>SELECT deptno，COUNT（*）FROM replicate（scott.emp，1e6）GROUP BY deptno;</code></pre><pre class="oac_no_warn" dir="ltr">DEPTNO COUNT（*）---------- ---------- 30 6000000 10 3000000 20 5000000</pre><p>这会将replication_factor设置为1000000000。</p><pre class="pre codeblock"><code>SELECT COUNT（*）FROM replicate（dual，1e9）;</code></pre><pre class="oac_no_warn" dir="ltr">COUNT（*）---------- 1000000000</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-E757C3C4-CAAD-419B-8022-1037FA0A4962" name="GUID-E757C3C4-CAAD-419B-8022-1037FA0A4962"></a><h4 id="ARPLS-GUID-E757C3C4-CAAD-419B-8022-1037FA0A4962" class="sect4"><span class="enumeration_section">169.9.12</span> ROW_TO_CHAR函数</h4>
                  <div>
                     <p>ROW_TO_CHAR函数将行数据值转换为字符串表示形式。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-E757C3C4-CAAD-419B-8022-1037FA0A4962__GUID-01561E6F-721B-499B-B7B9-BE8A5EC5A72A">句法</p><pre class="oac_no_warn" dir="ltr">FUNCTION ROW_TO_CHAR（rowset ROW_SET_T，rid PLS_INTEGER，format PLS_INTEGER DEFAULT FORMAT_JSON）RETURN VARCHAR2;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E757C3C4-CAAD-419B-8022-1037FA0A4962__GUID-A80DDC0E-CA64-4179-B01B-CF51185C5243">参数</p>
                        <div class="tblformal" id="GUID-E757C3C4-CAAD-419B-8022-1037FA0A4962__GUID-1B08D62B-9548-4A5A-B81C-8C457BE16EA5">
                           <p class="titleintable">表169-24 DBMS_TF.ROW_TO_CHAR函数参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_TF.ROW_TO_CHAR函数参数" width="100%" border="1" summary="This table describes the parameters of DBMS_TF.ROW_TO_CHAR subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="33%" id="d1047042e8416">参数</th>
                                    <th align="left" valign="bottom" width="67%" id="d1047042e8419">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1047042e8424" headers="d1047042e8416 ">
                                       <p><code class="codeph">行集</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1047042e8424 d1047042e8419 ">
                                       <p>要转换其值的行集</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1047042e8432" headers="d1047042e8416 ">
                                       <p><code class="codeph">摆脱</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1047042e8432 d1047042e8419 ">
                                       <p>行号</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1047042e8440" headers="d1047042e8416 ">
                                       <p><code class="codeph">格式</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1047042e8440 d1047042e8419 ">
                                       <p>字符串格式（默认为FORMAT_JSON）</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E757C3C4-CAAD-419B-8022-1037FA0A4962__GUID-A0A7F519-7BE1-479C-96C3-C1DFCFBB30E8">使用说明</p>
                        <p>仅支持JSON格式。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E757C3C4-CAAD-419B-8022-1037FA0A4962__GUID-769835E1-057A-4D26-8EA8-8E48D5B441AB">返回值</p>
                        <p>JSON格式的字符串表示形式。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-E757C3C4-CAAD-419B-8022-1037FA0A4962__DBMS_TF.ROW_TO_CHAREXAMPLE-353C8705">
                        <p class="titleinexample">示例169-17 DBMS_TF.ROW_TO_CHAR示例</p><pre class="oac_no_warn" dir="ltr">PROCEDURE Fetch_Rows as rowset DBMS_TF.ROW_SET_T; str VARCHAR2（32000）; BEGIN DBMS_TF.GET_ROW_SET（rowset）; str：= DBMS_TF.ROW_TO_CHAR（rowset，1）END;</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-672696D3-4280-4A0B-B0BD-2DCD2F540B6E" name="GUID-672696D3-4280-4A0B-B0BD-2DCD2F540B6E"></a><h4 id="ARPLS-GUID-672696D3-4280-4A0B-B0BD-2DCD2F540B6E" class="sect4"><span class="enumeration_section">169.9.13</span> SUPPORTED_TYPE函数</h4>
                  <div>
                     <p>此函数测试多态表函数是否支持指定的类型。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-672696D3-4280-4A0B-B0BD-2DCD2F540B6E__GUID-BE976FCF-AACC-4AFD-8C9D-50AE7041041C">句法</p><pre class="oac_no_warn" dir="ltr">功能SUPPORTED_TYPE（type_id PLS_INTEGER）返回布尔;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-672696D3-4280-4A0B-B0BD-2DCD2F540B6E__GUID-D4E4AC29-251A-4ED6-9B27-ACCEE00304FC">参数</p>
                        <div class="tblformal" id="GUID-672696D3-4280-4A0B-B0BD-2DCD2F540B6E__GUID-BF5B0A62-5C82-46AA-861D-C49BE1FBCDE5">
                           <p class="titleintable">表169-25 DBMS_TF.SUPPORTED_TYPE函数参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_TF.SUPPORTED_TYPE函数参数" width="100%" border="1" summary="This table describes the parameters of DBMS_TF.SUPPORTED_TYPE subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="32%" id="d1047042e8572">参数</th>
                                    <th align="left" valign="bottom" width="68%" id="d1047042e8575">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="32%" id="d1047042e8580" headers="d1047042e8572 ">
                                       <p><code class="codeph">TYPE_ID</code></p>
                                    </td>
                                    <td align="left" valign="top" width="68%" headers="d1047042e8580 d1047042e8575 ">
                                       <p>类型</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-672696D3-4280-4A0B-B0BD-2DCD2F540B6E__GUID-769835E1-057A-4D26-8EA8-8E48D5B441AB">返回值</p>
                        <p>如果type_id是<code class="codeph">PUT_COL</code>和<code class="codeph">GET_COL</code>支持的标量，则返回TRUE。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-672696D3-4280-4A0B-B0BD-2DCD2F540B6E__GUID-12278FF8-2A89-4A55-AC2C-52F0B34662AF">
                           <p class="notep1">也可以看看：</p><a href="DBMS_TF.html#GUID-0F66E239-DE77-4C0E-AC76-D5B632AB8072" title="echo PTF接收表和列列表，并生成具有相同值的新列。">Echo Polymorphic Table函数示例，</a>用于DBMS_TF.SUPPORTED_TYPE使用的示例。
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-83C57DB9-C8D8-4F3B-8D47-F2B850C597FA" name="GUID-83C57DB9-C8D8-4F3B-8D47-F2B850C597FA"></a><h4 id="ARPLS-GUID-83C57DB9-C8D8-4F3B-8D47-F2B850C597FA" class="sect4"><span class="enumeration_section">169.9.14</span> TRACE程序</h4>
                  <div>
                     <p>打印数据结构以帮助开发和问题诊断。</p>
                     <div class="section">
                        <p>此过程已超载。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-83C57DB9-C8D8-4F3B-8D47-F2B850C597FA__GUID-9735088D-008D-4030-AB2C-345D78DF1395">句法</p><pre class="oac_no_warn" dir="ltr">PROCEDURE TRACE（msg VARCHAR2，with_id BOOLEAN DEFAULT FALSE，分隔符VARCHAR2 DEFAULT NULL，前缀VARCHAR2 DEFAULT NULL）;程序跟踪（行集IN ROW_SET_T）;程序追踪（en ENV IN ENV_T）;程序跟踪（columns_new IN COLUMNS_NEW_T）;程序跟踪（cols IN COLUMNS_T）; PROCEDURE trace（columns_with_type IN COLUMNS_WITH_TYPE_T）; PROCEDURE trace（Tab IN TABLE_T）; PROCEDURE trace（col IN COLUMN_METADATA_T）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-83C57DB9-C8D8-4F3B-8D47-F2B850C597FA__GUID-EAE3E7D9-D186-4B53-AEA8-62FAF193C274">参数</p>
                        <div class="tblformal" id="GUID-83C57DB9-C8D8-4F3B-8D47-F2B850C597FA__GUID-CBA16061-AF79-4B11-94E4-5BA1D9D2BFF6">
                           <p class="titleintable">表169-26 TRACE过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="TRACE过程参数" width="100%" border="1" summary="This table describes the parameters of DBMS_TF.TRACE subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d1047042e8720">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d1047042e8723">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1047042e8728" headers="d1047042e8720 ">
                                       <p><code class="codeph">味精</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1047042e8728 d1047042e8723 ">
                                       <p>自定义用户跟踪消息</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1047042e8736" headers="d1047042e8720 ">
                                       <p><code class="codeph">with_id</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1047042e8736 d1047042e8723 ">
                                       <p>在跟踪中包含唯一的执行ID？</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1047042e8744" headers="d1047042e8720 ">
                                       <p><code class="codeph">分隔器</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1047042e8744 d1047042e8723 ">
                                       <p>指定用于分隔值的字符串</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1047042e8752" headers="d1047042e8720 ">
                                       <p><code class="codeph">字首</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1047042e8752 d1047042e8723 ">
                                       <p>指定字符串以作为实际值的前缀</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1047042e8760" headers="d1047042e8720 ">
                                       <p><code class="codeph">行集</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1047042e8760 d1047042e8723 ">
                                       <p>行集的数据</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1047042e8768" headers="d1047042e8720 ">
                                       <p><code class="codeph">ENV</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1047042e8768 d1047042e8723 ">
                                       <p>有关多态表函数执行状态的元数据</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1047042e8776" headers="d1047042e8720 ">
                                       <p><code class="codeph">columns_new</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1047042e8776 d1047042e8723 ">
                                       <p>新列的集合</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1047042e8784" headers="d1047042e8720 ">
                                       <p><code class="codeph">COLS</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1047042e8784 d1047042e8723 ">
                                       <p>包含列名的集合</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1047042e8792" headers="d1047042e8720 ">
                                       <p><code class="codeph">columns_with_type</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1047042e8792 d1047042e8723 ">
                                       <p>包含列元数据的集合</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1047042e8800" headers="d1047042e8720 ">
                                       <p><code class="codeph">标签</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1047042e8800 d1047042e8723 ">
                                       <p>表描述符</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1047042e8808" headers="d1047042e8720 ">
                                       <p><code class="codeph">关口</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1047042e8808 d1047042e8723 ">
                                       <p>生成有关现有表列或新列的元数据</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-83C57DB9-C8D8-4F3B-8D47-F2B850C597FA__DBMS_TF.TRACEEXAMPLE-353CD740">
                        <p class="titleinexample">例169-18 DBMS_TF.TRACE示例</p>
                        <p>此示例将跟踪添加到fetch_rows过程。</p><pre class="pre codeblock"><code>程序fetch_rows AS rowset DBMS_TF.ROW_SET_T; BEGIN DBMS_TF.TRACE（'IDENTITY_PACKAGE.Fetch_Rows（）'，with_id =&gt; TRUE）; DBMS_TF.TRACE（行集）; DBMS_TF.GET_ROW_SET（行集）; DBMS_TF.TRACE（行集）; DBMS_TF.PUT_ROW_SET（行集）; DBMS_TF.TRACE（DBMS_TF.GET_ENV）;结束;</code></pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-FCF3B135-55C5-404E-A8FE-44FF12BD1C9D" name="GUID-FCF3B135-55C5-404E-A8FE-44FF12BD1C9D"></a><h4 id="ARPLS-GUID-FCF3B135-55C5-404E-A8FE-44FF12BD1C9D" class="sect4"><span class="enumeration_section">169.9.15</span> XSTORE_CLEAR过程</h4>
                  <div>
                     <p>从XSTORE执行状态中删除所有键值对。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-FCF3B135-55C5-404E-A8FE-44FF12BD1C9D__GUID-6CFADA1F-32E4-4710-BB90-82FE78BF5DCD">句法</p><pre class="oac_no_warn" dir="ltr">程序XSTORE_CLEAR;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-FD6EC54A-3A92-4A22-B227-007AB795DC83" name="GUID-FD6EC54A-3A92-4A22-B227-007AB795DC83"></a><h4 id="ARPLS-GUID-FD6EC54A-3A92-4A22-B227-007AB795DC83" class="sect4"><span class="enumeration_section">169.9.16</span> XSTORE_EXISTS函数</h4>
                  <div>
                     <p>如果XSTORE中存在具有给定键的项，则返回TRUE。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-FD6EC54A-3A92-4A22-B227-007AB795DC83__GUID-E8C7FC61-A914-4894-8443-0DBA138245CA">句法</p><pre class="oac_no_warn" dir="ltr">功能XSTORE_EXISTS（键IN VARCHAR2，键_类型IN PLS_INTEGER DEFAULT NULL）返回BOOLEAN;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-FD6EC54A-3A92-4A22-B227-007AB795DC83__GUID-BDF6D706-9B0C-45DA-B92B-51418D712969">参数</p>
                        <div class="tblformal" id="GUID-FD6EC54A-3A92-4A22-B227-007AB795DC83__GUID-6CF4FA16-4680-48D6-9AA5-7F8374B58A62">
                           <p class="titleintable">表169-27 DBMS_TF.XSTORE_EXISTS函数参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_TF.XSTORE_EXISTS函数参数" width="100%" border="1" summary="This table describes the parameters of DBMS_TF.XSTORE_EXISTS subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="33%" id="d1047042e9029">参数</th>
                                    <th align="left" valign="bottom" width="67%" id="d1047042e9032">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1047042e9037" headers="d1047042e9029 ">
                                       <p><code class="codeph">键</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1047042e9037 d1047042e9032 ">
                                       <p>一个独特的字符键</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d1047042e9045" headers="d1047042e9029 ">
                                       <p><code class="codeph">为key_type</code></p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d1047042e9045 d1047042e9032 ">
                                       <p>键的类型（可选）。默认值：NULL</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-FD6EC54A-3A92-4A22-B227-007AB795DC83__GUID-DAA012F4-901A-4319-BF4D-266DC1AB26C0">返回值</p>
                        <p>如果键具有关联值，则返回TRUE。当key_type为NULL（默认值）时，如果密钥具有任何受支持类型的关联值，则返回TRUE。</p>
                        <p>传递key_type参数值时，如果键和指定类型的键具有关联值，则返回TRUE。否则，它返回FALSE。</p>
                        <div class="infoboxnotealso" id="GUID-FD6EC54A-3A92-4A22-B227-007AB795DC83__GUID-23182DA6-49E0-465C-808E-AB3F1C6EBC71">
                           <p class="notep1">也可以看看：</p>
                           <p>有关支持的密钥类型的详细信息，请<a href="DBMS_TF.html#GUID-44B1E12B-F063-492E-A878-293327A5ACEB__GUID-425E9AF1-350A-46AC-B146-A5F179744BA4" title="此表描述了与XSTORE子程序一起使用的预定义标量支持的类型。">参见表169-6</a> 。
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-76E2CEBC-D30B-4062-A4E5-1C708FA1A312" name="GUID-76E2CEBC-D30B-4062-A4E5-1C708FA1A312"></a><h4 id="ARPLS-GUID-76E2CEBC-D30B-4062-A4E5-1C708FA1A312" class="sect4"><span class="enumeration_section">169.9.17</span> XSTORE_GET过程</h4>
                  <div>
                     <p>您可以使用XSTORE_GET过程获取为PTF执行状态管理存储的给定密钥的关联值。</p>
                     <div class="section">
                        <p>XStore是PTF执行状态管理接口。XStore接口用于在PTF执行期间设置和存储键值对。</p>
                        <p>此过程已超载。XStore支持为这些标量类型指定键值对： <code class="codeph">VARCHAR2</code> ， <code class="codeph">NUMBER</code> ， <code class="codeph">DATE</code> ， <code class="codeph">BOOLEAN</code> 。</p>
                        <p>有关支持的密钥类型的更多信息，请<a href="DBMS_TF.html#GUID-44B1E12B-F063-492E-A878-293327A5ACEB__GUID-425E9AF1-350A-46AC-B146-A5F179744BA4" title="此表描述了与XSTORE子程序一起使用的预定义标量支持的类型。">参见表169-6</a> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-76E2CEBC-D30B-4062-A4E5-1C708FA1A312__GUID-BAB1EC41-CB89-4EE7-9081-6EC1A2960D56">句法</p><pre class="oac_no_warn" dir="ltr">程序XSTORE_GET（键入IN VARCHAR2，值IN OUT VARCHAR2）;程序XSTORE_GET（键入IN VARCHAR2，值IN OUT NUMBER）;程序XSTORE_GET（键入IN VARCHAR2，值IN OUT DATE）;程序XSTORE_GET（键入IN VARCHAR2，值IN OUT BOOLEAN）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-76E2CEBC-D30B-4062-A4E5-1C708FA1A312__GUID-DF0C7C4E-900D-404E-909B-2E6A490FDFA3">参数</p>
                        <div class="tblformal" id="GUID-76E2CEBC-D30B-4062-A4E5-1C708FA1A312__DBMS_TF.XSTORE_GETPROCEDUREPARAMETE-1F83644B">
                           <p class="titleintable">表169-28 DBMS_TF.XSTORE_GET过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_TF.XSTORE_GET过程参数" width="100%" border="1" summary="This table describes the parameters of DBMS_TF.XSTORE_GET subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="32%" id="d1047042e9201">参数</th>
                                    <th align="left" valign="bottom" width="68%" id="d1047042e9204">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="32%" id="d1047042e9209" headers="d1047042e9201 ">
                                       <p><code class="codeph">键</code></p>
                                    </td>
                                    <td align="left" valign="top" width="68%" headers="d1047042e9209 d1047042e9204 ">
                                       <p>一个独特的字符键</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="32%" id="d1047042e9217" headers="d1047042e9201 ">
                                       <p><code class="codeph">值</code></p>
                                    </td>
                                    <td align="left" valign="top" width="68%" headers="d1047042e9217 d1047042e9204 ">
                                       <p>与支持的类型的键对应的值</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-76E2CEBC-D30B-4062-A4E5-1C708FA1A312__GUID-B91C3A89-1CC9-49E1-88A7-D37DB928FF3B">使用说明</p>
                        <p>如果未找到密钥，则该值不变。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div class="sect4"><a id="GUID-C318D8C8-E80C-4671-B515-F3B22E073547" name="GUID-C318D8C8-E80C-4671-B515-F3B22E073547"></a><h5 id="ARPLS-GUID-C318D8C8-E80C-4671-B515-F3B22E073547" class="sect5"><span class="enumeration_section">169.9.17.1</span> Row_num多态表功能示例</h5>
                     <div>
                        <p>row_num PTF示例将序列列附加到表。</p>
                        <div class="example" id="GUID-C318D8C8-E80C-4671-B515-F3B22E073547__GUID-3CD571B6-8AE5-4F59-8C2C-0C431F447533">
                           <p class="titleinexample">例169-19 Row_num多态表功能示例</p>
                           <div class="infoboxnote" id="GUID-C318D8C8-E80C-4671-B515-F3B22E073547__GUID-CC06D16D-2292-4980-B61C-2EA4C869F8FD">
                              <p class="notep1">实时SQL：</p>
                              <p>您可以在<a href="https://livesql.oracle.com/apex/livesql/docs/arpls/ptf/ptfrwnmx.html" target="_blank">Row_num Polymorphic Table Function</a>上的Oracle Live SQL上查看和运行此示例</p>
                           </div>
                           <p>创建PTF实现包row_num_p。</p>
                           <div class="p">参数是：<ul style="list-style-type:disc">
                                 <li>
                                    <p>tab  - 输入表</p>
                                 </li>
                                 <li>
                                    <p>ini  - 初始值（默认值= 1）</p>
                                 </li>
                                 <li>
                                    <p>inc  - 要增加的数量（默认值= 1）</p>
                                 </li>
                              </ul>
                           </div><pre class="pre codeblock"><code>CREATE PACKAGE row_num_p IS FUNCTION describe（tab IN OUT dbms_tf.table_t，ini NUMBER DEFAULT 1，inc NUMBER DEFAULT 1）RETURN dbms_tf.describe_t;程序fetch_rows（ini NUMBER DEFAULT 1，包含NUMBER DEFAULT 1）;结束;</code></pre><p>此PTF接受任何输入表，并将序列列<code class="codeph">ROW_ID</code>附加到表中。序列值以指定值（ini）开始，每次以指定值（inc）递增。
                           </p><pre class="pre codeblock"><code>CREATE PACKAGE BODY row_num_p IS FUNCTION describe（tab IN OUT dbms_tf.table_t，ini NUMBER DEFAULT 1，inc NUMBER DEFAULT 1）RETURN dbms_tf.describe_t AS BEGIN RETURN dbms_tf.describe_t（new_columns =&gt; dbms_tf.columns_new_t（1 =&gt; dbms_tf.column_metadata_t（ name =&gt;'ROW_ID'，TYPE =&gt; dbms_tf.type_number）））;结束;程序fetch_rows（ini NUMBER DEFAULT 1，包含NUMBER DEFAULT 1）IS row_cnt CONSTANT PLS_INTEGER：= dbms_tf.get_env（）。row_count;摆脱NUMBER：= ini; col dbms_tf.tab_number_t; BEGIN dbms_tf.xstore_get（'rid'，rid）; FOR i IN 1 .. row_cnt LOOP col（i）：= rid + inc *（i-1）;结束循环; dbms_tf.put_col（1，col）; dbms_tf.xstore_set（'rid'，rid + inc * row_cnt）;结束;结束;</code></pre><p>创建一个名为row_num的独立多态表函数。准确指定<code class="codeph">TABLE</code>类型的一个形式参数，将PTF的返回类型指定为<code class="codeph">TABLE</code> ，指定表语义PTF类型，并指示要使用的PTF实现包是row_num_p。
                           </p><pre class="pre codeblock"><code>CREATE FUNCTION row_num（tab TABLE，ini NUMBER DEFAULT 1，inc NUMBER DEFAULT 1）RETURN TABLE PIPLINED TABLE POLYMORPHIC using row_num_p;</code></pre><p>来自<code class="codeph">SCOTT</code>的row_num PTF调用报告。 <code class="codeph">DEPT</code>表生成一个新列<code class="codeph">ROW_ID</code> ，其值从1开始并在行集中递增1。
                           </p><pre class="pre codeblock"><code>SELECT * FROM row_num（scott.dept）;</code></pre><pre class="oac_no_warn" dir="ltr">DEPTNO DNAME LOC ROW_ID ------ -------------- ------------- ---------- 10会计新纽约1 20研究达拉斯2 30销售芝加哥3 40运营波士顿4</pre><p>来自<code class="codeph">SCOTT</code>的row_num PTF调用报告。 <code class="codeph">DEPT</code>表生成一个新列<code class="codeph">ROW_ID</code> ，其值从100开始并在行集中递增1。
                           </p><pre class="pre codeblock"><code>SELECT * FROM row_num（scott.dept，100）;</code></pre><pre class="oac_no_warn" dir="ltr">DEPTNO DNAME LOC ROW_ID ------ -------------- ------------- ---------- 10会计新约克100 20研究DALLAS 101 30销售芝加哥102 40运营波士顿103</pre><p>来自<code class="codeph">SCOTT</code>的row_num PTF调用报告。 <code class="codeph">DEPT</code>表生成一个新列<code class="codeph">ROW_ID</code> ，其值从0开始，在行集中递减1。
                           </p><pre class="pre codeblock"><code>SELECT * FROM row_num（scott.dept，ini =&gt; 0，inc =&gt; -1）;</code></pre><pre class="oac_no_warn" dir="ltr">DEPTNO DNAME LOC ROW_ID ------ -------------- ------------- ---------- 10会计新YORK 0 20研究DALLAS -1 30销售芝加哥-2 40运营波士顿-3</pre><p>来自<code class="codeph">SCOTT</code>的row_num PTF调用报告。 <code class="codeph">EMP</code>表生成一个新列<code class="codeph">ROW_ID</code> ，其值从0开始并在行集中递增0.25，该行集按部门编号分区并按员工姓名排序。
                           </p><pre class="pre codeblock"><code>SELECT deptno，ename，job，sal，row_id FROM row_num（scott.emp PARTITION BY deptno ORDER BY ename，ini =&gt; 0，inc =&gt; 0.25）WHERE deptno IN（10,30）;</code></pre><pre class="oac_no_warn" dir="ltr">DEPTNO ENAME JOB SAL ROW_ID ------ ---------- --------- ---------- ---------- 10 CLARK MANAGER 2450 0 10总统5000 .25 10 MILLER CLERK 1300 .5 30 ALLEN SALESMAN 1600 0 30 BLAKE MANAGER 2850 .25 30 JAMES CLERK 950 .5 30 MARTIN SALESMAN 1250 .75 30 TURNER SALESMAN 1500 1 30 WARD SALESMAN 1250 1.25</pre></div>
                        <!-- class="example" -->
                     </div>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-BBDCEB07-0A20-4BF3-AF3D-3698B1A2ED9C" name="GUID-BBDCEB07-0A20-4BF3-AF3D-3698B1A2ED9C"></a><h4 id="ARPLS-GUID-BBDCEB07-0A20-4BF3-AF3D-3698B1A2ED9C" class="sect4"><span class="enumeration_section">169.9.18</span> XSTORE_REMOVE程序</h4>
                  <div>
                     <p>删除与给定键和key_type关联的项目。</p>
                     <div class="section"></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-BBDCEB07-0A20-4BF3-AF3D-3698B1A2ED9C__GUID-3B75B48E-34F3-4996-8900-CAC415ECA140">句法</p><pre class="oac_no_warn" dir="ltr">过程XSTORE_REMOVE（键入IN VARCHAR2，key_type IN PLS_INTEGER DEFAULT NULL）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-BBDCEB07-0A20-4BF3-AF3D-3698B1A2ED9C__GUID-0641171C-C8D4-43A7-A2D5-BC67D288F321">参数</p>
                        <div class="tblformal" id="GUID-BBDCEB07-0A20-4BF3-AF3D-3698B1A2ED9C__GUID-64AF0644-5FE0-491F-BA91-BB30435E8E5D">
                           <p class="titleintable">表169-29 DBMS_TF.XSTORE_REMOVE函数参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_TF.XSTORE_REMOVE函数参数" width="100%" border="1" summary="This table describes the parameters of DBMS_TF.XSTORE_REMOVE subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="32%" id="d1047042e9529">参数</th>
                                    <th align="left" valign="bottom" width="68%" id="d1047042e9532">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="32%" id="d1047042e9537" headers="d1047042e9529 ">
                                       <p><code class="codeph">键</code></p>
                                    </td>
                                    <td align="left" valign="top" width="68%" headers="d1047042e9537 d1047042e9532 ">
                                       <p>一个独特的字符键</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="32%" id="d1047042e9545" headers="d1047042e9529 ">
                                       <p><code class="codeph">为key_type</code></p>
                                    </td>
                                    <td align="left" valign="top" width="68%" headers="d1047042e9545 d1047042e9532 ">
                                       <p>要删除的键的类型（可选）</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-BBDCEB07-0A20-4BF3-AF3D-3698B1A2ED9C__GUID-1FE13B8C-3785-4D86-8CFD-6D7A1FA3D2B2">使用说明</p>
                        <p>传递key_type参数值时，它会删除键和指定键类型的关联项。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-C8E6D8B4-CD03-4948-90A5-26A22694896C" name="GUID-C8E6D8B4-CD03-4948-90A5-26A22694896C"></a><h4 id="ARPLS-GUID-C8E6D8B4-CD03-4948-90A5-26A22694896C" class="sect4"><span class="enumeration_section">169.9.19</span> XSTORE_SET过程</h4>
                  <div>
                     <p>设置PTF执行状态管理的给定密钥的值。</p>
                     <div class="section">
                        <p>您可以使用此过程在XStore中存储和项键值对。此过程已超载。XStore支持为这些标量类型指定键值对：VARCHAR2，NUMBER，DATE，BOOLEAN。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-C8E6D8B4-CD03-4948-90A5-26A22694896C__GUID-A6882DB9-A0A1-415B-A439-1FC60F920D50">句法</p><pre class="oac_no_warn" dir="ltr">程序XSTORE_SET（键入IN VARCHAR2，值IN VARCHAR2）;程序XSTORE_SET（键入IN VARCHAR2，值IN NUMBER）;程序XSTORE_SET（键入IN VARCHAR2，值IN DATE）;程序XSTORE_SET（键入IN VARCHAR2，值IN BOOLEAN）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-C8E6D8B4-CD03-4948-90A5-26A22694896C__GUID-3E31F6D2-BAB6-4209-8A3D-F1C1CDC9A94B">参数</p>
                        <div class="tblformal" id="GUID-C8E6D8B4-CD03-4948-90A5-26A22694896C__GUID-3140046D-BC6B-45FC-915E-0DDB67297D78">
                           <p class="titleintable">表169-30 DBMS_TF.XSTORE_SET过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_TF.XSTORE_SET过程参数" width="100%" border="1" summary="This table describes the parameters of DBMS_TF.XSTORE_SET subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d1047042e9670">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d1047042e9673">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1047042e9678" headers="d1047042e9670 ">
                                       <p><code class="codeph">键</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1047042e9678 d1047042e9673 ">
                                       <p>一个独特的字符键</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1047042e9686" headers="d1047042e9670 ">
                                       <p><code class="codeph">值</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1047042e9686 d1047042e9673 ">
                                       <p>与支持的类型的键对应的值</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-C8E6D8B4-CD03-4948-90A5-26A22694896C__GUID-B2D38688-DB77-4188-A114-C7684E84267E">使用说明</p>
                        <p>如果已存在给定键的项，则替换该值。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>