<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="The DBMS_LOGMNR_D package, one of a set of LogMiner packages, contains two subprograms: the BUILD procedure and the SET_TABLESPACE procedure."></meta>
      <meta name="description" content="The DBMS_LOGMNR_D package, one of a set of LogMiner packages, contains two subprograms: the BUILD procedure and the SET_TABLESPACE procedure."></meta>
      <title>DBMS_LOGMNR_D</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="PL/SQL Packages and Types Reference"></meta>
      <meta property="og:description" content="The DBMS_LOGMNR_D package, one of a set of LogMiner packages, contains two subprograms: the BUILD procedure and the SET_TABLESPACE procedure."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="PL/SQL Packages and Types Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-pl-sql-packages-and-types-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-03-25T11:24:34-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96430-03"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="DBMS_LOGSTDBY.html" title="Previous" type="text/html"></link>
      <link rel="next" href="DBMS_LOGSTDBY_CONTEXT.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database PL/SQL Packages and Types Reference"></meta>
    <meta name="dcterms.isVersionOf" content="ARPLS"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="DBMS_LOGSTDBY.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="DBMS_LOGSTDBY_CONTEXT.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">PL / SQL包和类型参考</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">DBMS_LOGMNR_D</li>
            </ol>
            <a id="GUID-7263799E-AD78-4094-B442-B5686A9F1ADF" name="GUID-7263799E-AD78-4094-B442-B5686A9F1ADF"></a><a id="ARPLS025"></a><a id="ARPLS025"></a>
            
            <h2 id="ARPLS-GUID-7263799E-AD78-4094-B442-B5686A9F1ADF" class="sect2"><span class="enumeration_chapter">98</span> DBMS_LOGMNR_D</h2>
         </header>
         <div class="ind">
            <div>
               <p><code class="codeph">DBMS_LOGMNR_D</code>包是一组LogMiner包之一，包含两个子程序： <code class="codeph">BUILD</code>过程和<code class="codeph">SET_TABLESPACE</code>过程。
               </p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><code class="codeph">BUILD</code>过程将LogMiner数据字典提取到重做日志文件或平面文件。保存此信息以准备将来使用LogMiner工具分析重做日志文件。
                     </p>
                  </li>
                  <li>
                     <p><code class="codeph">SET_TABLESPACE</code>过程在备用表空间中重新创建所有LogMiner表。
                     </p>
                     <p><span class="bold">LogMiner数据字典</span>由内存数据结构和数据库表组成，用于存储和检索有关对象及其版本的信息。它在整个LogMiner文档中称为<span class="bold">LogMiner字典</span> 。
                     </p>
                  </li>
               </ul>
               <p>本章包含以下主题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="DBMS_LOGMNR_D.html#GUID-6F80E08A-A812-467D-BF05-1DBF47853392" title="当LogMiner向您返回重做数据时，它需要一个字典将对象ID转换为对象名称。">概观</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_LOGMNR_D.html#GUID-CBAD40B1-C77C-44E4-A955-446950A7C7CE" title="您必须具有EXECUTE_CATALOG_ROLE角色才能使用DBMS_LOGMNR_D包。">安全模型</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_LOGMNR_D.html#GUID-D2F8BE91-11C0-4BA3-B341-673393797D62" title="该表列出并简要描述了DBMS_LOGMNR_D子程序。">DBMS_LOGMNR_D子程序摘要</a></p>
                  </li>
               </ul>
               <div class="infoboxnotealso" id="GUID-7263799E-AD78-4094-B442-B5686A9F1ADF__GUID-997D2DFF-6CD1-41A0-A673-C26DA9FE925C">
                  <p class="notep1">也可以看看：</p>
                  <p>有关LogMiner的信息，请参见<a href="../sutil/oracle-logminer-utility.html#SUTIL019" target="_blank"><span class="italic">Oracle数据库实用程序</span></a> 。
                  </p>
               </div>
            </div><a id="ARPLS66813"></a><a id="ARPLS66813"></a><div class="props_rev_3"><a id="GUID-6F80E08A-A812-467D-BF05-1DBF47853392" name="GUID-6F80E08A-A812-467D-BF05-1DBF47853392"></a><h3 id="ARPLS-GUID-6F80E08A-A812-467D-BF05-1DBF47853392" class="sect3"><span class="enumeration_section">98.1</span> DBMS_LOGMNR_D概述</h3>
               <div>
                  <p>当LogMiner向您返回重做数据时，它需要一个字典将对象ID转换为对象名称。</p>
                  <div class="section">
                     <p>LogMiner为您提供了三个提供字典的选项：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>使用在线目录</p>
                        </li>
                        <li>
                           <p>将LogMiner字典提取到重做日志文件</p>
                        </li>
                        <li>
                           <p>将LogMiner字典提取到平面文件</p>
                        </li>
                     </ul>
                     <p>使用<code class="codeph">BUILD</code>过程将LogMiner字典解压缩到重做日志文件或平面文件。如果要将联机目录指定为词典源，则在使用<code class="codeph">DBMS_LOGMNR.START_LOGMNR</code>程序包启动LogMiner时执行此操作。
                     </p>
                     <p>如果希望LogMiner表使用默认<code class="codeph">SYSAUX</code>表空间以外的表空间，请使用<code class="codeph">SET_TABLESPACE</code>过程。
                     </p>
                     <div class="infoboxnotealso" id="GUID-6F80E08A-A812-467D-BF05-1DBF47853392__GUID-CDE5F969-5AE1-4375-9C39-0A32F1F94C33">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="DBMS_LOGMNR.html#GUID-C1E24B58-CA7A-484D-99B8-BF304B22C412" title="The DBMS_LOGMNR package, one of a set of LogMiner packages, contains the subprograms you use to initialize the LogMiner tool and to begin and end a LogMiner session.">DBMS_LOGMNR，</a>用于有关运行LogMiner会话时使用的包子<a href="DBMS_LOGMNR.html#GUID-C1E24B58-CA7A-484D-99B8-BF304B22C412" title="DBMS_LOGMNR包是一组LogMiner包之一，包含用于初始化LogMiner工具以及开始和结束LogMiner会话的子程序。">程序</a>的信息。
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS66814"></a><a id="ARPLS66814"></a><div class="props_rev_3"><a id="GUID-CBAD40B1-C77C-44E4-A955-446950A7C7CE" name="GUID-CBAD40B1-C77C-44E4-A955-446950A7C7CE"></a><h3 id="ARPLS-GUID-CBAD40B1-C77C-44E4-A955-446950A7C7CE" class="sect3"><span class="enumeration_section">98.2</span> DBMS_LOGMNR_D安全模型</h3>
               <div>
                  <p>您必须具有<code class="codeph">EXECUTE_CATALOG_ROLE</code>角色才能使用<code class="codeph">DBMS_LOGMNR_D</code>包。
                  </p>
               </div>
            </div><a id="ARPLS490"></a><a id="ARPLS66815"></a><a id="ARPLS66815"></a><a id="ARPLS490"></a><div class="props_rev_3"><a id="GUID-D2F8BE91-11C0-4BA3-B341-673393797D62" name="GUID-D2F8BE91-11C0-4BA3-B341-673393797D62"></a><h3 id="ARPLS-GUID-D2F8BE91-11C0-4BA3-B341-673393797D62" class="sect3"><span class="enumeration_section">98.3</span> DBMS_LOGMNR_D子程序摘要</h3>
               <div>
                  <p>该表列出并简要描述了DBMS_LOGMNR_D子程序。</p>
                  <div class="section">
                     <p>在多租户容器数据库（CDB）中，必须从根调用某些子程序。也可能存在其他差异。有关详细信息，请参见各个子程序说明。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-D2F8BE91-11C0-4BA3-B341-673393797D62__GUID-160C3470-1514-4DF2-ABB2-0B75B7BED179">
                     <p class="titleintable">表98-1 DBMS_LOGMNR_D包子程序</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_LOGMNR_D包子程序" width="100%" border="1" summary="This table lists the DBMS_LOGMNR_D subprograms in alphabetical order and briefly describes them." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="30%" id="d540228e475">子程序</th>
                              <th align="left" valign="bottom" width="70%" id="d540228e478">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d540228e483" headers="d540228e475 ">
                                 <p><a href="DBMS_LOGMNR_D.html#GUID-20E210F3-A566-46F1-B817-486723069AF4" title="此过程将LogMiner数据字典提取到重做日志文件或平面文件。">构建程序</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d540228e483 d540228e478 ">
                                 <p>将LogMiner字典提取为平面文件或一个或多个重做日志文件</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d540228e495" headers="d540228e475 ">
                                 <p><a href="DBMS_LOGMNR_D.html#GUID-73998B7D-AE96-4B3B-8483-048D746A4C54" title="此过程将LogMiner表从默认的SYSAUX表空间移动到备用表空间。">SET_TABLESPACE过程</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d540228e495 d540228e478 ">
                                 <p>在备用表空间中重新创建所有LogMiner表</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div><a id="ARPLS66816"></a><a id="ARPLS66817"></a><a id="ARPLS66818"></a><a id="ARPLS66819"></a><a id="ARPLS66820"></a><a id="ARPLS66817"></a><a id="ARPLS66818"></a><a id="ARPLS66819"></a><a id="ARPLS66820"></a><a id="ARPLS66816"></a><div class="props_rev_3"><a id="GUID-20E210F3-A566-46F1-B817-486723069AF4" name="GUID-20E210F3-A566-46F1-B817-486723069AF4"></a><h4 id="ARPLS-GUID-20E210F3-A566-46F1-B817-486723069AF4" class="sect4"><span class="enumeration_section">98.3.1</span>构建程序</h4>
                  <div>
                     <p>此过程将LogMiner数据字典提取到重做日志文件或平面文件。</p>
                     <div class="section">
                        <p>以下注意事项适用于多租户容器数据库（CDB）环境。</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>在CDB环境中，当您解压缩到重做日志文件时，必须从根数据库调用<code class="codeph">BUILD</code>过程。整个CDB的LogMiner数据字典被提取到重做日志文件。
                              </p>
                           </li>
                           <li>
                              <p>在CDB环境中，当您解压缩到平面文件时，您一次只能挖掘一个可插拔数据库（PDB）。您必须首先通过从中运行<code class="codeph">BUILD</code>过程为该特定PDB显式构建平面文件字典。运行<code class="codeph">BUILD</code>过程的每个PDB的LogMiner数据字典被提取到一个平面文件。
                              </p>
                           </li>
                           <li>
                              <p>执行此过程时，无法从CDB添加或删除PDB。</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-20E210F3-A566-46F1-B817-486723069AF4__GUID-C4539EBF-C84B-4560-8938-EEC916F01AF1">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_LOGMNR_D.BUILD（dictionary_filename IN VARCHAR2，dictionary_location IN VARCHAR2，options IN NUMBER）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-20E210F3-A566-46F1-B817-486723069AF4__GUID-ADC0961A-97BB-4C1D-BF54-11DDA696D810">参数</p>
                        <div class="tblformal" id="GUID-20E210F3-A566-46F1-B817-486723069AF4__GUID-7B1C517F-2ED0-48EF-B0A2-0E8895BA6707">
                           <p class="titleintable">表98-2 BUILD过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="构建过程参数" width="100%" border="1" summary="This table describes the parameters of the DBMS_LOGMNR_D.BUILD subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="30%" id="d540228e649">参数</th>
                                    <th align="left" valign="bottom" width="70%" id="d540228e652">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d540228e657" headers="d540228e649 ">
                                       <p><code class="codeph">dictionary_filename</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d540228e657 d540228e652 ">
                                       <p>指定LogMiner词典文件的名称。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d540228e665" headers="d540228e649 ">
                                       <p><code class="codeph">dictionary_location</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d540228e665 d540228e652 ">
                                       <p>指定LogMiner词典文件的目录对象。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d540228e673" headers="d540228e649 ">
                                       <p><code class="codeph">选项</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d540228e673 d540228e652 ">
                                       <p>指定将LogMiner字典写入平面文件（ <code class="codeph">STORE_IN_FLAT_FILE</code> ）或重做日志文件（ <code class="codeph">STORE_IN_REDO_LOGS</code> ）。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-20E210F3-A566-46F1-B817-486723069AF4__GUID-DC744065-8D62-4C61-BDDD-9EEDA4B96B50">例外</p>
                        <div class="tblformal" id="GUID-20E210F3-A566-46F1-B817-486723069AF4__GUID-8E56F7E3-C88D-4FAA-99CD-5BD8BC3C74C8">
                           <p class="titleintable">表98-3 BUILD过程异常</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="构建过程异常" width="100%" border="1" summary="This table describes exceptions raised by the DBMS_LOGMNR_D.BUILD subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d540228e699">例外</th>
                                    <th align="left" valign="bottom" width="69%" id="d540228e702">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d540228e707" headers="d540228e699 ">
                                       <p><code class="codeph">ORA-01302</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d540228e707 d540228e702 ">
                                       <p>字典构建选项缺失或不正确。</p>
                                       <p>在以下情况下返回此错误：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p>如果<code class="codeph">OPTIONS</code>参数的值不是受支持的值之一（ <code class="codeph">STORE_IN_REDO_LOGS</code> ， <code class="codeph">STORE_IN_FLAT_FILE)</code>或未指定</p>
                                          </li>
                                          <li>
                                             <p>如果未指定<code class="codeph">STORE_IN_REDO_LOGS</code>选项，则既未指定<code class="codeph">dictionary_filename</code>也未指定<code class="codeph">dictionary_location</code>参数</p>
                                          </li>
                                          <li>
                                             <p>如果指定了<code class="codeph">STORE_IN_REDO_LOGS</code>选项，并且指定了<code class="codeph">dictionary_filename</code>或<code class="codeph">dictionary_location</code>参数</p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d540228e754" headers="d540228e699 ">
                                       <p><code class="codeph">ORA-01308</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d540228e754 d540228e702 ">
                                       <div class="p">未设置初始化参数<code class="codeph">UTL_FILE_DIR</code> 。
                                          <div class="infoboxnote" id="GUID-20E210F3-A566-46F1-B817-486723069AF4__GUID-C5191B5F-75AD-4419-BFB8-6808B99DF92A">
                                             <p class="notep1">注意：</p>在以前的版本中，您使用<code class="codeph">UTL_FILE_DIR</code>初始化参数来指定目录位置。然而，随着Oracle数据库<span class="italic">18℃</span>时， <code class="codeph">UTL_FILE_DIR</code>初始化参数不再支持。它仍然支持向后兼容性，但Oracle建议您改为使用目录对象。
                                          </div>
                                       </div>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d540228e776" headers="d540228e699 ">
                                       <p><code class="codeph">ORA-01336</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d540228e776 d540228e702 ">
                                       <p>无法打开指定的字典文件。</p>
                                       <p>在以下情况下返回此错误：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p>字典文件是只读的。</p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d540228e790" headers="d540228e699 "><code class="codeph">ORA-01308</code></td>
                                    <td align="left" valign="top" width="69%" headers="d540228e790 d540228e702 ">
                                       <p>字典目录未设置。</p>
                                       <div class="p">在以下情况下返回此错误：<ul style="list-style-type:disc">
                                             <li>
                                                <p></p><code class="codeph">dictionary_location</code>的指定值不是目录对象。
                                             </li>
                                             <li>
                                                <p><code class="codeph">dictionary_location</code>的指定值是一个目录对象，它被定义为无法访问的文件路径</p>。
                                             </li>
                                          </ul>
                                       </div>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-20E210F3-A566-46F1-B817-486723069AF4__GUID-EBA0C306-350C-4C1B-9012-5E6CB6B1C01F">使用说明</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>要将LogMiner字典提取到平面文件，您必须提供文件名和位置。必须将该位置指定为数据库目录对象。（请参阅Oracle数据库SQL语言参考中的<code class="codeph">CREATE DIRECTORY</code> 。）
                              </p>
                              <p>要将LogMiner字典提取到重做日志文件，请仅指定<code class="codeph">STORE_IN_REDO_LOGS</code>选项。LogMiner字典的大小可能导致它包含在多个重做日志文件中。
                              </p>
                              <p>使用的参数组合导致以下行为：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>如果未指定任何参数，则会返回错误。</p>
                                 </li>
                                 <li>
                                    <p>如果指定文件名和位置，而没有任何选项，则会将LogMiner字典解压缩为具有该名称的平面文件。</p>
                                 </li>
                                 <li>
                                    <p>如果指定文件名和位置，以及<code class="codeph">STORE_IN_FLAT_FILE</code>选项， <code class="codeph">STORE_IN_FLAT_FILE</code>将LogMiner字典解压缩为具有指定名称的平面文件。
                                    </p>
                                 </li>
                                 <li>
                                    <p>如果未指定文件名和位置，但指定了<code class="codeph">STORE_IN_REDO_LOGS</code>选项， <code class="codeph">STORE_IN_REDO_LOGS</code>将LogMiner字典解压缩到重做日志文件。
                                    </p>
                                 </li>
                                 <li>
                                    <p>如果指定文件名和位置，以及<code class="codeph">STORE_IN_REDO_LOGS</code>选项，则会返回错误。
                                    </p>
                                 </li>
                                 <li>
                                    <p>如果未指定文件名和位置，但指定了<code class="codeph">STORE_IN_FLAT_FILE</code>选项，则会返回错误。
                                    </p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p>理想情况下，LogMiner字典文件将在完成所有数据库字典更改之后以及在创建要分析的任何重做日志文件之前创建。从Oracle9 <span class="italic">i</span>发行版1（9.0.1）开始，您可以使用LogMiner将LogMiner字典转储到重做日志文件或平面文件，执行DDL操作，并将DDL更改动态应用于LogMiner字典。
                              </p>
                           </li>
                           <li>
                              <p>运行<code class="codeph">DBMS_LOGMNR_D.BUILD</code>过程时，必须打开数据库。
                              </p>
                           </li>
                           <li>
                              <p>将LogMiner字典提取到平面文件时，该过程将查询当前数据库的字典表，并创建包含表内容的基于文本的文件。要将LogMiner字典提取到平面文件，必须满足以下条件：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>您必须指定供PL / SQL过程使用的目录。为此，首先使用路径名创建一个Oracle目录对象，该路径名指定生成字典文件的位置。例如：</p><pre class="oac_no_warn" dir="ltr">将目录my_dictionary_dir创建为'/ oracle / dictionary';</pre></li>
                              </ul>
                              <p>请注意， <code class="codeph">DDL_DICT_TRACKING</code>选项将<code class="codeph">DBMS_LOGMNR.START_LOGMNR</code>程序不支持之前的Oracle9 <span class="italic">我</span>创建平面文件的字典。如果您尝试将<code class="codeph">DDL_DICT_TRACKING</code>选项与在Oracle9 <span class="italic">i</span>之前提取到平面文件的LogMiner数据库一起使用， <code class="codeph">DDL_DICT_TRACKING</code> ORA-01330错误（加载所需构建表时出现问题）。
                              </p>
                           </li>
                           <li>
                              <p>要将LogMiner词典文件提取到重做日志文件，必须满足以下条件：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>该<code class="codeph">DBMS_LOGMNR_D.BUILD</code>程序必须运行的Oracle9 <span class="italic">我</span>或更高版本的系统上运行。
                                    </p>
                                 </li>
                                 <li>
                                    <p>必须启用Archivelog模式才能生成可用的重做日志文件。</p>
                                 </li>
                                 <li>
                                    <p>初始化参数文件中的<code class="codeph">COMPATIBLE</code>参数必须设置为9.2.0或更高。
                                    </p>
                                 </li>
                                 <li>
                                    <p>LogMiner附加到的数据库必须是Oracle9 <span class="italic">i</span>或更高版本。
                                    </p>
                                 </li>
                              </ul>
                              <p>此外，应启用补充日志记录（至少是最低级别）以确保您可以利用LogMiner提供的所有功能。</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-20E210F3-A566-46F1-B817-486723069AF4__GUID-1B72CE79-9849-43BB-B7C2-7A9F12D416EE">例子</p>
                        <p>示例1：将LogMiner字典提取到平面文件</p>
                        <p>以下示例将LogMiner字典文件提取到指定路径（ <code class="codeph">/oracle/database</code> ）中名为<code class="codeph">dictionary.ora</code>的平面文件。
                        </p><pre class="oac_no_warn" dir="ltr">SQL&gt; create directory my_dictionary_dir as'/ oracle / database'; SQL&gt; EXECUTE dbms_logmnr_d.build（dictionary_location =&gt; my_dictionary_dir， -  dictionary_filename =&gt;'dictionary.ora'， -  options =&gt; dbms_logmnr_d.store_in_flat_file）;</pre><p>示例2：将LogMiner字典提取到重做日志文件</p>
                        <p>以下示例将LogMiner字典提取到重做日志文件。</p><pre class="oac_no_warn" dir="ltr">SQL&gt; EXECUTE dbms_logmnr_d.build（ -  options =&gt; dbms_logmnr_d.store_in_redo_logs）;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS66821"></a><a id="ARPLS66822"></a><a id="ARPLS66822"></a><a id="ARPLS66821"></a><div class="props_rev_3"><a id="GUID-73998B7D-AE96-4B3B-8483-048D746A4C54" name="GUID-73998B7D-AE96-4B3B-8483-048D746A4C54"></a><h4 id="ARPLS-GUID-73998B7D-AE96-4B3B-8483-048D746A4C54" class="sect4"><span class="enumeration_section">98.3.2</span> SET_TABLESPACE过程</h4>
                  <div>
                     <p>此过程将LogMiner表从默认的<code class="codeph">SYSAUX</code>表空间移动到备用表空间。
                     </p>
                     <div class="section">
                        <p>默认情况下，创建所有LogMiner表以使用<code class="codeph">SYSAUX</code>表空间。但是，可能需要让LogMiner表使用备用表空间。使用此过程将LogMiner表移动到此备用表空间</p>
                        <p>在CDB中，只将本地容器中的LogMiner元数据移动到请求的表空间。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-73998B7D-AE96-4B3B-8483-048D746A4C54__GUID-858E9385-3304-44F6-84FD-4AB3F87433C5">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_LOGMNR_D.SET_TABLESPACE（new_tablespace IN VARCHAR2）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-73998B7D-AE96-4B3B-8483-048D746A4C54__GUID-91857707-DA04-4D97-9605-4723FB5A93CA">参数</p>
                        <div class="tblformal" id="GUID-73998B7D-AE96-4B3B-8483-048D746A4C54__GUID-3D621933-A504-4BC4-ADDC-5ED0165C4A5B">
                           <p class="titleintable">表98-4 SET_TABLESPACE参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SET_TABLESPACE参数" width="100%" border="1" summary="This table describes the parameters of the DBMS_LOGMNR_D.SET_TABLESPACE subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d540228e1073">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d540228e1076">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d540228e1081" headers="d540228e1073 ">
                                       <p><code class="codeph">new_tablespace</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d540228e1081 d540228e1076 ">
                                       <p>命名预先存在的表空间的字符串。要移动所有LogMiner表以使用此表空间，请提供此参数。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-73998B7D-AE96-4B3B-8483-048D746A4C54__GUID-D88D6172-A85B-4C4E-ACFF-65D5C843DD14">使用说明</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>从早期版本的Oracle数据库升级的用户可以在<code class="codeph">SYSTEM</code>表空间中找到LogMiner表。Oracle鼓励这些用户考虑使用<code class="codeph">SET_TABLESPACE</code>过程将表移动到<code class="codeph">SYSAUX</code>表空间，一旦他们确信它们不会降级到早期版本的Oracle数据库。
                              </p>
                           </li>
                           <li>
                              <p>此例程的用户必须提供现有的表空间。</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-73998B7D-AE96-4B3B-8483-048D746A4C54__GUID-109FFC0C-6274-4FC5-AA13-A72272D10142">示例：使用DBMS_LOGMNR_D.SET_TABLESPACE过程</p>
                        <p>以下示例显示了备用表空间的创建和<code class="codeph">DBMS_LOGMNR_D</code>执行。 <code class="codeph">SET_TABLESPACE</code>过程。
                        </p><pre class="oac_no_warn" dir="ltr">SQL&gt; CREATE TABLESPACE logmnrts $ datafile'/usr/oracle/dbs/logmnrts.f'SIZE 25 M REUSE AUTOEXTEND MAXSIZE UNLIMITED; SQL&gt; EXECUTE dbms_logmnr_d.set_tablespace（'logmnrts $'）;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>