<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="You can use XLink and XInclude with resources in Oracle XML DB Repository. But the use of XLink is deprecated."></meta>
      <meta name="description" content="You can use XLink and XInclude with resources in Oracle XML DB Repository. But the use of XLink is deprecated."></meta>
      <title>将XLink和XInclude与Oracle XML DB一起使用</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Developer&#39;s Guide "></meta>
      <meta property="og:description" content="You can use XLink and XInclude with resources in Oracle XML DB Repository. But the use of XLink is deprecated."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Developer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="xml-db-developers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-03-30T12:32:42-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2002, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96222-03"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="configuration-of-XML-DB-repository.html" title="Previous" type="text/html"></link>
      <link rel="next" href="repository-access-using-RESOURCE_VIEW-and-PATH_VIEW.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="XML DB Developer&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="ADXDB"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="configuration-of-XML-DB-repository.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="repository-access-using-RESOURCE_VIEW-and-PATH_VIEW.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">开发人员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="XML-DB-repository.html" property="item" typeof="WebPage"><span property="name">Oracle XML DB存储库</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">将XLink和XInclude与Oracle XML DB一起使用</li>
            </ol>
            <a id="GUID-5731BA64-7DEB-44A2-925E-D07014372B66" name="GUID-5731BA64-7DEB-44A2-925E-D07014372B66"></a><a id="ADXDB3800"></a>
            
            <h2 id="ADXDB-GUID-5731BA64-7DEB-44A2-925E-D07014372B66" class="sect2"><span class="enumeration_chapter">23</span> XLink和XInclude与Oracle XML DB的使用</h2>
         </header>
         <div class="ind">
            <div>
               <p>您可以将XLink和XInclude与Oracle XML DB Repository中的资源一起使用。但是<span class="italic">不推荐</span>使用XLink。
               </p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="use-of-XLink-and-XInclude-with-XML-DB.html#GUID-3CD58619-90F5-4E59-8CF6-E6D6EDAD0D93">XLink和XInclude概述</a><br>面向文档或<strong class="term">内容管理的</strong>应用程序通常跟踪文档之间的关系，这些关系通常作为各种链接进行表示和操作。此类链接可以以各种方式影响应用程序行为，包括影响文档内容和对用户操作（如鼠标单击）的响应。
                  </li>
                  <li class="ulchildlink"><a href="use-of-XLink-and-XInclude-with-XML-DB.html#GUID-13BF9F9B-2BEC-474F-821E-93B8B40325DD">XLink和XInclude的链接类型</a><br>描述了XLink和XInclude链接类型，以及它们与Oracle XML DB Repository链接之间的关系。XLink链接（ <span class="italic">不建议使用</span> ）比存储库链接更通用。XLink链接可以是简单的或扩展的。Oracle XML DB仅支持简单而非扩展的XLink链接。
                  </li>
                  <li class="ulchildlink"><a href="use-of-XLink-and-XInclude-with-XML-DB.html#GUID-CFE8785E-0D57-4077-8044-95BF1495052C">XInclude：复合文档</a><br>XInclude是W3C推荐的语法和处理模型，用于将多个XML文档的信息集合并到一个信息集中。元素<code class="codeph">xi:include</code>用于包含另一个文档，将其URI指定为<code class="codeph">href</code>属性的值。
                  </li>
                  <li class="ulchildlink"><a href="use-of-XLink-and-XInclude-with-XML-DB.html#GUID-FE4BC710-4837-4C04-8998-095A88859D4D">Oracle XML DB对XLink的支持</a><br>您可以配置Oracle XML DB资源库资源，以便忽略XLink链接，或者将它们映射到Oracle XML DB文档链接。但是， <span class="italic">不推荐</span>使用XLink和Oracle XML DB Repository。
                  </li>
                  <li class="ulchildlink"><a href="use-of-XLink-and-XInclude-with-XML-DB.html#GUID-29969882-74DD-4865-A4E2-4CEB2DCCF81E">XInclude的Oracle XML DB支持</a><br>Oracle XML DB支持XInclude 1.0作为管理复合文档的标准机制。但是，它不支持属性<code class="codeph">xpointer</code>和包含文档片段。只能包含完整的文档（使用属性<code class="codeph">href</code> ）。
                  </li>
                  <li class="ulchildlink"><a href="use-of-XLink-and-XInclude-with-XML-DB.html#GUID-B9EAFB57-6F16-4BD0-B664-957359B4263E">使用查看DOCUMENT_LINKS来检查XLink和XInclude链接</a><br>您可以查询只读公共视图<code class="codeph">DOCUMENT_LINKS</code>以获取有关从XLink（ <span class="italic">已弃用</span> ）和XInclude链接派生的文档链接的系统信息。对于每个链接，此视图中的信息包括以下列：</li>
                  <li class="ulchildlink"><a href="use-of-XLink-and-XInclude-with-XML-DB.html#GUID-CC5F92B5-4718-4E29-B407-544C960AE5BE">为XLink和XInclude配置存储库资源</a><br>将描述您用作资源以配置XLink（ <span class="italic">不建议使用</span> ）和XInclude处理其他资源的资源配置文件。
                  </li>
                  <li class="ulchildlink"><a href="use-of-XLink-and-XInclude-with-XML-DB.html#GUID-67A0D8D0-7A95-443E-B108-D403AB882F10">使用DBMS_XDB_REPOS.processLinks管理XLink和XInclude链接</a><br>您可以使用PL / SQL过程<code class="codeph">DBMS_XDB_REPOS.processLinks</code>手动处理单个文档或文件夹的所有文档中的所有XLink（ <span class="italic">不建议使用</span> ）和XInclude链接。
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>父主题：</strong> <a href="XML-DB-repository.html#GUID-840EBE35-8FC8-4150-9FC8-78442FD1B12B" title="Oracle XML DB Repository允许您对数据进行版本控制，实现和管理安全性，并使用API来访问和操作存储库资源。">Oracle XML DB存储库</a></p>
                  </div>
               </div>
            </div>
            <a id="ADXDB5331"></a><div class="props_rev_3"><a id="GUID-3CD58619-90F5-4E59-8CF6-E6D6EDAD0D93" name="GUID-3CD58619-90F5-4E59-8CF6-E6D6EDAD0D93"></a><h3 id="ADXDB-GUID-3CD58619-90F5-4E59-8CF6-E6D6EDAD0D93" class="sect3"><span class="enumeration_section">23.1</span> XLink和XInclude概述</h3>
               <div>
                  <p>面向文档或<strong class="term">内容管理的</strong>应用程序通常跟踪文档之间的关系，这些关系通常作为各种链接进行表示和操作。此类链接可以以各种方式影响应用程序行为，包括影响文档内容和对用户操作（如鼠标单击）的响应。
                  </p>
                  <p>对于在XML存储库中管理的文档，W3C有两个与此相关的建议：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><strong class="term">XLink  -</strong>定义资源之间的各种类型的链接。这些链接可以模拟文档之间的任意关系。这些文档可以驻留在存储库内部或外部。
                        </p>
                     </li>
                     <li>
                        <p><strong class="term">XInclude  -</strong>定义在单个信息集中包含多个XML文档或片段的内容的方法。这提供了复合文档，其模拟包含关系。<strong class="term">复合文档</strong>是包含其他文档的文档。更确切地说，它们是包含文档或文档片段的文件资源。包含的对象可以是同一存储库中的文件资源，也可以是存储库外的文档或片段。
                        </p>
                     </li>
                  </ul>
                  <p>这些标准中的每一个都非常通用，并且不限于建模XML文档之间的关系。不要求使用XLink链接的文档或使用XInclude包含在XML文档中的文档是XML文档。</p>
                  <p>使用XLink和XInclude来表示文档关系可以为应用程序提供灵活性，促进组件文档的重用，并实现细粒度操作（访问控制，版本控制，元数据等）。使用XML数据结构（祖先 - 后代层次结构）来建模关系需要这些关系相对固定，而使用XLink和XInclude建模关系可以轻松地允许这些关系发生变化。</p>
                  <div class="infoboxnote" id="GUID-3CD58619-90F5-4E59-8CF6-E6D6EDAD0D93__GUID-3908226E-7750-4C72-8C21-AF498FF204CE">
                     <p class="notep1">注意：</p>
                     <p>对于能够使用XLink和XInclude属性的基于XML模式的文档，XML模式必须显式声明这些属性或允许任何属性。</p>
                  </div>
                  <div class="infoboxnote" id="GUID-3CD58619-90F5-4E59-8CF6-E6D6EDAD0D93__GUID-9C2FAE82-D291-423F-9FDD-15FBCFB8352A">
                     <p class="notep1">注意：</p>
                     <p>从Oracle Database 12c第2版（12.2.0.1）开始， <span class="italic">不推荐</span>使用XLink和Oracle XML DB Repository。
                     </p>
                  </div>
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-3CD58619-90F5-4E59-8CF6-E6D6EDAD0D93__GUID-51875976-34A8-4F94-868A-525A184F7EA3">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adxdb&amp;id=w3_org_tr_xlink" target="_blank">XML链接语言（XLink）版本1.0</a></p>
                        </li>
                        <li>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adxdb&amp;id=w3_org_tr_xinclude" target="_blank">XML包含（XInclude）版本1.0（第二版）</a></p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="use-of-XLink-and-XInclude-with-XML-DB.html#GUID-5731BA64-7DEB-44A2-925E-D07014372B66" title="您可以将XLink和XInclude与Oracle XML DB Repository中的资源一起使用。但是不推荐使用XLink。">将XLink和XInclude与Oracle XML DB一起使用</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADXDB5332"></a><div class="props_rev_3"><a id="GUID-13BF9F9B-2BEC-474F-821E-93B8B40325DD" name="GUID-13BF9F9B-2BEC-474F-821E-93B8B40325DD"></a><h3 id="ADXDB-GUID-13BF9F9B-2BEC-474F-821E-93B8B40325DD" class="sect3"><span class="enumeration_section">23.2</span> XLink和XInclude的链接类型</h3>
               <div>
                  <p>描述了XLink和XInclude链接类型，以及它们与Oracle XML DB Repository链接之间的关系。XLink链接（ <span class="italic">不建议使用</span> ）比存储库链接更通用。XLink链接可以是简单的或扩展的。Oracle XML DB仅支持简单而非扩展的XLink链接。
                  </p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="use-of-XLink-and-XInclude-with-XML-DB.html#GUID-FD53E432-6D87-44F7-BCF6-E6F65290FFEB">XLink和XInclude链接模型文档关系</a><br>XLink（ <span class="italic">不建议使用</span> ）和XInclude链接模拟文档之间的任意关系。关系的含义和行为由使用该链接的应用程序确定。它们不是链接本身所固有的。XLink和XInclude链接可以映射到Oracle XML DB文档链接。
                     </li>
                     <li class="ulchildlink"><a href="use-of-XLink-and-XInclude-with-XML-DB.html#GUID-B330AAB4-20C3-44C8-B0DD-E2370E6D07A0">XLink链接类型和XInclude链接类型</a><br>XLink（ <span class="italic">不建议使用</span> ）和XInclude可以提供指向其他文档的链接。在XInclude的情况下，属性<code class="codeph">href</code>和<code class="codeph">xpointer</code>用于指定目标文档。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="use-of-XLink-and-XInclude-with-XML-DB.html#GUID-5731BA64-7DEB-44A2-925E-D07014372B66" title="您可以将XLink和XInclude与Oracle XML DB Repository中的资源一起使用。但是不推荐使用XLink。">将XLink和XInclude与Oracle XML DB一起使用</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADXDB5333"></a><div class="props_rev_3"><a id="GUID-FD53E432-6D87-44F7-BCF6-E6F65290FFEB" name="GUID-FD53E432-6D87-44F7-BCF6-E6F65290FFEB"></a><h4 id="ADXDB-GUID-FD53E432-6D87-44F7-BCF6-E6F65290FFEB" class="sect4"><span class="enumeration_section">23.2.1</span> XLink和XInclude链接模型文档关系</h4>
                  <div>
                     <p>XLink（ <span class="italic">不建议使用</span> ）和XInclude链接模拟文档之间的任意关系。关系的含义和行为由使用该链接的应用程序确定。它们不是链接本身所固有的。XLink和XInclude链接可以映射到Oracle XML DB文档链接。
                     </p>
                     <p>当文档链接目标Oracle XML DB资源库资源时，它们（根据配置选项）可以是硬链接或弱链接。在这里，它们类似于该上下文中的存储库链接。可以使用与FTP和HTTP等文件系统相关的协议来导航存储库链接。文档链接不能，但可以使用XPath 2.0函数<code class="codeph">fn:doc</code>进行导航。
                     </p>
                     <div class="section"></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="accessing-XML-DB-repository-data.html#GUID-72981E53-0B60-4096-80E0-06A139086DED" title="目标存储库资源的链接可能很难或很弱。硬链接和弱链接对于它们所针对的资源具有不同的依赖关系。硬链接无法定位祖先文件夹;薄弱环节可以。您可以查询存储库路径视图PATH_VIEW，以确定存储库链接的类型。">硬链接和弱链接</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="use-of-XLink-and-XInclude-with-XML-DB.html#GUID-13BF9F9B-2BEC-474F-821E-93B8B40325DD" title="描述了XLink和XInclude链接类型，以及它们与Oracle XML DB Repository链接之间的关系。XLink链接（不建议使用）比存储库链接更通用。XLink链接可以是简单的或扩展的。Oracle XML DB仅支持简单而非扩展的XLink链接。">XLink和XInclude的链接类型</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB5334"></a><div class="props_rev_3"><a id="GUID-B330AAB4-20C3-44C8-B0DD-E2370E6D07A0" name="GUID-B330AAB4-20C3-44C8-B0DD-E2370E6D07A0"></a><h4 id="ADXDB-GUID-B330AAB4-20C3-44C8-B0DD-E2370E6D07A0" class="sect4"><span class="enumeration_section">23.2.2</span> XLink链接类型和XInclude链接类型</h4>
                  <div>
                     <p>XLink（ <span class="italic">不建议使用</span> ）和XInclude可以提供指向其他文档的链接。在XInclude的情况下，属性<code class="codeph">href</code>和<code class="codeph">xpointer</code>用于指定目标文档。
                     </p>
                     <p>Xlink链接可以是简单的或扩展的。<strong class="term">简单</strong>链接是单向的，从源到目标。<strong class="term">扩展</strong>链接（有时称为<strong class="term">复杂</strong>链接）可以模拟具有不同方向性的多个文档之间的关系。简单链接和扩展链接都可以包含链接元数据。XLink链接使用命名空间<code class="codeph">http://www.w3.org/1999/xlink</code>各种属性以XML数据表示，该属性具有预定义的前缀<code class="codeph">xlink</code> 。简单链接使用属性<code class="codeph">type</code>在XML数据中表示，其值为<code class="codeph">simple</code> ，即<code class="codeph">xlink:type = "simple"</code> 。扩展的Xlink链接使用<code class="codeph">xlink:type = "extended"</code> 。
                     </p>
                     <p><strong class="term">第三方</strong>扩展Xlink链接不包含在其建模关系的任何文档中。因此，第三方链接可用于关联文档，例如二进制文件，这些文档本身无法表示链接。
                     </p>
                     <p>简单Xlink链接的源端（即包含链接的文档）必须是XML文档。简单链接的目标末端可以是任何文档。扩展链接没有这样的限制。<a href="use-of-XLink-and-XInclude-with-XML-DB.html#GUID-CB94F44C-3059-4776-A4DE-00F72249A9E0__CIHBJGJB">例23-3</a>显示了简单链接的示例。链接目标使用属性<code class="codeph">xlink:href</code> 。
                     </p>
                     <div class="infoboxnote" id="GUID-B330AAB4-20C3-44C8-B0DD-E2370E6D07A0__GUID-36530A08-4FC7-4C23-B24C-61ABB4BD6D13">
                        <p class="notep1">注意：</p>
                        <p>从Oracle Database 12c第2版（12.2.0.1）开始， <span class="italic">不推荐</span>使用XLink和Oracle XML DB Repository。
                        </p>
                     </div>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="use-of-XLink-and-XInclude-with-XML-DB.html#GUID-13BF9F9B-2BEC-474F-821E-93B8B40325DD" title="描述了XLink和XInclude链接类型，以及它们与Oracle XML DB Repository链接之间的关系。XLink链接（不建议使用）比存储库链接更通用。XLink链接可以是简单的或扩展的。Oracle XML DB仅支持简单而非扩展的XLink链接。">XLink和XInclude的链接类型</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADXDB5336"></a><a id="ADXDB5335"></a><div class="props_rev_3"><a id="GUID-CFE8785E-0D57-4077-8044-95BF1495052C" name="GUID-CFE8785E-0D57-4077-8044-95BF1495052C"></a><h3 id="ADXDB-GUID-CFE8785E-0D57-4077-8044-95BF1495052C" class="sect3"><span class="enumeration_section">23.3</span> X包括：复合文件</h3>
               <div>
                  <p>XInclude是W3C推荐的语法和处理模型，用于将多个XML文档的信息集合并到一个信息集中。元素<code class="codeph">xi:include</code>用于包含另一个文档，将其URI指定为<code class="codeph">href</code>属性的值。
                  </p>
                  <p>元素<code class="codeph">xi:include</code>可以嵌套，因此包含的文档本身可以包含其他文档。
                  </p>
                  <p>（但是，包含循环会在Oracle XML DB中引发错误。会创建资源，但在扩展包含时会引发错误。）</p>
                  <p>因此，XInclude提供了<span class="italic">复合</span>文档：包含其他XML文档或片段的存储库文件资源。包含的对象可以是同一存储库中的文件资源，也可以是存储库外的文档或片段。
                  </p>
                  <p>书籍可能是典型的复合文档的示例，由内容管理系统管理。每本书都包含章节文档，每个文档都可以作为单独的对象进行管理，并带有自己的URL。章节文档可以有自己的元数据和访问控制，并且可以进行版本控制。一本书可以包括（参考）章节文档的特定版本。同一章文档可以包含在多个书籍文档中，以便重复使用。由于包含是使用XInclude建模的，因此简化了内容管理。例如，将书中的一个章节替换为另一个章节很容易。</p>
                  <p><a href="use-of-XLink-and-XInclude-with-XML-DB.html#GUID-CFE8785E-0D57-4077-8044-95BF1495052C__CIHBIICH">示例23-1</a>说明了包含四个文档的XML <code class="codeph">Book</code>元素。还显示了其中一个文件<code class="codeph">part1.xml</code> 。文档<code class="codeph">part1.xml</code>包含代表章节的其他文档。
                  </p>
                  <p>这些是XInclude的一些附加功能：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>包含纯文本 - 您可以使用属性<code class="codeph">parse</code>包含未解析的非XML文本，其值为<code class="codeph">text</code> ： <code class="codeph">parse = "text"</code> 。
                        </p>
                     </li>
                     <li>
                        <p>包含XML片段 - 您可以在<code class="codeph">xi:include</code>元素中使用<code class="codeph">xpointer</code>属性来指定要包含的XML片段，而不是整个文档。
                        </p>
                     </li>
                     <li>
                        <p>回退处理 - 如果出现错误，例如无法访问所包含文档的URI， <code class="codeph">xi:include</code>语法错误或返回null的<code class="codeph">xpointer</code>引用，XInclude将执行元素<code class="codeph">xi:fallback</code>指定的处理。这通常指定要包括的替代元素。替代元素本身可以使用<code class="codeph">xi:include</code>来包含其他文档。
                        </p>
                     </li>
                  </ul>
                  <div class="example" id="GUID-CFE8785E-0D57-4077-8044-95BF1495052C__CIHBIICH">
                     <p class="titleinexample">示例23-1在书籍文档中使用的XInclude包含部件和章节</p>
                     <p>表示书籍的顶级文档包含元素<code class="codeph">Book</code> 。
                     </p><pre class="pre codeblock"><code>&lt;Book xmlns：xi =“http://www.w3.org/2001/XInclude”&gt; &lt;xi：include href = toc.xml“/&gt; &lt;xi：include href = part1.xml”/&gt; &lt;xi：include href = part2.xml“/&gt; &lt;xi：include href = index.xml”/&gt; &lt;/ Book&gt;</code></pre><p>主要的书籍部分，文件（资源） <code class="codeph">part2.xml</code> ，包含一个<code class="codeph">Part</code>元素，其中包含多个章节文档。
                     </p><pre class="pre codeblock"><code>&lt;？xml版本=“1.0”？&gt; &lt;Part xmlns：xi =“http://www.w3.org/2001/XInclude”&gt; &lt;xi：include href =“chapter5.xml”/&gt; &lt;xi：include href =“chapter6.xml”/&gt; &lt; xi：include href =“chapter8.xml”/&gt; &lt;xi：include href =“chapter9.xml”/&gt; &lt;/ Part&gt;</code></pre></div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="use-of-XLink-and-XInclude-with-XML-DB.html#GUID-5731BA64-7DEB-44A2-925E-D07014372B66" title="您可以将XLink和XInclude与Oracle XML DB Repository中的资源一起使用。但是不推荐使用XLink。">将XLink和XInclude与Oracle XML DB一起使用</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADXDB5337"></a><div class="props_rev_3"><a id="GUID-FE4BC710-4837-4C04-8998-095A88859D4D" name="GUID-FE4BC710-4837-4C04-8998-095A88859D4D"></a><h3 id="ADXDB-GUID-FE4BC710-4837-4C04-8998-095A88859D4D" class="sect3"><span class="enumeration_section">23.4</span> Oracle XML DB对XLink的支持</h3>
               <div>
                  <p>您可以配置Oracle XML DB资源库资源，以便忽略XLink链接，或者将它们映射到Oracle XML DB文档链接。但是， <span class="italic">不推荐</span>使用XLink和Oracle XML DB Repository。
                  </p>
                  <p>Oracle XML DB仅支持简单的XLink链接，而不支持扩展的XLink链接。</p>
                  <p>当包含XLink属性的XML文档作为资源内容或用户定义的资源元数据添加到Oracle XML DB存储库时，可能会发生特殊处理，具体取决于存储库或单个存储库资源的配置方式。资源配置文档的元素<code class="codeph">XLinkConfig</code> <code class="codeph">XDBResConfig.xsd</code>确定此行为。
                  </p>
                  <p>如果配置资源以便将XLink链接映射到Oracle XML DB文档链接，则可以指定文档链接是硬还是弱。硬文档链接和弱文档链接具有与硬和弱存储库链接相同的属性。</p>
                  <p>创建或更新文档链接所需的权限与创建或更新存储库链接所需的权限相同。即使部分更新文档，也需要具有删除整个文档并重新插入文档所需的相同权限。特别是，即使您只更新一个文档链接，您也必须对包含该链接的文档链接的<span class="italic">每个</span>文档具有删除和插入权限。
                  </p>
                  <p>如果配置将XLink链接映射到文档链接，则只要将包含XLink链接的文档添加到存储库，就会提取XLink信息并将其存储在系统链接表中。链接目标（目标）位置由基于资源OID的直接路径替换。配置还可以指定在文档检索时是否将命名路径（URL）替换OID路径。使用OID路径而不是命名路径通常在处理链接时提供性能优势，包括检索资源内容的时间。</p>
                  <p>您可以在资源内容中使用XLink，但不能在资源元数据中使用XLink。</p>
                  <div class="infoboxnote" id="GUID-FE4BC710-4837-4C04-8998-095A88859D4D__GUID-1A609A05-E1D2-4307-8560-8DF0BB92CA70">
                     <p class="notep1">注意：</p>
                     <p>从Oracle Database 12c第2版（12.2.0.1）开始， <span class="italic">不推荐</span>使用XLink和Oracle XML DB Repository。
                     </p>
                  </div>
                  <div class="section"></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="use-of-XLink-and-XInclude-with-XML-DB.html#GUID-B9EAFB57-6F16-4BD0-B664-957359B4263E" title="您可以查询只读公共视图DOCUMENT_LINKS以获取有关从XLink（已弃用）和XInclude链接派生的文档链接的系统信息。对于每个链接，此视图中的信息包括以下列：">使用查看DOCUMENT_LINKS来检查XLink和XInclude链接</a></li>
                        <li><a href="user-defined-repository-metadata.html#GUID-74BCC51E-2E7C-4DB6-8DCF-F65122FE132E" title="您可以创建自己的元数据以与存储在Oracle XML DB Repository中的XML数据相关联。">用户定义的存储库元数据</a></li>
                        <li><a href="accessing-XML-DB-repository-data.html#GUID-72981E53-0B60-4096-80E0-06A139086DED" title="目标存储库资源的链接可能很难或很弱。硬链接和弱链接对于它们所针对的资源具有不同的依赖关系。硬链接无法定位祖先文件夹;薄弱环节可以。您可以查询存储库路径视图PATH_VIEW，以确定存储库链接的类型。">硬链接和弱链接</a></li>
                        <li><a href="use-of-XLink-and-XInclude-with-XML-DB.html#GUID-CC5F92B5-4718-4E29-B407-544C960AE5BE" title="将描述您用作资源以配置XLink（不建议使用）和XInclude处理其他资源的资源配置文件。">为XLink和XInclude配置存储库资源</a></li>
                        <li><a href="oracle-supplied-XML-schemas-and-examples.html#GUID-B33E058B-0660-4879-A6A2-64B45423BA1C" title="提供了Oracle XML DB提供的用于配置存储库资源的XML模式的完整列表。可以在Oracle XML DB Repository的路径/sys/schemas/PUBLIC/xmlns.oracle.com/xdb/XDBResConfig.xsd中访问它。">XDBResConfig.xsd：资源配置的XML模式</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="use-of-XLink-and-XInclude-with-XML-DB.html#GUID-5731BA64-7DEB-44A2-925E-D07014372B66" title="您可以将XLink和XInclude与Oracle XML DB Repository中的资源一起使用。但是不推荐使用XLink。">将XLink和XInclude与Oracle XML DB一起使用</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADXDB5338"></a><div class="props_rev_3"><a id="GUID-29969882-74DD-4865-A4E2-4CEB2DCCF81E" name="GUID-29969882-74DD-4865-A4E2-4CEB2DCCF81E"></a><h3 id="ADXDB-GUID-29969882-74DD-4865-A4E2-4CEB2DCCF81E" class="sect3"><span class="enumeration_section">23.5</span> XInclude的Oracle XML DB支持</h3>
               <div>
                  <p>Oracle XML DB支持XInclude 1.0作为管理复合文档的标准机制。但是，它不支持属性<code class="codeph">xpointer</code>和包含文档片段。只能包含完整的文档（使用属性<code class="codeph">href</code> ）。
                  </p>
                  <p>您可以使用XInclude创建包含现有内容的XML文档。您还可以配置非基于模式的XML文档的隐式分解，创建一组包含XInclude包含引用的存储库资源。</p>
                  <p>包含文档的内容必须是XML数据或纯文本（具有属性<code class="codeph">parse = "text"</code> ）。您不能使用XInclude直接包含二进制内容，但可以使用XLink链接到二进制内容。
                  </p>
                  <p>您可以在资源内容中使用XInclude，但不能在资源元数据中使用。</p>
                  <div class="section"></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="use-of-XLink-and-XInclude-with-XML-DB.html#GUID-A2B5A064-7522-42EB-9EDC-1B52FC883F07">扩展复合文档包含</a><br>从Oracle XML DB存储库检索复合文档时，可以选择使用其目标扩展<code class="codeph">xi:include</code>元素。
                     </li>
                     <li class="ulchildlink"><a href="use-of-XLink-and-XInclude-with-XML-DB.html#GUID-5C1ED7E6-FB07-4F95-905F-413ABA8346F2">验证复合文件</a><br>您可以像对待任何XML文档一样验证复合文档。但是，您可以选择以任一形式对其进行验证：使用<code class="codeph">xi:include</code>元素或将其替换为目标。
                     </li>
                     <li class="ulchildlink"><a href="use-of-XLink-and-XInclude-with-XML-DB.html#GUID-28FFAB0F-7034-4D28-AD9D-1E3B5AEB4C2C">更新复合文件</a><br>您可以像更新任何资源一样更新复合文档。这将使用新值替换资源。
                     </li>
                     <li class="ulchildlink"><a href="use-of-XLink-and-XInclude-with-XML-DB.html#GUID-DE1FFEAA-8790-4DEE-AD9A-085835850344">复合文档版本控制，锁定和访问控制</a><br>复合文档的组件是单独的资源。它们是独立版本和锁定的，它们的访问权限是独立控制的。
                     </li>
                  </ul>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="use-of-XLink-and-XInclude-with-XML-DB.html#GUID-B9EAFB57-6F16-4BD0-B664-957359B4263E" title="您可以查询只读公共视图DOCUMENT_LINKS以获取有关从XLink（已弃用）和XInclude链接派生的文档链接的系统信息。对于每个链接，此视图中的信息包括以下列：">使用查看DOCUMENT_LINKS来检查XLink和XInclude链接</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="use-of-XLink-and-XInclude-with-XML-DB.html#GUID-5731BA64-7DEB-44A2-925E-D07014372B66" title="您可以将XLink和XInclude与Oracle XML DB Repository中的资源一起使用。但是不推荐使用XLink。">将XLink和XInclude与Oracle XML DB一起使用</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADXDB5340"></a><a id="ADXDB5339"></a><div class="props_rev_3"><a id="GUID-A2B5A064-7522-42EB-9EDC-1B52FC883F07" name="GUID-A2B5A064-7522-42EB-9EDC-1B52FC883F07"></a><h4 id="ADXDB-GUID-A2B5A064-7522-42EB-9EDC-1B52FC883F07" class="sect4"><span class="enumeration_section">23.5.1</span>扩展复合文档包含</h4>
                  <div>
                     <p>从Oracle XML DB存储库检索复合文档时，可以选择使用其目标扩展<code class="codeph">xi:include</code>元素。
                     </p>
                     <div class="section">
                        <p>检索复合文档时，您可以选择：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>按原样检索它，使用<code class="codeph">xi:include</code>元素保持原样。这是默认行为。
                              </p>
                           </li>
                           <li>
                              <p>在使用其目标替换<code class="codeph">xi:include</code>元素之后，以递归方式，即在扩展所有包含之后检索它。如果无法解析任何<code class="codeph">xi:include</code>元素，则会引发错误。
                              </p>
                           </li>
                        </ul>
                        <p>要以扩展形式检索文档，请使用PL / SQL构造函数<code class="codeph">XDBURIType</code> ，将值<code class="codeph">'1'</code>或<code class="codeph">'3'</code>作为第二个参数（flags）传递。<a href="use-of-XLink-and-XInclude-with-XML-DB.html#GUID-A2B5A064-7522-42EB-9EDC-1B52FC883F07__CIHHFJDC">例23-2</a>说明了这一点。这些是构造函数<code class="codeph">XDBURIType</code>的第二个参数的可能值：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">1</code> - 在返回结果之前展开所有XInclude包含。如果根据XInclude标准回退语义无法解析任何此类包含，则引发错误。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">2</code> - 抑制文档检索期间可能发生的所有错误。这包括悬空<code class="codeph">href</code>指针。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">3</code> - 与<code class="codeph">1</code>和<code class="codeph">2</code>相同。
                              </p>
                           </li>
                        </ul>
                        <p><a href="use-of-XLink-and-XInclude-with-XML-DB.html#GUID-A2B5A064-7522-42EB-9EDC-1B52FC883F07__CIHHFJDC">示例23-2</a>检索存储库文件夹<code class="codeph">public/bookdir</code>下的所有文档，扩展每个包含：</p>
                        <p>（此处显示的结果对应于<a href="use-of-XLink-and-XInclude-with-XML-DB.html#GUID-BF27F901-7D62-4D87-AE29-90241E25A062__CIHJIACF">示例23-8中</a>显示的资源<code class="codeph">bookfile.xml</code>及其包含的资源， <code class="codeph">chap1.xml</code>和<code class="codeph">chap2.xml</code> 。）
                        </p>
                        <div class="infoboxnotealso" id="GUID-A2B5A064-7522-42EB-9EDC-1B52FC883F07__GUID-07F16B0C-FC4B-4C98-AC31-C13FAFD3FA5C">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><a href="use-of-XLink-and-XInclude-with-XML-DB.html#GUID-DE1FFEAA-8790-4DEE-AD9A-085835850344" title="The components of a compound document are separate resources. They are versioned and locked independently, and their access is controlled independently.">复合文档版本控制，锁定和访问控制，</a>以获取有关扩展期间<a href="use-of-XLink-and-XInclude-with-XML-DB.html#GUID-DE1FFEAA-8790-4DEE-AD9A-085835850344" title="复合文档的组件是单独的资源。它们是独立版本和锁定的，它们的访问权限是独立控制的。">访问控制</a>的信息</p>
                              </li>
                              <li>
                                 <p>有关<code class="codeph">XDBURIType</code>更多信息，请<code class="codeph">XDBURIType</code> <a href="../arpls/Database-URI-TYPEs.html#ARPLS800" target="_blank"><span><cite>Oracle Database PL / SQL包和类型参考</cite></span></a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-A2B5A064-7522-42EB-9EDC-1B52FC883F07__CIHHFJDC">
                        <p class="titleinexample">示例23-2使用XDBURIType扩展文档包含</p><pre class="oac_no_warn" dir="ltr">SELECT XDBURIType（ANY_PATH， <span class="bold">'1'</span> ）。getXML（）FROM RESOURCE_VIEW WHERE under_path（RES，'/ public / bookdir'）= 1; XDBURITYPE（ANY_PATH， '1'）。GETXML（）--------------------------------- &lt;Book&gt; &lt;Title&gt;一本书&lt;/ Title&gt; &lt;Chapter id =“1”&gt; &lt;Title&gt;简介&lt;/ Title&gt; &lt;Body&gt; &lt;Para&gt; blah blah &lt;/ Para&gt; &lt;Para&gt; foo bar &lt;/ Para&gt; &lt;/ Body&gt; &lt;/ Chapter&gt; &lt;Chapter id =“2” &gt; &lt;Title&gt;结论&lt;/ Title&gt; &lt;Body&gt; &lt;Para&gt; xyz xyz &lt;/ Para&gt; &lt;Para&gt; abc abc &lt;/ Para&gt; &lt;/ Body&gt; &lt;/ Chapter&gt; &lt;/ Book&gt; &lt;Chapter id =“1”&gt; &lt;标题&gt;简介&lt;/ Title&gt; &lt;Body&gt; &lt;Para&gt; blah blah &lt;/ Para&gt; &lt;Para&gt; foo bar &lt;/ Para&gt; &lt;/ Body&gt; &lt;/ Chapter&gt; &lt;Chapter id =“2”&gt; &lt;Title&gt;结论&lt; / Title&gt; &lt;Body&gt; &lt;Para&gt; xyz xyz &lt;/ Para&gt; &lt;Para&gt; abc abc &lt;/ Para&gt; &lt;/ Body&gt; &lt;/ Chapter&gt;选择了3行。
</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="use-of-XLink-and-XInclude-with-XML-DB.html#GUID-29969882-74DD-4865-A4E2-4CEB2DCCF81E" title="Oracle XML DB支持XInclude 1.0作为管理复合文档的标准机制。但是，它不支持属性xpointer和包含文档片段。只能包含完整的文档（使用属性href）。">XInclude的Oracle XML DB支持</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB5341"></a><div class="props_rev_3"><a id="GUID-5C1ED7E6-FB07-4F95-905F-413ABA8346F2" name="GUID-5C1ED7E6-FB07-4F95-905F-413ABA8346F2"></a><h4 id="ADXDB-GUID-5C1ED7E6-FB07-4F95-905F-413ABA8346F2" class="sect4"><span class="enumeration_section">23.5.2</span>复合文件的验证</h4>
                  <div>
                     <p>您可以像对待任何XML文档一样验证复合文档。但是，您可以选择以任一形式对其进行验证：使用<code class="codeph">xi:include</code>元素或将其替换为目标。
                     </p>
                     <p>您还可以选择使用一个XML架构来验证未展开的表单，另一个用于验证展开的表单。例如，您可以使用一个XML模式进行验证，而无需先进行扩展，以便设置存储结构，然后使用另一个XML模式在存储后验证扩展文档。</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="use-of-XLink-and-XInclude-with-XML-DB.html#GUID-29969882-74DD-4865-A4E2-4CEB2DCCF81E" title="Oracle XML DB支持XInclude 1.0作为管理复合文档的标准机制。但是，它不支持属性xpointer和包含文档片段。只能包含完整的文档（使用属性href）。">XInclude的Oracle XML DB支持</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB5342"></a><div class="props_rev_3"><a id="GUID-28FFAB0F-7034-4D28-AD9D-1E3B5AEB4C2C" name="GUID-28FFAB0F-7034-4D28-AD9D-1E3B5AEB4C2C"></a><h4 id="ADXDB-GUID-28FFAB0F-7034-4D28-AD9D-1E3B5AEB4C2C" class="sect4"><span class="enumeration_section">23.5.3</span>更新复合文件</h4>
                  <div>
                     <p>您可以像更新任何资源一样更新复合文档。这将使用新值替换资源。</p>
                     <p>因此，它对应于资源删除，然后是资源插入。这尤其意味着删除了原始资源中的任何<code class="codeph">xi:include</code>元素。根据插入时定义的配置，替换（插入）文档中的任何<code class="codeph">xi:include</code>元素将照常处理。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="use-of-XLink-and-XInclude-with-XML-DB.html#GUID-29969882-74DD-4865-A4E2-4CEB2DCCF81E" title="Oracle XML DB支持XInclude 1.0作为管理复合文档的标准机制。但是，它不支持属性xpointer和包含文档片段。只能包含完整的文档（使用属性href）。">XInclude的Oracle XML DB支持</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB5343"></a><div class="props_rev_3"><a id="GUID-DE1FFEAA-8790-4DEE-AD9A-085835850344" name="GUID-DE1FFEAA-8790-4DEE-AD9A-085835850344"></a><h4 id="ADXDB-GUID-DE1FFEAA-8790-4DEE-AD9A-085835850344" class="sect4"><span class="enumeration_section">23.5.4</span>复合文档版本控制，锁定和访问控制</h4>
                  <div>
                     <p>复合文档的组件是单独的资源。它们是独立版本和锁定的，它们的访问权限是独立控制的。</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>文档指向版本控制资源（VCR）的链接始终解析为最新版本的目标资源或当前工作空间中的选定版本。但是，您可以通过基于OID的路径标识目标资源，明确引用任何特定版本。</p>
                        </li>
                        <li>
                           <p>锁定包含<code class="codeph">xi:include</code>元素的文档也不会锁定包含的文档。锁定包含的文档也不会锁定包含它的文档。
                           </p>
                        </li>
                        <li>
                           <p>每当您检索具有扩展的复合文档时，都会检查每个引用文档的访问控制列表（ACL）。这是使用当前用户的权限（调用者的权限）完成的。如果任何包含的文档的权限不足，则会取消扩展并引发错误。</p>
                        </li>
                     </ul>
                     <div class="section"></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="use-of-XLink-and-XInclude-with-XML-DB.html#GUID-A2B5A064-7522-42EB-9EDC-1B52FC883F07" title="从Oracle XML DB存储库检索复合文档时，可以选择使用其目标扩展xi：include元素。">扩展复合文档包含</a></li>
                           <li><a href="resource-versions.html#GUID-02D41CF0-A074-4B25-89E3-EE815E3CB5DA" title="可以对Oracle XML DB资源库资源进行版本控制。保留对受版本控制的资源的所有更改的记录。">资源版本</a></li>
                           <li><a href="repository-access-control.html#GUID-CD4A712D-CCA2-4A19-909E-AEC57849A55A" title="Oracle数据库提供经典的数据库安全性，例如数据库用户的行级和列级安全访问。它还为Oracle XML DB Repository中的资源提供了细粒度的访问控制。您可以创建，设置和修改访问控制列表（ACL）。">存储库访问控制</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="use-of-XLink-and-XInclude-with-XML-DB.html#GUID-29969882-74DD-4865-A4E2-4CEB2DCCF81E" title="Oracle XML DB支持XInclude 1.0作为管理复合文档的标准机制。但是，它不支持属性xpointer和包含文档片段。只能包含完整的文档（使用属性href）。">XInclude的Oracle XML DB支持</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADXDB5344"></a><div class="props_rev_3"><a id="GUID-B9EAFB57-6F16-4BD0-B664-957359B4263E" name="GUID-B9EAFB57-6F16-4BD0-B664-957359B4263E"></a><h3 id="ADXDB-GUID-B9EAFB57-6F16-4BD0-B664-957359B4263E" class="sect3"><span class="enumeration_section">23.6</span>使用查看DOCUMENT_LINKS检查XLink和XInclude链接</h3>
               <div>
                  <p>您可以查询只读公共视图<code class="codeph">DOCUMENT_LINKS</code>以获取有关从XLink（ <span class="italic">已弃用</span> ）和XInclude链接派生的文档链接的系统信息。对于每个链接，此视图中的信息包括以下列：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><code class="codeph">SOURCE_ID</code> - 源资源OID。 <code class="codeph">RAW(16)</code> 。
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">TARGET_ID</code> - 目标资源OID。 <code class="codeph">RAW(16)</code> 。
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">TARGET_PATH</code> - 始终为<code class="codeph">NULL</code> 。保留供将来使用。<code class="codeph">VARCHAR2(4000)</code> 。
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">LINK_TYPE</code> - 文档链接类型： <code class="codeph">Hard</code>或<code class="codeph">Weak</code> 。<code class="codeph">VARCHAR2(8)</code> 。
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">LINK_FORM</code> - 原始链接是<code class="codeph">XLink</code>还是<code class="codeph">XInclude</code> 。<code class="codeph">VARCHAR2(8)</code> 。
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">SOURCE_TYPE</code> - 始终<code class="codeph">Resource Content</code> 。<code class="codeph">VARCHAR2(17)</code> 。
                        </p>
                     </li>
                  </ul>
                  <p>仅当满足下列条件之一时，才能从此视图获取有关资源的信息：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>资源是一个链接源，您可以在其上拥有权限<code class="codeph">read-contents</code>或<code class="codeph">read-properties</code> 。
                        </p>
                     </li>
                     <li>
                        <p>资源是链接目标，并且您具有权限<code class="codeph">read-properties</code> 。
                        </p>
                     </li>
                  </ul>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="use-of-XLink-and-XInclude-with-XML-DB.html#GUID-CB94F44C-3059-4776-A4DE-00F72249A9E0">查询DOCUMENT_LINKS以获取XLink信息</a><br>如果包含给定资源的文件夹已配置为将XLink链接映射到文档硬链接，则可以查询公共视图<code class="codeph">DOCUMENT_LINKS</code>以获取有关文档链接的系统信息。
                     </li>
                     <li class="ulchildlink"><a href="use-of-XLink-and-XInclude-with-XML-DB.html#GUID-93B0AA6C-DB20-4C63-BABE-3D23949D2836">查询DOCUMENT_LINKS以获取X包含信息</a><br>您可以查询视图<code class="codeph">DOCUMENT_LINKS</code>以显示从XInclude链接映射的文档链接。
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-B9EAFB57-6F16-4BD0-B664-957359B4263E__GUID-B661AD46-FCC3-470D-9A94-87F3C0212973">
                     <p class="notep1">也可以看看：</p>
                     <p>有关公共视图<code class="codeph">DOCUMENT_LINKS</code>更多信息，请<a href="../refrn/DOCUMENT_LINKS.html#REFRN29078" target="_blank"><span><cite>参见Oracle数据库参考</cite></span></a></p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="use-of-XLink-and-XInclude-with-XML-DB.html#GUID-5731BA64-7DEB-44A2-925E-D07014372B66" title="您可以将XLink和XInclude与Oracle XML DB Repository中的资源一起使用。但是不推荐使用XLink。">将XLink和XInclude与Oracle XML DB一起使用</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADXDB5346"></a><a id="ADXDB5345"></a><div class="props_rev_3"><a id="GUID-CB94F44C-3059-4776-A4DE-00F72249A9E0" name="GUID-CB94F44C-3059-4776-A4DE-00F72249A9E0"></a><h4 id="ADXDB-GUID-CB94F44C-3059-4776-A4DE-00F72249A9E0" class="sect4"><span class="enumeration_section">23.6.1</span>查询DOCUMENT_LINKS以获取XLink信息</h4>
                  <div>
                     <p>如果包含给定资源的文件夹已配置为将XLink链接映射到文档硬链接，则可以查询公共视图<code class="codeph">DOCUMENT_LINKS</code>以获取有关文档链接的系统信息。
                     </p>
                     <div class="section">
                        <div class="infoboxnote" id="GUID-CB94F44C-3059-4776-A4DE-00F72249A9E0__GUID-309A33C6-F9BA-4673-AAD3-D31A616F5D28">
                           <p class="notep1">注意：</p>
                           <p>从Oracle Database 12c第2版（12.2.0.1）开始， <span class="italic">不推荐</span>使用XLink和Oracle XML DB Repository。
                           </p>
                        </div>
                        <p><a href="use-of-XLink-and-XInclude-with-XML-DB.html#GUID-CB94F44C-3059-4776-A4DE-00F72249A9E0__CIHBJGJB">示例23-3</a>显示了在创建资源时如何处理XLink链接，以及如何从查看<code class="codeph">DOCUMENT_LINKS</code>获取有关文档链接的系统信息。它假定包含资源的文件夹已配置为将XLink链接映射到文档硬链接。
                        </p>
                        <div class="infoboxnotealso" id="GUID-CB94F44C-3059-4776-A4DE-00F72249A9E0__GUID-C89283B1-6BCE-4360-8696-DCB85F1213E8">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="use-of-XLink-and-XInclude-with-XML-DB.html#GUID-BF27F901-7D62-4D87-AE29-90241E25A062__CIHGBEAB">示例23-5</a>了解配置文件夹以将XLink链接映射到硬链接的示例</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-CB94F44C-3059-4776-A4DE-00F72249A9E0__CIHBJGJB">
                        <p class="titleinexample">示例23-3查询从XLink链接映射的文档链接</p><pre class="pre codeblock"><code>DECLARE b BOOLEAN; BEGIN b：= DBMS_XDB_REPOS.createResource（'/ public / hardlinkdir / po101.xml'，'&lt;PurchaseOrder id =“101”xmlns：xlink =“http://www.w3.org/1999/xlink”&gt; &lt;Company xlink ：type =“simple”xlink：href =“/ public / hardlinkdir / oracle.xml”&gt; Oracle Corporation &lt;/ Company&gt; &lt;Approver xlink：type =“simple”xlink：href =“/ public / hardlinkdir / quine.xml” &gt; Willard Quine &lt;/ Approver&gt; &lt;/ PurchaseOrder&gt;'）; b：= DBMS_XDB_REPOS.createResource（'/ public / hardlinkdir / po102.xml'，'&lt;PurchaseOrder id =“102”xmlns：xlink =“http://www.w3.org/1999/xlink”&gt; &lt;公司xlink： type =“simple”xlink：href =“/ public / hardlinkdir / oracle.xml”&gt; Oracle Corporation &lt;/ Company&gt; &lt;Approver xlink：type =“simple”xlink：href =“/ public / hardlinkdir / curry.xml”&gt; Haskell Curry &lt;/ Approver&gt; &lt;ReferencePO xlink：type =“simple”xlink：href =“/ public / hardlinkdir / po101.xml”/&gt; &lt;/ PurchaseOrder&gt;'）;结束; /</code></pre><pre class="pre codeblock"><code>SELECT r1。ANY_PATH源，r2。ANY_PATH目标，dl。LINK_TYPE，dl。LINK_FORM来自DOCUMENT_LINKS dl，RESOURCE_VIEW r1，RESOURCE_VIEW r2 WHERE dl。SOURCE_ID = r1。RESID和dl。TARGET_ID = r2。渣油;</code></pre><pre class="pre codeblock"><code>消息目标LINK_TYPE LINK_FORM ----------------------------- ----------------- ------------- --------- --------- /public/hardlinkdir/po101.xml /public/hardlinkdir/oracle.xml Hard XLink / public / hardlinkdir / po101.xml /public/hardlinkdir/quine.xml Hard XLink /public/hardlinkdir/po102.xml /public/hardlinkdir/oracle.xml Hard XLink /public/hardlinkdir/po102.xml / public / hardlinkdir / curry。 xml Hard XLink /public/hardlinkdir/po102.xml /public/hardlinkdir/po101.xml Hard XLink</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="use-of-XLink-and-XInclude-with-XML-DB.html#GUID-B9EAFB57-6F16-4BD0-B664-957359B4263E" title="您可以查询只读公共视图DOCUMENT_LINKS以获取有关从XLink（已弃用）和XInclude链接派生的文档链接的系统信息。对于每个链接，此视图中的信息包括以下列：">使用View DOCUMENT_LINKS检查XLink和XInclude链接</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB5348"></a><a id="ADXDB5347"></a><div class="props_rev_3"><a id="GUID-93B0AA6C-DB20-4C63-BABE-3D23949D2836" name="GUID-93B0AA6C-DB20-4C63-BABE-3D23949D2836"></a><h4 id="ADXDB-GUID-93B0AA6C-DB20-4C63-BABE-3D23949D2836" class="sect4"><span class="enumeration_section">23.6.2</span>查询DOCUMENT_LINKS以获取XInclude信息</h4>
                  <div>
                     <p>您可以查询视图<code class="codeph">DOCUMENT_LINKS</code>以显示从XInclude链接映射的文档链接。
                     </p>
                     <div class="section">
                        <p><a href="use-of-XLink-and-XInclude-with-XML-DB.html#GUID-93B0AA6C-DB20-4C63-BABE-3D23949D2836__CIHDHGAE">示例23-4</a>查询查看<code class="codeph">DOCUMENT_LINKS</code>以显示所有文档链接。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-93B0AA6C-DB20-4C63-BABE-3D23949D2836__CIHDHGAE">
                        <p class="titleinexample">示例23-4查询从XInclude链接映射的文档链接</p><pre class="pre codeblock"><code>DECLARE ret BOOLEAN; BEGIN ret：= DBMS_XDB_REPOS.createResource（'/ public / hardlinkdir / book.xml'，'&lt;Book xmlns：xi =“http://www.w3.org/2001/XInclude”&gt; &lt;xi：include href =“/ public / hardlinkdir / toc.xml“/&gt; &lt;xi：include href =”/ public / hardlinkdir / part1.xml“/&gt; &lt;xi：include href =”/ public / hardlinkdir / part2.xml“/&gt; &lt;xi：include href =“/ public / hardlinkdir / index.xml”/&gt; &lt;/ Book&gt;'）;结束; SELECT r1。ANY_PATH源，r2。ANY_PATH目标，dl。LINK_TYPE，dl。LINK_FORM来自DOCUMENT_LINKS dl，RESOURCE_VIEW r1，RESOURCE_VIEW r2 WHERE dl。SOURCE_ID = r1。RESID和dl。TARGET_ID = r2。渣油;来源目标LINK_TYPE LINK_FORM ------ ------ --------- --------- /public/hardlinkdir/book.xml /public/hardlinkdir/toc.xml Hard XInclude /public/hardlinkdir/book.xml /public/hardlinkdir/part1.xml Hard XInclude /public/hardlinkdir/book.xml /public/hardlinkdir/part2.xml Hard XInclude /public/hardlinkdir/book.xml / public / hardlinkdir /index.xml Hard XInclude</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="use-of-XLink-and-XInclude-with-XML-DB.html#GUID-B9EAFB57-6F16-4BD0-B664-957359B4263E" title="您可以查询只读公共视图DOCUMENT_LINKS以获取有关从XLink（已弃用）和XInclude链接派生的文档链接的系统信息。对于每个链接，此视图中的信息包括以下列：">使用View DOCUMENT_LINKS检查XLink和XInclude链接</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADXDB5349"></a><div class="props_rev_3"><a id="GUID-CC5F92B5-4718-4E29-B407-544C960AE5BE" name="GUID-CC5F92B5-4718-4E29-B407-544C960AE5BE"></a><h3 id="ADXDB-GUID-CC5F92B5-4718-4E29-B407-544C960AE5BE" class="sect3"><span class="enumeration_section">23.7</span>为XLink和XInclude配置存储库资源</h3>
               <div>
                  <p>将描述您用作资源以配置XLink（ <span class="italic">不建议使用</span> ）和XInclude处理其他资源的资源配置文件。
                  </p>
                  <p>您可以像配置存储库资源的任何其他处理一样为Oracle XML DB存储库资源配置XLink和XInclude处理：使用资源配置文件。有关示例，请参阅<a href="configuration-of-XML-DB-repository.html#GUID-AB3B6205-AE7B-4A12-A6B9-C3CC0C1108D3" title="配置Oracle XML DB存储库资源涉及创建配置文件，将该文件作为配置资源添加到存储库，并将配置资源映射到它配置的资源或整个存储库。">配置资源</a> 。
                  </p>
                  <p>资源配置文件是符合XML模式<code class="codeph">XDBResConfig.xsd</code>的XML文件，可在Oracle XML DB Repository的路径<code class="codeph">/sys/schemas/PUBLIC/xmlns.oracle.com/xdb/XDBResConfig.xsd</code> 。
                  </p>
                  <p>您可以使用元素<code class="codeph">XLinkConfig</code>和<code class="codeph">XIncludeConfig</code>元素（元素<code class="codeph">XLinkConfig</code>子元素） <code class="codeph">ResConfig</code>配置XLink和XInclude处理。如果缺少其中一个元素，则不对相应类型的链接进行处理。
                  </p>
                  <p><code class="codeph">XLinkConfig</code>和<code class="codeph">XIncludeConfig</code>都可以具有属性<code class="codeph">UnresolvedLink</code>和子元素<code class="codeph">LinkType</code>和<code class="codeph">PathFormat</code> 。Element <code class="codeph">XIncludeConfig</code>也可以有子元素<code class="codeph">ConflictRule</code> 。但是，如果<code class="codeph">LinkType</code>元素内容为<code class="codeph">None</code> ，则必须没有<code class="codeph">PathFormat</code>或<code class="codeph">ConflictRule</code>元素。
                  </p>
                  <p>您无法为<code class="codeph">XLinkConfig</code>或<code class="codeph">XIncludeConfig</code>定义任何前提条件。在存储库资源创建期间，父文件夹的<code class="codeph">ResConfig</code>元素确定新资源的XLink和XInclude链接的处理。如果父文件夹没有<code class="codeph">ResConfig</code>元素，则应用存储库范围的配置。
                  </p>
                  <p>对资源配置文件的任何更改仅适用于在配置文件更改后创建或更新的文档。要在现有文档中处理链接，请在指定适当的资源配置参数后使用PL / SQL过程<code class="codeph">DBMS_XDB_REPOS.processLinks</code> 。
                  </p>
                  <div class="infoboxnote" id="GUID-CC5F92B5-4718-4E29-B407-544C960AE5BE__GUID-5A3E2C6A-E101-4583-A4A7-2342A473E052">
                     <p class="notep1">注意：</p>
                     <p>从Oracle Database 12c第2版（12.2.0.1）开始， <span class="italic">不推荐</span>使用XLink和Oracle XML DB Repository。
                     </p>
                  </div>
                  <div class="section"></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="use-of-XLink-and-XInclude-with-XML-DB.html#GUID-8861A6DC-E0AF-42FE-B3BD-D7523535A061">配置未解析链接的处理：属性UnresolvedLink</a><br><code class="codeph">LinkConfig</code>元素可以具有<code class="codeph">UnresolvedLink</code>属性，其值为<code class="codeph">Error</code> （默认值）或<code class="codeph">Skip</code> 。这决定了在将文档插入存储库（资源创建）时无法解析XLink（ <span class="italic">不建议使用</span> ）或XInclude链接时会发生什么。
                     </li>
                     <li class="ulchildlink"><a href="use-of-XLink-and-XInclude-with-XML-DB.html#GUID-A92064DA-E4E5-4EDF-AD2E-1A96FBA87297">配置要创建的文档链接类型：Element LinkType</a><br>在文档存储在Oracle XML DB存储库中时，只要遇到XLink（ <span class="italic">不建议使用</span> ）或XInclude链接，就可以使用资源配置文件的<code class="codeph">LinkType</code>元素指定要创建的文档链接的类型。<code class="codeph">LinkType</code>元素具有这些可能的值（元素内容）：</li>
                     <li class="ulchildlink"><a href="use-of-XLink-and-XInclude-with-XML-DB.html#GUID-DE100A1F-B473-42D7-B328-46176E17E40D">配置检索的路径格式：Element PathFormat</a><br>使用资源配置文件的<code class="codeph">PathFormat</code>元素指定使用<code class="codeph">xlink:href</code>或<code class="codeph">xi:include:href</code>属性检索文档时要使用的路径格式。
                     </li>
                     <li class="ulchildlink"><a href="use-of-XLink-and-XInclude-with-XML-DB.html#GUID-B7FCFD1A-4E88-4917-A08A-7BFD2D93DDB7">为XInclude配置冲突解决：Element ConflictRule</a><br>如果为组件文档计算的路径已存在于Oracle XML DB存储库中，则使用资源配置文件的<code class="codeph">ConflictRule</code>元素指定要使用的冲突解决规则。<code class="codeph">ConflictRule</code>元素具有这些可能的值（元素内容）：</li>
                     <li class="ulchildlink"><a href="use-of-XLink-and-XInclude-with-XML-DB.html#GUID-89A69D24-7561-455A-ABBE-EAE814C94F65">使用XInclude：Element SectionConfig配置文档的分解</a><br>您可以使用资源配置文件的元素<code class="codeph">SectionConfig</code>来指定在将非基于模式的XML文档添加到Oracle XML DB存储库时如何分解这些XML文档，以创建包含XInclude包含引用的一组资源。
                     </li>
                     <li class="ulchildlink"><a href="use-of-XLink-and-XInclude-with-XML-DB.html#GUID-BF27F901-7D62-4D87-AE29-90241E25A062">XLink和XInclude配置示例</a><br>示例显示XLink（ <span class="italic">不建议使用</span> ）和XInclude如何与Oracle XML DB存储库资源和链接相关联。
                     </li>
                  </ul>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="use-of-XLink-and-XInclude-with-XML-DB.html#GUID-67A0D8D0-7A95-443E-B108-D403AB882F10" title="您可以使用PL / SQL过程DBMS_XDB_REPOS.processLinks手动处理单个文档或文件夹的所有文档中的所有XLink（不建议使用）和XInclude链接。">使用DBMS_XDB_REPOS.processLinks管理XLink和XInclude链接</a></li>
                        <li><a href="configuration-of-XML-DB-repository.html#GUID-E44B59D4-7A7E-4303-ACE3-B801797B06AF" title="Oracle XML DB Repository的整体配置适用于所有存储库资源。它不包括配置用于处理事件或管理XLink和XInclude处理的参数。您使用资源配置文件来配置资源。">配置Oracle XML DB存储库</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="use-of-XLink-and-XInclude-with-XML-DB.html#GUID-5731BA64-7DEB-44A2-925E-D07014372B66" title="您可以将XLink和XInclude与Oracle XML DB Repository中的资源一起使用。但是不推荐使用XLink。">将XLink和XInclude与Oracle XML DB一起使用</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADXDB5350"></a><div class="props_rev_3"><a id="GUID-8861A6DC-E0AF-42FE-B3BD-D7523535A061" name="GUID-8861A6DC-E0AF-42FE-B3BD-D7523535A061"></a><h4 id="ADXDB-GUID-8861A6DC-E0AF-42FE-B3BD-D7523535A061" class="sect4"><span class="enumeration_section">23.7.1</span>配置未解析链接的处理：属性UnresolvedLink</h4>
                  <div>
                     <p><code class="codeph">LinkConfig</code>元素可以具有<code class="codeph">UnresolvedLink</code>属性，其值为<code class="codeph">Error</code> （默认值）或<code class="codeph">Skip</code> 。这决定了在将文档插入存储库（资源创建）时无法解析XLink（ <span class="italic">不建议使用</span> ）或XInclude链接时会发生什么。
                     </p>
                     <p><code class="codeph">Error</code>表示引发错误并回滚当前操作。<code class="codeph">Skip</code>意味着跳过对XLink或XInclude链接的任何处理。跳过处理创建没有相应文档链接的资源，并将资源的<code class="codeph">HasUnresolvedLinks</code>属性设置为<code class="codeph">true</code> ，以指示资源具有未解析的链接。
                     </p>
                     <p>使用<code class="codeph">Skip</code>作为属性值<code class="codeph">UnresolvedLink</code>在创建包含弱链接循环的资源时尤其有用，否则会在资源创建期间导致未解决的链接错误。在创建资源及其所有链接资源之后，您可以使用PL / SQL过程<code class="codeph">DBMS_XDB_REPOS.processLinks</code>来处理跳过的链接。如果此过程已解析所有XLink和XInclude链接，则属性<code class="codeph">HasUnresolvedLinks</code>将设置为<code class="codeph">false</code> 。
                     </p>
                     <p>对于与已删除资源的链接较弱的资源，资源属性<code class="codeph">HasUnresolvedLinks</code>也设置为<code class="codeph">true</code> 。因此，有效地删除资源也会删除指向该资源的任何弱链接。特别是，每当删除资源的最后一个硬链接时，资源本身就会被删除，并且指向具有弱链接的已删除资源的所有资源都将属性<code class="codeph">HasUnresolvedLinks</code>设置为<code class="codeph">true</code> 。
                     </p>
                     <div class="infoboxnote" id="GUID-8861A6DC-E0AF-42FE-B3BD-D7523535A061__GUID-5097CFC5-49ED-4FF8-9348-4DF58580EC67">
                        <p class="notep1">注意：</p>
                        <p>从Oracle Database 12c第2版（12.2.0.1）开始， <span class="italic">不推荐</span>使用XLink和Oracle XML DB Repository。
                        </p>
                     </div>
                     <div class="section"></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="accessing-XML-DB-repository-data.html#GUID-72981E53-0B60-4096-80E0-06A139086DED" title="目标存储库资源的链接可能很难或很弱。硬链接和弱链接对于它们所针对的资源具有不同的依赖关系。硬链接无法定位祖先文件夹;薄弱环节可以。您可以查询存储库路径视图PATH_VIEW，以确定存储库链接的类型。">硬链接和弱链接</a></li>
                           <li><a href="use-of-XLink-and-XInclude-with-XML-DB.html#GUID-67A0D8D0-7A95-443E-B108-D403AB882F10" title="您可以使用PL / SQL过程DBMS_XDB_REPOS.processLinks手动处理单个文档或文件夹的所有文档中的所有XLink（不建议使用）和XInclude链接。">使用DBMS_XDB_REPOS.processLinks管理XLink和XInclude链接</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="use-of-XLink-and-XInclude-with-XML-DB.html#GUID-CC5F92B5-4718-4E29-B407-544C960AE5BE" title="将描述您用作资源以配置XLink（不建议使用）和XInclude处理其他资源的资源配置文件。">为XLink和XInclude配置存储库资源</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB5351"></a><div class="props_rev_3"><a id="GUID-A92064DA-E4E5-4EDF-AD2E-1A96FBA87297" name="GUID-A92064DA-E4E5-4EDF-AD2E-1A96FBA87297"></a><h4 id="ADXDB-GUID-A92064DA-E4E5-4EDF-AD2E-1A96FBA87297" class="sect4"><span class="enumeration_section">23.7.2</span>配置要创建的文档链接类型：Element LinkType</h4>
                  <div>
                     <p>在文档存储在Oracle XML DB存储库中时，只要遇到XLink（ <span class="italic">不建议使用</span> ）或XInclude链接，就可以使用资源配置文件的<code class="codeph">LinkType</code>元素指定要创建的文档链接的类型。<code class="codeph">LinkType</code>元素具有这些可能的值（元素内容）：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">None</code> （默认） - 忽略XLink或XInclude链接：不创建相应的文档链接。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">Hard</code> - 映射XLink或XInclude链接到存储库文档中的硬文档链接。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">Weak</code> - 将XLink或XInclude链接映射到存储库文档中的弱文档链接。
                           </p>
                        </li>
                     </ul>
                     <div class="infoboxnote" id="GUID-A92064DA-E4E5-4EDF-AD2E-1A96FBA87297__GUID-829607FC-D0B7-4064-A980-2E746862F45F">
                        <p class="notep1">注意：</p>
                        <p>从Oracle Database 12c第2版（12.2.0.1）开始， <span class="italic">不推荐</span>使用XLink和Oracle XML DB Repository。
                        </p>
                     </div>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-A92064DA-E4E5-4EDF-AD2E-1A96FBA87297__GUID-08110A96-1E47-428F-A709-7056B230C19F">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="use-of-XLink-and-XInclude-with-XML-DB.html#GUID-BF27F901-7D62-4D87-AE29-90241E25A062__CIHGBEAB">例23-5</a></p>
                           </li>
                           <li>
                              <p><a href="use-of-XLink-and-XInclude-with-XML-DB.html#GUID-BF27F901-7D62-4D87-AE29-90241E25A062__CIHIAGIB">例23-6</a></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="use-of-XLink-and-XInclude-with-XML-DB.html#GUID-CC5F92B5-4718-4E29-B407-544C960AE5BE" title="将描述您用作资源以配置XLink（不建议使用）和XInclude处理其他资源的资源配置文件。">为XLink和XInclude配置存储库资源</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB5352"></a><div class="props_rev_3"><a id="GUID-DE100A1F-B473-42D7-B328-46176E17E40D" name="GUID-DE100A1F-B473-42D7-B328-46176E17E40D"></a><h4 id="ADXDB-GUID-DE100A1F-B473-42D7-B328-46176E17E40D" class="sect4"><span class="enumeration_section">23.7.3</span>配置检索的路径格式：Element PathFormat</h4>
                  <div>
                     <p>使用资源配置文件的<code class="codeph">PathFormat</code>元素指定使用<code class="codeph">xlink:href</code>或<code class="codeph">xi:include:href</code>属性检索文档时要使用的路径格式。
                     </p>
                     <p><code class="codeph">PathFormat</code>元素具有硬和弱文档链接的这些可能值（元素内容）：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">OID</code> （默认） - 将XLink或XInclude <code class="codeph">href</code>路径映射到存储库文档中基于OID的路径 - 即直接使用OID。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">Named</code> - 将XLink或XInclude <code class="codeph">href</code>路径映射到存储库文档中的命名路径（URL）。检索文档时，路径是根据内部OID计算的，因此检索速度可能比直接使用OID路径时慢。
                           </p>
                        </li>
                     </ul>
                     <div class="infoboxnote" id="GUID-DE100A1F-B473-42D7-B328-46176E17E40D__GUID-10FEAC59-F74E-4D25-84BC-F75C33FCB5BB">
                        <p class="notep1">注意：</p>
                        <p>从Oracle Database 12c第2版（12.2.0.1）开始， <span class="italic">不推荐</span>使用XLink和Oracle XML DB Repository。
                        </p>
                     </div>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-DE100A1F-B473-42D7-B328-46176E17E40D__GUID-EAF546CA-6FEE-4616-80A0-D22A8F7CFF82">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="use-of-XLink-and-XInclude-with-XML-DB.html#GUID-BF27F901-7D62-4D87-AE29-90241E25A062__CIHGBEAB">例23-5</a></p>
                           </li>
                           <li>
                              <p><a href="use-of-XLink-and-XInclude-with-XML-DB.html#GUID-BF27F901-7D62-4D87-AE29-90241E25A062__CIHIAGIB">例23-6</a></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="use-of-XLink-and-XInclude-with-XML-DB.html#GUID-CC5F92B5-4718-4E29-B407-544C960AE5BE" title="将描述您用作资源以配置XLink（不建议使用）和XInclude处理其他资源的资源配置文件。">为XLink和XInclude配置存储库资源</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB5354"></a><div class="props_rev_3"><a id="GUID-B7FCFD1A-4E88-4917-A08A-7BFD2D93DDB7" name="GUID-B7FCFD1A-4E88-4917-A08A-7BFD2D93DDB7"></a><h4 id="ADXDB-GUID-B7FCFD1A-4E88-4917-A08A-7BFD2D93DDB7" class="sect4"><span class="enumeration_section">23.7.4</span>为XInclude配置冲突解决：Element ConflictRule</h4>
                  <div>
                     <p>如果为组件文档计算的路径已存在于Oracle XML DB存储库中，则使用资源配置文件的<code class="codeph">ConflictRule</code>元素指定要使用的冲突解决规则。<code class="codeph">ConflictRule</code>元素具有这些可能的值（元素内容）：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">Error</code> （默认） - 引发错误。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">Overwrite</code> - 更新现有存储库路径所针对的文档，将其替换为要包含的文档。如果现有文档是版本控制的资源，则必须已将其签出，除非它已自动转发。否则，会引发错误。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">Syspath</code> - 将包含文档的路径更改为新的系统定义路径。
                           </p>
                        </li>
                     </ul>
                     <div class="section"></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="resource-versions.html#GUID-02D41CF0-A074-4B25-89E3-EE815E3CB5DA" title="可以对Oracle XML DB资源库资源进行版本控制。保留对受版本控制的资源的所有更改的记录。">资源版本</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="use-of-XLink-and-XInclude-with-XML-DB.html#GUID-CC5F92B5-4718-4E29-B407-544C960AE5BE" title="将描述您用作资源以配置XLink（不建议使用）和XInclude处理其他资源的资源配置文件。">为XLink和XInclude配置存储库资源</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB5355"></a><div class="props_rev_3"><a id="GUID-89A69D24-7561-455A-ABBE-EAE814C94F65" name="GUID-89A69D24-7561-455A-ABBE-EAE814C94F65"></a><h4 id="ADXDB-GUID-89A69D24-7561-455A-ABBE-EAE814C94F65" class="sect4"><span class="enumeration_section">23.7.5</span>使用XInclude：Element SectionConfig配置文档的分解</h4>
                  <div>
                     <p>您可以使用资源配置文件的元素<code class="codeph">SectionConfig</code>来指定在将非基于模式的XML文档添加到Oracle XML DB存储库时如何分解这些XML文档，以创建包含XInclude包含引用的一组资源。
                     </p>
                     <p>您可以在资源配置文件中使用简单的XPath表达式来标识要映射到单独资源的文档的哪些部分，以及将它们映射到的资源。</p>
                     <p>Element <code class="codeph">SectionConfig</code>包含一个或多个<code class="codeph">Section</code>元素，每个元素包含以下子元素：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">sectionPath</code> - 标识节根的简单XPath 1.0表达式。这必须只使用子轴和后代轴，并且不能使用通配符。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">documentPath</code> （可选） - 简单XPath 1.0表达式，其被评估以根据<code class="codeph">sectionPath</code>标识从分解文档创建的资源。XPath表达式必须仅使用子轴，子轴和属性轴。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">namespace</code> （可选） - 对<code class="codeph">sectionPath</code>和<code class="codeph">documentPath</code>有效的命名空间。
                           </p>
                        </li>
                     </ul>
                     <p>元素<code class="codeph">Section</code>还有一个<code class="codeph">type</code>属性，指定要创建的部分的类型。值<code class="codeph">Document</code>意味着创建文档。默认值<code class="codeph">None</code>表示不创建任何内容。使用<code class="codeph">None</code>等同于删除<code class="codeph">SectionConfig</code>元素。因此，您可以将<code class="codeph">type</code>属性设置为<code class="codeph">None</code>以暂时禁用<code class="codeph">SectionConfig</code>元素，而不删除它，然后将其设置回<code class="codeph">Document</code>以再次启用它。
                     </p>
                     <p>如果要添加到存储库的文档中的元素与多个<code class="codeph">sectionPath</code>值匹配，则仅使用第一个此类表达式（按文档顺序）。
                     </p>
                     <p>如果不存在<code class="codeph">documentPath</code>元素，则创建的资源具有系统定义的名称，并放入为原始文档指定的文件夹中。
                     </p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-89A69D24-7561-455A-ABBE-EAE814C94F65__GUID-DE11D06E-6DF4-4F6F-B2A9-BB39B2B59105">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="use-of-XLink-and-XInclude-with-XML-DB.html#GUID-BF27F901-7D62-4D87-AE29-90241E25A062__CIHFEBIG">例23-7</a></p>
                           </li>
                           <li>
                              <p><a href="use-of-XLink-and-XInclude-with-XML-DB.html#GUID-BF27F901-7D62-4D87-AE29-90241E25A062__CIHJIACF">例23-8</a></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="use-of-XLink-and-XInclude-with-XML-DB.html#GUID-CC5F92B5-4718-4E29-B407-544C960AE5BE" title="将描述您用作资源以配置XLink（不建议使用）和XInclude处理其他资源的资源配置文件。">为XLink和XInclude配置存储库资源</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB5357"></a><a id="ADXDB5358"></a><a id="ADXDB5359"></a><a id="ADXDB5360"></a><a id="ADXDB5356"></a><div class="props_rev_3"><a id="GUID-BF27F901-7D62-4D87-AE29-90241E25A062" name="GUID-BF27F901-7D62-4D87-AE29-90241E25A062"></a><h4 id="ADXDB-GUID-BF27F901-7D62-4D87-AE29-90241E25A062" class="sect4"><span class="enumeration_section">23.7.6</span> XLink和XInclude配置示例</h4>
                  <div>
                     <p>示例显示XLink（ <span class="italic">不建议使用</span> ）和XInclude如何与Oracle XML DB存储库资源和链接相关联。
                     </p>
                     <div class="section">
                        <p><a href="use-of-XLink-and-XInclude-with-XML-DB.html#GUID-BF27F901-7D62-4D87-AE29-90241E25A062__CIHGBEAB">示例23-5</a>显示了配置文件部分，该部分配置XInclude处理，将XInclude属性映射到Oracle XML DB存储库硬文档链接。检索到的资源中的存储库路径配置为基于资源OID。
                        </p>
                        <p><a href="use-of-XLink-and-XInclude-with-XML-DB.html#GUID-BF27F901-7D62-4D87-AE29-90241E25A062__CIHIAGIB">例23-6</a>显示了一个<code class="codeph">XLinkConfig</code>部分，它将XLink链接映射到存储库中的弱文档链接。在这种情况下，文档的检索使用命名路径（URL）。
                        </p>
                        <p><a href="use-of-XLink-and-XInclude-with-XML-DB.html#GUID-BF27F901-7D62-4D87-AE29-90241E25A062__CIHFEBIG">示例23-7</a>显示了一个<code class="codeph">SectionConfig</code>部分，该部分指定当输入文档添加到Oracle XML DB Repository时，输入文档中的每个<code class="codeph">Chapter</code>元素将成为单独的存储库文件。使用配置元素<code class="codeph">documentPath</code>指定结果文件的存储库路径，该路径相对于<a href="use-of-XLink-and-XInclude-with-XML-DB.html#GUID-BF27F901-7D62-4D87-AE29-90241E25A062__CIHIAGIB">示例23-6</a>的资源配置文件的位置。
                        </p>
                        <p>这里的XPath表达式使用XPath函数<code class="codeph">concat</code>来连接以下字符串以生成要使用的结果存储库路径：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">chap</code> - （前缀） <code class="codeph">chap</code> 。
                              </p>
                           </li>
                           <li>
                              <p>输入文档中元素<code class="codeph">Chapter</code>的属性<code class="codeph">id</code>的值。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">.xml</code>作为文件扩展名。
                              </p>
                           </li>
                        </ul>
                        <p>例如， <code class="codeph">chap27.xml</code>的存储库路径将来自输入文档，其中<code class="codeph">Chapter</code>元素具有值为<code class="codeph">27</code>的<code class="codeph">id</code>属性：</p><pre class="pre codeblock"><code>&lt;Chapter id =“27”&gt; ...... &lt;/ Chapter&gt;</code></pre><p>如果<a href="use-of-XLink-and-XInclude-with-XML-DB.html#GUID-BF27F901-7D62-4D87-AE29-90241E25A062__CIHIAGIB">示例23-6</a>的配置文档和包含<code class="codeph">XInclude</code>元素的书籍文档位于存储库文件夹<code class="codeph">/public/bookdir</code> ，则从<code class="codeph">XInclude</code>分解生成的各个章节文件位于files <code class="codeph">/public/bookdir/chap</code> <span class="italic"><code class="codeph">N</code></span> <code class="codeph">.xml</code> ，其中<span class="italic"><code class="codeph">N</code></span>的值是<code class="codeph">Chapter</code>元素的<code class="codeph">id</code>属性的值。
                        </p>
                        <p>添加到存储库的书籍文档源自输入书籍文档。输入书籍文档中的嵌入式<code class="codeph">Chapter</code>元素由<code class="codeph">xi:include</code>元素替换， <code class="codeph">xi:include</code>元素引用生成的章节文档 - <a href="use-of-XLink-and-XInclude-with-XML-DB.html#GUID-BF27F901-7D62-4D87-AE29-90241E25A062__CIHJIACF">例23-8</a>说明了这一点。
                        </p>
                        <div class="infoboxnote" id="GUID-BF27F901-7D62-4D87-AE29-90241E25A062__GUID-B4DF9F0F-2696-4C39-B460-B7ACC7BEEF42">
                           <p class="notep1">注意：</p>
                           <p>从Oracle Database 12c第2版（12.2.0.1）开始， <span class="italic">不推荐</span>使用XLink和Oracle XML DB Repository。
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section"></div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-BF27F901-7D62-4D87-AE29-90241E25A062__CIHGBEAB">
                        <p class="titleinexample">示例23-5使用OID检索将XInclude链接映射到硬文档链接</p><pre class="pre codeblock"><code>&lt;ResConfig&gt;。 。 。&lt;XIncludeConfig UnresolvedLink =“Skip”&gt; &lt;LinkType&gt; <span class="bold">Hard</span> &lt;/ LinkType&gt; &lt;PathFormat&gt; <span class="bold">OID</span> &lt;/ PathFormat&gt; &lt;/ XIncludeConfig&gt;。 。 。&lt;/ ResConfig&gt;</code></pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-BF27F901-7D62-4D87-AE29-90241E25A062__CIHIAGIB">
                        <p class="titleinexample">示例23-6使用命名路径检索将XLInk链接映射到弱链接</p><pre class="pre codeblock"><code>&lt;ResConfig&gt;。 。 。&lt;XLinkConfig UnresolvedLink =“Skip”&gt; &lt;LinkType&gt; <span class="bold">弱</span> &lt;/ LinkType&gt; &lt;PathFormat&gt; <span class="bold">命名</span> &lt;/ PathFormat&gt; &lt;/ XLinkConfig&gt;。 。 。&lt;/ ResConfig&gt;</code></pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-BF27F901-7D62-4D87-AE29-90241E25A062__CIHFEBIG">
                        <p class="titleinexample">示例23-7配置XInclude文档分解</p><pre class="pre codeblock"><code>&lt;ResConfig&gt;。 。 。&lt;SectionConfig&gt; &lt;Section type =“Document”&gt; &lt;sectionPath&gt; // Chapter &lt;/ sectionPath&gt; &lt;documentPath&gt; concat（“chap”，@ id，“。xml”）&lt;/ documentPath&gt; &lt;/ Section&gt; &lt;/ SectionConfig&gt; 。 。 。&lt;/ ResConfig&gt;</code></pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-BF27F901-7D62-4D87-AE29-90241E25A062__CIHJIACF">
                        <p class="titleinexample">示例23-8存储库文档，显示生成的xi：包含元素</p><pre class="pre codeblock"><code>SELECT XDBURIType（'/ public / bookdir / bookfile.xml'）。getclob（）FROM DUAL; XDBURITYPE（ '/ PUBLIC / BOOKDIR / BOOKFILE.XML'）。GETCLOB（）----------------------------------------------- --------------------------------- &lt;Book&gt; &lt;Title&gt;一本书&lt;/ Title&gt; &lt;xi：include xmlns ：xi =“http://www.w3.org/2001/XInclude”href =“/ public / bookdir / chap1.xml”/&gt; &lt;xi：include xmlns：xi =“http://www.w3.org / 2001 / X包括“href =”/ public / bookdir / chap2.xml“/&gt; &lt;/ Book&gt;</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="configuration-of-XML-DB-repository.html#GUID-E44B59D4-7A7E-4303-ACE3-B801797B06AF" title="Oracle XML DB Repository的整体配置适用于所有存储库资源。它不包括配置用于处理事件或管理XLink和XInclude处理的参数。您使用资源配置文件来配置资源。">配置Oracle XML DB存储库</a></li>
                           <li><a href="oracle-supplied-XML-schemas-and-examples.html#GUID-B33E058B-0660-4879-A6A2-64B45423BA1C" title="提供了Oracle XML DB提供的用于配置存储库资源的XML模式的完整列表。可以在Oracle XML DB Repository的路径/sys/schemas/PUBLIC/xmlns.oracle.com/xdb/XDBResConfig.xsd中访问它。">XDBResConfig.xsd：资源配置的XML模式</a></li>
                           <li><a href="use-of-XLink-and-XInclude-with-XML-DB.html#GUID-89A69D24-7561-455A-ABBE-EAE814C94F65" title="您可以使用资源配置文件的元素SectionConfig来指定在将非基于模式的XML文档添加到Oracle XML DB存储库时如何分解这些XML文档，以创建包含XInclude包含引用的一组资源。">使用XInclude：Element SectionConfig配置文档的分解</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="use-of-XLink-and-XInclude-with-XML-DB.html#GUID-CC5F92B5-4718-4E29-B407-544C960AE5BE" title="将描述您用作资源以配置XLink（不建议使用）和XInclude处理其他资源的资源配置文件。">为XLink和XInclude配置存储库资源</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADXDB5361"></a><div class="props_rev_3"><a id="GUID-67A0D8D0-7A95-443E-B108-D403AB882F10" name="GUID-67A0D8D0-7A95-443E-B108-D403AB882F10"></a><h3 id="ADXDB-GUID-67A0D8D0-7A95-443E-B108-D403AB882F10" class="sect3"><span class="enumeration_section">23.8</span>使用DBMS_XDB_REPOS.processLinks管理XLink和XInclude链接</h3>
               <div>
                  <p>您可以使用PL / SQL过程<code class="codeph">DBMS_XDB_REPOS.processLinks</code>手动处理单个文档或文件夹的所有文档中的所有XLink（ <span class="italic">不建议使用</span> ）和XInclude链接。
                  </p>
                  <p>如果要以递归方式处理所有硬链接子文件夹，请将<code class="codeph">RECURSIVE</code>作为此过程的mode参数传递。根据相应的配置参数处理所有XLink和XInclude链接。如果无法解析资源中的任何链接，则资源的<code class="codeph">HasUnresolvedLinks</code>属性设置为<code class="codeph">true</code> ，以指示资源具有未解析的链接。属性<code class="codeph">HasUnresolvedLinks</code>的默认值为<code class="codeph">false</code> 。
                  </p>
                  <div class="section"></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="use-of-XLink-and-XInclude-with-XML-DB.html#GUID-8861A6DC-E0AF-42FE-B3BD-D7523535A061" title="LinkConfig元素可以具有UnresolvedLink属性，其值为Error（默认值）或Skip。这决定了在将文档插入存储库（资源创建）时无法解析XLink（不建议使用）或XInclude链接时会发生什么。">配置未解析链接的处理：属性UnresolvedLink</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="use-of-XLink-and-XInclude-with-XML-DB.html#GUID-5731BA64-7DEB-44A2-925E-D07014372B66" title="您可以将XLink和XInclude与Oracle XML DB Repository中的资源一起使用。但是不推荐使用XLink。">将XLink和XInclude与Oracle XML DB一起使用</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html>