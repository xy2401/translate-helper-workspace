<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>管理实用程序示例</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="User&#39;s Guide "></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="User&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-gateway-appc-users-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-04-16T18:35:49-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2002, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="F18239-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="tip-internals-oracle-database-gateway-appc.html" title="Previous" type="text/html"></link>
      <link rel="next" href="book-index.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Gateway for APPC User&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="APPUG"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="tip-internals-oracle-database-gateway-appc.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="book-index.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">用户指导</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">管理实用程序示例</li>
            </ol>
            <a id="GUID-AA9B8762-BDAF-4EED-A8B0-09F8A937F04E" name="GUID-AA9B8762-BDAF-4EED-A8B0-09F8A937F04E"></a><a id="APPUG150"></a>
            
            <h2 id="APPUG-GUID-AA9B8762-BDAF-4EED-A8B0-09F8A937F04E" class="sect2"><span class="enumeration_appendix">F</span>管理实用程序示例</h2>
         </header>
         <div class="ind">
            <div>
               <p>使用以下示例输入语句和过程网关管理实用程序的报告输出来指导您设计自己的PGAU语句。<a id="d53193e30" class="indexterm-anchor"></a></p>
               <p>样本PGAU声明：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="admin-utility-samples-oracle-database-gateway-appc.html#GUID-F0ACAA50-16F8-4C5C-83FE-C0D280981772">样本PGAU DEFINE DATA语句</a></p>
                  </li>
                  <li>
                     <p><a href="admin-utility-samples-oracle-database-gateway-appc.html#GUID-336981E2-C7F9-47C1-8B18-330187556305">样本PGAU DEFINE CALL语句</a></p>
                  </li>
                  <li>
                     <p><a href="admin-utility-samples-oracle-database-gateway-appc.html#GUID-C8F9DE40-9DE6-4F49-A765-BFFDEC3065F9">样本PGAU DEFINE TRANSACTION声明</a></p>
                  </li>
                  <li>
                     <p><a href="admin-utility-samples-oracle-database-gateway-appc.html#GUID-75207651-22BF-4217-92DF-BD011A36EAFD">样本PGAU GENERATE语句</a></p>
                  </li>
                  <li>
                     <p><a href="admin-utility-samples-oracle-database-gateway-appc.html#GUID-8EB40440-35A8-4194-BF66-BC9699C0097E">示例隐式版本控制定义</a></p>
                  </li>
                  <li>
                     <p><a href="admin-utility-samples-oracle-database-gateway-appc.html#GUID-0F47ACBD-1DA1-47FA-9DA8-E99009371612">样本PGAU重新定义数据语句</a></p>
                  </li>
                  <li>
                     <p><a href="admin-utility-samples-oracle-database-gateway-appc.html#GUID-F7D4B8F8-B8BF-446C-A6BF-2EACEEDEAD80">样本PGAU UNDEFINE声明</a></p>
                  </li>
               </ul>
            </div><a id="APPUG1128"></a><div class="props_rev_3"><a id="GUID-F0ACAA50-16F8-4C5C-83FE-C0D280981772" name="GUID-F0ACAA50-16F8-4C5C-83FE-C0D280981772"></a><h3 id="APPUG-GUID-F0ACAA50-16F8-4C5C-83FE-C0D280981772" class="sect3">样本PGAU DEFINE DATA语句</h3>
               <div>
                  <div class="section"><pre class="oac_no_warn" dir="ltr">DEFINE DATA EMPNO PLSDNAME（EMPNO）使用（通过）语言（IBMVSCOBOLII）（01 EMP-NO PIC X（6）。）; DEFINE DATA EMPREC PLSDNAME（DCLEMP）使用（通过）语言（IBMVSCOBOLII）INFILE（“emp.cob”）;</pre><p>文件<code class="codeph">emp.cob</code>包含以下内容：</p><pre class="oac_no_warn" dir="ltr">01 DCLEMP。 10 EMPNO PIC X（6）。10 FIRSTNME。49 FIRSTNME-LEN PIC S9（4）使用COMP。 49 FIRSTNME-TEXT PIC X（12）。10 MIDINIT PIC X（1）。10 LASTNAME。 49 LASTNAME-LEN PIC S9（4）使用COMP。 49 LASTNAME-TEXT PIC X（15）。10 WORKDEPT PIC X（3）。10 PHONENO PIC X（4）。10 HIREDATE PIC X（10）。10 JOB PIC X（8）。10 EDLEVEL PIC S9（4）使用COMP。 10 SEX PIC X（1）10 BIRTHDATE PIC X（10）。10 SALARY PIC S9999999V99使用COMP-3。10 BONUS PIC S9999999V99使用COMP-3。10 COMM PIC S9999999V99使用COMP-3。DEFINE DATA DB2INFO PLSDNAME（DB2）USAGE（PASS）LANGUAGE（IBMVSCOBOLII）INFILE（“db2.cob”）;</pre><p><code class="codeph">db2.cob</code>文件包含以下内容：</p><pre class="oac_no_warn" dir="ltr">01 DB2。05 SQLCODE PIC S9（9）COMP-4。05 SQLERRM。 49 SQLERRML PIC S9（4）COMP-4。49 SQLERRT PIC X（70）。05 DSNERRM。 49 DSNERRML PIC S9（4）COMP-4。49 DSNERRMT PIC X（240）发生8次ERROR-INDEX指数</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="APPUG1129"></a><div class="props_rev_3"><a id="GUID-336981E2-C7F9-47C1-8B18-330187556305" name="GUID-336981E2-C7F9-47C1-8B18-330187556305"></a><h3 id="APPUG-GUID-336981E2-C7F9-47C1-8B18-330187556305" class="sect3">样本PGAU DEFINE CALL语句</h3>
               <div>
                  <div class="section"><pre class="oac_no_warn" dir="ltr">DEFINE CALL DB2IMAIN PKGCALL（PGADB2I_MAIN）PARMS（（EMPNO IN），（EMPREC OUT））; DEFINE CALL DB2IDIAG PKGCALL（PGADB2I_DIAG）PARMS（（DB2INFO OUT））;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="APPUG1130"></a><div class="props_rev_3"><a id="GUID-C8F9DE40-9DE6-4F49-A765-BFFDEC3065F9" name="GUID-C8F9DE40-9DE6-4F49-A765-BFFDEC3065F9"></a><h3 id="APPUG-GUID-C8F9DE40-9DE6-4F49-A765-BFFDEC3065F9" class="sect3">样本PGAU DEFINE TRANSACTION声明</h3>
               <div>
                  <div class="section"><pre class="oac_no_warn" dir="ltr">DEFINE TRANSACTION DB2I CALL（DB2IMAIN，DB2IDIAG）SIDEPROFILE（CICSPROD）TPNAME（DB2I）LOGMODE（ORAPLU62）SYNCLEVEL（0）NLS_LANGUAGE（“AMERICAN_AMERICA.WE8EBCDIC37C”）;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="APPUG1413"></a><a id="APPUG1131"></a><div class="props_rev_3"><a id="GUID-75207651-22BF-4217-92DF-BD011A36EAFD" name="GUID-75207651-22BF-4217-92DF-BD011A36EAFD"></a><h3 id="APPUG-GUID-75207651-22BF-4217-92DF-BD011A36EAFD" class="sect3">样本PGAU GENERATE语句</h3>
               <div>
                  <div class="section"><pre class="oac_no_warn" dir="ltr">生成DB2I PKGNAME（PGADB2I）OUTFILE（“pgadb2i”）;</pre><p>用户的高级应用程序现在通过引用这些提示来使用此提示<a id="d53193e278" class="indexterm-anchor"></a>传递并返回PL / SQL数据类型。
                     </p>
                     <p><a href="admin-utility-samples-oracle-database-gateway-appc.html#GUID-75207651-22BF-4217-92DF-BD011A36EAFD__G640641" title="此2列表描述了包名PGADB2I中的TIP用户事务数据类型。">表F-1</a>提供了包名<code class="codeph">PGADB2I</code> TIP用户事务数据类型的<code class="codeph">PGADB2I</code> ：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-75207651-22BF-4217-92DF-BD011A36EAFD__G640641">
                     <p class="titleintable">表F-1包名PGADB2I中使用的TIP用户事务数据类型</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="提示包名PGADB2I中使用的用户事务数据类型" width="100%" border="1" summary="This 2 column table describes the TIP user transaction datatypes in package name PGADB2I." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="31%" id="d53193e302">数据类型</th>
                              <th align="left" valign="bottom" width="69%" id="d53193e305">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d53193e310" headers="d53193e302 ">
                                 <p><code class="codeph">PGADB2I.EMPNO</code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d53193e310 d53193e305 ">
                                 <p>是与COBOL <code class="codeph">EMPNO</code>对应的PL / SQL变量。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d53193e322" headers="d53193e302 ">
                                 <p><code class="codeph">PGADB2I.DCLEMP</code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d53193e322 d53193e305 ">
                                 <p>这是与COBOL <code class="codeph">DCLEMP</code>对应的PL / SQL <code class="codeph">RECORD</code> 。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d53193e337" headers="d53193e302 ">
                                 <p><code class="codeph">PGADB2I.DB2</code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d53193e337 d53193e305 ">
                                 <p>这是与COBOL <code class="codeph">DB2INFO</code>对应的PL / SQL <code class="codeph">RECORD</code> 。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>和应用程序调用：</p><pre class="oac_no_warn" dir="ltr">PGADB2I.PGADB2I_INIT（trannum）; PGADB2I.PGADB2I_MAIN（trannum，empno，emprec）; PGADB2I.PGADB2I_DIAG（trannum，db2）; PGADB2I.PGADB2I_TERM（trannum，termtype）;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="APPUG1414"></a><a id="APPUG1132"></a><div class="props_rev_3"><a id="GUID-8EB40440-35A8-4194-BF66-BC9699C0097E" name="GUID-8EB40440-35A8-4194-BF66-BC9699C0097E"></a><h3 id="APPUG-GUID-8EB40440-35A8-4194-BF66-BC9699C0097E" class="sect3">示例隐式版本控制定义</h3>
               <div>
                  <div class="section">
                     <p>这些示例是具有隐式版本控制的<code class="codeph">DATA</code> ， <code class="codeph">CALL</code>和<code class="codeph">TRANSACTION</code>条目的示例定义。
                     </p>
                     <p>此示例创建“ <code class="codeph">EMPREC</code> ”的新<code class="codeph">DATA</code>版本，因为先前已定义了“ <code class="codeph">EMPREC</code> ” <code class="codeph">DATA</code> ：</p><pre class="oac_no_warn" dir="ltr">DEFINE DATA EMPREC PLSDNAME（NEWEMP）使用（通过）语言（IBMVSCOBOLII）INFILE（“emp2.cob”）;</pre><p>文件<code class="codeph">emp2.cob</code>包含以下内容：</p><pre class="oac_no_warn" dir="ltr">01 NEWEMP。 10 EMPNO PIC X（6）。10 FIRSTNME。 49 FIRSTNME-LEN PIC S9（4）使用COMP。 49 FIRSTNME-TEXT PIC X（12）。10 MIDINIT PIC X（1）。10 LASTNAME。 49 LASTNAME-LEN PIC S9（4）使用COMP。 49 LASTNAME-TEXT PIC X（15）。10 WORKDEPT PIC X（3）。10 PHONENO PIC X（3）。10 HIREDATE PIC X（10）。10 JOB PIC X（8）。10 EDLEVEL PIC S9（4）使用COMP。 10 SEX PIC X（1）。10 BIRTHDATE PIC X（10）。10 SALARY PIC S9999999V99使用COMP-3。10 BONUS PIC S9999999V99使用COMP-3。10 COMM PIC S9999999V99使用COMP-3。10年前。 15 SAL PIC S9（9）V99使用COMP-3。15 BON PIC S9（9）V99使用COMP-3。15 COM PIC S9（9）V99使用COMP-3。
</pre><p>要确定分配了哪个<code class="codeph">DATA</code>版本号，可以发出以下SQL查询：</p><pre class="oac_no_warn" dir="ltr">SELECT MAX（pd.version）FROM pga_data pd WHERE pd.dname ='EMPREC';</pre><p>要确定与“ <code class="codeph">EMPREC</code> ”更新版本相关的其他信息，可以使用以下查询：</p><pre class="oac_no_warn" dir="ltr">SELECT * FROM pga_data pd WHERE pd.dname ='EMPREC';</pre><p>这个例子创建一个新的<code class="codeph">CALL</code> “的版本<code class="codeph">DB2IMAIN</code>因为“ <code class="codeph">DB2IMAIN</code> ” <code class="codeph">CALL</code>以前定义：</p><pre class="oac_no_warn" dir="ltr">DEFINE CALL DB2IMAIN PKGCALL（PGADB2I_MAIN）PARMS（（EMPNO IN），（EMPREC OUT VERSION（ddddd）））;</pre><p>其中<code class="codeph">ddddd</code>是在先前的<code class="codeph">DEFINE DATA</code>更新的<code class="codeph">EMPREC</code>之后查询的<code class="codeph">EMPREC DATA</code>定义的版本号。</p>
                     <p>要确定分配了哪个呼叫版本号，可以发出以下SQL查询：</p><pre class="oac_no_warn" dir="ltr">SELECT MAX（pc.version）FROM pga_call pc WHERE pc.cname ='DB2IMAIN';</pre><p>要确定与“ <code class="codeph">DB2IMAIN</code> ”更新版本相关的其他信息，可以使用以下查询：</p><pre class="oac_no_warn" dir="ltr">SELECT * FROM pga_call pc WHERE pc.cname ='DB2IMAIN';</pre><p><code class="codeph">DEFINE TRANSACTION</code>示例创建了一个新的<code class="codeph">TRANSACTION</code>版本的' <code class="codeph">DB2I</code> '，因为先前已经定义了<code class="codeph">'DB2I' TRANSACTION</code> 。DB2I事务的新版本的本质区别在于第一个调用使用new <a id="d53193e502" class="indexterm-anchor"></a> PL / SQL记录格式“ <code class="codeph">NEWEMP</code> ”（对应于COBOL <code class="codeph">NEWEMP</code>格式）用于查询员工数据。
                     </p>
                     <div class="infoboxnote" id="GUID-8EB40440-35A8-4194-BF66-BC9699C0097E__GUID-0702BBB5-351C-4CBA-AE26-957D1EC32BCB">
                        <p class="notep1">注意：</p>
                        <p>如上所述的记录格式更改必须与远程事务程序的要求同步。单独更改PGA TIP会导致错误。具有相关更改的新远程事务程序可以在单独的CICS系统上运行，并通过下面<code class="codeph">SIDEPROFILE</code>参数中从“ <code class="codeph">CICSPROD</code> ”更改为“ <code class="codeph">CICSTEST</code> ”来<code class="codeph">SIDEPROFILE</code> 。
                        </p>
                     </div><pre class="oac_no_warn" dir="ltr">DEFINE TRANSACTION DB2I CALL（DB2IMAIN VERSION（ccccc），DB2IDIAG）SIDEPROFILE（CICSTEST）TPNAME（DB2I）LOGMODE（ORAPLU62）SYNCLEVEL（0）NLS_LANGUAGE（“AMERICAN_AMERICA.WE8EBCDIC37C”）;</pre><p>其中<code class="codeph">ccccc</code>是在上一次<code class="codeph">DEFINE CALL</code>更新<code class="codeph">DB2IMAIN</code>之后查询的<code class="codeph">DB2IMAIN</code> <code class="codeph">CALL</code>定义的版本号。</p>
                     <p>PGA DD中有两个版本的DB2I事务定义。原始版本使用旧的“ <code class="codeph">DCLEMP</code> ”记录格式，并在生产CICS系统上启动事务“ <code class="codeph">DB2I</code> ”。最新版本使用“ <code class="codeph">NEWEMP</code> ”记录格式并在测试CICS系统上启动事务“ <code class="codeph">DB2I</code> ”。
                     </p>
                     <p>要确定分配了哪个事务版本号，可以发出以下SQL查询：</p><pre class="oac_no_warn" dir="ltr">SELECT MAX（pt.version）FROM pga_trans pt WHERE pt.tname ='DB2I';</pre><p>要确定与“ <code class="codeph">DB2I</code> ”的更新版本相关的其他信息，可以使用以下查询：</p><pre class="oac_no_warn" dir="ltr">SELECT * FROM pga_trans pt WHERE pt.tname ='DB2I';</pre><p>此示例使用先前定义的<code class="codeph">TRANSACTION</code> ， <code class="codeph">CALL</code>和<code class="codeph">DATA</code>定义的新版本生成新包：</p><pre class="oac_no_warn" dir="ltr">生成DB2I VERSION（ttttt）PKGNAME（NEWDB2I）OUTFILE（“pgadb2i”）;</pre><p>其中<code class="codeph">ttttt</code>是在前一个<code class="codeph">DEFINE TRANSACTION</code>更新的<code class="codeph">DB2I</code>之后查询的<code class="codeph">DB2I TRANSACTION</code>定义的版本号。</p>
                     <p>请注意，先前的PL / SQL包文件<code class="codeph">pgadb2i.pkh</code>和<code class="codeph">pgadb2i.pkb</code>被覆盖。要使新包保持独立，请更改输出文件规范。例如：</p><pre class="oac_no_warn" dir="ltr">生成DB2I VERSION（ttttt）PKGNAME（NEWDB2I）OUTFILE（“newdb2i”）;</pre><p>用户的高级应用程序现在通过引用来使用此提示<a id="d53193e610" class="indexterm-anchor"></a>传递并返回PL / SQL数据类型。
                     </p>
                     <p><a href="admin-utility-samples-oracle-database-gateway-appc.html#GUID-8EB40440-35A8-4194-BF66-BC9699C0097E__CHDBDAEE" title="此2列表提供了包名PGADB2I中TIP用户事务数据类型的说明">表F-2</a>提供了包名称<code class="codeph">NEWDB2I</code> TIP用户事务数据类型的<code class="codeph">NEWDB2I</code> ：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-8EB40440-35A8-4194-BF66-BC9699C0097E__CHDBDAEE">
                     <p class="titleintable">表F-2包名称NEWDB2I的TIP用户事务数据类型</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="包名称NEWDB2I的提示用户事务数据类型" width="100%" border="1" summary="This 2 column table provides a description of the TIP user transaction datatypes in package name PGADB2I" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="31%" id="d53193e634">数据类型</th>
                              <th align="left" valign="bottom" width="69%" id="d53193e637">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d53193e642" headers="d53193e634 ">
                                 <p><code class="codeph">NEWDB2I.EMPNO</code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d53193e642 d53193e637 ">
                                 <p>是与COBOL <code class="codeph">EMPNO</code>对应的PL / SQL变量。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d53193e654" headers="d53193e634 ">
                                 <p><code class="codeph">NEWDB2I.NEWEMP</code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d53193e654 d53193e637 ">
                                 <p>是对应于COBOL <code class="codeph">NEWEMP</code>的PL / SQL <code class="codeph">RECORD</code> 。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d53193e669" headers="d53193e634 ">
                                 <p><code class="codeph">NEWDB2I.DB2</code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d53193e669 d53193e637 ">
                                 <p>是对应于COBOL <code class="codeph">DB2</code>的PL / SQL <code class="codeph">RECORD</code> 。
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>和应用程序调用：</p><pre class="oac_no_warn" dir="ltr">NEWDB2I.PGADB2I_INIT（trannum）; NEWDB2I.PGADB2I_MAIN（trannum，empno，newemp）; NEWDB2I.PGADB2I_DIAG（trannum，db2）; NEWDB2I.PGADB2I_TERM（trannum，termtype）;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="APPUG1133"></a><div class="props_rev_3"><a id="GUID-0F47ACBD-1DA1-47FA-9DA8-E99009371612" name="GUID-0F47ACBD-1DA1-47FA-9DA8-E99009371612"></a><h3 id="APPUG-GUID-0F47ACBD-1DA1-47FA-9DA8-E99009371612" class="sect3">样本PGAU重新定义数据语句</h3>
               <div>
                  <div class="section">
                     <p>单场重新定义，其中<code class="codeph">EDLEVEL USAGE</code>变为<code class="codeph">COMP-3</code> ：</p><pre class="oac_no_warn" dir="ltr">重新定义数据EMPREC PLSDNAME（DCLEMP）语言（IBMVSCOBOLII）字段（EDLEVEL）PLSFNAME（PLSRECTYPE）（10 EDLEVEL PIC S9（4）使用是COMP-3。）;</pre><p>默认情况下，这会重新定义最新版本的<code class="codeph">EMPREC</code> ，它会隐式影响<code class="codeph">EMPREC</code>它的最新调用和事务定义。
                     </p>
                     <p>样本多字段重新定义，其中扩展了员工的名字和姓氏字段，并删除了员工的中间名称。</p><pre class="oac_no_warn" dir="ltr">重新定义数据EMPREC版本（1）PLSDNAME（DCLEMP）语言（IBMVSCOBOLII）INFILE（“emp1.cob”）;</pre><p>文件<code class="codeph">emp1.cob</code>包含以下内容：</p><pre class="oac_no_warn" dir="ltr">01 DCLEMP。 10 EMPNO PIC X（6）。10 FIRSTNME。 49 FIRSTNME-LEN PIC S9（4）使用COMP。 49 FIRSTNME-TEXT PIC X（15）。10 LASTNAME。 49 LASTNAME-LEN PIC S9（4）使用COMP。 49 LASTNAME-TEXT PIC X（20）。10 WORKDEPT PIC X（3）。10 PHONENO PIC X（4）。10 HIREDATE PIC X（10）。10 JOB PIC X（8）。10 EDLEVEL PIC S9（4）使用COMP。 10 SEX PIC X（1）。10 BIRTHDATE PIC X（10）。10 SALARY PIC S9999999V99使用COMP-3。10 BONUS PIC S9999999V99使用COMP-3。10 COMM PIC S9999999V99使用COMP-3。
    </pre><p>假设是要重新定义' <code class="codeph">EMPREC</code> '的数据定义的版本1。这导致重新定义第一个“ <code class="codeph">EMPREC</code> ”样本数据定义而不更改版本号。因此，引用“ <code class="codeph">EMPREC</code> ”版本1的现有调用和事务定义会自动反映已更改的“ <code class="codeph">EMPREC</code> ”。当为引用引用“ <code class="codeph">EMPREC</code> ”版本1的调用的事务生成下一个TIP时，此更改生效。
                     </p>
                     <p>这隐式地影响了两个版本的事务，因为它们都在第二次调用中引用了更新员工数据的<code class="codeph">EMPREC</code> 。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="APPUG1134"></a><div class="props_rev_3"><a id="GUID-F7D4B8F8-B8BF-446C-A6BF-2EACEEDEAD80" name="GUID-F7D4B8F8-B8BF-446C-A6BF-2EACEEDEAD80"></a><h3 id="APPUG-GUID-F7D4B8F8-B8BF-446C-A6BF-2EACEEDEAD80" class="sect3">样本PGAU UNDEFINE声明</h3>
               <div>
                  <div class="section">
                     <p>此示例说明删除具有多个版本的定义的特定版本，然后删除特定命名定义的所有版本。</p><pre class="oac_no_warn" dir="ltr">UNDEFINE DATA EMPREC VERSION（ddddd）;未定数据EMPREC版本（全部）; UNDEFINE CALL DB2IMAIN VERSION（ccccc）; UNDEFINE CALL DB2IMAIN VERS（全部）; UNDEFINE TRANSACTION DB2I vers（ttttt）; UNDEFINE TRANSACTION DB2I vers（全部）;</pre><p>请注意，先前的<code class="codeph">UNDEFINE</code>语句在PGA DD中保留了<code class="codeph">EMPNO</code>的<code class="codeph">DATA</code>定义和<code class="codeph">DB2IDIAG</code>的<code class="codeph">CALL</code>定义。</p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html>