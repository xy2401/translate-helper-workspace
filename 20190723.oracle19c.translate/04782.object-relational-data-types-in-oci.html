<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="This chapter describes the purpose and structure of each of the data types that can be manipulated by the OCI data type mapping and manipulation functions."></meta>
      <meta name="description" content="This chapter describes the purpose and structure of each of the data types that can be manipulated by the OCI data type mapping and manipulation functions."></meta>
      <title>OCI中的对象关系数据类型</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Programmer&#39;s Guide"></meta>
      <meta property="og:description" content="This chapter describes the purpose and structure of each of the data types that can be manipulated by the OCI data type mapping and manipulation functions."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Programmer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="oracle-call-interface-programmers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-14T08:46:00-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96204-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="oci-object-relational-programming.html" title="Previous" type="text/html"></link>
      <link rel="next" href="direct-path-load-interface.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Oracle Call Interface Programmer&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="LNOCI"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="oci-object-relational-programming.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="direct-path-load-interface.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">程序员指南</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">OCI中的对象关系数据类型</li>
            </ol>
            <a id="GUID-C62AEE74-0CC5-4FAB-A91F-997F71C49C2C" name="GUID-C62AEE74-0CC5-4FAB-A91F-997F71C49C2C"></a><a id="LNOCI110"></a>
            
            <h2 id="LNOCI-GUID-C62AEE74-0CC5-4FAB-A91F-997F71C49C2C" class="sect2">OCI中的<span class="enumeration_chapter">20个</span>对象关系数据类型</h2>
         </header>
         <div class="ind"><script type="text/javascript">window.name='object-relational-data-types-in-oci'</script><script type="text/javascript">
    function footdisplay(footnum,footnote) {
    var msg = window.open('about:blank', 'NewWindow' + footnum,
        'directories=no,height=100,location=no,menubar=no,resizable=yes,' +
        'scrollbars=yes,status=no,toolbar=no,width=598');
    msg.document.open('text/html');
    msg.document.write('<!DOCTYPE html ');
    msg.document.write('PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" ');
    msg.document.write('"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">'); 
    msg.document.write('<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us" dir="ltr"><head><title>');
   
    msg.document.write('Footnote&nbsp; ' + footnum);
    msg.document.write('<\/title><meta http-equiv="Content-Type" ');
    msg.document.write('content="text/html; charset=utf-8" />');
    msg.document.write('<meta http-equiv="Content-Script-Type" ');
    msg.document.write('content="text/javascript" />');
    msg.document.write('<style type="text/css"> <![CDATA[ ');
    msg.document.write('h1 {text-align: center; font-size: 14pt;}');
    msg.document.write('fieldset {border: none;}');
    msg.document.write('form {text-align: center;}');
    msg.document.write(' ]]u003e </style>');
    msg.document.write('<\/head><body><div id="footnote"><h1>Footnote&nbsp; ' + footnum + '<\/h1><p>');
    msg.document.write(footnote);
    msg.document.write('<\/p><form action="" method="post"><fieldset>');
    msg.document.write('<input type="button" value="OK" ');
    msg.document.write('onclick="window.close();" />');
    msg.document.write('<\/fieldset><\/form><\/div><\/body><\/html>');
    msg.document.close();
    setTimeout(function() {
        var height = msg.document.getElementById('footnote').offsetHeight;
        msg.resizeTo(598, height + 100);
    }
    , 100);
    msg.focus();
}
            </script><noscript>
               <p>此页面上的脚本内容仅用于导航目的，不会以任何方式更改内容。</p>
            </noscript>
            <div>
               <p>本章描述了可由OCI数据类型映射和操作函数操作的每种数据类型的用途和结构。</p>
               <p>本章还总结了不同的功能组，列出了可用功能及其用途。此外，还提供有关如何在绑定中使用这些数据类型以及在OCI应用程序中定义操作的信息。</p>
               <p>本章包含以下主题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="object-relational-data-types-in-oci.html#GUID-DDABE02B-E48E-4652-A212-39DBF7416103" title="OCI数据类型映射和操作函数提供了操作预定义Oracle C数据类型的实例的能力。">OCI对象功能概述</a></p>
                  </li>
                  <li>
                     <p><a href="object-relational-data-types-in-oci.html#GUID-FBFCB2C4-2E26-4FDC-ACB3-902742349800" title="Oracle提供了一组丰富的预定义数据类型，您可以使用这些类型创建表并指定用户定义的数据类型（包括对象类型）。">关于将Oracle数据类型映射到C</a></p>
                  </li>
                  <li>
                     <p><a href="object-relational-data-types-in-oci.html#GUID-23C8572F-ACCF-4FEB-AA70-AC08FFBDC29C" title="演示如何使用OCI操作C数据类型，并显示各种函数前缀，以及函数名称和函数运行的数据类型。">关于使用OCI操作C数据类型</a></p>
                  </li>
                  <li>
                     <p><a href="object-relational-data-types-in-oci.html#GUID-97999BC9-BC69-44AE-ACE1-CD077BAC37D0" title="Oracle日期格式由OCIDate类型映射到C，这是一个不透明的C结构。结构的元素表示日期的年，月，日，小时，分钟和秒。">日期（OCIDate）</a></p>
                  </li>
                  <li>
                     <p><a href="object-relational-data-types-in-oci.html#GUID-BE008B9E-1CC3-4168-881F-1CE5E95778AE" title="OCIDateTime数据类型是一个不透明的结构，用于表示Oracle时间戳数据类型（TIMESTAMP，TIMESTAMP WITH TIME ZONE，TIMESTAMP WITH LOCAL TIME ZONE）和ANSI DATE数据类型。">日期时间和间隔（OCIDateTime，OCIInterval）</a></p>
                  </li>
                  <li>
                     <p><a href="object-relational-data-types-in-oci.html#GUID-AC31C501-8512-427B-9C0E-FF7F85E0C067" title="OCINumber数据类型是一个不透明的结构，用于表示Oracle数字数据类型（NUMBER，FLOAT，DECIMAL等）。">号码（OCINumber）</a></p>
                  </li>
                  <li>
                     <p><a href="object-relational-data-types-in-oci.html#GUID-A939CF70-1472-479C-81DD-274D8158C6A4" title="固定或可变长度的字符串数据作为OCIString *表示给C程序。">固定或可变长度字符串（OCIString）</a></p>
                  </li>
                  <li>
                     <p><a href="object-relational-data-types-in-oci.html#GUID-2E651841-433D-4EE7-9606-8372E3AB7463" title="可变长度原始数据使用OCIRaw *数据类型以C表示。">原料（OCIRaw）</a></p>
                  </li>
                  <li>
                     <p><a href="object-relational-data-types-in-oci.html#GUID-82EEC341-6FE5-45EC-B768-52780CAF5461" title="Oracle数据库提供两种类型的集合：可变长度数组（varrays）和嵌套表。在C应用程序中，varrays表示为OCIArray *，嵌套表表示为OCITable *。">馆藏（OCITable，OCIArray，OCIColl，OCIIter）</a></p>
                  </li>
                  <li>
                     <p><a href="object-relational-data-types-in-oci.html#GUID-54C574D2-00A3-4AD0-AC61-BA2B18BE51D0" title="集合元素本身可以是直接或间接的另一种集合类型。">关于多级集合类型</a></p>
                  </li>
                  <li>
                     <p><a href="object-relational-data-types-in-oci.html#GUID-964A12BB-B8A7-4ECA-ADDE-763CBC766174" title="REF（引用）是对象的标识符。">REF（OCIRef）</a></p>
                  </li>
                  <li>
                     <p><a href="object-relational-data-types-in-oci.html#GUID-6A16EF8B-8ACF-4FD8-9C39-EA8A0D14DEC4" title="本节将讨论OCI数据类型和类型描述符。">对象类型信息存储和访问</a></p>
                  </li>
                  <li>
                     <p><a href="object-relational-data-types-in-oci.html#GUID-A728728A-3C8F-4446-874C-A551DE19BD28" title="AnyType，AnyData和AnyDataSet接口允许您为自描述数据建模。">AnyType，AnyData和AnyDataSet接口</a></p>
                  </li>
                  <li>
                     <p><a href="object-relational-data-types-in-oci.html#GUID-53D4F217-BE53-4B78-962C-0EAA9741F9AC" title="本节提供有关绑定命名数据类型（如对象和集合）和REF的信息。">关于绑定命名数据类型</a></p>
                  </li>
                  <li>
                     <p><a href="object-relational-data-types-in-oci.html#GUID-5BFF4D9F-67AC-411B-9722-4135671FFD1E" title="对于命名数据类型（对象类型，嵌套表，varray）定义，需要两个定义调用。与命名数据类型一样，为REF输出变量定义是一个两步过程。在使用命名数据类型和REF定义时，请考虑以下重要信息。它包括有关内存分配和指示符变量用法的指针。要执行命名数据类型或REF的数组定义，用户必须传入指向适当类型的缓冲区（预分配或其他）的指针数组。">关于定义命名数据类型</a></p>
                  </li>
                  <li>
                     <p><a href="object-relational-data-types-in-oci.html#GUID-EA06FDEB-E669-460B-AA33-4C6B5F074767" title="本节总结了有关绑定和定义Oracle C命名数据类型的信息">关于绑定和定义Oracle C数据类型</a></p>
                  </li>
                  <li>
                     <p><a href="object-relational-data-types-in-oci.html#GUID-709C6AF1-8083-4E3E-B6DE-B8847C3E4693" title="以下代码片段演示了在bind调用中使用SQLT_NTY命名数据类型，包括OCIBindObject（）和包含OCIDefineObject（）的define调用中的SQLT_NTY命名数据类型。">SQLT_NTY绑定和定义示例</a></p>
                  </li>
               </ul>
            </div><a id="LNOCI16832"></a><div class="props_rev_3"><a id="GUID-DDABE02B-E48E-4652-A212-39DBF7416103" name="GUID-DDABE02B-E48E-4652-A212-39DBF7416103"></a><h3 id="LNOCI-GUID-DDABE02B-E48E-4652-A212-39DBF7416103" class="sect3"><span class="enumeration_section">20.1</span>对象的OCI功能概述</h3>
               <div>
                  <p>OCI数据类型映射和操作函数提供了操作预定义Oracle C数据类型的实例的能力。</p>
                  <p>这些数据类型用于表示用户定义的数据类型的属性，包括Oracle数据库中的对象类型。</p>
                  <p>OCI中的每组功能都由特定的命名约定区分。例如，数据类型映射和操作函数可以很容易识别，因为函数名称以前缀<span class="italic">OCI</span>开头，后跟数据类型的名称，如<code class="codeph">OCIDateFromText()</code>和<code class="codeph">OCIRawSize()</code> 。如稍后将解释的，名称可以进一步细分为对特定类型的数据进行操作的功能组。
                  </p>
                  <p>这些函数运行的预定义Oracle C类型也通过以<span class="italic">OCI</span>前缀开头的名称来区分，如<code class="codeph">OCIDate</code>或<code class="codeph">OCIString</code> 。
                  </p>
                  <p>当应用程序必须操作，绑定或定义存储在Oracle数据库中的对象的属性或已由SQL查询检索的对象的属性时，将使用数据类型映射和操作函数。检索到的对象存储在客户端对象缓存中。</p>
                  <p>OCI客户端必须在执行绑定或定义操作之前分配描述符。<code class="codeph">OCIStmtExecute()</code>和<code class="codeph">OCIStmtFetch2()</code>如果它们没有被分配不能描述符分配内存<code class="codeph">OCIDescriptorAlloc()</code>
                  </p>
                  <p>仅当OCI应用程序在对象模式下运行时，这些功能才有效。有关在对象模式下初始化OCI以及创建访问和操作对象的OCI应用程序的信息，请参阅<a href="oci-object-relational-programming.html#GUID-C89832E1-97A6-431F-ADC6-9CBF6B1EBA4E" title="如果您的OCI应用程序要访问和操作对象，则必须为OCIEnvCreate（）调用的mode参数指定OCI_OBJECT值，这是任何OCI应用程序中的第一个OCI调用。为mode指定此值指示OCI库您的应用程序正在使用对象。">关于初始化环境和对象缓存</a> 。
                  </p>
                  <div class="infoboxnote" id="GUID-DDABE02B-E48E-4652-A212-39DBF7416103__GUID-0532796E-1B18-4F51-8CBA-97B9EBF794D2">
                     <p class="notep1">注意：</p>
                     <p>对象类型（如<code class="codeph">OCIDate</code> ）的操作允许结果的地址与其中一个操作数的地址相同。
                     </p>
                  </div>
                  <div class="infoboxnotealso" id="GUID-DDABE02B-E48E-4652-A212-39DBF7416103__GUID-D8CC11C7-845F-4EC5-9025-DD08096C3D9E">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="oci-date-datetime-and-interval-functions.html#GUID-EA8FEB07-401C-477E-805B-CC9E89FB13F4" title="根据指定的格式将字符串转换为日期类型。">OCIDateFromText（）</a></p>
                        </li>
                        <li>
                           <p><a href="oci-raw-functions.html#GUID-D74E75FA-5985-4DDC-BC25-430B415B8837" title="返回给定raw的大小（以字节为单位）。">OCIRawSize（）</a></p>
                        </li>
                        <li>
                           <p><a href="object-advanced-topics-in-oci.html#GUID-B2FBDC75-64BD-4E7E-A713-5095A827EA9C" title="本章介绍用于在Oracle数据库中处理对象的OCI工具。">OCI中的对象高级主题，</a>以获取有关存储在客户端对象缓存中的检索对象的更多信息</p>
                        </li>
                        <li>
                           <p><a href="statement-functions.html#GUID-98B26708-3E02-45C0-8258-5D5544F32BE9" title="将应用程序请求与服务器关联。">OCIStmtExecute（）</a></p>
                        </li>
                        <li>
                           <p><a href="statement-functions.html#GUID-DF585B90-58BA-45FC-B7CE-6F7F987C03B9" title="从（可滚动）结果集中获取一行。">OCIStmtFetch2（）</a></p>
                        </li>
                        <li>
                           <p><a href="handle-and-descriptor-functions.html#GUID-E9EF2766-E078-49A7-B1D1-738E4BA4814F" title="分配存储以保存描述符或LOB定位符。">OCIDescriptorAlloc（）</a></p>
                        </li>
                        <li>
                           <p><a href="../adobj/key-features-object-relational-model.html#ADOBJ-GUID-8A38BA82-CCD5-4424-AE19-10A994E25B0E" target="_blank"><span><cite>Oracle数据库对象关系开发人员指南</cite></span></a> ，了解有关对象类型，属性和集合数据类型的详细信息</p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="LNOCI16833"></a><div class="props_rev_3"><a id="GUID-FBFCB2C4-2E26-4FDC-ACB3-902742349800" name="GUID-FBFCB2C4-2E26-4FDC-ACB3-902742349800"></a><h3 id="LNOCI-GUID-FBFCB2C4-2E26-4FDC-ACB3-902742349800" class="sect3"><span class="enumeration_section">20.2</span>关于将Oracle数据类型映射到C</h3>
               <div>
                  <p>Oracle提供了一组丰富的预定义数据类型，您可以使用这些类型创建表并指定用户定义的数据类型（包括对象类型）。</p>
                  <p>对象类型通过允许您创建精确建模它们工作的数据类型的数据类型来扩展Oracle数据库的功能。这可以为访问数据的程序员提供更高的效率和易用性。</p>
                  <p>您可以将<code class="codeph">NCHAR</code>和<code class="codeph">NVARCHAR2</code>用作对象中的属性，并映射到C中的<code class="codeph">OCIString *</code> 。</p>
                  <p>数据库表和对象类型基于Oracle提供的数据类型。这些表和类型是使用SQL语句创建的，并使用一组特定的Oracle内部数据类型（如<code class="codeph">VARCHAR2</code>或<code class="codeph">NUMBER</code> 。例如，以下SQL语句创建用户定义的<code class="codeph">address</code>数据类型和用于存储该类型实例的对象表：</p><pre class="oac_no_warn" dir="ltr">CREATE TYPE地址AS OBJECT（street1 varchar2（50），street2 varchar2（50），city varchar2（30），state char（2），zip number（5））; CREATE TABLE address_table OF地址;</pre><p>新<code class="codeph">address</code>类型还可用于创建具有对象列的常规表：</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE员工（名称varchar2（30），生日日期，home_addr地址）;</pre><p>OCI应用程序可以使用直接绑定和定义与SQL语句关联的操作来操作<code class="codeph">employees</code>表的<code class="codeph">name</code>和<code class="codeph">birthday</code>列中的信息。访问存储为对象属性的信息需要一些额外的步骤。
                  </p>
                  <p>OCI应用程序首先需要一种以C语言格式表示对象的方法。这是通过使用对象类型转换器（OTT）来生成用户定义类型的C结构表示来实现的。这些结构的元素具有表示Oracle数据类型的C语言映射的数据类型。</p>
                  <p>附加的C类型<code class="codeph">OCIInd</code>用于表示与对象类型的属性相对应的空指示符信息。
                  </p>
                  <p>本节包括以下主题： <a href="object-relational-data-types-in-oci.html#GUID-624EAEBE-AA0F-4DA5-A83D-88C0E7800F9E" title="在指定Oracle预定义类型的映射时，Oracle遵循了独特的设计理念。">OCI类型映射方法</a> 。
                  </p>
                  <div class="infoboxnotealso" id="GUID-FBFCB2C4-2E26-4FDC-ACB3-902742349800__GUID-186F29BD-1E27-4141-86DE-F1A10EDA0497">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="using-object-type-translator-in-oci.html#GUID-FC45BE3C-C48C-427C-A60B-7B7658A42AD6__CIHEBCFC" title="该表有3列。第1列是对象属性类型，第2列是其对应的C映射，第3列是其对应的OCITypeCode值。">表24-1列出</a>了可用作对象属性类型的可用Oracle类型及其C映射</p>
                        </li>
                        <li>
                           <p><a href="using-object-type-translator-in-oci.html#GUID-3D22CA8E-BE01-492F-BA85-DDD0CD3F4890" title="本章讨论了对象类型转换器（OTT），它用于将数据库对象类型和命名集合类型映射到C结构，以便在OCI应用程序中使用。">将对象类型转换器与OCI一起使用</a>以获取有关使用OTT的更多信息和示例</p>
                        </li>
                     </ul>
                     <p></p>
                  </div>
               </div><a id="LNOCI16834"></a><div class="props_rev_3"><a id="GUID-624EAEBE-AA0F-4DA5-A83D-88C0E7800F9E" name="GUID-624EAEBE-AA0F-4DA5-A83D-88C0E7800F9E"></a><h4 id="LNOCI-GUID-624EAEBE-AA0F-4DA5-A83D-88C0E7800F9E" class="sect4"><span class="enumeration_section">20.2.1</span> OCI类型映射方法</h4>
                  <div>
                     <p>在指定Oracle预定义类型的映射时，Oracle遵循了独特的设计理念。</p>
                     <p>目前的系统具有以下优点和优点：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">OCINumber</code>等数据类型的实际表示对客户端应用程序是不透明的，并且数据类型使用一组预定义函数进行操作。这允许更改内部表示以适应未来的增强而不会破坏用户代码。
                           </p>
                        </li>
                        <li>
                           <p>该实现与面向对象的范例一致，其中隐藏类实现并且仅暴露所需的操作。</p>
                        </li>
                        <li>
                           <p>这种实现对程序员来说是有利的。考虑编写一个C程序来操作Oracle数字变量而不会丢失Oracle数字提供的准确性。要在Oracle Database Release 7中执行此操作，您必须发出“ <code class="codeph">SELECT ...FROM DUAL</code> “声明。在以后的版本中，这是通过调用<code class="codeph">OCINumber*()</code>函数来完成的。
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="LNOCI16836"></a><a id="LNOCI16835"></a><div class="props_rev_3"><a id="GUID-23C8572F-ACCF-4FEB-AA70-AC08FFBDC29C" name="GUID-23C8572F-ACCF-4FEB-AA70-AC08FFBDC29C"></a><h3 id="LNOCI-GUID-23C8572F-ACCF-4FEB-AA70-AC08FFBDC29C" class="sect3"><span class="enumeration_section">20.3</span>关于使用OCI操作C数据类型</h3>
               <div>
                  <p>演示如何使用OCI操作C数据类型，并显示各种函数前缀，以及函数名称和函数运行的数据类型。</p>
                  <p>在OCI应用程序中，数据的操作可以像将两个整数变量相加并将结果存储在第三个变量中一样简单：</p><pre class="oac_no_warn" dir="ltr">int int_1，int_2，sum; .../ *有些初始化发生* / ...sum = int_1 + int_2;</pre><p>C语言对简单类型（如<code class="codeph">integer</code>提供了一组预定义操作。但是， <a href="using-object-type-translator-in-oci.html#GUID-FC45BE3C-C48C-427C-A60B-7B7658A42AD6__CIHEBCFC" title="该表有3列。第1列是对象属性类型，第2列是其对应的C映射，第3列是其对应的OCITypeCode值。">表24-1</a>中列出的C数据类型不是简单的C原语。诸如<code class="codeph">OCIString</code>和<code class="codeph">OCINumber</code>类的类型实际上是具有特定Oracle定义的内部结构的结构。不可能简单地将两个<code class="codeph">OCINumber</code>加在一起并将值存储在第三个中。
                  </p>
                  <p>以下内容无效：</p><pre class="oac_no_warn" dir="ltr">OCINumber num_1，num_2，sum; .../ *有些初始化发生* / ...sum = num_1 + num_2; / *不是有效的操作* /</pre><p>提供OCI数据类型映射和操作函数，使您可以对这些新数据类型执行操作。例如，使用<code class="codeph">OCINumberAdd()</code>函数可以如下完成前面添加的<code class="codeph">OCINumber</code> ：</p><pre class="oac_no_warn" dir="ltr">OCINumber num_1，num_2，sum; .../ *有些初始化发生* / ...OCINumberAdd（errhp，＆num_1，＆num_2，＆sum）：/ * errhp是错误句柄* /</pre><p>OCI提供了对每种新数据类型进行操作的功能。函数的名称提供有关它们运行的数据类型的信息。前三个字母<span class="italic">OCI</span>表明该功能是OCI的一部分。名称的下一部分表示函数运行的数据类型。<a href="object-relational-data-types-in-oci.html#GUID-23C8572F-ACCF-4FEB-AA70-AC08FFBDC29C__BGBICHGB" title="此表3列。第1列是OCI函数前缀名，第2列是其对应的示例OCI函数名，第3列是OCI函数在其上运行的数据类型。">表20-1</a>显示了各种功能前缀，以及功能名称和功能运行的数据类型。
                  </p>
                  <div class="tblformal" id="GUID-23C8572F-ACCF-4FEB-AA70-AC08FFBDC29C__BGBICHGB">
                     <p class="titleintable">表20-1功能前缀示例</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="功能前缀示例" width="100%" border="1" summary="This table 3 columns. Column 1 is the OCI function prefix name, column 2 is its corresponding example OCI function name, and column 3 are the data types on which the OCI function operates. " frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="23%" id="d144684e1452">功能前缀</th>
                              <th align="left" valign="bottom" width="34%" id="d144684e1455">例</th>
                              <th align="left" valign="bottom" width="43%" id="d144684e1458">操作</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d144684e1463" headers="d144684e1452 "><pre class="oac_no_warn" dir="ltr">OCIColl</pre></td>
                              <td align="left" valign="top" width="34%" headers="d144684e1463 d144684e1455 "><pre class="oac_no_warn" dir="ltr"><a href="oci-collection-and-iterator-functions.html#GUID-B28B3D65-EB7B-44BD-ADBA-DAC0C21DE90F" title="获取指向给定索引处元素的指针。">OCICollGetElem（）</a></pre></td>
                              <td align="left" valign="top" width="43%" headers="d144684e1463 d144684e1458 "><pre class="oac_no_warn" dir="ltr">OCIColl，OCIIter，OCITable，OCIArray</pre></td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d144684e1478" headers="d144684e1452 "><pre class="oac_no_warn" dir="ltr">OCIDate</pre></td>
                              <td align="left" valign="top" width="34%" headers="d144684e1478 d144684e1455 "><pre class="oac_no_warn" dir="ltr"><a href="oci-date-datetime-and-interval-functions.html#GUID-42422C47-805F-4EAA-BF44-E6DE6164082E" title="获取两个日期之间的天数。">OCIDateDaysBetween（）</a></pre></td>
                              <td align="left" valign="top" width="43%" headers="d144684e1478 d144684e1458 "><pre class="oac_no_warn" dir="ltr">OCIDate</pre></td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d144684e1493" headers="d144684e1452 "><pre class="oac_no_warn" dir="ltr">OCIDateTime</pre></td>
                              <td align="left" valign="top" width="34%" headers="d144684e1493 d144684e1455 "><pre class="oac_no_warn" dir="ltr"><a href="oci-date-datetime-and-interval-functions.html#GUID-BD2F6432-81FF-4CD6-9C3D-85E401894528" title="将两个日期时间作为输入并将其差异存储在一个间隔中。">OCIDateTimeSubtract（）</a></pre></td>
                              <td align="left" valign="top" width="43%" headers="d144684e1493 d144684e1458 "><pre class="oac_no_warn" dir="ltr">OCIDate，OCIDateTime</pre></td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d144684e1508" headers="d144684e1452 "><pre class="oac_no_warn" dir="ltr">OCIInterval</pre></td>
                              <td align="left" valign="top" width="34%" headers="d144684e1508 d144684e1455 "><pre class="oac_no_warn" dir="ltr"><a href="oci-date-datetime-and-interval-functions.html#GUID-DC306081-C4C3-48F5-818D-4C02DD945192" title="给定间隔时，生成表示间隔的字符串。">OCIIntervalToText（）</a></pre></td>
                              <td align="left" valign="top" width="43%" headers="d144684e1508 d144684e1458 "><pre class="oac_no_warn" dir="ltr">OCIInterval</pre></td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d144684e1523" headers="d144684e1452 "><pre class="oac_no_warn" dir="ltr">OCIIter</pre></td>
                              <td align="left" valign="top" width="34%" headers="d144684e1523 d144684e1455 "><pre class="oac_no_warn" dir="ltr"><a href="oci-collection-and-iterator-functions.html#GUID-B75C3D43-507F-4D61-8390-9856FF0C7D81" title="初始化迭代器以扫描集合。">OCIIterInit（）</a></pre></td>
                              <td align="left" valign="top" width="43%" headers="d144684e1523 d144684e1458 "><pre class="oac_no_warn" dir="ltr">OCIIter</pre></td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d144684e1538" headers="d144684e1452 "><pre class="oac_no_warn" dir="ltr">OCINumber</pre></td>
                              <td align="left" valign="top" width="34%" headers="d144684e1538 d144684e1455 "><pre class="oac_no_warn" dir="ltr"><a href="oci-NUMBER-functions.html#GUID-F3DC6DF6-9110-4BAC-AB97-DC604CA04BCD" title="将NUMBER添加到另一个NUMBER。">OCINumberAdd（）</a></pre></td>
                              <td align="left" valign="top" width="43%" headers="d144684e1538 d144684e1458 "><pre class="oac_no_warn" dir="ltr">OCINumber</pre></td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d144684e1559" headers="d144684e1452 "><pre class="oac_no_warn" dir="ltr">OCIRaw</pre></td>
                              <td align="left" valign="top" width="34%" headers="d144684e1559 d144684e1455 "><pre class="oac_no_warn" dir="ltr"><a href="oci-raw-functions.html#GUID-7D757B00-DF25-4F61-A3DF-8C72F18FDC9E" title="调整给定可变长度原始内存的大小。">OCIRawResize（）</a></pre></td>
                              <td align="left" valign="top" width="43%" headers="d144684e1559 d144684e1458 "><pre class="oac_no_warn" dir="ltr">OCIRaw *</pre></td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d144684e1577" headers="d144684e1452 "><pre class="oac_no_warn" dir="ltr">OCIRef</pre></td>
                              <td align="left" valign="top" width="34%" headers="d144684e1577 d144684e1455 "><pre class="oac_no_warn" dir="ltr"><a href="oci-REF-functions.html#GUID-14FAE208-53C4-4542-BD81-1A2093D2AD93" title="将一个REF分配给另一个，这样两者都引用同一个对象。">OCIRefAssign（）</a></pre></td>
                              <td align="left" valign="top" width="43%" headers="d144684e1577 d144684e1458 "><pre class="oac_no_warn" dir="ltr">OCIRef *</pre></td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d144684e1595" headers="d144684e1452 "><pre class="oac_no_warn" dir="ltr">OCIString</pre></td>
                              <td align="left" valign="top" width="34%" headers="d144684e1595 d144684e1455 "><pre class="oac_no_warn" dir="ltr"><a href="oci-string-functions.html#GUID-DBDAB2D9-4E78-4752-85B6-55D30CA6AF30" title="获取给定字符串的大小">OCIStringSize（）</a></pre></td>
                              <td align="left" valign="top" width="43%" headers="d144684e1595 d144684e1458 "><pre class="oac_no_warn" dir="ltr">OCIString *</pre></td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d144684e1613" headers="d144684e1452 "><pre class="oac_no_warn" dir="ltr">OCITable</pre></td>
                              <td align="left" valign="top" width="34%" headers="d144684e1613 d144684e1455 "><pre class="oac_no_warn" dir="ltr"><a href="oci-table-functions.html#GUID-39B3CE36-117E-4ACB-8FD2-D24A660D32E1" title="返回表的最后一个现有元素的索引。">OCITableLast（）</a></pre></td>
                              <td align="left" valign="top" width="43%" headers="d144684e1613 d144684e1458 "><pre class="oac_no_warn" dir="ltr">OCITable *</pre></td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p>本章后面将介绍每种数据类型的结构，以及操作该类型的函数列表。</p>
                  <p>本节包括以下主题： <a href="object-relational-data-types-in-oci.html#GUID-6FF2A269-FDFB-48CF-88C5-B0D9C5B137FC" title="Oracle数字的精度为38位十进制数。">Oracle编号操作的精度</a> 。
                  </p>
               </div><a id="LNOCI16837"></a><div class="props_rev_3"><a id="GUID-6FF2A269-FDFB-48CF-88C5-B0D9C5B137FC" name="GUID-6FF2A269-FDFB-48CF-88C5-B0D9C5B137FC"></a><h4 id="LNOCI-GUID-6FF2A269-FDFB-48CF-88C5-B0D9C5B137FC" class="sect4"><span class="enumeration_section">20.3.1</span> Oracle编号操作的精度</h4>
                  <div>
                     <p>Oracle数字的精度为38位十进制数。</p>
                     <p>所有Oracle编号操作都精确到完全精度，但以下情况除外：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>反三角函数精确到28位十进制数。</p>
                        </li>
                        <li>
                           <p>其他超越函数，包括三角函数，精确到大约37个十进制数字。</p>
                        </li>
                        <li>
                           <p>与本机浮点类型之间的转换具有相关浮点类型的精度，不超过38个十进制数字。</p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="LNOCI16838"></a><div class="props_rev_3"><a id="GUID-97999BC9-BC69-44AE-ACE1-CD077BAC37D0" name="GUID-97999BC9-BC69-44AE-ACE1-CD077BAC37D0"></a><h3 id="LNOCI-GUID-97999BC9-BC69-44AE-ACE1-CD077BAC37D0" class="sect3"><span class="enumeration_section">20。4</span>日期（OCIDate）</h3>
               <div>
                  <p>Oracle日期格式由<code class="codeph">OCIDate</code>类型映射到C，这是一个不透明的C结构。结构的元素表示日期的年，月，日，小时，分钟和秒。
                  </p>
                  <p>可以使用适当的OCI函数设置和检索特定元素。</p>
                  <p>可以使用bind或define调用中的外部类型代码<code class="codeph">SQLT_ODT</code>直接绑定或定义<code class="codeph">OCIDate</code>数据类型。
                  </p>
                  <p>除非另有说明，否则这些函数调用中的术语<span class="italic">日期</span>指的是<code class="codeph">OCIDate</code>类型的值。
                  </p>
                  <div class="infoboxnotealso" id="GUID-97999BC9-BC69-44AE-ACE1-CD077BAC37D0__GUID-BDD13386-D4D1-4FB2-9911-B12F62616D7E">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="oci-data-type-mapping-and-manipulation-functions.html#GUID-B94C677C-E38D-4231-BF8C-DCDC203BAEF5" title="本章介绍OCI数据类型映射和操作函数。">OCI数据类型映射和操作函数</a>用于原型和所有函数的描述</p>
                  </div>
                  <p>本节包括以下主题： <a href="object-relational-data-types-in-oci.html#GUID-D2E1D482-F2CD-4D26-AB01-FF28AA3117B2" title="演示如何使用OCI调用操作OCIDate类型的属性。">日期示例</a> 。
                  </p>
               </div><a id="LNOCI72707"></a><a id="LNOCI16839"></a><div class="props_rev_3"><a id="GUID-D2E1D482-F2CD-4D26-AB01-FF28AA3117B2" name="GUID-D2E1D482-F2CD-4D26-AB01-FF28AA3117B2"></a><h4 id="LNOCI-GUID-D2E1D482-F2CD-4D26-AB01-FF28AA3117B2" class="sect4"><span class="enumeration_section">20。4。1</span>日期示例</h4>
                  <div>
                     <p>演示如何使用OCI调用操作<code class="codeph">OCIDate</code>类型的属性。
                     </p>
                     <div class="section">
                        <p><a href="object-relational-data-types-in-oci.html#GUID-D2E1D482-F2CD-4D26-AB01-FF28AA3117B2__BGBFJEFJ">例20-1</a>提供了如何使用OCI调用操作<code class="codeph">OCIDate</code>类型的属性的<code class="codeph">OCIDate</code> 。对于此示例，假设已初始化<code class="codeph">OCIEnv</code>和<code class="codeph">OCIError</code> 。
                        </p>
                        <p>输出是：</p><pre class="oac_no_warn" dir="ltr">对于：1990年10月5日星期五，本月的最后一天是：1990年10月31日星期三下一个星期三是：1990年10月10日星期三</pre></div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-D2E1D482-F2CD-4D26-AB01-FF28AA3117B2__BGBFJEFJ">
                        <p class="titleinexample">例20-1操作类型OCIDate的属性</p><pre class="oac_no_warn" dir="ltr">#define FMT“DAY，MONTH DD，YYYY”#define LANG“American”struct person {OCIDate start_date; }; typedef struct person person; OCIError *错误;人*蒂姆;剑的地位; / *错误状态* / uword无效; OCIDate last_day，next_day; text buf [100]，last_day_buf [100]，next_day_buf [100]; ub4 buflen = sizeof（buf）; / * Pin tim person对象在对象缓存中。* / / *对于此示例，假设/ * tim指向固定对象。* / / *设置tim * / OCIDateSetTime的开始日期（＆tim-&gt; start_date，8,0,0）; OCIDateSetDate（做为计时&gt;起始日期，1990,10,5）; / *检查日期是否有效* / if（OCIDateCheck（错误，＆tim-&gt; start_date，＆invalid）！= OCI_SUCCESS）/ *错误处理代码* / if（无效）/ *错误处理代码* / / *获取start_date的月份的最后一天* / if（OCIDateLastDay（错误，＆tim-&gt; start_date，＆last_day）！= OCI_SUCCESS）/ *错误处理代码* / / *获取下一个指定日期的日期* / if（OCIDateNextDay（错误，＆tim-&gt; start_date，“Wednesday”，strlen（“Wednesday”）和next_day）！= OCI_SUCCESS）/ *错误处理代码* / / *将日期转换为字符串并打印信息* / / *首先转换日期本身* / buflen = sizeof（buf）; if（OCIDateToText（错误，＆tim-&gt; start_date，FMT，sizeof（FMT）-1，LANG，sizeof（LANG）-1，＆buflen，buf）！= OCI_SUCCESS）/ *错误处理代码* / / *现在是一个月的最后一天* / buflen = sizeof（last_day_buf）; if（OCIDateToText（错误，＆last_day，FMT，sizeof（FMT）-1，LANG，sizeof（LANG）-1，＆buflen，last_day_buf）！= OCI_SUCCESS）/ *错误处理代码* / / *现在是此日期之后的第一个星期三* / buflen = sizeof（next_day_buf）; if（OCIDateToText（错误，＆next_day，FMT，sizeof（FMT）-1，LANG，sizeof（LANG）-1，＆buflen，next_day_buf）！= OCI_SUCCESS）/ *错误处理代码* / / *打印信息* / printf（“For：％s \ n”，buf）; printf（“该月的最后一天是：％s \ n”，last_day_buf）; printf（“下周三是：％s \ n”，next_day_buf）;</pre></div>
                     <!-- class="example" -->
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-D2E1D482-F2CD-4D26-AB01-FF28AA3117B2__GUID-54A49194-2044-43DC-9FC9-F9798AD2AB82">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><a href="oci-programming-basics.html#GUID-BA2B78A2-A855-4116-8ADC-13BFA1ADEAB3" title="本节介绍如何初始化OCI环境，建立与服务器的连接以及授权用户对数据库执行操作。">OCI环境初始化</a>有关初始化<code class="codeph">OCIEnv</code>和<code class="codeph">OCIError</code> 
                                 </p>
                              </li>
                              <li>
                                 <p><a href="object-advanced-topics-in-oci.html#GUID-ACA41D5E-CA18-4526-8723-66E4B7BAAEA1" title="本节介绍对象缓存为对象副本操作提供的最重要的功能。">对象缓存操作</a>有关固定的信息。
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="LNOCI16841"></a><a id="LNOCI16840"></a><div class="props_rev_3"><a id="GUID-BE008B9E-1CC3-4168-881F-1CE5E95778AE" name="GUID-BE008B9E-1CC3-4168-881F-1CE5E95778AE"></a><h3 id="LNOCI-GUID-BE008B9E-1CC3-4168-881F-1CE5E95778AE" class="sect3"><span class="enumeration_section">20。5</span>日期时间和间隔（OCIDateTime，OCIInterval）</h3>
               <div>
                  <p><code class="codeph">OCIDateTime</code>数据类型是一个不透明的结构，用于表示Oracle时间戳数据类型（ <code class="codeph">TIMESTAMP</code> ， <code class="codeph">TIMESTAMP</code> <code class="codeph">WITH</code> <code class="codeph">TIME</code> <code class="codeph">ZONE</code> ， <code class="codeph">TIMESTAMP</code> <code class="codeph">WITH</code> <code class="codeph">LOCAL</code> <code class="codeph">TIME</code> <code class="codeph">ZONE</code> ）和<code class="codeph">ANSI DATE</code>数据类型。
                  </p>
                  <p>您可以使用适当的OCI函数设置或检索这些类型的数据（即年，日，小数秒）。</p>
                  <p><code class="codeph">OCIInterval</code>数据类型也是一个不透明的结构，用于表示Oracle间隔数据类型（ <code class="codeph">INTERVAL</code> <code class="codeph">YEAR</code> <code class="codeph">TO</code> <code class="codeph">MONTH</code> ， <code class="codeph">INTERVAL</code> <code class="codeph">DAY</code> <code class="codeph">TO</code> <code class="codeph">SECOND</code> ）。
                  </p>
                  <p>您可以使用绑定或定义调用中的<a href="object-relational-data-types-in-oci.html#GUID-BE008B9E-1CC3-4168-881F-1CE5E95778AE__BGBJBCDC" title="该表有3列。第1列是日期时间或间隔OCI数据类型名称，第2列是Oracle时间戳数据类型名称，第3列是用于绑定和定义的相应外部类型代码。">表20-2</a>中所示的以下外部类型代码绑定和定义<code class="codeph">OCIDateTime</code>和<code class="codeph">OCIInterval</code>数据。
                  </p>
                  <div class="tblformal" id="GUID-BE008B9E-1CC3-4168-881F-1CE5E95778AE__BGBJBCDC">
                     <p class="titleintable">表20-2绑定和定义日期时间和间隔数据类型</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="绑定和定义日期时间和间隔数据类型" width="100%" border="1" summary="This table has 3 columns. Column 1 is the datetime or interval OCI data type name, column 2 is the Oracle time-stamp data type name, and column 3 is the corresponding external typecode for binding and defining. " frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="34%" id="d144684e2592">OCI数据类型</th>
                              <th align="left" valign="bottom" width="27%" id="d144684e2595">数据类型</th>
                              <th align="left" valign="bottom" width="39%" id="d144684e2598">用于绑定/定义的外部类型代码</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d144684e2603" headers="d144684e2592 "><pre class="oac_no_warn" dir="ltr">OCIDateTime</pre></td>
                              <td align="left" valign="top" width="27%" headers="d144684e2603 d144684e2595 ">
                                 <p>ANSI日期</p>
                              </td>
                              <td align="left" valign="top" width="39%" headers="d144684e2603 d144684e2598 ">
                                 <p>SQLT_DATE</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d144684e2613" headers="d144684e2592 "><pre class="oac_no_warn" dir="ltr">OCIDateTime</pre></td>
                              <td align="left" valign="top" width="27%" headers="d144684e2613 d144684e2595 ">
                                 <p>TIMESTAMP</p>
                              </td>
                              <td align="left" valign="top" width="39%" headers="d144684e2613 d144684e2598 ">
                                 <p>SQLT_TIMESTAMP</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d144684e2623" headers="d144684e2592 "><pre class="oac_no_warn" dir="ltr">OCIDateTime</pre></td>
                              <td align="left" valign="top" width="27%" headers="d144684e2623 d144684e2595 ">
                                 <p>TIMESTAMP与时区</p>
                              </td>
                              <td align="left" valign="top" width="39%" headers="d144684e2623 d144684e2598 ">
                                 <p>SQLT_TIMESTAMP_TZ</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d144684e2633" headers="d144684e2592 "><pre class="oac_no_warn" dir="ltr">OCIDateTime</pre></td>
                              <td align="left" valign="top" width="27%" headers="d144684e2633 d144684e2595 ">
                                 <p>TIMESTAMP与当地时区</p>
                              </td>
                              <td align="left" valign="top" width="39%" headers="d144684e2633 d144684e2598 ">
                                 <p>SQLT_TIMESTAMP_LTZ</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d144684e2643" headers="d144684e2592 "><pre class="oac_no_warn" dir="ltr">OCIInterval</pre></td>
                              <td align="left" valign="top" width="27%" headers="d144684e2643 d144684e2595 ">
                                 <p>间隔年至月</p>
                              </td>
                              <td align="left" valign="top" width="39%" headers="d144684e2643 d144684e2598 ">
                                 <p>SQLT_INTERVAL_YM</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d144684e2653" headers="d144684e2592 "><pre class="oac_no_warn" dir="ltr">OCIInterval</pre></td>
                              <td align="left" valign="top" width="27%" headers="d144684e2653 d144684e2595 ">
                                 <p>间隔第二天</p>
                              </td>
                              <td align="left" valign="top" width="39%" headers="d144684e2653 d144684e2598 ">
                                 <p>SQLT_INTERVAL_DS</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p>一般来说，在操作功能<code class="codeph">OCIDateTime</code>数据也适用于<code class="codeph">OCIDate</code>数据。
                  </p>
                  <div class="p">本节包括以下主题：<ul style="list-style-type:disc">
                        <li>
                           <p><a href="object-relational-data-types-in-oci.html#GUID-4CE74470-CF8E-44E0-8984-2B154D0E29AC" title="列出并描述了对OCIDateTime值进行操作的函数。">关于日期时间函数</a></p>
                        </li>
                        <li>
                           <p><a href="object-relational-data-types-in-oci.html#GUID-D385A7B7-BDC8-4542-B307-95FE42E6C185" title="演示如何使用OCIDateTime数据类型从TIMESTAMP WITH LOCAL TIME ZONE列中选择数据。">日期时间示例</a></p>
                        </li>
                        <li>
                           <p><a href="object-relational-data-types-in-oci.html#GUID-002B17F4-16C6-48DD-AD3C-4609078312C1" title="列出并描述间隔功能。">关于区间函数</a></p>
                        </li>
                     </ul>
                  </div>
                  <div class="infoboxnotealso" id="GUID-BE008B9E-1CC3-4168-881F-1CE5E95778AE__GUID-4863DB1F-C8E3-498C-8EF5-A7B114334EF4">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>有关对日期时间和间隔数据进行操作的OCI功能的信息，请<a href="object-relational-data-types-in-oci.html#GUID-4CE74470-CF8E-44E0-8984-2B154D0E29AC__BGBFHBDD" title="该表有2列。第1列是OCI日期时间函数名称，第2列描述其用途。">参见表20-3</a>和<a href="object-relational-data-types-in-oci.html#GUID-002B17F4-16C6-48DD-AD3C-4609078312C1__BGBDAIGI" title="该表有2列。第1列是OCI间隔函数名称，第2列描述其用途。">表20-4</a></p>
                        </li>
                        <li>
                           <p><a href="oci-date-datetime-and-interval-functions.html#GUID-32FD5ADE-158D-4603-A693-91798A1BD467" title="Lists and describes the OCI date and interval functions.">OCI日期，日期时间和间隔函数，</a>以获取有关日期<a href="oci-date-datetime-and-interval-functions.html#GUID-32FD5ADE-158D-4603-A693-91798A1BD467" title="列出并描述OCI日期和间隔功能。">时间和间隔函数</a>的更多详细信息</p>
                        </li>
                     </ul>
                  </div>
               </div><a id="LNOCI16843"></a><a id="LNOCI16842"></a><div class="props_rev_3"><a id="GUID-4CE74470-CF8E-44E0-8984-2B154D0E29AC" name="GUID-4CE74470-CF8E-44E0-8984-2B154D0E29AC"></a><h4 id="LNOCI-GUID-4CE74470-CF8E-44E0-8984-2B154D0E29AC" class="sect4"><span class="enumeration_section">20.5.1</span>关于日期时间函数</h4>
                  <div>
                     <p>列出并描述了对<code class="codeph">OCIDateTime</code>值进行操作的函数。
                     </p>
                     <p>以下函数对<code class="codeph">OCIDateTime</code>值进行操作。其中一些函数还对日期时间和间隔值执行算术运算。某些功能可能仅适用于某些日期时间类型。可能的类型是：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">SQLT_DATE</code> - <code class="codeph">DATE</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">SQLT_TIMESTAMP</code> - <code class="codeph">TIMESTAMP</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">SQLT_TIMESTAMP_TZ</code> - <code class="codeph">TIMESTAMP</code> <code class="codeph">WITH</code> <code class="codeph">TIME</code> <code class="codeph">ZONE</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">SQLT_TIMESTAMP_LTZ</code> - <code class="codeph">TIMESTAMP</code> <code class="codeph">WITH</code> <code class="codeph">LOCAL</code> <code class="codeph">TIME</code> <code class="codeph">ZONE</code></p>
                        </li>
                     </ul>
                     <p>有关对特定函数有效的输入类型的详细信息，请参阅<a href="object-relational-data-types-in-oci.html#GUID-4CE74470-CF8E-44E0-8984-2B154D0E29AC__BGBFHBDD" title="该表有2列。第1列是OCI日期时间函数名称，第2列描述其用途。">表20-3中</a>列出的各个函数说明。
                     </p>
                     <div class="tblformal" id="GUID-4CE74470-CF8E-44E0-8984-2B154D0E29AC__BGBFHBDD">
                        <p class="titleintable">表20  -  3日期时间函数</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="日期时间功能" width="100%" border="1" summary="This table has 2 columns. Column 1 is the OCI datetime function name and column 2 describes its purpose." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="71%" id="d144684e2986">功能</th>
                                 <th align="left" valign="bottom" width="29%" id="d144684e2989">目的</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="71%" id="d144684e2994" headers="d144684e2986 ">
                                    <p><a href="oci-date-datetime-and-interval-functions.html#GUID-3B02C8CC-F35C-422F-B35C-47765C998E57" title="执行日期时间分配。">OCIDateTimeAssign（）</a></p>
                                 </td>
                                 <td align="left" valign="top" width="29%" headers="d144684e2994 d144684e2989 ">
                                    <p>执行日期时间分配</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="71%" id="d144684e3006" headers="d144684e2986 ">
                                    <p><a href="oci-date-datetime-and-interval-functions.html#GUID-5C2A63E3-85EC-4346-A636-33B9B4CCBA41" title="检查给定日期是否有效。">OCIDateTimeCheck（）</a></p>
                                 </td>
                                 <td align="left" valign="top" width="29%" headers="d144684e3006 d144684e2989 ">
                                    <p>检查给定日期是否有效</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="71%" id="d144684e3018" headers="d144684e2986 ">
                                    <p><a href="oci-date-datetime-and-interval-functions.html#GUID-5FFD4B08-30E1-461E-8E55-940787D6D8EC" title="比较两个日期时间值。">OCIDateTimeCompare（）</a></p>
                                 </td>
                                 <td align="left" valign="top" width="29%" headers="d144684e3018 d144684e2989 ">
                                    <p>比较两个日期时间值</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="71%" id="d144684e3030" headers="d144684e2986 ">
                                    <p><a href="oci-date-datetime-and-interval-functions.html#GUID-FC053036-BE93-42D7-A82C-4DDB6843E167" title="构造一个datetime描述符。">OCIDateTimeConstruct（）</a></p>
                                 </td>
                                 <td align="left" valign="top" width="29%" headers="d144684e3030 d144684e2989 ">
                                    <p>构造一个datetime描述符</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="71%" id="d144684e3042" headers="d144684e2986 ">
                                    <p><a href="oci-date-datetime-and-interval-functions.html#GUID-744793B2-CD2F-47AC-825A-6FF5BEE12BAB" title="将一个日期时间类型转换为另一个。">OCIDateTimeConvert（）</a></p>
                                 </td>
                                 <td align="left" valign="top" width="29%" headers="d144684e3042 d144684e2989 ">
                                    <p>将一个日期时间类型转换为另一个</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="71%" id="d144684e3054" headers="d144684e2986 ">
                                    <p><a href="oci-date-datetime-and-interval-functions.html#GUID-16189076-75E9-4B46-B418-89CD8DDB42EA" title="将包含日期的数组转换为OCIDateTime描述符。">OCIDateTimeFromArray（）</a></p>
                                 </td>
                                 <td align="left" valign="top" width="29%" headers="d144684e3054 d144684e2989 ">
                                    <p>将包含日期的数组转换为<code class="codeph">OCIDateTime</code>描述符</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="71%" id="d144684e3072" headers="d144684e2986 ">
                                    <p><a href="oci-date-datetime-and-interval-functions.html#GUID-1A453A79-4EEF-462D-B4B3-45820F9EEA4C" title="根据指定的格式，将给定字符串转换为OCIDateTime描述符中的Oracle日期时间类型。">OCIDateTimeFromText（）</a></p>
                                 </td>
                                 <td align="left" valign="top" width="29%" headers="d144684e3072 d144684e2989 ">
                                    <p>根据指定的格式，将给定字符串转换为<code class="codeph">OCIDateTime</code>描述符中的Oracle datetime类型</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="71%" id="d144684e3090" headers="d144684e2986 ">
                                    <p><a href="oci-date-datetime-and-interval-functions.html#GUID-FE6F9482-913D-43FD-BE5A-FCD9FA7B83AD" title="获取日期时间值的日期（年，月，日）部分。">OCIDateTimeGetDate（）</a></p>
                                 </td>
                                 <td align="left" valign="top" width="29%" headers="d144684e3090 d144684e2989 ">
                                    <p>获取日期时间值的日期（年，月，日）部分</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="71%" id="d144684e3102" headers="d144684e2986 ">
                                    <p><a href="oci-date-datetime-and-interval-functions.html#GUID-D935ABA2-DEEA-4ABA-AA9C-C27E3E5AC1FD" title="获取日期时间值的时间（小时，分钟，秒，小数秒）。">OCIDateTimeGetTime（）</a></p>
                                 </td>
                                 <td align="left" valign="top" width="29%" headers="d144684e3102 d144684e2989 ">
                                    <p>获取datetime值的时间（小时，分钟，秒，小数秒）</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="71%" id="d144684e3114" headers="d144684e2986 ">
                                    <p><a href="oci-date-datetime-and-interval-functions.html#GUID-489C51F6-43DB-43DB-980F-2A42AFAFB332" title="获取datetime值的时区名称部分。">OCIDateTimeGetTimeZoneName（）</a></p>
                                 </td>
                                 <td align="left" valign="top" width="29%" headers="d144684e3114 d144684e2989 ">
                                    <p>获取datetime值的时区名称部分</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="71%" id="d144684e3126" headers="d144684e2986 ">
                                    <p><a href="oci-date-datetime-and-interval-functions.html#GUID-B8DA860B-FD7D-481B-8347-156969B6EE04" title="获取日期时间值的时区（小时，分钟）部分。">OCIDateTimeGetTimeZoneOffset（）</a></p>
                                 </td>
                                 <td align="left" valign="top" width="29%" headers="d144684e3126 d144684e2989 ">
                                    <p>获取日期时间值的时区（小时，分钟）部分</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="71%" id="d144684e3139" headers="d144684e2986 ">
                                    <p><a href="oci-date-datetime-and-interval-functions.html#GUID-810C6FB3-9B81-4A7C-9B5B-5D2D93B781FA" title="将时间间隔添加到日期时间以生成结果日期时间。">OCIDateTimeIntervalAdd（）</a></p>
                                 </td>
                                 <td align="left" valign="top" width="29%" headers="d144684e3139 d144684e2989 ">
                                    <p>将时间间隔添加到日期时间以生成结果日期时间</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="71%" id="d144684e3151" headers="d144684e2986 ">
                                    <p><a href="oci-date-datetime-and-interval-functions.html#GUID-DEDBFEF5-52DD-4036-93FE-C21B6ED4E8A5" title="从日期时间中减去间隔，并将结果存储在日期时间中。">OCIDateTimeIntervalSub（）</a></p>
                                 </td>
                                 <td align="left" valign="top" width="29%" headers="d144684e3151 d144684e2989 ">
                                    <p>从日期时间中减去间隔，并将结果存储在日期时间中</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="71%" id="d144684e3163" headers="d144684e2986 ">
                                    <p><a href="oci-date-datetime-and-interval-functions.html#GUID-BD2F6432-81FF-4CD6-9C3D-85E401894528" title="将两个日期时间作为输入并将其差异存储在一个间隔中。">OCIDateTimeSubtract（）</a></p>
                                 </td>
                                 <td align="left" valign="top" width="29%" headers="d144684e3163 d144684e2989 ">
                                    <p>将两个日期时间作为输入并将其差异存储在一个间隔中</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="71%" id="d144684e3175" headers="d144684e2986 ">
                                    <p><a href="oci-date-datetime-and-interval-functions.html#GUID-086776F8-1153-417D-ABC6-A864A2A62788" title="获取系统当前日期和时间作为带时区的时间戳。">OCIDateTimeSysTimeStamp（）</a></p>
                                 </td>
                                 <td align="left" valign="top" width="29%" headers="d144684e3175 d144684e2989 ">
                                    <p>获取系统当前日期和时间作为带时区的时间戳</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="71%" id="d144684e3187" headers="d144684e2986 ">
                                    <p><a href="oci-date-datetime-and-interval-functions.html#GUID-DCA1CF9E-AF92-42E1-B784-8BFC0C9FF8BE" title="将OCIDateTime描述符转换为数组。">OCIDateTimeToArray（）</a></p>
                                 </td>
                                 <td align="left" valign="top" width="29%" headers="d144684e3187 d144684e2989 ">
                                    <p>将<code class="codeph">OCIDateTime</code>描述符转换为数组</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="71%" id="d144684e3205" headers="d144684e2986 ">
                                    <p><a href="oci-date-datetime-and-interval-functions.html#GUID-828401C8-8E88-4C53-A66A-24901CCF93C6" title="根据指定的格式将给定日期转换为字符串。">OCIDateTimeToText（）</a></p>
                                 </td>
                                 <td align="left" valign="top" width="29%" headers="d144684e3205 d144684e2989 ">
                                    <p>根据指定的格式将给定日期转换为字符串</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="71%" id="d144684e3217" headers="d144684e2986 ">
                                    <p><a href="oci-date-datetime-and-interval-functions.html#GUID-CC4F8554-6B58-4709-814E-37FE57A56959" title="将日期从一个时区转换为另一个时区。">OCIDateZoneToZone（）</a></p>
                                 </td>
                                 <td align="left" valign="top" width="29%" headers="d144684e3217 d144684e2989 ">
                                    <p>将日期从一个时区转换为另一个时区</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
               </div><a id="LNOCI72708"></a><a id="LNOCI16844"></a><div class="props_rev_3"><a id="GUID-D385A7B7-BDC8-4542-B307-95FE42E6C185" name="GUID-D385A7B7-BDC8-4542-B307-95FE42E6C185"></a><h4 id="LNOCI-GUID-D385A7B7-BDC8-4542-B307-95FE42E6C185" class="sect4"><span class="enumeration_section">20。5。5</span>日期时间示例</h4>
                  <div>
                     <p>演示如何使用<code class="codeph">OCIDateTime</code>数据类型从<code class="codeph">TIMESTAMP WITH LOCAL TIME ZONE</code>列中选择数据。
                     </p>
                     <div class="section">
                        <p><a href="object-relational-data-types-in-oci.html#GUID-D385A7B7-BDC8-4542-B307-95FE42E6C185__BGBEHEBE">例20-2</a>中的代码片段显示了如何使用<code class="codeph">OCIDateTime</code>数据类型从<code class="codeph">TIMESTAMP WITH LOCAL TIME ZONE</code>列中选择数据。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-D385A7B7-BDC8-4542-B307-95FE42E6C185__BGBEHEBE">
                        <p class="titleinexample">例20-2操作类型OCIDateTime的属性</p><pre class="oac_no_warn" dir="ltr">.../ *分配程序变量用于存储数据* / OCIDateTime * tstmpltz =（OCIDateTime *）NULL; / * Col1是带有本地时区列的时间戳* / OraText * sqlstmt =（OraText *）“SELECT col1 FROM foo”; / *分配数据类型的描述符（存储）* / status = OCIDescriptorAlloc（envhp，（void **）＆tstmpltz，OCI_DTYPE_TIMESTAMP_LTZ，0，（void **）0）; ....status = OCIStmtPrepare（stmthp，errhp，sqlstmt，（ub4）strlen（（char *）sqlstmt），（ub4）OCI_NTV_SYNTAX，（ub4）OCI_DEFAULT）; / *指定col1的定义缓冲区* / status = OCIDefineByPos（stmthp，＆defnp，errhp，1，＆tstmpltz，sizeof（tstmpltz），SQLT_TIMESTAMP_LTZ，0,0,0，OCI_DEFAULT）; / *执行和获取* / OCIStmtExecute（svchp，stmthp，errhp，1,0，（OCISnapshot *）NULL，（OCISnapshot *）NULL，OCI_DEFAULT）此时tstmpltz包含带有本地时区数据的有效时间戳。您可以使用以下命令获取日期时间数据的时区名称：status = OCIDateTimeGetTimeZoneName（envhp，errhp，tstmpltz，（ub1 *）buf，（ub4 *）＆buflen）; ...</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="LNOCI16846"></a><a id="LNOCI16845"></a><div class="props_rev_3"><a id="GUID-002B17F4-16C6-48DD-AD3C-4609078312C1" name="GUID-002B17F4-16C6-48DD-AD3C-4609078312C1"></a><h4 id="LNOCI-GUID-002B17F4-16C6-48DD-AD3C-4609078312C1" class="sect4"><span class="enumeration_section">20.5.3</span>关于间隔函数</h4>
                  <div>
                     <p>列出并描述间隔功能。</p>
                     <p><a href="object-relational-data-types-in-oci.html#GUID-002B17F4-16C6-48DD-AD3C-4609078312C1__BGBDAIGI" title="该表有2列。第1列是OCI间隔函数名称，第2列描述其用途。">表20-4中</a>列出的功能仅适用于间隔数据。在某些情况下，有必要指定所涉及的间隔类型。可能的类型包括：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">SQLT_INTERVAL_YM</code> - 年份间隔</p>
                        </li>
                        <li>
                           <p><code class="codeph">SQLT_INTERVAL_DS</code> - 间隔天数到秒</p>
                        </li>
                     </ul>
                     <p>有关更多详细信息，请参阅各个功能说明。</p>
                     <div class="tblformal" id="GUID-002B17F4-16C6-48DD-AD3C-4609078312C1__BGBDAIGI">
                        <p class="titleintable">表20-4间隔函数</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="区间函数" width="100%" border="1" summary="This table has 2 columns. Column 1 is the OCI interval function name and column 2 describes its purpose." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="71%" id="d144684e3653">功能</th>
                                 <th align="left" valign="bottom" width="29%" id="d144684e3656">目的</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="71%" id="d144684e3661" headers="d144684e3653 ">
                                    <p><a href="oci-date-datetime-and-interval-functions.html#GUID-0E4AF4DD-5EEB-434D-BA3A-F4EDE7038FF5" title="添加两个间隔以生成结果间隔。">OCIIntervalAdd（）</a></p>
                                 </td>
                                 <td align="left" valign="top" width="29%" headers="d144684e3661 d144684e3656 ">
                                    <p>添加两个间隔以生成结果间隔</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="71%" id="d144684e3672" headers="d144684e3653 ">
                                    <p><a href="oci-date-datetime-and-interval-functions.html#GUID-A218E261-3D40-4B69-AD64-41B697A18C98" title="将一个间隔复制到另一个间隔。">OCIIntervalAssign（）</a></p>
                                 </td>
                                 <td align="left" valign="top" width="29%" headers="d144684e3672 d144684e3656 ">
                                    <p>将一个间隔复制到另一个间隔</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="71%" id="d144684e3683" headers="d144684e3653 ">
                                    <p><a href="oci-date-datetime-and-interval-functions.html#GUID-90BA159E-79AE-47C6-844C-41BB5ADFEBD3" title="检查间隔的有效性。">OCIIntervalCheck（）</a></p>
                                 </td>
                                 <td align="left" valign="top" width="29%" headers="d144684e3683 d144684e3656 ">
                                    <p>检查间隔的有效性</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="71%" id="d144684e3694" headers="d144684e3653 ">
                                    <p><a href="oci-date-datetime-and-interval-functions.html#GUID-CCE310E5-C75E-4EDD-9B52-9CED37BDFEFF" title="比较两个间隔。">OCIIntervalCompare（）</a></p>
                                 </td>
                                 <td align="left" valign="top" width="29%" headers="d144684e3694 d144684e3656 ">
                                    <p>比较两个间隔</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="71%" id="d144684e3705" headers="d144684e3653 ">
                                    <p><a href="oci-date-datetime-and-interval-functions.html#GUID-16880D01-45BE-43A3-9CF2-AEAE07B64A6B" title="将间隔除以Oracle NUMBER以产生间隔。">OCIIntervalDivide（）</a></p>
                                 </td>
                                 <td align="left" valign="top" width="29%" headers="d144684e3705 d144684e3656 ">
                                    <p>将间隔除以Oracle <code class="codeph">NUMBER</code>以产生间隔</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="71%" id="d144684e3722" headers="d144684e3653 ">
                                    <p><a href="oci-date-datetime-and-interval-functions.html#GUID-1F8A4B39-9EA5-4CEF-9468-079E4203B68D" title="将Oracle NUMBER转换为间隔。">OCIIntervalFromNumber（）</a></p>
                                 </td>
                                 <td align="left" valign="top" width="29%" headers="d144684e3722 d144684e3656 ">
                                    <p>将Oracle <code class="codeph">NUMBER</code>转换为间隔</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="71%" id="d144684e3739" headers="d144684e3653 ">
                                    <p><a href="oci-date-datetime-and-interval-functions.html#GUID-247BB9B8-307B-4132-A1ED-5CA658B0DAA6" title="给定间隔字符串时，返回字符串表示的间隔。间隔的类型是结果描述符的类型。">OCIIntervalFromText（）</a></p>
                                 </td>
                                 <td align="left" valign="top" width="29%" headers="d144684e3739 d144684e3656 ">
                                    <p>给定间隔字符串时，转换字符串表示的间隔</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="71%" id="d144684e3753" headers="d144684e3653 ">
                                    <p><a href="oci-date-datetime-and-interval-functions.html#GUID-12B19818-0001-42F1-8B2C-FD96B7C3231C" title="返回数据类型为OCIInterval的OCI_DTYPE_INTERVAL_DS，其中区域ID已设置（如果在输入字符串中指定了区域）和当前绝对偏移量，或者区域ID设置为0的绝对偏移量。">OCIIntervalFromTZ（）</a></p>
                                 </td>
                                 <td align="left" valign="top" width="29%" headers="d144684e3753 d144684e3656 ">
                                    <p>给定时区形式的输入字符串时返回间隔</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="71%" id="d144684e3770" headers="d144684e3653 ">
                                    <p><a href="oci-date-datetime-and-interval-functions.html#GUID-210C4C25-3E8D-4F6D-9502-20B258DACA60" title="获取间隔中的日，小时，分钟和秒的值。">OCIIntervalGetDaySecond（）</a></p>
                                 </td>
                                 <td align="left" valign="top" width="29%" headers="d144684e3770 d144684e3656 ">
                                    <p>获取间隔中的日，小时，分钟和秒的值</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="71%" id="d144684e3781" headers="d144684e3653 ">
                                    <p><a href="oci-date-datetime-and-interval-functions.html#GUID-665EFBF6-5032-4BD3-B7A3-1C35C2D5A6B7" title="从间隔获取年份和月份。">OCIIntervalGetYearMonth（）</a></p>
                                 </td>
                                 <td align="left" valign="top" width="29%" headers="d144684e3781 d144684e3656 ">
                                    <p>从间隔获取年份和月份</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="71%" id="d144684e3792" headers="d144684e3653 ">
                                    <p><a href="oci-date-datetime-and-interval-functions.html#GUID-4DBA1745-E675-4774-99AB-DEE2A1FC3788" title="将间隔乘以Oracle NUMBER以生成间隔。">OCIIntervalMultiply（）</a></p>
                                 </td>
                                 <td align="left" valign="top" width="29%" headers="d144684e3792 d144684e3656 ">
                                    <p>将间隔乘以Oracle <code class="codeph">NUMBER</code>以生成间隔</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="71%" id="d144684e3810" headers="d144684e3653 ">
                                    <p><a href="oci-date-datetime-and-interval-functions.html#GUID-303A876B-E1EA-4AF8-8BD1-FC133C5F3F84" title="在一个间隔中设置日，小时，分钟和秒。">OCIIntervalSetDaySecond（）</a></p>
                                 </td>
                                 <td align="left" valign="top" width="29%" headers="d144684e3810 d144684e3656 ">
                                    <p>在一个间隔中设置日，小时，分钟和秒</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="71%" id="d144684e3821" headers="d144684e3653 ">
                                    <p><a href="oci-date-datetime-and-interval-functions.html#GUID-07D8A23E-58E2-420B-B4CA-EF37420F7549" title="设置间隔中的年份和月份。">OCIIntervalSetYearMonth（）</a></p>
                                 </td>
                                 <td align="left" valign="top" width="29%" headers="d144684e3821 d144684e3656 ">
                                    <p>设置间隔中的年份和月份</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="71%" id="d144684e3832" headers="d144684e3653 ">
                                    <p><a href="oci-date-datetime-and-interval-functions.html#GUID-2D0465BC-B8EA-4F41-B200-587F49D0B2CB" title="减去两个间隔并将结果存储在一个间隔中。">OCIIntervalSubtract（）</a></p>
                                 </td>
                                 <td align="left" valign="top" width="29%" headers="d144684e3832 d144684e3656 ">
                                    <p>减去两个间隔并将结果存储在一个间隔中</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="71%" id="d144684e3843" headers="d144684e3653 ">
                                    <p><a href="oci-date-datetime-and-interval-functions.html#GUID-7B403C69-F618-42A6-94F3-41FB17F7F0AD" title="将间隔转换为Oracle NUMBER。">OCIIntervalToNumber（）</a></p>
                                 </td>
                                 <td align="left" valign="top" width="29%" headers="d144684e3843 d144684e3656 ">
                                    <p>将间隔转换为Oracle <code class="codeph">NUMBER</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="71%" id="d144684e3859" headers="d144684e3653 ">
                                    <p><a href="oci-date-datetime-and-interval-functions.html#GUID-DC306081-C4C3-48F5-818D-4C02DD945192" title="给定间隔时，生成表示间隔的字符串。">OCIIntervalToText（）</a></p>
                                 </td>
                                 <td align="left" valign="top" width="29%" headers="d144684e3859 d144684e3656 ">
                                    <p>给定间隔时，生成表示间隔的字符串</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="infoboxnotealso" id="GUID-002B17F4-16C6-48DD-AD3C-4609078312C1__GUID-AF3B7B36-03B4-4481-B9D8-8973502E11C2">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="oci-date-datetime-and-interval-functions.html#GUID-32FD5ADE-158D-4603-A693-91798A1BD467" title="列出并描述OCI日期和间隔功能。">OCI日期，日期时间和间隔函数，</a>用于完整的名称和用途列表以及有关这些功能的更多详细信息</p>
                     </div>
                  </div>
               </div>
            </div><a id="LNOCI16847"></a><div class="props_rev_3"><a id="GUID-AC31C501-8512-427B-9C0E-FF7F85E0C067" name="GUID-AC31C501-8512-427B-9C0E-FF7F85E0C067"></a><h3 id="LNOCI-GUID-AC31C501-8512-427B-9C0E-FF7F85E0C067" class="sect3"><span class="enumeration_section">20.6</span>数字（OCINumber）</h3>
               <div>
                  <p><code class="codeph">OCINumber</code>数据类型是一个不透明的结构，用于表示Oracle数字数据类型（ <code class="codeph">NUMBER,</code> <code class="codeph">FLOAT,</code> <code class="codeph">DECIMAL</code>等）。
                  </p>
                  <p>您可以使用bind或define调用中的外部类型代码<code class="codeph">SQLT_VNU</code>来绑定或定义此类型。
                  </p>
                  <p>除非另有说明，否则这些函数中的术语<span class="italic">编号</span>是指<code class="codeph">OCINumber</code>类型的值。
                  </p>
                  <p>本节包括以下主题： <a href="object-relational-data-types-in-oci.html#GUID-E1683C5B-40A2-4D79-993D-D1B9B9256B41" title="演示如何操作OCINumber类型的属性，如何将从OCIDescribeAny（）调用返回的OCINumber格式的值转换为无符号整数，以及如何转换以OCINumber格式从OCIDescribeAny（）调用返回的数字类型，如OCI_ATTR_MAX或OCI_ATTR_MIN ，到无符号的C整数。">OCINumber示例</a> 。
                  </p>
                  <div class="infoboxnotealso" id="GUID-AC31C501-8512-427B-9C0E-FF7F85E0C067__GUID-F6356EFA-D8BB-4105-834B-E393A1088F47">
                     <p class="notep1">也可以看看：</p>
                     <p> <a href="oci-NUMBER-functions.html#GUID-B20FC9D4-B984-4668-999B-1E22387596AF__CEGDBEBG" title="该表有2列。第1列是函数名称，第2列描述其用途。">表28-11</a>了解所有OCI <code class="codeph">NUMBER</code>函数的原型和描述</p>
                  </div>
               </div><a id="LNOCI72709"></a><a id="LNOCI72710"></a><a id="LNOCI16848"></a><div class="props_rev_3"><a id="GUID-E1683C5B-40A2-4D79-993D-D1B9B9256B41" name="GUID-E1683C5B-40A2-4D79-993D-D1B9B9256B41"></a><h4 id="LNOCI-GUID-E1683C5B-40A2-4D79-993D-D1B9B9256B41" class="sect4"><span class="enumeration_section">20.6.1</span> OCINumber示例</h4>
                  <div>
                     <p>显示如何操纵类型的属性<code class="codeph">OCINumber</code> ，如何将值转换成<code class="codeph">OCINumber</code>从返回格式<code class="codeph">OCIDescribeAny()</code>调用无符号整数，以及如何转换从返回的数值类型<code class="codeph">OCIDescribeAny()</code>的调用<code class="codeph">OCINumber</code>格式，如<code class="codeph">OCI_ATTR_MAX</code>或<code class="codeph">OCI_ATTR_MIN</code> ，到无符号的C整数。
                     </p>
                     <div class="section">
                        <p><a href="object-relational-data-types-in-oci.html#GUID-E1683C5B-40A2-4D79-993D-D1B9B9256B41__BGBGDHIF">例20-3</a>中的代码片段显示了如何操作<code class="codeph">OCINumber</code>类型的属性。<a href="object-relational-data-types-in-oci.html#GUID-E1683C5B-40A2-4D79-993D-D1B9B9256B41__BGBBCHEC">例20-4</a>中的代码片段显示了如何将从<code class="codeph">OCIDescribeAny()</code>调用返回的<code class="codeph">OCINumber</code>格式的值转换为无符号整数。
                        </p>
                        <p><a href="object-relational-data-types-in-oci.html#GUID-E1683C5B-40A2-4D79-993D-D1B9B9256B41__BGBBCHEC">例20-4</a>显示了如何将从<code class="codeph">OCINumber</code>格式的<code class="codeph">OCIDescribeAny()</code>调用返回的数字类型<code class="codeph">OCIDescribeAny()</code>如<code class="codeph">OCI_ATTR_MAX</code>或<code class="codeph">OCI_ATTR_MIN</code> ）转换为无符号C整数。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-E1683C5B-40A2-4D79-993D-D1B9B9256B41__BGBGDHIF">
                        <p class="titleinexample">例20-3操作类型OCINumber的属性</p><pre class="oac_no_warn" dir="ltr">/ *示例1 * / struct person {OCINumber sal; }; typedef struct person person; OCIError *错误;人*史蒂夫;人*斯科特;人*杰森; OCINumber * stevesal; OCINumber * scottsal; OCINumber * debsal;剑的地位; int inum;双dnum; OCINumber ornum;文本缓冲区[21]; ub4 buflen;剑结果; / *对于此示例，假设已初始化OCIEnv和OCIError。* / / *对于此示例，假设steve，scott和jason指向已固定在对象缓存中的人物对象。* / stevesal =＆steve-&gt; sal; scottsal =＆scott-&gt; sal; debsal =＆jason-&gt; sal; / *将史蒂夫的薪水初始化为$ 12,000 * / inum = 12000; status = OCINumberFromInt（错误，＆inum，sizeof（inum），OCI_NUMBER_SIGNED，stevesal）;如果（状态！= OCI_SUCCESS）/ *处理来自OCINumberFromInt的错误* /; / *初始化斯科特的薪水与史蒂夫的* / OCINumberAssign（错误，史蒂夫，斯科萨尔）相同; / *初始化杰森的薪水比史蒂夫的* / dnum = 1.2多20％; status = OCINumberFromReal（err，＆dnum，sizeof（dnum），＆ornum）;如果（状态！= OCI_SUCCESS）/ *处理来自OCINumberFromReal的错误* /; status = OCINumberMul（错误，史蒂夫，＆ornum，debsal）;如果（状态！= OCI_SUCCESS）/ *处理来自OCINumberMul的错误* /; / *给斯科特提高50％* / dnum = 1.5; status = OCINumberFromReal（err，＆dnum，sizeof（dnum），＆ornum）;如果（状态！= OCI_SUCCESS）/ *处理来自OCINumberFromReal的错误* /; status = OCINumberMul（错误，scottsal，＆ornum，scottsal）;如果（状态！= OCI_SUCCESS）/ *处理来自OCINumberMul的错误* /; / * double steve的工资* / status = OCINumberAdd（错误，stevesal，stevesal，stevesal）;如果（状态！= OCI_SUCCESS）/ *处理来自OCINumberAdd的错误* /; / *以整数* / status = OCINumberToInt（错误，stevesal，sizeof（inum），OCI_NUMBER_SIGNED和inum）获得史蒂夫的薪水;如果（状态！= OCI_SUCCESS）/ *处理来自OCINumberToInt的错误* /; / * inum设置为24000 * / / *得到jason的薪水为double * / status = OCINumberToReal（err，debsal，sizeof（dnum），＆dnum）;如果（状态！= OCI_SUCCESS）/ *处理来自OCINumberToReal的错误* /; / * dnum设置为14400 * / / *打印scott的工资为DEM0001'8000.00 * / buflen = sizeof（缓冲区）; status = OCINumberToText（错误，scottsal，（text *）“C0999G9999D99”，13，（text *）“NLS_NUMERIC_CHARACTERS ='。''NLS_ISO_CURRENCY ='德国'“，54，＆buflen，（文字*）缓冲区）; if（状态！= OCI_SUCCESS）/ *处理来自OCINumberToText的错误* /; printf（“scott's salary =％s \ n”，缓冲区）; / *比较史蒂夫和斯科特的薪水* / status = OCINumberCmp（错误，史蒂夫，scottsal和结果）;如果（状态！= OCI_SUCCESS）/ *处理来自OCINumberCmp的错误* /; / *结果为正* / / *从字符串* / status = OCINumberFromText读取jason的新工资（错误，（文字*）“48'000.00”，9，（文字*）“99G999D99”，9，（文字*）“ NLS_NUMERIC_CHARACTERS ='。'''，27，debsal）;如果（状态！= OCI_SUCCESS）/ *处理来自OCINumberFromText的错误* /; / * jason的薪水现在为48000.00 * /</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-E1683C5B-40A2-4D79-993D-D1B9B9256B41__BGBBCHEC">
                        <p class="titleinexample">示例20-4转换从OCIDescribeAny（）返回的OCINumber格式的值调用无符号整数</p><pre class="oac_no_warn" dir="ltr">/ *例2 * / ub4 max_seq_val = 0; ub1 * max_valp = NULL; ub4 max_val_size; OCINumber max_val; OCINumberSetZero（_errhp，＆max_val）; OCIParam * parmdp = 0; status = OCIAttrGet（（void *）_ dschp，（ub4）OCI_HTYPE_DESCRIBE，＆parmdp，0，（ub4）OCI_ATTR_PARAM，_errhp）; if（isError（status，_errhp））{return 0; } status = OCIAttrGet（（void *）parmdp，（ub4）OCI_DTYPE_PARAM，＆max_valp，＆max_val_size，（ub4）OCI_ATTR_MAX，_errhp）; //从ORACLE NUMBER FORMAT max_val创建一个OCINumber对象。OCINumberPart [0] = max_val_size; //设置长度字节memcpy（＆max_val。OCINumberPart [1]，max_valp，max_val_size）; //复制实际字节//现在将max_val转换为无符号C整数，max_seq_val status = OCINumberToInt（_errhp，＆max_val，sizeof（max_seq_val），OCI_NUMBER_UNSIGNED和max_seq_val）;</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div><a id="LNOCI16849"></a><div class="props_rev_3"><a id="GUID-A939CF70-1472-479C-81DD-274D8158C6A4" name="GUID-A939CF70-1472-479C-81DD-274D8158C6A4"></a><h3 id="LNOCI-GUID-A939CF70-1472-479C-81DD-274D8158C6A4" class="sect3"><span class="enumeration_section">20.7</span>固定或可变长度字符串（OCIString）</h3>
               <div>
                  <p>固定或可变长度的字符串数据作为<code class="codeph">OCIString *</code>表示给C程序。
                  </p>
                  <p>字符串的长度不包括NULL字符。</p>
                  <p>对于绑定和定义<code class="codeph">OCIString *</code>类型的变量， <code class="codeph">OCIString *</code>使用外部类型代码<code class="codeph">SQLT_VST</code> 。</p>
                  <div class="p">本节包括以下主题：<ul style="list-style-type:disc">
                        <li>
                           <p><a href="object-relational-data-types-in-oci.html#GUID-B509102B-E374-4CA2-BAE7-B98CE0643099" title="列出并描述允许C程序员操作字符串实例的函数。">关于字符串函数</a></p>
                        </li>
                        <li>
                           <p><a href="object-relational-data-types-in-oci.html#GUID-E6C88B6F-F9E2-4D58-81D8-F915153B6C48" title="将文本字符串分配给字符串，然后获取指向字符串的字符串部分的指针和字符串大小，并将其打印出来。">字符串示例</a></p>
                        </li>
                     </ul>
                  </div>
                  <div class="infoboxnotealso" id="GUID-A939CF70-1472-479C-81DD-274D8158C6A4__GUID-FEDC696D-98CF-48A3-8DD8-AFDDA2A2200E">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="oci-string-functions.html#GUID-EB9D30A3-3BF9-47A4-96BB-D214730E903D__CEGGEHJF" title="该表有2列。第1列是函数名称，第2列描述其用途。">表28-16</a>显示了所有字符串函数的原型和描述</p>
                  </div>
               </div><a id="LNOCI16851"></a><a id="LNOCI16850"></a><div class="props_rev_3"><a id="GUID-B509102B-E374-4CA2-BAE7-B98CE0643099" name="GUID-B509102B-E374-4CA2-BAE7-B98CE0643099"></a><h4 id="LNOCI-GUID-B509102B-E374-4CA2-BAE7-B98CE0643099" class="sect4"><span class="enumeration_section">20.7.1</span>关于字符串函数</h4>
                  <div>
                     <p>列出并描述允许C程序员操作字符串实例的函数。</p>
                     <p><a href="object-relational-data-types-in-oci.html#GUID-B509102B-E374-4CA2-BAE7-B98CE0643099__BGBJGFCA" title="该表有2列。第1列是OCI字符串函数名称，第2列描述其用途。">表20-5</a>显示了允许C程序员操作字符串实例的函数。
                     </p>
                     <div class="tblformal" id="GUID-B509102B-E374-4CA2-BAE7-B98CE0643099__BGBJGFCA">
                        <p class="titleintable">表20-5字符串函数</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="字符串函数" width="100%" border="1" summary="This table has 2 columns. Column 1 is the OCI string function name and column 2 describes its purpose." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="69%" id="d144684e4824">功能</th>
                                 <th align="left" valign="bottom" width="31%" id="d144684e4827">目的</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="69%" id="d144684e4832" headers="d144684e4824 ">
                                    <p><a href="oci-string-functions.html#GUID-3F336010-D8C8-4B50-89CB-ABCCA98905DA" title="获取代码点（Unicode）或字节中字符串内存的分配大小。">OCIStringAllocSize（）</a></p>
                                 </td>
                                 <td align="left" valign="top" width="31%" headers="d144684e4832 d144684e4827 ">
                                    <p>获取代码点（Unicode）或字节的字符串内存分配大小</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="69%" id="d144684e4844" headers="d144684e4824 ">
                                    <p><a href="oci-string-functions.html#GUID-58BC140A-900C-4409-B3D2-C2DC8FB643FF" title="将一个字符串分配给另一个字符串。">OCIStringAssign（）</a></p>
                                 </td>
                                 <td align="left" valign="top" width="31%" headers="d144684e4844 d144684e4827 ">
                                    <p>将一个字符串分配给另一个字符</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="69%" id="d144684e4856" headers="d144684e4824 ">
                                    <p><a href="oci-string-functions.html#GUID-96E8375B-9017-4E06-BF85-09C12DF286F4" title="将源文本字符串分配给目标字符串。">OCIStringAssignText（）</a></p>
                                 </td>
                                 <td align="left" valign="top" width="31%" headers="d144684e4856 d144684e4827 ">
                                    <p>将源文本字符串分配给目标字符串</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="69%" id="d144684e4868" headers="d144684e4824 ">
                                    <p><a href="oci-string-functions.html#GUID-0E1302F7-A32C-46F1-93D7-FB33CF60C24F" title="获取指向给定字符串文本的指针。">OCIStringPtr（）</a></p>
                                 </td>
                                 <td align="left" valign="top" width="31%" headers="d144684e4868 d144684e4827 ">
                                    <p>获取指向给定字符串文本的指针</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="69%" id="d144684e4880" headers="d144684e4824 ">
                                    <p><a href="oci-string-functions.html#GUID-CA52A8A4-08BA-4F08-A4A3-79F841F6AE9E" title="调整给定字符串的内存大小。">OCIStringResize（）</a></p>
                                 </td>
                                 <td align="left" valign="top" width="31%" headers="d144684e4880 d144684e4827 ">
                                    <p>调整给定字符串的内存大小</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="69%" id="d144684e4892" headers="d144684e4824 ">
                                    <p><a href="oci-string-functions.html#GUID-DBDAB2D9-4E78-4752-85B6-55D30CA6AF30" title="获取给定字符串的大小">OCIStringSize（）</a></p>
                                 </td>
                                 <td align="left" valign="top" width="31%" headers="d144684e4892 d144684e4827 ">
                                    <p>获取给定字符串的大小</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
               </div><a id="LNOCI72711"></a><a id="LNOCI16852"></a><div class="props_rev_3"><a id="GUID-E6C88B6F-F9E2-4D58-81D8-F915153B6C48" name="GUID-E6C88B6F-F9E2-4D58-81D8-F915153B6C48"></a><h4 id="LNOCI-GUID-E6C88B6F-F9E2-4D58-81D8-F915153B6C48" class="sect4"><span class="enumeration_section">20.7.2</span>字符串示例</h4>
                  <div>
                     <p>将文本字符串分配给字符串，然后获取指向字符串的字符串部分的指针和字符串大小，并将其打印出来。</p>
                     <div class="section">
                        <p><a href="object-relational-data-types-in-oci.html#GUID-E6C88B6F-F9E2-4D58-81D8-F915153B6C48__BGBGFBCB">例20-5</a>为字符串分配文本字符串，然后获取指向字符串的字符串部分的指针和字符串大小，并将其打印出来。
                        </p>
                        <p>请注意在<code class="codeph">OCIStringAssignText()</code>中传递<span class="italic"><code class="codeph">vstring1</code></span>参数时使用的双重间接。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-E6C88B6F-F9E2-4D58-81D8-F915153B6C48__BGBGFBCB">
                        <p class="titleinexample">示例20-5操作类型OCIString的属性</p><pre class="oac_no_warn" dir="ltr">OCIEnv * envhp; OCIError * errhp; OCIString * vstring1 =（OCIString *）0; OCIString * vstring2 =（OCIString *）0; text c_string [20]; text * text_ptr;剑的地位; strcpy（（char *）c_string，“hello world”）; / *将文本字符串分配给OCIString * / status = OCIStringAssignText（envhp，errhp，c_string，（ub4）strlen（（char *）c_string），＆vstring1）; / * vstring1的内存被分配为字符串赋值的一部分* / status = OCIStringAssignText（envhp，errhp，（text *）“hello again”，（ub4）strlen（“这是一个更长的字符串。”）和vstring1）; / * vstring1自动调整大小以存储更长的字符串* / / *获取指向vstring1 * / text_ptr = OCIStringPtr（envhp，vstring1）的字符串部分的指针; / * text_ptr现在指向“hello world”* / printf（“％s \ n”，text_ptr）;</pre></div>
                     <!-- class="example" -->
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-E6C88B6F-F9E2-4D58-81D8-F915153B6C48__GUID-672912FA-13D6-4BFC-92DF-221A6ADBBCA1">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="oci-string-functions.html#GUID-96E8375B-9017-4E06-BF85-09C12DF286F4" title="将源文本字符串分配给目标字符串。">OCIStringAssignText（）</a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="LNOCI16853"></a><div class="props_rev_3"><a id="GUID-2E651841-433D-4EE7-9606-8372E3AB7463" name="GUID-2E651841-433D-4EE7-9606-8372E3AB7463"></a><h3 id="LNOCI-GUID-2E651841-433D-4EE7-9606-8372E3AB7463" class="sect3"><span class="enumeration_section">20.8</span>原料（OCIRaw）</h3>
               <div>
                  <p>可变长度原始数据使用<code class="codeph">OCIRaw *</code>数据类型以C表示。
                  </p>
                  <p>要绑定和定义类型为<code class="codeph">OCIRaw *</code>变量，请使用外部类型代码<code class="codeph">SQLT_LVB</code> 。</p>
                  <div class="p">本节包括以下主题：<ul style="list-style-type:disc">
                        <li>
                           <p><a href="object-relational-data-types-in-oci.html#GUID-5403C9FE-B363-4D0E-85F3-D2237B729D7D" title="列出并描述Raw函数。">关于原始功能</a></p>
                        </li>
                        <li>
                           <p><a href="object-relational-data-types-in-oci.html#GUID-5009434E-E8ED-4F4D-B756-580D185E14C1" title="演示如何设置原始数据块并获取指向其数据的指针。">原始例子</a></p>
                        </li>
                     </ul>
                  </div>
                  <div class="infoboxnotealso" id="GUID-2E651841-433D-4EE7-9606-8372E3AB7463__GUID-B46BC639-4D26-4A67-9FC7-62B5A248035D">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="oci-raw-functions.html#GUID-3BA14C61-5227-4CAB-90B3-F24DF9069CC0__CEGGJJID" title="该表有2列。第1列是函数名称，第2列描述其用途。">表28-14</a>了解所有原始函数的原型和描述</p>
                  </div>
               </div><a id="LNOCI16855"></a><a id="LNOCI16854"></a><div class="props_rev_3"><a id="GUID-5403C9FE-B363-4D0E-85F3-D2237B729D7D" name="GUID-5403C9FE-B363-4D0E-85F3-D2237B729D7D"></a><h4 id="LNOCI-GUID-5403C9FE-B363-4D0E-85F3-D2237B729D7D" class="sect4"><span class="enumeration_section">20.8.1</span>关于原始函数</h4>
                  <div>
                     <p>列出并描述Raw函数。</p>
                     <p><a href="object-relational-data-types-in-oci.html#GUID-5403C9FE-B363-4D0E-85F3-D2237B729D7D__BGBHAFCB" title="该表有2列。第1列是OCI RAW函数名称，第2列描述其用途。">表20-6</a>显示了执行OCIRaw操作的功能。
                     </p>
                     <div class="tblformal" id="GUID-5403C9FE-B363-4D0E-85F3-D2237B729D7D__BGBHAFCB">
                        <p class="titleintable">表20-6原始功能</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="原始功能" width="100%" border="1" summary="This table has 2 columns. Column 1 is the OCI RAW function name and column 2 describes its purpose. " frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="66%" id="d144684e5557">功能</th>
                                 <th align="left" valign="bottom" width="34%" id="d144684e5560">目的</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="66%" id="d144684e5565" headers="d144684e5557 ">
                                    <p><a href="oci-raw-functions.html#GUID-4856A258-8883-4470-9881-51F27FA050F6" title="获取原始内存的分配大小（以字节为单位）。">OCIRawAllocSize（）</a></p>
                                 </td>
                                 <td align="left" valign="top" width="34%" headers="d144684e5565 d144684e5560 ">
                                    <p>获取分配的原始内存大小（以字节为单位）</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="66%" id="d144684e5577" headers="d144684e5557 ">
                                    <p><a href="oci-raw-functions.html#GUID-3BB4239F-8579-4CC1-B76F-0786BDBAEF9A" title="将类型为ub1 *的原始字节分配给Oracle OCIRaw *数据类型。">OCIRawAssignBytes（）</a></p>
                                 </td>
                                 <td align="left" valign="top" width="34%" headers="d144684e5577 d144684e5560 ">
                                    <p>将原始数据（ub1 *）分配给OCIRaw *</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="66%" id="d144684e5595" headers="d144684e5557 ">
                                    <p><a href="oci-raw-functions.html#GUID-27DBFBE0-4511-4B34-8476-B9AC720E3F51" title="将一个Oracle RAW数据类型分配给另一个Oracle RAW数据类型。">OCIRawAssignRaw（）</a></p>
                                 </td>
                                 <td align="left" valign="top" width="34%" headers="d144684e5595 d144684e5560 ">
                                    <p>将一个OCIRaw *分配给另一个</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="66%" id="d144684e5613" headers="d144684e5557 ">
                                    <p><a href="oci-raw-functions.html#GUID-B05C44C5-7168-438B-AC2A-BD3AD309AAEA" title="获取指向原始数据的指针。">OCIRawPtr（）</a></p>
                                 </td>
                                 <td align="left" valign="top" width="34%" headers="d144684e5613 d144684e5560 ">
                                    <p>获取指向原始数据的指针</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="66%" id="d144684e5625" headers="d144684e5557 ">
                                    <p><a href="oci-raw-functions.html#GUID-7D757B00-DF25-4F61-A3DF-8C72F18FDC9E" title="调整给定可变长度原始内存的大小。">OCIRawResize（）</a></p>
                                 </td>
                                 <td align="left" valign="top" width="34%" headers="d144684e5625 d144684e5560 ">
                                    <p>调整可变长度原始数据的内存大小</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="66%" id="d144684e5640" headers="d144684e5557 ">
                                    <p><a href="oci-raw-functions.html#GUID-D74E75FA-5985-4DDC-BC25-430B415B8837" title="返回给定raw的大小（以字节为单位）。">OCIRawSize（）</a></p>
                                 </td>
                                 <td align="left" valign="top" width="34%" headers="d144684e5640 d144684e5560 ">
                                    <p>获取原始数据的大小</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
               </div><a id="LNOCI72712"></a><a id="LNOCI16856"></a><div class="props_rev_3"><a id="GUID-5009434E-E8ED-4F4D-B756-580D185E14C1" name="GUID-5009434E-E8ED-4F4D-B756-580D185E14C1"></a><h4 id="LNOCI-GUID-5009434E-E8ED-4F4D-B756-580D185E14C1" class="sect4"><span class="enumeration_section">20.8.2</span>原始示例</h4>
                  <div>
                     <p>演示如何设置原始数据块并获取指向其数据的指针。</p>
                     <div class="section">
                        <p><a href="object-relational-data-types-in-oci.html#GUID-5009434E-E8ED-4F4D-B756-580D185E14C1__BGBJFAHI">例20-6</a>显示了如何设置原始数据块并获得指向其数据的指针。
                        </p>
                        <p>请注意对<code class="codeph">OCIRawAssignBytes()</code>的调用中的双重间接。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-5009434E-E8ED-4F4D-B756-580D185E14C1__BGBJFAHI">
                        <p class="titleinexample">例20-6操作类型OCIRaw的属性</p><pre class="oac_no_warn" dir="ltr">OCIEnv * envhp; OCIError * errhp;剑的地位; ub1 data_block [10000]; ub4 data_block_len = 10000; OCIRaw * raw1 =（OCIRaw *）0; ub1 * raw1_pointer; / *设置RAW * / / *假设'data_block'已初始化* / status = OCIRawAssignBytes（envhp，errhp，data_block，data_block_len，＆raw1）; / *获取指向RAW * / raw1_pointer = OCIRawPtr（envhp，raw1）的数据部分的指针;</pre></div>
                     <!-- class="example" -->
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-5009434E-E8ED-4F4D-B756-580D185E14C1__GUID-16C5B5E5-4404-4B05-8804-FA5B468F1E48">
                           <p class="notep1">也可以看看：</p>
                           <p></p><a href="oci-raw-functions.html#GUID-3BB4239F-8579-4CC1-B76F-0786BDBAEF9A" title="将类型为ub1 *的原始字节分配给Oracle OCIRaw *数据类型。">OCIRawAssignBytes（）</a></div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="LNOCI16857"></a><div class="props_rev_3"><a id="GUID-82EEC341-6FE5-45EC-B768-52780CAF5461" name="GUID-82EEC341-6FE5-45EC-B768-52780CAF5461"></a><h3 id="LNOCI-GUID-82EEC341-6FE5-45EC-B768-52780CAF5461" class="sect3"><span class="enumeration_section">20.9</span>馆藏（OCITable，OCIArray，OCIColl，OCIIter）</h3>
               <div>
                  <p>Oracle数据库提供两种类型的集合：可变长度数组（ <code class="codeph">varray</code> s）和嵌套表。在C应用程序中，varrays表示为<code class="codeph">OCIArray *</code> ，嵌套表表示为<code class="codeph">OCITable *</code> 。
                  </p>
                  <p>这两种数据类型（以及<code class="codeph">OCIIter</code>描述的<code class="codeph">OCIColl</code>和<code class="codeph">OCIIter</code> ）都是不透明的结构。
                  </p>
                  <p>各种通用集合函数使您可以操作集合数据。您可以在varrays和嵌套表上使用这些函数。此外，还有一组特定于嵌套表的函数。</p>
                  <div class="p">本节包括以下主题：<ul style="list-style-type:disc">
                        <li>
                           <p><a href="object-relational-data-types-in-oci.html#GUID-0225267B-286D-4295-92CF-0FBE5B3EEF25" title="Oracle数据库提供两种类型的集合：可变长度数组（varrays）和嵌套表。">通用集合函数</a></p>
                        </li>
                        <li>
                           <p><a href="object-relational-data-types-in-oci.html#GUID-69278F10-7CF3-4549-848D-72B0E75E8B61" title="列出并描述了集合数据操作函数。">关于Collection Data Manipulation Functions</a></p>
                        </li>
                        <li>
                           <p><a href="object-relational-data-types-in-oci.html#GUID-E8FFB2D1-5CF0-4A60-8F79-2F0DF47B8808" title="列出并描述了集合扫描功能。">关于集合扫描功能</a></p>
                        </li>
                        <li>
                           <p><a href="object-relational-data-types-in-oci.html#GUID-2FCDA745-15CA-48B6-9A35-0897740632C5" title="演示如何创建和使用集合迭代器来扫描varray。">Varray / Collection Iterator示例</a></p>
                        </li>
                        <li>
                           <p><a href="object-relational-data-types-in-oci.html#GUID-DC731A4C-EC9D-4B2A-8485-C1D5D8BF4DE6" title="顾名思义，一个表可以作为变量，属性，参数或列嵌套或包含在另一个表中。">关于嵌套表操作函数</a></p>
                        </li>
                        <li>
                           <p><a href="object-relational-data-types-in-oci.html#GUID-DC731A4C-EC9D-4B2A-8485-C1D5D8BF4DE6" title="顾名思义，一个表可以作为变量，属性，参数或列嵌套或包含在另一个表中。">关于嵌套表操作函数</a></p>
                        </li>
                     </ul>
                  </div>
                  <p>您可以分配一个VARRAY的实例，或者使用嵌套表<code class="codeph">OCIObjectNew()</code>和免费使用它<code class="codeph">OCIObjectFree()</code>
                  </p>
                  <div class="infoboxnotealso" id="GUID-82EEC341-6FE5-45EC-B768-52780CAF5461__GUID-5367E50D-C506-4CC3-B72B-95CA498AE38C">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="object-relational-data-types-in-oci.html#GUID-DC731A4C-EC9D-4B2A-8485-C1D5D8BF4DE6" title="顾名思义，一个表可以作为变量，属性，参数或列嵌套或包含在另一个表中。">关于嵌套表操作函数</a></p>
                        </li>
                        <li>
                           <p><a href="oci-miscellaneous-object-functions.html#GUID-2EFD6F01-A02F-4C5B-B20F-1EF841249056" title="创建独立实例。">OCIObjectNew（）</a></p>
                        </li>
                        <li>
                           <p><a href="oci-pin-unpin-and-free-functions.html#GUID-0814B033-C25C-4B4C-8968-4C0B86C2E744" title="释放和取消对象实例。">OCIObjectFree（）</a></p>
                        </li>
                        <li>
                           <p><a href="oci-collection-and-iterator-functions.html#GUID-4DDCED9C-3D56-4BA0-89FA-63C1BBB43F4D" title="列出并描述OCI集合和迭代器函数。">OCI Collection和Iterator函数</a>用于原型和这些函数的描述</p>
                        </li>
                     </ul>
                  </div>
               </div><a id="LNOCI16858"></a><div class="props_rev_3"><a id="GUID-0225267B-286D-4295-92CF-0FBE5B3EEF25" name="GUID-0225267B-286D-4295-92CF-0FBE5B3EEF25"></a><h4 id="LNOCI-GUID-0225267B-286D-4295-92CF-0FBE5B3EEF25" class="sect4"><span class="enumeration_section">20.9.1</span>通用集合函数</h4>
                  <div>
                     <p>Oracle数据库提供两种类型的集合：可变长度数组（varrays）和嵌套表。</p>
                     <p>varrays和嵌套表都可以被视为泛型集合类型的子类型。</p>
                     <p>在C中，泛型集合表示为<code class="codeph">OCIColl *</code> ，varray表示为<code class="codeph">OCIArray *</code> ，嵌套表表示为<code class="codeph">OCITable *</code> <span class="italic">。</span> Oracle提供了一组函数来操作泛型集合（例如<code class="codeph">OCIColl *</code> ）。这些函数以<code class="codeph">OCIColl</code>前缀<code class="codeph">OCIColl</code> ，如<code class="codeph">OCICollGetElem()</code> 。还可以调用<code class="codeph">OCIColl*()</code>函数来对varrays和嵌套表进行操作。
                     </p>
                     <p>通用集合函数分为两大类：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>操作varray或嵌套表数据</p>
                        </li>
                        <li>
                           <p>使用集合迭代器扫描集合</p>
                        </li>
                     </ul>
                     <p>泛型集合函数表示用于操作varrays的一整套函数。提供附加功能以专门操作嵌套表。它们由<code class="codeph">OCITable</code>前缀<code class="codeph">OCITable</code> ，如<code class="codeph">OCITableExists().</code> 
                     </p>
                     <div class="infoboxnote" id="GUID-0225267B-286D-4295-92CF-0FBE5B3EEF25__GUID-894F725A-E43E-4836-ACFB-425A2C904377">
                        <p class="notep1">注意：</p>
                        <p>传递给集合函数的索引是从零开始的。</p>
                     </div>
                     <div class="infoboxnotealso" id="GUID-0225267B-286D-4295-92CF-0FBE5B3EEF25__GUID-44642667-D909-4D30-BF34-6053FF78D378">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="oci-table-functions.html#GUID-8103EFB5-CB80-417A-9644-30A09137E41F" title="测试元素是否存在于给定索引处。">OCITableExists（）</a></p>
                           </li>
                           <li>
                              <p><a href="object-relational-data-types-in-oci.html#GUID-DC731A4C-EC9D-4B2A-8485-C1D5D8BF4DE6" title="顾名思义，一个表可以作为变量，属性，参数或列嵌套或包含在另一个表中。">关于嵌套表操作函数</a></p>
                           </li>
                        </ul>
                        <p></p>
                     </div>
                  </div>
               </div><a id="LNOCI16860"></a><a id="LNOCI16859"></a><div class="props_rev_3"><a id="GUID-69278F10-7CF3-4549-848D-72B0E75E8B61" name="GUID-69278F10-7CF3-4549-848D-72B0E75E8B61"></a><h4 id="LNOCI-GUID-69278F10-7CF3-4549-848D-72B0E75E8B61" class="sect4"><span class="enumeration_section">20.9.2</span>关于集合数据操作函数</h4>
                  <div>
                     <p>列出并描述了集合数据操作函数。</p>
                     <p><a href="object-relational-data-types-in-oci.html#GUID-69278F10-7CF3-4549-848D-72B0E75E8B61__BGBIHHEI" title="该表有2列。第1列是OCI集合函数名称，第2列描述其目的。">表20-7</a>显示了操作集合数据的通用函数。
                     </p>
                     <div class="tblformal" id="GUID-69278F10-7CF3-4549-848D-72B0E75E8B61__BGBIHHEI">
                        <p class="titleintable">表20-7集合函数</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="收集功能" width="100%" border="1" summary="This table has 2 columns. Column 1 is the OCI collection function name and column 2 describes its purpose. " frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="65%" id="d144684e6671">功能</th>
                                 <th align="left" valign="bottom" width="35%" id="d144684e6674">目的</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="65%" id="d144684e6679" headers="d144684e6671 ">
                                    <p><a href="oci-collection-and-iterator-functions.html#GUID-1F50303F-38EB-4CF5-A333-A75E01255585" title="将元素追加到集合的末尾。">OCICollAppend（）</a></p>
                                 </td>
                                 <td align="left" valign="top" width="35%" headers="d144684e6679 d144684e6674 ">
                                    <p>将元素追加到集合的末尾</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="65%" id="d144684e6691" headers="d144684e6671 ">
                                    <p><a href="oci-collection-and-iterator-functions.html#GUID-35E6A810-6CF7-4446-81F5-AC8A65BA4593" title="将（深拷贝）一个集合分配给另一个集合。">OCICollAssign（）</a></p>
                                 </td>
                                 <td align="left" valign="top" width="35%" headers="d144684e6691 d144684e6674 ">
                                    <p>将一个集合分配给另一个</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="65%" id="d144684e6703" headers="d144684e6671 ">
                                    <p><a href="oci-collection-and-iterator-functions.html#GUID-BDA5C09D-9470-4204-9A56-3070F64D8E91" title="将给定元素值elem分配给coll [index]处的元素。">OCICollAssignElem（）</a></p>
                                 </td>
                                 <td align="left" valign="top" width="35%" headers="d144684e6703 d144684e6674 ">
                                    <p>在给定索引处分配元素</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="65%" id="d144684e6721" headers="d144684e6671 ">
                                    <p><a href="oci-collection-and-iterator-functions.html#GUID-B28B3D65-EB7B-44BD-ADBA-DAC0C21DE90F" title="获取指向给定索引处元素的指针。">OCICollGetElem（）</a></p>
                                 </td>
                                 <td align="left" valign="top" width="35%" headers="d144684e6721 d144684e6674 ">
                                    <p>在给定索引时获取指向元素的指针</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="65%" id="d144684e6733" headers="d144684e6671 ">
                                    <p><a href="oci-collection-and-iterator-functions.html#GUID-AFEC5BFB-1AEF-435E-A2FE-38D8B34CE36F" title="在给定起始索引时，从集合中获取元素数组。">OCICollGetElemArray（）</a></p>
                                 </td>
                                 <td align="left" valign="top" width="35%" headers="d144684e6733 d144684e6674 ">
                                    <p>从集合中获取元素数组</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="65%" id="d144684e6745" headers="d144684e6671 ">
                                    <p><a href="oci-collection-and-iterator-functions.html#GUID-9962E0B5-587C-4FCC-BD73-09058C820658" title="指示集合是否基于定位器。">OCICollIsLocator（）</a></p>
                                 </td>
                                 <td align="left" valign="top" width="35%" headers="d144684e6745 d144684e6674 ">
                                    <p>指示集合是否基于定位器</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="65%" id="d144684e6757" headers="d144684e6671 ">
                                    <p><a href="oci-collection-and-iterator-functions.html#GUID-848C1BF1-B0AD-47DF-9B80-9DA7A4020019" title="获取给定集合的元素数量的最大大小。">OCICollMax（）</a></p>
                                 </td>
                                 <td align="left" valign="top" width="35%" headers="d144684e6757 d144684e6674 ">
                                    <p>获取集合的上限</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="65%" id="d144684e6769" headers="d144684e6671 ">
                                    <p><a href="oci-collection-and-iterator-functions.html#GUID-B8F6665F-12F1-43DB-A27E-82A2A655D701" title="获取给定集合的元素数量的当前大小。">OCICollSize（）</a></p>
                                 </td>
                                 <td align="left" valign="top" width="35%" headers="d144684e6769 d144684e6674 ">
                                    <p>获取当前的集合大小</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="65%" id="d144684e6781" headers="d144684e6671 ">
                                    <p><a href="oci-collection-and-iterator-functions.html#GUID-1AC632AC-97AA-4E38-BF50-6460D3929F96" title="从集合的末尾修剪给定数量的元素。">OCICollTrim（）</a></p>
                                 </td>
                                 <td align="left" valign="top" width="35%" headers="d144684e6781 d144684e6674 ">
                                    <p>修剪集合末尾的<span class="italic">n个</span>元素</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
               </div><a id="LNOCI16862"></a><a id="LNOCI16861"></a><div class="props_rev_3"><a id="GUID-E8FFB2D1-5CF0-4A60-8F79-2F0DF47B8808" name="GUID-E8FFB2D1-5CF0-4A60-8F79-2F0DF47B8808"></a><h4 id="LNOCI-GUID-E8FFB2D1-5CF0-4A60-8F79-2F0DF47B8808" class="sect4"><span class="enumeration_section">20.9.3</span>关于集合扫描功能</h4>
                  <div>
                     <p>列出并描述了集合扫描功能。</p>
                     <p><a href="object-relational-data-types-in-oci.html#GUID-E8FFB2D1-5CF0-4A60-8F79-2F0DF47B8808__BGBIJHJD" title="该表有2列。第1列是OCI集合扫描功能名称，第2列描述其用途。">表20-8</a>显示了使用集合迭代器扫描集合的通用函数。迭代器是<code class="codeph">OCIIter</code>类型，它是通过首先调用<code class="codeph">OCIIterCreate()</code>创建的。
                     </p>
                     <div class="tblformal" id="GUID-E8FFB2D1-5CF0-4A60-8F79-2F0DF47B8808__BGBIJHJD">
                        <p class="titleintable">表20-8集合扫描功能</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="集合扫描功能" width="100%" border="1" summary="This table has 2 columns. Column 1 is the OCI collection scanning function name and column 2 describes its purpose. " frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="65%" id="d144684e7009">功能</th>
                                 <th align="left" valign="bottom" width="35%" id="d144684e7012">目的</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="65%" id="d144684e7017" headers="d144684e7009 ">
                                    <p><a href="oci-collection-and-iterator-functions.html#GUID-A76A027E-C93D-415B-879F-251897CE2AB2" title="创建一个迭代器来扫描元素或集合。">OCIIterCreate（）</a></p>
                                 </td>
                                 <td align="left" valign="top" width="35%" headers="d144684e7017 d144684e7012 ">
                                    <p>创建迭代器以扫描集合的元素</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="65%" id="d144684e7029" headers="d144684e7009 ">
                                    <p><a href="oci-collection-and-iterator-functions.html#GUID-CAA61916-750A-4A36-B488-09126DA64FF8" title="删除集合迭代器。">OCIIterDelete（）</a></p>
                                 </td>
                                 <td align="left" valign="top" width="35%" headers="d144684e7029 d144684e7012 ">
                                    <p>删除集合迭代器</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="65%" id="d144684e7041" headers="d144684e7009 ">
                                    <p><a href="oci-collection-and-iterator-functions.html#GUID-D7E27E30-7702-4DC7-A061-5B28793D19AA" title="获取指向当前迭代器集合元素的指针。">OCIIterGetCurrent（）</a></p>
                                 </td>
                                 <td align="left" valign="top" width="35%" headers="d144684e7041 d144684e7012 ">
                                    <p>获取指向迭代器指向的当前元素的指针</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="65%" id="d144684e7053" headers="d144684e7009 ">
                                    <p><a href="oci-collection-and-iterator-functions.html#GUID-B75C3D43-507F-4D61-8390-9856FF0C7D81" title="初始化迭代器以扫描集合。">OCIIterInit（）</a></p>
                                 </td>
                                 <td align="left" valign="top" width="35%" headers="d144684e7053 d144684e7012 ">
                                    <p>初始化迭代器以扫描给定的集合</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="65%" id="d144684e7065" headers="d144684e7009 ">
                                    <p><a href="oci-collection-and-iterator-functions.html#GUID-D37A42CE-961A-4A9F-92F0-856B27EEB3E5" title="获取指向下一个迭代器集合元素的指针。">OCIIterNext（）</a></p>
                                 </td>
                                 <td align="left" valign="top" width="35%" headers="d144684e7065 d144684e7012 ">
                                    <p>获取指向下一个迭代器集合元素的指针</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="65%" id="d144684e7077" headers="d144684e7009 ">
                                    <p><a href="oci-collection-and-iterator-functions.html#GUID-C3F4A12A-59A9-4E31-B9A8-540A9146C884" title="获取指向前一个迭代器集合元素的指针。">OCIIterPrev（）</a></p>
                                 </td>
                                 <td align="left" valign="top" width="35%" headers="d144684e7077 d144684e7012 ">
                                    <p>获取指向前一个迭代器集合元素的指针</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
               </div><a id="LNOCI72713"></a><a id="LNOCI16863"></a><div class="props_rev_3"><a id="GUID-2FCDA745-15CA-48B6-9A35-0897740632C5" name="GUID-2FCDA745-15CA-48B6-9A35-0897740632C5"></a><h4 id="LNOCI-GUID-2FCDA745-15CA-48B6-9A35-0897740632C5" class="sect4"><span class="enumeration_section">20.9.4</span> Varray / Collection Iterator示例</h4>
                  <div>
                     <p>演示如何创建和使用集合迭代器来扫描varray。</p>
                     <p><a href="object-relational-data-types-in-oci.html#GUID-2FCDA745-15CA-48B6-9A35-0897740632C5__BGBHJDDD">例20-7</a>创建并使用集合迭代器来扫描varray。
                     </p>
                     <div class="example" id="GUID-2FCDA745-15CA-48B6-9A35-0897740632C5__BGBHJDDD">
                        <p class="titleinexample">例20-7使用集合数据操作函数</p><pre class="oac_no_warn" dir="ltr">OCIEnv * envhp; OCIError * errhp; text * text_ptr;剑的地位; OCIArray *客户; OCIString * client_elem; OCIIter *迭代器;布尔eoc; void * elem; OCIInd * elemind; / *假设envhp，errhp已初始化* / / *假设客户端指向varray * / / *打印客户端元素* / / *为此，创建一个迭代器来扫描varray * / status = OCIIterCreate（envhp ，errhp，clients，＆iterator）; / *获取客户端的第一个元素varray * / printf（“客户端列表：\ n”）; status = OCIIterNext（envhp，errhp，iterator，＆elem，（void **）＆elemind，＆eoc）;而（！eoc &amp;&amp;（status == OCI_SUCCESS））{client_elem = *（（OCIString **）elem）; / * client_elem指向字符串* / / * OCIIterNext（）通过'elem'返回的元素指针类型与OCICollGetElem（）的相同。有关详细信息，请参阅OCICollGetElem（）。* / / * client_elem指向一个OCIString描述符，所以要打印出来，得到一个指向文本开始位置的指针* / text_ptr = OCIStringPtr（envhp，client_elem）; / * text_ptr现在指向客户端OCIString的文本部分，它是一个以NULL结尾的字符串* / printf（“％s \ n”，text_ptr）; status = OCIIterNext（envhp，errhp，iterator，＆elem，（void **）＆elemind，＆eoc）;如果（状态！= OCI_SUCCESS）{/ *句柄错误* /} / *销毁iterator * / status = OCIIterDelete（envhp，errhp，＆iterator）;</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="LNOCI16865"></a><a id="LNOCI16864"></a><div class="props_rev_3"><a id="GUID-DC731A4C-EC9D-4B2A-8485-C1D5D8BF4DE6" name="GUID-DC731A4C-EC9D-4B2A-8485-C1D5D8BF4DE6"></a><h4 id="LNOCI-GUID-DC731A4C-EC9D-4B2A-8485-C1D5D8BF4DE6" class="sect4"><span class="enumeration_section">20.9.5</span>关于嵌套表操作函数</h4>
                  <div>
                     <p>顾名思义，一个表可以作为变量，属性，参数或列<span class="italic">嵌套</span>或包含在另一个表中。
                     </p>
                     <p>嵌套表可能具有<code class="codeph">OCITableDelete()</code>函数删除的元素。
                     </p>
                     <p>例如，假设一个表创建了10个元素， <code class="codeph">OCITableDelete()</code>用于删除索引0到4和9的元素。第一个现有元素现在是元素5，最后一个现有元素是元素8。
                     </p>
                     <p>如前所述，通用集合函数可用于映射和操作嵌套表。此外， <a href="object-relational-data-types-in-oci.html#GUID-DC731A4C-EC9D-4B2A-8485-C1D5D8BF4DE6__BGBBDIAI" title="该表有2列。第1列是OCI嵌套表函数名称，第2列描述其用途。">表20-9</a>显示了嵌套表特有的功能。它们不应该用于varrays。
                     </p>
                     <div class="tblformal" id="GUID-DC731A4C-EC9D-4B2A-8485-C1D5D8BF4DE6__BGBBDIAI">
                        <p class="titleintable">表20-9嵌套表函数</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="嵌套表函数" width="100%" border="1" summary="This table has 2 columns. Column 1 is the OCI nested table function name and column 2 describes its purpose." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="63%" id="d144684e7519">功能</th>
                                 <th align="left" valign="bottom" width="37%" id="d144684e7522">目的</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="63%" id="d144684e7527" headers="d144684e7519 ">
                                    <p><a href="oci-table-functions.html#GUID-BA26FA59-EDC6-41C3-9823-7FFFAACE7231" title="删除指定索引处的元素。">OCITableDelete（）</a></p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d144684e7527 d144684e7522 ">
                                    <p>删除给定索引处的元素</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="63%" id="d144684e7539" headers="d144684e7519 ">
                                    <p><a href="oci-table-functions.html#GUID-8103EFB5-CB80-417A-9644-30A09137E41F" title="测试元素是否存在于给定索引处。">OCITableExists（）</a></p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d144684e7539 d144684e7522 ">
                                    <p>测试元素是否存在于给定索引处</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="63%" id="d144684e7551" headers="d144684e7519 ">
                                    <p><a href="oci-table-functions.html#GUID-F4807159-0E8C-4204-AD4C-B08587D813F9" title="返回给定表中第一个现有元素的索引。">OCITableFirst（）</a></p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d144684e7551 d144684e7522 ">
                                    <p>返回表的第一个现有元素的索引</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="63%" id="d144684e7563" headers="d144684e7519 ">
                                    <p><a href="oci-table-functions.html#GUID-39B3CE36-117E-4ACB-8FD2-D24A660D32E1" title="返回表的最后一个现有元素的索引。">OCITableLast（）</a></p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d144684e7563 d144684e7522 ">
                                    <p>返回表的最后一个现有元素的索引</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="63%" id="d144684e7575" headers="d144684e7519 ">
                                    <p><a href="oci-table-functions.html#GUID-79A8FB56-EB9E-42EB-83FB-0D0A960B1B4D" title="返回表的下一个现有元素的索引。">OCITableNext（）</a></p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d144684e7575 d144684e7522 ">
                                    <p>返回表的下一个现有元素的索引</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="63%" id="d144684e7587" headers="d144684e7519 ">
                                    <p><a href="oci-table-functions.html#GUID-18F21E03-6827-4A2E-813D-A9F8BA369D0C" title="返回表的上一个现有元素的索引。">OCITablePrev（）</a></p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d144684e7587 d144684e7522 ">
                                    <p>返回表的上一个现有元素的索引</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="63%" id="d144684e7599" headers="d144684e7519 ">
                                    <p><a href="oci-table-functions.html#GUID-547D71E5-518F-493A-8B5C-66316D534049" title="返回给定表的大小，不包括已删除元素创建的任何漏洞。">OCITableSize（）</a></p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d144684e7599 d144684e7522 ">
                                    <p>返回表大小，不包括任何已删除的元素</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>本节包括以下主题： <a href="object-relational-data-types-in-oci.html#GUID-2F38F311-6B75-46F8-B0D1-13816541A78E" title="当嵌套表被提取到对象缓存中时，其元素将被赋予瞬态排序，从零到元素数减去1。">嵌套表元素排序</a> 。
                     </p>
                  </div><a id="LNOCI16866"></a><div class="props_rev_3"><a id="GUID-2F38F311-6B75-46F8-B0D1-13816541A78E" name="GUID-2F38F311-6B75-46F8-B0D1-13816541A78E"></a><h5 id="LNOCI-GUID-2F38F311-6B75-46F8-B0D1-13816541A78E" class="sect5"><span class="enumeration_section">20.9.5.1</span>嵌套表元素排序</h5>
                     <div>
                        <p>当嵌套表被提取到对象缓存中时，其元素将被赋予瞬态排序，从零到元素数减去1。</p>
                        <p>例如，具有40个元素的表将从0到39编号。</p>
                        <p>您可以使用这些位置序数来获取和分配元素的值（例如，获取到元素<span class="italic">i</span> ，或分配给元素<span class="italic">j</span> ，其中<span class="italic">i</span>和<span class="italic">j</span>是给定表的有效位置序数）。
                        </p>
                        <p>将表复制回数据库时，其瞬态排序将丢失。可以对表的元素执行删除操作。删除操作会产生瞬态<span class="italic">漏洞</span> ;也就是说，它们不会改变其余表格元素的位置序数。
                        </p>
                     </div>
                  </div>
               </div><a id="LNOCI16867"></a><div class="props_rev_3"><a id="GUID-F699786B-DF2F-4D23-9E97-B708C2B3A36E" name="GUID-F699786B-DF2F-4D23-9E97-B708C2B3A36E"></a><h4 id="LNOCI-GUID-F699786B-DF2F-4D23-9E97-B708C2B3A36E" class="sect4"><span class="enumeration_section">20.9.6</span>嵌套表定位器</h4>
                  <div>
                     <p>您可以检索嵌套表的定位器。定位器就像是集合值的句柄，它包含有关检索时存在的数据库快照的信息。</p>
                     <p>此快照信息有助于数据库在以后使用定位器获取集合元素时检索集合值的正确实例化。</p>
                     <p>与LOB定位器不同，集合定位器不能用于修改集合实例;它只找到正确的数据。使用定位器使应用程序能够将句柄返回到嵌套表，而无需检索整个集合，这可能非常大。</p>
                     <p>如果在使用<code class="codeph">RETURN</code> <code class="codeph">AS</code> <code class="codeph">LOCATOR</code>规范获取集合列或属性时应返回定位符，则用户指定何时创建表。
                     </p>
                     <p>您可以使用<code class="codeph">OCICollIsLocator()</code>函数来确定集合是否基于定位器。
                     </p>
                     <div class="infoboxnotealso" id="GUID-F699786B-DF2F-4D23-9E97-B708C2B3A36E__GUID-55F50943-7284-4E68-BB2A-0D404C5C5835">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="oci-collection-and-iterator-functions.html#GUID-9962E0B5-587C-4FCC-BD73-09058C820658" title="指示集合是否基于定位器。">OCICollIsLocator（）</a></p>
                           </li>
                           <li>
                              <p><a href="../sqlrf/CREATE-TABLE.html#SQLRF-GUID-F9CE0CC3-13AE-4744-A43C-EAC7A71AAAB6" target="_blank"><span><cite>Oracle数据库SQL语言参考</cite></span></a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div>
            </div><a id="LNOCI16868"></a><div class="props_rev_3"><a id="GUID-54C574D2-00A3-4AD0-AC61-BA2B18BE51D0" name="GUID-54C574D2-00A3-4AD0-AC61-BA2B18BE51D0"></a><h3 id="LNOCI-GUID-54C574D2-00A3-4AD0-AC61-BA2B18BE51D0" class="sect3"><span class="enumeration_section">20.10</span>关于多级集合类型</h3>
               <div>
                  <p>集合元素本身可以是直接或间接的另一种集合类型。</p>
                  <p>多级集合类型是给予这种顶级集合类型的名称。</p>
                  <p>多级集合具有以下特征：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>它们可以是其他集合类型的集合。</p>
                     </li>
                     <li>
                        <p>它们可以是具有集合属性的对象的集合。</p>
                     </li>
                     <li>
                        <p>它们对嵌套级别的数量没有限制。</p>
                     </li>
                     <li>
                        <p>它们可以包含varrays和嵌套表的任意组合。</p>
                     </li>
                     <li>
                        <p>它们可以用作表格中的列。</p>
                     </li>
                  </ul>
                  <p>OCI例程适用于多级集合。以下例程可以在参数<span class="italic"><code class="codeph">*elem</code></span>返回<code class="codeph">OCIColl*</code> ，您可以在任何集合例程中使用它：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><code class="codeph">OCICollGetElem（）</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">OCIIterGetCurrent（）</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">OCIIterNext（）</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">OCIIterPrev（）</code></p>
                     </li>
                  </ul>
                  <p>以下函数采用集合元素并将其添加到现有集合中。如果元素类型是另一个集合，则参数<span class="italic"><code class="codeph">elem</code></span>可以是<code class="codeph">OCIColl*</code> ：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><code class="codeph">OCICollAssignElem（）</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">OCICollAppend（）</code></p>
                     </li>
                  </ul>
                  <p>本节包括以下主题： <a href="object-relational-data-types-in-oci.html#GUID-26C34316-E63B-4387-929D-30704D16933E" title="演示如何迭代多级集合。">多级集合类型示例</a> 。
                  </p>
                  <div class="infoboxnotealso" id="GUID-54C574D2-00A3-4AD0-AC61-BA2B18BE51D0__GUID-A21D5FB8-F69A-4D6F-8120-8D34C2BBDC21">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="oci-collection-and-iterator-functions.html#GUID-B28B3D65-EB7B-44BD-ADBA-DAC0C21DE90F" title="获取指向给定索引处元素的指针。">OCICollGetElem（）</a></p>
                        </li>
                        <li>
                           <p><a href="oci-collection-and-iterator-functions.html#GUID-D7E27E30-7702-4DC7-A061-5B28793D19AA" title="获取指向当前迭代器集合元素的指针。">OCIIterGetCurrent（）</a></p>
                        </li>
                        <li>
                           <p><a href="oci-collection-and-iterator-functions.html#GUID-D37A42CE-961A-4A9F-92F0-856B27EEB3E5" title="获取指向下一个迭代器集合元素的指针。">OCIIterNext（）</a></p>
                        </li>
                        <li>
                           <p><a href="oci-collection-and-iterator-functions.html#GUID-C3F4A12A-59A9-4E31-B9A8-540A9146C884" title="获取指向前一个迭代器集合元素的指针。">OCIIterPrev（）</a></p>
                        </li>
                        <li>
                           <p><a href="oci-collection-and-iterator-functions.html#GUID-BDA5C09D-9470-4204-9A56-3070F64D8E91" title="将给定元素值elem分配给coll [index]处的元素。">OCICollAssignElem（）</a></p>
                        </li>
                        <li>
                           <p><a href="oci-collection-and-iterator-functions.html#GUID-1F50303F-38EB-4CF5-A333-A75E01255585" title="将元素追加到集合的末尾。">OCICollAppend（）</a></p>
                        </li>
                     </ul>
                  </div>
               </div><a id="LNOCI72714"></a><a id="LNOCI16869"></a><div class="props_rev_3"><a id="GUID-26C34316-E63B-4387-929D-30704D16933E" name="GUID-26C34316-E63B-4387-929D-30704D16933E"></a><h4 id="LNOCI-GUID-26C34316-E63B-4387-929D-30704D16933E" class="sect4"><span class="enumeration_section">20.10.1</span>多级集合类型示例</h4>
                  <div>
                     <p>演示如何迭代多级集合。</p>
                     <div class="section">
                        <p><a href="object-relational-data-types-in-oci.html#GUID-26C34316-E63B-4387-929D-30704D16933E__BGBFCBDE">示例20-8</a>使用以下类型和表。
                        </p><pre class="oac_no_warn" dir="ltr">type_1（一个NUMBER，b NUMBER）NT1表类型_1 NT2表NT1</pre><p><a href="object-relational-data-types-in-oci.html#GUID-26C34316-E63B-4387-929D-30704D16933E__BGBFCBDE">例20-8中</a>的代码片段遍历多级集合。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-26C34316-E63B-4387-929D-30704D16933E__BGBFCBDE">
                        <p class="titleinexample">例20-8使用多级收集数据操作函数</p><pre class="oac_no_warn" dir="ltr">...OCIColl * outer_coll; OCIColl * inner_coll; OCIIter * itr1，* itr2; Type_1 * type_1_instance; ../ *假设outer_coll指向类型为NT2 * / checkerr的有效coll（errhp，OCIIterCreate（envhp，errhp，outer_coll，＆itr1））; for（eoc = FALSE ;!OCIIterNext（envhp，errhp，itr1，（void **）＆elem，（void **）＆elem_null，＆eoc）&amp;&amp;！eoc;）{inner_coll =（OCIColl *）elem; / *迭代内部集合..* / checkerr（errhp，OCIIterCreate（envhp，errhp，inner_coll，＆itr2））; for（eoc2 = FALSE;！OCIIterNext（envhp，errhp，itr2，（void **）＆elem2，（void **）＆elem2_null，＆eoc2）&amp;&amp;！eoc2;）{type_1_instance =（Type_1 *）elem2; / *使用type_1_instance * /} / *关闭迭代器而不是内部集合* / checkerr（errhp，OCIIterDelete（envhp，errhp，＆itr2））; / *关闭外部集合上的迭代器* / checkerr（errhp，OCIIterDelete（envhp，errhp，＆itr1））; ...
</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div><a id="LNOCI16870"></a><div class="props_rev_3"><a id="GUID-964A12BB-B8A7-4ECA-ADDE-763CBC766174" name="GUID-964A12BB-B8A7-4ECA-ADDE-763CBC766174"></a><h3 id="LNOCI-GUID-964A12BB-B8A7-4ECA-ADDE-763CBC766174" class="sect3"><span class="enumeration_section">20.11</span> REF（OCIRef）</h3>
               <div>
                  <p><code class="codeph">REF</code> （引用）是对象的标识符。
                  </p>
                  <p>它是一个不透明的结构，可以唯一地定位对象。对象可以通过<code class="codeph">REF</code>指向另一个对象。</p>
                  <p>在C应用程序中， <code class="codeph">REF</code>由<code class="codeph">OCIRef*</code>表示。
                  </p>
                  <div class="p">本节包括以下主题：<ul style="list-style-type:disc">
                        <li>
                           <p><a href="object-relational-data-types-in-oci.html#GUID-22D75721-B905-4EF8-AB8E-5AC57DA3EE91" title="列出并描述REF操作功能。">关于REF操作功能</a></p>
                        </li>
                        <li>
                           <p><a href="object-relational-data-types-in-oci.html#GUID-D2A5DB37-633A-445D-A300-E49892059AA8" title="演示如何测试两个REF为NULL，比较它们是否相等，并将一个REF分配给另一个。">REF示例</a></p>
                        </li>
                     </ul>
                  </div>
                  <div class="infoboxnotealso" id="GUID-964A12BB-B8A7-4ECA-ADDE-763CBC766174__GUID-84B7B8DD-E584-4DAA-9C0F-DA34CE3B7CA8">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="oci-REF-functions.html#GUID-62B64714-2937-40CA-92BF-ECADCD1AB329__CEGIBDHA" title="该表有2列。第1列是函数名称，第2列描述其用途。">表28-15</a>了解所有<code class="codeph">REF</code>操作函数的原型和描述</p>
                  </div>
               </div><a id="LNOCI16872"></a><a id="LNOCI16871"></a><div class="props_rev_3"><a id="GUID-22D75721-B905-4EF8-AB8E-5AC57DA3EE91" name="GUID-22D75721-B905-4EF8-AB8E-5AC57DA3EE91"></a><h4 id="LNOCI-GUID-22D75721-B905-4EF8-AB8E-5AC57DA3EE91" class="sect4"><span class="enumeration_section">20.11.1</span>关于REF操作函数</h4>
                  <div>
                     <p>列出并描述<code class="codeph">REF</code>操作功能。
                     </p>
                     <p><a href="object-relational-data-types-in-oci.html#GUID-22D75721-B905-4EF8-AB8E-5AC57DA3EE91__BGBFDGIJ" title="该表有2列。第1列是OCI REF操作函数名称，第2列描述其目的。">表20-10</a>显示了执行<code class="codeph">REF</code>操作的功能。
                     </p>
                     <div class="tblformal" id="GUID-22D75721-B905-4EF8-AB8E-5AC57DA3EE91__BGBFDGIJ">
                        <p class="titleintable">表20-10 REF操作功能</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="REF操纵函数" width="100%" border="1" summary="This table has 2 columns. Column 1 is the OCI REF manipulation function name and column 2 describes its purpose." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="68%" id="d144684e9030">功能</th>
                                 <th align="left" valign="bottom" width="32%" id="d144684e9033">目的</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="68%" id="d144684e9038" headers="d144684e9030 ">
                                    <p><a href="oci-REF-functions.html#GUID-14FAE208-53C4-4542-BD81-1A2093D2AD93" title="将一个REF分配给另一个，这样两者都引用同一个对象。">OCIRefAssign（）</a></p>
                                 </td>
                                 <td align="left" valign="top" width="32%" headers="d144684e9038 d144684e9033 ">
                                    <p>将一个<code class="codeph">REF</code>分配给另一个</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="68%" id="d144684e9056" headers="d144684e9030 ">
                                    <p><a href="oci-REF-functions.html#GUID-59DEE850-8716-4F94-97A2-26F5A1210785" title="清除或取消给定的REF。">OCIRefClear（）</a></p>
                                 </td>
                                 <td align="left" valign="top" width="32%" headers="d144684e9056 d144684e9033 ">
                                    <p>清除或取消<code class="codeph">REF</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="68%" id="d144684e9076" headers="d144684e9030 ">
                                    <p><a href="oci-REF-functions.html#GUID-90BFCC31-58CA-4461-B0CF-54AB97FCCDAE" title="将给定的十六进制字符串转换为REF。">OCIRefFromHex（）</a></p>
                                 </td>
                                 <td align="left" valign="top" width="32%" headers="d144684e9076 d144684e9033 ">
                                    <p>将十六进制字符串转换为<code class="codeph">REF</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="68%" id="d144684e9093" headers="d144684e9030 ">
                                    <p><a href="oci-REF-functions.html#GUID-3E6FF0F1-00E9-4E72-B9EF-ABE153919082" title="返回REF的十六进制表示的大小。">OCIRefHexSize（）</a></p>
                                 </td>
                                 <td align="left" valign="top" width="32%" headers="d144684e9093 d144684e9033 ">
                                    <p>返回<code class="codeph">REF</code>的十六进制字符串表示形式的大小</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="68%" id="d144684e9110" headers="d144684e9030 ">
                                    <p><a href="oci-REF-functions.html#GUID-5C5BAE55-4254-4E0E-BEBD-07C2AE6C7AAB" title="比较两个REF以确定它们是否相等。">OCIRefIsEqual（）</a></p>
                                 </td>
                                 <td align="left" valign="top" width="32%" headers="d144684e9110 d144684e9033 ">
                                    <p>比较两个<code class="codeph">REF</code>的相等性</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="68%" id="d144684e9128" headers="d144684e9030 ">
                                    <p><a href="oci-REF-functions.html#GUID-1DDD8B63-E9EE-46E7-866D-B8EB6355E339" title="测试REF是否为NULL。">OCIRefIsNull（）</a></p>
                                 </td>
                                 <td align="left" valign="top" width="32%" headers="d144684e9128 d144684e9033 ">
                                    <p>测试<code class="codeph">REF</code>是否为<code class="codeph">NULL</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="68%" id="d144684e9151" headers="d144684e9030 ">
                                    <p><a href="oci-REF-functions.html#GUID-B40E1BE1-7805-4A2B-BB86-00D126B742A3" title="将REF转换为十六进制字符串。">OCIRefToHex（）</a></p>
                                 </td>
                                 <td align="left" valign="top" width="32%" headers="d144684e9151 d144684e9033 ">
                                    <p>将<code class="codeph">REF</code>转换为十六进制字符串</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
               </div><a id="LNOCI72715"></a><a id="LNOCI16873"></a><div class="props_rev_3"><a id="GUID-D2A5DB37-633A-445D-A300-E49892059AA8" name="GUID-D2A5DB37-633A-445D-A300-E49892059AA8"></a><h4 id="LNOCI-GUID-D2A5DB37-633A-445D-A300-E49892059AA8" class="sect4"><span class="enumeration_section">20.11.2</span> REF示例</h4>
                  <div>
                     <p>演示如何测试两个<code class="codeph">REF</code>为<code class="codeph">NULL</code> ，比较它们是否相等，并将一个<code class="codeph">REF</code>分配给另一个。
                     </p>
                     <div class="section">
                        <p><a href="object-relational-data-types-in-oci.html#GUID-D2A5DB37-633A-445D-A300-E49892059AA8__BGBBAIHG">例20-9</a>测试两个<code class="codeph">REF</code>为<code class="codeph">NULL</code> ，比较它们是否相等，并将一个<code class="codeph">REF</code>分配给另一个。注意对<code class="codeph">OCIRefAssign()</code>的调用中的双重间接。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-D2A5DB37-633A-445D-A300-E49892059AA8__BGBBAIHG">
                        <p class="titleinexample">例20-9使用REF操作函数</p><pre class="oac_no_warn" dir="ltr">OCIEnv * envhp; OCIError * errhp;剑的地位; boolean refs_equal; OCIRef * ref1，* ref2; / *假设REF已初始化为指向有效对象* / / *比较两个REF是否相等* / refs_equal = OCIRefIsEqual（envhp，ref1，ref2）; printf（“After OCIRefIsEqual：\ n”之后）; if（refs_equal）printf（“REFs等于\ n”）; else printf（“REFs不等于\ n”）; / *将ref1指定为ref2 * / status = OCIRefAssign（envhp，errhp，ref1，＆ref2）;如果（状态！= OCI_SUCCESS）/ *错误处理* / / *再次比较两个REF的相等性* / refs_equal = OCIRefIsEqual（envhp，ref1，ref2）; printf（“After second OCIRefIsEqual：\ n”）; if（refs_equal）printf（“REFs等于\ n”）; else printf（“REFs不等于\ n”）;</pre></div>
                     <!-- class="example" -->
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-D2A5DB37-633A-445D-A300-E49892059AA8__GUID-3D58CA8A-0CC5-4253-A63F-F4EA34888FD8">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="oci-REF-functions.html#GUID-14FAE208-53C4-4542-BD81-1A2093D2AD93" title="将一个REF分配给另一个，这样两者都引用同一个对象。">OCIRefAssign（）</a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="LNOCI16874"></a><div class="props_rev_3"><a id="GUID-6A16EF8B-8ACF-4FD8-9C39-EA8A0D14DEC4" name="GUID-6A16EF8B-8ACF-4FD8-9C39-EA8A0D14DEC4"></a><h3 id="LNOCI-GUID-6A16EF8B-8ACF-4FD8-9C39-EA8A0D14DEC4" class="sect3"><span class="enumeration_section">20.12</span>对象类型信息存储和访问</h3>
               <div>
                  <p>本节将讨论OCI数据类型和类型描述符。</p>
                  <p></p>
                  <p>本节包括以下主题： <a href="object-relational-data-types-in-oci.html#GUID-3D021DDC-A638-41EF-BB61-1CD1B2A33A51" title="列出并描述描述符对象。">描述符对象</a> 。
                  </p>
               </div><a id="LNOCI16876"></a><a id="LNOCI16875"></a><div class="props_rev_3"><a id="GUID-3D021DDC-A638-41EF-BB61-1CD1B2A33A51" name="GUID-3D021DDC-A638-41EF-BB61-1CD1B2A33A51"></a><h4 id="LNOCI-GUID-3D021DDC-A638-41EF-BB61-1CD1B2A33A51" class="sect4"><span class="enumeration_section">20.12.1</span>描述符对象</h4>
                  <div>
                     <p>列出并描述描述符对象。</p>
                     <p><span class="bold"></span>当使用<code class="codeph">CREATE TYPE</code>语句创建给定类型时，它将存储在服务器中并与类型描述符对象（TDO）相关联。此外，数据库存储类型的每个数据属性的描述符对象，类型的每个方法，每个方法的每个参数以及方法返回的结果。<a href="object-relational-data-types-in-oci.html#GUID-3D021DDC-A638-41EF-BB61-1CD1B2A33A51__BGBBFIHG" title="该表有2列。第1列是描述符对象的信息类型，第2列是关联的OCI数据类型。">表20-11</a>列出了与每种描述符对象关联的OCI数据类型。
                     </p>
                     <div class="tblformal" id="GUID-3D021DDC-A638-41EF-BB61-1CD1B2A33A51__BGBBFIHG">
                        <p class="titleintable">表20-11描述符对象</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="描述符对象" width="100%" border="1" summary="This table has 2 columns. Column 1 is the information type of the descriptor object and column 2 is the associated OCI data type. " frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="44%" id="d144684e9844">信息类型</th>
                                 <th align="left" valign="bottom" width="56%" id="d144684e9847">OCI数据类型</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="44%" id="d144684e9852" headers="d144684e9844 ">
                                    <p>类型</p>
                                 </td>
                                 <td align="left" valign="top" width="56%" headers="d144684e9852 d144684e9847 ">
                                    <p>OCIType</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="44%" id="d144684e9859" headers="d144684e9844 ">
                                    <p>类型属性集合元素方法参数方法结果</p>
                                 </td>
                                 <td align="left" valign="top" width="56%" headers="d144684e9859 d144684e9847 ">
                                    <p>OCITypeElem</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="44%" id="d144684e9866" headers="d144684e9844 ">
                                    <p>方法</p>
                                 </td>
                                 <td align="left" valign="top" width="56%" headers="d144684e9866 d144684e9847 ">
                                    <p>OCITypeMethod</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>几个OCI函数（包括<code class="codeph">OCIBindObject()</code>和<code class="codeph">OCIObjectNew()</code> ）需要TDO作为输入参数。应用程序可以通过调用<code class="codeph">OCITypeByName()</code>获取TDO， <code class="codeph">OCITypeByName()</code>在<code class="codeph">OCIType</code>变量中获取类型的TDO。获得TDO后，您可以根据需要将其传递给其他电话。
                     </p>
                     <div class="infoboxnotealso" id="GUID-3D021DDC-A638-41EF-BB61-1CD1B2A33A51__GUID-D777AF55-BA90-464F-8A8C-355BE35E1287">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="bind-define-describe-functions.html#GUID-384B5D31-165B-4661-A334-8C2B5E475AEF" title="设置命名数据类型（对象）绑定所需的其他属性。">OCIBindObject（）</a></p>
                           </li>
                           <li>
                              <p><a href="oci-miscellaneous-object-functions.html#GUID-2EFD6F01-A02F-4C5B-B20F-1EF841249056" title="创建独立实例。">OCIObjectNew（）</a></p>
                           </li>
                           <li>
                              <p><a href="oci-type-information-accessor-functions.html#GUID-3534AABC-E347-4BC7-B220-0CAECDC9ECE7" title="获取现有TDO的最新版本。">OCITypeByName（）</a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div>
            </div><a id="LNOCI16877"></a><div class="props_rev_3"><a id="GUID-A728728A-3C8F-4446-874C-A551DE19BD28" name="GUID-A728728A-3C8F-4446-874C-A551DE19BD28"></a><h3 id="LNOCI-GUID-A728728A-3C8F-4446-874C-A551DE19BD28" class="sect3"><span class="enumeration_section">20.13</span> AnyType，AnyData和AnyDataSet接口</h3>
               <div>
                  <p>AnyType，AnyData和AnyDataSet接口允许您为自描述数据建模。</p>
                  <p>您可以将异构数据类型存储在同一列中，并查询应用程序中的数据类型。</p>
                  <p>这些定义在以下部分的讨论中使用：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><span class="italic">持久类型。</span> 使用SQL语句<code class="codeph">CREATE TYPE</code> 。它们持久存储在数据库中。
                        </p>
                     </li>
                     <li>
                        <p><span class="italic">瞬态类型。</span>未在数据库中持久存储的匿名类型描述。它们由程序根据需要创建。如果需要，它们可用于以动态方式在应用程序的各种组件之间交换类型信息。
                        </p>
                     </li>
                     <li>
                        <p><span class="italic">自描述数据。</span> 数据封装类型信息及其实际内容。<code class="codeph">OCIAnyData</code>数据类型在OCI中对这些数据进行建模。大多数SQL类型的数据值可以转换为OCIAnyData，然后可以将其转换回旧数据值。<code class="codeph">SYS.ANYDATA</code>类型在SQL或PL / SQL中为这些数据建模。</p>
                     </li>
                     <li>
                        <p><span class="italic">自描述数据集。</span> 封装一组数据实例（所有相同类型）及其类型描述。它们应该都具有相同的类型描述。<code class="codeph">OCIDataAnySet</code>数据类型在OCI中对此数据进行建模。 <code class="codeph">SYS.ANYDATASET</code>类型在SQL或PL / SQL中为这些数据建模。</p>
                     </li>
                  </ul>
                  <p>OCI（C语言）和SQL和PL / SQL中都提供了接口，用于构造和操作这些类型描述和自描述数据。以下部分描述了相关的OCI接口。</p>
                  <div class="p">本节包括以下主题：<ul style="list-style-type:disc">
                        <li>
                           <p><a href="object-relational-data-types-in-oci.html#GUID-FCA8FA3E-9018-468B-B722-9444E10838C4" title="您可以使用类型接口来构造命名和匿名瞬态对象类型（使用属性构建）和集合类型。">关于类型接口</a></p>
                        </li>
                        <li>
                           <p><a href="object-relational-data-types-in-oci.html#GUID-E84C6D01-023D-4B80-BEEB-250ADDFDDEB2" title="OCIAnyData封装了类型信息和该类型的数据实例（即自描述数据）。">关于OCIAnyData接口</a></p>
                        </li>
                        <li>
                           <p><a href="object-relational-data-types-in-oci.html#GUID-FE75A655-DBE6-46B0-A8D1-537991A39BE9" title="函数OCIAnyDataTypeCodeToSqlt（）将OICAnyData值的OCITypeCode转换为与OCIAnyData API返回的值的表示形式对应的SQLT代码。">OCIAnyData函数的NCHAR Typecodes</a></p>
                        </li>
                        <li>
                           <p><a href="object-relational-data-types-in-oci.html#GUID-292DFA46-50CD-4578-B4A3-76E3B2CCC7C4" title="OCIAnyDataSet封装了类型信息和该类型的一组实例。要开始构建过程，请调用OCIAnyDataSetBeginCreate（）。">关于OCIAnyDataSet接口</a></p>
                        </li>
                     </ul>
                  </div>
                  <div class="infoboxnotealso" id="GUID-A728728A-3C8F-4446-874C-A551DE19BD28__GUID-534EBED4-4C87-4F1D-B0B6-7C6F1B0D2463">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="oci-object-relational-programming.html#GUID-8E954104-DBBB-46F7-823B-B29C1E83EFE9" title="Oracle类型的实例根据其生命周期分为持久对象和瞬态对象。">持久对象，瞬态对象和值</a></p>
                        </li>
                        <li>
                           <p><span>有关Oracle提供的类型</span>的概述，请参阅<a href="../sqlrf/Data-Types.html#SQLRF30022" target="_blank"><span><cite>Oracle数据库SQL语言参考</cite></span></a></p>
                        </li>
                     </ul>
                  </div>
               </div><a id="LNOCI72716"></a><a id="LNOCI72717"></a><a id="LNOCI16878"></a><div class="props_rev_3"><a id="GUID-FCA8FA3E-9018-468B-B722-9444E10838C4" name="GUID-FCA8FA3E-9018-468B-B722-9444E10838C4"></a><h4 id="LNOCI-GUID-FCA8FA3E-9018-468B-B722-9444E10838C4" class="sect4"><span class="enumeration_section">20.13.1</span>关于类型接口</h4>
                  <div>
                     <p>您可以使用类型接口来构造命名和匿名瞬态对象类型（使用属性构建）和集合类型。</p>
                     <p>使用<code class="codeph">OCITypeBeginCreate()</code>调用开始瞬态对象类型和集合类型的类型构造（typecode参数确定正在构造哪一个）。
                     </p>
                     <p>您必须使用<code class="codeph">OCIDescriptorAlloc()</code>分配参数句柄。随后，使用<code class="codeph">OCIAttrSet()</code>设置类型信息（对于对象类型的属性和集合元素的类型<code class="codeph">OCIAttrSet()</code> 。对于对象类型，如<a href="object-relational-data-types-in-oci.html#GUID-FCA8FA3E-9018-468B-B722-9444E10838C4__BGBEEFJE">例20-10</a>所示，使用<code class="codeph">OCITypeAddAttr()</code>将属性信息添加到类型中。添加最后一个属性的信息后，必须调用<code class="codeph">OCITypeEndCreate()</code> 。
                     </p>
                     <p>对于集合类型，如<a href="object-relational-data-types-in-oci.html#GUID-FCA8FA3E-9018-468B-B722-9444E10838C4__BGBBFBFI">例20-11</a>所示，使用<code class="codeph">OCITypeSetCollection()</code>设置集合元素类型的信息。随后，调用<code class="codeph">OCITypeEndCreate()</code>完成构造。
                     </p>
                     <p>您可以使用<code class="codeph">OCIDescribeAny()</code>调用来获取与持久类型相对应的<code class="codeph">OCIType</code> 。
                     </p>
                     <div class="example" id="GUID-FCA8FA3E-9018-468B-B722-9444E10838C4__BGBEEFJE">
                        <p class="titleinexample">示例20-10使用类型接口构造对象类型</p><pre class="oac_no_warn" dir="ltr">OCITypeBeginCreate（...）/ *开始创建类型* / OCIDescriptorAlloc（...）OCIAttrSet（...）OCITypeAddAttr（...）/ *添加属性1 * / OCIAttrSet（...）OCITypeAddAttr（...）/ *添加属性2 * / ...OCITypeEndCreate（...）/ *结束类型创建* /</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-FCA8FA3E-9018-468B-B722-9444E10838C4__BGBBFBFI">
                        <p class="titleinexample">示例20-11使用类型接口构造集合类型</p><pre class="oac_no_warn" dir="ltr">OCITypeBeginCreate（...）/ *开始创建类型* / OCIDescriptorAlloc（...）OCIAttrSet（...）OCITypeSetCollection（...）/ *设置有关集合元素的信息* / OCITypeEndCreate（...）/ *结束类型创建* /</pre></div>
                     <!-- class="example" -->
                     <div class="section">
                        <div class="p">本节包括以下主题：<ul style="list-style-type:disc">
                              <li>
                                 <p><a href="object-relational-data-types-in-oci.html#GUID-C954EBEA-D5F7-479B-A646-5250F1690D84" title="您可以使用OCIDescriptorAlloc（）调用来分配OCIParam（父句柄是环境句柄）。">关于为OCIType调用创建参数描述符</a></p>
                              </li>
                              <li>
                                 <p><a href="object-relational-data-types-in-oci.html#GUID-0EC42E0A-5C04-4760-9940-A1C882BEC941" title="您可以使用OCIDescribeAny（）调用来获取与持久类型相对应的OCIType。">关于获取持久类型的OCIType</a></p>
                              </li>
                              <li>
                                 <p><a href="object-relational-data-types-in-oci.html#GUID-2903B1B3-1C8F-47CB-8A42-D4366664347B" title="可以使用这些瞬态类型描述调用OCIDescribeAny（）以获取类型的动态描述。">输入访问呼叫</a></p>
                              </li>
                              <li>
                                 <p><a href="object-relational-data-types-in-oci.html#GUID-8B2E4762-52E0-4162-97D6-D0F00A18F597" title="对于表示内置类型（使用内置typecode创建）的瞬态类型，描述这些类型的参数句柄（类型为OCI_PTYPE_TYPE）。">OCIDescribeAny（）的扩展</a></p>
                              </li>
                           </ul>
                        </div>
                        <div class="infoboxnotealso" id="GUID-FCA8FA3E-9018-468B-B722-9444E10838C4__GUID-CE386BA3-FEBA-4A0B-8CAC-B1152056D341">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><a href="oci-type-interface-functions.html#GUID-27058922-D431-48F0-9751-16CB2C3E8723" title="开始了瞬态类型的构建过程。类型是匿名的（没有名称）。">OCITypeBeginCreate（）</a></p>
                              </li>
                              <li>
                                 <p><a href="handle-and-descriptor-functions.html#GUID-E9EF2766-E078-49A7-B1D1-738E4BA4814F" title="分配存储以保存描述符或LOB定位符。">OCIDescriptorAlloc（）</a></p>
                              </li>
                              <li>
                                 <p><a href="handle-and-descriptor-functions.html#GUID-3741D7BD-7652-4D7A-8813-AC2AEA8D3B03" title="设置句柄或描述符的属性值。">OCIAttrSet（）</a></p>
                              </li>
                              <li>
                                 <p><a href="oci-type-interface-functions.html#GUID-B08C00FB-A9E9-49D7-A881-04A5A56BA082" title="将属性添加到先前使用typecode OCI_TYPECODE_OBJECT构造的对象类型。">OCITypeAddAttr（）</a></p>
                              </li>
                              <li>
                                 <p><a href="oci-type-interface-functions.html#GUID-2A09A697-CA56-46B7-80C3-A1E310757C8E" title="完成类型描述的构造。随后，只允许访问。">OCITypeEndCreate（）</a></p>
                              </li>
                              <li>
                                 <p><a href="oci-type-interface-functions.html#GUID-F3374E0F-BD26-4675-A643-8087B43DEECC" title="设置集合类型信息。">OCITypeSetCollection（）</a></p>
                              </li>
                              <li>
                                 <p><a href="oci-type-interface-functions.html#GUID-2A09A697-CA56-46B7-80C3-A1E310757C8E" title="完成类型描述的构造。随后，只允许访问。">OCITypeEndCreate（）</a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div><a id="LNOCI16879"></a><div class="props_rev_3"><a id="GUID-C954EBEA-D5F7-479B-A646-5250F1690D84" name="GUID-C954EBEA-D5F7-479B-A646-5250F1690D84"></a><h5 id="LNOCI-GUID-C954EBEA-D5F7-479B-A646-5250F1690D84" class="sect5"><span class="enumeration_section">20.13.1.1</span>关于为OCIType调用创建参数描述符</h5>
                     <div>
                        <p>您可以使用<code class="codeph">OCIDescriptorAlloc()</code>调用来分配<code class="codeph">OCIParam</code> （父句柄是环境句柄）。
                        </p>
                        <p>随后，您可以使用以下允许的属性类型调用<code class="codeph">OCIAttrSet()</code>来设置相关的类型信息：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">OCI_ATTR_PRECISION</code></p>
                           </li>
                        </ul>
                        <p>设置数字精度。将<code class="codeph">(ub1 *)</code>属性值传递给保存精度值的缓冲区。
                        </p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">OCI_ATTR_SCALE</code></p>
                           </li>
                        </ul>
                        <p>设置数字刻度。将<code class="codeph">(sb1 *)</code>属性值传递给保存比例值的缓冲区。
                        </p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">OCI_ATTR_CHARSET_ID</code></p>
                           </li>
                        </ul>
                        <p>设置字符类型的字符集ID。将<code class="codeph">(ub2 *)</code>属性值传递给保存char集ID的缓冲区。</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">OCI_ATTR_CHARSET_FORM</code></p>
                           </li>
                        </ul>
                        <p>设置字符类型的字符集形式。将<code class="codeph">(ub1 *)</code>属性值传递给保存字符集形式值的缓冲区。
                        </p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">OCI_ATTR_DATA_SIZE</code></p>
                           </li>
                        </ul>
                        <p><code class="codeph">VARCHAR2</code> ， <code class="codeph">RAW</code>长度。将<code class="codeph">(ub2 *)</code>属性值传递给保持长度的缓冲区。
                        </p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">OCI_ATTR_TYPECODE</code></p>
                           </li>
                        </ul>
                        <p>设置typecode。将<code class="codeph">(ub2 *)</code>属性值传递给持有typecode的缓冲区。必须先设置此属性。
                        </p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">OCI_ATTR_TDO</code></p>
                           </li>
                        </ul>
                        <p>设置对象或集合属性的<code class="codeph">OCIType</code> 。将<code class="codeph">(OCIType *)</code>属性值传递<code class="codeph">OCIType</code>该属性对应的<code class="codeph">OCIType</code> 。确保<code class="codeph">OCIType</code>时，这是固定<code class="codeph">OCIParam</code>期间使用<code class="codeph">AnyType</code>建设。如果它是瞬态类型属性，则其分配持续时间应至少与正在创建的顶级<code class="codeph">OCIType</code>一样多。否则，返回异常。
                        </p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>对于内置类型，SQL类型属性可接受以下类型代码（ <code class="codeph">OCI_ATTR_TYPECODE</code>允许值）：</p>
                              <p><code class="codeph">OCI_TYPECODE_DATE</code> ， <code class="codeph">OCI_TYPECODE_NUMBER</code> ，</p>
                              <p><code class="codeph">OCI_TYPECODE_VARCHAR</code> ， <code class="codeph">OCI_TYPECODE_RAW</code> ，</p>
                              <p><code class="codeph">OCI_TYPECODE_CHAR</code> ， <code class="codeph">OCI_TYPECODE_VARCHAR2</code> ，</p>
                              <p><code class="codeph">OCI_TYPECODE_VARCHAR</code> ， <code class="codeph">OCI_TYPECODE_BLOB</code> ，</p>
                              <p><code class="codeph">OCI_TYPECODE_BFILE</code> ， <code class="codeph">OCI_TYPECODE_CLOB</code> ，</p>
                              <p><code class="codeph">OCI_TYPECODE_TIMESTAMP</code> ， <code class="codeph">OCI_TYPECODE_TIMESTAMP_TZ</code> ，</p>
                              <p><code class="codeph">OCI_TYPECODE_TIMESTAMP_LTZ</code> ，</p>
                              <p><code class="codeph">OCI_TYPECODE_INTERVAL_YM</code>和<code class="codeph">OCI_TYPECODE_INTERVAL_DS</code> 。</p>
                           </li>
                           <li>
                              <p>如果属性或集合元素类型本身是另一种瞬态类型，则将<code class="codeph">OCI_ATTR_TYPECODE</code>设置为<code class="codeph">OCI_TYPECODE_OBJECT</code>或<code class="codeph">OCI_TYPECODE_REF</code> （对于<code class="codeph">REF</code> s）或<code class="codeph">OCI_TYPECODE_VARRAY</code>或<code class="codeph">OCI_TYPECODE_TABLE</code> ，并将<code class="codeph">OCI_ATTR_TDO</code>设置为与瞬态类型对应的<code class="codeph">OCIType</code> 。
                              </p>
                           </li>
                           <li>
                              <p>对于用户定义的类型属性， <code class="codeph">OCI_ATTR_TYPECODE</code>的允许值为：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">OCI_TYPECODE_OBJECT</code> （对象类型）</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">OCI_TYPECODE_REF</code> （对于<code class="codeph">REF</code>类型）</p>
                                 </li>
                                 <li>
                                    <p>和<code class="codeph">OCI_TYPECODE_VARRAY</code>或<code class="codeph">OCI_TYPECODE_TABLE</code> （对于集合）</p>
                                 </li>
                              </ul>
                              <p>在这些情况下，应将<code class="codeph">OCI_ATTR_TDO</code>设置为适当的用户定义类型的<code class="codeph">OCIType</code> 。
                              </p>
                           </li>
                        </ul>
                        <div class="infoboxnotealso" id="GUID-C954EBEA-D5F7-479B-A646-5250F1690D84__GUID-5C8CE855-6D4A-4C59-8CFD-DDE973B9CF43">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><a href="handle-and-descriptor-functions.html#GUID-E9EF2766-E078-49A7-B1D1-738E4BA4814F" title="分配存储以保存描述符或LOB定位符。">OCIDescriptorAlloc（）</a></p>
                              </li>
                              <li>
                                 <p><a href="handle-and-descriptor-functions.html#GUID-3741D7BD-7652-4D7A-8813-AC2AEA8D3B03" title="设置句柄或描述符的属性值。">OCIAttrSet（）</a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div><a id="LNOCI16880"></a><div class="props_rev_3"><a id="GUID-0EC42E0A-5C04-4760-9940-A1C882BEC941" name="GUID-0EC42E0A-5C04-4760-9940-A1C882BEC941"></a><h5 id="LNOCI-GUID-0EC42E0A-5C04-4760-9940-A1C882BEC941" class="sect5"><span class="enumeration_section">20.13.1.2</span>关于获取持久类型的OCIType</h5>
                     <div>
                        <p>您可以使用<code class="codeph">OCIDescribeAny()</code>调用来获取与持久类型相对应的<code class="codeph">OCIType</code> 。
                        </p>
                        <p>这在以下示例中显示：</p><pre class="oac_no_warn" dir="ltr">OCIDescribeAny（svchp，errhp。（void *）“HR.EMPLOYEES”，（ub4）strlen（“HR.EMPLOYEES”），（ub1）OCI_OTYPE_NAME，（ub1）OCI_DEFAULT，OCI_PTYPE_TYPE，dschp）;</pre><p>从describe句柄（ <span class="italic"><code class="codeph">dschp</code></span> ），您可以使用<code class="codeph">OCIAttrGet()</code>调用来获取<code class="codeph">OCIType</code> 。
                        </p>
                        <div class="infoboxnotealso" id="GUID-0EC42E0A-5C04-4760-9940-A1C882BEC941__GUID-1602AD3A-D620-466A-A7DB-3F206BE1C152">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><a href="bind-define-describe-functions.html#GUID-AE9F73FB-DCC1-401E-8151-A8A89059163A" title="描述现有的模式和子模式对象。">OCIDescribeAny（）</a></p>
                              </li>
                              <li>
                                 <p><a href="handle-and-descriptor-functions.html#GUID-FA199A99-4D7A-42C2-BB0A-C20047B95DF9" title="获取句柄属性的值。">OCIAttrGet（）</a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div><a id="LNOCI16881"></a><div class="props_rev_3"><a id="GUID-2903B1B3-1C8F-47CB-8A42-D4366664347B" name="GUID-2903B1B3-1C8F-47CB-8A42-D4366664347B"></a><h5 id="LNOCI-GUID-2903B1B3-1C8F-47CB-8A42-D4366664347B" class="sect5"><span class="enumeration_section">20.13.1.3</span>键入访问呼叫</h5>
                     <div>
                        <p>可以使用这些瞬态类型描述调用<code class="codeph">OCIDescribeAny()</code>以获取类型的动态描述。
                        </p>
                        <p><code class="codeph">OCIType</code>指针可以直接传递给<code class="codeph">OCIDescribeAny()</code> （ <span class="italic"><code class="codeph">objtype</code></span>设置为<code class="codeph">OCI_OTYPE_PTR</code> ）。这提供了一种通过名称和位置获取属性信息的方法。
                        </p>
                        <div class="infoboxnotealso" id="GUID-2903B1B3-1C8F-47CB-8A42-D4366664347B__GUID-A8374C96-E9A5-43BA-9B55-02C7C5F6A9E2">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="bind-define-describe-functions.html#GUID-AE9F73FB-DCC1-401E-8151-A8A89059163A" title="描述现有的模式和子模式对象。">OCIDescribeAny（）</a></p>
                        </div>
                     </div>
                  </div><a id="LNOCI16882"></a><div class="props_rev_3"><a id="GUID-8B2E4762-52E0-4162-97D6-D0F00A18F597" name="GUID-8B2E4762-52E0-4162-97D6-D0F00A18F597"></a><h5 id="LNOCI-GUID-8B2E4762-52E0-4162-97D6-D0F00A18F597" class="sect5"><span class="enumeration_section">20.13.1.4</span> OCIDescribeAny（）的扩展</h5>
                     <div>
                        <p>对于表示内置类型（使用内置typecode创建）的瞬态类型，描述这些类型的参数句柄（类型为<code class="codeph">OCI_PTYPE_TYPE</code> ）。
                        </p>
                        <p>描述这些瞬态类型的参数句柄支持以下额外属性：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">OCI_ATTR_DATA_SIZE</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">OCI_ATTR_TYPECODE</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">OCI_ATTR_DATA_TYPE</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">OCI_ATTR_PRECISION</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">OCI_ATTR_SCALE</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">OCI_ATTR_CHARSET_ID</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">OCI_ATTR_CHARSET_FORM</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">OCI_ATTR_LFPRECISION</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">OCI_ATTR_FSPRECISION</code></p>
                           </li>
                        </ul>
                        <p>这些属性在描述类型属性时具有通常的含义。</p>
                        <div class="infoboxnote" id="GUID-8B2E4762-52E0-4162-97D6-D0F00A18F597__GUID-E47AB09E-C446-47C1-83CE-4F83DFBE0F44">
                           <p class="notep1">注意：</p>
                           <p>仅对瞬态内置类型支持这些属性。对于这些类型，属性<code class="codeph">OCI_ATTR_IS_TRANSIENT_TYPE</code>和<code class="codeph">OCI_ATTR_IS_PREDEFINED_TYPE</code>均为true。对于持久类型，仅从类型属性的参数句柄（类型为<code class="codeph">OCI_PTYPE_TYPE_ATTR</code> ）支持这些属性。
                           </p>
                        </div>
                     </div>
                  </div>
               </div><a id="LNOCI72718"></a><a id="LNOCI16883"></a><div class="props_rev_3"><a id="GUID-E84C6D01-023D-4B80-BEEB-250ADDFDDEB2" name="GUID-E84C6D01-023D-4B80-BEEB-250ADDFDDEB2"></a><h4 id="LNOCI-GUID-E84C6D01-023D-4B80-BEEB-250ADDFDDEB2" class="sect4"><span class="enumeration_section">20.13.2</span>关于OCIAnyData接口</h4>
                  <div>
                     <p><code class="codeph">OCIAnyData</code>封装了类型信息和该类型的数据实例（即自描述数据）。
                     </p>
                     <p>一个<code class="codeph">OCIAnyData</code>可以从任何内建或用户定义类型的实例，通过使用被创建<code class="codeph">OCIAnyDataConvert()</code>调用。此调用执行转换（ <code class="codeph">OCIAnyData</code>转换）到<code class="codeph">OCIAnyData</code> 。
                     </p>
                     <p>或者，可以通过使用类型信息（ <code class="codeph">OCIType</code> ）调用<code class="codeph">OCIAnyDataBeginCreate()</code>来<code class="codeph">OCIAnyDataBeginCreate()</code>构造对象类型和集合类型（对象类型或一次一个集合元素的<code class="codeph">OCIType</code> ）。随后，您可以将<code class="codeph">OCIAnyDataAttrSet()</code>用于对象类型，并将<code class="codeph">OCIAnyDataCollAddElem()</code>用于集合类型。最后，使用<code class="codeph">OCIAnyDataEndCreate()</code>调用来完成构造过程。
                     </p>
                     <p>随后，您可以调用访问例程。要将<code class="codeph">OCIAnyData</code>转换（ <code class="codeph">OCIAnyData</code>转换）为相应的类型实例，可以使用<code class="codeph">OCIAnyDataAccess()</code> 。
                     </p>
                     <p>基于对象或集合类型的<code class="codeph">OCIAnyData</code>也可以逐个访问。
                     </p>
                     <p>提供特殊的收集构建和访问呼叫以提高性能。您可以使用这些调用来避免在内存中不必要地创建和复制整个集合，如<a href="object-relational-data-types-in-oci.html#GUID-E84C6D01-023D-4B80-BEEB-250ADDFDDEB2__BGBJBGHE">例20-12</a>所示。
                     </p>
                     <p>要么</p><pre class="oac_no_warn" dir="ltr">OCIAnyDataCollAddElem（...）/ *集合的元素构造* / OCIAnyDataEndCreate（...）/ *结束OCIAnyData创建* /</pre><div class="example" id="GUID-E84C6D01-023D-4B80-BEEB-250ADDFDDEB2__BGBJBGHE">
                        <p class="titleinexample">示例20-12使用特殊构造和访问调用以提高性能</p><pre class="oac_no_warn" dir="ltr">OCIAnyDataConvert（...）/ *在1次调用中将内置或用户定义的类型实例强制转换为OCIAnyData。* / OCIAnyDataBeginCreate（...）/ *开始AnyData Creation * / OCIAnyDataAttrSet（...）/ *对象类型的属性方式构造* /</pre></div>
                     <!-- class="example" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E84C6D01-023D-4B80-BEEB-250ADDFDDEB2__GUID-E5EFEF51-60C1-4D7D-AB3C-A04A9816FEC0"></p>
                        <div class="infoboxnotealso" id="GUID-E84C6D01-023D-4B80-BEEB-250ADDFDDEB2__GUID-868C68EA-57F4-41F5-BC81-CB346838A08B">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><a href="oci-any-data-interface-functions.html#GUID-9A7B11E6-5FE9-46DD-B74A-4F21D177C315" title="使用给定类型的给定数据值构造OCIAnyData。">OCIAnyDataConvert（）</a></p>
                              </li>
                              <li>
                                 <p><a href="oci-any-data-interface-functions.html#GUID-89A24450-F4B4-43D0-8194-30023978E81B" title="在给定的持续时间内分配OCIAnyData并使用类型信息对其进行初始化。">OCIAnyDataBeginCreate（）</a></p>
                              </li>
                              <li>
                                 <p><a href="oci-any-data-interface-functions.html#GUID-9F1F50D9-F886-4DD5-AAA8-C12B7CD7EF15" title="使用给定值设置当前位置的属性。">OCIAnyDataAttrSet（）</a></p>
                              </li>
                              <li>
                                 <p><a href="oci-any-data-interface-functions.html#GUID-51D85777-58B7-4348-ABB6-22F3E8568E37" title="将下一个集合元素添加到当前属性位置的OCIAnyData的collection属性。">OCIAnyDataCollAddElem（）</a></p>
                              </li>
                              <li>
                                 <p><a href="oci-any-data-interface-functions.html#GUID-D58536FB-33DE-4102-BBA1-9497A5368228" title="标记OCIAnyData创建的结束。">OCIAnyDataEndCreate（）</a></p>
                              </li>
                              <li>
                                 <p><a href="oci-any-data-interface-functions.html#GUID-FA586E41-210F-43EF-9492-57FE46879C66" title="检索OCIAnyData的数据值。">OCIAnyDataAccess（）</a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="LNOCI16884"></a><div class="props_rev_3"><a id="GUID-FE75A655-DBE6-46B0-A8D1-537991A39BE9" name="GUID-FE75A655-DBE6-46B0-A8D1-537991A39BE9"></a><h4 id="LNOCI-GUID-FE75A655-DBE6-46B0-A8D1-537991A39BE9" class="sect4"><span class="enumeration_section">20.13.3</span> OCIAnyData函数的NCHAR类型代码</h4>
                  <div>
                     <p>功能<code class="codeph">OCIAnyDataTypeCodeToSqlt()</code>的转换<code class="codeph">OCITypeCode</code>用于<span>OCIAnyData</span>值到对应于该值的表示由<span>OCIAnyData</span> API作为返回的<span>SQLT</span>代码。</p>
                     <p></p>
                     <p>以下类型代码仅用于OCIAnyData函数：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">OCI_TYPECODE_NCHAR</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">OCI_TYPECODE_NVARCHAR2</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">OCI_TYPECODE_NCLOB</code></p>
                        </li>
                     </ul>
                     <p>在调用其他函数（如<code class="codeph">OCIDescribeAny()</code> ，不会返回这些类型代码，并且必须使用字符集形式来确定数据是否为<code class="codeph">NCHAR</code> （如果字符集形式为SQLCS_NCHAR）。
                     </p>
                     <p><code class="codeph">OCIAnyDataTypeCodeToSqlt()</code>将<code class="codeph">OCI_TYPECODE_CHAR</code>和<code class="codeph">OCI_TYPECODE_VARCHAR2</code>转换为输出值<code class="codeph">SQLT_VST</code> （对应于<code class="codeph">OCIString</code>映射），其字符集形式为<code class="codeph">SQLCS_IMPLICIT</code> 。 <code class="codeph">OCI_TYPECODE_NVARCHAR2</code>也返回<code class="codeph">SQLT_VST</code> （ <code class="codeph">OCIString</code>用的字符集形式映射由OCIAnyData API使用） <code class="codeph">SQLCS_NCHAR</code> 。</p>
                     <div class="infoboxnotealso" id="GUID-FE75A655-DBE6-46B0-A8D1-537991A39BE9__GUID-CAE2F761-515F-4521-87E0-ACD09AA1A06A">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="bind-define-describe-functions.html#GUID-AE9F73FB-DCC1-401E-8151-A8A89059163A" title="描述现有的模式和子模式对象。">OCIDescribeAny（）</a></p>
                           </li>
                           <li>
                              <p><a href="oci-any-data-interface-functions.html#GUID-0A703B0A-E1AF-4817-85BD-533EE83D5C8E" title="将OCITypeCode的AnyData值转换为与OCIAnyData API返回的值的表示形式对应的SQLT代码。">OCIAnyDataTypeCodeToSqlt（）</a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="LNOCI16885"></a><div class="props_rev_3"><a id="GUID-292DFA46-50CD-4578-B4A3-76E3B2CCC7C4" name="GUID-292DFA46-50CD-4578-B4A3-76E3B2CCC7C4"></a><h4 id="LNOCI-GUID-292DFA46-50CD-4578-B4A3-76E3B2CCC7C4" class="sect4"><span class="enumeration_section">20.13.4</span>关于OCIAnyDataSet接口</h4>
                  <div>
                     <p><code class="codeph">OCIAnyDataSet</code>封装了类型信息和<span class="italic">该</span>类型的<span class="italic">一组实例</span> 。要开始构建过程，请调用<code class="codeph">OCIAnyDataSetBeginCreate()</code> 。
                     </p>
                     <p>调用<code class="codeph">OCIAnyDataSetAddInstance()</code>以添加新实例;此调用返回与该实例对应的<code class="codeph">OCIAnyData</code> 。
                     </p>
                     <p>然后，您可以调用OCIAnyData函数来构造此实例。添加<code class="codeph">OCIAnyDataSetEndCreate()</code>所有实例后调用<code class="codeph">OCIAnyDataSetEndCreate()</code> 。
                     </p>
                     <p>要进行访问，请调用<code class="codeph">OCIAnyDataSetGetInstance()</code>以获取与<code class="codeph">OCIAnyData</code>对应的<code class="codeph">OCIAnyData</code> 。仅支持顺序访问。随后，您可以调用OCIAnyData访问函数，如以下示例所示：</p><pre class="oac_no_warn" dir="ltr">OCIAnyDataSetBeginCreate（...）/ *开始AnyDataSet Creation * / OCIAnyDataSetAddInstance（...）/ *向AnyDataSet添加新实例* / / *使用OCIAnyData *（）函数创建实例* / OCIAnyDataSetEndCreate（...）/ *结束OCIAnyDataSet创建* /</pre><div class="infoboxnotealso" id="GUID-292DFA46-50CD-4578-B4A3-76E3B2CCC7C4__GUID-8A37ACA8-BC8C-4A62-B704-4B58EEC1593A">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="oci-any-data-set-interface-functions.html#GUID-9E2B585B-5DA0-44AC-A12C-7F22B83CCB19" title="在给定的持续时间内分配OCIAnyDataSet并使用类型信息对其进行初始化。">OCIAnyDataSetBeginCreate（）</a></p>
                           </li>
                           <li>
                              <p><a href="oci-any-data-set-interface-functions.html#GUID-13BB5AF0-2DF4-4CE3-A55E-80F98747127D" title="将新的框架实例添加到OCIAnyDataSet，并将实例的所有属性设置为NULL。">OCIAnyDataSetAddInstance（）</a></p>
                           </li>
                           <li>
                              <p><a href="oci-any-data-set-interface-functions.html#GUID-8281456E-9DFE-4D02-9BA8-837F04ADD0E7" title="标记OCIAnyDataSet创建的结束。">OCIAnyDataSetEndCreate（）</a></p>
                           </li>
                           <li>
                              <p><a href="oci-any-data-set-interface-functions.html#GUID-8E8E00E9-5719-4BB0-93A3-1E0FAEF2624F" title="返回与当前位置的实例对应的OCIAnyData，并更新当前位置。">OCIAnyDataSetGetInstance（）</a></p>
                           </li>
                           <li>
                              <p><a href="oci-any-type-and-data-functions.html#GUID-2872A0B8-D0DA-47B9-8692-FD55AC959E9B" title="本章介绍OCI任何类型和数据功能。">OCI任何类型和数据函数，</a>用于完整描述这些接口中的所有调用</p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div>
            </div><a id="LNOCI16886"></a><div class="props_rev_3"><a id="GUID-53D4F217-BE53-4B78-962C-0EAA9741F9AC" name="GUID-53D4F217-BE53-4B78-962C-0EAA9741F9AC"></a><h3 id="LNOCI-GUID-53D4F217-BE53-4B78-962C-0EAA9741F9AC" class="sect3"><span class="enumeration_section">20.14</span>关于绑定命名数据类型</h3>
               <div>
                  <p>本节提供有关绑定命名数据类型（如对象和集合）和<code class="codeph">REF</code>的信息。
                  </p>
                  <div class="p">本节包括以下主题：<ul style="list-style-type:disc">
                        <li>
                           <p><a href="object-relational-data-types-in-oci.html#GUID-25B2139A-8F55-4256-88EB-D8F5F706904C" title="对于命名数据类型（对象类型或集合）绑定，在OCIBindByName（）或OCIBindByName2（）或OCIBindByPos（）或OCIBindByPos2（）之后需要进行第二次绑定调用。">命名数据类型绑定</a></p>
                        </li>
                        <li>
                           <p><a href="object-relational-data-types-in-oci.html#GUID-5A08B855-FB63-4457-866F-DAB035059E49" title="与命名数据类型一样，绑定REF是一个两步过程。">关于绑定REF</a></p>
                        </li>
                        <li>
                           <p><a href="object-relational-data-types-in-oci.html#GUID-BB043B77-4B3C-4A1C-A4E4-9F225E0DF1BB" title="使用命名数据类型和REF绑定时，请记住以下重要信息。">命名数据类型和REF绑定的信息</a></p>
                        </li>
                        <li>
                           <p><a href="object-relational-data-types-in-oci.html#GUID-6F4BAE5F-0854-4CBC-9557-6A669673A14E" title="对于数组插入或读取的数组绑定命名数据类型或REF，用户必须传入指向适当类型的缓冲区（预分配或其他）的指针数组。">有关数组绑定的信息</a></p>
                        </li>
                     </ul>
                  </div>
               </div><a id="LNOCI16887"></a><div class="props_rev_3"><a id="GUID-25B2139A-8F55-4256-88EB-D8F5F706904C" name="GUID-25B2139A-8F55-4256-88EB-D8F5F706904C"></a><h4 id="LNOCI-GUID-25B2139A-8F55-4256-88EB-D8F5F706904C" class="sect4"><span class="enumeration_section">20.14.1</span>命名数据类型绑定</h4>
                  <div>
                     <p>对于命名数据类型（对象类型或集合）绑定，在<code class="codeph">OCIBindByName()</code>或<code class="codeph">OCIBindByName2()</code>或<code class="codeph">OCIBindByPos()</code>或<code class="codeph">OCIBindByPos2()</code>需要进行第二次绑定调用。
                     </p>
                     <p><code class="codeph">OCIBindObject()</code>调用设置特定于对象类型bind的其他属性。当从具有对象数据类型的列的表中获取数据时，OCI应用程序使用此调用。
                     </p>
                     <p><code class="codeph">OCIBindObject()</code>调用在其他参数中采用指定数据类型的类型描述符对象（TDO）。创建数据类型<code class="codeph">OCIType</code>的TDO并在创建命名数据类型时将其存储在数据库中。它包含有关类型及其属性的信息。应用程序可以通过调用<code class="codeph">OCITypeByName()</code>来获取TDO。
                     </p>
                     <p><code class="codeph">OCIBindObject()</code>调用还为指定的数据类型绑定设置指示符变量或结构。
                     </p>
                     <p>绑定命名数据类型时，请使用<code class="codeph">SQLT_NTY</code>数据类型常量来指示要绑定的程序变量的数据类型。<code class="codeph">SQLT_NTY</code>表示正在绑定表示指定数据类型的C结构。指向此结构的指针将传递给绑定调用。
                     </p>
                     <p>通过继承和实例可替代性，您可以绑定期望超类型的子类型实例。</p>
                     <p>在某些情况下，使用命名数据类型可能需要使用三个绑定调用。例如，要将命名数据类型的静态数组绑定到PL / SQL表，必须调用三个调用： <code class="codeph">OCIBindByName()</code>或<code class="codeph">OCIBindByName2()</code> ， <code class="codeph">OCIBindArrayOfStruct()</code>和<code class="codeph">OCIBindObject()</code> 。
                     </p>
                     <div class="infoboxnotealso" id="GUID-25B2139A-8F55-4256-88EB-D8F5F706904C__GUID-6D2FF06F-C118-42B6-AAF7-C387C3673278">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="oci-object-relational-programming.html#GUID-7B0B6CF5-AD69-4FCB-9E96-CA6469601077" title="An application must fetch embedded object instances.">获取</a>有关使用这些数据类型从数据库中<a href="oci-object-relational-programming.html#GUID-7B0B6CF5-AD69-4FCB-9E96-CA6469601077" title="应用程序必须获取嵌入的对象实例。">获取嵌入对象</a>的信息，请获取嵌入式对象</p>
                           </li>
                           <li>
                              <p><a href="object-relational-data-types-in-oci.html#GUID-BB043B77-4B3C-4A1C-A4E4-9F225E0DF1BB" title="使用命名数据类型和REF绑定时，请记住以下重要信息。">命名数据类型和REF绑定的信息</a></p>
                           </li>
                           <li>
                              <p><a href="object-relational-data-types-in-oci.html#GUID-3D021DDC-A638-41EF-BB61-1CD1B2A33A51" title="列出并描述描述符对象。">描述符对象</a></p>
                           </li>
                           <li>
                              <p><a href="bind-define-describe-functions.html#GUID-CD63DF78-2178-4727-A896-B9673C4A37F0" title="在SQL语句或PL / SQL块中创建程序变量和占位符之间的关联。">OCIBindByName（）</a>或<a href="bind-define-describe-functions.html#GUID-55C47708-5468-4106-89BE-1AB60861D037" title="在SQL语句或PL / SQL块中创建程序变量和占位符之间的关联。当客户端上的实际长度超过UB2MAXVAL时，在处理数据类型时使用此函数。">OCIBindByName2（）</a></p>
                           </li>
                           <li>
                              <p><a href="bind-define-describe-functions.html#GUID-D28DF5A7-3C75-4E52-82F7-A5D6D5714E69" title="在SQL语句或PL / SQL块中创建程序变量和占位符之间的关联。">OCIBindByPos（）</a>或<a href="bind-define-describe-functions.html#GUID-5C505821-323D-473D-825B-448C8D9A6702" title="在SQL语句或PL / SQL块中创建程序变量和占位符之间的关联。当客户端上的实际长度超过UB2MAXVAL时，在处理数据类型时使用此调用。">OCIBindByPos2（）</a></p>
                           </li>
                           <li>
                              <p><a href="bind-define-describe-functions.html#GUID-384B5D31-165B-4661-A334-8C2B5E475AEF" title="设置命名数据类型（对象）绑定所需的其他属性。">OCIBindObject（）</a></p>
                           </li>
                           <li>
                              <p><a href="oci-type-information-accessor-functions.html#GUID-3534AABC-E347-4BC7-B220-0CAECDC9ECE7" title="获取现有TDO的最新版本。">OCITypeByName（）</a></p>
                           </li>
                           <li>
                              <p><a href="bind-define-describe-functions.html#GUID-E83BF668-88FC-4F31-A950-3580B79588E0" title="设置静态数组绑定的跳过参数。">OCIBindArrayOfStruct（）</a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="LNOCI16888"></a><div class="props_rev_3"><a id="GUID-5A08B855-FB63-4457-866F-DAB035059E49" name="GUID-5A08B855-FB63-4457-866F-DAB035059E49"></a><h4 id="LNOCI-GUID-5A08B855-FB63-4457-866F-DAB035059E49" class="sect4"><span class="enumeration_section">20.14.2</span>关于绑定REF</h4>
                  <div>
                     <p>与命名数据类型一样，绑定<code class="codeph">REF</code>是一个两步过程。
                     </p>
                     <p>首先，调用<code class="codeph">OCIBindByName()</code>或<code class="codeph">OCIBindByName2()</code>或<code class="codeph">OCIBindByPos()</code>或<code class="codeph">OCIBindByPos2()</code> ，然后调用<code class="codeph">OCIBindObject()</code> 。
                     </p>
                     <p><code class="codeph">REF</code>使用<code class="codeph">SQLT_REF</code>数据类型绑定。使用<code class="codeph">SQLT_REF</code> ，绑定的程序变量必须是<code class="codeph">OCIRef *</code>类型。
                     </p>
                     <p>使用继承和<code class="codeph">REF</code>可替代性，您可以将<code class="codeph">REF</code>值绑定到期望<code class="codeph">REF</code>到超类型的子类型实例。
                     </p>
                     <div class="infoboxnotealso" id="GUID-5A08B855-FB63-4457-866F-DAB035059E49__GUID-C9D1BD8B-54C6-4340-B23B-FDD3932C8204">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="oci-object-relational-programming.html#GUID-2214E88A-97CD-4DF8-B1FD-31EB50D01402" title="要使用对象，应用程序必须首先从服务器检索一个或多个对象。">从服务器检索对象引用，</a>以获取有关将<code class="codeph">REF</code>绑定和固定到对象的信息</p>
                           </li>
                           <li>
                              <p><a href="object-relational-data-types-in-oci.html#GUID-BB043B77-4B3C-4A1C-A4E4-9F225E0DF1BB" title="Remember the following important information when you work with named data type and REF binds.">命名数据类型和REF的</a>信息<a href="object-relational-data-types-in-oci.html#GUID-BB043B77-4B3C-4A1C-A4E4-9F225E0DF1BB" title="使用命名数据类型和REF绑定时，请记住以下重要信息。">绑定</a>其他重要信息</p>
                           </li>
                           <li>
                              <p><a href="bind-define-describe-functions.html#GUID-CD63DF78-2178-4727-A896-B9673C4A37F0" title="在SQL语句或PL / SQL块中创建程序变量和占位符之间的关联。">OCIBindByName（）</a>或<a href="bind-define-describe-functions.html#GUID-55C47708-5468-4106-89BE-1AB60861D037" title="在SQL语句或PL / SQL块中创建程序变量和占位符之间的关联。当客户端上的实际长度超过UB2MAXVAL时，在处理数据类型时使用此函数。">OCIBindByName2（）</a></p>
                           </li>
                           <li>
                              <p><a href="bind-define-describe-functions.html#GUID-D28DF5A7-3C75-4E52-82F7-A5D6D5714E69" title="在SQL语句或PL / SQL块中创建程序变量和占位符之间的关联。">OCIBindByPos（）</a>或<a href="bind-define-describe-functions.html#GUID-5C505821-323D-473D-825B-448C8D9A6702" title="在SQL语句或PL / SQL块中创建程序变量和占位符之间的关联。当客户端上的实际长度超过UB2MAXVAL时，在处理数据类型时使用此调用。">OCIBindByPos2（）</a></p>
                           </li>
                           <li>
                              <p><a href="bind-define-describe-functions.html#GUID-384B5D31-165B-4661-A334-8C2B5E475AEF" title="设置命名数据类型（对象）绑定所需的其他属性。">OCIBindObject（）</a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="LNOCI16889"></a><div class="props_rev_3"><a id="GUID-BB043B77-4B3C-4A1C-A4E4-9F225E0DF1BB" name="GUID-BB043B77-4B3C-4A1C-A4E4-9F225E0DF1BB"></a><h4 id="LNOCI-GUID-BB043B77-4B3C-4A1C-A4E4-9F225E0DF1BB" class="sect4"><span class="enumeration_section">20.14.3</span>命名数据类型和REF绑定的信息</h4>
                  <div>
                     <p>使用命名数据类型和<code class="codeph">REF</code>绑定时，请记住以下重要信息。
                     </p>
                     <p>它包括有关内存分配和指示符变量用法的指针。</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>如果绑定的数据类型是<code class="codeph">SQLT_NTY</code> ，则使用<code class="codeph">OCIBindObject()</code>调用的指示符struct参数（ <code class="codeph">void ** indpp</code> ），并完全忽略标量指示符。
                           </p>
                        </li>
                        <li>
                           <p>如果数据类型是<code class="codeph">SQLT_REF</code> ，则使用标量指示符，并完全忽略<code class="codeph">OCIBindObject()</code>的指示符struct参数。
                           </p>
                        </li>
                        <li>
                           <p>指标结构的使用是可选的。用户可以在<span class="italic"><code class="codeph">indpp</code></span>参数中为<code class="codeph">OCIBindObject()</code>调用传递<code class="codeph">NULL</code>指针。因此，在绑定期间，对象不是原子级<code class="codeph">NULL</code>并且它的所有属性都不是<code class="codeph">NULL</code> 。</p>
                        </li>
                        <li>
                           <p><code class="codeph">OCIBindObject()</code>调用中的指示符结构大小指针， <span class="italic"><code class="codeph">indsp</code></span>和程序变量大小指针<span class="italic"><code class="codeph">pgvsp</code></span>是可选的。如果不需要这些参数，用户可以传递<code class="codeph">NULL</code> 。
                           </p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-BB043B77-4B3C-4A1C-A4E4-9F225E0DF1BB__GUID-3535AA45-3A8F-4A66-9095-AC88359622E3">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="bind-define-describe-functions.html#GUID-384B5D31-165B-4661-A334-8C2B5E475AEF" title="设置命名数据类型（对象）绑定所需的其他属性。">OCIBindObject（）</a></p>
                     </div>
                  </div>
               </div><a id="LNOCI16890"></a><div class="props_rev_3"><a id="GUID-6F4BAE5F-0854-4CBC-9557-6A669673A14E" name="GUID-6F4BAE5F-0854-4CBC-9557-6A669673A14E"></a><h4 id="LNOCI-GUID-6F4BAE5F-0854-4CBC-9557-6A669673A14E" class="sect4"><span class="enumeration_section">20.14.4有关</span>数组绑定的信息</h4>
                  <div>
                     <p>对于数组插入或提取的命名数据类型或<code class="codeph">REF</code>的数组绑定，用户必须传入指向适当类型的缓冲区（预分配或其他）的指针数组。
                     </p>
                     <p>类似地，标量指标的阵列<code class="codeph">SQLT_REF</code>类型或指针数组到指示器结构为<code class="codeph">SQLT_NTY</code>类型必须传递。
                     </p>
                     <div class="infoboxnotealso" id="GUID-6F4BAE5F-0854-4CBC-9557-6A669673A14E__GUID-38EBD1AA-1410-4B90-9DB6-11F4AB43AC9D">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="data-types.html#GUID-72D5AB6E-05B1-4144-BAF0-CA2C8538E3D2" title="命名数据类型是用户定义的类型，在SQL中使用CREATE TYPE命令指定。">命名数据类型：对象，VARRAY，嵌套表</a> ，以获取有关<code class="codeph">SQLT_NTY</code>更多信息</p>
                     </div>
                  </div>
               </div>
            </div><a id="LNOCI16891"></a><div class="props_rev_3"><a id="GUID-5BFF4D9F-67AC-411B-9722-4135671FFD1E" name="GUID-5BFF4D9F-67AC-411B-9722-4135671FFD1E"></a><h3 id="LNOCI-GUID-5BFF4D9F-67AC-411B-9722-4135671FFD1E" class="sect3"><span class="enumeration_section">20.15</span>关于定义命名数据类型</h3>
               <div>
                  <p>本节提供有关定义命名数据类型（例如，对象，集合）和<code class="codeph">REF</code>的信息。
                  </p>
                  <div class="p">本节包括以下主题：<ul style="list-style-type:disc">
                        <li>
                           <p><a href="object-relational-data-types-in-oci.html#GUID-FA5165DE-AA42-449B-81E2-D4B4A5AE21B8" title="对于命名数据类型（对象类型，嵌套表，varray）定义，需要两个定义调用。">关于定义命名数据类型输出变量</a></p>
                        </li>
                        <li>
                           <p><a href="object-relational-data-types-in-oci.html#GUID-5C5F60CE-4FEF-4E0F-87C3-BD80D39FFBA8" title="与命名数据类型一样，为REF输出变量定义是一个两步过程。">关于定义REF输出变量</a></p>
                        </li>
                        <li>
                           <p><a href="object-relational-data-types-in-oci.html#GUID-1E2056EF-32BE-4875-9211-C2D4BB535D11" title="在使用命名数据类型和REF定义时，请考虑以下重要信息。它包括有关内存分配和指示符变量用法的指针。">命名数据类型和REF定义的信息，以及PL / SQL OUT绑定</a></p>
                        </li>
                     </ul>
                  </div>
               </div><a id="LNOCI16892"></a><div class="props_rev_3"><a id="GUID-FA5165DE-AA42-449B-81E2-D4B4A5AE21B8" name="GUID-FA5165DE-AA42-449B-81E2-D4B4A5AE21B8"></a><h4 id="LNOCI-GUID-FA5165DE-AA42-449B-81E2-D4B4A5AE21B8" class="sect4"><span class="enumeration_section">20.15.1</span>关于定义命名数据类型输出变量</h4>
                  <div>
                     <p>对于命名数据类型（对象类型，嵌套表，varray）定义，需要两个定义调用。</p>
                     <p>应用程序应首先调用<code class="codeph">OCIDefineByPos()</code>或<code class="codeph">OCIDefineByPos2()</code> ，在<span class="italic"><code class="codeph">dty</code></span>参数中指定<code class="codeph">SQLT_NTY</code> 。在<code class="codeph">OCIDefineByPos()</code>或<code class="codeph">OCIDefineByPos2()</code> ，应用程序必须调用<code class="codeph">OCIDefineObject()</code>来设置与命名数据类型define相关的其他属性。在这种情况下， <code class="codeph">OCIDefineByPos()</code>或<code class="codeph">OCIDefineByPos2()</code>的数据缓冲区指针将被忽略。
                     </p>
                     <p>为命名数据类型define指定<code class="codeph">SQLT_NTY</code>数据类型常量。在这种情况下，应用程序将结果数据提取到指定数据类型的主机语言表示中。在大多数情况下，这是由Object Type Translator生成的C结构。
                     </p>
                     <p>要进行<code class="codeph">OCIDefineObject()</code>调用，必须提供指向C结构地址（预分配或其他）的指针。该对象可能已使用<code class="codeph">OCIObjectNew()</code>创建，在缓存中分配，或者使用用户分配的内存。
                     </p>
                     <p>但是，在存在继承的情况下，Oracle强烈建议在对象缓存中使用对象，而<span class="italic">不是</span>从堆栈中传递从用户内存中分配的对象。否则，由于实例可替代性，当客户端期望超<span class="italic">类型</span>实例时，服务器可以发回<span class="italic">子</span>类型实例。这要求服务器动态调整对象的大小，这仅适用于缓存中的对象。
                     </p>
                     <div class="infoboxnotealso" id="GUID-FA5165DE-AA42-449B-81E2-D4B4A5AE21B8__GUID-BDF8A7AB-543E-4E19-8D1C-C202A1ED8ECC">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="object-relational-data-types-in-oci.html#GUID-1E2056EF-32BE-4875-9211-C2D4BB535D11" title="Consider the following important information as you work with named data type and REF defines. It includes pointers about memory allocation and indicator variable usage.">有关命名数据类型和REF定义的信息，以及PL / SQL OUT</a>有关定义命名数据类型的更重要信息的<a href="object-relational-data-types-in-oci.html#GUID-1E2056EF-32BE-4875-9211-C2D4BB535D11" title="在使用命名数据类型和REF定义时，请考虑以下重要信息。它包括有关内存分配和指示符变量用法的指针。">绑定</a></p>
                           </li>
                           <li>
                              <p><a href="bind-define-describe-functions.html#GUID-CFE5AA54-DEBC-42D3-8A27-AFF1E7815691" title="将选择列表中的项与类型和输出数据缓冲区相关联。">OCIDefineByPos（）</a>或<a href="bind-define-describe-functions.html#GUID-74939FB5-919E-4D24-B327-AFB532435061" title="将选择列表中的项与类型和输出数据缓冲区相关联。当客户端上的实际长度超过UB2MAXVAL时，在处理数据类型时使用此调用。">OCIDefineByPos2（）</a></p>
                           </li>
                           <li>
                              <p><a href="bind-define-describe-functions.html#GUID-F211198D-C88C-493B-A65E-2C2A95E6197B" title="设置命名数据类型或REF定义所需的其他属性。">OCIDefineObject（）</a></p>
                           </li>
                           <li>
                              <p><a href="oci-miscellaneous-object-functions.html#GUID-2EFD6F01-A02F-4C5B-B20F-1EF841249056" title="创建独立实例。">OCIObjectNew（）</a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="LNOCI16893"></a><div class="props_rev_3"><a id="GUID-5C5F60CE-4FEF-4E0F-87C3-BD80D39FFBA8" name="GUID-5C5F60CE-4FEF-4E0F-87C3-BD80D39FFBA8"></a><h4 id="LNOCI-GUID-5C5F60CE-4FEF-4E0F-87C3-BD80D39FFBA8" class="sect4"><span class="enumeration_section">20.15.2</span>关于定义REF输出变量</h4>
                  <div>
                     <p>与命名数据类型一样，为<code class="codeph">REF</code>输出变量定义是一个两步过程。
                     </p>
                     <p>第一步是调用<code class="codeph">OCIDefineByPos()</code>或<code class="codeph">OCIDefineByPos2()</code> ，第二步是调用<code class="codeph">OCIDefineObject()</code> 。与命名数据类型一样， <code class="codeph">SQLT_REF</code>数据类型常量也传递给<code class="codeph">OCIDefineByPos()</code>的<span class="italic"><code class="codeph">dty</code></span>参数。
                     </p>
                     <p><code class="codeph">SQLT_REF</code>表示应用程序正在将结果数据提取到<code class="codeph">OCIRef *</code>类型的变量中。然后，此<code class="codeph">REF</code>可用作对象固定和导航的一部分。
                     </p>
                     <div class="infoboxnotealso" id="GUID-5C5F60CE-4FEF-4E0F-87C3-BD80D39FFBA8__GUID-F8E93D20-7B7A-48FB-82AC-2DB7AD18814A">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="bind-define-describe-functions.html#GUID-CFE5AA54-DEBC-42D3-8A27-AFF1E7815691" title="将选择列表中的项与类型和输出数据缓冲区相关联。">OCIDefineByPos（）</a>或<a href="bind-define-describe-functions.html#GUID-74939FB5-919E-4D24-B327-AFB532435061" title="将选择列表中的项与类型和输出数据缓冲区相关联。当客户端上的实际长度超过UB2MAXVAL时，在处理数据类型时使用此调用。">OCIDefineByPos2（）</a></p>
                           </li>
                           <li>
                              <p><a href="bind-define-describe-functions.html#GUID-F211198D-C88C-493B-A65E-2C2A95E6197B" title="设置命名数据类型或REF定义所需的其他属性。">OCIDefineObject（）</a></p>
                           </li>
                           <li>
                              <p><a href="object-relational-data-types-in-oci.html#GUID-1E2056EF-32BE-4875-9211-C2D4BB535D11" title="在使用命名数据类型和REF定义时，请考虑以下重要信息。它包括有关内存分配和指示符变量用法的指针。">命名数据类型和REF定义的信息以及PL / SQL OUT绑定</a>有关定义<code class="codeph">REF</code>的更多重要信息</p>
                           </li>
                           <li>
                              <p><a href="oci-object-relational-programming.html#GUID-3F376D7F-56D2-4C5B-97FE-1E94E2A57519" title="管理关系OCI应用程序的许多编程原则对于对象关系应用程序是相同的。">关于在OCI中使用对象以</a>获取有关对象固定和导航的更多信息</p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="LNOCI16894"></a><div class="props_rev_3"><a id="GUID-1E2056EF-32BE-4875-9211-C2D4BB535D11" name="GUID-1E2056EF-32BE-4875-9211-C2D4BB535D11"></a><h4 id="LNOCI-GUID-1E2056EF-32BE-4875-9211-C2D4BB535D11" class="sect4"><span class="enumeration_section">20.15.3</span>命名数据类型和REF定义的信息，以及PL / SQL OUT绑定</h4>
                  <div>
                     <p>在使用命名数据类型和<code class="codeph">REF</code>定义时，请考虑以下重要信息。它包括有关内存分配和指示符变量用法的指针。
                     </p>
                     <p>PL / SQL OUT绑定是指将占位符绑定到PL / SQL块中的输出变量。与使用define调用设置输出缓冲区的SQL语句不同，在PL / SQL块中，使用绑定调用设置输出缓冲区。</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>如果定义的数据类型是<code class="codeph">SQLT_NTY</code> ，则使用<code class="codeph">OCIDefineObject()</code>调用的指示符struct参数（ <span class="italic"><code class="codeph">void ** indpp</code></span> ），并完全忽略标量指示符。
                           </p>
                        </li>
                        <li>
                           <p>如果数据类型是<code class="codeph">SQLT_REF</code> ，则使用标量指示符，并完全忽略<code class="codeph">OCIDefineObject()</code>的指示符struct参数。
                           </p>
                        </li>
                        <li>
                           <p>指标结构的使用是可选的。用户可以在<span class="italic"><code class="codeph">indpp</code></span>参数中为<code class="codeph">OCIDefineObject()</code>调用传递<code class="codeph">NULL</code>指针。因此，在获取或PL / SQL OUT绑定期间，用户对任何有关null的信息不感兴趣。
                           </p>
                        </li>
                        <li>
                           <p>在SQL定义或PL / SQL OUT绑定中，您可以为输出变量或指示器传入预分配的内存。然后，该预分配的存储器用于存储结果数据，并且释放任何辅助存储器（外部存储器）。预分配的内存必须来自缓存（ <code class="codeph">OCIObjectNew()</code>调用的结果）。
                           </p>
                           <div class="infoboxnote" id="GUID-1E2056EF-32BE-4875-9211-C2D4BB535D11__GUID-C914EC20-0FE0-4F9E-8D18-9BF10158D739">
                              <p class="notep1">注意：</p>
                              <p>如果希望客户端应用程序从其自己的专用内存空间而不是缓存中分配内存，则应用程序必须确保对象中没有辅助的外部内存。</p>
                           </div>
                        </li>
                     </ul>
                     <p>要为类型为<code class="codeph">SQLT_NTY</code>的对象<code class="codeph">SQLT_NTY</code>义对象内存，客户端应用程序必须使用<code class="codeph">OCIObjectNew()</code>函数。客户端应用程序不应将对象分配在其自己的专用内存空间中，例如使用<code class="codeph">malloc()</code>或堆栈。<code class="codeph">OCIObjectNew()</code>函数在对象缓存中分配对象。可以使用<code class="codeph">OCIObjectFree()</code>释放已分配的对象。
                     </p>
                     <div class="infoboxnote" id="GUID-1E2056EF-32BE-4875-9211-C2D4BB535D11__GUID-06531B2C-2F8E-44CC-9F01-8C6C0729A09F">
                        <p class="notep1">注意：</p>
                        <p>当用户没有预先分配对象内存而是将输出变量初始化为空指针值时， <code class="codeph">OCIDefineObject()</code>的行为没有变化。在这种情况下，OCI库在对象缓存中隐式分配对象。
                        </p>
                     </div>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>在SQL定义或PL / SQL OUT绑定中，如果用户为输出变量或指示符传入<code class="codeph">NULL</code>地址，则变量或指示符的内存由OCI隐式分配。</p>
                        </li>
                        <li>
                           <p>如果<code class="codeph">SQLT_NTY</code>类型的输出对象是原子级<code class="codeph">NULL</code> （在SQL定义或PL / SQL OUT绑定中），则仅分配<code class="codeph">NULL</code>指示符结构（必要时隐式），并相应地填充以指示对象的原子无效。顶级对象不会被隐式分配。
                           </p>
                        </li>
                        <li>
                           <p>应用程序可以通过调用<code class="codeph">OCIObjectFree()</code>来释放指示符。如果存在顶级对象（与非原子<code class="codeph">NULL</code>对象一样），则在使用<code class="codeph">OCIObjectFree()</code>释放顶级对象时将释放<code class="codeph">OCIObjectFree()</code> 。如果对象是原子空的，则没有顶级对象，因此必须单独释放指示符。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">OCIDefineObject()</code>调用中的指示符结构大小指针， <span class="italic"><code class="codeph">indszp</code></span>和程序变量大小指针<span class="italic"><code class="codeph">pvszsp</code></span>是可选的。如果不需要这些参数，用户可以传递<code class="codeph">NULL</code> 。
                           </p>
                        </li>
                     </ul>
                     <p>本节包括以下主题：有关<a href="object-relational-data-types-in-oci.html#GUID-250F15D6-B7F0-4B34-AAD6-92C6718A8D40" title="要执行命名数据类型或REF的数组定义，用户必须传入指向适当类型的缓冲区（预分配或其他）的指针数组。">数组定义的信息</a> 。
                     </p>
                     <div class="infoboxnotealso" id="GUID-1E2056EF-32BE-4875-9211-C2D4BB535D11__GUID-6BA13192-B353-47E2-BA2B-4A8F6C569447">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="binding-and-defining-in-oci.html#GUID-6D3F22A5-BA2E-4A22-BBFC-7FDA3B22557D" title="通过将块放在字符串变量中，绑定任何变量，然后执行包含块的语句来处理PL / SQL块，就像使用单个SQL语句一样。">关于在PL / SQL中绑定占位符以</a>获取更多信息</p>
                           </li>
                           <li>
                              <p><a href="bind-define-describe-functions.html#GUID-F211198D-C88C-493B-A65E-2C2A95E6197B" title="设置命名数据类型或REF定义所需的其他属性。">OCIDefineObject（）</a></p>
                           </li>
                           <li>
                              <p><a href="oci-miscellaneous-object-functions.html#GUID-2EFD6F01-A02F-4C5B-B20F-1EF841249056" title="创建独立实例。">OCIObjectNew（）</a></p>
                           </li>
                           <li>
                              <p><a href="oci-pin-unpin-and-free-functions.html#GUID-0814B033-C25C-4B4C-8968-4C0B86C2E744" title="释放和取消对象实例。">OCIObjectFree（）</a></p>
                           </li>
                           <li>
                              <p>有关<code class="codeph">OCIObjectNew()</code>和<code class="codeph">OCIObjectFree()</code>详细信息，请参阅<a href="oci-navigational-and-type-functions.html#GUID-9F30DB5F-33CB-4CE6-8EFE-732B29E26727" title="本章介绍用于浏览从Oracle数据库检索的对象的OCI导航功能。">OCI导航和类型函数</a></p>
                           </li>
                           <li>
                              <p><a href="bind-define-describe-functions.html#GUID-F211198D-C88C-493B-A65E-2C2A95E6197B" title="设置命名数据类型或REF定义所需的其他属性。">OCIDefineObject（）</a></p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="LNOCI16895"></a><div class="props_rev_3"><a id="GUID-250F15D6-B7F0-4B34-AAD6-92C6718A8D40" name="GUID-250F15D6-B7F0-4B34-AAD6-92C6718A8D40"></a><h5 id="LNOCI-GUID-250F15D6-B7F0-4B34-AAD6-92C6718A8D40" class="sect5"><span class="enumeration_section">20.15.3.1</span>关于数组定义的信息</h5>
                     <div>
                        <p>要执行命名数据类型或<code class="codeph">REF</code>的数组定义，用户必须传入指向适当类型的缓冲区（预分配或其他）的指针数组。
                        </p>
                        <p>同样，必须传递一组标量指示符（对于<code class="codeph">SQLT_REF</code>类型）或指向指针结构的指针数组（对于<code class="codeph">SQLT_NTY</code>类型）。
                        </p>
                     </div>
                  </div>
               </div>
            </div><a id="LNOCI16897"></a><a id="LNOCI16896"></a><div class="props_rev_3"><a id="GUID-EA06FDEB-E669-460B-AA33-4C6B5F074767" name="GUID-EA06FDEB-E669-460B-AA33-4C6B5F074767"></a><h3 id="LNOCI-GUID-EA06FDEB-E669-460B-AA33-4C6B5F074767" class="sect3"><span class="enumeration_section">20.16</span>关于绑定和定义Oracle C数据类型</h3>
               <div>
                  <p>本节总结了有关绑定和定义Oracle C命名数据类型的信息</p>
                  <p>本书的前几章讨论了OCI绑定和定义操作。<a href="using-sql_statements-in-oci.html#GUID-CB348BD8-9A45-4921-B397-ADFE96B75C70" title="大多数DML语句和一些查询（例如具有WHERE子句的查询）都需要程序将数据作为SQL或PL / SQL语句的一部分传递给Oracle数据库。">关于OCI中的绑定占位符</a>讨论了OCI绑定操作的基础知识，而<a href="using-sql_statements-in-oci.html#GUID-F5FB3DBA-9FDA-45FC-AF5D-2D8D4C436296" title="Query语句将数据从数据库返回给您的应用程序。">关于在OCI中定义输出变量的内容</a>讨论了OCI定义操作的基础知识。<a href="binding-and-defining-in-oci.html#GUID-4C2BD7BB-5768-4E8A-82BF-84FB0030A8C5" title="This chapter describes binding and defining in OCI.">在OCI</a>中的<a href="binding-and-defining-in-oci.html#GUID-4C2BD7BB-5768-4E8A-82BF-84FB0030A8C5" title="本章介绍OCI中的绑定和定义。">绑定和定义中</a>描述了特定于绑定和定义命名数据类型和<code class="codeph">REF</code>的信息。</p>
                  <p>涵盖基本绑定和定义功能的部分显示了应用程序如何使用标量变量或标量数组作为SQL语句中的输入（绑定）值，或作为查询的输出（定义）缓冲区。</p>
                  <p>涵盖命名数据类型和<code class="codeph">REF</code>的部分显示了如何绑定或定义对象或引用。<a href="oci-object-relational-programming.html#GUID-B9E5DDBD-19CD-4AE0-B1D3-3B85ADEAAAB1" title="固定对象会将对象实例加载到对象缓存中，并允许您访问和修改实例的属性，并在必要时跟踪该对象对其他对象的引用。">固定一个对象</a>扩展于此，讨论固定对象引用， <a href="oci-object-relational-programming.html#GUID-7B0B6CF5-AD69-4FCB-9E96-CA6469601077" title="应用程序必须获取嵌入的对象实例。">提取嵌入式对象</a>讨论获取嵌入式实例， <a href="object-advanced-topics-in-oci.html#GUID-4BFF0155-C6FE-4592-89CF-F8FD99E1E2BC" title="本节讨论OCI应用程序如何浏览对象缓存中对象的图形。">对象导航</a>讨论对象导航。
                  </p>
                  <p>本节的目的是使用本章中介绍的数据类型映射来涵盖单个属性值的绑定和定义。</p>
                  <p>本章中定义的类型之一的变量（例如<code class="codeph">OCINumber</code>或<code class="codeph">OCIString</code> ）通常可以在应用程序中声明，并直接用于OCI绑定或定义操作，因为指定了适当的数据类型代码。<a href="object-relational-data-types-in-oci.html#GUID-EA06FDEB-E669-460B-AA33-4C6B5F074767__BGBJJCEH" title="该表有3列。第1列是数据类型，第2列是其C映射，第3列是相应的OCI外部数据类型和代码。">表20-12</a>列出了可用于绑定和定义的数据类型，以及它们的C映射，以及必须在bind或define调用的<span class="italic">dty</span> （数据类型代码）参数中指定的OCI外部数据类型。
                  </p>
                  <div class="tblformal" id="GUID-EA06FDEB-E669-460B-AA33-4C6B5F074767__BGBJJCEH">
                     <p class="titleintable">表20-12绑定和定义的数据类型映射</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="绑定和定义的数据类型映射" width="100%" border="1" summary="This table has 3 columns. Column 1 is the data type, column 2 is its C mapping, and column 3 is the corresponding OCI external data type and code." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="26%" id="d144684e15649">数据类型</th>
                              <th align="left" valign="bottom" width="27%" id="d144684e15652">C映射</th>
                              <th align="left" valign="bottom" width="48%" id="d144684e15655">OCI外部数据类型和代码</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d144684e15660" headers="d144684e15649 ">
                                 <p>Oracle <code class="codeph">NUMBER</code></p>
                              </td>
                              <td align="left" valign="top" width="27%" headers="d144684e15660 d144684e15652 "><pre class="oac_no_warn" dir="ltr">OCINumber</pre></td>
                              <td align="left" valign="top" width="48%" headers="d144684e15660 d144684e15655 ">
                                 <p>VARNUM（SQLT_VNU）</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d144684e15672" headers="d144684e15649 ">
                                 <p>Oracle <code class="codeph">DATE</code></p>
                              </td>
                              <td align="left" valign="top" width="27%" headers="d144684e15672 d144684e15652 "><pre class="oac_no_warn" dir="ltr">OCIDate</pre></td>
                              <td align="left" valign="top" width="48%" headers="d144684e15672 d144684e15655 ">
                                 <p>SQLT_ODT</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d144684e15684" headers="d144684e15649 ">
                                 <p><code class="codeph">BLOB</code></p>
                              </td>
                              <td align="left" valign="top" width="27%" headers="d144684e15684 d144684e15652 "><pre class="oac_no_warn" dir="ltr">OCILobLocator *</pre></td>
                              <td align="left" valign="top" width="48%" headers="d144684e15684 d144684e15655 ">
                                 <p>SQLT_BLOB</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d144684e15695" headers="d144684e15649 ">
                                 <p><code class="codeph">CLOB</code> ， <code class="codeph">NCLOB</code></p>
                              </td>
                              <td align="left" valign="top" width="27%" headers="d144684e15695 d144684e15652 "><pre class="oac_no_warn" dir="ltr">CILobLocator *</pre></td>
                              <td align="left" valign="top" width="48%" headers="d144684e15695 d144684e15655 ">
                                 <p>SQLTY_LOB</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d144684e15709" headers="d144684e15649 ">
                                 <p><code class="codeph">VARCHAR2</code> ， <code class="codeph">NVARCHAR2</code></p>
                              </td>
                              <td align="left" valign="top" width="27%" headers="d144684e15709 d144684e15652 "><pre class="oac_no_warn" dir="ltr">OCIString *</pre></td>
                              <td align="left" valign="top" width="48%" headers="d144684e15709 d144684e15655 ">
                                 <p>SQLT_VST <a id="GUID-EA06FDEB-E669-460B-AA33-4C6B5F074767__BGBGIDDF" name="GUID-EA06FDEB-E669-460B-AA33-4C6B5F074767__BGBGIDDF" href="#GUID-EA06FDEB-E669-460B-AA33-4C6B5F074767__BGBGIDDF" data="" type="" size="" before="" fetching="" into="" a="" define="" variable="" of="" ocistring="" *,="" the="" string="" must="" first="" be="" set="" using="" ocistringresize()="" routine.="" this="" may="" require="" describe="" operation="" to="" obtain="" length="" select-list="" data.="" similarly,="" an="" ociraw="" *="" sized="" with="" ocistringresize()=")" ="" onclick="footdisplay(1, "><sup>Foot 1</sup></a></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d144684e15738" headers="d144684e15649 ">
                                 <p><code class="codeph">生的</code></p>
                              </td>
                              <td align="left" valign="top" width="27%" headers="d144684e15738 d144684e15652 "><pre class="oac_no_warn" dir="ltr">OCIRaw *</pre></td>
                              <td align="left" valign="top" width="48%" headers="d144684e15738 d144684e15655 ">
                                 <p>SQLT_LVB <a id="fnsrc_d144684e15748" name="fnsrc_d144684e15748" href="#fnsrc_d144684e15748" data="" type="" size="" before="" fetching="" into="" a="" define="" variable="" of="" ocistring="" *,="" the="" string="" must="" first="" be="" set="" using="" ocistringresize()="" routine.="" this="" may="" require="" describe="" operation="" to="" obtain="" length="" select-list="" data.="" similarly,="" an="" ociraw="" *="" sized="" with="" ocistringresize()=")" ="" onclick="footdisplay(1, "><sup>Footref 1</sup></a></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d144684e15751" headers="d144684e15649 ">
                                 <p><code class="codeph">CHAR</code> ， <code class="codeph">NCHAR</code></p>
                              </td>
                              <td align="left" valign="top" width="27%" headers="d144684e15751 d144684e15652 "><pre class="oac_no_warn" dir="ltr">OCIString *</pre></td>
                              <td align="left" valign="top" width="48%" headers="d144684e15751 d144684e15655 ">
                                 <p>SQLT_VST</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d144684e15765" headers="d144684e15649 ">
                                 <p>宾语</p>
                              </td>
                              <td align="left" valign="top" width="27%" headers="d144684e15765 d144684e15652 "><pre class="oac_no_warn" dir="ltr">结构*</pre></td>
                              <td align="left" valign="top" width="48%" headers="d144684e15765 d144684e15655 ">
                                 <p>命名数据类型（SQLT_NTY）</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d144684e15775" headers="d144684e15649 ">
                                 <p><code class="codeph">REF</code></p>
                              </td>
                              <td align="left" valign="top" width="27%" headers="d144684e15775 d144684e15652 "><pre class="oac_no_warn" dir="ltr">OCIRef *</pre></td>
                              <td align="left" valign="top" width="48%" headers="d144684e15775 d144684e15655 ">
                                 <p>REF（SQLT_REF）</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d144684e15786" headers="d144684e15649 ">
                                 <p><code class="codeph">VARRAY</code></p>
                              </td>
                              <td align="left" valign="top" width="27%" headers="d144684e15786 d144684e15652 "><pre class="oac_no_warn" dir="ltr">OCIArray *</pre></td>
                              <td align="left" valign="top" width="48%" headers="d144684e15786 d144684e15655 ">
                                 <p>命名数据类型（SQLT_NTY）</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d144684e15797" headers="d144684e15649 ">
                                 <p>嵌套表</p>
                              </td>
                              <td align="left" valign="top" width="27%" headers="d144684e15797 d144684e15652 "><pre class="oac_no_warn" dir="ltr">OCITable *</pre></td>
                              <td align="left" valign="top" width="48%" headers="d144684e15797 d144684e15655 ">
                                 <p>命名数据类型（SQLT_NTY）</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d144684e15808" headers="d144684e15649 ">
                                 <p><code class="codeph">约会时间</code></p>
                              </td>
                              <td align="left" valign="top" width="27%" headers="d144684e15808 d144684e15652 "><pre class="oac_no_warn" dir="ltr">OCIDateTime *</pre></td>
                              <td align="left" valign="top" width="48%" headers="d144684e15808 d144684e15655 ">
                                 <p>请参阅<a href="object-relational-data-types-in-oci.html#GUID-BE008B9E-1CC3-4168-881F-1CE5E95778AE" title="OCIDateTime数据类型是一个不透明的结构，用于表示Oracle时间戳数据类型（TIMESTAMP，TIMESTAMP WITH TIME ZONE，TIMESTAMP WITH LOCAL TIME ZONE）和ANSI DATE数据类型。">日期时间和间隔（OCIDateTime，OCIInterval）</a> 。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d144684e15863" headers="d144684e15649 ">
                                 <p><code class="codeph">间隔</code></p>
                              </td>
                              <td align="left" valign="top" width="27%" headers="d144684e15863 d144684e15652 "><pre class="oac_no_warn" dir="ltr">OCIInterval *</pre></td>
                              <td align="left" valign="top" width="48%" headers="d144684e15863 d144684e15655 ">
                                 <p>请参阅<a href="object-relational-data-types-in-oci.html#GUID-BE008B9E-1CC3-4168-881F-1CE5E95778AE" title="OCIDateTime数据类型是一个不透明的结构，用于表示Oracle时间戳数据类型（TIMESTAMP，TIMESTAMP WITH TIME ZONE，TIMESTAMP WITH LOCAL TIME ZONE）和ANSI DATE数据类型。">日期时间和间隔（OCIDateTime，OCIInterval）</a> 。
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p class="tablefootnote"><sup class="tablefootnote">脚注1</sup></p><p>在将数据提取到<code class="codeph">OCIString *</code>类型的define变量之前，必须首先使用<code class="codeph">OCIStringResize()</code>例程设置字符串的大小。这可能需要描述操作以获得选择列表数据的长度。类似地，必须首先使用<code class="codeph">OCIStringResize()</code>调整<code class="codeph">OCIRaw *</code>大小。
                     </p>
                  <p></p>
                  <div class="p">以下部分介绍了如何在OCI应用程序中使用C映射数据类型的示例：<ul style="list-style-type:disc">
                        <li>
                           <p><a href="object-relational-data-types-in-oci.html#GUID-2A93AB76-B6AE-4AEF-8785-07672740D8FE" title="演示如何在OCI绑定中使用OCINumber类型的变量并定义操作">绑定和定义示例</a></p>
                        </li>
                        <li>
                           <p><a href="object-relational-data-types-in-oci.html#GUID-BEF74B03-0936-47B4-A778-F8A140660C0A" title="显示调用流如何用于执行某些OCI任务。">薪资更新示例</a></p>
                        </li>
                     </ul>
                  </div>
                  <div class="infoboxnotealso" id="GUID-EA06FDEB-E669-460B-AA33-4C6B5F074767__GUID-80DF0029-09A3-45DD-B4D4-06CC12CABFD6">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="data-types.html#GUID-027FB2E2-593C-43F1-9184-DFEF7A984A27" title="本章提供OCI应用程序使用的Oracle外部数据类型的参考。">数据类型</a>为OCI外部数据类型的讨论，以及数据的TypeCodes列表</p>
                        </li>
                        <li>
                           <p><a href="oci-string-functions.html#GUID-CA52A8A4-08BA-4F08-A4A3-79F841F6AE9E" title="调整给定字符串的内存大小。">OCIStringResize（）</a></p>
                        </li>
                     </ul>
                     <p></p>
                  </div>
               </div><a id="LNOCI16898"></a><div class="props_rev_3"><a id="GUID-2A93AB76-B6AE-4AEF-8785-07672740D8FE" name="GUID-2A93AB76-B6AE-4AEF-8785-07672740D8FE"></a><h4 id="LNOCI-GUID-2A93AB76-B6AE-4AEF-8785-07672740D8FE" class="sect4"><span class="enumeration_section">20.16.1</span>绑定和定义示例</h4>
                  <div>
                     <p>演示如何在OCI绑定中使用<code class="codeph">OCINumber</code>类型的变量并定义操作</p>
                     <div class="section">
                        <p>本节中的示例演示了如何在OCI绑定中使用<code class="codeph">OCINumber</code>类型的变量并定义操作。
                        </p>
                        <p>对于此示例，假设已创建以下<code class="codeph">person</code>对象类型：</p><pre class="oac_no_warn" dir="ltr">CREATE TYPE person AS OBJECT（名称varchar2（30），工资号码）;</pre><p>然后，此类型用于创建具有<code class="codeph">person</code>类型列的<code class="codeph">employees</code>表。
                        </p><pre class="oac_no_warn" dir="ltr">CREATE TABLE employees（emp_id number，job_title varchar2（30），emp person）;</pre><p>对象类型转换器（OTT）为<code class="codeph">person</code>生成以下C结构和空指示符结构：</p><pre class="oac_no_warn" dir="ltr">struct person {OCIString * name; OCINumber薪水;}; typedef struct person person; struct person_ind {OCIInd _atomic; OCIInd名称; OCIInd salary;} typedef struct person_ind person_ind;</pre><p>假设<code class="codeph">employees</code>表已填充值，并且OCI应用程序已声明<code class="codeph">person</code>变量：</p><pre class="oac_no_warn" dir="ltr">person * my_person;</pre><p>然后，应用程序通过<code class="codeph">SELECT</code>语句将对象提取到该变量中，例如：</p><pre class="oac_no_warn" dir="ltr">text * mystmt =（text *）“SELECT person FROM employees WHERE emp.name ='Andrea'”;</pre><p>这需要将<code class="codeph">my_person</code>定义为此语句的输出变量，使用对命名数据类型的适当OCI定义调用，如<a href="binding-and-defining-in-oci.html#GUID-237FC150-290A-42B8-99CB-2C6AFA5B9F9E" title="This section covers advanced define operations, including multistep defines and defines of named data types and REFs.">OCI</a>中的<a href="binding-and-defining-in-oci.html#GUID-237FC150-290A-42B8-99CB-2C6AFA5B9F9E" title="本节介绍高级定义操作，包括命名数据类型和REF的多步定义和定义。">高级定义操作中所述</a> 。执行该语句<code class="codeph">my_person</code>名为<code class="codeph">Andrea</code>的<code class="codeph">person</code>对象检索到<code class="codeph">my_person</code>变量中。
                        </p>
                        <p>一旦将对象检索到<code class="codeph">my_person</code> ，OCI应用程序就可以访问<code class="codeph">my_person</code>的属性，包括名称和工资。
                        </p>
                        <p>应用程序可以继续将其他员工的工资更新为与Andrea相同，如下例所示：</p><pre class="oac_no_warn" dir="ltr">text * updstmt =（text *）“UPDATE employees SET emp.salary =：newsal WHERE emp.name ='MONGO'”;</pre><p>Andrea的薪水（存储在<code class="codeph">my_person-&gt;salary</code> ）将被绑定到占位符<code class="codeph">:newsal</code> ，指定的外部数据类型<code class="codeph">VARNUM</code>在绑定操作（数据类型代码= 6）：</p><pre class="oac_no_warn" dir="ltr">OCIBindByName（...， “：newsal”，...，my_person-&gt;薪水，...，6，...）; OCIStmtExecute（...，updstmt，...）;</pre><p>执行该语句<code class="codeph">my_person.</code> Mongo在数据库中的工资更新为与存储在<code class="codeph">my_person.</code> Andrea <code class="codeph">my_person.</code></p>
                        <p>相反，应用程序可以通过查询数据库中Mongo的工资，然后进行必要的工资分配，将Andrea的工资更新为与Mongo相同：</p><pre class="oac_no_warn" dir="ltr">text * selstmt =（text *）“SELECT emp.salary FROM employees WHERE emp.name ='MONGO'”; OCINumber mongo_sal; ...OCIDefineByPos（...，1，...，＆mongo_sal，...，6，...）; OCIStmtExecute（...，selstmt，...）; OCINumberAssign（...，＆mongo_sal，＆my_person-&gt; salary）;</pre><p>在这种情况下，应用程序声明一个<code class="codeph">OCINumber</code>类型的输出变量，并在define步骤中使用它。应用程序还为位置1定义输出变量，并使用适当的数据类型代码（6表示<code class="codeph">VARNUM</code> ）。
                        </p>
                        <p>工资值被提取到<code class="codeph">mongo_sal</code> <code class="codeph">OCINumber</code> ，相应的OCI函数<code class="codeph">OCINumberAssign()</code>用于将新工资分配给当前缓存中的<code class="codeph">Andrea</code>对象的副本。要修改数据库中的数据，必须将更改刷新到服务器。
                        </p>
                        <div class="infoboxnotealso" id="GUID-2A93AB76-B6AE-4AEF-8785-07672740D8FE__GUID-FB30CB62-DF1F-4141-96D8-A74CCF66801E">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><a href="using-object-type-translator-in-oci.html#GUID-3D22CA8E-BE01-492F-BA85-DDD0CD3F4890" title="本章讨论了对象类型转换器（OTT），它用于将数据库对象类型和命名集合类型映射到C结构，以便在OCI应用程序中使用。">将对象类型转换器与OCI一起使用</a> ，以完整讨论OTT</p>
                              </li>
                              <li>
                                 <p><a href="oci-NUMBER-functions.html#GUID-0C78F351-550E-48F0-8D4C-A9AD8A28DA66" title="将一个Oracle NUMBER分配给另一个Oracle NUMBER。">OCINumberAssign（）</a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="LNOCI72719"></a><a id="LNOCI16899"></a><div class="props_rev_3"><a id="GUID-BEF74B03-0936-47B4-A778-F8A140660C0A" name="GUID-BEF74B03-0936-47B4-A778-F8A140660C0A"></a><h4 id="LNOCI-GUID-BEF74B03-0936-47B4-A778-F8A140660C0A" class="sect4"><span class="enumeration_section">20.16.2</span>薪资更新示例</h4>
                  <div>
                     <p>显示调用流如何用于执行某些OCI任务。</p>
                     <p>上一节中的示例演示了Oracle数据类型为绑定和定义操作提供的灵活性。本节介绍如何以多种不同方式执行相同的操作。您可以在OCI应用程序中以各种方式使用这些数据类型。</p>
                     <p>本节中的示例演示了用于执行某些OCI任务的调用流程。扩展的伪代码用于这些示例。使用实际函数名称，但为简单起见，并未填写所有参数和类型转换。其他必要的OCI调用（例如句柄分配）已被省略。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-BEF74B03-0936-47B4-A778-F8A140660C0A__GUID-B73FC750-7AD7-4015-B96F-6B2C04D03D53">情景</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>这些示例的方案如下：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>名为<span class="italic"><code class="codeph">BRUCE</code></span>的<code class="codeph">employees</code>存在于医院的<code class="codeph">employees</code>表中。请参阅上一节中的<code class="codeph">person</code>类型和<code class="codeph">employees</code>表创建语句。
                              </p>
                           </li>
                           <li>
                              <p>布鲁斯目前的职位是<span class="italic"><code class="codeph">RADIOLOGIST</code></span> 。</p>
                           </li>
                           <li>
                              <p>布鲁斯正被提升为<span class="italic"><code class="codeph">RADIOLOGY_CHIEF</code></span> ，随着晋升，工资增加。
                              </p>
                           </li>
                           <li>
                              <p>医院工资以整数美元计算，根据职位名称设置，并存储在一个称为<code class="codeph">salaries</code>的表中，定义如下：</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE工资（job_title varchar2（20），工资整数））;</pre></li>
                           <li>
                              <p>布鲁斯的薪水必须更新，以反映他的晋升。</p>
                           </li>
                        </ul>
                        <p>要更新布鲁斯的工资反映的推广，应用程序必须检索对应到工资<span class="italic"><code class="codeph">RADIOLOGY_CHIEF</code></span>从<code class="codeph">salaries</code>表，并更新布鲁斯的薪水。单独的步骤会将他的新标题和修改后的对象写回数据库。
                        </p>
                        <p>假设<code class="codeph">person</code>类型的变量已声明如下：</p><pre class="oac_no_warn" dir="ltr">person * my_person;</pre><p>对应于布鲁斯的对象已提取到<code class="codeph">person</code> 。以下部分介绍了可以执行薪资更新的三种不同方式。
                        </p>
                        <div class="p">本节包括以下主题：<ul style="list-style-type:disc">
                              <li>
                                 <p><a href="object-relational-data-types-in-oci.html#GUID-4869A21E-F28D-4C8F-80F4-E16914F2F39E" title="显示如何获取新工资，将整数数据类型转换为OCINumber，然后将新工资分配给员工。">方法1  - 获取，转换，分配</a></p>
                              </li>
                              <li>
                                 <p><a href="object-relational-data-types-in-oci.html#GUID-137BADEE-01D3-4CD8-877B-C9F8F3C0FF96" title="显示如何获取薪水并将其作为OCINumber获取，然后将新薪水分配给员工。">方法2  - 获取和分配</a></p>
                              </li>
                              <li>
                                 <p><a href="object-relational-data-types-in-oci.html#GUID-982DD352-E7F2-4FC4-AC02-395587A89366" title="显示如何使用单个define和fetch执行整个操作。">方法3  - 直接提取</a></p>
                              </li>
                              <li>
                                 <p><a href="object-relational-data-types-in-oci.html#GUID-BD07C7FA-8B8D-4AFE-B84E-DAEDFF4A4472" title="总结前面的示例演示并突出显示其他信息。">摘要和说明</a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div><a id="LNOCI72720"></a><a id="LNOCI16900"></a><div class="props_rev_3"><a id="GUID-4869A21E-F28D-4C8F-80F4-E16914F2F39E" name="GUID-4869A21E-F28D-4C8F-80F4-E16914F2F39E"></a><h5 id="LNOCI-GUID-4869A21E-F28D-4C8F-80F4-E16914F2F39E" class="sect5"><span class="enumeration_section">20.16.2.1</span>方法1  - 获取，转换，分配</h5>
                     <div>
                        <p>显示如何获取新工资，将整数数据类型转换为<code class="codeph">OCINumber</code> ，然后将新工资分配给员工。
                        </p>
                        <div class="section">
                           <p><a href="object-relational-data-types-in-oci.html#GUID-4869A21E-F28D-4C8F-80F4-E16914F2F39E__BGBCHECA">例20-13</a>使用以下方法：</p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li><span>使用整数变量进行传统OCI定义以从数据库中检索新工资。</span></li>
                           <li><span>将整数转换为<code class="codeph">OCINumber.</code></span></li>
                           <li><span>将新工资分配给布鲁斯。</span></li>
                        </ol>
                        <div class="example" id="GUID-4869A21E-F28D-4C8F-80F4-E16914F2F39E__BGBCHECA">
                           <p class="titleinexample">示例20-13薪资更新的方法1：获取，转换和分配</p><pre class="oac_no_warn" dir="ltr">#define INT_TYPE 3 / *剑整数定义的数据类型代码* / text * getsal =（text *）“SELECT薪水来自工资WHERE job_title ='RADIOLOGY_CHIEF'”;剑new_sal; OCINumber orl_new_sal; ...OCIDefineByPos（...，1，...，new_sal，...，INT_TYPE，...）; / * define int output * / OCIStmtExecute（...，getsal，...）; / *以int * / OCINumberFromInt（...，new_sal，...，＆orl_new_sal）获得新工资; / *将薪水转换为OCINumber * / OCINumberAssign（...，＆orl_new_sal，＆my_person-&gt;薪水）; / *分配新工资* /</pre></div>
                        <!-- class="example" -->
                     </div>
                  </div><a id="LNOCI72721"></a><a id="LNOCI16901"></a><div class="props_rev_3"><a id="GUID-137BADEE-01D3-4CD8-877B-C9F8F3C0FF96" name="GUID-137BADEE-01D3-4CD8-877B-C9F8F3C0FF96"></a><h5 id="LNOCI-GUID-137BADEE-01D3-4CD8-877B-C9F8F3C0FF96" class="sect5"><span class="enumeration_section">20.16.2.2</span>方法2  - 获取和分配</h5>
                     <div>
                        <p>显示如何获取薪水并将其作为<code class="codeph">OCINumber</code> ，然后将新薪水分配给员工。
                        </p>
                        <div class="section">
                           <p>该方法（ <a href="object-relational-data-types-in-oci.html#GUID-137BADEE-01D3-4CD8-877B-C9F8F3C0FF96__BGBFEAHJ">实施例20-14</a> ）消除了方法1中描述的步骤之一。
                           </p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li><span>定义<code class="codeph">OCINumber</code>类型的输出变量，以便在检索值后不需要转换。</span></li>
                           <li><span>将新工资分配给布鲁斯。</span></li>
                        </ol>
                        <div class="example" id="GUID-137BADEE-01D3-4CD8-877B-C9F8F3C0FF96__BGBFEAHJ">
                           <p class="titleinexample">示例20-14薪资更新的方法2：获取和分配，无转换</p><pre class="oac_no_warn" dir="ltr">#define VARNUM_TYPE 6 / *数据类型代码，用于定义VARNUM * / text * getsal =（text *）“SELECT salary FROM Salaries WHERE job_title ='RADIOLOGY_CHIEF'”; OCINumber orl_new_sal; ...OCIDefineByPos（...，1，...，orl_new_sal，...，VARNUM_TYPE，...）; / *定义OCINumber输出* / OCIStmtExecute（...，getsal，...）; / *以OCINumber * / OCINumberAssign（...，＆orl_new_sal，＆my_person-&gt; salary）获得新工资; / *分配新工资* /</pre></div>
                        <!-- class="example" -->
                     </div>
                  </div><a id="LNOCI72722"></a><a id="LNOCI16902"></a><div class="props_rev_3"><a id="GUID-982DD352-E7F2-4FC4-AC02-395587A89366" name="GUID-982DD352-E7F2-4FC4-AC02-395587A89366"></a><h5 id="LNOCI-GUID-982DD352-E7F2-4FC4-AC02-395587A89366" class="sect5"><span class="enumeration_section">20.16.2.3</span>方法3  - 直接提取</h5>
                     <div>
                        <p>显示如何使用单个define和fetch执行整个操作。</p>
                        <div class="section">
                           <p>此方法（ <a href="object-relational-data-types-in-oci.html#GUID-982DD352-E7F2-4FC4-AC02-395587A89366__BGBBEBFH">示例20-15</a> ）通过单个define和fetch完成整个操作。不使用中间输出变量，并且从数据库检索的值将直接提取到存储在缓存中的对象的salary属性中。
                           </p>
                           <p>因为与Bruce对应的对象固定在对象缓存中，所以使用其salary属性的位置作为define变量，并直接执行或获取它。</p>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-982DD352-E7F2-4FC4-AC02-395587A89366__BGBBEBFH">
                           <p class="titleinexample">示例20-15薪资更新的方法3：直接提取</p><pre class="oac_no_warn" dir="ltr">#define VARNUM_TYPE 6 / *数据类型代码，用于定义VARNUM * / text * getsal =（text *）“SELECT salary FROM Salaries WHERE job_title ='RADIOLOGY_CHIEF'”; ...OCIDefineByPos（...，1，...，my_person-&gt;薪水，...，VARNUM_TYPE，...）; / *将缓存中的布鲁斯工资定义为输出变量* / OCIStmtExecute（...，getsal，...）; / *直接执行和获取* /</pre></div>
                        <!-- class="example" -->
                     </div>
                  </div><a id="LNOCI16903"></a><div class="props_rev_3"><a id="GUID-BD07C7FA-8B8D-4AFE-B84E-DAEDFF4A4472" name="GUID-BD07C7FA-8B8D-4AFE-B84E-DAEDFF4A4472"></a><h5 id="LNOCI-GUID-BD07C7FA-8B8D-4AFE-B84E-DAEDFF4A4472" class="sect5"><span class="enumeration_section">20.16.2.4</span>摘要和说明</h5>
                     <div>
                        <p>总结前面的示例演示并突出显示其他信息。</p>
                        <p>如前三个示例所示，C数据类型为绑定和定义提供了灵活性。在这些示例中，可以获取整数，然后将其转换为<code class="codeph">OCINumber</code>以进行操作。您可以使用<code class="codeph">OCINumber</code>作为中间变量来存储查询结果。或者，可以将数据直接提取到对象的所需<code class="codeph">OCINumber</code>属性中。
                        </p>
                        <div class="infoboxnote" id="GUID-BD07C7FA-8B8D-4AFE-B84E-DAEDFF4A4472__GUID-E77841C8-B569-4402-BB87-04FBEC8CA6AE">
                           <p class="notep1">注意：</p>
                           <p>在这些示例中，重要的是要记住在OCI中，如果在执行查询之前定义了输出变量，则会将结果数据直接预取到输出缓冲区中。</p>
                        </div>
                        <p>在前面的示例中，需要额外的步骤来确保应用程序永久地将更改写入数据库。这些可能涉及SQL <code class="codeph">UPDATE</code>调用和OCI事务提交调用。
                        </p>
                        <p>这些示例都涉及定义操作，但类似的情况适用于绑定。</p>
                        <p>类似地，尽管这些示例仅涉及<code class="codeph">OCINumber</code>类型，但本章其余部分中描述的其他Oracle C类型也可能有类似的操作。
                        </p>
                     </div>
                  </div>
               </div>
            </div><a id="LNOCI16904"></a><div class="props_rev_3"><a id="GUID-709C6AF1-8083-4E3E-B6DE-B8847C3E4693" name="GUID-709C6AF1-8083-4E3E-B6DE-B8847C3E4693"></a><h3 id="LNOCI-GUID-709C6AF1-8083-4E3E-B6DE-B8847C3E4693" class="sect3"><span class="enumeration_section">20.17</span> SQLT_NTY绑定和定义示例</h3>
               <div>
                  <p>下面的代码片断演示使用的<code class="codeph">SQLT_NTY</code>在绑定呼叫包括命名数据类型<code class="codeph">OCIBindObject()</code>和<code class="codeph">SQLT_NTY</code>命名的数据类型在限定呼叫包括<code class="codeph">OCIDefineObject()</code>
                  </p>
                  <p>在每个示例中，正在处理先前定义的SQL语句。</p>
                  <div class="p">本节包括以下主题：<ul style="list-style-type:disc">
                        <li>
                           <p><a href="object-relational-data-types-in-oci.html#GUID-96E420B9-A980-43C6-AA62-44863B870728" title="演示如何在绑定调用中使用SQLT_NTY命名数据类型，包括OCIBindObject（）。">SQLT_NTY绑定示例</a></p>
                        </li>
                        <li>
                           <p><a href="object-relational-data-types-in-oci.html#GUID-697E6E01-86D9-4850-9332-79999AE1CF1E" title="演示如何在define调用中使用SQLT_NTY命名数据类型，包括OCIDefineObject（）。">SQLT_NTY定义示例</a></p>
                        </li>
                     </ul>
                  </div>
                  <div class="infoboxnotealso" id="GUID-709C6AF1-8083-4E3E-B6DE-B8847C3E4693__GUID-BB59BA25-D0CA-45A3-B5FE-4DDDB4EA4DD8">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="bind-define-describe-functions.html#GUID-384B5D31-165B-4661-A334-8C2B5E475AEF" title="设置命名数据类型（对象）绑定所需的其他属性。">OCIBindObject（）</a></p>
                        </li>
                        <li>
                           <p><a href="bind-define-describe-functions.html#GUID-F211198D-C88C-493B-A65E-2C2A95E6197B" title="设置命名数据类型或REF定义所需的其他属性。">OCIDefineObject（）</a></p>
                        </li>
                     </ul>
                  </div>
               </div><a id="LNOCI72723"></a><a id="LNOCI16905"></a><div class="props_rev_3"><a id="GUID-96E420B9-A980-43C6-AA62-44863B870728" name="GUID-96E420B9-A980-43C6-AA62-44863B870728"></a><h4 id="LNOCI-GUID-96E420B9-A980-43C6-AA62-44863B870728" class="sect4"><span class="enumeration_section">20.17.1</span> SQLT_NTY绑定示例</h4>
                  <div>
                     <p>演示如何在绑定调用中使用<code class="codeph">SQLT_NTY</code>命名数据类型，包括<code class="codeph">OCIBindObject()</code> 。
                     </p>
                     <div class="section">
                        <p><a href="object-relational-data-types-in-oci.html#GUID-96E420B9-A980-43C6-AA62-44863B870728__BGBCACCG">例20-16</a>显示了如何在绑定调用中使用<code class="codeph">SQLT_NTY</code>命名数据类型，包括<code class="codeph">OCIBindObject()</code> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-96E420B9-A980-43C6-AA62-44863B870728__BGBCACCG">
                        <p class="titleinexample">示例20-16使用包含OCIBindObject（）的SQLT_NTY绑定调用</p><pre class="oac_no_warn" dir="ltr">/ * **此示例执行SQL插入语句* / void insert（envhp，svchp，stmthp，errhp，insstmt，nrows）OCIEnv * envhp; OCISvcCtx * svchp; OCIStmt * stmthp; OCIError * errhp; text * insstmt; ub2 nrows; {OCIType * addr_tdo =（OCIType *）0;地址加法器; null_address naddrs;地址* addr =＆addrs; null_address * naddr =＆naddrs; sword custno = 300; OCIBind * bnd1p，* bnd2p; ub2 i; / *定义应用程序请求* / checkerr（errhp，OCIStmtPrepare（stmthp，errhp，（text *）insstmt，（ub4）strlen（（char *）insstmt），（ub4）OCI_NTV_SYNTAX，（ub4）OCI_DEFAULT））; / *绑定输入变量* / checkerr（errhp，OCIBindByName（stmthp，＆bnd1p，errhp，（text *）“：custno”，（sb4）-1，（void *）＆custno，（sb4）sizeof（sword），SQLT_INT ，（void *）0，（ub2 *）0，（ub2 *）0，（ub4）0，（ub4 *）0，（ub4）OCI_DEFAULT））; checkerr（errhp，OCIBindByName（stmthp，＆bnd2p，errhp，（text *）“：addr”，（sb4）-1，（void *）0，（sb4）0，SQLT_NTY，（void *）0，（ub2 *） 0，（ub2 *）0，（ub4）0，（ub4 *）0，（ub4）OCI_DEFAULT））; checkerr（errhp，OCITypeByName（envhp，errhp，svchp，（const text *）SCHEMA，（ub4）strlen（（char *）SCHEMA），（const text *）“ADDRESS_VALUE”，（ub4）strlen（（char *）“ ADDRESS_VALUE“），（text *）0,0，OCI_DURATION_SESSION，OCI_TYPEGET_HEADER，＆addr_tdo））;如果（！addr_tdo）{printf（“Null tdo return \ n”）;返回; } checkerr（errhp，OCIBindObject（bnd2p，errhp，addr_tdo，（void **）＆addr，（ub4 *）0，（void **）＆naddr，（ub4 *）0））;</pre></div>
                     <!-- class="example" -->
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-96E420B9-A980-43C6-AA62-44863B870728__GUID-DB1510AF-3E93-4981-BD7D-07640A55AC91">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="bind-define-describe-functions.html#GUID-384B5D31-165B-4661-A334-8C2B5E475AEF" title="设置命名数据类型（对象）绑定所需的其他属性。">OCIBindObject（）</a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="LNOCI72724"></a><a id="LNOCI16906"></a><div class="props_rev_3"><a id="GUID-697E6E01-86D9-4850-9332-79999AE1CF1E" name="GUID-697E6E01-86D9-4850-9332-79999AE1CF1E"></a><h4 id="LNOCI-GUID-697E6E01-86D9-4850-9332-79999AE1CF1E" class="sect4"><span class="enumeration_section">20.17.2</span> SQLT_NTY定义示例</h4>
                  <div>
                     <p>演示如何在define调用中使用<code class="codeph">SQLT_NTY</code>命名数据类型，包括<code class="codeph">OCIDefineObject()</code> 。
                     </p>
                     <div class="section">
                        <p><a href="object-relational-data-types-in-oci.html#GUID-697E6E01-86D9-4850-9332-79999AE1CF1E__BGBDFDAD">例20-17</a>显示了如何在define调用中使用<code class="codeph">SQLT_NTY</code>命名数据类型，包括<code class="codeph">OCIDefineObject()</code> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-697E6E01-86D9-4850-9332-79999AE1CF1E__BGBDFDAD">
                        <p class="titleinexample">示例20-17使用SQLT_NTY定义包含OCIDefineObject的调用（）</p><pre class="oac_no_warn" dir="ltr">/ * **此示例从包含**对象的表执行SELECT语句。* / void selectval（envhp，svchp，stmthp，errhp）OCIEnv * envhp; OCISvcCtx * svchp; OCIStmt * stmthp; OCIError * errhp; {OCIType * addr_tdo =（OCIType *）0; OCIDefine * defn1p，* defn2p; address * addr =（address *）NULL; sword custno = 0; sb4状态; / *定义应用程序请求* / checkerr（errhp，OCIStmtPrepare（stmthp，errhp，（text *）selvalstmt，（ub4）strlen（（char *）selvalstmt），（ub4）OCI_NTV_SYNTAX，（ub4）OCI_DEFAULT））; / *定义输出变量* / checkerr（errhp，OCIDefineByPos（stmthp，＆defn1p，errhp，（ub4）1，（void *）＆custno，（sb4）sizeof（剑），SQLT_INT，（void *）0，（ub2 * ）0，（ub2 *）0，（ub4）OCI_DEFAULT））; checkerr（errhp，OCIDefineByPos（stmthp，＆defn2p，errhp，（ub4）2，（void *）0，（sb4）0，SQLT_NTY，（void *）0，（ub2 *）0，（ub2 *）0，（ub4 ）OCI_DEFAULT））; checkerr（errhp，OCITypeByName（envhp，errhp，svchp，（const text *）SCHEMA，（ub4）strlen（（char *）SCHEMA），（const text *）“ADDRESS_VALUE”，（ub4）strlen（（char *）“ ADDRESS_VALUE“），（text *）0,0，OCI_DURATION_SESSION，OCI_TYPEGET_HEADER，＆addr_tdo））;如果（！addr_tdo）{printf（“NULL tdo returns \ n”）;返回; } checkerr（errhp，OCIDefineObject（defn2p，errhp，addr_tdo，（void **）＆addr，（ub4 *）0，（void **）0，（ub4 *）0））; checkerr（errhp，OCIStmtExecute（svchp，stmthp，errhp，（ub4）1，（ub4）0，（OCISnapshot *）NULL，（OCISnapshot *）NULL，（ub4）OCI_DEFAULT））;</pre></div>
                     <!-- class="example" -->
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-697E6E01-86D9-4850-9332-79999AE1CF1E__GUID-7F7FA59B-2807-4C60-A9C0-8AA8B9723D07">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="bind-define-describe-functions.html#GUID-F211198D-C88C-493B-A65E-2C2A95E6197B" title="设置命名数据类型或REF定义所需的其他属性。">OCIDefineObject（）</a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>