<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="The CREATE FUNCTION statement creates or replaces a standalone function or a call specification."></meta>
      <meta name="description" content="The CREATE FUNCTION statement creates or replaces a standalone function or a call specification."></meta>
      <title>创建功能声明</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Database PL/SQL Language Reference "></meta>
      <meta property="og:description" content="The CREATE FUNCTION statement creates or replaces a standalone function or a call specification."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Database PL/SQL Language Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-pl-sql-language-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-13T20:26:20-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96448-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="ALTER-TYPE-statement.html" title="Previous" type="text/html"></link>
      <link rel="next" href="CREATE-LIBRARY-statement.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database PL/SQL Language Reference"></meta>
    <meta name="dcterms.isVersionOf" content="LNPLS"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="ALTER-TYPE-statement.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="CREATE-LIBRARY-statement.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">数据库PL / SQL语言参考</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="sql-statements-for-stored-plsql-units.html" property="item" typeof="WebPage"><span property="name">存储的PL / SQL单元的SQL语句</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">创建功能声明</li>
            </ol>
            <a id="GUID-B71BC5BD-B87C-4054-AAA5-213E856651F2" name="GUID-B71BC5BD-B87C-4054-AAA5-213E856651F2"></a><a id="LNPLS1920"></a><a id="LNPLS1491"></a><a id="LNPLS2178"></a><a id="LNPLS1921"></a><a id="LNPLS1922"></a><a id="LNPLS1923"></a><a id="LNPLS1924"></a><a id="LNPLS1494"></a><a id="LNPLS1495"></a><a id="LNPLS1496"></a><a id="LNPLS1497"></a><a id="LNPLS1925"></a><a id="LNPLS1926"></a><a id="LNPLS1927"></a><a id="LNPLS1928"></a><a id="LNPLS1929"></a><a id="LNPLS1930"></a><a id="LNPLS1931"></a><a id="LNPLS1932"></a><a id="LNPLS1933"></a><a id="LNPLS1934"></a><a id="LNPLS1935"></a><a id="LNPLS1936"></a><a id="LNPLS1937"></a><a id="LNPLS1938"></a><a id="LNPLS1939"></a><a id="LNPLS1940"></a><a id="LNPLS1941"></a><a id="LNPLS1942"></a><a id="LNPLS1943"></a><a id="LNPLS1944"></a><a id="LNPLS1945"></a><a id="LNPLS1946"></a><a id="LNPLS1512"></a><a id="LNPLS01377"></a><a id="LNPLS01382"></a><a id="LNPLS1947"></a><a id="LNPLS1948"></a><a id="LNPLS01370"></a>
            
            <h2 id="LNPLS-GUID-B71BC5BD-B87C-4054-AAA5-213E856651F2" class="sect2"><span class="enumeration_section">14.7</span>创建功能声明</h2>
         </header>
         <div class="ind">
            <div>
               <p><code class="codeph">CREATE</code> <code class="codeph">FUNCTION</code>语句创建或替换独立函数或调用规范。
               </p>
               <div class="section">
                  <p><span class="bold">独立函数</span>是存储在数据库中的函数（返回单个值的子程序）。
                  </p>
                  <div class="infoboxnote" id="GUID-B71BC5BD-B87C-4054-AAA5-213E856651F2__GUID-AB0DEAA0-CA58-4706-AEB1-B7D83F4A7DFE">
                     <p class="notep1">注意：</p>
                     <p>使用<code class="codeph">CREATE</code> <code class="codeph">FUNCTION</code>语句创建的独立函数与在PL / SQL块或包中声明和定义的函数不同。有关更多信息，请参见<span class="q">“ <a href="function-declaration-and-definition.html#GUID-4E19FB09-46B5-4CE5-8A5B-CD815C29DA1C" title="在调用函数之前，必须声明并定义它。您可以先声明它（使用function_declaration），然后在同一个块，子程序或包中（使用function_definition）定义它，或者同时声明和定义它（使用function_definition）。">函数声明和定义</a> ”</span>和<a href="CREATE-PACKAGE-statement.html#GUID-03A70A54-90FF-4293-B6B8-F0B35E184AC5" title="CREATE PACKAGE语句创建或替换存储包的规范，存储包是数据库中作为一个单元存储的相关过程，函数和其他程序对象的封装集合。">CREATE PACKAGE语句</a> 。
                     </p>
                  </div>
                  <p><span class="bold">调用规范</span>声明了Java方法或C函数，以便可以从PL / SQL调用它。您还可以使用SQL <code class="codeph">CALL</code>语句来调用此类方法或子程序。调用规范告诉数据库在调用时调用哪个Java方法或哪个共享库中的命名函数。它还告诉数据库为参数和返回值进行的类型转换。
                  </p>
                  <div class="infoboxnote" id="GUID-B71BC5BD-B87C-4054-AAA5-213E856651F2__GUID-15FED2B6-9FB1-4305-8079-3A2B93F8D2B7">
                     <p class="notep1">注意：</p>
                     <p>要从SQL语句中调用，存储的函数必须遵守控制副作用的某些规则。请参阅<span class="q">“ <a href="plsql-subprograms.html#GUID-6C6A828F-8FA0-4278-97D2-6D5649A66A9A">子程序副作用</a> ”</span> 。
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-B71BC5BD-B87C-4054-AAA5-213E856651F2__GUID-079EA4E3-3FF6-41D3-99B0-3A113168F740">话题</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="CREATE-FUNCTION-statement.html#GUID-B71BC5BD-B87C-4054-AAA5-213E856651F2__BABJECBJ">先决条件</a></p>
                     </li>
                     <li>
                        <p><a href="CREATE-FUNCTION-statement.html#GUID-B71BC5BD-B87C-4054-AAA5-213E856651F2__BABFIIBA">句法</a></p>
                     </li>
                     <li>
                        <p><a href="CREATE-FUNCTION-statement.html#GUID-B71BC5BD-B87C-4054-AAA5-213E856651F2__G2273331">语义</a></p>
                     </li>
                     <li>
                        <p><a href="CREATE-FUNCTION-statement.html#GUID-B71BC5BD-B87C-4054-AAA5-213E856651F2__I2062371">例子</a></p>
                     </li>
                     <li>
                        <p><a href="CREATE-FUNCTION-statement.html#GUID-B71BC5BD-B87C-4054-AAA5-213E856651F2__BABFFCGA">相关话题</a></p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-B71BC5BD-B87C-4054-AAA5-213E856651F2__BABJECBJ">
                  <p class="subhead1" id="GUID-B71BC5BD-B87C-4054-AAA5-213E856651F2__GUID-F0AB8FB5-64CA-4098-ACB2-150D200F6868">先决条件</p>
                  <p>要在模式中创建或替换独立函数，您必须具有<code class="codeph">CREATE</code> <code class="codeph">PROCEDURE</code>系统特权。
                  </p>
                  <p>要在另一个用户的模式中创建或替换独立函数，您必须具有<code class="codeph">CREATE</code> <code class="codeph">ANY</code> <code class="codeph">PROCEDURE</code>系统特权。
                  </p>
                  <p>要调用调用规范，您可能需要其他权限，例如，对C调用规范的C库的<code class="codeph">EXECUTE</code>特权。
                  </p>
                  <p>要在Oracle预编译器程序中嵌入<code class="codeph">CREATE</code> <code class="codeph">FUNCTION</code>语句，必须使用关键字<code class="codeph">END-EXEC</code>然后是特定语言的嵌入式SQL语句终止符来终止该语句。
                  </p>
                  <div class="infoboxnotealso" id="GUID-B71BC5BD-B87C-4054-AAA5-213E856651F2__GUID-FE8342E3-5C64-4F84-8ED3-EE1F82E0B7A0">
                     <p class="notep1">也可以看看：</p>
                     <p>有关此类先决条件的更多信息：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="../adfns/coding-subprograms-and-packages.html#ADFNS00906" target="_blank"><span class="italic">Oracle数据库开发指南</span></a></p>
                        </li>
                        <li>
                           <p><a href="../jjdev/database-Java-application-security.html#JJDEV-GUID-BCFBD7DC-40E3-4707-BD01-E47E3D0963B2" target="_blank"><span class="italic">Oracle数据库Java开发人员指南</span></a></p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-B71BC5BD-B87C-4054-AAA5-213E856651F2__BABFIIBA">
                  <p class="subhead1" id="GUID-B71BC5BD-B87C-4054-AAA5-213E856651F2__GUID-D98A0F5B-A61C-4867-8998-A95CE952B793">句法</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-B71BC5BD-B87C-4054-AAA5-213E856651F2__GUID-4B8A999F-970B-4F4C-9532-F5C3E2AC7DB9"><span class="italic">create_function</span> :: =</p>
                  <div class="figure" id="GUID-B71BC5BD-B87C-4054-AAA5-213E856651F2__GUID-06090264-D314-441E-AD67-A66930CABC9C"><img src="img/create_function.gif" alt="下面是create_function.eps的描述" title="下面是create_function.eps的描述" longdesc="img_text/create_function.html"><br><a href="img_text/create_function.html">插图描述create_function.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-B71BC5BD-B87C-4054-AAA5-213E856651F2__GUID-5A63531A-0FF0-4661-84E7-CB587FC68FA8"><span class="italic">plsql_function_source</span> :: =</p>
                  <div class="figure" id="GUID-B71BC5BD-B87C-4054-AAA5-213E856651F2__GUID-3D09229B-4356-4E49-A092-E60D2649292B"><img src="img/plsql_function_source.gif" alt="下面是plsql_function_source.eps的说明" title="下面是plsql_function_source.eps的说明" longdesc="img_text/plsql_function_source.html"><br><a href="img_text/plsql_function_source.html">说明plsql_function_source.eps的说明</a></div>
                  <!-- class="figure" -->
                  <p>（ <a href="SHARING-clause.html#GUID-3C830338-8B7E-43C0-9EA0-4E292AA1A97B__SHARING_CLAUSE-5ADB7CDA">sharing_clause :: =</a> ， <a href="invokers_rights_clause.html#GUID-66745CF3-81D9-491B-BD49-E83E05A5C4E4__INVOKER_RIGHTS_CLAUSE-0566ECA9">invoker_rights_clause :: =</a> ， <a href="ACCESSIBLE-BY-clause.html#GUID-9720619C-9862-4123-96E7-3E85F240FF36__ACCESSIBLE_BY_CLAUSE-0B7B66E4">accessible_by_clause :: =</a> ， <a href="DEFAULT-COLLATION-clause.html#GUID-453FC0EA-7B83-407B-A991-87A48017B358__DEFAULT_COLLATION_CLAUSE-FE9CA794">default_collation_clause :: =</a> ， <a href="DETERMINISTIC-clause.html#GUID-6AECC957-27CC-4334-9F43-0FBE88F92654__DETERMINISTIC_CLAUSE-4CF1B519">deterministic_clause :: =</a> ， <a href="PARALLEL_ENABLE-clause.html#GUID-CFF3C7D3-6438-44C2-9FAF-569F246C37CA__PARALLEL_ENABLE_CLAUSE-4BE8C41B">parallel_enable_clause :: =</a> ， <a href="RESULT_CACHE-clause.html#GUID-7B0FFFDF-C953-46E5-9FD6-C41DFBDE1B0B__RESULT_CACHE_CLAUSE-4E07E9C1">result_cache_clause :: =</a> ， <a href="AGGREGATE-clause.html#GUID-2ED21240-E45A-4982-B674-CF0E1BE0985B__AGGREGATE_CLAUSE-4E74B298">aggregate_clause :: =</a> ， <a href="PIPELINED-clause.html#GUID-FA182210-C68D-4E03-85B9-A6C681099705__PIPELINED_CLAUSE-4E774151">pipelined_clause :: =</a> ， <a href="block.html#GUID-9ACEB9ED-567E-4E1A-A16A-B8B35214FC9D__CJACHDGG">body :: =</a> ， <a href="call-specification.html#GUID-C5F117AE-E9A2-499B-BA6A-35D072575BAD__CALL_SPEC-5BE1CB5C">call_spec :: =</a> ， <a href="datatype-attribute.html#GUID-B4A364AB-7CC2-4B3F-AF52-09A752029C8E__DATATYPE-DC0F52BB">datatype :: =</a> ， <a href="block.html#GUID-9ACEB9ED-567E-4E1A-A16A-B8B35214FC9D__CJAIABJJ">declare_section :: =</a> ， <a href="formal-parameter-declaration.html#GUID-5BA8E033-96B9-439A-A4FC-4844FEC14AD8__CJAJDGCC">parameter_declaration :: =</a> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-B71BC5BD-B87C-4054-AAA5-213E856651F2__G2273331">
                  <p class="subhead1" id="GUID-B71BC5BD-B87C-4054-AAA5-213E856651F2__GUID-84BA165C-C92A-43E4-8788-FB9D03D64B3E">语义</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-B71BC5BD-B87C-4054-AAA5-213E856651F2__GUID-7BB9CDBE-BDF8-4B86-8462-2E941719E0C8"><span class="italic">create_function</span></p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold">或替换</span></p>
                  <p>如果存在，则重新创建该函数，然后重新编译它。</p>
                  <p>在重新定义函数之前被授予权限的用户仍然可以访问该函数而无需重新授予权限。</p>
                  <p>如果任何基于函数的索引依赖于该函数，则数据库会将索引标记为<code class="codeph">DISABLED</code> 。</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold">[版权所有|不可挽回的]</span></p>
                  <p>指定是否editioning为架构对象类型启用该功能是否是editioned或noneditioned对象<code class="codeph">FUNCTION</code>的<span class="italic"><code class="codeph">schema</code></span> 。<span class="bold">默认值：</span> <code class="codeph">EDITIONABLE</code> 。有关已编辑和未编辑的对象的信息，请参见“ <a href="../adfns/editions.html#ADFNS99923" target="_blank"><span class="italic">Oracle数据库开发指南”</span></a> 。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-B71BC5BD-B87C-4054-AAA5-213E856651F2__GUID-C2F470BE-7A6D-469A-ACD4-A55E5D39CF8B"><span class="bold">plsql_function_source</span></p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold"><span class="italic">模式</span></span></p>
                  <p>包含该函数的模式的名称。<span class="bold">默认值：</span>您的架构。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold"><span class="italic">FUNCTION_NAME</span></span></p>
                  <p>要创建的函数的名称。</p>
                  <div class="infoboxnote" id="GUID-B71BC5BD-B87C-4054-AAA5-213E856651F2__GUID-D52DA288-B361-4317-BF32-BDA489552A0B">
                     <p class="notep1">注意：</p>
                     <p>如果计划使用SQL * Module生成的存根调用存储的子程序，则存储的子程序名称也必须是调用主机3GL语言中的合法标识符，例如Ada或C.</p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold">RETURN <span class="italic">数据类型</span></span></p>
                  <p>对于<span class="italic"><code class="codeph">datatype</code></span> ，请指定函数返回值的数据类型。返回值可以包含PL / SQL支持的任何数据类型。</p>
                  <div class="infoboxnote" id="GUID-B71BC5BD-B87C-4054-AAA5-213E856651F2__GUID-3067645B-51B4-49A3-9FA8-B838A39F199E">
                     <p class="notep1">注意：</p>
                     <p>Oracle SQL不支持使用<code class="codeph">BOOLEAN</code>参数或返回调用函数。因此，要使SQL语句调用用户定义的函数，必须将它们设计为返回数字（0或1）或字符串（' <code class="codeph">TRUE</code> '或' <code class="codeph">FALSE</code> '）。
                     </p>
                  </div>
                  <p>数据类型无法指定长度，精度或比例。数据库从调用函数的环境中获取返回值的长度，精度或小数位数。</p>
                  <p>如果返回类型是<code class="codeph">ANYDATASET</code>并且您打算在查询的<code class="codeph">FROM</code>子句中使用该函数，那么您还必须指定<code class="codeph">PIPELINED</code>子句并将describe方法（ <code class="codeph">ODCITableDescribe</code> ）定义为函数实现类型的一部分。
                  </p>
                  <p>您不能约束此数据类型（例如，使用<code class="codeph">NOT</code> <code class="codeph">NULL</code> ）。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold"><span class="italic">身体</span></span></p>
                  <p>函数所需的可执行部分，以及可选的函数的异常处理部分。</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold"><span class="italic">declare_section</span></span></p>
                  <p>函数的可选声明部分。声明是函数的本地声明，可以在<span class="italic">正文中</span>引用，并在函数完成执行时停止存在。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-B71BC5BD-B87C-4054-AAA5-213E856651F2__I2062371">
                  <p class="subhead1" id="GUID-B71BC5BD-B87C-4054-AAA5-213E856651F2__GUID-FCD96865-BBCC-4CD1-9457-EF3061BFD114">例子</p>
               </div>
               <!-- class="section" -->
               <div class="example" id="GUID-B71BC5BD-B87C-4054-AAA5-213E856651F2__GUID-5D38B735-9B96-4B7C-8291-6F56EE329547">
                  <p class="titleinexample">示例14-14创建函数</p>
                  <p>这个语句创建功能<code class="codeph">get_bal</code>到试样台上<code class="codeph">oe.orders</code> 。
                  </p><pre class="oac_no_warn" dir="ltr">创建功能get_bal（acc_no IN NUMBER）返回号码是acc_bal NUMBER（11,2）; BEGIN SELECT order_total INTO acc_bal FROM orders WHERE customer_id = acc_no; RETURN（acc_bal）;结束; /</pre><p><code class="codeph">get_bal</code>函数返回指定帐户的余额。
                  </p>
                  <p>调用该函数时，必须指定参数<code class="codeph">acc_no</code> ，即寻求其余额的帐户的编号。<code class="codeph">acc_no</code>的数据类型为<code class="codeph">NUMBER</code> 。</p>
                  <p>该函数返回帐户余额。<code class="codeph">CREATE</code> <code class="codeph">FUNCTION</code>语句的<code class="codeph">RETURN</code>子句指定返回值的数据类型为<code class="codeph">NUMBER</code> 。</p>
                  <p>该函数使用<code class="codeph">SELECT</code>语句从<code class="codeph">orders</code>表中由参数<code class="codeph">acc_no</code>标识的行中选择<code class="codeph">balance</code>列。该函数使用<code class="codeph">RETURN</code>语句将此值返回到调用函数的环境。
                  </p>
                  <p>在前面的示例中创建的函数可以在SQL语句中使用。例如：</p><pre class="oac_no_warn" dir="ltr">SELECT get_bal（165）FROM DUAL; GET_BAL（165）------------ 2519</pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-B71BC5BD-B87C-4054-AAA5-213E856651F2__I2129412">
                  <p class="titleinexample">示例14-15创建聚合函数</p>
                  <p>下一个语句创建一个名为<code class="codeph">SecondMax</code>的聚合函数，以聚合数字值。它假定ADT <code class="codeph">SecondMaxImpl</code>子程序包含<code class="codeph">ODCIAggregate</code>子程序的实现：</p><pre class="oac_no_warn" dir="ltr">创建函数SecondMax（输入NUMBER）使用SecondMaxImpl返回NUMBER PARALLEL_ENABLE聚合;</pre><div class="infoboxnotealso" id="GUID-B71BC5BD-B87C-4054-AAA5-213E856651F2__GUID-3BF0429D-1710-4556-A41F-ABA12EFC6E1B">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="../addci/using-user-defined-aggregate-functions.html#ADDCI2120" target="_blank"><span class="italic">Oracle Database Data Cartridge开发人员指南，</span></a>用于完整实现<code class="codeph">SecondMaxImpl</code>的类型和类型主体</p>
                  </div>
                  <p>在像此语句的查询中使用此类聚合函数，该查询查询示例表<code class="codeph">hr.employees</code> ：</p><pre class="oac_no_warn" dir="ltr">SELECT SecondMax（salary）“SecondMax”，department_id FROM employees GROUP BY department_id HAVING SecondMax（salary）&gt; 9000 ORDER BY“SecondMax”，department_id; SecondMax DEPARTMENT_ID --------- ------------- 9450 100 13670.74 50 14175 80 18742.5 90</pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-B71BC5BD-B87C-4054-AAA5-213E856651F2__GUID-6C063B12-005A-4B34-A5B7-76AA1C5951FC">
                  <p class="titleinexample">例14-16函数中的包过程</p>
                  <p>此语句创建一个函数，该函数使用<code class="codeph">DBMS_LOB.GETLENGTH</code>过程返回<code class="codeph">CLOB</code>列的长度。
                  </p><pre class="oac_no_warn" dir="ltr">创建或替换函数text_length（一个CLOB）返回数字确定性是否开始返回DBMS_LOB.GETLENGTH（a）;结束;</pre></div>
               <!-- class="example" -->
               <div class="section" id="GUID-B71BC5BD-B87C-4054-AAA5-213E856651F2__BABFFCGA">
                  <p class="subhead1" id="GUID-B71BC5BD-B87C-4054-AAA5-213E856651F2__GUID-A46691BF-E390-41B1-A8E7-DB786F4E5033">相关话题</p>
                  <p>在这一章当中：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><span class="q">“ <a href="ALTER-FUNCTION-statement.html#GUID-C78E0E7E-6BCF-4AE8-8C75-9F133E8FB4E1" title="ALTER FUNCTION语句显式重新编译独立函数。">更改功能声明</a> ”</span></p>
                     </li>
                     <li>
                        <p><span class="q">“ <a href="CREATE-PROCEDURE-statement.html#GUID-5F84DB47-B5BE-4292-848F-756BF365EC54" title="CREATE PROCEDURE语句创建或替换独立过程或调用规范。">CREATE PROCEDURE声明</a> ”</span></p>
                     </li>
                     <li>
                        <p><span class="q">“ <a href="DROP-FUNCTION-statement.html#GUID-415FF998-4B2D-48AA-9275-465B17952280" title="DROP FUNCTION语句从数据库中删除独立函数。">DROP FUNCTION声明</a> ”</span></p>
                     </li>
                  </ul>
                  <p>在其他章节中：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="plsql-optimization-and-tuning.html#GUID-981102A8-5204-4931-B10A-93486304B184" title="多态表函数（PTF）是表函数，其操作数可以有多种类型。返回类型由PTF调用参数列表确定。表类型的实际参数通常决定行输出形状，但并非总是如此。">多态表函数概述</a></p>
                     </li>
                     <li>
                        <p><span class="q">“ <a href="function-declaration-and-definition.html#GUID-4E19FB09-46B5-4CE5-8A5B-CD815C29DA1C" title="在调用函数之前，必须声明并定义它。您可以先声明它（使用function_declaration），然后在同一个块，子程序或包中（使用function_definition）定义它，或者同时声明和定义它（使用function_definition）。">函数声明和定义</a> ”，</span>用于有关在PL / SQL块中创建函数的信息</p>
                     </li>
                     <li>
                        <p><span class="q">“ <a href="formal-parameter-declaration.html#GUID-5BA8E033-96B9-439A-A4FC-4844FEC14AD8" title="形式参数声明指定参数的名称和数据类型，以及（可选）其模式和默认值。">正式参数声明</a> ”</span></p>
                     </li>
                     <li>
                        <p><span class="q">“ <a href="plsql-subprograms.html#GUID-13BEBBEC-02D4-48E8-A059-DFEAC4751A3B" title="当PL / SQL函数具有RESULT_CACHE选项时，其结果将缓存在共享全局区域（SGA）中，因此连接到同一实例的会话可以在可用时重用这些结果。PL / SQL函数结果缓存与结果缓存共享其管理和可管理性基础结构。如果在DR单元（定义者权限单元）中包含已连接的用户数据库链接，则必须向将运行DR单元的用户授予INHERIT REMOTE PRIVILEGES权限。">PL / SQL子程序</a> ”</span></p>
                     </li>
                  </ul>
                  <p>在其他书籍中：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>有关<code class="codeph">CALL</code>语句的信息，请<a href="../sqlrf/CALL.html#SQLRF01108" target="_blank"><span class="italic">参见Oracle数据库SQL语言参考</span></a></p>
                     </li>
                     <li>
                        <p><a href="../adfns/coding-subprograms-and-packages.html#ADFNS00908" target="_blank"><span class="italic">“Oracle数据库开发指南”，</span></a>以获取有关从SQL语句调用的用户定义函数的限制的信息</p>
                     </li>
                     <li>
                        <p>有关呼叫规范的详细信息，请参阅<a href="../adfns/design_basics.html#ADFNS010" target="_blank"><span class="italic">Oracle数据库开发指</span></a></p>
                     </li>
                     <li>
                        <p><a href="../addci/using-pipelined-and-parallel-table-functions.html#ADDCI2140" target="_blank"><span class="italic">Oracle Database Data Cartridge开发人员指南</span></a> ，了解有关定义<code class="codeph">ODCITableDescribe</code>函数的信息</p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
            </div>
         </div>
      </article>
   </body>
</html>