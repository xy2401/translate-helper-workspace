<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>JSON_OBJECT</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="SQL Language Reference "></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="SQL Language Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="sql-language-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-02-12T15:36:36-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96310-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="JSON_MERGEPATCH.html" title="Previous" type="text/html"></link>
      <link rel="next" href="JSON_OBJECTAGG.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="SQL Language Reference"></meta>
    <meta name="dcterms.isVersionOf" content="SQLRF"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="JSON_MERGEPATCH.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="JSON_OBJECTAGG.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">SQL语言参考</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="Functions.html" property="item" typeof="WebPage"><span property="name">功能</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">JSON_OBJECT</li>
            </ol>
            <a id="GUID-1EF347AE-7FDA-4B41-AFE0-DD5A49E8B370" name="GUID-1EF347AE-7FDA-4B41-AFE0-DD5A49E8B370"></a>
            
            <h2 id="SQLRF-GUID-1EF347AE-7FDA-4B41-AFE0-DD5A49E8B370" class="sect2">JSON_OBJECT</h2>
         </header>
         <div class="ind">
            <div>
               <div class="section">
                  <p class="subhead1" id="GUID-1EF347AE-7FDA-4B41-AFE0-DD5A49E8B370__GUID-42D8EC6F-02ED-43B0-9F9F-D15644606ECE">句法</p>
                  <div class="figure" id="GUID-1EF347AE-7FDA-4B41-AFE0-DD5A49E8B370__GUID-71684475-798C-4141-AE07-6E1940330D52"><img src="img/json_object.gif" alt="下面是json_object.eps的描述" title="下面是json_object.eps的描述" longdesc="img_text/json_object.html"><br><a href="img_text/json_object.html">说明json_object.eps的说明</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-1EF347AE-7FDA-4B41-AFE0-DD5A49E8B370__GUID-2FC3674D-69E8-4329-81FE-596BC11105C7"><span class="italic">json_object_content</span> :: =</p><br><div class="imageleft"><img class="imageleft" id="GUID-1EF347AE-7FDA-4B41-AFE0-DD5A49E8B370__IMAGE_UG4_3KY_1GB" src="img/json_object_content.gif" alt="下面是json_object_content.eps的描述" title="下面是json_object_content.eps的描述" longdesc="img_text/json_object_content.html"><br><a href="img_text/json_object_content.html">说明json_object_content.eps的说明</a></div><br></div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-1EF347AE-7FDA-4B41-AFE0-DD5A49E8B370__GUID-4AE1F349-11F9-44F6-B267-F5C997F4FBBC"><span class="italic">entry</span> :: =</p><br><div class="imageleft"><img class="imageleft" id="GUID-1EF347AE-7FDA-4B41-AFE0-DD5A49E8B370__IMAGE_Y35_VKY_1GB" src="img/entry.gif" alt="entry.eps的描述如下" title="entry.eps的描述如下" longdesc="img_text/entry.html"><br><a href="img_text/entry.html">插图entry.eps的描述</a></div><br></div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-1EF347AE-7FDA-4B41-AFE0-DD5A49E8B370__GUID-E53C0458-5A56-4A52-9CB8-89DB5695AB20"><span class="italic">regular_entry</span> :: =</p><br><div class="imageleft"><img class="imageleft" id="GUID-1EF347AE-7FDA-4B41-AFE0-DD5A49E8B370__IMAGE_IB5_ZKY_1GB" src="img/regular_entry.gif" alt="下面是regular_entry.eps的描述" title="下面是regular_entry.eps的描述" longdesc="img_text/regular_entry.html"><br><a href="img_text/regular_entry.html">说明regular_entry.eps的说明</a></div><br></div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-1EF347AE-7FDA-4B41-AFE0-DD5A49E8B370__GUID-A7606160-B190-479B-955E-0E9FC5507853"><span class="italic">format_clause</span> :: =</p><br><div class="imageleft"><img class="imageleft" id="GUID-1EF347AE-7FDA-4B41-AFE0-DD5A49E8B370__IMAGE_Y2V_KLY_1GB" src="img/format_clause.gif" alt="format_clause.eps的描述如下" title="format_clause.eps的描述如下" longdesc="img_text/format_clause.html"><br><a href="img_text/format_clause.html">插图描述format_clause.eps</a></div><br></div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-1EF347AE-7FDA-4B41-AFE0-DD5A49E8B370__GUID-9A458793-C3BB-405F-A14F-85D212C9A9B6"><span class="italic">wildcard</span> :: =</p><br><div class="imageleft"><img class="imageleft" id="GUID-1EF347AE-7FDA-4B41-AFE0-DD5A49E8B370__IMAGE_I5T_NLY_1GB" src="img/wildcard.gif" alt="wildcard.eps的描述如下" title="wildcard.eps的描述如下" longdesc="img_text/wildcard.html"><br><a href="img_text/wildcard.html">说明wildcard.eps的说明</a></div><br></div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-1EF347AE-7FDA-4B41-AFE0-DD5A49E8B370__GUID-5B4985A6-E2D3-4C86-BB86-5D0DE746AD9F"><span class="italic">JSON_on_null_clause</span> :: =</p>
                  <div class="figure" id="GUID-1EF347AE-7FDA-4B41-AFE0-DD5A49E8B370__GUID-2141BA86-F041-45CD-8F50-96D6FEE11E1E"><img src="img/json_on_null_clause.gif" alt="下面是json_on_null_clause.eps的描述" title="下面是json_on_null_clause.eps的描述" longdesc="img_text/json_on_null_clause.html"><br><a href="img_text/json_on_null_clause.html">插图描述json_on_null_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-1EF347AE-7FDA-4B41-AFE0-DD5A49E8B370__GUID-94D56DDD-5604-4499-8C70-814671A70A3B"><span class="italic">JSON_returning_clause</span> :: =</p>
                  <div class="figure" id="GUID-1EF347AE-7FDA-4B41-AFE0-DD5A49E8B370__GUID-8EBDC886-FBF6-4EA0-9B4D-444F975B4994"><img src="img/json_returning_clause.gif" alt="下面是json_returning_clause.eps的描述" title="下面是json_returning_clause.eps的描述" longdesc="img_text/json_returning_clause.html"><br><a href="img_text/json_returning_clause.html">说明json_returning_clause.eps的说明</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-1EF347AE-7FDA-4B41-AFE0-DD5A49E8B370__GUID-FC1EC04E-F4AE-48CE-9876-A7A32A831EF1">目的</p>
                  <p>SQL / JSON函数<code class="codeph">JSON_OBJECT</code>将一系列键值对或一个对象类型实例作为其输入。集合类型无法传递给<code class="codeph">JSON_OBJECT</code> 。</p>
                  <p>它返回一个JSON对象，该对象包含每个键值对的对象成员。</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-1EF347AE-7FDA-4B41-AFE0-DD5A49E8B370__GUID-23444EF5-138F-4602-8D56-ED8691DD3005"><span class="italic">条目</span></p>
                  <p><code class="codeph"><span class="codeinlineitalic">regular_entry</span></code> ：使用此子句指定属性键值对。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-1EF347AE-7FDA-4B41-AFE0-DD5A49E8B370__GUID-6E31E24E-EEC3-4223-A4C4-0F5C7C087923"><span class="italic">regular_entry</span></p>
                  <ul id="GUID-1EF347AE-7FDA-4B41-AFE0-DD5A49E8B370__UL_UDV_ZJZ_1GB" style="list-style-type:disc">
                     <li>
                        <p><code class="codeph">KEY</code>是可选的，并且是为了语义清晰度而提供的。
                        </p>
                     </li>
                     <li>
                        <p>使用可选的<span class="italic"><code class="codeph">expr</code></span>将属性键名称指定为区分大小写的文本文字。
                        </p>
                     </li>
                     <li>
                        <p>使用<span class="italic"><code class="codeph">expr</code></span>指定属性值。对于<span class="italic"><code class="codeph">expr</code></span> ，您可以指定任何计算结果为SQL数字文字，文本文字，日期或时间戳的表达式。日期和时间戳数据类型在生成的JSON对象或数组中打印为符合ISO日期格式的JSON字符串。如果<span class="italic"><code class="codeph">expr</code></span>求值为数字文字，则结果属性值为JSON数值;否则，结果属性值是用双引号括起来的区分大小写的JSON字符串值。
                        </p>
                        <p>您可以使用冒号分隔<code class="codeph">JSON_OBJECT</code>条目。
                        </p>
                        <p><span class="bold">例</span></p><pre class="pre codeblock"><code>SELECT JSON_OBJECT（'name'：first_name ||''|| last_name，'email'：email，'phone'：phone_number，'hire_date'：hire_date）FROM employees WHERE employee_id = 140;</code></pre></li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-1EF347AE-7FDA-4B41-AFE0-DD5A49E8B370__GUID-BA450599-5A02-4331-8C4E-5BD393D4CAD2"><span class="italic">format_clause</span></p>
                  <p>使用可选子句<code class="codeph">FORMAT JSON</code>指示输入字符串是JSON，因此不会在输出中引用。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-1EF347AE-7FDA-4B41-AFE0-DD5A49E8B370__GUID-0452AF21-1F13-473F-849D-EFE54C6C0F88"><span class="italic">通配符</span></p>
                  <p>通配符条目选择多个列，可以采用*，table。*，view。*或t_alias的形式。*。使用通配符条目将表，子查询或视图中的所有列映射到JSON对象，而无需显式命名查询中的所有列。在这种情况下，通配符条目的使用方式与它们直接在select_list中使用的方式相同。</p>
                  <p><span class="bold">例1</span></p>
                  <p>在生成的JSON对象中，键名等于相应列的名称。</p><pre class="pre codeblock"><code>SELECT JSON_OBJECT（*）FROM employees WHERE employee_id = 140;</code></pre><p><span class="bold">输出1</span></p><pre class="pre codeblock"><code>{“EMPLOYEE_ID”：140，“FIRST_NAME”：“Joshua”，“LAST_NAME”：“Patel”，“EMAIL”：“JPAT EL”，“PHONE_NUMBER”：“650.121.1834”，“HIRE_DATE”：“2006-04 -  06T00：00：00“，”JOB_ID“：”ST_CLERK“，”SALARY“：2500，”COMMISSION_PCT“：null，”MAN AGER_ID“：123，”DEPARTMENT_ID“：50}</code></pre><p><span class="bold">例2</span></p>
                  <p>此查询从连接查询中的特定表中选择列。</p><pre class="pre codeblock"><code>SELECT JSON_OBJECT（'NAME'VALUE first_name，d。*）FROM employees e，departments d WHERE e.department_id = d.department_id AND e.employee_id = 140</code></pre><p><span class="bold">例3</span></p>
                  <p>此查询将departments表转换为单个JSON数组值。</p><pre class="pre codeblock"><code>从部门中选择JSON_ARRAYAGG（JSON_OBJECT（*））</code></pre></div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-1EF347AE-7FDA-4B41-AFE0-DD5A49E8B370__GUID-183D7C7C-049E-4333-83C9-9A1F4ABC7547"><span class="italic">JSON_on_null_clause</span></p>
                  <p>当<span class="italic"><code class="codeph">expr</code></span>求值为null时，使用此子句指定此函数的行为。
                  </p>
                  <ul style="list-style-type:disc">
                     <li>
                        <div class="p"><code class="codeph">NULL</code> <code class="codeph">ON</code> <code class="codeph">NULL</code> - 当指定NULL ON NULL时，JSON NULL值将用作给定键的值。<pre class="pre codeblock"><code>SELECT JSON_OBJECT（'key1'VALUE NULL）求值为{“key1”：null}</code></pre></div>
                     </li>
                     <li>
                        <p><code class="codeph">ABSENT</code> <code class="codeph">ON</code> <code class="codeph">NULL</code> - 如果指定此子句，则该函数将忽略JSON对象中的属性键值对。
                        </p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-1EF347AE-7FDA-4B41-AFE0-DD5A49E8B370__GUID-A7530CBD-72B0-4CAD-B2C1-71542E2D41E0"><span class="italic">JSON_returning_clause</span></p>
                  <p>使用此子句指定返回值的类型。其中一个：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><code class="codeph">VARCHAR2</code>将大小指定为字节数或字符数。默认值为字节。如果省略此子句，或指定子句而未指定<span class="italic"><code class="codeph">size</code></span>值，则<code class="codeph">JSON_ARRAY</code>返回<code class="codeph">VARCHAR2(4000)</code>类型的字符串。有关更多信息，请参阅<a href="Data-Types.html#GUID-0DC7FFAA-F03F-4448-8487-F2592496A510">VARCHAR2数据类型</a> 。请注意，在SQL中的其他位置指定<code class="codeph">VARCHAR2</code>数据类型时，您需要指定大小。但是，在<span class="italic"><code class="codeph">JSON_returning_clause</code></span>您可以省略大小。
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">CLOB</code>返回包含单字节或多字节字符的字符大对象。
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">BLOB</code>返回<code class="codeph">AL32UTF8</code>字符集的二进制大对象。
                        </p>
                     </li>
                     <li><code class="codeph">与TYPENAME</code></li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-1EF347AE-7FDA-4B41-AFE0-DD5A49E8B370__STRICT-9BAEBF9E">严格</p>
                  <p>指定<code class="codeph">STRICT</code>子句以验证JSON生成函数的输出是否正确JSON。如果检查失败，则会引发语法错误。
                  </p>
                  <p><span class="bold">示例1：输出字符串出现在引号内，因为未使用<code class="codeph">FORMAT JSON</code></span></p><pre class="pre codeblock"><code>SELECT JSON_OBJECT（'name'value'Foo'）FROM DUAL输出：JSON_OBJECT（'NAME'VALUE'FOO'FORMATJSON）------------------------ ------------------------- {“name”：“Foo”}</code></pre><p><span class="bold">示例2：使用<code class="codeph">FORMAT JSON</code>时，输出字符串周围没有引号。</span> 
                  </p><pre class="pre codeblock"><code>SELECT JSON_OBJECT（'name'value'Foo'FORMAT JSON）FROM DUAL输出：JSON_OBJECT（'NAME'VALUE'FOO'FORMATJSON）---------------------- --------------------------- {“name”：Foo}</code></pre><p><span class="bold">示例3：使用<code class="codeph">FORMAT JSON STRICT</code>时出现JSON语法错误。</span></p><pre class="pre codeblock"><code>SELECT JSON_OBJECT（'name'值'Foo'FORMAT JSON STRICT）FROM DUAL输出：ORA-40441：JSON语法错误</code></pre></div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-1EF347AE-7FDA-4B41-AFE0-DD5A49E8B370__GUID-1691AF88-DA86-41C6-8BA3-63227FB23672">用独特的钥匙</p>
                  <p>指定<code class="codeph">WITH UNIQUE KEYS</code>以保证生成的JSON对象具有唯一键。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-1EF347AE-7FDA-4B41-AFE0-DD5A49E8B370__GUID-4223C69A-DF43-496A-84A0-DAFB72F01A5E">例</p>
                  <p>以下示例返回每个包含两个属性键值对的JSON对象：</p><pre class="pre codeblock"><code>SELECT JSON_OBJECT（KEY'deptno'VALUE d.department_id，KEY'deptname'VALUE d.department_name）“Department Objects”FROM departments d ORDER BY d.department_id;部门对象---------------------------------------- {“deptno”：10，“ deptname“：”Administration“} {”deptno“：20，”deptname“：”Marketing“} {”deptno“：30，”deptname“：”Purchasing“} {”deptno“：40，”deptname“：”Human资源“} {”deptno“：50，”deptname“：”Shipping“}。 。 。</code></pre></div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-1EF347AE-7FDA-4B41-AFE0-DD5A49E8B370__GUID-EE47EA05-39CD-4433-8898-62B00355CEB5"><span class="italic">JSON_OBJECT列条目</span></p>
                  <p>在某些情况下，您可能希望让JSON对象键名与表列的名称匹配，以避免在键值表达式中重复列名。例如：</p><pre class="pre codeblock"><code>SELECT JSON_OBJECT（'first_name'VALUE first_name，'last_name'VALUE last_name，'email'VALUE email，'hire_date'VALUE hire_date）FROM employees WHERE employee_id = 140; {“first_name”：“Joshua”，“last_name”：“Patel”，“email”：“JPATEL”，“hire_date”：“2006-04-06 06：00：00”}</code></pre><p>在这种情况下，您可以使用快捷方式，其中可以将单个列值指定为输入，并从列的名称推断出相应的对象条目键。例如：</p><pre class="pre codeblock"><code>SELECT JSON_OBJECT（first_name，last_name，email，hire_date）FROM employees WHERE employee_id = 140; {“first_name”：“Joshua”，“last_name”：“Patel”，“email”：“JPATEL”，“hire_date”：“2006-04-06 06：00：00”}</code></pre><p>您可以对列名称使用带引号或非带引号的标识符。如果使用非带引号的标识符，则使用查询中写入的标识符区分大小写的值来生成相应的对象键值。但是，为了引用列值，标识符仍然不区分大小写。例如：</p><pre class="pre codeblock"><code>SELECT JSON_OBJECT（eMail）FROM employees WHERE employee_id = 140 {“eMail”：“JPATEL”}</code></pre><p>请注意，保留列名称中键入的大写“M”。</p>
               </div>
               <!-- class="section" -->
            </div>
         </div>
      </article>
   </body>
</html>