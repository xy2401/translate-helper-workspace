<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>此版本的Oracle调用接口程序员指南中的更改</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Programmer&#39;s Guide"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Programmer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="oracle-call-interface-programmers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-14T08:46:00-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96204-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="preface.html" title="Previous" type="text/html"></link>
      <link rel="next" href="introduction.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Oracle Call Interface Programmer&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="LNOCI"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="preface.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="introduction.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">程序员指南</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">此版本的Oracle调用接口程序员指南中的更改</li>
            </ol>
            <a id="GUID-D60519C3-406F-4588-8DA1-D475D5A3E1F6" name="GUID-D60519C3-406F-4588-8DA1-D475D5A3E1F6"></a><a id="LNOCI005"></a>
            
            <h2 id="LNOCI-GUID-D60519C3-406F-4588-8DA1-D475D5A3E1F6" class="sect2">此版本的Oracle调用接口程序员指南中的更改</h2>
         </header>
         <div class="ind">
            <div>
               <p>本前言包含：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p>Oracle数据库发行版18 <span class="italic">c</span> ，版本18.1中的更改</p>
                  </li>
               </ul>
            </div>
            <div class="sect2"><a id="GUID-93B6A227-6C78-45E7-95E0-B80C6B254025" name="GUID-93B6A227-6C78-45E7-95E0-B80C6B254025"></a><h3 id="LNOCI-GUID-93B6A227-6C78-45E7-95E0-B80C6B254025" class="sect3">Oracle Database Release 19c版本19.1中的更改</h3>
               <div>
                  <p>以下是本书中针对Oracle Database 19c版本19.1的更改。</p>
               </div>
               <div class="sect3"><a id="GUID-83F525D5-9C93-4B67-8B2E-7B3BAD2B6F42" name="GUID-83F525D5-9C93-4B67-8B2E-7B3BAD2B6F42"></a><h4 id="LNOCI-GUID-83F525D5-9C93-4B67-8B2E-7B3BAD2B6F42" class="sect4">新功能</h4>
                  <div>
                     <p>Oracle Database 19c版本19.1的新功能</p>
                     <div class="p">此版本包含以下新的OCI SODA功能：<ul id="GUID-83F525D5-9C93-4B67-8B2E-7B3BAD2B6F42__UL_ZSW_V1M_KGB" style="list-style-type:disc">
                           <li>
                              
                              <p><code class="codeph">OCISodaBulkInsert()</code> <code class="codeph">OCISodaBulkInsertAndGet()</code> <code class="codeph">OCISodaBulkInsertAndGetWithCtnt()</code> <code class="codeph">OCISodaBulkInsertWithCtnt()</code> <code class="codeph">OCISodaDataGuideGet()</code> <code class="codeph">OCISodaDocCount()</code> <code class="codeph">OCISodaDocCountWithFilter()</code> <code class="codeph">OCISodaDocGetNext()</code> <code class="codeph">OCISodaFind()</code> <code class="codeph">OCISodaFindOne()</code> <code class="codeph">OCISodaIndexCreate()</code> <code class="codeph">OCISodaIndexDrop()</code> <code class="codeph">OCISodaRemove()</code> ， <code class="codeph">OCISodaReplOne()</code> ， <code class="codeph">OCISodaReplOneAndGet()</code> ， <code class="codeph">OCISodaReplOneAndGetWithCtnt()</code> ， <code class="codeph">OCISodaReplOneWithCtnt()</code>和<code class="codeph">OCISodaOperKeysSet()</code> 。
                              </p>
                              
                              <p>参见<a href="oci-SODA-functions-listed.html#GUID-54CEBCDA-C8A8-423C-B015-EF9895E80348" title="下表列出了本章中描述的OCI SODA功能。">OCI SODA功能</a> 。
                              </p>
                              
                           </li>
                        </ul>
                     </div>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-36A37FC1-B10B-401B-B5AD-9568A46F5169" name="GUID-36A37FC1-B10B-401B-B5AD-9568A46F5169"></a><h4 id="LNOCI-GUID-36A37FC1-B10B-401B-B5AD-9568A46F5169" class="sect4">其他变化</h4>
                  <div>
                     <div class="p">此版本中进行了以下其他更改：<ul id="GUID-36A37FC1-B10B-401B-B5AD-9568A46F5169__UL_LMH_55M_KGB" style="list-style-type:disc">
                           <li>文档中出现的所有“Streams Advanced Queuing”都将替换为“Database Advanced Queuing”。</li>
                        </ul>
                     </div>
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-3A14AAC9-D3B4-44BE-803E-2C7E648A9BC1" name="GUID-3A14AAC9-D3B4-44BE-803E-2C7E648A9BC1"></a><h3 id="LNOCI-GUID-3A14AAC9-D3B4-44BE-803E-2C7E648A9BC1" class="sect3">Oracle Database Release 18c版本18.1中的更改</h3>
               <div>
                  <p>Oracle Database 18c版本18.1中的更改。</p>
                  <div class="p">以下是Oracle调用接口（OCI）中的更改：<ul style="list-style-type:disc">
                        <li>
                           <p><a href="release-changes.html#GUID-27A9EB68-5788-4220-B137-CEC1A49B78EB" title="Oracle Database 18c版本18.1的新功能">新功能</a></p>
                        </li>
                     </ul>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-27A9EB68-5788-4220-B137-CEC1A49B78EB" name="GUID-27A9EB68-5788-4220-B137-CEC1A49B78EB"></a><h4 id="LNOCI-GUID-27A9EB68-5788-4220-B137-CEC1A49B78EB" class="sect4">新功能</h4>
                  <div>
                     <p>Oracle Database 18c版本18.1的新功能</p>
                     <p>以下功能是此版本中的新增功能：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>OCI支持简单Oracle文档访问（SODA）</p>
                           <p>SODA for C是一个C API，是Oracle Call Interface（OCI）的一部分。它实现了简单的Oracle文档访问（SODA）。您可以使用它对任何类型的文档执行创建，读取（检索），更新和删除（CRUD）操作，并且可以使用它来查询JSON文档。您编译使用SODA for C的程序与编译其他OCI程序的方式相同。SODA是一组NoSQL风格的API，允许您在Oracle数据库中创建和存储文档集合，检索它们并查询它们，而无需了解结构化查询语言（SQL）或文档中的数据如何存储在数据库。Oracle数据库支持存储和查询JSON数据。要访问此功能，您需要使用带有特殊JSON SQL运算符的结构化查询语言（SQL）。SODA for C隐藏了SQL / JSON编程的复杂性。</p>
                           <p>有关更多信息，请参阅以下内容： <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/lnoci&amp;id=ADSDC-GUID-6AEC7BDD-95A9-445D-AC0E-A38770C07CB8" target="_blank">SODA for C概述</a> <a href="oci-SODA-functions-listed.html#GUID-54CEBCDA-C8A8-423C-B015-EF9895E80348" title="下表列出了本章中描述的OCI SODA功能。">OCI SODA功能</a> ， <a href="oci-programming-basics.html#GUID-5F13B2EC-E29C-4710-8AD7-E97E6C28085E" title="几乎每个OCI调用都在其参数列表中包含一个或多个句柄。">句柄</a> ， <a href="handle-and-descriptor-attributes.html#GUID-3817DAD7-19A8-4C7C-8E07-01FD5D926419" title="列出并描述OCI SODA集合句柄属性。">SODA集合句柄属性</a> ， <a href="handle-and-descriptor-attributes.html#GUID-A0E8793E-C78F-451C-B779-B7608FDB82EE">SODA文档句柄属性</a> ， <a href="handle-and-descriptor-attributes.html#GUID-114FB282-8CEC-478E-8A97-FBF45A92E7A7" title="列出并描述OCI SODA操作选项句柄属性。">SODA操作选项句柄属性</a>和<a href="handle-and-descriptor-attributes.html#GUID-D6659473-2096-4457-86F2-665C9DC064B6" title="列出并描述OCI SODA输出选项句柄属性。此句柄用于返回批量操作处理的文档数。目前，它仅通过批量插入方法返回。">SODA输出选项句柄属性</a> 。
                           </p>
                        </li>
                        <li>
                           <p>OCI支持操作级别超时或操作的细粒度计时器</p>
                           <p>新服务上下文属性<code class="codeph">OCI_ATTR_CALL_TIMEOUT</code> - 用于使用<code class="codeph">OCIAttrSet()</code>函数设置毫秒超时值。允许应用程序为数据库的网络调用指定超时值。
                           </p>
                           <p>有关更多信息，请参阅<a href="handle-and-descriptor-attributes.html#GUID-D8EE68EB-7E38-4068-B06E-DF5686379E5E__DB18.1DOCMAP13892FEATURE685301OPERA-4FEAF373">OCI_ATTR_CALL_TIMEOUT</a> 。
                           </p>
                        </li>
                        <li>
                           <p>OCI对HA基础架构中的应用程序连续性的支持包括：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>为OCI动态绑定添加了支持，并为数字，字符和日期/时间类型定义。这意味着扩展了以下OCI API以支持应用程序连续性： <code class="codeph">OCIBindDynamic()</code>和<code class="codeph">OCIDefineDynamic()</code> 。
                                 </p>
                              </li>
                              <li>
                                 <p>添加了对绑定和定义对象的支持。这意味着扩展了以下OCI API以支持应用程序连续性： <code class="codeph">OCIBindObject()</code> ， <code class="codeph">OCIDefineObject()</code>和<code class="codeph">OCITypeByName()</code> 。
                                 </p>
                              </li>
                              <li>
                                 <p>在执行LOB调用期间，Application Continuity现在通过重新启动由中断中断的LOB调用来支持处理连接失败。</p>
                              </li>
                              <li>
                                 <p>OCI现在支持<code class="codeph">AUTO</code>的新应用程序连续性<code class="codeph">FAILOVER_TYPE</code> ，如果已知会话状态在显式请求边界处可恢复，则它仅尝试进行故障转移。
                                 </p>
                              </li>
                           </ul>
                           <p>有关更多信息，请参阅<a href="high-availability-in-oci.html#GUID-BC59C816-621E-496D-8CC6-23176518BE75" title="Oracle Database 18c版本18.1增加了对Application Continuity的更多支持。">关于添加的应用程序连续性支持</a> 。
                           </p>
                        </li>
                        <li>
                           <p>OCI支持绑定变量的排序规则</p>
                           <p>使用<code class="codeph">OCIAttrSet()</code> ，可以在任何支持的归类ID的绑定变量句柄上设置<code class="codeph">OCI_ATTR_COLLATION_ID</code>属性。使用<code class="codeph">OCI_ATTR_COLLATION_ID</code>设置的排序<code class="codeph">OCI_ATTR_COLLATION_ID</code>用作SQL语句中相应占位符表达式（主机变量引用）的派生排序规则。
                           </p>
                           <p>有关更多信息，请参阅<a href="handle-and-descriptor-attributes.html#GUID-01C53C14-CD15-4A8B-9EFF-86996282F3BD__OCI_ATTR_COLLATION_ID-4FEB85D9">OCI_ATTR_COLLATION_ID</a> 。
                           </p>
                        </li>
                        <li>
                           <p>OCI支持流量控制器模式下的Oracle Connection Manager</p>
                           <p>流量控制器模式中的Oracle连接管理器是放置在数据库客户端和数据库实例之间的代理。Oracle Database <span class="italic">11g</span>第2版（11.2）及更高版本支持的OCI客户端可以连接到它。流量控制器模式中的Oracle连接管理器为计划内和计划外数据库服务器中断，连接多路复用支持和负载平衡提供了改进的高可用性（HA）。
                           </p>
                           <p>流量控制器模式中的Oracle连接管理器可以使用OCI客户端<code class="codeph">oraaccess.xml</code>配置文件为在客户端和数据库实例之间提供代理的一个或多个服务配置代理驻留连接池。此功能为计划内和计划外中断提供了改进的高可用性和性能。
                           </p>
                           <p>有关详细信息<a href="build-and-configure-oci-applications.html#GUID-C171A50B-BB76-4A2F-9E9D-F96CE23BFAF7" title="Beginning with Oracle Database release 18c, version 18.1, the OCI session pool configuration can be set up using the oraaccess.xml client-side configuration file.">，请参阅oraaccess.xml中的关于</a> <a href="session-and-connection-pooling.html#GUID-BF9AFFD6-537A-4252-BBFB-3A60EEAC3E61" title="Traffic Director Mode中的Oracle Connection Manager是一个放置在支持的数据库客户端和数据库实例之间的代理。">在Traffic Director模式下使用Oracle Connection Manager</a>和<a href="build-and-configure-oci-applications.html#GUID-C171A50B-BB76-4A2F-9E9D-F96CE23BFAF7" title="从Oracle Database 18c版本18.1开始，可以使用oraaccess.xml客户端配置文件设置OCI会话池配置。">关于OCI会话池配置</a> 。
                           </p>
                        </li>
                        <li>
                           <p>新的LOB描述符属性： <code class="codeph">OCI_ATTR_LOB_TYPE</code> - 用于从LOB描述符获取LOB类型。
                           </p>
                           <p>有关更多信息，请参阅<a href="handle-and-descriptor-attributes.html#GUID-E3E231A7-00B9-42F0-B47D-A38E3F131A67__OCI_ATTR_LOB_TYPE-4FEC09DB">OCI_ATTR_LOB_TYPE</a> 。
                           </p>
                        </li>
                        <li>
                           <p>新的LOB定位符属性： <code class="codeph">OCI_ATTR_LOB_REMOTE</code> - 确定LOB定位符是属于本地数据库表还是远程数据库表。
                           </p>
                           <p>有关更多信息，请参阅<a href="handle-and-descriptor-attributes.html#GUID-E3E231A7-00B9-42F0-B47D-A38E3F131A67__OCI_ATTR_LOB_REMOTE-4FEC051C">OCI_ATTR_LOB_REMOTE</a> 。
                           </p>
                        </li>
                        <li>
                           <div class="p"><code class="codeph">OCI_ATTR_STMT_TYPE</code> - 有一个额外的语句属性类型：<ul style="list-style-type:disc">
                                 <li>
                                    <p>从Oracle Database 18c版本18.1开始添加<code class="codeph">OCI_STMT_MERGE</code> 。
                                    </p>
                                 </li>
                              </ul> 
                           </div>
                           <p>有关这些语句属性类型的详细信息，请参阅<a href="using-sql_statements-in-oci.html#GUID-91AF021D-9FCD-4A4D-A647-2F2AB5B448B8" title="通过使用语句prepare调用和任何必要的绑定调用，准备执行SQL和PL / SQL语句。">关于准备语句</a>和<a href="handle-and-descriptor-attributes.html#GUID-A251CF91-EB9F-4DBC-8BB8-FB5EA92C20DE__OCI_ATTR_STMT_TYPE-4FECC117">OCI_ATTR_STMT_TYPE</a> 。
                           </p>
                        </li>
                        <li>
                           <p>新用户会话句柄属性： <code class="codeph">OCI_ATTR_AUTOTUNING_ENABLED</code> - 检查客户端用户会话是否在OCI客户端语句缓存上启用了OCI自动调整。
                           </p>
                           <p>有关更多信息，请参阅<a href="handle-and-descriptor-attributes.html#GUID-FB263210-118E-4DB3-A840-1769EF0CB977__OCI_ATTR_AUTOTUNING_ENABLED-4FED34C0">OCI_ATTR_AUTOTUNING_ENABLED</a> 。
                           </p>
                        </li>
                        <li>
                           <p>Linux，Unix和macOS上的Instant Client Basic和Basic Light ZIP文件现在都预先<code class="codeph">libocci</code>了<code class="codeph">libclntsh</code>和<code class="codeph">libocci</code>符号链接。
                           </p>
                           <p>有关详细信息，请参阅<a href="instant-client.html#GUID-7D65474A-8790-4E81-B535-409010791C2F" title="可以通过多种方式安装Oracle Instant Client。">ZIP文件，RPM和Oracle Universal Installer中的安装</a>说明。
                           </p>
                        </li>
                        <li>
                           <p>Instant Client Basic和Basic Light Zips和RPM现在可以预先创建一个<code class="codeph">network/admin</code>目录，其中可以放置可选文件，如<code class="codeph">tnsnames.ora</code> ， <code class="codeph">sqlnet.ora</code>和<code class="codeph">oraaccess.xml</code> 。
                           </p>
                           <p>有关详细信息，请参阅<a href="instant-client.html#GUID-16475230-7573-4A14-B76A-31E4F4CEEBCA" title="软件开发工具包（SDK）是一组开发工具，可以从Oracle Technology Network网站上的Instant Client链接URL下载创建应用程序：">SDK for Oracle Instant Client中</a>的注释。
                           </p>
                        </li>
                        <li>
                           <p>新会话池句柄属性： <code class="codeph">OCI_ATTR_SPOOL_MAX_USE_SESSION</code> - 设置可以从会话池中检出一个会话的最大次数，之后会话将自动销毁。
                           </p>
                           <p>有关更多信息，请参阅<a href="handle-and-descriptor-attributes.html#GUID-34071823-66D0-4C54-BFBB-6323BDEF8015__OCI_ATTR_SPOOL_MAX_USE_SESSION-4FEDC365">OCI_ATTR_SPOOL_MAX_USE_SESSION</a> 。
                           </p>
                        </li>
                        <li>
                           <div class="p"><code class="codeph">OCI_ATTR_COL_PROPERTIES</code>属性的两个新列属性标志：<ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">OCI_ATTR_COL_PROPERTY_IS_LPART</code> - 指示这是否是为启用<code class="codeph">container_map</code>对象隐式生成的逻辑分区列。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">OCI_ATTR_COL_PROPERTY_IS_CONID</code> - 指示这是否是由<code class="codeph">CONTAINERS()</code>隐式生成的<code class="codeph">CON_ID</code>列，或者是为扩展数据链接隐式生成的<code class="codeph">ORIGIN_CON_ID</code>列。
                                    </p>
                                 </li>
                              </ul>
                           </div>
                           <p>有关更多信息，请参见<a href="describing-schema-metadata.html#GUID-B4EE393C-FE7F-4BA5-91A4-7CF6FC171C46" title="列出并描述参数用于表或视图列时的属性。">列属性</a> 。
                           </p>
                        </li>
                        <li>
                           <p>服务器版本宏的更改</p>
                           <p>由于数据库版本的组件从版本18c（版本18.1）开始更改，因此提供了用于提取每个组件的新客户端宏。结果， <code class="codeph">OCIClientVersion()</code>调用的签名被更改，并且有一个新的<code class="codeph">OCIServerRelease2()</code>调用。根据从版本18.1开始的新版本命名方案命名宏。
                           </p>
                           <p>有关更多信息，请参阅<a href="miscellaneous-functions.html#GUID-83879DA9-768D-4ED6-AFFE-F9D216E4D9B8" title="返回客户端库版本。">OCIClientVersion（）</a>和<a href="miscellaneous-functions.html#GUID-9B452987-5978-4CAF-B5B0-A998D93EC0A2" title="返回Oracle数据库版本字符串。">OCIServerRelease2（）</a> 。
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-02CB686C-1063-4640-8CC0-F1C2026EEA9B" name="GUID-02CB686C-1063-4640-8CC0-F1C2026EEA9B"></a><h4 id="LNOCI-GUID-02CB686C-1063-4640-8CC0-F1C2026EEA9B" class="sect4">不推荐的功能</h4>
                  <div>
                     <p>Oracle Database 18c版本18.1中不推荐使用的功能。</p>
                     <p>此版本中不推荐使用以下功能，并且可能在将来的版本中不支持这些功能：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">OCI_DTYPE_RSET</code> - 结果集描述符。
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>